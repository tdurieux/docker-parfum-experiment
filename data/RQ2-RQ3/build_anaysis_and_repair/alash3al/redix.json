{"repository":"https://github.com/alash3al/redix","dockerfilePath":"Dockerfile","startTime":1672708405621,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/alash3al/redix'...\n","error":null,"commit":"4b04e059b69fbb488bc7e9ddba2e4eb3c794a8ef"},"originalBuild":{"startTimestamp":1672708406552,"endTimestamp":1672708538488,"error":null,"stdout":"Sending build context to Docker daemon  3.644MB\r\r\nStep 1/12 : FROM golang:1.17.3-alpine As builder\n1.17.3-alpine: Pulling from library/golang\n59bf1c3509f3: Already exists\n666ba61612fd: Pulling fs layer\n8ed8ca486205: Pulling fs layer\nbfe7d510f522: Pulling fs layer\n560f678454b3: Pulling fs layer\n560f678454b3: Waiting\n8ed8ca486205: Download complete\n666ba61612fd: Download complete\n560f678454b3: Verifying Checksum\n560f678454b3: Download complete\n666ba61612fd: Pull complete\n8ed8ca486205: Pull complete\nbfe7d510f522: Verifying Checksum\nbfe7d510f522: Download complete\nbfe7d510f522: Pull complete\n560f678454b3: Pull complete\nDigest: sha256:a207b29286084e7342286de809756f61558b00b81f794406399027631e0dba8b\nStatus: Downloaded newer image for golang:1.17.3-alpine\n ---> 861f73fe2c7f\nStep 2/12 : WORKDIR /redix/\n ---> Running in 24d7e544498d\nRemoving intermediate container 24d7e544498d\n ---> e7a32784823d\nStep 3/12 : RUN apk update && apk add git upx\n ---> Running in 53f16396a63b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15865 distinct packages available\n(1/10) Installing brotli-libs (1.0.9-r5)\n(2/10) Installing nghttp2-libs (1.46.0-r0)\n(3/10) Installing libcurl (7.80.0-r5)\n(4/10) Installing expat (2.5.0-r0)\n(5/10) Installing pcre2 (10.40-r0)\n(6/10) Installing git (2.34.5-r0)\n(7/10) Installing libgcc (10.3.1_git20211027-r0)\n(8/10) Installing libstdc++ (10.3.1_git20211027-r0)\n(9/10) Installing ucl (1.03-r1)\n(10/10) Installing upx (3.96-r1)\nExecuting busybox-1.34.1-r3.trigger\nOK: 23 MiB in 25 packages\nRemoving intermediate container 53f16396a63b\n ---> 71319a1a0ceb\nStep 4/12 : COPY go.mod go.sum ./\n ---> c5b04a8188d0\nStep 5/12 : RUN go mod download\n ---> Running in 838a183c2758\nRemoving intermediate container 838a183c2758\n ---> 1112cae73bc6\nStep 6/12 : COPY . .\n ---> bd016b0c2dad\nStep 7/12 : RUN CGO_ENABLED=0 go build -ldflags \"-s -w\" -o /usr/bin/redix\n ---> Running in 918b0ac1736b\nRemoving intermediate container 918b0ac1736b\n ---> 34a59372df23\nStep 8/12 : RUN upx -9 /usr/bin/redix\n ---> Running in aef243e27472\n                       Ultimate Packer for eXecutables\n                          Copyright (C) 1996 - 2020\nUPX 3.96        Markus Oberhumer, Laszlo Molnar & John Reiser   Jan 23rd 2020\n\n        File size         Ratio      Format      Name\n   --------------------   ------   -----------   -----------\n   7725056 ->   2830204   36.64%   linux/amd64   redix\n\nPacked 1 file.\nRemoving intermediate container aef243e27472\n ---> 9b6f77230465\nStep 9/12 : FROM scratch\n ---> \nStep 10/12 : WORKDIR /redix/\n ---> Running in 873e3978485d\nRemoving intermediate container 873e3978485d\n ---> baf06cba8b33\nStep 11/12 : COPY --from=builder /usr/bin/redix /usr/bin/redix\n ---> b47af7fb1828\nStep 12/12 : CMD [\"/usr/bin/redix\", \"/etc/redix/redix.hcl\"]\n ---> Running in 95152b7ea4e4\nRemoving intermediate container 95152b7ea4e4\n ---> 940aac56c8b0\nSuccessfully built 940aac56c8b0\nSuccessfully tagged redix:latest\n","stderr":"","imageSize":2830204},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":18,"columnEnd":33}}],"repairedDockerfile":"FROM golang:1.17.3-alpine As builder\n\nWORKDIR /redix/\n\nRUN apk update && apk add --no-cache git upx\n\nCOPY go.mod go.sum ./\n\nRUN go mod download\n\nCOPY . .\n\nRUN CGO_ENABLED=0 go build -ldflags \"-s -w\" -o /usr/bin/redix\n\nRUN upx -9 /usr/bin/redix\n\nFROM scratch\n\nWORKDIR /redix/\n\nCOPY --from=builder /usr/bin/redix /usr/bin/redix\n\nCMD [\"/usr/bin/redix\", \"/etc/redix/redix.hcl\"]"},"repairedBuild":{"startTimestamp":1672708539040,"endTimestamp":1672708583843,"error":null,"stdout":"Sending build context to Docker daemon  3.644MB\r\r\nStep 1/12 : FROM golang:1.17.3-alpine As builder\n ---> 861f73fe2c7f\nStep 2/12 : WORKDIR /redix/\n ---> Running in 554e96ee0d55\nRemoving intermediate container 554e96ee0d55\n ---> 497a064de07c\nStep 3/12 : RUN apk update && apk add --no-cache git upx\n ---> Running in e1088c524cc5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15865 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing brotli-libs (1.0.9-r5)\n(2/10) Installing nghttp2-libs (1.46.0-r0)\n(3/10) Installing libcurl (7.80.0-r5)\n(4/10) Installing expat (2.5.0-r0)\n(5/10) Installing pcre2 (10.40-r0)\n(6/10) Installing git (2.34.5-r0)\n(7/10) Installing libgcc (10.3.1_git20211027-r0)\n(8/10) Installing libstdc++ (10.3.1_git20211027-r0)\n(9/10) Installing ucl (1.03-r1)\n(10/10) Installing upx (3.96-r1)\nExecuting busybox-1.34.1-r3.trigger\nOK: 23 MiB in 25 packages\nRemoving intermediate container e1088c524cc5\n ---> b3312f5f922e\nStep 4/12 : COPY go.mod go.sum ./\n ---> fdaceec23724\nStep 5/12 : RUN go mod download\n ---> Running in b65a831c1b56\nRemoving intermediate container b65a831c1b56\n ---> b37ff91e6c43\nStep 6/12 : COPY . .\n ---> c9eb931bed26\nStep 7/12 : RUN CGO_ENABLED=0 go build -ldflags \"-s -w\" -o /usr/bin/redix\n ---> Running in fa8347e035fc\nRemoving intermediate container fa8347e035fc\n ---> 4a3da4cb87d3\nStep 8/12 : RUN upx -9 /usr/bin/redix\n ---> Running in 5de63d57e0f8\n                       Ultimate Packer for eXecutables\n                          Copyright (C) 1996 - 2020\nUPX 3.96        Markus Oberhumer, Laszlo Molnar & John Reiser   Jan 23rd 2020\n\n        File size         Ratio      Format      Name\n   --------------------   ------   -----------   -----------\n   7725056 ->   2830204   36.64%   linux/amd64   redix\n\nPacked 1 file.\nRemoving intermediate container 5de63d57e0f8\n ---> e86915b4a06f\nStep 9/12 : FROM scratch\n ---> \nStep 10/12 : WORKDIR /redix/\n ---> Running in 48214b63c824\nRemoving intermediate container 48214b63c824\n ---> 253c506a43ef\nStep 11/12 : COPY --from=builder /usr/bin/redix /usr/bin/redix\n ---> c8864341b5dc\nStep 12/12 : CMD [\"/usr/bin/redix\", \"/etc/redix/redix.hcl\"]\n ---> Running in 9a36dfab4e9d\nRemoving intermediate container 9a36dfab4e9d\n ---> d4d6a48255da\nSuccessfully built d4d6a48255da\nSuccessfully tagged redix:latest\n","stderr":"","imageSize":2830204},"endTime":1672708584080}