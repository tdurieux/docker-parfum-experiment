{"repository":"https://github.com/tulir/mautrix-twitter","dockerfilePath":"Dockerfile","startTime":1672740359797,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tulir/mautrix-twitter'...\n","error":null,"commit":"571508b1deba8686114d99ef5d0c931123cc2799"},"originalBuild":{"startTimestamp":1672740360737,"endTimestamp":1672740399014,"error":null,"stdout":"Sending build context to Docker daemon  592.9kB\r\r\nStep 1/11 : FROM docker.io/alpine:3.17\n3.17: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:3.17\n ---> 49176f190c7e\nStep 2/11 : RUN apk add --no-cache       python3 py3-pip py3-setuptools py3-wheel       py3-pillow       py3-aiohttp       py3-magic       py3-ruamel.yaml       py3-commonmark       ca-certificates       su-exec       py3-olm       py3-cffi       py3-pycryptodome       py3-unpaddedbase64       py3-future       bash       curl       jq       yq\n ---> Running in d7932c0f160e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/71) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/71) Installing ncurses-libs (6.3_p20221119-r0)\n(3/71) Installing readline (8.2.0-r0)\n(4/71) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/71) Installing ca-certificates (20220614-r3)\n(6/71) Installing brotli-libs (1.0.9-r9)\n(7/71) Installing nghttp2-libs (1.51.0-r0)\n(8/71) Installing libcurl (7.87.0-r0)\n(9/71) Installing curl (7.87.0-r0)\n(10/71) Installing oniguruma (6.9.8-r0)\n(11/71) Installing jq (1.6-r2)\n(12/71) Installing libbz2 (1.0.8-r4)\n(13/71) Installing libexpat (2.5.0-r0)\n(14/71) Installing libffi (3.4.4-r0)\n(15/71) Installing gdbm (1.23-r0)\n(16/71) Installing xz-libs (5.2.9-r0)\n(17/71) Installing libgcc (12.2.1_git20220924-r4)\n(18/71) Installing libstdc++ (12.2.1_git20220924-r4)\n(19/71) Installing mpdecimal (2.5.1-r1)\n(20/71) Installing sqlite-libs (3.40.1-r0)\n(21/71) Installing python3 (3.10.9-r1)\n(22/71) Installing py3-frozenlist (1.3.3-r0)\n(23/71) Installing py3-aiosignal (1.3.1-r0)\n(24/71) Installing py3-typing-extensions (4.4.0-r0)\n(25/71) Installing py3-async-timeout (4.0.2-r0)\n(26/71) Installing py3-attrs (22.1.0-r0)\n(27/71) Installing py3-brotli (1.0.9-r9)\n(28/71) Installing py3-charset-normalizer (3.0.1-r0)\n(29/71) Installing py3-idna (3.4-r2)\n(30/71) Installing py3-idna-ssl (1.1.0-r6)\n(31/71) Installing py3-multidict (6.0.2-r1)\n(32/71) Installing py3-yarl (1.8.1-r1)\n(33/71) Installing py3-aiohttp (3.8.3-r0)\n(34/71) Installing py3-cparser (2.21-r0)\n(35/71) Installing py3-cffi (1.15.1-r0)\n(36/71) Installing py3-commonmark (0.9.1-r2)\n(37/71) Installing py3-future (0.18.2-r5)\n(38/71) Installing libmagic (5.43-r0)\n(39/71) Installing py3-magic (0.4.24-r1)\n(40/71) Installing olm (3.2.13-r0)\n(41/71) Installing py3-olm (3.2.13-r0)\n(42/71) Installing py3-olefile (0.46-r6)\n(43/71) Installing libpng (1.6.38-r0)\n(44/71) Installing freetype (2.12.1-r0)\n(45/71) Installing libimagequant (4.0.4-r0)\n(46/71) Installing libjpeg-turbo (2.1.4-r0)\n(47/71) Installing lcms2 (2.14-r0)\n(48/71) Installing openjpeg (2.5.0-r0)\n(49/71) Installing libwebp (1.2.4-r1)\n(50/71) Installing zstd-libs (1.5.2-r9)\n(51/71) Installing tiff (4.4.0-r1)\n(52/71) Installing libxau (1.0.10-r0)\n(53/71) Installing libmd (1.0.4-r0)\n(54/71) Installing libbsd (0.11.7-r0)\n(55/71) Installing libxdmcp (1.1.4-r0)\n(56/71) Installing libxcb (1.15-r0)\n(57/71) Installing py3-pillow (9.3.0-r0)\n(58/71) Installing py3-six (1.16.0-r3)\n(59/71) Installing py3-retrying (1.3.3-r3)\n(60/71) Installing py3-parsing (3.0.9-r0)\n(61/71) Installing py3-packaging (21.3-r2)\n(62/71) Installing py3-setuptools (65.6.0-r0)\n(63/71) Installing py3-pip (22.3.1-r1)\n(64/71) Installing gmp (6.2.1-r2)\n(65/71) Installing py3-pycryptodome (3.15.0-r0)\n(66/71) Installing py3-ruamel.yaml.clib (0.2.7-r0)\n(67/71) Installing py3-ruamel.yaml (0.17.21-r0)\n(68/71) Installing py3-unpaddedbase64 (2.1.0-r3)\n(69/71) Installing py3-wheel (0.38.4-r0)\n(70/71) Installing su-exec (0.2-r2)\n(71/71) Installing yq (4.30.4-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 133 MiB in 86 packages\nRemoving intermediate container d7932c0f160e\n ---> 7fb9e59b4f27\nStep 3/11 : COPY requirements.txt /opt/mautrix-twitter/requirements.txt\n ---> aaf2314edba5\nStep 4/11 : COPY optional-requirements.txt /opt/mautrix-twitter/optional-requirements.txt\n ---> e5d72150165e\nStep 5/11 : WORKDIR /opt/mautrix-twitter\n ---> Running in 03f3ed8387e0\nRemoving intermediate container 03f3ed8387e0\n ---> b646def78529\nStep 6/11 : RUN apk add --virtual .build-deps python3-dev libffi-dev build-base  && pip3 install --no-cache-dir -r requirements.txt -r optional-requirements.txt  && apk del .build-deps\n ---> Running in 5f2b1704056b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing pkgconf (1.9.3-r0)\n(2/21) Installing python3-dev (3.10.9-r1)\n(3/21) Installing linux-headers (5.19.5-r0)\n(4/21) Installing libffi-dev (3.4.4-r0)\n(5/21) Installing binutils (2.39-r2)\n(6/21) Installing file (5.43-r0)\n(7/21) Installing libgomp (12.2.1_git20220924-r4)\n(8/21) Installing libatomic (12.2.1_git20220924-r4)\n(9/21) Installing isl25 (0.25-r0)\n(10/21) Installing mpfr4 (4.1.0-r0)\n(11/21) Installing mpc1 (1.2.1-r1)\n(12/21) Installing gcc (12.2.1_git20220924-r4)\n(13/21) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/21) Installing musl-dev (1.2.3-r4)\n(15/21) Installing libc-dev (0.7.2-r3)\n(16/21) Installing g++ (12.2.1_git20220924-r4)\n(17/21) Installing make (4.3-r1)\n(18/21) Installing fortify-headers (1.1-r1)\n(19/21) Installing patch (2.7.6-r8)\n(20/21) Installing build-base (0.5-r3)\n(21/21) Installing .build-deps (20230103.100618)\nExecuting busybox-1.35.0-r29.trigger\nOK: 415 MiB in 107 packages\nRequirement already satisfied: ruamel.yaml<0.18,>=0.15.35 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 1)) (0.17.21)\nRequirement already satisfied: python-magic<0.5,>=0.4 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 2)) (0.4.24)\nRequirement already satisfied: commonmark<0.10,>=0.8 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 3)) (0.9.1)\nRequirement already satisfied: aiohttp<4,>=3 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 4)) (3.8.3)\nRequirement already satisfied: yarl<2,>=1 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 5)) (1.8.1)\nRequirement already satisfied: attrs>=20.1 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 6)) (22.1.0)\nCollecting mautrix<0.19,>=0.18.1\n  Downloading mautrix-0.18.9-py3-none-any.whl (313 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 313.3/313.3 kB 21.5 MB/s eta 0:00:00\nCollecting asyncpg<0.27,>=0.20\n  Downloading asyncpg-0.26.0-cp310-cp310-musllinux_1_1_x86_64.whl (3.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.2/3.2 MB 123.0 MB/s eta 0:00:00\nRequirement already satisfied: python-olm<4,>=3 in /usr/lib/python3.10/site-packages (from -r optional-requirements.txt (line 5)) (3.2.13)\nRequirement already satisfied: pycryptodome<4,>=3 in /usr/lib/python3.10/site-packages (from -r optional-requirements.txt (line 6)) (3.15.0)\nRequirement already satisfied: unpaddedbase64<3,>=1 in /usr/lib/python3.10/site-packages (from -r optional-requirements.txt (line 7)) (2.1.0)\nCollecting prometheus_client<0.15,>=0.6\n  Downloading prometheus_client-0.14.1-py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.5/59.5 kB 270.0 MB/s eta 0:00:00\nCollecting aiosqlite<0.18,>=0.16\n  Downloading aiosqlite-0.17.0-py3-none-any.whl (15 kB)\nRequirement already satisfied: ruamel.yaml.clib>=0.2.6 in /usr/lib/python3.10/site-packages (from ruamel.yaml<0.18,>=0.15.35->-r requirements.txt (line 1)) (0.2.7)\nRequirement already satisfied: charset-normalizer<4.0,>=2.0 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (3.0.1)\nRequirement already satisfied: multidict<7.0,>=4.5 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (6.0.2)\nRequirement already satisfied: async_timeout<5.0,>=4.0.0a3 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (4.0.2)\nRequirement already satisfied: frozenlist>=1.1.1 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (1.3.3)\nRequirement already satisfied: aiosignal>=1.1.2 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (1.3.1)\nRequirement already satisfied: idna>=2.0 in /usr/lib/python3.10/site-packages (from yarl<2,>=1->-r requirements.txt (line 5)) (3.4)\nRequirement already satisfied: cffi>=1.0.0 in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->-r optional-requirements.txt (line 5)) (1.15.1)\nRequirement already satisfied: future in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->-r optional-requirements.txt (line 5)) (0.18.2)\nRequirement already satisfied: typing_extensions>=3.7.2 in /usr/lib/python3.10/site-packages (from aiosqlite<0.18,>=0.16->-r optional-requirements.txt (line 13)) (4.4.0)\nRequirement already satisfied: pycparser in /usr/lib/python3.10/site-packages (from cffi>=1.0.0->python-olm<4,>=3->-r optional-requirements.txt (line 5)) (2.21)\nInstalling collected packages: prometheus_client, asyncpg, aiosqlite, mautrix\nSuccessfully installed aiosqlite-0.17.0 asyncpg-0.26.0 mautrix-0.18.9 prometheus_client-0.14.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m(1/21) Purging .build-deps (20230103.100618)\n(2/21) Purging python3-dev (3.10.9-r1)\n(3/21) Purging libffi-dev (3.4.4-r0)\n(4/21) Purging linux-headers (5.19.5-r0)\n(5/21) Purging build-base (0.5-r3)\n(6/21) Purging file (5.43-r0)\n(7/21) Purging g++ (12.2.1_git20220924-r4)\n(8/21) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(9/21) Purging gcc (12.2.1_git20220924-r4)\n(10/21) Purging binutils (2.39-r2)\n(11/21) Purging libatomic (12.2.1_git20220924-r4)\n(12/21) Purging libgomp (12.2.1_git20220924-r4)\n(13/21) Purging make (4.3-r1)\n(14/21) Purging libc-dev (0.7.2-r3)\n(15/21) Purging musl-dev (1.2.3-r4)\n(16/21) Purging fortify-headers (1.1-r1)\n(17/21) Purging patch (2.7.6-r8)\n(18/21) Purging pkgconf (1.9.3-r0)\n(19/21) Purging isl25 (0.25-r0)\n(20/21) Purging mpc1 (1.2.1-r1)\n(21/21) Purging mpfr4 (4.1.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 133 MiB in 86 packages\nRemoving intermediate container 5f2b1704056b\n ---> 5ef55c74909b\nStep 7/11 : COPY . /opt/mautrix-twitter\n ---> 1362fcacd776\nStep 8/11 : RUN apk add git && pip3 install --no-cache-dir .[e2be] && apk del git   && cp mautrix_twitter/example-config.yaml . && rm -rf mautrix_twitter .git build\n ---> Running in 0b1b716e503d\n(1/2) Installing pcre2 (10.42-r0)\n(2/2) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 140 MiB in 88 packages\nProcessing /opt/mautrix-twitter\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nRequirement already satisfied: python-magic<0.5,>=0.4 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.4.24)\nRequirement already satisfied: asyncpg<0.27,>=0.20 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.26.0)\nRequirement already satisfied: yarl<2,>=1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (1.8.1)\nRequirement already satisfied: commonmark<0.10,>=0.8 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.9.1)\nRequirement already satisfied: ruamel.yaml<0.18,>=0.15.35 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.17.21)\nRequirement already satisfied: aiohttp<4,>=3 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (3.8.3)\nRequirement already satisfied: mautrix<0.19,>=0.18.1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.18.9)\nRequirement already satisfied: attrs>=20.1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (22.1.0)\nRequirement already satisfied: pycryptodome<4,>=3 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (3.15.0)\nRequirement already satisfied: unpaddedbase64<3,>=1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (2.1.0)\nRequirement already satisfied: python-olm<4,>=3 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (3.2.13)\nRequirement already satisfied: charset-normalizer<4.0,>=2.0 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (3.0.1)\nRequirement already satisfied: multidict<7.0,>=4.5 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (6.0.2)\nRequirement already satisfied: async_timeout<5.0,>=4.0.0a3 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (4.0.2)\nRequirement already satisfied: frozenlist>=1.1.1 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (1.3.3)\nRequirement already satisfied: aiosignal>=1.1.2 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (1.3.1)\nRequirement already satisfied: cffi>=1.0.0 in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (1.15.1)\nRequirement already satisfied: future in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (0.18.2)\nRequirement already satisfied: ruamel.yaml.clib>=0.2.6 in /usr/lib/python3.10/site-packages (from ruamel.yaml<0.18,>=0.15.35->mautrix-twitter==0.1.5+dev.571508b1) (0.2.7)\nRequirement already satisfied: idna>=2.0 in /usr/lib/python3.10/site-packages (from yarl<2,>=1->mautrix-twitter==0.1.5+dev.571508b1) (3.4)\nRequirement already satisfied: pycparser in /usr/lib/python3.10/site-packages (from cffi>=1.0.0->python-olm<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (2.21)\nBuilding wheels for collected packages: mautrix-twitter\n  Building wheel for mautrix-twitter (pyproject.toml): started\n  Building wheel for mautrix-twitter (pyproject.toml): finished with status 'done'\n  Created wheel for mautrix-twitter: filename=mautrix_twitter-0.1.5+dev.571508b1-py3-none-any.whl size=92822 sha256=19952c44a73ea8feade485ffcd628193c3d6db2ebdbdf344fca3bdc9173f2566\n  Stored in directory: /tmp/pip-ephem-wheel-cache-9o3zerxq/wheels/36/80/e3/7d113d67b23d6da05881f56e8c823d90aa451e69cf5b02e3b5\nSuccessfully built mautrix-twitter\nInstalling collected packages: mautrix-twitter\nSuccessfully installed mautrix-twitter-0.1.5+dev.571508b1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m(1/2) Purging git (2.38.2-r0)\n(2/2) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 133 MiB in 86 packages\nRemoving intermediate container 0b1b716e503d\n ---> 68a3988e98cd\nStep 9/11 : VOLUME /data\n ---> Running in 9e98c5596f69\nRemoving intermediate container 9e98c5596f69\n ---> 54159f097533\nStep 10/11 : ENV UID=1337 GID=1337\n ---> Running in 566c21a3a307\nRemoving intermediate container 566c21a3a307\n ---> bf70f8935c58\nStep 11/11 : CMD [\"/opt/mautrix-twitter/docker-run.sh\"]\n ---> Running in 5c68980708a8\nRemoving intermediate container 5c68980708a8\n ---> 1aafde81782d\nSuccessfully built 1aafde81782d\nSuccessfully tagged mautrix-twitter:latest\n","stderr":"","imageSize":146104808},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":27,"end":27,"columnStart":4,"columnEnd":67}},{"name":"apkAddUseNoCache","position":{"start":32,"end":32,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM docker.io/alpine:3.17\n\nRUN apk add --no-cache \\\n      python3 py3-pip py3-setuptools py3-wheel \\\n      py3-pillow \\\n      py3-aiohttp \\\n      py3-magic \\\n      py3-ruamel.yaml \\\n      py3-commonmark \\\n      #py3-prometheus-client \\\n      # Other dependencies\n      ca-certificates \\\n      su-exec \\\n      # encryption\n      py3-olm \\\n      py3-cffi \\\n      py3-pycryptodome \\\n      py3-unpaddedbase64 \\\n      py3-future \\\n      bash \\\n      curl \\\n      jq \\\n      yq\n\nCOPY requirements.txt /opt/mautrix-twitter/requirements.txt\nCOPY optional-requirements.txt /opt/mautrix-twitter/optional-requirements.txt\nWORKDIR /opt/mautrix-twitter\nRUN apk add --no-cache --virtual .build-deps python3-dev libffi-dev build-base \\\n && pip3 install --no-cache-dir -r requirements.txt -r optional-requirements.txt \\\n && apk del .build-deps\n\nCOPY . /opt/mautrix-twitter\nRUN apk add --no-cache git && pip3 install --no-cache-dir .[e2be] && apk del git \\\n  # This doesn't make the image smaller, but it's needed so that the `version` command works properly\n  && cp mautrix_twitter/example-config.yaml . && rm -rf mautrix_twitter .git build\n\nVOLUME /data\nENV UID=1337 GID=1337\n\nCMD [\"/opt/mautrix-twitter/docker-run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672740399504,"endTimestamp":1672740425398,"error":null,"stdout":"Sending build context to Docker daemon  592.9kB\r\r\nStep 1/11 : FROM docker.io/alpine:3.17\n ---> 49176f190c7e\nStep 2/11 : RUN apk add --no-cache       python3 py3-pip py3-setuptools py3-wheel       py3-pillow       py3-aiohttp       py3-magic       py3-ruamel.yaml       py3-commonmark       ca-certificates       su-exec       py3-olm       py3-cffi       py3-pycryptodome       py3-unpaddedbase64       py3-future       bash       curl       jq       yq\n ---> Running in f6dc5f3c48d5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/71) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/71) Installing ncurses-libs (6.3_p20221119-r0)\n(3/71) Installing readline (8.2.0-r0)\n(4/71) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/71) Installing ca-certificates (20220614-r3)\n(6/71) Installing brotli-libs (1.0.9-r9)\n(7/71) Installing nghttp2-libs (1.51.0-r0)\n(8/71) Installing libcurl (7.87.0-r0)\n(9/71) Installing curl (7.87.0-r0)\n(10/71) Installing oniguruma (6.9.8-r0)\n(11/71) Installing jq (1.6-r2)\n(12/71) Installing libbz2 (1.0.8-r4)\n(13/71) Installing libexpat (2.5.0-r0)\n(14/71) Installing libffi (3.4.4-r0)\n(15/71) Installing gdbm (1.23-r0)\n(16/71) Installing xz-libs (5.2.9-r0)\n(17/71) Installing libgcc (12.2.1_git20220924-r4)\n(18/71) Installing libstdc++ (12.2.1_git20220924-r4)\n(19/71) Installing mpdecimal (2.5.1-r1)\n(20/71) Installing sqlite-libs (3.40.1-r0)\n(21/71) Installing python3 (3.10.9-r1)\n(22/71) Installing py3-frozenlist (1.3.3-r0)\n(23/71) Installing py3-aiosignal (1.3.1-r0)\n(24/71) Installing py3-typing-extensions (4.4.0-r0)\n(25/71) Installing py3-async-timeout (4.0.2-r0)\n(26/71) Installing py3-attrs (22.1.0-r0)\n(27/71) Installing py3-brotli (1.0.9-r9)\n(28/71) Installing py3-charset-normalizer (3.0.1-r0)\n(29/71) Installing py3-idna (3.4-r2)\n(30/71) Installing py3-idna-ssl (1.1.0-r6)\n(31/71) Installing py3-multidict (6.0.2-r1)\n(32/71) Installing py3-yarl (1.8.1-r1)\n(33/71) Installing py3-aiohttp (3.8.3-r0)\n(34/71) Installing py3-cparser (2.21-r0)\n(35/71) Installing py3-cffi (1.15.1-r0)\n(36/71) Installing py3-commonmark (0.9.1-r2)\n(37/71) Installing py3-future (0.18.2-r5)\n(38/71) Installing libmagic (5.43-r0)\n(39/71) Installing py3-magic (0.4.24-r1)\n(40/71) Installing olm (3.2.13-r0)\n(41/71) Installing py3-olm (3.2.13-r0)\n(42/71) Installing py3-olefile (0.46-r6)\n(43/71) Installing libpng (1.6.38-r0)\n(44/71) Installing freetype (2.12.1-r0)\n(45/71) Installing libimagequant (4.0.4-r0)\n(46/71) Installing libjpeg-turbo (2.1.4-r0)\n(47/71) Installing lcms2 (2.14-r0)\n(48/71) Installing openjpeg (2.5.0-r0)\n(49/71) Installing libwebp (1.2.4-r1)\n(50/71) Installing zstd-libs (1.5.2-r9)\n(51/71) Installing tiff (4.4.0-r1)\n(52/71) Installing libxau (1.0.10-r0)\n(53/71) Installing libmd (1.0.4-r0)\n(54/71) Installing libbsd (0.11.7-r0)\n(55/71) Installing libxdmcp (1.1.4-r0)\n(56/71) Installing libxcb (1.15-r0)\n(57/71) Installing py3-pillow (9.3.0-r0)\n(58/71) Installing py3-six (1.16.0-r3)\n(59/71) Installing py3-retrying (1.3.3-r3)\n(60/71) Installing py3-parsing (3.0.9-r0)\n(61/71) Installing py3-packaging (21.3-r2)\n(62/71) Installing py3-setuptools (65.6.0-r0)\n(63/71) Installing py3-pip (22.3.1-r1)\n(64/71) Installing gmp (6.2.1-r2)\n(65/71) Installing py3-pycryptodome (3.15.0-r0)\n(66/71) Installing py3-ruamel.yaml.clib (0.2.7-r0)\n(67/71) Installing py3-ruamel.yaml (0.17.21-r0)\n(68/71) Installing py3-unpaddedbase64 (2.1.0-r3)\n(69/71) Installing py3-wheel (0.38.4-r0)\n(70/71) Installing su-exec (0.2-r2)\n(71/71) Installing yq (4.30.4-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 133 MiB in 86 packages\nRemoving intermediate container f6dc5f3c48d5\n ---> 9e21326ce5d5\nStep 3/11 : COPY requirements.txt /opt/mautrix-twitter/requirements.txt\n ---> 1f9b16e54103\nStep 4/11 : COPY optional-requirements.txt /opt/mautrix-twitter/optional-requirements.txt\n ---> ed15fa6bddac\nStep 5/11 : WORKDIR /opt/mautrix-twitter\n ---> Running in ab686197f41a\nRemoving intermediate container ab686197f41a\n ---> 0d69416b5689\nStep 6/11 : RUN apk add --no-cache --virtual .build-deps python3-dev libffi-dev build-base  && pip3 install --no-cache-dir -r requirements.txt -r optional-requirements.txt  && apk del .build-deps\n ---> Running in c66c12e9a7c6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing pkgconf (1.9.3-r0)\n(2/21) Installing python3-dev (3.10.9-r1)\n(3/21) Installing linux-headers (5.19.5-r0)\n(4/21) Installing libffi-dev (3.4.4-r0)\n(5/21) Installing binutils (2.39-r2)\n(6/21) Installing file (5.43-r0)\n(7/21) Installing libgomp (12.2.1_git20220924-r4)\n(8/21) Installing libatomic (12.2.1_git20220924-r4)\n(9/21) Installing isl25 (0.25-r0)\n(10/21) Installing mpfr4 (4.1.0-r0)\n(11/21) Installing mpc1 (1.2.1-r1)\n(12/21) Installing gcc (12.2.1_git20220924-r4)\n(13/21) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/21) Installing musl-dev (1.2.3-r4)\n(15/21) Installing libc-dev (0.7.2-r3)\n(16/21) Installing g++ (12.2.1_git20220924-r4)\n(17/21) Installing make (4.3-r1)\n(18/21) Installing fortify-headers (1.1-r1)\n(19/21) Installing patch (2.7.6-r8)\n(20/21) Installing build-base (0.5-r3)\n(21/21) Installing .build-deps (20230103.100650)\nExecuting busybox-1.35.0-r29.trigger\nOK: 415 MiB in 107 packages\nRequirement already satisfied: ruamel.yaml<0.18,>=0.15.35 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 1)) (0.17.21)\nRequirement already satisfied: python-magic<0.5,>=0.4 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 2)) (0.4.24)\nRequirement already satisfied: commonmark<0.10,>=0.8 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 3)) (0.9.1)\nRequirement already satisfied: aiohttp<4,>=3 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 4)) (3.8.3)\nRequirement already satisfied: yarl<2,>=1 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 5)) (1.8.1)\nRequirement already satisfied: attrs>=20.1 in /usr/lib/python3.10/site-packages (from -r requirements.txt (line 6)) (22.1.0)\nCollecting mautrix<0.19,>=0.18.1\n  Downloading mautrix-0.18.9-py3-none-any.whl (313 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 313.3/313.3 kB 15.6 MB/s eta 0:00:00\nCollecting asyncpg<0.27,>=0.20\n  Downloading asyncpg-0.26.0-cp310-cp310-musllinux_1_1_x86_64.whl (3.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.2/3.2 MB 124.6 MB/s eta 0:00:00\nRequirement already satisfied: python-olm<4,>=3 in /usr/lib/python3.10/site-packages (from -r optional-requirements.txt (line 5)) (3.2.13)\nRequirement already satisfied: pycryptodome<4,>=3 in /usr/lib/python3.10/site-packages (from -r optional-requirements.txt (line 6)) (3.15.0)\nRequirement already satisfied: unpaddedbase64<3,>=1 in /usr/lib/python3.10/site-packages (from -r optional-requirements.txt (line 7)) (2.1.0)\nCollecting prometheus_client<0.15,>=0.6\n  Downloading prometheus_client-0.14.1-py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.5/59.5 kB 269.7 MB/s eta 0:00:00\nCollecting aiosqlite<0.18,>=0.16\n  Downloading aiosqlite-0.17.0-py3-none-any.whl (15 kB)\nRequirement already satisfied: ruamel.yaml.clib>=0.2.6 in /usr/lib/python3.10/site-packages (from ruamel.yaml<0.18,>=0.15.35->-r requirements.txt (line 1)) (0.2.7)\nRequirement already satisfied: charset-normalizer<4.0,>=2.0 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (3.0.1)\nRequirement already satisfied: multidict<7.0,>=4.5 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (6.0.2)\nRequirement already satisfied: async_timeout<5.0,>=4.0.0a3 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (4.0.2)\nRequirement already satisfied: frozenlist>=1.1.1 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (1.3.3)\nRequirement already satisfied: aiosignal>=1.1.2 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->-r requirements.txt (line 4)) (1.3.1)\nRequirement already satisfied: idna>=2.0 in /usr/lib/python3.10/site-packages (from yarl<2,>=1->-r requirements.txt (line 5)) (3.4)\nRequirement already satisfied: cffi>=1.0.0 in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->-r optional-requirements.txt (line 5)) (1.15.1)\nRequirement already satisfied: future in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->-r optional-requirements.txt (line 5)) (0.18.2)\nRequirement already satisfied: typing_extensions>=3.7.2 in /usr/lib/python3.10/site-packages (from aiosqlite<0.18,>=0.16->-r optional-requirements.txt (line 13)) (4.4.0)\nRequirement already satisfied: pycparser in /usr/lib/python3.10/site-packages (from cffi>=1.0.0->python-olm<4,>=3->-r optional-requirements.txt (line 5)) (2.21)\nInstalling collected packages: prometheus_client, asyncpg, aiosqlite, mautrix\nSuccessfully installed aiosqlite-0.17.0 asyncpg-0.26.0 mautrix-0.18.9 prometheus_client-0.14.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/21) Purging .build-deps (20230103.100650)\n(2/21) Purging python3-dev (3.10.9-r1)\n(3/21) Purging libffi-dev (3.4.4-r0)\n(4/21) Purging linux-headers (5.19.5-r0)\n(5/21) Purging build-base (0.5-r3)\n(6/21) Purging file (5.43-r0)\n(7/21) Purging g++ (12.2.1_git20220924-r4)\n(8/21) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(9/21) Purging gcc (12.2.1_git20220924-r4)\n(10/21) Purging binutils (2.39-r2)\n(11/21) Purging libatomic (12.2.1_git20220924-r4)\n(12/21) Purging libgomp (12.2.1_git20220924-r4)\n(13/21) Purging make (4.3-r1)\n(14/21) Purging libc-dev (0.7.2-r3)\n(15/21) Purging musl-dev (1.2.3-r4)\n(16/21) Purging fortify-headers (1.1-r1)\n(17/21) Purging patch (2.7.6-r8)\n(18/21) Purging pkgconf (1.9.3-r0)\n(19/21) Purging isl25 (0.25-r0)\n(20/21) Purging mpc1 (1.2.1-r1)\n(21/21) Purging mpfr4 (4.1.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 133 MiB in 86 packages\nRemoving intermediate container c66c12e9a7c6\n ---> ae47be2b7056\nStep 7/11 : COPY . /opt/mautrix-twitter\n ---> 4528129cb145\nStep 8/11 : RUN apk add --no-cache git && pip3 install --no-cache-dir .[e2be] && apk del git   && cp mautrix_twitter/example-config.yaml . && rm -rf mautrix_twitter .git build\n ---> Running in b96ede94a7dc\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing pcre2 (10.42-r0)\n(2/2) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 140 MiB in 88 packages\nProcessing /opt/mautrix-twitter\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nRequirement already satisfied: attrs>=20.1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (22.1.0)\nRequirement already satisfied: asyncpg<0.27,>=0.20 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.26.0)\nRequirement already satisfied: aiohttp<4,>=3 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (3.8.3)\nRequirement already satisfied: python-magic<0.5,>=0.4 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.4.24)\nRequirement already satisfied: yarl<2,>=1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (1.8.1)\nRequirement already satisfied: mautrix<0.19,>=0.18.1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.18.9)\nRequirement already satisfied: ruamel.yaml<0.18,>=0.15.35 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.17.21)\nRequirement already satisfied: commonmark<0.10,>=0.8 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (0.9.1)\nRequirement already satisfied: python-olm<4,>=3 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (3.2.13)\nRequirement already satisfied: pycryptodome<4,>=3 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (3.15.0)\nRequirement already satisfied: unpaddedbase64<3,>=1 in /usr/lib/python3.10/site-packages (from mautrix-twitter==0.1.5+dev.571508b1) (2.1.0)\nRequirement already satisfied: charset-normalizer<4.0,>=2.0 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (3.0.1)\nRequirement already satisfied: multidict<7.0,>=4.5 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (6.0.2)\nRequirement already satisfied: async_timeout<5.0,>=4.0.0a3 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (4.0.2)\nRequirement already satisfied: frozenlist>=1.1.1 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (1.3.3)\nRequirement already satisfied: aiosignal>=1.1.2 in /usr/lib/python3.10/site-packages (from aiohttp<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (1.3.1)\nRequirement already satisfied: cffi>=1.0.0 in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (1.15.1)\nRequirement already satisfied: future in /usr/lib/python3.10/site-packages (from python-olm<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (0.18.2)\nRequirement already satisfied: ruamel.yaml.clib>=0.2.6 in /usr/lib/python3.10/site-packages (from ruamel.yaml<0.18,>=0.15.35->mautrix-twitter==0.1.5+dev.571508b1) (0.2.7)\nRequirement already satisfied: idna>=2.0 in /usr/lib/python3.10/site-packages (from yarl<2,>=1->mautrix-twitter==0.1.5+dev.571508b1) (3.4)\nRequirement already satisfied: pycparser in /usr/lib/python3.10/site-packages (from cffi>=1.0.0->python-olm<4,>=3->mautrix-twitter==0.1.5+dev.571508b1) (2.21)\nBuilding wheels for collected packages: mautrix-twitter\n  Building wheel for mautrix-twitter (pyproject.toml): started\n  Building wheel for mautrix-twitter (pyproject.toml): finished with status 'done'\n  Created wheel for mautrix-twitter: filename=mautrix_twitter-0.1.5+dev.571508b1-py3-none-any.whl size=92822 sha256=0ba812b05fba866f246efb18d0b8b1ac1f70497c4ea3b9be8564804fdec8e564\n  Stored in directory: /tmp/pip-ephem-wheel-cache-xiol920o/wheels/36/80/e3/7d113d67b23d6da05881f56e8c823d90aa451e69cf5b02e3b5\nSuccessfully built mautrix-twitter\nInstalling collected packages: mautrix-twitter\nSuccessfully installed mautrix-twitter-0.1.5+dev.571508b1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/2) Purging git (2.38.2-r0)\n(2/2) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 133 MiB in 86 packages\nRemoving intermediate container b96ede94a7dc\n ---> 2c98b9a3f6f1\nStep 9/11 : VOLUME /data\n ---> Running in 52c9a6f6b213\nRemoving intermediate container 52c9a6f6b213\n ---> 3091de9e07dc\nStep 10/11 : ENV UID=1337 GID=1337\n ---> Running in 3fa01079b0f4\nRemoving intermediate container 3fa01079b0f4\n ---> 3da1d68b96de\nStep 11/11 : CMD [\"/opt/mautrix-twitter/docker-run.sh\"]\n ---> Running in 9d3b135dded3\nRemoving intermediate container 9d3b135dded3\n ---> 34058cf4ef03\nSuccessfully built 34058cf4ef03\nSuccessfully tagged mautrix-twitter:latest\n","stderr":"","imageSize":143521984},"endTime":1672740425813}