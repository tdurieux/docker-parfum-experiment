{"repository":"https://github.com/publici/fec-loader","dockerfilePath":"Dockerfile","startTime":1672375737287,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/publici/fec-loader'...\n","error":null,"commit":"4c2aa527e955e2347aec7eae84f8199667873f77"},"originalBuild":{"startTimestamp":1672375738226,"endTimestamp":1672375845937,"error":null,"stdout":"Sending build context to Docker daemon  623.6kB\r\r\nStep 1/10 : FROM publicintegrity/loader\nlatest: Pulling from publicintegrity/loader\nc9b1b535fdd9: Pulling fs layer\n2cc5ad85d9ab: Pulling fs layer\n53a2fca3c2ea: Pulling fs layer\n30fce49de8b1: Pulling fs layer\nca406aaf66e0: Pulling fs layer\n469decd8a7d7: Pulling fs layer\n469decd8a7d7: Waiting\n30fce49de8b1: Waiting\nca406aaf66e0: Waiting\n53a2fca3c2ea: Waiting\n2cc5ad85d9ab: Waiting\nc9b1b535fdd9: Verifying Checksum\nc9b1b535fdd9: Download complete\nc9b1b535fdd9: Pull complete\n2cc5ad85d9ab: Verifying Checksum\n2cc5ad85d9ab: Download complete\n2cc5ad85d9ab: Pull complete\n30fce49de8b1: Verifying Checksum\n30fce49de8b1: Download complete\n469decd8a7d7: Verifying Checksum\n469decd8a7d7: Download complete\nca406aaf66e0: Verifying Checksum\nca406aaf66e0: Download complete\n53a2fca3c2ea: Download complete\n53a2fca3c2ea: Pull complete\n30fce49de8b1: Pull complete\nca406aaf66e0: Pull complete\n469decd8a7d7: Pull complete\nDigest: sha256:58d1e661caf7251b09a44df9a78a724476ee79f8414c07577bab3cf9ed7699f7\nStatus: Downloaded newer image for publicintegrity/loader:latest\n ---> 86a5b225c185\nStep 2/10 : RUN pip install awscli\n ---> Running in 3aad406307b5\nCollecting awscli\n  Downloading awscli-1.27.40-py3-none-any.whl (4.0 MB)\nCollecting rsa<4.8,>=3.1.2\n  Downloading rsa-4.7.2-py3-none-any.whl (34 kB)\nCollecting docutils<0.17,>=0.10\n  Downloading docutils-0.16-py2.py3-none-any.whl (548 kB)\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\nCollecting colorama<0.4.5,>=0.2.5\n  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)\nCollecting PyYAML<5.5,>=3.10\n  Downloading PyYAML-5.4.1.tar.gz (175 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting botocore==1.29.40\n  Downloading botocore-1.29.40-py3-none-any.whl (10.3 MB)\nCollecting pyasn1>=0.1.3\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (PEP 517): started\n  Building wheel for PyYAML (PEP 517): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.4.1-cp37-cp37m-linux_x86_64.whl size=45659 sha256=f88e89d4fe45dbacc5c77d9600bd90f3a4c8b41c54718eeef65a0378868b3e63\n  Stored in directory: /root/.cache/pip/wheels/f4/51/cc/858604f7bb9cab887106ff266a541546ad783b4fa20875051d\nSuccessfully built PyYAML\nInstalling collected packages: pyasn1, rsa, docutils, urllib3, six, python-dateutil, jmespath, botocore, s3transfer, colorama, PyYAML, awscli\nSuccessfully installed PyYAML-5.4.1 awscli-1.27.40 botocore-1.29.40 colorama-0.4.4 docutils-0.16 jmespath-1.0.1 pyasn1-0.4.8 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: You are using pip version 20.0.2; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 3aad406307b5\n ---> 21679e1ec0ea\nStep 3/10 : RUN apk --update add jq sed curl gzip && rm -rf /var/cache/apk/*\n ---> Running in b5d2cfd288de\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nOK: 88 MiB in 57 packages\nRemoving intermediate container b5d2cfd288de\n ---> 98f20affd5ec\nStep 4/10 : RUN mkdir -p /usr/src/app\n ---> Running in a70256dc1399\nRemoving intermediate container a70256dc1399\n ---> 489da8cc364b\nStep 5/10 : WORKDIR /usr/src/app\n ---> Running in e30abfbd31c5\nRemoving intermediate container e30abfbd31c5\n ---> 0bc58948700d\nStep 6/10 : ARG NODE_ENV\n ---> Running in 8bda792acd5b\nRemoving intermediate container 8bda792acd5b\n ---> 67e1ade02473\nStep 7/10 : ENV NODE_ENV $NODE_ENV\n ---> Running in 5c2b9670ac7d\nRemoving intermediate container 5c2b9670ac7d\n ---> 94011f4b58e9\nStep 8/10 : COPY . /usr/src/app\n ---> 7f663160766b\nStep 9/10 : RUN npm ci && npm cache clean --force\n ---> Running in c6620598df45\nadded 776 packages in 5.63s\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container c6620598df45\n ---> f780975ee377\nStep 10/10 : CMD [\"node\",\"./bin/fec\"]\n ---> Running in 936d6d6ea2fe\nRemoving intermediate container 936d6d6ea2fe\n ---> 810e70a32faa\nSuccessfully built 810e70a32faa\nSuccessfully tagged fec-loader:latest\n","stderr":"","imageSize":337684557},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":2,"end":2,"columnStart":4,"columnEnd":22}},{"name":"mkdirUsrSrcThenRemove","position":{"start":6,"end":6,"columnStart":4,"columnEnd":25}},{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":37}}],"repairedDockerfile":"FROM publicintegrity/loader\n\nRUN pip install --no-cache-dir awscli\nRUN apk --update --no-cache add jq sed curl gzip && rm -rf /var/cache/apk/*\n\n# https://github.com/nodejs/docker-node/blob/master/6/onbuild/Dockerfile\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\nARG NODE_ENV\nENV NODE_ENV $NODE_ENV\nCOPY . /usr/src/app\nRUN npm ci && npm cache clean --force\n\nCMD [\"node\",\"./bin/fec\"]\n"},"repairedBuild":{"startTimestamp":1672375846679,"endTimestamp":1672375907758,"error":null,"stdout":"Sending build context to Docker daemon  623.6kB\r\r\nStep 1/10 : FROM publicintegrity/loader\n ---> 86a5b225c185\nStep 2/10 : RUN pip install --no-cache-dir awscli\n ---> Running in 1679a8be5317\nCollecting awscli\n  Downloading awscli-1.27.40-py3-none-any.whl (4.0 MB)\nCollecting botocore==1.29.40\n  Downloading botocore-1.29.40-py3-none-any.whl (10.3 MB)\nCollecting colorama<0.4.5,>=0.2.5\n  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)\nCollecting rsa<4.8,>=3.1.2\n  Downloading rsa-4.7.2-py3-none-any.whl (34 kB)\nCollecting PyYAML<5.5,>=3.10\n  Downloading PyYAML-5.4.1.tar.gz (175 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\nCollecting docutils<0.17,>=0.10\n  Downloading docutils-0.16-py2.py3-none-any.whl (548 kB)\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting pyasn1>=0.1.3\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (PEP 517): started\n  Building wheel for PyYAML (PEP 517): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.4.1-cp37-cp37m-linux_x86_64.whl size=45659 sha256=4f6ddea4cff57c4d8b4b370bcda6a745ca343587d785b5af72e386105525a465\n  Stored in directory: /tmp/pip-ephem-wheel-cache-q0k1ps7w/wheels/f4/51/cc/858604f7bb9cab887106ff266a541546ad783b4fa20875051d\nSuccessfully built PyYAML\nInstalling collected packages: six, python-dateutil, jmespath, urllib3, botocore, colorama, pyasn1, rsa, PyYAML, s3transfer, docutils, awscli\nSuccessfully installed PyYAML-5.4.1 awscli-1.27.40 botocore-1.29.40 colorama-0.4.4 docutils-0.16 jmespath-1.0.1 pyasn1-0.4.8 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: You are using pip version 20.0.2; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 1679a8be5317\n ---> 4e2b2fd762e5\nStep 3/10 : RUN apk --update --no-cache add jq sed curl gzip && rm -rf /var/cache/apk/*\n ---> Running in 90bf8efb3c87\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nOK: 88 MiB in 57 packages\nRemoving intermediate container 90bf8efb3c87\n ---> e52a0ff1441b\nStep 4/10 : RUN mkdir -p /usr/src/app\n ---> Running in 09fd55d86117\nRemoving intermediate container 09fd55d86117\n ---> aba04f0ac172\nStep 5/10 : WORKDIR /usr/src/app\n ---> Running in 831129b94d27\nRemoving intermediate container 831129b94d27\n ---> fadd1f516f81\nStep 6/10 : ARG NODE_ENV\n ---> Running in 7fc2bb5b2850\nRemoving intermediate container 7fc2bb5b2850\n ---> f9a807210633\nStep 7/10 : ENV NODE_ENV $NODE_ENV\n ---> Running in a4315dc73f1a\nRemoving intermediate container a4315dc73f1a\n ---> 61b24dbfb99e\nStep 8/10 : COPY . /usr/src/app\n ---> 01d3aacbe11f\nStep 9/10 : RUN npm ci && npm cache clean --force\n ---> Running in 5eca4d01213f\nadded 776 packages in 4.798s\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 5eca4d01213f\n ---> 0dff66bc97d4\nStep 10/10 : CMD [\"node\",\"./bin/fec\"]\n ---> Running in e194e76f2608\nRemoving intermediate container e194e76f2608\n ---> 8a099575b45b\nSuccessfully built 8a099575b45b\nSuccessfully tagged fec-loader:latest\n","stderr":"","imageSize":321320008},"endTime":1672375908458}