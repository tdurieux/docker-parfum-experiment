{"repository":"https://github.com/place1/wg-access-server","dockerfilePath":"Dockerfile","startTime":1673169387150,"endTime":1673170265167,"clone":{"startTime":1673169387151,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/place1/wg-access-server'...\n","error":null,"endTime":1673169387962,"commit":"3a4a15f9c41015990efaa64b5466524a816b6727"},"originalBuild":{"startTime":1673169388044,"endTime":1673169828436,"error":null,"stdout":"Sending build context to Docker daemon  1.675MB\r\r\nStep 1/41 : FROM node:10 as website\n10: Pulling from library/node\n76b8ef87096f: Pulling fs layer\n2e2bafe8a0f4: Pulling fs layer\nb53ce1fd2746: Pulling fs layer\n84a8c1bd5887: Pulling fs layer\n7a803dc0b40f: Pulling fs layer\nb800e94e7303: Pulling fs layer\n0da9fbf60d48: Pulling fs layer\n04dccde934cf: Pulling fs layer\n73269890f6fd: Pulling fs layer\n84a8c1bd5887: Waiting\n04dccde934cf: Waiting\n7a803dc0b40f: Waiting\nb800e94e7303: Waiting\n0da9fbf60d48: Waiting\n73269890f6fd: Waiting\n2e2bafe8a0f4: Verifying Checksum\n2e2bafe8a0f4: Download complete\nb53ce1fd2746: Verifying Checksum\nb53ce1fd2746: Download complete\n76b8ef87096f: Verifying Checksum\n76b8ef87096f: Download complete\nb800e94e7303: Verifying Checksum\nb800e94e7303: Download complete\n0da9fbf60d48: Verifying Checksum\n0da9fbf60d48: Download complete\n84a8c1bd5887: Verifying Checksum\n84a8c1bd5887: Download complete\n73269890f6fd: Download complete\n04dccde934cf: Verifying Checksum\n04dccde934cf: Download complete\n76b8ef87096f: Pull complete\n2e2bafe8a0f4: Pull complete\nb53ce1fd2746: Pull complete\n84a8c1bd5887: Pull complete\n7a803dc0b40f: Verifying Checksum\n7a803dc0b40f: Download complete\n7a803dc0b40f: Pull complete\nb800e94e7303: Pull complete\n0da9fbf60d48: Pull complete\n04dccde934cf: Pull complete\n73269890f6fd: Pull complete\nDigest: sha256:59531d2835edd5161c8f9512f9e095b1836f7a1fcb0ab73e005ec46047384911\nStatus: Downloaded newer image for node:10\n ---> 28dca6642db8\nStep 2/41 : RUN apt-get update\n ---> Running in ee3717586b24\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (4605 kB/s)\nReading package lists...\nRemoving intermediate container ee3717586b24\n ---> 1728fa3afe0a\nStep 3/41 : RUN apt-get install -y protobuf-compiler libprotobuf-dev\n ---> Running in fa52e5200c9f\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libprotobuf-lite10 libprotobuf10 libprotoc10\nThe following NEW packages will be installed:\n  libprotobuf-dev libprotobuf-lite10 libprotobuf10 libprotoc10\n  protobuf-compiler\n0 upgraded, 5 newly installed, 0 to remove and 117 not upgraded.\nNeed to get 2438 kB of archives.\nAfter this operation, 13.7 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libprotobuf10 amd64 3.0.0-9 [681 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 libprotobuf-lite10 amd64 3.0.0-9 [125 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 libprotobuf-dev amd64 3.0.0-9 [954 kB]\nGet:4 http://deb.debian.org/debian stretch/main amd64 libprotoc10 amd64 3.0.0-9 [626 kB]\nGet:5 http://deb.debian.org/debian stretch/main amd64 protobuf-compiler amd64 3.0.0-9 [52.8 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2438 kB in 0s (17.2 MB/s)\nSelecting previously unselected package libprotobuf10:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29964 files and directories currently installed.)\r\nPreparing to unpack .../libprotobuf10_3.0.0-9_amd64.deb ...\r\nUnpacking libprotobuf10:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package libprotobuf-lite10:amd64.\r\nPreparing to unpack .../libprotobuf-lite10_3.0.0-9_amd64.deb ...\r\nUnpacking libprotobuf-lite10:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package libprotobuf-dev:amd64.\r\nPreparing to unpack .../libprotobuf-dev_3.0.0-9_amd64.deb ...\r\nUnpacking libprotobuf-dev:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package libprotoc10:amd64.\r\nPreparing to unpack .../libprotoc10_3.0.0-9_amd64.deb ...\r\nUnpacking libprotoc10:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package protobuf-compiler.\r\nPreparing to unpack .../protobuf-compiler_3.0.0-9_amd64.deb ...\r\nUnpacking protobuf-compiler (3.0.0-9) ...\r\nSetting up libprotobuf10:amd64 (3.0.0-9) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up libprotobuf-lite10:amd64 (3.0.0-9) ...\r\nSetting up libprotoc10:amd64 (3.0.0-9) ...\r\nSetting up protobuf-compiler (3.0.0-9) ...\r\nSetting up libprotobuf-dev:amd64 (3.0.0-9) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nRemoving intermediate container fa52e5200c9f\n ---> a9fe49d552fa\nStep 4/41 : WORKDIR /code\n ---> Running in 934c9d64f590\nRemoving intermediate container 934c9d64f590\n ---> bc8a865a8446\nStep 5/41 : COPY ./website/package.json ./\n ---> af95a918c188\nStep 6/41 : COPY ./website/package-lock.json ./\n ---> 78dfcc756cd1\nStep 7/41 : RUN npm ci --no-audit --prefer-offline\n ---> Running in 4d31ef8de675\n\n> core-js@2.6.11 postinstall /code/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /code/node_modules/webpack-dev-server/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> fsevents@1.2.13 install /code/node_modules/watchpack-chokidar2/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> core-js@3.6.5 postinstall /code/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /code/node_modules/jest-haste-map/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> core-js-pure@3.6.5 postinstall /code/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\nadded 1678 packages in 14.424s\nRemoving intermediate container 4d31ef8de675\n ---> 05c3a32cac76\nStep 8/41 : COPY ./proto/ ../proto/\n ---> e5e28e65c5b3\nStep 9/41 : COPY ./website/ ./\n ---> 739696a5b2c5\nStep 10/41 : RUN npm run codegen\n ---> Running in 8dd8ae4ae5b1\n\n> @ codegen /code\n> grpc-ts-web -o src/sdk ../proto/*.proto\n\nexecuting: protoc --grpc-ts-web_out src/sdk --plugin=protoc-gen-grpc-ts-web=/code/node_modules/grpc-ts-web/bin/protoc-gen-grpc-ts-web-linux-amd64 --proto_path=../proto ../proto/devices.proto ../proto/server.proto\nRemoving intermediate container 8dd8ae4ae5b1\n ---> ac20158c06c4\nStep 11/41 : RUN npm run build\n ---> Running in dc1ef1dcbef6\n\n> @ build /code\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  212.78 KB  build/static/js/2.19ddede7.chunk.js\n  12.52 KB   build/static/js/main.bd37b8b5.chunk.js\n  770 B      build/static/js/runtime-main.cf8c75f0.js\n  272 B      build/static/css/main.354eeed7.chunk.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  bit.ly/CRA-deploy\n\nRemoving intermediate container dc1ef1dcbef6\n ---> 83d6ca1f4446\nStep 12/41 : FROM golang:1.13.8-alpine as server\n1.13.8-alpine: Pulling from library/golang\nc9b1b535fdd9: Pulling fs layer\ncbb0d8da1b30: Pulling fs layer\nd909eff28200: Pulling fs layer\n568dff2a5e9e: Pulling fs layer\n0aed2559ef8d: Pulling fs layer\n0aed2559ef8d: Waiting\n568dff2a5e9e: Waiting\nd909eff28200: Verifying Checksum\nc9b1b535fdd9: Verifying Checksum\nc9b1b535fdd9: Download complete\ncbb0d8da1b30: Download complete\n0aed2559ef8d: Download complete\nc9b1b535fdd9: Pull complete\ncbb0d8da1b30: Pull complete\nd909eff28200: Pull complete\n568dff2a5e9e: Download complete\n568dff2a5e9e: Pull complete\n0aed2559ef8d: Pull complete\nDigest: sha256:1ff752199f17b70e5f4dc2ad7f3e7843c456eb7e1407ed158ed8c237dbf1476a\nStatus: Downloaded newer image for golang:1.13.8-alpine\n ---> e1fd9820be16\nStep 13/41 : RUN apk add gcc musl-dev\n ---> Running in 93f4b1d5128d\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/12) Upgrading musl (1.1.24-r0 -> 1.1.24-r3)\n(2/12) Installing libgcc (9.3.0-r0)\n(3/12) Installing libstdc++ (9.3.0-r0)\n(4/12) Installing binutils (2.33.1-r1)\n(5/12) Installing gmp (6.1.2-r1)\n(6/12) Installing isl (0.18-r0)\n(7/12) Installing libgomp (9.3.0-r0)\n(8/12) Installing libatomic (9.3.0-r0)\n(9/12) Installing mpfr4 (4.0.2-r1)\n(10/12) Installing mpc1 (1.1.0-r1)\n(11/12) Installing gcc (9.3.0-r0)\n(12/12) Installing musl-dev (1.1.24-r3)\nExecuting busybox-1.31.1-r9.trigger\nOK: 112 MiB in 26 packages\nRemoving intermediate container 93f4b1d5128d\n ---> 38112083b598\nStep 14/41 : RUN apk add protobuf\n ---> Running in 05b724333d7e\n(1/5) Installing libprotobuf (3.11.2-r1)\n(2/5) Installing libprotoc (3.11.2-r1)\n(3/5) Installing protoc (3.11.2-r1)\n(4/5) Installing libprotobuf-lite (3.11.2-r1)\n(5/5) Installing protobuf (3.11.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 117 MiB in 31 packages\nRemoving intermediate container 05b724333d7e\n ---> b3cf274d18a7\nStep 15/41 : RUN apk add protobuf-dev\n ---> Running in ccd209089fdb\n(1/4) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\n(2/4) Installing pkgconf (1.6.3-r0)\n(3/4) Installing zlib-dev (1.2.11-r5)\n(4/4) Installing protobuf-dev (3.11.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 133 MiB in 34 packages\nRemoving intermediate container ccd209089fdb\n ---> 8bbd3ad7254f\nStep 16/41 : WORKDIR /code\n ---> Running in 7c9c6fdbd13b\nRemoving intermediate container 7c9c6fdbd13b\n ---> ac757ec7d49c\nStep 17/41 : ENV GOOS=linux\n ---> Running in 6c4b8027c3a7\nRemoving intermediate container 6c4b8027c3a7\n ---> e317311dafc4\nStep 18/41 : ENV GARCH=amd64\n ---> Running in d8d72c1f6389\nRemoving intermediate container d8d72c1f6389\n ---> 9a2368bc87a9\nStep 19/41 : ENV CGO_ENABLED=1\n ---> Running in 986f98abaa9a\nRemoving intermediate container 986f98abaa9a\n ---> 35c788d9acb6\nStep 20/41 : ENV GO111MODULE=on\n ---> Running in 7d200ef53649\nRemoving intermediate container 7d200ef53649\n ---> 4084fc6cbc23\nStep 21/41 : RUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.5\n ---> Running in 353958c6940a\n\u001b[91mgo: finding github.com/golang v1.3.5\ngo: finding github.com v1.3.5\ngo: finding github.com/golang/protobuf v1.3.5\ngo: finding github.com/golang/protobuf/protoc-gen-go v1.3.5\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.3.5\n\u001b[0m\u001b[91mgo: extracting github.com/golang/protobuf v1.3.5\n\u001b[0mRemoving intermediate container 353958c6940a\n ---> 68a50bca6946\nStep 22/41 : COPY ./go.mod ./\n ---> 793ae5ea5019\nStep 23/41 : COPY ./go.sum ./\n ---> 1e0a726bfdde\nStep 24/41 : RUN go mod download\n ---> Running in 562779f8c34d\n\u001b[91mgo: finding cloud.google.com/go v0.34.0\n\u001b[0m\u001b[91mgo: finding github.com/BurntSushi/toml v0.3.1\n\u001b[0m\u001b[91mgo: finding github.com/PuerkitoBio/goquery v1.5.1\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/units v0.0.0-20190924025748-f65c72e2690d\n\u001b[0m\u001b[91mgo: finding github.com/andybalholm/cascadia v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/census-instrumentation/opencensus-proto v0.2.1\n\u001b[0m\u001b[91mgo: finding github.com/client9/misspell v0.3.4\n\u001b[0m\u001b[91mgo: finding github.com/cncf/udpa/go v0.0.0-20191209042840-269d4d468f6f\n\u001b[0m\u001b[91mgo: finding github.com/coreos/go-iptables v0.4.5\n\u001b[0m\u001b[91mgo: finding github.com/coreos/go-oidc v2.2.1+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/denisenkom/go-mssqldb v0.0.0-20191124224453-732737034ffd\n\u001b[0m\u001b[91mgo: finding github.com/desertbit/timer v0.0.0-20180107155436-c41aec40b27f\n\u001b[0m\u001b[91mgo: finding github.com/docker/docker v1.13.1\n\u001b[0m\u001b[91mgo: finding github.com/docker/libnetwork v0.8.0-dev.2.0.20200217033114-6659f7f4d8c1\n\u001b[0m\u001b[91mgo: finding github.com/envoyproxy/go-control-plane v0.9.4\n\u001b[0m\u001b[91mgo: finding github.com/envoyproxy/protoc-gen-validate v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/erikstmartin/go-testdb v0.0.0-20160219214506-8d10e4a1bae5\n\u001b[0m\u001b[91mgo: finding github.com/go-kit/kit v0.9.0\n\u001b[0m\u001b[91mgo: finding github.com/go-logfmt/logfmt v0.4.0\n\u001b[0m\u001b[91mgo: finding github.com/go-sql-driver/mysql v1.5.0\n\u001b[0m\u001b[91mgo: finding github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: finding github.com/gogo/protobuf v1.2.1\n\u001b[0m\u001b[91mgo: finding github.com/golang-sql/civil v0.0.0-20190719163853-cb61b32ac6fe\n\u001b[0m\u001b[91mgo: finding github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b\n\u001b[0m\u001b[91mgo: finding github.com/golang/mock v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: finding github.com/google/go-cmp v0.5.0\n\u001b[0m\u001b[91mgo: finding github.com/google/uuid v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/gopherjs/gopherjs v0.0.0-20181017120253-0766667cb4d1\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/mux v1.7.4\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/securecookie v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/sessions v1.2.0\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/websocket v1.4.2\n\u001b[0m\u001b[91mgo: finding github.com/grpc-ecosystem/go-grpc-middleware v1.2.0\n\u001b[0m\u001b[91mgo: finding github.com/improbable-eng/grpc-web v0.13.0\n\u001b[0m\u001b[91mgo: finding github.com/ishidawataru/sctp v0.0.0-20191218070446-00ab2ac2db07\n\u001b[0m\u001b[91mgo: finding github.com/jinzhu/gorm v1.9.16\n\u001b[0m\u001b[91mgo: finding github.com/jinzhu/inflection v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/jinzhu/now v1.0.1\n\u001b[0m\u001b[91mgo: finding github.com/jsimonetti/rtnetlink v0.0.0-20200117123717-f846d4f6c1f4\n\u001b[0m\u001b[91mgo: finding github.com/jtolds/gls v4.20.0+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/kisielk/errcheck v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/kisielk/gotool v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/konsorten/go-windows-terminal-sequences v1.0.3\n\u001b[0m\u001b[91mgo: finding github.com/kr/logfmt v0.0.0-20140226030751-b84e30acd515\n\u001b[0m\u001b[91mgo: finding github.com/kr/pretty v0.2.0\n\u001b[0m\u001b[91mgo: finding github.com/kr/pty v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/kr/text v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/lib/pq v1.8.0\n\u001b[0m\u001b[91mgo: finding github.com/mattn/go-sqlite3 v2.0.3+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/mdlayher/genetlink v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/mdlayher/netlink v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/miekg/dns v1.1.30\n\u001b[0m\u001b[91mgo: finding github.com/mikioh/ipaddr v0.0.0-20190404000644-d465c8ab6721\n\u001b[0m\u001b[91mgo: finding github.com/mwitkow/go-conntrack v0.0.0-20161129095857-cc309e4a2223\n\u001b[0m\u001b[91mgo: finding github.com/opentracing/opentracing-go v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/patrickmn/go-cache v2.1.0+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: finding github.com/place1/pg-events v0.2.0\n\u001b[0m\u001b[91mgo: finding github.com/place1/wg-embed v0.4.1\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/pquerna/cachecontrol v0.0.0-20200921180117-858c6e7e6b7e\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: finding github.com/rs/cors v1.7.0\n\u001b[0m\u001b[91mgo: finding github.com/sirupsen/logrus v1.7.0\n\u001b[0m\u001b[91mgo: finding github.com/smartystreets/assertions v0.0.0-20180927180507-b2de0cb4f26d\n\u001b[0m\u001b[91mgo: finding github.com/smartystreets/goconvey v1.6.4\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/objx v0.1.1\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.6.1\n\u001b[0m\u001b[91mgo: finding github.com/tg123/go-htpasswd v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/vishvananda/netlink v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/vishvananda/netns v0.0.0-20200520041808-52d707b772fe\n\u001b[0m\u001b[91mgo: finding go.uber.org/atomic v1.4.0\n\u001b[0m\u001b[91mgo: finding go.uber.org/multierr v1.1.0\n\u001b[0m\u001b[91mgo: finding go.uber.org/zap v1.10.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20200709230013-948cd5f35899\n\u001b[0m\u001b[91mgo: finding golang.org/x/exp v0.0.0-20190121172915-509febef88a4\n\u001b[0m\u001b[91mgo: finding golang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3\n\u001b[0m\u001b[91mgo: finding golang.org/x/mod v0.1.1-0.20191105210325-c90efee705ee\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20200707034311-ab3426394381\n\u001b[0m\u001b[91mgo: finding golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d\n\u001b[0m\u001b[91mgo: finding golang.org/x/sync v0.0.0-20190423024810-112230192c58\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20200625212154-ddb9806d33ae\n\u001b[0m\u001b[91mgo: finding golang.org/x/text v0.3.3\n\u001b[0m\u001b[91mgo: finding golang.org/x/tools v0.0.0-20191216052735-49a3e744a425\n\u001b[0m\u001b[91mgo: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: finding golang.zx2c4.com/wireguard v0.0.20200320\n\u001b[0m\u001b[91mgo: finding golang.zx2c4.com/wireguard/wgctrl v0.0.0-20200609130330-bd2cb7843e1b\n\u001b[0m\u001b[91mgo: finding google.golang.org/appengine v1.6.6\n\u001b[0m\u001b[91mgo: finding google.golang.org/genproto v0.0.0-20200715011427-11fb19a81f2c\n\u001b[0m\u001b[91mgo: finding google.golang.org/grpc v1.30.0\n\u001b[0m\u001b[91mgo: finding google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/Knetic/govaluate.v2 v2.3.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v1.0.0-20190902080502-41f04d3bba15\n\u001b[0m\u001b[91mgo: finding gopkg.in/ini.v1 v1.57.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/square/go-jose.v2 v2.5.1\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.3.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\n\u001b[0m\u001b[91mgo: finding gotest.tools v2.2.0+incompatible\n\u001b[0m\u001b[91mgo: finding honnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc\n\u001b[0mRemoving intermediate container 562779f8c34d\n ---> 5ac17738cdcb\nStep 25/41 : COPY ./proto/ ./proto/\n ---> 4369af8a305f\nStep 26/41 : COPY ./codegen.sh ./\n ---> 0f41851425e5\nStep 27/41 : RUN ./codegen.sh\n ---> Running in 44d098af5868\nRemoving intermediate container 44d098af5868\n ---> 9b767b561e3d\nStep 28/41 : COPY ./main.go ./main.go\n ---> 1bf5e01da241\nStep 29/41 : COPY ./cmd/ ./cmd/\n ---> 099fd752fba5\nStep 30/41 : COPY ./pkg/ ./pkg/\n ---> 8cddbcef568a\nStep 31/41 : COPY ./internal/ ./internal/\n ---> 21451645f8c4\nStep 32/41 : RUN go build -o wg-access-server\n ---> Running in 7c603832238f\nRemoving intermediate container 7c603832238f\n ---> e8ec7464610a\nStep 33/41 : FROM alpine:3.10\n ---> e7b300aee9f9\nStep 34/41 : RUN apk add iptables\n ---> Running in 40ba251d37ce\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libmnl (1.0.4-r0)\n(2/3) Installing libnftnl-libs (1.1.3-r0)\n(3/3) Installing iptables (1.8.3-r1)\nExecuting busybox-1.30.1-r5.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container 40ba251d37ce\n ---> 2c1d1b27f361\nStep 35/41 : RUN apk add wireguard-tools\n ---> Running in 8bac0850512c\n(1/9) Installing wireguard-tools-wg (0.0.20190601-r1)\n(2/9) Installing iproute2 (4.20.0-r2)\nExecuting iproute2-4.20.0-r2.post-install\n(3/9) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(4/9) Installing ncurses-libs (6.1_p20190518-r2)\n(5/9) Installing readline (8.0.0-r0)\n(6/9) Installing bash (5.0.0-r0)\nExecuting bash-5.0.0-r0.post-install\n(7/9) Installing openresolv (3.9.2-r0)\n(8/9) Installing wireguard-tools-wg-quick (0.0.20190601-r1)\n(9/9) Installing wireguard-tools (0.0.20190601-r1)\nExecuting busybox-1.30.1-r5.trigger\nOK: 12 MiB in 26 packages\nRemoving intermediate container 8bac0850512c\n ---> 8f1f0f25b556\nStep 36/41 : RUN apk add curl\n ---> Running in 8d028318ea18\n(1/4) Installing ca-certificates (20191127-r2)\n(2/4) Installing nghttp2-libs (1.39.2-r1)\n(3/4) Installing libcurl (7.66.0-r4)\n(4/4) Installing curl (7.66.0-r4)\nExecuting busybox-1.30.1-r5.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 13 MiB in 30 packages\nRemoving intermediate container 8d028318ea18\n ---> dadc3607f6ae\nStep 37/41 : ENV WG_CONFIG=\"/config.yaml\"\n ---> Running in c153c1b16629\nRemoving intermediate container c153c1b16629\n ---> ded5b7c769b6\nStep 38/41 : ENV WG_STORAGE=\"sqlite3:///data/db.sqlite3\"\n ---> Running in db941ff81058\nRemoving intermediate container db941ff81058\n ---> 750912195423\nStep 39/41 : COPY --from=server /code/wg-access-server /usr/local/bin/wg-access-server\n ---> 87f3de601264\nStep 40/41 : COPY --from=website /code/build /website/build\n ---> e90b4bcbb758\nStep 41/41 : CMD [\"wg-access-server\", \"serve\"]\n ---> Running in 769a8cac4e02\nRemoving intermediate container 769a8cac4e02\n ---> 837fba490208\nSuccessfully built 837fba490208\nSuccessfully tagged wg-access-server:latest\n","stderr":"","imageSize":46770474},"repair":{"startTime":1673169828528,"endTime":1673169828706,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":3,"end":3,"columnStart":4,"columnEnd":56}},{"name":"aptGetUpdatePrecedesInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":3,"end":3,"columnStart":4,"columnEnd":56}},{"name":"apkAddUseNoCache","position":{"start":15,"end":15,"columnStart":4,"columnEnd":24}},{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":20}},{"name":"apkAddUseNoCache","position":{"start":17,"end":17,"columnStart":4,"columnEnd":24}},{"name":"apkAddUseNoCache","position":{"start":38,"end":38,"columnStart":4,"columnEnd":20}},{"name":"apkAddUseNoCache","position":{"start":39,"end":39,"columnStart":4,"columnEnd":27}},{"name":"apkAddUseNoCache","position":{"start":40,"end":40,"columnStart":4,"columnEnd":16}}],"repairedDockerfile":"### Build stage for the website frontend\nFROM node:10 as website\n\nRUN apt-get update && \\\napt-get install --no-install-recommends -y protobuf-compiler libprotobuf-dev && rm -rf /var/lib/apt/lists/*;\nWORKDIR /code\nCOPY ./website/package.json ./\nCOPY ./website/package-lock.json ./\nRUN npm ci --no-audit --prefer-offline\nCOPY ./proto/ ../proto/\nCOPY ./website/ ./\nRUN npm run codegen\nRUN npm run build\n\n### Build stage for the website backend server\nFROM golang:1.13.8-alpine as server\nRUN apk add --no-cache gcc musl-dev\nRUN apk add --no-cache protobuf\nRUN apk add --no-cache protobuf-dev\nWORKDIR /code\nENV GOOS=linux\nENV GARCH=amd64\nENV CGO_ENABLED=1\nENV GO111MODULE=on\nRUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.5\nCOPY ./go.mod ./\nCOPY ./go.sum ./\nRUN go mod download\nCOPY ./proto/ ./proto/\nCOPY ./codegen.sh ./\nRUN ./codegen.sh\nCOPY ./main.go ./main.go\nCOPY ./cmd/ ./cmd/\nCOPY ./pkg/ ./pkg/\nCOPY ./internal/ ./internal/\nRUN go build -o wg-access-server\n\n### Server\nFROM alpine:3.10\nRUN apk add --no-cache iptables\nRUN apk add --no-cache wireguard-tools\nRUN apk add --no-cache curl\nENV WG_CONFIG=\"/config.yaml\"\nENV WG_STORAGE=\"sqlite3:///data/db.sqlite3\"\nCOPY --from=server /code/wg-access-server /usr/local/bin/wg-access-server\nCOPY --from=website /code/build /website/build\nCMD [\"wg-access-server\", \"serve\"]\n"},"repairedBuild":{"startTime":1673169828977,"endTime":1673170264887,"error":null,"stdout":"Sending build context to Docker daemon  1.675MB\r\r\nStep 1/40 : FROM node:10 as website\n ---> 28dca6642db8\nStep 2/40 : RUN apt-get update && apt-get install --no-install-recommends -y protobuf-compiler libprotobuf-dev && rm -rf /var/lib/apt/lists/*;\n ---> Running in fda6baf5d8fd\nGet:1 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nIgn:2 http://deb.debian.org/debian stretch InRelease\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (5246 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libprotobuf-lite10 libprotobuf10 libprotoc10\nThe following NEW packages will be installed:\n  libprotobuf-dev libprotobuf-lite10 libprotobuf10 libprotoc10\n  protobuf-compiler\n0 upgraded, 5 newly installed, 0 to remove and 117 not upgraded.\nNeed to get 2438 kB of archives.\nAfter this operation, 13.7 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libprotobuf10 amd64 3.0.0-9 [681 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 libprotobuf-lite10 amd64 3.0.0-9 [125 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 libprotobuf-dev amd64 3.0.0-9 [954 kB]\nGet:4 http://deb.debian.org/debian stretch/main amd64 libprotoc10 amd64 3.0.0-9 [626 kB]\nGet:5 http://deb.debian.org/debian stretch/main amd64 protobuf-compiler amd64 3.0.0-9 [52.8 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2438 kB in 0s (46.8 MB/s)\nSelecting previously unselected package libprotobuf10:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29964 files and directories currently installed.)\r\nPreparing to unpack .../libprotobuf10_3.0.0-9_amd64.deb ...\r\nUnpacking libprotobuf10:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package libprotobuf-lite10:amd64.\r\nPreparing to unpack .../libprotobuf-lite10_3.0.0-9_amd64.deb ...\r\nUnpacking libprotobuf-lite10:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package libprotobuf-dev:amd64.\r\nPreparing to unpack .../libprotobuf-dev_3.0.0-9_amd64.deb ...\r\nUnpacking libprotobuf-dev:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package libprotoc10:amd64.\r\nPreparing to unpack .../libprotoc10_3.0.0-9_amd64.deb ...\r\nUnpacking libprotoc10:amd64 (3.0.0-9) ...\r\nSelecting previously unselected package protobuf-compiler.\r\nPreparing to unpack .../protobuf-compiler_3.0.0-9_amd64.deb ...\r\nUnpacking protobuf-compiler (3.0.0-9) ...\r\nSetting up libprotobuf10:amd64 (3.0.0-9) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up libprotobuf-lite10:amd64 (3.0.0-9) ...\r\nSetting up libprotoc10:amd64 (3.0.0-9) ...\r\nSetting up protobuf-compiler (3.0.0-9) ...\r\nSetting up libprotobuf-dev:amd64 (3.0.0-9) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nRemoving intermediate container fda6baf5d8fd\n ---> 23dcb8aa8241\nStep 3/40 : WORKDIR /code\n ---> Running in a80cb274ef45\nRemoving intermediate container a80cb274ef45\n ---> 912094dfe0fe\nStep 4/40 : COPY ./website/package.json ./\n ---> b124366562d6\nStep 5/40 : COPY ./website/package-lock.json ./\n ---> a4103fbd6c6d\nStep 6/40 : RUN npm ci --no-audit --prefer-offline\n ---> Running in d0d913556fd7\n\n> core-js@2.6.11 postinstall /code/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /code/node_modules/webpack-dev-server/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> fsevents@1.2.13 install /code/node_modules/watchpack-chokidar2/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> core-js@3.6.5 postinstall /code/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /code/node_modules/jest-haste-map/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> core-js-pure@3.6.5 postinstall /code/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\nadded 1678 packages in 14.605s\nRemoving intermediate container d0d913556fd7\n ---> 139d9a043ccf\nStep 7/40 : COPY ./proto/ ../proto/\n ---> 9362e568456a\nStep 8/40 : COPY ./website/ ./\n ---> 8f5970c11f77\nStep 9/40 : RUN npm run codegen\n ---> Running in 169d4e2f847c\n\n> @ codegen /code\n> grpc-ts-web -o src/sdk ../proto/*.proto\n\nexecuting: protoc --grpc-ts-web_out src/sdk --plugin=protoc-gen-grpc-ts-web=/code/node_modules/grpc-ts-web/bin/protoc-gen-grpc-ts-web-linux-amd64 --proto_path=../proto ../proto/devices.proto ../proto/server.proto\nRemoving intermediate container 169d4e2f847c\n ---> 95a196f4d854\nStep 10/40 : RUN npm run build\n ---> Running in 7fb51fe59417\n\n> @ build /code\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  212.78 KB  build/static/js/2.19ddede7.chunk.js\n  12.52 KB   build/static/js/main.bd37b8b5.chunk.js\n  770 B      build/static/js/runtime-main.cf8c75f0.js\n  272 B      build/static/css/main.354eeed7.chunk.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  bit.ly/CRA-deploy\n\nRemoving intermediate container 7fb51fe59417\n ---> e6b7a00ae975\nStep 11/40 : FROM golang:1.13.8-alpine as server\n ---> e1fd9820be16\nStep 12/40 : RUN apk add --no-cache gcc musl-dev\n ---> Running in 634c2945e06c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/12) Upgrading musl (1.1.24-r0 -> 1.1.24-r3)\n(2/12) Installing libgcc (9.3.0-r0)\n(3/12) Installing libstdc++ (9.3.0-r0)\n(4/12) Installing binutils (2.33.1-r1)\n(5/12) Installing gmp (6.1.2-r1)\n(6/12) Installing isl (0.18-r0)\n(7/12) Installing libgomp (9.3.0-r0)\n(8/12) Installing libatomic (9.3.0-r0)\n(9/12) Installing mpfr4 (4.0.2-r1)\n(10/12) Installing mpc1 (1.1.0-r1)\n(11/12) Installing gcc (9.3.0-r0)\n(12/12) Installing musl-dev (1.1.24-r3)\nExecuting busybox-1.31.1-r9.trigger\nOK: 112 MiB in 26 packages\nRemoving intermediate container 634c2945e06c\n ---> fa9eb66e9d16\nStep 13/40 : RUN apk add --no-cache protobuf\n ---> Running in 28263fbee34e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing libprotobuf (3.11.2-r1)\n(2/5) Installing libprotoc (3.11.2-r1)\n(3/5) Installing protoc (3.11.2-r1)\n(4/5) Installing libprotobuf-lite (3.11.2-r1)\n(5/5) Installing protobuf (3.11.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 117 MiB in 31 packages\nRemoving intermediate container 28263fbee34e\n ---> 3fbdebc646d1\nStep 14/40 : RUN apk add --no-cache protobuf-dev\n ---> Running in b0cc325a7f8c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\n(2/4) Installing pkgconf (1.6.3-r0)\n(3/4) Installing zlib-dev (1.2.11-r5)\n(4/4) Installing protobuf-dev (3.11.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 133 MiB in 34 packages\nRemoving intermediate container b0cc325a7f8c\n ---> 59973548d5f8\nStep 15/40 : WORKDIR /code\n ---> Running in b78be1aa7122\nRemoving intermediate container b78be1aa7122\n ---> 3870210e5363\nStep 16/40 : ENV GOOS=linux\n ---> Running in a5ef7f198425\nRemoving intermediate container a5ef7f198425\n ---> 74690ee9d006\nStep 17/40 : ENV GARCH=amd64\n ---> Running in e6eaf71d6deb\nRemoving intermediate container e6eaf71d6deb\n ---> 8d5e76a4ef44\nStep 18/40 : ENV CGO_ENABLED=1\n ---> Running in e832545aba82\nRemoving intermediate container e832545aba82\n ---> 7ecb883fef7f\nStep 19/40 : ENV GO111MODULE=on\n ---> Running in 972b6eda5139\nRemoving intermediate container 972b6eda5139\n ---> 7c5b0cd62426\nStep 20/40 : RUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.5\n ---> Running in cf14022fd873\n\u001b[91mgo: finding github.com/golang v1.3.5\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.3.5\ngo: finding github.com v1.3.5\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf/protoc-gen-go v1.3.5\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.3.5\n\u001b[0m\u001b[91mgo: extracting github.com/golang/protobuf v1.3.5\n\u001b[0mRemoving intermediate container cf14022fd873\n ---> 4e5bf7e424ce\nStep 21/40 : COPY ./go.mod ./\n ---> c8abe97235e5\nStep 22/40 : COPY ./go.sum ./\n ---> 1ca8cb8887a0\nStep 23/40 : RUN go mod download\n ---> Running in a60bde907fa9\n\u001b[91mgo: finding cloud.google.com/go v0.34.0\n\u001b[0m\u001b[91mgo: finding github.com/BurntSushi/toml v0.3.1\n\u001b[0m\u001b[91mgo: finding github.com/PuerkitoBio/goquery v1.5.1\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/units v0.0.0-20190924025748-f65c72e2690d\n\u001b[0m\u001b[91mgo: finding github.com/andybalholm/cascadia v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/census-instrumentation/opencensus-proto v0.2.1\n\u001b[0m\u001b[91mgo: finding github.com/client9/misspell v0.3.4\n\u001b[0m\u001b[91mgo: finding github.com/cncf/udpa/go v0.0.0-20191209042840-269d4d468f6f\n\u001b[0m\u001b[91mgo: finding github.com/coreos/go-iptables v0.4.5\n\u001b[0m\u001b[91mgo: finding github.com/coreos/go-oidc v2.2.1+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/denisenkom/go-mssqldb v0.0.0-20191124224453-732737034ffd\n\u001b[0m\u001b[91mgo: finding github.com/desertbit/timer v0.0.0-20180107155436-c41aec40b27f\n\u001b[0m\u001b[91mgo: finding github.com/docker/docker v1.13.1\n\u001b[0m\u001b[91mgo: finding github.com/docker/libnetwork v0.8.0-dev.2.0.20200217033114-6659f7f4d8c1\n\u001b[0m\u001b[91mgo: finding github.com/envoyproxy/go-control-plane v0.9.4\n\u001b[0m\u001b[91mgo: finding github.com/envoyproxy/protoc-gen-validate v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/erikstmartin/go-testdb v0.0.0-20160219214506-8d10e4a1bae5\n\u001b[0m\u001b[91mgo: finding github.com/go-kit/kit v0.9.0\n\u001b[0m\u001b[91mgo: finding github.com/go-logfmt/logfmt v0.4.0\n\u001b[0m\u001b[91mgo: finding github.com/go-sql-driver/mysql v1.5.0\n\u001b[0m\u001b[91mgo: finding github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: finding github.com/gogo/protobuf v1.2.1\n\u001b[0m\u001b[91mgo: finding github.com/golang-sql/civil v0.0.0-20190719163853-cb61b32ac6fe\n\u001b[0m\u001b[91mgo: finding github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b\n\u001b[0m\u001b[91mgo: finding github.com/golang/mock v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: finding github.com/google/go-cmp v0.5.0\n\u001b[0m\u001b[91mgo: finding github.com/google/uuid v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/gopherjs/gopherjs v0.0.0-20181017120253-0766667cb4d1\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/mux v1.7.4\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/securecookie v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/sessions v1.2.0\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/websocket v1.4.2\n\u001b[0m\u001b[91mgo: finding github.com/grpc-ecosystem/go-grpc-middleware v1.2.0\n\u001b[0m\u001b[91mgo: finding github.com/improbable-eng/grpc-web v0.13.0\n\u001b[0m\u001b[91mgo: finding github.com/ishidawataru/sctp v0.0.0-20191218070446-00ab2ac2db07\n\u001b[0m\u001b[91mgo: finding github.com/jinzhu/gorm v1.9.16\n\u001b[0m\u001b[91mgo: finding github.com/jinzhu/inflection v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/jinzhu/now v1.0.1\n\u001b[0m\u001b[91mgo: finding github.com/jsimonetti/rtnetlink v0.0.0-20200117123717-f846d4f6c1f4\n\u001b[0m\u001b[91mgo: finding github.com/jtolds/gls v4.20.0+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/kisielk/errcheck v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/kisielk/gotool v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/konsorten/go-windows-terminal-sequences v1.0.3\n\u001b[0m\u001b[91mgo: finding github.com/kr/logfmt v0.0.0-20140226030751-b84e30acd515\n\u001b[0m\u001b[91mgo: finding github.com/kr/pretty v0.2.0\n\u001b[0m\u001b[91mgo: finding github.com/kr/pty v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/kr/text v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/lib/pq v1.8.0\n\u001b[0m\u001b[91mgo: finding github.com/mattn/go-sqlite3 v2.0.3+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/mdlayher/genetlink v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/mdlayher/netlink v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/miekg/dns v1.1.30\n\u001b[0m\u001b[91mgo: finding github.com/mikioh/ipaddr v0.0.0-20190404000644-d465c8ab6721\n\u001b[0m\u001b[91mgo: finding github.com/mwitkow/go-conntrack v0.0.0-20161129095857-cc309e4a2223\n\u001b[0m\u001b[91mgo: finding github.com/opentracing/opentracing-go v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/patrickmn/go-cache v2.1.0+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: finding github.com/place1/pg-events v0.2.0\n\u001b[0m\u001b[91mgo: finding github.com/place1/wg-embed v0.4.1\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/pquerna/cachecontrol v0.0.0-20200921180117-858c6e7e6b7e\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: finding github.com/rs/cors v1.7.0\n\u001b[0m\u001b[91mgo: finding github.com/sirupsen/logrus v1.7.0\n\u001b[0m\u001b[91mgo: finding github.com/smartystreets/assertions v0.0.0-20180927180507-b2de0cb4f26d\n\u001b[0m\u001b[91mgo: finding github.com/smartystreets/goconvey v1.6.4\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/objx v0.1.1\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.6.1\n\u001b[0m\u001b[91mgo: finding github.com/tg123/go-htpasswd v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/vishvananda/netlink v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/vishvananda/netns v0.0.0-20200520041808-52d707b772fe\n\u001b[0m\u001b[91mgo: finding go.uber.org/atomic v1.4.0\n\u001b[0m\u001b[91mgo: finding go.uber.org/multierr v1.1.0\n\u001b[0m\u001b[91mgo: finding go.uber.org/zap v1.10.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20200709230013-948cd5f35899\n\u001b[0m\u001b[91mgo: finding golang.org/x/exp v0.0.0-20190121172915-509febef88a4\n\u001b[0m\u001b[91mgo: finding golang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3\n\u001b[0m\u001b[91mgo: finding golang.org/x/mod v0.1.1-0.20191105210325-c90efee705ee\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20200707034311-ab3426394381\n\u001b[0m\u001b[91mgo: finding golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d\n\u001b[0m\u001b[91mgo: finding golang.org/x/sync v0.0.0-20190423024810-112230192c58\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20200625212154-ddb9806d33ae\n\u001b[0m\u001b[91mgo: finding golang.org/x/text v0.3.3\n\u001b[0m\u001b[91mgo: finding golang.org/x/tools v0.0.0-20191216052735-49a3e744a425\n\u001b[0m\u001b[91mgo: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: finding golang.zx2c4.com/wireguard v0.0.20200320\n\u001b[0m\u001b[91mgo: finding golang.zx2c4.com/wireguard/wgctrl v0.0.0-20200609130330-bd2cb7843e1b\n\u001b[0m\u001b[91mgo: finding google.golang.org/appengine v1.6.6\n\u001b[0m\u001b[91mgo: finding google.golang.org/genproto v0.0.0-20200715011427-11fb19a81f2c\n\u001b[0m\u001b[91mgo: finding google.golang.org/grpc v1.30.0\n\u001b[0m\u001b[91mgo: finding google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/Knetic/govaluate.v2 v2.3.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v1.0.0-20190902080502-41f04d3bba15\n\u001b[0m\u001b[91mgo: finding gopkg.in/ini.v1 v1.57.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/square/go-jose.v2 v2.5.1\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.3.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\n\u001b[0m\u001b[91mgo: finding gotest.tools v2.2.0+incompatible\n\u001b[0m\u001b[91mgo: finding honnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc\n\u001b[0mRemoving intermediate container a60bde907fa9\n ---> 0db012bf71a5\nStep 24/40 : COPY ./proto/ ./proto/\n ---> 36e0171aca19\nStep 25/40 : COPY ./codegen.sh ./\n ---> 37a2a7299edf\nStep 26/40 : RUN ./codegen.sh\n ---> Running in dffe9b5cb0e4\nRemoving intermediate container dffe9b5cb0e4\n ---> 9440632e9138\nStep 27/40 : COPY ./main.go ./main.go\n ---> f65e33ca3751\nStep 28/40 : COPY ./cmd/ ./cmd/\n ---> 44d2e914ddc8\nStep 29/40 : COPY ./pkg/ ./pkg/\n ---> 8e36163bc053\nStep 30/40 : COPY ./internal/ ./internal/\n ---> a30b73dab8b2\nStep 31/40 : RUN go build -o wg-access-server\n ---> Running in ca387776c964\nRemoving intermediate container ca387776c964\n ---> 5c27667944bf\nStep 32/40 : FROM alpine:3.10\n ---> e7b300aee9f9\nStep 33/40 : RUN apk add --no-cache iptables\n ---> Running in ee5ff00989dc\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libmnl (1.0.4-r0)\n(2/3) Installing libnftnl-libs (1.1.3-r0)\n(3/3) Installing iptables (1.8.3-r1)\nExecuting busybox-1.30.1-r5.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container ee5ff00989dc\n ---> fb7288f284bd\nStep 34/40 : RUN apk add --no-cache wireguard-tools\n ---> Running in 7cc7138c4cf8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing wireguard-tools-wg (0.0.20190601-r1)\n(2/9) Installing iproute2 (4.20.0-r2)\nExecuting iproute2-4.20.0-r2.post-install\n(3/9) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(4/9) Installing ncurses-libs (6.1_p20190518-r2)\n(5/9) Installing readline (8.0.0-r0)\n(6/9) Installing bash (5.0.0-r0)\nExecuting bash-5.0.0-r0.post-install\n(7/9) Installing openresolv (3.9.2-r0)\n(8/9) Installing wireguard-tools-wg-quick (0.0.20190601-r1)\n(9/9) Installing wireguard-tools (0.0.20190601-r1)\nExecuting busybox-1.30.1-r5.trigger\nOK: 12 MiB in 26 packages\nRemoving intermediate container 7cc7138c4cf8\n ---> c9047b85d101\nStep 35/40 : RUN apk add --no-cache curl\n ---> Running in 62421c49c8aa\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20191127-r2)\n(2/4) Installing nghttp2-libs (1.39.2-r1)\n(3/4) Installing libcurl (7.66.0-r4)\n(4/4) Installing curl (7.66.0-r4)\nExecuting busybox-1.30.1-r5.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 13 MiB in 30 packages\nRemoving intermediate container 62421c49c8aa\n ---> b1f15b60a240\nStep 36/40 : ENV WG_CONFIG=\"/config.yaml\"\n ---> Running in fbbf4b0cd5b5\nRemoving intermediate container fbbf4b0cd5b5\n ---> fb05e0772791\nStep 37/40 : ENV WG_STORAGE=\"sqlite3:///data/db.sqlite3\"\n ---> Running in 57c3190f4ed4\nRemoving intermediate container 57c3190f4ed4\n ---> a56f9ca7e186\nStep 38/40 : COPY --from=server /code/wg-access-server /usr/local/bin/wg-access-server\n ---> 2de36a82abae\nStep 39/40 : COPY --from=website /code/build /website/build\n ---> ca94379d792e\nStep 40/40 : CMD [\"wg-access-server\", \"serve\"]\n ---> Running in 85dbb9d3d10e\nRemoving intermediate container 85dbb9d3d10e\n ---> 4ffa11bf62a6\nSuccessfully built 4ffa11bf62a6\nSuccessfully tagged wg-access-server:latest\n","stderr":"","imageSize":45348047}}