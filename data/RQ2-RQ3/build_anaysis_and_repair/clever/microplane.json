{"repository":"https://github.com/clever/microplane","dockerfilePath":"Dockerfile","startTime":1672760305513,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/clever/microplane'...\n","error":null,"commit":"ed9d0ab8616b40a8c999b3399404de81d02c137b"},"originalBuild":{"startTimestamp":1672760306465,"endTimestamp":1672760334520,"error":null,"stdout":"Sending build context to Docker daemon  461.8kB\r\r\nStep 1/8 : FROM golang:alpine as BUILD\nalpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 2/8 : RUN apk update && apk add curl git make bash openssh-client && rm -rf /var/lib/apk/cache/*\n ---> Running in e6a046a7b5ad\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-320-g38723e0931 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-325-g47aac65969 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17814 distinct packages available\n(1/16) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/16) Installing ncurses-libs (6.3_p20221119-r0)\n(3/16) Installing readline (8.2.0-r0)\n(4/16) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/16) Installing brotli-libs (1.0.9-r9)\n(6/16) Installing nghttp2-libs (1.51.0-r0)\n(7/16) Installing libcurl (7.87.0-r0)\n(8/16) Installing curl (7.87.0-r0)\n(9/16) Installing libexpat (2.5.0-r0)\n(10/16) Installing pcre2 (10.42-r0)\n(11/16) Installing git (2.38.2-r0)\n(12/16) Installing make (4.3-r1)\n(13/16) Installing openssh-keygen (9.1_p1-r1)\n(14/16) Installing libedit (20221030.3.1-r0)\n(15/16) Installing openssh-client-common (9.1_p1-r1)\n(16/16) Installing openssh-client-default (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 23 MiB in 32 packages\nRemoving intermediate container e6a046a7b5ad\n ---> 8a6e698981c3\nStep 3/8 : WORKDIR /go/src/microplane\n ---> Running in bfc1ebb8eb8d\nRemoving intermediate container bfc1ebb8eb8d\n ---> 4a5d87ad433a\nStep 4/8 : COPY . .\n ---> 90e89cecd6d8\nStep 5/8 : RUN make install_deps && make build\n ---> Running in 70d64d732ab5\n\u001b[91mgo: downloading github.com/xanzy/go-gitlab v0.77.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20220722155238-128564f6959c\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v35 v35.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/facebookgo/errgroup v0.0.0-20160209021148-779c8d7ef069\ngo: downloading github.com/fatih/color v1.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/waigani/diffparser v0.0.0-20190828052634-7391f219313d\ngo: downloading golang.org/x/sync v0.0.0-20210220032951-036812b2e83c\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\ngo: downloading github.com/mattn/go-colorable v0.1.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220728004956-3c1f35247d10\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\ngo: downloading github.com/cpuguy83/go-md2man/v2 v2.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\ngo: downloading golang.org/x/time v0.0.0-20220722155302-e5dcc9cfc0b9\ngo: downloading github.com/hashicorp/go-cleanhttp v0.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-retryablehttp v0.7.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20220805013720-a33c5aa5df48\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210817164053-32db794688a5\n\u001b[0mgo get github.com/GeertJohan/fgt@262f7b11eec07dc7b147c44641236f3212fee89d\n\u001b[91mgo: downloading github.com/GeertJohan/fgt v0.0.0-20160120143236-262f7b11eec0\n\u001b[0m\u001b[91mgo: added github.com/GeertJohan/fgt v0.0.0-20160120143236-262f7b11eec0\n\u001b[0mgo get golang.org/x/lint/golint@738671d3881b9731cc63024d5d88cf28db875626\n\u001b[91mgo: downloading golang.org/x/lint v0.0.0-20200302205851-738671d3881b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20200130002326-2f3ba24bd6e7\n\u001b[0m\u001b[91mgo: added golang.org/x/lint v0.0.0-20200302205851-738671d3881b\ngo: upgraded golang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e => v0.0.0-20200130002326-2f3ba24bd6e7\n\u001b[0mgo mod vendor\n\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/inconshreveable/mousetrap v1.0.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/appengine v1.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\ngo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0mRemoving intermediate container 70d64d732ab5\n ---> b0e0978e95fb\nStep 6/8 : FROM alpine/git\nlatest: Pulling from alpine/git\nca7dd9ec2225: Already exists\neb878e0a08e4: Pulling fs layer\nb4f093b99828: Pulling fs layer\nb4f093b99828: Verifying Checksum\nb4f093b99828: Download complete\neb878e0a08e4: Download complete\neb878e0a08e4: Pull complete\nb4f093b99828: Pull complete\nDigest: sha256:66b210a97bc07bfd4019826bcd13a488b371a6cbe2630a4b37d23275658bd3f2\nStatus: Downloaded newer image for alpine/git:latest\n ---> 22d84a66cda4\nStep 7/8 : COPY --from=BUILD /go/src/microplane/bin/mp /bin/mp\n ---> e2a962c45ff3\nStep 8/8 : ENTRYPOINT [\"/bin/mp\"]\n ---> Running in cbf25924754b\nRemoving intermediate container cbf25924754b\n ---> 4533292346b8\nSuccessfully built 4533292346b8\nSuccessfully tagged microplane:latest\n","stderr":"","imageSize":55151665},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":1,"end":1,"columnStart":18,"columnEnd":59}}],"repairedDockerfile":"FROM golang:alpine as BUILD\nRUN apk update && apk add --no-cache curl git make bash openssh-client && rm -rf /var/lib/apk/cache/*\nWORKDIR /go/src/microplane\nCOPY . .\nRUN make install_deps && make build\n\nFROM alpine/git\nCOPY --from=BUILD /go/src/microplane/bin/mp /bin/mp\nENTRYPOINT [\"/bin/mp\"]\n"},"repairedBuild":{"startTimestamp":1672760334801,"endTimestamp":1672760352350,"error":null,"stdout":"Sending build context to Docker daemon  461.8kB\r\r\nStep 1/8 : FROM golang:alpine as BUILD\n ---> cae57157ceaa\nStep 2/8 : RUN apk update && apk add --no-cache curl git make bash openssh-client && rm -rf /var/lib/apk/cache/*\n ---> Running in aa6ecd15ee60\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-320-g38723e0931 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-325-g47aac65969 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17814 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/16) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/16) Installing ncurses-libs (6.3_p20221119-r0)\n(3/16) Installing readline (8.2.0-r0)\n(4/16) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/16) Installing brotli-libs (1.0.9-r9)\n(6/16) Installing nghttp2-libs (1.51.0-r0)\n(7/16) Installing libcurl (7.87.0-r0)\n(8/16) Installing curl (7.87.0-r0)\n(9/16) Installing libexpat (2.5.0-r0)\n(10/16) Installing pcre2 (10.42-r0)\n(11/16) Installing git (2.38.2-r0)\n(12/16) Installing make (4.3-r1)\n(13/16) Installing openssh-keygen (9.1_p1-r1)\n(14/16) Installing libedit (20221030.3.1-r0)\n(15/16) Installing openssh-client-common (9.1_p1-r1)\n(16/16) Installing openssh-client-default (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 23 MiB in 32 packages\nRemoving intermediate container aa6ecd15ee60\n ---> a5c13600be03\nStep 3/8 : WORKDIR /go/src/microplane\n ---> Running in 492fc92bc0ff\nRemoving intermediate container 492fc92bc0ff\n ---> 0ebd8511043e\nStep 4/8 : COPY . .\n ---> 61965f7dff3e\nStep 5/8 : RUN make install_deps && make build\n ---> Running in 95b94a87cd31\n\u001b[91mgo: downloading github.com/xanzy/go-gitlab v0.77.0\ngo: downloading golang.org/x/oauth2 v0.0.0-20220722155238-128564f6959c\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v35 v35.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.13.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20210220032951-036812b2e83c\n\u001b[0m\u001b[91mgo: downloading github.com/waigani/diffparser v0.0.0-20190828052634-7391f219313d\ngo: downloading github.com/spf13/cobra v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/facebookgo/errgroup v0.0.0-20160209021148-779c8d7ef069\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\ngo: downloading github.com/mattn/go-colorable v0.1.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220728004956-3c1f35247d10\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man/v2 v2.0.2\ngo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20220805013720-a33c5aa5df48\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210817164053-32db794688a5\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20220722155302-e5dcc9cfc0b9\ngo: downloading github.com/hashicorp/go-cleanhttp v0.5.2\ngo: downloading github.com/hashicorp/go-retryablehttp v0.7.1\n\u001b[0mgo get github.com/GeertJohan/fgt@262f7b11eec07dc7b147c44641236f3212fee89d\n\u001b[91mgo: downloading github.com/GeertJohan/fgt v0.0.0-20160120143236-262f7b11eec0\n\u001b[0m\u001b[91mgo: added github.com/GeertJohan/fgt v0.0.0-20160120143236-262f7b11eec0\n\u001b[0mgo get golang.org/x/lint/golint@738671d3881b9731cc63024d5d88cf28db875626\n\u001b[91mgo: downloading golang.org/x/lint v0.0.0-20200302205851-738671d3881b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20200130002326-2f3ba24bd6e7\n\u001b[0m\u001b[91mgo: added golang.org/x/lint v0.0.0-20200302205851-738671d3881b\ngo: upgraded golang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e => v0.0.0-20200130002326-2f3ba24bd6e7\n\u001b[0mgo mod vendor\n\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/inconshreveable/mousetrap v1.0.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/appengine v1.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\ngo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0mRemoving intermediate container 95b94a87cd31\n ---> 888b2c16e403\nStep 6/8 : FROM alpine/git\n ---> 22d84a66cda4\nStep 7/8 : COPY --from=BUILD /go/src/microplane/bin/mp /bin/mp\n ---> 0381aa17c77b\nStep 8/8 : ENTRYPOINT [\"/bin/mp\"]\n ---> Running in 45585c320d01\nRemoving intermediate container 45585c320d01\n ---> dab418ef025d\nSuccessfully built dab418ef025d\nSuccessfully tagged microplane:latest\n","stderr":"","imageSize":55151665},"endTime":1672760352806}