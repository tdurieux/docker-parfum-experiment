{"repository":"https://github.com/htilly/zenmusic","dockerfilePath":"Dockerfile","startTime":1672917594427,"endTime":1672917853857,"clone":{"startTime":1672917594428,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/htilly/zenmusic'...\n","error":null,"endTime":1672917595261,"commit":"925fce7ae377d1d8b3289abe6c9068fa92abe13b"},"originalBuild":{"startTime":1672917595337,"endTime":1672917701958,"error":null,"stdout":"Sending build context to Docker daemon  1.198MB\r\r\nStep 1/9 : FROM node:17-alpine as intermediate\n17-alpine: Pulling from library/node\ndf9b9388f04a: Already exists\n1bedfac31d6a: Pulling fs layer\n6463b5f3dbb1: Pulling fs layer\n885e68a88c76: Pulling fs layer\n885e68a88c76: Verifying Checksum\n885e68a88c76: Download complete\n6463b5f3dbb1: Verifying Checksum\n6463b5f3dbb1: Download complete\n1bedfac31d6a: Verifying Checksum\n1bedfac31d6a: Download complete\n1bedfac31d6a: Pull complete\n6463b5f3dbb1: Pull complete\n885e68a88c76: Pull complete\nDigest: sha256:76e638eb0d73ac5f0b76d70df3ce1ddad941ac63595d44092b625e2cd557ddbf\nStatus: Downloaded newer image for node:17-alpine\n ---> 57488723f087\nStep 2/9 : LABEL stage=intermediate\n ---> Running in dc96d7953321\nRemoving intermediate container dc96d7953321\n ---> 5f64961a084f\nStep 3/9 : RUN apk update &&     apk upgrade &&     apk add git &&     git clone https://github.com/htilly/zenmusic.git\n ---> Running in 2d474f411056\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\n(1/6) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(2/6) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(3/6) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(4/6) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/6) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(6/6) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 7 MiB in 16 packages\n(1/7) Installing ca-certificates (20220614-r0)\n(2/7) Installing brotli-libs (1.0.9-r5)\n(3/7) Installing nghttp2-libs (1.46.0-r0)\n(4/7) Installing libcurl (7.80.0-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 21 MiB in 23 packages\n\u001b[91mCloning into 'zenmusic'...\n\u001b[0mRemoving intermediate container 2d474f411056\n ---> 499aafde7eb6\nStep 4/9 : FROM node:17-alpine\n ---> 57488723f087\nStep 5/9 : RUN mkdir app\n ---> Running in efd89dff62e0\nRemoving intermediate container efd89dff62e0\n ---> c90fe382eece\nStep 6/9 : COPY --from=intermediate /zenmusic/* /app/\n ---> 5b05e02e31fd\nStep 7/9 : WORKDIR /app\n ---> Running in c432b4c94bfe\nRemoving intermediate container c432b4c94bfe\n ---> fa4cef211370\nStep 8/9 : RUN npm install\n ---> Running in 090bbc2e1899\n\u001b[91mnpm WARN deprecated istanbul@0.4.5: This module is no longer maintained, try this instead:\nnpm WARN deprecated   npm i nyc\nnpm WARN deprecated Visit https://istanbul.js.org/integrations for other alternatives.\n\u001b[0m\n> zenmusic@1.0.0 prepublish\n> npm run snyk-protect\n\n\n> zenmusic@1.0.0 snyk-protect\n> snyk protect\n\nSuccessfully applied Snyk patches\n\u001b[91m\nA medium severity vulnerability was found in the Snyk CLI versions you are using.\nWe fixed the vulnerability in version 1.996.0. We recommend updating to the latest version.\nMore details here: https://snyk.co/ue1NS\n\u001b[0m\nadded 215 packages, and audited 216 packages in 9s\n\n19 packages are looking for funding\n  run `npm fund` for details\n\n9 vulnerabilities (1 moderate, 7 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 090bbc2e1899\n ---> 4e6dc2efd1fc\nStep 9/9 : CMD [ \"node\", \"index.js\" ]\n ---> Running in 444adc7bb7cc\nRemoving intermediate container 444adc7bb7cc\n ---> 57c636c92aa5\nSuccessfully built 57c636c92aa5\nSuccessfully tagged zenmusic:latest\n","stderr":"","imageSize":254734549},"repair":{"startTime":1672917702019,"endTime":1672917702111,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:17-alpine as intermediate\nLABEL stage=intermediate\n\nRUN apk update && \\\n    apk upgrade && \\\n    apk add --no-cache git && \\\n    git clone https://github.com/htilly/zenmusic.git\n\nFROM node:17-alpine\nRUN mkdir app\nCOPY --from=intermediate /zenmusic/* /app/\nWORKDIR /app\nRUN npm install && npm cache clean --force;\n\nCMD [ \"node\", \"index.js\" ]\n"},"repairedBuild":{"startTime":1672917702689,"endTime":1672917853214,"error":null,"stdout":"Sending build context to Docker daemon  1.198MB\r\r\nStep 1/9 : FROM node:17-alpine as intermediate\n ---> 57488723f087\nStep 2/9 : LABEL stage=intermediate\n ---> Running in 299df63ef2eb\nRemoving intermediate container 299df63ef2eb\n ---> 3a8d1e9c0cbf\nStep 3/9 : RUN apk update &&     apk upgrade &&     apk add --no-cache git &&     git clone https://github.com/htilly/zenmusic.git\n ---> Running in 044d9a818f6b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\n(1/6) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(2/6) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(3/6) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(4/6) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/6) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(6/6) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 7 MiB in 16 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r0)\n(2/7) Installing brotli-libs (1.0.9-r5)\n(3/7) Installing nghttp2-libs (1.46.0-r0)\n(4/7) Installing libcurl (7.80.0-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 21 MiB in 23 packages\n\u001b[91mCloning into 'zenmusic'...\n\u001b[0mRemoving intermediate container 044d9a818f6b\n ---> 508eb6f0aac7\nStep 4/9 : FROM node:17-alpine\n ---> 57488723f087\nStep 5/9 : RUN mkdir app\n ---> Running in c882097913ac\nRemoving intermediate container c882097913ac\n ---> 0e0a84707a11\nStep 6/9 : COPY --from=intermediate /zenmusic/* /app/\n ---> a982f7cec80c\nStep 7/9 : WORKDIR /app\n ---> Running in 5dbc4006fb73\nRemoving intermediate container 5dbc4006fb73\n ---> 5b338be9b678\nStep 8/9 : RUN npm install && npm cache clean --force;\n ---> Running in 0e59218137c2\n\u001b[91mnpm WARN deprecated istanbul@0.4.5: This module is no longer maintained, try this instead:\nnpm WARN deprecated   npm i nyc\nnpm\u001b[0m\u001b[91m WARN deprecated Visit https://istanbul.js.org/integrations for other alternatives.\n\u001b[0m\n> zenmusic@1.0.0 prepublish\n> npm run snyk-protect\n\n\n> zenmusic@1.0.0 snyk-protect\n> snyk protect\n\nSuccessfully applied Snyk patches\n\u001b[91m\nA medium severity vulnerability was found in the Snyk CLI versions you are using.\nWe fixed the vulnerability in version 1.996.0. We recommend updating to the latest version.\nMore details here: https://snyk.co/ue1NS\n\u001b[0m\nadded 215 packages, and audited 216 packages in 9s\n\n19 packages are looking for funding\n  run `npm fund` for details\n\n9 vulnerabilities (1 moderate, 7 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m Recommended protections disabled.\n\u001b[0mRemoving intermediate container 0e59218137c2\n ---> ca091c406141\nStep 9/9 : CMD [ \"node\", \"index.js\" ]\n ---> Running in bcf11b0cfb98\nRemoving intermediate container bcf11b0cfb98\n ---> 5ac8f19c17c2\nSuccessfully built 5ac8f19c17c2\nSuccessfully tagged zenmusic:latest\n","stderr":"","imageSize":233524953}}