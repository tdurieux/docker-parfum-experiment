{"repository":"https://github.com/proboci/probo","dockerfilePath":"Dockerfile","startTime":1672527454316,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/proboci/probo'...\n","error":null,"commit":"123ee4737c5654f795c3d56b13d30283b987280d"},"originalBuild":{"startTimestamp":1672527455254,"endTimestamp":1672527613307,"error":null,"stdout":"Sending build context to Docker daemon   1.39MB\r\r\nStep 1/10 : FROM node:16-alpine\n16-alpine: Pulling from library/node\nc158987b0551: Already exists\ne15b2da73907: Pulling fs layer\n90461d7cfbbe: Pulling fs layer\n06b1a47b9f99: Pulling fs layer\n06b1a47b9f99: Verifying Checksum\n06b1a47b9f99: Download complete\n90461d7cfbbe: Verifying Checksum\n90461d7cfbbe: Download complete\ne15b2da73907: Verifying Checksum\ne15b2da73907: Download complete\ne15b2da73907: Pull complete\n90461d7cfbbe: Pull complete\n06b1a47b9f99: Pull complete\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16-alpine\n ---> 610c0494e820\nStep 2/10 : USER root\n ---> Running in 04f644200dee\nRemoving intermediate container 04f644200dee\n ---> 48ef9aab5b83\nStep 3/10 : RUN apk add curl gnupg\n ---> Running in 5821d62d8837\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/35) Installing ca-certificates (20220614-r3)\n(2/35) Installing brotli-libs (1.0.9-r9)\n(3/35) Installing nghttp2-libs (1.51.0-r0)\n(4/35) Installing libcurl (7.87.0-r0)\n(5/35) Installing curl (7.87.0-r0)\n(6/35) Installing libgpg-error (1.46-r1)\n(7/35) Installing libassuan (2.5.5-r1)\n(8/35) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(9/35) Installing ncurses-libs (6.3_p20221119-r0)\n(10/35) Installing pinentry (1.2.1-r0)\nExecuting pinentry-1.2.1-r0.post-install\n(11/35) Installing libgcrypt (1.10.1-r0)\n(12/35) Installing gnupg-gpgconf (2.2.40-r0)\n(13/35) Installing libbz2 (1.0.8-r4)\n(14/35) Installing sqlite-libs (3.40.1-r0)\n(15/35) Installing gpg (2.2.40-r0)\n(16/35) Installing npth (1.6-r2)\n(17/35) Installing gpg-agent (2.2.40-r0)\n(18/35) Installing gpg-wks-server (2.2.40-r0)\n(19/35) Installing libksba (1.6.3-r0)\n(20/35) Installing gpgsm (2.2.40-r0)\n(21/35) Installing gpgv (2.2.40-r0)\n(22/35) Installing gmp (6.2.1-r2)\n(23/35) Installing nettle (3.8.1-r0)\n(24/35) Installing libffi (3.4.4-r0)\n(25/35) Installing p11-kit (0.24.1-r1)\n(26/35) Installing libtasn1 (4.19.0-r0)\n(27/35) Installing libunistring (1.1-r0)\n(28/35) Installing gnutls (3.7.8-r2)\n(29/35) Installing gdbm (1.23-r0)\n(30/35) Installing libsasl (2.1.28-r3)\n(31/35) Installing libldap (2.6.3-r6)\n(32/35) Installing gnupg-dirmngr (2.2.40-r0)\n(33/35) Installing gnupg-utils (2.2.40-r0)\n(34/35) Installing gnupg-wks-client (2.2.40-r0)\n(35/35) Installing gnupg (2.2.40-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 26 MiB in 52 packages\nRemoving intermediate container 5821d62d8837\n ---> 4428870e24eb\nStep 4/10 : RUN wget https://download.docker.com/linux/static/stable/x86_64/docker-20.10.7.tgz   && tar -xvzf docker-20.10.7.tgz   && cp docker/* /usr/bin/\n ---> Running in 8eaab5d71d92\n\u001b[91mConnecting to download.docker.com (108.157.214.100:443)\n\u001b[0m\u001b[91msaving to 'docker-20.10.7.tgz'\n\u001b[0m\u001b[91mdocker-20.10.7.tgz     0% |                                | 26847  0:43:37 ETA\n\u001b[0m\u001b[91mdocker-20.10.7.tgz   100% |********************************| 66.4M  0:00:00 ETA\n'docker-20.10.7.tgz' saved\n\u001b[0mdocker/\ndocker/docker-proxy\ndocker/containerd\ndocker/dockerd\ndocker/docker\ndocker/containerd-shim-runc-v2\ndocker/ctr\ndocker/docker-init\ndocker/runc\ndocker/containerd-shim\nRemoving intermediate container 8eaab5d71d92\n ---> d8cf81a79906\nStep 5/10 : RUN mkdir -p /home/probo/app\n ---> Running in 44720c22bf90\nRemoving intermediate container 44720c22bf90\n ---> 17e27d94b391\nStep 6/10 : COPY . /home/probo/app\n ---> 60063bb80cde\nStep 7/10 : RUN cd /home/probo/app/ && npm install\n ---> Running in 1447e14ed688\n\u001b[91mnpm WARN skipping integrity check for git dependency ssh://git@github.com/proboci/probo-eventbus.git \n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m request-promise@4.2.4: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@5.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated ini@1.3.5: Please update to ini >=1.3.6 to avoid a prototype pollution issue\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.3: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated flat@4.1.0: Fixed a prototype pollution security issue in 4.1.0, please upgrade to ^4.1.1 or ^5.0.1.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m formidable@1.2.1: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\nadded 770 packages, and audited 771 packages in 20s\n\n37 vulnerabilities (12 moderate, 17 high, 8 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 1447e14ed688\n ---> b9ac8ec07f86\nStep 8/10 : WORKDIR /home/probo/app\n ---> Running in 27c833af6482\nRemoving intermediate container 27c833af6482\n ---> f260ff44eebb\nStep 9/10 : EXPOSE 3010 3020\n ---> Running in 4ad2571d14e0\nRemoving intermediate container 4ad2571d14e0\n ---> 0010e748b8e5\nStep 10/10 : CMD [\"sh\", \"/home/probo/app/bin/startup.sh\"]\n ---> Running in 546db61e5fac\nRemoving intermediate container 546db61e5fac\n ---> f42e950289c6\nSuccessfully built f42e950289c6\nSuccessfully tagged probo:latest\n","stderr":"","imageSize":781358234},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":28,"end":28,"columnStart":27,"columnEnd":38}},{"name":"tarSomethingRmTheSomething","position":{"start":22,"end":22,"columnStart":5,"columnEnd":33}},{"name":"apkAddUseNoCache","position":{"start":19,"end":19,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"#\n# Copyright 2022 ProboCI, LLC\n\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n\n# http://www.apache.org/licenses/LICENSE-2.0\n\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\nFROM node:16-alpine\nUSER root\n\nRUN apk add --no-cache curl gnupg\n\nRUN wget https://download.docker.com/linux/static/stable/x86_64/docker-20.10.7.tgz \\\n  && tar -xvzf docker-20.10.7.tgz \\\n  && cp docker/* /usr/bin/\n\nRUN mkdir -p /home/probo/app\nCOPY . /home/probo/app\n\nRUN cd /home/probo/app/ && npm install\n\nWORKDIR /home/probo/app\n\nEXPOSE 3010 3020\n\nCMD [\"sh\", \"/home/probo/app/bin/startup.sh\"]\n"},"repairedBuild":{"startTimestamp":1672527617472,"endTimestamp":1672527693352,"error":null,"stdout":"Sending build context to Docker daemon   1.39MB\r\r\nStep 1/10 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/10 : USER root\n ---> Running in 72e0d4ed0ad4\nRemoving intermediate container 72e0d4ed0ad4\n ---> 84754372db34\nStep 3/10 : RUN apk add --no-cache curl gnupg\n ---> Running in 61d283e04f49\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/35) Installing ca-certificates (20220614-r3)\n(2/35) Installing brotli-libs (1.0.9-r9)\n(3/35) Installing nghttp2-libs (1.51.0-r0)\n(4/35) Installing libcurl (7.87.0-r0)\n(5/35) Installing curl (7.87.0-r0)\n(6/35) Installing libgpg-error (1.46-r1)\n(7/35) Installing libassuan (2.5.5-r1)\n(8/35) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(9/35) Installing ncurses-libs (6.3_p20221119-r0)\n(10/35) Installing pinentry (1.2.1-r0)\nExecuting pinentry-1.2.1-r0.post-install\n(11/35) Installing libgcrypt (1.10.1-r0)\n(12/35) Installing gnupg-gpgconf (2.2.40-r0)\n(13/35) Installing libbz2 (1.0.8-r4)\n(14/35) Installing sqlite-libs (3.40.1-r0)\n(15/35) Installing gpg (2.2.40-r0)\n(16/35) Installing npth (1.6-r2)\n(17/35) Installing gpg-agent (2.2.40-r0)\n(18/35) Installing gpg-wks-server (2.2.40-r0)\n(19/35) Installing libksba (1.6.3-r0)\n(20/35) Installing gpgsm (2.2.40-r0)\n(21/35) Installing gpgv (2.2.40-r0)\n(22/35) Installing gmp (6.2.1-r2)\n(23/35) Installing nettle (3.8.1-r0)\n(24/35) Installing libffi (3.4.4-r0)\n(25/35) Installing p11-kit (0.24.1-r1)\n(26/35) Installing libtasn1 (4.19.0-r0)\n(27/35) Installing libunistring (1.1-r0)\n(28/35) Installing gnutls (3.7.8-r2)\n(29/35) Installing gdbm (1.23-r0)\n(30/35) Installing libsasl (2.1.28-r3)\n(31/35) Installing libldap (2.6.3-r6)\n(32/35) Installing gnupg-dirmngr (2.2.40-r0)\n(33/35) Installing gnupg-utils (2.2.40-r0)\n(34/35) Installing gnupg-wks-client (2.2.40-r0)\n(35/35) Installing gnupg (2.2.40-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 26 MiB in 52 packages\nRemoving intermediate container 61d283e04f49\n ---> aa55de5f35c8\nStep 4/10 : RUN wget https://download.docker.com/linux/static/stable/x86_64/docker-20.10.7.tgz   && tar -xvzf docker-20.10.7.tgz   && cp docker/* /usr/bin/\n ---> Running in 2abbf0268828\n\u001b[91mConnecting to download.docker.com (108.157.214.41:443)\n\u001b[0m\u001b[91msaving to 'docker-20.10.7.tgz'\n\u001b[0m\u001b[91mdocker-20.10.7.tgz    84% |**************************      | 56.0M  0:00:00 ETA\n\u001b[0m\u001b[91mdocker-20.10.7.tgz   100% |********************************| 66.4M  0:00:00 ETA\n'docker-20.10.7.tgz' saved\n\u001b[0mdocker/\ndocker/docker-proxy\ndocker/containerd\ndocker/dockerd\ndocker/docker\ndocker/containerd-shim-runc-v2\ndocker/ctr\ndocker/docker-init\ndocker/runc\ndocker/containerd-shim\nRemoving intermediate container 2abbf0268828\n ---> 0dabadf2e3a5\nStep 5/10 : RUN mkdir -p /home/probo/app\n ---> Running in 1088081a2b92\nRemoving intermediate container 1088081a2b92\n ---> 035be616a59e\nStep 6/10 : COPY . /home/probo/app\n ---> 65e78caa2e34\nStep 7/10 : RUN cd /home/probo/app/ && npm install\n ---> Running in e3dd227e45e7\n\u001b[91mnpm WARN skipping integrity check for git dependency ssh://git@github.com/proboci/probo-eventbus.git \n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.4: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated ini@1.3.5: Please update to ini >=1.3.6 to avoid a prototype pollution issue\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.3: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated flat@4.1.0: Fixed a prototype pollution security issue in 4.1.0, please upgrade to ^4.1.1 or ^5.0.1.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated formidable@1.2.1: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@5.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\nadded 770 packages, and audited 771 packages in 10s\n\n38 vulnerabilities (12 moderate, 18 high, 8 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container e3dd227e45e7\n ---> 4479c341ce85\nStep 8/10 : WORKDIR /home/probo/app\n ---> Running in 872574c60615\nRemoving intermediate container 872574c60615\n ---> 358ae17149a7\nStep 9/10 : EXPOSE 3010 3020\n ---> Running in f416e08c244f\nRemoving intermediate container f416e08c244f\n ---> 4d333e4a932c\nStep 10/10 : CMD [\"sh\", \"/home/probo/app/bin/startup.sh\"]\n ---> Running in e2b08794399d\nRemoving intermediate container e2b08794399d\n ---> 9cf84aa57ed2\nSuccessfully built 9cf84aa57ed2\nSuccessfully tagged probo:latest\n","stderr":"","imageSize":778886278},"endTime":1672527694222}