{"repository":"https://github.com/handshake-org/hsd","dockerfilePath":"Dockerfile","startTime":1672089018544,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/handshake-org/hsd'...\n","error":null,"commit":"bc4a67966b5d835fd19adea8c8ffc6dff53dc581"},"originalBuild":{"startTimestamp":1672089021060,"endTimestamp":1672089121178,"error":null,"stdout":"Sending build context to Docker daemon  22.67MB\r\r\nStep 1/13 : FROM node:18-alpine AS base\n ---> 6d7b7852bcd3\nStep 2/13 : WORKDIR /opt/hsd\n ---> Running in 9aaaf0b9a375\nRemoving intermediate container 9aaaf0b9a375\n ---> 4d867de21db8\nStep 3/13 : RUN apk add --no-cache bash unbound-dev gmp-dev\n ---> Running in 3739b0ab39bd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/23) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/23) Installing ncurses-libs (6.3_p20221119-r0)\n(3/23) Installing readline (8.2.0-r0)\n(4/23) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/23) Installing gmp (6.2.1-r2)\n(6/23) Installing libgmpxx (6.2.1-r2)\n(7/23) Installing pkgconf (1.9.3-r0)\n(8/23) Installing gmp-dev (6.2.1-r2)\n(9/23) Installing libexpat (2.5.0-r0)\n(10/23) Installing expat (2.5.0-r0)\n(11/23) Installing expat-dev (2.5.0-r0)\n(12/23) Installing libbz2 (1.0.8-r4)\n(13/23) Installing libffi (3.4.4-r0)\n(14/23) Installing gdbm (1.23-r0)\n(15/23) Installing xz-libs (5.2.9-r0)\n(16/23) Installing mpdecimal (2.5.1-r1)\n(17/23) Installing sqlite-libs (3.40.0-r0)\n(18/23) Installing python3 (3.10.9-r1)\n(19/23) Installing libevent (2.1.12-r5)\n(20/23) Installing libevent-dev (2.1.12-r5)\n(21/23) Installing python3-dev (3.10.9-r1)\n(22/23) Installing unbound-libs (1.17.0-r0)\n(23/23) Installing unbound-dev (1.17.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 113 MiB in 40 packages\nRemoving intermediate container 3739b0ab39bd\n ---> 3d3417a1671e\nStep 4/13 : COPY package.json /opt/hsd\n ---> f257fbb625cc\nStep 5/13 : FROM base AS build\n ---> f257fbb625cc\nStep 6/13 : RUN apk add --no-cache g++ gcc make python3\n ---> Running in adee57ce2e36\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/12) Installing binutils (2.39-r2)\n(3/12) Installing libgomp (12.2.1_git20220924-r4)\n(4/12) Installing libatomic (12.2.1_git20220924-r4)\n(5/12) Installing isl25 (0.25-r0)\n(6/12) Installing mpfr4 (4.1.0-r0)\n(7/12) Installing mpc1 (1.2.1-r1)\n(8/12) Installing gcc (12.2.1_git20220924-r4)\n(9/12) Installing musl-dev (1.2.3-r4)\n(10/12) Installing libc-dev (0.7.2-r3)\n(11/12) Installing g++ (12.2.1_git20220924-r4)\n(12/12) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 339 MiB in 52 packages\nRemoving intermediate container adee57ce2e36\n ---> f87f0acb6ee4\nStep 7/13 : RUN npm install --omit=dev\n ---> Running in 958f632fa732\n\nadded 34 packages, and audited 35 packages in 1m\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 958f632fa732\n ---> 67112a8dcb29\nStep 8/13 : FROM base\n ---> f257fbb625cc\nStep 9/13 : ENV PATH=\"${PATH}:/opt/hsd/bin:/opt/hsd/node_modules/.bin\"\n ---> Running in d44433cec394\nRemoving intermediate container d44433cec394\n ---> 6d51f3159ea5\nStep 10/13 : COPY --from=build /opt/hsd/node_modules /opt/hsd/node_modules/\n ---> 2de7d148b625\nStep 11/13 : COPY bin /opt/hsd/bin/\n ---> a7840c0a2875\nStep 12/13 : COPY lib /opt/hsd/lib/\n ---> ef144588dc20\nStep 13/13 : ENTRYPOINT [\"hsd\"]\n ---> Running in b16f6a031caf\nRemoving intermediate container b16f6a031caf\n ---> 1627adc50dd9\nSuccessfully built 1627adc50dd9\nSuccessfully tagged hsd:latest\n","stderr":"","imageSize":306510658},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM node:18-alpine AS base\nWORKDIR /opt/hsd\nRUN apk add --no-cache bash unbound-dev gmp-dev\nCOPY package.json /opt/hsd\n\n# Install build dependencies and compile.\nFROM base AS build\nRUN apk add --no-cache g++ gcc make python3\nRUN npm install --omit=dev\n\nFROM base\nENV PATH=\"${PATH}:/opt/hsd/bin:/opt/hsd/node_modules/.bin\"\nCOPY --from=build /opt/hsd/node_modules /opt/hsd/node_modules/\nCOPY bin /opt/hsd/bin/\nCOPY lib /opt/hsd/lib/\nENTRYPOINT [\"hsd\"]\n"},"repairedBuild":{"startTimestamp":1672089121562,"endTimestamp":1672089195028,"error":null,"stdout":"Sending build context to Docker daemon  22.67MB\r\r\nStep 1/13 : FROM node:18-alpine AS base\n ---> 6d7b7852bcd3\nStep 2/13 : WORKDIR /opt/hsd\n ---> Running in 2aad3d20044b\nRemoving intermediate container 2aad3d20044b\n ---> 4d505e9e99ac\nStep 3/13 : RUN apk add --no-cache bash unbound-dev gmp-dev\n ---> Running in 8d73d9852214\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/23) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/23) Installing ncurses-libs (6.3_p20221119-r0)\n(3/23) Installing readline (8.2.0-r0)\n(4/23) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/23) Installing gmp (6.2.1-r2)\n(6/23) Installing libgmpxx (6.2.1-r2)\n(7/23) Installing pkgconf (1.9.3-r0)\n(8/23) Installing gmp-dev (6.2.1-r2)\n(9/23) Installing libexpat (2.5.0-r0)\n(10/23) Installing expat (2.5.0-r0)\n(11/23) Installing expat-dev (2.5.0-r0)\n(12/23) Installing libbz2 (1.0.8-r4)\n(13/23) Installing libffi (3.4.4-r0)\n(14/23) Installing gdbm (1.23-r0)\n(15/23) Installing xz-libs (5.2.9-r0)\n(16/23) Installing mpdecimal (2.5.1-r1)\n(17/23) Installing sqlite-libs (3.40.0-r0)\n(18/23) Installing python3 (3.10.9-r1)\n(19/23) Installing libevent (2.1.12-r5)\n(20/23) Installing libevent-dev (2.1.12-r5)\n(21/23) Installing python3-dev (3.10.9-r1)\n(22/23) Installing unbound-libs (1.17.0-r0)\n(23/23) Installing unbound-dev (1.17.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 113 MiB in 40 packages\nRemoving intermediate container 8d73d9852214\n ---> 61a0a20ae7ac\nStep 4/13 : COPY package.json /opt/hsd\n ---> 3cb86d07ba56\nStep 5/13 : FROM base AS build\n ---> 3cb86d07ba56\nStep 6/13 : RUN apk add --no-cache g++ gcc make python3\n ---> Running in 4b4581f781a2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/12) Installing binutils (2.39-r2)\n(3/12) Installing libgomp (12.2.1_git20220924-r4)\n(4/12) Installing libatomic (12.2.1_git20220924-r4)\n(5/12) Installing isl25 (0.25-r0)\n(6/12) Installing mpfr4 (4.1.0-r0)\n(7/12) Installing mpc1 (1.2.1-r1)\n(8/12) Installing gcc (12.2.1_git20220924-r4)\n(9/12) Installing musl-dev (1.2.3-r4)\n(10/12) Installing libc-dev (0.7.2-r3)\n(11/12) Installing g++ (12.2.1_git20220924-r4)\n(12/12) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 339 MiB in 52 packages\nRemoving intermediate container 4b4581f781a2\n ---> 6875db3e6d65\nStep 7/13 : RUN npm install --omit=dev\n ---> Running in 18c38c694262\n\nadded 34 packages, and audited 35 packages in 36s\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 18c38c694262\n ---> 3780779c95e5\nStep 8/13 : FROM base\n ---> 3cb86d07ba56\nStep 9/13 : ENV PATH=\"${PATH}:/opt/hsd/bin:/opt/hsd/node_modules/.bin\"\n ---> Running in e22ea7f17b1b\nRemoving intermediate container e22ea7f17b1b\n ---> ccf7ff104799\nStep 10/13 : COPY --from=build /opt/hsd/node_modules /opt/hsd/node_modules/\n ---> 963ba6005122\nStep 11/13 : COPY bin /opt/hsd/bin/\n ---> 77f7813238c4\nStep 12/13 : COPY lib /opt/hsd/lib/\n ---> afc2d3fcb994\nStep 13/13 : ENTRYPOINT [\"hsd\"]\n ---> Running in c1be2a49f345\nRemoving intermediate container c1be2a49f345\n ---> 65acc774d51b\nSuccessfully built 65acc774d51b\nSuccessfully tagged hsd:latest\n","stderr":"","imageSize":306510658},"endTime":1672089195465}