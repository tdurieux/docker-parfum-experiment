{"repository":"https://github.com/orangesys/alpine-grafana","dockerfilePath":"Dockerfile","startTime":1672736247862,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/orangesys/alpine-grafana'...\n","error":null,"commit":"6ed59fa5570c3f1133b99c1ea57017f8f34ce8ae"},"originalBuild":{"startTimestamp":1672736248653,"endTimestamp":1672736277623,"error":null,"stdout":"Sending build context to Docker daemon    108kB\r\r\nStep 1/16 : ARG BASE_IMAGE=alpine:3.11.6\nStep 2/16 : FROM ${BASE_IMAGE}\n3.11.6: Pulling from library/alpine\ncbdbe7a5bc2a: Pulling fs layer\ncbdbe7a5bc2a: Verifying Checksum\ncbdbe7a5bc2a: Download complete\ncbdbe7a5bc2a: Pull complete\nDigest: sha256:9a839e63dad54c3a6d1834e29692c8492d93f90c59c978c1ed79109ea4fb9a54\nStatus: Downloaded newer image for alpine:3.11.6\n ---> f70734b6a266\nStep 3/16 : ENV GRAFANA_VERSION=7.0.0\n ---> Running in 83243ab394b1\nRemoving intermediate container 83243ab394b1\n ---> 316cce320724\nStep 4/16 : RUN mkdir /tmp/grafana   && wget -P /tmp/ https://dl.grafana.com/oss/release/grafana-${GRAFANA_VERSION}.linux-amd64.tar.gz   && tar xfz /tmp/grafana-${GRAFANA_VERSION}.linux-amd64.tar.gz --strip-components=1 -C /tmp/grafana\n ---> Running in e0e256d48ce6\n\u001b[91mConnecting to dl.grafana.com (151.101.86.217:443)\n\u001b[0m\u001b[91msaving to '/tmp/grafana-7.0.0.linux-amd64.tar.gz'\n\u001b[0m\u001b[91mgrafana-7.0.0.linux-  39% |************                    | 18.5M  0:00:01 ETA\n\u001b[0m\u001b[91mgrafana-7.0.0.linux- 100% |********************************| 46.7M  0:00:00 ETA\n'/tmp/grafana-7.0.0.linux-amd64.tar.gz' saved\n\u001b[0mRemoving intermediate container e0e256d48ce6\n ---> 11c6d55ca71f\nStep 5/16 : ARG BASE_IMAGE=alpine:3.11.6\n ---> Running in 94bc8833ffba\nRemoving intermediate container 94bc8833ffba\n ---> de3c45c7eda6\nStep 6/16 : FROM ${BASE_IMAGE}\n ---> f70734b6a266\nStep 7/16 : LABEL maintainer \"gavin zhou <gavin.zhou@gmail.com>\"\n ---> Running in 73b3490f2621\nRemoving intermediate container 73b3490f2621\n ---> 4402c05bcfc8\nStep 8/16 : ENV PATH=/usr/share/grafana/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin     GF_PATHS_CONFIG=\"/etc/grafana/grafana.ini\"     GF_PATHS_DATA=\"/var/lib/grafana\"     GF_PATHS_HOME=\"/usr/share/grafana\"     GF_PATHS_LOGS=\"/var/log/grafana\"     GF_PATHS_PLUGINS=\"/var/lib/grafana/plugins\"     GF_PATHS_PROVISIONING=\"/etc/grafana/provisioning\"\n ---> Running in 8f243cc4ef05\nRemoving intermediate container 8f243cc4ef05\n ---> 7b7e0d0705bc\nStep 9/16 : WORKDIR $GF_PATHS_HOME\n ---> Running in 5b55337743ac\nRemoving intermediate container 5b55337743ac\n ---> b7534afa76f2\nStep 10/16 : RUN set -ex     && addgroup -S grafana     && adduser -S -G grafana grafana     && apk add --no-cache libc6-compat ca-certificates su-exec bash\n ---> Running in b37ebc4471e8\n\u001b[91m+ addgroup -S grafana\n\u001b[0m\u001b[91m+ adduser -S -G grafana grafana\n\u001b[0m\u001b[91m+ apk add --no-cache libc6-compat ca-certificates su-exec bash\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/8) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/8) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(3/8) Installing ncurses-libs (6.1_p20200118-r4)\n(4/8) Installing readline (8.0.1-r0)\n(5/8) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(6/8) Installing ca-certificates (20191127-r2)\n(7/8) Installing libc6-compat (1.1.24-r3)\n(8/8) Installing su-exec (0.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 8 MiB in 21 packages\nRemoving intermediate container b37ebc4471e8\n ---> 74b5cba69f79\nStep 11/16 : COPY --from=0 /tmp/grafana \"$GF_PATHS_HOME\"\n ---> 69468c3efdc3\nStep 12/16 : RUN mkdir -p \"$GF_PATHS_HOME/.aws\"     && mkdir -p \"$GF_PATHS_PROVISIONING/datasources\"         \"$GF_PATHS_PROVISIONING/dashboards\"         \"$GF_PATHS_PROVISIONING/notifiers\"         \"$GF_PATHS_LOGS\"         \"$GF_PATHS_PLUGINS\"         \"$GF_PATHS_DATA\"     && chown -R grafana:grafana \"$GF_PATHS_DATA\" \"$GF_PATHS_HOME/.aws\" \"$GF_PATHS_LOGS\" \"$GF_PATHS_PLUGINS\" \"$GF_PATHS_PROVISIONING\"     && chmod -R 777 \"$GF_PATHS_DATA\" \"$GF_PATHS_HOME/.aws\" \"$GF_PATHS_LOGS\" \"$GF_PATHS_PLUGINS\" \"$GF_PATHS_PROVISIONING\"\n ---> Running in 28fcc383045c\nRemoving intermediate container 28fcc383045c\n ---> 9f27a1a4a6b3\nStep 13/16 : COPY ./config.docker/grafana.ini \"$GF_PATHS_CONFIG\"\n ---> b0d03d786bb9\nStep 14/16 : COPY ./run.sh /run.sh\n ---> 7ee8f704f516\nStep 15/16 : EXPOSE 3000\n ---> Running in e855c1716bf9\nRemoving intermediate container e855c1716bf9\n ---> 4cd0dc2e6681\nStep 16/16 : CMD [\"/run.sh\"]\n ---> Running in 38ed77886012\nRemoving intermediate container 38ed77886012\n ---> fba4f10f7b8b\nSuccessfully built fba4f10f7b8b\nSuccessfully tagged alpine-grafana:latest\n","stderr":"","imageSize":156155558},"repair":{"violations":[{"name":"tarSomethingRmTheSomething","position":{"start":6,"end":6,"columnStart":5,"columnEnd":100}}],"repairedDockerfile":"ARG BASE_IMAGE=alpine:3.11.6\nFROM ${BASE_IMAGE}\n\nENV GRAFANA_VERSION=7.0.0\nRUN mkdir /tmp/grafana \\\n  && wget -P /tmp/ https://dl.grafana.com/oss/release/grafana-${GRAFANA_VERSION}.linux-amd64.tar.gz \\\n  && tar xfz /tmp/grafana-${GRAFANA_VERSION}.linux-amd64.tar.gz --strip-components=1 -C /tmp/grafana\n\n\nARG BASE_IMAGE=alpine:3.11.6\nFROM ${BASE_IMAGE}\nLABEL maintainer \"gavin zhou <gavin.zhou@gmail.com>\"\n\nENV PATH=/usr/share/grafana/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n    GF_PATHS_CONFIG=\"/etc/grafana/grafana.ini\" \\\n    GF_PATHS_DATA=\"/var/lib/grafana\" \\\n    GF_PATHS_HOME=\"/usr/share/grafana\" \\\n    GF_PATHS_LOGS=\"/var/log/grafana\" \\\n    GF_PATHS_PLUGINS=\"/var/lib/grafana/plugins\" \\\n    GF_PATHS_PROVISIONING=\"/etc/grafana/provisioning\"\n\nWORKDIR $GF_PATHS_HOME   \n\nRUN set -ex \\\n    && addgroup -S grafana \\\n    && adduser -S -G grafana grafana \\\n    && apk add --no-cache libc6-compat ca-certificates su-exec bash\n\nCOPY --from=0 /tmp/grafana \"$GF_PATHS_HOME\"\nRUN mkdir -p \"$GF_PATHS_HOME/.aws\" \\\n    && mkdir -p \"$GF_PATHS_PROVISIONING/datasources\" \\\n        \"$GF_PATHS_PROVISIONING/dashboards\" \\\n        \"$GF_PATHS_PROVISIONING/notifiers\" \\\n        \"$GF_PATHS_LOGS\" \\\n        \"$GF_PATHS_PLUGINS\" \\\n        \"$GF_PATHS_DATA\" \\\n    && chown -R grafana:grafana \"$GF_PATHS_DATA\" \"$GF_PATHS_HOME/.aws\" \"$GF_PATHS_LOGS\" \"$GF_PATHS_PLUGINS\" \"$GF_PATHS_PROVISIONING\" \\\n    && chmod -R 777 \"$GF_PATHS_DATA\" \"$GF_PATHS_HOME/.aws\" \"$GF_PATHS_LOGS\" \"$GF_PATHS_PLUGINS\" \"$GF_PATHS_PROVISIONING\"\n\nCOPY ./config.docker/grafana.ini \"$GF_PATHS_CONFIG\"\nCOPY ./run.sh /run.sh\n\nEXPOSE 3000\n\nCMD [\"/run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672736278040,"endTimestamp":1672736301494,"error":null,"stdout":"Sending build context to Docker daemon    108kB\r\r\nStep 1/16 : ARG BASE_IMAGE=alpine:3.11.6\nStep 2/16 : FROM ${BASE_IMAGE}\n ---> f70734b6a266\nStep 3/16 : ENV GRAFANA_VERSION=7.0.0\n ---> Running in 8f84d9f0b138\nRemoving intermediate container 8f84d9f0b138\n ---> e34b87d7cd7a\nStep 4/16 : RUN mkdir /tmp/grafana   && wget -P /tmp/ https://dl.grafana.com/oss/release/grafana-${GRAFANA_VERSION}.linux-amd64.tar.gz   && tar xfz /tmp/grafana-${GRAFANA_VERSION}.linux-amd64.tar.gz --strip-components=1 -C /tmp/grafana\n ---> Running in 46b1b1b386ff\n\u001b[91mConnecting to dl.grafana.com (151.101.86.217:443)\n\u001b[0m\u001b[91msaving to '/tmp/grafana-7.0.0.linux-amd64.tar.gz'\n\u001b[0m\u001b[91mgrafana-7.0.0.linux-   3% |*                               | 1856k  0:00:24 ETA\n\u001b[0m\u001b[91mgrafana-7.0.0.linux- 100% |********************************| 46.7M  0:00:00 ETA\n'/tmp/grafana-7.0.0.linux-amd64.tar.gz' saved\n\u001b[0mRemoving intermediate container 46b1b1b386ff\n ---> c400758f3b1b\nStep 5/16 : ARG BASE_IMAGE=alpine:3.11.6\n ---> Running in 8999ffbaa339\nRemoving intermediate container 8999ffbaa339\n ---> a5014cc22db7\nStep 6/16 : FROM ${BASE_IMAGE}\n ---> f70734b6a266\nStep 7/16 : LABEL maintainer \"gavin zhou <gavin.zhou@gmail.com>\"\n ---> Running in 59f5d8e2065a\nRemoving intermediate container 59f5d8e2065a\n ---> ee8016da69c7\nStep 8/16 : ENV PATH=/usr/share/grafana/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin     GF_PATHS_CONFIG=\"/etc/grafana/grafana.ini\"     GF_PATHS_DATA=\"/var/lib/grafana\"     GF_PATHS_HOME=\"/usr/share/grafana\"     GF_PATHS_LOGS=\"/var/log/grafana\"     GF_PATHS_PLUGINS=\"/var/lib/grafana/plugins\"     GF_PATHS_PROVISIONING=\"/etc/grafana/provisioning\"\n ---> Running in 997ecb0c491e\nRemoving intermediate container 997ecb0c491e\n ---> 8dd304466230\nStep 9/16 : WORKDIR $GF_PATHS_HOME\n ---> Running in 517f8f47a16c\nRemoving intermediate container 517f8f47a16c\n ---> b38eb4d50fd5\nStep 10/16 : RUN set -ex     && addgroup -S grafana     && adduser -S -G grafana grafana     && apk add --no-cache libc6-compat ca-certificates su-exec bash\n ---> Running in 5bbb970e1afa\n\u001b[91m+ addgroup -S grafana\n\u001b[0m\u001b[91m+ adduser -S -G grafana grafana\n\u001b[0m\u001b[91m+ apk add --no-cache libc6-compat ca-certificates su-exec bash\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/8) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/8) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(3/8) Installing ncurses-libs (6.1_p20200118-r4)\n(4/8) Installing readline (8.0.1-r0)\n(5/8) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(6/8) Installing ca-certificates (20191127-r2)\n(7/8) Installing libc6-compat (1.1.24-r3)\n(8/8) Installing su-exec (0.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 8 MiB in 21 packages\nRemoving intermediate container 5bbb970e1afa\n ---> d3833b58a638\nStep 11/16 : COPY --from=0 /tmp/grafana \"$GF_PATHS_HOME\"\n ---> 3f1775ff392c\nStep 12/16 : RUN mkdir -p \"$GF_PATHS_HOME/.aws\"     && mkdir -p \"$GF_PATHS_PROVISIONING/datasources\"         \"$GF_PATHS_PROVISIONING/dashboards\"         \"$GF_PATHS_PROVISIONING/notifiers\"         \"$GF_PATHS_LOGS\"         \"$GF_PATHS_PLUGINS\"         \"$GF_PATHS_DATA\"     && chown -R grafana:grafana \"$GF_PATHS_DATA\" \"$GF_PATHS_HOME/.aws\" \"$GF_PATHS_LOGS\" \"$GF_PATHS_PLUGINS\" \"$GF_PATHS_PROVISIONING\"     && chmod -R 777 \"$GF_PATHS_DATA\" \"$GF_PATHS_HOME/.aws\" \"$GF_PATHS_LOGS\" \"$GF_PATHS_PLUGINS\" \"$GF_PATHS_PROVISIONING\"\n ---> Running in eda7258577f7\nRemoving intermediate container eda7258577f7\n ---> b467ae3ea42a\nStep 13/16 : COPY ./config.docker/grafana.ini \"$GF_PATHS_CONFIG\"\n ---> 42ee245f460d\nStep 14/16 : COPY ./run.sh /run.sh\n ---> 4d6891985772\nStep 15/16 : EXPOSE 3000\n ---> Running in cd6f3f3c3375\nRemoving intermediate container cd6f3f3c3375\n ---> 7861b496d6ba\nStep 16/16 : CMD [\"/run.sh\"]\n ---> Running in 4548ed38199c\nRemoving intermediate container 4548ed38199c\n ---> 496693f48d9f\nSuccessfully built 496693f48d9f\nSuccessfully tagged alpine-grafana:latest\n","stderr":"","imageSize":156155558},"endTime":1672736301802}