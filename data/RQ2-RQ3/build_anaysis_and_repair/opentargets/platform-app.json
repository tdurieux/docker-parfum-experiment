{"repository":"https://github.com/opentargets/platform-app","dockerfilePath":"Dockerfile","startTime":1672831332897,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/opentargets/platform-app'...\n","error":null,"commit":"e56cf56c80f9413708b37ed26dd29d311babab6c"},"originalBuild":{"startTimestamp":1672831334772,"endTimestamp":1672831673582,"error":null,"stdout":"Sending build context to Docker daemon  10.18MB\r\r\nStep 1/13 : FROM node:12 as build\n ---> 6c8de432fc7f\nStep 2/13 : RUN case `yarn --version` in 1.22*) true;; *) false;; esac\n ---> Running in 9c8e7af488d4\nRemoving intermediate container 9c8e7af488d4\n ---> 3e485ed4964d\nStep 3/13 : COPY package.json yarn.lock /tmp/platform-app/\n ---> a9cb66c7d5f3\nStep 4/13 : WORKDIR /tmp/platform-app/\n ---> Running in 84c14a0be8b6\nRemoving intermediate container 84c14a0be8b6\n ---> f9460a8db7cd\nStep 5/13 : RUN yarn\n ---> Running in 7e3d335193a4\nyarn install v1.22.18\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > @clampy-js/react-clampy@1.2.0\" has unmet peer dependency \"element-resize-detector@^1.1.14\".\nwarning \" > @clampy-js/react-clampy@1.2.0\" has unmet peer dependency \"prop-types@^15.7.2\".\n\u001b[0m\u001b[91mwarning \"graphql.macro > babel-literal-to-ast@2.1.0\" has unmet peer dependency \"@babel/core@^7.1.2\".\n\u001b[0m\u001b[91mwarning \"graphql.macro > graphql-tag@2.10.3\" has incorrect peer dependency \"graphql@^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0 || ^14.0.0\".\n\u001b[0m\u001b[91mwarning \"react-scripts > @typescript-eslint/eslint-plugin > tsutils@3.17.1\" has unmet peer dependency \"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 84.09s.\nRemoving intermediate container 7e3d335193a4\n ---> d2f2b50f9db4\nStep 6/13 : COPY . /tmp/platform-app/\n ---> 2accac846c05\nStep 7/13 : RUN yarn build\n ---> Running in 7b8794164ff6\nyarn run v1.22.4\n$ REACT_APP_BUILD_ID=\"$(nanoid)\" GENERATE_SOURCEMAP=false react-scripts build\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  748.39 KB  build/static/js/10.7c976978.chunk.js\n  503.61 KB  build/static/js/9.fd76abd0.chunk.js\n  215.78 KB  build/static/js/11.1ea9c251.chunk.js\n  195.09 KB  build/static/js/4.a14d5e39.chunk.js\n  131.03 KB  build/static/js/13.8123e063.chunk.js\n  112.4 KB   build/static/js/14.9f8a8437.chunk.js\n  81.7 KB    build/static/js/12.eac297e7.chunk.js\n  46.79 KB   build/static/js/16.2878b9aa.chunk.js\n  41.84 KB   build/static/js/5.eec20a79.chunk.js\n  40.64 KB   build/static/js/3.1bd0b120.chunk.js\n  39.16 KB   build/static/js/15.c3dbc5d8.chunk.js\n  20.96 KB   build/static/js/main.1f5aa9ed.chunk.js\n  16.64 KB   build/static/css/13.22ce2802.chunk.css\n  14.87 KB   build/static/css/10.2fab7cd0.chunk.css\n  12.26 KB   build/static/js/18.73f9ec61.chunk.js\n  10.95 KB   build/static/js/1.63d81667.chunk.js\n  8.75 KB    build/static/js/19.fa531db7.chunk.js\n  6.64 KB    build/static/js/2.d32d2ef5.chunk.js\n  6.38 KB    build/static/js/6.4c71c00a.chunk.js\n  6.3 KB     build/static/css/0.5eed0eaa.chunk.css\n  5.21 KB    build/static/js/17.14da4717.chunk.js\n  4.67 KB    build/static/js/22.f5f83ee0.chunk.js\n  3.64 KB    build/static/js/20.5eb71248.chunk.js\n  2.73 KB    build/static/js/0.77e60038.chunk.js\n  2.15 KB    build/static/js/24.e0e5c101.chunk.js\n  2.07 KB    build/static/js/23.a1024d23.chunk.js\n  1.71 KB    build/static/js/runtime-main.11b0bb85.js\n  1.61 KB    build/static/js/25.8bd4c52e.chunk.js\n  718 B      build/static/js/21.25a5e77f.chunk.js\n  670 B      build/static/css/11.834e7aea.chunk.css\n  667 B      build/static/css/main.d58c781b.chunk.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nDone in 113.49s.\nRemoving intermediate container 7b8794164ff6\n ---> 6ac9e383b1e2\nStep 8/13 : FROM node:12\n ---> 6c8de432fc7f\nStep 9/13 : RUN npm install -g serve\n ---> Running in a1f754b44976\n/usr/local/bin/serve -> /usr/local/lib/node_modules/serve/build/main.js\n\u001b[91mnpm WARN notsup Unsupported engine for serve@14.1.2: wanted: {\"node\":\">= 14\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: serve@14.1.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for boxen@7.0.0: wanted: {\"node\":\">=14.16\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: boxen@7.0.0\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for camelcase@7.0.1: wanted: {\"node\":\">=14.16\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: camelcase@7.0.1\n\u001b[0m\u001b[91m\n\u001b[0m+ serve@14.1.2\nadded 91 packages from 43 contributors in 4.959s\nRemoving intermediate container a1f754b44976\n ---> f455c4429887\nStep 10/13 : COPY --from=build /tmp/platform-app/build/ /var/www/platform-app/\n ---> 3ac662fa5607\nStep 11/13 : WORKDIR /var/www/platform-app/\n ---> Running in 1a0e3f11515c\nRemoving intermediate container 1a0e3f11515c\n ---> 66994f6e987b\nStep 12/13 : EXPOSE 80\n ---> Running in 294abddb358a\nRemoving intermediate container 294abddb358a\n ---> dab728d263b2\nStep 13/13 : CMD [\"serve\", \"--no-clipboard\", \"--single\", \"-l\", \"tcp://0.0.0.0:80\"]\n ---> Running in cf7cb11fdb64\nRemoving intermediate container cf7cb11fdb64\n ---> 5db5cff85608\nSuccessfully built 5db5cff85608\nSuccessfully tagged platform-app:latest\n","stderr":"","imageSize":956435189},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"FROM node:12 as build\n# assert that a compatible yarn version is installed or fail\nRUN case `yarn --version` in 1.22*) true;; *) false;; esac\nCOPY package.json yarn.lock /tmp/platform-app/\nWORKDIR /tmp/platform-app/\nRUN yarn\nCOPY . /tmp/platform-app/\nRUN yarn build\nFROM node:12\nRUN npm install -g serve\nCOPY --from=build /tmp/platform-app/build/ /var/www/platform-app/\nWORKDIR /var/www/platform-app/\nEXPOSE 80\nCMD [\"serve\", \"--no-clipboard\", \"--single\", \"-l\", \"tcp://0.0.0.0:80\"]\n"},"repairedBuild":{"startTimestamp":1672831674780,"endTimestamp":1672831997676,"error":null,"stdout":"Sending build context to Docker daemon  10.18MB\r\r\nStep 1/13 : FROM node:12 as build\n ---> 6c8de432fc7f\nStep 2/13 : RUN case `yarn --version` in 1.22*) true;; *) false;; esac\n ---> Running in b6b05375c308\nRemoving intermediate container b6b05375c308\n ---> 679661a99ca2\nStep 3/13 : COPY package.json yarn.lock /tmp/platform-app/\n ---> 31a11d259061\nStep 4/13 : WORKDIR /tmp/platform-app/\n ---> Running in 5d26a2d4abb4\nRemoving intermediate container 5d26a2d4abb4\n ---> 624c10afc091\nStep 5/13 : RUN yarn\n ---> Running in 4bbbbff478e9\nyarn install v1.22.18\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > @clampy-js/react-clampy@1.2.0\" has unmet peer dependency \"element-resize-detector@^1.1.14\".\nwarning \" > @clampy-js/react-clampy@1.2.0\" has unmet peer dependency \"prop-types@^15.7.2\".\n\u001b[0m\u001b[91mwarning \"graphql.macro > babel-literal-to-ast@2.1.0\" has unmet peer dependency \"@babel/core@^7.1.2\".\n\u001b[0m\u001b[91mwarning \"graphql.macro > graphql-tag@2.10.3\" has incorrect peer dependency \"graphql@^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0 || ^14.0.0\".\n\u001b[0m\u001b[91mwarning \"react-scripts > @typescript-eslint/eslint-plugin > tsutils@3.17.1\" has unmet peer dependency \"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 82.44s.\nRemoving intermediate container 4bbbbff478e9\n ---> 577cc92c7816\nStep 6/13 : COPY . /tmp/platform-app/\n ---> cadff3b2c5b9\nStep 7/13 : RUN yarn build\n ---> Running in 4467c3ffcddd\nyarn run v1.22.4\n$ REACT_APP_BUILD_ID=\"$(nanoid)\" GENERATE_SOURCEMAP=false react-scripts build\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  748.38 KB  build/static/js/10.e9074dcf.chunk.js\n  503.61 KB  build/static/js/9.a5fd6a6f.chunk.js\n  215.78 KB  build/static/js/11.1ea9c251.chunk.js\n  195.09 KB  build/static/js/4.a14d5e39.chunk.js\n  131.03 KB  build/static/js/13.8123e063.chunk.js\n  112.4 KB   build/static/js/14.9f8a8437.chunk.js\n  81.7 KB    build/static/js/12.eac297e7.chunk.js\n  46.79 KB   build/static/js/16.2878b9aa.chunk.js\n  41.84 KB   build/static/js/5.eec20a79.chunk.js\n  40.64 KB   build/static/js/3.1bd0b120.chunk.js\n  39.16 KB   build/static/js/15.c3dbc5d8.chunk.js\n  20.96 KB   build/static/js/main.57716193.chunk.js\n  16.64 KB   build/static/css/13.22ce2802.chunk.css\n  14.87 KB   build/static/css/10.2fab7cd0.chunk.css\n  12.26 KB   build/static/js/18.73f9ec61.chunk.js\n  10.95 KB   build/static/js/1.63d81667.chunk.js\n  8.75 KB    build/static/js/19.fa531db7.chunk.js\n  6.64 KB    build/static/js/2.d32d2ef5.chunk.js\n  6.38 KB    build/static/js/6.4c71c00a.chunk.js\n  6.3 KB     build/static/css/0.5eed0eaa.chunk.css\n  5.21 KB    build/static/js/17.14da4717.chunk.js\n  4.67 KB    build/static/js/22.f5f83ee0.chunk.js\n  3.64 KB    build/static/js/20.5eb71248.chunk.js\n  2.73 KB    build/static/js/0.77e60038.chunk.js\n  2.15 KB    build/static/js/24.e0e5c101.chunk.js\n  2.07 KB    build/static/js/23.a1024d23.chunk.js\n  1.71 KB    build/static/js/runtime-main.0021fd52.js\n  1.61 KB    build/static/js/25.8bd4c52e.chunk.js\n  718 B      build/static/js/21.25a5e77f.chunk.js\n  670 B      build/static/css/11.834e7aea.chunk.css\n  667 B      build/static/css/main.d58c781b.chunk.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nDone in 113.28s.\nRemoving intermediate container 4467c3ffcddd\n ---> e233e7cea6db\nStep 8/13 : FROM node:12\n ---> 6c8de432fc7f\nStep 9/13 : RUN npm install -g serve\n ---> Running in fd399e685d49\n/usr/local/bin/serve -> /usr/local/lib/node_modules/serve/build/main.js\n\u001b[91mnpm WARN notsup Unsupported engine for serve@14.1.2: wanted: {\"node\":\">= 14\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: serve@14.1.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for boxen@7.0.0: wanted: {\"node\":\">=14.16\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: boxen@7.0.0\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for camelcase@7.0.1: wanted: {\"node\":\">=14.16\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: camelcase@7.0.1\n\u001b[0m\u001b[91m\n\u001b[0m+ serve@14.1.2\nadded 91 packages from 43 contributors in 5.745s\nRemoving intermediate container fd399e685d49\n ---> b7ebef4a6137\nStep 10/13 : COPY --from=build /tmp/platform-app/build/ /var/www/platform-app/\n ---> c781eee7f29a\nStep 11/13 : WORKDIR /var/www/platform-app/\n ---> Running in b049680a05cd\nRemoving intermediate container b049680a05cd\n ---> e69d2bc4c2d0\nStep 12/13 : EXPOSE 80\n ---> Running in 3567a251404d\nRemoving intermediate container 3567a251404d\n ---> 73d367c118ba\nStep 13/13 : CMD [\"serve\", \"--no-clipboard\", \"--single\", \"-l\", \"tcp://0.0.0.0:80\"]\n ---> Running in aefd8670355c\nRemoving intermediate container aefd8670355c\n ---> 8231932a5ba1\nSuccessfully built 8231932a5ba1\nSuccessfully tagged platform-app:latest\n","stderr":"","imageSize":956435186},"endTime":1672831998137}