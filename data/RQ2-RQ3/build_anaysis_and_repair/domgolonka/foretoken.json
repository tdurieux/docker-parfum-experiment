{"repository":"https://github.com/domgolonka/foretoken","dockerfilePath":"Dockerfile","startTime":1672203612764,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/domgolonka/foretoken'...\n","error":null,"commit":"ced3a9efca581c72deeac0b59d0ffe9c81e3ff85"},"originalBuild":{"startTimestamp":1672203613910,"endTimestamp":1672203742285,"error":null,"stdout":"Sending build context to Docker daemon  1.541MB\r\r\nStep 1/16 : FROM golang:1.17-alpine AS builder\n1.17-alpine: Pulling from library/golang\n530afca65e2e: Pulling fs layer\nd450d4da0343: Pulling fs layer\n8162171ecb65: Pulling fs layer\nff63b82a42d3: Pulling fs layer\n5b4b56e6b994: Pulling fs layer\n5b4b56e6b994: Waiting\nff63b82a42d3: Waiting\nd450d4da0343: Verifying Checksum\nd450d4da0343: Download complete\n8162171ecb65: Download complete\n530afca65e2e: Verifying Checksum\n530afca65e2e: Download complete\n530afca65e2e: Pull complete\n5b4b56e6b994: Download complete\nd450d4da0343: Pull complete\n8162171ecb65: Pull complete\nff63b82a42d3: Verifying Checksum\nff63b82a42d3: Download complete\nff63b82a42d3: Pull complete\n5b4b56e6b994: Pull complete\nDigest: sha256:99ddec1bbfd6d6bca3f9804c02363daee8c8524dae50df7942e8e60788fd17c9\nStatus: Downloaded newer image for golang:1.17-alpine\n ---> 270c4f58750f\nStep 2/16 : RUN apk add bash ca-certificates git libxml2-dev pkgconfig\n ---> Running in b52cb80e69a8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading zlib (1.2.12-r1 -> 1.2.12-r3)\n(2/17) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(3/17) Installing ncurses-libs (6.3_p20220521-r0)\n(4/17) Installing readline (8.1.2-r0)\n(5/17) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(6/17) Installing brotli-libs (1.0.9-r6)\n(7/17) Installing nghttp2-libs (1.47.0-r0)\n(8/17) Installing libcurl (7.83.1-r5)\n(9/17) Installing expat (2.5.0-r0)\n(10/17) Installing pcre2 (10.40-r0)\n(11/17) Installing git (2.36.3-r0)\n(12/17) Installing pkgconf (1.8.0-r1)\n(13/17) Installing zlib-dev (1.2.12-r3)\n(14/17) Installing xz-libs (5.2.5-r1)\n(15/17) Installing xz-dev (5.2.5-r1)\n(16/17) Installing libxml2 (2.9.14-r2)\n(17/17) Installing libxml2-dev (2.9.14-r2)\nExecuting busybox-1.35.0-r15.trigger\nOK: 30 MiB in 31 packages\nRemoving intermediate container b52cb80e69a8\n ---> 8d047515c35b\nStep 3/16 : RUN mkdir /app\n ---> Running in a6b42cd2fea8\nRemoving intermediate container a6b42cd2fea8\n ---> d45b046919ec\nStep 4/16 : WORKDIR /app\n ---> Running in a66c72faefec\nRemoving intermediate container a66c72faefec\n ---> 9583cc4e7bb6\nStep 5/16 : ENV GO111MODULE=on\n ---> Running in b6d600884337\nRemoving intermediate container b6d600884337\n ---> 9fe0c74c5fcd\nStep 6/16 : COPY . .\n ---> ac6c747b1ffc\nStep 7/16 : RUN go mod download\n ---> Running in 0444bf291a83\nRemoving intermediate container 0444bf291a83\n ---> 965063b90cf0\nStep 8/16 : COPY . ./\n ---> 50c02f3c76fe\nStep 9/16 : RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o foretoken cmd/main.go\n ---> Running in 8f26230ae9fc\nRemoving intermediate container 8f26230ae9fc\n ---> 5123646ab7d4\nStep 10/16 : FROM alpine:latest\nlatest: Pulling from library/alpine\nc158987b0551: Already exists\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 11/16 : RUN apk --no-cache add ca-certificates libxml2-dev\n ---> Running in d42edfcf0d10\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ca-certificates (20220614-r3)\n(2/8) Installing pkgconf (1.9.3-r0)\n(3/8) Installing zlib-dev (1.2.13-r0)\n(4/8) Installing xz-libs (5.2.9-r0)\n(5/8) Installing xz-dev (5.2.9-r0)\n(6/8) Installing libxml2 (2.10.3-r1)\n(7/8) Installing libxml2-utils (2.10.3-r1)\n(8/8) Installing libxml2-dev (2.10.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 10 MiB in 23 packages\nRemoving intermediate container d42edfcf0d10\n ---> b4b87a6f614d\nStep 12/16 : RUN mkdir /app\n ---> Running in 9b04618b2b28\nRemoving intermediate container 9b04618b2b28\n ---> 390deea4b1e0\nStep 13/16 : WORKDIR /app\n ---> Running in 95b862de4b24\nRemoving intermediate container 95b862de4b24\n ---> c09e7c259c1d\nStep 14/16 : COPY --from=builder /app/foretoken .\n ---> c6f8c8d5438a\nStep 15/16 : COPY --from=builder /app/config.yml .\n ---> 83cc3b1a278e\nStep 16/16 : ENTRYPOINT [\"./foretoken\"]\n ---> Running in 95a02c9aaf82\nRemoving intermediate container 95a02c9aaf82\n ---> bfedfff7fa89\nSuccessfully built bfedfff7fa89\nSuccessfully tagged foretoken:latest\n","stderr":"","imageSize":42797212},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":58}}],"repairedDockerfile":"FROM golang:1.17-alpine AS builder\n\nRUN apk add --no-cache bash ca-certificates git libxml2-dev pkgconfig\n\nRUN mkdir /app\nWORKDIR /app\nENV GO111MODULE=on\n\nCOPY . .\nRUN go mod download\n\nCOPY . ./\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o foretoken cmd/main.go\n\n# Run container\nFROM alpine:latest\nRUN apk --no-cache add ca-certificates libxml2-dev\nRUN mkdir /app\nWORKDIR /app\nCOPY --from=builder /app/foretoken .\nCOPY --from=builder /app/config.yml .\n\nENTRYPOINT [\"./foretoken\"]\n\n"},"repairedBuild":{"startTimestamp":1672203742682,"endTimestamp":1672203876292,"error":null,"stdout":"Sending build context to Docker daemon  1.541MB\r\r\nStep 1/16 : FROM golang:1.17-alpine AS builder\n ---> 270c4f58750f\nStep 2/16 : RUN apk add --no-cache bash ca-certificates git libxml2-dev pkgconfig\n ---> Running in e499da1435d5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading zlib (1.2.12-r1 -> 1.2.12-r3)\n(2/17) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(3/17) Installing ncurses-libs (6.3_p20220521-r0)\n(4/17) Installing readline (8.1.2-r0)\n(5/17) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(6/17) Installing brotli-libs (1.0.9-r6)\n(7/17) Installing nghttp2-libs (1.47.0-r0)\n(8/17) Installing libcurl (7.83.1-r5)\n(9/17) Installing expat (2.5.0-r0)\n(10/17) Installing pcre2 (10.40-r0)\n(11/17) Installing git (2.36.3-r0)\n(12/17) Installing pkgconf (1.8.0-r1)\n(13/17) Installing zlib-dev (1.2.12-r3)\n(14/17) Installing xz-libs (5.2.5-r1)\n(15/17) Installing xz-dev (5.2.5-r1)\n(16/17) Installing libxml2 (2.9.14-r2)\n(17/17) Installing libxml2-dev (2.9.14-r2)\nExecuting busybox-1.35.0-r15.trigger\nOK: 30 MiB in 31 packages\nRemoving intermediate container e499da1435d5\n ---> 7e0b58d1ac3b\nStep 3/16 : RUN mkdir /app\n ---> Running in 67c84f7e7dff\nRemoving intermediate container 67c84f7e7dff\n ---> 9319f07263f2\nStep 4/16 : WORKDIR /app\n ---> Running in 9a4631f1985c\nRemoving intermediate container 9a4631f1985c\n ---> 5aa8e8f281f2\nStep 5/16 : ENV GO111MODULE=on\n ---> Running in 1bc94c24ec18\nRemoving intermediate container 1bc94c24ec18\n ---> b5665c718a30\nStep 6/16 : COPY . .\n ---> 9d26a2646e3a\nStep 7/16 : RUN go mod download\n ---> Running in 518c530b1af4\nRemoving intermediate container 518c530b1af4\n ---> 25316e8f4b83\nStep 8/16 : COPY . ./\n ---> ca94eff70b3d\nStep 9/16 : RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o foretoken cmd/main.go\n ---> Running in 539194ed079c\nRemoving intermediate container 539194ed079c\n ---> 253445a07657\nStep 10/16 : FROM alpine:latest\n ---> 49176f190c7e\nStep 11/16 : RUN apk --no-cache add ca-certificates libxml2-dev\n ---> Running in 87b93fd3c01e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ca-certificates (20220614-r3)\n(2/8) Installing pkgconf (1.9.3-r0)\n(3/8) Installing zlib-dev (1.2.13-r0)\n(4/8) Installing xz-libs (5.2.9-r0)\n(5/8) Installing xz-dev (5.2.9-r0)\n(6/8) Installing libxml2 (2.10.3-r1)\n(7/8) Installing libxml2-utils (2.10.3-r1)\n(8/8) Installing libxml2-dev (2.10.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 10 MiB in 23 packages\nRemoving intermediate container 87b93fd3c01e\n ---> c142231fce32\nStep 12/16 : RUN mkdir /app\n ---> Running in e4f15fac87c6\nRemoving intermediate container e4f15fac87c6\n ---> bbf1d26f0cd0\nStep 13/16 : WORKDIR /app\n ---> Running in acdba445f2a6\nRemoving intermediate container acdba445f2a6\n ---> 3370b6c6ce15\nStep 14/16 : COPY --from=builder /app/foretoken .\n ---> 4bd0114a2d09\nStep 15/16 : COPY --from=builder /app/config.yml .\n ---> 8a108c20ea4a\nStep 16/16 : ENTRYPOINT [\"./foretoken\"]\n ---> Running in 5178e3155133\nRemoving intermediate container 5178e3155133\n ---> 2d647ed27ddd\nSuccessfully built 2d647ed27ddd\nSuccessfully tagged foretoken:latest\n","stderr":"","imageSize":42797212},"endTime":1672203877857}