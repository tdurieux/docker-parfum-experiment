{"repository":"https://github.com/lqqyt2423/wechat_spider","dockerfilePath":"Dockerfile","startTime":1672255049367,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lqqyt2423/wechat_spider'...\n","error":null,"commit":"fa82ededaef4ae3ba708a00ff06ac3962fadf1e4"},"originalBuild":{"startTimestamp":1672255050437,"endTimestamp":1672255089471,"error":null,"stdout":"Sending build context to Docker daemon  2.833MB\r\r\nStep 1/9 : FROM node:16\n ---> c910109adbfd\nStep 2/9 : WORKDIR /app\n ---> Running in d384446f6a65\nRemoving intermediate container d384446f6a65\n ---> c10005c82b9d\nStep 3/9 : COPY package.json package-lock.json /app/\n ---> d4a26e8ccf22\nStep 4/9 : RUN npm install --only=prod\n ---> Running in d813fe818a68\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 343 packages, and audited 344 packages in 8s\n\n23 packages are looking for funding\n  run `npm fund` for details\n\n21 vulnerabilities (6 moderate, 6 high, 9 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container d813fe818a68\n ---> 410a0d4b5962\nStep 5/9 : COPY . /app\n ---> ca3f2b422ade\nStep 6/9 : RUN cd ~   && mkdir .anyproxy   && cd .anyproxy   && mv /app/certificates ~/.anyproxy/   && cp ~/.anyproxy/certificates/rootCA.crt /usr/local/share/ca-certificates/   && update-ca-certificates\n ---> Running in e54a7bd21e68\nUpdating certificates in /etc/ssl/certs...\n1 added, 0 removed; done.\nRunning hooks in /etc/ca-certificates/update.d...\ndone.\nRemoving intermediate container e54a7bd21e68\n ---> 0c84b1df3211\nStep 7/9 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n ---> Running in fcd0b11e116f\nRemoving intermediate container fcd0b11e116f\n ---> 289379884123\nStep 8/9 : EXPOSE 8101 8104 8102\n ---> Running in dcc873da6696\nRemoving intermediate container dcc873da6696\n ---> 318eee9369b6\nStep 9/9 : CMD [\"node\", \"index.js\"]\n ---> Running in 0c57885d1dd6\nRemoving intermediate container 0c57885d1dd6\n ---> e8e14d4d05a3\nSuccessfully built e8e14d4d05a3\nSuccessfully tagged wechat_spider:latest\n","stderr":"","imageSize":998588828},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM node:16\nWORKDIR /app\nCOPY package.json package-lock.json /app/\nRUN npm install --only=prod\nCOPY . /app\n# ubuntu 添加根证书相关操作\nRUN cd ~ \\\n  && mkdir .anyproxy \\\n  && cd .anyproxy \\\n  && mv /app/certificates ~/.anyproxy/ \\\n  && cp ~/.anyproxy/certificates/rootCA.crt /usr/local/share/ca-certificates/ \\\n  && update-ca-certificates\n# 修改时区\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nEXPOSE 8101 8104 8102\nCMD [\"node\", \"index.js\"]\n"},"repairedBuild":{"startTimestamp":1672255090207,"endTimestamp":1672255167592,"error":null,"stdout":"Sending build context to Docker daemon  2.833MB\r\r\nStep 1/9 : FROM node:16\n ---> c910109adbfd\nStep 2/9 : WORKDIR /app\n ---> Running in 5530ebf8b916\nRemoving intermediate container 5530ebf8b916\n ---> 08108f1a2124\nStep 3/9 : COPY package.json package-lock.json /app/\n ---> be84c8b018b3\nStep 4/9 : RUN npm install --only=prod\n ---> Running in ade4a6ec351f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 343 packages, and audited 344 packages in 5s\n\n23 packages are looking for funding\n  run `npm fund` for details\n\n21 vulnerabilities (6 moderate, 6 high, 9 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container ade4a6ec351f\n ---> 9ba533a9f23d\nStep 5/9 : COPY . /app\n ---> 1aeefedbcb9d\nStep 6/9 : RUN cd ~   && mkdir .anyproxy   && cd .anyproxy   && mv /app/certificates ~/.anyproxy/   && cp ~/.anyproxy/certificates/rootCA.crt /usr/local/share/ca-certificates/   && update-ca-certificates\n ---> Running in 45c2fc3f2ba0\nUpdating certificates in /etc/ssl/certs...\n1 added, 0 removed; done.\nRunning hooks in /etc/ca-certificates/update.d...\ndone.\nRemoving intermediate container 45c2fc3f2ba0\n ---> fa7ce8940e10\nStep 7/9 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n ---> Running in 96e014973d15\nRemoving intermediate container 96e014973d15\n ---> e52fb4129a6e\nStep 8/9 : EXPOSE 8101 8104 8102\n ---> Running in e86fc7d1ad46\nRemoving intermediate container e86fc7d1ad46\n ---> b4d385c7405f\nStep 9/9 : CMD [\"node\", \"index.js\"]\n ---> Running in a18c102c3d40\nRemoving intermediate container a18c102c3d40\n ---> 8fe9f4dfd56f\nSuccessfully built 8fe9f4dfd56f\nSuccessfully tagged wechat_spider:latest\n","stderr":"","imageSize":998588832},"endTime":1672255168103}