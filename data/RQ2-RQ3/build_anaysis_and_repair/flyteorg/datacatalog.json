{"repository":"https://github.com/flyteorg/datacatalog","dockerfilePath":"Dockerfile","startTime":1672159996769,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/flyteorg/datacatalog'...\n","error":null,"commit":"8a0429fd8803ce05405f75a68e70a56dcc284fb7"},"originalBuild":{"startTimestamp":1672159998257,"endTimestamp":1672160160647,"error":null,"stdout":"Sending build context to Docker daemon  1.073MB\r\r\nStep 1/17 : FROM golang:1.18-alpine3.15 as builder\n1.18-alpine3.15: Pulling from library/golang\n9621f1afde84: Pulling fs layer\na2b0fab95789: Pulling fs layer\n77b50bae27c3: Pulling fs layer\nce446ea3b4cb: Pulling fs layer\n264fb3794e1e: Pulling fs layer\nce446ea3b4cb: Waiting\n264fb3794e1e: Waiting\na2b0fab95789: Download complete\n77b50bae27c3: Download complete\n9621f1afde84: Download complete\n9621f1afde84: Pull complete\n264fb3794e1e: Verifying Checksum\n264fb3794e1e: Download complete\na2b0fab95789: Pull complete\n77b50bae27c3: Pull complete\nce446ea3b4cb: Verifying Checksum\nce446ea3b4cb: Download complete\nce446ea3b4cb: Pull complete\n264fb3794e1e: Pull complete\nDigest: sha256:a94d2c2d687adc28a70ca4ae4ca06f6b4b17e498e93069027ee32e15d4e0fb64\nStatus: Downloaded newer image for golang:1.18-alpine3.15\n ---> 92701df9213e\nStep 2/17 : RUN apk add git openssh-client make curl\n ---> Running in 27afd737de53\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing brotli-libs (1.0.9-r5)\n(2/14) Installing nghttp2-libs (1.46.0-r0)\n(3/14) Installing libcurl (7.80.0-r5)\n(4/14) Installing curl (7.80.0-r5)\n(5/14) Installing expat (2.5.0-r0)\n(6/14) Installing pcre2 (10.40-r0)\n(7/14) Installing git (2.34.5-r0)\n(8/14) Installing make (4.3-r0)\n(9/14) Installing openssh-keygen (8.8_p1-r1)\n(10/14) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(11/14) Installing ncurses-libs (6.3_p20211120-r1)\n(12/14) Installing libedit (20210910.3.1-r0)\n(13/14) Installing openssh-client-common (8.8_p1-r1)\n(14/14) Installing openssh-client-default (8.8_p1-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 24 MiB in 29 packages\nRemoving intermediate container 27afd737de53\n ---> 3799d5d44d38\nStep 3/17 : RUN mkdir /artifacts\n ---> Running in f806bf706bba\nRemoving intermediate container f806bf706bba\n ---> dbbbd01d1041\nStep 4/17 : RUN GRPC_HEALTH_PROBE_VERSION=v0.4.11 &&     wget -qO/artifacts/grpc_health_probe https://github.com/grpc-ecosystem/grpc-health-probe/releases/download/${GRPC_HEALTH_PROBE_VERSION}/grpc_health_probe-linux-amd64 &&     chmod +x /artifacts/grpc_health_probe &&     echo 'ded15e598d887ccc47bf2321371950bbf930f5e4856b9f75712ce4b2b5120480  /artifacts/grpc_health_probe' > .grpc_checksum &&     sha256sum -c .grpc_checksum\n ---> Running in 694b4b945135\n/artifacts/grpc_health_probe: OK\nRemoving intermediate container 694b4b945135\n ---> 9adf76833657\nStep 5/17 : COPY go.mod go.sum /go/src/github.com/flyteorg/datacatalog/\n ---> 753f69545753\nStep 6/17 : WORKDIR /go/src/github.com/flyteorg/datacatalog\n ---> Running in e2562b613d0a\nRemoving intermediate container e2562b613d0a\n ---> d3da2fbd7822\nStep 7/17 : RUN go mod download\n ---> Running in 1a24ae837dd9\nRemoving intermediate container 1a24ae837dd9\n ---> d47756782dfd\nStep 8/17 : COPY . /go/src/github.com/flyteorg/datacatalog/\n ---> 0723442b768d\nStep 9/17 : RUN make linux_compile\n ---> Running in 20c4df78e9ce\n\u001b[91mMakefile:21: warning: overriding recipe for target 'generate'\nboilerplate/flyte/golang_test_targets/Makefile:13: warning: ignoring old recipe for target 'generate'\n\u001b[0mGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/datacatalog ./cmd/\nRemoving intermediate container 20c4df78e9ce\n ---> ca595abf2016\nStep 10/17 : ENV PATH=\"/artifacts:${PATH}\"\n ---> Running in 8f30bca1beaf\nRemoving intermediate container 8f30bca1beaf\n ---> e3099be81d0a\nStep 11/17 : FROM alpine:3.16\n ---> bfe296a52501\nStep 12/17 : LABEL org.opencontainers.image.source=https://github.com/flyteorg/datacatalog\n ---> Running in 26fd22f7bec0\nRemoving intermediate container 26fd22f7bec0\n ---> 1de2f69b0ee8\nStep 13/17 : COPY --from=builder /artifacts /bin\n ---> 65f7e535f4a9\nStep 14/17 : RUN apk --update add ca-certificates\n ---> Running in 1c35c5f684e9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 1c35c5f684e9\n ---> d7b56c2d2ea4\nStep 15/17 : RUN addgroup -S flyte && adduser -S flyte -G flyte\n ---> Running in 50c3a75ec9a8\nRemoving intermediate container 50c3a75ec9a8\n ---> 35f53e0158b6\nStep 16/17 : USER flyte\n ---> Running in bcdada5cf83e\nRemoving intermediate container bcdada5cf83e\n ---> ffc3b0155883\nStep 17/17 : CMD [\"datacatalog\"]\n ---> Running in acbf6c249f48\nRemoving intermediate container acbf6c249f48\n ---> f91496dbb2bd\nSuccessfully built f91496dbb2bd\nSuccessfully tagged datacatalog:latest\n","stderr":"","imageSize":59601432},"repair":{"violations":[{"name":"sha256sumEchoOneSpaces","position":{"start":12,"end":16,"columnStart":4,"columnEnd":31}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":40}},{"name":"apkAddUseNoCache","position":{"start":42,"end":42,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# WARNING: THIS FILE IS MANAGED IN THE 'BOILERPLATE' REPO AND COPIED TO OTHER REPOSITORIES.\n# ONLY EDIT THIS FILE FROM WITHIN THE 'FLYTEORG/BOILERPLATE' REPOSITORY:\n#\n# TO OPT OUT OF UPDATES, SEE https://github.com/flyteorg/boilerplate/blob/master/Readme.rst\n\nFROM golang:1.18-alpine3.15 as builder\nRUN apk add --no-cache git openssh-client make curl\n\n# Create the artifacts directory\nRUN mkdir /artifacts\n\n# Pull GRPC health probe binary for liveness and readiness checks\nRUN GRPC_HEALTH_PROBE_VERSION=v0.4.11 && \\\n    wget -qO/artifacts/grpc_health_probe https://github.com/grpc-ecosystem/grpc-health-probe/releases/download/${GRPC_HEALTH_PROBE_VERSION}/grpc_health_probe-linux-amd64 && \\\n    chmod +x /artifacts/grpc_health_probe && \\\n    echo 'ded15e598d887ccc47bf2321371950bbf930f5e4856b9f75712ce4b2b5120480  /artifacts/grpc_health_probe' > .grpc_checksum && \\\n    sha256sum -c .grpc_checksum\n\n# COPY only the go mod files for efficient caching\nCOPY go.mod go.sum /go/src/github.com/flyteorg/datacatalog/\nWORKDIR /go/src/github.com/flyteorg/datacatalog\n\n# Pull dependencies\nRUN go mod download\n\n# COPY the rest of the source code\nCOPY . /go/src/github.com/flyteorg/datacatalog/\n\n# This 'linux_compile' target should compile binaries to the /artifacts directory\n# The main entrypoint should be compiled to /artifacts/datacatalog\nRUN make linux_compile\n\n# update the PATH to include the /artifacts directory\nENV PATH=\"/artifacts:${PATH}\"\n\n# This will eventually move to centurylink/ca-certs:latest for minimum possible image size\nFROM alpine:3.16\nLABEL org.opencontainers.image.source=https://github.com/flyteorg/datacatalog\n\nCOPY --from=builder /artifacts /bin\n\n# Ensure the latest CA certs are present to authenticate SSL connections.\nRUN apk --update --no-cache add ca-certificates\n\nRUN addgroup -S flyte && adduser -S flyte -G flyte\nUSER flyte\n\nCMD [\"datacatalog\"]\n"},"repairedBuild":{"startTimestamp":1672160161036,"endTimestamp":1672160384700,"error":null,"stdout":"Sending build context to Docker daemon  1.073MB\r\r\nStep 1/17 : FROM golang:1.18-alpine3.15 as builder\n ---> 92701df9213e\nStep 2/17 : RUN apk add --no-cache git openssh-client make curl\n ---> Running in 15e7d952066b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing brotli-libs (1.0.9-r5)\n(2/14) Installing nghttp2-libs (1.46.0-r0)\n(3/14) Installing libcurl (7.80.0-r5)\n(4/14) Installing curl (7.80.0-r5)\n(5/14) Installing expat (2.5.0-r0)\n(6/14) Installing pcre2 (10.40-r0)\n(7/14) Installing git (2.34.5-r0)\n(8/14) Installing make (4.3-r0)\n(9/14) Installing openssh-keygen (8.8_p1-r1)\n(10/14) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(11/14) Installing ncurses-libs (6.3_p20211120-r1)\n(12/14) Installing libedit (20210910.3.1-r0)\n(13/14) Installing openssh-client-common (8.8_p1-r1)\n(14/14) Installing openssh-client-default (8.8_p1-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 24 MiB in 29 packages\nRemoving intermediate container 15e7d952066b\n ---> fbb8a5f3d196\nStep 3/17 : RUN mkdir /artifacts\n ---> Running in 8cb0ff4a1794\nRemoving intermediate container 8cb0ff4a1794\n ---> 05b2dc7bf72f\nStep 4/17 : RUN GRPC_HEALTH_PROBE_VERSION=v0.4.11 &&     wget -qO/artifacts/grpc_health_probe https://github.com/grpc-ecosystem/grpc-health-probe/releases/download/${GRPC_HEALTH_PROBE_VERSION}/grpc_health_probe-linux-amd64 &&     chmod +x /artifacts/grpc_health_probe &&     echo 'ded15e598d887ccc47bf2321371950bbf930f5e4856b9f75712ce4b2b5120480  /artifacts/grpc_health_probe' > .grpc_checksum &&     sha256sum -c .grpc_checksum\n ---> Running in 2310457b847e\n/artifacts/grpc_health_probe: OK\nRemoving intermediate container 2310457b847e\n ---> 459eee125649\nStep 5/17 : COPY go.mod go.sum /go/src/github.com/flyteorg/datacatalog/\n ---> a3f7daae4239\nStep 6/17 : WORKDIR /go/src/github.com/flyteorg/datacatalog\n ---> Running in 932675d4e574\nRemoving intermediate container 932675d4e574\n ---> 7ab81e67397f\nStep 7/17 : RUN go mod download\n ---> Running in d2bae0dcfc7e\nRemoving intermediate container d2bae0dcfc7e\n ---> 92dcb86cff71\nStep 8/17 : COPY . /go/src/github.com/flyteorg/datacatalog/\n ---> 32023fdc7d10\nStep 9/17 : RUN make linux_compile\n ---> Running in 62828af31fd9\n\u001b[91mMakefile:21: warning: overriding recipe for target 'generate'\nboilerplate/flyte/golang_test_targets/Makefile:13: warning: ignoring old recipe for target 'generate'\n\u001b[0mGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/datacatalog ./cmd/\nRemoving intermediate container 62828af31fd9\n ---> fcd4d87ac2e0\nStep 10/17 : ENV PATH=\"/artifacts:${PATH}\"\n ---> Running in 1e8d15640cea\nRemoving intermediate container 1e8d15640cea\n ---> bff6b72448b1\nStep 11/17 : FROM alpine:3.16\n ---> bfe296a52501\nStep 12/17 : LABEL org.opencontainers.image.source=https://github.com/flyteorg/datacatalog\n ---> Running in d902b6eb4b16\nRemoving intermediate container d902b6eb4b16\n ---> b681a912b495\nStep 13/17 : COPY --from=builder /artifacts /bin\n ---> a1b04b108610\nStep 14/17 : RUN apk --update --no-cache add ca-certificates\n ---> Running in 15076662c245\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 15076662c245\n ---> 4767874ad7e6\nStep 15/17 : RUN addgroup -S flyte && adduser -S flyte -G flyte\n ---> Running in 2f36fce6f988\nRemoving intermediate container 2f36fce6f988\n ---> 2f2a3f5492b3\nStep 16/17 : USER flyte\n ---> Running in b17c577a0158\nRemoving intermediate container b17c577a0158\n ---> 764b22044685\nStep 17/17 : CMD [\"datacatalog\"]\n ---> Running in 5ba3ca484711\nRemoving intermediate container 5ba3ca484711\n ---> 3f127dfc5e6d\nSuccessfully built 3f127dfc5e6d\nSuccessfully tagged datacatalog:latest\n","stderr":"","imageSize":57135532},"endTime":1672160393199}