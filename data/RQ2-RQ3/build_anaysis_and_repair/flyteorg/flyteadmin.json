{"repository":"https://github.com/flyteorg/flyteadmin","dockerfilePath":"Dockerfile","startTime":1672867549387,"endTime":1672868134328,"clone":{"startTime":1672867549387,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/flyteorg/flyteadmin'...\n","error":null,"endTime":1672867550508,"commit":"d2215eda681d59e1ce99c6bad82814a4be79366d"},"originalBuild":{"startTime":1672867550602,"endTime":1672867857456,"error":null,"stdout":"Sending build context to Docker daemon  4.541MB\r\r\nStep 1/17 : FROM golang:1.18-alpine3.15 as builder\n1.18-alpine3.15: Pulling from library/golang\n9621f1afde84: Already exists\na2b0fab95789: Pulling fs layer\n77b50bae27c3: Pulling fs layer\nce446ea3b4cb: Pulling fs layer\n264fb3794e1e: Pulling fs layer\n264fb3794e1e: Waiting\n77b50bae27c3: Download complete\na2b0fab95789: Download complete\n264fb3794e1e: Download complete\na2b0fab95789: Pull complete\nce446ea3b4cb: Verifying Checksum\nce446ea3b4cb: Download complete\n77b50bae27c3: Pull complete\nce446ea3b4cb: Pull complete\n264fb3794e1e: Pull complete\nDigest: sha256:a94d2c2d687adc28a70ca4ae4ca06f6b4b17e498e93069027ee32e15d4e0fb64\nStatus: Downloaded newer image for golang:1.18-alpine3.15\n ---> 92701df9213e\nStep 2/17 : RUN apk add git openssh-client make curl\n ---> Running in b50071bbba01\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing brotli-libs (1.0.9-r5)\n(2/14) Installing nghttp2-libs (1.46.0-r0)\n(3/14) Installing libcurl (7.80.0-r5)\n(4/14) Installing curl (7.80.0-r5)\n(5/14) Installing expat (2.5.0-r0)\n(6/14) Installing pcre2 (10.40-r0)\n(7/14) Installing git (2.34.5-r0)\n(8/14) Installing make (4.3-r0)\n(9/14) Installing openssh-keygen (8.8_p1-r1)\n(10/14) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(11/14) Installing ncurses-libs (6.3_p20211120-r1)\n(12/14) Installing libedit (20210910.3.1-r0)\n(13/14) Installing openssh-client-common (8.8_p1-r1)\n(14/14) Installing openssh-client-default (8.8_p1-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 24 MiB in 29 packages\nRemoving intermediate container b50071bbba01\n ---> b5798579ce0f\nStep 3/17 : RUN mkdir /artifacts\n ---> Running in 4f85b928246d\nRemoving intermediate container 4f85b928246d\n ---> 7ac41a301298\nStep 4/17 : RUN GRPC_HEALTH_PROBE_VERSION=v0.4.11 &&     wget -qO/artifacts/grpc_health_probe https://github.com/grpc-ecosystem/grpc-health-probe/releases/download/${GRPC_HEALTH_PROBE_VERSION}/grpc_health_probe-linux-amd64 &&     chmod +x /artifacts/grpc_health_probe &&     echo 'ded15e598d887ccc47bf2321371950bbf930f5e4856b9f75712ce4b2b5120480  /artifacts/grpc_health_probe' > .grpc_checksum &&     sha256sum -c .grpc_checksum\n ---> Running in fc3856ab7f57\n/artifacts/grpc_health_probe: OK\nRemoving intermediate container fc3856ab7f57\n ---> c3c15b953ea3\nStep 5/17 : COPY go.mod go.sum /go/src/github.com/flyteorg/flyteadmin/\n ---> db67fb41f3ca\nStep 6/17 : WORKDIR /go/src/github.com/flyteorg/flyteadmin\n ---> Running in 525bc84cfcb4\nRemoving intermediate container 525bc84cfcb4\n ---> 21fc98e80178\nStep 7/17 : RUN go mod download\n ---> Running in 067a7a0593ae\nRemoving intermediate container 067a7a0593ae\n ---> c431f98d578e\nStep 8/17 : COPY . /go/src/github.com/flyteorg/flyteadmin/\n ---> c1383759880c\nStep 9/17 : RUN make linux_compile\n ---> Running in 66eb88f3086d\n\u001b[91mMakefile:33: warning: overriding recipe for target 'k8s_integration_execute'\nboilerplate/flyte/end2end/Makefile:12: warning: ignoring old recipe for target 'k8s_integration_execute'\n\u001b[0mGOOS=linux GOARCH=amd64 CGO_ENABLED=0  go build -o /artifacts/flyteadmin -ldflags=\"-s -w -X github.com/flyteorg/flytestdlib/version.Version=v1.1.67 -X github.com/flyteorg/flytestdlib/version.Build=d2215ed -X github.com/flyteorg/flytestdlib/version.BuildTime=2023-01-04\" ./cmd/\nRemoving intermediate container 66eb88f3086d\n ---> 2476339439c4\nStep 10/17 : ENV PATH=\"/artifacts:${PATH}\"\n ---> Running in 1c2b54fc095b\nRemoving intermediate container 1c2b54fc095b\n ---> 560f14a93d44\nStep 11/17 : FROM alpine:3.16\n ---> bfe296a52501\nStep 12/17 : LABEL org.opencontainers.image.source https://github.com/flyteorg/flyteadmin\n ---> Running in 70b1186b2728\nRemoving intermediate container 70b1186b2728\n ---> a55f46a941d8\nStep 13/17 : COPY --from=builder /artifacts /bin\n ---> bd22e54d6341\nStep 14/17 : RUN apk --update add ca-certificates\n ---> Running in df639cd4f274\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container df639cd4f274\n ---> 3c52e83a8544\nStep 15/17 : RUN addgroup -S flyte && adduser -S flyte -G flyte\n ---> Running in d4e15cd53e91\nRemoving intermediate container d4e15cd53e91\n ---> 0b12d89bc9e1\nStep 16/17 : USER flyte\n ---> Running in fd8f31ae187f\nRemoving intermediate container fd8f31ae187f\n ---> 39a6070dd721\nStep 17/17 : CMD [\"flyteadmin\"]\n ---> Running in 81afa78ac904\nRemoving intermediate container 81afa78ac904\n ---> 631f4de57d1c\nSuccessfully built 631f4de57d1c\nSuccessfully tagged flyteadmin:latest\n","stderr":"","imageSize":82338135},"repair":{"startTime":1672867857546,"endTime":1672867857639,"violations":[{"name":"sha256sumEchoOneSpaces","position":{"start":12,"end":16,"columnStart":4,"columnEnd":31}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":40}},{"name":"apkAddUseNoCache","position":{"start":43,"end":43,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# WARNING: THIS FILE IS MANAGED IN THE 'BOILERPLATE' REPO AND COPIED TO OTHER REPOSITORIES.\n# ONLY EDIT THIS FILE FROM WITHIN THE 'LYFT/BOILERPLATE' REPOSITORY:\n#\n# TO OPT OUT OF UPDATES, SEE https://github.com/lyft/boilerplate/blob/master/Readme.rst\n\nFROM golang:1.18-alpine3.15 as builder\nRUN apk add --no-cache git openssh-client make curl\n\n# Create the artifacts directory\nRUN mkdir /artifacts\n\n# Pull GRPC health probe binary for liveness and readiness checks\nRUN GRPC_HEALTH_PROBE_VERSION=v0.4.11 && \\\n    wget -qO/artifacts/grpc_health_probe https://github.com/grpc-ecosystem/grpc-health-probe/releases/download/${GRPC_HEALTH_PROBE_VERSION}/grpc_health_probe-linux-amd64 && \\\n    chmod +x /artifacts/grpc_health_probe && \\\n    echo 'ded15e598d887ccc47bf2321371950bbf930f5e4856b9f75712ce4b2b5120480  /artifacts/grpc_health_probe' > .grpc_checksum && \\\n    sha256sum -c .grpc_checksum\n\n# COPY only the go mod files for efficient caching\nCOPY go.mod go.sum /go/src/github.com/flyteorg/flyteadmin/\nWORKDIR /go/src/github.com/flyteorg/flyteadmin\n\n# Pull dependencies\nRUN go mod download\n\n\n# COPY the rest of the source code\nCOPY . /go/src/github.com/flyteorg/flyteadmin/\n\n# This 'linux_compile' target should compile binaries to the /artifacts directory\n# The main entrypoint should be compiled to /artifacts/flyteadmin\nRUN make linux_compile\n\n# update the PATH to include the /artifacts directory\nENV PATH=\"/artifacts:${PATH}\"\n\n# This will eventually move to centurylink/ca-certs:latest for minimum possible image size\nFROM alpine:3.16\nLABEL org.opencontainers.image.source https://github.com/flyteorg/flyteadmin\n\nCOPY --from=builder /artifacts /bin\n\n# Ensure the latest CA certs are present to authenticate SSL connections.\nRUN apk --update --no-cache add ca-certificates\n\nRUN addgroup -S flyte && adduser -S flyte -G flyte\nUSER flyte\n\nCMD [\"flyteadmin\"]\n"},"repairedBuild":{"startTime":1672867860352,"endTime":1672868133981,"error":null,"stdout":"Sending build context to Docker daemon  4.541MB\r\r\nStep 1/17 : FROM golang:1.18-alpine3.15 as builder\n ---> 92701df9213e\nStep 2/17 : RUN apk add --no-cache git openssh-client make curl\n ---> Running in e218607563b1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing brotli-libs (1.0.9-r5)\n(2/14) Installing nghttp2-libs (1.46.0-r0)\n(3/14) Installing libcurl (7.80.0-r5)\n(4/14) Installing curl (7.80.0-r5)\n(5/14) Installing expat (2.5.0-r0)\n(6/14) Installing pcre2 (10.40-r0)\n(7/14) Installing git (2.34.5-r0)\n(8/14) Installing make (4.3-r0)\n(9/14) Installing openssh-keygen (8.8_p1-r1)\n(10/14) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(11/14) Installing ncurses-libs (6.3_p20211120-r1)\n(12/14) Installing libedit (20210910.3.1-r0)\n(13/14) Installing openssh-client-common (8.8_p1-r1)\n(14/14) Installing openssh-client-default (8.8_p1-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 24 MiB in 29 packages\nRemoving intermediate container e218607563b1\n ---> 86804e4d998b\nStep 3/17 : RUN mkdir /artifacts\n ---> Running in 54bf3442a95e\nRemoving intermediate container 54bf3442a95e\n ---> f499e9e5471f\nStep 4/17 : RUN GRPC_HEALTH_PROBE_VERSION=v0.4.11 &&     wget -qO/artifacts/grpc_health_probe https://github.com/grpc-ecosystem/grpc-health-probe/releases/download/${GRPC_HEALTH_PROBE_VERSION}/grpc_health_probe-linux-amd64 &&     chmod +x /artifacts/grpc_health_probe &&     echo 'ded15e598d887ccc47bf2321371950bbf930f5e4856b9f75712ce4b2b5120480  /artifacts/grpc_health_probe' > .grpc_checksum &&     sha256sum -c .grpc_checksum\n ---> Running in 4b7f9fd24e80\n/artifacts/grpc_health_probe: OK\nRemoving intermediate container 4b7f9fd24e80\n ---> 6aedf4217a18\nStep 5/17 : COPY go.mod go.sum /go/src/github.com/flyteorg/flyteadmin/\n ---> e52562e543e5\nStep 6/17 : WORKDIR /go/src/github.com/flyteorg/flyteadmin\n ---> Running in 8c41de7b496c\nRemoving intermediate container 8c41de7b496c\n ---> 9bff5f1ec700\nStep 7/17 : RUN go mod download\n ---> Running in f09cb9339b89\nRemoving intermediate container f09cb9339b89\n ---> b29cd50950bc\nStep 8/17 : COPY . /go/src/github.com/flyteorg/flyteadmin/\n ---> c3b4b334b798\nStep 9/17 : RUN make linux_compile\n ---> Running in cd7f49a5ea32\n\u001b[91mMakefile:33: warning: overriding recipe for target 'k8s_integration_execute'\nboilerplate/flyte/end2end/Makefile:12: warning: ignoring old recipe for target 'k8s_integration_execute'\n\u001b[0mGOOS=linux GOARCH=amd64 CGO_ENABLED=0  go build -o /artifacts/flyteadmin -ldflags=\"-s -w -X github.com/flyteorg/flytestdlib/version.Version=v1.1.67 -X github.com/flyteorg/flytestdlib/version.Build=d2215ed -X github.com/flyteorg/flytestdlib/version.BuildTime=2023-01-04\" ./cmd/\nRemoving intermediate container cd7f49a5ea32\n ---> bbb6fea8ea1b\nStep 10/17 : ENV PATH=\"/artifacts:${PATH}\"\n ---> Running in 38b67fda1a99\nRemoving intermediate container 38b67fda1a99\n ---> 13e64cd7bfb0\nStep 11/17 : FROM alpine:3.16\n ---> bfe296a52501\nStep 12/17 : LABEL org.opencontainers.image.source https://github.com/flyteorg/flyteadmin\n ---> Running in b30cc11c7725\nRemoving intermediate container b30cc11c7725\n ---> 9d4b5687929b\nStep 13/17 : COPY --from=builder /artifacts /bin\n ---> 2042c0bdde20\nStep 14/17 : RUN apk --update --no-cache add ca-certificates\n ---> Running in dea71c376028\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container dea71c376028\n ---> 58864b795471\nStep 15/17 : RUN addgroup -S flyte && adduser -S flyte -G flyte\n ---> Running in 2342923e3dcf\nRemoving intermediate container 2342923e3dcf\n ---> 674bee7346f7\nStep 16/17 : USER flyte\n ---> Running in 01332841cbdc\nRemoving intermediate container 01332841cbdc\n ---> d33814bf5ea8\nStep 17/17 : CMD [\"flyteadmin\"]\n ---> Running in 2633596fd4e3\nRemoving intermediate container 2633596fd4e3\n ---> 8fb11c21c57d\nSuccessfully built 8fb11c21c57d\nSuccessfully tagged flyteadmin:latest\n","stderr":"","imageSize":79871798}}