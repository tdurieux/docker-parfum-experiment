{"repository":"https://github.com/flyteorg/flytepropeller","dockerfilePath":"Dockerfile","startTime":1673018886838,"endTime":1673019460029,"clone":{"startTime":1673018886839,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/flyteorg/flytepropeller'...\n","error":null,"endTime":1673018888025,"commit":"1feca6d2b1013a9ddbc7739affbc53801b746075"},"originalBuild":{"startTime":1673018888106,"endTime":1673019220931,"error":null,"stdout":"Sending build context to Docker daemon  6.717MB\r\r\nStep 1/15 : FROM golang:1.18-alpine3.16 as builder\n1.18-alpine3.16: Pulling from library/golang\nca7dd9ec2225: Already exists\nc41ae7ad2b39: Pulling fs layer\n22bb395ce1d7: Pulling fs layer\nbb8cf8713392: Pulling fs layer\nc41ae7ad2b39: Verifying Checksum\nc41ae7ad2b39: Download complete\nbb8cf8713392: Download complete\nc41ae7ad2b39: Pull complete\n22bb395ce1d7: Download complete\n22bb395ce1d7: Pull complete\nbb8cf8713392: Pull complete\nDigest: sha256:55a58dd64b2c0c3194777be98379d604623136bed45576a9d2237082e9b43847\nStatus: Downloaded newer image for golang:1.18-alpine3.16\n ---> eb2ce8e2b794\nStep 2/15 : RUN apk add git openssh-client make curl\n ---> Running in 2d8214f110e8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing brotli-libs (1.0.9-r6)\n(2/14) Installing nghttp2-libs (1.47.0-r0)\n(3/14) Installing libcurl (7.83.1-r5)\n(4/14) Installing curl (7.83.1-r5)\n(5/14) Installing expat (2.5.0-r0)\n(6/14) Installing pcre2 (10.40-r0)\n(7/14) Installing git (2.36.3-r0)\n(8/14) Installing make (4.3-r0)\n(9/14) Installing openssh-keygen (9.0_p1-r2)\n(10/14) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(11/14) Installing ncurses-libs (6.3_p20220521-r0)\n(12/14) Installing libedit (20210910.3.1-r0)\n(13/14) Installing openssh-client-common (9.0_p1-r2)\n(14/14) Installing openssh-client-default (9.0_p1-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 25 MiB in 29 packages\nRemoving intermediate container 2d8214f110e8\n ---> bb8242f35ea6\nStep 3/15 : COPY go.mod go.sum /go/src/github.com/flyteorg/flytepropeller/\n ---> f20b6cbf972f\nStep 4/15 : WORKDIR /go/src/github.com/flyteorg/flytepropeller\n ---> Running in d2ee1404f9c5\nRemoving intermediate container d2ee1404f9c5\n ---> cf6ac5cd8f03\nStep 5/15 : RUN go mod download\n ---> Running in 1f9caa0577d0\nRemoving intermediate container 1f9caa0577d0\n ---> 490e74b4e811\nStep 6/15 : COPY . /go/src/github.com/flyteorg/flytepropeller/\n ---> 2e7167dcbbc0\nStep 7/15 : RUN make linux_compile\n ---> Running in 7e87fe6c2054\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/flytepropeller ./cmd/controller/main.go\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/flytepropeller-manager ./cmd/manager/main.go\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/kubectl-flyte ./cmd/kubectl-flyte/main.go\nRemoving intermediate container 7e87fe6c2054\n ---> ae82172fc317\nStep 8/15 : ENV PATH=\"/artifacts:${PATH}\"\n ---> Running in 99b63f55f076\nRemoving intermediate container 99b63f55f076\n ---> 9ed574fda220\nStep 9/15 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nca7dd9ec2225: Already exists\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 10/15 : LABEL org.opencontainers.image.source https://github.com/flyteorg/flytepropeller\n ---> Running in c909c16648f2\nRemoving intermediate container c909c16648f2\n ---> 6117e41aea80\nStep 11/15 : COPY --from=builder /artifacts /bin\n ---> f916c73eaaa8\nStep 12/15 : RUN apk --update add ca-certificates\n ---> Running in 43654ab94445\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 43654ab94445\n ---> 03ad04252578\nStep 13/15 : RUN addgroup -S flyte && adduser -S flyte -G flyte\n ---> Running in e7401832874e\nRemoving intermediate container e7401832874e\n ---> f742b49894da\nStep 14/15 : USER flyte\n ---> Running in 9de5ed770a60\nRemoving intermediate container 9de5ed770a60\n ---> 942a4e5448ce\nStep 15/15 : CMD [\"flytepropeller\"]\n ---> Running in 48d3818a5270\nRemoving intermediate container 48d3818a5270\n ---> 7409421197da\nSuccessfully built 7409421197da\nSuccessfully tagged flytepropeller:latest\n","stderr":"","imageSize":240271743},"repair":{"startTime":1673019220994,"endTime":1673019221067,"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":40}},{"name":"apkAddUseNoCache","position":{"start":31,"end":31,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# WARNING: THIS FILE IS MANAGED IN THE 'BOILERPLATE' REPO AND COPIED TO OTHER REPOSITORIES.\n# ONLY EDIT THIS FILE FROM WITHIN THE 'LYFT/BOILERPLATE' REPOSITORY:\n#\n# TO OPT OUT OF UPDATES, SEE https://github.com/lyft/boilerplate/blob/master/Readme.rst\n\nFROM golang:1.18-alpine3.16 as builder\nRUN apk add --no-cache git openssh-client make curl\n\n# COPY only the go mod files for efficient caching\nCOPY go.mod go.sum /go/src/github.com/flyteorg/flytepropeller/\nWORKDIR /go/src/github.com/flyteorg/flytepropeller\n\n# Pull dependencies\nRUN go mod download\n\n# COPY the rest of the source code\nCOPY . /go/src/github.com/flyteorg/flytepropeller/\n\n# This 'linux_compile' target should compile binaries to the /artifacts directory\n# The main entrypoint should be compiled to /artifacts/flytepropeller\nRUN make linux_compile\n\n# update the PATH to include the /artifacts directory\nENV PATH=\"/artifacts:${PATH}\"\n\n# This will eventually move to centurylink/ca-certs:latest for minimum possible image size\nFROM alpine:3.16\nLABEL org.opencontainers.image.source https://github.com/flyteorg/flytepropeller\n\nCOPY --from=builder /artifacts /bin\n\nRUN apk --update --no-cache add ca-certificates\n\nRUN addgroup -S flyte && adduser -S flyte -G flyte\nUSER flyte\n\nCMD [\"flytepropeller\"]\n"},"repairedBuild":{"startTime":1673019222009,"endTime":1673019459739,"error":null,"stdout":"Sending build context to Docker daemon  6.717MB\r\r\nStep 1/15 : FROM golang:1.18-alpine3.16 as builder\n ---> eb2ce8e2b794\nStep 2/15 : RUN apk add --no-cache git openssh-client make curl\n ---> Running in 927b1b366f14\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing brotli-libs (1.0.9-r6)\n(2/14) Installing nghttp2-libs (1.47.0-r0)\n(3/14) Installing libcurl (7.83.1-r5)\n(4/14) Installing curl (7.83.1-r5)\n(5/14) Installing expat (2.5.0-r0)\n(6/14) Installing pcre2 (10.40-r0)\n(7/14) Installing git (2.36.3-r0)\n(8/14) Installing make (4.3-r0)\n(9/14) Installing openssh-keygen (9.0_p1-r2)\n(10/14) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(11/14) Installing ncurses-libs (6.3_p20220521-r0)\n(12/14) Installing libedit (20210910.3.1-r0)\n(13/14) Installing openssh-client-common (9.0_p1-r2)\n(14/14) Installing openssh-client-default (9.0_p1-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 25 MiB in 29 packages\nRemoving intermediate container 927b1b366f14\n ---> e5b67bc53668\nStep 3/15 : COPY go.mod go.sum /go/src/github.com/flyteorg/flytepropeller/\n ---> 0c41ae73519a\nStep 4/15 : WORKDIR /go/src/github.com/flyteorg/flytepropeller\n ---> Running in 1eecd3277573\nRemoving intermediate container 1eecd3277573\n ---> c7aab8ace192\nStep 5/15 : RUN go mod download\n ---> Running in 76e4570d2dc3\nRemoving intermediate container 76e4570d2dc3\n ---> 36330fe7aaf3\nStep 6/15 : COPY . /go/src/github.com/flyteorg/flytepropeller/\n ---> 83ac6c596324\nStep 7/15 : RUN make linux_compile\n ---> Running in fc977174828a\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/flytepropeller ./cmd/controller/main.go\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/flytepropeller-manager ./cmd/manager/main.go\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /artifacts/kubectl-flyte ./cmd/kubectl-flyte/main.go\nRemoving intermediate container fc977174828a\n ---> fdc5c4a77eb3\nStep 8/15 : ENV PATH=\"/artifacts:${PATH}\"\n ---> Running in 3c4086ab1524\nRemoving intermediate container 3c4086ab1524\n ---> 9ee8ffa07881\nStep 9/15 : FROM alpine:3.16\n ---> bfe296a52501\nStep 10/15 : LABEL org.opencontainers.image.source https://github.com/flyteorg/flytepropeller\n ---> Running in 5c578219a965\nRemoving intermediate container 5c578219a965\n ---> ac29294eb4e2\nStep 11/15 : COPY --from=builder /artifacts /bin\n ---> 069c09ec7ce8\nStep 12/15 : RUN apk --update --no-cache add ca-certificates\n ---> Running in 4ee164e4ee44\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 4ee164e4ee44\n ---> 8d7f567d2559\nStep 13/15 : RUN addgroup -S flyte && adduser -S flyte -G flyte\n ---> Running in 5137d3d19274\nRemoving intermediate container 5137d3d19274\n ---> 3398dccb51c1\nStep 14/15 : USER flyte\n ---> Running in 93a59c913c31\nRemoving intermediate container 93a59c913c31\n ---> d6a2195679fe\nStep 15/15 : CMD [\"flytepropeller\"]\n ---> Running in ce5a844e512f\nRemoving intermediate container ce5a844e512f\n ---> 9fbe3bb5bb54\nSuccessfully built 9fbe3bb5bb54\nSuccessfully tagged flytepropeller:latest\n","stderr":"","imageSize":237805406}}