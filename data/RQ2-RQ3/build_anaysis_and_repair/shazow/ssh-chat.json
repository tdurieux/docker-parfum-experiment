{"repository":"https://github.com/shazow/ssh-chat","dockerfilePath":"Dockerfile","startTime":1672299733322,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/shazow/ssh-chat'...\n","error":null,"commit":"aaf0671f017aa51dd323883c68dee436ac4e7d5b"},"originalBuild":{"startTimestamp":1672299734187,"endTimestamp":1672299771720,"error":null,"stdout":"Sending build context to Docker daemon  535.6kB\r\r\nStep 1/14 : FROM golang:alpine AS builder\n ---> cae57157ceaa\nStep 2/14 : WORKDIR /usr/src/app\n ---> Running in cf0a17139b8c\nRemoving intermediate container cf0a17139b8c\n ---> 8db2cb275646\nStep 3/14 : COPY . .\n ---> c3bf1a0c44ea\nStep 4/14 : RUN apk add make openssh\n ---> Running in 7c4c35cc9828\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing make (4.3-r1)\n(2/11) Installing openssh-keygen (9.1_p1-r1)\n(3/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(4/11) Installing ncurses-libs (6.3_p20221119-r0)\n(5/11) Installing libedit (20221030.3.1-r0)\n(6/11) Installing openssh-client-common (9.1_p1-r1)\n(7/11) Installing openssh-client-default (9.1_p1-r1)\n(8/11) Installing openssh-sftp-server (9.1_p1-r1)\n(9/11) Installing openssh-server-common (9.1_p1-r1)\n(10/11) Installing openssh-server (9.1_p1-r1)\n(11/11) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 14 MiB in 27 packages\nRemoving intermediate container 7c4c35cc9828\n ---> 47412b043ebc\nStep 5/14 : RUN make build\n ---> Running in 40fb12bda389\ngo build -ldflags \"-X main.Version=dev -extldflags \"-static\"\" ./cmd/ssh-chat\n\u001b[91mgo: downloading github.com/alexcesaro/log v0.0.0-20150915221235-61e686294e58\n\u001b[0m\u001b[91mgo: downloading github.com/jessevdk/go-flags v1.5.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/shazow/rateio v0.0.0-20200113175441-4461efc8bdc4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\ngo: downloading golang.org/x/text v0.4.0\n\u001b[0mRemoving intermediate container 40fb12bda389\n ---> e8edf0ceb240\nStep 6/14 : FROM alpine\n ---> 49176f190c7e\nStep 7/14 : RUN apk add openssh\n ---> Running in 1f4838a8a735\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing openssh-keygen (9.1_p1-r1)\n(2/10) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(3/10) Installing ncurses-libs (6.3_p20221119-r0)\n(4/10) Installing libedit (20221030.3.1-r0)\n(5/10) Installing openssh-client-common (9.1_p1-r1)\n(6/10) Installing openssh-client-default (9.1_p1-r1)\n(7/10) Installing openssh-sftp-server (9.1_p1-r1)\n(8/10) Installing openssh-server-common (9.1_p1-r1)\n(9/10) Installing openssh-server (9.1_p1-r1)\n(10/10) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 14 MiB in 25 packages\nRemoving intermediate container 1f4838a8a735\n ---> 96de8e1a8c79\nStep 8/14 : RUN mkdir /root/.ssh\n ---> Running in 3b7d0948eb48\nRemoving intermediate container 3b7d0948eb48\n ---> 312c598940c4\nStep 9/14 : WORKDIR /root/.ssh\n ---> Running in 273441bf020e\nRemoving intermediate container 273441bf020e\n ---> b54622ae901c\nStep 10/14 : RUN ssh-keygen -t rsa -C \"chatkey\" -f id_rsa\n ---> Running in 15316db09815\nGenerating public/private rsa key pair.\n\u001b[91mEnter passphrase (empty for no passphrase): Enter same passphrase again: \u001b[0mYour identification has been saved in id_rsa\nYour public key has been saved in id_rsa.pub\nThe key fingerprint is:\nSHA256:6VSm/ufn9dyTvoJxcQdpAxJKoQE+Dwid61xgJweXvCo chatkey\nThe key's randomart image is:\n+---[RSA 3072]----+\n|...+oo. o.o... . |\n| .*+=  + . .  =  |\n| ..*+.. . o  . o |\n|  . o+   =   . ..|\n| o o  . S     o .|\n|E +    +   . .   |\n| .      o   +   o|\n|         . ....=o|\n|          .o.o+o*|\n+----[SHA256]-----+\nRemoving intermediate container 15316db09815\n ---> 133d92584e6a\nStep 11/14 : WORKDIR /usr/local/bin\n ---> Running in 0e7bfc93a779\nRemoving intermediate container 0e7bfc93a779\n ---> 565fa85c288c\nStep 12/14 : COPY --from=builder /usr/src/app/ssh-chat .\n ---> c8072ed04ae5\nStep 13/14 : RUN chmod +x ssh-chat\n ---> Running in c4134df04328\nRemoving intermediate container c4134df04328\n ---> a93e7227513f\nStep 14/14 : CMD [\"/usr/local/bin/ssh-chat\"]\n ---> Running in 18968ce39a60\nRemoving intermediate container 18968ce39a60\n ---> dbee96e825f2\nSuccessfully built dbee96e825f2\nSuccessfully tagged ssh-chat:latest\n","stderr":"","imageSize":34469100},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":24}},{"name":"apkAddUseNoCache","position":{"start":11,"end":11,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"FROM golang:alpine AS builder\n\nWORKDIR /usr/src/app\n\nCOPY . .\nRUN apk add --no-cache make openssh\nRUN make build\n\n\nFROM alpine\n\nRUN apk add --no-cache openssh\nRUN mkdir /root/.ssh\nWORKDIR /root/.ssh\nRUN ssh-keygen -t rsa -C \"chatkey\" -f id_rsa\n\nWORKDIR /usr/local/bin\n\nCOPY --from=builder /usr/src/app/ssh-chat .\nRUN chmod +x ssh-chat\nCMD [\"/usr/local/bin/ssh-chat\"]\n"},"repairedBuild":{"startTimestamp":1672299772007,"endTimestamp":1672299834898,"error":null,"stdout":"Sending build context to Docker daemon  535.6kB\r\r\nStep 1/14 : FROM golang:alpine AS builder\n ---> cae57157ceaa\nStep 2/14 : WORKDIR /usr/src/app\n ---> Running in da0a2969e123\nRemoving intermediate container da0a2969e123\n ---> ff3c30123a71\nStep 3/14 : COPY . .\n ---> d307b5880535\nStep 4/14 : RUN apk add --no-cache make openssh\n ---> Running in ff9175e77558\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing make (4.3-r1)\n(2/11) Installing openssh-keygen (9.1_p1-r1)\n(3/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(4/11) Installing ncurses-libs (6.3_p20221119-r0)\n(5/11) Installing libedit (20221030.3.1-r0)\n(6/11) Installing openssh-client-common (9.1_p1-r1)\n(7/11) Installing openssh-client-default (9.1_p1-r1)\n(8/11) Installing openssh-sftp-server (9.1_p1-r1)\n(9/11) Installing openssh-server-common (9.1_p1-r1)\n(10/11) Installing openssh-server (9.1_p1-r1)\n(11/11) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 14 MiB in 27 packages\nRemoving intermediate container ff9175e77558\n ---> c937ec666bed\nStep 5/14 : RUN make build\n ---> Running in b73e2fa42eb4\ngo build -ldflags \"-X main.Version=dev -extldflags \"-static\"\" ./cmd/ssh-chat\n\u001b[91mgo: downloading github.com/jessevdk/go-flags v1.5.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.2.0\ngo: downloading github.com/alexcesaro/log v0.0.0-20150915221235-61e686294e58\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/shazow/rateio v0.0.0-20200113175441-4461efc8bdc4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0mRemoving intermediate container b73e2fa42eb4\n ---> 34ab513ca376\nStep 6/14 : FROM alpine\n ---> 49176f190c7e\nStep 7/14 : RUN apk add --no-cache openssh\n ---> Running in 94abd400495e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing openssh-keygen (9.1_p1-r1)\n(2/10) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(3/10) Installing ncurses-libs (6.3_p20221119-r0)\n(4/10) Installing libedit (20221030.3.1-r0)\n(5/10) Installing openssh-client-common (9.1_p1-r1)\n(6/10) Installing openssh-client-default (9.1_p1-r1)\n(7/10) Installing openssh-sftp-server (9.1_p1-r1)\n(8/10) Installing openssh-server-common (9.1_p1-r1)\n(9/10) Installing openssh-server (9.1_p1-r1)\n(10/10) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 14 MiB in 25 packages\nRemoving intermediate container 94abd400495e\n ---> afda7f8258fc\nStep 8/14 : RUN mkdir /root/.ssh\n ---> Running in 9839e1b46357\nRemoving intermediate container 9839e1b46357\n ---> be0bb292b7f8\nStep 9/14 : WORKDIR /root/.ssh\n ---> Running in b3a61e726488\nRemoving intermediate container b3a61e726488\n ---> 6552de0fa062\nStep 10/14 : RUN ssh-keygen -t rsa -C \"chatkey\" -f id_rsa\n ---> Running in ee0ae235c16b\nGenerating public/private rsa key pair.\n\u001b[91mEnter passphrase (empty for no passphrase): Enter same passphrase again: \u001b[0mYour identification has been saved in id_rsa\nYour public key has been saved in id_rsa.pub\nThe key fingerprint is:\nSHA256:+EZwNhaqPYgLP0Mqg4/wmuJzbsctlYdR4i1W/TihQLc chatkey\nThe key's randomart image is:\n+---[RSA 3072]----+\n|      .....      |\n|       +.+.o     |\n|      + @E. +    |\n|   . + @ + o .   |\n|. o o = S   .    |\n|.= .   B .       |\n|* = . o +        |\n|+B = + o         |\n|*oB.. .          |\n+----[SHA256]-----+\nRemoving intermediate container ee0ae235c16b\n ---> c8e3edaf6758\nStep 11/14 : WORKDIR /usr/local/bin\n ---> Running in dbe23e5fe957\nRemoving intermediate container dbe23e5fe957\n ---> a9e46923ae43\nStep 12/14 : COPY --from=builder /usr/src/app/ssh-chat .\n ---> a1a7bd856dc3\nStep 13/14 : RUN chmod +x ssh-chat\n ---> Running in b8542c0a36ab\nRemoving intermediate container b8542c0a36ab\n ---> 9ba3d5eca2d9\nStep 14/14 : CMD [\"/usr/local/bin/ssh-chat\"]\n ---> Running in 350484e14938\nRemoving intermediate container 350484e14938\n ---> 9983c772d6ca\nSuccessfully built 9983c772d6ca\nSuccessfully tagged ssh-chat:latest\n","stderr":"","imageSize":31886357},"endTime":1672299835185}