{"repository":"https://github.com/khan/react-render-server","dockerfilePath":"Dockerfile","startTime":1672834545251,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/khan/react-render-server'...\n","error":null,"commit":"25d1147f36f6eed2ca460de1b2ff513641819c8c"},"originalBuild":{"startTimestamp":1672834546755,"endTimestamp":1672834658718,"error":null,"stdout":"Sending build context to Docker daemon  1.017MB\r\r\nStep 1/15 : FROM python:3 as config\n3: Pulling from library/python\nDigest: sha256:250990a809a15bb6a3e307fec72dead200c882c940523fb1694baa78eb0e47c6\nStatus: Downloaded newer image for python:3\n ---> 75cc8d87cc34\nStep 2/15 : WORKDIR /usr/src/app\n ---> Running in 53a78edd7683\nRemoving intermediate container 53a78edd7683\n ---> 2c9731e500b3\nStep 3/15 : COPY . .\n ---> 52755fe26777\nStep 4/15 : RUN python generate_config_files.py 4\n ---> Running in 2930e165533e\nRemoving intermediate container 2930e165533e\n ---> 1d68d8245b53\nStep 5/15 : FROM gcr.io/google_appengine/nodejs\nlatest: Pulling from google_appengine/nodejs\n6c5b97b864a6: Pulling fs layer\n3bc468948ab5: Pulling fs layer\n3c2cba919283: Pulling fs layer\n9d782453afdd: Pulling fs layer\n298f6c1305a7: Pulling fs layer\n0b07672deb61: Pulling fs layer\n8c9487bb2306: Pulling fs layer\n17204c73e510: Pulling fs layer\n9d782453afdd: Waiting\nf80fe3d30525: Pulling fs layer\n0b07672deb61: Waiting\n9d278df2ce01: Pulling fs layer\n17204c73e510: Waiting\n8c9487bb2306: Waiting\n298f6c1305a7: Waiting\n9d278df2ce01: Waiting\n3c2cba919283: Verifying Checksum\n3c2cba919283: Download complete\n3bc468948ab5: Verifying Checksum\n3bc468948ab5: Download complete\n298f6c1305a7: Verifying Checksum\n298f6c1305a7: Download complete\n0b07672deb61: Verifying Checksum\n0b07672deb61: Download complete\n6c5b97b864a6: Verifying Checksum\n6c5b97b864a6: Download complete\n8c9487bb2306: Verifying Checksum\n8c9487bb2306: Download complete\nf80fe3d30525: Verifying Checksum\n9d278df2ce01: Download complete\n9d782453afdd: Verifying Checksum\n9d782453afdd: Download complete\n6c5b97b864a6: Pull complete\n3bc468948ab5: Pull complete\n17204c73e510: Verifying Checksum\n17204c73e510: Download complete\n3c2cba919283: Pull complete\n9d782453afdd: Pull complete\n298f6c1305a7: Pull complete\n0b07672deb61: Pull complete\n8c9487bb2306: Pull complete\n17204c73e510: Pull complete\nf80fe3d30525: Pull complete\n9d278df2ce01: Pull complete\nDigest: sha256:48c8ffe761db6b81aaae36997b4934537ea84ff82c59aafc6c7fa2589b23ed1d\nStatus: Downloaded newer image for gcr.io/google_appengine/nodejs:latest\n ---> 204a800afb5f\nStep 6/15 : RUN /usr/local/bin/install_node '^8.3.0'\n ---> Running in bab229cabeeb\n\u001b[91m  % Total    %\u001b[0m\u001b[91m Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:--\u001b[0m\u001b[91m --:--:-- --:--:--     0\u001b[0m\u001b[91m\r  0 17.9M    0   456    0     0\u001b[0m\u001b[91m    762      0  6:51:22 --:--:--  6:51:22   761\u001b[0m\u001b[91m\r100 17.9M  100 17.9M    0     0  15.5M      0  0:00:01  0:00:01 --:--:-- 15.5M\n\u001b[0m\u001b[91m  % Total   \u001b[0m\u001b[91m % Received % Xferd  Average Speed   Time    Time     Time  Current\n                     \u001b[0m\u001b[91m            Dload  Upload   Total   Spent    Left\u001b[0m\u001b[91m  Speed\n\r  0     0    0     0   \u001b[0m\u001b[91m 0     0      0      0 --:--:-\u001b[0m\u001b[91m- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r 10  4240   10 \u001b[0m\u001b[91m  465    0     0    992      0  0:00:04 --:--:--  0:00:04   991\r100  4240  100  \u001b[0m\u001b[91m4240    0     0   9047      0 --:--:-- --:--:-- --:--:--  9040\n\u001b[0mnode-v8.17.0-linux-x64.tar.gz: OK\nInstalled Node.js v8.17.0\nRemoving intermediate container bab229cabeeb\n ---> 91bcca14adfa\nStep 7/15 : COPY . /app/\n ---> 7af9ee9e9d3e\nStep 8/15 : RUN npm install --unsafe-perm ||   ((if [ -f npm-debug.log ]; then       cat npm-debug.log;     fi) && false)\n ---> Running in 365baa28760c\n\n> pprof@1.3.0 install /app/node_modules/pprof\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN Using request for node-pre-gyp https download \n\u001b[0m[pprof] Success: \"/app/node_modules/pprof/build/node-v57-linux-x64-glibc/pprof.node\" is installed via remote\n\n> protobufjs@6.8.8 postinstall /app/node_modules/protobufjs\n> node scripts/postinstall\n\n\n> nodemon@1.19.1 postinstall /app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\n> react-render-server@0.5.0 postinstall /app\n> npm run build\n\n\n> react-render-server@0.5.0 build /app\n> npm run clean && npm run build:noclean\n\n\n> react-render-server@0.5.0 clean /app\n> rm -rf dist\n\n\n> react-render-server@0.5.0 build:noclean /app\n> babel src --out-dir dist --source-maps --ignore src/testdata --config-file ./babel.config.js\n\nTranspiling for NodeJS 8\nSuccessfully compiled 16 files with Babel.\n\u001b[91mnpm WARN react-render-server@0.5.0 requires a peer of heapdump@^0.3.15 but none is installed. You must install peer dependencies yourself.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 770 packages from 437 contributors and audited 1276 packages in 14.067s\nfound 184 vulnerabilities (32 low, 33 moderate, 109 high, 10 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 365baa28760c\n ---> bcf9d3cb9f7d\nStep 9/15 : RUN npm install --unsafe-perm pm2@latest -g\n ---> Running in 41f4bf955b00\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/nodejs/bin/pm2-dev -> /nodejs/lib/node_modules/pm2/bin/pm2-dev\n/nodejs/bin/pm2 -> /nodejs/lib/node_modules/pm2/bin/pm2\n/nodejs/bin/pm2-docker -> /nodejs/lib/node_modules/pm2/bin/pm2-docker\n/nodejs/bin/pm2-runtime -> /nodejs/lib/node_modules/pm2/bin/pm2-runtime\n\u001b[91mnpm WARN notsup Unsupported engine for pm2@5.2.2: wanted: {\"node\":\">=10.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: pm2@5.2.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for mkdirp@1.0.4: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm \u001b[0m\u001b[91mWARN notsup Not compatible with your version of node/npm: mkdirp@1.0.4\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Unsupported engine for pidusage@3.0.2: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: pidusage@3.0.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for semver@7.3.8: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm \u001b[0m\u001b[91mWARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: semver@7.3.8\nnpm WARN \u001b[0m\u001b[91mnotsup Unsupported engine for semver@7.2.3: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: semver@7.2.3\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m notsup\u001b[0m\u001b[91m Unsupported engine for escape-string-regexp@4.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: escape-string-regexp@4.0.0\nnpm\u001b[0m\u001b[91m WARN notsup Unsupported engine for socks@2.7.1: wanted: {\"node\":\">= 10.13.0\",\"npm\":\">= 3.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: socks@2.7.1\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\nnpm \u001b[0m\u001b[91mWARN notsup Unsupported engine for lru-cache@6.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: lru-cache@6.0.0\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 9.009s\nRemoving intermediate container 41f4bf955b00\n ---> 76ed3dd6c77b\nStep 10/15 : COPY nginx.list /etc/apt/sources.list.d/nginx.list\n ---> a7726d5f9462\nStep 11/15 : RUN curl http://nginx.org/keys/nginx_signing.key | apt-key add -\n ---> Running in 7b7e1b219a58\n\u001b[91m  % Total    % Receiv\u001b[0m\u001b[91med % Xferd \u001b[0m\u001b[91m Ave\u001b[0m\u001b[91mrag\u001b[0m\u001b[91me\u001b[0m\u001b[91m Speed\u001b[0m\u001b[91m   Ti\u001b[0m\u001b[91mme   \u001b[0m\u001b[91m T\u001b[0m\u001b[91mime\u001b[0m\u001b[91m     Time\u001b[0m\u001b[91m  Cu\u001b[0m\u001b[91mrrent\u001b[0m\u001b[91m\n    \u001b[0m\u001b[91m     \u001b[0m\u001b[91m  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m    \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m     Dl\u001b[0m\u001b[91moa\u001b[0m\u001b[91md  Upload  \u001b[0m\u001b[91m To\u001b[0m\u001b[91mtal   S\u001b[0m\u001b[91mpent\u001b[0m\u001b[91m  \u001b[0m\u001b[91m  Left\u001b[0m\u001b[91m \u001b[0m\u001b[91m Spee\u001b[0m\u001b[91md\n\r  \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m  \u001b[0m\u001b[91m0    \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m    \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m  \u001b[0m\u001b[91m 0   \u001b[0m\u001b[91m  \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m--:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --:--:\u001b[0m\u001b[91m--     0\u001b[0m\u001b[91m\r100  1561  100  1561    0     0   5251      0 --:--:-- --:\u001b[0m\u001b[91m--:-- --:--:--  52\u001b[0m\u001b[91m73\n\u001b[0mOK\nRemoving intermediate container 7b7e1b219a58\n ---> ffdb01f70a05\nStep 12/15 : RUN apt-get update &&     apt-get install -y -q --no-install-recommends nginx &&     apt-get clean &&     rm -r /var/lib/apt/lists/*\n ---> Running in 83a4c6bef71f\nHit:1 http://archive.ubuntu.com/ubuntu xenial InRelease\nGet:2 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]\nGet:3 http://nginx.org/packages/debian jessie InRelease [2856 B]\nHit:4 https://dl.yarnpkg.com/debian stable InRelease\nGet:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]\nGet:6 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]\nGet:7 http://nginx.org/packages/debian jessie/nginx Sources [16.2 kB]\nGet:8 http://nginx.org/packages/debian jessie/nginx amd64 Packages [18.1 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2049 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [461 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1220 kB]\nGet:12 http://archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [358 kB]\nFetched 4422 kB in 1s (2970 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  nginx\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 836 kB of archives.\nAfter this operation, 3083 kB of additional disk space will be used.\nGet:1 http://nginx.org/packages/debian jessie/nginx amd64 nginx amd64 1.16.0-1~jessie [836 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 836 kB in 0s (4012 kB/s)\nSelecting previously unselected package nginx.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 13277 files and directories currently installed.)\r\nPreparing to unpack .../nginx_1.16.0-1~jessie_amd64.deb ...\r\n----------------------------------------------------------------------\r\n\r\nThanks for using nginx!\r\n\r\nPlease find the official documentation for nginx here:\r\n* http://nginx.org/en/docs/\r\n\r\nPlease subscribe to nginx-announce mailing list to get\r\nthe most important news about nginx:\r\n* http://nginx.org/en/support.html\r\n\r\nCommercial subscriptions for nginx are available on:\r\n* http://nginx.com/products/\r\n\r\n----------------------------------------------------------------------\r\nUnpacking nginx (1.16.0-1~jessie) ...\r\nProcessing triggers for systemd (229-4ubuntu21.31) ...\r\nSetting up nginx (1.16.0-1~jessie) ...\r\ninvoke-rc.d: could not determine current runlevel\r\nProcessing triggers for systemd (229-4ubuntu21.31) ...\r\nRemoving intermediate container 83a4c6bef71f\n ---> 65a640edd40e\nStep 13/15 : COPY --from=config /usr/src/app/nginx.conf /etc/nginx/nginx.conf\n ---> b7d65a179852\nStep 14/15 : COPY --from=config /usr/src/app/processes.json /app/\n ---> ced4c75baf7d\nStep 15/15 : CMD [\"pm2-docker\", \"processes.json\"]\n ---> Running in 6918ee47e911\nRemoving intermediate container 6918ee47e911\n ---> a418cf05189d\nSuccessfully built a418cf05189d\nSuccessfully tagged react-render-server:latest\n","stderr":"","imageSize":906057824},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":37,"end":37,"columnStart":4,"columnEnd":48}},{"name":"npmCacheCleanAfterInstall","position":{"start":26,"end":26,"columnStart":4,"columnEnd":29}},{"name":"npmCacheCleanAfterInstall","position":{"start":32,"end":32,"columnStart":4,"columnEnd":43}},{"name":"curlUseHttpsUrl","position":{"start":37,"end":37,"columnStart":4,"columnEnd":48}}],"repairedDockerfile":"# Create conf files for nginx and pm2. This is done using a multi-stage build so\n# that we don't need to have any dependencies used to generate the conf files\n# (in this case python) in the container.\nFROM python:3 as config\nWORKDIR /usr/src/app\nCOPY . .\n\n# Generate config files passing the number of node servers we want to run on\n# each instance.\nRUN python generate_config_files.py 4\n\n# Dockerfile extending the generic Node image with application files for a\n# single application.\nFROM gcr.io/google_appengine/nodejs\n# Check to see if the the version included in the base runtime satisfies\n# '^8.3.0', if not then do an npm install of the latest available\n# version that satisfies it.\nRUN /usr/local/bin/install_node '^8.3.0'\nCOPY . /app/\n# You have to specify \"--unsafe-perm\" with npm install\n# when running as root.  Failing to do this can cause\n# install to appear to succeed even if a preinstall\n# script fails, and may have other adverse consequences\n# as well.\n# This command will also cat the npm-debug.log file after the\n# build, if it exists.\nRUN npm install --unsafe-perm || \\\n  ((if [ -f npm-debug.log ]; then \\\n      cat npm-debug.log; \\\n    fi) && false)\n\n# Install pm2\nRUN npm install --unsafe-perm pm2@latest -g\n\n# Set up the nginx reverse proxy. We need a more recent version of nginx than is\n# available from the regular sources.\nCOPY nginx.list /etc/apt/sources.list.d/nginx.list\nRUN curl -f https://nginx.org/keys/nginx_signing.key | apt-key add -\nRUN apt-get update && \\\n    apt-get install -y -q --no-install-recommends nginx && \\\n    apt-get clean && \\\n    rm -r /var/lib/apt/lists/*\n\n# Copy conf files from build stage\nCOPY --from=config /usr/src/app/nginx.conf /etc/nginx/nginx.conf\nCOPY --from=config /usr/src/app/processes.json /app/\n\n# Start ngnix, node\nCMD [\"pm2-docker\", \"processes.json\"]\n"},"repairedBuild":{"startTimestamp":1672834659822,"endTimestamp":1672834726325,"error":null,"stdout":"Sending build context to Docker daemon  1.017MB\r\r\nStep 1/15 : FROM python:3 as config\n ---> 75cc8d87cc34\nStep 2/15 : WORKDIR /usr/src/app\n ---> Running in 7a61899854f9\nRemoving intermediate container 7a61899854f9\n ---> 45582ee87fea\nStep 3/15 : COPY . .\n ---> d71c1268a421\nStep 4/15 : RUN python generate_config_files.py 4\n ---> Running in 6db538665119\nRemoving intermediate container 6db538665119\n ---> 1d569b637616\nStep 5/15 : FROM gcr.io/google_appengine/nodejs\n ---> 204a800afb5f\nStep 6/15 : RUN /usr/local/bin/install_node '^8.3.0'\n ---> Running in ed036cf0da3e\n\u001b[91m  % Total    % Received \u001b[0m\u001b[91m% Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r100 17.9M  100 17.9M\u001b[0m\u001b[91m    0     0  35.6M      0 --:--:-- --:--:-- --:--:-- 35.6M\n\u001b[0m\u001b[91m  % Total  \u001b[0m\u001b[91m  % Received % Xferd  Average Speed   Time    Time     Time  Current\n                   \u001b[0m\u001b[91m              Dload  Upload   Total   Spent    Left  Spe\u001b[0m\u001b[91med\n\r  0     0    0     0    0     0      0     \u001b[0m\u001b[91m 0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     \u001b[0m\u001b[91m0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r100  4240  10\u001b[0m\u001b[91m0  4240    0     0   8843      0 --:--:-- --:--:-- --:--:--  8833\n\u001b[0mnode-v8.17.0-linux-x64.tar.gz: OK\nInstalled Node.js v8.17.0\nRemoving intermediate container ed036cf0da3e\n ---> ce001773531e\nStep 7/15 : COPY . /app/\n ---> 30e3a789ce3b\nStep 8/15 : RUN npm install --unsafe-perm ||   ((if [ -f npm-debug.log ]; then       cat npm-debug.log;     fi) && false)\n ---> Running in 2337d4b79e82\n\n> pprof@1.3.0 install /app/node_modules/pprof\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m Using request for node-pre-gyp https download \n\u001b[0m[pprof] Success: \"/app/node_modules/pprof/build/node-v57-linux-x64-glibc/pprof.node\" is installed via remote\n\n> protobufjs@6.8.8 postinstall /app/node_modules/protobufjs\n> node scripts/postinstall\n\n\n> nodemon@1.19.1 postinstall /app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\n> react-render-server@0.5.0 postinstall /app\n> npm run build\n\n\n> react-render-server@0.5.0 build /app\n> npm run clean && npm run build:noclean\n\n\n> react-render-server@0.5.0 clean /app\n> rm -rf dist\n\n\n> react-render-server@0.5.0 build:noclean /app\n> babel src --out-dir dist --source-maps --ignore src/testdata --config-file ./babel.config.js\n\nTranspiling for NodeJS 8\nSuccessfully compiled 16 files with Babel.\n\u001b[91mnpm WARN react-render-server@0.5.0 requires a peer of heapdump@^0.3.15 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 770 packages from 437 contributors and audited 1276 packages in 13.998s\nfound 184 vulnerabilities (32 low, 33 moderate, 109 high, 10 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 2337d4b79e82\n ---> ed08d0b16a5a\nStep 9/15 : RUN npm install --unsafe-perm pm2@latest -g\n ---> Running in a691014c931d\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/nodejs/bin/pm2 -> /nodejs/lib/node_modules/pm2/bin/pm2\n/nodejs/bin/pm2-dev -> /nodejs/lib/node_modules/pm2/bin/pm2-dev\n/nodejs/bin/pm2-docker -> /nodejs/lib/node_modules/pm2/bin/pm2-docker\n/nodejs/bin/pm2-runtime -> /nodejs/lib/node_modules/pm2/bin/pm2-runtime\n\u001b[91mnpm WARN notsup Unsupported engine for pm2@5.2.2: wanted: {\"node\":\">=10.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: pm2@5.2.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for mkdirp@1.0.4: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: mkdirp@1.0.4\nnpm WARN notsup Unsupported engine for pidusage@3.0.2: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: pidusage@3.0.2\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Unsupported engine for semver@7.3.8: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: semver@7.3.8\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for semver@7.2.3: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: semver@7.2.3\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN notsup Unsupported engine for escape-string-regexp@4.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: escape-string-regexp@4.0.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m notsup\u001b[0m\u001b[91m Unsupported engine for socks@2.7.1: wanted: {\"node\":\">= 10.13.0\",\"npm\":\">= 3.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: socks@2.7.1\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN notsup Unsupported engine for lru-cache@6.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm\u001b[0m\u001b[91m WARN notsup Not compatible with your version of node/npm: lru-cache@6.0.0\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 10.629s\nRemoving intermediate container a691014c931d\n ---> 4d6c15864c01\nStep 10/15 : COPY nginx.list /etc/apt/sources.list.d/nginx.list\n ---> ff4c87933f29\nStep 11/15 : RUN curl -f https://nginx.org/keys/nginx_signing.key | apt-key add -\n ---> Running in ab301128ac83\n\u001b[91m  % Total    % Received % Xferd  Average S\u001b[0m\u001b[91mpe\u001b[0m\u001b[91med   Time    Time     Time \u001b[0m\u001b[91m Cu\u001b[0m\u001b[91mrrent\n   \u001b[0m\u001b[91m       \u001b[0m\u001b[91m       \u001b[0m\u001b[91m    \u001b[0m\u001b[91m        \u001b[0m\u001b[91m  \u001b[0m\u001b[91m  D\u001b[0m\u001b[91mloa\u001b[0m\u001b[91md \u001b[0m\u001b[91m U\u001b[0m\u001b[91mplo\u001b[0m\u001b[91mad\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Tot\u001b[0m\u001b[91mal \u001b[0m\u001b[91m  Sp\u001b[0m\u001b[91ment \u001b[0m\u001b[91m  \u001b[0m\u001b[91m Le\u001b[0m\u001b[91mft\u001b[0m\u001b[91m  \u001b[0m\u001b[91mSpe\u001b[0m\u001b[91med\n\u001b[0m\u001b[91m\r  0     0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m   0    \u001b[0m\u001b[91m 0    \u001b[0m\u001b[91m  0    \u001b[0m\u001b[91m  0 --:--:--\u001b[0m\u001b[91m --:\u001b[0m\u001b[91m--:-- -\u001b[0m\u001b[91m-:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r100  1561  100  1561    0\u001b[0m\u001b[91m     0   9672      0 --:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- -\u001b[0m\u001b[91m-:--:-- -\u001b[0m\u001b[91m-:--:--  9\u001b[0m\u001b[91m69\u001b[0m\u001b[91m5\n\u001b[0mOK\nRemoving intermediate container ab301128ac83\n ---> 11f6ed7c00fe\nStep 12/15 : RUN apt-get update &&     apt-get install -y -q --no-install-recommends nginx &&     apt-get clean &&     rm -r /var/lib/apt/lists/*\n ---> Running in eef24eaeda8d\nGet:1 http://nginx.org/packages/debian jessie InRelease [2856 B]\nHit:2 https://dl.yarnpkg.com/debian stable InRelease\nGet:3 http://nginx.org/packages/debian jessie/nginx Sources [16.2 kB]\nGet:4 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]\nHit:5 http://archive.ubuntu.com/ubuntu xenial InRelease\nGet:6 http://nginx.org/packages/debian jessie/nginx amd64 Packages [18.1 kB]\nGet:7 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]\nGet:8 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2049 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [461 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1220 kB]\nGet:12 http://archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [358 kB]\nFetched 4422 kB in 2s (2140 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  nginx\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 836 kB of archives.\nAfter this operation, 3083 kB of additional disk space will be used.\nGet:1 http://nginx.org/packages/debian jessie/nginx amd64 nginx amd64 1.16.0-1~jessie [836 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 836 kB in 0s (5165 kB/s)\nSelecting previously unselected package nginx.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 13277 files and directories currently installed.)\r\nPreparing to unpack .../nginx_1.16.0-1~jessie_amd64.deb ...\r\n----------------------------------------------------------------------\r\n\r\nThanks for using nginx!\r\n\r\nPlease find the official documentation for nginx here:\r\n* http://nginx.org/en/docs/\r\n\r\nPlease subscribe to nginx-announce mailing list to get\r\nthe most important news about nginx:\r\n* http://nginx.org/en/support.html\r\n\r\nCommercial subscriptions for nginx are available on:\r\n* http://nginx.com/products/\r\n\r\n----------------------------------------------------------------------\r\nUnpacking nginx (1.16.0-1~jessie) ...\r\nProcessing triggers for systemd (229-4ubuntu21.31) ...\r\nSetting up nginx (1.16.0-1~jessie) ...\r\ninvoke-rc.d: could not determine current runlevel\r\nProcessing triggers for systemd (229-4ubuntu21.31) ...\r\nRemoving intermediate container eef24eaeda8d\n ---> a0a531d2fb35\nStep 13/15 : COPY --from=config /usr/src/app/nginx.conf /etc/nginx/nginx.conf\n ---> cf18ce01a21d\nStep 14/15 : COPY --from=config /usr/src/app/processes.json /app/\n ---> a678a13c54f5\nStep 15/15 : CMD [\"pm2-docker\", \"processes.json\"]\n ---> Running in 45dca6c30ed2\nRemoving intermediate container 45dca6c30ed2\n ---> 41c1d758a3ef\nSuccessfully built 41c1d758a3ef\nSuccessfully tagged react-render-server:latest\n","stderr":"","imageSize":906060526},"endTime":1672834727049}