{"repository":"https://github.com/optuna/optuna-dashboard","dockerfilePath":"Dockerfile","startTime":1672549423055,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/optuna/optuna-dashboard'...\n","error":null,"commit":"4084cd7a390688f044d0a0d386824e11b65edf88"},"originalBuild":{"startTimestamp":1672549424157,"endTimestamp":1672550113113,"error":null,"stdout":"Sending build context to Docker daemon  1.588MB\r\r\nStep 1/26 : FROM node:16 AS front-builder\n ---> c910109adbfd\nStep 2/26 : WORKDIR /usr/src\n ---> Running in adaba0782084\nRemoving intermediate container adaba0782084\n ---> 6c50e4ff3346\nStep 3/26 : ADD ./package.json /usr/src/package.json\n ---> aa8bd0e7d4fc\nStep 4/26 : ADD ./package-lock.json /usr/src/package-lock.json\n ---> df3483611a99\nStep 5/26 : RUN npm install\n ---> Running in ce833454545d\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\nadded 870 packages, and audited 871 packages in 14s\n\n106 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container ce833454545d\n ---> f014dad586e7\nStep 6/26 : ADD ./tsconfig.json /usr/src/tsconfig.json\n ---> 2f0bdd20e2ab\nStep 7/26 : ADD ./webpack.config.js /usr/src/webpack.config.js\n ---> 4c0800d07988\nStep 8/26 : ADD ./optuna_dashboard/ts/ /usr/src/optuna_dashboard/ts\n ---> cf902a8bc43a\nStep 9/26 : RUN mkdir -p /usr/src/optuna_dashboard/public\n ---> Running in c318500ce2ae\nRemoving intermediate container c318500ce2ae\n ---> 191d0add3b27\nStep 10/26 : RUN npm run build:prd\n ---> Running in d4533f0eb15f\n\n> optuna-dashboard@0.0.1 build:prd\n> NODE_ENV=production webpack\n\nasset bundle.js 4 MiB [emitted] [minimized] [big] (name: main) 2 related assets\norphan modules 8.18 MiB [orphan] 11442 modules\nruntime modules 2.25 KiB 6 modules\ncacheable modules 5.07 MiB\n  modules by path ./node_modules/@mui/ 143 KiB 78 modules\n  modules by path ./node_modules/@emotion/ 64.1 KiB 6 modules\n  modules by path ./node_modules/react/ 7.98 KiB 4 modules\n  modules by path ./node_modules/react-dom/ 131 KiB 3 modules\n  modules by path ./node_modules/hoist-non-react-statics/ 5.36 KiB 3 modules\n  modules by path ./node_modules/@babel/runtime/helpers/ 988 bytes 3 modules\n  modules by path ./node_modules/prop-types/ 2.6 KiB 3 modules\n  modules by path ./node_modules/react-router/ 2.69 KiB 2 modules\n  modules by path ./node_modules/path-to-regexp/ 10.7 KiB 2 modules\n  modules by path ./node_modules/scheduler/ 4.33 KiB 2 modules\n  modules by path ./node_modules/react-is/ 2.4 KiB 2 modules\n  + 4 modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  bundle.js (4 MiB)\n  bundle.js.gz (1.2 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (4 MiB)\n      bundle.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.75.0 compiled with 3 warnings in 72511 ms\nRemoving intermediate container d4533f0eb15f\n ---> 803320441480\nStep 11/26 : FROM python:3.10-buster AS python-builder\n3.10-buster: Pulling from library/python\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n6aa81cf5366e: Already exists\n53215122bea9: Pulling fs layer\nd6d9fad8472c: Pulling fs layer\n60a9885d323b: Pulling fs layer\nd6d9fad8472c: Verifying Checksum\nd6d9fad8472c: Download complete\n60a9885d323b: Verifying Checksum\n60a9885d323b: Download complete\n53215122bea9: Download complete\n53215122bea9: Pull complete\nd6d9fad8472c: Pull complete\n60a9885d323b: Pull complete\nDigest: sha256:2eb681aef07c767144f2345571b16e30dd927bcaa5dd8d740a6d6147093dc5c8\nStatus: Downloaded newer image for python:3.10-buster\n ---> 4cca129ac8a6\nStep 12/26 : WORKDIR /usr/src\n ---> Running in e1db7f708d68\nRemoving intermediate container e1db7f708d68\n ---> 1231772344cd\nStep 13/26 : RUN pip install --upgrade pip setuptools\n ---> Running in 8781009c9d27\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\nRequirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (65.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 26.8 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 65.5.0\n    Uninstalling setuptools-65.5.0:\n      Successfully uninstalled setuptools-65.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 8781009c9d27\n ---> b730f6404bca\nStep 14/26 : RUN pip install --progress-bar off PyMySQL[rsa] psycopg2-binary gunicorn optuna-fast-fanova\n ---> Running in ef8038381a05\nCollecting PyMySQL[rsa]\n  Downloading PyMySQL-1.0.2-py3-none-any.whl (43 kB)\nCollecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\nCollecting optuna-fast-fanova\n  Downloading optuna-fast-fanova-0.0.3.tar.gz (12 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting cryptography\n  Downloading cryptography-38.0.4-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.10/site-packages (from gunicorn) (65.6.3)\nCollecting scikit-learn\n  Using cached scikit_learn-1.2.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (9.5 MB)\nCollecting optuna\n  Downloading optuna-3.0.5-py3-none-any.whl (348 kB)\nCollecting numpy\n  Using cached numpy-1.24.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting scipy<1.9.0,>=1.7.0\n  Downloading scipy-1.8.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (42.2 MB)\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (682 kB)\nCollecting packaging>=20.0\n  Using cached packaging-22.0-py3-none-any.whl (42 kB)\nCollecting importlib-metadata<5.0.0\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting alembic>=1.5.0\n  Downloading alembic-1.9.1-py3-none-any.whl (210 kB)\nCollecting sqlalchemy>=1.3.0\n  Downloading SQLAlchemy-1.4.45-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\nCollecting tqdm\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\nCollecting cliff\n  Downloading cliff-4.1.0-py3-none-any.whl (81 kB)\nCollecting colorlog\n  Downloading colorlog-6.7.0-py2.py3-none-any.whl (11 kB)\nCollecting cmaes>=0.8.2\n  Downloading cmaes-0.9.0-py3-none-any.whl (23 kB)\nCollecting threadpoolctl>=2.0.0\n  Using cached threadpoolctl-3.1.0-py3-none-any.whl (14 kB)\nCollecting joblib>=1.1.1\n  Using cached joblib-1.2.0-py3-none-any.whl (297 kB)\nCollecting Mako\n  Downloading Mako-1.2.4-py3-none-any.whl (78 kB)\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting greenlet!=0.4.17\n  Downloading greenlet-2.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (539 kB)\nCollecting stevedore>=2.0.1\n  Downloading stevedore-4.1.1-py3-none-any.whl (50 kB)\nCollecting PrettyTable>=0.7.2\n  Downloading prettytable-3.5.0-py3-none-any.whl (26 kB)\nCollecting autopage>=0.4.0\n  Downloading autopage-0.5.1-py3-none-any.whl (29 kB)\nCollecting cmd2>=1.0.0\n  Downloading cmd2-2.4.2-py3-none-any.whl (147 kB)\nCollecting attrs>=16.3.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting wcwidth>=0.1.7\n  Downloading wcwidth-0.2.5-py2.py3-none-any.whl (30 kB)\nCollecting pyperclip>=1.6\n  Downloading pyperclip-1.8.2.tar.gz (20 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pbr!=2.1.0,>=2.0.0\n  Downloading pbr-5.11.0-py2.py3-none-any.whl (112 kB)\nCollecting MarkupSafe>=0.9.2\n  Downloading MarkupSafe-2.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nBuilding wheels for collected packages: optuna-fast-fanova, pyperclip\n  Building wheel for optuna-fast-fanova (pyproject.toml): started\n  Building wheel for optuna-fast-fanova (pyproject.toml): finished with status 'done'\n  Created wheel for optuna-fast-fanova: filename=optuna_fast_fanova-0.0.3-cp310-cp310-linux_x86_64.whl size=559613 sha256=f1ae24b6845d227aa32cfd5850bf633429b84f2efb3312258d7d7d33a60308ff\n  Stored in directory: /root/.cache/pip/wheels/ee/62/c1/d56c37a755545fd9d343d8a42adeb905964d54788f67a812d2\n  Building wheel for pyperclip (setup.py): started\n  Building wheel for pyperclip (setup.py): finished with status 'done'\n  Created wheel for pyperclip: filename=pyperclip-1.8.2-py3-none-any.whl size=11124 sha256=beb9a67378de4d89bdfab0eb05c43f4dcfaa73237865a51b7cc8c2b166111279\n  Stored in directory: /root/.cache/pip/wheels/3c/77/81/aaa2802e9b0553585f2789c6f2756b50a09a01d2848423bb15\nSuccessfully built optuna-fast-fanova pyperclip\nInstalling collected packages: wcwidth, pyperclip, zipp, tqdm, threadpoolctl, PyYAML, PyMySQL, pycparser, psycopg2-binary, PrettyTable, pbr, packaging, numpy, MarkupSafe, joblib, gunicorn, greenlet, colorlog, autopage, attrs, stevedore, sqlalchemy, scipy, Mako, importlib-metadata, cmd2, cmaes, cffi, scikit-learn, cryptography, cliff, alembic, optuna, optuna-fast-fanova\nSuccessfully installed Mako-1.2.4 MarkupSafe-2.1.1 PrettyTable-3.5.0 PyMySQL-1.0.2 PyYAML-6.0 alembic-1.9.1 attrs-22.2.0 autopage-0.5.1 cffi-1.15.1 cliff-4.1.0 cmaes-0.9.0 cmd2-2.4.2 colorlog-6.7.0 cryptography-38.0.4 greenlet-2.0.1 gunicorn-20.1.0 importlib-metadata-4.13.0 joblib-1.2.0 numpy-1.24.1 optuna-3.0.5 optuna-fast-fanova-0.0.3 packaging-22.0 pbr-5.11.0 psycopg2-binary-2.9.5 pycparser-2.21 pyperclip-1.8.2 scikit-learn-1.2.0 scipy-1.8.1 sqlalchemy-1.4.45 stevedore-4.1.1 threadpoolctl-3.1.0 tqdm-4.64.1 wcwidth-0.2.5 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container ef8038381a05\n ---> 82fc34ff9526\nStep 15/26 : ADD ./pyproject.toml /usr/src/pyproject.toml\n ---> 38c916142247\nStep 16/26 : ADD ./setup.py /usr/src/setup.py\n ---> a5caf186749a\nStep 17/26 : ADD ./optuna_dashboard /usr/src/optuna_dashboard\n ---> a48a65669043\nStep 18/26 : COPY --from=front-builder /usr/src/optuna_dashboard/public/ /usr/src/optuna_dashboard/public/\n ---> d50e87e42cde\nStep 19/26 : RUN pip install --progress-bar off .\n ---> Running in 02b516ad7c35\nProcessing /usr/src\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nRequirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from optuna-dashboard==0.8.1) (22.0)\nCollecting bottle\n  Downloading bottle-0.12.23-py3-none-any.whl (90 kB)\nRequirement already satisfied: optuna>=2.4.0 in /usr/local/lib/python3.10/site-packages (from optuna-dashboard==0.8.1) (3.0.5)\nRequirement already satisfied: scikit-learn in /usr/local/lib/python3.10/site-packages (from optuna-dashboard==0.8.1) (1.2.0)\nRequirement already satisfied: sqlalchemy>=1.3.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.4.45)\nRequirement already satisfied: cliff in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (4.1.0)\nRequirement already satisfied: colorlog in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (6.7.0)\nRequirement already satisfied: scipy<1.9.0,>=1.7.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.8.1)\nRequirement already satisfied: cmaes>=0.8.2 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (0.9.0)\nRequirement already satisfied: importlib-metadata<5.0.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (4.13.0)\nRequirement already satisfied: alembic>=1.5.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.9.1)\nRequirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.24.1)\nRequirement already satisfied: tqdm in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (4.64.1)\nRequirement already satisfied: PyYAML in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (6.0)\nRequirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.10/site-packages (from scikit-learn->optuna-dashboard==0.8.1) (3.1.0)\nRequirement already satisfied: joblib>=1.1.1 in /usr/local/lib/python3.10/site-packages (from scikit-learn->optuna-dashboard==0.8.1) (1.2.0)\nRequirement already satisfied: Mako in /usr/local/lib/python3.10/site-packages (from alembic>=1.5.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (1.2.4)\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.10/site-packages (from importlib-metadata<5.0.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (3.11.0)\nRequirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.10/site-packages (from sqlalchemy>=1.3.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (2.0.1)\nRequirement already satisfied: autopage>=0.4.0 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (0.5.1)\nRequirement already satisfied: cmd2>=1.0.0 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (2.4.2)\nRequirement already satisfied: stevedore>=2.0.1 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (4.1.1)\nRequirement already satisfied: PrettyTable>=0.7.2 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (3.5.0)\nRequirement already satisfied: pyperclip>=1.6 in /usr/local/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (1.8.2)\nRequirement already satisfied: attrs>=16.3.0 in /usr/local/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (22.2.0)\nRequirement already satisfied: wcwidth>=0.1.7 in /usr/local/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (0.2.5)\nRequirement already satisfied: pbr!=2.1.0,>=2.0.0 in /usr/local/lib/python3.10/site-packages (from stevedore>=2.0.1->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (5.11.0)\nRequirement already satisfied: MarkupSafe>=0.9.2 in /usr/local/lib/python3.10/site-packages (from Mako->alembic>=1.5.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (2.1.1)\nBuilding wheels for collected packages: optuna-dashboard\n  Building wheel for optuna-dashboard (pyproject.toml): started\n  Building wheel for optuna-dashboard (pyproject.toml): finished with status 'done'\n  Created wheel for optuna-dashboard: filename=optuna_dashboard-0.8.1-py3-none-any.whl size=2558124 sha256=3792ca691904b2b3d35f02ef057d4efa99a7aa412f88628b59d853cb400412a9\n  Stored in directory: /tmp/pip-ephem-wheel-cache-a05cbw4_/wheels/d0/9b/0f/3cbd797712c91ea97357c1fd4e5a74023608fa9532aa4203e8\nSuccessfully built optuna-dashboard\nInstalling collected packages: bottle, optuna-dashboard\nSuccessfully installed bottle-0.12.23 optuna-dashboard-0.8.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 02b516ad7c35\n ---> 5b5a9dc4d469\nStep 20/26 : FROM python:3.10-slim-buster as runner\n ---> abe91ea92d3a\nStep 21/26 : COPY --from=python-builder /usr/local/lib/python3.10/site-packages /usr/local/lib/python3.10/site-packages\n ---> 2596731d3a5a\nStep 22/26 : COPY --from=python-builder /usr/local/bin/optuna-dashboard /usr/local/bin/optuna-dashboard\n ---> e34e6661ea0b\nStep 23/26 : RUN mkdir /app\n ---> Running in c90835ebdfce\nRemoving intermediate container c90835ebdfce\n ---> 2e53657305b9\nStep 24/26 : WORKDIR /app\n ---> Running in 54b718591c4b\nRemoving intermediate container 54b718591c4b\n ---> f8bd90efa543\nStep 25/26 : EXPOSE 8080\n ---> Running in abc47a2cd512\nRemoving intermediate container abc47a2cd512\n ---> e7ceb357cb5e\nStep 26/26 : ENTRYPOINT [\"optuna-dashboard\", \"--port\", \"8080\", \"--host\", \"0.0.0.0\", \"--server\", \"gunicorn\"]\n ---> Running in bb5d721439ca\nRemoving intermediate container bb5d721439ca\n ---> c540f294bde2\nSuccessfully built c540f294bde2\nSuccessfully tagged optuna-dashboard:latest\n","stderr":"","imageSize":446418989},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}},{"name":"pipUseNoCacheDir","position":{"start":16,"end":16,"columnStart":4,"columnEnd":40}},{"name":"pipUseNoCacheDir","position":{"start":17,"end":17,"columnStart":4,"columnEnd":91}},{"name":"pipUseNoCacheDir","position":{"start":23,"end":23,"columnStart":4,"columnEnd":36}},{"name":"mkdirUsrSrcThenRemove","position":{"start":10,"end":10,"columnStart":4,"columnEnd":45}}],"repairedDockerfile":"FROM node:16 AS front-builder\nWORKDIR /usr/src\n\nADD ./package.json /usr/src/package.json\nADD ./package-lock.json /usr/src/package-lock.json\nRUN npm install\n\nADD ./tsconfig.json /usr/src/tsconfig.json\nADD ./webpack.config.js /usr/src/webpack.config.js\nADD ./optuna_dashboard/ts/ /usr/src/optuna_dashboard/ts\nRUN mkdir -p /usr/src/optuna_dashboard/public\nRUN npm run build:prd\n\nFROM python:3.10-buster AS python-builder\n\nWORKDIR /usr/src\nRUN pip install --no-cache-dir --upgrade pip setuptools\nRUN pip install --no-cache-dir --progress-bar off PyMySQL[rsa] psycopg2-binary gunicorn optuna-fast-fanova\n\nADD ./pyproject.toml /usr/src/pyproject.toml\nADD ./setup.py /usr/src/setup.py\nADD ./optuna_dashboard /usr/src/optuna_dashboard\nCOPY --from=front-builder /usr/src/optuna_dashboard/public/ /usr/src/optuna_dashboard/public/\nRUN pip install --no-cache-dir --progress-bar off .\n\nFROM python:3.10-slim-buster as runner\n\nCOPY --from=python-builder /usr/local/lib/python3.10/site-packages /usr/local/lib/python3.10/site-packages\nCOPY --from=python-builder /usr/local/bin/optuna-dashboard /usr/local/bin/optuna-dashboard\n\nRUN mkdir /app\nWORKDIR /app\n\nEXPOSE 8080\nENTRYPOINT [\"optuna-dashboard\", \"--port\", \"8080\", \"--host\", \"0.0.0.0\", \"--server\", \"gunicorn\"]\n"},"repairedBuild":{"startTimestamp":1672550116064,"endTimestamp":1672550457023,"error":null,"stdout":"Sending build context to Docker daemon  1.588MB\r\r\nStep 1/26 : FROM node:16 AS front-builder\n ---> c910109adbfd\nStep 2/26 : WORKDIR /usr/src\n ---> Running in 76d7ad958a7b\nRemoving intermediate container 76d7ad958a7b\n ---> f86ceb810d3b\nStep 3/26 : ADD ./package.json /usr/src/package.json\n ---> 70cb49895dec\nStep 4/26 : ADD ./package-lock.json /usr/src/package-lock.json\n ---> 484dfa2b3e2d\nStep 5/26 : RUN npm install\n ---> Running in ab3db0200bec\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\nadded 870 packages, and audited 871 packages in 14s\n\n106 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container ab3db0200bec\n ---> ebbcdda8f08c\nStep 6/26 : ADD ./tsconfig.json /usr/src/tsconfig.json\n ---> ca56fce4a55c\nStep 7/26 : ADD ./webpack.config.js /usr/src/webpack.config.js\n ---> 30a0014bf893\nStep 8/26 : ADD ./optuna_dashboard/ts/ /usr/src/optuna_dashboard/ts\n ---> df127dd6c985\nStep 9/26 : RUN mkdir -p /usr/src/optuna_dashboard/public\n ---> Running in 757a899e7004\nRemoving intermediate container 757a899e7004\n ---> b0ef602d6e26\nStep 10/26 : RUN npm run build:prd\n ---> Running in 083f6acd58c9\n\n> optuna-dashboard@0.0.1 build:prd\n> NODE_ENV=production webpack\n\nasset bundle.js 4 MiB [emitted] [minimized] [big] (name: main) 2 related assets\norphan modules 8.18 MiB [orphan] 11442 modules\nruntime modules 2.25 KiB 6 modules\ncacheable modules 5.07 MiB\n  modules by path ./node_modules/@mui/ 143 KiB 78 modules\n  modules by path ./node_modules/@emotion/ 64.1 KiB 6 modules\n  modules by path ./node_modules/react/ 7.98 KiB 4 modules\n  modules by path ./node_modules/react-dom/ 131 KiB 3 modules\n  modules by path ./node_modules/hoist-non-react-statics/ 5.36 KiB 3 modules\n  modules by path ./node_modules/@babel/runtime/helpers/ 988 bytes 3 modules\n  modules by path ./node_modules/prop-types/ 2.6 KiB 3 modules\n  modules by path ./node_modules/react-router/ 2.69 KiB 2 modules\n  modules by path ./node_modules/path-to-regexp/ 10.7 KiB 2 modules\n  modules by path ./node_modules/scheduler/ 4.33 KiB 2 modules\n  modules by path ./node_modules/react-is/ 2.4 KiB 2 modules\n  + 4 modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  bundle.js (4 MiB)\n  bundle.js.gz (1.2 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (4 MiB)\n      bundle.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.75.0 compiled with 3 warnings in 70210 ms\nRemoving intermediate container 083f6acd58c9\n ---> 7958c9cd397d\nStep 11/26 : FROM python:3.10-buster AS python-builder\n ---> 4cca129ac8a6\nStep 12/26 : WORKDIR /usr/src\n ---> Running in 4ed2c08e94b5\nRemoving intermediate container 4ed2c08e94b5\n ---> 0e6831120344\nStep 13/26 : RUN pip install --no-cache-dir --upgrade pip setuptools\n ---> Running in 1c346f9fa8d9\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\nRequirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (65.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 80.5 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 65.5.0\n    Uninstalling setuptools-65.5.0:\n      Successfully uninstalled setuptools-65.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 1c346f9fa8d9\n ---> 034e4ef2d077\nStep 14/26 : RUN pip install --no-cache-dir --progress-bar off PyMySQL[rsa] psycopg2-binary gunicorn optuna-fast-fanova\n ---> Running in 3f8839bbb2d2\nCollecting PyMySQL[rsa]\n  Downloading PyMySQL-1.0.2-py3-none-any.whl (43 kB)\nCollecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\nCollecting optuna-fast-fanova\n  Downloading optuna-fast-fanova-0.0.3.tar.gz (12 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting cryptography\n  Downloading cryptography-38.0.4-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.10/site-packages (from gunicorn) (65.6.3)\nCollecting scikit-learn\n  Downloading scikit_learn-1.2.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (9.5 MB)\nCollecting numpy\n  Downloading numpy-1.24.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)\nCollecting optuna\n  Downloading optuna-3.0.5-py3-none-any.whl (348 kB)\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting tqdm\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\nCollecting packaging>=20.0\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\nCollecting scipy<1.9.0,>=1.7.0\n  Downloading scipy-1.8.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (42.2 MB)\nCollecting sqlalchemy>=1.3.0\n  Downloading SQLAlchemy-1.4.45-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\nCollecting colorlog\n  Downloading colorlog-6.7.0-py2.py3-none-any.whl (11 kB)\nCollecting cliff\n  Downloading cliff-4.1.0-py3-none-any.whl (81 kB)\nCollecting alembic>=1.5.0\n  Downloading alembic-1.9.1-py3-none-any.whl (210 kB)\nCollecting cmaes>=0.8.2\n  Downloading cmaes-0.9.0-py3-none-any.whl (23 kB)\nCollecting importlib-metadata<5.0.0\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (682 kB)\nCollecting threadpoolctl>=2.0.0\n  Downloading threadpoolctl-3.1.0-py3-none-any.whl (14 kB)\nCollecting joblib>=1.1.1\n  Downloading joblib-1.2.0-py3-none-any.whl (297 kB)\nCollecting Mako\n  Downloading Mako-1.2.4-py3-none-any.whl (78 kB)\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting greenlet!=0.4.17\n  Downloading greenlet-2.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (539 kB)\nCollecting stevedore>=2.0.1\n  Downloading stevedore-4.1.1-py3-none-any.whl (50 kB)\nCollecting autopage>=0.4.0\n  Downloading autopage-0.5.1-py3-none-any.whl (29 kB)\nCollecting cmd2>=1.0.0\n  Downloading cmd2-2.4.2-py3-none-any.whl (147 kB)\nCollecting PrettyTable>=0.7.2\n  Downloading prettytable-3.5.0-py3-none-any.whl (26 kB)\nCollecting wcwidth>=0.1.7\n  Downloading wcwidth-0.2.5-py2.py3-none-any.whl (30 kB)\nCollecting pyperclip>=1.6\n  Downloading pyperclip-1.8.2.tar.gz (20 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting attrs>=16.3.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting pbr!=2.1.0,>=2.0.0\n  Downloading pbr-5.11.0-py2.py3-none-any.whl (112 kB)\nCollecting MarkupSafe>=0.9.2\n  Downloading MarkupSafe-2.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nBuilding wheels for collected packages: optuna-fast-fanova, pyperclip\n  Building wheel for optuna-fast-fanova (pyproject.toml): started\n  Building wheel for optuna-fast-fanova (pyproject.toml): finished with status 'done'\n  Created wheel for optuna-fast-fanova: filename=optuna_fast_fanova-0.0.3-cp310-cp310-linux_x86_64.whl size=559607 sha256=fadada3f8e783c48bdb9ad7de9aa519be28591b9da4f565345da640f3b3f415c\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_3aq79y2/wheels/ee/62/c1/d56c37a755545fd9d343d8a42adeb905964d54788f67a812d2\n  Building wheel for pyperclip (setup.py): started\n  Building wheel for pyperclip (setup.py): finished with status 'done'\n  Created wheel for pyperclip: filename=pyperclip-1.8.2-py3-none-any.whl size=11124 sha256=38eee76257f091fdfb57d7fee1c446606b932ef0de3fdb16055d201545ab3e64\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_3aq79y2/wheels/3c/77/81/aaa2802e9b0553585f2789c6f2756b50a09a01d2848423bb15\nSuccessfully built optuna-fast-fanova pyperclip\nInstalling collected packages: wcwidth, pyperclip, zipp, tqdm, threadpoolctl, PyYAML, PyMySQL, pycparser, psycopg2-binary, PrettyTable, pbr, packaging, numpy, MarkupSafe, joblib, gunicorn, greenlet, colorlog, autopage, attrs, stevedore, sqlalchemy, scipy, Mako, importlib-metadata, cmd2, cmaes, cffi, scikit-learn, cryptography, cliff, alembic, optuna, optuna-fast-fanova\nSuccessfully installed Mako-1.2.4 MarkupSafe-2.1.1 PrettyTable-3.5.0 PyMySQL-1.0.2 PyYAML-6.0 alembic-1.9.1 attrs-22.2.0 autopage-0.5.1 cffi-1.15.1 cliff-4.1.0 cmaes-0.9.0 cmd2-2.4.2 colorlog-6.7.0 cryptography-38.0.4 greenlet-2.0.1 gunicorn-20.1.0 importlib-metadata-4.13.0 joblib-1.2.0 numpy-1.24.1 optuna-3.0.5 optuna-fast-fanova-0.0.3 packaging-22.0 pbr-5.11.0 psycopg2-binary-2.9.5 pycparser-2.21 pyperclip-1.8.2 scikit-learn-1.2.0 scipy-1.8.1 sqlalchemy-1.4.45 stevedore-4.1.1 threadpoolctl-3.1.0 tqdm-4.64.1 wcwidth-0.2.5 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 3f8839bbb2d2\n ---> 50389f3f3252\nStep 15/26 : ADD ./pyproject.toml /usr/src/pyproject.toml\n ---> 2ea6c44c35bb\nStep 16/26 : ADD ./setup.py /usr/src/setup.py\n ---> cfffdc929948\nStep 17/26 : ADD ./optuna_dashboard /usr/src/optuna_dashboard\n ---> 1bad881c4310\nStep 18/26 : COPY --from=front-builder /usr/src/optuna_dashboard/public/ /usr/src/optuna_dashboard/public/\n ---> 0d6ca56cef11\nStep 19/26 : RUN pip install --no-cache-dir --progress-bar off .\n ---> Running in cc83741d9565\nProcessing /usr/src\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nRequirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from optuna-dashboard==0.8.1) (22.0)\nRequirement already satisfied: scikit-learn in /usr/local/lib/python3.10/site-packages (from optuna-dashboard==0.8.1) (1.2.0)\nRequirement already satisfied: optuna>=2.4.0 in /usr/local/lib/python3.10/site-packages (from optuna-dashboard==0.8.1) (3.0.5)\nCollecting bottle\n  Downloading bottle-0.12.23-py3-none-any.whl (90 kB)\nRequirement already satisfied: tqdm in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (4.64.1)\nRequirement already satisfied: importlib-metadata<5.0.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (4.13.0)\nRequirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.24.1)\nRequirement already satisfied: alembic>=1.5.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.9.1)\nRequirement already satisfied: cliff in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (4.1.0)\nRequirement already satisfied: scipy<1.9.0,>=1.7.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.8.1)\nRequirement already satisfied: sqlalchemy>=1.3.0 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (1.4.45)\nRequirement already satisfied: colorlog in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (6.7.0)\nRequirement already satisfied: PyYAML in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (6.0)\nRequirement already satisfied: cmaes>=0.8.2 in /usr/local/lib/python3.10/site-packages (from optuna>=2.4.0->optuna-dashboard==0.8.1) (0.9.0)\nRequirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.10/site-packages (from scikit-learn->optuna-dashboard==0.8.1) (3.1.0)\nRequirement already satisfied: joblib>=1.1.1 in /usr/local/lib/python3.10/site-packages (from scikit-learn->optuna-dashboard==0.8.1) (1.2.0)\nRequirement already satisfied: Mako in /usr/local/lib/python3.10/site-packages (from alembic>=1.5.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (1.2.4)\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.10/site-packages (from importlib-metadata<5.0.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (3.11.0)\nRequirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.10/site-packages (from sqlalchemy>=1.3.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (2.0.1)\nRequirement already satisfied: stevedore>=2.0.1 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (4.1.1)\nRequirement already satisfied: cmd2>=1.0.0 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (2.4.2)\nRequirement already satisfied: PrettyTable>=0.7.2 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (3.5.0)\nRequirement already satisfied: autopage>=0.4.0 in /usr/local/lib/python3.10/site-packages (from cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (0.5.1)\nRequirement already satisfied: attrs>=16.3.0 in /usr/local/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (22.2.0)\nRequirement already satisfied: wcwidth>=0.1.7 in /usr/local/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (0.2.5)\nRequirement already satisfied: pyperclip>=1.6 in /usr/local/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (1.8.2)\nRequirement already satisfied: pbr!=2.1.0,>=2.0.0 in /usr/local/lib/python3.10/site-packages (from stevedore>=2.0.1->cliff->optuna>=2.4.0->optuna-dashboard==0.8.1) (5.11.0)\nRequirement already satisfied: MarkupSafe>=0.9.2 in /usr/local/lib/python3.10/site-packages (from Mako->alembic>=1.5.0->optuna>=2.4.0->optuna-dashboard==0.8.1) (2.1.1)\nBuilding wheels for collected packages: optuna-dashboard\n  Building wheel for optuna-dashboard (pyproject.toml): started\n  Building wheel for optuna-dashboard (pyproject.toml): finished with status 'done'\n  Created wheel for optuna-dashboard: filename=optuna_dashboard-0.8.1-py3-none-any.whl size=2558124 sha256=2cda7af89e1579b8ffc9e946f71d78cc255cb96a095f8c35a190754e9f3bd13b\n  Stored in directory: /tmp/pip-ephem-wheel-cache-o775sl_s/wheels/d0/9b/0f/3cbd797712c91ea97357c1fd4e5a74023608fa9532aa4203e8\nSuccessfully built optuna-dashboard\nInstalling collected packages: bottle, optuna-dashboard\nSuccessfully installed bottle-0.12.23 optuna-dashboard-0.8.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container cc83741d9565\n ---> 7a466693ec9f\nStep 20/26 : FROM python:3.10-slim-buster as runner\n ---> abe91ea92d3a\nStep 21/26 : COPY --from=python-builder /usr/local/lib/python3.10/site-packages /usr/local/lib/python3.10/site-packages\n ---> c5a4e421e9c7\nStep 22/26 : COPY --from=python-builder /usr/local/bin/optuna-dashboard /usr/local/bin/optuna-dashboard\n ---> 5147f35bc55d\nStep 23/26 : RUN mkdir /app\n ---> Running in e910c04ab28e\nRemoving intermediate container e910c04ab28e\n ---> 700ac8f97f6e\nStep 24/26 : WORKDIR /app\n ---> Running in 8fd2f5a3aed9\nRemoving intermediate container 8fd2f5a3aed9\n ---> f572f518d45c\nStep 25/26 : EXPOSE 8080\n ---> Running in fe0f5bd136cb\nRemoving intermediate container fe0f5bd136cb\n ---> a384513d68fa\nStep 26/26 : ENTRYPOINT [\"optuna-dashboard\", \"--port\", \"8080\", \"--host\", \"0.0.0.0\", \"--server\", \"gunicorn\"]\n ---> Running in 4bd2fe0b1976\nRemoving intermediate container 4bd2fe0b1976\n ---> 24520f629afb\nSuccessfully built 24520f629afb\nSuccessfully tagged optuna-dashboard:latest\n","stderr":"","imageSize":446418989},"endTime":1672550457488}