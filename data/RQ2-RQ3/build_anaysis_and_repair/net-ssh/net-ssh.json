{"repository":"https://github.com/net-ssh/net-ssh","dockerfilePath":"Dockerfile","startTime":1672810950497,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/net-ssh/net-ssh'...\n","error":null,"commit":"8a176a6ea0db1b59a21834df806a257a0b76e943"},"originalBuild":{"startTimestamp":1672810951533,"endTimestamp":1672810990199,"error":null,"stdout":"Sending build context to Docker daemon   1.18MB\r\r\nStep 1/10 : ARG RUBY_VERSION=3.1\nStep 2/10 : FROM ruby:${RUBY_VERSION}\n3.1: Pulling from library/ruby\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n5fe064c92718: Already exists\nc0c46a76c6cf: Pulling fs layer\n229a5572cd22: Pulling fs layer\n229a5572cd22: Verifying Checksum\n229a5572cd22: Download complete\nc0c46a76c6cf: Download complete\nc0c46a76c6cf: Pull complete\n229a5572cd22: Pull complete\nDigest: sha256:db743d171b7146893cb8d75d5b72c8c2b02fc2521d8a0dd5f70ce105d758a004\nStatus: Downloaded newer image for ruby:3.1\n ---> 67f7a5de6fe6\nStep 3/10 : RUN apt update && apt install -y openssh-server sudo netcat   && useradd --create-home --shell '/bin/bash' --comment 'NetSSH' 'net_ssh_1'   && useradd --create-home --shell '/bin/bash' --comment 'NetSSH' 'net_ssh_2'   && echo net_ssh_1:foopwd | chpasswd   && echo net_ssh_2:foo2pwd | chpasswd   && mkdir -p /home/net_ssh_1/.ssh   && mkdir -p /home/net_ssh_2/.ssh   && echo \"net_ssh_1 ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers   && echo \"net_ssh_2 ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers   && ssh-keygen -f /etc/ssh/users_ca -N ''\n ---> Running in 25881e3b5f83\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6411 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n1 package can be upgraded. Run 'apt list --upgradable' to see it.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  dbus dmsetup libapparmor1 libargon2-1 libcap2 libcryptsetup12 libdbus-1-3\n  libdevmapper1.02.1 libip4tc2 libjson-c5 libkmod2 libnss-systemd\n  libpam-systemd libwrap0 libxmuu1 ncurses-term netcat-openbsd\n  openssh-sftp-server runit-helper systemd systemd-sysv systemd-timesyncd\n  xauth\nSuggested packages:\n  default-dbus-session-bus | dbus-session-bus molly-guard monkeysphere\n  ssh-askpass ufw systemd-container policykit-1\nThe following NEW packages will be installed:\n  dbus dmsetup libapparmor1 libargon2-1 libcap2 libcryptsetup12 libdbus-1-3\n  libdevmapper1.02.1 libip4tc2 libjson-c5 libkmod2 libnss-systemd\n  libpam-systemd libwrap0 libxmuu1 ncurses-term netcat netcat-openbsd\n  openssh-server openssh-sftp-server runit-helper sudo systemd systemd-sysv\n  systemd-timesyncd xauth\n0 upgraded, 26 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 8634 kB of archives.\nAfter this operation, 31.9 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libapparmor1 amd64 2.13.6-10 [99.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libcap2 amd64 1:2.44-1 [23.6 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libargon2-1 amd64 0~20171227-0.2 [19.6 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 dmsetup amd64 2:1.02.175-2.1 [92.1 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libdevmapper1.02.1 amd64 2:1.02.175-2.1 [143 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libjson-c5 amd64 0.15-2 [42.8 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libcryptsetup12 amd64 2:2.3.7-1+deb11u1 [248 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libip4tc2 amd64 1.8.7-1 [34.6 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libkmod2 amd64 28-1 [55.6 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 systemd amd64 247.3-7+deb11u1 [4501 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 systemd-sysv amd64 247.3-7+deb11u1 [113 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 libdbus-1-3 amd64 1.12.24-0+deb11u1 [222 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 dbus amd64 1.12.24-0+deb11u1 [243 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 libnss-systemd amd64 247.3-7+deb11u1 [199 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 libpam-systemd amd64 247.3-7+deb11u1 [283 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 ncurses-term all 6.2+20201114-2 [504 kB]\nGet:17 http://deb.debian.org/debian bullseye/main amd64 systemd-timesyncd amd64 247.3-7+deb11u1 [131 kB]\nGet:18 http://deb.debian.org/debian bullseye/main amd64 libwrap0 amd64 7.6.q-31 [59.0 kB]\nGet:19 http://deb.debian.org/debian bullseye/main amd64 libxmuu1 amd64 2:1.1.2-2+b3 [23.9 kB]\nGet:20 http://deb.debian.org/debian bullseye/main amd64 netcat-openbsd amd64 1.217-3 [41.1 kB]\nGet:21 http://deb.debian.org/debian bullseye/main amd64 netcat all 1.10-46 [9728 B]\nGet:22 http://deb.debian.org/debian bullseye/main amd64 openssh-sftp-server amd64 1:8.4p1-5+deb11u1 [52.4 kB]\nGet:23 http://deb.debian.org/debian bullseye/main amd64 runit-helper all 2.10.3 [7808 B]\nGet:24 http://deb.debian.org/debian bullseye/main amd64 openssh-server amd64 1:8.4p1-5+deb11u1 [385 kB]\nGet:25 http://deb.debian.org/debian bullseye/main amd64 sudo amd64 1.9.5p2-3 [1059 kB]\nGet:26 http://deb.debian.org/debian bullseye/main amd64 xauth amd64 1:1.1-1 [40.5 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 8634 kB in 0s (85.2 MB/s)\nSelecting previously unselected package libapparmor1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../0-libapparmor1_2.13.6-10_amd64.deb ...\r\nUnpacking libapparmor1:amd64 (2.13.6-10) ...\r\nSelecting previously unselected package libcap2:amd64.\r\nPreparing to unpack .../1-libcap2_1%3a2.44-1_amd64.deb ...\r\nUnpacking libcap2:amd64 (1:2.44-1) ...\r\nSelecting previously unselected package libargon2-1:amd64.\r\nPreparing to unpack .../2-libargon2-1_0~20171227-0.2_amd64.deb ...\r\nUnpacking libargon2-1:amd64 (0~20171227-0.2) ...\r\nSelecting previously unselected package dmsetup.\r\nPreparing to unpack .../3-dmsetup_2%3a1.02.175-2.1_amd64.deb ...\r\nUnpacking dmsetup (2:1.02.175-2.1) ...\r\nSelecting previously unselected package libdevmapper1.02.1:amd64.\r\nPreparing to unpack .../4-libdevmapper1.02.1_2%3a1.02.175-2.1_amd64.deb ...\r\nUnpacking libdevmapper1.02.1:amd64 (2:1.02.175-2.1) ...\r\nSelecting previously unselected package libjson-c5:amd64.\r\nPreparing to unpack .../5-libjson-c5_0.15-2_amd64.deb ...\r\nUnpacking libjson-c5:amd64 (0.15-2) ...\r\nSelecting previously unselected package libcryptsetup12:amd64.\r\nPreparing to unpack .../6-libcryptsetup12_2%3a2.3.7-1+deb11u1_amd64.deb ...\r\nUnpacking libcryptsetup12:amd64 (2:2.3.7-1+deb11u1) ...\r\nSelecting previously unselected package libip4tc2:amd64.\r\nPreparing to unpack .../7-libip4tc2_1.8.7-1_amd64.deb ...\r\nUnpacking libip4tc2:amd64 (1.8.7-1) ...\r\nSelecting previously unselected package libkmod2:amd64.\r\nPreparing to unpack .../8-libkmod2_28-1_amd64.deb ...\r\nUnpacking libkmod2:amd64 (28-1) ...\r\nSelecting previously unselected package systemd.\r\nPreparing to unpack .../9-systemd_247.3-7+deb11u1_amd64.deb ...\r\nUnpacking systemd (247.3-7+deb11u1) ...\r\nSetting up libapparmor1:amd64 (2.13.6-10) ...\r\nSetting up libcap2:amd64 (1:2.44-1) ...\r\nSetting up libargon2-1:amd64 (0~20171227-0.2) ...\r\nSetting up libjson-c5:amd64 (0.15-2) ...\r\nSetting up libip4tc2:amd64 (1.8.7-1) ...\r\nSetting up libkmod2:amd64 (28-1) ...\r\nSetting up libdevmapper1.02.1:amd64 (2:1.02.175-2.1) ...\r\nSetting up libcryptsetup12:amd64 (2:2.3.7-1+deb11u1) ...\r\nSetting up systemd (247.3-7+deb11u1) ...\r\nCreated symlink /etc/systemd/system/getty.target.wants/getty@tty1.service → /lib/systemd/system/getty@.service.\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/remote-fs.target → /lib/systemd/system/remote-fs.target.\r\nCreated symlink /etc/systemd/system/sysinit.target.wants/systemd-pstore.service → /lib/systemd/system/systemd-pstore.service.\r\nInitializing machine ID from random generator.\r\nSetting up dmsetup (2:1.02.175-2.1) ...\r\nSelecting previously unselected package systemd-sysv.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23637 files and directories currently installed.)\r\nPreparing to unpack .../00-systemd-sysv_247.3-7+deb11u1_amd64.deb ...\r\nUnpacking systemd-sysv (247.3-7+deb11u1) ...\r\nSelecting previously unselected package libdbus-1-3:amd64.\r\nPreparing to unpack .../01-libdbus-1-3_1.12.24-0+deb11u1_amd64.deb ...\r\nUnpacking libdbus-1-3:amd64 (1.12.24-0+deb11u1) ...\r\nSelecting previously unselected package dbus.\r\nPreparing to unpack .../02-dbus_1.12.24-0+deb11u1_amd64.deb ...\r\nUnpacking dbus (1.12.24-0+deb11u1) ...\r\nSelecting previously unselected package libnss-systemd:amd64.\r\nPreparing to unpack .../03-libnss-systemd_247.3-7+deb11u1_amd64.deb ...\r\nUnpacking libnss-systemd:amd64 (247.3-7+deb11u1) ...\r\nSelecting previously unselected package libpam-systemd:amd64.\r\nPreparing to unpack .../04-libpam-systemd_247.3-7+deb11u1_amd64.deb ...\r\nUnpacking libpam-systemd:amd64 (247.3-7+deb11u1) ...\r\nSelecting previously unselected package ncurses-term.\r\nPreparing to unpack .../05-ncurses-term_6.2+20201114-2_all.deb ...\r\nUnpacking ncurses-term (6.2+20201114-2) ...\r\nSelecting previously unselected package systemd-timesyncd.\r\nPreparing to unpack .../06-systemd-timesyncd_247.3-7+deb11u1_amd64.deb ...\r\nUnpacking systemd-timesyncd (247.3-7+deb11u1) ...\r\nSelecting previously unselected package libwrap0:amd64.\r\nPreparing to unpack .../07-libwrap0_7.6.q-31_amd64.deb ...\r\nUnpacking libwrap0:amd64 (7.6.q-31) ...\r\nSelecting previously unselected package libxmuu1:amd64.\r\nPreparing to unpack .../08-libxmuu1_2%3a1.1.2-2+b3_amd64.deb ...\r\nUnpacking libxmuu1:amd64 (2:1.1.2-2+b3) ...\r\nSelecting previously unselected package netcat-openbsd.\r\nPreparing to unpack .../09-netcat-openbsd_1.217-3_amd64.deb ...\r\nUnpacking netcat-openbsd (1.217-3) ...\r\nSelecting previously unselected package netcat.\r\nPreparing to unpack .../10-netcat_1.10-46_all.deb ...\r\nUnpacking netcat (1.10-46) ...\r\nSelecting previously unselected package openssh-sftp-server.\r\nPreparing to unpack .../11-openssh-sftp-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package runit-helper.\r\nPreparing to unpack .../12-runit-helper_2.10.3_all.deb ...\r\nUnpacking runit-helper (2.10.3) ...\r\nSelecting previously unselected package openssh-server.\r\nPreparing to unpack .../13-openssh-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package sudo.\r\nPreparing to unpack .../14-sudo_1.9.5p2-3_amd64.deb ...\r\nUnpacking sudo (1.9.5p2-3) ...\r\nSelecting previously unselected package xauth.\r\nPreparing to unpack .../15-xauth_1%3a1.1-1_amd64.deb ...\r\nUnpacking xauth (1:1.1-1) ...\r\nSetting up runit-helper (2.10.3) ...\r\nSetting up openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSetting up systemd-sysv (247.3-7+deb11u1) ...\r\nSetting up netcat-openbsd (1.217-3) ...\r\nupdate-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode\r\nSetting up libnss-systemd:amd64 (247.3-7+deb11u1) ...\r\nFirst installation detected...\r\nChecking NSS setup...\r\nSetting up netcat (1.10-46) ...\r\nSetting up libwrap0:amd64 (7.6.q-31) ...\r\nSetting up libdbus-1-3:amd64 (1.12.24-0+deb11u1) ...\r\nSetting up dbus (1.12.24-0+deb11u1) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up systemd-timesyncd (247.3-7+deb11u1) ...\r\nCreated symlink /etc/systemd/system/dbus-org.freedesktop.timesync1.service → /lib/systemd/system/systemd-timesyncd.service.\r\nCreated symlink /etc/systemd/system/sysinit.target.wants/systemd-timesyncd.service → /lib/systemd/system/systemd-timesyncd.service.\r\nSetting up sudo (1.9.5p2-3) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up libpam-systemd:amd64 (247.3-7+deb11u1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nSetting up libxmuu1:amd64 (2:1.1.2-2+b3) ...\r\nSetting up ncurses-term (6.2+20201114-2) ...\r\nSetting up openssh-server (1:8.4p1-5+deb11u1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/ssh/sshd_config with new version\r\nCreating SSH2 RSA key; this may take some time ...\r\n3072 SHA256:A3jbEAPBdcmgvCpDfHwt93rXpoT35CKARyJ1X22aQ2I root@25881e3b5f83 (RSA)\r\nCreating SSH2 ECDSA key; this may take some time ...\r\n256 SHA256:KXKdHT7cvC+JYepK5WOErNVHoKyRGhWUPAtXDbzOQ+M root@25881e3b5f83 (ECDSA)\r\nCreating SSH2 ED25519 key; this may take some time ...\r\n256 SHA256:Ut+6/I5FBqxQ+TjCtxQHBrXJI4K/DyN8xaJAE5zx3zo root@25881e3b5f83 (ED25519)\r\nCreated symlink /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.service.\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/ssh.service → /lib/systemd/system/ssh.service.\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up xauth (1:1.1-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nGenerating public/private rsa key pair.\nYour identification has been saved in /etc/ssh/users_ca\nYour public key has been saved in /etc/ssh/users_ca.pub\nThe key fingerprint is:\nSHA256:5bDa+8ykdHC8VUCst3RkRl+pV1YU8LumNOeTxqIdY+c root@25881e3b5f83\nThe key's randomart image is:\n+---[RSA 3072]----+\n|           oooooB|\n|            ..=o+|\n|        . .. +ooo|\n|         *. oo...|\n|        S +o.o.. |\n|       o o o.   .|\n|      . o +  *.=.|\n|       . B  +.@= |\n|        o.+..ooE.|\n+----[SHA256]-----+\nRemoving intermediate container 25881e3b5f83\n ---> 4a6a93274cd6\nStep 4/10 : ENV INSTALL_PATH=\"/netssh\"\n ---> Running in 4a06dbe58a70\nRemoving intermediate container 4a06dbe58a70\n ---> 9d64b1e43f8b\nStep 5/10 : WORKDIR $INSTALL_PATH\n ---> Running in 96f3f3f60107\nRemoving intermediate container 96f3f3f60107\n ---> 7a482304ca2c\nStep 6/10 : COPY Gemfile net-ssh.gemspec $INSTALL_PATH/\n ---> 9be5406d9a70\nStep 7/10 : COPY lib/net/ssh/version.rb $INSTALL_PATH/lib/net/ssh/version.rb\n ---> b52bccc74413\nStep 8/10 : RUN gem install bundler && bundle install\n ---> Running in c6ecee5a9e68\nSuccessfully installed bundler-2.4.2\n1 gem installed\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mFetching gem metadata from https://rubygems.org/.........\nResolving dependencies...\nFetching rake 12.3.3\nInstalling rake 12.3.3\nUsing bundler 2.4.2\nUsing net-ssh 7.0.1 from source at `.`\nFetching parallel 1.22.1\nFetching rainbow 3.1.1\nUsing rexml 3.2.5\nFetching ast 2.4.2\nFetching bcrypt_pbkdf 1.1.0\nFetching byebug 11.1.3\nFetching ed25519 1.3.0\nFetching minitest 5.17.0\nFetching mocha 1.11.2\nFetching regexp_parser 2.6.1\nFetching ruby-progressbar 1.11.0\nFetching unicode-display_width 2.4.1\nFetching webrick 1.7.0\nFetching x25519 1.0.10\nInstalling ast 2.4.2\nInstalling rainbow 3.1.1\nInstalling ruby-progressbar 1.11.0\nInstalling bcrypt_pbkdf 1.1.0 with native extensions\nInstalling unicode-display_width 2.4.1\nInstalling parallel 1.22.1\nInstalling webrick 1.7.0\nInstalling regexp_parser 2.6.1\nInstalling byebug 11.1.3 with native extensions\nInstalling minitest 5.17.0\nFetching parser 3.2.0.0\nInstalling ed25519 1.3.0 with native extensions\nInstalling x25519 1.0.10 with native extensions\nInstalling mocha 1.11.2\nInstalling parser 3.2.0.0\nFetching rubocop-ast 1.24.1\nInstalling rubocop-ast 1.24.1\nFetching rubocop 1.28.2\nInstalling rubocop 1.28.2\nBundle complete! 11 Gemfile dependencies, 20 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container c6ecee5a9e68\n ---> d7c482a28abf\nStep 9/10 : COPY . $INSTALL_PATH/\n ---> 1f534019a5a5\nStep 10/10 : CMD service ssh start && rake test && NET_SSH_NO_ED25519=1 rake test\n ---> Running in 1dde8f9f8abb\nRemoving intermediate container 1dde8f9f8abb\n ---> 39deb06cd77c\nSuccessfully built 39deb06cd77c\nSuccessfully tagged net-ssh:latest\n","stderr":"","imageSize":992255606},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":3,"end":3,"columnStart":18,"columnEnd":59}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":3,"end":3,"columnStart":18,"columnEnd":59}}],"repairedDockerfile":"ARG RUBY_VERSION=3.1\nFROM ruby:${RUBY_VERSION}\n\nRUN apt update && apt install --no-install-recommends -y openssh-server sudo netcat \\\n  && useradd --create-home --shell '/bin/bash' --comment 'NetSSH' 'net_ssh_1' \\\n  && useradd --create-home --shell '/bin/bash' --comment 'NetSSH' 'net_ssh_2' \\\n  && echo net_ssh_1:foopwd | chpasswd \\\n  && echo net_ssh_2:foo2pwd | chpasswd \\\n  && mkdir -p /home/net_ssh_1/.ssh \\\n  && mkdir -p /home/net_ssh_2/.ssh \\\n  && echo \"net_ssh_1 ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers \\\n  && echo \"net_ssh_2 ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers \\\n  && ssh-keygen -f /etc/ssh/users_ca -N ''\n\nENV INSTALL_PATH=\"/netssh\"\n\nWORKDIR $INSTALL_PATH\n\nCOPY Gemfile net-ssh.gemspec $INSTALL_PATH/\n\nCOPY lib/net/ssh/version.rb $INSTALL_PATH/lib/net/ssh/version.rb\n\nRUN gem install bundler && bundle install\n\nCOPY . $INSTALL_PATH/\n\nCMD service ssh start && rake test && NET_SSH_NO_ED25519=1 rake test\n"},"repairedBuild":{"startTimestamp":1672810990697,"endTimestamp":1672811014250,"error":null,"stdout":"Sending build context to Docker daemon   1.18MB\r\r\nStep 1/10 : ARG RUBY_VERSION=3.1\nStep 2/10 : FROM ruby:${RUBY_VERSION}\n ---> 67f7a5de6fe6\nStep 3/10 : RUN apt update && apt install --no-install-recommends -y openssh-server sudo netcat   && useradd --create-home --shell '/bin/bash' --comment 'NetSSH' 'net_ssh_1'   && useradd --create-home --shell '/bin/bash' --comment 'NetSSH' 'net_ssh_2'   && echo net_ssh_1:foopwd | chpasswd   && echo net_ssh_2:foo2pwd | chpasswd   && mkdir -p /home/net_ssh_1/.ssh   && mkdir -p /home/net_ssh_2/.ssh   && echo \"net_ssh_1 ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers   && echo \"net_ssh_2 ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers   && ssh-keygen -f /etc/ssh/users_ca -N ''\n ---> Running in 037bd7c31e96\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6851 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n1 package can be upgraded. Run 'apt list --upgradable' to see it.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libwrap0 netcat-openbsd openssh-sftp-server runit-helper\nSuggested packages:\n  molly-guard monkeysphere ssh-askpass ufw\nRecommended packages:\n  default-logind | logind | libpam-systemd ncurses-term xauth\nThe following NEW packages will be installed:\n  libwrap0 netcat netcat-openbsd openssh-server openssh-sftp-server\n  runit-helper sudo\n0 upgraded, 7 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 1614 kB of archives.\nAfter this operation, 6706 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libwrap0 amd64 7.6.q-31 [59.0 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 netcat-openbsd amd64 1.217-3 [41.1 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 netcat all 1.10-46 [9728 B]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 openssh-sftp-server amd64 1:8.4p1-5+deb11u1 [52.4 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 runit-helper all 2.10.3 [7808 B]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 openssh-server amd64 1:8.4p1-5+deb11u1 [385 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 sudo amd64 1.9.5p2-3 [1059 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1614 kB in 0s (24.7 MB/s)\nSelecting previously unselected package libwrap0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../0-libwrap0_7.6.q-31_amd64.deb ...\r\nUnpacking libwrap0:amd64 (7.6.q-31) ...\r\nSelecting previously unselected package netcat-openbsd.\r\nPreparing to unpack .../1-netcat-openbsd_1.217-3_amd64.deb ...\r\nUnpacking netcat-openbsd (1.217-3) ...\r\nSelecting previously unselected package netcat.\r\nPreparing to unpack .../2-netcat_1.10-46_all.deb ...\r\nUnpacking netcat (1.10-46) ...\r\nSelecting previously unselected package openssh-sftp-server.\r\nPreparing to unpack .../3-openssh-sftp-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package runit-helper.\r\nPreparing to unpack .../4-runit-helper_2.10.3_all.deb ...\r\nUnpacking runit-helper (2.10.3) ...\r\nSelecting previously unselected package openssh-server.\r\nPreparing to unpack .../5-openssh-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package sudo.\r\nPreparing to unpack .../6-sudo_1.9.5p2-3_amd64.deb ...\r\nUnpacking sudo (1.9.5p2-3) ...\r\nSetting up runit-helper (2.10.3) ...\r\nSetting up openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSetting up netcat-openbsd (1.217-3) ...\r\nupdate-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode\r\nSetting up netcat (1.10-46) ...\r\nSetting up libwrap0:amd64 (7.6.q-31) ...\r\nSetting up sudo (1.9.5p2-3) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up openssh-server (1:8.4p1-5+deb11u1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/ssh/sshd_config with new version\r\nCreating SSH2 RSA key; this may take some time ...\r\n3072 SHA256:Ja6DSrWh1N2XSjgqZPmtKBwx8AV6R6w3UJhrZYYblO4 root@037bd7c31e96 (RSA)\r\nCreating SSH2 ECDSA key; this may take some time ...\r\n256 SHA256:B9OCC60aciH06AdCQhFiczz/bpC/iaoRezNDoJ+qWP0 root@037bd7c31e96 (ECDSA)\r\nCreating SSH2 ED25519 key; this may take some time ...\r\n256 SHA256:o7SiB/EvvIzsvbSP+AbAECgtr3QQ1LSbf8XWdCYmBwg root@037bd7c31e96 (ED25519)\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nGenerating public/private rsa key pair.\nYour identification has been saved in /etc/ssh/users_ca\nYour public key has been saved in /etc/ssh/users_ca.pub\nThe key fingerprint is:\nSHA256:A7/atjEpQudvbJIwlrvHRh3hsxiQM2SCQF/PBd7tKw4 root@037bd7c31e96\nThe key's randomart image is:\n+---[RSA 3072]----+\n|+o..oo ...       |\n|. .o* + + .      |\n|   . +.= o .     |\n|      .o+ .      |\n|    ...+S+ .     |\n|   .=oo o+  .    |\n|   ..*oE=. .     |\n|    ..*=Bo.      |\n|    .+.=+o       |\n+----[SHA256]-----+\nRemoving intermediate container 037bd7c31e96\n ---> 257830631b4a\nStep 4/10 : ENV INSTALL_PATH=\"/netssh\"\n ---> Running in b97ed9b21f19\nRemoving intermediate container b97ed9b21f19\n ---> d571f8d85f87\nStep 5/10 : WORKDIR $INSTALL_PATH\n ---> Running in ccb879251c6f\nRemoving intermediate container ccb879251c6f\n ---> a6e3734d1258\nStep 6/10 : COPY Gemfile net-ssh.gemspec $INSTALL_PATH/\n ---> d420dedf6cf4\nStep 7/10 : COPY lib/net/ssh/version.rb $INSTALL_PATH/lib/net/ssh/version.rb\n ---> 0030ab16ed51\nStep 8/10 : RUN gem install bundler && bundle install\n ---> Running in 804554500da7\nSuccessfully installed bundler-2.4.2\n1 gem installed\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mFetching gem metadata from https://rubygems.org/.........\nResolving dependencies...\nFetching rake 12.3.3\nInstalling rake 12.3.3\nUsing bundler 2.4.2\nUsing net-ssh 7.0.1 from source at `.`\nFetching parallel 1.22.1\nUsing rexml 3.2.5\nFetching ruby-progressbar 1.11.0\nFetching ast 2.4.2\nFetching bcrypt_pbkdf 1.1.0\nFetching byebug 11.1.3\nFetching ed25519 1.3.0\nFetching minitest 5.17.0\nFetching mocha 1.11.2\nFetching rainbow 3.1.1\nFetching regexp_parser 2.6.1\nFetching unicode-display_width 2.4.1\nFetching webrick 1.7.0\nFetching x25519 1.0.10\nInstalling ast 2.4.2\nInstalling parallel 1.22.1\nInstalling unicode-display_width 2.4.1\nInstalling bcrypt_pbkdf 1.1.0 with native extensions\nInstalling rainbow 3.1.1\nInstalling ruby-progressbar 1.11.0\nInstalling x25519 1.0.10 with native extensions\nInstalling webrick 1.7.0\nInstalling regexp_parser 2.6.1\nInstalling byebug 11.1.3 with native extensions\nFetching parser 3.2.0.0\nInstalling minitest 5.17.0\nInstalling ed25519 1.3.0 with native extensions\nInstalling mocha 1.11.2\nInstalling parser 3.2.0.0\nFetching rubocop-ast 1.24.1\nInstalling rubocop-ast 1.24.1\nFetching rubocop 1.28.2\nInstalling rubocop 1.28.2\nBundle complete! 11 Gemfile dependencies, 20 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 804554500da7\n ---> 5a7f92fb55d0\nStep 9/10 : COPY . $INSTALL_PATH/\n ---> 7118339e8c4a\nStep 10/10 : CMD service ssh start && rake test && NET_SSH_NO_ED25519=1 rake test\n ---> Running in 1f58edd50d15\nRemoving intermediate container 1f58edd50d15\n ---> 679d92305119\nSuccessfully built 679d92305119\nSuccessfully tagged net-ssh:latest\n","stderr":"","imageSize":969487680},"endTime":1672811014566}