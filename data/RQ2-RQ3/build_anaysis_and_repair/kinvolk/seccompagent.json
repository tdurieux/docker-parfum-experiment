{"repository":"https://github.com/kinvolk/seccompagent","dockerfilePath":"Dockerfile","startTime":1672302614568,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kinvolk/seccompagent'...\n","error":null,"commit":"dfdc62eb3eadb28fe474183a1aab688da441a43a"},"originalBuild":{"startTimestamp":1672302616665,"endTimestamp":1672302694853,"error":null,"stdout":"Sending build context to Docker daemon  37.83MB\r\r\nStep 1/10 : FROM golang:1-alpine as builder\n1-alpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1-alpine\n ---> cae57157ceaa\nStep 2/10 : RUN apk add alpine-sdk libseccomp libseccomp-dev\n ---> Running in b4b473765e7a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/40) Installing fakeroot (1.29-r0)\n(2/40) Installing openssl (3.0.7-r0)\n(3/40) Installing libattr (2.5.1-r2)\n(4/40) Installing attr (2.5.1-r2)\n(5/40) Installing libacl (2.3.1-r1)\n(6/40) Installing tar (1.34-r1)\n(7/40) Installing pkgconf (1.9.3-r0)\n(8/40) Installing patch (2.7.6-r8)\n(9/40) Installing libgcc (12.2.1_git20220924-r4)\n(10/40) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/40) Installing lzip (1.23-r0)\n(12/40) Installing brotli-libs (1.0.9-r9)\n(13/40) Installing nghttp2-libs (1.51.0-r0)\n(14/40) Installing libcurl (7.87.0-r0)\n(15/40) Installing curl (7.87.0-r0)\n(16/40) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(17/40) Installing binutils (2.39-r2)\n(18/40) Installing libmagic (5.43-r0)\n(19/40) Installing file (5.43-r0)\n(20/40) Installing libgomp (12.2.1_git20220924-r4)\n(21/40) Installing libatomic (12.2.1_git20220924-r4)\n(22/40) Installing gmp (6.2.1-r2)\n(23/40) Installing isl25 (0.25-r0)\n(24/40) Installing mpfr4 (4.1.0-r0)\n(25/40) Installing mpc1 (1.2.1-r1)\n(26/40) Installing gcc (12.2.1_git20220924-r4)\n(27/40) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(28/40) Installing musl-dev (1.2.3-r4)\n(29/40) Installing libc-dev (0.7.2-r3)\n(30/40) Installing g++ (12.2.1_git20220924-r4)\n(31/40) Installing make (4.3-r1)\n(32/40) Installing fortify-headers (1.1-r1)\n(33/40) Installing build-base (0.5-r3)\n(34/40) Installing libexpat (2.5.0-r0)\n(35/40) Installing pcre2 (10.42-r0)\n(36/40) Installing git (2.38.2-r0)\n(37/40) Installing alpine-sdk (1.0-r1)\n(38/40) Installing libseccomp (2.5.4-r0)\n(39/40) Installing linux-headers (5.19.5-r0)\n(40/40) Installing libseccomp-dev (2.5.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 263 MiB in 56 packages\nRemoving intermediate container b4b473765e7a\n ---> 2493dc24c16e\nStep 3/10 : RUN mkdir /build\n ---> Running in b01653fc6283\nRemoving intermediate container b01653fc6283\n ---> 529271e42dd5\nStep 4/10 : ADD . /build/\n ---> 8969714f2ea2\nStep 5/10 : WORKDIR /build\n ---> Running in 9b975cf0dcb5\nRemoving intermediate container 9b975cf0dcb5\n ---> 19b434a64a07\nStep 6/10 : RUN go build -o seccompagent ./cmd/seccompagent\n ---> Running in 4135625eac6b\nRemoving intermediate container 4135625eac6b\n ---> 2052c87da61f\nStep 7/10 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/10 : RUN apk add libseccomp\n ---> Running in 8cd5f24da0d4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing libseccomp (2.5.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 7 MiB in 16 packages\nRemoving intermediate container 8cd5f24da0d4\n ---> bead443371f7\nStep 9/10 : COPY --from=builder /build/seccompagent /bin/seccompagent\n ---> 65994d3709ec\nStep 10/10 : CMD [\"/bin/seccompagent\", \"-resolver=kubernetes\"]\n ---> Running in 77e4ce63c343\nRemoving intermediate container 77e4ce63c343\n ---> 025093fac902\nSuccessfully built 025093fac902\nSuccessfully tagged seccompagent:latest\n","stderr":"","imageSize":49083223},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":1,"end":1,"columnStart":4,"columnEnd":48}},{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM golang:1-alpine as builder\nRUN apk add --no-cache alpine-sdk libseccomp libseccomp-dev\n\nRUN mkdir /build\nADD . /build/\nWORKDIR /build\nRUN go build -o seccompagent ./cmd/seccompagent\n\nFROM alpine:latest\nRUN apk add --no-cache libseccomp\nCOPY --from=builder /build/seccompagent /bin/seccompagent\n\nCMD [\"/bin/seccompagent\", \"-resolver=kubernetes\"]\n"},"repairedBuild":{"startTimestamp":1672302695560,"endTimestamp":1672302757950,"error":null,"stdout":"Sending build context to Docker daemon  37.83MB\r\r\nStep 1/10 : FROM golang:1-alpine as builder\n ---> cae57157ceaa\nStep 2/10 : RUN apk add --no-cache alpine-sdk libseccomp libseccomp-dev\n ---> Running in c936b9075d06\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/40) Installing fakeroot (1.29-r0)\n(2/40) Installing openssl (3.0.7-r0)\n(3/40) Installing libattr (2.5.1-r2)\n(4/40) Installing attr (2.5.1-r2)\n(5/40) Installing libacl (2.3.1-r1)\n(6/40) Installing tar (1.34-r1)\n(7/40) Installing pkgconf (1.9.3-r0)\n(8/40) Installing patch (2.7.6-r8)\n(9/40) Installing libgcc (12.2.1_git20220924-r4)\n(10/40) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/40) Installing lzip (1.23-r0)\n(12/40) Installing brotli-libs (1.0.9-r9)\n(13/40) Installing nghttp2-libs (1.51.0-r0)\n(14/40) Installing libcurl (7.87.0-r0)\n(15/40) Installing curl (7.87.0-r0)\n(16/40) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(17/40) Installing binutils (2.39-r2)\n(18/40) Installing libmagic (5.43-r0)\n(19/40) Installing file (5.43-r0)\n(20/40) Installing libgomp (12.2.1_git20220924-r4)\n(21/40) Installing libatomic (12.2.1_git20220924-r4)\n(22/40) Installing gmp (6.2.1-r2)\n(23/40) Installing isl25 (0.25-r0)\n(24/40) Installing mpfr4 (4.1.0-r0)\n(25/40) Installing mpc1 (1.2.1-r1)\n(26/40) Installing gcc (12.2.1_git20220924-r4)\n(27/40) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(28/40) Installing musl-dev (1.2.3-r4)\n(29/40) Installing libc-dev (0.7.2-r3)\n(30/40) Installing g++ (12.2.1_git20220924-r4)\n(31/40) Installing make (4.3-r1)\n(32/40) Installing fortify-headers (1.1-r1)\n(33/40) Installing build-base (0.5-r3)\n(34/40) Installing libexpat (2.5.0-r0)\n(35/40) Installing pcre2 (10.42-r0)\n(36/40) Installing git (2.38.2-r0)\n(37/40) Installing alpine-sdk (1.0-r1)\n(38/40) Installing libseccomp (2.5.4-r0)\n(39/40) Installing linux-headers (5.19.5-r0)\n(40/40) Installing libseccomp-dev (2.5.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 263 MiB in 56 packages\nRemoving intermediate container c936b9075d06\n ---> 8862cef46776\nStep 3/10 : RUN mkdir /build\n ---> Running in 69a6d57954b9\nRemoving intermediate container 69a6d57954b9\n ---> dbdb5ccacd91\nStep 4/10 : ADD . /build/\n ---> 2a739ed947a7\nStep 5/10 : WORKDIR /build\n ---> Running in 51df385445b2\nRemoving intermediate container 51df385445b2\n ---> b38a883dcb9d\nStep 6/10 : RUN go build -o seccompagent ./cmd/seccompagent\n ---> Running in 472c2de1e819\nRemoving intermediate container 472c2de1e819\n ---> 9ae6599ba723\nStep 7/10 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/10 : RUN apk add --no-cache libseccomp\n ---> Running in 90d33ef838c2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing libseccomp (2.5.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 7 MiB in 16 packages\nRemoving intermediate container 90d33ef838c2\n ---> 677e7c8c4ecc\nStep 9/10 : COPY --from=builder /build/seccompagent /bin/seccompagent\n ---> c5bb1752cb77\nStep 10/10 : CMD [\"/bin/seccompagent\", \"-resolver=kubernetes\"]\n ---> Running in 9e2b9d591687\nRemoving intermediate container 9e2b9d591687\n ---> 79b67944541d\nSuccessfully built 79b67944541d\nSuccessfully tagged seccompagent:latest\n","stderr":"","imageSize":46500480},"endTime":1672302758257}