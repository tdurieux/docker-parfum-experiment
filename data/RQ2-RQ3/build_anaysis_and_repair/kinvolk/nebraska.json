{"repository":"https://github.com/kinvolk/nebraska","dockerfilePath":"Dockerfile","startTime":1672892945488,"endTime":1672893722555,"clone":{"startTime":1672892945489,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kinvolk/nebraska'...\n","error":null,"endTime":1672892949862,"commit":"28bb2f403a330002bf979e79e422afd76c9b54f0"},"originalBuild":{"startTime":1672892949948,"endTime":1672893379372,"error":null,"stdout":"Sending build context to Docker daemon  41.01MB\r\r\nStep 1/31 : FROM golang:1.19 as base-build\n1.19: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Already exists\n3a3324c1d283: Pulling fs layer\nea43a17566db: Pulling fs layer\nea43a17566db: Verifying Checksum\nea43a17566db: Download complete\n3a3324c1d283: Verifying Checksum\n3a3324c1d283: Download complete\n3a3324c1d283: Pull complete\nea43a17566db: Pull complete\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19\n ---> 6650307efe4a\nStep 2/31 : ARG NEBRASKA_VERSION=\"\"\n ---> Running in 660cece57ba7\nRemoving intermediate container 660cece57ba7\n ---> 4166695d06bc\nStep 3/31 : ENV GOPATH=/go     GOPROXY=direct \tGO111MODULE=on\tCGO_ENABLED=0\tGOOS=linux\n ---> Running in 7a7095bf14e6\nRemoving intermediate container 7a7095bf14e6\n ---> aa7020878264\nStep 4/31 : FROM base-build as version-build\n ---> aa7020878264\nStep 5/31 : ARG NEBRASKA_VERSION=\"\"\n ---> Running in 6a35887adedd\nRemoving intermediate container 6a35887adedd\n ---> 82926d1a2701\nStep 6/31 : WORKDIR /app/\n ---> Running in 7b5623f8b402\nRemoving intermediate container 7b5623f8b402\n ---> b17dd3571606\nStep 7/31 : COPY ./.git ./.git\n ---> ffc31006af11\nStep 8/31 : COPY ./backend ./backend\n ---> c906acbeddf5\nStep 9/31 : ENV VERSION=${NEBRASKA_VERSION}\n ---> Running in eff390fe4366\nRemoving intermediate container eff390fe4366\n ---> 94acf66c34f9\nStep 10/31 : FROM version-build as backend-build\n ---> 94acf66c34f9\nStep 11/31 : RUN export VERSION=`make -f backend/Makefile version | tail -1` && echo \"VERSION:$VERSION\"\n ---> Running in bff88f1c3a0b\nVERSION:28bb2f4-dirty\nRemoving intermediate container bff88f1c3a0b\n ---> 2a869ea6b621\nStep 12/31 : WORKDIR /app/backend\n ---> Running in 57f083c43ba0\nRemoving intermediate container 57f083c43ba0\n ---> 4b20fcb346f6\nStep 13/31 : COPY ./backend ./\n ---> 9e2cf2e494d4\nStep 14/31 : RUN make build\n ---> Running in 152feda0fd8a\nenv GOBIN=/app/backend/tools/ go install github.com/kevinburke/go-bindata/go-bindata@v3.22.0\n\u001b[91mgo: downloading github.com/kevinburke/go-bindata v3.22.0+incompatible\n\u001b[0mPATH=\"/app/backend/tools:${PATH}\" go generate ./...\n\u001b[91mgo: downloading golang.org/x/oauth2 v0.1.0\ngo: downloading github.com/google/go-github/v28 v28.1.1\ngo: downloading github.com/knadh/koanf v1.4.4\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-oidc/v3 v3.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo/v4 v4.9.1\ngo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/gjson v1.14.3\n\u001b[0m\u001b[91mgo: downloading github.com/ryanuber/go-glob v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/blang/semver/v4 v4.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/doug-martin/goqu/v9 v9.18.0\n\u001b[0m\u001b[91mgo: downloading github.com/kinvolk/go-omaha v0.0.2-0.20221206142015-1518a03b832b\ngo: downloading golang.org/x/sync v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jmoiron/sqlx v1.3.5\n\u001b[0m\u001b[91mgo: downloading github.com/getkin/kin-openapi v0.107.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgx/v4 v4.17.2\n\u001b[0m\u001b[91mgo: downloading github.com/deepmap/oapi-codegen v1.12.2\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/securecookie v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading github.com/labstack/echo-contrib v0.13.0\ngo: downloading github.com/labstack/gommon v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/rubenv/sql-migrate v1.2.0\ngo: downloading gopkg.in/guregu/null.v4 v4.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.28.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.13.1\ngo: downloading github.com/lib/pq v1.10.7\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/match v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/pretty v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v1.2.2\ngo: downloading github.com/mattn/go-isatty v0.0.16\ngo: downloading github.com/mattn/go-colorable v0.1.13\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/copystructure v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-gorp/gorp/v3 v3.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.13.0\ngo: downloading github.com/jackc/pgtype v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3/v2 v2.3.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang-jwt/jwt v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/square/go-jose.v2 v2.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/apapsch/go-jsonmerge/v2 v2.0.0\ngo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/reflectwalk v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\ngo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/mohae/deepcopy v0.0.0-20170929034955-c48cc78d4826\ngo: downloading github.com/go-openapi/jsonpointer v0.19.5\n\u001b[0m\u001b[91mgo: downloading github.com/invopop/yaml v0.2.0\ngo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\ngo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/swag v0.22.3\n\u001b[0m\u001b[91mgo: downloading github.com/mailru/easyjson v0.7.7\n\u001b[0m\u001b[91mgo: downloading github.com/josharian/intern v1.0.0\n\u001b[0mgo build -a -tags netgo -trimpath -ldflags \"-w -X github.com/kinvolk/nebraska/backend/pkg/version.Version=`git describe --tags --always` -extldflags \\\"-static\\\"\" -o bin/nebraska ./cmd/nebraska\nRemoving intermediate container 152feda0fd8a\n ---> b2b25baca61a\nStep 15/31 : FROM docker.io/library/node:15 as frontend-install\n15: Pulling from library/node\nbfde2ec33fbc: Pulling fs layer\n787f5e2f1047: Pulling fs layer\n7b6173a10eb8: Pulling fs layer\ndc05be471d51: Pulling fs layer\n55fab5cadd3c: Pulling fs layer\nbd821d20ef8c: Pulling fs layer\n6041b69671c6: Pulling fs layer\n989c5d2d2313: Pulling fs layer\n4b57d41e8391: Pulling fs layer\n55fab5cadd3c: Waiting\ndc05be471d51: Waiting\nbd821d20ef8c: Waiting\n989c5d2d2313: Waiting\n6041b69671c6: Waiting\n7b6173a10eb8: Verifying Checksum\n7b6173a10eb8: Download complete\n787f5e2f1047: Verifying Checksum\n787f5e2f1047: Download complete\nbfde2ec33fbc: Verifying Checksum\nbfde2ec33fbc: Download complete\nbd821d20ef8c: Verifying Checksum\nbd821d20ef8c: Download complete\ndc05be471d51: Verifying Checksum\ndc05be471d51: Download complete\n989c5d2d2313: Verifying Checksum\n989c5d2d2313: Download complete\n6041b69671c6: Verifying Checksum\n6041b69671c6: Download complete\n4b57d41e8391: Verifying Checksum\n4b57d41e8391: Download complete\nbfde2ec33fbc: Pull complete\n787f5e2f1047: Pull complete\n7b6173a10eb8: Pull complete\n55fab5cadd3c: Verifying Checksum\n55fab5cadd3c: Download complete\ndc05be471d51: Pull complete\n55fab5cadd3c: Pull complete\nbd821d20ef8c: Pull complete\n6041b69671c6: Pull complete\n989c5d2d2313: Pull complete\n4b57d41e8391: Pull complete\nDigest: sha256:608bba799613b1ebf754034ae008849ba51e88b23271412427b76d60ae0d0627\nStatus: Downloaded newer image for node:15\n ---> 3d3f41722daf\nStep 16/31 : WORKDIR /app/frontend\n ---> Running in 313c2427c401\nRemoving intermediate container 313c2427c401\n ---> e2c0d0e5f0c7\nStep 17/31 : COPY frontend/package*.json ./\n ---> 7705bb3bfff1\nStep 18/31 : RUN npm install\n ---> Running in 81d80db65171\n\nadded 3769 packages, and audited 3770 packages in 1m\n\n75 vulnerabilities (2 low, 4 moderate, 54 high, 15 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.7.6 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container 81d80db65171\n ---> 0afd3259d222\nStep 19/31 : FROM frontend-install AS frontend-build\n ---> 0afd3259d222\nStep 20/31 : WORKDIR /app/frontend\n ---> Running in 6f96851fa961\nRemoving intermediate container 6f96851fa961\n ---> c2f6cfd8cfad\nStep 21/31 : COPY frontend ./\n ---> 0d90d74efd8a\nStep 22/31 : RUN npm run build\n ---> Running in 1c9988a06b39\n\n> Nebraska@0.1.0 build\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  426.34 KB  build/static/js/2.011c1ff2.chunk.js\n  36.85 KB   build/static/js/main.a287216a.chunk.js\n  1.19 KB    build/static/js/runtime-main.2ddaa946.js\n  211 B      build/static/js/3.e587201a.chunk.js\n  155 B      build/static/js/5.8333e68d.chunk.js\n  154 B      build/static/js/4.39dbc3a3.chunk.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\n\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 7.7.6 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 1c9988a06b39\n ---> b1094afc65f5\nStep 23/31 : FROM alpine:3.15.0\n3.15.0: Pulling from library/alpine\n59bf1c3509f3: Already exists\nDigest: sha256:21a3deaa0d32a8057914f36584b5288d2e5ecc984380bc0118285c70fa8c9300\nStatus: Downloaded newer image for alpine:3.15.0\n ---> c059bfaa849c\nStep 24/31 : RUN apk update && \tapk add ca-certificates tzdata\n ---> Running in 1de4efdde0c7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15864 distinct packages available\n(1/2) Installing ca-certificates (20220614-r0)\n(2/2) Installing tzdata (2022f-r1)\nExecuting busybox-1.34.1-r3.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 9 MiB in 16 packages\nRemoving intermediate container 1de4efdde0c7\n ---> 4d3d120876f9\nStep 25/31 : WORKDIR /nebraska\n ---> Running in 4608fb3c9d39\nRemoving intermediate container 4608fb3c9d39\n ---> b6ef20d6aae8\nStep 26/31 : COPY --from=backend-build /app/backend/bin/nebraska ./\n ---> e73f6e6f1e05\nStep 27/31 : COPY --from=frontend-build /app/frontend/build/ ./static/\n ---> 12ed73b99278\nStep 28/31 : ENV NEBRASKA_DB_URL \"postgres://postgres@postgres:5432/nebraska?sslmode=disable&connect_timeout=10\"\n ---> Running in 157919742f01\nRemoving intermediate container 157919742f01\n ---> 35a983680cd0\nStep 29/31 : EXPOSE 8000\n ---> Running in 2ea4d9eca308\nRemoving intermediate container 2ea4d9eca308\n ---> 5c43a1465637\nStep 30/31 : USER nobody\n ---> Running in c5baf1b44e86\nRemoving intermediate container c5baf1b44e86\n ---> b9125cbae3bd\nStep 31/31 : CMD [\"/nebraska/nebraska\", \"-http-static-dir=/nebraska/static\"]\n ---> Running in 899977f46bed\nRemoving intermediate container 899977f46bed\n ---> 045d837dd216\nSuccessfully built 045d837dd216\nSuccessfully tagged nebraska:latest\n","stderr":"","imageSize":37830630},"repair":{"startTime":1672893379440,"endTime":1672893379538,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":40,"end":40,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":51,"end":51,"columnStart":1,"columnEnd":31}}],"repairedDockerfile":"FROM golang:1.19 as base-build\n\nARG NEBRASKA_VERSION=\"\"\n\nENV GOPATH=/go \\\n    GOPROXY=direct \\\n\tGO111MODULE=on\\\n\tCGO_ENABLED=0\\ \n\tGOOS=linux\n\n# Backend build\nFROM base-build as version-build\nARG NEBRASKA_VERSION=\"\"\n\nWORKDIR /app/\nCOPY ./.git ./.git\nCOPY ./backend ./backend\n\n# We optionally allow to set the version to display for the image.\n# This is mainly used because when copying the source dir, docker will\n# ignore the files we requested it to, and thus produce a \"dirty\" build\n# as git status returns changes (when effectively for the built source\n# there's none).\nENV VERSION=${NEBRASKA_VERSION}\n\nFROM version-build as backend-build\n\n# make version uses the existing VERSION if set, otherwise gets it from git\nRUN export VERSION=`make -f backend/Makefile version | tail -1` && echo \"VERSION:$VERSION\"\n\nWORKDIR /app/backend\n# COPY backend/go.mod backend/go.sum ./\n# RUN go mod download\nCOPY ./backend ./\nRUN make build\n\n# Frontend build\nFROM docker.io/library/node:15 as frontend-install\nWORKDIR /app/frontend\nCOPY frontend/package*.json ./\nRUN npm install && npm cache clean --force;\n\nFROM frontend-install AS frontend-build\nWORKDIR /app/frontend\nCOPY frontend ./\nRUN npm run build\n\n# Final Docker image\nFROM alpine:3.15.0\n\nRUN apk update && \\\n\tapk add --no-cache ca-certificates tzdata\n\nWORKDIR /nebraska\n\nCOPY --from=backend-build /app/backend/bin/nebraska ./\nCOPY --from=frontend-build /app/frontend/build/ ./static/\n\nENV NEBRASKA_DB_URL \"postgres://postgres@postgres:5432/nebraska?sslmode=disable&connect_timeout=10\"\nEXPOSE 8000\n\nUSER nobody\n\nCMD [\"/nebraska/nebraska\", \"-http-static-dir=/nebraska/static\"]\n"},"repairedBuild":{"startTime":1672893379726,"endTime":1672893722258,"error":null,"stdout":"Sending build context to Docker daemon  41.01MB\r\r\nStep 1/31 : FROM golang:1.19 as base-build\n ---> 6650307efe4a\nStep 2/31 : ARG NEBRASKA_VERSION=\"\"\n ---> Running in 4f61f1f32f08\nRemoving intermediate container 4f61f1f32f08\n ---> 1d63e87758a5\nStep 3/31 : ENV GOPATH=/go     GOPROXY=direct \tGO111MODULE=on\tCGO_ENABLED=0\tGOOS=linux\n ---> Running in 18069577b7cd\nRemoving intermediate container 18069577b7cd\n ---> 98b1736da275\nStep 4/31 : FROM base-build as version-build\n ---> 98b1736da275\nStep 5/31 : ARG NEBRASKA_VERSION=\"\"\n ---> Running in 75cece3f429b\nRemoving intermediate container 75cece3f429b\n ---> db9f0a399dab\nStep 6/31 : WORKDIR /app/\n ---> Running in a92315c3a59c\nRemoving intermediate container a92315c3a59c\n ---> fb4f359aceb1\nStep 7/31 : COPY ./.git ./.git\n ---> e27bda82ea40\nStep 8/31 : COPY ./backend ./backend\n ---> ee3ac990aab9\nStep 9/31 : ENV VERSION=${NEBRASKA_VERSION}\n ---> Running in 298fac8c5fac\nRemoving intermediate container 298fac8c5fac\n ---> d1578c25f2a0\nStep 10/31 : FROM version-build as backend-build\n ---> d1578c25f2a0\nStep 11/31 : RUN export VERSION=`make -f backend/Makefile version | tail -1` && echo \"VERSION:$VERSION\"\n ---> Running in e07d658ab527\nVERSION:28bb2f4-dirty\nRemoving intermediate container e07d658ab527\n ---> faa3d7eefeec\nStep 12/31 : WORKDIR /app/backend\n ---> Running in eb4adaab5a2e\nRemoving intermediate container eb4adaab5a2e\n ---> 6678ed599985\nStep 13/31 : COPY ./backend ./\n ---> 8136d635c535\nStep 14/31 : RUN make build\n ---> Running in d0e496a096a2\nenv GOBIN=/app/backend/tools/ go install github.com/kevinburke/go-bindata/go-bindata@v3.22.0\n\u001b[91mgo: downloading github.com/kevinburke/go-bindata v3.22.0+incompatible\n\u001b[0mPATH=\"/app/backend/tools:${PATH}\" go generate ./...\n\u001b[91mgo: downloading github.com/knadh/koanf v1.4.4\ngo: downloading github.com/rubenv/sql-migrate v1.2.0\ngo: downloading github.com/prometheus/client_golang v1.13.1\ngo: downloading gopkg.in/guregu/null.v4 v4.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.28.0\ngo: downloading github.com/labstack/echo/v4 v4.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/deepmap/oapi-codegen v1.12.2\ngo: downloading github.com/labstack/gommon v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading github.com/getkin/kin-openapi v0.107.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/securecookie v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo-contrib v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-oidc/v3 v3.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v28 v28.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/ryanuber/go-glob v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/gjson v1.14.3\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jmoiron/sqlx v1.3.5\ngo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/doug-martin/goqu/v9 v9.18.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgx/v4 v4.17.2\ngo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/kinvolk/go-omaha v0.0.2-0.20221206142015-1518a03b832b\n\u001b[0m\u001b[91mgo: downloading github.com/blang/semver/v4 v4.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v1.2.2\ngo: downloading github.com/mattn/go-colorable v0.1.13\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/pretty v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/match v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-gorp/gorp/v3 v3.1.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/square/go-jose.v2 v2.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\ngo: downloading github.com/mitchellh/copystructure v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.13.0\ngo: downloading github.com/jackc/pgtype v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3/v2 v2.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\ngo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\ngo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/jsonpointer v0.19.5\n\u001b[0m\u001b[91mgo: downloading github.com/invopop/yaml v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mohae/deepcopy v0.0.0-20170929034955-c48cc78d4826\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang-jwt/jwt v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/apapsch/go-jsonmerge/v2 v2.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/reflectwalk v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\ngo: downloading github.com/jackc/pgpassfile v1.0.0\ngo: downloading github.com/jackc/chunkreader/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/swag v0.22.3\n\u001b[0m\u001b[91mgo: downloading github.com/mailru/easyjson v0.7.7\n\u001b[0m\u001b[91mgo: downloading github.com/josharian/intern v1.0.0\n\u001b[0mgo build -a -tags netgo -trimpath -ldflags \"-w -X github.com/kinvolk/nebraska/backend/pkg/version.Version=`git describe --tags --always` -extldflags \\\"-static\\\"\" -o bin/nebraska ./cmd/nebraska\nRemoving intermediate container d0e496a096a2\n ---> ef056aa6959d\nStep 15/31 : FROM docker.io/library/node:15 as frontend-install\n ---> 3d3f41722daf\nStep 16/31 : WORKDIR /app/frontend\n ---> Running in 9115854e38e5\nRemoving intermediate container 9115854e38e5\n ---> 3ded362b89e6\nStep 17/31 : COPY frontend/package*.json ./\n ---> 1ab5003b5012\nStep 18/31 : RUN npm install && npm cache clean --force;\n ---> Running in 5444659037cb\n\nadded 3769 packages, and audited 3770 packages in 1m\n\n75 vulnerabilities (2 low, 4 moderate, 54 high, 15 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.7.6 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 7.7.6 -> 9.2.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 5444659037cb\n ---> 673d33a78859\nStep 19/31 : FROM frontend-install AS frontend-build\n ---> 673d33a78859\nStep 20/31 : WORKDIR /app/frontend\n ---> Running in 6034f3bcc3bb\nRemoving intermediate container 6034f3bcc3bb\n ---> f4dc1730e3ee\nStep 21/31 : COPY frontend ./\n ---> 12be7415e5e9\nStep 22/31 : RUN npm run build\n ---> Running in ee6ac146e558\n\n> Nebraska@0.1.0 build\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  426.34 KB  build/static/js/2.011c1ff2.chunk.js\n  36.85 KB   build/static/js/main.a287216a.chunk.js\n  1.19 KB    build/static/js/runtime-main.2ddaa946.js\n  211 B      build/static/js/3.e587201a.chunk.js\n  155 B      build/static/js/5.8333e68d.chunk.js\n  154 B      build/static/js/4.39dbc3a3.chunk.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container ee6ac146e558\n ---> 14ef5abafa74\nStep 23/31 : FROM alpine:3.15.0\n ---> c059bfaa849c\nStep 24/31 : RUN apk update && \tapk add --no-cache ca-certificates tzdata\n ---> Running in 1614f2d21789\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15864 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing ca-certificates (20220614-r0)\n(2/2) Installing tzdata (2022f-r1)\nExecuting busybox-1.34.1-r3.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 9 MiB in 16 packages\nRemoving intermediate container 1614f2d21789\n ---> 709da5cddcfd\nStep 25/31 : WORKDIR /nebraska\n ---> Running in 636abc85a6b2\nRemoving intermediate container 636abc85a6b2\n ---> c86feecd4132\nStep 26/31 : COPY --from=backend-build /app/backend/bin/nebraska ./\n ---> 2c82ec27837a\nStep 27/31 : COPY --from=frontend-build /app/frontend/build/ ./static/\n ---> af8d4eff85db\nStep 28/31 : ENV NEBRASKA_DB_URL \"postgres://postgres@postgres:5432/nebraska?sslmode=disable&connect_timeout=10\"\n ---> Running in 0ed1b6e07e7a\nRemoving intermediate container 0ed1b6e07e7a\n ---> 03c7630f460b\nStep 29/31 : EXPOSE 8000\n ---> Running in 0d773061819c\nRemoving intermediate container 0d773061819c\n ---> 5f5b3f114265\nStep 30/31 : USER nobody\n ---> Running in ef0181f031d0\nRemoving intermediate container ef0181f031d0\n ---> dd2f5cef3d7f\nStep 31/31 : CMD [\"/nebraska/nebraska\", \"-http-static-dir=/nebraska/static\"]\n ---> Running in 25f0a8aec89e\nRemoving intermediate container 25f0a8aec89e\n ---> 6c32f2143660\nSuccessfully built 6c32f2143660\nSuccessfully tagged nebraska:latest\n","stderr":"","imageSize":37830630}}