{"repository":"https://github.com/estrellaxd/auto_bangumi","dockerfilePath":"Dockerfile","startTime":1672104772575,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/estrellaxd/auto_bangumi'...\n","error":null,"commit":"b38e622ffa864f94c54f96912d45015b7e64c093"},"originalBuild":{"startTimestamp":1672104773483,"endTimestamp":1672104864764,"error":null,"stdout":"Sending build context to Docker daemon  102.9kB\r\r\nStep 1/14 : FROM python:3.10-buster AS build\n3.10-buster: Pulling from library/python\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n6aa81cf5366e: Pulling fs layer\n53215122bea9: Pulling fs layer\nd6d9fad8472c: Pulling fs layer\n60a9885d323b: Pulling fs layer\n60a9885d323b: Waiting\nd6d9fad8472c: Verifying Checksum\nd6d9fad8472c: Download complete\n6aa81cf5366e: Verifying Checksum\n6aa81cf5366e: Download complete\n53215122bea9: Verifying Checksum\n53215122bea9: Download complete\n60a9885d323b: Verifying Checksum\n60a9885d323b: Download complete\n6aa81cf5366e: Pull complete\n53215122bea9: Pull complete\nd6d9fad8472c: Pull complete\n60a9885d323b: Pull complete\nDigest: sha256:2eb681aef07c767144f2345571b16e30dd927bcaa5dd8d740a6d6147093dc5c8\nStatus: Downloaded newer image for python:3.10-buster\n ---> 4cca129ac8a6\nStep 2/14 : RUN mkdir /install\n ---> Running in a65be137f8e2\nRemoving intermediate container a65be137f8e2\n ---> 74aefe711047\nStep 3/14 : WORKDIR /install\n ---> Running in a98e87c6ee1a\nRemoving intermediate container a98e87c6ee1a\n ---> e8a9b1f4f90a\nStep 4/14 : COPY requirements.txt .\n ---> 597e10de6992\nStep 5/14 : RUN python3 -m pip install --upgrade pip     && pip install -r requirements.txt --prefix=\"/install\"\n ---> Running in e7ec9d8eb123\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting anyio\n  Downloading anyio-3.6.2-py3-none-any.whl (80 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 80.6/80.6 kB 6.0 MB/s eta 0:00:00\nCollecting beautifulsoup4\n  Downloading beautifulsoup4-4.11.1-py3-none-any.whl (128 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.2/128.2 kB 12.7 MB/s eta 0:00:00\nCollecting lxml\n  Downloading lxml-4.9.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.1/7.1 MB 10.2 MB/s eta 0:00:00\nCollecting certifi==2022.6.15\n  Downloading certifi-2022.6.15-py3-none-any.whl (160 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 160.2/160.2 kB 1.6 MB/s eta 0:00:00\nCollecting charset-normalizer\n  Downloading charset_normalizer-3.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (198 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 198.8/198.8 kB 1.0 MB/s eta 0:00:00\nCollecting click==8.1.3\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 1.5 MB/s eta 0:00:00\nCollecting fastapi\n  Downloading fastapi-0.88.0-py3-none-any.whl (55 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.5/55.5 kB 144.8 kB/s eta 0:00:00\nCollecting h11==0.13.0\n  Downloading h11-0.13.0-py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.2/58.2 kB 136.5 kB/s eta 0:00:00\nCollecting idna==3.3\n  Downloading idna-3.3-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.2/61.2 kB 172.7 kB/s eta 0:00:00\nCollecting pydantic==1.9.1\n  Downloading pydantic-1.9.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.0/12.0 MB 11.7 MB/s eta 0:00:00\nCollecting PySocks==1.7.1\n  Downloading PySocks-1.7.1-py3-none-any.whl (16 kB)\nCollecting qbittorrent-api\n  Downloading qbittorrent_api-2022.11.40-py2.py3-none-any.whl (93 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 93.9/93.9 kB 544.9 kB/s eta 0:00:00\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 429.0 kB/s eta 0:00:00\nCollecting six==1.16.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting sniffio==1.2.0\n  Downloading sniffio-1.2.0-py3-none-any.whl (10 kB)\nCollecting soupsieve\n  Downloading soupsieve-2.3.2.post1-py3-none-any.whl (37 kB)\nCollecting typing_extensions==4.3.0\n  Downloading typing_extensions-4.3.0-py3-none-any.whl (25 kB)\nCollecting urllib3\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 11.2 MB/s eta 0:00:00\nCollecting uvicorn\n  Downloading uvicorn-0.20.0-py3-none-any.whl (56 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.9/56.9 kB 6.5 MB/s eta 0:00:00\nCollecting attrdict\n  Downloading attrdict-2.0.1-py2.py3-none-any.whl (9.9 kB)\nCollecting jinja2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 15.8 MB/s eta 0:00:00\nCollecting starlette==0.22.0\n  Downloading starlette-0.22.0-py3-none-any.whl (64 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.3/64.3 kB 6.2 MB/s eta 0:00:00\nRequirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from qbittorrent-api->-r requirements.txt (line 12)) (65.5.0)\nCollecting charset-normalizer\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nInstalling collected packages: urllib3, typing_extensions, soupsieve, sniffio, six, PySocks, MarkupSafe, lxml, idna, h11, click, charset-normalizer, certifi, uvicorn, requests, pydantic, jinja2, beautifulsoup4, attrdict, anyio, starlette, qbittorrent-api, fastapi\nSuccessfully installed MarkupSafe-2.1.1 PySocks-1.7.1 anyio-3.6.2 attrdict-2.0.1 beautifulsoup4-4.11.1 certifi-2022.6.15 charset-normalizer-2.1.1 click-8.1.3 fastapi-0.88.0 h11-0.13.0 idna-3.3 jinja2-3.1.2 lxml-4.9.2 pydantic-1.9.1 qbittorrent-api-2022.11.40 requests-2.28.1 six-1.16.0 sniffio-1.2.0 soupsieve-2.3.2.post1 starlette-0.22.0 typing_extensions-4.3.0 urllib3-1.26.13 uvicorn-0.20.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container e7ec9d8eb123\n ---> 21337d5babf8\nStep 6/14 : FROM python:3.10-alpine\n3.10-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\na004f9671752: Pulling fs layer\nf41086029229: Pulling fs layer\na8dbc4976a6c: Pulling fs layer\nf41086029229: Verifying Checksum\nf41086029229: Download complete\na8dbc4976a6c: Verifying Checksum\na8dbc4976a6c: Download complete\na004f9671752: Verifying Checksum\na004f9671752: Download complete\na004f9671752: Pull complete\nf41086029229: Pull complete\na8dbc4976a6c: Pull complete\nDigest: sha256:63d0c387f30f82da7e9404b7157b6f077656b5263c8d64c7b7b889f4d8c1c60a\nStatus: Downloaded newer image for python:3.10-alpine\n ---> 2527f31628e7\nStep 7/14 : WORKDIR /src\n ---> Running in e6502b2458ab\nRemoving intermediate container e6502b2458ab\n ---> 9080a818068f\nStep 8/14 : COPY --from=build /install /usr/local\n ---> ba87e216fc7c\nStep 9/14 : ADD ./src /src\n ---> 0880c20db4a4\nStep 10/14 : RUN apk add curl\n ---> Running in f61a9b7a973a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing brotli-libs (1.0.9-r9)\n(2/4) Installing nghttp2-libs (1.51.0-r0)\n(3/4) Installing libcurl (7.87.0-r0)\n(4/4) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 41 packages\nRemoving intermediate container f61a9b7a973a\n ---> a6f8182b2937\nStep 11/14 : RUN mkdir \"/config\" &&     chmod a+x run.sh &&     chmod a+x getWebUI.sh\n ---> Running in 974536dd55ff\nRemoving intermediate container 974536dd55ff\n ---> 0b20c9e704b4\nStep 12/14 : ENV TZ=Asia/Shanghai\n ---> Running in f7c0584aa9a0\nRemoving intermediate container f7c0584aa9a0\n ---> bfb295e810cc\nStep 13/14 : EXPOSE 7892\n ---> Running in a7ac90224c38\nRemoving intermediate container a7ac90224c38\n ---> 122ab54afde8\nStep 14/14 : CMD [\"sh\", \"run.sh\"]\n ---> Running in 1c8085a9dde1\nRemoving intermediate container 1c8085a9dde1\n ---> 6b7f334efa24\nSuccessfully built 6b7f334efa24\nSuccessfully tagged auto_bangumi:latest\n","stderr":"","imageSize":123570084},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":7,"columnEnd":58}},{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":16}}],"repairedDockerfile":"FROM python:3.10-buster AS build\n\nRUN mkdir /install\nWORKDIR /install\nCOPY requirements.txt .\nRUN python3 -m pip install --upgrade pip \\\n    && pip install --no-cache-dir -r requirements.txt --prefix=\"/install\"\n\nFROM python:3.10-alpine\n\nWORKDIR /src\n\nCOPY --from=build /install /usr/local\nADD ./src /src\n\nRUN apk add --no-cache curl\n\nRUN mkdir \"/config\" && \\\n    chmod a+x run.sh && \\\n    chmod a+x getWebUI.sh\n\nENV TZ=Asia/Shanghai\n\nEXPOSE 7892\n\nCMD [\"sh\", \"run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672104865091,"endTimestamp":1672104889042,"error":null,"stdout":"Sending build context to Docker daemon  102.9kB\r\r\nStep 1/14 : FROM python:3.10-buster AS build\n ---> 4cca129ac8a6\nStep 2/14 : RUN mkdir /install\n ---> Running in 0cd862c36a07\nRemoving intermediate container 0cd862c36a07\n ---> 87534b5f7fcf\nStep 3/14 : WORKDIR /install\n ---> Running in dd33c9ad3c9a\nRemoving intermediate container dd33c9ad3c9a\n ---> 0a12b2045d67\nStep 4/14 : COPY requirements.txt .\n ---> e3d593b1eb1c\nStep 5/14 : RUN python3 -m pip install --upgrade pip     && pip install --no-cache-dir -r requirements.txt --prefix=\"/install\"\n ---> Running in cbd473af5918\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting anyio\n  Downloading anyio-3.6.2-py3-none-any.whl (80 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 80.6/80.6 kB 84.7 MB/s eta 0:00:00\nCollecting beautifulsoup4\n  Downloading beautifulsoup4-4.11.1-py3-none-any.whl (128 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.2/128.2 kB 336.6 MB/s eta 0:00:00\nCollecting lxml\n  Downloading lxml-4.9.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.1/7.1 MB 98.2 MB/s eta 0:00:00\nCollecting certifi==2022.6.15\n  Downloading certifi-2022.6.15-py3-none-any.whl (160 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 160.2/160.2 kB 358.6 MB/s eta 0:00:00\nCollecting charset-normalizer\n  Downloading charset_normalizer-3.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (198 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 198.8/198.8 kB 113.9 MB/s eta 0:00:00\nCollecting click==8.1.3\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 226.2 MB/s eta 0:00:00\nCollecting fastapi\n  Downloading fastapi-0.88.0-py3-none-any.whl (55 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.5/55.5 kB 233.9 MB/s eta 0:00:00\nCollecting h11==0.13.0\n  Downloading h11-0.13.0-py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.2/58.2 kB 297.4 MB/s eta 0:00:00\nCollecting idna==3.3\n  Downloading idna-3.3-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.2/61.2 kB 279.1 MB/s eta 0:00:00\nCollecting pydantic==1.9.1\n  Downloading pydantic-1.9.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.0/12.0 MB 114.9 MB/s eta 0:00:00\nCollecting PySocks==1.7.1\n  Downloading PySocks-1.7.1-py3-none-any.whl (16 kB)\nCollecting qbittorrent-api\n  Downloading qbittorrent_api-2022.11.40-py2.py3-none-any.whl (93 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 93.9/93.9 kB 98.5 MB/s eta 0:00:00\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 268.5 MB/s eta 0:00:00\nCollecting six==1.16.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting sniffio==1.2.0\n  Downloading sniffio-1.2.0-py3-none-any.whl (10 kB)\nCollecting soupsieve\n  Downloading soupsieve-2.3.2.post1-py3-none-any.whl (37 kB)\nCollecting typing_extensions==4.3.0\n  Downloading typing_extensions-4.3.0-py3-none-any.whl (25 kB)\nCollecting urllib3\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 116.9 MB/s eta 0:00:00\nCollecting uvicorn\n  Downloading uvicorn-0.20.0-py3-none-any.whl (56 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.9/56.9 kB 287.3 MB/s eta 0:00:00\nCollecting attrdict\n  Downloading attrdict-2.0.1-py2.py3-none-any.whl (9.9 kB)\nCollecting jinja2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 338.2 MB/s eta 0:00:00\nCollecting starlette==0.22.0\n  Downloading starlette-0.22.0-py3-none-any.whl (64 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.3/64.3 kB 114.3 MB/s eta 0:00:00\nRequirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from qbittorrent-api->-r requirements.txt (line 12)) (65.5.0)\nCollecting charset-normalizer\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nInstalling collected packages: urllib3, typing_extensions, soupsieve, sniffio, six, PySocks, MarkupSafe, lxml, idna, h11, click, charset-normalizer, certifi, uvicorn, requests, pydantic, jinja2, beautifulsoup4, attrdict, anyio, starlette, qbittorrent-api, fastapi\nSuccessfully installed MarkupSafe-2.1.1 PySocks-1.7.1 anyio-3.6.2 attrdict-2.0.1 beautifulsoup4-4.11.1 certifi-2022.6.15 charset-normalizer-2.1.1 click-8.1.3 fastapi-0.88.0 h11-0.13.0 idna-3.3 jinja2-3.1.2 lxml-4.9.2 pydantic-1.9.1 qbittorrent-api-2022.11.40 requests-2.28.1 six-1.16.0 sniffio-1.2.0 soupsieve-2.3.2.post1 starlette-0.22.0 typing_extensions-4.3.0 urllib3-1.26.13 uvicorn-0.20.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container cbd473af5918\n ---> c071c744192d\nStep 6/14 : FROM python:3.10-alpine\n ---> 2527f31628e7\nStep 7/14 : WORKDIR /src\n ---> Running in 7452ed59fff5\nRemoving intermediate container 7452ed59fff5\n ---> 6966949c9fe1\nStep 8/14 : COPY --from=build /install /usr/local\n ---> 9849d25ebbf6\nStep 9/14 : ADD ./src /src\n ---> 09929adff23a\nStep 10/14 : RUN apk add --no-cache curl\n ---> Running in b1dc03ba7287\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing brotli-libs (1.0.9-r9)\n(2/4) Installing nghttp2-libs (1.51.0-r0)\n(3/4) Installing libcurl (7.87.0-r0)\n(4/4) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 41 packages\nRemoving intermediate container b1dc03ba7287\n ---> 69736734014f\nStep 11/14 : RUN mkdir \"/config\" &&     chmod a+x run.sh &&     chmod a+x getWebUI.sh\n ---> Running in 11f4e24c0bdf\nRemoving intermediate container 11f4e24c0bdf\n ---> 6ed3b4ff3eec\nStep 12/14 : ENV TZ=Asia/Shanghai\n ---> Running in 883b4aea04ce\nRemoving intermediate container 883b4aea04ce\n ---> e8eceae57607\nStep 13/14 : EXPOSE 7892\n ---> Running in dacca70adbd2\nRemoving intermediate container dacca70adbd2\n ---> 35e479231caa\nStep 14/14 : CMD [\"sh\", \"run.sh\"]\n ---> Running in 6322e495dc1e\nRemoving intermediate container 6322e495dc1e\n ---> b18d8e7ad4b8\nSuccessfully built b18d8e7ad4b8\nSuccessfully tagged auto_bangumi:latest\n","stderr":"","imageSize":120987212},"endTime":1672104889355}