{"repository":"https://github.com/open-falcon/falcon-plus","dockerfilePath":"Dockerfile","startTime":1672203588328,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/open-falcon/falcon-plus'...\n","error":null,"commit":"94e28264b34de92715bd2a4395a104bc7bb1e42d"},"originalBuild":{"startTimestamp":1672203589432,"endTimestamp":1672203738454,"error":null,"stdout":"Sending build context to Docker daemon  5.204MB\r\r\nStep 1/18 : FROM openfalcon/makegcc-golang:1.15-alpine\n1.15-alpine: Pulling from openfalcon/makegcc-golang\n540db60ca938: Pulling fs layer\nadcc1eea9eea: Pulling fs layer\n4c4ab2625f07: Pulling fs layer\n7e9fbe438411: Pulling fs layer\nca62afe3113b: Pulling fs layer\n090fa1e5c2a0: Pulling fs layer\nca62afe3113b: Waiting\n090fa1e5c2a0: Waiting\nadcc1eea9eea: Verifying Checksum\nadcc1eea9eea: Download complete\n4c4ab2625f07: Verifying Checksum\n4c4ab2625f07: Download complete\n540db60ca938: Verifying Checksum\n540db60ca938: Download complete\n540db60ca938: Pull complete\nadcc1eea9eea: Pull complete\n4c4ab2625f07: Pull complete\nca62afe3113b: Verifying Checksum\nca62afe3113b: Download complete\n090fa1e5c2a0: Verifying Checksum\n090fa1e5c2a0: Download complete\n7e9fbe438411: Verifying Checksum\n7e9fbe438411: Download complete\n7e9fbe438411: Pull complete\nca62afe3113b: Pull complete\n090fa1e5c2a0: Pull complete\nDigest: sha256:fb2111ca76504a823596402bba9e808fccd8c8302247eb97df5f50f40b7692d4\nStatus: Downloaded newer image for openfalcon/makegcc-golang:1.15-alpine\n ---> 117415218838\nStep 2/18 : LABEL maintainer laiwei.ustc@gmail.com\n ---> Running in f99a5b8130c1\nRemoving intermediate container f99a5b8130c1\n ---> 557ea37ae04e\nStep 3/18 : USER root\n ---> Running in 11a2576cb2ad\nRemoving intermediate container 11a2576cb2ad\n ---> d33296ab34e5\nStep 4/18 : ENV FALCON_DIR=/open-falcon PROJ_PATH=${GOPATH}/src/github.com/open-falcon/falcon-plus\n ---> Running in 3bfe9a6628c0\nRemoving intermediate container 3bfe9a6628c0\n ---> 7ddd05640eb9\nStep 5/18 : RUN mkdir -p $FALCON_DIR &&     mkdir -p $FALCON_DIR/logs &&     apk add --no-cache ca-certificates bash git supervisor\n ---> Running in 864d317c9373\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/24) Installing ncurses-libs (6.2_p20210109-r1)\n(3/24) Installing readline (8.1.0-r0)\n(4/24) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/24) Installing brotli-libs (1.0.9-r3)\n(6/24) Installing nghttp2-libs (1.42.0-r1)\n(7/24) Installing libcurl (7.79.1-r3)\n(8/24) Installing expat (2.2.10-r8)\n(9/24) Installing pcre2 (10.36-r1)\n(10/24) Installing git (2.30.6-r0)\n(11/24) Installing libbz2 (1.0.8-r1)\n(12/24) Installing libffi (3.3-r2)\n(13/24) Installing gdbm (1.19-r0)\n(14/24) Installing xz-libs (5.2.5-r1)\n(15/24) Installing sqlite-libs (3.34.1-r0)\n(16/24) Installing python3 (3.8.15-r0)\n(17/24) Installing py3-meld3 (2.0.1-r0)\n(18/24) Installing py3-ordered-set (4.0.2-r0)\n(19/24) Installing py3-appdirs (1.4.4-r1)\n(20/24) Installing py3-parsing (2.4.7-r1)\n(21/24) Installing py3-six (1.15.0-r0)\n(22/24) Installing py3-packaging (20.9-r0)\n(23/24) Installing py3-setuptools (51.3.3-r0)\n(24/24) Installing supervisor (4.2.1-r0)\nExecuting busybox-1.32.1-r6.trigger\nOK: 197 MiB in 52 packages\nRemoving intermediate container 864d317c9373\n ---> bbbf9fd377b7\nStep 6/18 : COPY . ${PROJ_PATH}\n ---> 0b43bb2b3e6a\nStep 7/18 : WORKDIR ${PROJ_PATH}\n ---> Running in e3723128b242\nRemoving intermediate container e3723128b242\n ---> 7f637b6340df\nStep 8/18 : RUN make all     && make pack4docker     && tar -zxf open-falcon-v*.tar.gz -C ${FALCON_DIR}     && rm -rf ${PROJ_PATH}\n ---> Running in 62743dabc029\nif [ agent = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=agent -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/agent/falcon-agent ./modules/agent ; \\\nfi\n\u001b[91mgo: downloading github.com/toolkits/net v0.0.0-20160910085801-3f39ab6fe3ce\ngo: downloading github.com/toolkits/file v0.0.0-20160325033739-a5b3c5147e07\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/slice v0.0.0-20141116085117-e44a80af2484\ngo: downloading github.com/toolkits/sys v0.0.0-20170615103026-1f33b217ffaf\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/core v0.0.0-20141116054942-0ebf14900fe2\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/time v0.0.0-20160524122720-c274716e8d7f\n\u001b[0m\u001b[91mgo: downloading github.com/mindprince/gonvml v0.0.0-20190828220739-9ebdce4bb989\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/nux v0.0.0-20200401110743-debb3829764a\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210525143221-35b2ab0089ea\n\u001b[0mif [ aggregator = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=aggregator -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/aggregator/falcon-aggregator ./modules/aggregator ; \\\nfi\n\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/gorm v0.0.0-20170703134954-2a1463811ee1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.0.0\ngo: downloading github.com/spf13/cast v1.3.0\ngo: downloading gopkg.in/ini.v1 v1.51.0\ngo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/spf13/afero v1.2.2\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.4.7\ngo: downloading github.com/pelletier/go-toml v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.2.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.6\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v0.0.0-20170102125226-1c35d901db3d\n\u001b[0mif [ graph = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=graph -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/graph/falcon-graph ./modules/graph ; \\\nfi\n\u001b[91mgo: downloading github.com/toolkits/cache v0.0.0-20190218093630-cfb07b7585e5\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/concurrent v0.0.0-20150624120057-a4371d70e3e3\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/niean/goperfcounter v0.0.0-20160108100052-24860a8d3fac\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/container v0.0.0-20151219225805-ba7d73adeaca\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/proc v0.0.0-20170520054645-8c734d0eb018\n\u001b[0m\u001b[91mgo: downloading github.com/open-falcon/rrdlite v0.0.0-20170412122036-7d8646c85cc5\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/consistent v0.0.0-20150827090850-a6f56a64d1b1\n\u001b[0m\u001b[91mgo: downloading github.com/niean/go-metrics-lite v0.0.0-20151230091537-b5d30971b578\ngo: downloading github.com/niean/gotools v0.0.0-20151221085310-ff3f51fc5c60\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.13\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.4.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210513164829-c07d793c2f9a\n\u001b[0mif [ hbs = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=hbs -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/hbs/falcon-hbs ./modules/hbs ; \\\nfi\nif [ judge = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=judge -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/judge/falcon-judge ./modules/judge ; \\\nfi\n\u001b[91mgo: downloading github.com/garyburd/redigo v1.6.2\n\u001b[0mif [ nodata = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=nodata -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/nodata/falcon-nodata ./modules/nodata ; \\\nfi\n\u001b[91mgo: downloading github.com/toolkits/http v0.0.0-20150609122824-f3ac6e6c24be\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/cron v0.0.0-20150624115642-bebc2953afa6\n\u001b[0mif [ transfer = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=transfer -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/transfer/falcon-transfer ./modules/transfer ; \\\nfi\n\u001b[91mgo: downloading github.com/juju/errors v0.0.0-20200330140219-3fe23663418f\n\u001b[0m\u001b[91mgo: downloading github.com/influxdata/influxdb v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/conn_pool v0.0.0-20170512061817-2b758bec1177\n\u001b[0mif [ gateway = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/gateway ; \\\nfi\nif [ api = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=api -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/api/falcon-api ./modules/api ; \\\nfi\n\u001b[91mgo: downloading github.com/masato25/yaag v0.0.0-20170704095552-00862ec4db8e\n\u001b[0m\u001b[91mgo: downloading github.com/emirpasic/gods v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.1-0.20181028125025-b2ce2384e17b\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/str v0.0.0-20160913030958-f82e0f0498cb\n\u001b[0mif [ alarm = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=alarm -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/alarm/falcon-alarm ./modules/alarm ; \\\nfi\n\u001b[91mgo: downloading github.com/astaxie/beego v1.8.3\n\u001b[0mif [ falcon2p8s = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=falcon2p8s -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/falcon2p8s/falcon-falcon2p8s ./modules/falcon2p8s ; \\\nfi\n\u001b[91mgo: downloading github.com/prometheus/client_golang v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/oleiade/lane v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.0.11\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0mGO111MODULE=on go build -ldflags \"-X main.BinaryName=Open-Falcon -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" -o open-falcon\n\u001b[91mgo: downloading github.com/spf13/cobra v1.1.3\n\u001b[0mGO111MODULE=on go build -ldflags \"-X main.BinaryName=Open-Falcon -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" -o open-falcon\ntar -C out -zcf open-falcon-v0.3.x.tar.gz .\nRemoving intermediate container 62743dabc029\n ---> 65192af242cc\nStep 9/18 : FROM alpine:3.13\n3.13: Pulling from library/alpine\n72cfd02ff4d0: Pulling fs layer\n72cfd02ff4d0: Verifying Checksum\n72cfd02ff4d0: Download complete\n72cfd02ff4d0: Pull complete\nDigest: sha256:469b6e04ee185740477efa44ed5bdd64a07bbdd6c7e5f5d169e540889597b911\nStatus: Downloaded newer image for alpine:3.13\n ---> 6b5c5e00213a\nStep 10/18 : LABEL maintainer laiwei.ustc@gmail.com\n ---> Running in 890b77fe88d6\nRemoving intermediate container 890b77fe88d6\n ---> 764764095439\nStep 11/18 : USER root\n ---> Running in 24e0f20b5053\nRemoving intermediate container 24e0f20b5053\n ---> aa624a2e0d1e\nStep 12/18 : ENV FALCON_DIR=/open-falcon\n ---> Running in 45d8877ebacf\nRemoving intermediate container 45d8877ebacf\n ---> 06b54fb0ff1f\nStep 13/18 : RUN mkdir -p $FALCON_DIR/logs &&     apk add --no-cache ca-certificates bash git supervisor\n ---> Running in bc441a672ac6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/25) Installing ncurses-libs (6.2_p20210109-r1)\n(3/25) Installing readline (8.1.0-r0)\n(4/25) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/25) Installing ca-certificates (20220614-r0)\n(6/25) Installing brotli-libs (1.0.9-r3)\n(7/25) Installing nghttp2-libs (1.42.0-r1)\n(8/25) Installing libcurl (7.79.1-r3)\n(9/25) Installing expat (2.2.10-r8)\n(10/25) Installing pcre2 (10.36-r1)\n(11/25) Installing git (2.30.6-r0)\n(12/25) Installing libbz2 (1.0.8-r1)\n(13/25) Installing libffi (3.3-r2)\n(14/25) Installing gdbm (1.19-r0)\n(15/25) Installing xz-libs (5.2.5-r1)\n(16/25) Installing sqlite-libs (3.34.1-r0)\n(17/25) Installing python3 (3.8.15-r0)\n(18/25) Installing py3-meld3 (2.0.1-r0)\n(19/25) Installing py3-ordered-set (4.0.2-r0)\n(20/25) Installing py3-appdirs (1.4.4-r1)\n(21/25) Installing py3-parsing (2.4.7-r1)\n(22/25) Installing py3-six (1.15.0-r0)\n(23/25) Installing py3-packaging (20.9-r0)\n(24/25) Installing py3-setuptools (51.3.3-r0)\n(25/25) Installing supervisor (4.2.1-r0)\nExecuting busybox-1.32.1-r9.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 76 MiB in 39 packages\nRemoving intermediate container bc441a672ac6\n ---> 5fefa55a2877\nStep 14/18 : ADD docker/supervisord.conf /etc/supervisord.conf\n ---> 2c4559b117ac\nStep 15/18 : COPY --from=0 ${FALCON_DIR} ${FALCON_DIR}\n ---> 0a19dd5a52d4\nStep 16/18 : EXPOSE 8433 8080\n ---> Running in e9187177e203\nRemoving intermediate container e9187177e203\n ---> a4a085402fab\nStep 17/18 : WORKDIR ${FALCON_DIR}\n ---> Running in b4c4fd4abe6f\nRemoving intermediate container b4c4fd4abe6f\n ---> b7bbd2c6a697\nStep 18/18 : CMD [\"/usr/bin/supervisord\", \"-c\", \"/etc/supervisord.conf\"]\n ---> Running in a41cb525bfa2\nRemoving intermediate container a41cb525bfa2\n ---> 46c0322a817a\nSuccessfully built 46c0322a817a\nSuccessfully tagged falcon-plus:latest\n","stderr":"","imageSize":238590439},"repair":{"violations":[{"name":"tarSomethingRmTheSomething","position":{"start":15,"end":15,"columnStart":7,"columnEnd":54}}],"repairedDockerfile":"# Build container;\nFROM openfalcon/makegcc-golang:1.15-alpine\nLABEL maintainer laiwei.ustc@gmail.com\nUSER root\n\nENV FALCON_DIR=/open-falcon PROJ_PATH=${GOPATH}/src/github.com/open-falcon/falcon-plus\n\nRUN mkdir -p $FALCON_DIR && \\\n    mkdir -p $FALCON_DIR/logs && \\\n    apk add --no-cache ca-certificates bash git supervisor\nCOPY . ${PROJ_PATH}\n\nWORKDIR ${PROJ_PATH}\nRUN make all \\\n    && make pack4docker \\\n    && tar -zxf open-falcon-v*.tar.gz -C ${FALCON_DIR} \\\n    && rm -rf ${PROJ_PATH}\n\n# Final container;\nFROM alpine:3.13\nLABEL maintainer laiwei.ustc@gmail.com\nUSER root\n\nENV FALCON_DIR=/open-falcon\n\nRUN mkdir -p $FALCON_DIR/logs && \\\n    apk add --no-cache ca-certificates bash git supervisor\n\nADD docker/supervisord.conf /etc/supervisord.conf\n\nCOPY --from=0 ${FALCON_DIR} ${FALCON_DIR}\n\nEXPOSE 8433 8080\nWORKDIR ${FALCON_DIR}\n\nCMD [\"/usr/bin/supervisord\", \"-c\", \"/etc/supervisord.conf\"]\n"},"repairedBuild":{"startTimestamp":1672203739125,"endTimestamp":1672203875648,"error":null,"stdout":"Sending build context to Docker daemon  5.204MB\r\r\nStep 1/18 : FROM openfalcon/makegcc-golang:1.15-alpine\n ---> 117415218838\nStep 2/18 : LABEL maintainer laiwei.ustc@gmail.com\n ---> Running in 8d56523a226c\nRemoving intermediate container 8d56523a226c\n ---> 408d7175bc1d\nStep 3/18 : USER root\n ---> Running in 3b5c019a716e\nRemoving intermediate container 3b5c019a716e\n ---> 264b1bedc0e8\nStep 4/18 : ENV FALCON_DIR=/open-falcon PROJ_PATH=${GOPATH}/src/github.com/open-falcon/falcon-plus\n ---> Running in 253a7be64093\nRemoving intermediate container 253a7be64093\n ---> 5aca28243410\nStep 5/18 : RUN mkdir -p $FALCON_DIR &&     mkdir -p $FALCON_DIR/logs &&     apk add --no-cache ca-certificates bash git supervisor\n ---> Running in 4785678e885a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/24) Installing ncurses-libs (6.2_p20210109-r1)\n(3/24) Installing readline (8.1.0-r0)\n(4/24) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/24) Installing brotli-libs (1.0.9-r3)\n(6/24) Installing nghttp2-libs (1.42.0-r1)\n(7/24) Installing libcurl (7.79.1-r3)\n(8/24) Installing expat (2.2.10-r8)\n(9/24) Installing pcre2 (10.36-r1)\n(10/24) Installing git (2.30.6-r0)\n(11/24) Installing libbz2 (1.0.8-r1)\n(12/24) Installing libffi (3.3-r2)\n(13/24) Installing gdbm (1.19-r0)\n(14/24) Installing xz-libs (5.2.5-r1)\n(15/24) Installing sqlite-libs (3.34.1-r0)\n(16/24) Installing python3 (3.8.15-r0)\n(17/24) Installing py3-meld3 (2.0.1-r0)\n(18/24) Installing py3-ordered-set (4.0.2-r0)\n(19/24) Installing py3-appdirs (1.4.4-r1)\n(20/24) Installing py3-parsing (2.4.7-r1)\n(21/24) Installing py3-six (1.15.0-r0)\n(22/24) Installing py3-packaging (20.9-r0)\n(23/24) Installing py3-setuptools (51.3.3-r0)\n(24/24) Installing supervisor (4.2.1-r0)\nExecuting busybox-1.32.1-r6.trigger\nOK: 197 MiB in 52 packages\nRemoving intermediate container 4785678e885a\n ---> ada8de0910c0\nStep 6/18 : COPY . ${PROJ_PATH}\n ---> e9b71720fddc\nStep 7/18 : WORKDIR ${PROJ_PATH}\n ---> Running in 538199bc1948\nRemoving intermediate container 538199bc1948\n ---> 0564dee7e494\nStep 8/18 : RUN make all     && make pack4docker     && tar -zxf open-falcon-v*.tar.gz -C ${FALCON_DIR}     && rm -rf ${PROJ_PATH}\n ---> Running in e8731e06779c\nif [ agent = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=agent -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/agent/falcon-agent ./modules/agent ; \\\nfi\n\u001b[91mgo: downloading github.com/toolkits/slice v0.0.0-20141116085117-e44a80af2484\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/sys v0.0.0-20170615103026-1f33b217ffaf\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/core v0.0.0-20141116054942-0ebf14900fe2\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/net v0.0.0-20160910085801-3f39ab6fe3ce\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/nux v0.0.0-20200401110743-debb3829764a\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/time v0.0.0-20160524122720-c274716e8d7f\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/file v0.0.0-20160325033739-a5b3c5147e07\n\u001b[0m\u001b[91mgo: downloading github.com/mindprince/gonvml v0.0.0-20190828220739-9ebdce4bb989\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210525143221-35b2ab0089ea\n\u001b[0mif [ aggregator = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=aggregator -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/aggregator/falcon-aggregator ./modules/aggregator ; \\\nfi\n\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/gorm v0.0.0-20170703134954-2a1463811ee1\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.4.7\ngo: downloading github.com/spf13/pflag v1.0.5\ngo: downloading github.com/hashicorp/hcl v1.0.0\ngo: downloading github.com/spf13/cast v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.2.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v0.0.0-20170102125226-1c35d901db3d\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.51.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.2.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.6\n\u001b[0mif [ graph = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=graph -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/graph/falcon-graph ./modules/graph ; \\\nfi\n\u001b[91mgo: downloading github.com/open-falcon/rrdlite v0.0.0-20170412122036-7d8646c85cc5\n\u001b[0m\u001b[91mgo: downloading github.com/niean/goperfcounter v0.0.0-20160108100052-24860a8d3fac\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/concurrent v0.0.0-20150624120057-a4371d70e3e3\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/cache v0.0.0-20190218093630-cfb07b7585e5\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/container v0.0.0-20151219225805-ba7d73adeaca\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/proc v0.0.0-20170520054645-8c734d0eb018\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/consistent v0.0.0-20150827090850-a6f56a64d1b1\n\u001b[0m\u001b[91mgo: downloading github.com/niean/gotools v0.0.0-20151221085310-ff3f51fc5c60\ngo: downloading github.com/niean/go-metrics-lite v0.0.0-20151230091537-b5d30971b578\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.13\ngo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/ugorji/go v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.17.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210513164829-c07d793c2f9a\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.13.0\n\u001b[0mif [ hbs = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=hbs -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/hbs/falcon-hbs ./modules/hbs ; \\\nfi\nif [ judge = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=judge -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/judge/falcon-judge ./modules/judge ; \\\nfi\n\u001b[91mgo: downloading github.com/garyburd/redigo v1.6.2\n\u001b[0mif [ nodata = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=nodata -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/nodata/falcon-nodata ./modules/nodata ; \\\nfi\n\u001b[91mgo: downloading github.com/toolkits/cron v0.0.0-20150624115642-bebc2953afa6\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/http v0.0.0-20150609122824-f3ac6e6c24be\n\u001b[0mif [ transfer = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=transfer -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/transfer/falcon-transfer ./modules/transfer ; \\\nfi\n\u001b[91mgo: downloading github.com/juju/errors v0.0.0-20200330140219-3fe23663418f\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/conn_pool v0.0.0-20170512061817-2b758bec1177\n\u001b[0m\u001b[91mgo: downloading github.com/influxdata/influxdb v1.9.0\n\u001b[0mif [ gateway = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/gateway ; \\\nfi\nif [ api = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=api -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/api/falcon-api ./modules/api ; \\\nfi\n\u001b[91mgo: downloading github.com/masato25/yaag v0.0.0-20170704095552-00862ec4db8e\n\u001b[0m\u001b[91mgo: downloading github.com/emirpasic/gods v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/toolkits/str v0.0.0-20160913030958-f82e0f0498cb\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.1-0.20181028125025-b2ce2384e17b\n\u001b[0mif [ alarm = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=alarm -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/alarm/falcon-alarm ./modules/alarm ; \\\nfi\n\u001b[91mgo: downloading github.com/astaxie/beego v1.8.3\n\u001b[0mif [ falcon2p8s = \"gateway\" ]; then \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=gateway -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/gateway/falcon-gateway ./modules/transfer ; \\\nelse \\\n\tGO111MODULE=on go build -ldflags \"-X main.BinaryName=falcon2p8s -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" \\\n\t\t-o bin/falcon2p8s/falcon-falcon2p8s ./modules/falcon2p8s ; \\\nfi\n\u001b[91mgo: downloading github.com/prometheus/client_golang v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/oleiade/lane v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.9.1\ngo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading github.com/prometheus/procfs v0.0.11\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0mGO111MODULE=on go build -ldflags \"-X main.BinaryName=Open-Falcon -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" -o open-falcon\n\u001b[91mgo: downloading github.com/spf13/cobra v1.1.3\n\u001b[0mGO111MODULE=on go build -ldflags \"-X main.BinaryName=Open-Falcon -X main.GitCommit=`git rev-parse --short HEAD` -X main.Version=0.3.x\" -o open-falcon\ntar -C out -zcf open-falcon-v0.3.x.tar.gz .\nRemoving intermediate container e8731e06779c\n ---> 8a053db9838e\nStep 9/18 : FROM alpine:3.13\n ---> 6b5c5e00213a\nStep 10/18 : LABEL maintainer laiwei.ustc@gmail.com\n ---> Running in ee02dee4bd95\nRemoving intermediate container ee02dee4bd95\n ---> ea351ef6de01\nStep 11/18 : USER root\n ---> Running in b8e75d4b979f\nRemoving intermediate container b8e75d4b979f\n ---> d572b4913f09\nStep 12/18 : ENV FALCON_DIR=/open-falcon\n ---> Running in a6e61a1dadd3\nRemoving intermediate container a6e61a1dadd3\n ---> 977916c4ccf3\nStep 13/18 : RUN mkdir -p $FALCON_DIR/logs &&     apk add --no-cache ca-certificates bash git supervisor\n ---> Running in 0cdec1f000ce\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/25) Installing ncurses-libs (6.2_p20210109-r1)\n(3/25) Installing readline (8.1.0-r0)\n(4/25) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/25) Installing ca-certificates (20220614-r0)\n(6/25) Installing brotli-libs (1.0.9-r3)\n(7/25) Installing nghttp2-libs (1.42.0-r1)\n(8/25) Installing libcurl (7.79.1-r3)\n(9/25) Installing expat (2.2.10-r8)\n(10/25) Installing pcre2 (10.36-r1)\n(11/25) Installing git (2.30.6-r0)\n(12/25) Installing libbz2 (1.0.8-r1)\n(13/25) Installing libffi (3.3-r2)\n(14/25) Installing gdbm (1.19-r0)\n(15/25) Installing xz-libs (5.2.5-r1)\n(16/25) Installing sqlite-libs (3.34.1-r0)\n(17/25) Installing python3 (3.8.15-r0)\n(18/25) Installing py3-meld3 (2.0.1-r0)\n(19/25) Installing py3-ordered-set (4.0.2-r0)\n(20/25) Installing py3-appdirs (1.4.4-r1)\n(21/25) Installing py3-parsing (2.4.7-r1)\n(22/25) Installing py3-six (1.15.0-r0)\n(23/25) Installing py3-packaging (20.9-r0)\n(24/25) Installing py3-setuptools (51.3.3-r0)\n(25/25) Installing supervisor (4.2.1-r0)\nExecuting busybox-1.32.1-r9.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 76 MiB in 39 packages\nRemoving intermediate container 0cdec1f000ce\n ---> 3c685ebaf1e3\nStep 14/18 : ADD docker/supervisord.conf /etc/supervisord.conf\n ---> bed8c76dad4e\nStep 15/18 : COPY --from=0 ${FALCON_DIR} ${FALCON_DIR}\n ---> a0c3d81b613c\nStep 16/18 : EXPOSE 8433 8080\n ---> Running in 4b84f3d2516e\nRemoving intermediate container 4b84f3d2516e\n ---> d3aa0090f32e\nStep 17/18 : WORKDIR ${FALCON_DIR}\n ---> Running in 79bf16460084\nRemoving intermediate container 79bf16460084\n ---> e0b7787b5bf6\nStep 18/18 : CMD [\"/usr/bin/supervisord\", \"-c\", \"/etc/supervisord.conf\"]\n ---> Running in 06d8956bc287\nRemoving intermediate container 06d8956bc287\n ---> 26c0ea12fc57\nSuccessfully built 26c0ea12fc57\nSuccessfully tagged falcon-plus:latest\n","stderr":"","imageSize":238590439},"endTime":1672203876063}