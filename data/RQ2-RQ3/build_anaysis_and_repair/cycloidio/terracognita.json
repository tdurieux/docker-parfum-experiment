{"repository":"https://github.com/cycloidio/terracognita","dockerfilePath":"Dockerfile","startTime":1672647720611,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cycloidio/terracognita'...\n","error":null,"commit":"0756fcf22299561be70f98fd1d471bac30915450"},"originalBuild":{"startTimestamp":1672647721996,"endTimestamp":1672648165378,"error":null,"stdout":"Sending build context to Docker daemon  1.909MB\r\r\nStep 1/12 : FROM golang:1.17-alpine3.14 as builder\n1.17-alpine3.14: Pulling from library/golang\n8663204ce13b: Pulling fs layer\nf792083cb66d: Pulling fs layer\n166b6af146ed: Pulling fs layer\nc69f031786c0: Pulling fs layer\n59673510afb0: Pulling fs layer\n59673510afb0: Waiting\nc69f031786c0: Waiting\n166b6af146ed: Download complete\nf792083cb66d: Verifying Checksum\nf792083cb66d: Download complete\n8663204ce13b: Verifying Checksum\n8663204ce13b: Download complete\n59673510afb0: Verifying Checksum\n59673510afb0: Download complete\nc69f031786c0: Verifying Checksum\nc69f031786c0: Download complete\n8663204ce13b: Pull complete\nf792083cb66d: Pull complete\n166b6af146ed: Pull complete\nc69f031786c0: Pull complete\n59673510afb0: Pull complete\nDigest: sha256:7dee28aaabcbd25c4dcd0fa6663c01157c1cca061f903b69ecf0e6f0524634d1\nStatus: Downloaded newer image for golang:1.17-alpine3.14\n ---> 99719dbeb910\nStep 2/12 : RUN apk add --update git\n ---> Running in 340b4f814bf0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.43.0-r0)\n(3/6) Installing libcurl (7.79.1-r4)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r7.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container 340b4f814bf0\n ---> ca5ddfd0b91d\nStep 3/12 : WORKDIR /app\n ---> Running in 1c32000c7d71\nRemoving intermediate container 1c32000c7d71\n ---> 6d58ebedd63f\nStep 4/12 : COPY go.mod .\n ---> 77fcdc289c5c\nStep 5/12 : COPY go.sum .\n ---> 4615b8546b4f\nStep 6/12 : RUN go mod download\n ---> Running in 3b6af50cef05\nRemoving intermediate container 3b6af50cef05\n ---> 5342343424af\nStep 7/12 : COPY . .\n ---> 64b52f9d2d57\nStep 8/12 : RUN GIT_TAG=$(git describe --tags --always) &&   CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags \"-X github.com/cycloidio/terracognita/cmd.Version=$GIT_TAG\"\n ---> Running in 105c251ce244\nRemoving intermediate container 105c251ce244\n ---> 61f5d1d5fdd0\nStep 9/12 : FROM alpine:3.14\n3.14: Pulling from library/alpine\nc7ed990a2339: Pulling fs layer\nc7ed990a2339: Verifying Checksum\nc7ed990a2339: Download complete\nc7ed990a2339: Pull complete\nDigest: sha256:4c869a63e1b7c0722fed1e402a6466610327c3b83bdddb94bd94fb71da7f638a\nStatus: Downloaded newer image for alpine:3.14\n ---> dd53f409bf0b\nStep 10/12 : COPY --from=builder /app/terracognita /app/\n ---> e40be970313d\nStep 11/12 : RUN apk --update add ca-certificates\n ---> Running in 52281d1ad56e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 52281d1ad56e\n ---> 8a7234637b24\nStep 12/12 : ENTRYPOINT [\"/app/terracognita\"]\n ---> Running in 34ad9d8c3f6b\nRemoving intermediate container 34ad9d8c3f6b\n ---> bbe7d8660699\nSuccessfully built bbe7d8660699\nSuccessfully tagged terracognita:latest\n","stderr":"","imageSize":664570912},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":24}},{"name":"apkAddUseNoCache","position":{"start":21,"end":21,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# build stage\nFROM golang:1.17-alpine3.14 as builder\n\nRUN apk add --no-cache --update git\n\nWORKDIR /app\n\nCOPY go.mod .\nCOPY go.sum .\n\nRUN go mod download\n\nCOPY . .\n\nRUN GIT_TAG=$(git describe --tags --always) && \\\n  CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags \"-X github.com/cycloidio/terracognita/cmd.Version=$GIT_TAG\"\n\n# final stage\nFROM alpine:3.14\nCOPY --from=builder /app/terracognita /app/\n# https://github.com/hashicorp/terraform/issues/10779\nRUN apk --update --no-cache add ca-certificates\nENTRYPOINT [\"/app/terracognita\"]\n"},"repairedBuild":{"startTimestamp":1672648165743,"endTimestamp":1672648686427,"error":null,"stdout":"Sending build context to Docker daemon  1.909MB\r\r\nStep 1/12 : FROM golang:1.17-alpine3.14 as builder\n ---> 99719dbeb910\nStep 2/12 : RUN apk add --no-cache --update git\n ---> Running in 8a82075b5fbb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.43.0-r0)\n(3/6) Installing libcurl (7.79.1-r4)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r7.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container 8a82075b5fbb\n ---> e2500d3b911b\nStep 3/12 : WORKDIR /app\n ---> Running in e0b30a5235d8\nRemoving intermediate container e0b30a5235d8\n ---> 0d0cdbb90e78\nStep 4/12 : COPY go.mod .\n ---> d0c392015016\nStep 5/12 : COPY go.sum .\n ---> 56e0d9a7eef9\nStep 6/12 : RUN go mod download\n ---> Running in 7d0dfba9dbb6\nRemoving intermediate container 7d0dfba9dbb6\n ---> 7793fdab5c6c\nStep 7/12 : COPY . .\n ---> 70e75d7f3302\nStep 8/12 : RUN GIT_TAG=$(git describe --tags --always) &&   CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags \"-X github.com/cycloidio/terracognita/cmd.Version=$GIT_TAG\"\n ---> Running in b32c07eca4ab\nRemoving intermediate container b32c07eca4ab\n ---> 4c77088624a0\nStep 9/12 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 10/12 : COPY --from=builder /app/terracognita /app/\n ---> 9f77d12bdef5\nStep 11/12 : RUN apk --update --no-cache add ca-certificates\n ---> Running in 76bb437337c1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 76bb437337c1\n ---> 9511e4c0b4a6\nStep 12/12 : ENTRYPOINT [\"/app/terracognita\"]\n ---> Running in 022c10f397c0\nRemoving intermediate container 022c10f397c0\n ---> a265a2eae30e\nSuccessfully built a265a2eae30e\nSuccessfully tagged terracognita:latest\n","stderr":"","imageSize":662413446},"endTime":1672648686900}