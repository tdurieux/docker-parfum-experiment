{"repository":"https://github.com/madkote/fastapi-plugins","dockerfilePath":"Dockerfile","startTime":1672123392832,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/madkote/fastapi-plugins'...\n","error":null,"commit":"ae90f0f7764d86a351c14764c0443c7542526ac0"},"originalBuild":{"startTimestamp":1672123393935,"endTimestamp":1672123460424,"error":null,"stdout":"Sending build context to Docker daemon  400.4kB\r\r\nStep 1/9 : FROM python:3.8-alpine as demo\n3.8-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Pulling fs layer\nf9fb575d7a9e: Pulling fs layer\n59c63ce3438e: Pulling fs layer\n4ceace26d08f: Pulling fs layer\n4ceace26d08f: Waiting\n7ec3a91b66d9: Verifying Checksum\n7ec3a91b66d9: Download complete\n4ceace26d08f: Verifying Checksum\n4ceace26d08f: Download complete\n7ec3a91b66d9: Pull complete\nf9fb575d7a9e: Verifying Checksum\nf9fb575d7a9e: Download complete\nf9fb575d7a9e: Pull complete\n59c63ce3438e: Pull complete\n4ceace26d08f: Pull complete\nDigest: sha256:7c7063333021414512e2d47232eae8cbdec46a2724265c6817f9eab29ca6e3c8\nStatus: Downloaded newer image for python:3.8-alpine\n ---> 13f1e3678aa9\nStep 2/9 : LABEL maintainer=\"madkote(at)bluewin.ch\"\n ---> Running in 4f6a047bda11\nRemoving intermediate container 4f6a047bda11\n ---> 9397dd10c26b\nStep 3/9 : RUN apk --update add --no-cache --virtual MY_DEV_PACK alpine-sdk build-base python3-dev\n ---> Running in fd36149fa50a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/40) Installing fakeroot (1.29-r0)\n(2/40) Installing openssl (3.0.7-r0)\n(3/40) Installing libattr (2.5.1-r2)\n(4/40) Installing attr (2.5.1-r2)\n(5/40) Installing libacl (2.3.1-r1)\n(6/40) Installing tar (1.34-r1)\n(7/40) Installing pkgconf (1.9.3-r0)\n(8/40) Installing patch (2.7.6-r8)\n(9/40) Installing libgcc (12.2.1_git20220924-r4)\n(10/40) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/40) Installing lzip (1.23-r0)\n(12/40) Installing brotli-libs (1.0.9-r9)\n(13/40) Installing nghttp2-libs (1.51.0-r0)\n(14/40) Installing libcurl (7.87.0-r0)\n(15/40) Installing curl (7.87.0-r0)\n(16/40) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(17/40) Installing binutils (2.39-r2)\n(18/40) Installing libmagic (5.43-r0)\n(19/40) Installing file (5.43-r0)\n(20/40) Installing libgomp (12.2.1_git20220924-r4)\n(21/40) Installing libatomic (12.2.1_git20220924-r4)\n(22/40) Installing gmp (6.2.1-r2)\n(23/40) Installing isl25 (0.25-r0)\n(24/40) Installing mpfr4 (4.1.0-r0)\n(25/40) Installing mpc1 (1.2.1-r1)\n(26/40) Installing gcc (12.2.1_git20220924-r4)\n(27/40) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(28/40) Installing musl-dev (1.2.3-r4)\n(29/40) Installing libc-dev (0.7.2-r3)\n(30/40) Installing g++ (12.2.1_git20220924-r4)\n(31/40) Installing make (4.3-r1)\n(32/40) Installing fortify-headers (1.1-r1)\n(33/40) Installing build-base (0.5-r3)\n(34/40) Installing pcre2 (10.42-r0)\n(35/40) Installing git (2.38.2-r0)\n(36/40) Installing alpine-sdk (1.0-r1)\n(37/40) Installing mpdecimal (2.5.1-r1)\n(38/40) Installing python3 (3.10.9-r1)\n(39/40) Installing python3-dev (3.10.9-r1)\n(40/40) Installing MY_DEV_PACK (20221227.064326)\nExecuting busybox-1.35.0-r29.trigger\nOK: 358 MiB in 77 packages\nRemoving intermediate container fd36149fa50a\n ---> fec08bb1b443\nStep 4/9 : RUN pip3 install fastapi-plugins[all] uvicorn\n ---> Running in 56cedfd60e7b\nCollecting fastapi-plugins[all]\n  Downloading fastapi_plugins-0.11.0-py3-none-any.whl (23 kB)\nCollecting uvicorn\n  Downloading uvicorn-0.20.0-py3-none-any.whl (56 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.9/56.9 KB 2.9 MB/s eta 0:00:00\nCollecting redis[hiredis]>=4.3.*\n  Downloading redis-4.4.0-py3-none-any.whl (236 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 236.4/236.4 KB 12.6 MB/s eta 0:00:00\nCollecting python-json-logger>=2.0.*\n  Downloading python_json_logger-2.0.4-py3-none-any.whl (7.8 kB)\nCollecting tenacity>=8.0.*\n  Downloading tenacity-8.1.0-py3-none-any.whl (23 kB)\nCollecting aiojobs>=1.0.*\n  Downloading aiojobs-1.1.0-py3-none-any.whl (12 kB)\nCollecting fastapi>=0.74.*\n  Downloading fastapi-0.88.0-py3-none-any.whl (55 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.5/55.5 KB 2.8 MB/s eta 0:00:00\nCollecting pydantic<2.0.0,>=1.0.0\n  Downloading pydantic-1.10.2-cp38-cp38-musllinux_1_1_x86_64.whl (16.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.5/16.5 MB 27.0 MB/s eta 0:00:00\nCollecting aiomcache>=0.7.*\n  Downloading aiomcache-0.8.0-py3-none-any.whl (15 kB)\nCollecting click>=7.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 KB 1.5 MB/s eta 0:00:00\nCollecting h11>=0.8\n  Downloading h11-0.14.0-py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.3/58.3 KB 626.4 kB/s eta 0:00:00\nCollecting async-timeout>=4.0.0\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting typing-extensions>=3.10\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting starlette==0.22.0\n  Downloading starlette-0.22.0-py3-none-any.whl (64 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.3/64.3 KB 707.8 kB/s eta 0:00:00\nCollecting anyio<5,>=3.4.0\n  Downloading anyio-3.6.2-py3-none-any.whl (80 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 80.6/80.6 KB 921.0 kB/s eta 0:00:00\nCollecting hiredis>=1.0.0\n  Downloading hiredis-2.1.0-cp38-cp38-musllinux_1_1_x86_64.whl (87 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.2/87.2 KB 1.0 MB/s eta 0:00:00\nCollecting idna>=2.8\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 593.1 kB/s eta 0:00:00\nCollecting sniffio>=1.1\n  Downloading sniffio-1.3.0-py3-none-any.whl (10 kB)\nInstalling collected packages: typing-extensions, tenacity, sniffio, python-json-logger, idna, hiredis, h11, click, async-timeout, uvicorn, redis, pydantic, anyio, aiomcache, aiojobs, starlette, fastapi, fastapi-plugins\nSuccessfully installed aiojobs-1.1.0 aiomcache-0.8.0 anyio-3.6.2 async-timeout-4.0.2 click-8.1.3 fastapi-0.88.0 fastapi-plugins-0.11.0 h11-0.14.0 hiredis-2.1.0 idna-3.4 pydantic-1.10.2 python-json-logger-2.0.4 redis-4.4.0 sniffio-1.3.0 starlette-0.22.0 tenacity-8.1.0 typing-extensions-4.4.0 uvicorn-0.20.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 56cedfd60e7b\n ---> 7ac4b0f4801d\nStep 5/9 : RUN mkdir -p /usr/src/app\n ---> Running in cd5799e5e469\nRemoving intermediate container cd5799e5e469\n ---> 59014f7af3f4\nStep 6/9 : COPY ./scripts/demo_app.py /usr/src/app\n ---> a0ad41fb5390\nStep 7/9 : WORKDIR /usr/src/app\n ---> Running in 0f96961dabbf\nRemoving intermediate container 0f96961dabbf\n ---> 4e1422d6551b\nStep 8/9 : EXPOSE 8000\n ---> Running in 1998b0165334\nRemoving intermediate container 1998b0165334\n ---> b332ed8e275e\nStep 9/9 : CMD [\"uvicorn\", \"--host\", \"0.0.0.0\", \"demo_app:app\"]\n ---> Running in a2b27ceb1b91\nRemoving intermediate container a2b27ceb1b91\n ---> ea6eb8904c00\nSuccessfully built ea6eb8904c00\nSuccessfully tagged fastapi-plugins:latest\n","stderr":"","imageSize":543742962},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":3,"end":3,"columnStart":4,"columnEnd":45}},{"name":"mkdirUsrSrcThenRemove","position":{"start":4,"end":4,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM python:3.8-alpine as demo\nLABEL maintainer=\"madkote(at)bluewin.ch\"\nRUN apk --update add --no-cache --virtual MY_DEV_PACK alpine-sdk build-base python3-dev\nRUN pip3 install --no-cache-dir fastapi-plugins[all] uvicorn\nRUN mkdir -p /usr/src/app\nCOPY ./scripts/demo_app.py /usr/src/app\nWORKDIR /usr/src/app\nEXPOSE 8000\nCMD [\"uvicorn\", \"--host\", \"0.0.0.0\", \"demo_app:app\"]\n"},"repairedBuild":{"startTimestamp":1672123461281,"endTimestamp":1672123515113,"error":null,"stdout":"Sending build context to Docker daemon  400.4kB\r\r\nStep 1/9 : FROM python:3.8-alpine as demo\n ---> 13f1e3678aa9\nStep 2/9 : LABEL maintainer=\"madkote(at)bluewin.ch\"\n ---> Running in b1bf31de705a\nRemoving intermediate container b1bf31de705a\n ---> 78c70a6a66d0\nStep 3/9 : RUN apk --update add --no-cache --virtual MY_DEV_PACK alpine-sdk build-base python3-dev\n ---> Running in ca36fcff94c8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/40) Installing fakeroot (1.29-r0)\n(2/40) Installing openssl (3.0.7-r0)\n(3/40) Installing libattr (2.5.1-r2)\n(4/40) Installing attr (2.5.1-r2)\n(5/40) Installing libacl (2.3.1-r1)\n(6/40) Installing tar (1.34-r1)\n(7/40) Installing pkgconf (1.9.3-r0)\n(8/40) Installing patch (2.7.6-r8)\n(9/40) Installing libgcc (12.2.1_git20220924-r4)\n(10/40) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/40) Installing lzip (1.23-r0)\n(12/40) Installing brotli-libs (1.0.9-r9)\n(13/40) Installing nghttp2-libs (1.51.0-r0)\n(14/40) Installing libcurl (7.87.0-r0)\n(15/40) Installing curl (7.87.0-r0)\n(16/40) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(17/40) Installing binutils (2.39-r2)\n(18/40) Installing libmagic (5.43-r0)\n(19/40) Installing file (5.43-r0)\n(20/40) Installing libgomp (12.2.1_git20220924-r4)\n(21/40) Installing libatomic (12.2.1_git20220924-r4)\n(22/40) Installing gmp (6.2.1-r2)\n(23/40) Installing isl25 (0.25-r0)\n(24/40) Installing mpfr4 (4.1.0-r0)\n(25/40) Installing mpc1 (1.2.1-r1)\n(26/40) Installing gcc (12.2.1_git20220924-r4)\n(27/40) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(28/40) Installing musl-dev (1.2.3-r4)\n(29/40) Installing libc-dev (0.7.2-r3)\n(30/40) Installing g++ (12.2.1_git20220924-r4)\n(31/40) Installing make (4.3-r1)\n(32/40) Installing fortify-headers (1.1-r1)\n(33/40) Installing build-base (0.5-r3)\n(34/40) Installing pcre2 (10.42-r0)\n(35/40) Installing git (2.38.2-r0)\n(36/40) Installing alpine-sdk (1.0-r1)\n(37/40) Installing mpdecimal (2.5.1-r1)\n(38/40) Installing python3 (3.10.9-r1)\n(39/40) Installing python3-dev (3.10.9-r1)\n(40/40) Installing MY_DEV_PACK (20221227.064423)\nExecuting busybox-1.35.0-r29.trigger\nOK: 358 MiB in 77 packages\nRemoving intermediate container ca36fcff94c8\n ---> 4c0c262c5b44\nStep 4/9 : RUN pip3 install --no-cache-dir fastapi-plugins[all] uvicorn\n ---> Running in 9c0344a58f18\nCollecting fastapi-plugins[all]\n  Downloading fastapi_plugins-0.11.0-py3-none-any.whl (23 kB)\nCollecting uvicorn\n  Downloading uvicorn-0.20.0-py3-none-any.whl (56 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.9/56.9 KB 25.0 MB/s eta 0:00:00\nCollecting python-json-logger>=2.0.*\n  Downloading python_json_logger-2.0.4-py3-none-any.whl (7.8 kB)\nCollecting fastapi>=0.74.*\n  Downloading fastapi-0.88.0-py3-none-any.whl (55 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.5/55.5 KB 130.4 MB/s eta 0:00:00\nCollecting aiojobs>=1.0.*\n  Downloading aiojobs-1.1.0-py3-none-any.whl (12 kB)\nCollecting pydantic<2.0.0,>=1.0.0\n  Downloading pydantic-1.10.2-cp38-cp38-musllinux_1_1_x86_64.whl (16.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.5/16.5 MB 103.8 MB/s eta 0:00:00\nCollecting redis[hiredis]>=4.3.*\n  Downloading redis-4.4.0-py3-none-any.whl (236 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 236.4/236.4 KB 112.1 MB/s eta 0:00:00\nCollecting tenacity>=8.0.*\n  Downloading tenacity-8.1.0-py3-none-any.whl (23 kB)\nCollecting aiomcache>=0.7.*\n  Downloading aiomcache-0.8.0-py3-none-any.whl (15 kB)\nCollecting h11>=0.8\n  Downloading h11-0.14.0-py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.3/58.3 KB 52.3 MB/s eta 0:00:00\nCollecting click>=7.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 KB 204.2 MB/s eta 0:00:00\nCollecting async-timeout>=4.0.0\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting typing-extensions>=3.10\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting starlette==0.22.0\n  Downloading starlette-0.22.0-py3-none-any.whl (64 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.3/64.3 KB 177.5 MB/s eta 0:00:00\nCollecting anyio<5,>=3.4.0\n  Downloading anyio-3.6.2-py3-none-any.whl (80 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 80.6/80.6 KB 122.6 MB/s eta 0:00:00\nCollecting hiredis>=1.0.0\n  Downloading hiredis-2.1.0-cp38-cp38-musllinux_1_1_x86_64.whl (87 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.2/87.2 KB 50.8 MB/s eta 0:00:00\nCollecting sniffio>=1.1\n  Downloading sniffio-1.3.0-py3-none-any.whl (10 kB)\nCollecting idna>=2.8\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 52.3 MB/s eta 0:00:00\nInstalling collected packages: typing-extensions, tenacity, sniffio, python-json-logger, idna, hiredis, h11, click, async-timeout, uvicorn, redis, pydantic, anyio, aiomcache, aiojobs, starlette, fastapi, fastapi-plugins\nSuccessfully installed aiojobs-1.1.0 aiomcache-0.8.0 anyio-3.6.2 async-timeout-4.0.2 click-8.1.3 fastapi-0.88.0 fastapi-plugins-0.11.0 h11-0.14.0 hiredis-2.1.0 idna-3.4 pydantic-1.10.2 python-json-logger-2.0.4 redis-4.4.0 sniffio-1.3.0 starlette-0.22.0 tenacity-8.1.0 typing-extensions-4.4.0 uvicorn-0.20.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 9c0344a58f18\n ---> f348ff9dd324\nStep 5/9 : RUN mkdir -p /usr/src/app\n ---> Running in 403f226a49eb\nRemoving intermediate container 403f226a49eb\n ---> 6c3a21d45d1c\nStep 6/9 : COPY ./scripts/demo_app.py /usr/src/app\n ---> a27b0b2c8be1\nStep 7/9 : WORKDIR /usr/src/app\n ---> Running in dc22a2d3cb95\nRemoving intermediate container dc22a2d3cb95\n ---> b67cec346ca5\nStep 8/9 : EXPOSE 8000\n ---> Running in ce62d5840834\nRemoving intermediate container ce62d5840834\n ---> 1600bcc85307\nStep 9/9 : CMD [\"uvicorn\", \"--host\", \"0.0.0.0\", \"demo_app:app\"]\n ---> Running in 94568fcc3732\nRemoving intermediate container 94568fcc3732\n ---> f811b33320d7\nSuccessfully built f811b33320d7\nSuccessfully tagged fastapi-plugins:latest\n","stderr":"","imageSize":525995451},"endTime":1672123515536}