{"repository":"https://github.com/jicg/liteblog","dockerfilePath":"Dockerfile","startTime":1672607043200,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jicg/liteblog'...\n","error":null,"commit":"1d9906bab9f46d14c7e2e707608fddf6fce2ffc0"},"originalBuild":{"startTimestamp":1672607044292,"endTimestamp":1672607225560,"error":null,"stdout":"Sending build context to Docker daemon  9.426MB\r\r\nStep 1/19 : FROM golang:latest as builder\nlatest: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:latest\n ---> 6650307efe4a\nStep 2/19 : MAINTAINER <284077319@qq.com>\n ---> Running in f15e2e99196f\nRemoving intermediate container f15e2e99196f\n ---> a35796412e42\nStep 3/19 : WORKDIR /go/src/github.com/jicg/liteblog\n ---> Running in 107630b53373\nRemoving intermediate container 107630b53373\n ---> 39a416dd27cd\nStep 4/19 : ENV GOPROXY=https://goproxy.cn\n ---> Running in 7d12c8739b13\nRemoving intermediate container 7d12c8739b13\n ---> 2de391fc8533\nStep 5/19 : COPY . .\n ---> dc3c07acac29\nStep 6/19 : RUN go get && go build  -ldflags=\"-w -s\"\n ---> Running in 62ff2d86e033\n\u001b[91mgo: downloading github.com/beego/beego/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/gorm v1.9.2-0.20180818231433-32455088f24d\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/goquery v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.1-0.20180103174451-36e9d2ebbde5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211015210444-4f30a5c0130f\ngo: downloading github.com/andybalholm/cascadia v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\ngo: downloading github.com/mattn/go-sqlite3 v2.0.3+incompatible\ngo: downloading github.com/jinzhu/inflection v0.0.0-20180308033659-04140366298a\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20211108221036-ceb1ce70b4fa\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/mitchellh/mapstructure v1.4.3\ngo: downloading golang.org/x/tools v0.0.0-20201211185031-d93e913c1a58\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.11.0\ngo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading golang.org/x/sys v0.0.0-20220405210540-1e041c57c461\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/prometheus/procfs v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.3.0\n\u001b[0m\u001b[91mgo: warning: github.com/mattn/go-sqlite3@v2.0.3+incompatible: retracted by module author: Accidental; no major changes or features.\ngo: to switch to the latest unretracted version, run:\n\tgo get github.com/mattn/go-sqlite3@latest\n\u001b[0m\u001b[91m# github.com/mattn/go-sqlite3\nsqlite3-binding.c: In function 'sqlite3SelectNew':\nsqlite3-binding.c:128049:10: warning: function may return address of local variable [-Wreturn-local-addr]\n128049 |   return pNew;\n       |          ^~~~\nsqlite3-binding.c:128009:10: note: declared here\n128009 |   Select standin;\n       |          ^~~~~~~\n\u001b[0mRemoving intermediate container 62ff2d86e033\n ---> c79962e35623\nStep 7/19 : FROM alpine as final\n ---> 49176f190c7e\nStep 8/19 : MAINTAINER <284077319@qq.com>\n ---> Running in 150e2e172598\nRemoving intermediate container 150e2e172598\n ---> 0b1ffb1cd6f6\nStep 9/19 : COPY --from=builder go/src/github.com/jicg/liteblog/liteblog /app/liteblog\n ---> 5e99baf45ff4\nStep 10/19 : COPY --from=builder go/src/github.com/jicg/liteblog/views /app/views\n ---> 7b7cd4c4b591\nStep 11/19 : COPY --from=builder go/src/github.com/jicg/liteblog/static /app/static\n ---> 47a7ddeec1a5\nStep 12/19 : COPY --from=builder go/src/github.com/jicg/liteblog/conf /app/conf\n ---> 18538c9901a8\nStep 13/19 : VOLUME /app/data\n ---> Running in 151728e14bb5\nRemoving intermediate container 151728e14bb5\n ---> e82b1be4d839\nStep 14/19 : VOLUME /app/assert\n ---> Running in 2df1b827c197\nRemoving intermediate container 2df1b827c197\n ---> 1668b8921e1c\nStep 15/19 : EXPOSE 8080\n ---> Running in f57c071888cb\nRemoving intermediate container f57c071888cb\n ---> eb460a0185db\nStep 16/19 : WORKDIR /app\n ---> Running in 83a338a1d786\nRemoving intermediate container 83a338a1d786\n ---> 6d18865d4dc2\nStep 17/19 : RUN apk --update upgrade &&     apk add sqlite &&     mkdir /lib64 &&     ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2 &&     apk add tzdata &&     ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &&     echo \"Asia/Shanghai\" > /etc/timezone &&     rm -rf /var/cache/apk/* &&     chmod +x liteblog\n ---> Running in 0b04479def3f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 7 MiB in 15 packages\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing sqlite (3.40.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 9 MiB in 19 packages\n(1/1) Installing tzdata (2022f-r1)\nOK: 12 MiB in 20 packages\nRemoving intermediate container 0b04479def3f\n ---> 942ec8fad2d7\nStep 18/19 : ENTRYPOINT [\"/app/liteblog\"]\n ---> Running in bfc5f811857b\nRemoving intermediate container bfc5f811857b\n ---> 03081ac51c2e\nStep 19/19 : CMD []\n ---> Running in 8e5b38e96697\nRemoving intermediate container 8e5b38e96697\n ---> 5a1047d2f0b9\nSuccessfully built 5a1047d2f0b9\nSuccessfully tagged liteblog:latest\n","stderr":"","imageSize":48044365},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":30,"end":30,"columnStart":4,"columnEnd":18}},{"name":"apkAddUseNoCache","position":{"start":34,"end":34,"columnStart":4,"columnEnd":18}}],"repairedDockerfile":"FROM golang:latest as builder\nMAINTAINER <284077319@qq.com>\nWORKDIR /go/src/github.com/jicg/liteblog\nENV GOPROXY=https://goproxy.cn\nCOPY . .\n#ENV CGO_ENABLED=0\n#RUN godep go build -installsuffix cgo -ldflags=\"-w -s\"\nRUN go get && go build  -ldflags=\"-w -s\"\n\n#FROM scratch as final\nFROM alpine as final\n#FROM debian:latest as final\nMAINTAINER <284077319@qq.com>\n#COPY --from=builder /etc/passwd /etc/passwd\nCOPY --from=builder go/src/github.com/jicg/liteblog/liteblog /app/liteblog\nCOPY --from=builder go/src/github.com/jicg/liteblog/views /app/views\nCOPY --from=builder go/src/github.com/jicg/liteblog/static /app/static\nCOPY --from=builder go/src/github.com/jicg/liteblog/conf /app/conf\n\nVOLUME /app/data\nVOLUME /app/assert\nEXPOSE 8080\nWORKDIR /app\n\n\n#RUN /bin/cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n#&& echo 'Asia/Shanghai' >/etc/timezone \\\n#&& chmod +x start.sh\nRUN apk --update upgrade && \\\n    # sqlite\n    apk add --no-cache sqlite && \\\n    mkdir /lib64 && \\\n    ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2 && \\\n    # 时间\n    apk add --no-cache tzdata && \\\n    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \\\n    echo \"Asia/Shanghai\" > /etc/timezone && \\\n    # 清除缓存\n    rm -rf /var/cache/apk/* && \\\n    # 执行权限\n    chmod +x liteblog\nENTRYPOINT [\"/app/liteblog\"]\nCMD []"},"repairedBuild":{"startTimestamp":1672607226010,"endTimestamp":1672607318756,"error":null,"stdout":"Sending build context to Docker daemon  9.426MB\r\r\nStep 1/19 : FROM golang:latest as builder\n ---> 6650307efe4a\nStep 2/19 : MAINTAINER <284077319@qq.com>\n ---> Running in 231333ec3462\nRemoving intermediate container 231333ec3462\n ---> ce14c612a8ba\nStep 3/19 : WORKDIR /go/src/github.com/jicg/liteblog\n ---> Running in b6bf8d1709e2\nRemoving intermediate container b6bf8d1709e2\n ---> d15058315791\nStep 4/19 : ENV GOPROXY=https://goproxy.cn\n ---> Running in 457444af636d\nRemoving intermediate container 457444af636d\n ---> 8ca0b49acde5\nStep 5/19 : COPY . .\n ---> 95d3e39c5f98\nStep 6/19 : RUN go get && go build  -ldflags=\"-w -s\"\n ---> Running in cf0da8652f68\n\u001b[91mgo: downloading github.com/beego/beego/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/gorm v1.9.2-0.20180818231433-32455088f24d\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.1-0.20180103174451-36e9d2ebbde5\ngo: downloading github.com/PuerkitoBio/goquery v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-sqlite3 v2.0.3+incompatible\ngo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v0.0.0-20180308033659-04140366298a\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211015210444-4f30a5c0130f\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/cascadia v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18\ngo: downloading golang.org/x/crypto v0.0.0-20211108221036-ceb1ce70b4fa\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\ngo: downloading github.com/prometheus/client_golang v1.11.0\ngo: downloading github.com/mitchellh/mapstructure v1.4.3\ngo: downloading github.com/pkg/errors v0.9.1\ngo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading golang.org/x/tools v0.0.0-20201211185031-d93e913c1a58\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.26.0\ngo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220405210540-1e041c57c461\ngo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/prometheus/procfs v0.6.0\ngo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.3.0\n\u001b[0m\u001b[91mgo: warning: github.com/mattn/go-sqlite3@v2.0.3+incompatible: retracted by module author: Accidental; no major changes or features.\ngo: to switch to the latest unretracted version, run:\n\tgo get github.com/mattn/go-sqlite3@latest\n\u001b[0m\u001b[91m# github.com/mattn/go-sqlite3\nsqlite3-binding.c: In function 'sqlite3SelectNew':\nsqlite3-binding.c:128049:10: warning: function may return address of local variable [-Wreturn-local-addr]\n128049 |   return pNew;\n       |          ^~~~\nsqlite3-binding.c:128009:10: note: declared here\n128009 |   Select standin;\n       |          ^~~~~~~\n\u001b[0mRemoving intermediate container cf0da8652f68\n ---> 29c44cdbb2be\nStep 7/19 : FROM alpine as final\n ---> 49176f190c7e\nStep 8/19 : MAINTAINER <284077319@qq.com>\n ---> Running in c05b22b2e06d\nRemoving intermediate container c05b22b2e06d\n ---> ede7771f48f3\nStep 9/19 : COPY --from=builder go/src/github.com/jicg/liteblog/liteblog /app/liteblog\n ---> 4a4ca9cbc0db\nStep 10/19 : COPY --from=builder go/src/github.com/jicg/liteblog/views /app/views\n ---> 5e7eab976aec\nStep 11/19 : COPY --from=builder go/src/github.com/jicg/liteblog/static /app/static\n ---> d7d693719aa0\nStep 12/19 : COPY --from=builder go/src/github.com/jicg/liteblog/conf /app/conf\n ---> c3ffd5f62950\nStep 13/19 : VOLUME /app/data\n ---> Running in 0c1d6aaf38aa\nRemoving intermediate container 0c1d6aaf38aa\n ---> fe7d53ea817c\nStep 14/19 : VOLUME /app/assert\n ---> Running in 6c5f3e169366\nRemoving intermediate container 6c5f3e169366\n ---> 9ae517c89dcb\nStep 15/19 : EXPOSE 8080\n ---> Running in ea736e422571\nRemoving intermediate container ea736e422571\n ---> b4c72b65f33f\nStep 16/19 : WORKDIR /app\n ---> Running in 28918cdbde2d\nRemoving intermediate container 28918cdbde2d\n ---> 844db9dcffc9\nStep 17/19 : RUN apk --update upgrade &&     apk add --no-cache sqlite &&     mkdir /lib64 &&     ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2 &&     apk add --no-cache tzdata &&     ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &&     echo \"Asia/Shanghai\" > /etc/timezone &&     rm -rf /var/cache/apk/* &&     chmod +x liteblog\n ---> Running in 1ea462955c42\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 7 MiB in 15 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing sqlite (3.40.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 9 MiB in 19 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nOK: 12 MiB in 20 packages\nRemoving intermediate container 1ea462955c42\n ---> 7e10fce1560b\nStep 18/19 : ENTRYPOINT [\"/app/liteblog\"]\n ---> Running in 939c86874e78\nRemoving intermediate container 939c86874e78\n ---> a5e20c9a586f\nStep 19/19 : CMD []\n ---> Running in f6294b3a3e27\nRemoving intermediate container f6294b3a3e27\n ---> 2c3441d04c5e\nSuccessfully built 2c3441d04c5e\nSuccessfully tagged liteblog:latest\n","stderr":"","imageSize":48044365},"endTime":1672607319043}