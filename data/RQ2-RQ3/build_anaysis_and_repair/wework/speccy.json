{"repository":"https://github.com/wework/speccy","dockerfilePath":"Dockerfile","startTime":1673168466149,"endTime":1673168713604,"clone":{"startTime":1673168466150,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wework/speccy'...\n","error":null,"endTime":1673168467128,"commit":"3c2cc952261c4cb314b6a8729da99032417375bd"},"originalBuild":{"startTime":1673168467207,"endTime":1673168548098,"error":null,"stdout":"Sending build context to Docker daemon  497.7kB\r\r\nStep 1/12 : FROM node:11.1-alpine as builder\n11.1-alpine: Pulling from library/node\n4fe2ade4980c: Already exists\na3f62ee5351e: Pulling fs layer\nb8ee302f1a47: Pulling fs layer\nb8ee302f1a47: Verifying Checksum\nb8ee302f1a47: Download complete\na3f62ee5351e: Verifying Checksum\na3f62ee5351e: Download complete\na3f62ee5351e: Pull complete\nb8ee302f1a47: Pull complete\nDigest: sha256:324ccac1d7c4ddf5eb9f9ed5274c37c90965605b5eb68df0a67c6266837bfb79\nStatus: Downloaded newer image for node:11.1-alpine\n ---> 4b3c025f5508\nStep 2/12 : WORKDIR /opt/speccy\n ---> Running in 8c58014f61f0\nRemoving intermediate container 8c58014f61f0\n ---> 6a471cb6ec35\nStep 3/12 : COPY . /opt/speccy/\n ---> 54e0287249f1\nStep 4/12 : ENV NODE_ENV=production\n ---> Running in 0c72053f1b60\nRemoving intermediate container 0c72053f1b60\n ---> 3e5717bdc496\nStep 5/12 : RUN apk add --no-cache git     && npm install\n ---> Running in ccb86736050a\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20191127-r2)\n(2/7) Installing nghttp2-libs (1.39.2-r0)\n(3/7) Installing libssh2 (1.9.0-r1)\n(4/7) Installing libcurl (7.61.1-r3)\n(5/7) Installing expat (2.2.8-r0)\n(6/7) Installing pcre2 (10.31-r0)\n(7/7) Installing git (2.18.4-r0)\nExecuting busybox-1.28.4-r1.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 21 MiB in 22 packages\n\n> core-js@2.6.9 postinstall /opt/speccy/node_modules/swagger2openapi/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\nadded 245 packages from 175 contributors and audited 892 packages in 6.735s\nfound 503 vulnerabilities (15 low, 126 moderate, 234 high, 128 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container ccb86736050a\n ---> 92ca71a7563b\nStep 6/12 : FROM node:11.1-alpine\n ---> 4b3c025f5508\nStep 7/12 : COPY --from=builder /opt/speccy/ /opt/speccy/\n ---> e9f161d3ef82\nStep 8/12 : RUN ln -s /opt/speccy/speccy.js /usr/local/bin/speccy\n ---> Running in 5a9f09fcf161\nRemoving intermediate container 5a9f09fcf161\n ---> 5625ab9c9703\nStep 9/12 : WORKDIR /project\n ---> Running in 3a41de59f03b\nRemoving intermediate container 3a41de59f03b\n ---> 236af91d1aa1\nStep 10/12 : EXPOSE 5000\n ---> Running in 688dcb3f35bb\nRemoving intermediate container 688dcb3f35bb\n ---> 23073da04171\nStep 11/12 : ENTRYPOINT [\"speccy\"]\n ---> Running in 77b9672c351e\nRemoving intermediate container 77b9672c351e\n ---> e89971d14139\nStep 12/12 : CMD [\"-h\"]\n ---> Running in 5207d236d40a\nRemoving intermediate container 5207d236d40a\n ---> 7dd97d963cd5\nSuccessfully built 7dd97d963cd5\nSuccessfully tagged speccy:latest\n","stderr":"","imageSize":103845103},"repair":{"startTime":1673168548171,"endTime":1673168548232,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":7,"columnEnd":18}}],"repairedDockerfile":"FROM node:11.1-alpine as builder\n\nWORKDIR /opt/speccy\n\nCOPY . /opt/speccy/\n\nENV NODE_ENV=production\n\n# Ignore version locking to avoid undesired breaks due to changes in upstream\n# hadolint ignore=DL3018\nRUN apk add --no-cache git \\\n    && npm install && npm cache clean --force;\n\nFROM node:11.1-alpine\n\nCOPY --from=builder /opt/speccy/ /opt/speccy/\n\nRUN ln -s /opt/speccy/speccy.js /usr/local/bin/speccy\n\nWORKDIR /project\n\nEXPOSE 5000\nENTRYPOINT [\"speccy\"]\nCMD [\"-h\"]\n\n"},"repairedBuild":{"startTime":1673168548489,"endTime":1673168713074,"error":null,"stdout":"Sending build context to Docker daemon  497.7kB\r\r\nStep 1/12 : FROM node:11.1-alpine as builder\n ---> 4b3c025f5508\nStep 2/12 : WORKDIR /opt/speccy\n ---> Running in 69e2895c5d9b\nRemoving intermediate container 69e2895c5d9b\n ---> dfd6ca5a02f1\nStep 3/12 : COPY . /opt/speccy/\n ---> 13bff9f0ccb3\nStep 4/12 : ENV NODE_ENV=production\n ---> Running in 5d1a56984865\nRemoving intermediate container 5d1a56984865\n ---> 9633af1255a9\nStep 5/12 : RUN apk add --no-cache git     && npm install && npm cache clean --force;\n ---> Running in 880fc47ce8d1\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20191127-r2)\n(2/7) Installing nghttp2-libs (1.39.2-r0)\n(3/7) Installing libssh2 (1.9.0-r1)\n(4/7) Installing libcurl (7.61.1-r3)\n(5/7) Installing expat (2.2.8-r0)\n(6/7) Installing pcre2 (10.31-r0)\n(7/7) Installing git (2.18.4-r0)\nExecuting busybox-1.28.4-r1.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 21 MiB in 22 packages\n\n> core-js@2.6.9 postinstall /opt/speccy/node_modules/swagger2openapi/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\nadded 245 packages from 175 contributors and audited 892 packages in 5.151s\nfound 503 vulnerabilities (15 low, 126 moderate, 234 high, 128 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91musing --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 880fc47ce8d1\n ---> ddb07f68e712\nStep 6/12 : FROM node:11.1-alpine\n ---> 4b3c025f5508\nStep 7/12 : COPY --from=builder /opt/speccy/ /opt/speccy/\n ---> 2818a8ac9f60\nStep 8/12 : RUN ln -s /opt/speccy/speccy.js /usr/local/bin/speccy\n ---> Running in 91c1d2002900\nRemoving intermediate container 91c1d2002900\n ---> b4ec2a5b897a\nStep 9/12 : WORKDIR /project\n ---> Running in 453598f8aed8\nRemoving intermediate container 453598f8aed8\n ---> c285737eeeb6\nStep 10/12 : EXPOSE 5000\n ---> Running in d5d948e299d2\nRemoving intermediate container d5d948e299d2\n ---> bc24982cbebb\nStep 11/12 : ENTRYPOINT [\"speccy\"]\n ---> Running in a75f8df6f10c\nRemoving intermediate container a75f8df6f10c\n ---> 85b9abcfb2b3\nStep 12/12 : CMD [\"-h\"]\n ---> Running in 67334d994d2f\nRemoving intermediate container 67334d994d2f\n ---> 26a33051df8d\nSuccessfully built 26a33051df8d\nSuccessfully tagged speccy:latest\n","stderr":"","imageSize":103845103}}