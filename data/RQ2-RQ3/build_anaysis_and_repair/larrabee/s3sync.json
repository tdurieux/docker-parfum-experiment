{"repository":"https://github.com/larrabee/s3sync","dockerfilePath":"Dockerfile","startTime":1672259951983,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/larrabee/s3sync'...\n","error":null,"commit":"bb53f4d1753771b2c6fa7cab2b8cf0df271a51d3"},"originalBuild":{"startTimestamp":1672259952841,"endTimestamp":1672260057841,"error":null,"stdout":"Sending build context to Docker daemon  331.8kB\r\r\nStep 1/9 : FROM golang:1.19.2 as builder\n1.19.2: Pulling from library/golang\n17c9e6141fdb: Pulling fs layer\nde4a4c6caea8: Pulling fs layer\n4edced8587e6: Pulling fs layer\na7969cffbf46: Pulling fs layer\nefa7548a174d: Pulling fs layer\na86067690e45: Pulling fs layer\nd0a75b47d936: Pulling fs layer\nefa7548a174d: Waiting\na86067690e45: Waiting\nde4a4c6caea8: Verifying Checksum\nde4a4c6caea8: Download complete\n4edced8587e6: Verifying Checksum\n4edced8587e6: Download complete\n17c9e6141fdb: Verifying Checksum\n17c9e6141fdb: Download complete\na7969cffbf46: Verifying Checksum\na7969cffbf46: Download complete\nd0a75b47d936: Verifying Checksum\nd0a75b47d936: Download complete\nefa7548a174d: Verifying Checksum\nefa7548a174d: Download complete\na86067690e45: Verifying Checksum\na86067690e45: Download complete\n17c9e6141fdb: Pull complete\nde4a4c6caea8: Pull complete\n4edced8587e6: Pull complete\na7969cffbf46: Pull complete\nefa7548a174d: Pull complete\na86067690e45: Pull complete\nd0a75b47d936: Pull complete\nDigest: sha256:992d5fea982526ce265a0631a391e3c94694f4d15190fd170f35d91b2e6cb0ba\nStatus: Downloaded newer image for golang:1.19.2\n ---> dce494d5814b\nStep 2/9 : ENV CGO_ENABLED 0\n ---> Running in 4e7a0eada4c4\nRemoving intermediate container 4e7a0eada4c4\n ---> 5a67d5046a18\nStep 3/9 : WORKDIR /src/s3sync\n ---> Running in 6d9ec163ab0c\nRemoving intermediate container 6d9ec163ab0c\n ---> e3c126347a72\nStep 4/9 : COPY . ./\n ---> e8f165d51ca9\nStep 5/9 : RUN go mod vendor &&     go build -o s3sync ./cli\n ---> Running in 675de40e4fa4\n\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.166\ngo: downloading github.com/gophercloud/gophercloud v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/karrick/godirwalk v1.16.1\ngo: downloading github.com/pkg/xattr v0.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/larrabee/ratelimit v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/gosuri/uilive v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/alexflint/go-arg v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/alexflint/go-scalar v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0mRemoving intermediate container 675de40e4fa4\n ---> a35dfbfd1e74\nStep 6/9 : FROM debian:buster-slim\nbuster-slim: Pulling from library/debian\nb52ebda398ed: Already exists\nDigest: sha256:c9c3c682452791a9c301786a2beedb20f291e107c1b699fed0d4d145cc247d4f\nStatus: Downloaded newer image for debian:buster-slim\n ---> 101a5b2953f2\nStep 7/9 : RUN apt update && apt install -y ca-certificates\n ---> Running in 26ce2de4a4d4\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (5352 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (39.1 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6460 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 26ce2de4a4d4\n ---> 4aac4869ab40\nStep 8/9 : COPY --from=builder /src/s3sync/s3sync /s3sync\n ---> fcf5c30bbd38\nStep 9/9 : ENTRYPOINT [\"/s3sync\"]\n ---> Running in 9a903ad91a8a\nRemoving intermediate container 9a903ad91a8a\n ---> 5cc81e03c8ec\nSuccessfully built 5cc81e03c8ec\nSuccessfully tagged s3sync:latest\n","stderr":"","imageSize":110947376},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":11,"end":11,"columnStart":18,"columnEnd":48}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":11,"end":11,"columnStart":18,"columnEnd":48}}],"repairedDockerfile":"# Build in Docker container\nFROM golang:1.19.2 as builder\n\nENV CGO_ENABLED 0\nWORKDIR /src/s3sync\nCOPY . ./\nRUN go mod vendor && \\\n    go build -o s3sync ./cli\n\n# Create s3sync image\nFROM debian:buster-slim\nRUN apt update && apt install --no-install-recommends -y ca-certificates\nCOPY --from=builder /src/s3sync/s3sync /s3sync\nENTRYPOINT [\"/s3sync\"]\n"},"repairedBuild":{"startTimestamp":1672260058569,"endTimestamp":1672260131377,"error":null,"stdout":"Sending build context to Docker daemon  331.8kB\r\r\nStep 1/9 : FROM golang:1.19.2 as builder\n ---> dce494d5814b\nStep 2/9 : ENV CGO_ENABLED 0\n ---> Running in 4ddf28ac5fb7\nRemoving intermediate container 4ddf28ac5fb7\n ---> cc450b5f139a\nStep 3/9 : WORKDIR /src/s3sync\n ---> Running in b6d04d49b672\nRemoving intermediate container b6d04d49b672\n ---> dc0c1a44e316\nStep 4/9 : COPY . ./\n ---> 453b4876b68d\nStep 5/9 : RUN go mod vendor &&     go build -o s3sync ./cli\n ---> Running in 29415babd82c\n\u001b[91mgo: downloading github.com/gophercloud/gophercloud v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/larrabee/ratelimit v1.0.4\ngo: downloading github.com/karrick/godirwalk v1.16.1\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.166\n\u001b[0m\u001b[91mgo: downloading github.com/alexflint/go-arg v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/gosuri/uilive v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/xattr v0.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/alexflint/go-scalar v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0mRemoving intermediate container 29415babd82c\n ---> a01401a553c0\nStep 6/9 : FROM debian:buster-slim\n ---> 101a5b2953f2\nStep 7/9 : RUN apt update && apt install --no-install-recommends -y ca-certificates\n ---> Running in 30d32b114fba\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (4469 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 1s (3806 kB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6460 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 30d32b114fba\n ---> 80c55393c937\nStep 8/9 : COPY --from=builder /src/s3sync/s3sync /s3sync\n ---> 182194ee8507\nStep 9/9 : ENTRYPOINT [\"/s3sync\"]\n ---> Running in 1e8ff2264d7c\nRemoving intermediate container 1e8ff2264d7c\n ---> bf25ac0044ee\nSuccessfully built bf25ac0044ee\nSuccessfully tagged s3sync:latest\n","stderr":"","imageSize":110947400},"endTime":1672260131632}