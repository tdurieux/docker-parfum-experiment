{"repository":"https://github.com/randombenj/docat","dockerfilePath":"Dockerfile","startTime":1672623701331,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/randombenj/docat'...\n","error":null,"commit":"0a7904800d962b8fa3e8255941bb007b2992bca1"},"originalBuild":{"startTimestamp":1672623702324,"endTimestamp":1672623992268,"error":null,"stdout":"Sending build context to Docker daemon  1.162MB\r\r\nStep 1/27 : FROM node:16.14 as frontend\n16.14: Pulling from library/node\n85bed84afb9a: Already exists\n5fdd409f4b2b: Already exists\nfa3069e6cecf: Already exists\n4ee16f45eff9: Already exists\n2cee68386155: Pulling fs layer\n0aa7befa4a1b: Pulling fs layer\nc71ce35a137f: Pulling fs layer\nebc7dc08be24: Pulling fs layer\nedc589697159: Pulling fs layer\nedc589697159: Waiting\nebc7dc08be24: Waiting\n0aa7befa4a1b: Verifying Checksum\n0aa7befa4a1b: Download complete\nebc7dc08be24: Download complete\nc71ce35a137f: Verifying Checksum\nc71ce35a137f: Download complete\nedc589697159: Download complete\n2cee68386155: Verifying Checksum\n2cee68386155: Download complete\n2cee68386155: Pull complete\n0aa7befa4a1b: Pull complete\nc71ce35a137f: Pull complete\nebc7dc08be24: Pull complete\nedc589697159: Pull complete\nDigest: sha256:6e54786b2ad01667d46524e82806298714f50d2be72b39706770aed55faedbd7\nStatus: Downloaded newer image for node:16.14\n ---> a76eec769c30\nStep 2/27 : WORKDIR /app/frontend\n ---> Running in 4da4e2dca6ba\nRemoving intermediate container 4da4e2dca6ba\n ---> 9af6707f6a8d\nStep 3/27 : COPY web ./\n ---> 0309dcd0731b\nStep 4/27 : COPY doc/getting-started.md ./src/assets/\n ---> 8a169ad1082a\nStep 5/27 : RUN yarn install --frozen-lockfile\n ---> Running in 518fc0dab2bd\nyarn install v1.22.18\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@emotion/react > @emotion/babel-plugin@11.10.2\" has unmet peer dependency \"@babel/core@^7.0.0\".\n\u001b[0m\u001b[91mwarning \"@emotion/react > @emotion/babel-plugin > @babel/plugin-syntax-jsx@7.18.6\" has unmet peer dependency \"@babel/core@^7.0.0-0\".\n\u001b[0m\u001b[91mwarning \" > @testing-library/user-event@13.5.0\" has unmet peer dependency \"@testing-library/dom@>=7.21.4\".\n\u001b[0m\u001b[91mwarning \" > @typescript-eslint/eslint-plugin@5.44.0\" has unmet peer dependency \"@typescript-eslint/parser@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"react-scripts > eslint-config-react-app > eslint-plugin-flowtype@8.0.3\" has unmet peer dependency \"@babel/plugin-syntax-flow@^7.14.5\".\nwarning \"react-scripts > eslint-config-react-app > eslint-plugin-flowtype@8.0.3\" has unmet peer dependency \"@babel/plugin-transform-react-jsx@^7.14.9\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 50.81s.\nRemoving intermediate container 518fc0dab2bd\n ---> f9cf4e359bc9\nStep 6/27 : RUN yarn lint\n ---> Running in cd2161603b8a\nyarn run v1.22.18\n$ eslint ./src --ext .js,.jsx,.ts,.tsx\n\u001b[91mWarning: React version not specified in eslint-plugin-react settings. See https://github.com/jsx-eslint/eslint-plugin-react#configuration .\n\u001b[0mDone in 7.46s.\nRemoving intermediate container cd2161603b8a\n ---> b0e84569be34\nStep 7/27 : ARG CI=true\n ---> Running in 6cb306c55b43\nRemoving intermediate container 6cb306c55b43\n ---> 12b3a634f9a0\nStep 8/27 : RUN yarn test\n ---> Running in 18b772b402cf\nyarn run v1.22.18\n$ react-scripts test --watchAll=false --testMatch **/src/**/*.test.ts\n\u001b[91mPASS src/tests/repositories/ProjectRepository.test.ts\n\u001b[0m\u001b[91m  get versions\n\u001b[0m\u001b[91m    ✓ should return versions (3 ms)\n\u001b[0m\u001b[91m    ✓ should return empty array on error and log error (1 ms)\n\u001b[0m\u001b[91m  get project logo url\n    ✓ should return the correct url\n  get project docs url\n    ✓ should return the correct url without path (1 ms)\n\u001b[0m\u001b[91m    ✓ should return the correct url with path\n\u001b[0m\u001b[91m  upload\n\u001b[0m\u001b[91m    ✓ should post file (2 ms)\n\u001b[0m\u001b[91m    ✓ should throw version already exists on 401 status code (7 ms)\n    ✓ should throw server unreachable on 504 status code\n\u001b[0m\u001b[91m    ✓ should throw error on other status code\n\u001b[0m\u001b[91m  claim project\n\u001b[0m\u001b[91m    ✓ should call claim api with project name (1 ms)\n\u001b[0m\u001b[91m    ✓ should throw error when project already claimed\n\u001b[0m\u001b[91m    ✓ should throw server unreachable on 504 status code\n  deleteDoc\n    ✓ should call delete api with project name and version\n\u001b[0m\u001b[91m    ✓ should throw invalid token on 401 status code (1 ms)\n\u001b[0m\u001b[91m    ✓ should throw server unreachable on 504 status code (1 ms)\n\u001b[0m\u001b[91m    ✓ should throw error on other status code\n  compare versions\n\u001b[0m\u001b[91m    ✓ should sort doc versions as semantic versions (16 ms)\n  favories\n    ✓ should add and remove favourite projects correctly (1 ms)\n\n\u001b[0m\u001b[91mTest Suites: 1 passed, 1 total\nTests:       18 passed, 18 total\nSnapshots:   0 total\nTime:        1.282 s\nRan all test suites.\n\u001b[0mDone in 2.62s.\nRemoving intermediate container 18b772b402cf\n ---> 3985a5c43a87\nStep 9/27 : RUN yarn build\n ---> Running in 75b889221bea\nyarn run v1.22.18\n$ react-scripts build\nCreating an optimized production build...\nCompiled successfully.\n\nFile sizes after gzip:\n\n  207.4 kB  build/static/js/main.20987a47.js\n  6.71 kB   build/static/css/main.39432738.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nDone in 61.59s.\nRemoving intermediate container 75b889221bea\n ---> 04bc7da40fee\nStep 10/27 : FROM python:3.11.0-alpine3.15 AS backend\n3.11.0-alpine3.15: Pulling from library/python\n9621f1afde84: Pulling fs layer\n7dcbe358f5cf: Pulling fs layer\nc202fc059ff2: Pulling fs layer\n029c086462bc: Pulling fs layer\n28eba1c740bb: Pulling fs layer\n029c086462bc: Waiting\n28eba1c740bb: Waiting\n7dcbe358f5cf: Verifying Checksum\n7dcbe358f5cf: Download complete\n9621f1afde84: Verifying Checksum\n9621f1afde84: Download complete\n9621f1afde84: Pull complete\n28eba1c740bb: Verifying Checksum\n28eba1c740bb: Download complete\n029c086462bc: Verifying Checksum\n029c086462bc: Download complete\n7dcbe358f5cf: Pull complete\nc202fc059ff2: Verifying Checksum\nc202fc059ff2: Download complete\nc202fc059ff2: Pull complete\n029c086462bc: Pull complete\n28eba1c740bb: Pull complete\nDigest: sha256:1567c44f47c8136752ee4301be2e94130a5f8e1fb7a0e737ccac28fb8f66fd0f\nStatus: Downloaded newer image for python:3.11.0-alpine3.15\n ---> c692f3b79c36\nStep 11/27 : ENV PYTHONDONTWRITEBYTECODE=1     POETRY_VIRTUALENVS_IN_PROJECT=true     POETRY_NO_INTERACTION=1\n ---> Running in fe64bc224133\nRemoving intermediate container fe64bc224133\n ---> be0379ea16b2\nStep 12/27 : RUN apk update &&     apk add gcc musl-dev python3-dev libffi-dev openssl-dev cargo\n ---> Running in c1711c1aa5a5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\n(1/29) Upgrading libcrypto1.1 (1.1.1q-r0 -> 1.1.1s-r1)\n(2/29) Upgrading libssl1.1 (1.1.1q-r0 -> 1.1.1s-r1)\n(3/29) Installing rust-stdlib (1.56.1-r0)\n(4/29) Installing libgcc (10.3.1_git20211027-r0)\n(5/29) Installing libstdc++ (10.3.1_git20211027-r0)\n(6/29) Installing binutils (2.37-r3)\n(7/29) Installing libgomp (10.3.1_git20211027-r0)\n(8/29) Installing libatomic (10.3.1_git20211027-r0)\n(9/29) Installing libgphobos (10.3.1_git20211027-r0)\n(10/29) Installing gmp (6.2.1-r1)\n(11/29) Installing isl22 (0.22-r0)\n(12/29) Installing mpfr4 (4.1.0-r0)\n(13/29) Installing mpc1 (1.2.1-r0)\n(14/29) Installing gcc (10.3.1_git20211027-r0)\n(15/29) Installing musl-dev (1.2.2-r7)\n(16/29) Installing libxml2 (2.9.14-r2)\n(17/29) Installing llvm12-libs (12.0.1-r0)\n(18/29) Installing rust (1.56.1-r0)\n(19/29) Installing brotli-libs (1.0.9-r5)\n(20/29) Installing nghttp2-libs (1.46.0-r0)\n(21/29) Installing libcurl (7.80.0-r5)\n(22/29) Installing cargo (1.56.1-r0)\n(23/29) Installing linux-headers (5.10.41-r0)\n(24/29) Installing pkgconf (1.8.0-r0)\n(25/29) Installing libffi-dev (3.4.2-r1)\n(26/29) Installing openssl-dev (1.1.1s-r1)\n(27/29) Installing mpdecimal (2.5.1-r1)\n(28/29) Installing python3 (3.9.16-r0)\n(29/29) Installing python3-dev (3.9.16-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 942 MiB in 63 packages\nRemoving intermediate container c1711c1aa5a5\n ---> ac936d0247f1\nStep 13/27 : RUN pip install poetry==1.2.1\n ---> Running in c025b27cb126\nCollecting poetry==1.2.1\n  Downloading poetry-1.2.1-py3-none-any.whl (211 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.4/211.4 kB 8.9 MB/s eta 0:00:00\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting cachy<0.4.0,>=0.3.0\n  Downloading cachy-0.3.0-py2.py3-none-any.whl (20 kB)\nCollecting cleo<2.0.0,>=1.0.0a5\n  Downloading cleo-1.0.0a5-py3-none-any.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 5.2 MB/s eta 0:00:00\nCollecting crashtest<0.4.0,>=0.3.0\n  Downloading crashtest-0.3.1-py3-none-any.whl (7.0 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50-cp311-cp311-musllinux_1_1_x86_64.whl (517 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 517.0/517.0 kB 14.9 MB/s eta 0:00:00\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 kB 4.5 MB/s eta 0:00:00\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 kB 5.9 MB/s eta 0:00:00\nCollecting keyring>=21.2.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 3.0 MB/s eta 0:00:00\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 kB 5.9 MB/s eta 0:00:00\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting poetry-core==1.2.0\n  Downloading poetry_core-1.2.0-py3-none-any.whl (525 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 525.9/525.9 kB 28.6 MB/s eta 0:00:00\nCollecting poetry-plugin-export<2.0.0,>=1.0.7\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 5.2 MB/s eta 0:00:00\nCollecting requests-toolbelt<0.10.0,>=0.9.1\n  Downloading requests_toolbelt-0.9.1-py2.py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.3/54.3 kB 4.9 MB/s eta 0:00:00\nCollecting shellingham<2.0,>=1.5\n  Downloading shellingham-1.5.0-py2.py3-none-any.whl (9.3 kB)\nCollecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting urllib3<2.0.0,>=1.26.0\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 12.7 MB/s eta 0:00:00\nCollecting virtualenv!=20.4.5,!=20.4.6,>=20.4.3\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 60.2 MB/s eta 0:00:00\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4.tar.gz (128 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.1/128.1 kB 14.5 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting lockfile>=0.9\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting pylev<2.0.0,>=1.3.0\n  Downloading pylev-1.4.0-py2.py3-none-any.whl (6.1 kB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 6.7 MB/s eta 0:00:00\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 kB 6.4 MB/s eta 0:00:00\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting importlib-metadata>=4.11.4\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 kB 4.8 MB/s eta 0:00:00\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.0.7\n  Downloading poetry_plugin_export-1.1.2-py3-none-any.whl (10 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 6.5 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 13.9 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 35.5 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting cryptography>=2.0\n  Downloading cryptography-38.0.4-cp36-abi3-musllinux_1_1_x86_64.whl (4.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 64.4 MB/s eta 0:00:00\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 kB 5.8 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp311-cp311-musllinux_1_1_x86_64.whl (474 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 474.3/474.3 kB 31.4 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 13.2 MB/s eta 0:00:00\nBuilding wheels for collected packages: msgpack\n  Building wheel for msgpack (pyproject.toml): started\n  Building wheel for msgpack (pyproject.toml): finished with status 'done'\n  Created wheel for msgpack: filename=msgpack-1.0.4-cp311-cp311-linux_x86_64.whl size=15530 sha256=98cf23c44345f5c536bd53c4df1da93150a6e3cfac4dedf4cc7877360b771d9a\n  Stored in directory: /root/.cache/pip/wheels/be/38/62/bffc8d68ee5e3a6a3080b2f8a520e8302fe333528d93a488af\nSuccessfully built msgpack\nInstalling collected packages: webencodings, pylev, ptyprocess, msgpack, lockfile, distlib, zipp, urllib3, tomlkit, six, shellingham, pyrsistent, pycparser, poetry-core, platformdirs, pkginfo, pexpect, packaging, more-itertools, jeepney, idna, filelock, crashtest, charset-normalizer, certifi, cachy, attrs, virtualenv, requests, jsonschema, jaraco.classes, importlib-metadata, html5lib, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, SecretStorage, keyring, poetry-plugin-export, poetry\nSuccessfully installed SecretStorage-3.3.3 attrs-22.2.0 cachecontrol-0.12.11 cachy-0.3.0 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-1.0.0a5 crashtest-0.3.1 cryptography-38.0.4 distlib-0.3.6 dulwich-0.20.50 filelock-3.9.0 html5lib-1.1 idna-3.4 importlib-metadata-6.0.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.0.0 msgpack-1.0.4 packaging-22.0 pexpect-4.8.0 pkginfo-1.9.2 platformdirs-2.6.2 poetry-1.2.1 poetry-core-1.2.0 poetry-plugin-export-1.1.2 ptyprocess-0.7.0 pycparser-2.21 pylev-1.4.0 pyrsistent-0.19.3 requests-2.28.1 requests-toolbelt-0.9.1 shellingham-1.5.0 six-1.16.0 tomlkit-0.11.6 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91m\n[notice] A new release of pip available: 22.3 -> 22.3.1\n[notice] To update, run: pip install --upgrade pip\n\u001b[0mRemoving intermediate container c025b27cb126\n ---> 08f72dd88106\nStep 14/27 : COPY /docat/pyproject.toml /docat/poetry.lock /app/\n ---> bfeffb35debb\nStep 15/27 : WORKDIR /app/docat\n ---> Running in c455e6b03e58\nRemoving intermediate container c455e6b03e58\n ---> dfe42ed10c76\nStep 16/27 : RUN poetry install --no-root --no-ansi --only main\n ---> Running in 212b88add0fb\nCreating virtualenv docat in /app/.venv\nInstalling dependencies from lock file\n\nPackage operations: 17 installs, 0 updates, 0 removals\n\n  • Installing idna (3.4)\n  • Installing sniffio (1.3.0)\n  • Installing anyio (3.6.2)\n  • Installing typing-extensions (4.4.0)\n  • Installing click (8.1.3)\n  • Installing h11 (0.14.0)\n  • Installing six (1.16.0)\n  • Installing soupsieve (2.3.2.post1)\n  • Installing pydantic (1.10.2)\n  • Installing starlette (0.20.4)\n  • Installing beautifulsoup4 (4.11.1)\n  • Installing fastapi (0.86.0)\n  • Installing python-magic (0.4.27)\n  • Installing tinydb (4.7.0)\n  • Installing types-beautifulsoup4 (4.11.6.1)\n  • Installing python-multipart (0.0.5)\n  • Installing uvicorn (0.20.0)\nRemoving intermediate container 212b88add0fb\n ---> 75aa453e5351\nStep 17/27 : FROM python:3.11.0-alpine3.15\n ---> c692f3b79c36\nStep 18/27 : RUN apk update &&     apk add nginx dumb-init libmagic &&     rm -rf /var/cache/apk/*\n ---> Running in d4bd457a174d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\n(1/4) Installing dumb-init (1.2.5-r1)\n(2/4) Installing libmagic (5.41-r0)\n(3/4) Installing pcre (8.45-r1)\n(4/4) Installing nginx (1.20.2-r1)\nExecuting nginx-1.20.2-r1.pre-install\nExecuting nginx-1.20.2-r1.post-install\nExecuting busybox-1.34.1-r7.trigger\nOK: 23 MiB in 40 packages\nRemoving intermediate container d4bd457a174d\n ---> df6653bd43bf\nStep 19/27 : RUN mkdir -p /var/docat/doc\n ---> Running in 2009f813bc36\nRemoving intermediate container 2009f813bc36\n ---> 3c03c13454d5\nStep 20/27 : RUN mkdir -p /var/www/html\n ---> Running in bd4ada566b92\nRemoving intermediate container bd4ada566b92\n ---> 2f4b95be86e0\nStep 21/27 : COPY --from=frontend /app/frontend/build /var/www/html\n ---> e174cfbb26f5\nStep 22/27 : COPY docat /app/docat\n ---> 44f33af3adca\nStep 23/27 : WORKDIR /app/docat\n ---> Running in 1243e601bb1c\nRemoving intermediate container 1243e601bb1c\n ---> 17c6e5c51054\nStep 24/27 : RUN cp docat/nginx/default /etc/nginx/http.d/default.conf\n ---> Running in 0c15d8b25b8b\nRemoving intermediate container 0c15d8b25b8b\n ---> db3455ca90ca\nStep 25/27 : COPY --from=backend /app /app/docat\n ---> 6a5cd32cadcd\nStep 26/27 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in bb5d99e417f7\nRemoving intermediate container bb5d99e417f7\n ---> 4d1f3a97860b\nStep 27/27 : CMD [\"sh\", \"-c\", \"nginx && .venv/bin/python -m uvicorn --host 0.0.0.0 --port 5000 docat.app:app\"]\n ---> Running in ad44f7b1f1a7\nRemoving intermediate container ad44f7b1f1a7\n ---> 6c8d875fb734\nSuccessfully built 6c8d875fb734\nSuccessfully tagged docat:latest\n","stderr":"","imageSize":143404543},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":30,"end":30,"columnStart":4,"columnEnd":29}},{"name":"apkAddUseNoCache","position":{"start":29,"end":29,"columnStart":4,"columnEnd":65}},{"name":"apkAddUseNoCache","position":{"start":42,"end":42,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# building frontend\nFROM node:16.14 as frontend\nWORKDIR /app/frontend\nCOPY web ./\n\n# fix docker not following symlinks\nCOPY doc/getting-started.md ./src/assets/\n\nRUN yarn install --frozen-lockfile\nRUN yarn lint\n\n# fix test not exiting by default\nARG CI=true\nRUN yarn test\n\nRUN yarn build\n\n# setup Python\nFROM python:3.11.0-alpine3.15 AS backend\n\n# configure docker container\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    # make poetry create the virtual environment in the project's root\n    # it gets named `.venv`\n    POETRY_VIRTUALENVS_IN_PROJECT=true \\\n    # do not ask any interactive question\n    POETRY_NO_INTERACTION=1\n\nRUN apk update && \\\n    apk add --no-cache gcc musl-dev python3-dev libffi-dev openssl-dev cargo\nRUN pip install --no-cache-dir poetry==1.2.1\nCOPY /docat/pyproject.toml /docat/poetry.lock /app/\n\n# Install the application\nWORKDIR /app/docat\nRUN poetry install --no-root --no-ansi --only main\n\n# production\nFROM python:3.11.0-alpine3.15\n\n# set up the system\nRUN apk update && \\\n    apk add --no-cache nginx dumb-init libmagic && \\\n    rm -rf /var/cache/apk/*\n\nRUN mkdir -p /var/docat/doc\n\n# install the application\nRUN mkdir -p /var/www/html\nCOPY --from=frontend /app/frontend/build /var/www/html\nCOPY docat /app/docat\nWORKDIR /app/docat\n\nRUN cp docat/nginx/default /etc/nginx/http.d/default.conf\n\n# Copy the build artifact (.venv)\nCOPY --from=backend /app /app/docat\n\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nCMD [\"sh\", \"-c\", \"nginx && .venv/bin/python -m uvicorn --host 0.0.0.0 --port 5000 docat.app:app\"]\n"},"repairedBuild":{"startTimestamp":1672623992667,"endTimestamp":1672624245013,"error":null,"stdout":"Sending build context to Docker daemon  1.162MB\r\r\nStep 1/27 : FROM node:16.14 as frontend\n ---> a76eec769c30\nStep 2/27 : WORKDIR /app/frontend\n ---> Running in 629c3edd6809\nRemoving intermediate container 629c3edd6809\n ---> a9bd0e07db4c\nStep 3/27 : COPY web ./\n ---> 4b0e4561340f\nStep 4/27 : COPY doc/getting-started.md ./src/assets/\n ---> b02f5283c7ec\nStep 5/27 : RUN yarn install --frozen-lockfile\n ---> Running in f058d41553e0\nyarn install v1.22.18\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@emotion/react > @emotion/babel-plugin@11.10.2\" has unmet peer dependency \"@babel/core@^7.0.0\".\nwarning \"@emotion/react > @emotion/babel-plugin > @babel/plugin-syntax-jsx@7.18.6\" has unmet peer dependency \"@babel/core@^7.0.0-0\".\n\u001b[0m\u001b[91mwarning \" > @testing-library/user-event@13.5.0\" has unmet peer dependency \"@testing-library/dom@>=7.21.4\".\n\u001b[0m\u001b[91mwarning \" > @typescript-eslint/eslint-plugin@5.44.0\" has unmet peer dependency \"@typescript-eslint/parser@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"react-scripts > eslint-config-react-app > eslint-plugin-flowtype@8.0.3\" has unmet peer dependency \"@babel/plugin-syntax-flow@^7.14.5\".\nwarning \"react-scripts > eslint-config-react-app > eslint-plugin-flowtype@8.0.3\" has unmet peer dependency \"@babel/plugin-transform-react-jsx@^7.14.9\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 38.51s.\nRemoving intermediate container f058d41553e0\n ---> d6a0b6153d15\nStep 6/27 : RUN yarn lint\n ---> Running in 5605763c1de8\nyarn run v1.22.18\n$ eslint ./src --ext .js,.jsx,.ts,.tsx\n\u001b[91mWarning: React version not specified in eslint-plugin-react settings. See https://github.com/jsx-eslint/eslint-plugin-react#configuration .\n\u001b[0mDone in 6.82s.\nRemoving intermediate container 5605763c1de8\n ---> 7e3b826f02fd\nStep 7/27 : ARG CI=true\n ---> Running in 158d28b30b30\nRemoving intermediate container 158d28b30b30\n ---> f3667ffb67c0\nStep 8/27 : RUN yarn test\n ---> Running in b71036eb4673\nyarn run v1.22.18\n$ react-scripts test --watchAll=false --testMatch **/src/**/*.test.ts\n\u001b[91mPASS src/tests/repositories/ProjectRepository.test.ts\n\u001b[0m\u001b[91m  get versions\n\u001b[0m\u001b[91m    ✓ should return versions (3 ms)\n    ✓ should return empty array on error and log error (1 ms)\n  get project logo url\n\u001b[0m\u001b[91m    ✓ should return the correct url (1 ms)\n  get project docs url\n\u001b[0m\u001b[91m    ✓ should return the correct url without path\n\u001b[0m\u001b[91m    ✓ should return the correct url with path (1 ms)\n  upload\n\u001b[0m\u001b[91m    ✓ should post file (1 ms)\n\u001b[0m\u001b[91m    ✓ should throw version already exists on 401 status code (6 ms)\n    ✓ should throw server unreachable on 504 status code (1 ms)\n    ✓ should throw error on other status code\n\u001b[0m\u001b[91m  claim project\n\u001b[0m\u001b[91m    ✓ should call claim api with project name\n\u001b[0m\u001b[91m    ✓ should throw error when project already claimed (1 ms)\n\u001b[0m\u001b[91m    ✓ should throw server unreachable on 504 status code\n  deleteDoc\n    ✓ should call delete api with project name and version\n\u001b[0m\u001b[91m    ✓ should throw invalid token on 401 status code (1 ms)\n    ✓ should throw server unreachable on 504 status code\n\u001b[0m\u001b[91m    ✓ should throw error on other status code (1 ms)\n  compare versions\n\u001b[0m\u001b[91m    ✓ should sort doc versions as semantic versions (10 ms)\n  favories\n\u001b[0m\u001b[91m    ✓ should add and remove favourite projects correctly (1 ms)\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mTest Suites: 1 passed, 1 total\nTests:       18 passed, 18 total\nSnapshots:   0 total\nTime:        0.975 s\nRan all test suites.\n\u001b[0mDone in 2.19s.\nRemoving intermediate container b71036eb4673\n ---> 10babed785a3\nStep 9/27 : RUN yarn build\n ---> Running in 200dedf9aa50\nyarn run v1.22.18\n$ react-scripts build\nCreating an optimized production build...\nCompiled successfully.\n\nFile sizes after gzip:\n\n  207.4 kB  build/static/js/main.20987a47.js\n  6.71 kB   build/static/css/main.39432738.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nDone in 57.96s.\nRemoving intermediate container 200dedf9aa50\n ---> caf1d01ccc63\nStep 10/27 : FROM python:3.11.0-alpine3.15 AS backend\n ---> c692f3b79c36\nStep 11/27 : ENV PYTHONDONTWRITEBYTECODE=1     POETRY_VIRTUALENVS_IN_PROJECT=true     POETRY_NO_INTERACTION=1\n ---> Running in f8faae2f6fd3\nRemoving intermediate container f8faae2f6fd3\n ---> 6cf6e951441b\nStep 12/27 : RUN apk update &&     apk add --no-cache gcc musl-dev python3-dev libffi-dev openssl-dev cargo\n ---> Running in 29b00531fff0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/29) Upgrading libcrypto1.1 (1.1.1q-r0 -> 1.1.1s-r1)\n(2/29) Upgrading libssl1.1 (1.1.1q-r0 -> 1.1.1s-r1)\n(3/29) Installing rust-stdlib (1.56.1-r0)\n(4/29) Installing libgcc (10.3.1_git20211027-r0)\n(5/29) Installing libstdc++ (10.3.1_git20211027-r0)\n(6/29) Installing binutils (2.37-r3)\n(7/29) Installing libgomp (10.3.1_git20211027-r0)\n(8/29) Installing libatomic (10.3.1_git20211027-r0)\n(9/29) Installing libgphobos (10.3.1_git20211027-r0)\n(10/29) Installing gmp (6.2.1-r1)\n(11/29) Installing isl22 (0.22-r0)\n(12/29) Installing mpfr4 (4.1.0-r0)\n(13/29) Installing mpc1 (1.2.1-r0)\n(14/29) Installing gcc (10.3.1_git20211027-r0)\n(15/29) Installing musl-dev (1.2.2-r7)\n(16/29) Installing libxml2 (2.9.14-r2)\n(17/29) Installing llvm12-libs (12.0.1-r0)\n(18/29) Installing rust (1.56.1-r0)\n(19/29) Installing brotli-libs (1.0.9-r5)\n(20/29) Installing nghttp2-libs (1.46.0-r0)\n(21/29) Installing libcurl (7.80.0-r5)\n(22/29) Installing cargo (1.56.1-r0)\n(23/29) Installing linux-headers (5.10.41-r0)\n(24/29) Installing pkgconf (1.8.0-r0)\n(25/29) Installing libffi-dev (3.4.2-r1)\n(26/29) Installing openssl-dev (1.1.1s-r1)\n(27/29) Installing mpdecimal (2.5.1-r1)\n(28/29) Installing python3 (3.9.16-r0)\n(29/29) Installing python3-dev (3.9.16-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 942 MiB in 63 packages\nRemoving intermediate container 29b00531fff0\n ---> e31aff86d0e8\nStep 13/27 : RUN pip install --no-cache-dir poetry==1.2.1\n ---> Running in 0ddb59c36cca\nCollecting poetry==1.2.1\n  Downloading poetry-1.2.1-py3-none-any.whl (211 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.4/211.4 kB 47.2 MB/s eta 0:00:00\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting cachy<0.4.0,>=0.3.0\n  Downloading cachy-0.3.0-py2.py3-none-any.whl (20 kB)\nCollecting cleo<2.0.0,>=1.0.0a5\n  Downloading cleo-1.0.0a5-py3-none-any.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 351.3 MB/s eta 0:00:00\nCollecting crashtest<0.4.0,>=0.3.0\n  Downloading crashtest-0.3.1-py3-none-any.whl (7.0 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50-cp311-cp311-musllinux_1_1_x86_64.whl (517 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 517.0/517.0 kB 150.3 MB/s eta 0:00:00\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 kB 189.2 MB/s eta 0:00:00\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 kB 289.8 MB/s eta 0:00:00\nCollecting keyring>=21.2.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 203.7 MB/s eta 0:00:00\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 kB 144.4 MB/s eta 0:00:00\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting poetry-core==1.2.0\n  Downloading poetry_core-1.2.0-py3-none-any.whl (525 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 525.9/525.9 kB 91.5 MB/s eta 0:00:00\nCollecting poetry-plugin-export<2.0.0,>=1.0.7\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 258.6 MB/s eta 0:00:00\nCollecting requests-toolbelt<0.10.0,>=0.9.1\n  Downloading requests_toolbelt-0.9.1-py2.py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.3/54.3 kB 254.0 MB/s eta 0:00:00\nCollecting shellingham<2.0,>=1.5\n  Downloading shellingham-1.5.0-py2.py3-none-any.whl (9.3 kB)\nCollecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting urllib3<2.0.0,>=1.26.0\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 143.5 MB/s eta 0:00:00\nCollecting virtualenv!=20.4.5,!=20.4.6,>=20.4.3\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 107.2 MB/s eta 0:00:00\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4.tar.gz (128 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.1/128.1 kB 147.1 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting lockfile>=0.9\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting pylev<2.0.0,>=1.3.0\n  Downloading pylev-1.4.0-py2.py3-none-any.whl (6.1 kB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 268.2 MB/s eta 0:00:00\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 kB 282.1 MB/s eta 0:00:00\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting importlib-metadata>=4.11.4\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 kB 110.9 MB/s eta 0:00:00\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.0.7\n  Downloading poetry_plugin_export-1.1.2-py3-none-any.whl (10 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 213.9 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 163.9 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 126.1 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting cryptography>=2.0\n  Downloading cryptography-38.0.4-cp36-abi3-musllinux_1_1_x86_64.whl (4.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 97.3 MB/s eta 0:00:00\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 kB 225.7 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp311-cp311-musllinux_1_1_x86_64.whl (474 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 474.3/474.3 kB 132.1 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 199.5 MB/s eta 0:00:00\nBuilding wheels for collected packages: msgpack\n  Building wheel for msgpack (pyproject.toml): started\n  Building wheel for msgpack (pyproject.toml): finished with status 'done'\n  Created wheel for msgpack: filename=msgpack-1.0.4-cp311-cp311-linux_x86_64.whl size=15530 sha256=4ccd14157da6fd0ce14b661538c9103ab66dd4d7e577027ae9067aab5a43442d\n  Stored in directory: /tmp/pip-ephem-wheel-cache-x0ts0p5s/wheels/be/38/62/bffc8d68ee5e3a6a3080b2f8a520e8302fe333528d93a488af\nSuccessfully built msgpack\nInstalling collected packages: webencodings, pylev, ptyprocess, msgpack, lockfile, distlib, zipp, urllib3, tomlkit, six, shellingham, pyrsistent, pycparser, poetry-core, platformdirs, pkginfo, pexpect, packaging, more-itertools, jeepney, idna, filelock, crashtest, charset-normalizer, certifi, cachy, attrs, virtualenv, requests, jsonschema, jaraco.classes, importlib-metadata, html5lib, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, SecretStorage, keyring, poetry-plugin-export, poetry\nSuccessfully installed SecretStorage-3.3.3 attrs-22.2.0 cachecontrol-0.12.11 cachy-0.3.0 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-1.0.0a5 crashtest-0.3.1 cryptography-38.0.4 distlib-0.3.6 dulwich-0.20.50 filelock-3.9.0 html5lib-1.1 idna-3.4 importlib-metadata-6.0.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.0.0 msgpack-1.0.4 packaging-22.0 pexpect-4.8.0 pkginfo-1.9.2 platformdirs-2.6.2 poetry-1.2.1 poetry-core-1.2.0 poetry-plugin-export-1.1.2 ptyprocess-0.7.0 pycparser-2.21 pylev-1.4.0 pyrsistent-0.19.3 requests-2.28.1 requests-toolbelt-0.9.1 shellingham-1.5.0 six-1.16.0 tomlkit-0.11.6 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91m\n[notice] A new release of pip available: 22.3 -> 22.3.1\n[notice] To update, run: pip install --upgrade pip\n\u001b[0mRemoving intermediate container 0ddb59c36cca\n ---> b7c000f9babe\nStep 14/27 : COPY /docat/pyproject.toml /docat/poetry.lock /app/\n ---> 3e27a41f94bd\nStep 15/27 : WORKDIR /app/docat\n ---> Running in 61c857d40622\nRemoving intermediate container 61c857d40622\n ---> f5ad4078a9d6\nStep 16/27 : RUN poetry install --no-root --no-ansi --only main\n ---> Running in fb8882147523\nCreating virtualenv docat in /app/.venv\nInstalling dependencies from lock file\n\nPackage operations: 17 installs, 0 updates, 0 removals\n\n  • Installing idna (3.4)\n  • Installing sniffio (1.3.0)\n  • Installing anyio (3.6.2)\n  • Installing typing-extensions (4.4.0)\n  • Installing click (8.1.3)\n  • Installing h11 (0.14.0)\n  • Installing pydantic (1.10.2)\n  • Installing soupsieve (2.3.2.post1)\n  • Installing six (1.16.0)\n  • Installing starlette (0.20.4)\n  • Installing beautifulsoup4 (4.11.1)\n  • Installing fastapi (0.86.0)\n  • Installing python-multipart (0.0.5)\n  • Installing tinydb (4.7.0)\n  • Installing types-beautifulsoup4 (4.11.6.1)\n  • Installing python-magic (0.4.27)\n  • Installing uvicorn (0.20.0)\nRemoving intermediate container fb8882147523\n ---> a32a950c778d\nStep 17/27 : FROM python:3.11.0-alpine3.15\n ---> c692f3b79c36\nStep 18/27 : RUN apk update &&     apk add --no-cache nginx dumb-init libmagic &&     rm -rf /var/cache/apk/*\n ---> Running in b65c5de62e4d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing dumb-init (1.2.5-r1)\n(2/4) Installing libmagic (5.41-r0)\n(3/4) Installing pcre (8.45-r1)\n(4/4) Installing nginx (1.20.2-r1)\nExecuting nginx-1.20.2-r1.pre-install\nExecuting nginx-1.20.2-r1.post-install\nExecuting busybox-1.34.1-r7.trigger\nOK: 23 MiB in 40 packages\nRemoving intermediate container b65c5de62e4d\n ---> 45bb3f4ea4d4\nStep 19/27 : RUN mkdir -p /var/docat/doc\n ---> Running in 5e4fc3c777da\nRemoving intermediate container 5e4fc3c777da\n ---> d027963c2e54\nStep 20/27 : RUN mkdir -p /var/www/html\n ---> Running in 816cdb4f07cd\nRemoving intermediate container 816cdb4f07cd\n ---> 4eaeae2ebf0a\nStep 21/27 : COPY --from=frontend /app/frontend/build /var/www/html\n ---> 63b2d21dcdec\nStep 22/27 : COPY docat /app/docat\n ---> 2f1e96bc27f5\nStep 23/27 : WORKDIR /app/docat\n ---> Running in 2e4939ee1693\nRemoving intermediate container 2e4939ee1693\n ---> e52abcba57ab\nStep 24/27 : RUN cp docat/nginx/default /etc/nginx/http.d/default.conf\n ---> Running in 9cf460f823c7\nRemoving intermediate container 9cf460f823c7\n ---> ca0be55d2c69\nStep 25/27 : COPY --from=backend /app /app/docat\n ---> 316d3d2b580e\nStep 26/27 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in b4d8bc44204f\nRemoving intermediate container b4d8bc44204f\n ---> 4fe112326cb8\nStep 27/27 : CMD [\"sh\", \"-c\", \"nginx && .venv/bin/python -m uvicorn --host 0.0.0.0 --port 5000 docat.app:app\"]\n ---> Running in d54bac4d14ef\nRemoving intermediate container d54bac4d14ef\n ---> 669aeaa31862\nSuccessfully built 669aeaa31862\nSuccessfully tagged docat:latest\n","stderr":"","imageSize":143404543},"endTime":1672624245453}