{"repository":"https://github.com/ossrs/go-oryx","dockerfilePath":"Dockerfile","startTime":1672548083449,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ossrs/go-oryx'...\n","error":null,"commit":"dd8b87696e704f3c7adaa25449532350ed707b5f"},"originalBuild":{"startTimestamp":1672548084287,"endTimestamp":1672548180892,"error":null,"stdout":"Sending build context to Docker daemon  884.7kB\r\r\nStep 1/13 : FROM ossrs/srs:dev AS build\ndev: Pulling from ossrs/srs\n2d473b07cdd5: Pulling fs layer\n088b857d0e8b: Pulling fs layer\nb50fb828fd1b: Pulling fs layer\ne15850d9f135: Pulling fs layer\n22472607682d: Pulling fs layer\n30e7e9570601: Pulling fs layer\n0702abc2dd8d: Pulling fs layer\ndf2e5eb839da: Pulling fs layer\n005f24f2d6f0: Pulling fs layer\n19cc8522c1d4: Pulling fs layer\n22472607682d: Waiting\ne15850d9f135: Waiting\n005f24f2d6f0: Waiting\ndf2e5eb839da: Waiting\n30e7e9570601: Waiting\n0702abc2dd8d: Waiting\n19cc8522c1d4: Waiting\n088b857d0e8b: Verifying Checksum\n088b857d0e8b: Download complete\ne15850d9f135: Verifying Checksum\ne15850d9f135: Download complete\n2d473b07cdd5: Verifying Checksum\n2d473b07cdd5: Download complete\n30e7e9570601: Verifying Checksum\n30e7e9570601: Download complete\nb50fb828fd1b: Verifying Checksum\nb50fb828fd1b: Download complete\n0702abc2dd8d: Verifying Checksum\n0702abc2dd8d: Download complete\n005f24f2d6f0: Verifying Checksum\n005f24f2d6f0: Download complete\ndf2e5eb839da: Verifying Checksum\ndf2e5eb839da: Download complete\n19cc8522c1d4: Download complete\n2d473b07cdd5: Pull complete\n088b857d0e8b: Pull complete\n22472607682d: Verifying Checksum\n22472607682d: Download complete\nb50fb828fd1b: Pull complete\ne15850d9f135: Pull complete\n22472607682d: Pull complete\n30e7e9570601: Pull complete\n0702abc2dd8d: Pull complete\ndf2e5eb839da: Pull complete\n005f24f2d6f0: Pull complete\n19cc8522c1d4: Pull complete\nDigest: sha256:c443268cc21f01c602246e9d2eaf6fcf961529c971976feb2ca9c9321e18a9db\nStatus: Downloaded newer image for ossrs/srs:dev\n ---> 42e100390769\nStep 2/13 : RUN yum install -y git openssl\n ---> Running in fb27f7908eca\nLoaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: mirror.nsc.liu.se\n * extras: mirror.nsc.liu.se\n * updates: mirror.nsc.liu.se\nPackage git-1.8.3.1-23.el7_8.x86_64 already installed and latest version\nPackage 1:openssl-1.0.2k-25.el7_9.x86_64 already installed and latest version\nNothing to do\nRemoving intermediate container fb27f7908eca\n ---> c2538c5d375e\nStep 3/13 : COPY . /tmp/go-oryx\n ---> 082c4ac8a721\nStep 4/13 : WORKDIR /tmp/go-oryx/httpx-static\n ---> Running in f2aba4855364\nRemoving intermediate container f2aba4855364\n ---> 7e04f83b36f6\nStep 5/13 : RUN CGO_ENABLED=0 GOOS=linux go build -mod=vendor -a -installsuffix cgo  -o objs/httpx-static .\n ---> Running in 3e46fb54ecfd\nRemoving intermediate container 3e46fb54ecfd\n ---> 3e4a7b11bba4\nStep 6/13 : RUN openssl genrsa -out server.key 2048 &&     openssl req -new -x509 -key server.key -out server.crt -days 3650         -subj \"/C=CN/ST=Beijing/L=Beijing/O=Me/OU=Me/CN=ossrs.net\" &&     cp objs/httpx-static /usr/local/bin/httpx-static &&     cp server.* /usr/local/etc/ &&     cp -R html /usr/local/\n ---> Running in f5b16a6f01e3\n\u001b[91mGenerating RSA private key, 2048 bit long modulus\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91me is 65537 (0x10001)\n\u001b[0mRemoving intermediate container f5b16a6f01e3\n ---> cdca8a2412a1\nStep 7/13 : FROM alpine:3.16 AS dist\n3.16: Pulling from library/alpine\nca7dd9ec2225: Already exists\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 8/13 : EXPOSE 80 443\n ---> Running in 05e0d7d3076f\nRemoving intermediate container 05e0d7d3076f\n ---> 43b4d89ca5a3\nStep 9/13 : COPY --from=build /usr/local/bin/httpx-static /usr/local/bin/\n ---> 73b63006015a\nStep 10/13 : COPY --from=build /usr/local/etc/server.* /usr/local/etc/\n ---> 2965990c2a86\nStep 11/13 : COPY --from=build /usr/local/html /usr/local/html\n ---> abd7e433a2b8\nStep 12/13 : WORKDIR /usr/local\n ---> Running in 2794891a4d3c\nRemoving intermediate container 2794891a4d3c\n ---> e5f7918059cc\nStep 13/13 : CMD [\"./bin/httpx-static\",     \"-http\", \"80\", \"-https\", \"443\", \"-root\", \"./html\",     \"-ssk\", \"./etc/server.key\", \"-ssc\", \"./etc/server.crt\"     ]\n ---> Running in caedcc53335b\nRemoving intermediate container caedcc53335b\n ---> e3e5de73985c\nSuccessfully built e3e5de73985c\nSuccessfully tagged go-oryx:latest\n","stderr":"","imageSize":13988447},"repair":{"violations":[{"name":"yumInstallRmVarCacheYum","position":{"start":7,"end":7,"columnStart":4,"columnEnd":30}}],"repairedDockerfile":"############################################################\n# build\n############################################################\nFROM ossrs/srs:dev AS build\n\nRUN yum install -y git openssl\nCOPY . /tmp/go-oryx\nWORKDIR /tmp/go-oryx/httpx-static\n\n# Build for alpine, see https://www.cloudbees.com/blog/building-minimal-docker-containers-for-go-applications\nRUN CGO_ENABLED=0 GOOS=linux go build -mod=vendor -a -installsuffix cgo -o objs/httpx-static .\n\nRUN openssl genrsa -out server.key 2048 && \\\n    openssl req -new -x509 -key server.key -out server.crt -days 3650 \\\n        -subj \"/C=CN/ST=Beijing/L=Beijing/O=Me/OU=Me/CN=ossrs.net\" && \\\n    # Install binary.\n    cp objs/httpx-static /usr/local/bin/httpx-static && \\\n    cp server.* /usr/local/etc/ && \\\n    cp -R html /usr/local/\n\n############################################################\n# dist\n############################################################\nFROM alpine:3.16 AS dist\n\n# HTTP/80, HTTPS/443\nEXPOSE 80 443\n# SRS binary, config files and srs-console.\nCOPY --from=build /usr/local/bin/httpx-static /usr/local/bin/\nCOPY --from=build /usr/local/etc/server.* /usr/local/etc/\nCOPY --from=build /usr/local/html /usr/local/html\n# Default workdir and command.\nWORKDIR /usr/local\nCMD [\"./bin/httpx-static\", \\\n    \"-http\", \"80\", \"-https\", \"443\", \"-root\", \"./html\", \\\n    \"-ssk\", \"./etc/server.key\", \"-ssc\", \"./etc/server.crt\" \\\n    ]\n"},"repairedBuild":{"startTimestamp":1672548181222,"endTimestamp":1672548217900,"error":null,"stdout":"Sending build context to Docker daemon  884.7kB\r\r\nStep 1/13 : FROM ossrs/srs:dev AS build\n ---> 42e100390769\nStep 2/13 : RUN yum install -y git openssl\n ---> Running in 7db06028bc77\nLoaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: mirror.nsc.liu.se\n * extras: mirror.nsc.liu.se\n * updates: mirror.nsc.liu.se\nPackage git-1.8.3.1-23.el7_8.x86_64 already installed and latest version\nPackage 1:openssl-1.0.2k-25.el7_9.x86_64 already installed and latest version\nNothing to do\nRemoving intermediate container 7db06028bc77\n ---> 2e8bb1f94863\nStep 3/13 : COPY . /tmp/go-oryx\n ---> e69483d1f007\nStep 4/13 : WORKDIR /tmp/go-oryx/httpx-static\n ---> Running in a0ea2afe4c9a\nRemoving intermediate container a0ea2afe4c9a\n ---> 3e5844456f3a\nStep 5/13 : RUN CGO_ENABLED=0 GOOS=linux go build -mod=vendor -a -installsuffix cgo -o objs/httpx-static .\n ---> Running in 27eec1f35a09\nRemoving intermediate container 27eec1f35a09\n ---> 66b4f79bd3b5\nStep 6/13 : RUN openssl genrsa -out server.key 2048 &&     openssl req -new -x509 -key server.key -out server.crt -days 3650         -subj \"/C=CN/ST=Beijing/L=Beijing/O=Me/OU=Me/CN=ossrs.net\" &&     cp objs/httpx-static /usr/local/bin/httpx-static &&     cp server.* /usr/local/etc/ &&     cp -R html /usr/local/\n ---> Running in f643e2a7a222\n\u001b[91mGenerating RSA private key, 2048 bit long modulus\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91me is 65537 (0x10001)\n\u001b[0mRemoving intermediate container f643e2a7a222\n ---> 185c0c044931\nStep 7/13 : FROM alpine:3.16 AS dist\n ---> bfe296a52501\nStep 8/13 : EXPOSE 80 443\n ---> Running in 03f54de31afb\nRemoving intermediate container 03f54de31afb\n ---> e3b212fac429\nStep 9/13 : COPY --from=build /usr/local/bin/httpx-static /usr/local/bin/\n ---> ff22772bf4e8\nStep 10/13 : COPY --from=build /usr/local/etc/server.* /usr/local/etc/\n ---> 7b607a70eb6a\nStep 11/13 : COPY --from=build /usr/local/html /usr/local/html\n ---> 6c2e84485478\nStep 12/13 : WORKDIR /usr/local\n ---> Running in da5b444e7e7b\nRemoving intermediate container da5b444e7e7b\n ---> 0278b0509357\nStep 13/13 : CMD [\"./bin/httpx-static\",     \"-http\", \"80\", \"-https\", \"443\", \"-root\", \"./html\",     \"-ssk\", \"./etc/server.key\", \"-ssc\", \"./etc/server.crt\"     ]\n ---> Running in a359f499dfc6\nRemoving intermediate container a359f499dfc6\n ---> 81172e217c7d\nSuccessfully built 81172e217c7d\nSuccessfully tagged go-oryx:latest\n","stderr":"","imageSize":13988443},"endTime":1672548218137}