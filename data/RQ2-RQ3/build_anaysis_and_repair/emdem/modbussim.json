{"repository":"https://github.com/emdem/modbussim","dockerfilePath":"Dockerfile","startTime":1673185409631,"endTime":1673185444166,"clone":{"startTime":1673185409632,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/emdem/modbussim'...\n","error":null,"endTime":1673185410840,"commit":"5394bd7acbf26798ac4ecbbdfa99481bfc09d60b"},"originalBuild":{"startTime":1673185410934,"endTime":1673185434136,"error":null,"stdout":"Sending build context to Docker daemon   2.66MB\r\r\nStep 1/8 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/8 : RUN apk add --no-cache python3 &&   python3 -m ensurepip &&   rm -r /usr/lib/python*/ensurepip &&   pip3 install --upgrade pip setuptools &&   rm -r /root/.cache\n ---> Running in e82dbdf707c2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libbz2 (1.0.8-r4)\n(2/13) Installing libexpat (2.5.0-r0)\n(3/13) Installing libffi (3.4.4-r0)\n(4/13) Installing gdbm (1.23-r0)\n(5/13) Installing xz-libs (5.2.9-r0)\n(6/13) Installing libgcc (12.2.1_git20220924-r4)\n(7/13) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/13) Installing mpdecimal (2.5.1-r1)\n(9/13) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(10/13) Installing ncurses-libs (6.3_p20221119-r0)\n(11/13) Installing readline (8.2.0-r0)\n(12/13) Installing sqlite-libs (3.40.1-r0)\n(13/13) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 60 MiB in 28 packages\nLooking in links: /tmp/tmpi77du_as\nProcessing /tmp/tmpi77du_as/setuptools-65.5.0-py3-none-any.whl\nProcessing /tmp/tmpi77du_as/pip-22.3.1-py3-none-any.whl\nInstalling collected packages: setuptools, pip\nSuccessfully installed pip-22.3.1 setuptools-65.5.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\nRequirement already satisfied: setuptools in /usr/lib/python3.10/site-packages (65.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 35.2 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 65.5.0\n    Uninstalling setuptools-65.5.0:\n      Successfully uninstalled setuptools-65.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container e82dbdf707c2\n ---> 5f6ac4116521\nStep 3/8 : RUN mkdir -p /opt\n ---> Running in b67bd7310914\nRemoving intermediate container b67bd7310914\n ---> 61969b39306e\nStep 4/8 : ADD requirements.txt /opt/.\n ---> 5387b6813fa9\nStep 5/8 : RUN pip3 install -r /opt/requirements.txt\n ---> Running in fd50b964ee67\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 5.3 MB/s eta 0:00:00\nCollecting modbus_tk\n  Downloading modbus_tk-1.1.2.tar.gz (33 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pyserial\n  Downloading pyserial-3.5-py2.py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.6/90.6 kB 9.0 MB/s eta 0:00:00\nCollecting watchdog\n  Downloading watchdog-2.2.1.tar.gz (119 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 119.9/119.9 kB 13.6 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting flasgger\n  Downloading flasgger-0.9.5-py2.py3-none-any.whl (3.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.8/3.8 MB 44.9 MB/s eta 0:00:00\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 22.5 MB/s eta 0:00:00\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 13.6 MB/s eta 0:00:00\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 11.3 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting jsonschema>=3.0.1\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 kB 9.1 MB/s eta 0:00:00\nCollecting PyYAML>=3.0\n  Downloading PyYAML-6.0.tar.gz (124 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.0/125.0 kB 12.1 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting mistune\n  Downloading mistune-2.0.4-py2.py3-none-any.whl (24 kB)\nCollecting six>=1.10.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp310-cp310-musllinux_1_1_x86_64.whl (29 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 6.7 MB/s eta 0:00:00\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 kB 5.8 MB/s eta 0:00:00\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (pyproject.toml): started\n  Building wheel for PyYAML (pyproject.toml): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-6.0-cp310-cp310-linux_x86_64.whl size=45330 sha256=19a410c7ab5b827ed50ed78677ac4ec1da5c5e87f6ea959a8123f6ce019dfbd3\n  Stored in directory: /root/.cache/pip/wheels/06/72/f6/3f89f64cf1943a82e42cdd8e59d7b2aa98769fd48b08019fc7\nSuccessfully built PyYAML\nInstalling collected packages: pyserial, mistune, watchdog, six, PyYAML, pyrsistent, modbus_tk, MarkupSafe, itsdangerous, click, attrs, Werkzeug, jsonschema, Jinja2, flask, flasgger\n\u001b[91m  DEPRECATION: watchdog is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for watchdog: started\n  Running setup.py install for watchdog: finished with status 'done'\n\u001b[91m  DEPRECATION: modbus_tk is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for modbus_tk: started\n  Running setup.py install for modbus_tk: finished with status 'done'\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 PyYAML-6.0 Werkzeug-2.2.2 attrs-22.2.0 click-8.1.3 flasgger-0.9.5 flask-2.2.2 itsdangerous-2.1.2 jsonschema-4.17.3 mistune-2.0.4 modbus_tk-1.1.2 pyrsistent-0.19.3 pyserial-3.5 six-1.16.0 watchdog-2.2.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container fd50b964ee67\n ---> 0f5e83167dab\nStep 6/8 : RUN rm /opt/requirements.txt\n ---> Running in e8ec912db551\nRemoving intermediate container e8ec912db551\n ---> 29a021918ba4\nStep 7/8 : ADD . /opt/\n ---> c142d8b62b97\nStep 8/8 : CMD [\"python3\", \"-u\", \"/opt/src/server.py\"]\n ---> Running in 1d7c5e395b6e\nRemoving intermediate container 1d7c5e395b6e\n ---> a837da0db19b\nSuccessfully built a837da0db19b\nSuccessfully tagged modbussim:latest\n","stderr":"","imageSize":103534229},"repair":{"startTime":1673185434197,"endTime":1673185434267,"violations":[{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":2,"columnEnd":39}},{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":4,"columnEnd":41}}],"repairedDockerfile":"FROM alpine:latest\n\nRUN apk add --no-cache python3 && \\\n  python3 -m ensurepip && \\\n  rm -r /usr/lib/python*/ensurepip && \\\n  pip3 install --no-cache-dir --upgrade pip setuptools && \\\n  rm -r /root/.cache\n\nRUN mkdir -p /opt\nADD requirements.txt /opt/.\nRUN pip3 install --no-cache-dir -r /opt/requirements.txt\nRUN rm /opt/requirements.txt\nADD . /opt/\nCMD [\"python3\", \"-u\", \"/opt/src/server.py\"]\n"},"repairedBuild":{"startTime":1673185434518,"endTime":1673185444093,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t modbussim:latest -f /tmp/dinghy-analysis/emdem/modbussim/Dockerfile ."},"stdout":"Sending build context to Docker daemon   2.66MB\r\r\nStep 1/8 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/8 : RUN apk add --no-cache python3 &&   python3 -m ensurepip &&   rm -r /usr/lib/python*/ensurepip &&   pip3 install --no-cache-dir --upgrade pip setuptools &&   rm -r /root/.cache\n ---> Running in 68ace2391889\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libbz2 (1.0.8-r4)\n(2/13) Installing libexpat (2.5.0-r0)\n(3/13) Installing libffi (3.4.4-r0)\n(4/13) Installing gdbm (1.23-r0)\n(5/13) Installing xz-libs (5.2.9-r0)\n(6/13) Installing libgcc (12.2.1_git20220924-r4)\n(7/13) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/13) Installing mpdecimal (2.5.1-r1)\n(9/13) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(10/13) Installing ncurses-libs (6.3_p20221119-r0)\n(11/13) Installing readline (8.2.0-r0)\n(12/13) Installing sqlite-libs (3.40.1-r0)\n(13/13) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 60 MiB in 28 packages\nLooking in links: /tmp/tmpig5htlk8\nProcessing /tmp/tmpig5htlk8/setuptools-65.5.0-py3-none-any.whl\nProcessing /tmp/tmpig5htlk8/pip-22.3.1-py3-none-any.whl\nInstalling collected packages: setuptools, pip\nSuccessfully installed pip-22.3.1 setuptools-65.5.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\nRequirement already satisfied: setuptools in /usr/lib/python3.10/site-packages (65.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 67.1 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 65.5.0\n    Uninstalling setuptools-65.5.0:\n      Successfully uninstalled setuptools-65.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mrm: can't remove '/root/.cache': No such file or directory\n\u001b[0mRemoving intermediate container 68ace2391889\n","stderr":"The command '/bin/sh -c apk add --no-cache python3 &&   python3 -m ensurepip &&   rm -r /usr/lib/python*/ensurepip &&   pip3 install --no-cache-dir --upgrade pip setuptools &&   rm -r /root/.cache' returned a non-zero code: 1\n"}}