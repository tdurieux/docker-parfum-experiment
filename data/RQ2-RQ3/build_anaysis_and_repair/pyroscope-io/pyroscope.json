{"repository":"https://github.com/pyroscope-io/pyroscope","dockerfilePath":"Dockerfile","startTime":1672793526437,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pyroscope-io/pyroscope'...\n","error":null,"commit":"0ce783903d8d9ff0fea3223687d7a768d22c5a5e"},"originalBuild":{"startTimestamp":1672793528004,"endTimestamp":1672794250597,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t pyroscope:latest -f /tmp/dinghy-analysis/pyroscope-io/pyroscope/Dockerfile ."},"stdout":"Sending build context to Docker daemon  10.42MB\r\r\nStep 1/59 : FROM php:7.4-fpm-alpine3.16 as phpspy-builder\n7.4-fpm-alpine3.16: Pulling from library/php\nca7dd9ec2225: Already exists\n1b78b4fe0ca1: Pulling fs layer\n9d6040f2a28f: Pulling fs layer\n0e2e66b89284: Pulling fs layer\n3b1be5f02bec: Pulling fs layer\n96243f515dda: Pulling fs layer\ne427679e7c26: Pulling fs layer\n759eb390abda: Pulling fs layer\n9820b782a628: Pulling fs layer\na9e6097c1efa: Pulling fs layer\n9820b782a628: Waiting\na9e6097c1efa: Waiting\ne427679e7c26: Waiting\n759eb390abda: Waiting\n96243f515dda: Waiting\n3b1be5f02bec: Waiting\n0e2e66b89284: Verifying Checksum\n0e2e66b89284: Download complete\n9d6040f2a28f: Verifying Checksum\n9d6040f2a28f: Download complete\n1b78b4fe0ca1: Verifying Checksum\n1b78b4fe0ca1: Download complete\n1b78b4fe0ca1: Pull complete\n9d6040f2a28f: Pull complete\ne427679e7c26: Verifying Checksum\ne427679e7c26: Download complete\n3b1be5f02bec: Verifying Checksum\n3b1be5f02bec: Download complete\n0e2e66b89284: Pull complete\n759eb390abda: Verifying Checksum\n759eb390abda: Download complete\n9820b782a628: Download complete\na9e6097c1efa: Verifying Checksum\na9e6097c1efa: Download complete\n3b1be5f02bec: Pull complete\n96243f515dda: Pull complete\ne427679e7c26: Pull complete\n759eb390abda: Pull complete\n9820b782a628: Pull complete\na9e6097c1efa: Pull complete\nDigest: sha256:0aeb129a60daff2874c5c70fcd9d88cdf3015b4fb4cc7c3f1a32a21e84631036\nStatus: Downloaded newer image for php:7.4-fpm-alpine3.16\n ---> 37edad271fae\nStep 2/59 : RUN apk update && apk upgrade     && apk add --update alpine-sdk\n ---> Running in 2f16e310d78d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17041 distinct packages available\n(1/4) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/4) Upgrading libcurl (7.83.1-r4 -> 7.83.1-r5)\n(3/4) Upgrading curl (7.83.1-r4 -> 7.83.1-r5)\n(4/4) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 14 MiB in 33 packages\n(1/29) Installing fakeroot (1.25.3-r3)\n(2/29) Installing libattr (2.5.1-r1)\n(3/29) Installing attr (2.5.1-r1)\n(4/29) Installing pkgconf (1.8.0-r1)\n(5/29) Installing patch (2.7.6-r7)\n(6/29) Installing libgcc (11.2.1_git20220219-r2)\n(7/29) Installing libstdc++ (11.2.1_git20220219-r2)\n(8/29) Installing lzip (1.23-r0)\n(9/29) Installing abuild (3.9.0-r0)\nExecuting abuild-3.9.0-r0.pre-install\n(10/29) Installing binutils (2.38-r3)\n(11/29) Installing libmagic (5.41-r0)\n(12/29) Installing file (5.41-r0)\n(13/29) Installing libgomp (11.2.1_git20220219-r2)\n(14/29) Installing libatomic (11.2.1_git20220219-r2)\n(15/29) Installing gmp (6.2.1-r2)\n(16/29) Installing isl22 (0.22-r0)\n(17/29) Installing mpfr4 (4.1.0-r0)\n(18/29) Installing mpc1 (1.2.1-r0)\n(19/29) Installing gcc (11.2.1_git20220219-r2)\n(20/29) Installing musl-dev (1.2.3-r2)\n(21/29) Installing libc-dev (0.7.2-r3)\n(22/29) Installing g++ (11.2.1_git20220219-r2)\n(23/29) Installing make (4.3-r0)\n(24/29) Installing fortify-headers (1.1-r1)\n(25/29) Installing build-base (0.5-r3)\n(26/29) Installing expat (2.5.0-r0)\n(27/29) Installing pcre2 (10.40-r0)\n(28/29) Installing git (2.36.3-r0)\n(29/29) Installing alpine-sdk (1.0-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 208 MiB in 62 packages\nRemoving intermediate container 2f16e310d78d\n ---> f25785feed27\nStep 3/59 : COPY Makefile Makefile\n ---> 6e80014f24fd\nStep 4/59 : RUN mkdir -p third_party/phpspy\n ---> Running in 0deb6f2ca33f\nRemoving intermediate container 0deb6f2ca33f\n ---> 02853e4c2230\nStep 5/59 : RUN make build-phpspy-dependencies\n ---> Running in c9484e081fed\ncd third_party && cd phpspy_src || (git clone https://github.com/pyroscope-io/phpspy.git phpspy_src && cd phpspy_src)\n\u001b[91m/bin/sh: go: not found\n\u001b[0m\u001b[91m/bin/sh: cd: line 0: can't cd to phpspy_src: No such file or directory\n\u001b[0m\u001b[91mCloning into 'phpspy_src'...\n\u001b[0mcd third_party/phpspy_src && git checkout be3abd72e8e2dd5dd4e61008fcd702f90c6eb238\n\u001b[91mNote: switching to 'be3abd72e8e2dd5dd4e61008fcd702f90c6eb238'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by switching back to a branch.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -c with the switch command. Example:\n\n  git switch -c <new-branch-name>\n\nOr undo this operation with:\n\n  git switch -\n\nTurn off this advice by setting config variable advice.detachedHead to false\n\nHEAD is now at be3abd7 Fix finding php_config.h on Ubuntu. (#6)\n\u001b[0mcd third_party/phpspy_src && USE_ZEND=1 make CFLAGS=\"-DUSE_DIRECT\" || make print-deps-error-message\nmake[1]: Entering directory '/var/www/html/third_party/phpspy_src'\ncc -std=gnu2x -Wall -Werror -Wextra -pedantic -O3 -DUSE_DIRECT -I. $(php-config --includes)  phpspy.c addr_objdump.c pyroscope_api.c phpspy_trace.c -c  -pthread  -fPIC\nar rcs libphpspy.a *.o\nmake[1]: Leaving directory '/var/www/html/third_party/phpspy_src'\ncp third_party/phpspy_src/libphpspy.a third_party/phpspy/libphpspy.a\nRemoving intermediate container c9484e081fed\n ---> 6f3bfd2b7c52\nStep 6/59 : FROM node:16.18-alpine3.16 as js-builder\n16.18-alpine3.16: Pulling from library/node\nca7dd9ec2225: Already exists\n6fb1b25da510: Pulling fs layer\n7604515c95e1: Pulling fs layer\ne6bf7dff8d85: Pulling fs layer\ne6bf7dff8d85: Download complete\n7604515c95e1: Verifying Checksum\n7604515c95e1: Download complete\n6fb1b25da510: Download complete\n6fb1b25da510: Pull complete\n7604515c95e1: Pull complete\ne6bf7dff8d85: Pull complete\nDigest: sha256:15dd66f723aab8b367abc7ac6ed25594ca4653f2ce49ad1505bfbe740ad5190e\nStatus: Downloaded newer image for node:16.18-alpine3.16\n ---> c4ee3c9d7bc1\nStep 7/59 : RUN apk update && apk upgrade &&     apk add --no-cache make\n ---> Running in 2f4a7a271d2e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 16 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container 2f4a7a271d2e\n ---> 2dbf5d2f6c4e\nStep 8/59 : WORKDIR /opt/pyroscope\n ---> Running in ca866833b750\nRemoving intermediate container ca866833b750\n ---> 9e386fbc23d3\nStep 9/59 : COPY scripts ./scripts\n ---> 72449002b0e6\nStep 10/59 : COPY package.json yarn.lock Makefile lerna.json ./\n ---> f8468cbae98a\nStep 11/59 : COPY lib ./lib\n ---> a2c9bd3659f3\nStep 12/59 : COPY packages ./packages\n ---> 2cc1b8a179f8\nStep 13/59 : COPY babel.config.js .eslintrc.js .eslintignore .prettierrc tsconfig.json ./\n ---> 35deb2896ecf\nStep 14/59 : COPY webapp ./webapp\n ---> aff74a0b3560\nStep 15/59 : RUN make install-build-web-dependencies\n ---> Running in 8da7c529236d\nNODE_ENV=production yarn install --frozen-lockfile --ignore-engines\n\u001b[91m/bin/sh: go: not found\n\u001b[0myarn install v1.22.19\n[1/4] Resolving packages...\n\u001b[91mwarning Resolution field \"react@16.14.0\" is incompatible with requested version \"react@^17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react@16.14.0\" is incompatible with requested version \"react@17.0.2\"\nwarning Resolution field \"react-dom@16.14.0\" is incompatible with requested version \"react-dom@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react@16.14.0\" is incompatible with requested version \"react@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react-dom@16.14.0\" is incompatible with requested version \"react-dom@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react@16.14.0\" is incompatible with requested version \"react@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react-dom@16.14.0\" is incompatible with requested version \"react-dom@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react@16.14.0\" is incompatible with requested version \"react@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react-dom@16.14.0\" is incompatible with requested version \"react-dom@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react@16.14.0\" is incompatible with requested version \"react@17.0.2\"\n\u001b[0m\u001b[91mwarning Resolution field \"react-dom@16.14.0\" is incompatible with requested version \"react-dom@17.0.2\"\n\u001b[0m[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@babel/preset-env > @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@7.16.7\" has incorrect peer dependency \"@babel/core@^7.13.0\".\n\u001b[0m\u001b[91mwarning \"@babel/preset-env > @babel/plugin-proposal-class-static-block@7.16.7\" has incorrect peer dependency \"@babel/core@^7.12.0\".\n\u001b[0m\u001b[91mwarning \" > @mui/base@5.0.0-alpha.98\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\nwarning \" > @mui/base@5.0.0-alpha.98\" has incorrect peer dependency \"react-dom@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/base > @mui/utils@5.10.6\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \" > @mui/material@5.10.11\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \" > @mui/material@5.10.11\" has incorrect peer dependency \"react-dom@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/material > @mui/base@5.0.0-alpha.103\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/material > @mui/base@5.0.0-alpha.103\" has incorrect peer dependency \"react-dom@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/material > @mui/system@5.10.10\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/material > @mui/utils@5.10.9\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/material > @mui/system > @mui/private-theming@5.10.9\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \"@mui/material > @mui/system > @mui/styled-engine@5.10.8\" has incorrect peer dependency \"react@^17.0.0 || ^18.0.0\".\n\u001b[0m\u001b[91mwarning \" > postcss-preset-env@7.4.1\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > @csstools/postcss-color-function@1.0.2\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > @csstools/postcss-font-format-keywords@1.0.0\" has unmet peer dependency \"postcss@^8.3\".\nwarning \"postcss-preset-env > @csstools/postcss-hwb-function@1.0.0\" has unmet peer dependency \"postcss@^8.3\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > @csstools/postcss-ic-unit@1.0.0\" has unmet peer dependency \"postcss@^8.3\".\nwarning \"postcss-preset-env > @csstools/postcss-is-pseudo-class@2.0.0\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > @csstools/postcss-normalize-display-values@1.0.0\" has unmet peer dependency \"postcss@^8.3\".\nwarning \"postcss-preset-env > @csstools/postcss-oklab-function@1.0.1\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > @csstools/postcss-progressive-custom-properties@1.2.0\" has unmet peer dependency \"postcss@^8.3\".\nwarning \"postcss-preset-env > autoprefixer@10.4.2\" has unmet peer dependency \"postcss@^8.1.0\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > css-blank-pseudo@3.0.3\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > css-has-pseudo@3.0.4\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > css-prefers-color-scheme@6.0.3\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-attribute-case-insensitive@5.0.0\" has unmet peer dependency \"postcss@^8.0.2\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-clamp@4.0.0\" has unmet peer dependency \"postcss@^8.4.6\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-color-functional-notation@4.2.2\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-color-hex-alpha@8.0.3\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-color-rebeccapurple@7.0.2\" has unmet peer dependency \"postcss@^8.3\".\nwarning \"postcss-preset-env > postcss-custom-media@8.0.0\" has unmet peer dependency \"postcss@^8.1.0\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-custom-properties@12.1.4\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-custom-selectors@6.0.0\" has unmet peer dependency \"postcss@^8.1.2\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-dir-pseudo-class@6.0.4\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > postcss-double-position-gradients@3.1.0\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-env-function@4.0.5\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-focus-visible@6.0.4\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > postcss-focus-within@5.0.4\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-font-variant@5.0.0\" has unmet peer dependency \"postcss@^8.1.0\".\nwarning \"postcss-preset-env > postcss-gap-properties@3.0.3\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-image-set-function@4.0.6\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-initial@4.0.1\" has unmet peer dependency \"postcss@^8.0.0\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-lab-function@4.1.1\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > postcss-logical@5.0.4\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-media-minmax@5.0.0\" has unmet peer dependency \"postcss@^8.1.0\".\nwarning \"postcss-preset-env > postcss-nesting@10.1.2\" has unmet peer dependency \"postcss@^8.3\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-overflow-shorthand@3.0.3\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-page-break@3.0.4\" has unmet peer dependency \"postcss@^8\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-place@7.0.4\" has unmet peer dependency \"postcss@^8.4\".\nwarning \"postcss-preset-env > postcss-pseudo-class-any-link@7.1.1\" has unmet peer dependency \"postcss@^8.4\".\n\u001b[0m\u001b[91mwarning \"postcss-preset-env > postcss-replace-overflow-wrap@4.0.0\" has unmet peer dependency \"postcss@^8.0.3\".\nwarning \"postcss-preset-env > postcss-selector-not@5.0.0\" has unmet peer dependency \"postcss@^8.1.0\".\n\u001b[0m\u001b[91mwarning \" > react-flot@1.3.0\" has unmet peer dependency \"jsdom@^9.6.0\".\n\u001b[0m\u001b[91mwarning \" > react-notifications-component@3.1.0\" has incorrect peer dependency \"react@^17.0.1\".\n\u001b[0m\u001b[91mwarning \" > @storybook/addon-essentials@6.5.10\" has incorrect peer dependency \"@babel/core@^7.9.6\".\n\u001b[0m\u001b[91mwarning \" > @storybook/react@6.5.10\" has unmet peer dependency \"require-from-string@^2.0.2\".\n\u001b[0m\u001b[91mwarning \" > cypress-image-snapshot@4.0.1\" has incorrect peer dependency \"cypress@^4.5.0\".\nwarning \"cypress-image-snapshot > jest-image-snapshot@4.2.0\" has incorrect peer dependency \"jest@>=20 <=26\".\n\u001b[0m\u001b[91mwarning \" > eslint-config-airbnb-typescript@14.0.2\" has incorrect peer dependency \"@typescript-eslint/eslint-plugin@^4.29.3\".\nwarning \" > eslint-config-airbnb-typescript@14.0.2\" has incorrect peer dependency \"@typescript-eslint/parser@^4.29.3\".\n\u001b[0m\u001b[91mwarning \" > eslint-plugin-react-hooks@4.0.0\" has incorrect peer dependency \"eslint@^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0\".\n\u001b[0m\u001b[91mwarning \" > lerna-watch@1.0.0\" has incorrect peer dependency \"lerna@^3.22\".\n\u001b[0m\u001b[91mwarning \" > monaco-editor-webpack-plugin@1.9.1\" has incorrect peer dependency \"webpack@^4.5.0\".\n\u001b[0m\u001b[91mwarning \" > monaco-editor-webpack-plugin@1.9.1\" has unmet peer dependency \"monaco-editor@0.19.x || 0.20.x\".\n\u001b[0m\u001b[91mwarning \" > optimize-css-assets-webpack-plugin@6.0.1\" has incorrect peer dependency \"webpack@^4.0.0\".\n\u001b[0m\u001b[91mwarning \"workspace-aggregator-46fd6e1d-d0da-4644-8276-83228e61c6ec > @pyroscope/datasource-plugin > @grafana/ui > @grafana/slate-react > slate-react-placeholder@0.2.9\" has unmet peer dependency \"slate-react@>=0.22.0\".\n\u001b[0m[4/4] Building fresh packages...\n$ yarn run web-postinstall\nyarn run v1.22.19\n$ scripts/web-postinstall.js\nDone in 0.17s.\nDone in 98.55s.\nRemoving intermediate container 8da7c529236d\n ---> 04e0ffac4c3e\nStep 16/59 : ARG EXTRA_METADATA=\"\"\n ---> Running in 0ea4ace24add\nRemoving intermediate container 0ea4ace24add\n ---> a173a32c9276\nStep 17/59 : RUN EXTRA_METADATA=$EXTRA_METADATA make assets-release\n ---> Running in 08be788f16ef\nrm -rf webapp/public/assets\n\u001b[91m/bin/sh: go: not found\n\u001b[0mrm -rf webapp/public/*.html\nyarn build\nyarn run v1.22.19\n$ yarn run build:webapp\n$ lerna run build --scope=@pyroscope/webapp --include-dependencies\n\u001b[91mlerna\u001b[0m\u001b[91m notice cli v4.0.0\n\u001b[0m\u001b[91mlerna info versioning independent\n\u001b[0m\u001b[91mlerna notice filter\u001b[0m\u001b[91m including \"@pyroscope/webapp\"\n\u001b[0m\u001b[91mlerna notice filter\u001b[0m\u001b[91m including dependencies\n\u001b[0m\u001b[91mlerna info filter [ '@pyroscope/webapp' ]\n\u001b[0m\u001b[91mlerna info Executing command in 3 packages: \"yarn run build\"\n\u001b[0m\u001b[91mlerna\u001b[0m\u001b[91m info\u001b[0m\u001b[91m \u001b[0m\u001b[91mrun\u001b[0m\u001b[91m Ran npm script 'build' in '@pyroscope/models' in 2.0s:\n\u001b[0m$ tsc -p tsconfig.json\n\u001b[91mlerna info \u001b[0m\u001b[91mrun Ran npm script 'build' in '@pyroscope/flamegraph' in 18.9s:\n\u001b[0m$ yarn build:types && yarn build:lib\n$ tsc -p tsconfig.json --emitDeclarationOnly && downlevel-dts dist dist\n$ NODE_ENV=production webpack --config ../../scripts/webpack/webpack.flamegraph.ts\nasset index.node.js 394 KiB [emitted] [minimized] (name: index)\nasset index.css 32.1 KiB [emitted] [minimized] (name: index)\nEntrypoint index 426 KiB = index.css 32.1 KiB index.node.js 394 KiB\norphan modules 1.5 MiB (javascript) 19.2 KiB (runtime) [orphan] 844 modules\nruntime modules 1.04 KiB 5 modules\nbuilt modules 1.02 MiB (javascript) 32.2 KiB (css/mini-extract) [built]\n  modules by path ../../ 211 KiB (javascript) 14.5 KiB (css/mini-extract)\n    javascript modules 211 KiB 30 modules\n    css modules 14.5 KiB\n      modules by path ../../webapp/javascript/ui/ 8.59 KiB 7 modules\n      css ../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!../../webapp/sass/variables.css 3.57 KiB [built] [code generated]\n      css ../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!../../node_modules/@szhsin/react-menu/dist/index.css 2.3 KiB [built] [code generated]\n  modules by path ./src/ 17.8 KiB (css/mini-extract) 832 KiB (javascript)\n    modules by path ./src/FlameGraph/ 3.6 KiB 10 modules\n    modules by path ./src/*.scss 4.19 KiB 2 modules\n    + 3 modules\n  external \"react\" 42 bytes [built] [code generated]\nwebpack 5.71.0 compiled successfully in 7669 ms\n\nasset index.js 391 KiB [emitted] [minimized] [big] (name: index)\nasset index.css 32.1 KiB [compared for emit] [minimized] (name: index)\nEntrypoint index [big] 423 KiB = index.css 32.1 KiB index.js 391 KiB\norphan modules 1.49 MiB (javascript) 19.2 KiB (runtime) [orphan] 841 modules\nruntime modules 1.25 KiB 6 modules\nbuilt modules 1.01 MiB (javascript) 32.2 KiB (css/mini-extract) [built]\n  modules by path ../../ 210 KiB (javascript) 14.5 KiB (css/mini-extract)\n    javascript modules 210 KiB 29 modules\n    css modules 14.5 KiB\n      modules by path ../../webapp/javascript/ui/ 8.59 KiB 7 modules\n      + 2 modules\n  modules by path ./src/ 17.8 KiB (css/mini-extract) 824 KiB (javascript)\n    modules by path ./src/FlameGraph/ 3.6 KiB 10 modules\n    modules by path ./src/*.scss 4.19 KiB 2 modules\n    + 3 modules\n  external \"react\" 42 bytes [built] [code generated]\n  external \"react-dom\" 42 bytes [built] [code generated]\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  index.js (391 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  index (423 KiB)\n      index.css\n      index.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.71.0 compiled with 3 warnings in 7659 ms\n\u001b[91mlerna info run\u001b[0m\u001b[91m Ran npm script 'build' in '@pyroscope/webapp' in 31.7s:\n\u001b[0m$ yarn run clean && yarn run build:standalone && yarn run build:webapp\n$ rm -rf public/assets && rm -rf public/*.html\n$ webpack --config ../scripts/webpack/webpack.standalone.ts\nasset ../../webapp/public/standalone.html 589 KiB [emitted] [big]\nasset app.js 451 KiB [emitted] [minimized] [big] (name: app) 1 related asset\nasset styles.js 0 bytes [emitted] [minimized] (name: styles)\nEntrypoint app [big] 451 KiB = app.bdc482f5d1aca0ad26d5.css 0 bytes app.js 451 KiB\nEntrypoint styles 0 bytes = styles.bdc482f5d1aca0ad26d5.css 0 bytes styles.js 0 bytes\norphan modules 1.55 MiB (javascript) 21 KiB (runtime) [orphan] 827 modules\nruntime modules 2.25 KiB 6 modules\ncacheable modules 1.01 MiB (javascript) 134 KiB (css/mini-extract)\n  modules by path ../ 215 KiB (javascript) 96.5 KiB (css/mini-extract)\n    modules by path ../node_modules/ 212 KiB (javascript) 46.6 KiB (css/mini-extract)\n      javascript modules 212 KiB 34 modules\n      css modules 46.6 KiB 3 modules\n    modules by path ../packages/pyroscope-flamegraph/ 49.9 KiB (css/mini-extract) 3.36 KiB (javascript) 16 modules\n  modules by path ./ 37.1 KiB (css/mini-extract) 817 KiB (javascript)\n    modules by path ./javascript/ 8.57 KiB (css/mini-extract) 817 KiB (javascript)\n      modules by path ./javascript/ui/*.scss 8.49 KiB 6 modules\n      + 2 modules\n    modules by path ./sass/ 50 bytes (javascript) 28.5 KiB (css/mini-extract)\n      ./sass/standalone.scss 50 bytes [built] [code generated]\n      + 2 modules\n\nWARNING in ./javascript/util/buildInfo.ts 7:4-13\nShould not import the named export 'version' (imported as 'jsVersion') from default-exporting module (only default export is available soon)\n @ ./javascript/components/Footer.tsx 5:0-65 25:22-31 26:33-50 82:15-24\n @ ./javascript/standalone.tsx 6:0-41 18:43-49\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  app.js (451 KiB)\n  ../../webapp/public/standalone.html (589 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (451 KiB)\n      app.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.71.0 compiled with 4 warnings in 10418 ms\n$ NODE_ENV=production webpack --config ../scripts/webpack/webpack.prod.ts\nassets by info 2.18 MiB [immutable]\n  assets by path static/img/ 462 KiB 5 assets\n  assets by path *.js 1.58 MiB\n    asset app.ef3489fb0f6288d17e8d.js 1.58 MiB [emitted] [immutable] [minimized] [big] (name: app) 1 related asset\n    asset styles.ef3489fb0f6288d17e8d.js 33 bytes [emitted] [immutable] [minimized] (name: styles)\n  assets by path *.css 153 KiB\n    asset app.ef3489fb0f6288d17e8d.css 86.9 KiB [emitted] [immutable] [minimized] (name: app) 1 related asset\n    asset styles.ef3489fb0f6288d17e8d.css 66 KiB [emitted] [immutable] [minimized] (name: styles) 1 related asset\nassets by path images/ 183 KiB\n  assets by path images/*.svg 5.1 KiB\n    asset images/logo-v3-small.svg 3.57 KiB [emitted] [from: images/logo-v3-small.svg] [copied]\n    asset images/comment.svg 1.53 KiB [emitted] [from: images/comment.svg] [copied]\n  asset images/logo-v3-small.png 163 KiB [emitted] [from: images/logo-v3-small.png] [copied]\n  asset images/favicon.ico 15 KiB [emitted] [from: images/favicon.ico] [copied]\nasset ../index.html 901 bytes [emitted]\nEntrypoint app [big] 1.67 MiB (5.74 MiB) = app.ef3489fb0f6288d17e8d.css 86.9 KiB app.ef3489fb0f6288d17e8d.js 1.58 MiB 6 auxiliary assets\nEntrypoint styles 66.1 KiB (81.5 KiB) = styles.ef3489fb0f6288d17e8d.css 66 KiB styles.ef3489fb0f6288d17e8d.js 33 bytes 2 auxiliary assets\norphan modules 4.7 MiB (javascript) 70.5 KiB (runtime) [orphan] 2529 modules\nruntime modules 2.37 KiB 7 modules\ncacheable modules 3.59 MiB (javascript) 150 KiB (css/mini-extract)\n  modules by path ../node_modules/ 1.5 MiB (javascript) 51.8 KiB (css/mini-extract)\n    javascript modules 1.5 MiB 220 modules\n    css modules 51.8 KiB 4 modules\n  modules by path ./ 80.5 KiB (css/mini-extract) 2.09 MiB (javascript)\n    modules by path ./javascript/ 58.5 KiB (css/mini-extract) 2.09 MiB (javascript) 63 modules\n    modules by path ./sass/ 50 bytes (javascript) 22 KiB (css/mini-extract) 3 modules\n  modules by path ../packages/pyroscope-flamegraph/src/ 17.8 KiB\n    modules by path ../packages/pyroscope-flamegraph/src/FlameGraph/ 3.6 KiB 10 modules\n    modules by path ../packages/pyroscope-flamegraph/src/*.scss 4.2 KiB 2 modules\n    css ../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!../packages/pyroscope-flamegraph/src/sass/flamegraph.scss 8.47 KiB [built] [code generated]\n    css ../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!../packages/pyroscope-flamegraph/src/Tooltip/Tooltip.module.scss 1.51 KiB [built] [code generated]\n\nWARNING in ./javascript/util/buildInfo.ts 7:4-13\nShould not import the named export 'version' (imported as 'jsVersion') from default-exporting module (only default export is available soon)\n @ ./javascript/components/Footer.tsx 5:0-65 25:22-31 26:33-50 82:15-24\n @ ./javascript/index.tsx 9:0-47 85:98-104\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  static/img/heatmapSelectionPreview.b737abc2.gif (292 KiB)\n  app.ef3489fb0f6288d17e8d.js (1.58 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (1.67 MiB)\n      app.ef3489fb0f6288d17e8d.css\n      app.ef3489fb0f6288d17e8d.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.71.0 compiled with 4 warnings in 14942 ms\n\u001b[91mlerna success run\u001b[0m\u001b[91m Ran npm script 'build' in 3 packages in 52.6s:\n\u001b[0m\u001b[91mlerna success\u001b[0m\u001b[91m - @pyroscope/webapp\nlerna\u001b[0m\u001b[91m success\u001b[0m\u001b[91m - @pyroscope/flamegraph\nlerna success\u001b[0m\u001b[91m - @pyroscope/models\n\u001b[0mDone in 53.26s.\nRemoving intermediate container 08be788f16ef\n ---> d1fb23e6f117\nStep 18/59 : FROM alpine:3.16 as ebpf-builder\n ---> bfe296a52501\nStep 19/59 : RUN apk update && apk upgrade &&     apk add cmake make binutils gcc g++ clang musl-dev linux-headers zlib-dev elfutils-dev libelf-static zlib-static git openssh\n ---> Running in f85ae46c5077\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 6 MiB in 14 packages\n(1/54) Installing libgcc (11.2.1_git20220219-r2)\n(2/54) Installing libstdc++ (11.2.1_git20220219-r2)\n(3/54) Installing binutils (2.38-r3)\n(4/54) Installing libffi (3.4.2-r1)\n(5/54) Installing xz-libs (5.2.5-r1)\n(6/54) Installing libxml2 (2.9.14-r2)\n(7/54) Installing llvm13-libs (13.0.1-r2)\n(8/54) Installing clang-libs (13.0.1-r1)\n(9/54) Installing clang (13.0.1-r1)\n(10/54) Installing libacl (2.3.1-r0)\n(11/54) Installing libbz2 (1.0.8-r1)\n(12/54) Installing expat (2.5.0-r0)\n(13/54) Installing lz4-libs (1.9.3-r1)\n(14/54) Installing zstd-libs (1.5.2-r1)\n(15/54) Installing libarchive (3.6.1-r1)\n(16/54) Installing ca-certificates (20220614-r0)\n(17/54) Installing brotli-libs (1.0.9-r6)\n(18/54) Installing nghttp2-libs (1.47.0-r0)\n(19/54) Installing libcurl (7.83.1-r5)\n(20/54) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(21/54) Installing ncurses-libs (6.3_p20220521-r0)\n(22/54) Installing rhash-libs (1.4.2-r2)\n(23/54) Installing libuv (1.44.1-r0)\n(24/54) Installing cmake (3.23.1-r0)\n(25/54) Installing fts (1.2.7-r1)\n(26/54) Installing libelf (0.186-r0)\n(27/54) Installing pkgconf (1.8.0-r1)\n(28/54) Installing xz-dev (5.2.5-r1)\n(29/54) Installing zlib-dev (1.2.12-r3)\n(30/54) Installing elfutils-dev (0.186-r0)\n(31/54) Installing libgomp (11.2.1_git20220219-r2)\n(32/54) Installing libatomic (11.2.1_git20220219-r2)\n(33/54) Installing gmp (6.2.1-r2)\n(34/54) Installing isl22 (0.22-r0)\n(35/54) Installing mpfr4 (4.1.0-r0)\n(36/54) Installing mpc1 (1.2.1-r0)\n(37/54) Installing gcc (11.2.1_git20220219-r2)\n(38/54) Installing musl-dev (1.2.3-r2)\n(39/54) Installing libc-dev (0.7.2-r3)\n(40/54) Installing g++ (11.2.1_git20220219-r2)\n(41/54) Installing pcre2 (10.40-r0)\n(42/54) Installing git (2.36.3-r0)\n(43/54) Installing libelf-static (0.186-r0)\n(44/54) Installing linux-headers (5.16.7-r1)\n(45/54) Installing make (4.3-r0)\n(46/54) Installing openssh-keygen (9.0_p1-r2)\n(47/54) Installing libedit (20210910.3.1-r0)\n(48/54) Installing openssh-client-common (9.0_p1-r2)\n(49/54) Installing openssh-client-default (9.0_p1-r2)\n(50/54) Installing openssh-sftp-server (9.0_p1-r2)\n(51/54) Installing openssh-server-common (9.0_p1-r2)\n(52/54) Installing openssh-server (9.0_p1-r2)\n(53/54) Installing openssh (9.0_p1-r2)\n(54/54) Installing zlib-static (1.2.12-r3)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 486 MiB in 68 packages\nRemoving intermediate container f85ae46c5077\n ---> ec5add5b4cc2\nStep 20/59 : ADD third_party/libbpf/Makefile /build/libbpf/\n ---> c4b02fb101f7\nStep 21/59 : RUN make -C /build/libbpf/\n ---> Running in dde6202f1918\nmake: Entering directory '/build/libbpf'\ntest -d src || git clone https://github.com/libbpf/libbpf src\n\u001b[91mCloning into 'src'...\n\u001b[0mcd src && git checkout v0.8.1\n\u001b[91mNote: switching to 'v0.8.1'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by switching back to a branch.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -c with the switch command. Example:\n\n  git switch -c <new-branch-name>\n\nOr undo this operation with:\n\n  git switch -\n\nTurn off this advice by setting config variable advice.detachedHead to false\n\nHEAD is now at d4fc7a5 libbpf: v0.8.1 release\n\u001b[0mPREFIX=/build/libbpf/lib make -C src/src -j16 install\nmake[1]: Entering directory '/build/libbpf/src/src'\n  MKDIR    staticobjs\n  MKDIR    sharedobjs\n  INSTALL  bpf.h libbpf.h btf.h libbpf_common.h libbpf_legacy.h xsk.h bpf_helpers.h bpf_helper_defs.h bpf_tracing.h bpf_endian.h bpf_core_read.h skel_internal.h libbpf_version.h usdt.bpf.h\n  CC       staticobjs/bpf.o\n  CC       staticobjs/btf.o\n  CC       staticobjs/libbpf.o\n  CC       staticobjs/libbpf_errno.o\n  CC       staticobjs/netlink.o\n  CC       staticobjs/nlattr.o\n  CC       staticobjs/str_error.o\n  CC       staticobjs/libbpf_probes.o\n  CC       staticobjs/xsk.o\n  CC       staticobjs/bpf_prog_linfo.o\n  CC       staticobjs/btf_dump.o\n  CC       staticobjs/hashmap.o\n  CC       staticobjs/ringbuf.o\n  CC       staticobjs/strset.o\n  CC       staticobjs/linker.o\n  CC       staticobjs/gen_loader.o\n  CC       staticobjs/relo_core.o\n  CC       staticobjs/usdt.o\n  CC       sharedobjs/bpf.o\n  CC       sharedobjs/btf.o\n  CC       sharedobjs/libbpf.o\n  CC       sharedobjs/libbpf_errno.o\n  CC       sharedobjs/netlink.o\n  CC       sharedobjs/nlattr.o\n  CC       sharedobjs/str_error.o\n  CC       sharedobjs/libbpf_probes.o\n  CC       sharedobjs/bpf_prog_linfo.o\n  CC       sharedobjs/xsk.o\n  CC       sharedobjs/btf_dump.o\n  CC       sharedobjs/hashmap.o\n  CC       sharedobjs/ringbuf.o\n  CC       sharedobjs/strset.o\n  CC       sharedobjs/linker.o\n  CC       sharedobjs/gen_loader.o\n  CC       sharedobjs/relo_core.o\n  CC       sharedobjs/usdt.o\n  INSTALL  ./libbpf.pc\n  CC       libbpf.so.0.8.1\n  AR       libbpf.a\n  INSTALL  ./libbpf.a ./libbpf.so ./libbpf.so.0 ./libbpf.so.0.8.1\nmake[1]: Leaving directory '/build/libbpf/src/src'\nmake: Leaving directory '/build/libbpf'\nRemoving intermediate container dde6202f1918\n ---> 63212b1d3aa5\nStep 22/59 : ADD third_party/bcc/Makefile /build/bcc/\n ---> 82cdf6e448a6\nStep 23/59 : RUN make -C /build/bcc/\n ---> Running in d57a598e2994\nmake: Entering directory '/build/bcc'\ntest -d src || git clone https://github.com/korniltsev/bcc src\n\u001b[91mCloning into 'src'...\n\u001b[0mcd src && git checkout b9554b585afe18540ba98dde5b667e5b4036f479\n\u001b[91mNote: switching to 'b9554b585afe18540ba98dde5b667e5b4036f479'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by switching back to a branch.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -c with the switch command. Example:\n\n  git switch -c <new-branch-name>\n\nOr undo this operation with:\n\n  git switch -\n\nTurn off this advice by setting config variable advice.detachedHead to false\n\nHEAD is now at b9554b58 fix: build\n\u001b[0mtest -d src/build && rm -rf src/build || echo bcc src/build dir does not exits\nbcc src/build dir does not exits\nmkdir src/build\ncd src/build \\\n\t&& cmake ../build-syms  \\\n\t\t-DCMAKE_C_COMPILER=clang \\\n\t\t-DCMAKE_CXX_COMPILER=clang++ \\\n\t\t-DCMAKE_BUILD_TYPE=Release \\\n\t\t-DCMAKE_INSTALL_PREFIX=/build/bcc/lib \\\n        \t\t&& make -j16 install\n\u001b[91mCMake Warning (dev) in CMakeLists.txt:\n  No project() command is present.  The top-level CMakeLists.txt file must\n  contain a literal, direct call to the project() command.  Add a line of\n  code such as\n\n    project(ProjectName)\n\n  near the top of the file, but after cmake_minimum_required().\n\n  CMake is pretending there is a \"project(Project)\" command on the first\n  line.\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n\u001b[0m-- The C compiler identification is Clang 13.0.1\n-- The CXX compiler identification is Clang 13.0.1\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working C compiler: /usr/bin/clang - skipped\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/clang++ - skipped\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n\u001b[91mCMake Warning (dev) in CMakeLists.txt:\n  No cmake_minimum_required command is present.  A line of code such as\n\n    cmake_minimum_required(VERSION 3.23)\n\n  should be added at the top of the file.  The version specified may be lower\n  if you wish to support older CMake versions for this project.  For more\n  information run \"cmake --help-policy CMP0000\".\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n\u001b[0m-- Configuring done\n-- Generating done\n-- Build files have been written to: /build/bcc/src/build\nmake[1]: Entering directory '/build/bcc/src/build'\nmake[2]: Entering directory '/build/bcc/src/build'\nmake[3]: Entering directory '/build/bcc/src/build'\nmake[3]: Entering directory '/build/bcc/src/build'\nmake[3]: Leaving directory '/build/bcc/src/build'\nmake[3]: Leaving directory '/build/bcc/src/build'\nmake[3]: Entering directory '/build/bcc/src/build'\nmake[3]: Entering directory '/build/bcc/src/build'\n[  8%] Building CXX object CMakeFiles/bcc-syms.dir/build/bcc/src/src/cc/bcc_syms.o\n[ 16%] Building C object CMakeFiles/bcc-syms-static.dir/build/bcc/src/src/cc/bcc_elf.o\n[ 25%] Building CXX object CMakeFiles/bcc-syms-static.dir/build/bcc/src/src/cc/bcc_syms.o\n[ 33%] Building C object CMakeFiles/bcc-syms.dir/build/bcc/src/src/cc/bcc_elf.o\n[ 41%] Building C object CMakeFiles/bcc-syms-static.dir/build/bcc/src/src/cc/bcc_perf_map.o\n[ 50%] Building C object CMakeFiles/bcc-syms.dir/build/bcc/src/src/cc/bcc_perf_map.o\n[ 66%] Building C object CMakeFiles/bcc-syms-static.dir/build/bcc/src/src/cc/bcc_proc.o\n[ 66%] Building CXX object CMakeFiles/bcc-syms-static.dir/build/bcc/src/src/cc/common.o\n[ 75%] Building CXX object CMakeFiles/bcc-syms.dir/build/bcc/src/src/cc/common.o\n[ 83%] Building C object CMakeFiles/bcc-syms.dir/build/bcc/src/src/cc/bcc_proc.o\n[ 91%] Linking CXX static library libbcc-syms.a\n[100%] Linking CXX shared library libbcc-syms.so\nmake[3]: Leaving directory '/build/bcc/src/build'\n[100%] Built target bcc-syms-static\nmake[3]: Leaving directory '/build/bcc/src/build'\n[100%] Built target bcc-syms\nmake[2]: Leaving directory '/build/bcc/src/build'\nInstall the project...\n-- Install configuration: \"Release\"\n-- Installing: /build/bcc/lib/lib/libbcc-syms.so\n-- Installing: /build/bcc/lib/lib/libbcc-syms.a\n-- Installing: /build/bcc/lib/include/bcc_syms/bcc_syms.h\n-- Installing: /build/bcc/lib/include/bcc_syms/bcc_proc.h\nmake[1]: Leaving directory '/build/bcc/src/build'\nmake: Leaving directory '/build/bcc'\nRemoving intermediate container d57a598e2994\n ---> 61ae1b595a0e\nStep 24/59 : ADD pkg/agent/ebpfspy/bpf/Makefile pkg/agent/ebpfspy/bpf/profile.bpf.c pkg/agent/ebpfspy/bpf/profile.bpf.h /build/profile.bpf/\n ---> 3bbf629e2917\nStep 25/59 : RUN CFLAGS=-I/build/libbpf/lib/include make -C /build/profile.bpf\n ---> Running in 09da1c88ada0\nmake: Entering directory '/build/profile.bpf'\nwget https://raw.githubusercontent.com/iovisor/bcc/798a1056903b57687fd9d30a43c64c7a4402934c/libbpf-tools/x86/vmlinux_518.h -O vmlinux.h\n\u001b[91mConnecting to raw.githubusercontent.com (185.199.110.133:443)\n\u001b[0m\u001b[91msaving to 'vmlinux.h'\n\u001b[0m\u001b[91mvmlinux.h            100% |********************************| 2730k  0:00:00 ETA\n\u001b[0m\u001b[91m'vmlinux.h' saved\n\u001b[0mclang -I/build/libbpf/lib/include -ggdb -gdwarf -O2 -Wall -fpie -Wno-unused-variable -Wno-unused-function -target bpf -D__TARGET_ARCH_x86 -I. -c profile.bpf.c -o profile.bpf.o\nmake: Leaving directory '/build/profile.bpf'\nRemoving intermediate container 09da1c88ada0\n ---> 677f155cdf86\nStep 26/59 : FROM golang:1.19-alpine3.16 AS go-builder\n1.19-alpine3.16: Pulling from library/golang\nca7dd9ec2225: Already exists\nc41ae7ad2b39: Pulling fs layer\n20236f47f9be: Pulling fs layer\n74a276da2a69: Pulling fs layer\n74a276da2a69: Verifying Checksum\n74a276da2a69: Download complete\nc41ae7ad2b39: Download complete\nc41ae7ad2b39: Pull complete\n20236f47f9be: Verifying Checksum\n20236f47f9be: Download complete\n20236f47f9be: Pull complete\n74a276da2a69: Pull complete\nDigest: sha256:4b4f7127b01b372115ed9054abc6de0a0b3fdea224561b354af7bb6e946acaa9\nStatus: Downloaded newer image for golang:1.19-alpine3.16\n ---> d227b49ae926\nStep 27/59 : RUN apk update && apk upgrade &&     apk add --no-cache make git zstd gcc g++ libc-dev musl-dev bash zlib-dev elfutils-dev libelf-static zlib-static     linux-headers\n ---> Running in 2d7e17aba141\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17038 distinct packages available\n(1/1) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 6 MiB in 15 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/37) Installing ncurses-libs (6.3_p20220521-r0)\n(3/37) Installing readline (8.1.2-r0)\n(4/37) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/37) Installing libbz2 (1.0.8-r1)\n(6/37) Installing fts (1.2.7-r1)\n(7/37) Installing xz-libs (5.2.5-r1)\n(8/37) Installing libelf (0.186-r0)\n(9/37) Installing pkgconf (1.8.0-r1)\n(10/37) Installing xz-dev (5.2.5-r1)\n(11/37) Installing zlib-dev (1.2.12-r3)\n(12/37) Installing elfutils-dev (0.186-r0)\n(13/37) Installing libgcc (11.2.1_git20220219-r2)\n(14/37) Installing libstdc++ (11.2.1_git20220219-r2)\n(15/37) Installing binutils (2.38-r3)\n(16/37) Installing libgomp (11.2.1_git20220219-r2)\n(17/37) Installing libatomic (11.2.1_git20220219-r2)\n(18/37) Installing gmp (6.2.1-r2)\n(19/37) Installing isl22 (0.22-r0)\n(20/37) Installing mpfr4 (4.1.0-r0)\n(21/37) Installing mpc1 (1.2.1-r0)\n(22/37) Installing gcc (11.2.1_git20220219-r2)\n(23/37) Installing musl-dev (1.2.3-r2)\n(24/37) Installing libc-dev (0.7.2-r3)\n(25/37) Installing g++ (11.2.1_git20220219-r2)\n(26/37) Installing brotli-libs (1.0.9-r6)\n(27/37) Installing nghttp2-libs (1.47.0-r0)\n(28/37) Installing libcurl (7.83.1-r5)\n(29/37) Installing expat (2.5.0-r0)\n(30/37) Installing pcre2 (10.40-r0)\n(31/37) Installing git (2.36.3-r0)\n(32/37) Installing libelf-static (0.186-r0)\n(33/37) Installing linux-headers (5.16.7-r1)\n(34/37) Installing make (4.3-r0)\n(35/37) Installing zlib-static (1.2.12-r3)\n(36/37) Installing zstd-libs (1.5.2-r1)\n(37/37) Installing zstd (1.5.2-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 207 MiB in 52 packages\nRemoving intermediate container 2d7e17aba141\n ---> 619aa2cdb76b\nStep 28/59 : WORKDIR /opt/pyroscope\n ---> Running in 598c5c6e08a9\nRemoving intermediate container 598c5c6e08a9\n ---> b3e3baaec123\nStep 29/59 : COPY third_party/phpspy/phpspy.h /opt/pyroscope/third_party/phpspy/phpspy.h\n ---> 837e1ce76d33\nStep 30/59 : COPY --from=phpspy-builder /var/www/html/third_party/phpspy/libphpspy.a /opt/pyroscope/third_party/phpspy/libphpspy.a\n ---> 63f2f8be4a20\nStep 31/59 : COPY --from=js-builder /opt/pyroscope/webapp/public ./webapp/public\n ---> a9f0b05321a5\nStep 32/59 : COPY --from=ebpf-builder /build/bcc/lib third_party/bcc/lib\n ---> ce1703b847b9\nStep 33/59 : COPY --from=ebpf-builder /build/libbpf/lib third_party/libbpf/lib\n ---> fdb4e67ed75e\nStep 34/59 : COPY --from=ebpf-builder /build/profile.bpf/profile.bpf.o pkg/agent/ebpfspy/bpf/profile.bpf.o\n ---> d453cb2fd20b\nStep 35/59 : COPY Makefile ./\n ---> 90e372b96e92\nStep 36/59 : COPY tools ./tools\n ---> 3a7c70e299ea\nStep 37/59 : COPY go.mod go.sum ./\n ---> b0ec914f96d7\nStep 38/59 : RUN make install-dev-tools\n ---> Running in b06d4e23c90e\ncat tools/tools.go | grep _ | awk -F'\"' '{print $2}' | xargs -tI {} go install {}\n\u001b[91mgo install github.com/cosmtrek/air\n\u001b[0m\u001b[91mgo: downloading github.com/cosmtrek/air v1.12.2\n\u001b[0m\u001b[91mgo: downloading github.com/creack/pty v1.1.11\ngo: downloading github.com/fsnotify/fsnotify v1.5.4\ngo: downloading github.com/pelletier/go-toml v1.9.3\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.12\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\ngo: downloading github.com/mattn/go-colorable v0.1.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220520151302-bc2c85ada10a\n\u001b[0m\u001b[91mgo install github.com/davecgh/go-spew/spew\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo install github.com/google/go-jsonnet/cmd/jsonnet\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-jsonnet v0.17.0\n\u001b[0m\u001b[91mgo install github.com/google/pprof\n\u001b[0m\u001b[91mgo: downloading github.com/google/pprof v0.0.0-20220520215854-d04f2422c8a1\n\u001b[0m\u001b[91mgo: downloading github.com/chzyer/readline v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/ianlancetaylor/demangle v0.0.0-20220319035150-800ac71e25c2\n\u001b[0m\u001b[91mgo install github.com/jsonnet-bundler/jsonnet-bundler/cmd/jb\n\u001b[0m\u001b[91mgo: downloading github.com/jsonnet-bundler/jsonnet-bundler v0.4.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\ngo: downloading github.com/alecthomas/units v0.0.0-20211218093645-b94a6e3cc137\n\u001b[0m\u001b[91mgo install github.com/kisielk/godepgraph\n\u001b[0m\u001b[91mgo: downloading github.com/kisielk/godepgraph v0.0.0-20190626013829-57a7e4a651a9\n\u001b[0m\u001b[91mgo install github.com/kyoh86/richgo\n\u001b[0m\u001b[91mgo: downloading github.com/kyoh86/richgo v0.3.3\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/wacul/ptr v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/morikuni/aec v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/kyoh86/xdg v1.2.0\n\u001b[0m\u001b[91mgo install github.com/mattn/goreman\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/goreman v0.3.5\n\u001b[0m\u001b[91mgo: downloading github.com/joho/godotenv v1.3.0\n\u001b[0m\u001b[91mgo install github.com/mgechev/revive\n\u001b[0m\u001b[91mgo: downloading github.com/pyroscope-io/revive v1.0.6-0.20210330033039-4a71146f9dc1\n\u001b[0m\u001b[91mgo: downloading github.com/mgechev/dots v0.0.0-20190921121421-c36f7dcfbb81\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v0.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/structtag v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.1.10\n\u001b[0m\u001b[91mgo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo install github.com/onsi/ginkgo/v2/ginkgo\n\u001b[0m\u001b[91mgo: downloading github.com/onsi/ginkgo/v2 v2.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/go-task/slim-sprig v0.0.0-20210107165309-348f09dbbbc0\n\u001b[0m\u001b[91mgo install golang.org/x/tools/cmd/godoc\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20220411194840-2f41105eb62f\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20220520000938-2e3eb7b945c2\n\u001b[0m\u001b[91mgo: downloading github.com/yuin/goldmark v1.4.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.6.0-dev.0.20220106191415-9b9b3d81d5e3\n\u001b[0m\u001b[91mgo install honnef.co/go/tools/cmd/staticcheck\n\u001b[0m\u001b[91mgo: downloading honnef.co/go/tools v0.0.1-2020.1.6\n\u001b[0mRemoving intermediate container b06d4e23c90e\n ---> 9b48d58758bd\nStep 39/59 : RUN make install-go-dependencies\n ---> Running in aeacdf601f31\ngo mod download\nRemoving intermediate container aeacdf601f31\n ---> 14d8b84c32cf\nStep 40/59 : COPY pkg ./pkg\n ---> 950936e1b41b\nStep 41/59 : COPY cmd ./cmd\n ---> 1f4a4da68914\nStep 42/59 : COPY webapp/assets_embedded.go ./webapp/assets_embedded.go\n ---> 853cbbd92449\nStep 43/59 : COPY webapp/assets.go ./webapp/assets.go\n ---> 5ba6156c0f96\nStep 44/59 : COPY scripts ./scripts\n ---> cfb35b16d8f7\nStep 45/59 : RUN ENABLED_SPIES_RELEASE=\"ebpfspy,phpspy,dotnetspy\"     EMBEDDED_ASSETS_DEPS=\"\"     EXTRA_LDFLAGS=\"-linkmode external -extldflags '-static'\"     make build-release\n ---> Running in 8e7704fd303f\ncat tools/tools.go | grep _ | awk -F'\"' '{print $2}' | xargs -tI {} go install {}\n\u001b[91mgo install github.com/cosmtrek/air\n\u001b[0m\u001b[91mgo install github.com/davecgh/go-spew/spew\n\u001b[0m\u001b[91mgo install github.com/google/go-jsonnet/cmd/jsonnet\n\u001b[0m\u001b[91mgo install github.com/google/pprof\n\u001b[0m\u001b[91mgo install github.com/jsonnet-bundler/jsonnet-bundler/cmd/jb\n\u001b[0m\u001b[91mgo install github.com/kisielk/godepgraph\n\u001b[0m\u001b[91mgo install github.com/kyoh86/richgo\n\u001b[0m\u001b[91mgo install github.com/mattn/goreman\n\u001b[0m\u001b[91mgo install github.com/mgechev/revive\n\u001b[0m\u001b[91mgo install github.com/onsi/ginkgo/v2/ginkgo\n\u001b[0m\u001b[91mgo install golang.org/x/tools/cmd/godoc\n\u001b[0m\u001b[91mgo install honnef.co/go/tools/cmd/staticcheck\n\u001b[0mEXTRA_GO_TAGS=,embedassets,ebpfspy,phpspy,dotnetspy make build\nmake[1]: Entering directory '/opt/pyroscope'\n\u001b[91mscripts/generate-build-flags.sh: line 18: scripts/packages/git-info: No such file or directory\n\u001b[0mCGO_CFLAGS=\"  -I/opt/pyroscope/third_party/libbpf/lib/include -I/opt/pyroscope/third_party/bcc/lib/include\" \\\n\tCGO_LDFLAGS=\"   -L/opt/pyroscope/third_party/libbpf/lib/lib64 -lbpf -L/opt/pyroscope/third_party/bcc/lib/lib -lbcc-syms -lstdc++ -lelf -lz\" \\\n\tgo build -trimpath -tags \"none,embedassets,ebpfspy,phpspy,dotnetspy,musl\" -ldflags \"-linkmode external -extldflags '-static' -X github.com/pyroscope-io/pyroscope/pkg/build.Time=2023-01-04T01:02:19Z\" -o ./bin/pyroscope ./cmd/pyroscope\nmake[1]: Leaving directory '/opt/pyroscope'\nRemoving intermediate container 8e7704fd303f\n ---> f2e8cb107532\nStep 46/59 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 47/59 : LABEL maintainer=\"Pyroscope team <hello@pyroscope.io>\"\n ---> Running in 84ac4223553d\nRemoving intermediate container 84ac4223553d\n ---> 99167d1b6950\nStep 48/59 : WORKDIR /var/lib/pyroscope\n ---> Running in 94f24ca4a337\nRemoving intermediate container 94f24ca4a337\n ---> 1dea91117108\nStep 49/59 : RUN apk update && apk upgrade &&     apk add --no-cache ca-certificates bash tzdata openssl musl-utils bash-completion\n ---> Running in 27dc46efc11b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 6 MiB in 14 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/9) Installing ncurses-libs (6.3_p20220521-r0)\n(3/9) Installing readline (8.1.2-r0)\n(4/9) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/9) Installing pkgconf (1.8.0-r1)\n(6/9) Installing bash-completion (2.11-r4)\n(7/9) Installing ca-certificates (20220614-r0)\n(8/9) Installing openssl (1.1.1s-r0)\n(9/9) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 15 MiB in 23 packages\nRemoving intermediate container 27dc46efc11b\n ---> c61ab3e3e4af\nStep 50/59 : RUN ln -s $(which python3) /usr/bin/python\n ---> Running in 22bc8f8ddeb3\nRemoving intermediate container 22bc8f8ddeb3\n ---> 0f99777d2b96\nStep 51/59 : RUN addgroup -S pyroscope && adduser -S pyroscope -G pyroscope\n ---> Running in 928d481cab11\nRemoving intermediate container 928d481cab11\n ---> b3a542780f62\nStep 52/59 : RUN mkdir -p         \"/var/lib/pyroscope\"         \"/var/log/pyroscope\"         \"/etc/pyroscope\"         &&     chown -R \"pyroscope:pyroscope\"         \"/var/lib/pyroscope\"         \"/var/log/pyroscope\"         \"/etc/pyroscope\"         &&     chmod -R 777         \"/var/lib/pyroscope\"         \"/var/log/pyroscope\"         \"/etc/pyroscope\"\n ---> Running in 3e02a22aaa2b\nRemoving intermediate container 3e02a22aaa2b\n ---> ef746e255f9c\nStep 53/59 : COPY scripts/packages/server.yml \"/etc/pyroscope/server.yml\"\n ---> 1adcde856bcb\nStep 54/59 : COPY --from=go-builder --chmod=0777 /opt/pyroscope/bin/pyroscope /usr/bin/pyroscope\n","stderr":"the --chmod option requires BuildKit. Refer to https://docs.docker.com/go/buildkit/ to learn how to build images with BuildKit enabled\n"},"endTime":1672794250707}