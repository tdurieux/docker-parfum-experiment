{"repository":"https://github.com/mazay/s3sync-service","dockerfilePath":"Dockerfile","startTime":1672816525235,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mazay/s3sync-service'...\n","error":null,"commit":"d5ba7f35c0cdad8666a8a2ec82857561c5975faa"},"originalBuild":{"startTimestamp":1672816526240,"endTimestamp":1672816641200,"error":null,"stdout":"Sending build context to Docker daemon  4.486MB\r\r\nStep 1/21 : FROM --platform=${BUILDPLATFORM:-linux/amd64} golang:1.19.4-alpine3.16 AS builder\n1.19.4-alpine3.16: Pulling from library/golang\nca7dd9ec2225: Pulling fs layer\nc41ae7ad2b39: Pulling fs layer\n20236f47f9be: Pulling fs layer\n74a276da2a69: Pulling fs layer\nc41ae7ad2b39: Download complete\nca7dd9ec2225: Verifying Checksum\nca7dd9ec2225: Download complete\nca7dd9ec2225: Pull complete\n74a276da2a69: Download complete\nc41ae7ad2b39: Pull complete\n20236f47f9be: Verifying Checksum\n20236f47f9be: Download complete\n20236f47f9be: Pull complete\n74a276da2a69: Pull complete\nDigest: sha256:4b4f7127b01b372115ed9054abc6de0a0b3fdea224561b354af7bb6e946acaa9\nStatus: Downloaded newer image for golang:1.19.4-alpine3.16\n ---> d227b49ae926\nStep 2/21 : ARG RELEASE_VERSION=devel\n ---> Running in dcf384a74640\nRemoving intermediate container dcf384a74640\n ---> 43e34b6e3c88\nStep 3/21 : ARG TARGETOS\n ---> Running in f4971d51923e\nRemoving intermediate container f4971d51923e\n ---> bb2bde07e388\nStep 4/21 : ARG TARGETARCH\n ---> Running in 065276d441fb\nRemoving intermediate container 065276d441fb\n ---> 15db5a75614b\nStep 5/21 : ENV GOOS=${TARGETOS}\n ---> Running in d75370b6f40c\nRemoving intermediate container d75370b6f40c\n ---> cfb3320a85ec\nStep 6/21 : ENV GOARCH=${TARGETARCH}\n ---> Running in 2e08b2533b2d\nRemoving intermediate container 2e08b2533b2d\n ---> b405e183d95f\nStep 7/21 : WORKDIR /go/src/github.com/mazay/s3sync-service\n ---> Running in af925f8df3f6\nRemoving intermediate container af925f8df3f6\n ---> d0da31fb3970\nStep 8/21 : RUN apk add git curl\n ---> Running in 09df40be6657\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r6)\n(2/7) Installing nghttp2-libs (1.47.0-r0)\n(3/7) Installing libcurl (7.83.1-r5)\n(4/7) Installing curl (7.83.1-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.36.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 20 MiB in 22 packages\nRemoving intermediate container 09df40be6657\n ---> b7e2ee97e66a\nStep 9/21 : COPY service ./service\n ---> edfc96ec12aa\nStep 10/21 : COPY *.go ./\n ---> 470963062623\nStep 11/21 : COPY go.mod ./\n ---> 292669a661c4\nStep 12/21 : COPY go.sum ./\n ---> eb0a3ba8412e\nStep 13/21 : RUN go mod download\n ---> Running in e5dfa8180941\nRemoving intermediate container e5dfa8180941\n ---> c90663cb8afa\nStep 14/21 : RUN go build -ldflags \"-X github.com/mazay/s3sync-service/service.version=${RELEASE_VERSION}\"\n ---> Running in 695d972c1f92\nRemoving intermediate container 695d972c1f92\n ---> 9d1b4df23a55\nStep 15/21 : FROM --platform=${TARGETPLATFORM:-linux/amd64} alpine:3.17.0\n3.17.0: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:3.17.0\n ---> 49176f190c7e\nStep 16/21 : ARG TARGETPLATFORM\n ---> Running in 18f2c94cb638\nRemoving intermediate container 18f2c94cb638\n ---> fad037efc18f\nStep 17/21 : LABEL maintainer=\"Yevgeniy Valeyev <z.mazay@gmail.com>\"\n ---> Running in bf3668c1b8b4\nRemoving intermediate container bf3668c1b8b4\n ---> c7d93be9ebb4\nStep 18/21 : RUN apk --no-cache add ca-certificates\n ---> Running in 4c478bf1e7e2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 4c478bf1e7e2\n ---> b2704c4a8392\nStep 19/21 : WORKDIR /app/\n ---> Running in f21ace54deba\nRemoving intermediate container f21ace54deba\n ---> 4c190f8fadc8\nStep 20/21 : COPY --from=builder /go/src/github.com/mazay/s3sync-service/s3sync-service .\n ---> 6f8b8ce95029\nStep 21/21 : CMD [\"./s3sync-service\"]\n ---> Running in 8db8f49e01b0\nRemoving intermediate container 8db8f49e01b0\n ---> 6d43b915a597\nSuccessfully built 6d43b915a597\nSuccessfully tagged s3sync-service:latest\n","stderr":"","imageSize":66389070},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":25,"end":25,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"#\n# s3sync-service - Realtime S3 synchronisation tool\n# Copyright (c) 2020  Yevgeniy Valeyev\n#\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n#\n\nFROM --platform=${BUILDPLATFORM:-linux/amd64} golang:1.19.4-alpine3.16 AS builder\nARG RELEASE_VERSION=devel\nARG TARGETOS\nARG TARGETARCH\nENV GOOS=${TARGETOS}\nENV GOARCH=${TARGETARCH}\nWORKDIR /go/src/github.com/mazay/s3sync-service\nRUN apk add --no-cache git curl\nCOPY service ./service\nCOPY *.go ./\nCOPY go.mod ./\nCOPY go.sum ./\nRUN go mod download\nRUN go build -ldflags \"-X github.com/mazay/s3sync-service/service.version=${RELEASE_VERSION}\"\n\nFROM --platform=${TARGETPLATFORM:-linux/amd64} alpine:3.17.0\nARG TARGETPLATFORM\nLABEL maintainer=\"Yevgeniy Valeyev <z.mazay@gmail.com>\"\nRUN apk --no-cache add ca-certificates\nWORKDIR /app/\nCOPY --from=builder /go/src/github.com/mazay/s3sync-service/s3sync-service .\nCMD [\"./s3sync-service\"]\n"},"repairedBuild":{"startTimestamp":1672816641471,"endTimestamp":1672816737295,"error":null,"stdout":"Sending build context to Docker daemon  4.486MB\r\r\nStep 1/21 : FROM --platform=${BUILDPLATFORM:-linux/amd64} golang:1.19.4-alpine3.16 AS builder\n ---> d227b49ae926\nStep 2/21 : ARG RELEASE_VERSION=devel\n ---> Running in cba27baf67c0\nRemoving intermediate container cba27baf67c0\n ---> c717094c565a\nStep 3/21 : ARG TARGETOS\n ---> Running in db01ce548e27\nRemoving intermediate container db01ce548e27\n ---> c94976992c38\nStep 4/21 : ARG TARGETARCH\n ---> Running in 954135ad3a3d\nRemoving intermediate container 954135ad3a3d\n ---> 84752ec13a2d\nStep 5/21 : ENV GOOS=${TARGETOS}\n ---> Running in d7cd8830f383\nRemoving intermediate container d7cd8830f383\n ---> 5f078fa5145a\nStep 6/21 : ENV GOARCH=${TARGETARCH}\n ---> Running in f849512d39d1\nRemoving intermediate container f849512d39d1\n ---> 13e6a834d294\nStep 7/21 : WORKDIR /go/src/github.com/mazay/s3sync-service\n ---> Running in 0f6cac6cf498\nRemoving intermediate container 0f6cac6cf498\n ---> 037957856961\nStep 8/21 : RUN apk add --no-cache git curl\n ---> Running in 68a308f31503\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r6)\n(2/7) Installing nghttp2-libs (1.47.0-r0)\n(3/7) Installing libcurl (7.83.1-r5)\n(4/7) Installing curl (7.83.1-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.36.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 20 MiB in 22 packages\nRemoving intermediate container 68a308f31503\n ---> 6cd59346bfeb\nStep 9/21 : COPY service ./service\n ---> 87ba533553b7\nStep 10/21 : COPY *.go ./\n ---> a5425390589e\nStep 11/21 : COPY go.mod ./\n ---> f2d023f9e5f3\nStep 12/21 : COPY go.sum ./\n ---> a44dfc4def50\nStep 13/21 : RUN go mod download\n ---> Running in 7b9a12726135\nRemoving intermediate container 7b9a12726135\n ---> 83a263b74e28\nStep 14/21 : RUN go build -ldflags \"-X github.com/mazay/s3sync-service/service.version=${RELEASE_VERSION}\"\n ---> Running in b8cb9e2e02c3\nRemoving intermediate container b8cb9e2e02c3\n ---> ccac07419dfe\nStep 15/21 : FROM --platform=${TARGETPLATFORM:-linux/amd64} alpine:3.17.0\n ---> 49176f190c7e\nStep 16/21 : ARG TARGETPLATFORM\n ---> Running in 071ef692b8fe\nRemoving intermediate container 071ef692b8fe\n ---> 72cac68ce8f4\nStep 17/21 : LABEL maintainer=\"Yevgeniy Valeyev <z.mazay@gmail.com>\"\n ---> Running in c3b7b14dc2b4\nRemoving intermediate container c3b7b14dc2b4\n ---> a545dfd29be4\nStep 18/21 : RUN apk --no-cache add ca-certificates\n ---> Running in b84338a2b57c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container b84338a2b57c\n ---> e0e6fbbadf6b\nStep 19/21 : WORKDIR /app/\n ---> Running in 6422678b6023\nRemoving intermediate container 6422678b6023\n ---> acca251b4ef3\nStep 20/21 : COPY --from=builder /go/src/github.com/mazay/s3sync-service/s3sync-service .\n ---> c55e7c6730a3\nStep 21/21 : CMD [\"./s3sync-service\"]\n ---> Running in a4d6b1fcb03c\nRemoving intermediate container a4d6b1fcb03c\n ---> e15051a3c8a0\nSuccessfully built e15051a3c8a0\nSuccessfully tagged s3sync-service:latest\n","stderr":"","imageSize":66389070},"endTime":1672816737541}