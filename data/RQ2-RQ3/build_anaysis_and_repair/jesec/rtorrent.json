{"repository":"https://github.com/jesec/rtorrent","dockerfilePath":"Dockerfile","startTime":1672871962777,"endTime":1672872209714,"clone":{"startTime":1672871962777,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jesec/rtorrent'...\n","error":null,"endTime":1672871963739,"commit":"88fd968f3d78db55d50def1b973081359c547cb7"},"originalBuild":{"startTime":1672871963875,"endTime":1672872209641,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t rtorrent:latest -f /tmp/dinghy-analysis/jesec/rtorrent/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.878MB\r\r\nStep 1/29 : ARG ALPINE_IMAGE=alpine:edge\nStep 2/29 : FROM ${ALPINE_IMAGE} as build\nedge: Pulling from library/alpine\na71ff8a5264a: Pulling fs layer\na71ff8a5264a: Verifying Checksum\na71ff8a5264a: Download complete\na71ff8a5264a: Pull complete\nDigest: sha256:c223f84e05c23c0571ce8decefef818864869187e1a3ea47719412e205c8c64e\nStatus: Downloaded newer image for alpine:edge\n ---> 121d0da75751\nStep 3/29 : WORKDIR /root/rtorrent\n ---> Running in 3eb26d6df748\nRemoving intermediate container 3eb26d6df748\n ---> 52e743c12988\nStep 4/29 : RUN echo https://dl-cdn.alpinelinux.org/alpine/edge/testing >> /etc/apk/repositories\n ---> Running in 90f8cc45bc2f\nRemoving intermediate container 90f8cc45bc2f\n ---> 714f1074ffe4\nStep 5/29 : RUN apk --no-cache add     bash     bazel     build-base     coreutils     gcompat     git     linux-headers     pythonispython3     python3     rpm\n ---> Running in d3d5b8bce89d\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/testing/x86_64/APKINDEX.tar.gz\n(1/86) Upgrading musl (1.2.3-r3 -> 1.2.3-r4)\n(2/86) Installing ncurses-terminfo-base (6.4_p20221231-r0)\n(3/86) Installing ncurses-libs (6.4_p20221231-r0)\n(4/86) Installing readline (8.2.0-r0)\n(5/86) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(6/86) Installing java-common (0.5-r0)\n(7/86) Installing libffi (3.4.4-r0)\n(8/86) Installing p11-kit (0.24.1-r1)\n(9/86) Installing libtasn1 (4.19.0-r0)\n(10/86) Installing p11-kit-trust (0.24.1-r1)\n(11/86) Installing ca-certificates (20221203-r1)\n(12/86) Installing java-cacerts (1.0-r1)\n(13/86) Installing openjdk11-jre-headless (11.0.17_p8-r3)\n(14/86) Installing libxau (1.0.11-r0)\n(15/86) Installing libmd (1.0.4-r0)\n(16/86) Installing libbsd (0.11.7-r0)\n(17/86) Installing libxdmcp (1.1.4-r0)\n(18/86) Installing libxcb (1.15-r0)\n(19/86) Installing libx11 (1.8.2-r2)\n(20/86) Installing libxext (1.3.5-r0)\n(21/86) Installing libxi (1.8-r0)\n(22/86) Installing libxrender (0.9.11-r0)\n(23/86) Installing libxtst (1.2.4-r0)\n(24/86) Installing alsa-lib (1.2.8-r0)\n(25/86) Installing brotli-libs (1.0.9-r10)\n(26/86) Installing libbz2 (1.0.8-r4)\n(27/86) Installing libpng (1.6.39-r2)\n(28/86) Installing freetype (2.12.1-r0)\n(29/86) Installing giflib (5.2.1-r2)\n(30/86) Installing libjpeg-turbo (2.1.4-r0)\n(31/86) Installing lcms2 (2.14-r2)\n(32/86) Installing openjdk11-jre (11.0.17_p8-r3)\n(33/86) Installing openjdk11-jmods (11.0.17_p8-r3)\n(34/86) Installing openjdk11-jdk (11.0.17_p8-r3)\n(35/86) Installing libgcc (12.2.1_git20220924-r6)\n(36/86) Installing libstdc++ (12.2.1_git20220924-r6)\n(37/86) Installing bazel5 (5.3.2-r0)\n(38/86) Installing binutils (2.39-r2)\n(39/86) Installing libmagic (5.44-r0)\n(40/86) Installing file (5.44-r0)\n(41/86) Installing libgomp (12.2.1_git20220924-r6)\n(42/86) Installing libatomic (12.2.1_git20220924-r6)\n(43/86) Installing gmp (6.2.1-r2)\n(44/86) Installing isl25 (0.25-r0)\n(45/86) Installing mpfr4 (4.1.1-r1)\n(46/86) Installing mpc1 (1.3.1-r0)\n(47/86) Installing gcc (12.2.1_git20220924-r6)\n(48/86) Installing libstdc++-dev (12.2.1_git20220924-r6)\n(49/86) Installing musl-dev (1.2.3-r4)\n(50/86) Installing libc-dev (0.7.2-r3)\n(51/86) Installing g++ (12.2.1_git20220924-r6)\n(52/86) Installing make (4.4-r1)\n(53/86) Installing fortify-headers (1.1-r1)\n(54/86) Installing patch (2.7.6-r8)\n(55/86) Installing build-base (0.5-r3)\n(56/86) Installing libacl (2.3.1-r1)\n(57/86) Installing libattr (2.5.1-r2)\n(58/86) Installing skalibs (2.12.0.1-r0)\n(59/86) Installing utmps-libs (0.1.2.0-r1)\n(60/86) Installing coreutils (9.1-r0)\n(61/86) Installing musl-obstack (1.2.3-r0)\n(62/86) Installing libucontext (1.2-r0)\n(63/86) Installing gcompat (1.1.0-r0)\n(64/86) Installing nghttp2-libs (1.51.0-r0)\n(65/86) Installing libcurl (7.87.0-r1)\n(66/86) Installing libexpat (2.5.0-r0)\n(67/86) Installing pcre2 (10.42-r0)\n(68/86) Installing git (2.39.0-r0)\n(69/86) Installing linux-headers (6.1.0-r0)\n(70/86) Installing gdbm (1.23-r0)\n(71/86) Installing xz-libs (5.4.0-r1)\n(72/86) Installing mpdecimal (2.5.1-r1)\n(73/86) Installing sqlite-libs (3.40.1-r0)\n(74/86) Installing python3 (3.11.1-r2)\n(75/86) Installing lz4-libs (1.9.4-r1)\n(76/86) Installing zstd-libs (1.5.2-r10)\n(77/86) Installing libarchive (3.6.2-r1)\n(78/86) Installing libcap2 (2.66-r0)\n(79/86) Installing musl-fts (1.2.7-r3)\n(80/86) Installing libelf (0.188-r0)\n(81/86) Installing libgpg-error (1.46-r1)\n(82/86) Installing libgcrypt (1.10.1-r0)\n(83/86) Installing libintl (0.21.1-r1)\n(84/86) Installing lua5.4-libs (5.4.4-r6)\n(85/86) Installing popt (1.19-r1)\n(86/86) Installing rpm (4.18.0-r2)\nExecuting busybox-1.35.0-r27.trigger\nExecuting java-common-0.5-r0.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 614 MiB in 100 packages\nRemoving intermediate container d3d5b8bce89d\n ---> 3ed79e5b50fe\nStep 6/29 : RUN rpm --initdb\n ---> Running in be3412f4e233\nRemoving intermediate container be3412f4e233\n ---> 1c49a104f275\nStep 7/29 : COPY . ./\n ---> 669b419f71ad\nStep 8/29 : RUN if [[ `uname -m` == \"aarch64\" ]];     then sed -i 's/architecture = \\\"all\\\"/architecture = \\\"arm64\\\"/' BUILD.bazel;     elif [[ `uname -m` == \"x86_64\" ]];     then sed -i 's/architecture = \\\"all\\\"/architecture = \\\"amd64\\\"/' BUILD.bazel;     fi\n ---> Running in a166b8bbf038\nRemoving intermediate container a166b8bbf038\n ---> 468de07d30f0\nStep 9/29 : RUN bazel build rtorrent-deb rtorrent-rpm --features=fully_static_link --verbose_failures\n ---> Running in 21955b1333d6\n\u001b[91mExtracting Bazel installation...\n\u001b[0m\u001b[91mStarting local Bazel server and connecting to it...\n\u001b[0m\u001b[91mLoading: \n\u001b[0m\u001b[91mLoading: 0 packages loaded\n\u001b[0m\u001b[91mLoading: 0 packages loaded\n\u001b[0m\u001b[91mLoading: 0 packages loaded\n\u001b[0m\u001b[91mAnalyzing: 2 targets (1 packages loaded)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (1 packages loaded, 0 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (45 packages loaded, 173 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (52 packages loaded, 347 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (53 packages loaded, 347 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (61 packages loaded, 587 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (65 packages loaded, 1691 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (69 packages loaded, 9137 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (69 packages loaded, 9137 targets configured)\n\u001b[0m\u001b[91mAnalyzing: 2 targets (69 packages loaded, 9137 targets configured)\n\u001b[0m\u001b[91mINFO: Analyzed 2 targets (70 packages loaded, 10526 targets configured).\n\u001b[0m\u001b[91mINFO: Found 2 targets...\n\u001b[0m\u001b[91m[0 / 184] [Prepa] BazelWorkspaceStatusAction stable-status.txt ... (17 actions, 0 running)\n\u001b[0m\u001b[91m[182 / 637] Compiling src/ssl/ssl_x509.cc; 2s processwrapper-sandbox ... (36 actions, 35 running)\n\u001b[0m\u001b[91mINFO: From Compiling ncurses/base/lib_screen.c:\n\u001b[0m\u001b[91mexternal/ncurses/ncurses/base/lib_screen.c: In function 'putwin':\nexternal/ncurses/ncurses/base/lib_screen.c:816:21: warning: 'fputs' argument missing terminating nul [-Wstringop-overread]\n  816 | #define PUTS(s) if (fputs(s, filep) == EOF || ferror(filep)) returnCode(code)\n      |                     ^~~~~~~~~~~~~~~\nexternal/ncurses/ncurses/base/lib_screen.c:817:9: note: in expansion of macro 'PUTS'\n  817 |         PUTS(my_magic);\n      |         ^~~~\nexternal/ncurses/ncurses/base/lib_screen.c:69:19: note: referenced argument declared here\n   69 | static const char my_magic[] =\n      |                   ^~~~~~~~\n\u001b[0m\u001b[91mINFO: From Compiling ncurses/tinfo/lib_tparm.c:\n\u001b[0m\u001b[91mexternal/ncurses/ncurses/tinfo/lib_tparm.c:344:45: warning: argument 2 of type 'char *[9]' with mismatched bound [-Warray-parameter=]\n  344 | _nc_tparm_analyze(const char *string, char *p_is_s[NUM_PARM], int *popcount)\n      |                                       ~~~~~~^~~~~~~~~~~~~~~~\nIn file included from external/ncurses/ncurses/tinfo/lib_tparm.c:44:\nbazel-out/k8-opt/bin/external/ncurses/_virtual_includes/ncursesw/tic.h:340:60: note: previously declared as 'char **'\n  340 | extern NCURSES_EXPORT(int) _nc_tparm_analyze(const char *, char **, int *);\n      |                                                            ^~~~~~~\n\u001b[0m\u001b[91m[574 / 896] BootstrapGNUMake external/rules_foreign_cc/toolchains/make; 4s processwrapper-sandbox ... (37 actions, 35 running)\n\u001b[0m\u001b[91m[634 / 1,006] BootstrapGNUMake external/rules_foreign_cc/toolchains/make; 8s processwrapper-sandbox ... (2 actions running)\n\u001b[0m\u001b[91m[635 / 1,006] BootstrapGNUMake external/rules_foreign_cc/toolchains/make; 12s processwrapper-sandbox ... (2 actions, 1 running)\n\u001b[0m\u001b[91m[636 / 1,006] BootstrapGNUMake external/rules_foreign_cc/toolchains/make; 20s processwrapper-sandbox\n\u001b[0m\u001b[91m[636 / 1,006] BootstrapGNUMake external/rules_foreign_cc/toolchains/make; 30s processwrapper-sandbox\n\u001b[0m\u001b[91m[637 / 1,006] [Prepa] Foreign Cc - Configure: Building xmlrpc\n\u001b[0m\u001b[91m[640 / 1,006] Foreign Cc - Configure: Building xmlrpc; 12s processwrapper-sandbox ... (2 actions running)\n\u001b[0m\u001b[91mERROR: /root/.cache/bazel/_bazel_root/709c8ab7bdae4c8e8497f1dffe93d5a8/external/libtorrent/BUILD.bazel:70:11: Compiling src/protocol/request_list.cc failed: (Exit 1): gcc failed: error executing command \n  (cd /root/.cache/bazel/_bazel_root/709c8ab7bdae4c8e8497f1dffe93d5a8/sandbox/processwrapper-sandbox/765/execroot/rtorrent && \\\n  exec env - \\\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n    PWD=/proc/self/cwd \\\n  /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/k8-opt/bin/external/libtorrent/_objs/torrent/request_list.d '-frandom-seed=bazel-out/k8-opt/bin/external/libtorrent/_objs/torrent/request_list.o' -iquote external/libtorrent -iquote bazel-out/k8-opt/bin/external/libtorrent -iquote external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -isystem external/libtorrent/include -isystem bazel-out/k8-opt/bin/external/libtorrent/include -isystem bazel-out/k8-opt/bin/external/libtorrent/buildinfo/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/zlib/zlib/include '-std=c++17' -Wall -Wextra -Wpedantic -Wdeprecated -Werror -Ofast -flto '-DEXPORT_LIBTORRENT_SYMBOLS=1' -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -c external/libtorrent/src/protocol/request_list.cc -o bazel-out/k8-opt/bin/external/libtorrent/_objs/torrent/request_list.o)\n# Configuration: 4cfee8849517f12e8abc71dc447300a3242555c65ba031e14afdfd1626da47d9\n# Execution platform: @local_config_platform//:host\n\nUse --sandbox_debug to see verbose messages from the sandbox and retain the sandbox build root for debugging\nexternal/libtorrent/src/protocol/request_list.cc:374:17: error: 'template<class _Arg1, class _Arg2, class _Result> struct std::binary_function' is deprecated [-Werror=deprecated-declarations]\n  374 |   : public std::binary_function<BlockTransfer*, uint32_t, bool> {\n      |                 ^~~~~~~~~~~~~~~\nIn file included from /usr/lib/gcc/x86_64-alpine-linux-musl/12.2.1/../../../../include/c++/12.2.1/functional:49,\n                 from external/libtorrent/src/protocol/request_list.cc:3:\n/usr/lib/gcc/x86_64-alpine-linux-musl/12.2.1/../../../../include/c++/12.2.1/bits/stl_function.h:131:12: note: declared here\n  131 |     struct binary_function\n      |            ^~~~~~~~~~~~~~~\ncc1plus: all warnings being treated as errors\n\u001b[0m\u001b[91mERROR: /root/.cache/bazel/_bazel_root/709c8ab7bdae4c8e8497f1dffe93d5a8/external/libtorrent/BUILD.bazel:70:11: Compiling src/torrent/peer/peer_list.cc failed: (Exit 1): gcc failed: error executing command \n  (cd /root/.cache/bazel/_bazel_root/709c8ab7bdae4c8e8497f1dffe93d5a8/sandbox/processwrapper-sandbox/760/execroot/rtorrent && \\\n  exec env - \\\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n    PWD=/proc/self/cwd \\\n  /usr/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/k8-opt/bin/external/libtorrent/_objs/torrent/peer_list.d '-frandom-seed=bazel-out/k8-opt/bin/external/libtorrent/_objs/torrent/peer_list.o' -iquote external/libtorrent -iquote bazel-out/k8-opt/bin/external/libtorrent -iquote external/boringssl -iquote bazel-out/k8-opt/bin/external/boringssl -isystem external/libtorrent/include -isystem bazel-out/k8-opt/bin/external/libtorrent/include -isystem bazel-out/k8-opt/bin/external/libtorrent/buildinfo/include -isystem external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/boringssl/src/include -isystem bazel-out/k8-opt/bin/external/zlib/zlib/include '-std=c++17' -Wall -Wextra -Wpedantic -Wdeprecated -Werror -Ofast -flto '-DEXPORT_LIBTORRENT_SYMBOLS=1' -fno-canonical-system-headers -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -c external/libtorrent/src/torrent/peer/peer_list.cc -o bazel-out/k8-opt/bin/external/libtorrent/_objs/torrent/peer_list.o)\n# Configuration: 4cfee8849517f12e8abc71dc447300a3242555c65ba031e14afdfd1626da47d9\n# Execution platform: @local_config_platform//:host\n\nUse --sandbox_debug to see verbose messages from the sandbox and retain the sandbox build root for debugging\n\u001b[0m\u001b[91mexternal/libtorrent/src/torrent/peer/peer_list.cc:55:17: error: 'template<class _Arg1, class _Arg2, class _Result> struct std::binary_function' is deprecated [-Werror=deprecated-declarations]\n   55 |   : public std::binary_function<PeerList::reference, uint16_t, bool> {\n      |                 ^~~~~~~~~~~~~~~\nIn file included from /usr/lib/gcc/x86_64-alpine-linux-musl/12.2.1/../../../../include/c++/12.2.1/functional:49,\n                 from external/libtorrent/src/torrent/peer/peer_list.cc:5:\n/usr/lib/gcc/x86_64-alpine-linux-musl/12.2.1/../../../../include/c++/12.2.1/bits/stl_function.h:131:12: note: declared here\n  131 |     struct binary_function\n      |            ^~~~~~~~~~~~~~~\ncc1plus: all warnings being treated as errors\n\u001b[0m\u001b[91mINFO: Elapsed time: 91.715s, Critical Path: 61.58s\nINFO: 896 processes: 125 internal, 1 local, 770 processwrapper-sandbox.\nFAILED: Build did NOT complete successfully\n\u001b[0m\u001b[91mFAILED: Build did NOT complete successfully\n\u001b[0mRemoving intermediate container 21955b1333d6\n","stderr":"The command '/bin/sh -c bazel build rtorrent-deb rtorrent-rpm --features=fully_static_link --verbose_failures' returned a non-zero code: 1\n"}}