{"repository":"https://github.com/etalab/geozones","dockerfilePath":"Dockerfile","startTime":1672261341894,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/etalab/geozones'...\n","error":null,"commit":"290caebf6185e90932d92269d27fb04a6a8403e6"},"originalBuild":{"startTimestamp":1672261342806,"endTimestamp":1672261410074,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t geozones:latest -f /tmp/dinghy-analysis/etalab/geozones/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.219MB\r\r\nStep 1/12 : FROM python:3-alpine\n3-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Pulling fs layer\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n3cfcd1e4ebae: Waiting\n877ccf16716c: Verifying Checksum\n877ccf16716c: Download complete\n7ec3a91b66d9: Verifying Checksum\n7ec3a91b66d9: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\n7ec3a91b66d9: Pull complete\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3-alpine\n ---> 18ccdc39ea28\nStep 2/12 : RUN echo -e '@edge http://dl-cdn.alpinelinux.org/alpine/edge/main' >> /etc/apk/repositories     && echo -e '@testing http://dl-cdn.alpinelinux.org/alpine/edge/testing' >> /etc/apk/repositories\n ---> Running in 8f0131b21bab\nRemoving intermediate container 8f0131b21bab\n ---> 6d5e15ad0589\nStep 3/12 : RUN apk --update --no-cache add     gdal-dev@testing     geos-dev@testing     libc-dev@testing gcc g++\n ---> Running in 91838d4cc2d5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/edge/testing/x86_64/APKINDEX.tar.gz\n(1/78) Installing libgcc (12.2.1_git20220924-r4)\n(2/78) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/78) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(4/78) Installing binutils (2.39-r2)\n(5/78) Installing libgomp (12.2.1_git20220924-r4)\n(6/78) Installing libatomic (12.2.1_git20220924-r4)\n(7/78) Installing gmp (6.2.1-r2)\n(8/78) Installing isl25 (0.25-r0)\n(9/78) Installing mpfr4 (4.1.0-r0)\n(10/78) Installing mpc1 (1.2.1-r1)\n(11/78) Installing gcc (12.2.1_git20220924-r4)\n(12/78) Installing musl-dev (1.2.3-r4)\n(13/78) Installing libc-dev (0.7.2-r3)\n(14/78) Installing g++ (12.2.1_git20220924-r4)\n(15/78) Installing openexr (3.1.5-r3)\n(16/78) Installing brotli-libs (1.0.9-r9)\n(17/78) Installing nghttp2-libs (1.51.0-r0)\n(18/78) Installing libcurl (7.87.0-r0)\n(19/78) Installing cfitsio (4.2.0-r0)\n(20/78) Installing libdeflate (1.14-r0)\n(21/78) Installing freexl (1.0.6-r0)\n(22/78) Installing geos (3.11.1-r0)\n(23/78) Installing giflib (5.2.1-r2)\n(24/78) Installing libsz (1.0.6-r1)\n(25/78) Installing hdf5 (1.12.2-r1)\n(26/78) Installing hdf5-cpp (1.12.2-r1)\n(27/78) Installing aom-libs (3.5.0-r0)\n(28/78) Installing libde265 (1.0.9-r0)\n(29/78) Installing numactl (2.0.16-r0)\n(30/78) Installing x265-libs (3.5-r3)\n(31/78) Installing libheif (1.13.0-r0)\n(32/78) Installing libjpeg-turbo (2.1.4-r0)\n(33/78) Installing json-c (0.16-r0)\n(34/78) Installing kealib (1.4.15-r1)\n(35/78) Installing minizip (1.2.13-r0)\n(36/78) Installing liburiparser (0.9.7-r0)\n(37/78) Installing libkml (1.3.0-r4)\n(38/78) Installing mariadb-connector-c (3.3.3-r0)\n(39/78) Installing hdf5-hl (1.12.2-r1)\n(40/78) Installing netcdf (4.8.1-r4)\n(41/78) Installing unixodbc (2.3.11-r0)\n(42/78) Installing ogdi (4.1.0-r1)\n(43/78) Installing openjpeg (2.5.0-r0)\n(44/78) Installing pcre2 (10.42-r0)\n(45/78) Installing libpng (1.6.38-r0)\n(46/78) Installing freetype (2.12.1-r0)\n(47/78) Installing fontconfig (2.14.1-r0)\n(48/78) Installing lcms2 (2.14-r0)\n(49/78) Installing libwebp (1.2.4-r1)\n(50/78) Installing zstd-libs (1.5.2-r9)\n(51/78) Installing tiff (4.4.0-r1)\n(52/78) Installing poppler (22.11.0-r0)\n(53/78) Installing libpq (15.1-r0)\n(54/78) Installing proj (9.1.0-r0)\n(55/78) Installing qhull (2020.2-r2)\n(56/78) Installing libxau (1.0.10-r0)\n(57/78) Installing libmd (1.0.4-r0)\n(58/78) Installing libbsd (0.11.7-r0)\n(59/78) Installing libxdmcp (1.1.4-r0)\n(60/78) Installing libxcb (1.15-r0)\n(61/78) Installing libx11 (1.8.3-r0)\n(62/78) Installing libxext (1.3.5-r0)\n(63/78) Installing libxrender (0.9.11-r0)\n(64/78) Installing pixman (0.42.2-r0)\n(65/78) Installing cairo (1.17.6-r3)\n(66/78) Installing libgeotiff (1.7.1-r0)\n(67/78) Installing lz4-libs (1.9.4-r1)\n(68/78) Installing librttopo (1.1.0-r2)\n(69/78) Installing libxml2 (2.10.3-r1)\n(70/78) Installing libspatialite (5.0.1-r5)\n(71/78) Installing librasterlite2 (1.1.0b1-r3)\n(72/78) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(73/78) Installing icu-libs (72.1-r1)\n(74/78) Installing xerces-c (3.2.4-r1)\n(75/78) Installing gdal (3.5.3-r2)\n(76/78) Installing pkgconf (1.9.3-r0)\n(77/78) Installing gdal-dev (3.5.3-r2)\n(78/78) Installing geos-dev (3.11.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 375 MiB in 115 packages\nRemoving intermediate container 91838d4cc2d5\n ---> 6ef4dd6824a3\nStep 4/12 : COPY . /src\n ---> c28eae2c6cba\nStep 5/12 : RUN pip install -e /src/ && rm -fr /root/.cache\n ---> Running in b751a97d825c\nObtaining file:///src\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting Fiona==1.8.13\n  Downloading Fiona-1.8.13.tar.gz (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 14.8 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting Flask==1.0.2\n  Downloading Flask-1.0.2-py2.py3-none-any.whl (91 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 91.4/91.4 kB 61.7 kB/s eta 0:00:00\nCollecting Shapely==1.6.4.post2\n  Downloading Shapely-1.6.4.post2.tar.gz (225 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 225.7/225.7 kB 13.3 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting click==7.0\n  Downloading Click-7.0-py2.py3-none-any.whl (81 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 81.3/81.3 kB 3.3 MB/s eta 0:00:00\nCollecting colorama==0.4.1\n  Downloading colorama-0.4.1-py2.py3-none-any.whl (15 kB)\nCollecting colorhash==1.0.2\n  Downloading colorhash-1.0.2-py2.py3-none-any.whl (6.0 kB)\nCollecting msgpack==0.6.1\n  Downloading msgpack-0.6.1.tar.gz (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.8/118.8 kB 8.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pymongo==3.8.0\n  Downloading pymongo-3.8.0.tar.gz (649 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 649.9/649.9 kB 19.6 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests==2.21.0\n  Downloading requests-2.21.0-py2.py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.0/58.0 kB 5.3 MB/s eta 0:00:00\nCollecting attrs>=17\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 2.9 MB/s eta 0:00:00\nCollecting cligj>=0.5\n  Downloading cligj-0.7.2-py3-none-any.whl (7.1 kB)\nCollecting click-plugins>=1.0\n  Downloading click_plugins-1.1.1-py2.py3-none-any.whl (7.5 kB)\nCollecting six>=1.7\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting munch\n  Downloading munch-2.5.0-py2.py3-none-any.whl (10 kB)\nCollecting Werkzeug>=0.14\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 13.4 MB/s eta 0:00:00\nCollecting Jinja2>=2.10\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 9.6 MB/s eta 0:00:00\nCollecting itsdangerous>=0.24\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting chardet<3.1.0,>=3.0.2\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 kB 10.6 MB/s eta 0:00:00\nCollecting idna<2.9,>=2.5\n  Downloading idna-2.8-py2.py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.6/58.6 kB 4.8 MB/s eta 0:00:00\nCollecting urllib3<1.25,>=1.21.1\n  Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.8/118.8 kB 6.2 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 10.6 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: Fiona, msgpack, pymongo, Shapely, MarkupSafe\n  Building wheel for Fiona (setup.py): started\n  Building wheel for Fiona (setup.py): finished with status 'error'\n\u001b[91m  error: subprocess-exited-with-error\n  \n  × python setup.py bdist_wheel did not run successfully.\n  │ exit code: 1\n  ╰─> [55 lines of output]\n      /usr/local/lib/python3.11/site-packages/setuptools/_distutils/dist.py:264: UserWarning: Unknown distribution option: 'metadata_version'\n        warnings.warn(msg)\n      /usr/local/lib/python3.11/site-packages/setuptools/_distutils/dist.py:264: UserWarning: Unknown distribution option: 'requires_python'\n        warnings.warn(msg)\n      /usr/local/lib/python3.11/site-packages/setuptools/_distutils/dist.py:264: UserWarning: Unknown distribution option: 'requires_external'\n        warnings.warn(msg)\n      running bdist_wheel\n      running build\n      running build_py\n      creating build\n      creating build/lib.linux-x86_64-cpython-311\n      creating build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/env.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/__init__.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/errors.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/inspector.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/session.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/collection.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/path.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/rfc3339.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/compat.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/crs.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/drvsupport.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/transform.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/vfs.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/logutils.py -> build/lib.linux-x86_64-cpython-311/fiona\n      copying ./fiona/io.py -> build/lib.linux-x86_64-cpython-311/fiona\n      creating build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/env.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/__init__.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/distrib.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/filter.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/insp.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/ls.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/helpers.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/options.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/rm.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/bounds.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/dump.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/calc.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/collect.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/info.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/main.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/cat.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      copying ./fiona/fio/load.py -> build/lib.linux-x86_64-cpython-311/fiona/fio\n      running build_ext\n      building 'fiona.schema' extension\n      creating build/temp.linux-x86_64-cpython-311\n      creating build/temp.linux-x86_64-cpython-311/fiona\n      gcc -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/usr/include -I/usr/local/include/python3.11 -c fiona/schema.c -o build/temp.linux-x86_64-cpython-311/fiona/schema.o\n      fiona/schema.c:220:12: fatal error: longintrepr.h: No such file or directory\n        220 |   #include \"longintrepr.h\"\n            |            ^~~~~~~~~~~~~~~\n      compilation terminated.\n      error: command '/usr/bin/gcc' failed with exit code 1\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\n\u001b[0m\u001b[91m  ERROR: Failed building wheel for Fiona\n\u001b[0m  Running setup.py clean for Fiona\n\u001b[91m  error: subprocess-exited-with-error\n  \n  × python setup.py clean did not run successfully.\n  │ exit code: 1\n  ╰─> [7 lines of output]\n      Traceback (most recent call last):\n        File \"<string>\", line 2, in <module>\n        File \"<pip-setuptools-caller>\", line 34, in <module>\n        File \"/tmp/pip-install-b0r0nxr8/fiona_2c011a6c1cc84ec4a71247f675bc3513/setup.py\", line 186, in <module>\n          log.info(\"GDAL version major=%r minor=%r\", gdal_major_version, gdal_minor_version)\n                                                     ^^^^^^^^^^^^^^^^^^\n      NameError: name 'gdal_major_version' is not defined\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\n\u001b[0m\u001b[91m  ERROR: Failed cleaning build dir for Fiona\n\u001b[0m  Building wheel for msgpack (setup.py): started\n  Building wheel for msgpack (setup.py): finished with status 'done'\n  Created wheel for msgpack: filename=msgpack-0.6.1-cp311-cp311-linux_x86_64.whl size=14580 sha256=e9b3672e541b9094ec34ce8443516f9649308019133e05c7df69f1640cfd98b7\n  Stored in directory: /root/.cache/pip/wheels/18/64/94/7b71bc93e39954190faaa70ee33308c5067b0d3ebdf6c8929c\n  Building wheel for pymongo (setup.py): started\n  Building wheel for pymongo (setup.py): finished with status 'done'\n  Created wheel for pymongo: filename=pymongo-3.8.0-cp311-cp311-linux_x86_64.whl size=322182 sha256=5e9a8d5cc7acede0b3b12e927ddf8e4b076539b231af5ef8c2c75599bc75428e\n  Stored in directory: /root/.cache/pip/wheels/a8/8c/77/fe901ee94ea3863f1056f48ed263e706bd9f807b40fa63dc61\n  Building wheel for Shapely (setup.py): started\n  Building wheel for Shapely (setup.py): finished with status 'done'\n  Created wheel for Shapely: filename=Shapely-1.6.4.post2-py2.py3-none-any.whl size=157354 sha256=f000583407bfb8279c1ae5e1f08632307fc9d09cec8b4c0e08b6b621459678d1\n  Stored in directory: /root/.cache/pip/wheels/8a/1f/62/94d8f55d7868feb446c91631bfb67a4c3bf1e9afa77ebc3b70\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-cp311-cp311-linux_x86_64.whl size=14370 sha256=17b39cae18fcc1131c179e99fa90a5c35514c8b0ab9a28c8d869ca54f80a78ce\n  Stored in directory: /root/.cache/pip/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\nSuccessfully built msgpack pymongo Shapely MarkupSafe\nFailed to build Fiona\nInstalling collected packages: Shapely, msgpack, colorhash, chardet, urllib3, six, pymongo, MarkupSafe, itsdangerous, idna, colorama, click, certifi, attrs, Werkzeug, requests, munch, Jinja2, cligj, click-plugins, Flask, Fiona, geozones\n  Running setup.py install for Fiona: started\n  Running setup.py install for Fiona: finished with status 'error'\n\u001b[91m  error: subprocess-exited-with-error\n  \n  × Running setup.py install for Fiona did not run successfully.\n  │ exit code: 1\n  ╰─> [19 lines of output]\n      /usr/local/lib/python3.11/site-packages/setuptools/_distutils/dist.py:264: UserWarning: Unknown distribution option: 'metadata_version'\n        warnings.warn(msg)\n      /usr/local/lib/python3.11/site-packages/setuptools/_distutils/dist.py:264: UserWarning: Unknown distribution option: 'requires_python'\n        warnings.warn(msg)\n      /usr/local/lib/python3.11/site-packages/setuptools/_distutils/dist.py:264: UserWarning: Unknown distribution option: 'requires_external'\n        warnings.warn(msg)\n      running install\n      /usr/local/lib/python3.11/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n        warnings.warn(\n      running build\n      running build_py\n      running build_ext\n      building 'fiona.schema' extension\n      gcc -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/usr/include -I/usr/local/include/python3.11 -c fiona/schema.c -o build/temp.linux-x86_64-cpython-311/fiona/schema.o\n      fiona/schema.c:220:12: fatal error: longintrepr.h: No such file or directory\n        220 |   #include \"longintrepr.h\"\n            |            ^~~~~~~~~~~~~~~\n      compilation terminated.\n      error: command '/usr/bin/gcc' failed with exit code 1\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\n\u001b[0m\u001b[91merror: legacy-install-failure\n\n× Encountered error while trying to install package.\n╰─> Fiona\n\nnote: This is an issue with the package mentioned above, not pip.\nhint: See above for output from the failure.\n\u001b[0mRemoving intermediate container b751a97d825c\n","stderr":"The command '/bin/sh -c pip install -e /src/ && rm -fr /root/.cache' returned a non-zero code: 1\n"},"endTime":1672261410139}