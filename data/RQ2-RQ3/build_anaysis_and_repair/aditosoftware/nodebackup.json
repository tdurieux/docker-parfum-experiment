{"repository":"https://github.com/aditosoftware/nodebackup","dockerfilePath":"Dockerfile","startTime":1672977663076,"endTime":1672977702049,"clone":{"startTime":1672977663077,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/aditosoftware/nodebackup'...\n","error":null,"endTime":1672977663882,"commit":"f796f09b3c6bd01fdb0c05c14e4933ae020ed569"},"originalBuild":{"startTime":1672977663973,"endTime":1672977690830,"error":null,"stdout":"Sending build context to Docker daemon    427kB\r\r\nStep 1/7 : FROM node:10-alpine\n10-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\nde915e575d22: Pulling fs layer\n7150aa69525b: Pulling fs layer\nd7aa47be044e: Pulling fs layer\nd7aa47be044e: Waiting\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\n7150aa69525b: Verifying Checksum\n7150aa69525b: Download complete\nddad3d7c1e96: Pull complete\nde915e575d22: Verifying Checksum\nde915e575d22: Download complete\nd7aa47be044e: Download complete\nde915e575d22: Pull complete\n7150aa69525b: Pull complete\nd7aa47be044e: Pull complete\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/7 : ADD run.sh /\n ---> 480f4a6b0551\nStep 3/7 : ADD BackupExecV3.js /nodebackup/\n ---> 6e8cd050bbcf\nStep 4/7 : ADD lib /nodebackup/lib/\n ---> 224a85976acd\nStep 5/7 : ADD package.json /nodebackup/package.json\n ---> de77e991a64d\nStep 6/7 : RUN apk update && apk upgrade &&     apk add --no-cache bash openssh ssmtp     && touch /crontab.tmp     && echo '2 0 * * * echo \"Test Test\"' >> /crontab.tmp     && crontab /crontab.tmp     && rm -rf /crontab.tmp     && cd /nodebackup && npm install && npm update    && chmod +x /run.sh\n ---> Running in ff0ef98cad12\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\nOK: 11281 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.6-r0 -> 2.10.8-r0)\nExecuting busybox-1.31.1-r10.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/5) Upgrading busybox (1.31.1-r10 -> 1.31.1-r11)\nExecuting busybox-1.31.1-r11.post-upgrade\n(2/5) Upgrading libcrypto1.1 (1.1.1k-r0 -> 1.1.1l-r0)\n(3/5) Upgrading libssl1.1 (1.1.1k-r0 -> 1.1.1l-r0)\n(4/5) Upgrading ssl_client (1.31.1-r10 -> 1.31.1-r11)\n(5/5) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\nExecuting busybox-1.31.1-r11.trigger\nOK: 7 MiB in 16 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/12) Installing ncurses-libs (6.1_p20200118-r4)\n(3/12) Installing readline (8.0.1-r0)\n(4/12) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(5/12) Installing openssh-keygen (8.1_p1-r1)\n(6/12) Installing libedit (20191211.3.1-r0)\n(7/12) Installing openssh-client (8.1_p1-r1)\n(8/12) Installing openssh-sftp-server (8.1_p1-r1)\n(9/12) Installing openssh-server-common (8.1_p1-r1)\n(10/12) Installing openssh-server (8.1_p1-r1)\n(11/12) Installing openssh (8.1_p1-r1)\n(12/12) Installing ssmtp (2.64-r14)\nExecuting busybox-1.31.1-r11.trigger\nOK: 15 MiB in 28 packages\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0madded 37 packages from 49 contributors and audited 37 packages in 3.088s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 1 high severity vulnerability\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container ff0ef98cad12\n ---> a54bf0475ac1\nStep 7/7 : CMD [\"/run.sh\"]\n ---> Running in 4fca8767688d\nRemoving intermediate container 4fca8767688d\n ---> fd1f2c4be57f\nSuccessfully built fd1f2c4be57f\nSuccessfully tagged nodebackup:latest\n","stderr":"","imageSize":102251134},"repair":{"startTime":1672977690920,"endTime":1672977691025,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":13,"end":13,"columnStart":25,"columnEnd":36}}],"repairedDockerfile":"FROM node:10-alpine\n\nADD run.sh /\nADD BackupExecV3.js /nodebackup/\nADD lib /nodebackup/lib/\nADD package.json /nodebackup/package.json\n\nRUN apk update && apk upgrade && \\\n    apk add --no-cache bash openssh ssmtp \\\n    && touch /crontab.tmp \\\n    && echo '2 0 * * * echo \"Test Test\"' >> /crontab.tmp \\\n    && crontab /crontab.tmp \\\n    && rm -rf /crontab.tmp \\\n    && cd /nodebackup && npm install && npm update \\\n    && chmod +x /run.sh && npm cache clean --force;\n\nCMD [\"/run.sh\"]"},"repairedBuild":{"startTime":1672977691491,"endTime":1672977701791,"error":null,"stdout":"Sending build context to Docker daemon    427kB\r\r\nStep 1/7 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 2/7 : ADD run.sh /\n ---> 9d07100d9bef\nStep 3/7 : ADD BackupExecV3.js /nodebackup/\n ---> 59b0a626a321\nStep 4/7 : ADD lib /nodebackup/lib/\n ---> 3ccc7f690846\nStep 5/7 : ADD package.json /nodebackup/package.json\n ---> a5fcf38755f1\nStep 6/7 : RUN apk update && apk upgrade &&     apk add --no-cache bash openssh ssmtp     && touch /crontab.tmp     && echo '2 0 * * * echo \"Test Test\"' >> /crontab.tmp     && crontab /crontab.tmp     && rm -rf /crontab.tmp     && cd /nodebackup && npm install && npm update     && chmod +x /run.sh && npm cache clean --force;\n ---> Running in 6989b4b075a9\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\nOK: 11281 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.6-r0 -> 2.10.8-r0)\nExecuting busybox-1.31.1-r10.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/5) Upgrading busybox (1.31.1-r10 -> 1.31.1-r11)\nExecuting busybox-1.31.1-r11.post-upgrade\n(2/5) Upgrading libcrypto1.1 (1.1.1k-r0 -> 1.1.1l-r0)\n(3/5) Upgrading libssl1.1 (1.1.1k-r0 -> 1.1.1l-r0)\n(4/5) Upgrading ssl_client (1.31.1-r10 -> 1.31.1-r11)\n(5/5) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\nExecuting busybox-1.31.1-r11.trigger\nOK: 7 MiB in 16 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/12) Installing ncurses-libs (6.1_p20200118-r4)\n(3/12) Installing readline (8.0.1-r0)\n(4/12) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(5/12) Installing openssh-keygen (8.1_p1-r1)\n(6/12) Installing libedit (20191211.3.1-r0)\n(7/12) Installing openssh-client (8.1_p1-r1)\n(8/12) Installing openssh-sftp-server (8.1_p1-r1)\n(9/12) Installing openssh-server-common (8.1_p1-r1)\n(10/12) Installing openssh-server (8.1_p1-r1)\n(11/12) Installing openssh (8.1_p1-r1)\n(12/12) Installing ssmtp (2.64-r14)\nExecuting busybox-1.31.1-r11.trigger\nOK: 15 MiB in 28 packages\n\u001b[91mnpm \u001b[0m\u001b[91mnotice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0madded 37 packages from 49 contributors and audited 37 packages in 1.126s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 1 high severity vulnerability\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 6989b4b075a9\n ---> 2f777abc6097\nStep 7/7 : CMD [\"/run.sh\"]\n ---> Running in 0dee267d47d5\nRemoving intermediate container 0dee267d47d5\n ---> c224e656b31e\nSuccessfully built c224e656b31e\nSuccessfully tagged nodebackup:latest\n","stderr":"","imageSize":100144425}}