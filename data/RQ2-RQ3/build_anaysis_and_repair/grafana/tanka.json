{"repository":"https://github.com/grafana/tanka","dockerfilePath":"Dockerfile","startTime":1672668265450,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/grafana/tanka'...\n","error":null,"commit":"8016ce40a179e775ac1e08b2f8a3b1f23a499e88"},"originalBuild":{"startTimestamp":1672668266717,"endTimestamp":1672668314478,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t tanka:latest -f /tmp/dinghy-analysis/grafana/tanka/Dockerfile ."},"stdout":"Sending build context to Docker daemon  4.695MB\r\r\nStep 1/23 : FROM golang:alpine3.16 as kubectl\nalpine3.16: Pulling from library/golang\nca7dd9ec2225: Already exists\nc41ae7ad2b39: Pulling fs layer\n20236f47f9be: Pulling fs layer\n74a276da2a69: Pulling fs layer\n74a276da2a69: Verifying Checksum\n74a276da2a69: Download complete\nc41ae7ad2b39: Download complete\nc41ae7ad2b39: Pull complete\n20236f47f9be: Verifying Checksum\n20236f47f9be: Download complete\n20236f47f9be: Pull complete\n74a276da2a69: Pull complete\nDigest: sha256:4b4f7127b01b372115ed9054abc6de0a0b3fdea224561b354af7bb6e946acaa9\nStatus: Downloaded newer image for golang:alpine3.16\n ---> d227b49ae926\nStep 2/23 : RUN apk add --no-cache curl\n ---> Running in 1237e005ecc1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing brotli-libs (1.0.9-r6)\n(2/4) Installing nghttp2-libs (1.47.0-r0)\n(3/4) Installing libcurl (7.83.1-r5)\n(4/4) Installing curl (7.83.1-r5)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 19 packages\nRemoving intermediate container 1237e005ecc1\n ---> d331fdaec812\nStep 3/23 : RUN export VERSION=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) &&    export OS=$(go env GOOS) &&     export ARCH=$(go env GOARCH) &&    curl -o /usr/local/bin/kubectl -L https://storage.googleapis.com/kubernetes-release/release/${VERSION}/bin/${OS}/${ARCH}/kubectl &&    chmod +x /usr/local/bin/kubectl\n ---> Running in 26751a7083e0\n\u001b[91m  % Total    % Received % Xferd  Avera\u001b[0m\u001b[91mge Speed   Time    Time     Time  Current\n          \u001b[0m\u001b[91m               \u001b[0m\u001b[91m       \u001b[0m\u001b[91m Dlo\u001b[0m\u001b[91mad  \u001b[0m\u001b[91mUpload \u001b[0m\u001b[91m  Tot\u001b[0m\u001b[91mal   Spent  \u001b[0m\u001b[91m  Le\u001b[0m\u001b[91mft  Sp\u001b[0m\u001b[91meed\n\u001b[0m\u001b[91m\r  0  \u001b[0m\u001b[91m   0    0     0    0    \u001b[0m\u001b[91m 0      \u001b[0m\u001b[91m0     \u001b[0m\u001b[91m 0 --:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- -\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- --:--:--  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r 48 45.7M   48 22.2M    0     0  51.1M      0 --:--:-- -\u001b[0m\u001b[91m-:--:-- --:--:-- 51.1M\u001b[0m\u001b[91m\r100 45.7M  100 45.7M    0     0  70.7M      0 --:--:-- --:--:-- \u001b[0m\u001b[91m--:--:-- 70.6M\n\u001b[0mRemoving intermediate container 26751a7083e0\n ---> a53e76ceca53\nStep 4/23 : FROM golang:alpine3.16 as jb\n ---> d227b49ae926\nStep 5/23 : WORKDIR /tmp\n ---> Running in a0c496dda6ac\nRemoving intermediate container a0c496dda6ac\n ---> bfa2f12b8ff7\nStep 6/23 : RUN apk add --no-cache git make bash &&    git clone https://github.com/jsonnet-bundler/jsonnet-bundler &&    ls /bin &&    cd jsonnet-bundler &&    make static &&    mv _output/jb /usr/local/bin/jb\n ---> Running in 91fb45ce712a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/11) Installing ncurses-libs (6.3_p20220521-r0)\n(3/11) Installing readline (8.1.2-r0)\n(4/11) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/11) Installing brotli-libs (1.0.9-r6)\n(6/11) Installing nghttp2-libs (1.47.0-r0)\n(7/11) Installing libcurl (7.83.1-r5)\n(8/11) Installing expat (2.5.0-r0)\n(9/11) Installing pcre2 (10.40-r0)\n(10/11) Installing git (2.36.3-r0)\n(11/11) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 22 MiB in 26 packages\n\u001b[91mCloning into 'jsonnet-bundler'...\n\u001b[0march\nash\nbase64\nbash\nbbconfig\nbusybox\ncat\nchattr\nchgrp\nchmod\nchown\ncp\ndate\ndd\ndf\ndmesg\ndnsdomainname\ndumpkmap\necho\ned\negrep\nfalse\nfatattr\nfdflush\nfgrep\nfsync\ngetopt\ngrep\ngunzip\ngzip\nhostname\nionice\niostat\nipcalc\nkbd_mode\nkill\nlink\nlinux32\nlinux64\nln\nlogin\nls\nlsattr\nlzop\nmakemime\nmkdir\nmknod\nmktemp\nmore\nmount\nmountpoint\nmpstat\nmv\nnetstat\nnice\npidof\nping\nping6\npipe_progress\nprintenv\nps\npwd\nreformime\nrev\nrm\nrmdir\nrun-parts\nsed\nsetpriv\nsetserial\nsh\nsleep\nstat\nstty\nsu\nsync\ntar\ntouch\ntrue\numount\nuname\nusleep\nwatch\nzcat\nCGO_ENABLED=0 go build -ldflags='-s -w -extldflags \"-static\" -X main.Version=v0.5.1-2-g3dfb345' -o _output/jb ./cmd/jb\n\u001b[91mgo: downloading github.com/fatih/color v1.13.0\ngo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.12\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220615213510-4f61da869c0c\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/units v0.0.0-20211218093645-b94a6e3cc137\n\u001b[0mRemoving intermediate container 91fb45ce712a\n ---> f33b6cd3c1c6\nStep 7/23 : FROM golang:alpine3.16 as helm\n ---> d227b49ae926\nStep 8/23 : WORKDIR /tmp/helm\n ---> Running in 3821951c3187\nRemoving intermediate container 3821951c3187\n ---> 74197a0a731c\nStep 9/23 : RUN apk add --no-cache jq curl\n ---> Running in 1df6a4d8fdb5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r6)\n(2/6) Installing nghttp2-libs (1.47.0-r0)\n(3/6) Installing libcurl (7.83.1-r5)\n(4/6) Installing curl (7.83.1-r5)\n(5/6) Installing oniguruma (6.9.8-r0)\n(6/6) Installing jq (1.6-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 9 MiB in 21 packages\nRemoving intermediate container 1df6a4d8fdb5\n ---> eca57ca857f3\nStep 10/23 : RUN export TAG=$(curl --silent \"https://api.github.com/repos/helm/helm/releases/latest\" | jq -r .tag_name) &&    export OS=$(go env GOOS) &&    export ARCH=$(go env GOARCH) &&    curl -SL \"https://get.helm.sh/helm-${TAG}-${OS}-${ARCH}.tar.gz\" > helm.tgz &&     tar -xvf helm.tgz --strip-components=1\n ---> Running in 5dd36186c0d7\n\u001b[91m  % Total    % Received % Xferd  Average\u001b[0m\u001b[91m Speed   \u001b[0m\u001b[91mTime    Time     Time\u001b[0m\u001b[91m  Curren\u001b[0m\u001b[91mt\n \u001b[0m\u001b[91m     \u001b[0m\u001b[91m    \u001b[0m\u001b[91m      \u001b[0m\u001b[91m    \u001b[0m\u001b[91m     \u001b[0m\u001b[91m       \u001b[0m\u001b[91m Dl\u001b[0m\u001b[91moad\u001b[0m\u001b[91m  Upload   Total   Sp\u001b[0m\u001b[91ment    Left  \u001b[0m\u001b[91mSpeed\n\r\u001b[0m\u001b[91m  0     0\u001b[0m\u001b[91m    0     0 \u001b[0m\u001b[91m   0     0      0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0 -\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- -\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- --:--\u001b[0m\u001b[91m:--   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r100 13.8M  100 13.8M    0     0  9972k      0  \u001b[0m\u001b[91m0:00:01  0:\u001b[0m\u001b[91m00:01 --:--:-\u001b[0m\u001b[91m- 9977k\n\u001b[0mlinux-amd64/\nlinux-amd64/helm\nlinux-amd64/LICENSE\nlinux-amd64/README.md\nRemoving intermediate container 5dd36186c0d7\n ---> 3025d7f527b6\nStep 11/23 : FROM golang:alpine3.16 as kustomize\n ---> d227b49ae926\nStep 12/23 : WORKDIR /tmp/kustomize\n ---> Running in dd1b111de9c3\nRemoving intermediate container dd1b111de9c3\n ---> cb7961438662\nStep 13/23 : RUN apk add --no-cache jq curl\n ---> Running in b7fb3cd063fd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r6)\n(2/6) Installing nghttp2-libs (1.47.0-r0)\n(3/6) Installing libcurl (7.83.1-r5)\n(4/6) Installing curl (7.83.1-r5)\n(5/6) Installing oniguruma (6.9.8-r0)\n(6/6) Installing jq (1.6-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 9 MiB in 21 packages\nRemoving intermediate container b7fb3cd063fd\n ---> 2806c677e0db\nStep 14/23 : RUN export TAG=$(curl --silent \"https://api.github.com/repos/kubernetes-sigs/kustomize/releases\" | jq -r '[ .[] | select(.name | startswith(\"kustomize\")) ] | .[0].tag_name') &&    export VERSION_TAG=${TAG#*/} &&    export OS=$(go env GOOS) &&    export ARCH=$(go env GOARCH) &&    echo \"https://github.com/kubernetes-sigs/kustomize/releases/download/${TAG}/kustomize_${VERSION_TAG}_${OS}_${ARCH}.tar.gz\" &&     curl -SL \"https://github.com/kubernetes-sigs/kustomize/releases/download/${TAG}/kustomize_${VERSION_TAG}_${OS}_${ARCH}.tar.gz\" > kustomize.tgz &&     tar -xvf kustomize.tgz\n ---> Running in dee540228064\nhttps://github.com/kubernetes-sigs/kustomize/releases/download/kustomize/v4.5.7/kustomize_v4.5.7_linux_amd64.tar.gz\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 D\u001b[0m\u001b[91mload  Upload   Total   Spent    Left  S\u001b[0m\u001b[91mpeed\n\r  0     0 \u001b[0m\u001b[91m   0     0    0     0  \u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m     0 --:-\u001b[0m\u001b[91m-:-- --:-\u001b[0m\u001b[91m-:-- --:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 \u001b[0m\u001b[91m--:--:-- --:--:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:--     0\n\u001b[0m\u001b[91m\r 48 5622k   48 2712k    0     0  4987\u001b[0m\u001b[91mk      0  0:00:01\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:--  0:00\u001b[0m\u001b[91m:01 4987k\u001b[0m\u001b[91m\r100 5622k  100 5622k    0     0  7458k     \u001b[0m\u001b[91m 0 --:--:-- \u001b[0m\u001b[91m--:--:-\u001b[0m\u001b[91m- --\u001b[0m\u001b[91m:--:-- 13.5\u001b[0m\u001b[91mM\n\u001b[0mkustomize\nRemoving intermediate container dee540228064\n ---> 85e1440653ea\nStep 15/23 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nca7dd9ec2225: Already exists\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 16/23 : RUN apk add --no-cache coreutils diffutils less git openssh-client\n ---> Running in 7480cbb2082e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing libacl (2.3.1-r0)\n(2/21) Installing libattr (2.5.1-r1)\n(3/21) Installing gmp (6.2.1-r2)\n(4/21) Installing skalibs (2.11.2.0-r0)\n(5/21) Installing utmps-libs (0.1.2.0-r0)\n(6/21) Installing coreutils (9.1-r0)\n(7/21) Installing diffutils (3.8-r0)\n(8/21) Installing ca-certificates (20220614-r0)\n(9/21) Installing brotli-libs (1.0.9-r6)\n(10/21) Installing nghttp2-libs (1.47.0-r0)\n(11/21) Installing libcurl (7.83.1-r5)\n(12/21) Installing expat (2.5.0-r0)\n(13/21) Installing pcre2 (10.40-r0)\n(14/21) Installing git (2.36.3-r0)\n(15/21) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(16/21) Installing ncurses-libs (6.3_p20220521-r0)\n(17/21) Installing less (590-r0)\n(18/21) Installing openssh-keygen (9.0_p1-r2)\n(19/21) Installing libedit (20210910.3.1-r0)\n(20/21) Installing openssh-client-common (9.0_p1-r2)\n(21/21) Installing openssh-client-default (9.0_p1-r2)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 27 MiB in 35 packages\nRemoving intermediate container 7480cbb2082e\n ---> 7c41dafafd32\nStep 17/23 : COPY tk /usr/local/bin/tk\n","stderr":"COPY failed: file not found in build context or excluded by .dockerignore: stat tk: file does not exist\n"},"endTime":1672668314547}