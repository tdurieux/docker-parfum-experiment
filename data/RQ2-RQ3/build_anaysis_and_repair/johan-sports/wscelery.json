{"repository":"https://github.com/johan-sports/wscelery","dockerfilePath":"Dockerfile","startTime":1672792898729,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/johan-sports/wscelery'...\n","error":null,"commit":"c16a65f2469464b28e8adf527f02de899a589bc9"},"originalBuild":{"startTimestamp":1672792899538,"endTimestamp":1672792924293,"error":null,"stdout":"Sending build context to Docker daemon  208.9kB\r\r\nStep 1/10 : FROM python:3-alpine\n3-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n877ccf16716c: Verifying Checksum\n877ccf16716c: Download complete\n3cfcd1e4ebae: Verifying Checksum\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3-alpine\n ---> 18ccdc39ea28\nStep 2/10 : MAINTAINER JOHAN Sports <antonis@johan-sports.com>\n ---> Running in 5cd1d8f716c7\nRemoving intermediate container 5cd1d8f716c7\n ---> adad51e268a5\nStep 3/10 : RUN apk add --update ca-certificates && update-ca-certificates\n ---> Running in 908b30a60085\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 16 MiB in 37 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container 908b30a60085\n ---> c1d489929907\nStep 4/10 : RUN pip install redis wscelery\n ---> Running in d76d5a6ff63f\nCollecting redis\n  Downloading redis-4.4.0-py3-none-any.whl (236 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 236.4/236.4 kB 8.8 MB/s eta 0:00:00\nCollecting wscelery\n  Downloading wscelery-0.2.0-py2.py3-none-any.whl (10 kB)\nCollecting async-timeout>=4.0.2\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting cachetools==2.0.0\n  Downloading cachetools-2.0.0-py2.py3-none-any.whl (11 kB)\nCollecting celery<5.0,>=4.0.2\n  Downloading celery-4.4.7-py2.py3-none-any.whl (427 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 427.6/427.6 kB 29.3 MB/s eta 0:00:00\nCollecting tornado==4.5\n  Downloading tornado-4.5.tar.gz (483 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 483.2/483.2 kB 22.8 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pytz>dev\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 16.8 MB/s eta 0:00:00\nCollecting billiard<4.0,>=3.6.3.0\n  Downloading billiard-3.6.4.0-py3-none-any.whl (89 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 89.5/89.5 kB 8.7 MB/s eta 0:00:00\nCollecting kombu<4.7,>=4.6.10\n  Downloading kombu-4.6.11-py2.py3-none-any.whl (184 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 184.4/184.4 kB 20.4 MB/s eta 0:00:00\nCollecting vine==1.3.0\n  Downloading vine-1.3.0-py2.py3-none-any.whl (14 kB)\nCollecting amqp<2.7,>=2.6.0\n  Downloading amqp-2.6.1-py2.py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.0/48.0 kB 12.3 MB/s eta 0:00:00\nBuilding wheels for collected packages: tornado\n  Building wheel for tornado (setup.py): started\n  Building wheel for tornado (setup.py): finished with status 'done'\n  Created wheel for tornado: filename=tornado-4.5-cp311-cp311-linux_x86_64.whl size=419859 sha256=bd3e1960c3551e360a09549e3d64b7dc364475dba86f5644505244f3babd4437\n  Stored in directory: /root/.cache/pip/wheels/60/96/e7/706f872468f1d4b7401ce920ab90c758792460fa928498921a\nSuccessfully built tornado\nInstalling collected packages: tornado, pytz, cachetools, billiard, vine, async-timeout, redis, amqp, kombu, celery, wscelery\nSuccessfully installed amqp-2.6.1 async-timeout-4.0.2 billiard-3.6.4.0 cachetools-2.0.0 celery-4.4.7 kombu-4.6.11 pytz-2022.7 redis-4.4.0 tornado-4.5 vine-1.3.0 wscelery-0.2.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container d76d5a6ff63f\n ---> 24c5245c4401\nStep 5/10 : ENV PYTHONUNBUFFERED=1\n ---> Running in 77632cc5c296\nRemoving intermediate container 77632cc5c296\n ---> 7215519f16aa\nStep 6/10 : RUN mkdir -p /usr/src/app\n ---> Running in 1e27a41822b2\nRemoving intermediate container 1e27a41822b2\n ---> 4cc6c55a81d1\nStep 7/10 : COPY tools/run_docker.sh /usr/src/app/run.sh\n ---> 79049afa019f\nStep 8/10 : EXPOSE 1337\n ---> Running in 1bf48631c10a\nRemoving intermediate container 1bf48631c10a\n ---> a01060147cf0\nStep 9/10 : USER nobody\n ---> Running in 911dad88ab4b\nRemoving intermediate container 911dad88ab4b\n ---> 1f6cf3319668\nStep 10/10 : CMD [\"sh\", \"/usr/src/app/run.sh\"]\n ---> Running in 75871f22515b\nRemoving intermediate container 75871f22515b\n ---> 39046985250f\nSuccessfully built 39046985250f\nSuccessfully tagged wscelery:latest\n","stderr":"","imageSize":85435302},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":8,"end":8,"columnStart":4,"columnEnd":30}},{"name":"mkdirUsrSrcThenRemove","position":{"start":13,"end":13,"columnStart":4,"columnEnd":25}},{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM python:3-alpine\n\nMAINTAINER JOHAN Sports <antonis@johan-sports.com>\n\n# Get latest root certificates\nRUN apk add --no-cache --update ca-certificates && update-ca-certificates\n\n# Install required packages\nRUN pip install --no-cache-dir redis wscelery\n\n# Force stdin/stdout/stderr to be completelly unbuffered\nENV PYTHONUNBUFFERED=1\n\nRUN mkdir -p /usr/src/app\nCOPY tools/run_docker.sh /usr/src/app/run.sh\n\n# Default port\nEXPOSE 1337\n\n# Run as non-root user\nUSER nobody\n\nCMD [\"sh\", \"/usr/src/app/run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672792925641,"endTimestamp":1672792943159,"error":null,"stdout":"Sending build context to Docker daemon  208.9kB\r\r\nStep 1/10 : FROM python:3-alpine\n ---> 18ccdc39ea28\nStep 2/10 : MAINTAINER JOHAN Sports <antonis@johan-sports.com>\n ---> Running in a8f351bce161\nRemoving intermediate container a8f351bce161\n ---> 47f4442845f2\nStep 3/10 : RUN apk add --no-cache --update ca-certificates && update-ca-certificates\n ---> Running in c4ff8ec574b0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 16 MiB in 37 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container c4ff8ec574b0\n ---> 87f6f2b76327\nStep 4/10 : RUN pip install --no-cache-dir redis wscelery\n ---> Running in 792e2f60d90a\nCollecting redis\n  Downloading redis-4.4.0-py3-none-any.whl (236 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 236.4/236.4 kB 21.0 MB/s eta 0:00:00\nCollecting wscelery\n  Downloading wscelery-0.2.0-py2.py3-none-any.whl (10 kB)\nCollecting async-timeout>=4.0.2\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting cachetools==2.0.0\n  Downloading cachetools-2.0.0-py2.py3-none-any.whl (11 kB)\nCollecting celery<5.0,>=4.0.2\n  Downloading celery-4.4.7-py2.py3-none-any.whl (427 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 427.6/427.6 kB 96.8 MB/s eta 0:00:00\nCollecting tornado==4.5\n  Downloading tornado-4.5.tar.gz (483 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 483.2/483.2 kB 99.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pytz>dev\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 124.3 MB/s eta 0:00:00\nCollecting billiard<4.0,>=3.6.3.0\n  Downloading billiard-3.6.4.0-py3-none-any.whl (89 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 89.5/89.5 kB 91.5 MB/s eta 0:00:00\nCollecting kombu<4.7,>=4.6.10\n  Downloading kombu-4.6.11-py2.py3-none-any.whl (184 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 184.4/184.4 kB 134.8 MB/s eta 0:00:00\nCollecting vine==1.3.0\n  Downloading vine-1.3.0-py2.py3-none-any.whl (14 kB)\nCollecting amqp<2.7,>=2.6.0\n  Downloading amqp-2.6.1-py2.py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.0/48.0 kB 268.0 MB/s eta 0:00:00\nBuilding wheels for collected packages: tornado\n  Building wheel for tornado (setup.py): started\n  Building wheel for tornado (setup.py): finished with status 'done'\n  Created wheel for tornado: filename=tornado-4.5-cp311-cp311-linux_x86_64.whl size=419859 sha256=959bf0c7375c98963f20e7dfc699963a530dc7522bb19d2fdd78a0b972f2b72b\n  Stored in directory: /tmp/pip-ephem-wheel-cache-65pfjiq9/wheels/60/96/e7/706f872468f1d4b7401ce920ab90c758792460fa928498921a\nSuccessfully built tornado\nInstalling collected packages: tornado, pytz, cachetools, billiard, vine, async-timeout, redis, amqp, kombu, celery, wscelery\nSuccessfully installed amqp-2.6.1 async-timeout-4.0.2 billiard-3.6.4.0 cachetools-2.0.0 celery-4.4.7 kombu-4.6.11 pytz-2022.7 redis-4.4.0 tornado-4.5 vine-1.3.0 wscelery-0.2.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 792e2f60d90a\n ---> f9e3103b591a\nStep 5/10 : ENV PYTHONUNBUFFERED=1\n ---> Running in ebc88c2b735a\nRemoving intermediate container ebc88c2b735a\n ---> 7942796b4ec4\nStep 6/10 : RUN mkdir -p /usr/src/app\n ---> Running in 6c57feefedfa\nRemoving intermediate container 6c57feefedfa\n ---> de96bc37a06d\nStep 7/10 : COPY tools/run_docker.sh /usr/src/app/run.sh\n ---> 8e238a8cff76\nStep 8/10 : EXPOSE 1337\n ---> Running in 38ae91352d8a\nRemoving intermediate container 38ae91352d8a\n ---> 4c055eb8c8ac\nStep 9/10 : USER nobody\n ---> Running in 52e85b470a09\nRemoving intermediate container 52e85b470a09\n ---> 89bae30d313c\nStep 10/10 : CMD [\"sh\", \"/usr/src/app/run.sh\"]\n ---> Running in 8ede169c447a\nRemoving intermediate container 8ede169c447a\n ---> be0a2e4ed2fb\nSuccessfully built be0a2e4ed2fb\nSuccessfully tagged wscelery:latest\n","stderr":"","imageSize":80180829},"endTime":1672792943484}