{"repository":"https://github.com/malice-plugins/pdf","dockerfilePath":"Dockerfile","startTime":1672385470233,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/malice-plugins/pdf'...\n","error":null,"commit":"ae56b2bb111f0e0eb2dc2a711f61a15b904f774e"},"originalBuild":{"startTimestamp":1672385471186,"endTimestamp":1672385492940,"error":null,"stdout":"Sending build context to Docker daemon  2.286MB\r\r\nStep 1/14 : FROM malice/alpine\nlatest: Pulling from malice/alpine\n8e3ba11ec2a2: Pulling fs layer\n0ec7cac831db: Pulling fs layer\n70849570abf5: Pulling fs layer\n8e3ba11ec2a2: Verifying Checksum\n8e3ba11ec2a2: Download complete\n0ec7cac831db: Download complete\n70849570abf5: Download complete\n8e3ba11ec2a2: Pull complete\n0ec7cac831db: Pull complete\n70849570abf5: Pull complete\nDigest: sha256:55e1a7dfbdecea5baf2f075f9c0bd16089adbe3163ce05bff3875b30eac6e1ad\nStatus: Downloaded newer image for malice/alpine:latest\n ---> eb73e9d3be17\nStep 2/14 : LABEL maintainer \"https://github.com/blacktop\"\n ---> Running in b661ad59c113\nRemoving intermediate container b661ad59c113\n ---> 4007a8d9a011\nStep 3/14 : LABEL malice.plugin.repository = \"https://github.com/malice-plugins/pdf.git\"\n ---> Running in 617faed58bfa\nRemoving intermediate container 617faed58bfa\n ---> ba87a7552125\nStep 4/14 : LABEL malice.plugin.category=\"pdf\"\n ---> Running in 58119a4a9c5f\nRemoving intermediate container 58119a4a9c5f\n ---> 473d18b900ca\nStep 5/14 : LABEL malice.plugin.mime=\"application/pdf\"\n ---> Running in 6a2808b309af\nRemoving intermediate container 6a2808b309af\n ---> 5b282fb387d3\nStep 6/14 : LABEL malice.plugin.docker.engine=\"*\"\n ---> Running in dafc529aad13\nRemoving intermediate container dafc529aad13\n ---> b94b2249e9d4\nStep 7/14 : ENV PDFID 0_2_4\n ---> Running in 39b62c0711ef\nRemoving intermediate container 39b62c0711ef\n ---> e2657dca9b26\nStep 8/14 : ENV PDF_PARSER 0_6_8\n ---> Running in 9a3d1e097f47\nRemoving intermediate container 9a3d1e097f47\n ---> b0bb1c019632\nStep 9/14 : COPY . /usr/sbin\n ---> 67a48fbf0083\nStep 10/14 : RUN apk --update add --no-cache python py-setuptools\n ---> Running in f21fca991c99\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.6-r7)\n(2/11) Installing expat (2.2.8-r0)\n(3/11) Installing libffi (3.2.1-r4)\n(4/11) Installing gdbm (1.13-r1)\n(5/11) Installing ncurses-terminfo-base (6.1_p20180818-r1)\n(6/11) Installing ncurses-terminfo (6.1_p20180818-r1)\n(7/11) Installing ncurses-libs (6.1_p20180818-r1)\n(8/11) Installing readline (7.0.003-r0)\n(9/11) Installing sqlite-libs (3.25.3-r4)\n(10/11) Installing python2 (2.7.15-r3)\n(11/11) Installing py-setuptools (39.1.0-r0)\nExecuting busybox-1.28.4-r0.trigger\nOK: 55 MiB in 26 packages\nRemoving intermediate container f21fca991c99\n ---> c6e1d1a54890\nStep 11/14 : RUN apk --update add --no-cache -t .build-deps   openssl-dev   build-base   python-dev   libffi-dev   musl-dev   libc-dev   py-pip   gcc   git   && set -ex   && echo \"===> Install malice/pdf plugin...\"   && cd /usr/sbin   && export PIP_NO_CACHE_DIR=off   && export PIP_DISABLE_PIP_VERSION_CHECK=on   && pip install --upgrade pip wheel   && echo \"\\t[*] install requirements...\"   && pip install -U -r requirements.txt   && echo \"\\t[*] install pdfscan.py...\"   && chmod +x pdfscan.py   && ln -s /usr/sbin/pdfscan.py /usr/sbin/pdfscan   && echo \"\\t[*] clean up...\"   && rm requirements.txt Dockerfile   && apk del --purge .build-deps\n ---> Running in 8ec19aefea8f\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/35) Upgrading musl (1.1.19-r10 -> 1.1.19-r11)\n(2/35) Installing pkgconf (1.5.3-r0)\n(3/35) Installing zlib-dev (1.2.11-r1)\n(4/35) Installing libcrypto1.0 (1.0.2u-r0)\n(5/35) Installing libssl1.0 (1.0.2u-r0)\n(6/35) Installing openssl-dev (1.0.2u-r0)\n(7/35) Installing binutils (2.30-r6)\n(8/35) Installing libmagic (5.32-r2)\n(9/35) Installing file (5.32-r2)\n(10/35) Installing gmp (6.1.2-r1)\n(11/35) Installing isl (0.18-r0)\n(12/35) Installing libgomp (6.4.0-r9)\n(13/35) Installing libatomic (6.4.0-r9)\n(14/35) Installing libgcc (6.4.0-r9)\n(15/35) Installing mpfr3 (3.1.5-r1)\n(16/35) Installing mpc1 (1.0.3-r1)\n(17/35) Installing libstdc++ (6.4.0-r9)\n(18/35) Installing gcc (6.4.0-r9)\n(19/35) Installing musl-dev (1.1.19-r11)\n(20/35) Installing libc-dev (0.7.1-r0)\n(21/35) Installing g++ (6.4.0-r9)\n(22/35) Installing make (4.2.1-r2)\n(23/35) Installing fortify-headers (0.9-r0)\n(24/35) Installing build-base (0.5-r1)\n(25/35) Installing python2-dev (2.7.15-r3)\n(26/35) Installing libffi-dev (3.2.1-r4)\n(27/35) Installing py2-pip (10.0.1-r0)\n(28/35) Installing ca-certificates (20191127-r2)\n(29/35) Installing nghttp2-libs (1.39.2-r0)\n(30/35) Installing libssh2 (1.9.0-r1)\n(31/35) Installing libcurl (7.61.1-r3)\n(32/35) Installing pcre2 (10.31-r0)\n(33/35) Installing git (2.18.4-r0)\n(34/35) Installing .build-deps (0)\n(35/35) Upgrading musl-utils (1.1.19-r10 -> 1.1.19-r11)\nExecuting busybox-1.28.4-r0.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 268 MiB in 59 packages\n\u001b[91m+ echo '===> Install malice/pdf plugin...'\n+ cd /usr/sbin\n+ export 'PIP_NO_CACHE_DIR=off'\n+ export 'PIP_DISABLE_PIP_VERSION_CHECK=on'\n+ pip install --upgrade pip wheel\n\u001b[0m===> Install malice/pdf plugin...\nCollecting pip\n  Downloading https://files.pythonhosted.org/packages/27/79/8a850fe3496446ff0d584327ae44e7500daf6764ca1a382d2d02789accf7/pip-20.3.4-py2.py3-none-any.whl (1.5MB)\nCollecting wheel\n  Downloading https://files.pythonhosted.org/packages/27/d6/003e593296a85fd6ed616ed962795b2f87709c3eee2bca4f6d0fe55c6d00/wheel-0.37.1-py2.py3-none-any.whl\nInstalling collected packages: pip, wheel\n  Found existing installation: pip 10.0.1\n    Uninstalling pip-10.0.1:\n      Successfully uninstalled pip-10.0.1\nSuccessfully installed pip-20.3.4 wheel-0.37.1\n\\t[*] install requirements...\n\u001b[91m+ echo '\\t[*] install requirements...'\n+ pip install -U -r requirements.txt\n\u001b[0m\u001b[91mDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.\n\u001b[0mCollecting toml==0.9.4\n  Downloading toml-0.9.4.tar.gz (12 kB)\nCollecting click<7.0.0,>=6.0.0\n  Downloading click-6.7-py2.py3-none-any.whl (71 kB)\nCollecting elasticsearch<7.0.0,>=6.0.0\n  Downloading elasticsearch-6.8.2-py2.py3-none-any.whl (90 kB)\nCollecting Jinja2==2.10\n  Downloading Jinja2-2.10-py2.py3-none-any.whl (126 kB)\nCollecting Flask==1.0.2\n  Downloading Flask-1.0.2-py2.py3-none-any.whl (91 kB)\nCollecting Werkzeug==0.14.1\n  Downloading Werkzeug-0.14.1-py2.py3-none-any.whl (322 kB)\nCollecting requests>=2.20.0\n  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)\nCollecting fuzzywuzzy\n  Downloading fuzzywuzzy-0.18.0-py2.py3-none-any.whl (18 kB)\nCollecting python-Levenshtein\n  Downloading python-Levenshtein-0.12.2.tar.gz (50 kB)\nCollecting urllib3>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting MarkupSafe>=0.23\n  Downloading MarkupSafe-1.1.1.tar.gz (19 kB)\nCollecting itsdangerous>=0.24\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2021.10.8-py2.py3-none-any.whl (149 kB)\nCollecting idna<3,>=2.5; python_version < \"3\"\n  Downloading idna-2.10-py2.py3-none-any.whl (58 kB)\nCollecting chardet<5,>=3.0.2; python_version < \"3\"\n  Downloading chardet-4.0.0-py2.py3-none-any.whl (178 kB)\nRequirement already satisfied, skipping upgrade: setuptools in /usr/lib/python2.7/site-packages (from python-Levenshtein->-r requirements.txt (line 11)) (39.1.0.post20180508)\nBuilding wheels for collected packages: toml, python-Levenshtein, MarkupSafe\n  Building wheel for toml (setup.py): started\n  Building wheel for toml (setup.py): finished with status 'done'\n  Created wheel for toml: filename=toml-0.9.4-py2-none-any.whl size=11029 sha256=a7d5844f9f77ae875c3bcc1191bbb8d2e40c3b16e526fd668a67334c978e0648\n  Stored in directory: /tmp/pip-ephem-wheel-cache-jC6Fmu/wheels/49/ef/e3/689590cc06ae45531ede8fc9225d0d5e1d6ca4fba57efd8752\n  Building wheel for python-Levenshtein (setup.py): started\n  Building wheel for python-Levenshtein (setup.py): finished with status 'done'\n  Created wheel for python-Levenshtein: filename=python_Levenshtein-0.12.2-cp27-cp27mu-linux_x86_64.whl size=128769 sha256=abdd1f0dcea501380791836a74711bb23adf4bc868f941f49ada44c79f08ddaf\n  Stored in directory: /tmp/pip-ephem-wheel-cache-jC6Fmu/wheels/72/73/75/b2eaa4047c25a5ac06f4a874286a0d34aac95c066259643e69\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-1.1.1-cp27-cp27mu-linux_x86_64.whl size=26715 sha256=6ad55257d1006dcaa3061c4d1fc8af6a0f0147d9533ae16860571e3ad61c839e\n  Stored in directory: /tmp/pip-ephem-wheel-cache-jC6Fmu/wheels/4d/4b/bf/cce593b6a13cd17b3bf2452827317fc68dfa4c61655596028c\nSuccessfully built toml python-Levenshtein MarkupSafe\nInstalling collected packages: toml, click, urllib3, elasticsearch, MarkupSafe, Jinja2, Werkzeug, itsdangerous, Flask, certifi, idna, chardet, requests, fuzzywuzzy, python-Levenshtein\nSuccessfully installed Flask-1.0.2 Jinja2-2.10 MarkupSafe-1.1.1 Werkzeug-0.14.1 certifi-2021.10.8 chardet-4.0.0 click-6.7 elasticsearch-6.8.2 fuzzywuzzy-0.18.0 idna-2.10 itsdangerous-1.1.0 python-Levenshtein-0.12.2 requests-2.27.1 toml-0.9.4 urllib3-1.26.13\n\\t[*] install pdfscan.py...\n\u001b[91m+ echo '\\t[*] install pdfscan.py...'\n+ chmod +x pdfscan.py\n\u001b[0m\u001b[91m+ ln -s /usr/sbin/pdfscan.py /usr/sbin/pdfscan\n\u001b[0m\u001b[91m+ echo '\\t[*] clean up...'\n+ rm requirements.txt Dockerfile\n\u001b[0m\\t[*] clean up...\n\u001b[91m+ apk del --purge .build-deps\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/33) Purging .build-deps (0)\n(2/33) Purging openssl-dev (1.0.2u-r0)\n(3/33) Purging zlib-dev (1.2.11-r1)\n(4/33) Purging libssl1.0 (1.0.2u-r0)\n(5/33) Purging build-base (0.5-r1)\n(6/33) Purging file (5.32-r2)\n(7/33) Purging g++ (6.4.0-r9)\n(8/33) Purging make (4.2.1-r2)\n(9/33) Purging fortify-headers (0.9-r0)\n(10/33) Purging libffi-dev (3.2.1-r4)\n(11/33) Purging libc-dev (0.7.1-r0)\n(12/33) Purging musl-dev (1.1.19-r11)\n(13/33) Purging gcc (6.4.0-r9)\n(14/33) Purging binutils (2.30-r6)\n(15/33) Purging libatomic (6.4.0-r9)\n(16/33) Purging libgomp (6.4.0-r9)\n(17/33) Purging git (2.18.4-r0)\n(18/33) Purging python2-dev (2.7.15-r3)\n(19/33) Purging pkgconf (1.5.3-r0)\n(20/33) Purging libcrypto1.0 (1.0.2u-r0)\n(21/33) Purging libmagic (5.32-r2)\n(22/33) Purging mpc1 (1.0.3-r1)\n(23/33) Purging mpfr3 (3.1.5-r1)\n(24/33) Purging isl (0.18-r0)\n(25/33) Purging gmp (6.1.2-r1)\n(26/33) Purging libstdc++ (6.4.0-r9)\n(27/33) Purging libgcc (6.4.0-r9)\n(28/33) Purging py2-pip (10.0.1-r0)\n(29/33) Purging libcurl (7.61.1-r3)\n(30/33) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(31/33) Purging nghttp2-libs (1.39.2-r0)\n(32/33) Purging libssh2 (1.9.0-r1)\n(33/33) Purging pcre2 (10.31-r0)\nExecuting busybox-1.28.4-r0.trigger\nOK: 55 MiB in 26 packages\nRemoving intermediate container 8ec19aefea8f\n ---> 086abd0e4b40\nStep 12/14 : WORKDIR /malware\n ---> Running in 837ce10b31b9\nRemoving intermediate container 837ce10b31b9\n ---> d861d932ee82\nStep 13/14 : ENTRYPOINT [\"su-exec\",\"malice\",\"/sbin/tini\",\"--\",\"pdfscan\"]\n ---> Running in 91fdad1893f0\nRemoving intermediate container 91fdad1893f0\n ---> 9ef49980309c\nStep 14/14 : CMD [\"--help\"]\n ---> Running in 5cd8fb4b78dc\nRemoving intermediate container 5cd8fb4b78dc\n ---> 2630c2d643e8\nSuccessfully built 2630c2d643e8\nSuccessfully tagged pdf:latest\n","stderr":"","imageSize":61379457},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":29,"end":29,"columnStart":5,"columnEnd":36}},{"name":"pipUseNoCacheDir","position":{"start":31,"end":31,"columnStart":5,"columnEnd":39}}],"repairedDockerfile":"FROM malice/alpine\n\nLABEL maintainer \"https://github.com/blacktop\"\n\nLABEL malice.plugin.repository = \"https://github.com/malice-plugins/pdf.git\"\nLABEL malice.plugin.category=\"pdf\"\nLABEL malice.plugin.mime=\"application/pdf\"\nLABEL malice.plugin.docker.engine=\"*\"\n\nENV PDFID 0_2_4\nENV PDF_PARSER 0_6_8\n\nCOPY . /usr/sbin\nRUN apk --update add --no-cache python py-setuptools\nRUN apk --update add --no-cache -t .build-deps \\\n  openssl-dev \\\n  build-base \\\n  python-dev \\\n  libffi-dev \\\n  musl-dev \\\n  libc-dev \\\n  py-pip \\\n  gcc \\\n  git \\\n  && set -ex \\\n  && echo \"===> Install malice/pdf plugin...\" \\\n  && cd /usr/sbin \\\n  && export PIP_NO_CACHE_DIR=off \\\n  && export PIP_DISABLE_PIP_VERSION_CHECK=on \\\n  && pip install --no-cache-dir --upgrade pip wheel \\\n  && echo \"\\t[*] install requirements...\" \\\n  && pip install --no-cache-dir -U -r requirements.txt \\\n  # && echo \"\\t[*] install peepdf...\" \\\n  # && pip install https://github.com/jbremer/peepdf.git \\\n  && echo \"\\t[*] install pdfscan.py...\" \\\n  && chmod +x pdfscan.py \\\n  && ln -s /usr/sbin/pdfscan.py /usr/sbin/pdfscan \\\n  && echo \"\\t[*] clean up...\" \\\n  && rm requirements.txt Dockerfile \\\n  && apk del --purge .build-deps\n\nWORKDIR /malware\n\nENTRYPOINT [\"su-exec\",\"malice\",\"/sbin/tini\",\"--\",\"pdfscan\"]\nCMD [\"--help\"]\n"},"repairedBuild":{"startTimestamp":1672385493354,"endTimestamp":1672385513164,"error":null,"stdout":"Sending build context to Docker daemon  2.286MB\r\r\nStep 1/14 : FROM malice/alpine\n ---> eb73e9d3be17\nStep 2/14 : LABEL maintainer \"https://github.com/blacktop\"\n ---> Running in 3c8c8f3337d1\nRemoving intermediate container 3c8c8f3337d1\n ---> 68568ec096a3\nStep 3/14 : LABEL malice.plugin.repository = \"https://github.com/malice-plugins/pdf.git\"\n ---> Running in d9b70f97f287\nRemoving intermediate container d9b70f97f287\n ---> 5e698cfe4e7b\nStep 4/14 : LABEL malice.plugin.category=\"pdf\"\n ---> Running in e8984fe8e6a9\nRemoving intermediate container e8984fe8e6a9\n ---> 89eca0d827aa\nStep 5/14 : LABEL malice.plugin.mime=\"application/pdf\"\n ---> Running in 762ad5d063b0\nRemoving intermediate container 762ad5d063b0\n ---> bd93881eb046\nStep 6/14 : LABEL malice.plugin.docker.engine=\"*\"\n ---> Running in c4159b6f5bf8\nRemoving intermediate container c4159b6f5bf8\n ---> 611dfdb7742d\nStep 7/14 : ENV PDFID 0_2_4\n ---> Running in c1d631b474cc\nRemoving intermediate container c1d631b474cc\n ---> 8f631df7b989\nStep 8/14 : ENV PDF_PARSER 0_6_8\n ---> Running in e58a51616c08\nRemoving intermediate container e58a51616c08\n ---> 8a025b43d82f\nStep 9/14 : COPY . /usr/sbin\n ---> 0be66ee20ce8\nStep 10/14 : RUN apk --update add --no-cache python py-setuptools\n ---> Running in 9943e9547da6\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.6-r7)\n(2/11) Installing expat (2.2.8-r0)\n(3/11) Installing libffi (3.2.1-r4)\n(4/11) Installing gdbm (1.13-r1)\n(5/11) Installing ncurses-terminfo-base (6.1_p20180818-r1)\n(6/11) Installing ncurses-terminfo (6.1_p20180818-r1)\n(7/11) Installing ncurses-libs (6.1_p20180818-r1)\n(8/11) Installing readline (7.0.003-r0)\n(9/11) Installing sqlite-libs (3.25.3-r4)\n(10/11) Installing python2 (2.7.15-r3)\n(11/11) Installing py-setuptools (39.1.0-r0)\nExecuting busybox-1.28.4-r0.trigger\nOK: 55 MiB in 26 packages\nRemoving intermediate container 9943e9547da6\n ---> f184c7cc9eb7\nStep 11/14 : RUN apk --update add --no-cache -t .build-deps   openssl-dev   build-base   python-dev   libffi-dev   musl-dev   libc-dev   py-pip   gcc   git   && set -ex   && echo \"===> Install malice/pdf plugin...\"   && cd /usr/sbin   && export PIP_NO_CACHE_DIR=off   && export PIP_DISABLE_PIP_VERSION_CHECK=on   && pip install --no-cache-dir --upgrade pip wheel   && echo \"\\t[*] install requirements...\"   && pip install --no-cache-dir -U -r requirements.txt   && echo \"\\t[*] install pdfscan.py...\"   && chmod +x pdfscan.py   && ln -s /usr/sbin/pdfscan.py /usr/sbin/pdfscan   && echo \"\\t[*] clean up...\"   && rm requirements.txt Dockerfile   && apk del --purge .build-deps\n ---> Running in aa5cd6ed093d\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/35) Upgrading musl (1.1.19-r10 -> 1.1.19-r11)\n(2/35) Installing pkgconf (1.5.3-r0)\n(3/35) Installing zlib-dev (1.2.11-r1)\n(4/35) Installing libcrypto1.0 (1.0.2u-r0)\n(5/35) Installing libssl1.0 (1.0.2u-r0)\n(6/35) Installing openssl-dev (1.0.2u-r0)\n(7/35) Installing binutils (2.30-r6)\n(8/35) Installing libmagic (5.32-r2)\n(9/35) Installing file (5.32-r2)\n(10/35) Installing gmp (6.1.2-r1)\n(11/35) Installing isl (0.18-r0)\n(12/35) Installing libgomp (6.4.0-r9)\n(13/35) Installing libatomic (6.4.0-r9)\n(14/35) Installing libgcc (6.4.0-r9)\n(15/35) Installing mpfr3 (3.1.5-r1)\n(16/35) Installing mpc1 (1.0.3-r1)\n(17/35) Installing libstdc++ (6.4.0-r9)\n(18/35) Installing gcc (6.4.0-r9)\n(19/35) Installing musl-dev (1.1.19-r11)\n(20/35) Installing libc-dev (0.7.1-r0)\n(21/35) Installing g++ (6.4.0-r9)\n(22/35) Installing make (4.2.1-r2)\n(23/35) Installing fortify-headers (0.9-r0)\n(24/35) Installing build-base (0.5-r1)\n(25/35) Installing python2-dev (2.7.15-r3)\n(26/35) Installing libffi-dev (3.2.1-r4)\n(27/35) Installing py2-pip (10.0.1-r0)\n(28/35) Installing ca-certificates (20191127-r2)\n(29/35) Installing nghttp2-libs (1.39.2-r0)\n(30/35) Installing libssh2 (1.9.0-r1)\n(31/35) Installing libcurl (7.61.1-r3)\n(32/35) Installing pcre2 (10.31-r0)\n(33/35) Installing git (2.18.4-r0)\n(34/35) Installing .build-deps (0)\n(35/35) Upgrading musl-utils (1.1.19-r10 -> 1.1.19-r11)\nExecuting busybox-1.28.4-r0.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 268 MiB in 59 packages\n\u001b[91m+ echo '===> Install malice/pdf plugin...'\n+ cd /usr/sbin\n+ export 'PIP_NO_CACHE_DIR=off'\n+ export 'PIP_DISABLE_PIP_VERSION_CHECK=on'\n+ pip install --no-cache-dir --upgrade pip wheel\n\u001b[0m===> Install malice/pdf plugin...\nCollecting pip\n  Downloading https://files.pythonhosted.org/packages/27/79/8a850fe3496446ff0d584327ae44e7500daf6764ca1a382d2d02789accf7/pip-20.3.4-py2.py3-none-any.whl (1.5MB)\nCollecting wheel\n  Downloading https://files.pythonhosted.org/packages/27/d6/003e593296a85fd6ed616ed962795b2f87709c3eee2bca4f6d0fe55c6d00/wheel-0.37.1-py2.py3-none-any.whl\nInstalling collected packages: pip, wheel\n  Found existing installation: pip 10.0.1\n    Uninstalling pip-10.0.1:\n      Successfully uninstalled pip-10.0.1\nSuccessfully installed pip-20.3.4 wheel-0.37.1\n\\t[*] install requirements...\n\u001b[91m+ echo '\\t[*] install requirements...'\n+ pip install --no-cache-dir -U -r requirements.txt\n\u001b[0m\u001b[91mDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.\n\u001b[0mCollecting toml==0.9.4\n  Downloading toml-0.9.4.tar.gz (12 kB)\nCollecting click<7.0.0,>=6.0.0\n  Downloading click-6.7-py2.py3-none-any.whl (71 kB)\nCollecting elasticsearch<7.0.0,>=6.0.0\n  Downloading elasticsearch-6.8.2-py2.py3-none-any.whl (90 kB)\nCollecting Jinja2==2.10\n  Downloading Jinja2-2.10-py2.py3-none-any.whl (126 kB)\nCollecting Flask==1.0.2\n  Downloading Flask-1.0.2-py2.py3-none-any.whl (91 kB)\nCollecting Werkzeug==0.14.1\n  Downloading Werkzeug-0.14.1-py2.py3-none-any.whl (322 kB)\nCollecting requests>=2.20.0\n  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)\nCollecting fuzzywuzzy\n  Downloading fuzzywuzzy-0.18.0-py2.py3-none-any.whl (18 kB)\nCollecting python-Levenshtein\n  Downloading python-Levenshtein-0.12.2.tar.gz (50 kB)\nCollecting urllib3>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting MarkupSafe>=0.23\n  Downloading MarkupSafe-1.1.1.tar.gz (19 kB)\nCollecting itsdangerous>=0.24\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2021.10.8-py2.py3-none-any.whl (149 kB)\nCollecting idna<3,>=2.5; python_version < \"3\"\n  Downloading idna-2.10-py2.py3-none-any.whl (58 kB)\nCollecting chardet<5,>=3.0.2; python_version < \"3\"\n  Downloading chardet-4.0.0-py2.py3-none-any.whl (178 kB)\nRequirement already satisfied, skipping upgrade: setuptools in /usr/lib/python2.7/site-packages (from python-Levenshtein->-r requirements.txt (line 11)) (39.1.0.post20180508)\nBuilding wheels for collected packages: toml, python-Levenshtein, MarkupSafe\n  Building wheel for toml (setup.py): started\n  Building wheel for toml (setup.py): finished with status 'done'\n  Created wheel for toml: filename=toml-0.9.4-py2-none-any.whl size=11029 sha256=9aa23a74aa55913c37b5c8ff2f202b8a6fe8b1427f1ed4fd72fe949ab11468d1\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_9jUPd/wheels/49/ef/e3/689590cc06ae45531ede8fc9225d0d5e1d6ca4fba57efd8752\n  Building wheel for python-Levenshtein (setup.py): started\n  Building wheel for python-Levenshtein (setup.py): finished with status 'done'\n  Created wheel for python-Levenshtein: filename=python_Levenshtein-0.12.2-cp27-cp27mu-linux_x86_64.whl size=128780 sha256=677e277fdc793c3c4b3961fb56a5880a44b173e2074e6820d2c2068b1e013f50\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_9jUPd/wheels/72/73/75/b2eaa4047c25a5ac06f4a874286a0d34aac95c066259643e69\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-1.1.1-cp27-cp27mu-linux_x86_64.whl size=26717 sha256=55639d785d7b40cd093c0f4abbeacf91521f95dc9642dabf5f2c27e33a8ca180\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_9jUPd/wheels/4d/4b/bf/cce593b6a13cd17b3bf2452827317fc68dfa4c61655596028c\nSuccessfully built toml python-Levenshtein MarkupSafe\nInstalling collected packages: toml, click, urllib3, elasticsearch, MarkupSafe, Jinja2, Werkzeug, itsdangerous, Flask, certifi, idna, chardet, requests, fuzzywuzzy, python-Levenshtein\nSuccessfully installed Flask-1.0.2 Jinja2-2.10 MarkupSafe-1.1.1 Werkzeug-0.14.1 certifi-2021.10.8 chardet-4.0.0 click-6.7 elasticsearch-6.8.2 fuzzywuzzy-0.18.0 idna-2.10 itsdangerous-1.1.0 python-Levenshtein-0.12.2 requests-2.27.1 toml-0.9.4 urllib3-1.26.13\n\u001b[91m+ echo '\\t[*] install pdfscan.py...'\n+ chmod +x pdfscan.py\n\u001b[0m\\t[*] install pdfscan.py...\n\u001b[91m+ ln -s /usr/sbin/pdfscan.py /usr/sbin/pdfscan\n\u001b[0m\u001b[91m+ echo '\\t[*] clean up...'\n\u001b[0m\u001b[91m+ rm requirements.txt Dockerfile\n\u001b[0m\\t[*] clean up...\n\u001b[91m+ apk del --purge .build-deps\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/33) Purging .build-deps (0)\n(2/33) Purging openssl-dev (1.0.2u-r0)\n(3/33) Purging zlib-dev (1.2.11-r1)\n(4/33) Purging libssl1.0 (1.0.2u-r0)\n(5/33) Purging build-base (0.5-r1)\n(6/33) Purging file (5.32-r2)\n(7/33) Purging g++ (6.4.0-r9)\n(8/33) Purging make (4.2.1-r2)\n(9/33) Purging fortify-headers (0.9-r0)\n(10/33) Purging libffi-dev (3.2.1-r4)\n(11/33) Purging libc-dev (0.7.1-r0)\n(12/33) Purging musl-dev (1.1.19-r11)\n(13/33) Purging gcc (6.4.0-r9)\n(14/33) Purging binutils (2.30-r6)\n(15/33) Purging libatomic (6.4.0-r9)\n(16/33) Purging libgomp (6.4.0-r9)\n(17/33) Purging git (2.18.4-r0)\n(18/33) Purging python2-dev (2.7.15-r3)\n(19/33) Purging pkgconf (1.5.3-r0)\n(20/33) Purging libcrypto1.0 (1.0.2u-r0)\n(21/33) Purging libmagic (5.32-r2)\n(22/33) Purging mpc1 (1.0.3-r1)\n(23/33) Purging mpfr3 (3.1.5-r1)\n(24/33) Purging isl (0.18-r0)\n(25/33) Purging gmp (6.1.2-r1)\n(26/33) Purging libstdc++ (6.4.0-r9)\n(27/33) Purging libgcc (6.4.0-r9)\n(28/33) Purging py2-pip (10.0.1-r0)\n(29/33) Purging libcurl (7.61.1-r3)\n(30/33) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(31/33) Purging nghttp2-libs (1.39.2-r0)\n(32/33) Purging libssh2 (1.9.0-r1)\n(33/33) Purging pcre2 (10.31-r0)\nExecuting busybox-1.28.4-r0.trigger\nOK: 55 MiB in 26 packages\nRemoving intermediate container aa5cd6ed093d\n ---> 3eb06570a1fa\nStep 12/14 : WORKDIR /malware\n ---> Running in 16e4b04bda30\nRemoving intermediate container 16e4b04bda30\n ---> 21965eedbe15\nStep 13/14 : ENTRYPOINT [\"su-exec\",\"malice\",\"/sbin/tini\",\"--\",\"pdfscan\"]\n ---> Running in 07a1b9252043\nRemoving intermediate container 07a1b9252043\n ---> c08fc4c0733b\nStep 14/14 : CMD [\"--help\"]\n ---> Running in ddf50cacbdde\nRemoving intermediate container ddf50cacbdde\n ---> fb85554d8ccc\nSuccessfully built fb85554d8ccc\nSuccessfully tagged pdf:latest\n","stderr":"","imageSize":61379487},"endTime":1672385513507}