{"repository":"https://github.com/mrz1836/go-api","dockerfilePath":"Dockerfile","startTime":1672509635047,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mrz1836/go-api'...\n","error":null,"commit":"0c17ea764c1c0215a06c001e153b720126f1ab9c"},"originalBuild":{"startTimestamp":1672509635936,"endTimestamp":1672509740750,"error":null,"stdout":"Sending build context to Docker daemon  396.8kB\r\r\nStep 1/8 : FROM golang:1.19.4-alpine\n1.19.4-alpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Already exists\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\n3c6f08178a17: Download complete\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19.4-alpine\n ---> cae57157ceaa\nStep 2/8 : LABEL version=\"1.1\" name=\"Go API Example\"\n ---> Running in 433666c55355\nRemoving intermediate container 433666c55355\n ---> de9ddb18d2ef\nStep 3/8 : RUN apk update &&     apk add -U tzdata build-base &&     cp /usr/share/zoneinfo/EST5EDT /etc/localtime &&     echo \"UTC\" > /etc/timezone\n ---> Running in 99431c659233\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17814 distinct packages available\n(1/21) Installing libgcc (12.2.1_git20220924-r4)\n(2/21) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/21) Installing binutils (2.39-r2)\n(4/21) Installing libmagic (5.43-r0)\n(5/21) Installing file (5.43-r0)\n(6/21) Installing libgomp (12.2.1_git20220924-r4)\n(7/21) Installing libatomic (12.2.1_git20220924-r4)\n(8/21) Installing gmp (6.2.1-r2)\n(9/21) Installing isl25 (0.25-r0)\n(10/21) Installing mpfr4 (4.1.0-r0)\n(11/21) Installing mpc1 (1.2.1-r1)\n(12/21) Installing gcc (12.2.1_git20220924-r4)\n(13/21) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/21) Installing musl-dev (1.2.3-r4)\n(15/21) Installing libc-dev (0.7.2-r3)\n(16/21) Installing g++ (12.2.1_git20220924-r4)\n(17/21) Installing make (4.3-r1)\n(18/21) Installing fortify-headers (1.1-r1)\n(19/21) Installing patch (2.7.6-r8)\n(20/21) Installing build-base (0.5-r3)\n(21/21) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 248 MiB in 37 packages\nRemoving intermediate container 99431c659233\n ---> 6b1fc38fbf8f\nStep 4/8 : WORKDIR /go/src/github.com/mrz1836/go-api\n ---> Running in 3ac2368a4354\nRemoving intermediate container 3ac2368a4354\n ---> 74e2de72446b\nStep 5/8 : EXPOSE $API_SERVER_PORT\n ---> Running in 7dce7bb5ae96\nRemoving intermediate container 7dce7bb5ae96\n ---> 34bf006540b5\nStep 6/8 : COPY . /go/src/github.com/mrz1836/go-api\n ---> 17c1e79ad134\nStep 7/8 : RUN go build -i cmd/service/main.go &&     go build cmd/service/main.go &&     mv main /go/bin/\n ---> Running in a1a4ccd79a23\n\u001b[91mgo: downloading github.com/gomodule/redigo v1.8.9\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-cache v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-logger v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/sqlboiler/v4 v4.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/julienschmidt/httprouter v1.3.0\ngo: downloading github.com/mrz1836/go-api-router v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/friendsofgo/errors v0.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-mail v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-sanitize v1.1.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-ozzo/ozzo-validation v3.6.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/OrlovEvgeny/go-mcache v0.0.0-20200121124330-1a8195b34f3a\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron/v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/null/v8 v8.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/strmangle v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/inflect v0.0.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\ngo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.5.0\ngo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.6\ngo: downloading gopkg.in/ini.v1 v1.67.0\ngo: downloading github.com/pelletier/go-toml/v2 v2.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/asaskevich/govalidator v0.0.0-20210307081110-f21760c49a8d\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-ses v0.1.0\ngo: downloading github.com/aymerick/douceur v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/domodwyer/mailyak v3.1.1+incompatible\ngo: downloading github.com/mrz1836/postmark v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattbaird/gochimp v0.0.0-20200820164431-f1082bcdf63f\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/randomize v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/goquery v1.8.0\ngo: downloading github.com/gorilla/css v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\ngo: downloading golang.org/x/net v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/gofrs/uuid v4.3.1+incompatible\ngo: downloading github.com/golang-jwt/jwt v3.2.2+incompatible\ngo: downloading github.com/newrelic/go-agent/v3/integrations/nrhttprouter v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-parameters v0.2.9\ngo: downloading github.com/newrelic/go-agent/v3 v3.20.1\n\u001b[0m\u001b[91mgo: downloading github.com/matryer/respond v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.126\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/cascadia v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.7\ngo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.51.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20221118155620-16455021b5e6\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0m\u001b[91mgo: -i flag is deprecated\n\u001b[0mRemoving intermediate container a1a4ccd79a23\n ---> 53ac5309aff6\nStep 8/8 : CMD [\"main\"]\n ---> Running in 19bf18d825ad\nRemoving intermediate container 19bf18d825ad\n ---> 24433c3f1035\nSuccessfully built 24433c3f1035\nSuccessfully tagged go-api:latest\n","stderr":"","imageSize":1271767280},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":32}}],"repairedDockerfile":"# Get Golang\nFROM golang:1.19.4-alpine\n\n# Version\nLABEL version=\"1.1\" name=\"Go API Example\"\n\n# Set the timezone (#RUN echo \"UTC\" > /etc/timezone)\nRUN apk update && \\\n    apk add --no-cache -U tzdata build-base && \\\n    cp /usr/share/zoneinfo/EST5EDT /etc/localtime && \\\n    echo \"UTC\" > /etc/timezone\n\n# Set the working directory\nWORKDIR /go/src/github.com/mrz1836/go-api\n\n# Expose the port to the server\nEXPOSE $API_SERVER_PORT\n\n# Move the current code into the directory\nCOPY . /go/src/github.com/mrz1836/go-api\n\n# Compile and build / Move the go application to the right path (/bin/) (hack)\nRUN go build -i cmd/service/main.go && \\\n    go build cmd/service/main.go && \\\n    mv main /go/bin/\n\n# Run the application\nCMD [\"main\"]"},"repairedBuild":{"startTimestamp":1672509743312,"endTimestamp":1672509911493,"error":null,"stdout":"Sending build context to Docker daemon  396.8kB\r\r\nStep 1/8 : FROM golang:1.19.4-alpine\n ---> cae57157ceaa\nStep 2/8 : LABEL version=\"1.1\" name=\"Go API Example\"\n ---> Running in e9aa1ff6a24b\nRemoving intermediate container e9aa1ff6a24b\n ---> d5fde1586fa3\nStep 3/8 : RUN apk update &&     apk add --no-cache -U tzdata build-base &&     cp /usr/share/zoneinfo/EST5EDT /etc/localtime &&     echo \"UTC\" > /etc/timezone\n ---> Running in 14d02dddcbc2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17814 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing libgcc (12.2.1_git20220924-r4)\n(2/21) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/21) Installing binutils (2.39-r2)\n(4/21) Installing libmagic (5.43-r0)\n(5/21) Installing file (5.43-r0)\n(6/21) Installing libgomp (12.2.1_git20220924-r4)\n(7/21) Installing libatomic (12.2.1_git20220924-r4)\n(8/21) Installing gmp (6.2.1-r2)\n(9/21) Installing isl25 (0.25-r0)\n(10/21) Installing mpfr4 (4.1.0-r0)\n(11/21) Installing mpc1 (1.2.1-r1)\n(12/21) Installing gcc (12.2.1_git20220924-r4)\n(13/21) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/21) Installing musl-dev (1.2.3-r4)\n(15/21) Installing libc-dev (0.7.2-r3)\n(16/21) Installing g++ (12.2.1_git20220924-r4)\n(17/21) Installing make (4.3-r1)\n(18/21) Installing fortify-headers (1.1-r1)\n(19/21) Installing patch (2.7.6-r8)\n(20/21) Installing build-base (0.5-r3)\n(21/21) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 248 MiB in 37 packages\nRemoving intermediate container 14d02dddcbc2\n ---> 0d5a43aab69f\nStep 4/8 : WORKDIR /go/src/github.com/mrz1836/go-api\n ---> Running in 2e9ba0ab691d\nRemoving intermediate container 2e9ba0ab691d\n ---> e2b007dbf768\nStep 5/8 : EXPOSE $API_SERVER_PORT\n ---> Running in ba65e3216172\nRemoving intermediate container ba65e3216172\n ---> e4e1c95313ed\nStep 6/8 : COPY . /go/src/github.com/mrz1836/go-api\n ---> 873e11bea2b1\nStep 7/8 : RUN go build -i cmd/service/main.go &&     go build cmd/service/main.go &&     mv main /go/bin/\n ---> Running in f19c78c58adf\n\u001b[91mgo: downloading github.com/gomodule/redigo v1.8.9\ngo: downloading github.com/mrz1836/go-logger v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/sqlboiler/v4 v4.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-cache v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-mail v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/OrlovEvgeny/go-mcache v0.0.0-20200121124330-1a8195b34f3a\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron/v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-sanitize v1.1.5\n\u001b[0m\u001b[91mgo: downloading github.com/julienschmidt/httprouter v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/friendsofgo/errors v0.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-api-router v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-ozzo/ozzo-validation v3.6.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/strmangle v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/null/v8 v8.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/inflect v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-ses v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/aymerick/douceur v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattbaird/gochimp v0.0.0-20200820164431-f1082bcdf63f\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/postmark v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/domodwyer/mailyak v3.1.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/gofrs/uuid v4.3.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/newrelic/go-agent/v3 v3.20.1\ngo: downloading github.com/newrelic/go-agent/v3/integrations/nrhttprouter v1.0.1\ngo: downloading github.com/matryer/respond v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mrz1836/go-parameters v0.2.9\n\u001b[0m\u001b[91mgo: downloading github.com/golang-jwt/jwt v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/asaskevich/govalidator v0.0.0-20210307081110-f21760c49a8d\n\u001b[0m\u001b[91mgo: downloading github.com/volatiletech/randomize v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/goquery v1.8.0\ngo: downloading golang.org/x/net v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/css v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.126\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.7\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\ngo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.6\ngo: downloading github.com/spf13/afero v1.9.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.67.0\ngo: downloading github.com/spf13/cast v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/cascadia v1.3.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading google.golang.org/grpc v1.51.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20221118155620-16455021b5e6\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0m\u001b[91mgo: -i flag is deprecated\n\u001b[0mRemoving intermediate container f19c78c58adf\n ---> 415029d3ec59\nStep 8/8 : CMD [\"main\"]\n ---> Running in c64cd47cb9f4\nRemoving intermediate container c64cd47cb9f4\n ---> 2cc45765eb3c\nSuccessfully built 2cc45765eb3c\nSuccessfully tagged go-api:latest\n","stderr":"","imageSize":1271767291},"endTime":1672509912516}