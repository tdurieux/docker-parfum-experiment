{"repository":"https://github.com/pokt-network/pocket-node","dockerfilePath":"Dockerfile","startTime":1672164050994,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pokt-network/pocket-node'...\n","error":null,"commit":"e3f2c9b2587f709107acabc0c395efa37d2dc2ee"},"originalBuild":{"startTimestamp":1672164051837,"endTimestamp":1672164116624,"error":null,"stdout":"Sending build context to Docker daemon  156.2kB\r\r\nStep 1/15 : FROM node:10-alpine\n10-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\nde915e575d22: Pulling fs layer\n7150aa69525b: Pulling fs layer\nd7aa47be044e: Pulling fs layer\nd7aa47be044e: Waiting\n7150aa69525b: Download complete\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\nde915e575d22: Verifying Checksum\nde915e575d22: Download complete\nd7aa47be044e: Verifying Checksum\nd7aa47be044e: Download complete\nddad3d7c1e96: Pull complete\nde915e575d22: Pull complete\n7150aa69525b: Pull complete\nd7aa47be044e: Pull complete\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/15 : MAINTAINER Lowell Abbott <lowell@pokt.network>\n ---> Running in 71588d454767\nRemoving intermediate container 71588d454767\n ---> c05f3d18e023\nStep 3/15 : RUN apk --no-cache --virtual add git python bash su-exec make gcc g++\n ---> Running in c5c71ed2c645\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing ca-certificates (20191127-r2)\n(2/29) Installing nghttp2-libs (1.40.0-r1)\n(3/29) Installing libcurl (7.79.1-r0)\n(4/29) Installing expat (2.2.9-r1)\n(5/29) Installing pcre2 (10.34-r1)\n(6/29) Installing git (2.24.4-r0)\n(7/29) Installing libbz2 (1.0.8-r1)\n(8/29) Installing libffi (3.2.1-r6)\n(9/29) Installing gdbm (1.13-r1)\n(10/29) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(11/29) Installing ncurses-libs (6.1_p20200118-r4)\n(12/29) Installing readline (8.0.1-r0)\n(13/29) Installing sqlite-libs (3.30.1-r2)\n(14/29) Installing python2 (2.7.18-r0)\n(15/29) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(16/29) Installing su-exec (0.2-r1)\n(17/29) Installing make (4.2.1-r2)\n(18/29) Installing binutils (2.33.1-r1)\n(19/29) Installing gmp (6.1.2-r1)\n(20/29) Installing isl (0.18-r0)\n(21/29) Installing libgomp (9.3.0-r0)\n(22/29) Installing libatomic (9.3.0-r0)\n(23/29) Installing mpfr4 (4.0.2-r1)\n(24/29) Installing mpc1 (1.1.0-r1)\n(25/29) Installing gcc (9.3.0-r0)\n(26/29) Installing musl-dev (1.1.24-r3)\n(27/29) Installing libc-dev (0.7.2-r0)\n(28/29) Installing g++ (9.3.0-r0)\n(29/29) Installing add (20221227.180101)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 229 MiB in 45 packages\nRemoving intermediate container c5c71ed2c645\n ---> abdec4a8c417\nStep 4/15 : EXPOSE 8000\n ---> Running in 8d22820b9ab3\nRemoving intermediate container 8d22820b9ab3\n ---> 6101961f27e2\nStep 5/15 : ENV POCKET_NODE_HOME=/app\n ---> Running in b3a74e3e3856\nRemoving intermediate container b3a74e3e3856\n ---> 06dadb410382\nStep 6/15 : RUN mkdir -p ${POCKET_NODE_HOME}\n ---> Running in a1dad408a860\nRemoving intermediate container a1dad408a860\n ---> 6697edd872d0\nStep 7/15 : WORKDIR ${POCKET_NODE_HOME}\n ---> Running in aac58a855a43\nRemoving intermediate container aac58a855a43\n ---> c69a8475435f\nStep 8/15 : COPY package.json* .\n ---> 377a5a9a805c\nStep 9/15 : RUN npm install\n ---> Running in 40555a09bf16\n\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91m\n\u001b[0madded 159 packages from 522 contributors and audited 159 packages in 8.833s\n\n11 packages are looking for funding\n  run `npm fund` for details\n\nfound 5 vulnerabilities (1 moderate, 2 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 40555a09bf16\n ---> 17d419f0151b\nStep 10/15 : COPY . .\n ---> f76a0306cd68\nStep 11/15 : RUN ln -s ../../src/pocket-node.js node_modules/.bin/pocket-node\n ---> Running in 4543f6ed0c96\nRemoving intermediate container 4543f6ed0c96\n ---> a802eb867b5e\nStep 12/15 : ENV PATH=${POCKET_NODE_HOME}/node_modules/.bin:${POCKET_NODE_HOME}:$PATH\n ---> Running in e56a879901b4\nRemoving intermediate container e56a879901b4\n ---> 7ac2400f43a8\nStep 13/15 : ENV POCKET_NODE_CONFIGURATION_DIR=${POCKET_NODE_HOME}/configuration\n ---> Running in 668ef3f08237\nRemoving intermediate container 668ef3f08237\n ---> 2f19b5b958d1\nStep 14/15 : RUN mkdir -p ${POCKET_NODE_CONFIGURATION_DIR}\n ---> Running in f508b1d771e8\nRemoving intermediate container f508b1d771e8\n ---> 65a0910b530e\nStep 15/15 : RUN echo '{}' > ${POCKET_NODE_CONFIGURATION_DIR}/plugins.json\n ---> Running in 57f6f83ed186\nRemoving intermediate container 57f6f83ed186\n ---> b0712a35e5c5\nSuccessfully built b0712a35e5c5\nSuccessfully tagged pocket-node:latest\n","stderr":"","imageSize":325562579},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":18,"end":18,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# Note: This Dockerfile only serves as a base for custom Pocket Nodes with specific network config (e.g. Eth, BTC, etc...)\n\nFROM node:10-alpine\nMAINTAINER Lowell Abbott <lowell@pokt.network>\n\n# Install additional system dependencies\nRUN apk --no-cache --virtual add git python bash su-exec make gcc g++ \n\n# Expose the default port as a hint to any other older linked containers\nEXPOSE 8000 \n\nENV POCKET_NODE_HOME=/app\n\nRUN mkdir -p ${POCKET_NODE_HOME}\nWORKDIR ${POCKET_NODE_HOME}\n\n# Add only the package.json and install dependencies, to minimize the rebuild of this layer\nCOPY package.json* .\nRUN npm install\n\n# Add the local repo files to the image. This is near the bottom to minimize image layer rebuilding.\nCOPY . .\n\n\n# `npm install pocket-node` would normally have made this symlink, however this is a build from source.\nRUN ln -s ../../src/pocket-node.js node_modules/.bin/pocket-node\n\nENV PATH=${POCKET_NODE_HOME}/node_modules/.bin:${POCKET_NODE_HOME}:$PATH\nENV POCKET_NODE_CONFIGURATION_DIR=${POCKET_NODE_HOME}/configuration\n\nRUN mkdir -p ${POCKET_NODE_CONFIGURATION_DIR}\nRUN echo '{}' > ${POCKET_NODE_CONFIGURATION_DIR}/plugins.json\n"},"repairedBuild":{"startTimestamp":1672164117221,"endTimestamp":1672164172553,"error":null,"stdout":"Sending build context to Docker daemon  156.2kB\r\r\nStep 1/15 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 2/15 : MAINTAINER Lowell Abbott <lowell@pokt.network>\n ---> Running in e2ab2202c1b2\nRemoving intermediate container e2ab2202c1b2\n ---> 5a0fd787fb1c\nStep 3/15 : RUN apk --no-cache --virtual add git python bash su-exec make gcc g++\n ---> Running in eaecd1ff48eb\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing ca-certificates (20191127-r2)\n(2/29) Installing nghttp2-libs (1.40.0-r1)\n(3/29) Installing libcurl (7.79.1-r0)\n(4/29) Installing expat (2.2.9-r1)\n(5/29) Installing pcre2 (10.34-r1)\n(6/29) Installing git (2.24.4-r0)\n(7/29) Installing libbz2 (1.0.8-r1)\n(8/29) Installing libffi (3.2.1-r6)\n(9/29) Installing gdbm (1.13-r1)\n(10/29) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(11/29) Installing ncurses-libs (6.1_p20200118-r4)\n(12/29) Installing readline (8.0.1-r0)\n(13/29) Installing sqlite-libs (3.30.1-r2)\n(14/29) Installing python2 (2.7.18-r0)\n(15/29) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(16/29) Installing su-exec (0.2-r1)\n(17/29) Installing make (4.2.1-r2)\n(18/29) Installing binutils (2.33.1-r1)\n(19/29) Installing gmp (6.1.2-r1)\n(20/29) Installing isl (0.18-r0)\n(21/29) Installing libgomp (9.3.0-r0)\n(22/29) Installing libatomic (9.3.0-r0)\n(23/29) Installing mpfr4 (4.0.2-r1)\n(24/29) Installing mpc1 (1.1.0-r1)\n(25/29) Installing gcc (9.3.0-r0)\n(26/29) Installing musl-dev (1.1.24-r3)\n(27/29) Installing libc-dev (0.7.2-r0)\n(28/29) Installing g++ (9.3.0-r0)\n(29/29) Installing add (20221227.180158)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 229 MiB in 45 packages\nRemoving intermediate container eaecd1ff48eb\n ---> 130899c33343\nStep 4/15 : EXPOSE 8000\n ---> Running in 2c356799f907\nRemoving intermediate container 2c356799f907\n ---> 4291e1d5a0f5\nStep 5/15 : ENV POCKET_NODE_HOME=/app\n ---> Running in 0aabf554e840\nRemoving intermediate container 0aabf554e840\n ---> 809be12dcce4\nStep 6/15 : RUN mkdir -p ${POCKET_NODE_HOME}\n ---> Running in ded0a5b72663\nRemoving intermediate container ded0a5b72663\n ---> d11d0511903a\nStep 7/15 : WORKDIR ${POCKET_NODE_HOME}\n ---> Running in aa2dd179a086\nRemoving intermediate container aa2dd179a086\n ---> 29d07a4a865c\nStep 8/15 : COPY package.json* .\n ---> 05f53a751fea\nStep 9/15 : RUN npm install\n ---> Running in 26af0c6f93e4\n\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91m\n\u001b[0madded 159 packages from 522 contributors and audited 159 packages in 4.425s\n\n11 packages are looking for funding\n  run `npm fund` for details\n\nfound 5 vulnerabilities (1 moderate, 2 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 26af0c6f93e4\n ---> 55fb61107648\nStep 10/15 : COPY . .\n ---> 26cf38f25d76\nStep 11/15 : RUN ln -s ../../src/pocket-node.js node_modules/.bin/pocket-node\n ---> Running in ea122bf6d455\nRemoving intermediate container ea122bf6d455\n ---> c0583caad501\nStep 12/15 : ENV PATH=${POCKET_NODE_HOME}/node_modules/.bin:${POCKET_NODE_HOME}:$PATH\n ---> Running in 7d251c8e8a3a\nRemoving intermediate container 7d251c8e8a3a\n ---> 14d8c356ce49\nStep 13/15 : ENV POCKET_NODE_CONFIGURATION_DIR=${POCKET_NODE_HOME}/configuration\n ---> Running in 41fd1a69202d\nRemoving intermediate container 41fd1a69202d\n ---> 527b24d3961a\nStep 14/15 : RUN mkdir -p ${POCKET_NODE_CONFIGURATION_DIR}\n ---> Running in 357d1ba9631c\nRemoving intermediate container 357d1ba9631c\n ---> 3bb0a5b25910\nStep 15/15 : RUN echo '{}' > ${POCKET_NODE_CONFIGURATION_DIR}/plugins.json\n ---> Running in 399c35c3fd95\nRemoving intermediate container 399c35c3fd95\n ---> eff210f5c45d\nSuccessfully built eff210f5c45d\nSuccessfully tagged pocket-node:latest\n","stderr":"","imageSize":325566180},"endTime":1672164172982}