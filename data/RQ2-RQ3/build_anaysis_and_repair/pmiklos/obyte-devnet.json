{"repository":"https://github.com/pmiklos/obyte-devnet","dockerfilePath":"Dockerfile","startTime":1672306961703,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pmiklos/obyte-devnet'...\n","error":null,"commit":"6d970bd551650ce950dabc1e009b0f26492cad54"},"originalBuild":{"startTimestamp":1672306962514,"endTimestamp":1672307063808,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t obyte-devnet:latest -f /tmp/dinghy-analysis/pmiklos/obyte-devnet/Dockerfile ."},"stdout":"Sending build context to Docker daemon   72.7kB\r\r\nStep 1/11 : FROM\tnode:8.16\n8.16: Pulling from library/node\n844c33c7e6ea: Pulling fs layer\nada5d61ae65d: Pulling fs layer\nf8427fdf4292: Pulling fs layer\nf025bafc4ab8: Pulling fs layer\n7a9577c07934: Pulling fs layer\n9b4289f800f5: Pulling fs layer\n60d1e19e1116: Pulling fs layer\n2ec0fae87e1d: Pulling fs layer\nac5856441d80: Pulling fs layer\n2ec0fae87e1d: Waiting\n7a9577c07934: Waiting\nac5856441d80: Waiting\n9b4289f800f5: Waiting\n60d1e19e1116: Waiting\nf025bafc4ab8: Waiting\nf8427fdf4292: Verifying Checksum\nf8427fdf4292: Download complete\nada5d61ae65d: Verifying Checksum\nada5d61ae65d: Download complete\n844c33c7e6ea: Verifying Checksum\n844c33c7e6ea: Download complete\n9b4289f800f5: Verifying Checksum\n9b4289f800f5: Download complete\nf025bafc4ab8: Verifying Checksum\nf025bafc4ab8: Download complete\n2ec0fae87e1d: Verifying Checksum\n2ec0fae87e1d: Download complete\nac5856441d80: Verifying Checksum\nac5856441d80: Download complete\n844c33c7e6ea: Pull complete\n60d1e19e1116: Verifying Checksum\n60d1e19e1116: Download complete\n7a9577c07934: Verifying Checksum\n7a9577c07934: Download complete\nada5d61ae65d: Pull complete\nf8427fdf4292: Pull complete\nf025bafc4ab8: Pull complete\n7a9577c07934: Pull complete\n9b4289f800f5: Pull complete\n60d1e19e1116: Pull complete\n2ec0fae87e1d: Pull complete\nac5856441d80: Pull complete\nDigest: sha256:850590ec023ab8579c059460f245f62f9fdd8a49eb9d5edbd2ec7fa956885ca5\nStatus: Downloaded newer image for node:8.16\n ---> c0eda5b3a935\nStep 2/11 : COPY\t. /root/\n ---> 513b79d16be8\nStep 3/11 : WORKDIR\t/root\n ---> Running in 4c23da6d8f90\nRemoving intermediate container 4c23da6d8f90\n ---> 2ddca983ad9c\nStep 4/11 : RUN\tln -s /root/bin/mock_sendmail.sh /usr/sbin/sendmail\n ---> Running in f89a10b43796\nRemoving intermediate container f89a10b43796\n ---> 317fdc6147e3\nStep 5/11 : RUN\tnpm install\n ---> Running in f6ac2f0bc65c\n\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated socks@1.1.10: If using 2.x branch, please upgrade to at least 2.1.6 to avoid a serious bug with socket data flow and an import issue introduced in 2.1.0\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated es5class@2.3.1: this package isn't maintained anymore because ES6+\n\u001b[0m\n> rocksdb@5.2.1 install /root/node_modules/rocksdb\n> node-gyp-build\n\n\n> secp256k1@4.0.3 install /root/node_modules/secp256k1\n> node-gyp-build || exit 0\n\n\n> sqlite3@5.1.4 install /root/node_modules/sqlite3\n> node-pre-gyp install --fallback-to-build\n\n[sqlite3] Success: \"/root/node_modules/sqlite3/lib/binding/napi-v3-linux-glibc-x64/node_sqlite3.node\" is installed via remote\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN ws@8.2.3 requires a peer of bufferutil@^4.0.1 but none is installed. You must install peer dependencies yourself.\nnpm \u001b[0m\u001b[91mWARN ws@8.2.3 requires a peer of utf-8-validate@^5.0.2 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91m\n\u001b[0madded 395 packages from 397 contributors and audited 395 packages in 48.234s\nfound 62 vulnerabilities (9 low, 21 moderate, 26 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f6ac2f0bc65c\n ---> 0375b0087317\nStep 6/11 : RUN\tnpm run init\n ---> Running in 8258765b5a9e\n\n> obyte-devnet@1.0.0 init /root\n> bin/init.sh\n\nCreating configuration directory with default keys:\n'config/obyte-devnet-witness' -> '/root/.config/obyte-devnet-witness'\n'config/obyte-devnet-witness/conf.json' -> '/root/.config/obyte-devnet-witness/conf.json'\n'config/obyte-devnet-witness/keys.json' -> '/root/.config/obyte-devnet-witness/keys.json'\nFixing Obyte DAG explorer to update automatically\nYou can now run 'npm run genesis'\nRemoving intermediate container 8258765b5a9e\n ---> 123f2b5e2376\nStep 7/11 : RUN\techo | npm run genesis\n ---> Running in 040479d452ac\n\n> obyte-devnet@1.0.0 genesis /root\n> npm --prefix witness run genesis\n\n\n> obyte-devnet-witness@1.0.0 genesis /root/witness\n> node genesis.js\n\n===== testnet = false\n===== devnet\nmerged app root conf from /root/witness/conf.js\napp dir /root/witness\nmerged user conf from /root/.config/obyte-devnet-witness/conf.json\napp dir /root/witness\npath=/root/.config/obyte-devnet-witness/\ncreateDatabaseIfNecessary byteball.sqlite\napp dir /root/witness\napp dir /root/witness\ntakeConnectionFromPool will wait for ready\ntakeConnectionFromPool will wait for ready\ntakeConnectionFromPool will wait for ready\nstat Error: ENOENT: no such file or directory, stat '/root/.config/obyte-devnet-witness/byteball.sqlite'\nwill copy initial db\nmkdir /root/.config: Error: EEXIST: file already exists, mkdir '/root/.config'\nmkdir /root/.config/obyte-devnet-witness/: Error: EEXIST: file already exists, mkdir '/root/.config/obyte-devnet-witness/'\ndb is now ready\nopening new db connection\ndb is now ready\ndb is now ready\nopened db\nlong query took 40ms:\nPRAGMA synchronous=FULL, \nload avg: 13.203125, 12.173828125, 11.26904296875\ndb version 40, software version 44\n\u001b[91m=== will upgrade the database, it can take some time\n\u001b[0m=== will upgrade the database, it can take some time\nlong query took 68ms:\nDELETE FROM known_bad_joints, \nload avg: 13.203125, 12.173828125, 11.26904296875\nlong query took 79ms:\nCREATE TABLE IF NOT EXISTS arbiter_locations ( \n\t\t\t\t\t\tarbiter_address CHAR(32) NOT NULL PRIMARY KEY, \n\t\t\t\t\t\tarbstore_address CHAR(32) NOT NULL, \n\t\t\t\t\t\tunit CHAR(44) NULL \n\t\t\t\t\t);, \nload avg: 13.203125, 12.173828125, 11.26904296875\nlong query took 31ms:\nCREATE INDEX IF NOT EXISTS wacArbiterAddress ON wallet_arbiter_contracts(arbiter_address), \nload avg: 13.203125, 12.173828125, 11.26904296875\n\u001b[91m=== db upgrade finished\n\u001b[0m=== db upgrade finished\n-----------------------\n-----------------------\nPassphrase: \u001b[91m/root/node_modules/abstract-leveldown/abstract-iterator.js:95\nAbstractIterator.prototype[Symbol.asyncIterator] = async function * () {\n                                                                  ^\n\nSyntaxError: Unexpected token *\n    at createScript (vm.js:80:10)\n    at Object.runInThisContext (vm.js:139:10)\n    at Module._compile (module.js:617:28)\n    at Object.Module._extensions..js (module.js:664:10)\n    at Module.load (module.js:566:32)\n    at tryModuleLoad (module.js:506:12)\n    at Function.Module._load (module.js:498:3)\n    at Module.require (module.js:597:17)\n    at require (internal/module.js:11:18)\n    at Object.<anonymous> (/root/node_modules/abstract-leveldown/abstract-leveldown.js:6:26)\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m \u001b[0m\u001b[91mcode\u001b[0m\u001b[91m ELIFECYCLE\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m \u001b[0m\u001b[91merrno\u001b[0m\u001b[91m 1\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m obyte-devnet-witness@1.0.0 genesis: `node genesis.js`\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m Exit status 1\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m Failed at the obyte-devnet-witness@1.0.0 genesis script.\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m Local package.json exists, but node_modules missing, did you mean to install?\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m A complete log of this run can be found in:\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m     /root/.npm/_logs/2022-12-29T09_44_23_074Z-debug.log\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m code\u001b[0m\u001b[91m ELIFECYCLE\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m \u001b[0m\u001b[91merrno 1\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m obyte-devnet@1.0.0 genesis: `npm --prefix witness run genesis`\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m Exit status 1\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m Failed at the obyte-devnet@1.0.0 genesis script.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m A complete log of this run can be found in:\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m     /root/.npm/_logs/2022-12-29T09_44_23_295Z-debug.log\n\u001b[0mRemoving intermediate container 040479d452ac\n","stderr":"The command '/bin/sh -c echo | npm run genesis' returned a non-zero code: 1\n"},"endTime":1672307063884}