{"repository":"https://github.com/mediabutler/server","dockerfilePath":"Dockerfile","startTime":1672967399984,"endTime":1672967481221,"clone":{"startTime":1672967399984,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mediabutler/server'...\n","error":null,"endTime":1672967400788,"commit":"0494c2a194ff73c4499835c2c6cdbc7e3759be4d"},"originalBuild":{"startTime":1672967400869,"endTime":1672967440362,"error":null,"stdout":"Sending build context to Docker daemon  796.2kB\r\r\nStep 1/11 : ARG IMAGE_ARCH=amd64\nStep 2/11 : FROM ${IMAGE_ARCH}/alpine:3.9\n3.9: Pulling from amd64/alpine\nDigest: sha256:65b3a80ebe7471beecbc090c5b2cdd0aafeaefa0715f8f12e40dc918a3a70e32\nStatus: Downloaded newer image for amd64/alpine:3.9\n ---> 78a2ce922f86\nStep 3/11 : LABEL maintainer=\"MediaButler\"\n ---> Running in 4eeb015ffece\nRemoving intermediate container 4eeb015ffece\n ---> e511fb3f3e4e\nStep 4/11 : ENV DB_URL=mongodb://mongodb:21017/mediabutler\n ---> Running in 2a6f4fbd36c8\nRemoving intermediate container 2a6f4fbd36c8\n ---> 4ad4a188faf0\nStep 5/11 : ENV ENABLE_UPNP=false\n ---> Running in 4f6eb53af51f\nRemoving intermediate container 4f6eb53af51f\n ---> c48b0c2dad9b\nStep 6/11 : COPY ./ /app/\n ---> 427b1251c7bf\nStep 7/11 : WORKDIR /app\n ---> Running in c2788bd17617\nRemoving intermediate container c2788bd17617\n ---> d80513844ced\nStep 8/11 : RUN /sbin/apk add --no-cache openssl-dev     curl     nodejs-npm     nodejs-current     openssl     ca-certificates     && npm install\n ---> Running in d48dd53e987f\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(2/17) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/17) Installing ca-certificates (20191127-r2)\n(4/17) Installing nghttp2-libs (1.35.1-r2)\n(5/17) Installing libssh2 (1.9.0-r1)\n(6/17) Installing libcurl (7.64.0-r5)\n(7/17) Installing curl (7.64.0-r5)\n(8/17) Installing c-ares (1.15.0-r0)\n(9/17) Installing libgcc (8.3.0-r0)\n(10/17) Installing http-parser (2.8.1-r0)\n(11/17) Installing libstdc++ (8.3.0-r0)\n(12/17) Installing libuv (1.25.0-r0)\n(13/17) Installing nodejs-current (11.3.0-r0)\n(14/17) Installing npm (10.19.0-r0)\n(15/17) Installing openssl (1.1.1k-r0)\n(16/17) Installing pkgconf (1.6.0-r0)\n(17/17) Installing openssl-dev (1.1.1k-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 81 MiB in 29 packages\nadded 779 packages from 1056 contributors and audited 782 packages in 9.317s\nfound 217 vulnerabilities (10 low, 64 moderate, 115 high, 28 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container d48dd53e987f\n ---> 8b18d17bf2a0\nStep 9/11 : VOLUME /config\n ---> Running in 7047322bc380\nRemoving intermediate container 7047322bc380\n ---> d771601f755f\nStep 10/11 : EXPOSE 9876\n ---> Running in 660e6f7a50f8\nRemoving intermediate container 660e6f7a50f8\n ---> 03e01d014e88\nStep 11/11 : CMD [\"npm\", \"start\"]\n ---> Running in 4869c9e2de1a\nRemoving intermediate container 4869c9e2de1a\n ---> 83e614c51ea3\nSuccessfully built 83e614c51ea3\nSuccessfully tagged server:latest\n","stderr":"","imageSize":134400141},"repair":{"startTime":1672967440433,"endTime":1672967440493,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":7,"columnEnd":18}}],"repairedDockerfile":"ARG IMAGE_ARCH=amd64\nFROM ${IMAGE_ARCH}/alpine:3.9\nLABEL maintainer=\"MediaButler\"\n\nENV DB_URL=mongodb://mongodb:21017/mediabutler\nENV ENABLE_UPNP=false\n\nCOPY ./ /app/\nWORKDIR /app\n\nRUN /sbin/apk add --no-cache openssl-dev \\\n    curl \\\n    nodejs-npm \\\n    nodejs-current \\\n    openssl \\\n    ca-certificates \\\n    && npm install && npm cache clean --force;\n\nVOLUME /config\nEXPOSE 9876\nCMD [\"npm\", \"start\"]"},"repairedBuild":{"startTime":1672967441371,"endTime":1672967480804,"error":null,"stdout":"Sending build context to Docker daemon  796.2kB\r\r\nStep 1/11 : ARG IMAGE_ARCH=amd64\nStep 2/11 : FROM ${IMAGE_ARCH}/alpine:3.9\n ---> 78a2ce922f86\nStep 3/11 : LABEL maintainer=\"MediaButler\"\n ---> Running in f7fb3472c307\nRemoving intermediate container f7fb3472c307\n ---> 0d6d782818ea\nStep 4/11 : ENV DB_URL=mongodb://mongodb:21017/mediabutler\n ---> Running in 85003f814e66\nRemoving intermediate container 85003f814e66\n ---> 6cf47e745e98\nStep 5/11 : ENV ENABLE_UPNP=false\n ---> Running in 15c10c375f45\nRemoving intermediate container 15c10c375f45\n ---> 7aa211f64c0f\nStep 6/11 : COPY ./ /app/\n ---> 4c2e8d030917\nStep 7/11 : WORKDIR /app\n ---> Running in 4cfb993484c0\nRemoving intermediate container 4cfb993484c0\n ---> 646df83e917c\nStep 8/11 : RUN /sbin/apk add --no-cache openssl-dev     curl     nodejs-npm     nodejs-current     openssl     ca-certificates     && npm install && npm cache clean --force;\n ---> Running in 0d3c2d0b9481\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(2/17) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/17) Installing ca-certificates (20191127-r2)\n(4/17) Installing nghttp2-libs (1.35.1-r2)\n(5/17) Installing libssh2 (1.9.0-r1)\n(6/17) Installing libcurl (7.64.0-r5)\n(7/17) Installing curl (7.64.0-r5)\n(8/17) Installing c-ares (1.15.0-r0)\n(9/17) Installing libgcc (8.3.0-r0)\n(10/17) Installing http-parser (2.8.1-r0)\n(11/17) Installing libstdc++ (8.3.0-r0)\n(12/17) Installing libuv (1.25.0-r0)\n(13/17) Installing nodejs-current (11.3.0-r0)\n(14/17) Installing npm (10.19.0-r0)\n(15/17) Installing openssl (1.1.1k-r0)\n(16/17) Installing pkgconf (1.6.0-r0)\n(17/17) Installing openssl-dev (1.1.1k-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 81 MiB in 29 packages\nadded 779 packages from 1056 contributors and audited 782 packages in 11.807s\nfound 217 vulnerabilities (10 low, 64 moderate, 115 high, 28 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 0d3c2d0b9481\n ---> bec326ef2ad6\nStep 9/11 : VOLUME /config\n ---> Running in 42a6a06ef0c5\nRemoving intermediate container 42a6a06ef0c5\n ---> 8281248624a5\nStep 10/11 : EXPOSE 9876\n ---> Running in 01d212b8c01c\nRemoving intermediate container 01d212b8c01c\n ---> 27d3082e2da2\nStep 11/11 : CMD [\"npm\", \"start\"]\n ---> Running in 325eb7f94c80\nRemoving intermediate container 325eb7f94c80\n ---> 20e321d050ca\nSuccessfully built 20e321d050ca\nSuccessfully tagged server:latest\n","stderr":"","imageSize":121609514}}