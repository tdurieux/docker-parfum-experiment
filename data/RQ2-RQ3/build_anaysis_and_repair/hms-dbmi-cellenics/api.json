{"repository":"https://github.com/hms-dbmi-cellenics/api","dockerfilePath":"Dockerfile","startTime":1672092267419,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/hms-dbmi-cellenics/api'...\n","error":null,"commit":"82d623cece9ee133180fbee1734a9119e10f584d"},"originalBuild":{"startTimestamp":1672092268425,"endTimestamp":1672092320203,"error":null,"stdout":"Sending build context to Docker daemon  2.179MB\r\r\nStep 1/12 : FROM node:14.18.1-alpine\n14.18.1-alpine: Pulling from library/node\n97518928ae5f: Pulling fs layer\nc7746cfd346e: Pulling fs layer\nd06092bf767c: Pulling fs layer\ndc1629f1d922: Pulling fs layer\ndc1629f1d922: Waiting\n97518928ae5f: Verifying Checksum\n97518928ae5f: Download complete\ndc1629f1d922: Verifying Checksum\ndc1629f1d922: Download complete\nc7746cfd346e: Verifying Checksum\nc7746cfd346e: Download complete\n97518928ae5f: Pull complete\nd06092bf767c: Download complete\nc7746cfd346e: Pull complete\nd06092bf767c: Pull complete\ndc1629f1d922: Pull complete\nDigest: sha256:240e1e6ef6dfba3bb70d6e88cca6cbb0b5a6f3a2b4496ed7edc5474e8ed594bd\nStatus: Downloaded newer image for node:14.18.1-alpine\n ---> f7229193551e\nStep 2/12 : WORKDIR /app\n ---> Running in 209b95b9db30\nRemoving intermediate container 209b95b9db30\n ---> 5c47ee2c6d13\nStep 3/12 : ENV PATH /app/node_modules/.bin:$PATH\n ---> Running in d6bfae4c6be8\nRemoving intermediate container d6bfae4c6be8\n ---> 09171b29ecbb\nStep 4/12 : COPY package.json package-lock.json ./\n ---> dd5fd8259963\nStep 5/12 : RUN npm ci --only=production\n ---> Running in cb2ad10d346f\n\n> core-js-pure@3.21.1 postinstall /app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-jq@2.3.3 postinstall /app/node_modules/node-jq\n> npm run install-binary\n\n\n> node-jq@2.3.3 install-binary /app/node_modules/node-jq\n> node scripts/install-binary.js\n\nDownloading jq from https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\nDownloaded in /app/node_modules/node-jq/bin\n\n> core-js@2.6.12 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /app/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\nadded 881 packages in 11.747s\nRemoving intermediate container cb2ad10d346f\n ---> 4e5a60b911b5\nStep 6/12 : RUN apk add --no-cache bash curl openssl\n ---> Running in f72069cc3b9a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/10) Installing ncurses-libs (6.2_p20210612-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing ca-certificates (20220614-r0)\n(6/10) Installing brotli-libs (1.0.9-r5)\n(7/10) Installing nghttp2-libs (1.43.0-r0)\n(8/10) Installing libcurl (7.79.1-r4)\n(9/10) Installing curl (7.79.1-r4)\n(10/10) Installing openssl (1.1.1s-r0)\nExecuting busybox-1.33.1-r6.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 13 MiB in 26 packages\nRemoving intermediate container f72069cc3b9a\n ---> 12850162a49b\nStep 7/12 : RUN curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n ---> Running in b5b4f04e63a8\n\u001b[91m  % Total    % Received % Xfe\u001b[0m\u001b[91mrd  Average Speed   Time    \u001b[0m\u001b[91mTime     Tim\u001b[0m\u001b[91me  C\u001b[0m\u001b[91murren\u001b[0m\u001b[91mt\n  \u001b[0m\u001b[91m                 \u001b[0m\u001b[91m       \u001b[0m\u001b[91m       Dload  Up\u001b[0m\u001b[91mloa\u001b[0m\u001b[91md  \u001b[0m\u001b[91m Tot\u001b[0m\u001b[91mal  \u001b[0m\u001b[91m Spent    Left  Speed\n\r\u001b[0m\u001b[91m  0     0    \u001b[0m\u001b[91m0     0    \u001b[0m\u001b[91m0     0      0      0 -\u001b[0m\u001b[91m-:--:-- --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m    0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:-\u001b[0m\u001b[91m-:--     0\u001b[0m\u001b[91m\r100 11345  100 11345    0     0 \u001b[0m\u001b[91m 51889      0 --:--:-- --:-\u001b[0m\u001b[91m-:-- --:--:-- 5180\u001b[0m\u001b[91m3\n\u001b[0m[WARNING] Could not find git. It is required for plugin installation.\nDownloading https://get.helm.sh/helm-v3.10.3-linux-amd64.tar.gz\nVerifying checksum... Done.\nPreparing to install helm into /usr/local/bin\nhelm installed into /usr/local/bin/helm\nRemoving intermediate container b5b4f04e63a8\n ---> 2d9174604e6d\nStep 8/12 : ARG READONLY_API_TOKEN_GITHUB\n ---> Running in 56d87980eaaa\nRemoving intermediate container 56d87980eaaa\n ---> 70e2d58ff56c\nStep 9/12 : RUN echo \"READONLY_API_TOKEN_GITHUB=$READONLY_API_TOKEN_GITHUB\" > .env\n ---> Running in 7eef620087c4\nRemoving intermediate container 7eef620087c4\n ---> 7c28069e5641\nStep 10/12 : COPY . ./\n ---> 3ec6d310d780\nStep 11/12 : EXPOSE 3000\n ---> Running in 9234c33aa2f5\nRemoving intermediate container 9234c33aa2f5\n ---> 196d50d8e034\nStep 12/12 : CMD [\"npm\", \"start\"]\n ---> Running in 02d7a62fbcba\nRemoving intermediate container 02d7a62fbcba\n ---> c827f907e186\nSuccessfully built c827f907e186\nSuccessfully tagged api:latest\n","stderr":"","imageSize":362348992},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":15,"end":15,"columnStart":4,"columnEnd":78}}],"repairedDockerfile":"# pull official base image\nFROM node:14.18.1-alpine\n\n# set working directory\nWORKDIR /app\n\n# add `/app/node_modules/.bin` to $PATH\nENV PATH /app/node_modules/.bin:$PATH\n\n# install app dependencies\nCOPY package.json package-lock.json ./\nRUN npm ci --only=production\n\n# Install Helm\nRUN apk add --no-cache bash curl openssl\nRUN curl -f https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n\n# add app\nARG READONLY_API_TOKEN_GITHUB\nRUN echo \"READONLY_API_TOKEN_GITHUB=$READONLY_API_TOKEN_GITHUB\" > .env\nCOPY . ./\n\n# run\nEXPOSE 3000\nCMD [\"npm\", \"start\"]"},"repairedBuild":{"startTimestamp":1672092320890,"endTimestamp":1672092365194,"error":null,"stdout":"Sending build context to Docker daemon  2.179MB\r\r\nStep 1/12 : FROM node:14.18.1-alpine\n ---> f7229193551e\nStep 2/12 : WORKDIR /app\n ---> Running in ca70d7d7a86c\nRemoving intermediate container ca70d7d7a86c\n ---> d206f66e3bd6\nStep 3/12 : ENV PATH /app/node_modules/.bin:$PATH\n ---> Running in 5480e1ed66a3\nRemoving intermediate container 5480e1ed66a3\n ---> 4842acde9d66\nStep 4/12 : COPY package.json package-lock.json ./\n ---> 79c2d0fb5ed6\nStep 5/12 : RUN npm ci --only=production\n ---> Running in b7b018dfa66b\n\n> core-js-pure@3.21.1 postinstall /app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-jq@2.3.3 postinstall /app/node_modules/node-jq\n> npm run install-binary\n\n\n> node-jq@2.3.3 install-binary /app/node_modules/node-jq\n> node scripts/install-binary.js\n\nDownloading jq from https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\nDownloaded in /app/node_modules/node-jq/bin\n\n> core-js@2.6.12 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /app/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\nadded 881 packages in 8.811s\nRemoving intermediate container b7b018dfa66b\n ---> b0ccf1a3d5a6\nStep 6/12 : RUN apk add --no-cache bash curl openssl\n ---> Running in 3d58cfa2cc41\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/10) Installing ncurses-libs (6.2_p20210612-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing ca-certificates (20220614-r0)\n(6/10) Installing brotli-libs (1.0.9-r5)\n(7/10) Installing nghttp2-libs (1.43.0-r0)\n(8/10) Installing libcurl (7.79.1-r4)\n(9/10) Installing curl (7.79.1-r4)\n(10/10) Installing openssl (1.1.1s-r0)\nExecuting busybox-1.33.1-r6.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 13 MiB in 26 packages\nRemoving intermediate container 3d58cfa2cc41\n ---> f877adadd9f3\nStep 7/12 : RUN curl -f https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n ---> Running in c5f797e294f7\n\u001b[91m  % Total    % Received % X\u001b[0m\u001b[91mferd  \u001b[0m\u001b[91mAverage Speed  \u001b[0m\u001b[91m Time \u001b[0m\u001b[91m   Time     Time  C\u001b[0m\u001b[91murrent\n                    \u001b[0m\u001b[91m           \u001b[0m\u001b[91m  D\u001b[0m\u001b[91mload\u001b[0m\u001b[91m  Up\u001b[0m\u001b[91mload   To\u001b[0m\u001b[91mtal   Spent\u001b[0m\u001b[91m    Left  Speed\n\r \u001b[0m\u001b[91m 0     0    0  \u001b[0m\u001b[91m   0    0     0   \u001b[0m\u001b[91m   0      0 --:\u001b[0m\u001b[91m--:-- \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--     0\u001b[0m\u001b[91m\r100 11345  100 11345    0     0   384k      0 --:--:-- -\u001b[0m\u001b[91m-:--:-- --:--:--  395k\n\u001b[0m[WARNING] Could not find git. It is required for plugin installation.\nDownloading https://get.helm.sh/helm-v3.10.3-linux-amd64.tar.gz\nVerifying checksum... Done.\nPreparing to install helm into /usr/local/bin\nhelm installed into /usr/local/bin/helm\nRemoving intermediate container c5f797e294f7\n ---> 779518dcd219\nStep 8/12 : ARG READONLY_API_TOKEN_GITHUB\n ---> Running in 0b794ea4bccc\nRemoving intermediate container 0b794ea4bccc\n ---> 34aa3c1bbadc\nStep 9/12 : RUN echo \"READONLY_API_TOKEN_GITHUB=$READONLY_API_TOKEN_GITHUB\" > .env\n ---> Running in 15bb65788d6b\nRemoving intermediate container 15bb65788d6b\n ---> da6060f20674\nStep 10/12 : COPY . ./\n ---> d045ec2ed327\nStep 11/12 : EXPOSE 3000\n ---> Running in a73c55ebea4e\nRemoving intermediate container a73c55ebea4e\n ---> 0699b0bddd1c\nStep 12/12 : CMD [\"npm\", \"start\"]\n ---> Running in 57df1133ba7a\nRemoving intermediate container 57df1133ba7a\n ---> 51362fde2614\nSuccessfully built 51362fde2614\nSuccessfully tagged api:latest\n","stderr":"","imageSize":362337759},"endTime":1672092366483}