{"repository":"https://github.com/kpetremann/mqtt-exporter","dockerfilePath":"Dockerfile","startTime":1672645370529,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kpetremann/mqtt-exporter'...\n","error":null,"commit":"34fae964f0320a0640a5ffc7d5c973ec6a8cb4fa"},"originalBuild":{"startTimestamp":1672645371341,"endTimestamp":1672645421922,"error":null,"stdout":"Sending build context to Docker daemon  210.9kB\r\r\nStep 1/8 : FROM python:3.10-alpine\n3.10-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\na004f9671752: Pulling fs layer\nf41086029229: Pulling fs layer\na8dbc4976a6c: Pulling fs layer\nf41086029229: Verifying Checksum\nf41086029229: Download complete\na8dbc4976a6c: Verifying Checksum\na8dbc4976a6c: Download complete\na004f9671752: Verifying Checksum\na004f9671752: Download complete\na004f9671752: Pull complete\nf41086029229: Pull complete\na8dbc4976a6c: Pull complete\nDigest: sha256:63d0c387f30f82da7e9404b7157b6f077656b5263c8d64c7b7b889f4d8c1c60a\nStatus: Downloaded newer image for python:3.10-alpine\n ---> 2527f31628e7\nStep 2/8 : COPY exporter.py /opt/mqtt-exporter/\n ---> e5dd21800781\nStep 3/8 : COPY mqtt_exporter /opt/mqtt-exporter/mqtt_exporter\n ---> 17dc38437722\nStep 4/8 : COPY requirements/base.txt ./\n ---> 0ccd7ff0a8e6\nStep 5/8 : RUN pip install -r base.txt\n ---> Running in 211c2bde9708\nCollecting paho-mqtt\n  Downloading paho-mqtt-1.6.1.tar.gz (99 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 99.4/99.4 kB 3.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting prometheus-client\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.1/60.1 kB 3.6 MB/s eta 0:00:00\nBuilding wheels for collected packages: paho-mqtt\n  Building wheel for paho-mqtt (setup.py): started\n  Building wheel for paho-mqtt (setup.py): finished with status 'done'\n  Created wheel for paho-mqtt: filename=paho_mqtt-1.6.1-py3-none-any.whl size=62118 sha256=b1a7adbc4635d045e156e6c3f78bf526babe782ec5d351563b443bfaf40ef94e\n  Stored in directory: /root/.cache/pip/wheels/27/55/9d/b34c329588134a253e3051a506c28d1da6bb0a772b23e95476\nSuccessfully built paho-mqtt\nInstalling collected packages: paho-mqtt, prometheus-client\nSuccessfully installed paho-mqtt-1.6.1 prometheus-client-0.15.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 211c2bde9708\n ---> e9a3d4d1b5a6\nStep 6/8 : RUN rm base.txt\n ---> Running in f7e25d7579e2\nRemoving intermediate container f7e25d7579e2\n ---> ca2c7ef65805\nStep 7/8 : EXPOSE 9000\n ---> Running in aa8131c828e8\nRemoving intermediate container aa8131c828e8\n ---> a7ce83eda8b8\nStep 8/8 : CMD [ \"python\", \"/opt/mqtt-exporter/exporter.py\" ]\n ---> Running in dbb1025c90ba\nRemoving intermediate container dbb1025c90ba\n ---> 33cf1a1316e1\nSuccessfully built 33cf1a1316e1\nSuccessfully tagged mqtt-exporter:latest\n","stderr":"","imageSize":60312399},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":6,"end":6,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM python:3.10-alpine\n\n# install\nCOPY exporter.py /opt/mqtt-exporter/\nCOPY mqtt_exporter /opt/mqtt-exporter/mqtt_exporter\nCOPY requirements/base.txt ./\nRUN pip install --no-cache-dir -r base.txt\n\n# clean\nRUN rm base.txt\n\nEXPOSE 9000\n\nCMD [ \"python\", \"/opt/mqtt-exporter/exporter.py\" ]\n"},"repairedBuild":{"startTimestamp":1672645422278,"endTimestamp":1672645439202,"error":null,"stdout":"Sending build context to Docker daemon  210.9kB\r\r\nStep 1/8 : FROM python:3.10-alpine\n ---> 2527f31628e7\nStep 2/8 : COPY exporter.py /opt/mqtt-exporter/\n ---> 637f306ea54e\nStep 3/8 : COPY mqtt_exporter /opt/mqtt-exporter/mqtt_exporter\n ---> f6942eea7ffb\nStep 4/8 : COPY requirements/base.txt ./\n ---> 02ae23036498\nStep 5/8 : RUN pip install --no-cache-dir -r base.txt\n ---> Running in 5873252b18f8\nCollecting paho-mqtt\n  Downloading paho-mqtt-1.6.1.tar.gz (99 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 99.4/99.4 kB 8.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting prometheus-client\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.1/60.1 kB 271.3 MB/s eta 0:00:00\nBuilding wheels for collected packages: paho-mqtt\n  Building wheel for paho-mqtt (setup.py): started\n  Building wheel for paho-mqtt (setup.py): finished with status 'done'\n  Created wheel for paho-mqtt: filename=paho_mqtt-1.6.1-py3-none-any.whl size=62118 sha256=0cc5dee9de2d34b6794b5403e738227a76a7413a2406c83772aecc04f024b0ed\n  Stored in directory: /tmp/pip-ephem-wheel-cache-k4k8c41e/wheels/27/55/9d/b34c329588134a253e3051a506c28d1da6bb0a772b23e95476\nSuccessfully built paho-mqtt\nInstalling collected packages: paho-mqtt, prometheus-client\nSuccessfully installed paho-mqtt-1.6.1 prometheus-client-0.15.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 5873252b18f8\n ---> a24e42345e88\nStep 6/8 : RUN rm base.txt\n ---> Running in 58b4c82c38d5\nRemoving intermediate container 58b4c82c38d5\n ---> 16f1802f059d\nStep 7/8 : EXPOSE 9000\n ---> Running in ca95800ffa88\nRemoving intermediate container ca95800ffa88\n ---> 5dc7454d7c0b\nStep 8/8 : CMD [ \"python\", \"/opt/mqtt-exporter/exporter.py\" ]\n ---> Running in 43fa71b1ab40\nRemoving intermediate container 43fa71b1ab40\n ---> f68011b21288\nSuccessfully built f68011b21288\nSuccessfully tagged mqtt-exporter:latest\n","stderr":"","imageSize":60057480},"endTime":1672645439504}