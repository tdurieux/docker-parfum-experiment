{"repository":"https://github.com/lukevella/rallly","dockerfilePath":"Dockerfile","startTime":1672836932384,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lukevella/rallly'...\n","error":null,"commit":"e4482a1edb2fb56292d07ee8811a24f2a0d6b114"},"originalBuild":{"startTimestamp":1672836934331,"endTimestamp":1672837093101,"error":null,"stdout":"Sending build context to Docker daemon  1.516MB\r\r\nStep 1/15 : FROM node:lts as build\nlts: Pulling from library/node\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n9537c7a3988e: Pulling fs layer\nfd36cab452a2: Pulling fs layer\n2d0da1e46288: Pulling fs layer\n1815baed2c16: Pulling fs layer\n1815baed2c16: Waiting\n9537c7a3988e: Download complete\n2d0da1e46288: Download complete\n9537c7a3988e: Pull complete\n1815baed2c16: Verifying Checksum\n1815baed2c16: Download complete\nfd36cab452a2: Verifying Checksum\nfd36cab452a2: Download complete\nfd36cab452a2: Pull complete\n2d0da1e46288: Pull complete\n1815baed2c16: Pull complete\nDigest: sha256:e9ad817b0d42b4d177a4bef8a0aff97c352468a008c3fdb2b4a82533425480df\nStatus: Downloaded newer image for node:lts\n ---> 7b2a09676e2c\nStep 2/15 : WORKDIR /app\n ---> Running in 03b312d1198c\nRemoving intermediate container 03b312d1198c\n ---> 0977774b677d\nStep 3/15 : COPY package.json .\n ---> 34c23da40759\nStep 4/15 : COPY yarn.lock .\n ---> 279a2dd3b362\nStep 5/15 : COPY prisma/schema.prisma .\n ---> 4e13d0818c16\nStep 6/15 : RUN yarn --frozen-lockfile --no-cache --production\n ---> Running in 3594474d3cd3\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"react-hot-toast > goober@2.1.8\" has unmet peer dependency \"csstype@^3.0.10\".\nwarning \" > react-i18next@11.16.9\" has unmet peer dependency \"i18next@>= 19.0.0\".\n\u001b[0m[4/4] Building fresh packages...\n$ prisma generate\nPrisma schema loaded from schema.prisma\n\n✔ Generated Prisma Client (4.1.0 | library) to ./node_modules/@prisma/client in 142ms\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from '@prisma/client'\nconst prisma = new PrismaClient()\n```\nDone in 38.24s.\nRemoving intermediate container 3594474d3cd3\n ---> fc09b5836343\nStep 7/15 : COPY . .\n ---> 2a859576c4e8\nStep 8/15 : RUN yarn build\n ---> Running in 6c9bb1cc73d1\nyarn run v1.22.19\n$ next build\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Skipping validation of types\ninfo  - Linting...\n\u001b[91merror - ESLint must be installed in order to run during builds: yarn add --dev eslint\n\u001b[0minfo  - Creating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Compiled successfully\ninfo  - Collecting page data...\ninfo  - Generating static pages (0/54)\ninfo  - Generating static pages (13/54)\ninfo  - Generating static pages (26/54)\ninfo  - Generating static pages (40/54)\ninfo  - Generating static pages (54/54)\ninfo  - Finalizing page optimization...\n\nPage                                       Size     First Load JS\n┌   /_app                                  0 B             170 kB\n├ ○ /404                                   2.5 kB          175 kB\n├ λ /api/house-keeping                     0 B             170 kB\n├ λ /api/trpc/[trpc]                       0 B             170 kB\n├ λ /demo                                  1.5 kB          171 kB\n├ ● /home                                  13.7 kB         289 kB\n├ λ /login                                 1.36 kB         171 kB\n├ λ /new                                   401 B           170 kB\n├ λ /poll                                  3.76 kB         287 kB\n├ ● /privacy-policy                        7.07 kB         186 kB\n└ λ /profile                               2.53 kB         262 kB\n+ First Load JS shared by all              170 kB\n  ├ chunks/framework-834e107486a0d020.js   42.1 kB\n  ├ chunks/main-c9d53d7fae0f8fed.js        35.6 kB\n  ├ chunks/pages/_app-b027d400ef56949f.js  89.6 kB\n  ├ chunks/webpack-9c2374fa7ce5f3ae.js     2.69 kB\n  └ css/4abf8954d1cc50f1.css               14.5 kB\n\nƒ Middleware                               19.8 kB\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\n\nDone in 28.93s.\nRemoving intermediate container 6c9bb1cc73d1\n ---> 4b0b4c6c0f2f\nStep 9/15 : FROM node:lts\n ---> 7b2a09676e2c\nStep 10/15 : ENV PORT 3000\n ---> Running in 10ffa9a5f0e8\nRemoving intermediate container 10ffa9a5f0e8\n ---> b38bd8da2b37\nStep 11/15 : EXPOSE 3000\n ---> Running in cf9b1114378d\nRemoving intermediate container cf9b1114378d\n ---> 2340dee2767a\nStep 12/15 : WORKDIR /usr/src/app\n ---> Running in 6b4fe50aa641\nRemoving intermediate container 6b4fe50aa641\n ---> 0c7b00f6ee5c\nStep 13/15 : COPY --from=build /app .\n ---> f5a7420d2905\nStep 14/15 : COPY docker_start.sh .\n ---> 04743a7ece4a\nStep 15/15 : ENTRYPOINT [ \"./docker_start.sh\" ]\n ---> Running in 21f85c72754f\nRemoving intermediate container 21f85c72754f\n ---> f006978c3d78\nSuccessfully built f006978c3d78\nSuccessfully tagged rallly:latest\n","stderr":"","imageSize":1620736773},"repair":{"violations":[],"repairedDockerfile":"FROM node:lts as build\n\nWORKDIR /app\n\nCOPY package.json .\nCOPY yarn.lock .\nCOPY prisma/schema.prisma .\n\nRUN yarn --frozen-lockfile --no-cache --production\n\nCOPY . .\n\nRUN yarn build\n\nFROM node:lts\n\nENV PORT 3000\nEXPOSE 3000\n\nWORKDIR /usr/src/app\n\nCOPY --from=build /app .\nCOPY docker_start.sh .\n\nENTRYPOINT [ \"./docker_start.sh\" ]\n"},"endTime":1672837093774}