{"repository":"https://github.com/miataru/miataru-server","dockerfilePath":"Dockerfile","startTime":1672782261215,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/miataru/miataru-server'...\n","error":null,"commit":"859dd0b69f999691e01cf0ec9caea6874a82d23e"},"originalBuild":{"startTimestamp":1672782262123,"endTimestamp":1672782313140,"error":null,"stdout":"Sending build context to Docker daemon  372.2kB\r\r\nStep 1/8 : FROM node:alpine\nalpine: Pulling from library/node\nc158987b0551: Already exists\n27ae9ce8b069: Pulling fs layer\nab5501735aae: Pulling fs layer\n9ce0a5833ea2: Pulling fs layer\n9ce0a5833ea2: Waiting\nab5501735aae: Verifying Checksum\nab5501735aae: Download complete\n27ae9ce8b069: Verifying Checksum\n27ae9ce8b069: Download complete\n9ce0a5833ea2: Verifying Checksum\n9ce0a5833ea2: Download complete\n27ae9ce8b069: Pull complete\nab5501735aae: Pull complete\n9ce0a5833ea2: Pull complete\nDigest: sha256:3ed634e0f15d3e05a1918c3949963508f7ed56350cf94156e6d804ae577849fa\nStatus: Downloaded newer image for node:alpine\n ---> f01bef8b5e92\nStep 2/8 : RUN mkdir -p /usr/src/app\n ---> Running in 79ab4864a7c0\nRemoving intermediate container 79ab4864a7c0\n ---> f39a6bb22f79\nStep 3/8 : WORKDIR /usr/src/app\n ---> Running in 542cac41d251\nRemoving intermediate container 542cac41d251\n ---> 851ab1a0c2e7\nStep 4/8 : COPY . /usr/src/app\n ---> 8f36e566769e\nStep 5/8 : COPY package.json /usr/src/app/\n ---> 6ddac0411761\nStep 6/8 : RUN npm install\n ---> Running in 5889536f4a9a\n\u001b[91mnpm WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mdeprecated cryptiles@2.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated json3@3.3.2: Please use the native JSON object instead of JSON 3\n\u001b[0m\u001b[91mnpm WARN deprecated sntp@1.0.9: This module moved to @hapi/sntp. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated boom@2.10.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@2.16.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@4.2.1: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.81.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated hawk@3.1.3: This module moved to @hapi/hawk. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated connect@2.8.8: connect 2.x series is deprecated\n\u001b[0m\nadded 138 packages, and audited 139 packages in 9s\n\n3 packages are looking for funding\n  run `npm fund` for details\n\n23 vulnerabilities (1 low, 9 moderate, 7 high, 6 critical)\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 5889536f4a9a\n ---> 7e64a010ec3f\nStep 7/8 : EXPOSE 8090\n ---> Running in ce68a5aa4001\nRemoving intermediate container ce68a5aa4001\n ---> 53afcadddd02\nStep 8/8 : CMD [ \"npm\", \"start\" ]\n ---> Running in 998dc3f47946\nRemoving intermediate container 998dc3f47946\n ---> 8a67efa0c7c9\nSuccessfully built 8a67efa0c7c9\nSuccessfully tagged miataru-server:latest\n","stderr":"","imageSize":198905090},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":15}},{"name":"mkdirUsrSrcThenRemove","position":{"start":3,"end":3,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:alpine\n\n# Create app directory\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\n# Bundle app source\nCOPY . /usr/src/app\n\n# Install app dependencies\nCOPY package.json /usr/src/app/\nRUN npm install\n\nEXPOSE 8090\nCMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTimestamp":1672782313547,"endTimestamp":1672782371065,"error":null,"stdout":"Sending build context to Docker daemon  372.2kB\r\r\nStep 1/8 : FROM node:alpine\n ---> f01bef8b5e92\nStep 2/8 : RUN mkdir -p /usr/src/app\n ---> Running in 72d1fb6926ad\nRemoving intermediate container 72d1fb6926ad\n ---> 8f1c2eb09304\nStep 3/8 : WORKDIR /usr/src/app\n ---> Running in 0da80d17d7c0\nRemoving intermediate container 0da80d17d7c0\n ---> d350f4a97ea6\nStep 4/8 : COPY . /usr/src/app\n ---> 5d8a66a071df\nStep 5/8 : COPY package.json /usr/src/app/\n ---> b26f9a7aa7dd\nStep 6/8 : RUN npm install\n ---> Running in a1a84cc0d569\n\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m cryptiles@2.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated sntp@1.0.9: This module moved to @hapi/sntp. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated json3@3.3.2: Please use the native JSON object instead of JSON 3\n\u001b[0m\u001b[91mnpm WARN deprecated boom@2.10.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@2.16.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@4.2.1: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.81.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated hawk@3.1.3: This module moved to @hapi/hawk. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated connect@2.8.8: connect 2.x series is deprecated\n\u001b[0m\nadded 138 packages, and audited 139 packages in 5s\n\n3 packages are looking for funding\n  run `npm fund` for details\n\n23 vulnerabilities (1 low, 9 moderate, 7 high, 6 critical)\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container a1a84cc0d569\n ---> 3ebf3e90c129\nStep 7/8 : EXPOSE 8090\n ---> Running in 9ca91303abf2\nRemoving intermediate container 9ca91303abf2\n ---> cbbe282ccbcf\nStep 8/8 : CMD [ \"npm\", \"start\" ]\n ---> Running in 29a07f5decc2\nRemoving intermediate container 29a07f5decc2\n ---> ac3a8442d2ed\nSuccessfully built ac3a8442d2ed\nSuccessfully tagged miataru-server:latest\n","stderr":"","imageSize":198905073},"endTime":1672782371508}