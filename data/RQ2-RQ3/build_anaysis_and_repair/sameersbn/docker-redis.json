{"repository":"https://github.com/sameersbn/docker-redis","dockerfilePath":"Dockerfile","startTime":1672231424225,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sameersbn/docker-redis'...\n","error":null,"commit":"a94cd8fc2f42a8bf60ef190ef9efa0dcf6a1f551"},"originalBuild":{"startTimestamp":1672231425017,"endTimestamp":1672231441135,"error":null,"stdout":"Sending build context to Docker daemon  11.78kB\r\r\nStep 1/8 : FROM ubuntu:bionic-20190612\nbionic-20190612: Pulling from library/ubuntu\n5b7339215d1d: Pulling fs layer\n14ca88e9f672: Pulling fs layer\na31c3b1caad4: Pulling fs layer\nb054a26005b7: Pulling fs layer\nb054a26005b7: Waiting\n14ca88e9f672: Verifying Checksum\n14ca88e9f672: Download complete\na31c3b1caad4: Download complete\n5b7339215d1d: Verifying Checksum\n5b7339215d1d: Download complete\nb054a26005b7: Verifying Checksum\nb054a26005b7: Download complete\n5b7339215d1d: Pull complete\n14ca88e9f672: Pull complete\na31c3b1caad4: Pull complete\nb054a26005b7: Pull complete\nDigest: sha256:9b1702dcfe32c873a770a32cfd306dd7fc1c4fd134adfb783db68defc8894b3c\nStatus: Downloaded newer image for ubuntu:bionic-20190612\n ---> 4c108a37151f\nStep 2/8 : LABEL maintainer=\"sameer@damagehead.com\"\n ---> Running in 0e17c86d8521\nRemoving intermediate container 0e17c86d8521\n ---> 8c1904bb5b72\nStep 3/8 : ENV REDIS_VERSION=4.0.9     REDIS_USER=redis     REDIS_DATA_DIR=/var/lib/redis     REDIS_LOG_DIR=/var/log/redis\n ---> Running in 11cf53bb5951\nRemoving intermediate container 11cf53bb5951\n ---> a85a9ce56dda\nStep 4/8 : RUN apt-get update  && DEBIAN_FRONTEND=noninteractive apt-get install -y redis-server=5:${REDIS_VERSION}*  && sed 's/^bind /# bind /' -i /etc/redis/redis.conf  && sed 's/^logfile /# logfile /' -i /etc/redis/redis.conf  && sed 's/^daemonize yes/daemonize no/' -i /etc/redis/redis.conf  && sed 's/^protected-mode yes/protected-mode no/' -i /etc/redis/redis.conf  && sed 's/^# unixsocket /unixsocket /' -i /etc/redis/redis.conf  && sed 's/^# unixsocketperm 700/unixsocketperm 777/' -i /etc/redis/redis.conf  && rm -rf /var/lib/apt/lists/*\n ---> Running in 796681bec441\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\nGet:4 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [22.9 kB]\nGet:5 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [83.3 kB]\nGet:6 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [3099 kB]\nGet:7 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\nGet:8 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\nGet:9 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\nGet:10 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [1568 kB]\nGet:11 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [1311 kB]\nGet:12 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [2342 kB]\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [3524 kB]\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [30.0 kB]\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [1352 kB]\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [20.5 kB]\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [64.0 kB]\nFetched 26.7 MB in 3s (8919 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libjemalloc1 redis-tools\nSuggested packages:\n  ruby-redis\nThe following NEW packages will be installed:\n  libjemalloc1 redis-server redis-tools\n0 upgraded, 3 newly installed, 0 to remove and 57 not upgraded.\nNeed to get 634 kB of archives.\nAfter this operation, 3012 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu bionic/universe amd64 libjemalloc1 amd64 3.6.0-11 [82.4 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 redis-tools amd64 5:4.0.9-1ubuntu0.2 [516 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 redis-server amd64 5:4.0.9-1ubuntu0.2 [35.4 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 634 kB in 1s (652 kB/s)\nSelecting previously unselected package libjemalloc1.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4040 files and directories currently installed.)\r\nPreparing to unpack .../libjemalloc1_3.6.0-11_amd64.deb ...\r\nUnpacking libjemalloc1 (3.6.0-11) ...\r\nSelecting previously unselected package redis-tools.\r\nPreparing to unpack .../redis-tools_5%3a4.0.9-1ubuntu0.2_amd64.deb ...\r\nUnpacking redis-tools (5:4.0.9-1ubuntu0.2) ...\r\nSelecting previously unselected package redis-server.\r\nPreparing to unpack .../redis-server_5%3a4.0.9-1ubuntu0.2_amd64.deb ...\r\nUnpacking redis-server (5:4.0.9-1ubuntu0.2) ...\r\nSetting up libjemalloc1 (3.6.0-11) ...\r\nProcessing triggers for libc-bin (2.27-3ubuntu1) ...\r\nSetting up redis-tools (5:4.0.9-1ubuntu0.2) ...\r\nSetting up redis-server (5:4.0.9-1ubuntu0.2) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nRemoving intermediate container 796681bec441\n ---> 700c16bc9fa1\nStep 5/8 : COPY entrypoint.sh /sbin/entrypoint.sh\n ---> c3c90c08b9c0\nStep 6/8 : RUN chmod 755 /sbin/entrypoint.sh\n ---> Running in dea864142890\nRemoving intermediate container dea864142890\n ---> ac91b6cfa20b\nStep 7/8 : EXPOSE 6379/tcp\n ---> Running in 573a5ab51bd2\nRemoving intermediate container 573a5ab51bd2\n ---> 949c965df4a8\nStep 8/8 : ENTRYPOINT [\"/sbin/entrypoint.sh\"]\n ---> Running in ba127bcd0d6e\nRemoving intermediate container ba127bcd0d6e\n ---> d99d189a3992\nSuccessfully built d99d189a3992\nSuccessfully tagged docker-redis:latest\n","stderr":"","imageSize":67829491},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":10,"end":10,"columnStart":4,"columnEnd":86}}],"repairedDockerfile":"FROM ubuntu:bionic-20190612\n\nLABEL maintainer=\"sameer@damagehead.com\"\n\nENV REDIS_VERSION=4.0.9 \\\n    REDIS_USER=redis \\\n    REDIS_DATA_DIR=/var/lib/redis \\\n    REDIS_LOG_DIR=/var/log/redis\n\nRUN apt-get update \\\n && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y redis-server=5:${REDIS_VERSION}* \\\n && sed 's/^bind /# bind /' -i /etc/redis/redis.conf \\\n && sed 's/^logfile /# logfile /' -i /etc/redis/redis.conf \\\n && sed 's/^daemonize yes/daemonize no/' -i /etc/redis/redis.conf \\\n && sed 's/^protected-mode yes/protected-mode no/' -i /etc/redis/redis.conf \\\n && sed 's/^# unixsocket /unixsocket /' -i /etc/redis/redis.conf \\\n && sed 's/^# unixsocketperm 700/unixsocketperm 777/' -i /etc/redis/redis.conf \\\n && rm -rf /var/lib/apt/lists/*\n\nCOPY entrypoint.sh /sbin/entrypoint.sh\nRUN chmod 755 /sbin/entrypoint.sh\n\nEXPOSE 6379/tcp\nENTRYPOINT [\"/sbin/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672231441440,"endTimestamp":1672231452405,"error":null,"stdout":"Sending build context to Docker daemon  11.78kB\r\r\nStep 1/8 : FROM ubuntu:bionic-20190612\n ---> 4c108a37151f\nStep 2/8 : LABEL maintainer=\"sameer@damagehead.com\"\n ---> Running in b15558907ba3\nRemoving intermediate container b15558907ba3\n ---> 706a2f70d45e\nStep 3/8 : ENV REDIS_VERSION=4.0.9     REDIS_USER=redis     REDIS_DATA_DIR=/var/lib/redis     REDIS_LOG_DIR=/var/log/redis\n ---> Running in 85655aab9966\nRemoving intermediate container 85655aab9966\n ---> 8ed5961d4a37\nStep 4/8 : RUN apt-get update  && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y redis-server=5:${REDIS_VERSION}*  && sed 's/^bind /# bind /' -i /etc/redis/redis.conf  && sed 's/^logfile /# logfile /' -i /etc/redis/redis.conf  && sed 's/^daemonize yes/daemonize no/' -i /etc/redis/redis.conf  && sed 's/^protected-mode yes/protected-mode no/' -i /etc/redis/redis.conf  && sed 's/^# unixsocket /unixsocket /' -i /etc/redis/redis.conf  && sed 's/^# unixsocketperm 700/unixsocketperm 777/' -i /etc/redis/redis.conf  && rm -rf /var/lib/apt/lists/*\n ---> Running in 99fb24bac660\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\nGet:3 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [22.9 kB]\nGet:4 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [1568 kB]\nGet:5 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\nGet:6 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [83.3 kB]\nGet:7 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\nGet:8 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\nGet:9 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [3099 kB]\nGet:10 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [1311 kB]\nGet:11 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\nGet:12 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [30.0 kB]\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [2342 kB]\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [3524 kB]\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [1352 kB]\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [20.5 kB]\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [64.0 kB]\nFetched 26.7 MB in 3s (8095 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libjemalloc1 redis-tools\nSuggested packages:\n  ruby-redis\nThe following NEW packages will be installed:\n  libjemalloc1 redis-server redis-tools\n0 upgraded, 3 newly installed, 0 to remove and 57 not upgraded.\nNeed to get 634 kB of archives.\nAfter this operation, 3012 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu bionic/universe amd64 libjemalloc1 amd64 3.6.0-11 [82.4 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 redis-tools amd64 5:4.0.9-1ubuntu0.2 [516 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 redis-server amd64 5:4.0.9-1ubuntu0.2 [35.4 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 634 kB in 1s (689 kB/s)\nSelecting previously unselected package libjemalloc1.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4040 files and directories currently installed.)\r\nPreparing to unpack .../libjemalloc1_3.6.0-11_amd64.deb ...\r\nUnpacking libjemalloc1 (3.6.0-11) ...\r\nSelecting previously unselected package redis-tools.\r\nPreparing to unpack .../redis-tools_5%3a4.0.9-1ubuntu0.2_amd64.deb ...\r\nUnpacking redis-tools (5:4.0.9-1ubuntu0.2) ...\r\nSelecting previously unselected package redis-server.\r\nPreparing to unpack .../redis-server_5%3a4.0.9-1ubuntu0.2_amd64.deb ...\r\nUnpacking redis-server (5:4.0.9-1ubuntu0.2) ...\r\nSetting up libjemalloc1 (3.6.0-11) ...\r\nProcessing triggers for libc-bin (2.27-3ubuntu1) ...\r\nSetting up redis-tools (5:4.0.9-1ubuntu0.2) ...\r\nSetting up redis-server (5:4.0.9-1ubuntu0.2) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nRemoving intermediate container 99fb24bac660\n ---> a19c42c5366e\nStep 5/8 : COPY entrypoint.sh /sbin/entrypoint.sh\n ---> 7bc13b962f30\nStep 6/8 : RUN chmod 755 /sbin/entrypoint.sh\n ---> Running in 26bcfd417be1\nRemoving intermediate container 26bcfd417be1\n ---> 952007289040\nStep 7/8 : EXPOSE 6379/tcp\n ---> Running in d1d358b3e329\nRemoving intermediate container d1d358b3e329\n ---> ce07c7b87852\nStep 8/8 : ENTRYPOINT [\"/sbin/entrypoint.sh\"]\n ---> Running in 84307468b172\nRemoving intermediate container 84307468b172\n ---> 702bc2d18bcb\nSuccessfully built 702bc2d18bcb\nSuccessfully tagged docker-redis:latest\n","stderr":"","imageSize":67829515},"endTime":1672231452643}