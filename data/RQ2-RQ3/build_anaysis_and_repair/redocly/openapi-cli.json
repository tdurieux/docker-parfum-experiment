{"repository":"https://github.com/redocly/openapi-cli","dockerfilePath":"Dockerfile","startTime":1672738805710,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/redocly/openapi-cli'...\n","error":null,"commit":"478ca6315d5cfc09c304b2da129d3c48e160bb7e"},"originalBuild":{"startTimestamp":1672738807380,"endTimestamp":1672738898847,"error":null,"stdout":"Sending build context to Docker daemon  3.071MB\r\r\nStep 1/14 : FROM node:alpine\nalpine: Pulling from library/node\nDigest: sha256:3ed634e0f15d3e05a1918c3949963508f7ed56350cf94156e6d804ae577849fa\nStatus: Downloaded newer image for node:alpine\n ---> f01bef8b5e92\nStep 2/14 : WORKDIR /build\n ---> Running in f0537ebf8d46\nRemoving intermediate container f0537ebf8d46\n ---> 31ac81685348\nStep 3/14 : COPY package.json package-lock.json /build/\n ---> 2b9fb075988f\nStep 4/14 : COPY packages/cli/package.json /build/packages/cli/\n ---> c7451558e1da\nStep 5/14 : COPY packages/core/package.json   /build/packages/core/\n ---> 7519905ad465\nStep 6/14 : COPY packages/cli/bin/ /build/packages/cli/bin/\n ---> aace2419d9c6\nStep 7/14 : RUN npm ci --no-optional --ignore-scripts\n ---> Running in 28d3377472d7\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config optional Use `--omit=optional` to exclude optional dependencies, or\nnpm \u001b[0m\u001b[91mWARN config `--include=optional` to include them.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mconfig\u001b[0m\u001b[91m \nnpm WARN config     Default value does install optional deps unless otherwise omitted.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\nadded 848 packages, and audited 851 packages in 8s\n\n79 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container 28d3377472d7\n ---> c0f7c664bc06\nStep 8/14 : COPY . /build/\n ---> 7d3716986528\nStep 9/14 : RUN npm run prepare\n ---> Running in 09ec38773237\n\n> @redocly/cli@1.0.0-beta.118 prepare\n> npm run compile\n\n\n> @redocly/cli@1.0.0-beta.118 compile\n> tsc -b tsconfig.build.json\n\nRemoving intermediate container 09ec38773237\n ---> d219acff6a7e\nStep 10/14 : RUN mv -- \"$(npm pack packages/cli/)\" redocly-cli.tgz && \t  npm install --global redocly-cli.tgz\n ---> Running in dcf5c4b90dfc\n\u001b[91mnpm\u001b[0m\u001b[91m notice \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m package: @redocly/cli@1.0.0-beta.118\nnpm \u001b[0m\u001b[91mnotice === Tarball Contents ===\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.0kB  README.md                                                    \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 46B    bin/cli.js                                                   \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.5kB  lib/__mocks__/@redocly/openapi-core.d.ts                     \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 2.9kB  lib/__mocks__/@redocly/openapi-core.js                       \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice 2.2kB  lib/__mocks__/documents.d.ts                                 \nnpm \u001b[0m\u001b[91mnotice 2.1kB  lib/__mocks__/documents.js                                   \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 382B   lib/__mocks__/fs.d.ts                                        \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 446B   lib/__mocks__/fs.js                                          \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 100B   lib/__mocks__/perf_hooks.d.ts                                \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 154B   lib/__mocks__/perf_hooks.js                                  \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 217B   lib/__mocks__/redoc.d.ts                                     \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 302B   lib/__mocks__/redoc.js                                       \nnpm notice\u001b[0m\u001b[91m 1.1kB  lib/__mocks__/utils.d.ts                                     \nnpm notice\u001b[0m\u001b[91m 1.1kB  lib/__mocks__/utils.js                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/build-docs.test.d.ts                  \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 2.6kB  lib/__tests__/commands/build-docs.test.js                    \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/bundle.test.d.ts                      \nnpm notice\u001b[0m\u001b[91m 5.3kB  lib/__tests__/commands/bundle.test.js                        \nnpm\u001b[0m\u001b[91m notice 11B    lib/__tests__/commands/join.test.d.ts                        \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 3.2kB  lib/__tests__/commands/join.test.js                          \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/lint.test.d.ts                        \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 7.0kB  lib/__tests__/commands/lint.test.js                          \nnpm \u001b[0m\u001b[91mnotice 11B    lib/__tests__/commands/push-region.test.d.ts                 \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 2.6kB  lib/__tests__/commands/push-region.test.js                   \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/push.test.d.ts                        \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 8.1kB  lib/__tests__/commands/push.test.js                          \nnpm notice 355B   lib/__tests__/fixtures/config.d.ts                           \nnpm notice 371B   lib/__tests__/fixtures/config.js                             \nnpm notice\u001b[0m\u001b[91m 11B    lib/__tests__/utils.test.d.ts                                \nnpm notice\u001b[0m\u001b[91m 9.3kB  lib/__tests__/utils.test.js                                  \nnpm notice 11B    lib/assert-node-version.d.ts                                 \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 272B   lib/assert-node-version.js                                   \nnpm notice\u001b[0m\u001b[91m 128B   lib/commands/build-docs/index.d.ts                           \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.9kB  lib/commands/build-docs/index.js                             \nnpm notice\u001b[0m\u001b[91m 596B   lib/commands/build-docs/types.d.ts                           \nnpm notice\u001b[0m\u001b[91m 77B    lib/commands/build-docs/types.js                             \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 646B   lib/commands/build-docs/utils.d.ts                           \nnpm notice\u001b[0m\u001b[91m 4.7kB  lib/commands/build-docs/utils.js                             \nnpm notice\u001b[0m\u001b[91m 447B   lib/commands/bundle.d.ts                                     \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 7.4kB  lib/commands/bundle.js                                       \nnpm \u001b[0m\u001b[91mnotice 344B   lib/commands/join.d.ts                                       \nnpm \u001b[0m\u001b[91mnotice 28.6kB lib/commands/join.js                                         \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 353B   lib/commands/lint.d.ts                                       \nnpm \u001b[0m\u001b[91mnotice 5.5kB  lib/commands/lint.js                                         \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 231B   lib/commands/login.d.ts                                      \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 1.8kB  lib/commands/login.js                                        \nnpm notice\u001b[0m\u001b[91m 378B   lib/commands/preview-docs/index.d.ts                         \nnpm notice\u001b[0m\u001b[91m 7.2kB  lib/commands/preview-docs/index.js                           \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 209B   lib/commands/preview-docs/preview-server/preview-server.d.ts \nnpm notice\u001b[0m\u001b[91m 6.3kB  lib/commands/preview-docs/preview-server/preview-server.js   \nnpm notice\u001b[0m\u001b[91m 783B   lib/commands/preview-docs/preview-server/server.d.ts         \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 3.0kB  lib/commands/preview-docs/preview-server/server.js           \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 1.1kB  lib/commands/push.d.ts                                       \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 13.8kB lib/commands/push.js                                         \nnpm \u001b[0m\u001b[91mnotice 11B    lib/commands/split/__tests__/index.test.d.ts                 \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 5.4kB  lib/commands/split/__tests__/index.test.js                   \nnpm notice\u001b[0m\u001b[91m 426B   lib/commands/split/index.d.ts                                \nnpm notice\u001b[0m\u001b[91m 13.8kB lib/commands/split/index.js                                  \nnpm notice\u001b[0m\u001b[91m 1.4kB  lib/commands/split/types.d.ts                                \nnpm notice\u001b[0m\u001b[91m 2.1kB  lib/commands/split/types.js                                  \nnpm \u001b[0m\u001b[91mnotice 122B   lib/commands/stats.d.ts                                      \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice 4.4kB  lib/commands/stats.js                                        \nnpm\u001b[0m\u001b[91m notice 52B    lib/index.d.ts                                               \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 12.5kB lib/index.js                                                 \n\u001b[0m\u001b[91mnpm notice 223B   lib/js-utils.d.ts                                            \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 673B   lib/js-utils.js                                              \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 830B   lib/types.d.ts                                               \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 226B   lib/types.js                                                 \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.1kB  lib/utils.d.ts                                               \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 13.5kB lib/utils.js                                                 \nnpm notice\u001b[0m\u001b[91m 1.8kB  package.json                                                 \nnpm notice\u001b[0m\u001b[91m 2.0kB  src/__mocks__/@redocly/openapi-core.ts                       \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.7kB  src/__mocks__/documents.ts                                   \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 257B   src/__mocks__/fs.ts                                          \nnpm notice\u001b[0m\u001b[91m 50B    src/__mocks__/perf_hooks.ts                                  \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 177B   src/__mocks__/redoc.ts                                       \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice 742B   src/__mocks__/utils.ts                                       \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.8kB  src/__tests__/commands/build-docs.test.ts                    \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice 3.8kB  src/__tests__/commands/bundle.test.ts                        \nnpm notice\u001b[0m\u001b[91m 2.2kB  src/__tests__/commands/join.test.ts                          \nnpm notice\u001b[0m\u001b[91m 5.3kB  src/__tests__/commands/lint.test.ts                          \nnpm \u001b[0m\u001b[91mnotice 1.7kB  src/__tests__/commands/push-region.test.ts                   \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 6.3kB  src/__tests__/commands/push.test.ts                          \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 237B   src/__tests__/fixtures/config.ts                             \nnpm \u001b[0m\u001b[91mnotice 7.9kB  src/__tests__/utils.test.ts                                  \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 189B   src/assert-node-version.ts                                   \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.9kB  src/commands/build-docs/index.ts                             \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice 490B   src/commands/build-docs/template.hbs                         \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 537B   src/commands/build-docs/types.ts                             \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 3.5kB  src/commands/build-docs/utils.ts                             \nnpm\u001b[0m\u001b[91m notice 5.2kB  src/commands/bundle.ts                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 24.5kB src/commands/join.ts                                         \nnpm notice\u001b[0m\u001b[91m 4.4kB  src/commands/lint.ts                                         \nnpm \u001b[0m\u001b[91mnotice 822B   src/commands/login.ts                                        \nnpm notice\u001b[0m\u001b[91m 5.6kB  src/commands/preview-docs/index.ts                           \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 450B   src/commands/preview-docs/preview-server/default.hbs         \nnpm notice\u001b[0m\u001b[91m 971B   src/commands/preview-docs/preview-server/hot.js              \nnpm\u001b[0m\u001b[91m notice 614B   src/commands/preview-docs/preview-server/oauth2-redirect.html\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 5.0kB  src/commands/preview-docs/preview-server/preview-server.ts   \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.6kB  src/commands/preview-docs/preview-server/server.ts           \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 11.3kB src/commands/push.ts                                         \nnpm notice\u001b[0m\u001b[91m 1.3kB  src/commands/split/__tests__/fixtures/samples.json           \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 1.5kB  src/commands/split/__tests__/fixtures/spec.json              \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 1.9kB  src/commands/split/__tests__/fixtures/webhooks.json          \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 4.5kB  src/commands/split/__tests__/index.test.ts                   \nnpm notice 12.7kB src/commands/split/index.ts                                  \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice 1.9kB  src/commands/split/types.ts                                  \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice 3.5kB  src/commands/stats.ts                                        \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 42B    src/custom.d.ts                                              \nnpm notice\u001b[0m\u001b[91m 13.2kB src/index.ts                                                 \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 437B   src/js-utils.ts                                              \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 795B   src/types.ts                                                 \nnpm notice\u001b[0m\u001b[91m 11.2kB src/utils.ts                                                 \nnpm \u001b[0m\u001b[91mnotice 172B   tsconfig.json                                                \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 52.3kB tsconfig.tsbuildinfo                                         \n\u001b[0m\u001b[91mnpm notice === Tarball Details === \n\u001b[0m\u001b[91mnpm notice name:          @redocly/cli                            \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m version:       1.0.0-beta.118                          \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m filename:      redocly-cli-1.0.0-beta.118.tgz          \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice package size:  97.0 kB                                 \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m unpacked size: 408.4 kB                                \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m shasum:        1430d509e841e63d55dc0bd377a98cce2f4ecd95\nnpm \u001b[0m\u001b[91mnotice integrity:     sha512-aBzFeqEqWa1wz[...]VrcNx4gx48rNQ==\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m total files:   115                                     \n\u001b[0m\u001b[91mnpm notice \n\u001b[0m\nadded 255 packages in 14s\n\n31 packages are looking for funding\n  run `npm fund` for details\nRemoving intermediate container dcf5c4b90dfc\n ---> b89f7675da4d\nStep 11/14 : RUN cp packages/cli/src/commands/preview-docs/preview-server/default.hbs /usr/local/lib/node_modules/@redocly/cli/lib/commands/preview-docs/preview-server/default.hbs && \t  cp packages/cli/src/commands/preview-docs/preview-server/hot.js /usr/local/lib/node_modules/@redocly/cli/lib/commands/preview-docs/preview-server/hot.js\n ---> Running in caf3c3bae261\nRemoving intermediate container caf3c3bae261\n ---> 43e26eb82796\nStep 12/14 : RUN npm cache clean --force && rm -rf /build\n ---> Running in c90f5e496a02\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container c90f5e496a02\n ---> e5b8b2af038b\nStep 13/14 : WORKDIR /spec\n ---> Running in 6a994fdc0eee\nRemoving intermediate container 6a994fdc0eee\n ---> bd8168cbc0cf\nStep 14/14 : ENTRYPOINT [ \"openapi\" ]\n ---> Running in 9a8036cd656f\nRemoving intermediate container 9a8036cd656f\n ---> 371800e7ef14\nSuccessfully built 371800e7ef14\nSuccessfully tagged openapi-cli:latest\n","stderr":"","imageSize":504767311},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":19,"end":19,"columnStart":3,"columnEnd":39}}],"repairedDockerfile":"FROM node:alpine\n\nWORKDIR /build\n\n# Copy files required for npm install only\nCOPY package.json package-lock.json /build/\nCOPY packages/cli/package.json /build/packages/cli/\nCOPY packages/core/package.json   /build/packages/core/\nCOPY packages/cli/bin/ /build/packages/cli/bin/\n\nRUN npm ci --no-optional --ignore-scripts\n\n# Copy rest of the files\nCOPY . /build/\nRUN npm run prepare\n\n# Install redocly-cli globally, similar to npm install --global @redocly/cli\n# but the local package is used here\nRUN mv -- \"$(npm pack packages/cli/)\" redocly-cli.tgz && \\\n\t\t\tnpm install --global redocly-cli.tgz\n\n# npm pack in the previous RUN command does not include these assets\nRUN cp packages/cli/src/commands/preview-docs/preview-server/default.hbs /usr/local/lib/node_modules/@redocly/cli/lib/commands/preview-docs/preview-server/default.hbs && \\\n\t  cp packages/cli/src/commands/preview-docs/preview-server/hot.js /usr/local/lib/node_modules/@redocly/cli/lib/commands/preview-docs/preview-server/hot.js\n\n# Clean up to reduce image size\nRUN npm cache clean --force && rm -rf /build\n\nWORKDIR /spec\n\nENTRYPOINT [ \"openapi\" ]\n"},"repairedBuild":{"startTimestamp":1672738899934,"endTimestamp":1672739004278,"error":null,"stdout":"Sending build context to Docker daemon  3.071MB\r\r\nStep 1/14 : FROM node:alpine\n ---> f01bef8b5e92\nStep 2/14 : WORKDIR /build\n ---> Running in 42cfdd11272f\nRemoving intermediate container 42cfdd11272f\n ---> dda0dded7afa\nStep 3/14 : COPY package.json package-lock.json /build/\n ---> 737a887d7785\nStep 4/14 : COPY packages/cli/package.json /build/packages/cli/\n ---> 4e5f6c7d90ca\nStep 5/14 : COPY packages/core/package.json   /build/packages/core/\n ---> 1b651f8482ce\nStep 6/14 : COPY packages/cli/bin/ /build/packages/cli/bin/\n ---> 4df57a8c06c4\nStep 7/14 : RUN npm ci --no-optional --ignore-scripts\n ---> Running in e4f37477de7f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config optional Use `--omit=optional` to exclude optional dependencies, or\nnpm \u001b[0m\u001b[91mWARN config `--include=optional` to include them.\nnpm\u001b[0m\u001b[91m WARN config\u001b[0m\u001b[91m \nnpm WARN config     Default value does install optional deps unless otherwise omitted.\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\nadded 848 packages, and audited 851 packages in 8s\n\n79 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container e4f37477de7f\n ---> 91a662253b2c\nStep 8/14 : COPY . /build/\n ---> 82e1b9f4b9d3\nStep 9/14 : RUN npm run prepare\n ---> Running in e643a9014978\n\n> @redocly/cli@1.0.0-beta.118 prepare\n> npm run compile\n\n\n> @redocly/cli@1.0.0-beta.118 compile\n> tsc -b tsconfig.build.json\n\nRemoving intermediate container e643a9014978\n ---> e92915207991\nStep 10/14 : RUN mv -- \"$(npm pack packages/cli/)\" redocly-cli.tgz && \t\t\tnpm install --global redocly-cli.tgz\n ---> Running in 956961ad7b57\n\u001b[91mnpm\u001b[0m\u001b[91m notice \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m package: @redocly/cli@1.0.0-beta.118\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m === Tarball Contents === \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.0kB  README.md                                                    \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 46B    bin/cli.js                                                   \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.5kB  lib/__mocks__/@redocly/openapi-core.d.ts                     \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.9kB  lib/__mocks__/@redocly/openapi-core.js                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 2.2kB  lib/__mocks__/documents.d.ts                                 \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.1kB  lib/__mocks__/documents.js                                   \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 382B   lib/__mocks__/fs.d.ts                                        \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 446B   lib/__mocks__/fs.js                                          \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 100B   lib/__mocks__/perf_hooks.d.ts                                \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 154B   lib/__mocks__/perf_hooks.js                                  \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 217B   lib/__mocks__/redoc.d.ts                                     \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 302B   lib/__mocks__/redoc.js                                       \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice 1.1kB  lib/__mocks__/utils.d.ts                                     \nnpm notice 1.1kB  lib/__mocks__/utils.js                                       \nnpm notice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/build-docs.test.d.ts                  \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.6kB  lib/__tests__/commands/build-docs.test.js                    \nnpm \u001b[0m\u001b[91mnotice 11B    lib/__tests__/commands/bundle.test.d.ts                      \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 5.3kB  lib/__tests__/commands/bundle.test.js                        \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/join.test.d.ts                        \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 3.2kB  lib/__tests__/commands/join.test.js                          \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/lint.test.d.ts                        \nnpm notice\u001b[0m\u001b[91m 7.0kB  lib/__tests__/commands/lint.test.js                          \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/push-region.test.d.ts                 \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 2.6kB  lib/__tests__/commands/push-region.test.js                   \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 11B    lib/__tests__/commands/push.test.d.ts                        \nnpm notice\u001b[0m\u001b[91m 8.1kB  lib/__tests__/commands/push.test.js                          \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 355B   lib/__tests__/fixtures/config.d.ts                           \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 371B   lib/__tests__/fixtures/config.js                             \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11B    lib/__tests__/utils.test.d.ts                                \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice 9.3kB  lib/__tests__/utils.test.js                                  \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 11B    lib/assert-node-version.d.ts                                 \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 272B   lib/assert-node-version.js                                   \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 128B   lib/commands/build-docs/index.d.ts                           \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 2.9kB  lib/commands/build-docs/index.js                             \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 596B   lib/commands/build-docs/types.d.ts                           \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 77B    lib/commands/build-docs/types.js                             \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 646B   lib/commands/build-docs/utils.d.ts                           \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 4.7kB  lib/commands/build-docs/utils.js                             \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 447B   lib/commands/bundle.d.ts                                     \nnpm notice\u001b[0m\u001b[91m 7.4kB  lib/commands/bundle.js                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 344B   lib/commands/join.d.ts                                       \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 28.6kB lib/commands/join.js                                         \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 353B   lib/commands/lint.d.ts                                       \nnpm \u001b[0m\u001b[91mnotice 5.5kB  lib/commands/lint.js                                         \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 231B   lib/commands/login.d.ts                                      \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.8kB  lib/commands/login.js                                        \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 378B   lib/commands/preview-docs/index.d.ts                         \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 7.2kB  lib/commands/preview-docs/index.js                           \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m 209B   lib/commands/preview-docs/preview-server/preview-server.d.ts \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 6.3kB  lib/commands/preview-docs/preview-server/preview-server.js   \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 783B   lib/commands/preview-docs/preview-server/server.d.ts         \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 3.0kB  lib/commands/preview-docs/preview-server/server.js           \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.1kB  lib/commands/push.d.ts                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 13.8kB lib/commands/push.js                                         \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 11B    lib/commands/split/__tests__/index.test.d.ts                 \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 5.4kB  lib/commands/split/__tests__/index.test.js                   \nnpm notice\u001b[0m\u001b[91m 426B   lib/commands/split/index.d.ts                                \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 13.8kB lib/commands/split/index.js                                  \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.4kB  lib/commands/split/types.d.ts                                \nnpm \u001b[0m\u001b[91mnotice 2.1kB  lib/commands/split/types.js                                  \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 122B   lib/commands/stats.d.ts                                      \nnpm notice\u001b[0m\u001b[91m 4.4kB  lib/commands/stats.js                                        \nnpm notice\u001b[0m\u001b[91m 52B    lib/index.d.ts                                               \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 12.5kB lib/index.js                                                 \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 223B   lib/js-utils.d.ts                                            \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 673B   lib/js-utils.js                                              \nnpm notice\u001b[0m\u001b[91m 830B   lib/types.d.ts                                               \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 226B   lib/types.js                                                 \nnpm notice\u001b[0m\u001b[91m 2.1kB  lib/utils.d.ts                                               \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 13.5kB lib/utils.js                                                 \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice 1.8kB  package.json                                                 \nnpm notice\u001b[0m\u001b[91m 2.0kB  src/__mocks__/@redocly/openapi-core.ts                       \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.7kB  src/__mocks__/documents.ts                                   \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 257B   src/__mocks__/fs.ts                                          \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 50B    src/__mocks__/perf_hooks.ts                                  \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice 177B   src/__mocks__/redoc.ts                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 742B   src/__mocks__/utils.ts                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 1.8kB  src/__tests__/commands/build-docs.test.ts                    \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 3.8kB  src/__tests__/commands/bundle.test.ts                        \nnpm \u001b[0m\u001b[91mnotice 2.2kB  src/__tests__/commands/join.test.ts                          \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 5.3kB  src/__tests__/commands/lint.test.ts                          \nnpm notice\u001b[0m\u001b[91m 1.7kB  src/__tests__/commands/push-region.test.ts                   \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 6.3kB  src/__tests__/commands/push.test.ts                          \nnpm \u001b[0m\u001b[91mnotice 237B   src/__tests__/fixtures/config.ts                             \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 7.9kB  src/__tests__/utils.test.ts                                  \nnpm notice\u001b[0m\u001b[91m 189B   src/assert-node-version.ts                                   \nnpm notice\u001b[0m\u001b[91m 1.9kB  src/commands/build-docs/index.ts                             \nnpm notice\u001b[0m\u001b[91m 490B   src/commands/build-docs/template.hbs                         \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 537B   src/commands/build-docs/types.ts                             \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 3.5kB  src/commands/build-docs/utils.ts                             \nnpm \u001b[0m\u001b[91mnotice 5.2kB  src/commands/bundle.ts                                       \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 24.5kB src/commands/join.ts                                         \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 4.4kB  src/commands/lint.ts                                         \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 822B   src/commands/login.ts                                        \nnpm notice\u001b[0m\u001b[91m 5.6kB  src/commands/preview-docs/index.ts                           \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 450B   src/commands/preview-docs/preview-server/default.hbs         \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 971B   src/commands/preview-docs/preview-server/hot.js              \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 614B   src/commands/preview-docs/preview-server/oauth2-redirect.html\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 5.0kB  src/commands/preview-docs/preview-server/preview-server.ts   \nnpm notice\u001b[0m\u001b[91m 2.6kB  src/commands/preview-docs/preview-server/server.ts           \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11.3kB src/commands/push.ts                                         \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 1.3kB  src/commands/split/__tests__/fixtures/samples.json           \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.5kB  src/commands/split/__tests__/fixtures/spec.json              \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.9kB  src/commands/split/__tests__/fixtures/webhooks.json          \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 4.5kB  src/commands/split/__tests__/index.test.ts                   \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 12.7kB src/commands/split/index.ts                                  \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 1.9kB  src/commands/split/types.ts                                  \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 3.5kB  src/commands/stats.ts                                        \nnpm \u001b[0m\u001b[91mnotice 42B    src/custom.d.ts                                              \nnpm \u001b[0m\u001b[91mnotice 13.2kB src/index.ts                                                 \nnpm notice\u001b[0m\u001b[91m 437B   src/js-utils.ts                                              \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 795B   src/types.ts                                                 \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 11.2kB src/utils.ts                                                 \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m 172B   tsconfig.json                                                \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m 52.3kB tsconfig.tsbuildinfo                                         \n\u001b[0m\u001b[91mnpm notice === Tarball Details ===\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm notice name:          @redocly/cli                            \nnpm \u001b[0m\u001b[91mnotice version:       1.0.0-beta.118                          \nnpm\u001b[0m\u001b[91m notice filename:      redocly-cli-1.0.0-beta.118.tgz          \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m package size:  97.0 kB                                 \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m unpacked size: 408.4 kB                                \nnpm \u001b[0m\u001b[91mnotice shasum:        1430d509e841e63d55dc0bd377a98cce2f4ecd95\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m integrity:     sha512-aBzFeqEqWa1wz[...]VrcNx4gx48rNQ==\nnpm notice\u001b[0m\u001b[91m total files:   115                                     \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0m\nadded 255 packages in 8s\n\n31 packages are looking for funding\n  run `npm fund` for details\nRemoving intermediate container 956961ad7b57\n ---> cc902c2c5b06\nStep 11/14 : RUN cp packages/cli/src/commands/preview-docs/preview-server/default.hbs /usr/local/lib/node_modules/@redocly/cli/lib/commands/preview-docs/preview-server/default.hbs && \t  cp packages/cli/src/commands/preview-docs/preview-server/hot.js /usr/local/lib/node_modules/@redocly/cli/lib/commands/preview-docs/preview-server/hot.js\n ---> Running in 857dabaf93f4\nRemoving intermediate container 857dabaf93f4\n ---> fcf084101ab2\nStep 12/14 : RUN npm cache clean --force && rm -rf /build\n ---> Running in 19f0e97b4f87\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 19f0e97b4f87\n ---> 58c01f0b8d54\nStep 13/14 : WORKDIR /spec\n ---> Running in 3b7ab15926da\nRemoving intermediate container 3b7ab15926da\n ---> d5112ff0e2e4\nStep 14/14 : ENTRYPOINT [ \"openapi\" ]\n ---> Running in 93f8506a6f98\nRemoving intermediate container 93f8506a6f98\n ---> 1de5793b07c9\nSuccessfully built 1de5793b07c9\nSuccessfully tagged openapi-cli:latest\n","stderr":"","imageSize":504767271},"endTime":1672739005149}