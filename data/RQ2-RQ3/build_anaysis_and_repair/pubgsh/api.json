{"repository":"https://github.com/pubgsh/api","dockerfilePath":"Dockerfile","startTime":1672132691723,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pubgsh/api'...\n","error":null,"commit":"725d6200bbdb2c15dcc469f7101a187e04d55d39"},"originalBuild":{"startTimestamp":1672132692865,"endTimestamp":1672132834755,"error":null,"stdout":"Sending build context to Docker daemon  13.54MB\r\r\nStep 1/14 : FROM mhart/alpine-node:8.11.1\n8.11.1: Pulling from mhart/alpine-node\n605ce1bd3f31: Pulling fs layer\n99f390e7fb01: Pulling fs layer\n605ce1bd3f31: Verifying Checksum\n605ce1bd3f31: Download complete\n99f390e7fb01: Verifying Checksum\n99f390e7fb01: Download complete\n605ce1bd3f31: Pull complete\n99f390e7fb01: Pull complete\nDigest: sha256:3b4f810f7184aacea35894aa436e3c47b40df3ff75fca142f4fbf776eacf57bf\nStatus: Downloaded newer image for mhart/alpine-node:8.11.1\n ---> a1ae0271a8c0\nStep 2/14 : RUN npm config set unsafe-perm true\n ---> Running in b01a58ed27be\nRemoving intermediate container b01a58ed27be\n ---> 0bae9a825c77\nStep 3/14 : RUN npm install --global yarn\n ---> Running in 48c23d84af44\n\n> yarn@1.22.19 preinstall /usr/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js\n/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\nadded 1 package in 0.785s\nRemoving intermediate container 48c23d84af44\n ---> 3e248ef04f56\nStep 4/14 : RUN npm config set unsafe-perm false\n ---> Running in f26b45184e94\nRemoving intermediate container f26b45184e94\n ---> 4575eb455116\nStep 5/14 : RUN apk add --no-cache python git make gcc g++ bash curl\n ---> Running in d9c91619770b\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/33) Upgrading musl (1.1.16-r14 -> 1.1.16-r15)\n(2/33) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(3/33) Installing ncurses-terminfo (6.0_p20171125-r1)\n(4/33) Installing ncurses-libs (6.0_p20171125-r1)\n(5/33) Installing readline (6.3.008-r5)\n(6/33) Installing bash (4.3.48-r1)\nExecuting bash-4.3.48-r1.post-install\n(7/33) Installing ca-certificates (20161130-r3)\n(8/33) Installing libssh2 (1.8.2-r0)\n(9/33) Installing libcurl (7.61.1-r2)\n(10/33) Installing curl (7.61.1-r2)\n(11/33) Installing binutils-libs (2.30-r1)\n(12/33) Installing binutils (2.30-r1)\n(13/33) Installing gmp (6.1.2-r0)\n(14/33) Installing isl (0.17.1-r0)\n(15/33) Installing libgomp (6.3.0-r4)\n(16/33) Installing libatomic (6.3.0-r4)\n(17/33) Installing pkgconf (1.3.7-r0)\n(18/33) Installing mpfr3 (3.1.5-r0)\n(19/33) Installing mpc1 (1.0.3-r0)\n(20/33) Installing gcc (6.3.0-r4)\n(21/33) Installing musl-dev (1.1.16-r15)\n(22/33) Installing libc-dev (0.7.1-r0)\n(23/33) Installing g++ (6.3.0-r4)\n(24/33) Installing expat (2.2.0-r1)\n(25/33) Installing pcre (8.41-r0)\n(26/33) Installing git (2.13.7-r2)\n(27/33) Upgrading musl-utils (1.1.16-r14 -> 1.1.16-r15)\n(28/33) Installing make (4.2.1-r0)\n(29/33) Installing libbz2 (1.0.6-r5)\n(30/33) Installing libffi (3.2.1-r3)\n(31/33) Installing gdbm (1.12-r0)\n(32/33) Installing sqlite-libs (3.25.3-r0)\n(33/33) Installing python2 (2.7.15-r0)\nExecuting busybox-1.26.2-r9.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 229 MiB in 44 packages\nRemoving intermediate container d9c91619770b\n ---> aa3a1698ec06\nStep 6/14 : ADD package.json /tmp/package.json\n ---> 2103f3af39fb\nStep 7/14 : ADD yarn.lock /tmp/yarn.lock\n ---> f0f27809c257\nStep 8/14 : RUN cd /tmp && yarn install\n ---> Running in 9438ba36f81f\nyarn install v1.5.1\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.1.3: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.1.3\" is an optional dependency and failed compatibility check. Excluding it from installation.\ninfo fsevents@1.2.0: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.0\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 16.31s.\nRemoving intermediate container 9438ba36f81f\n ---> 1f61998402f8\nStep 9/14 : RUN mkdir -p /app && cp -a /tmp/node_modules /app/\n ---> Running in d1964a5ff947\nRemoving intermediate container d1964a5ff947\n ---> bb565c3eefd0\nStep 10/14 : RUN apk del python git make gcc g++\n ---> Running in 2c2bc7c00f02\n\u001b[91mWARNING: Ignoring APKINDEX.84815163.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.24d64ab1.tar.gz: No such file or directory\n\u001b[0m(1/22) Purging g++ (6.3.0-r4)\n(2/22) Purging gcc (6.3.0-r4)\n(3/22) Purging binutils (2.30-r1)\n(4/22) Purging libatomic (6.3.0-r4)\n(5/22) Purging libgomp (6.3.0-r4)\n(6/22) Purging libc-dev (0.7.1-r0)\n(7/22) Purging musl-dev (1.1.16-r15)\n(8/22) Purging git (2.13.7-r2)\n(9/22) Purging make (4.2.1-r0)\n(10/22) Purging python2 (2.7.15-r0)\n(11/22) Purging binutils-libs (2.30-r1)\n(12/22) Purging mpc1 (1.0.3-r0)\n(13/22) Purging mpfr3 (3.1.5-r0)\n(14/22) Purging isl (0.17.1-r0)\n(15/22) Purging gmp (6.1.2-r0)\n(16/22) Purging pkgconf (1.3.7-r0)\n(17/22) Purging expat (2.2.0-r1)\n(18/22) Purging pcre (8.41-r0)\n(19/22) Purging libbz2 (1.0.6-r5)\n(20/22) Purging libffi (3.2.1-r3)\n(21/22) Purging gdbm (1.12-r0)\n(22/22) Purging sqlite-libs (3.25.3-r0)\nExecuting busybox-1.26.2-r9.trigger\nOK: 15 MiB in 22 packages\nRemoving intermediate container 2c2bc7c00f02\n ---> 3f84b6d84af9\nStep 11/14 : WORKDIR /app\n ---> Running in 0f3eb3564dd5\nRemoving intermediate container 0f3eb3564dd5\n ---> 44ef260c926b\nStep 12/14 : ADD . ./\n ---> 69633261eead\nStep 13/14 : RUN yarn run build\n ---> Running in ffdf1fac9853\nyarn run v1.5.1\n$ babel src --out-dir dist --source-maps -q --ignore **/*.test.js\nDone in 0.70s.\nRemoving intermediate container ffdf1fac9853\n ---> 1ca3d0f0ff54\nStep 14/14 : CMD [\"node\", \"dist/app.js\"]\n ---> Running in a067e1c5df42\nRemoving intermediate container a067e1c5df42\n ---> b67fe1ad0f7b\nSuccessfully built b67fe1ad0f7b\nSuccessfully tagged api:latest\n","stderr":"","imageSize":559488931},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"FROM mhart/alpine-node:8.11.1\n\nRUN npm config set unsafe-perm true\nRUN npm install --global yarn\nRUN npm config set unsafe-perm false\n\nRUN apk add --no-cache python git make gcc g++ bash curl\n\nADD package.json /tmp/package.json\nADD yarn.lock /tmp/yarn.lock\nRUN cd /tmp && yarn install\nRUN mkdir -p /app && cp -a /tmp/node_modules /app/\n\nRUN apk del python git make gcc g++\n\nWORKDIR /app\nADD . ./\nRUN yarn run build\n\nCMD [\"node\", \"dist/app.js\"]\n"},"repairedBuild":{"startTimestamp":1672132838212,"endTimestamp":1672132939236,"error":null,"stdout":"Sending build context to Docker daemon  13.54MB\r\r\nStep 1/14 : FROM mhart/alpine-node:8.11.1\n ---> a1ae0271a8c0\nStep 2/14 : RUN npm config set unsafe-perm true\n ---> Running in a53305179425\nRemoving intermediate container a53305179425\n ---> 209fc598b65e\nStep 3/14 : RUN npm install --global yarn\n ---> Running in 82c64731fe87\n\n> yarn@1.22.19 preinstall /usr/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js\n/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\nadded 1 package in 0.732s\nRemoving intermediate container 82c64731fe87\n ---> ef9bda83ced6\nStep 4/14 : RUN npm config set unsafe-perm false\n ---> Running in 570f671156f8\nRemoving intermediate container 570f671156f8\n ---> feae29ac5d33\nStep 5/14 : RUN apk add --no-cache python git make gcc g++ bash curl\n ---> Running in bddc81cf3d74\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/33) Upgrading musl (1.1.16-r14 -> 1.1.16-r15)\n(2/33) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(3/33) Installing ncurses-terminfo (6.0_p20171125-r1)\n(4/33) Installing ncurses-libs (6.0_p20171125-r1)\n(5/33) Installing readline (6.3.008-r5)\n(6/33) Installing bash (4.3.48-r1)\nExecuting bash-4.3.48-r1.post-install\n(7/33) Installing ca-certificates (20161130-r3)\n(8/33) Installing libssh2 (1.8.2-r0)\n(9/33) Installing libcurl (7.61.1-r2)\n(10/33) Installing curl (7.61.1-r2)\n(11/33) Installing binutils-libs (2.30-r1)\n(12/33) Installing binutils (2.30-r1)\n(13/33) Installing gmp (6.1.2-r0)\n(14/33) Installing isl (0.17.1-r0)\n(15/33) Installing libgomp (6.3.0-r4)\n(16/33) Installing libatomic (6.3.0-r4)\n(17/33) Installing pkgconf (1.3.7-r0)\n(18/33) Installing mpfr3 (3.1.5-r0)\n(19/33) Installing mpc1 (1.0.3-r0)\n(20/33) Installing gcc (6.3.0-r4)\n(21/33) Installing musl-dev (1.1.16-r15)\n(22/33) Installing libc-dev (0.7.1-r0)\n(23/33) Installing g++ (6.3.0-r4)\n(24/33) Installing expat (2.2.0-r1)\n(25/33) Installing pcre (8.41-r0)\n(26/33) Installing git (2.13.7-r2)\n(27/33) Upgrading musl-utils (1.1.16-r14 -> 1.1.16-r15)\n(28/33) Installing make (4.2.1-r0)\n(29/33) Installing libbz2 (1.0.6-r5)\n(30/33) Installing libffi (3.2.1-r3)\n(31/33) Installing gdbm (1.12-r0)\n(32/33) Installing sqlite-libs (3.25.3-r0)\n(33/33) Installing python2 (2.7.15-r0)\nExecuting busybox-1.26.2-r9.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 229 MiB in 44 packages\nRemoving intermediate container bddc81cf3d74\n ---> 9a3c50601172\nStep 6/14 : ADD package.json /tmp/package.json\n ---> 34a16ec5d442\nStep 7/14 : ADD yarn.lock /tmp/yarn.lock\n ---> 998e52c126ac\nStep 8/14 : RUN cd /tmp && yarn install\n ---> Running in 6a9b8d4e8cd9\nyarn install v1.5.1\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.1.3: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.1.3\" is an optional dependency and failed compatibility check. Excluding it from installation.\ninfo fsevents@1.2.0: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.0\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 10.66s.\nRemoving intermediate container 6a9b8d4e8cd9\n ---> d75d45f5bcad\nStep 9/14 : RUN mkdir -p /app && cp -a /tmp/node_modules /app/\n ---> Running in 66311bc25397\nRemoving intermediate container 66311bc25397\n ---> 3ad284a20739\nStep 10/14 : RUN apk del python git make gcc g++\n ---> Running in c8d25eafc943\n\u001b[91mWARNING: Ignoring APKINDEX.84815163.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.24d64ab1.tar.gz: No such file or directory\n\u001b[0m(1/22) Purging g++ (6.3.0-r4)\n(2/22) Purging gcc (6.3.0-r4)\n(3/22) Purging binutils (2.30-r1)\n(4/22) Purging libatomic (6.3.0-r4)\n(5/22) Purging libgomp (6.3.0-r4)\n(6/22) Purging libc-dev (0.7.1-r0)\n(7/22) Purging musl-dev (1.1.16-r15)\n(8/22) Purging git (2.13.7-r2)\n(9/22) Purging make (4.2.1-r0)\n(10/22) Purging python2 (2.7.15-r0)\n(11/22) Purging binutils-libs (2.30-r1)\n(12/22) Purging mpc1 (1.0.3-r0)\n(13/22) Purging mpfr3 (3.1.5-r0)\n(14/22) Purging isl (0.17.1-r0)\n(15/22) Purging gmp (6.1.2-r0)\n(16/22) Purging pkgconf (1.3.7-r0)\n(17/22) Purging expat (2.2.0-r1)\n(18/22) Purging pcre (8.41-r0)\n(19/22) Purging libbz2 (1.0.6-r5)\n(20/22) Purging libffi (3.2.1-r3)\n(21/22) Purging gdbm (1.12-r0)\n(22/22) Purging sqlite-libs (3.25.3-r0)\nExecuting busybox-1.26.2-r9.trigger\nOK: 15 MiB in 22 packages\nRemoving intermediate container c8d25eafc943\n ---> 0150bebbad64\nStep 11/14 : WORKDIR /app\n ---> Running in 199f7e32d4d1\nRemoving intermediate container 199f7e32d4d1\n ---> a8e021a2e2ae\nStep 12/14 : ADD . ./\n ---> 8653caf831ca\nStep 13/14 : RUN yarn run build\n ---> Running in 919a2e90efca\nyarn run v1.5.1\n$ babel src --out-dir dist --source-maps -q --ignore **/*.test.js\nDone in 0.68s.\nRemoving intermediate container 919a2e90efca\n ---> 6de262747972\nStep 14/14 : CMD [\"node\", \"dist/app.js\"]\n ---> Running in f2b50082847d\nRemoving intermediate container f2b50082847d\n ---> 8c6a0f30f6db\nSuccessfully built 8c6a0f30f6db\nSuccessfully tagged api:latest\n","stderr":"","imageSize":559488933},"endTime":1672132940868}