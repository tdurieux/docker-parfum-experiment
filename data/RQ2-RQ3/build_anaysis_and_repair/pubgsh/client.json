{"repository":"https://github.com/pubgsh/client","dockerfilePath":"Dockerfile","startTime":1672094503888,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pubgsh/client'...\n","error":null,"commit":"8e4d6963bae4d1990f1f8477321a596124bc3a5e"},"originalBuild":{"startTimestamp":1672094563672,"endTimestamp":1672094852510,"error":null,"stdout":"Sending build context to Docker daemon  45.56MB\r\r\nStep 1/14 : FROM mhart/alpine-node:8.11.1\n8.11.1: Pulling from mhart/alpine-node\n605ce1bd3f31: Pulling fs layer\n99f390e7fb01: Pulling fs layer\n605ce1bd3f31: Verifying Checksum\n605ce1bd3f31: Download complete\n605ce1bd3f31: Pull complete\n99f390e7fb01: Verifying Checksum\n99f390e7fb01: Download complete\n99f390e7fb01: Pull complete\nDigest: sha256:3b4f810f7184aacea35894aa436e3c47b40df3ff75fca142f4fbf776eacf57bf\nStatus: Downloaded newer image for mhart/alpine-node:8.11.1\n ---> a1ae0271a8c0\nStep 2/14 : RUN npm config set unsafe-perm true\n ---> Running in 70a947e8b0fc\nRemoving intermediate container 70a947e8b0fc\n ---> fdda2fd188ee\nStep 3/14 : RUN npm install --global yarn\n ---> Running in 81e3746cce3e\n\n> yarn@1.22.19 preinstall /usr/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js\n/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\nadded 1 package in 0.835s\nRemoving intermediate container 81e3746cce3e\n ---> e99a016b7a29\nStep 4/14 : RUN npm config set unsafe-perm false\n ---> Running in 3158e78412b4\nRemoving intermediate container 3158e78412b4\n ---> 9966e31713db\nStep 5/14 : RUN apk add --no-cache python git make gcc g++ bash curl\n ---> Running in 0cdbc23666d4\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/33) Upgrading musl (1.1.16-r14 -> 1.1.16-r15)\n(2/33) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(3/33) Installing ncurses-terminfo (6.0_p20171125-r1)\n(4/33) Installing ncurses-libs (6.0_p20171125-r1)\n(5/33) Installing readline (6.3.008-r5)\n(6/33) Installing bash (4.3.48-r1)\nExecuting bash-4.3.48-r1.post-install\n(7/33) Installing ca-certificates (20161130-r3)\n(8/33) Installing libssh2 (1.8.2-r0)\n(9/33) Installing libcurl (7.61.1-r2)\n(10/33) Installing curl (7.61.1-r2)\n(11/33) Installing binutils-libs (2.30-r1)\n(12/33) Installing binutils (2.30-r1)\n(13/33) Installing gmp (6.1.2-r0)\n(14/33) Installing isl (0.17.1-r0)\n(15/33) Installing libgomp (6.3.0-r4)\n(16/33) Installing libatomic (6.3.0-r4)\n(17/33) Installing pkgconf (1.3.7-r0)\n(18/33) Installing mpfr3 (3.1.5-r0)\n(19/33) Installing mpc1 (1.0.3-r0)\n(20/33) Installing gcc (6.3.0-r4)\n(21/33) Installing musl-dev (1.1.16-r15)\n(22/33) Installing libc-dev (0.7.1-r0)\n(23/33) Installing g++ (6.3.0-r4)\n(24/33) Installing expat (2.2.0-r1)\n(25/33) Installing pcre (8.41-r0)\n(26/33) Installing git (2.13.7-r2)\n(27/33) Upgrading musl-utils (1.1.16-r14 -> 1.1.16-r15)\n(28/33) Installing make (4.2.1-r0)\n(29/33) Installing libbz2 (1.0.6-r5)\n(30/33) Installing libffi (3.2.1-r3)\n(31/33) Installing gdbm (1.12-r0)\n(32/33) Installing sqlite-libs (3.25.3-r0)\n(33/33) Installing python2 (2.7.15-r0)\nExecuting busybox-1.26.2-r9.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 229 MiB in 44 packages\nRemoving intermediate container 0cdbc23666d4\n ---> c1e18de74f4e\nStep 6/14 : ADD package.json /tmp/package.json\n ---> 01d59aa5c186\nStep 7/14 : ADD yarn.lock /tmp/yarn.lock\n ---> b4a4a0215dcb\nStep 8/14 : RUN cd /tmp && yarn install\n ---> Running in 66fcc2c01f79\nyarn install v1.5.1\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.2.11: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.11\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > worker-loader@2.0.0\" has unmet peer dependency \"webpack@^3.0.0 || ^4.0.0-alpha.0 || ^4.0.0\".\n\u001b[0m[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 20.35s.\nRemoving intermediate container 66fcc2c01f79\n ---> cf228313bc8e\nStep 9/14 : RUN mkdir -p /app && cp -a /tmp/node_modules /app/\n ---> Running in d05171158a55\nRemoving intermediate container d05171158a55\n ---> 53c1cadb3e34\nStep 10/14 : RUN apk del python git make gcc g++\n ---> Running in 900597b29d63\n\u001b[91mWARNING: Ignoring APKINDEX.84815163.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.24d64ab1.tar.gz: No such file or directory\n\u001b[0m(1/22) Purging g++ (6.3.0-r4)\n(2/22) Purging gcc (6.3.0-r4)\n(3/22) Purging binutils (2.30-r1)\n(4/22) Purging libatomic (6.3.0-r4)\n(5/22) Purging libgomp (6.3.0-r4)\n(6/22) Purging libc-dev (0.7.1-r0)\n(7/22) Purging musl-dev (1.1.16-r15)\n(8/22) Purging git (2.13.7-r2)\n(9/22) Purging make (4.2.1-r0)\n(10/22) Purging python2 (2.7.15-r0)\n(11/22) Purging binutils-libs (2.30-r1)\n(12/22) Purging mpc1 (1.0.3-r0)\n(13/22) Purging mpfr3 (3.1.5-r0)\n(14/22) Purging isl (0.17.1-r0)\n(15/22) Purging gmp (6.1.2-r0)\n(16/22) Purging pkgconf (1.3.7-r0)\n(17/22) Purging expat (2.2.0-r1)\n(18/22) Purging pcre (8.41-r0)\n(19/22) Purging libbz2 (1.0.6-r5)\n(20/22) Purging libffi (3.2.1-r3)\n(21/22) Purging gdbm (1.12-r0)\n(22/22) Purging sqlite-libs (3.25.3-r0)\nExecuting busybox-1.26.2-r9.trigger\nOK: 15 MiB in 22 packages\nRemoving intermediate container 900597b29d63\n ---> b852ed91d985\nStep 11/14 : WORKDIR /app\n ---> Running in 6cc5d2c5fa0d\nRemoving intermediate container 6cc5d2c5fa0d\n ---> f52f48111a66\nStep 12/14 : ADD . ./\n ---> a7e05ec0cccf\nStep 13/14 : RUN yarn run build\n ---> Running in 3d4c8ee3ccdc\nyarn run v1.5.1\n$ react-app-rewired build\nCreating an optimized production build...\nCompiled successfully.\n\nFile sizes after gzip:\n\n  318.8 KB   build/static/js/main.68a2aba5.js\n  129.52 KB  build/4ff6560fa91169219f90.worker.js\n  129.48 KB  build/1daa7c1d4b2213e8e406.worker.js\n  2.46 KB    build/static/css/main.d18d42c7.css\n\nThe project was built assuming it is hosted at the server root.\nYou can control this with the homepage field in your package.json.\nFor example, add this to build it for GitHub Pages:\n\n  \"homepage\" : \"http://myname.github.io/myapp\",\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  http://bit.ly/2vY88Kr\n\nDone in 20.39s.\nRemoving intermediate container 3d4c8ee3ccdc\n ---> d57957b32033\nStep 14/14 : RUN tar -cf build.tar build\n ---> Running in 7ff63a805e96\nRemoving intermediate container 7ff63a805e96\n ---> b0bad062c6de\nSuccessfully built b0bad062c6de\nSuccessfully tagged client:latest\n","stderr":"","imageSize":808772897},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":29}},{"name":"tarSomethingRmTheSomething","position":{"start":19,"end":19,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM mhart/alpine-node:8.11.1\n\nRUN npm config set unsafe-perm true\nRUN npm install --global yarn\nRUN npm config set unsafe-perm false\n\nRUN apk add --no-cache python git make gcc g++ bash curl\n\nADD package.json /tmp/package.json\nADD yarn.lock /tmp/yarn.lock\nRUN cd /tmp && yarn install\nRUN mkdir -p /app && cp -a /tmp/node_modules /app/\n\nRUN apk del python git make gcc g++\n\nWORKDIR /app\nADD . ./\nRUN yarn run build\n\nRUN tar -cf build.tar build\n"},"repairedBuild":{"startTimestamp":1672094855342,"endTimestamp":1672095070786,"error":null,"stdout":"Sending build context to Docker daemon  45.56MB\r\r\nStep 1/14 : FROM mhart/alpine-node:8.11.1\n ---> a1ae0271a8c0\nStep 2/14 : RUN npm config set unsafe-perm true\n ---> Running in c12551e9178c\nRemoving intermediate container c12551e9178c\n ---> cc787e75be6d\nStep 3/14 : RUN npm install --global yarn\n ---> Running in 1d3bdf82e25b\n\n> yarn@1.22.19 preinstall /usr/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js\n/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\nadded 1 package in 0.849s\nRemoving intermediate container 1d3bdf82e25b\n ---> 468f6be08953\nStep 4/14 : RUN npm config set unsafe-perm false\n ---> Running in 5d2c6b416e9b\nRemoving intermediate container 5d2c6b416e9b\n ---> cd574911f914\nStep 5/14 : RUN apk add --no-cache python git make gcc g++ bash curl\n ---> Running in da49aaf79ee0\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/33) Upgrading musl (1.1.16-r14 -> 1.1.16-r15)\n(2/33) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(3/33) Installing ncurses-terminfo (6.0_p20171125-r1)\n(4/33) Installing ncurses-libs (6.0_p20171125-r1)\n(5/33) Installing readline (6.3.008-r5)\n(6/33) Installing bash (4.3.48-r1)\nExecuting bash-4.3.48-r1.post-install\n(7/33) Installing ca-certificates (20161130-r3)\n(8/33) Installing libssh2 (1.8.2-r0)\n(9/33) Installing libcurl (7.61.1-r2)\n(10/33) Installing curl (7.61.1-r2)\n(11/33) Installing binutils-libs (2.30-r1)\n(12/33) Installing binutils (2.30-r1)\n(13/33) Installing gmp (6.1.2-r0)\n(14/33) Installing isl (0.17.1-r0)\n(15/33) Installing libgomp (6.3.0-r4)\n(16/33) Installing libatomic (6.3.0-r4)\n(17/33) Installing pkgconf (1.3.7-r0)\n(18/33) Installing mpfr3 (3.1.5-r0)\n(19/33) Installing mpc1 (1.0.3-r0)\n(20/33) Installing gcc (6.3.0-r4)\n(21/33) Installing musl-dev (1.1.16-r15)\n(22/33) Installing libc-dev (0.7.1-r0)\n(23/33) Installing g++ (6.3.0-r4)\n(24/33) Installing expat (2.2.0-r1)\n(25/33) Installing pcre (8.41-r0)\n(26/33) Installing git (2.13.7-r2)\n(27/33) Upgrading musl-utils (1.1.16-r14 -> 1.1.16-r15)\n(28/33) Installing make (4.2.1-r0)\n(29/33) Installing libbz2 (1.0.6-r5)\n(30/33) Installing libffi (3.2.1-r3)\n(31/33) Installing gdbm (1.12-r0)\n(32/33) Installing sqlite-libs (3.25.3-r0)\n(33/33) Installing python2 (2.7.15-r0)\nExecuting busybox-1.26.2-r9.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 229 MiB in 44 packages\nRemoving intermediate container da49aaf79ee0\n ---> 42fdf7534f26\nStep 6/14 : ADD package.json /tmp/package.json\n ---> f238ff2ab10a\nStep 7/14 : ADD yarn.lock /tmp/yarn.lock\n ---> ed74f8e0436d\nStep 8/14 : RUN cd /tmp && yarn install\n ---> Running in ec491acbec19\nyarn install v1.5.1\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.2.11: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.11\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > worker-loader@2.0.0\" has unmet peer dependency \"webpack@^3.0.0 || ^4.0.0-alpha.0 || ^4.0.0\".\n\u001b[0m[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 16.61s.\nRemoving intermediate container ec491acbec19\n ---> 1026e00b01ac\nStep 9/14 : RUN mkdir -p /app && cp -a /tmp/node_modules /app/\n ---> Running in adb4981477ff\nRemoving intermediate container adb4981477ff\n ---> 75d540dea894\nStep 10/14 : RUN apk del python git make gcc g++\n ---> Running in 312fb0886d33\n\u001b[91mWARNING: Ignoring APKINDEX.84815163.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.24d64ab1.tar.gz: No such file or directory\n\u001b[0m(1/22) Purging g++ (6.3.0-r4)\n(2/22) Purging gcc (6.3.0-r4)\n(3/22) Purging binutils (2.30-r1)\n(4/22) Purging libatomic (6.3.0-r4)\n(5/22) Purging libgomp (6.3.0-r4)\n(6/22) Purging libc-dev (0.7.1-r0)\n(7/22) Purging musl-dev (1.1.16-r15)\n(8/22) Purging git (2.13.7-r2)\n(9/22) Purging make (4.2.1-r0)\n(10/22) Purging python2 (2.7.15-r0)\n(11/22) Purging binutils-libs (2.30-r1)\n(12/22) Purging mpc1 (1.0.3-r0)\n(13/22) Purging mpfr3 (3.1.5-r0)\n(14/22) Purging isl (0.17.1-r0)\n(15/22) Purging gmp (6.1.2-r0)\n(16/22) Purging pkgconf (1.3.7-r0)\n(17/22) Purging expat (2.2.0-r1)\n(18/22) Purging pcre (8.41-r0)\n(19/22) Purging libbz2 (1.0.6-r5)\n(20/22) Purging libffi (3.2.1-r3)\n(21/22) Purging gdbm (1.12-r0)\n(22/22) Purging sqlite-libs (3.25.3-r0)\nExecuting busybox-1.26.2-r9.trigger\nOK: 15 MiB in 22 packages\nRemoving intermediate container 312fb0886d33\n ---> a7eaa6433b24\nStep 11/14 : WORKDIR /app\n ---> Running in 9ad2d25ba4b2\nRemoving intermediate container 9ad2d25ba4b2\n ---> 94d0f2eeafa2\nStep 12/14 : ADD . ./\n ---> e49d77a90960\nStep 13/14 : RUN yarn run build\n ---> Running in 5b77dcfb56d8\nyarn run v1.5.1\n$ react-app-rewired build\nCreating an optimized production build...\nCompiled successfully.\n\nFile sizes after gzip:\n\n  318.8 KB   build/static/js/main.68a2aba5.js\n  129.52 KB  build/4ff6560fa91169219f90.worker.js\n  129.48 KB  build/1daa7c1d4b2213e8e406.worker.js\n  2.46 KB    build/static/css/main.d18d42c7.css\n\nThe project was built assuming it is hosted at the server root.\nYou can control this with the homepage field in your package.json.\nFor example, add this to build it for GitHub Pages:\n\n  \"homepage\" : \"http://myname.github.io/myapp\",\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  http://bit.ly/2vY88Kr\n\nDone in 19.96s.\nRemoving intermediate container 5b77dcfb56d8\n ---> 77c6ebd1913d\nStep 14/14 : RUN tar -cf build.tar build\n ---> Running in 5afdf22acf6d\nRemoving intermediate container 5afdf22acf6d\n ---> 01818d9d5d83\nSuccessfully built 01818d9d5d83\nSuccessfully tagged client:latest\n","stderr":"","imageSize":808772952},"endTime":1672095072531}