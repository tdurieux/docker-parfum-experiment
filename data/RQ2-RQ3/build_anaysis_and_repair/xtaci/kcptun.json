{"repository":"https://github.com/xtaci/kcptun","dockerfilePath":"Dockerfile","startTime":1673033335897,"endTime":1673033454880,"clone":{"startTime":1673033335897,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/xtaci/kcptun'...\n","error":null,"endTime":1673033337131,"commit":"a3cc866b287f9956e41d9f2c729be40ae802325e"},"originalBuild":{"startTime":1673033337227,"endTime":1673033426176,"error":null,"stdout":"Sending build context to Docker daemon  15.12MB\r\r\nStep 1/10 : FROM golang:1.14.9-alpine3.11 as builder\n1.14.9-alpine3.11: Pulling from library/golang\ncbdbe7a5bc2a: Pulling fs layer\n408f87550127: Pulling fs layer\nfe522b08c979: Pulling fs layer\nf17a0e7222e9: Pulling fs layer\n6c779afab704: Pulling fs layer\nf17a0e7222e9: Waiting\n6c779afab704: Waiting\ncbdbe7a5bc2a: Verifying Checksum\ncbdbe7a5bc2a: Download complete\nfe522b08c979: Verifying Checksum\nfe522b08c979: Download complete\n408f87550127: Verifying Checksum\n408f87550127: Download complete\ncbdbe7a5bc2a: Pull complete\n408f87550127: Pull complete\nfe522b08c979: Pull complete\n6c779afab704: Verifying Checksum\n6c779afab704: Download complete\nf17a0e7222e9: Verifying Checksum\nf17a0e7222e9: Download complete\nf17a0e7222e9: Pull complete\n6c779afab704: Pull complete\nDigest: sha256:2fdae848da318c7776650b1f7da4e3cd8835f60148f76a0ab3e3aa1db3432cad\nStatus: Downloaded newer image for golang:1.14.9-alpine3.11\n ---> 3854b39aac74\nStep 2/10 : MAINTAINER xtaci <daniel820313@gmail.com>\n ---> Running in 39dfa8d4382b\nRemoving intermediate container 39dfa8d4382b\n ---> e903a1a28614\nStep 3/10 : ENV GO111MODULE=on\n ---> Running in 1bd27473d354\nRemoving intermediate container 1bd27473d354\n ---> 8fd93100ee0e\nStep 4/10 : RUN apk update &&     apk upgrade &&     apk add git gcc libc-dev linux-headers\n ---> Running in 06d9042d1494\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\nOK: 11285 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.5-r0 -> 2.10.8-r0)\nExecuting busybox-1.31.1-r9.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/9) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/9) Upgrading busybox (1.31.1-r9 -> 1.31.1-r11)\nExecuting busybox-1.31.1-r11.post-upgrade\n(3/9) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1l-r0)\n(4/9) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1l-r0)\n(5/9) Upgrading ca-certificates-cacert (20191127-r1 -> 20191127-r2)\n(6/9) Upgrading ssl_client (1.31.1-r9 -> 1.31.1-r11)\n(7/9) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\n(8/9) Upgrading ca-certificates (20191127-r1 -> 20191127-r2)\n(9/9) Upgrading musl-utils (1.1.24-r2 -> 1.1.24-r3)\nExecuting busybox-1.31.1-r11.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 6 MiB in 15 packages\n(1/18) Installing libgcc (9.3.0-r0)\n(2/18) Installing libstdc++ (9.3.0-r0)\n(3/18) Installing binutils (2.33.1-r1)\n(4/18) Installing gmp (6.1.2-r1)\n(5/18) Installing isl (0.18-r0)\n(6/18) Installing libgomp (9.3.0-r0)\n(7/18) Installing libatomic (9.3.0-r0)\n(8/18) Installing mpfr4 (4.0.2-r1)\n(9/18) Installing mpc1 (1.1.0-r1)\n(10/18) Installing gcc (9.3.0-r0)\n(11/18) Installing nghttp2-libs (1.40.0-r1)\n(12/18) Installing libcurl (7.79.1-r0)\n(13/18) Installing expat (2.2.9-r1)\n(14/18) Installing pcre2 (10.34-r1)\n(15/18) Installing git (2.24.4-r0)\n(16/18) Installing musl-dev (1.1.24-r3)\n(17/18) Installing libc-dev (0.7.2-r0)\n(18/18) Installing linux-headers (4.19.36-r0)\nExecuting busybox-1.31.1-r11.trigger\nOK: 134 MiB in 33 packages\nRemoving intermediate container 06d9042d1494\n ---> 0bd671eb38f1\nStep 5/10 : RUN go get -ldflags \"-X main.VERSION=$(date -u +%Y%m%d) -s -w\" github.com/xtaci/kcptun/client && go get -ldflags \"-X main.VERSION=$(date -u +%Y%m%d) -s -w\" github.com/xtaci/kcptun/server\n ---> Running in bed146ccaa18\n\u001b[91mgo: downloading github.com/xtaci/kcptun v0.0.0-20221220062329-a3cc866b287f\n\u001b[0m\u001b[91mgo: found github.com/xtaci/kcptun/client in github.com/xtaci/kcptun v0.0.0-20221220062329-a3cc866b287f\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220622213112-05595931fe9d\ngo: downloading github.com/xtaci/tcpraw v1.2.25\ngo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/xtaci/smux v1.5.16\n\u001b[0m\u001b[91mgo: downloading github.com/xtaci/kcp-go/v5 v5.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/urfave/cli v1.21.0\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-iptables v0.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/gopacket v1.1.17\n\u001b[0m\u001b[91mgo: downloading github.com/tjfoc/gmsm v1.4.1\ngo: downloading golang.org/x/net v0.0.0-20220624214902-1bab6f366d9e\n\u001b[0m\u001b[91mgo: downloading github.com/templexxx/xorsimd v0.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/reedsolomon v1.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/templexxx/cpu v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/cpuid v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/cpuid/v2 v2.0.14\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220624220833-87e55d714810\n\u001b[0m\u001b[91mgo: found github.com/xtaci/kcptun/server in github.com/xtaci/kcptun v0.0.0-20221220062329-a3cc866b287f\n\u001b[0mRemoving intermediate container bed146ccaa18\n ---> 1c9292cb6dd4\nStep 6/10 : FROM alpine:3.11\n ---> a787cb986503\nStep 7/10 : RUN apk add --no-cache iptables\n ---> Running in fa069e65552a\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libmnl (1.0.4-r0)\n(2/3) Installing libnftnl-libs (1.1.5-r0)\n(3/3) Installing iptables (1.8.3-r2)\nExecuting busybox-1.31.1-r11.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container fa069e65552a\n ---> 2cfb59a56f3b\nStep 8/10 : COPY --from=builder /go/bin /bin\n ---> a70e9feca32d\nStep 9/10 : EXPOSE 29900/udp\n ---> Running in 2246b0a831a2\nRemoving intermediate container 2246b0a831a2\n ---> 095ad09fcaeb\nStep 10/10 : EXPOSE 12948\n ---> Running in 8ac029f53ef1\nRemoving intermediate container 8ac029f53ef1\n ---> 4dfc61293a7f\nSuccessfully built 4dfc61293a7f\nSuccessfully tagged kcptun:latest\n","stderr":"","imageSize":26962412},"repair":{"startTime":1673033426244,"endTime":1673033426332,"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":42}}],"repairedDockerfile":"FROM golang:1.14.9-alpine3.11 as builder\nMAINTAINER xtaci <daniel820313@gmail.com>\nENV GO111MODULE=on\nRUN apk update && \\\n    apk upgrade && \\\n    apk add --no-cache git gcc libc-dev linux-headers\nRUN go get -ldflags \"-X main.VERSION=$(date -u +%Y%m%d) -s -w\" github.com/xtaci/kcptun/client && go get -ldflags \"-X main.VERSION=$(date -u +%Y%m%d) -s -w\" github.com/xtaci/kcptun/server\n\nFROM alpine:3.11\nRUN apk add --no-cache iptables\nCOPY --from=builder /go/bin /bin\nEXPOSE 29900/udp\nEXPOSE 12948\n"},"repairedBuild":{"startTime":1673033426490,"endTime":1673033454648,"error":null,"stdout":"Sending build context to Docker daemon  15.12MB\r\r\nStep 1/10 : FROM golang:1.14.9-alpine3.11 as builder\n ---> 3854b39aac74\nStep 2/10 : MAINTAINER xtaci <daniel820313@gmail.com>\n ---> Running in 7b65eb8dffb0\nRemoving intermediate container 7b65eb8dffb0\n ---> 6b0a16b3f389\nStep 3/10 : ENV GO111MODULE=on\n ---> Running in 2ab9331b66a2\nRemoving intermediate container 2ab9331b66a2\n ---> 7fe70c2b10fc\nStep 4/10 : RUN apk update &&     apk upgrade &&     apk add --no-cache git gcc libc-dev linux-headers\n ---> Running in adc499895fe8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\nOK: 11285 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.5-r0 -> 2.10.8-r0)\nExecuting busybox-1.31.1-r9.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/9) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/9) Upgrading busybox (1.31.1-r9 -> 1.31.1-r11)\nExecuting busybox-1.31.1-r11.post-upgrade\n(3/9) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1l-r0)\n(4/9) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1l-r0)\n(5/9) Upgrading ca-certificates-cacert (20191127-r1 -> 20191127-r2)\n(6/9) Upgrading ssl_client (1.31.1-r9 -> 1.31.1-r11)\n(7/9) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\n(8/9) Upgrading ca-certificates (20191127-r1 -> 20191127-r2)\n(9/9) Upgrading musl-utils (1.1.24-r2 -> 1.1.24-r3)\nExecuting busybox-1.31.1-r11.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 6 MiB in 15 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing libgcc (9.3.0-r0)\n(2/18) Installing libstdc++ (9.3.0-r0)\n(3/18) Installing binutils (2.33.1-r1)\n(4/18) Installing gmp (6.1.2-r1)\n(5/18) Installing isl (0.18-r0)\n(6/18) Installing libgomp (9.3.0-r0)\n(7/18) Installing libatomic (9.3.0-r0)\n(8/18) Installing mpfr4 (4.0.2-r1)\n(9/18) Installing mpc1 (1.1.0-r1)\n(10/18) Installing gcc (9.3.0-r0)\n(11/18) Installing nghttp2-libs (1.40.0-r1)\n(12/18) Installing libcurl (7.79.1-r0)\n(13/18) Installing expat (2.2.9-r1)\n(14/18) Installing pcre2 (10.34-r1)\n(15/18) Installing git (2.24.4-r0)\n(16/18) Installing musl-dev (1.1.24-r3)\n(17/18) Installing libc-dev (0.7.2-r0)\n(18/18) Installing linux-headers (4.19.36-r0)\nExecuting busybox-1.31.1-r11.trigger\nOK: 134 MiB in 33 packages\nRemoving intermediate container adc499895fe8\n ---> 65cf425d57c8\nStep 5/10 : RUN go get -ldflags \"-X main.VERSION=$(date -u +%Y%m%d) -s -w\" github.com/xtaci/kcptun/client && go get -ldflags \"-X main.VERSION=$(date -u +%Y%m%d) -s -w\" github.com/xtaci/kcptun/server\n ---> Running in 63166670957e\n\u001b[91mgo: downloading github.com/xtaci/kcptun v0.0.0-20221220062329-a3cc866b287f\n\u001b[0m\u001b[91mgo: found github.com/xtaci/kcptun/client in github.com/xtaci/kcptun v0.0.0-20221220062329-a3cc866b287f\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading github.com/xtaci/tcpraw v1.2.25\ngo: downloading github.com/xtaci/smux v1.5.16\ngo: downloading github.com/urfave/cli v1.21.0\n\u001b[0m\u001b[91mgo: downloading github.com/xtaci/kcp-go/v5 v5.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220622213112-05595931fe9d\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-iptables v0.4.2\ngo: downloading github.com/google/gopacket v1.1.17\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/reedsolomon v1.10.0\ngo: downloading golang.org/x/net v0.0.0-20220624214902-1bab6f366d9e\n\u001b[0m\u001b[91mgo: downloading github.com/templexxx/xorsimd v0.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/templexxx/cpu v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/tjfoc/gmsm v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/cpuid v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/cpuid/v2 v2.0.14\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220624220833-87e55d714810\n\u001b[0m\u001b[91mgo: found github.com/xtaci/kcptun/server in github.com/xtaci/kcptun v0.0.0-20221220062329-a3cc866b287f\n\u001b[0mRemoving intermediate container 63166670957e\n ---> 55d70f68451c\nStep 6/10 : FROM alpine:3.11\n ---> a787cb986503\nStep 7/10 : RUN apk add --no-cache iptables\n ---> Running in 9a518ea15f55\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libmnl (1.0.4-r0)\n(2/3) Installing libnftnl-libs (1.1.5-r0)\n(3/3) Installing iptables (1.8.3-r2)\nExecuting busybox-1.31.1-r11.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container 9a518ea15f55\n ---> 0c8ee55bee8b\nStep 8/10 : COPY --from=builder /go/bin /bin\n ---> f52c044dab7d\nStep 9/10 : EXPOSE 29900/udp\n ---> Running in e3f7653632fd\nRemoving intermediate container e3f7653632fd\n ---> dc83c932ea2f\nStep 10/10 : EXPOSE 12948\n ---> Running in cf6bb3968b72\nRemoving intermediate container cf6bb3968b72\n ---> 3b720c40fa8d\nSuccessfully built 3b720c40fa8d\nSuccessfully tagged kcptun:latest\n","stderr":"","imageSize":26962412}}