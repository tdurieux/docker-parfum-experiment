{"repository":"https://github.com/tarnadas/smmdb","dockerfilePath":"Dockerfile","startTime":1672313182660,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tarnadas/smmdb'...\n","error":null,"commit":"71c8bea5e1bf11e42a72e8db77f2097a19bd2b45"},"originalBuild":{"startTimestamp":1672313183692,"endTimestamp":1672313329620,"error":null,"stdout":"Sending build context to Docker daemon  3.659MB\r\r\nStep 1/13 : FROM node:10-slim\n10-slim: Pulling from library/node\n62deabe7a6db: Pulling fs layer\nf698164f6049: Pulling fs layer\nbc29352cb629: Pulling fs layer\n85e84b4c858f: Pulling fs layer\nac72e4359589: Pulling fs layer\n85e84b4c858f: Waiting\nac72e4359589: Waiting\nf698164f6049: Verifying Checksum\nf698164f6049: Download complete\n62deabe7a6db: Verifying Checksum\n62deabe7a6db: Download complete\nbc29352cb629: Verifying Checksum\nbc29352cb629: Download complete\n85e84b4c858f: Verifying Checksum\n85e84b4c858f: Download complete\nac72e4359589: Verifying Checksum\nac72e4359589: Download complete\n62deabe7a6db: Pull complete\nf698164f6049: Pull complete\nbc29352cb629: Pull complete\n85e84b4c858f: Pull complete\nac72e4359589: Pull complete\nDigest: sha256:88932859e3d022d79161b99628c4c2c50e836437455e2d1b1a008d98367b10d6\nStatus: Downloaded newer image for node:10-slim\n ---> 6fbcbbb5c603\nStep 2/13 : WORKDIR /usr/src/app\n ---> Running in 5be73f5cc987\nRemoving intermediate container 5be73f5cc987\n ---> cc30d1df11c1\nStep 3/13 : RUN apt-get update && apt-get install -y p7zip p7zip-full zip\n ---> Running in 0f49b21a7868\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:3 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (5514 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  xz-utils\nUse 'apt autoremove' to remove it.\nThe following additional packages will be installed:\n  unzip\nSuggested packages:\n  p7zip-rar\nThe following NEW packages will be installed:\n  p7zip p7zip-full unzip zip\n0 upgraded, 4 newly installed, 0 to remove and 12 not upgraded.\nNeed to get 1885 kB of archives.\nAfter this operation, 6651 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 p7zip amd64 16.02+dfsg-3+deb9u1 [364 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 p7zip-full amd64 16.02+dfsg-3+deb9u1 [1115 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 unzip amd64 6.0-21+deb9u2 [172 kB]\nGet:4 http://deb.debian.org/debian stretch/main amd64 zip amd64 3.0-11+b1 [234 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1885 kB in 0s (12.8 MB/s)\nSelecting previously unselected package p7zip.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6366 files and directories currently installed.)\r\nPreparing to unpack .../p7zip_16.02+dfsg-3+deb9u1_amd64.deb ...\r\nUnpacking p7zip (16.02+dfsg-3+deb9u1) ...\r\nSelecting previously unselected package p7zip-full.\r\nPreparing to unpack .../p7zip-full_16.02+dfsg-3+deb9u1_amd64.deb ...\r\nUnpacking p7zip-full (16.02+dfsg-3+deb9u1) ...\r\nSelecting previously unselected package unzip.\r\nPreparing to unpack .../unzip_6.0-21+deb9u2_amd64.deb ...\r\nUnpacking unzip (6.0-21+deb9u2) ...\r\nSelecting previously unselected package zip.\r\nPreparing to unpack .../zip_3.0-11+b1_amd64.deb ...\r\nUnpacking zip (3.0-11+b1) ...\r\nSetting up unzip (6.0-21+deb9u2) ...\r\nSetting up zip (3.0-11+b1) ...\r\nSetting up p7zip (16.02+dfsg-3+deb9u1) ...\r\nSetting up p7zip-full (16.02+dfsg-3+deb9u1) ...\r\nRemoving intermediate container 0f49b21a7868\n ---> a82eeca42b56\nStep 4/13 : RUN rm -rf /var/cache/apt/archives\n ---> Running in e7dfaae41c22\nRemoving intermediate container e7dfaae41c22\n ---> cc3676925cc0\nStep 5/13 : COPY ./favicon.ico /usr/src/app/favicon.ico\n ---> aef29fe93167\nStep 6/13 : COPY ./static/images /usr/src/app/static/images\n ---> 5f39f8245506\nStep 7/13 : COPY ./static/styles /usr/src/app/static/styles\n ---> e62be99a043a\nStep 8/13 : COPY --from=tarnadas/smmdb-build /usr/src/app/build /usr/src/app/build\nlatest: Pulling from tarnadas/smmdb-build\n540db60ca938: Pulling fs layer\n48a84b549a88: Pulling fs layer\nb7b61ff2ef28: Pulling fs layer\n7b9525477877: Pulling fs layer\n53dfcde0d2f7: Pulling fs layer\n7fb3fe769938: Pulling fs layer\nf2e15f91050c: Pulling fs layer\n2e0cad88948e: Pulling fs layer\nc528890df954: Pulling fs layer\nb44ce47f9f59: Pulling fs layer\ndda9fd0d21fc: Pulling fs layer\n6abd42da1cd4: Pulling fs layer\n8189066c88bc: Pulling fs layer\n7b9525477877: Waiting\nb5042467e6fb: Pulling fs layer\ndd0081332f98: Pulling fs layer\n53dfcde0d2f7: Waiting\n058868e67903: Pulling fs layer\n7fb3fe769938: Waiting\n95d2ffbe1c90: Pulling fs layer\nafdc6e252c57: Pulling fs layer\na22a286a40d9: Pulling fs layer\nf2e15f91050c: Waiting\nb44ce47f9f59: Waiting\ndda9fd0d21fc: Waiting\n2e0cad88948e: Waiting\n6abd42da1cd4: Waiting\n058868e67903: Waiting\nc528890df954: Waiting\ndd0081332f98: Waiting\n8189066c88bc: Waiting\nb5042467e6fb: Waiting\n95d2ffbe1c90: Waiting\na22a286a40d9: Waiting\n540db60ca938: Verifying Checksum\n540db60ca938: Download complete\n540db60ca938: Pull complete\nb7b61ff2ef28: Download complete\n48a84b549a88: Verifying Checksum\n48a84b549a88: Download complete\n7b9525477877: Download complete\n7fb3fe769938: Download complete\nf2e15f91050c: Verifying Checksum\nf2e15f91050c: Download complete\n53dfcde0d2f7: Verifying Checksum\n53dfcde0d2f7: Download complete\n2e0cad88948e: Download complete\ndda9fd0d21fc: Verifying Checksum\ndda9fd0d21fc: Download complete\nb44ce47f9f59: Verifying Checksum\nb44ce47f9f59: Download complete\n48a84b549a88: Pull complete\n6abd42da1cd4: Verifying Checksum\n6abd42da1cd4: Download complete\n8189066c88bc: Download complete\nb7b61ff2ef28: Pull complete\nb5042467e6fb: Verifying Checksum\nb5042467e6fb: Download complete\n7b9525477877: Pull complete\ndd0081332f98: Verifying Checksum\ndd0081332f98: Download complete\n058868e67903: Download complete\n95d2ffbe1c90: Verifying Checksum\n95d2ffbe1c90: Download complete\nafdc6e252c57: Verifying Checksum\na22a286a40d9: Verifying Checksum\na22a286a40d9: Download complete\n53dfcde0d2f7: Pull complete\n7fb3fe769938: Pull complete\nf2e15f91050c: Pull complete\nc528890df954: Verifying Checksum\nc528890df954: Download complete\n2e0cad88948e: Pull complete\nc528890df954: Pull complete\nb44ce47f9f59: Pull complete\ndda9fd0d21fc: Pull complete\n6abd42da1cd4: Pull complete\n8189066c88bc: Pull complete\nb5042467e6fb: Pull complete\ndd0081332f98: Pull complete\n058868e67903: Pull complete\n95d2ffbe1c90: Pull complete\nafdc6e252c57: Pull complete\na22a286a40d9: Pull complete\nDigest: sha256:32c05ddda4c3c5d155e072a536e9db5820f4bd3dc1d894a938bc8f1bfc9bb9d7\nStatus: Downloaded newer image for tarnadas/smmdb-build:latest\n ---> 65e0e55ed26f\nStep 9/13 : COPY --from=tarnadas/smmdb-build-dep /usr/src/app/node_modules /usr/src/app/node_modules\nlatest: Pulling from tarnadas/smmdb-build-dep\n540db60ca938: Already exists\n48a84b549a88: Already exists\nb7b61ff2ef28: Already exists\n7b9525477877: Already exists\n53dfcde0d2f7: Already exists\n475b75f77f94: Pulling fs layer\n1477e0446db4: Pulling fs layer\nde72baab0326: Pulling fs layer\n25bd38d73150: Pulling fs layer\n25bd38d73150: Waiting\n1477e0446db4: Download complete\n475b75f77f94: Verifying Checksum\n475b75f77f94: Download complete\nde72baab0326: Verifying Checksum\nde72baab0326: Download complete\n475b75f77f94: Pull complete\n1477e0446db4: Pull complete\nde72baab0326: Pull complete\n25bd38d73150: Verifying Checksum\n25bd38d73150: Download complete\n25bd38d73150: Pull complete\nDigest: sha256:95cb8ae0f0ce40cd98e6a412e4bfd578739a72a9f30b373ec6fe3446bdec4de7\nStatus: Downloaded newer image for tarnadas/smmdb-build-dep:latest\n ---> 9ca36f216603\nStep 10/13 : ENV NODE_ENV production\n ---> Running in 85949ca482a5\nRemoving intermediate container 85949ca482a5\n ---> 9b8c3972e5dd\nStep 11/13 : EXPOSE 3000\n ---> Running in a0668e65c859\nRemoving intermediate container a0668e65c859\n ---> 31815f157218\nStep 12/13 : RUN chmod +x ./build/server\n ---> Running in 45bdb1c7413b\nRemoving intermediate container 45bdb1c7413b\n ---> cfbc42f69383\nStep 13/13 : CMD [ \"node\", \"./build/server\" ]\n ---> Running in 8bab051a1cf9\nRemoving intermediate container 8bab051a1cf9\n ---> 1f2801f792da\nSuccessfully built 1f2801f792da\nSuccessfully tagged smmdb:latest\n","stderr":"","imageSize":321988804},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":22,"columnEnd":61}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":4,"columnStart":22,"columnEnd":61}}],"repairedDockerfile":"FROM node:10-slim\n\nWORKDIR /usr/src/app\n\nRUN apt-get update && apt-get install --no-install-recommends -y p7zip p7zip-full zip\nRUN rm -rf /var/cache/apt/archives\n\nCOPY ./favicon.ico /usr/src/app/favicon.ico\nCOPY ./static/images /usr/src/app/static/images\nCOPY ./static/styles /usr/src/app/static/styles\nCOPY --from=tarnadas/smmdb-build /usr/src/app/build /usr/src/app/build\nCOPY --from=tarnadas/smmdb-build-dep /usr/src/app/node_modules /usr/src/app/node_modules\n\n# Run\nENV NODE_ENV production\nEXPOSE 3000\nRUN chmod +x ./build/server\nCMD [ \"node\", \"./build/server\" ]\n"},"repairedBuild":{"startTimestamp":1672313330823,"endTimestamp":1672313368086,"error":null,"stdout":"Sending build context to Docker daemon  3.659MB\r\r\nStep 1/13 : FROM node:10-slim\n ---> 6fbcbbb5c603\nStep 2/13 : WORKDIR /usr/src/app\n ---> Running in e0fe858a781c\nRemoving intermediate container e0fe858a781c\n ---> 82c5d39caac2\nStep 3/13 : RUN apt-get update && apt-get install --no-install-recommends -y p7zip p7zip-full zip\n ---> Running in 07dfb38b9dc3\nGet:1 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nIgn:2 http://deb.debian.org/debian stretch InRelease\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (4945 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  xz-utils\nUse 'apt autoremove' to remove it.\nSuggested packages:\n  p7zip-rar\nRecommended packages:\n  unzip\nThe following NEW packages will be installed:\n  p7zip p7zip-full zip\n0 upgraded, 3 newly installed, 0 to remove and 12 not upgraded.\nNeed to get 1713 kB of archives.\nAfter this operation, 6092 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 p7zip amd64 16.02+dfsg-3+deb9u1 [364 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 p7zip-full amd64 16.02+dfsg-3+deb9u1 [1115 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 zip amd64 3.0-11+b1 [234 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1713 kB in 0s (28.6 MB/s)\nSelecting previously unselected package p7zip.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6366 files and directories currently installed.)\r\nPreparing to unpack .../p7zip_16.02+dfsg-3+deb9u1_amd64.deb ...\r\nUnpacking p7zip (16.02+dfsg-3+deb9u1) ...\r\nSelecting previously unselected package p7zip-full.\r\nPreparing to unpack .../p7zip-full_16.02+dfsg-3+deb9u1_amd64.deb ...\r\nUnpacking p7zip-full (16.02+dfsg-3+deb9u1) ...\r\nSelecting previously unselected package zip.\r\nPreparing to unpack .../zip_3.0-11+b1_amd64.deb ...\r\nUnpacking zip (3.0-11+b1) ...\r\nSetting up zip (3.0-11+b1) ...\r\nSetting up p7zip (16.02+dfsg-3+deb9u1) ...\r\nSetting up p7zip-full (16.02+dfsg-3+deb9u1) ...\r\nRemoving intermediate container 07dfb38b9dc3\n ---> e8e86ff884f5\nStep 4/13 : RUN rm -rf /var/cache/apt/archives\n ---> Running in 995b0231993b\nRemoving intermediate container 995b0231993b\n ---> 00bae53bf075\nStep 5/13 : COPY ./favicon.ico /usr/src/app/favicon.ico\n ---> a258e4a428df\nStep 6/13 : COPY ./static/images /usr/src/app/static/images\n ---> 88ef6d603c57\nStep 7/13 : COPY ./static/styles /usr/src/app/static/styles\n ---> bc27a53d0cb4\nStep 8/13 : COPY --from=tarnadas/smmdb-build /usr/src/app/build /usr/src/app/build\n ---> a3b76222f567\nStep 9/13 : COPY --from=tarnadas/smmdb-build-dep /usr/src/app/node_modules /usr/src/app/node_modules\n ---> de7f19c3e4df\nStep 10/13 : ENV NODE_ENV production\n ---> Running in 7e84f3c58209\nRemoving intermediate container 7e84f3c58209\n ---> b9596a362309\nStep 11/13 : EXPOSE 3000\n ---> Running in 57290a447901\nRemoving intermediate container 57290a447901\n ---> b4b1f9e673cf\nStep 12/13 : RUN chmod +x ./build/server\n ---> Running in b63e1af99fcd\nRemoving intermediate container b63e1af99fcd\n ---> 0473ab47ab34\nStep 13/13 : CMD [ \"node\", \"./build/server\" ]\n ---> Running in ad8eb6f40867\nRemoving intermediate container ad8eb6f40867\n ---> c415063b6e22\nSuccessfully built c415063b6e22\nSuccessfully tagged smmdb:latest\n","stderr":"","imageSize":321699349},"endTime":1672313369057}