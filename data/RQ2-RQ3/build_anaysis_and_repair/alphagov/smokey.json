{"repository":"https://github.com/alphagov/smokey","dockerfilePath":"Dockerfile","startTime":1672804749361,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/alphagov/smokey'...\n","error":null,"commit":"7bfe64f9b465d8dea631332cd94300e4bc292149"},"originalBuild":{"startTimestamp":1672804750299,"endTimestamp":1672804803698,"error":{"code":127,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t smokey:latest -f /tmp/dinghy-analysis/alphagov/smokey/Dockerfile ."},"stdout":"Sending build context to Docker daemon    299kB\r\r\nStep 1/21 : ARG base_image=ghcr.io/alphagov/govuk-ruby-base:3.1.2\nStep 2/21 : ARG builder_image=ghcr.io/alphagov/govuk-ruby-builder:3.1.2\nStep 3/21 : FROM $builder_image AS builder\n3.1.2: Pulling from alphagov/govuk-ruby-builder\n6e3729cf69e0: Already exists\n9ed578074b1a: Pulling fs layer\n02b53ac527fc: Pulling fs layer\nf8da887a8cac: Pulling fs layer\nca0762064fad: Pulling fs layer\n2064e02aa443: Pulling fs layer\n697ea29b76e7: Pulling fs layer\n01a0ce535e3f: Pulling fs layer\n3c8a917351b0: Pulling fs layer\n61d08558db01: Pulling fs layer\nc9b599fe367b: Pulling fs layer\n1577f1d76e07: Pulling fs layer\nf1e6f96d7fb3: Pulling fs layer\ne9b2a1cb21c0: Pulling fs layer\n3ea2c1545d38: Pulling fs layer\n92734e53a0df: Pulling fs layer\n2064e02aa443: Waiting\nbb699660c937: Pulling fs layer\nd0ecf1301853: Pulling fs layer\n697ea29b76e7: Waiting\nf491c7daf300: Pulling fs layer\nca0762064fad: Waiting\n088b48a7438b: Pulling fs layer\n4b209c130eb0: Pulling fs layer\n01a0ce535e3f: Waiting\n61d08558db01: Waiting\n3c8a917351b0: Waiting\nc9b599fe367b: Waiting\nf491c7daf300: Waiting\nf1e6f96d7fb3: Waiting\n088b48a7438b: Waiting\n4b209c130eb0: Waiting\n1577f1d76e07: Waiting\n92734e53a0df: Waiting\nbb699660c937: Waiting\n3ea2c1545d38: Waiting\ne9b2a1cb21c0: Waiting\n02b53ac527fc: Verifying Checksum\n02b53ac527fc: Download complete\n9ed578074b1a: Download complete\nf8da887a8cac: Verifying Checksum\nf8da887a8cac: Download complete\n9ed578074b1a: Pull complete\n02b53ac527fc: Pull complete\n2064e02aa443: Verifying Checksum\n2064e02aa443: Download complete\nf8da887a8cac: Pull complete\n697ea29b76e7: Verifying Checksum\n697ea29b76e7: Download complete\n01a0ce535e3f: Verifying Checksum\n01a0ce535e3f: Download complete\n3c8a917351b0: Verifying Checksum\n3c8a917351b0: Download complete\n61d08558db01: Verifying Checksum\n61d08558db01: Download complete\nca0762064fad: Verifying Checksum\nca0762064fad: Download complete\nc9b599fe367b: Download complete\n1577f1d76e07: Verifying Checksum\n1577f1d76e07: Download complete\ne9b2a1cb21c0: Verifying Checksum\ne9b2a1cb21c0: Download complete\n3ea2c1545d38: Download complete\n92734e53a0df: Verifying Checksum\n92734e53a0df: Download complete\nbb699660c937: Verifying Checksum\nbb699660c937: Download complete\nd0ecf1301853: Verifying Checksum\nd0ecf1301853: Download complete\nf491c7daf300: Download complete\nf1e6f96d7fb3: Verifying Checksum\nf1e6f96d7fb3: Download complete\nca0762064fad: Pull complete\n2064e02aa443: Pull complete\n4b209c130eb0: Download complete\n697ea29b76e7: Pull complete\n01a0ce535e3f: Pull complete\n3c8a917351b0: Pull complete\n61d08558db01: Pull complete\nc9b599fe367b: Pull complete\n1577f1d76e07: Pull complete\n088b48a7438b: Verifying Checksum\n088b48a7438b: Download complete\nf1e6f96d7fb3: Pull complete\ne9b2a1cb21c0: Pull complete\n3ea2c1545d38: Pull complete\n92734e53a0df: Pull complete\nbb699660c937: Pull complete\nd0ecf1301853: Pull complete\nf491c7daf300: Pull complete\n088b48a7438b: Pull complete\n4b209c130eb0: Pull complete\nDigest: sha256:0fc6e07708b50c6ba04c599ebd5897c158325f69f0dc99863f3406ff7f3c9f89\nStatus: Downloaded newer image for ghcr.io/alphagov/govuk-ruby-builder:3.1.2\n ---> 85c6ac4e7a0a\nStep 4/21 : WORKDIR $APP_HOME\n ---> Running in 7d262313a51c\nRemoving intermediate container 7d262313a51c\n ---> c346e64bef50\nStep 5/21 : COPY Gemfile* .ruby-version ./\n ---> a5483402c12c\nStep 6/21 : RUN bundle install\n ---> Running in 8931049443a7\n\u001b[91mINFO: with_tmpdir_for_ruby: execing bundle with TMPDIR=/tmp/ruby-app-O4eBN8U3\n\u001b[0mBundler 2.3.26 is running, but your lockfile was generated with 2.3.13. Installing Bundler 2.3.13 and restarting using that version.\nFetching gem metadata from https://rubygems.org/.\nFetching bundler 2.3.13\nInstalling bundler 2.3.13\nFetching gem metadata from https://rubygems.org/..........\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching concurrent-ruby 1.1.10\nFetching minitest 5.16.3\nFetching racc 1.6.1\nUsing bundler 2.3.13\nFetching matrix 0.4.2\nFetching erubi 1.11.0\nFetching rack 2.2.4\nFetching builder 3.2.4\nFetching mini_portile2 2.8.0\nFetching crass 1.0.6\nFetching public_suffix 5.0.0\nFetching mini_mime 1.1.2\nFetching regexp_parser 2.6.0\nInstalling erubi 1.11.0\nInstalling crass 1.0.6\nInstalling mini_portile2 2.8.0\nInstalling matrix 0.4.2\nInstalling builder 3.2.4\nInstalling mini_mime 1.1.2\nInstalling racc 1.6.1 with native extensions\nInstalling regexp_parser 2.6.0\nInstalling minitest 5.16.3\nInstalling public_suffix 5.0.0\nFetching cucumber-ci-environment 9.0.4\nInstalling rack 2.2.4\nFetching cucumber-messages 18.0.0\nFetching cucumber-tag-expressions 4.1.0\nInstalling cucumber-messages 18.0.0\nInstalling cucumber-tag-expressions 4.1.0\nFetching cucumber-cucumber-expressions 15.2.0\nInstalling concurrent-ruby 1.1.10\nFetching diff-lcs 1.5.0\nInstalling cucumber-cucumber-expressions 15.2.0\nInstalling cucumber-ci-environment 9.0.4\nFetching mime-types-data 3.2022.0105\nFetching multi_test 1.1.0\nInstalling diff-lcs 1.5.0\nInstalling multi_test 1.1.0\nFetching ffi 1.15.5\nFetching unf_ext 0.0.7.7\nFetching plek 5.0.0\nInstalling plek 5.0.0\nInstalling mime-types-data 3.2022.0105\nFetching webrick 1.7.0\nFetching nio4r 2.5.8\nFetching method_source 1.0.0\nInstalling webrick 1.7.0\nFetching thor 1.2.1\nInstalling method_source 1.0.0\nInstalling nio4r 2.5.8 with native extensions\nInstalling thor 1.2.1\nInstalling unf_ext 0.0.7.7 with native extensions\nFetching zeitwerk 2.6.6\nFetching statsd-ruby 1.5.0\nInstalling zeitwerk 2.6.6\nFetching kgio 2.11.4\nInstalling statsd-ruby 1.5.0\nFetching raindrops 0.20.0\nInstalling kgio 2.11.4 with native extensions\nFetching http-accept 1.7.0\nFetching netrc 0.11.0\nInstalling http-accept 1.7.0\nFetching rexml 3.2.5\nFetching rspec-support 3.12.0\nFetching rubyzip 2.3.2\nInstalling netrc 0.11.0\nInstalling rspec-support 3.12.0\nInstalling rubyzip 2.3.2\nInstalling raindrops 0.20.0 with native extensions\nInstalling rexml 3.2.5\nInstalling ffi 1.15.5 with native extensions\nFetching websocket 1.2.9\nFetching cucumber-gherkin 23.0.1\nInstalling websocket 1.2.9\nInstalling cucumber-gherkin 23.0.1\nFetching cucumber-html-formatter 19.2.0\nFetching addressable 2.8.1\nFetching rack-test 2.0.2\nFetching request_store 1.5.1\nInstalling rack-test 2.0.2\nInstalling addressable 2.8.1\nInstalling request_store 1.5.1\nFetching rack-proxy 0.7.4\nFetching prometheus_exporter 2.0.6\nFetching mime-types 3.4.1\nInstalling rack-proxy 0.7.4\nFetching rspec-core 3.12.0\nInstalling cucumber-html-formatter 19.2.0\nInstalling mime-types 3.4.1\nInstalling prometheus_exporter 2.0.6\nFetching rspec-expectations 3.12.0\nInstalling rspec-expectations 3.12.0\nFetching rspec-mocks 3.12.0\nFetching cucumber-core 11.0.0\nInstalling rspec-core 3.12.0\nInstalling rspec-mocks 3.12.0\nInstalling cucumber-core 11.0.0\nFetching nokogiri 1.13.10 (x86_64-linux)\nFetching i18n 1.12.0\nInstalling i18n 1.12.0\nFetching tzinfo 2.0.5\nFetching sentry-ruby 5.7.0\nFetching selenium-webdriver 4.7.1\nInstalling tzinfo 2.0.5\nInstalling sentry-ruby 5.7.0\nFetching rspec 3.12.0\nFetching unf 0.1.4\nInstalling rspec 3.12.0\nInstalling unf 0.1.4\nFetching activesupport 7.0.4\nInstalling activesupport 7.0.4\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching http-cookie 1.0.3\nInstalling http-cookie 1.0.3\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nFetching logstasher 2.1.5\nInstalling logstasher 2.1.5\nInstalling nokogiri 1.13.10 (x86_64-linux)\nInstalling selenium-webdriver 4.7.1\nFetching puma 6.0.0\nInstalling puma 6.0.0 with native extensions\nFetching rails-dom-testing 2.0.3\nFetching loofah 2.19.1\nFetching xpath 3.2.0\nInstalling rails-dom-testing 2.0.3\nInstalling xpath 3.2.0\nInstalling loofah 2.19.1\nFetching capybara 3.38.0\nFetching rails-html-sanitizer 1.4.4\nInstalling rails-html-sanitizer 1.4.4\nFetching actionview 7.0.4\nInstalling capybara 3.38.0\nInstalling actionview 7.0.4\nFetching actionpack 7.0.4\nInstalling actionpack 7.0.4\nFetching selenium-devtools 0.108.0\nFetching railties 7.0.4\nInstalling selenium-devtools 0.108.0\nInstalling railties 7.0.4\nFetching sentry-rails 5.7.0\nInstalling sentry-rails 5.7.0\nFetching unicorn 6.1.0\nInstalling unicorn 6.1.0 with native extensions\nFetching govuk_app_config 4.11.1\nInstalling govuk_app_config 4.11.1\nFetching sys-uname 1.2.2\nInstalling sys-uname 1.2.2\nFetching cucumber 8.0.0\nInstalling cucumber 8.0.0\nBundle complete! 11 Gemfile dependencies, 77 gems now installed.\nGems in the groups 'development', 'test' and 'cucumber' were not installed.\nBundled gems are installed into `/usr/local/bundle`\nRemoving intermediate container 8931049443a7\n ---> 6dc11405f108\nStep 7/21 : COPY . ./\n ---> 698c53e4dda7\nStep 8/21 : FROM $base_image\n3.1.2: Pulling from alphagov/govuk-ruby-base\n6e3729cf69e0: Already exists\n9ed578074b1a: Already exists\n02b53ac527fc: Already exists\nf8da887a8cac: Already exists\nca0762064fad: Already exists\n2064e02aa443: Already exists\n697ea29b76e7: Already exists\n01a0ce535e3f: Already exists\n3c8a917351b0: Already exists\n61d08558db01: Already exists\nc9b599fe367b: Already exists\n1577f1d76e07: Already exists\nf1e6f96d7fb3: Already exists\ne9b2a1cb21c0: Already exists\n3ea2c1545d38: Already exists\n92734e53a0df: Already exists\nbb699660c937: Already exists\nd0ecf1301853: Already exists\nf491c7daf300: Already exists\nDigest: sha256:fce05ecdb079beff03d080fa35f787925a83faab8fb6d7141fb59cd6ebf824bb\nStatus: Downloaded newer image for ghcr.io/alphagov/govuk-ruby-base:3.1.2\n ---> e4a1ce37f1c5\nStep 9/21 : SHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n ---> Running in 3ab9e6b26f20\nRemoving intermediate container 3ab9e6b26f20\n ---> df41c3cf666c\nStep 10/21 : ENV CUCUMBER_PUBLISH_QUIET=true\n ---> Running in 529b2f6cd017\nRemoving intermediate container 529b2f6cd017\n ---> 2d8421dc5c7d\nStep 11/21 : ARG chromedriver_url=https://chromedriver.storage.googleapis.com/\n ---> Running in 60ff05ce0bdd\nRemoving intermediate container 60ff05ce0bdd\n ---> 9e791eeb3e3b\nStep 12/21 : ADD https://dl-ssl.google.com/linux/linux_signing_key.pub /tmp/google.pub\n\n\n ---> 29300a860e17\nStep 13/21 : RUN arch=$(dpkg --print-architecture) &&     keyring=/usr/share/keyrings/google-linux-signing.gpg &&     gpg --dearmor < /tmp/google.pub > \"${keyring}\" &&     echo \"deb [arch=${arch} signed-by=${keyring}] https://dl.google.com/linux/chrome/deb/ stable main\"         > /etc/apt/sources.list.d/google.list &&     install_packages dumb-init google-chrome-stable unzip &&     rm -fr /tmp/*\n ---> Running in 7ce383dfb6be\n\u001b[91m/bin/bash: line 1: gpg: command not found\n\u001b[0mRemoving intermediate container 7ce383dfb6be\n","stderr":"The command '/bin/bash -o pipefail -c arch=$(dpkg --print-architecture) &&     keyring=/usr/share/keyrings/google-linux-signing.gpg &&     gpg --dearmor < /tmp/google.pub > \"${keyring}\" &&     echo \"deb [arch=${arch} signed-by=${keyring}] https://dl.google.com/linux/chrome/deb/ stable main\"         > /etc/apt/sources.list.d/google.list &&     install_packages dumb-init google-chrome-stable unzip &&     rm -fr /tmp/*' returned a non-zero code: 127\n"},"endTime":1672804803781}