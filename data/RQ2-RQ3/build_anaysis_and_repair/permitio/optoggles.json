{"repository":"https://github.com/permitio/optoggles","dockerfilePath":"Dockerfile","startTime":1672563029963,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/permitio/optoggles'...\n","error":null,"commit":"8c734bddd80560aae53a60e96e715382b2b7c721"},"originalBuild":{"startTimestamp":1672563031039,"endTimestamp":1672563178226,"error":null,"stdout":"Sending build context to Docker daemon  7.709MB\r\r\nStep 1/14 : FROM golang:1.16 AS build\n1.16: Pulling from library/golang\nDigest: sha256:5f6a4662de3efc6d6bb812d02e9de3d8698eea16b8eb7281f03e6f3e8383018e\nStatus: Downloaded newer image for golang:1.16\n ---> 972d8c0bc0fc\nStep 2/14 : WORKDIR /src\n ---> Running in f57b4f952b57\nRemoving intermediate container f57b4f952b57\n ---> 29442b21f494\nStep 3/14 : COPY src/go.mod ./\n ---> fdadb927ea61\nStep 4/14 : COPY src/go.sum ./\n ---> 63cc32ffbb34\nStep 5/14 : RUN go mod download\n ---> Running in 159e0bb92719\nRemoving intermediate container 159e0bb92719\n ---> bcbb365a2ba4\nStep 6/14 : COPY src/ ./\n ---> 68064613095c\nStep 7/14 : RUN go build -o /optoggles\n ---> Running in f4b5adc9ff47\nRemoving intermediate container f4b5adc9ff47\n ---> 28b50197882a\nStep 8/14 : FROM debian:10\n10: Pulling from library/debian\nc7c50787e2da: Already exists\nDigest: sha256:a3b7e971fef3e488479afd0a8387b35bed4c55891a1597d64a8fc6494d61d798\nStatus: Downloaded newer image for debian:10\n ---> 53906583a002\nStep 9/14 : WORKDIR /\n ---> Running in 60c993b792e1\nRemoving intermediate container 60c993b792e1\n ---> dd578d9e9204\nStep 10/14 : RUN apt-get update && apt-get install -y ca-certificates && apt-get clean\n ---> Running in c00e0afa94c7\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (3683 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (45.0 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6677 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container c00e0afa94c7\n ---> 27780f8a2f7b\nStep 11/14 : RUN groupadd -r nonroot && useradd -r -g nonroot nonroot\n ---> Running in 9060c5cd9f36\nRemoving intermediate container 9060c5cd9f36\n ---> 0da5afb33c47\nStep 12/14 : COPY --from=build /optoggles ./optoggles\n ---> 5f0ffb62afc3\nStep 13/14 : USER nonroot:nonroot\n ---> Running in 025b2ae12e69\nRemoving intermediate container 025b2ae12e69\n ---> 140e581fba76\nStep 14/14 : ENTRYPOINT [\"/optoggles\"]\n ---> Running in ad49d3a20318\nRemoving intermediate container ad49d3a20318\n ---> 25bcc2014a8d\nSuccessfully built 25bcc2014a8d\nSuccessfully tagged optoggles:latest\n","stderr":"","imageSize":150248763},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":14,"end":14,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":14,"end":14,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"FROM golang:1.16 AS build\n\nWORKDIR /src\nCOPY src/go.mod ./\nCOPY src/go.sum ./\nRUN go mod download\n\nCOPY src/ ./\nRUN go build -o /optoggles\n\n\nFROM debian:10\n\nWORKDIR /\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get clean\nRUN groupadd -r nonroot && useradd -r -g nonroot nonroot\nCOPY --from=build /optoggles ./optoggles\nUSER nonroot:nonroot\n\nENTRYPOINT [\"/optoggles\"]\n"},"repairedBuild":{"startTimestamp":1672563188221,"endTimestamp":1672563281942,"error":null,"stdout":"Sending build context to Docker daemon  7.709MB\r\r\nStep 1/14 : FROM golang:1.16 AS build\n ---> 972d8c0bc0fc\nStep 2/14 : WORKDIR /src\n ---> Running in 97d90d414247\nRemoving intermediate container 97d90d414247\n ---> b904fe516dcb\nStep 3/14 : COPY src/go.mod ./\n ---> e6ee0da1013d\nStep 4/14 : COPY src/go.sum ./\n ---> 775912cae150\nStep 5/14 : RUN go mod download\n ---> Running in d780bc65b86f\nRemoving intermediate container d780bc65b86f\n ---> 43124cee5084\nStep 6/14 : COPY src/ ./\n ---> f4ddb512f201\nStep 7/14 : RUN go build -o /optoggles\n ---> Running in 12f673f691ff\nRemoving intermediate container 12f673f691ff\n ---> aef481027ea4\nStep 8/14 : FROM debian:10\n ---> 53906583a002\nStep 9/14 : WORKDIR /\n ---> Running in b8663a047887\nRemoving intermediate container b8663a047887\n ---> 110cbca867d3\nStep 10/14 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get clean\n ---> Running in 13a3b62d5963\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (5111 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (34.6 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6677 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 13a3b62d5963\n ---> 2ff1721bc3a1\nStep 11/14 : RUN groupadd -r nonroot && useradd -r -g nonroot nonroot\n ---> Running in 3b070cc08be7\nRemoving intermediate container 3b070cc08be7\n ---> 79d7501cd887\nStep 12/14 : COPY --from=build /optoggles ./optoggles\n ---> 71678ff0cf21\nStep 13/14 : USER nonroot:nonroot\n ---> Running in f757cfb94969\nRemoving intermediate container f757cfb94969\n ---> 91da76921142\nStep 14/14 : ENTRYPOINT [\"/optoggles\"]\n ---> Running in 3b4f664ee01a\nRemoving intermediate container 3b4f664ee01a\n ---> e8b63b83a809\nSuccessfully built e8b63b83a809\nSuccessfully tagged optoggles:latest\n","stderr":"","imageSize":150248787},"endTime":1672563284045}