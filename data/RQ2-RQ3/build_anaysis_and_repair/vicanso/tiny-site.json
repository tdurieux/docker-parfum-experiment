{"repository":"https://github.com/vicanso/tiny-site","dockerfilePath":"Dockerfile","startTime":1672830426734,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/vicanso/tiny-site'...\n","error":null,"commit":"510583427c696addf2cca8283883c174c4094abb"},"originalBuild":{"startTimestamp":1672830427910,"endTimestamp":1672830519430,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t tiny-site:latest -f /tmp/dinghy-analysis/vicanso/tiny-site/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.974MB\r\r\nStep 1/16 : FROM node:16-alpine as webbuilder\n ---> 610c0494e820\nStep 2/16 : COPY . /tiny-site\n ---> 5f078d915e4b\nStep 3/16 : RUN cd /tiny-site/web   && npm i   && npm run build   && rm -rf node_module\n ---> Running in 64650e03cbc1\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\nadded 646 packages, and audited 647 packages in 15s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (1 low, 1 moderate, 3 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n> build\n> STATIC=/static vite build\n\n\u001b[91m(!) \"base\" option should end with a slash.\n\u001b[0mvite v2.8.4 building for production...\ntransforming...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mâœ“ 3799 modules transformed.\nrendering chunks...\ndist/index.html                                  0.65 KiB\ndist/assets/Home.037c440c.js                     0.13 KiB / gzip: 0.13 KiB\ndist/assets/ExLoading.1fbb171a.js                0.39 KiB / gzip: 0.31 KiB\ndist/assets/Profile.d30a06bd.js                  1.65 KiB / gzip: 0.81 KiB\ndist/assets/Login.0e75ebd4.js                    0.25 KiB / gzip: 0.20 KiB\ndist/assets/Register.f9551962.js                 0.27 KiB / gzip: 0.21 KiB\ndist/assets/ExLoginRegister.7b290b2c.js          2.67 KiB / gzip: 1.23 KiB\ndist/assets/Users.deffda2a.js                    3.02 KiB / gzip: 1.27 KiB\ndist/assets/ExForm.2ef550b0.js                   5.44 KiB / gzip: 1.90 KiB\ndist/assets/Logins.ac62e9d7.js                   1.44 KiB / gzip: 0.72 KiB\ndist/assets/index.30a84ded.js                    36.64 KiB / gzip: 11.98 KiB\ndist/assets/UserTrackers.cbf9780c.js             2.79 KiB / gzip: 1.27 KiB\ndist/assets/ExFluxDetail.413d7cd9.js             5.30 KiB / gzip: 2.10 KiB\ndist/assets/HTTPErrors.8348ea9b.js               2.48 KiB / gzip: 1.12 KiB\ndist/assets/MockTime.5bec224c.js                 1.11 KiB / gzip: 0.64 KiB\ndist/assets/ExTable.343a785e.js                  5.29 KiB / gzip: 2.42 KiB\ndist/assets/Requests.a9e9e0da.js                 3.93 KiB / gzip: 1.64 KiB\ndist/assets/configs.889ded68.js                  1.33 KiB / gzip: 0.64 KiB\ndist/assets/Configs.5282dc12.js                  0.99 KiB / gzip: 0.54 KiB\ndist/assets/ExConfigEditor.57f26bfe.js           4.31 KiB / gzip: 1.74 KiB\ndist/assets/BlockIPs.1b6ed51a.js                 0.88 KiB / gzip: 0.50 KiB\ndist/assets/ExConfigTable.f9ee77ed.js            1.23 KiB / gzip: 0.65 KiB\ndist/assets/ExConfigEditorList.58405ed5.js       1.17 KiB / gzip: 0.61 KiB\ndist/assets/SignedKeys.e25c245f.js               0.95 KiB / gzip: 0.52 KiB\ndist/assets/RouterMocks.944a574e.js              2.32 KiB / gzip: 0.99 KiB\ndist/assets/RouterConcurrencies.1b383670.js      1.62 KiB / gzip: 0.76 KiB\ndist/assets/RequestConcurrencies.696b3cf7.js     1.59 KiB / gzip: 0.79 KiB\ndist/assets/Caches.3f2d5875.js                   1.62 KiB / gzip: 0.77 KiB\ndist/assets/Emails.d12b37e8.js                   0.98 KiB / gzip: 0.53 KiB\ndist/assets/HTTPServerInterceptors.f9e7f325.js   1.62 KiB / gzip: 0.76 KiB\ndist/assets/ExLoading.7f2c07e9.css               0.07 KiB / gzip: 0.08 KiB\ndist/assets/Buckets.41ee29c4.css                 0.04 KiB / gzip: 0.06 KiB\ndist/assets/Buckets.55b234da.js                  2.54 KiB / gzip: 1.19 KiB\ndist/assets/Storages.3e648a9a.js                 3.85 KiB / gzip: 1.64 KiB\ndist/assets/ExTable.85acf81e.css                 0.07 KiB / gzip: 0.09 KiB\ndist/assets/Requests.a3ff9f01.css                0.06 KiB / gzip: 0.07 KiB\ndist/assets/Images.48e485ea.js                   4.08 KiB / gzip: 1.87 KiB\ndist/assets/ExLoginRegister.de85d656.css         0.14 KiB / gzip: 0.13 KiB\ndist/assets/Users.5ee2ed92.css                   0.05 KiB / gzip: 0.07 KiB\ndist/assets/index.eeab5f47.css                   0.58 KiB / gzip: 0.38 KiB\ndist/assets/Images.7e973632.css                  0.04 KiB / gzip: 0.06 KiB\ndist/assets/ExFluxDetail.d7565253.css            0.14 KiB / gzip: 0.12 KiB\ndist/assets/Storages.0b1e5007.css                0.04 KiB / gzip: 0.06 KiB\ndist/assets/ExConfigEditorList.e67ed91d.css      0.04 KiB / gzip: 0.06 KiB\ndist/assets/common.f337297b.js                   95.20 KiB / gzip: 32.07 KiB\ndist/assets/ui.d583748f.js                       79.89 KiB / gzip: 31.61 KiB\n\u001b[91m\n(!) Some chunks are larger than 500 KiB after minification. Consider:\n- Using dynamic import() to code-split the application\n- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/guide/en/#outputmanualchunks\n- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.\n\u001b[0mdist/assets/naive.cde39d75.js                    712.02 KiB / gzip: 188.26 KiB\nRemoving intermediate container 64650e03cbc1\n ---> 22350685dae4\nStep 4/16 : FROM golang:1.17-alpine as builder\n1.17-alpine: Pulling from library/golang\n530afca65e2e: Pulling fs layer\nd450d4da0343: Pulling fs layer\n8162171ecb65: Pulling fs layer\nff63b82a42d3: Pulling fs layer\n5b4b56e6b994: Pulling fs layer\nff63b82a42d3: Waiting\n5b4b56e6b994: Waiting\nd450d4da0343: Download complete\n8162171ecb65: Verifying Checksum\n8162171ecb65: Download complete\n530afca65e2e: Verifying Checksum\n530afca65e2e: Download complete\n5b4b56e6b994: Verifying Checksum\n5b4b56e6b994: Download complete\n530afca65e2e: Pull complete\nd450d4da0343: Pull complete\n8162171ecb65: Pull complete\nff63b82a42d3: Verifying Checksum\nff63b82a42d3: Download complete\nff63b82a42d3: Pull complete\n5b4b56e6b994: Pull complete\nDigest: sha256:99ddec1bbfd6d6bca3f9804c02363daee8c8524dae50df7942e8e60788fd17c9\nStatus: Downloaded newer image for golang:1.17-alpine\n ---> 270c4f58750f\nStep 5/16 : COPY --from=webbuilder /tiny-site /tiny-site\n ---> 889538d0a184\nStep 6/16 : RUN apk update   && apk add git make curl jq   && cd /tiny-site   && rm -rf asset/dist   && cp -rf web/dist asset/   && make install   && make generate   && ./download-swagger.sh   && make build\n ---> Running in 1063f6d9ec4c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17048 distinct packages available\n(1/10) Installing brotli-libs (1.0.9-r6)\n(2/10) Installing nghttp2-libs (1.47.0-r0)\n(3/10) Installing libcurl (7.83.1-r5)\n(4/10) Installing curl (7.83.1-r5)\n(5/10) Installing expat (2.5.0-r0)\n(6/10) Installing pcre2 (10.40-r0)\n(7/10) Installing git (2.36.3-r0)\n(8/10) Installing oniguruma (6.9.8-r0)\n(9/10) Installing jq (1.6-r1)\n(10/10) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r15.trigger\nOK: 21 MiB in 25 packages\ngo get -d entgo.io/ent/cmd/entc\n\u001b[91mgo: downloading entgo.io/ent v0.11.4\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.6.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.1.13-0.20220804200503-81c7dc4e4efa\n\u001b[0m\u001b[91mgo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/inflect v0.19.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading ariga.io/atlas v0.7.3-0.20221011160332-3ca609863edd\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\ngo: downloading github.com/inconshreveable/mousetrap v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/zclconf/go-cty v1.8.0\ngo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.6.0-dev.0.20220419223038-86c51ed26bb4\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl/v2 v2.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/apparentlymart/go-textseg/v13 v13.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/agext/levenshtein v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.7\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-wordwrap v0.0.0-20150314170334-ad45545899c7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220722155257-8c9f86f7a55f\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.7\ngo: downloading github.com/stretchr/testify v1.8.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20220722155255-886fb9371eb4\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo get: added ariga.io/atlas v0.7.3-0.20221011160332-3ca609863edd\ngo get: upgraded entgo.io/ent v0.9.1 => v0.11.4\ngo get: added github.com/agext/levenshtein v1.2.1\ngo get: added github.com/apparentlymart/go-textseg/v13 v13.0.0\ngo get: added github.com/hashicorp/hcl/v2 v2.13.0\ngo get: upgraded github.com/inconshreveable/mousetrap v1.0.0 => v1.0.1\ngo get: added github.com/mitchellh/go-wordwrap v0.0.0-20150314170334-ad45545899c7\ngo get: upgraded github.com/mitchellh/mapstructure v1.4.3 => v1.5.0\ngo get: upgraded github.com/spf13/cobra v1.2.1 => v1.6.1\ngo get: upgraded github.com/stretchr/testify v1.7.0 => v1.8.0\ngo get: added github.com/zclconf/go-cty v1.8.0\ngo get: upgraded golang.org/x/crypto v0.0.0-20211215165025-cf75a172585e => v0.0.0-20220517005047-85d78b3ac167\ngo get: upgraded golang.org/x/mod v0.4.2 => v0.6.0-dev.0.20220419223038-86c51ed26bb4\ngo get: upgraded golang.org/x/net v0.0.0-20211216030914-fe4d6282115f => v0.0.0-20220722155237-a158d28d115b\ngo get: upgraded golang.org/x/sync v0.0.0-20210220032951-036812b2e83c => v0.0.0-20220722155255-886fb9371eb4\ngo get: upgraded golang.org/x/sys v0.0.0-20220128215802-99c3d69c2c27 => v0.0.0-20220722155257-8c9f86f7a55f\ngo get: upgraded golang.org/x/tools v0.1.7 => v0.1.13-0.20220804200503-81c7dc4e4efa\ngo get: upgraded gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b => v3.0.1\n\u001b[0mrm -rf ./ent\ngo run entgo.io/ent/cmd/ent generate ./schema --template ./template --target ./ent\n\u001b[91m# entgo.io/ent/schema/edge\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/edge/edge.go:32:24: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/edge/edge.go:37:26: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/edge/edge.go:41:12: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/edge/edge.go:101:47: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/edge/edge.go:203:49: undefined: any\nnote: module requires Go 1.19\n\u001b[0m\u001b[91m# entgo.io/ent/dialect/gremlin/graph/dsl\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:21:20: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:29:14: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:34:10: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:38:11: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:43:8: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:48:34: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:51:33: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:57:33: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:63:34: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:68:32: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/gremlin/graph/dsl/dsl.go:68:32: too many errors\nnote: module requires Go 1.19\n\u001b[0m\u001b[91m# entgo.io/ent/schema/field\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:73:28: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:239:40: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:303:36: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:371:34: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:387:40: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:403:34: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:495:34: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:1125:16: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:1126:16: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:1127:18: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/schema/field/field.go:495:34: too many errors\nnote: module requires Go 1.19\n\u001b[0m\u001b[91m# ariga.io/atlas/sql/schema\n/go/pkg/mod/ariga.io/atlas@v0.7.3-0.20221011160332-3ca609863edd/sql/schema/inspect.go:32:58: undefined: any\n/go/pkg/mod/ariga.io/atlas@v0.7.3-0.20221011160332-3ca609863edd/sql/schema/inspect.go:33:57: undefined: any\nnote: module requires Go 1.18\n\u001b[0m\u001b[91m# entgo.io/ent/dialect\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:29:50: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:32:51: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:69:34: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:74:40: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:85:65: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:91:71: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:97:78: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:109:72: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:115:79: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:158:31: undefined: any\n/go/pkg/mod/entgo.io/ent@v0.11.4/dialect/dialect.go:158:31: too many errors\nnote: module requires Go 1.19\n\u001b[0m\u001b[91mmake: *** [Makefile:19: generate] Error 2\n\u001b[0mRemoving intermediate container 1063f6d9ec4c\n","stderr":"The command '/bin/sh -c apk update   && apk add git make curl jq   && cd /tiny-site   && rm -rf asset/dist   && cp -rf web/dist asset/   && make install   && make generate   && ./download-swagger.sh   && make build' returned a non-zero code: 2\n"},"endTime":1672830519503}