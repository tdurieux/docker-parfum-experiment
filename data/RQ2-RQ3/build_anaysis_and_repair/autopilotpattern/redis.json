{"repository":"https://github.com/autopilotpattern/redis","dockerfilePath":"Dockerfile","startTime":1672325207460,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/autopilotpattern/redis'...\n","error":null,"commit":"7588d9c604643d7eb1ea9c919929bee7f914e8fa"},"originalBuild":{"startTimestamp":1672325208295,"endTimestamp":1672325283592,"error":null,"stdout":"Sending build context to Docker daemon  216.6kB\r\r\nStep 1/18 : FROM redis:3.2.8-alpine\n3.2.8-alpine: Pulling from library/redis\ncfc728c1c558: Already exists\n8eda5cfd7e0a: Pulling fs layer\n8acb752a319b: Pulling fs layer\n955021cea791: Pulling fs layer\nd301d906247c: Pulling fs layer\nff438d9e11c6: Pulling fs layer\nd301d906247c: Waiting\nff438d9e11c6: Waiting\n8acb752a319b: Download complete\n8eda5cfd7e0a: Verifying Checksum\n8eda5cfd7e0a: Download complete\n955021cea791: Verifying Checksum\n955021cea791: Download complete\n8eda5cfd7e0a: Pull complete\n8acb752a319b: Pull complete\nd301d906247c: Verifying Checksum\nd301d906247c: Download complete\nff438d9e11c6: Verifying Checksum\nff438d9e11c6: Download complete\n955021cea791: Pull complete\nd301d906247c: Pull complete\nff438d9e11c6: Pull complete\nDigest: sha256:262d8bd214e74cebb3a0573e0f3a042aa3ddade36cf39a4891dd1b05b636bc55\nStatus: Downloaded newer image for redis:3.2.8-alpine\n ---> 692d3331d29e\nStep 2/18 : RUN apk add --no-cache curl jq openssl tar bash\n ---> Running in 761de3cdfcb0\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz\n(1/15) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(2/15) Installing ncurses-terminfo (6.0_p20171125-r1)\n(3/15) Installing ncurses-libs (6.0_p20171125-r1)\n(4/15) Installing readline (6.3.008-r4)\n(5/15) Installing bash (4.3.46-r5)\nExecuting bash-4.3.46-r5.post-install\n(6/15) Installing ca-certificates (20161130-r1)\n(7/15) Installing libssh2 (1.7.0-r2)\n(8/15) Installing libcurl (7.61.1-r1)\n(9/15) Installing curl (7.61.1-r1)\n(10/15) Installing oniguruma (6.3.0-r0)\n(11/15) Installing jq (1.5-r4)\n(12/15) Installing libcrypto1.0 (1.0.2q-r0)\n(13/15) Installing libssl1.0 (1.0.2q-r0)\n(14/15) Installing openssl (1.0.2q-r0)\n(15/15) Installing tar (1.29-r1)\nExecuting busybox-1.25.1-r0.trigger\nExecuting ca-certificates-20161130-r1.trigger\nOK: 19 MiB in 27 packages\nRemoving intermediate container 761de3cdfcb0\n ---> b1aae9ef18c4\nStep 3/18 : ENV CONTAINERPILOT_VER 2.7.0\n ---> Running in 073ddd9eff2b\nRemoving intermediate container 073ddd9eff2b\n ---> 72a2c894ead9\nStep 4/18 : ENV CONTAINERPILOT file:///etc/containerpilot.json\n ---> Running in 3efef5b59de3\nRemoving intermediate container 3efef5b59de3\n ---> 68c6f0e1cee8\nStep 5/18 : RUN export CONTAINERPILOT_CHECKSUM=687f7d83e031be7f497ffa94b234251270aee75b     && curl -Lso /tmp/containerpilot.tar.gz         \"https://github.com/joyent/containerpilot/releases/download/${CONTAINERPILOT_VER}/containerpilot-${CONTAINERPILOT_VER}.tar.gz\"     && echo \"${CONTAINERPILOT_CHECKSUM}  /tmp/containerpilot.tar.gz\" | sha1sum -c     && tar zxf /tmp/containerpilot.tar.gz -C /usr/local/bin     && rm /tmp/containerpilot.tar.gz\n ---> Running in 22a6c45f53dd\n/tmp/containerpilot.tar.gz: OK\nRemoving intermediate container 22a6c45f53dd\n ---> aead1851ebdf\nStep 6/18 : ENV CONSUL_VER 0.7.2\n ---> Running in f2f89867bd0f\nRemoving intermediate container f2f89867bd0f\n ---> cebe210d7e62\nStep 7/18 : ENV CONSUL_SHA256 aa97f4e5a552d986b2a36d48fdc3a4a909463e7de5f726f3c5a89b8a1be74a58\n ---> Running in 91f9600fe904\nRemoving intermediate container 91f9600fe904\n ---> f6f6f2e1eec5\nStep 8/18 : RUN curl -Lso /tmp/consul.zip \"https://releases.hashicorp.com/consul/${CONSUL_VER}/consul_${CONSUL_VER}_linux_amd64.zip\"     && echo \"${CONSUL_SHA256}  /tmp/consul.zip\" | sha256sum -c     && unzip /tmp/consul -d /usr/local/bin     && rm /tmp/consul.zip     && mkdir -p /opt/consul/config\n ---> Running in 4d6a361798fa\n/tmp/consul.zip: OK\nArchive:  /tmp/consul.zip\n  inflating: consul\nRemoving intermediate container 4d6a361798fa\n ---> 90931f9bbca2\nStep 9/18 : ENV CONSUL_TEMPLATE_VER 0.15.0\n ---> Running in c9d434cee0de\nRemoving intermediate container c9d434cee0de\n ---> 661148601f77\nStep 10/18 : ENV CONSUL_TEMPLATE_SHA256 b7561158d2074c3c68ff62ae6fc1eafe8db250894043382fb31f0c78150c513a\n ---> Running in fb9189a11237\nRemoving intermediate container fb9189a11237\n ---> 99c9d5393787\nStep 11/18 : RUN curl -Lso /tmp/consul-template.zip \"https://releases.hashicorp.com/consul-template/${CONSUL_TEMPLATE_VER}/consul-template_${CONSUL_TEMPLATE_VER}_linux_amd64.zip\"     && echo \"${CONSUL_TEMPLATE_SHA256}  /tmp/consul-template.zip\" | sha256sum -c     && unzip -d /usr/local/bin /tmp/consul-template.zip     && rm /tmp/consul-template.zip\n ---> Running in a41b9ade413b\n/tmp/consul-template.zip: OK\nArchive:  /tmp/consul-template.zip\n  inflating: consul-template\nRemoving intermediate container a41b9ade413b\n ---> 598cf6cbc63e\nStep 12/18 : ENV CONSUL_CLI_VER 0.3.1\n ---> Running in 86d1cfad0fec\nRemoving intermediate container 86d1cfad0fec\n ---> bf2c0e45fa22\nStep 13/18 : ENV CONSUL_CLI_SHA256 037150d3d689a0babf4ba64c898b4497546e2fffeb16354e25cef19867e763f1\n ---> Running in cd97e3bcb12a\nRemoving intermediate container cd97e3bcb12a\n ---> ddabc71c2faa\nStep 14/18 : RUN curl -Lso /tmp/consul-cli.tgz \"https://github.com/CiscoCloud/consul-cli/releases/download/v${CONSUL_CLI_VER}/consul-cli_${CONSUL_CLI_VER}_linux_amd64.tar.gz\"     && echo \"${CONSUL_CLI_SHA256}  /tmp/consul-cli.tgz\" | sha256sum -c     && tar zxf /tmp/consul-cli.tgz -C /usr/local/bin --strip-components 1     && rm /tmp/consul-cli.tgz\n ---> Running in 9edecc654fe4\n/tmp/consul-cli.tgz: OK\nRemoving intermediate container 9edecc654fe4\n ---> 088373c5640e\nStep 15/18 : COPY etc/* /etc/\n ---> 8c7646e73a1d\nStep 16/18 : COPY bin/* /usr/local/bin/\n ---> 9b39c3cd5d80\nStep 17/18 : ENTRYPOINT []\n ---> Running in 65dd7d200784\nRemoving intermediate container 65dd7d200784\n ---> fb153e26fc06\nStep 18/18 : CMD [ \"containerpilot\",       \"/usr/local/bin/redis-server-sentinel.sh\" ]\n ---> Running in 5472f1ca0481\nRemoving intermediate container 5472f1ca0481\n ---> 8d10dc520ecd\nSuccessfully built 8d10dc520ecd\nSuccessfully tagged redis:latest\n","stderr":"","imageSize":103175619},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":8,"end":9,"columnStart":7,"columnEnd":134}},{"name":"curlUseFlagF","position":{"start":16,"end":16,"columnStart":4,"columnEnd":120}},{"name":"curlUseFlagF","position":{"start":24,"end":24,"columnStart":4,"columnEnd":165}},{"name":"curlUseFlagF","position":{"start":31,"end":31,"columnStart":4,"columnEnd":161}},{"name":"sha256sumEchoOneSpaces","position":{"start":17,"end":17,"columnStart":7,"columnEnd":62}},{"name":"sha256sumEchoOneSpaces","position":{"start":25,"end":25,"columnStart":7,"columnEnd":80}},{"name":"sha256sumEchoOneSpaces","position":{"start":32,"end":32,"columnStart":7,"columnEnd":70}}],"repairedDockerfile":"FROM redis:3.2.8-alpine\n\nRUN apk add --no-cache curl jq openssl tar bash\n\n# Add ContainerPilot and set its configuration file path\nENV CONTAINERPILOT_VER 2.7.0\nENV CONTAINERPILOT file:///etc/containerpilot.json\nRUN export CONTAINERPILOT_CHECKSUM=687f7d83e031be7f497ffa94b234251270aee75b \\\n    && curl -f -Lso /tmp/containerpilot.tar.gz \\\n        \"https://github.com/joyent/containerpilot/releases/download/${CONTAINERPILOT_VER}/containerpilot-${CONTAINERPILOT_VER}.tar.gz\" \\\n    && echo \"${CONTAINERPILOT_CHECKSUM}  /tmp/containerpilot.tar.gz\" | sha1sum -c \\\n    && tar zxf /tmp/containerpilot.tar.gz -C /usr/local/bin \\\n    && rm /tmp/containerpilot.tar.gz\n\nENV CONSUL_VER 0.7.2\nENV CONSUL_SHA256 aa97f4e5a552d986b2a36d48fdc3a4a909463e7de5f726f3c5a89b8a1be74a58\nRUN curl -f -Lso /tmp/consul.zip \"https://releases.hashicorp.com/consul/${CONSUL_VER}/consul_${CONSUL_VER}_linux_amd64.zip\" \\\n    && echo \"${CONSUL_SHA256} /tmp/consul.zip\" | sha256sum -c \\\n    && unzip /tmp/consul -d /usr/local/bin \\\n    && rm /tmp/consul.zip \\\n    && mkdir -p /opt/consul/config\n\nENV CONSUL_TEMPLATE_VER 0.15.0\nENV CONSUL_TEMPLATE_SHA256 b7561158d2074c3c68ff62ae6fc1eafe8db250894043382fb31f0c78150c513a\nRUN curl -f -Lso /tmp/consul-template.zip \"https://releases.hashicorp.com/consul-template/${CONSUL_TEMPLATE_VER}/consul-template_${CONSUL_TEMPLATE_VER}_linux_amd64.zip\" \\\n    && echo \"${CONSUL_TEMPLATE_SHA256} /tmp/consul-template.zip\" | sha256sum -c \\\n    && unzip -d /usr/local/bin /tmp/consul-template.zip \\\n    && rm /tmp/consul-template.zip\n\nENV CONSUL_CLI_VER 0.3.1\nENV CONSUL_CLI_SHA256 037150d3d689a0babf4ba64c898b4497546e2fffeb16354e25cef19867e763f1\nRUN curl -f -Lso /tmp/consul-cli.tgz \"https://github.com/CiscoCloud/consul-cli/releases/download/v${CONSUL_CLI_VER}/consul-cli_${CONSUL_CLI_VER}_linux_amd64.tar.gz\" \\\n    && echo \"${CONSUL_CLI_SHA256} /tmp/consul-cli.tgz\" | sha256sum -c \\\n    && tar zxf /tmp/consul-cli.tgz -C /usr/local/bin --strip-components 1 \\\n    && rm /tmp/consul-cli.tgz\n\nCOPY etc/* /etc/\nCOPY bin/* /usr/local/bin/\n\n# override the parent entrypoint\nENTRYPOINT []\n\nCMD [ \"containerpilot\", \\\n      \"/usr/local/bin/redis-server-sentinel.sh\" \\\n]\n"},"repairedBuild":{"startTimestamp":1672325284113,"endTimestamp":1672325298731,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t redis:latest -f /tmp/dinghy-analysis/autopilotpattern/redis/Dockerfile ."},"stdout":"Sending build context to Docker daemon  216.6kB\r\r\nStep 1/18 : FROM redis:3.2.8-alpine\n ---> 692d3331d29e\nStep 2/18 : RUN apk add --no-cache curl jq openssl tar bash\n ---> Running in 7561d18719e0\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz\n(1/15) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(2/15) Installing ncurses-terminfo (6.0_p20171125-r1)\n(3/15) Installing ncurses-libs (6.0_p20171125-r1)\n(4/15) Installing readline (6.3.008-r4)\n(5/15) Installing bash (4.3.46-r5)\nExecuting bash-4.3.46-r5.post-install\n(6/15) Installing ca-certificates (20161130-r1)\n(7/15) Installing libssh2 (1.7.0-r2)\n(8/15) Installing libcurl (7.61.1-r1)\n(9/15) Installing curl (7.61.1-r1)\n(10/15) Installing oniguruma (6.3.0-r0)\n(11/15) Installing jq (1.5-r4)\n(12/15) Installing libcrypto1.0 (1.0.2q-r0)\n(13/15) Installing libssl1.0 (1.0.2q-r0)\n(14/15) Installing openssl (1.0.2q-r0)\n(15/15) Installing tar (1.29-r1)\nExecuting busybox-1.25.1-r0.trigger\nExecuting ca-certificates-20161130-r1.trigger\nOK: 19 MiB in 27 packages\nRemoving intermediate container 7561d18719e0\n ---> 08fe8dbee57b\nStep 3/18 : ENV CONTAINERPILOT_VER 2.7.0\n ---> Running in b3d7828b4a44\nRemoving intermediate container b3d7828b4a44\n ---> cff731631aac\nStep 4/18 : ENV CONTAINERPILOT file:///etc/containerpilot.json\n ---> Running in d7c8e32dfe9a\nRemoving intermediate container d7c8e32dfe9a\n ---> 99f4c9a402b1\nStep 5/18 : RUN export CONTAINERPILOT_CHECKSUM=687f7d83e031be7f497ffa94b234251270aee75b     && curl -f -Lso /tmp/containerpilot.tar.gz         \"https://github.com/joyent/containerpilot/releases/download/${CONTAINERPILOT_VER}/containerpilot-${CONTAINERPILOT_VER}.tar.gz\"     && echo \"${CONTAINERPILOT_CHECKSUM}  /tmp/containerpilot.tar.gz\" | sha1sum -c     && tar zxf /tmp/containerpilot.tar.gz -C /usr/local/bin     && rm /tmp/containerpilot.tar.gz\n ---> Running in f87630176752\n/tmp/containerpilot.tar.gz: OK\nRemoving intermediate container f87630176752\n ---> 779952bff7dc\nStep 6/18 : ENV CONSUL_VER 0.7.2\n ---> Running in 8040c2931b30\nRemoving intermediate container 8040c2931b30\n ---> cc61656edcae\nStep 7/18 : ENV CONSUL_SHA256 aa97f4e5a552d986b2a36d48fdc3a4a909463e7de5f726f3c5a89b8a1be74a58\n ---> Running in f7026bc439ab\nRemoving intermediate container f7026bc439ab\n ---> 7ae75d0c8438\nStep 8/18 : RUN curl -f -Lso /tmp/consul.zip \"https://releases.hashicorp.com/consul/${CONSUL_VER}/consul_${CONSUL_VER}_linux_amd64.zip\"     && echo \"${CONSUL_SHA256} /tmp/consul.zip\" | sha256sum -c     && unzip /tmp/consul -d /usr/local/bin     && rm /tmp/consul.zip     && mkdir -p /opt/consul/config\n ---> Running in de8f48a0aa45\n\u001b[91msha256sum: WARNING: 1 of 1 computed checksums did NOT match\n\u001b[0mRemoving intermediate container de8f48a0aa45\n","stderr":"The command '/bin/sh -c curl -f -Lso /tmp/consul.zip \"https://releases.hashicorp.com/consul/${CONSUL_VER}/consul_${CONSUL_VER}_linux_amd64.zip\"     && echo \"${CONSUL_SHA256} /tmp/consul.zip\" | sha256sum -c     && unzip /tmp/consul -d /usr/local/bin     && rm /tmp/consul.zip     && mkdir -p /opt/consul/config' returned a non-zero code: 1\n"},"endTime":1672325298801}