{"repository":"https://github.com/chainflag/eth-faucet","dockerfilePath":"Dockerfile","startTime":1672513420003,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/chainflag/eth-faucet'...\n","error":null,"commit":"f6459f965b6a86179cf48180de53478687ac2437"},"originalBuild":{"startTimestamp":1672513420952,"endTimestamp":1672513616384,"error":null,"stdout":"Sending build context to Docker daemon  1.316MB\r\r\nStep 1/19 : FROM node:lts-alpine as frontend\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/19 : WORKDIR /frontend-build\n ---> Running in 23d96b45832a\nRemoving intermediate container 23d96b45832a\n ---> 613190883890\nStep 3/19 : COPY ./web/package*.json ./\n ---> b1640561d042\nStep 4/19 : RUN npm install\n ---> Running in e83928eaf84a\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm \u001b[0m\u001b[91mWARN old lockfile The package-lock.json file was created with an old version of npm,\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mold lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\nadded 39 packages, and audited 40 packages in 7s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container e83928eaf84a\n ---> 9febd179dfff\nStep 5/19 : COPY ./web .\n ---> 7859ed747f58\nStep 6/19 : RUN npm run build\n ---> Running in 47da703c90b2\n\n> eth-faucet@1.1.0 build\n> vite build\n\nvite v3.0.9 building for production...\ntransforming...\n✓ 31 modules transformed.\nrendering chunks...\ndist/index.html                  0.44 KiB\ndist/assets/index.e3e300fb.js    71.95 KiB / gzip: 22.65 KiB\ndist/assets/index.5db6d8f5.css   272.93 KiB / gzip: 32.11 KiB\nRemoving intermediate container 47da703c90b2\n ---> 2812258e5e35\nStep 7/19 : FROM golang:1.16-alpine as backend\n1.16-alpine: Pulling from library/golang\n59bf1c3509f3: Already exists\n666ba61612fd: Pulling fs layer\n8ed8ca486205: Pulling fs layer\nca4bf87e467a: Pulling fs layer\n0435e0963794: Pulling fs layer\n0435e0963794: Waiting\n8ed8ca486205: Verifying Checksum\n8ed8ca486205: Download complete\n666ba61612fd: Verifying Checksum\n666ba61612fd: Download complete\n0435e0963794: Download complete\n666ba61612fd: Pull complete\n8ed8ca486205: Pull complete\nca4bf87e467a: Verifying Checksum\nca4bf87e467a: Download complete\nca4bf87e467a: Pull complete\n0435e0963794: Pull complete\nDigest: sha256:5616dca835fa90ef13a843824ba58394dad356b7d56198fb7c93cbe76d7d67fe\nStatus: Downloaded newer image for golang:1.16-alpine\n ---> 7642119cd161\nStep 8/19 : RUN apk add --no-cache gcc musl-dev linux-headers\n ---> Running in 131cec4d182b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libgcc (10.3.1_git20211027-r0)\n(2/13) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/13) Installing binutils (2.37-r3)\n(4/13) Installing libgomp (10.3.1_git20211027-r0)\n(5/13) Installing libatomic (10.3.1_git20211027-r0)\n(6/13) Installing libgphobos (10.3.1_git20211027-r0)\n(7/13) Installing gmp (6.2.1-r1)\n(8/13) Installing isl22 (0.22-r0)\n(9/13) Installing mpfr4 (4.1.0-r0)\n(10/13) Installing mpc1 (1.2.1-r0)\n(11/13) Installing gcc (10.3.1_git20211027-r0)\n(12/13) Installing linux-headers (5.10.41-r0)\n(13/13) Installing musl-dev (1.2.2-r7)\nExecuting busybox-1.34.1-r3.trigger\nOK: 134 MiB in 28 packages\nRemoving intermediate container 131cec4d182b\n ---> 5c8766e97156\nStep 9/19 : WORKDIR /backend-build\n ---> Running in 0affd6118da7\nRemoving intermediate container 0affd6118da7\n ---> 3c7da5972be6\nStep 10/19 : COPY go.* ./\n ---> 3a77bc47dead\nStep 11/19 : RUN go mod download\n ---> Running in a399c7204271\nRemoving intermediate container a399c7204271\n ---> fd46c5b13e29\nStep 12/19 : COPY . .\n ---> bd009ff0853e\nStep 13/19 : COPY --from=frontend /frontend-build/dist ./web/dist\n ---> 3b920387a025\nStep 14/19 : RUN go build -o eth-faucet -ldflags \"-s -w\"\n ---> Running in 048452d9a561\nRemoving intermediate container 048452d9a561\n ---> 5c388f6e4c6a\nStep 15/19 : FROM alpine\n ---> 49176f190c7e\nStep 16/19 : RUN apk add --no-cache ca-certificates\n ---> Running in ca13aecd6565\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container ca13aecd6565\n ---> 649eb150fd65\nStep 17/19 : COPY --from=backend /backend-build/eth-faucet /app/eth-faucet\n ---> a5911f5dbe3a\nStep 18/19 : EXPOSE 8080\n ---> Running in cba081a1b684\nRemoving intermediate container cba081a1b684\n ---> 75d21a5ef950\nStep 19/19 : ENTRYPOINT [\"/app/eth-faucet\"]\n ---> Running in 09d9590536db\nRemoving intermediate container 09d9590536db\n ---> fcd2b8396aec\nSuccessfully built fcd2b8396aec\nSuccessfully tagged eth-faucet:latest\n","stderr":"","imageSize":17178697},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:lts-alpine as frontend\n\nWORKDIR /frontend-build\n\nCOPY ./web/package*.json ./\nRUN npm install\n\nCOPY ./web .\nRUN npm run build\n\nFROM golang:1.16-alpine as backend\n\nRUN apk add --no-cache gcc musl-dev linux-headers\n\nWORKDIR /backend-build\n\nCOPY go.* ./\nRUN go mod download\n\nCOPY . .\nCOPY --from=frontend /frontend-build/dist ./web/dist\n\nRUN go build -o eth-faucet -ldflags \"-s -w\"\n\nFROM alpine\n\nRUN apk add --no-cache ca-certificates\n\nCOPY --from=backend /backend-build/eth-faucet /app/eth-faucet\n\nEXPOSE 8080\n\nENTRYPOINT [\"/app/eth-faucet\"]\n"},"repairedBuild":{"startTimestamp":1672513616970,"endTimestamp":1672513804602,"error":null,"stdout":"Sending build context to Docker daemon  1.316MB\r\r\nStep 1/19 : FROM node:lts-alpine as frontend\n ---> 6d7b7852bcd3\nStep 2/19 : WORKDIR /frontend-build\n ---> Running in 8b4be0967944\nRemoving intermediate container 8b4be0967944\n ---> c03e5300e17e\nStep 3/19 : COPY ./web/package*.json ./\n ---> 80831f18c24d\nStep 4/19 : RUN npm install\n ---> Running in a701ce839577\n\u001b[91mnpm WARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile The package-lock.json file was created with an old version of npm,\nnpm WARN\u001b[0m\u001b[91m old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm\u001b[0m\u001b[91m WARN old lockfile\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\nadded 39 packages, and audited 40 packages in 4s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container a701ce839577\n ---> de21c5943c70\nStep 5/19 : COPY ./web .\n ---> 1078514dbaf2\nStep 6/19 : RUN npm run build\n ---> Running in ddc6b525412e\n\n> eth-faucet@1.1.0 build\n> vite build\n\nvite v3.0.9 building for production...\ntransforming...\n✓ 31 modules transformed.\nrendering chunks...\ndist/index.html                  0.44 KiB\ndist/assets/index.e3e300fb.js    71.95 KiB / gzip: 22.65 KiB\ndist/assets/index.5db6d8f5.css   272.93 KiB / gzip: 32.11 KiB\nRemoving intermediate container ddc6b525412e\n ---> 3b3189f9debc\nStep 7/19 : FROM golang:1.16-alpine as backend\n ---> 7642119cd161\nStep 8/19 : RUN apk add --no-cache gcc musl-dev linux-headers\n ---> Running in 8b3f58a5259b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libgcc (10.3.1_git20211027-r0)\n(2/13) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/13) Installing binutils (2.37-r3)\n(4/13) Installing libgomp (10.3.1_git20211027-r0)\n(5/13) Installing libatomic (10.3.1_git20211027-r0)\n(6/13) Installing libgphobos (10.3.1_git20211027-r0)\n(7/13) Installing gmp (6.2.1-r1)\n(8/13) Installing isl22 (0.22-r0)\n(9/13) Installing mpfr4 (4.1.0-r0)\n(10/13) Installing mpc1 (1.2.1-r0)\n(11/13) Installing gcc (10.3.1_git20211027-r0)\n(12/13) Installing linux-headers (5.10.41-r0)\n(13/13) Installing musl-dev (1.2.2-r7)\nExecuting busybox-1.34.1-r3.trigger\nOK: 134 MiB in 28 packages\nRemoving intermediate container 8b3f58a5259b\n ---> e699ae16b77d\nStep 9/19 : WORKDIR /backend-build\n ---> Running in 69395c2093cb\nRemoving intermediate container 69395c2093cb\n ---> df3f945f08e0\nStep 10/19 : COPY go.* ./\n ---> 77d3071ec853\nStep 11/19 : RUN go mod download\n ---> Running in 8e127d6fd824\nRemoving intermediate container 8e127d6fd824\n ---> 30d998f2d971\nStep 12/19 : COPY . .\n ---> 54f63fb3ddab\nStep 13/19 : COPY --from=frontend /frontend-build/dist ./web/dist\n ---> e540df66bf2f\nStep 14/19 : RUN go build -o eth-faucet -ldflags \"-s -w\"\n ---> Running in eb78d0f081f6\nRemoving intermediate container eb78d0f081f6\n ---> 68c546f8f575\nStep 15/19 : FROM alpine\n ---> 49176f190c7e\nStep 16/19 : RUN apk add --no-cache ca-certificates\n ---> Running in c47aee0152ba\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container c47aee0152ba\n ---> c0b47f87314c\nStep 17/19 : COPY --from=backend /backend-build/eth-faucet /app/eth-faucet\n ---> 93a93258fb53\nStep 18/19 : EXPOSE 8080\n ---> Running in 97a8370ef3b4\nRemoving intermediate container 97a8370ef3b4\n ---> 8164224d85dd\nStep 19/19 : ENTRYPOINT [\"/app/eth-faucet\"]\n ---> Running in aea424266d0f\nRemoving intermediate container aea424266d0f\n ---> 3c50fe86017b\nSuccessfully built 3c50fe86017b\nSuccessfully tagged eth-faucet:latest\n","stderr":"","imageSize":17178697},"endTime":1672513805008}