{"repository":"https://github.com/mozilla/ssh_scan","dockerfilePath":"Dockerfile","startTime":1672733925283,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mozilla/ssh_scan'...\n","error":null,"commit":"f3256f29e1a8e596f37824ae063c1f05e00fc32f"},"originalBuild":{"startTimestamp":1672733926220,"endTimestamp":1672733953149,"error":null,"stdout":"Sending build context to Docker daemon  3.156MB\r\r\nStep 1/8 : FROM ruby:3.0.1-alpine3.13\n3.0.1-alpine3.13: Pulling from library/ruby\n540db60ca938: Pulling fs layer\n98a867505730: Pulling fs layer\n69c77620f610: Pulling fs layer\n637b90789817: Pulling fs layer\nb35a4d9a928a: Pulling fs layer\nb35a4d9a928a: Waiting\n637b90789817: Waiting\n69c77620f610: Verifying Checksum\n69c77620f610: Download complete\n98a867505730: Verifying Checksum\n98a867505730: Download complete\n540db60ca938: Download complete\n540db60ca938: Pull complete\n98a867505730: Pull complete\nb35a4d9a928a: Verifying Checksum\nb35a4d9a928a: Download complete\n69c77620f610: Pull complete\n637b90789817: Verifying Checksum\n637b90789817: Download complete\n637b90789817: Pull complete\nb35a4d9a928a: Pull complete\nDigest: sha256:c7d2b6967cbf1d84477232ec8ad165585bed1f2cf8870eca86b3f90b1369313f\nStatus: Downloaded newer image for ruby:3.0.1-alpine3.13\n ---> d46c4b238695\nStep 2/8 : MAINTAINER Jonathan Claudius\n ---> Running in b05782112d15\nRemoving intermediate container b05782112d15\n ---> e1ee61bf3c07\nStep 3/8 : ENV PROJECT=github.com/mozilla/ssh_scan\n ---> Running in 67ae1368fce8\nRemoving intermediate container 67ae1368fce8\n ---> 2935beb584b0\nStep 4/8 : WORKDIR /app\n ---> Running in 031e0795fff2\nRemoving intermediate container 031e0795fff2\n ---> ef188b8e350e\nStep 5/8 : ADD . /app\n ---> e046cd87c1c4\nStep 6/8 : RUN apk --update add openssh-client\n ---> Running in 263681af025c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing openssh-keygen (8.4_p1-r4)\n(2/3) Installing libedit (20191231.3.1-r1)\n(3/3) Installing openssh-client (8.4_p1-r4)\nExecuting busybox-1.32.1-r6.trigger\nOK: 24 MiB in 39 packages\nRemoving intermediate container 263681af025c\n ---> d921e9ff2b78\nStep 7/8 : ENV GEM_HOME /usr/local/bundle/ruby/$RUBY_VERSION\n ---> Running in 415deb52a9e4\nRemoving intermediate container 415deb52a9e4\n ---> e5a97d35b032\nStep 8/8 : RUN apk --update add --virtual build-dependencies build-base &&     bundle install &&     apk del build-dependencies build-base &&     rm -rf /var/cache/apk/*\n ---> Running in 42c9f0885daf\n(1/19) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/19) Installing binutils (2.35.2-r1)\n(3/19) Installing libmagic (5.39-r0)\n(4/19) Installing file (5.39-r0)\n(5/19) Installing libgomp (10.2.1_pre1-r3)\n(6/19) Installing libatomic (10.2.1_pre1-r3)\n(7/19) Installing libgphobos (10.2.1_pre1-r3)\n(8/19) Installing isl22 (0.22-r0)\n(9/19) Installing mpfr4 (4.1.0-r0)\n(10/19) Installing mpc1 (1.2.0-r0)\n(11/19) Installing gcc (10.2.1_pre1-r3)\n(12/19) Installing musl-dev (1.2.2-r1)\n(13/19) Installing libc-dev (0.7.2-r3)\n(14/19) Installing g++ (10.2.1_pre1-r3)\n(15/19) Installing make (4.3-r0)\n(16/19) Installing fortify-headers (1.1-r0)\n(17/19) Installing patch (2.7.6-r7)\n(18/19) Installing build-base (0.5-r3)\n(19/19) Installing build-dependencies (20230103.081858)\nExecuting busybox-1.32.1-r6.trigger\nOK: 211 MiB in 57 packages\nFetching gem metadata from https://rubygems.org/.........\nUsing rake 13.0.3\nUsing bundler 2.2.15\nUsing json 2.5.1\nUsing rexml 3.2.5\nFetching coderay 1.1.3\nFetching net-ssh 6.0.2\nFetching rainbow 3.0.0\nFetching regexp_parser 2.1.1\nFetching rspec-support 3.7.1\nFetching bcrypt_pbkdf 1.0.1\nFetching thor 1.1.0\nFetching method_source 0.9.2\nFetching ruby-progressbar 1.11.0\nFetching sshkey 2.0.0\nFetching ast 2.4.2\nFetching bindata 2.4.3\nFetching simplecov-html 0.10.2\nFetching diff-lcs 1.4.4\nFetching parallel 1.20.1\nFetching unicode-display_width 2.0.0\nFetching docile 1.3.5\nFetching sync 0.5.0\nFetching ed25519 1.2.4\nFetching netaddr 2.0.4\nInstalling sshkey 2.0.0\nInstalling method_source 0.9.2\nInstalling unicode-display_width 2.0.0\nInstalling sync 0.5.0\nInstalling ast 2.4.2\nInstalling parallel 1.20.1\nInstalling docile 1.3.5\nInstalling rainbow 3.0.0\nInstalling bcrypt_pbkdf 1.0.1 with native extensions\nInstalling ruby-progressbar 1.11.0\nInstalling rspec-support 3.7.1\nInstalling netaddr 2.0.4\nInstalling diff-lcs 1.4.4\nInstalling thor 1.1.0\nInstalling bindata 2.4.3\nInstalling coderay 1.1.3\nInstalling regexp_parser 2.1.1\nInstalling ed25519 1.2.4 with native extensions\nInstalling net-ssh 6.0.2\nInstalling simplecov-html 0.10.2\nFetching parser 3.0.1.1\nFetching tins 1.29.1\nInstalling tins 1.29.1\nFetching rspec-core 3.7.1\nInstalling parser 3.0.1.1\nInstalling rspec-core 3.7.1\nFetching rspec-mocks 3.7.0\nFetching rspec-expectations 3.7.0\nInstalling rspec-expectations 3.7.0\nInstalling rspec-mocks 3.7.0\nFetching simplecov 0.16.1\nInstalling simplecov 0.16.1\nFetching pry 0.11.3\nInstalling pry 0.11.3\nFetching rspec 3.7.0\nFetching rspec-its 1.2.0\nInstalling rspec 3.7.0\nInstalling rspec-its 1.2.0\nFetching term-ansicolor 1.7.1\nFetching rubocop-ast 1.4.1\nInstalling term-ansicolor 1.7.1\nInstalling rubocop-ast 1.4.1\nFetching coveralls 0.8.23\nInstalling coveralls 0.8.23\nFetching rubocop 1.12.1\nInstalling rubocop 1.12.1\nUsing ssh_scan 0.0.44 from source at `.` and installing its executables\nBundle complete! 7 Gemfile dependencies, 38 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\n(1/18) Purging build-dependencies (20230103.081858)\n(2/18) Purging build-base (0.5-r3)\n(3/18) Purging file (5.39-r0)\n(4/18) Purging g++ (10.2.1_pre1-r3)\n(5/18) Purging gcc (10.2.1_pre1-r3)\n(6/18) Purging binutils (2.35.2-r1)\n(7/18) Purging libatomic (10.2.1_pre1-r3)\n(8/18) Purging libgomp (10.2.1_pre1-r3)\n(9/18) Purging libgphobos (10.2.1_pre1-r3)\n(10/18) Purging make (4.3-r0)\n(11/18) Purging libc-dev (0.7.2-r3)\n(12/18) Purging musl-dev (1.2.2-r1)\n(13/18) Purging fortify-headers (1.1-r0)\n(14/18) Purging patch (2.7.6-r7)\n(15/18) Purging libmagic (5.39-r0)\n(16/18) Purging isl22 (0.22-r0)\n(17/18) Purging mpc1 (1.2.0-r0)\n(18/18) Purging mpfr4 (4.1.0-r0)\nExecuting busybox-1.32.1-r6.trigger\nOK: 24 MiB in 39 packages\nRemoving intermediate container 42c9f0885daf\n ---> 1f0d49d26aa8\nSuccessfully built 1f0d49d26aa8\nSuccessfully tagged ssh_scan:latest\n","stderr":"","imageSize":107836231},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":35}},{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":60}}],"repairedDockerfile":"FROM ruby:3.0.1-alpine3.13\nMAINTAINER Jonathan Claudius\nENV PROJECT=github.com/mozilla/ssh_scan\n\nWORKDIR /app\nADD . /app\n\n# required for ssh-keyscan\nRUN apk --update --no-cache add openssh-client\n\nENV GEM_HOME /usr/local/bundle/ruby/$RUBY_VERSION\n\nRUN apk --update --no-cache add --virtual build-dependencies build-base && \\\n    bundle install && \\\n    apk del build-dependencies build-base && \\\n    rm -rf /var/cache/apk/*"},"repairedBuild":{"startTimestamp":1672733953520,"endTimestamp":1672733969625,"error":null,"stdout":"Sending build context to Docker daemon  3.156MB\r\r\nStep 1/8 : FROM ruby:3.0.1-alpine3.13\n ---> d46c4b238695\nStep 2/8 : MAINTAINER Jonathan Claudius\n ---> Running in 87226c7bc2fe\nRemoving intermediate container 87226c7bc2fe\n ---> a6187a91de7f\nStep 3/8 : ENV PROJECT=github.com/mozilla/ssh_scan\n ---> Running in c66b149f67af\nRemoving intermediate container c66b149f67af\n ---> ace58430da85\nStep 4/8 : WORKDIR /app\n ---> Running in 960dfba836dc\nRemoving intermediate container 960dfba836dc\n ---> 4544ee28e478\nStep 5/8 : ADD . /app\n ---> ee8fa74acf9a\nStep 6/8 : RUN apk --update --no-cache add openssh-client\n ---> Running in 5de5d953d58c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing openssh-keygen (8.4_p1-r4)\n(2/3) Installing libedit (20191231.3.1-r1)\n(3/3) Installing openssh-client (8.4_p1-r4)\nExecuting busybox-1.32.1-r6.trigger\nOK: 24 MiB in 39 packages\nRemoving intermediate container 5de5d953d58c\n ---> 612c3c638a7d\nStep 7/8 : ENV GEM_HOME /usr/local/bundle/ruby/$RUBY_VERSION\n ---> Running in 836caeab22f1\nRemoving intermediate container 836caeab22f1\n ---> e40238cc7888\nStep 8/8 : RUN apk --update --no-cache add --virtual build-dependencies build-base &&     bundle install &&     apk del build-dependencies build-base &&     rm -rf /var/cache/apk/*\n ---> Running in 3b9adb51a89d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/19) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/19) Installing binutils (2.35.2-r1)\n(3/19) Installing libmagic (5.39-r0)\n(4/19) Installing file (5.39-r0)\n(5/19) Installing libgomp (10.2.1_pre1-r3)\n(6/19) Installing libatomic (10.2.1_pre1-r3)\n(7/19) Installing libgphobos (10.2.1_pre1-r3)\n(8/19) Installing isl22 (0.22-r0)\n(9/19) Installing mpfr4 (4.1.0-r0)\n(10/19) Installing mpc1 (1.2.0-r0)\n(11/19) Installing gcc (10.2.1_pre1-r3)\n(12/19) Installing musl-dev (1.2.2-r1)\n(13/19) Installing libc-dev (0.7.2-r3)\n(14/19) Installing g++ (10.2.1_pre1-r3)\n(15/19) Installing make (4.3-r0)\n(16/19) Installing fortify-headers (1.1-r0)\n(17/19) Installing patch (2.7.6-r7)\n(18/19) Installing build-base (0.5-r3)\n(19/19) Installing build-dependencies (20230103.081918)\nExecuting busybox-1.32.1-r6.trigger\nOK: 211 MiB in 57 packages\nFetching gem metadata from https://rubygems.org/.........\nUsing rake 13.0.3\nUsing bundler 2.2.15\nUsing json 2.5.1\nUsing rexml 3.2.5\nFetching ast 2.4.2\nFetching sync 0.5.0\nFetching simplecov-html 0.10.2\nFetching rspec-support 3.7.1\nFetching sshkey 2.0.0\nFetching ed25519 1.2.4\nFetching method_source 0.9.2\nFetching netaddr 2.0.4\nFetching parallel 1.20.1\nFetching regexp_parser 2.1.1\nFetching unicode-display_width 2.0.0\nFetching bcrypt_pbkdf 1.0.1\nFetching diff-lcs 1.4.4\nFetching rainbow 3.0.0\nFetching bindata 2.4.3\nFetching coderay 1.1.3\nFetching ruby-progressbar 1.11.0\nFetching docile 1.3.5\nFetching thor 1.1.0\nFetching net-ssh 6.0.2\nInstalling parallel 1.20.1\nInstalling sync 0.5.0\nInstalling ast 2.4.2\nInstalling unicode-display_width 2.0.0\nInstalling docile 1.3.5\nInstalling netaddr 2.0.4\nInstalling rainbow 3.0.0\nInstalling method_source 0.9.2\nInstalling sshkey 2.0.0\nInstalling bcrypt_pbkdf 1.0.1 with native extensions\nInstalling rspec-support 3.7.1\nInstalling ruby-progressbar 1.11.0\nInstalling diff-lcs 1.4.4\nInstalling thor 1.1.0\nInstalling regexp_parser 2.1.1\nInstalling bindata 2.4.3\nInstalling coderay 1.1.3\nInstalling ed25519 1.2.4 with native extensions\nInstalling net-ssh 6.0.2\nInstalling simplecov-html 0.10.2\nFetching parser 3.0.1.1\nFetching tins 1.29.1\nInstalling tins 1.29.1\nInstalling parser 3.0.1.1\nFetching rspec-core 3.7.1\nInstalling rspec-core 3.7.1\nFetching rspec-mocks 3.7.0\nFetching rspec-expectations 3.7.0\nInstalling rspec-mocks 3.7.0\nInstalling rspec-expectations 3.7.0\nFetching simplecov 0.16.1\nFetching pry 0.11.3\nInstalling simplecov 0.16.1\nInstalling pry 0.11.3\nFetching rspec 3.7.0\nFetching rubocop-ast 1.4.1\nFetching rspec-its 1.2.0\nInstalling rspec 3.7.0\nInstalling rspec-its 1.2.0\nInstalling rubocop-ast 1.4.1\nFetching term-ansicolor 1.7.1\nFetching rubocop 1.12.1\nInstalling term-ansicolor 1.7.1\nInstalling rubocop 1.12.1\nFetching coveralls 0.8.23\nInstalling coveralls 0.8.23\nUsing ssh_scan 0.0.44 from source at `.` and installing its executables\nBundle complete! 7 Gemfile dependencies, 38 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\n\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.13/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.13/community: No such file or directory\n\u001b[0m(1/18) Purging build-dependencies (20230103.081918)\n(2/18) Purging build-base (0.5-r3)\n(3/18) Purging file (5.39-r0)\n(4/18) Purging g++ (10.2.1_pre1-r3)\n(5/18) Purging gcc (10.2.1_pre1-r3)\n(6/18) Purging binutils (2.35.2-r1)\n(7/18) Purging libatomic (10.2.1_pre1-r3)\n(8/18) Purging libgomp (10.2.1_pre1-r3)\n(9/18) Purging libgphobos (10.2.1_pre1-r3)\n(10/18) Purging make (4.3-r0)\n(11/18) Purging libc-dev (0.7.2-r3)\n(12/18) Purging musl-dev (1.2.2-r1)\n(13/18) Purging fortify-headers (1.1-r0)\n(14/18) Purging patch (2.7.6-r7)\n(15/18) Purging libmagic (5.39-r0)\n(16/18) Purging isl22 (0.22-r0)\n(17/18) Purging mpc1 (1.2.0-r0)\n(18/18) Purging mpfr4 (4.1.0-r0)\nExecuting busybox-1.32.1-r6.trigger\nOK: 24 MiB in 39 packages\nRemoving intermediate container 3b9adb51a89d\n ---> f9141f96d80a\nSuccessfully built f9141f96d80a\nSuccessfully tagged ssh_scan:latest\n","stderr":"","imageSize":105848045},"endTime":1672733969907}