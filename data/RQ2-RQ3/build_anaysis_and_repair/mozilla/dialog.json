{"repository":"https://github.com/mozilla/dialog","dockerfilePath":"Dockerfile","startTime":1673044663755,"endTime":1673045026428,"clone":{"startTime":1673044663755,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mozilla/dialog'...\n","error":null,"endTime":1673044664556,"commit":"022cae14eb7dda4c27eeaefae084a120ff5316b9"},"originalBuild":{"startTime":1673044664642,"endTime":1673044881247,"error":null,"stdout":"Sending build context to Docker daemon  364.5kB\r\r\nStep 1/14 : from node:lts as build\n ---> 81e3e9b5ce42\nStep 2/14 : workdir /app\n ---> Running in 1a7847ef68e4\nRemoving intermediate container 1a7847ef68e4\n ---> 66464fdebb95\nStep 3/14 : run apt-get update > /dev/null && apt-get -y install python3-pip > /dev/null\n ---> Running in fb8c42fa79ae\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mRemoving intermediate container fb8c42fa79ae\n ---> 6f8bcd261375\nStep 4/14 : run mkdir certs && openssl req -x509 -newkey rsa:2048 -sha256 -days 36500 -nodes -keyout certs/privkey.pem -out certs/fullchain.pem -subj '/CN=dialog'\n ---> Running in 13e579c6f734\n\u001b[91mGenerating a RSA private key\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91mwriting new private key to 'certs/privkey.pem'\n\u001b[0m\u001b[91m-----\n\u001b[0mRemoving intermediate container 13e579c6f734\n ---> 6f2801a5a941\nStep 5/14 : copy package.json .\n ---> c345c9390abb\nStep 6/14 : copy package-lock.json .\n ---> 14098ee5089e\nStep 7/14 : run npm ci\n ---> Running in 5e46593ebb79\n\nadded 239 packages, and audited 240 packages in 1m\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 5e46593ebb79\n ---> 99e4f87e905c\nStep 8/14 : copy . .\n ---> 882523908c83\nStep 9/14 : from node:lts-slim\nlts-slim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Already exists\n4fc38822d18d: Pulling fs layer\nec2c4cb1aed0: Pulling fs layer\n81e9a52d5154: Pulling fs layer\n81e9a52d5154: Download complete\nec2c4cb1aed0: Verifying Checksum\nec2c4cb1aed0: Download complete\n4fc38822d18d: Verifying Checksum\n4fc38822d18d: Download complete\n4fc38822d18d: Pull complete\nec2c4cb1aed0: Pull complete\n81e9a52d5154: Pull complete\nDigest: sha256:c1d8da926a0ce94fdc38d0090d99804b8d905b56f915e3cba12502f8297a8459\nStatus: Downloaded newer image for node:lts-slim\n ---> 5dc9d2503f66\nStep 10/14 : workdir /app\n ---> Running in 2e8cc24bb266\nRemoving intermediate container 2e8cc24bb266\n ---> fddbf559a7ab\nStep 11/14 : copy --from=build /app /app\n ---> fb12040930e1\nStep 12/14 : run apt-get update > /dev/null && apt-get install -y jq curl dnsutils netcat > /dev/null\n ---> Running in c60eaa214705\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mRemoving intermediate container c60eaa214705\n ---> cb0b1e99e2c6\nStep 13/14 : copy scripts/docker/run.sh /run.sh\n ---> 6f91d0d4b3a2\nStep 14/14 : cmd bash /run.sh\n ---> Running in eb33a7cc223c\nRemoving intermediate container eb33a7cc223c\n ---> 18a225296e8e\nSuccessfully built 18a225296e8e\nSuccessfully tagged dialog:latest\n","stderr":"","imageSize":355902583},"repair":{"startTime":1673044881315,"endTime":1673044881458,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":2,"end":2,"columnStart":34,"columnEnd":76}},{"name":"aptGetInstallUseNoRec","position":{"start":11,"end":11,"columnStart":34,"columnEnd":88}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":2,"columnStart":34,"columnEnd":76}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":11,"end":11,"columnStart":34,"columnEnd":88}}],"repairedDockerfile":"from node:lts as build\nworkdir /app\nrun apt-get update > /dev/null && apt-get -y --no-install-recommends install python3-pip > /dev/null && rm -rf /var/lib/apt/lists/*;\nrun mkdir certs && openssl req -x509 -newkey rsa:2048 -sha256 -days 36500 -nodes -keyout certs/privkey.pem -out certs/fullchain.pem -subj '/CN=dialog'\ncopy package.json .\ncopy package-lock.json .\nrun npm ci\ncopy . .\nfrom node:lts-slim\nworkdir /app\ncopy --from=build /app /app\nrun apt-get update > /dev/null && apt-get install --no-install-recommends -y jq curl dnsutils netcat > /dev/null && rm -rf /var/lib/apt/lists/*;\ncopy scripts/docker/run.sh /run.sh\ncmd bash /run.sh\n"},"repairedBuild":{"startTime":1673044881794,"endTime":1673045026016,"error":null,"stdout":"Sending build context to Docker daemon  364.5kB\r\r\nStep 1/14 : from node:lts as build\n ---> 81e3e9b5ce42\nStep 2/14 : workdir /app\n ---> Running in 26571f895e5a\nRemoving intermediate container 26571f895e5a\n ---> d310ab8f9eab\nStep 3/14 : run apt-get update > /dev/null && apt-get -y --no-install-recommends install python3-pip > /dev/null && rm -rf /var/lib/apt/lists/*;\n ---> Running in c9c6d539c1d4\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mRemoving intermediate container c9c6d539c1d4\n ---> 2d4e28c18a93\nStep 4/14 : run mkdir certs && openssl req -x509 -newkey rsa:2048 -sha256 -days 36500 -nodes -keyout certs/privkey.pem -out certs/fullchain.pem -subj '/CN=dialog'\n ---> Running in d4bb7fead0af\n\u001b[91mGenerating a RSA private key\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\u001b[0m\u001b[91m+\n\u001b[0m\u001b[91mwriting new private key to 'certs/privkey.pem'\n\u001b[0m\u001b[91m-----\n\u001b[0mRemoving intermediate container d4bb7fead0af\n ---> a815eb705950\nStep 5/14 : copy package.json .\n ---> 0c3b3761f50d\nStep 6/14 : copy package-lock.json .\n ---> 6f7055fa324e\nStep 7/14 : run npm ci\n ---> Running in 6f7f8f8914f3\n\nadded 239 packages, and audited 240 packages in 53s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 6f7f8f8914f3\n ---> 005f5018ae18\nStep 8/14 : copy . .\n ---> 7f15ba022003\nStep 9/14 : from node:lts-slim\n ---> 5dc9d2503f66\nStep 10/14 : workdir /app\n ---> Running in a0462b246c14\nRemoving intermediate container a0462b246c14\n ---> 601000f4fceb\nStep 11/14 : copy --from=build /app /app\n ---> 270d0a97cbab\nStep 12/14 : run apt-get update > /dev/null && apt-get install --no-install-recommends -y jq curl dnsutils netcat > /dev/null && rm -rf /var/lib/apt/lists/*;\n ---> Running in d095f841a2cf\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mRemoving intermediate container d095f841a2cf\n ---> c5cc41d551c4\nStep 13/14 : copy scripts/docker/run.sh /run.sh\n ---> d495d4c1245a\nStep 14/14 : cmd bash /run.sh\n ---> Running in 94cb8cd20a91\nRemoving intermediate container 94cb8cd20a91\n ---> 0ee56adbc975\nSuccessfully built 0ee56adbc975\nSuccessfully tagged dialog:latest\n","stderr":"","imageSize":335282622}}