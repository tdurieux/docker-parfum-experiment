{"repository":"https://github.com/htmlgraphic/postfix","dockerfilePath":"Dockerfile","startTime":1672823382864,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/htmlgraphic/postfix'...\n","error":null,"commit":"6ace07ff4d0aa60fd89b081cb4e8f2347889623d"},"originalBuild":{"startTimestamp":1672823383741,"endTimestamp":1672823472370,"error":null,"stdout":"Sending build context to Docker daemon  88.06kB\r\r\nStep 1/15 : FROM htmlgraphic/base\nlatest: Pulling from htmlgraphic/base\nImage docker.io/htmlgraphic/base:latest uses outdated schema1 manifest format. Please upgrade to a schema2 image for better future compatibility. More information at https://docs.docker.com/registry/spec/deprecated-schema-v1/\na3ed95caeb02: Already exists\n88760a7e69b8: Pulling fs layer\n8e145bc89530: Pulling fs layer\nbe2bd758a1b3: Pulling fs layer\na3ed95caeb02: Pulling fs layer\n36875f2afadb: Pulling fs layer\nc735c5437acf: Pulling fs layer\nb61c8bc9cca0: Pulling fs layer\nc735c5437acf: Waiting\nb61c8bc9cca0: Waiting\na3ed95caeb02: Waiting\n36875f2afadb: Waiting\n8e145bc89530: Download complete\nbe2bd758a1b3: Download complete\na3ed95caeb02: Verifying Checksum\na3ed95caeb02: Download complete\nc735c5437acf: Download complete\nb61c8bc9cca0: Download complete\n88760a7e69b8: Verifying Checksum\n88760a7e69b8: Download complete\n36875f2afadb: Verifying Checksum\n36875f2afadb: Download complete\n88760a7e69b8: Pull complete\n8e145bc89530: Pull complete\nbe2bd758a1b3: Pull complete\na3ed95caeb02: Pull complete\n36875f2afadb: Pull complete\nc735c5437acf: Pull complete\nb61c8bc9cca0: Pull complete\nDigest: sha256:fdb72a84074798ca2292cadc3458fa2cd763e8c686f972884f69529b2a555f80\nStatus: Downloaded newer image for htmlgraphic/base:latest\n ---> 836bc57a619a\nStep 2/15 : MAINTAINER Jason Gegere <jason@htmlgraphic.com>\n ---> Running in 04d27c2d6079\nRemoving intermediate container 04d27c2d6079\n ---> 195447e4a1e1\nStep 3/15 : RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get -y install  supervisor  rsyslog  postfix && apt-get clean && rm -rf /var/lib/apt/lists/*\n ---> Running in 30010f095756\nIgn http://archive.ubuntu.com trusty InRelease\nGet:1 http://archive.ubuntu.com trusty-updates InRelease [65.9 kB]\nGet:2 http://archive.ubuntu.com trusty-security InRelease [65.9 kB]\nGet:3 http://archive.ubuntu.com trusty Release.gpg [933 B]\nGet:4 http://archive.ubuntu.com trusty Release [58.5 kB]\nGet:5 http://archive.ubuntu.com trusty-updates/main Sources [532 kB]\nGet:6 http://archive.ubuntu.com trusty-updates/restricted Sources [6444 B]\nGet:7 http://archive.ubuntu.com trusty-updates/universe Sources [288 kB]\nGet:8 http://archive.ubuntu.com trusty-updates/main amd64 Packages [1460 kB]\nGet:9 http://archive.ubuntu.com trusty-updates/restricted amd64 Packages [21.4 kB]\nGet:10 http://archive.ubuntu.com trusty-updates/universe amd64 Packages [671 kB]\nGet:11 http://archive.ubuntu.com trusty-security/main Sources [220 kB]\nGet:12 http://archive.ubuntu.com trusty-security/restricted Sources [5050 B]\nGet:13 http://archive.ubuntu.com trusty-security/universe Sources [127 kB]\nGet:14 http://archive.ubuntu.com trusty-security/main amd64 Packages [1032 kB]\nGet:15 http://archive.ubuntu.com trusty-security/restricted amd64 Packages [18.1 kB]\nGet:16 http://archive.ubuntu.com trusty-security/universe amd64 Packages [378 kB]\nGet:17 http://archive.ubuntu.com trusty/main Sources [1335 kB]\nGet:18 http://archive.ubuntu.com trusty/restricted Sources [5335 B]\nGet:19 http://archive.ubuntu.com trusty/universe Sources [7926 kB]\nGet:20 http://archive.ubuntu.com trusty/main amd64 Packages [1743 kB]\nGet:21 http://archive.ubuntu.com trusty/restricted amd64 Packages [16.0 kB]\nGet:22 http://archive.ubuntu.com trusty/universe amd64 Packages [7589 kB]\nFetched 23.6 MB in 10s (2326 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  python-meld3 python-pkg-resources\nSuggested packages:\n  procmail postfix-mysql postfix-pgsql postfix-ldap postfix-pcre sasl2-bin\n  dovecot-common postfix-cdb ufw postfix-doc python-distribute\n  python-distribute-doc rsyslog-mysql rsyslog-pgsql rsyslog-doc rsyslog-gnutls\n  rsyslog-gssapi rsyslog-relp apparmor\nThe following NEW packages will be installed:\n  python-meld3 python-pkg-resources supervisor\nThe following packages will be upgraded:\n  postfix rsyslog\n2 upgraded, 3 newly installed, 0 to remove and 140 not upgraded.\nNeed to get 1786 kB of archives.\nAfter this operation, 1811 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main rsyslog amd64 7.4.4-1ubuntu2.7 [353 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main postfix amd64 2.11.0-1ubuntu1.2 [1088 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main python-pkg-resources all 3.3-1ubuntu2 [61.9 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/universe python-meld3 amd64 0.6.10-1 [39.0 kB]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/universe supervisor all 3.0b2-1ubuntu0.1 [244 kB]\nPreconfiguring packages ...\nFetched 1786 kB in 1s (1296 kB/s)\n(Reading database ... 17215 files and directories currently installed.)\nPreparing to unpack .../rsyslog_7.4.4-1ubuntu2.7_amd64.deb ...\nUnpacking rsyslog (7.4.4-1ubuntu2.7) over (7.4.4-1ubuntu2.3) ...\nPreparing to unpack .../postfix_2.11.0-1ubuntu1.2_amd64.deb ...\n\u001b[91minvoke-rc.d: policy-rc.d denied execution of stop.\n\u001b[0mUnpacking postfix (2.11.0-1ubuntu1.2) over (2.11.0-1) ...\nSelecting previously unselected package python-pkg-resources.\nPreparing to unpack .../python-pkg-resources_3.3-1ubuntu2_all.deb ...\nUnpacking python-pkg-resources (3.3-1ubuntu2) ...\nSelecting previously unselected package python-meld3.\nPreparing to unpack .../python-meld3_0.6.10-1_amd64.deb ...\nUnpacking python-meld3 (0.6.10-1) ...\nSelecting previously unselected package supervisor.\nPreparing to unpack .../supervisor_3.0b2-1ubuntu0.1_all.deb ...\nUnpacking supervisor (3.0b2-1ubuntu0.1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up rsyslog (7.4.4-1ubuntu2.7) ...\nInstalling new version of config file /etc/apparmor.d/usr.sbin.rsyslogd ...\nThe user `syslog' is already a member of `adm'.\n\u001b[91minvoke-rc.d: policy-rc.d denied execution of restart.\n\u001b[0mSetting up postfix (2.11.0-1ubuntu1.2) ...\nInstalling new version of config file /etc/init.d/postfix ...\n\u001b[91m\nPostfix configuration was not changed.  If you need to make changes, edit\n/etc/postfix/main.cf (and others) as needed.  To view Postfix configuration\nvalues, see postconf(1).\n\nAfter modifying main.cf, be sure to run '/etc/init.d/postfix reload'.\n\n\u001b[0m\u001b[91mRunning newaliases\n\u001b[0m\u001b[91minvoke-rc.d: policy-rc.d denied execution of restart.\n\u001b[0mSetting up python-pkg-resources (3.3-1ubuntu2) ...\nSetting up python-meld3 (0.6.10-1) ...\nSetting up supervisor (3.0b2-1ubuntu0.1) ...\n\u001b[91minvoke-rc.d: policy-rc.d denied execution of start.\n\u001b[0mProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.4) ...\nRemoving intermediate container 30010f095756\n ---> 8b8e3e190b6f\nStep 4/15 : RUN mkdir -p /opt\n ---> Running in 1a2cf0775cfa\nRemoving intermediate container 1a2cf0775cfa\n ---> dfffbab9ea7e\nStep 5/15 : COPY ./app /opt/app\n ---> 599b53e182cc\nStep 6/15 : COPY ./tests /opt/tests\n ---> 1a72d2a9dbc7\nStep 7/15 : RUN tar xf /opt/tests/shunit2-2.1.7.tar.gz -C /opt/tests/\n ---> Running in e1019f92b588\nRemoving intermediate container e1019f92b588\n ---> 10d0ba0611cc\nStep 8/15 : RUN debconf-set-selections /opt/app/preseed.txt\n ---> Running in 0db761bf3f3a\nRemoving intermediate container 0db761bf3f3a\n ---> eb6593ee6193\nStep 9/15 : RUN chmod -R 755 /opt/* && \t\tmkdir -p /var/log/supervisor && \t\tcp /opt/app/supervisord.conf /etc/supervisor/conf.d/\n ---> Running in 212cea18b223\nRemoving intermediate container 212cea18b223\n ---> c4a620cc63b6\nStep 10/15 : ARG BUILD_DATE\n ---> Running in 60076e9e0348\nRemoving intermediate container 60076e9e0348\n ---> 5d3ff788eb95\nStep 11/15 : ARG VCS_REF\n ---> Running in 9c4342d7842f\nRemoving intermediate container 9c4342d7842f\n ---> dd9d1e5afdec\nStep 12/15 : ARG VERSION\n ---> Running in cac769aeae99\nRemoving intermediate container cac769aeae99\n ---> 9033bace79be\nStep 13/15 : LABEL org.label-schema.build-date=$BUILD_DATE       org.label-schema.name=\"Postix Docker\"       org.label-schema.description=\"Docker container running Posfix running on Ubuntu, TDD via Shippable & CircleCI\"       org.label-schema.url=\"https://htmlgraphic.com\"       org.label-schema.vcs-ref=$VCS_REF       org.label-schema.vcs-url=\"https://github.com/htmlgraphic/Apache\"       org.label-schema.vendor=\"HTMLgraphic, LLC\"       org.label-schema.version=$VERSION       org.label-schema.schema-version=\"1.0\"\n ---> Running in 2fab42730876\nRemoving intermediate container 2fab42730876\n ---> 2738437e66cf\nStep 14/15 : EXPOSE 25\n ---> Running in d688d919e5b9\nRemoving intermediate container d688d919e5b9\n ---> 4d7ce37e70af\nStep 15/15 : CMD [\"/opt/app/run.sh\"]\n ---> Running in 939e8e5b2f7c\nRemoving intermediate container 939e8e5b2f7c\n ---> a18e59188c18\nSuccessfully built a18e59188c18\nSuccessfully tagged postfix:latest\n","stderr":"","imageSize":354067644},"repair":{"violations":[{"name":"tarSomethingRmTheSomething","position":{"start":16,"end":16,"columnStart":4,"columnEnd":57}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":7,"columnStart":22,"columnEnd":8}}],"repairedDockerfile":"FROM htmlgraphic/base\nMAINTAINER Jason Gegere <jason@htmlgraphic.com>\n\n# Install packages then remove cache package list information\nRUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends -y install \\\n supervisor \\\n rsyslog \\\n postfix && apt-get clean && rm -rf /var/lib/apt/lists/*\n\n\n# Copy files / scripts to build application\nRUN mkdir -p /opt\nCOPY ./app /opt/app\nCOPY ./tests /opt/tests\n\n# Unit tests run via build_tests.sh\nRUN tar xf /opt/tests/shunit2-2.1.7.tar.gz -C /opt/tests/\n\nRUN debconf-set-selections /opt/app/preseed.txt\n\n# SUPERVISOR\nRUN chmod -R 755 /opt/* && \\\n\t\tmkdir -p /var/log/supervisor && \\\n\t\tcp /opt/app/supervisord.conf /etc/supervisor/conf.d/\n\n# Build-time metadata as defined at http://label-schema.org\nARG BUILD_DATE\nARG VCS_REF\nARG VERSION\nLABEL org.label-schema.build-date=$BUILD_DATE \\\n      org.label-schema.name=\"Postix Docker\" \\\n      org.label-schema.description=\"Docker container running Posfix running on Ubuntu, TDD via Shippable & CircleCI\" \\\n      org.label-schema.url=\"https://htmlgraphic.com\" \\\n      org.label-schema.vcs-ref=$VCS_REF \\\n      org.label-schema.vcs-url=\"https://github.com/htmlgraphic/Apache\" \\\n      org.label-schema.vendor=\"HTMLgraphic, LLC\" \\\n      org.label-schema.version=$VERSION \\\n      org.label-schema.schema-version=\"1.0\"\n\n# Note that EXPOSE only works for inter-container links. It doesn't make ports accessible from the host. To expose port(s) to the host, at runtime, use the -p flag.\nEXPOSE 25\n\nCMD [\"/opt/app/run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672823472739,"endTimestamp":1672823594747,"error":null,"stdout":"Sending build context to Docker daemon  88.06kB\r\r\nStep 1/15 : FROM htmlgraphic/base\n ---> 836bc57a619a\nStep 2/15 : MAINTAINER Jason Gegere <jason@htmlgraphic.com>\n ---> Running in 19a942041667\nRemoving intermediate container 19a942041667\n ---> 76197c5172f1\nStep 3/15 : RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends -y install  supervisor  rsyslog  postfix && apt-get clean && rm -rf /var/lib/apt/lists/*\n ---> Running in c1f6111c0244\nIgn http://archive.ubuntu.com trusty InRelease\nGet:1 http://archive.ubuntu.com trusty-updates InRelease [65.9 kB]\nGet:2 http://archive.ubuntu.com trusty-security InRelease [65.9 kB]\nGet:3 http://archive.ubuntu.com trusty Release.gpg [933 B]\nGet:4 http://archive.ubuntu.com trusty Release [58.5 kB]\nGet:5 http://archive.ubuntu.com trusty-updates/main Sources [532 kB]\nGet:6 http://archive.ubuntu.com trusty-updates/restricted Sources [6444 B]\nGet:7 http://archive.ubuntu.com trusty-updates/universe Sources [288 kB]\nGet:8 http://archive.ubuntu.com trusty-updates/main amd64 Packages [1460 kB]\nGet:9 http://archive.ubuntu.com trusty-updates/restricted amd64 Packages [21.4 kB]\nGet:10 http://archive.ubuntu.com trusty-updates/universe amd64 Packages [671 kB]\nGet:11 http://archive.ubuntu.com trusty-security/main Sources [220 kB]\nGet:12 http://archive.ubuntu.com trusty-security/restricted Sources [5050 B]\nGet:13 http://archive.ubuntu.com trusty-security/universe Sources [127 kB]\nGet:14 http://archive.ubuntu.com trusty-security/main amd64 Packages [1032 kB]\nGet:15 http://archive.ubuntu.com trusty-security/restricted amd64 Packages [18.1 kB]\nGet:16 http://archive.ubuntu.com trusty-security/universe amd64 Packages [378 kB]\nGet:17 http://archive.ubuntu.com trusty/main Sources [1335 kB]\nGet:18 http://archive.ubuntu.com trusty/restricted Sources [5335 B]\nGet:19 http://archive.ubuntu.com trusty/universe Sources [7926 kB]\nGet:20 http://archive.ubuntu.com trusty/main amd64 Packages [1743 kB]\nGet:21 http://archive.ubuntu.com trusty/restricted amd64 Packages [16.0 kB]\nGet:22 http://archive.ubuntu.com trusty/universe amd64 Packages [7589 kB]\nFetched 23.6 MB in 10s (2306 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  python-meld3 python-pkg-resources\nSuggested packages:\n  procmail postfix-mysql postfix-pgsql postfix-ldap postfix-pcre sasl2-bin\n  dovecot-common postfix-cdb ufw postfix-doc python-distribute\n  python-distribute-doc rsyslog-mysql rsyslog-pgsql rsyslog-doc rsyslog-gnutls\n  rsyslog-gssapi rsyslog-relp apparmor\nThe following NEW packages will be installed:\n  python-meld3 python-pkg-resources supervisor\nThe following packages will be upgraded:\n  postfix rsyslog\n2 upgraded, 3 newly installed, 0 to remove and 140 not upgraded.\nNeed to get 1786 kB of archives.\nAfter this operation, 1811 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main rsyslog amd64 7.4.4-1ubuntu2.7 [353 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main postfix amd64 2.11.0-1ubuntu1.2 [1088 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main python-pkg-resources all 3.3-1ubuntu2 [61.9 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/universe python-meld3 amd64 0.6.10-1 [39.0 kB]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/universe supervisor all 3.0b2-1ubuntu0.1 [244 kB]\nPreconfiguring packages ...\nFetched 1786 kB in 0s (4522 kB/s)\n(Reading database ... 17215 files and directories currently installed.)\nPreparing to unpack .../rsyslog_7.4.4-1ubuntu2.7_amd64.deb ...\nUnpacking rsyslog (7.4.4-1ubuntu2.7) over (7.4.4-1ubuntu2.3) ...\nPreparing to unpack .../postfix_2.11.0-1ubuntu1.2_amd64.deb ...\n\u001b[91minvoke-rc.d: policy-rc.d denied execution of stop.\n\u001b[0mUnpacking postfix (2.11.0-1ubuntu1.2) over (2.11.0-1) ...\nSelecting previously unselected package python-pkg-resources.\nPreparing to unpack .../python-pkg-resources_3.3-1ubuntu2_all.deb ...\nUnpacking python-pkg-resources (3.3-1ubuntu2) ...\nSelecting previously unselected package python-meld3.\nPreparing to unpack .../python-meld3_0.6.10-1_amd64.deb ...\nUnpacking python-meld3 (0.6.10-1) ...\nSelecting previously unselected package supervisor.\nPreparing to unpack .../supervisor_3.0b2-1ubuntu0.1_all.deb ...\nUnpacking supervisor (3.0b2-1ubuntu0.1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up rsyslog (7.4.4-1ubuntu2.7) ...\nInstalling new version of config file /etc/apparmor.d/usr.sbin.rsyslogd ...\nThe user `syslog' is already a member of `adm'.\n\u001b[91minvoke-rc.d: policy-rc.d denied execution of restart.\n\u001b[0mSetting up postfix (2.11.0-1ubuntu1.2) ...\nInstalling new version of config file /etc/init.d/postfix ...\n\u001b[91m\nPostfix configuration was not changed.  If you need to make changes, edit\n/etc/postfix/main.cf (and others) as needed.  To view Postfix configuration\nvalues, see postconf(1).\n\nAfter modifying main.cf, be sure to run '/etc/init.d/postfix reload'.\n\n\u001b[0m\u001b[91mRunning newaliases\n\u001b[0m\u001b[91minvoke-rc.d: policy-rc.d denied execution of restart.\n\u001b[0mSetting up python-pkg-resources (3.3-1ubuntu2) ...\nSetting up python-meld3 (0.6.10-1) ...\nSetting up supervisor (3.0b2-1ubuntu0.1) ...\n\u001b[91minvoke-rc.d: policy-rc.d denied execution of start.\n\u001b[0mProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.4) ...\nRemoving intermediate container c1f6111c0244\n ---> 281094bd7687\nStep 4/15 : RUN mkdir -p /opt\n ---> Running in 8049fb582eeb\nRemoving intermediate container 8049fb582eeb\n ---> 840aaf2aafa2\nStep 5/15 : COPY ./app /opt/app\n ---> 2149b0751016\nStep 6/15 : COPY ./tests /opt/tests\n ---> 2ef050364184\nStep 7/15 : RUN tar xf /opt/tests/shunit2-2.1.7.tar.gz -C /opt/tests/\n ---> Running in 48981fc740db\nRemoving intermediate container 48981fc740db\n ---> ae6c8c590229\nStep 8/15 : RUN debconf-set-selections /opt/app/preseed.txt\n ---> Running in fbee4bd08e3e\nRemoving intermediate container fbee4bd08e3e\n ---> 1bc2e49e5d74\nStep 9/15 : RUN chmod -R 755 /opt/* && \t\tmkdir -p /var/log/supervisor && \t\tcp /opt/app/supervisord.conf /etc/supervisor/conf.d/\n ---> Running in 5ed2ae6739dc\nRemoving intermediate container 5ed2ae6739dc\n ---> ce5aafaa2152\nStep 10/15 : ARG BUILD_DATE\n ---> Running in b52dd731980c\nRemoving intermediate container b52dd731980c\n ---> 0709fa811912\nStep 11/15 : ARG VCS_REF\n ---> Running in b1b7c5ad131f\nRemoving intermediate container b1b7c5ad131f\n ---> 244410d96c07\nStep 12/15 : ARG VERSION\n ---> Running in 0ffeeb2bab02\nRemoving intermediate container 0ffeeb2bab02\n ---> 3cfa1903c8b5\nStep 13/15 : LABEL org.label-schema.build-date=$BUILD_DATE       org.label-schema.name=\"Postix Docker\"       org.label-schema.description=\"Docker container running Posfix running on Ubuntu, TDD via Shippable & CircleCI\"       org.label-schema.url=\"https://htmlgraphic.com\"       org.label-schema.vcs-ref=$VCS_REF       org.label-schema.vcs-url=\"https://github.com/htmlgraphic/Apache\"       org.label-schema.vendor=\"HTMLgraphic, LLC\"       org.label-schema.version=$VERSION       org.label-schema.schema-version=\"1.0\"\n ---> Running in ede416e16454\nRemoving intermediate container ede416e16454\n ---> fe9ef009e3b3\nStep 14/15 : EXPOSE 25\n ---> Running in 625ccf3da500\nRemoving intermediate container 625ccf3da500\n ---> 467457fb75a0\nStep 15/15 : CMD [\"/opt/app/run.sh\"]\n ---> Running in 7d5e9383238b\nRemoving intermediate container 7d5e9383238b\n ---> 51f11751dd72\nSuccessfully built 51f11751dd72\nSuccessfully tagged postfix:latest\n","stderr":"","imageSize":354067668},"endTime":1672823595005}