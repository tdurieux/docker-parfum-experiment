{"repository":"https://github.com/uoc-radio/flow-dashboard","dockerfilePath":"Dockerfile","startTime":1672550197854,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/uoc-radio/flow-dashboard'...\n","error":null,"commit":"bc391efb85d32e439fc21b3c34b108353c98e4c2"},"originalBuild":{"startTimestamp":1672550198943,"endTimestamp":1672550226165,"error":null,"stdout":"Sending build context to Docker daemon  4.108MB\r\r\nStep 1/8 : FROM alpine AS environment\n ---> 49176f190c7e\nStep 2/8 : RUN apk add python3 \tpy3-gobject3 \tpy3-lxml \tgtk+3.0 \tlibcanberra-gtk3 \tttf-cantarell \tadwaita-icon-theme \tfont-noto\n ---> Running in d1769c2acfa5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/95) Installing libxau (1.0.10-r0)\n(2/95) Installing libmd (1.0.4-r0)\n(3/95) Installing libbsd (0.11.7-r0)\n(4/95) Installing libxdmcp (1.1.4-r0)\n(5/95) Installing libxcb (1.15-r0)\n(6/95) Installing libx11 (1.8.3-r0)\n(7/95) Installing libxext (1.3.5-r0)\n(8/95) Installing libxrender (0.9.11-r0)\n(9/95) Installing libexpat (2.5.0-r0)\n(10/95) Installing brotli-libs (1.0.9-r9)\n(11/95) Installing libbz2 (1.0.8-r4)\n(12/95) Installing libpng (1.6.38-r0)\n(13/95) Installing freetype (2.12.1-r0)\n(14/95) Installing fontconfig (2.14.1-r0)\n(15/95) Installing pixman (0.42.2-r0)\n(16/95) Installing cairo (1.17.6-r3)\n(17/95) Installing libffi (3.4.4-r0)\n(18/95) Installing libintl (0.21.1-r1)\n(19/95) Installing libblkid (2.38.1-r0)\n(20/95) Installing libmount (2.38.1-r0)\n(21/95) Installing pcre2 (10.42-r0)\n(22/95) Installing glib (2.74.4-r0)\n(23/95) Installing cairo-gobject (1.17.6-r3)\n(24/95) Installing libgcc (12.2.1_git20220924-r4)\n(25/95) Installing pkgconf (1.9.3-r0)\n(26/95) Installing xz-libs (5.2.9-r0)\n(27/95) Installing libxml2 (2.10.3-r1)\n(28/95) Installing shared-mime-info (2.2-r2)\n(29/95) Installing libjpeg-turbo (2.1.4-r0)\n(30/95) Installing libwebp (1.2.4-r1)\n(31/95) Installing zstd-libs (1.5.2-r9)\n(32/95) Installing tiff (4.4.0-r1)\n(33/95) Installing gdk-pixbuf (2.42.10-r0)\n(34/95) Installing libxft (2.3.7-r0)\n(35/95) Installing fribidi (1.0.12-r0)\n(36/95) Installing graphite2 (1.3.14-r2)\n(37/95) Installing harfbuzz (5.3.1-r1)\n(38/95) Installing pango (1.50.12-r0)\n(39/95) Installing librsvg (2.55.1-r0)\n(40/95) Installing adwaita-icon-theme (43-r0)\n(41/95) Installing font-noto-common (0_git20211101-r6)\n(42/95) Installing font-noto-math (0_git20211101-r6)\n(43/95) Installing font-noto-symbols (0_git20211101-r6)\n(44/95) Installing font-noto (0_git20211101-r6)\n(45/95) Installing hicolor-icon-theme (0.17-r2)\n(46/95) Installing gtk-update-icon-cache (3.24.36-r0)\n(47/95) Installing libxcomposite (0.4.5-r1)\n(48/95) Installing libxfixes (6.0.0-r0)\n(49/95) Installing libxcursor (1.2.1-r1)\n(50/95) Installing libxdamage (1.1.5-r1)\n(51/95) Installing libxi (1.8-r0)\n(52/95) Installing libxinerama (1.1.5-r0)\n(53/95) Installing libxrandr (1.5.3-r0)\n(54/95) Installing libatk-1.0 (2.46.0-r0)\n(55/95) Installing libxtst (1.2.4-r0)\n(56/95) Installing dbus-libs (1.14.4-r0)\n(57/95) Installing at-spi2-core (2.46.0-r0)\n(58/95) Installing libatk-bridge-2.0 (2.46.0-r0)\n(59/95) Installing avahi-libs (0.8-r6)\n(60/95) Installing gmp (6.2.1-r2)\n(61/95) Installing nettle (3.8.1-r0)\n(62/95) Installing p11-kit (0.24.1-r1)\n(63/95) Installing libtasn1 (4.19.0-r0)\n(64/95) Installing libunistring (1.1-r0)\n(65/95) Installing gnutls (3.7.8-r2)\n(66/95) Installing cups-libs (2.4.2-r1)\n(67/95) Installing libepoxy (1.5.10-r0)\n(68/95) Installing wayland-libs-client (1.21.0-r1)\n(69/95) Installing wayland-libs-cursor (1.21.0-r1)\n(70/95) Installing wayland-libs-egl (1.21.0-r1)\n(71/95) Installing xkeyboard-config (2.37-r0)\n(72/95) Installing libxkbcommon (1.4.1-r0)\n(73/95) Installing gtk+3.0 (3.24.36-r0)\nExecuting gtk+3.0-3.24.36-r0.post-install\n(74/95) Installing sound-theme-freedesktop (0.8-r0)\n(75/95) Installing libltdl (2.4.7-r0)\n(76/95) Installing eudev-libs (3.2.11-r4)\n(77/95) Installing libogg (1.3.5-r2)\n(78/95) Installing libvorbis (1.3.7-r0)\n(79/95) Installing libcanberra (0.30-r9)\n(80/95) Installing libcanberra-gtk3 (0.30-r9)\n(81/95) Installing gdbm (1.23-r0)\n(82/95) Installing libstdc++ (12.2.1_git20220924-r4)\n(83/95) Installing mpdecimal (2.5.1-r1)\n(84/95) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(85/95) Installing ncurses-libs (6.3_p20221119-r0)\n(86/95) Installing readline (8.2.0-r0)\n(87/95) Installing sqlite-libs (3.40.1-r0)\n(88/95) Installing python3 (3.10.9-r1)\n(89/95) Installing gobject-introspection (1.74.0-r1)\n(90/95) Installing py3-gobject3 (3.42.2-r0)\n(91/95) Installing libgpg-error (1.46-r1)\n(92/95) Installing libgcrypt (1.10.1-r0)\n(93/95) Installing libxslt (1.1.37-r0)\n(94/95) Installing py3-lxml (4.9.2-r0)\n(95/95) Installing font-cantarell (0.303.1-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting fontconfig-2.14.1-r0.trigger\nExecuting glib-2.74.4-r0.trigger\nExecuting shared-mime-info-2.2-r2.trigger\nExecuting gdk-pixbuf-2.42.10-r0.trigger\nExecuting gtk-update-icon-cache-3.24.36-r0.trigger\nOK: 158 MiB in 110 packages\nRemoving intermediate container d1769c2acfa5\n ---> ed10bc86fb10\nStep 3/8 : FROM environment AS app\n ---> ed10bc86fb10\nStep 4/8 : EXPOSE 8085/tcp\n ---> Running in 841a236e651b\nRemoving intermediate container 841a236e651b\n ---> e597ec3419dd\nStep 5/8 : ENV NO_AT_BRIDGE=1 GTK_THEME=Adwaita:dark GDK_BACKEND=broadway BROADWAY_DISPLAY=:5\n ---> Running in b51620b7c0f9\nRemoving intermediate container b51620b7c0f9\n ---> a8f8ddd81fe6\nStep 6/8 : WORKDIR /opt/flow-dashboard\n ---> Running in 70ff9ce0d7fb\nRemoving intermediate container 70ff9ce0d7fb\n ---> e1e0fcb207c7\nStep 7/8 : COPY init.sh src/ src/\n ---> 5c3b630d21dc\nStep 8/8 : ENTRYPOINT [\"/bin/sh\", \"./src/init.sh\"]\n ---> Running in 5936bb03c2ef\nRemoving intermediate container 5936bb03c2ef\n ---> 43e8ffa5296f\nSuccessfully built 43e8ffa5296f\nSuccessfully tagged flow-dashboard:latest\n","stderr":"","imageSize":156275073},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":11,"columnStart":4,"columnEnd":10}}],"repairedDockerfile":"## Stage 1: Build environment\nFROM alpine AS environment\n\n# Install dependencies\nRUN apk add --no-cache python3 \\\n\tpy3-gobject3 \\\n\tpy3-lxml \\\n\tgtk+3.0 \\\n\tlibcanberra-gtk3 \\\n\tttf-cantarell \\\n\tadwaita-icon-theme \\\n\tfont-noto\n\n\n## Stage 2: Run app\nFROM environment AS app\n\n# Port where the broadway daemon listens on\nEXPOSE 8085/tcp\n\n# Configure environment\nENV NO_AT_BRIDGE=1 GTK_THEME=Adwaita:dark GDK_BACKEND=broadway BROADWAY_DISPLAY=:5\n\n# Set a directory for the app\nWORKDIR /opt/flow-dashboard\n\n# Copy necessary files to container\nCOPY init.sh src/ src/\n\n# Start the app\nENTRYPOINT [\"/bin/sh\", \"./src/init.sh\"]\n"},"repairedBuild":{"startTimestamp":1672550226510,"endTimestamp":1672550245576,"error":null,"stdout":"Sending build context to Docker daemon  4.108MB\r\r\nStep 1/8 : FROM alpine AS environment\n ---> 49176f190c7e\nStep 2/8 : RUN apk add --no-cache python3 \tpy3-gobject3 \tpy3-lxml \tgtk+3.0 \tlibcanberra-gtk3 \tttf-cantarell \tadwaita-icon-theme \tfont-noto\n ---> Running in 92cd381fbc1a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/95) Installing libxau (1.0.10-r0)\n(2/95) Installing libmd (1.0.4-r0)\n(3/95) Installing libbsd (0.11.7-r0)\n(4/95) Installing libxdmcp (1.1.4-r0)\n(5/95) Installing libxcb (1.15-r0)\n(6/95) Installing libx11 (1.8.3-r0)\n(7/95) Installing libxext (1.3.5-r0)\n(8/95) Installing libxrender (0.9.11-r0)\n(9/95) Installing libexpat (2.5.0-r0)\n(10/95) Installing brotli-libs (1.0.9-r9)\n(11/95) Installing libbz2 (1.0.8-r4)\n(12/95) Installing libpng (1.6.38-r0)\n(13/95) Installing freetype (2.12.1-r0)\n(14/95) Installing fontconfig (2.14.1-r0)\n(15/95) Installing pixman (0.42.2-r0)\n(16/95) Installing cairo (1.17.6-r3)\n(17/95) Installing libffi (3.4.4-r0)\n(18/95) Installing libintl (0.21.1-r1)\n(19/95) Installing libblkid (2.38.1-r0)\n(20/95) Installing libmount (2.38.1-r0)\n(21/95) Installing pcre2 (10.42-r0)\n(22/95) Installing glib (2.74.4-r0)\n(23/95) Installing cairo-gobject (1.17.6-r3)\n(24/95) Installing libgcc (12.2.1_git20220924-r4)\n(25/95) Installing pkgconf (1.9.3-r0)\n(26/95) Installing xz-libs (5.2.9-r0)\n(27/95) Installing libxml2 (2.10.3-r1)\n(28/95) Installing shared-mime-info (2.2-r2)\n(29/95) Installing libjpeg-turbo (2.1.4-r0)\n(30/95) Installing libwebp (1.2.4-r1)\n(31/95) Installing zstd-libs (1.5.2-r9)\n(32/95) Installing tiff (4.4.0-r1)\n(33/95) Installing gdk-pixbuf (2.42.10-r0)\n(34/95) Installing libxft (2.3.7-r0)\n(35/95) Installing fribidi (1.0.12-r0)\n(36/95) Installing graphite2 (1.3.14-r2)\n(37/95) Installing harfbuzz (5.3.1-r1)\n(38/95) Installing pango (1.50.12-r0)\n(39/95) Installing librsvg (2.55.1-r0)\n(40/95) Installing adwaita-icon-theme (43-r0)\n(41/95) Installing font-noto-common (0_git20211101-r6)\n(42/95) Installing font-noto-math (0_git20211101-r6)\n(43/95) Installing font-noto-symbols (0_git20211101-r6)\n(44/95) Installing font-noto (0_git20211101-r6)\n(45/95) Installing hicolor-icon-theme (0.17-r2)\n(46/95) Installing gtk-update-icon-cache (3.24.36-r0)\n(47/95) Installing libxcomposite (0.4.5-r1)\n(48/95) Installing libxfixes (6.0.0-r0)\n(49/95) Installing libxcursor (1.2.1-r1)\n(50/95) Installing libxdamage (1.1.5-r1)\n(51/95) Installing libxi (1.8-r0)\n(52/95) Installing libxinerama (1.1.5-r0)\n(53/95) Installing libxrandr (1.5.3-r0)\n(54/95) Installing libatk-1.0 (2.46.0-r0)\n(55/95) Installing libxtst (1.2.4-r0)\n(56/95) Installing dbus-libs (1.14.4-r0)\n(57/95) Installing at-spi2-core (2.46.0-r0)\n(58/95) Installing libatk-bridge-2.0 (2.46.0-r0)\n(59/95) Installing avahi-libs (0.8-r6)\n(60/95) Installing gmp (6.2.1-r2)\n(61/95) Installing nettle (3.8.1-r0)\n(62/95) Installing p11-kit (0.24.1-r1)\n(63/95) Installing libtasn1 (4.19.0-r0)\n(64/95) Installing libunistring (1.1-r0)\n(65/95) Installing gnutls (3.7.8-r2)\n(66/95) Installing cups-libs (2.4.2-r1)\n(67/95) Installing libepoxy (1.5.10-r0)\n(68/95) Installing wayland-libs-client (1.21.0-r1)\n(69/95) Installing wayland-libs-cursor (1.21.0-r1)\n(70/95) Installing wayland-libs-egl (1.21.0-r1)\n(71/95) Installing xkeyboard-config (2.37-r0)\n(72/95) Installing libxkbcommon (1.4.1-r0)\n(73/95) Installing gtk+3.0 (3.24.36-r0)\nExecuting gtk+3.0-3.24.36-r0.post-install\n(74/95) Installing sound-theme-freedesktop (0.8-r0)\n(75/95) Installing libltdl (2.4.7-r0)\n(76/95) Installing eudev-libs (3.2.11-r4)\n(77/95) Installing libogg (1.3.5-r2)\n(78/95) Installing libvorbis (1.3.7-r0)\n(79/95) Installing libcanberra (0.30-r9)\n(80/95) Installing libcanberra-gtk3 (0.30-r9)\n(81/95) Installing gdbm (1.23-r0)\n(82/95) Installing libstdc++ (12.2.1_git20220924-r4)\n(83/95) Installing mpdecimal (2.5.1-r1)\n(84/95) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(85/95) Installing ncurses-libs (6.3_p20221119-r0)\n(86/95) Installing readline (8.2.0-r0)\n(87/95) Installing sqlite-libs (3.40.1-r0)\n(88/95) Installing python3 (3.10.9-r1)\n(89/95) Installing gobject-introspection (1.74.0-r1)\n(90/95) Installing py3-gobject3 (3.42.2-r0)\n(91/95) Installing libgpg-error (1.46-r1)\n(92/95) Installing libgcrypt (1.10.1-r0)\n(93/95) Installing libxslt (1.1.37-r0)\n(94/95) Installing py3-lxml (4.9.2-r0)\n(95/95) Installing font-cantarell (0.303.1-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting fontconfig-2.14.1-r0.trigger\nExecuting glib-2.74.4-r0.trigger\nExecuting shared-mime-info-2.2-r2.trigger\nExecuting gdk-pixbuf-2.42.10-r0.trigger\nExecuting gtk-update-icon-cache-3.24.36-r0.trigger\nOK: 158 MiB in 110 packages\nRemoving intermediate container 92cd381fbc1a\n ---> 23d74363ae77\nStep 3/8 : FROM environment AS app\n ---> 23d74363ae77\nStep 4/8 : EXPOSE 8085/tcp\n ---> Running in a9d415abcb8b\nRemoving intermediate container a9d415abcb8b\n ---> a37732fe15fb\nStep 5/8 : ENV NO_AT_BRIDGE=1 GTK_THEME=Adwaita:dark GDK_BACKEND=broadway BROADWAY_DISPLAY=:5\n ---> Running in 33b981cf9a0c\nRemoving intermediate container 33b981cf9a0c\n ---> 5f714fa9fc8d\nStep 6/8 : WORKDIR /opt/flow-dashboard\n ---> Running in e93b674660f4\nRemoving intermediate container e93b674660f4\n ---> 44af7380c6d8\nStep 7/8 : COPY init.sh src/ src/\n ---> 330158732b78\nStep 8/8 : ENTRYPOINT [\"/bin/sh\", \"./src/init.sh\"]\n ---> Running in 0fc4f5b67985\nRemoving intermediate container 0fc4f5b67985\n ---> 018c188555bb\nSuccessfully built 018c188555bb\nSuccessfully tagged flow-dashboard:latest\n","stderr":"","imageSize":153692477},"endTime":1672550245965}