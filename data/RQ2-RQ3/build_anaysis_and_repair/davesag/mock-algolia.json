{"repository":"https://github.com/davesag/mock-algolia","dockerfilePath":"Dockerfile","startTime":1672281053989,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/davesag/mock-algolia'...\n","error":null,"commit":"3e0de0343ea1a0e1646822c537d78a08a8a31a28"},"originalBuild":{"startTimestamp":1672281054861,"endTimestamp":1672281127063,"error":null,"stdout":"Sending build context to Docker daemon  875.5kB\r\r\nStep 1/13 : FROM node:18-buster\n18-buster: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\nd205dc8889e3: Pulling fs layer\na1f360148b18: Pulling fs layer\nc9f2ae0ccdcb: Pulling fs layer\nc9f2ae0ccdcb: Verifying Checksum\nc9f2ae0ccdcb: Download complete\nd205dc8889e3: Verifying Checksum\nd205dc8889e3: Download complete\na1f360148b18: Verifying Checksum\na1f360148b18: Download complete\nd205dc8889e3: Pull complete\na1f360148b18: Pull complete\nc9f2ae0ccdcb: Pull complete\nDigest: sha256:1f0a8fd387451630d24724c967c83e1653fc3c97265ed05580e589fbe02058d4\nStatus: Downloaded newer image for node:18-buster\n ---> 5cb49468341c\nStep 2/13 : LABEL maintainer=\"davesag@gmail.com\"\n ---> Running in 726c8e12a722\nRemoving intermediate container 726c8e12a722\n ---> fc6253c5acb8\nStep 3/13 : EXPOSE 3000\n ---> Running in e95057170c29\nRemoving intermediate container e95057170c29\n ---> d2bc75e10487\nStep 4/13 : RUN mkdir /app && chown -R node:node /app\n ---> Running in ed9e0a1bc27b\nRemoving intermediate container ed9e0a1bc27b\n ---> 7b6e1c168fd4\nStep 5/13 : WORKDIR /app\n ---> Running in 457433a3cc38\nRemoving intermediate container 457433a3cc38\n ---> a473af96baa3\nStep 6/13 : COPY --chown=node:node api.yml package.json package-lock.json index.js ./\n ---> c69a9877bca1\nStep 7/13 : COPY --chown=node:node src/ ./src/\n ---> 8359931f5bbb\nStep 8/13 : ENV NODE_PATH .\n ---> Running in f671a02b3c5f\nRemoving intermediate container f671a02b3c5f\n ---> febc062ddafe\nStep 9/13 : ENV NODE_ENV production\n ---> Running in fc8f2726e8e4\nRemoving intermediate container fc8f2726e8e4\n ---> e5dfa70aef0f\nStep 10/13 : ENV HUSKY_SKIP_INSTALL true\n ---> Running in dd846318ba66\nRemoving intermediate container dd846318ba66\n ---> 11a38f4fdef6\nStep 11/13 : USER node\n ---> Running in e06d11b5d17d\nRemoving intermediate container e06d11b5d17d\n ---> 6e6137ef1096\nStep 12/13 : RUN npm install --production\n ---> Running in 8f680445b519\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 84 packages, and audited 85 packages in 2s\n\n11 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 8f680445b519\n ---> 842e7bfcb439\nStep 13/13 : ENTRYPOINT [\"node\", \"index.js\"]\n ---> Running in ba7460d38b3c\nRemoving intermediate container ba7460d38b3c\n ---> 59d9598cacf4\nSuccessfully built 59d9598cacf4\nSuccessfully tagged mock-algolia:latest\n","stderr":"","imageSize":979082559},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:18-buster\nLABEL maintainer=\"davesag@gmail.com\"\nEXPOSE 3000\n\nRUN mkdir /app && chown -R node:node /app\nWORKDIR /app\n\nCOPY --chown=node:node api.yml package.json package-lock.json index.js ./\nCOPY --chown=node:node src/ ./src/\n\nENV NODE_PATH .\nENV NODE_ENV production\nENV HUSKY_SKIP_INSTALL true\n\nUSER node\n\nRUN npm install --production\n\nENTRYPOINT [\"node\", \"index.js\"]\n"},"repairedBuild":{"startTimestamp":1672281128063,"endTimestamp":1672281153225,"error":null,"stdout":"Sending build context to Docker daemon  875.5kB\r\r\nStep 1/13 : FROM node:18-buster\n ---> 5cb49468341c\nStep 2/13 : LABEL maintainer=\"davesag@gmail.com\"\n ---> Running in a7b80cdb357c\nRemoving intermediate container a7b80cdb357c\n ---> 03ae692ee18b\nStep 3/13 : EXPOSE 3000\n ---> Running in 02d43a9bcb41\nRemoving intermediate container 02d43a9bcb41\n ---> 4cb135b77d9c\nStep 4/13 : RUN mkdir /app && chown -R node:node /app\n ---> Running in 8c151444a64a\nRemoving intermediate container 8c151444a64a\n ---> 013bee9ebb49\nStep 5/13 : WORKDIR /app\n ---> Running in a4d6bd246ca2\nRemoving intermediate container a4d6bd246ca2\n ---> a88de55f6ab4\nStep 6/13 : COPY --chown=node:node api.yml package.json package-lock.json index.js ./\n ---> 6496eb406e84\nStep 7/13 : COPY --chown=node:node src/ ./src/\n ---> 54b94970cdaa\nStep 8/13 : ENV NODE_PATH .\n ---> Running in a5913601b701\nRemoving intermediate container a5913601b701\n ---> 4f5b48074f64\nStep 9/13 : ENV NODE_ENV production\n ---> Running in 499f83fb303a\nRemoving intermediate container 499f83fb303a\n ---> 1b1ce90bba85\nStep 10/13 : ENV HUSKY_SKIP_INSTALL true\n ---> Running in 76e7800dfde7\nRemoving intermediate container 76e7800dfde7\n ---> 0a8996655ac2\nStep 11/13 : USER node\n ---> Running in 49fabd3c1281\nRemoving intermediate container 49fabd3c1281\n ---> 3601973b2d36\nStep 12/13 : RUN npm install --production\n ---> Running in 029bf79f0779\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 84 packages, and audited 85 packages in 1s\n\n11 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 029bf79f0779\n ---> e018a093d013\nStep 13/13 : ENTRYPOINT [\"node\", \"index.js\"]\n ---> Running in d0fe93a98a8e\nRemoving intermediate container d0fe93a98a8e\n ---> 1413e80a1128\nSuccessfully built 1413e80a1128\nSuccessfully tagged mock-algolia:latest\n","stderr":"","imageSize":979082546},"endTime":1672281153541}