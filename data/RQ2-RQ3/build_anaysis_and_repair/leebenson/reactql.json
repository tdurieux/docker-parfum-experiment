{"repository":"https://github.com/leebenson/reactql","dockerfilePath":"Dockerfile","startTime":1672270039838,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/leebenson/reactql'...\n","error":null,"commit":"fe3ec455e93f29c7673a9e537b8025137fd9c87a"},"originalBuild":{"startTimestamp":1672270040744,"endTimestamp":1672270214290,"error":null,"stdout":"Sending build context to Docker daemon  600.6kB\r\r\nStep 1/12 : FROM node:12.2.0-alpine AS builder\n12.2.0-alpine: Pulling from library/node\ne7c96db7181b: Already exists\na9b145f64bbe: Pulling fs layer\n3bcb5e14be53: Pulling fs layer\n3bcb5e14be53: Verifying Checksum\n3bcb5e14be53: Download complete\na9b145f64bbe: Verifying Checksum\na9b145f64bbe: Download complete\na9b145f64bbe: Pull complete\n3bcb5e14be53: Pull complete\nDigest: sha256:2ab3d9a1bac67c9b4202b774664adaa94d2f1e426d8d28e07bf8979df61c8694\nStatus: Downloaded newer image for node:12.2.0-alpine\n ---> f391dabf9dce\nStep 2/12 : ENV NPM_CONFIG_LOGLEVEL notice\n ---> Running in b0710e90b221\nRemoving intermediate container b0710e90b221\n ---> af2d3279c83f\nStep 3/12 : RUN apk add --no-cache python2 make g++\n ---> Running in 07500ba7f567\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/24) Upgrading musl (1.1.20-r4 -> 1.1.20-r6)\n(2/24) Installing binutils (2.31.1-r2)\n(3/24) Installing gmp (6.1.2-r1)\n(4/24) Installing isl (0.18-r0)\n(5/24) Installing libgomp (8.3.0-r0)\n(6/24) Installing libatomic (8.3.0-r0)\n(7/24) Installing mpfr3 (3.1.5-r1)\n(8/24) Installing mpc1 (1.0.3-r1)\n(9/24) Installing gcc (8.3.0-r0)\n(10/24) Installing musl-dev (1.1.20-r6)\n(11/24) Installing libc-dev (0.7.1-r0)\n(12/24) Installing g++ (8.3.0-r0)\n(13/24) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r6)\n(14/24) Installing make (4.2.1-r2)\n(15/24) Installing libbz2 (1.0.6-r7)\n(16/24) Installing expat (2.2.8-r0)\n(17/24) Installing libffi (3.2.1-r6)\n(18/24) Installing gdbm (1.13-r1)\n(19/24) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(20/24) Installing ncurses-terminfo (6.1_p20190105-r0)\n(21/24) Installing ncurses-libs (6.1_p20190105-r0)\n(22/24) Installing readline (7.0.003-r1)\n(23/24) Installing sqlite-libs (3.28.0-r3)\n(24/24) Installing python2 (2.7.18-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 206 MiB in 38 packages\nRemoving intermediate container 07500ba7f567\n ---> 4e38b0c601b9\nStep 4/12 : WORKDIR /build\n ---> Running in 3f165530efc5\nRemoving intermediate container 3f165530efc5\n ---> 918fa498f81b\nStep 5/12 : ADD package*.json ./\n ---> 21b1ea45af08\nStep 6/12 : RUN npm i\n ---> Running in 53e812b00f21\n\n> iltorb@2.4.1 install /build/node_modules/iltorb\n> node ./scripts/install.js || node-gyp rebuild\n\n\u001b[91minfo\u001b[0m\u001b[91m looking for cached prebuild @ /root/.npm/_prebuilds/85bda1-iltorb-v2.4.1-node-v72-linuxmusl-x64.tar.gz\n\u001b[0m\u001b[91mhttp request GET https://github.com/MayhemYDG/iltorb/releases/download/v2.4.1/iltorb-v2.4.1-node-v72-linuxmusl-x64.tar.gz\n\u001b[0m\u001b[91mhttp 404 https://github.com/MayhemYDG/iltorb/releases/download/v2.4.1/iltorb-v2.4.1-node-v72-linuxmusl-x64.tar.gz\n\u001b[0m\u001b[91mWARN install No prebuilt binaries found (target=12.2.0 runtime=node arch=x64 platform=linux)\n\u001b[0mmake: Entering directory '/build/node_modules/iltorb/build'\n  CC(target) Release/obj.target/iltorb/brotli/c/common/dictionary.o\n  CC(target) Release/obj.target/iltorb/brotli/c/common/transform.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/bit_reader.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/decode.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/huffman.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/state.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/backward_references.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/backward_references_hq.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/bit_cost.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/block_splitter.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/brotli_bit_stream.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/cluster.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/compress_fragment.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/compress_fragment_two_pass.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/dictionary_hash.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/encode.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/encoder_dict.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/entropy_encode.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/histogram.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/literal_cost.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/memory.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/metablock.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/static_dict.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/utf8_util.o\n  CXX(target) Release/obj.target/iltorb/src/common/allocator.o\n  CXX(target) Release/obj.target/iltorb/src/common/stream_coder.o\n  CXX(target) Release/obj.target/iltorb/src/dec/stream_decode.o\n  CXX(target) Release/obj.target/iltorb/src/dec/stream_decode_tasks.o\n  CXX(target) Release/obj.target/iltorb/src/enc/stream_encode.o\n  CXX(target) Release/obj.target/iltorb/src/enc/stream_encode_tasks.o\n  CXX(target) Release/obj.target/iltorb/src/iltorb.o\n  SOLINK_MODULE(target) Release/obj.target/iltorb.node\n  COPY Release/iltorb.node\n  COPY ../build/bindings/iltorb.node\n  TOUCH Release/obj.target/action_after_build.stamp\nmake: Leaving directory '/build/node_modules/iltorb/build'\n\n> bufferutil@4.0.1 install /build/node_modules/bufferutil\n> node-gyp-build\n\n\n> husky@2.2.0 install /build/node_modules/husky\n> node husky install\n\nhusky > Setting up git hooks\nCan't find .git, skipping Git hooks installation.\nPlease check that you're in a cloned repository or run 'git init' to create an empty Git repository and reinstall husky.\n\n> node-sass@4.12.0 install /build/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/linux_musl-x64-72_binding.node\nDownload complete\nBinary saved to /build/node_modules/node-sass/vendor/linux_musl-x64-72/binding.node\nCaching binary to /root/.npm/node-sass/4.12.0/linux_musl-x64-72_binding.node\n\n> utf-8-validate@5.0.2 install /build/node_modules/utf-8-validate\n> node-gyp-build\n\n\n> node-sass@4.12.0 postinstall /build/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /build/node_modules/node-sass/vendor/linux_musl-x64-72/binding.node\nTesting binary\nBinary is fine\n\u001b[91mnpm WARN reactql@4.5.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/watchpack/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.0.6 (node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.0.6: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1356 packages from 862 contributors and audited 1436 packages in 50.462s\nfound 256 vulnerabilities (10 low, 71 moderate, 122 high, 53 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 53e812b00f21\n ---> b62ee4e97346\nStep 7/12 : ADD . .\n ---> 9dd4f9e1edec\nStep 8/12 : RUN npm run build:production\n ---> Running in 5b17123c44a5\n\n> reactql@4.5.0 build:production /build\n> cross-env RUNNER=build NODE_ENV=production ts-node index.ts\n\n\u001b[91mℹ Build mode\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0m\u001b[91m✔ Finished building\n\u001b[0mRemoving intermediate container 5b17123c44a5\n ---> adc81e792308\nStep 9/12 : FROM node:12.2.0-alpine\n ---> f391dabf9dce\nStep 10/12 : WORKDIR /app\n ---> Running in 17d8c26e418b\nRemoving intermediate container 17d8c26e418b\n ---> 0b6a19069435\nStep 11/12 : COPY --from=builder /build .\n ---> 4dc9fd41ed99\nStep 12/12 : CMD npm run production\n ---> Running in 0677d9946da6\nRemoving intermediate container 0677d9946da6\n ---> 4bd494baa789\nSuccessfully built 4bd494baa789\nSuccessfully tagged reactql:latest\n","stderr":"","imageSize":279492059},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":9}}],"repairedDockerfile":"FROM node:12.2.0-alpine AS builder\n\n# log most things\nENV NPM_CONFIG_LOGLEVEL notice\n\n# OS packages for compilation\nRUN apk add --no-cache python2 make g++\n\n# install NPM packages\nWORKDIR /build\nADD package*.json ./\nRUN npm i\n\n# add source\nADD . .\n\n# build\nRUN npm run build:production\n\n########################\n\nFROM node:12.2.0-alpine\nWORKDIR /app\n\n# copy source + compiled `node_modules` \nCOPY --from=builder /build .\n\n# by default, run in production mode\nCMD npm run production"},"repairedBuild":{"startTimestamp":1672270215942,"endTimestamp":1672270368033,"error":null,"stdout":"Sending build context to Docker daemon  600.6kB\r\r\nStep 1/12 : FROM node:12.2.0-alpine AS builder\n ---> f391dabf9dce\nStep 2/12 : ENV NPM_CONFIG_LOGLEVEL notice\n ---> Running in d013abd6c3b0\nRemoving intermediate container d013abd6c3b0\n ---> c6b4f4afd568\nStep 3/12 : RUN apk add --no-cache python2 make g++\n ---> Running in d29e562959c4\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/24) Upgrading musl (1.1.20-r4 -> 1.1.20-r6)\n(2/24) Installing binutils (2.31.1-r2)\n(3/24) Installing gmp (6.1.2-r1)\n(4/24) Installing isl (0.18-r0)\n(5/24) Installing libgomp (8.3.0-r0)\n(6/24) Installing libatomic (8.3.0-r0)\n(7/24) Installing mpfr3 (3.1.5-r1)\n(8/24) Installing mpc1 (1.0.3-r1)\n(9/24) Installing gcc (8.3.0-r0)\n(10/24) Installing musl-dev (1.1.20-r6)\n(11/24) Installing libc-dev (0.7.1-r0)\n(12/24) Installing g++ (8.3.0-r0)\n(13/24) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r6)\n(14/24) Installing make (4.2.1-r2)\n(15/24) Installing libbz2 (1.0.6-r7)\n(16/24) Installing expat (2.2.8-r0)\n(17/24) Installing libffi (3.2.1-r6)\n(18/24) Installing gdbm (1.13-r1)\n(19/24) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(20/24) Installing ncurses-terminfo (6.1_p20190105-r0)\n(21/24) Installing ncurses-libs (6.1_p20190105-r0)\n(22/24) Installing readline (7.0.003-r1)\n(23/24) Installing sqlite-libs (3.28.0-r3)\n(24/24) Installing python2 (2.7.18-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 206 MiB in 38 packages\nRemoving intermediate container d29e562959c4\n ---> 90e96b0c3dcb\nStep 4/12 : WORKDIR /build\n ---> Running in 4dfe59a20540\nRemoving intermediate container 4dfe59a20540\n ---> 255c204d1dde\nStep 5/12 : ADD package*.json ./\n ---> 5eb1512819ef\nStep 6/12 : RUN npm i\n ---> Running in 5e1baf2287ce\n\n> iltorb@2.4.1 install /build/node_modules/iltorb\n> node ./scripts/install.js || node-gyp rebuild\n\n\u001b[91minfo\u001b[0m\u001b[91m looking for cached prebuild @ /root/.npm/_prebuilds/85bda1-iltorb-v2.4.1-node-v72-linuxmusl-x64.tar.gz\n\u001b[0m\u001b[91mhttp request GET https://github.com/MayhemYDG/iltorb/releases/download/v2.4.1/iltorb-v2.4.1-node-v72-linuxmusl-x64.tar.gz\n\u001b[0m\u001b[91mhttp 404\u001b[0m\u001b[91m https://github.com/MayhemYDG/iltorb/releases/download/v2.4.1/iltorb-v2.4.1-node-v72-linuxmusl-x64.tar.gz\n\u001b[0m\u001b[91mWARN install No prebuilt binaries found (target=12.2.0 runtime=node arch=x64 platform=linux)\n\u001b[0mmake: Entering directory '/build/node_modules/iltorb/build'\n  CC(target) Release/obj.target/iltorb/brotli/c/common/dictionary.o\n  CC(target) Release/obj.target/iltorb/brotli/c/common/transform.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/bit_reader.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/decode.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/huffman.o\n  CC(target) Release/obj.target/iltorb/brotli/c/dec/state.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/backward_references.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/backward_references_hq.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/bit_cost.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/block_splitter.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/brotli_bit_stream.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/cluster.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/compress_fragment.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/compress_fragment_two_pass.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/dictionary_hash.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/encode.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/encoder_dict.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/entropy_encode.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/histogram.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/literal_cost.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/memory.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/metablock.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/static_dict.o\n  CC(target) Release/obj.target/iltorb/brotli/c/enc/utf8_util.o\n  CXX(target) Release/obj.target/iltorb/src/common/allocator.o\n  CXX(target) Release/obj.target/iltorb/src/common/stream_coder.o\n  CXX(target) Release/obj.target/iltorb/src/dec/stream_decode.o\n  CXX(target) Release/obj.target/iltorb/src/dec/stream_decode_tasks.o\n  CXX(target) Release/obj.target/iltorb/src/enc/stream_encode.o\n  CXX(target) Release/obj.target/iltorb/src/enc/stream_encode_tasks.o\n  CXX(target) Release/obj.target/iltorb/src/iltorb.o\n  SOLINK_MODULE(target) Release/obj.target/iltorb.node\n  COPY Release/iltorb.node\n  COPY ../build/bindings/iltorb.node\n  TOUCH Release/obj.target/action_after_build.stamp\nmake: Leaving directory '/build/node_modules/iltorb/build'\n\n> bufferutil@4.0.1 install /build/node_modules/bufferutil\n> node-gyp-build\n\n\n> husky@2.2.0 install /build/node_modules/husky\n> node husky install\n\nhusky > Setting up git hooks\nCan't find .git, skipping Git hooks installation.\nPlease check that you're in a cloned repository or run 'git init' to create an empty Git repository and reinstall husky.\n\n> node-sass@4.12.0 install /build/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/linux_musl-x64-72_binding.node\nDownload complete\nBinary saved to /build/node_modules/node-sass/vendor/linux_musl-x64-72/binding.node\nCaching binary to /root/.npm/node-sass/4.12.0/linux_musl-x64-72_binding.node\n\n> utf-8-validate@5.0.2 install /build/node_modules/utf-8-validate\n> node-gyp-build\n\n\n> node-sass@4.12.0 postinstall /build/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /build/node_modules/node-sass/vendor/linux_musl-x64-72/binding.node\nTesting binary\nBinary is fine\n\u001b[91mnpm WARN reactql@4.5.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/watchpack/node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.0.6 (node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.0.6: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1356 packages from 862 contributors and audited 1436 packages in 40.339s\nfound 256 vulnerabilities (10 low, 71 moderate, 122 high, 53 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 5e1baf2287ce\n ---> e6acc6f4da60\nStep 7/12 : ADD . .\n ---> 3262b40d2491\nStep 8/12 : RUN npm run build:production\n ---> Running in 6637ec660c07\n\n> reactql@4.5.0 build:production /build\n> cross-env RUNNER=build NODE_ENV=production ts-node index.ts\n\n\u001b[91mℹ Build mode\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0m\u001b[91m✔ Finished building\n\u001b[0mRemoving intermediate container 6637ec660c07\n ---> 822d7654414c\nStep 9/12 : FROM node:12.2.0-alpine\n ---> f391dabf9dce\nStep 10/12 : WORKDIR /app\n ---> Running in 0ab2f87e79af\nRemoving intermediate container 0ab2f87e79af\n ---> a48a55ea6338\nStep 11/12 : COPY --from=builder /build .\n ---> 7b61c4d87335\nStep 12/12 : CMD npm run production\n ---> Running in 44a38252b287\nRemoving intermediate container 44a38252b287\n ---> c44e704d0ba5\nSuccessfully built c44e704d0ba5\nSuccessfully tagged reactql:latest\n","stderr":"","imageSize":279491741},"endTime":1672270369497}