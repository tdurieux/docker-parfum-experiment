{"repository":"https://github.com/martinohmann/rfoutlet","dockerfilePath":"Dockerfile","startTime":1672824110453,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/martinohmann/rfoutlet'...\n","error":null,"commit":"8a66aa411105ab25f450b0ea52d706c0e22ff718"},"originalBuild":{"startTimestamp":1672824111469,"endTimestamp":1672824293054,"error":null,"stdout":"Sending build context to Docker daemon  2.956MB\r\r\nStep 1/23 : FROM node:15.2.0-alpine3.10 as node-builder\n15.2.0-alpine3.10: Pulling from library/node\n21c83c524219: Already exists\n99d18f511752: Pulling fs layer\nb5420812b5e8: Pulling fs layer\n1f22bc192998: Pulling fs layer\n1f22bc192998: Verifying Checksum\n1f22bc192998: Download complete\nb5420812b5e8: Verifying Checksum\nb5420812b5e8: Download complete\n99d18f511752: Download complete\n99d18f511752: Pull complete\nb5420812b5e8: Pull complete\n1f22bc192998: Pull complete\nDigest: sha256:75ee920f0d1e403e658a4c615c700247b746355a2675797dd047a9705d796f56\nStatus: Downloaded newer image for node:15.2.0-alpine3.10\n ---> ae80f1e78773\nStep 2/23 : ADD web/ /web\n ---> 6c3a041437fe\nStep 3/23 : WORKDIR /web\n ---> Running in 1ad3c3ac78aa\nRemoving intermediate container 1ad3c3ac78aa\n ---> 3c295199214a\nStep 4/23 : RUN npm install &&     npm run build\n ---> Running in afbdfddb3baa\n\nadded 2064 packages, and audited 2064 packages in 35s\n\n53 vulnerabilities (1 low, 9 moderate, 28 high, 15 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.0.8 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\n> rfoutlet@0.1.0 build\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  162.78 KB  build/static/js/2.21456ace.chunk.js\n  6.44 KB    build/static/js/main.2b35e448.chunk.js\n  776 B      build/static/js/runtime-main.0fc4ba58.js\n  116 B      build/static/css/main.3f9ef032.chunk.css\n\nThe project was built assuming it is hosted at /app/.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 7.0.8 -> 9.2.0\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container afbdfddb3baa\n ---> 20a197e13e29\nStep 5/23 : FROM golang:1.15.5-alpine3.12 as golang-builder\n1.15.5-alpine3.12: Pulling from library/golang\n188c0c94c7c5: Pulling fs layer\n0ef7d3d256c8: Pulling fs layer\nde9db76c5a1d: Pulling fs layer\nbca2f99d35d6: Pulling fs layer\n93359f2a8cfa: Pulling fs layer\nbca2f99d35d6: Waiting\n93359f2a8cfa: Waiting\n188c0c94c7c5: Verifying Checksum\n188c0c94c7c5: Download complete\nde9db76c5a1d: Verifying Checksum\nde9db76c5a1d: Download complete\n188c0c94c7c5: Pull complete\n93359f2a8cfa: Verifying Checksum\n93359f2a8cfa: Download complete\n0ef7d3d256c8: Download complete\n0ef7d3d256c8: Pull complete\nde9db76c5a1d: Pull complete\nbca2f99d35d6: Verifying Checksum\nbca2f99d35d6: Download complete\nbca2f99d35d6: Pull complete\n93359f2a8cfa: Pull complete\nDigest: sha256:072f74098dd1e4e8e1c05102aa2571c1f5a4c307f3b9cdc9e0ed9f6ed5b37ef6\nStatus: Downloaded newer image for golang:1.15.5-alpine3.12\n ---> 1de1afaeaa9a\nStep 6/23 : WORKDIR /go/src/github.com/martinohmann/rfoutlet\n ---> Running in c4573eac3bff\nRemoving intermediate container c4573eac3bff\n ---> 934c45e602bf\nStep 7/23 : RUN apk --no-cache add git make\n ---> Running in 1da1cf30105c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.41.0-r0)\n(2/6) Installing libcurl (7.79.1-r1)\n(3/6) Installing expat (2.2.10-r4)\n(4/6) Installing pcre2 (10.35-r0)\n(5/6) Installing git (2.26.3-r1)\n(6/6) Installing make (4.3-r0)\nExecuting busybox-1.31.1-r19.trigger\nOK: 22 MiB in 21 packages\nRemoving intermediate container 1da1cf30105c\n ---> 697b1d035417\nStep 8/23 : ADD go.mod .\n ---> b401d144bc2c\nStep 9/23 : ADD go.sum .\n ---> f37e629d2379\nStep 10/23 : ADD Makefile .\n ---> a0104cf81cde\nStep 11/23 : RUN make deps\n ---> Running in 22e4228693d5\ngo mod download\ngo get github.com/gobuffalo/packr/packr@v1.30.1\n\u001b[91mgo: found github.com/gobuffalo/packr/packr in github.com/gobuffalo/packr v1.30.1\n\u001b[0mRemoving intermediate container 22e4228693d5\n ---> cc1154df4840\nStep 12/23 : ARG GOARCH\n ---> Running in 2bb0b7356cf8\nRemoving intermediate container 2bb0b7356cf8\n ---> 61d0d13ed597\nStep 13/23 : ARG GOARM\n ---> Running in 9cbf2e59ed6e\nRemoving intermediate container 9cbf2e59ed6e\n ---> b725654ed59a\nStep 14/23 : COPY --from=node-builder /web/build web/build\n ---> 352abf86d780\nStep 15/23 : ADD cmd/ cmd/\n ---> f9d698dd2687\nStep 16/23 : ADD internal/ internal/\n ---> 845fdea751fd\nStep 17/23 : ADD pkg/ pkg/\n ---> 9cc47d141dd1\nStep 18/23 : ADD main.go main.go\n ---> b16fba87cfbf\nStep 19/23 : RUN CGO_ENABLED=0 GOOS=linux make pack-app build\n ---> Running in e9642bb667d0\npackr\ngo build -ldflags=\"-s -w\" -o rfoutlet main.go\nRemoving intermediate container e9642bb667d0\n ---> efc269883bbb\nStep 20/23 : FROM scratch\n ---> \nStep 21/23 : COPY --from=golang-builder /go/src/github.com/martinohmann/rfoutlet/rfoutlet /rfoutlet\n ---> e1bb9e81bbc5\nStep 22/23 : ENTRYPOINT [\"/rfoutlet\"]\n ---> Running in 53ee6bb17923\nRemoving intermediate container 53ee6bb17923\n ---> aacd49e34d8c\nStep 23/23 : CMD [\"serve\"]\n ---> Running in 92b0ea9455de\nRemoving intermediate container 92b0ea9455de\n ---> 6c9bf23d1c74\nSuccessfully built 6c9bf23d1c74\nSuccessfully tagged rfoutlet:latest\n","stderr":"","imageSize":15937536},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:15.2.0-alpine3.10 as node-builder\n\nADD web/ /web\n\nWORKDIR /web\n\nRUN npm install && \\\n    npm run build\n\nFROM golang:1.15.5-alpine3.12 as golang-builder\n\nWORKDIR /go/src/github.com/martinohmann/rfoutlet\n\nRUN apk --no-cache add git make\n\nADD go.mod .\nADD go.sum .\nADD Makefile .\n\nRUN make deps\n\nARG GOARCH\nARG GOARM\n\nCOPY --from=node-builder /web/build web/build\n\nADD cmd/ cmd/\nADD internal/ internal/\nADD pkg/ pkg/\nADD main.go main.go\n\nRUN CGO_ENABLED=0 GOOS=linux make pack-app build\n\nFROM scratch\n\nCOPY --from=golang-builder /go/src/github.com/martinohmann/rfoutlet/rfoutlet /rfoutlet\n\nENTRYPOINT [\"/rfoutlet\"]\nCMD [\"serve\"]\n"},"repairedBuild":{"startTimestamp":1672824293366,"endTimestamp":1672824423172,"error":null,"stdout":"Sending build context to Docker daemon  2.956MB\r\r\nStep 1/23 : FROM node:15.2.0-alpine3.10 as node-builder\n ---> ae80f1e78773\nStep 2/23 : ADD web/ /web\n ---> a6fea8393984\nStep 3/23 : WORKDIR /web\n ---> Running in c8194ec2e91d\nRemoving intermediate container c8194ec2e91d\n ---> faeffc78705d\nStep 4/23 : RUN npm install &&     npm run build\n ---> Running in 9da92e9d2fa4\n\nadded 2064 packages, and audited 2064 packages in 34s\n\n53 vulnerabilities (1 low, 9 moderate, 28 high, 15 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.0.8 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n> rfoutlet@0.1.0 build\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  162.78 KB  build/static/js/2.21456ace.chunk.js\n  6.44 KB    build/static/js/main.2b35e448.chunk.js\n  776 B      build/static/js/runtime-main.0fc4ba58.js\n  116 B      build/static/css/main.3f9ef032.chunk.css\n\nThe project was built assuming it is hosted at /app/.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 7.0.8 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 9da92e9d2fa4\n ---> ef6977d14f05\nStep 5/23 : FROM golang:1.15.5-alpine3.12 as golang-builder\n ---> 1de1afaeaa9a\nStep 6/23 : WORKDIR /go/src/github.com/martinohmann/rfoutlet\n ---> Running in 1a91de397afd\nRemoving intermediate container 1a91de397afd\n ---> 5ae01284b776\nStep 7/23 : RUN apk --no-cache add git make\n ---> Running in 12da3b8ff443\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.41.0-r0)\n(2/6) Installing libcurl (7.79.1-r1)\n(3/6) Installing expat (2.2.10-r4)\n(4/6) Installing pcre2 (10.35-r0)\n(5/6) Installing git (2.26.3-r1)\n(6/6) Installing make (4.3-r0)\nExecuting busybox-1.31.1-r19.trigger\nOK: 22 MiB in 21 packages\nRemoving intermediate container 12da3b8ff443\n ---> c44661652f0c\nStep 8/23 : ADD go.mod .\n ---> e3ab17653eff\nStep 9/23 : ADD go.sum .\n ---> c50e94ee10f5\nStep 10/23 : ADD Makefile .\n ---> c0a598ea2ab2\nStep 11/23 : RUN make deps\n ---> Running in 05b91688268e\ngo mod download\ngo get github.com/gobuffalo/packr/packr@v1.30.1\n\u001b[91mgo: found github.com/gobuffalo/packr/packr in github.com/gobuffalo/packr v1.30.1\n\u001b[0mRemoving intermediate container 05b91688268e\n ---> b5182792835e\nStep 12/23 : ARG GOARCH\n ---> Running in a14542ee82b0\nRemoving intermediate container a14542ee82b0\n ---> 29b227cc5be9\nStep 13/23 : ARG GOARM\n ---> Running in de287f98f6ce\nRemoving intermediate container de287f98f6ce\n ---> 715631f9f1fb\nStep 14/23 : COPY --from=node-builder /web/build web/build\n ---> d515547865d0\nStep 15/23 : ADD cmd/ cmd/\n ---> ac1f4d8dcaea\nStep 16/23 : ADD internal/ internal/\n ---> 41ea5b70f9c3\nStep 17/23 : ADD pkg/ pkg/\n ---> 44669c11fd96\nStep 18/23 : ADD main.go main.go\n ---> c589b8901b9e\nStep 19/23 : RUN CGO_ENABLED=0 GOOS=linux make pack-app build\n ---> Running in b2652e3af9d8\npackr\ngo build -ldflags=\"-s -w\" -o rfoutlet main.go\nRemoving intermediate container b2652e3af9d8\n ---> 389829a3fc2b\nStep 20/23 : FROM scratch\n ---> \nStep 21/23 : COPY --from=golang-builder /go/src/github.com/martinohmann/rfoutlet/rfoutlet /rfoutlet\n ---> a8608b1e6e09\nStep 22/23 : ENTRYPOINT [\"/rfoutlet\"]\n ---> Running in 4e733c762178\nRemoving intermediate container 4e733c762178\n ---> dc4f37678d42\nStep 23/23 : CMD [\"serve\"]\n ---> Running in 818b3e55c5d3\nRemoving intermediate container 818b3e55c5d3\n ---> d99e14727e86\nSuccessfully built d99e14727e86\nSuccessfully tagged rfoutlet:latest\n","stderr":"","imageSize":15937536},"endTime":1672824423401}