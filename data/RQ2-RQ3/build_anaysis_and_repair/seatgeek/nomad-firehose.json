{"repository":"https://github.com/seatgeek/nomad-firehose","dockerfilePath":"Dockerfile","startTime":1672807830731,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/seatgeek/nomad-firehose'...\n","error":null,"commit":"25247fbddb97b418a3fe77aeef5cf5a638b917b9"},"originalBuild":{"startTimestamp":1672807831779,"endTimestamp":1672807968556,"error":null,"stdout":"Sending build context to Docker daemon  273.4kB\r\r\nStep 1/11 : FROM golang:1.14.1 as go-builder\n1.14.1: Pulling from library/golang\nf15005b0235f: Already exists\n41ebfd3d2fd0: Already exists\nb998346ba308: Already exists\nf01ec562c947: Already exists\nc5e092b8639b: Pulling fs layer\n6ee82bba3116: Pulling fs layer\n3b36b05a8864: Pulling fs layer\n3b36b05a8864: Verifying Checksum\n3b36b05a8864: Download complete\nc5e092b8639b: Verifying Checksum\nc5e092b8639b: Download complete\n6ee82bba3116: Verifying Checksum\nc5e092b8639b: Pull complete\n6ee82bba3116: Pull complete\n3b36b05a8864: Pull complete\nDigest: sha256:38a520b05b971181a5a30d72b74d1b70c63688eb267a4fb376c7476a5c6f885b\nStatus: Downloaded newer image for golang:1.14.1\n ---> b022a9b82d88\nStep 2/11 : WORKDIR /go/src/app\n ---> Running in 71eb11456a2e\nRemoving intermediate container 71eb11456a2e\n ---> d38d2840d83c\nStep 3/11 : ENV CGO_ENABLED=0\n ---> Running in e061a1163220\nRemoving intermediate container e061a1163220\n ---> 243563b0a23e\nStep 4/11 : COPY go.mod go.sum ./\n ---> c47b2bd7f90a\nStep 5/11 : RUN go mod download\n ---> Running in 4d56366c0121\nRemoving intermediate container 4d56366c0121\n ---> 149ee8d511c1\nStep 6/11 : COPY . .\n ---> 246b1c5ff72c\nStep 7/11 : RUN CGO_ENABLED=0 go build -a -installsuffix cgo -ldflags \"-X main.GitCommit=$(git describe --tags)\"\n ---> Running in e2a7682dfbe2\nRemoving intermediate container e2a7682dfbe2\n ---> 59358624a47e\nStep 8/11 : FROM debian:buster\n ---> 53906583a002\nStep 9/11 : RUN apt-get update && apt-get install -y ca-certificates && apt-get clean\n ---> Running in 21bacd4f4d5d\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (3482 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (60.2 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6677 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 21bacd4f4d5d\n ---> be13eec2b24e\nStep 10/11 : COPY --from=go-builder /go/src/app/nomad-firehose /bin/\n ---> eaee7f9c719a\nStep 11/11 : CMD [ \"/bin/nomad-firehose\" ]\n ---> Running in 4ec0e369c1b7\nRemoving intermediate container 4ec0e369c1b7\n ---> b9ffc5d4b430\nSuccessfully built b9ffc5d4b430\nSuccessfully tagged nomad-firehose:latest\n","stderr":"","imageSize":168329521},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":9,"end":9,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":9,"end":9,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"FROM golang:1.14.1 as go-builder\nWORKDIR /go/src/app\nENV CGO_ENABLED=0\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . .\nRUN CGO_ENABLED=0 go build -a -installsuffix cgo -ldflags \"-X main.GitCommit=$(git describe --tags)\"\n\nFROM debian:buster\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get clean\nCOPY --from=go-builder /go/src/app/nomad-firehose /bin/\nCMD [ \"/bin/nomad-firehose\" ]\n"},"repairedBuild":{"startTimestamp":1672807968959,"endTimestamp":1672808041408,"error":null,"stdout":"Sending build context to Docker daemon  273.4kB\r\r\nStep 1/11 : FROM golang:1.14.1 as go-builder\n ---> b022a9b82d88\nStep 2/11 : WORKDIR /go/src/app\n ---> Running in 5f2f166d53f9\nRemoving intermediate container 5f2f166d53f9\n ---> f6ad01577004\nStep 3/11 : ENV CGO_ENABLED=0\n ---> Running in de1a8289a548\nRemoving intermediate container de1a8289a548\n ---> b480680c97e5\nStep 4/11 : COPY go.mod go.sum ./\n ---> a3f4f24cfe06\nStep 5/11 : RUN go mod download\n ---> Running in 4320ef549b72\nRemoving intermediate container 4320ef549b72\n ---> cbfad3d57d0a\nStep 6/11 : COPY . .\n ---> 996cb2700630\nStep 7/11 : RUN CGO_ENABLED=0 go build -a -installsuffix cgo -ldflags \"-X main.GitCommit=$(git describe --tags)\"\n ---> Running in be25eec807e7\nRemoving intermediate container be25eec807e7\n ---> 6d0d35782189\nStep 8/11 : FROM debian:buster\n ---> 53906583a002\nStep 9/11 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get clean\n ---> Running in d0aa51b88194\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5981 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (39.9 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6677 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container d0aa51b88194\n ---> 471e7fd4248f\nStep 10/11 : COPY --from=go-builder /go/src/app/nomad-firehose /bin/\n ---> 9e25159de5d0\nStep 11/11 : CMD [ \"/bin/nomad-firehose\" ]\n ---> Running in 876352b38eaf\nRemoving intermediate container 876352b38eaf\n ---> 0282b6269550\nSuccessfully built 0282b6269550\nSuccessfully tagged nomad-firehose:latest\n","stderr":"","imageSize":168329545},"endTime":1672808041659}