{"repository":"https://github.com/pravega/pravega-operator","dockerfilePath":"Dockerfile","startTime":1672707790464,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pravega/pravega-operator'...\n","error":null,"commit":"8fb9ebce56b51ab70a254ebc36c0a367507acbfa"},"originalBuild":{"startTimestamp":1672707791417,"endTimestamp":1672708118186,"error":null,"stdout":"Sending build context to Docker daemon  2.611MB\r\r\nStep 1/25 : ARG DOCKER_REGISTRY\nStep 2/25 : ARG GO_VERSION=1.18\nStep 3/25 : ARG ALPINE_VERSION=3.16\nStep 4/25 : FROM ${DOCKER_REGISTRY:+$DOCKER_REGISTRY/}golang:${GO_VERSION}-alpine${ALPINE_VERSION} as go-builder\n1.18-alpine3.16: Pulling from library/golang\nca7dd9ec2225: Already exists\nc41ae7ad2b39: Pulling fs layer\n22bb395ce1d7: Pulling fs layer\nbb8cf8713392: Pulling fs layer\nbb8cf8713392: Verifying Checksum\nbb8cf8713392: Download complete\nc41ae7ad2b39: Download complete\nc41ae7ad2b39: Pull complete\n22bb395ce1d7: Verifying Checksum\n22bb395ce1d7: Download complete\n22bb395ce1d7: Pull complete\nbb8cf8713392: Pull complete\nDigest: sha256:55a58dd64b2c0c3194777be98379d604623136bed45576a9d2237082e9b43847\nStatus: Downloaded newer image for golang:1.18-alpine3.16\n ---> eb2ce8e2b794\nStep 5/25 : ARG PROJECT_NAME=pravega-operator\n ---> Running in b10354ad04aa\nRemoving intermediate container b10354ad04aa\n ---> cf64e64f68bb\nStep 6/25 : ARG REPO_PATH=github.com/pravega/$PROJECT_NAME\n ---> Running in 0f069c915416\nRemoving intermediate container 0f069c915416\n ---> 4addbc8e576c\nStep 7/25 : ARG VERSION=0.0.0-localdev\n ---> Running in 398b79d80aa6\nRemoving intermediate container 398b79d80aa6\n ---> 072848866251\nStep 8/25 : ARG GIT_SHA=0000000\n ---> Running in 1e63cefbdc4c\nRemoving intermediate container 1e63cefbdc4c\n ---> b7a1c009e396\nStep 9/25 : WORKDIR /src\n ---> Running in 0c8f6082087c\nRemoving intermediate container 0c8f6082087c\n ---> 018bb04f7d57\nStep 10/25 : COPY pkg ./pkg\n ---> 17433dc6f6a8\nStep 11/25 : COPY go.mod ./\n ---> a8053e81a14e\nStep 12/25 : COPY go.sum ./\n ---> aabede7ce9bd\nStep 13/25 : RUN go mod download\n ---> Running in 8309d5f0ead5\nRemoving intermediate container 8309d5f0ead5\n ---> 85c768a0713f\nStep 14/25 : COPY main.go main.go\n ---> a0fe305ef660\nStep 15/25 : COPY api/ api/\n ---> 34aeb140cd36\nStep 16/25 : COPY controllers/ controllers/\n ---> 692c572bb92c\nStep 17/25 : RUN GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /src/${PROJECT_NAME}     -ldflags \"-X ${REPO_PATH}/pkg/version.Version=${VERSION} -X ${REPO_PATH}/pkg/version.GitSHA=${GIT_SHA}\"     main.go\n ---> Running in ed6b5492f53f\nRemoving intermediate container ed6b5492f53f\n ---> aad36683b20c\nStep 18/25 : FROM ${DOCKER_REGISTRY:+$DOCKER_REGISTRY/}alpine:${ALPINE_VERSION} AS final\n ---> bfe296a52501\nStep 19/25 : RUN apk update && apk add --upgrade     sudo     libcap     busybox\n ---> Running in 9d1a4b3fdee6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/3) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/3) Installing libcap (2.64-r0)\n(3/3) Installing sudo (1.9.12-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 9d1a4b3fdee6\n ---> 8a0fbfd6ae06\nStep 20/25 : ARG PROJECT_NAME=pravega-operator\n ---> Running in beaa850598cc\nRemoving intermediate container beaa850598cc\n ---> 65ee0b2bd063\nStep 21/25 : COPY --from=go-builder /src/${PROJECT_NAME} /usr/local/bin/${PROJECT_NAME}\n ---> 22c42fa67a1a\nStep 22/25 : RUN sudo setcap CAP_NET_BIND_SERVICE=+eip /usr/local/bin/${PROJECT_NAME}\n ---> Running in e07827e485c4\nRemoving intermediate container e07827e485c4\n ---> 962ae18157a6\nStep 23/25 : RUN adduser -D ${PROJECT_NAME}\n ---> Running in d7a59066f6fe\nRemoving intermediate container d7a59066f6fe\n ---> 6e3804eb98b5\nStep 24/25 : USER ${PROJECT_NAME}\n ---> Running in e5d6451ccbe8\nRemoving intermediate container e5d6451ccbe8\n ---> 6313774deef0\nStep 25/25 : ENTRYPOINT [\"/usr/local/bin/pravega-operator\"]\n ---> Running in b9af0ace320d\nRemoving intermediate container b9af0ace320d\n ---> e800cad80ed7\nSuccessfully built e800cad80ed7\nSuccessfully tagged pravega-operator:latest\n","stderr":"","imageSize":103386158},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":43,"end":46,"columnStart":18,"columnEnd":11}}],"repairedDockerfile":"#\n# Copyright (c) 2017 Dell Inc., or its subsidiaries. All Rights Reserved.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\nARG DOCKER_REGISTRY\nARG GO_VERSION=1.18\nARG ALPINE_VERSION=3.16\n\nFROM ${DOCKER_REGISTRY:+$DOCKER_REGISTRY/}golang:${GO_VERSION}-alpine${ALPINE_VERSION} as go-builder\n\nARG PROJECT_NAME=pravega-operator\nARG REPO_PATH=github.com/pravega/$PROJECT_NAME\n\n# Build version and commit SHA should be passed in when performing docker build\nARG VERSION=0.0.0-localdev\nARG GIT_SHA=0000000\n\nWORKDIR /src\n\nCOPY pkg ./pkg\nCOPY go.mod ./\nCOPY go.sum ./\n\n# Download all dependencies.\nRUN go mod download\n\n# Copy the go source\nCOPY main.go main.go\nCOPY api/ api/\nCOPY controllers/ controllers/\n\nRUN GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /src/${PROJECT_NAME} \\\n    -ldflags \"-X ${REPO_PATH}/pkg/version.Version=${VERSION} -X ${REPO_PATH}/pkg/version.GitSHA=${GIT_SHA}\" \\\n    main.go\n\n# =============================================================================\nFROM ${DOCKER_REGISTRY:+$DOCKER_REGISTRY/}alpine:${ALPINE_VERSION} AS final\n\nRUN apk update && apk add --no-cache --upgrade \\\n    sudo \\\n    libcap \\\n    busybox\n\nARG PROJECT_NAME=pravega-operator\n\nCOPY --from=go-builder /src/${PROJECT_NAME} /usr/local/bin/${PROJECT_NAME}\n\nRUN sudo setcap CAP_NET_BIND_SERVICE=+eip /usr/local/bin/${PROJECT_NAME}\n\nRUN adduser -D ${PROJECT_NAME}\nUSER ${PROJECT_NAME}\n\nENTRYPOINT [\"/usr/local/bin/pravega-operator\"]\n"},"repairedBuild":{"startTimestamp":1672708118537,"endTimestamp":1672708346167,"error":null,"stdout":"Sending build context to Docker daemon  2.611MB\r\r\nStep 1/25 : ARG DOCKER_REGISTRY\nStep 2/25 : ARG GO_VERSION=1.18\nStep 3/25 : ARG ALPINE_VERSION=3.16\nStep 4/25 : FROM ${DOCKER_REGISTRY:+$DOCKER_REGISTRY/}golang:${GO_VERSION}-alpine${ALPINE_VERSION} as go-builder\n ---> eb2ce8e2b794\nStep 5/25 : ARG PROJECT_NAME=pravega-operator\n ---> Running in bc55554dc6ff\nRemoving intermediate container bc55554dc6ff\n ---> cde80bb80c5b\nStep 6/25 : ARG REPO_PATH=github.com/pravega/$PROJECT_NAME\n ---> Running in 2f17358a691d\nRemoving intermediate container 2f17358a691d\n ---> fae19557d3fe\nStep 7/25 : ARG VERSION=0.0.0-localdev\n ---> Running in a310d8f108f2\nRemoving intermediate container a310d8f108f2\n ---> 883049225f50\nStep 8/25 : ARG GIT_SHA=0000000\n ---> Running in 7e5f632dec1e\nRemoving intermediate container 7e5f632dec1e\n ---> ee8475ba619f\nStep 9/25 : WORKDIR /src\n ---> Running in 8945244f88ca\nRemoving intermediate container 8945244f88ca\n ---> 8ff5bbfedcd3\nStep 10/25 : COPY pkg ./pkg\n ---> ec2840636472\nStep 11/25 : COPY go.mod ./\n ---> 7c58280848d0\nStep 12/25 : COPY go.sum ./\n ---> 980d1b7f9758\nStep 13/25 : RUN go mod download\n ---> Running in 7b253e762885\nRemoving intermediate container 7b253e762885\n ---> 6b9056c6c409\nStep 14/25 : COPY main.go main.go\n ---> 4f1ed33b1bd3\nStep 15/25 : COPY api/ api/\n ---> 7542c7b8a4fd\nStep 16/25 : COPY controllers/ controllers/\n ---> 1d75aae0fe90\nStep 17/25 : RUN GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /src/${PROJECT_NAME}     -ldflags \"-X ${REPO_PATH}/pkg/version.Version=${VERSION} -X ${REPO_PATH}/pkg/version.GitSHA=${GIT_SHA}\"     main.go\n ---> Running in 763ee80d30e1\nRemoving intermediate container 763ee80d30e1\n ---> 5eeff833f1ff\nStep 18/25 : FROM ${DOCKER_REGISTRY:+$DOCKER_REGISTRY/}alpine:${ALPINE_VERSION} AS final\n ---> bfe296a52501\nStep 19/25 : RUN apk update && apk add --no-cache --upgrade     sudo     libcap     busybox\n ---> Running in 381b7679e71a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-99-g1016b47723 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/3) Installing libcap (2.64-r0)\n(3/3) Installing sudo (1.9.12-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 381b7679e71a\n ---> e059c2449c47\nStep 20/25 : ARG PROJECT_NAME=pravega-operator\n ---> Running in b60510b21cbb\nRemoving intermediate container b60510b21cbb\n ---> 6904e72c2382\nStep 21/25 : COPY --from=go-builder /src/${PROJECT_NAME} /usr/local/bin/${PROJECT_NAME}\n ---> 5fbf989da0ab\nStep 22/25 : RUN sudo setcap CAP_NET_BIND_SERVICE=+eip /usr/local/bin/${PROJECT_NAME}\n ---> Running in 36d5c25dae45\nRemoving intermediate container 36d5c25dae45\n ---> 1f974c7a183d\nStep 23/25 : RUN adduser -D ${PROJECT_NAME}\n ---> Running in 00c3869db1aa\nRemoving intermediate container 00c3869db1aa\n ---> 719337a4a5f6\nStep 24/25 : USER ${PROJECT_NAME}\n ---> Running in 43c9fda777aa\nRemoving intermediate container 43c9fda777aa\n ---> d05d10674374\nStep 25/25 : ENTRYPOINT [\"/usr/local/bin/pravega-operator\"]\n ---> Running in 3a336ced20d1\nRemoving intermediate container 3a336ced20d1\n ---> 91f6562aed15\nSuccessfully built 91f6562aed15\nSuccessfully tagged pravega-operator:latest\n","stderr":"","imageSize":103386158},"endTime":1672708346575}