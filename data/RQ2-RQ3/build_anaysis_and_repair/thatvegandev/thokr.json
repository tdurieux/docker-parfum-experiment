{"repository":"https://github.com/thatvegandev/thokr","dockerfilePath":"Dockerfile","startTime":1672546230736,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/thatvegandev/thokr'...\n","error":null,"commit":"09375efb2e7c7adc1af169c7ee491a443461cefc"},"originalBuild":{"startTimestamp":1672546231606,"endTimestamp":1672546397332,"error":null,"stdout":"Sending build context to Docker daemon  423.4kB\r\r\nStep 1/19 : FROM rust:latest as builder\nlatest: Pulling from library/rust\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n5e868601ee3b: Pulling fs layer\n5e868601ee3b: Verifying Checksum\n5e868601ee3b: Download complete\n5e868601ee3b: Pull complete\nDigest: sha256:0067330b7e0eacacc5c32f21b720607c0cd61eda905c8d55e6a745f579ddeee9\nStatus: Downloaded newer image for rust:latest\n ---> 5e0d0367026b\nStep 2/19 : RUN USER=root\n ---> Running in e8620416e5f2\nRemoving intermediate container e8620416e5f2\n ---> ed333374ff26\nStep 3/19 : RUN mkdir thokr\n ---> Running in c006b2856fa7\nRemoving intermediate container c006b2856fa7\n ---> 2ce4af81e0cf\nStep 4/19 : WORKDIR /thokr\n ---> Running in 15b341659beb\nRemoving intermediate container 15b341659beb\n ---> 37a369cacf7c\nStep 5/19 : RUN rustup target add x86_64-unknown-linux-musl\n ---> Running in 57b51fe59180\n\u001b[91minfo: downloading component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0m\u001b[91minfo: installing component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0mRemoving intermediate container 57b51fe59180\n ---> aa30903b84c2\nStep 6/19 : RUN apt update\n ---> Running in c373501cf9ed\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5729 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n1 package can be upgraded. Run 'apt list --upgradable' to see it.\nRemoving intermediate container c373501cf9ed\n ---> c17fa5186bc2\nStep 7/19 : RUN apt -y install musl-tools musl-dev build-essential gcc-x86-64-linux-gnu\n ---> Running in c3d043e56ada\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\ngcc is already the newest version (4:10.2.1-1).\nRecommended packages:\n  linux-musl-dev\nThe following NEW packages will be installed:\n  build-essential musl musl-dev musl-tools\n0 upgraded, 4 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 1071 kB of archives.\nAfter this operation, 4261 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 musl amd64 1.2.2-1 [418 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 musl-dev amd64 1.2.2-1 [604 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 musl-tools amd64 1.2.2-1 [41.7 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1071 kB in 0s (5393 kB/s)\nSelecting previously unselected package build-essential.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSelecting previously unselected package musl:amd64.\r\nPreparing to unpack .../musl_1.2.2-1_amd64.deb ...\r\nUnpacking musl:amd64 (1.2.2-1) ...\r\nSelecting previously unselected package musl-dev:amd64.\r\nPreparing to unpack .../musl-dev_1.2.2-1_amd64.deb ...\r\nUnpacking musl-dev:amd64 (1.2.2-1) ...\r\nSelecting previously unselected package musl-tools.\r\nPreparing to unpack .../musl-tools_1.2.2-1_amd64.deb ...\r\nUnpacking musl-tools (1.2.2-1) ...\r\nSetting up musl:amd64 (1.2.2-1) ...\r\nSetting up build-essential (12.9) ...\r\nSetting up musl-dev:amd64 (1.2.2-1) ...\r\nSetting up musl-tools (1.2.2-1) ...\r\nRemoving intermediate container c3d043e56ada\n ---> d98a6b584e58\nStep 8/19 : COPY . ./\n ---> 43594dc3ad67\nStep 9/19 : ENV RUSTFLAGS='-C linker=x86_64-linux-gnu-gcc'\n ---> Running in f21dca9744a1\nRemoving intermediate container f21dca9744a1\n ---> f9240d8027a8\nStep 10/19 : RUN cargo build --target x86_64-unknown-linux-musl --release\n ---> Running in e30679b9f379\n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded instant v0.1.12\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.36\n\u001b[0m\u001b[91m  Downloaded ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m  Downloaded memchr v2.4.1\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.9\n\u001b[0m\u001b[91m  Downloaded unicode-width v0.1.9\n\u001b[0m\u001b[91m  Downloaded directories v4.0.1\n\u001b[0m\u001b[91m  Downloaded crossterm v0.22.1\n\u001b[0m\u001b[91m  Downloaded parking_lot v0.11.2\n\u001b[0m\u001b[91m  Downloaded matches v0.1.9\n\u001b[0m\u001b[91m  Downloaded textwrap v0.15.0\n\u001b[0m\u001b[91m  Downloaded webbrowser v0.7.1\n\u001b[0m\u001b[91m  Downloaded mio v0.7.14\n\u001b[0m\u001b[91m  Downloaded unicode-segmentation v1.9.0\n\u001b[0m\u001b[91m  Downloaded parking_lot v0.12.0\n\u001b[0m\u001b[91m  Downloaded strum_macros v0.24.0\n\u001b[0m\u001b[91m  Downloaded include_dir_macros v0.7.2\n\u001b[0m\u001b[91m  Downloaded signal-hook v0.3.13\n\u001b[0m\u001b[91m  Downloaded getrandom v0.2.6\n\u001b[0m\u001b[91m  Downloaded include_dir v0.7.2\n\u001b[0m\u001b[91m  Downloaded os_str_bytes v6.0.0\n\u001b[0m\u001b[91m  Downloaded crossterm v0.23.2\n\u001b[0m\u001b[91m  Downloaded tui v0.17.0\n\u001b[0m\u001b[91m  Downloaded signal-hook-mio v0.2.3\n\u001b[0m\u001b[91m  Downloaded indexmap v1.8.1\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.79\n\u001b[0m\u001b[91m  Downloaded clap_derive v3.1.7\n\u001b[0m\u001b[91m  Downloaded libc v0.2.121\n\u001b[0m\u001b[91m  Downloaded syn v1.0.90\n\u001b[0m\u001b[91m  Downloaded proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  Downloaded strsim v0.10.0\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded unicode-normalization v0.1.19\n\u001b[0m\u001b[91m  Downloaded rand v0.8.5\n\u001b[0m\u001b[91m  Downloaded idna v0.2.3\n\u001b[0m\u001b[91m  Downloaded either v1.6.1\n\u001b[0m\u001b[91m  Downloaded percent-encoding v2.1.0\n\u001b[0m\u001b[91m  Downloaded chrono v0.4.19\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded heck v0.4.0\n\u001b[0m\u001b[91m  Downloaded form_urlencoded v1.0.1\n\u001b[0m\u001b[91m  Downloaded dirs-sys v0.3.7\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded atty v0.2.14\n\u001b[0m\u001b[91m  Downloaded tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m  Downloaded url v2.2.2\n\u001b[0m\u001b[91m  Downloaded unicode-xid v0.2.2\n\u001b[0m\u001b[91m  Downloaded time v0.1.43\n\u001b[0m\u001b[91m  Downloaded termcolor v1.1.3\n\u001b[0m\u001b[91m  Downloaded rand_core v0.6.3\n\u001b[0m\u001b[91m  Downloaded rand_chacha v0.3.1\n\u001b[0m\u001b[91m  Downloaded signal-hook-registry v1.4.0\n\u001b[0m\u001b[91m  Downloaded scopeguard v1.1.0\n\u001b[0m\u001b[91m  Downloaded proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m  Downloaded num-integer v0.1.44\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.11.2\n\u001b[0m\u001b[91m  Downloaded num-traits v0.2.14\n\u001b[0m\u001b[91m  Downloaded lazy_static v1.4.0\n\u001b[0m\u001b[91m  Downloaded clap v3.1.8\n\u001b[0m\u001b[91m  Downloaded cassowary v0.3.0\n\u001b[0m\u001b[91m  Downloaded cgisf_lib v0.1.3\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.136\n\u001b[0m\u001b[91m  Downloaded rustversion v1.0.6\n\u001b[0m\u001b[91m  Downloaded parking_lot_core v0.9.2\n\u001b[0m\u001b[91m  Downloaded parking_lot_core v0.8.5\n\u001b[0m\u001b[91m  Downloaded mio v0.8.2\n\u001b[0m\u001b[91m  Downloaded lock_api v0.4.7\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.1\n\u001b[0m\u001b[91m  Downloaded tinyvec v1.5.1\n\u001b[0m\u001b[91m  Downloaded smallvec v1.8.0\n\u001b[0m\u001b[91m  Downloaded serde v1.0.136\n\u001b[0m\u001b[91m  Downloaded log v0.4.16\n\u001b[0m\u001b[91m  Downloaded unicode-bidi v0.3.7\n\u001b[0m\u001b[91m  Downloaded quote v1.0.17\n\u001b[0m\u001b[91m  Downloaded itertools v0.10.3\n\u001b[0m\u001b[91m   Compiling libc v0.2.121\n   Compiling autocfg v1.1.0\n\u001b[0m\u001b[91m   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling proc-macro2 v1.0.36\n\u001b[0m\u001b[91m   Compiling unicode-xid v0.2.2\n\u001b[0m\u001b[91m   Compiling syn v1.0.90\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling log v0.4.16\n\u001b[0m\u001b[91m   Compiling smallvec v1.8.0\n\u001b[0m\u001b[91m   Compiling signal-hook v0.3.13\n\u001b[0m\u001b[91m   Compiling scopeguard v1.1.0\n\u001b[0m\u001b[91m   Compiling parking_lot_core v0.8.5\n\u001b[0m\u001b[91m   Compiling tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\n\u001b[0m\u001b[91m   Compiling parking_lot_core v0.9.2\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.136\n\u001b[0m\u001b[91m   Compiling matches v0.1.9\n\u001b[0m\u001b[91m   Compiling memchr v2.4.1\n\u001b[0m\u001b[91m   Compiling unicode-bidi v0.3.7\n\u001b[0m\u001b[91m   Compiling serde v1.0.\u001b[0m\u001b[91m136\n\u001b[0m\u001b[91m   Compiling ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m   Compiling percent-encoding v2.1.0\n\u001b[0m\u001b[91m   Compiling rustversion v1.0\u001b[0m\u001b[91m.6\n\u001b[0m\u001b[91m   Compiling heck v0.4.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling hashbrown v0.11.2\n\u001b[0m\u001b[91m   Compiling serde_json v1.0.79\n\u001b[0m\u001b[91m   Compiling unicode-segmentation v1.9.0\n\u001b[0m\u001b[91m   Compiling either v1.6.1\n\u001b[0m\u001b[91m   Compiling ryu v1.0\u001b[0m\u001b[91m.9\n\u001b[0m\u001b[91m   Compiling strsim v0.10.0\n   Compiling unicode-width v0.1.9\n\u001b[0m\u001b[91m   Compiling itoa v1.0.1\n\u001b[0m\u001b[91m   Compiling termcolor v1.1.3\n\u001b[0m\u001b[91m   Compiling cassowary v0.3.0\n\u001b[0m\u001b[91m   Compiling textwrap v0.15.0\n\u001b[0m\u001b[91m   Compiling lazy_static v1.4.0\n\u001b[0m\u001b[91m   Compiling instant v0.1.12\n\u001b[0m\u001b[91m   Compiling tinyvec v1.5.1\n\u001b[0m\u001b[91m   Compiling form_urlencoded v1.0.1\n\u001b[0m\u001b[91m   Compiling itertools v0.10.3\n\u001b[0m\u001b[91m   Compiling proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m   Compiling proc-macro-error v1.0.4\n\u001b[0m\u001b[91m   Compiling lock_api v0.4.7\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mnum-traits v\u001b[0m\u001b[91m0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m2.\u001b[0m\u001b[91m14\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling indexmap v1.8.1\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m num-integer v\u001b[0m\u001b[91m0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m1.\u001b[0m\u001b[91m44\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling os_str_bytes v6.0.0\n\u001b[0m\u001b[91m   Compiling quote v1.0.17\n\u001b[0m\u001b[91m   Compiling unicode-normalization v0.1.19\n\u001b[0m\u001b[91m   Compiling signal-hook-registry v1.4.0\n   Compiling mio v0.7.14\n   Compiling mio v0.8.2\n\u001b[0m\u001b[91m   Compiling getrandom v0.2\u001b[0m\u001b[91m.\u001b[0m\u001b[91m6\n\u001b[0m\u001b[91m   Compiling time v0.1.43\n\u001b[0m\u001b[91m   Compiling atty v0.2.14\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling dirs-sys v0.3.7\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling include_dir_macros v\u001b[0m\u001b[91m0.7.2\n\u001b[0m\u001b[91m   Compiling directories v4.0.1\n\u001b[0m\u001b[91m   Compiling rand_core v0.6.3\n\u001b[0m\u001b[91m   Compiling parking_lot v0.11.2\n\u001b[0m\u001b[91m   Compiling parking_lot v0.12.0\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m rand_chacha\u001b[0m\u001b[91m v0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m3\u001b[0m\u001b[91m.1\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling signal-hook-mio v0.2.3\n\u001b[0m\u001b[91m   Compiling crossterm v0.22.1\n\u001b[0m\u001b[91m   Compiling include_dir v0.7.2\n\u001b[0m\u001b[91m   Compiling crossterm v0.23.2\n\u001b[0m\u001b[91m   Compiling rand v0.8.5\n\u001b[0m\u001b[91m   Compiling idna v0.2.3\n\u001b[0m\u001b[91m   Compiling tui v0.17.0\n\u001b[0m\u001b[91m   Compiling url v2.2.2\n\u001b[0m\u001b[91m   Compiling chrono v0.4.19\n\u001b[0m\u001b[91m   Compiling cgisf_lib v0.1.3\n\u001b[0m\u001b[91m   Compiling webbrowser v0.7.1\n\u001b[0m\u001b[91m   Compiling clap_derive v3.1.7\n\u001b[0m\u001b[91m   Compiling strum_macros v0.24.0\n\u001b[0m\u001b[91m   Compiling clap v3.1.8\n\u001b[0m\u001b[91m   Compiling thokr v0.4.1 (/thokr)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 30.06s\n\u001b[0mRemoving intermediate container e30679b9f379\n ---> 049e51ba6bb0\nStep 11/19 : FROM debian:buster-slim\nbuster-slim: Pulling from library/debian\nb52ebda398ed: Already exists\nDigest: sha256:c9c3c682452791a9c301786a2beedb20f291e107c1b699fed0d4d145cc247d4f\nStatus: Downloaded newer image for debian:buster-slim\n ---> 101a5b2953f2\nStep 12/19 : ARG APP=/usr/src/app\n ---> Running in 4033fd247730\nRemoving intermediate container 4033fd247730\n ---> 48a073787ab6\nStep 13/19 : ENV APP_USER=appuser\n ---> Running in 4384bdabc297\nRemoving intermediate container 4384bdabc297\n ---> 65d93f00bece\nStep 14/19 : RUN groupadd $APP_USER     && useradd -g $APP_USER $APP_USER     && mkdir -p ${APP}\n ---> Running in 95f14170f7db\nRemoving intermediate container 95f14170f7db\n ---> c458e5e9c285\nStep 15/19 : COPY --from=builder /thokr/target/x86_64-unknown-linux-musl/release/thokr ${APP}/thokr\n ---> f2f11aae4e75\nStep 16/19 : RUN chown -R $APP_USER:$APP_USER ${APP}\n ---> Running in e4c6b838e237\nRemoving intermediate container e4c6b838e237\n ---> 670422545d33\nStep 17/19 : USER $APP_USER\n ---> Running in 5ccfcc866b4a\nRemoving intermediate container 5ccfcc866b4a\n ---> 2648aa7a6a7b\nStep 18/19 : WORKDIR ${APP}\n ---> Running in 88c37bc0300a\nRemoving intermediate container 88c37bc0300a\n ---> 4a0d627b9e89\nStep 19/19 : ENTRYPOINT [\"./thokr\"]\n ---> Running in ba4c6994352a\nRemoving intermediate container ba4c6994352a\n ---> fa1dc99e22f6\nSuccessfully built fa1dc99e22f6\nSuccessfully tagged thokr:latest\n","stderr":"","imageSize":83785039},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":10,"end":10,"columnStart":4,"columnEnd":75}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":75}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":10,"end":10,"columnStart":4,"columnEnd":75}}],"repairedDockerfile":"FROM rust:latest as builder\n\nRUN USER=root\n\nRUN mkdir thokr\nWORKDIR /thokr\n\n\nRUN rustup target add x86_64-unknown-linux-musl\n\nRUN apt update && \\\napt -y --no-install-recommends install musl-tools musl-dev build-essential gcc-x86-64-linux-gnu\n\nCOPY . ./\n\nENV RUSTFLAGS='-C linker=x86_64-linux-gnu-gcc'\nRUN cargo build --target x86_64-unknown-linux-musl --release\n\nFROM debian:buster-slim\n\nARG APP=/usr/src/app\n\nENV APP_USER=appuser\n\nRUN groupadd $APP_USER \\\n    && useradd -g $APP_USER $APP_USER \\\n    && mkdir -p ${APP}\n\n# Copy the compiled binaries into the new container.\nCOPY --from=builder /thokr/target/x86_64-unknown-linux-musl/release/thokr ${APP}/thokr\n\nRUN chown -R $APP_USER:$APP_USER ${APP}\nUSER $APP_USER\nWORKDIR ${APP}\n\nENTRYPOINT [\"./thokr\"]\n"},"repairedBuild":{"startTimestamp":1672546397649,"endTimestamp":1672546603428,"error":null,"stdout":"Sending build context to Docker daemon  423.4kB\r\r\nStep 1/18 : FROM rust:latest as builder\n ---> 5e0d0367026b\nStep 2/18 : RUN USER=root\n ---> Running in 70ded02cd41b\nRemoving intermediate container 70ded02cd41b\n ---> 4670a6f5b69d\nStep 3/18 : RUN mkdir thokr\n ---> Running in 1a6c404d5c43\nRemoving intermediate container 1a6c404d5c43\n ---> 31eea4228b35\nStep 4/18 : WORKDIR /thokr\n ---> Running in 0ff3ba158a10\nRemoving intermediate container 0ff3ba158a10\n ---> c09dcc59bc71\nStep 5/18 : RUN rustup target add x86_64-unknown-linux-musl\n ---> Running in 92bc36fc7647\n\u001b[91minfo: downloading component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0m\u001b[91minfo: installing component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0mRemoving intermediate container 92bc36fc7647\n ---> 8628a4340c03\nStep 6/18 : RUN apt update && apt -y --no-install-recommends install musl-tools musl-dev build-essential gcc-x86-64-linux-gnu\n ---> Running in 7e058227cc11\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6492 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n1 package can be upgraded. Run 'apt list --upgradable' to see it.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\ngcc is already the newest version (4:10.2.1-1).\nRecommended packages:\n  linux-musl-dev\nThe following NEW packages will be installed:\n  build-essential musl musl-dev musl-tools\n0 upgraded, 4 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 1071 kB of archives.\nAfter this operation, 4261 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 musl amd64 1.2.2-1 [418 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 musl-dev amd64 1.2.2-1 [604 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 musl-tools amd64 1.2.2-1 [41.7 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1071 kB in 0s (28.1 MB/s)\nSelecting previously unselected package build-essential.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSelecting previously unselected package musl:amd64.\r\nPreparing to unpack .../musl_1.2.2-1_amd64.deb ...\r\nUnpacking musl:amd64 (1.2.2-1) ...\r\nSelecting previously unselected package musl-dev:amd64.\r\nPreparing to unpack .../musl-dev_1.2.2-1_amd64.deb ...\r\nUnpacking musl-dev:amd64 (1.2.2-1) ...\r\nSelecting previously unselected package musl-tools.\r\nPreparing to unpack .../musl-tools_1.2.2-1_amd64.deb ...\r\nUnpacking musl-tools (1.2.2-1) ...\r\nSetting up musl:amd64 (1.2.2-1) ...\r\nSetting up build-essential (12.9) ...\r\nSetting up musl-dev:amd64 (1.2.2-1) ...\r\nSetting up musl-tools (1.2.2-1) ...\r\nRemoving intermediate container 7e058227cc11\n ---> 817bdf0c0fa0\nStep 7/18 : COPY . ./\n ---> 91f3324b9bd3\nStep 8/18 : ENV RUSTFLAGS='-C linker=x86_64-linux-gnu-gcc'\n ---> Running in 41057a7f9c06\nRemoving intermediate container 41057a7f9c06\n ---> 84234077659b\nStep 9/18 : RUN cargo build --target x86_64-unknown-linux-musl --release\n ---> Running in 046b1032e569\n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded lock_api v0.4.7\n\u001b[0m\u001b[91m  Downloaded parking_lot v0.11.2\n\u001b[0m\u001b[91m  Downloaded unicode-segmentation v1.9.0\n\u001b[0m\u001b[91m  Downloaded signal-hook-registry v1.4.0\n\u001b[0m\u001b[91m  Downloaded clap_derive v3.1.7\n\u001b[0m\u001b[91m  Downloaded lazy_static v1.4.0\n\u001b[0m\u001b[91m  Downloaded instant v0.1.12\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.11.2\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.136\n\u001b[0m\u001b[91m  Downloaded tui v0.17.0\n\u001b[0m\u001b[91m  Downloaded webbrowser v0.7.1\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.1\n\u001b[0m\u001b[91m  Downloaded proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  Downloaded rustversion v1.0.6\n\u001b[0m\u001b[91m  Downloaded scopeguard v1.1.0\n\u001b[0m\u001b[91m  Downloaded unicode-xid v0.2.2\n\u001b[0m\u001b[91m  Downloaded dirs-sys v0.3.7\n\u001b[0m\u001b[91m  Downloaded atty v0.2.14\n\u001b[0m\u001b[91m  Downloaded directories v4.0.1\n\u001b[0m\u001b[91m  Downloaded crossterm v0.23.2\n\u001b[0m\u001b[91m  Downloaded clap v3.1.8\n\u001b[0m\u001b[91m  Downloaded tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m  Downloaded syn v1.0.90\n\u001b[0m\u001b[91m  Downloaded signal-hook-mio v0.2.3\n\u001b[0m\u001b[91m  Downloaded signal-hook v0.3.13\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.9\n\u001b[0m\u001b[91m  Downloaded cgisf_lib v0.1.3\n\u001b[0m\u001b[91m  Downloaded heck v0.4.0\n\u001b[0m\u001b[91m  Downloaded indexmap v1.8.1\n\u001b[0m\u001b[91m  Downloaded form_urlencoded v1.0.1\n\u001b[0m\u001b[91m  Downloaded crossterm v0.22.1\n\u001b[0m\u001b[91m  Downloaded cassowary v0.3.0\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded idna v0.2.3\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m  Downloaded rand_chacha v0.3.1\n\u001b[0m\u001b[91m  Downloaded rand v0.8.5\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.36\n\u001b[0m\u001b[91m  Downloaded parking_lot_core v0.9.2\n\u001b[0m\u001b[91m  Downloaded parking_lot v0.12.0\n\u001b[0m\u001b[91m  Downloaded num-traits v0.2.14\n\u001b[0m\u001b[91m  Downloaded percent-encoding v2.1.0\n\u001b[0m\u001b[91m  Downloaded mio v0.8.2\n\u001b[0m\u001b[91m  Downloaded matches v0.1.9\n\u001b[0m\u001b[91m  Downloaded log v0.4.16\n\u001b[0m\u001b[91m  Downloaded libc v0.2.121\n\u001b[0m\u001b[91m  Downloaded itertools v0.10.3\n\u001b[0m\u001b[91m  Downloaded include_dir_macros v0.7.2\n\u001b[0m\u001b[91m  Downloaded time v0.1.43\n\u001b[0m\u001b[91m  Downloaded url v2.2.2\n\u001b[0m\u001b[91m  Downloaded chrono v0.4.19\n\u001b[0m\u001b[91m  Downloaded termcolor v1.1.3\n\u001b[0m\u001b[91m  Downloaded quote v1.0.17\n\u001b[0m\u001b[91m  Downloaded include_dir v0.7.2\n\u001b[0m\u001b[91m  Downloaded getrandom v0.2.6\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded unicode-width v0.1.9\n\u001b[0m\u001b[91m  Downloaded unicode-normalization v0.1.19\n\u001b[0m\u001b[91m  Downloaded tinyvec v1.5.1\n\u001b[0m\u001b[91m  Downloaded strsim v0.10.0\n\u001b[0m\u001b[91m  Downloaded smallvec v1.8.0\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.79\n\u001b[0m\u001b[91m  Downloaded serde v1.0.136\n\u001b[0m\u001b[91m  Downloaded rand_core v0.6.3\n\u001b[0m\u001b[91m  Downloaded ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m  Downloaded mio v0.7.14\n\u001b[0m\u001b[91m  Downloaded memchr v2.4.1\n\u001b[0m\u001b[91m  Downloaded either v1.6.1\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded unicode-bidi v0.3.7\n\u001b[0m\u001b[91m  Downloaded os_str_bytes v6.0.0\n\u001b[0m\u001b[91m  Downloaded parking_lot_core v0.8.5\n\u001b[0m\u001b[91m  Downloaded textwrap v0.15.0\n\u001b[0m\u001b[91m  Downloaded strum_macros v0.24.0\n\u001b[0m\u001b[91m  Downloaded num-integer v0.1.44\n\u001b[0m\u001b[91m   Compiling libc v0.2.121\n   Compiling autocfg v1.1.0\n\u001b[0m\u001b[91m   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling proc-macro2 v1.0.36\n\u001b[0m\u001b[91m   Compiling unicode-xid v0.2.2\n\u001b[0m\u001b[91m   Compiling syn v1.0.90\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling log v0.4.16\n   Compiling smallvec v1.8.0\n\u001b[0m\u001b[91m   Compiling signal-hook v0.3.13\n\u001b[0m\u001b[91m   Compiling scopeguard v1.1.0\n\u001b[0m\u001b[91m   Compiling tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m   Compiling parking_lot_core v0.8.5\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\n\u001b[0m\u001b[91m   Compiling matches v0.1.9\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.136\n\u001b[0m\u001b[91m   Compiling parking_lot_core v0.9.2\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling memchr v2.4.1\n\u001b[0m\u001b[91m   Compiling percent-encoding v2.1.0\n\u001b[0m\u001b[91m   Compiling ppv-lite86 v0.2.16\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling unicode-bidi v0.3.7\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling rustversion v1\u001b[0m\u001b[91m.0.6\n\u001b[0m\u001b[91m   Compiling serde\u001b[0m\u001b[91m v1.0.136\n\u001b[0m\u001b[91m   Compiling heck v0\u001b[0m\u001b[91m.4.0\n\u001b[0m\u001b[91m   Compiling serde_json v\u001b[0m\u001b[91m1.0.79\n\u001b[0m\u001b[91m   Compiling hashbrown v0\u001b[0m\u001b[91m.11.2\n\u001b[0m\u001b[91m   Compiling lazy_static v1.\u001b[0m\u001b[91m4.0\n\u001b[0m\u001b[91m   Compiling cassowary v0.3.0\n\u001b[0m\u001b[91m   Compiling strsim v0.10.0\n\u001b[0m\u001b[91m   Compiling unicode-segmentation v1.9.0\n\u001b[0m\u001b[91m   Compiling itoa\u001b[0m\u001b[91m v1.0.1\n\u001b[0m\u001b[91m   Compiling ryu v1.0.9\n\u001b[0m\u001b[91m   Compiling termcolor v1.\u001b[0m\u001b[91m1.\u001b[0m\u001b[91m3\n   \u001b[0m\u001b[91mCompiling textwrap v0.\u001b[0m\u001b[91m15.0\n\u001b[0m\u001b[91m   Compiling either v1.6.1\n\u001b[0m\u001b[91m   Compiling unicode-width v0.1.9\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling instant v0.1.12\n\u001b[0m\u001b[91m   Compiling tinyvec v1.5.1\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling itertools v0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m10.\u001b[0m\u001b[91m3\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m form_urlencoded v1.0.1\n\u001b[0m\u001b[91m   Compiling proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling \u001b[0m\u001b[91mproc-macro-error v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m0.4\n\u001b[0m\u001b[91m   Compiling \u001b[0m\u001b[91mlock_api\u001b[0m\u001b[91m v0.4.7\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling\u001b[0m\u001b[91m num-traits\u001b[0m\u001b[91m v\u001b[0m\u001b[91m0.\u001b[0m\u001b[91m2.\u001b[0m\u001b[91m14\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling num-integer v0.1.44\n\u001b[0m\u001b[91m   Compiling indexmap v1.8.1\n\u001b[0m\u001b[91m   Compiling unicode-normalization v0.1.19\n\u001b[0m\u001b[91m   Compiling os_str_bytes v6.0.0\n\u001b[0m\u001b[91m   Compiling quote v1.0.17\n\u001b[0m\u001b[91m   Compiling signal-hook-registry v1.4.0\n\u001b[0m\u001b[91m   Compiling getrandom v0.2.6\n\u001b[0m\u001b[91m   Compiling mio v0.8.2\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling mio v0.7.14\n\u001b[0m\u001b[91m   Compiling dirs-sys v0.3.7\n\u001b[0m\u001b[91m   Compiling atty v0.2.14\n\u001b[0m\u001b[91m   Compiling time v0.1.43\n\u001b[0m\u001b[91m   Compiling directories v4.0.1\n\u001b[0m\u001b[91m   Compiling rand_core v0.6.3\n\u001b[0m\u001b[91m   Compiling include_dir_macros v0.7.2\n\u001b[0m\u001b[91m   Compiling parking_lot v0.12.0\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling parking_lot v0.11.2\n\u001b[0m\u001b[91m   Compiling rand_chacha v0.3.1\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling signal-hook-mio v0.\u001b[0m\u001b[91m2.3\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mcrossterm v\u001b[0m\u001b[91m0.\u001b[0m\u001b[91m22\u001b[0m\u001b[91m.\u001b[0m\u001b[91m1\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling crossterm v0.23.2\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling rand v0.\u001b[0m\u001b[91m8.5\n\u001b[0m\u001b[91m   Compiling include_dir v0.7.2\n\u001b[0m\u001b[91m   Compiling idna v0.2.3\n\u001b[0m\u001b[91m   Compiling chrono v0.4.19\n\u001b[0m\u001b[91m   Compiling tui v0.17.0\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91m Compiling url v2.2.2\n\u001b[0m\u001b[91m   Compiling cgisf_lib v0.1.3\n\u001b[0m\u001b[91m   Compiling webbrowser v0.7.1\n\u001b[0m\u001b[91m   Compiling clap_derive v3.1.7\n\u001b[0m\u001b[91m   Compiling strum_macros v0.24.0\n\u001b[0m\u001b[91m   Compiling clap v3.1.8\n\u001b[0m\u001b[91m   Compiling thokr v0.4.1 (/thokr)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 34.21s\n\u001b[0mRemoving intermediate container 046b1032e569\n ---> fb4544a3366a\nStep 10/18 : FROM debian:buster-slim\n ---> 101a5b2953f2\nStep 11/18 : ARG APP=/usr/src/app\n ---> Running in 9d4be4ddc796\nRemoving intermediate container 9d4be4ddc796\n ---> b80a56bbb3a5\nStep 12/18 : ENV APP_USER=appuser\n ---> Running in 07eb93ff0ab7\nRemoving intermediate container 07eb93ff0ab7\n ---> 3db26d7e0a01\nStep 13/18 : RUN groupadd $APP_USER     && useradd -g $APP_USER $APP_USER     && mkdir -p ${APP}\n ---> Running in 7305cfe4ce1c\nRemoving intermediate container 7305cfe4ce1c\n ---> 92235aac6981\nStep 14/18 : COPY --from=builder /thokr/target/x86_64-unknown-linux-musl/release/thokr ${APP}/thokr\n ---> e21ae977cb13\nStep 15/18 : RUN chown -R $APP_USER:$APP_USER ${APP}\n ---> Running in 2df04d67d386\nRemoving intermediate container 2df04d67d386\n ---> 17243e4f0afb\nStep 16/18 : USER $APP_USER\n ---> Running in 3ad194ee5dd2\nRemoving intermediate container 3ad194ee5dd2\n ---> 5bf0ec92e03d\nStep 17/18 : WORKDIR ${APP}\n ---> Running in 6a806261e08c\nRemoving intermediate container 6a806261e08c\n ---> 25ed816849c8\nStep 18/18 : ENTRYPOINT [\"./thokr\"]\n ---> Running in 990a73f60512\nRemoving intermediate container 990a73f60512\n ---> b5a1dd8c23e9\nSuccessfully built b5a1dd8c23e9\nSuccessfully tagged thokr:latest\n","stderr":"","imageSize":83785039},"endTime":1672546603812}