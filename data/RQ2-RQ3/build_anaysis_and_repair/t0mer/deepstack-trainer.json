{"repository":"https://github.com/t0mer/deepstack-trainer","dockerfilePath":"Dockerfile","startTime":1672116540552,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/t0mer/deepstack-trainer'...\n","error":null,"commit":"501b41bd977e8b61f4c1d7c2e561d9f0c22f73fc"},"originalBuild":{"startTimestamp":1672116541745,"endTimestamp":1672116607162,"error":null,"stdout":"Sending build context to Docker daemon  7.876MB\r\r\nStep 1/16 : FROM techblog/fastapi:latest\nlatest: Pulling from techblog/fastapi\nea362f368469: Pulling fs layer\nd2b97555cc87: Pulling fs layer\n88d8686b34b9: Pulling fs layer\n9c3597811d4b: Pulling fs layer\n9c3597811d4b: Waiting\nea362f368469: Verifying Checksum\nea362f368469: Download complete\n88d8686b34b9: Verifying Checksum\n88d8686b34b9: Download complete\nd2b97555cc87: Verifying Checksum\nd2b97555cc87: Download complete\nea362f368469: Pull complete\n9c3597811d4b: Verifying Checksum\n9c3597811d4b: Download complete\nd2b97555cc87: Pull complete\n88d8686b34b9: Pull complete\n9c3597811d4b: Pull complete\nDigest: sha256:ca0bceafb36abae9ead991d2b35cc1a7d8090e9b1ac2711f09a484c418442b5b\nStatus: Downloaded newer image for techblog/fastapi:latest\n ---> 2f3873b6c0e7\nStep 2/16 : LABEL maintainer=\"tomer.klein@gmail.com\"\n ---> Running in 20f26e4ebd39\nRemoving intermediate container 20f26e4ebd39\n ---> 7e792c860b3f\nStep 3/16 : ENV DEEPSTACK_HOST_ADDRESS=\"\"\n ---> Running in 5df1f166a1d3\nRemoving intermediate container 5df1f166a1d3\n ---> 0682817dd2fe\nStep 4/16 : ENV DEEPSTACK_API_KEY=\"\"\n ---> Running in cef3d450d5a2\nRemoving intermediate container cef3d450d5a2\n ---> 82f222e47875\nStep 5/16 : ENV MIN_CONFIDANCE=0.70\n ---> Running in 8237caa9719b\nRemoving intermediate container 8237caa9719b\n ---> be57784f2f4a\nStep 6/16 : ENV PYTHONIOENCODING=utf-8\n ---> Running in ad326a1baa59\nRemoving intermediate container ad326a1baa59\n ---> 0430647f3033\nStep 7/16 : ENV LANG=C.UTF-8\n ---> Running in 12d4a0173f1c\nRemoving intermediate container 12d4a0173f1c\n ---> ce61d17e8b8a\nStep 8/16 : RUN apt update -yqq\n ---> Running in a37ea2602949\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0m98 packages can be upgraded. Run 'apt list --upgradable' to see them.\nRemoving intermediate container a37ea2602949\n ---> 6a1e6e2bd78d\nStep 9/16 : RUN apt -yqq install python3-pip\n ---> Running in d457a6c50a2f\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mpython3-pip is already the newest version (20.0.2-5ubuntu1.6).\n0 upgraded, 0 newly installed, 0 to remove and 98 not upgraded.\nRemoving intermediate container d457a6c50a2f\n ---> 6b9cbef5e5f6\nStep 10/16 : RUN  pip3 install --upgrade pip --no-cache-dir &&      pip3 install --upgrade setuptools --no-cache-dir\n ---> Running in ca6c744268a5\nRequirement already satisfied: pip in /usr/local/lib/python3.8/dist-packages (21.3.1)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 21.3.1\n    Uninstalling pip-21.3.1:\n      Successfully uninstalled pip-21.3.1\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRequirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (60.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 74.5 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 60.5.0\n    Uninstalling setuptools-60.5.0:\n      Successfully uninstalled setuptools-60.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container ca6c744268a5\n ---> 0e59e4d26dd6\nStep 11/16 : RUN mkdir -p /opt/trainer/photos/uploads\n ---> Running in 16589f81669d\nRemoving intermediate container 16589f81669d\n ---> 2c9749548225\nStep 12/16 : RUN mkdir -p /opt/trainer/db\n ---> Running in f729d6d799bb\nRemoving intermediate container f729d6d799bb\n ---> de0196744101\nStep 13/16 : COPY trainer /opt/trainer\n ---> a9dc35b16a6d\nStep 14/16 : EXPOSE 8080\n ---> Running in d60ba46472b0\nRemoving intermediate container d60ba46472b0\n ---> 221ca4a91e47\nStep 15/16 : WORKDIR /opt/trainer/\n ---> Running in ceca7d64030c\nRemoving intermediate container ceca7d64030c\n ---> ec29e4659b5c\nStep 16/16 : ENTRYPOINT [\"/usr/bin/python3\", \"trainer.py\"]\n ---> Running in c5f4446e0c60\nRemoving intermediate container c5f4446e0c60\n ---> 18b228352a9c\nSuccessfully built 18b228352a9c\nSuccessfully tagged deepstack-trainer:latest\n","stderr":"","imageSize":539104491},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":12,"end":12,"columnStart":4,"columnEnd":32}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":32}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":12,"end":12,"columnStart":4,"columnEnd":32}}],"repairedDockerfile":"FROM techblog/fastapi:latest\n\nLABEL maintainer=\"tomer.klein@gmail.com\"\nENV DEEPSTACK_HOST_ADDRESS=\"\"\nENV DEEPSTACK_API_KEY=\"\"\nENV MIN_CONFIDANCE=0.70\nENV PYTHONIOENCODING=utf-8\nENV LANG=C.UTF-8\n\n\n\nRUN apt update -yqq && \\\n\napt -yqq --no-install-recommends install python3-pip\n\nRUN pip3 install --upgrade pip --no-cache-dir && \\\n     pip3 install --upgrade setuptools --no-cache-dir\n\nRUN mkdir -p /opt/trainer/photos/uploads\nRUN mkdir -p /opt/trainer/db\n\nCOPY trainer /opt/trainer\n\nEXPOSE 8080\n\nWORKDIR /opt/trainer/\n\nENTRYPOINT [\"/usr/bin/python3\", \"trainer.py\"]\n"},"repairedBuild":{"startTimestamp":1672116607652,"endTimestamp":1672116662428,"error":null,"stdout":"Sending build context to Docker daemon  7.876MB\r\r\n\u001b[91m[WARNING]: Empty continuation line found in:\n    RUN apt update -yqq && apt -yqq --no-install-recommends install python3-pip\n[WARNING]: Empty continuation lines will become errors in a future release.\n\u001b[0mStep 1/15 : FROM techblog/fastapi:latest\n ---> 2f3873b6c0e7\nStep 2/15 : LABEL maintainer=\"tomer.klein@gmail.com\"\n ---> Running in f7bdeddce380\nRemoving intermediate container f7bdeddce380\n ---> 3ee4da84aa32\nStep 3/15 : ENV DEEPSTACK_HOST_ADDRESS=\"\"\n ---> Running in 4d3da6d2b904\nRemoving intermediate container 4d3da6d2b904\n ---> 1d7100520555\nStep 4/15 : ENV DEEPSTACK_API_KEY=\"\"\n ---> Running in ed311babf6a2\nRemoving intermediate container ed311babf6a2\n ---> 7573d1b9dd58\nStep 5/15 : ENV MIN_CONFIDANCE=0.70\n ---> Running in 58664889a6ef\nRemoving intermediate container 58664889a6ef\n ---> f9445590aa45\nStep 6/15 : ENV PYTHONIOENCODING=utf-8\n ---> Running in 6cb5a191755f\nRemoving intermediate container 6cb5a191755f\n ---> 8fb345737333\nStep 7/15 : ENV LANG=C.UTF-8\n ---> Running in 0478b1e8bbd3\nRemoving intermediate container 0478b1e8bbd3\n ---> a42f5932c443\nStep 8/15 : RUN apt update -yqq && apt -yqq --no-install-recommends install python3-pip\n ---> Running in 356a5dcdf037\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0m98 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mpython3-pip is already the newest version (20.0.2-5ubuntu1.6).\n0 upgraded, 0 newly installed, 0 to remove and 98 not upgraded.\nRemoving intermediate container 356a5dcdf037\n ---> 905d4e913dfc\nStep 9/15 : RUN pip3 install --upgrade pip --no-cache-dir &&      pip3 install --upgrade setuptools --no-cache-dir\n ---> Running in 5c9cf48e38e0\nRequirement already satisfied: pip in /usr/local/lib/python3.8/dist-packages (21.3.1)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 21.3.1\n    Uninstalling pip-21.3.1:\n      Successfully uninstalled pip-21.3.1\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRequirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (60.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 90.2 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 60.5.0\n    Uninstalling setuptools-60.5.0:\n      Successfully uninstalled setuptools-60.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 5c9cf48e38e0\n ---> 8e31c7ca8dfe\nStep 10/15 : RUN mkdir -p /opt/trainer/photos/uploads\n ---> Running in 5bfca3469e50\nRemoving intermediate container 5bfca3469e50\n ---> 3dc0abee185e\nStep 11/15 : RUN mkdir -p /opt/trainer/db\n ---> Running in cb53bb82d1d6\nRemoving intermediate container cb53bb82d1d6\n ---> 1c0eb402685b\nStep 12/15 : COPY trainer /opt/trainer\n ---> b54de4462bed\nStep 13/15 : EXPOSE 8080\n ---> Running in d13ab3c3cf59\nRemoving intermediate container d13ab3c3cf59\n ---> 966ee47a59d5\nStep 14/15 : WORKDIR /opt/trainer/\n ---> Running in d8af5432112a\nRemoving intermediate container d8af5432112a\n ---> b331a4b873d1\nStep 15/15 : ENTRYPOINT [\"/usr/bin/python3\", \"trainer.py\"]\n ---> Running in a3efb8be3444\nRemoving intermediate container a3efb8be3444\n ---> 2c54598bdca4\nSuccessfully built 2c54598bdca4\nSuccessfully tagged deepstack-trainer:latest\n","stderr":"","imageSize":539104491},"endTime":1672116663469}