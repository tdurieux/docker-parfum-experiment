{"repository":"https://github.com/luzifer/vault-openvpn","dockerfilePath":"Dockerfile","startTime":1672278547466,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/luzifer/vault-openvpn'...\n","error":null,"commit":"bfd0fc808c48fd81f977b034e4e0e37760221653"},"originalBuild":{"startTimestamp":1672278548307,"endTimestamp":1672278615434,"error":null,"stdout":"Sending build context to Docker daemon  280.1kB\r\r\nStep 1/12 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/12 : COPY . /go/src/github.com/Luzifer/vault-openvpn\n ---> 0bc33be564ff\nStep 3/12 : WORKDIR /go/src/github.com/Luzifer/vault-openvpn\n ---> Running in 656f265e202e\nRemoving intermediate container 656f265e202e\n ---> 973ea8137933\nStep 4/12 : RUN set -ex  && apk add --update git  && go install       -ldflags \"-X main.version=$(git describe --tags --always || echo dev)\"       -mod=readonly\n ---> Running in 0d57a45657a8\n\u001b[91m+ apk add --update git\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\n\u001b[91m+ git describe --tags --always\n\u001b[0m\u001b[91m+ go install -ldflags '-X main.version=v1.10.1' '-mod=readonly'\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/vault/sdk v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.7.1\ngo: downloading github.com/Luzifer/go-dhparam v1.1.0\ngo: downloading github.com/hashicorp/vault/api v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.4.9\ngo: downloading github.com/magiconair/properties v1.8.5\ngo: downloading github.com/mitchellh/mapstructure v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\ngo: downloading gopkg.in/ini.v1 v1.62.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210507161434-a76c4d0a0096\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.6\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-cleanhttp v0.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-retryablehttp v0.7.0\ngo: downloading github.com/hashicorp/go-rootcerts v1.0.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210508051633-16afe75a6701\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20210220033141-f8bda1e9f3ba\n\u001b[0m\u001b[91mgo: downloading gopkg.in/square/go-jose.v2 v2.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210506145944-38f3c27a63bf\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-sockaddr v1.0.2\ngo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/ryanuber/go-glob v1.0.0\ngo: downloading github.com/pierrec/lz4 v2.6.0+incompatible\n\u001b[0mRemoving intermediate container 0d57a45657a8\n ---> 2306d3a0735d\nStep 5/12 : FROM alpine:latest\n ---> 49176f190c7e\nStep 6/12 : LABEL maintainer \"Knut Ahlers <knut@ahlers.me>\"\n ---> Running in be058fb39018\nRemoving intermediate container be058fb39018\n ---> 0aa6268090b4\nStep 7/12 : RUN set -ex  && apk --no-cache add       ca-certificates\n ---> Running in 1f3524feb162\n\u001b[91m+ apk --no-cache add ca-certificates\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 1f3524feb162\n ---> 97dea100a3f1\nStep 8/12 : COPY --from=builder /go/bin/vault-openvpn /usr/local/bin/vault-openvpn\n ---> 76edb0aea4e6\nStep 9/12 : COPY --from=builder /go/src/github.com/Luzifer/vault-openvpn/example/openvpn-sample /usr/local/share/vault-openvpn\n ---> e27d3c3f0d09\nStep 10/12 : WORKDIR /usr/local/share/vault-openvpn\n ---> Running in 265351d7129b\nRemoving intermediate container 265351d7129b\n ---> a522e6f2f628\nStep 11/12 : ENTRYPOINT [\"/usr/local/bin/vault-openvpn\"]\n ---> Running in 51457f01a4b4\nRemoving intermediate container 51457f01a4b4\n ---> 4cbe04f68008\nStep 12/12 : CMD [\"--\"]\n ---> Running in 3b065e2651ca\nRemoving intermediate container 3b065e2651ca\n ---> 0fc20e355e62\nSuccessfully built 0fc20e355e62\nSuccessfully tagged vault-openvpn:latest\n","stderr":"","imageSize":20373498},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"FROM golang:alpine as builder\n\nCOPY . /go/src/github.com/Luzifer/vault-openvpn\nWORKDIR /go/src/github.com/Luzifer/vault-openvpn\n\nRUN set -ex \\\n && apk add --no-cache --update git \\\n && go install \\\n      -ldflags \"-X main.version=$(git describe --tags --always || echo dev)\" \\\n      -mod=readonly\n\nFROM alpine:latest\n\nLABEL maintainer \"Knut Ahlers <knut@ahlers.me>\"\n\nRUN set -ex \\\n && apk --no-cache add \\\n      ca-certificates\n\nCOPY --from=builder /go/bin/vault-openvpn /usr/local/bin/vault-openvpn\nCOPY --from=builder /go/src/github.com/Luzifer/vault-openvpn/example/openvpn-sample /usr/local/share/vault-openvpn\n\nWORKDIR /usr/local/share/vault-openvpn\n\nENTRYPOINT [\"/usr/local/bin/vault-openvpn\"]\nCMD [\"--\"]\n\n# vim: set ft=Dockerfile:\n"},"repairedBuild":{"startTimestamp":1672278616000,"endTimestamp":1672278738313,"error":null,"stdout":"Sending build context to Docker daemon  280.1kB\r\r\nStep 1/12 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/12 : COPY . /go/src/github.com/Luzifer/vault-openvpn\n ---> dc3ca2d4ec98\nStep 3/12 : WORKDIR /go/src/github.com/Luzifer/vault-openvpn\n ---> Running in 0a36445bb316\nRemoving intermediate container 0a36445bb316\n ---> dfaab4828c66\nStep 4/12 : RUN set -ex  && apk add --no-cache --update git  && go install       -ldflags \"-X main.version=$(git describe --tags --always || echo dev)\"       -mod=readonly\n ---> Running in 8905c18f33fc\n\u001b[91m+ apk add --no-cache --update git\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\n\u001b[91m+ git describe --tags --always\n\u001b[0m\u001b[91m+ go install -ldflags '-X main.version=v1.10.1' '-mod=readonly'\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/vault/sdk v0.2.0\ngo: downloading github.com/Luzifer/go-dhparam v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.7.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/vault/api v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.4.1\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\ngo: downloading github.com/subosito/gotenv v1.2.0\ngo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/fsnotify/fsnotify v1.4.9\ngo: downloading github.com/spf13/cast v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.62.0\ngo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210507161434-a76c4d0a0096\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-cleanhttp v0.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-retryablehttp v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-rootcerts v1.0.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210508051633-16afe75a6701\ngo: downloading golang.org/x/time v0.0.0-20210220033141-f8bda1e9f3ba\ngo: downloading gopkg.in/square/go-jose.v2 v2.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210506145944-38f3c27a63bf\n\u001b[0m\u001b[91mgo: downloading github.com/pierrec/lz4 v2.6.0+incompatible\ngo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/ryanuber/go-glob v1.0.0\ngo: downloading github.com/hashicorp/go-sockaddr v1.0.2\n\u001b[0mRemoving intermediate container 8905c18f33fc\n ---> c958c9f8198b\nStep 5/12 : FROM alpine:latest\n ---> 49176f190c7e\nStep 6/12 : LABEL maintainer \"Knut Ahlers <knut@ahlers.me>\"\n ---> Running in 8bac2eba08a0\nRemoving intermediate container 8bac2eba08a0\n ---> 4ec8d2c395ed\nStep 7/12 : RUN set -ex  && apk --no-cache add       ca-certificates\n ---> Running in 2466cc16ce9e\n\u001b[91m+ apk --no-cache add ca-certificates\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 2466cc16ce9e\n ---> 8e59bb19e19b\nStep 8/12 : COPY --from=builder /go/bin/vault-openvpn /usr/local/bin/vault-openvpn\n ---> 6a6bd1aa6d3c\nStep 9/12 : COPY --from=builder /go/src/github.com/Luzifer/vault-openvpn/example/openvpn-sample /usr/local/share/vault-openvpn\n ---> 36dd8d758ea1\nStep 10/12 : WORKDIR /usr/local/share/vault-openvpn\n ---> Running in f06f1dfd3c1b\nRemoving intermediate container f06f1dfd3c1b\n ---> ee470daf5681\nStep 11/12 : ENTRYPOINT [\"/usr/local/bin/vault-openvpn\"]\n ---> Running in 46c0a952981e\nRemoving intermediate container 46c0a952981e\n ---> 0afc6168fcb7\nStep 12/12 : CMD [\"--\"]\n ---> Running in 3a4c15aca186\nRemoving intermediate container 3a4c15aca186\n ---> 4d496c8b4aaa\nSuccessfully built 4d496c8b4aaa\nSuccessfully tagged vault-openvpn:latest\n","stderr":"","imageSize":20373498},"endTime":1672278738612}