{"repository":"https://github.com/posativ/isso","dockerfilePath":"Dockerfile","startTime":1672816462119,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/posativ/isso'...\n","error":null,"commit":"13f7a9357708584a87704c099168e9c1bb90624a"},"originalBuild":{"startTimestamp":1672816463166,"endTimestamp":1672816525143,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t isso:latest -f /tmp/dinghy-analysis/posativ/isso/Dockerfile ."},"stdout":"Sending build context to Docker daemon  2.098MB\r\r\nStep 1/29 : FROM node:current-alpine AS isso-js\ncurrent-alpine: Pulling from library/node\nDigest: sha256:3ed634e0f15d3e05a1918c3949963508f7ed56350cf94156e6d804ae577849fa\nStatus: Downloaded newer image for node:current-alpine\n ---> f01bef8b5e92\nStep 2/29 : WORKDIR /src/\n ---> Running in d0539c8d9fc8\nRemoving intermediate container d0539c8d9fc8\n ---> 9f4f519223d7\nStep 3/29 : RUN apk add --no-cache make\n ---> Running in 765a1994ebff\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 18 packages\nRemoving intermediate container 765a1994ebff\n ---> f8b05c13e924\nStep 4/29 : COPY [\"Makefile\", \"package.json\", \"package-lock.json\", \"./\"]\n ---> c59b12eacc00\nStep 5/29 : RUN echo -e \"audit=false\\nfund=false\" > /root/.npmrc\n ---> Running in 14074b0da769\nRemoving intermediate container 14074b0da769\n ---> 4cca0b7a005c\nStep 6/29 : RUN make init\n ---> Running in 0383796b7658\n\u001b[91mfind: isso/js/app: No such file or directory\n\u001b[0m\u001b[91mls: isso/js/*.js: No such file or directory\n\u001b[0m\u001b[91mfind: isso/: No such file or directory\n\u001b[0m\u001b[91mfind: docs/: No such file or directory\n\u001b[0m\u001b[91mfind: docs/_extensions/: No such file or directory\n\u001b[0m\u001b[91mfind: docs/_static/css/neat: No such file or directory\n\u001b[0m\u001b[91mfind: docs/_static/css/bourbon: No such file or directory\n\u001b[0mnpm install --omit=optional\n\nadded 125 packages in 4s\nRemoving intermediate container 0383796b7658\n ---> b2ca77f0f1b5\nStep 7/29 : COPY [\"isso/js/\", \"./isso/js/\"]\n ---> 76a19537af89\nStep 8/29 : RUN make js\n ---> Running in 4ecc9baa5fa7\n\u001b[91mfind: docs/: No such file or directory\n\u001b[0m\u001b[91mfind: docs/_extensions/: No such file or directory\n\u001b[0m\u001b[91mfind: docs/_static/css/neat: No such file or directory\n\u001b[0m\u001b[91mfind: docs/_static/css/bourbon: No such file or directory\n\u001b[0mnpm run build-prod\n\n> build-prod\n> webpack --config isso/js/webpack.config.js --merge --config-name dev --config-name prod\n\nasset embed.min.js 59.5 KiB [emitted] [minimized] (name: embed)\nasset count.min.js 44.5 KiB [emitted] [minimized] (name: count)\nmodules by path ./isso/js/app/i18n/*.js 37.3 KiB 28 modules\nmodules by path ./isso/js/app/*.js 40 KiB 11 modules\nmodules by path ./isso/js/app/lib/*.js 4.25 KiB\n  ./isso/js/app/lib/ready.js 522 bytes [built] [code generated]\n  + 2 modules\nmodules by path ./isso/js/app/templates/*.js 5 KiB\n  ./isso/js/app/templates/postbox.js 2.29 KiB [built] [code generated]\n  + 2 modules\nmodules by path ./isso/js/*.js 6 KiB\n  ./isso/js/embed.js 5.89 KiB [built] [code generated]\n  ./isso/js/count.js 115 bytes [built] [code generated]\nasset modules 1.08 KiB\n  ./isso/js/app/svg/arrow-down.svg 551 bytes [built] [code generated]\n  ./isso/js/app/svg/arrow-up.svg 551 bytes [built] [code generated]\nprod (webpack 5.72.0) compiled successfully in 898 ms\nnpm run build-dev\n\n> build-dev\n> webpack --config isso/js/webpack.config.js --config-name dev\n\ndev:\n  asset embed.dev.js 107 KiB [emitted] (name: embed) 1 related asset\n  asset count.dev.js 74.2 KiB [emitted] (name: count) 1 related asset\n  modules by path ./isso/js/app/i18n/*.js 37.3 KiB 28 modules\n  modules by path ./isso/js/app/*.js 40 KiB 11 modules\n  modules by path ./isso/js/app/lib/*.js 4.25 KiB\n    ./isso/js/app/lib/ready.js 522 bytes [built] [code generated]\n    + 2 modules\n  modules by path ./isso/js/app/templates/*.js 5 KiB\n    ./isso/js/app/templates/postbox.js 2.29 KiB [built] [code generated]\n    + 2 modules\n  modules by path ./isso/js/*.js 6 KiB\n    ./isso/js/embed.js 5.89 KiB [built] [code generated]\n    ./isso/js/count.js 115 bytes [built] [code generated]\n  asset modules 1.08 KiB\n    ./isso/js/app/svg/arrow-down.svg 551 bytes [built] [code generated]\n    ./isso/js/app/svg/arrow-up.svg 551 bytes [built] [code generated]\n  dev (webpack 5.72.0) compiled successfully in 291 ms\nRemoving intermediate container 4ecc9baa5fa7\n ---> c994c2c57a18\nStep 9/29 : FROM python:3.10-alpine AS isso-builder\n3.10-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\na004f9671752: Pulling fs layer\nf41086029229: Pulling fs layer\na8dbc4976a6c: Pulling fs layer\nf41086029229: Verifying Checksum\nf41086029229: Download complete\na8dbc4976a6c: Verifying Checksum\na8dbc4976a6c: Download complete\na004f9671752: Verifying Checksum\na004f9671752: Download complete\na004f9671752: Pull complete\nf41086029229: Pull complete\na8dbc4976a6c: Pull complete\nDigest: sha256:63d0c387f30f82da7e9404b7157b6f077656b5263c8d64c7b7b889f4d8c1c60a\nStatus: Downloaded newer image for python:3.10-alpine\n ---> 2527f31628e7\nStep 10/29 : WORKDIR /isso/\n ---> Running in 3b9d924587f8\nRemoving intermediate container 3b9d924587f8\n ---> b00e63cefd0b\nStep 11/29 : RUN python3 -m venv /isso  && . /isso/bin/activate  && pip3 install --no-cache-dir --upgrade pip  && pip3 install --no-cache-dir gunicorn\n ---> Running in ebc7711c7793\nRequirement already satisfied: pip in ./lib/python3.10/site-packages (22.3.1)\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 11.2 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in ./lib/python3.10/site-packages (from gunicorn) (65.5.0)\nInstalling collected packages: gunicorn\nSuccessfully installed gunicorn-20.1.0\nRemoving intermediate container ebc7711c7793\n ---> 124f6c8f30d3\nStep 12/29 : RUN apk add --no-cache gcc libffi-dev libc-dev\n ---> Running in b9a19d4123bf\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/15) Installing libgcc (12.2.1_git20220924-r4)\n(2/15) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/15) Installing binutils (2.39-r2)\n(4/15) Installing libgomp (12.2.1_git20220924-r4)\n(5/15) Installing libatomic (12.2.1_git20220924-r4)\n(6/15) Installing gmp (6.2.1-r2)\n(7/15) Installing isl25 (0.25-r0)\n(8/15) Installing mpfr4 (4.1.0-r0)\n(9/15) Installing mpc1 (1.2.1-r1)\n(10/15) Installing gcc (12.2.1_git20220924-r4)\n(11/15) Installing musl-dev (1.2.3-r4)\n(12/15) Installing libc-dev (0.7.2-r3)\n(13/15) Installing linux-headers (5.19.5-r0)\n(14/15) Installing pkgconf (1.9.3-r0)\n(15/15) Installing libffi-dev (3.4.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 169 MiB in 52 packages\nRemoving intermediate container b9a19d4123bf\n ---> 7ab698adaf9e\nStep 13/29 : RUN . /isso/bin/activate  && pip3 install cffi\n ---> Running in 9ab1bf9f51b8\nCollecting cffi\n  Downloading cffi-1.15.1-cp310-cp310-musllinux_1_1_x86_64.whl (464 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 464.1/464.1 kB 13.9 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 5.4 MB/s eta 0:00:00\nInstalling collected packages: pycparser, cffi\nSuccessfully installed cffi-1.15.1 pycparser-2.21\nRemoving intermediate container 9ab1bf9f51b8\n ---> 26e392e05afa\nStep 14/29 : COPY [\"setup.py\", \"setup.cfg\", \"README.md\", \"LICENSE\", \"./\"]\n ---> 7a2752224c7e\nStep 15/29 : RUN --mount=type=cache,target=/root/.cache   . /isso/bin/activate  && python3 setup.py develop\n","stderr":"the --mount option requires BuildKit. Refer to https://docs.docker.com/go/buildkit/ to learn how to build images with BuildKit enabled\n"},"endTime":1672816525234}