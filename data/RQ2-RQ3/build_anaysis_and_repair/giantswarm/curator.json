{"repository":"https://github.com/giantswarm/curator","dockerfilePath":"Dockerfile","startTime":1672486450741,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/giantswarm/curator'...\n","error":null,"commit":"695a03a1d1aa700f1ee510e07b1bcf4be1fd5e45"},"originalBuild":{"startTimestamp":1672486451588,"endTimestamp":1672486515382,"error":null,"stdout":"Sending build context to Docker daemon  31.23kB\r\r\nStep 1/5 : FROM alpine:3.8\n3.8: Pulling from library/alpine\nDigest: sha256:2bb501e6173d9d006e56de5bce2720eb06396803300fe1687b58a7ff32bf4c14\nStatus: Downloaded newer image for alpine:3.8\n ---> c8bccc0af957\nStep 2/5 : RUN apk add --no-cache python3 &&     python3 -m ensurepip &&     rm -r /usr/lib/python*/ensurepip &&     pip3 install --upgrade pip setuptools &&     if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &&     if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &&     rm -r /root/.cache\n ---> Running in 051ee7309f26\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.6-r7)\n(2/11) Installing expat (2.2.8-r0)\n(3/11) Installing libffi (3.2.1-r4)\n(4/11) Installing gdbm (1.13-r1)\n(5/11) Installing xz-libs (5.2.4-r0)\n(6/11) Installing ncurses-terminfo-base (6.1_p20180818-r1)\n(7/11) Installing ncurses-terminfo (6.1_p20180818-r1)\n(8/11) Installing ncurses-libs (6.1_p20180818-r1)\n(9/11) Installing readline (7.0.003-r0)\n(10/11) Installing sqlite-libs (3.25.3-r4)\n(11/11) Installing python3 (3.6.9-r1)\nExecuting busybox-1.28.4-r3.trigger\nOK: 67 MiB in 24 packages\nLooking in links: /tmp/tmpgiiq0wl_\nRequirement already satisfied: setuptools in /usr/lib/python3.6/site-packages (40.6.2)\nRequirement already satisfied: pip in /usr/lib/python3.6/site-packages (18.1)\nCollecting pip\n  Downloading https://files.pythonhosted.org/packages/a4/6d/6463d49a933f547439d6b5b98b46af8742cc03ae83543e4d7688c2420f8b/pip-21.3.1-py3-none-any.whl (1.7MB)\nCollecting setuptools\n  Downloading https://files.pythonhosted.org/packages/b0/3a/88b210db68e56854d0bcf4b38e165e03be377e13907746f825790f3df5bf/setuptools-59.6.0-py3-none-any.whl (952kB)\nInstalling collected packages: pip, setuptools\n  Found existing installation: pip 18.1\n    Uninstalling pip-18.1:\n      Successfully uninstalled pip-18.1\n  Found existing installation: setuptools 40.6.2\n    Uninstalling setuptools-40.6.2:\n      Successfully uninstalled setuptools-40.6.2\nSuccessfully installed pip-21.3.1 setuptools-59.6.0\nRemoving intermediate container 051ee7309f26\n ---> a7ca774fb9d6\nStep 3/5 : RUN pip install elasticsearch\n ---> Running in 0430f30d83d8\nCollecting elasticsearch\n  Downloading elasticsearch-8.5.3-py3-none-any.whl (385 kB)\nCollecting elastic-transport<9,>=8\n  Downloading elastic_transport-8.4.0-py3-none-any.whl (59 kB)\nCollecting dataclasses\n  Downloading dataclasses-0.8-py3-none-any.whl (19 kB)\nCollecting urllib3<2,>=1.26.2\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nInstalling collected packages: urllib3, dataclasses, certifi, elastic-transport, elasticsearch\nSuccessfully installed certifi-2022.12.7 dataclasses-0.8 elastic-transport-8.4.0 elasticsearch-8.5.3 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 0430f30d83d8\n ---> a0ea985ca2e7\nStep 4/5 : ADD ./curator.py /curator.py\n ---> 0f3b5347427b\nStep 5/5 : ENTRYPOINT [\"python\", \"/curator.py\"]\n ---> Running in e4f764748727\nRemoving intermediate container e4f764748727\n ---> 7d55fb9443bc\nSuccessfully built 7d55fb9443bc\nSuccessfully tagged curator:latest\n","stderr":"","imageSize":64768780},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":6,"end":6,"columnStart":4,"columnEnd":41}},{"name":"pipUseNoCacheDir","position":{"start":11,"end":11,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"FROM alpine:3.8\n\n\nRUN apk add --no-cache python3 && \\\n    python3 -m ensurepip && \\\n    rm -r /usr/lib/python*/ensurepip && \\\n    pip3 install --no-cache-dir --upgrade pip setuptools && \\\n    if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi && \\\n    if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi && \\\n    rm -r /root/.cache\n\nRUN pip install --no-cache-dir elasticsearch\n\nADD ./curator.py /curator.py\n\nENTRYPOINT [\"python\", \"/curator.py\"]\n"},"repairedBuild":{"startTimestamp":1672486519848,"endTimestamp":1672486539060,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t curator:latest -f /tmp/dinghy-analysis/giantswarm/curator/Dockerfile ."},"stdout":"Sending build context to Docker daemon  31.23kB\r\r\nStep 1/5 : FROM alpine:3.8\n ---> c8bccc0af957\nStep 2/5 : RUN apk add --no-cache python3 &&     python3 -m ensurepip &&     rm -r /usr/lib/python*/ensurepip &&     pip3 install --no-cache-dir --upgrade pip setuptools &&     if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &&     if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &&     rm -r /root/.cache\n ---> Running in df4bcd5e5ef0\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.6-r7)\n(2/11) Installing expat (2.2.8-r0)\n(3/11) Installing libffi (3.2.1-r4)\n(4/11) Installing gdbm (1.13-r1)\n(5/11) Installing xz-libs (5.2.4-r0)\n(6/11) Installing ncurses-terminfo-base (6.1_p20180818-r1)\n(7/11) Installing ncurses-terminfo (6.1_p20180818-r1)\n(8/11) Installing ncurses-libs (6.1_p20180818-r1)\n(9/11) Installing readline (7.0.003-r0)\n(10/11) Installing sqlite-libs (3.25.3-r4)\n(11/11) Installing python3 (3.6.9-r1)\nExecuting busybox-1.28.4-r3.trigger\nOK: 67 MiB in 24 packages\nLooking in links: /tmp/tmpl5gvasj_\nRequirement already satisfied: setuptools in /usr/lib/python3.6/site-packages (40.6.2)\nRequirement already satisfied: pip in /usr/lib/python3.6/site-packages (18.1)\nCollecting pip\n  Downloading https://files.pythonhosted.org/packages/a4/6d/6463d49a933f547439d6b5b98b46af8742cc03ae83543e4d7688c2420f8b/pip-21.3.1-py3-none-any.whl (1.7MB)\nCollecting setuptools\n  Downloading https://files.pythonhosted.org/packages/b0/3a/88b210db68e56854d0bcf4b38e165e03be377e13907746f825790f3df5bf/setuptools-59.6.0-py3-none-any.whl (952kB)\nInstalling collected packages: pip, setuptools\n  Found existing installation: pip 18.1\n    Uninstalling pip-18.1:\n      Successfully uninstalled pip-18.1\n  Found existing installation: setuptools 40.6.2\n    Uninstalling setuptools-40.6.2:\n      Successfully uninstalled setuptools-40.6.2\nSuccessfully installed pip-21.3.1 setuptools-59.6.0\n\u001b[91mrm: can't remove '/root/.cache': No such file or directory\n\u001b[0mRemoving intermediate container df4bcd5e5ef0\n","stderr":"The command '/bin/sh -c apk add --no-cache python3 &&     python3 -m ensurepip &&     rm -r /usr/lib/python*/ensurepip &&     pip3 install --no-cache-dir --upgrade pip setuptools &&     if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &&     if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &&     rm -r /root/.cache' returned a non-zero code: 1\n"},"endTime":1672486539140}