{"repository":"https://github.com/banzaicloud/cloudinfo","dockerfilePath":"Dockerfile","startTime":1672233680084,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/banzaicloud/cloudinfo'...\n","error":null,"commit":"8a2aaf4b6011d5813543943be85582f5d4bf8aa2"},"originalBuild":{"startTimestamp":1672233681160,"endTimestamp":1672234527813,"error":null,"stdout":"Sending build context to Docker daemon  3.842MB\r\r\nStep 1/30 : FROM node:16.5.0 as frontend\n16.5.0: Pulling from library/node\n627b765e08d1: Pulling fs layer\nc040670e5e55: Pulling fs layer\n073a180f4992: Pulling fs layer\nbf76209566d0: Pulling fs layer\nca7044ed766e: Pulling fs layer\n51bff5b8b0ef: Pulling fs layer\nec88359bd66f: Pulling fs layer\n1829abc8bab1: Pulling fs layer\n47f423bb50ee: Pulling fs layer\nca7044ed766e: Waiting\n1829abc8bab1: Waiting\nbf76209566d0: Waiting\n51bff5b8b0ef: Waiting\n47f423bb50ee: Waiting\nec88359bd66f: Waiting\n073a180f4992: Verifying Checksum\n073a180f4992: Download complete\nc040670e5e55: Verifying Checksum\nc040670e5e55: Download complete\n627b765e08d1: Verifying Checksum\n627b765e08d1: Download complete\n51bff5b8b0ef: Download complete\nbf76209566d0: Verifying Checksum\nbf76209566d0: Download complete\n1829abc8bab1: Verifying Checksum\n1829abc8bab1: Download complete\n47f423bb50ee: Verifying Checksum\n47f423bb50ee: Download complete\nec88359bd66f: Verifying Checksum\nec88359bd66f: Download complete\nca7044ed766e: Verifying Checksum\nca7044ed766e: Download complete\n627b765e08d1: Pull complete\nc040670e5e55: Pull complete\n073a180f4992: Pull complete\nbf76209566d0: Pull complete\nca7044ed766e: Pull complete\n51bff5b8b0ef: Pull complete\nec88359bd66f: Pull complete\n1829abc8bab1: Pull complete\n47f423bb50ee: Pull complete\nDigest: sha256:8229a1f3580d32fa18b2304fa23df6e9e3d53fdb958fd8ffe812ca7a0a26bb69\nStatus: Downloaded newer image for node:16.5.0\n ---> 8f1b7f0dfc2f\nStep 2/30 : WORKDIR /web\n ---> Running in 1b0755cb547f\nRemoving intermediate container 1b0755cb547f\n ---> 0b7e33091905\nStep 3/30 : COPY web/package.json web/package-lock.json /web/\n ---> 24c3917777e9\nStep 4/30 : RUN npm install --legacy-peer-deps\n ---> Running in a7646a89d7ba\n\nadded 1590 packages, and audited 1591 packages in 36s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n31 vulnerabilities (1 low, 8 moderate, 14 high, 8 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 7.19.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0mRemoving intermediate container a7646a89d7ba\n ---> aa04202baf88\nStep 5/30 : COPY web/ /web/\n ---> 2bd58ea0954d\nStep 6/30 : RUN npm run build-prod\n ---> Running in dfe74add3c16\n\n> web@0.0.0 build-prod\n> ng build --configuration=production --base-href=/\n\n\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91mCompiling @angular/core : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/keycodes : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/animations : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/observers : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/animations/browser : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/collections : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/platform : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/bidi : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/a11y : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/forms : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser/animations : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/scrolling : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/portal : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/layout : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common/http : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-window-token : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser-dynamic : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/overlay : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/core : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/table : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/router : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling time-ago-pipe : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-clipboard : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/button : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/form-field : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/tooltip : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/sort : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/icon : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/progress-spinner : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/select : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/paginator : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/table : es2015 as esm2015\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Generating ES5 bundles for differential loading...\n\u001b[0m\u001b[91m✔ ES5 bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files                      | Names                |      Size\nmain-es5.03462f3acc1904fd3a9c.js         | main                 | 512.41 kB\nmain-es2015.03462f3acc1904fd3a9c.js      | main                 | 437.51 kB\npolyfills-es5.e98d20b13ee865211913.js    | polyfills-es5        | 133.03 kB\nstyles.738b82aa0a871310d6a5.css          | styles               |  79.57 kB\npolyfills-es2015.9d3136cea12d8292d973.js | polyfills            |  35.90 kB\nruntime-es2015.5ddb86faa9646fce2a0b.js   | runtime              |   2.99 kB\nruntime-es5.5ddb86faa9646fce2a0b.js      | runtime              |   2.98 kB\n\n| Initial ES5 Total    | 728.00 kB\n| Initial ES2015 Total | 555.97 kB\n\nLazy Chunk Files                         | Names                |      Size\n536-es5.c91f05580c649b507d98.js          | -                    | 232.88 kB\n536-es2015.c91f05580c649b507d98.js       | -                    | 203.75 kB\n\nBuild at: 2022-12-28T13:24:26.129Z - Hash: 4c0f274da5dcf892ddb2 - Time: 46991ms\nRemoving intermediate container dfe74add3c16\n ---> 7ba91db5038d\nStep 7/30 : FROM golang:1.16-alpine3.13 AS builder\n1.16-alpine3.13: Pulling from library/golang\n5758d4e389a3: Already exists\n04b7a40ca5d5: Pulling fs layer\n452a8c64b8e1: Pulling fs layer\n01da5aed4ae6: Pulling fs layer\n83967ad3b539: Pulling fs layer\n83967ad3b539: Waiting\n452a8c64b8e1: Verifying Checksum\n452a8c64b8e1: Download complete\n04b7a40ca5d5: Download complete\n83967ad3b539: Download complete\n04b7a40ca5d5: Pull complete\n452a8c64b8e1: Pull complete\n01da5aed4ae6: Verifying Checksum\n01da5aed4ae6: Download complete\n01da5aed4ae6: Pull complete\n83967ad3b539: Pull complete\nDigest: sha256:c538c29503b9ac4b874ae776a0537fe16fde4581af896d112e53a44a9963b116\nStatus: Downloaded newer image for golang:1.16-alpine3.13\n ---> e1b239f8b504\nStep 8/30 : ENV GOFLAGS=\"-mod=readonly\"\n ---> Running in ee0f2ea7e4de\nRemoving intermediate container ee0f2ea7e4de\n ---> 86168b080640\nStep 9/30 : RUN apk add --update --no-cache ca-certificates make git curl mercurial\n ---> Running in 4de405fed820\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing brotli-libs (1.0.9-r3)\n(2/18) Installing nghttp2-libs (1.42.0-r1)\n(3/18) Installing libcurl (7.79.1-r3)\n(4/18) Installing curl (7.79.1-r3)\n(5/18) Installing expat (2.2.10-r8)\n(6/18) Installing pcre2 (10.36-r1)\n(7/18) Installing git (2.30.6-r0)\n(8/18) Installing make (4.3-r0)\n(9/18) Installing libbz2 (1.0.8-r1)\n(10/18) Installing libffi (3.3-r2)\n(11/18) Installing gdbm (1.19-r0)\n(12/18) Installing xz-libs (5.2.5-r1)\n(13/18) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(14/18) Installing ncurses-libs (6.2_p20210109-r1)\n(15/18) Installing readline (8.1.0-r0)\n(16/18) Installing sqlite-libs (3.34.1-r0)\n(17/18) Installing python3 (3.8.15-r0)\n(18/18) Installing mercurial (5.5.2-r0)\nExecuting busybox-1.32.1-r7.trigger\nOK: 89 MiB in 33 packages\nRemoving intermediate container 4de405fed820\n ---> 1c7cfe1e043f\nStep 10/30 : RUN mkdir -p /workspace\n ---> Running in 46d33d1895c3\nRemoving intermediate container 46d33d1895c3\n ---> a30d9f9b4ce9\nStep 11/30 : WORKDIR /workspace\n ---> Running in 03903db6e1b1\nRemoving intermediate container 03903db6e1b1\n ---> 64df0b050b60\nStep 12/30 : ARG GOPROXY\n ---> Running in aab2c3891ce0\nRemoving intermediate container aab2c3891ce0\n ---> 215a70941598\nStep 13/30 : COPY go.* /workspace/\n ---> 47565eb6b206\nStep 14/30 : RUN go mod download\n ---> Running in 4853992ef562\nRemoving intermediate container 4853992ef562\n ---> 312d45630476\nStep 15/30 : COPY Makefile main-targets.mk /workspace/\n ---> 890949010b2c\nStep 16/30 : COPY --from=frontend /web/dist/web /workspace/web/dist/web\n ---> 688af5ce7b32\nStep 17/30 : COPY . /workspace\n ---> 8fa8b6d49b10\nStep 18/30 : ARG BUILD_TARGET\n ---> Running in 9adccedbaa37\nRemoving intermediate container 9adccedbaa37\n ---> e0554925fab9\nStep 19/30 : RUN set -xe &&     if [[ \"${BUILD_TARGET}\" == \"debug\" ]]; then         cd /tmp; GOBIN=/workspace/build/debug go get github.com/go-delve/delve/cmd/dlv; cd -;         make build-debug;         mv build/debug /build;     else         make build-release;         mv build/release /build;     fi\n ---> Running in f6a8c2939418\n\u001b[91m+ '[['  '==' debug ]]\n\u001b[0m\u001b[91m+ make build-release\n\u001b[0mmake[1]: Entering directory '/workspace'\ngo build -trimpath -tags \"\" -ldflags \"-w -X main.version=master -X main.commitHash=8a2aaf4 -X main.buildDate=2022-12-28T13:33:32+0000\" -o build/release/cloudinfo ./cmd/cloudinfo\nmake[1]: Leaving directory '/workspace'\n\u001b[91m+ mv build/release /build\n\u001b[0mRemoving intermediate container f6a8c2939418\n ---> 7bf80a96518a\nStep 20/30 : FROM alpine:3.14.0\n3.14.0: Pulling from library/alpine\n5843afab3874: Pulling fs layer\n5843afab3874: Verifying Checksum\n5843afab3874: Download complete\n5843afab3874: Pull complete\nDigest: sha256:adab3844f497ab9171f070d4cae4114b5aec565ac772e2f2579405b78be67c96\nStatus: Downloaded newer image for alpine:3.14.0\n ---> d4ff818577bc\nStep 21/30 : RUN apk add --update --no-cache ca-certificates tzdata bash curl\n ---> Running in ade5e1744774\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/10) Installing ncurses-libs (6.2_p20210612-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing ca-certificates (20220614-r0)\n(6/10) Installing brotli-libs (1.0.9-r5)\n(7/10) Installing nghttp2-libs (1.43.0-r0)\n(8/10) Installing libcurl (7.79.1-r4)\n(9/10) Installing curl (7.79.1-r4)\n(10/10) Installing tzdata (2022f-r1)\nExecuting busybox-1.33.1-r2.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 13 MiB in 24 packages\nRemoving intermediate container ade5e1744774\n ---> 2bcf7e819e45\nStep 22/30 : SHELL [\"/bin/bash\", \"-c\"]\n ---> Running in 17f2f4efebf0\nRemoving intermediate container 17f2f4efebf0\n ---> 881d0cfda830\nStep 23/30 : RUN test ! -e /etc/nsswitch.conf && echo 'hosts: files dns' > /etc/nsswitch.conf\n ---> Running in 28918672b175\nRemoving intermediate container 28918672b175\n ---> 7b181bb177ef\nStep 24/30 : ARG BUILD_TARGET\n ---> Running in d5149d511877\nRemoving intermediate container d5149d511877\n ---> 26fa80e64f09\nStep 25/30 : RUN if [[ \"${BUILD_TARGET}\" == \"debug\" ]]; then apk add --update --no-cache libc6-compat; fi\n ---> Running in 7af0dcbfd63a\nRemoving intermediate container 7af0dcbfd63a\n ---> 5c6950d02f95\nStep 26/30 : COPY --from=builder /build/* /usr/local/bin/\n ---> 9b7ed78eaa6d\nStep 27/30 : COPY configs /etc/cloudinfo/serviceconfig\n ---> 70bc26aec375\nStep 28/30 : RUN sed -i \"s|dataLocation: ./configs/|dataLocation: /etc/cloudinfo/serviceconfig/|g\" /etc/cloudinfo/serviceconfig/services.yaml\n ---> Running in ca941340b116\nRemoving intermediate container ca941340b116\n ---> 2329a37ad25a\nStep 29/30 : ENV CLOUDINFO_SERVICELOADER_SERVICECONFIGLOCATION \"/etc/cloudinfo/serviceconfig\"\n ---> Running in 11ab724f08ca\nRemoving intermediate container 11ab724f08ca\n ---> 80794f685ee3\nStep 30/30 : CMD [\"cloudinfo\"]\n ---> Running in c814e9d227bb\nRemoving intermediate container c814e9d227bb\n ---> 56db16a0618f\nSuccessfully built 56db16a0618f\nSuccessfully tagged cloudinfo:latest\n","stderr":"","imageSize":66963789},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":34}}],"repairedDockerfile":"# UI build image\nFROM node:16.5.0 as frontend\n\nWORKDIR /web\n\nCOPY web/package.json web/package-lock.json /web/\n\nRUN npm install --legacy-peer-deps\n\nCOPY web/ /web/\n\nRUN npm run build-prod\n\n\n# Build image\nFROM golang:1.16-alpine3.13 AS builder\n\nENV GOFLAGS=\"-mod=readonly\"\n\nRUN apk add --update --no-cache ca-certificates make git curl mercurial\n\nRUN mkdir -p /workspace\nWORKDIR /workspace\n\nARG GOPROXY\n\nCOPY go.* /workspace/\nRUN go mod download\n\nCOPY Makefile main-targets.mk /workspace/\n\nCOPY --from=frontend /web/dist/web /workspace/web/dist/web\nCOPY . /workspace\n\nARG BUILD_TARGET\n\nRUN set -xe && \\\n    if [[ \"${BUILD_TARGET}\" == \"debug\" ]]; then \\\n        cd /tmp; GOBIN=/workspace/build/debug go get github.com/go-delve/delve/cmd/dlv; cd -; \\\n        make build-debug; \\\n        mv build/debug /build; \\\n    else \\\n        make build-release; \\\n        mv build/release /build; \\\n    fi\n\n\n# Final image\nFROM alpine:3.14.0\n\nRUN apk add --update --no-cache ca-certificates tzdata bash curl\n\nSHELL [\"/bin/bash\", \"-c\"]\n\n# set up nsswitch.conf for Go's \"netgo\" implementation\n# https://github.com/gliderlabs/docker-alpine/issues/367#issuecomment-424546457\nRUN test ! -e /etc/nsswitch.conf && echo 'hosts: files dns' > /etc/nsswitch.conf\n\nARG BUILD_TARGET\n\nRUN if [[ \"${BUILD_TARGET}\" == \"debug\" ]]; then apk add --update --no-cache libc6-compat; fi\n\nCOPY --from=builder /build/* /usr/local/bin/\n\nCOPY configs /etc/cloudinfo/serviceconfig\n\nRUN sed -i \"s|dataLocation: ./configs/|dataLocation: /etc/cloudinfo/serviceconfig/|g\" /etc/cloudinfo/serviceconfig/services.yaml\n\nENV CLOUDINFO_SERVICELOADER_SERVICECONFIGLOCATION \"/etc/cloudinfo/serviceconfig\"\n\nCMD [\"cloudinfo\"]\n"},"repairedBuild":{"startTimestamp":1672234528259,"endTimestamp":1672235416674,"error":null,"stdout":"Sending build context to Docker daemon  3.842MB\r\r\nStep 1/30 : FROM node:16.5.0 as frontend\n ---> 8f1b7f0dfc2f\nStep 2/30 : WORKDIR /web\n ---> Running in 94de0f5f19ff\nRemoving intermediate container 94de0f5f19ff\n ---> f4c183199c0e\nStep 3/30 : COPY web/package.json web/package-lock.json /web/\n ---> 6e89d50790eb\nStep 4/30 : RUN npm install --legacy-peer-deps\n ---> Running in ede88a3a670b\n\nadded 1590 packages, and audited 1591 packages in 32s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n31 vulnerabilities (1 low, 8 moderate, 14 high, 8 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 7.19.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container ede88a3a670b\n ---> a4de792ebb22\nStep 5/30 : COPY web/ /web/\n ---> 8e6d2e99f5a8\nStep 6/30 : RUN npm run build-prod\n ---> Running in e65098d29884\n\n> web@0.0.0 build-prod\n> ng build --configuration=production --base-href=/\n\n\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91mCompiling @angular/core : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/keycodes : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/animations : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common : es2015 as esm2015\nCompiling @angular/cdk/observers : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/animations/browser : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/collections : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/platform : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/bidi : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/forms : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/a11y : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/scrolling : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser/animations : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/portal : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/layout : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common/http : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/overlay : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/core : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/cdk/table : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-window-token : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser-dynamic : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/router : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling time-ago-pipe : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-clipboard : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/form-field : es2015 as esm2015\nCompiling @angular/material/button : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/tooltip : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/sort : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/icon : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/progress-spinner : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/select : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/paginator : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/material/table : es2015 as esm2015\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Generating ES5 bundles for differential loading...\n\u001b[0m\u001b[91m✔ ES5 bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files                      | Names                |      Size\nmain-es5.03462f3acc1904fd3a9c.js         | main                 | 512.41 kB\nmain-es2015.03462f3acc1904fd3a9c.js      | main                 | 437.51 kB\npolyfills-es5.e98d20b13ee865211913.js    | polyfills-es5        | 133.03 kB\nstyles.738b82aa0a871310d6a5.css          | styles               |  79.57 kB\npolyfills-es2015.9d3136cea12d8292d973.js | polyfills            |  35.90 kB\nruntime-es2015.5ddb86faa9646fce2a0b.js   | runtime              |   2.99 kB\nruntime-es5.5ddb86faa9646fce2a0b.js      | runtime              |   2.98 kB\n\n| Initial ES5 Total    | 728.00 kB\n| Initial ES2015 Total | 555.97 kB\n\nLazy Chunk Files                         | Names                |      Size\n536-es5.c91f05580c649b507d98.js          | -                    | 232.88 kB\n536-es2015.c91f05580c649b507d98.js       | -                    | 203.75 kB\n\nBuild at: 2022-12-28T13:41:41.025Z - Hash: 4c0f274da5dcf892ddb2 - Time: 46086ms\nRemoving intermediate container e65098d29884\n ---> ea83492e45e0\nStep 7/30 : FROM golang:1.16-alpine3.13 AS builder\n ---> e1b239f8b504\nStep 8/30 : ENV GOFLAGS=\"-mod=readonly\"\n ---> Running in 5bac2f55804d\nRemoving intermediate container 5bac2f55804d\n ---> c5c34b857a5d\nStep 9/30 : RUN apk add --update --no-cache ca-certificates make git curl mercurial\n ---> Running in 3ca1ce5a5a30\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing brotli-libs (1.0.9-r3)\n(2/18) Installing nghttp2-libs (1.42.0-r1)\n(3/18) Installing libcurl (7.79.1-r3)\n(4/18) Installing curl (7.79.1-r3)\n(5/18) Installing expat (2.2.10-r8)\n(6/18) Installing pcre2 (10.36-r1)\n(7/18) Installing git (2.30.6-r0)\n(8/18) Installing make (4.3-r0)\n(9/18) Installing libbz2 (1.0.8-r1)\n(10/18) Installing libffi (3.3-r2)\n(11/18) Installing gdbm (1.19-r0)\n(12/18) Installing xz-libs (5.2.5-r1)\n(13/18) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(14/18) Installing ncurses-libs (6.2_p20210109-r1)\n(15/18) Installing readline (8.1.0-r0)\n(16/18) Installing sqlite-libs (3.34.1-r0)\n(17/18) Installing python3 (3.8.15-r0)\n(18/18) Installing mercurial (5.5.2-r0)\nExecuting busybox-1.32.1-r7.trigger\nOK: 89 MiB in 33 packages\nRemoving intermediate container 3ca1ce5a5a30\n ---> e26b45011f41\nStep 10/30 : RUN mkdir -p /workspace\n ---> Running in 2fd3d880f522\nRemoving intermediate container 2fd3d880f522\n ---> ce1e8e43459b\nStep 11/30 : WORKDIR /workspace\n ---> Running in 26e5819f6c7a\nRemoving intermediate container 26e5819f6c7a\n ---> f80b04a84d13\nStep 12/30 : ARG GOPROXY\n ---> Running in 7ccaab1175a3\nRemoving intermediate container 7ccaab1175a3\n ---> e227e0d46c75\nStep 13/30 : COPY go.* /workspace/\n ---> 810f6f3a906a\nStep 14/30 : RUN go mod download\n ---> Running in fba78986ff65\nRemoving intermediate container fba78986ff65\n ---> 94203b6aedcf\nStep 15/30 : COPY Makefile main-targets.mk /workspace/\n ---> fad3f591f9da\nStep 16/30 : COPY --from=frontend /web/dist/web /workspace/web/dist/web\n ---> a3b9d3abc9cb\nStep 17/30 : COPY . /workspace\n ---> f460f715023e\nStep 18/30 : ARG BUILD_TARGET\n ---> Running in 9544d6736f0f\nRemoving intermediate container 9544d6736f0f\n ---> 3a6fb42b6d0e\nStep 19/30 : RUN set -xe &&     if [[ \"${BUILD_TARGET}\" == \"debug\" ]]; then         cd /tmp; GOBIN=/workspace/build/debug go get github.com/go-delve/delve/cmd/dlv; cd -;         make build-debug;         mv build/debug /build;     else         make build-release;         mv build/release /build;     fi\n ---> Running in f280310d5f5c\n\u001b[91m+ '[['  '==' debug ]]\n\u001b[0m\u001b[91m+ make build-release\n\u001b[0mmake[1]: Entering directory '/workspace'\ngo build -trimpath -tags \"\" -ldflags \"-w -X main.version=master -X main.commitHash=8a2aaf4 -X main.buildDate=2022-12-28T13:49:17+0000\" -o build/release/cloudinfo ./cmd/cloudinfo\nmake[1]: Leaving directory '/workspace'\n\u001b[91m+ mv build/release /build\n\u001b[0mRemoving intermediate container f280310d5f5c\n ---> b2d1c464c738\nStep 20/30 : FROM alpine:3.14.0\n ---> d4ff818577bc\nStep 21/30 : RUN apk add --update --no-cache ca-certificates tzdata bash curl\n ---> Running in 0e53999b7785\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/10) Installing ncurses-libs (6.2_p20210612-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing ca-certificates (20220614-r0)\n(6/10) Installing brotli-libs (1.0.9-r5)\n(7/10) Installing nghttp2-libs (1.43.0-r0)\n(8/10) Installing libcurl (7.79.1-r4)\n(9/10) Installing curl (7.79.1-r4)\n(10/10) Installing tzdata (2022f-r1)\nExecuting busybox-1.33.1-r2.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 13 MiB in 24 packages\nRemoving intermediate container 0e53999b7785\n ---> afa840f85124\nStep 22/30 : SHELL [\"/bin/bash\", \"-c\"]\n ---> Running in 68a7c37e9b37\nRemoving intermediate container 68a7c37e9b37\n ---> f171f4f145ab\nStep 23/30 : RUN test ! -e /etc/nsswitch.conf && echo 'hosts: files dns' > /etc/nsswitch.conf\n ---> Running in 7b5e39c72b23\nRemoving intermediate container 7b5e39c72b23\n ---> 921b192293e0\nStep 24/30 : ARG BUILD_TARGET\n ---> Running in ffcc44c3b266\nRemoving intermediate container ffcc44c3b266\n ---> ca394ef25865\nStep 25/30 : RUN if [[ \"${BUILD_TARGET}\" == \"debug\" ]]; then apk add --update --no-cache libc6-compat; fi\n ---> Running in b926ae9edc64\nRemoving intermediate container b926ae9edc64\n ---> 3de4a74cb8ab\nStep 26/30 : COPY --from=builder /build/* /usr/local/bin/\n ---> 5f133c916708\nStep 27/30 : COPY configs /etc/cloudinfo/serviceconfig\n ---> 84f12d67bf2b\nStep 28/30 : RUN sed -i \"s|dataLocation: ./configs/|dataLocation: /etc/cloudinfo/serviceconfig/|g\" /etc/cloudinfo/serviceconfig/services.yaml\n ---> Running in 49117bba7f55\nRemoving intermediate container 49117bba7f55\n ---> c2c2519e229b\nStep 29/30 : ENV CLOUDINFO_SERVICELOADER_SERVICECONFIGLOCATION \"/etc/cloudinfo/serviceconfig\"\n ---> Running in 229ef5dd10ee\nRemoving intermediate container 229ef5dd10ee\n ---> 2487f3225c86\nStep 30/30 : CMD [\"cloudinfo\"]\n ---> Running in 181d40b6e1fb\nRemoving intermediate container 181d40b6e1fb\n ---> c4c4ed0cb65b\nSuccessfully built c4c4ed0cb65b\nSuccessfully tagged cloudinfo:latest\n","stderr":"","imageSize":66963789},"endTime":1672235418031}