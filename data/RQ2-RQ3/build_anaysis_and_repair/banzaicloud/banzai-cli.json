{"repository":"https://github.com/banzaicloud/banzai-cli","dockerfilePath":"Dockerfile","startTime":1672772477849,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/banzaicloud/banzai-cli'...\n","error":null,"commit":"8684de43030a057ef5dcdc32c42840e35978a98d"},"originalBuild":{"startTimestamp":1672772478954,"endTimestamp":1672772661472,"error":null,"stdout":"Sending build context to Docker daemon  4.024MB\r\r\nStep 1/20 : ARG GO_VERSION=1.15\nStep 2/20 : ARG FROM_IMAGE=alpine:latest\nStep 3/20 : FROM golang:${GO_VERSION}-alpine3.12 AS builder\n1.15-alpine3.12: Pulling from library/golang\n339de151aab4: Already exists\nc22b54d2d434: Pulling fs layer\na5898d3d0f1f: Pulling fs layer\n45645685a6b6: Pulling fs layer\na26c0b7800df: Pulling fs layer\na26c0b7800df: Waiting\nc22b54d2d434: Verifying Checksum\nc22b54d2d434: Download complete\na5898d3d0f1f: Download complete\nc22b54d2d434: Pull complete\na26c0b7800df: Verifying Checksum\na26c0b7800df: Download complete\na5898d3d0f1f: Pull complete\n45645685a6b6: Download complete\n45645685a6b6: Pull complete\na26c0b7800df: Pull complete\nDigest: sha256:9069ca4c0deb28dfa50d2aa440d59add49cb95fa30d0b1f41cd215bd235059e6\nStatus: Downloaded newer image for golang:1.15-alpine3.12\n ---> a960d7a304de\nStep 4/20 : RUN apk add --update --no-cache bash ca-certificates make curl git mercurial tzdata\n ---> Running in f271e5a2b1f7\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/19) Installing ncurses-libs (6.2_p20200523-r1)\n(3/19) Installing readline (8.0.4-r0)\n(4/19) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/19) Installing nghttp2-libs (1.41.0-r0)\n(6/19) Installing libcurl (7.79.1-r1)\n(7/19) Installing curl (7.79.1-r1)\n(8/19) Installing expat (2.2.10-r4)\n(9/19) Installing pcre2 (10.35-r0)\n(10/19) Installing git (2.26.3-r1)\n(11/19) Installing make (4.3-r0)\n(12/19) Installing libbz2 (1.0.8-r1)\n(13/19) Installing libffi (3.3-r2)\n(14/19) Installing gdbm (1.13-r1)\n(15/19) Installing xz-libs (5.2.5-r1)\n(16/19) Installing sqlite-libs (3.32.1-r1)\n(17/19) Installing python3 (3.8.10-r0)\n(18/19) Installing mercurial (5.4-r0)\n(19/19) Installing tzdata (2022a-r0)\nExecuting busybox-1.31.1-r20.trigger\nOK: 96 MiB in 34 packages\nRemoving intermediate container f271e5a2b1f7\n ---> 7d52f9173e05\nStep 5/20 : ARG KUBECTL_VERSION=v1.16.1\n ---> Running in fe0ab08442dd\nRemoving intermediate container fe0ab08442dd\n ---> 29f3d4428682\nStep 6/20 : RUN curl -L -s https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/amd64/kubectl -o /usr/local/bin/kubectl\n ---> Running in 4060856dad6e\nRemoving intermediate container 4060856dad6e\n ---> 0bcac5a37184\nStep 7/20 : RUN curl -L -s https://amazon-eks.s3-us-west-2.amazonaws.com/1.14.6/2019-08-22/bin/linux/amd64/aws-iam-authenticator -o /usr/local/bin/aws-iam-authenticator\n ---> Running in 2958bc59578d\nRemoving intermediate container 2958bc59578d\n ---> 754ec2e3003e\nStep 8/20 : RUN chmod +x /usr/local/bin/*\n ---> Running in 2410b25a90b0\nRemoving intermediate container 2410b25a90b0\n ---> 30746dd309ec\nStep 9/20 : RUN mkdir -p /build\n ---> Running in ec41e96bd1d4\nRemoving intermediate container ec41e96bd1d4\n ---> ea7eabb2909b\nStep 10/20 : WORKDIR /build\n ---> Running in d67321200be0\nRemoving intermediate container d67321200be0\n ---> 55dbf4444d01\nStep 11/20 : COPY go.* /build/\n ---> 994603751cde\nStep 12/20 : RUN go mod download\n ---> Running in cae352091b1f\nRemoving intermediate container cae352091b1f\n ---> 88ed78920407\nStep 13/20 : ARG VERSION\n ---> Running in b561cffad8f4\nRemoving intermediate container b561cffad8f4\n ---> 6bd0f7769578\nStep 14/20 : COPY . /build\n ---> 4b68e6c316ea\nStep 15/20 : RUN make build-release\n ---> Running in 48de539fbe7c\ngo build  -tags \"\" -ldflags \"-X main.version=master -X main.commitHash=8684de4 -X main.buildDate=2023-01-03T19:03:46+0000 -X main.pipelineVersion=0.76.0 -w\" -o build/banzai github.com/banzaicloud/banzai-cli/cmd/banzai\nRemoving intermediate container 48de539fbe7c\n ---> 5b6974dd2c12\nStep 16/20 : FROM ${FROM_IMAGE}\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 17/20 : RUN apk add --update --no-cache openssh-client\n ---> Running in 6d790d8ca2a1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing openssh-keygen (9.1_p1-r1)\n(2/6) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(3/6) Installing ncurses-libs (6.3_p20221119-r0)\n(4/6) Installing libedit (20221030.3.1-r0)\n(5/6) Installing openssh-client-common (9.1_p1-r1)\n(6/6) Installing openssh-client-default (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 12 MiB in 21 packages\nRemoving intermediate container 6d790d8ca2a1\n ---> 885f786f6cdc\nStep 18/20 : COPY --from=builder /usr/local/bin/* /bin/\n ---> 713be5acdcad\nStep 19/20 : COPY --from=builder /build/build/banzai /bin/\n ---> af64db36286c\nStep 20/20 : ENTRYPOINT [ \"/bin/banzai\" ]\n ---> Running in 3ba5581bdebd\nRemoving intermediate container 3ba5581bdebd\n ---> a73bea943cd4\nSuccessfully built a73bea943cd4\nSuccessfully tagged banzai-cli:latest\n","stderr":"","imageSize":114979558},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":8,"end":8,"columnStart":4,"columnEnd":141}},{"name":"curlUseFlagF","position":{"start":9,"end":9,"columnStart":4,"columnEnd":156}}],"repairedDockerfile":"ARG GO_VERSION=1.15\nARG FROM_IMAGE=alpine:latest\n\nFROM golang:${GO_VERSION}-alpine3.12 AS builder\nRUN apk add --update --no-cache bash ca-certificates make curl git mercurial tzdata\n\n# Install kubectl\nARG KUBECTL_VERSION=v1.16.1\nRUN curl -f -L -s https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/amd64/kubectl -o /usr/local/bin/kubectl\nRUN curl -f -L -s https://amazon-eks.s3-us-west-2.amazonaws.com/1.14.6/2019-08-22/bin/linux/amd64/aws-iam-authenticator -o /usr/local/bin/aws-iam-authenticator\n\nRUN chmod +x /usr/local/bin/*\n\nRUN mkdir -p /build\nWORKDIR /build\n\nCOPY go.* /build/\nRUN go mod download\n\nARG VERSION\n\nCOPY . /build\nRUN make build-release\n\nFROM ${FROM_IMAGE}\nRUN apk add --update --no-cache openssh-client\nCOPY --from=builder /usr/local/bin/* /bin/\nCOPY --from=builder /build/build/banzai /bin/\n\nENTRYPOINT [ \"/bin/banzai\" ]\n"},"repairedBuild":{"startTimestamp":1672772661787,"endTimestamp":1672772847491,"error":null,"stdout":"Sending build context to Docker daemon  4.024MB\r\r\nStep 1/20 : ARG GO_VERSION=1.15\nStep 2/20 : ARG FROM_IMAGE=alpine:latest\nStep 3/20 : FROM golang:${GO_VERSION}-alpine3.12 AS builder\n ---> a960d7a304de\nStep 4/20 : RUN apk add --update --no-cache bash ca-certificates make curl git mercurial tzdata\n ---> Running in 035fe0f37e96\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/19) Installing ncurses-libs (6.2_p20200523-r1)\n(3/19) Installing readline (8.0.4-r0)\n(4/19) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/19) Installing nghttp2-libs (1.41.0-r0)\n(6/19) Installing libcurl (7.79.1-r1)\n(7/19) Installing curl (7.79.1-r1)\n(8/19) Installing expat (2.2.10-r4)\n(9/19) Installing pcre2 (10.35-r0)\n(10/19) Installing git (2.26.3-r1)\n(11/19) Installing make (4.3-r0)\n(12/19) Installing libbz2 (1.0.8-r1)\n(13/19) Installing libffi (3.3-r2)\n(14/19) Installing gdbm (1.13-r1)\n(15/19) Installing xz-libs (5.2.5-r1)\n(16/19) Installing sqlite-libs (3.32.1-r1)\n(17/19) Installing python3 (3.8.10-r0)\n(18/19) Installing mercurial (5.4-r0)\n(19/19) Installing tzdata (2022a-r0)\nExecuting busybox-1.31.1-r20.trigger\nOK: 96 MiB in 34 packages\nRemoving intermediate container 035fe0f37e96\n ---> 5aaa9e93aa16\nStep 5/20 : ARG KUBECTL_VERSION=v1.16.1\n ---> Running in 56edc805067b\nRemoving intermediate container 56edc805067b\n ---> 33794234ef16\nStep 6/20 : RUN curl -f -L -s https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/amd64/kubectl -o /usr/local/bin/kubectl\n ---> Running in 7a8daa42ee65\nRemoving intermediate container 7a8daa42ee65\n ---> c343517c8f52\nStep 7/20 : RUN curl -f -L -s https://amazon-eks.s3-us-west-2.amazonaws.com/1.14.6/2019-08-22/bin/linux/amd64/aws-iam-authenticator -o /usr/local/bin/aws-iam-authenticator\n ---> Running in ac97b46ad9f8\nRemoving intermediate container ac97b46ad9f8\n ---> 56a6be7fd7b0\nStep 8/20 : RUN chmod +x /usr/local/bin/*\n ---> Running in f9d8b335a6d8\nRemoving intermediate container f9d8b335a6d8\n ---> 5b2163c585d8\nStep 9/20 : RUN mkdir -p /build\n ---> Running in e3a8ef689565\nRemoving intermediate container e3a8ef689565\n ---> c0423491c63a\nStep 10/20 : WORKDIR /build\n ---> Running in 0ef30328f1cf\nRemoving intermediate container 0ef30328f1cf\n ---> 77c61dce7fdf\nStep 11/20 : COPY go.* /build/\n ---> 3dfa2ab2c04d\nStep 12/20 : RUN go mod download\n ---> Running in 32d155545ddb\nRemoving intermediate container 32d155545ddb\n ---> df3dadd7f37a\nStep 13/20 : ARG VERSION\n ---> Running in 6df956d0e37a\nRemoving intermediate container 6df956d0e37a\n ---> 20286562035c\nStep 14/20 : COPY . /build\n ---> bc18a6dfd969\nStep 15/20 : RUN make build-release\n ---> Running in 8af69581f33d\ngo build  -tags \"\" -ldflags \"-X main.version=master -X main.commitHash=8684de4 -X main.buildDate=2023-01-03T19:06:37+0000 -X main.pipelineVersion=0.76.0 -w\" -o build/banzai github.com/banzaicloud/banzai-cli/cmd/banzai\nRemoving intermediate container 8af69581f33d\n ---> dbbbb6f1c076\nStep 16/20 : FROM ${FROM_IMAGE}\n ---> 49176f190c7e\nStep 17/20 : RUN apk add --update --no-cache openssh-client\n ---> Running in 2f1e71b508d1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing openssh-keygen (9.1_p1-r1)\n(2/6) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(3/6) Installing ncurses-libs (6.3_p20221119-r0)\n(4/6) Installing libedit (20221030.3.1-r0)\n(5/6) Installing openssh-client-common (9.1_p1-r1)\n(6/6) Installing openssh-client-default (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 12 MiB in 21 packages\nRemoving intermediate container 2f1e71b508d1\n ---> c50cbb20ad8b\nStep 18/20 : COPY --from=builder /usr/local/bin/* /bin/\n ---> 5fad37a5f8d7\nStep 19/20 : COPY --from=builder /build/build/banzai /bin/\n ---> d55416c4cb75\nStep 20/20 : ENTRYPOINT [ \"/bin/banzai\" ]\n ---> Running in 4936313f674d\nRemoving intermediate container 4936313f674d\n ---> a05038a796ab\nSuccessfully built a05038a796ab\nSuccessfully tagged banzai-cli:latest\n","stderr":"","imageSize":114979558},"endTime":1672772848070}