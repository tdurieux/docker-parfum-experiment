{"repository":"https://github.com/picolab/pico-engine","dockerfilePath":"Dockerfile","startTime":1672432976567,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/picolab/pico-engine'...\n","error":null,"commit":"0be73c266434fb0739e50de7371532a03ab7fe1c"},"originalBuild":{"startTimestamp":1672432977725,"endTimestamp":1672433024667,"error":null,"stdout":"Sending build context to Docker daemon  4.345MB\r\r\nStep 1/7 : FROM node:lts-alpine\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 7c70b6dd4398\nRemoving intermediate container 7c70b6dd4398\n ---> 337860158633\nStep 3/7 : VOLUME [\"/var/pico-image\"]\n ---> Running in e133b7be3f96\nRemoving intermediate container e133b7be3f96\n ---> cf58a49d8d0a\nStep 4/7 : ENV PICO_ENGINE_HOME=/var/pico-image\n ---> Running in 9fc4a4440a30\nRemoving intermediate container 9fc4a4440a30\n ---> 646a2b600438\nStep 5/7 : RUN npm install -g pico-engine\n ---> Running in d6a84a4805a8\n\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m deprecated rotating-file-stream@1.4.6: please use version 2.x\n\u001b[0m\nadded 175 packages, and audited 176 packages in 12s\n\n19 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container d6a84a4805a8\n ---> 1349490e0455\nStep 6/7 : EXPOSE 3000\n ---> Running in 97e4e48dbacd\nRemoving intermediate container 97e4e48dbacd\n ---> 46e3e8c92cbb\nStep 7/7 : CMD [\"pico-engine\"]\n ---> Running in 8ea806d793e9\nRemoving intermediate container 8ea806d793e9\n ---> 1b904e5b7533\nSuccessfully built 1b904e5b7533\nSuccessfully tagged pico-engine:latest\n","stderr":"","imageSize":204560613},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":35,"end":35,"columnStart":4,"columnEnd":30}}],"repairedDockerfile":"#\n# This Dockerfile creates a docker image for the pico engine with an external mount point for the image\n#\n# To build:\n#    docker build -t <username>/<container-name> github.com/picolab/pico-engine\n#\n# For example:\n#    docker build -t pjw/pico-engine github.com/picolab/pico-engine\n#\n# To run:\n#    docker run -p <port>:3000  -v <mount-point>:/var/pico-image -d <username>/container-name>\n#\n# For example:\n#    docker run -p 3001:3000  -v ~/images/pico-image:/var/pico-image -d pjw/pico-engine\n#\n# runs the docker with a port of 3001 and the image files located at ~/tmp/pico-image on the local machine.\n#\n# If you need to set the URL for your engine, you can add the PICO_ENGINE_BASE_URL env variable:\n#\n#    docker run -p 443:3000  -v ~/images/pico-image:/var/pico-image -d pjw/pico-engine -e PICO_ENGINE_BASE_URL=https://picos.picolabs.io\n#\n# You can run the same container multiple times with different ports and mount points to have multiple engines\n# running at the same time.\n#\n\nFROM node:lts-alpine\n\n# Create app directory\nWORKDIR /usr/src/app\n\n# Create mount point for image\nVOLUME [\"/var/pico-image\"]\nENV PICO_ENGINE_HOME=/var/pico-image\n\n# install the production pico-engine\nRUN npm install -g pico-engine\n\n# run it on port 3000 (default)\nEXPOSE 3000\nCMD [\"pico-engine\"]\n\n# This might be useful for creating a docker image of the dev env (includes parser, etc.)\n# # Install app dependencies\n# # A wildcard is used to ensure both package.json AND package-lock.json are copied\n# # where available (npm@5+)\n# COPY package*.json ./\n\n# RUN npm install\n\n# # Bundle app source\n# COPY . .\n\n# EXPOSE 3000\n# RUN npm run clean-setup\n# CMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTimestamp":1672433025029,"endTimestamp":1672433046855,"error":null,"stdout":"Sending build context to Docker daemon  4.345MB\r\r\nStep 1/7 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 6b8902a816cb\nRemoving intermediate container 6b8902a816cb\n ---> 44ca7e021667\nStep 3/7 : VOLUME [\"/var/pico-image\"]\n ---> Running in 9a6219b04e4c\nRemoving intermediate container 9a6219b04e4c\n ---> 6efb8254a792\nStep 4/7 : ENV PICO_ENGINE_HOME=/var/pico-image\n ---> Running in 33b2d925a633\nRemoving intermediate container 33b2d925a633\n ---> baa77e27b586\nStep 5/7 : RUN npm install -g pico-engine\n ---> Running in 5925efd62e30\n\u001b[91mnpm WARN deprecated rotating-file-stream@1.4.6: please use version 2.x\n\u001b[0m\nadded 175 packages, and audited 176 packages in 4s\n\n19 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \n\u001b[0m\u001b[91mnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 5925efd62e30\n ---> 48adefee4f1e\nStep 6/7 : EXPOSE 3000\n ---> Running in ba044876b39b\nRemoving intermediate container ba044876b39b\n ---> a714118a0a66\nStep 7/7 : CMD [\"pico-engine\"]\n ---> Running in a324d055f671\nRemoving intermediate container a324d055f671\n ---> 01f40345a3e5\nSuccessfully built 01f40345a3e5\nSuccessfully tagged pico-engine:latest\n","stderr":"","imageSize":204560601},"endTime":1672433047160}