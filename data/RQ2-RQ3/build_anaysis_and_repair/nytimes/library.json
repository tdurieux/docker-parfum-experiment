{"repository":"https://github.com/nytimes/library","dockerfilePath":"Dockerfile","startTime":1672066152321,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nytimes/library'...\n","error":null,"commit":"33bdd3f892df3403d1c8dd1a27a8cb159f07a58a"},"originalBuild":{"startTimestamp":1672066153339,"endTimestamp":1672066231598,"error":null,"stdout":"Sending build context to Docker daemon  1.896MB\r\r\nStep 1/7 : FROM node:12\n12: Pulling from library/node\nDigest: sha256:01627afeb110b3054ba4a1405541ca095c8bfca1cb6f2be9479c767a2711879e\nStatus: Downloaded newer image for node:12\n ---> 6c8de432fc7f\nStep 2/7 : RUN mkdir -p /usr/src/app\n ---> Running in e4b5ea6148c1\nRemoving intermediate container e4b5ea6148c1\n ---> 8a0b5ca8f394\nStep 3/7 : WORKDIR /usr/src/app\n ---> Running in 11b4f8c71b56\nRemoving intermediate container 11b4f8c71b56\n ---> 9fa9f203b2e3\nStep 4/7 : COPY package.json* package-lock.json* /usr/src/app/\n ---> d924253b0a6b\nStep 5/7 : RUN npm i --production\n ---> Running in f1ef04bedd6f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> node-sass@6.0.1 install /usr/src/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v6.0.1/linux-x64-72_binding.node\nDownload complete\nBinary saved to /usr/src/app/node_modules/node-sass/vendor/linux-x64-72/binding.node\nCaching binary to /root/.npm/node-sass/6.0.1/linux-x64-72_binding.node\n\n> protobufjs@6.8.9 postinstall /usr/src/app/node_modules/protobufjs\n> node scripts/postinstall\n\n\n> node-sass@6.0.1 postinstall /usr/src/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /usr/src/app/node_modules/node-sass/vendor/linux-x64-72/binding.node\nTesting binary\nBinary is fine\nadded 520 packages from 635 contributors and audited 1387 packages in 10.51s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 307 vulnerabilities (24 low, 69 moderate, 196 high, 18 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f1ef04bedd6f\n ---> 00997b37ed92\nStep 6/7 : COPY . /usr/src/app\n ---> a7ea50ce389b\nStep 7/7 : RUN npm run build\n ---> Running in bef0af212b49\n\n> library@1.4.2 build /usr/src/app\n> npm run build:main && npm run build:inline\n\n\n> library@1.4.2 build:main /usr/src/app\n> node-sass --include-path custom/styles --include-path styles/partials --source-map public/css/style.css.map --source-map-contents styles/style.scss public/css/style.css\n\nRendering Complete, saving .css file...\nWrote CSS to /usr/src/app/public/css/style.css\nWrote Source Map to /usr/src/app/public/css/style.css.map\n\n> library@1.4.2 build:inline /usr/src/app\n> node-sass --include-path custom/styles --include-path styles/partials styles/errors.scss public/css/errors.css\n\nRendering Complete, saving .css file...\nWrote CSS to /usr/src/app/public/css/errors.css\nRemoving intermediate container bef0af212b49\n ---> 00b344ea8df7\nSuccessfully built 00b344ea8df7\nSuccessfully tagged library:latest\n","stderr":"","imageSize":1064018186},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":22}},{"name":"mkdirUsrSrcThenRemove","position":{"start":2,"end":2,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:12\n\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\n# Install NPMs\nCOPY package.json* package-lock.json* /usr/src/app/\nRUN npm i --production\n\nCOPY . /usr/src/app\nRUN npm run build\n"},"repairedBuild":{"startTimestamp":1672066232164,"endTimestamp":1672066334400,"error":null,"stdout":"Sending build context to Docker daemon  1.896MB\r\r\nStep 1/7 : FROM node:12\n ---> 6c8de432fc7f\nStep 2/7 : RUN mkdir -p /usr/src/app\n ---> Running in cc2e294d5131\nRemoving intermediate container cc2e294d5131\n ---> e87f370cd0ec\nStep 3/7 : WORKDIR /usr/src/app\n ---> Running in bbfd7cd6dd82\nRemoving intermediate container bbfd7cd6dd82\n ---> 78d75afd23b3\nStep 4/7 : COPY package.json* package-lock.json* /usr/src/app/\n ---> 5f41f551dc7a\nStep 5/7 : RUN npm i --production\n ---> Running in 886beb042441\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mread-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> node-sass@6.0.1 install /usr/src/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v6.0.1/linux-x64-72_binding.node\nDownload complete\nBinary saved to /usr/src/app/node_modules/node-sass/vendor/linux-x64-72/binding.node\nCaching binary to /root/.npm/node-sass/6.0.1/linux-x64-72_binding.node\n\n> protobufjs@6.8.9 postinstall /usr/src/app/node_modules/protobufjs\n> node scripts/postinstall\n\n\n> node-sass@6.0.1 postinstall /usr/src/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /usr/src/app/node_modules/node-sass/vendor/linux-x64-72/binding.node\nTesting binary\nBinary is fine\nadded 520 packages from 635 contributors and audited 1387 packages in 10.913s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 307 vulnerabilities (24 low, 69 moderate, 196 high, 18 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 886beb042441\n ---> 5d5fedf7dd40\nStep 6/7 : COPY . /usr/src/app\n ---> 810b9f0a5f03\nStep 7/7 : RUN npm run build\n ---> Running in 30e41996f73c\n\n> library@1.4.2 build /usr/src/app\n> npm run build:main && npm run build:inline\n\n\n> library@1.4.2 build:main /usr/src/app\n> node-sass --include-path custom/styles --include-path styles/partials --source-map public/css/style.css.map --source-map-contents styles/style.scss public/css/style.css\n\nRendering Complete, saving .css file...\nWrote CSS to /usr/src/app/public/css/style.css\nWrote Source Map to /usr/src/app/public/css/style.css.map\n\n> library@1.4.2 build:inline /usr/src/app\n> node-sass --include-path custom/styles --include-path styles/partials styles/errors.scss public/css/errors.css\n\nRendering Complete, saving .css file...\nWrote CSS to /usr/src/app/public/css/errors.css\nRemoving intermediate container 30e41996f73c\n ---> aaf1e11a2999\nSuccessfully built aaf1e11a2999\nSuccessfully tagged library:latest\n","stderr":"","imageSize":1064019534},"endTime":1672066335320}