{"repository":"https://github.com/boreq/eggplant","dockerfilePath":"Dockerfile","startTime":1672447551502,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/boreq/eggplant'...\n","error":null,"commit":"98fed583698d302a0219f6c65425b1a55e053b52"},"originalBuild":{"startTimestamp":1672447552446,"endTimestamp":1672447587152,"error":null,"stdout":"Sending build context to Docker daemon  2.249MB\r\r\nStep 1/6 : FROM golang:1.17-alpine\n1.17-alpine: Pulling from library/golang\n530afca65e2e: Pulling fs layer\nd450d4da0343: Pulling fs layer\n8162171ecb65: Pulling fs layer\nff63b82a42d3: Pulling fs layer\n5b4b56e6b994: Pulling fs layer\nff63b82a42d3: Waiting\n8162171ecb65: Verifying Checksum\n8162171ecb65: Download complete\nd450d4da0343: Download complete\n530afca65e2e: Verifying Checksum\n530afca65e2e: Download complete\n530afca65e2e: Pull complete\n5b4b56e6b994: Download complete\nd450d4da0343: Pull complete\n8162171ecb65: Pull complete\nff63b82a42d3: Verifying Checksum\nff63b82a42d3: Download complete\nff63b82a42d3: Pull complete\n5b4b56e6b994: Pull complete\nDigest: sha256:99ddec1bbfd6d6bca3f9804c02363daee8c8524dae50df7942e8e60788fd17c9\nStatus: Downloaded newer image for golang:1.17-alpine\n ---> 270c4f58750f\nStep 2/6 : RUN apk add git ffmpeg\n ---> Running in d958005c2eb8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/77) Installing sdl2 (2.0.22-r0)\n(2/77) Installing libxau (1.0.9-r0)\n(3/77) Installing libxdmcp (1.1.3-r0)\n(4/77) Installing libxcb (1.15-r0)\n(5/77) Installing libx11 (1.8-r0)\n(6/77) Installing aom-libs (3.3.0-r0)\n(7/77) Installing alsa-lib (1.2.7.2-r0)\n(8/77) Installing expat (2.5.0-r0)\n(9/77) Installing brotli-libs (1.0.9-r6)\n(10/77) Installing libbz2 (1.0.8-r1)\n(11/77) Installing libpng (1.6.37-r1)\n(12/77) Installing freetype (2.12.1-r0)\n(13/77) Installing fontconfig (2.14.0-r0)\n(14/77) Installing fribidi (1.0.12-r0)\n(15/77) Installing libffi (3.4.2-r1)\n(16/77) Installing libintl (0.21-r2)\n(17/77) Installing libblkid (2.38-r1)\n(18/77) Installing libmount (2.38-r1)\n(19/77) Installing pcre (8.45-r2)\n(20/77) Installing glib (2.72.1-r0)\n(21/77) Installing graphite2 (1.3.14-r1)\n(22/77) Installing harfbuzz (4.3.0-r0)\n(23/77) Installing libass (0.16.0-r0)\n(24/77) Installing libdav1d (1.0.0-r0)\n(25/77) Installing libpciaccess (0.16-r0)\n(26/77) Installing libdrm (2.4.110-r0)\n(27/77) Installing gmp (6.2.1-r2)\n(28/77) Installing nettle (3.7.3-r0)\n(29/77) Installing p11-kit (0.24.1-r0)\n(30/77) Installing libtasn1 (4.18.0-r1)\n(31/77) Installing libunistring (1.0-r0)\n(32/77) Installing gnutls (3.7.7-r0)\n(33/77) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(34/77) Installing ncurses-libs (6.3_p20220521-r0)\n(35/77) Installing lame (3.100-r0)\n(36/77) Installing opus (1.3.1-r1)\n(37/77) Installing libasyncns (0.8-r1)\n(38/77) Installing dbus-libs (1.14.4-r0)\n(39/77) Installing libltdl (2.4.7-r0)\n(40/77) Installing orc (0.4.32-r0)\n(41/77) Installing libgcc (11.2.1_git20220219-r2)\n(42/77) Installing libogg (1.3.5-r1)\n(43/77) Installing libstdc++ (11.2.1_git20220219-r2)\n(44/77) Installing flac (1.3.4-r0)\n(45/77) Installing libvorbis (1.3.7-r0)\n(46/77) Installing libsndfile (1.1.0-r0)\n(47/77) Installing libgomp (11.2.1_git20220219-r2)\n(48/77) Installing soxr (0.1.3-r2)\n(49/77) Installing speexdsp (1.2.0-r0)\n(50/77) Installing tdb-libs (1.4.6-r0)\n(51/77) Installing libpulse (15.0-r2)\n(52/77) Installing cjson (1.7.15-r3)\n(53/77) Installing mbedtls (2.28.2-r0)\n(54/77) Installing librist (0.2.6-r1)\n(55/77) Installing libsrt (1.4.4-r0)\n(56/77) Installing libssh (0.9.6-r1)\n(57/77) Installing libtheora (1.1.1-r16)\n(58/77) Installing libjpeg-turbo (2.1.3-r1)\n(59/77) Installing v4l-utils-libs (1.22.1-r1)\n(60/77) Installing libxext (1.3.4-r0)\n(61/77) Installing libxfixes (6.0.0-r0)\n(62/77) Installing wayland-libs-client (1.20.0-r0)\n(63/77) Installing libva (2.14.0-r0)\n(64/77) Installing libvdpau (1.5-r0)\n(65/77) Installing vidstab (1.1.0-r1)\n(66/77) Installing libvpx (1.11.0-r1)\n(67/77) Installing libwebp (1.2.3-r0)\n(68/77) Installing x264-libs (0.163_git20210613-r0)\n(69/77) Installing numactl (2.0.14-r0)\n(70/77) Installing x265-libs (3.5-r3)\n(71/77) Installing xvidcore (1.3.7-r1)\n(72/77) Installing ffmpeg-libs (5.0.1-r1)\n(73/77) Installing ffmpeg (5.0.1-r1)\n(74/77) Installing nghttp2-libs (1.47.0-r0)\n(75/77) Installing libcurl (7.83.1-r5)\n(76/77) Installing pcre2 (10.40-r0)\n(77/77) Installing git (2.36.3-r0)\nExecuting busybox-1.35.0-r15.trigger\nOK: 111 MiB in 92 packages\nRemoving intermediate container d958005c2eb8\n ---> 01df47d5b088\nStep 3/6 : WORKDIR /eggplant\n ---> Running in b13a72a6b440\nRemoving intermediate container b13a72a6b440\n ---> b4ebc0ac8be6\nStep 4/6 : COPY . /eggplant\n ---> 57b9d82d457d\nStep 5/6 : RUN go install -v ./cmd/eggplant\n ---> Running in c4616b8b3469\n\u001b[91mgo: downloading github.com/pkg/errors v0.8.1\ngo: downloading github.com/boreq/errors v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/inconshreveable/log15 v0.0.0-20180818164646-67afb5ed74ec\n\u001b[0m\u001b[91mgo: downloading github.com/boreq/guinea v0.0.0-20190218203212-75c10cec45e9\n\u001b[0m\u001b[91mgo: downloading go.etcd.io/bbolt v1.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/julienschmidt/httprouter v1.2.0\ngo: downloading github.com/boreq/rest v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/NYTimes/gziphandler v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9\n\u001b[0m\u001b[91mgo: downloading github.com/google/wire v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646\n\u001b[0m\u001b[91mgo: downloading github.com/radovskyb/watcher v1.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-stack/stack v1.8.0\ngo: downloading github.com/mattn/go-isatty v0.0.8\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210124154548-22da62e12c0c\n\u001b[0m\u001b[91mgithub.com/google/wire\n\u001b[0m\u001b[91mgolang.org/x/sys/internal/unsafeheader\n\u001b[0m\u001b[91mgolang.org/x/crypto/blowfish\n\u001b[0m\u001b[91mgithub.com/nfnt/resize\n\u001b[0m\u001b[91mgithub.com/radovskyb/watcher\n\u001b[0m\u001b[91mgithub.com/boreq/errors\n\u001b[0m\u001b[91mgithub.com/pkg/errors\n\u001b[0m\u001b[91mgithub.com/go-stack/stack\n\u001b[0m\u001b[91mgithub.com/boreq/guinea\n\u001b[0m\u001b[91mgolang.org/x/sys/unix\n\u001b[0m\u001b[91mgo.etcd.io/bbolt\n\u001b[0m\u001b[91mgithub.com/pelletier/go-toml\n\u001b[0m\u001b[91mgithub.com/NYTimes/gziphandler\ngithub.com/rs/cors\n\u001b[0m\u001b[91mgithub.com/julienschmidt/httprouter\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application/queries\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application/music\n\u001b[0m\u001b[91mgithub.com/boreq/rest\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/ports/http/frontend\n\u001b[0m\u001b[91mgolang.org/x/crypto/bcrypt\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/music/scanner/symwalk\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application/auth\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/internal/config\n\u001b[0m\u001b[91mgithub.com/mattn/go-isatty\n\u001b[0m\u001b[91mgithub.com/mattn/go-colorable\n\u001b[0m\u001b[91mgithub.com/inconshreveable/log15\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/logging\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/music/scanner\ngithub.com/boreq/eggplant/ports/http\ngithub.com/boreq/eggplant/adapters/music/store\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/auth\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/music/library\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/internal/service\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/internal/wire\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/cmd/eggplant/commands/users\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/cmd/eggplant/commands\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/cmd/eggplant\n\u001b[0mRemoving intermediate container c4616b8b3469\n ---> d53ea6a5c014\nStep 6/6 : CMD [\"/bin/sh\", \"-c\", \"eggplant run --verbosity debug /etc/eggplant/config.toml\"]\n ---> Running in ad6827879ba5\nRemoving intermediate container ad6827879ba5\n ---> c9106cc941d9\nSuccessfully built c9106cc941d9\nSuccessfully tagged eggplant:latest\n","stderr":"","imageSize":464580520},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM golang:1.17-alpine\n\nRUN apk add --no-cache git ffmpeg\n\nWORKDIR /eggplant\nCOPY . /eggplant\n\nRUN go install -v ./cmd/eggplant\n\nCMD [\"/bin/sh\", \"-c\", \"eggplant run --verbosity debug /etc/eggplant/config.toml\"]\n"},"repairedBuild":{"startTimestamp":1672447587517,"endTimestamp":1672447600687,"error":null,"stdout":"Sending build context to Docker daemon  2.249MB\r\r\nStep 1/6 : FROM golang:1.17-alpine\n ---> 270c4f58750f\nStep 2/6 : RUN apk add --no-cache git ffmpeg\n ---> Running in 8452b40be9fc\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/77) Installing sdl2 (2.0.22-r0)\n(2/77) Installing libxau (1.0.9-r0)\n(3/77) Installing libxdmcp (1.1.3-r0)\n(4/77) Installing libxcb (1.15-r0)\n(5/77) Installing libx11 (1.8-r0)\n(6/77) Installing aom-libs (3.3.0-r0)\n(7/77) Installing alsa-lib (1.2.7.2-r0)\n(8/77) Installing expat (2.5.0-r0)\n(9/77) Installing brotli-libs (1.0.9-r6)\n(10/77) Installing libbz2 (1.0.8-r1)\n(11/77) Installing libpng (1.6.37-r1)\n(12/77) Installing freetype (2.12.1-r0)\n(13/77) Installing fontconfig (2.14.0-r0)\n(14/77) Installing fribidi (1.0.12-r0)\n(15/77) Installing libffi (3.4.2-r1)\n(16/77) Installing libintl (0.21-r2)\n(17/77) Installing libblkid (2.38-r1)\n(18/77) Installing libmount (2.38-r1)\n(19/77) Installing pcre (8.45-r2)\n(20/77) Installing glib (2.72.1-r0)\n(21/77) Installing graphite2 (1.3.14-r1)\n(22/77) Installing harfbuzz (4.3.0-r0)\n(23/77) Installing libass (0.16.0-r0)\n(24/77) Installing libdav1d (1.0.0-r0)\n(25/77) Installing libpciaccess (0.16-r0)\n(26/77) Installing libdrm (2.4.110-r0)\n(27/77) Installing gmp (6.2.1-r2)\n(28/77) Installing nettle (3.7.3-r0)\n(29/77) Installing p11-kit (0.24.1-r0)\n(30/77) Installing libtasn1 (4.18.0-r1)\n(31/77) Installing libunistring (1.0-r0)\n(32/77) Installing gnutls (3.7.7-r0)\n(33/77) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(34/77) Installing ncurses-libs (6.3_p20220521-r0)\n(35/77) Installing lame (3.100-r0)\n(36/77) Installing opus (1.3.1-r1)\n(37/77) Installing libasyncns (0.8-r1)\n(38/77) Installing dbus-libs (1.14.4-r0)\n(39/77) Installing libltdl (2.4.7-r0)\n(40/77) Installing orc (0.4.32-r0)\n(41/77) Installing libgcc (11.2.1_git20220219-r2)\n(42/77) Installing libogg (1.3.5-r1)\n(43/77) Installing libstdc++ (11.2.1_git20220219-r2)\n(44/77) Installing flac (1.3.4-r0)\n(45/77) Installing libvorbis (1.3.7-r0)\n(46/77) Installing libsndfile (1.1.0-r0)\n(47/77) Installing libgomp (11.2.1_git20220219-r2)\n(48/77) Installing soxr (0.1.3-r2)\n(49/77) Installing speexdsp (1.2.0-r0)\n(50/77) Installing tdb-libs (1.4.6-r0)\n(51/77) Installing libpulse (15.0-r2)\n(52/77) Installing cjson (1.7.15-r3)\n(53/77) Installing mbedtls (2.28.2-r0)\n(54/77) Installing librist (0.2.6-r1)\n(55/77) Installing libsrt (1.4.4-r0)\n(56/77) Installing libssh (0.9.6-r1)\n(57/77) Installing libtheora (1.1.1-r16)\n(58/77) Installing libjpeg-turbo (2.1.3-r1)\n(59/77) Installing v4l-utils-libs (1.22.1-r1)\n(60/77) Installing libxext (1.3.4-r0)\n(61/77) Installing libxfixes (6.0.0-r0)\n(62/77) Installing wayland-libs-client (1.20.0-r0)\n(63/77) Installing libva (2.14.0-r0)\n(64/77) Installing libvdpau (1.5-r0)\n(65/77) Installing vidstab (1.1.0-r1)\n(66/77) Installing libvpx (1.11.0-r1)\n(67/77) Installing libwebp (1.2.3-r0)\n(68/77) Installing x264-libs (0.163_git20210613-r0)\n(69/77) Installing numactl (2.0.14-r0)\n(70/77) Installing x265-libs (3.5-r3)\n(71/77) Installing xvidcore (1.3.7-r1)\n(72/77) Installing ffmpeg-libs (5.0.1-r1)\n(73/77) Installing ffmpeg (5.0.1-r1)\n(74/77) Installing nghttp2-libs (1.47.0-r0)\n(75/77) Installing libcurl (7.83.1-r5)\n(76/77) Installing pcre2 (10.40-r0)\n(77/77) Installing git (2.36.3-r0)\nExecuting busybox-1.35.0-r15.trigger\nOK: 111 MiB in 92 packages\nRemoving intermediate container 8452b40be9fc\n ---> 7ebd9314cf70\nStep 3/6 : WORKDIR /eggplant\n ---> Running in 47cf3608af47\nRemoving intermediate container 47cf3608af47\n ---> 4e366eca043e\nStep 4/6 : COPY . /eggplant\n ---> 754d8686e49f\nStep 5/6 : RUN go install -v ./cmd/eggplant\n ---> Running in 281364bbb8b5\n\u001b[91mgo: downloading github.com/boreq/guinea v0.0.0-20190218203212-75c10cec45e9\n\u001b[0m\u001b[91mgo: downloading github.com/inconshreveable/log15 v0.0.0-20180818164646-67afb5ed74ec\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/boreq/errors v0.1.0\n\u001b[0m\u001b[91mgo: downloading go.etcd.io/bbolt v1.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646\n\u001b[0m\u001b[91mgo: downloading github.com/google/wire v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/julienschmidt/httprouter v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/NYTimes/gziphandler v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/boreq/rest v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/radovskyb/watcher v1.0.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.2\ngo: downloading github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.8\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210124154548-22da62e12c0c\n\u001b[0m\u001b[91mgithub.com/google/wire\n\u001b[0m\u001b[91mgolang.org/x/sys/internal/unsafeheader\n\u001b[0m\u001b[91mgolang.org/x/crypto/blowfish\n\u001b[0m\u001b[91mgithub.com/nfnt/resize\n\u001b[0m\u001b[91mgithub.com/boreq/errors\n\u001b[0m\u001b[91mgithub.com/go-stack/stack\ngithub.com/pkg/errors\n\u001b[0m\u001b[91mgolang.org/x/sys/unix\n\u001b[0m\u001b[91mgithub.com/radovskyb/watcher\n\u001b[0m\u001b[91mgithub.com/boreq/guinea\n\u001b[0m\u001b[91mgo.etcd.io/bbolt\n\u001b[0m\u001b[91mgithub.com/pelletier/go-toml\n\u001b[0m\u001b[91mgithub.com/NYTimes/gziphandler\ngithub.com/rs/cors\n\u001b[0m\u001b[91mgithub.com/julienschmidt/httprouter\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application/queries\ngithub.com/boreq/rest\ngithub.com/boreq/eggplant/application/music\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/ports/http/frontend\n\u001b[0m\u001b[91mgolang.org/x/crypto/bcrypt\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/music/scanner/symwalk\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application/auth\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/application\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/internal/config\n\u001b[0m\u001b[91mgithub.com/mattn/go-isatty\n\u001b[0m\u001b[91mgithub.com/mattn/go-colorable\n\u001b[0m\u001b[91mgithub.com/inconshreveable/log15\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/logging\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/music/scanner\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/auth\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/ports/http\ngithub.com/boreq/eggplant/adapters/music/store\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/internal/service\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/adapters/music/library\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/internal/wire\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/cmd/eggplant/commands/users\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/cmd/eggplant/commands\n\u001b[0m\u001b[91mgithub.com/boreq/eggplant/cmd/eggplant\n\u001b[0mRemoving intermediate container 281364bbb8b5\n ---> 7f26b190e38d\nStep 6/6 : CMD [\"/bin/sh\", \"-c\", \"eggplant run --verbosity debug /etc/eggplant/config.toml\"]\n ---> Running in c35780a597c1\nRemoving intermediate container c35780a597c1\n ---> f3b1bbadcd32\nSuccessfully built f3b1bbadcd32\nSuccessfully tagged eggplant:latest\n","stderr":"","imageSize":462114631},"endTime":1672447600996}