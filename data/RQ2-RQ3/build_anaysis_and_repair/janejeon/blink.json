{"repository":"https://github.com/janejeon/blink","dockerfilePath":"Dockerfile","startTime":1672277488836,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/janejeon/blink'...\n","error":null,"commit":"8eee89d967e46566f8627a69f3406f67fcbee009"},"originalBuild":{"startTimestamp":1672277489840,"endTimestamp":1672278005628,"error":null,"stdout":"Sending build context to Docker daemon  1.805MB\r\r\nStep 1/26 : FROM node:lts-alpine AS deps\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/26 : RUN apk add --no-cache --virtual .gyp python3 make g++ libc6-compat &&     npm i -g npm\n ---> Running in efd748771e77\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libbz2 (1.0.8-r4)\n(2/26) Installing libexpat (2.5.0-r0)\n(3/26) Installing libffi (3.4.4-r0)\n(4/26) Installing gdbm (1.23-r0)\n(5/26) Installing xz-libs (5.2.9-r0)\n(6/26) Installing mpdecimal (2.5.1-r1)\n(7/26) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(8/26) Installing ncurses-libs (6.3_p20221119-r0)\n(9/26) Installing readline (8.2.0-r0)\n(10/26) Installing sqlite-libs (3.40.1-r0)\n(11/26) Installing python3 (3.10.9-r1)\n(12/26) Installing make (4.3-r1)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing binutils (2.39-r2)\n(15/26) Installing libgomp (12.2.1_git20220924-r4)\n(16/26) Installing libatomic (12.2.1_git20220924-r4)\n(17/26) Installing gmp (6.2.1-r2)\n(18/26) Installing isl25 (0.25-r0)\n(19/26) Installing mpfr4 (4.1.0-r0)\n(20/26) Installing mpc1 (1.2.1-r1)\n(21/26) Installing gcc (12.2.1_git20220924-r4)\n(22/26) Installing musl-dev (1.2.3-r4)\n(23/26) Installing libc-dev (0.7.2-r3)\n(24/26) Installing g++ (12.2.1_git20220924-r4)\n(25/26) Installing libc6-compat (1.2.3-r4)\n(26/26) Installing .gyp (20221229.013132)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 43 packages\n\nremoved 14 packages, changed 75 packages, and audited 232 packages in 1m\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container efd748771e77\n ---> 3cff1da7e034\nStep 3/26 : ENV NPM_CONFIG_PREFER_OFFLINE=true\n ---> Running in 7d224fdfc0f4\nRemoving intermediate container 7d224fdfc0f4\n ---> 636e30c41a32\nStep 4/26 : ENV PATH=\"node_modules/.bin:$PATH\"\n ---> Running in 76eaecaee46c\nRemoving intermediate container 76eaecaee46c\n ---> d2b6f675b61f\nStep 5/26 : USER node\n ---> Running in fbf4d6230250\nRemoving intermediate container fbf4d6230250\n ---> 76b0050f9956\nStep 6/26 : WORKDIR /home/node\n ---> Running in 45665e84bdee\nRemoving intermediate container 45665e84bdee\n ---> 7fa7fc04a711\nStep 7/26 : COPY --chown=node:node [ \"package*.json\", \".npmrc\", \"./\" ]\n ---> 6804d4c08747\nStep 8/26 : RUN npm ci\n ---> Running in 8063846bec21\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: eslint-config-standard@16.0.3\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN Found: eslint@8.5.0\nnpm WARN node_modules/eslint\nnpm\u001b[0m\u001b[91m WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm WARN\u001b[0m\u001b[91m   node_modules/@babel/eslint-parser\nnpm WARN\u001b[0m\u001b[91m     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\nnpm\u001b[0m\u001b[91m WARN     node_modules/eslint-config-react-app\nnpm WARN\u001b[0m\u001b[91m   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\nnpm\u001b[0m\u001b[91m WARN \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN Could not resolve dependency:\nnpm WARN peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN node_modules/eslint-config-standard\nnpm WARN   eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm\u001b[0m\u001b[91m WARN   node_modules/@janejeon/eslint-config\nnpm WARN \n\u001b[0m\u001b[91mnpm WARN Conflicting peer dependency: eslint@7.32.0\nnpm WARN node_modules/eslint\nnpm WARN   peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN\u001b[0m\u001b[91m   node_modules/eslint-config-standard\nnpm WARN     eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm WARN     node_modules/@janejeon/eslint-config\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: eslint-plugin-promise@5.2.0\nnpm WARN Found: eslint@8.5.0\nnpm WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm WARN   node_modules/@babel/eslint-parser\nnpm WARN     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\n\u001b[0m\u001b[91mnpm WARN     node_modules/eslint-config-react-app\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm\u001b[0m\u001b[91m WARN peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm\u001b[0m\u001b[91m WARN node_modules/eslint-plugin-promise\nnpm WARN\u001b[0m\u001b[91m   peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   node_modules/eslint-config-standard\nnpm \u001b[0m\u001b[91mWARN \nnpm WARN Conflicting peer dependency: eslint@7.32.0\nnpm \u001b[0m\u001b[91mWARN node_modules/eslint\n\u001b[0m\u001b[91mnpm WARN   peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   node_modules/eslint-plugin-promise\n\u001b[0m\u001b[91mnpm WARN     peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm WARN\u001b[0m\u001b[91m     node_modules/eslint-config-standard\n\u001b[0m\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm WARN EBADENGINE   package: 'openid-client@5.1.1',\nnpm WARN EBADENGINE   required: { node: '^12.19.0 || ^14.15.0 || ^16.13.0' },\nnpm WARN EBADENGINE   current: { node: 'v18.12.1', npm: '9.2.0' }\nnpm WARN EBADENGINE\u001b[0m\u001b[91m }\n\u001b[0m\nadded 1831 packages in 1m\nRemoving intermediate container 8063846bec21\n ---> 6b5cf85dae0f\nStep 9/26 : COPY --chown=node:node . .\n ---> cae3f82c5011\nStep 10/26 : FROM node:lts-alpine AS build\n ---> 6d7b7852bcd3\nStep 11/26 : RUN apk add --no-cache --virtual .gyp python3 make g++ libc6-compat &&     npm i -g npm\n ---> Running in 4c18e882a0e8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libbz2 (1.0.8-r4)\n(2/26) Installing libexpat (2.5.0-r0)\n(3/26) Installing libffi (3.4.4-r0)\n(4/26) Installing gdbm (1.23-r0)\n(5/26) Installing xz-libs (5.2.9-r0)\n(6/26) Installing mpdecimal (2.5.1-r1)\n(7/26) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(8/26) Installing ncurses-libs (6.3_p20221119-r0)\n(9/26) Installing readline (8.2.0-r0)\n(10/26) Installing sqlite-libs (3.40.1-r0)\n(11/26) Installing python3 (3.10.9-r1)\n(12/26) Installing make (4.3-r1)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing binutils (2.39-r2)\n(15/26) Installing libgomp (12.2.1_git20220924-r4)\n(16/26) Installing libatomic (12.2.1_git20220924-r4)\n(17/26) Installing gmp (6.2.1-r2)\n(18/26) Installing isl25 (0.25-r0)\n(19/26) Installing mpfr4 (4.1.0-r0)\n(20/26) Installing mpc1 (1.2.1-r1)\n(21/26) Installing gcc (12.2.1_git20220924-r4)\n(22/26) Installing musl-dev (1.2.3-r4)\n(23/26) Installing libc-dev (0.7.2-r3)\n(24/26) Installing g++ (12.2.1_git20220924-r4)\n(25/26) Installing libc6-compat (1.2.3-r4)\n(26/26) Installing .gyp (20221229.013547)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 43 packages\n\nremoved 14 packages, changed 75 packages, and audited 232 packages in 1m\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 4c18e882a0e8\n ---> cc49efd02e24\nStep 12/26 : ENV NPM_CONFIG_PREFER_OFFLINE=true\n ---> Running in 124633a5e313\nRemoving intermediate container 124633a5e313\n ---> 8fd19685ad04\nStep 13/26 : USER node\n ---> Running in b322ff0c79e4\nRemoving intermediate container b322ff0c79e4\n ---> e9512ea1db97\nStep 14/26 : WORKDIR /home/node\n ---> Running in 5d983906fcc4\nRemoving intermediate container 5d983906fcc4\n ---> e7ff476109b0\nStep 15/26 : COPY --chown=node:node --from=deps /home/node/node_modules ./node_modules\n ---> 00f49ac56f7a\nStep 16/26 : COPY --chown=node:node . ./\n ---> c51fcc3bfa03\nStep 17/26 : RUN npm run build &&     npm prune --production &&     rm -rf .cache .npm\n ---> Running in 8b21ee89c1d0\n\n> build\n> run-s build:*\n\n\n> build:yaml\n> yaml2json config/schema --save\n\nsaved /home/node/config/schema/link.json\nsaved /home/node/config/schema/user.json\n\n> build:schema\n> ./scripts/compile-schema.sh\n\n\n> build:frontend\n> INLINE_RUNTIME_CHUNK=false react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  275.3 kB  build/static/js/main.58c21f96.js\n  349 B     build/static/css/main.26fb1de4.css\n\nThe project was built assuming it is hosted at /app/.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m While resolving: eslint-config-standard@16.0.3\nnpm WARN Found: eslint@8.5.0\nnpm\u001b[0m\u001b[91m WARN node_modules/eslint\nnpm WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm WARN   node_modules/@babel/eslint-parser\nnpm \u001b[0m\u001b[91mWARN     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\nnpm WARN     node_modules/eslint-config-react-app\nnpm WARN\u001b[0m\u001b[91m   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\n\u001b[0m\u001b[91mnpm WARN \nnpm WARN Could not resolve dependency:\n\u001b[0m\u001b[91mnpm WARN peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN node_modules/eslint-config-standard\nnpm WARN\u001b[0m\u001b[91m   eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm WARN   node_modules/@janejeon/eslint-config\nnpm \u001b[0m\u001b[91mWARN \nnpm WARN Conflicting peer dependency: eslint@7.32.0\nnpm WARN node_modules/eslint\nnpm WARN\u001b[0m\u001b[91m   peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN\u001b[0m\u001b[91m   node_modules/eslint-config-standard\nnpm WARN     eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m     node_modules/@janejeon/eslint-config\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: eslint-plugin-promise@5.2.0\nnpm WARN Found: eslint@8.5.0\nnpm WARN node_modules/eslint\nnpm WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm \u001b[0m\u001b[91mWARN   node_modules/@babel/eslint-parser\nnpm WARN     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\n\u001b[0m\u001b[91mnpm WARN     node_modules/eslint-config-react-app\nnpm WARN   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\n\u001b[0m\u001b[91mnpm WARN \nnpm\u001b[0m\u001b[91m WARN Could not resolve dependency:\nnpm\u001b[0m\u001b[91m WARN peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm WARN node_modules/eslint-plugin-promise\n\u001b[0m\u001b[91mnpm WARN   peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm WARN\u001b[0m\u001b[91m   node_modules/eslint-config-standard\nnpm \u001b[0m\u001b[91mWARN \nnpm WARN Conflicting peer dependency: eslint@7.32.0\n\u001b[0m\u001b[91mnpm WARN node_modules/eslint\nnpm WARN   peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm WARN   node_modules/eslint-plugin-promise\nnpm WARN\u001b[0m\u001b[91m     peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm WARN     node_modules/eslint-config-standard\n\u001b[0m\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm WARN EBADENGINE   package: 'openid-client@5.1.1',\nnpm WARN EBADENGINE   required: { node: '^12.19.0 || ^14.15.0 || ^16.13.0' },\nnpm WARN EBADENGINE   current: { node: 'v18.12.1', npm: '9.2.0' }\nnpm WARN EBADENGINE }\n\u001b[0m\nup to date in 8s\nRemoving intermediate container 8b21ee89c1d0\n ---> 954f53ef27bf\nStep 18/26 : FROM node:lts-alpine AS runner\n ---> 6d7b7852bcd3\nStep 19/26 : RUN apk add --no-cache tini\n ---> Running in c41869de34f1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tini (0.19.0-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 18 packages\nRemoving intermediate container c41869de34f1\n ---> 153a56db5015\nStep 20/26 : USER node\n ---> Running in ccd2d16cf9e2\nRemoving intermediate container ccd2d16cf9e2\n ---> 4d41f5e9d175\nStep 21/26 : WORKDIR /home/node\n ---> Running in 2125962aecf8\nRemoving intermediate container 2125962aecf8\n ---> 9a3b708c2591\nStep 22/26 : COPY --from=build /home/node ./\n ---> 6e05003d2181\nStep 23/26 : ENV NODE_ENV production\n ---> Running in 89e4db88206f\nRemoving intermediate container 89e4db88206f\n ---> 6f22e90abc7c\nStep 24/26 : ENTRYPOINT [\"tini\", \"--\"]\n ---> Running in 17df081357e0\nRemoving intermediate container 17df081357e0\n ---> 1a37acc1e6a9\nStep 25/26 : CMD [\"node\", \"bin/www\"]\n ---> Running in 36bfa1b954b4\nRemoving intermediate container 36bfa1b954b4\n ---> 1a69af747920\nStep 26/26 : HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3     CMD wget --no-verbose --tries=1 --spider http://localhost:3000/health || exit 1\n ---> Running in 91144b3a3116\nRemoving intermediate container 91144b3a3116\n ---> 7a43bf9ba53e\nSuccessfully built 7a43bf9ba53e\nSuccessfully tagged blink:latest\n","stderr":"","imageSize":268161795},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":16}},{"name":"npmCacheCleanAfterInstall","position":{"start":23,"end":23,"columnStart":4,"columnEnd":16}}],"repairedDockerfile":"#----------------------------------------#\n# dev/test\nFROM node:lts-alpine AS deps\nRUN apk add --no-cache --virtual .gyp python3 make g++ libc6-compat && \\\n    npm i -g npm\nENV NPM_CONFIG_PREFER_OFFLINE=true\nENV PATH=\"node_modules/.bin:$PATH\"\n\nUSER node\nWORKDIR /home/node\n\n# \"Cache\" node_modules first so that changes in the source code doesn't trigger a rebuild\nCOPY --chown=node:node [ \"package*.json\", \".npmrc\", \"./\" ]\nRUN npm ci\n\nCOPY --chown=node:node . .\n\n\n#----------------------------------------#\n# We have a separate build container to persist build artifacts & production npm deps\nFROM node:lts-alpine AS build\nRUN apk add --no-cache --virtual .gyp python3 make g++ libc6-compat && \\\n    npm i -g npm\nENV NPM_CONFIG_PREFER_OFFLINE=true\n\nUSER node\nWORKDIR /home/node\n\n# idk if this *actually* caches node_modules from the deps image or not so that the first COPY is only run when package.json changes\nCOPY --chown=node:node --from=deps /home/node/node_modules ./node_modules\nCOPY --chown=node:node . ./\n\nRUN npm run build && \\\n    npm prune --production && \\\n    rm -rf .cache .npm\n\n\n#----------------------------------------#\nFROM node:lts-alpine AS runner\nRUN apk add --no-cache tini\n\nUSER node\nWORKDIR /home/node\n\nCOPY --from=build /home/node ./\n\nENV NODE_ENV production\n\n# While we already handle SIGINT/SIGTERM directly, there is no way for us to be 100% SURE that none of our dependencies won't spawn a zombie process.\nENTRYPOINT [\"tini\", \"--\"]\nCMD [\"node\", \"bin/www\"]\n\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD wget --no-verbose --tries=1 --spider http://localhost:3000/health || exit 1\n"},"repairedBuild":{"startTimestamp":1672278006520,"endTimestamp":1672278547060,"error":null,"stdout":"Sending build context to Docker daemon  1.805MB\r\r\nStep 1/26 : FROM node:lts-alpine AS deps\n ---> 6d7b7852bcd3\nStep 2/26 : RUN apk add --no-cache --virtual .gyp python3 make g++ libc6-compat &&     npm i -g npm\n ---> Running in 7b0ccb8ebb7b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libbz2 (1.0.8-r4)\n(2/26) Installing libexpat (2.5.0-r0)\n(3/26) Installing libffi (3.4.4-r0)\n(4/26) Installing gdbm (1.23-r0)\n(5/26) Installing xz-libs (5.2.9-r0)\n(6/26) Installing mpdecimal (2.5.1-r1)\n(7/26) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(8/26) Installing ncurses-libs (6.3_p20221119-r0)\n(9/26) Installing readline (8.2.0-r0)\n(10/26) Installing sqlite-libs (3.40.1-r0)\n(11/26) Installing python3 (3.10.9-r1)\n(12/26) Installing make (4.3-r1)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing binutils (2.39-r2)\n(15/26) Installing libgomp (12.2.1_git20220924-r4)\n(16/26) Installing libatomic (12.2.1_git20220924-r4)\n(17/26) Installing gmp (6.2.1-r2)\n(18/26) Installing isl25 (0.25-r0)\n(19/26) Installing mpfr4 (4.1.0-r0)\n(20/26) Installing mpc1 (1.2.1-r1)\n(21/26) Installing gcc (12.2.1_git20220924-r4)\n(22/26) Installing musl-dev (1.2.3-r4)\n(23/26) Installing libc-dev (0.7.2-r3)\n(24/26) Installing g++ (12.2.1_git20220924-r4)\n(25/26) Installing libc6-compat (1.2.3-r4)\n(26/26) Installing .gyp (20221229.014011)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 43 packages\n\nremoved 14 packages, changed 75 packages, and audited 232 packages in 56s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 7b0ccb8ebb7b\n ---> c2e5295c5fde\nStep 3/26 : ENV NPM_CONFIG_PREFER_OFFLINE=true\n ---> Running in e64b492a8fc7\nRemoving intermediate container e64b492a8fc7\n ---> 3957f55db174\nStep 4/26 : ENV PATH=\"node_modules/.bin:$PATH\"\n ---> Running in 2a1913524a72\nRemoving intermediate container 2a1913524a72\n ---> 1a7a828a72fd\nStep 5/26 : USER node\n ---> Running in f0f588cc4527\nRemoving intermediate container f0f588cc4527\n ---> 9d7dff23a4de\nStep 6/26 : WORKDIR /home/node\n ---> Running in d157606d8663\nRemoving intermediate container d157606d8663\n ---> 3e07d4166b76\nStep 7/26 : COPY --chown=node:node [ \"package*.json\", \".npmrc\", \"./\" ]\n ---> 2e92ffdd0a3e\nStep 8/26 : RUN npm ci\n ---> Running in 419aded7365f\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m While resolving: eslint-config-standard@16.0.3\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN Found: eslint@8.5.0\nnpm WARN node_modules/eslint\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm WARN   node_modules/@babel/eslint-parser\nnpm \u001b[0m\u001b[91mWARN     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\nnpm WARN     node_modules/eslint-config-react-app\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN node_modules/eslint-config-standard\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN   eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm WARN   node_modules/@janejeon/eslint-config\n\u001b[0m\u001b[91mnpm WARN \nnpm WARN Conflicting peer dependency: eslint@7.32.0\nnpm WARN node_modules/eslint\n\u001b[0m\u001b[91mnpm WARN   peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN\u001b[0m\u001b[91m   node_modules/eslint-config-standard\nnpm WARN\u001b[0m\u001b[91m     eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm \u001b[0m\u001b[91mWARN     node_modules/@janejeon/eslint-config\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: eslint-plugin-promise@5.2.0\nnpm WARN\u001b[0m\u001b[91m Found: eslint@8.5.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm\u001b[0m\u001b[91m WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm WARN\u001b[0m\u001b[91m   node_modules/@babel/eslint-parser\nnpm WARN     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\nnpm WARN\u001b[0m\u001b[91m     node_modules/eslint-config-react-app\nnpm WARN\u001b[0m\u001b[91m   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\nnpm WARN \nnpm WARN Could not resolve dependency:\n\u001b[0m\u001b[91mnpm WARN peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m node_modules/eslint-plugin-promise\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm WARN   node_modules/eslint-config-standard\nnpm\u001b[0m\u001b[91m WARN \nnpm\u001b[0m\u001b[91m WARN Conflicting peer dependency: eslint@7.32.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN node_modules/eslint\nnpm WARN\u001b[0m\u001b[91m   peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm \u001b[0m\u001b[91mWARN   node_modules/eslint-plugin-promise\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN     peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm WARN\u001b[0m\u001b[91m     node_modules/eslint-config-standard\n\u001b[0m\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm WARN EBADENGINE   package: 'openid-client@5.1.1',\nnpm WARN EBADENGINE   required: { node: '^12.19.0 || ^14.15.0 || ^16.13.0' },\nnpm WARN EBADENGINE   current: { node: 'v18.12.1', npm: '9.2.0' }\nnpm WARN EBADENGINE }\n\u001b[0m\nadded 1831 packages in 1m\nRemoving intermediate container 419aded7365f\n ---> 9c477e1e5dca\nStep 9/26 : COPY --chown=node:node . .\n ---> 5112c7e0cf6e\nStep 10/26 : FROM node:lts-alpine AS build\n ---> 6d7b7852bcd3\nStep 11/26 : RUN apk add --no-cache --virtual .gyp python3 make g++ libc6-compat &&     npm i -g npm\n ---> Running in 13822c2cfa19\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libbz2 (1.0.8-r4)\n(2/26) Installing libexpat (2.5.0-r0)\n(3/26) Installing libffi (3.4.4-r0)\n(4/26) Installing gdbm (1.23-r0)\n(5/26) Installing xz-libs (5.2.9-r0)\n(6/26) Installing mpdecimal (2.5.1-r1)\n(7/26) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(8/26) Installing ncurses-libs (6.3_p20221119-r0)\n(9/26) Installing readline (8.2.0-r0)\n(10/26) Installing sqlite-libs (3.40.1-r0)\n(11/26) Installing python3 (3.10.9-r1)\n(12/26) Installing make (4.3-r1)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing binutils (2.39-r2)\n(15/26) Installing libgomp (12.2.1_git20220924-r4)\n(16/26) Installing libatomic (12.2.1_git20220924-r4)\n(17/26) Installing gmp (6.2.1-r2)\n(18/26) Installing isl25 (0.25-r0)\n(19/26) Installing mpfr4 (4.1.0-r0)\n(20/26) Installing mpc1 (1.2.1-r1)\n(21/26) Installing gcc (12.2.1_git20220924-r4)\n(22/26) Installing musl-dev (1.2.3-r4)\n(23/26) Installing libc-dev (0.7.2-r3)\n(24/26) Installing g++ (12.2.1_git20220924-r4)\n(25/26) Installing libc6-compat (1.2.3-r4)\n(26/26) Installing .gyp (20221229.014513)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 43 packages\n\nremoved 14 packages, changed 75 packages, and audited 232 packages in 1m\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 13822c2cfa19\n ---> 21c77029142d\nStep 12/26 : ENV NPM_CONFIG_PREFER_OFFLINE=true\n ---> Running in 3b207caaed85\nRemoving intermediate container 3b207caaed85\n ---> 3c87968a60cd\nStep 13/26 : USER node\n ---> Running in faea82e75616\nRemoving intermediate container faea82e75616\n ---> 08e0e41c6b3a\nStep 14/26 : WORKDIR /home/node\n ---> Running in 66e5aae367cd\nRemoving intermediate container 66e5aae367cd\n ---> 1cd9296b8e9a\nStep 15/26 : COPY --chown=node:node --from=deps /home/node/node_modules ./node_modules\n ---> 63190f3ff9cb\nStep 16/26 : COPY --chown=node:node . ./\n ---> 214206583752\nStep 17/26 : RUN npm run build &&     npm prune --production &&     rm -rf .cache .npm\n ---> Running in 24635fe8dc87\n\n> build\n> run-s build:*\n\n\n> build:yaml\n> yaml2json config/schema --save\n\nsaved /home/node/config/schema/link.json\nsaved /home/node/config/schema/user.json\n\n> build:schema\n> ./scripts/compile-schema.sh\n\n\n> build:frontend\n> INLINE_RUNTIME_CHUNK=false react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  275.3 kB  build/static/js/main.58c21f96.js\n  349 B     build/static/css/main.26fb1de4.css\n\nThe project was built assuming it is hosted at /app/.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m While resolving: eslint-config-standard@16.0.3\nnpm WARN Found: eslint@8.5.0\nnpm\u001b[0m\u001b[91m WARN node_modules/eslint\nnpm WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm WARN   node_modules/@babel/eslint-parser\nnpm WARN\u001b[0m\u001b[91m     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\nnpm WARN     node_modules/eslint-config-react-app\nnpm WARN   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\n\u001b[0m\u001b[91mnpm WARN \nnpm WARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm\u001b[0m\u001b[91m WARN node_modules/eslint-config-standard\nnpm WARN   eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm WARN   node_modules/@janejeon/eslint-config\nnpm WARN \n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m Conflicting peer dependency: eslint@7.32.0\nnpm WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm \u001b[0m\u001b[91mWARN   peer eslint@\"^7.12.1\" from eslint-config-standard@16.0.3\nnpm WARN   node_modules/eslint-config-standard\nnpm WARN     eslint-config-standard@\"^16.0.3\" from @janejeon/eslint-config@3.0.0-2\nnpm WARN     node_modules/@janejeon/eslint-config\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m While resolving: eslint-plugin-promise@5.2.0\nnpm WARN\u001b[0m\u001b[91m Found: eslint@8.5.0\nnpm WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.16.5\nnpm \u001b[0m\u001b[91mWARN   node_modules/@babel/eslint-parser\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m     @babel/eslint-parser@\"^7.16.3\" from eslint-config-react-app@7.0.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m     node_modules/eslint-config-react-app\nnpm \u001b[0m\u001b[91mWARN   21 more (@janejeon/eslint-config, eslint-plugin-promise, ...)\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m node_modules/eslint-plugin-promise\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m   peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   node_modules/eslint-config-standard\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m Conflicting peer dependency: eslint@7.32.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   peer eslint@\"^7.0.0\" from eslint-plugin-promise@5.2.0\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   node_modules/eslint-plugin-promise\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m     peer eslint-plugin-promise@\"^4.2.1 || ^5.0.0\" from eslint-config-standard@16.0.3\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m     node_modules/eslint-config-standard\n\u001b[0m\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm WARN EBADENGINE   package: 'openid-client@5.1.1',\nnpm WARN EBADENGINE   required: { node: '^12.19.0 || ^14.15.0 || ^16.13.0' },\nnpm WARN\u001b[0m\u001b[91m EBADENGINE   current: { node: 'v18.12.1', npm: '9.2.0' }\nnpm WARN\u001b[0m\u001b[91m EBADENGINE }\n\u001b[0m\nup to date in 9s\nRemoving intermediate container 24635fe8dc87\n ---> 9626bb928462\nStep 18/26 : FROM node:lts-alpine AS runner\n ---> 6d7b7852bcd3\nStep 19/26 : RUN apk add --no-cache tini\n ---> Running in f5a486a96677\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tini (0.19.0-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 18 packages\nRemoving intermediate container f5a486a96677\n ---> 01be2749d5e0\nStep 20/26 : USER node\n ---> Running in ffb4b657879a\nRemoving intermediate container ffb4b657879a\n ---> 54e5e31a1bec\nStep 21/26 : WORKDIR /home/node\n ---> Running in 363a012b0071\nRemoving intermediate container 363a012b0071\n ---> d759f2811902\nStep 22/26 : COPY --from=build /home/node ./\n ---> 46b83de68792\nStep 23/26 : ENV NODE_ENV production\n ---> Running in 25aa1efc3685\nRemoving intermediate container 25aa1efc3685\n ---> 4e043bff610c\nStep 24/26 : ENTRYPOINT [\"tini\", \"--\"]\n ---> Running in e12d272bd0a3\nRemoving intermediate container e12d272bd0a3\n ---> a9ca7e1d32ac\nStep 25/26 : CMD [\"node\", \"bin/www\"]\n ---> Running in e23758bbc0a8\nRemoving intermediate container e23758bbc0a8\n ---> 3de3ee780794\nStep 26/26 : HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3     CMD wget --no-verbose --tries=1 --spider http://localhost:3000/health || exit 1\n ---> Running in 76ab0bb729d1\nRemoving intermediate container 76ab0bb729d1\n ---> 2ff42b7e9652\nSuccessfully built 2ff42b7e9652\nSuccessfully tagged blink:latest\n","stderr":"","imageSize":268161795},"endTime":1672278547465}