{"repository":"https://github.com/almir/docker-webhook","dockerfilePath":"Dockerfile","startTime":1672823190541,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/almir/docker-webhook'...\n","error":null,"commit":"48d88f86695d1166148bbb133bd852b040fe341e"},"originalBuild":{"startTimestamp":1672823191282,"endTimestamp":1672823231116,"error":null,"stdout":"Sending build context to Docker daemon  75.26kB\r\r\nStep 1/12 : FROM        golang:alpine3.11 AS build\nalpine3.11: Pulling from library/golang\ncbdbe7a5bc2a: Pulling fs layer\n408f87550127: Pulling fs layer\nfe522b08c979: Pulling fs layer\n24ff2af1d29c: Pulling fs layer\n521ac4ed173c: Pulling fs layer\n521ac4ed173c: Waiting\nfe522b08c979: Download complete\n408f87550127: Download complete\ncbdbe7a5bc2a: Verifying Checksum\ncbdbe7a5bc2a: Download complete\ncbdbe7a5bc2a: Pull complete\n408f87550127: Pull complete\n521ac4ed173c: Verifying Checksum\n521ac4ed173c: Download complete\nfe522b08c979: Pull complete\n24ff2af1d29c: Verifying Checksum\n24ff2af1d29c: Download complete\n24ff2af1d29c: Pull complete\n521ac4ed173c: Pull complete\nDigest: sha256:05d27df0e782f018a3a93e1948a724b81b37e8b99b94968862ef2a99b049800d\nStatus: Downloaded newer image for golang:alpine3.11\n ---> 5d5cac8457ad\nStep 2/12 : MAINTAINER  Almir Dzinovic <almir@dzinovic.net>\n ---> Running in 7c748355e60d\nRemoving intermediate container 7c748355e60d\n ---> 06390eadbcb1\nStep 3/12 : WORKDIR     /go/src/github.com/adnanh/webhook\n ---> Running in 797eeece83ab\nRemoving intermediate container 797eeece83ab\n ---> bbc44f570325\nStep 4/12 : ENV         WEBHOOK_VERSION 2.8.0\n ---> Running in 761f7e86b47b\nRemoving intermediate container 761f7e86b47b\n ---> 13f6a8ca2389\nStep 5/12 : RUN         apk add --update -t build-deps curl libc-dev gcc libgcc\n ---> Running in 8bae475d7ec7\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/17) Installing nghttp2-libs (1.40.0-r1)\n(3/17) Installing libcurl (7.79.1-r0)\n(4/17) Installing curl (7.79.1-r0)\n(5/17) Installing musl-dev (1.1.24-r3)\n(6/17) Installing libc-dev (0.7.2-r0)\n(7/17) Installing libgcc (9.3.0-r0)\n(8/17) Installing libstdc++ (9.3.0-r0)\n(9/17) Installing binutils (2.33.1-r1)\n(10/17) Installing gmp (6.1.2-r1)\n(11/17) Installing isl (0.18-r0)\n(12/17) Installing libgomp (9.3.0-r0)\n(13/17) Installing libatomic (9.3.0-r0)\n(14/17) Installing mpfr4 (4.0.2-r1)\n(15/17) Installing mpc1 (1.1.0-r1)\n(16/17) Installing gcc (9.3.0-r0)\n(17/17) Installing build-deps (20230104.090657)\nExecuting busybox-1.31.1-r9.trigger\nOK: 113 MiB in 31 packages\nRemoving intermediate container 8bae475d7ec7\n ---> 07f77268a697\nStep 6/12 : RUN         curl -L --silent -o webhook.tar.gz https://github.com/adnanh/webhook/archive/${WEBHOOK_VERSION}.tar.gz &&             tar -xzf webhook.tar.gz --strip 1 &&              go get -d &&             go build -o /usr/local/bin/webhook &&             apk del --purge build-deps &&             rm -rf /var/cache/apk/* &&             rm -rf /go\n ---> Running in 3a58caf9bd19\n\u001b[91mgo: downloading github.com/go-chi/chi v4.0.2+incompatible\ngo: downloading gopkg.in/fsnotify.v1 v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.7.3\n\u001b[0m\u001b[91mgo: downloading github.com/gofrs/uuid v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/ghodss/yaml v1.0.0\ngo: downloading golang.org/x/sys v0.0.0-20191228213918-04cbcbbfeed8\n\u001b[0m\u001b[91mgo: downloading github.com/dustin/go-humanize v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/clbanning/mxj v1.8.4\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.0.0-20170812160011-eb3733d160e7\n\u001b[0m(1/16) Purging build-deps (20230104.090657)\n(2/16) Purging curl (7.79.1-r0)\n(3/16) Purging libc-dev (0.7.2-r0)\n(4/16) Purging musl-dev (1.1.24-r3)\n(5/16) Purging gcc (9.3.0-r0)\n(6/16) Purging binutils (2.33.1-r1)\n(7/16) Purging libatomic (9.3.0-r0)\n(8/16) Purging libgomp (9.3.0-r0)\n(9/16) Purging libcurl (7.79.1-r0)\n(10/16) Purging nghttp2-libs (1.40.0-r1)\n(11/16) Purging libstdc++ (9.3.0-r0)\n(12/16) Purging libgcc (9.3.0-r0)\n(13/16) Purging isl (0.18-r0)\n(14/16) Purging mpc1 (1.1.0-r1)\n(15/16) Purging mpfr4 (4.0.2-r1)\n(16/16) Purging gmp (6.1.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 3a58caf9bd19\n ---> 7eda3d044fc6\nStep 7/12 : FROM        scratch\n ---> \nStep 8/12 : COPY        --from=build /usr/local/bin/webhook /usr/local/bin/webhook\n ---> 5727e9ea059a\nStep 9/12 : WORKDIR     /etc/webhook\n ---> Running in 121405d682e9\nRemoving intermediate container 121405d682e9\n ---> 6f3095bd3eaf\nStep 10/12 : VOLUME      [\"/etc/webhook\"]\n ---> Running in c1fda73e3611\nRemoving intermediate container c1fda73e3611\n ---> 2c72ac82e518\nStep 11/12 : EXPOSE      9000\n ---> Running in b7eaaeea3ee0\nRemoving intermediate container b7eaaeea3ee0\n ---> 7d46eb1931c8\nStep 12/12 : ENTRYPOINT  [\"/usr/local/bin/webhook\"]\n ---> Running in 082085d19bf7\nRemoving intermediate container 082085d19bf7\n ---> cb08eb6d73e7\nSuccessfully built cb08eb6d73e7\nSuccessfully tagged docker-webhook:latest\n","stderr":"","imageSize":12590650},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":6,"end":6,"columnStart":12,"columnEnd":114}},{"name":"tarSomethingRmTheSomething","position":{"start":7,"end":7,"columnStart":12,"columnEnd":45}},{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":12,"columnEnd":67}}],"repairedDockerfile":"# Dockerfile for https://github.com/adnanh/webhook\nFROM        golang:alpine3.11 AS build\nMAINTAINER  Almir Dzinovic <almir@dzinovic.net>\nWORKDIR     /go/src/github.com/adnanh/webhook\nENV         WEBHOOK_VERSION 2.8.0\nRUN apk add --no-cache --update -t build-deps curl libc-dev gcc libgcc\nRUN curl -f -L --silent -o webhook.tar.gz https://github.com/adnanh/webhook/archive/${WEBHOOK_VERSION}.tar.gz && \\\n            tar -xzf webhook.tar.gz --strip 1 && \\\n            go get -d && \\\n            go build -o /usr/local/bin/webhook && \\\n            apk del --purge build-deps && \\\n            rm -rf /var/cache/apk/* && \\\n            rm -rf /go\n\nFROM        scratch\nCOPY        --from=build /usr/local/bin/webhook /usr/local/bin/webhook\nWORKDIR     /etc/webhook\nVOLUME      [\"/etc/webhook\"]\nEXPOSE      9000\nENTRYPOINT  [\"/usr/local/bin/webhook\"]\n"},"repairedBuild":{"startTimestamp":1672823231474,"endTimestamp":1672823249815,"error":null,"stdout":"Sending build context to Docker daemon  75.26kB\r\r\nStep 1/12 : FROM        golang:alpine3.11 AS build\n ---> 5d5cac8457ad\nStep 2/12 : MAINTAINER  Almir Dzinovic <almir@dzinovic.net>\n ---> Running in 2a16d00266a9\nRemoving intermediate container 2a16d00266a9\n ---> 96063c544d4d\nStep 3/12 : WORKDIR     /go/src/github.com/adnanh/webhook\n ---> Running in 21f99f83a00b\nRemoving intermediate container 21f99f83a00b\n ---> 6116f82fbf92\nStep 4/12 : ENV         WEBHOOK_VERSION 2.8.0\n ---> Running in cefa447a7cf9\nRemoving intermediate container cefa447a7cf9\n ---> 850364a4855c\nStep 5/12 : RUN apk add --no-cache --update -t build-deps curl libc-dev gcc libgcc\n ---> Running in 68872d99f8ff\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/17) Installing nghttp2-libs (1.40.0-r1)\n(3/17) Installing libcurl (7.79.1-r0)\n(4/17) Installing curl (7.79.1-r0)\n(5/17) Installing musl-dev (1.1.24-r3)\n(6/17) Installing libc-dev (0.7.2-r0)\n(7/17) Installing libgcc (9.3.0-r0)\n(8/17) Installing libstdc++ (9.3.0-r0)\n(9/17) Installing binutils (2.33.1-r1)\n(10/17) Installing gmp (6.1.2-r1)\n(11/17) Installing isl (0.18-r0)\n(12/17) Installing libgomp (9.3.0-r0)\n(13/17) Installing libatomic (9.3.0-r0)\n(14/17) Installing mpfr4 (4.0.2-r1)\n(15/17) Installing mpc1 (1.1.0-r1)\n(16/17) Installing gcc (9.3.0-r0)\n(17/17) Installing build-deps (20230104.090713)\nExecuting busybox-1.31.1-r9.trigger\nOK: 113 MiB in 31 packages\nRemoving intermediate container 68872d99f8ff\n ---> 8178a8872616\nStep 6/12 : RUN curl -f -L --silent -o webhook.tar.gz https://github.com/adnanh/webhook/archive/${WEBHOOK_VERSION}.tar.gz &&             tar -xzf webhook.tar.gz --strip 1 &&             go get -d &&             go build -o /usr/local/bin/webhook &&             apk del --purge build-deps &&             rm -rf /var/cache/apk/* &&             rm -rf /go\n ---> Running in c23cc22364e1\n\u001b[91mgo: downloading github.com/gorilla/mux v1.7.3\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20191228213918-04cbcbbfeed8\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/chi v4.0.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/clbanning/mxj v1.8.4\n\u001b[0m\u001b[91mgo: downloading github.com/gofrs/uuid v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading gopkg.in/fsnotify.v1 v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/dustin/go-humanize v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/ghodss/yaml v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.0.0-20170812160011-eb3733d160e7\n\u001b[0m\u001b[91mWARNING: Ignoring APKINDEX.70f61090.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.ca2fea5b.tar.gz: No such file or directory\n\u001b[0m(1/16) Purging build-deps (20230104.090713)\n(2/16) Purging curl (7.79.1-r0)\n(3/16) Purging libc-dev (0.7.2-r0)\n(4/16) Purging musl-dev (1.1.24-r3)\n(5/16) Purging gcc (9.3.0-r0)\n(6/16) Purging binutils (2.33.1-r1)\n(7/16) Purging libatomic (9.3.0-r0)\n(8/16) Purging libgomp (9.3.0-r0)\n(9/16) Purging libcurl (7.79.1-r0)\n(10/16) Purging nghttp2-libs (1.40.0-r1)\n(11/16) Purging libstdc++ (9.3.0-r0)\n(12/16) Purging libgcc (9.3.0-r0)\n(13/16) Purging isl (0.18-r0)\n(14/16) Purging mpc1 (1.1.0-r1)\n(15/16) Purging mpfr4 (4.0.2-r1)\n(16/16) Purging gmp (6.1.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container c23cc22364e1\n ---> 1331abeeb021\nStep 7/12 : FROM        scratch\n ---> \nStep 8/12 : COPY        --from=build /usr/local/bin/webhook /usr/local/bin/webhook\n ---> 501930a63967\nStep 9/12 : WORKDIR     /etc/webhook\n ---> Running in 68eebd8e3616\nRemoving intermediate container 68eebd8e3616\n ---> 7fcd6aef380c\nStep 10/12 : VOLUME      [\"/etc/webhook\"]\n ---> Running in d20677adf1fb\nRemoving intermediate container d20677adf1fb\n ---> 2896e6c0e25d\nStep 11/12 : EXPOSE      9000\n ---> Running in 96dc4e1a9f49\nRemoving intermediate container 96dc4e1a9f49\n ---> e64ec82d7e71\nStep 12/12 : ENTRYPOINT  [\"/usr/local/bin/webhook\"]\n ---> Running in 09a903733fb5\nRemoving intermediate container 09a903733fb5\n ---> b44c0f885d51\nSuccessfully built b44c0f885d51\nSuccessfully tagged docker-webhook:latest\n","stderr":"","imageSize":12590650},"endTime":1672823250036}