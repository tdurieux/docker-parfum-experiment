{"repository":"https://github.com/concourse/concourse","dockerfilePath":"Dockerfile","startTime":1672706604968,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/concourse/concourse'...\n","error":null,"commit":"724f1ea0b9b58b07051bbe4aaab04052ffcba9f0"},"originalBuild":{"startTimestamp":1672706608364,"endTimestamp":1672707132715,"error":null,"stdout":"Sending build context to Docker daemon  32.11MB\r\r\nStep 1/19 : ARG base_image=concourse/dev\nStep 2/19 : FROM ${base_image} AS base\nlatest: Pulling from concourse/dev\n6e3729cf69e0: Already exists\n764d6a49aa7c: Pulling fs layer\ncf4ac289181e: Pulling fs layer\n26a8be1e8e4d: Pulling fs layer\n5fc0f2637cfb: Pulling fs layer\n1ada4f38e8eb: Pulling fs layer\n99452372f556: Pulling fs layer\n564b4ed6e2f5: Pulling fs layer\n0bbb2df152e3: Pulling fs layer\nff9c9ca732d6: Pulling fs layer\n4f4fb700ef54: Pulling fs layer\n7688da084523: Pulling fs layer\n08344d03dc7f: Pulling fs layer\ne4e29f1c254a: Pulling fs layer\nc432e84c25ae: Pulling fs layer\n1ada4f38e8eb: Waiting\n951d5df1672c: Pulling fs layer\n5fc0f2637cfb: Waiting\n7d9ac10b3957: Pulling fs layer\n99452372f556: Waiting\n28fbacdf1fa6: Pulling fs layer\nec66865f8968: Pulling fs layer\nbafdabdb7f60: Pulling fs layer\n177ae89e9c00: Pulling fs layer\n73e4a8070bae: Pulling fs layer\n8af04ed5ef9d: Pulling fs layer\n4f4fb700ef54: Waiting\n564b4ed6e2f5: Waiting\n1b7d132e33ce: Pulling fs layer\n7688da084523: Waiting\n88f5ca5601b9: Pulling fs layer\n0bbb2df152e3: Waiting\nc8e2ecee4b9b: Pulling fs layer\n08344d03dc7f: Waiting\nefeffb6bab8d: Pulling fs layer\ne4e29f1c254a: Waiting\n1e903551fb22: Pulling fs layer\nec66865f8968: Waiting\nc432e84c25ae: Waiting\n28fbacdf1fa6: Waiting\nbafdabdb7f60: Waiting\n88f5ca5601b9: Waiting\n177ae89e9c00: Waiting\n8af04ed5ef9d: Waiting\n951d5df1672c: Waiting\n7d9ac10b3957: Waiting\n1b7d132e33ce: Waiting\n73e4a8070bae: Waiting\n1e903551fb22: Waiting\nefeffb6bab8d: Waiting\n764d6a49aa7c: Verifying Checksum\n764d6a49aa7c: Download complete\ncf4ac289181e: Verifying Checksum\ncf4ac289181e: Download complete\n26a8be1e8e4d: Verifying Checksum\n26a8be1e8e4d: Download complete\n5fc0f2637cfb: Verifying Checksum\n5fc0f2637cfb: Download complete\n764d6a49aa7c: Pull complete\n1ada4f38e8eb: Verifying Checksum\n1ada4f38e8eb: Download complete\ncf4ac289181e: Pull complete\n26a8be1e8e4d: Pull complete\n99452372f556: Verifying Checksum\n99452372f556: Download complete\n564b4ed6e2f5: Verifying Checksum\n564b4ed6e2f5: Download complete\n5fc0f2637cfb: Pull complete\nff9c9ca732d6: Verifying Checksum\nff9c9ca732d6: Download complete\n4f4fb700ef54: Verifying Checksum\n4f4fb700ef54: Download complete\n08344d03dc7f: Verifying Checksum\n08344d03dc7f: Download complete\ne4e29f1c254a: Verifying Checksum\ne4e29f1c254a: Download complete\n7688da084523: Verifying Checksum\n7688da084523: Download complete\nc432e84c25ae: Verifying Checksum\nc432e84c25ae: Download complete\n951d5df1672c: Verifying Checksum\n951d5df1672c: Download complete\n28fbacdf1fa6: Verifying Checksum\n28fbacdf1fa6: Download complete\n0bbb2df152e3: Verifying Checksum\n0bbb2df152e3: Download complete\n7d9ac10b3957: Verifying Checksum\n7d9ac10b3957: Download complete\nec66865f8968: Verifying Checksum\nec66865f8968: Download complete\n177ae89e9c00: Verifying Checksum\n177ae89e9c00: Download complete\n73e4a8070bae: Verifying Checksum\n73e4a8070bae: Download complete\nbafdabdb7f60: Verifying Checksum\nbafdabdb7f60: Download complete\n8af04ed5ef9d: Verifying Checksum\n8af04ed5ef9d: Download complete\n1b7d132e33ce: Verifying Checksum\n1b7d132e33ce: Download complete\nefeffb6bab8d: Verifying Checksum\nefeffb6bab8d: Download complete\nc8e2ecee4b9b: Verifying Checksum\nc8e2ecee4b9b: Download complete\n88f5ca5601b9: Verifying Checksum\n88f5ca5601b9: Download complete\n1e903551fb22: Verifying Checksum\n1e903551fb22: Download complete\n1ada4f38e8eb: Pull complete\n99452372f556: Pull complete\n564b4ed6e2f5: Pull complete\n0bbb2df152e3: Pull complete\nff9c9ca732d6: Pull complete\n4f4fb700ef54: Pull complete\n7688da084523: Pull complete\n08344d03dc7f: Pull complete\ne4e29f1c254a: Pull complete\nc432e84c25ae: Pull complete\n951d5df1672c: Pull complete\n7d9ac10b3957: Pull complete\n28fbacdf1fa6: Pull complete\nec66865f8968: Pull complete\nbafdabdb7f60: Pull complete\n177ae89e9c00: Pull complete\n73e4a8070bae: Pull complete\n8af04ed5ef9d: Pull complete\n1b7d132e33ce: Pull complete\n88f5ca5601b9: Pull complete\nc8e2ecee4b9b: Pull complete\nefeffb6bab8d: Pull complete\n1e903551fb22: Pull complete\nDigest: sha256:d3b4df78b76c8c1e8ca3c998d941ae33e836f550a8812ea246dd0302193433f7\nStatus: Downloaded newer image for concourse/dev:latest\n ---> af1904a04c75\nStep 3/19 : ARG goproxy\n ---> Running in 751d75dc4110\nRemoving intermediate container 751d75dc4110\n ---> c2ea440e88b3\nStep 4/19 : ENV GOPROXY=$goproxy\n ---> Running in f87e50f653d4\nRemoving intermediate container f87e50f653d4\n ---> ddfdb9b5d08a\nStep 5/19 : WORKDIR /src\n ---> Running in 90cb97dd9f80\nRemoving intermediate container 90cb97dd9f80\n ---> eedc697295d8\nStep 6/19 : COPY go.mod .\n ---> 451ad6ae5226\nStep 7/19 : COPY go.sum .\n ---> 71b990189dc4\nStep 8/19 : RUN grep ' => (\\.\\/|\\.\\.\\/)' go.mod || go mod download\n ---> Running in 393a856eb490\nRemoving intermediate container 393a856eb490\n ---> 438fcb1de7ae\nStep 9/19 : COPY ./cmd/init/init.c /tmp/init.c\n ---> 051eba957f67\nStep 10/19 : RUN gcc -O2 -static -o /usr/local/concourse/bin/init /tmp/init.c && rm /tmp/init.c\n ---> Running in fec76c49557a\nRemoving intermediate container fec76c49557a\n ---> 087ac1394aa8\nStep 11/19 : COPY . .\n ---> a3b88c3f50ae\nStep 12/19 : RUN go build -gcflags=all=\"-N -l\" -o /usr/local/concourse/bin/concourse       ./cmd/concourse\n ---> Running in f513609173f0\nRemoving intermediate container f513609173f0\n ---> 555e4faf5dd3\nStep 13/19 : FROM base AS with-fly\n ---> 555e4faf5dd3\nStep 14/19 : RUN go build -ldflags '-extldflags \"-static\"' -o /tmp/fly ./fly &&       tar -C /tmp -czf /usr/local/concourse/fly-assets/fly-$(go env GOOS)-$(go env GOARCH).tgz fly &&       rm /tmp/fly\n ---> Running in 9dfc1f9dd41d\nRemoving intermediate container 9dfc1f9dd41d\n ---> 2259fcf852ce\nStep 15/19 : VOLUME /src\n ---> Running in 37725e4ee796\nRemoving intermediate container 37725e4ee796\n ---> 2e3cbe4cefeb\nStep 16/19 : ENV CONCOURSE_WEB_PUBLIC_DIR=/src/web/public\n ---> Running in b91cd99a3127\nRemoving intermediate container b91cd99a3127\n ---> 3a2db80384c2\nStep 17/19 : FROM base\n ---> 555e4faf5dd3\nStep 18/19 : VOLUME /src\n ---> Running in 35b7789f49c3\nRemoving intermediate container 35b7789f49c3\n ---> a609dad5ad98\nStep 19/19 : ENV CONCOURSE_WEB_PUBLIC_DIR=/src/web/public\n ---> Running in 3f4f5e30c47f\nRemoving intermediate container 3f4f5e30c47f\n ---> 6d5449540dcb\nSuccessfully built 6d5449540dcb\nSuccessfully tagged concourse:latest\n","stderr":"","imageSize":5231304235},"repair":{"violations":[{"name":"tarSomethingRmTheSomething","position":{"start":31,"end":31,"columnStart":6,"columnEnd":98}}],"repairedDockerfile":"# NOTE: this Dockerfile is purely for local development! it is *not* used for\n# the official 'concourse/concourse' image.\n\nARG base_image=concourse/dev\nFROM ${base_image} AS base\n\nARG goproxy\nENV GOPROXY=$goproxy\n\n# download go modules separately so this doesn't re-run on every change\nWORKDIR /src\nCOPY go.mod .\nCOPY go.sum .\n# don't do go mod download if there's a replace directive pointing to local filepath (./, ../)\nRUN grep ' => (\\.\\/|\\.\\.\\/)' go.mod || go mod download\n\n# build the init executable for containerd\nCOPY ./cmd/init/init.c /tmp/init.c\nRUN gcc -O2 -static -o /usr/local/concourse/bin/init /tmp/init.c && rm /tmp/init.c\n\n# copy the rest separately so we don't constantly rebuild init\nCOPY . .\n\n# build 'concourse' binary\nRUN go build -gcflags=all=\"-N -l\" -o /usr/local/concourse/bin/concourse \\\n      ./cmd/concourse\n\n\n# separate build target to build the linux fly binary\nFROM base AS with-fly\nRUN go build -ldflags '-extldflags \"-static\"' -o /tmp/fly ./fly && \\\n      tar -C /tmp -czf /usr/local/concourse/fly-assets/fly-$(go env GOOS)-$(go env GOARCH).tgz fly && \\\n      rm /tmp/fly\nVOLUME /src\nENV CONCOURSE_WEB_PUBLIC_DIR=/src/web/public\n\n\n# extend base stage with setup for local docker-compose workflow\nFROM base\n\n# set up a volume so locally built web UI changes auto-propagate\nVOLUME /src\nENV CONCOURSE_WEB_PUBLIC_DIR=/src/web/public\n"},"repairedBuild":{"startTimestamp":1672707133110,"endTimestamp":1672707256844,"error":null,"stdout":"Sending build context to Docker daemon  32.11MB\r\r\nStep 1/19 : ARG base_image=concourse/dev\nStep 2/19 : FROM ${base_image} AS base\n ---> af1904a04c75\nStep 3/19 : ARG goproxy\n ---> Running in 37c52c56ceaf\nRemoving intermediate container 37c52c56ceaf\n ---> f9ca46dbbbed\nStep 4/19 : ENV GOPROXY=$goproxy\n ---> Running in a0fe91d8f095\nRemoving intermediate container a0fe91d8f095\n ---> bdf2a22ffebf\nStep 5/19 : WORKDIR /src\n ---> Running in b2ee1922a3ab\nRemoving intermediate container b2ee1922a3ab\n ---> e8492626e995\nStep 6/19 : COPY go.mod .\n ---> ed83651238bd\nStep 7/19 : COPY go.sum .\n ---> 16a5f0a981f6\nStep 8/19 : RUN grep ' => (\\.\\/|\\.\\.\\/)' go.mod || go mod download\n ---> Running in d108f7926fa8\nRemoving intermediate container d108f7926fa8\n ---> 302dc9826fa4\nStep 9/19 : COPY ./cmd/init/init.c /tmp/init.c\n ---> 6e63acc90500\nStep 10/19 : RUN gcc -O2 -static -o /usr/local/concourse/bin/init /tmp/init.c && rm /tmp/init.c\n ---> Running in 726bd40d9c45\nRemoving intermediate container 726bd40d9c45\n ---> 51313908bde1\nStep 11/19 : COPY . .\n ---> 566a44a40c4f\nStep 12/19 : RUN go build -gcflags=all=\"-N -l\" -o /usr/local/concourse/bin/concourse       ./cmd/concourse\n ---> Running in 1e9fdcb0edb2\nRemoving intermediate container 1e9fdcb0edb2\n ---> 40fa6d56bf40\nStep 13/19 : FROM base AS with-fly\n ---> 40fa6d56bf40\nStep 14/19 : RUN go build -ldflags '-extldflags \"-static\"' -o /tmp/fly ./fly &&       tar -C /tmp -czf /usr/local/concourse/fly-assets/fly-$(go env GOOS)-$(go env GOARCH).tgz fly &&       rm /tmp/fly\n ---> Running in 07c6ecff7842\nRemoving intermediate container 07c6ecff7842\n ---> 5660c447fba7\nStep 15/19 : VOLUME /src\n ---> Running in b1c593bb1314\nRemoving intermediate container b1c593bb1314\n ---> 7bc1c1674231\nStep 16/19 : ENV CONCOURSE_WEB_PUBLIC_DIR=/src/web/public\n ---> Running in d127e0122882\nRemoving intermediate container d127e0122882\n ---> 9df7fcff91f2\nStep 17/19 : FROM base\n ---> 40fa6d56bf40\nStep 18/19 : VOLUME /src\n ---> Running in 3dad17ce1684\nRemoving intermediate container 3dad17ce1684\n ---> e61b9e4f1438\nStep 19/19 : ENV CONCOURSE_WEB_PUBLIC_DIR=/src/web/public\n ---> Running in 25a79b45c7e3\nRemoving intermediate container 25a79b45c7e3\n ---> 721abac6635e\nSuccessfully built 721abac6635e\nSuccessfully tagged concourse:latest\n","stderr":"","imageSize":5231304235},"endTime":1672707257397}