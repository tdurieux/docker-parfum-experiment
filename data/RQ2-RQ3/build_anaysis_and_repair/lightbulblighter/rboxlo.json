{"repository":"https://github.com/lightbulblighter/rboxlo","dockerfilePath":"Dockerfile","startTime":1672966787204,"endTime":1672966979784,"clone":{"startTime":1672966787204,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lightbulblighter/rboxlo'...\n","error":null,"endTime":1672966788335,"commit":"dca3257ef794ef5a0c6c68ef1f695369844bc625"},"originalBuild":{"startTime":1672966788412,"endTime":1672966901182,"error":null,"stdout":"Sending build context to Docker daemon  6.426MB\r\r\nStep 1/19 : FROM node:14-alpine\n14-alpine: Pulling from library/node\nc158987b0551: Already exists\n859c8d0e9faf: Pulling fs layer\n69c317f5cbe1: Pulling fs layer\nd0c4a6a4173f: Pulling fs layer\nd0c4a6a4173f: Verifying Checksum\nd0c4a6a4173f: Download complete\n69c317f5cbe1: Verifying Checksum\n69c317f5cbe1: Download complete\n859c8d0e9faf: Verifying Checksum\n859c8d0e9faf: Download complete\n859c8d0e9faf: Pull complete\n69c317f5cbe1: Pull complete\nd0c4a6a4173f: Pull complete\nDigest: sha256:80e825b1f5ab859498a2f0f98f8197131a562906e5f8c95977057502e68ca05a\nStatus: Downloaded newer image for node:14-alpine\n ---> fb7170aa2b9b\nStep 2/19 : ARG SERVER_PORT\n ---> Running in 6b6235e80b14\nRemoving intermediate container 6b6235e80b14\n ---> e24be8ccd813\nStep 3/19 : ENV DOCKER true\n ---> Running in 385aadd63f29\nRemoving intermediate container 385aadd63f29\n ---> eaa0c9ec3273\nStep 4/19 : RUN mkdir /app\n ---> Running in d2171c8a3bd4\nRemoving intermediate container d2171c8a3bd4\n ---> be0da274a03d\nStep 5/19 : WORKDIR /app\n ---> Running in 660cca57a73c\nRemoving intermediate container 660cca57a73c\n ---> 6fadcb9a47bf\nStep 6/19 : COPY /Server/package*.json ./\n ---> 5698f9d223d7\nStep 7/19 : COPY /Server ./\n ---> 16b894880ca8\nStep 8/19 : RUN rm -rf ./node_modules\n ---> Running in f0fe66392c16\nRemoving intermediate container f0fe66392c16\n ---> 34bb788da75e\nStep 9/19 : RUN npm install\n ---> Running in de091e142e08\n\n> argon2@0.27.2 install /app/node_modules/argon2\n> node-pre-gyp install --fallback-to-build\n\n[argon2] Success: \"/app/node_modules/argon2/lib/binding/napi-v3/argon2.node\" is installed via remote\n\n> argon2@0.27.2 postinstall /app/node_modules/argon2\n> opencollective-postinstall || true\n\n\u001b[96m\u001b[1mThank you for using argon2!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/node-argon2/donate\u001b[0m\n\nadded 230 packages from 309 contributors and audited 233 packages in 5.292s\n\n8 packages are looking for funding\n  run `npm fund` for details\n\nfound 16 vulnerabilities (1 low, 1 moderate, 13 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container de091e142e08\n ---> 5a23f04c62ed\nStep 10/19 : COPY /Branding/Artwork/Backdrops/Bricks.png ./wesbites/eclipse/public/img/art/bricks.png\n ---> b72c1f6d38f2\nStep 11/19 : COPY /Branding/Artwork/Backdrops/Main.png ./websites/eclipse/public/img/art/default.png\n ---> 30338b164f23\nStep 12/19 : COPY /Branding/Logos/Primary/Big.png ./websites/eclipse/public/img/brand/large.png\n ---> 11f54c3c8914\nStep 13/19 : COPY /Branding/Logos/Primary/Small.png ./websites/eclipse/public/img/brand/small.png\n ---> 01d9edaec234\nStep 14/19 : COPY /.git/refs/heads/trunk ./commit\n ---> 472f907de70f\nStep 15/19 : RUN chmod -R 777 /app\n ---> Running in bf53e4a9e17e\nRemoving intermediate container bf53e4a9e17e\n ---> 04292d2b308d\nStep 16/19 : RUN adduser     --disabled-password     --gecos \"\"     --no-create-home     \"app\"\n ---> Running in da7a4ec886d7\nRemoving intermediate container da7a4ec886d7\n ---> 50af8740d6c3\nStep 17/19 : USER app\n ---> Running in c3f419826f46\nRemoving intermediate container c3f419826f46\n ---> 0cdd20b93e0d\nStep 18/19 : EXPOSE ${SERVER_PORT}\n ---> Running in a126c75859be\nRemoving intermediate container a126c75859be\n ---> 78de6d732ceb\nStep 19/19 : CMD [ \"npm\", \"start\" ]\n ---> Running in 1d74d603d005\nRemoving intermediate container 1d74d603d005\n ---> f09dcc24f308\nSuccessfully built f09dcc24f308\nSuccessfully tagged rboxlo:latest\n","stderr":"","imageSize":193069431},"repair":{"startTime":1672966901248,"endTime":1672966901319,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:14-alpine\nARG SERVER_PORT\nENV DOCKER true\n\n# Create source folder\nRUN mkdir /app\nWORKDIR /app\n\n# Copy server files\nCOPY /Server/package*.json ./\nCOPY /Server ./\nRUN rm -rf ./node_modules\nRUN npm install && npm cache clean --force;\n\n# Copy branding files\nCOPY /Branding/Artwork/Backdrops/Bricks.png ./wesbites/eclipse/public/img/art/bricks.png\nCOPY /Branding/Artwork/Backdrops/Main.png ./websites/eclipse/public/img/art/default.png\nCOPY /Branding/Logos/Primary/Big.png ./websites/eclipse/public/img/brand/large.png\nCOPY /Branding/Logos/Primary/Small.png ./websites/eclipse/public/img/brand/small.png\n\n# Copy files necessary for packaging\nCOPY /.git/refs/heads/trunk ./commit\n\n# Grant permissions on application folder to all users as we are about to switch users\nRUN chmod -R 777 /app\n\n# Create and switch to a non-root user\nRUN adduser \\\n    --disabled-password \\\n    --gecos \"\" \\\n    --no-create-home \\\n    \"app\"\nUSER app\n\nEXPOSE ${SERVER_PORT}\nCMD [ \"npm\", \"start\" ]"},"repairedBuild":{"startTime":1672966901771,"endTime":1672966979409,"error":null,"stdout":"Sending build context to Docker daemon  6.426MB\r\r\nStep 1/19 : FROM node:14-alpine\n ---> fb7170aa2b9b\nStep 2/19 : ARG SERVER_PORT\n ---> Running in 0a307189370b\nRemoving intermediate container 0a307189370b\n ---> 96913337ed5d\nStep 3/19 : ENV DOCKER true\n ---> Running in 5a7e8e904065\nRemoving intermediate container 5a7e8e904065\n ---> 145237f22cb9\nStep 4/19 : RUN mkdir /app\n ---> Running in 7dc11f980f48\nRemoving intermediate container 7dc11f980f48\n ---> c252f9d5fc9a\nStep 5/19 : WORKDIR /app\n ---> Running in 0c6ff4408632\nRemoving intermediate container 0c6ff4408632\n ---> 1fe0c103aa8e\nStep 6/19 : COPY /Server/package*.json ./\n ---> 22e5d95a3cc4\nStep 7/19 : COPY /Server ./\n ---> 6aaa0d097ece\nStep 8/19 : RUN rm -rf ./node_modules\n ---> Running in f5ec1d99cc52\nRemoving intermediate container f5ec1d99cc52\n ---> cfe30ef9635b\nStep 9/19 : RUN npm install && npm cache clean --force;\n ---> Running in e78fb5ec4c23\n\n> argon2@0.27.2 install /app/node_modules/argon2\n> node-pre-gyp install --fallback-to-build\n\n[argon2] Success: \"/app/node_modules/argon2/lib/binding/napi-v3/argon2.node\" is installed via remote\n\n> argon2@0.27.2 postinstall /app/node_modules/argon2\n> opencollective-postinstall || true\n\n\u001b[96m\u001b[1mThank you for using argon2!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/node-argon2/donate\u001b[0m\n\nadded 230 packages from 309 contributors and audited 233 packages in 3.865s\n\n8 packages are looking for funding\n  run `npm fund` for details\n\nfound 16 vulnerabilities (1 low, 1 moderate, 13 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container e78fb5ec4c23\n ---> 2e17574c4f6d\nStep 10/19 : COPY /Branding/Artwork/Backdrops/Bricks.png ./wesbites/eclipse/public/img/art/bricks.png\n ---> 013f4b82c456\nStep 11/19 : COPY /Branding/Artwork/Backdrops/Main.png ./websites/eclipse/public/img/art/default.png\n ---> 1fb28fdfe054\nStep 12/19 : COPY /Branding/Logos/Primary/Big.png ./websites/eclipse/public/img/brand/large.png\n ---> bab9734060d6\nStep 13/19 : COPY /Branding/Logos/Primary/Small.png ./websites/eclipse/public/img/brand/small.png\n ---> 49e762834b8d\nStep 14/19 : COPY /.git/refs/heads/trunk ./commit\n ---> a10e7fedbe19\nStep 15/19 : RUN chmod -R 777 /app\n ---> Running in 1aa9773f2de4\nRemoving intermediate container 1aa9773f2de4\n ---> 3ef189912a9a\nStep 16/19 : RUN adduser     --disabled-password     --gecos \"\"     --no-create-home     \"app\"\n ---> Running in 374cd9dff340\nRemoving intermediate container 374cd9dff340\n ---> 2484560a036e\nStep 17/19 : USER app\n ---> Running in 10b8475e3ef4\nRemoving intermediate container 10b8475e3ef4\n ---> 49a6c389c907\nStep 18/19 : EXPOSE ${SERVER_PORT}\n ---> Running in 477e2370fef4\nRemoving intermediate container 477e2370fef4\n ---> c53cb8ea8140\nStep 19/19 : CMD [ \"npm\", \"start\" ]\n ---> Running in e97ef5a6650d\nRemoving intermediate container e97ef5a6650d\n ---> 9b0149895f19\nSuccessfully built 9b0149895f19\nSuccessfully tagged rboxlo:latest\n","stderr":"","imageSize":184309514}}