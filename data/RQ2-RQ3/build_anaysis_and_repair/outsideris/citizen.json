{"repository":"https://github.com/outsideris/citizen","dockerfilePath":"Dockerfile","startTime":1672531999359,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/outsideris/citizen'...\n","error":null,"commit":"a80f244e80d9e0ac9df092b117fb76fd877a3d21"},"originalBuild":{"startTimestamp":1672532000227,"endTimestamp":1672532422825,"error":null,"stdout":"Sending build context to Docker daemon  888.3kB\r\r\nStep 1/21 : FROM node:16 as build\n16: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Pulling fs layer\n5348855a40c0: Pulling fs layer\n8f331a0ab6eb: Pulling fs layer\n1b7fba8c2ddb: Pulling fs layer\n138e31cf9c76: Pulling fs layer\n1b7fba8c2ddb: Waiting\n5348855a40c0: Verifying Checksum\n5348855a40c0: Download complete\n1b7fba8c2ddb: Verifying Checksum\n1b7fba8c2ddb: Download complete\n8f331a0ab6eb: Verifying Checksum\n8f331a0ab6eb: Download complete\n138e31cf9c76: Download complete\nc09b016fff62: Verifying Checksum\nc09b016fff62: Download complete\nc09b016fff62: Pull complete\n5348855a40c0: Pull complete\n8f331a0ab6eb: Pull complete\n1b7fba8c2ddb: Pull complete\n138e31cf9c76: Pull complete\nDigest: sha256:64e8bcdfdad6718050801a2639f7e6645fdaf85ec37a98cdb61f6a5331217618\nStatus: Downloaded newer image for node:16\n ---> c910109adbfd\nStep 2/21 : WORKDIR /citizen\n ---> Running in d95f7cb6dba2\nRemoving intermediate container d95f7cb6dba2\n ---> 0f0fb51d9027\nStep 3/21 : COPY package.json .\n ---> 2355525cecbc\nStep 4/21 : COPY package-lock.json .\n ---> 81d55623a9c1\nStep 5/21 : RUN npm install\n ---> Running in 6706d78a792f\n\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated superagent@8.0.2: Please use v8.0.0 until https://github.com/visionmedia/superagent/issues/1743 is resolved\n\u001b[0m\nadded 694 packages, and audited 695 packages in 26s\n\n106 packages are looking for funding\n  run `npm fund` for details\n\n8 high severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 6706d78a792f\n ---> 22111dbf3136\nStep 6/21 : COPY . .\n ---> a7ac978749b5\nStep 7/21 : RUN npm run client\n ---> Running in 0390880635ce\n\n> citizen@0.6.0 preclient\n> rimraf stores/sqlite/client stores/mongodb/client\n\n\n> citizen@0.6.0 client\n> npm run client:sqlite && npm run client:mongodb && npm run client:mysql\n\n\n> citizen@0.6.0 client:sqlite\n> prisma generate --schema stores/sqlite/sqlite.prisma\n\nPrisma schema loaded from stores/sqlite/sqlite.prisma\n\n✔ Generated Prisma Client (4.4.0 | library) to ./stores/sqlite/client in 1.40s\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from './stores/sqlite/client'\nconst prisma = new PrismaClient()\n```\n\n> citizen@0.6.0 client:mongodb\n> prisma generate --schema stores/mongodb/mongodb.prisma\n\nPrisma schema loaded from stores/mongodb/mongodb.prisma\n\n✔ Generated Prisma Client (4.4.0 | library) to ./stores/mongodb/client in 1.45s\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from './stores/mongodb/client'\nconst prisma = new PrismaClient()\n```\n\u001b[91m┌─────────────────────────────────────────────────────────┐\n│  Update available 4.4.0 -> 4.8.0                        │\n│  Run the following to update                            │\n│    npm i --save-dev prisma@latest                       │\n│    npm i @prisma/client@latest                          │\n└─────────────────────────────────────────────────────────┘\n\u001b[0m\n> citizen@0.6.0 client:mysql\n> prisma generate --schema stores/mysql/mysql.prisma\n\nPrisma schema loaded from stores/mysql/mysql.prisma\n\n✔ Generated Prisma Client (4.4.0 | library) to ./stores/mysql/client in 1.75s\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from './stores/mysql/client'\nconst prisma = new PrismaClient()\n```\nRemoving intermediate container 0390880635ce\n ---> 205fec06fa24\nStep 8/21 : RUN npm run build:linux\n ---> Running in 49bdb516faf6\n\n> citizen@0.6.0 build:linux\n> pkg . --compress GZip --targets node16-linux-x64 -o dist/citizen-linux-x64\n\n> pkg@5.8.0\ncompression:  GZip\n> Fetching base Node.js binaries to PKG_CACHE_PATH\n\n\n> Warning Failed to make bytecode node16-x64 for file /snapshot/citizen/node_modules/@aws-sdk/util-stream-browser/dist-es/index.js\nRemoving intermediate container 49bdb516faf6\n ---> f22949c527cf\nStep 9/21 : FROM bitnami/minideb\nlatest: Pulling from bitnami/minideb\nf8c1c832ce65: Pulling fs layer\nf8c1c832ce65: Verifying Checksum\nf8c1c832ce65: Download complete\nf8c1c832ce65: Pull complete\nDigest: sha256:113aec70ae64fcf8752e70f07fca47652fad1cc5d0e252313d67fcfb0ac112aa\nStatus: Downloaded newer image for bitnami/minideb:latest\n ---> 1e6d839039bd\nStep 10/21 : LABEL maintainer=\"outsideris@gmail.com\"\n ---> Running in 9cf456815eee\nRemoving intermediate container 9cf456815eee\n ---> f5bd77314b15\nStep 11/21 : LABEL org.opencontainers.image.source = \"https://github.com/outsideris/citizen\"\n ---> Running in 987d68d51c58\nRemoving intermediate container 987d68d51c58\n ---> 63cb72eb01e2\nStep 12/21 : RUN apt update && apt install -y git jq vim curl\n ---> Running in 28138f953cbf\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:3 http://security.debian.org bullseye-security InRelease [48.4 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [11.1 MB]\nGet:5 http://security.debian.org bullseye-security/main amd64 Packages [265 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 11.6 MB in 1s (8727 kB/s)\nReading package lists...\nBuilding dependency tree...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nThe following additional packages will be installed:\n  ca-certificates git-man less libbrotli1 libbsd0 libcbor0 libcurl3-gnutls\n  libcurl4 libedit2 liberror-perl libexpat1 libfido2-1 libgdbm-compat4\n  libgdbm6 libgpm2 libjq1 libldap-2.4-2 libldap-common libmd0 libnghttp2-14\n  libonig5 libperl5.32 libpsl5 librtmp1 libsasl2-2 libsasl2-modules\n  libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6\n  libxext6 libxmuu1 netbase openssh-client openssl patch perl\n  perl-modules-5.32 publicsuffix vim-common vim-runtime xauth xxd\nSuggested packages:\n  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-cvs git-mediawiki git-svn gdbm-l10n gpm\n  sensible-utils libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal\n  libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql keychain\n  libpam-ssh monkeysphere ssh-askpass ed diffutils-doc perl-doc\n  libterm-readline-gnu-perl | libterm-readline-perl-perl make\n  libtap-harness-archive-perl ctags vim-doc vim-scripts\nThe following NEW packages will be installed:\n  ca-certificates curl git git-man jq less libbrotli1 libbsd0 libcbor0\n  libcurl3-gnutls libcurl4 libedit2 liberror-perl libexpat1 libfido2-1\n  libgdbm-compat4 libgdbm6 libgpm2 libjq1 libldap-2.4-2 libldap-common libmd0\n  libnghttp2-14 libonig5 libperl5.32 libpsl5 librtmp1 libsasl2-2\n  libsasl2-modules libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6\n  libxcb1 libxdmcp6 libxext6 libxmuu1 netbase openssh-client openssl patch\n  perl perl-modules-5.32 publicsuffix vim vim-common vim-runtime xauth xxd\n0 upgraded, 50 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 29.6 MB of archives.\nAfter this operation, 141 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 perl-modules-5.32 all 5.32.1-4+deb11u2 [2823 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libgdbm6 amd64 1.19-2 [64.9 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libgdbm-compat4 amd64 1.19-2 [44.7 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libperl5.32 amd64 5.32.1-4+deb11u2 [4106 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 perl amd64 5.32.1-4+deb11u2 [293 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 less amd64 551-2 [133 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 netbase all 6.3 [19.9 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 xxd amd64 2:8.2.2434-3+deb11u1 [192 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 vim-common all 2:8.2.2434-3+deb11u1 [226 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 libmd0 amd64 1.0.3-3 [28.0 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 libbsd0 amd64 0.11.3-1 [108 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 libedit2 amd64 3.1-20191231-2+b1 [96.7 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 libcbor0 amd64 0.5.0+dfsg-2 [24.0 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 libfido2-1 amd64 1.6.0-2 [53.3 kB]\nGet:17 http://deb.debian.org/debian bullseye/main amd64 openssh-client amd64 1:8.4p1-5+deb11u1 [929 kB]\nGet:18 http://deb.debian.org/debian bullseye/main amd64 libbrotli1 amd64 1.0.9-2+b2 [279 kB]\nGet:19 http://deb.debian.org/debian bullseye/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-2.1+deb11u1 [69.1 kB]\nGet:20 http://deb.debian.org/debian bullseye/main amd64 libsasl2-2 amd64 2.1.27+dfsg-2.1+deb11u1 [106 kB]\nGet:21 http://deb.debian.org/debian bullseye/main amd64 libldap-2.4-2 amd64 2.4.57+dfsg-3+deb11u1 [232 kB]\nGet:22 http://deb.debian.org/debian bullseye/main amd64 libnghttp2-14 amd64 1.43.0-1 [77.1 kB]\nGet:23 http://deb.debian.org/debian bullseye/main amd64 libpsl5 amd64 0.21.0-1.2 [57.3 kB]\nGet:24 http://deb.debian.org/debian bullseye/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]\nGet:25 http://deb.debian.org/debian bullseye/main amd64 libssh2-1 amd64 1.9.0-2 [156 kB]\nGet:26 http://deb.debian.org/debian bullseye/main amd64 libcurl4 amd64 7.74.0-1.3+deb11u3 [345 kB]\nGet:27 http://deb.debian.org/debian bullseye/main amd64 curl amd64 7.74.0-1.3+deb11u3 [269 kB]\nGet:28 http://deb.debian.org/debian bullseye/main amd64 libcurl3-gnutls amd64 7.74.0-1.3+deb11u3 [342 kB]\nGet:29 http://deb.debian.org/debian bullseye/main amd64 libexpat1 amd64 2.2.10-2+deb11u5 [98.2 kB]\nGet:30 http://deb.debian.org/debian bullseye/main amd64 liberror-perl all 0.17029-1 [31.0 kB]\nGet:31 http://deb.debian.org/debian bullseye/main amd64 git-man all 1:2.30.2-1 [1827 kB]\nGet:32 http://deb.debian.org/debian bullseye/main amd64 git amd64 1:2.30.2-1 [5527 kB]\nGet:33 http://deb.debian.org/debian bullseye/main amd64 libonig5 amd64 6.9.6-1.1 [185 kB]\nGet:34 http://deb.debian.org/debian bullseye/main amd64 libjq1 amd64 1.6-2.1 [135 kB]\nGet:35 http://deb.debian.org/debian bullseye/main amd64 jq amd64 1.6-2.1 [64.9 kB]\nGet:36 http://deb.debian.org/debian bullseye/main amd64 libgpm2 amd64 1.20.7-8 [35.6 kB]\nGet:37 http://deb.debian.org/debian bullseye/main amd64 libldap-common all 2.4.57+dfsg-3+deb11u1 [95.8 kB]\nGet:38 http://deb.debian.org/debian bullseye/main amd64 libsasl2-modules amd64 2.1.27+dfsg-2.1+deb11u1 [104 kB]\nGet:39 http://deb.debian.org/debian bullseye/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]\nGet:40 http://deb.debian.org/debian bullseye/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]\nGet:41 http://deb.debian.org/debian bullseye/main amd64 libxcb1 amd64 1.14-3 [140 kB]\nGet:42 http://deb.debian.org/debian bullseye/main amd64 libx11-data all 2:1.7.2-1 [311 kB]\nGet:43 http://deb.debian.org/debian bullseye/main amd64 libx11-6 amd64 2:1.7.2-1 [772 kB]\nGet:44 http://deb.debian.org/debian bullseye/main amd64 libxext6 amd64 2:1.3.3-1.1 [52.7 kB]\nGet:45 http://deb.debian.org/debian bullseye/main amd64 libxmuu1 amd64 2:1.1.2-2+b3 [23.9 kB]\nGet:46 http://deb.debian.org/debian bullseye/main amd64 patch amd64 2.7.6-7 [128 kB]\nGet:47 http://deb.debian.org/debian bullseye/main amd64 publicsuffix all 20220811.1734-0+deb11u1 [127 kB]\nGet:48 http://deb.debian.org/debian bullseye/main amd64 vim-runtime all 2:8.2.2434-3+deb11u1 [6226 kB]\nGet:49 http://deb.debian.org/debian bullseye/main amd64 vim amd64 2:8.2.2434-3+deb11u1 [1494 kB]\nGet:50 http://deb.debian.org/debian bullseye/main amd64 xauth amd64 1:1.1-1 [40.5 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 29.6 MB in 1s (52.6 MB/s)\nSelecting previously unselected package perl-modules-5.32.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6585 files and directories currently installed.)\r\nPreparing to unpack .../00-perl-modules-5.32_5.32.1-4+deb11u2_all.deb ...\r\nUnpacking perl-modules-5.32 (5.32.1-4+deb11u2) ...\r\nSelecting previously unselected package libgdbm6:amd64.\r\nPreparing to unpack .../01-libgdbm6_1.19-2_amd64.deb ...\r\nUnpacking libgdbm6:amd64 (1.19-2) ...\r\nSelecting previously unselected package libgdbm-compat4:amd64.\r\nPreparing to unpack .../02-libgdbm-compat4_1.19-2_amd64.deb ...\r\nUnpacking libgdbm-compat4:amd64 (1.19-2) ...\r\nSelecting previously unselected package libperl5.32:amd64.\r\nPreparing to unpack .../03-libperl5.32_5.32.1-4+deb11u2_amd64.deb ...\r\nUnpacking libperl5.32:amd64 (5.32.1-4+deb11u2) ...\r\nSelecting previously unselected package perl.\r\nPreparing to unpack .../04-perl_5.32.1-4+deb11u2_amd64.deb ...\r\nUnpacking perl (5.32.1-4+deb11u2) ...\r\nSelecting previously unselected package less.\r\nPreparing to unpack .../05-less_551-2_amd64.deb ...\r\nUnpacking less (551-2) ...\r\nSelecting previously unselected package netbase.\r\nPreparing to unpack .../06-netbase_6.3_all.deb ...\r\nUnpacking netbase (6.3) ...\r\nSelecting previously unselected package xxd.\r\nPreparing to unpack .../07-xxd_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking xxd (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim-common.\r\nPreparing to unpack .../08-vim-common_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nUnpacking vim-common (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../09-openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../10-ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSelecting previously unselected package libmd0:amd64.\r\nPreparing to unpack .../11-libmd0_1.0.3-3_amd64.deb ...\r\nUnpacking libmd0:amd64 (1.0.3-3) ...\r\nSelecting previously unselected package libbsd0:amd64.\r\nPreparing to unpack .../12-libbsd0_0.11.3-1_amd64.deb ...\r\nUnpacking libbsd0:amd64 (0.11.3-1) ...\r\nSelecting previously unselected package libedit2:amd64.\r\nPreparing to unpack .../13-libedit2_3.1-20191231-2+b1_amd64.deb ...\r\nUnpacking libedit2:amd64 (3.1-20191231-2+b1) ...\r\nSelecting previously unselected package libcbor0:amd64.\r\nPreparing to unpack .../14-libcbor0_0.5.0+dfsg-2_amd64.deb ...\r\nUnpacking libcbor0:amd64 (0.5.0+dfsg-2) ...\r\nSelecting previously unselected package libfido2-1:amd64.\r\nPreparing to unpack .../15-libfido2-1_1.6.0-2_amd64.deb ...\r\nUnpacking libfido2-1:amd64 (1.6.0-2) ...\r\nSelecting previously unselected package openssh-client.\r\nPreparing to unpack .../16-openssh-client_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-client (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package libbrotli1:amd64.\r\nPreparing to unpack .../17-libbrotli1_1.0.9-2+b2_amd64.deb ...\r\nUnpacking libbrotli1:amd64 (1.0.9-2+b2) ...\r\nSelecting previously unselected package libsasl2-modules-db:amd64.\r\nPreparing to unpack .../18-libsasl2-modules-db_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...\r\nUnpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSelecting previously unselected package libsasl2-2:amd64.\r\nPreparing to unpack .../19-libsasl2-2_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...\r\nUnpacking libsasl2-2:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSelecting previously unselected package libldap-2.4-2:amd64.\r\nPreparing to unpack .../20-libldap-2.4-2_2.4.57+dfsg-3+deb11u1_amd64.deb ...\r\nUnpacking libldap-2.4-2:amd64 (2.4.57+dfsg-3+deb11u1) ...\r\nSelecting previously unselected package libnghttp2-14:amd64.\r\nPreparing to unpack .../21-libnghttp2-14_1.43.0-1_amd64.deb ...\r\nUnpacking libnghttp2-14:amd64 (1.43.0-1) ...\r\nSelecting previously unselected package libpsl5:amd64.\r\nPreparing to unpack .../22-libpsl5_0.21.0-1.2_amd64.deb ...\r\nUnpacking libpsl5:amd64 (0.21.0-1.2) ...\r\nSelecting previously unselected package librtmp1:amd64.\r\nPreparing to unpack .../23-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...\r\nUnpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...\r\nSelecting previously unselected package libssh2-1:amd64.\r\nPreparing to unpack .../24-libssh2-1_1.9.0-2_amd64.deb ...\r\nUnpacking libssh2-1:amd64 (1.9.0-2) ...\r\nSelecting previously unselected package libcurl4:amd64.\r\nPreparing to unpack .../25-libcurl4_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.74.0-1.3+deb11u3) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../26-curl_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking curl (7.74.0-1.3+deb11u3) ...\r\nSelecting previously unselected package libcurl3-gnutls:amd64.\r\nPreparing to unpack .../27-libcurl3-gnutls_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u3) ...\r\nSelecting previously unselected package libexpat1:amd64.\r\nPreparing to unpack .../28-libexpat1_2.2.10-2+deb11u5_amd64.deb ...\r\nUnpacking libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSelecting previously unselected package liberror-perl.\r\nPreparing to unpack .../29-liberror-perl_0.17029-1_all.deb ...\r\nUnpacking liberror-perl (0.17029-1) ...\r\nSelecting previously unselected package git-man.\r\nPreparing to unpack .../30-git-man_1%3a2.30.2-1_all.deb ...\r\nUnpacking git-man (1:2.30.2-1) ...\r\nSelecting previously unselected package git.\r\nPreparing to unpack .../31-git_1%3a2.30.2-1_amd64.deb ...\r\nUnpacking git (1:2.30.2-1) ...\r\nSelecting previously unselected package libonig5:amd64.\r\nPreparing to unpack .../32-libonig5_6.9.6-1.1_amd64.deb ...\r\nUnpacking libonig5:amd64 (6.9.6-1.1) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../33-libjq1_1.6-2.1_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.6-2.1) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../34-jq_1.6-2.1_amd64.deb ...\r\nUnpacking jq (1.6-2.1) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../35-libgpm2_1.20.7-8_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-8) ...\r\nSelecting previously unselected package libldap-common.\r\nPreparing to unpack .../36-libldap-common_2.4.57+dfsg-3+deb11u1_all.deb ...\r\nUnpacking libldap-common (2.4.57+dfsg-3+deb11u1) ...\r\nSelecting previously unselected package libsasl2-modules:amd64.\r\nPreparing to unpack .../37-libsasl2-modules_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...\r\nUnpacking libsasl2-modules:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSelecting previously unselected package libxau6:amd64.\r\nPreparing to unpack .../38-libxau6_1%3a1.0.9-1_amd64.deb ...\r\nUnpacking libxau6:amd64 (1:1.0.9-1) ...\r\nSelecting previously unselected package libxdmcp6:amd64.\r\nPreparing to unpack .../39-libxdmcp6_1%3a1.1.2-3_amd64.deb ...\r\nUnpacking libxdmcp6:amd64 (1:1.1.2-3) ...\r\nSelecting previously unselected package libxcb1:amd64.\r\nPreparing to unpack .../40-libxcb1_1.14-3_amd64.deb ...\r\nUnpacking libxcb1:amd64 (1.14-3) ...\r\nSelecting previously unselected package libx11-data.\r\nPreparing to unpack .../41-libx11-data_2%3a1.7.2-1_all.deb ...\r\nUnpacking libx11-data (2:1.7.2-1) ...\r\nSelecting previously unselected package libx11-6:amd64.\r\nPreparing to unpack .../42-libx11-6_2%3a1.7.2-1_amd64.deb ...\r\nUnpacking libx11-6:amd64 (2:1.7.2-1) ...\r\nSelecting previously unselected package libxext6:amd64.\r\nPreparing to unpack .../43-libxext6_2%3a1.3.3-1.1_amd64.deb ...\r\nUnpacking libxext6:amd64 (2:1.3.3-1.1) ...\r\nSelecting previously unselected package libxmuu1:amd64.\r\nPreparing to unpack .../44-libxmuu1_2%3a1.1.2-2+b3_amd64.deb ...\r\nUnpacking libxmuu1:amd64 (2:1.1.2-2+b3) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../45-patch_2.7.6-7_amd64.deb ...\r\nUnpacking patch (2.7.6-7) ...\r\nSelecting previously unselected package publicsuffix.\r\nPreparing to unpack .../46-publicsuffix_20220811.1734-0+deb11u1_all.deb ...\r\nUnpacking publicsuffix (20220811.1734-0+deb11u1) ...\r\nSelecting previously unselected package vim-runtime.\r\nPreparing to unpack .../47-vim-runtime_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nAdding 'diversion of /usr/share/vim/vim82/doc/help.txt to /usr/share/vim/vim82/doc/help.txt.vim-tiny by vim-runtime'\r\nAdding 'diversion of /usr/share/vim/vim82/doc/tags to /usr/share/vim/vim82/doc/tags.vim-tiny by vim-runtime'\r\nUnpacking vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim.\r\nPreparing to unpack .../48-vim_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking vim (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package xauth.\r\nPreparing to unpack .../49-xauth_1%3a1.1-1_amd64.deb ...\r\nUnpacking xauth (1:1.1-1) ...\r\nSetting up libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSetting up libxau6:amd64 (1:1.0.9-1) ...\r\nSetting up libpsl5:amd64 (0.21.0-1.2) ...\r\nSetting up libgpm2:amd64 (1.20.7-8) ...\r\nSetting up perl-modules-5.32 (5.32.1-4+deb11u2) ...\r\nSetting up libbrotli1:amd64 (1.0.9-2+b2) ...\r\nSetting up libcbor0:amd64 (0.5.0+dfsg-2) ...\r\nSetting up libsasl2-modules:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSetting up libnghttp2-14:amd64 (1.43.0-1) ...\r\nSetting up less (551-2) ...\r\nSetting up libldap-common (2.4.57+dfsg-3+deb11u1) ...\r\nSetting up xxd (2:8.2.2434-3+deb11u1) ...\r\nSetting up libsasl2-modules-db:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSetting up vim-common (2:8.2.2434-3+deb11u1) ...\r\nSetting up libx11-data (2:1.7.2-1) ...\r\nSetting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...\r\nSetting up patch (2.7.6-7) ...\r\nSetting up libsasl2-2:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSetting up libmd0:amd64 (1.0.3-3) ...\r\nSetting up git-man (1:2.30.2-1) ...\r\nSetting up libssh2-1:amd64 (1.9.0-2) ...\r\nSetting up netbase (6.3) ...\r\nSetting up vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSetting up libfido2-1:amd64 (1.6.0-2) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up libbsd0:amd64 (0.11.3-1) ...\r\nSetting up publicsuffix (20220811.1734-0+deb11u1) ...\r\nSetting up libonig5:amd64 (6.9.6-1.1) ...\r\nSetting up libgdbm6:amd64 (1.19-2) ...\r\nSetting up libxdmcp6:amd64 (1:1.1.2-3) ...\r\nSetting up libxcb1:amd64 (1.14-3) ...\r\nSetting up vim (2:8.2.2434-3+deb11u1) ...\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode\r\nSetting up libjq1:amd64 (1.6-2.1) ...\r\nSetting up libedit2:amd64 (3.1-20191231-2+b1) ...\r\nSetting up libldap-2.4-2:amd64 (2.4.57+dfsg-3+deb11u1) ...\r\nSetting up libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nSetting up libgdbm-compat4:amd64 (1.19-2) ...\r\nSetting up libperl5.32:amd64 (5.32.1-4+deb11u2) ...\r\nSetting up jq (1.6-2.1) ...\r\nSetting up libcurl4:amd64 (7.74.0-1.3+deb11u3) ...\r\nSetting up libx11-6:amd64 (2:1.7.2-1) ...\r\nSetting up curl (7.74.0-1.3+deb11u3) ...\r\nSetting up libxmuu1:amd64 (2:1.1.2-2+b3) ...\r\nSetting up openssh-client (1:8.4p1-5+deb11u1) ...\r\nSetting up libxext6:amd64 (2:1.3.3-1.1) ...\r\nSetting up perl (5.32.1-4+deb11u2) ...\r\nSetting up xauth (1:1.1-1) ...\r\nSetting up liberror-perl (0.17029-1) ...\r\nSetting up git (1:2.30.2-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 28138f953cbf\n ---> 4deb0f49890a\nStep 13/21 : COPY --from=build /citizen/dist/citizen-linux-x64 /usr/local/bin/citizen\n ---> 382902920bb9\nStep 14/21 : WORKDIR /citizen\n ---> Running in af0b800f24b4\nRemoving intermediate container af0b800f24b4\n ---> 93eb63a09d36\nStep 15/21 : ENV CITIZEN_DATABASE_TYPE mongodb_or_sqlite\n ---> Running in 19218b0c2279\nRemoving intermediate container 19218b0c2279\n ---> 66f7b616659a\nStep 16/21 : ENV CITIZEN_DATABASE_URL protocol//username:password@hosts:port/database?options\n ---> Running in 2633cbaca8a9\nRemoving intermediate container 2633cbaca8a9\n ---> 1c49cc949270\nStep 17/21 : ENV CITIZEN_STORAGE file\n ---> Running in afcfa710135b\nRemoving intermediate container afcfa710135b\n ---> f0ef8675de98\nStep 18/21 : ENV CITIZEN_STORAGE_PATH /path/to/store\n ---> Running in aade66fa36d1\nRemoving intermediate container aade66fa36d1\n ---> 66236d61d30d\nStep 19/21 : ENV NODE_ENV=production\n ---> Running in 04d6934abade\nRemoving intermediate container 04d6934abade\n ---> c37e03a2c314\nStep 20/21 : EXPOSE 3000\n ---> Running in 3a082ff1be0a\nRemoving intermediate container 3a082ff1be0a\n ---> 82e3d4ff4b7a\nStep 21/21 : CMD citizen server\n ---> Running in 999ec82403d9\nRemoving intermediate container 999ec82403d9\n ---> 5567acb2405f\nSuccessfully built 5567acb2405f\nSuccessfully tagged citizen:latest\n","stderr":"","imageSize":486213815},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":21,"end":21,"columnStart":18,"columnEnd":48}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":21,"end":21,"columnStart":18,"columnEnd":48}}],"repairedDockerfile":"# build stage\nFROM node:16 as build\n\nWORKDIR /citizen\n\nCOPY package.json .\nCOPY package-lock.json .\nRUN npm install\n\nCOPY . .\n\nRUN npm run client\n\nRUN npm run build:linux\n\n# final stage\nFROM bitnami/minideb\n\nLABEL maintainer=\"outsideris@gmail.com\"\nLABEL org.opencontainers.image.source = \"https://github.com/outsideris/citizen\"\n\nRUN apt update && apt install --no-install-recommends -y git jq vim curl\n\nCOPY --from=build /citizen/dist/citizen-linux-x64 /usr/local/bin/citizen\n\nWORKDIR /citizen\n\nENV CITIZEN_DATABASE_TYPE mongodb_or_sqlite\nENV CITIZEN_DATABASE_URL protocol//username:password@hosts:port/database?options\nENV CITIZEN_STORAGE file\nENV CITIZEN_STORAGE_PATH /path/to/store\n#ENV CITIZEN_STORAGE_BUCKET BUCKET_IF_STORAGE_IS_S3\nENV NODE_ENV=production\n\nEXPOSE 3000\n\n#COPY ./entrypoint.sh /\n#RUN chmod +x /entrypoint.sh\n#CMD [\"/entrypoint.sh\"]\n\nCMD citizen server\n"},"repairedBuild":{"startTimestamp":1672532423752,"endTimestamp":1672532717550,"error":null,"stdout":"Sending build context to Docker daemon  888.3kB\r\r\nStep 1/21 : FROM node:16 as build\n ---> c910109adbfd\nStep 2/21 : WORKDIR /citizen\n ---> Running in 9271a632c112\nRemoving intermediate container 9271a632c112\n ---> 39d56d0d8681\nStep 3/21 : COPY package.json .\n ---> 706dc112e888\nStep 4/21 : COPY package-lock.json .\n ---> 5a1a0daf32dc\nStep 5/21 : RUN npm install\n ---> Running in f4089ec89ea2\n\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated superagent@8.0.2: Please use v8.0.0 until https://github.com/visionmedia/superagent/issues/1743 is resolved\n\u001b[0m\nadded 694 packages, and audited 695 packages in 16s\n\n106 packages are looking for funding\n  run `npm fund` for details\n\n8 high severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container f4089ec89ea2\n ---> 126dd7fe5b11\nStep 6/21 : COPY . .\n ---> 3e594868ec55\nStep 7/21 : RUN npm run client\n ---> Running in 26a7a5f3e95d\n\n> citizen@0.6.0 preclient\n> rimraf stores/sqlite/client stores/mongodb/client\n\n\n> citizen@0.6.0 client\n> npm run client:sqlite && npm run client:mongodb && npm run client:mysql\n\n\n> citizen@0.6.0 client:sqlite\n> prisma generate --schema stores/sqlite/sqlite.prisma\n\nPrisma schema loaded from stores/sqlite/sqlite.prisma\n\n✔ Generated Prisma Client (4.4.0 | library) to ./stores/sqlite/client in 2.86s\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from './stores/sqlite/client'\nconst prisma = new PrismaClient()\n```\n\n> citizen@0.6.0 client:mongodb\n> prisma generate --schema stores/mongodb/mongodb.prisma\n\nPrisma schema loaded from stores/mongodb/mongodb.prisma\n\n✔ Generated Prisma Client (4.4.0 | library) to ./stores/mongodb/client in 3.97s\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from './stores/mongodb/client'\nconst prisma = new PrismaClient()\n```\n\u001b[91m┌─────────────────────────────────────────────────────────┐\n│  Update available 4.4.0 -> 4.8.0                        │\n│  Run the following to update                            │\n│    npm i --save-dev prisma@latest                       │\n│    npm i @prisma/client@latest                          │\n└─────────────────────────────────────────────────────────┘\n\u001b[0m\n> citizen@0.6.0 client:mysql\n> prisma generate --schema stores/mysql/mysql.prisma\n\nPrisma schema loaded from stores/mysql/mysql.prisma\n\n✔ Generated Prisma Client (4.4.0 | library) to ./stores/mysql/client in 5.43s\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from './stores/mysql/client'\nconst prisma = new PrismaClient()\n```\nRemoving intermediate container 26a7a5f3e95d\n ---> d726038fc433\nStep 8/21 : RUN npm run build:linux\n ---> Running in 0a1e24469829\n\n> citizen@0.6.0 build:linux\n> pkg . --compress GZip --targets node16-linux-x64 -o dist/citizen-linux-x64\n\n> pkg@5.8.0\ncompression:  GZip\n> Fetching base Node.js binaries to PKG_CACHE_PATH\n\n\n> Warning Failed to make bytecode node16-x64 for file /snapshot/citizen/node_modules/@aws-sdk/util-stream-browser/dist-es/index.js\nRemoving intermediate container 0a1e24469829\n ---> 45101d51e14d\nStep 9/21 : FROM bitnami/minideb\n ---> 1e6d839039bd\nStep 10/21 : LABEL maintainer=\"outsideris@gmail.com\"\n ---> Running in ca5d35bdc037\nRemoving intermediate container ca5d35bdc037\n ---> 189e967b74d0\nStep 11/21 : LABEL org.opencontainers.image.source = \"https://github.com/outsideris/citizen\"\n ---> Running in 43ee67861b63\nRemoving intermediate container 43ee67861b63\n ---> 2da4bd4d143c\nStep 12/21 : RUN apt update && apt install --no-install-recommends -y git jq vim curl\n ---> Running in a21e2dac34b0\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://security.debian.org bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org bullseye-security/main amd64 Packages [265 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [11.1 MB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 11.6 MB in 1s (11.3 MB/s)\nReading package lists...\nBuilding dependency tree...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nThe following additional packages will be installed:\n  git-man libbrotli1 libcurl3-gnutls libcurl4 liberror-perl libexpat1\n  libgdbm-compat4 libgdbm6 libgpm2 libjq1 libldap-2.4-2 libnghttp2-14 libonig5\n  libperl5.32 libpsl5 librtmp1 libsasl2-2 libsasl2-modules-db libssh2-1 perl\n  perl-modules-5.32 vim-common vim-runtime xxd\nSuggested packages:\n  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-cvs git-mediawiki git-svn gdbm-l10n gpm\n  sensible-utils perl-doc libterm-readline-gnu-perl\n  | libterm-readline-perl-perl make libtap-harness-archive-perl ctags vim-doc\n  vim-scripts\nRecommended packages:\n  ca-certificates patch less ssh-client libldap-common publicsuffix\n  libsasl2-modules netbase\nThe following NEW packages will be installed:\n  curl git git-man jq libbrotli1 libcurl3-gnutls libcurl4 liberror-perl\n  libexpat1 libgdbm-compat4 libgdbm6 libgpm2 libjq1 libldap-2.4-2\n  libnghttp2-14 libonig5 libperl5.32 libpsl5 librtmp1 libsasl2-2\n  libsasl2-modules-db libssh2-1 perl perl-modules-5.32 vim vim-common\n  vim-runtime xxd\n0 upgraded, 28 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 25.4 MB of archives.\nAfter this operation, 128 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 perl-modules-5.32 all 5.32.1-4+deb11u2 [2823 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libgdbm6 amd64 1.19-2 [64.9 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libgdbm-compat4 amd64 1.19-2 [44.7 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libperl5.32 amd64 5.32.1-4+deb11u2 [4106 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 perl amd64 5.32.1-4+deb11u2 [293 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 xxd amd64 2:8.2.2434-3+deb11u1 [192 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 vim-common all 2:8.2.2434-3+deb11u1 [226 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libbrotli1 amd64 1.0.9-2+b2 [279 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-2.1+deb11u1 [69.1 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 libsasl2-2 amd64 2.1.27+dfsg-2.1+deb11u1 [106 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 libldap-2.4-2 amd64 2.4.57+dfsg-3+deb11u1 [232 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 libnghttp2-14 amd64 1.43.0-1 [77.1 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 libpsl5 amd64 0.21.0-1.2 [57.3 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 libssh2-1 amd64 1.9.0-2 [156 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 libcurl4 amd64 7.74.0-1.3+deb11u3 [345 kB]\nGet:17 http://deb.debian.org/debian bullseye/main amd64 curl amd64 7.74.0-1.3+deb11u3 [269 kB]\nGet:18 http://deb.debian.org/debian bullseye/main amd64 libcurl3-gnutls amd64 7.74.0-1.3+deb11u3 [342 kB]\nGet:19 http://deb.debian.org/debian bullseye/main amd64 libexpat1 amd64 2.2.10-2+deb11u5 [98.2 kB]\nGet:20 http://deb.debian.org/debian bullseye/main amd64 liberror-perl all 0.17029-1 [31.0 kB]\nGet:21 http://deb.debian.org/debian bullseye/main amd64 git-man all 1:2.30.2-1 [1827 kB]\nGet:22 http://deb.debian.org/debian bullseye/main amd64 git amd64 1:2.30.2-1 [5527 kB]\nGet:23 http://deb.debian.org/debian bullseye/main amd64 libonig5 amd64 6.9.6-1.1 [185 kB]\nGet:24 http://deb.debian.org/debian bullseye/main amd64 libjq1 amd64 1.6-2.1 [135 kB]\nGet:25 http://deb.debian.org/debian bullseye/main amd64 jq amd64 1.6-2.1 [64.9 kB]\nGet:26 http://deb.debian.org/debian bullseye/main amd64 libgpm2 amd64 1.20.7-8 [35.6 kB]\nGet:27 http://deb.debian.org/debian bullseye/main amd64 vim-runtime all 2:8.2.2434-3+deb11u1 [6226 kB]\nGet:28 http://deb.debian.org/debian bullseye/main amd64 vim amd64 2:8.2.2434-3+deb11u1 [1494 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 25.4 MB in 1s (41.9 MB/s)\nSelecting previously unselected package perl-modules-5.32.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6585 files and directories currently installed.)\r\nPreparing to unpack .../00-perl-modules-5.32_5.32.1-4+deb11u2_all.deb ...\r\nUnpacking perl-modules-5.32 (5.32.1-4+deb11u2) ...\r\nSelecting previously unselected package libgdbm6:amd64.\r\nPreparing to unpack .../01-libgdbm6_1.19-2_amd64.deb ...\r\nUnpacking libgdbm6:amd64 (1.19-2) ...\r\nSelecting previously unselected package libgdbm-compat4:amd64.\r\nPreparing to unpack .../02-libgdbm-compat4_1.19-2_amd64.deb ...\r\nUnpacking libgdbm-compat4:amd64 (1.19-2) ...\r\nSelecting previously unselected package libperl5.32:amd64.\r\nPreparing to unpack .../03-libperl5.32_5.32.1-4+deb11u2_amd64.deb ...\r\nUnpacking libperl5.32:amd64 (5.32.1-4+deb11u2) ...\r\nSelecting previously unselected package perl.\r\nPreparing to unpack .../04-perl_5.32.1-4+deb11u2_amd64.deb ...\r\nUnpacking perl (5.32.1-4+deb11u2) ...\r\nSelecting previously unselected package xxd.\r\nPreparing to unpack .../05-xxd_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking xxd (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim-common.\r\nPreparing to unpack .../06-vim-common_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nUnpacking vim-common (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package libbrotli1:amd64.\r\nPreparing to unpack .../07-libbrotli1_1.0.9-2+b2_amd64.deb ...\r\nUnpacking libbrotli1:amd64 (1.0.9-2+b2) ...\r\nSelecting previously unselected package libsasl2-modules-db:amd64.\r\nPreparing to unpack .../08-libsasl2-modules-db_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...\r\nUnpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSelecting previously unselected package libsasl2-2:amd64.\r\nPreparing to unpack .../09-libsasl2-2_2.1.27+dfsg-2.1+deb11u1_amd64.deb ...\r\nUnpacking libsasl2-2:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSelecting previously unselected package libldap-2.4-2:amd64.\r\nPreparing to unpack .../10-libldap-2.4-2_2.4.57+dfsg-3+deb11u1_amd64.deb ...\r\nUnpacking libldap-2.4-2:amd64 (2.4.57+dfsg-3+deb11u1) ...\r\nSelecting previously unselected package libnghttp2-14:amd64.\r\nPreparing to unpack .../11-libnghttp2-14_1.43.0-1_amd64.deb ...\r\nUnpacking libnghttp2-14:amd64 (1.43.0-1) ...\r\nSelecting previously unselected package libpsl5:amd64.\r\nPreparing to unpack .../12-libpsl5_0.21.0-1.2_amd64.deb ...\r\nUnpacking libpsl5:amd64 (0.21.0-1.2) ...\r\nSelecting previously unselected package librtmp1:amd64.\r\nPreparing to unpack .../13-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...\r\nUnpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...\r\nSelecting previously unselected package libssh2-1:amd64.\r\nPreparing to unpack .../14-libssh2-1_1.9.0-2_amd64.deb ...\r\nUnpacking libssh2-1:amd64 (1.9.0-2) ...\r\nSelecting previously unselected package libcurl4:amd64.\r\nPreparing to unpack .../15-libcurl4_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.74.0-1.3+deb11u3) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../16-curl_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking curl (7.74.0-1.3+deb11u3) ...\r\nSelecting previously unselected package libcurl3-gnutls:amd64.\r\nPreparing to unpack .../17-libcurl3-gnutls_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u3) ...\r\nSelecting previously unselected package libexpat1:amd64.\r\nPreparing to unpack .../18-libexpat1_2.2.10-2+deb11u5_amd64.deb ...\r\nUnpacking libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSelecting previously unselected package liberror-perl.\r\nPreparing to unpack .../19-liberror-perl_0.17029-1_all.deb ...\r\nUnpacking liberror-perl (0.17029-1) ...\r\nSelecting previously unselected package git-man.\r\nPreparing to unpack .../20-git-man_1%3a2.30.2-1_all.deb ...\r\nUnpacking git-man (1:2.30.2-1) ...\r\nSelecting previously unselected package git.\r\nPreparing to unpack .../21-git_1%3a2.30.2-1_amd64.deb ...\r\nUnpacking git (1:2.30.2-1) ...\r\nSelecting previously unselected package libonig5:amd64.\r\nPreparing to unpack .../22-libonig5_6.9.6-1.1_amd64.deb ...\r\nUnpacking libonig5:amd64 (6.9.6-1.1) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../23-libjq1_1.6-2.1_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.6-2.1) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../24-jq_1.6-2.1_amd64.deb ...\r\nUnpacking jq (1.6-2.1) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../25-libgpm2_1.20.7-8_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-8) ...\r\nSelecting previously unselected package vim-runtime.\r\nPreparing to unpack .../26-vim-runtime_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nAdding 'diversion of /usr/share/vim/vim82/doc/help.txt to /usr/share/vim/vim82/doc/help.txt.vim-tiny by vim-runtime'\r\nAdding 'diversion of /usr/share/vim/vim82/doc/tags to /usr/share/vim/vim82/doc/tags.vim-tiny by vim-runtime'\r\nUnpacking vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim.\r\nPreparing to unpack .../27-vim_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking vim (2:8.2.2434-3+deb11u1) ...\r\nSetting up libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSetting up libpsl5:amd64 (0.21.0-1.2) ...\r\nSetting up libgpm2:amd64 (1.20.7-8) ...\r\nSetting up perl-modules-5.32 (5.32.1-4+deb11u2) ...\r\nSetting up libbrotli1:amd64 (1.0.9-2+b2) ...\r\nSetting up libnghttp2-14:amd64 (1.43.0-1) ...\r\nSetting up xxd (2:8.2.2434-3+deb11u1) ...\r\nSetting up libsasl2-modules-db:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSetting up vim-common (2:8.2.2434-3+deb11u1) ...\r\nSetting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...\r\nSetting up libsasl2-2:amd64 (2.1.27+dfsg-2.1+deb11u1) ...\r\nSetting up git-man (1:2.30.2-1) ...\r\nSetting up libssh2-1:amd64 (1.9.0-2) ...\r\nSetting up vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSetting up libonig5:amd64 (6.9.6-1.1) ...\r\nSetting up libgdbm6:amd64 (1.19-2) ...\r\nSetting up vim (2:8.2.2434-3+deb11u1) ...\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode\r\nSetting up libjq1:amd64 (1.6-2.1) ...\r\nSetting up libldap-2.4-2:amd64 (2.4.57+dfsg-3+deb11u1) ...\r\nSetting up libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u3) ...\r\nSetting up libgdbm-compat4:amd64 (1.19-2) ...\r\nSetting up libperl5.32:amd64 (5.32.1-4+deb11u2) ...\r\nSetting up jq (1.6-2.1) ...\r\nSetting up libcurl4:amd64 (7.74.0-1.3+deb11u3) ...\r\nSetting up curl (7.74.0-1.3+deb11u3) ...\r\nSetting up perl (5.32.1-4+deb11u2) ...\r\nSetting up liberror-perl (0.17029-1) ...\r\nSetting up git (1:2.30.2-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container a21e2dac34b0\n ---> 41896c44f65c\nStep 13/21 : COPY --from=build /citizen/dist/citizen-linux-x64 /usr/local/bin/citizen\n ---> 7b93361f232a\nStep 14/21 : WORKDIR /citizen\n ---> Running in 2e15a02a7cda\nRemoving intermediate container 2e15a02a7cda\n ---> 94238fcacdcd\nStep 15/21 : ENV CITIZEN_DATABASE_TYPE mongodb_or_sqlite\n ---> Running in 4d98df1b8260\nRemoving intermediate container 4d98df1b8260\n ---> 6597209e1766\nStep 16/21 : ENV CITIZEN_DATABASE_URL protocol//username:password@hosts:port/database?options\n ---> Running in bf7fc7420e4d\nRemoving intermediate container bf7fc7420e4d\n ---> 2f5e5fc32099\nStep 17/21 : ENV CITIZEN_STORAGE file\n ---> Running in 636c5bfb32be\nRemoving intermediate container 636c5bfb32be\n ---> 2b4924feca1f\nStep 18/21 : ENV CITIZEN_STORAGE_PATH /path/to/store\n ---> Running in 398488fb7d8d\nRemoving intermediate container 398488fb7d8d\n ---> bed4ab90dcc1\nStep 19/21 : ENV NODE_ENV=production\n ---> Running in c60d114f1837\nRemoving intermediate container c60d114f1837\n ---> f14a3e8fd8a1\nStep 20/21 : EXPOSE 3000\n ---> Running in 9e9a76fcdfcd\nRemoving intermediate container 9e9a76fcdfcd\n ---> 0f8eab129694\nStep 21/21 : CMD citizen server\n ---> Running in 97dc7b158593\nRemoving intermediate container 97dc7b158593\n ---> ffc066595cf7\nSuccessfully built ffc066595cf7\nSuccessfully tagged citizen:latest\n","stderr":"","imageSize":473328253},"endTime":1672532717907}