{"repository":"https://github.com/obi-a/ragios","dockerfilePath":"Dockerfile","startTime":1672962708418,"endTime":1672962950888,"clone":{"startTime":1672962708418,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/obi-a/ragios'...\n","error":null,"endTime":1672962709367,"commit":"7451dc0a82e677c5e25a9c4cc190832dc756bf95"},"originalBuild":{"startTime":1672962709436,"endTime":1672962833948,"error":null,"stdout":"Sending build context to Docker daemon  2.614MB\r\r\nStep 1/9 : FROM ruby:2.4.1-stretch\n2.4.1-stretch: Pulling from library/ruby\n219d2e45b4af: Pulling fs layer\nef9ce992ffe4: Pulling fs layer\nd0df8518230c: Pulling fs layer\n38ae21afde7b: Pulling fs layer\nbaa1c2e15c01: Pulling fs layer\n73f08ccc27e6: Pulling fs layer\n34bbf87233b8: Pulling fs layer\n57ca1b2ebf6d: Pulling fs layer\n71838532265b: Pulling fs layer\n57ca1b2ebf6d: Waiting\n71838532265b: Waiting\n34bbf87233b8: Waiting\n38ae21afde7b: Waiting\n73f08ccc27e6: Waiting\nef9ce992ffe4: Verifying Checksum\nef9ce992ffe4: Download complete\n219d2e45b4af: Verifying Checksum\n219d2e45b4af: Download complete\nd0df8518230c: Verifying Checksum\nd0df8518230c: Download complete\n38ae21afde7b: Verifying Checksum\n38ae21afde7b: Download complete\n73f08ccc27e6: Verifying Checksum\n73f08ccc27e6: Download complete\n57ca1b2ebf6d: Verifying Checksum\n57ca1b2ebf6d: Download complete\n34bbf87233b8: Verifying Checksum\n34bbf87233b8: Download complete\n71838532265b: Verifying Checksum\n71838532265b: Download complete\n219d2e45b4af: Pull complete\nef9ce992ffe4: Pull complete\nd0df8518230c: Pull complete\n38ae21afde7b: Pull complete\nbaa1c2e15c01: Verifying Checksum\nbaa1c2e15c01: Download complete\nbaa1c2e15c01: Pull complete\n73f08ccc27e6: Pull complete\n34bbf87233b8: Pull complete\n57ca1b2ebf6d: Pull complete\n71838532265b: Pull complete\nDigest: sha256:bca56c76db0f0117a879c794fd54dca115a76d625efc147f60cb753d22b0c248\nStatus: Downloaded newer image for ruby:2.4.1-stretch\n ---> f8244566034e\nStep 2/9 : RUN apt-get update && apt-get install -y     libzmq3-dev\n ---> Running in 75354f575a0e\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:3 http://deb.debian.org/debian stretch Release [118 kB]\nGet:4 http://security.debian.org stretch/updates InRelease [59.1 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org stretch/updates/main amd64 Packages [996 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [9610 kB]\nFetched 10.9 MB in 1s (9071 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpgm-5.2-0 libsodium18 libzmq5\nThe following NEW packages will be installed:\n  libpgm-5.2-0 libsodium18 libzmq3-dev libzmq5\n0 upgraded, 4 newly installed, 0 to remove and 231 not upgraded.\nNeed to get 890 kB of archives.\nAfter this operation, 3364 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libpgm-5.2-0 amd64 5.2.122~dfsg-2 [157 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 libsodium18 amd64 1.0.11-2 [161 kB]\nGet:3 http://security.debian.org stretch/updates/main amd64 libzmq5 amd64 4.2.1-4+deb9u4 [201 kB]\nGet:4 http://security.debian.org stretch/updates/main amd64 libzmq3-dev amd64 4.2.1-4+deb9u4 [370 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 890 kB in 0s (15.6 MB/s)\nSelecting previously unselected package libpgm-5.2-0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29362 files and directories currently installed.)\r\nPreparing to unpack .../libpgm-5.2-0_5.2.122~dfsg-2_amd64.deb ...\r\nUnpacking libpgm-5.2-0:amd64 (5.2.122~dfsg-2) ...\r\nSelecting previously unselected package libsodium18:amd64.\r\nPreparing to unpack .../libsodium18_1.0.11-2_amd64.deb ...\r\nUnpacking libsodium18:amd64 (1.0.11-2) ...\r\nSelecting previously unselected package libzmq5:amd64.\r\nPreparing to unpack .../libzmq5_4.2.1-4+deb9u4_amd64.deb ...\r\nUnpacking libzmq5:amd64 (4.2.1-4+deb9u4) ...\r\nSelecting previously unselected package libzmq3-dev:amd64.\r\nPreparing to unpack .../libzmq3-dev_4.2.1-4+deb9u4_amd64.deb ...\r\nUnpacking libzmq3-dev:amd64 (4.2.1-4+deb9u4) ...\r\nSetting up libpgm-5.2-0:amd64 (5.2.122~dfsg-2) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u1) ...\r\nSetting up libsodium18:amd64 (1.0.11-2) ...\r\nSetting up libzmq5:amd64 (4.2.1-4+deb9u4) ...\r\nSetting up libzmq3-dev:amd64 (4.2.1-4+deb9u4) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u1) ...\r\nRemoving intermediate container 75354f575a0e\n ---> 1340e33d3ccd\nStep 3/9 : ENV RAGIOS_COUCHDB_ADDRESS couchdb\n ---> Running in d3e61110d728\nRemoving intermediate container d3e61110d728\n ---> 5401bd58932b\nStep 4/9 : ENV RAGIOS_COUCHDB_PORT 5984\n ---> Running in 3e5d25d143f8\nRemoving intermediate container 3e5d25d143f8\n ---> 472fb7366175\nStep 5/9 : ENV RAGIOS_DATABASE ragios_database\n ---> Running in 1c2fa9d3999f\nRemoving intermediate container 1c2fa9d3999f\n ---> 6d52134fda2c\nStep 6/9 : COPY . /usr/src/ragios\n ---> d7d38f4a70f3\nStep 7/9 : WORKDIR /usr/src/ragios\n ---> Running in 3a85c3bc6b0e\nRemoving intermediate container 3a85c3bc6b0e\n ---> f98074f0e529\nStep 8/9 : RUN bundle install\n ---> Running in 3eda2558dd1a\nFetching gem metadata from http://rubygems.org/..........\nFetching version metadata from http://rubygems.org/..\nFetching dependency metadata from http://rubygems.org/.\nFetching rake 13.0.1\nInstalling rake 13.0.1\nFetching builder 3.2.4\nInstalling builder 3.2.4\nFetching mini_mime 1.0.2\nInstalling mini_mime 1.0.2\nFetching mime-types-data 3.2019.1009\nInstalling mime-types-data 3.2019.1009\nFetching xml-simple 1.1.5\nInstalling xml-simple 1.1.5\nUsing bundler 1.15.4\nFetching timers 4.3.0\nInstalling timers 4.3.0\nFetching ffi 1.9.25\nInstalling ffi 1.9.25 with native extensions\nFetching coderay 1.1.2\nInstalling coderay 1.1.2\nFetching concurrent-ruby 1.1.5\nInstalling concurrent-ruby 1.1.5\nFetching contracts 0.4\nInstalling contracts 0.4\nFetching daemons 1.3.1\nInstalling daemons 1.3.1\nFetching diff-lcs 1.3\nInstalling diff-lcs 1.3\nFetching unf_ext 0.0.7.6\nInstalling unf_ext 0.0.7.6 with native extensions\nFetching excon 0.71.1\nInstalling excon 0.71.1\nFetching foreman 0.86.0\nInstalling foreman 0.86.0\nFetching http-accept 1.7.0\nInstalling http-accept 1.7.0\nFetching multi_json 1.14.1\nInstalling multi_json 1.14.1\nFetching netrc 0.11.0\nInstalling netrc 0.11.0\nFetching method_source 0.9.2\nInstalling method_source 0.9.2\nFetching mini_portile2 2.4.0\nInstalling mini_portile2 2.4.0\nFetching mustermann 1.0.3\nInstalling mustermann 1.0.3\nFetching puma 3.12.2\nInstalling puma 3.12.2 with native extensions\nFetching rack 2.0.8\nInstalling rack 2.0.8\nFetching rspec-support 3.9.1\nInstalling rspec-support 3.9.1\nFetching tilt 2.0.10\nInstalling tilt 2.0.10\nFetching state_machine 1.2.0\nInstalling state_machine 1.2.0\nFetching mail 2.7.1\nInstalling mail 2.7.1\nFetching mime-types 3.3.1\nInstalling mime-types 3.3.1\nFetching celluloid-essentials 0.20.5\nInstalling celluloid-essentials 0.20.5\nFetching celluloid-extras 0.20.5\nInstalling celluloid-extras 0.20.5\nFetching celluloid-fsm 0.20.5\nInstalling celluloid-fsm 0.20.5\nFetching celluloid-pool 0.20.5\nInstalling celluloid-pool 0.20.5\nFetching celluloid-supervision 0.20.6\nInstalling celluloid-supervision 0.20.6\nFetching ffi-rzmq-core 1.0.7\nInstalling ffi-rzmq-core 1.0.7\nFetching tzinfo 2.0.1\nInstalling tzinfo 2.0.1\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching pry 0.12.2\nInstalling pry 0.12.2\nFetching nokogiri 1.10.7\nInstalling nokogiri 1.10.7 with native extensions\nFetching rack-protection 2.0.7\nInstalling rack-protection 2.0.7\nFetching rack-test 1.1.0\nInstalling rack-test 1.1.0\nFetching rspec-core 3.9.1\nInstalling rspec-core 3.9.1\nFetching rspec-expectations 3.9.0\nInstalling rspec-expectations 3.9.0\nFetching rspec-mocks 3.9.0\nInstalling rspec-mocks 3.9.0\nFetching aws-ses 0.6.0\nInstalling aws-ses 0.6.0\nFetching celluloid 0.17.4\nInstalling celluloid 0.17.4\nFetching ffi-rzmq 2.0.7\nInstalling ffi-rzmq 2.0.7\nFetching et-orbi 1.2.2\nInstalling et-orbi 1.2.2\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching sinatra 2.0.7\nInstalling sinatra 2.0.7\nFetching rspec 3.9.0\nInstalling rspec 3.9.0\nFetching celluloid-zmq 0.17.2\nInstalling celluloid-zmq 0.17.2\nFetching rufus-scheduler 3.4.2\nInstalling rufus-scheduler 3.4.2\nFetching http-cookie 1.0.3\nInstalling http-cookie 1.0.3\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nFetching leanback 0.5.14\nInstalling leanback 0.5.14\nBundle complete! 19 Gemfile dependencies, 56 gems now installed.\nBundled gems are installed into /usr/local/bundle.\nRemoving intermediate container 3eda2558dd1a\n ---> 5cfd251499c8\nStep 9/9 : CMD bundle exec rake webapp_tests core_tests\n ---> Running in 2442ae626e5b\nRemoving intermediate container 2442ae626e5b\n ---> b7ca3bf56d60\nSuccessfully built b7ca3bf56d60\nSuccessfully tagged ragios:latest\n","stderr":"","imageSize":1000161412},"repair":{"startTime":1672962834010,"endTime":1672962834076,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":1,"end":2,"columnStart":22,"columnEnd":15}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":1,"end":2,"columnStart":22,"columnEnd":15}}],"repairedDockerfile":"FROM ruby:2.4.1-stretch\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    libzmq3-dev && rm -rf /var/lib/apt/lists/*;\nENV RAGIOS_COUCHDB_ADDRESS couchdb\nENV RAGIOS_COUCHDB_PORT 5984\nENV RAGIOS_DATABASE ragios_database\nCOPY . /usr/src/ragios\nWORKDIR /usr/src/ragios\nRUN bundle install\nCMD bundle exec rake webapp_tests core_tests\n"},"repairedBuild":{"startTime":1672962834434,"endTime":1672962950300,"error":null,"stdout":"Sending build context to Docker daemon  2.614MB\r\r\nStep 1/9 : FROM ruby:2.4.1-stretch\n ---> f8244566034e\nStep 2/9 : RUN apt-get update && apt-get install --no-install-recommends -y     libzmq3-dev && rm -rf /var/lib/apt/lists/*;\n ---> Running in 8a226e8f0043\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org stretch/updates/main amd64 Packages [996 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [9610 kB]\nFetched 10.9 MB in 1s (9792 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpgm-5.2-0 libsodium18 libzmq5\nThe following NEW packages will be installed:\n  libpgm-5.2-0 libsodium18 libzmq3-dev libzmq5\n0 upgraded, 4 newly installed, 0 to remove and 231 not upgraded.\nNeed to get 890 kB of archives.\nAfter this operation, 3364 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libpgm-5.2-0 amd64 5.2.122~dfsg-2 [157 kB]\nGet:2 http://security.debian.org stretch/updates/main amd64 libzmq5 amd64 4.2.1-4+deb9u4 [201 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 libsodium18 amd64 1.0.11-2 [161 kB]\nGet:4 http://security.debian.org stretch/updates/main amd64 libzmq3-dev amd64 4.2.1-4+deb9u4 [370 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 890 kB in 0s (5318 kB/s)\nSelecting previously unselected package libpgm-5.2-0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29362 files and directories currently installed.)\r\nPreparing to unpack .../libpgm-5.2-0_5.2.122~dfsg-2_amd64.deb ...\r\nUnpacking libpgm-5.2-0:amd64 (5.2.122~dfsg-2) ...\r\nSelecting previously unselected package libsodium18:amd64.\r\nPreparing to unpack .../libsodium18_1.0.11-2_amd64.deb ...\r\nUnpacking libsodium18:amd64 (1.0.11-2) ...\r\nSelecting previously unselected package libzmq5:amd64.\r\nPreparing to unpack .../libzmq5_4.2.1-4+deb9u4_amd64.deb ...\r\nUnpacking libzmq5:amd64 (4.2.1-4+deb9u4) ...\r\nSelecting previously unselected package libzmq3-dev:amd64.\r\nPreparing to unpack .../libzmq3-dev_4.2.1-4+deb9u4_amd64.deb ...\r\nUnpacking libzmq3-dev:amd64 (4.2.1-4+deb9u4) ...\r\nSetting up libpgm-5.2-0:amd64 (5.2.122~dfsg-2) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u1) ...\r\nSetting up libsodium18:amd64 (1.0.11-2) ...\r\nSetting up libzmq5:amd64 (4.2.1-4+deb9u4) ...\r\nSetting up libzmq3-dev:amd64 (4.2.1-4+deb9u4) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u1) ...\r\nRemoving intermediate container 8a226e8f0043\n ---> 1f9292a25d69\nStep 3/9 : ENV RAGIOS_COUCHDB_ADDRESS couchdb\n ---> Running in 97a6c3f2d893\nRemoving intermediate container 97a6c3f2d893\n ---> af5cfa3b9719\nStep 4/9 : ENV RAGIOS_COUCHDB_PORT 5984\n ---> Running in 8fc876617e9c\nRemoving intermediate container 8fc876617e9c\n ---> 69835fcadcc3\nStep 5/9 : ENV RAGIOS_DATABASE ragios_database\n ---> Running in b699ca7bc120\nRemoving intermediate container b699ca7bc120\n ---> 9852364271ac\nStep 6/9 : COPY . /usr/src/ragios\n ---> 72bbbe0d0a08\nStep 7/9 : WORKDIR /usr/src/ragios\n ---> Running in dd460569f48b\nRemoving intermediate container dd460569f48b\n ---> 5ecf0ddb0532\nStep 8/9 : RUN bundle install\n ---> Running in bd5d5d0eef88\nFetching gem metadata from http://rubygems.org/..........\nFetching version metadata from http://rubygems.org/..\nFetching dependency metadata from http://rubygems.org/.\nFetching rake 13.0.1\nInstalling rake 13.0.1\nFetching builder 3.2.4\nInstalling builder 3.2.4\nFetching mini_mime 1.0.2\nInstalling mini_mime 1.0.2\nFetching mime-types-data 3.2019.1009\nInstalling mime-types-data 3.2019.1009\nFetching xml-simple 1.1.5\nInstalling xml-simple 1.1.5\nUsing bundler 1.15.4\nFetching timers 4.3.0\nInstalling timers 4.3.0\nFetching ffi 1.9.25\nInstalling ffi 1.9.25 with native extensions\nFetching coderay 1.1.2\nInstalling coderay 1.1.2\nFetching concurrent-ruby 1.1.5\nInstalling concurrent-ruby 1.1.5\nFetching contracts 0.4\nInstalling contracts 0.4\nFetching daemons 1.3.1\nInstalling daemons 1.3.1\nFetching diff-lcs 1.3\nInstalling diff-lcs 1.3\nFetching unf_ext 0.0.7.6\nInstalling unf_ext 0.0.7.6 with native extensions\nFetching excon 0.71.1\nInstalling excon 0.71.1\nFetching foreman 0.86.0\nInstalling foreman 0.86.0\nFetching http-accept 1.7.0\nInstalling http-accept 1.7.0\nFetching multi_json 1.14.1\nInstalling multi_json 1.14.1\nFetching netrc 0.11.0\nInstalling netrc 0.11.0\nFetching method_source 0.9.2\nInstalling method_source 0.9.2\nFetching mini_portile2 2.4.0\nInstalling mini_portile2 2.4.0\nFetching mustermann 1.0.3\nInstalling mustermann 1.0.3\nFetching puma 3.12.2\nInstalling puma 3.12.2 with native extensions\nFetching rack 2.0.8\nInstalling rack 2.0.8\nFetching rspec-support 3.9.1\nInstalling rspec-support 3.9.1\nFetching tilt 2.0.10\nInstalling tilt 2.0.10\nFetching state_machine 1.2.0\nInstalling state_machine 1.2.0\nFetching mail 2.7.1\nInstalling mail 2.7.1\nFetching mime-types 3.3.1\nInstalling mime-types 3.3.1\nFetching celluloid-essentials 0.20.5\nInstalling celluloid-essentials 0.20.5\nFetching celluloid-extras 0.20.5\nInstalling celluloid-extras 0.20.5\nFetching celluloid-fsm 0.20.5\nInstalling celluloid-fsm 0.20.5\nFetching celluloid-pool 0.20.5\nInstalling celluloid-pool 0.20.5\nFetching celluloid-supervision 0.20.6\nInstalling celluloid-supervision 0.20.6\nFetching ffi-rzmq-core 1.0.7\nInstalling ffi-rzmq-core 1.0.7\nFetching tzinfo 2.0.1\nInstalling tzinfo 2.0.1\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching pry 0.12.2\nInstalling pry 0.12.2\nFetching nokogiri 1.10.7\nInstalling nokogiri 1.10.7 with native extensions\nFetching rack-protection 2.0.7\nInstalling rack-protection 2.0.7\nFetching rack-test 1.1.0\nInstalling rack-test 1.1.0\nFetching rspec-core 3.9.1\nInstalling rspec-core 3.9.1\nFetching rspec-expectations 3.9.0\nInstalling rspec-expectations 3.9.0\nFetching rspec-mocks 3.9.0\nInstalling rspec-mocks 3.9.0\nFetching aws-ses 0.6.0\nInstalling aws-ses 0.6.0\nFetching celluloid 0.17.4\nInstalling celluloid 0.17.4\nFetching ffi-rzmq 2.0.7\nInstalling ffi-rzmq 2.0.7\nFetching et-orbi 1.2.2\nInstalling et-orbi 1.2.2\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching sinatra 2.0.7\nInstalling sinatra 2.0.7\nFetching rspec 3.9.0\nInstalling rspec 3.9.0\nFetching celluloid-zmq 0.17.2\nInstalling celluloid-zmq 0.17.2\nFetching rufus-scheduler 3.4.2\nInstalling rufus-scheduler 3.4.2\nFetching http-cookie 1.0.3\nInstalling http-cookie 1.0.3\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nFetching leanback 0.5.14\nInstalling leanback 0.5.14\nBundle complete! 19 Gemfile dependencies, 56 gems now installed.\nBundled gems are installed into /usr/local/bundle.\nRemoving intermediate container bd5d5d0eef88\n ---> bfe0b891cd94\nStep 9/9 : CMD bundle exec rake webapp_tests core_tests\n ---> Running in 7415c5882b98\nRemoving intermediate container 7415c5882b98\n ---> 710984d15333\nSuccessfully built 710984d15333\nSuccessfully tagged ragios:latest\n","stderr":"","imageSize":983279462}}