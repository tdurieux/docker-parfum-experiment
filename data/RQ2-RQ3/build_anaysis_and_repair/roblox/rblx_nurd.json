{"repository":"https://github.com/roblox/rblx_nurd","dockerfilePath":"Dockerfile","startTime":1672763335905,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/roblox/rblx_nurd'...\n","error":null,"commit":"e168e2a17edd6487bd24b74016fcef8a356d74b4"},"originalBuild":{"startTimestamp":1672763336848,"endTimestamp":1672763355332,"error":null,"stdout":"Sending build context to Docker daemon  340.5kB\r\r\nStep 1/12 : FROM golang:latest\n ---> 6650307efe4a\nStep 2/12 : LABEL maintainer=\"Austin Mac <amac@roblox.com>\"\n ---> Running in 2e397b75e312\nRemoving intermediate container 2e397b75e312\n ---> 4b9f781eab15\nStep 3/12 : ENV CONNECTION_STRING=\"Server=mssql;Database=master;User Id=sa;Password=yourStrong(!)Password;\"\n ---> Running in 132b74f40cbe\nRemoving intermediate container 132b74f40cbe\n ---> 6bfbe92f6df2\nStep 4/12 : RUN mkdir -p /go/src/nurd\n ---> Running in d996b13691a5\nRemoving intermediate container d996b13691a5\n ---> 996fb15d1c62\nStep 5/12 : WORKDIR /go/src/nurd\n ---> Running in ef8754f8ee45\nRemoving intermediate container ef8754f8ee45\n ---> 1d6d194a17cc\nStep 6/12 : COPY . .\n ---> 4aa37a210361\nStep 7/12 : RUN apt-get update\n ---> Running in 9f848da00b88\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6746 kB/s)\nReading package lists...\nRemoving intermediate container 9f848da00b88\n ---> dcbba13fe1e3\nStep 8/12 : RUN apt-get install -y vim\n ---> Running in 2fef32599670\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libgpm2 vim-common vim-runtime xxd\nSuggested packages:\n  gpm ctags vim-doc vim-scripts\nThe following NEW packages will be installed:\n  libgpm2 vim vim-common vim-runtime xxd\n0 upgraded, 5 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 8174 kB of archives.\nAfter this operation, 36.9 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 xxd amd64 2:8.2.2434-3+deb11u1 [192 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 vim-common all 2:8.2.2434-3+deb11u1 [226 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libgpm2 amd64 1.20.7-8 [35.6 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 vim-runtime all 2:8.2.2434-3+deb11u1 [6226 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 vim amd64 2:8.2.2434-3+deb11u1 [1494 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 8174 kB in 0s (76.4 MB/s)\nSelecting previously unselected package xxd.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15718 files and directories currently installed.)\r\nPreparing to unpack .../xxd_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking xxd (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim-common.\r\nPreparing to unpack .../vim-common_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nUnpacking vim-common (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../libgpm2_1.20.7-8_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-8) ...\r\nSelecting previously unselected package vim-runtime.\r\nPreparing to unpack .../vim-runtime_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nAdding 'diversion of /usr/share/vim/vim82/doc/help.txt to /usr/share/vim/vim82/doc/help.txt.vim-tiny by vim-runtime'\r\nAdding 'diversion of /usr/share/vim/vim82/doc/tags to /usr/share/vim/vim82/doc/tags.vim-tiny by vim-runtime'\r\nUnpacking vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim.\r\nPreparing to unpack .../vim_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking vim (2:8.2.2434-3+deb11u1) ...\r\nSetting up libgpm2:amd64 (1.20.7-8) ...\r\nSetting up xxd (2:8.2.2434-3+deb11u1) ...\r\nSetting up vim-common (2:8.2.2434-3+deb11u1) ...\r\nSetting up vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSetting up vim (2:8.2.2434-3+deb11u1) ...\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 2fef32599670\n ---> 57243ac9bcc9\nStep 9/12 : RUN go mod download\n ---> Running in 89e36ebae0cb\nRemoving intermediate container 89e36ebae0cb\n ---> f2ec174249fb\nStep 10/12 : RUN make install\n ---> Running in f3289ee39908\nmkdir -p /etc/nurd\nif [ ! -f \"/etc/nurd/config.json\" ]; then \\\n\tinstall -m 644 etc/nurd/config.json /etc/nurd/config.json; \\\nfi\n/usr/local/go/bin/go build -o nurd cluster.go config.go db.go main.go\ninstall -m 755 nurd /usr/local/bin\nRemoving intermediate container f3289ee39908\n ---> d7cbf45a38c1\nStep 11/12 : EXPOSE 8080\n ---> Running in d6c19028e642\nRemoving intermediate container d6c19028e642\n ---> 4d1cc4a6e10e\nStep 12/12 : CMD [\"nurd\"]\n ---> Running in df31eb11fe6f\nRemoving intermediate container df31eb11fe6f\n ---> 948713a0ae3d\nSuccessfully built 948713a0ae3d\nSuccessfully tagged rblx_nurd:latest\n","stderr":"","imageSize":1096981658},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":13,"end":13,"columnStart":4,"columnEnd":26}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":13,"end":13,"columnStart":4,"columnEnd":26}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":13,"end":13,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM golang:latest\n\nLABEL maintainer=\"Austin Mac <amac@roblox.com>\"\n\nENV CONNECTION_STRING=\"Server=mssql;Database=master;User Id=sa;Password=yourStrong(!)Password;\"\n\nRUN mkdir -p /go/src/nurd\n\nWORKDIR /go/src/nurd\n\nCOPY . .\n\n\nRUN apt-get update && \\\napt-get install --no-install-recommends -y vim\nRUN go mod download\n\nRUN make install\n\nEXPOSE 8080\n\nCMD [\"nurd\"]"},"repairedBuild":{"startTimestamp":1672763355734,"endTimestamp":1672763372974,"error":null,"stdout":"Sending build context to Docker daemon  340.5kB\r\r\nStep 1/11 : FROM golang:latest\n ---> 6650307efe4a\nStep 2/11 : LABEL maintainer=\"Austin Mac <amac@roblox.com>\"\n ---> Running in f5ec7e7262b9\nRemoving intermediate container f5ec7e7262b9\n ---> 402ee5e867b7\nStep 3/11 : ENV CONNECTION_STRING=\"Server=mssql;Database=master;User Id=sa;Password=yourStrong(!)Password;\"\n ---> Running in 5e87a4e676bb\nRemoving intermediate container 5e87a4e676bb\n ---> 493eb761cbf6\nStep 4/11 : RUN mkdir -p /go/src/nurd\n ---> Running in c590dc419f18\nRemoving intermediate container c590dc419f18\n ---> 6acd62ab7e4b\nStep 5/11 : WORKDIR /go/src/nurd\n ---> Running in c304d2c232c1\nRemoving intermediate container c304d2c232c1\n ---> 15238176fed8\nStep 6/11 : COPY . .\n ---> 113d44b87863\nStep 7/11 : RUN apt-get update && apt-get install --no-install-recommends -y vim\n ---> Running in d40f4bab005f\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6974 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libgpm2 vim-common vim-runtime xxd\nSuggested packages:\n  gpm ctags vim-doc vim-scripts\nThe following NEW packages will be installed:\n  libgpm2 vim vim-common vim-runtime xxd\n0 upgraded, 5 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 8174 kB of archives.\nAfter this operation, 36.9 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 xxd amd64 2:8.2.2434-3+deb11u1 [192 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 vim-common all 2:8.2.2434-3+deb11u1 [226 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libgpm2 amd64 1.20.7-8 [35.6 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 vim-runtime all 2:8.2.2434-3+deb11u1 [6226 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 vim amd64 2:8.2.2434-3+deb11u1 [1494 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 8174 kB in 0s (54.8 MB/s)\nSelecting previously unselected package xxd.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15718 files and directories currently installed.)\r\nPreparing to unpack .../xxd_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking xxd (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim-common.\r\nPreparing to unpack .../vim-common_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nUnpacking vim-common (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../libgpm2_1.20.7-8_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-8) ...\r\nSelecting previously unselected package vim-runtime.\r\nPreparing to unpack .../vim-runtime_2%3a8.2.2434-3+deb11u1_all.deb ...\r\nAdding 'diversion of /usr/share/vim/vim82/doc/help.txt to /usr/share/vim/vim82/doc/help.txt.vim-tiny by vim-runtime'\r\nAdding 'diversion of /usr/share/vim/vim82/doc/tags to /usr/share/vim/vim82/doc/tags.vim-tiny by vim-runtime'\r\nUnpacking vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSelecting previously unselected package vim.\r\nPreparing to unpack .../vim_2%3a8.2.2434-3+deb11u1_amd64.deb ...\r\nUnpacking vim (2:8.2.2434-3+deb11u1) ...\r\nSetting up libgpm2:amd64 (1.20.7-8) ...\r\nSetting up xxd (2:8.2.2434-3+deb11u1) ...\r\nSetting up vim-common (2:8.2.2434-3+deb11u1) ...\r\nSetting up vim-runtime (2:8.2.2434-3+deb11u1) ...\r\nSetting up vim (2:8.2.2434-3+deb11u1) ...\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container d40f4bab005f\n ---> f1ce2b43c235\nStep 8/11 : RUN go mod download\n ---> Running in fa79c8eb6ee0\nRemoving intermediate container fa79c8eb6ee0\n ---> 24bd2c64ed62\nStep 9/11 : RUN make install\n ---> Running in 808160958db2\nmkdir -p /etc/nurd\nif [ ! -f \"/etc/nurd/config.json\" ]; then \\\n\tinstall -m 644 etc/nurd/config.json /etc/nurd/config.json; \\\nfi\n/usr/local/go/bin/go build -o nurd cluster.go config.go db.go main.go\ninstall -m 755 nurd /usr/local/bin\nRemoving intermediate container 808160958db2\n ---> 689dc606d8c6\nStep 10/11 : EXPOSE 8080\n ---> Running in 6f29d2020040\nRemoving intermediate container 6f29d2020040\n ---> 2e9016eefbd4\nStep 11/11 : CMD [\"nurd\"]\n ---> Running in f3457f37b1d3\nRemoving intermediate container f3457f37b1d3\n ---> 7638a8569b39\nSuccessfully built 7638a8569b39\nSuccessfully tagged rblx_nurd:latest\n","stderr":"","imageSize":1096986668},"endTime":1672763373322}