{"repository":"https://github.com/anthhub/react-mini-blog","dockerfilePath":"Dockerfile","startTime":1672787191497,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/anthhub/react-mini-blog'...\n","error":null,"commit":"7048e3cd5fb6e14241ef9809936db52c6dad0a2c"},"originalBuild":{"startTimestamp":1672787192456,"endTimestamp":1672787397580,"error":null,"stdout":"Sending build context to Docker daemon  2.045MB\r\r\nStep 1/10 : FROM node:12.18.3 AS builder\n12.18.3: Pulling from library/node\n4f250268ed6a: Pulling fs layer\n1b49aa113642: Pulling fs layer\nc159512f4cc2: Pulling fs layer\n8439168fd8dc: Pulling fs layer\n55abbc6cc158: Pulling fs layer\ne5c5821cd889: Pulling fs layer\nd2ea03d5fa99: Pulling fs layer\n1f9173e85dd7: Pulling fs layer\n4d9009fcd264: Pulling fs layer\n55abbc6cc158: Waiting\ne5c5821cd889: Waiting\nd2ea03d5fa99: Waiting\n1f9173e85dd7: Waiting\n4d9009fcd264: Waiting\n8439168fd8dc: Waiting\nc159512f4cc2: Verifying Checksum\nc159512f4cc2: Download complete\n1b49aa113642: Verifying Checksum\n1b49aa113642: Download complete\n4f250268ed6a: Verifying Checksum\n4f250268ed6a: Download complete\ne5c5821cd889: Verifying Checksum\ne5c5821cd889: Download complete\n8439168fd8dc: Verifying Checksum\n8439168fd8dc: Download complete\n4f250268ed6a: Pull complete\nd2ea03d5fa99: Verifying Checksum\nd2ea03d5fa99: Download complete\n1f9173e85dd7: Verifying Checksum\n1f9173e85dd7: Download complete\n1b49aa113642: Pull complete\n4d9009fcd264: Verifying Checksum\n4d9009fcd264: Download complete\nc159512f4cc2: Pull complete\n55abbc6cc158: Verifying Checksum\n55abbc6cc158: Download complete\n8439168fd8dc: Pull complete\n55abbc6cc158: Pull complete\ne5c5821cd889: Pull complete\nd2ea03d5fa99: Pull complete\n1f9173e85dd7: Pull complete\n4d9009fcd264: Pull complete\nDigest: sha256:20ffb04c1d35e273dc7aa68fe31ef136630d95128689283a8eb914329158022b\nStatus: Downloaded newer image for node:12.18.3\n ---> bc72e39bf44c\nStep 2/10 : RUN npm install -g yarn --force\n ---> Running in 557aaaa68c0a\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91musing --force I sure hope you know what you are doing.\n\u001b[0m\n> yarn@1.22.19 preinstall /usr/local/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n/usr/local/bin/yarnpkg -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n/usr/local/bin/yarn -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\nadded 1 package in 0.599s\nRemoving intermediate container 557aaaa68c0a\n ---> eea6f7a69fe5\nStep 3/10 : WORKDIR /code\n ---> Running in cf68cf317f80\nRemoving intermediate container cf68cf317f80\n ---> 8505ee59b2ec\nStep 4/10 : ADD . /code\n ---> d977b2f58c2a\nStep 5/10 : RUN yarn\n ---> Running in 6c2c7e8aca51\nyarn install v1.22.19\n\u001b[91mwarning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.\n\u001b[0m[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > custom-tslint-rules-collection@1.2.0\" has unmet peer dependency \"tslint@^5.1.0\".\n\u001b[0m\u001b[91mwarning \" > tslint-config-airbnb@5.11.2\" has unmet peer dependency \"tslint@^5.11.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-consistent-codestyle@1.16.0\" has unmet peer dependency \"tslint@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-eslint-rules@5.4.0\" has unmet peer dependency \"tslint@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-microsoft-contrib@5.2.1\" has unmet peer dependency \"tslint@^5.1.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-consistent-codestyle > @fimbul/bifrost@0.21.0\" has unmet peer dependency \"tslint@^5.0.0\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 84.75s.\nRemoving intermediate container 6c2c7e8aca51\n ---> bb441c425218\nStep 6/10 : ENV NODE_ENV production\n ---> Running in 4ad3469b2123\nRemoving intermediate container 4ad3469b2123\n ---> 0e4baf87df19\nStep 7/10 : RUN yarn build:prod\n ---> Running in a63cf3a55f2a\nyarn run v1.22.19\n$ cross-env API_ENV=production node scripts/build.js\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  169.14 KB  build/static/js/0.718b52e8.chunk.js\n  96.53 KB   build/static/js/6.28aa3f5a.chunk.js\n  79.53 KB   build/static/js/7.269197fd.chunk.js\n  12.19 KB   build/static/js/8.7073ea07.chunk.js\n  10.77 KB   build/static/js/12.3ca15346.chunk.js\n  10.35 KB   build/static/js/9.4d848585.chunk.js\n  10.19 KB   build/static/js/1.87fa8d94.chunk.js\n  9.71 KB    build/static/js/10.b220dd91.chunk.js\n  8.08 KB    build/static/js/13.0246616b.chunk.js\n  7.26 KB    build/static/js/3.36b5e97e.chunk.js\n  7.07 KB    build/static/js/11.0a355216.chunk.js\n  6.73 KB    build/static/css/7.10b30dfe.chunk.css\n  5.05 KB    build/static/js/2.b2f17b76.chunk.js\n  4.83 KB    build/static/css/6.e61673de.chunk.css\n  2.97 KB    build/static/js/main.bedaf047.chunk.js\n  2.38 KB    build/static/js/14.697efb1c.chunk.js\n  1.65 KB    build/static/js/runtime-main.4b19ace4.js\n  1.51 KB    build/static/css/main.e3ee1af8.chunk.css\n  1.41 KB    build/static/css/3.aee6e45b.chunk.css\n  592 B      build/static/css/0.071e37c6.chunk.css\n\nThe project was built assuming it is hosted at the server root.\nYou can control this with the homepage field in your package.json.\nFor example, add this to build it for GitHub Pages:\n\n  \"homepage\" : \"http://myname.github.io/myapp\",\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://bit.ly/CRA-deploy\n\nDone in 24.15s.\nRemoving intermediate container a63cf3a55f2a\n ---> 15a7a81d2f5c\nStep 8/10 : FROM nginx:alpine\nalpine: Pulling from library/nginx\nc158987b0551: Already exists\n1e35f6679fab: Pulling fs layer\ncb9626c74200: Pulling fs layer\nb6334b6ace34: Pulling fs layer\nf1d1c9928c82: Pulling fs layer\n9b6f639ec6ea: Pulling fs layer\nee68d3549ec8: Pulling fs layer\nf1d1c9928c82: Waiting\n9b6f639ec6ea: Waiting\nee68d3549ec8: Waiting\ncb9626c74200: Verifying Checksum\nb6334b6ace34: Download complete\n1e35f6679fab: Verifying Checksum\n1e35f6679fab: Download complete\n1e35f6679fab: Pull complete\nf1d1c9928c82: Download complete\n9b6f639ec6ea: Verifying Checksum\n9b6f639ec6ea: Download complete\ncb9626c74200: Pull complete\nee68d3549ec8: Download complete\nb6334b6ace34: Pull complete\nf1d1c9928c82: Pull complete\n9b6f639ec6ea: Pull complete\nee68d3549ec8: Pull complete\nDigest: sha256:dd8a054d7ef030e94a6449783605d6c306c1f69c10c2fa06b66a030e0d1db793\nStatus: Downloaded newer image for nginx:alpine\n ---> 1e415454686a\nStep 9/10 : COPY --from=builder /code/build /usr/share/nginx/html\n ---> d2f821908727\nStep 10/10 : COPY nginx/default.conf /etc/nginx/conf.d/default.conf\n ---> 8281d9efd57f\nSuccessfully built 8281d9efd57f\nSuccessfully tagged react-mini-blog:latest\n","stderr":"","imageSize":46316219},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":1,"end":1,"columnStart":4,"columnEnd":31}}],"repairedDockerfile":"FROM node:12.18.3 AS builder\nRUN npm install -g yarn --force\n\nWORKDIR /code\nADD . /code\n\nRUN yarn\n\nENV NODE_ENV production\nRUN yarn build:prod\n\nFROM nginx:alpine\nCOPY --from=builder /code/build /usr/share/nginx/html\nCOPY nginx/default.conf /etc/nginx/conf.d/default.conf\n"},"repairedBuild":{"startTimestamp":1672787397881,"endTimestamp":1672787551056,"error":null,"stdout":"Sending build context to Docker daemon  2.045MB\r\r\nStep 1/10 : FROM node:12.18.3 AS builder\n ---> bc72e39bf44c\nStep 2/10 : RUN npm install -g yarn --force\n ---> Running in 06d775028926\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0m\n> yarn@1.22.19 preinstall /usr/local/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n/usr/local/bin/yarnpkg -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n/usr/local/bin/yarn -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\nadded 1 package in 0.683s\nRemoving intermediate container 06d775028926\n ---> e18998678982\nStep 3/10 : WORKDIR /code\n ---> Running in fe2aa957722b\nRemoving intermediate container fe2aa957722b\n ---> 693dc1572df8\nStep 4/10 : ADD . /code\n ---> b45d75256bbd\nStep 5/10 : RUN yarn\n ---> Running in 99991ac0e414\nyarn install v1.22.19\n\u001b[91mwarning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.\n\u001b[0m[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > custom-tslint-rules-collection@1.2.0\" has unmet peer dependency \"tslint@^5.1.0\".\n\u001b[0m\u001b[91mwarning \" > tslint-config-airbnb@5.11.2\" has unmet peer dependency \"tslint@^5.11.0\".\nwarning \"tslint-config-airbnb > tslint-consistent-codestyle@1.16.0\" has unmet peer dependency \"tslint@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-eslint-rules@5.4.0\" has unmet peer dependency \"tslint@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-microsoft-contrib@5.2.1\" has unmet peer dependency \"tslint@^5.1.0\".\n\u001b[0m\u001b[91mwarning \"tslint-config-airbnb > tslint-consistent-codestyle > @fimbul/bifrost@0.21.0\" has unmet peer dependency \"tslint@^5.0.0\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 70.02s.\nRemoving intermediate container 99991ac0e414\n ---> 09d171c56c8d\nStep 6/10 : ENV NODE_ENV production\n ---> Running in a6dd94dde556\nRemoving intermediate container a6dd94dde556\n ---> 8cbb0386ab96\nStep 7/10 : RUN yarn build:prod\n ---> Running in 641257e2cf2c\nyarn run v1.22.19\n$ cross-env API_ENV=production node scripts/build.js\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  169.14 KB  build/static/js/0.718b52e8.chunk.js\n  96.53 KB   build/static/js/6.28aa3f5a.chunk.js\n  79.53 KB   build/static/js/7.269197fd.chunk.js\n  12.19 KB   build/static/js/8.7073ea07.chunk.js\n  10.77 KB   build/static/js/12.3ca15346.chunk.js\n  10.35 KB   build/static/js/9.4d848585.chunk.js\n  10.19 KB   build/static/js/1.87fa8d94.chunk.js\n  9.71 KB    build/static/js/10.b220dd91.chunk.js\n  8.08 KB    build/static/js/13.0246616b.chunk.js\n  7.26 KB    build/static/js/3.36b5e97e.chunk.js\n  7.07 KB    build/static/js/11.0a355216.chunk.js\n  6.73 KB    build/static/css/7.10b30dfe.chunk.css\n  5.05 KB    build/static/js/2.b2f17b76.chunk.js\n  4.83 KB    build/static/css/6.e61673de.chunk.css\n  2.97 KB    build/static/js/main.bedaf047.chunk.js\n  2.38 KB    build/static/js/14.697efb1c.chunk.js\n  1.65 KB    build/static/js/runtime-main.4b19ace4.js\n  1.51 KB    build/static/css/main.e3ee1af8.chunk.css\n  1.41 KB    build/static/css/3.aee6e45b.chunk.css\n  592 B      build/static/css/0.071e37c6.chunk.css\n\nThe project was built assuming it is hosted at the server root.\nYou can control this with the homepage field in your package.json.\nFor example, add this to build it for GitHub Pages:\n\n  \"homepage\" : \"http://myname.github.io/myapp\",\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  yarn global add serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://bit.ly/CRA-deploy\n\nDone in 20.87s.\nRemoving intermediate container 641257e2cf2c\n ---> 5d7bb851c109\nStep 8/10 : FROM nginx:alpine\n ---> 1e415454686a\nStep 9/10 : COPY --from=builder /code/build /usr/share/nginx/html\n ---> 479b52eb3782\nStep 10/10 : COPY nginx/default.conf /etc/nginx/conf.d/default.conf\n ---> 870df68f6a95\nSuccessfully built 870df68f6a95\nSuccessfully tagged react-mini-blog:latest\n","stderr":"","imageSize":46316219},"endTime":1672787551294}