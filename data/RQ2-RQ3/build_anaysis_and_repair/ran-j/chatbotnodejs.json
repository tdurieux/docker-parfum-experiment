{"repository":"https://github.com/ran-j/chatbotnodejs","dockerfilePath":"Dockerfile","startTime":1672938409449,"endTime":1672938591819,"clone":{"startTime":1672938409450,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ran-j/chatbotnodejs'...\n","error":null,"endTime":1672938411078,"commit":"ea7a3d1d2bec7afa447234fc66fe87e341ed0c6d"},"originalBuild":{"startTime":1672938411129,"endTime":1672938588819,"error":null,"stdout":"Sending build context to Docker daemon  13.26MB\r\r\nStep 1/9 : FROM node:16\n16: Pulling from library/node\nc7c50787e2da: Pulling fs layer\naff359114acb: Pulling fs layer\n821dc261e045: Pulling fs layer\n3790459d63d5: Pulling fs layer\nc09b016fff62: Pulling fs layer\n5348855a40c0: Pulling fs layer\n8f331a0ab6eb: Pulling fs layer\n1b7fba8c2ddb: Pulling fs layer\n138e31cf9c76: Pulling fs layer\n3790459d63d5: Waiting\n138e31cf9c76: Waiting\nc09b016fff62: Waiting\n8f331a0ab6eb: Waiting\n5348855a40c0: Waiting\n821dc261e045: Verifying Checksum\n821dc261e045: Download complete\naff359114acb: Verifying Checksum\naff359114acb: Download complete\n3790459d63d5: Verifying Checksum\n3790459d63d5: Download complete\n5348855a40c0: Verifying Checksum\n5348855a40c0: Download complete\nc7c50787e2da: Download complete\n1b7fba8c2ddb: Verifying Checksum\n1b7fba8c2ddb: Download complete\n138e31cf9c76: Download complete\n8f331a0ab6eb: Verifying Checksum\n8f331a0ab6eb: Download complete\nc09b016fff62: Verifying Checksum\nc09b016fff62: Download complete\nc7c50787e2da: Pull complete\naff359114acb: Pull complete\n821dc261e045: Pull complete\n3790459d63d5: Pull complete\nc09b016fff62: Pull complete\n5348855a40c0: Pull complete\n8f331a0ab6eb: Pull complete\n1b7fba8c2ddb: Pull complete\n138e31cf9c76: Pull complete\nDigest: sha256:64e8bcdfdad6718050801a2639f7e6645fdaf85ec37a98cdb61f6a5331217618\nStatus: Downloaded newer image for node:16\n ---> c910109adbfd\nStep 2/9 : ENV NODE_ENV production\n ---> Running in 4a88f28d18c6\nRemoving intermediate container 4a88f28d18c6\n ---> 0cb9ba49a0f1\nStep 3/9 : WORKDIR /usr/src/app\n ---> Running in 006489b5c665\nRemoving intermediate container 006489b5c665\n ---> ef73e3a1f70f\nStep 4/9 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> 5a6a07c575a7\nStep 5/9 : RUN apt-get install make gcc g++ python &&   npm install --production\n ---> Running in 85758680511d\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:8.3.0-1).\ngcc is already the newest version (4:8.3.0-1).\nmake is already the newest version (4.2.1-1.2).\npython is already the newest version (2.7.16-1).\npython set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 267 packages, and audited 268 packages in 9s\n\n19 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 85758680511d\n ---> cfc5ecf1d6d7\nStep 6/9 : RUN npm install pm2 -g && mv node_modules ../\n ---> Running in bb8fbbc56d0d\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 184 packages, and audited 185 packages in 6s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container bb8fbbc56d0d\n ---> 73fbd0ac9059\nStep 7/9 : COPY . ./\n ---> d00d93740644\nStep 8/9 : EXPOSE 3007\n ---> Running in 8fdfecf08999\nRemoving intermediate container 8fdfecf08999\n ---> 194558c0b2a6\nStep 9/9 : CMD [\"pm2-runtime\",\"bin/www\"]\n ---> Running in 88d305fea91a\nRemoving intermediate container 88d305fea91a\n ---> 2c38ea4daa84\nSuccessfully built 2c38ea4daa84\nSuccessfully tagged chatbotnodejs:latest\n","stderr":"","imageSize":2450973835},"repair":{"startTime":1672938588890,"endTime":1672938589021,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":2,"columnEnd":26}},{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":22}},{"name":"aptGetInstallUseY","position":{"start":6,"end":6,"columnStart":4,"columnEnd":39}},{"name":"aptGetInstallUseNoRec","position":{"start":6,"end":6,"columnStart":4,"columnEnd":39}},{"name":"aptGetUpdatePrecedesInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":39}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":6,"end":6,"columnStart":4,"columnEnd":39}}],"repairedDockerfile":"FROM node:16\nENV NODE_ENV production\nWORKDIR /usr/src/app\n\nCOPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n\nRUN apt-get install -y --no-install-recommends make gcc g++ python && \\\n  npm install --production && npm cache clean --force; && rm -rf /var/lib/apt/lists/*;\n\nRUN npm install pm2 -g && mv node_modules ../ && npm cache clean --force;\nCOPY . ./\nEXPOSE 3007\nCMD [\"pm2-runtime\",\"bin/www\"]\n"},"repairedBuild":{"startTime":1672938589652,"endTime":1672938591734,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t chatbotnodejs:latest -f /tmp/dinghy-analysis/ran-j/chatbotnodejs/Dockerfile ."},"stdout":"Sending build context to Docker daemon  13.26MB\r\r\nStep 1/9 : FROM node:16\n ---> c910109adbfd\nStep 2/9 : ENV NODE_ENV production\n ---> Running in 1458ce7d08f5\nRemoving intermediate container 1458ce7d08f5\n ---> 1089d2faacd8\nStep 3/9 : WORKDIR /usr/src/app\n ---> Running in b103b214f9ef\nRemoving intermediate container b103b214f9ef\n ---> 8bda6447a0c9\nStep 4/9 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> 15554c03c7fb\nStep 5/9 : RUN apt-get install -y --no-install-recommends make gcc g++ python &&   npm install --production && npm cache clean --force; && rm -rf /var/lib/apt/lists/*;\n ---> Running in 49c2399c272f\n\u001b[91m/bin/sh: 1: Syntax error: \"&&\" unexpected\n\u001b[0mRemoving intermediate container 49c2399c272f\n","stderr":"The command '/bin/sh -c apt-get install -y --no-install-recommends make gcc g++ python &&   npm install --production && npm cache clean --force; && rm -rf /var/lib/apt/lists/*;' returned a non-zero code: 2\n"}}