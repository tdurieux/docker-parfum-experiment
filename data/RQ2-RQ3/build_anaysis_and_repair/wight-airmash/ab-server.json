{"repository":"https://github.com/wight-airmash/ab-server","dockerfilePath":"Dockerfile","startTime":1672683378180,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wight-airmash/ab-server'...\n","error":null,"commit":"b9748a2e5e7ad74046d2a40c8acf987f4856c7a7"},"originalBuild":{"startTimestamp":1672683379248,"endTimestamp":1672683872833,"error":null,"stdout":"Sending build context to Docker daemon  4.959MB\r\r\nStep 1/139 : FROM node:12-alpine AS updated-node-alpine\n12-alpine: Pulling from library/node\ndf9b9388f04a: Pulling fs layer\n3bf6d7380205: Pulling fs layer\n7939e601ee5e: Pulling fs layer\n31f0fb9de071: Pulling fs layer\n31f0fb9de071: Waiting\ndf9b9388f04a: Verifying Checksum\ndf9b9388f04a: Download complete\n7939e601ee5e: Verifying Checksum\n7939e601ee5e: Download complete\ndf9b9388f04a: Pull complete\n3bf6d7380205: Verifying Checksum\n3bf6d7380205: Download complete\n31f0fb9de071: Verifying Checksum\n31f0fb9de071: Download complete\n3bf6d7380205: Pull complete\n7939e601ee5e: Pull complete\n31f0fb9de071: Pull complete\nDigest: sha256:d4b15b3d48f42059a15bd659be60afe21762aae9d6cbea6f124440895c27db68\nStatus: Downloaded newer image for node:12-alpine\n ---> bb6d28039b8c\nStep 2/139 : RUN apk update && apk upgrade\n ---> Running in 795a836fabba\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\n(1/6) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(2/6) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(3/6) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(4/6) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/6) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(6/6) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 7 MiB in 16 packages\nRemoving intermediate container 795a836fabba\n ---> 76fe7a14282a\nStep 3/139 : FROM updated-node-alpine AS build-ready\n ---> 76fe7a14282a\nStep 4/139 : RUN apk add --no-cache git openssh\n ---> Running in 943d00dc9aff\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing ca-certificates (20220614-r0)\n(2/17) Installing brotli-libs (1.0.9-r5)\n(3/17) Installing nghttp2-libs (1.46.0-r0)\n(4/17) Installing libcurl (7.80.0-r5)\n(5/17) Installing expat (2.5.0-r0)\n(6/17) Installing pcre2 (10.40-r0)\n(7/17) Installing git (2.34.5-r0)\n(8/17) Installing openssh-keygen (8.8_p1-r1)\n(9/17) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(10/17) Installing ncurses-libs (6.3_p20211120-r1)\n(11/17) Installing libedit (20210910.3.1-r0)\n(12/17) Installing openssh-client-common (8.8_p1-r1)\n(13/17) Installing openssh-client-default (8.8_p1-r1)\n(14/17) Installing openssh-sftp-server (8.8_p1-r1)\n(15/17) Installing openssh-server-common (8.8_p1-r1)\n(16/17) Installing openssh-server (8.8_p1-r1)\n(17/17) Installing openssh (8.8_p1-r1)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 27 MiB in 33 packages\nRemoving intermediate container 943d00dc9aff\n ---> 5398cbff9529\nStep 5/139 : FROM build-ready AS app-js-depencencies\n ---> 5398cbff9529\nStep 6/139 : WORKDIR /build\n ---> Running in 36d0c4370987\nRemoving intermediate container 36d0c4370987\n ---> 62aa5d055ad5\nStep 7/139 : COPY package*.json ./\n ---> 8005d15dd930\nStep 8/139 : RUN npm config set unsafe-perm true\n ---> Running in faf4b9a7a757\nRemoving intermediate container faf4b9a7a757\n ---> cea47cfea9fe\nStep 9/139 : RUN npm i --silent --quiet\n ---> Running in 9df4e46e5d37\nadded 317 packages from 223 contributors and audited 318 packages in 407.35s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (7 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 9df4e46e5d37\n ---> eb5a8bee44cc\nStep 10/139 : FROM app-js-depencencies AS app-development-build\n ---> eb5a8bee44cc\nStep 11/139 : COPY tsconfig.json ./\n ---> aa9d66538c6a\nStep 12/139 : COPY ./src ./src\n ---> bec042ef683e\nStep 13/139 : COPY .env.example ./.env\n ---> 0970628784a7\nStep 14/139 : RUN npm run build:dev\n ---> Running in a1fe47bbde0b\n\n> @airbattle/server@6.6.0 build:dev /build\n> tsc\n\nRemoving intermediate container a1fe47bbde0b\n ---> d0902f03b7fd\nStep 15/139 : FROM app-js-depencencies AS app-production-build\n ---> eb5a8bee44cc\nStep 16/139 : COPY tsconfig.prod.json ./\n ---> 4503e14144b5\nStep 17/139 : COPY ./src ./src\n ---> 07cebae85aa6\nStep 18/139 : COPY .env.production ./.env\n ---> 0f5a068c8358\nStep 19/139 : RUN npm run build\n ---> Running in 93f0e6cd4f95\n\n> @airbattle/server@6.6.0 build /build\n> tsc --build tsconfig.prod.json\n\nRemoving intermediate container 93f0e6cd4f95\n ---> 1e855bc40cde\nStep 20/139 : FROM app-production-build AS production-js-dependencies\n ---> 1e855bc40cde\nStep 21/139 : RUN npm prune --production\n ---> Running in f842faf58dcc\nremoved 290 packages and audited 27 packages in 2.605s\n\n1 package is looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\nRemoving intermediate container f842faf58dcc\n ---> 9ec412200a24\nStep 22/139 : FROM updated-node-alpine as development-image\n ---> 76fe7a14282a\nStep 23/139 : RUN apk add --no-cache gcompat\n ---> Running in 8f7bd9f6f207\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing musl-obstack (1.2.3-r0)\n(2/3) Installing libucontext (1.1-r0)\n(3/3) Installing gcompat (1.0.0-r4)\nOK: 8 MiB in 19 packages\nRemoving intermediate container 8f7bd9f6f207\n ---> e0c656e346fb\nStep 24/139 : RUN rm -rf /var/cache/apk/*\n ---> Running in e71b9b4005d6\nRemoving intermediate container e71b9b4005d6\n ---> 76f95ec493d0\nStep 25/139 : WORKDIR /app\n ---> Running in 7de829025fbc\nRemoving intermediate container 7de829025fbc\n ---> da5bcfeab759\nStep 26/139 : RUN mkdir logs && chown -R node: logs\n ---> Running in 2358a016a9c1\nRemoving intermediate container 2358a016a9c1\n ---> 7448c8702883\nStep 27/139 : RUN mkdir cache && chown -R node: cache\n ---> Running in eac6484c82f3\nRemoving intermediate container eac6484c82f3\n ---> 2da047f9e6d9\nStep 28/139 : RUN mkdir certs && chown -R node: certs\n ---> Running in 42d29c2719b4\nRemoving intermediate container 42d29c2719b4\n ---> a1d9c84948b4\nStep 29/139 : COPY --from=app-development-build /build/dist ./dist\n ---> 14966c9af9fc\nStep 30/139 : COPY --from=app-js-depencencies /build/node_modules ./node_modules\n ---> a9897fa2288c\nStep 31/139 : COPY --chown=node:node ./admin ./admin\n ---> 76d3a580e5e1\nStep 32/139 : COPY --chown=node:node ./data ./data\n ---> 5b4267edaa94\nStep 33/139 : COPY package.json ./\n ---> 8aedbffb9786\nStep 34/139 : ARG NODE_ENV=development\n ---> Running in 3c0d00c88b70\nRemoving intermediate container 3c0d00c88b70\n ---> 6abed0679890\nStep 35/139 : ENV NODE_ENV=${NODE_ENV}\n ---> Running in a2ec032318b3\nRemoving intermediate container a2ec032318b3\n ---> 28ed12aa589d\nStep 36/139 : ARG LOG_LEVEL=debug\n ---> Running in 91406ea2f9f1\nRemoving intermediate container 91406ea2f9f1\n ---> 388b38d738bb\nStep 37/139 : ENV LOG_LEVEL=${LOG_LEVEL}\n ---> Running in 2038bbaa44dd\nRemoving intermediate container 2038bbaa44dd\n ---> 9bc3ecc66073\nStep 38/139 : ARG LOG_TO_CONSOLE=true\n ---> Running in 86f5adadd441\nRemoving intermediate container 86f5adadd441\n ---> 32ae841dce0d\nStep 39/139 : ENV LOG_TO_CONSOLE=${LOG_TO_CONSOLE}\n ---> Running in 4d89a4bb3d27\nRemoving intermediate container 4d89a4bb3d27\n ---> 97221ec162e7\nStep 40/139 : ARG LOG_PERFORMANCE_SAMPLES=true\n ---> Running in 7f0c3415068b\nRemoving intermediate container 7f0c3415068b\n ---> 626cdba2bda8\nStep 41/139 : ENV LOG_PERFORMANCE_SAMPLES=${LOG_PERFORMANCE_SAMPLES}\n ---> Running in c8c0ebcf3d2b\nRemoving intermediate container c8c0ebcf3d2b\n ---> 83623cbb4648\nStep 42/139 : ARG PORT=3501\n ---> Running in 814e9fd25f95\nRemoving intermediate container 814e9fd25f95\n ---> ec26637ca1a9\nStep 43/139 : ENV PORT=${PORT}\n ---> Running in 505599c3fac3\nRemoving intermediate container 505599c3fac3\n ---> edbb36c35c6a\nStep 44/139 : ARG ENDPOINTS_TLS=false\n ---> Running in 52beeed1bb80\nRemoving intermediate container 52beeed1bb80\n ---> c48f215c63ee\nStep 45/139 : ENV ENDPOINTS_TLS=${ENDPOINTS_TLS}\n ---> Running in 771ab168a2b6\nRemoving intermediate container 771ab168a2b6\n ---> 24883b82bdc7\nStep 46/139 : ARG SERVER_TYPE=FFA\n ---> Running in afaf7d71e76b\nRemoving intermediate container afaf7d71e76b\n ---> 26acf037c755\nStep 47/139 : ENV SERVER_TYPE=${SERVER_TYPE}\n ---> Running in 62bf526abea5\nRemoving intermediate container 62bf526abea5\n ---> 8a3922ff98c0\nStep 48/139 : ARG SERVER_ROOM=ab-ffa\n ---> Running in 50da539f239c\nRemoving intermediate container 50da539f239c\n ---> be72fd17ed17\nStep 49/139 : ENV SERVER_ROOM=${SERVER_ROOM}\n ---> Running in 2febba596887\nRemoving intermediate container 2febba596887\n ---> 5fff9bdd8fd4\nStep 50/139 : ARG SERVER_BOT_NAME=Server\n ---> Running in 3a2bcc72e95a\nRemoving intermediate container 3a2bcc72e95a\n ---> 9ae6fea4c76f\nStep 51/139 : ENV SERVER_BOT_NAME=${SERVER_BOT_NAME}\n ---> Running in 3273026d3eb5\nRemoving intermediate container 3273026d3eb5\n ---> d5542d3ef4ae\nStep 52/139 : ARG SERVER_BOT_FLAG=JOLLY\n ---> Running in 5db5111606da\nRemoving intermediate container 5db5111606da\n ---> 7b1eb9d8f750\nStep 53/139 : ENV SERVER_BOT_FLAG=${SERVER_BOT_FLAG}\n ---> Running in 044abdcd095a\nRemoving intermediate container 044abdcd095a\n ---> 84a77247c9c2\nStep 54/139 : ARG ALLOW_NON_ASCII_USERNAMES=false\n ---> Running in 0114eaf39811\nRemoving intermediate container 0114eaf39811\n ---> 06097d040067\nStep 55/139 : ENV ALLOW_NON_ASCII_USERNAMES=${ALLOW_NON_ASCII_USERNAMES}\n ---> Running in d23137c72e61\nRemoving intermediate container d23137c72e61\n ---> 45a41272d75c\nStep 56/139 : ARG MODERATION_PANEL=true\n ---> Running in 1c18ac8eaa27\nRemoving intermediate container 1c18ac8eaa27\n ---> 98c7f9143860\nStep 57/139 : ENV MODERATION_PANEL=${MODERATION_PANEL}\n ---> Running in 337772ab51a5\nRemoving intermediate container 337772ab51a5\n ---> 4752652eec17\nStep 58/139 : ARG MODERATION_PANEL_URL_ROUTE=admin\n ---> Running in 83f49a26ad4f\nRemoving intermediate container 83f49a26ad4f\n ---> d723f0aef565\nStep 59/139 : ENV MODERATION_PANEL_URL_ROUTE=${MODERATION_PANEL_URL_ROUTE}\n ---> Running in fb58b12f5810\nRemoving intermediate container fb58b12f5810\n ---> 905643fa89b6\nStep 60/139 : ARG SU_PASSWORD=\n ---> Running in 06f62fccc788\nRemoving intermediate container 06f62fccc788\n ---> 31ffd584ec5e\nStep 61/139 : ENV SU_PASSWORD=${SU_PASSWORD}\n ---> Running in 4fac1fa7a70e\nRemoving intermediate container 4fac1fa7a70e\n ---> efaa859c39ca\nStep 62/139 : ARG MAX_PLAYERS_PER_IP=3\n ---> Running in 8091654c1584\nRemoving intermediate container 8091654c1584\n ---> 6a8d1bfd66b6\nStep 63/139 : ENV MAX_PLAYERS_PER_IP=${MAX_PLAYERS_PER_IP}\n ---> Running in f2ce4794dd0e\nRemoving intermediate container f2ce4794dd0e\n ---> 30ce7aa98446\nStep 64/139 : ARG BOTS_IP=127.0.0.1\n ---> Running in c9578e0319e7\nRemoving intermediate container c9578e0319e7\n ---> 31fe94ec21ec\nStep 65/139 : ENV BOTS_IP=${BOTS_IP}\n ---> Running in c16596243cab\nRemoving intermediate container c16596243cab\n ---> f769cff26cb9\nStep 66/139 : ARG USER_ACCOUNTS=true\n ---> Running in 3b18519a2a7c\nRemoving intermediate container 3b18519a2a7c\n ---> a5d9bfa9d297\nStep 67/139 : ENV USER_ACCOUNTS=${USER_ACCOUNTS}\n ---> Running in 0ccd4577b7cf\nRemoving intermediate container 0ccd4577b7cf\n ---> 3fb76adae26a\nStep 68/139 : ARG STATS_SYNC=false\n ---> Running in 6aea760d41ee\nRemoving intermediate container 6aea760d41ee\n ---> 9dc2faa2c3b9\nStep 69/139 : ENV STATS_SYNC=${STATS_SYNC}\n ---> Running in 7b656b1687ad\nRemoving intermediate container 7b656b1687ad\n ---> 4bafa46a5d83\nStep 70/139 : ARG AUTH_LOGIN_SERVER_KEY_URL=\n ---> Running in ecf7c6f4f03b\nRemoving intermediate container ecf7c6f4f03b\n ---> 39041e953ec5\nStep 71/139 : ENV AUTH_LOGIN_SERVER_KEY_URL=${AUTH_LOGIN_SERVER_KEY_URL}\n ---> Running in 877e45b2b09d\nRemoving intermediate container 877e45b2b09d\n ---> 92eae8a334b3\nStep 72/139 : ARG PACKETS_FLOODING_AUTOBAN=true\n ---> Running in f88d0f4678e8\nRemoving intermediate container f88d0f4678e8\n ---> 0da278c18a82\nStep 73/139 : ENV PACKETS_FLOODING_AUTOBAN=${PACKETS_FLOODING_AUTOBAN}\n ---> Running in 7e194e8da29d\nRemoving intermediate container 7e194e8da29d\n ---> 38904009b5bc\nStep 74/139 : ARG AFK_DISCONNECT_TIMEOUT=\n ---> Running in f7db214720e1\nRemoving intermediate container f7db214720e1\n ---> 3d08e80b89c1\nStep 75/139 : ENV AFK_DISCONNECT_TIMEOUT=${AFK_DISCONNECT_TIMEOUT}\n ---> Running in fc3520e79c06\nRemoving intermediate container fc3520e79c06\n ---> c6335fc7e3cb\nStep 76/139 : ARG WEBSOCKETS_COMPRESSION=true\n ---> Running in e1f02326f3dd\nRemoving intermediate container e1f02326f3dd\n ---> 1d6cd575de40\nStep 77/139 : ENV WEBSOCKETS_COMPRESSION=${WEBSOCKETS_COMPRESSION}\n ---> Running in 9ed31445f626\nRemoving intermediate container 9ed31445f626\n ---> 8ac04dc80b4d\nStep 78/139 : ENV EXPERIMENTAL_FASTCALL=1\n ---> Running in 69653304ef9f\nRemoving intermediate container 69653304ef9f\n ---> 34f4da209ec7\nStep 79/139 : EXPOSE ${PORT}\n ---> Running in 446f7c361254\nRemoving intermediate container 446f7c361254\n ---> ceb7674846f1\nStep 80/139 : USER node\n ---> Running in c9caf8b9969e\nRemoving intermediate container c9caf8b9969e\n ---> e45977630e07\nStep 81/139 : CMD [ \"node\", \"./dist/app.js\" ]\n ---> Running in b81265e8e3b8\nRemoving intermediate container b81265e8e3b8\n ---> baa04725fe44\nStep 82/139 : FROM updated-node-alpine as production-image\n ---> 76fe7a14282a\nStep 83/139 : RUN apk add --no-cache gcompat\n ---> Running in 0ccaafddf0a9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing musl-obstack (1.2.3-r0)\n(2/3) Installing libucontext (1.1-r0)\n(3/3) Installing gcompat (1.0.0-r4)\nOK: 8 MiB in 19 packages\nRemoving intermediate container 0ccaafddf0a9\n ---> 29f65cba8df3\nStep 84/139 : RUN rm -rf /var/cache/apk/*\n ---> Running in 261301468b9d\nRemoving intermediate container 261301468b9d\n ---> 4bb84c1e5c64\nStep 85/139 : WORKDIR /app\n ---> Running in 031f01e6c84d\nRemoving intermediate container 031f01e6c84d\n ---> b9297a3d9bac\nStep 86/139 : RUN mkdir logs && chown -R node: logs\n ---> Running in 4f16447e2d5b\nRemoving intermediate container 4f16447e2d5b\n ---> 5486007560d7\nStep 87/139 : RUN mkdir cache && chown -R node: cache\n ---> Running in 5f013f869737\nRemoving intermediate container 5f013f869737\n ---> e3399f6fbc96\nStep 88/139 : RUN mkdir certs && chown -R node: certs\n ---> Running in 2ba4a58eda19\nRemoving intermediate container 2ba4a58eda19\n ---> 8359aebb04f7\nStep 89/139 : COPY --from=app-production-build /build/dist ./dist\n ---> 8aa2f8cac57c\nStep 90/139 : COPY --from=production-js-dependencies /build/node_modules ./node_modules\n ---> 7eab9979b0cb\nStep 91/139 : COPY --chown=node:node ./admin ./admin\n ---> 8f8a8e8c59bc\nStep 92/139 : COPY --chown=node:node ./data ./data\n ---> e88a01ab43f0\nStep 93/139 : COPY package.json ./\n ---> bca52055cf71\nStep 94/139 : ARG NODE_ENV=production\n ---> Running in 215d5cc2c59c\nRemoving intermediate container 215d5cc2c59c\n ---> 606a3b1bcc0d\nStep 95/139 : ENV NODE_ENV=${NODE_ENV}\n ---> Running in fb68d60797d8\nRemoving intermediate container fb68d60797d8\n ---> 229b0168ddc7\nStep 96/139 : ARG LOG_LEVEL=info\n ---> Running in ec5926ce14b1\nRemoving intermediate container ec5926ce14b1\n ---> 394e41fe84b6\nStep 97/139 : ENV LOG_LEVEL=${LOG_LEVEL}\n ---> Running in 0bb3eeb06936\nRemoving intermediate container 0bb3eeb06936\n ---> 960876cf3fd6\nStep 98/139 : ARG LOG_TO_CONSOLE=false\n ---> Running in 8a2b6051ea98\nRemoving intermediate container 8a2b6051ea98\n ---> 48d596d16b83\nStep 99/139 : ENV LOG_TO_CONSOLE=${LOG_TO_CONSOLE}\n ---> Running in ca54e5ad335c\nRemoving intermediate container ca54e5ad335c\n ---> a22f4406d3f2\nStep 100/139 : ARG LOG_PERFORMANCE_SAMPLES=true\n ---> Running in b158bcca7d1e\nRemoving intermediate container b158bcca7d1e\n ---> 8beb31390fcf\nStep 101/139 : ENV LOG_PERFORMANCE_SAMPLES=${LOG_PERFORMANCE_SAMPLES}\n ---> Running in fb75e115d5ef\nRemoving intermediate container fb75e115d5ef\n ---> 06898cacc46e\nStep 102/139 : ARG PORT=3501\n ---> Running in 6715a516d0eb\nRemoving intermediate container 6715a516d0eb\n ---> 56f08f5bc8d9\nStep 103/139 : ENV PORT=${PORT}\n ---> Running in 4f506cf42cd2\nRemoving intermediate container 4f506cf42cd2\n ---> 06bdd7284251\nStep 104/139 : ARG ENDPOINTS_TLS=false\n ---> Running in 002661baa2d4\nRemoving intermediate container 002661baa2d4\n ---> 2f631afa38e8\nStep 105/139 : ENV ENDPOINTS_TLS=${ENDPOINTS_TLS}\n ---> Running in 044128bd4c54\nRemoving intermediate container 044128bd4c54\n ---> f7fcc5d2ca7c\nStep 106/139 : ARG SERVER_TYPE=FFA\n ---> Running in f8f371a4d1f3\nRemoving intermediate container f8f371a4d1f3\n ---> d98e1015fe75\nStep 107/139 : ENV SERVER_TYPE=${SERVER_TYPE}\n ---> Running in 156f29a1a083\nRemoving intermediate container 156f29a1a083\n ---> 7df51a7bc82c\nStep 108/139 : ARG SERVER_ROOM=ab-ffa\n ---> Running in 249dbeb4aba5\nRemoving intermediate container 249dbeb4aba5\n ---> 5c861ae96d0e\nStep 109/139 : ENV SERVER_ROOM=${SERVER_ROOM}\n ---> Running in 714cc59868d6\nRemoving intermediate container 714cc59868d6\n ---> 725fede32e58\nStep 110/139 : ARG SERVER_BOT_NAME=Server\n ---> Running in d45183991daf\nRemoving intermediate container d45183991daf\n ---> 7397a096b918\nStep 111/139 : ENV SERVER_BOT_NAME=${SERVER_BOT_NAME}\n ---> Running in 43c191f25a4e\nRemoving intermediate container 43c191f25a4e\n ---> 5845e80f6284\nStep 112/139 : ARG SERVER_BOT_FLAG=JOLLY\n ---> Running in 1338ce9ea567\nRemoving intermediate container 1338ce9ea567\n ---> 986f0fae3e5b\nStep 113/139 : ENV SERVER_BOT_FLAG=${SERVER_BOT_FLAG}\n ---> Running in a4051b4c8583\nRemoving intermediate container a4051b4c8583\n ---> 1f3620e01ea0\nStep 114/139 : ARG ALLOW_NON_ASCII_USERNAMES=false\n ---> Running in 8da73fc1e00c\nRemoving intermediate container 8da73fc1e00c\n ---> f535321c8e22\nStep 115/139 : ENV ALLOW_NON_ASCII_USERNAMES=${ALLOW_NON_ASCII_USERNAMES}\n ---> Running in 834238c8ac86\nRemoving intermediate container 834238c8ac86\n ---> 256a482628dc\nStep 116/139 : ARG MODERATION_PANEL=true\n ---> Running in 7d7bc119f48f\nRemoving intermediate container 7d7bc119f48f\n ---> ccfbf51844bd\nStep 117/139 : ENV MODERATION_PANEL=${MODERATION_PANEL}\n ---> Running in 025d7d64bb5d\nRemoving intermediate container 025d7d64bb5d\n ---> 76e96914bce8\nStep 118/139 : ARG MODERATION_PANEL_URL_ROUTE=admin\n ---> Running in eeb8ac4feb5b\nRemoving intermediate container eeb8ac4feb5b\n ---> 2a5ee6625695\nStep 119/139 : ENV MODERATION_PANEL_URL_ROUTE=${MODERATION_PANEL_URL_ROUTE}\n ---> Running in cbe2e12a5c66\nRemoving intermediate container cbe2e12a5c66\n ---> 6155b640e806\nStep 120/139 : ARG SU_PASSWORD=\n ---> Running in f92934c40b54\nRemoving intermediate container f92934c40b54\n ---> 0c99a3d741a2\nStep 121/139 : ENV SU_PASSWORD=${SU_PASSWORD}\n ---> Running in 81e23a868857\nRemoving intermediate container 81e23a868857\n ---> 4940de8eca01\nStep 122/139 : ARG MAX_PLAYERS_PER_IP=3\n ---> Running in f3286c348294\nRemoving intermediate container f3286c348294\n ---> 37c91dc62dee\nStep 123/139 : ENV MAX_PLAYERS_PER_IP=${MAX_PLAYERS_PER_IP}\n ---> Running in 19bdfb8deff1\nRemoving intermediate container 19bdfb8deff1\n ---> cab5573d4c6b\nStep 124/139 : ARG BOTS_IP=127.0.0.1\n ---> Running in 9f527043e5bc\nRemoving intermediate container 9f527043e5bc\n ---> 86447fe816e4\nStep 125/139 : ENV BOTS_IP=${BOTS_IP}\n ---> Running in 3e4ecec4d7aa\nRemoving intermediate container 3e4ecec4d7aa\n ---> 70ef145dbcc0\nStep 126/139 : ARG USER_ACCOUNTS=true\n ---> Running in e015b0f505ee\nRemoving intermediate container e015b0f505ee\n ---> 09b05e22964b\nStep 127/139 : ENV USER_ACCOUNTS=${USER_ACCOUNTS}\n ---> Running in f7dd2d13107a\nRemoving intermediate container f7dd2d13107a\n ---> 91f497905829\nStep 128/139 : ARG AUTH_LOGIN_SERVER_KEY_URL=\n ---> Running in 837258348c49\nRemoving intermediate container 837258348c49\n ---> 1e5e5f204f9a\nStep 129/139 : ENV AUTH_LOGIN_SERVER_KEY_URL=${AUTH_LOGIN_SERVER_KEY_URL}\n ---> Running in 75cf2e65b8f4\nRemoving intermediate container 75cf2e65b8f4\n ---> 04dae07b2b9c\nStep 130/139 : ARG PACKETS_FLOODING_AUTOBAN=true\n ---> Running in 7a980b4580a1\nRemoving intermediate container 7a980b4580a1\n ---> ef4797073606\nStep 131/139 : ENV PACKETS_FLOODING_AUTOBAN=${PACKETS_FLOODING_AUTOBAN}\n ---> Running in c35e535aea1e\nRemoving intermediate container c35e535aea1e\n ---> e692f5941843\nStep 132/139 : ARG AFK_DISCONNECT_TIMEOUT=\n ---> Running in 30af653f453f\nRemoving intermediate container 30af653f453f\n ---> 76325d9f2779\nStep 133/139 : ENV AFK_DISCONNECT_TIMEOUT=${AFK_DISCONNECT_TIMEOUT}\n ---> Running in deb5f83267ad\nRemoving intermediate container deb5f83267ad\n ---> 93936b072b40\nStep 134/139 : ARG WEBSOCKETS_COMPRESSION=true\n ---> Running in 3f8c162a9a61\nRemoving intermediate container 3f8c162a9a61\n ---> 331ff23adf93\nStep 135/139 : ENV WEBSOCKETS_COMPRESSION=${WEBSOCKETS_COMPRESSION}\n ---> Running in 96f6a6aaa537\nRemoving intermediate container 96f6a6aaa537\n ---> 7a54404d6d35\nStep 136/139 : ENV EXPERIMENTAL_FASTCALL=1\n ---> Running in 9568fac7840c\nRemoving intermediate container 9568fac7840c\n ---> 08fe3c38799a\nStep 137/139 : EXPOSE ${PORT}\n ---> Running in 25a58a1ea139\nRemoving intermediate container 25a58a1ea139\n ---> 7f7f95eaf0f4\nStep 138/139 : USER node\n ---> Running in 1cdf42b32c1e\nRemoving intermediate container 1cdf42b32c1e\n ---> a7524bea147d\nStep 139/139 : CMD [ \"node\", \"./dist/app.js\" ]\n ---> Running in 8953bf3ef3d9\nRemoving intermediate container 8953bf3ef3d9\n ---> dd7e1f4043f7\nSuccessfully built dd7e1f4043f7\nSuccessfully tagged ab-server:latest\n","stderr":"","imageSize":130422937},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":22,"end":22,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM node:12-alpine AS updated-node-alpine\n\nRUN apk update && apk upgrade\n\n#\n# The preparation stage for use during the installation\n# of app dependencies.\n#\nFROM updated-node-alpine AS build-ready\n\nRUN apk add --no-cache git openssh\n\n#\n# Install depencencies from package.json\n#\nFROM build-ready AS app-js-depencencies\n\nWORKDIR /build\n\nCOPY package*.json ./\n\nRUN npm config set unsafe-perm true\nRUN npm i --silent --quiet\n\n#\n# Transpiling (development).\n#\nFROM app-js-depencencies AS app-development-build\n\nCOPY tsconfig.json ./\nCOPY ./src ./src\nCOPY .env.example ./.env\n\nRUN npm run build:dev\n\n#\n# Transpiling (production).\n#\nFROM app-js-depencencies AS app-production-build\n\nCOPY tsconfig.prod.json ./\nCOPY ./src ./src\nCOPY .env.production ./.env\n\nRUN npm run build\n\n#\n# Removing non-production dependencies from node_modules.\n#\nFROM app-production-build AS production-js-dependencies\n\nRUN npm prune --production\n\n#\n# Building game server image (development).\n#\nFROM updated-node-alpine as development-image\n\n# Install uWebSockets deps.\nRUN apk add --no-cache gcompat\nRUN rm -rf /var/cache/apk/*\n\nWORKDIR /app\n\nRUN mkdir logs && chown -R node: logs\nRUN mkdir cache && chown -R node: cache\nRUN mkdir certs && chown -R node: certs\n\nCOPY --from=app-development-build /build/dist ./dist\nCOPY --from=app-js-depencencies /build/node_modules ./node_modules\nCOPY --chown=node:node ./admin ./admin\nCOPY --chown=node:node ./data ./data\nCOPY package.json ./\n\nARG NODE_ENV=development\nENV NODE_ENV=${NODE_ENV}\n\nARG LOG_LEVEL=debug\nENV LOG_LEVEL=${LOG_LEVEL}\n\nARG LOG_TO_CONSOLE=true\nENV LOG_TO_CONSOLE=${LOG_TO_CONSOLE}\n\nARG LOG_PERFORMANCE_SAMPLES=true\nENV LOG_PERFORMANCE_SAMPLES=${LOG_PERFORMANCE_SAMPLES}\n\nARG PORT=3501\nENV PORT=${PORT}\n\nARG ENDPOINTS_TLS=false\nENV ENDPOINTS_TLS=${ENDPOINTS_TLS}\n\nARG SERVER_TYPE=FFA\nENV SERVER_TYPE=${SERVER_TYPE}\n\nARG SERVER_ROOM=ab-ffa\nENV SERVER_ROOM=${SERVER_ROOM}\n\nARG SERVER_BOT_NAME=Server\nENV SERVER_BOT_NAME=${SERVER_BOT_NAME}\n\nARG SERVER_BOT_FLAG=JOLLY\nENV SERVER_BOT_FLAG=${SERVER_BOT_FLAG}\n\nARG ALLOW_NON_ASCII_USERNAMES=false\nENV ALLOW_NON_ASCII_USERNAMES=${ALLOW_NON_ASCII_USERNAMES}\n\nARG MODERATION_PANEL=true\nENV MODERATION_PANEL=${MODERATION_PANEL}\n\nARG MODERATION_PANEL_URL_ROUTE=admin\nENV MODERATION_PANEL_URL_ROUTE=${MODERATION_PANEL_URL_ROUTE}\n\nARG SU_PASSWORD=\nENV SU_PASSWORD=${SU_PASSWORD}\n\nARG MAX_PLAYERS_PER_IP=3\nENV MAX_PLAYERS_PER_IP=${MAX_PLAYERS_PER_IP}\n\nARG BOTS_IP=127.0.0.1\nENV BOTS_IP=${BOTS_IP}\n\nARG USER_ACCOUNTS=true\nENV USER_ACCOUNTS=${USER_ACCOUNTS}\n\nARG STATS_SYNC=false\nENV STATS_SYNC=${STATS_SYNC}\n\nARG AUTH_LOGIN_SERVER_KEY_URL=\nENV AUTH_LOGIN_SERVER_KEY_URL=${AUTH_LOGIN_SERVER_KEY_URL}\n\nARG PACKETS_FLOODING_AUTOBAN=true\nENV PACKETS_FLOODING_AUTOBAN=${PACKETS_FLOODING_AUTOBAN}\n\nARG AFK_DISCONNECT_TIMEOUT=\nENV AFK_DISCONNECT_TIMEOUT=${AFK_DISCONNECT_TIMEOUT}\n\nARG WEBSOCKETS_COMPRESSION=true\nENV WEBSOCKETS_COMPRESSION=${WEBSOCKETS_COMPRESSION}\n\nENV EXPERIMENTAL_FASTCALL=1\n\nEXPOSE ${PORT}\n\nUSER node\n\nCMD [ \"node\", \"./dist/app.js\" ]\n\n#\n# Building game server image (production).\n#\nFROM updated-node-alpine as production-image\n\n# Install uWebSockets deps.\nRUN apk add --no-cache gcompat\nRUN rm -rf /var/cache/apk/*\n\nWORKDIR /app\n\nRUN mkdir logs && chown -R node: logs\nRUN mkdir cache && chown -R node: cache\nRUN mkdir certs && chown -R node: certs\n\nCOPY --from=app-production-build /build/dist ./dist\nCOPY --from=production-js-dependencies /build/node_modules ./node_modules\nCOPY --chown=node:node ./admin ./admin\nCOPY --chown=node:node ./data ./data\nCOPY package.json ./\n\nARG NODE_ENV=production\nENV NODE_ENV=${NODE_ENV}\n\nARG LOG_LEVEL=info\nENV LOG_LEVEL=${LOG_LEVEL}\n\nARG LOG_TO_CONSOLE=false\nENV LOG_TO_CONSOLE=${LOG_TO_CONSOLE}\n\nARG LOG_PERFORMANCE_SAMPLES=true\nENV LOG_PERFORMANCE_SAMPLES=${LOG_PERFORMANCE_SAMPLES}\n\nARG PORT=3501\nENV PORT=${PORT}\n\nARG ENDPOINTS_TLS=false\nENV ENDPOINTS_TLS=${ENDPOINTS_TLS}\n\nARG SERVER_TYPE=FFA\nENV SERVER_TYPE=${SERVER_TYPE}\n\nARG SERVER_ROOM=ab-ffa\nENV SERVER_ROOM=${SERVER_ROOM}\n\nARG SERVER_BOT_NAME=Server\nENV SERVER_BOT_NAME=${SERVER_BOT_NAME}\n\nARG SERVER_BOT_FLAG=JOLLY\nENV SERVER_BOT_FLAG=${SERVER_BOT_FLAG}\n\nARG ALLOW_NON_ASCII_USERNAMES=false\nENV ALLOW_NON_ASCII_USERNAMES=${ALLOW_NON_ASCII_USERNAMES}\n\nARG MODERATION_PANEL=true\nENV MODERATION_PANEL=${MODERATION_PANEL}\n\nARG MODERATION_PANEL_URL_ROUTE=admin\nENV MODERATION_PANEL_URL_ROUTE=${MODERATION_PANEL_URL_ROUTE}\n\nARG SU_PASSWORD=\nENV SU_PASSWORD=${SU_PASSWORD}\n\nARG MAX_PLAYERS_PER_IP=3\nENV MAX_PLAYERS_PER_IP=${MAX_PLAYERS_PER_IP}\n\nARG BOTS_IP=127.0.0.1\nENV BOTS_IP=${BOTS_IP}\n\nARG USER_ACCOUNTS=true\nENV USER_ACCOUNTS=${USER_ACCOUNTS}\n\nARG AUTH_LOGIN_SERVER_KEY_URL=\nENV AUTH_LOGIN_SERVER_KEY_URL=${AUTH_LOGIN_SERVER_KEY_URL}\n\nARG PACKETS_FLOODING_AUTOBAN=true\nENV PACKETS_FLOODING_AUTOBAN=${PACKETS_FLOODING_AUTOBAN}\n\nARG AFK_DISCONNECT_TIMEOUT=\nENV AFK_DISCONNECT_TIMEOUT=${AFK_DISCONNECT_TIMEOUT}\n\nARG WEBSOCKETS_COMPRESSION=true\nENV WEBSOCKETS_COMPRESSION=${WEBSOCKETS_COMPRESSION}\n\nENV EXPERIMENTAL_FASTCALL=1\n\nEXPOSE ${PORT}\n\nUSER node\n\nCMD [ \"node\", \"./dist/app.js\" ]\n"},"repairedBuild":{"startTimestamp":1672683873398,"endTimestamp":1672684362337,"error":null,"stdout":"Sending build context to Docker daemon  4.959MB\r\r\nStep 1/139 : FROM node:12-alpine AS updated-node-alpine\n ---> bb6d28039b8c\nStep 2/139 : RUN apk update && apk upgrade\n ---> Running in b25628fb4417\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\n(1/6) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(2/6) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(3/6) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(4/6) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/6) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(6/6) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 7 MiB in 16 packages\nRemoving intermediate container b25628fb4417\n ---> 6a9a252c118b\nStep 3/139 : FROM updated-node-alpine AS build-ready\n ---> 6a9a252c118b\nStep 4/139 : RUN apk add --no-cache git openssh\n ---> Running in c1ae0292d07d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing ca-certificates (20220614-r0)\n(2/17) Installing brotli-libs (1.0.9-r5)\n(3/17) Installing nghttp2-libs (1.46.0-r0)\n(4/17) Installing libcurl (7.80.0-r5)\n(5/17) Installing expat (2.5.0-r0)\n(6/17) Installing pcre2 (10.40-r0)\n(7/17) Installing git (2.34.5-r0)\n(8/17) Installing openssh-keygen (8.8_p1-r1)\n(9/17) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(10/17) Installing ncurses-libs (6.3_p20211120-r1)\n(11/17) Installing libedit (20210910.3.1-r0)\n(12/17) Installing openssh-client-common (8.8_p1-r1)\n(13/17) Installing openssh-client-default (8.8_p1-r1)\n(14/17) Installing openssh-sftp-server (8.8_p1-r1)\n(15/17) Installing openssh-server-common (8.8_p1-r1)\n(16/17) Installing openssh-server (8.8_p1-r1)\n(17/17) Installing openssh (8.8_p1-r1)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 27 MiB in 33 packages\nRemoving intermediate container c1ae0292d07d\n ---> 67617618889f\nStep 5/139 : FROM build-ready AS app-js-depencencies\n ---> 67617618889f\nStep 6/139 : WORKDIR /build\n ---> Running in a41c79e05eb0\nRemoving intermediate container a41c79e05eb0\n ---> f0cd737197dd\nStep 7/139 : COPY package*.json ./\n ---> a5aec7dd74f5\nStep 8/139 : RUN npm config set unsafe-perm true\n ---> Running in f707884394d2\nRemoving intermediate container f707884394d2\n ---> 270cfbdbd640\nStep 9/139 : RUN npm i --silent --quiet\n ---> Running in eb8e99f613ed\nadded 317 packages from 223 contributors and audited 318 packages in 407.251s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (7 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container eb8e99f613ed\n ---> 6a65da95d540\nStep 10/139 : FROM app-js-depencencies AS app-development-build\n ---> 6a65da95d540\nStep 11/139 : COPY tsconfig.json ./\n ---> 43c5acf4743c\nStep 12/139 : COPY ./src ./src\n ---> 1e26080533e3\nStep 13/139 : COPY .env.example ./.env\n ---> 6f5ae7d3a9f3\nStep 14/139 : RUN npm run build:dev\n ---> Running in c6755729ed20\n\n> @airbattle/server@6.6.0 build:dev /build\n> tsc\n\nRemoving intermediate container c6755729ed20\n ---> d8d5bda65184\nStep 15/139 : FROM app-js-depencencies AS app-production-build\n ---> 6a65da95d540\nStep 16/139 : COPY tsconfig.prod.json ./\n ---> af5cb3286a1e\nStep 17/139 : COPY ./src ./src\n ---> e2d662004234\nStep 18/139 : COPY .env.production ./.env\n ---> 9737cf5412a9\nStep 19/139 : RUN npm run build\n ---> Running in 16b588d2f211\n\n> @airbattle/server@6.6.0 build /build\n> tsc --build tsconfig.prod.json\n\nRemoving intermediate container 16b588d2f211\n ---> 4167db70ce6c\nStep 20/139 : FROM app-production-build AS production-js-dependencies\n ---> 4167db70ce6c\nStep 21/139 : RUN npm prune --production\n ---> Running in a2cdfa45c792\nremoved 290 packages and audited 27 packages in 2.696s\n\n1 package is looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\nRemoving intermediate container a2cdfa45c792\n ---> b4b000414b12\nStep 22/139 : FROM updated-node-alpine as development-image\n ---> 6a9a252c118b\nStep 23/139 : RUN apk add --no-cache gcompat\n ---> Running in 1f0caef8b975\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing musl-obstack (1.2.3-r0)\n(2/3) Installing libucontext (1.1-r0)\n(3/3) Installing gcompat (1.0.0-r4)\nOK: 8 MiB in 19 packages\nRemoving intermediate container 1f0caef8b975\n ---> ed1b1291ceb3\nStep 24/139 : RUN rm -rf /var/cache/apk/*\n ---> Running in 1bc09e16b612\nRemoving intermediate container 1bc09e16b612\n ---> 49bc531e7421\nStep 25/139 : WORKDIR /app\n ---> Running in ab942b12fa87\nRemoving intermediate container ab942b12fa87\n ---> 182ee721aacc\nStep 26/139 : RUN mkdir logs && chown -R node: logs\n ---> Running in 7fb207661841\nRemoving intermediate container 7fb207661841\n ---> c3b4efc8560b\nStep 27/139 : RUN mkdir cache && chown -R node: cache\n ---> Running in af21507ea7a3\nRemoving intermediate container af21507ea7a3\n ---> 00a1f9866f30\nStep 28/139 : RUN mkdir certs && chown -R node: certs\n ---> Running in 69f6cac3e1d9\nRemoving intermediate container 69f6cac3e1d9\n ---> 6a5299e8467f\nStep 29/139 : COPY --from=app-development-build /build/dist ./dist\n ---> 495e82b216c7\nStep 30/139 : COPY --from=app-js-depencencies /build/node_modules ./node_modules\n ---> 26c8f366e704\nStep 31/139 : COPY --chown=node:node ./admin ./admin\n ---> 6d0e0d9fcb76\nStep 32/139 : COPY --chown=node:node ./data ./data\n ---> 7c0f22f5f564\nStep 33/139 : COPY package.json ./\n ---> 6abac4cd0761\nStep 34/139 : ARG NODE_ENV=development\n ---> Running in 885830a5a966\nRemoving intermediate container 885830a5a966\n ---> 96a14c093f9c\nStep 35/139 : ENV NODE_ENV=${NODE_ENV}\n ---> Running in 222ee7a0674c\nRemoving intermediate container 222ee7a0674c\n ---> 96cf235b3220\nStep 36/139 : ARG LOG_LEVEL=debug\n ---> Running in 7d89a7d83344\nRemoving intermediate container 7d89a7d83344\n ---> 120ac20bb96b\nStep 37/139 : ENV LOG_LEVEL=${LOG_LEVEL}\n ---> Running in 3c9c6de0aafa\nRemoving intermediate container 3c9c6de0aafa\n ---> 86328535e02d\nStep 38/139 : ARG LOG_TO_CONSOLE=true\n ---> Running in a217e09cd193\nRemoving intermediate container a217e09cd193\n ---> 668a0f186022\nStep 39/139 : ENV LOG_TO_CONSOLE=${LOG_TO_CONSOLE}\n ---> Running in 811f2017f976\nRemoving intermediate container 811f2017f976\n ---> 60af695bdfe8\nStep 40/139 : ARG LOG_PERFORMANCE_SAMPLES=true\n ---> Running in 33644e29a500\nRemoving intermediate container 33644e29a500\n ---> a772d50c873d\nStep 41/139 : ENV LOG_PERFORMANCE_SAMPLES=${LOG_PERFORMANCE_SAMPLES}\n ---> Running in 72ebfb971f1d\nRemoving intermediate container 72ebfb971f1d\n ---> 7246d31768b4\nStep 42/139 : ARG PORT=3501\n ---> Running in 09cdb0bb737b\nRemoving intermediate container 09cdb0bb737b\n ---> 5b278007d0ab\nStep 43/139 : ENV PORT=${PORT}\n ---> Running in 7b291730e6a4\nRemoving intermediate container 7b291730e6a4\n ---> 021e404d2371\nStep 44/139 : ARG ENDPOINTS_TLS=false\n ---> Running in eb686ffbd4d2\nRemoving intermediate container eb686ffbd4d2\n ---> 9cfe721e177d\nStep 45/139 : ENV ENDPOINTS_TLS=${ENDPOINTS_TLS}\n ---> Running in 4bba9c68273c\nRemoving intermediate container 4bba9c68273c\n ---> d033d9837cb9\nStep 46/139 : ARG SERVER_TYPE=FFA\n ---> Running in 074897c4a7f5\nRemoving intermediate container 074897c4a7f5\n ---> ecf95e8b06a9\nStep 47/139 : ENV SERVER_TYPE=${SERVER_TYPE}\n ---> Running in 02b5f5dec800\nRemoving intermediate container 02b5f5dec800\n ---> 613af5957a3d\nStep 48/139 : ARG SERVER_ROOM=ab-ffa\n ---> Running in c23f9cc17593\nRemoving intermediate container c23f9cc17593\n ---> 6c42d75f7389\nStep 49/139 : ENV SERVER_ROOM=${SERVER_ROOM}\n ---> Running in d390fc0fcde2\nRemoving intermediate container d390fc0fcde2\n ---> b5f0c82249d4\nStep 50/139 : ARG SERVER_BOT_NAME=Server\n ---> Running in cbf3f438b08a\nRemoving intermediate container cbf3f438b08a\n ---> b2b6b204a8e0\nStep 51/139 : ENV SERVER_BOT_NAME=${SERVER_BOT_NAME}\n ---> Running in 5eff9f50e90f\nRemoving intermediate container 5eff9f50e90f\n ---> d7882d26110a\nStep 52/139 : ARG SERVER_BOT_FLAG=JOLLY\n ---> Running in b8e89a16e86b\nRemoving intermediate container b8e89a16e86b\n ---> 200238af24ea\nStep 53/139 : ENV SERVER_BOT_FLAG=${SERVER_BOT_FLAG}\n ---> Running in 37caab0ef9af\nRemoving intermediate container 37caab0ef9af\n ---> d86acac3da12\nStep 54/139 : ARG ALLOW_NON_ASCII_USERNAMES=false\n ---> Running in 8b381add4645\nRemoving intermediate container 8b381add4645\n ---> a656c1fbf451\nStep 55/139 : ENV ALLOW_NON_ASCII_USERNAMES=${ALLOW_NON_ASCII_USERNAMES}\n ---> Running in 2ef03dabbaa1\nRemoving intermediate container 2ef03dabbaa1\n ---> 0c0ae5a4e6d2\nStep 56/139 : ARG MODERATION_PANEL=true\n ---> Running in 201425c6c1db\nRemoving intermediate container 201425c6c1db\n ---> a1afe01fab26\nStep 57/139 : ENV MODERATION_PANEL=${MODERATION_PANEL}\n ---> Running in c65001e547b9\nRemoving intermediate container c65001e547b9\n ---> 468beb5e9b40\nStep 58/139 : ARG MODERATION_PANEL_URL_ROUTE=admin\n ---> Running in cbe430503683\nRemoving intermediate container cbe430503683\n ---> 1d79da5dcc52\nStep 59/139 : ENV MODERATION_PANEL_URL_ROUTE=${MODERATION_PANEL_URL_ROUTE}\n ---> Running in 2815d533ba0a\nRemoving intermediate container 2815d533ba0a\n ---> d74511207503\nStep 60/139 : ARG SU_PASSWORD=\n ---> Running in 963e90f350e9\nRemoving intermediate container 963e90f350e9\n ---> 9c9267974b15\nStep 61/139 : ENV SU_PASSWORD=${SU_PASSWORD}\n ---> Running in 7b6bed591712\nRemoving intermediate container 7b6bed591712\n ---> 19fdf27b3daa\nStep 62/139 : ARG MAX_PLAYERS_PER_IP=3\n ---> Running in d78f6b1cd8c3\nRemoving intermediate container d78f6b1cd8c3\n ---> 4133d852b653\nStep 63/139 : ENV MAX_PLAYERS_PER_IP=${MAX_PLAYERS_PER_IP}\n ---> Running in 8f298e520666\nRemoving intermediate container 8f298e520666\n ---> 5e8d59775ae6\nStep 64/139 : ARG BOTS_IP=127.0.0.1\n ---> Running in 9cf4a8cf6fde\nRemoving intermediate container 9cf4a8cf6fde\n ---> 378f4fbdcd5b\nStep 65/139 : ENV BOTS_IP=${BOTS_IP}\n ---> Running in 689f518aef8e\nRemoving intermediate container 689f518aef8e\n ---> 9aabf762e9be\nStep 66/139 : ARG USER_ACCOUNTS=true\n ---> Running in 45b14333af31\nRemoving intermediate container 45b14333af31\n ---> d1ec48eed36f\nStep 67/139 : ENV USER_ACCOUNTS=${USER_ACCOUNTS}\n ---> Running in c31a998a08a8\nRemoving intermediate container c31a998a08a8\n ---> 32210a0ddb8c\nStep 68/139 : ARG STATS_SYNC=false\n ---> Running in 7f07ab938be4\nRemoving intermediate container 7f07ab938be4\n ---> b2bcdbffd027\nStep 69/139 : ENV STATS_SYNC=${STATS_SYNC}\n ---> Running in d95dd19708fb\nRemoving intermediate container d95dd19708fb\n ---> 907fe1e289db\nStep 70/139 : ARG AUTH_LOGIN_SERVER_KEY_URL=\n ---> Running in 83b8a51b2ad5\nRemoving intermediate container 83b8a51b2ad5\n ---> e74022618d16\nStep 71/139 : ENV AUTH_LOGIN_SERVER_KEY_URL=${AUTH_LOGIN_SERVER_KEY_URL}\n ---> Running in 37207d344581\nRemoving intermediate container 37207d344581\n ---> 73a3bb75b67b\nStep 72/139 : ARG PACKETS_FLOODING_AUTOBAN=true\n ---> Running in c2f895068ce2\nRemoving intermediate container c2f895068ce2\n ---> e2a182daa689\nStep 73/139 : ENV PACKETS_FLOODING_AUTOBAN=${PACKETS_FLOODING_AUTOBAN}\n ---> Running in 09d5468fbda9\nRemoving intermediate container 09d5468fbda9\n ---> 4e697011211e\nStep 74/139 : ARG AFK_DISCONNECT_TIMEOUT=\n ---> Running in ae8566fb87de\nRemoving intermediate container ae8566fb87de\n ---> 98de46551981\nStep 75/139 : ENV AFK_DISCONNECT_TIMEOUT=${AFK_DISCONNECT_TIMEOUT}\n ---> Running in 3d64d4277507\nRemoving intermediate container 3d64d4277507\n ---> 729546ecfd19\nStep 76/139 : ARG WEBSOCKETS_COMPRESSION=true\n ---> Running in a35301ba1d7e\nRemoving intermediate container a35301ba1d7e\n ---> 8162a86b4d89\nStep 77/139 : ENV WEBSOCKETS_COMPRESSION=${WEBSOCKETS_COMPRESSION}\n ---> Running in 3a8fe9644660\nRemoving intermediate container 3a8fe9644660\n ---> 5e2c999f43e4\nStep 78/139 : ENV EXPERIMENTAL_FASTCALL=1\n ---> Running in 873862fd4950\nRemoving intermediate container 873862fd4950\n ---> 7661a1ce6ace\nStep 79/139 : EXPOSE ${PORT}\n ---> Running in 925427d397de\nRemoving intermediate container 925427d397de\n ---> d4f07fecef0a\nStep 80/139 : USER node\n ---> Running in c1d23af40617\nRemoving intermediate container c1d23af40617\n ---> 941d93775815\nStep 81/139 : CMD [ \"node\", \"./dist/app.js\" ]\n ---> Running in 040cd5780f1d\nRemoving intermediate container 040cd5780f1d\n ---> 31549a706181\nStep 82/139 : FROM updated-node-alpine as production-image\n ---> 6a9a252c118b\nStep 83/139 : RUN apk add --no-cache gcompat\n ---> Running in 59137a163437\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing musl-obstack (1.2.3-r0)\n(2/3) Installing libucontext (1.1-r0)\n(3/3) Installing gcompat (1.0.0-r4)\nOK: 8 MiB in 19 packages\nRemoving intermediate container 59137a163437\n ---> 223d0104dfd7\nStep 84/139 : RUN rm -rf /var/cache/apk/*\n ---> Running in 8851cc917772\nRemoving intermediate container 8851cc917772\n ---> 6f0d4a9a2bd5\nStep 85/139 : WORKDIR /app\n ---> Running in a9d7d60994d3\nRemoving intermediate container a9d7d60994d3\n ---> d305bbbf669b\nStep 86/139 : RUN mkdir logs && chown -R node: logs\n ---> Running in 641933b24f5d\nRemoving intermediate container 641933b24f5d\n ---> a215fec54a16\nStep 87/139 : RUN mkdir cache && chown -R node: cache\n ---> Running in 60cf0cb4785c\nRemoving intermediate container 60cf0cb4785c\n ---> 51c428e122ee\nStep 88/139 : RUN mkdir certs && chown -R node: certs\n ---> Running in def3d7412e72\nRemoving intermediate container def3d7412e72\n ---> 7a9b161d1e67\nStep 89/139 : COPY --from=app-production-build /build/dist ./dist\n ---> 255423de300c\nStep 90/139 : COPY --from=production-js-dependencies /build/node_modules ./node_modules\n ---> 18fc65a37686\nStep 91/139 : COPY --chown=node:node ./admin ./admin\n ---> de4b05d39d28\nStep 92/139 : COPY --chown=node:node ./data ./data\n ---> 8484c2e47792\nStep 93/139 : COPY package.json ./\n ---> 7e0375918f58\nStep 94/139 : ARG NODE_ENV=production\n ---> Running in 20cd923ade3c\nRemoving intermediate container 20cd923ade3c\n ---> cccd5657c4ba\nStep 95/139 : ENV NODE_ENV=${NODE_ENV}\n ---> Running in 89ae34e5ca97\nRemoving intermediate container 89ae34e5ca97\n ---> 515213f0ce1c\nStep 96/139 : ARG LOG_LEVEL=info\n ---> Running in 07477a2a59ab\nRemoving intermediate container 07477a2a59ab\n ---> 38508fa17f3d\nStep 97/139 : ENV LOG_LEVEL=${LOG_LEVEL}\n ---> Running in 2d59e5c1809a\nRemoving intermediate container 2d59e5c1809a\n ---> ce6b08570d2e\nStep 98/139 : ARG LOG_TO_CONSOLE=false\n ---> Running in 59b230b0b2df\nRemoving intermediate container 59b230b0b2df\n ---> 1b1c4bdfd4d0\nStep 99/139 : ENV LOG_TO_CONSOLE=${LOG_TO_CONSOLE}\n ---> Running in 3a22fd8174af\nRemoving intermediate container 3a22fd8174af\n ---> 753affad1a18\nStep 100/139 : ARG LOG_PERFORMANCE_SAMPLES=true\n ---> Running in 63d3240a0df3\nRemoving intermediate container 63d3240a0df3\n ---> 3854fab9656d\nStep 101/139 : ENV LOG_PERFORMANCE_SAMPLES=${LOG_PERFORMANCE_SAMPLES}\n ---> Running in db0f43704122\nRemoving intermediate container db0f43704122\n ---> 78b5e9049c21\nStep 102/139 : ARG PORT=3501\n ---> Running in 4dfe61b61c57\nRemoving intermediate container 4dfe61b61c57\n ---> dacea8ff9aaa\nStep 103/139 : ENV PORT=${PORT}\n ---> Running in 120f0beb2e24\nRemoving intermediate container 120f0beb2e24\n ---> 48f2dd409f35\nStep 104/139 : ARG ENDPOINTS_TLS=false\n ---> Running in 4313f0ce8fca\nRemoving intermediate container 4313f0ce8fca\n ---> 7848d91d96cc\nStep 105/139 : ENV ENDPOINTS_TLS=${ENDPOINTS_TLS}\n ---> Running in dc5367357b9e\nRemoving intermediate container dc5367357b9e\n ---> 1fb2aa574464\nStep 106/139 : ARG SERVER_TYPE=FFA\n ---> Running in 62f5589e31bf\nRemoving intermediate container 62f5589e31bf\n ---> e57dd068d8c7\nStep 107/139 : ENV SERVER_TYPE=${SERVER_TYPE}\n ---> Running in 5591176c89dd\nRemoving intermediate container 5591176c89dd\n ---> 25b7f19fbc95\nStep 108/139 : ARG SERVER_ROOM=ab-ffa\n ---> Running in 10559838b87a\nRemoving intermediate container 10559838b87a\n ---> 42e0beada31f\nStep 109/139 : ENV SERVER_ROOM=${SERVER_ROOM}\n ---> Running in 5e070f659c98\nRemoving intermediate container 5e070f659c98\n ---> f32ed8aad493\nStep 110/139 : ARG SERVER_BOT_NAME=Server\n ---> Running in 3bffd74af090\nRemoving intermediate container 3bffd74af090\n ---> 71b5a7f1ed40\nStep 111/139 : ENV SERVER_BOT_NAME=${SERVER_BOT_NAME}\n ---> Running in c104767a6f5e\nRemoving intermediate container c104767a6f5e\n ---> a7554d1824ce\nStep 112/139 : ARG SERVER_BOT_FLAG=JOLLY\n ---> Running in 056e27b7989c\nRemoving intermediate container 056e27b7989c\n ---> 08d33c412b9b\nStep 113/139 : ENV SERVER_BOT_FLAG=${SERVER_BOT_FLAG}\n ---> Running in 4ebe02aede82\nRemoving intermediate container 4ebe02aede82\n ---> 7380c53f8e8b\nStep 114/139 : ARG ALLOW_NON_ASCII_USERNAMES=false\n ---> Running in d650346b0a02\nRemoving intermediate container d650346b0a02\n ---> 8eff07fa806f\nStep 115/139 : ENV ALLOW_NON_ASCII_USERNAMES=${ALLOW_NON_ASCII_USERNAMES}\n ---> Running in 167428b4950d\nRemoving intermediate container 167428b4950d\n ---> b60a3ea01fa4\nStep 116/139 : ARG MODERATION_PANEL=true\n ---> Running in d082cec50de9\nRemoving intermediate container d082cec50de9\n ---> 4735177b45e2\nStep 117/139 : ENV MODERATION_PANEL=${MODERATION_PANEL}\n ---> Running in 017175af1e01\nRemoving intermediate container 017175af1e01\n ---> d24bcc3d18de\nStep 118/139 : ARG MODERATION_PANEL_URL_ROUTE=admin\n ---> Running in ebede9a83021\nRemoving intermediate container ebede9a83021\n ---> 25e8f9bbac7a\nStep 119/139 : ENV MODERATION_PANEL_URL_ROUTE=${MODERATION_PANEL_URL_ROUTE}\n ---> Running in f67cd410d710\nRemoving intermediate container f67cd410d710\n ---> 5cdb8fc8abd9\nStep 120/139 : ARG SU_PASSWORD=\n ---> Running in dbebf9ee701e\nRemoving intermediate container dbebf9ee701e\n ---> 6a9490c25598\nStep 121/139 : ENV SU_PASSWORD=${SU_PASSWORD}\n ---> Running in 2d3e9aca13e1\nRemoving intermediate container 2d3e9aca13e1\n ---> 2cdd18d9fd52\nStep 122/139 : ARG MAX_PLAYERS_PER_IP=3\n ---> Running in 948c82cf8d65\nRemoving intermediate container 948c82cf8d65\n ---> 752b0d32c9fd\nStep 123/139 : ENV MAX_PLAYERS_PER_IP=${MAX_PLAYERS_PER_IP}\n ---> Running in a84dc33d6c43\nRemoving intermediate container a84dc33d6c43\n ---> bb3de76daec8\nStep 124/139 : ARG BOTS_IP=127.0.0.1\n ---> Running in 56b77473a033\nRemoving intermediate container 56b77473a033\n ---> b08b4e729557\nStep 125/139 : ENV BOTS_IP=${BOTS_IP}\n ---> Running in 8f465d23943c\nRemoving intermediate container 8f465d23943c\n ---> fd59dcdb9a78\nStep 126/139 : ARG USER_ACCOUNTS=true\n ---> Running in 544c13d20e12\nRemoving intermediate container 544c13d20e12\n ---> b6d4c35fa482\nStep 127/139 : ENV USER_ACCOUNTS=${USER_ACCOUNTS}\n ---> Running in 23de35cfa9e1\nRemoving intermediate container 23de35cfa9e1\n ---> 132da44defa8\nStep 128/139 : ARG AUTH_LOGIN_SERVER_KEY_URL=\n ---> Running in e5da2f137799\nRemoving intermediate container e5da2f137799\n ---> be2af0875ae3\nStep 129/139 : ENV AUTH_LOGIN_SERVER_KEY_URL=${AUTH_LOGIN_SERVER_KEY_URL}\n ---> Running in c55df601ddaf\nRemoving intermediate container c55df601ddaf\n ---> 410c93008ee1\nStep 130/139 : ARG PACKETS_FLOODING_AUTOBAN=true\n ---> Running in 050456f4b7c0\nRemoving intermediate container 050456f4b7c0\n ---> bd9f4a80adac\nStep 131/139 : ENV PACKETS_FLOODING_AUTOBAN=${PACKETS_FLOODING_AUTOBAN}\n ---> Running in eee522f2e010\nRemoving intermediate container eee522f2e010\n ---> 69753f2796ce\nStep 132/139 : ARG AFK_DISCONNECT_TIMEOUT=\n ---> Running in 39bfefe502c7\nRemoving intermediate container 39bfefe502c7\n ---> 60ffec4b9517\nStep 133/139 : ENV AFK_DISCONNECT_TIMEOUT=${AFK_DISCONNECT_TIMEOUT}\n ---> Running in efd16ce1b2e9\nRemoving intermediate container efd16ce1b2e9\n ---> 85d427fd3463\nStep 134/139 : ARG WEBSOCKETS_COMPRESSION=true\n ---> Running in 11802d6d5ced\nRemoving intermediate container 11802d6d5ced\n ---> 494d63fa7fe0\nStep 135/139 : ENV WEBSOCKETS_COMPRESSION=${WEBSOCKETS_COMPRESSION}\n ---> Running in 0256dcb80e07\nRemoving intermediate container 0256dcb80e07\n ---> e63eb103e475\nStep 136/139 : ENV EXPERIMENTAL_FASTCALL=1\n ---> Running in 27afa44d401a\nRemoving intermediate container 27afa44d401a\n ---> ddc4784cacae\nStep 137/139 : EXPOSE ${PORT}\n ---> Running in fded3fcc290a\nRemoving intermediate container fded3fcc290a\n ---> 349cd3ce59c1\nStep 138/139 : USER node\n ---> Running in f59ec72399b5\nRemoving intermediate container f59ec72399b5\n ---> 0bdc64f9b989\nStep 139/139 : CMD [ \"node\", \"./dist/app.js\" ]\n ---> Running in bc15190b9e8a\nRemoving intermediate container bc15190b9e8a\n ---> 3081e745ec41\nSuccessfully built 3081e745ec41\nSuccessfully tagged ab-server:latest\n","stderr":"","imageSize":130422937},"endTime":1672684362722}