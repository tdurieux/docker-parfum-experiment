{"repository":"https://github.com/lanyulei/fiy","dockerfilePath":"Dockerfile","startTime":1672838618580,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lanyulei/fiy'...\n","error":null,"commit":"86b9e27a6aebf2bd386e7d7636f4ff3433d28058"},"originalBuild":{"startTimestamp":1672838619547,"endTimestamp":1672839293668,"error":null,"stdout":"Sending build context to Docker daemon  1.642MB\r\r\nStep 1/17 : FROM golang:alpine as builder\nalpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\n3c6f08178a17: Download complete\n019cfb932eb0: Download complete\n019cfb932eb0: Pull complete\na3a161a37303: Verifying Checksum\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 2/17 : MAINTAINER xxx\n ---> Running in b6dba77bbb64\nRemoving intermediate container b6dba77bbb64\n ---> af2eb103d752\nStep 3/17 : ENV GOPROXY https://goproxy.cn/\n ---> Running in b9d3343f7541\nRemoving intermediate container b9d3343f7541\n ---> 68cfb6ab2893\nStep 4/17 : WORKDIR /go/release\n ---> Running in 978c754bca2c\nRemoving intermediate container 978c754bca2c\n ---> 82aff8385ccb\nStep 5/17 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories\n ---> Running in f5139a06505f\nRemoving intermediate container f5139a06505f\n ---> bd1f91c6b393\nStep 6/17 : RUN apk update && apk add tzdata\n ---> Running in 96fcd832a054\nfetch https://mirrors.aliyun.com/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://mirrors.aliyun.com/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-320-g38723e0931 [https://mirrors.aliyun.com/alpine/v3.17/main]\nv3.17.0-325-g47aac65969 [https://mirrors.aliyun.com/alpine/v3.17/community]\nOK: 17814 distinct packages available\n(1/1) Installing tzdata (2022f-r1)\nOK: 11 MiB in 17 packages\nRemoving intermediate container 96fcd832a054\n ---> 1f5f3cebf408\nStep 7/17 : COPY ./go.mod ./go.mod\n ---> 93f5284a45d4\nStep 8/17 : RUN go mod download\n ---> Running in 7f0868985ff6\nRemoving intermediate container 7f0868985ff6\n ---> 0b56e53f2178\nStep 9/17 : COPY . .\n ---> e9512dc65a58\nStep 10/17 : RUN pwd && ls\n ---> Running in a5419cd01290\n/go/release\nDockerfile\nLICENSE\nMakefile\nREADME.md\napp\nbuild.sh\ncmd\ncommon\nconfig\ndocs\ngo.mod\ngo.sum\nmain.go\npackage-lock.json\npkg\ntemplate\ntest\ntools\nRemoving intermediate container a5419cd01290\n ---> ba23ad8823d9\nStep 11/17 : RUN CGO_ENABLED=0 GOOS=linux go build -ldflags=\"-w -s\" -a -installsuffix cgo -o fiy .\n ---> Running in 01192cb1d61b\nRemoving intermediate container 01192cb1d61b\n ---> 66599b282a35\nStep 12/17 : FROM alpine\n ---> 49176f190c7e\nStep 13/17 : COPY --from=builder /go/release/fiy /\n ---> a04ae8861345\nStep 14/17 : COPY --from=builder /go/release/config/ /config/\n ---> 730e485f5277\nStep 15/17 : COPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n ---> 664474ee24ac\nStep 16/17 : EXPOSE 8000\n ---> Running in b132e58ec1ac\nRemoving intermediate container b132e58ec1ac\n ---> 86fa1f9fe8ed\nStep 17/17 : CMD [\"/fiy\",\"server\",\"-c\", \"/config/settings.yml\"]\n ---> Running in caa02df87fd5\nRemoving intermediate container caa02df87fd5\n ---> 16aa83935fd2\nSuccessfully built 16aa83935fd2\nSuccessfully tagged fiy:latest\n","stderr":"","imageSize":68771419},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":18,"columnEnd":32}}],"repairedDockerfile":"FROM golang:alpine as builder\n\nMAINTAINER xxx\n\nENV GOPROXY https://goproxy.cn/\n\nWORKDIR /go/release\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories\nRUN apk update && apk add --no-cache tzdata\n\nCOPY ./go.mod ./go.mod\nRUN go mod download\nCOPY . .\nRUN pwd && ls\n\nRUN CGO_ENABLED=0 GOOS=linux go build -ldflags=\"-w -s\" -a -installsuffix cgo -o fiy .\n\nFROM alpine\n\nCOPY --from=builder /go/release/fiy /\nCOPY --from=builder /go/release/config/ /config/\n\nCOPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\nEXPOSE 8000\n\nCMD [\"/fiy\",\"server\",\"-c\", \"/config/settings.yml\"]\n\n"},"repairedBuild":{"startTimestamp":1672839293984,"endTimestamp":1672839422794,"error":null,"stdout":"Sending build context to Docker daemon  1.642MB\r\r\nStep 1/17 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/17 : MAINTAINER xxx\n ---> Running in 7fd26a6a4198\nRemoving intermediate container 7fd26a6a4198\n ---> 5c82244b5c67\nStep 3/17 : ENV GOPROXY https://goproxy.cn/\n ---> Running in 66ed712c6ea7\nRemoving intermediate container 66ed712c6ea7\n ---> 08e9e4d55465\nStep 4/17 : WORKDIR /go/release\n ---> Running in 9d0607b55ed2\nRemoving intermediate container 9d0607b55ed2\n ---> 6033ab43cf18\nStep 5/17 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories\n ---> Running in 2fb63676a8c6\nRemoving intermediate container 2fb63676a8c6\n ---> 38cafbb14e5a\nStep 6/17 : RUN apk update && apk add --no-cache tzdata\n ---> Running in 029f60cbfa5d\nfetch https://mirrors.aliyun.com/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://mirrors.aliyun.com/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-320-g38723e0931 [https://mirrors.aliyun.com/alpine/v3.17/main]\nv3.17.0-325-g47aac65969 [https://mirrors.aliyun.com/alpine/v3.17/community]\nOK: 17814 distinct packages available\nfetch https://mirrors.aliyun.com/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://mirrors.aliyun.com/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nOK: 11 MiB in 17 packages\nRemoving intermediate container 029f60cbfa5d\n ---> 0aaf768d7b60\nStep 7/17 : COPY ./go.mod ./go.mod\n ---> 4e8da9e6140d\nStep 8/17 : RUN go mod download\n ---> Running in c71f4edc124c\nRemoving intermediate container c71f4edc124c\n ---> 75ba6c724322\nStep 9/17 : COPY . .\n ---> e56fed67e7b3\nStep 10/17 : RUN pwd && ls\n ---> Running in d74624ca8bdf\n/go/release\nDockerfile\nLICENSE\nMakefile\nREADME.md\napp\nbuild.sh\ncmd\ncommon\nconfig\ndocs\ngo.mod\ngo.sum\nmain.go\npackage-lock.json\npkg\ntemplate\ntest\ntools\nRemoving intermediate container d74624ca8bdf\n ---> 5f3a6161f84c\nStep 11/17 : RUN CGO_ENABLED=0 GOOS=linux go build -ldflags=\"-w -s\" -a -installsuffix cgo -o fiy .\n ---> Running in 3398e0f30b44\nRemoving intermediate container 3398e0f30b44\n ---> 566a251cb763\nStep 12/17 : FROM alpine\n ---> 49176f190c7e\nStep 13/17 : COPY --from=builder /go/release/fiy /\n ---> 32329be088ec\nStep 14/17 : COPY --from=builder /go/release/config/ /config/\n ---> 23da66e8eb9e\nStep 15/17 : COPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n ---> 9e9f33136e12\nStep 16/17 : EXPOSE 8000\n ---> Running in 88dad42e4fc0\nRemoving intermediate container 88dad42e4fc0\n ---> 5fa2ddeaae10\nStep 17/17 : CMD [\"/fiy\",\"server\",\"-c\", \"/config/settings.yml\"]\n ---> Running in b39e8ff6642d\nRemoving intermediate container b39e8ff6642d\n ---> 0c5e4a44eb12\nSuccessfully built 0c5e4a44eb12\nSuccessfully tagged fiy:latest\n","stderr":"","imageSize":68771419},"endTime":1672839423036}