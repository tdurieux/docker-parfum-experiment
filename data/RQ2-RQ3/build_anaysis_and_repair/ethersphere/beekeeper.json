{"repository":"https://github.com/ethersphere/beekeeper","dockerfilePath":"Dockerfile","startTime":1672906769231,"endTime":1672907129263,"clone":{"startTime":1672906769232,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ethersphere/beekeeper'...\n","error":null,"endTime":1672906770111,"commit":"86f3cb7c11a3de498a0c9e5a4a506ab92ef04077"},"originalBuild":{"startTime":1672906770207,"endTime":1672906986847,"error":null,"stdout":"Sending build context to Docker daemon  1.152MB\r\r\nStep 1/13 : FROM golang:1.18 AS build\n1.18: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Already exists\n160a777925fe: Pulling fs layer\n1be94824532a: Pulling fs layer\n1be94824532a: Verifying Checksum\n1be94824532a: Download complete\n160a777925fe: Download complete\n160a777925fe: Pull complete\n1be94824532a: Pull complete\nDigest: sha256:00d63686b480f6dc866e93ddc4b29efa2db03274a687e6495c2cfbfe615d638e\nStatus: Downloaded newer image for golang:1.18\n ---> fffd0d9a59da\nStep 2/13 : WORKDIR /src\n ---> Running in 9b4e98be9855\nRemoving intermediate container 9b4e98be9855\n ---> aa7714aa7b66\nStep 3/13 : COPY go.mod go.sum ./\n ---> 7ef3583a3dbe\nStep 4/13 : RUN go mod download\n ---> Running in 21ae82245992\nRemoving intermediate container 21ae82245992\n ---> 05f45e612f63\nStep 5/13 : COPY . ./\n ---> 03364c98ab13\nStep 6/13 : RUN make binary\n ---> Running in 93d87fe7c816\nmkdir dist\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mgo version\ngo version go1.18.9 linux/amd64\ngo build -trimpath -ldflags \"-s -w -X github.com/ethersphere/beekeeper.commit=\"\"\" -o dist/beekeeper ./cmd/beekeeper\nRemoving intermediate container 93d87fe7c816\n ---> 4ba173691808\nStep 7/13 : FROM debian:10.2-slim\n10.2-slim: Pulling from library/debian\nbc51dd8edc1b: Pulling fs layer\nbc51dd8edc1b: Verifying Checksum\nbc51dd8edc1b: Download complete\nbc51dd8edc1b: Pull complete\nDigest: sha256:9ab269df3cfa21324fcbfcf5366722d99d77ab480a8cbb0727612f7ea4e6ae27\nStatus: Downloaded newer image for debian:10.2-slim\n ---> 837fd7c8d960\nStep 8/13 : ENV DEBIAN_FRONTEND noninteractive\n ---> Running in d07c44d43a1c\nRemoving intermediate container d07c44d43a1c\n ---> 247375389336\nStep 9/13 : RUN apt-get update && apt-get install -y     ca-certificates;     apt-get clean;     rm -rf /var/lib/apt/lists/*;     groupadd -r beekeeper --gid 999;     useradd -r -g beekeeper --uid 999 --no-log-init -m beekeeper;\n ---> Running in 942b088ceb83\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5813 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 34 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (49.7 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6457 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 942b088ceb83\n ---> 6e8b6be69519\nStep 10/13 : COPY --from=build /src/dist/beekeeper /usr/local/bin/beekeeper\n ---> 7e20bc81a4f9\nStep 11/13 : USER beekeeper\n ---> Running in f393f3807844\nRemoving intermediate container f393f3807844\n ---> b0eabc04eefb\nStep 12/13 : WORKDIR /home/beekeeper\n ---> Running in d99118936e1c\nRemoving intermediate container d99118936e1c\n ---> 714b3d925d7d\nStep 13/13 : ENTRYPOINT [\"beekeeper\"]\n ---> Running in 850cb27ee38b\nRemoving intermediate container 850cb27ee38b\n ---> 405338e9eb95\nSuccessfully built 405338e9eb95\nSuccessfully tagged beekeeper:latest\n","stderr":"","imageSize":118021913},"repair":{"startTime":1672906986921,"endTime":1672906987010,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":14,"end":15,"columnStart":22,"columnEnd":19}}],"repairedDockerfile":"FROM golang:1.18 AS build\n\nWORKDIR /src\n# enable modules caching in separate layer\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . ./\n\nRUN make binary\n\nFROM debian:10.2-slim\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    ca-certificates; \\\n    apt-get clean; \\\n    rm -rf /var/lib/apt/lists/*; \\\n    groupadd -r beekeeper --gid 999; \\\n    useradd -r -g beekeeper --uid 999 --no-log-init -m beekeeper;\n\nCOPY --from=build /src/dist/beekeeper /usr/local/bin/beekeeper\n\nUSER beekeeper\nWORKDIR /home/beekeeper\n\nENTRYPOINT [\"beekeeper\"]\n"},"repairedBuild":{"startTime":1672906987187,"endTime":1672907129017,"error":null,"stdout":"Sending build context to Docker daemon  1.152MB\r\r\nStep 1/13 : FROM golang:1.18 AS build\n ---> fffd0d9a59da\nStep 2/13 : WORKDIR /src\n ---> Running in 4e0ca151cd22\nRemoving intermediate container 4e0ca151cd22\n ---> f75b27d98872\nStep 3/13 : COPY go.mod go.sum ./\n ---> 6f6474fff2ed\nStep 4/13 : RUN go mod download\n ---> Running in 8d0db7d346c9\nRemoving intermediate container 8d0db7d346c9\n ---> 77d141facbf6\nStep 5/13 : COPY . ./\n ---> afa78e181acb\nStep 6/13 : RUN make binary\n ---> Running in 644859543ef4\nmkdir dist\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mgo version\ngo version go1.18.9 linux/amd64\ngo build -trimpath -ldflags \"-s -w -X github.com/ethersphere/beekeeper.commit=\"\"\" -o dist/beekeeper ./cmd/beekeeper\nRemoving intermediate container 644859543ef4\n ---> 9c57d77f69e8\nStep 7/13 : FROM debian:10.2-slim\n ---> 837fd7c8d960\nStep 8/13 : ENV DEBIAN_FRONTEND noninteractive\n ---> Running in d09d04fb7283\nRemoving intermediate container d09d04fb7283\n ---> 6d7cc2628848\nStep 9/13 : RUN apt-get update && apt-get install --no-install-recommends -y     ca-certificates;     apt-get clean;     rm -rf /var/lib/apt/lists/*;     groupadd -r beekeeper --gid 999;     useradd -r -g beekeeper --uid 999 --no-log-init -m beekeeper;\n ---> Running in 482b66589e4f\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (4745 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 34 not upgraded.\nNeed to get 2571 kB of archives.\nAfter this operation, 6112 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 openssl amd64 1.1.1n-0+deb10u3 [855 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2571 kB in 0s (72.4 MB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6457 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSetting up openssl (1.1.1n-0+deb10u3) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n137 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 482b66589e4f\n ---> 0ac7cc41a78a\nStep 10/13 : COPY --from=build /src/dist/beekeeper /usr/local/bin/beekeeper\n ---> 3927f4fa4bc0\nStep 11/13 : USER beekeeper\n ---> Running in 5d9a1bebc763\nRemoving intermediate container 5d9a1bebc763\n ---> 0db6303131f0\nStep 12/13 : WORKDIR /home/beekeeper\n ---> Running in 7acbea89035d\nRemoving intermediate container 7acbea89035d\n ---> ee278c75fc18\nStep 13/13 : ENTRYPOINT [\"beekeeper\"]\n ---> Running in bd455c20150c\nRemoving intermediate container bd455c20150c\n ---> 62f1b806367a\nSuccessfully built 62f1b806367a\nSuccessfully tagged beekeeper:latest\n","stderr":"","imageSize":118021937}}