{"repository":"https://github.com/lzw5399/tumbleweed","dockerfilePath":"Dockerfile","startTime":1672108292416,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lzw5399/tumbleweed'...\n","error":null,"commit":"5cec804c1ba54d9caca95f157147720df95f305f"},"originalBuild":{"startTimestamp":1672108293431,"endTimestamp":1672108554997,"error":null,"stdout":"Sending build context to Docker daemon  445.4kB\r\r\nStep 1/15 : FROM golang:1.16 as builder\n1.16: Pulling from library/golang\ne4d61adff207: Already exists\n4ff1945c672b: Already exists\nff5b10aec998: Already exists\n12de8c754e45: Already exists\n8c86ff77a317: Pulling fs layer\n0395a1c478ba: Pulling fs layer\n245345d44ed8: Pulling fs layer\n245345d44ed8: Download complete\n0395a1c478ba: Verifying Checksum\n0395a1c478ba: Download complete\n8c86ff77a317: Verifying Checksum\n8c86ff77a317: Download complete\n8c86ff77a317: Pull complete\n0395a1c478ba: Pull complete\n245345d44ed8: Pull complete\nDigest: sha256:5f6a4662de3efc6d6bb812d02e9de3d8698eea16b8eb7281f03e6f3e8383018e\nStatus: Downloaded newer image for golang:1.16\n ---> 972d8c0bc0fc\nStep 2/15 : ENV GO111MODULE=on     GOPROXY=https://goproxy.cn,direct\n ---> Running in 72edf2d275ca\nRemoving intermediate container 72edf2d275ca\n ---> 8e5f03e9fd1e\nStep 3/15 : WORKDIR /app\n ---> Running in f89ac068d5e7\nRemoving intermediate container f89ac068d5e7\n ---> fc1d79f79892\nStep 4/15 : COPY . .\n ---> 5760960e9ba7\nStep 5/15 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" .\n ---> Running in 2af06a66ebac\n\u001b[91mgo: downloading github.com/swaggo/echo-swagger v1.1.0\ngo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo/v4 v4.1.17\ngo: downloading gorm.io/driver/postgres v1.0.6\ngo: downloading gorm.io/gorm v1.20.11\ngo: downloading github.com/ahmetb/go-linq/v3 v3.2.0\ngo: downloading github.com/jinzhu/configor v1.2.1\ngo: downloading github.com/swaggo/swag v1.7.0\ngo: downloading github.com/patrickmn/go-cache v2.1.0+incompatible\ngo: downloading github.com/sirupsen/logrus v1.4.2\ngo: downloading github.com/jackc/pgx/v4 v4.10.1\n\u001b[0m\u001b[91mgo: downloading gorm.io/datatypes v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/antonmedv/expr v1.8.9\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/gommon v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3 v1.1.0\ngo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.8.0\ngo: downloading github.com/jackc/pgtype v1.6.2\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20201202161906-c7110b5ffcbb\ngo: downloading golang.org/x/crypto v0.0.0-20200820211705-5c72a883971a\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3/v2 v2.0.6\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.4\ngo: downloading github.com/jackc/chunkreader v1.0.0\ngo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\ngo: downloading github.com/mattn/go-colorable v0.1.7\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/BurntSushi/toml v0.3.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0m\u001b[91mgo: downloading github.com/swaggo/files v0.0.0-20190704085106-630677cd5c14\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v1.0.0\ngo: downloading github.com/jinzhu/now v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/KyleBanks/depth v1.2.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20201207182000-5679438983bd\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/spec v0.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/swag v0.19.12\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/jsonreference v0.19.5\ngo: downloading github.com/go-openapi/jsonpointer v0.19.5\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/purell v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/urlesc v0.0.0-20170810143723-de5bf2ad4578\n\u001b[0m\u001b[91mgo: downloading github.com/mailru/easyjson v0.7.6\n\u001b[0m\u001b[91mgo: downloading github.com/josharian/intern v1.0.0\n\u001b[0mRemoving intermediate container 2af06a66ebac\n ---> e30b1e9720e4\nStep 6/15 : RUN mkdir publish && cp workflow publish &&     mkdir publish/config &&     cp src/config/appsettings.yaml publish/config/\n ---> Running in 4ddb837cc2d1\nRemoving intermediate container 4ddb837cc2d1\n ---> 76bb229b0f15\nStep 7/15 : FROM alpine:3.12\n ---> 24c8ece58a1a\nStep 8/15 : WORKDIR /app\n ---> Running in 38ec6ccfd143\nRemoving intermediate container 38ec6ccfd143\n ---> bf6f094902bb\nStep 9/15 : COPY --from=builder /app .\n ---> ec9ad23523e9\nStep 10/15 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories &&     apk update\n ---> Running in 839437b7c54d\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://mirrors.aliyun.com/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://mirrors.aliyun.com/alpine/v3.12/community]\nOK: 12767 distinct packages available\nRemoving intermediate container 839437b7c54d\n ---> 99cb99db0164\nStep 11/15 : RUN apk update &&     apk add tzdata &&     ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &&     echo \"Asia/Shanghai\" > /etc/timezone\n ---> Running in 647b30b06d9b\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://mirrors.aliyun.com/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://mirrors.aliyun.com/alpine/v3.12/community]\nOK: 12767 distinct packages available\n(1/1) Installing tzdata (2022a-r0)\nExecuting busybox-1.31.1-r22.trigger\nOK: 9 MiB in 15 packages\nRemoving intermediate container 647b30b06d9b\n ---> f1b84b2c3bb0\nStep 12/15 : ENV TZ Asia/Shanghai\n ---> Running in 58ff7a9257fe\nRemoving intermediate container 58ff7a9257fe\n ---> cfb6a35d2c1c\nStep 13/15 : ENV APP_ENV=Production     PORT=5000\n ---> Running in 737ea5eb33f4\nRemoving intermediate container 737ea5eb33f4\n ---> b0c8ed35ae76\nStep 14/15 : EXPOSE 5000\n ---> Running in 5dbeb4fa8956\nRemoving intermediate container 5dbeb4fa8956\n ---> 3df881723890\nStep 15/15 : ENTRYPOINT [\"./workflow\"]\n ---> Running in 4ccc62eb9793\nRemoving intermediate container 4ccc62eb9793\n ---> 85f876d88cfa\nSuccessfully built 85f876d88cfa\nSuccessfully tagged tumbleweed:latest\n","stderr":"","imageSize":58537105},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":27,"end":27,"columnStart":4,"columnEnd":18}}],"repairedDockerfile":"# build stage\nFROM golang:1.16 as builder\n\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct\n\nWORKDIR /app\n\nCOPY . .\n\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" .\n\nRUN mkdir publish && cp workflow publish && \\\n    mkdir publish/config && \\\n    cp src/config/appsettings.yaml publish/config/\n\nFROM alpine:3.12\n\nWORKDIR /app\n\nCOPY --from=builder /app .\n\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories && \\\n    apk update\n\n# set timezone to Asia/Shanghai\nRUN apk update && \\\n    apk add --no-cache tzdata && \\\n    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \\\n    echo \"Asia/Shanghai\" > /etc/timezone\nENV TZ Asia/Shanghai\n\nENV APP_ENV=Production \\\n    PORT=5000\n\nEXPOSE 5000\n\nENTRYPOINT [\"./workflow\"]"},"repairedBuild":{"startTimestamp":1672108555569,"endTimestamp":1672108600152,"error":null,"stdout":"Sending build context to Docker daemon  445.4kB\r\r\nStep 1/15 : FROM golang:1.16 as builder\n ---> 972d8c0bc0fc\nStep 2/15 : ENV GO111MODULE=on     GOPROXY=https://goproxy.cn,direct\n ---> Running in 5265bee6316c\nRemoving intermediate container 5265bee6316c\n ---> aec216539db8\nStep 3/15 : WORKDIR /app\n ---> Running in 02eb5575a167\nRemoving intermediate container 02eb5575a167\n ---> 1cb3203d6643\nStep 4/15 : COPY . .\n ---> 1515f38e3f02\nStep 5/15 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" .\n ---> Running in 24054d11af9a\n\u001b[91mgo: downloading gorm.io/gorm v1.20.11\n\u001b[0m\u001b[91mgo: downloading github.com/swaggo/echo-swagger v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.4.2\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/postgres v1.0.6\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo/v4 v4.1.17\ngo: downloading github.com/jackc/pgx/v4 v4.10.1\n\u001b[0m\u001b[91mgo: downloading github.com/ahmetb/go-linq/v3 v3.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/configor v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/patrickmn/go-cache v2.1.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.0\ngo: downloading github.com/swaggo/swag v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/antonmedv/expr v1.8.9\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.1\ngo: downloading gorm.io/datatypes v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/gommon v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v0.3.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/swaggo/files v0.0.0-20190704085106-630677cd5c14\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v1.2.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/now v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgtype v1.6.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3 v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200820211705-5c72a883971a\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20201202161906-c7110b5ffcbb\n\u001b[0m\u001b[91mgo: downloading github.com/KyleBanks/depth v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/spec v0.20.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20201207182000-5679438983bd\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3/v2 v2.0.6\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.4\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/jsonreference v0.19.5\ngo: downloading github.com/go-openapi/jsonpointer v0.19.5\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/swag v0.19.12\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/purell v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/mailru/easyjson v0.7.6\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/urlesc v0.0.0-20170810143723-de5bf2ad4578\n\u001b[0m\u001b[91mgo: downloading github.com/josharian/intern v1.0.0\n\u001b[0mRemoving intermediate container 24054d11af9a\n ---> 55c8540addde\nStep 6/15 : RUN mkdir publish && cp workflow publish &&     mkdir publish/config &&     cp src/config/appsettings.yaml publish/config/\n ---> Running in e6523adba981\nRemoving intermediate container e6523adba981\n ---> 35e89b4105da\nStep 7/15 : FROM alpine:3.12\n ---> 24c8ece58a1a\nStep 8/15 : WORKDIR /app\n ---> Running in 19d9a5e67f0e\nRemoving intermediate container 19d9a5e67f0e\n ---> 6e3f18625464\nStep 9/15 : COPY --from=builder /app .\n ---> d5f6ae87574d\nStep 10/15 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories &&     apk update\n ---> Running in 34493abff920\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://mirrors.aliyun.com/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://mirrors.aliyun.com/alpine/v3.12/community]\nOK: 12767 distinct packages available\nRemoving intermediate container 34493abff920\n ---> d8203f8571ab\nStep 11/15 : RUN apk update &&     apk add --no-cache tzdata &&     ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &&     echo \"Asia/Shanghai\" > /etc/timezone\n ---> Running in 59da4d81c598\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://mirrors.aliyun.com/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://mirrors.aliyun.com/alpine/v3.12/community]\nOK: 12767 distinct packages available\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022a-r0)\nExecuting busybox-1.31.1-r22.trigger\nOK: 9 MiB in 15 packages\nRemoving intermediate container 59da4d81c598\n ---> 91d015b230af\nStep 12/15 : ENV TZ Asia/Shanghai\n ---> Running in 09725988b400\nRemoving intermediate container 09725988b400\n ---> 66ef359508c0\nStep 13/15 : ENV APP_ENV=Production     PORT=5000\n ---> Running in 7ecfd53f54c5\nRemoving intermediate container 7ecfd53f54c5\n ---> bae92c24b8f3\nStep 14/15 : EXPOSE 5000\n ---> Running in 3112c5732aa8\nRemoving intermediate container 3112c5732aa8\n ---> 86a81caad5f2\nStep 15/15 : ENTRYPOINT [\"./workflow\"]\n ---> Running in f2da873dfdbd\nRemoving intermediate container f2da873dfdbd\n ---> 5f57ba225fc2\nSuccessfully built 5f57ba225fc2\nSuccessfully tagged tumbleweed:latest\n","stderr":"","imageSize":58537116},"endTime":1672108600421}