{"repository":"https://github.com/eventstore/replicator","dockerfilePath":"Dockerfile","startTime":1672286314499,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/eventstore/replicator'...\n","error":null,"commit":"2f2957221833b1a15041383de588532ee156cc91"},"originalBuild":{"startTimestamp":1672286315422,"endTimestamp":1672286623585,"error":null,"stdout":"Sending build context to Docker daemon  949.8kB\r\r\nStep 1/24 : ARG BUILDER_IMG=mcr.microsoft.com/dotnet/sdk:6.0\nStep 2/24 : ARG RUNNER_IMG=mcr.microsoft.com/dotnet/aspnet:6.0\nStep 3/24 : ARG RUNTIME=linux-x64\nStep 4/24 : FROM $BUILDER_IMG AS builder\n6.0: Pulling from dotnet/sdk\n3f4ca61aafcd: Already exists\n228cf000ffe1: Pulling fs layer\nce59a9e17a45: Pulling fs layer\n097d019d4906: Pulling fs layer\n4d253fbe5bbb: Pulling fs layer\n42c61635451d: Pulling fs layer\nf4c57886d6aa: Pulling fs layer\nbaeaf02ec8f8: Pulling fs layer\nf4c57886d6aa: Waiting\nbaeaf02ec8f8: Waiting\n4d253fbe5bbb: Waiting\n097d019d4906: Download complete\n228cf000ffe1: Verifying Checksum\n228cf000ffe1: Download complete\n4d253fbe5bbb: Verifying Checksum\n4d253fbe5bbb: Download complete\nce59a9e17a45: Verifying Checksum\nce59a9e17a45: Download complete\n42c61635451d: Verifying Checksum\n42c61635451d: Download complete\nbaeaf02ec8f8: Verifying Checksum\nbaeaf02ec8f8: Download complete\n228cf000ffe1: Pull complete\nf4c57886d6aa: Verifying Checksum\nf4c57886d6aa: Download complete\nce59a9e17a45: Pull complete\n097d019d4906: Pull complete\n4d253fbe5bbb: Pull complete\n42c61635451d: Pull complete\nf4c57886d6aa: Pull complete\nbaeaf02ec8f8: Pull complete\nDigest: sha256:700773b3f6a2094e1a063d17cb2fa1f0e2081b118936268238ab0f788cdcefcf\nStatus: Downloaded newer image for mcr.microsoft.com/dotnet/sdk:6.0\n ---> 53112f060c74\nStep 5/24 : WORKDIR /app\n ---> Running in 57ce957b8c51\nRemoving intermediate container 57ce957b8c51\n ---> 0ac62c624133\nStep 6/24 : ARG RUNTIME\n ---> Running in 45daab5dc4c4\nRemoving intermediate container 45daab5dc4c4\n ---> 7994116facb0\nStep 7/24 : RUN curl -sL https://deb.nodesource.com/setup_16.x | bash -  && apt-get install -y --no-install-recommends nodejs  && npm install -g yarn\n ---> Running in 89983270351a\n\n## Installing the NodeSource Node.js 16.x repo...\n\n\n## Populating apt-get cache...\n\n+ apt-get update\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (4916 kB/s)\nReading package lists...\n\n## Installing packages required for setup: lsb-release gnupg...\n\n+ apt-get install -y lsb-release gnupg > /dev/null 2>&1\n\n## Confirming \"bullseye\" is supported...\n\n+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_16.x/dists/bullseye/Release'\n\n## Adding the NodeSource signing key to your keyring...\n\n+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null\n\n## Creating apt sources list file for the NodeSource Node.js 16.x repo...\n\n+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x bullseye main' > /etc/apt/sources.list.d/nodesource.list\n+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x bullseye main' >> /etc/apt/sources.list.d/nodesource.list\n\n## Running `apt-get update` for you...\n\n+ apt-get update\nHit:1 http://deb.debian.org/debian bullseye InRelease\nHit:2 http://deb.debian.org/debian-security bullseye-security InRelease\nHit:3 http://deb.debian.org/debian bullseye-updates InRelease\nGet:4 https://deb.nodesource.com/node_16.x bullseye InRelease [4586 B]\nGet:5 https://deb.nodesource.com/node_16.x bullseye/main amd64 Packages [773 B]\nFetched 5359 B in 1s (7089 B/s)\nReading package lists...\n\n## Run `sudo apt-get install -y nodejs` to install Node.js 16.x and npm\n## You may also need development tools to build native addons:\n     sudo apt-get install gcc g++ make\n## To install the Yarn package manager, run:\n     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null\n     echo \"deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\n     sudo apt-get update && sudo apt-get install yarn\n\n\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  nodejs\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 27.2 MB of archives.\nAfter this operation, 128 MB of additional disk space will be used.\nGet:1 https://deb.nodesource.com/node_16.x bullseye/main amd64 nodejs amd64 16.19.0-deb-1nodesource1 [27.2 MB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 27.2 MB in 1s (26.2 MB/s)\nSelecting previously unselected package nodejs.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 11173 files and directories currently installed.)\r\nPreparing to unpack .../nodejs_16.19.0-deb-1nodesource1_amd64.deb ...\r\nUnpacking nodejs (16.19.0-deb-1nodesource1) ...\r\nSetting up nodejs (16.19.0-deb-1nodesource1) ...\r\n\nadded 1 package, and audited 2 packages in 839ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 89983270351a\n ---> e126354d79fc\nStep 8/24 : COPY ./src/Directory.Build.props ./src/*/*.csproj ./src/\n ---> 96631ae2ae94\nStep 9/24 : RUN for file in $(ls src/*.csproj); do mkdir -p ./${file%.*}/ && mv $file ./${file%.*}/; done\n ---> Running in cc601c628f53\nRemoving intermediate container cc601c628f53\n ---> afe388e5ed85\nStep 10/24 : RUN dotnet restore ./src/es-replicator -nowarn:msb3202,nu1503 -r $RUNTIME\n ---> Running in b098c7a9c947\n  Determining projects to restore...\n  Restored /app/src/EventStore.Replicator.Http/EventStore.Replicator.Http.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator.Mongo/EventStore.Replicator.Mongo.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator.JavaScript/EventStore.Replicator.JavaScript.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator.Shared/EventStore.Replicator.Shared.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator.Esdb.Grpc/EventStore.Replicator.Esdb.Grpc.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator.Kafka/EventStore.Replicator.Kafka.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator/EventStore.Replicator.csproj (in 5.91 sec).\n  Restored /app/src/EventStore.Replicator.Esdb.Tcp/EventStore.Replicator.Esdb.Tcp.csproj (in 7.56 sec).\n  Restored /app/src/es-replicator/es-replicator.csproj (in 7.58 sec).\nRemoving intermediate container b098c7a9c947\n ---> 9b185c742fd5\nStep 11/24 : COPY ./src/es-replicator/ClientApp/package.json ./src/es-replicator/ClientApp/\n ---> f4dbd4b02aa4\nStep 12/24 : COPY ./src/es-replicator/ClientApp/yarn.lock ./src/es-replicator/ClientApp/\n ---> f6004ae83327\nStep 13/24 : RUN cd ./src/es-replicator/ClientApp && yarn install\n ---> Running in 7bdc0dfb2920\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@vue/cli-service > @babel/helper-compilation-targets@7.16.7\" has unmet peer dependency \"@babel/core@^7.0.0\".\n\u001b[0m\u001b[91mwarning \" > sass-loader@10.2.1\" has unmet peer dependency \"webpack@^4.36.0 || ^5.0.0\".\nwarning \" > stylus-loader@6.2.0\" has unmet peer dependency \"webpack@^5.0.0\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 35.12s.\nRemoving intermediate container 7bdc0dfb2920\n ---> c07bdbc98ffa\nStep 14/24 : FROM builder as publish\n ---> c07bdbc98ffa\nStep 15/24 : ARG RUNTIME\n ---> Running in d4046d7b4a11\nRemoving intermediate container d4046d7b4a11\n ---> bea04a0bf21a\nStep 16/24 : COPY ./src ./src\n ---> af417277973b\nStep 17/24 : RUN dotnet publish ./src/es-replicator -c Release -r $RUNTIME -clp:NoSummary --no-self-contained -o /app/publish\n ---> Running in 66fa72031966\nMSBuild version 17.3.2+561848881 for .NET\n  Determining projects to restore...\n  Restored /app/src/EventStore.Replicator.JavaScript/EventStore.Replicator.JavaScript.csproj (in 558 ms).\n  Restored /app/src/EventStore.Replicator.Esdb.Grpc/EventStore.Replicator.Esdb.Grpc.csproj (in 558 ms).\n  Restored /app/src/EventStore.Replicator.Kafka/EventStore.Replicator.Kafka.csproj (in 558 ms).\n  Restored /app/src/EventStore.Replicator.Mongo/EventStore.Replicator.Mongo.csproj (in 569 ms).\n  Restored /app/src/EventStore.Replicator/EventStore.Replicator.csproj (in 558 ms).\n  Restored /app/src/EventStore.Replicator.Http/EventStore.Replicator.Http.csproj (in 558 ms).\n  Restored /app/src/EventStore.Replicator.Shared/EventStore.Replicator.Shared.csproj (in 558 ms).\n  Restored /app/src/EventStore.Replicator.Esdb.Tcp/EventStore.Replicator.Esdb.Tcp.csproj (in 633 ms).\n  Restored /app/src/es-replicator/es-replicator.csproj (in 650 ms).\n  EventStore.Replicator.Shared -> /app/src/EventStore.Replicator.Shared/bin/Release/net6.0/EventStore.Replicator.Shared.dll\n  EventStore.Replicator.Http -> /app/src/EventStore.Replicator.Http/bin/Release/net6.0/EventStore.Replicator.Http.dll\n  EventStore.Replicator.JavaScript -> /app/src/EventStore.Replicator.JavaScript/bin/Release/net6.0/EventStore.Replicator.JavaScript.dll\n  EventStore.Replicator.Esdb.Tcp -> /app/src/EventStore.Replicator.Esdb.Tcp/bin/Release/net6.0/EventStore.Replicator.Esdb.Tcp.dll\n  EventStore.Replicator.Mongo -> /app/src/EventStore.Replicator.Mongo/bin/Release/net6.0/EventStore.Replicator.Mongo.dll\n  EventStore.Replicator.Esdb.Grpc -> /app/src/EventStore.Replicator.Esdb.Grpc/bin/Release/net6.0/EventStore.Replicator.Esdb.Grpc.dll\n  EventStore.Replicator -> /app/src/EventStore.Replicator/bin/Release/net6.0/EventStore.Replicator.dll\n  EventStore.Replicator.Kafka -> /app/src/EventStore.Replicator.Kafka/bin/Release/net6.0/EventStore.Replicator.Kafka.dll\n  es-replicator -> /app/src/es-replicator/bin/Release/net6.0/linux-x64/es-replicator.dll\n  yarn install v1.22.19\n  [1/4] Resolving packages...\n  success Already up-to-date.\n  Done in 0.31s.\n  yarn run v1.22.19\n  $ vue-cli-service build\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  \n  -  Building legacy bundle for production...\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n   WARNING  Compiled with 2 warnings4:02:57 AM\n  \n   warning  \n  \n  asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\n  This can impact web performance.\n  Assets: \n    css/chunk-vendors.a1ae627d.css (269 KiB)\n    js/chunk-vendors-legacy.d0dada74.js (870 KiB)\n  \n   warning  \n  \n  entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\n  Entrypoints:\n    app (1.12 MiB)\n        css/chunk-vendors.a1ae627d.css\n        js/chunk-vendors-legacy.d0dada74.js\n        css/app.7bbb739f.css\n        js/app-legacy.9bf1f38f.js\n  \n  \n    File                                      Size             Gzipped\n  \n    dist/js/chunk-vendors-legacy.d0dada74.    870.27 KiB       264.83 KiB\n    js\n    dist/js/app-legacy.9bf1f38f.js            10.44 KiB        3.60 KiB\n    dist/js/about-legacy.c9d4af12.js          0.37 KiB         0.27 KiB\n    dist/css/chunk-vendors.a1ae627d.css       269.44 KiB       38.04 KiB\n    dist/css/app.7bbb739f.css                 0.50 KiB         0.17 KiB\n  \n    Images and other types of assets omitted.\n    Build at: 2022-12-29T04:02:57.171Z - Hash: 69f0c1075e52fe5c - Time: 12682ms\n  \n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  \n  -  Building module bundle for production...\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n   WARNING  Compiled with 2 warnings4:03:11 AM\n  \n   warning  \n  \n  asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\n  This can impact web performance.\n  Assets: \n    css/chunk-vendors.a1ae627d.css (269 KiB)\n    js/chunk-vendors.cfa3643e.js (823 KiB)\n  \n   warning  \n  \n  entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\n  Entrypoints:\n    app (1.08 MiB)\n        css/chunk-vendors.a1ae627d.css\n        js/chunk-vendors.cfa3643e.js\n        css/app.7bbb739f.css\n        js/app.2589c833.js\n  \n  \n    File                                   Size              Gzipped\n  \n    dist/js/chunk-vendors.cfa3643e.js      823.21 KiB        248.00 KiB\n    dist/js/app.2589c833.js                9.64 KiB          3.41 KiB\n    dist/js/about.c9d4af12.js              0.36 KiB          0.27 KiB\n    dist/css/chunk-vendors.a1ae627d.css    269.44 KiB        38.04 KiB\n    dist/css/app.7bbb739f.css              0.50 KiB          0.17 KiB\n  \n    Images and other types of assets omitted.\n    Build at: 2022-12-29T04:03:11.074Z - Hash: 2f6e0cc69859d54e - Time: 12274ms\n  \n   DONE  Build complete. The dist directory is ready to be deployed.\n   INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n         \n  Done in 28.41s.\n  es-replicator -> /app/publish/\nRemoving intermediate container 66fa72031966\n ---> 9c6cf2499a6b\nStep 18/24 : FROM $RUNNER_IMG AS runner\n6.0: Pulling from dotnet/aspnet\n3f4ca61aafcd: Already exists\n228cf000ffe1: Already exists\nce59a9e17a45: Already exists\n097d019d4906: Already exists\n4d253fbe5bbb: Already exists\nDigest: sha256:06247362f80d011d8574af9d9a4752c44c5fb1fdd5f8b35dac1a338f6be29b46\nStatus: Downloaded newer image for mcr.microsoft.com/dotnet/aspnet:6.0\n ---> a3a54ba9f84c\nStep 19/24 : WORKDIR /app\n ---> Running in 5fde2d71e728\nRemoving intermediate container 5fde2d71e728\n ---> 0dadafdb3d6d\nStep 20/24 : COPY --from=publish /app/publish .\n ---> 269391c6cb71\nStep 21/24 : ENV ALLOWED_HOSTS \"*\"\n ---> Running in bd43c99d5ab5\nRemoving intermediate container bd43c99d5ab5\n ---> e5a82e567fe7\nStep 22/24 : ENV ASPNETCORE_URLS \"http://*:5000\"\n ---> Running in 78d890aeff76\nRemoving intermediate container 78d890aeff76\n ---> c284fa4cb854\nStep 23/24 : EXPOSE 5000\n ---> Running in ecf142b06719\nRemoving intermediate container ecf142b06719\n ---> d7400b533218\nStep 24/24 : ENTRYPOINT [\"dotnet\", \"es-replicator.dll\"]\n ---> Running in 5f6a9f4d57d6\nRemoving intermediate container 5f6a9f4d57d6\n ---> 2db4736572be\nSuccessfully built 2db4736572be\nSuccessfully tagged replicator:latest\n","stderr":"","imageSize":247927717},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":9,"end":9,"columnStart":4,"columnEnd":50}},{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":23}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":53}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":10,"end":10,"columnStart":4,"columnEnd":53}}],"repairedDockerfile":"ARG BUILDER_IMG=mcr.microsoft.com/dotnet/sdk:6.0\nARG RUNNER_IMG=mcr.microsoft.com/dotnet/aspnet:6.0\nARG RUNTIME=linux-x64\n\nFROM $BUILDER_IMG AS builder\n\nWORKDIR /app\n\nARG RUNTIME\nRUN curl -f -sL https://deb.nodesource.com/setup_16.x | bash - \\\n && apt-get install -y --no-install-recommends nodejs \\\n && npm install -g yarn\n\nCOPY ./src/Directory.Build.props ./src/*/*.csproj ./src/\nRUN for file in $(ls src/*.csproj); do mkdir -p ./${file%.*}/ && mv $file ./${file%.*}/; done\nRUN dotnet restore ./src/es-replicator -nowarn:msb3202,nu1503 -r $RUNTIME\n\nCOPY ./src/es-replicator/ClientApp/package.json ./src/es-replicator/ClientApp/\nCOPY ./src/es-replicator/ClientApp/yarn.lock ./src/es-replicator/ClientApp/\nRUN cd ./src/es-replicator/ClientApp && yarn install\n\nFROM builder as publish\nARG RUNTIME\nCOPY ./src ./src\nRUN dotnet publish ./src/es-replicator -c Release -r $RUNTIME -clp:NoSummary --no-self-contained -o /app/publish\n\nFROM $RUNNER_IMG AS runner\n\nWORKDIR /app\nCOPY --from=publish /app/publish .\n\nENV ALLOWED_HOSTS \"*\"\nENV ASPNETCORE_URLS \"http://*:5000\"\n\nEXPOSE 5000\nENTRYPOINT [\"dotnet\", \"es-replicator.dll\"]\n"},"repairedBuild":{"startTimestamp":1672286627345,"endTimestamp":1672286988288,"error":null,"stdout":"Sending build context to Docker daemon  949.8kB\r\r\nStep 1/24 : ARG BUILDER_IMG=mcr.microsoft.com/dotnet/sdk:6.0\nStep 2/24 : ARG RUNNER_IMG=mcr.microsoft.com/dotnet/aspnet:6.0\nStep 3/24 : ARG RUNTIME=linux-x64\nStep 4/24 : FROM $BUILDER_IMG AS builder\n ---> 53112f060c74\nStep 5/24 : WORKDIR /app\n ---> Running in 99c724b5ba78\nRemoving intermediate container 99c724b5ba78\n ---> de84b0bbbd33\nStep 6/24 : ARG RUNTIME\n ---> Running in df4196a46269\nRemoving intermediate container df4196a46269\n ---> b872361ae76c\nStep 7/24 : RUN curl -f -sL https://deb.nodesource.com/setup_16.x | bash -  && apt-get install -y --no-install-recommends nodejs  && npm install -g yarn\n ---> Running in 564e552e0c79\n\n## Installing the NodeSource Node.js 16.x repo...\n\n\n## Populating apt-get cache...\n\n+ apt-get update\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (4712 kB/s)\nReading package lists...\n\n## Installing packages required for setup: lsb-release gnupg...\n\n+ apt-get install -y lsb-release gnupg > /dev/null 2>&1\n\n## Confirming \"bullseye\" is supported...\n\n+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_16.x/dists/bullseye/Release'\n\n## Adding the NodeSource signing key to your keyring...\n\n+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null\n\n## Creating apt sources list file for the NodeSource Node.js 16.x repo...\n\n+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x bullseye main' > /etc/apt/sources.list.d/nodesource.list\n+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x bullseye main' >> /etc/apt/sources.list.d/nodesource.list\n\n## Running `apt-get update` for you...\n\n+ apt-get update\nHit:1 http://deb.debian.org/debian bullseye InRelease\nHit:2 http://deb.debian.org/debian-security bullseye-security InRelease\nHit:3 http://deb.debian.org/debian bullseye-updates InRelease\nGet:4 https://deb.nodesource.com/node_16.x bullseye InRelease [4586 B]\nGet:5 https://deb.nodesource.com/node_16.x bullseye/main amd64 Packages [773 B]\nFetched 5359 B in 1s (5240 B/s)\nReading package lists...\n\n## Run `sudo apt-get install -y nodejs` to install Node.js 16.x and npm\n## You may also need development tools to build native addons:\n     sudo apt-get install gcc g++ make\n## To install the Yarn package manager, run:\n     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null\n     echo \"deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\n     sudo apt-get update && sudo apt-get install yarn\n\n\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  nodejs\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 27.2 MB of archives.\nAfter this operation, 128 MB of additional disk space will be used.\nGet:1 https://deb.nodesource.com/node_16.x bullseye/main amd64 nodejs amd64 16.19.0-deb-1nodesource1 [27.2 MB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 27.2 MB in 1s (29.6 MB/s)\nSelecting previously unselected package nodejs.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 11173 files and directories currently installed.)\r\nPreparing to unpack .../nodejs_16.19.0-deb-1nodesource1_amd64.deb ...\r\nUnpacking nodejs (16.19.0-deb-1nodesource1) ...\r\nSetting up nodejs (16.19.0-deb-1nodesource1) ...\r\n\nadded 1 package, and audited 2 packages in 630ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 564e552e0c79\n ---> 394672657185\nStep 8/24 : COPY ./src/Directory.Build.props ./src/*/*.csproj ./src/\n ---> 19fe8635376f\nStep 9/24 : RUN for file in $(ls src/*.csproj); do mkdir -p ./${file%.*}/ && mv $file ./${file%.*}/; done\n ---> Running in c6e4870ef9c9\nRemoving intermediate container c6e4870ef9c9\n ---> 0c157a5ab341\nStep 10/24 : RUN dotnet restore ./src/es-replicator -nowarn:msb3202,nu1503 -r $RUNTIME\n ---> Running in 820edffb9fff\n  Determining projects to restore...\n  Restored /app/src/EventStore.Replicator.Shared/EventStore.Replicator.Shared.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator.Http/EventStore.Replicator.Http.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator.Esdb.Grpc/EventStore.Replicator.Esdb.Grpc.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator.Mongo/EventStore.Replicator.Mongo.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator.Kafka/EventStore.Replicator.Kafka.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator.JavaScript/EventStore.Replicator.JavaScript.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator/EventStore.Replicator.csproj (in 5.54 sec).\n  Restored /app/src/EventStore.Replicator.Esdb.Tcp/EventStore.Replicator.Esdb.Tcp.csproj (in 7.4 sec).\n  Restored /app/src/es-replicator/es-replicator.csproj (in 7.39 sec).\nRemoving intermediate container 820edffb9fff\n ---> 4f8d71e489e0\nStep 11/24 : COPY ./src/es-replicator/ClientApp/package.json ./src/es-replicator/ClientApp/\n ---> ba7afae3f510\nStep 12/24 : COPY ./src/es-replicator/ClientApp/yarn.lock ./src/es-replicator/ClientApp/\n ---> 6121f0e3c940\nStep 13/24 : RUN cd ./src/es-replicator/ClientApp && yarn install\n ---> Running in c4689f7713a0\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@vue/cli-service > @babel/helper-compilation-targets@7.16.7\" has unmet peer dependency \"@babel/core@^7.0.0\".\n\u001b[0m\u001b[91mwarning \" > sass-loader@10.2.1\" has unmet peer dependency \"webpack@^4.36.0 || ^5.0.0\".\n\u001b[0m\u001b[91mwarning \" > stylus-loader@6.2.0\" has unmet peer dependency \"webpack@^5.0.0\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 30.91s.\nRemoving intermediate container c4689f7713a0\n ---> b04a9f40f151\nStep 14/24 : FROM builder as publish\n ---> b04a9f40f151\nStep 15/24 : ARG RUNTIME\n ---> Running in af411bbc7e34\nRemoving intermediate container af411bbc7e34\n ---> fd64721eefb6\nStep 16/24 : COPY ./src ./src\n ---> 259b8bc130a2\nStep 17/24 : RUN dotnet publish ./src/es-replicator -c Release -r $RUNTIME -clp:NoSummary --no-self-contained -o /app/publish\n ---> Running in a903df5290c7\nMSBuild version 17.3.2+561848881 for .NET\n  Determining projects to restore...\n  Restored /app/src/EventStore.Replicator.Http/EventStore.Replicator.Http.csproj (in 603 ms).\n  Restored /app/src/EventStore.Replicator.Kafka/EventStore.Replicator.Kafka.csproj (in 603 ms).\n  Restored /app/src/EventStore.Replicator/EventStore.Replicator.csproj (in 603 ms).\n  Restored /app/src/EventStore.Replicator.Shared/EventStore.Replicator.Shared.csproj (in 600 ms).\n  Restored /app/src/EventStore.Replicator.JavaScript/EventStore.Replicator.JavaScript.csproj (in 603 ms).\n  Restored /app/src/EventStore.Replicator.Esdb.Grpc/EventStore.Replicator.Esdb.Grpc.csproj (in 646 ms).\n  Restored /app/src/EventStore.Replicator.Mongo/EventStore.Replicator.Mongo.csproj (in 669 ms).\n  Restored /app/src/EventStore.Replicator.Esdb.Tcp/EventStore.Replicator.Esdb.Tcp.csproj (in 828 ms).\n  Restored /app/src/es-replicator/es-replicator.csproj (in 834 ms).\n  EventStore.Replicator.Shared -> /app/src/EventStore.Replicator.Shared/bin/Release/net6.0/EventStore.Replicator.Shared.dll\n  EventStore.Replicator.Mongo -> /app/src/EventStore.Replicator.Mongo/bin/Release/net6.0/EventStore.Replicator.Mongo.dll\n  EventStore.Replicator.Http -> /app/src/EventStore.Replicator.Http/bin/Release/net6.0/EventStore.Replicator.Http.dll\n  EventStore.Replicator.JavaScript -> /app/src/EventStore.Replicator.JavaScript/bin/Release/net6.0/EventStore.Replicator.JavaScript.dll\n  EventStore.Replicator.Esdb.Grpc -> /app/src/EventStore.Replicator.Esdb.Grpc/bin/Release/net6.0/EventStore.Replicator.Esdb.Grpc.dll\n  EventStore.Replicator.Esdb.Tcp -> /app/src/EventStore.Replicator.Esdb.Tcp/bin/Release/net6.0/EventStore.Replicator.Esdb.Tcp.dll\n  EventStore.Replicator -> /app/src/EventStore.Replicator/bin/Release/net6.0/EventStore.Replicator.dll\n  EventStore.Replicator.Kafka -> /app/src/EventStore.Replicator.Kafka/bin/Release/net6.0/EventStore.Replicator.Kafka.dll\n  es-replicator -> /app/src/es-replicator/bin/Release/net6.0/linux-x64/es-replicator.dll\n  yarn install v1.22.19\n  [1/4] Resolving packages...\n  success Already up-to-date.\n  Done in 0.40s.\n  yarn run v1.22.19\n  $ vue-cli-service build\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  \n  -  Building legacy bundle for production...\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n   WARNING  Compiled with 2 warnings4:09:12 AM\n  \n   warning  \n  \n  asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\n  This can impact web performance.\n  Assets: \n    css/chunk-vendors.a1ae627d.css (269 KiB)\n    js/chunk-vendors-legacy.d0dada74.js (870 KiB)\n  \n   warning  \n  \n  entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\n  Entrypoints:\n    app (1.12 MiB)\n        css/chunk-vendors.a1ae627d.css\n        js/chunk-vendors-legacy.d0dada74.js\n        css/app.7bbb739f.css\n        js/app-legacy.9bf1f38f.js\n  \n  \n    File                                      Size             Gzipped\n  \n    dist/js/chunk-vendors-legacy.d0dada74.    870.27 KiB       264.83 KiB\n    js\n    dist/js/app-legacy.9bf1f38f.js            10.44 KiB        3.60 KiB\n    dist/js/about-legacy.c9d4af12.js          0.37 KiB         0.27 KiB\n    dist/css/chunk-vendors.a1ae627d.css       269.44 KiB       38.04 KiB\n    dist/css/app.7bbb739f.css                 0.50 KiB         0.17 KiB\n  \n    Images and other types of assets omitted.\n    Build at: 2022-12-29T04:09:12.931Z - Hash: 69f0c1075e52fe5c - Time: 13685ms\n  \n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  \n  -  Building module bundle for production...\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n  Browserslist: caniuse-lite is outdated. Please run:\n    npx browserslist@latest --update-db\n    Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n   WARNING  Compiled with 2 warnings4:09:26 AM\n  \n   warning  \n  \n  asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\n  This can impact web performance.\n  Assets: \n    css/chunk-vendors.a1ae627d.css (269 KiB)\n    js/chunk-vendors.cfa3643e.js (823 KiB)\n  \n   warning  \n  \n  entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\n  Entrypoints:\n    app (1.08 MiB)\n        css/chunk-vendors.a1ae627d.css\n        js/chunk-vendors.cfa3643e.js\n        css/app.7bbb739f.css\n        js/app.2589c833.js\n  \n  \n    File                                   Size              Gzipped\n  \n    dist/js/chunk-vendors.cfa3643e.js      823.21 KiB        248.00 KiB\n    dist/js/app.2589c833.js                9.64 KiB          3.41 KiB\n    dist/js/about.c9d4af12.js              0.36 KiB          0.27 KiB\n    dist/css/chunk-vendors.a1ae627d.css    269.44 KiB        38.04 KiB\n    dist/css/app.7bbb739f.css              0.50 KiB          0.17 KiB\n  \n    Images and other types of assets omitted.\n    Build at: 2022-12-29T04:09:27.052Z - Hash: 2f6e0cc69859d54e - Time: 12414ms\n  \n   DONE  Build complete. The dist directory is ready to be deployed.\n   INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n         \n  Done in 29.71s.\n  es-replicator -> /app/publish/\nRemoving intermediate container a903df5290c7\n ---> bc5e15e6e9b6\nStep 18/24 : FROM $RUNNER_IMG AS runner\n ---> a3a54ba9f84c\nStep 19/24 : WORKDIR /app\n ---> Running in 466e9320b1b8\nRemoving intermediate container 466e9320b1b8\n ---> b5015530ea48\nStep 20/24 : COPY --from=publish /app/publish .\n ---> ee796265c00f\nStep 21/24 : ENV ALLOWED_HOSTS \"*\"\n ---> Running in 772dbea01a9f\nRemoving intermediate container 772dbea01a9f\n ---> 0a5fc740a108\nStep 22/24 : ENV ASPNETCORE_URLS \"http://*:5000\"\n ---> Running in 6e0ea19e2fe7\nRemoving intermediate container 6e0ea19e2fe7\n ---> 4a3c9f4e6945\nStep 23/24 : EXPOSE 5000\n ---> Running in f5b72d4eed9d\nRemoving intermediate container f5b72d4eed9d\n ---> b434d902c3f2\nStep 24/24 : ENTRYPOINT [\"dotnet\", \"es-replicator.dll\"]\n ---> Running in d657aaec562c\nRemoving intermediate container d657aaec562c\n ---> ad662c7a7750\nSuccessfully built ad662c7a7750\nSuccessfully tagged replicator:latest\n","stderr":"","imageSize":247927717},"endTime":1672286988588}