{"repository":"https://github.com/tquizzle/clamav-alpine","dockerfilePath":"Dockerfile","startTime":1672559366709,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tquizzle/clamav-alpine'...\n","error":null,"commit":"756e49b53f8efa64b83538ae7817702ca217dc1a"},"originalBuild":{"startTimestamp":1672559367442,"endTimestamp":1672559381275,"error":null,"stdout":"Sending build context to Docker daemon  90.11kB\r\r\nStep 1/6 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nca7dd9ec2225: Already exists\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 2/6 : LABEL maintainer=\"https://github.com/tquizzle\"\n ---> Running in d7de6a515506\nRemoving intermediate container d7de6a515506\n ---> e6b69908dc61\nStep 3/6 : RUN apk update && apk add --no-cache pv ca-certificates clamav=0.104.3-r0 clamav-libunrar && apk add --upgrade apk-tools libcurl openssl busybox && rm -rf /var/cache/apk/*\n ---> Running in 9f881f687d13\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-91-gd0e167f17b [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-88-gef347edb61 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing ca-certificates (20220614-r0)\n(2/24) Installing libbz2 (1.0.8-r1)\n(3/24) Installing brotli-libs (1.0.9-r6)\n(4/24) Installing nghttp2-libs (1.47.0-r0)\n(5/24) Installing libcurl (7.83.1-r5)\n(6/24) Installing json-c (0.16-r0)\n(7/24) Installing libmspack (0.10.1_alpha-r0)\n(8/24) Installing pcre2 (10.40-r0)\n(9/24) Installing xz-libs (5.2.5-r1)\n(10/24) Installing libxml2 (2.9.14-r2)\n(11/24) Installing clamav-libs (0.104.3-r0)\n(12/24) Installing freshclam (0.104.3-r0)\nExecuting freshclam-0.104.3-r0.pre-install\n(13/24) Installing clamav-scanner (0.104.3-r0)\n(14/24) Installing openssl (1.1.1s-r0)\n(15/24) Installing clamav-clamdscan (0.104.3-r0)\n(16/24) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(17/24) Installing ncurses-libs (6.3_p20220521-r0)\n(18/24) Installing clamav-daemon (0.104.3-r0)\nExecuting clamav-daemon-0.104.3-r0.pre-install\n(19/24) Installing fts (1.2.7-r1)\n(20/24) Installing clamav (0.104.3-r0)\n(21/24) Installing libgcc (11.2.1_git20220219-r2)\n(22/24) Installing libstdc++ (11.2.1_git20220219-r2)\n(23/24) Installing clamav-libunrar (0.104.3-r0)\n(24/24) Installing pv (1.6.20-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 17 MiB in 38 packages\n(1/1) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\nOK: 17 MiB in 38 packages\nRemoving intermediate container 9f881f687d13\n ---> af3ecdb46e29\nStep 4/6 : ENV SCANDIR=/scan\n ---> Running in bc34c71af128\nRemoving intermediate container bc34c71af128\n ---> e3db92268650\nStep 5/6 : COPY scan.sh /scan.sh\n ---> 9807cbfc9d07\nStep 6/6 : ENTRYPOINT [ \"sh\", \"/scan.sh\" ]\n ---> Running in 308d314fe9ff\nRemoving intermediate container 308d314fe9ff\n ---> 811d813395bd\nSuccessfully built 811d813395bd\nSuccessfully tagged clamav-alpine:latest\n","stderr":"","imageSize":17604965},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":93,"columnEnd":144}}],"repairedDockerfile":"FROM alpine:3.16\nLABEL maintainer=\"https://github.com/tquizzle\"\n\nRUN apk update && apk add --no-cache pv ca-certificates clamav=0.104.3-r0 clamav-libunrar && apk add --no-cache --upgrade apk-tools libcurl openssl busybox && rm -rf /var/cache/apk/*\n\nENV SCANDIR=/scan\nCOPY scan.sh /scan.sh\nENTRYPOINT [ \"sh\", \"/scan.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672559382839,"endTimestamp":1672559404240,"error":null,"stdout":"Sending build context to Docker daemon  90.11kB\r\r\nStep 1/6 : FROM alpine:3.16\n ---> bfe296a52501\nStep 2/6 : LABEL maintainer=\"https://github.com/tquizzle\"\n ---> Running in b5cab993bd87\nRemoving intermediate container b5cab993bd87\n ---> 687cc4e28ff8\nStep 3/6 : RUN apk update && apk add --no-cache pv ca-certificates clamav=0.104.3-r0 clamav-libunrar && apk add --no-cache --upgrade apk-tools libcurl openssl busybox && rm -rf /var/cache/apk/*\n ---> Running in 0b84200be63d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-91-gd0e167f17b [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-88-gef347edb61 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing ca-certificates (20220614-r0)\n(2/24) Installing libbz2 (1.0.8-r1)\n(3/24) Installing brotli-libs (1.0.9-r6)\n(4/24) Installing nghttp2-libs (1.47.0-r0)\n(5/24) Installing libcurl (7.83.1-r5)\n(6/24) Installing json-c (0.16-r0)\n(7/24) Installing libmspack (0.10.1_alpha-r0)\n(8/24) Installing pcre2 (10.40-r0)\n(9/24) Installing xz-libs (5.2.5-r1)\n(10/24) Installing libxml2 (2.9.14-r2)\n(11/24) Installing clamav-libs (0.104.3-r0)\n(12/24) Installing freshclam (0.104.3-r0)\nExecuting freshclam-0.104.3-r0.pre-install\n(13/24) Installing clamav-scanner (0.104.3-r0)\n(14/24) Installing openssl (1.1.1s-r0)\n(15/24) Installing clamav-clamdscan (0.104.3-r0)\n(16/24) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(17/24) Installing ncurses-libs (6.3_p20220521-r0)\n(18/24) Installing clamav-daemon (0.104.3-r0)\nExecuting clamav-daemon-0.104.3-r0.pre-install\n(19/24) Installing fts (1.2.7-r1)\n(20/24) Installing clamav (0.104.3-r0)\n(21/24) Installing libgcc (11.2.1_git20220219-r2)\n(22/24) Installing libstdc++ (11.2.1_git20220219-r2)\n(23/24) Installing clamav-libunrar (0.104.3-r0)\n(24/24) Installing pv (1.6.20-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 17 MiB in 38 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\nOK: 17 MiB in 38 packages\nRemoving intermediate container 0b84200be63d\n ---> b832994d0af7\nStep 4/6 : ENV SCANDIR=/scan\n ---> Running in bf78c0412bd0\nRemoving intermediate container bf78c0412bd0\n ---> 9f254e73cf5c\nStep 5/6 : COPY scan.sh /scan.sh\n ---> e605aac90824\nStep 6/6 : ENTRYPOINT [ \"sh\", \"/scan.sh\" ]\n ---> Running in 64e5dac4098d\nRemoving intermediate container 64e5dac4098d\n ---> fa58379f7edb\nSuccessfully built fa58379f7edb\nSuccessfully tagged clamav-alpine:latest\n","stderr":"","imageSize":17604965},"endTime":1672559404478}