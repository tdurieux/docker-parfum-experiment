{"repository":"https://github.com/adrianrudnik/mjml-server","dockerfilePath":"Dockerfile","startTime":1672371628316,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/adrianrudnik/mjml-server'...\n","error":null,"commit":"b7570258c9eabaa38f7e7a3ed119d61cd98b31d7"},"originalBuild":{"startTimestamp":1672371629164,"endTimestamp":1672371660201,"error":null,"stdout":"Sending build context to Docker daemon  158.7kB\r\r\nStep 1/19 : FROM node:lts-alpine3.16\nlts-alpine3.16: Pulling from library/node\nca7dd9ec2225: Already exists\n55371e6747e8: Pulling fs layer\n694d6b1b2d1b: Pulling fs layer\n71f41f5ff77d: Pulling fs layer\n71f41f5ff77d: Verifying Checksum\n71f41f5ff77d: Download complete\n694d6b1b2d1b: Verifying Checksum\n694d6b1b2d1b: Download complete\n55371e6747e8: Verifying Checksum\n55371e6747e8: Download complete\n55371e6747e8: Pull complete\n694d6b1b2d1b: Pull complete\n71f41f5ff77d: Pull complete\nDigest: sha256:9eff44230b2fdcca57a73b8f908c8029e72d24dd05cac5339c79d3dedf6b208b\nStatus: Downloaded newer image for node:lts-alpine3.16\n ---> 0fa08f92e64b\nStep 2/19 : ENV NODE_ENV=production\n ---> Running in 1eabb0e0313e\nRemoving intermediate container 1eabb0e0313e\n ---> 7e5cf93f9b99\nStep 3/19 : ENV CORS=\"\"\n ---> Running in 6bca272d0701\nRemoving intermediate container 6bca272d0701\n ---> e21882018d24\nStep 4/19 : ENV PORT=80\n ---> Running in 7e62b5e92532\nRemoving intermediate container 7e62b5e92532\n ---> 5a444ce51c66\nStep 5/19 : ENV MJML_KEEP_COMMENTS=false\n ---> Running in 3e51062c34c6\nRemoving intermediate container 3e51062c34c6\n ---> c44c63af23a4\nStep 6/19 : ENV MJML_VALIDATION_LEVEL=soft\n ---> Running in fbf6b65e58d2\nRemoving intermediate container fbf6b65e58d2\n ---> 87c2b9bbee5f\nStep 7/19 : ENV MJML_MINIFY=true\n ---> Running in 252934bb4220\nRemoving intermediate container 252934bb4220\n ---> 83a5ebdf47c4\nStep 8/19 : ENV MJML_BEAUTIFY=false\n ---> Running in 838e44968357\nRemoving intermediate container 838e44968357\n ---> 794ceed49f32\nStep 9/19 : ENV HEALTHCHECK=true\n ---> Running in 4a58d2681713\nRemoving intermediate container 4a58d2681713\n ---> 1e7b98c51964\nStep 10/19 : ENV CHARSET=\"utf8\"\n ---> Running in 8cd8d13e0c32\nRemoving intermediate container 8cd8d13e0c32\n ---> 6e7ee333114f\nStep 11/19 : ENV DEFAULT_RESPONSE_CONTENT_TYPE=\"text/html; charset=utf-8\"\n ---> Running in 761be90237f7\nRemoving intermediate container 761be90237f7\n ---> 370dd43f7ad1\nStep 12/19 : WORKDIR /app\n ---> Running in 46a75473298e\nRemoving intermediate container 46a75473298e\n ---> 0b79fda083f6\nStep 13/19 : COPY package* ./\n ---> 2dfdfbf027f4\nStep 14/19 : RUN set -ex     && apk --no-cache upgrade     && apk --no-cache add curl ca-certificates     && update-ca-certificates     && npm install\n ---> Running in db3e062d4d50\n\u001b[91m+ apk\u001b[0m\u001b[91m --no-cache upgrade\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 16 packages\n\u001b[91m+ apk --no-cache add curl ca-certificates\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20220614-r0)\n(2/5) Installing brotli-libs (1.0.9-r6)\n(3/5) Installing nghttp2-libs (1.47.0-r0)\n(4/5) Installing libcurl (7.83.1-r5)\n(5/5) Installing curl (7.83.1-r5)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 10 MiB in 21 packages\n\u001b[91m+ update-ca-certificates\n\u001b[0m\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0m\u001b[91m+ npm install\n\u001b[0m\nadded 194 packages, and audited 195 packages in 12s\n\n26 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container db3e062d4d50\n ---> d3edb03deb12\nStep 15/19 : COPY index.js ./index.js\n ---> 9647266d25ed\nStep 16/19 : COPY healthcheck.sh /app/healthcheck.sh\n ---> ff4cdd15d674\nStep 17/19 : HEALTHCHECK --start-period=10s --retries=1 CMD /app/healthcheck.sh || exit 1\n ---> Running in 6b09bfe5b696\nRemoving intermediate container 6b09bfe5b696\n ---> e2198398e42b\nStep 18/19 : EXPOSE 80\n ---> Running in db3a92273f95\nRemoving intermediate container db3a92273f95\n ---> 971222b4940f\nStep 19/19 : ENTRYPOINT [ \"node\", \"index.js\" ]\n ---> Running in 6ea1d0fe20e7\nRemoving intermediate container 6ea1d0fe20e7\n ---> ccf439fbce3e\nSuccessfully built ccf439fbce3e\nSuccessfully tagged mjml-server:latest\n","stderr":"","imageSize":194677719},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":23,"end":23,"columnStart":7,"columnEnd":18}}],"repairedDockerfile":"FROM node:lts-alpine3.16\n\nENV NODE_ENV=production\n\nENV CORS=\"\"\nENV PORT=80\n\nENV MJML_KEEP_COMMENTS=false\nENV MJML_VALIDATION_LEVEL=soft\nENV MJML_MINIFY=true\nENV MJML_BEAUTIFY=false\nENV HEALTHCHECK=true\nENV CHARSET=\"utf8\"\nENV DEFAULT_RESPONSE_CONTENT_TYPE=\"text/html; charset=utf-8\"\n\nWORKDIR /app\n\nCOPY package* ./\n\nRUN set -ex \\\n    && apk --no-cache upgrade \\\n    && apk --no-cache add curl ca-certificates \\\n    && update-ca-certificates \\\n    && npm install\n\nCOPY index.js ./index.js\n\nCOPY healthcheck.sh /app/healthcheck.sh\n\nHEALTHCHECK --start-period=10s --retries=1 CMD /app/healthcheck.sh || exit 1\n\nEXPOSE 80\n\n# ENTRYPOINT [ \"node\", \"--inspect=0.0.0.0:9229\", \"index.js\" ]\nENTRYPOINT [ \"node\", \"index.js\" ]\n"},"repairedBuild":{"startTimestamp":1672371660598,"endTimestamp":1672371683737,"error":null,"stdout":"Sending build context to Docker daemon  158.7kB\r\r\nStep 1/19 : FROM node:lts-alpine3.16\n ---> 0fa08f92e64b\nStep 2/19 : ENV NODE_ENV=production\n ---> Running in ce74688b13fa\nRemoving intermediate container ce74688b13fa\n ---> 84ea2c618866\nStep 3/19 : ENV CORS=\"\"\n ---> Running in ee1c086d22a6\nRemoving intermediate container ee1c086d22a6\n ---> de53e0683965\nStep 4/19 : ENV PORT=80\n ---> Running in a3b56ee0f448\nRemoving intermediate container a3b56ee0f448\n ---> aadf5d9c64e9\nStep 5/19 : ENV MJML_KEEP_COMMENTS=false\n ---> Running in 5fd1f51db372\nRemoving intermediate container 5fd1f51db372\n ---> 09de0ce898d1\nStep 6/19 : ENV MJML_VALIDATION_LEVEL=soft\n ---> Running in 83981d8395d5\nRemoving intermediate container 83981d8395d5\n ---> 9b866ab25634\nStep 7/19 : ENV MJML_MINIFY=true\n ---> Running in 3efb1f341279\nRemoving intermediate container 3efb1f341279\n ---> d6bb5e23cf05\nStep 8/19 : ENV MJML_BEAUTIFY=false\n ---> Running in a6783b7833f3\nRemoving intermediate container a6783b7833f3\n ---> c0efb2851e60\nStep 9/19 : ENV HEALTHCHECK=true\n ---> Running in af3213d3350e\nRemoving intermediate container af3213d3350e\n ---> 4aec3b3def15\nStep 10/19 : ENV CHARSET=\"utf8\"\n ---> Running in 97423ebc39bf\nRemoving intermediate container 97423ebc39bf\n ---> e751de480135\nStep 11/19 : ENV DEFAULT_RESPONSE_CONTENT_TYPE=\"text/html; charset=utf-8\"\n ---> Running in 6849c093c960\nRemoving intermediate container 6849c093c960\n ---> 294f01de6612\nStep 12/19 : WORKDIR /app\n ---> Running in 584ff52ce1b6\nRemoving intermediate container 584ff52ce1b6\n ---> d6de65f81e53\nStep 13/19 : COPY package* ./\n ---> e16d960eb82b\nStep 14/19 : RUN set -ex     && apk --no-cache upgrade     && apk --no-cache add curl ca-certificates     && update-ca-certificates     && npm install\n ---> Running in 531bec2f93c8\n\u001b[91m+ apk --no-cache upgrade\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 8 MiB in 16 packages\n\u001b[91m+ apk --no-cache add curl ca-certificates\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20220614-r0)\n(2/5) Installing brotli-libs (1.0.9-r6)\n(3/5) Installing nghttp2-libs (1.47.0-r0)\n(4/5) Installing libcurl (7.83.1-r5)\n(5/5) Installing curl (7.83.1-r5)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 10 MiB in 21 packages\n\u001b[91m+ update-ca-certificates\n\u001b[0m\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0m\u001b[91m+ npm install\n\u001b[0m\nadded 194 packages, and audited 195 packages in 4s\n\n26 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 531bec2f93c8\n ---> 3a73c152d55e\nStep 15/19 : COPY index.js ./index.js\n ---> 2ea64ea8c22a\nStep 16/19 : COPY healthcheck.sh /app/healthcheck.sh\n ---> 24199d43d5f5\nStep 17/19 : HEALTHCHECK --start-period=10s --retries=1 CMD /app/healthcheck.sh || exit 1\n ---> Running in fa22199a777b\nRemoving intermediate container fa22199a777b\n ---> 3fae44865385\nStep 18/19 : EXPOSE 80\n ---> Running in 095a8fca8c17\nRemoving intermediate container 095a8fca8c17\n ---> 75fdcdc6b1bd\nStep 19/19 : ENTRYPOINT [ \"node\", \"index.js\" ]\n ---> Running in 27a14607c499\nRemoving intermediate container 27a14607c499\n ---> 5901ec386ae1\nSuccessfully built 5901ec386ae1\nSuccessfully tagged mjml-server:latest\n","stderr":"","imageSize":194677647},"endTime":1672371684404}