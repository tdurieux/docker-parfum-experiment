{"repository":"https://github.com/support-pl/ione","dockerfilePath":"Dockerfile","startTime":1672184921028,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/support-pl/ione'...\n","error":null,"commit":"2a62bc5e27700e1bc178c11b7b7434f409da5d6e"},"originalBuild":{"startTimestamp":1672184922024,"endTimestamp":1672184999221,"error":null,"stdout":"Sending build context to Docker daemon  882.2kB\r\r\nStep 1/8 : FROM ruby:2.6-alpine\n2.6-alpine: Pulling from library/ruby\ndf9b9388f04a: Pulling fs layer\n837e9cfc7e43: Pulling fs layer\nc7850f1a8c23: Pulling fs layer\nb303053af850: Pulling fs layer\nf3d5bf52dffa: Pulling fs layer\nb303053af850: Waiting\nf3d5bf52dffa: Waiting\nc7850f1a8c23: Verifying Checksum\nc7850f1a8c23: Download complete\ndf9b9388f04a: Verifying Checksum\ndf9b9388f04a: Download complete\n837e9cfc7e43: Verifying Checksum\n837e9cfc7e43: Download complete\ndf9b9388f04a: Pull complete\nf3d5bf52dffa: Download complete\n837e9cfc7e43: Pull complete\nc7850f1a8c23: Pull complete\nb303053af850: Verifying Checksum\nb303053af850: Download complete\nb303053af850: Pull complete\nf3d5bf52dffa: Pull complete\nDigest: sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762\nStatus: Downloaded newer image for ruby:2.6-alpine\n ---> 2254a013410a\nStep 2/8 : ADD . /ione\n ---> acede181414c\nStep 3/8 : WORKDIR /ione\n ---> Running in 9cca0de2c04c\nRemoving intermediate container 9cca0de2c04c\n ---> fb042992843d\nStep 4/8 : RUN apk update && apk add --virtual build-dependencies build-base\n ---> Running in 1f1dded8f22e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15868 distinct packages available\n(1/18) Installing binutils (2.37-r3)\n(2/18) Installing libmagic (5.41-r0)\n(3/18) Installing file (5.41-r0)\n(4/18) Installing libgomp (10.3.1_git20211027-r0)\n(5/18) Installing libatomic (10.3.1_git20211027-r0)\n(6/18) Installing libgphobos (10.3.1_git20211027-r0)\n(7/18) Installing isl22 (0.22-r0)\n(8/18) Installing mpfr4 (4.1.0-r0)\n(9/18) Installing mpc1 (1.2.1-r0)\n(10/18) Installing gcc (10.3.1_git20211027-r0)\n(11/18) Installing musl-dev (1.2.2-r7)\n(12/18) Installing libc-dev (0.7.2-r3)\n(13/18) Installing g++ (10.3.1_git20211027-r0)\n(14/18) Installing make (4.3-r0)\n(15/18) Installing fortify-headers (1.1-r1)\n(16/18) Installing patch (2.7.6-r7)\n(17/18) Installing build-base (0.5-r3)\n(18/18) Installing build-dependencies (20221227.234848)\nExecuting busybox-1.34.1-r5.trigger\nOK: 208 MiB in 54 packages\nRemoving intermediate container 1f1dded8f22e\n ---> a9e65c955689\nStep 5/8 : RUN apk add augeas-dev mariadb-dev postgresql-dev\n ---> Running in 81d6f8020a63\n(1/28) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(2/28) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(3/28) Installing xz-libs (5.2.5-r1)\n(4/28) Installing libxml2 (2.9.14-r2)\n(5/28) Installing augeas-libs (1.12.0-r0)\n(6/28) Installing xz-dev (5.2.5-r1)\n(7/28) Installing libxml2-dev (2.9.14-r2)\n(8/28) Installing augeas-dev (1.12.0-r0)\n(9/28) Installing openssl-dev (1.1.1s-r1)\n(10/28) Installing mariadb-connector-c (3.1.13-r2)\n(11/28) Installing mariadb-connector-c-dev (3.1.13-r2)\n(12/28) Installing mariadb-common (10.6.10-r0)\n(13/28) Installing libaio (0.3.112-r1)\n(14/28) Installing pcre2 (10.40-r0)\n(15/28) Installing mariadb-embedded (10.6.10-r0)\n(16/28) Installing mariadb-dev (10.6.10-r0)\n(17/28) Installing libpq (14.5-r0)\n(18/28) Installing libpq-dev (14.5-r0)\n(19/28) Installing libecpg (14.5-r0)\n(20/28) Installing libecpg-dev (14.5-r0)\n(21/28) Installing llvm12-libs (12.0.1-r0)\n(22/28) Installing clang-libs (12.0.1-r1)\n(23/28) Installing clang (12.0.1-r1)\n(24/28) Installing icu-libs (69.1-r1)\n(25/28) Installing icu (69.1-r1)\n(26/28) Installing icu-dev (69.1-r1)\n(27/28) Installing llvm12 (12.0.1-r0)\n(28/28) Installing postgresql14-dev (14.5-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 562 MiB in 80 packages\nRemoving intermediate container 81d6f8020a63\n ---> 6404cb8f5c39\nStep 6/8 : RUN bundle install\n ---> Running in 43d36430ea1a\nWarning: the running version of Bundler (1.17.2) is older than the version that created the lockfile (1.17.3). We suggest you upgrade to the latest version of Bundler by running `gem install bundler`.\nFetching gem metadata from https://rubygems.org/....\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching public_suffix 4.0.6\nInstalling public_suffix 4.0.6\nFetching addressable 2.8.0\nInstalling addressable 2.8.0\nFetching augeas 0.6.4\nInstalling augeas 0.6.4 with native extensions\nFetching builder 3.2.4\nInstalling builder 3.2.4\nUsing bundler 1.17.2\nFetching colorize 0.8.1\nInstalling colorize 0.8.1\nFetching daemons 1.4.1\nInstalling daemons 1.4.1\nFetching eventmachine 1.2.7\nInstalling eventmachine 1.2.7 with native extensions\nFetching em-websocket 0.3.8\nInstalling em-websocket 0.3.8\nUsing sync 0.5.0\nFetching tins 1.29.1\nInstalling tins 1.29.1\nFetching file-tail 1.2.0\nInstalling file-tail 1.2.0\nFetching ipaddress 0.8.3\nInstalling ipaddress 0.8.3\nFetching json 2.6.1\nInstalling json 2.6.1 with native extensions\nFetching mini_portile2 2.8.0\nInstalling mini_portile2 2.8.0\nFetching multi_json 1.15.0\nInstalling multi_json 1.15.0\nFetching ruby2_keywords 0.0.5\nInstalling ruby2_keywords 0.0.5\nFetching mustermann 1.1.1\nInstalling mustermann 1.1.1\nFetching mysql2 0.5.3\nInstalling mysql2 0.5.3 with native extensions\nFetching net-ssh 6.1.0\nInstalling net-ssh 6.1.0\nFetching net-sftp 3.0.0\nInstalling net-sftp 3.0.0\nFetching racc 1.6.1\nInstalling racc 1.6.1 with native extensions\nFetching nokogiri 1.13.10 (x86_64-linux)\nInstalling nokogiri 1.13.10 (x86_64-linux)\nFetching nori 2.6.0\nInstalling nori 2.6.0\nFetching parse-cron 0.1.4\nInstalling parse-cron 0.1.4\nFetching optimist 3.0.1\nInstalling optimist 3.0.1\nFetching rbvmomi 3.0.0\nInstalling rbvmomi 3.0.0\nFetching polyglot 0.3.5\nInstalling polyglot 0.3.5\nFetching treetop 1.6.11\nInstalling treetop 1.6.11\nFetching webrick 1.7.0\nInstalling webrick 1.7.0\nFetching xmlrpc 0.3.2\nInstalling xmlrpc 0.3.2\nFetching opennebula 6.0.3\nInstalling opennebula 6.0.3\nFetching pg 1.2.3\nInstalling pg 1.2.3 with native extensions\nFetching rack 2.2.3.1\nInstalling rack 2.2.3.1\nFetching rack-protection 2.1.0\nInstalling rack-protection 2.1.0\nFetching sequel 5.49.0\nInstalling sequel 5.49.0\nFetching tilt 2.0.10\nInstalling tilt 2.0.10\nFetching sinatra 2.1.0\nInstalling sinatra 2.1.0\nFetching sinatra-contrib 2.1.0\nInstalling sinatra-contrib 2.1.0\nFetching thin 1.8.1\nInstalling thin 1.8.1 with native extensions\nFetching sinatra-websocket 0.3.1\nInstalling sinatra-websocket 0.3.1\nBundle complete! 13 Gemfile dependencies, 42 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 43d36430ea1a\n ---> 81b488e89d15\nStep 7/8 : EXPOSE 8009\n ---> Running in 0bf26d911206\nRemoving intermediate container 0bf26d911206\n ---> 54835fa5748e\nStep 8/8 : ENTRYPOINT [\"bundle\", \"exec\", \"rackup\", \"-o\", \"127.0.0.1\", \"-p\", \"8009\"]\n ---> Running in b317b2e57b09\nRemoving intermediate container b317b2e57b09\n ---> 2a34d9259bee\nSuccessfully built 2a34d9259bee\nSuccessfully tagged ione:latest\n","stderr":"","imageSize":690994414},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":18,"columnEnd":65}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":49}}],"repairedDockerfile":"FROM ruby:2.6-alpine\n\nADD . /ione\nWORKDIR /ione\n\nRUN apk update && apk add --no-cache --virtual build-dependencies build-base\nRUN apk add --no-cache augeas-dev mariadb-dev postgresql-dev\nRUN bundle install\n\nEXPOSE 8009\n\nENTRYPOINT [\"bundle\", \"exec\", \"rackup\", \"-o\", \"127.0.0.1\", \"-p\", \"8009\"]\n"},"repairedBuild":{"startTimestamp":1672184999664,"endTimestamp":1672185071073,"error":null,"stdout":"Sending build context to Docker daemon  882.2kB\r\r\nStep 1/8 : FROM ruby:2.6-alpine\n ---> 2254a013410a\nStep 2/8 : ADD . /ione\n ---> 3c415b72ea41\nStep 3/8 : WORKDIR /ione\n ---> Running in ce55d5ae1841\nRemoving intermediate container ce55d5ae1841\n ---> ca431679a63c\nStep 4/8 : RUN apk update && apk add --no-cache --virtual build-dependencies build-base\n ---> Running in 460395c50f7f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15868 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing binutils (2.37-r3)\n(2/18) Installing libmagic (5.41-r0)\n(3/18) Installing file (5.41-r0)\n(4/18) Installing libgomp (10.3.1_git20211027-r0)\n(5/18) Installing libatomic (10.3.1_git20211027-r0)\n(6/18) Installing libgphobos (10.3.1_git20211027-r0)\n(7/18) Installing isl22 (0.22-r0)\n(8/18) Installing mpfr4 (4.1.0-r0)\n(9/18) Installing mpc1 (1.2.1-r0)\n(10/18) Installing gcc (10.3.1_git20211027-r0)\n(11/18) Installing musl-dev (1.2.2-r7)\n(12/18) Installing libc-dev (0.7.2-r3)\n(13/18) Installing g++ (10.3.1_git20211027-r0)\n(14/18) Installing make (4.3-r0)\n(15/18) Installing fortify-headers (1.1-r1)\n(16/18) Installing patch (2.7.6-r7)\n(17/18) Installing build-base (0.5-r3)\n(18/18) Installing build-dependencies (20221227.235001)\nExecuting busybox-1.34.1-r5.trigger\nOK: 208 MiB in 54 packages\nRemoving intermediate container 460395c50f7f\n ---> e45c133c7f92\nStep 5/8 : RUN apk add --no-cache augeas-dev mariadb-dev postgresql-dev\n ---> Running in b1b1a18e253f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/28) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(2/28) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(3/28) Installing xz-libs (5.2.5-r1)\n(4/28) Installing libxml2 (2.9.14-r2)\n(5/28) Installing augeas-libs (1.12.0-r0)\n(6/28) Installing xz-dev (5.2.5-r1)\n(7/28) Installing libxml2-dev (2.9.14-r2)\n(8/28) Installing augeas-dev (1.12.0-r0)\n(9/28) Installing openssl-dev (1.1.1s-r1)\n(10/28) Installing mariadb-connector-c (3.1.13-r2)\n(11/28) Installing mariadb-connector-c-dev (3.1.13-r2)\n(12/28) Installing mariadb-common (10.6.10-r0)\n(13/28) Installing libaio (0.3.112-r1)\n(14/28) Installing pcre2 (10.40-r0)\n(15/28) Installing mariadb-embedded (10.6.10-r0)\n(16/28) Installing mariadb-dev (10.6.10-r0)\n(17/28) Installing libpq (14.5-r0)\n(18/28) Installing libpq-dev (14.5-r0)\n(19/28) Installing libecpg (14.5-r0)\n(20/28) Installing libecpg-dev (14.5-r0)\n(21/28) Installing llvm12-libs (12.0.1-r0)\n(22/28) Installing clang-libs (12.0.1-r1)\n(23/28) Installing clang (12.0.1-r1)\n(24/28) Installing icu-libs (69.1-r1)\n(25/28) Installing icu (69.1-r1)\n(26/28) Installing icu-dev (69.1-r1)\n(27/28) Installing llvm12 (12.0.1-r0)\n(28/28) Installing postgresql14-dev (14.5-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 562 MiB in 80 packages\nRemoving intermediate container b1b1a18e253f\n ---> 79d1419c998f\nStep 6/8 : RUN bundle install\n ---> Running in c39b991e3651\nWarning: the running version of Bundler (1.17.2) is older than the version that created the lockfile (1.17.3). We suggest you upgrade to the latest version of Bundler by running `gem install bundler`.\nFetching gem metadata from https://rubygems.org/....\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching public_suffix 4.0.6\nInstalling public_suffix 4.0.6\nFetching addressable 2.8.0\nInstalling addressable 2.8.0\nFetching augeas 0.6.4\nInstalling augeas 0.6.4 with native extensions\nFetching builder 3.2.4\nInstalling builder 3.2.4\nUsing bundler 1.17.2\nFetching colorize 0.8.1\nInstalling colorize 0.8.1\nFetching daemons 1.4.1\nInstalling daemons 1.4.1\nFetching eventmachine 1.2.7\nInstalling eventmachine 1.2.7 with native extensions\nFetching em-websocket 0.3.8\nInstalling em-websocket 0.3.8\nUsing sync 0.5.0\nFetching tins 1.29.1\nInstalling tins 1.29.1\nFetching file-tail 1.2.0\nInstalling file-tail 1.2.0\nFetching ipaddress 0.8.3\nInstalling ipaddress 0.8.3\nFetching json 2.6.1\nInstalling json 2.6.1 with native extensions\nFetching mini_portile2 2.8.0\nInstalling mini_portile2 2.8.0\nFetching multi_json 1.15.0\nInstalling multi_json 1.15.0\nFetching ruby2_keywords 0.0.5\nInstalling ruby2_keywords 0.0.5\nFetching mustermann 1.1.1\nInstalling mustermann 1.1.1\nFetching mysql2 0.5.3\nInstalling mysql2 0.5.3 with native extensions\nFetching net-ssh 6.1.0\nInstalling net-ssh 6.1.0\nFetching net-sftp 3.0.0\nInstalling net-sftp 3.0.0\nFetching racc 1.6.1\nInstalling racc 1.6.1 with native extensions\nFetching nokogiri 1.13.10 (x86_64-linux)\nInstalling nokogiri 1.13.10 (x86_64-linux)\nFetching nori 2.6.0\nInstalling nori 2.6.0\nFetching parse-cron 0.1.4\nInstalling parse-cron 0.1.4\nFetching optimist 3.0.1\nInstalling optimist 3.0.1\nFetching rbvmomi 3.0.0\nInstalling rbvmomi 3.0.0\nFetching polyglot 0.3.5\nInstalling polyglot 0.3.5\nFetching treetop 1.6.11\nInstalling treetop 1.6.11\nFetching webrick 1.7.0\nInstalling webrick 1.7.0\nFetching xmlrpc 0.3.2\nInstalling xmlrpc 0.3.2\nFetching opennebula 6.0.3\nInstalling opennebula 6.0.3\nFetching pg 1.2.3\nInstalling pg 1.2.3 with native extensions\nFetching rack 2.2.3.1\nInstalling rack 2.2.3.1\nFetching rack-protection 2.1.0\nInstalling rack-protection 2.1.0\nFetching sequel 5.49.0\nInstalling sequel 5.49.0\nFetching tilt 2.0.10\nInstalling tilt 2.0.10\nFetching sinatra 2.1.0\nInstalling sinatra 2.1.0\nFetching sinatra-contrib 2.1.0\nInstalling sinatra-contrib 2.1.0\nFetching thin 1.8.1\nInstalling thin 1.8.1 with native extensions\nFetching sinatra-websocket 0.3.1\nInstalling sinatra-websocket 0.3.1\nBundle complete! 13 Gemfile dependencies, 42 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container c39b991e3651\n ---> 79603655f741\nStep 7/8 : EXPOSE 8009\n ---> Running in b1e79140ad61\nRemoving intermediate container b1e79140ad61\n ---> 8f73669bf608\nStep 8/8 : ENTRYPOINT [\"bundle\", \"exec\", \"rackup\", \"-o\", \"127.0.0.1\", \"-p\", \"8009\"]\n ---> Running in 72afd60ab640\nRemoving intermediate container 72afd60ab640\n ---> 07e3ef696054\nSuccessfully built 07e3ef696054\nSuccessfully tagged ione:latest\n","stderr":"","imageSize":690994444},"endTime":1672185071466}