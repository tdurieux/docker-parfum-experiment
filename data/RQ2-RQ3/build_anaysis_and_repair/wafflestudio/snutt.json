{"repository":"https://github.com/wafflestudio/snutt","dockerfilePath":"Dockerfile","startTime":1672371874656,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wafflestudio/snutt'...\n","error":null,"commit":"2e3f1a09d91a0557014b9e4705a3890af2a6d07c"},"originalBuild":{"startTimestamp":1672371875597,"endTimestamp":1672371943443,"error":null,"stdout":"Sending build context to Docker daemon  967.2kB\r\r\nStep 1/9 : FROM node:8.15-alpine\n8.15-alpine: Pulling from library/node\nc87736221ed0: Pulling fs layer\nf5d566d24cf3: Pulling fs layer\necd3a030a461: Pulling fs layer\nc87736221ed0: Verifying Checksum\nc87736221ed0: Download complete\nf5d566d24cf3: Verifying Checksum\nf5d566d24cf3: Download complete\necd3a030a461: Verifying Checksum\necd3a030a461: Download complete\nc87736221ed0: Pull complete\nf5d566d24cf3: Pull complete\necd3a030a461: Pull complete\nDigest: sha256:8e9987a6d91d783c56980f1bd4b23b4c05f9f6076d513d6350fef8fe09ed01fd\nStatus: Downloaded newer image for node:8.15-alpine\n ---> ee8b4f3c67fa\nStep 2/9 : WORKDIR /app\n ---> Running in b626a1b51a90\nRemoving intermediate container b626a1b51a90\n ---> 9f68d8c5929c\nStep 3/9 : RUN apk add g++ make python\n ---> Running in 8fd99bc09f7c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/25) Upgrading musl (1.1.19-r10 -> 1.1.19-r11)\n(2/25) Installing binutils (2.30-r6)\n(3/25) Installing gmp (6.1.2-r1)\n(4/25) Installing isl (0.18-r0)\n(5/25) Installing libgomp (6.4.0-r9)\n(6/25) Installing libatomic (6.4.0-r9)\n(7/25) Installing pkgconf (1.5.3-r0)\n(8/25) Installing mpfr3 (3.1.5-r1)\n(9/25) Installing mpc1 (1.0.3-r1)\n(10/25) Installing gcc (6.4.0-r9)\n(11/25) Installing musl-dev (1.1.19-r11)\n(12/25) Installing libc-dev (0.7.1-r0)\n(13/25) Installing g++ (6.4.0-r9)\n(14/25) Upgrading musl-utils (1.1.19-r10 -> 1.1.19-r11)\n(15/25) Installing make (4.2.1-r2)\n(16/25) Installing libbz2 (1.0.6-r7)\n(17/25) Installing expat (2.2.8-r0)\n(18/25) Installing libffi (3.2.1-r4)\n(19/25) Installing gdbm (1.13-r1)\n(20/25) Installing ncurses-terminfo-base (6.1_p20180818-r1)\n(21/25) Installing ncurses-terminfo (6.1_p20180818-r1)\n(22/25) Installing ncurses-libs (6.1_p20180818-r1)\n(23/25) Installing readline (7.0.003-r0)\n(24/25) Installing sqlite-libs (3.25.3-r4)\n(25/25) Installing python2 (2.7.15-r3)\nExecuting busybox-1.28.4-r3.trigger\nOK: 207 MiB in 38 packages\nRemoving intermediate container 8fd99bc09f7c\n ---> 0a6eaa6d49b6\nStep 4/9 : COPY package*.json ./\n ---> 5491e1f2aa25\nStep 5/9 : RUN npm install\n ---> Running in 65a0e39de0bb\n\n> bcrypt@2.0.1 install /app/node_modules/bcrypt\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m Tried to download(404): https://github.com/kelektiv/node.bcrypt.js/releases/download/v2.0.1/bcrypt_lib-v2.0.1-node-v57-linux-x64-musl.tar.gz\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnode-pre-gyp \u001b[0m\u001b[91mERR! \u001b[0m\u001b[91mPre-built binaries not found for bcrypt@2.0.1 and node@8.15.1 (node-v57 ABI, musl) (falling back to source compile with node-gyp)\u001b[0m\u001b[91m \n\u001b[0mmake: Entering directory '/app/node_modules/bcrypt/build'\n  CXX(target) Release/obj.target/bcrypt_lib/src/blowfish.o\n  CXX(target) Release/obj.target/bcrypt_lib/src/bcrypt.o\n  CXX(target) Release/obj.target/bcrypt_lib/src/bcrypt_node.o\n  SOLINK_MODULE(target) Release/obj.target/bcrypt_lib.node\n  COPY Release/bcrypt_lib.node\n  COPY /app/node_modules/bcrypt/lib/binding/bcrypt_lib.node\n  TOUCH Release/obj.target/action_after_build.stamp\nmake: Leaving directory '/app/node_modules/bcrypt/build'\nadded 514 packages from 1212 contributors and audited 515 packages in 13.947s\nfound 46 vulnerabilities (1 low, 14 moderate, 23 high, 8 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 65a0e39de0bb\n ---> 5c859121d463\nStep 6/9 : COPY . .\n ---> b2a304aa4f9c\nStep 7/9 : RUN npm run-script build\n ---> Running in eb15ae20826a\n\n> snutt@2.3.3 build /app\n> tsc -p . && cp -R resources/* build/\n\nRemoving intermediate container eb15ae20826a\n ---> 2d242039c636\nStep 8/9 : CMD [\"npm\", \"start\"]\n ---> Running in 41267b34054a\nRemoving intermediate container 41267b34054a\n ---> 13b7616c6eab\nStep 9/9 : EXPOSE 3000\n ---> Running in 65e3c9116402\nRemoving intermediate container 65e3c9116402\n ---> d6ee07fc4c44\nSuccessfully built d6ee07fc4c44\nSuccessfully tagged snutt:latest\n","stderr":"","imageSize":464233523},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM node:8.15-alpine\nWORKDIR /app\nRUN apk add --no-cache g++ make python\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nRUN npm run-script build\nCMD [\"npm\", \"start\"]\n\nEXPOSE 3000\n"},"repairedBuild":{"startTimestamp":1672371944537,"endTimestamp":1672371995862,"error":null,"stdout":"Sending build context to Docker daemon  967.2kB\r\r\nStep 1/9 : FROM node:8.15-alpine\n ---> ee8b4f3c67fa\nStep 2/9 : WORKDIR /app\n ---> Running in cbd5873aee23\nRemoving intermediate container cbd5873aee23\n ---> cd9601e620d9\nStep 3/9 : RUN apk add --no-cache g++ make python\n ---> Running in 39d104fa0073\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/25) Upgrading musl (1.1.19-r10 -> 1.1.19-r11)\n(2/25) Installing binutils (2.30-r6)\n(3/25) Installing gmp (6.1.2-r1)\n(4/25) Installing isl (0.18-r0)\n(5/25) Installing libgomp (6.4.0-r9)\n(6/25) Installing libatomic (6.4.0-r9)\n(7/25) Installing pkgconf (1.5.3-r0)\n(8/25) Installing mpfr3 (3.1.5-r1)\n(9/25) Installing mpc1 (1.0.3-r1)\n(10/25) Installing gcc (6.4.0-r9)\n(11/25) Installing musl-dev (1.1.19-r11)\n(12/25) Installing libc-dev (0.7.1-r0)\n(13/25) Installing g++ (6.4.0-r9)\n(14/25) Upgrading musl-utils (1.1.19-r10 -> 1.1.19-r11)\n(15/25) Installing make (4.2.1-r2)\n(16/25) Installing libbz2 (1.0.6-r7)\n(17/25) Installing expat (2.2.8-r0)\n(18/25) Installing libffi (3.2.1-r4)\n(19/25) Installing gdbm (1.13-r1)\n(20/25) Installing ncurses-terminfo-base (6.1_p20180818-r1)\n(21/25) Installing ncurses-terminfo (6.1_p20180818-r1)\n(22/25) Installing ncurses-libs (6.1_p20180818-r1)\n(23/25) Installing readline (7.0.003-r0)\n(24/25) Installing sqlite-libs (3.25.3-r4)\n(25/25) Installing python2 (2.7.15-r3)\nExecuting busybox-1.28.4-r3.trigger\nOK: 207 MiB in 38 packages\nRemoving intermediate container 39d104fa0073\n ---> 50507271dc45\nStep 4/9 : COPY package*.json ./\n ---> 2e96eb20a011\nStep 5/9 : RUN npm install\n ---> Running in 78bb0947a7e6\n\n> bcrypt@2.0.1 install /app/node_modules/bcrypt\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp ERR! Tried to download(404): https://github.com/kelektiv/node.bcrypt.js/releases/download/v2.0.1/bcrypt_lib-v2.0.1-node-v57-linux-x64-musl.tar.gz \n\u001b[0m\u001b[91mnode-pre-gyp ERR!\u001b[0m\u001b[91m \u001b[0m\u001b[91mPre-built binaries not found for bcrypt@2.0.1 and node@8.15.1 (node-v57 ABI, musl) (falling back to source compile with node-gyp) \n\u001b[0mmake: Entering directory '/app/node_modules/bcrypt/build'\n  CXX(target) Release/obj.target/bcrypt_lib/src/blowfish.o\n  CXX(target) Release/obj.target/bcrypt_lib/src/bcrypt.o\n  CXX(target) Release/obj.target/bcrypt_lib/src/bcrypt_node.o\n  SOLINK_MODULE(target) Release/obj.target/bcrypt_lib.node\n  COPY Release/bcrypt_lib.node\n  COPY /app/node_modules/bcrypt/lib/binding/bcrypt_lib.node\n  TOUCH Release/obj.target/action_after_build.stamp\nmake: Leaving directory '/app/node_modules/bcrypt/build'\nadded 514 packages from 1212 contributors and audited 515 packages in 10.426s\nfound 46 vulnerabilities (1 low, 14 moderate, 23 high, 8 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 78bb0947a7e6\n ---> e913e180b065\nStep 6/9 : COPY . .\n ---> a6d95f01d1de\nStep 7/9 : RUN npm run-script build\n ---> Running in 2b4ad80e3141\n\n> snutt@2.3.3 build /app\n> tsc -p . && cp -R resources/* build/\n\nRemoving intermediate container 2b4ad80e3141\n ---> f3130055dde1\nStep 8/9 : CMD [\"npm\", \"start\"]\n ---> Running in 28cd60d8ae4b\nRemoving intermediate container 28cd60d8ae4b\n ---> 1b53572c44fb\nStep 9/9 : EXPOSE 3000\n ---> Running in 3ee0c543a76b\nRemoving intermediate container 3ee0c543a76b\n ---> 15dbf1f952c6\nSuccessfully built 15dbf1f952c6\nSuccessfully tagged snutt:latest\n","stderr":"","imageSize":462951284},"endTime":1672371996852}