{"repository":"https://github.com/kaiyuanshe/osschat","dockerfilePath":"Dockerfile","startTime":1672064537236,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kaiyuanshe/osschat'...\n","error":null,"commit":"57fc1fd2baa85d313252d7621b033cb146054aa7"},"originalBuild":{"startTimestamp":1672064538280,"endTimestamp":1672064682815,"error":null,"stdout":"Sending build context to Docker daemon  500.7kB\r\r\nStep 1/8 : FROM node:lts\nlts: Pulling from library/node\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n9537c7a3988e: Already exists\nfd36cab452a2: Pulling fs layer\n2d0da1e46288: Pulling fs layer\n1815baed2c16: Pulling fs layer\n1815baed2c16: Verifying Checksum\n1815baed2c16: Download complete\n2d0da1e46288: Verifying Checksum\n2d0da1e46288: Download complete\nfd36cab452a2: Verifying Checksum\nfd36cab452a2: Download complete\nfd36cab452a2: Pull complete\n2d0da1e46288: Pull complete\n1815baed2c16: Pull complete\nDigest: sha256:e9ad817b0d42b4d177a4bef8a0aff97c352468a008c3fdb2b4a82533425480df\nStatus: Downloaded newer image for node:lts\n ---> 7b2a09676e2c\nStep 2/8 : WORKDIR /app\n ---> Running in 3f99b70a0b90\nRemoving intermediate container 3f99b70a0b90\n ---> 3f1085865b51\nStep 3/8 : COPY package.json /app/\n ---> e3abd717f9f1\nStep 4/8 : RUN npm install\n ---> Running in 216c16096c41\n\u001b[91mnpm WARN deprecated raven@2.6.4: Please upgrade to @sentry/node. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated remotedev-serialize@0.1.9: Package moved to @redux-devtools/serialize.\n\u001b[0m\u001b[91mnpm WARN deprecated redux-devtools-instrument@1.10.0: Package moved to @redux-devtools/instrument.\n\u001b[0m\u001b[91mnpm WARN deprecated redux-devtools-core@0.2.1: Package moved to @redux-devtools/app.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-pretty@5.0.0: This is a stub types definition. pino-pretty provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-std-serializers@4.0.0: This is a stub types definition. pino-std-serializers provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@5.3.1: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 1424 packages, and audited 1587 packages in 2m\n\n146 packages are looking for funding\n  run `npm fund` for details\n\n26 vulnerabilities (15 moderate, 9 high, 2 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 216c16096c41\n ---> f81e0cf545f4\nStep 5/8 : COPY . /app\n ---> 13a824a3384d\nStep 6/8 : RUN npm run build\n ---> Running in cb8ba87c7c85\n\n> osschat@0.10.58 build\n> tsc && chmod +r ./node_modules/node-jq/bin/jq || true\n\nRemoving intermediate container cb8ba87c7c85\n ---> 309dbb0367ba\nStep 7/8 : ENV NODE_ENV=production\n ---> Running in fef5f316659b\nRemoving intermediate container fef5f316659b\n ---> a2c581b28d33\nStep 8/8 : CMD node /app/dist/bin/main.js\n ---> Running in aaf3205bb8c8\nRemoving intermediate container aaf3205bb8c8\n ---> e97ec8205890\nSuccessfully built e97ec8205890\nSuccessfully tagged osschat:latest\n","stderr":"","imageSize":1522806991},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:lts\n\nWORKDIR /app\n\nCOPY package.json /app/\n\nRUN npm install\n\nCOPY . /app\n\nRUN npm run build\n\nENV NODE_ENV=production\n\nCMD node /app/dist/bin/main.js\n"},"repairedBuild":{"startTimestamp":1672064684367,"endTimestamp":1672064847216,"error":null,"stdout":"Sending build context to Docker daemon  500.7kB\r\r\nStep 1/8 : FROM node:lts\n ---> 7b2a09676e2c\nStep 2/8 : WORKDIR /app\n ---> Running in 4cfda05ea462\nRemoving intermediate container 4cfda05ea462\n ---> f4135de918ee\nStep 3/8 : COPY package.json /app/\n ---> e4dcc6ba279f\nStep 4/8 : RUN npm install\n ---> Running in a9d166daabbb\n\u001b[91mnpm WARN deprecated raven@2.6.4: Please upgrade to @sentry/node. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated remotedev-serialize@0.1.9: Package moved to @redux-devtools/serialize.\n\u001b[0m\u001b[91mnpm WARN deprecated redux-devtools-core@0.2.1: Package moved to @redux-devtools/app.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-std-serializers@4.0.0: This is a stub types definition. pino-std-serializers provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-pretty@5.0.0: This is a stub types definition. pino-pretty provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated redux-devtools-instrument@1.10.0: Package moved to @redux-devtools/instrument.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@5.3.1: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\nadded 1424 packages, and audited 1587 packages in 1m\n\n146 packages are looking for funding\n  run `npm fund` for details\n\n26 vulnerabilities (15 moderate, 9 high, 2 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container a9d166daabbb\n ---> 5cad091553d0\nStep 5/8 : COPY . /app\n ---> e4fc755cda74\nStep 6/8 : RUN npm run build\n ---> Running in 69c0bcc0fa1c\n\n> osschat@0.10.58 build\n> tsc && chmod +r ./node_modules/node-jq/bin/jq || true\n\nRemoving intermediate container 69c0bcc0fa1c\n ---> 8c22e88cede1\nStep 7/8 : ENV NODE_ENV=production\n ---> Running in ae6e1415d31b\nRemoving intermediate container ae6e1415d31b\n ---> 1b745e318107\nStep 8/8 : CMD node /app/dist/bin/main.js\n ---> Running in 1d1d2afa4487\nRemoving intermediate container 1d1d2afa4487\n ---> d30baac5f50e\nSuccessfully built d30baac5f50e\nSuccessfully tagged osschat:latest\n","stderr":"","imageSize":1522806311},"endTime":1672064850322}