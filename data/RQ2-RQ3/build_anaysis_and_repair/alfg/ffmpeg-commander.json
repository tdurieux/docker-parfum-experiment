{"repository":"https://github.com/alfg/ffmpeg-commander","dockerfilePath":"Dockerfile","startTime":1672098635546,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/alfg/ffmpeg-commander'...\n","error":null,"commit":"d80927aee2bcac4176ff0e5e163f7070629ebb6d"},"originalBuild":{"startTimestamp":1672098636521,"endTimestamp":1672098774586,"error":null,"stdout":"Sending build context to Docker daemon  1.283MB\r\r\nStep 1/10 : FROM node:lts-alpine as build-stage\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/10 : WORKDIR /app\n ---> Running in 99979ceb2f54\nRemoving intermediate container 99979ceb2f54\n ---> e00bcea63950\nStep 3/10 : COPY package*.json ./\n ---> c6a833092f63\nStep 4/10 : RUN npm install\n ---> Running in 485535998bce\n\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN old lockfile HttpErrorGeneral: 404 Not Found - GET https://registry.npmjs.org/@vue%2fvue-loader-v15 - Not found\nnpm WARN old lockfile     at /usr/local/lib/node_modules/npm/node_modules/npm-registry-fetch/lib/check-response.js:95:15\nnpm WARN old lockfile     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nnpm WARN old lockfile     at async RegistryFetcher.packument (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:92:19)\nnpm\u001b[0m\u001b[91m WARN old lockfile     at async RegistryFetcher.manifest (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:124:23)\nnpm WARN old lockfile     at async Array.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/build-ideal-tree.js:738:24)\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mold lockfile  Could not fetch metadata for @vue/vue-loader-v15@15.10.0 HttpErrorGeneral: 404 Not Found - GET https://registry.npmjs.org/@vue%2fvue-loader-v15 - Not found\nnpm WARN old lockfile     at /usr/local/lib/node_modules/npm/node_modules/npm-registry-fetch/lib/check-response.js:95:15\nnpm WARN old lockfile     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n\u001b[0m\u001b[91mnpm WARN old lockfile     at async RegistryFetcher.packument (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:92:19)\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN old lockfile     at async RegistryFetcher.manifest (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:124:23)\nnpm\u001b[0m\u001b[91m WARN old lockfile     at async Array.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/build-ideal-tree.js:738:24) {\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m   headers: [Object: null prototype] {\nnpm WARN old lockfile     date: [ 'Mon, 26 Dec 2022 23:50:46 GMT' ],\nnpm WARN old lockfile\u001b[0m\u001b[91m     'content-type': [ 'application/json' ],\nnpm WARN old lockfile     'content-length': [ '21' ],\nnpm\u001b[0m\u001b[91m WARN old lockfile     connection: [ 'keep-alive' ],\nnpm WARN\u001b[0m\u001b[91m old lockfile     vary: [ 'Accept-Encoding' ],\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m old lockfile     server: [ 'cloudflare' ],\nnpm WARN old lockfile\u001b[0m\u001b[91m     'cf-ray': [ '77fdb87b797e95ee-ARN' ],\nnpm\u001b[0m\u001b[91m WARN old lockfile     'x-fetch-attempts': [ '1' ],\nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile     'x-local-cache-status': [ 'skip' ]\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mold lockfile   },\nnpm\u001b[0m\u001b[91m WARN old lockfile\u001b[0m\u001b[91m   statusCode: 404,\nnpm\u001b[0m\u001b[91m WARN old lockfile   code: 'E404',\nnpm WARN old lockfile   method: 'GET',\nnpm WARN old lockfile   uri: 'https://registry.npmjs.org/@vue%2fvue-loader-v15',\n\u001b[0m\u001b[91mnpm WARN old lockfile   body: { error: 'Not found' },\nnpm WARN old lockfile   pkgid: '@vue/vue-loader-v15@15.10.0'\nnpm WARN \u001b[0m\u001b[91mold lockfile }\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.20.0: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1920 packages, and audited 1921 packages in 28s\n\n135 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 high, 1 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 485535998bce\n ---> c69e9599224c\nStep 5/10 : COPY . .\n ---> 1d362f25b5b0\nStep 6/10 : RUN npm run build\n ---> Running in dc5a7eebcc66\n\n> ffmpeg-commander@0.9.0 build\n> vue-cli-service build\n\n\n\u001b[91m-  Building legacy bundle for production...\n\u001b[0m WARNING  Compiled with 2 warnings11:52:16 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.6a3eed3a.css (251 KiB)\n  js/chunk-vendors-legacy.90dfda92.js (580 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (847 KiB)\n      css/chunk-vendors.6a3eed3a.css\n      js/chunk-vendors-legacy.90dfda92.js\n      css/app.58b80012.css\n      js/app-legacy.3424158d.js\n\n\n  File                                      Size             Gzipped\n\n  dist/js/chunk-vendors-legacy.90dfda92.    579.72 KiB       159.57 KiB\n  js\n  dist/js/840-legacy.c7b38297.js            111.84 KiB       33.85 KiB\n  dist/js/app-legacy.3424158d.js            15.86 KiB        5.70 KiB\n  dist/css/chunk-vendors.6a3eed3a.css       250.62 KiB       33.89 KiB\n  dist/css/840.c8deb405.css                 1.27 KiB         0.59 KiB\n  dist/css/app.58b80012.css                 1.20 KiB         0.46 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:52:18.802Z - Hash: 20188607914f132b - Time: 18571ms\n\n\n\u001b[91m-  Building module bundle for production...\n\u001b[0m WARNING  Compiled with 2 warnings11:52:35 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.6a3eed3a.css (251 KiB)\n  js/chunk-vendors.f5f9061b.js (560 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (827 KiB)\n      css/chunk-vendors.6a3eed3a.css\n      js/chunk-vendors.f5f9061b.js\n      css/app.58b80012.css\n      js/app.80952af6.js\n\n\n  File                                   Size              Gzipped\n\n  dist/js/chunk-vendors.f5f9061b.js      559.57 KiB        152.10 KiB\n  dist/js/621.82a10be2.js                79.87 KiB         22.31 KiB\n  dist/js/app.80952af6.js                15.32 KiB         5.61 KiB\n  dist/css/chunk-vendors.6a3eed3a.css    250.62 KiB        33.89 KiB\n  dist/css/621.c8deb405.css              1.27 KiB          0.59 KiB\n  dist/css/app.58b80012.css              1.20 KiB          0.46 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:52:35.609Z - Hash: 56e15a5185d305c3 - Time: 14935ms\n\n DONE  Build complete. The dist directory is ready to be deployed.\n INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n       \nRemoving intermediate container dc5a7eebcc66\n ---> 6aed68fa1a76\nStep 7/10 : FROM nginx:stable-alpine as production-stage\nstable-alpine: Pulling from library/nginx\nca7dd9ec2225: Already exists\n33c6b9f4e775: Pulling fs layer\n41718ec56cb6: Pulling fs layer\n9a2b3c874906: Pulling fs layer\n71a3f979d23b: Pulling fs layer\na2f02aac7fab: Pulling fs layer\n71a3f979d23b: Waiting\na2f02aac7fab: Waiting\n9a2b3c874906: Verifying Checksum\n9a2b3c874906: Download complete\n41718ec56cb6: Download complete\n33c6b9f4e775: Verifying Checksum\n33c6b9f4e775: Download complete\n71a3f979d23b: Verifying Checksum\n71a3f979d23b: Download complete\na2f02aac7fab: Download complete\n33c6b9f4e775: Pull complete\n41718ec56cb6: Pull complete\n9a2b3c874906: Pull complete\n71a3f979d23b: Pull complete\na2f02aac7fab: Pull complete\nDigest: sha256:2366ede62d2e26a20f7ce7d0294694fe52b166107fd346894e4658dfb5273f9c\nStatus: Downloaded newer image for nginx:stable-alpine\n ---> c31fe73098ae\nStep 8/10 : COPY --from=build-stage /app/dist /usr/share/nginx/html/ffmpeg-commander\n ---> 6da05e95b749\nStep 9/10 : EXPOSE 80\n ---> Running in 834662ee5bbc\nRemoving intermediate container 834662ee5bbc\n ---> 48a5a057d571\nStep 10/10 : CMD [\"nginx\", \"-g\", \"daemon off;\"]\n ---> Running in 59ae06517c3c\nRemoving intermediate container 59ae06517c3c\n ---> a0316df19024\nSuccessfully built a0316df19024\nSuccessfully tagged ffmpeg-commander:latest\n","stderr":"","imageSize":32959627},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# build stage\nFROM node:lts-alpine as build-stage\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nRUN npm run build\n\n# production stage\nFROM nginx:stable-alpine as production-stage\nCOPY --from=build-stage /app/dist /usr/share/nginx/html/ffmpeg-commander\nEXPOSE 80\nCMD [\"nginx\", \"-g\", \"daemon off;\"]"},"repairedBuild":{"startTimestamp":1672098774873,"endTimestamp":1672098916243,"error":null,"stdout":"Sending build context to Docker daemon  1.283MB\r\r\nStep 1/10 : FROM node:lts-alpine as build-stage\n ---> 6d7b7852bcd3\nStep 2/10 : WORKDIR /app\n ---> Running in f843eaf1fc1f\nRemoving intermediate container f843eaf1fc1f\n ---> 68cbc676ecc3\nStep 3/10 : COPY package*.json ./\n ---> b3d0b0ca1d4e\nStep 4/10 : RUN npm install\n ---> Running in 76cc78e4b058\n\u001b[91mnpm WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm WARN\u001b[0m\u001b[91m old lockfile so supplemental metadata must be fetched from the registry.\nnpm\u001b[0m\u001b[91m WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN \u001b[0m\u001b[91mold lockfile \n\u001b[0m\u001b[91mnpm WARN old lockfile HttpErrorGeneral: 404 Not Found - GET https://registry.npmjs.org/@vue%2fvue-loader-v15 - Not found\nnpm WARN old lockfile     at /usr/local/lib/node_modules/npm/node_modules/npm-registry-fetch/lib/check-response.js:95:15\nnpm WARN old lockfile     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nnpm \u001b[0m\u001b[91mWARN old lockfile     at async RegistryFetcher.packument (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:92:19)\nnpm WARN old lockfile     at async RegistryFetcher.manifest (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:124:23)\nnpm WARN \u001b[0m\u001b[91mold lockfile     at async Array.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/build-ideal-tree.js:738:24)\nnpm WARN old lockfile  Could not fetch metadata for @vue/vue-loader-v15@15.10.0 HttpErrorGeneral: 404 Not Found - GET https://registry.npmjs.org/@vue%2fvue-loader-v15 - Not found\nnpm WARN old lockfile     at /usr/local/lib/node_modules/npm/node_modules/npm-registry-fetch/lib/check-response.js:95:15\nnpm WARN old lockfile\u001b[0m\u001b[91m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nnpm WARN old lockfile     at async RegistryFetcher.packument (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:92:19)\nnpm WARN old lockfile     at async RegistryFetcher.manifest (/usr/local/lib/node_modules/npm/node_modules/pacote/lib/registry.js:124:23)\n\u001b[0m\u001b[91mnpm WARN old lockfile     at async Array.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/build-ideal-tree.js:738:24) {\nnpm WARN \u001b[0m\u001b[91mold lockfile   headers: [Object: null prototype] {\n\u001b[0m\u001b[91mnpm WARN old lockfile\u001b[0m\u001b[91m     date: [ 'Mon, 26 Dec 2022 23:53:22 GMT' ],\nnpm \u001b[0m\u001b[91mWARN old lockfile     'content-type': [ 'application/json' ],\nnpm WARN old lockfile     'content-length': [ '21' ],\nnpm \u001b[0m\u001b[91mWARN old lockfile     connection: [ 'keep-alive' ],\nnpm WARN old lockfile     vary: [ 'Accept-Encoding' ],\nnpm WARN old lockfile     server: [ 'cloudflare' ],\nnpm \u001b[0m\u001b[91mWARN old lockfile     'cf-ray': [ '77fdbc489bf69900-ARN' ],\nnpm WARN\u001b[0m\u001b[91m old lockfile     'x-fetch-attempts': [ '1' ],\nnpm \u001b[0m\u001b[91mWARN old lockfile\u001b[0m\u001b[91m     'x-local-cache-status': [ 'skip' ]\nnpm WARN old lockfile   },\nnpm WARN old lockfile\u001b[0m\u001b[91m   statusCode: 404,\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mold lockfile   code: 'E404',\n\u001b[0m\u001b[91mnpm WARN old lockfile   method: 'GET',\nnpm WARN old lockfile   uri: 'https://registry.npmjs.org/@vue%2fvue-loader-v15',\n\u001b[0m\u001b[91mnpm WARN old lockfile   body: { error: 'Not found' },\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile   pkgid: '@vue/vue-loader-v15@15.10.0'\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m old lockfile }\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.20.0: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1920 packages, and audited 1921 packages in 33s\n\n135 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 high, 1 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 76cc78e4b058\n ---> d1d6ae78bf01\nStep 5/10 : COPY . .\n ---> 08cd1bb4b4e2\nStep 6/10 : RUN npm run build\n ---> Running in 0a62afeb0b95\n\n> ffmpeg-commander@0.9.0 build\n> vue-cli-service build\n\n\n\u001b[91m-  Building legacy bundle for production...\n\u001b[0m WARNING  Compiled with 2 warnings11:54:57 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.6a3eed3a.css (251 KiB)\n  js/chunk-vendors-legacy.90dfda92.js (580 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (847 KiB)\n      css/chunk-vendors.6a3eed3a.css\n      js/chunk-vendors-legacy.90dfda92.js\n      css/app.58b80012.css\n      js/app-legacy.3424158d.js\n\n\n  File                                      Size             Gzipped\n\n  dist/js/chunk-vendors-legacy.90dfda92.    579.72 KiB       159.57 KiB\n  js\n  dist/js/840-legacy.c7b38297.js            111.84 KiB       33.85 KiB\n  dist/js/app-legacy.3424158d.js            15.86 KiB        5.70 KiB\n  dist/css/chunk-vendors.6a3eed3a.css       250.62 KiB       33.89 KiB\n  dist/css/840.c8deb405.css                 1.27 KiB         0.59 KiB\n  dist/css/app.58b80012.css                 1.20 KiB         0.46 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:54:57.711Z - Hash: 20188607914f132b - Time: 18549ms\n\n\n\u001b[91m-  Building module bundle for production...\n\u001b[0m WARNING  Compiled with 2 warnings11:55:14 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.6a3eed3a.css (251 KiB)\n  js/chunk-vendors.f5f9061b.js (560 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (827 KiB)\n      css/chunk-vendors.6a3eed3a.css\n      js/chunk-vendors.f5f9061b.js\n      css/app.58b80012.css\n      js/app.80952af6.js\n\n\n  File                                   Size              Gzipped\n\n  dist/js/chunk-vendors.f5f9061b.js      559.57 KiB        152.10 KiB\n  dist/js/621.82a10be2.js                79.87 KiB         22.31 KiB\n  dist/js/app.80952af6.js                15.32 KiB         5.61 KiB\n  dist/css/chunk-vendors.6a3eed3a.css    250.62 KiB        33.89 KiB\n  dist/css/621.c8deb405.css              1.27 KiB          0.59 KiB\n  dist/css/app.58b80012.css              1.20 KiB          0.46 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:55:14.146Z - Hash: 56e15a5185d305c3 - Time: 14831ms\n\n DONE  Build complete. The dist directory is ready to be deployed.\n INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n       \nRemoving intermediate container 0a62afeb0b95\n ---> 36fa5dd9a0d6\nStep 7/10 : FROM nginx:stable-alpine as production-stage\n ---> c31fe73098ae\nStep 8/10 : COPY --from=build-stage /app/dist /usr/share/nginx/html/ffmpeg-commander\n ---> 96a36da1b878\nStep 9/10 : EXPOSE 80\n ---> Running in d2bc7beb4d4e\nRemoving intermediate container d2bc7beb4d4e\n ---> b2a127b6ad89\nStep 10/10 : CMD [\"nginx\", \"-g\", \"daemon off;\"]\n ---> Running in 89152f2982b7\nRemoving intermediate container 89152f2982b7\n ---> 56cad8af75a0\nSuccessfully built 56cad8af75a0\nSuccessfully tagged ffmpeg-commander:latest\n","stderr":"","imageSize":32959627},"endTime":1672098916643}