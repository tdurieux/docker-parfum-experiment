{"repository":"https://github.com/jack-gledhill/imago","dockerfilePath":"Dockerfile","startTime":1672970949003,"endTime":1672971010499,"clone":{"startTime":1672970949004,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jack-gledhill/imago'...\n","error":null,"endTime":1672970949855,"commit":"9739cf74d25baf20bc148ac959a431de3d9d984b"},"originalBuild":{"startTime":1672970949950,"endTime":1672970982520,"error":null,"stdout":"Sending build context to Docker daemon  969.7kB\r\r\nStep 1/7 : FROM python:3.7\n ---> 1f1a7b570f9e\nStep 2/7 : COPY . /opt/site\n ---> 38cfefd6fc68\nStep 3/7 : WORKDIR /opt/site\n ---> Running in 83a0116af7a3\nRemoving intermediate container 83a0116af7a3\n ---> 4003aa5f318e\nStep 4/7 : RUN apt-get install libopenjp2-7-dev\n ---> Running in 40d80ba8e0fc\nReading package lists...\nBuilding dependency tree...\nReading state information...\nlibopenjp2-7-dev is already the newest version (2.4.0-3).\nlibopenjp2-7-dev set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container 40d80ba8e0fc\n ---> 521f65bff744\nStep 5/7 : RUN python3 -m pip install -r requirements.txt\n ---> Running in 923cc99a049a\nCollecting attrdict\n  Downloading attrdict-2.0.1-py2.py3-none-any.whl (9.9 kB)\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 KB 9.7 MB/s eta 0:00:00\nCollecting gevent\n  Downloading gevent-22.10.2-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (6.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.0/6.0 MB 42.6 MB/s eta 0:00:00\nCollecting mistune==2.0.0a4\n  Downloading mistune-2.0.0a4-py2.py3-none-any.whl (21 kB)\nCollecting pillow\n  Downloading Pillow-9.4.0-cp37-cp37m-manylinux_2_28_x86_64.whl (3.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 57.1 MB/s eta 0:00:00\nCollecting Psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 KB 31.8 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pygments\n  Downloading Pygments-2.14.0-py3-none-any.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 42.9 MB/s eta 0:00:00\nCollecting pyfiglet\n  Downloading pyfiglet-0.8.post1-py2.py3-none-any.whl (865 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 865.8/865.8 KB 47.4 MB/s eta 0:00:00\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (596 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 596.3/596.3 KB 26.2 MB/s eta 0:00:00\nCollecting termcolor\n  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 KB 20.3 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 KB 14.5 MB/s eta 0:00:00\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 KB 7.7 MB/s eta 0:00:00\nCollecting zope.interface\n  Downloading zope.interface-5.5.2-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (254 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 254.2/254.2 KB 19.3 MB/s eta 0:00:00\nCollecting greenlet>=2.0.0\n  Downloading greenlet-2.0.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (514 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 514.4/514.4 KB 32.6 MB/s eta 0:00:00\nCollecting zope.event\n  Downloading zope.event-4.6-py2.py3-none-any.whl (6.8 kB)\nRequirement already satisfied: setuptools in /usr/local/lib/python3.7/site-packages (from gevent->-r requirements.txt (line 3)) (57.5.0)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nBuilding wheels for collected packages: Psycopg2\n  Building wheel for Psycopg2 (setup.py): started\n  Building wheel for Psycopg2 (setup.py): finished with status 'done'\n  Created wheel for Psycopg2: filename=psycopg2-2.9.5-cp37-cp37m-linux_x86_64.whl size=444798 sha256=d765fed524dcb26630e31d1349e8e5362e5878202165af794d5d4293aafd2804\n  Stored in directory: /root/.cache/pip/wheels/30/77/7e/778deea163626d27261621a5fc6905fe8b592f5dd8b7fa8ec5\nSuccessfully built Psycopg2\nInstalling collected packages: pyfiglet, mistune, zope.interface, zope.event, zipp, typing-extensions, termcolor, six, PyYAML, pygments, Psycopg2, pillow, MarkupSafe, itsdangerous, greenlet, Werkzeug, Jinja2, importlib-metadata, gevent, attrdict, click, flask\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 Psycopg2-2.9.5 PyYAML-6.0 Werkzeug-2.2.2 attrdict-2.0.1 click-8.1.3 flask-2.2.2 gevent-22.10.2 greenlet-2.0.1 importlib-metadata-6.0.0 itsdangerous-2.1.2 mistune-2.0.0a4 pillow-9.4.0 pyfiglet-0.8.post1 pygments-2.14.0 six-1.16.0 termcolor-2.2.0 typing-extensions-4.4.0 zipp-3.11.0 zope.event-4.6 zope.interface-5.5.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python3 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 923cc99a049a\n ---> 17b2ddf07f65\nStep 6/7 : WORKDIR /opt/site/website\n ---> Running in 06f79815a716\nRemoving intermediate container 06f79815a716\n ---> c1cec3a0ee24\nStep 7/7 : CMD [\"python3\", \"site.py\"]\n ---> Running in f1c9d83863db\nRemoving intermediate container f1c9d83863db\n ---> 5c9719d8dd9d\nSuccessfully built 5c9719d8dd9d\nSuccessfully tagged imago:latest\n","stderr":"","imageSize":987386916},"repair":{"startTime":1672970982590,"endTime":1672970982643,"violations":[{"name":"aptGetInstallUseY","position":{"start":6,"end":6,"columnStart":4,"columnEnd":36}},{"name":"aptGetInstallUseNoRec","position":{"start":6,"end":6,"columnStart":4,"columnEnd":36}},{"name":"aptGetUpdatePrecedesInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":36}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":6,"end":6,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM python:3.7\n\nCOPY . /opt/site\n\nWORKDIR /opt/site\n\nRUN apt-get install -y --no-install-recommends libopenjp2-7-dev && rm -rf /var/lib/apt/lists/*;\nRUN python3 -m pip install -r requirements.txt\n\nWORKDIR /opt/site/website\n\nCMD [\"python3\", \"site.py\"]"},"repairedBuild":{"startTime":1672970982885,"endTime":1672971010198,"error":null,"stdout":"Sending build context to Docker daemon  969.7kB\r\r\nStep 1/7 : FROM python:3.7\n ---> 1f1a7b570f9e\nStep 2/7 : COPY . /opt/site\n ---> e697ef55c305\nStep 3/7 : WORKDIR /opt/site\n ---> Running in e76aba377dbe\nRemoving intermediate container e76aba377dbe\n ---> 9f06107c72e6\nStep 4/7 : RUN apt-get install -y --no-install-recommends libopenjp2-7-dev && rm -rf /var/lib/apt/lists/*;\n ---> Running in 43be01bb0335\nReading package lists...\nBuilding dependency tree...\nReading state information...\nlibopenjp2-7-dev is already the newest version (2.4.0-3).\nlibopenjp2-7-dev set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container 43be01bb0335\n ---> dd57f356c7f2\nStep 5/7 : RUN python3 -m pip install -r requirements.txt\n ---> Running in 30c25c6585a0\nCollecting attrdict\n  Downloading attrdict-2.0.1-py2.py3-none-any.whl (9.9 kB)\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 KB 1.8 MB/s eta 0:00:00\nCollecting gevent\n  Downloading gevent-22.10.2-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (6.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.0/6.0 MB 40.5 MB/s eta 0:00:00\nCollecting mistune==2.0.0a4\n  Downloading mistune-2.0.0a4-py2.py3-none-any.whl (21 kB)\nCollecting pillow\n  Downloading Pillow-9.4.0-cp37-cp37m-manylinux_2_28_x86_64.whl (3.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 27.4 MB/s eta 0:00:00\nCollecting Psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 KB 32.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pygments\n  Downloading Pygments-2.14.0-py3-none-any.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 34.1 MB/s eta 0:00:00\nCollecting pyfiglet\n  Downloading pyfiglet-0.8.post1-py2.py3-none-any.whl (865 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 865.8/865.8 KB 49.9 MB/s eta 0:00:00\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (596 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 596.3/596.3 KB 40.6 MB/s eta 0:00:00\nCollecting termcolor\n  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 KB 25.9 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 KB 6.6 MB/s eta 0:00:00\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 KB 9.7 MB/s eta 0:00:00\nCollecting greenlet>=2.0.0\n  Downloading greenlet-2.0.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (514 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 514.4/514.4 KB 41.0 MB/s eta 0:00:00\nRequirement already satisfied: setuptools in /usr/local/lib/python3.7/site-packages (from gevent->-r requirements.txt (line 3)) (57.5.0)\nCollecting zope.event\n  Downloading zope.event-4.6-py2.py3-none-any.whl (6.8 kB)\nCollecting zope.interface\n  Downloading zope.interface-5.5.2-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (254 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 254.2/254.2 KB 25.1 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nBuilding wheels for collected packages: Psycopg2\n  Building wheel for Psycopg2 (setup.py): started\n  Building wheel for Psycopg2 (setup.py): finished with status 'done'\n  Created wheel for Psycopg2: filename=psycopg2-2.9.5-cp37-cp37m-linux_x86_64.whl size=444805 sha256=1e9aa12bed2208ce0e05261f62b03fffb95e179327e592b5d774dfa42e86ee8b\n  Stored in directory: /root/.cache/pip/wheels/30/77/7e/778deea163626d27261621a5fc6905fe8b592f5dd8b7fa8ec5\nSuccessfully built Psycopg2\nInstalling collected packages: pyfiglet, mistune, zope.interface, zope.event, zipp, typing-extensions, termcolor, six, PyYAML, pygments, Psycopg2, pillow, MarkupSafe, itsdangerous, greenlet, Werkzeug, Jinja2, importlib-metadata, gevent, attrdict, click, flask\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 Psycopg2-2.9.5 PyYAML-6.0 Werkzeug-2.2.2 attrdict-2.0.1 click-8.1.3 flask-2.2.2 gevent-22.10.2 greenlet-2.0.1 importlib-metadata-6.0.0 itsdangerous-2.1.2 mistune-2.0.0a4 pillow-9.4.0 pyfiglet-0.8.post1 pygments-2.14.0 six-1.16.0 termcolor-2.2.0 typing-extensions-4.4.0 zipp-3.11.0 zope.event-4.6 zope.interface-5.5.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python3 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 30c25c6585a0\n ---> 7fa2b2b37292\nStep 6/7 : WORKDIR /opt/site/website\n ---> Running in 948cb172aa3c\nRemoving intermediate container 948cb172aa3c\n ---> 2da4b7155dc0\nStep 7/7 : CMD [\"python3\", \"site.py\"]\n ---> Running in 93eb6d275fb7\nRemoving intermediate container 93eb6d275fb7\n ---> b1c66d3f0145\nSuccessfully built b1c66d3f0145\nSuccessfully tagged imago:latest\n","stderr":"","imageSize":987386985}}