{"repository":"https://github.com/clivern/rabbit","dockerfilePath":"Dockerfile","startTime":1672897789929,"endTime":1672897966502,"clone":{"startTime":1672897789930,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/clivern/rabbit'...\n","error":null,"endTime":1672897790804,"commit":"169230d3245a9787c7a8d7fc9e510f2131216350"},"originalBuild":{"startTime":1672897790898,"endTime":1672897887541,"error":null,"stdout":"Sending build context to Docker daemon  1.935MB\r\r\nStep 1/16 : FROM golang:1.16.6\n1.16.6: Pulling from library/golang\n627b765e08d1: Pulling fs layer\nc040670e5e55: Pulling fs layer\n073a180f4992: Pulling fs layer\nbf76209566d0: Pulling fs layer\n6182a456504b: Pulling fs layer\ncc29a4876382: Pulling fs layer\nff36ba465698: Pulling fs layer\ncc29a4876382: Waiting\n6182a456504b: Waiting\nff36ba465698: Waiting\nbf76209566d0: Waiting\n073a180f4992: Verifying Checksum\n073a180f4992: Download complete\nc040670e5e55: Verifying Checksum\nc040670e5e55: Download complete\n627b765e08d1: Download complete\n6182a456504b: Verifying Checksum\n6182a456504b: Download complete\nbf76209566d0: Verifying Checksum\nbf76209566d0: Download complete\nff36ba465698: Verifying Checksum\nff36ba465698: Download complete\ncc29a4876382: Verifying Checksum\ncc29a4876382: Download complete\n627b765e08d1: Pull complete\nc040670e5e55: Pull complete\n073a180f4992: Pull complete\nbf76209566d0: Pull complete\n6182a456504b: Pull complete\ncc29a4876382: Pull complete\nff36ba465698: Pull complete\nDigest: sha256:4544ae57fc735d7e415603d194d9fb09589b8ad7acd4d66e928eabfb1ed85ff1\nStatus: Downloaded newer image for golang:1.16.6\n ---> 028d102f774a\nStep 2/16 : ARG GORELEASER_VERSION=0.116.0\n ---> Running in ead74cd5436b\nRemoving intermediate container ead74cd5436b\n ---> 858d9b02fcbb\nStep 3/16 : ARG RABBIT_VERSION=2.0.1\n ---> Running in 334e4fa0470c\nRemoving intermediate container 334e4fa0470c\n ---> a4c8066bae32\nStep 4/16 : ENV GO111MODULE=on\n ---> Running in b19c85b18256\nRemoving intermediate container b19c85b18256\n ---> d4cf323e1ece\nStep 5/16 : RUN mkdir -p /app/configs   && mkdir -p /app/var/logs   && mkdir -p /app/var/build   && mkdir -p /app/var/releases   && curl -L -o /tmp/goreleaser.deb https://github.com/goreleaser/goreleaser/releases/download/v${GORELEASER_VERSION}/goreleaser_amd64.deb   && dpkg -i /tmp/goreleaser.deb   && rm -f /tmp/goreleaser.deb   && apt-get update   && apt-get install -y git   && rm -rf /var/lib/apt/lists/*\n ---> Running in d04044c6c0ed\n\u001b[91m  % Total    % Received % X\u001b[0m\u001b[91mferd  Avera\u001b[0m\u001b[91mge Speed   Time    Ti\u001b[0m\u001b[91mme \u001b[0m\u001b[91m    Time\u001b[0m\u001b[91m  Current\n                  \u001b[0m\u001b[91m     \u001b[0m\u001b[91m        \u001b[0m\u001b[91m  Dload  Upload\u001b[0m\u001b[91m   Total   Spent   \u001b[0m\u001b[91m Left  Speed\n\u001b[0m\u001b[91m\r  0     0    0   \u001b[0m\u001b[91m  0    0     \u001b[0m\u001b[91m0      0      0 --\u001b[0m\u001b[91m:--:-- --:--\u001b[0m\u001b[91m:-- --:--\u001b[0m\u001b[91m:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0    \u001b[0m\u001b[91m 0      0      0 --:-\u001b[0m\u001b[91m-:-- --:--:-- --:--\u001b[0m\u001b[91m:--     0\n\u001b[0m\u001b[91m\r  0 8295k    0 48572    0  \u001b[0m\u001b[91m   0  72821   \u001b[0m\u001b[91m   0  0:01:5\u001b[0m\u001b[91m6 --:--:--  0:0\u001b[0m\u001b[91m1:56 72821\u001b[0m\u001b[91m\r 49 8295k   49 4096k    0\u001b[0m\u001b[91m     0  2415k      0 \u001b[0m\u001b[91m 0:00:0\u001b[0m\u001b[91m3  0:00:01  0:\u001b[0m\u001b[91m00:02 3\u001b[0m\u001b[91m934k\u001b[0m\u001b[91m\r100 8295k  100 8295k    0    \u001b[0m\u001b[91m 0  4127k      0  0:00:02  0\u001b[0m\u001b[91m:00:0\u001b[0m\u001b[91m2 \u001b[0m\u001b[91m--:--\u001b[0m\u001b[91m:-\u001b[0m\u001b[91m- 6146k\n\u001b[0mSelecting previously unselected package goreleaser.\n(Reading database ... 15421 files and directories currently installed.)\nPreparing to unpack /tmp/goreleaser.deb ...\nUnpacking goreleaser (0.116.0) ...\nSetting up goreleaser (0.116.0) ...\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (5697 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-cvs git-mediawiki git-svn\nRecommended packages:\n  patch less\nThe following packages will be upgraded:\n  git\n1 upgraded, 0 newly installed, 0 to remove and 52 not upgraded.\nNeed to get 5634 kB of archives.\nAfter this operation, 33.8 kB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security buster/updates/main amd64 git amd64 1:2.20.1-2+deb10u6 [5634 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 5634 kB in 0s (84.3 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15424 files and directories currently installed.)\r\nPreparing to unpack .../git_1%3a2.20.1-2+deb10u6_amd64.deb ...\r\nUnpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2+deb10u3) ...\r\nSetting up git (1:2.20.1-2+deb10u6) ...\r\nRemoving intermediate container d04044c6c0ed\n ---> 7abbc2dd710e\nStep 6/16 : WORKDIR /app\n ---> Running in 3acd23c222b1\nRemoving intermediate container 3acd23c222b1\n ---> df46a132ce34\nStep 7/16 : RUN curl -sL https://github.com/Clivern/Rabbit/releases/download/${RABBIT_VERSION}/Rabbit_${RABBIT_VERSION}_Linux_x86_64.tar.gz | tar xz\n ---> Running in c0277768b45b\nRemoving intermediate container c0277768b45b\n ---> cff3db6a900a\nStep 8/16 : RUN rm LICENSE\n ---> Running in df8196d7d884\nRemoving intermediate container df8196d7d884\n ---> 5e62853a6914\nStep 9/16 : RUN rm README.md\n ---> Running in fb22207d61fc\nRemoving intermediate container fb22207d61fc\n ---> 79b6c46ab361\nStep 10/16 : RUN mv Rabbit rabbit\n ---> Running in f165aaa444eb\nRemoving intermediate container f165aaa444eb\n ---> 64707ef4fd2e\nStep 11/16 : COPY ./config.docker.yml /app/configs/\n ---> d0526e2b76a2\nStep 12/16 : EXPOSE 8080\n ---> Running in c6a85aad14df\nRemoving intermediate container c6a85aad14df\n ---> c4822d5a83ba\nStep 13/16 : VOLUME /app/configs\n ---> Running in 5fb07db0f3c9\nRemoving intermediate container 5fb07db0f3c9\n ---> fbcfdb968a2a\nStep 14/16 : VOLUME /app/var\n ---> Running in b21e9ff0a62d\nRemoving intermediate container b21e9ff0a62d\n ---> 8bb67e6317b3\nStep 15/16 : HEALTHCHECK --interval=5s --timeout=2s --retries=5 --start-period=2s   CMD ./rabbit --config /app/configs/config.docker.yml --exec health\n ---> Running in 428104dbbccc\nRemoving intermediate container 428104dbbccc\n ---> b6e55668b55b\nStep 16/16 : CMD [\"./rabbit\", \"--config\", \"/app/configs/config.docker.yml\"]\n ---> Running in 412c620db7a7\nRemoving intermediate container 412c620db7a7\n ---> 473799e09b54\nSuccessfully built 473799e09b54\nSuccessfully tagged rabbit:latest\n","stderr":"","imageSize":958213746},"repair":{"startTime":1672897887606,"endTime":1672897887715,"violations":[{"name":"curlUseFlagF","position":{"start":11,"end":11,"columnStart":5,"columnEnd":138}},{"name":"curlUseFlagF","position":{"start":20,"end":20,"columnStart":4,"columnEnd":127}},{"name":"aptGetInstallUseNoRec","position":{"start":15,"end":15,"columnStart":5,"columnEnd":27}}],"repairedDockerfile":"FROM golang:1.16.6\n\nARG GORELEASER_VERSION=0.116.0\nARG RABBIT_VERSION=2.0.1\n\nENV GO111MODULE=on\n\nRUN mkdir -p /app/configs \\\n  && mkdir -p /app/var/logs \\\n  && mkdir -p /app/var/build \\\n  && mkdir -p /app/var/releases \\\n  && curl -f -L -o /tmp/goreleaser.deb https://github.com/goreleaser/goreleaser/releases/download/v${GORELEASER_VERSION}/goreleaser_amd64.deb \\\n  && dpkg -i /tmp/goreleaser.deb \\\n  && rm -f /tmp/goreleaser.deb \\\n  && apt-get update \\\n  && apt-get install --no-install-recommends -y git \\\n  && rm -rf /var/lib/apt/lists/*\n\nWORKDIR /app\n\nRUN curl -f -sL https://github.com/Clivern/Rabbit/releases/download/${RABBIT_VERSION}/Rabbit_${RABBIT_VERSION}_Linux_x86_64.tar.gz | tar xz\nRUN rm LICENSE\nRUN rm README.md\nRUN mv Rabbit rabbit\n\nCOPY ./config.docker.yml /app/configs/\n\nEXPOSE 8080\n\nVOLUME /app/configs\nVOLUME /app/var\n\nHEALTHCHECK --interval=5s --timeout=2s --retries=5 --start-period=2s \\\n  CMD ./rabbit --config /app/configs/config.docker.yml --exec health\n\nCMD [\"./rabbit\", \"--config\", \"/app/configs/config.docker.yml\"]"},"repairedBuild":{"startTime":1672897887886,"endTime":1672897966190,"error":null,"stdout":"Sending build context to Docker daemon  1.935MB\r\r\nStep 1/16 : FROM golang:1.16.6\n ---> 028d102f774a\nStep 2/16 : ARG GORELEASER_VERSION=0.116.0\n ---> Running in be0efa62b767\nRemoving intermediate container be0efa62b767\n ---> c47098cda126\nStep 3/16 : ARG RABBIT_VERSION=2.0.1\n ---> Running in f00031c77c54\nRemoving intermediate container f00031c77c54\n ---> f63f1d477d70\nStep 4/16 : ENV GO111MODULE=on\n ---> Running in 73b5422ffad6\nRemoving intermediate container 73b5422ffad6\n ---> 9779b93e2c74\nStep 5/16 : RUN mkdir -p /app/configs   && mkdir -p /app/var/logs   && mkdir -p /app/var/build   && mkdir -p /app/var/releases   && curl -f -L -o /tmp/goreleaser.deb https://github.com/goreleaser/goreleaser/releases/download/v${GORELEASER_VERSION}/goreleaser_amd64.deb   && dpkg -i /tmp/goreleaser.deb   && rm -f /tmp/goreleaser.deb   && apt-get update   && apt-get install --no-install-recommends -y git   && rm -rf /var/lib/apt/lists/*\n ---> Running in e44e50b90c24\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent\u001b[0m\u001b[91m    Left  Speed\n\r \u001b[0m\u001b[91m 0     \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m 0     \u001b[0m\u001b[91m0    0     0\u001b[0m\u001b[91m      0      0 \u001b[0m\u001b[91m--:--:-\u001b[0m\u001b[91m- --:--:-\u001b[0m\u001b[91m- --:--:--     \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r  0     0    0     0    0   \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m   0      \u001b[0m\u001b[91m0 --:--:-- --:\u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m- --:--\u001b[0m\u001b[91m:--   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- \u001b[0m\u001b[91m--:--:-- --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m  \u001b[0m\u001b[91m   0\n\u001b[0m\u001b[91m\r100 8295k  100 8295k \u001b[0m\u001b[91m   0     0  18\u001b[0m\u001b[91m.1\u001b[0m\u001b[91mM \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:-- --:--:-- \u001b[0m\u001b[91m18.1\u001b[0m\u001b[91mM\n\u001b[0mSelecting previously unselected package goreleaser.\n(Reading database ... 15421 files and directories currently installed.)\nPreparing to unpack /tmp/goreleaser.deb ...\nUnpacking goreleaser (0.116.0) ...\nSetting up goreleaser (0.116.0) ...\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 3s (3019 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-cvs git-mediawiki git-svn\nRecommended packages:\n  patch less\nThe following packages will be upgraded:\n  git\n1 upgraded, 0 newly installed, 0 to remove and 52 not upgraded.\nNeed to get 5634 kB of archives.\nAfter this operation, 33.8 kB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security buster/updates/main amd64 git amd64 1:2.20.1-2+deb10u6 [5634 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 5634 kB in 0s (62.0 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15424 files and directories currently installed.)\r\nPreparing to unpack .../git_1%3a2.20.1-2+deb10u6_amd64.deb ...\r\nUnpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2+deb10u3) ...\r\nSetting up git (1:2.20.1-2+deb10u6) ...\r\nRemoving intermediate container e44e50b90c24\n ---> 9d1d1d9b5a82\nStep 6/16 : WORKDIR /app\n ---> Running in a04f989ad8f5\nRemoving intermediate container a04f989ad8f5\n ---> ac6d2aadb973\nStep 7/16 : RUN curl -f -sL https://github.com/Clivern/Rabbit/releases/download/${RABBIT_VERSION}/Rabbit_${RABBIT_VERSION}_Linux_x86_64.tar.gz | tar xz\n ---> Running in 09a1dec2cb55\nRemoving intermediate container 09a1dec2cb55\n ---> ef10df55447e\nStep 8/16 : RUN rm LICENSE\n ---> Running in 5bb7c42c9a01\nRemoving intermediate container 5bb7c42c9a01\n ---> c3d3103ec363\nStep 9/16 : RUN rm README.md\n ---> Running in f79833df3b0a\nRemoving intermediate container f79833df3b0a\n ---> 78e4a738d5a0\nStep 10/16 : RUN mv Rabbit rabbit\n ---> Running in c0d2ef3cf35f\nRemoving intermediate container c0d2ef3cf35f\n ---> 6c47773daa74\nStep 11/16 : COPY ./config.docker.yml /app/configs/\n ---> 2739f4099afe\nStep 12/16 : EXPOSE 8080\n ---> Running in b5248fdf19d7\nRemoving intermediate container b5248fdf19d7\n ---> 387fce3f55e0\nStep 13/16 : VOLUME /app/configs\n ---> Running in 5bd023d0916a\nRemoving intermediate container 5bd023d0916a\n ---> 382af0b6dc89\nStep 14/16 : VOLUME /app/var\n ---> Running in d683f76dda6b\nRemoving intermediate container d683f76dda6b\n ---> 770ff2e4d45d\nStep 15/16 : HEALTHCHECK --interval=5s --timeout=2s --retries=5 --start-period=2s   CMD ./rabbit --config /app/configs/config.docker.yml --exec health\n ---> Running in 032b536c3f8e\nRemoving intermediate container 032b536c3f8e\n ---> 08dc6f78db74\nStep 16/16 : CMD [\"./rabbit\", \"--config\", \"/app/configs/config.docker.yml\"]\n ---> Running in c75af3dbbcfd\nRemoving intermediate container c75af3dbbcfd\n ---> fe0aa177ad66\nSuccessfully built fe0aa177ad66\nSuccessfully tagged rabbit:latest\n","stderr":"","imageSize":958213770}}