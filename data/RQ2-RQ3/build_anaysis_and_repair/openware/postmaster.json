{"repository":"https://github.com/openware/postmaster","dockerfilePath":"Dockerfile","startTime":1672532421911,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/openware/postmaster'...\n","error":null,"commit":"3a797eca47113841d0a702ac52065b3838af144a"},"originalBuild":{"startTimestamp":1672532422723,"endTimestamp":1672532558880,"error":null,"stdout":"Sending build context to Docker daemon  296.4kB\r\r\nStep 1/16 : FROM golang:alpine AS build\nalpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\n3c6f08178a17: Verifying Checksum\n3c6f08178a17: Download complete\n019cfb932eb0: Verifying Checksum\n019cfb932eb0: Download complete\n019cfb932eb0: Pull complete\na3a161a37303: Verifying Checksum\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 2/16 : ENV GO111MODULE=on\n ---> Running in 00b92ac609ac\nRemoving intermediate container 00b92ac609ac\n ---> 60b9588bedc2\nStep 3/16 : WORKDIR /go/src/app\n ---> Running in 93b1f338d4a7\nRemoving intermediate container 93b1f338d4a7\n ---> 683783cb189c\nStep 4/16 : LABEL maintainer=\"github@shal.dev\"\n ---> Running in 4c9207ee5cf8\nRemoving intermediate container 4c9207ee5cf8\n ---> bd07f190ae4d\nStep 5/16 : RUN apk add bash ca-certificates git gcc g++ libc-dev\n ---> Running in 82695e54b66d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/24) Installing ncurses-libs (6.3_p20221119-r0)\n(3/24) Installing readline (8.2.0-r0)\n(4/24) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/24) Installing libgcc (12.2.1_git20220924-r4)\n(6/24) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/24) Installing binutils (2.39-r2)\n(9/24) Installing libgomp (12.2.1_git20220924-r4)\n(10/24) Installing libatomic (12.2.1_git20220924-r4)\n(11/24) Installing gmp (6.2.1-r2)\n(12/24) Installing isl25 (0.25-r0)\n(13/24) Installing mpfr4 (4.1.0-r0)\n(14/24) Installing mpc1 (1.2.1-r1)\n(15/24) Installing gcc (12.2.1_git20220924-r4)\n(16/24) Installing musl-dev (1.2.3-r4)\n(17/24) Installing libc-dev (0.7.2-r3)\n(18/24) Installing g++ (12.2.1_git20220924-r4)\n(19/24) Installing brotli-libs (1.0.9-r9)\n(20/24) Installing nghttp2-libs (1.51.0-r0)\n(21/24) Installing libcurl (7.87.0-r0)\n(22/24) Installing libexpat (2.5.0-r0)\n(23/24) Installing pcre2 (10.42-r0)\n(24/24) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 247 MiB in 40 packages\nRemoving intermediate container 82695e54b66d\n ---> 94ea0260552d\nStep 6/16 : COPY go.mod go.sum ./\n ---> 2cc8e7a38edb\nStep 7/16 : RUN go mod download\n ---> Running in 478708b6df09\nRemoving intermediate container 478708b6df09\n ---> 5fced9609b3a\nStep 8/16 : COPY . .\n ---> 9311331fa7e5\nStep 9/16 : RUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -o /go/bin/postmaster ./cmd/postmaster\n ---> Running in bc174f7681d4\nRemoving intermediate container bc174f7681d4\n ---> 6267f8cfd7ae\nStep 10/16 : FROM alpine\n ---> 49176f190c7e\nStep 11/16 : RUN apk update && apk add ca-certificates && rm -rf /var/cache/apk/*\n ---> Running in 8c61f157d8ba\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-308-g2898ecdd1a [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 8c61f157d8ba\n ---> c9c3e9b1f3d1\nStep 12/16 : WORKDIR /app\n ---> Running in 4e5c7429a921\nRemoving intermediate container 4e5c7429a921\n ---> ce6e2f011100\nStep 13/16 : COPY --from=build /go/bin/postmaster ./postmaster\n ---> f9b4b1be38b7\nStep 14/16 : COPY config/ config/\n ---> f611d30b2e12\nStep 15/16 : COPY templates/ templates/\n ---> 3e5cde0b10ac\nStep 16/16 : ENTRYPOINT [\"./postmaster\", \"-config\", \"config/postmaster.yml\"]\n ---> Running in cdbe6d8039d2\nRemoving intermediate container cdbe6d8039d2\n ---> 024890b1d72f\nSuccessfully built 024890b1d72f\nSuccessfully tagged postmaster:latest\n","stderr":"","imageSize":19470718},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":53}},{"name":"apkAddUseNoCache","position":{"start":19,"end":19,"columnStart":18,"columnEnd":41}}],"repairedDockerfile":"FROM golang:alpine AS build\n\nENV GO111MODULE=on\n\nWORKDIR /go/src/app\n\nLABEL maintainer=\"github@shal.dev\"\n\nRUN apk add --no-cache bash ca-certificates git gcc g++ libc-dev\n\nCOPY go.mod go.sum ./\nRUN go mod download\n\nCOPY . .\n\nRUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -o /go/bin/postmaster ./cmd/postmaster\n\nFROM alpine\n\nRUN apk update && apk add --no-cache ca-certificates && rm -rf /var/cache/apk/*\n\nWORKDIR /app\n\nCOPY --from=build /go/bin/postmaster ./postmaster\nCOPY config/ config/\nCOPY templates/ templates/\n\nENTRYPOINT [\"./postmaster\", \"-config\", \"config/postmaster.yml\"]\n"},"repairedBuild":{"startTimestamp":1672532559452,"endTimestamp":1672532625304,"error":null,"stdout":"Sending build context to Docker daemon  296.4kB\r\r\nStep 1/16 : FROM golang:alpine AS build\n ---> cae57157ceaa\nStep 2/16 : ENV GO111MODULE=on\n ---> Running in 1f3bfc1409b9\nRemoving intermediate container 1f3bfc1409b9\n ---> 95ab3c732c11\nStep 3/16 : WORKDIR /go/src/app\n ---> Running in fc695cc882f5\nRemoving intermediate container fc695cc882f5\n ---> ab05fb983743\nStep 4/16 : LABEL maintainer=\"github@shal.dev\"\n ---> Running in 4f867e313024\nRemoving intermediate container 4f867e313024\n ---> f2781cd8b194\nStep 5/16 : RUN apk add --no-cache bash ca-certificates git gcc g++ libc-dev\n ---> Running in 158ea523a581\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/24) Installing ncurses-libs (6.3_p20221119-r0)\n(3/24) Installing readline (8.2.0-r0)\n(4/24) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/24) Installing libgcc (12.2.1_git20220924-r4)\n(6/24) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/24) Installing binutils (2.39-r2)\n(9/24) Installing libgomp (12.2.1_git20220924-r4)\n(10/24) Installing libatomic (12.2.1_git20220924-r4)\n(11/24) Installing gmp (6.2.1-r2)\n(12/24) Installing isl25 (0.25-r0)\n(13/24) Installing mpfr4 (4.1.0-r0)\n(14/24) Installing mpc1 (1.2.1-r1)\n(15/24) Installing gcc (12.2.1_git20220924-r4)\n(16/24) Installing musl-dev (1.2.3-r4)\n(17/24) Installing libc-dev (0.7.2-r3)\n(18/24) Installing g++ (12.2.1_git20220924-r4)\n(19/24) Installing brotli-libs (1.0.9-r9)\n(20/24) Installing nghttp2-libs (1.51.0-r0)\n(21/24) Installing libcurl (7.87.0-r0)\n(22/24) Installing libexpat (2.5.0-r0)\n(23/24) Installing pcre2 (10.42-r0)\n(24/24) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 247 MiB in 40 packages\nRemoving intermediate container 158ea523a581\n ---> 4344d11b6119\nStep 6/16 : COPY go.mod go.sum ./\n ---> d0e462622587\nStep 7/16 : RUN go mod download\n ---> Running in 707d65532698\nRemoving intermediate container 707d65532698\n ---> e809753508a4\nStep 8/16 : COPY . .\n ---> f74780ce8cce\nStep 9/16 : RUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -o /go/bin/postmaster ./cmd/postmaster\n ---> Running in d5d33cd83293\nRemoving intermediate container d5d33cd83293\n ---> f284fd86eeaf\nStep 10/16 : FROM alpine\n ---> 49176f190c7e\nStep 11/16 : RUN apk update && apk add --no-cache ca-certificates && rm -rf /var/cache/apk/*\n ---> Running in 006993bb7dec\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-308-g2898ecdd1a [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 006993bb7dec\n ---> b7c5fc7fa2d7\nStep 12/16 : WORKDIR /app\n ---> Running in cf86427abee8\nRemoving intermediate container cf86427abee8\n ---> 9ef0bde3752a\nStep 13/16 : COPY --from=build /go/bin/postmaster ./postmaster\n ---> 0e7123bf3d33\nStep 14/16 : COPY config/ config/\n ---> 9ff263ac8bfb\nStep 15/16 : COPY templates/ templates/\n ---> fe85e0342c95\nStep 16/16 : ENTRYPOINT [\"./postmaster\", \"-config\", \"config/postmaster.yml\"]\n ---> Running in 6662d3d6e787\nRemoving intermediate container 6662d3d6e787\n ---> f7287766c55d\nSuccessfully built f7287766c55d\nSuccessfully tagged postmaster:latest\n","stderr":"","imageSize":19470718},"endTime":1672532625837}