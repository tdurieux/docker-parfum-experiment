{"repository":"https://github.com/camelaissani/loca","dockerfilePath":"Dockerfile","startTime":1672435844412,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/camelaissani/loca'...\n","error":null,"commit":"6bfe02a92582d61464e035e3f791c0400c457552"},"originalBuild":{"startTimestamp":1672435845351,"endTimestamp":1672436003816,"error":null,"stdout":"Sending build context to Docker daemon  2.476MB\r\r\nStep 1/16 : FROM node:14-stretch\n14-stretch: Pulling from library/node\n8372a04f222b: Pulling fs layer\na1728fee80d3: Pulling fs layer\ne6cf50aa0a4b: Pulling fs layer\nf576518faec8: Pulling fs layer\nc64b5c196fad: Pulling fs layer\n440e02ff4d62: Pulling fs layer\n39a3a8b41acb: Pulling fs layer\n2c5d92203230: Pulling fs layer\nbc0432bb8ab9: Pulling fs layer\nf576518faec8: Waiting\nc64b5c196fad: Waiting\n440e02ff4d62: Waiting\n2c5d92203230: Waiting\n39a3a8b41acb: Waiting\ne6cf50aa0a4b: Verifying Checksum\ne6cf50aa0a4b: Download complete\na1728fee80d3: Verifying Checksum\na1728fee80d3: Download complete\n8372a04f222b: Verifying Checksum\n8372a04f222b: Download complete\n440e02ff4d62: Verifying Checksum\n440e02ff4d62: Download complete\nf576518faec8: Verifying Checksum\nf576518faec8: Download complete\n39a3a8b41acb: Verifying Checksum\n39a3a8b41acb: Download complete\n2c5d92203230: Verifying Checksum\n2c5d92203230: Download complete\nbc0432bb8ab9: Verifying Checksum\nbc0432bb8ab9: Download complete\n8372a04f222b: Pull complete\na1728fee80d3: Pull complete\ne6cf50aa0a4b: Pull complete\nc64b5c196fad: Verifying Checksum\nc64b5c196fad: Download complete\nf576518faec8: Pull complete\nc64b5c196fad: Pull complete\n440e02ff4d62: Pull complete\n39a3a8b41acb: Pull complete\n2c5d92203230: Pull complete\nbc0432bb8ab9: Pull complete\nDigest: sha256:ce156f9b2e9dbe73139cf0619a71188960e6c9eaba0ff832a5dfa0febf9eee27\nStatus: Downloaded newer image for node:14-stretch\n ---> 4953f0f1a2a0\nStep 2/16 : RUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5\n ---> Running in 87fbd795ae95\n\u001b[91mWarning: apt-key output should not be parsed (stdout is not a terminal)\n\u001b[0mExecuting: /tmp/apt-key-gpghome.rMU0g2jIIj/gpg.1.sh --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5\n\u001b[91mgpg: key 58712A2291FA4AD5: public key \"MongoDB 3.6 Release Signing Key <packaging@mongodb.com>\" imported\n\u001b[0m\u001b[91mgpg: Total number processed: 1\ngpg:               imported: 1\n\u001b[0mRemoving intermediate container 87fbd795ae95\n ---> 67d714dc0685\nStep 3/16 : RUN echo \"deb http://repo.mongodb.org/apt/debian stretch/mongodb-org/3.6 main\" | tee /etc/apt/sources.list.d/mongodb-org-3.6.list\n ---> Running in ed5159bcccc7\ndeb http://repo.mongodb.org/apt/debian stretch/mongodb-org/3.6 main\nRemoving intermediate container ed5159bcccc7\n ---> 0deccd759cb8\nStep 4/16 : RUN apt-get update -qq &&     apt-get upgrade -qqy &&     apt-get install -qqy mongodb-org-tools\n ---> Running in 175a69e04e59\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0m(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../libsystemd0_232-25+deb9u14_amd64.deb ...\r\nUnpacking libsystemd0:amd64 (232-25+deb9u14) over (232-25+deb9u13) ...\r\nSetting up libsystemd0:amd64 (232-25+deb9u14) ...\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../libudev1_232-25+deb9u14_amd64.deb ...\r\nUnpacking libudev1:amd64 (232-25+deb9u14) over (232-25+deb9u13) ...\r\nSetting up libudev1:amd64 (232-25+deb9u14) ...\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../linux-libc-dev_4.9.320-2_amd64.deb ...\r\nUnpacking linux-libc-dev:amd64 (4.9.320-2) over (4.9.303-1) ...\r\nSetting up linux-libc-dev:amd64 (4.9.320-2) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package mongodb-org-tools.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../mongodb-org-tools_3.6.23_amd64.deb ...\r\nUnpacking mongodb-org-tools (3.6.23) ...\r\nSetting up mongodb-org-tools (3.6.23) ...\r\nRemoving intermediate container 175a69e04e59\n ---> 4bed3233c1ad\nStep 5/16 : WORKDIR /usr/app\n ---> Running in 1e7d8dfa1c89\nRemoving intermediate container 1e7d8dfa1c89\n ---> da4d32e7398c\nStep 6/16 : COPY backend backend\n ---> 1cfca5c6409f\nStep 7/16 : COPY bkp/demodb bkp/demodb\n ---> e2e8ce38ae4f\nStep 8/16 : COPY config config\n ---> 30233d7b954b\nStep 9/16 : COPY frontend frontend\n ---> 69b11856d0cf\nStep 10/16 : COPY scripts scripts\n ---> 28f9c71f74bc\nStep 11/16 : COPY LICENSE .\n ---> 7cf8fd0894e9\nStep 12/16 : COPY package.json .\n ---> 86bec63db9b1\nStep 13/16 : COPY package-lock.json .\n ---> efa6f7bfbe2c\nStep 14/16 : COPY server.js .\n ---> 407b613782ef\nStep 15/16 : RUN npm set progress=false &&     npm config set depth 0 &&     npm install forever -g --silent  &&     npm ci &&     npm run buildprod &&     NODE_ENV=production npm prune\n ---> Running in e1190888874c\n/usr/local/bin/forever -> /usr/local/lib/node_modules/forever/bin/forever\n+ forever@4.0.3\nadded 278 packages from 182 contributors in 17.43s\n\n> fsevents@1.2.13 install /usr/app/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> ejs@2.7.4 postinstall /usr/app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\n> nodemon@2.0.3 postinstall /usr/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\n> pngquant-bin@5.0.2 postinstall /usr/app/node_modules/pngquant-bin\n> node lib/install.js\n\n\u001b[91m  ✔ pngquant pre-build test passed successfully\n\u001b[0m\n> mozjpeg@6.0.1 postinstall /usr/app/node_modules/mozjpeg\n> node lib/install.js\n\n\u001b[91m  ✔ mozjpeg pre-build test passed successfully\n\u001b[0m\u001b[91mnpm WARN lifecycle loca@0.1.0~prepare: cannot run in wd loca@0.1.0 husky install (wd=/usr/app)\n\u001b[0madded 1422 packages in 13.224s\n\n> loca@0.1.0 buildprod /usr/app\n> NODE_ENV=production node scripts/build.js\n\nfiles built\nremoved 1081 packages and audited 336 packages in 5.774s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 32 vulnerabilities (2 low, 5 moderate, 19 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container e1190888874c\n ---> 5dfe39dcfaa3\nStep 16/16 : CMD forever ./server.js\n ---> Running in c5e3f909974f\nRemoving intermediate container c5e3f909974f\n ---> b136a3bc62b0\nSuccessfully built b136a3bc62b0\nSuccessfully tagged loca:latest\n","stderr":"","imageSize":1280032078},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":21,"end":21,"columnStart":4,"columnEnd":35}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":6,"end":6,"columnStart":4,"columnEnd":42}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":6,"end":6,"columnStart":4,"columnEnd":42}}],"repairedDockerfile":"FROM node:14-stretch\n\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5\nRUN echo \"deb http://repo.mongodb.org/apt/debian stretch/mongodb-org/3.6 main\" | tee /etc/apt/sources.list.d/mongodb-org-3.6.list\nRUN apt-get update -qq && \\\n    apt-get upgrade -qqy && \\\n    apt-get install --no-install-recommends -qqy mongodb-org-tools\n\nWORKDIR /usr/app\nCOPY backend backend\nCOPY bkp/demodb bkp/demodb\nCOPY config config\nCOPY frontend frontend\nCOPY scripts scripts\nCOPY LICENSE .\nCOPY package.json .\nCOPY package-lock.json .\nCOPY server.js .\n\nRUN npm set progress=false && \\\n    npm config set depth 0 && \\\n    npm install forever -g --silent  && \\\n    npm ci && \\\n    npm run buildprod && \\\n    NODE_ENV=production npm prune\n\nCMD forever ./server.js\n"},"repairedBuild":{"startTimestamp":1672436004593,"endTimestamp":1672436102913,"error":null,"stdout":"Sending build context to Docker daemon  2.476MB\r\r\nStep 1/16 : FROM node:14-stretch\n ---> 4953f0f1a2a0\nStep 2/16 : RUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5\n ---> Running in 940f73222e08\n\u001b[91mWarning: apt-key output should not be parsed (stdout is not a terminal)\n\u001b[0mExecuting: /tmp/apt-key-gpghome.MA7YrnHZkY/gpg.1.sh --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5\n\u001b[91mgpg: key 58712A2291FA4AD5: public key \"MongoDB 3.6 Release Signing Key <packaging@mongodb.com>\" imported\n\u001b[0m\u001b[91mgpg: Total number processed: 1\ngpg:               imported: 1\n\u001b[0mRemoving intermediate container 940f73222e08\n ---> aff03c4e5555\nStep 3/16 : RUN echo \"deb http://repo.mongodb.org/apt/debian stretch/mongodb-org/3.6 main\" | tee /etc/apt/sources.list.d/mongodb-org-3.6.list\n ---> Running in f046a353c6c9\ndeb http://repo.mongodb.org/apt/debian stretch/mongodb-org/3.6 main\nRemoving intermediate container f046a353c6c9\n ---> 8ede5d5d0c14\nStep 4/16 : RUN apt-get update -qq &&     apt-get upgrade -qqy &&     apt-get install --no-install-recommends -qqy mongodb-org-tools\n ---> Running in 7731ec9dd536\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0m(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../libsystemd0_232-25+deb9u14_amd64.deb ...\r\nUnpacking libsystemd0:amd64 (232-25+deb9u14) over (232-25+deb9u13) ...\r\nSetting up libsystemd0:amd64 (232-25+deb9u14) ...\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../libudev1_232-25+deb9u14_amd64.deb ...\r\nUnpacking libudev1:amd64 (232-25+deb9u14) over (232-25+deb9u13) ...\r\nSetting up libudev1:amd64 (232-25+deb9u14) ...\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../linux-libc-dev_4.9.320-2_amd64.deb ...\r\nUnpacking linux-libc-dev:amd64 (4.9.320-2) over (4.9.303-1) ...\r\nSetting up linux-libc-dev:amd64 (4.9.320-2) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package mongodb-org-tools.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../mongodb-org-tools_3.6.23_amd64.deb ...\r\nUnpacking mongodb-org-tools (3.6.23) ...\r\nSetting up mongodb-org-tools (3.6.23) ...\r\nRemoving intermediate container 7731ec9dd536\n ---> daafc56ef1e1\nStep 5/16 : WORKDIR /usr/app\n ---> Running in a567081f770d\nRemoving intermediate container a567081f770d\n ---> 83b83998f7ef\nStep 6/16 : COPY backend backend\n ---> 37578351c28b\nStep 7/16 : COPY bkp/demodb bkp/demodb\n ---> 50c8841d7eb0\nStep 8/16 : COPY config config\n ---> 3efb8a77e329\nStep 9/16 : COPY frontend frontend\n ---> eebec80c4831\nStep 10/16 : COPY scripts scripts\n ---> 54708dadc741\nStep 11/16 : COPY LICENSE .\n ---> 4db5f1f6d073\nStep 12/16 : COPY package.json .\n ---> b003c2813fd5\nStep 13/16 : COPY package-lock.json .\n ---> b5ac1e817c72\nStep 14/16 : COPY server.js .\n ---> 64ae488a9c5b\nStep 15/16 : RUN npm set progress=false &&     npm config set depth 0 &&     npm install forever -g --silent  &&     npm ci &&     npm run buildprod &&     NODE_ENV=production npm prune\n ---> Running in 852ce468c508\n/usr/local/bin/forever -> /usr/local/lib/node_modules/forever/bin/forever\n+ forever@4.0.3\nadded 278 packages from 182 contributors in 23.14s\n\n> fsevents@1.2.13 install /usr/app/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> ejs@2.7.4 postinstall /usr/app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\n> nodemon@2.0.3 postinstall /usr/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\n> pngquant-bin@5.0.2 postinstall /usr/app/node_modules/pngquant-bin\n> node lib/install.js\n\n\u001b[91m  ✔ pngquant pre-build test passed successfully\n\u001b[0m\n> mozjpeg@6.0.1 postinstall /usr/app/node_modules/mozjpeg\n> node lib/install.js\n\n\u001b[91m  ✔ mozjpeg pre-build test passed successfully\n\u001b[0m\u001b[91mnpm WARN lifecycle loca@0.1.0~prepare: cannot run in wd loca@0.1.0 husky install (wd=/usr/app)\n\u001b[0madded 1422 packages in 11.402s\n\n> loca@0.1.0 buildprod /usr/app\n> NODE_ENV=production node scripts/build.js\n\nfiles built\nremoved 1081 packages and audited 336 packages in 6.363s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 32 vulnerabilities (2 low, 5 moderate, 19 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 852ce468c508\n ---> b7e312c8dada\nStep 16/16 : CMD forever ./server.js\n ---> Running in aaf856ca0439\nRemoving intermediate container aaf856ca0439\n ---> c5c1d1f2a0db\nSuccessfully built c5c1d1f2a0db\nSuccessfully tagged loca:latest\n","stderr":"","imageSize":1280038178},"endTime":1672436103535}