{"repository":"https://github.com/dpla/dpla-frontend","dockerfilePath":"Dockerfile","startTime":1672491056096,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dpla/dpla-frontend'...\n","error":null,"commit":"71f2acebdf5193aaa868bb9fe328398ab2f3ff53"},"originalBuild":{"startTimestamp":1672491059104,"endTimestamp":1672491138106,"error":null,"stdout":"Sending build context to Docker daemon  43.67MB\r\r\nStep 1/7 : FROM node:fermium-bullseye-slim\nfermium-bullseye-slim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Already exists\n23394834e03e: Pulling fs layer\n9a2ca1f07850: Pulling fs layer\ndcaa853b1db5: Pulling fs layer\n9a2ca1f07850: Verifying Checksum\n9a2ca1f07850: Download complete\ndcaa853b1db5: Verifying Checksum\ndcaa853b1db5: Download complete\n23394834e03e: Verifying Checksum\n23394834e03e: Download complete\n23394834e03e: Pull complete\n9a2ca1f07850: Pull complete\ndcaa853b1db5: Pull complete\nDigest: sha256:c8dc832420c714fa7352bb18897bf78714b31e32f181163df4631dff27eb0699\nStatus: Downloaded newer image for node:fermium-bullseye-slim\n ---> 4cabec0d1ee8\nStep 2/7 : RUN apt update && apt install -y tini\n ---> Running in 19302d4bfc29\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5108 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  tini\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 255 kB of archives.\nAfter this operation, 776 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 tini amd64 0.19.0-1 [255 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 255 kB in 0s (7261 kB/s)\nSelecting previously unselected package tini.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../tini_0.19.0-1_amd64.deb ...\r\nUnpacking tini (0.19.0-1) ...\r\nSetting up tini (0.19.0-1) ...\r\nRemoving intermediate container 19302d4bfc29\n ---> 39d8f98f2bf7\nStep 3/7 : WORKDIR /opt/dpla-frontend\n ---> Running in ba6a600fd855\nRemoving intermediate container ba6a600fd855\n ---> 4dbb0fca9090\nStep 4/7 : COPY . /opt/dpla-frontend\n ---> 7dbe1b27fc9c\nStep 5/7 : EXPOSE 3000\n ---> Running in ad3b5fa06ce9\nRemoving intermediate container ad3b5fa06ce9\n ---> 8d8024f523eb\nStep 6/7 : ENTRYPOINT [\"/usr/bin/tini\", \"--\"]\n ---> Running in 1548d29e56f6\nRemoving intermediate container 1548d29e56f6\n ---> 503a60e94235\nStep 7/7 : CMD [\"yarn\", \"run\", \"start\"]\n ---> Running in 51d648ee22c2\nRemoving intermediate container 51d648ee22c2\n ---> 4c3e4655319b\nSuccessfully built 4c3e4655319b\nSuccessfully tagged dpla-frontend:latest\n","stderr":"","imageSize":258894107},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":6,"end":6,"columnStart":18,"columnEnd":37}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":6,"end":6,"columnStart":18,"columnEnd":37}}],"repairedDockerfile":"# Dockerfile to build an image of the dpla-frontend application\n#\n# Expect that `yarn build` has already been run.\n\n\nFROM node:fermium-bullseye-slim\nRUN apt update && apt install --no-install-recommends -y tini\nWORKDIR /opt/dpla-frontend\nCOPY . /opt/dpla-frontend\nEXPOSE 3000\nENTRYPOINT [\"/usr/bin/tini\", \"--\"]\nCMD [\"yarn\", \"run\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672491142524,"endTimestamp":1672491168746,"error":null,"stdout":"Sending build context to Docker daemon  43.67MB\r\r\nStep 1/7 : FROM node:fermium-bullseye-slim\n ---> 4cabec0d1ee8\nStep 2/7 : RUN apt update && apt install --no-install-recommends -y tini\n ---> Running in 5108a9a2d414\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6275 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  tini\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 255 kB of archives.\nAfter this operation, 776 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 tini amd64 0.19.0-1 [255 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 255 kB in 0s (16.7 MB/s)\nSelecting previously unselected package tini.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../tini_0.19.0-1_amd64.deb ...\r\nUnpacking tini (0.19.0-1) ...\r\nSetting up tini (0.19.0-1) ...\r\nRemoving intermediate container 5108a9a2d414\n ---> 414ab7b6b36b\nStep 3/7 : WORKDIR /opt/dpla-frontend\n ---> Running in 7b75bf3c1067\nRemoving intermediate container 7b75bf3c1067\n ---> 2ff6f79841b3\nStep 4/7 : COPY . /opt/dpla-frontend\n ---> 445794127bc9\nStep 5/7 : EXPOSE 3000\n ---> Running in fe067c7c7098\nRemoving intermediate container fe067c7c7098\n ---> 8902b2a156b3\nStep 6/7 : ENTRYPOINT [\"/usr/bin/tini\", \"--\"]\n ---> Running in 8b4ac71618c1\nRemoving intermediate container 8b4ac71618c1\n ---> 8eb14a1b0132\nStep 7/7 : CMD [\"yarn\", \"run\", \"start\"]\n ---> Running in fee901a6685f\nRemoving intermediate container fee901a6685f\n ---> 6dbc24543623\nSuccessfully built 6dbc24543623\nSuccessfully tagged dpla-frontend:latest\n","stderr":"","imageSize":258894155},"endTime":1672491169105}