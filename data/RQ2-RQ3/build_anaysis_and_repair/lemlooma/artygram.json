{"repository":"https://github.com/lemlooma/artygram","dockerfilePath":"Dockerfile","startTime":1672917381339,"endTime":1672917966543,"clone":{"startTime":1672917381339,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lemlooma/artygram'...\n","error":null,"endTime":1672917382332,"commit":"510b046aa763904e910f6aa259da084d6e0f61e4"},"originalBuild":{"startTime":1672917382415,"endTime":1672917704133,"error":null,"stdout":"Sending build context to Docker daemon  3.839MB\r\r\nStep 1/17 : FROM node:12 AS build-stage\n12: Pulling from library/node\nf5196cdf2518: Pulling fs layer\n9bed1e86f01e: Pulling fs layer\nf44e4bdb3a6c: Pulling fs layer\n2f75d131f406: Pulling fs layer\n07dff4ad21eb: Pulling fs layer\ne0ac4f13b766: Pulling fs layer\ndf2c3b2eb7cc: Pulling fs layer\nefe636eac583: Pulling fs layer\nfe17849545bb: Pulling fs layer\n07dff4ad21eb: Waiting\nfe17849545bb: Waiting\nefe636eac583: Waiting\n2f75d131f406: Waiting\ndf2c3b2eb7cc: Waiting\ne0ac4f13b766: Waiting\nf44e4bdb3a6c: Download complete\n9bed1e86f01e: Verifying Checksum\n9bed1e86f01e: Download complete\nf5196cdf2518: Verifying Checksum\nf5196cdf2518: Download complete\n2f75d131f406: Verifying Checksum\n2f75d131f406: Download complete\ne0ac4f13b766: Verifying Checksum\ne0ac4f13b766: Download complete\nefe636eac583: Verifying Checksum\nefe636eac583: Download complete\ndf2c3b2eb7cc: Verifying Checksum\ndf2c3b2eb7cc: Download complete\nfe17849545bb: Verifying Checksum\nfe17849545bb: Download complete\n07dff4ad21eb: Verifying Checksum\n07dff4ad21eb: Download complete\nf5196cdf2518: Pull complete\n9bed1e86f01e: Pull complete\nf44e4bdb3a6c: Pull complete\n2f75d131f406: Pull complete\n07dff4ad21eb: Pull complete\ne0ac4f13b766: Pull complete\ndf2c3b2eb7cc: Pull complete\nefe636eac583: Pull complete\nfe17849545bb: Pull complete\nDigest: sha256:01627afeb110b3054ba4a1405541ca095c8bfca1cb6f2be9479c767a2711879e\nStatus: Downloaded newer image for node:12\n ---> 6c8de432fc7f\nStep 2/17 : WORKDIR /react-app\n ---> Running in 5aff845c904c\nRemoving intermediate container 5aff845c904c\n ---> 91dd2b53e7c7\nStep 3/17 : COPY react-app/. .\n ---> e6086c03f6c4\nStep 4/17 : ENV REACT_APP_BASE_URL=https://artygram.herokuapp.com\n ---> Running in 35849fe43c57\nRemoving intermediate container 35849fe43c57\n ---> 711593db3ea1\nStep 5/17 : RUN npm install\n ---> Running in dfaf73b34fc8\n\u001b[91mnpm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> tsparticles@1.35.1 install /react-app/node_modules/tsparticles\n> node ./scripts/install.js\n\nThank you for installing tsParticles.\nRemember to checkout the official website https://particles.js.org to explore some samples.\nYou can find more samples on CodePen too: https://codepen.io/collection/DPOage\nIf you need documentation you can find it here: https://particles.js.org\nRemember to leave a star on the tsParticles repository if you like the project and want to support it: https://github.com/matteobruni/tsparticles\n\u001b[91m\u001b[43m\u001b[30mFound React installed. Please download react-tsparticles to use tsParticles with a component ready to use and easier to configure.\u001b[0m\n\u001b[0mYou can read more about the component here: https://github.com/matteobruni/tsparticles/blob/main/components/react/README.md\n\n> core-js@2.6.12 postinstall /react-app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.18.0 postinstall /react-app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.18.0 postinstall /react-app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ejs@2.7.4 postinstall /react-app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1929 packages from 828 contributors and audited 1936 packages in 32.678s\n\n152 packages are looking for funding\n  run `npm fund` for details\n\nfound 120 vulnerabilities (16 low, 12 moderate, 67 high, 25 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container dfaf73b34fc8\n ---> cadb08405f3e\nStep 6/17 : RUN npm run build\n ---> Running in 8a4f36a969b9\n\n> react-app@0.1.0 build /react-app\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled with warnings.\n\nsrc/components/Homepage/index.js\n  Line 37:6:  React Hook useEffect has a missing dependency: 'user.id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/NavBar.js\n  Line 59:198:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n  Line 59:250:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\nsrc/components/PostDetails/index.js\n  Line 54:9:  'handleComment' is assigned a value but never used  no-unused-vars\n\nsrc/components/PostForm/index.js\n  Line 9:18:  'setErrors' is assigned a value but never used  no-unused-vars\n\nsrc/components/UserProfile/User.js\n  Line 46:6:    React Hook useEffect has a missing dependency: 'loggedInUser.id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n  Line 71:196:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images           jsx-a11y/alt-text\n  Line 71:250:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images           jsx-a11y/alt-text\n\nsrc/store/session.js\n  Line 26:7:  'getFollowing' is assigned a value but never used  no-unused-vars\n\nsrc/store/user.js\n  Line 4:7:  'getFollowing' is assigned a value but never used  no-unused-vars\n\nSearch for the keywords to learn more about each warning.\nTo ignore, add // eslint-disable-next-line to the line before.\n\nFile sizes after gzip:\n\n  112.99 KB  build/static/js/2.b2747dbc.chunk.js\n  5.31 KB    build/static/js/main.c4a1566e.chunk.js\n  2.35 KB    build/static/css/main.3042bb5a.chunk.css\n  774 B      build/static/js/runtime-main.3e33dec6.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 8a4f36a969b9\n ---> 80b55bae47cd\nStep 7/17 : FROM python:3.9\n3.9: Pulling from library/python\nDigest: sha256:b8ddeb68904299c09a39aff59d4a713862253b137fdd7ace3a3b7ba0391971b1\nStatus: Downloaded newer image for python:3.9\n ---> 68cf04410baf\nStep 8/17 : ENV FLASK_APP=app\n ---> Running in e246505a0698\nRemoving intermediate container e246505a0698\n ---> a40ad736173c\nStep 9/17 : ENV FLASK_ENV=production\n ---> Running in 395fb56a7d42\nRemoving intermediate container 395fb56a7d42\n ---> 4071465afd2d\nStep 10/17 : ENV SQLALCHEMY_ECHO=True\n ---> Running in 099c503c11c5\nRemoving intermediate container 099c503c11c5\n ---> 26c85f27b9d8\nStep 11/17 : EXPOSE 8000\n ---> Running in 91d7f6fd3ac2\nRemoving intermediate container 91d7f6fd3ac2\n ---> 5843c97bb3a4\nStep 12/17 : WORKDIR /var/www\n ---> Running in b054edbf1b0a\nRemoving intermediate container b054edbf1b0a\n ---> d9d0186d82f7\nStep 13/17 : COPY . .\n ---> 23b098ba065f\nStep 14/17 : COPY --from=build-stage /react-app/build/* app/static/\n ---> 0b1f4d2f080c\nStep 15/17 : RUN pip install -r requirements.txt\n ---> Running in e9c8e2dff598\nCollecting alembic==1.6.5\n  Downloading alembic-1.6.5-py2.py3-none-any.whl (164 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.7/164.7 KB 7.9 MB/s eta 0:00:00\nCollecting click==7.1.2\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 KB 3.2 MB/s eta 0:00:00\nCollecting flask-cors==3.0.8\n  Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\nCollecting flask-login==0.5.0\n  Downloading Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)\nCollecting flask-migrate==3.0.1\n  Downloading Flask_Migrate-3.0.1-py2.py3-none-any.whl (12 kB)\nCollecting flask-sqlalchemy==2.5.1\n  Downloading Flask_SQLAlchemy-2.5.1-py2.py3-none-any.whl (17 kB)\nCollecting flask-wtf==0.15.1\n  Downloading Flask_WTF-0.15.1-py2.py3-none-any.whl (13 kB)\nCollecting flask==2.0.1\n  Downloading Flask-2.0.1-py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.8/94.8 KB 2.8 MB/s eta 0:00:00\nCollecting greenlet==1.1.0\n  Downloading greenlet-1.1.0-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (162 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 162.2/162.2 KB 1.6 MB/s eta 0:00:00\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 KB 2.6 MB/s eta 0:00:00\nCollecting itsdangerous==2.0.1\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting jinja2==3.0.1\n  Downloading Jinja2-3.0.1-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.7/133.7 KB 678.3 kB/s eta 0:00:00\nCollecting mako==1.1.4\n  Downloading Mako-1.1.4-py2.py3-none-any.whl (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.7/75.7 KB 899.6 kB/s eta 0:00:00\nCollecting markupsafe==2.0.1\n  Downloading MarkupSafe-2.0.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 7.1 MB/s eta 0:00:00\nCollecting python-dotenv==0.14.0\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\nCollecting python-editor==1.0.4\n  Downloading python_editor-1.0.4-py3-none-any.whl (4.9 kB)\nCollecting six==1.15.0\n  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)\nCollecting sqlalchemy==1.4.19\n  Downloading SQLAlchemy-1.4.19-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 33.0 MB/s eta 0:00:00\nCollecting werkzeug==2.0.1\n  Downloading Werkzeug-2.0.1-py3-none-any.whl (288 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 288.2/288.2 KB 8.4 MB/s eta 0:00:00\nCollecting wtforms==2.3.3\n  Downloading WTForms-2.3.3-py2.py3-none-any.whl (169 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 169.1/169.1 KB 639.9 kB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.9/site-packages (from gunicorn==20.1.0->-r requirements.txt (line 18)) (58.1.0)\nInstalling collected packages: python-editor, python-dotenv, werkzeug, six, markupsafe, itsdangerous, gunicorn, greenlet, click, wtforms, sqlalchemy, python-dateutil, mako, jinja2, flask, alembic, flask-wtf, flask-sqlalchemy, flask-login, flask-cors, flask-migrate\nSuccessfully installed alembic-1.6.5 click-7.1.2 flask-2.0.1 flask-cors-3.0.8 flask-login-0.5.0 flask-migrate-3.0.1 flask-sqlalchemy-2.5.1 flask-wtf-0.15.1 greenlet-1.1.0 gunicorn-20.1.0 itsdangerous-2.0.1 jinja2-3.0.1 mako-1.1.4 markupsafe-2.0.1 python-dateutil-2.8.1 python-dotenv-0.14.0 python-editor-1.0.4 six-1.15.0 sqlalchemy-1.4.19 werkzeug-2.0.1 wtforms-2.3.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e9c8e2dff598\n ---> 511a5803f9fd\nStep 16/17 : RUN pip install psycopg2\n ---> Running in 9d4f4609a3e1\nCollecting psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 KB 3.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.5-cp39-cp39-linux_x86_64.whl size=472069 sha256=466199134c61ae40c5ec6e7caf0d1a90d2b13ff2548ad1c0b060a895eab8908b\n  Stored in directory: /root/.cache/pip/wheels/37/c1/ad/4ee49165718dff2c018c9830204ef8e749afdce7919f078586\nSuccessfully built psycopg2\nInstalling collected packages: psycopg2\nSuccessfully installed psycopg2-2.9.5\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 9d4f4609a3e1\n ---> d8ad0efc125a\nStep 17/17 : CMD gunicorn app:app\n ---> Running in b8d9da246ba8\nRemoving intermediate container b8d9da246ba8\n ---> 02388d8624a6\nSuccessfully built 02388d8624a6\nSuccessfully tagged artygram:latest\n","stderr":"","imageSize":954791823},"repair":{"startTime":1672917704192,"endTime":1672917704261,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"pipUseNoCacheDir","position":{"start":26,"end":26,"columnStart":4,"columnEnd":35}},{"name":"pipUseNoCacheDir","position":{"start":27,"end":27,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"FROM node:12 AS build-stage\n\nWORKDIR /react-app\nCOPY react-app/. .\n\n# You have to set this because it should be set during build time.\nENV REACT_APP_BASE_URL=https://artygram.herokuapp.com\n\n# Build our React App\nRUN npm install && npm cache clean --force;\nRUN npm run build\n\nFROM python:3.9\n\n# Setup Flask environment\nENV FLASK_APP=app\nENV FLASK_ENV=production\nENV SQLALCHEMY_ECHO=True\n\nEXPOSE 8000\n\nWORKDIR /var/www\nCOPY . .\nCOPY --from=build-stage /react-app/build/* app/static/\n\n# Install Python Dependencies\nRUN pip install --no-cache-dir -r requirements.txt\nRUN pip install --no-cache-dir psycopg2\n\n# Run flask environment\nCMD gunicorn app:app\n"},"repairedBuild":{"startTime":1672917706661,"endTime":1672917964138,"error":null,"stdout":"Sending build context to Docker daemon  3.839MB\r\r\nStep 1/17 : FROM node:12 AS build-stage\n ---> 6c8de432fc7f\nStep 2/17 : WORKDIR /react-app\n ---> Running in d051fccb0e45\nRemoving intermediate container d051fccb0e45\n ---> 841cdbb75243\nStep 3/17 : COPY react-app/. .\n ---> 02d468ce267a\nStep 4/17 : ENV REACT_APP_BASE_URL=https://artygram.herokuapp.com\n ---> Running in 88e6ee80433d\nRemoving intermediate container 88e6ee80433d\n ---> 4281e5f9937f\nStep 5/17 : RUN npm install && npm cache clean --force;\n ---> Running in f04f7ec36794\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> tsparticles@1.35.1 install /react-app/node_modules/tsparticles\n> node ./scripts/install.js\n\nThank you for installing tsParticles.\nRemember to checkout the official website https://particles.js.org to explore some samples.\nYou can find more samples on CodePen too: https://codepen.io/collection/DPOage\nIf you need documentation you can find it here: https://particles.js.org\nRemember to leave a star on the tsParticles repository if you like the project and want to support it: https://github.com/matteobruni/tsparticles\n\u001b[91m\u001b[43m\u001b[30mFound React installed. Please download react-tsparticles to use tsParticles with a component ready to use and easier to configure.\u001b[0m\n\u001b[0mYou can read more about the component here: https://github.com/matteobruni/tsparticles/blob/main/components/react/README.md\n\n> core-js@2.6.12 postinstall /react-app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.18.0 postinstall /react-app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.18.0 postinstall /react-app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ejs@2.7.4 postinstall /react-app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1929 packages from 828 contributors and audited 1936 packages in 31.818s\n\n152 packages are looking for funding\n  run `npm fund` for details\n\nfound 120 vulnerabilities (16 low, 12 moderate, 67 high, 25 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container f04f7ec36794\n ---> b1a0361055c1\nStep 6/17 : RUN npm run build\n ---> Running in 4fae89012ba1\n\n> react-app@0.1.0 build /react-app\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled with warnings.\n\nsrc/components/Homepage/index.js\n  Line 37:6:  React Hook useEffect has a missing dependency: 'user.id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/NavBar.js\n  Line 59:198:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n  Line 59:250:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\nsrc/components/PostDetails/index.js\n  Line 54:9:  'handleComment' is assigned a value but never used  no-unused-vars\n\nsrc/components/PostForm/index.js\n  Line 9:18:  'setErrors' is assigned a value but never used  no-unused-vars\n\nsrc/components/UserProfile/User.js\n  Line 46:6:    React Hook useEffect has a missing dependency: 'loggedInUser.id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n  Line 71:196:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images           jsx-a11y/alt-text\n  Line 71:250:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images           jsx-a11y/alt-text\n\nsrc/store/session.js\n  Line 26:7:  'getFollowing' is assigned a value but never used  no-unused-vars\n\nsrc/store/user.js\n  Line 4:7:  'getFollowing' is assigned a value but never used  no-unused-vars\n\nSearch for the keywords to learn more about each warning.\nTo ignore, add // eslint-disable-next-line to the line before.\n\nFile sizes after gzip:\n\n  112.99 KB  build/static/js/2.b2747dbc.chunk.js\n  5.31 KB    build/static/js/main.c4a1566e.chunk.js\n  2.35 KB    build/static/css/main.3042bb5a.chunk.css\n  774 B      build/static/js/runtime-main.3e33dec6.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 4fae89012ba1\n ---> 79822e6d2188\nStep 7/17 : FROM python:3.9\n ---> 68cf04410baf\nStep 8/17 : ENV FLASK_APP=app\n ---> Running in 12ba07a73e74\nRemoving intermediate container 12ba07a73e74\n ---> c5d551b6161b\nStep 9/17 : ENV FLASK_ENV=production\n ---> Running in ded05675ffbb\nRemoving intermediate container ded05675ffbb\n ---> 57318c99cb53\nStep 10/17 : ENV SQLALCHEMY_ECHO=True\n ---> Running in 3578e04f8cf5\nRemoving intermediate container 3578e04f8cf5\n ---> bc90a1d4e51c\nStep 11/17 : EXPOSE 8000\n ---> Running in 4f249e527bca\nRemoving intermediate container 4f249e527bca\n ---> 607b3a593eb7\nStep 12/17 : WORKDIR /var/www\n ---> Running in 8f26dcc48747\nRemoving intermediate container 8f26dcc48747\n ---> 3b8d144a879a\nStep 13/17 : COPY . .\n ---> c9f74cb60e71\nStep 14/17 : COPY --from=build-stage /react-app/build/* app/static/\n ---> 911e9f9c9494\nStep 15/17 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in a3aaaffb759e\nCollecting alembic==1.6.5\n  Downloading alembic-1.6.5-py2.py3-none-any.whl (164 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.7/164.7 KB 59.9 MB/s eta 0:00:00\nCollecting click==7.1.2\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 KB 225.8 MB/s eta 0:00:00\nCollecting flask-cors==3.0.8\n  Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\nCollecting flask-login==0.5.0\n  Downloading Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)\nCollecting flask-migrate==3.0.1\n  Downloading Flask_Migrate-3.0.1-py2.py3-none-any.whl (12 kB)\nCollecting flask-sqlalchemy==2.5.1\n  Downloading Flask_SQLAlchemy-2.5.1-py2.py3-none-any.whl (17 kB)\nCollecting flask-wtf==0.15.1\n  Downloading Flask_WTF-0.15.1-py2.py3-none-any.whl (13 kB)\nCollecting flask==2.0.1\n  Downloading Flask-2.0.1-py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.8/94.8 KB 270.8 MB/s eta 0:00:00\nCollecting greenlet==1.1.0\n  Downloading greenlet-1.1.0-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (162 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 162.2/162.2 KB 277.0 MB/s eta 0:00:00\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 KB 260.4 MB/s eta 0:00:00\nCollecting itsdangerous==2.0.1\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting jinja2==3.0.1\n  Downloading Jinja2-3.0.1-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.7/133.7 KB 292.1 MB/s eta 0:00:00\nCollecting mako==1.1.4\n  Downloading Mako-1.1.4-py2.py3-none-any.whl (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.7/75.7 KB 272.8 MB/s eta 0:00:00\nCollecting markupsafe==2.0.1\n  Downloading MarkupSafe-2.0.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 201.4 MB/s eta 0:00:00\nCollecting python-dotenv==0.14.0\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\nCollecting python-editor==1.0.4\n  Downloading python_editor-1.0.4-py3-none-any.whl (4.9 kB)\nCollecting six==1.15.0\n  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)\nCollecting sqlalchemy==1.4.19\n  Downloading SQLAlchemy-1.4.19-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 126.6 MB/s eta 0:00:00\nCollecting werkzeug==2.0.1\n  Downloading Werkzeug-2.0.1-py3-none-any.whl (288 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 288.2/288.2 KB 200.8 MB/s eta 0:00:00\nCollecting wtforms==2.3.3\n  Downloading WTForms-2.3.3-py2.py3-none-any.whl (169 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 169.1/169.1 KB 291.3 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.9/site-packages (from gunicorn==20.1.0->-r requirements.txt (line 18)) (58.1.0)\nInstalling collected packages: python-editor, python-dotenv, werkzeug, six, markupsafe, itsdangerous, gunicorn, greenlet, click, wtforms, sqlalchemy, python-dateutil, mako, jinja2, flask, alembic, flask-wtf, flask-sqlalchemy, flask-login, flask-cors, flask-migrate\nSuccessfully installed alembic-1.6.5 click-7.1.2 flask-2.0.1 flask-cors-3.0.8 flask-login-0.5.0 flask-migrate-3.0.1 flask-sqlalchemy-2.5.1 flask-wtf-0.15.1 greenlet-1.1.0 gunicorn-20.1.0 itsdangerous-2.0.1 jinja2-3.0.1 mako-1.1.4 markupsafe-2.0.1 python-dateutil-2.8.1 python-dotenv-0.14.0 python-editor-1.0.4 six-1.15.0 sqlalchemy-1.4.19 werkzeug-2.0.1 wtforms-2.3.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container a3aaaffb759e\n ---> c0e51294f9eb\nStep 16/17 : RUN pip install --no-cache-dir psycopg2\n ---> Running in 80f82e8be9ff\nCollecting psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 KB 48.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.5-cp39-cp39-linux_x86_64.whl size=472076 sha256=71643d001a86485675746f2a8abd5cd5e4cb266c639837451671aad2cd352114\n  Stored in directory: /tmp/pip-ephem-wheel-cache-i1cpv7jv/wheels/37/c1/ad/4ee49165718dff2c018c9830204ef8e749afdce7919f078586\nSuccessfully built psycopg2\nInstalling collected packages: psycopg2\nSuccessfully installed psycopg2-2.9.5\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 80f82e8be9ff\n ---> 637e570dad92\nStep 17/17 : CMD gunicorn app:app\n ---> Running in f7f8f6cdd6ee\nRemoving intermediate container f7f8f6cdd6ee\n ---> 8ad6e6f526ab\nSuccessfully built 8ad6e6f526ab\nSuccessfully tagged artygram:latest\n","stderr":"","imageSize":950134003}}