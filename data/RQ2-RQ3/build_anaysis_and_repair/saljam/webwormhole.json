{"repository":"https://github.com/saljam/webwormhole","dockerfilePath":"Dockerfile","startTime":1673009681668,"endTime":1673010440098,"clone":{"startTime":1673009681669,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/saljam/webwormhole'...\n","error":null,"endTime":1673009682434,"commit":"2f6839e133a41258549f50fcabd488d7eee4a0a6"},"originalBuild":{"startTime":1673009682538,"endTime":1673010097525,"error":null,"stdout":"Sending build context to Docker daemon  633.3kB\r\r\nStep 1/17 : FROM node:slim as jsbuild\nslim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Pulling fs layer\na3241ece5841: Pulling fs layer\nf897be510228: Pulling fs layer\n23e2f216e824: Pulling fs layer\n00fde01815c9: Download complete\nf897be510228: Download complete\n23e2f216e824: Download complete\na3241ece5841: Verifying Checksum\na3241ece5841: Download complete\n00fde01815c9: Pull complete\na3241ece5841: Pull complete\nf897be510228: Pull complete\n23e2f216e824: Pull complete\nDigest: sha256:d6f1d4b0ba2b51f1ea448a27ae31f499ddfcef60cc51f899264a8e8be22e2d0b\nStatus: Downloaded newer image for node:slim\n ---> f07cbc4cdcb8\nStep 2/17 : RUN npm install -g typescript prettier\n ---> Running in 91aaaff033b3\n\nadded 2 packages in 2s\n\n1 package is looking for funding\n  run `npm fund` for details\nRemoving intermediate container 91aaaff033b3\n ---> c2598ef67990\nStep 3/17 : WORKDIR /src\n ---> Running in b5820fd0c4a5\nRemoving intermediate container b5820fd0c4a5\n ---> fef3b67193b8\nStep 4/17 : FROM golang:alpine as gobuild\nalpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 5/17 : WORKDIR /src\n ---> Running in 2bcec3a970e7\nRemoving intermediate container 2bcec3a970e7\n ---> 650ee65b45f3\nStep 6/17 : COPY go.mod go.sum ./\n ---> 08bee1a9040a\nStep 7/17 : RUN go mod download\n ---> Running in d9900872b6c6\nRemoving intermediate container d9900872b6c6\n ---> 16ec1033cc58\nStep 8/17 : COPY . /src\n ---> 2cf5064d1f3f\nStep 9/17 : RUN GOOS=js GOARCH=wasm go build -o ./web/webwormhole.wasm ./web\n ---> Running in 2a124f0f22d3\nRemoving intermediate container 2a124f0f22d3\n ---> e8516d823580\nStep 10/17 : RUN cp $(go env GOROOT)/misc/wasm/wasm_exec.js ./web/wasm_exec.js\n ---> Running in cb0ee765631a\nRemoving intermediate container cb0ee765631a\n ---> 0ccd57464a81\nStep 11/17 : RUN go build ./cmd/ww\n ---> Running in 37d3b3e0d77f\nRemoving intermediate container 37d3b3e0d77f\n ---> dd24efac7910\nStep 12/17 : FROM alpine:latest\nlatest: Pulling from library/alpine\nc158987b0551: Already exists\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 13/17 : RUN apk --no-cache add ca-certificates\n ---> Running in 609a34fbc3fd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 609a34fbc3fd\n ---> 82483d6dcdd2\nStep 14/17 : COPY --from=gobuild /src/ww /bin\n ---> 6e94f929f9c3\nStep 15/17 : COPY --from=gobuild /src/web /web\n ---> e6ef7d47d0e2\nStep 16/17 : WORKDIR /\n ---> Running in 7bdb40cfa7c5\nRemoving intermediate container 7bdb40cfa7c5\n ---> bbbf41b63c73\nStep 17/17 : ENTRYPOINT [\"/bin/ww\", \"server\"]\n ---> Running in 3801bb8b67d9\nRemoving intermediate container 3801bb8b67d9\n ---> ebe1c52e33dc\nSuccessfully built ebe1c52e33dc\nSuccessfully tagged webwormhole:latest\n","stderr":"","imageSize":28649944},"repair":{"startTime":1673010097596,"endTime":1673010097711,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":1,"end":1,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"FROM node:slim as jsbuild\nRUN npm install -g typescript prettier && npm cache clean --force;\nWORKDIR /src\n\nFROM golang:alpine as gobuild\nWORKDIR /src\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . /src\nRUN GOOS=js GOARCH=wasm go build -o ./web/webwormhole.wasm ./web\nRUN cp $(go env GOROOT)/misc/wasm/wasm_exec.js ./web/wasm_exec.js\nRUN go build ./cmd/ww\n\nFROM alpine:latest\nRUN apk --no-cache add ca-certificates\nCOPY --from=gobuild /src/ww /bin\nCOPY --from=gobuild /src/web /web\nWORKDIR /\nENTRYPOINT [\"/bin/ww\", \"server\"]\n"},"repairedBuild":{"startTime":1673010097866,"endTime":1673010437997,"error":null,"stdout":"Sending build context to Docker daemon  633.9kB\r\r\nStep 1/17 : FROM node:slim as jsbuild\n ---> f07cbc4cdcb8\nStep 2/17 : RUN npm install -g typescript prettier && npm cache clean --force;\n ---> Running in 9bc61af83783\n\nadded 2 packages in 2s\n\n1 package is looking for funding\n  run `npm fund` for details\n\u001b[91mnpm WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 9bc61af83783\n ---> 29c8f974f807\nStep 3/17 : WORKDIR /src\n ---> Running in 3370bd1496b1\nRemoving intermediate container 3370bd1496b1\n ---> 17ca65523167\nStep 4/17 : FROM golang:alpine as gobuild\n ---> cae57157ceaa\nStep 5/17 : WORKDIR /src\n ---> Running in 3af3f078d691\nRemoving intermediate container 3af3f078d691\n ---> da247958b7ff\nStep 6/17 : COPY go.mod go.sum ./\n ---> 97ef4748b6e1\nStep 7/17 : RUN go mod download\n ---> Running in 80103517857f\nRemoving intermediate container 80103517857f\n ---> 89b26be7cb15\nStep 8/17 : COPY . /src\n ---> 33bd47739006\nStep 9/17 : RUN GOOS=js GOARCH=wasm go build -o ./web/webwormhole.wasm ./web\n ---> Running in 56c02af99371\nRemoving intermediate container 56c02af99371\n ---> a74de8b3bb59\nStep 10/17 : RUN cp $(go env GOROOT)/misc/wasm/wasm_exec.js ./web/wasm_exec.js\n ---> Running in 42894f006b86\nRemoving intermediate container 42894f006b86\n ---> e673d40c1f5c\nStep 11/17 : RUN go build ./cmd/ww\n ---> Running in 348578432fee\nRemoving intermediate container 348578432fee\n ---> d4e7522c1a2b\nStep 12/17 : FROM alpine:latest\n ---> 49176f190c7e\nStep 13/17 : RUN apk --no-cache add ca-certificates\n ---> Running in 18e4c7a70a14\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 18e4c7a70a14\n ---> 0fd7fdd75e8e\nStep 14/17 : COPY --from=gobuild /src/ww /bin\n ---> 83762fc062bc\nStep 15/17 : COPY --from=gobuild /src/web /web\n ---> b07e799607b1\nStep 16/17 : WORKDIR /\n ---> Running in 6ab79e13fb8f\nRemoving intermediate container 6ab79e13fb8f\n ---> 32b19372fb6f\nStep 17/17 : ENTRYPOINT [\"/bin/ww\", \"server\"]\n ---> Running in f90bb9007abb\nRemoving intermediate container f90bb9007abb\n ---> f187b6e19e73\nSuccessfully built f187b6e19e73\nSuccessfully tagged webwormhole:latest\n","stderr":"","imageSize":28649944}}