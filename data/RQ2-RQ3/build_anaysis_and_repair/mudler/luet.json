{"repository":"https://github.com/mudler/luet","dockerfilePath":"Dockerfile","startTime":1672517024710,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mudler/luet'...\n","error":null,"commit":"2513760b00de6aebb0444e6a7221ac8967d62b6c"},"originalBuild":{"startTimestamp":1672517026965,"endTimestamp":1672517093974,"error":null,"stdout":"Sending build context to Docker daemon  44.45MB\r\r\nStep 1/9 : FROM golang as builder\n ---> 6650307efe4a\nStep 2/9 : RUN apt-get update && apt-get install -y upx\n ---> Running in abf8fde51f2e\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 4s (2380 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libucl1\nThe following NEW packages will be installed:\n  libucl1 upx-ucl\n0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 438 kB of archives.\nAfter this operation, 2137 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libucl1 amd64 1.03+repack-6 [27.1 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 upx-ucl amd64 3.96-2 [411 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 438 kB in 0s (13.0 MB/s)\nSelecting previously unselected package libucl1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15718 files and directories currently installed.)\r\nPreparing to unpack .../libucl1_1.03+repack-6_amd64.deb ...\r\nUnpacking libucl1:amd64 (1.03+repack-6) ...\r\nSelecting previously unselected package upx-ucl.\r\nPreparing to unpack .../upx-ucl_3.96-2_amd64.deb ...\r\nUnpacking upx-ucl (3.96-2) ...\r\nSetting up libucl1:amd64 (1.03+repack-6) ...\r\nSetting up upx-ucl (3.96-2) ...\r\nupdate-alternatives: error: no alternatives for upx\r\nupdate-alternatives: using /usr/bin/upx-ucl to provide /usr/bin/upx (upx) in auto mode\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container abf8fde51f2e\n ---> d95b7b89a59b\nStep 3/9 : ADD . /luet\n ---> 90c69d991e14\nStep 4/9 : RUN cd /luet && make build\n ---> Running in 5a2e8c80c64c\nCGO_ENABLED=0 go build -ldflags '-X \"github.com/mudler/luet/cmd.BuildTime=2022-12-31 08:04:28 UTC\" -X \"github.com/mudler/luet/cmd.BuildCommit=2513760b00de6aebb0444e6a7221ac8967d62b6c\"'\nRemoving intermediate container 5a2e8c80c64c\n ---> 2c1f9a7d225d\nStep 5/9 : FROM scratch\n ---> \nStep 6/9 : ENV LUET_NOLOCK=true\n ---> Running in 851dc33f0613\nRemoving intermediate container 851dc33f0613\n ---> db19862975ea\nStep 7/9 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> e968ca95a2df\nStep 8/9 : COPY --from=builder /luet/luet /usr/bin/luet\n ---> 4c403901664f\nStep 9/9 : ENTRYPOINT [\"/usr/bin/luet\"]\n ---> Running in a47d2d5f87c5\nRemoving intermediate container a47d2d5f87c5\n ---> 98125c88d748\nSuccessfully built 98125c88d748\nSuccessfully tagged luet:latest\n","stderr":"","imageSize":28244066},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":1,"end":1,"columnStart":22,"columnEnd":44}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":1,"end":1,"columnStart":22,"columnEnd":44}}],"repairedDockerfile":"FROM golang as builder\nRUN apt-get update && apt-get install --no-install-recommends -y upx\nADD . /luet\nRUN cd /luet && make build\n\nFROM scratch\nENV LUET_NOLOCK=true\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /luet/luet /usr/bin/luet\n\nENTRYPOINT [\"/usr/bin/luet\"]\n"},"repairedBuild":{"startTimestamp":1672517094297,"endTimestamp":1672517192204,"error":null,"stdout":"Sending build context to Docker daemon  44.45MB\r\r\nStep 1/9 : FROM golang as builder\n ---> 6650307efe4a\nStep 2/9 : RUN apt-get update && apt-get install --no-install-recommends -y upx\n ---> Running in 7e44c0d09d5a\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6866 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libucl1\nThe following NEW packages will be installed:\n  libucl1 upx-ucl\n0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 438 kB of archives.\nAfter this operation, 2137 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libucl1 amd64 1.03+repack-6 [27.1 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 upx-ucl amd64 3.96-2 [411 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 438 kB in 0s (16.0 MB/s)\nSelecting previously unselected package libucl1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15718 files and directories currently installed.)\r\nPreparing to unpack .../libucl1_1.03+repack-6_amd64.deb ...\r\nUnpacking libucl1:amd64 (1.03+repack-6) ...\r\nSelecting previously unselected package upx-ucl.\r\nPreparing to unpack .../upx-ucl_3.96-2_amd64.deb ...\r\nUnpacking upx-ucl (3.96-2) ...\r\nSetting up libucl1:amd64 (1.03+repack-6) ...\r\nSetting up upx-ucl (3.96-2) ...\r\nupdate-alternatives: error: no alternatives for upx\r\nupdate-alternatives: using /usr/bin/upx-ucl to provide /usr/bin/upx (upx) in auto mode\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 7e44c0d09d5a\n ---> b19e5f503565\nStep 3/9 : ADD . /luet\n ---> b8cdcf2cf5c6\nStep 4/9 : RUN cd /luet && make build\n ---> Running in 8a9e96c82942\nCGO_ENABLED=0 go build -ldflags '-X \"github.com/mudler/luet/cmd.BuildTime=2022-12-31 08:05:15 UTC\" -X \"github.com/mudler/luet/cmd.BuildCommit=2513760b00de6aebb0444e6a7221ac8967d62b6c\"'\nRemoving intermediate container 8a9e96c82942\n ---> 510d0739201c\nStep 5/9 : FROM scratch\n ---> \nStep 6/9 : ENV LUET_NOLOCK=true\n ---> Running in 6730e45656fd\nRemoving intermediate container 6730e45656fd\n ---> 3e0dd075f712\nStep 7/9 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 2517220ff226\nStep 8/9 : COPY --from=builder /luet/luet /usr/bin/luet\n ---> 8b3483894f65\nStep 9/9 : ENTRYPOINT [\"/usr/bin/luet\"]\n ---> Running in 71e56b6c19b1\nRemoving intermediate container 71e56b6c19b1\n ---> 05f5e03b1ed5\nSuccessfully built 05f5e03b1ed5\nSuccessfully tagged luet:latest\n","stderr":"","imageSize":28244066},"endTime":1672517192489}