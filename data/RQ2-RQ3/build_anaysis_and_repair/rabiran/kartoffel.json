{"repository":"https://github.com/rabiran/kartoffel","dockerfilePath":"Dockerfile","startTime":1672963681260,"endTime":1672963856349,"clone":{"startTime":1672963681260,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/rabiran/kartoffel'...\n","error":null,"endTime":1672963682552,"commit":"60676937b62e4e415444bcd3cc77860836ba47c4"},"originalBuild":{"startTime":1672963682638,"endTime":1672963772628,"error":null,"stdout":"Sending build context to Docker daemon  724.5kB\r\r\nStep 1/15 : FROM node:10.13-alpine as BUILD\n10.13-alpine: Pulling from library/node\n4fe2ade4980c: Already exists\nc245f6a8ecc5: Pulling fs layer\n82bdc9503d50: Pulling fs layer\n82bdc9503d50: Verifying Checksum\n82bdc9503d50: Download complete\nc245f6a8ecc5: Verifying Checksum\nc245f6a8ecc5: Download complete\nc245f6a8ecc5: Pull complete\n82bdc9503d50: Pull complete\nDigest: sha256:22c8219b21f86dfd7398ce1f62c48a022fecdcf0ad7bf3b0681131bd04a023a2\nStatus: Downloaded newer image for node:10.13-alpine\n ---> 93f2dcbcddfe\nStep 2/15 : WORKDIR /usr/src/app\n ---> Running in 1414e8fcc159\nRemoving intermediate container 1414e8fcc159\n ---> ffefe7f2ead8\nStep 3/15 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> 5965b5f329cf\nStep 4/15 : RUN npm install --silent --progress=false\n ---> Running in 1a4838f854c8\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\nadded 976 packages from 1470 contributors and audited 1054 packages in 14.547s\nfound 149 vulnerabilities (9 low, 54 moderate, 75 high, 11 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 1a4838f854c8\n ---> fa3a5e09e980\nStep 5/15 : COPY . .\n ---> 296bbdda5e48\nStep 6/15 : RUN npm run build\n ---> Running in 968585bfc0ee\n\n> kartoffel@0.2.2 build /usr/src/app\n> npm run delete-dist-folder && npm run tslint && npm run build-ts\n\n\n> kartoffel@0.2.2 delete-dist-folder /usr/src/app\n> node scripts/deleteDistFolder.js\n\n\n> kartoffel@0.2.2 tslint /usr/src/app\n> tslint -c tslint.json -p tsconfig.json\n\n\n> kartoffel@0.2.2 build-ts /usr/src/app\n> tsc\n\nRemoving intermediate container 968585bfc0ee\n ---> ebd6bfbf196f\nStep 7/15 : FROM node:10.13-alpine as PROD\n ---> 93f2dcbcddfe\nStep 8/15 : WORKDIR /usr/src/app\n ---> Running in 0bf863145b88\nRemoving intermediate container 0bf863145b88\n ---> 1c0acdc6e8ef\nStep 9/15 : COPY --from=BUILD /usr/src/app/package*.json ./\n ---> d9b4586c5a16\nStep 10/15 : RUN npm install --silent --progress=false --production\n ---> Running in 42cc3f27a3f4\nadded 593 packages from 622 contributors and audited 1054 packages in 7.705s\nfound 149 vulnerabilities (9 low, 54 moderate, 75 high, 11 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 42cc3f27a3f4\n ---> a454ef2f3a68\nStep 11/15 : COPY --from=BUILD /usr/src/app/dist/ ./dist/\n ---> 69f8a78b9b1f\nStep 12/15 : COPY --from=BUILD /usr/src/app/openapi.yaml ./\n ---> 063117224171\nStep 13/15 : RUN mkdir logs\n ---> Running in 140a4027a9a5\nRemoving intermediate container 140a4027a9a5\n ---> 1ed84c0d6911\nStep 14/15 : EXPOSE 3000\n ---> Running in bbddf1d52c71\nRemoving intermediate container bbddf1d52c71\n ---> 2cd53c0be84f\nStep 15/15 : CMD [\"npm\", \"run\", \"serve\"]\n ---> Running in 367df8b853a7\nRemoving intermediate container 367df8b853a7\n ---> db5bde9d2a6a\nSuccessfully built db5bde9d2a6a\nSuccessfully tagged kartoffel:latest\n","stderr":"","imageSize":166002170},"repair":{"startTime":1672963772687,"endTime":1672963772802,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":41}},{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":54}}],"repairedDockerfile":"FROM node:10.13-alpine as BUILD\nWORKDIR /usr/src/app\nCOPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\nRUN npm install --silent --progress=false && npm cache clean --force;\nCOPY . .\nRUN npm run build\n\nFROM node:10.13-alpine as PROD\nWORKDIR /usr/src/app\nCOPY --from=BUILD /usr/src/app/package*.json ./\nRUN npm install --silent --progress=false --production && npm cache clean --force;\nCOPY --from=BUILD /usr/src/app/dist/ ./dist/\nCOPY --from=BUILD /usr/src/app/openapi.yaml ./\n\nRUN mkdir logs\nEXPOSE 3000\nCMD [\"npm\", \"run\", \"serve\"]\n"},"repairedBuild":{"startTime":1672963773525,"endTime":1672963853918,"error":null,"stdout":"Sending build context to Docker daemon    725kB\r\r\nStep 1/15 : FROM node:10.13-alpine as BUILD\n ---> 93f2dcbcddfe\nStep 2/15 : WORKDIR /usr/src/app\n ---> Running in adf96a90681c\nRemoving intermediate container adf96a90681c\n ---> 7897b18a9cc0\nStep 3/15 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> d3ae26d9412f\nStep 4/15 : RUN npm install --silent --progress=false && npm cache clean --force;\n ---> Running in 7a719ee9b98b\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\nadded 976 packages from 1470 contributors and audited 1054 packages in 13.945s\nfound 149 vulnerabilities (9 low, 54 moderate, 75 high, 11 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 7a719ee9b98b\n ---> 1644da5e8d15\nStep 5/15 : COPY . .\n ---> 2192f5cf74b7\nStep 6/15 : RUN npm run build\n ---> Running in 762fc672e066\n\n> kartoffel@0.2.2 build /usr/src/app\n> npm run delete-dist-folder && npm run tslint && npm run build-ts\n\n\n> kartoffel@0.2.2 delete-dist-folder /usr/src/app\n> node scripts/deleteDistFolder.js\n\n\n> kartoffel@0.2.2 tslint /usr/src/app\n> tslint -c tslint.json -p tsconfig.json\n\n\n> kartoffel@0.2.2 build-ts /usr/src/app\n> tsc\n\nRemoving intermediate container 762fc672e066\n ---> 88dd769f02a5\nStep 7/15 : FROM node:10.13-alpine as PROD\n ---> 93f2dcbcddfe\nStep 8/15 : WORKDIR /usr/src/app\n ---> Running in 55fded4dea96\nRemoving intermediate container 55fded4dea96\n ---> 347c5dca0b2a\nStep 9/15 : COPY --from=BUILD /usr/src/app/package*.json ./\n ---> 4de5a11e393c\nStep 10/15 : RUN npm install --silent --progress=false --production && npm cache clean --force;\n ---> Running in 041d68d56821\nadded 593 packages from 622 contributors and audited 1054 packages in 8.1s\nfound 149 vulnerabilities (9 low, 54 moderate, 75 high, 11 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 041d68d56821\n ---> 194a1836837a\nStep 11/15 : COPY --from=BUILD /usr/src/app/dist/ ./dist/\n ---> c2fe61fbfdeb\nStep 12/15 : COPY --from=BUILD /usr/src/app/openapi.yaml ./\n ---> e154e9a505d6\nStep 13/15 : RUN mkdir logs\n ---> Running in 0451e73bf097\nRemoving intermediate container 0451e73bf097\n ---> e4ee0cb54867\nStep 14/15 : EXPOSE 3000\n ---> Running in 248a828feaa6\nRemoving intermediate container 248a828feaa6\n ---> 604ef0496e3e\nStep 15/15 : CMD [\"npm\", \"run\", \"serve\"]\n ---> Running in 8328eb568b10\nRemoving intermediate container 8328eb568b10\n ---> 1fd4be895ca0\nSuccessfully built 1fd4be895ca0\nSuccessfully tagged kartoffel:latest\n","stderr":"","imageSize":148748169}}