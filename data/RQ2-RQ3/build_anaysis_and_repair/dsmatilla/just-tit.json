{"repository":"https://github.com/dsmatilla/just-tit","dockerfilePath":"Dockerfile","startTime":1672272523454,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dsmatilla/just-tit'...\n","error":null,"commit":"6a899651fa17825c8ed7c4f4ed3d423551564453"},"originalBuild":{"startTimestamp":1672272524350,"endTimestamp":1672272611073,"error":null,"stdout":"Sending build context to Docker daemon  721.4kB\r\r\nStep 1/17 : FROM golang:1.18-alpine as build\n1.18-alpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\n4e0e94741593: Pulling fs layer\n1ba1ea060658: Pulling fs layer\n019cfb932eb0: Download complete\n1ba1ea060658: Verifying Checksum\n1ba1ea060658: Download complete\n4e0e94741593: Verifying Checksum\n4e0e94741593: Download complete\n019cfb932eb0: Pull complete\n4e0e94741593: Pull complete\n1ba1ea060658: Pull complete\nDigest: sha256:c2bb8281641f39a32e01854ae6b5fea45870f6f4c0c04365eadc0be596675456\nStatus: Downloaded newer image for golang:1.18-alpine\n ---> f37f1bcb329f\nStep 2/17 : WORKDIR /go/src/just-tit\n ---> Running in bc51ebd8db44\nRemoving intermediate container bc51ebd8db44\n ---> e374460c4fa9\nStep 3/17 : ADD go.mod .\n ---> 7cd1856c71b0\nStep 4/17 : ADD go.sum .\n ---> 6a1a5b8fc7bb\nStep 5/17 : RUN apk add git gcc libc-dev ca-certificates\n ---> Running in 1aca9ab1e813\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing libgcc (12.2.1_git20220924-r4)\n(2/18) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/18) Installing binutils (2.39-r2)\n(4/18) Installing libgomp (12.2.1_git20220924-r4)\n(5/18) Installing libatomic (12.2.1_git20220924-r4)\n(6/18) Installing gmp (6.2.1-r2)\n(7/18) Installing isl25 (0.25-r0)\n(8/18) Installing mpfr4 (4.1.0-r0)\n(9/18) Installing mpc1 (1.2.1-r1)\n(10/18) Installing gcc (12.2.1_git20220924-r4)\n(11/18) Installing brotli-libs (1.0.9-r9)\n(12/18) Installing nghttp2-libs (1.51.0-r0)\n(13/18) Installing libcurl (7.87.0-r0)\n(14/18) Installing libexpat (2.5.0-r0)\n(15/18) Installing pcre2 (10.42-r0)\n(16/18) Installing git (2.38.2-r0)\n(17/18) Installing musl-dev (1.2.3-r4)\n(18/18) Installing libc-dev (0.7.2-r3)\nExecuting busybox-1.35.0-r29.trigger\nOK: 161 MiB in 34 packages\nRemoving intermediate container 1aca9ab1e813\n ---> b351c7229c04\nStep 6/17 : RUN CGO_ENABLED=1 go install -a std\n ---> Running in 39eda5f42c79\nRemoving intermediate container 39eda5f42c79\n ---> 9a4c9327b69d\nStep 7/17 : ADD . .\n ---> 1636a2f86cba\nStep 8/17 : RUN CGO_ENABLED=1 go build -ldflags '-linkmode external -extldflags -static' -o just-tit\n ---> Running in c0e062df7718\n\u001b[91mgo: downloading github.com/beego/beego/v2 v2.0.6\n\u001b[0m\u001b[91mgo: downloading github.com/gomodule/redigo v2.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\ngo: downloading golang.org/x/crypto v0.3.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\ngo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0mRemoving intermediate container c0e062df7718\n ---> 35d220f6c6a2\nStep 9/17 : FROM scratch\n ---> \nStep 10/17 : COPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 9987e31ea394\nStep 11/17 : COPY --from=build /go/src/just-tit/just-tit /just-tit\n ---> 8247c174e654\nStep 12/17 : COPY --from=build /go/src/just-tit/static/ /static/\n ---> 6760b9f9a70b\nStep 13/17 : COPY --from=build /go/src/just-tit/views/ /views/\n ---> 9a470e9d4240\nStep 14/17 : COPY --from=build /go/src/just-tit/conf/ /conf/\n ---> 4632709c00f9\nStep 15/17 : CMD [\"/just-tit\"]\n ---> Running in ba4696eb7b1d\nRemoving intermediate container ba4696eb7b1d\n ---> 00e05e9281f5\nStep 16/17 : EXPOSE 8080\n ---> Running in 73b603ec2ee6\nRemoving intermediate container 73b603ec2ee6\n ---> 376dd00905fd\nStep 17/17 : HEALTHCHECK --interval=5m --timeout=3s CMD /bin/true\n ---> Running in c13e0fa32805\nRemoving intermediate container c13e0fa32805\n ---> 7835e13dfb89\nSuccessfully built 7835e13dfb89\nSuccessfully tagged just-tit:latest\n","stderr":"","imageSize":17641197},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":44}}],"repairedDockerfile":"FROM golang:1.18-alpine as build\n\nWORKDIR /go/src/just-tit\nADD go.mod .\nADD go.sum .\nRUN apk add --no-cache git gcc libc-dev ca-certificates\n\n# Recompile the standard library with CGO\nRUN CGO_ENABLED=1 go install -a std\n\nADD . .\n# Compile the binary and statically link\nRUN CGO_ENABLED=1 go build -ldflags '-linkmode external -extldflags -static' -o just-tit\n\nFROM scratch\nCOPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=build /go/src/just-tit/just-tit /just-tit\nCOPY --from=build /go/src/just-tit/static/ /static/\nCOPY --from=build /go/src/just-tit/views/ /views/\nCOPY --from=build /go/src/just-tit/conf/ /conf/\n\nCMD [\"/just-tit\"]\nEXPOSE 8080\nHEALTHCHECK --interval=5m --timeout=3s CMD /bin/true"},"repairedBuild":{"startTimestamp":1672272611686,"endTimestamp":1672272688237,"error":null,"stdout":"Sending build context to Docker daemon  721.4kB\r\r\nStep 1/17 : FROM golang:1.18-alpine as build\n ---> f37f1bcb329f\nStep 2/17 : WORKDIR /go/src/just-tit\n ---> Running in 19ef1625a866\nRemoving intermediate container 19ef1625a866\n ---> 084cab74936b\nStep 3/17 : ADD go.mod .\n ---> c19b2305790a\nStep 4/17 : ADD go.sum .\n ---> edf2542a621c\nStep 5/17 : RUN apk add --no-cache git gcc libc-dev ca-certificates\n ---> Running in 1ca150903e32\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing libgcc (12.2.1_git20220924-r4)\n(2/18) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/18) Installing binutils (2.39-r2)\n(4/18) Installing libgomp (12.2.1_git20220924-r4)\n(5/18) Installing libatomic (12.2.1_git20220924-r4)\n(6/18) Installing gmp (6.2.1-r2)\n(7/18) Installing isl25 (0.25-r0)\n(8/18) Installing mpfr4 (4.1.0-r0)\n(9/18) Installing mpc1 (1.2.1-r1)\n(10/18) Installing gcc (12.2.1_git20220924-r4)\n(11/18) Installing brotli-libs (1.0.9-r9)\n(12/18) Installing nghttp2-libs (1.51.0-r0)\n(13/18) Installing libcurl (7.87.0-r0)\n(14/18) Installing libexpat (2.5.0-r0)\n(15/18) Installing pcre2 (10.42-r0)\n(16/18) Installing git (2.38.2-r0)\n(17/18) Installing musl-dev (1.2.3-r4)\n(18/18) Installing libc-dev (0.7.2-r3)\nExecuting busybox-1.35.0-r29.trigger\nOK: 161 MiB in 34 packages\nRemoving intermediate container 1ca150903e32\n ---> e83d4d065e34\nStep 6/17 : RUN CGO_ENABLED=1 go install -a std\n ---> Running in 46595a9c893c\nRemoving intermediate container 46595a9c893c\n ---> 7964b590a737\nStep 7/17 : ADD . .\n ---> 66b5a7be4746\nStep 8/17 : RUN CGO_ENABLED=1 go build -ldflags '-linkmode external -extldflags -static' -o just-tit\n ---> Running in 251b293a822d\n\u001b[91mgo: downloading github.com/beego/beego/v2 v2.0.6\n\u001b[0m\u001b[91mgo: downloading github.com/gomodule/redigo v2.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\ngo: downloading golang.org/x/crypto v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\ngo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0mRemoving intermediate container 251b293a822d\n ---> 96ca392175c9\nStep 9/17 : FROM scratch\n ---> \nStep 10/17 : COPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> bab56dab2315\nStep 11/17 : COPY --from=build /go/src/just-tit/just-tit /just-tit\n ---> daee0e0627ec\nStep 12/17 : COPY --from=build /go/src/just-tit/static/ /static/\n ---> cb78ef77c541\nStep 13/17 : COPY --from=build /go/src/just-tit/views/ /views/\n ---> b47779203b4e\nStep 14/17 : COPY --from=build /go/src/just-tit/conf/ /conf/\n ---> ec2d27c9b1bc\nStep 15/17 : CMD [\"/just-tit\"]\n ---> Running in 8b21f5865710\nRemoving intermediate container 8b21f5865710\n ---> fd8d344229d1\nStep 16/17 : EXPOSE 8080\n ---> Running in 2682af4f87ab\nRemoving intermediate container 2682af4f87ab\n ---> d00aa065db08\nStep 17/17 : HEALTHCHECK --interval=5m --timeout=3s CMD /bin/true\n ---> Running in edb0c3cff7f1\nRemoving intermediate container edb0c3cff7f1\n ---> e48b4337a0e0\nSuccessfully built e48b4337a0e0\nSuccessfully tagged just-tit:latest\n","stderr":"","imageSize":17641197},"endTime":1672272688470}