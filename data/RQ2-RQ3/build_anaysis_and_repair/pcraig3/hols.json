{"repository":"https://github.com/pcraig3/hols","dockerfilePath":"Dockerfile","startTime":1672918023374,"endTime":1672918283598,"clone":{"startTime":1672918023374,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pcraig3/hols'...\n","error":null,"endTime":1672918025472,"commit":"a752af670778cd803b6fff063ca5c9c517972512"},"originalBuild":{"startTime":1672918025542,"endTime":1672918187301,"error":null,"stdout":"Sending build context to Docker daemon  2.336MB\r\r\nStep 1/11 : FROM node:lts-alpine\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/11 : LABEL maintainer=\"paul@pcraig3.ca\"\n ---> Running in fbf33ab013dc\nRemoving intermediate container fbf33ab013dc\n ---> a3c91e1f8db6\nStep 3/11 : ARG GITHUB_SHA_ARG\n ---> Running in 4768ed3b0ce3\nRemoving intermediate container 4768ed3b0ce3\n ---> 6252addc63dc\nStep 4/11 : ENV GITHUB_SHA=$GITHUB_SHA_ARG\n ---> Running in ae682133ad95\nRemoving intermediate container ae682133ad95\n ---> 734a6bb71181\nStep 5/11 : WORKDIR /app\n ---> Running in 12fb874c9fa8\nRemoving intermediate container 12fb874c9fa8\n ---> 8e1e94a51e6d\nStep 6/11 : COPY . .\n ---> 4f15782723d6\nStep 7/11 : RUN npm install --production --silent\n ---> Running in d8c2d537b3d8\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container d8c2d537b3d8\n ---> 45bd74d23a33\nStep 8/11 : RUN npm install -g workbox-cli\n ---> Running in 491e57242b30\n\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser\n\u001b[0m\nadded 480 packages, and audited 481 packages in 15s\n\n91 packages are looking for funding\n  run `npm fund` for details\n\n4 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 491e57242b30\n ---> b355ecdc8bc1\nStep 9/11 : RUN npm run build\n ---> Running in e40aa7feb068\n\n> hols@3.19.0 build\n> workbox generateSW workbox-config.js\n\nUsing configuration from /app/workbox-config.js.\nThe service worker files were written to:\n  • /app/public/sw.js\n  • /app/public/sw.js.map\n  • /app/public/workbox-6acc1954.js\n  • /app/public/workbox-6acc1954.js.map\nThe service worker will precache 0 URLs, totaling 0 B.\nRemoving intermediate container e40aa7feb068\n ---> 1c9897fbf479\nStep 10/11 : EXPOSE 3000\n ---> Running in 6492d59ddb9d\nRemoving intermediate container 6492d59ddb9d\n ---> 4760272a1032\nStep 11/11 : CMD [\"npm\", \"start\"]\n ---> Running in 88fc92684824\nRemoving intermediate container 88fc92684824\n ---> 4bc019eef6b2\nSuccessfully built 4bc019eef6b2\nSuccessfully tagged hols:latest\n","stderr":"","imageSize":325427005},"repair":{"startTime":1672918187358,"endTime":1672918187432,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":37}},{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":30}}],"repairedDockerfile":"FROM node:lts-alpine\nLABEL maintainer=\"paul@pcraig3.ca\"\n\nARG GITHUB_SHA_ARG\nENV GITHUB_SHA=$GITHUB_SHA_ARG\n\nWORKDIR /app\nCOPY . .\n\nRUN npm install --production --silent && npm cache clean --force;\nRUN npm install -g workbox-cli && npm cache clean --force;\nRUN npm run build\n\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n"},"repairedBuild":{"startTime":1672918194996,"endTime":1672918282664,"error":null,"stdout":"Sending build context to Docker daemon  2.336MB\r\r\nStep 1/11 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/11 : LABEL maintainer=\"paul@pcraig3.ca\"\n ---> Running in 8f330a6f8c8f\nRemoving intermediate container 8f330a6f8c8f\n ---> 793605577d62\nStep 3/11 : ARG GITHUB_SHA_ARG\n ---> Running in 3bd0264d9fae\nRemoving intermediate container 3bd0264d9fae\n ---> 623c6870c5c7\nStep 4/11 : ENV GITHUB_SHA=$GITHUB_SHA_ARG\n ---> Running in 31fb6469d6b7\nRemoving intermediate container 31fb6469d6b7\n ---> 84502cce6beb\nStep 5/11 : WORKDIR /app\n ---> Running in 22b2b7cf67c8\nRemoving intermediate container 22b2b7cf67c8\n ---> 7d0e8f6e750e\nStep 6/11 : COPY . .\n ---> e5d1a8a7ca2d\nStep 7/11 : RUN npm install --production --silent && npm cache clean --force;\n ---> Running in b9ee4d48ade7\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container b9ee4d48ade7\n ---> 23d3666b7786\nStep 8/11 : RUN npm install -g workbox-cli && npm cache clean --force;\n ---> Running in 3b424056238c\n\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser\n\u001b[0m\nadded 480 packages, and audited 481 packages in 13s\n\n91 packages are looking for funding\n  run `npm fund` for details\n\n4 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 3b424056238c\n ---> eeb725ed305f\nStep 9/11 : RUN npm run build\n ---> Running in ab86ba377a9f\n\n> hols@3.19.0 build\n> workbox generateSW workbox-config.js\n\nUsing configuration from /app/workbox-config.js.\nThe service worker files were written to:\n  • /app/public/sw.js\n  • /app/public/sw.js.map\n  • /app/public/workbox-6acc1954.js\n  • /app/public/workbox-6acc1954.js.map\nThe service worker will precache 0 URLs, totaling 0 B.\nRemoving intermediate container ab86ba377a9f\n ---> 71d00dc35ac9\nStep 10/11 : EXPOSE 3000\n ---> Running in 0732aa48b268\nRemoving intermediate container 0732aa48b268\n ---> 6d51d46bf66c\nStep 11/11 : CMD [\"npm\", \"start\"]\n ---> Running in 5a4f0b352071\nRemoving intermediate container 5a4f0b352071\n ---> 52f0fb47ddcd\nSuccessfully built 52f0fb47ddcd\nSuccessfully tagged hols:latest\n","stderr":"","imageSize":278044222}}