{"repository":"https://github.com/tpai/docker-l1jtw-server","dockerfilePath":"Dockerfile","startTime":1672634250130,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tpai/docker-l1jtw-server'...\n","error":null,"commit":"0212802a625b36af3a0df2c513acc2713902f4d0"},"originalBuild":{"startTimestamp":1672634252882,"endTimestamp":1672634306764,"error":null,"stdout":"Sending build context to Docker daemon  204.7MB\r\r\nStep 1/14 : FROM openjdk:8-jdk-alpine AS dev\n8-jdk-alpine: Pulling from library/openjdk\ne7c96db7181b: Pulling fs layer\nf910a506b6cb: Pulling fs layer\nc2274a1a0e27: Pulling fs layer\ne7c96db7181b: Verifying Checksum\ne7c96db7181b: Download complete\ne7c96db7181b: Pull complete\nc2274a1a0e27: Verifying Checksum\nc2274a1a0e27: Download complete\nf910a506b6cb: Pull complete\nc2274a1a0e27: Pull complete\nDigest: sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3\nStatus: Downloaded newer image for openjdk:8-jdk-alpine\n ---> a3562aa0b991\nStep 2/14 : RUN apk update &&     apk add build-base gcc\n ---> Running in 7c0ad7314597\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]\nv3.9.6-138-ge069a77b3b [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]\nOK: 9793 distinct packages available\n(1/18) Upgrading musl (1.1.20-r4 -> 1.1.20-r6)\n(2/18) Installing binutils (2.31.1-r2)\n(3/18) Installing libmagic (5.36-r1)\n(4/18) Installing file (5.36-r1)\n(5/18) Installing gmp (6.1.2-r1)\n(6/18) Installing isl (0.18-r0)\n(7/18) Installing libgomp (8.3.0-r0)\n(8/18) Installing libatomic (8.3.0-r0)\n(9/18) Installing mpfr3 (3.1.5-r1)\n(10/18) Installing mpc1 (1.0.3-r1)\n(11/18) Installing gcc (8.3.0-r0)\n(12/18) Installing musl-dev (1.1.20-r6)\n(13/18) Installing libc-dev (0.7.1-r0)\n(14/18) Installing g++ (8.3.0-r0)\n(15/18) Installing make (4.2.1-r2)\n(16/18) Installing fortify-headers (1.0-r0)\n(17/18) Installing build-base (0.5-r1)\n(18/18) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r6)\nExecuting busybox-1.29.3-r10.trigger\nOK: 260 MiB in 70 packages\nRemoving intermediate container 7c0ad7314597\n ---> ffdaca5be7e6\nStep 3/14 : FROM openjdk:8-jre-alpine AS base\n8-jre-alpine: Pulling from library/openjdk\ne7c96db7181b: Already exists\nf910a506b6cb: Already exists\nb6abafe80f63: Pulling fs layer\nb6abafe80f63: Verifying Checksum\nb6abafe80f63: Download complete\nb6abafe80f63: Pull complete\nDigest: sha256:f362b165b870ef129cbe730f29065ff37399c0aa8bcab3e44b51c302938c9193\nStatus: Downloaded newer image for openjdk:8-jre-alpine\n ---> f7a292bbb70c\nStep 4/14 : RUN apk update &&     apk add bash mysql-client\n ---> Running in 03a9d12f5383\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]\nv3.9.6-138-ge069a77b3b [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]\nOK: 9792 distinct packages available\n(1/8) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(2/8) Installing ncurses-terminfo (6.1_p20190105-r0)\n(3/8) Installing ncurses-libs (6.1_p20190105-r0)\n(4/8) Installing readline (7.0.003-r1)\n(5/8) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(6/8) Installing mariadb-common (10.3.25-r0)\n(7/8) Installing mariadb-client (10.3.25-r0)\n(8/8) Installing mysql-client (10.3.25-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 123 MiB in 61 packages\nRemoving intermediate container 03a9d12f5383\n ---> 5e7320329ae4\nStep 5/14 : FROM base AS v350c\n ---> 5e7320329ae4\nStep 6/14 : WORKDIR /data\n ---> Running in 5397a9d9d426\nRemoving intermediate container 5397a9d9d426\n ---> d72876abf7fe\nStep 7/14 : COPY L1J-TW_3.50c /data\n ---> 0b730f7bf019\nStep 8/14 : EXPOSE 2000\n ---> Running in bbdd63ae404b\nRemoving intermediate container bbdd63ae404b\n ---> 155d1150510a\nStep 9/14 : CMD bash /data/ServerStart.sh\n ---> Running in 48361a14dac5\nRemoving intermediate container 48361a14dac5\n ---> 5841062e87cb\nStep 10/14 : FROM base AS v380c\n ---> 5e7320329ae4\nStep 11/14 : WORKDIR /data\n ---> Running in c8a83fa2f39e\nRemoving intermediate container c8a83fa2f39e\n ---> 326aff71cd8e\nStep 12/14 : COPY L1J-TW_3.80c /data\n ---> 58cd3e453307\nStep 13/14 : EXPOSE 2000\n ---> Running in 1fbad39ddb42\nRemoving intermediate container 1fbad39ddb42\n ---> 36e7d18e8045\nStep 14/14 : CMD bash /data/ServerStart.sh\n ---> Running in 53d27772e314\nRemoving intermediate container 53d27772e314\n ---> 2b67bbb8ba12\nSuccessfully built 2b67bbb8ba12\nSuccessfully tagged docker-l1jtw-server:latest\n","stderr":"","imageSize":260986235},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":26}},{"name":"apkAddUseNoCache","position":{"start":10,"end":10,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"FROM openjdk:8-jdk-alpine AS dev\n\n# compilation tools\nRUN apk update && \\\n    apk add --no-cache build-base gcc\n\nFROM openjdk:8-jre-alpine AS base\n\n# wait-for-it.sh needs bash\nRUN apk update && \\\n    apk add --no-cache bash mysql-client\n\nFROM base AS v350c\n\nWORKDIR /data\n\nCOPY L1J-TW_3.50c /data\nEXPOSE 2000\n\nCMD bash /data/ServerStart.sh\n\nFROM base AS v380c\n\nWORKDIR /data\n\nCOPY L1J-TW_3.80c /data\nEXPOSE 2000\n\nCMD bash /data/ServerStart.sh\n"},"repairedBuild":{"startTimestamp":1672634307780,"endTimestamp":1672634328786,"error":null,"stdout":"Sending build context to Docker daemon  204.7MB\r\r\nStep 1/14 : FROM openjdk:8-jdk-alpine AS dev\n ---> a3562aa0b991\nStep 2/14 : RUN apk update &&     apk add --no-cache build-base gcc\n ---> Running in bdd45ba5e325\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]\nv3.9.6-138-ge069a77b3b [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]\nOK: 9793 distinct packages available\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/18) Upgrading musl (1.1.20-r4 -> 1.1.20-r6)\n(2/18) Installing binutils (2.31.1-r2)\n(3/18) Installing libmagic (5.36-r1)\n(4/18) Installing file (5.36-r1)\n(5/18) Installing gmp (6.1.2-r1)\n(6/18) Installing isl (0.18-r0)\n(7/18) Installing libgomp (8.3.0-r0)\n(8/18) Installing libatomic (8.3.0-r0)\n(9/18) Installing mpfr3 (3.1.5-r1)\n(10/18) Installing mpc1 (1.0.3-r1)\n(11/18) Installing gcc (8.3.0-r0)\n(12/18) Installing musl-dev (1.1.20-r6)\n(13/18) Installing libc-dev (0.7.1-r0)\n(14/18) Installing g++ (8.3.0-r0)\n(15/18) Installing make (4.2.1-r2)\n(16/18) Installing fortify-headers (1.0-r0)\n(17/18) Installing build-base (0.5-r1)\n(18/18) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r6)\nExecuting busybox-1.29.3-r10.trigger\nOK: 260 MiB in 70 packages\nRemoving intermediate container bdd45ba5e325\n ---> 620c94a9ea29\nStep 3/14 : FROM openjdk:8-jre-alpine AS base\n ---> f7a292bbb70c\nStep 4/14 : RUN apk update &&     apk add --no-cache bash mysql-client\n ---> Running in f92aa778645c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]\nv3.9.6-138-ge069a77b3b [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]\nOK: 9792 distinct packages available\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(2/8) Installing ncurses-terminfo (6.1_p20190105-r0)\n(3/8) Installing ncurses-libs (6.1_p20190105-r0)\n(4/8) Installing readline (7.0.003-r1)\n(5/8) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(6/8) Installing mariadb-common (10.3.25-r0)\n(7/8) Installing mariadb-client (10.3.25-r0)\n(8/8) Installing mysql-client (10.3.25-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 123 MiB in 61 packages\nRemoving intermediate container f92aa778645c\n ---> 50fb1cc2e93d\nStep 5/14 : FROM base AS v350c\n ---> 50fb1cc2e93d\nStep 6/14 : WORKDIR /data\n ---> Running in 7e3b844856c6\nRemoving intermediate container 7e3b844856c6\n ---> a934f403c7c2\nStep 7/14 : COPY L1J-TW_3.50c /data\n ---> ac77afd3487a\nStep 8/14 : EXPOSE 2000\n ---> Running in d56ca7e107e7\nRemoving intermediate container d56ca7e107e7\n ---> 68eadb6bba4a\nStep 9/14 : CMD bash /data/ServerStart.sh\n ---> Running in 486f207b0861\nRemoving intermediate container 486f207b0861\n ---> 8e078c7a8d56\nStep 10/14 : FROM base AS v380c\n ---> 50fb1cc2e93d\nStep 11/14 : WORKDIR /data\n ---> Running in b37a2a11df74\nRemoving intermediate container b37a2a11df74\n ---> 1fc98132a5de\nStep 12/14 : COPY L1J-TW_3.80c /data\n ---> e8bd43887c12\nStep 13/14 : EXPOSE 2000\n ---> Running in 30633fa233f7\nRemoving intermediate container 30633fa233f7\n ---> f6fc82013970\nStep 14/14 : CMD bash /data/ServerStart.sh\n ---> Running in 34b4b3a3a82c\nRemoving intermediate container 34b4b3a3a82c\n ---> 933965de48fa\nSuccessfully built 933965de48fa\nSuccessfully tagged docker-l1jtw-server:latest\n","stderr":"","imageSize":260986235},"endTime":1672634329586}