{"repository":"https://github.com/rojosinalma/cord","dockerfilePath":"Dockerfile","startTime":1672516032029,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/rojosinalma/cord'...\n","error":null,"commit":"7d9f10a4e5eb14ea10b43a125f6af8872f27b85a"},"originalBuild":{"startTimestamp":1672516032831,"endTimestamp":1672516140719,"error":null,"stdout":"Sending build context to Docker daemon  243.2kB\r\r\nStep 1/5 : FROM ruby:3.1.1-alpine3.14\n3.1.1-alpine3.14: Pulling from library/ruby\n8663204ce13b: Pulling fs layer\n3a4813111292: Pulling fs layer\n5e3451d03ed4: Pulling fs layer\n3d6425e0cc81: Pulling fs layer\n375c330fa644: Pulling fs layer\n3d6425e0cc81: Waiting\n375c330fa644: Waiting\n8663204ce13b: Verifying Checksum\n8663204ce13b: Download complete\n5e3451d03ed4: Verifying Checksum\n5e3451d03ed4: Download complete\n3a4813111292: Verifying Checksum\n3a4813111292: Download complete\n8663204ce13b: Pull complete\n375c330fa644: Download complete\n3a4813111292: Pull complete\n3d6425e0cc81: Verifying Checksum\n3d6425e0cc81: Download complete\n5e3451d03ed4: Pull complete\n3d6425e0cc81: Pull complete\n375c330fa644: Pull complete\nDigest: sha256:e5a66799d2e82e1434ae4565842bcfd03bc0c2fb4394811ebedcae967fc77919\nStatus: Downloaded newer image for ruby:3.1.1-alpine3.14\n ---> 1d3531351075\nStep 2/5 : WORKDIR /app/f1x\n ---> Running in 1103d7a109a1\nRemoving intermediate container 1103d7a109a1\n ---> 803a9c3b4e00\nStep 3/5 : COPY . .\n ---> 8b2667f9fd5c\nStep 4/5 : RUN bundle config --global frozen 1 &&     apk --update add       autoconf build-base bzip2 ca-certificates curl-dev dialog libc-dev       libffi-dev libssh2-dev libxml2-dev libxslt-dev linux-headers procps readline-dev       ruby-dev shared-mime-info tzdata yaml-dev zlib-dev &&     bundle install\n ---> Running in e7de3b36e9b5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/58) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r0)\n(2/58) Upgrading ncurses-terminfo-base (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(3/58) Upgrading ncurses-libs (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(4/58) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r0)\n(5/58) Installing m4 (1.4.18-r2)\n(6/58) Installing libbz2 (1.0.8-r1)\n(7/58) Installing perl (5.32.1-r0)\n(8/58) Installing autoconf (2.71-r0)\n(9/58) Installing binutils (2.35.2-r2)\n(10/58) Installing libmagic (5.40-r1)\n(11/58) Installing file (5.40-r1)\n(12/58) Installing libgomp (10.3.1_git20210424-r2)\n(13/58) Installing libatomic (10.3.1_git20210424-r2)\n(14/58) Installing libgphobos (10.3.1_git20210424-r2)\n(15/58) Installing isl22 (0.22-r0)\n(16/58) Installing mpfr4 (4.1.0-r0)\n(17/58) Installing mpc1 (1.2.1-r0)\n(18/58) Installing gcc (10.3.1_git20210424-r2)\n(19/58) Installing musl-dev (1.2.2-r3)\n(20/58) Installing libc-dev (0.7.2-r3)\n(21/58) Installing g++ (10.3.1_git20210424-r2)\n(22/58) Installing make (4.3-r0)\n(23/58) Installing fortify-headers (1.1-r1)\n(24/58) Installing patch (2.7.6-r7)\n(25/58) Installing build-base (0.5-r3)\n(26/58) Installing openssl-dev (1.1.1s-r0)\n(27/58) Installing nghttp2-libs (1.43.0-r0)\n(28/58) Installing nghttp2-dev (1.43.0-r0)\n(29/58) Installing brotli-libs (1.0.9-r5)\n(30/58) Installing brotli-dev (1.0.9-r5)\n(31/58) Installing libcurl (7.79.1-r4)\n(32/58) Installing curl-dev (7.79.1-r4)\n(33/58) Installing dialog (1.3.20210530-r0)\n(34/58) Installing libssh2 (1.9.0-r1)\n(35/58) Installing libssh2-dev (1.9.0-r1)\n(36/58) Installing xz-libs (5.2.5-r1)\n(37/58) Installing xz-dev (5.2.5-r1)\n(38/58) Installing libxml2 (2.9.14-r2)\n(39/58) Installing libxml2-dev (2.9.14-r2)\n(40/58) Installing libgpg-error (1.42-r0)\n(41/58) Installing libgcrypt (1.9.4-r0)\n(42/58) Installing libxslt (1.1.35-r0)\n(43/58) Installing libxslt-dev (1.1.35-r0)\n(44/58) Installing libhistory (8.1.0-r0)\n(45/58) Installing ncurses-dev (6.2_p20210612-r1)\n(46/58) Installing readline-dev (8.1.0-r0)\n(47/58) Installing gdbm (1.19-r0)\n(48/58) Installing ruby-libs (2.7.6-r0)\n(49/58) Installing ruby (2.7.6-r0)\n(50/58) Installing libucontext (1.1-r0)\n(51/58) Installing libucontext-dev (1.1-r0)\n(52/58) Installing ruby-dev (2.7.6-r0)\n(53/58) Installing libblkid (2.37.4-r0)\n(54/58) Installing libmount (2.37.4-r0)\n(55/58) Installing pcre (8.44-r0)\n(56/58) Installing glib (2.68.3-r0)\n(57/58) Installing shared-mime-info (2.1-r0)\n(58/58) Installing tzdata (2022f-r1)\nExecuting busybox-1.33.1-r7.trigger\nExecuting ca-certificates-20211220-r0.trigger\nExecuting shared-mime-info-2.1-r0.trigger\nOK: 288 MiB in 89 packages\nBundler 2.3.7 is running, but your lockfile was generated with 2.2.15. Installing Bundler 2.2.15 and restarting using that version.\nFetching gem metadata from https://rubygems.org/.\nFetching bundler 2.2.15\nInstalling bundler 2.2.15\n\u001b[91mCalling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated. Please call `DidYouMean.correct_error(error_name, spell_checker)' instead.\n\u001b[0mFetching gem metadata from https://rubygems.org/..........\nUsing rake 13.0.6\nUsing bundler 2.2.15\nFetching event_emitter 0.2.6\nUsing ruby2_keywords 0.0.5\nFetching concurrent-ruby 1.1.9\nFetching netrc 0.11.0\nFetching unf_ext 0.0.8\nFetching dotenv 2.7.6\nFetching byebug 11.1.3\nFetching coderay 1.1.3\nFetching rspec-support 3.10.2\nFetching http-accept 1.7.0\nFetching mime-types-data 3.2021.0901\nFetching foreman 0.87.2\nFetching method_source 1.0.0\nFetching nio4r 2.5.8\nFetching zeitwerk 2.4.2\nFetching websocket 1.2.9\nFetching rack 2.2.3\nFetching tilt 2.0.10\nFetching minitest 5.14.4\nFetching diff-lcs 1.4.4\nFetching multi_json 1.15.0\nFetching ffi 1.15.4\nFetching mustermann 1.1.1\nInstalling event_emitter 0.2.6\nInstalling method_source 1.0.0\nInstalling http-accept 1.7.0\nInstalling dotenv 2.7.6\nInstalling zeitwerk 2.4.2\nInstalling netrc 0.11.0\nInstalling multi_json 1.15.0\nInstalling tilt 2.0.10\nInstalling diff-lcs 1.4.4\nInstalling websocket 1.2.9\nInstalling mustermann 1.1.1\nInstalling rspec-support 3.10.2\nInstalling minitest 5.14.4\nInstalling foreman 0.87.2\nInstalling coderay 1.1.3\nInstalling byebug 11.1.3 with native extensions\nInstalling nio4r 2.5.8 with native extensions\nInstalling rack 2.2.3\nInstalling mime-types-data 3.2021.0901\nInstalling concurrent-ruby 1.1.9\nInstalling unf_ext 0.0.8 with native extensions\nFetching rspec-core 3.10.1\nFetching rspec-expectations 3.10.1\nFetching rspec-mocks 3.10.2\nInstalling rspec-core 3.10.1\nInstalling rspec-mocks 3.10.2\nInstalling rspec-expectations 3.10.1\nFetching websocket-client-simple 0.3.0\nFetching mime-types 3.3.1\nInstalling ffi 1.15.4 with native extensions\nInstalling mime-types 3.3.1\nFetching pry 0.13.1\nInstalling websocket-client-simple 0.3.0\nInstalling pry 0.13.1\nFetching rack-test 1.1.0\nFetching rack-protection 2.1.0\nInstalling rack-protection 2.1.0\nInstalling rack-test 1.1.0\nFetching sinatra 2.1.0\nFetching rspec 3.10.0\nInstalling rspec 3.10.0\nInstalling sinatra 2.1.0\nFetching i18n 1.8.10\nFetching tzinfo 2.0.4\nInstalling i18n 1.8.10\nInstalling tzinfo 2.0.4\nFetching sinatra-contrib 2.1.0\nInstalling sinatra-contrib 2.1.0\nFetching activesupport 6.1.4.1\nInstalling activesupport 6.1.4.1\nFetching factory_bot 6.2.0\nInstalling factory_bot 6.2.0\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching http-cookie 1.0.4\nInstalling http-cookie 1.0.4\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nFetching discordrb-webhooks 3.3.0\nInstalling discordrb-webhooks 3.3.0\nFetching pry-byebug 3.9.0\nInstalling pry-byebug 3.9.0\nFetching puma 5.5.2\nInstalling puma 5.5.2 with native extensions\nFetching opus-ruby 1.0.1\nInstalling opus-ruby 1.0.1\nFetching discordrb 3.4.0\nInstalling discordrb 3.4.0\nBundle complete! 12 Gemfile dependencies, 49 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container e7de3b36e9b5\n ---> e4013cd22f8b\nStep 5/5 : CMD [\"bundle\", \"exec\", \"puma\", \"-C\", \"config/puma.rb\"]\n ---> Running in 095a987b1723\nRemoving intermediate container 095a987b1723\n ---> db07b2226e10\nSuccessfully built db07b2226e10\nSuccessfully tagged cord:latest\n","stderr":"","imageSize":408307106},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":10,"columnStart":4,"columnEnd":56}}],"repairedDockerfile":"FROM ruby:3.1.1-alpine3.14\n\nWORKDIR /app/f1x\nCOPY . .\n\n# throw errors if Gemfile has been modified since Gemfile.lock\nRUN bundle config --global frozen 1 && \\\n    apk --update --no-cache add \\\n      autoconf build-base bzip2 ca-certificates curl-dev dialog libc-dev \\\n      libffi-dev libssh2-dev libxml2-dev libxslt-dev linux-headers procps readline-dev \\\n      ruby-dev shared-mime-info tzdata yaml-dev zlib-dev && \\\n    bundle install\n\n\nCMD [\"bundle\", \"exec\", \"puma\", \"-C\", \"config/puma.rb\"]\n"},"repairedBuild":{"startTimestamp":1672516141571,"endTimestamp":1672516250948,"error":null,"stdout":"Sending build context to Docker daemon  243.2kB\r\r\nStep 1/5 : FROM ruby:3.1.1-alpine3.14\n ---> 1d3531351075\nStep 2/5 : WORKDIR /app/f1x\n ---> Running in 3b15e428e5c4\nRemoving intermediate container 3b15e428e5c4\n ---> 06b21e21f859\nStep 3/5 : COPY . .\n ---> 4769ba3c862f\nStep 4/5 : RUN bundle config --global frozen 1 &&     apk --update --no-cache add       autoconf build-base bzip2 ca-certificates curl-dev dialog libc-dev       libffi-dev libssh2-dev libxml2-dev libxslt-dev linux-headers procps readline-dev       ruby-dev shared-mime-info tzdata yaml-dev zlib-dev &&     bundle install\n ---> Running in 1612cf42e7f3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/58) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r0)\n(2/58) Upgrading ncurses-terminfo-base (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(3/58) Upgrading ncurses-libs (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(4/58) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r0)\n(5/58) Installing m4 (1.4.18-r2)\n(6/58) Installing libbz2 (1.0.8-r1)\n(7/58) Installing perl (5.32.1-r0)\n(8/58) Installing autoconf (2.71-r0)\n(9/58) Installing binutils (2.35.2-r2)\n(10/58) Installing libmagic (5.40-r1)\n(11/58) Installing file (5.40-r1)\n(12/58) Installing libgomp (10.3.1_git20210424-r2)\n(13/58) Installing libatomic (10.3.1_git20210424-r2)\n(14/58) Installing libgphobos (10.3.1_git20210424-r2)\n(15/58) Installing isl22 (0.22-r0)\n(16/58) Installing mpfr4 (4.1.0-r0)\n(17/58) Installing mpc1 (1.2.1-r0)\n(18/58) Installing gcc (10.3.1_git20210424-r2)\n(19/58) Installing musl-dev (1.2.2-r3)\n(20/58) Installing libc-dev (0.7.2-r3)\n(21/58) Installing g++ (10.3.1_git20210424-r2)\n(22/58) Installing make (4.3-r0)\n(23/58) Installing fortify-headers (1.1-r1)\n(24/58) Installing patch (2.7.6-r7)\n(25/58) Installing build-base (0.5-r3)\n(26/58) Installing openssl-dev (1.1.1s-r0)\n(27/58) Installing nghttp2-libs (1.43.0-r0)\n(28/58) Installing nghttp2-dev (1.43.0-r0)\n(29/58) Installing brotli-libs (1.0.9-r5)\n(30/58) Installing brotli-dev (1.0.9-r5)\n(31/58) Installing libcurl (7.79.1-r4)\n(32/58) Installing curl-dev (7.79.1-r4)\n(33/58) Installing dialog (1.3.20210530-r0)\n(34/58) Installing libssh2 (1.9.0-r1)\n(35/58) Installing libssh2-dev (1.9.0-r1)\n(36/58) Installing xz-libs (5.2.5-r1)\n(37/58) Installing xz-dev (5.2.5-r1)\n(38/58) Installing libxml2 (2.9.14-r2)\n(39/58) Installing libxml2-dev (2.9.14-r2)\n(40/58) Installing libgpg-error (1.42-r0)\n(41/58) Installing libgcrypt (1.9.4-r0)\n(42/58) Installing libxslt (1.1.35-r0)\n(43/58) Installing libxslt-dev (1.1.35-r0)\n(44/58) Installing libhistory (8.1.0-r0)\n(45/58) Installing ncurses-dev (6.2_p20210612-r1)\n(46/58) Installing readline-dev (8.1.0-r0)\n(47/58) Installing gdbm (1.19-r0)\n(48/58) Installing ruby-libs (2.7.6-r0)\n(49/58) Installing ruby (2.7.6-r0)\n(50/58) Installing libucontext (1.1-r0)\n(51/58) Installing libucontext-dev (1.1-r0)\n(52/58) Installing ruby-dev (2.7.6-r0)\n(53/58) Installing libblkid (2.37.4-r0)\n(54/58) Installing libmount (2.37.4-r0)\n(55/58) Installing pcre (8.44-r0)\n(56/58) Installing glib (2.68.3-r0)\n(57/58) Installing shared-mime-info (2.1-r0)\n(58/58) Installing tzdata (2022f-r1)\nExecuting busybox-1.33.1-r7.trigger\nExecuting ca-certificates-20211220-r0.trigger\nExecuting shared-mime-info-2.1-r0.trigger\nOK: 288 MiB in 89 packages\nBundler 2.3.7 is running, but your lockfile was generated with 2.2.15. Installing Bundler 2.2.15 and restarting using that version.\nFetching gem metadata from https://rubygems.org/.\nFetching bundler 2.2.15\nInstalling bundler 2.2.15\n\u001b[91mCalling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated. Please call `DidYouMean.correct_error(error_name, spell_checker)' instead.\n\u001b[0mFetching gem metadata from https://rubygems.org/..........\nUsing rake 13.0.6\nUsing bundler 2.2.15\nUsing ruby2_keywords 0.0.5\nFetching method_source 1.0.0\nFetching rack 2.2.3\nFetching minitest 5.14.4\nFetching mime-types-data 3.2021.0901\nFetching dotenv 2.7.6\nFetching event_emitter 0.2.6\nFetching concurrent-ruby 1.1.9\nFetching byebug 11.1.3\nFetching coderay 1.1.3\nFetching diff-lcs 1.4.4\nFetching multi_json 1.15.0\nFetching netrc 0.11.0\nFetching ffi 1.15.4\nFetching rspec-support 3.10.2\nFetching http-accept 1.7.0\nFetching websocket 1.2.9\nFetching zeitwerk 2.4.2\nFetching unf_ext 0.0.8\nFetching foreman 0.87.2\nFetching nio4r 2.5.8\nFetching tilt 2.0.10\nFetching mustermann 1.1.1\nInstalling foreman 0.87.2\nInstalling dotenv 2.7.6\nInstalling rack 2.2.3\nInstalling method_source 1.0.0\nInstalling event_emitter 0.2.6\nInstalling tilt 2.0.10\nInstalling http-accept 1.7.0\nInstalling netrc 0.11.0\nInstalling zeitwerk 2.4.2\nInstalling rspec-support 3.10.2\nInstalling websocket 1.2.9\nInstalling multi_json 1.15.0\nInstalling mustermann 1.1.1\nInstalling diff-lcs 1.4.4\nInstalling byebug 11.1.3 with native extensions\nInstalling minitest 5.14.4\nInstalling coderay 1.1.3\nInstalling nio4r 2.5.8 with native extensions\nInstalling mime-types-data 3.2021.0901\nInstalling concurrent-ruby 1.1.9\nInstalling unf_ext 0.0.8 with native extensions\nFetching rspec-core 3.10.1\nFetching rspec-expectations 3.10.1\nFetching rspec-mocks 3.10.2\nInstalling rspec-core 3.10.1\nInstalling rspec-mocks 3.10.2\nInstalling rspec-expectations 3.10.1\nFetching websocket-client-simple 0.3.0\nInstalling websocket-client-simple 0.3.0\nFetching mime-types 3.3.1\nInstalling ffi 1.15.4 with native extensions\nInstalling mime-types 3.3.1\nFetching pry 0.13.1\nFetching rack-protection 2.1.0\nFetching rack-test 1.1.0\nInstalling rack-protection 2.1.0\nInstalling rack-test 1.1.0\nInstalling pry 0.13.1\nFetching sinatra 2.1.0\nFetching rspec 3.10.0\nInstalling sinatra 2.1.0\nInstalling rspec 3.10.0\nFetching tzinfo 2.0.4\nFetching i18n 1.8.10\nInstalling i18n 1.8.10\nInstalling tzinfo 2.0.4\nFetching sinatra-contrib 2.1.0\nInstalling sinatra-contrib 2.1.0\nFetching activesupport 6.1.4.1\nInstalling activesupport 6.1.4.1\nFetching factory_bot 6.2.0\nInstalling factory_bot 6.2.0\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching http-cookie 1.0.4\nInstalling http-cookie 1.0.4\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nFetching discordrb-webhooks 3.3.0\nInstalling discordrb-webhooks 3.3.0\nFetching pry-byebug 3.9.0\nInstalling pry-byebug 3.9.0\nFetching puma 5.5.2\nInstalling puma 5.5.2 with native extensions\nFetching opus-ruby 1.0.1\nInstalling opus-ruby 1.0.1\nFetching discordrb 3.4.0\nInstalling discordrb 3.4.0\nBundle complete! 12 Gemfile dependencies, 49 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 1612cf42e7f3\n ---> 69e5663eef76\nStep 5/5 : CMD [\"bundle\", \"exec\", \"puma\", \"-C\", \"config/puma.rb\"]\n ---> Running in 494ae0a25dde\nRemoving intermediate container 494ae0a25dde\n ---> 7daed661f554\nSuccessfully built 7daed661f554\nSuccessfully tagged cord:latest\n","stderr":"","imageSize":406149651},"endTime":1672516252109}