{"repository":"https://github.com/zendesk/term-check","dockerfilePath":"Dockerfile","startTime":1673249142324,"endTime":1673249242544,"clone":{"startTime":1673249142324,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/zendesk/term-check'...\n","error":null,"endTime":1673249143053,"commit":"0e65d2b1222cfef674f6f7245b1c6c895fbfde1c"},"originalBuild":{"startTime":1673249143147,"endTime":1673249210152,"error":null,"stdout":"Sending build context to Docker daemon  199.2kB\r\r\nStep 1/15 : FROM golang:1.11-alpine AS build_base\n1.11-alpine: Pulling from library/golang\n9d48c3bd43c5: Pulling fs layer\n7f94eaf8af20: Pulling fs layer\n9fe9984849c1: Pulling fs layer\nec448270508e: Pulling fs layer\n65ba82af53f7: Pulling fs layer\n65ba82af53f7: Waiting\nec448270508e: Waiting\n9fe9984849c1: Verifying Checksum\n9fe9984849c1: Download complete\n7f94eaf8af20: Verifying Checksum\n7f94eaf8af20: Download complete\n9d48c3bd43c5: Verifying Checksum\n9d48c3bd43c5: Download complete\n65ba82af53f7: Download complete\n9d48c3bd43c5: Pull complete\n7f94eaf8af20: Pull complete\nec448270508e: Verifying Checksum\nec448270508e: Download complete\n9fe9984849c1: Pull complete\nec448270508e: Pull complete\n65ba82af53f7: Pull complete\nDigest: sha256:09e47edb668c2cac8c0bbce113f2f72c97b1555d70546dff569c8b9b27fcebd3\nStatus: Downloaded newer image for golang:1.11-alpine\n ---> e116d2efa2ab\nStep 2/15 : RUN apk add bash ca-certificates git gcc g++ libc-dev\n ---> Running in c932be616d5b\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/23) Upgrading musl (1.1.22-r3 -> 1.1.22-r4)\n(2/23) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(3/23) Installing ncurses-libs (6.1_p20190518-r2)\n(4/23) Installing readline (8.0.0-r0)\n(5/23) Installing bash (5.0.0-r0)\nExecuting bash-5.0.0-r0.post-install\n(6/23) Installing libgcc (8.3.0-r0)\n(7/23) Installing libstdc++ (8.3.0-r0)\n(8/23) Installing binutils (2.32-r1)\n(9/23) Installing gmp (6.1.2-r1)\n(10/23) Installing isl (0.18-r0)\n(11/23) Installing libgomp (8.3.0-r0)\n(12/23) Installing libatomic (8.3.0-r0)\n(13/23) Installing mpfr3 (3.1.5-r1)\n(14/23) Installing mpc1 (1.1.0-r0)\n(15/23) Installing gcc (8.3.0-r0)\n(16/23) Installing musl-dev (1.1.22-r4)\n(17/23) Installing libc-dev (0.7.1-r0)\n(18/23) Installing g++ (8.3.0-r0)\n(19/23) Installing nghttp2-libs (1.39.2-r1)\n(20/23) Installing libcurl (7.66.0-r4)\n(21/23) Installing expat (2.2.8-r0)\n(22/23) Installing pcre2 (10.33-r0)\n(23/23) Installing git (2.22.5-r0)\nExecuting busybox-1.30.1-r2.trigger\nOK: 175 MiB in 37 packages\nRemoving intermediate container c932be616d5b\n ---> 365b70e24ce1\nStep 3/15 : WORKDIR /go/src/github.com/zendesk/term-check\n ---> Running in 08d911c4a01b\nRemoving intermediate container 08d911c4a01b\n ---> 44f150beaa63\nStep 4/15 : ENV GO111MODULE=on\n ---> Running in c1fd632ec103\nRemoving intermediate container c1fd632ec103\n ---> bc6b7de1450f\nStep 5/15 : COPY go.mod .\n ---> e94f38f6f112\nStep 6/15 : COPY go.sum .\n ---> bb9bd2433cf3\nStep 7/15 : RUN go mod download\n ---> Running in 5afcb713cacf\n\u001b[91mgo: finding github.com/gorilla/mux v1.6.2\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/context v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/kr/pretty v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/juju/retry v0.0.0-20180821225755-9058e192b216\n\u001b[0m\u001b[91mgo: finding github.com/DataDog/ghinstallation v0.1.2-0.20190205220828-59991dd7261d\n\u001b[0m\u001b[91mgo: finding github.com/juju/loggo v0.0.0-20180524022052-584905176618\n\u001b[0m\u001b[91mgo: finding github.com/juju/errors v0.0.0-20181012004132-a4583d0a56ea\n\u001b[0m\u001b[91mgo: finding github.com/juju/version v0.0.0-20180108022336-b64dbd566305\n\u001b[0m\u001b[91mgo: finding gopkg.in/mgo.v2 v2.0.0-20180705113604-9856a29383ce\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.2\n\u001b[0m\u001b[91mgo: finding github.com/rs/zerolog v1.10.0\n\u001b[0m\u001b[91mgo: finding github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.3.0\n\u001b[0m\u001b[91mgo: finding github.com/kr/text v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/waigani/diffparser v0.0.0-20180518143736-8ef6bf958d9e\n\u001b[0m\u001b[91mgo: finding github.com/juju/clock v0.0.0-20180808021310-bab88fc67299\n\u001b[0m\u001b[91mgo: finding github.com/google/go-github/v18 v18.2.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127\n\u001b[0m\u001b[91mgo: finding github.com/juju/utils v0.0.0-20180820210520-bf9cc5bdd62d\n\u001b[0m\u001b[91mgo: finding github.com/google/go-github/v32 v32.1.0\n\u001b[0m\u001b[91mgo: finding github.com/sabhiram/go-gitignore v0.0.0-20180611051255-d3107576ba94\n\u001b[0m\u001b[91mgo: finding github.com/juju/testing v0.0.0-20180920084828-472a3e8b2073\n\u001b[0m\u001b[91mgo: finding github.com/kr/pty v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/objx v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.2.0\n\u001b[0m\u001b[91mgo: finding github.com/google/go-querystring v1.0.0\n\u001b[0m\u001b[91mgo: finding google.golang.org/appengine v1.1.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20180820150726-614d502a4dac\ngo: finding golang.org/x/sys v0.0.0-20180824143301-4910a1d54f87\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20180826012351-8a410e7b638d\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20190311183353-d8887717615a\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2\n\u001b[0m\u001b[91mgo: finding golang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n\u001b[0m\u001b[91mgo: finding golang.org/x/text v0.3.0\n\u001b[0mRemoving intermediate container 5afcb713cacf\n ---> 98230a430f01\nStep 8/15 : FROM build_base AS server_builder\n ---> 98230a430f01\nStep 9/15 : COPY . .\n ---> 45ec9f566bce\nStep 10/15 : RUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go install -a -tags netgo -ldflags '-w -extldflags \"-static\"' ./cmd/term-check\n ---> Running in 872f0db19689\nRemoving intermediate container 872f0db19689\n ---> a22483984537\nStep 11/15 : FROM alpine AS term-check\n ---> 49176f190c7e\nStep 12/15 : RUN apk add ca-certificates\n ---> Running in ef6ffe2170e7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r4)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r4.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container ef6ffe2170e7\n ---> 2c8b97e737b0\nStep 13/15 : COPY --from=server_builder /go/bin/term-check /bin/term-check\n ---> 199a8aa39187\nStep 14/15 : COPY --from=server_builder /go/src/github.com/zendesk/term-check/config.yaml .\n ---> 1e9919f9dcaf\nStep 15/15 : ENTRYPOINT [\"/bin/term-check\", \"--config\", \"config.yaml\"]\n ---> Running in 500d92c95c31\nRemoving intermediate container 500d92c95c31\n ---> ee7fdf090ae6\nSuccessfully built ee7fdf090ae6\nSuccessfully tagged term-check:latest\n","stderr":"","imageSize":20896657},"repair":{"startTime":1673249210204,"endTime":1673249210282,"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":53}},{"name":"apkAddUseNoCache","position":{"start":21,"end":21,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM golang:1.11-alpine AS build_base\n\nRUN apk add --no-cache bash ca-certificates git gcc g++ libc-dev\nWORKDIR /go/src/github.com/zendesk/term-check\n\nENV GO111MODULE=on\n\nCOPY go.mod .\nCOPY go.sum .\n\nRUN go mod download\n\nFROM build_base AS server_builder\n\nCOPY . .\n\nRUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go install -a -tags netgo -ldflags '-w -extldflags \"-static\"' ./cmd/term-check\n\nFROM alpine AS term-check\n\nRUN apk add --no-cache ca-certificates\n\nCOPY --from=server_builder /go/bin/term-check /bin/term-check\nCOPY --from=server_builder /go/src/github.com/zendesk/term-check/config.yaml .\n\nENTRYPOINT [\"/bin/term-check\", \"--config\", \"config.yaml\"]\n"},"repairedBuild":{"startTime":1673249210427,"endTime":1673249242275,"error":null,"stdout":"Sending build context to Docker daemon  199.2kB\r\r\nStep 1/15 : FROM golang:1.11-alpine AS build_base\n ---> e116d2efa2ab\nStep 2/15 : RUN apk add --no-cache bash ca-certificates git gcc g++ libc-dev\n ---> Running in a0db8da004ea\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/23) Upgrading musl (1.1.22-r3 -> 1.1.22-r4)\n(2/23) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(3/23) Installing ncurses-libs (6.1_p20190518-r2)\n(4/23) Installing readline (8.0.0-r0)\n(5/23) Installing bash (5.0.0-r0)\nExecuting bash-5.0.0-r0.post-install\n(6/23) Installing libgcc (8.3.0-r0)\n(7/23) Installing libstdc++ (8.3.0-r0)\n(8/23) Installing binutils (2.32-r1)\n(9/23) Installing gmp (6.1.2-r1)\n(10/23) Installing isl (0.18-r0)\n(11/23) Installing libgomp (8.3.0-r0)\n(12/23) Installing libatomic (8.3.0-r0)\n(13/23) Installing mpfr3 (3.1.5-r1)\n(14/23) Installing mpc1 (1.1.0-r0)\n(15/23) Installing gcc (8.3.0-r0)\n(16/23) Installing musl-dev (1.1.22-r4)\n(17/23) Installing libc-dev (0.7.1-r0)\n(18/23) Installing g++ (8.3.0-r0)\n(19/23) Installing nghttp2-libs (1.39.2-r1)\n(20/23) Installing libcurl (7.66.0-r4)\n(21/23) Installing expat (2.2.8-r0)\n(22/23) Installing pcre2 (10.33-r0)\n(23/23) Installing git (2.22.5-r0)\nExecuting busybox-1.30.1-r2.trigger\nOK: 175 MiB in 37 packages\nRemoving intermediate container a0db8da004ea\n ---> 4259fbcda101\nStep 3/15 : WORKDIR /go/src/github.com/zendesk/term-check\n ---> Running in 5191e93b82e1\nRemoving intermediate container 5191e93b82e1\n ---> 31344fae9e42\nStep 4/15 : ENV GO111MODULE=on\n ---> Running in f2534656b875\nRemoving intermediate container f2534656b875\n ---> 538970164c52\nStep 5/15 : COPY go.mod .\n ---> 595d6e23822b\nStep 6/15 : COPY go.sum .\n ---> b1161f644409\nStep 7/15 : RUN go mod download\n ---> Running in fb43819b3e6b\n\u001b[91mgo: finding github.com/gorilla/context v1.1.1\ngo: finding github.com/juju/errors v0.0.0-20181012004132-a4583d0a56ea\n\u001b[0m\u001b[91mgo: finding github.com/DataDog/ghinstallation v0.1.2-0.20190205220828-59991dd7261d\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/mux v1.6.2\n\u001b[0m\u001b[91mgo: finding github.com/google/go-github/v18 v18.2.0\n\u001b[0m\u001b[91mgo: finding github.com/juju/retry v0.0.0-20180821225755-9058e192b216\n\u001b[0m\u001b[91mgo: finding github.com/kr/pretty v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/juju/clock v0.0.0-20180808021310-bab88fc67299\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.2\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.3.0\n\u001b[0m\u001b[91mgo: finding github.com/juju/loggo v0.0.0-20180524022052-584905176618\n\u001b[0m\u001b[91mgo: finding github.com/sabhiram/go-gitignore v0.0.0-20180611051255-d3107576ba94\n\u001b[0m\u001b[91mgo: finding github.com/juju/testing v0.0.0-20180920084828-472a3e8b2073\n\u001b[0m\u001b[91mgo: finding github.com/rs/zerolog v1.10.0\n\u001b[0m\u001b[91mgo: finding github.com/kr/text v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/juju/version v0.0.0-20180108022336-b64dbd566305\n\u001b[0m\u001b[91mgo: finding google.golang.org/appengine v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20180824143301-4910a1d54f87\n\u001b[0m\u001b[91mgo: finding github.com/google/go-querystring v1.0.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20180820150726-614d502a4dac\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/kr/pty v1.1.1\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20180826012351-8a410e7b638d\n\u001b[0m\u001b[91mgo: finding github.com/google/go-github/v32 v32.1.0\n\u001b[0m\u001b[91mgo: finding github.com/waigani/diffparser v0.0.0-20180518143736-8ef6bf958d9e\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/objx v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.2.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n\u001b[0m\u001b[91mgo: finding github.com/juju/utils v0.0.0-20180820210520-bf9cc5bdd62d\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20190311183353-d8887717615a\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405\n\u001b[0m\u001b[91mgo: finding gopkg.in/mgo.v2 v2.0.0-20180705113604-9856a29383ce\n\u001b[0m\u001b[91mgo: finding golang.org/x/text v0.3.0\n\u001b[0mRemoving intermediate container fb43819b3e6b\n ---> 767624e67b87\nStep 8/15 : FROM build_base AS server_builder\n ---> 767624e67b87\nStep 9/15 : COPY . .\n ---> 548ef3df4e70\nStep 10/15 : RUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go install -a -tags netgo -ldflags '-w -extldflags \"-static\"' ./cmd/term-check\n ---> Running in 523cca0f301e\nRemoving intermediate container 523cca0f301e\n ---> 2781f3bf0f90\nStep 11/15 : FROM alpine AS term-check\n ---> 49176f190c7e\nStep 12/15 : RUN apk add --no-cache ca-certificates\n ---> Running in eebad05727a9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r4)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r4.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container eebad05727a9\n ---> c85f677c1b40\nStep 13/15 : COPY --from=server_builder /go/bin/term-check /bin/term-check\n ---> e1c58abfb6d9\nStep 14/15 : COPY --from=server_builder /go/src/github.com/zendesk/term-check/config.yaml .\n ---> 9491bcbe164d\nStep 15/15 : ENTRYPOINT [\"/bin/term-check\", \"--config\", \"config.yaml\"]\n ---> Running in ef42e5d265de\nRemoving intermediate container ef42e5d265de\n ---> 83e631cba1e8\nSuccessfully built 83e631cba1e8\nSuccessfully tagged term-check:latest\n","stderr":"","imageSize":18312591}}