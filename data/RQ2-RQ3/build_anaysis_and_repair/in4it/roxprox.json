{"repository":"https://github.com/in4it/roxprox","dockerfilePath":"Dockerfile","startTime":1672603892248,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/in4it/roxprox'...\n","error":null,"commit":"efdfffbeb75dafb51a4fb8d42cc96d39cbcbf202"},"originalBuild":{"startTimestamp":1672603893118,"endTimestamp":1672604014407,"error":null,"stdout":"Sending build context to Docker daemon  569.9kB\r\r\nStep 1/9 : FROM golang:1.19-alpine as go-builder\n1.19-alpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19-alpine\n ---> cae57157ceaa\nStep 2/9 : WORKDIR /roxprox\n ---> Running in b370d94b45ed\nRemoving intermediate container b370d94b45ed\n ---> e29fb06dce7c\nStep 3/9 : COPY . .\n ---> 7564fd9b3c9d\nStep 4/9 : RUN apk add -u -t build-tools curl git &&     CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o envoy-control-plane cmd/envoy-control-plane/main.go &&     apk del build-tools &&     rm -rf /var/cache/apk/*\n ---> Running in 2dc3b40dd5d7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/9) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\n(2/9) Installing brotli-libs (1.0.9-r9)\n(3/9) Installing nghttp2-libs (1.51.0-r0)\n(4/9) Installing libcurl (7.87.0-r0)\n(5/9) Installing curl (7.87.0-r0)\n(6/9) Installing libexpat (2.5.0-r0)\n(7/9) Installing pcre2 (10.42-r0)\n(8/9) Installing git (2.38.2-r0)\n(9/9) Installing build-tools (20230101.201141)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 16 MiB in 24 packages\n\u001b[91mgo: downloading github.com/juju/loggo v0.0.0-20200526014432-9ce3a2e09b5e\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.45.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.7\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.38.69\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/envoyproxy/go-control-plane v0.10.3\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210813160813-60bc85c4be6d\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20220329172620-7be39ac1afc7\n\u001b[0m\u001b[91mgo: downloading github.com/cncf/xds/go v0.0.0-20220314180256-7f1daf1720fc\n\u001b[0m\u001b[91mgo: downloading github.com/envoyproxy/protoc-gen-validate v0.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/census-instrumentation/opencensus-proto v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210616213533-5ff15b29337e\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210816183151-1e6c022a8912\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0m(1/8) Purging build-tools (20230101.201141)\n(2/8) Purging curl (7.87.0-r0)\n(3/8) Purging git (2.38.2-r0)\n(4/8) Purging libcurl (7.87.0-r0)\n(5/8) Purging brotli-libs (1.0.9-r9)\n(6/8) Purging nghttp2-libs (1.51.0-r0)\n(7/8) Purging libexpat (2.5.0-r0)\n(8/8) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 2dc3b40dd5d7\n ---> 93c1517799b2\nStep 5/9 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nca7dd9ec2225: Pulling fs layer\nca7dd9ec2225: Verifying Checksum\nca7dd9ec2225: Download complete\nca7dd9ec2225: Pull complete\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 6/9 : WORKDIR /app\n ---> Running in 6b55c6eabe4e\nRemoving intermediate container 6b55c6eabe4e\n ---> dd0171492573\nStep 7/9 : RUN apk --no-cache add ca-certificates bash curl\n ---> Running in 8c6943a10e4f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/9) Installing ncurses-libs (6.3_p20220521-r0)\n(3/9) Installing readline (8.1.2-r0)\n(4/9) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/9) Installing ca-certificates (20220614-r0)\n(6/9) Installing brotli-libs (1.0.9-r6)\n(7/9) Installing nghttp2-libs (1.47.0-r0)\n(8/9) Installing libcurl (7.83.1-r5)\n(9/9) Installing curl (7.83.1-r5)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 10 MiB in 23 packages\nRemoving intermediate container 8c6943a10e4f\n ---> 3cecd234c0cc\nStep 8/9 : COPY --from=go-builder /roxprox/envoy-control-plane .\n ---> 4a2eeebefe3e\nStep 9/9 : ENTRYPOINT [\"./envoy-control-plane\"]\n ---> Running in 23349f34d67f\nRemoving intermediate container 23349f34d67f\n ---> 6dd10683fb29\nSuccessfully built 6dd10683fb29\nSuccessfully tagged roxprox:latest\n","stderr":"","imageSize":44001189},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"#\n# Build go project\n#\nFROM golang:1.19-alpine as go-builder\n\nWORKDIR /roxprox\n\nCOPY . .\n\nRUN apk add --no-cache -u -t build-tools curl git && \\\n    CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o envoy-control-plane cmd/envoy-control-plane/main.go && \\\n    apk del build-tools && \\\n    rm -rf /var/cache/apk/*\n\n#\n# Runtime container\n#\nFROM alpine:3.16\n\nWORKDIR /app\n\nRUN apk --no-cache add ca-certificates bash curl\n\nCOPY --from=go-builder /roxprox/envoy-control-plane .\n\nENTRYPOINT [\"./envoy-control-plane\"]\n"},"repairedBuild":{"startTimestamp":1672604014739,"endTimestamp":1672604090335,"error":null,"stdout":"Sending build context to Docker daemon  570.4kB\r\r\nStep 1/9 : FROM golang:1.19-alpine as go-builder\n ---> cae57157ceaa\nStep 2/9 : WORKDIR /roxprox\n ---> Running in 31ae7001563c\nRemoving intermediate container 31ae7001563c\n ---> 868620bbe903\nStep 3/9 : COPY . .\n ---> 30983b72d4ee\nStep 4/9 : RUN apk add --no-cache -u -t build-tools curl git &&     CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o envoy-control-plane cmd/envoy-control-plane/main.go &&     apk del build-tools &&     rm -rf /var/cache/apk/*\n ---> Running in cb53c95ff00f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/9) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\n(2/9) Installing brotli-libs (1.0.9-r9)\n(3/9) Installing nghttp2-libs (1.51.0-r0)\n(4/9) Installing libcurl (7.87.0-r0)\n(5/9) Installing curl (7.87.0-r0)\n(6/9) Installing libexpat (2.5.0-r0)\n(7/9) Installing pcre2 (10.42-r0)\n(8/9) Installing git (2.38.2-r0)\n(9/9) Installing build-tools (20230101.201343)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 16 MiB in 24 packages\n\u001b[91mgo: downloading github.com/juju/loggo v0.0.0-20200526014432-9ce3a2e09b5e\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.45.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.7\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.38.69\n\u001b[0m\u001b[91mgo: downloading github.com/envoyproxy/go-control-plane v0.10.3\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20220329172620-7be39ac1afc7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210813160813-60bc85c4be6d\n\u001b[0m\u001b[91mgo: downloading github.com/envoyproxy/protoc-gen-validate v0.6.7\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/cncf/xds/go v0.0.0-20220314180256-7f1daf1720fc\n\u001b[0m\u001b[91mgo: downloading github.com/census-instrumentation/opencensus-proto v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210616213533-5ff15b29337e\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210816183151-1e6c022a8912\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/8) Purging build-tools (20230101.201343)\n(2/8) Purging curl (7.87.0-r0)\n(3/8) Purging git (2.38.2-r0)\n(4/8) Purging libcurl (7.87.0-r0)\n(5/8) Purging brotli-libs (1.0.9-r9)\n(6/8) Purging nghttp2-libs (1.51.0-r0)\n(7/8) Purging libexpat (2.5.0-r0)\n(8/8) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container cb53c95ff00f\n ---> b792dd674dc1\nStep 5/9 : FROM alpine:3.16\n ---> bfe296a52501\nStep 6/9 : WORKDIR /app\n ---> Running in 9d3f67a597d0\nRemoving intermediate container 9d3f67a597d0\n ---> 917a3a1580c2\nStep 7/9 : RUN apk --no-cache add ca-certificates bash curl\n ---> Running in 6982ee6b28a5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/9) Installing ncurses-libs (6.3_p20220521-r0)\n(3/9) Installing readline (8.1.2-r0)\n(4/9) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/9) Installing ca-certificates (20220614-r0)\n(6/9) Installing brotli-libs (1.0.9-r6)\n(7/9) Installing nghttp2-libs (1.47.0-r0)\n(8/9) Installing libcurl (7.83.1-r5)\n(9/9) Installing curl (7.83.1-r5)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 10 MiB in 23 packages\nRemoving intermediate container 6982ee6b28a5\n ---> 02d05da9e690\nStep 8/9 : COPY --from=go-builder /roxprox/envoy-control-plane .\n ---> 0add18d7f40a\nStep 9/9 : ENTRYPOINT [\"./envoy-control-plane\"]\n ---> Running in 1cdb053e4178\nRemoving intermediate container 1cdb053e4178\n ---> 19a94cd836dd\nSuccessfully built 19a94cd836dd\nSuccessfully tagged roxprox:latest\n","stderr":"","imageSize":44001189},"endTime":1672604090588}