{"repository":"https://github.com/federicoponzi/horust","dockerfilePath":"Dockerfile","startTime":1672591972861,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/federicoponzi/horust'...\n","error":null,"commit":"07b5a02b3c9b0a448c0099fbf0b6e145a8734235"},"originalBuild":{"startTimestamp":1672591973744,"endTimestamp":1672592217965,"error":null,"stdout":"Sending build context to Docker daemon  608.3kB\r\r\nStep 1/18 : FROM rust:1 as builder\n1: Pulling from library/rust\nDigest: sha256:0067330b7e0eacacc5c32f21b720607c0cd61eda905c8d55e6a745f579ddeee9\nStatus: Downloaded newer image for rust:1\n ---> 5e0d0367026b\nStep 2/18 : WORKDIR /usr/src/myapp\n ---> Running in a2ab108dcc37\nRemoving intermediate container a2ab108dcc37\n ---> e5bb126f50f8\nStep 3/18 : COPY . .\n ---> b1156735f2ef\nStep 4/18 : ARG CARGO_PARAMS\n ---> Running in de305989c936\nRemoving intermediate container de305989c936\n ---> e6716ede7ef7\nStep 5/18 : ARG GIT_COMMIT\n ---> Running in 68dcf7c490c2\nRemoving intermediate container 68dcf7c490c2\n ---> dc3ca743b51c\nStep 6/18 : ARG GIT_BRANCH\n ---> Running in 7eeeac546279\nRemoving intermediate container 7eeeac546279\n ---> a24b4451bab5\nStep 7/18 : ARG IMAGE_NAME\n ---> Running in a13ef62d3ed9\nRemoving intermediate container a13ef62d3ed9\n ---> 5892d6732bbb\nStep 8/18 : RUN echo \"Running cargo build with params: $CARGO_PARAMS\" && cargo build --release $CARGO_PARAMS\n ---> Running in a4cfffa39529\nRunning cargo build with params: \n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded is-terminal v0.4.1\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.2\n\u001b[0m\u001b[91m  Downloaded indexmap v1.7.0\n\u001b[0m\u001b[91m  Downloaded futures-task v0.3.17\n\u001b[0m\u001b[91m  Downloaded tinyvec v1.5.0\n\u001b[0m\u001b[91m  Downloaded futures-util v0.3.17\n\u001b[0m\u001b[91m  Downloaded futures-channel v0.3.17\n\u001b[0m\u001b[91m  Downloaded clap v4.0.29\n\u001b[0m\u001b[91m  Downloaded futures-sink v0.3.17\n\u001b[0m\u001b[91m  Downloaded httpdate v1.0.1\n\u001b[0m\u001b[91m  Downloaded hyper v0.14.19\n\u001b[0m\u001b[91m  Downloaded encoding_rs v0.8.29\n\u001b[0m\u001b[91m  Downloaded tokio v1.16.1\n\u001b[0m\u001b[91m  Downloaded http v0.2.5\n\u001b[0m\u001b[91m  Downloaded os_str_bytes v6.3.0\n\u001b[0m\u001b[91m  Downloaded nix v0.25.0\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.148\n\u001b[0m\u001b[91m  Downloaded libc v0.2.137\n\u001b[0m\u001b[91m  Downloaded unicode-ident v1.0.4\n\u001b[0m\u001b[91m  Downloaded httparse v1.7.1\n\u001b[0m\u001b[91m  Downloaded serde v1.0.148\n\u001b[0m\u001b[91m  Downloaded crossbeam-utils v0.8.10\n\u001b[0m\u001b[91m  Downloaded crossbeam-epoch v0.9.5\n\u001b[0m\u001b[91m  Downloaded rustix v0.36.5\n\u001b[0m\u001b[91m  Downloaded heck v0.4.0\n\u001b[0m\u001b[91m  Downloaded futures-io v0.3.17\n\u001b[0m\u001b[91m  Downloaded env_logger v0.9.1\n\u001b[0m\u001b[91m  Downloaded itoa v0.4.8\n\u001b[0m\u001b[91m  Downloaded regex v1.5.6\n\u001b[0m\u001b[91m  Downloaded termcolor v1.1.2\n\u001b[0m\u001b[91m  Downloaded url v2.2.2\n\u001b[0m\u001b[91m  Downloaded unicode-normalization v0.1.19\n\u001b[0m\u001b[91m  Downloaded want v0.3.0\n\u001b[0m\u001b[91m  Downloaded tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m  Downloaded matches v0.1.9\n\u001b[0m\u001b[91m  Downloaded maplit v1.0.2\n\u001b[0m\u001b[91m  Downloaded toml v0.5.9\n\u001b[0m\u001b[91m  Downloaded fnv v1.0.7\n\u001b[0m\u001b[91m  Downloaded dirs-sys v0.3.7\n\u001b[0m\u001b[91m  Downloaded memchr v2.4.1\n\u001b[0m\u001b[91m  Downloaded memoffset v0.6.4\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.68\n\u001b[0m\u001b[91m  Downloaded try-lock v0.2.3\n\u001b[0m\u001b[91m  Downloaded serde_urlencoded v0.7.1\n\u001b[0m\u001b[91m  Downloaded proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  Downloaded unicode-bidi v0.3.7\n\u001b[0m\u001b[91m  Downloaded socket2 v0.4.2\n\u001b[0m\u001b[91m  Downloaded ipnet v2.3.1\n\u001b[0m\u001b[91m  Downloaded shellexpand v2.1.2\n\u001b[0m\u001b[91m  Downloaded form_urlencoded v1.0.1\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.46\n\u001b[0m\u001b[91m  Downloaded http-body v0.4.4\n\u001b[0m\u001b[91m  Downloaded thiserror-impl v1.0.37\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded crossbeam-deque v0.8.1\n\u001b[0m\u001b[91m  Downloaded clap_lex v0.3.0\n\u001b[0m\u001b[91m  Downloaded atty v0.2.14\n\u001b[0m\u001b[91m  Downloaded scopeguard v1.1.0\n\u001b[0m\u001b[91m  Downloaded proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m  Downloaded pin-utils v0.1.0\n\u001b[0m\u001b[91m  Downloaded linux-raw-sys v0.1.4\n\u001b[0m\u001b[91m  Downloaded idna v0.2.3\n\u001b[0m\u001b[91m  Downloaded humantime v2.1.0\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.11.2\n\u001b[0m\u001b[91m  Downloaded crossbeam v0.8.2\n\u001b[0m\u001b[91m  Downloaded dirs v4.0.0\n\u001b[0m\u001b[91m  Downloaded clap_derive v4.0.21\n\u001b[0m\u001b[91m  Downloaded bytes v1.1.0\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded base64 v0.13.0\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded tokio-util v0.6.9\n\u001b[0m\u001b[91m  Downloaded regex-syntax v0.6.26\n\u001b[0m\u001b[91m  Downloaded percent-encoding v2.1.0\n\u001b[0m\u001b[91m  Downloaded io-lifetimes v1.0.3\n\u001b[0m\u001b[91m  Downloaded anyhow v1.0.68\n\u001b[0m\u001b[91m  Downloaded tracing-core v0.1.21\n\u001b[0m\u001b[91m  Downloaded tracing v0.1.29\n\u001b[0m\u001b[91m  Downloaded tower-service v0.3.1\n\u001b[0m\u001b[91m  Downloaded thiserror v1.0.37\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.5\n\u001b[0m\u001b[91m  Downloaded syn v1.0.105\n\u001b[0m\u001b[91m  Downloaded strsim v0.10.0\n\u001b[0m\u001b[91m  Downloaded slab v0.4.5\n\u001b[0m\u001b[91m  Downloaded shlex v1.1.0\n\u001b[0m\u001b[91m  Downloaded quote v1.0.10\n\u001b[0m\u001b[91m  Downloaded pin-project-lite v0.2.7\n\u001b[0m\u001b[91m  Downloaded num_cpus v1.13.0\n\u001b[0m\u001b[91m  Downloaded mio v0.7.14\n\u001b[0m\u001b[91m  Downloaded mime v0.3.16\n\u001b[0m\u001b[91m  Downloaded log v0.4.17\n\u001b[0m\u001b[91m  Downloaded lazy_static v1.4.0\n\u001b[0m\u001b[91m  Downloaded futures-core v0.3.17\n\u001b[0m\u001b[91m  Downloaded humantime-serde v1.1.1\n\u001b[0m\u001b[91m  Downloaded h2 v0.3.10\n\u001b[0m\u001b[91m  Downloaded aho-corasick v0.7.18\n\u001b[0m\u001b[91m  Downloaded crossbeam-channel v0.5.1\n\u001b[0m\u001b[91m  Downloaded crossbeam-queue v0.3.2\n\u001b[0m\u001b[91m  Downloaded reqwest v0.11.12\n\u001b[0m\u001b[91m  Downloaded once_cell v1.14.0\n\u001b[0m\u001b[91m   Compiling libc v0.2.137\n\u001b[0m\u001b[91m   Compiling cfg-if v1.0.0\n   Compiling proc-macro2 v1.0.46\n   Compiling\u001b[0m\u001b[91m unicode-ident v1.0.4\n   Compiling autocfg v1.1.0\n   Compiling syn v\u001b[0m\u001b[91m1.0.105\n\u001b[0m\u001b[91m   Compiling memchr v\u001b[0m\u001b[91m2.4.1\n\u001b[0m\u001b[91m   Compiling log v0.4.\u001b[0m\u001b[91m17\n\u001b[0m\u001b[91m   Compiling pin-project-lite v0.2.7\n\u001b[0m\u001b[91m   Compiling once_cell v1.14.0\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.148\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling futures-core v0\u001b[0m\u001b[91m.3.17\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling lazy_static\u001b[0m\u001b[91m v1.4.0\n\u001b[0m\u001b[91m   Compiling serde v1.0.148\n\u001b[0m\u001b[91m   Compiling bytes v1.\u001b[0m\u001b[91m1.0\n\u001b[0m\u001b[91m   Compiling crossbeam-utils v0.8.10\n\u001b[0m\u001b[91m   Compiling futures-task v0.3.17\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling itoa v\u001b[0m\u001b[91m0.4.8\n\u001b[0m\u001b[91m   Compiling pin-utils v0.1.0\n\u001b[0m\u001b[91m   Compiling tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m   Compiling io-lifetimes v1.0.3\n\u001b[0m\u001b[91m   Compiling fnv v1.0.7\n\u001b[0m\u001b[91m   Compiling ryu v1.0.5\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling matches v0.1.9\n\u001b[0m\u001b[91m   Compiling futures-io v0.3.17\n   Compiling slab v0.4.5\n\u001b[0m\u001b[91m   Compiling crossbeam-epoch v0.\u001b[0m\u001b[91m9.5\n\u001b[0m\u001b[91m   Compiling percent-encoding v2.1.0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling httparse v1.7.1\n   Compiling futures-sink v0.3\u001b[0m\u001b[91m.17\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling hashbrown v0.11.2\n\u001b[0m\u001b[91m   Compiling rustix v0.36.5\n\u001b[0m\u001b[91m   Compiling futures-channel v0.\u001b[0m\u001b[91m3.17\n\u001b[0m\u001b[91m   Compiling encoding_rs v0.8.\u001b[0m\u001b[91m29\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling linux-raw-sys v0.1.4\n\u001b[0m\u001b[91m   Compiling try-lock v0.2.3\n\u001b[0m\u001b[91m   Compiling tracing-core v0.1.21\n\u001b[0m\u001b[91m   Compiling itoa v1.0.2\n\u001b[0m\u001b[91m   Compiling scopeguard v1.1.0\n\u001b[0m\u001b[91m   Compiling serde_json v1.0.68\n\u001b[0m\u001b[91m   Compiling tinyvec v1.5.0\n\u001b[0m\u001b[91m   Compiling unicode-bidi v0.3.7\n\u001b[0m\u001b[91m   Compiling crossbeam-queue v0.3.2\n\u001b[0m\u001b[91m   Compiling humantime v2.1.0\n\u001b[0m\u001b[91m   Compiling termcolor v1.1.2\n\u001b[0m\u001b[91m   Compiling os_str_bytes v6.3.0\n\u001b[0m\u001b[91m   Compiling form_urlencoded v1.0.1\n\u001b[0m\u001b[91m   Compiling regex-syntax v0.6.26\n\u001b[0m\u001b[91m   Compiling thiserror v1.0.37\n\u001b[0m\u001b[91m   Compiling tower-service v0.3.1\n\u001b[0m\u001b[91m   Compiling heck v0.4.0\n\u001b[0m\u001b[91m   Compiling proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m   Compiling proc-macro-error v1.0.4\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling memoffset v0.6.4\n\u001b[0m\u001b[91m   Compiling indexmap v1.7.0\n\u001b[0m\u001b[91m   Compiling futures-util v0.3.17\n\u001b[0m\u001b[91m   Compiling http v0.2.5\n\u001b[0m\u001b[91m   Compiling tracing v0.1.29\n\u001b[0m\u001b[91m   Compiling anyhow v1.0.68\n\u001b[0m\u001b[91m   Compiling httpdate v1.0.1\n\u001b[0m\u001b[91m   Compiling clap_lex v0.3.0\n\u001b[0m\u001b[91m   Compiling strsim v0.10.0\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91m Compiling \u001b[0m\u001b[91mbase64 v0.13.0\n\u001b[0m\u001b[91m   Compiling mime v0.\u001b[0m\u001b[91m3.\u001b[0m\u001b[91m16\n\u001b[0m\u001b[91m   Compiling ipnet v2.3.1\n\u001b[0m\u001b[91m   Compiling want v0.3.0\n\u001b[0m\u001b[91m   Compiling maplit v1.0.2\n\u001b[0m\u001b[91m   Compiling shlex v1.1.0\n\u001b[0m\u001b[91m   Compiling crossbeam-channel v0.5.1\n\u001b[0m\u001b[91m   Compiling quote v1.0.10\n\u001b[0m\u001b[91m   Compiling aho-corasick v0.7.18\n\u001b[0m\u001b[91m   Compiling unicode-normalization v0.1.19\n\u001b[0m\u001b[91m   Compiling crossbeam-deque v0.8.1\n\u001b[0m\u001b[91m   Compiling crossbeam v0.8.2\n\u001b[0m\u001b[91m   Compiling regex v1.5.6\n\u001b[0m\u001b[91m   Compiling idna v0.2.3\n\u001b[0m\u001b[91m   Compiling mio v0.7.14\n\u001b[0m\u001b[91m   Compiling num_cpus v1.13.0\n\u001b[0m\u001b[91m   Compiling dirs-sys v0.3.7\n   Compiling socket2 v0.4.2\n   Compiling atty v0.2.14\n\u001b[0m\u001b[91m   Compiling nix v0.25.0\n\u001b[0m\u001b[91m   Compiling http-body v0.4.4\n\u001b[0m\u001b[91m   Compiling dirs v4.0.0\n\u001b[0m\u001b[91m   Compiling shellexpand v2.1.2\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling tokio v1.16.1\n\u001b[0m\u001b[91m   Compiling url v2\u001b[0m\u001b[91m.2\u001b[0m\u001b[91m.\u001b[0m\u001b[91m2\n\u001b[0m\u001b[91m   Compiling env_logger v0.9.1\n\u001b[0m\u001b[91m   Compiling is-terminal v0.4.1\n\u001b[0m\u001b[91m   Compiling clap_derive v4.0.\u001b[0m\u001b[91m21\n\u001b[0m\u001b[91m   Compiling\u001b[0m\u001b[91m thiserror-impl\u001b[0m\u001b[91m v1.\u001b[0m\u001b[91m0.37\n\u001b[0m\u001b[91m   Compiling tokio-util v0.6.9\n\u001b[0m\u001b[91m   Compiling h2 v0.3.10\n\u001b[0m\u001b[91m   Compiling clap v4.0.29\n\u001b[0m\u001b[91m   Compiling hyper v0.14.19\n\u001b[0m\u001b[91m   Compiling serde_urlencoded v0.7.1\n   Compiling humantime-serde v1.1.1\n   Compiling toml v0.5.9\n\u001b[0m\u001b[91m   Compiling reqwest v0.11.12\n\u001b[0m\u001b[91m   Compiling horust v0.1.6 (/usr/src/myapp)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 1m 03s\n\u001b[0mRemoving intermediate container a4cfffa39529\n ---> cce1f3ed6a0d\nStep 9/18 : FROM debian:buster-slim\n ---> 101a5b2953f2\nStep 10/18 : COPY --from=builder /usr/src/myapp/target/release/horust /sbin/horust\n ---> 9efbfa220c8c\nStep 11/18 : RUN mkdir -p /etc/horust/services/ && apt-get update && apt-get install bash\n ---> Running in ed36f1756da2\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5930 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nbash is already the newest version (5.0-4).\nbash set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container ed36f1756da2\n ---> b318ea86d4b0\nStep 12/18 : ENV HORUST_LOG info\n ---> Running in 0cfa2686cca0\nRemoving intermediate container 0cfa2686cca0\n ---> d7ae225fa925\nStep 13/18 : ENV GIT_COMMIT=$GIT_COMMIT\n ---> Running in 8cd7d341b832\nRemoving intermediate container 8cd7d341b832\n ---> 9ac2cadb27d0\nStep 14/18 : ENV GIT_BRANCH=$GIT_BRANCH\n ---> Running in 4858ab10bf7c\nRemoving intermediate container 4858ab10bf7c\n ---> ca73309c298d\nStep 15/18 : ENV CARGO_PARAMS=$CARGO_PARAMS\n ---> Running in 517458643a6c\nRemoving intermediate container 517458643a6c\n ---> 99e5a33127d6\nStep 16/18 : ENTRYPOINT [\"/sbin/horust\"]\n ---> Running in 763f5fd14245\nRemoving intermediate container 763f5fd14245\n ---> f52c5719b7af\nStep 17/18 : RUN echo \"{\\\"rev\\\":\\\"$GIT_COMMIT\\\",\\\"branch\\\":\\\"${GIT_BRANCH}\\\",\\\"cargo-params\\\":\\\"${CARGO_PARAMS}\\\" }\" > /etc/horust/buildinfo.json\n ---> Running in 0d1f73ae6871\nRemoving intermediate container 0d1f73ae6871\n ---> b737243056c5\nStep 18/18 : CMD [\"--services-path\", \"/etc/horust/services/\"]\n ---> Running in 74cafb7d16c3\nRemoving intermediate container 74cafb7d16c3\n ---> cbf64a66b752\nSuccessfully built cbf64a66b752\nSuccessfully tagged horust:latest\n","stderr":"","imageSize":92343335},"repair":{"violations":[{"name":"ruleAptGetInstallUseY","position":{"start":12,"end":12,"columnStart":56,"columnEnd":76}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":12,"end":12,"columnStart":56,"columnEnd":76}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":12,"end":12,"columnStart":56,"columnEnd":76}}],"repairedDockerfile":"FROM rust:1 as builder\nWORKDIR /usr/src/myapp\nCOPY . .\nARG CARGO_PARAMS\nARG GIT_COMMIT\nARG GIT_BRANCH\nARG IMAGE_NAME\n\nRUN echo \"Running cargo build with params: $CARGO_PARAMS\" && cargo build --release $CARGO_PARAMS\n\nFROM debian:buster-slim\nCOPY --from=builder /usr/src/myapp/target/release/horust /sbin/horust\nRUN mkdir -p /etc/horust/services/ && apt-get update && apt-get install -y --no-install-recommends bash\nENV HORUST_LOG info\nENV GIT_COMMIT=$GIT_COMMIT\nENV GIT_BRANCH=$GIT_BRANCH\nENV CARGO_PARAMS=$CARGO_PARAMS\n\nENTRYPOINT [\"/sbin/horust\"]\nRUN echo \"{\\\"rev\\\":\\\"$GIT_COMMIT\\\",\\\"branch\\\":\\\"${GIT_BRANCH}\\\",\\\"cargo-params\\\":\\\"${CARGO_PARAMS}\\\" }\" > /etc/horust/buildinfo.json\nCMD [\"--services-path\", \"/etc/horust/services/\"]\n"},"repairedBuild":{"startTimestamp":1672592220604,"endTimestamp":1672592327562,"error":null,"stdout":"Sending build context to Docker daemon  608.3kB\r\r\nStep 1/18 : FROM rust:1 as builder\n ---> 5e0d0367026b\nStep 2/18 : WORKDIR /usr/src/myapp\n ---> Running in d200b8c126a2\nRemoving intermediate container d200b8c126a2\n ---> 0ccf8103affa\nStep 3/18 : COPY . .\n ---> 9d48c344212c\nStep 4/18 : ARG CARGO_PARAMS\n ---> Running in e132733fec2a\nRemoving intermediate container e132733fec2a\n ---> fc25062434d8\nStep 5/18 : ARG GIT_COMMIT\n ---> Running in 9f0ad5175157\nRemoving intermediate container 9f0ad5175157\n ---> 4e639e876c8b\nStep 6/18 : ARG GIT_BRANCH\n ---> Running in 2c3c8465805e\nRemoving intermediate container 2c3c8465805e\n ---> 037af870233c\nStep 7/18 : ARG IMAGE_NAME\n ---> Running in 7aa27eb3eb87\nRemoving intermediate container 7aa27eb3eb87\n ---> 5cd7ce358a19\nStep 8/18 : RUN echo \"Running cargo build with params: $CARGO_PARAMS\" && cargo build --release $CARGO_PARAMS\n ---> Running in ad20da15c27e\nRunning cargo build with params: \n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded h2 v0.3.10\n\u001b[0m\u001b[91m  Downloaded crossbeam-utils v0.8.10\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.5\n\u001b[0m\u001b[91m  Downloaded tinyvec v1.5.0\n\u001b[0m\u001b[91m  Downloaded unicode-ident v1.0.4\n\u001b[0m\u001b[91m  Downloaded tracing-core v0.1.21\n\u001b[0m\u001b[91m  Downloaded tracing v0.1.29\n\u001b[0m\u001b[91m  Downloaded termcolor v1.1.2\n\u001b[0m\u001b[91m  Downloaded syn v1.0.105\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded unicode-normalization v0.1.19\n\u001b[0m\u001b[91m  Downloaded unicode-bidi v0.3.7\n\u001b[0m\u001b[91m  Downloaded clap_lex v0.3.0\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.148\n\u001b[0m\u001b[91m  Downloaded shellexpand v2.1.2\n\u001b[0m\u001b[91m  Downloaded try-lock v0.2.3\n\u001b[0m\u001b[91m  Downloaded tower-service v0.3.1\n\u001b[0m\u001b[91m  Downloaded toml v0.5.9\n\u001b[0m\u001b[91m  Downloaded thiserror-impl v1.0.37\n\u001b[0m\u001b[91m  Downloaded proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  Downloaded pin-utils v0.1.0\n\u001b[0m\u001b[91m  Downloaded url v2.2.2\n\u001b[0m\u001b[91m  Downloaded proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m  Downloaded dirs-sys v0.3.7\n\u001b[0m\u001b[91m  Downloaded matches v0.1.9\n\u001b[0m\u001b[91m  Downloaded serde v1.0.148\n\u001b[0m\u001b[91m  Downloaded reqwest v0.11.12\n\u001b[0m\u001b[91m  Downloaded regex v1.5.6\n\u001b[0m\u001b[91m  Downloaded heck v0.4.0\n\u001b[0m\u001b[91m  Downloaded log v0.4.17\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded fnv v1.0.7\n\u001b[0m\u001b[91m  Downloaded mime v0.3.16\n\u001b[0m\u001b[91m  Downloaded idna v0.2.3\n\u001b[0m\u001b[91m  Downloaded bytes v1.1.0\n\u001b[0m\u001b[91m  Downloaded base64 v0.13.0\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.11.2\n\u001b[0m\u001b[91m  Downloaded serde_urlencoded v0.7.1\n\u001b[0m\u001b[91m  Downloaded regex-syntax v0.6.26\n\u001b[0m\u001b[91m  Downloaded lazy_static v1.4.0\n\u001b[0m\u001b[91m  Downloaded indexmap v1.7.0\n\u001b[0m\u001b[91m  Downloaded futures-core v0.3.17\n\u001b[0m\u001b[91m  Downloaded rustix v0.36.5\n\u001b[0m\u001b[91m  Downloaded once_cell v1.14.0\n\u001b[0m\u001b[91m  Downloaded tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m  Downloaded thiserror v1.0.37\n\u001b[0m\u001b[91m  Downloaded tokio-util v0.6.9\n\u001b[0m\u001b[91m  Downloaded scopeguard v1.1.0\n\u001b[0m\u001b[91m  Downloaded want v0.3.0\n\u001b[0m\u001b[91m  Downloaded encoding_rs v0.8.29\n\u001b[0m\u001b[91m  Downloaded crossbeam-epoch v0.9.5\n\u001b[0m\u001b[91m  Downloaded linux-raw-sys v0.1.4\n\u001b[0m\u001b[91m  Downloaded quote v1.0.10\n\u001b[0m\u001b[91m  Downloaded pin-project-lite v0.2.7\n\u001b[0m\u001b[91m  Downloaded libc v0.2.137\n\u001b[0m\u001b[91m  Downloaded http-body v0.4.4\n\u001b[0m\u001b[91m  Downloaded hyper v0.14.19\n\u001b[0m\u001b[91m  Downloaded itoa v0.4.8\n\u001b[0m\u001b[91m  Downloaded form_urlencoded v1.0.1\n\u001b[0m\u001b[91m  Downloaded aho-corasick v0.7.18\n\u001b[0m\u001b[91m  Downloaded atty v0.2.14\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded humantime v2.1.0\n\u001b[0m\u001b[91m  Downloaded httparse v1.7.1\n\u001b[0m\u001b[91m  Downloaded anyhow v1.0.68\n\u001b[0m\u001b[91m  Downloaded dirs v4.0.0\n\u001b[0m\u001b[91m  Downloaded clap v4.0.29\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.46\n\u001b[0m\u001b[91m  Downloaded percent-encoding v2.1.0\n\u001b[0m\u001b[91m  Downloaded os_str_bytes v6.3.0\n\u001b[0m\u001b[91m  Downloaded num_cpus v1.13.0\n\u001b[0m\u001b[91m  Downloaded mio v0.7.14\n\u001b[0m\u001b[91m  Downloaded memchr v2.4.1\n\u001b[0m\u001b[91m  Downloaded io-lifetimes v1.0.3\n\u001b[0m\u001b[91m  Downloaded httpdate v1.0.1\n\u001b[0m\u001b[91m  Downloaded http v0.2.5\n\u001b[0m\u001b[91m  Downloaded futures-util v0.3.17\n\u001b[0m\u001b[91m  Downloaded futures-task v0.3.17\n\u001b[0m\u001b[91m  Downloaded futures-sink v0.3.17\n\u001b[0m\u001b[91m  Downloaded futures-io v0.3.17\n\u001b[0m\u001b[91m  Downloaded futures-channel v0.3.17\n\u001b[0m\u001b[91m  Downloaded env_logger v0.9.1\n\u001b[0m\u001b[91m  Downloaded crossbeam-queue v0.3.2\n\u001b[0m\u001b[91m  Downloaded crossbeam-deque v0.8.1\n\u001b[0m\u001b[91m  Downloaded crossbeam-channel v0.5.1\n\u001b[0m\u001b[91m  Downloaded crossbeam v0.8.2\n\u001b[0m\u001b[91m  Downloaded tokio v1.16.1\n\u001b[0m\u001b[91m  Downloaded strsim v0.10.0\n\u001b[0m\u001b[91m  Downloaded socket2 v0.4.2\n\u001b[0m\u001b[91m  Downloaded slab v0.4.5\n\u001b[0m\u001b[91m  Downloaded shlex v1.1.0\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.68\n\u001b[0m\u001b[91m  Downloaded nix v0.25.0\n\u001b[0m\u001b[91m  Downloaded memoffset v0.6.4\n\u001b[0m\u001b[91m  Downloaded maplit v1.0.2\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.2\n\u001b[0m\u001b[91m  Downloaded is-terminal v0.4.1\n\u001b[0m\u001b[91m  Downloaded ipnet v2.3.1\n\u001b[0m\u001b[91m  Downloaded humantime-serde v1.1.1\n\u001b[0m\u001b[91m  Downloaded clap_derive v4.0.21\n\u001b[0m\u001b[91m   Compiling libc v0.2.137\n   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling proc-macro2 v\u001b[0m\u001b[91m1.0.46\n\u001b[0m\u001b[91m   Compiling unicode-ident v1.0.4\n\u001b[0m\u001b[91m   Compiling autocfg v1.1.0\n\u001b[0m\u001b[91m   Compiling syn v1.0.105\n\u001b[0m\u001b[91m   Compiling memchr v2.4.1\n\u001b[0m\u001b[91m   Compiling log v0.4.17\n\u001b[0m\u001b[91m   Compiling lazy_static v1.4.0\n\u001b[0m\u001b[91m   Compiling pin-project-lite v0.2.7\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling once_cell v1.14.0\n\u001b[0m\u001b[91m   Compiling futures-core v0.3.17\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.148\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling bytes v1.1.0\n\u001b[0m\u001b[91m   Compiling serde v1.0.148\n\u001b[0m\u001b[91m   Compiling crossbeam-utils v0.8.10\n\u001b[0m\u001b[91m   Compiling futures-task v0.3.17\n\u001b[0m\u001b[91m   Compiling itoa v0.4.8\n\u001b[0m\u001b[91m   Compiling tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m   Compiling fnv v1.0.7\n\u001b[0m\u001b[91m   Compiling pin-utils v0.1.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling io-lifetimes v1.0.3\n\u001b[0m\u001b[91m   Compiling ryu v1.0.5\n\u001b[0m\u001b[91m   Compiling matches v0.1.9\n\u001b[0m\u001b[91m   Compiling futures-sink v0.3.17\n\u001b[0m\u001b[91m   Compiling httparse v1.7.1\n\u001b[0m\u001b[91m   Compiling rustix v0.36.5\n\u001b[0m\u001b[91m   Compiling crossbeam-epoch v0.9.\u001b[0m\u001b[91m5\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling percent-encoding v2.1.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling futures-io v0.3.17\n\u001b[0m\u001b[91m   Compiling futures-channel v0.3\u001b[0m\u001b[91m.17\n\u001b[0m\u001b[91m   Compiling slab v0.4.5\n\u001b[0m\u001b[91m   Compiling hashbrown v0.11.2\n\u001b[0m\u001b[91m   Compiling serde_json v1.0.68\n\u001b[0m\u001b[91m   Compiling crossbeam-queue v0.3.2\n\u001b[0m\u001b[91m   Compiling try-lock v0.2.3\n\u001b[0m\u001b[91m   Compiling tracing-core v0.1.21\n\u001b[0m\u001b[91m   Compiling itoa v1.0.2\n\u001b[0m\u001b[91m   Compiling unicode-bidi v0.3.7\n\u001b[0m\u001b[91m   Compiling linux-raw-sys v0.1.4\n\u001b[0m\u001b[91m   Compiling tinyvec v1.5.0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling scopeguard v1.1.0\n\u001b[0m\u001b[91m   Compiling encoding_rs v0.8.29\n\u001b[0m\u001b[91m   Compiling os_str_bytes v6.3.0\n\u001b[0m\u001b[91m   Compiling thiserror v1.0.37\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m anyhow v1.0.68\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling \u001b[0m\u001b[91mform_urlencoded\u001b[0m\u001b[91m v1\u001b[0m\u001b[91m.0.1\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling termcolor v1.1.2\n\u001b[0m\u001b[91m   Compiling heck v0.4.0\n\u001b[0m\u001b[91m   Compiling regex-syntax v0.6.26\n\u001b[0m\u001b[91m   Compiling tower-service v0.3.1\n\u001b[0m\u001b[91m   Compiling httpdate v1.0.1\n\u001b[0m\u001b[91m   Compiling memoffset v0.6.4\n   Compiling indexmap v1.7.0\n\u001b[0m\u001b[91m   Compiling futures-util v0.3.17\n\u001b[0m\u001b[91m   Compiling tracing v0.1.29\n\u001b[0m\u001b[91m   Compiling proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m   Compiling proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling http v0.2.5\n\u001b[0m\u001b[91m   Compiling humantime v2.1.0\n\u001b[0m\u001b[91m   Compiling want v0.3.0\n\u001b[0m\u001b[91m   Compiling clap_lex v0.3.0\n\u001b[0m\u001b[91m   Compiling strsim v0.10.0\n\u001b[0m\u001b[91m   Compiling base64 v0.13.0\n\u001b[0m\u001b[91m   Compiling mime v0.3.16\n\u001b[0m\u001b[91m   Compiling ipnet v2.3.1\n\u001b[0m\u001b[91m   Compiling maplit v1.0.2\n\u001b[0m\u001b[91m   Compiling shlex v1.1.0\n\u001b[0m\u001b[91m   Compiling aho-corasick v0.7.18\n\u001b[0m\u001b[91m   Compiling crossbeam-channel v0.5.1\n\u001b[0m\u001b[91m   Compiling \u001b[0m\u001b[91mquote v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m10\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling unicode-normalization v0.1.19\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling crossbeam-deque\u001b[0m\u001b[91m v0.8\u001b[0m\u001b[91m.1\n\u001b[0m\u001b[91m   Compiling crossbeam v0.8.2\n\u001b[0m\u001b[91m   Compiling regex v1.5.6\n\u001b[0m\u001b[91m   Compiling mio v0.7.14\n   Compiling num_cpus v1.13.0\n   Compiling dirs-sys v0.3.7\n   Compiling socket2 v0.4.2\n\u001b[0m\u001b[91m   Compiling atty v0.2.14\n   Compiling nix v0.25.0\n\u001b[0m\u001b[91m   Compiling http-body v0.4.4\n\u001b[0m\u001b[91m   Compiling dirs v4.0.0\n\u001b[0m\u001b[91m   Compiling shellexpand v2.1.2\n\u001b[0m\u001b[91m   Compiling idna v0.2.3\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mtokio\u001b[0m\u001b[91m v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m16\u001b[0m\u001b[91m.\u001b[0m\u001b[91m1\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m url v2.2.2\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m env_logger\u001b[0m\u001b[91m v\u001b[0m\u001b[91m0.\u001b[0m\u001b[91m9.\u001b[0m\u001b[91m1\n\u001b[0m\u001b[91m   Compiling is-terminal v0.4.1\n\u001b[0m\u001b[91m   Compiling thiserror-impl v1.0.37\n   Compiling clap_derive v4.0.21\n\u001b[0m\u001b[91m   Compiling tokio-util v0.6.9\n\u001b[0m\u001b[91m   Compiling h2 v0.3.10\n\u001b[0m\u001b[91m   Compiling clap v4.0.29\n\u001b[0m\u001b[91m   Compiling hyper v0.14.19\n\u001b[0m\u001b[91m   Compiling serde_urlencoded v0.7.1\n\u001b[0m\u001b[91m   Compiling humantime-serde v1.1.1\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling toml v0\u001b[0m\u001b[91m.5.9\n\u001b[0m\u001b[91m   Compiling reqwest v0.11.12\n\u001b[0m\u001b[91m   Compiling horust v0.1.6 (/usr/src/myapp)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 36.19s\n\u001b[0mRemoving intermediate container ad20da15c27e\n ---> 933b604aca80\nStep 9/18 : FROM debian:buster-slim\n ---> 101a5b2953f2\nStep 10/18 : COPY --from=builder /usr/src/myapp/target/release/horust /sbin/horust\n ---> 8918a0e7ae54\nStep 11/18 : RUN mkdir -p /etc/horust/services/ && apt-get update && apt-get install -y --no-install-recommends bash\n ---> Running in 68750be61b93\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5946 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nbash is already the newest version (5.0-4).\nbash set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container 68750be61b93\n ---> 3c0ada7d208b\nStep 12/18 : ENV HORUST_LOG info\n ---> Running in e65fb704650a\nRemoving intermediate container e65fb704650a\n ---> 3e9bc917587e\nStep 13/18 : ENV GIT_COMMIT=$GIT_COMMIT\n ---> Running in c3a068310a4a\nRemoving intermediate container c3a068310a4a\n ---> 2b971e3bb96c\nStep 14/18 : ENV GIT_BRANCH=$GIT_BRANCH\n ---> Running in 39b1f66d4994\nRemoving intermediate container 39b1f66d4994\n ---> b5e7e83c686d\nStep 15/18 : ENV CARGO_PARAMS=$CARGO_PARAMS\n ---> Running in 6f50526b6b1b\nRemoving intermediate container 6f50526b6b1b\n ---> 5ccb7ce7f1a7\nStep 16/18 : ENTRYPOINT [\"/sbin/horust\"]\n ---> Running in e02d90efb8f1\nRemoving intermediate container e02d90efb8f1\n ---> 958acabfba7c\nStep 17/18 : RUN echo \"{\\\"rev\\\":\\\"$GIT_COMMIT\\\",\\\"branch\\\":\\\"${GIT_BRANCH}\\\",\\\"cargo-params\\\":\\\"${CARGO_PARAMS}\\\" }\" > /etc/horust/buildinfo.json\n ---> Running in 5cd60bcb5895\nRemoving intermediate container 5cd60bcb5895\n ---> 0f99d546b29c\nStep 18/18 : CMD [\"--services-path\", \"/etc/horust/services/\"]\n ---> Running in 2c61c5259c77\nRemoving intermediate container 2c61c5259c77\n ---> 9ef48d00f376\nSuccessfully built 9ef48d00f376\nSuccessfully tagged horust:latest\n","stderr":"","imageSize":92343335},"endTime":1672592327845}