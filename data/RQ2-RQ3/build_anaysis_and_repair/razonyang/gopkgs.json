{"repository":"https://github.com/razonyang/gopkgs","dockerfilePath":"Dockerfile","startTime":1672456471584,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/razonyang/gopkgs'...\n","error":null,"commit":"9284e7af796460c7b412ee15a7370181b3b2ac1b"},"originalBuild":{"startTimestamp":1672456472490,"endTimestamp":1672456807761,"error":null,"stdout":"Sending build context to Docker daemon  585.2kB\r\r\nStep 1/14 : FROM golang:latest as builder\nlatest: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Pulling fs layer\n3a3324c1d283: Pulling fs layer\nea43a17566db: Pulling fs layer\nea43a17566db: Download complete\nc768848b86a2: Verifying Checksum\nc768848b86a2: Download complete\n3a3324c1d283: Verifying Checksum\n3a3324c1d283: Download complete\nc768848b86a2: Pull complete\n3a3324c1d283: Pull complete\nea43a17566db: Pull complete\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:latest\n ---> 6650307efe4a\nStep 2/14 : ENV GO111MODULE=on     CGO_ENABLED=0     GOOS=linux     GOARCH=amd64     GOPROXY=https://goproxy.cn,direct\n ---> Running in 6c8c6ba3427e\nRemoving intermediate container 6c8c6ba3427e\n ---> 4c25ed69f72d\nStep 3/14 : WORKDIR /src\n ---> Running in 4a40e48ff9a1\nRemoving intermediate container 4a40e48ff9a1\n ---> 35f808dedae4\nStep 4/14 : COPY ./ /src\n ---> 969532acfe7d\nStep 5/14 : RUN go mod download\n ---> Running in 1cdc95b3d10c\n\u001b[91mprotocol error: received DATA after END_STREAM\n\u001b[0mRemoving intermediate container 1cdc95b3d10c\n ---> ca31ed74c1ee\nStep 6/14 : RUN go build github.com/gobuffalo/packr/v2/packr2\n ---> Running in 705a6c197a35\nRemoving intermediate container 705a6c197a35\n ---> bf9ada0d5dbe\nStep 7/14 : RUN ./packr2 build -o dist/main\n ---> Running in ffc2571b2baf\nRemoving intermediate container ffc2571b2baf\n ---> 739d4f76e4b9\nStep 8/14 : FROM ubuntu\n ---> 6b7dfa7e8fdb\nStep 9/14 : WORKDIR /app\n ---> Running in 235346b7624e\nRemoving intermediate container 235346b7624e\n ---> 70dd9656dc21\nStep 10/14 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 43598c44e911\nStep 11/14 : COPY --from=builder /src/dist/main /app/gopkgs\n ---> cba16f3ab505\nStep 12/14 : RUN apt update\n ---> Running in 1c3800ecbd80\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]\nGet:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]\nGet:3 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]\nGet:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]\nGet:5 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]\nGet:6 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]\nGet:7 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]\nGet:8 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]\nGet:9 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [970 kB]\nGet:10 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [667 kB]\nGet:11 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [972 kB]\nGet:12 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [641 kB]\nGet:13 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [8150 B]\nGet:14 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [7291 B]\nGet:15 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [3520 B]\nGet:16 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [4732 B]\nGet:17 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [593 kB]\nGet:18 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [781 kB]\nFetched 24.9 MB in 2s (14.5 MB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\nAll packages are up to date.\nRemoving intermediate container 1c3800ecbd80\n ---> d195dfe32960\nStep 13/14 : RUN apt install -f tzdata\n ---> Running in 4e2a721df86e\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  tzdata\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 333 kB of archives.\nAfter this operation, 3857 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 tzdata all 2022g-0ubuntu0.22.04.1 [333 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 333 kB in 0s (1763 kB/s)\nSelecting previously unselected package tzdata.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4395 files and directories currently installed.)\r\nPreparing to unpack .../tzdata_2022g-0ubuntu0.22.04.1_all.deb ...\r\nUnpacking tzdata (2022g-0ubuntu0.22.04.1) ...\r\nSetting up tzdata (2022g-0ubuntu0.22.04.1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.34.0 /usr/local/share/perl/5.34.0 /usr/lib/x86_64-linux-gnu/perl5/5.34 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.34 /usr/share/perl/5.34 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nConfiguring tzdata\r\n------------------\r\n\r\nPlease select the geographic area in which you live. Subsequent configuration\r\nquestions will narrow this down by presenting a list of cities, representing\r\nthe time zones in which they are located.\r\n\r\n  1. Africa   3. Antarctica  5. Arctic  7. Atlantic  9. Indian    11. US\r\n  2. America  4. Australia   6. Asia    8. Europe    10. Pacific  12. Etc\r\nGeographic area: \r\nUse of uninitialized value $_[1] in join or string at /usr/share/perl5/Debconf/DbDriver/Stack.pm line 111.\r\n\r\nCurrent default time zone: '/UTC'\r\nLocal time is now:      Sat Dec 31 03:20:05 UTC 2022.\r\nUniversal Time is now:  Sat Dec 31 03:20:05 UTC 2022.\r\nRun 'dpkg-reconfigure tzdata' if you wish to change it.\r\n\r\nUse of uninitialized value $val in substitution (s///) at /usr/share/perl5/Debconf/Format/822.pm line 83, <GEN6> line 4.\r\nUse of uninitialized value $val in concatenation (.) or string at /usr/share/perl5/Debconf/Format/822.pm line 84, <GEN6> line 4.\r\nRemoving intermediate container 4e2a721df86e\n ---> 4f95ebe3b6d7\nStep 14/14 : ENTRYPOINT [\"/app/gopkgs\", \"serve\"]\n ---> Running in f9e85aae8155\nRemoving intermediate container f9e85aae8155\n ---> 2f19a509281c\nSuccessfully built 2f19a509281c\nSuccessfully tagged gopkgs:latest\n","stderr":"","imageSize":156933667},"repair":{"violations":[{"name":"ruleAptGetInstallUseY","position":{"start":27,"end":27,"columnStart":4,"columnEnd":25}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":27,"end":27,"columnStart":4,"columnEnd":25}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":27,"end":27,"columnStart":4,"columnEnd":25}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":27,"end":27,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM golang:latest as builder\n\nENV GO111MODULE=on \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64 \\\n    GOPROXY=https://goproxy.cn,direct\n\nWORKDIR /src\n\nCOPY ./ /src\n\nRUN go mod download\n\nRUN go build github.com/gobuffalo/packr/v2/packr2\n\nRUN ./packr2 build -o dist/main\n\n\nFROM ubuntu\n\nWORKDIR /app\n\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /src/dist/main /app/gopkgs\n\n\nRUN apt update && \\\napt install -y --no-install-recommends -f tzdata\n\n# Command to run\nENTRYPOINT [\"/app/gopkgs\", \"serve\"]"},"repairedBuild":{"startTimestamp":1672456808116,"endTimestamp":1672456910540,"error":null,"stdout":"Sending build context to Docker daemon  585.2kB\r\r\nStep 1/13 : FROM golang:latest as builder\n ---> 6650307efe4a\nStep 2/13 : ENV GO111MODULE=on     CGO_ENABLED=0     GOOS=linux     GOARCH=amd64     GOPROXY=https://goproxy.cn,direct\n ---> Running in d738dad67957\nRemoving intermediate container d738dad67957\n ---> c539b10e5291\nStep 3/13 : WORKDIR /src\n ---> Running in cc3237df8dd9\nRemoving intermediate container cc3237df8dd9\n ---> 1b3bf7eb55da\nStep 4/13 : COPY ./ /src\n ---> 6b8d9b5bef15\nStep 5/13 : RUN go mod download\n ---> Running in 8d133493c017\nRemoving intermediate container 8d133493c017\n ---> da60a9733c51\nStep 6/13 : RUN go build github.com/gobuffalo/packr/v2/packr2\n ---> Running in 00f6a3fed452\nRemoving intermediate container 00f6a3fed452\n ---> 5d836d396ea8\nStep 7/13 : RUN ./packr2 build -o dist/main\n ---> Running in 49c49086a225\nRemoving intermediate container 49c49086a225\n ---> 4716f01b36ed\nStep 8/13 : FROM ubuntu\n ---> 6b7dfa7e8fdb\nStep 9/13 : WORKDIR /app\n ---> Running in bbaeb35af9f1\nRemoving intermediate container bbaeb35af9f1\n ---> 3ba51f6afce1\nStep 10/13 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 080abc3c8c85\nStep 11/13 : COPY --from=builder /src/dist/main /app/gopkgs\n ---> 9163ba1b04a6\nStep 12/13 : RUN apt update && apt install -y --no-install-recommends -f tzdata\n ---> Running in 9598a4d2cb6e\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]\nGet:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]\nGet:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]\nGet:4 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [667 kB]\nGet:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]\nGet:6 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]\nGet:7 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]\nGet:8 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]\nGet:9 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [781 kB]\nGet:10 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [4732 B]\nGet:11 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [593 kB]\nGet:12 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]\nGet:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [972 kB]\nGet:14 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [970 kB]\nGet:15 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [641 kB]\nGet:16 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [8150 B]\nGet:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [3520 B]\nGet:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [7291 B]\nFetched 24.9 MB in 3s (8415 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\nAll packages are up to date.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  tzdata\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 333 kB of archives.\nAfter this operation, 3857 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 tzdata all 2022g-0ubuntu0.22.04.1 [333 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 333 kB in 0s (1724 kB/s)\nSelecting previously unselected package tzdata.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4395 files and directories currently installed.)\r\nPreparing to unpack .../tzdata_2022g-0ubuntu0.22.04.1_all.deb ...\r\nUnpacking tzdata (2022g-0ubuntu0.22.04.1) ...\r\nSetting up tzdata (2022g-0ubuntu0.22.04.1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.34.0 /usr/local/share/perl/5.34.0 /usr/lib/x86_64-linux-gnu/perl5/5.34 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.34 /usr/share/perl/5.34 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nConfiguring tzdata\r\n------------------\r\n\r\nPlease select the geographic area in which you live. Subsequent configuration\r\nquestions will narrow this down by presenting a list of cities, representing\r\nthe time zones in which they are located.\r\n\r\n  1. Africa   3. Antarctica  5. Arctic  7. Atlantic  9. Indian    11. US\r\n  2. America  4. Australia   6. Asia    8. Europe    10. Pacific  12. Etc\r\nGeographic area: \r\nUse of uninitialized value $_[1] in join or string at /usr/share/perl5/Debconf/DbDriver/Stack.pm line 111.\r\n\r\nCurrent default time zone: '/UTC'\r\nLocal time is now:      Sat Dec 31 03:21:45 UTC 2022.\r\nUniversal Time is now:  Sat Dec 31 03:21:45 UTC 2022.\r\nRun 'dpkg-reconfigure tzdata' if you wish to change it.\r\n\r\nUse of uninitialized value $val in substitution (s///) at /usr/share/perl5/Debconf/Format/822.pm line 83, <GEN6> line 4.\r\nUse of uninitialized value $val in concatenation (.) or string at /usr/share/perl5/Debconf/Format/822.pm line 84, <GEN6> line 4.\r\nRemoving intermediate container 9598a4d2cb6e\n ---> 64eaecb62f31\nStep 13/13 : ENTRYPOINT [\"/app/gopkgs\", \"serve\"]\n ---> Running in 55822b85ab4f\nRemoving intermediate container 55822b85ab4f\n ---> 8d7ce5e18511\nSuccessfully built 8d7ce5e18511\nSuccessfully tagged gopkgs:latest\n","stderr":"","imageSize":156933694},"endTime":1672456911764}