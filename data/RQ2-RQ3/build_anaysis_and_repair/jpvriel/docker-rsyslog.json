{"repository":"https://github.com/jpvriel/docker-rsyslog","dockerfilePath":"Dockerfile","startTime":1672007906646,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jpvriel/docker-rsyslog'...\n","error":null,"commit":"f34c7b06bc8201c52ecb4b06e77906b22b142fd4"},"originalBuild":{"startTimestamp":1672007907972,"endTimestamp":1672008070704,"error":null,"stdout":"Sending build context to Docker daemon  6.132MB\r\r\nStep 1/44 : FROM centos:7\n ---> eeb6ee3f44bd\nStep 2/44 : ARG VERSION\n ---> Running in 14d5fa634951\nRemoving intermediate container 14d5fa634951\n ---> 58c17e250369\nStep 3/44 : LABEL org.label-schema.schema-version=1.0.0-rc1   org.label-schema.name=\"rsyslog\"   org.label-schema.description=\"RSyslog container with pre-canned use-cases controlled by setting environment variables\"   org.label-schema.version=\"${VERSION}\"   org.label-schema.url=\"http://www.rsyslog.com\"   org.label-schema.vcs-url=\"https://github.com/JPvRiel/docker-rsyslog\"   org.label-schema.distribution-scope=public   maintainer='Jean-Pierre van Riel <jp.vanriel@gmail.com>'\n ---> Running in 88856fba336c\nRemoving intermediate container 88856fba336c\n ---> 477b30f4d5bf\nStep 4/44 : ENV container=docker\n ---> Running in 44154bfb9a89\nRemoving intermediate container 44154bfb9a89\n ---> 2983252b8957\nStep 5/44 : COPY etc/pki/ca-trust/source/anchors/ /etc/pki/ca-trust/source/anchors/\n ---> cca023d64800\nStep 6/44 : RUN update-ca-trust\n ---> Running in 9904551443cc\nRemoving intermediate container 9904551443cc\n ---> 19ece67e7aca\nStep 7/44 : ARG DISABLE_YUM_MIRROR=false\n ---> Running in 12004a4acb3c\nRemoving intermediate container 12004a4acb3c\n ---> 59a605ec5db2\nStep 8/44 : RUN if [ \"$DISABLE_YUM_MIRROR\" != true ]; then exit; fi &&   sed 's/enabled=1/enabled=0/g' -i /etc/yum/pluginconf.d/fastestmirror.conf &&   sed 's/^mirrorlist/#mirrorlist/g' -i /etc/yum.repos.d/CentOS-Base.repo &&   sed 's/^#baseurl/baseurl/g' -i /etc/yum.repos.d/CentOS-Base.repo\n ---> Running in 6b3a6675f927\nRemoving intermediate container 6b3a6675f927\n ---> 80060714fdc2\nStep 9/44 : COPY etc/pki/rpm-gpg/RPM-GPG-KEY-Adiscon /etc/pki/rpm-gpg/RPM-GPG-KEY-Adiscon\n ---> 35088fe49a83\nStep 10/44 : COPY etc/yum.repos.d/rsyslog.repo /etc/yum.repos.d/rsyslog.repo\n ---> 15ea7542b935\nStep 11/44 : ARG RSYSLOG_VERSION='8.2208.0'\n ---> Running in 0459a6dbd064\nRemoving intermediate container 0459a6dbd064\n ---> 325f87fc49bf\nStep 12/44 : RUN yum --setopt=timeout=120 -y update &&   yum --setopt=timeout=120 --setopt=tsflags=nodocs -y install   rsyslog-${RSYSLOG_VERSION}   rsyslog-gnutls-${RSYSLOG_VERSION}   rsyslog-openssl-${RSYSLOG_VERSION}   rsyslog-kafka-${RSYSLOG_VERSION}   rsyslog-relp-${RSYSLOG_VERSION}   rsyslog-pmciscoios-${RSYSLOG_VERSION}   rsyslog-mmjsonparse-${RSYSLOG_VERSION}   rsyslog-udpspoof-${RSYSLOG_VERSION}   lsof   logrotate   cronie-noanacron   python3   && yum clean all\n ---> Running in 19a6d58ae581\nLoaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: ftp.lysator.liu.se\n * extras: ftp.lysator.liu.se\n * updates: ftp.lysator.liu.se\nResolving Dependencies\n--> Running transaction check\n---> Package bash.x86_64 0:4.2.46-34.el7 will be updated\n---> Package bash.x86_64 0:4.2.46-35.el7_9 will be an update\n---> Package bind-license.noarch 32:9.11.4-26.P2.el7 will be updated\n---> Package bind-license.noarch 32:9.11.4-26.P2.el7_9.10 will be an update\n---> Package binutils.x86_64 0:2.27-44.base.el7 will be updated\n---> Package binutils.x86_64 0:2.27-44.base.el7_9.1 will be an update\n---> Package ca-certificates.noarch 0:2020.2.41-70.0.el7_8 will be updated\n---> Package ca-certificates.noarch 0:2022.2.54-74.el7_9 will be an update\n---> Package centos-release.x86_64 0:7-9.2009.0.el7.centos will be updated\n---> Package centos-release.x86_64 0:7-9.2009.1.el7.centos will be an update\n---> Package coreutils.x86_64 0:8.22-24.el7 will be updated\n---> Package coreutils.x86_64 0:8.22-24.el7_9.2 will be an update\n---> Package curl.x86_64 0:7.29.0-59.el7 will be updated\n---> Package curl.x86_64 0:7.29.0-59.el7_9.1 will be an update\n---> Package cyrus-sasl-lib.x86_64 0:2.1.26-23.el7 will be updated\n---> Package cyrus-sasl-lib.x86_64 0:2.1.26-24.el7_9 will be an update\n---> Package device-mapper.x86_64 7:1.02.170-6.el7 will be updated\n---> Package device-mapper.x86_64 7:1.02.170-6.el7_9.5 will be an update\n---> Package device-mapper-libs.x86_64 7:1.02.170-6.el7 will be updated\n---> Package device-mapper-libs.x86_64 7:1.02.170-6.el7_9.5 will be an update\n---> Package expat.x86_64 0:2.1.0-12.el7 will be updated\n---> Package expat.x86_64 0:2.1.0-15.el7_9 will be an update\n---> Package glib2.x86_64 0:2.56.1-7.el7 will be updated\n---> Package glib2.x86_64 0:2.56.1-9.el7_9 will be an update\n---> Package glibc.x86_64 0:2.17-317.el7 will be updated\n---> Package glibc.x86_64 0:2.17-326.el7_9 will be an update\n---> Package glibc-common.x86_64 0:2.17-317.el7 will be updated\n---> Package glibc-common.x86_64 0:2.17-326.el7_9 will be an update\n---> Package gzip.x86_64 0:1.5-10.el7 will be updated\n---> Package gzip.x86_64 0:1.5-11.el7_9 will be an update\n---> Package kpartx.x86_64 0:0.4.9-133.el7 will be updated\n---> Package kpartx.x86_64 0:0.4.9-136.el7_9 will be an update\n---> Package krb5-libs.x86_64 0:1.15.1-50.el7 will be updated\n---> Package krb5-libs.x86_64 0:1.15.1-55.el7_9 will be an update\n---> Package libblkid.x86_64 0:2.23.2-65.el7 will be updated\n---> Package libblkid.x86_64 0:2.23.2-65.el7_9.1 will be an update\n---> Package libcurl.x86_64 0:7.29.0-59.el7 will be updated\n---> Package libcurl.x86_64 0:7.29.0-59.el7_9.1 will be an update\n---> Package libmount.x86_64 0:2.23.2-65.el7 will be updated\n---> Package libmount.x86_64 0:2.23.2-65.el7_9.1 will be an update\n---> Package libsmartcols.x86_64 0:2.23.2-65.el7 will be updated\n---> Package libsmartcols.x86_64 0:2.23.2-65.el7_9.1 will be an update\n---> Package libuuid.x86_64 0:2.23.2-65.el7 will be updated\n---> Package libuuid.x86_64 0:2.23.2-65.el7_9.1 will be an update\n---> Package libxml2.x86_64 0:2.9.1-6.el7.5 will be updated\n---> Package libxml2.x86_64 0:2.9.1-6.el7_9.6 will be an update\n---> Package libxml2-python.x86_64 0:2.9.1-6.el7.5 will be updated\n---> Package libxml2-python.x86_64 0:2.9.1-6.el7_9.6 will be an update\n---> Package nspr.x86_64 0:4.25.0-2.el7_9 will be updated\n---> Package nspr.x86_64 0:4.34.0-3.1.el7_9 will be an update\n---> Package nss.x86_64 0:3.53.1-3.el7_9 will be updated\n---> Package nss.x86_64 0:3.79.0-4.el7_9 will be an update\n---> Package nss-softokn.x86_64 0:3.53.1-6.el7_9 will be updated\n---> Package nss-softokn.x86_64 0:3.79.0-4.el7_9 will be an update\n---> Package nss-softokn-freebl.x86_64 0:3.53.1-6.el7_9 will be updated\n---> Package nss-softokn-freebl.x86_64 0:3.79.0-4.el7_9 will be an update\n---> Package nss-sysinit.x86_64 0:3.53.1-3.el7_9 will be updated\n---> Package nss-sysinit.x86_64 0:3.79.0-4.el7_9 will be an update\n---> Package nss-tools.x86_64 0:3.53.1-3.el7_9 will be updated\n---> Package nss-tools.x86_64 0:3.79.0-4.el7_9 will be an update\n---> Package nss-util.x86_64 0:3.53.1-1.el7_9 will be updated\n---> Package nss-util.x86_64 0:3.79.0-1.el7_9 will be an update\n---> Package openldap.x86_64 0:2.4.44-22.el7 will be updated\n---> Package openldap.x86_64 0:2.4.44-25.el7_9 will be an update\n---> Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be updated\n---> Package openssl-libs.x86_64 1:1.0.2k-25.el7_9 will be an update\n---> Package python.x86_64 0:2.7.5-89.el7 will be updated\n---> Package python.x86_64 0:2.7.5-92.el7_9 will be an update\n---> Package python-libs.x86_64 0:2.7.5-89.el7 will be updated\n---> Package python-libs.x86_64 0:2.7.5-92.el7_9 will be an update\n---> Package rpm.x86_64 0:4.11.3-45.el7 will be updated\n---> Package rpm.x86_64 0:4.11.3-48.el7_9 will be an update\n---> Package rpm-build-libs.x86_64 0:4.11.3-45.el7 will be updated\n---> Package rpm-build-libs.x86_64 0:4.11.3-48.el7_9 will be an update\n---> Package rpm-libs.x86_64 0:4.11.3-45.el7 will be updated\n---> Package rpm-libs.x86_64 0:4.11.3-48.el7_9 will be an update\n---> Package rpm-python.x86_64 0:4.11.3-45.el7 will be updated\n---> Package rpm-python.x86_64 0:4.11.3-48.el7_9 will be an update\n---> Package systemd.x86_64 0:219-78.el7 will be updated\n---> Package systemd.x86_64 0:219-78.el7_9.7 will be an update\n---> Package systemd-libs.x86_64 0:219-78.el7 will be updated\n---> Package systemd-libs.x86_64 0:219-78.el7_9.7 will be an update\n---> Package tzdata.noarch 0:2020d-2.el7 will be updated\n---> Package tzdata.noarch 0:2022g-1.el7 will be an update\n---> Package util-linux.x86_64 0:2.23.2-65.el7 will be updated\n---> Package util-linux.x86_64 0:2.23.2-65.el7_9.1 will be an update\n---> Package vim-minimal.x86_64 2:7.4.629-7.el7 will be updated\n---> Package vim-minimal.x86_64 2:7.4.629-8.el7_9 will be an update\n---> Package xz.x86_64 0:5.2.2-1.el7 will be updated\n---> Package xz.x86_64 0:5.2.2-2.el7_9 will be an update\n---> Package xz-libs.x86_64 0:5.2.2-1.el7 will be updated\n---> Package xz-libs.x86_64 0:5.2.2-2.el7_9 will be an update\n---> Package zlib.x86_64 0:1.2.7-18.el7 will be updated\n---> Package zlib.x86_64 0:1.2.7-20.el7_9 will be an update\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package               Arch      Version                       Repository  Size\n================================================================================\nUpdating:\n bash                  x86_64    4.2.46-35.el7_9               updates    1.0 M\n bind-license          noarch    32:9.11.4-26.P2.el7_9.10      updates     91 k\n binutils              x86_64    2.27-44.base.el7_9.1          updates    5.9 M\n ca-certificates       noarch    2022.2.54-74.el7_9            updates    911 k\n centos-release        x86_64    7-9.2009.1.el7.centos         updates     27 k\n coreutils             x86_64    8.22-24.el7_9.2               updates    3.3 M\n curl                  x86_64    7.29.0-59.el7_9.1             updates    271 k\n cyrus-sasl-lib        x86_64    2.1.26-24.el7_9               updates    156 k\n device-mapper         x86_64    7:1.02.170-6.el7_9.5          updates    297 k\n device-mapper-libs    x86_64    7:1.02.170-6.el7_9.5          updates    325 k\n expat                 x86_64    2.1.0-15.el7_9                updates     83 k\n glib2                 x86_64    2.56.1-9.el7_9                updates    2.5 M\n glibc                 x86_64    2.17-326.el7_9                updates    3.6 M\n glibc-common          x86_64    2.17-326.el7_9                updates     12 M\n gzip                  x86_64    1.5-11.el7_9                  updates    130 k\n kpartx                x86_64    0.4.9-136.el7_9               updates     81 k\n krb5-libs             x86_64    1.15.1-55.el7_9               updates    810 k\n libblkid              x86_64    2.23.2-65.el7_9.1             updates    183 k\n libcurl               x86_64    7.29.0-59.el7_9.1             updates    223 k\n libmount              x86_64    2.23.2-65.el7_9.1             updates    185 k\n libsmartcols          x86_64    2.23.2-65.el7_9.1             updates    143 k\n libuuid               x86_64    2.23.2-65.el7_9.1             updates     84 k\n libxml2               x86_64    2.9.1-6.el7_9.6               updates    668 k\n libxml2-python        x86_64    2.9.1-6.el7_9.6               updates    247 k\n nspr                  x86_64    4.34.0-3.1.el7_9              updates    128 k\n nss                   x86_64    3.79.0-4.el7_9                updates    895 k\n nss-softokn           x86_64    3.79.0-4.el7_9                updates    379 k\n nss-softokn-freebl    x86_64    3.79.0-4.el7_9                updates    337 k\n nss-sysinit           x86_64    3.79.0-4.el7_9                updates     66 k\n nss-tools             x86_64    3.79.0-4.el7_9                updates    555 k\n nss-util              x86_64    3.79.0-1.el7_9                updates     80 k\n openldap              x86_64    2.4.44-25.el7_9               updates    356 k\n openssl-libs          x86_64    1:1.0.2k-25.el7_9             updates    1.2 M\n python                x86_64    2.7.5-92.el7_9                updates     96 k\n python-libs           x86_64    2.7.5-92.el7_9                updates    5.6 M\n rpm                   x86_64    4.11.3-48.el7_9               updates    1.2 M\n rpm-build-libs        x86_64    4.11.3-48.el7_9               updates    108 k\n rpm-libs              x86_64    4.11.3-48.el7_9               updates    279 k\n rpm-python            x86_64    4.11.3-48.el7_9               updates     84 k\n systemd               x86_64    219-78.el7_9.7                updates    5.1 M\n systemd-libs          x86_64    219-78.el7_9.7                updates    419 k\n tzdata                noarch    2022g-1.el7                   updates    490 k\n util-linux            x86_64    2.23.2-65.el7_9.1             updates    2.0 M\n vim-minimal           x86_64    2:7.4.629-8.el7_9             updates    443 k\n xz                    x86_64    5.2.2-2.el7_9                 updates    229 k\n xz-libs               x86_64    5.2.2-2.el7_9                 updates    103 k\n zlib                  x86_64    1.2.7-20.el7_9                updates     90 k\n\nTransaction Summary\n================================================================================\nUpgrade  47 Packages\n\nTotal download size: 53 M\nDownloading packages:\nDelta RPMs disabled because /usr/bin/applydeltarpm not installed.\n\u001b[91mwarning: /var/cache/yum/x86_64/7/updates/packages/bind-license-9.11.4-26.P2.el7_9.10.noarch.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY\n\u001b[0mPublic key for bind-license-9.11.4-26.P2.el7_9.10.noarch.rpm is not installed\n--------------------------------------------------------------------------------\nTotal                                               59 MB/s |  53 MB  00:00     \nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n\u001b[91mImporting GPG key 0xF4A80EB5:\n Userid     : \"CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>\"\n Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5\n Package    : centos-release-7-9.2009.0.el7.centos.x86_64 (@CentOS)\n From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n\u001b[0mRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Updating   : tzdata-2022g-1.el7.noarch                                   1/94 \n  Updating   : bash-4.2.46-35.el7_9.x86_64                                 2/94 \n  Updating   : nss-softokn-freebl-3.79.0-4.el7_9.x86_64                    3/94 \n  Updating   : glibc-common-2.17-326.el7_9.x86_64                          4/94 \n  Updating   : glibc-2.17-326.el7_9.x86_64                                 5/94 \n  Updating   : nspr-4.34.0-3.1.el7_9.x86_64                                6/94 \n  Updating   : nss-util-3.79.0-1.el7_9.x86_64                              7/94 \n  Updating   : zlib-1.2.7-20.el7_9.x86_64                                  8/94 \n  Updating   : xz-libs-5.2.2-2.el7_9.x86_64                                9/94 \n  Updating   : systemd-libs-219-78.el7_9.7.x86_64                         10/94 \n  Updating   : libuuid-2.23.2-65.el7_9.1.x86_64                           11/94 \n  Updating   : nss-softokn-3.79.0-4.el7_9.x86_64                          12/94 \n  Updating   : libxml2-2.9.1-6.el7_9.6.x86_64                             13/94 \n  Updating   : libsmartcols-2.23.2-65.el7_9.1.x86_64                      14/94 \n  Updating   : expat-2.1.0-15.el7_9.x86_64                                15/94 \n  Updating   : ca-certificates-2022.2.54-74.el7_9.noarch                  16/94 \n  Updating   : coreutils-8.22-24.el7_9.2.x86_64                           17/94 \n  Updating   : krb5-libs-1.15.1-55.el7_9.x86_64                           18/94 \n  Updating   : 1:openssl-libs-1.0.2k-25.el7_9.x86_64                      19/94 \n  Updating   : python-libs-2.7.5-92.el7_9.x86_64                          20/94 \n  Updating   : libblkid-2.23.2-65.el7_9.1.x86_64                          21/94 \n  Updating   : libmount-2.23.2-65.el7_9.1.x86_64                          22/94 \n  Updating   : python-2.7.5-92.el7_9.x86_64                               23/94 \n  Updating   : util-linux-2.23.2-65.el7_9.1.x86_64                        24/94 \n  Updating   : cyrus-sasl-lib-2.1.26-24.el7_9.x86_64                      25/94 \n  Updating   : nss-3.79.0-4.el7_9.x86_64                                  26/94 \n  Updating   : nss-sysinit-3.79.0-4.el7_9.x86_64                          27/94 \n  Updating   : nss-tools-3.79.0-4.el7_9.x86_64                            28/94 \n  Updating   : libcurl-7.29.0-59.el7_9.1.x86_64                           29/94 \n  Updating   : curl-7.29.0-59.el7_9.1.x86_64                              30/94 \n  Updating   : rpm-libs-4.11.3-48.el7_9.x86_64                            31/94 \n  Updating   : rpm-4.11.3-48.el7_9.x86_64                                 32/94 \n  Updating   : openldap-2.4.44-25.el7_9.x86_64                            33/94 \n  Updating   : rpm-build-libs-4.11.3-48.el7_9.x86_64                      34/94 \n  Updating   : centos-release-7-9.2009.1.el7.centos.x86_64                35/94 \n  Updating   : systemd-219-78.el7_9.7.x86_64                              36/94 \nFailed to get D-Bus connection: Operation not permitted\n  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64             37/94 \n  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64                  38/94 \n  Updating   : kpartx-0.4.9-136.el7_9.x86_64                              39/94 \n  Updating   : rpm-python-4.11.3-48.el7_9.x86_64                          40/94 \n  Updating   : libxml2-python-2.9.1-6.el7_9.6.x86_64                      41/94 \n  Updating   : glib2-2.56.1-9.el7_9.x86_64                                42/94 \n  Updating   : binutils-2.27-44.base.el7_9.1.x86_64                       43/94 \ninstall-info: No such file or directory for /usr/share/info/as.info.gz\ninstall-info: No such file or directory for /usr/share/info/binutils.info.gz\ninstall-info: No such file or directory for /usr/share/info/gprof.info.gz\ninstall-info: No such file or directory for /usr/share/info/ld.info.gz\ninstall-info: No such file or directory for /usr/share/info/standards.info.gz\n  Updating   : gzip-1.5-11.el7_9.x86_64                                   44/94 \n  Updating   : xz-5.2.2-2.el7_9.x86_64                                    45/94 \n  Updating   : 2:vim-minimal-7.4.629-8.el7_9.x86_64                       46/94 \n  Updating   : 32:bind-license-9.11.4-26.P2.el7_9.10.noarch               47/94 \n  Cleanup    : 32:bind-license-9.11.4-26.P2.el7.noarch                    48/94 \n  Cleanup    : rpm-python-4.11.3-45.el7.x86_64                            49/94 \n  Cleanup    : libxml2-python-2.9.1-6.el7.5.x86_64                        50/94 \n  Cleanup    : rpm-build-libs-4.11.3-45.el7.x86_64                        51/94 \n  Cleanup    : glib2-2.56.1-7.el7.x86_64                                  52/94 \n  Cleanup    : python-2.7.5-89.el7.x86_64                                 53/94 \n  Cleanup    : python-libs-2.7.5-89.el7.x86_64                            54/94 \n  Cleanup    : libxml2-2.9.1-6.el7.5.x86_64                               55/94 \n  Cleanup    : xz-5.2.2-1.el7.x86_64                                      56/94 \n  Cleanup    : binutils-2.27-44.base.el7.x86_64                           57/94 \n  Cleanup    : gzip-1.5-10.el7.x86_64                                     58/94 \n  Cleanup    : kpartx-0.4.9-133.el7.x86_64                                59/94 \n  Cleanup    : 7:device-mapper-libs-1.02.170-6.el7.x86_64                 60/94 \n  Cleanup    : 7:device-mapper-1.02.170-6.el7.x86_64                      61/94 \n  Cleanup    : systemd-219-78.el7.x86_64                                  62/94 \n  Cleanup    : util-linux-2.23.2-65.el7.x86_64                            63/94 \n  Cleanup    : curl-7.29.0-59.el7.x86_64                                  64/94 \n  Cleanup    : libcurl-7.29.0-59.el7.x86_64                               65/94 \n  Cleanup    : openldap-2.4.44-22.el7.x86_64                              66/94 \n  Cleanup    : rpm-libs-4.11.3-45.el7.x86_64                              67/94 \n  Cleanup    : rpm-4.11.3-45.el7.x86_64                                   68/94 \n  Cleanup    : nss-tools-3.53.1-3.el7_9.x86_64                            69/94 \n  Cleanup    : nss-sysinit-3.53.1-3.el7_9.x86_64                          70/94 \n  Cleanup    : nss-3.53.1-3.el7_9.x86_64                                  71/94 \n  Cleanup    : nss-softokn-3.53.1-6.el7_9.x86_64                          72/94 \n  Cleanup    : libmount-2.23.2-65.el7.x86_64                              73/94 \n  Cleanup    : libblkid-2.23.2-65.el7.x86_64                              74/94 \n  Cleanup    : cyrus-sasl-lib-2.1.26-23.el7.x86_64                        75/94 \n  Cleanup    : krb5-libs-1.15.1-50.el7.x86_64                             76/94 \n  Cleanup    : coreutils-8.22-24.el7.x86_64                               77/94 \n  Cleanup    : 1:openssl-libs-1.0.2k-19.el7.x86_64                        78/94 \n  Cleanup    : systemd-libs-219-78.el7.x86_64                             79/94 \n  Cleanup    : ca-certificates-2020.2.41-70.0.el7_8.noarch                80/94 \n  Cleanup    : xz-libs-5.2.2-1.el7.x86_64                                 81/94 \n  Cleanup    : zlib-1.2.7-18.el7.x86_64                                   82/94 \n  Cleanup    : libuuid-2.23.2-65.el7.x86_64                               83/94 \n  Cleanup    : libsmartcols-2.23.2-65.el7.x86_64                          84/94 \n  Cleanup    : expat-2.1.0-12.el7.x86_64                                  85/94 \n  Cleanup    : 2:vim-minimal-7.4.629-7.el7.x86_64                         86/94 \n  Cleanup    : centos-release-7-9.2009.0.el7.centos.x86_64                87/94 \n  Cleanup    : glibc-common-2.17-317.el7.x86_64                           88/94 \n  Cleanup    : bash-4.2.46-34.el7.x86_64                                  89/94 \n  Cleanup    : nspr-4.25.0-2.el7_9.x86_64                                 90/94 \n  Cleanup    : nss-util-3.53.1-1.el7_9.x86_64                             91/94 \n  Cleanup    : nss-softokn-freebl-3.53.1-6.el7_9.x86_64                   92/94 \n  Cleanup    : glibc-2.17-317.el7.x86_64                                  93/94 \n  Cleanup    : tzdata-2020d-2.el7.noarch                                  94/94 \n  Verifying  : libblkid-2.23.2-65.el7_9.1.x86_64                           1/94 \n  Verifying  : centos-release-7-9.2009.1.el7.centos.x86_64                 2/94 \n  Verifying  : python-2.7.5-92.el7_9.x86_64                                3/94 \n  Verifying  : libsmartcols-2.23.2-65.el7_9.1.x86_64                       4/94 \n  Verifying  : 32:bind-license-9.11.4-26.P2.el7_9.10.noarch                5/94 \n  Verifying  : libcurl-7.29.0-59.el7_9.1.x86_64                            6/94 \n  Verifying  : tzdata-2022g-1.el7.noarch                                   7/94 \n  Verifying  : openldap-2.4.44-25.el7_9.x86_64                             8/94 \n  Verifying  : nss-tools-3.79.0-4.el7_9.x86_64                             9/94 \n  Verifying  : libxml2-python-2.9.1-6.el7_9.6.x86_64                      10/94 \n  Verifying  : 7:device-mapper-1.02.170-6.el7_9.5.x86_64                  11/94 \n  Verifying  : nss-3.79.0-4.el7_9.x86_64                                  12/94 \n  Verifying  : systemd-libs-219-78.el7_9.7.x86_64                         13/94 \n  Verifying  : libxml2-2.9.1-6.el7_9.6.x86_64                             14/94 \n  Verifying  : glibc-2.17-326.el7_9.x86_64                                15/94 \n  Verifying  : libmount-2.23.2-65.el7_9.1.x86_64                          16/94 \n  Verifying  : util-linux-2.23.2-65.el7_9.1.x86_64                        17/94 \n  Verifying  : nss-sysinit-3.79.0-4.el7_9.x86_64                          18/94 \n  Verifying  : binutils-2.27-44.base.el7_9.1.x86_64                       19/94 \n  Verifying  : systemd-219-78.el7_9.7.x86_64                              20/94 \n  Verifying  : bash-4.2.46-35.el7_9.x86_64                                21/94 \n  Verifying  : curl-7.29.0-59.el7_9.1.x86_64                              22/94 \n  Verifying  : 2:vim-minimal-7.4.629-8.el7_9.x86_64                       23/94 \n  Verifying  : cyrus-sasl-lib-2.1.26-24.el7_9.x86_64                      24/94 \n  Verifying  : nss-softokn-3.79.0-4.el7_9.x86_64                          25/94 \n  Verifying  : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64             26/94 \n  Verifying  : kpartx-0.4.9-136.el7_9.x86_64                              27/94 \n  Verifying  : nss-util-3.79.0-1.el7_9.x86_64                             28/94 \n  Verifying  : coreutils-8.22-24.el7_9.2.x86_64                           29/94 \n  Verifying  : expat-2.1.0-15.el7_9.x86_64                                30/94 \n  Verifying  : rpm-libs-4.11.3-48.el7_9.x86_64                            31/94 \n  Verifying  : nspr-4.34.0-3.1.el7_9.x86_64                               32/94 \n  Verifying  : rpm-python-4.11.3-48.el7_9.x86_64                          33/94 \n  Verifying  : libuuid-2.23.2-65.el7_9.1.x86_64                           34/94 \n  Verifying  : xz-libs-5.2.2-2.el7_9.x86_64                               35/94 \n  Verifying  : nss-softokn-freebl-3.79.0-4.el7_9.x86_64                   36/94 \n  Verifying  : zlib-1.2.7-20.el7_9.x86_64                                 37/94 \n  Verifying  : python-libs-2.7.5-92.el7_9.x86_64                          38/94 \n  Verifying  : rpm-4.11.3-48.el7_9.x86_64                                 39/94 \n  Verifying  : glib2-2.56.1-9.el7_9.x86_64                                40/94 \n  Verifying  : krb5-libs-1.15.1-55.el7_9.x86_64                           41/94 \n  Verifying  : 1:openssl-libs-1.0.2k-25.el7_9.x86_64                      42/94 \n  Verifying  : gzip-1.5-11.el7_9.x86_64                                   43/94 \n  Verifying  : glibc-common-2.17-326.el7_9.x86_64                         44/94 \n  Verifying  : ca-certificates-2022.2.54-74.el7_9.noarch                  45/94 \n  Verifying  : xz-5.2.2-2.el7_9.x86_64                                    46/94 \n  Verifying  : rpm-build-libs-4.11.3-48.el7_9.x86_64                      47/94 \n  Verifying  : rpm-4.11.3-45.el7.x86_64                                   48/94 \n  Verifying  : nss-tools-3.53.1-3.el7_9.x86_64                            49/94 \n  Verifying  : glibc-common-2.17-317.el7.x86_64                           50/94 \n  Verifying  : ca-certificates-2020.2.41-70.0.el7_8.noarch                51/94 \n  Verifying  : nss-softokn-3.53.1-6.el7_9.x86_64                          52/94 \n  Verifying  : nss-util-3.53.1-1.el7_9.x86_64                             53/94 \n  Verifying  : glib2-2.56.1-7.el7.x86_64                                  54/94 \n  Verifying  : nspr-4.25.0-2.el7_9.x86_64                                 55/94 \n  Verifying  : systemd-219-78.el7.x86_64                                  56/94 \n  Verifying  : 7:device-mapper-1.02.170-6.el7.x86_64                      57/94 \n  Verifying  : libblkid-2.23.2-65.el7.x86_64                              58/94 \n  Verifying  : python-libs-2.7.5-89.el7.x86_64                            59/94 \n  Verifying  : rpm-libs-4.11.3-45.el7.x86_64                              60/94 \n  Verifying  : 1:openssl-libs-1.0.2k-19.el7.x86_64                        61/94 \n  Verifying  : libxml2-python-2.9.1-6.el7.5.x86_64                        62/94 \n  Verifying  : tzdata-2020d-2.el7.noarch                                  63/94 \n  Verifying  : libuuid-2.23.2-65.el7.x86_64                               64/94 \n  Verifying  : 2:vim-minimal-7.4.629-7.el7.x86_64                         65/94 \n  Verifying  : coreutils-8.22-24.el7.x86_64                               66/94 \n  Verifying  : nss-sysinit-3.53.1-3.el7_9.x86_64                          67/94 \n  Verifying  : nss-softokn-freebl-3.53.1-6.el7_9.x86_64                   68/94 \n  Verifying  : rpm-python-4.11.3-45.el7.x86_64                            69/94 \n  Verifying  : libcurl-7.29.0-59.el7.x86_64                               70/94 \n  Verifying  : curl-7.29.0-59.el7.x86_64                                  71/94 \n  Verifying  : bash-4.2.46-34.el7.x86_64                                  72/94 \n  Verifying  : rpm-build-libs-4.11.3-45.el7.x86_64                        73/94 \n  Verifying  : gzip-1.5-10.el7.x86_64                                     74/94 \n  Verifying  : binutils-2.27-44.base.el7.x86_64                           75/94 \n  Verifying  : nss-3.53.1-3.el7_9.x86_64                                  76/94 \n  Verifying  : zlib-1.2.7-18.el7.x86_64                                   77/94 \n  Verifying  : libxml2-2.9.1-6.el7.5.x86_64                               78/94 \n  Verifying  : centos-release-7-9.2009.0.el7.centos.x86_64                79/94 \n  Verifying  : systemd-libs-219-78.el7.x86_64                             80/94 \n  Verifying  : openldap-2.4.44-22.el7.x86_64                              81/94 \n  Verifying  : 7:device-mapper-libs-1.02.170-6.el7.x86_64                 82/94 \n  Verifying  : util-linux-2.23.2-65.el7.x86_64                            83/94 \n  Verifying  : xz-libs-5.2.2-1.el7.x86_64                                 84/94 \n  Verifying  : python-2.7.5-89.el7.x86_64                                 85/94 \n  Verifying  : expat-2.1.0-12.el7.x86_64                                  86/94 \n  Verifying  : glibc-2.17-317.el7.x86_64                                  87/94 \n  Verifying  : krb5-libs-1.15.1-50.el7.x86_64                             88/94 \n  Verifying  : kpartx-0.4.9-133.el7.x86_64                                89/94 \n  Verifying  : 32:bind-license-9.11.4-26.P2.el7.noarch                    90/94 \n  Verifying  : xz-5.2.2-1.el7.x86_64                                      91/94 \n  Verifying  : libsmartcols-2.23.2-65.el7.x86_64                          92/94 \n  Verifying  : cyrus-sasl-lib-2.1.26-23.el7.x86_64                        93/94 \n  Verifying  : libmount-2.23.2-65.el7.x86_64                              94/94 \n\nUpdated:\n  bash.x86_64 0:4.2.46-35.el7_9                                                 \n  bind-license.noarch 32:9.11.4-26.P2.el7_9.10                                  \n  binutils.x86_64 0:2.27-44.base.el7_9.1                                        \n  ca-certificates.noarch 0:2022.2.54-74.el7_9                                   \n  centos-release.x86_64 0:7-9.2009.1.el7.centos                                 \n  coreutils.x86_64 0:8.22-24.el7_9.2                                            \n  curl.x86_64 0:7.29.0-59.el7_9.1                                               \n  cyrus-sasl-lib.x86_64 0:2.1.26-24.el7_9                                       \n  device-mapper.x86_64 7:1.02.170-6.el7_9.5                                     \n  device-mapper-libs.x86_64 7:1.02.170-6.el7_9.5                                \n  expat.x86_64 0:2.1.0-15.el7_9                                                 \n  glib2.x86_64 0:2.56.1-9.el7_9                                                 \n  glibc.x86_64 0:2.17-326.el7_9                                                 \n  glibc-common.x86_64 0:2.17-326.el7_9                                          \n  gzip.x86_64 0:1.5-11.el7_9                                                    \n  kpartx.x86_64 0:0.4.9-136.el7_9                                               \n  krb5-libs.x86_64 0:1.15.1-55.el7_9                                            \n  libblkid.x86_64 0:2.23.2-65.el7_9.1                                           \n  libcurl.x86_64 0:7.29.0-59.el7_9.1                                            \n  libmount.x86_64 0:2.23.2-65.el7_9.1                                           \n  libsmartcols.x86_64 0:2.23.2-65.el7_9.1                                       \n  libuuid.x86_64 0:2.23.2-65.el7_9.1                                            \n  libxml2.x86_64 0:2.9.1-6.el7_9.6                                              \n  libxml2-python.x86_64 0:2.9.1-6.el7_9.6                                       \n  nspr.x86_64 0:4.34.0-3.1.el7_9                                                \n  nss.x86_64 0:3.79.0-4.el7_9                                                   \n  nss-softokn.x86_64 0:3.79.0-4.el7_9                                           \n  nss-softokn-freebl.x86_64 0:3.79.0-4.el7_9                                    \n  nss-sysinit.x86_64 0:3.79.0-4.el7_9                                           \n  nss-tools.x86_64 0:3.79.0-4.el7_9                                             \n  nss-util.x86_64 0:3.79.0-1.el7_9                                              \n  openldap.x86_64 0:2.4.44-25.el7_9                                             \n  openssl-libs.x86_64 1:1.0.2k-25.el7_9                                         \n  python.x86_64 0:2.7.5-92.el7_9                                                \n  python-libs.x86_64 0:2.7.5-92.el7_9                                           \n  rpm.x86_64 0:4.11.3-48.el7_9                                                  \n  rpm-build-libs.x86_64 0:4.11.3-48.el7_9                                       \n  rpm-libs.x86_64 0:4.11.3-48.el7_9                                             \n  rpm-python.x86_64 0:4.11.3-48.el7_9                                           \n  systemd.x86_64 0:219-78.el7_9.7                                               \n  systemd-libs.x86_64 0:219-78.el7_9.7                                          \n  tzdata.noarch 0:2022g-1.el7                                                   \n  util-linux.x86_64 0:2.23.2-65.el7_9.1                                         \n  vim-minimal.x86_64 2:7.4.629-8.el7_9                                          \n  xz.x86_64 0:5.2.2-2.el7_9                                                     \n  xz-libs.x86_64 0:5.2.2-2.el7_9                                                \n  zlib.x86_64 0:1.2.7-20.el7_9                                                  \n\nComplete!\nLoaded plugins: fastestmirror, ovl\nLoading mirror speeds from cached hostfile\n * base: ftp.lysator.liu.se\n * extras: ftp.lysator.liu.se\n * updates: ftp.lysator.liu.se\nResolving Dependencies\n--> Running transaction check\n---> Package cronie-noanacron.x86_64 0:1.4.11-24.el7_9 will be installed\n--> Processing Dependency: cronie = 1.4.11-24.el7_9 for package: cronie-noanacron-1.4.11-24.el7_9.x86_64\n--> Processing Dependency: crontabs for package: cronie-noanacron-1.4.11-24.el7_9.x86_64\n---> Package logrotate.x86_64 0:3.8.6-19.el7 will be installed\n---> Package lsof.x86_64 0:4.87-6.el7 will be installed\n---> Package python3.x86_64 0:3.6.8-18.el7 will be installed\n--> Processing Dependency: python3-libs(x86-64) = 3.6.8-18.el7 for package: python3-3.6.8-18.el7.x86_64\n--> Processing Dependency: python3-setuptools for package: python3-3.6.8-18.el7.x86_64\n--> Processing Dependency: python3-pip for package: python3-3.6.8-18.el7.x86_64\n--> Processing Dependency: libpython3.6m.so.1.0()(64bit) for package: python3-3.6.8-18.el7.x86_64\n---> Package rsyslog.x86_64 0:8.2208.0-1.el7 will be installed\n--> Processing Dependency: libestr >= 0.1.11 for package: rsyslog-8.2208.0-1.el7.x86_64\n--> Processing Dependency: libfastjson4 >= 0.99.8 for package: rsyslog-8.2208.0-1.el7.x86_64\n--> Processing Dependency: libestr.so.0()(64bit) for package: rsyslog-8.2208.0-1.el7.x86_64\n--> Processing Dependency: libfastjson.so.4()(64bit) for package: rsyslog-8.2208.0-1.el7.x86_64\n---> Package rsyslog-gnutls.x86_64 0:8.2208.0-1.el7 will be installed\n--> Processing Dependency: libgnutls.so.28(GNUTLS_1_4)(64bit) for package: rsyslog-gnutls-8.2208.0-1.el7.x86_64\n--> Processing Dependency: libgnutls.so.28(GNUTLS_2_12)(64bit) for package: rsyslog-gnutls-8.2208.0-1.el7.x86_64\n--> Processing Dependency: libgnutls.so.28()(64bit) for package: rsyslog-gnutls-8.2208.0-1.el7.x86_64\n---> Package rsyslog-kafka.x86_64 0:8.2208.0-1.el7 will be installed\n--> Processing Dependency: librdkafka.so.1()(64bit) for package: rsyslog-kafka-8.2208.0-1.el7.x86_64\n---> Package rsyslog-mmjsonparse.x86_64 0:8.2208.0-1.el7 will be installed\n--> Processing Dependency: liblognorm5 >= 2.0.6 for package: rsyslog-mmjsonparse-8.2208.0-1.el7.x86_64\n---> Package rsyslog-openssl.x86_64 0:8.2208.0-1.el7 will be installed\n---> Package rsyslog-pmciscoios.x86_64 0:8.2208.0-1.el7 will be installed\n---> Package rsyslog-relp.x86_64 0:8.2208.0-1.el7 will be installed\n--> Processing Dependency: librelp >= 1.10.0 for package: rsyslog-relp-8.2208.0-1.el7.x86_64\n--> Processing Dependency: librelp.so.0()(64bit) for package: rsyslog-relp-8.2208.0-1.el7.x86_64\n---> Package rsyslog-udpspoof.x86_64 0:8.2208.0-1.el7 will be installed\n--> Processing Dependency: libnet.so.1()(64bit) for package: rsyslog-udpspoof-8.2208.0-1.el7.x86_64\n--> Running transaction check\n---> Package cronie.x86_64 0:1.4.11-24.el7_9 will be installed\n---> Package crontabs.noarch 0:1.11-6.20121102git.el7 will be installed\n---> Package gnutls.x86_64 0:3.3.29-9.el7_6 will be installed\n--> Processing Dependency: trousers >= 0.3.11.2 for package: gnutls-3.3.29-9.el7_6.x86_64\n--> Processing Dependency: libnettle.so.4()(64bit) for package: gnutls-3.3.29-9.el7_6.x86_64\n--> Processing Dependency: libhogweed.so.2()(64bit) for package: gnutls-3.3.29-9.el7_6.x86_64\n---> Package libestr.x86_64 0:0.1.11-1.el7 will be installed\n---> Package libfastjson4.x86_64 0:0.99.9-1.el7 will be installed\n---> Package liblognorm5.x86_64 0:2.0.6-1.el7 will be installed\n---> Package libnet.x86_64 0:1.1.6-7.el7 will be installed\n---> Package librdkafka.x86_64 0:0.11.4-1.el7 will be installed\n---> Package librelp.x86_64 0:1.10.0-1.el7 will be installed\n---> Package python3-libs.x86_64 0:3.6.8-18.el7 will be installed\n--> Processing Dependency: libtirpc.so.1()(64bit) for package: python3-libs-3.6.8-18.el7.x86_64\n---> Package python3-pip.noarch 0:9.0.3-8.el7 will be installed\n---> Package python3-setuptools.noarch 0:39.2.0-10.el7 will be installed\n--> Running transaction check\n---> Package libtirpc.x86_64 0:0.2.4-0.16.el7 will be installed\n---> Package nettle.x86_64 0:2.7.1-9.el7_9 will be installed\n---> Package trousers.x86_64 0:0.3.14-2.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                Arch      Version                   Repository     Size\n================================================================================\nInstalling:\n cronie-noanacron       x86_64    1.4.11-24.el7_9           updates        14 k\n logrotate              x86_64    3.8.6-19.el7              base           70 k\n lsof                   x86_64    4.87-6.el7                base          331 k\n python3                x86_64    3.6.8-18.el7              updates        70 k\n rsyslog                x86_64    8.2208.0-1.el7            rsyslog_v8    779 k\n rsyslog-gnutls         x86_64    8.2208.0-1.el7            rsyslog_v8     49 k\n rsyslog-kafka          x86_64    8.2208.0-1.el7            rsyslog_v8     56 k\n rsyslog-mmjsonparse    x86_64    8.2208.0-1.el7            rsyslog_v8     38 k\n rsyslog-openssl        x86_64    8.2208.0-1.el7            rsyslog_v8     49 k\n rsyslog-pmciscoios     x86_64    8.2208.0-1.el7            rsyslog_v8     37 k\n rsyslog-relp           x86_64    8.2208.0-1.el7            rsyslog_v8     49 k\n rsyslog-udpspoof       x86_64    8.2208.0-1.el7            rsyslog_v8     40 k\nInstalling for dependencies:\n cronie                 x86_64    1.4.11-24.el7_9           updates        92 k\n crontabs               noarch    1.11-6.20121102git.el7    base           13 k\n gnutls                 x86_64    3.3.29-9.el7_6            base          680 k\n libestr                x86_64    0.1.11-1.el7              rsyslog_v8    9.7 k\n libfastjson4           x86_64    0.99.9-1.el7              rsyslog_v8     65 k\n liblognorm5            x86_64    2.0.6-1.el7               rsyslog_v8     79 k\n libnet                 x86_64    1.1.6-7.el7               base           59 k\n librdkafka             x86_64    0.11.4-1.el7              base          337 k\n librelp                x86_64    1.10.0-1.el7              rsyslog_v8     69 k\n libtirpc               x86_64    0.2.4-0.16.el7            base           89 k\n nettle                 x86_64    2.7.1-9.el7_9             updates       328 k\n python3-libs           x86_64    3.6.8-18.el7              updates       6.9 M\n python3-pip            noarch    9.0.3-8.el7               base          1.6 M\n python3-setuptools     noarch    39.2.0-10.el7             base          629 k\n trousers               x86_64    0.3.14-2.el7              base          289 k\n\nTransaction Summary\n================================================================================\nInstall  12 Packages (+15 Dependent packages)\n\nTotal download size: 13 M\nInstalled size: 57 M\nDownloading packages:\n\u001b[91mwarning: /var/cache/yum/x86_64/7/rsyslog_v8/packages/libestr-0.1.11-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID e00b8985: NOKEY\n\u001b[0mPublic key for libestr-0.1.11-1.el7.x86_64.rpm is not installed\n--------------------------------------------------------------------------------\nTotal                                              7.8 MB/s |  13 MB  00:01     \nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-Adiscon\n\u001b[91mImporting GPG key 0xE00B8985:\n Userid     : \"Andre Lorbach (RPM Signing Key) <alorbach@adiscon.com>\"\n Fingerprint: 712d 4e18 794d c570 e287 0861 e0f2 33b3 e00b 8985\n From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-Adiscon\n\u001b[0mRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : libfastjson4-0.99.9-1.el7.x86_64                            1/27 \n  Installing : libestr-0.1.11-1.el7.x86_64                                 2/27 \n  Installing : liblognorm5-2.0.6-1.el7.x86_64                              3/27 \n  Installing : cronie-1.4.11-24.el7_9.x86_64                               4/27 \n  Installing : crontabs-1.11-6.20121102git.el7.noarch                      5/27 \n  Installing : cronie-noanacron-1.4.11-24.el7_9.x86_64                     6/27 \n  Installing : logrotate-3.8.6-19.el7.x86_64                               7/27 \n  Installing : rsyslog-8.2208.0-1.el7.x86_64                               8/27 \n  Installing : nettle-2.7.1-9.el7_9.x86_64                                 9/27 \ninstall-info: No such file or directory for /usr/share/info/nettle.info\n  Installing : libnet-1.1.6-7.el7.x86_64                                  10/27 \n  Installing : librdkafka-0.11.4-1.el7.x86_64                             11/27 \n  Installing : trousers-0.3.14-2.el7.x86_64                               12/27 \n  Installing : gnutls-3.3.29-9.el7_6.x86_64                               13/27 \n  Installing : librelp-1.10.0-1.el7.x86_64                                14/27 \n  Installing : libtirpc-0.2.4-0.16.el7.x86_64                             15/27 \n  Installing : python3-pip-9.0.3-8.el7.noarch                             16/27 \n  Installing : python3-setuptools-39.2.0-10.el7.noarch                    17/27 \n  Installing : python3-3.6.8-18.el7.x86_64                                18/27 \n  Installing : python3-libs-3.6.8-18.el7.x86_64                           19/27 \n  Installing : rsyslog-relp-8.2208.0-1.el7.x86_64                         20/27 \n  Installing : rsyslog-gnutls-8.2208.0-1.el7.x86_64                       21/27 \n  Installing : rsyslog-kafka-8.2208.0-1.el7.x86_64                        22/27 \n  Installing : rsyslog-udpspoof-8.2208.0-1.el7.x86_64                     23/27 \n  Installing : rsyslog-openssl-8.2208.0-1.el7.x86_64                      24/27 \n  Installing : rsyslog-mmjsonparse-8.2208.0-1.el7.x86_64                  25/27 \n  Installing : rsyslog-pmciscoios-8.2208.0-1.el7.x86_64                   26/27 \n  Installing : lsof-4.87-6.el7.x86_64                                     27/27 \n  Verifying  : libtirpc-0.2.4-0.16.el7.x86_64                              1/27 \n  Verifying  : trousers-0.3.14-2.el7.x86_64                                2/27 \n  Verifying  : rsyslog-gnutls-8.2208.0-1.el7.x86_64                        3/27 \n  Verifying  : libfastjson4-0.99.9-1.el7.x86_64                            4/27 \n  Verifying  : crontabs-1.11-6.20121102git.el7.noarch                      5/27 \n  Verifying  : lsof-4.87-6.el7.x86_64                                      6/27 \n  Verifying  : cronie-1.4.11-24.el7_9.x86_64                               7/27 \n  Verifying  : python3-3.6.8-18.el7.x86_64                                 8/27 \n  Verifying  : python3-pip-9.0.3-8.el7.noarch                              9/27 \n  Verifying  : rsyslog-relp-8.2208.0-1.el7.x86_64                         10/27 \n  Verifying  : rsyslog-openssl-8.2208.0-1.el7.x86_64                      11/27 \n  Verifying  : liblognorm5-2.0.6-1.el7.x86_64                             12/27 \n  Verifying  : rsyslog-kafka-8.2208.0-1.el7.x86_64                        13/27 \n  Verifying  : librelp-1.10.0-1.el7.x86_64                                14/27 \n  Verifying  : librdkafka-0.11.4-1.el7.x86_64                             15/27 \n  Verifying  : gnutls-3.3.29-9.el7_6.x86_64                               16/27 \n  Verifying  : cronie-noanacron-1.4.11-24.el7_9.x86_64                    17/27 \n  Verifying  : python3-libs-3.6.8-18.el7.x86_64                           18/27 \n  Verifying  : python3-setuptools-39.2.0-10.el7.noarch                    19/27 \n  Verifying  : libnet-1.1.6-7.el7.x86_64                                  20/27 \n  Verifying  : nettle-2.7.1-9.el7_9.x86_64                                21/27 \n  Verifying  : libestr-0.1.11-1.el7.x86_64                                22/27 \n  Verifying  : logrotate-3.8.6-19.el7.x86_64                              23/27 \n  Verifying  : rsyslog-mmjsonparse-8.2208.0-1.el7.x86_64                  24/27 \n  Verifying  : rsyslog-pmciscoios-8.2208.0-1.el7.x86_64                   25/27 \n  Verifying  : rsyslog-8.2208.0-1.el7.x86_64                              26/27 \n  Verifying  : rsyslog-udpspoof-8.2208.0-1.el7.x86_64                     27/27 \n\nInstalled:\n  cronie-noanacron.x86_64 0:1.4.11-24.el7_9                                     \n  logrotate.x86_64 0:3.8.6-19.el7                                               \n  lsof.x86_64 0:4.87-6.el7                                                      \n  python3.x86_64 0:3.6.8-18.el7                                                 \n  rsyslog.x86_64 0:8.2208.0-1.el7                                               \n  rsyslog-gnutls.x86_64 0:8.2208.0-1.el7                                        \n  rsyslog-kafka.x86_64 0:8.2208.0-1.el7                                         \n  rsyslog-mmjsonparse.x86_64 0:8.2208.0-1.el7                                   \n  rsyslog-openssl.x86_64 0:8.2208.0-1.el7                                       \n  rsyslog-pmciscoios.x86_64 0:8.2208.0-1.el7                                    \n  rsyslog-relp.x86_64 0:8.2208.0-1.el7                                          \n  rsyslog-udpspoof.x86_64 0:8.2208.0-1.el7                                      \n\nDependency Installed:\n  cronie.x86_64 0:1.4.11-24.el7_9     crontabs.noarch 0:1.11-6.20121102git.el7  \n  gnutls.x86_64 0:3.3.29-9.el7_6      libestr.x86_64 0:0.1.11-1.el7             \n  libfastjson4.x86_64 0:0.99.9-1.el7  liblognorm5.x86_64 0:2.0.6-1.el7          \n  libnet.x86_64 0:1.1.6-7.el7         librdkafka.x86_64 0:0.11.4-1.el7          \n  librelp.x86_64 0:1.10.0-1.el7       libtirpc.x86_64 0:0.2.4-0.16.el7          \n  nettle.x86_64 0:2.7.1-9.el7_9       python3-libs.x86_64 0:3.6.8-18.el7        \n  python3-pip.noarch 0:9.0.3-8.el7    python3-setuptools.noarch 0:39.2.0-10.el7 \n  trousers.x86_64 0:0.3.14-2.el7     \n\nComplete!\nLoaded plugins: fastestmirror, ovl\nCleaning repos: base extras rsyslog_v8 updates\nCleaning up list of fastest mirrors\nRemoving intermediate container 19a6d58ae581\n ---> 1fd1e72c893d\nStep 13/44 : RUN rm -rf /etc/rsyslog.d/   && rm -f /etc/rsyslog.conf   && rm -f /etc/logrotate.conf   && find /etc/logrotate.d/ -type f -delete   && find /etc/cron.d/ ! -type d -delete\n ---> Running in 4f404e3e23c8\nRemoving intermediate container 4f404e3e23c8\n ---> 819f519e0c84\nStep 14/44 : ARG CONFD_VER='0.16.0'\n ---> Running in f5e49c28155e\nRemoving intermediate container f5e49c28155e\n ---> b2e0be40620f\nStep 15/44 : COPY usr/local/bin/confd-${CONFD_VER}-linux-amd64 /usr/local/bin/confd\n ---> dba9a19fa894\nStep 16/44 : RUN chmod +x /usr/local/bin/confd &&   mkdir -p /etc/confd/conf.d &&   mkdir -p /etc/confd/templates\n ---> Running in 4eadf5a399f1\nRemoving intermediate container 4eadf5a399f1\n ---> c0a8283793d9\nStep 17/44 : COPY etc/confd /etc/confd\n ---> 2e022ec3989c\nStep 18/44 : COPY etc/cron.d /etc/cron.d\n ---> 43258d9ac27d\nStep 19/44 : COPY etc/cron.daily /etc/cron.daily\n ---> f093d6396710\nStep 20/44 : COPY etc/logrotate.conf /etc/logrotate.conf\n ---> a5f7a53a3f71\nStep 21/44 : COPY usr/local/bin/rsyslog-rotate.sh /usr/local/bin/rsyslog-rotate.sh\n ---> 5916eba443b7\nStep 22/44 : RUN chmod 0644 /etc/logrotate.conf &&   chmod 0744 /usr/local/bin/rsyslog-rotate.sh &&   find /etc/cron.daily -type f -exec chmod 0744 {} \\;\n ---> Running in 4d3496dd90ec\nRemoving intermediate container 4d3496dd90ec\n ---> 8daae050a4ef\nStep 23/44 : COPY etc/rsyslog.conf /etc/rsyslog.conf\n ---> 565d4705ba5b\nStep 24/44 : COPY etc/rsyslog.d/input/ /etc/rsyslog.d/input/\n ---> 1cb12653db5f\nStep 25/44 : COPY etc/rsyslog.d/output/ /etc/rsyslog.d/output/\n ---> 372d5a05b9b0\nStep 26/44 : RUN mkdir -p   /etc/rsyslog.d/input/filters   /etc/rsyslog.d/output/filters   /etc/rsyslog.d/extra\n ---> Running in 60feabb5c162\nRemoving intermediate container 60feabb5c162\n ---> 0c8ebe7d8b5b\nStep 27/44 : RUN mkdir -p usr/local/etc/pki/test\n ---> Running in b404a85fb796\nRemoving intermediate container b404a85fb796\n ---> 74b21bc9589d\nStep 28/44 : COPY usr/local/etc/pki/test/test-ca.cert.pem /usr/local/etc/pki/test\n ---> b6789d9f51dd\nStep 29/44 : COPY usr/local/etc/pki/test/test-syslog-server.key.pem /usr/local/etc/pki/test\n ---> 6e79ef551429\nStep 30/44 : COPY usr/local/etc/pki/test/test-syslog-server.cert.pem /usr/local/etc/pki/test\n ---> 24dd4f4b5cfa\nStep 31/44 : ENV rsyslog_global_ca_file='/etc/pki/tls/certs/ca-bundle.crt'   rsyslog_server_cert_file='/etc/pki/rsyslog/cert.pem'   rsyslog_server_key_file='/etc/pki/rsyslog/key.pem'\n ---> Running in 343f622dfb94\nRemoving intermediate container 343f622dfb94\n ---> b5878f37fda2\nStep 32/44 : ENV rsyslog_global_maxMessageSize=65536   rsyslog_parser='[\"rsyslog.rfc5424\", \"custom.rfc3164\"]'   rsyslog_pmrfc3164_force_tagEndingByColon='off'   rsyslog_pmrfc3164_remove_msgFirstSpace='on'   rsyslog_pmrfc3164_permit_squareBracketsInHostname='off'   rsyslog_pmrfc3164_permit_slashInHostname='on'   rsyslog_pmrfc3164_permit_atSignsInHostname='off'   rsyslog_global_parser_permitSlashInProgramName='on'   rsyslog_global_parser_escapeControlCharacterTab='off'   rsyslog_global_preserveFQDN='on'   rsyslog_mmpstrucdata='on'   rsyslog_mmjsonparse='on'   rsyslog_mmjsonparse_without_cee='off'   rsyslog_support_metadata_formats='off'   rsyslog_input_filtering_enabled='on'   rsyslog_module_imudp_RcvBufSize=0   rsyslog_module_imudp_BatchSize=128   rsyslog_module_imudp_threads=2   rsyslog_module_imudp_SchedulingPolicy='fifo'   rsyslog_module_imudp_SchedulingPriority=10   rsyslog_module_imudp_RateLimit_Interval=0   rsyslog_module_imudp_RateLimit_Burst=262144   rsyslog_module_imptcp_threads=4   rsyslog_module_imptcp_SocketBacklog=128   rsyslog_module_imptcp_ProcessOnPoller='off'   rsyslog_module_imptcp_KeepAlive='off'   rsyslog_module_imptcp_flowControl='on'   rsyslog_module_imptcp_NotifyOnConnectionOpen='off'   rsyslog_module_imptcp_NotifyOnConnectionClose='off'   rsyslog_module_imptcp_RateLimit_Interval=0   rsyslog_module_imptcp_RateLimit_Burst=262144   rsyslog_module_imtcp_KeepAlive='off'   rsyslog_module_imtcp_flowControl='on'   rsyslog_module_imtcp_NotifyOnConnectionClose='off'   rsyslog_module_imtcp_maxSessions=1000   rsyslog_module_imtcp_streamDriver_authMode='anon'   rsyslog_module_imtcp_RateLimit_Interval=0   rsyslog_module_imtcp_RateLimit_Burst=262144   rsyslog_module_imrelp_KeepAlive='off'   rsyslog_module_imrelp_authMode='certvalid'   rsyslog_tls_permittedPeer='[\"*\"]'\n ---> Running in 706101943cb2\nRemoving intermediate container 706101943cb2\n ---> abc4808d3dcb\nStep 33/44 : ENV rsyslog_impstats='on'   rsyslog_module_impstats_interval=60   rsyslog_module_impstats_resetCounters='on'   rsyslog_module_impstats_format='cee'   rsyslog_impstats_log_syslog='on'   rsyslog_impstats_log_file_enabled='off'   rsyslog_impstats_log_file='/var/log/impstats/metrics.log'   rsyslog_impstats_ruleset='syslog_stats'   rsyslog_dyn_stats='on'   rsyslog_dyn_stats_maxCardinality=10000   rsyslog_dyn_stats_unusedMetricLife=86400   rsyslog_dyn_stats_inc_error_reporting='off'   rsyslog_dyn_stats_inc_error_reporting_file='/var/log/impstats/dyn_stats_inc_error.log'   rsyslog_global_action_reportSuspension='on'   rsyslog_global_senders_keepTrack='on'   rsyslog_global_senders_timeoutAfter=86400   rsyslog_global_senders_reportGoneAway='on'\n ---> Running in a7644f22015a\nRemoving intermediate container a7644f22015a\n ---> a3484bc1b3be\nStep 34/44 : ENV rsyslog_central_queue_type='FixedArray'   rsyslog_central_queue_size=100000   rsyslog_central_queue_dequeueBatchSize=5000   rsyslog_central_queue_minDequeueBatchSize=50   rsyslog_central_queue_minDequeueBatchSize_timeout=100   rsyslog_central_queue_workerThreads=4   rsyslog_central_workerThreadMinimumMessages=20000\n ---> Running in 149353bf6536\nRemoving intermediate container 149353bf6536\n ---> 4e2fee63e183\nStep 35/44 : ENV rsyslog_output_filtering_enabled='on'   rsyslog_omfile_enabled='on'   rsyslog_omfile_split_files_per_host='off'   rsyslog_omfile_template='RSYSLOG_TraditionalFileFormat'   rsyslog_omfile_DirCreateMode='0755'   rsyslog_omfile_FileCreateMode='0640'   rsyslog_omkafka_enabled='off'   rsyslog_omkafka_broker=''   rsyslog_omkafka_confParam=''   rsyslog_omkafka_topic='syslog'   rsyslog_omkafka_dynaTopic='off'   rsyslog_omkafka_topicConfParam=''   rsyslog_omkafka_template='TmplJSON'   rsyslog_omfwd_syslog_enabled='off'   rsyslog_omfwd_syslog_host=''   rsyslog_omfwd_syslog_port=514   rsyslog_omfwd_syslog_protocol='tcp'   rsyslog_omfwd_syslog_template='TmplRFC5424'   rsyslog_omudpspoof_syslog_enabled='off'   rsyslog_omudpspoof_syslog_host=''   rsyslog_omudpspoof_syslog_port=514   rsyslog_omudpspoof_syslog_template='TmplRFC5424'   rsyslog_omfwd_json_enabled=off   rsyslog_omfwd_json_host=''   rsyslog_omfwd_json_port=5000   rsyslog_omfwd_json_template='TmplJSON'   rsyslog_om_action_queue_type='LinkedList'   rsyslog_om_action_queue_maxDiskSpace=1073741824   rsyslog_om_action_queue_size=100000   rsyslog_om_action_queue_discardMark=95000   rsyslog_om_action_queue_discardSeverity=7   rsyslog_om_action_queue_checkpointInterval=10000   rsyslog_om_action_queue_dequeueBatchSize=5000   rsyslog_om_action_queue_minDequeueBatchSize=50   rsyslog_om_action_queue_minDequeueBatchSize_timeout=100   rsyslog_om_action_queue_workerThreads=4   rsyslog_om_action_queue_workerThreadMinimumMessages=20000   rsyslog_call_fwd_extra_rule='off'\n ---> Running in 40a927a179af\nRemoving intermediate container 40a927a179af\n ---> b4057d02bc81\nStep 36/44 : ENV logrotate_enabled='on'   logrotate_remote_period='daily'   logrotate_remote_files='42'   logrotate_impstats_period='daily'   logrotate_impstats_files='42'\n ---> Running in b7651deb9224\nRemoving intermediate container b7651deb9224\n ---> e812d24acd80\nStep 37/44 : VOLUME /var/log/remote   /var/log/impstats   /var/lib/rsyslog   /etc/pki/rsyslog\n ---> Running in eb7cc36bb0df\nRemoving intermediate container eb7cc36bb0df\n ---> 91655d3a6467\nStep 38/44 : EXPOSE 514/udp 514/tcp 601/tcp 6514/tcp 2514/tcp 7514/tcp 8514/tcp\n ---> Running in fc61ba61336d\nRemoving intermediate container fc61ba61336d\n ---> 87feea5ad3f7\nStep 39/44 : COPY usr/local/bin/entrypoint.sh   usr/local/bin/rsyslog_healthcheck.sh   usr/local/bin/rsyslog_config_expand.py   /usr/local/bin/\n ---> a80ce293af8b\nStep 40/44 : RUN chmod 0755 usr/local/bin/entrypoint.sh   /usr/local/bin/rsyslog_healthcheck.sh   /usr/local/bin/rsyslog_config_expand.py\n ---> Running in b95d4592b57e\nRemoving intermediate container b95d4592b57e\n ---> d1386f343a6c\nStep 41/44 : ENTRYPOINT [\"/usr/local/bin/entrypoint.sh\"]\n ---> Running in 0e69c18c174d\nRemoving intermediate container 0e69c18c174d\n ---> 119ace6a59fd\nStep 42/44 : HEALTHCHECK CMD /usr/local/bin/rsyslog_healthcheck.sh\n ---> Running in 27d1a49da46f\nRemoving intermediate container 27d1a49da46f\n ---> 0ac2019af1d9\nStep 43/44 : ARG BUILD_DATE\n ---> Running in 028e8ea362b6\nRemoving intermediate container 028e8ea362b6\n ---> 14669c2548b9\nStep 44/44 : LABEL org.label-schema.build-date=\"${BUILD_DATE}\"\n ---> Running in ace34ffe0d3d\nRemoving intermediate container ace34ffe0d3d\n ---> 413aae066931\nSuccessfully built 413aae066931\nSuccessfully tagged docker-rsyslog:latest\n","stderr":"","imageSize":434471802},"repair":{"violations":[],"repairedDockerfile":"FROM centos:7\nARG VERSION\nLABEL org.label-schema.schema-version=1.0.0-rc1 \\\n  org.label-schema.name=\"rsyslog\" \\\n  org.label-schema.description=\"RSyslog container with pre-canned use-cases controlled by setting environment variables\" \\\n  org.label-schema.version=\"${VERSION}\" \\\n  org.label-schema.url=\"http://www.rsyslog.com\" \\\n  org.label-schema.vcs-url=\"https://github.com/JPvRiel/docker-rsyslog\" \\\n  org.label-schema.distribution-scope=public \\\n  maintainer='Jean-Pierre van Riel <jp.vanriel@gmail.com>'\n# Base CentOS image has a nubmer of labels we don't overwrite and this may cause confusion\n\nENV container=docker\n\n# Embed custom org CA into image if need be\nCOPY etc/pki/ca-trust/source/anchors/ /etc/pki/ca-trust/source/anchors/\nRUN update-ca-trust\n\n# Setup repos, etc\n# Disable fast mirror plugin to better leverage upstream proxy caching (or use specific repos)\n# Switch yum config to use a consitant base url (useful if not caching docker build, but relying on an upstream proxy)\nARG DISABLE_YUM_MIRROR=false\nRUN if [ \"$DISABLE_YUM_MIRROR\" != true ]; then exit; fi && \\\n  sed 's/enabled=1/enabled=0/g' -i /etc/yum/pluginconf.d/fastestmirror.conf && \\\n  sed 's/^mirrorlist/#mirrorlist/g' -i /etc/yum.repos.d/CentOS-Base.repo && \\\n  sed 's/^#baseurl/baseurl/g' -i /etc/yum.repos.d/CentOS-Base.repo\n# Some rsyslog modules have dependancies in epel\n# RUN yum --setopt=timeout=120 -y update && \\\n#   yum -y install --setopt=timeout=120 --setopt=tsflags=nodocs epel-release\n# # Also switch to a base url for epel repo\n# RUN if [ \"$DISABLE_YUM_MIRROR\" != true ]; then exit; fi && \\\n#   sed 's/^mirrorlist/#mirrorlist/g' -i /etc/yum.repos.d/epel.repo && \\\n#   sed 's/^#baseurl/baseurl/g' -i /etc/yum.repos.d/epel.repo\n\n# Install RSyslog and logrotate\n# For http://rpms.adiscon.com/v8-stable/rsyslog.repo\n# - It has gpgcheck=0\n# - Adiscon doens't offer an HTTPS endpoint for the above file :-/\n# - The GPG key is at http://rpms.adiscon.com/RPM-GPG-KEY-Adiscon, so also not secure to download and trust directly\n# Therefore, prebundle our own local copy of the repo and GPG file\nCOPY etc/pki/rpm-gpg/RPM-GPG-KEY-Adiscon /etc/pki/rpm-gpg/RPM-GPG-KEY-Adiscon\nCOPY etc/yum.repos.d/rsyslog.repo /etc/yum.repos.d/rsyslog.repo\nARG RSYSLOG_VERSION='8.2208.0'\nRUN yum --setopt=timeout=120 -y update && \\\n  yum --setopt=timeout=120 --setopt=tsflags=nodocs -y install \\\n  rsyslog-${RSYSLOG_VERSION} \\\n  rsyslog-gnutls-${RSYSLOG_VERSION} \\\n  rsyslog-openssl-${RSYSLOG_VERSION} \\\n  rsyslog-kafka-${RSYSLOG_VERSION} \\\n  rsyslog-relp-${RSYSLOG_VERSION} \\\n  rsyslog-pmciscoios-${RSYSLOG_VERSION} \\\n  rsyslog-mmjsonparse-${RSYSLOG_VERSION} \\\n  rsyslog-udpspoof-${RSYSLOG_VERSION} \\\n  lsof \\\n  logrotate \\\n  cronie-noanacron \\\n  python3 \\\n  && yum clean all\nRUN rm -rf /etc/rsyslog.d/ \\\n  && rm -f /etc/rsyslog.conf \\\n  && rm -f /etc/logrotate.conf \\\n  && find /etc/logrotate.d/ -type f -delete \\\n  && find /etc/cron.d/ ! -type d -delete\n\n# Install confd\nARG CONFD_VER='0.16.0'\n#ADD https://github.com/kelseyhightower/confd/releases/download/v${CONFD_VER}/confd-${CONFD_VER}-linux-amd64 /usr/local/bin/confd\nCOPY usr/local/bin/confd-${CONFD_VER}-linux-amd64 /usr/local/bin/confd\n# Use bundled file to avoid downloading all the time\n\nRUN chmod +x /usr/local/bin/confd && \\\n  mkdir -p /etc/confd/conf.d && \\\n  mkdir -p /etc/confd/templates\n\n# Copy rsyslog config templates (for confd)\nCOPY etc/confd /etc/confd\n\n# Copy cron and logrotate config\nCOPY etc/cron.d /etc/cron.d\nCOPY etc/cron.daily /etc/cron.daily\nCOPY etc/logrotate.conf /etc/logrotate.conf\nCOPY usr/local/bin/rsyslog-rotate.sh /usr/local/bin/rsyslog-rotate.sh\nRUN chmod 0644 /etc/logrotate.conf && \\\n  chmod 0744 /usr/local/bin/rsyslog-rotate.sh && \\\n  find /etc/cron.daily -type f -exec chmod 0744 {} \\;\n\n# Copy rsyslog config files and create folders for template config\nCOPY etc/rsyslog.conf /etc/rsyslog.conf\nCOPY etc/rsyslog.d/input/ /etc/rsyslog.d/input/\nCOPY etc/rsyslog.d/output/ /etc/rsyslog.d/output/\n# Directories intended as optional volume mounted config\nRUN mkdir -p \\\n  /etc/rsyslog.d/input/filters \\\n  /etc/rsyslog.d/output/filters \\\n  /etc/rsyslog.d/extra\n# Note:\n# - rsyslog.d/input/filters is a volume used for addtional input filters that fit into pre-defined templated inputs\n# - rsyslog.d/output/filters is a volume used for addtional output filters that fit into pre-defined templated outputs\n# - rsyslog.d/extra is a volume used for unforseen custom config\n\n# Copy a default self-signed cert and key - this is INSECURE and for testing/build purposes only\n# - To help handle cases when the rsyslog tls volume doesn't have expected files present\n# - rsyslog.sh entrypoint script will symlink and use these defaults if not provided in a volume\n# - For production, avoid insecure default by providing an /etc/pki/rsyslog volume provisioned with your own keys and certficates\nRUN mkdir -p usr/local/etc/pki/test\nCOPY usr/local/etc/pki/test/test-ca.cert.pem /usr/local/etc/pki/test\nCOPY usr/local/etc/pki/test/test-syslog-server.key.pem /usr/local/etc/pki/test\nCOPY usr/local/etc/pki/test/test-syslog-server.cert.pem /usr/local/etc/pki/test\n\n# Default ENV vars for rsyslog config tuned for high throughput by default and assumes a multi-core system that can handle several worker threads.\n# - See: https://www.rsyslog.com/doc/v8-stable/examples/high_performance.html.\n\n# TLS related globals\nENV rsyslog_global_ca_file='/etc/pki/tls/certs/ca-bundle.crt' \\\n  rsyslog_server_cert_file='/etc/pki/rsyslog/cert.pem' \\\n  rsyslog_server_key_file='/etc/pki/rsyslog/key.pem'\n\n# Inputs and parsing inputs. Note:\n# - Rate limiting is disabled by default (0).\n# - UDP recieve buffer size is left as autotune by default (0).\n# - UDP FIFO shedular is set to try avoid packet loss.\n# - TCP socket backlog is increase to try avoid failed TCP open connection errors (only applies to imptcp).\n# - imtcp is used for TCP with TLS while imptcp is used for TCP without TLS.\n# - Batch sizes and threads are increased with the aim of handling higher remote server throughput.\n# - A 'central' queue is based on a fixed array in-memory queue, so take care when increasing rsyslog_global_maxMessageSize\n# - 'anon' or 'x509/certvalid' or 'x509/name' for ...auth_mode does not apply to RELP, only TCP TLS\nENV rsyslog_global_maxMessageSize=65536 \\\n  rsyslog_parser='[\"rsyslog.rfc5424\", \"custom.rfc3164\"]' \\\n  rsyslog_pmrfc3164_force_tagEndingByColon='off' \\\n  rsyslog_pmrfc3164_remove_msgFirstSpace='on' \\\n  rsyslog_pmrfc3164_permit_squareBracketsInHostname='off' \\\n  rsyslog_pmrfc3164_permit_slashInHostname='on' \\\n  rsyslog_pmrfc3164_permit_atSignsInHostname='off' \\\n  rsyslog_global_parser_permitSlashInProgramName='on' \\\n  rsyslog_global_parser_escapeControlCharacterTab='off' \\\n  rsyslog_global_preserveFQDN='on' \\\n  rsyslog_mmpstrucdata='on' \\\n  rsyslog_mmjsonparse='on' \\\n  rsyslog_mmjsonparse_without_cee='off' \\\n  rsyslog_support_metadata_formats='off' \\\n  rsyslog_input_filtering_enabled='on' \\\n  rsyslog_module_imudp_RcvBufSize=0 \\\n  rsyslog_module_imudp_BatchSize=128 \\\n  rsyslog_module_imudp_threads=2 \\\n  rsyslog_module_imudp_SchedulingPolicy='fifo' \\\n  rsyslog_module_imudp_SchedulingPriority=10 \\\n  rsyslog_module_imudp_RateLimit_Interval=0 \\\n  rsyslog_module_imudp_RateLimit_Burst=262144 \\\n  rsyslog_module_imptcp_threads=4 \\\n  rsyslog_module_imptcp_SocketBacklog=128 \\\n  rsyslog_module_imptcp_ProcessOnPoller='off' \\\n  rsyslog_module_imptcp_KeepAlive='off' \\\n  rsyslog_module_imptcp_flowControl='on' \\\n  rsyslog_module_imptcp_NotifyOnConnectionOpen='off' \\\n  rsyslog_module_imptcp_NotifyOnConnectionClose='off' \\\n  rsyslog_module_imptcp_RateLimit_Interval=0 \\\n  rsyslog_module_imptcp_RateLimit_Burst=262144 \\\n  rsyslog_module_imtcp_KeepAlive='off' \\\n  rsyslog_module_imtcp_flowControl='on' \\\n  rsyslog_module_imtcp_NotifyOnConnectionClose='off' \\\n  rsyslog_module_imtcp_maxSessions=1000 \\\n  rsyslog_module_imtcp_streamDriver_authMode='anon' \\\n  rsyslog_module_imtcp_RateLimit_Interval=0 \\\n  rsyslog_module_imtcp_RateLimit_Burst=262144 \\\n  rsyslog_module_imrelp_KeepAlive='off' \\\n  rsyslog_module_imrelp_authMode='certvalid' \\\n  rsyslog_tls_permittedPeer='[\"*\"]'\n\n# Metrics. Note:\n# - impstats is a special internal input for reporting rsyslog metrics\n# - Options to log to syslog and/or a file.\n# - Logging metrics within syslog itself could be unreliable as problems can prevent metrics from being processed properly.\n# - If logging metrics within syslog, the cee format helps rsyslog expect impstats in a JSON format after the '@cee' cookie in the message.\n# - Logging metrics to a file is probably better but should be complimented with log rotate process to avoid filling up storage.\n# - Option to enable logging of dynstat incriment errors to a seperate meta file (off by default)\nENV rsyslog_impstats='on' \\\n  rsyslog_module_impstats_interval=60 \\\n  rsyslog_module_impstats_resetCounters='on' \\\n  rsyslog_module_impstats_format='cee' \\\n  rsyslog_impstats_log_syslog='on' \\\n  rsyslog_impstats_log_file_enabled='off' \\\n  rsyslog_impstats_log_file='/var/log/impstats/metrics.log' \\\n  rsyslog_impstats_ruleset='syslog_stats' \\\n  rsyslog_dyn_stats='on' \\\n  rsyslog_dyn_stats_maxCardinality=10000 \\\n  rsyslog_dyn_stats_unusedMetricLife=86400 \\\n  rsyslog_dyn_stats_inc_error_reporting='off' \\\n  rsyslog_dyn_stats_inc_error_reporting_file='/var/log/impstats/dyn_stats_inc_error.log' \\\n  rsyslog_global_action_reportSuspension='on' \\\n  rsyslog_global_senders_keepTrack='on' \\\n  rsyslog_global_senders_timeoutAfter=86400 \\\n  rsyslog_global_senders_reportGoneAway='on'\n\n# Central queue tuned for higher throughput in a central syslog server:\n# - Up to 8 worker threads will be running if the queue gets filled halfway (i.e. 64K messages, 8K messages per worker).\n# - FixedArray sacrifices RAM (consumes more static memory) for slightly less CPU overhead.\nENV rsyslog_central_queue_type='FixedArray' \\\n  rsyslog_central_queue_size=100000 \\\n  rsyslog_central_queue_dequeueBatchSize=5000 \\\n  rsyslog_central_queue_minDequeueBatchSize=50 \\\n  rsyslog_central_queue_minDequeueBatchSize_timeout=100 \\\n  rsyslog_central_queue_workerThreads=4 \\\n  rsyslog_central_workerThreadMinimumMessages=20000\n# Note - see /etc/confd/60-ruleset.conf.tmpl:\n# - Instead of using the default main queue, a 'central' explicitly defined queue is used between inputs and outputs\n# - Each input is bound to it's own input ruleset (instead of the rsyslog main queue default)\n# - Each input ruleset applies generic or input specific filters\n# - Each input ruleset/queue is of type 'direct'\n# - Each input ruleset/queue calls the central ruleset\n# - The central ruleset acts as a central 'sink' to collate all inputs\n# - The central queue applies various parsing checks and data enrichments\n# - The central queue can apply a generic output filter before calling other output rulesets\n# - The central ruleset/queue is of type 'in-memory'\n# - Output specific rulesets, such as fwd_kafka, fwd_syslog, etc have 'disk-assisted' memory queues\n# - Output specific rulesets/queues are intended to persist data backlogs the most, and should perist when rsyslog is restarted\n# Note futher:\n# - The queue.workerThreadMinimumMessages setting defaults to queue.size/queue.workerthreads. This tweaks that to add more threads a little bit earlier, ideally before discard threadholds are reached.\n# - The 'fixed array' queue type for the central queue trades off extra memory usage for lower CPU overhead.\n#   (See: https://www.rsyslog.com/doc/v8-stable/configuration/global/options/rsconf1_mainmsgqueuesize.html)\n\n# Outputs (action output queues are persistant/disk assisted)\n# See 60-output_format.conf.tmpl\nENV rsyslog_output_filtering_enabled='on' \\\n  rsyslog_omfile_enabled='on' \\\n  rsyslog_omfile_split_files_per_host='off' \\\n  rsyslog_omfile_template='RSYSLOG_TraditionalFileFormat' \\\n  rsyslog_omfile_DirCreateMode='0755' \\\n  rsyslog_omfile_FileCreateMode='0640' \\\n  rsyslog_omkafka_enabled='off' \\\n  rsyslog_omkafka_broker='' \\\n  rsyslog_omkafka_confParam='' \\\n  rsyslog_omkafka_topic='syslog' \\\n  rsyslog_omkafka_dynaTopic='off' \\\n  rsyslog_omkafka_topicConfParam='' \\\n  rsyslog_omkafka_template='TmplJSON' \\\n  rsyslog_omfwd_syslog_enabled='off' \\\n  rsyslog_omfwd_syslog_host='' \\\n  rsyslog_omfwd_syslog_port=514 \\\n  rsyslog_omfwd_syslog_protocol='tcp' \\\n  rsyslog_omfwd_syslog_template='TmplRFC5424' \\\n  rsyslog_omudpspoof_syslog_enabled='off' \\\n  rsyslog_omudpspoof_syslog_host='' \\\n  rsyslog_omudpspoof_syslog_port=514 \\\n  rsyslog_omudpspoof_syslog_template='TmplRFC5424' \\\n  rsyslog_omfwd_json_enabled=off \\\n  rsyslog_omfwd_json_host='' \\\n  rsyslog_omfwd_json_port=5000 \\\n  rsyslog_omfwd_json_template='TmplJSON' \\\n  rsyslog_om_action_queue_type='LinkedList' \\\n  rsyslog_om_action_queue_maxDiskSpace=1073741824 \\\n  rsyslog_om_action_queue_size=100000 \\\n  rsyslog_om_action_queue_discardMark=95000 \\\n  rsyslog_om_action_queue_discardSeverity=7 \\\n  rsyslog_om_action_queue_checkpointInterval=10000 \\\n  rsyslog_om_action_queue_dequeueBatchSize=5000 \\\n  rsyslog_om_action_queue_minDequeueBatchSize=50 \\\n  rsyslog_om_action_queue_minDequeueBatchSize_timeout=100 \\\n  rsyslog_om_action_queue_workerThreads=4 \\\n  rsyslog_om_action_queue_workerThreadMinimumMessages=20000 \\\n  rsyslog_call_fwd_extra_rule='off'\n# Several globals are defined via rsyslog_global_* inlcuding reporting stats\n#\n# rsyslog_support_metadata_formats and the appropriate template choice must both be used to allow including validation checks on syslog headers, hostnames and tags for RFC3164. The metadata template choices are:\n# - TmplRFC5424\n# - TmplJSONRawMsg\n#\n# Brief notes for the pre-canned outputs (kafka, JSON, syslog):\n# - Each pre-canned output can have it's own template applied.\n# - Multiple outputs can be enabled at once.\n# - The rsyslog_om_action_queue_type should be either LinkedList or FixedArray.\n# - A disk-assisted (DA) queue is setup for the outputs (see: <https://www.rsyslog.com/doc/v8-stable/concepts/queues.html>).\n# - NB! The in-memory part is limited the the number of messaegs (rsyslog_om_action_queue_size) and the on-disk part is limited by the disk space usage limit (rsyslog_om_action_queue_maxDiskSpace).\n# - rsyslog_om_action_queue_* is set and shared for all output queues, so multiple enabled outputs multiplies the mem and storage resources needed to queue output!\n# - rsyslog_om_action_queue_size applies only to the in-memory part of each output queue. Assuming 512 bytes per message, a 100000 size limit implies ~50MB memory use (not counting for other rsyslog overhead).\n# - E.g. With 3x enabled outputs, 3x 50MB approx usage per queue, then ~150MB overall could be used, again, not accounting for any other overhead.\n# - Memory issues can still result. E.g. Assuming worst case, something loops and floods the queue with junk and the full 64K message size limit, then even with just one output, 100000 x 64K = 6GB+ RAM! Set rsyslog_global_maxMessageSize to a smaller value to mitigate this.\n# - rsyslog_om_action_queue_maxDiskSpace=1073741824 ~ 1G max storage space used, but you likely want more?\n# - E.g. again, if 3x enabled outputs, 3x 1G storage use limit per output, then 3G overall storage space is needed.\n# - NB! Some rsyslog queue parameters are left as deafult or have modified defaults, but are not exposed as env vars and hopefully make sense for DA output queues.\n#   - RSyslog's default for highWatermark is 90% vs 80% for discardMark, so discarding happens by default before using disk if discardSeverity is set.\n#   - RSyslog's default for lightDelayMark is 70% vs 90% for highWatermark, so it could push upstream inputs like TCP to stop sending with \"backpressure\" before begining to make use of disk-assited storage. Hence this container's default is to rather disable it and let disk-assited queing do the work.\n# - rsyslog_om_action_queue_discardMark is ideally 95% of queue.size, as rsyslog's high watermark for using disk in DA queues is 90% and you would likely not want messaegs discarded before at least attepmting to use disk.\n# - rsyslog_om_action_queue_discardSeverity=7 implies debug messages get discarded.\n# - While arithmentic could be used to default rsyslog_om_action_queue_discardMark = 0.95 * rsyslog_om_action_queue_size, unfortunatly confd's arithmetic golang text template functions don't handle dynamic type conversion. See: <https://github.com/kelseyhightower/confd/issues/611>.\n#\n# Additonal output config will probably be highly varied, so instead of trying to template/pre-can it, we allow for that config to be red in\n# As above, extra optional volumes with config that can be supplied at runtime\n# - /etc/rsyslog.d/input/filters\n# - /etc/rsyslog.d/output/filters\n# - /etc/rsyslog.d/extra\n#\n# rsyslog_call_fwd_extra_rule makes the config expect input the user to add a ruleset named fwd_extra somewhere in /etc/rsyslog.d/extra/*.conf\n\n# Built-in log rotation for /var/log/remote and /var/log/impstats\n# - This process could be managed externally by a host more aware of volume sizes and Constraints.\n# - If managed externally, the HUP signal needs to be sent to the container and the entrypoint script will handle passing it onto rsyslogd.\nENV logrotate_enabled='on' \\\n  logrotate_remote_period='daily' \\\n  logrotate_remote_files='42' \\\n  logrotate_impstats_period='daily' \\\n  logrotate_impstats_files='42'\n\n# Volumes required\nVOLUME /var/log/remote \\\n  /var/log/impstats \\\n  /var/lib/rsyslog \\\n  /etc/pki/rsyslog\n\n# Ports to expose\n# Note: UDP=514, TCP=514, TCP=601, TCP Secure=6514, RELP=2514, RELP Secure=7514, RELP Secure with strong client auth=8514\nEXPOSE 514/udp 514/tcp 601/tcp 6514/tcp 2514/tcp 7514/tcp 8514/tcp\n\n#TODO: also, decide if we will accept the signal to reload config without restarting the container\n\nCOPY usr/local/bin/entrypoint.sh \\\n  usr/local/bin/rsyslog_healthcheck.sh \\\n  usr/local/bin/rsyslog_config_expand.py \\\n  /usr/local/bin/\nRUN chmod 0755 usr/local/bin/entrypoint.sh \\\n  /usr/local/bin/rsyslog_healthcheck.sh \\\n  /usr/local/bin/rsyslog_config_expand.py\n\nENTRYPOINT [\"/usr/local/bin/entrypoint.sh\"]\n\nHEALTHCHECK CMD /usr/local/bin/rsyslog_healthcheck.sh\n\n# Add build-date at the end to avoid invalidating the docker build cache\nARG BUILD_DATE\nLABEL org.label-schema.build-date=\"${BUILD_DATE}\"\n"},"endTime":1672008071450}