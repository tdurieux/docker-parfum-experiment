{"repository":"https://github.com/celer-network/sgn","dockerfilePath":"Dockerfile","startTime":1672841543486,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/celer-network/sgn'...\n","error":null,"commit":"8fbaf831d797437ba99f39b8337cc60e31abe37d"},"originalBuild":{"startTimestamp":1672841544581,"endTimestamp":1672841692841,"error":null,"stdout":"Sending build context to Docker daemon  2.349MB\r\r\nStep 1/15 : FROM golang:1.14-alpine as builder\n1.14-alpine: Pulling from library/golang\n4c0d98bf9879: Pulling fs layer\n9e181322f1e7: Pulling fs layer\n6422294da7d3: Pulling fs layer\neb57f1833670: Pulling fs layer\nbd57f1a80d4e: Pulling fs layer\nbd57f1a80d4e: Waiting\neb57f1833670: Waiting\n6422294da7d3: Verifying Checksum\n6422294da7d3: Download complete\n9e181322f1e7: Verifying Checksum\n9e181322f1e7: Download complete\n4c0d98bf9879: Verifying Checksum\n4c0d98bf9879: Download complete\n4c0d98bf9879: Pull complete\nbd57f1a80d4e: Verifying Checksum\nbd57f1a80d4e: Download complete\n9e181322f1e7: Pull complete\n6422294da7d3: Pull complete\neb57f1833670: Verifying Checksum\neb57f1833670: Download complete\neb57f1833670: Pull complete\nbd57f1a80d4e: Pull complete\nDigest: sha256:e196a762bd349b188d66c539354fc23f0e5a0178c214e6dfe4d7894c3c2753f1\nStatus: Downloaded newer image for golang:1.14-alpine\n ---> 32dc91e030ac\nStep 2/15 : RUN apk add --no-cache g++ musl-dev linux-headers leveldb-dev\n ---> Running in e1f45c5edf4c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/19) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/19) Installing libgcc (10.2.1_pre1-r3)\n(3/19) Installing libstdc++ (10.2.1_pre1-r3)\n(4/19) Installing binutils (2.35.2-r1)\n(5/19) Installing libgomp (10.2.1_pre1-r3)\n(6/19) Installing libatomic (10.2.1_pre1-r3)\n(7/19) Installing libgphobos (10.2.1_pre1-r3)\n(8/19) Installing gmp (6.2.1-r1)\n(9/19) Installing isl22 (0.22-r0)\n(10/19) Installing mpfr4 (4.1.0-r0)\n(11/19) Installing mpc1 (1.2.0-r0)\n(12/19) Installing gcc (10.2.1_pre1-r3)\n(13/19) Installing musl-dev (1.2.2-r1)\n(14/19) Installing libc-dev (0.7.2-r3)\n(15/19) Installing g++ (10.2.1_pre1-r3)\n(16/19) Installing snappy (1.1.8-r2)\n(17/19) Installing leveldb (1.22-r1)\n(18/19) Installing leveldb-dev (1.22-r1)\n(19/19) Installing linux-headers (5.7.8-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 196 MiB in 33 packages\nRemoving intermediate container e1f45c5edf4c\n ---> 877b0be230d0\nStep 3/15 : WORKDIR /sgn\n ---> Running in 61d28dd75460\nRemoving intermediate container 61d28dd75460\n ---> 300efb5b84f3\nStep 4/15 : ADD go.mod go.sum /sgn/\n ---> 9a91af01f41d\nStep 5/15 : RUN go mod download\n ---> Running in 3d5a9112eaa2\nRemoving intermediate container 3d5a9112eaa2\n ---> afa1c7871125\nStep 6/15 : ADD . /sgn\n ---> f34c0bbfc92e\nStep 7/15 : RUN go build -tags \"cleveldb\" -o /sgn/bin/sgnd ./cmd/sgnd\n ---> Running in 0b39b1d81a5b\nRemoving intermediate container 0b39b1d81a5b\n ---> f1d067e45774\nStep 8/15 : FROM alpine:latest\n ---> 49176f190c7e\nStep 9/15 : RUN apk add leveldb\n ---> Running in 50a2af8b94f9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing libgcc (12.2.1_git20220924-r4)\n(2/4) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/4) Installing snappy (1.1.9-r4)\n(4/4) Installing leveldb (1.23-r0)\nOK: 10 MiB in 19 packages\nRemoving intermediate container 50a2af8b94f9\n ---> 571b681eb505\nStep 10/15 : VOLUME /sgn/env\n ---> Running in da041bd46878\nRemoving intermediate container da041bd46878\n ---> 0db484347341\nStep 11/15 : WORKDIR /sgn/env\n ---> Running in b989de6edd54\nRemoving intermediate container b989de6edd54\n ---> 1939e57dca63\nStep 12/15 : EXPOSE 26656 26657\n ---> Running in b66649f7aedc\nRemoving intermediate container b66649f7aedc\n ---> 145fdf45f283\nStep 13/15 : COPY --from=builder /sgn/bin/sgnd /usr/local/bin\n ---> f546d7973615\nStep 14/15 : CMD [\"/bin/sh\", \"-c\", \"sgnd start --cli-home /sgn/env/sgncli --home /sgn/env/sgnd --config /sgn/env/sgncli/config/sgn.toml 2>&1 | tee /sgn/env/sgnd/sgnd.log\"]\n ---> Running in e0dbbeb6717c\nRemoving intermediate container e0dbbeb6717c\n ---> 1f8c466ee74e\nStep 15/15 : STOPSIGNAL SIGTERM\n ---> Running in 4235c64ba367\nRemoving intermediate container 4235c64ba367\n ---> a65e671f5990\nSuccessfully built a65e671f5990\nSuccessfully tagged sgn:latest\n","stderr":"","imageSize":64570761},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"FROM golang:1.14-alpine as builder\n\nRUN apk add --no-cache g++ musl-dev linux-headers leveldb-dev\n\nWORKDIR /sgn\nADD go.mod go.sum /sgn/\nRUN go mod download\n\nADD . /sgn\nRUN go build -tags \"cleveldb\" -o /sgn/bin/sgnd ./cmd/sgnd\n\nFROM alpine:latest\nRUN apk add --no-cache leveldb\nVOLUME /sgn/env\nWORKDIR /sgn/env\nEXPOSE 26656 26657\nCOPY --from=builder /sgn/bin/sgnd /usr/local/bin\nCMD [\"/bin/sh\", \"-c\", \"sgnd start --cli-home /sgn/env/sgncli --home /sgn/env/sgnd --config /sgn/env/sgncli/config/sgn.toml 2>&1 | tee /sgn/env/sgnd/sgnd.log\"]\nSTOPSIGNAL SIGTERM"},"repairedBuild":{"startTimestamp":1672841693126,"endTimestamp":1672841843459,"error":null,"stdout":"Sending build context to Docker daemon  2.349MB\r\r\nStep 1/15 : FROM golang:1.14-alpine as builder\n ---> 32dc91e030ac\nStep 2/15 : RUN apk add --no-cache g++ musl-dev linux-headers leveldb-dev\n ---> Running in b59169b1f6cf\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/19) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/19) Installing libgcc (10.2.1_pre1-r3)\n(3/19) Installing libstdc++ (10.2.1_pre1-r3)\n(4/19) Installing binutils (2.35.2-r1)\n(5/19) Installing libgomp (10.2.1_pre1-r3)\n(6/19) Installing libatomic (10.2.1_pre1-r3)\n(7/19) Installing libgphobos (10.2.1_pre1-r3)\n(8/19) Installing gmp (6.2.1-r1)\n(9/19) Installing isl22 (0.22-r0)\n(10/19) Installing mpfr4 (4.1.0-r0)\n(11/19) Installing mpc1 (1.2.0-r0)\n(12/19) Installing gcc (10.2.1_pre1-r3)\n(13/19) Installing musl-dev (1.2.2-r1)\n(14/19) Installing libc-dev (0.7.2-r3)\n(15/19) Installing g++ (10.2.1_pre1-r3)\n(16/19) Installing snappy (1.1.8-r2)\n(17/19) Installing leveldb (1.22-r1)\n(18/19) Installing leveldb-dev (1.22-r1)\n(19/19) Installing linux-headers (5.7.8-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 196 MiB in 33 packages\nRemoving intermediate container b59169b1f6cf\n ---> 821287a9c0fa\nStep 3/15 : WORKDIR /sgn\n ---> Running in 36637238d702\nRemoving intermediate container 36637238d702\n ---> 2c2cb9e09a48\nStep 4/15 : ADD go.mod go.sum /sgn/\n ---> 2c51749f33bd\nStep 5/15 : RUN go mod download\n ---> Running in 50cb50ee7f5d\nRemoving intermediate container 50cb50ee7f5d\n ---> c1e1562dae9f\nStep 6/15 : ADD . /sgn\n ---> 6c38f380ef90\nStep 7/15 : RUN go build -tags \"cleveldb\" -o /sgn/bin/sgnd ./cmd/sgnd\n ---> Running in e43b18007ecc\nRemoving intermediate container e43b18007ecc\n ---> 3a8a6b2609e9\nStep 8/15 : FROM alpine:latest\n ---> 49176f190c7e\nStep 9/15 : RUN apk add --no-cache leveldb\n ---> Running in 060d0c42e9b6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing libgcc (12.2.1_git20220924-r4)\n(2/4) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/4) Installing snappy (1.1.9-r4)\n(4/4) Installing leveldb (1.23-r0)\nOK: 10 MiB in 19 packages\nRemoving intermediate container 060d0c42e9b6\n ---> dad83cab521e\nStep 10/15 : VOLUME /sgn/env\n ---> Running in 2f57e1fa69cc\nRemoving intermediate container 2f57e1fa69cc\n ---> f213a40be3b9\nStep 11/15 : WORKDIR /sgn/env\n ---> Running in 14e6cbf3a05a\nRemoving intermediate container 14e6cbf3a05a\n ---> ff5af871ff90\nStep 12/15 : EXPOSE 26656 26657\n ---> Running in cd851ac73a9e\nRemoving intermediate container cd851ac73a9e\n ---> b3145f73f56b\nStep 13/15 : COPY --from=builder /sgn/bin/sgnd /usr/local/bin\n ---> 35fa1eeb31c8\nStep 14/15 : CMD [\"/bin/sh\", \"-c\", \"sgnd start --cli-home /sgn/env/sgncli --home /sgn/env/sgnd --config /sgn/env/sgncli/config/sgn.toml 2>&1 | tee /sgn/env/sgnd/sgnd.log\"]\n ---> Running in bd0bbe9909dc\nRemoving intermediate container bd0bbe9909dc\n ---> 3774759f5f2c\nStep 15/15 : STOPSIGNAL SIGTERM\n ---> Running in 0bd5372edc68\nRemoving intermediate container 0bd5372edc68\n ---> 359fdcea9bc3\nSuccessfully built 359fdcea9bc3\nSuccessfully tagged sgn:latest\n","stderr":"","imageSize":61987721},"endTime":1672841843719}