{"repository":"https://github.com/mgr9525/gokins","dockerfilePath":"Dockerfile","startTime":1672500598246,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mgr9525/gokins'...\n","error":null,"commit":"2c7d3d438e0843454bd49cb2bad3f9d7009477e2"},"originalBuild":{"startTimestamp":1672500599478,"endTimestamp":1672500721344,"error":null,"stdout":"Sending build context to Docker daemon  6.785MB\r\r\nStep 1/10 : FROM golang:1.16.6-alpine3.14 AS builder\n1.16.6-alpine3.14: Pulling from library/golang\n5843afab3874: Pulling fs layer\n3d8dd7cab735: Pulling fs layer\n4cac70760d29: Pulling fs layer\n1edffed539bd: Pulling fs layer\na4005d2dc874: Pulling fs layer\n1edffed539bd: Waiting\n5843afab3874: Verifying Checksum\n5843afab3874: Download complete\n4cac70760d29: Verifying Checksum\n4cac70760d29: Download complete\n3d8dd7cab735: Verifying Checksum\n3d8dd7cab735: Download complete\n5843afab3874: Pull complete\na4005d2dc874: Verifying Checksum\na4005d2dc874: Download complete\n3d8dd7cab735: Pull complete\n4cac70760d29: Pull complete\n1edffed539bd: Verifying Checksum\n1edffed539bd: Download complete\n1edffed539bd: Pull complete\na4005d2dc874: Pull complete\nDigest: sha256:bc2db47c5f4a682f1315e0d484811d65bf094d3bcd824459b170714c91656190\nStatus: Downloaded newer image for golang:1.16.6-alpine3.14\n ---> 7762f5dece68\nStep 2/10 : RUN apk add git build-base && git clone https://github.com/gokins/gokins.git /build\n ---> Running in b3782aa20bf1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libgcc (10.3.1_git20210424-r2)\n(2/26) Installing libstdc++ (10.3.1_git20210424-r2)\n(3/26) Installing binutils (2.35.2-r2)\n(4/26) Installing libmagic (5.40-r1)\n(5/26) Installing file (5.40-r1)\n(6/26) Installing libgomp (10.3.1_git20210424-r2)\n(7/26) Installing libatomic (10.3.1_git20210424-r2)\n(8/26) Installing libgphobos (10.3.1_git20210424-r2)\n(9/26) Installing gmp (6.2.1-r1)\n(10/26) Installing isl22 (0.22-r0)\n(11/26) Installing mpfr4 (4.1.0-r0)\n(12/26) Installing mpc1 (1.2.1-r0)\n(13/26) Installing gcc (10.3.1_git20210424-r2)\n(14/26) Installing musl-dev (1.2.2-r3)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (10.3.1_git20210424-r2)\n(17/26) Installing make (4.3-r0)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r7)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r5)\n(22/26) Installing nghttp2-libs (1.43.0-r0)\n(23/26) Installing libcurl (7.79.1-r4)\n(24/26) Installing expat (2.5.0-r0)\n(25/26) Installing pcre2 (10.36-r1)\n(26/26) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r2.trigger\nOK: 209 MiB in 41 packages\n\u001b[91mCloning into '/build'...\n\u001b[0mRemoving intermediate container b3782aa20bf1\n ---> 57cbf3e7625b\nStep 3/10 : WORKDIR /build\n ---> Running in 9306b8e4d04e\nRemoving intermediate container 9306b8e4d04e\n ---> b93811865669\nStep 4/10 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/gokins main.go\n ---> Running in 3bde8edd382b\n\u001b[91mgo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\ngo: downloading github.com/gokins/core v0.0.0-20220802013657-abe943553934\ngo: downloading github.com/mgr9525/HyperByte-Transfer-Protocol v1.1.6-0.20221010061341-5cadd93a6fab\n\u001b[0m\u001b[91mgo: downloading xorm.io/xorm v1.1.0\ngo: downloading github.com/boltdb/bolt v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.5.0\n\u001b[0m\u001b[91mgo: downloading xorm.io/builder v0.3.8\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/go-git/v5 v5.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/gokins/runner v0.0.0-20221111090316-616dbb5448bc\n\u001b[0m\u001b[91mgo: downloading github.com/golang-migrate/migrate/v4 v4.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/units v0.0.0-20210208195552-ff826a37aa15\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211216021012-1d35b9e2eb4e\n\u001b[0m\u001b[91mgo: downloading github.com/mgr9525/logrus-file-hook v0.0.0-20210315103109-42681d084c3b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20211215153901-e495a2d5b3d3\ngo: downloading github.com/pkg/sftp v1.13.5\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/kr/fs v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99\n\u001b[0m\u001b[91mgo: downloading github.com/ProtonMail/go-crypto v0.0.0-20210428141323-04723f9f07d7\ngo: downloading github.com/sergi/go-diff v1.1.0\ngo: downloading github.com/emirpasic/gods v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/go-billy/v5 v5.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.12\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211112202133-69e39bad7dc2\ngo: downloading github.com/xanzy/ssh-agent v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/kevinburke/ssh_config v0.0.0-20201106050909-4977a11b4351\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/gcfg v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.8.0\ngo: downloading github.com/hashicorp/go-multierror v1.1.0\ngo: downloading github.com/mattn/go-sqlite3 v1.14.6\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/warnings.v0 v0.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.13.0\n\u001b[0mRemoving intermediate container 3bde8edd382b\n ---> 26dd2fbb66b3\nStep 5/10 : FROM alpine:latest AS final\n ---> 49176f190c7e\nStep 6/10 : ENV GOKINS_WORKPATH=/data/gokins\n ---> Running in 670610a34d0b\nRemoving intermediate container 670610a34d0b\n ---> 5302a3ce6d49\nStep 7/10 : RUN apk --no-cache add openssl ca-certificates curl git wget     && rm -rf /var/cache/apk     && mkdir -p /app /data/gokins\n ---> Running in b666688a4865\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ca-certificates (20220614-r3)\n(2/12) Installing brotli-libs (1.0.9-r9)\n(3/12) Installing nghttp2-libs (1.51.0-r0)\n(4/12) Installing libcurl (7.87.0-r0)\n(5/12) Installing curl (7.87.0-r0)\n(6/12) Installing libexpat (2.5.0-r0)\n(7/12) Installing pcre2 (10.42-r0)\n(8/12) Installing git (2.38.2-r0)\n(9/12) Installing openssl (3.0.7-r0)\n(10/12) Installing libunistring (1.1-r0)\n(11/12) Installing libidn2 (2.3.4-r0)\n(12/12) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 19 MiB in 27 packages\nRemoving intermediate container b666688a4865\n ---> ce6381b634d7\nStep 8/10 : COPY --from=builder /build/bin/gokins /app\n ---> cff4ed4cd631\nStep 9/10 : WORKDIR /app\n ---> Running in ff76abd0e15f\nRemoving intermediate container ff76abd0e15f\n ---> 1815fef0ae82\nStep 10/10 : ENTRYPOINT [\"/app/gokins\"]\n ---> Running in 46878cd53874\nRemoving intermediate container 46878cd53874\n ---> cc8ce20667a5\nSuccessfully built cc8ce20667a5\nSuccessfully tagged gokins:latest\n","stderr":"","imageSize":49073827},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM golang:1.16.6-alpine3.14 AS builder\n# ENV GOPROXY=https://goproxy.cn,direct\n# RUN apk add git build-base && git clone https://gitee.com/gokins/gokins.git /build\nRUN apk add --no-cache git build-base && git clone https://github.com/gokins/gokins.git /build\nWORKDIR /build\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/gokins main.go\n\n\nFROM alpine:latest AS final\n\nENV GOKINS_WORKPATH=/data/gokins\n\nRUN apk --no-cache add openssl ca-certificates curl git wget \\\n    && rm -rf /var/cache/apk \\\n    && mkdir -p /app /data/gokins\n\nCOPY --from=builder /build/bin/gokins /app\nWORKDIR /app\nENTRYPOINT [\"/app/gokins\"]"},"repairedBuild":{"startTimestamp":1672500723476,"endTimestamp":1672500898168,"error":null,"stdout":"Sending build context to Docker daemon  6.785MB\r\r\nStep 1/10 : FROM golang:1.16.6-alpine3.14 AS builder\n ---> 7762f5dece68\nStep 2/10 : RUN apk add --no-cache git build-base && git clone https://github.com/gokins/gokins.git /build\n ---> Running in f43ead4252b3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libgcc (10.3.1_git20210424-r2)\n(2/26) Installing libstdc++ (10.3.1_git20210424-r2)\n(3/26) Installing binutils (2.35.2-r2)\n(4/26) Installing libmagic (5.40-r1)\n(5/26) Installing file (5.40-r1)\n(6/26) Installing libgomp (10.3.1_git20210424-r2)\n(7/26) Installing libatomic (10.3.1_git20210424-r2)\n(8/26) Installing libgphobos (10.3.1_git20210424-r2)\n(9/26) Installing gmp (6.2.1-r1)\n(10/26) Installing isl22 (0.22-r0)\n(11/26) Installing mpfr4 (4.1.0-r0)\n(12/26) Installing mpc1 (1.2.1-r0)\n(13/26) Installing gcc (10.3.1_git20210424-r2)\n(14/26) Installing musl-dev (1.2.2-r3)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (10.3.1_git20210424-r2)\n(17/26) Installing make (4.3-r0)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r7)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r5)\n(22/26) Installing nghttp2-libs (1.43.0-r0)\n(23/26) Installing libcurl (7.79.1-r4)\n(24/26) Installing expat (2.5.0-r0)\n(25/26) Installing pcre2 (10.36-r1)\n(26/26) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r2.trigger\nOK: 209 MiB in 41 packages\n\u001b[91mCloning into '/build'...\n\u001b[0mRemoving intermediate container f43ead4252b3\n ---> 4b5399770043\nStep 3/10 : WORKDIR /build\n ---> Running in 985bba313f75\nRemoving intermediate container 985bba313f75\n ---> 2274f6329271\nStep 4/10 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/gokins main.go\n ---> Running in 73c013d5a49f\n\u001b[91mgo: downloading github.com/mgr9525/HyperByte-Transfer-Protocol v1.1.6-0.20221010061341-5cadd93a6fab\ngo: downloading github.com/gokins/core v0.0.0-20220802013657-abe943553934\ngo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.5.0\n\u001b[0m\u001b[91mgo: downloading xorm.io/xorm v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\n\u001b[0m\u001b[91mgo: downloading github.com/boltdb/bolt v1.3.1\n\u001b[0m\u001b[91mgo: downloading xorm.io/builder v0.3.8\n\u001b[0m\u001b[91mgo: downloading github.com/golang-migrate/migrate/v4 v4.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\ngo: downloading github.com/go-git/go-git/v5 v5.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/gokins/runner v0.0.0-20221111090316-616dbb5448bc\n\u001b[0m\u001b[91mgo: downloading github.com/mgr9525/logrus-file-hook v0.0.0-20210315103109-42681d084c3b\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\ngo: downloading github.com/alecthomas/units v0.0.0-20210208195552-ff826a37aa15\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211216021012-1d35b9e2eb4e\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20211215153901-e495a2d5b3d3\ngo: downloading github.com/pkg/sftp v1.13.5\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\ngo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.3\ngo: downloading github.com/ugorji/go v1.1.7\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.8.0\ngo: downloading github.com/mattn/go-sqlite3 v1.14.6\ngo: downloading github.com/hashicorp/go-multierror v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/kr/fs v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.17.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/go-billy/v5 v5.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/ProtonMail/go-crypto v0.0.0-20210428141323-04723f9f07d7\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.12\ngo: downloading github.com/sergi/go-diff v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/emirpasic/gods v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/xanzy/ssh-agent v0.3.0\ngo: downloading golang.org/x/net v0.0.0-20211112202133-69e39bad7dc2\n\u001b[0m\u001b[91mgo: downloading github.com/kevinburke/ssh_config v0.0.0-20201106050909-4977a11b4351\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/gcfg v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.13.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/warnings.v0 v0.1.2\n\u001b[0mRemoving intermediate container 73c013d5a49f\n ---> 702d9da35390\nStep 5/10 : FROM alpine:latest AS final\n ---> 49176f190c7e\nStep 6/10 : ENV GOKINS_WORKPATH=/data/gokins\n ---> Running in 45986372124b\nRemoving intermediate container 45986372124b\n ---> a7d3bb67aa07\nStep 7/10 : RUN apk --no-cache add openssl ca-certificates curl git wget     && rm -rf /var/cache/apk     && mkdir -p /app /data/gokins\n ---> Running in 1b0fe8b1a5ca\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ca-certificates (20220614-r3)\n(2/12) Installing brotli-libs (1.0.9-r9)\n(3/12) Installing nghttp2-libs (1.51.0-r0)\n(4/12) Installing libcurl (7.87.0-r0)\n(5/12) Installing curl (7.87.0-r0)\n(6/12) Installing libexpat (2.5.0-r0)\n(7/12) Installing pcre2 (10.42-r0)\n(8/12) Installing git (2.38.2-r0)\n(9/12) Installing openssl (3.0.7-r0)\n(10/12) Installing libunistring (1.1-r0)\n(11/12) Installing libidn2 (2.3.4-r0)\n(12/12) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 19 MiB in 27 packages\nRemoving intermediate container 1b0fe8b1a5ca\n ---> 9582fab02e66\nStep 8/10 : COPY --from=builder /build/bin/gokins /app\n ---> eaf1c794bd37\nStep 9/10 : WORKDIR /app\n ---> Running in 46b887f4525f\nRemoving intermediate container 46b887f4525f\n ---> 017dca542a8a\nStep 10/10 : ENTRYPOINT [\"/app/gokins\"]\n ---> Running in 158266311d67\nRemoving intermediate container 158266311d67\n ---> f160fa0e265f\nSuccessfully built f160fa0e265f\nSuccessfully tagged gokins:latest\n","stderr":"","imageSize":49073827},"endTime":1672500925149}