{"repository":"https://github.com/seejohnrun/haste-server","dockerfilePath":"Dockerfile","startTime":1672599739776,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/seejohnrun/haste-server'...\n","error":null,"commit":"4550e4593cc0e85c5fafafebfb7de548d47f7036"},"originalBuild":{"startTimestamp":1672599740694,"endTimestamp":1672599814138,"error":null,"stdout":"Sending build context to Docker daemon  304.6kB\r\r\nStep 1/17 : FROM node:16-stretch\n16-stretch: Pulling from library/node\n8372a04f222b: Pulling fs layer\na1728fee80d3: Pulling fs layer\ne6cf50aa0a4b: Pulling fs layer\nf576518faec8: Pulling fs layer\nc64b5c196fad: Pulling fs layer\n440e02ff4d62: Pulling fs layer\n5b23516c4f30: Pulling fs layer\n175a5ab578cc: Pulling fs layer\n2cf70e0f2984: Pulling fs layer\nf576518faec8: Waiting\nc64b5c196fad: Waiting\n440e02ff4d62: Waiting\n2cf70e0f2984: Waiting\n175a5ab578cc: Waiting\ne6cf50aa0a4b: Verifying Checksum\ne6cf50aa0a4b: Download complete\na1728fee80d3: Verifying Checksum\na1728fee80d3: Download complete\n8372a04f222b: Verifying Checksum\n8372a04f222b: Download complete\n440e02ff4d62: Download complete\nf576518faec8: Verifying Checksum\nf576518faec8: Download complete\n175a5ab578cc: Verifying Checksum\n175a5ab578cc: Download complete\n8372a04f222b: Pull complete\n2cf70e0f2984: Verifying Checksum\n2cf70e0f2984: Download complete\n5b23516c4f30: Verifying Checksum\n5b23516c4f30: Download complete\na1728fee80d3: Pull complete\ne6cf50aa0a4b: Pull complete\nc64b5c196fad: Verifying Checksum\nc64b5c196fad: Download complete\nf576518faec8: Pull complete\nc64b5c196fad: Pull complete\n440e02ff4d62: Pull complete\n5b23516c4f30: Pull complete\n175a5ab578cc: Pull complete\n2cf70e0f2984: Pull complete\nDigest: sha256:5810de52349af302a2c5dddf0a3f31174ef65d0eed8985959a5e83bb1084b79b\nStatus: Downloaded newer image for node:16-stretch\n ---> 298c452ff7a9\nStep 2/17 : RUN mkdir -p /usr/src/app &&     chown node:node /usr/src/app\n ---> Running in 59b26d1e7704\nRemoving intermediate container 59b26d1e7704\n ---> 440e8cc125bf\nStep 3/17 : USER node:node\n ---> Running in 19c1b483f9f3\nRemoving intermediate container 19c1b483f9f3\n ---> 587b1a2eeef6\nStep 4/17 : WORKDIR /usr/src/app\n ---> Running in 2ac3b58e232b\nRemoving intermediate container 2ac3b58e232b\n ---> 43d04bfc117f\nStep 5/17 : COPY --chown=node:node . .\n ---> d26e1cb69524\nStep 6/17 : RUN npm install &&     npm install redis@0.8.1 &&     npm install pg@4.5.7 &&     npm install memcached@2.2.2 &&     npm install aws-sdk@2.814.0 &&     npm install rethinkdbdash@2.3.31\n ---> Running in d2ab15cd0f12\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN old lockfile The package-lock.json file was created with an old version of npm,\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m \nnpm WARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m This is a one-time fix-up, please be patient...\nnpm \u001b[0m\u001b[91mWARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated flat@4.1.0: Fixed a prototype pollution security issue in 4.1.0, please upgrade to ^4.1.1 or ^5.0.1.\n\u001b[0m\u001b[91mnpm WARN deprecated async-cache@1.1.0: No longer maintained. Use [lru-cache](http://npm.im/lru-cache) version 7.6 or higher, and provide an asynchronous `fetchMethod` option.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\nadded 203 packages, and audited 204 packages in 6s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\nchanged 1 package, and audited 204 packages in 656ms\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 3 packages, removed 2 packages, changed 10 packages, and audited 205 packages in 1s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 6 packages, and audited 211 packages in 3s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 12 packages, and audited 223 packages in 2s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 2 packages, and audited 225 packages in 2s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container d2ab15cd0f12\n ---> a139f084805a\nStep 7/17 : ENV STORAGE_TYPE=memcached     STORAGE_HOST=127.0.0.1     STORAGE_PORT=11211    STORAGE_EXPIRE_SECONDS=2592000    STORAGE_DB=2     STORAGE_AWS_BUCKET=     STORAGE_AWS_REGION=     STORAGE_USENAME=     STORAGE_PASSWORD=     STORAGE_FILEPATH=\n ---> Running in 443d57dd2695\nRemoving intermediate container 443d57dd2695\n ---> 4d0cc6dfd7bc\nStep 8/17 : ENV LOGGING_LEVEL=verbose     LOGGING_TYPE=Console     LOGGING_COLORIZE=true\n ---> Running in f650c07aee7c\nRemoving intermediate container f650c07aee7c\n ---> f46d4ac91736\nStep 9/17 : ENV HOST=0.0.0.0    PORT=7777    KEY_LENGTH=10    MAX_LENGTH=400000    STATIC_MAX_AGE=86400    RECOMPRESS_STATIC_ASSETS=true\n ---> Running in 080ed600f63d\nRemoving intermediate container 080ed600f63d\n ---> 8aa444e5bca5\nStep 10/17 : ENV KEYGENERATOR_TYPE=phonetic     KEYGENERATOR_KEYSPACE=\n ---> Running in af1b55356622\nRemoving intermediate container af1b55356622\n ---> 4f83db66b3f2\nStep 11/17 : ENV RATELIMITS_NORMAL_TOTAL_REQUESTS=500    RATELIMITS_NORMAL_EVERY_MILLISECONDS=60000     RATELIMITS_WHITELIST_TOTAL_REQUESTS=     RATELIMITS_WHITELIST_EVERY_MILLISECONDS=      RATELIMITS_WHITELIST=example1.whitelist,example2.whitelist         RATELIMITS_BLACKLIST_TOTAL_REQUESTS=     RATELIMITS_BLACKLIST_EVERY_MILLISECONDS=     RATELIMITS_BLACKLIST=example1.blacklist,example2.blacklist\n ---> Running in 94a9e347929b\nRemoving intermediate container 94a9e347929b\n ---> 41887bb5e352\nStep 12/17 : ENV DOCUMENTS=about=./about.md\n ---> Running in 8f3c0994ca14\nRemoving intermediate container 8f3c0994ca14\n ---> ddf589906cd5\nStep 13/17 : EXPOSE ${PORT}\n ---> Running in 9fd21ba3b0a4\nRemoving intermediate container 9fd21ba3b0a4\n ---> c064af7a5107\nStep 14/17 : STOPSIGNAL SIGINT\n ---> Running in 0f174ca11790\nRemoving intermediate container 0f174ca11790\n ---> 8605607ea5fe\nStep 15/17 : ENTRYPOINT [ \"bash\", \"docker-entrypoint.sh\" ]\n ---> Running in 756aa6e04e5d\nRemoving intermediate container 756aa6e04e5d\n ---> 18331e48c5f7\nStep 16/17 : HEALTHCHECK --interval=30s --timeout=30s --start-period=5s     --retries=3 CMD [ \"sh\", \"-c\", \"echo -n 'curl localhost:7777... ';     (        curl -sf localhost:7777 > /dev/null    ) && echo OK || (        echo Fail && exit 2    )\"]\n ---> Running in 9db3b1895bb0\nRemoving intermediate container 9db3b1895bb0\n ---> 3e9152df3ad2\nStep 17/17 : CMD [\"npm\", \"start\"]\n ---> Running in 5ad31f650d9e\nRemoving intermediate container 5ad31f650d9e\n ---> d7a52e02a45b\nSuccessfully built d7a52e02a45b\nSuccessfully tagged haste-server:latest\n","stderr":"","imageSize":1040440751},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":27}},{"name":"npmCacheCleanAfterInstall","position":{"start":13,"end":13,"columnStart":4,"columnEnd":24}},{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":4,"columnEnd":31}},{"name":"npmCacheCleanAfterInstall","position":{"start":15,"end":15,"columnStart":4,"columnEnd":31}},{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":4,"columnEnd":36}},{"name":"mkdirUsrSrcThenRemove","position":{"start":2,"end":2,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:16-stretch\n\nRUN mkdir -p /usr/src/app && \\\n    chown node:node /usr/src/app\n\nUSER node:node\n\nWORKDIR /usr/src/app\n\nCOPY --chown=node:node . .\n\nRUN npm install && \\\n    npm install redis@0.8.1 && \\\n    npm install pg@4.5.7 && \\\n    npm install memcached@2.2.2 && \\\n    npm install aws-sdk@2.814.0 && \\\n    npm install rethinkdbdash@2.3.31\n\nENV STORAGE_TYPE=memcached \\\n    STORAGE_HOST=127.0.0.1 \\\n    STORAGE_PORT=11211\\\n    STORAGE_EXPIRE_SECONDS=2592000\\\n    STORAGE_DB=2 \\\n    STORAGE_AWS_BUCKET= \\\n    STORAGE_AWS_REGION= \\\n    STORAGE_USENAME= \\\n    STORAGE_PASSWORD= \\\n    STORAGE_FILEPATH=\n\nENV LOGGING_LEVEL=verbose \\\n    LOGGING_TYPE=Console \\\n    LOGGING_COLORIZE=true\n\nENV HOST=0.0.0.0\\\n    PORT=7777\\\n    KEY_LENGTH=10\\\n    MAX_LENGTH=400000\\\n    STATIC_MAX_AGE=86400\\\n    RECOMPRESS_STATIC_ASSETS=true\n\nENV KEYGENERATOR_TYPE=phonetic \\\n    KEYGENERATOR_KEYSPACE=\n\nENV RATELIMITS_NORMAL_TOTAL_REQUESTS=500\\\n    RATELIMITS_NORMAL_EVERY_MILLISECONDS=60000 \\\n    RATELIMITS_WHITELIST_TOTAL_REQUESTS= \\\n    RATELIMITS_WHITELIST_EVERY_MILLISECONDS=  \\\n    # comma separated list for the whitelisted \\\n    RATELIMITS_WHITELIST=example1.whitelist,example2.whitelist \\\n    \\\n    RATELIMITS_BLACKLIST_TOTAL_REQUESTS= \\\n    RATELIMITS_BLACKLIST_EVERY_MILLISECONDS= \\\n    # comma separated list for the blacklisted \\\n    RATELIMITS_BLACKLIST=example1.blacklist,example2.blacklist\nENV DOCUMENTS=about=./about.md\n\nEXPOSE ${PORT}\nSTOPSIGNAL SIGINT\nENTRYPOINT [ \"bash\", \"docker-entrypoint.sh\" ]\n\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s \\\n    --retries=3 CMD [ \"sh\", \"-c\", \"echo -n 'curl localhost:7777... '; \\\n    (\\\n        curl -sf localhost:7777 > /dev/null\\\n    ) && echo OK || (\\\n        echo Fail && exit 2\\\n    )\"]\nCMD [\"npm\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672599814901,"endTimestamp":1672599853078,"error":null,"stdout":"Sending build context to Docker daemon  304.6kB\r\r\nStep 1/17 : FROM node:16-stretch\n ---> 298c452ff7a9\nStep 2/17 : RUN mkdir -p /usr/src/app &&     chown node:node /usr/src/app\n ---> Running in d6849997a869\nRemoving intermediate container d6849997a869\n ---> 3112e44c5079\nStep 3/17 : USER node:node\n ---> Running in c7d8cd290ba0\nRemoving intermediate container c7d8cd290ba0\n ---> 5340f1f11f9f\nStep 4/17 : WORKDIR /usr/src/app\n ---> Running in 43170ca640ee\nRemoving intermediate container 43170ca640ee\n ---> 5616f1bf15a0\nStep 5/17 : COPY --chown=node:node . .\n ---> c1cd4d28fa1e\nStep 6/17 : RUN npm install &&     npm install redis@0.8.1 &&     npm install pg@4.5.7 &&     npm install memcached@2.2.2 &&     npm install aws-sdk@2.814.0 &&     npm install rethinkdbdash@2.3.31\n ---> Running in 26fa9337dc06\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m The package-lock.json file was created with an old version of npm,\nnpm \u001b[0m\u001b[91mWARN old lockfile so supplemental metadata must be fetched from the registry.\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m old lockfile \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\n\u001b[0m\u001b[91mnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated flat@4.1.0: Fixed a prototype pollution security issue in 4.1.0, please upgrade to ^4.1.1 or ^5.0.1.\n\u001b[0m\u001b[91mnpm WARN deprecated async-cache@1.1.0: No longer maintained. Use [lru-cache](http://npm.im/lru-cache) version 7.6 or higher, and provide an asynchronous `fetchMethod` option.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\nadded 203 packages, and audited 204 packages in 5s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\nchanged 1 package, and audited 204 packages in 587ms\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 3 packages, removed 2 packages, changed 10 packages, and audited 205 packages in 752ms\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 6 packages, and audited 211 packages in 1s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 12 packages, and audited 223 packages in 2s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 2 packages, and audited 225 packages in 1s\n\n31 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 26fa9337dc06\n ---> 7d0647bd66f5\nStep 7/17 : ENV STORAGE_TYPE=memcached     STORAGE_HOST=127.0.0.1     STORAGE_PORT=11211    STORAGE_EXPIRE_SECONDS=2592000    STORAGE_DB=2     STORAGE_AWS_BUCKET=     STORAGE_AWS_REGION=     STORAGE_USENAME=     STORAGE_PASSWORD=     STORAGE_FILEPATH=\n ---> Running in 42806633c77c\nRemoving intermediate container 42806633c77c\n ---> a512b0163d2c\nStep 8/17 : ENV LOGGING_LEVEL=verbose     LOGGING_TYPE=Console     LOGGING_COLORIZE=true\n ---> Running in 179becb6e7ad\nRemoving intermediate container 179becb6e7ad\n ---> f7ee2e8a19d7\nStep 9/17 : ENV HOST=0.0.0.0    PORT=7777    KEY_LENGTH=10    MAX_LENGTH=400000    STATIC_MAX_AGE=86400    RECOMPRESS_STATIC_ASSETS=true\n ---> Running in 4c249fa4056c\nRemoving intermediate container 4c249fa4056c\n ---> 70a032c6df14\nStep 10/17 : ENV KEYGENERATOR_TYPE=phonetic     KEYGENERATOR_KEYSPACE=\n ---> Running in 75a54330d18d\nRemoving intermediate container 75a54330d18d\n ---> 535b9841cc9a\nStep 11/17 : ENV RATELIMITS_NORMAL_TOTAL_REQUESTS=500    RATELIMITS_NORMAL_EVERY_MILLISECONDS=60000     RATELIMITS_WHITELIST_TOTAL_REQUESTS=     RATELIMITS_WHITELIST_EVERY_MILLISECONDS=      RATELIMITS_WHITELIST=example1.whitelist,example2.whitelist         RATELIMITS_BLACKLIST_TOTAL_REQUESTS=     RATELIMITS_BLACKLIST_EVERY_MILLISECONDS=     RATELIMITS_BLACKLIST=example1.blacklist,example2.blacklist\n ---> Running in 707c9209a948\nRemoving intermediate container 707c9209a948\n ---> 1edf43cd8cc1\nStep 12/17 : ENV DOCUMENTS=about=./about.md\n ---> Running in 243dc679e7ef\nRemoving intermediate container 243dc679e7ef\n ---> e4b6c9f43183\nStep 13/17 : EXPOSE ${PORT}\n ---> Running in 5d6264bc2225\nRemoving intermediate container 5d6264bc2225\n ---> c4dc622752b7\nStep 14/17 : STOPSIGNAL SIGINT\n ---> Running in 32cf29140174\nRemoving intermediate container 32cf29140174\n ---> 7f3b7ffdf277\nStep 15/17 : ENTRYPOINT [ \"bash\", \"docker-entrypoint.sh\" ]\n ---> Running in 63d721f47e26\nRemoving intermediate container 63d721f47e26\n ---> 014ee1d721d5\nStep 16/17 : HEALTHCHECK --interval=30s --timeout=30s --start-period=5s     --retries=3 CMD [ \"sh\", \"-c\", \"echo -n 'curl localhost:7777... ';     (        curl -sf localhost:7777 > /dev/null    ) && echo OK || (        echo Fail && exit 2    )\"]\n ---> Running in 15e6bdbc2ba1\nRemoving intermediate container 15e6bdbc2ba1\n ---> 9bb47805f42a\nStep 17/17 : CMD [\"npm\", \"start\"]\n ---> Running in d63f07b6ae4d\nRemoving intermediate container d63f07b6ae4d\n ---> a03d5585599b\nSuccessfully built a03d5585599b\nSuccessfully tagged haste-server:latest\n","stderr":"","imageSize":1040440728},"endTime":1672599853512}