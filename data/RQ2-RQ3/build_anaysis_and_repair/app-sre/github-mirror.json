{"repository":"https://github.com/app-sre/github-mirror","dockerfilePath":"Dockerfile","startTime":1672166663149,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/app-sre/github-mirror'...\n","error":null,"commit":"1a193fa9a63b77d82dcf4e590da1e2a3eef2d03a"},"originalBuild":{"startTimestamp":1672166664041,"endTimestamp":1672166704720,"error":null,"stdout":"Sending build context to Docker daemon  691.7kB\r\r\nStep 1/7 : FROM        registry.access.redhat.com/ubi8/python-39:1-83\n1-83: Pulling from ubi8/python-39\n6ac0dc04f22d: Pulling fs layer\n32241184e62d: Pulling fs layer\nd31099353a33: Pulling fs layer\n303c30aaf064: Pulling fs layer\n32241184e62d: Verifying Checksum\n32241184e62d: Download complete\n6ac0dc04f22d: Verifying Checksum\n6ac0dc04f22d: Download complete\nd31099353a33: Verifying Checksum\nd31099353a33: Download complete\n303c30aaf064: Verifying Checksum\n303c30aaf064: Download complete\n6ac0dc04f22d: Pull complete\n32241184e62d: Pull complete\nd31099353a33: Pull complete\n303c30aaf064: Pull complete\nDigest: sha256:3564c919e106154f492835e4e2d67b90bc4e7a2f609ff0b9c9175644e021ef31\nStatus: Downloaded newer image for registry.access.redhat.com/ubi8/python-39:1-83\n ---> b650d3a52c60\nStep 2/7 : WORKDIR     /ghmirror\n ---> Running in a5618cf87bca\nRemoving intermediate container a5618cf87bca\n ---> 0cfa6bad918b\nStep 3/7 : COPY        . ./\n ---> 67d7e8ce3745\nStep 4/7 : RUN         pip install .\n ---> Running in aa80e11098ec\nProcessing /ghmirror\n\u001b[91m  DEPRECATION: A future pip version will change local packages to be built in-place without first copying to a temporary directory. We recommend you use --use-feature=in-tree-build to test your packages with this new behavior before it becomes the default.\n   pip 21.3 will remove support for this functionality. You can find discussion regarding this at https://github.com/pypa/pip/issues/7555.\n\u001b[0mCollecting Flask~=1.1\n  Downloading Flask-1.1.4-py2.py3-none-any.whl (94 kB)\nCollecting requests~=2.22\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting prometheus_client~=0.7\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\nCollecting redis~=3.5\n  Downloading redis-3.5.3-py2.py3-none-any.whl (72 kB)\nCollecting MarkupSafe==2.0.1\n  Downloading MarkupSafe-2.0.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting click<8.0,>=5.1\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\nCollecting Jinja2<3.0,>=2.10.1\n  Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)\nCollecting itsdangerous<2.0,>=0.24\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting Werkzeug<2.0,>=0.15\n  Downloading Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nUsing legacy 'setup.py install' for ghmirror, since package 'wheel' is not installed.\nInstalling collected packages: MarkupSafe, Werkzeug, urllib3, Jinja2, itsdangerous, idna, click, charset-normalizer, certifi, requests, redis, prometheus-client, Flask, ghmirror\n    Running setup.py install for ghmirror: started\n    Running setup.py install for ghmirror: finished with status 'done'\nSuccessfully installed Flask-1.1.4 Jinja2-2.11.3 MarkupSafe-2.0.1 Werkzeug-1.0.1 certifi-2022.12.7 charset-normalizer-2.1.1 click-7.1.2 ghmirror-0.1.0 idna-3.4 itsdangerous-1.1.0 prometheus-client-0.15.0 redis-3.5.3 requests-2.28.1 urllib3-1.26.13\n\u001b[91mWARNING: You are using pip version 21.2.3; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container aa80e11098ec\n ---> 1dbca2e5937a\nStep 5/7 : RUN         pip install gunicorn\n ---> Running in 61a5c18c3183\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\nRequirement already satisfied: setuptools>=3.0 in /opt/app-root/lib/python3.9/site-packages (from gunicorn) (50.3.2)\nInstalling collected packages: gunicorn\nSuccessfully installed gunicorn-20.1.0\n\u001b[91mWARNING: You are using pip version 21.2.3; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 61a5c18c3183\n ---> d7a9d05aba35\nStep 6/7 : ENTRYPOINT  [\"gunicorn\", \"ghmirror.app:APP\"]\n ---> Running in d0a0d9260415\nRemoving intermediate container d0a0d9260415\n ---> 419a23076417\nStep 7/7 : CMD         [\"--workers\", \"1\", \"--threads\",  \"8\", \"--bind\", \"0.0.0.0:8080\"]\n ---> Running in 139ce50de2aa\nRemoving intermediate container 139ce50de2aa\n ---> 1b444e609713\nSuccessfully built 1b444e609713\nSuccessfully tagged github-mirror:latest\n","stderr":"","imageSize":867350872},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":6,"end":6,"columnStart":12,"columnEnd":25}},{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":12,"columnEnd":32}}],"repairedDockerfile":"FROM        registry.access.redhat.com/ubi8/python-39:1-83\n\nWORKDIR     /ghmirror\n\nCOPY        . ./\n\nRUN pip install --no-cache-dir .\nRUN pip install --no-cache-dir gunicorn\n\nENTRYPOINT  [\"gunicorn\", \"ghmirror.app:APP\"]\nCMD         [\"--workers\", \"1\", \"--threads\",  \"8\", \"--bind\", \"0.0.0.0:8080\"]\n"},"repairedBuild":{"startTimestamp":1672166705273,"endTimestamp":1672166720165,"error":null,"stdout":"Sending build context to Docker daemon  691.7kB\r\r\nStep 1/7 : FROM        registry.access.redhat.com/ubi8/python-39:1-83\n ---> b650d3a52c60\nStep 2/7 : WORKDIR     /ghmirror\n ---> Running in bb554282599f\nRemoving intermediate container bb554282599f\n ---> 1ec2346119b8\nStep 3/7 : COPY        . ./\n ---> 1387674e9cb0\nStep 4/7 : RUN pip install --no-cache-dir .\n ---> Running in 05ae9f653274\nProcessing /ghmirror\n\u001b[91m  DEPRECATION: A future pip version will change local packages to be built in-place without first copying to a temporary directory. We recommend you use --use-feature=in-tree-build to test your packages with this new behavior before it becomes the default.\n   pip 21.3 will remove support for this functionality. You can find discussion regarding this at https://github.com/pypa/pip/issues/7555.\n\u001b[0mCollecting Flask~=1.1\n  Downloading Flask-1.1.4-py2.py3-none-any.whl (94 kB)\nCollecting requests~=2.22\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting prometheus_client~=0.7\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\nCollecting redis~=3.5\n  Downloading redis-3.5.3-py2.py3-none-any.whl (72 kB)\nCollecting MarkupSafe==2.0.1\n  Downloading MarkupSafe-2.0.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting Jinja2<3.0,>=2.10.1\n  Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)\nCollecting itsdangerous<2.0,>=0.24\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting click<8.0,>=5.1\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\nCollecting Werkzeug<2.0,>=0.15\n  Downloading Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nUsing legacy 'setup.py install' for ghmirror, since package 'wheel' is not installed.\nInstalling collected packages: MarkupSafe, Werkzeug, urllib3, Jinja2, itsdangerous, idna, click, charset-normalizer, certifi, requests, redis, prometheus-client, Flask, ghmirror\n    Running setup.py install for ghmirror: started\n    Running setup.py install for ghmirror: finished with status 'done'\nSuccessfully installed Flask-1.1.4 Jinja2-2.11.3 MarkupSafe-2.0.1 Werkzeug-1.0.1 certifi-2022.12.7 charset-normalizer-2.1.1 click-7.1.2 ghmirror-0.1.0 idna-3.4 itsdangerous-1.1.0 prometheus-client-0.15.0 redis-3.5.3 requests-2.28.1 urllib3-1.26.13\n\u001b[91mWARNING: You are using pip version 21.2.3; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 05ae9f653274\n ---> 94be0ceccb25\nStep 5/7 : RUN pip install --no-cache-dir gunicorn\n ---> Running in 4aca2467e400\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\nRequirement already satisfied: setuptools>=3.0 in /opt/app-root/lib/python3.9/site-packages (from gunicorn) (50.3.2)\nInstalling collected packages: gunicorn\nSuccessfully installed gunicorn-20.1.0\n\u001b[91mWARNING: You are using pip version 21.2.3; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 4aca2467e400\n ---> 5b0ca8034b70\nStep 6/7 : ENTRYPOINT  [\"gunicorn\", \"ghmirror.app:APP\"]\n ---> Running in f64a8572d936\nRemoving intermediate container f64a8572d936\n ---> dbad7949f1b9\nStep 7/7 : CMD         [\"--workers\", \"1\", \"--threads\",  \"8\", \"--bind\", \"0.0.0.0:8080\"]\n ---> Running in db51baa80a77\nRemoving intermediate container db51baa80a77\n ---> d28a80477885\nSuccessfully built d28a80477885\nSuccessfully tagged github-mirror:latest\n","stderr":"","imageSize":867350886},"endTime":1672166721533}