{"repository":"https://github.com/popcodeorg/popcode","dockerfilePath":"Dockerfile","startTime":1672907952311,"endTime":1672908155271,"clone":{"startTime":1672907952311,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/popcodeorg/popcode'...\n","error":null,"endTime":1672907953218,"commit":"d47e948389ea7967f76b544502598712962e5c3f"},"originalBuild":{"startTime":1672907953365,"endTime":1672908071291,"error":null,"stdout":"Sending build context to Docker daemon  1.687MB\r\r\nStep 1/9 : FROM node:12.22.1-alpine\n12.22.1-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\n8a6a62f4b1f3: Pulling fs layer\n5c72c204eb22: Pulling fs layer\n33fce3bc6102: Pulling fs layer\n33fce3bc6102: Waiting\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\n5c72c204eb22: Verifying Checksum\n5c72c204eb22: Download complete\n8a6a62f4b1f3: Verifying Checksum\n8a6a62f4b1f3: Download complete\n33fce3bc6102: Verifying Checksum\n33fce3bc6102: Download complete\nddad3d7c1e96: Pull complete\n8a6a62f4b1f3: Pull complete\n5c72c204eb22: Pull complete\n33fce3bc6102: Pull complete\nDigest: sha256:93b71facf11d471ac035acfaf020ecc05297f6a401781cafceae1d0561704ba4\nStatus: Downloaded newer image for node:12.22.1-alpine\n ---> ba59ff60c386\nStep 2/9 : ENV YARN_VERSION 1.22.0\n ---> Running in 7a74dd0060d5\nRemoving intermediate container 7a74dd0060d5\n ---> 8122b813649a\nStep 3/9 : RUN apk add shadow bash     && usermod --shell /bin/bash root     && apk del shadow\n ---> Running in 961664ddfe48\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/6) Installing ncurses-libs (6.1_p20200118-r4)\n(3/6) Installing readline (8.0.1-r0)\n(4/6) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(5/6) Installing linux-pam (1.3.1-r1)\n(6/6) Installing shadow (4.7-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 12 MiB in 22 packages\n(1/2) Purging shadow (4.7-r1)\n(2/2) Purging linux-pam (1.3.1-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container 961664ddfe48\n ---> b95adad6931e\nStep 4/9 : RUN apk add curl     && curl -fsSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz\"     && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/     && ln -snf /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn     && ln -snf /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg     && rm yarn-v$YARN_VERSION.tar.gz     && apk del curl\n ---> Running in c500ff5eef12\n(1/4) Installing ca-certificates (20191127-r2)\n(2/4) Installing nghttp2-libs (1.40.0-r1)\n(3/4) Installing libcurl (7.79.1-r0)\n(4/4) Installing curl (7.79.1-r0)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 11 MiB in 24 packages\n(1/4) Purging curl (7.79.1-r0)\n(2/4) Purging libcurl (7.79.1-r0)\n(3/4) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(4/4) Purging nghttp2-libs (1.40.0-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container c500ff5eef12\n ---> 350deade428d\nStep 5/9 : RUN echo '{\"allow_root\": true}' > /root/.bowerrc\n ---> Running in d62389fb76ad\nRemoving intermediate container d62389fb76ad\n ---> 15796e04ae67\nStep 6/9 : WORKDIR /app\n ---> Running in 2fd77da83c99\nRemoving intermediate container 2fd77da83c99\n ---> eff7a73fb749\nStep 7/9 : COPY package.json yarn.lock bower.json /app/\n ---> a17d0406642c\nStep 8/9 : RUN apk add git     && yarn install --frozen-lockfile     && yarn cache clean     && apk del git\n ---> Running in cca40d2ba8d6\n(1/6) Installing ca-certificates (20191127-r2)\n(2/6) Installing nghttp2-libs (1.40.0-r1)\n(3/6) Installing libcurl (7.79.1-r0)\n(4/6) Installing expat (2.2.9-r1)\n(5/6) Installing pcre2 (10.34-r1)\n(6/6) Installing git (2.24.4-r0)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 26 MiB in 26 packages\nyarn install v1.22.0\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\ninfo fsevents@2.3.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@2.3.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\ninfo fsevents@1.2.13: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.13\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\n\u001b[91mwarning \" > @bugsnag/plugin-react@7.9.2\" has unmet peer dependency \"@bugsnag/core@^7.0.0\".\n\u001b[0m\u001b[91mwarning \"eslint-plugin-jest > @typescript-eslint/experimental-utils > @typescript-eslint/typescript-estree > tsutils@3.21.0\" has unmet peer dependency \"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\".\n\u001b[0m[5/5] Building fresh packages...\n$ bower install\nbower lodash#^4.11.2        not-cached https://github.com/lodash/lodash.git#^4.11.2\nbower lodash#^4.11.2           resolve https://github.com/lodash/lodash.git#^4.11.2\nbower bootstrap#^3.3.6      not-cached https://github.com/twbs/bootstrap.git#^3.3.6\nbower bootstrap#^3.3.6         resolve https://github.com/twbs/bootstrap.git#^3.3.6\nbower lodash#^4.11.2          download https://github.com/lodash/lodash/archive/4.17.21.tar.gz\nbower bootstrap#^3.3.6        download https://github.com/twbs/bootstrap/archive/v3.4.1.tar.gz\nbower bootstrap#^3.3.6         extract archive.tar.gz\nbower lodash#^4.11.2           extract archive.tar.gz\nbower lodash#^4.11.2          resolved https://github.com/lodash/lodash.git#4.17.21\nbower bootstrap#^3.3.6        resolved https://github.com/twbs/bootstrap.git#3.4.1\nbower jquery#1.9.1 - 3      not-cached https://github.com/jquery/jquery-dist.git#1.9.1 - 3\nbower jquery#1.9.1 - 3         resolve https://github.com/jquery/jquery-dist.git#1.9.1 - 3\nbower jquery#1.9.1 - 3        download https://github.com/jquery/jquery-dist/archive/3.6.3.tar.gz\nbower jquery#1.9.1 - 3         extract archive.tar.gz\nbower jquery#1.9.1 - 3        resolved https://github.com/jquery/jquery-dist.git#3.6.3\nbower lodash#^4.11.2           install lodash#4.17.21\nbower bootstrap#^3.3.6         install bootstrap#3.4.1\nbower jquery#1.9.1 - 3         install jquery#3.6.3\n\nlodash#4.17.21 bower_components/lodash\n\nbootstrap#3.4.1 bower_components/bootstrap\n└── jquery#3.6.3\n\njquery#3.6.3 bower_components/jquery\nDone in 48.40s.\nyarn cache v1.22.0\nsuccess Cleared cache.\nDone in 5.71s.\n(1/6) Purging git (2.24.4-r0)\n(2/6) Purging libcurl (7.79.1-r0)\n(3/6) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(4/6) Purging nghttp2-libs (1.40.0-r1)\n(5/6) Purging expat (2.2.9-r1)\n(6/6) Purging pcre2 (10.34-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container cca40d2ba8d6\n ---> 08fe4d3f9235\nStep 9/9 : COPY . /app/\n ---> 84358739b65d\nSuccessfully built 84358739b65d\nSuccessfully tagged popcode:latest\n","stderr":"","imageSize":461269740},"repair":{"startTime":1672908071368,"endTime":1672908071479,"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":23}},{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":16}},{"name":"apkAddUseNoCache","position":{"start":21,"end":21,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:12.22.1-alpine\n\nENV YARN_VERSION 1.22.0\n\nRUN apk add --no-cache shadow bash \\\n    && usermod --shell /bin/bash root \\\n    && apk del shadow\n\nRUN apk add --no-cache curl \\\n    && curl -fsSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz\" \\\n    && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/ \\\n    && ln -snf /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn \\\n    && ln -snf /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg \\\n    && rm yarn-v$YARN_VERSION.tar.gz \\\n    && apk del curl\n\nRUN echo '{\"allow_root\": true}' > /root/.bowerrc\n\nWORKDIR /app\n\nCOPY package.json yarn.lock bower.json /app/\nRUN apk add --no-cache git \\\n    && yarn install --frozen-lockfile \\\n    && yarn cache clean \\\n    && apk del git\n\nCOPY . /app/\n"},"repairedBuild":{"startTime":1672908073619,"endTime":1672908152819,"error":null,"stdout":"Sending build context to Docker daemon  1.687MB\r\r\nStep 1/9 : FROM node:12.22.1-alpine\n ---> ba59ff60c386\nStep 2/9 : ENV YARN_VERSION 1.22.0\n ---> Running in c8a9ff82a6d4\nRemoving intermediate container c8a9ff82a6d4\n ---> 857656a16401\nStep 3/9 : RUN apk add --no-cache shadow bash     && usermod --shell /bin/bash root     && apk del shadow\n ---> Running in 2ab7f95a6019\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/6) Installing ncurses-libs (6.1_p20200118-r4)\n(3/6) Installing readline (8.0.1-r0)\n(4/6) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\n(5/6) Installing linux-pam (1.3.1-r1)\n(6/6) Installing shadow (4.7-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 12 MiB in 22 packages\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/community: No such file or directory\n\u001b[0m(1/2) Purging shadow (4.7-r1)\n(2/2) Purging linux-pam (1.3.1-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container 2ab7f95a6019\n ---> d1d8295e2e15\nStep 4/9 : RUN apk add --no-cache curl     && curl -fsSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz\"     && tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/     && ln -snf /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn     && ln -snf /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg     && rm yarn-v$YARN_VERSION.tar.gz     && apk del curl\n ---> Running in 092a2c37d287\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20191127-r2)\n(2/4) Installing nghttp2-libs (1.40.0-r1)\n(3/4) Installing libcurl (7.79.1-r0)\n(4/4) Installing curl (7.79.1-r0)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 11 MiB in 24 packages\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/community: No such file or directory\n\u001b[0m(1/4) Purging curl (7.79.1-r0)\n(2/4) Purging libcurl (7.79.1-r0)\n(3/4) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(4/4) Purging nghttp2-libs (1.40.0-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container 092a2c37d287\n ---> 58b7f2fac07f\nStep 5/9 : RUN echo '{\"allow_root\": true}' > /root/.bowerrc\n ---> Running in 76a142741759\nRemoving intermediate container 76a142741759\n ---> 1aaa29d43908\nStep 6/9 : WORKDIR /app\n ---> Running in a42cae154b34\nRemoving intermediate container a42cae154b34\n ---> 3aa7d5c514df\nStep 7/9 : COPY package.json yarn.lock bower.json /app/\n ---> c61506a48716\nStep 8/9 : RUN apk add --no-cache git     && yarn install --frozen-lockfile     && yarn cache clean     && apk del git\n ---> Running in 262ef0411cb1\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing ca-certificates (20191127-r2)\n(2/6) Installing nghttp2-libs (1.40.0-r1)\n(3/6) Installing libcurl (7.79.1-r0)\n(4/6) Installing expat (2.2.9-r1)\n(5/6) Installing pcre2 (10.34-r1)\n(6/6) Installing git (2.24.4-r0)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 26 MiB in 26 packages\nyarn install v1.22.0\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\ninfo fsevents@2.3.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@2.3.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\ninfo fsevents@1.2.13: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.13\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\n\u001b[91mwarning \" > @bugsnag/plugin-react@7.9.2\" has unmet peer dependency \"@bugsnag/core@^7.0.0\".\n\u001b[0m\u001b[91mwarning \"eslint-plugin-jest > @typescript-eslint/experimental-utils > @typescript-eslint/typescript-estree > tsutils@3.21.0\" has unmet peer dependency \"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\".\n\u001b[0m[5/5] Building fresh packages...\n$ bower install\nbower bootstrap#^3.3.6      not-cached https://github.com/twbs/bootstrap.git#^3.3.6\nbower bootstrap#^3.3.6         resolve https://github.com/twbs/bootstrap.git#^3.3.6\nbower lodash#^4.11.2        not-cached https://github.com/lodash/lodash.git#^4.11.2\nbower lodash#^4.11.2           resolve https://github.com/lodash/lodash.git#^4.11.2\nbower lodash#^4.11.2          download https://github.com/lodash/lodash/archive/4.17.21.tar.gz\nbower bootstrap#^3.3.6        download https://github.com/twbs/bootstrap/archive/v3.4.1.tar.gz\nbower lodash#^4.11.2           extract archive.tar.gz\nbower bootstrap#^3.3.6         extract archive.tar.gz\nbower lodash#^4.11.2          resolved https://github.com/lodash/lodash.git#4.17.21\nbower bootstrap#^3.3.6        resolved https://github.com/twbs/bootstrap.git#3.4.1\nbower jquery#1.9.1 - 3      not-cached https://github.com/jquery/jquery-dist.git#1.9.1 - 3\nbower jquery#1.9.1 - 3         resolve https://github.com/jquery/jquery-dist.git#1.9.1 - 3\nbower jquery#1.9.1 - 3        download https://github.com/jquery/jquery-dist/archive/3.6.3.tar.gz\nbower jquery#1.9.1 - 3         extract archive.tar.gz\nbower jquery#1.9.1 - 3        resolved https://github.com/jquery/jquery-dist.git#3.6.3\nbower lodash#^4.11.2           install lodash#4.17.21\nbower bootstrap#^3.3.6         install bootstrap#3.4.1\nbower jquery#1.9.1 - 3         install jquery#3.6.3\n\nlodash#4.17.21 bower_components/lodash\n\nbootstrap#3.4.1 bower_components/bootstrap\n└── jquery#3.6.3\n\njquery#3.6.3 bower_components/jquery\nDone in 44.21s.\nyarn cache v1.22.0\nsuccess Cleared cache.\nDone in 3.35s.\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/community: No such file or directory\n\u001b[0m(1/6) Purging git (2.24.4-r0)\n(2/6) Purging libcurl (7.79.1-r0)\n(3/6) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(4/6) Purging nghttp2-libs (1.40.0-r1)\n(5/6) Purging expat (2.2.9-r1)\n(6/6) Purging pcre2 (10.34-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container 262ef0411cb1\n ---> c57f56059540\nStep 9/9 : COPY . /app/\n ---> 9bb8eb7b9949\nSuccessfully built 9bb8eb7b9949\nSuccessfully tagged popcode:latest\n","stderr":"","imageSize":459689363}}