{"repository":"https://github.com/bluewallet/lndhub","dockerfilePath":"Dockerfile","startTime":1672810197427,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/bluewallet/lndhub'...\n","error":null,"commit":"fb023b02be53b47a0b5b837001fc7b08dd7f3bd1"},"originalBuild":{"startTimestamp":1672810198403,"endTimestamp":1672810450875,"error":null,"stdout":"Sending build context to Docker daemon  510.5kB\r\r\nStep 1/18 : FROM alpine:latest AS perms\n ---> 49176f190c7e\nStep 2/18 : RUN adduser --disabled-password             --home \"/lndhub\"             --gecos \"\"             \"lndhub\"\n ---> Running in 7e8158a1e0bf\nRemoving intermediate container 7e8158a1e0bf\n ---> 714c49845d7d\nStep 3/18 : FROM node:16-bullseye-slim AS builder\n16-bullseye-slim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Pulling fs layer\n031949ce49ec: Pulling fs layer\n16cee6032317: Pulling fs layer\nfd35893cdbff: Pulling fs layer\nfd35893cdbff: Waiting\n00fde01815c9: Verifying Checksum\n00fde01815c9: Download complete\n16cee6032317: Verifying Checksum\n16cee6032317: Download complete\n00fde01815c9: Pull complete\nfd35893cdbff: Download complete\n031949ce49ec: Download complete\n031949ce49ec: Pull complete\n16cee6032317: Pull complete\nfd35893cdbff: Pull complete\nDigest: sha256:30ec224b4c35a768e038674444d0718494a7d8847c96ee73a8d3db795135b4c9\nStatus: Downloaded newer image for node:16-bullseye-slim\n ---> b3b9a79a4762\nStep 4/18 : RUN apt-get update && apt-get -y install python3\n ---> Running in 3a69238fc4be\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6715 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  ca-certificates libexpat1 libgpm2 libmpdec3 libncursesw6 libpython3-stdlib\n  libpython3.9-minimal libpython3.9-stdlib libreadline8 libsqlite3-0\n  media-types openssl python3-minimal python3.9 python3.9-minimal\n  readline-common\nSuggested packages:\n  gpm python3-doc python3-tk python3-venv python3.9-venv python3.9-doc\n  binutils binfmt-support readline-doc\nThe following NEW packages will be installed:\n  ca-certificates libexpat1 libgpm2 libmpdec3 libncursesw6 libpython3-stdlib\n  libpython3.9-minimal libpython3.9-stdlib libreadline8 libsqlite3-0\n  media-types openssl python3 python3-minimal python3.9 python3.9-minimal\n  readline-common\n0 upgraded, 17 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 7438 kB of archives.\nAfter this operation, 24.9 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-minimal amd64 3.9.2-1 [801 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libexpat1 amd64 2.2.10-2+deb11u5 [98.2 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 python3.9-minimal amd64 3.9.2-1 [1955 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 python3-minimal amd64 3.9.2-3 [38.2 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 media-types all 4.0.0 [30.3 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libmpdec3 amd64 2.5.1-1 [87.7 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libncursesw6 amd64 6.2+20201114-2 [132 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 readline-common all 8.1-1 [73.7 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libreadline8 amd64 8.1-1 [169 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 libsqlite3-0 amd64 3.34.1-3 [797 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-stdlib amd64 3.9.2-1 [1684 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 python3.9 amd64 3.9.2-1 [466 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 libpython3-stdlib amd64 3.9.2-3 [21.4 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 python3 amd64 3.9.2-3 [37.9 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\nGet:17 http://deb.debian.org/debian bullseye/main amd64 libgpm2 amd64 1.20.7-8 [35.6 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 7438 kB in 0s (81.0 MB/s)\nSelecting previously unselected package libpython3.9-minimal:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../libpython3.9-minimal_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-minimal:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libexpat1:amd64.\r\nPreparing to unpack .../libexpat1_2.2.10-2+deb11u5_amd64.deb ...\r\nUnpacking libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSelecting previously unselected package python3.9-minimal.\r\nPreparing to unpack .../python3.9-minimal_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9-minimal (3.9.2-1) ...\r\nSetting up libpython3.9-minimal:amd64 (3.9.2-1) ...\r\nSetting up libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSetting up python3.9-minimal (3.9.2-1) ...\r\nSelecting previously unselected package python3-minimal.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6955 files and directories currently installed.)\r\nPreparing to unpack .../0-python3-minimal_3.9.2-3_amd64.deb ...\r\nUnpacking python3-minimal (3.9.2-3) ...\r\nSelecting previously unselected package media-types.\r\nPreparing to unpack .../1-media-types_4.0.0_all.deb ...\r\nUnpacking media-types (4.0.0) ...\r\nSelecting previously unselected package libmpdec3:amd64.\r\nPreparing to unpack .../2-libmpdec3_2.5.1-1_amd64.deb ...\r\nUnpacking libmpdec3:amd64 (2.5.1-1) ...\r\nSelecting previously unselected package libncursesw6:amd64.\r\nPreparing to unpack .../3-libncursesw6_6.2+20201114-2_amd64.deb ...\r\nUnpacking libncursesw6:amd64 (6.2+20201114-2) ...\r\nSelecting previously unselected package readline-common.\r\nPreparing to unpack .../4-readline-common_8.1-1_all.deb ...\r\nUnpacking readline-common (8.1-1) ...\r\nSelecting previously unselected package libreadline8:amd64.\r\nPreparing to unpack .../5-libreadline8_8.1-1_amd64.deb ...\r\nUnpacking libreadline8:amd64 (8.1-1) ...\r\nSelecting previously unselected package libsqlite3-0:amd64.\r\nPreparing to unpack .../6-libsqlite3-0_3.34.1-3_amd64.deb ...\r\nUnpacking libsqlite3-0:amd64 (3.34.1-3) ...\r\nSelecting previously unselected package libpython3.9-stdlib:amd64.\r\nPreparing to unpack .../7-libpython3.9-stdlib_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-stdlib:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package python3.9.\r\nPreparing to unpack .../8-python3.9_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3-stdlib:amd64.\r\nPreparing to unpack .../9-libpython3-stdlib_3.9.2-3_amd64.deb ...\r\nUnpacking libpython3-stdlib:amd64 (3.9.2-3) ...\r\nSetting up python3-minimal (3.9.2-3) ...\r\nSelecting previously unselected package python3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 7393 files and directories currently installed.)\r\nPreparing to unpack .../python3_3.9.2-3_amd64.deb ...\r\nUnpacking python3 (3.9.2-3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../libgpm2_1.20.7-8_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-8) ...\r\nSetting up media-types (4.0.0) ...\r\nSetting up libgpm2:amd64 (1.20.7-8) ...\r\nSetting up libsqlite3-0:amd64 (3.34.1-3) ...\r\nSetting up libncursesw6:amd64 (6.2+20201114-2) ...\r\nSetting up libmpdec3:amd64 (2.5.1-1) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up readline-common (8.1-1) ...\r\nSetting up libreadline8:amd64 (8.1-1) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nSetting up libpython3.9-stdlib:amd64 (3.9.2-1) ...\r\nSetting up libpython3-stdlib:amd64 (3.9.2-3) ...\r\nSetting up python3.9 (3.9.2-1) ...\r\nSetting up python3 (3.9.2-3) ...\r\nrunning python rtupdate hooks for python3.9...\r\nrunning python post-rtupdate hooks for python3.9...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 3a69238fc4be\n ---> 8ebfb982cc99\nStep 5/18 : WORKDIR /lndhub\n ---> Running in 2b45d666ebc2\nRemoving intermediate container 2b45d666ebc2\n ---> 9cd31257210d\nStep 6/18 : COPY . .\n ---> 7b8feb16a16d\nStep 7/18 : RUN npm i\n ---> Running in 21480e67e348\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m The package-lock.json file was created with an old version of npm,\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mold lockfile \nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile This is a one-time fix-up, please be patient...\nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.17.2: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 712 packages, and audited 713 packages in 14s\n\n56 packages are looking for funding\n  run `npm fund` for details\n\n14 vulnerabilities (1 low, 10 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 21480e67e348\n ---> a887a060bac5\nStep 8/18 : RUN npm run dockerbuild\n ---> Running in 99f32589c928\n\n> lndhub@1.4.1 dockerbuild\n> ./node_modules/.bin/babel ./ --ignore node_modules/ --ignore *.spec.js --out-dir ./build\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mSuccessfully compiled 17 files with Babel (1098ms).\nRemoving intermediate container 99f32589c928\n ---> cb87557707de\nStep 9/18 : RUN rm -rf .git\n ---> Running in 52f7f3402659\nRemoving intermediate container 52f7f3402659\n ---> 2fb13cf8c114\nStep 10/18 : FROM node:16-alpine\n ---> 610c0494e820\nStep 11/18 : COPY  --from=perms /etc/group /etc/passwd /etc/shadow  /etc/\n ---> 871727808d21\nStep 12/18 : COPY  --from=builder /lndhub /lndhub\n ---> b6b921e30222\nStep 13/18 : RUN mkdir -p /lndhub/logs && chown -R lndhub:lndhub /lndhub\n ---> Running in 6f7be4efa664\nRemoving intermediate container 6f7be4efa664\n ---> d341ee4c0af2\nStep 14/18 : USER lndhub\n ---> Running in 1d24de2fbbee\nRemoving intermediate container 1d24de2fbbee\n ---> bf28cfe36e72\nStep 15/18 : ENV PORT=3000\n ---> Running in 1602bd53e051\nRemoving intermediate container 1602bd53e051\n ---> 41deba169a8c\nStep 16/18 : EXPOSE 3000\n ---> Running in 2697916ed930\nRemoving intermediate container 2697916ed930\n ---> e64a31b099ee\nStep 17/18 : WORKDIR /lndhub\n ---> Running in deb83c2b3a9c\nRemoving intermediate container deb83c2b3a9c\n ---> 280520bc600d\nStep 18/18 : CMD cp $LND_CERT_FILE /lndhub/ && cp $LND_ADMIN_MACAROON_FILE /lndhub/ && cd /lndhub && npm start\n ---> Running in d499e1d53a5c\nRemoving intermediate container d499e1d53a5c\n ---> ad1a0b85cbc6\nSuccessfully built ad1a0b85cbc6\nSuccessfully tagged lndhub:latest\n","stderr":"","imageSize":277322166},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":19,"end":19,"columnStart":4,"columnEnd":9}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":11,"end":11,"columnStart":22,"columnEnd":48}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":11,"end":11,"columnStart":22,"columnEnd":48}}],"repairedDockerfile":"FROM alpine:latest AS perms\n\n# This is a bit weird, but required to make sure the LND data can be accessed.\nRUN adduser --disabled-password \\\n            --home \"/lndhub\" \\\n            --gecos \"\" \\\n            \"lndhub\"\n\nFROM node:16-bullseye-slim AS builder\n\n# These packages are required for building LNDHub\nRUN apt-get update && apt-get -y --no-install-recommends install python3\n\nWORKDIR /lndhub\n\n# Copy project files and folders to the current working directory\nCOPY . .\n\n# Install dependencies\nRUN npm i\nRUN npm run dockerbuild\n\n# Delete git data as it's not needed inside the container\nRUN rm -rf .git\n\nFROM node:16-alpine\n\n# Create a specific user so LNDHub doesn't run as root\nCOPY  --from=perms /etc/group /etc/passwd /etc/shadow  /etc/\n\n# Copy LNDHub with installed modules from builder\nCOPY  --from=builder /lndhub /lndhub\n\n# Create logs folder and ensure permissions are set correctly\nRUN mkdir -p /lndhub/logs && chown -R lndhub:lndhub /lndhub\nUSER lndhub\n\nENV PORT=3000\nEXPOSE 3000\nWORKDIR /lndhub\n\nCMD cp $LND_CERT_FILE /lndhub/ && cp $LND_ADMIN_MACAROON_FILE /lndhub/ && cd /lndhub && npm start\n"},"repairedBuild":{"startTimestamp":1672810452170,"endTimestamp":1672810685143,"error":null,"stdout":"Sending build context to Docker daemon  510.5kB\r\r\nStep 1/18 : FROM alpine:latest AS perms\n ---> 49176f190c7e\nStep 2/18 : RUN adduser --disabled-password             --home \"/lndhub\"             --gecos \"\"             \"lndhub\"\n ---> Running in 7a104a2c7963\nRemoving intermediate container 7a104a2c7963\n ---> 9dd931eab12c\nStep 3/18 : FROM node:16-bullseye-slim AS builder\n ---> b3b9a79a4762\nStep 4/18 : RUN apt-get update && apt-get -y --no-install-recommends install python3\n ---> Running in 84d6b086efb8\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6937 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libexpat1 libmpdec3 libncursesw6 libpython3-stdlib libpython3.9-minimal\n  libpython3.9-stdlib libreadline8 libsqlite3-0 media-types python3-minimal\n  python3.9 python3.9-minimal readline-common\nSuggested packages:\n  python3-doc python3-tk python3-venv python3.9-venv python3.9-doc binutils\n  binfmt-support readline-doc\nRecommended packages:\n  libgpm2 ca-certificates\nThe following NEW packages will be installed:\n  libexpat1 libmpdec3 libncursesw6 libpython3-stdlib libpython3.9-minimal\n  libpython3.9-stdlib libreadline8 libsqlite3-0 media-types python3\n  python3-minimal python3.9 python3.9-minimal readline-common\n0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 6391 kB of archives.\nAfter this operation, 22.9 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-minimal amd64 3.9.2-1 [801 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libexpat1 amd64 2.2.10-2+deb11u5 [98.2 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 python3.9-minimal amd64 3.9.2-1 [1955 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 python3-minimal amd64 3.9.2-3 [38.2 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 media-types all 4.0.0 [30.3 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libmpdec3 amd64 2.5.1-1 [87.7 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libncursesw6 amd64 6.2+20201114-2 [132 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 readline-common all 8.1-1 [73.7 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libreadline8 amd64 8.1-1 [169 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 libsqlite3-0 amd64 3.34.1-3 [797 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-stdlib amd64 3.9.2-1 [1684 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 python3.9 amd64 3.9.2-1 [466 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 libpython3-stdlib amd64 3.9.2-3 [21.4 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 python3 amd64 3.9.2-3 [37.9 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 6391 kB in 0s (48.7 MB/s)\nSelecting previously unselected package libpython3.9-minimal:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../libpython3.9-minimal_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-minimal:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libexpat1:amd64.\r\nPreparing to unpack .../libexpat1_2.2.10-2+deb11u5_amd64.deb ...\r\nUnpacking libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSelecting previously unselected package python3.9-minimal.\r\nPreparing to unpack .../python3.9-minimal_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9-minimal (3.9.2-1) ...\r\nSetting up libpython3.9-minimal:amd64 (3.9.2-1) ...\r\nSetting up libexpat1:amd64 (2.2.10-2+deb11u5) ...\r\nSetting up python3.9-minimal (3.9.2-1) ...\r\nSelecting previously unselected package python3-minimal.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6955 files and directories currently installed.)\r\nPreparing to unpack .../0-python3-minimal_3.9.2-3_amd64.deb ...\r\nUnpacking python3-minimal (3.9.2-3) ...\r\nSelecting previously unselected package media-types.\r\nPreparing to unpack .../1-media-types_4.0.0_all.deb ...\r\nUnpacking media-types (4.0.0) ...\r\nSelecting previously unselected package libmpdec3:amd64.\r\nPreparing to unpack .../2-libmpdec3_2.5.1-1_amd64.deb ...\r\nUnpacking libmpdec3:amd64 (2.5.1-1) ...\r\nSelecting previously unselected package libncursesw6:amd64.\r\nPreparing to unpack .../3-libncursesw6_6.2+20201114-2_amd64.deb ...\r\nUnpacking libncursesw6:amd64 (6.2+20201114-2) ...\r\nSelecting previously unselected package readline-common.\r\nPreparing to unpack .../4-readline-common_8.1-1_all.deb ...\r\nUnpacking readline-common (8.1-1) ...\r\nSelecting previously unselected package libreadline8:amd64.\r\nPreparing to unpack .../5-libreadline8_8.1-1_amd64.deb ...\r\nUnpacking libreadline8:amd64 (8.1-1) ...\r\nSelecting previously unselected package libsqlite3-0:amd64.\r\nPreparing to unpack .../6-libsqlite3-0_3.34.1-3_amd64.deb ...\r\nUnpacking libsqlite3-0:amd64 (3.34.1-3) ...\r\nSelecting previously unselected package libpython3.9-stdlib:amd64.\r\nPreparing to unpack .../7-libpython3.9-stdlib_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-stdlib:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package python3.9.\r\nPreparing to unpack .../8-python3.9_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3-stdlib:amd64.\r\nPreparing to unpack .../9-libpython3-stdlib_3.9.2-3_amd64.deb ...\r\nUnpacking libpython3-stdlib:amd64 (3.9.2-3) ...\r\nSetting up python3-minimal (3.9.2-3) ...\r\nSelecting previously unselected package python3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 7393 files and directories currently installed.)\r\nPreparing to unpack .../python3_3.9.2-3_amd64.deb ...\r\nUnpacking python3 (3.9.2-3) ...\r\nSetting up media-types (4.0.0) ...\r\nSetting up libsqlite3-0:amd64 (3.34.1-3) ...\r\nSetting up libncursesw6:amd64 (6.2+20201114-2) ...\r\nSetting up libmpdec3:amd64 (2.5.1-1) ...\r\nSetting up readline-common (8.1-1) ...\r\nSetting up libreadline8:amd64 (8.1-1) ...\r\nSetting up libpython3.9-stdlib:amd64 (3.9.2-1) ...\r\nSetting up libpython3-stdlib:amd64 (3.9.2-3) ...\r\nSetting up python3.9 (3.9.2-1) ...\r\nSetting up python3 (3.9.2-3) ...\r\nrunning python rtupdate hooks for python3.9...\r\nrunning python post-rtupdate hooks for python3.9...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 84d6b086efb8\n ---> 48ebba13949e\nStep 5/18 : WORKDIR /lndhub\n ---> Running in 639fcdcbe569\nRemoving intermediate container 639fcdcbe569\n ---> cb4c2173cf45\nStep 6/18 : COPY . .\n ---> 0d704c6e5b4e\nStep 7/18 : RUN npm i\n ---> Running in c33902aebaef\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN old lockfile\u001b[0m\u001b[91m The package-lock.json file was created with an old version of npm,\nnpm WARN old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN \u001b[0m\u001b[91mold lockfile \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm \u001b[0m\u001b[91mWARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.17.2: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 712 packages, and audited 713 packages in 12s\n\n56 packages are looking for funding\n  run `npm fund` for details\n\n14 vulnerabilities (1 low, 10 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container c33902aebaef\n ---> 72cebc4debcf\nStep 8/18 : RUN npm run dockerbuild\n ---> Running in 213710d29a80\n\n> lndhub@1.4.1 dockerbuild\n> ./node_modules/.bin/babel ./ --ignore node_modules/ --ignore *.spec.js --out-dir ./build\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mSuccessfully compiled 17 files with Babel (999ms).\nRemoving intermediate container 213710d29a80\n ---> 1c7067661d95\nStep 9/18 : RUN rm -rf .git\n ---> Running in 698d75ab70e8\nRemoving intermediate container 698d75ab70e8\n ---> c3771965afaf\nStep 10/18 : FROM node:16-alpine\n ---> 610c0494e820\nStep 11/18 : COPY  --from=perms /etc/group /etc/passwd /etc/shadow  /etc/\n ---> 5b1dd7f0f380\nStep 12/18 : COPY  --from=builder /lndhub /lndhub\n ---> 6029241e82b4\nStep 13/18 : RUN mkdir -p /lndhub/logs && chown -R lndhub:lndhub /lndhub\n ---> Running in 53b4825c1c85\nRemoving intermediate container 53b4825c1c85\n ---> 4b098b3981d8\nStep 14/18 : USER lndhub\n ---> Running in 383c2627b385\nRemoving intermediate container 383c2627b385\n ---> 4a866e45557d\nStep 15/18 : ENV PORT=3000\n ---> Running in 3cfab5c4fc7d\nRemoving intermediate container 3cfab5c4fc7d\n ---> 645da19bf99c\nStep 16/18 : EXPOSE 3000\n ---> Running in bc94dfba38ac\nRemoving intermediate container bc94dfba38ac\n ---> b08686a51b14\nStep 17/18 : WORKDIR /lndhub\n ---> Running in 210483d65e42\nRemoving intermediate container 210483d65e42\n ---> cbb1b7faf24b\nStep 18/18 : CMD cp $LND_CERT_FILE /lndhub/ && cp $LND_ADMIN_MACAROON_FILE /lndhub/ && cd /lndhub && npm start\n ---> Running in c985b0f23d9d\nRemoving intermediate container c985b0f23d9d\n ---> f4f76643406d\nSuccessfully built f4f76643406d\nSuccessfully tagged lndhub:latest\n","stderr":"","imageSize":277322166},"endTime":1672810685802}