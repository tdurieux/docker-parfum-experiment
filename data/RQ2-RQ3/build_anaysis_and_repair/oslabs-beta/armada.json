{"repository":"https://github.com/oslabs-beta/armada","dockerfilePath":"Dockerfile","startTime":1673181528902,"endTime":1673181740926,"clone":{"startTime":1673181528903,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/oslabs-beta/armada'...\n","error":null,"endTime":1673181529827,"commit":"b3033f291809b25805a897bc53234428a17132a1"},"originalBuild":{"startTime":1673181529904,"endTime":1673181654469,"error":null,"stdout":"Sending build context to Docker daemon  6.254MB\r\r\nStep 1/13 : FROM node:16 as kubebuild\n16: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n8f331a0ab6eb: Pulling fs layer\n1b7fba8c2ddb: Pulling fs layer\n138e31cf9c76: Pulling fs layer\n138e31cf9c76: Verifying Checksum\n138e31cf9c76: Download complete\n1b7fba8c2ddb: Verifying Checksum\n1b7fba8c2ddb: Download complete\n8f331a0ab6eb: Verifying Checksum\n8f331a0ab6eb: Download complete\n8f331a0ab6eb: Pull complete\n1b7fba8c2ddb: Pull complete\n138e31cf9c76: Pull complete\nDigest: sha256:64e8bcdfdad6718050801a2639f7e6645fdaf85ec37a98cdb61f6a5331217618\nStatus: Downloaded newer image for node:16\n ---> c910109adbfd\nStep 2/13 : RUN apt-get update && apt-get install -y apt-transport-https ca-certificates curl\n ---> Running in 92981e1c7718\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5740 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20200601~deb10u2).\ncurl is already the newest version (7.64.0-4+deb10u3).\nThe following NEW packages will be installed:\n  apt-transport-https\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 149 kB of archives.\nAfter this operation, 156 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 apt-transport-https all 1.8.2.3 [149 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 149 kB in 0s (2509 kB/s)\nSelecting previously unselected package apt-transport-https.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../apt-transport-https_1.8.2.3_all.deb ...\r\nUnpacking apt-transport-https (1.8.2.3) ...\r\nSetting up apt-transport-https (1.8.2.3) ...\r\nRemoving intermediate container 92981e1c7718\n ---> 5c1281d8846d\nStep 3/13 : RUN curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg\n ---> Running in 0ac09e916c7f\nRemoving intermediate container 0ac09e916c7f\n ---> ff2eb39ca733\nStep 4/13 : RUN echo \"deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main\" | tee /etc/apt/sources.list.d/kubernetes.list\n ---> Running in 78389d3cf0ca\ndeb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main\nRemoving intermediate container 78389d3cf0ca\n ---> 41d253635676\nStep 5/13 : RUN apt-get update && apt-get install -y kubectl\n ---> Running in 4277dd255b25\nHit:1 http://deb.debian.org/debian buster InRelease\nHit:2 http://deb.debian.org/debian-security buster/updates InRelease\nHit:3 http://deb.debian.org/debian buster-updates InRelease\nGet:4 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [9383 B]\nGet:5 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [62.2 kB]\nFetched 71.6 kB in 1s (79.3 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  kubectl\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 10.1 MB of archives.\nAfter this operation, 48.0 MB of additional disk space will be used.\nGet:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubectl amd64 1.26.0-00 [10.1 MB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 10.1 MB in 0s (21.8 MB/s)\nSelecting previously unselected package kubectl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23989 files and directories currently installed.)\r\nPreparing to unpack .../kubectl_1.26.0-00_amd64.deb ...\r\nUnpacking kubectl (1.26.0-00) ...\r\nSetting up kubectl (1.26.0-00) ...\r\nRemoving intermediate container 4277dd255b25\n ---> 730bdf81b44e\nStep 6/13 : FROM kubebuild as armada\n ---> 730bdf81b44e\nStep 7/13 : WORKDIR /usr/src/app\n ---> Running in cce374481d5b\nRemoving intermediate container cce374481d5b\n ---> 274718debce7\nStep 8/13 : RUN npm install -g webpack nodemon\n ---> Running in 07c4909e76fc\n\nadded 109 packages, and audited 110 packages in 4s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 07c4909e76fc\n ---> f3ad7359edb7\nStep 9/13 : COPY . /usr/src/app/\n ---> ffeacb5102d1\nStep 10/13 : RUN npm install\n ---> Running in 33bde424bb5c\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\nadded 1020 packages, and audited 1021 packages in 11s\n\n95 packages are looking for funding\n  run `npm fund` for details\n\n10 vulnerabilities (4 moderate, 4 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container 33bde424bb5c\n ---> 5ea9f250acbe\nStep 11/13 : RUN npm run build\n ---> Running in 48719e4731c4\n\n> armada@1.0.0 build\n> NODE_ENV=production webpack\n\nasset bundle.js 831 KiB [emitted] [minimized] [big] (name: main) 1 related asset\nasset index.html 493 bytes [emitted]\nasset main.css 162 bytes [emitted] (name: main)\nEntrypoint main [big] 831 KiB = main.css 162 bytes bundle.js 831 KiB\norphan modules 2.82 MiB (javascript) 937 bytes (runtime) [orphan] 965 modules\nruntime modules 2.03 KiB 5 modules\ncacheable modules 2.13 MiB (javascript) 161 bytes (css/mini-extract)\n  modules by path ./node_modules/ 229 KiB 27 modules\n  modules by path ./client/ 1.91 MiB (javascript) 161 bytes (css/mini-extract)\n    ./client/index.js + 435 modules 1.91 MiB [built] [code generated]\n    css ./node_modules/css-loader/dist/cjs.js!./client/styles.css 161 bytes [built] [code generated]\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  bundle.js (831 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (831 KiB)\n      main.css\n      bundle.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.72.1 compiled with 3 warnings in 13884 ms\nRemoving intermediate container 48719e4731c4\n ---> b18e970c4d5b\nStep 12/13 : EXPOSE 3001\n ---> Running in 37ddd754320b\nRemoving intermediate container 37ddd754320b\n ---> 723f788c0eed\nStep 13/13 : CMD [ \"npm\", \"run\", \"start\" ]\n ---> Running in 748de0f8e402\nRemoving intermediate container 748de0f8e402\n ---> f407153225c7\nSuccessfully built f407153225c7\nSuccessfully tagged armada:latest\n","stderr":"","imageSize":1180189029},"repair":{"startTime":1673181654536,"endTime":1673181654703,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":20,"end":20,"columnStart":4,"columnEnd":34}},{"name":"npmCacheCleanAfterInstall","position":{"start":24,"end":24,"columnStart":4,"columnEnd":15}},{"name":"aptGetInstallUseNoRec","position":{"start":1,"end":1,"columnStart":22,"columnEnd":81}},{"name":"aptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":22,"columnEnd":48}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":1,"end":1,"columnStart":22,"columnEnd":81}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":4,"columnStart":22,"columnEnd":48}}],"repairedDockerfile":"FROM node:16 as kubebuild\nRUN apt-get update && apt-get install --no-install-recommends -y apt-transport-https ca-certificates curl && rm -rf /var/lib/apt/lists/*;\nRUN curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg\nRUN echo \"deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main\" | tee /etc/apt/sources.list.d/kubernetes.list\nRUN apt-get update && apt-get install --no-install-recommends -y kubectl && rm -rf /var/lib/apt/lists/*;\n\n\n\n#ADD https://storage.googleapis.com/kubernetes-release/release/v1.6.4/bin/linux/amd64/kubectl /usr/local/bin/kubectl\n#ENV HOME=/config \\\n#    KUBECONFIG=/etc/kubernetes/admin.conf\n#RUN set -x && \\\n#    apk add --no-cache curl ca-certificates && \\\n#    chmod +x /usr/local/bin/kubectl\n\n#your app container\nFROM kubebuild as armada\n\nWORKDIR /usr/src/app\n\nRUN npm install -g webpack nodemon && npm cache clean --force;\n\nCOPY . /usr/src/app/\n\nRUN npm install && npm cache clean --force;\n\nRUN npm run build\n\nEXPOSE 3001\n\n# CMD [ \"npm\", \"run\", \"dev\" ]\nCMD [ \"npm\", \"run\", \"start\" ]\n"},"repairedBuild":{"startTime":1673181655602,"endTime":1673181740196,"error":null,"stdout":"Sending build context to Docker daemon  6.255MB\r\r\nStep 1/13 : FROM node:16 as kubebuild\n ---> c910109adbfd\nStep 2/13 : RUN apt-get update && apt-get install --no-install-recommends -y apt-transport-https ca-certificates curl && rm -rf /var/lib/apt/lists/*;\n ---> Running in 3b3a66d6f29f\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5888 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20200601~deb10u2).\ncurl is already the newest version (7.64.0-4+deb10u3).\nThe following NEW packages will be installed:\n  apt-transport-https\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 149 kB of archives.\nAfter this operation, 156 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 apt-transport-https all 1.8.2.3 [149 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 149 kB in 0s (3717 kB/s)\nSelecting previously unselected package apt-transport-https.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../apt-transport-https_1.8.2.3_all.deb ...\r\nUnpacking apt-transport-https (1.8.2.3) ...\r\nSetting up apt-transport-https (1.8.2.3) ...\r\nRemoving intermediate container 3b3a66d6f29f\n ---> b3b9c89d1c64\nStep 3/13 : RUN curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg\n ---> Running in 98d9356612b6\nRemoving intermediate container 98d9356612b6\n ---> 518b3b3d7ff1\nStep 4/13 : RUN echo \"deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main\" | tee /etc/apt/sources.list.d/kubernetes.list\n ---> Running in fd43a9aa57a1\ndeb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main\nRemoving intermediate container fd43a9aa57a1\n ---> bc808de58060\nStep 5/13 : RUN apt-get update && apt-get install --no-install-recommends -y kubectl && rm -rf /var/lib/apt/lists/*;\n ---> Running in 74333bde16fb\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:4 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [9383 B]\nGet:7 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nGet:8 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [62.2 kB]\nFetched 8625 kB in 1s (6137 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  kubectl\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 10.1 MB of archives.\nAfter this operation, 48.0 MB of additional disk space will be used.\nGet:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubectl amd64 1.26.0-00 [10.1 MB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 10.1 MB in 0s (25.2 MB/s)\nSelecting previously unselected package kubectl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23989 files and directories currently installed.)\r\nPreparing to unpack .../kubectl_1.26.0-00_amd64.deb ...\r\nUnpacking kubectl (1.26.0-00) ...\r\nSetting up kubectl (1.26.0-00) ...\r\nRemoving intermediate container 74333bde16fb\n ---> fb9932324f36\nStep 6/13 : FROM kubebuild as armada\n ---> fb9932324f36\nStep 7/13 : WORKDIR /usr/src/app\n ---> Running in ac5fe70f5c1f\nRemoving intermediate container ac5fe70f5c1f\n ---> ee5661453061\nStep 8/13 : RUN npm install -g webpack nodemon && npm cache clean --force;\n ---> Running in 349e9582cde3\n\nadded 109 packages, and audited 110 packages in 4s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 349e9582cde3\n ---> f84767134e7a\nStep 9/13 : COPY . /usr/src/app/\n ---> 64d78144a100\nStep 10/13 : RUN npm install && npm cache clean --force;\n ---> Running in a318adbbbfd4\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 1020 packages, and audited 1021 packages in 11s\n\n95 packages are looking for funding\n  run `npm fund` for details\n\n10 vulnerabilities (4 moderate, 4 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container a318adbbbfd4\n ---> e58ce30b227f\nStep 11/13 : RUN npm run build\n ---> Running in 33f5e585229f\n\n> armada@1.0.0 build\n> NODE_ENV=production webpack\n\nasset bundle.js 831 KiB [emitted] [minimized] [big] (name: main) 1 related asset\nasset index.html 493 bytes [emitted]\nasset main.css 162 bytes [emitted] (name: main)\nEntrypoint main [big] 831 KiB = main.css 162 bytes bundle.js 831 KiB\norphan modules 2.82 MiB (javascript) 937 bytes (runtime) [orphan] 965 modules\nruntime modules 2.03 KiB 5 modules\ncacheable modules 2.13 MiB (javascript) 161 bytes (css/mini-extract)\n  modules by path ./node_modules/ 229 KiB 27 modules\n  modules by path ./client/ 1.91 MiB (javascript) 161 bytes (css/mini-extract)\n    ./client/index.js + 435 modules 1.91 MiB [built] [code generated]\n    css ./node_modules/css-loader/dist/cjs.js!./client/styles.css 161 bytes [built] [code generated]\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  bundle.js (831 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (831 KiB)\n      main.css\n      bundle.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.72.1 compiled with 3 warnings in 13521 ms\nRemoving intermediate container 33f5e585229f\n ---> 19865b73e90c\nStep 12/13 : EXPOSE 3001\n ---> Running in e60b3b5ef3f2\nRemoving intermediate container e60b3b5ef3f2\n ---> 13f8883fd256\nStep 13/13 : CMD [ \"npm\", \"run\", \"start\" ]\n ---> Running in c8e825db6434\nRemoving intermediate container c8e825db6434\n ---> 2db3f3364f53\nSuccessfully built 2db3f3364f53\nSuccessfully tagged armada:latest\n","stderr":"","imageSize":1117078383}}