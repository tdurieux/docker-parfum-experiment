{"repository":"https://github.com/natanlao/yaas","dockerfilePath":"Dockerfile","startTime":1672731599485,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/natanlao/yaas'...\n","error":null,"commit":"fb7d0765358ada27d2842ed449c28668ff003da4"},"originalBuild":{"startTimestamp":1672731600285,"endTimestamp":1672731628523,"error":null,"stdout":"Sending build context to Docker daemon  114.7kB\r\r\nStep 1/8 : FROM tiangolo/uvicorn-gunicorn-starlette:python3.9-slim\npython3.9-slim: Pulling from tiangolo/uvicorn-gunicorn-starlette\n3f4ca61aafcd: Already exists\n3f487a3359db: Already exists\nae22731824be: Already exists\n3583ac268677: Already exists\nde224c04316a: Already exists\ndc2c631c81d7: Pulling fs layer\n0a9e58363248: Pulling fs layer\n44abc5526a45: Pulling fs layer\nd5795405ed7d: Pulling fs layer\n9bdc0fb13cf1: Pulling fs layer\n30b29e4d702e: Pulling fs layer\nad2653c88c45: Pulling fs layer\n7e1e1d869273: Pulling fs layer\nfba83f966dd9: Pulling fs layer\nca331e42d669: Pulling fs layer\nf4f4ccaead76: Pulling fs layer\n9bdc0fb13cf1: Waiting\nd5795405ed7d: Waiting\n30b29e4d702e: Waiting\nf4f4ccaead76: Waiting\nad2653c88c45: Waiting\nca331e42d669: Waiting\nfba83f966dd9: Waiting\n7e1e1d869273: Waiting\ndc2c631c81d7: Verifying Checksum\ndc2c631c81d7: Download complete\ndc2c631c81d7: Pull complete\n0a9e58363248: Verifying Checksum\n0a9e58363248: Download complete\n44abc5526a45: Verifying Checksum\n44abc5526a45: Download complete\nd5795405ed7d: Verifying Checksum\nd5795405ed7d: Download complete\n9bdc0fb13cf1: Verifying Checksum\n9bdc0fb13cf1: Download complete\n30b29e4d702e: Verifying Checksum\n30b29e4d702e: Download complete\nad2653c88c45: Verifying Checksum\nad2653c88c45: Download complete\n7e1e1d869273: Verifying Checksum\n7e1e1d869273: Download complete\nfba83f966dd9: Verifying Checksum\nfba83f966dd9: Download complete\nca331e42d669: Verifying Checksum\nca331e42d669: Download complete\nf4f4ccaead76: Verifying Checksum\nf4f4ccaead76: Download complete\n0a9e58363248: Pull complete\n44abc5526a45: Pull complete\nd5795405ed7d: Pull complete\n9bdc0fb13cf1: Pull complete\n30b29e4d702e: Pull complete\nad2653c88c45: Pull complete\n7e1e1d869273: Pull complete\nfba83f966dd9: Pull complete\nca331e42d669: Pull complete\nf4f4ccaead76: Pull complete\nDigest: sha256:b0387f0da520327e212bbebcae9bf0a7adc32b96c4e715a52dbfd418754f5392\nStatus: Downloaded newer image for tiangolo/uvicorn-gunicorn-starlette:python3.9-slim\n ---> 1417346015f0\nStep 2/8 : ENV FORWARDED_ALLOW_IPS='*'\n ---> Running in 3457379d28c9\nRemoving intermediate container 3457379d28c9\n ---> 7213736c26d1\nStep 3/8 : ENV PORT=80\n ---> Running in 6bc17d854d93\nRemoving intermediate container 6bc17d854d93\n ---> 37ec22434cbb\nStep 4/8 : EXPOSE 80\n ---> Running in e89c1975c34e\nRemoving intermediate container e89c1975c34e\n ---> 81c1d8701397\nStep 5/8 : COPY requirements.txt /app\n ---> 91b9cb3c0833\nStep 6/8 : RUN pip install -r /app/requirements.txt\n ---> Running in e192d103f4fb\nCollecting Jinja2==3.1.2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 KB 10.9 MB/s eta 0:00:00\nCollecting starlette==0.23.1\n  Downloading starlette-0.23.1-py3-none-any.whl (64 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.5/64.5 KB 2.6 MB/s eta 0:00:00\nCollecting yt-dlp==2022.11.11\n  Downloading yt_dlp-2022.11.11-py2.py3-none-any.whl (2.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.8/2.8 MB 54.9 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nRequirement already satisfied: typing-extensions>=3.10.0 in /usr/local/lib/python3.9/site-packages (from starlette==0.23.1->-r /app/requirements.txt (line 2)) (4.4.0)\nRequirement already satisfied: anyio<5,>=3.4.0 in /usr/local/lib/python3.9/site-packages (from starlette==0.23.1->-r /app/requirements.txt (line 2)) (3.6.2)\nRequirement already satisfied: websockets in /usr/local/lib/python3.9/site-packages (from yt-dlp==2022.11.11->-r /app/requirements.txt (line 3)) (10.4)\nCollecting brotli\n  Downloading Brotli-1.0.9-cp39-cp39-manylinux1_x86_64.whl (357 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 357.2/357.2 KB 23.9 MB/s eta 0:00:00\nCollecting mutagen\n  Downloading mutagen-1.46.0-py3-none-any.whl (193 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 193.6/193.6 KB 15.5 MB/s eta 0:00:00\nCollecting pycryptodomex\n  Downloading pycryptodomex-3.16.0-cp35-abi3-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (2.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.3/2.3 MB 49.7 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 14.9 MB/s eta 0:00:00\nRequirement already satisfied: idna>=2.8 in /usr/local/lib/python3.9/site-packages (from anyio<5,>=3.4.0->starlette==0.23.1->-r /app/requirements.txt (line 2)) (3.4)\nRequirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.9/site-packages (from anyio<5,>=3.4.0->starlette==0.23.1->-r /app/requirements.txt (line 2)) (1.3.0)\nInstalling collected packages: brotli, pycryptodomex, mutagen, MarkupSafe, certifi, yt-dlp, starlette, Jinja2\n  Attempting uninstall: starlette\n    Found existing installation: starlette 0.22.0\n    Uninstalling starlette-0.22.0:\n      Successfully uninstalled starlette-0.22.0\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 brotli-1.0.9 certifi-2022.12.7 mutagen-1.46.0 pycryptodomex-3.16.0 starlette-0.23.1 yt-dlp-2022.11.11\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e192d103f4fb\n ---> e214a1bf4ea8\nStep 7/8 : COPY templates/ /app/templates\n ---> d7e96b16d723\nStep 8/8 : COPY yaas.py /app/main.py\n ---> ea07ee13b863\nSuccessfully built ea07ee13b863\nSuccessfully tagged yaas:latest\n","stderr":"","imageSize":197678661},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":4,"columnEnd":40}}],"repairedDockerfile":"FROM tiangolo/uvicorn-gunicorn-starlette:python3.9-slim\n# Dokku-specific fixes\nENV FORWARDED_ALLOW_IPS='*'\nENV PORT=80\nEXPOSE 80\n\nCOPY requirements.txt /app\nRUN pip install --no-cache-dir -r /app/requirements.txt\nCOPY templates/ /app/templates\nCOPY yaas.py /app/main.py\n"},"repairedBuild":{"startTimestamp":1672731629147,"endTimestamp":1672731660980,"error":null,"stdout":"Sending build context to Docker daemon  114.7kB\r\r\nStep 1/8 : FROM tiangolo/uvicorn-gunicorn-starlette:python3.9-slim\n ---> 1417346015f0\nStep 2/8 : ENV FORWARDED_ALLOW_IPS='*'\n ---> Running in 285f4c4e8cdd\nRemoving intermediate container 285f4c4e8cdd\n ---> 0d81cff19cd5\nStep 3/8 : ENV PORT=80\n ---> Running in d7410804cb9a\nRemoving intermediate container d7410804cb9a\n ---> 9b371ea99fa5\nStep 4/8 : EXPOSE 80\n ---> Running in fd1f129bb230\nRemoving intermediate container fd1f129bb230\n ---> 306e0290cc28\nStep 5/8 : COPY requirements.txt /app\n ---> 3ea85f685ac6\nStep 6/8 : RUN pip install --no-cache-dir -r /app/requirements.txt\n ---> Running in fe7cd3e7d9bd\nCollecting Jinja2==3.1.2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 KB 84.7 MB/s eta 0:00:00\nCollecting starlette==0.23.1\n  Downloading starlette-0.23.1-py3-none-any.whl (64 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.5/64.5 KB 258.6 MB/s eta 0:00:00\nCollecting yt-dlp==2022.11.11\n  Downloading yt_dlp-2022.11.11-py2.py3-none-any.whl (2.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.8/2.8 MB 122.9 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nRequirement already satisfied: anyio<5,>=3.4.0 in /usr/local/lib/python3.9/site-packages (from starlette==0.23.1->-r /app/requirements.txt (line 2)) (3.6.2)\nRequirement already satisfied: typing-extensions>=3.10.0 in /usr/local/lib/python3.9/site-packages (from starlette==0.23.1->-r /app/requirements.txt (line 2)) (4.4.0)\nCollecting pycryptodomex\n  Downloading pycryptodomex-3.16.0-cp35-abi3-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (2.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.3/2.3 MB 126.9 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 283.5 MB/s eta 0:00:00\nRequirement already satisfied: websockets in /usr/local/lib/python3.9/site-packages (from yt-dlp==2022.11.11->-r /app/requirements.txt (line 3)) (10.4)\nCollecting mutagen\n  Downloading mutagen-1.46.0-py3-none-any.whl (193 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 193.6/193.6 KB 102.0 MB/s eta 0:00:00\nCollecting brotli\n  Downloading Brotli-1.0.9-cp39-cp39-manylinux1_x86_64.whl (357 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 357.2/357.2 KB 307.6 MB/s eta 0:00:00\nRequirement already satisfied: idna>=2.8 in /usr/local/lib/python3.9/site-packages (from anyio<5,>=3.4.0->starlette==0.23.1->-r /app/requirements.txt (line 2)) (3.4)\nRequirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.9/site-packages (from anyio<5,>=3.4.0->starlette==0.23.1->-r /app/requirements.txt (line 2)) (1.3.0)\nInstalling collected packages: brotli, pycryptodomex, mutagen, MarkupSafe, certifi, yt-dlp, starlette, Jinja2\n  Attempting uninstall: starlette\n    Found existing installation: starlette 0.22.0\n    Uninstalling starlette-0.22.0:\n      Successfully uninstalled starlette-0.22.0\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 brotli-1.0.9 certifi-2022.12.7 mutagen-1.46.0 pycryptodomex-3.16.0 starlette-0.23.1 yt-dlp-2022.11.11\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container fe7cd3e7d9bd\n ---> 484d0542c522\nStep 7/8 : COPY templates/ /app/templates\n ---> 5bffdd426f3c\nStep 8/8 : COPY yaas.py /app/main.py\n ---> 2f61e09b3716\nSuccessfully built 2f61e09b3716\nSuccessfully tagged yaas:latest\n","stderr":"","imageSize":191421823},"endTime":1672731661303}