{"repository":"https://github.com/pion/ion-avp","dockerfilePath":"Dockerfile","startTime":1672504388842,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pion/ion-avp'...\n","error":null,"commit":"513762fc3cf6d6800ecb4381d1903a4a7e453a55"},"originalBuild":{"startTimestamp":1672504389673,"endTimestamp":1672504676569,"error":null,"stdout":"Sending build context to Docker daemon  201.2kB\r\r\nStep 1/19 : FROM golang:1.15.7-buster\n1.15.7-buster: Pulling from library/golang\nb9a857cbf04d: Pulling fs layer\nd557ee20540b: Pulling fs layer\n3b9ca4f00c2e: Pulling fs layer\n667fd949ed93: Pulling fs layer\n547cc43be03d: Pulling fs layer\n24188b84129f: Pulling fs layer\n6d02d3e4bfed: Pulling fs layer\n667fd949ed93: Waiting\n24188b84129f: Waiting\n6d02d3e4bfed: Waiting\n547cc43be03d: Waiting\n3b9ca4f00c2e: Verifying Checksum\n3b9ca4f00c2e: Download complete\nd557ee20540b: Verifying Checksum\nd557ee20540b: Download complete\nb9a857cbf04d: Verifying Checksum\nb9a857cbf04d: Download complete\n667fd949ed93: Verifying Checksum\n667fd949ed93: Download complete\n547cc43be03d: Verifying Checksum\n547cc43be03d: Download complete\n6d02d3e4bfed: Verifying Checksum\n6d02d3e4bfed: Download complete\n24188b84129f: Verifying Checksum\n24188b84129f: Download complete\nb9a857cbf04d: Pull complete\nd557ee20540b: Pull complete\n3b9ca4f00c2e: Pull complete\n667fd949ed93: Pull complete\n547cc43be03d: Pull complete\n24188b84129f: Pull complete\n6d02d3e4bfed: Pull complete\nDigest: sha256:83b4fd9355ba9ff2d0c78cdf6fc485f739a2834c27e3160a5026faf66f4f5913\nStatus: Downloaded newer image for golang:1.15.7-buster\n ---> 3360fba69704\nStep 2/19 : ENV GO111MODULE=on\n ---> Running in b48abf09310c\nRemoving intermediate container b48abf09310c\n ---> 45952720bc2a\nStep 3/19 : RUN echo \"deb http://www.deb-multimedia.org buster main\" >> /etc/apt/sources.list\n ---> Running in ba8e034f5b5a\nRemoving intermediate container ba8e034f5b5a\n ---> 66b2b61b5e5c\nStep 4/19 : RUN wget https://www.deb-multimedia.org/pool/main/d/deb-multimedia-keyring/deb-multimedia-keyring_2016.8.1_all.deb\n ---> Running in 582cd738a476\n\u001b[91m--2022-12-31 16:34:04--  https://www.deb-multimedia.org/pool/main/d/deb-multimedia-keyring/deb-multimedia-keyring_2016.8.1_all.deb\n\u001b[0m\u001b[91mResolving www.deb-multimedia.org (www.deb-multimedia.org)... \u001b[0m\u001b[91m91.121.146.196, 2001:41d0:1:c3c4::1\nConnecting to www.deb-multimedia.org (www.deb-multimedia.org)|91.121.146.196|:443... \u001b[0m\u001b[91mconnected.\n\u001b[0m\u001b[91mHTTP request sent, awaiting response... \u001b[0m\u001b[91m200 OK\nLength: 10658 (10K) [application/vnd.debian.binary-package]\n\u001b[0m\u001b[91mSaving to: 'deb-multimedia-keyring_2016.8.1_all.deb'\n\u001b[0m\u001b[91m\n     0K .......\u001b[0m\u001b[91m...                              \u001b[0m\u001b[91m              100%\u001b[0m\u001b[91m 57.0M\u001b[0m\u001b[91m=0s\n\n\u001b[0m\u001b[91m2022-12-31 16:34:04 (57.0 MB/s) - 'deb-multimedia-keyring_2016.8.1_all.deb' saved [10658/10658]\n\n\u001b[0mRemoving intermediate container 582cd738a476\n ---> be94450324aa\nStep 5/19 : RUN dpkg -i deb-multimedia-keyring_2016.8.1_all.deb\n ---> Running in 8119d6765c6d\nSelecting previously unselected package deb-multimedia-keyring.\n(Reading database ... 15410 files and directories currently installed.)\nPreparing to unpack deb-multimedia-keyring_2016.8.1_all.deb ...\nUnpacking deb-multimedia-keyring (2016.8.1) ...\nSetting up deb-multimedia-keyring (2016.8.1) ...\nRemoving intermediate container 8119d6765c6d\n ---> 0b87e30efac5\nStep 6/19 : RUN apt-get update && apt-get install -y     libvpx-dev\n ---> Running in 90e5068300f8\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://www.deb-multimedia.org buster InRelease [17.8 kB]\nGet:5 http://security.debian.org/debian-security buster/updates/main amd64 Packages [419 kB]\nGet:6 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:7 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nGet:8 http://www.deb-multimedia.org buster/main amd64 Packages [120 kB]\nFetched 8687 kB in 2s (4846 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libvpx6\nThe following NEW packages will be installed:\n  libvpx-dev libvpx6\n0 upgraded, 2 newly installed, 0 to remove and 68 not upgraded.\nNeed to get 1857 kB of archives.\nAfter this operation, 6349 kB of additional disk space will be used.\nGet:1 http://www.deb-multimedia.org buster/main amd64 libvpx6 amd64 1.8.1-dmo1+deb10u1 [859 kB]\nGet:2 http://www.deb-multimedia.org buster/main amd64 libvpx-dev amd64 1.8.1-dmo1+deb10u1 [998 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1857 kB in 0s (4364 kB/s)\nSelecting previously unselected package libvpx6:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15414 files and directories currently installed.)\r\nPreparing to unpack .../libvpx6_1.8.1-dmo1+deb10u1_amd64.deb ...\r\nUnpacking libvpx6:amd64 (1.8.1-dmo1+deb10u1) ...\r\nSelecting previously unselected package libvpx-dev:amd64.\r\nPreparing to unpack .../libvpx-dev_1.8.1-dmo1+deb10u1_amd64.deb ...\r\nUnpacking libvpx-dev:amd64 (1.8.1-dmo1+deb10u1) ...\r\nSetting up libvpx6:amd64 (1.8.1-dmo1+deb10u1) ...\r\nSetting up libvpx-dev:amd64 (1.8.1-dmo1+deb10u1) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nRemoving intermediate container 90e5068300f8\n ---> d6df54a76576\nStep 7/19 : WORKDIR $GOPATH/src/github.com/pion/ion-avp\n ---> Running in 3db505e96ac0\nRemoving intermediate container 3db505e96ac0\n ---> f8a15c4892a3\nStep 8/19 : COPY go.mod go.sum ./\n ---> 3af2575cfda3\nStep 9/19 : RUN cd $GOPATH/src/github.com/pion/ion-avp && go mod download\n ---> Running in f8e77a6d95c5\nRemoving intermediate container f8e77a6d95c5\n ---> 3b7829f04ef3\nStep 10/19 : COPY pkg/ $GOPATH/src/github.com/pion/ion-avp/pkg\n ---> 31befa034bca\nStep 11/19 : COPY cmd/ $GOPATH/src/github.com/pion/ion-avp/cmd\n ---> bc9f96c8c58b\nStep 12/19 : WORKDIR $GOPATH/src/github.com/pion/ion-avp/cmd/signal/grpc\n ---> Running in 99f89246050c\nRemoving intermediate container 99f89246050c\n ---> 63d4fcadb392\nStep 13/19 : RUN GOOS=linux go build -ldflags '-linkmode \"external\" -extldflags \"-static\"' -tags libvpx -a -installsuffix cgo -o /avp .\n ---> Running in 9c96bf3010d3\n\u001b[91m# github.com/pion/ion-avp/cmd/signal/grpc\n/usr/bin/ld: /tmp/go-link-504257879/000004.o: in function `_cgo_26061493d47f_C2func_getaddrinfo':\n/tmp/go-build/cgo-gcc-prolog:58: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n\u001b[0mRemoving intermediate container 9c96bf3010d3\n ---> c3fdd7373fac\nStep 14/19 : FROM alpine:3.13.0\n3.13.0: Pulling from library/alpine\n596ba82af5aa: Pulling fs layer\n596ba82af5aa: Verifying Checksum\n596ba82af5aa: Download complete\n596ba82af5aa: Pull complete\nDigest: sha256:d9a7354e3845ea8466bb00b22224d9116b183e594527fb5b6c3d30bc01a20378\nStatus: Downloaded newer image for alpine:3.13.0\n ---> 7731472c3f2a\nStep 15/19 : RUN apk --no-cache add ca-certificates libvpx-dev\n ---> Running in ac37c443ab2d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20220614-r0)\n(2/4) Installing libvpx (1.9.0-r0)\n(3/4) Installing pkgconf (1.7.3-r0)\n(4/4) Installing libvpx-dev (1.9.0-r0)\nExecuting busybox-1.32.1-r0.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 9 MiB in 18 packages\nRemoving intermediate container ac37c443ab2d\n ---> 24997db6f008\nStep 16/19 : COPY --from=0 /avp /usr/local/bin/avp\n ---> ceed9a2870d7\nStep 17/19 : COPY config.toml /configs/avp.toml\n ---> 54b1fcbb80cf\nStep 18/19 : ENTRYPOINT [\"/usr/local/bin/avp\"]\n ---> Running in 5dc206bb87b6\nRemoving intermediate container 5dc206bb87b6\n ---> dc8cec472e3a\nStep 19/19 : CMD [\"-c\", \"/configs/avp.toml\"]\n ---> Running in 0415dd36ef72\nRemoving intermediate container 0415dd36ef72\n ---> 7696be9b25cb\nSuccessfully built 7696be9b25cb\nSuccessfully tagged ion-avp:latest\n","stderr":"","imageSize":29376590},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":8,"end":9,"columnStart":22,"columnEnd":14}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":8,"end":9,"columnStart":22,"columnEnd":14}}],"repairedDockerfile":"FROM golang:1.15.7-buster\n\nENV GO111MODULE=on\n\nRUN echo \"deb http://www.deb-multimedia.org buster main\" >> /etc/apt/sources.list\nRUN wget https://www.deb-multimedia.org/pool/main/d/deb-multimedia-keyring/deb-multimedia-keyring_2016.8.1_all.deb\nRUN dpkg -i deb-multimedia-keyring_2016.8.1_all.deb\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    libvpx-dev\n\nWORKDIR $GOPATH/src/github.com/pion/ion-avp\n\nCOPY go.mod go.sum ./\nRUN cd $GOPATH/src/github.com/pion/ion-avp && go mod download\n\nCOPY pkg/ $GOPATH/src/github.com/pion/ion-avp/pkg\nCOPY cmd/ $GOPATH/src/github.com/pion/ion-avp/cmd\n\nWORKDIR $GOPATH/src/github.com/pion/ion-avp/cmd/signal/grpc\nRUN GOOS=linux go build -ldflags '-linkmode \"external\" -extldflags \"-static\"' -tags libvpx -a -installsuffix cgo -o /avp .\n\nFROM alpine:3.13.0\n\nRUN apk --no-cache add ca-certificates libvpx-dev\nCOPY --from=0 /avp /usr/local/bin/avp\n\nCOPY config.toml /configs/avp.toml\n\nENTRYPOINT [\"/usr/local/bin/avp\"]\nCMD [\"-c\", \"/configs/avp.toml\"]\n"},"repairedBuild":{"startTimestamp":1672504677023,"endTimestamp":1672504948370,"error":null,"stdout":"Sending build context to Docker daemon  201.2kB\r\r\nStep 1/19 : FROM golang:1.15.7-buster\n ---> 3360fba69704\nStep 2/19 : ENV GO111MODULE=on\n ---> Running in 9d85aead8cad\nRemoving intermediate container 9d85aead8cad\n ---> 99d41de6046e\nStep 3/19 : RUN echo \"deb http://www.deb-multimedia.org buster main\" >> /etc/apt/sources.list\n ---> Running in c1c045a49082\nRemoving intermediate container c1c045a49082\n ---> 43f8a8a49e73\nStep 4/19 : RUN wget https://www.deb-multimedia.org/pool/main/d/deb-multimedia-keyring/deb-multimedia-keyring_2016.8.1_all.deb\n ---> Running in 356dc30e1bfd\n\u001b[91m--2022-12-31 16:38:05--  https://www.deb-multimedia.org/pool/main/d/deb-multimedia-keyring/deb-multimedia-keyring_2016.8.1_all.deb\n\u001b[0m\u001b[91mResolving www.deb-multimedia.org (www.deb-multimedia.org)... \u001b[0m\u001b[91m91.121.146.196, 2001:41d0:1:c3c4::1\nConnecting to www.deb-multimedia.org (www.deb-multimedia.org)|91.121.146.196|:443... \u001b[0m\u001b[91mconnected.\n\u001b[0m\u001b[91mHTTP request sent, awaiting response... \u001b[0m\u001b[91m200 OK\nLength: 10658 (10K) [application/vnd.debian.binary-package]\n\u001b[0m\u001b[91mSaving to: 'deb-multimedia-keyring_2016.8.1_all.deb'\n\u001b[0m\u001b[91m\n     0K .......\u001b[0m\u001b[91m...               \u001b[0m\u001b[91m         \u001b[0m\u001b[91m        \u001b[0m\u001b[91m            100% 27.1M\u001b[0m\u001b[91m=0s\n\n\u001b[0m\u001b[91m2022-12-31 16:38:06 (27.1 MB/s) - 'deb-multimedia-keyring_2016.8.1_all.deb' saved [10658/10658]\n\n\u001b[0mRemoving intermediate container 356dc30e1bfd\n ---> 5cf8a7cad501\nStep 5/19 : RUN dpkg -i deb-multimedia-keyring_2016.8.1_all.deb\n ---> Running in 9e563a3a0a6b\nSelecting previously unselected package deb-multimedia-keyring.\n(Reading database ... 15410 files and directories currently installed.)\nPreparing to unpack deb-multimedia-keyring_2016.8.1_all.deb ...\nUnpacking deb-multimedia-keyring (2016.8.1) ...\nSetting up deb-multimedia-keyring (2016.8.1) ...\nRemoving intermediate container 9e563a3a0a6b\n ---> e28630fed152\nStep 6/19 : RUN apt-get update && apt-get install --no-install-recommends -y     libvpx-dev\n ---> Running in d71506432b04\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://www.deb-multimedia.org buster InRelease [17.8 kB]\nGet:5 http://security.debian.org/debian-security buster/updates/main amd64 Packages [419 kB]\nGet:6 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:7 http://www.deb-multimedia.org buster/main amd64 Packages [120 kB]\nGet:8 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8687 kB in 2s (4059 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libvpx6\nThe following NEW packages will be installed:\n  libvpx-dev libvpx6\n0 upgraded, 2 newly installed, 0 to remove and 68 not upgraded.\nNeed to get 1857 kB of archives.\nAfter this operation, 6349 kB of additional disk space will be used.\nGet:1 http://www.deb-multimedia.org buster/main amd64 libvpx6 amd64 1.8.1-dmo1+deb10u1 [859 kB]\nGet:2 http://www.deb-multimedia.org buster/main amd64 libvpx-dev amd64 1.8.1-dmo1+deb10u1 [998 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1857 kB in 0s (5306 kB/s)\nSelecting previously unselected package libvpx6:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15414 files and directories currently installed.)\r\nPreparing to unpack .../libvpx6_1.8.1-dmo1+deb10u1_amd64.deb ...\r\nUnpacking libvpx6:amd64 (1.8.1-dmo1+deb10u1) ...\r\nSelecting previously unselected package libvpx-dev:amd64.\r\nPreparing to unpack .../libvpx-dev_1.8.1-dmo1+deb10u1_amd64.deb ...\r\nUnpacking libvpx-dev:amd64 (1.8.1-dmo1+deb10u1) ...\r\nSetting up libvpx6:amd64 (1.8.1-dmo1+deb10u1) ...\r\nSetting up libvpx-dev:amd64 (1.8.1-dmo1+deb10u1) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nRemoving intermediate container d71506432b04\n ---> dc32a05f035b\nStep 7/19 : WORKDIR $GOPATH/src/github.com/pion/ion-avp\n ---> Running in a22db4a6a59a\nRemoving intermediate container a22db4a6a59a\n ---> 7ec17168ca95\nStep 8/19 : COPY go.mod go.sum ./\n ---> 1d7fe2f18362\nStep 9/19 : RUN cd $GOPATH/src/github.com/pion/ion-avp && go mod download\n ---> Running in d21f7bfb0edc\nRemoving intermediate container d21f7bfb0edc\n ---> 33dbb28977b7\nStep 10/19 : COPY pkg/ $GOPATH/src/github.com/pion/ion-avp/pkg\n ---> b7992aa42ba1\nStep 11/19 : COPY cmd/ $GOPATH/src/github.com/pion/ion-avp/cmd\n ---> 94bd3f75e7a6\nStep 12/19 : WORKDIR $GOPATH/src/github.com/pion/ion-avp/cmd/signal/grpc\n ---> Running in bc36c4b91b53\nRemoving intermediate container bc36c4b91b53\n ---> f9884beb8d67\nStep 13/19 : RUN GOOS=linux go build -ldflags '-linkmode \"external\" -extldflags \"-static\"' -tags libvpx -a -installsuffix cgo -o /avp .\n ---> Running in 1f54f239a20d\n\u001b[91m# github.com/pion/ion-avp/cmd/signal/grpc\n/usr/bin/ld: /tmp/go-link-878644505/000004.o: in function `_cgo_26061493d47f_C2func_getaddrinfo':\n/tmp/go-build/cgo-gcc-prolog:58: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n\u001b[0mRemoving intermediate container 1f54f239a20d\n ---> cd2a11b60082\nStep 14/19 : FROM alpine:3.13.0\n ---> 7731472c3f2a\nStep 15/19 : RUN apk --no-cache add ca-certificates libvpx-dev\n ---> Running in 6c77a4b257e4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20220614-r0)\n(2/4) Installing libvpx (1.9.0-r0)\n(3/4) Installing pkgconf (1.7.3-r0)\n(4/4) Installing libvpx-dev (1.9.0-r0)\nExecuting busybox-1.32.1-r0.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 9 MiB in 18 packages\nRemoving intermediate container 6c77a4b257e4\n ---> d2cac29c0e4a\nStep 16/19 : COPY --from=0 /avp /usr/local/bin/avp\n ---> bdce06b16d78\nStep 17/19 : COPY config.toml /configs/avp.toml\n ---> 920b11856825\nStep 18/19 : ENTRYPOINT [\"/usr/local/bin/avp\"]\n ---> Running in 6c32800753de\nRemoving intermediate container 6c32800753de\n ---> 10c20044640c\nStep 19/19 : CMD [\"-c\", \"/configs/avp.toml\"]\n ---> Running in 6cdbecb6b30d\nRemoving intermediate container 6cdbecb6b30d\n ---> 56194a6a9364\nSuccessfully built 56194a6a9364\nSuccessfully tagged ion-avp:latest\n","stderr":"","imageSize":29376590},"endTime":1672504948628}