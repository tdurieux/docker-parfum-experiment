{"repository":"https://github.com/southclaws/cj","dockerfilePath":"Dockerfile","startTime":1672881695334,"endTime":1672881772633,"clone":{"startTime":1672881695335,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/southclaws/cj'...\n","error":null,"endTime":1672881696109,"commit":"7ded3dabd0466a4eb36471e0f1dee6026377bfaf"},"originalBuild":{"startTime":1672881696198,"endTime":1672881744502,"error":null,"stdout":"Sending build context to Docker daemon  572.9kB\r\r\nStep 1/9 : FROM golang:1.16 AS compile\n1.16: Pulling from library/golang\ne4d61adff207: Already exists\n4ff1945c672b: Already exists\nff5b10aec998: Already exists\n12de8c754e45: Already exists\n8c86ff77a317: Pulling fs layer\n0395a1c478ba: Pulling fs layer\n245345d44ed8: Pulling fs layer\n245345d44ed8: Verifying Checksum\n245345d44ed8: Download complete\n8c86ff77a317: Verifying Checksum\n8c86ff77a317: Download complete\n0395a1c478ba: Verifying Checksum\n0395a1c478ba: Download complete\n8c86ff77a317: Pull complete\n0395a1c478ba: Pull complete\n245345d44ed8: Pull complete\nDigest: sha256:5f6a4662de3efc6d6bb812d02e9de3d8698eea16b8eb7281f03e6f3e8383018e\nStatus: Downloaded newer image for golang:1.16\n ---> 972d8c0bc0fc\nStep 2/9 : RUN apt-get update -y && apt-get install --no-install-recommends -y -q build-essential ca-certificates\n ---> Running in 68aa1d9e7ece\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (4970 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\nThe following additional packages will be installed:\n  bzip2 dpkg-dev libdpkg-perl patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring bzr ed diffutils-doc\nRecommended packages:\n  fakeroot libalgorithm-merge-perl libfile-fcntllock-perl\n  liblocale-gettext-perl\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev patch xz-utils\nThe following packages will be upgraded:\n  libdpkg-perl\n1 upgraded, 5 newly installed, 0 to remove and 47 not upgraded.\nNeed to get 4268 kB of archives.\nAfter this operation, 3766 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 bzip2 amd64 1.0.8-4 [49.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 xz-utils amd64 5.2.5-2.1~deb11u1 [220 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libdpkg-perl all 1.20.12 [1551 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 patch amd64 2.7.6-7 [128 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 dpkg-dev all 1.20.12 [2312 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 4268 kB in 0s (61.8 MB/s)\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15709 files and directories currently installed.)\r\nPreparing to unpack .../0-bzip2_1.0.8-4_amd64.deb ...\r\nUnpacking bzip2 (1.0.8-4) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../1-xz-utils_5.2.5-2.1~deb11u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.5-2.1~deb11u1) ...\r\nPreparing to unpack .../2-libdpkg-perl_1.20.12_all.deb ...\r\nUnpacking libdpkg-perl (1.20.12) over (1.20.9) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../3-patch_2.7.6-7_amd64.deb ...\r\nUnpacking patch (2.7.6-7) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../4-dpkg-dev_1.20.12_all.deb ...\r\nUnpacking dpkg-dev (1.20.12) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../5-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSetting up bzip2 (1.0.8-4) ...\r\nSetting up xz-utils (5.2.5-2.1~deb11u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-7) ...\r\nSetting up libdpkg-perl (1.20.12) ...\r\nSetting up dpkg-dev (1.20.12) ...\r\nSetting up build-essential (12.9) ...\r\nRemoving intermediate container 68aa1d9e7ece\n ---> 2e0e5f03cca3\nStep 3/9 : WORKDIR /cj\n ---> Running in 4712c59be63b\nRemoving intermediate container 4712c59be63b\n ---> ea00066a1b21\nStep 4/9 : ADD . .\n ---> 03e40f0001ee\nStep 5/9 : RUN make static\n ---> Running in 43c542d64843\nCGO_ENABLED=0 GOOS=linux go build -a -ldflags \"-X main.version=7ded3da\" -o cj .\n\u001b[91mgo: downloading github.com/joho/godotenv v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/kelseyhightower/envconfig v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v28 v28.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/bwmarrin/discordgo v0.23.3-0.20210515023446-8dc42757bea5\n\u001b[0m\u001b[91mgo: downloading go.uber.org/zap v1.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/globalsign/mgo v0.0.0-20181015135952-eeefdecb41b8\n\u001b[0m\u001b[91mgo: downloading github.com/patrickmn/go-cache v2.1.0+incompatible\n\u001b[0m\u001b[91mgo: downloading gopkg.in/xmlpath.v2 v2.0.0-20150820204837-860cbeca3ebc\n\u001b[0m\u001b[91mgo: downloading github.com/kristoisberg/gonesyntees v0.0.0-20190527174556-0595a02f9399\n\u001b[0m\u001b[91mgo: downloading github.com/Bios-Marcel/discordemojimap v1.0.1\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.7.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/multierr v1.7.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210513164829-c07d793c2f9a\ngo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210510120150-4163338589ed\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.4.2\n\u001b[0mRemoving intermediate container 43c542d64843\n ---> 3db55c24f84f\nStep 6/9 : FROM scratch\n ---> \nStep 7/9 : COPY --from=compile /cj/cj /bin/cj\n ---> c05342117f50\nStep 8/9 : COPY --from=compile /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> bd1c1c7d4a78\nStep 9/9 : ENTRYPOINT [\"cj\"]\n ---> Running in 1377729a16be\nRemoving intermediate container 1377729a16be\n ---> 901379cba288\nSuccessfully built 901379cba288\nSuccessfully tagged cj:latest\n","stderr":"","imageSize":10545372},"repair":{"startTime":1672881744578,"endTime":1672881744660,"violations":[{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":5,"end":5,"columnStart":25,"columnEnd":102}}],"repairedDockerfile":"# -\n# Build workspace\n# -\nFROM golang:1.16 AS compile\n\nRUN apt-get update -y && apt-get install --no-install-recommends -y -q build-essential ca-certificates && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR /cj\nADD . .\nRUN make static\n\n# -\n# Runtime\n# -\nFROM scratch\n\nCOPY --from=compile /cj/cj /bin/cj\nCOPY --from=compile /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n\nENTRYPOINT [\"cj\"]\n"},"repairedBuild":{"startTime":1672881744770,"endTime":1672881772306,"error":null,"stdout":"Sending build context to Docker daemon  572.9kB\r\r\nStep 1/9 : FROM golang:1.16 AS compile\n ---> 972d8c0bc0fc\nStep 2/9 : RUN apt-get update -y && apt-get install --no-install-recommends -y -q build-essential ca-certificates && rm -rf /var/lib/apt/lists/*;\n ---> Running in 01f36c2ec64e\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6871 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\nThe following additional packages will be installed:\n  bzip2 dpkg-dev libdpkg-perl patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring bzr ed diffutils-doc\nRecommended packages:\n  fakeroot libalgorithm-merge-perl libfile-fcntllock-perl\n  liblocale-gettext-perl\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev patch xz-utils\nThe following packages will be upgraded:\n  libdpkg-perl\n1 upgraded, 5 newly installed, 0 to remove and 47 not upgraded.\nNeed to get 4268 kB of archives.\nAfter this operation, 3766 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 bzip2 amd64 1.0.8-4 [49.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 xz-utils amd64 5.2.5-2.1~deb11u1 [220 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libdpkg-perl all 1.20.12 [1551 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 patch amd64 2.7.6-7 [128 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 dpkg-dev all 1.20.12 [2312 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 4268 kB in 0s (76.4 MB/s)\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15709 files and directories currently installed.)\r\nPreparing to unpack .../0-bzip2_1.0.8-4_amd64.deb ...\r\nUnpacking bzip2 (1.0.8-4) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../1-xz-utils_5.2.5-2.1~deb11u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.5-2.1~deb11u1) ...\r\nPreparing to unpack .../2-libdpkg-perl_1.20.12_all.deb ...\r\nUnpacking libdpkg-perl (1.20.12) over (1.20.9) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../3-patch_2.7.6-7_amd64.deb ...\r\nUnpacking patch (2.7.6-7) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../4-dpkg-dev_1.20.12_all.deb ...\r\nUnpacking dpkg-dev (1.20.12) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../5-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSetting up bzip2 (1.0.8-4) ...\r\nSetting up xz-utils (5.2.5-2.1~deb11u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-7) ...\r\nSetting up libdpkg-perl (1.20.12) ...\r\nSetting up dpkg-dev (1.20.12) ...\r\nSetting up build-essential (12.9) ...\r\nRemoving intermediate container 01f36c2ec64e\n ---> 63d002336a1f\nStep 3/9 : WORKDIR /cj\n ---> Running in b1e18afc3bca\nRemoving intermediate container b1e18afc3bca\n ---> f14c7cbfd6d7\nStep 4/9 : ADD . .\n ---> eafcf83e71bc\nStep 5/9 : RUN make static\n ---> Running in ed3228cb6444\nCGO_ENABLED=0 GOOS=linux go build -a -ldflags \"-X main.version=7ded3da-dirty\" -o cj .\n\u001b[91mgo: downloading github.com/joho/godotenv v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/kelseyhightower/envconfig v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v28 v28.1.1\n\u001b[0m\u001b[91mgo: downloading go.uber.org/zap v1.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/bwmarrin/discordgo v0.23.3-0.20210515023446-8dc42757bea5\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/globalsign/mgo v0.0.0-20181015135952-eeefdecb41b8\n\u001b[0m\u001b[91mgo: downloading github.com/patrickmn/go-cache v2.1.0+incompatible\n\u001b[0m\u001b[91mgo: downloading gopkg.in/xmlpath.v2 v2.0.0-20150820204837-860cbeca3ebc\n\u001b[0m\u001b[91mgo: downloading github.com/kristoisberg/gonesyntees v0.0.0-20190527174556-0595a02f9399\n\u001b[0m\u001b[91mgo: downloading github.com/Bios-Marcel/discordemojimap v1.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210510120150-4163338589ed\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210513164829-c07d793c2f9a\ngo: downloading github.com/gorilla/websocket v1.4.2\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.7.0\ngo: downloading go.uber.org/multierr v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0mRemoving intermediate container ed3228cb6444\n ---> 247d1830e3da\nStep 6/9 : FROM scratch\n ---> \nStep 7/9 : COPY --from=compile /cj/cj /bin/cj\n ---> e0bc3bf5b9dd\nStep 8/9 : COPY --from=compile /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> 408f9a053cd3\nStep 9/9 : ENTRYPOINT [\"cj\"]\n ---> Running in c042b8b25959\nRemoving intermediate container c042b8b25959\n ---> 92228ce6b4e6\nSuccessfully built 92228ce6b4e6\nSuccessfully tagged cj:latest\n","stderr":"","imageSize":10545372}}