{"repository":"https://github.com/mike-grant/haaska","dockerfilePath":"Dockerfile","startTime":1672630344932,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mike-grant/haaska'...\n","error":null,"commit":"9c2110c4ff3b8e655cb7afcc2169c1f41b088486"},"originalBuild":{"startTimestamp":1672630345757,"endTimestamp":1672630394037,"error":null,"stdout":"Sending build context to Docker daemon  327.7kB\r\r\nStep 1/6 : FROM python:3.10\n ---> 3aae3bded9cf\nStep 2/6 : RUN   apt-get update &&   apt-get install -y jq zip &&   pip install awscli &&   apt-get clean &&   cd /var/lib/apt/lists && rm -fr *Release* *Sources* *Packages* &&   truncate -s 0 /var/log/*log\n ---> Running in 4b35a09aa028\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6209 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libjq1 libonig5\nThe following NEW packages will be installed:\n  jq libjq1 libonig5 zip\n0 upgraded, 4 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 617 kB of archives.\nAfter this operation, 1786 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libonig5 amd64 6.9.6-1.1 [185 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libjq1 amd64 1.6-2.1 [135 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 jq amd64 1.6-2.1 [64.9 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 zip amd64 3.0-12 [232 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 617 kB in 0s (18.4 MB/s)\nSelecting previously unselected package libonig5:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../libonig5_6.9.6-1.1_amd64.deb ...\r\nUnpacking libonig5:amd64 (6.9.6-1.1) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../libjq1_1.6-2.1_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.6-2.1) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../archives/jq_1.6-2.1_amd64.deb ...\r\nUnpacking jq (1.6-2.1) ...\r\nSelecting previously unselected package zip.\r\nPreparing to unpack .../archives/zip_3.0-12_amd64.deb ...\r\nUnpacking zip (3.0-12) ...\r\nSetting up zip (3.0-12) ...\r\nSetting up libonig5:amd64 (6.9.6-1.1) ...\r\nSetting up libjq1:amd64 (1.6-2.1) ...\r\nSetting up jq (1.6-2.1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nCollecting awscli\n  Downloading awscli-1.27.41-py3-none-any.whl (4.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.0/4.0 MB 24.3 MB/s eta 0:00:00\nCollecting docutils<0.17,>=0.10\n  Downloading docutils-0.16-py2.py3-none-any.whl (548 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 548.2/548.2 kB 11.1 MB/s eta 0:00:00\nCollecting colorama<0.4.5,>=0.2.5\n  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)\nCollecting rsa<4.8,>=3.1.2\n  Downloading rsa-4.7.2-py3-none-any.whl (34 kB)\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 kB 771.0 kB/s eta 0:00:00\nCollecting botocore==1.29.41\n  Downloading botocore-1.29.41-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 37.6 MB/s eta 0:00:00\nCollecting PyYAML<5.5,>=3.10\n  Downloading PyYAML-5.4.1.tar.gz (175 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 175.1/175.1 kB 901.9 kB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 7.2 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 25.3 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting pyasn1>=0.1.3\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.1/77.1 kB 8.7 MB/s eta 0:00:00\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (pyproject.toml): started\n  Building wheel for PyYAML (pyproject.toml): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.4.1-cp310-cp310-linux_x86_64.whl size=561983 sha256=1b7accdf3adf243687ddf7cfa516880cc110c8e0d961d673d09d70747e705625\n  Stored in directory: /root/.cache/pip/wheels/10/3f/c1/6feec52270653969575b83de934b04be56d7a9e961be5041ea\nSuccessfully built PyYAML\nInstalling collected packages: pyasn1, urllib3, six, rsa, PyYAML, jmespath, docutils, colorama, python-dateutil, botocore, s3transfer, awscli\nSuccessfully installed PyYAML-5.4.1 awscli-1.27.41 botocore-1.29.41 colorama-0.4.4 docutils-0.16 jmespath-1.0.1 pyasn1-0.4.8 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 4b35a09aa028\n ---> 8fb4f8fc0724\nStep 3/6 : RUN mkdir -p /usr/src/app\n ---> Running in 8b5f89cfce82\nRemoving intermediate container 8b5f89cfce82\n ---> c548579f90f3\nStep 4/6 : WORKDIR /usr/src/app\n ---> Running in 34793deb00f9\nRemoving intermediate container 34793deb00f9\n ---> b40d1fdff713\nStep 5/6 : COPY . /usr/src/app\n ---> 56f11ddce7d6\nStep 6/6 : CMD [\"make\"]\n ---> Running in c36cdda9851d\nRemoving intermediate container c36cdda9851d\n ---> 4635646251f0\nSuccessfully built 4635646251f0\nSuccessfully tagged haaska:latest\n","stderr":"","imageSize":1044288129},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":2,"columnEnd":20}},{"name":"mkdirUsrSrcThenRemove","position":{"start":10,"end":10,"columnStart":4,"columnEnd":25}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":2,"columnEnd":27}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":4,"columnStart":2,"columnEnd":27}}],"repairedDockerfile":"FROM python:3.10\n\nRUN \\\n  apt-get update && \\\n  apt-get install --no-install-recommends -y jq zip && \\\n  pip install --no-cache-dir awscli && \\\n  apt-get clean && \\\n  cd /var/lib/apt/lists && rm -fr *Release* *Sources* *Packages* && \\\n  truncate -s 0 /var/log/*log\n\nRUN mkdir -p /usr/src/app\n\nWORKDIR /usr/src/app\n\nCOPY . /usr/src/app\n\nCMD [\"make\"]\n"},"repairedBuild":{"startTimestamp":1672630394539,"endTimestamp":1672630436383,"error":null,"stdout":"Sending build context to Docker daemon  327.7kB\r\r\nStep 1/6 : FROM python:3.10\n ---> 3aae3bded9cf\nStep 2/6 : RUN   apt-get update &&   apt-get install --no-install-recommends -y jq zip &&   pip install --no-cache-dir awscli &&   apt-get clean &&   cd /var/lib/apt/lists && rm -fr *Release* *Sources* *Packages* &&   truncate -s 0 /var/log/*log\n ---> Running in 2ee1dd4ffbe1\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6855 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libjq1 libonig5\nThe following NEW packages will be installed:\n  jq libjq1 libonig5 zip\n0 upgraded, 4 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 617 kB of archives.\nAfter this operation, 1786 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libonig5 amd64 6.9.6-1.1 [185 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libjq1 amd64 1.6-2.1 [135 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 jq amd64 1.6-2.1 [64.9 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 zip amd64 3.0-12 [232 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 617 kB in 0s (19.3 MB/s)\nSelecting previously unselected package libonig5:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../libonig5_6.9.6-1.1_amd64.deb ...\r\nUnpacking libonig5:amd64 (6.9.6-1.1) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../libjq1_1.6-2.1_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.6-2.1) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../archives/jq_1.6-2.1_amd64.deb ...\r\nUnpacking jq (1.6-2.1) ...\r\nSelecting previously unselected package zip.\r\nPreparing to unpack .../archives/zip_3.0-12_amd64.deb ...\r\nUnpacking zip (3.0-12) ...\r\nSetting up zip (3.0-12) ...\r\nSetting up libonig5:amd64 (6.9.6-1.1) ...\r\nSetting up libjq1:amd64 (1.6-2.1) ...\r\nSetting up jq (1.6-2.1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nCollecting awscli\n  Downloading awscli-1.27.41-py3-none-any.whl (4.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.0/4.0 MB 112.4 MB/s eta 0:00:00\nCollecting botocore==1.29.41\n  Downloading botocore-1.29.41-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 118.1 MB/s eta 0:00:00\nCollecting PyYAML<5.5,>=3.10\n  Downloading PyYAML-5.4.1.tar.gz (175 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 175.1/175.1 kB 359.0 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting rsa<4.8,>=3.1.2\n  Downloading rsa-4.7.2-py3-none-any.whl (34 kB)\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 kB 342.7 MB/s eta 0:00:00\nCollecting colorama<0.4.5,>=0.2.5\n  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)\nCollecting docutils<0.17,>=0.10\n  Downloading docutils-0.16-py2.py3-none-any.whl (548 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 548.2/548.2 kB 96.2 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 121.8 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 347.2 MB/s eta 0:00:00\nCollecting pyasn1>=0.1.3\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.1/77.1 kB 341.9 MB/s eta 0:00:00\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (pyproject.toml): started\n  Building wheel for PyYAML (pyproject.toml): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.4.1-cp310-cp310-linux_x86_64.whl size=561975 sha256=5ca303e501f93b28d52d6175792a6dfc6976e83e9a32f87119f35d66929df7ce\n  Stored in directory: /tmp/pip-ephem-wheel-cache-f_wgrpcg/wheels/10/3f/c1/6feec52270653969575b83de934b04be56d7a9e961be5041ea\nSuccessfully built PyYAML\nInstalling collected packages: pyasn1, urllib3, six, rsa, PyYAML, jmespath, docutils, colorama, python-dateutil, botocore, s3transfer, awscli\nSuccessfully installed PyYAML-5.4.1 awscli-1.27.41 botocore-1.29.41 colorama-0.4.4 docutils-0.16 jmespath-1.0.1 pyasn1-0.4.8 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 2ee1dd4ffbe1\n ---> 3c24126fdc2c\nStep 3/6 : RUN mkdir -p /usr/src/app\n ---> Running in 23c587e2fd5a\nRemoving intermediate container 23c587e2fd5a\n ---> c7726b8dd2d3\nStep 4/6 : WORKDIR /usr/src/app\n ---> Running in 3290172fdd2c\nRemoving intermediate container 3290172fdd2c\n ---> 11d28924bf99\nStep 5/6 : COPY . /usr/src/app\n ---> 9e85b8ae3c27\nStep 6/6 : CMD [\"make\"]\n ---> Running in 7cfd9b46808d\nRemoving intermediate container 7cfd9b46808d\n ---> 2603f776c82b\nSuccessfully built 2603f776c82b\nSuccessfully tagged haaska:latest\n","stderr":"","imageSize":1027399219},"endTime":1672630436794}