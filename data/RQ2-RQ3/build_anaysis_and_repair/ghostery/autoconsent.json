{"repository":"https://github.com/ghostery/autoconsent","dockerfilePath":"Dockerfile","startTime":1672310017364,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ghostery/autoconsent'...\n","error":null,"commit":"d043d8a90f0c338d426cc39b954b5bbcba0f51ff"},"originalBuild":{"startTimestamp":1672310018275,"endTimestamp":1672310096041,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t autoconsent:latest -f /tmp/dinghy-analysis/ghostery/autoconsent/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.269MB\r\r\nStep 1/8 : FROM node:12\n12: Pulling from library/node\nf5196cdf2518: Pulling fs layer\n9bed1e86f01e: Pulling fs layer\nf44e4bdb3a6c: Pulling fs layer\n2f75d131f406: Pulling fs layer\n07dff4ad21eb: Pulling fs layer\ne0ac4f13b766: Pulling fs layer\ndf2c3b2eb7cc: Pulling fs layer\nefe636eac583: Pulling fs layer\nfe17849545bb: Pulling fs layer\ndf2c3b2eb7cc: Waiting\nefe636eac583: Waiting\n07dff4ad21eb: Waiting\ne0ac4f13b766: Waiting\n2f75d131f406: Waiting\nf44e4bdb3a6c: Verifying Checksum\nf44e4bdb3a6c: Download complete\n9bed1e86f01e: Verifying Checksum\n9bed1e86f01e: Download complete\nf5196cdf2518: Verifying Checksum\nf5196cdf2518: Download complete\n2f75d131f406: Verifying Checksum\n2f75d131f406: Download complete\ne0ac4f13b766: Verifying Checksum\ne0ac4f13b766: Download complete\nefe636eac583: Verifying Checksum\nefe636eac583: Download complete\ndf2c3b2eb7cc: Verifying Checksum\ndf2c3b2eb7cc: Download complete\nfe17849545bb: Verifying Checksum\nfe17849545bb: Download complete\nf5196cdf2518: Pull complete\n9bed1e86f01e: Pull complete\nf44e4bdb3a6c: Pull complete\n07dff4ad21eb: Verifying Checksum\n07dff4ad21eb: Download complete\n2f75d131f406: Pull complete\n07dff4ad21eb: Pull complete\ne0ac4f13b766: Pull complete\ndf2c3b2eb7cc: Pull complete\nefe636eac583: Pull complete\nfe17849545bb: Pull complete\nDigest: sha256:01627afeb110b3054ba4a1405541ca095c8bfca1cb6f2be9479c767a2711879e\nStatus: Downloaded newer image for node:12\n ---> 6c8de432fc7f\nStep 2/8 : RUN apt update && apt install -y brotli jq\n ---> Running in b1fc21cf1909\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (5508 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n38 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libjq1 libonig4\nThe following NEW packages will be installed:\n  brotli jq libjq1 libonig4\n0 upgraded, 4 newly installed, 0 to remove and 38 not upgraded.\nNeed to get 590 kB of archives.\nAfter this operation, 1868 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libjq1 amd64 1.5+dfsg-1.3 [123 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 jq amd64 1.5+dfsg-1.3 [58.6 kB]\nGet:3 http://security.debian.org/debian-security stretch/updates/main amd64 brotli amd64 0.5.2+dfsg-2+deb9u1 [261 kB]\nGet:4 http://security.debian.org/debian-security stretch/updates/main amd64 libonig4 amd64 6.1.3-2+deb9u2 [147 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 590 kB in 0s (10.7 MB/s)\nSelecting previously unselected package brotli.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29963 files and directories currently installed.)\r\nPreparing to unpack .../brotli_0.5.2+dfsg-2+deb9u1_amd64.deb ...\r\nUnpacking brotli (0.5.2+dfsg-2+deb9u1) ...\r\nSelecting previously unselected package libonig4:amd64.\r\nPreparing to unpack .../libonig4_6.1.3-2+deb9u2_amd64.deb ...\r\nUnpacking libonig4:amd64 (6.1.3-2+deb9u2) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../libjq1_1.5+dfsg-1.3_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.5+dfsg-1.3) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../jq_1.5+dfsg-1.3_amd64.deb ...\r\nUnpacking jq (1.5+dfsg-1.3) ...\r\nSetting up libonig4:amd64 (6.1.3-2+deb9u2) ...\r\nSetting up libjq1:amd64 (1.5+dfsg-1.3) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up brotli (0.5.2+dfsg-2+deb9u1) ...\r\nSetting up jq (1.5+dfsg-1.3) ...\r\nRemoving intermediate container b1fc21cf1909\n ---> e3bc248498eb\nStep 3/8 : RUN mkdir -p /app/ && chown -R node:node /app\n ---> Running in a7a4dee874ae\nRemoving intermediate container a7a4dee874ae\n ---> ec61f3f66a58\nStep 4/8 : USER node\n ---> Running in 7fa85bf094fa\nRemoving intermediate container 7fa85bf094fa\n ---> 1ae19536119d\nStep 5/8 : COPY package.json /app/\n ---> f87605495869\nStep 6/8 : COPY package-lock.json /app/\n ---> 47809bf46039\nStep 7/8 : WORKDIR /app/\n ---> Running in 4787fc2df2ef\nRemoving intermediate container 4787fc2df2ef\n ---> c11c47effca7\nStep 8/8 : RUN npm ci\n ---> Running in ad710780fd15\n\n> core-js@2.6.11 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /app/node_modules/watchpack/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> core-js@3.6.4 postinstall /app/node_modules/sign-addon/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\n> spawn-sync@1.0.15 postinstall /app/node_modules/spawn-sync\n> node postinstall\n\n\n> core-js-pure@3.6.5 postinstall /app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\n> dtrace-provider@0.8.8 install /app/node_modules/dtrace-provider\n> node-gyp rebuild || node suppress-error.js\n\nmake: Entering directory '/app/node_modules/dtrace-provider/build'\n  TOUCH Release/obj.target/DTraceProviderStub.stamp\nmake: Leaving directory '/app/node_modules/dtrace-provider/build'\n\n> @duckduckgo/autoconsent@1.0.4 prepublish /app\n> npm run build-rules && npm run build && npm run bundle\n\n\n> @duckduckgo/autoconsent@1.0.4 build-rules /app\n> node rules/build.js && cp rules/rules.json addon/\n\n\u001b[91minternal/modules/cjs/loader.js:818\n  throw err;\n  ^\n\nError: Cannot find module '/app/rules/build.js'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:815:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:667:27)\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:60:12)\n    at internal/main/run_main_module.js:17:47 {\n  code: 'MODULE_NOT_FOUND',\n  requireStack: []\n}\n\u001b[0m\u001b[91mnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\n\u001b[0m\u001b[91mnpm ERR! @duckduckgo/autoconsent@1.0.4 build-rules: `node rules/build.js && cp rules/rules.json addon/`\nnpm ERR! Exit status 1\nnpm\u001b[0m\u001b[91m ERR! \nnpm ERR!\u001b[0m\u001b[91m Failed at the @duckduckgo/autoconsent@1.0.4 build-rules script.\nnpm ERR!\u001b[0m\u001b[91m This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91m\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/node/.npm/_cacache/_logs/2022-12-29T10_34_49_384Z-debug.log\n\u001b[0m\u001b[91mnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\n\u001b[0m\u001b[91mnpm ERR! @duckduckgo/autoconsent@1.0.4 prepublish: `npm run build-rules && npm run build && npm run bundle`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm \u001b[0m\u001b[91mERR! Failed at the @duckduckgo/autoconsent@1.0.4 prepublish script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91m\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/node/.npm/_logs/2022-12-29T10_34_49_428Z-debug.log\n\u001b[0mRemoving intermediate container ad710780fd15\n","stderr":"The command '/bin/sh -c npm ci' returned a non-zero code: 1\n"},"endTime":1672310096121}