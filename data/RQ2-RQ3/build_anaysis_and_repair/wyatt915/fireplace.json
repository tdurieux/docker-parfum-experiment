{"repository":"https://github.com/wyatt915/fireplace","dockerfilePath":"Dockerfile","startTime":1672980691246,"endTime":1672980731020,"clone":{"startTime":1672980691247,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wyatt915/fireplace'...\n","error":null,"endTime":1672980693955,"commit":"aa2070b73be9fb177007fc967b066d88a37e3408"},"originalBuild":{"startTime":1672980694030,"endTime":1672980717019,"error":null,"stdout":"Sending build context to Docker daemon  42.03MB\r\r\nStep 1/14 : FROM alpine:3.11 AS base\n3.11: Pulling from library/alpine\n79e9f2f55bf5: Pulling fs layer\n79e9f2f55bf5: Verifying Checksum\n79e9f2f55bf5: Download complete\n79e9f2f55bf5: Pull complete\nDigest: sha256:bcae378eacedab83da66079d9366c8f5df542d7ed9ab23bf487e3e1a8481375d\nStatus: Downloaded newer image for alpine:3.11\n ---> a787cb986503\nStep 2/14 : WORKDIR /app\n ---> Running in e0dbe370ac38\nRemoving intermediate container e0dbe370ac38\n ---> d6c960e2faea\nStep 3/14 : RUN apk update\n ---> Running in 2c9430975e4a\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\nOK: 11276 distinct packages available\nRemoving intermediate container 2c9430975e4a\n ---> 83d0529a185f\nStep 4/14 : RUN apk add ncurses-dev\n ---> Running in 5a847c4213eb\n(1/4) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/4) Installing ncurses-libs (6.1_p20200118-r4)\n(3/4) Installing pkgconf (1.6.3-r0)\n(4/4) Installing ncurses-dev (6.1_p20200118-r4)\nExecuting busybox-1.31.1-r11.trigger\nOK: 7 MiB in 18 packages\nRemoving intermediate container 5a847c4213eb\n ---> a4048da6f35f\nStep 5/14 : FROM base AS build\n ---> a4048da6f35f\nStep 6/14 : RUN apk add make gcc libc-dev\n ---> Running in 2838d46e8603\n(1/13) Installing libgcc (9.3.0-r0)\n(2/13) Installing libstdc++ (9.3.0-r0)\n(3/13) Installing binutils (2.33.1-r1)\n(4/13) Installing gmp (6.1.2-r1)\n(5/13) Installing isl (0.18-r0)\n(6/13) Installing libgomp (9.3.0-r0)\n(7/13) Installing libatomic (9.3.0-r0)\n(8/13) Installing mpfr4 (4.0.2-r1)\n(9/13) Installing mpc1 (1.1.0-r1)\n(10/13) Installing gcc (9.3.0-r0)\n(11/13) Installing musl-dev (1.1.24-r3)\n(12/13) Installing libc-dev (0.7.2-r0)\n(13/13) Installing make (4.2.1-r2)\nExecuting busybox-1.31.1-r11.trigger\nOK: 113 MiB in 31 packages\nRemoving intermediate container 2838d46e8603\n ---> e2596494c197\nStep 7/14 : COPY . .\n ---> a9cbd2862227\nStep 8/14 : RUN rm -f fireplace\n ---> Running in df6eb22644ab\nRemoving intermediate container df6eb22644ab\n ---> 0776bad505bb\nStep 9/14 : RUN make\n ---> Running in f3564ba292a2\ngcc main.c -O3 -lncurses -o fireplace\nRemoving intermediate container f3564ba292a2\n ---> 439ded196992\nStep 10/14 : FROM base AS final\n ---> a4048da6f35f\nStep 11/14 : ENV TERM=xterm-256color\n ---> Running in 2ef8a4e9d5e2\nRemoving intermediate container 2ef8a4e9d5e2\n ---> 02b89aa66088\nStep 12/14 : WORKDIR /app\n ---> Running in 5f77cf209529\nRemoving intermediate container 5f77cf209529\n ---> b27a08ab07bd\nStep 13/14 : COPY --from=build /app/fireplace .\n ---> f3a989f74b76\nStep 14/14 : ENTRYPOINT [ \"/app/fireplace\" ]\n ---> Running in 5b005a229c3c\nRemoving intermediate container 5b005a229c3c\n ---> b217d91707d7\nSuccessfully built b217d91707d7\nSuccessfully tagged fireplace:latest\n","stderr":"","imageSize":8170059},"repair":{"startTime":1672980717080,"endTime":1672980717126,"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":23}},{"name":"apkAddUseNoCache","position":{"start":11,"end":11,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"FROM alpine:3.11 AS base\nWORKDIR /app\n\n# Add ncurses package to base\nRUN apk update\nRUN apk add --no-cache ncurses-dev\n\n# Create build from base image\nFROM base AS build\n\n# Add make, gcc, and libc-dev packages\nRUN apk add --no-cache make gcc libc-dev\n\n# Copy everything to workdir, and remove built fireplace executable (-f will not fail if doesn't exist)\nCOPY . .\nRUN rm -f fireplace\nRUN make\n\n# Create run image from base\nFROM base AS final\n\n# Set term colors\nENV TERM=xterm-256color\n\n# Copy fireplace executable from build image to final\nWORKDIR /app\nCOPY --from=build /app/fireplace .\nENTRYPOINT [ \"/app/fireplace\" ]\n"},"repairedBuild":{"startTime":1672980717271,"endTime":1672980730764,"error":null,"stdout":"Sending build context to Docker daemon  42.03MB\r\r\nStep 1/14 : FROM alpine:3.11 AS base\n ---> a787cb986503\nStep 2/14 : WORKDIR /app\n ---> Running in b7fd86991513\nRemoving intermediate container b7fd86991513\n ---> 781c856c2322\nStep 3/14 : RUN apk update\n ---> Running in bd2714b9f0b4\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\nOK: 11276 distinct packages available\nRemoving intermediate container bd2714b9f0b4\n ---> bd961ef84267\nStep 4/14 : RUN apk add --no-cache ncurses-dev\n ---> Running in b69a4462bb7a\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/4) Installing ncurses-libs (6.1_p20200118-r4)\n(3/4) Installing pkgconf (1.6.3-r0)\n(4/4) Installing ncurses-dev (6.1_p20200118-r4)\nExecuting busybox-1.31.1-r11.trigger\nOK: 7 MiB in 18 packages\nRemoving intermediate container b69a4462bb7a\n ---> 568f7202136d\nStep 5/14 : FROM base AS build\n ---> 568f7202136d\nStep 6/14 : RUN apk add --no-cache make gcc libc-dev\n ---> Running in 9637673b0e35\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libgcc (9.3.0-r0)\n(2/13) Installing libstdc++ (9.3.0-r0)\n(3/13) Installing binutils (2.33.1-r1)\n(4/13) Installing gmp (6.1.2-r1)\n(5/13) Installing isl (0.18-r0)\n(6/13) Installing libgomp (9.3.0-r0)\n(7/13) Installing libatomic (9.3.0-r0)\n(8/13) Installing mpfr4 (4.0.2-r1)\n(9/13) Installing mpc1 (1.1.0-r1)\n(10/13) Installing gcc (9.3.0-r0)\n(11/13) Installing musl-dev (1.1.24-r3)\n(12/13) Installing libc-dev (0.7.2-r0)\n(13/13) Installing make (4.2.1-r2)\nExecuting busybox-1.31.1-r11.trigger\nOK: 113 MiB in 31 packages\nRemoving intermediate container 9637673b0e35\n ---> b26b1df5e94d\nStep 7/14 : COPY . .\n ---> e0c7777bee49\nStep 8/14 : RUN rm -f fireplace\n ---> Running in 6cc75ee8a08a\nRemoving intermediate container 6cc75ee8a08a\n ---> 4a1903526e98\nStep 9/14 : RUN make\n ---> Running in 6ff789f203c1\ngcc main.c -O3 -lncurses -o fireplace\nRemoving intermediate container 6ff789f203c1\n ---> ed0ce3552263\nStep 10/14 : FROM base AS final\n ---> 568f7202136d\nStep 11/14 : ENV TERM=xterm-256color\n ---> Running in c8315e42e284\nRemoving intermediate container c8315e42e284\n ---> 5b2d5fa2c122\nStep 12/14 : WORKDIR /app\n ---> Running in d455f749c314\nRemoving intermediate container d455f749c314\n ---> 9deca7dea19b\nStep 13/14 : COPY --from=build /app/fireplace .\n ---> 84b5135fadf7\nStep 14/14 : ENTRYPOINT [ \"/app/fireplace\" ]\n ---> Running in e1787d61f123\nRemoving intermediate container e1787d61f123\n ---> 56589b07a7bb\nSuccessfully built 56589b07a7bb\nSuccessfully tagged fireplace:latest\n","stderr":"","imageSize":8170059}}