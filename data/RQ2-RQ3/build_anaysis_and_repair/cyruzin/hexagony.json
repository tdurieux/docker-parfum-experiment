{"repository":"https://github.com/cyruzin/hexagony","dockerfilePath":"Dockerfile","startTime":1673259652669,"endTime":1673259757409,"clone":{"startTime":1673259652671,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cyruzin/hexagony'...\n","error":null,"endTime":1673259653454,"commit":"e1703224efe5a9dfc00e8f509982118dea40e50b"},"originalBuild":{"startTime":1673259653540,"endTime":1673259721269,"error":null,"stdout":"Sending build context to Docker daemon  355.3kB\r\r\nStep 1/12 : FROM golang:1.18.3-alpine as build\n1.18.3-alpine: Pulling from library/golang\n2408cc74d12b: Pulling fs layer\nea60b727a1ce: Pulling fs layer\n30c4a7721957: Pulling fs layer\n370296b7ddb6: Pulling fs layer\n7c6cee850709: Pulling fs layer\n7c6cee850709: Waiting\n370296b7ddb6: Waiting\n30c4a7721957: Verifying Checksum\n30c4a7721957: Download complete\nea60b727a1ce: Download complete\n2408cc74d12b: Verifying Checksum\n2408cc74d12b: Download complete\n7c6cee850709: Verifying Checksum\n7c6cee850709: Download complete\n2408cc74d12b: Pull complete\nea60b727a1ce: Pull complete\n30c4a7721957: Pull complete\n370296b7ddb6: Verifying Checksum\n370296b7ddb6: Download complete\n370296b7ddb6: Pull complete\n7c6cee850709: Pull complete\nDigest: sha256:7cc62574fcf9c5fb87ad42a9789d5539a6a085971d58ee75dd2ee146cb8a8695\nStatus: Downloaded newer image for golang:1.18.3-alpine\n ---> 155ead2e66ca\nStep 2/12 : WORKDIR /app\n ---> Running in 7edc02c7f84e\nRemoving intermediate container 7edc02c7f84e\n ---> 98197d91bb06\nStep 3/12 : COPY go.* ./\n ---> 2a10b669a1dc\nStep 4/12 : RUN go mod download\n ---> Running in e1d5958755f8\nRemoving intermediate container e1d5958755f8\n ---> f714f8858b53\nStep 5/12 : COPY . ./\n ---> 0b34d00b1211\nStep 6/12 : WORKDIR ./cmd/server\n ---> Running in 4136db9a07e7\nRemoving intermediate container 4136db9a07e7\n ---> 2fa2a0ea0d72\nStep 7/12 : RUN go build -v -o server\n ---> Running in 98f8be4fedb3\n\u001b[91mgithub.com/go-playground/locales/currency\n\u001b[0m\u001b[91mgolang.org/x/sys/internal/unsafeheader\nhexagony/app/repositories/queries\n\u001b[0m\u001b[91mgithub.com/lib/pq/oid\n\u001b[0m\u001b[91mgolang.org/x/text/internal/tag\n\u001b[0m\u001b[91mgithub.com/josharian/intern\n\u001b[0m\u001b[91mgolang.org/x/crypto/blowfish\n\u001b[0m\u001b[91mgithub.com/jmoiron/sqlx/reflectx\n\u001b[0m\u001b[91mgithub.com/go-playground/locales\n\u001b[0m\u001b[91mgolang.org/x/crypto/sha3\n\u001b[0m\u001b[91mgolang.org/x/net/webdav/internal/xml\n\u001b[0m\u001b[91mgithub.com/go-openapi/jsonreference/internal\n\u001b[0m\u001b[91mgolang.org/x/sys/execabs\n\u001b[0m\u001b[91mgolang.org/x/sys/unix\n\u001b[0m\u001b[91mgopkg.in/yaml.v2\n\u001b[0m\u001b[91mgithub.com/mailru/easyjson/jlexer\n\u001b[0m\u001b[91mgithub.com/lib/pq/scram\n\u001b[0m\u001b[91mgithub.com/leodido/go-urn\n\u001b[0m\u001b[91mgithub.com/mailru/easyjson/buffer\n\u001b[0m\u001b[91mgithub.com/rs/zerolog/internal/json\n\u001b[0m\u001b[91mgithub.com/google/uuid\ngithub.com/KyleBanks/depth\n\u001b[0m\u001b[91mgolang.org/x/tools/go/buildutil\n\u001b[0m\u001b[91mgithub.com/golang-jwt/jwt/v4\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language\n\u001b[0m\u001b[91mgolang.org/x/tools/internal/typeparams\n\u001b[0m\u001b[91mgithub.com/go-chi/cors\ngithub.com/go-chi/render\n\u001b[0m\u001b[91mgithub.com/go-chi/chi/v5\n\u001b[0m\u001b[91mhexagony/libs/rest\n\u001b[0m\u001b[91mgithub.com/go-playground/locales/en\n\u001b[0m\u001b[91mgithub.com/go-playground/universal-translator\n\u001b[0m\u001b[91mgolang.org/x/tools/go/internal/cgo\n\u001b[0m\u001b[91mgolang.org/x/crypto/bcrypt\n\u001b[0m\u001b[91mgithub.com/jmoiron/sqlx\n\u001b[0m\u001b[91mgithub.com/lib/pq\n\u001b[0m\u001b[91mgithub.com/mailru/easyjson/jwriter\n\u001b[0m\u001b[91mhexagony/libs/crypto\n\u001b[0m\u001b[91mhexagony/app/domain\n\u001b[0m\u001b[91mgolang.org/x/tools/go/ast/astutil\n\u001b[0m\u001b[91mgithub.com/go-chi/chi/v5/middleware\n\u001b[0m\u001b[91mhexagony/app/usecases\n\u001b[0m\u001b[91mgolang.org/x/net/webdav\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language/compact\n\u001b[0m\u001b[91mgolang.org/x/tools/go/loader\n\u001b[0m\u001b[91mgolang.org/x/text/language\n\u001b[0m\u001b[91mhexagony/app/repositories\n\u001b[0m\u001b[91mgithub.com/go-openapi/swag\n\u001b[0m\u001b[91mgithub.com/go-playground/validator/v10\n\u001b[0m\u001b[91mgithub.com/mattn/go-isatty\n\u001b[0m\u001b[91mgithub.com/go-openapi/jsonpointer\n\u001b[0m\u001b[91mgithub.com/mattn/go-colorable\n\u001b[0m\u001b[91mgithub.com/go-openapi/jsonreference\n\u001b[0m\u001b[91mgithub.com/rs/zerolog\n\u001b[0m\u001b[91mgithub.com/go-openapi/spec\n\u001b[0m\u001b[91mgithub.com/swaggo/files\n\u001b[0m\u001b[91mgithub.com/go-playground/validator/v10/translations/en\n\u001b[0m\u001b[91mgithub.com/rs/zerolog/log\n\u001b[0m\u001b[91mhexagony/libs/clog\n\u001b[0m\u001b[91mgithub.com/swaggo/swag\n\u001b[0m\u001b[91mhexagony/app/http/middleware\n\u001b[0m\u001b[91mhexagony/libs/validation\n\u001b[0m\u001b[91mhexagony/app/http/controllers\n\u001b[0m\u001b[91mhexagony/routes\n\u001b[0m\u001b[91mhexagony/docs\n\u001b[0m\u001b[91mgithub.com/swaggo/http-swagger\n\u001b[0m\u001b[91mhexagony/cmd/server\n\u001b[0mRemoving intermediate container 98f8be4fedb3\n ---> d4d58fab9f00\nStep 8/12 : FROM alpine:latest\n ---> 49176f190c7e\nStep 9/12 : RUN apk add ca-certificates\n ---> Running in 40cd0c195d15\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r4)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r4.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 40cd0c195d15\n ---> 36a06e2e44b8\nStep 10/12 : COPY --from=build /app/cmd/server /app/server\n ---> f8017478b240\nStep 11/12 : EXPOSE 8000\n ---> Running in 01bb316b7552\nRemoving intermediate container 01bb316b7552\n ---> 0b2294f3335d\nStep 12/12 : CMD [\"/app/server/server\"]\n ---> Running in 6f755e649154\nRemoving intermediate container 6f755e649154\n ---> 7a5ab104427c\nSuccessfully built 7a5ab104427c\nSuccessfully tagged hexagony:latest\n","stderr":"","imageSize":44094874},"repair":{"startTime":1673259721316,"endTime":1673259721372,"violations":[{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM golang:1.18.3-alpine as build\n\nWORKDIR /app\n\nCOPY go.* ./\n\nRUN go mod download\n\nCOPY . ./\n\nWORKDIR ./cmd/server\n\nRUN go build -v -o server\n\nFROM alpine:latest \n\nRUN apk add --no-cache ca-certificates\n\nCOPY --from=build /app/cmd/server /app/server\n\nEXPOSE 8000\n\nCMD [\"/app/server/server\"]"},"repairedBuild":{"startTime":1673259721550,"endTime":1673259757191,"error":null,"stdout":"Sending build context to Docker daemon  355.3kB\r\r\nStep 1/12 : FROM golang:1.18.3-alpine as build\n ---> 155ead2e66ca\nStep 2/12 : WORKDIR /app\n ---> Running in fb9290bf57c5\nRemoving intermediate container fb9290bf57c5\n ---> 7979a91733bc\nStep 3/12 : COPY go.* ./\n ---> 6f87319f0a64\nStep 4/12 : RUN go mod download\n ---> Running in a88d79ff5284\nRemoving intermediate container a88d79ff5284\n ---> 8058c1f0f80a\nStep 5/12 : COPY . ./\n ---> 99a596c94608\nStep 6/12 : WORKDIR ./cmd/server\n ---> Running in 80c24d7b68c2\nRemoving intermediate container 80c24d7b68c2\n ---> 83ec12af96fb\nStep 7/12 : RUN go build -v -o server\n ---> Running in f55584538993\n\u001b[91mgithub.com/go-playground/locales/currency\ngithub.com/lib/pq/oid\n\u001b[0m\u001b[91mgolang.org/x/sys/internal/unsafeheader\n\u001b[0m\u001b[91mhexagony/app/repositories/queries\n\u001b[0m\u001b[91mgolang.org/x/text/internal/tag\n\u001b[0m\u001b[91mgithub.com/josharian/intern\n\u001b[0m\u001b[91mgolang.org/x/crypto/blowfish\n\u001b[0m\u001b[91mgithub.com/jmoiron/sqlx/reflectx\n\u001b[0m\u001b[91mgithub.com/go-playground/locales\n\u001b[0m\u001b[91mgolang.org/x/crypto/sha3\n\u001b[0m\u001b[91mgithub.com/go-openapi/jsonreference/internal\n\u001b[0m\u001b[91mgolang.org/x/sys/execabs\n\u001b[0m\u001b[91mgolang.org/x/net/webdav/internal/xml\n\u001b[0m\u001b[91mgolang.org/x/sys/unix\n\u001b[0m\u001b[91mgithub.com/leodido/go-urn\n\u001b[0m\u001b[91mgithub.com/mailru/easyjson/jlexer\n\u001b[0m\u001b[91mgopkg.in/yaml.v2\n\u001b[0m\u001b[91mgithub.com/lib/pq/scram\n\u001b[0m\u001b[91mgithub.com/mailru/easyjson/buffer\n\u001b[0m\u001b[91mgithub.com/rs/zerolog/internal/json\n\u001b[0m\u001b[91mgithub.com/google/uuid\ngithub.com/KyleBanks/depth\n\u001b[0m\u001b[91mgolang.org/x/tools/go/buildutil\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language\n\u001b[0m\u001b[91mgithub.com/golang-jwt/jwt/v4\n\u001b[0m\u001b[91mgolang.org/x/tools/internal/typeparams\n\u001b[0m\u001b[91mgithub.com/go-playground/locales/en\n\u001b[0m\u001b[91mgithub.com/go-playground/universal-translator\n\u001b[0m\u001b[91mgithub.com/go-chi/chi/v5\ngithub.com/go-chi/cors\n\u001b[0m\u001b[91mgithub.com/go-chi/render\n\u001b[0m\u001b[91mhexagony/libs/rest\n\u001b[0m\u001b[91mgolang.org/x/tools/go/internal/cgo\n\u001b[0m\u001b[91mgolang.org/x/crypto/bcrypt\n\u001b[0m\u001b[91mgithub.com/jmoiron/sqlx\n\u001b[0m\u001b[91mgithub.com/lib/pq\n\u001b[0m\u001b[91mgithub.com/mailru/easyjson/jwriter\n\u001b[0m\u001b[91mhexagony/app/domain\n\u001b[0m\u001b[91mgolang.org/x/tools/go/ast/astutil\n\u001b[0m\u001b[91mhexagony/libs/crypto\n\u001b[0m\u001b[91mgithub.com/go-chi/chi/v5/middleware\n\u001b[0m\u001b[91mhexagony/app/usecases\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language/compact\n\u001b[0m\u001b[91mgolang.org/x/net/webdav\n\u001b[0m\u001b[91mgolang.org/x/tools/go/loader\n\u001b[0m\u001b[91mgolang.org/x/text/language\n\u001b[0m\u001b[91mhexagony/app/repositories\n\u001b[0m\u001b[91mgithub.com/go-openapi/swag\n\u001b[0m\u001b[91mgithub.com/go-playground/validator/v10\n\u001b[0m\u001b[91mgithub.com/mattn/go-isatty\n\u001b[0m\u001b[91mgithub.com/mattn/go-colorable\n\u001b[0m\u001b[91mgithub.com/rs/zerolog\n\u001b[0m\u001b[91mgithub.com/go-openapi/jsonpointer\n\u001b[0m\u001b[91mgithub.com/go-openapi/jsonreference\n\u001b[0m\u001b[91mgithub.com/swaggo/files\n\u001b[0m\u001b[91mgithub.com/go-openapi/spec\n\u001b[0m\u001b[91mgithub.com/go-playground/validator/v10/translations/en\n\u001b[0m\u001b[91mgithub.com/rs/zerolog/log\n\u001b[0m\u001b[91mhexagony/libs/clog\n\u001b[0m\u001b[91mhexagony/app/http/middleware\n\u001b[0m\u001b[91mhexagony/libs/validation\n\u001b[0m\u001b[91mhexagony/app/http/controllers\n\u001b[0m\u001b[91mhexagony/routes\n\u001b[0m\u001b[91mgithub.com/swaggo/swag\n\u001b[0m\u001b[91mhexagony/docs\n\u001b[0m\u001b[91mgithub.com/swaggo/http-swagger\n\u001b[0m\u001b[91mhexagony/cmd/server\n\u001b[0mRemoving intermediate container f55584538993\n ---> 07f2b729fb73\nStep 8/12 : FROM alpine:latest\n ---> 49176f190c7e\nStep 9/12 : RUN apk add --no-cache ca-certificates\n ---> Running in 71751ec9be04\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r4)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r4.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 71751ec9be04\n ---> 9dd5e7e18e73\nStep 10/12 : COPY --from=build /app/cmd/server /app/server\n ---> f709b57d65b4\nStep 11/12 : EXPOSE 8000\n ---> Running in 88f2401a09c9\nRemoving intermediate container 88f2401a09c9\n ---> 3b8d80a92e11\nStep 12/12 : CMD [\"/app/server/server\"]\n ---> Running in 8a13ed352c41\nRemoving intermediate container 8a13ed352c41\n ---> 12b72d71b543\nSuccessfully built 12b72d71b543\nSuccessfully tagged hexagony:latest\n","stderr":"","imageSize":41510775}}