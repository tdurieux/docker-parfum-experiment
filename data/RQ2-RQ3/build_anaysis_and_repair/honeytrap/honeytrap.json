{"repository":"https://github.com/honeytrap/honeytrap","dockerfilePath":"Dockerfile","startTime":1672872554291,"endTime":1672872701124,"clone":{"startTime":1672872554291,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/honeytrap/honeytrap'...\n","error":null,"endTime":1672872555220,"commit":"05965fc67deab17b48e43873abc5f509067ef098"},"originalBuild":{"startTime":1672872555312,"endTime":1672872643537,"error":null,"stdout":"Sending build context to Docker daemon  2.489MB\r\r\nStep 1/16 : FROM golang:latest AS go\nlatest: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:latest\n ---> 6650307efe4a\nStep 2/16 : ENV GOPATH /go\n ---> Running in d580d71c4cf7\nRemoving intermediate container d580d71c4cf7\n ---> 47008d10f79d\nStep 3/16 : ENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n ---> Running in 37949e323785\nRemoving intermediate container 37949e323785\n ---> e4d180cbbe3d\nStep 4/16 : ADD . /src/honeytrap\n ---> 47d04e7ff4f7\nStep 5/16 : ARG LDFLAGS=\"\"\n ---> Running in 852a8a23677d\nRemoving intermediate container 852a8a23677d\n ---> 930825065549\nStep 6/16 : WORKDIR /src/honeytrap\n ---> Running in 3681547ea80f\nRemoving intermediate container 3681547ea80f\n ---> cc5b58cef707\nStep 7/16 : RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -tags=\"\" -ldflags=\"$(go run scripts/gen-ldflags.go)\" -o /go/bin/app .\n ---> Running in 6e6d47aaf687\n\u001b[91mgo: downloading github.com/fatih/color v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/op/go-logging v0.0.0-20160211212156-b2cb9fa56473\n\u001b[0m\u001b[91mgo: downloading gopkg.in/urfave/cli.v1 v1.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/dutchcoders/gobus v0.0.0-20180915095724-ece5a7810d96\n\u001b[0m\u001b[91mgo: downloading github.com/boltdb/bolt v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/profile v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/rs/xid v0.0.0-20170604230408-02dd45c33376\n\u001b[0m\u001b[91mgo: downloading github.com/streadway/amqp v0.0.0-20180315184602-8e4aba63da9f\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/miekg/dns v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/cenkalti/backoff/v4 v4.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/elastic/go-lumber v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/songgao/packets v0.0.0-20160404182456-549a10cd4091\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20191024005414-555d28b269f0\n\u001b[0m\u001b[91mgo: downloading github.com/songgao/water v0.0.0-20180221190335-75f112d19d5a\n\u001b[0m\u001b[91mgo: downloading github.com/Shopify/sarama v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/yuin/gopher-lua v0.0.0-20190206043414-8bfc7677f583\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/olivere/elastic.v5 v5.0.65\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/disco v0.0.0-20180114190844-15dd4b8476c9\ngo: downloading github.com/honeytrap/protocol v0.0.0-20190410072324-219b95413db0\n\u001b[0m\u001b[91mgo: downloading github.com/fuyufjh/splunk-hec-go v0.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/Logicalis/asn1 v0.0.0-20160307192209-c9c836c1a3cd\n\u001b[0m\u001b[91mgo: downloading github.com/dgraph-io/badger v0.0.0-20180227002726-94594b20babf\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200128174031-69ecbb4d6d5d\n\u001b[0m\u001b[91mgo: downloading github.com/glycerine/rbuf v0.0.0-20171031012212-54320fe9f6f3\ngo: downloading github.com/google/gopacket v1.1.14\n\u001b[0m\u001b[91mgo: downloading github.com/go-asn1-ber/asn1-ber v0.0.0-20170511165959-379148ca0225\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.9.8\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20180125231941-8732c616f529\ngo: downloading github.com/eapache/go-resiliency v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/pierrec/lz4 v0.0.0-20171218195038-2fcda4cb7018\ngo: downloading github.com/eapache/queue v1.1.0\ngo: downloading github.com/davecgh/go-spew v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/eapache/go-xerial-snappy v0.0.0-20160609142408-bb955e01b934\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3\n\u001b[0m\u001b[91mgo: downloading github.com/mailru/easyjson v0.0.0-20171120080333-32fa128f234d\ngo: downloading github.com/pkg/errors v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.0-20170215233205-553a64147049\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/StrobeGo v0.0.0-20171206114618-43f0c284a7f9\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200202164722-d101bd2416d5\ngo: downloading github.com/golang/protobuf v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/dgryski/go-farm v0.0.0-20180109070241-2de33835d102\ngo: downloading github.com/AndreasBriese/bbloom v0.0.0-20170702084017-28f7e881ca57\n\u001b[0m\u001b[91mgo: downloading github.com/pierrec/xxHash v0.1.1\n\u001b[0mRemoving intermediate container 6e6d47aaf687\n ---> 3d7724117465\nStep 8/16 : FROM alpine\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 9/16 : MAINTAINER  Remco Verhoef <remco.verhoef@dutchsec.com>\n ---> Running in 28166474dde4\nRemoving intermediate container 28166474dde4\n ---> 116b6699deb8\nStep 10/16 : RUN apk --update upgrade && apk add curl ca-certificates && rm -rf /var/cache/apk/*\n ---> Running in f2b3ed89bc59\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/3) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/3) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\nOK: 7 MiB in 15 packages\n(1/5) Installing ca-certificates (20220614-r3)\n(2/5) Installing brotli-libs (1.0.9-r9)\n(3/5) Installing nghttp2-libs (1.51.0-r0)\n(4/5) Installing libcurl (7.87.0-r0)\n(5/5) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container f2b3ed89bc59\n ---> 8853d3aed877\nStep 11/16 : RUN apk add ca-certificates && update-ca-certificates\n ---> Running in efe34514e63e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 9 MiB in 20 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container efe34514e63e\n ---> e151cf151159\nStep 12/16 : RUN mkdir /config /data\n ---> Running in 67209b83fb16\nRemoving intermediate container 67209b83fb16\n ---> 649f417a48af\nStep 13/16 : RUN curl -s -o /config/config.toml https://raw.githubusercontent.com/honeytrap/honeytrap-configs/master/server-standalone/config-server-standalone.toml\n ---> Running in f3a9b1c8a8b2\nRemoving intermediate container f3a9b1c8a8b2\n ---> 20c4e0369426\nStep 14/16 : COPY --from=go /go/bin/app /honeytrap/honeytrap\n ---> 2be0bf3794c3\nStep 15/16 : ENTRYPOINT [\"/honeytrap/honeytrap\", \"--config\", \"/config/config.toml\", \"--data\", \"/data/\"]\n ---> Running in a9f7874552bb\nRemoving intermediate container a9f7874552bb\n ---> cb76014d7e34\nStep 16/16 : EXPOSE 8022 5900\n ---> Running in 1572eafd052c\nRemoving intermediate container 1572eafd052c\n ---> 8867eb03f330\nSuccessfully built 8867eb03f330\nSuccessfully tagged honeytrap:latest\n","stderr":"","imageSize":41743035},"repair":{"startTime":1672872643587,"endTime":1672872643669,"violations":[{"name":"curlUseFlagF","position":{"start":20,"end":20,"columnStart":4,"columnEnd":151}},{"name":"curlUseFlagF","position":{"start":20,"end":20,"columnStart":4,"columnEnd":151}},{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM golang:latest AS go\n\nENV GOPATH /go\nENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n\nADD . /src/honeytrap\n\nARG LDFLAGS=\"\"\n\nWORKDIR /src/honeytrap\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -tags=\"\" -ldflags=\"$(go run scripts/gen-ldflags.go)\" -o /go/bin/app .\n\nFROM alpine\nMAINTAINER  Remco Verhoef <remco.verhoef@dutchsec.com>\n\nRUN apk --update upgrade && apk add curl ca-certificates && rm -rf /var/cache/apk/*\nRUN apk add --no-cache ca-certificates && update-ca-certificates\n\nRUN mkdir /config /data\n\nRUN curl -f -L -s -o /config/config.toml https://raw.githubusercontent.com/honeytrap/honeytrap-configs/master/server-standalone/config-server-standalone.toml\nCOPY --from=go /go/bin/app /honeytrap/honeytrap\n\nENTRYPOINT [\"/honeytrap/honeytrap\", \"--config\", \"/config/config.toml\", \"--data\", \"/data/\"]\n\nEXPOSE 8022 5900\n"},"repairedBuild":{"startTime":1672872643830,"endTime":1672872700626,"error":null,"stdout":"Sending build context to Docker daemon  2.489MB\r\r\nStep 1/16 : FROM golang:latest AS go\n ---> 6650307efe4a\nStep 2/16 : ENV GOPATH /go\n ---> Running in c2b720961e76\nRemoving intermediate container c2b720961e76\n ---> d85cd826eb02\nStep 3/16 : ENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n ---> Running in 04b08afe4e76\nRemoving intermediate container 04b08afe4e76\n ---> b2abbf34d038\nStep 4/16 : ADD . /src/honeytrap\n ---> d73d10c0d33c\nStep 5/16 : ARG LDFLAGS=\"\"\n ---> Running in e1e3e9d20c10\nRemoving intermediate container e1e3e9d20c10\n ---> 7c4abdedcb34\nStep 6/16 : WORKDIR /src/honeytrap\n ---> Running in 5c72c4bc7931\nRemoving intermediate container 5c72c4bc7931\n ---> f69edfc3534f\nStep 7/16 : RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -tags=\"\" -ldflags=\"$(go run scripts/gen-ldflags.go)\" -o /go/bin/app .\n ---> Running in f46cab7e5cda\n\u001b[91mgo: downloading gopkg.in/urfave/cli.v1 v1.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/op/go-logging v0.0.0-20160211212156-b2cb9fa56473\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/dutchcoders/gobus v0.0.0-20180915095724-ece5a7810d96\n\u001b[0m\u001b[91mgo: downloading github.com/boltdb/bolt v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/profile v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/rs/xid v0.0.0-20170604230408-02dd45c33376\n\u001b[0m\u001b[91mgo: downloading github.com/miekg/dns v1.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20191024005414-555d28b269f0\n\u001b[0m\u001b[91mgo: downloading github.com/songgao/packets v0.0.0-20160404182456-549a10cd4091\ngo: downloading github.com/Shopify/sarama v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/songgao/water v0.0.0-20180221190335-75f112d19d5a\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cenkalti/backoff/v4 v4.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/elastic/go-lumber v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/fuyufjh/splunk-hec-go v0.3.3\ngo: downloading github.com/satori/go.uuid v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/streadway/amqp v0.0.0-20180315184602-8e4aba63da9f\n\u001b[0m\u001b[91mgo: downloading gopkg.in/olivere/elastic.v5 v5.0.65\n\u001b[0m\u001b[91mgo: downloading github.com/honeytrap/protocol v0.0.0-20190410072324-219b95413db0\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/disco v0.0.0-20180114190844-15dd4b8476c9\n\u001b[0m\u001b[91mgo: downloading github.com/yuin/gopher-lua v0.0.0-20190206043414-8bfc7677f583\n\u001b[0m\u001b[91mgo: downloading github.com/dgraph-io/badger v0.0.0-20180227002726-94594b20babf\n\u001b[0m\u001b[91mgo: downloading github.com/go-asn1-ber/asn1-ber v0.0.0-20170511165959-379148ca0225\n\u001b[0m\u001b[91mgo: downloading github.com/glycerine/rbuf v0.0.0-20171031012212-54320fe9f6f3\n\u001b[0m\u001b[91mgo: downloading github.com/google/gopacket v1.1.14\n\u001b[0m\u001b[91mgo: downloading github.com/Logicalis/asn1 v0.0.0-20160307192209-c9c836c1a3cd\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200128174031-69ecbb4d6d5d\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.9.8\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.0\ngo: downloading github.com/rcrowley/go-metrics v0.0.0-20180125231941-8732c616f529\n\u001b[0m\u001b[91mgo: downloading github.com/eapache/queue v1.1.0\ngo: downloading github.com/eapache/go-resiliency v1.0.0\ngo: downloading github.com/pierrec/lz4 v0.0.0-20171218195038-2fcda4cb7018\n\u001b[0m\u001b[91mgo: downloading github.com/eapache/go-xerial-snappy v0.0.0-20160609142408-bb955e01b934\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.0-20170215233205-553a64147049\n\u001b[0m\u001b[91mgo: downloading github.com/mailru/easyjson v0.0.0-20171120080333-32fa128f234d\ngo: downloading github.com/pkg/errors v0.8.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200202164722-d101bd2416d5\n\u001b[0m\u001b[91mgo: downloading github.com/AndreasBriese/bbloom v0.0.0-20170702084017-28f7e881ca57\n\u001b[0m\u001b[91mgo: downloading github.com/dgryski/go-farm v0.0.0-20180109070241-2de33835d102\ngo: downloading github.com/golang/protobuf v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/StrobeGo v0.0.0-20171206114618-43f0c284a7f9\n\u001b[0m\u001b[91mgo: downloading github.com/pierrec/xxHash v0.1.1\n\u001b[0mRemoving intermediate container f46cab7e5cda\n ---> 46c9fefa6efa\nStep 8/16 : FROM alpine\n ---> 49176f190c7e\nStep 9/16 : MAINTAINER  Remco Verhoef <remco.verhoef@dutchsec.com>\n ---> Running in 5154ad8561a9\nRemoving intermediate container 5154ad8561a9\n ---> 2e1bf6246502\nStep 10/16 : RUN apk --update upgrade && apk add curl ca-certificates && rm -rf /var/cache/apk/*\n ---> Running in 5a9110d8d337\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/3) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/3) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\nOK: 7 MiB in 15 packages\n(1/5) Installing ca-certificates (20220614-r3)\n(2/5) Installing brotli-libs (1.0.9-r9)\n(3/5) Installing nghttp2-libs (1.51.0-r0)\n(4/5) Installing libcurl (7.87.0-r0)\n(5/5) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container 5a9110d8d337\n ---> c8104705a996\nStep 11/16 : RUN apk add --no-cache ca-certificates && update-ca-certificates\n ---> Running in 0da0f0405de7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 9 MiB in 20 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container 0da0f0405de7\n ---> 2c4b3a4aec91\nStep 12/16 : RUN mkdir /config /data\n ---> Running in c9a795388da5\nRemoving intermediate container c9a795388da5\n ---> 49a6f736810b\nStep 13/16 : RUN curl -f -L -s -o /config/config.toml https://raw.githubusercontent.com/honeytrap/honeytrap-configs/master/server-standalone/config-server-standalone.toml\n ---> Running in b16c0ae9841d\nRemoving intermediate container b16c0ae9841d\n ---> 0382de48e03b\nStep 14/16 : COPY --from=go /go/bin/app /honeytrap/honeytrap\n ---> f476c39b981f\nStep 15/16 : ENTRYPOINT [\"/honeytrap/honeytrap\", \"--config\", \"/config/config.toml\", \"--data\", \"/data/\"]\n ---> Running in 7222363093b5\nRemoving intermediate container 7222363093b5\n ---> c11cfe128b1b\nStep 16/16 : EXPOSE 8022 5900\n ---> Running in 883dc1ece214\nRemoving intermediate container 883dc1ece214\n ---> c33396a9806e\nSuccessfully built c33396a9806e\nSuccessfully tagged honeytrap:latest\n","stderr":"","imageSize":39159994}}