{"repository":"https://github.com/opendronemap/webodm","dockerfilePath":"Dockerfile","startTime":1673014126012,"endTime":1673014800706,"clone":{"startTime":1673014126013,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/opendronemap/webodm'...\n","error":null,"endTime":1673014129264,"commit":"4a1923a95cc4ab9e0568a917353cb1304d95abe1"},"originalBuild":{"startTime":1673014129342,"endTime":1673014800592,"error":{"code":100,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t webodm:latest -f /tmp/dinghy-analysis/opendronemap/webodm/Dockerfile ."},"stdout":"Sending build context to Docker daemon  52.19MB\r\r\nStep 1/11 : FROM ubuntu:21.04\n21.04: Pulling from library/ubuntu\n6f172cdbcbef: Pulling fs layer\n6f172cdbcbef: Verifying Checksum\n6f172cdbcbef: Download complete\n6f172cdbcbef: Pull complete\nDigest: sha256:ba394fabd516b39ccf8597ec656a9ddd7d0a2688ed8cb373ca7ac9b6fe67848f\nStatus: Downloaded newer image for ubuntu:21.04\n ---> 7cc39f89fa58\nStep 2/11 : MAINTAINER Piero Toffanin <pt@masseranolabs.com>\n ---> Running in afbdfbba42f6\nRemoving intermediate container afbdfbba42f6\n ---> e7bc133bfc77\nStep 3/11 : ARG TEST_BUILD\n ---> Running in 4b635ec6a75f\nRemoving intermediate container 4b635ec6a75f\n ---> 536a1af40449\nStep 4/11 : ENV PYTHONUNBUFFERED 1\n ---> Running in 5c8cb3e984bb\nRemoving intermediate container 5c8cb3e984bb\n ---> 37cb06a711d4\nStep 5/11 : ENV PYTHONPATH $PYTHONPATH:/webodm\n ---> Running in 375f9ebc23fd\nRemoving intermediate container 375f9ebc23fd\n ---> 78d831935059\nStep 6/11 : ENV PROJ_LIB=/usr/share/proj\n ---> Running in 99f3642eb587\nRemoving intermediate container 99f3642eb587\n ---> 715cb573b62a\nStep 7/11 : ADD . /webodm/\n ---> a9347f918a5d\nStep 8/11 : WORKDIR /webodm\n ---> Running in 940baf51648d\nRemoving intermediate container 940baf51648d\n ---> 7aa6b919a560\nStep 9/11 : RUN printf \"deb http://old-releases.ubuntu.com/ubuntu/ hirsute main restricted\\ndeb http://old-releases.ubuntu.com/ubuntu/ hirsute-updates main restricted\\ndeb http://old-releases.ubuntu.com/ubuntu/ hirsute universe\\ndeb http://old-releases.ubuntu.com/ubuntu/ hirsute-updates universe\\ndeb http://old-releases.ubuntu.com/ubuntu/ hirsute multiverse\\ndeb http://old-releases.ubuntu.com/ubuntu/ hirsute-updates multiverse\\ndeb http://old-releases.ubuntu.com/ubuntu/ hirsute-backports main restricted universe multiverse\" > /etc/apt/sources.list\n ---> Running in 390b79971276\nRemoving intermediate container 390b79971276\n ---> c03a3148dc3c\nStep 10/11 : RUN apt-get -qq update && apt-get -qq install -y --no-install-recommends wget curl &&     wget --no-check-certificate https://deb.nodesource.com/setup_12.x -O /tmp/node.sh && bash /tmp/node.sh &&     apt-get -qq update && apt-get -qq install -y nodejs &&     apt-get -qq update && apt-get -qq install -y --no-install-recommends python3 python3-pip python3-setuptools python3-wheel git g++ python3-dev python2.7-dev libpq-dev binutils libproj-dev gdal-bin pdal libgdal-dev python3-gdal nginx certbot grass-core gettext-base cron postgresql-client-13 gettext tzdata &&     update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1 && update-alternatives --install /usr/bin/python python /usr/bin/python3.9 2 &&     pip install -U pip && pip install -r requirements.txt \"boto3==1.14.14\" &&     ln -s /webodm/nginx/crontab /var/spool/cron/crontabs/root && chmod 0644 /webodm/nginx/crontab && service cron start && chmod +x /webodm/nginx/letsencrypt-autogen.sh &&     /webodm/nodeodm/setup.sh && /webodm/nodeodm/cleanup.sh && cd /webodm &&     npm install --quiet -g webpack@4.16.5 && npm install --quiet -g webpack-cli@4.2.0 && npm install --quiet && webpack --mode production &&     echo \"UTC\" > /etc/timezone &&     python manage.py collectstatic --noinput &&     python manage.py rebuildplugins &&     python manage.py translate build --safe &&     apt-get remove -y g++ python3-dev libpq-dev && apt-get autoremove -y &&     apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* &&     rm /webodm/webodm/secret_key.py\n ---> Running in 79e32cf3b9b2\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package libsqlite3-0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4342 files and directories currently installed.)\r\nPreparing to unpack .../00-libsqlite3-0_3.34.1-3_amd64.deb ...\r\nUnpacking libsqlite3-0:amd64 (3.34.1-3) ...\r\nSelecting previously unselected package libpsl5:amd64.\r\nPreparing to unpack .../01-libpsl5_0.21.0-1.2_amd64.deb ...\r\nUnpacking libpsl5:amd64 (0.21.0-1.2) ...\r\nSelecting previously unselected package wget.\r\nPreparing to unpack .../02-wget_1.21-1ubuntu3_amd64.deb ...\r\nUnpacking wget (1.21-1ubuntu3) ...\r\nSelecting previously unselected package libbrotli1:amd64.\r\nPreparing to unpack .../03-libbrotli1_1.0.9-2build2_amd64.deb ...\r\nUnpacking libbrotli1:amd64 (1.0.9-2build2) ...\r\nSelecting previously unselected package libroken18-heimdal:amd64.\r\nPreparing to unpack .../04-libroken18-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libroken18-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libasn1-8-heimdal:amd64.\r\nPreparing to unpack .../05-libasn1-8-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libasn1-8-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libheimbase1-heimdal:amd64.\r\nPreparing to unpack .../06-libheimbase1-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libheimbase1-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libhcrypto4-heimdal:amd64.\r\nPreparing to unpack .../07-libhcrypto4-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libhcrypto4-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libwind0-heimdal:amd64.\r\nPreparing to unpack .../08-libwind0-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libwind0-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libhx509-5-heimdal:amd64.\r\nPreparing to unpack .../09-libhx509-5-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libhx509-5-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libkrb5-26-heimdal:amd64.\r\nPreparing to unpack .../10-libkrb5-26-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libkrb5-26-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libheimntlm0-heimdal:amd64.\r\nPreparing to unpack .../11-libheimntlm0-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libheimntlm0-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libgssapi3-heimdal:amd64.\r\nPreparing to unpack .../12-libgssapi3-heimdal_7.7.0+dfsg-2_amd64.deb ...\r\nUnpacking libgssapi3-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSelecting previously unselected package libsasl2-modules-db:amd64.\r\nPreparing to unpack .../13-libsasl2-modules-db_2.1.27+dfsg-2ubuntu1_amd64.deb ...\r\nUnpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-2ubuntu1) ...\r\nSelecting previously unselected package libsasl2-2:amd64.\r\nPreparing to unpack .../14-libsasl2-2_2.1.27+dfsg-2ubuntu1_amd64.deb ...\r\nUnpacking libsasl2-2:amd64 (2.1.27+dfsg-2ubuntu1) ...\r\nSelecting previously unselected package libldap-2.4-2:amd64.\r\nPreparing to unpack .../15-libldap-2.4-2_2.4.57+dfsg-2ubuntu1_amd64.deb ...\r\nUnpacking libldap-2.4-2:amd64 (2.4.57+dfsg-2ubuntu1) ...\r\nSelecting previously unselected package libnghttp2-14:amd64.\r\nPreparing to unpack .../16-libnghttp2-14_1.43.0-1_amd64.deb ...\r\nUnpacking libnghttp2-14:amd64 (1.43.0-1) ...\r\nSelecting previously unselected package librtmp1:amd64.\r\nPreparing to unpack .../17-librtmp1_2.4+20151223.gitfa8646d.1-2build2_amd64.deb ...\r\nUnpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2build2) ...\r\nSelecting previously unselected package libssh-4:amd64.\r\nPreparing to unpack .../18-libssh-4_0.9.5-1ubuntu0.1_amd64.deb ...\r\nUnpacking libssh-4:amd64 (0.9.5-1ubuntu0.1) ...\r\nSelecting previously unselected package libcurl4:amd64.\r\nPreparing to unpack .../19-libcurl4_7.74.0-1ubuntu2.3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.74.0-1ubuntu2.3) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../20-curl_7.74.0-1ubuntu2.3_amd64.deb ...\r\nUnpacking curl (7.74.0-1ubuntu2.3) ...\r\nSetting up libpsl5:amd64 (0.21.0-1.2) ...\r\nSetting up wget (1.21-1ubuntu3) ...\r\nSetting up libbrotli1:amd64 (1.0.9-2build2) ...\r\nSetting up libsqlite3-0:amd64 (3.34.1-3) ...\r\nSetting up libnghttp2-14:amd64 (1.43.0-1) ...\r\nSetting up libsasl2-modules-db:amd64 (2.1.27+dfsg-2ubuntu1) ...\r\nSetting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2build2) ...\r\nSetting up libsasl2-2:amd64 (2.1.27+dfsg-2ubuntu1) ...\r\nSetting up libssh-4:amd64 (0.9.5-1ubuntu0.1) ...\r\nSetting up libroken18-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libheimbase1-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libasn1-8-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libhcrypto4-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libwind0-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libhx509-5-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libkrb5-26-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libheimntlm0-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libgssapi3-heimdal:amd64 (7.7.0+dfsg-2) ...\r\nSetting up libldap-2.4-2:amd64 (2.4.57+dfsg-2ubuntu1) ...\r\nSetting up libcurl4:amd64 (7.74.0-1ubuntu2.3) ...\r\nSetting up curl (7.74.0-1ubuntu2.3) ...\r\nProcessing triggers for libc-bin (2.33-0ubuntu5) ...\r\n\u001b[91m--2023-01-06 14:10:16--  https://deb.nodesource.com/setup_12.x\n\u001b[0m\u001b[91mResolving deb.nodesource.com (deb.nodesource.com)... \u001b[0m\u001b[91m109.105.109.26, 109.105.109.16, 2001:948:5::6d69:6d10, ...\nConnecting to deb.nodesource.com (deb.nodesource.com)|109.105.109.26|:443... \u001b[0m\u001b[91mconnected.\n\u001b[0m\u001b[91mWARNING: cannot verify deb.nodesource.com's certificate, issued by 'CN=R3,O=Let\\'s Encrypt,C=US':\n  Unable to locally verify the issuer's authority.\n\u001b[0m\u001b[91mHTTP request sent, awaiting response... \u001b[0m\u001b[91m200 OK\nLength: 15520 (15K) [text/plain]\nSaving to: '/tmp/node.sh'\n\u001b[0m\u001b[91m\n     0K ........\u001b[0m\u001b[91m.. ....\u001b[0m\u001b[91m.  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m       \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  100%\u001b[0m\u001b[91m  164M=0s\n\n\u001b[0m\u001b[91m2023-01-06 14:10:16 (164 MB/s) - '/tmp/node.sh' saved [15520/15520]\n\n\u001b[0m\n================================================================================\n================================================================================\n\n                              DEPRECATION WARNING                            \n\n  Node.js 12.x is no longer actively supported!\n\n  You will not receive security or critical stability updates for this version.\n\n  You should migrate to a supported version of Node.js as soon as possible.\n  Use the installation script that corresponds to the version of Node.js you\n  wish to install. e.g.\n\n   * https://deb.nodesource.com/setup_14.x — Node.js 14 LTS \"Fermium\" (recommended)\n   * https://deb.nodesource.com/setup_16.x — Node.js 16 \"Gallium\"\n   * https://deb.nodesource.com/setup_18.x — Node.js 18 \"Eighteen\" (current)\n\n  Please see https://github.com/nodejs/Release for details about which\n  version may be appropriate for you.\n\n  The NodeSource Node.js distributions repository contains\n  information both about supported versions of Node.js and supported Linux\n  distributions. To learn more about usage, see the repository:\n    https://github.com/nodesource/distributions\n\n================================================================================\n================================================================================\n\nContinuing in 20 seconds ...\n\n\n## Installing the NodeSource Node.js 12.x repo...\n\n\n## Populating apt-get cache...\n\n+ apt-get update\nHit:1 http://old-releases.ubuntu.com/ubuntu hirsute InRelease\nHit:2 http://old-releases.ubuntu.com/ubuntu hirsute-updates InRelease\nHit:3 http://old-releases.ubuntu.com/ubuntu hirsute-backports InRelease\nReading package lists...\n\n## Installing packages required for setup: lsb-release gnupg...\n\n+ apt-get install -y lsb-release gnupg > /dev/null 2>&1\n\n## Confirming \"hirsute\" is supported...\n\n+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_12.x/dists/hirsute/Release'\n\n## Adding the NodeSource signing key to your keyring...\n\n+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null\n\n## Creating apt sources list file for the NodeSource Node.js 12.x repo...\n\n+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_12.x hirsute main' > /etc/apt/sources.list.d/nodesource.list\n+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_12.x hirsute main' >> /etc/apt/sources.list.d/nodesource.list\n\n## Running `apt-get update` for you...\n\n+ apt-get update\nHit:1 http://old-releases.ubuntu.com/ubuntu hirsute InRelease\nHit:2 http://old-releases.ubuntu.com/ubuntu hirsute-updates InRelease\nHit:3 http://old-releases.ubuntu.com/ubuntu hirsute-backports InRelease\nGet:4 https://deb.nodesource.com/node_12.x hirsute InRelease [4585 B]\nGet:5 https://deb.nodesource.com/node_12.x hirsute/main amd64 Packages [774 B]\nFetched 5359 B in 1s (4549 B/s)\nReading package lists...\n\n## Run `sudo apt-get install -y nodejs` to install Node.js 12.x and npm\n## You may also need development tools to build native addons:\n     sudo apt-get install gcc g++ make\n## To install the Yarn package manager, run:\n     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null\n     echo \"deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\n     sudo apt-get update && sudo apt-get install yarn\n\n\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package nodejs.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 7634 files and directories currently installed.)\r\nPreparing to unpack .../nodejs_12.22.12-deb-1nodesource1_amd64.deb ...\r\nUnpacking nodejs (12.22.12-deb-1nodesource1) ...\r\nSetting up nodejs (12.22.12-deb-1nodesource1) ...\r\n\u001b[91mE: Failed to fetch http://old-releases.ubuntu.com/ubuntu/pool/main/p/python3-stdlib-extensions/python3-distutils_3.9.5-0ubuntu3%7e21.04_all.deb  Error reading from server - read (104: Connection reset by peer) [IP: 185.125.190.37 80]\nE: Failed to fetch http://old-releases.ubuntu.com/ubuntu/pool/main/libx/libxml2/libxml2-dev_2.9.10%2bdfsg-6.3ubuntu0.1_amd64.deb  Error reading from server - read (104: Connection reset by peer) [IP: 185.125.190.37 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n\u001b[0mRemoving intermediate container 79e32cf3b9b2\n","stderr":"The command '/bin/sh -c apt-get -qq update && apt-get -qq install -y --no-install-recommends wget curl &&     wget --no-check-certificate https://deb.nodesource.com/setup_12.x -O /tmp/node.sh && bash /tmp/node.sh &&     apt-get -qq update && apt-get -qq install -y nodejs &&     apt-get -qq update && apt-get -qq install -y --no-install-recommends python3 python3-pip python3-setuptools python3-wheel git g++ python3-dev python2.7-dev libpq-dev binutils libproj-dev gdal-bin pdal libgdal-dev python3-gdal nginx certbot grass-core gettext-base cron postgresql-client-13 gettext tzdata &&     update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1 && update-alternatives --install /usr/bin/python python /usr/bin/python3.9 2 &&     pip install -U pip && pip install -r requirements.txt \"boto3==1.14.14\" &&     ln -s /webodm/nginx/crontab /var/spool/cron/crontabs/root && chmod 0644 /webodm/nginx/crontab && service cron start && chmod +x /webodm/nginx/letsencrypt-autogen.sh &&     /webodm/nodeodm/setup.sh && /webodm/nodeodm/cleanup.sh && cd /webodm &&     npm install --quiet -g webpack@4.16.5 && npm install --quiet -g webpack-cli@4.2.0 && npm install --quiet && webpack --mode production &&     echo \"UTC\" > /etc/timezone &&     python manage.py collectstatic --noinput &&     python manage.py rebuildplugins &&     python manage.py translate build --safe &&     apt-get remove -y g++ python3-dev libpq-dev && apt-get autoremove -y &&     apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* &&     rm /webodm/webodm/secret_key.py' returned a non-zero code: 100\n"}}