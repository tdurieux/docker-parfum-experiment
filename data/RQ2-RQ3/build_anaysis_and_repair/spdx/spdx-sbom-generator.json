{"repository":"https://github.com/spdx/spdx-sbom-generator","dockerfilePath":"Dockerfile","startTime":1672038600587,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/spdx/spdx-sbom-generator'...\n","error":null,"commit":"bb25d268d066fa4aee3bac520cd086c1a726ccee"},"originalBuild":{"startTimestamp":1672038602320,"endTimestamp":1672038682555,"error":null,"stdout":"Sending build context to Docker daemon  1.305MB\r\r\nStep 1/19 : FROM golang:1.17-alpine AS build\n ---> 270c4f58750f\nStep 2/19 : ARG VERSION=latest\n ---> Running in 46ce216164f2\nRemoving intermediate container 46ce216164f2\n ---> c95803f4e2ac\nStep 3/19 : ARG GIT_HASH\n ---> Running in 4c9c6dab33d6\nRemoving intermediate container 4c9c6dab33d6\n ---> e0cfafc4b907\nStep 4/19 : WORKDIR /src\n ---> Running in 2e1aa419631f\nRemoving intermediate container 2e1aa419631f\n ---> 0b9683ff41bf\nStep 5/19 : COPY go.mod go.sum ./\n ---> 1c55d0f6681a\nStep 6/19 : RUN go mod download\n ---> Running in 0a08f8a43a07\nRemoving intermediate container 0a08f8a43a07\n ---> 2df52172b172\nStep 7/19 : COPY / .\n ---> 8ef21b461ad2\nStep 8/19 : RUN GO111MODULE=on GOFLAGS=-mod=vendor go mod vendor\n ---> Running in 024a76c16ecf\nRemoving intermediate container 024a76c16ecf\n ---> 4ac152e7271f\nStep 9/19 : RUN GO111MODULE=on GOFLAGS=-mod=vendor go mod tidy\n ---> Running in 90d26a1c59ab\nRemoving intermediate container 90d26a1c59ab\n ---> 62ec8ad081e5\nStep 10/19 : RUN GO111MODULE=on GOFLAGS=-mod=vendor CGO_ENABLED=0 GOOS=linux GOARCH=amd64     go build -o spdx-sbom-generator ./cmd/generator/generator.go\n ---> Running in b5269545550c\nRemoving intermediate container b5269545550c\n ---> 04efb2d76560\nStep 11/19 : FROM alpine\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 12/19 : ENV USERNAME=spdx-sbom-generator\n ---> Running in 2d7b34289134\nRemoving intermediate container 2d7b34289134\n ---> 80b4fa2d3639\nStep 13/19 : RUN apk add --update ruby && gem install bundler\n ---> Running in 4e5e79c69084\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ca-certificates (20220614-r3)\n(2/10) Installing gmp (6.2.1-r2)\n(3/10) Installing libffi (3.4.4-r0)\n(4/10) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(5/10) Installing ncurses-libs (6.3_p20221119-r0)\n(6/10) Installing readline (8.2.0-r0)\n(7/10) Installing yaml (0.2.5-r0)\n(8/10) Installing ruby-libs (3.1.3-r0)\n(9/10) Installing libucontext (1.2-r0)\n(10/10) Installing ruby (3.1.3-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 25 MiB in 25 packages\nSuccessfully installed bundler-2.4.1\n1 gem installed\nRemoving intermediate container 4e5e79c69084\n ---> 445589a191e3\nStep 14/19 : RUN apk add go\n ---> Running in 9bc6b5abca90\n(1/11) Installing libgcc (12.2.1_git20220924-r4)\n(2/11) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/11) Installing binutils (2.39-r2)\n(4/11) Installing libgomp (12.2.1_git20220924-r4)\n(5/11) Installing libatomic (12.2.1_git20220924-r4)\n(6/11) Installing isl25 (0.25-r0)\n(7/11) Installing mpfr4 (4.1.0-r0)\n(8/11) Installing mpc1 (1.2.1-r1)\n(9/11) Installing gcc (12.2.1_git20220924-r4)\n(10/11) Installing musl-dev (1.2.3-r4)\n(11/11) Installing go (1.19.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 576 MiB in 36 packages\nRemoving intermediate container 9bc6b5abca90\n ---> 5d240f3070ef\nStep 15/19 : RUN apk add --update maven\n ---> Running in 9e403182a841\n(1/28) Installing java-common (0.5-r0)\n(2/28) Installing p11-kit (0.24.1-r1)\n(3/28) Installing libtasn1 (4.19.0-r0)\n(4/28) Installing p11-kit-trust (0.24.1-r1)\n(5/28) Installing java-cacerts (1.0-r1)\n(6/28) Installing openjdk17-jre-headless (17.0.5_p8-r2)\n(7/28) Installing libxau (1.0.10-r0)\n(8/28) Installing libmd (1.0.4-r0)\n(9/28) Installing libbsd (0.11.7-r0)\n(10/28) Installing libxdmcp (1.1.4-r0)\n(11/28) Installing libxcb (1.15-r0)\n(12/28) Installing libx11 (1.8.3-r0)\n(13/28) Installing libxext (1.3.5-r0)\n(14/28) Installing libxi (1.8-r0)\n(15/28) Installing libxrender (0.9.11-r0)\n(16/28) Installing libxtst (1.2.4-r0)\n(17/28) Installing alsa-lib (1.2.8-r0)\n(18/28) Installing brotli-libs (1.0.9-r9)\n(19/28) Installing libbz2 (1.0.8-r4)\n(20/28) Installing libpng (1.6.38-r0)\n(21/28) Installing freetype (2.12.1-r0)\n(22/28) Installing giflib (5.2.1-r2)\n(23/28) Installing libjpeg-turbo (2.1.4-r0)\n(24/28) Installing lcms2 (2.14-r0)\n(25/28) Installing openjdk17-jre (17.0.5_p8-r2)\n(26/28) Installing openjdk17-jmods (17.0.5_p8-r2)\n(27/28) Installing openjdk17-jdk (17.0.5_p8-r2)\n(28/28) Installing maven (3.8.6-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting java-common-0.5-r0.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 868 MiB in 64 packages\nRemoving intermediate container 9e403182a841\n ---> ef819ae635e6\nStep 16/19 : RUN apk add --update nodejs npm && npm install -g yarn\n ---> Running in da099b723be3\n(1/6) Installing c-ares (1.18.1-r1)\n(2/6) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(3/6) Installing icu-libs (72.1-r1)\n(4/6) Installing nghttp2-libs (1.51.0-r0)\n(5/6) Installing nodejs (18.12.1-r0)\n(6/6) Installing npm (9.1.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 922 MiB in 70 packages\n\nadded 1 package in 876ms\nRemoving intermediate container da099b723be3\n ---> 64544db803de\nStep 17/19 : COPY --from=build /src/spdx-sbom-generator /spdx-sbom-generator\n ---> 565fe164ba68\nStep 18/19 : ENTRYPOINT [\"/spdx-sbom-generator\"]\n ---> Running in 3650d1caa6b1\nRemoving intermediate container 3650d1caa6b1\n ---> 9c0edae5b255\nStep 19/19 : CMD [\"-h\"]\n ---> Running in 463deb3f0059\nRemoving intermediate container 463deb3f0059\n ---> 4b1b739ccc7b\nSuccessfully built 4b1b739ccc7b\nSuccessfully tagged spdx-sbom-generator:latest\n","stderr":"","imageSize":973068896},"repair":{"violations":[],"repairedDockerfile":"# SPDX-License-Identifier: Apache-2.0\n\nFROM golang:1.17-alpine AS build\nARG VERSION=latest\nARG GIT_HASH\n\nWORKDIR /src\n\n# Allow for caching\nCOPY go.mod go.sum ./\nRUN go mod download\n\nCOPY / .\n\nRUN GO111MODULE=on GOFLAGS=-mod=vendor go mod vendor\nRUN GO111MODULE=on GOFLAGS=-mod=vendor go mod tidy\n\nRUN GO111MODULE=on GOFLAGS=-mod=vendor CGO_ENABLED=0 GOOS=linux GOARCH=amd64 \\\n    go build -o spdx-sbom-generator ./cmd/generator/generator.go\n\nFROM alpine\nENV USERNAME=spdx-sbom-generator\n# Ruby\nRUN apk add --update ruby && gem install bundler\n\n# Go\nRUN apk add go\n\n# Java\nRUN apk add --update maven\n\n# Node\nRUN apk add --update nodejs npm && npm install -g yarn\n\nCOPY --from=build /src/spdx-sbom-generator /spdx-sbom-generator\n\nENTRYPOINT [\"/spdx-sbom-generator\"]\n\nCMD [\"-h\"]\n"},"endTime":1672038683089}