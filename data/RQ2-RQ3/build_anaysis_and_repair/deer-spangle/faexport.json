{"repository":"https://github.com/deer-spangle/faexport","dockerfilePath":"Dockerfile","startTime":1672088632472,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/deer-spangle/faexport'...\n","error":null,"commit":"4bad443288e00145a4651c536c362e707f82183f"},"originalBuild":{"startTimestamp":1672088633345,"endTimestamp":1672088716868,"error":null,"stdout":"Sending build context to Docker daemon  468.5kB\r\r\nStep 1/14 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nca7dd9ec2225: Pulling fs layer\nca7dd9ec2225: Verifying Checksum\nca7dd9ec2225: Download complete\nca7dd9ec2225: Pull complete\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 2/14 : MAINTAINER Deer Spangle <deer@spangle.org.uk>\n ---> Running in d2cd286b244e\nRemoving intermediate container d2cd286b244e\n ---> 7606fd6be8a3\nStep 3/14 : ENV BUILD_PACKAGES bash curl-dev ruby-dev build-base\n ---> Running in 950926a893b4\nRemoving intermediate container 950926a893b4\n ---> ffe854b29c20\nStep 4/14 : ENV RUBY_PACKAGES ruby ruby-dev ruby-bigdecimal ruby-json ruby-io-console ruby-bundler\n ---> Running in f5e68b27d523\nRemoving intermediate container f5e68b27d523\n ---> c21c0788c54d\nStep 5/14 : ENV REDIS_PACKAGES redis\n ---> Running in 38ba3f81e5d7\nRemoving intermediate container 38ba3f81e5d7\n ---> 8bbdcefb05df\nStep 6/14 : RUN apk update &&     apk upgrade &&     apk add $BUILD_PACKAGES &&     apk add $RUBY_PACKAGES &&     apk add $REDIS_PACKAGES &&     rm -rf /var/cache/apk/*\n ---> Running in d299041dcff8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-89-gf3ca4ba86a [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-88-gef347edb61 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 6 MiB in 14 packages\n(1/43) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/43) Installing ncurses-libs (6.3_p20220521-r0)\n(3/43) Installing readline (8.1.2-r0)\n(4/43) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/43) Installing libgcc (11.2.1_git20220219-r2)\n(6/43) Installing libstdc++ (11.2.1_git20220219-r2)\n(7/43) Installing binutils (2.38-r3)\n(8/43) Installing libmagic (5.41-r0)\n(9/43) Installing file (5.41-r0)\n(10/43) Installing libgomp (11.2.1_git20220219-r2)\n(11/43) Installing libatomic (11.2.1_git20220219-r2)\n(12/43) Installing gmp (6.2.1-r2)\n(13/43) Installing isl22 (0.22-r0)\n(14/43) Installing mpfr4 (4.1.0-r0)\n(15/43) Installing mpc1 (1.2.1-r0)\n(16/43) Installing gcc (11.2.1_git20220219-r2)\n(17/43) Installing musl-dev (1.2.3-r2)\n(18/43) Installing libc-dev (0.7.2-r3)\n(19/43) Installing g++ (11.2.1_git20220219-r2)\n(20/43) Installing make (4.3-r0)\n(21/43) Installing fortify-headers (1.1-r1)\n(22/43) Installing patch (2.7.6-r7)\n(23/43) Installing build-base (0.5-r3)\n(24/43) Installing pkgconf (1.8.0-r1)\n(25/43) Installing openssl-dev (1.1.1s-r0)\n(26/43) Installing nghttp2-libs (1.47.0-r0)\n(27/43) Installing nghttp2-dev (1.47.0-r0)\n(28/43) Installing zlib-dev (1.2.12-r3)\n(29/43) Installing brotli-libs (1.0.9-r6)\n(30/43) Installing brotli-dev (1.0.9-r6)\n(31/43) Installing ca-certificates (20220614-r0)\n(32/43) Installing libcurl (7.83.1-r5)\n(33/43) Installing curl-dev (7.83.1-r5)\n(34/43) Installing libffi (3.4.2-r1)\n(35/43) Installing libucontext (1.2-r0)\n(36/43) Installing yaml (0.2.5-r0)\n(37/43) Installing ruby-libs (3.1.3-r0)\n(38/43) Installing ruby (3.1.3-r0)\n(39/43) Installing ruby-rdoc (3.1.3-r0)\n(40/43) Installing libgmpxx (6.2.1-r2)\n(41/43) Installing gmp-dev (6.2.1-r2)\n(42/43) Installing libucontext-dev (1.2-r0)\n(43/43) Installing ruby-dev (3.1.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 215 MiB in 57 packages\n(1/1) Installing ruby-bundler (2.3.14-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 217 MiB in 58 packages\n(1/1) Installing redis (7.0.5-r0)\nExecuting redis-7.0.5-r0.pre-install\nExecuting redis-7.0.5-r0.post-install\nExecuting busybox-1.35.0-r17.trigger\nOK: 220 MiB in 59 packages\nRemoving intermediate container d299041dcff8\n ---> 78992ecc012d\nStep 7/14 : RUN mkdir /usr/faexport\n ---> Running in bc9c051b5f95\nRemoving intermediate container bc9c051b5f95\n ---> a88774ab8ba9\nStep 8/14 : WORKDIR /usr/faexport\n ---> Running in 264e11e23693\nRemoving intermediate container 264e11e23693\n ---> 5b690dc7276b\nStep 9/14 : COPY Gemfile /usr/faexport/\n ---> 45d158d68443\nStep 10/14 : COPY Gemfile.lock /usr/faexport/\n ---> 08b63d612e5d\nStep 11/14 : RUN bundle install\n ---> Running in 82f417e7808a\n\u001b[91mDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[0mBundler 2.3.14 is running, but your lockfile was generated with 2.1.2. Installing Bundler 2.1.2 and restarting using that version.\nFetching gem metadata from https://rubygems.org/.\nFetching bundler 2.1.2\nInstalling bundler 2.1.2\n\u001b[91mCalling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated. Please call `DidYouMean.correct_error(error_name, spell_checker)' instead.\n\u001b[0m\u001b[91mDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[0mFetching gem metadata from https://rubygems.org/.......\nFetching concurrent-ruby 1.1.10\nInstalling concurrent-ruby 1.1.10\nFetching i18n 1.12.0\nInstalling i18n 1.12.0\nFetching minitest 5.16.2\nInstalling minitest 5.16.2\nFetching tzinfo 2.0.5\nInstalling tzinfo 2.0.5\nFetching activesupport 7.0.3.1\nInstalling activesupport 7.0.3.1\nFetching builder 3.2.4\nInstalling builder 3.2.4\nUsing bundler 2.1.2\nFetching daemons 1.4.1\nInstalling daemons 1.4.1\nFetching diff-lcs 1.5.0\nInstalling diff-lcs 1.5.0\nFetching eventmachine 1.2.7\nInstalling eventmachine 1.2.7 with native extensions\nFetching temple 0.8.2\nInstalling temple 0.8.2\nFetching tilt 2.0.11\nInstalling tilt 2.0.11\nFetching haml 5.2.2\nInstalling haml 5.2.2\nFetching mini_portile2 2.8.0\nInstalling mini_portile2 2.8.0\nFetching multi_json 1.15.0\nInstalling multi_json 1.15.0\nUsing ruby2_keywords 0.0.5\nFetching mustermann 2.0.2\nInstalling mustermann 2.0.2\nUsing racc 1.6.0\nFetching nokogiri 1.13.8 (x86_64-linux)\nInstalling nokogiri 1.13.8 (x86_64-linux)\nFetching prometheus-client 4.0.0\nInstalling prometheus-client 4.0.0\nFetching rack 2.2.4\nInstalling rack 2.2.4\nFetching rack-protection 2.2.2\nInstalling rack-protection 2.2.2\nFetching redcarpet 3.5.1\nInstalling redcarpet 3.5.1 with native extensions\nFetching redis 4.7.1\nInstalling redis 4.7.1\nFetching rspec-support 3.11.0\nInstalling rspec-support 3.11.0\nFetching rspec-core 3.11.0\nInstalling rspec-core 3.11.0\nFetching rspec-expectations 3.11.0\nInstalling rspec-expectations 3.11.0\nFetching rspec-mocks 3.11.1\nInstalling rspec-mocks 3.11.1\nFetching rspec 3.11.0\nInstalling rspec 3.11.0\nFetching sinatra 2.2.2\nInstalling sinatra 2.2.2\nFetching sinatra-contrib 2.2.2\nInstalling sinatra-contrib 2.2.2\nFetching thin 1.8.1\nInstalling thin 1.8.1 with native extensions\nBundle complete! 11 Gemfile dependencies, 32 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 82f417e7808a\n ---> 2f51ee47d1ad\nStep 12/14 : COPY . /usr/faexport\n ---> ea02a95ed436\nStep 13/14 : EXPOSE 9292/tcp\n ---> Running in 4d1e64f488a3\nRemoving intermediate container 4d1e64f488a3\n ---> 4f2f23cc38f5\nStep 14/14 : ENTRYPOINT [\"sh\",\"/usr/faexport/entrypoint.sh\"]\n ---> Running in 1aba1cce8e61\nRemoving intermediate container 1aba1cce8e61\n ---> 89baf99f9672\nSuccessfully built 89baf99f9672\nSuccessfully tagged faexport:latest\n","stderr":"","imageSize":273758529},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":11,"end":11,"columnStart":4,"columnEnd":27}},{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":26}},{"name":"apkAddUseNoCache","position":{"start":13,"end":13,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM alpine:3.16\nMAINTAINER Deer Spangle <deer@spangle.org.uk>\n\nENV BUILD_PACKAGES bash curl-dev ruby-dev build-base\nENV RUBY_PACKAGES ruby ruby-dev ruby-bigdecimal ruby-json ruby-io-console ruby-bundler\nENV REDIS_PACKAGES redis\n\n# Update and install all of the required packages.\n# At the end, remove the apk cache\nRUN apk update && \\\n    apk upgrade && \\\n    apk add --no-cache $BUILD_PACKAGES && \\\n    apk add --no-cache $RUBY_PACKAGES && \\\n    apk add --no-cache $REDIS_PACKAGES && \\\n    rm -rf /var/cache/apk/*\n\nRUN mkdir /usr/faexport\nWORKDIR /usr/faexport\n\nCOPY Gemfile /usr/faexport/\nCOPY Gemfile.lock /usr/faexport/\nRUN bundle install\n\nCOPY . /usr/faexport\n\nEXPOSE 9292/tcp\n\nENTRYPOINT [\"sh\",\"/usr/faexport/entrypoint.sh\"]"},"repairedBuild":{"startTimestamp":1672088717626,"endTimestamp":1672088838509,"error":null,"stdout":"Sending build context to Docker daemon  468.5kB\r\r\nStep 1/14 : FROM alpine:3.16\n ---> bfe296a52501\nStep 2/14 : MAINTAINER Deer Spangle <deer@spangle.org.uk>\n ---> Running in 83bf73f4739d\nRemoving intermediate container 83bf73f4739d\n ---> 6c020917bb2f\nStep 3/14 : ENV BUILD_PACKAGES bash curl-dev ruby-dev build-base\n ---> Running in 2dfb94e3000c\nRemoving intermediate container 2dfb94e3000c\n ---> 508e470cf1fa\nStep 4/14 : ENV RUBY_PACKAGES ruby ruby-dev ruby-bigdecimal ruby-json ruby-io-console ruby-bundler\n ---> Running in 49be5a8acf77\nRemoving intermediate container 49be5a8acf77\n ---> 12c5aacc6ffd\nStep 5/14 : ENV REDIS_PACKAGES redis\n ---> Running in 2aff1ad920ba\nRemoving intermediate container 2aff1ad920ba\n ---> 90db32632304\nStep 6/14 : RUN apk update &&     apk upgrade &&     apk add --no-cache $BUILD_PACKAGES &&     apk add --no-cache $RUBY_PACKAGES &&     apk add --no-cache $REDIS_PACKAGES &&     rm -rf /var/cache/apk/*\n ---> Running in b2a3edbc0993\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-89-gf3ca4ba86a [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-88-gef347edb61 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/2) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/2) Upgrading musl-utils (1.2.3-r1 -> 1.2.3-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 6 MiB in 14 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/43) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/43) Installing ncurses-libs (6.3_p20220521-r0)\n(3/43) Installing readline (8.1.2-r0)\n(4/43) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/43) Installing libgcc (11.2.1_git20220219-r2)\n(6/43) Installing libstdc++ (11.2.1_git20220219-r2)\n(7/43) Installing binutils (2.38-r3)\n(8/43) Installing libmagic (5.41-r0)\n(9/43) Installing file (5.41-r0)\n(10/43) Installing libgomp (11.2.1_git20220219-r2)\n(11/43) Installing libatomic (11.2.1_git20220219-r2)\n(12/43) Installing gmp (6.2.1-r2)\n(13/43) Installing isl22 (0.22-r0)\n(14/43) Installing mpfr4 (4.1.0-r0)\n(15/43) Installing mpc1 (1.2.1-r0)\n(16/43) Installing gcc (11.2.1_git20220219-r2)\n(17/43) Installing musl-dev (1.2.3-r2)\n(18/43) Installing libc-dev (0.7.2-r3)\n(19/43) Installing g++ (11.2.1_git20220219-r2)\n(20/43) Installing make (4.3-r0)\n(21/43) Installing fortify-headers (1.1-r1)\n(22/43) Installing patch (2.7.6-r7)\n(23/43) Installing build-base (0.5-r3)\n(24/43) Installing pkgconf (1.8.0-r1)\n(25/43) Installing openssl-dev (1.1.1s-r0)\n(26/43) Installing nghttp2-libs (1.47.0-r0)\n(27/43) Installing nghttp2-dev (1.47.0-r0)\n(28/43) Installing zlib-dev (1.2.12-r3)\n(29/43) Installing brotli-libs (1.0.9-r6)\n(30/43) Installing brotli-dev (1.0.9-r6)\n(31/43) Installing ca-certificates (20220614-r0)\n(32/43) Installing libcurl (7.83.1-r5)\n(33/43) Installing curl-dev (7.83.1-r5)\n(34/43) Installing libffi (3.4.2-r1)\n(35/43) Installing libucontext (1.2-r0)\n(36/43) Installing yaml (0.2.5-r0)\n(37/43) Installing ruby-libs (3.1.3-r0)\n(38/43) Installing ruby (3.1.3-r0)\n(39/43) Installing ruby-rdoc (3.1.3-r0)\n(40/43) Installing libgmpxx (6.2.1-r2)\n(41/43) Installing gmp-dev (6.2.1-r2)\n(42/43) Installing libucontext-dev (1.2-r0)\n(43/43) Installing ruby-dev (3.1.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 215 MiB in 57 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ruby-bundler (2.3.14-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 217 MiB in 58 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing redis (7.0.5-r0)\nExecuting redis-7.0.5-r0.pre-install\nExecuting redis-7.0.5-r0.post-install\nExecuting busybox-1.35.0-r17.trigger\nOK: 220 MiB in 59 packages\nRemoving intermediate container b2a3edbc0993\n ---> 6f70bf22e8fb\nStep 7/14 : RUN mkdir /usr/faexport\n ---> Running in d4d988799db7\nRemoving intermediate container d4d988799db7\n ---> b53939069a34\nStep 8/14 : WORKDIR /usr/faexport\n ---> Running in 7c1289c2b1a8\nRemoving intermediate container 7c1289c2b1a8\n ---> 38a86efba48d\nStep 9/14 : COPY Gemfile /usr/faexport/\n ---> 42910caa2b02\nStep 10/14 : COPY Gemfile.lock /usr/faexport/\n ---> 91aca1e4bc8b\nStep 11/14 : RUN bundle install\n ---> Running in a3d7b33de4a0\n\u001b[91mDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[0mBundler 2.3.14 is running, but your lockfile was generated with 2.1.2. Installing Bundler 2.1.2 and restarting using that version.\nFetching gem metadata from https://rubygems.org/.\nFetching bundler 2.1.2\nInstalling bundler 2.1.2\n\u001b[91mCalling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated. Please call `DidYouMean.correct_error(error_name, spell_checker)' instead.\n\u001b[0m\u001b[91mDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[0mFetching gem metadata from https://rubygems.org/.......\nFetching concurrent-ruby 1.1.10\nInstalling concurrent-ruby 1.1.10\nFetching i18n 1.12.0\nInstalling i18n 1.12.0\nFetching minitest 5.16.2\nInstalling minitest 5.16.2\nFetching tzinfo 2.0.5\nInstalling tzinfo 2.0.5\nFetching activesupport 7.0.3.1\nInstalling activesupport 7.0.3.1\nFetching builder 3.2.4\nInstalling builder 3.2.4\nUsing bundler 2.1.2\nFetching daemons 1.4.1\nInstalling daemons 1.4.1\nFetching diff-lcs 1.5.0\nInstalling diff-lcs 1.5.0\nFetching eventmachine 1.2.7\nInstalling eventmachine 1.2.7 with native extensions\nFetching temple 0.8.2\nInstalling temple 0.8.2\nFetching tilt 2.0.11\nInstalling tilt 2.0.11\nFetching haml 5.2.2\nInstalling haml 5.2.2\nFetching mini_portile2 2.8.0\nInstalling mini_portile2 2.8.0\nFetching multi_json 1.15.0\nInstalling multi_json 1.15.0\nUsing ruby2_keywords 0.0.5\nFetching mustermann 2.0.2\nInstalling mustermann 2.0.2\nUsing racc 1.6.0\nFetching nokogiri 1.13.8 (x86_64-linux)\nInstalling nokogiri 1.13.8 (x86_64-linux)\nFetching prometheus-client 4.0.0\nInstalling prometheus-client 4.0.0\nFetching rack 2.2.4\nInstalling rack 2.2.4\nFetching rack-protection 2.2.2\nInstalling rack-protection 2.2.2\nFetching redcarpet 3.5.1\nInstalling redcarpet 3.5.1 with native extensions\nFetching redis 4.7.1\nInstalling redis 4.7.1\nFetching rspec-support 3.11.0\nInstalling rspec-support 3.11.0\nFetching rspec-core 3.11.0\nInstalling rspec-core 3.11.0\nFetching rspec-expectations 3.11.0\nInstalling rspec-expectations 3.11.0\nFetching rspec-mocks 3.11.1\nInstalling rspec-mocks 3.11.1\nFetching rspec 3.11.0\nInstalling rspec 3.11.0\nFetching sinatra 2.2.2\nInstalling sinatra 2.2.2\nFetching sinatra-contrib 2.2.2\nInstalling sinatra-contrib 2.2.2\nFetching thin 1.8.1\nInstalling thin 1.8.1 with native extensions\nBundle complete! 11 Gemfile dependencies, 32 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container a3d7b33de4a0\n ---> de7c93553176\nStep 12/14 : COPY . /usr/faexport\n ---> b146ba96bf9c\nStep 13/14 : EXPOSE 9292/tcp\n ---> Running in ee24c3a991a8\nRemoving intermediate container ee24c3a991a8\n ---> fb39e3b2c109\nStep 14/14 : ENTRYPOINT [\"sh\",\"/usr/faexport/entrypoint.sh\"]\n ---> Running in 99dbc0dc5c69\nRemoving intermediate container 99dbc0dc5c69\n ---> 160daa66435a\nSuccessfully built 160daa66435a\nSuccessfully tagged faexport:latest\n","stderr":"","imageSize":273758562},"endTime":1672088839147}