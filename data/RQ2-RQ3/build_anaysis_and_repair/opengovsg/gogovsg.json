{"repository":"https://github.com/opengovsg/gogovsg","dockerfilePath":"Dockerfile","startTime":1672557568317,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/opengovsg/gogovsg'...\n","error":null,"commit":"d256dd0042936451e1517b245615721051fb0c9e"},"originalBuild":{"startTimestamp":1672557569475,"endTimestamp":1672557806574,"error":null,"stdout":"Sending build context to Docker daemon  10.57MB\r\r\nStep 1/19 : FROM node:16-alpine3.16\n16-alpine3.16: Pulling from library/node\nca7dd9ec2225: Already exists\n3228fde86d5c: Pulling fs layer\n276f45a37225: Pulling fs layer\n2fff6a6395a4: Pulling fs layer\n2fff6a6395a4: Verifying Checksum\n2fff6a6395a4: Download complete\n276f45a37225: Verifying Checksum\n276f45a37225: Download complete\n3228fde86d5c: Verifying Checksum\n3228fde86d5c: Download complete\n3228fde86d5c: Pull complete\n276f45a37225: Pull complete\n2fff6a6395a4: Pull complete\nDigest: sha256:e023c53915c5e20df594809477dc249dd595a8e731a6e214c4dbdcf7431bf942\nStatus: Downloaded newer image for node:16-alpine3.16\n ---> cdb7a20a9b54\nStep 2/19 : LABEL maintainer=\"Open Government Products\" email=\"go@open.gov.sg\"\n ---> Running in c3f972675538\nRemoving intermediate container c3f972675538\n ---> 82da4e7c1406\nStep 3/19 : ARG __ASSET_VARIANT\n ---> Running in 263e036d8eca\nRemoving intermediate container 263e036d8eca\n ---> 0adab85c8035\nStep 4/19 : ENV ASSET_VARIANT=${__ASSET_VARIANT:-gov}\n ---> Running in 74940cc97f3c\nRemoving intermediate container 74940cc97f3c\n ---> eaeb4da914b6\nStep 5/19 : ARG __DD_SERVICE\n ---> Running in 130e89feb931\nRemoving intermediate container 130e89feb931\n ---> df9a807a647c\nStep 6/19 : ENV DD_SERVICE=${__DD_SERVICE}\n ---> Running in 4c45bc1c6766\nRemoving intermediate container 4c45bc1c6766\n ---> 454409bd1fcb\nStep 7/19 : ARG __DD_ENV\n ---> Running in 946ccc868540\nRemoving intermediate container 946ccc868540\n ---> b3a91de2b570\nStep 8/19 : ENV DD_ENV=${__DD_ENV}\n ---> Running in b46752497af7\nRemoving intermediate container b46752497af7\n ---> 138d511234eb\nStep 9/19 : WORKDIR /usr/src/gogovsg\n ---> Running in 5ff657f6cdac\nRemoving intermediate container 5ff657f6cdac\n ---> a8c2b6151cac\nStep 10/19 : EXPOSE 8080\n ---> Running in d641d40a5908\nRemoving intermediate container d641d40a5908\n ---> fc5a7dfab24f\nStep 11/19 : EXPOSE 3000\n ---> Running in 423bd8f0548d\nRemoving intermediate container 423bd8f0548d\n ---> 8a5bf07ae92b\nStep 12/19 : RUN apk update && apk add ttf-freefont && rm -rf /var/cache/apk/*\n ---> Running in e0b95088d6ad\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-91-gd0e167f17b [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-88-gef347edb61 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\n(1/10) Installing expat (2.5.0-r0)\n(2/10) Installing brotli-libs (1.0.9-r6)\n(3/10) Installing libbz2 (1.0.8-r1)\n(4/10) Installing libpng (1.6.37-r1)\n(5/10) Installing freetype (2.12.1-r0)\n(6/10) Installing fontconfig (2.14.0-r0)\n(7/10) Installing encodings (1.0.5-r0)\n(8/10) Installing libfontenc (1.1.4-r0)\n(9/10) Installing mkfontscale (1.2.2-r0)\n(10/10) Installing ttf-freefont (20120503-r2)\nExecuting busybox-1.35.0-r17.trigger\nExecuting fontconfig-2.14.0-r0.trigger\nExecuting mkfontscale-1.2.2-r0.trigger\nOK: 21 MiB in 26 packages\nRemoving intermediate container e0b95088d6ad\n ---> 2341bd62fdd9\nStep 13/19 : RUN wget https://github.com/IBM/plex/blob/master/IBM-Plex-Sans/fonts/complete/ttf/IBMPlexSans-Regular.ttf?raw=true -O /usr/share/fonts/TTF/IBMPlexSans-Regular.ttf\n ---> Running in 6fb27010ed63\n\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to raw.githubusercontent.com (185.199.111.133:443)\n\u001b[0m\u001b[91msaving to '/usr/share/fonts/TTF/IBMPlexSans-Regular.ttf'\n\u001b[0m\u001b[91mIBMPlexSans-Regular. 100% |********************************|  188k  0:00:00 ETA\n'/usr/share/fonts/TTF/IBMPlexSans-Regular.ttf' saved\n\u001b[0mRemoving intermediate container 6fb27010ed63\n ---> d4b597cc4abd\nStep 14/19 : RUN fc-cache -f\n ---> Running in 774a0dc0461a\nRemoving intermediate container 774a0dc0461a\n ---> 34a37bbcf9e3\nStep 15/19 : COPY package.json package-lock.json ./\n ---> 6004d2085933\nStep 16/19 : RUN npm ci --legacy-peer-deps\n ---> Running in 09e01a60e1da\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated redux-devtools-extension@2.13.9: Package moved to @redux-devtools/extension.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated mini-create-react-context@0.4.1: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.7.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated flatten@1.0.3: flatten is deprecated in favor of utility frameworks such as lodash.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.2: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.\n\u001b[0m\u001b[91mnpm WARN deprecated asar@2.1.0: Please use @electron/asar moving forward.  There is no API change, just a package name change\n\u001b[0m\u001b[91mnpm WARN deprecated @types/moment-timezone@0.5.30: This is a stub types definition. moment-timezone provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/helmet@4.0.0: This is a stub types definition. helmet provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js-pure@3.15.2: core-js-pure@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js-pure.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.16.3: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/classnames@2.3.1: This is a stub types definition. classnames provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/system@4.12.1: You can now upgrade to @mui/system. See the guide: https://mui.com/guides/migration-v4/\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/lab@4.0.0-alpha.61: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/styles@4.11.4: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/core@4.12.2: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@6.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\n> GoGovSG@1.73.0 prepare\n> husky install\n\n\nadded 2373 packages, and audited 2374 packages in 32s\n\n151 packages are looking for funding\n  run `npm fund` for details\n\n23 vulnerabilities (2 moderate, 17 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 09e01a60e1da\n ---> 2297e69baf84\nStep 17/19 : COPY . ./\n ---> 72b34439f642\nStep 18/19 : RUN {   echo \"Building...\";   npm run build;   echo \"Removing devDependencies for production...\";   npm prune --production --legacy-peer-deps; }\n ---> Running in 6e012a1e696c\nBuilding...\n\n> GoGovSG@1.73.0 build\n> tsc && webpack --mode production\n\n\u001b[33m[webpack-sentry-sourcemaps] Skipping upload of sourcemaps to Sentry because of missing env vars. Ignore this if it was intended.\u001b[0m\nassets by path assets/*.svg 251 KiB 49 assets\nassets by path assets/*.png 499 KiB\n  asset assets/2.png 257 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/2.png] [big] (auxiliary name: main)\n  asset assets/3.png 127 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/3.png] (auxiliary name: main)\n  asset assets/1.png 53.7 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/1.png] (auxiliary name: main)\n  asset assets/android-chrome-512x512.png 25.6 KiB [emitted] [from: src/client/app/assets/gov/favicon/android-chrome-512x512.png] (auxiliary name: main)\n  asset assets/4.png 13.1 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/4.png] (auxiliary name: main)\n  asset assets/5.png 8.29 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/5.png] (auxiliary name: main)\n  asset assets/android-chrome-192x192.png 6.6 KiB [emitted] [from: src/client/app/assets/gov/favicon/android-chrome-192x192.png] (auxiliary name: main)\n  asset assets/apple-touch-icon.png 5.99 KiB [emitted] [from: src/client/app/assets/gov/favicon/apple-touch-icon.png] (auxiliary name: main)\n  asset assets/favicon-32x32.png 904 bytes [emitted] [from: src/client/app/assets/gov/favicon/favicon-32x32.png] (auxiliary name: main)\n  asset assets/favicon-16x16.png 482 bytes [emitted] [from: src/client/app/assets/gov/favicon/favicon-16x16.png] (auxiliary name: main)\nasset bundle.js 2.9 MiB [emitted] [minimized] [big] (name: main) 2 related assets\nasset favicon.ico 15 KiB [emitted]\nasset index.html 1.32 KiB [emitted]\norphan modules 3.2 MiB [orphan] 1145 modules\nruntime modules 1.69 KiB 8 modules\njavascript modules 7.66 MiB\n  modules by path ./node_modules/ 7 MiB 1372 modules\n  modules by path ./src/ 677 KiB 201 modules\nasset modules 2.5 KiB (javascript) 751 KiB (asset)\n  modules by path ./src/client/app/ 2.17 KiB (javascript) 747 KiB (asset) 53 modules\n  modules by path ./src/client/user/ 336 bytes (javascript) 3.79 KiB (asset)\n    modules by path ./src/client/user/components/Drawer/ 252 bytes (javascript) 2.01 KiB (asset) 6 modules\n    2 modules\njson modules 212 KiB 5 modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  bundle.js (2.9 MiB)\n  assets/2.png (257 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (2.9 MiB)\n      bundle.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.47.0 compiled with 3 warnings in 58044 ms\n\n> GoGovSG@1.73.0 postbuild\n> copyfiles -u 1 src/server/views/**/* build && copyfiles -u 4 src/server/modules/qr/assets/**/* build/server/modules/qr\n\nRemoving devDependencies for production...\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mconfig\u001b[0m\u001b[91m production Use `--omit=dev` instead.\n\u001b[0m\nup to date, audited 733 packages in 6s\n\n66 packages are looking for funding\n  run `npm fund` for details\n\n5 vulnerabilities (4 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 6e012a1e696c\n ---> b3c7ad89ec49\nStep 19/19 : CMD [\"npm\", \"run\", \"start\"]\n ---> Running in 9d160a93dc10\nRemoving intermediate container 9d160a93dc10\n ---> 549297d5ca2f\nSuccessfully built 549297d5ca2f\nSuccessfully tagged gogovsg:latest\n","stderr":"","imageSize":940561678},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":22,"end":22,"columnStart":18,"columnEnd":38}}],"repairedDockerfile":"FROM node:16-alpine3.16\n\nLABEL maintainer=\"Open Government Products\" email=\"go@open.gov.sg\"\n\n# Inject ASSET_VARIANT via build arguments for production\nARG __ASSET_VARIANT\nENV ASSET_VARIANT=${__ASSET_VARIANT:-gov}\n\nARG __DD_SERVICE\nENV DD_SERVICE=${__DD_SERVICE}\n\nARG __DD_ENV\nENV DD_ENV=${__DD_ENV}\n\nWORKDIR /usr/src/gogovsg\n\n# For Express server\nEXPOSE 8080\n\n# For dev webpack server only, proxies to localhost:8080\nEXPOSE 3000\n\nRUN apk update && apk add --no-cache ttf-freefont && rm -rf /var/cache/apk/*\n\n# Installs IBMPlexSans-Regular.ttf for QRCodeService.\nRUN wget https://github.com/IBM/plex/blob/master/IBM-Plex-Sans/fonts/complete/ttf/IBMPlexSans-Regular.ttf?raw=true -O /usr/share/fonts/TTF/IBMPlexSans-Regular.ttf\nRUN fc-cache -f\n\n# Install libraries\nCOPY package.json package-lock.json ./\n\nRUN npm ci --legacy-peer-deps\n\nCOPY . ./\n\nRUN { \\\n  echo \"Building...\"; \\\n  npm run build; \\\n  echo \"Removing devDependencies for production...\"; \\\n  npm prune --production --legacy-peer-deps; \\\n}\n\n# Builds and starts Node server for production\nCMD [\"npm\", \"run\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672557808661,"endTimestamp":1672558001745,"error":null,"stdout":"Sending build context to Docker daemon  10.57MB\r\r\nStep 1/19 : FROM node:16-alpine3.16\n ---> cdb7a20a9b54\nStep 2/19 : LABEL maintainer=\"Open Government Products\" email=\"go@open.gov.sg\"\n ---> Running in 6ab16fe31618\nRemoving intermediate container 6ab16fe31618\n ---> 239196ea43b8\nStep 3/19 : ARG __ASSET_VARIANT\n ---> Running in 7766ddf7b00f\nRemoving intermediate container 7766ddf7b00f\n ---> a8482cd15163\nStep 4/19 : ENV ASSET_VARIANT=${__ASSET_VARIANT:-gov}\n ---> Running in 088132b682b2\nRemoving intermediate container 088132b682b2\n ---> aa0c1d4928ba\nStep 5/19 : ARG __DD_SERVICE\n ---> Running in 81b0f2d7dbdb\nRemoving intermediate container 81b0f2d7dbdb\n ---> dd3833e75e45\nStep 6/19 : ENV DD_SERVICE=${__DD_SERVICE}\n ---> Running in 55784812125c\nRemoving intermediate container 55784812125c\n ---> 98e4210ce411\nStep 7/19 : ARG __DD_ENV\n ---> Running in bf7673fa9fc7\nRemoving intermediate container bf7673fa9fc7\n ---> be775b9998e3\nStep 8/19 : ENV DD_ENV=${__DD_ENV}\n ---> Running in 4578a5b324dd\nRemoving intermediate container 4578a5b324dd\n ---> b828cb66191a\nStep 9/19 : WORKDIR /usr/src/gogovsg\n ---> Running in fa84668f3aee\nRemoving intermediate container fa84668f3aee\n ---> 880a477485e7\nStep 10/19 : EXPOSE 8080\n ---> Running in e861a0cde966\nRemoving intermediate container e861a0cde966\n ---> 1dfaa5dc9f1c\nStep 11/19 : EXPOSE 3000\n ---> Running in a0edde77bbb7\nRemoving intermediate container a0edde77bbb7\n ---> 61234515a1fa\nStep 12/19 : RUN apk update && apk add --no-cache ttf-freefont && rm -rf /var/cache/apk/*\n ---> Running in 42c64788c7bb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\nv3.16.3-91-gd0e167f17b [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]\nv3.16.3-88-gef347edb61 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]\nOK: 17039 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing expat (2.5.0-r0)\n(2/10) Installing brotli-libs (1.0.9-r6)\n(3/10) Installing libbz2 (1.0.8-r1)\n(4/10) Installing libpng (1.6.37-r1)\n(5/10) Installing freetype (2.12.1-r0)\n(6/10) Installing fontconfig (2.14.0-r0)\n(7/10) Installing encodings (1.0.5-r0)\n(8/10) Installing libfontenc (1.1.4-r0)\n(9/10) Installing mkfontscale (1.2.2-r0)\n(10/10) Installing ttf-freefont (20120503-r2)\nExecuting busybox-1.35.0-r17.trigger\nExecuting fontconfig-2.14.0-r0.trigger\nExecuting mkfontscale-1.2.2-r0.trigger\nOK: 21 MiB in 26 packages\nRemoving intermediate container 42c64788c7bb\n ---> 14f91c85b573\nStep 13/19 : RUN wget https://github.com/IBM/plex/blob/master/IBM-Plex-Sans/fonts/complete/ttf/IBMPlexSans-Regular.ttf?raw=true -O /usr/share/fonts/TTF/IBMPlexSans-Regular.ttf\n ---> Running in 93ec077696ad\n\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to raw.githubusercontent.com (185.199.111.133:443)\n\u001b[0m\u001b[91msaving to '/usr/share/fonts/TTF/IBMPlexSans-Regular.ttf'\n\u001b[0m\u001b[91mIBMPlexSans-Regular. 100% |********************************|  188k  0:00:00 ETA\n'/usr/share/fonts/TTF/IBMPlexSans-Regular.ttf' saved\n\u001b[0mRemoving intermediate container 93ec077696ad\n ---> fbb86f4c7e06\nStep 14/19 : RUN fc-cache -f\n ---> Running in 5f6f7683028e\nRemoving intermediate container 5f6f7683028e\n ---> 90cffacf6244\nStep 15/19 : COPY package.json package-lock.json ./\n ---> 5b78db6d0eb9\nStep 16/19 : RUN npm ci --legacy-peer-deps\n ---> Running in b0169c247ebb\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated redux-devtools-extension@2.13.9: Package moved to @redux-devtools/extension.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated mini-create-react-context@0.4.1: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.7.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated flatten@1.0.3: flatten is deprecated in favor of utility frameworks such as lodash.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.2: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.\n\u001b[0m\u001b[91mnpm WARN deprecated asar@2.1.0: Please use @electron/asar moving forward.  There is no API change, just a package name change\n\u001b[0m\u001b[91mnpm WARN deprecated @types/moment-timezone@0.5.30: This is a stub types definition. moment-timezone provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/helmet@4.0.0: This is a stub types definition. helmet provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/classnames@2.3.1: This is a stub types definition. classnames provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/system@4.12.1: You can now upgrade to @mui/system. See the guide: https://mui.com/guides/migration-v4/\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@6.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/styles@4.11.4: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/lab@4.0.0-alpha.61: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated core-js-pure@3.15.2: core-js-pure@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js-pure.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.16.3: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated @material-ui/core@4.12.2: Material UI v4 doesn't receive active development since September 2021. See the guide https://mui.com/material-ui/migration/migration-v4/ to upgrade to v5.\n\u001b[0m\n> GoGovSG@1.73.0 prepare\n> husky install\n\n\nadded 2373 packages, and audited 2374 packages in 29s\n\n151 packages are looking for funding\n  run `npm fund` for details\n\n23 vulnerabilities (2 moderate, 17 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container b0169c247ebb\n ---> 296809517f32\nStep 17/19 : COPY . ./\n ---> c590b96f06fd\nStep 18/19 : RUN {   echo \"Building...\";   npm run build;   echo \"Removing devDependencies for production...\";   npm prune --production --legacy-peer-deps; }\n ---> Running in f107698e6e9e\nBuilding...\n\n> GoGovSG@1.73.0 build\n> tsc && webpack --mode production\n\n\u001b[33m[webpack-sentry-sourcemaps] Skipping upload of sourcemaps to Sentry because of missing env vars. Ignore this if it was intended.\u001b[0m\nassets by path assets/*.svg 251 KiB 49 assets\nassets by path assets/*.png 499 KiB\n  asset assets/2.png 257 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/2.png] [big] (auxiliary name: main)\n  asset assets/3.png 127 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/3.png] (auxiliary name: main)\n  asset assets/1.png 53.7 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/1.png] (auxiliary name: main)\n  asset assets/android-chrome-512x512.png 25.6 KiB [emitted] [from: src/client/app/assets/gov/favicon/android-chrome-512x512.png] (auxiliary name: main)\n  asset assets/4.png 13.1 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/4.png] (auxiliary name: main)\n  asset assets/5.png 8.29 KiB [emitted] [from: src/client/app/assets/gov/components/home/trusted-by-sliver/5.png] (auxiliary name: main)\n  asset assets/android-chrome-192x192.png 6.6 KiB [emitted] [from: src/client/app/assets/gov/favicon/android-chrome-192x192.png] (auxiliary name: main)\n  asset assets/apple-touch-icon.png 5.99 KiB [emitted] [from: src/client/app/assets/gov/favicon/apple-touch-icon.png] (auxiliary name: main)\n  asset assets/favicon-32x32.png 904 bytes [emitted] [from: src/client/app/assets/gov/favicon/favicon-32x32.png] (auxiliary name: main)\n  asset assets/favicon-16x16.png 482 bytes [emitted] [from: src/client/app/assets/gov/favicon/favicon-16x16.png] (auxiliary name: main)\nasset bundle.js 2.9 MiB [emitted] [minimized] [big] (name: main) 2 related assets\nasset favicon.ico 15 KiB [emitted]\nasset index.html 1.32 KiB [emitted]\norphan modules 3.2 MiB [orphan] 1145 modules\nruntime modules 1.69 KiB 8 modules\njavascript modules 7.66 MiB\n  modules by path ./node_modules/ 7 MiB 1372 modules\n  modules by path ./src/ 677 KiB 201 modules\nasset modules 2.5 KiB (javascript) 751 KiB (asset)\n  modules by path ./src/client/app/ 2.17 KiB (javascript) 747 KiB (asset) 53 modules\n  modules by path ./src/client/user/ 336 bytes (javascript) 3.79 KiB (asset)\n    modules by path ./src/client/user/components/Drawer/ 252 bytes (javascript) 2.01 KiB (asset) 6 modules\n    2 modules\njson modules 212 KiB 5 modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  bundle.js (2.9 MiB)\n  assets/2.png (257 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (2.9 MiB)\n      bundle.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.47.0 compiled with 3 warnings in 58479 ms\n\n> GoGovSG@1.73.0 postbuild\n> copyfiles -u 1 src/server/views/**/* build && copyfiles -u 4 src/server/modules/qr/assets/**/* build/server/modules/qr\n\nRemoving devDependencies for production...\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nup to date, audited 733 packages in 7s\n\n66 packages are looking for funding\n  run `npm fund` for details\n\n5 vulnerabilities (4 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container f107698e6e9e\n ---> cc59752ab4ba\nStep 19/19 : CMD [\"npm\", \"run\", \"start\"]\n ---> Running in 9ce07341621e\nRemoving intermediate container 9ce07341621e\n ---> 31f1edef31de\nSuccessfully built 31f1edef31de\nSuccessfully tagged gogovsg:latest\n","stderr":"","imageSize":940561239},"endTime":1672558003757}