{"repository":"https://github.com/yubico/yubihsm-connector","dockerfilePath":"Dockerfile","startTime":1673190352176,"endTime":1673190431057,"clone":{"startTime":1673190352176,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/yubico/yubihsm-connector'...\n","error":null,"endTime":1673190353148,"commit":"caec7432a6d1a560a92778ef7ba44700cf0de343"},"originalBuild":{"startTime":1673190353233,"endTime":1673190408047,"error":null,"stdout":"Sending build context to Docker daemon  590.8kB\r\r\nStep 1/11 : FROM golang:1.17-bullseye AS build\n1.17-bullseye: Pulling from library/golang\nd836772a1c1f: Pulling fs layer\n66a9e63c657a: Pulling fs layer\nd1989b6e74cf: Pulling fs layer\nc28818711e1e: Pulling fs layer\n9d6246ba248c: Pulling fs layer\n21d43f0d73c2: Pulling fs layer\nd8a1c5873f40: Pulling fs layer\nc28818711e1e: Waiting\n9d6246ba248c: Waiting\n21d43f0d73c2: Waiting\nd8a1c5873f40: Waiting\n66a9e63c657a: Verifying Checksum\n66a9e63c657a: Download complete\nd1989b6e74cf: Verifying Checksum\nd1989b6e74cf: Download complete\nd836772a1c1f: Verifying Checksum\nd836772a1c1f: Download complete\n9d6246ba248c: Download complete\nc28818711e1e: Verifying Checksum\nc28818711e1e: Download complete\nd8a1c5873f40: Verifying Checksum\nd8a1c5873f40: Download complete\nd836772a1c1f: Pull complete\n21d43f0d73c2: Verifying Checksum\n21d43f0d73c2: Download complete\n66a9e63c657a: Pull complete\nd1989b6e74cf: Pull complete\nc28818711e1e: Pull complete\n9d6246ba248c: Pull complete\n21d43f0d73c2: Pull complete\nd8a1c5873f40: Pull complete\nDigest: sha256:c10d8b1987ad5ddf7816d2f3a56e4a58b5826285dc1449edbb061b3aad25648b\nStatus: Downloaded newer image for golang:1.17-bullseye\n ---> 742df529b073\nStep 2/11 : RUN apt-get update -y && \tapt-get install -y \t\tcurl \t\tgit \t\tpkg-config \t\tbuild-essential \t\tlibusb-1.0.0-dev && \tapt-get clean &&\trm -rf /var/lib/apt/lists/*\n ---> Running in 0bf5793b0d6d\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6793 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.30.2-1).\npkg-config is already the newest version (0.29.2-1).\nThe following additional packages will be installed:\n  bzip2 dpkg-dev fakeroot libalgorithm-diff-perl libalgorithm-diff-xs-perl\n  libalgorithm-merge-perl libcurl4 libdpkg-perl libfakeroot libusb-1.0-0\n  libusb-1.0-doc patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring bzr ed diffutils-doc\nRecommended packages:\n  libfile-fcntllock-perl liblocale-gettext-perl\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev fakeroot libalgorithm-diff-perl\n  libalgorithm-diff-xs-perl libalgorithm-merge-perl libfakeroot libusb-1.0-0\n  libusb-1.0-0-dev libusb-1.0-doc patch xz-utils\nThe following packages will be upgraded:\n  curl libcurl4 libdpkg-perl\n3 upgraded, 13 newly installed, 0 to remove and 24 not upgraded.\nNeed to get 5417 kB of archives.\nAfter this operation, 6431 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 bzip2 amd64 1.0.8-4 [49.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 xz-utils amd64 5.2.5-2.1~deb11u1 [220 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libdpkg-perl all 1.20.12 [1551 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 patch amd64 2.7.6-7 [128 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 dpkg-dev all 1.20.12 [2312 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 curl amd64 7.74.0-1.3+deb11u3 [269 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libcurl4 amd64 7.74.0-1.3+deb11u3 [345 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libfakeroot amd64 1.25.3-1.1 [47.0 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 fakeroot amd64 1.25.3-1.1 [87.0 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 libalgorithm-diff-perl all 1.201-1 [43.3 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 libalgorithm-diff-xs-perl amd64 0.04-6+b1 [12.0 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 libalgorithm-merge-perl all 0.08-3 [12.7 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0 amd64 2:1.0.24-3 [60.2 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0-dev amd64 2:1.0.24-3 [80.4 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-doc all 2:1.0.24-3 [192 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 5417 kB in 0s (81.8 MB/s)\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15717 files and directories currently installed.)\r\nPreparing to unpack .../00-bzip2_1.0.8-4_amd64.deb ...\r\nUnpacking bzip2 (1.0.8-4) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../01-xz-utils_5.2.5-2.1~deb11u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.5-2.1~deb11u1) ...\r\nPreparing to unpack .../02-libdpkg-perl_1.20.12_all.deb ...\r\nUnpacking libdpkg-perl (1.20.12) over (1.20.11) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../03-patch_2.7.6-7_amd64.deb ...\r\nUnpacking patch (2.7.6-7) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../04-dpkg-dev_1.20.12_all.deb ...\r\nUnpacking dpkg-dev (1.20.12) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../05-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nPreparing to unpack .../06-curl_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking curl (7.74.0-1.3+deb11u3) over (7.74.0-1.3+deb11u1) ...\r\nPreparing to unpack .../07-libcurl4_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.74.0-1.3+deb11u3) over (7.74.0-1.3+deb11u1) ...\r\nSelecting previously unselected package libfakeroot:amd64.\r\nPreparing to unpack .../08-libfakeroot_1.25.3-1.1_amd64.deb ...\r\nUnpacking libfakeroot:amd64 (1.25.3-1.1) ...\r\nSelecting previously unselected package fakeroot.\r\nPreparing to unpack .../09-fakeroot_1.25.3-1.1_amd64.deb ...\r\nUnpacking fakeroot (1.25.3-1.1) ...\r\nSelecting previously unselected package libalgorithm-diff-perl.\r\nPreparing to unpack .../10-libalgorithm-diff-perl_1.201-1_all.deb ...\r\nUnpacking libalgorithm-diff-perl (1.201-1) ...\r\nSelecting previously unselected package libalgorithm-diff-xs-perl.\r\nPreparing to unpack .../11-libalgorithm-diff-xs-perl_0.04-6+b1_amd64.deb ...\r\nUnpacking libalgorithm-diff-xs-perl (0.04-6+b1) ...\r\nSelecting previously unselected package libalgorithm-merge-perl.\r\nPreparing to unpack .../12-libalgorithm-merge-perl_0.08-3_all.deb ...\r\nUnpacking libalgorithm-merge-perl (0.08-3) ...\r\nSelecting previously unselected package libusb-1.0-0:amd64.\r\nPreparing to unpack .../13-libusb-1.0-0_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSelecting previously unselected package libusb-1.0-0-dev:amd64.\r\nPreparing to unpack .../14-libusb-1.0-0-dev_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nSelecting previously unselected package libusb-1.0-doc.\r\nPreparing to unpack .../15-libusb-1.0-doc_2%3a1.0.24-3_all.deb ...\r\nUnpacking libusb-1.0-doc (2:1.0.24-3) ...\r\nSetting up libalgorithm-diff-perl (1.201-1) ...\r\nSetting up libusb-1.0-doc (2:1.0.24-3) ...\r\nSetting up bzip2 (1.0.8-4) ...\r\nSetting up libfakeroot:amd64 (1.25.3-1.1) ...\r\nSetting up fakeroot (1.25.3-1.1) ...\r\nupdate-alternatives: using /usr/bin/fakeroot-sysv to provide /usr/bin/fakeroot (fakeroot) in auto mode\r\nSetting up xz-utils (5.2.5-2.1~deb11u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-7) ...\r\nSetting up libdpkg-perl (1.20.12) ...\r\nSetting up libcurl4:amd64 (7.74.0-1.3+deb11u3) ...\r\nSetting up curl (7.74.0-1.3+deb11u3) ...\r\nSetting up libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSetting up libalgorithm-diff-xs-perl (0.04-6+b1) ...\r\nSetting up libalgorithm-merge-perl (0.08-3) ...\r\nSetting up libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nSetting up dpkg-dev (1.20.12) ...\r\nSetting up build-essential (12.9) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u3) ...\r\nRemoving intermediate container 0bf5793b0d6d\n ---> cd90b39041a1\nStep 3/11 : COPY . /usr/lib/src/yubihsm-connector\n ---> 46202a997821\nStep 4/11 : WORKDIR /usr/lib/src/yubihsm-connector\n ---> Running in beed7be2e5f3\nRemoving intermediate container beed7be2e5f3\n ---> 5a8803197d53\nStep 5/11 : RUN make rebuild\n ---> Running in 58b6043725eb\n\u001b[91mgo: downloading github.com/kardianos/service v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.4.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\n\u001b[0m\u001b[91mgo: downloading github.com/google/gousb v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220422013727-9388b58f7150\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.8.2\ngo: downloading github.com/spf13/cast v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.5.3\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.66.4\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\ngo: downloading github.com/magiconair/properties v1.8.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0mRemoving intermediate container 58b6043725eb\n ---> fb3da44ed05c\nStep 6/11 : FROM debian:bullseye-slim\nbullseye-slim: Pulling from library/debian\n3f4ca61aafcd: Already exists\nDigest: sha256:171530d298096f0697da36b3324182e872db77c66452b85783ea893680cc1b62\nStatus: Downloaded newer image for debian:bullseye-slim\n ---> dd94cb611937\nStep 7/11 : RUN apt-get update -y && \tapt-get install -y libusb-1.0.0 && \tapt-get clean && \trm -rf /var/lib/apt/lists/*\n ---> Running in b387fcdf90c5\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6609 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libusb-1.0-doc\nThe following NEW packages will be installed:\n  libusb-1.0-0 libusb-1.0-0-dev libusb-1.0-doc\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 332 kB of archives.\nAfter this operation, 2090 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0 amd64 2:1.0.24-3 [60.2 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0-dev amd64 2:1.0.24-3 [80.4 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-doc all 2:1.0.24-3 [192 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 332 kB in 0s (8692 kB/s)\nSelecting previously unselected package libusb-1.0-0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../libusb-1.0-0_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSelecting previously unselected package libusb-1.0-0-dev:amd64.\r\nPreparing to unpack .../libusb-1.0-0-dev_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nSelecting previously unselected package libusb-1.0-doc.\r\nPreparing to unpack .../libusb-1.0-doc_2%3a1.0.24-3_all.deb ...\r\nUnpacking libusb-1.0-doc (2:1.0.24-3) ...\r\nSetting up libusb-1.0-doc (2:1.0.24-3) ...\r\nSetting up libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSetting up libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container b387fcdf90c5\n ---> 86bc4f06e3cc\nStep 8/11 : COPY --from=build /usr/lib/src/yubihsm-connector/bin/yubihsm-connector /usr/local/bin/\n ---> 62640e16d600\nStep 9/11 : ENV YUBIHSM_CONNECTOR_LISTEN=0.0.0.0:12345\n ---> Running in d627ab92328f\nRemoving intermediate container d627ab92328f\n ---> d448d42a8f73\nStep 10/11 : ENTRYPOINT [\"yubihsm-connector\"]\n ---> Running in 16e281a6d7e9\nRemoving intermediate container 16e281a6d7e9\n ---> bf37516a92ca\nStep 11/11 : CMD [\"-d\"]\n ---> Running in bea30bf25090\nRemoving intermediate container bea30bf25090\n ---> 92fbb65689dd\nSuccessfully built 92fbb65689dd\nSuccessfully tagged yubihsm-connector:latest\n","stderr":"","imageSize":93920063},"repair":{"startTime":1673190408117,"endTime":1673190408220,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":3,"end":8,"columnStart":1,"columnEnd":18}},{"name":"aptGetInstallUseNoRec","position":{"start":22,"end":22,"columnStart":1,"columnEnd":32}}],"repairedDockerfile":"FROM golang:1.17-bullseye AS build\n\nRUN apt-get update -y && \\\n\tapt-get install --no-install-recommends -y \\\n\t\tcurl \\\n\t\tgit \\\n\t\tpkg-config \\\n\t\tbuild-essential \\\n\t\tlibusb-1.0.0-dev && \\\n\tapt-get clean && \\\n\trm -rf /var/lib/apt/lists/*\n\nCOPY . /usr/lib/src/yubihsm-connector\n\nWORKDIR /usr/lib/src/yubihsm-connector\n\nRUN make rebuild\n\n\nFROM debian:bullseye-slim\n\nRUN apt-get update -y && \\\n\tapt-get install --no-install-recommends -y libusb-1.0.0 && \\\n\tapt-get clean && \\\n\trm -rf /var/lib/apt/lists/*\n\nCOPY --from=build /usr/lib/src/yubihsm-connector/bin/yubihsm-connector /usr/local/bin/\n\nENV YUBIHSM_CONNECTOR_LISTEN=0.0.0.0:12345\n\nENTRYPOINT [\"yubihsm-connector\"]\nCMD [\"-d\"]\n"},"repairedBuild":{"startTime":1673190408374,"endTime":1673190430824,"error":null,"stdout":"Sending build context to Docker daemon  590.8kB\r\r\nStep 1/11 : FROM golang:1.17-bullseye AS build\n ---> 742df529b073\nStep 2/11 : RUN apt-get update -y && \tapt-get install --no-install-recommends -y \t\tcurl \t\tgit \t\tpkg-config \t\tbuild-essential \t\tlibusb-1.0.0-dev && \tapt-get clean && \trm -rf /var/lib/apt/lists/*\n ---> Running in 1d63112192e8\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6798 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.30.2-1).\npkg-config is already the newest version (0.29.2-1).\nThe following additional packages will be installed:\n  bzip2 dpkg-dev libcurl4 libdpkg-perl libusb-1.0-0 patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring bzr ed diffutils-doc\nRecommended packages:\n  fakeroot libalgorithm-merge-perl libfile-fcntllock-perl\n  liblocale-gettext-perl libusb-1.0-doc\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev libusb-1.0-0 libusb-1.0-0-dev patch xz-utils\nThe following packages will be upgraded:\n  curl libcurl4 libdpkg-perl\n3 upgraded, 7 newly installed, 0 to remove and 24 not upgraded.\nNeed to get 5023 kB of archives.\nAfter this operation, 4188 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 bzip2 amd64 1.0.8-4 [49.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 xz-utils amd64 5.2.5-2.1~deb11u1 [220 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libdpkg-perl all 1.20.12 [1551 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 patch amd64 2.7.6-7 [128 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 dpkg-dev all 1.20.12 [2312 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 curl amd64 7.74.0-1.3+deb11u3 [269 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libcurl4 amd64 7.74.0-1.3+deb11u3 [345 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0 amd64 2:1.0.24-3 [60.2 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0-dev amd64 2:1.0.24-3 [80.4 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 5023 kB in 0s (45.7 MB/s)\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15717 files and directories currently installed.)\r\nPreparing to unpack .../0-bzip2_1.0.8-4_amd64.deb ...\r\nUnpacking bzip2 (1.0.8-4) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../1-xz-utils_5.2.5-2.1~deb11u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.5-2.1~deb11u1) ...\r\nPreparing to unpack .../2-libdpkg-perl_1.20.12_all.deb ...\r\nUnpacking libdpkg-perl (1.20.12) over (1.20.11) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../3-patch_2.7.6-7_amd64.deb ...\r\nUnpacking patch (2.7.6-7) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../4-dpkg-dev_1.20.12_all.deb ...\r\nUnpacking dpkg-dev (1.20.12) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../5-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nPreparing to unpack .../6-curl_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking curl (7.74.0-1.3+deb11u3) over (7.74.0-1.3+deb11u1) ...\r\nPreparing to unpack .../7-libcurl4_7.74.0-1.3+deb11u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.74.0-1.3+deb11u3) over (7.74.0-1.3+deb11u1) ...\r\nSelecting previously unselected package libusb-1.0-0:amd64.\r\nPreparing to unpack .../8-libusb-1.0-0_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSelecting previously unselected package libusb-1.0-0-dev:amd64.\r\nPreparing to unpack .../9-libusb-1.0-0-dev_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nSetting up bzip2 (1.0.8-4) ...\r\nSetting up xz-utils (5.2.5-2.1~deb11u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-7) ...\r\nSetting up libdpkg-perl (1.20.12) ...\r\nSetting up libcurl4:amd64 (7.74.0-1.3+deb11u3) ...\r\nSetting up curl (7.74.0-1.3+deb11u3) ...\r\nSetting up libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSetting up libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nSetting up dpkg-dev (1.20.12) ...\r\nSetting up build-essential (12.9) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u3) ...\r\nRemoving intermediate container 1d63112192e8\n ---> e3aef39b3c4f\nStep 3/11 : COPY . /usr/lib/src/yubihsm-connector\n ---> dd9afcd2d0ef\nStep 4/11 : WORKDIR /usr/lib/src/yubihsm-connector\n ---> Running in 7730a9254f2a\nRemoving intermediate container 7730a9254f2a\n ---> 36ca5cb0c3f1\nStep 5/11 : RUN make rebuild\n ---> Running in 6b9f10c6f636\n\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\ngo: downloading github.com/google/gousb v1.1.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\ngo: downloading github.com/kardianos/service v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220422013727-9388b58f7150\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.5.3\ngo: downloading github.com/spf13/cast v1.4.1\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.8.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\ngo: downloading github.com/subosito/gotenv v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.6\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.66.4\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0mRemoving intermediate container 6b9f10c6f636\n ---> e929bf9c16ec\nStep 6/11 : FROM debian:bullseye-slim\n ---> dd94cb611937\nStep 7/11 : RUN apt-get update -y && \tapt-get install --no-install-recommends -y libusb-1.0.0 && \tapt-get clean && \trm -rf /var/lib/apt/lists/*\n ---> Running in 940de0e787ae\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6885 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nRecommended packages:\n  libusb-1.0-doc\nThe following NEW packages will be installed:\n  libusb-1.0-0 libusb-1.0-0-dev\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 141 kB of archives.\nAfter this operation, 470 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0 amd64 2:1.0.24-3 [60.2 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libusb-1.0-0-dev amd64 2:1.0.24-3 [80.4 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 141 kB in 0s (6340 kB/s)\nSelecting previously unselected package libusb-1.0-0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../libusb-1.0-0_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSelecting previously unselected package libusb-1.0-0-dev:amd64.\r\nPreparing to unpack .../libusb-1.0-0-dev_2%3a1.0.24-3_amd64.deb ...\r\nUnpacking libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nSetting up libusb-1.0-0:amd64 (2:1.0.24-3) ...\r\nSetting up libusb-1.0-0-dev:amd64 (2:1.0.24-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 940de0e787ae\n ---> 677db9a42df9\nStep 8/11 : COPY --from=build /usr/lib/src/yubihsm-connector/bin/yubihsm-connector /usr/local/bin/\n ---> b19fa47b0297\nStep 9/11 : ENV YUBIHSM_CONNECTOR_LISTEN=0.0.0.0:12345\n ---> Running in 63c4fbcf12ac\nRemoving intermediate container 63c4fbcf12ac\n ---> 1ab1a2b7491c\nStep 10/11 : ENTRYPOINT [\"yubihsm-connector\"]\n ---> Running in d02aa5a1173f\nRemoving intermediate container d02aa5a1173f\n ---> 23a28be52954\nStep 11/11 : CMD [\"-d\"]\n ---> Running in a8d85ad8ee45\nRemoving intermediate container a8d85ad8ee45\n ---> f45274a469c9\nSuccessfully built f45274a469c9\nSuccessfully tagged yubihsm-connector:latest\n","stderr":"","imageSize":93902908}}