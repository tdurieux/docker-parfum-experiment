{"repository":"https://github.com/ignitus/ignitus-rest-api","dockerfilePath":"Dockerfile","startTime":1672727786781,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ignitus/ignitus-rest-api'...\n","error":null,"commit":"ba7077aa3b25582ecbf7d8d645ce0950eca5033e"},"originalBuild":{"startTimestamp":1672727787629,"endTimestamp":1672727855678,"error":null,"stdout":"Sending build context to Docker daemon  249.9kB\r\r\nStep 1/7 : FROM node:10\n ---> 28dca6642db8\nStep 2/7 : WORKDIR /usr/src/api\n ---> Running in 813f38a107af\nRemoving intermediate container 813f38a107af\n ---> 011b368a1c63\nStep 3/7 : COPY package*.json ./\n ---> e036452b1b5f\nStep 4/7 : RUN npm install\n ---> Running in dce3f7952a9d\n\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated bcrypt@3.0.8: versions < v5.0.0 do not handle NUL in passwords properly\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/mongodb@4.0.7: mongodb provides its own types. @types/mongodb is no longer needed.\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.14.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated @types/bson@4.2.0: This is a stub types definition. bson provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\n> bcrypt@3.0.8 install /usr/src/api/node_modules/bcrypt\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m Using needle for node-pre-gyp https download \n\u001b[0m[bcrypt] Success: \"/usr/src/api/node_modules/bcrypt/lib/binding/bcrypt_lib.node\" is installed via remote\n\n> core-js@2.6.12 postinstall /usr/src/api/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> nodemon@1.19.4 postinstall /usr/src/api/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN lifecycle ignitus-server@1.0.0~postinstall: cannot run in wd ignitus-server@1.0.0 npm run tsc (wd=/usr/src/api)\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^2.1.2 (node_modules/jest-haste-map/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m ts-jest@26.1.1 requires a peer of typescript@>=3.8 <4.0 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91m\n\u001b[0madded 1220 packages from 637 contributors and audited 1223 packages in 40.927s\n\n87 packages are looking for funding\n  run `npm fund` for details\n\nfound 11 vulnerabilities (5 moderate, 5 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container dce3f7952a9d\n ---> 6d01d2832931\nStep 5/7 : COPY . .\n ---> 39c77690fe9e\nStep 6/7 : EXPOSE 4000\n ---> Running in e769bb134090\nRemoving intermediate container e769bb134090\n ---> 1e67f4b83ca2\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in c919cd293a43\nRemoving intermediate container c919cd293a43\n ---> aaf12b06fc3c\nSuccessfully built aaf12b06fc3c\nSuccessfully tagged ignitus-rest-api:latest\n","stderr":"","imageSize":1189208769},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:10\n\nWORKDIR /usr/src/api\n\nCOPY package*.json ./\n\nRUN npm install\n\nCOPY . .\n\nEXPOSE 4000\n\nCMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTimestamp":1672727856888,"endTimestamp":1672727901838,"error":null,"stdout":"Sending build context to Docker daemon  249.9kB\r\r\nStep 1/7 : FROM node:10\n ---> 28dca6642db8\nStep 2/7 : WORKDIR /usr/src/api\n ---> Running in 382543179e5d\nRemoving intermediate container 382543179e5d\n ---> ba98d953ed47\nStep 3/7 : COPY package*.json ./\n ---> 74f80748ae2e\nStep 4/7 : RUN npm install\n ---> Running in 0489d461e26f\n\u001b[91mnpm WARN deprecated bcrypt@3.0.8: versions < v5.0.0 do not handle NUL in passwords properly\n\u001b[0m\u001b[91mnpm WARN deprecated @types/mongodb@4.0.7: mongodb provides its own types. @types/mongodb is no longer needed.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.14.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated @types/bson@4.2.0: This is a stub types definition. bson provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\n> bcrypt@3.0.8 install /usr/src/api/node_modules/bcrypt\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN Using needle for node-pre-gyp https download \n\u001b[0m[bcrypt] Success: \"/usr/src/api/node_modules/bcrypt/lib/binding/bcrypt_lib.node\" is installed via remote\n\n> core-js@2.6.12 postinstall /usr/src/api/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> nodemon@1.19.4 postinstall /usr/src/api/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN lifecycle ignitus-server@1.0.0~postinstall: cannot run in wd ignitus-server@1.0.0 npm run tsc (wd=/usr/src/api)\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^2.1.2 (node_modules/jest-haste-map/node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91moptional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m ts-jest@26.1.1 requires a peer of typescript@>=3.8 <4.0 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91m\n\u001b[0madded 1220 packages from 637 contributors and audited 1223 packages in 24.094s\n\n87 packages are looking for funding\n  run `npm fund` for details\n\nfound 11 vulnerabilities (5 moderate, 5 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 0489d461e26f\n ---> 37c249e3057d\nStep 5/7 : COPY . .\n ---> 6c3d7944ce56\nStep 6/7 : EXPOSE 4000\n ---> Running in 95dba5beab70\nRemoving intermediate container 95dba5beab70\n ---> ca8635998d28\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in d24fb396b6d5\nRemoving intermediate container d24fb396b6d5\n ---> 3e47d31137a4\nSuccessfully built 3e47d31137a4\nSuccessfully tagged ignitus-rest-api:latest\n","stderr":"","imageSize":1189203128},"endTime":1672727902802}