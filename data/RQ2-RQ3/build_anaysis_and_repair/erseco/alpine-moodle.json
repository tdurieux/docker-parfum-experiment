{"repository":"https://github.com/erseco/alpine-moodle","dockerfilePath":"Dockerfile","startTime":1672515544098,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/erseco/alpine-moodle'...\n","error":null,"commit":"fe895b3a9d28e300f4666d25d14c03def1897a72"},"originalBuild":{"startTimestamp":1672515544869,"endTimestamp":1672515596513,"error":null,"stdout":"Sending build context to Docker daemon  147.5kB\r\r\nStep 1/9 : ARG ARCH=\nStep 2/9 : FROM ${ARCH}erseco/alpine-php-webserver:1.13.0\n1.13.0: Pulling from erseco/alpine-php-webserver\n59bf1c3509f3: Already exists\n9a5a04a67f1d: Pulling fs layer\n36e986fc4391: Pulling fs layer\n36e986fc4391: Verifying Checksum\n36e986fc4391: Download complete\n9a5a04a67f1d: Verifying Checksum\n9a5a04a67f1d: Download complete\n9a5a04a67f1d: Pull complete\n36e986fc4391: Pull complete\nDigest: sha256:de9236f3ae46ba6ebbe0fb86c270ff2e1eaa863982139c30800d3eba3e06e756\nStatus: Downloaded newer image for erseco/alpine-php-webserver:1.13.0\n ---> 0f4de4c61fa4\nStep 3/9 : LABEL maintainer=\"Ernesto Serrano <info@ernesto.es>\"\n ---> Running in 68eb95743aa3\nRemoving intermediate container 68eb95743aa3\n ---> 33352dfd3a9b\nStep 4/9 : USER root\n ---> Running in cf32fc17f449\nRemoving intermediate container cf32fc17f449\n ---> bb867b2f2c36\nStep 5/9 : COPY --chown=nobody rootfs/ /\n ---> 239b02fd9f72\nStep 6/9 : RUN apk add --no-cache dcron libcap php8-sodium php8-exif &&     chown nobody:nobody /usr/sbin/crond &&     setcap cap_setgid=ep /usr/sbin/crond\n ---> Running in 36cd70deb443\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing dcron (4.5-r7)\n(2/5) Installing libcap (2.61-r0)\n(3/5) Installing php8-exif (8.0.25-r0)\n(4/5) Installing libsodium (1.0.18-r0)\n(5/5) Installing php8-sodium (8.0.25-r0)\nExecuting busybox-1.34.1-r3.trigger\nOK: 86 MiB in 84 packages\nRemoving intermediate container 36cd70deb443\n ---> 256a6078fc7c\nStep 7/9 : USER nobody\n ---> Running in 0bd4aefa300d\nRemoving intermediate container 0bd4aefa300d\n ---> 298cd26d942d\nStep 8/9 : ENV MOODLE_URL=https://github.com/moodle/moodle/archive/MOODLE_401_STABLE.tar.gz     LANG=en_US.UTF-8     LANGUAGE=en_US:en     SITE_URL=http://localhost     DB_TYPE=pgsql     DB_HOST=postgres     DB_PORT=5432     DB_NAME=moodle     DB_USER=moodle     DB_PASS=moodle     DB_PREFIX=mdl_     SSLPROXY=false     MOODLE_EMAIL=user@example.com     MOODLE_LANGUAGE=en     MOODLE_SITENAME=New-Site     MOODLE_USERNAME=moodleuser     MOODLE_PASSWORD=PLEASE_CHANGEME     SMTP_HOST=smtp.gmail.com     SMTP_PORT=587     SMTP_USER=your_email@gmail.com     SMTP_PASSWORD=your_password     SMTP_PROTOCOL=tls     MOODLE_MAIL_NOREPLY_ADDRESS=noreply@localhost     MOODLE_MAIL_PREFIX=[moodle]     client_max_body_size=50M     post_max_size=50M     upload_max_filesize=50M     max_input_vars=5000\n ---> Running in bb8bbe7d230f\nRemoving intermediate container bb8bbe7d230f\n ---> 5f9a91414cdb\nStep 9/9 : RUN curl --location $MOODLE_URL | tar xz --strip-components=1 -C /var/www/html/\n ---> Running in 47eea88c8e46\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Tim\u001b[0m\u001b[91me     Time  Current\n                   \u001b[0m\u001b[91m              Dload  Upload   Total   Spent \u001b[0m\u001b[91m   Left\u001b[0m\u001b[91m  Speed\n\u001b[0m\u001b[91m\r  0     0    0  \u001b[0m\u001b[91m   0    0   \u001b[0m\u001b[91m  0      0      0\u001b[0m\u001b[91m --:--:-- -\u001b[0m\u001b[91m-:--:-- --:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0  \u001b[0m\u001b[91m   0      0 \u001b[0m\u001b[91m     0 -\u001b[0m\u001b[91m-:--:-- --\u001b[0m\u001b[91m:--:-- --:-\u001b[0m\u001b[91m-:--     \u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m\r100 13194    0 13194    0     0  17697    \u001b[0m\u001b[91m  0 --:--:-- --:--:-- --:--\u001b[0m\u001b[91m:-- 17\u001b[0m\u001b[91m697\u001b[0m\u001b[91m\r100 6057k    0 6057k    0     0  3550k      0 --:--:--  0:00:01 --:--:-- 6289k\u001b[0m\u001b[91m\r100 11.2M    0 11.2M    0     0  4293k      0 --:--:--  0:00:02 --:--:-- 5931k\u001b[0m\u001b[91m\r100 20.7M    0 20.7M    0  \u001b[0m\u001b[91m   0  573\u001b[0m\u001b[91m6k  \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m 0:00:03 --:--\u001b[0m\u001b[91m:-- 7\u001b[0m\u001b[91m17\u001b[0m\u001b[91m7k\u001b[0m\u001b[91m\r100 27.6M    0 27.6M    0     0  6021k      0 --:--:--  0:00:04 --:--:-- 7153\u001b[0m\u001b[91mk\u001b[0m\u001b[91m\r100 36.5M    0 36.5M    0     0  6572k      0 --:--:--  \u001b[0m\u001b[91m0:00:05 --:--:-- 7560k\u001b[0m\u001b[91m\r100 42.5M    0 42.5M    0     0  6502k      0 --:--:--  0:00:06 --:-\u001b[0m\u001b[91m-:-- 7511k\u001b[0m\u001b[91m\r100 48.7M    0 48.7M    0     0  6472k      0 --:--:--  0:00:07 --:-\u001b[0m\u001b[91m-:-- 7641k\u001b[0m\u001b[91m\r100 57.4M    0 57.4M    0     0  6669k      0 --:--:--  0:00:08 --:--:-- 7343k\u001b[0m\u001b[91m\r100 61.2M    0 61.2M    0     0  6789k      0 --:--:--  0:00:09 --:--:-- 7\u001b[0m\u001b[91m585k\n\u001b[0mRemoving intermediate container 47eea88c8e46\n ---> 6b4d1e014d71\nSuccessfully built 6b4d1e014d71\nSuccessfully tagged alpine-moodle:latest\n","stderr":"","imageSize":330006410},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":46,"end":46,"columnStart":4,"columnEnd":31}}],"repairedDockerfile":"ARG ARCH=\nFROM ${ARCH}erseco/alpine-php-webserver:1.13.0\n\nLABEL maintainer=\"Ernesto Serrano <info@ernesto.es>\"\n\nUSER root\nCOPY --chown=nobody rootfs/ /\n\n# crond needs root, so install dcron and cap package and set the capabilities\n# on dcron binary https://github.com/inter169/systs/blob/master/alpine/crond/README.md\nRUN apk add --no-cache dcron libcap php8-sodium php8-exif && \\\n    chown nobody:nobody /usr/sbin/crond && \\\n    setcap cap_setgid=ep /usr/sbin/crond\n\nUSER nobody\n\n# Change MOODLE_XX_STABLE for new versions\nENV MOODLE_URL=https://github.com/moodle/moodle/archive/MOODLE_401_STABLE.tar.gz \\\n    LANG=en_US.UTF-8 \\\n    LANGUAGE=en_US:en \\\n    SITE_URL=http://localhost \\\n    DB_TYPE=pgsql \\\n    DB_HOST=postgres \\\n    DB_PORT=5432 \\\n    DB_NAME=moodle \\\n    DB_USER=moodle \\\n    DB_PASS=moodle \\\n    DB_PREFIX=mdl_ \\\n    SSLPROXY=false \\\n    MOODLE_EMAIL=user@example.com \\\n    MOODLE_LANGUAGE=en \\\n    MOODLE_SITENAME=New-Site \\\n    MOODLE_USERNAME=moodleuser \\\n    MOODLE_PASSWORD=PLEASE_CHANGEME \\\n    SMTP_HOST=smtp.gmail.com \\\n    SMTP_PORT=587 \\\n    SMTP_USER=your_email@gmail.com \\\n    SMTP_PASSWORD=your_password \\\n    SMTP_PROTOCOL=tls \\\n    MOODLE_MAIL_NOREPLY_ADDRESS=noreply@localhost \\\n    MOODLE_MAIL_PREFIX=[moodle] \\\n    client_max_body_size=50M \\\n    post_max_size=50M \\\n    upload_max_filesize=50M \\\n    max_input_vars=5000\n\nRUN curl -f --location $MOODLE_URL | tar xz --strip-components=1 -C /var/www/html/\n\n"},"repairedBuild":{"startTimestamp":1672515605075,"endTimestamp":1672515695048,"error":null,"stdout":"Sending build context to Docker daemon  147.5kB\r\r\nStep 1/9 : ARG ARCH=\nStep 2/9 : FROM ${ARCH}erseco/alpine-php-webserver:1.13.0\n ---> 0f4de4c61fa4\nStep 3/9 : LABEL maintainer=\"Ernesto Serrano <info@ernesto.es>\"\n ---> Running in a977a3285a34\nRemoving intermediate container a977a3285a34\n ---> 59caeb4b5db9\nStep 4/9 : USER root\n ---> Running in 9875d0fd47b4\nRemoving intermediate container 9875d0fd47b4\n ---> d52df3d4157c\nStep 5/9 : COPY --chown=nobody rootfs/ /\n ---> e69f54715be4\nStep 6/9 : RUN apk add --no-cache dcron libcap php8-sodium php8-exif &&     chown nobody:nobody /usr/sbin/crond &&     setcap cap_setgid=ep /usr/sbin/crond\n ---> Running in a56bbf87fb07\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing dcron (4.5-r7)\n(2/5) Installing libcap (2.61-r0)\n(3/5) Installing php8-exif (8.0.25-r0)\n(4/5) Installing libsodium (1.0.18-r0)\n(5/5) Installing php8-sodium (8.0.25-r0)\nExecuting busybox-1.34.1-r3.trigger\nOK: 86 MiB in 84 packages\nRemoving intermediate container a56bbf87fb07\n ---> 825c09e5a8ac\nStep 7/9 : USER nobody\n ---> Running in e042e8542e4e\nRemoving intermediate container e042e8542e4e\n ---> 8ec359b93697\nStep 8/9 : ENV MOODLE_URL=https://github.com/moodle/moodle/archive/MOODLE_401_STABLE.tar.gz     LANG=en_US.UTF-8     LANGUAGE=en_US:en     SITE_URL=http://localhost     DB_TYPE=pgsql     DB_HOST=postgres     DB_PORT=5432     DB_NAME=moodle     DB_USER=moodle     DB_PASS=moodle     DB_PREFIX=mdl_     SSLPROXY=false     MOODLE_EMAIL=user@example.com     MOODLE_LANGUAGE=en     MOODLE_SITENAME=New-Site     MOODLE_USERNAME=moodleuser     MOODLE_PASSWORD=PLEASE_CHANGEME     SMTP_HOST=smtp.gmail.com     SMTP_PORT=587     SMTP_USER=your_email@gmail.com     SMTP_PASSWORD=your_password     SMTP_PROTOCOL=tls     MOODLE_MAIL_NOREPLY_ADDRESS=noreply@localhost     MOODLE_MAIL_PREFIX=[moodle]     client_max_body_size=50M     post_max_size=50M     upload_max_filesize=50M     max_input_vars=5000\n ---> Running in 1dbf100e99f9\nRemoving intermediate container 1dbf100e99f9\n ---> ea70f7e13453\nStep 9/9 : RUN curl -f --location $MOODLE_URL | tar xz --strip-components=1 -C /var/www/html/\n ---> Running in 0cee4af060e1\n\u001b[91m  % Total    % Rec\u001b[0m\u001b[91meiv\u001b[0m\u001b[91med % Xferd  \u001b[0m\u001b[91mAve\u001b[0m\u001b[91mrage \u001b[0m\u001b[91mSpeed   Ti\u001b[0m\u001b[91mme    Time    \u001b[0m\u001b[91m Time  Current\n         \u001b[0m\u001b[91m     \u001b[0m\u001b[91m         \u001b[0m\u001b[91m   \u001b[0m\u001b[91m       \u001b[0m\u001b[91mDload  Upload   To\u001b[0m\u001b[91mtal   \u001b[0m\u001b[91mSpe\u001b[0m\u001b[91mnt \u001b[0m\u001b[91m   Left\u001b[0m\u001b[91m  Sp\u001b[0m\u001b[91meed\n\u001b[0m\u001b[91m\r \u001b[0m\u001b[91m 0     0    0 \u001b[0m\u001b[91m    0    0  \u001b[0m\u001b[91m   0    \u001b[0m\u001b[91m  0 \u001b[0m\u001b[91m     0 -\u001b[0m\u001b[91m-:--:-- --:--:-- --:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m\r  0     0    0     0    0     0\u001b[0m\u001b[91m      0      0 --:\u001b[0m\u001b[91m--:-- \u001b[0m\u001b[91m--:--:-- --:-\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m\r100 2261k    0 2261k\u001b[0m\u001b[91m    0     0  2688\u001b[0m\u001b[91mk     \u001b[0m\u001b[91m 0 --:--:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- 2688k\u001b[0m\u001b[91m\r100 7465k    0 7465k    0     0  3\u001b[0m\u001b[91m698k      0 --:\u001b[0m\u001b[91m--:--  0:00\u001b[0m\u001b[91m:02\u001b[0m\u001b[91m \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:-- \u001b[0m\u001b[91m4421k\u001b[0m\u001b[91m\r100 13.3M    0 13.3M    0\u001b[0m\u001b[91m     0  4\u001b[0m\u001b[91m805k  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 --:--:-\u001b[0m\u001b[91m-  0:0\u001b[0m\u001b[91m0:02 -\u001b[0m\u001b[91m-:--:\u001b[0m\u001b[91m-- 5696k\u001b[0m\u001b[91m\r100 22.8M    0 22.8M    0   \u001b[0m\u001b[91m  0  6127k      0 --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m 0:\u001b[0m\u001b[91m0\u001b[0m\u001b[91m0:03\u001b[0m\u001b[91m --:\u001b[0m\u001b[91m--:-- 709\u001b[0m\u001b[91m6k\u001b[0m\u001b[91m\r100 29.6M    0 29.6M    0     \u001b[0m\u001b[91m0  6300k      0 --:\u001b[0m\u001b[91m--:-- \u001b[0m\u001b[91m 0:00:\u001b[0m\u001b[91m04 --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- 70\u001b[0m\u001b[91m61k\u001b[0m\u001b[91m\r100 39.6M \u001b[0m\u001b[91m   0 39.6M    0     0  6968k   \u001b[0m\u001b[91m   0 --:--:--  0:0\u001b[0m\u001b[91m0:05 --:\u001b[0m\u001b[91m--:-- 7689k\u001b[0m\u001b[91m\r100 45.1M    0 45.1M    0     0  6760k      0 --:--:--  0\u001b[0m\u001b[91m:00:06 --:--:-- 8043k\u001b[0m\u001b[91m\r100 48.5M    0 48.5M    0\u001b[0m\u001b[91m     0  6103k     \u001b[0m\u001b[91m 0 --:-\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m  \u001b[0m\u001b[91m0:0\u001b[0m\u001b[91m0:08\u001b[0m\u001b[91m \u001b[0m\u001b[91m--:--:-- 6798k\u001b[0m\u001b[91m\r100 57.5M    0 57.5M    0     0  6662k      0 --:--:--  0:00:08 --:-\u001b[0m\u001b[91m-:-- 7070k\u001b[0m\u001b[91m\r100 61.2M    0 61.2M    0   \u001b[0m\u001b[91m  0  6688k      0 \u001b[0m\u001b[91m--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--  0\u001b[0m\u001b[91m:00\u001b[0m\u001b[91m:09 --:--:--\u001b[0m\u001b[91m 70\u001b[0m\u001b[91m99k\n\u001b[0mRemoving intermediate container 0cee4af060e1\n ---> d7e51b2e3dd2\nSuccessfully built d7e51b2e3dd2\nSuccessfully tagged alpine-moodle:latest\n","stderr":"","imageSize":330006410},"endTime":1672515696364}