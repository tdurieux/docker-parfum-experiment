{"repository":"https://github.com/target/impeller","dockerfilePath":"Dockerfile","startTime":1672313372658,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/target/impeller'...\n","error":null,"commit":"93450cb2dfb559b800d38b5cc7fb5e8f91437158"},"originalBuild":{"startTimestamp":1672313373423,"endTimestamp":1672313525501,"error":null,"stdout":"Sending build context to Docker daemon  220.7kB\r\r\nStep 1/25 : FROM golang:1.19-alpine as builder\n1.19-alpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19-alpine\n ---> cae57157ceaa\nStep 2/25 : ENV DESIRED_VERSION=v3.10.2\n ---> Running in 304dddc603f2\nRemoving intermediate container 304dddc603f2\n ---> c289c02ade70\nStep 3/25 : ENV HELM_DIFF_VERSION=v3.5.0\n ---> Running in 8923dddf48f4\nRemoving intermediate container 8923dddf48f4\n ---> b86325e8a279\nStep 4/25 : WORKDIR /go/src/github.com/target/impeller\n ---> Running in 5693d9f0a397\nRemoving intermediate container 5693d9f0a397\n ---> 8009367c683e\nStep 5/25 : COPY . .\n ---> 2a9cf3a2e4c4\nStep 6/25 : ENV GO111MODULE=on\n ---> Running in 12305f07eac3\nRemoving intermediate container 12305f07eac3\n ---> bc35da66d6ac\nStep 7/25 : ENV CGO_ENABLED=0\n ---> Running in 874713e82201\nRemoving intermediate container 874713e82201\n ---> 8f287826b2b2\nStep 8/25 : ENV GOOS=linux\n ---> Running in 9df3f709ca92\nRemoving intermediate container 9df3f709ca92\n ---> 91e5a5de6424\nStep 9/25 : RUN apk add --no-cache git &&     go mod vendor &&     go build -mod vendor -a -installsuffix cgo -ldflags '-extldflags \"-static\"' -o impeller . &&     go test -v -coverprofile cp.out\n ---> Running in 554508c6a4bb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\n\u001b[91mgo: downloading github.com/stretchr/testify v1.2.2\ngo: downloading github.com/urfave/cli v1.20.0\ngo: downloading gopkg.in/yaml.v2 v2.2.8\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m=== RUN   TestOverridesValueFiles\n2022/12/29 11:30:01 Adding override file: test\n2022/12/29 11:30:01 Adding override file: file\n--- PASS: TestOverridesValueFiles (0.00s)\n=== RUN   TestOverridesIndividualOverrides\n2022/12/29 11:30:01 Overriding value for: image.tag\n--- PASS: TestOverridesIndividualOverrides (0.00s)\n=== RUN   TestOverridesIndividualOverridesPrint\n2022/12/29 11:30:01 Overriding value for: image.tag\n--- PASS: TestOverridesIndividualOverridesPrint (0.00s)\n=== RUN   TestPlugin_ExecReport\n2022/12/29 11:30:01 Generating Audit report:\n--- PASS: TestPlugin_ExecReport (0.02s)\nPASS\ncoverage: 10.4% of statements\nok  \tgithub.com/target/impeller\t0.022s\nRemoving intermediate container 554508c6a4bb\n ---> 00e5b71b8092\nStep 10/25 : RUN apk add --update openssl &&     rm -rf /var/cache/apk/*\n ---> Running in fdd7535b23ec\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing openssl (3.0.7-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 23 packages\nRemoving intermediate container fdd7535b23ec\n ---> 1d9933a1e499\nStep 11/25 : RUN apk update && apk add bash git openssh\n ---> Running in 9651cef1f138\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-302-g55f6d884d7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17814 distinct packages available\n(1/12) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/12) Installing ncurses-libs (6.3_p20221119-r0)\n(3/12) Installing readline (8.2.0-r0)\n(4/12) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/12) Installing openssh-keygen (9.1_p1-r1)\n(6/12) Installing libedit (20221030.3.1-r0)\n(7/12) Installing openssh-client-common (9.1_p1-r1)\n(8/12) Installing openssh-client-default (9.1_p1-r1)\n(9/12) Installing openssh-sftp-server (9.1_p1-r1)\n(10/12) Installing openssh-server-common (9.1_p1-r1)\n(11/12) Installing openssh-server (9.1_p1-r1)\n(12/12) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 25 MiB in 35 packages\nRemoving intermediate container 9651cef1f138\n ---> e9174bde7628\nStep 12/25 : RUN apk add ca-certificates\n ---> Running in 90da50cbe97e\nOK: 25 MiB in 35 packages\nRemoving intermediate container 90da50cbe97e\n ---> 3480cc8461cd\nStep 13/25 : RUN cd /tmp &&     wget -O get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3     && chmod +x get_helm.sh     && ./get_helm.sh\n ---> Running in ff379b919688\n\u001b[91mConnecting to raw.githubusercontent.com (185.199.108.133:443)\n\u001b[0m\u001b[91msaving to 'get_helm.sh'\n\u001b[0m\u001b[91mget_helm.sh          100% |********************************| 11345  0:00:00 ETA\n'get_helm.sh' saved\n\u001b[0mDownloading https://get.helm.sh/helm-v3.10.2-linux-amd64.tar.gz\nVerifying checksum... Done.\nPreparing to install helm into /usr/local/bin\nhelm installed into /usr/local/bin/helm\nRemoving intermediate container ff379b919688\n ---> 227f59cd2029\nStep 14/25 : RUN /usr/local/bin/helm plugin install https://github.com/databus23/helm-diff --version ${HELM_DIFF_VERSION}\n ---> Running in 8598aade8b4c\nDownloading https://github.com/databus23/helm-diff/releases/download/v3.5.0/helm-diff-linux-amd64.tgz\nPreparing to install into /root/.local/share/helm/plugins/helm-diff\nhelm-diff installed into /root/.local/share/helm/plugins/helm-diff/helm-diff\n\nThe Helm Diff Plugin\n\n* Shows a diff explaining what a helm upgrade would change:\n    This fetches the currently deployed version of a release\n  and compares it to a local chart plus values. This can be \n  used visualize what changes a helm upgrade will perform.\n\n* Shows a diff explaining what had changed between two revisions:\n    This fetches previously deployed versions of a release\n  and compares them. This can be used visualize what changes \n  were made during revision change.\n\n* Shows a diff explaining what a helm rollback would change:\n    This fetches the currently deployed version of a release\n  and compares it to the previously deployed version of the release, that you \n  want to rollback. This can be used visualize what changes a \n  helm rollback will perform.\n\nUsage:\n  diff [flags]\n  diff [command]\n\nAvailable Commands:\n  completion  Generate the autocompletion script for the specified shell\n  release     Shows diff between release's manifests\n  revision    Shows diff between revision's manifests\n  rollback    Show a diff explaining what a helm rollback could perform\n  upgrade     Show a diff explaining what a helm upgrade would change.\n  version     Show version of the helm diff plugin\n\nFlags:\n      --allow-unreleased             enables diffing of releases that are not yet deployed via Helm\n  -a, --api-versions stringArray     Kubernetes api versions used for Capabilities.APIVersions\n      --color                        color output. You can control the value for this flag via HELM_DIFF_COLOR=[true|false]. If both --no-color and --color are unspecified, coloring enabled only when the stdout is a term and TERM is not \"dumb\"\n  -C, --context int                  output NUM lines of context around changes (default -1)\n      --detailed-exitcode            return a non-zero exit code when there are changes\n      --devel                        use development versions, too. Equivalent to version '>0.0.0-0'. If --version is set, this is ignored.\n      --disable-openapi-validation   disables rendered templates validation against the Kubernetes OpenAPI Schema\n      --disable-validation           disables rendered templates validation against the Kubernetes cluster you are currently pointing to. This is the same validation performed on an install\n      --dry-run                      disables cluster access and show diff as if it was install. Implies --install, --reset-values, and --disable-validation\n  -D, --find-renames float32         Enable rename detection if set to any value greater than 0. If specified, the value denotes the maximum fraction of changed content as lines added + removed compared to total lines in a diff for considering it a rename. Only objects of the same Kind are attempted to be matched\n  -h, --help                         help for diff\n      --include-tests                enable the diffing of the helm test hooks\n      --install                      enables diffing of releases that are not yet deployed via Helm (equivalent to --allow-unreleased, added to match \"helm upgrade --install\" command\n      --kube-version string          Kubernetes version used for Capabilities.KubeVersion\n      --kubeconfig string            This flag is ignored, to allow passing of this top level flag to helm\n      --no-color                     remove colors from the output. If both --no-color and --color are unspecified, coloring enabled only when the stdout is a term and TERM is not \"dumb\"\n      --no-hooks                     disable diffing of hooks\n      --normalize-manifests          normalize manifests before running diff to exclude style differences from the output\n      --output string                Possible values: diff, simple, template. When set to \"template\", use the env var HELM_DIFF_TPL to specify the template. (default \"diff\")\n      --post-renderer string         the path to an executable to be used for post rendering. If it exists in $PATH, the binary will be used, otherwise it will try to look for the executable at the given path\n      --repo string                  specify the chart repository url to locate the requested chart\n      --reset-values                 reset the values to the ones built into the chart and merge in any new values\n      --reuse-values                 reuse the last release's values and merge in any new values. If '--reset-values' is specified, this is ignored\n      --set stringArray              set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)\n      --set-file stringArray         set values from respective files specified via the command line (can specify multiple or separate values with commas: key1=path1,key2=path2)\n      --set-string stringArray       set STRING values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)\n      --show-secrets                 do not redact secret values in the output\n      --strip-trailing-cr            strip trailing carriage return on input\n      --suppress stringArray         allows suppression of the values listed in the diff output\n  -q, --suppress-secrets             suppress secrets in the output\n      --three-way-merge              use three-way-merge to compute patch and generate diff output\n  -f, --values valueFiles            specify values in a YAML file (can specify multiple) (default [])\n      --version string               specify the exact chart version to use. If this is not specified, the latest version is used\n\nAdditional help topics:\n  diff            \n\nUse \"diff [command] --help\" for more information about a command.\nInstalled plugin: diff\nRemoving intermediate container 8598aade8b4c\n ---> 948436a55130\nStep 15/25 : FROM alpine:latest\nlatest: Pulling from library/alpine\nc158987b0551: Already exists\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 16/25 : ENV KUBECTL_VERSION=v1.24.7\n ---> Running in 42fcf32905ca\nRemoving intermediate container 42fcf32905ca\n ---> 890cca23bd4d\nStep 17/25 : RUN apk add ca-certificates\n ---> Running in eb5056ce26a9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container eb5056ce26a9\n ---> 96e912a27b1a\nStep 18/25 : RUN wget -O /usr/bin/kubectl https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/amd64/kubectl &&     chmod +x /usr/bin/kubectl\n ---> Running in 1cecdc158437\n\u001b[91mConnecting to storage.googleapis.com (172.217.21.176:443)\n\u001b[0m\u001b[91msaving to '/usr/bin/kubectl'\n\u001b[0m\u001b[91mkubectl               12% |***                             | 5376k  0:00:07 ETA\n\u001b[0m\u001b[91mkubectl              100% |********************************| 43.6M  0:00:00 ETA\n'/usr/bin/kubectl' saved\n\u001b[0mRemoving intermediate container 1cecdc158437\n ---> e3b835dae309\nStep 19/25 : RUN mkdir /root/.kube\n ---> Running in 48de14eebe2b\nRemoving intermediate container 48de14eebe2b\n ---> bb1bce05976c\nStep 20/25 : ENV USE_GKE_GCLOUD_AUTH_PLUGIN=True\n ---> Running in 94bc6b6ee42b\nRemoving intermediate container 94bc6b6ee42b\n ---> ed3ee0000cee\nStep 21/25 : ENTRYPOINT [\"/usr/bin/impeller\"]\n ---> Running in 8a2f04dc31f5\nRemoving intermediate container 8a2f04dc31f5\n ---> ff14f3811248\nStep 22/25 : COPY --from=builder /go/src/github.com/target/impeller/impeller /usr/bin/impeller\n ---> fe65ecbbee79\nStep 23/25 : COPY --from=builder /usr/local/bin/helm /usr/local/bin/helm\n ---> 28d962404a31\nStep 24/25 : COPY --from=builder /root/.local /root/.local\n ---> f6f9ea8d5d0d\nStep 25/25 : COPY --from=builder /root/.cache /root/.cache\n ---> d335e39af0af\nSuccessfully built d335e39af0af\nSuccessfully tagged impeller:latest\n","stderr":"","imageSize":220922323},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":28}},{"name":"apkAddUseNoCache","position":{"start":14,"end":14,"columnStart":18,"columnEnd":42}},{"name":"apkAddUseNoCache","position":{"start":15,"end":15,"columnStart":4,"columnEnd":27}},{"name":"apkAddUseNoCache","position":{"start":24,"end":24,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM golang:1.19-alpine as builder\nENV DESIRED_VERSION=v3.10.2\nENV HELM_DIFF_VERSION=v3.5.0\nWORKDIR /go/src/github.com/target/impeller\nCOPY . .\nENV GO111MODULE=on\nENV CGO_ENABLED=0\nENV GOOS=linux\nRUN apk add --no-cache git && \\\n    go mod vendor && \\\n    go build -mod vendor -a -installsuffix cgo -ldflags '-extldflags \"-static\"' -o impeller . && \\\n    go test -v -coverprofile cp.out\nRUN apk add --no-cache --update openssl && \\\n    rm -rf /var/cache/apk/*\nRUN apk update && apk add --no-cache bash git openssh\nRUN apk add --no-cache ca-certificates\nRUN cd /tmp && \\\n    wget -O get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 \\\n    && chmod +x get_helm.sh \\\n    && ./get_helm.sh\nRUN /usr/local/bin/helm plugin install https://github.com/databus23/helm-diff --version ${HELM_DIFF_VERSION}\n\nFROM alpine:latest\nENV KUBECTL_VERSION=v1.24.7\nRUN apk add --no-cache ca-certificates\nRUN wget -O /usr/bin/kubectl https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/amd64/kubectl && \\\n    chmod +x /usr/bin/kubectl\nRUN mkdir /root/.kube\nENV USE_GKE_GCLOUD_AUTH_PLUGIN=True\nENTRYPOINT [\"/usr/bin/impeller\"]\nCOPY --from=builder /go/src/github.com/target/impeller/impeller /usr/bin/impeller\nCOPY --from=builder /usr/local/bin/helm /usr/local/bin/helm\nCOPY --from=builder /root/.local /root/.local\nCOPY --from=builder /root/.cache /root/.cache\n"},"repairedBuild":{"startTimestamp":1672313526454,"endTimestamp":1672313595606,"error":null,"stdout":"Sending build context to Docker daemon  220.7kB\r\r\nStep 1/25 : FROM golang:1.19-alpine as builder\n ---> cae57157ceaa\nStep 2/25 : ENV DESIRED_VERSION=v3.10.2\n ---> Running in c71392661528\nRemoving intermediate container c71392661528\n ---> 25c4ffa3fcc7\nStep 3/25 : ENV HELM_DIFF_VERSION=v3.5.0\n ---> Running in 6ad5cf8b2ae1\nRemoving intermediate container 6ad5cf8b2ae1\n ---> d52fe8c3917c\nStep 4/25 : WORKDIR /go/src/github.com/target/impeller\n ---> Running in c8211a0fcaeb\nRemoving intermediate container c8211a0fcaeb\n ---> 520366e11de9\nStep 5/25 : COPY . .\n ---> f3a0f0f874e4\nStep 6/25 : ENV GO111MODULE=on\n ---> Running in 4769c0420a6f\nRemoving intermediate container 4769c0420a6f\n ---> edb8bbc71660\nStep 7/25 : ENV CGO_ENABLED=0\n ---> Running in d8c7006d7444\nRemoving intermediate container d8c7006d7444\n ---> 86767d3f5590\nStep 8/25 : ENV GOOS=linux\n ---> Running in 34ac9cb01a8e\nRemoving intermediate container 34ac9cb01a8e\n ---> 245280ea6f9c\nStep 9/25 : RUN apk add --no-cache git &&     go mod vendor &&     go build -mod vendor -a -installsuffix cgo -ldflags '-extldflags \"-static\"' -o impeller . &&     go test -v -coverprofile cp.out\n ---> Running in 114f3cf447df\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\n\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.8\ngo: downloading github.com/stretchr/testify v1.2.2\n\u001b[0m\u001b[91mgo: downloading github.com/urfave/cli v1.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\ngo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m=== RUN   TestOverridesValueFiles\n2022/12/29 11:32:24 Adding override file: test\n2022/12/29 11:32:24 Adding override file: file\n--- PASS: TestOverridesValueFiles (0.00s)\n=== RUN   TestOverridesIndividualOverrides\n2022/12/29 11:32:24 Overriding value for: image.tag\n--- PASS: TestOverridesIndividualOverrides (0.00s)\n=== RUN   TestOverridesIndividualOverridesPrint\n2022/12/29 11:32:24 Overriding value for: image.tag\n--- PASS: TestOverridesIndividualOverridesPrint (0.00s)\n=== RUN   TestPlugin_ExecReport\n2022/12/29 11:32:24 Generating Audit report:\n--- PASS: TestPlugin_ExecReport (0.01s)\nPASS\ncoverage: 10.4% of statements\nok  \tgithub.com/target/impeller\t0.018s\nRemoving intermediate container 114f3cf447df\n ---> 81cc30b9f6e5\nStep 10/25 : RUN apk add --no-cache --update openssl &&     rm -rf /var/cache/apk/*\n ---> Running in 19f3d05a29bd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing openssl (3.0.7-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 23 packages\nRemoving intermediate container 19f3d05a29bd\n ---> 4aca3ab54860\nStep 11/25 : RUN apk update && apk add --no-cache bash git openssh\n ---> Running in e1b236bb03f5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-302-g55f6d884d7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17814 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/12) Installing ncurses-libs (6.3_p20221119-r0)\n(3/12) Installing readline (8.2.0-r0)\n(4/12) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/12) Installing openssh-keygen (9.1_p1-r1)\n(6/12) Installing libedit (20221030.3.1-r0)\n(7/12) Installing openssh-client-common (9.1_p1-r1)\n(8/12) Installing openssh-client-default (9.1_p1-r1)\n(9/12) Installing openssh-sftp-server (9.1_p1-r1)\n(10/12) Installing openssh-server-common (9.1_p1-r1)\n(11/12) Installing openssh-server (9.1_p1-r1)\n(12/12) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 25 MiB in 35 packages\nRemoving intermediate container e1b236bb03f5\n ---> 1300b38f25d6\nStep 12/25 : RUN apk add --no-cache ca-certificates\n ---> Running in f99d59fd0281\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 25 MiB in 35 packages\nRemoving intermediate container f99d59fd0281\n ---> b8198202c3d7\nStep 13/25 : RUN cd /tmp &&     wget -O get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3     && chmod +x get_helm.sh     && ./get_helm.sh\n ---> Running in 24bc36eb2d89\n\u001b[91mConnecting to raw.githubusercontent.com (185.199.108.133:443)\n\u001b[0m\u001b[91msaving to 'get_helm.sh'\n\u001b[0m\u001b[91mget_helm.sh          100% |********************************| 11345  0:00:00 ETA\n'get_helm.sh' saved\n\u001b[0mDownloading https://get.helm.sh/helm-v3.10.2-linux-amd64.tar.gz\nVerifying checksum... Done.\nPreparing to install helm into /usr/local/bin\nhelm installed into /usr/local/bin/helm\nRemoving intermediate container 24bc36eb2d89\n ---> ed65d63b9dba\nStep 14/25 : RUN /usr/local/bin/helm plugin install https://github.com/databus23/helm-diff --version ${HELM_DIFF_VERSION}\n ---> Running in 58ba5cf9c2f8\nDownloading https://github.com/databus23/helm-diff/releases/download/v3.5.0/helm-diff-linux-amd64.tgz\nPreparing to install into /root/.local/share/helm/plugins/helm-diff\nhelm-diff installed into /root/.local/share/helm/plugins/helm-diff/helm-diff\n\nThe Helm Diff Plugin\n\n* Shows a diff explaining what a helm upgrade would change:\n    This fetches the currently deployed version of a release\n  and compares it to a local chart plus values. This can be \n  used visualize what changes a helm upgrade will perform.\n\n* Shows a diff explaining what had changed between two revisions:\n    This fetches previously deployed versions of a release\n  and compares them. This can be used visualize what changes \n  were made during revision change.\n\n* Shows a diff explaining what a helm rollback would change:\n    This fetches the currently deployed version of a release\n  and compares it to the previously deployed version of the release, that you \n  want to rollback. This can be used visualize what changes a \n  helm rollback will perform.\n\nUsage:\n  diff [flags]\n  diff [command]\n\nAvailable Commands:\n  completion  Generate the autocompletion script for the specified shell\n  release     Shows diff between release's manifests\n  revision    Shows diff between revision's manifests\n  rollback    Show a diff explaining what a helm rollback could perform\n  upgrade     Show a diff explaining what a helm upgrade would change.\n  version     Show version of the helm diff plugin\n\nFlags:\n      --allow-unreleased             enables diffing of releases that are not yet deployed via Helm\n  -a, --api-versions stringArray     Kubernetes api versions used for Capabilities.APIVersions\n      --color                        color output. You can control the value for this flag via HELM_DIFF_COLOR=[true|false]. If both --no-color and --color are unspecified, coloring enabled only when the stdout is a term and TERM is not \"dumb\"\n  -C, --context int                  output NUM lines of context around changes (default -1)\n      --detailed-exitcode            return a non-zero exit code when there are changes\n      --devel                        use development versions, too. Equivalent to version '>0.0.0-0'. If --version is set, this is ignored.\n      --disable-openapi-validation   disables rendered templates validation against the Kubernetes OpenAPI Schema\n      --disable-validation           disables rendered templates validation against the Kubernetes cluster you are currently pointing to. This is the same validation performed on an install\n      --dry-run                      disables cluster access and show diff as if it was install. Implies --install, --reset-values, and --disable-validation\n  -D, --find-renames float32         Enable rename detection if set to any value greater than 0. If specified, the value denotes the maximum fraction of changed content as lines added + removed compared to total lines in a diff for considering it a rename. Only objects of the same Kind are attempted to be matched\n  -h, --help                         help for diff\n      --include-tests                enable the diffing of the helm test hooks\n      --install                      enables diffing of releases that are not yet deployed via Helm (equivalent to --allow-unreleased, added to match \"helm upgrade --install\" command\n      --kube-version string          Kubernetes version used for Capabilities.KubeVersion\n      --kubeconfig string            This flag is ignored, to allow passing of this top level flag to helm\n      --no-color                     remove colors from the output. If both --no-color and --color are unspecified, coloring enabled only when the stdout is a term and TERM is not \"dumb\"\n      --no-hooks                     disable diffing of hooks\n      --normalize-manifests          normalize manifests before running diff to exclude style differences from the output\n      --output string                Possible values: diff, simple, template. When set to \"template\", use the env var HELM_DIFF_TPL to specify the template. (default \"diff\")\n      --post-renderer string         the path to an executable to be used for post rendering. If it exists in $PATH, the binary will be used, otherwise it will try to look for the executable at the given path\n      --repo string                  specify the chart repository url to locate the requested chart\n      --reset-values                 reset the values to the ones built into the chart and merge in any new values\n      --reuse-values                 reuse the last release's values and merge in any new values. If '--reset-values' is specified, this is ignored\n      --set stringArray              set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)\n      --set-file stringArray         set values from respective files specified via the command line (can specify multiple or separate values with commas: key1=path1,key2=path2)\n      --set-string stringArray       set STRING values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)\n      --show-secrets                 do not redact secret values in the output\n      --strip-trailing-cr            strip trailing carriage return on input\n      --suppress stringArray         allows suppression of the values listed in the diff output\n  -q, --suppress-secrets             suppress secrets in the output\n      --three-way-merge              use three-way-merge to compute patch and generate diff output\n  -f, --values valueFiles            specify values in a YAML file (can specify multiple) (default [])\n      --version string               specify the exact chart version to use. If this is not specified, the latest version is used\n\nAdditional help topics:\n  diff            \n\nUse \"diff [command] --help\" for more information about a command.\nInstalled plugin: diff\nRemoving intermediate container 58ba5cf9c2f8\n ---> 1a0617f376e4\nStep 15/25 : FROM alpine:latest\n ---> 49176f190c7e\nStep 16/25 : ENV KUBECTL_VERSION=v1.24.7\n ---> Running in d8f8710afd8c\nRemoving intermediate container d8f8710afd8c\n ---> bc846f61471e\nStep 17/25 : RUN apk add --no-cache ca-certificates\n ---> Running in aea1638cc566\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container aea1638cc566\n ---> ea4a842434fb\nStep 18/25 : RUN wget -O /usr/bin/kubectl https://storage.googleapis.com/kubernetes-release/release/${KUBECTL_VERSION}/bin/linux/amd64/kubectl &&     chmod +x /usr/bin/kubectl\n ---> Running in acbf3213bcca\n\u001b[91mConnecting to storage.googleapis.com (172.217.21.176:443)\n\u001b[0m\u001b[91msaving to '/usr/bin/kubectl'\n\u001b[0m\u001b[91mkubectl              100% |********************************| 43.6M  0:00:00 ETA\n'/usr/bin/kubectl' saved\n\u001b[0mRemoving intermediate container acbf3213bcca\n ---> 0d5ed5282876\nStep 19/25 : RUN mkdir /root/.kube\n ---> Running in 2aad8fda85e5\nRemoving intermediate container 2aad8fda85e5\n ---> fa7daa1b9a00\nStep 20/25 : ENV USE_GKE_GCLOUD_AUTH_PLUGIN=True\n ---> Running in 33f67f24a748\nRemoving intermediate container 33f67f24a748\n ---> ae5fa9a13166\nStep 21/25 : ENTRYPOINT [\"/usr/bin/impeller\"]\n ---> Running in c3cfa420b628\nRemoving intermediate container c3cfa420b628\n ---> 1e91b464b133\nStep 22/25 : COPY --from=builder /go/src/github.com/target/impeller/impeller /usr/bin/impeller\n ---> 2119a307a783\nStep 23/25 : COPY --from=builder /usr/local/bin/helm /usr/local/bin/helm\n ---> 4276c4003bea\nStep 24/25 : COPY --from=builder /root/.local /root/.local\n ---> a3eb357da6ac\nStep 25/25 : COPY --from=builder /root/.cache /root/.cache\n ---> 62f78d559c13\nSuccessfully built 62f78d559c13\nSuccessfully tagged impeller:latest\n","stderr":"","imageSize":218344964},"endTime":1672313595976}