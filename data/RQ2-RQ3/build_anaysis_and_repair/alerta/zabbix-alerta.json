{"repository":"https://github.com/alerta/zabbix-alerta","dockerfilePath":"Dockerfile","startTime":1672995822144,"endTime":1672995959022,"clone":{"startTime":1672995822145,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/alerta/zabbix-alerta'...\n","error":null,"endTime":1672995823634,"commit":"b6ed6bc76e36bb88600689314de4b5fcbbae55c8"},"originalBuild":{"startTime":1672995823718,"endTime":1672995915150,"error":null,"stdout":"Sending build context to Docker daemon  6.021MB\r\r\nStep 1/4 : FROM zabbix/zabbix-server-mysql:alpine-latest\nalpine-latest: Pulling from zabbix/zabbix-server-mysql\nc158987b0551: Already exists\ndb91fb489931: Pulling fs layer\nff7c140a0c64: Pulling fs layer\n918f084b99d6: Pulling fs layer\nfd1e542f100f: Pulling fs layer\n6910b8e62e1a: Pulling fs layer\n5fe89d2235f8: Pulling fs layer\n4f4fb700ef54: Pulling fs layer\nccfa96b053cb: Pulling fs layer\nfd1e542f100f: Waiting\n6910b8e62e1a: Waiting\n5fe89d2235f8: Waiting\n4f4fb700ef54: Waiting\nccfa96b053cb: Waiting\n918f084b99d6: Download complete\nff7c140a0c64: Verifying Checksum\nff7c140a0c64: Download complete\nfd1e542f100f: Verifying Checksum\nfd1e542f100f: Download complete\ndb91fb489931: Verifying Checksum\ndb91fb489931: Download complete\n6910b8e62e1a: Verifying Checksum\n6910b8e62e1a: Download complete\n4f4fb700ef54: Download complete\nccfa96b053cb: Verifying Checksum\nccfa96b053cb: Download complete\ndb91fb489931: Pull complete\nff7c140a0c64: Pull complete\n5fe89d2235f8: Verifying Checksum\n5fe89d2235f8: Download complete\n918f084b99d6: Pull complete\nfd1e542f100f: Pull complete\n6910b8e62e1a: Pull complete\n5fe89d2235f8: Pull complete\n4f4fb700ef54: Pull complete\nccfa96b053cb: Pull complete\nDigest: sha256:42fc770aa908b42edb8874f1e68141aa072a74dd87fd0719b1c873e65cce17ec\nStatus: Downloaded newer image for zabbix/zabbix-server-mysql:alpine-latest\n ---> daf9d1ef659e\nStep 2/4 : USER root\n ---> Running in 51e08243098c\nRemoving intermediate container 51e08243098c\n ---> a50fd953ca1f\nStep 3/4 : RUN apk update &&     apk add py-pip git\n ---> Running in 8d19d6a07edb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-336-ga9d27aafa7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17820 distinct packages available\n(1/12) Installing libexpat (2.5.0-r0)\n(2/12) Installing git (2.38.2-r0)\n(3/12) Installing libbz2 (1.0.8-r4)\n(4/12) Installing mpdecimal (2.5.1-r1)\n(5/12) Installing sqlite-libs (3.40.1-r0)\n(6/12) Installing python3 (3.10.9-r1)\n(7/12) Installing py3-six (1.16.0-r3)\n(8/12) Installing py3-retrying (1.3.3-r3)\n(9/12) Installing py3-parsing (3.0.9-r0)\n(10/12) Installing py3-packaging (21.3-r2)\n(11/12) Installing py3-setuptools (65.6.0-r0)\n(12/12) Installing py3-pip (22.3.1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 155 MiB in 69 packages\nRemoving intermediate container 8d19d6a07edb\n ---> 245f492c6db4\nStep 4/4 : RUN set -x &&   pip install pip --upgrade &&   pip install --no-cache-dir git+https://github.com/alerta/zabbix-alerta\n ---> Running in 223bd0b68449\n\u001b[91m+ pip install pip --upgrade\n\u001b[0mRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91m+ pip install --no-cache-dir git+https://github.com/alerta/zabbix-alerta\n\u001b[0mCollecting git+https://github.com/alerta/zabbix-alerta\n  Cloning https://github.com/alerta/zabbix-alerta to /tmp/pip-req-build-qmgfcl4p\n\u001b[91m  Running command git clone --filter=blob:none --quiet https://github.com/alerta/zabbix-alerta /tmp/pip-req-build-qmgfcl4p\n\u001b[0m  Resolved https://github.com/alerta/zabbix-alerta to commit b6ed6bc76e36bb88600689314de4b5fcbbae55c8\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting alerta>=5.0.2\n  Downloading alerta-8.5.1-py2.py3-none-any.whl (88 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 88.4/88.4 kB 4.4 MB/s eta 0:00:00\nCollecting Click\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 248.7 MB/s eta 0:00:00\nCollecting pyzabbix\n  Downloading pyzabbix-1.2.1-py3-none-any.whl (6.8 kB)\nCollecting protobix\n  Downloading protobix-1.0.2.tar.gz (14 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 201.3 MB/s eta 0:00:00\nCollecting tabulate\n  Downloading tabulate-0.9.0-py3-none-any.whl (35 kB)\nCollecting requests-hawk\n  Downloading requests_hawk-1.1.1-py2.py3-none-any.whl (7.3 kB)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 129.3 MB/s eta 0:00:00\nCollecting configobj\n  Downloading configobj-5.0.6.tar.gz (33 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting simplejson\n  Downloading simplejson-3.18.1-cp310-cp310-musllinux_1_1_x86_64.whl (141 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 142.0/142.0 kB 281.5 MB/s eta 0:00:00\nRequirement already satisfied: packaging in /usr/lib/python3.10/site-packages (from pyzabbix->zabbix-alerta==4.0.0) (21.3)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 248.8 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 304.1 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 198.6 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nRequirement already satisfied: six in /usr/lib/python3.10/site-packages (from configobj->protobix->zabbix-alerta==4.0.0) (1.16.0)\nCollecting mohawk\n  Downloading mohawk-1.1.0-py3-none-any.whl (22 kB)\nInstalling collected packages: pytz, urllib3, tabulate, simplejson, mohawk, idna, configobj, Click, charset-normalizer, certifi, requests, protobix, requests-hawk, pyzabbix, alerta, zabbix-alerta\n\u001b[91m  DEPRECATION: configobj is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for configobj: started\n  Running setup.py install for configobj: finished with status 'done'\n\u001b[91m  DEPRECATION: protobix is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for protobix: started\n  Running setup.py install for protobix: finished with status 'done'\n\u001b[91m  DEPRECATION: zabbix-alerta is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for zabbix-alerta: started\n  Running setup.py install for zabbix-alerta: finished with status 'done'\nSuccessfully installed Click-8.1.3 alerta-8.5.1 certifi-2022.12.7 charset-normalizer-2.1.1 configobj-5.0.6 idna-3.4 mohawk-1.1.0 protobix-1.0.2 pytz-2022.7 pyzabbix-1.2.1 requests-2.28.1 requests-hawk-1.1.1 simplejson-3.18.1 tabulate-0.9.0 urllib3-1.26.13 zabbix-alerta-4.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 223bd0b68449\n ---> eeccb71f89ea\nSuccessfully built eeccb71f89ea\nSuccessfully tagged zabbix-alerta:latest\n","stderr":"","imageSize":168084800},"repair":{"startTime":1672995915217,"endTime":1672995915275,"violations":[{"name":"pipUseNoCacheDir","position":{"start":8,"end":8,"columnStart":2,"columnEnd":27}},{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM zabbix/zabbix-server-mysql:alpine-latest\n\nUSER root\n\nRUN apk update && \\\n    apk add --no-cache py-pip git\n\nRUN set -x && \\\n  pip install --no-cache-dir pip --upgrade && \\\n  pip install --no-cache-dir git+https://github.com/alerta/zabbix-alerta\n"},"repairedBuild":{"startTime":1672995915554,"endTime":1672995958629,"error":null,"stdout":"Sending build context to Docker daemon  6.021MB\r\r\nStep 1/4 : FROM zabbix/zabbix-server-mysql:alpine-latest\n ---> daf9d1ef659e\nStep 2/4 : USER root\n ---> Running in 736a3767610a\nRemoving intermediate container 736a3767610a\n ---> 2e86384530c0\nStep 3/4 : RUN apk update &&     apk add --no-cache py-pip git\n ---> Running in 07966e6501ab\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-336-ga9d27aafa7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17820 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing libexpat (2.5.0-r0)\n(2/12) Installing git (2.38.2-r0)\n(3/12) Installing libbz2 (1.0.8-r4)\n(4/12) Installing mpdecimal (2.5.1-r1)\n(5/12) Installing sqlite-libs (3.40.1-r0)\n(6/12) Installing python3 (3.10.9-r1)\n(7/12) Installing py3-six (1.16.0-r3)\n(8/12) Installing py3-retrying (1.3.3-r3)\n(9/12) Installing py3-parsing (3.0.9-r0)\n(10/12) Installing py3-packaging (21.3-r2)\n(11/12) Installing py3-setuptools (65.6.0-r0)\n(12/12) Installing py3-pip (22.3.1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 155 MiB in 69 packages\nRemoving intermediate container 07966e6501ab\n ---> d2803c7ce843\nStep 4/4 : RUN set -x &&   pip install --no-cache-dir pip --upgrade &&   pip install --no-cache-dir git+https://github.com/alerta/zabbix-alerta\n ---> Running in 0989a4790dd5\n\u001b[91m+ pip install --no-cache-dir pip --upgrade\n\u001b[0mRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91m+ pip install --no-cache-dir git+https://github.com/alerta/zabbix-alerta\n\u001b[0mCollecting git+https://github.com/alerta/zabbix-alerta\n  Cloning https://github.com/alerta/zabbix-alerta to /tmp/pip-req-build-u_y50k83\n\u001b[91m  Running command git clone --filter=blob:none --quiet https://github.com/alerta/zabbix-alerta /tmp/pip-req-build-u_y50k83\n\u001b[0m  Resolved https://github.com/alerta/zabbix-alerta to commit b6ed6bc76e36bb88600689314de4b5fcbbae55c8\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting alerta>=5.0.2\n  Downloading alerta-8.5.1-py2.py3-none-any.whl (88 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 88.4/88.4 kB 10.9 MB/s eta 0:00:00\nCollecting Click\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 224.5 MB/s eta 0:00:00\nCollecting pyzabbix\n  Downloading pyzabbix-1.2.1-py3-none-any.whl (6.8 kB)\nCollecting protobix\n  Downloading protobix-1.0.2.tar.gz (14 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting tabulate\n  Downloading tabulate-0.9.0-py3-none-any.whl (35 kB)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 123.9 MB/s eta 0:00:00\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 190.8 MB/s eta 0:00:00\nCollecting requests-hawk\n  Downloading requests_hawk-1.1.1-py2.py3-none-any.whl (7.3 kB)\nCollecting configobj\n  Downloading configobj-5.0.6.tar.gz (33 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting simplejson\n  Downloading simplejson-3.18.1-cp310-cp310-musllinux_1_1_x86_64.whl (141 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 142.0/142.0 kB 164.5 MB/s eta 0:00:00\nRequirement already satisfied: packaging in /usr/lib/python3.10/site-packages (from pyzabbix->zabbix-alerta==4.0.0) (21.3)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 129.7 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 140.0 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 220.0 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nRequirement already satisfied: six in /usr/lib/python3.10/site-packages (from configobj->protobix->zabbix-alerta==4.0.0) (1.16.0)\nCollecting mohawk\n  Downloading mohawk-1.1.0-py3-none-any.whl (22 kB)\nInstalling collected packages: pytz, urllib3, tabulate, simplejson, mohawk, idna, configobj, Click, charset-normalizer, certifi, requests, protobix, requests-hawk, pyzabbix, alerta, zabbix-alerta\n\u001b[91m  DEPRECATION: configobj is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for configobj: started\n  Running setup.py install for configobj: finished with status 'done'\n\u001b[91m  DEPRECATION: protobix is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for protobix: started\n  Running setup.py install for protobix: finished with status 'done'\n\u001b[91m  DEPRECATION: zabbix-alerta is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for zabbix-alerta: started\n  Running setup.py install for zabbix-alerta: finished with status 'done'\nSuccessfully installed Click-8.1.3 alerta-8.5.1 certifi-2022.12.7 charset-normalizer-2.1.1 configobj-5.0.6 idna-3.4 mohawk-1.1.0 protobix-1.0.2 pytz-2022.7 pyzabbix-1.2.1 requests-2.28.1 requests-hawk-1.1.1 simplejson-3.18.1 tabulate-0.9.0 urllib3-1.26.13 zabbix-alerta-4.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 0989a4790dd5\n ---> 46e81af93af6\nSuccessfully built 46e81af93af6\nSuccessfully tagged zabbix-alerta:latest\n","stderr":"","imageSize":168063105}}