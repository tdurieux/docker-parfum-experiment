{"repository":"https://github.com/gravitational/planet","dockerfilePath":"Dockerfile","startTime":1673042194689,"endTime":1673042282248,"clone":{"startTime":1673042194696,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gravitational/planet'...\n","error":null,"endTime":1673042198550,"commit":"d995ead2cf9241bef0438da260f62659a22c87ad"},"originalBuild":{"startTime":1673042198643,"endTime":1673042282065,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t planet:latest -f /tmp/dinghy-analysis/gravitational/planet/Dockerfile ."},"stdout":"Sending build context to Docker daemon  61.61MB\r\r\nStep 1/184 : ARG KUBE_VER=v1.21.2\nStep 2/184 : ARG SECCOMP_VER=2.3.1-2.1+deb9u1\nStep 3/184 : ARG DOCKER_VER=20.10.7\nStep 4/184 : ARG FLANNEL_VER=v0.10.5-gravitational\nStep 5/184 : ARG HELM_VER=2.16.12\nStep 6/184 : ARG HELM3_VER=3.3.4\nStep 7/184 : ARG COREDNS_VER=1.7.0\nStep 8/184 : ARG NODE_PROBLEM_DETECTOR_VER=v0.6.4\nStep 9/184 : ARG CNI_VER=0.8.6\nStep 10/184 : ARG IPTABLES_VER=v1.8.5\nStep 11/184 : ARG PLANET_UID=980665\nStep 12/184 : ARG PLANET_GID=980665\nStep 13/184 : ARG GO_VERSION=1.17.5\nStep 14/184 : ARG ALPINE_VERSION=3.12\nStep 15/184 : ARG DEBIAN_IMAGE=quay.io/gravitational/debian-mirror@sha256:4b6ec644c29e4964a6f74543a5bf8c12bed6dec3d479e039936e4a37a8af9116\nStep 16/184 : ARG GO_BUILDER_VERSION=go1.17.5-stretch\nStep 17/184 : ARG AWS_ENCRYPTION_PROVIDER_VER=c4abcb30b4c1ab1961369e1e50a98da2cedb765d\nStep 18/184 : ARG DISTRIBUTION_VER=v2.7.1-gravitational\nStep 19/184 : ARG ARTEFACTS_DIR=_build\nStep 20/184 : ARG PLANET_PKG_PATH=/gopath/src/github.com/gravitational/planet\nStep 21/184 : ARG PLANET_BUILDFLAGS=\"-tags 'selinux sqlite_omit_load_extension'\"\nStep 22/184 : ARG ETCD_VER=\"v3.3.12 v3.3.15 v3.3.20 v3.3.22 v3.4.3 v3.4.7 v3.4.9\"\nStep 23/184 : ARG ETCD_LATEST_VER=v3.4.9\nStep 24/184 : FROM golang:${GO_VERSION}-stretch AS gobase\n1.17.5-stretch: Pulling from library/golang\n6a56b4def9c4: Pulling fs layer\nee0a7240797a: Pulling fs layer\n2fbb8704bdb1: Pulling fs layer\n737a610bfdda: Pulling fs layer\n3d4328e086ba: Pulling fs layer\nac99e6bbd6b8: Pulling fs layer\nd6dc42195e3c: Pulling fs layer\n3d4328e086ba: Waiting\nd6dc42195e3c: Waiting\n737a610bfdda: Waiting\nac99e6bbd6b8: Waiting\n2fbb8704bdb1: Verifying Checksum\n2fbb8704bdb1: Download complete\n6a56b4def9c4: Verifying Checksum\n6a56b4def9c4: Download complete\nee0a7240797a: Verifying Checksum\nee0a7240797a: Download complete\n737a610bfdda: Verifying Checksum\n737a610bfdda: Download complete\nd6dc42195e3c: Verifying Checksum\nd6dc42195e3c: Download complete\n6a56b4def9c4: Pull complete\nee0a7240797a: Pull complete\nac99e6bbd6b8: Verifying Checksum\nac99e6bbd6b8: Download complete\n2fbb8704bdb1: Pull complete\n737a610bfdda: Pull complete\n3d4328e086ba: Verifying Checksum\n3d4328e086ba: Download complete\n3d4328e086ba: Pull complete\nac99e6bbd6b8: Pull complete\nd6dc42195e3c: Pull complete\nDigest: sha256:6464c578ab28450580c238bfafa1bebd79b51d681c417f77ff2c4a47c9b1a8d2\nStatus: Downloaded newer image for golang:1.17.5-stretch\n ---> f10cc688e38a\nStep 25/184 : RUN apt install -y --no-install-recommends git\n ---> Running in 4c856ecd1631\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.11.0-3+deb9u7).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container 4c856ecd1631\n ---> fc70d105ce39\nStep 26/184 : FROM alpine:${ALPINE_VERSION} AS downloader\n3.12: Pulling from library/alpine\n1b7ca6aea1dd: Pulling fs layer\n1b7ca6aea1dd: Verifying Checksum\n1b7ca6aea1dd: Download complete\n1b7ca6aea1dd: Pull complete\nDigest: sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69\nStatus: Downloaded newer image for alpine:3.12\n ---> 24c8ece58a1a\nStep 27/184 : RUN apk add --no-cache curl tar && mkdir -p /tmp\n ---> Running in cc344926115c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing ca-certificates (20220614-r0)\n(2/6) Installing nghttp2-libs (1.41.0-r0)\n(3/6) Installing libcurl (7.79.1-r1)\n(4/6) Installing curl (7.79.1-r1)\n(5/6) Installing libacl (2.2.53-r0)\n(6/6) Installing tar (1.32-r2)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 8 MiB in 20 packages\nRemoving intermediate container cc344926115c\n ---> 9a0ce0fc8d15\nStep 28/184 : FROM ${DEBIAN_IMAGE} AS iptables-builder\nquay.io/gravitational/debian-mirror@sha256:4b6ec644c29e4964a6f74543a5bf8c12bed6dec3d479e039936e4a37a8af9116: Pulling from gravitational/debian-mirror\n99760bc62448: Pulling fs layer\nff4ad6bb60d8: Pulling fs layer\nff4ad6bb60d8: Verifying Checksum\nff4ad6bb60d8: Download complete\n99760bc62448: Verifying Checksum\n99760bc62448: Download complete\n99760bc62448: Pull complete\nff4ad6bb60d8: Pull complete\nDigest: sha256:4b6ec644c29e4964a6f74543a5bf8c12bed6dec3d479e039936e4a37a8af9116\nStatus: Downloaded newer image for quay.io/gravitational/debian-mirror@sha256:4b6ec644c29e4964a6f74543a5bf8c12bed6dec3d479e039936e4a37a8af9116\n ---> dd9d46a3c72c\nStep 29/184 : ARG IPTABLES_VER\n ---> Running in f65ff81ddd35\nRemoving intermediate container f65ff81ddd35\n ---> 7aa37f4bf995\nStep 30/184 : RUN --mount=type=cache,sharing=locked,target=/var/cache/apt --mount=type=cache,sharing=locked,target=/var/lib/apt \tset -ex && \tapt-get update && apt-get install -y --no-install-recommends \t\tgit pkg-config autoconf automake libtool libmnl-dev make build-essential\n","stderr":"the --mount option requires BuildKit. Refer to https://docs.docker.com/go/buildkit/ to learn how to build images with BuildKit enabled\n"}}