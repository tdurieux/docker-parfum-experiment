{"repository":"https://github.com/ibaozi-cn/wechatrobot","dockerfilePath":"Dockerfile","startTime":1672953161114,"endTime":1672953272131,"clone":{"startTime":1672953161132,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ibaozi-cn/wechatrobot'...\n","error":null,"endTime":1672953162112,"commit":"798db1ce27d5b7f52a278660a242632ab9e4a3fe"},"originalBuild":{"startTime":1672953162193,"endTime":1672953208995,"error":null,"stdout":"Sending build context to Docker daemon  4.571MB\r\r\nStep 1/7 : FROM node:carbon\ncarbon: Pulling from library/node\nDigest: sha256:a681bf74805b80d03eb21a6c0ef168a976108a287a74167ab593fc953aac34df\nStatus: Downloaded newer image for node:carbon\n ---> 8eeadf3757f4\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in b41c2cfb8691\nRemoving intermediate container b41c2cfb8691\n ---> 307b84d549da\nStep 3/7 : COPY package*.json ./\n ---> 4909b940e85c\nStep 4/7 : RUN npm install\n ---> Running in 025eebc11dab\n\u001b[91mnpm WARN deprecated axios@0.18.1: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated raven@2.6.4: Please upgrade to @sentry/node. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\n> core-js@2.6.12 postinstall /usr/src/app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for wechaty@0.22.6: wanted: {\"node\":\">= 10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: wechaty@0.22.6\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for brolog@1.14.2: wanted: {\"node\":\">=16\",\"npm\":\">=7\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: brolog@1.14.2\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for memory-card@0.6.21: wanted: {\"node\":\">= 10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: memory-card@0.6.21\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for @pipeletteio/nop@1.0.5: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm\u001b[0m\u001b[91m WARN notsup Not compatible with your version of node/npm: @pipeletteio/nop@1.0.5\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for aws-sdk@2.1289.0: wanted: {\"node\":\">= 10.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: aws-sdk@2.1289.0\n\u001b[0m\u001b[91m\n\u001b[0madded 255 packages from 330 contributors and audited 256 packages in 15.491s\n\n20 packages are looking for funding\n  run `npm fund` for details\n\nfound 14 vulnerabilities (1 low, 3 moderate, 7 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 025eebc11dab\n ---> 2ad5b13ba654\nStep 5/7 : COPY . .\n ---> 8a47077598a7\nStep 6/7 : EXPOSE 3000\n ---> Running in 89270c4eb863\nRemoving intermediate container 89270c4eb863\n ---> c300b008d3f7\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in 496a430cc513\nRemoving intermediate container 496a430cc513\n ---> 81852f8c63e2\nSuccessfully built 81852f8c63e2\nSuccessfully tagged wechatrobot:latest\n","stderr":"","imageSize":1049853308},"repair":{"startTime":1672953209054,"endTime":1672953209085,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:carbon\n\n# Create app directory\nWORKDIR /usr/src/app\n\n# Install app dependencies\n# A wildcard is used to ensure both package.json AND package-lock.json are copied\n# where available (npm@5+)\nCOPY package*.json ./\n\nRUN npm install && npm cache clean --force;\n# If you are building your code for production\n# RUN npm install --only=production\n\n# Bundle app source\nCOPY . .\n\nEXPOSE 3000\n\nCMD [ \"npm\", \"start\" ]"},"repairedBuild":{"startTime":1672953209765,"endTime":1672953271640,"error":null,"stdout":"Sending build context to Docker daemon  4.571MB\r\r\nStep 1/7 : FROM node:carbon\n ---> 8eeadf3757f4\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 8817f5f891aa\nRemoving intermediate container 8817f5f891aa\n ---> 039b58b646c1\nStep 3/7 : COPY package*.json ./\n ---> 9bfea99e19a9\nStep 4/7 : RUN npm install && npm cache clean --force;\n ---> Running in 3965cc189164\n\u001b[91mnpm WARN deprecated axios@0.18.1: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated raven@2.6.4: Please upgrade to @sentry/node. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\n> core-js@2.6.12 postinstall /usr/src/app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for wechaty@0.22.6: wanted: {\"node\":\">= 10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: wechaty@0.22.6\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for brolog@1.14.2: wanted: {\"node\":\">=16\",\"npm\":\">=7\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: brolog@1.14.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for memory-card@0.6.21: wanted: {\"node\":\">= 10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: memory-card@0.6.21\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for @pipeletteio/nop@1.0.5: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm \u001b[0m\u001b[91mWARN notsup Not compatible with your version of node/npm: @pipeletteio/nop@1.0.5\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for aws-sdk@2.1289.0: wanted: {\"node\":\">= 10.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN\u001b[0m\u001b[91m notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: aws-sdk@2.1289.0\n\u001b[0m\u001b[91m\n\u001b[0madded 255 packages from 330 contributors and audited 256 packages in 9.848s\n\n20 packages are looking for funding\n  run `npm fund` for details\n\nfound 14 vulnerabilities (1 low, 3 moderate, 7 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm \u001b[0m\u001b[91mWARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 3965cc189164\n ---> baf3c3d326d4\nStep 5/7 : COPY . .\n ---> 9ff87432eff1\nStep 6/7 : EXPOSE 3000\n ---> Running in 4a45d18b4f7b\nRemoving intermediate container 4a45d18b4f7b\n ---> 41f9a521ff14\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in 72ccc8daabbe\nRemoving intermediate container 72ccc8daabbe\n ---> 8943229000d7\nSuccessfully built 8943229000d7\nSuccessfully tagged wechatrobot:latest\n","stderr":"","imageSize":1016917183}}