{"repository":"https://github.com/jembi/openhim-core-js","dockerfilePath":"Dockerfile","startTime":1672167621812,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jembi/openhim-core-js'...\n","error":null,"commit":"5ece1a1f473d19c8571514b5080631faedd8858c"},"originalBuild":{"startTimestamp":1672167622923,"endTimestamp":1672167705207,"error":null,"stdout":"Sending build context to Docker daemon  1.611MB\r\r\nStep 1/7 : FROM node:14.17-alpine\n14.17-alpine: Pulling from library/node\n6a428f9f83b0: Pulling fs layer\n630852b09df4: Pulling fs layer\nf13ad23a48a4: Pulling fs layer\n43df7c393f3d: Pulling fs layer\n43df7c393f3d: Waiting\nf13ad23a48a4: Verifying Checksum\nf13ad23a48a4: Download complete\n6a428f9f83b0: Verifying Checksum\n6a428f9f83b0: Download complete\n6a428f9f83b0: Pull complete\n630852b09df4: Verifying Checksum\n630852b09df4: Download complete\n630852b09df4: Pull complete\nf13ad23a48a4: Pull complete\n43df7c393f3d: Pull complete\nDigest: sha256:8c94a0291133e16b92be5c667e0bc35930940dfa7be544fb142e25f8e4510a45\nStatus: Downloaded newer image for node:14.17-alpine\n ---> 1d909dafa77f\nStep 2/7 : RUN apk upgrade --update-cache --available &&     apk add openssl &&     rm -rf /var/cache/apk/*\n ---> Running in e4b3720f74a0\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading busybox (1.31.1-r10 -> 1.31.1-r11)\nExecuting busybox-1.31.1-r11.post-upgrade\n(2/3) Upgrading ssl_client (1.31.1-r10 -> 1.31.1-r11)\n(3/3) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\nExecuting busybox-1.31.1-r11.trigger\nOK: 7 MiB in 16 packages\n(1/1) Installing openssl (1.1.1l-r0)\nExecuting busybox-1.31.1-r11.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container e4b3720f74a0\n ---> 32f71d86d875\nStep 3/7 : WORKDIR /app\n ---> Running in 54f5c38fc3c8\nRemoving intermediate container 54f5c38fc3c8\n ---> 194ecb723121\nStep 4/7 : COPY . .\n ---> df27b2d8477c\nStep 5/7 : RUN npm install\n ---> Running in 5d7603f17426\n\n> core-js@2.6.11 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m lifecycle\u001b[0m\u001b[91m openhim-core@7.1.0~prepare: cannot run in wd openhim-core@7.1.0 npm run build (wd=/app)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/forever-monitor/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1102 packages from 951 contributors and audited 1109 packages in 25.159s\n\n96 packages are looking for funding\n  run `npm fund` for details\n\nfound 62 vulnerabilities (7 low, 9 moderate, 39 high, 7 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 5d7603f17426\n ---> 4b2b4b1dd39c\nStep 6/7 : RUN npm run build\n ---> Running in f7eb22c87866\n\n> openhim-core@7.1.0 build /app\n> npm run clean && babel src --out-dir lib -s\n\n\n> openhim-core@7.1.0 clean /app\n> rimraf lib/\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mSuccessfully compiled 77 files with Babel (1802ms).\nRemoving intermediate container f7eb22c87866\n ---> acfd1728496b\nStep 7/7 : CMD [\"node\", \"lib/server.js\"]\n ---> Running in 43f0874978cd\nRemoving intermediate container 43f0874978cd\n ---> a217151d7da5\nSuccessfully built a217151d7da5\nSuccessfully tagged openhim-core-js:latest\n","stderr":"","imageSize":289262177},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"FROM node:14.17-alpine\n\nRUN apk upgrade --update-cache --available && \\\n    apk add --no-cache openssl && \\\n    rm -rf /var/cache/apk/*\n\nWORKDIR /app\n\nCOPY . .\n\nRUN npm install\n\nRUN npm run build\n\nCMD [\"node\", \"lib/server.js\"]\n"},"repairedBuild":{"startTimestamp":1672167707417,"endTimestamp":1672167752294,"error":null,"stdout":"Sending build context to Docker daemon  1.611MB\r\r\nStep 1/7 : FROM node:14.17-alpine\n ---> 1d909dafa77f\nStep 2/7 : RUN apk upgrade --update-cache --available &&     apk add --no-cache openssl &&     rm -rf /var/cache/apk/*\n ---> Running in fc257dae992d\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading busybox (1.31.1-r10 -> 1.31.1-r11)\nExecuting busybox-1.31.1-r11.post-upgrade\n(2/3) Upgrading ssl_client (1.31.1-r10 -> 1.31.1-r11)\n(3/3) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\nExecuting busybox-1.31.1-r11.trigger\nOK: 7 MiB in 16 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing openssl (1.1.1l-r0)\nExecuting busybox-1.31.1-r11.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container fc257dae992d\n ---> 2b7a3b909d6c\nStep 3/7 : WORKDIR /app\n ---> Running in b993d825e473\nRemoving intermediate container b993d825e473\n ---> 9757ad587691\nStep 4/7 : COPY . .\n ---> baeb99c73be3\nStep 5/7 : RUN npm install\n ---> Running in 81891a62ad15\n\n> core-js@2.6.11 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\u001b[91mnpm WARN lifecycle openhim-core@7.1.0~prepare: cannot run in wd openhim-core@7.1.0 npm run build (wd=/app)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/forever-monitor/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1102 packages from 951 contributors and audited 1109 packages in 15.443s\n\n96 packages are looking for funding\n  run `npm fund` for details\n\nfound 62 vulnerabilities (7 low, 9 moderate, 39 high, 7 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 81891a62ad15\n ---> e7f9937362a3\nStep 6/7 : RUN npm run build\n ---> Running in 2a9a267220f3\n\n> openhim-core@7.1.0 build /app\n> npm run clean && babel src --out-dir lib -s\n\n\n> openhim-core@7.1.0 clean /app\n> rimraf lib/\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mSuccessfully compiled 77 files with Babel (1624ms).\nRemoving intermediate container 2a9a267220f3\n ---> 86d29e455112\nStep 7/7 : CMD [\"node\", \"lib/server.js\"]\n ---> Running in 09e52f417e32\nRemoving intermediate container 09e52f417e32\n ---> 495c18b96e68\nSuccessfully built 495c18b96e68\nSuccessfully tagged openhim-core-js:latest\n","stderr":"","imageSize":289262260},"endTime":1672167754540}