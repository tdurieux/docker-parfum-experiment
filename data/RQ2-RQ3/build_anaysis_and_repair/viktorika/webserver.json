{"repository":"https://github.com/viktorika/webserver","dockerfilePath":"Dockerfile","startTime":1672375512999,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/viktorika/webserver'...\n","error":null,"commit":"6847a7d79eef2521c7f607133272dc803dfc501d"},"originalBuild":{"startTimestamp":1672375514881,"endTimestamp":1672375528661,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t webserver:latest -f /tmp/dinghy-analysis/viktorika/webserver/Dockerfile ."},"stdout":"Sending build context to Docker daemon  22.26MB\r\r\nStep 1/8 : FROM alpine\n ---> 49176f190c7e\nStep 2/8 : ENV INSTALL_PATH=/opt/\n ---> Running in 8340adde3c38\nRemoving intermediate container 8340adde3c38\n ---> 1cda73fd2b9c\nStep 3/8 : COPY ./src $INSTALL_PATH\n ---> 0d875da74bb1\nStep 4/8 : RUN apk add g++ make \t&& make -C $INSTALL_PATH\n ---> Running in 72432d51327b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/15) Installing libgcc (12.2.1_git20220924-r4)\n(2/15) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/15) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(4/15) Installing binutils (2.39-r2)\n(5/15) Installing libgomp (12.2.1_git20220924-r4)\n(6/15) Installing libatomic (12.2.1_git20220924-r4)\n(7/15) Installing gmp (6.2.1-r2)\n(8/15) Installing isl25 (0.25-r0)\n(9/15) Installing mpfr4 (4.1.0-r0)\n(10/15) Installing mpc1 (1.2.1-r1)\n(11/15) Installing gcc (12.2.1_git20220924-r4)\n(12/15) Installing musl-dev (1.2.3-r4)\n(13/15) Installing libc-dev (0.7.2-r3)\n(14/15) Installing g++ (12.2.1_git20220924-r4)\n(15/15) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 236 MiB in 30 packages\nmake: Entering directory '/opt'\ng++ -std=c++11 -g -c main.cc Server.cc Http_conn.cc Mimetype.cc Packet.cc Reactor/EventLoop.cc Reactor/Epoll.cc Reactor/Channel.cc Reactor/TimerManager.cc log/Logging.cc log/AsyncLogging.cc log/LogStream.cc log/LogFile.cc log/FileUtil.cc Threadpool/ThreadpoolEventLoop.cc Threadpool/ThreadEventLoop.cc Threadpool/Thread.cc conf/Conf.cc MemoryPool/MemoryPool.cc cache/LFUCache.cc\n\u001b[91mIn file included from Server.h:3,\n                 from main.cc:1:\nPacket.h:18:10: fatal error: openssl/bio.h: No such file or directory\n   18 | #include <openssl/bio.h>\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Server.h:3,\n                 from Server.cc:1:\nPacket.h:18:10: fatal error: openssl/bio.h: No such file or directory\n   18 | #include <openssl/bio.h>\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Http_conn.h:3,\n                 from Http_conn.cc:1:\nPacket.h:18:10: fatal error: openssl/bio.h: No such file or directory\n   18 | #include <openssl/bio.h>\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Mimetype.cc:1:\nMimetype.h:9:30: error: 'string' is not a member of 'std'\n    9 |         static std::map<std::string,std::string>mime;\n      |                              ^~~~~~\nMimetype.h:5:1: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\n    4 | #include <pthread.h>\n  +++ |+#include <string>\n    5 | \nMimetype.h:9:30: error: 'string' is not a member of 'std'\n    9 |         static std::map<std::string,std::string>mime;\n      |                              ^~~~~~\nMimetype.h:9:30: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\nMimetype.h:9:42: error: 'string' is not a member of 'std'\n    9 |         static std::map<std::string,std::string>mime;\n      |                                          ^~~~~~\nMimetype.h:9:42: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\nMimetype.h:9:42: error: 'string' is not a member of 'std'\nMimetype.h:9:42: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\nMimetype.h:9:48: error: template argument 1 is invalid\n    9 |         static std::map<std::string,std::string>mime;\n      |                                                ^\nMimetype.h:9:48: error: template argument 2 is invalid\nMimetype.h:9:48: error: template argument 3 is invalid\nMimetype.h:9:48: error: template argument 4 is invalid\nMimetype.h:13:21: error: 'string' in namespace 'std' does not name a type\n   13 |         static std::string getMime(const std::string &suffix);\n      |                     ^~~~~~\nMimetype.h:13:16: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\n   13 |         static std::string getMime(const std::string &suffix);\n      |                ^~~\nMimetype.cc:4:15: error: 'string' is not a member of 'std'\n    4 | std::map<std::string,std::string> Mimetype::mime;\n      |               ^~~~~~\nMimetype.cc:2:1: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\n    1 | #include \"Mimetype.h\"\n  +++ |+#include <string>\n    2 | \nMimetype.cc:4:15: error: 'string' is not a member of 'std'\n    4 | std::map<std::string,std::string> Mimetype::mime;\n      |               ^~~~~~\nMimetype.cc:4:15: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\nMimetype.cc:4:27: error: 'string' is not a member of 'std'\n    4 | std::map<std::string,std::string> Mimetype::mime;\n      |                           ^~~~~~\nMimetype.cc:4:27: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\n\u001b[0m\u001b[91mMimetype.cc:4:27: error: 'string' is not a member of 'std'\nMimetype.cc:4:27: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\nMimetype.cc:4:33: error: template argument 1 is invalid\n    4 | std::map<std::string,std::string> Mimetype::mime;\n      |                                 ^\nMimetype.cc:4:33: error: template argument 2 is invalid\nMimetype.cc:4:33: error: template argument 3 is invalid\nMimetype.cc:4:33: error: template argument 4 is invalid\n\u001b[0m\u001b[91mMimetype.cc: In static member function 'static void Mimetype::init()':\nMimetype.cc:7:19: error: assignment of read-only location '\".html\"[Mimetype::mime]'\n    7 |     mime[\".html\"] = \"text/html\";\n      |     ~~~~~~~~~~~~~~^~~~~~~~~~~~~\nMimetype.cc:8:18: error: assignment of read-only location '\".avi\"[Mimetype::mime]'\n    8 |     mime[\".avi\"] = \"video/x-msvideo\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~\nMimetype.cc:9:18: error: assignment of read-only location '\".bmp\"[Mimetype::mime]'\n    9 |     mime[\".bmp\"] = \"image/bmp\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0m\u001b[91mMimetype.cc:10:16: error: assignment of read-only location '\".c\"[Mimetype::mime]'\n   10 |     mime[\".c\"] = \"text/plain\";\n      |     ~~~~~~~~~~~^~~~~~~~~~~~~~\nMimetype.cc:11:18: error: assignment of read-only location '\".doc\"[Mimetype::mime]'\n   11 |     mime[\".doc\"] = \"application/msword\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91mMimetype.cc:12:18: error: assignment of read-only location '\".gif\"[Mimetype::mime]'\n   12 |     mime[\".gif\"] = \"image/gif\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~\nMimetype.cc:13:17: error: assignment of read-only location '\".gz\"[Mimetype::mime]'\n   13 |     mime[\".gz\"] = \"application/x-gzip\";\n      |     ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91mMimetype.cc:14:18: error: assignment of read-only location '\".htm\"[Mimetype::mime]'\n   14 |     mime[\".htm\"] = \"text/html\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~\nMimetype.cc:15:18: error: assignment of read-only location '\".ico\"[Mimetype::mime]'\n   15 |     mime[\".ico\"] = \"image/x-icon\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~\nMimetype.cc:16:18: error: assignment of read-only location '\".jpg\"[Mimetype::mime]'\n   16 |     mime[\".jpg\"] = \"image/jpeg\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~~\nMimetype.cc:17:18: error: assignment of read-only location '\".png\"[Mimetype::mime]'\n   17 |     mime[\".png\"] = \"image/png\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0m\u001b[91mMimetype.cc:18:18: error: assignment of read-only location '\".txt\"[Mimetype::mime]'\n   18 |     mime[\".txt\"] = \"text/plain\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~~\nMimetype.cc:19:18: error: assignment of read-only location '\".mp3\"[Mimetype::mime]'\n   19 |     mime[\".mp3\"] = \"audio/mp3\";\n      |     ~~~~~~~~~~~~~^~~~~~~~~~~~~\nMimetype.cc:20:21: error: assignment of read-only location '\"default\"[Mimetype::mime]'\n   20 |     mime[\"default\"] = \"text/html\";\n      |     ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0m\u001b[91mMimetype.cc: At global scope:\nMimetype.cc:27:6: error: 'string' in namespace 'std' does not name a type\n   27 | std::string Mimetype::getMime(const std::string &suffix){\n      |      ^~~~~~\nMimetype.cc:27:1: note: 'std::string' is defined in header '<string>'; did you forget to '#include <string>'?\n   27 | std::string Mimetype::getMime(const std::string &suffix){\n      | ^~~\n\u001b[0m\u001b[91mIn file included from Packet.cc:1:\nPacket.h:18:10: fatal error: openssl/bio.h: No such file or directory\n   18 | #include <openssl/bio.h>\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Reactor/Epoll.h:3,\n                 from Reactor/EventLoop.h:3,\n                 from Reactor/EventLoop.cc:1:\nReactor/Channel.h:10:10: fatal error: openssl/bio.h: No such file or directory\n   10 | #include \"openssl/bio.h\"\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Reactor/Epoll.h:3,\n                 from Reactor/Epoll.cc:1:\nReactor/Channel.h:10:10: fatal error: openssl/bio.h: No such file or directory\n   10 | #include \"openssl/bio.h\"\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Reactor/Epoll.h:4,\n                 from Reactor/EventLoop.h:3,\n                 from Reactor/Channel.h:6,\n                 from Reactor/Channel.cc:1:\nReactor/../Packet.h:18:10: fatal error: openssl/bio.h: No such file or directory\n   18 | #include <openssl/bio.h>\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Reactor/Epoll.h:4,\n                 from Reactor/EventLoop.h:3,\n                 from Reactor/Channel.h:6,\n                 from Reactor/TimerManager.h:6,\n                 from Reactor/TimerManager.cc:1:\nReactor/../Packet.h:18:10: fatal error: openssl/bio.h: No such file or directory\n   18 | #include <openssl/bio.h>\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mlog/LogStream.cc: In instantiation of 'void LogStream::formatDecimal(T) [with T = long double]':\nlog/LogStream.cc:91:15:   required from here\nlog/LogStream.cc:30:74: warning: format '%g' expects argument of type 'double', but argument 4 has type 'long double' [-Wformat=]\n   30 |                 int len=snprintf(buffer_.current(),kMaxNumbericSize,\"%.12g\",v);\n      |                                                                      ~~~~^  ~\n      |                                                                          |  |\n      |                                                                          |  long double\n      |                                                                          double\n      |                                                                      %.12Lg\n\u001b[0m\u001b[91mlog/LogFile.cc: In member function 'bool LogFile::rollFile()':\nlog/LogFile.cc:26:1: warning: no return statement in function returning non-void [-Wreturn-type]\n   26 | }\n      | ^\n\u001b[0m\u001b[91mIn file included from Threadpool/../Reactor/Epoll.h:3,\n                 from Threadpool/../Reactor/EventLoop.h:3,\n                 from Threadpool/ThreadEventLoop.h:3,\n                 from Threadpool/ThreadpoolEventLoop.h:3,\n                 from Threadpool/ThreadpoolEventLoop.cc:1:\nThreadpool/../Reactor/Channel.h:10:10: fatal error: openssl/bio.h: No such file or directory\n   10 | #include \"openssl/bio.h\"\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mIn file included from Threadpool/../Reactor/Epoll.h:3,\n                 from Threadpool/../Reactor/EventLoop.h:3,\n                 from Threadpool/ThreadEventLoop.h:3,\n                 from Threadpool/ThreadEventLoop.cc:1:\nThreadpool/../Reactor/Channel.h:10:10: fatal error: openssl/bio.h: No such file or directory\n   10 | #include \"openssl/bio.h\"\n      |          ^~~~~~~~~~~~~~~\ncompilation terminated.\n\u001b[0m\u001b[91mmake: *** [makefile:13: main.o] Error 1\n\u001b[0mmake: Leaving directory '/opt'\nRemoving intermediate container 72432d51327b\n","stderr":"The command '/bin/sh -c apk add g++ make \t&& make -C $INSTALL_PATH' returned a non-zero code: 2\n"},"endTime":1672375528728}