{"repository":"https://github.com/mdn/developer-portal","dockerfilePath":"Dockerfile","startTime":1672550620585,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mdn/developer-portal'...\n","error":null,"commit":"1443dcd02f2efc100fd22497206346336c0b7537"},"originalBuild":{"startTimestamp":1672550621788,"endTimestamp":1672550835757,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t developer-portal:latest -f /tmp/dinghy-analysis/mdn/developer-portal/Dockerfile ."},"stdout":"Sending build context to Docker daemon  13.13MB\r\r\nStep 1/26 : FROM node:12.18-alpine@sha256:0b5c7eb38785da1ad4c105930faca0bc546dfcceb0464724456e277fd5e3f6e2 AS static\ndocker.io/library/node:12.18-alpine@sha256:0b5c7eb38785da1ad4c105930faca0bc546dfcceb0464724456e277fd5e3f6e2: Pulling from library/node\ncbdbe7a5bc2a: Pulling fs layer\n091983d60f65: Pulling fs layer\n7bacc183740f: Pulling fs layer\nc4a5a5d270d4: Pulling fs layer\nc4a5a5d270d4: Waiting\ncbdbe7a5bc2a: Verifying Checksum\ncbdbe7a5bc2a: Download complete\ncbdbe7a5bc2a: Pull complete\nc4a5a5d270d4: Verifying Checksum\nc4a5a5d270d4: Download complete\n7bacc183740f: Verifying Checksum\n7bacc183740f: Download complete\n091983d60f65: Verifying Checksum\n091983d60f65: Download complete\n091983d60f65: Pull complete\n7bacc183740f: Pull complete\nc4a5a5d270d4: Pull complete\nDigest: sha256:0b5c7eb38785da1ad4c105930faca0bc546dfcceb0464724456e277fd5e3f6e2\nStatus: Downloaded newer image for node:12.18-alpine@sha256:0b5c7eb38785da1ad4c105930faca0bc546dfcceb0464724456e277fd5e3f6e2\n ---> 18f4bc975732\nStep 2/26 : WORKDIR /app/\n ---> Running in 84c80c3081e6\nRemoving intermediate container 84c80c3081e6\n ---> 58c8d679b683\nStep 3/26 : COPY package.json package-lock.json /app/\n ---> 4ce80f7cd605\nStep 4/26 : RUN npm ci\n ---> Running in a9bacc569e3e\n\n> fsevents@1.2.13 install /app/node_modules/watchpack-chokidar2/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> node-sass@4.14.1 install /app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.14.1/linux_musl-x64-72_binding.node\nDownload complete\nBinary saved to /app/node_modules/node-sass/vendor/linux_musl-x64-72/binding.node\nCaching binary to /root/.npm/_cacache/node-sass/4.14.1/linux_musl-x64-72_binding.node\n\n> node-sass@4.14.1 postinstall /app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /app/node_modules/node-sass/vendor/linux_musl-x64-72/binding.node\nTesting binary\nBinary is fine\nadded 1392 packages in 14.295s\nRemoving intermediate container a9bacc569e3e\n ---> ecf6c26ec4f7\nStep 5/26 : RUN rm -rf dist\n ---> Running in bd3b4a12572c\nRemoving intermediate container bd3b4a12572c\n ---> 9078689d4ea6\nStep 6/26 : COPY .eslintignore .prettierignore webpack.config.js /app/\n ---> 08eec64004f8\nStep 7/26 : COPY src/ /app/src/\n ---> 0a181b59f512\nStep 8/26 : RUN npm run build\n ---> Running in ade4771def9f\n\n> mozilla-developer-portal@0.0.0 build /app\n> NODE_ENV=production webpack\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0mHash: d93fe2d15b33de75b791\nVersion: webpack 4.44.1\nTime: 3335ms\nBuilt at: 01/01/2023 5:25:06 AM\n               Asset       Size  Chunks             Chunk Names\ncss/admin_extras.css  170 bytes       0  [emitted]  admin_extras\n      css/bundle.css     81 KiB       1  [emitted]  bundle\n  js/admin_extras.js  982 bytes       0  [emitted]  admin_extras\n        js/bundle.js   40.7 KiB       1  [emitted]  bundle\n          js/head.js   1.43 KiB       2  [emitted]  head\nEntrypoint bundle = css/bundle.css js/bundle.js\nEntrypoint head = js/head.js\nEntrypoint admin_extras = css/admin_extras.css js/admin_extras.js\n [1] (webpack)/buildin/global.js 472 bytes {1} [built]\n [3] ./src/js/index.js 1.27 KiB {1} [built]\n [8] ./src/js/organisms/filter-form.js 5.23 KiB {1} [built]\n [9] ./src/js/utils.js 1.01 KiB {1} [built]\n[10] ./src/js/atoms/modal.js 5.68 KiB {1} [built]\n[11] ./src/js/organisms/notification-bar.js 583 bytes {1} [built]\n[12] ./src/js/task-completion-prompt.js 3.95 KiB {1} [built]\n[14] ./src/js/newsletter-subscription.js 2.87 KiB {1} [built]\n[23] ./src/css/index.scss 39 bytes {1} [built]\n[24] ./src/js/head-includes.js 75 bytes {2} [built]\n[25] ./src/js/mozilla-dnthelper.js 2.57 KiB {2} [built]\n[26] ./src/js/admin-extras.js 28 bytes {0} [built]\n[27] ./src/css/admin.scss 39 bytes {0} [built]\n[28] ./src/js/polyfills.js + 1 modules 21.5 KiB {1} [built]\n     | ./src/js/polyfills.js 6.58 KiB [built]\n     |     + 1 hidden module\n    + 17 hidden modules\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js??ref--5-1!node_modules/postcss-loader/src/index.js??ref--5-2!node_modules/sass-loader/dist/cjs.js!src/css/admin.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js??ref--5-1!./node_modules/postcss-loader/src??ref--5-2!./node_modules/sass-loader/dist/cjs.js!./src/css/admin.scss 412 bytes {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js??ref--5-1!node_modules/postcss-loader/src/index.js??ref--5-2!node_modules/sass-loader/dist/cjs.js!src/css/index.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js??ref--5-1!./node_modules/postcss-loader/src??ref--5-2!./node_modules/sass-loader/dist/cjs.js!./src/css/index.scss 86.1 KiB {0} [built]\n        + 1 hidden module\nRemoving intermediate container ade4771def9f\n ---> c7d388f6b457\nStep 9/26 : FROM python:3.7-alpine@sha256:8cb58b0a85fafeb9b0d7d0bbc02f9b2894c300bdbc602aa1215a9de951961d6e AS app_base\ndocker.io/library/python:3.7-alpine@sha256:8cb58b0a85fafeb9b0d7d0bbc02f9b2894c300bdbc602aa1215a9de951961d6e: Pulling from library/python\ndf20fa9351a1: Pulling fs layer\n36b3adc4ff6f: Pulling fs layer\nae9c05960bd7: Pulling fs layer\n7442392bb9e7: Pulling fs layer\nf6327682c96d: Pulling fs layer\n7442392bb9e7: Waiting\nf6327682c96d: Waiting\n36b3adc4ff6f: Verifying Checksum\n36b3adc4ff6f: Download complete\ndf20fa9351a1: Verifying Checksum\ndf20fa9351a1: Download complete\ndf20fa9351a1: Pull complete\n36b3adc4ff6f: Pull complete\n7442392bb9e7: Download complete\nf6327682c96d: Verifying Checksum\nf6327682c96d: Download complete\nae9c05960bd7: Verifying Checksum\nae9c05960bd7: Download complete\nae9c05960bd7: Pull complete\n7442392bb9e7: Pull complete\nf6327682c96d: Pull complete\nDigest: sha256:8cb58b0a85fafeb9b0d7d0bbc02f9b2894c300bdbc602aa1215a9de951961d6e\nStatus: Downloaded newer image for python:3.7-alpine@sha256:8cb58b0a85fafeb9b0d7d0bbc02f9b2894c300bdbc602aa1215a9de951961d6e\n ---> 4fac8cece98e\nStep 10/26 : EXPOSE 8000\n ---> Running in 9bca04f48988\nRemoving intermediate container 9bca04f48988\n ---> 7e6ff0d542f8\nStep 11/26 : WORKDIR /app/\n ---> Running in 179dfacfdc94\nRemoving intermediate container 179dfacfdc94\n ---> 13fec853cb88\nStep 12/26 : RUN apk add --no-cache --virtual .build-deps   file   make   gcc   musl-dev   postgresql-dev\n ---> Running in 5009408aefb5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/35) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/35) Installing libmagic (5.38-r0)\n(3/35) Installing file (5.38-r0)\n(4/35) Installing make (4.3-r0)\n(5/35) Installing libgcc (9.3.0-r2)\n(6/35) Installing libstdc++ (9.3.0-r2)\n(7/35) Installing binutils (2.34-r2)\n(8/35) Installing gmp (6.2.1-r1)\n(9/35) Installing isl (0.18-r0)\n(10/35) Installing libgomp (9.3.0-r2)\n(11/35) Installing libatomic (9.3.0-r2)\n(12/35) Installing libgphobos (9.3.0-r2)\n(13/35) Installing mpfr4 (4.0.2-r4)\n(14/35) Installing mpc1 (1.1.0-r1)\n(15/35) Installing gcc (9.3.0-r2)\n(16/35) Installing musl-dev (1.1.24-r10)\n(17/35) Installing libxml2 (2.9.14-r0)\n(18/35) Installing llvm10-libs (10.0.0-r2)\n(19/35) Installing clang-libs (10.0.0-r2)\n(20/35) Installing clang (10.0.0-r2)\n(21/35) Installing llvm10 (10.0.0-r2)\n(22/35) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1o-r0)\n(23/35) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1o-r0)\n(24/35) Installing pkgconf (1.7.2-r0)\n(25/35) Installing openssl-dev (1.1.1o-r0)\n(26/35) Installing icu-libs (67.1-r0)\n(27/35) Installing icu (67.1-r0)\n(28/35) Installing icu-dev (67.1-r0)\n(29/35) Installing db (5.3.28-r1)\n(30/35) Installing libsasl (2.1.28-r0)\n(31/35) Installing libldap (2.4.58-r0)\n(32/35) Installing libpq (12.10-r0)\n(33/35) Installing postgresql-libs (12.10-r0)\n(34/35) Installing postgresql-dev (12.10-r0)\n(35/35) Installing .build-deps (20230101.052623)\nExecuting busybox-1.31.1-r16.trigger\nExecuting ca-certificates-20191127-r3.trigger\nOK: 361 MiB in 67 packages\nRemoving intermediate container 5009408aefb5\n ---> 56d9285bdcfe\nStep 13/26 : RUN apk add --no-cache   jpeg-dev   libc-dev   libffi-dev   libmemcached-dev   libxslt-dev   postgresql-libs   zlib-dev\n ---> Running in cecfd65c3886\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/18) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(2/18) Upgrading xz-libs (5.2.5-r0 -> 5.2.5-r1)\n(3/18) Installing libjpeg-turbo (2.1.0-r0)\n(4/18) Installing libjpeg-turbo-dev (2.1.0-r0)\n(5/18) Installing jpeg-dev (9d-r0)\n(6/18) Installing libc-dev (0.7.2-r3)\n(7/18) Installing linux-headers (5.4.5-r1)\n(8/18) Installing libffi-dev (3.3-r2)\n(9/18) Installing cyrus-sasl-dev (2.1.28-r0)\n(10/18) Installing libmemcached-libs (1.0.18-r4)\n(11/18) Installing libmemcached-dev (1.0.18-r4)\n(12/18) Installing libgpg-error (1.37-r0)\n(13/18) Installing libgcrypt (1.8.8-r1)\n(14/18) Installing libxslt (1.1.35-r0)\n(15/18) Installing zlib-dev (1.2.12-r3)\n(16/18) Installing xz-dev (5.2.5-r1)\n(17/18) Installing libxml2-dev (2.9.14-r0)\n(18/18) Installing libxslt-dev (1.1.35-r0)\nExecuting busybox-1.31.1-r16.trigger\nOK: 381 MiB in 83 packages\nRemoving intermediate container cecfd65c3886\n ---> 48ae401b24da\nStep 14/26 : COPY requirements.txt /app/\n ---> a4258af7d72f\nStep 15/26 : RUN pip install -U pip\n ---> Running in ee829c14610b\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 20.2.2\n    Uninstalling pip-20.2.2:\n      Successfully uninstalled pip-20.2.2\nSuccessfully installed pip-22.3.1\nRemoving intermediate container ee829c14610b\n ---> 33adb9c23953\nStep 16/26 : RUN pip install -r requirements.txt --no-cache-dir\n ---> Running in b3fda598710d\nCollecting Django==2.2.14\n  Downloading Django-2.2.14-py3-none-any.whl (7.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.5/7.5 MB 7.8 MB/s eta 0:00:00\nCollecting celery==4.4.6\n  Downloading celery-4.4.6-py2.py3-none-any.whl (426 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 426.6/426.6 kB 118.1 MB/s eta 0:00:00\nCollecting redis==3.5.3\n  Downloading redis-3.5.3-py2.py3-none-any.whl (72 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 72.1/72.1 kB 167.9 MB/s eta 0:00:00\nCollecting kombu==4.6.11\n  Downloading kombu-4.6.11-py2.py3-none-any.whl (184 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 184.4/184.4 kB 134.3 MB/s eta 0:00:00\nCollecting django-celery-results==1.2.1\n  Downloading django_celery_results-1.2.1-py2.py3-none-any.whl (21 kB)\nCollecting django-countries==6.1.2\n  Downloading django_countries-6.1.2-py3-none-any.whl (791 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 791.2/791.2 kB 116.9 MB/s eta 0:00:00\nCollecting django-redis==4.12.1\n  Downloading django_redis-4.12.1-py3-none-any.whl (19 kB)\nCollecting gunicorn==20.0.4\n  Downloading gunicorn-20.0.4-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.9/77.9 kB 221.1 MB/s eta 0:00:00\nCollecting gevent==20.6.2\n  Downloading gevent-20.6.2.tar.gz (5.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.8/5.8 MB 5.3 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'error'\n\u001b[91m  error: subprocess-exited-with-error\n  \n  × Getting requirements to build wheel did not run successfully.\n  │ exit code: 1\n  ╰─> [60 lines of output]\n      Compiling src/gevent/resolver/cares.pyx because it changed.\n      [1/1] Cythonizing src/gevent/resolver/cares.pyx\n      Compiling src/gevent/libev/corecext.pyx because it changed.\n      [1/1] Cythonizing src/gevent/libev/corecext.pyx\n      Compiling src/gevent/_greenlet_primitives.py because it changed.\n      [1/1] Cythonizing src/gevent/_greenlet_primitives.py\n      Compiling src/gevent/_hub_primitives.py because it changed.\n      [1/1] Cythonizing src/gevent/_hub_primitives.py\n      Compiling src/gevent/_hub_local.py because it changed.\n      [1/1] Cythonizing src/gevent/_hub_local.py\n      Compiling src/gevent/_waiter.py because it changed.\n      [1/1] Cythonizing src/gevent/_waiter.py\n      warning: src/gevent/resolver/cares.pyx:38:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/resolver/cares.pyx:40:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/resolver/cares.pyx:41:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/libev/corecext.pyx:325:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/libev/corecext.pyx:783:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/libev/corecext.pyx:785:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/libev/corecext.pyx:787:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/libev/corecext.pyx:791:0: The 'DEF' statement is deprecated and will be removed in a future Cython version. Consider using global variables, constants, and in-place literals instead. See https://github.com/cython/cython/issues/4310\n      warning: src/gevent/_gevent_cgreenlet.pxd:112:33: Declarations should not be declared inline.\n      \n      Error compiling Cython file:\n      ------------------------------------------------------------\n      ...\n      cdef load_traceback\n      cdef Waiter\n      cdef wait\n      cdef iwait\n      cdef reraise\n      cpdef GEVENT_CONFIG\n            ^\n      ------------------------------------------------------------\n      \n      src/gevent/_gevent_cgreenlet.pxd:181:6: Variables cannot be declared with 'cpdef'. Use 'cdef' instead.\n      Compiling src/gevent/greenlet.py because it changed.\n      [1/1] Cythonizing src/gevent/greenlet.py\n      Traceback (most recent call last):\n        File \"/usr/local/lib/python3.7/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 351, in <module>\n          main()\n        File \"/usr/local/lib/python3.7/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 333, in main\n          json_out['return_val'] = hook(**hook_input['kwargs'])\n        File \"/usr/local/lib/python3.7/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 118, in get_requires_for_build_wheel\n          return hook(config_settings)\n        File \"/tmp/pip-build-env-yhruilvh/overlay/lib/python3.7/site-packages/setuptools/build_meta.py\", line 338, in get_requires_for_build_wheel\n          return self._get_build_requires(config_settings, requirements=['wheel'])\n        File \"/tmp/pip-build-env-yhruilvh/overlay/lib/python3.7/site-packages/setuptools/build_meta.py\", line 320, in _get_build_requires\n          self.run_setup()\n        File \"/tmp/pip-build-env-yhruilvh/overlay/lib/python3.7/site-packages/setuptools/build_meta.py\", line 485, in run_setup\n          self).run_setup(setup_script=setup_script)\n        File \"/tmp/pip-build-env-yhruilvh/overlay/lib/python3.7/site-packages/setuptools/build_meta.py\", line 335, in run_setup\n          exec(code, locals())\n        File \"<string>\", line 287, in <module>\n        File \"/tmp/pip-install-mygw0tzx/gevent_cc2c7598ddfa4404bea942b5f96dfcce/_setuputils.py\", line 260, in cythonize1\n          common_utility_include_dir=COMMON_UTILITY_INCLUDE_DIR,\n        File \"/tmp/pip-build-env-yhruilvh/overlay/lib/python3.7/site-packages/Cython/Build/Dependencies.py\", line 1129, in cythonize\n          cythonize_one(*args)\n        File \"/tmp/pip-build-env-yhruilvh/overlay/lib/python3.7/site-packages/Cython/Build/Dependencies.py\", line 1296, in cythonize_one\n          raise CompileError(None, pyx_file)\n      Cython.Compiler.Errors.CompileError: src/gevent/greenlet.py\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\n\u001b[0m\u001b[91merror: subprocess-exited-with-error\n\n× Getting requirements to build wheel did not run successfully.\n│ exit code: 1\n╰─> See above for output.\n\nnote: This error originates from a subprocess, and is likely not a problem with pip.\n\u001b[0mRemoving intermediate container b3fda598710d\n","stderr":"The command '/bin/sh -c pip install -r requirements.txt --no-cache-dir' returned a non-zero code: 1\n"},"endTime":1672550835831}