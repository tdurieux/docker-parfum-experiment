{"repository":"https://github.com/decentraland/nft-server","dockerfilePath":"Dockerfile","startTime":1672492957125,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/decentraland/nft-server'...\n","error":null,"commit":"b8fc805be7cf2911fc5b8797835930aa9169b69a"},"originalBuild":{"startTimestamp":1672492958086,"endTimestamp":1672493185992,"error":null,"stdout":"Sending build context to Docker daemon  1.252MB\r\r\nStep 1/16 : ARG RUN\nStep 2/16 : FROM node:lts as builder\nlts: Pulling from library/node\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n9537c7a3988e: Already exists\nfd36cab452a2: Pulling fs layer\n2d0da1e46288: Pulling fs layer\n1815baed2c16: Pulling fs layer\n1815baed2c16: Download complete\n2d0da1e46288: Verifying Checksum\n2d0da1e46288: Download complete\nfd36cab452a2: Verifying Checksum\nfd36cab452a2: Download complete\nfd36cab452a2: Pull complete\n2d0da1e46288: Pull complete\n1815baed2c16: Pull complete\nDigest: sha256:e9ad817b0d42b4d177a4bef8a0aff97c352468a008c3fdb2b4a82533425480df\nStatus: Downloaded newer image for node:lts\n ---> 7b2a09676e2c\nStep 3/16 : WORKDIR /app\n ---> Running in 655c28316afe\nRemoving intermediate container 655c28316afe\n ---> ccc5f3f024f2\nStep 4/16 : RUN apt-get update\n ---> Running in 099db79dc914\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5328 kB/s)\nReading package lists...\nRemoving intermediate container 099db79dc914\n ---> 6ae858d707df\nStep 5/16 : RUN apt-get -y -qq install python-setuptools python-dev build-essential\n ---> Running in 118a6b92bd64\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package libpython2.7-minimal:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../0-libpython2.7-minimal_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7-minimal:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package python2.7-minimal.\r\nPreparing to unpack .../1-python2.7-minimal_2.7.18-8_amd64.deb ...\r\nUnpacking python2.7-minimal (2.7.18-8) ...\r\nSelecting previously unselected package python2-minimal.\r\nPreparing to unpack .../2-python2-minimal_2.7.18-3_amd64.deb ...\r\nUnpacking python2-minimal (2.7.18-3) ...\r\nSelecting previously unselected package mailcap.\r\nPreparing to unpack .../3-mailcap_3.69_all.deb ...\r\nUnpacking mailcap (3.69) ...\r\nSelecting previously unselected package mime-support.\r\nPreparing to unpack .../4-mime-support_3.66_all.deb ...\r\nUnpacking mime-support (3.66) ...\r\nSelecting previously unselected package libpython2.7-stdlib:amd64.\r\nPreparing to unpack .../5-libpython2.7-stdlib_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7-stdlib:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package python2.7.\r\nPreparing to unpack .../6-python2.7_2.7.18-8_amd64.deb ...\r\nUnpacking python2.7 (2.7.18-8) ...\r\nSelecting previously unselected package libpython2-stdlib:amd64.\r\nPreparing to unpack .../7-libpython2-stdlib_2.7.18-3_amd64.deb ...\r\nUnpacking libpython2-stdlib:amd64 (2.7.18-3) ...\r\nSetting up libpython2.7-minimal:amd64 (2.7.18-8) ...\r\nSetting up python2.7-minimal (2.7.18-8) ...\r\nLinking and byte-compiling packages for runtime python2.7...\r\nSetting up python2-minimal (2.7.18-3) ...\r\nSelecting previously unselected package python2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23560 files and directories currently installed.)\r\nPreparing to unpack .../00-python2_2.7.18-3_amd64.deb ...\r\nUnpacking python2 (2.7.18-3) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../01-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSelecting previously unselected package libpython2.7:amd64.\r\nPreparing to unpack .../02-libpython2.7_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package libpython2.7-dev:amd64.\r\nPreparing to unpack .../03-libpython2.7-dev_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7-dev:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package libpython2-dev:amd64.\r\nPreparing to unpack .../04-libpython2-dev_2.7.18-3_amd64.deb ...\r\nUnpacking libpython2-dev:amd64 (2.7.18-3) ...\r\nSelecting previously unselected package python-is-python2.\r\nPreparing to unpack .../05-python-is-python2_2.7.18-9_all.deb ...\r\nUnpacking python-is-python2 (2.7.18-9) ...\r\nSelecting previously unselected package python2.7-dev.\r\nPreparing to unpack .../06-python2.7-dev_2.7.18-8_amd64.deb ...\r\nUnpacking python2.7-dev (2.7.18-8) ...\r\nSelecting previously unselected package python2-dev.\r\nPreparing to unpack .../07-python2-dev_2.7.18-3_amd64.deb ...\r\nUnpacking python2-dev (2.7.18-3) ...\r\nSelecting previously unselected package python-dev-is-python2.\r\nPreparing to unpack .../08-python-dev-is-python2_2.7.18-9_all.deb ...\r\nUnpacking python-dev-is-python2 (2.7.18-9) ...\r\nSelecting previously unselected package python-pkg-resources.\r\nPreparing to unpack .../09-python-pkg-resources_44.1.1-1_all.deb ...\r\nUnpacking python-pkg-resources (44.1.1-1) ...\r\nSelecting previously unselected package python-setuptools.\r\nPreparing to unpack .../10-python-setuptools_44.1.1-1_all.deb ...\r\nUnpacking python-setuptools (44.1.1-1) ...\r\nSetting up build-essential (12.9) ...\r\nSetting up mailcap (3.69) ...\r\nSetting up mime-support (3.66) ...\r\nSetting up libpython2.7-stdlib:amd64 (2.7.18-8) ...\r\nSetting up libpython2.7:amd64 (2.7.18-8) ...\r\nSetting up libpython2.7-dev:amd64 (2.7.18-8) ...\r\nSetting up python2.7 (2.7.18-8) ...\r\nSetting up libpython2-stdlib:amd64 (2.7.18-3) ...\r\nSetting up python2 (2.7.18-3) ...\r\nSetting up libpython2-dev:amd64 (2.7.18-3) ...\r\nSetting up python-is-python2 (2.7.18-9) ...\r\nSetting up python2.7-dev (2.7.18-8) ...\r\nSetting up python2-dev (2.7.18-3) ...\r\nSetting up python-pkg-resources (44.1.1-1) ...\r\nSetting up python-dev-is-python2 (2.7.18-9) ...\r\nSetting up python-setuptools (44.1.1-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 118a6b92bd64\n ---> 98492e6b3793\nStep 6/16 : COPY package.json /app/package.json\n ---> 1ca4ac7ed1be\nStep 7/16 : COPY package-lock.json /app/package-lock.json\n ---> 3d3a0ba82d67\nStep 8/16 : RUN npm ci\n ---> Running in 87d57de65a6d\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m While resolving: ajv-errors@3.0.0\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN Found: ajv@7.1.1\nnpm WARN node_modules/ajv\nnpm\u001b[0m\u001b[91m WARN   ajv@\"^7.1.1\" from the root project\nnpm WARN\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mWARN Could not resolve dependency:\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\nnpm WARN node_modules/ajv-errors\nnpm \u001b[0m\u001b[91mWARN   ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\nnpm\u001b[0m\u001b[91m WARN   node_modules/@dcl/schemas\nnpm\u001b[0m\u001b[91m WARN \nnpm WARN Conflicting peer dependency: ajv@8.11.2\nnpm\u001b[0m\u001b[91m WARN node_modules/ajv\nnpm WARN   peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\nnpm WARN   node_modules/ajv-errors\nnpm WARN     ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\nnpm WARN     node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: ajv-keywords@5.1.0\nnpm WARN Found: ajv@7.1.1\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m node_modules/ajv\nnpm \u001b[0m\u001b[91mWARN   ajv@\"^7.1.1\" from the root project\n\u001b[0m\u001b[91mnpm WARN \nnpm\u001b[0m\u001b[91m WARN Could not resolve dependency:\nnpm \u001b[0m\u001b[91mWARN peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\nnpm WARN node_modules/ajv-keywords\nnpm WARN   ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\nnpm WARN   node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN \nnpm WARN\u001b[0m\u001b[91m Conflicting peer dependency: ajv@8.11.2\nnpm WARN\u001b[0m\u001b[91m node_modules/ajv\nnpm WARN   peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\nnpm WARN   node_modules/ajv-keywords\nnpm WARN     ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm WARN     node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.3: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\nadded 873 packages, and audited 874 packages in 11s\n\n75 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 high, 1 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0mRemoving intermediate container 87d57de65a6d\n ---> 86bea32ebd17\nStep 9/16 : COPY . /app\n ---> 8ca77d5de075\nStep 10/16 : RUN npm run build\n ---> Running in a6abae06fc7a\n\n> nft-server@1.0.0 build\n> tsc -p tsconfig.json\n\nRemoving intermediate container a6abae06fc7a\n ---> a937e15d8fd7\nStep 11/16 : RUN npm run test\n ---> Running in 3161c6b7464e\n\n> nft-server@1.0.0 test\n> jest\n\n\u001b[91mPASS src/tests/logic/volume.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/logic/rankings.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/logic/nft-rentals.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/ports/rentalNFTs.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/ports/rentals.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/adapters/sources/nft-source.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/logic/nft-utils.spec.ts\n\u001b[0m\u001b[91mPASS src/ports/items/utils.spec.ts\n\u001b[0m\u001b[91mPASS src/logic/nfts/collections.spec.ts\n\u001b[0m\u001b[91mPASS src/logic/nfts/marketplace.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/adapters/sources/rentals-source.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/ports/nfts.spec.ts\n\u001b[0m<<< Initializing components >>>\n\u001b[91m2022-12-31T13:24:14.069Z [LOG] (http-server): Listening 0.0.0.0:25002\n\u001b[0m\u001b[91m2022-12-31T13:24:14.112Z [LOG] (http-server): Listening 0.0.0.0:33002\n\u001b[0m<<< Wiring app >>>\n<<< Initializing components >>>\n<<< Starting components >>>\n<<< Initializing components >>>\n<<< Initializing components >>>\n<<< Wiring app >>>\n<<< Starting components >>>\n\u001b[91m2022-12-31T13:24:14.135Z [LOG] (http-server): Listening 0.0.0.0:21002\n\u001b[0m\u001b[91m2022-12-31T13:24:14.138Z [LOG] (http-server): Listening 0.0.0.0:32002\n\u001b[0m\u001b[91m2022-12-31T13:24:14.145Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:24:14.146Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:24:14.146Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91m2022-12-31T13:24:14.146Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91m2022-12-31T13:24:14.146Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:24:14.147Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91mPASS src/tests/ports/rankings.spec.ts (6.485 s)\n\u001b[0m\u001b[91mPASS src/tests/ports/analyticsDayData.spec.ts (6.483 s)\n\u001b[0m\u001b[91mPASS src/tests/ports/volume.spec.ts (6.468 s)\n\u001b[0m<<< Wiring app >>>\n<<< Starting components >>>\n<<< Wiring app >>>\n<<< Starting components >>>\n\u001b[91m2022-12-31T13:24:14.251Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:24:14.252Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91mPASS src/tests/ports/trendings.spec.ts (6.59 s)\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mTest Suites: 16 passed, 16 total\nTests:       132 passed, 132 total\nSnapshots:   0 total\nTime:        7.251 s\nRan all test suites.\n\u001b[0mRemoving intermediate container 3161c6b7464e\n ---> cc0c82c34fc6\nStep 12/16 : RUN npm ci --only=production\n ---> Running in bd75161d108b\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m ERESOLVE\u001b[0m\u001b[91m overriding peer dependency\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN While resolving: ajv-errors@3.0.0\n\u001b[0m\u001b[91mnpm WARN Found: ajv@7.1.1\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN node_modules/ajv\nnpm WARN\u001b[0m\u001b[91m   ajv@\"^7.1.1\" from the root project\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m \nnpm WARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm WARN peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m node_modules/ajv-errors\n\u001b[0m\u001b[91mnpm WARN   ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   node_modules/@dcl/schemas\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m Conflicting peer dependency: ajv@8.11.2\nnpm \u001b[0m\u001b[91mWARN node_modules/ajv\nnpm\u001b[0m\u001b[91m WARN   peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\nnpm WARN\u001b[0m\u001b[91m   node_modules/ajv-errors\nnpm WARN     ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm WARN     node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: ajv-keywords@5.1.0\nnpm WARN\u001b[0m\u001b[91m Found: ajv@7.1.1\nnpm \u001b[0m\u001b[91mWARN node_modules/ajv\nnpm WARN   ajv@\"^7.1.1\" from the root project\n\u001b[0m\u001b[91mnpm WARN \nnpm WARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m node_modules/ajv-keywords\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\nnpm WARN   node_modules/@dcl/schemas\nnpm WARN \n\u001b[0m\u001b[91mnpm WARN Conflicting peer dependency: ajv@8.11.2\nnpm WARN node_modules/ajv\nnpm \u001b[0m\u001b[91mWARN   peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   node_modules/ajv-keywords\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m     ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m     node_modules/@dcl/schemas\n\u001b[0m\nadded 305 packages, and audited 306 packages in 7s\n\n46 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container bd75161d108b\n ---> 6b4f1ea439fa\nStep 13/16 : FROM node:lts\n ---> 7b2a09676e2c\nStep 14/16 : WORKDIR /app\n ---> Running in a700ea159523\nRemoving intermediate container a700ea159523\n ---> 50d4eb87c6dd\nStep 15/16 : COPY --from=builder /app /app\n ---> 87e48bc8d676\nStep 16/16 : ENTRYPOINT [ \"./entrypoint.sh\" ]\n ---> Running in 3222509099f6\nRemoving intermediate container 3222509099f6\n ---> 6d402f8428f8\nSuccessfully built 6d402f8428f8\nSuccessfully tagged nft-server:latest\n","stderr":"","imageSize":1104869677},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":8,"end":8,"columnStart":4,"columnEnd":71}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":71}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":8,"end":8,"columnStart":4,"columnEnd":71}}],"repairedDockerfile":"ARG RUN\n\nFROM node:lts as builder\n\nWORKDIR /app\n\n# some packages require a build step\n\nRUN apt-get update && \\\napt-get -y --no-install-recommends -qq install python-setuptools python-dev build-essential\n\n# install dependencies\nCOPY package.json /app/package.json\nCOPY package-lock.json /app/package-lock.json\nRUN npm ci\n\n# build the app\nCOPY . /app\nRUN npm run build\nRUN npm run test\n\n# remove devDependencies, keep only used dependencies\nRUN npm ci --only=production\n\n# build the release app\nFROM node:lts\nWORKDIR /app\nCOPY --from=builder /app /app\nENTRYPOINT [ \"./entrypoint.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672493186746,"endTimestamp":1672493459394,"error":null,"stdout":"Sending build context to Docker daemon  1.252MB\r\r\nStep 1/15 : ARG RUN\nStep 2/15 : FROM node:lts as builder\n ---> 7b2a09676e2c\nStep 3/15 : WORKDIR /app\n ---> Running in 9892adcb4df1\nRemoving intermediate container 9892adcb4df1\n ---> 34b7a4106dab\nStep 4/15 : RUN apt-get update && apt-get -y --no-install-recommends -qq install python-setuptools python-dev build-essential\n ---> Running in c1533480f4b2\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 3s (2514 kB/s)\nReading package lists...\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package libpython2.7-minimal:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../0-libpython2.7-minimal_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7-minimal:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package python2.7-minimal.\r\nPreparing to unpack .../1-python2.7-minimal_2.7.18-8_amd64.deb ...\r\nUnpacking python2.7-minimal (2.7.18-8) ...\r\nSelecting previously unselected package python2-minimal.\r\nPreparing to unpack .../2-python2-minimal_2.7.18-3_amd64.deb ...\r\nUnpacking python2-minimal (2.7.18-3) ...\r\nSelecting previously unselected package mailcap.\r\nPreparing to unpack .../3-mailcap_3.69_all.deb ...\r\nUnpacking mailcap (3.69) ...\r\nSelecting previously unselected package mime-support.\r\nPreparing to unpack .../4-mime-support_3.66_all.deb ...\r\nUnpacking mime-support (3.66) ...\r\nSelecting previously unselected package libpython2.7-stdlib:amd64.\r\nPreparing to unpack .../5-libpython2.7-stdlib_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7-stdlib:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package python2.7.\r\nPreparing to unpack .../6-python2.7_2.7.18-8_amd64.deb ...\r\nUnpacking python2.7 (2.7.18-8) ...\r\nSelecting previously unselected package libpython2-stdlib:amd64.\r\nPreparing to unpack .../7-libpython2-stdlib_2.7.18-3_amd64.deb ...\r\nUnpacking libpython2-stdlib:amd64 (2.7.18-3) ...\r\nSetting up libpython2.7-minimal:amd64 (2.7.18-8) ...\r\nSetting up python2.7-minimal (2.7.18-8) ...\r\nLinking and byte-compiling packages for runtime python2.7...\r\nSetting up python2-minimal (2.7.18-3) ...\r\nSelecting previously unselected package python2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23560 files and directories currently installed.)\r\nPreparing to unpack .../00-python2_2.7.18-3_amd64.deb ...\r\nUnpacking python2 (2.7.18-3) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../01-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSelecting previously unselected package libpython2.7:amd64.\r\nPreparing to unpack .../02-libpython2.7_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package libpython2.7-dev:amd64.\r\nPreparing to unpack .../03-libpython2.7-dev_2.7.18-8_amd64.deb ...\r\nUnpacking libpython2.7-dev:amd64 (2.7.18-8) ...\r\nSelecting previously unselected package libpython2-dev:amd64.\r\nPreparing to unpack .../04-libpython2-dev_2.7.18-3_amd64.deb ...\r\nUnpacking libpython2-dev:amd64 (2.7.18-3) ...\r\nSelecting previously unselected package python-is-python2.\r\nPreparing to unpack .../05-python-is-python2_2.7.18-9_all.deb ...\r\nUnpacking python-is-python2 (2.7.18-9) ...\r\nSelecting previously unselected package python2.7-dev.\r\nPreparing to unpack .../06-python2.7-dev_2.7.18-8_amd64.deb ...\r\nUnpacking python2.7-dev (2.7.18-8) ...\r\nSelecting previously unselected package python2-dev.\r\nPreparing to unpack .../07-python2-dev_2.7.18-3_amd64.deb ...\r\nUnpacking python2-dev (2.7.18-3) ...\r\nSelecting previously unselected package python-dev-is-python2.\r\nPreparing to unpack .../08-python-dev-is-python2_2.7.18-9_all.deb ...\r\nUnpacking python-dev-is-python2 (2.7.18-9) ...\r\nSelecting previously unselected package python-pkg-resources.\r\nPreparing to unpack .../09-python-pkg-resources_44.1.1-1_all.deb ...\r\nUnpacking python-pkg-resources (44.1.1-1) ...\r\nSelecting previously unselected package python-setuptools.\r\nPreparing to unpack .../10-python-setuptools_44.1.1-1_all.deb ...\r\nUnpacking python-setuptools (44.1.1-1) ...\r\nSetting up build-essential (12.9) ...\r\nSetting up mailcap (3.69) ...\r\nSetting up mime-support (3.66) ...\r\nSetting up libpython2.7-stdlib:amd64 (2.7.18-8) ...\r\nSetting up libpython2.7:amd64 (2.7.18-8) ...\r\nSetting up libpython2.7-dev:amd64 (2.7.18-8) ...\r\nSetting up python2.7 (2.7.18-8) ...\r\nSetting up libpython2-stdlib:amd64 (2.7.18-3) ...\r\nSetting up python2 (2.7.18-3) ...\r\nSetting up libpython2-dev:amd64 (2.7.18-3) ...\r\nSetting up python-is-python2 (2.7.18-9) ...\r\nSetting up python2.7-dev (2.7.18-8) ...\r\nSetting up python2-dev (2.7.18-3) ...\r\nSetting up python-pkg-resources (44.1.1-1) ...\r\nSetting up python-dev-is-python2 (2.7.18-9) ...\r\nSetting up python-setuptools (44.1.1-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container c1533480f4b2\n ---> a307c828e339\nStep 5/15 : COPY package.json /app/package.json\n ---> 4a1fb42ba238\nStep 6/15 : COPY package-lock.json /app/package-lock.json\n ---> 86823911584c\nStep 7/15 : RUN npm ci\n ---> Running in fbd9a469e450\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: ajv-errors@3.0.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN Found: ajv@7.1.1\nnpm WARN node_modules/ajv\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN   ajv@\"^7.1.1\" from the root project\nnpm WARN \nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m node_modules/ajv-errors\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m   ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN   node_modules/@dcl/schemas\nnpm WARN \nnpm WARN\u001b[0m\u001b[91m Conflicting peer dependency: ajv@8.11.2\nnpm WARN node_modules/ajv\nnpm\u001b[0m\u001b[91m WARN   peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\nnpm\u001b[0m\u001b[91m WARN   node_modules/ajv-errors\nnpm WARN     ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm WARN     node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\nnpm WARN While resolving: ajv-keywords@5.1.0\nnpm WARN Found: ajv@7.1.1\nnpm WARN\u001b[0m\u001b[91m node_modules/ajv\nnpm WARN   ajv@\"^7.1.1\" from the root project\nnpm WARN \nnpm WARN Could not resolve dependency:\nnpm \u001b[0m\u001b[91mWARN peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\nnpm WARN node_modules/ajv-keywords\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm WARN   node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN \n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m Conflicting peer dependency: ajv@8.11.2\nnpm WARN\u001b[0m\u001b[91m node_modules/ajv\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\nnpm WARN\u001b[0m\u001b[91m   node_modules/ajv-keywords\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m     ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\nnpm \u001b[0m\u001b[91mWARN     node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.3: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\nadded 873 packages, and audited 874 packages in 12s\n\n75 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 high, 1 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container fbd9a469e450\n ---> e5d23e073c9f\nStep 8/15 : COPY . /app\n ---> 34df228b8c8a\nStep 9/15 : RUN npm run build\n ---> Running in cb90987553aa\n\n> nft-server@1.0.0 build\n> tsc -p tsconfig.json\n\nRemoving intermediate container cb90987553aa\n ---> cb23e960062d\nStep 10/15 : RUN npm run test\n ---> Running in b3fd41ca02a2\n\n> nft-server@1.0.0 test\n> jest\n\n\u001b[91mPASS src/tests/logic/volume.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/ports/rentalNFTs.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/logic/rankings.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/logic/nft-rentals.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/logic/nft-utils.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/ports/rentals.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/adapters/sources/nft-source.spec.ts\n\u001b[0m\u001b[91mPASS src/ports/items/utils.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/adapters/sources/rentals-source.spec.ts\n\u001b[0m\u001b[91mPASS src/logic/nfts/collections.spec.ts\n\u001b[0m\u001b[91mPASS src/logic/nfts/marketplace.spec.ts\n\u001b[0m\u001b[91mPASS src/tests/ports/nfts.spec.ts (5.363 s)\n\u001b[0m<<< Initializing components >>>\n<<< Initializing components >>>\n<<< Initializing components >>>\n<<< Wiring app >>>\n<<< Starting components >>>\n\u001b[91m2022-12-31T13:29:48.236Z [LOG] (http-server): Listening 0.0.0.0:33002\n\u001b[0m\u001b[91m2022-12-31T13:29:48.240Z [LOG] (http-server): Listening 0.0.0.0:25002\n\u001b[0m\u001b[91m2022-12-31T13:29:48.241Z [LOG] (http-server): Listening 0.0.0.0:32002\n\u001b[0m\u001b[91m2022-12-31T13:29:48.259Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:29:48.259Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91mPASS src/tests/ports/analyticsDayData.spec.ts (13.8 s)\n\u001b[0m\u001b[91m2022-12-31T13:29:48.278Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:29:48.279Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91mPASS src/tests/ports/volume.spec.ts (13.831 s)\n\u001b[0m<<< Wiring app >>>\n<<< Starting components >>>\n<<< Wiring app >>>\n<<< Starting components >>>\n<<< Initializing components >>>\n\u001b[91m2022-12-31T13:29:48.373Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:29:48.374Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91mPASS src/tests/ports/trendings.spec.ts (13.927 s)\n\u001b[0m\u001b[91m2022-12-31T13:29:48.404Z [LOG] (http-server): Listening 0.0.0.0:21002\n\u001b[0m\u001b[91m2022-12-31T13:29:48.424Z [INFO] (http-server): Closing server\n\u001b[0m\u001b[91m2022-12-31T13:29:48.425Z [INFO] (http-server): Server closed\n\u001b[0m\u001b[91mPASS src/tests/ports/rankings.spec.ts (13.984 s)\n\u001b[0m<<< Wiring app >>>\n<<< Starting components >>>\n\u001b[91m\n\u001b[0m\u001b[91mTest Suites: 16 passed, 16 total\nTests:       132 passed, 132 total\nSnapshots:   0 total\nTime:        14.552 s\nRan all test suites.\n\u001b[0mRemoving intermediate container b3fd41ca02a2\n ---> 936325b3f27e\nStep 11/15 : RUN npm ci --only=production\n ---> Running in 5fc82146783e\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config\u001b[0m\u001b[91m only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m While resolving: ajv-errors@3.0.0\n\u001b[0m\u001b[91mnpm WARN Found: ajv@7.1.1\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN node_modules/ajv\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   ajv@\"^7.1.1\" from the root project\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m Could not resolve dependency:\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m node_modules/ajv-errors\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m   ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m   node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m Conflicting peer dependency: ajv@8.11.2\nnpm WARN\u001b[0m\u001b[91m node_modules/ajv\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   peer ajv@\"^8.0.1\" from ajv-errors@3.0.0\nnpm WARN\u001b[0m\u001b[91m   node_modules/ajv-errors\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m     ajv-errors@\"^3.0.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m     node_modules/@dcl/schemas\n\u001b[0m\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: ajv-keywords@5.1.0\n\u001b[0m\u001b[91mnpm WARN Found: ajv@7.1.1\nnpm WARN node_modules/ajv\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m   ajv@\"^7.1.1\" from the root project\nnpm\u001b[0m\u001b[91m WARN \nnpm WARN Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\nnpm WARN node_modules/ajv-keywords\nnpm WARN   ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\nnpm\u001b[0m\u001b[91m WARN   node_modules/@dcl/schemas\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m \nnpm WARN Conflicting peer dependency: ajv@8.11.2\nnpm WARN\u001b[0m\u001b[91m node_modules/ajv\nnpm \u001b[0m\u001b[91mWARN   peer ajv@\"^8.8.2\" from ajv-keywords@5.1.0\n\u001b[0m\u001b[91mnpm WARN   node_modules/ajv-keywords\n\u001b[0m\u001b[91mnpm WARN     ajv-keywords@\"^5.1.0\" from @dcl/schemas@5.32.0\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m     node_modules/@dcl/schemas\n\u001b[0m\nadded 305 packages, and audited 306 packages in 6s\n\n46 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 5fc82146783e\n ---> e790d4e754fd\nStep 12/15 : FROM node:lts\n ---> 7b2a09676e2c\nStep 13/15 : WORKDIR /app\n ---> Running in a1e941a5d846\nRemoving intermediate container a1e941a5d846\n ---> 3a6f3ccf1ded\nStep 14/15 : COPY --from=builder /app /app\n ---> 487299545db8\nStep 15/15 : ENTRYPOINT [ \"./entrypoint.sh\" ]\n ---> Running in 56fd213a7156\nRemoving intermediate container 56fd213a7156\n ---> a3faa44d8b6c\nSuccessfully built a3faa44d8b6c\nSuccessfully tagged nft-server:latest\n","stderr":"","imageSize":1104869703},"endTime":1672493461207}