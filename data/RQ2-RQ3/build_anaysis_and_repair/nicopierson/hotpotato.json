{"repository":"https://github.com/nicopierson/hotpotato","dockerfilePath":"Dockerfile","startTime":1672088979360,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nicopierson/hotpotato'...\n","error":null,"commit":"c4cc8ef814fb9596787c1cb70b09e4d36021edc5"},"originalBuild":{"startTimestamp":1672088980467,"endTimestamp":1672089148716,"error":null,"stdout":"Sending build context to Docker daemon  8.813MB\r\r\nStep 1/17 : FROM node:12 AS build-stage\n ---> 6c8de432fc7f\nStep 2/17 : WORKDIR /react-app\n ---> Running in ec2eef2b36b6\nRemoving intermediate container ec2eef2b36b6\n ---> bd9d208c313e\nStep 3/17 : COPY react-app/. .\n ---> e555298f0161\nStep 4/17 : ENV REACT_APP_BASE_URL=https://hotpotato-app.herokuapp.com/\n ---> Running in 24b228d78123\nRemoving intermediate container 24b228d78123\n ---> 3979eca8fd53\nStep 5/17 : RUN npm install\n ---> Running in cb19352d7e3a\n\n> core-js@2.6.12 postinstall /react-app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.16.2 postinstall /react-app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.16.2 postinstall /react-app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ejs@2.7.4 postinstall /react-app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 2047 packages from 870 contributors and audited 2048 packages in 46.457s\n\n152 packages are looking for funding\n  run `npm fund` for details\n\nfound 126 vulnerabilities (16 low, 12 moderate, 73 high, 25 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container cb19352d7e3a\n ---> 52884f681cdb\nStep 6/17 : RUN npm run build\n ---> Running in a00c5f90df9b\n\n> react-app@0.1.0 build /react-app\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled with warnings.\n\nsrc/components/Comments/Comments.js\n  Line 14:22:  'setShowEdit' is assigned a value but never used  no-unused-vars\n\nsrc/components/Directions/EditDirections.js\n  Line 37:8:  React Hook useEffect has missing dependencies: 'recipeDirections', 'recipeId', and 'setShowEdit'. Either include them or remove the dependency array. If 'setShowEdit' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps\n\nsrc/components/FeedPage/FeedPage.js\n  Line 36:6:  React Hook useEffect has a missing dependency: 'user_id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/Footer/Footer.js\n  Line 18:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n  Line 32:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n  Line 57:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n  Line 60:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n\nsrc/components/Ingredients/EditIngredients.js\n  Line 34:12:  React Hook useEffect has missing dependencies: 'recipeId', 'recipeIngredients', and 'setShowEdit'. Either include them or remove the dependency array. If 'setShowEdit' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps\n\nsrc/components/LandingPage/LandingPage.js\n  Line 20:22:  'setDeviceType' is assigned a value but never used  no-unused-vars\n\nsrc/components/Navigation/NavBar.js\n  Line 12:10:  'errors' is assigned a value but never used  no-unused-vars\n\nsrc/components/ProfilePage/ProfilePage.js\n  Line 28:6:  React Hook useEffect has missing dependencies: 'user.id' and 'userId'. Either include them or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/RecipeBaseDetails/RecipeBaseDetails.js\n  Line 1:16:  'useEffect' is defined but never used  no-unused-vars\n\nsrc/components/RecipePhotos/RecipePhoto.js\n  Line 84:7:  React Hook useEffect has a missing dependency: 'recipeId'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/ViewEditRecipePage/ViewEditRecipePage.js\n  Line 39:6:  React Hook useEffect has a missing dependency: 'user.id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n  Line 46:6:  React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/store/like.js\n  Line 17:7:  'addLike' is assigned a value but never used  no-unused-vars\n\nSearch for the keywords to learn more about each warning.\nTo ignore, add // eslint-disable-next-line to the line before.\n\nFile sizes after gzip:\n\n  101.07 KB  build/static/js/2.18815534.chunk.js\n  13.45 KB   build/static/js/main.7944142a.chunk.js\n  11.31 KB   build/static/css/2.de8c4093.chunk.css\n  5.99 KB    build/static/css/main.d6bf87a0.chunk.css\n  775 B      build/static/js/runtime-main.985d6f0b.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container a00c5f90df9b\n ---> c2f4c0ad33c8\nStep 7/17 : FROM python:3.9\n ---> 68cf04410baf\nStep 8/17 : ENV FLASK_APP=app\n ---> Running in 387a586952a1\nRemoving intermediate container 387a586952a1\n ---> 8caf9bcedc76\nStep 9/17 : ENV FLASK_ENV=production\n ---> Running in a531b24f1b1b\nRemoving intermediate container a531b24f1b1b\n ---> 0fd8c9ffb230\nStep 10/17 : ENV SQLALCHEMY_ECHO=True\n ---> Running in 26bb044e8e15\nRemoving intermediate container 26bb044e8e15\n ---> 7c53d7b4b1fc\nStep 11/17 : EXPOSE 8000\n ---> Running in e22e89c64f47\nRemoving intermediate container e22e89c64f47\n ---> 4ddf1f224a48\nStep 12/17 : WORKDIR /var/www\n ---> Running in b6617ac8024f\nRemoving intermediate container b6617ac8024f\n ---> f3bacc2846c3\nStep 13/17 : COPY . .\n ---> 4d03012e64dd\nStep 14/17 : COPY --from=build-stage /react-app/build/* app/static/\n ---> aa6467bf7317\nStep 15/17 : RUN pip install -r requirements.txt\n ---> Running in 66330d6a7333\nCollecting alembic==1.6.5\n  Downloading alembic-1.6.5-py2.py3-none-any.whl (164 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.7/164.7 KB 14.6 MB/s eta 0:00:00\nCollecting click==7.1.2\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 KB 6.0 MB/s eta 0:00:00\nCollecting flask-cors==3.0.8\n  Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\nCollecting flask-login==0.5.0\n  Downloading Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)\nCollecting flask-migrate==3.0.1\n  Downloading Flask_Migrate-3.0.1-py2.py3-none-any.whl (12 kB)\nCollecting flask-sqlalchemy==2.5.1\n  Downloading Flask_SQLAlchemy-2.5.1-py2.py3-none-any.whl (17 kB)\nCollecting flask-wtf==0.15.1\n  Downloading Flask_WTF-0.15.1-py2.py3-none-any.whl (13 kB)\nCollecting flask==2.0.1\n  Downloading Flask-2.0.1-py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.8/94.8 KB 7.5 MB/s eta 0:00:00\nCollecting greenlet==1.1.0\n  Downloading greenlet-1.1.0-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (162 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 162.2/162.2 KB 16.9 MB/s eta 0:00:00\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 KB 7.1 MB/s eta 0:00:00\nCollecting itsdangerous==2.0.1\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting jinja2==3.0.1\n  Downloading Jinja2-3.0.1-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.7/133.7 KB 9.4 MB/s eta 0:00:00\nCollecting mako==1.1.4\n  Downloading Mako-1.1.4-py2.py3-none-any.whl (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.7/75.7 KB 5.2 MB/s eta 0:00:00\nCollecting markupsafe==2.0.1\n  Downloading MarkupSafe-2.0.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting psycopg2==2.9.1\n  Downloading psycopg2-2.9.1.tar.gz (379 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 380.0/380.0 KB 16.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 17.6 MB/s eta 0:00:00\nCollecting python-dotenv==0.14.0\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\nCollecting python-editor==1.0.4\n  Downloading python_editor-1.0.4-py3-none-any.whl (4.9 kB)\nCollecting six==1.15.0\n  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)\nCollecting sqlalchemy==1.4.19\n  Downloading SQLAlchemy-1.4.19-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 23.0 MB/s eta 0:00:00\nCollecting werkzeug==2.0.1\n  Downloading Werkzeug-2.0.1-py3-none-any.whl (288 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 288.2/288.2 KB 9.7 MB/s eta 0:00:00\nCollecting wtforms==2.3.3\n  Downloading WTForms-2.3.3-py2.py3-none-any.whl (169 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 169.1/169.1 KB 6.3 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.9/site-packages (from gunicorn==20.1.0->-r requirements.txt (line 18)) (58.1.0)\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.1-cp39-cp39-linux_x86_64.whl size=471085 sha256=aba27e34d2ae774cc249311bfe7dde0b965a597d0b90dc8204bc098801081752\n  Stored in directory: /root/.cache/pip/wheels/45/d6/2e/e3754ab051b88bc61600becca31679204854009c4a2adbc586\nSuccessfully built psycopg2\nInstalling collected packages: python-editor, python-dotenv, werkzeug, six, psycopg2, markupsafe, itsdangerous, gunicorn, greenlet, click, wtforms, sqlalchemy, python-dateutil, mako, jinja2, flask, alembic, flask-wtf, flask-sqlalchemy, flask-login, flask-cors, flask-migrate\nSuccessfully installed alembic-1.6.5 click-7.1.2 flask-2.0.1 flask-cors-3.0.8 flask-login-0.5.0 flask-migrate-3.0.1 flask-sqlalchemy-2.5.1 flask-wtf-0.15.1 greenlet-1.1.0 gunicorn-20.1.0 itsdangerous-2.0.1 jinja2-3.0.1 mako-1.1.4 markupsafe-2.0.1 psycopg2-2.9.1 python-dateutil-2.8.1 python-dotenv-0.14.0 python-editor-1.0.4 six-1.15.0 sqlalchemy-1.4.19 werkzeug-2.0.1 wtforms-2.3.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 66330d6a7333\n ---> 850f427658ae\nStep 16/17 : RUN pip install psycopg2\n ---> Running in 4c2e7ce43f28\nRequirement already satisfied: psycopg2 in /usr/local/lib/python3.9/site-packages (2.9.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 4c2e7ce43f28\n ---> 0a3bb6892cdf\nStep 17/17 : CMD gunicorn app:app\n ---> Running in fc0e8bc188a3\nRemoving intermediate container fc0e8bc188a3\n ---> 4f477e811434\nSuccessfully built 4f477e811434\nSuccessfully tagged hotpotato:latest\n","stderr":"","imageSize":959648256},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"pipUseNoCacheDir","position":{"start":26,"end":26,"columnStart":4,"columnEnd":35}},{"name":"pipUseNoCacheDir","position":{"start":27,"end":27,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"FROM node:12 AS build-stage\n\nWORKDIR /react-app\nCOPY react-app/. .\n\n# You have to set this because it should be set during build time.\nENV REACT_APP_BASE_URL=https://hotpotato-app.herokuapp.com/\n\n# Build our React App\nRUN npm install\nRUN npm run build\n\nFROM python:3.9\n\n# Setup Flask environment\nENV FLASK_APP=app\nENV FLASK_ENV=production\nENV SQLALCHEMY_ECHO=True\n\nEXPOSE 8000\n\nWORKDIR /var/www\nCOPY . .\nCOPY --from=build-stage /react-app/build/* app/static/\n\n# Install Python Dependencies\nRUN pip install --no-cache-dir -r requirements.txt\nRUN pip install --no-cache-dir psycopg2\n\n# Run flask environment\nCMD gunicorn app:app\n"},"repairedBuild":{"startTimestamp":1672089149135,"endTimestamp":1672089290245,"error":null,"stdout":"Sending build context to Docker daemon  8.813MB\r\r\nStep 1/17 : FROM node:12 AS build-stage\n ---> 6c8de432fc7f\nStep 2/17 : WORKDIR /react-app\n ---> Running in 90d3898ed56c\nRemoving intermediate container 90d3898ed56c\n ---> 053e96eb2e68\nStep 3/17 : COPY react-app/. .\n ---> 88fc369e2f42\nStep 4/17 : ENV REACT_APP_BASE_URL=https://hotpotato-app.herokuapp.com/\n ---> Running in 44a0b18c4bb5\nRemoving intermediate container 44a0b18c4bb5\n ---> bb1fc080d1df\nStep 5/17 : RUN npm install\n ---> Running in 8ca171ab86c7\n\n> core-js@2.6.12 postinstall /react-app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.16.2 postinstall /react-app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.16.2 postinstall /react-app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ejs@2.7.4 postinstall /react-app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 2047 packages from 870 contributors and audited 2048 packages in 44.475s\n\n152 packages are looking for funding\n  run `npm fund` for details\n\nfound 126 vulnerabilities (16 low, 12 moderate, 73 high, 25 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 8ca171ab86c7\n ---> 3352a0e32826\nStep 6/17 : RUN npm run build\n ---> Running in 33f8269f4888\n\n> react-app@0.1.0 build /react-app\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled with warnings.\n\nsrc/components/Comments/Comments.js\n  Line 14:22:  'setShowEdit' is assigned a value but never used  no-unused-vars\n\nsrc/components/Directions/EditDirections.js\n  Line 37:8:  React Hook useEffect has missing dependencies: 'recipeDirections', 'recipeId', and 'setShowEdit'. Either include them or remove the dependency array. If 'setShowEdit' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps\n\nsrc/components/FeedPage/FeedPage.js\n  Line 36:6:  React Hook useEffect has a missing dependency: 'user_id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/Footer/Footer.js\n  Line 18:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n  Line 32:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n  Line 57:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n  Line 60:15:  The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid\n\nsrc/components/Ingredients/EditIngredients.js\n  Line 34:12:  React Hook useEffect has missing dependencies: 'recipeId', 'recipeIngredients', and 'setShowEdit'. Either include them or remove the dependency array. If 'setShowEdit' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps\n\nsrc/components/LandingPage/LandingPage.js\n  Line 20:22:  'setDeviceType' is assigned a value but never used  no-unused-vars\n\nsrc/components/Navigation/NavBar.js\n  Line 12:10:  'errors' is assigned a value but never used  no-unused-vars\n\nsrc/components/ProfilePage/ProfilePage.js\n  Line 28:6:  React Hook useEffect has missing dependencies: 'user.id' and 'userId'. Either include them or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/RecipeBaseDetails/RecipeBaseDetails.js\n  Line 1:16:  'useEffect' is defined but never used  no-unused-vars\n\nsrc/components/RecipePhotos/RecipePhoto.js\n  Line 84:7:  React Hook useEffect has a missing dependency: 'recipeId'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/components/ViewEditRecipePage/ViewEditRecipePage.js\n  Line 39:6:  React Hook useEffect has a missing dependency: 'user.id'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n  Line 46:6:  React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\nsrc/store/like.js\n  Line 17:7:  'addLike' is assigned a value but never used  no-unused-vars\n\nSearch for the keywords to learn more about each warning.\nTo ignore, add // eslint-disable-next-line to the line before.\n\nFile sizes after gzip:\n\n  101.07 KB  build/static/js/2.18815534.chunk.js\n  13.45 KB   build/static/js/main.7944142a.chunk.js\n  11.31 KB   build/static/css/2.de8c4093.chunk.css\n  5.99 KB    build/static/css/main.d6bf87a0.chunk.css\n  775 B      build/static/js/runtime-main.985d6f0b.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 33f8269f4888\n ---> 220bf7d33849\nStep 7/17 : FROM python:3.9\n ---> 68cf04410baf\nStep 8/17 : ENV FLASK_APP=app\n ---> Running in 63fe4c9de16c\nRemoving intermediate container 63fe4c9de16c\n ---> 1a4386a84c40\nStep 9/17 : ENV FLASK_ENV=production\n ---> Running in 4866fb64ab49\nRemoving intermediate container 4866fb64ab49\n ---> 211696092268\nStep 10/17 : ENV SQLALCHEMY_ECHO=True\n ---> Running in 0bde273faf4d\nRemoving intermediate container 0bde273faf4d\n ---> 7d15f6d293a7\nStep 11/17 : EXPOSE 8000\n ---> Running in 2f31be9d953b\nRemoving intermediate container 2f31be9d953b\n ---> 87968a5cf0a5\nStep 12/17 : WORKDIR /var/www\n ---> Running in 1e203b359232\nRemoving intermediate container 1e203b359232\n ---> 484030ef5b43\nStep 13/17 : COPY . .\n ---> 1acd4512d6be\nStep 14/17 : COPY --from=build-stage /react-app/build/* app/static/\n ---> 521d1c6f311a\nStep 15/17 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in a27ceea71753\nCollecting alembic==1.6.5\n  Downloading alembic-1.6.5-py2.py3-none-any.whl (164 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.7/164.7 KB 65.2 MB/s eta 0:00:00\nCollecting click==7.1.2\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 KB 84.8 MB/s eta 0:00:00\nCollecting flask-cors==3.0.8\n  Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\nCollecting flask-login==0.5.0\n  Downloading Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)\nCollecting flask-migrate==3.0.1\n  Downloading Flask_Migrate-3.0.1-py2.py3-none-any.whl (12 kB)\nCollecting flask-sqlalchemy==2.5.1\n  Downloading Flask_SQLAlchemy-2.5.1-py2.py3-none-any.whl (17 kB)\nCollecting flask-wtf==0.15.1\n  Downloading Flask_WTF-0.15.1-py2.py3-none-any.whl (13 kB)\nCollecting flask==2.0.1\n  Downloading Flask-2.0.1-py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.8/94.8 KB 279.5 MB/s eta 0:00:00\nCollecting greenlet==1.1.0\n  Downloading greenlet-1.1.0-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (162 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 162.2/162.2 KB 284.7 MB/s eta 0:00:00\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 KB 271.6 MB/s eta 0:00:00\nCollecting itsdangerous==2.0.1\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting jinja2==3.0.1\n  Downloading Jinja2-3.0.1-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.7/133.7 KB 144.8 MB/s eta 0:00:00\nCollecting mako==1.1.4\n  Downloading Mako-1.1.4-py2.py3-none-any.whl (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.7/75.7 KB 246.5 MB/s eta 0:00:00\nCollecting markupsafe==2.0.1\n  Downloading MarkupSafe-2.0.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting psycopg2==2.9.1\n  Downloading psycopg2-2.9.1.tar.gz (379 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 380.0/380.0 KB 101.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 286.0 MB/s eta 0:00:00\nCollecting python-dotenv==0.14.0\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\nCollecting python-editor==1.0.4\n  Downloading python_editor-1.0.4-py3-none-any.whl (4.9 kB)\nCollecting six==1.15.0\n  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)\nCollecting sqlalchemy==1.4.19\n  Downloading SQLAlchemy-1.4.19-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 115.5 MB/s eta 0:00:00\nCollecting werkzeug==2.0.1\n  Downloading Werkzeug-2.0.1-py3-none-any.whl (288 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 288.2/288.2 KB 263.4 MB/s eta 0:00:00\nCollecting wtforms==2.3.3\n  Downloading WTForms-2.3.3-py2.py3-none-any.whl (169 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 169.1/169.1 KB 302.5 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.9/site-packages (from gunicorn==20.1.0->-r requirements.txt (line 18)) (58.1.0)\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.1-cp39-cp39-linux_x86_64.whl size=471107 sha256=37fbadbf42f69cb2741438ff1b8ba1155d7ee437a1a2ec081e754e311b4683fa\n  Stored in directory: /tmp/pip-ephem-wheel-cache-gpalrp0k/wheels/45/d6/2e/e3754ab051b88bc61600becca31679204854009c4a2adbc586\nSuccessfully built psycopg2\nInstalling collected packages: python-editor, python-dotenv, werkzeug, six, psycopg2, markupsafe, itsdangerous, gunicorn, greenlet, click, wtforms, sqlalchemy, python-dateutil, mako, jinja2, flask, alembic, flask-wtf, flask-sqlalchemy, flask-login, flask-cors, flask-migrate\nSuccessfully installed alembic-1.6.5 click-7.1.2 flask-2.0.1 flask-cors-3.0.8 flask-login-0.5.0 flask-migrate-3.0.1 flask-sqlalchemy-2.5.1 flask-wtf-0.15.1 greenlet-1.1.0 gunicorn-20.1.0 itsdangerous-2.0.1 jinja2-3.0.1 mako-1.1.4 markupsafe-2.0.1 psycopg2-2.9.1 python-dateutil-2.8.1 python-dotenv-0.14.0 python-editor-1.0.4 six-1.15.0 sqlalchemy-1.4.19 werkzeug-2.0.1 wtforms-2.3.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container a27ceea71753\n ---> ac3e0d4c3503\nStep 16/17 : RUN pip install --no-cache-dir psycopg2\n ---> Running in d4b7d34bd27f\nRequirement already satisfied: psycopg2 in /usr/local/lib/python3.9/site-packages (2.9.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container d4b7d34bd27f\n ---> ffcb75754ed1\nStep 17/17 : CMD gunicorn app:app\n ---> Running in d591235533c0\nRemoving intermediate container d591235533c0\n ---> 316c4325fc71\nSuccessfully built 316c4325fc71\nSuccessfully tagged hotpotato:latest\n","stderr":"","imageSize":955003186},"endTime":1672089290708}