{"repository":"https://github.com/discord-bio/bot","dockerfilePath":"Dockerfile","startTime":1672513239090,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/discord-bio/bot'...\n","error":null,"commit":"65dc0d47a3b41750e383813d07e70fba61db07ec"},"originalBuild":{"startTimestamp":1672513239958,"endTimestamp":1672513275917,"error":null,"stdout":"Sending build context to Docker daemon  257.5kB\r\r\nStep 1/3 : FROM alpine:latest\nlatest: Pulling from library/alpine\nc158987b0551: Already exists\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 2/3 : RUN apk update &&     apk add nodejs npm git nano &&     git clone https://github.com/discord-bio/bot /home/bot &&     cd /home/bot &&     npm i &&     npm i -g typescript &&     cp config.example.json config.json\n ---> Running in 656b3a4e870d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/17) Installing ca-certificates (20220614-r3)\n(2/17) Installing brotli-libs (1.0.9-r9)\n(3/17) Installing nghttp2-libs (1.51.0-r0)\n(4/17) Installing libcurl (7.87.0-r0)\n(5/17) Installing libexpat (2.5.0-r0)\n(6/17) Installing pcre2 (10.42-r0)\n(7/17) Installing git (2.38.2-r0)\n(8/17) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(9/17) Installing ncurses-libs (6.3_p20221119-r0)\n(10/17) Installing nano (7.0-r0)\n(11/17) Installing c-ares (1.18.1-r1)\n(12/17) Installing libgcc (12.2.1_git20220924-r4)\n(13/17) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(14/17) Installing libstdc++ (12.2.1_git20220924-r4)\n(15/17) Installing icu-libs (72.1-r1)\n(16/17) Installing nodejs (18.12.1-r0)\n(17/17) Installing npm (9.1.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 73 MiB in 32 packages\n\u001b[91mCloning into '/home/bot'...\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm WARN old lockfile\u001b[0m\u001b[91m so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/request-handler@0.0.3: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated @discordjs/collection@0.1.5: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/querybuilder@0.0.1: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/utils@0.0.1: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.2: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/settings-gateway@0.0.10: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/utils@0.0.4: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\nadded 223 packages, and audited 224 packages in 7s\n\n27 packages are looking for funding\n  run `npm fund` for details\n\n9 vulnerabilities (1 low, 1 moderate, 6 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 1 package in 1s\nRemoving intermediate container 656b3a4e870d\n ---> 7d642d296207\nStep 3/3 : CMD sh\n ---> Running in 088c73c4363b\nRemoving intermediate container 088c73c4363b\n ---> 269f50fc732a\nSuccessfully built 269f50fc732a\nSuccessfully tagged bot:latest\n","stderr":"","imageSize":292593091},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":9}},{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":23}},{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":31}}],"repairedDockerfile":"FROM alpine:latest\n\nRUN apk update && \\\n    apk add --no-cache nodejs npm git nano && \\\n    git clone https://github.com/discord-bio/bot /home/bot && \\\n    cd /home/bot && \\\n    npm i && \\\n    npm i -g typescript && \\\n    cp config.example.json config.json\n\nCMD sh\n"},"repairedBuild":{"startTimestamp":1672513276511,"endTimestamp":1672513335924,"error":null,"stdout":"Sending build context to Docker daemon  257.5kB\r\r\nStep 1/3 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/3 : RUN apk update &&     apk add --no-cache nodejs npm git nano &&     git clone https://github.com/discord-bio/bot /home/bot &&     cd /home/bot &&     npm i &&     npm i -g typescript &&     cp config.example.json config.json\n ---> Running in f49f5ed24b95\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing ca-certificates (20220614-r3)\n(2/17) Installing brotli-libs (1.0.9-r9)\n(3/17) Installing nghttp2-libs (1.51.0-r0)\n(4/17) Installing libcurl (7.87.0-r0)\n(5/17) Installing libexpat (2.5.0-r0)\n(6/17) Installing pcre2 (10.42-r0)\n(7/17) Installing git (2.38.2-r0)\n(8/17) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(9/17) Installing ncurses-libs (6.3_p20221119-r0)\n(10/17) Installing nano (7.0-r0)\n(11/17) Installing c-ares (1.18.1-r1)\n(12/17) Installing libgcc (12.2.1_git20220924-r4)\n(13/17) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(14/17) Installing libstdc++ (12.2.1_git20220924-r4)\n(15/17) Installing icu-libs (72.1-r1)\n(16/17) Installing nodejs (18.12.1-r0)\n(17/17) Installing npm (9.1.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 73 MiB in 32 packages\n\u001b[91mCloning into '/home/bot'...\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN old lockfile\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m The package-lock.json file was created with an old version of npm,\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN old lockfile\u001b[0m\u001b[91m so supplemental metadata must be fetched from the registry.\nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile \n\u001b[0m\u001b[91mnpm WARN old lockfile\u001b[0m\u001b[91m This is a one-time fix-up, please be patient...\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mold lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m @klasa/request-handler@0.0.3: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated @discordjs/collection@0.1.5: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/querybuilder@0.0.1: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/utils@0.0.1: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/utils@0.0.4: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated @klasa/settings-gateway@0.0.10: Klasa has been discontinued. Use at your own risk.\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.2: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\nadded 223 packages, and audited 224 packages in 6s\n\n27 packages are looking for funding\n  run `npm fund` for details\n\n9 vulnerabilities (1 low, 1 moderate, 6 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\nadded 1 package in 1s\nRemoving intermediate container f49f5ed24b95\n ---> 77ac3e2ee3ee\nStep 3/3 : CMD sh\n ---> Running in 09db3d964a4d\nRemoving intermediate container 09db3d964a4d\n ---> 2736682748a8\nSuccessfully built 2736682748a8\nSuccessfully tagged bot:latest\n","stderr":"","imageSize":292592459},"endTime":1672513337871}