{"repository":"https://github.com/sanofi-iadc/konviw","dockerfilePath":"Dockerfile","startTime":1672116917725,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sanofi-iadc/konviw'...\n","error":null,"commit":"ceaf0b6bb0467d8b5a38a59cc82d3980ce34f9fc"},"originalBuild":{"startTimestamp":1672116920802,"endTimestamp":1672117400782,"error":null,"stdout":"Sending build context to Docker daemon  23.64MB\r\r\nStep 1/19 : ARG NODE_VERSION=16.14.0\nStep 2/19 : FROM node:${NODE_VERSION}-alpine AS builder\n16.14.0-alpine: Pulling from library/node\n3d2430473443: Pulling fs layer\nb60fa0ff74d7: Pulling fs layer\ndc7a390288bd: Pulling fs layer\n33306f9c18eb: Pulling fs layer\n33306f9c18eb: Waiting\n3d2430473443: Verifying Checksum\n3d2430473443: Download complete\ndc7a390288bd: Verifying Checksum\ndc7a390288bd: Download complete\n3d2430473443: Pull complete\nb60fa0ff74d7: Verifying Checksum\nb60fa0ff74d7: Download complete\n33306f9c18eb: Download complete\nb60fa0ff74d7: Pull complete\ndc7a390288bd: Pull complete\n33306f9c18eb: Pull complete\nDigest: sha256:2eafdff61134201bb13e452ae5515ac181126d28d91d548b048dab66140adbe6\nStatus: Downloaded newer image for node:16.14.0-alpine\n ---> beac28f7728d\nStep 3/19 : WORKDIR /app\n ---> Running in 267aed6c9d77\nRemoving intermediate container 267aed6c9d77\n ---> 2243eff1955b\nStep 4/19 : COPY package*.json ./\n ---> bfba7a3bc5b9\nStep 5/19 : RUN npm ci --quiet\n ---> Running in a630b953287b\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN old lockfile The package-lock.json file was created with an old version of npm,\nnpm\u001b[0m\u001b[91m WARN old lockfile\u001b[0m\u001b[91m so supplemental metadata must be fetched from the registry.\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m \nnpm WARN \u001b[0m\u001b[91mold lockfile This is a one-time fix-up, please be patient...\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN old lockfile\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\nadded 1179 packages, and audited 1180 packages in 55s\n\n154 packages are looking for funding\n  run `npm fund` for details\n\n22 vulnerabilities (2 moderate, 15 high, 5 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.3.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0mRemoving intermediate container a630b953287b\n ---> 6d3bfe15a4fa\nStep 6/19 : COPY ./ ./\n ---> 690d89ff02b8\nStep 7/19 : RUN npm run build\n ---> Running in 2e15a1dfefad\n\n> konviw@3.1.2 prebuild\n> rimraf dist\n\n\n> konviw@3.1.2 build\n> npm run prebuild && npm run scss && nest build\n\n\n> konviw@3.1.2 prebuild\n> rimraf dist\n\n\n> konviw@3.1.2 scss\n> sass ./src/assets/scss:dist/static/css/ --style compressed --no-source-map\n\nRemoving intermediate container 2e15a1dfefad\n ---> 859ab90b79a0\nStep 8/19 : FROM node:${NODE_VERSION}-alpine\n ---> beac28f7728d\nStep 9/19 : WORKDIR /app\n ---> Running in 05f7e91f96bd\nRemoving intermediate container 05f7e91f96bd\n ---> e23d90b28732\nStep 10/19 : RUN npm install -g pm2\n ---> Running in 98508da85ffd\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 184 packages, and audited 185 packages in 7s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.3.1 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container 98508da85ffd\n ---> e48d57cc7e85\nStep 11/19 : COPY package*.json ./\n ---> 6ba5a55003ad\nStep 12/19 : RUN npm ci --quiet --only=production\n ---> Running in e2e117fe2e4b\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm \u001b[0m\u001b[91mWARN old lockfile\u001b[0m\u001b[91m so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\nadded 256 packages, and audited 257 packages in 21s\n\n34 packages are looking for funding\n  run `npm fund` for details\n\n9 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container e2e117fe2e4b\n ---> 081c2eff4d50\nStep 13/19 : COPY --from=icr.io/instana/aws-fargate-nodejs:latest /instana /instana\nlatest: Pulling from instana/aws-fargate-nodejs\n63c64de8de98: Pulling fs layer\n63c64de8de98: Verifying Checksum\n63c64de8de98: Download complete\n63c64de8de98: Pull complete\nDigest: sha256:f4019e7da131b44e00b5ddee521602c4a8c3a9f2630cfebc4816bd161c7f57a0\nStatus: Downloaded newer image for icr.io/instana/aws-fargate-nodejs:latest\n ---> 3006a64eb0a5\nStep 14/19 : RUN /instana/setup.sh\n ---> Running in 5416c32026db\n\u001b[91mnpm ERR! code 1\nnpm ERR! path /instana/node_modules/event-loop-stats\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m command failed\n\u001b[0m\u001b[91mnpm ERR! \u001b[0m\u001b[91mcommand\u001b[0m\u001b[91m sh -c node-gyp rebuild\n\u001b[0m\u001b[91mnpm ERR! gyp info it worked if it ends with ok\nnpm\u001b[0m\u001b[91m ERR! gyp info using node-gyp@8.4.1\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp info using node@16.14.0 | linux | x64\nnpm ERR! gyp ERR! find Python \nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python Python is not set from command line or npm configuration\nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python Python is not set from environment variable PYTHON\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! find Python checking if \"python3\" can be used\nnpm \u001b[0m\u001b[91mERR! gyp ERR! find Python - \"python3\" is not in PATH or produced an error\nnpm \u001b[0m\u001b[91mERR! gyp ERR! find Python checking if \"python\" can be used\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! find Python - \"python\" is not in PATH or produced an error\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! find Python \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR! gyp ERR! find Python **********************************************************\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python You need to install the latest version of Python.\nnpm \u001b[0m\u001b[91mERR! gyp ERR! find Python Node-gyp should be able to find and use Python. If not,\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python you can try one of the following options:\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! find Python - Use the switch --python=\"/path/to/pythonexecutable\"\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python   (accepted by both node-gyp and npm)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python - Set the environment variable PYTHON\nnpm \u001b[0m\u001b[91mERR! gyp ERR! find Python - Set the npm configuration variable python:\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python   npm config set python \"/path/to/pythonexecutable\"\nnpm ERR! gyp ERR! find Python For more information consult the documentation at:\nnpm ERR! gyp ERR! find Python https://github.com/nodejs/node-gyp#installation\nnpm \u001b[0m\u001b[91mERR! gyp ERR! find Python **********************************************************\nnpm ERR! gyp ERR! find Python \n\u001b[0m\u001b[91mnpm ERR! gyp ERR! configure error \n\u001b[0m\u001b[91mnpm ERR! gyp ERR! stack Error: Could not find any Python installation to use\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! stack     at PythonFinder.fail (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:330:47)\nnpm ERR! gyp ERR! stack     at PythonFinder.runChecks (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:159:21)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at PythonFinder.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:202:16)\nnpm ERR! gyp ERR! stack     at PythonFinder.execFileCallback (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:294:16)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at exithandler (node:child_process:406:5)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at ChildProcess.errorhandler (node:child_process:418:5)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at ChildProcess.emit (node:events:520:28)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:289:12)\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! stack     at onErrorNT (node:internal/child_process:478:16)\nnpm \u001b[0m\u001b[91mERR! gyp ERR! stack     at processTicksAndRejections (node:internal/process/task_queues:83:21)\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! System Linux 5.4.0-113-generic\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! cwd /instana/node_modules/event-loop-stats\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! node -v v16.14.0\nnpm ERR! gyp ERR! node-gyp -v v8.4.1\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! not ok\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR! A complete log of this run can be found in:\nnpm ERR!\u001b[0m\u001b[91m     /root/.npm/_logs/2022-12-27T05_02_57_900Z-debug-0.log\n\u001b[0mWarning: Rebuilding native add-ons for @instana/fargate failed. Monitoring the Fargate tasks will work nonetheless, but you will miss some Node.js metrics (GC metrics, event loop metrics, ...). See https://www.ibm.com/docs/de/obi/current?topic=agents-monitoring-aws-fargate#build-dependencies-and-native-add-ons for details.\nRemoving intermediate container 5416c32026db\n ---> cc6c4e27af2f\nStep 15/19 : ENV NODE_OPTIONS=\"--require /instana/node_modules/@instana/aws-fargate\"\n ---> Running in d4f2d3161613\nRemoving intermediate container d4f2d3161613\n ---> b1fbe331bd94\nStep 16/19 : COPY --from=builder /app/pm2.config.js ./pm2.config.js\n ---> 7ca6e47b6bf8\nStep 17/19 : COPY --from=builder /app/dist ./dist\n ---> 5a2958b51abb\nStep 18/19 : EXPOSE 3000\n ---> Running in ef0ca279a5b8\nRemoving intermediate container ef0ca279a5b8\n ---> 887c77140cb6\nStep 19/19 : CMD [ \"pm2-runtime\", \"--json\", \"pm2.config.js\" ]\n ---> Running in d34ee7e6217a\nRemoving intermediate container d34ee7e6217a\n ---> b16617afb073\nSuccessfully built b16617afb073\nSuccessfully tagged konviw:latest\n","stderr":"","imageSize":332577531},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":26,"end":26,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"ARG NODE_VERSION=16.14.0\n\n########################\n# Builder stage\n#\nFROM node:${NODE_VERSION}-alpine AS builder\nWORKDIR /app\n\n# App build dependencies\n# This step is done before copying and building the app source code\n#  to benefit from Docker layer caching if the dependencies have not changed\n# A wildcard is used to ensure both package.json AND package-lock.json are copied\nCOPY package*.json ./\nRUN npm ci --quiet\n\n# Copy source code and build\nCOPY ./ ./\nRUN npm run build\n\n########################\n# Final image\n#\nFROM node:${NODE_VERSION}-alpine\nWORKDIR /app\n\n# Runtime dependencies\nRUN npm install -g pm2\n\n# App runtime dependencies\n# A wildcard is used to ensure both package.json AND package-lock.json are copied\nCOPY package*.json ./\nRUN npm ci --quiet --only=production\n\n# Add the Instana APM layer\nCOPY --from=icr.io/instana/aws-fargate-nodejs:latest /instana /instana\nRUN /instana/setup.sh\nENV NODE_OPTIONS=\"--require /instana/node_modules/@instana/aws-fargate\"\n\n# Build artifacts\nCOPY --from=builder /app/pm2.config.js ./pm2.config.js\nCOPY --from=builder /app/dist ./dist\n\nEXPOSE 3000\nCMD [ \"pm2-runtime\", \"--json\", \"pm2.config.js\" ]"},"repairedBuild":{"startTimestamp":1672117401498,"endTimestamp":1672117629120,"error":null,"stdout":"Sending build context to Docker daemon  23.64MB\r\r\nStep 1/19 : ARG NODE_VERSION=16.14.0\nStep 2/19 : FROM node:${NODE_VERSION}-alpine AS builder\n ---> beac28f7728d\nStep 3/19 : WORKDIR /app\n ---> Running in 989ef557bada\nRemoving intermediate container 989ef557bada\n ---> 5a8c62b33056\nStep 4/19 : COPY package*.json ./\n ---> 593e80552455\nStep 5/19 : RUN npm ci --quiet\n ---> Running in 81eeac4b7c79\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m The package-lock.json file was created with an old version of npm,\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m so supplemental metadata must be fetched from the registry.\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m old lockfile\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mold lockfile\u001b[0m\u001b[91m This is a one-time fix-up, please be patient...\nnpm\u001b[0m\u001b[91m WARN old lockfile\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\nadded 1179 packages, and audited 1180 packages in 47s\n\n154 packages are looking for funding\n  run `npm fund` for details\n\n22 vulnerabilities (2 moderate, 15 high, 5 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.3.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 81eeac4b7c79\n ---> c6c206170201\nStep 6/19 : COPY ./ ./\n ---> 5d564b8316b7\nStep 7/19 : RUN npm run build\n ---> Running in 38f4de46db02\n\n> konviw@3.1.2 prebuild\n> rimraf dist\n\n\n> konviw@3.1.2 build\n> npm run prebuild && npm run scss && nest build\n\n\n> konviw@3.1.2 prebuild\n> rimraf dist\n\n\n> konviw@3.1.2 scss\n> sass ./src/assets/scss:dist/static/css/ --style compressed --no-source-map\n\nRemoving intermediate container 38f4de46db02\n ---> c88c4b7be51e\nStep 8/19 : FROM node:${NODE_VERSION}-alpine\n ---> beac28f7728d\nStep 9/19 : WORKDIR /app\n ---> Running in fcbd60cbda08\nRemoving intermediate container fcbd60cbda08\n ---> 78c277f28aef\nStep 10/19 : RUN npm install -g pm2\n ---> Running in dc83a876d7ad\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 184 packages, and audited 185 packages in 22s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.3.1 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container dc83a876d7ad\n ---> 50ad0ffcf759\nStep 11/19 : COPY package*.json ./\n ---> a562312aef71\nStep 12/19 : RUN npm ci --quiet --only=production\n ---> Running in 8c9628628a8f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm WARN old lockfile\u001b[0m\u001b[91m so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\nadded 256 packages, and audited 257 packages in 15s\n\n34 packages are looking for funding\n  run `npm fund` for details\n\n9 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 8c9628628a8f\n ---> 31f8daabfae8\nStep 13/19 : COPY --from=icr.io/instana/aws-fargate-nodejs:latest /instana /instana\n ---> 49af05ddcfa8\nStep 14/19 : RUN /instana/setup.sh\n ---> Running in 98f5a46486a7\n\u001b[91mnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m code 1\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m path /instana/node_modules/gcstats.js\n\u001b[0m\u001b[91mnpm ERR! command failed\n\u001b[0m\u001b[91mnpm ERR! command sh -c node-gyp rebuild\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR! gyp info it worked if it ends with ok\nnpm ERR! gyp info using node-gyp@8.4.1\nnpm ERR!\u001b[0m\u001b[91m gyp info using node@16.14.0 | linux | x64\nnpm ERR! gyp ERR! find Python \nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! find Python Python is not set from command line or npm configuration\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python Python is not set from environment variable PYTHON\nnpm ERR! gyp ERR! find Python checking if \"python3\" can be used\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python - \"python3\" is not in PATH or produced an error\nnpm ERR! gyp ERR! find Python checking if \"python\" can be used\n\u001b[0m\u001b[91mnpm ERR! gyp ERR! find Python - \"python\" is not in PATH or produced an error\nnpm ERR! gyp ERR! find Python \nnpm\u001b[0m\u001b[91m ERR! gyp ERR! find Python **********************************************************\nnpm ERR! gyp ERR! find Python You need to install the latest version of Python.\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python Node-gyp should be able to find and use Python. If not,\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! find Python you can try one of the following options:\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! find Python - Use the switch --python=\"/path/to/pythonexecutable\"\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR! gyp ERR! find Python   (accepted by both node-gyp and npm)\nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python - Set the environment variable PYTHON\nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python - Set the npm configuration variable python:\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python   npm config set python \"/path/to/pythonexecutable\"\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! find Python For more information consult the documentation at:\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python https://github.com/nodejs/node-gyp#installation\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! find Python **********************************************************\nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m gyp ERR! find Python \n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m gyp ERR! configure error \nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack Error: Could not find any Python installation to use\nnpm ERR! gyp ERR! stack     at PythonFinder.fail (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:330:47)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at PythonFinder.runChecks (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:159:21)\nnpm ERR! gyp ERR! stack     at PythonFinder.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:202:16)\nnpm ERR! gyp ERR! stack     at PythonFinder.execFileCallback (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:294:16)\nnpm \u001b[0m\u001b[91mERR! gyp ERR! stack     at exithandler (node:child_process:406:5)\nnpm\u001b[0m\u001b[91m ERR! gyp ERR! stack     at ChildProcess.errorhandler (node:child_process:418:5)\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! stack     at ChildProcess.emit (node:events:520:28)\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:289:12)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! stack     at onErrorNT (node:internal/child_process:478:16)\nnpm ERR! gyp ERR! stack     at processTicksAndRejections (node:internal/process/task_queues:83:21)\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! System Linux 5.4.0-113-generic\nnpm ERR! gyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\nnpm ERR!\u001b[0m\u001b[91m gyp ERR! cwd /instana/node_modules/gcstats.js\nnpm ERR! gyp ERR! node -v v16.14.0\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m gyp ERR! node-gyp -v v8.4.1\nnpm \u001b[0m\u001b[91mERR! gyp ERR! not ok\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2022-12-27T05_07_05_999Z-debug-0.log\n\u001b[0mWarning: Rebuilding native add-ons for @instana/fargate failed. Monitoring the Fargate tasks will work nonetheless, but you will miss some Node.js metrics (GC metrics, event loop metrics, ...). See https://www.ibm.com/docs/de/obi/current?topic=agents-monitoring-aws-fargate#build-dependencies-and-native-add-ons for details.\nRemoving intermediate container 98f5a46486a7\n ---> e84ad63780c3\nStep 15/19 : ENV NODE_OPTIONS=\"--require /instana/node_modules/@instana/aws-fargate\"\n ---> Running in 44abb89f022c\nRemoving intermediate container 44abb89f022c\n ---> 051f66040b17\nStep 16/19 : COPY --from=builder /app/pm2.config.js ./pm2.config.js\n ---> 11ba295225bc\nStep 17/19 : COPY --from=builder /app/dist ./dist\n ---> 09dcce22a37d\nStep 18/19 : EXPOSE 3000\n ---> Running in dbe27cb8fa1e\nRemoving intermediate container dbe27cb8fa1e\n ---> 968ca4bf99ba\nStep 19/19 : CMD [ \"pm2-runtime\", \"--json\", \"pm2.config.js\" ]\n ---> Running in 0aca7de886b3\nRemoving intermediate container 0aca7de886b3\n ---> 152a8e587567\nSuccessfully built 152a8e587567\nSuccessfully tagged konviw:latest\n","stderr":"","imageSize":332577484},"endTime":1672117629779}