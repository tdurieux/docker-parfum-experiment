{"repository":"https://github.com/aquasecurity/cloudsploit","dockerfilePath":"Dockerfile","startTime":1673032569243,"endTime":1673032665575,"clone":{"startTime":1673032569243,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/aquasecurity/cloudsploit'...\n","error":null,"endTime":1673032571141,"commit":"54417a4f0614179c30a68f21280a8400830b58b8"},"originalBuild":{"startTime":1673032571234,"endTime":1673032626898,"error":null,"stdout":"Sending build context to Docker daemon  16.28MB\r\r\nStep 1/7 : FROM node:lts-alpine3.12\nlts-alpine3.12: Pulling from library/node\n8572bc8fb8a3: Pulling fs layer\n302fff22c187: Pulling fs layer\nf89e9f2eb86a: Pulling fs layer\nae1255adff2d: Pulling fs layer\nae1255adff2d: Waiting\nf89e9f2eb86a: Verifying Checksum\nf89e9f2eb86a: Download complete\n8572bc8fb8a3: Verifying Checksum\n8572bc8fb8a3: Download complete\n8572bc8fb8a3: Pull complete\n302fff22c187: Verifying Checksum\n302fff22c187: Download complete\nae1255adff2d: Verifying Checksum\nae1255adff2d: Download complete\n302fff22c187: Pull complete\nf89e9f2eb86a: Pull complete\nae1255adff2d: Pull complete\nDigest: sha256:c2ed3b2b36b726980474f8bf80025ca3a1aeb90c76286953f9f4b9b1dc3001b0\nStatus: Downloaded newer image for node:lts-alpine3.12\n ---> 7ae9aa692723\nStep 2/7 : ARG PACKAGENAME=cloudsploit\n ---> Running in 47c87503d42c\nRemoving intermediate container 47c87503d42c\n ---> c300e316db97\nStep 3/7 : COPY . /var/scan/cloudsploit/\n ---> 17b81f7be427\nStep 4/7 : RUN cd /var/scan && npm init --yes && npm install ${PACKAGENAME}\n ---> Running in 0bec527c79b4\nWrote to /var/scan/package.json:\n\n{\n  \"name\": \"scan\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n\n\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated jssha@2.4.2: jsSHA versions < 3.0.0 will no longer receive feature updates\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-storage@6.3.0: This package is deprecated in favor of @azure/arm-storage whick works both on node.js and browsers\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-monitor@5.4.0: This package is deprecated in favor of @azure/arm-monitor which works both on node.js and browsers\n\u001b[0m\u001b[91mnpm WARN deprecated azure-storage@2.10.7: Please note: newer packages @azure/storage-blob, @azure/storage-queue and @azure/storage-file are available as of November 2019 and @azure/data-tables is available as of June 2021. While the legacy azure-storage package will continue to receive critical bug fixes, we strongly encourage you to upgrade. Migration guide can be found: https://github.com/Azure/azure-sdk-for-js/blob/main/sdk/storage/MigrationGuide.md\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-resource@7.4.0: This package is deprecated in favor of @azure/arm-resources which works both on node.js and browsers\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-compute@9.1.0: This package is deprecated in favor of @azure/arm-compute whick works both on node.js and browsers\n\u001b[0m\nadded 204 packages, and audited 205 packages in 21s\n\n18 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 0bec527c79b4\n ---> 47ee51a5715f\nStep 5/7 : ENV PATH \"$PATH:/var/scan/node_modules/.bin\"\n ---> Running in b14f8b388621\nRemoving intermediate container b14f8b388621\n ---> e7e5e3f4d7b8\nStep 6/7 : ENTRYPOINT [\"cloudsploit-scan\"]\n ---> Running in 1bbddb4b43e3\nRemoving intermediate container 1bbddb4b43e3\n ---> c182c90dfb22\nStep 7/7 : CMD []\n ---> Running in d318d2df00ec\nRemoving intermediate container d318d2df00ec\n ---> f6fb783c0e12\nSuccessfully built f6fb783c0e12\nSuccessfully tagged cloudsploit:latest\n","stderr":"","imageSize":289345069},"repair":{"startTime":1673032626958,"endTime":1673032627025,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":3,"columnEnd":29}}],"repairedDockerfile":"FROM node:lts-alpine3.12\n\n# Define a build argment that can be supplied when building the container\n# You can then do the following:\n#\n# docker build --build-arg PACKAGENAME=@myscope/cloudsploit\n#\n# This allows a fork to build their own container from this common Dockerfile.\n# You could also use this to specify a particular version number.\nARG PACKAGENAME=cloudsploit\n\nCOPY . /var/scan/cloudsploit/\n\n# Install cloudsploit/scan into the container using npm from NPM\nRUN cd /var/scan \\\n&& npm init --yes \\\n&& npm install ${PACKAGENAME} && npm cache clean --force;\n\n# Setup the container's path so that you can run cloudsploit directly\n# in case someone wants to customize it when running the container.\nENV PATH \"$PATH:/var/scan/node_modules/.bin\"\n\n# By default, run the scan. CMD allows consumers of the container to supply\n# command line arguments to the run command to control how this executes.\n# Thus, you can use the parameters that you would normally give to index.js\n# when running in a container.\nENTRYPOINT [\"cloudsploit-scan\"]\nCMD []\n"},"repairedBuild":{"startTime":1673032627433,"endTime":1673032665102,"error":null,"stdout":"Sending build context to Docker daemon  16.29MB\r\r\nStep 1/7 : FROM node:lts-alpine3.12\n ---> 7ae9aa692723\nStep 2/7 : ARG PACKAGENAME=cloudsploit\n ---> Running in 9ce486310a99\nRemoving intermediate container 9ce486310a99\n ---> e2d1ce3124ee\nStep 3/7 : COPY . /var/scan/cloudsploit/\n ---> 1e127f6b5611\nStep 4/7 : RUN cd /var/scan && npm init --yes && npm install ${PACKAGENAME} && npm cache clean --force;\n ---> Running in d9402d7365f2\nWrote to /var/scan/package.json:\n\n{\n  \"name\": \"scan\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n\n\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated jssha@2.4.2: jsSHA versions < 3.0.0 will no longer receive feature updates\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-storage@6.3.0: This package is deprecated in favor of @azure/arm-storage whick works both on node.js and browsers\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-monitor@5.4.0: This package is deprecated in favor of @azure/arm-monitor which works both on node.js and browsers\n\u001b[0m\u001b[91mnpm WARN deprecated azure-storage@2.10.7: Please note: newer packages @azure/storage-blob, @azure/storage-queue and @azure/storage-file are available as of November 2019 and @azure/data-tables is available as of June 2021. While the legacy azure-storage package will continue to receive critical bug fixes, we strongly encourage you to upgrade. Migration guide can be found: https://github.com/Azure/azure-sdk-for-js/blob/main/sdk/storage/MigrationGuide.md\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-resource@7.4.0: This package is deprecated in favor of @azure/arm-resources which works both on node.js and browsers\n\u001b[0m\u001b[91mnpm WARN deprecated azure-arm-compute@9.1.0: This package is deprecated in favor of @azure/arm-compute whick works both on node.js and browsers\n\u001b[0m\nadded 204 packages, and audited 205 packages in 10s\n\n18 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container d9402d7365f2\n ---> 60b24cd2caa5\nStep 5/7 : ENV PATH \"$PATH:/var/scan/node_modules/.bin\"\n ---> Running in 37eddd81dbd6\nRemoving intermediate container 37eddd81dbd6\n ---> 039fc4f3c0e3\nStep 6/7 : ENTRYPOINT [\"cloudsploit-scan\"]\n ---> Running in bf42bcc35656\nRemoving intermediate container bf42bcc35656\n ---> 7bace6c910fb\nStep 7/7 : CMD []\n ---> Running in dba0f8d9004e\nRemoving intermediate container dba0f8d9004e\n ---> a34d4901dcda\nSuccessfully built a34d4901dcda\nSuccessfully tagged cloudsploit:latest\n","stderr":"","imageSize":258562797}}