{"repository":"https://github.com/gingernaut/microauth","dockerfilePath":"Dockerfile","startTime":1672259923217,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gingernaut/microauth'...\n","error":null,"commit":"0355147b571ed5d9e50ab534f13eb6eee6d9a219"},"originalBuild":{"startTimestamp":1672259924174,"endTimestamp":1672260016381,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t microauth:latest -f /tmp/dinghy-analysis/gingernaut/microauth/Dockerfile ."},"stdout":"Sending build context to Docker daemon  205.8kB\r\r\nStep 1/18 : FROM alpine:3.13.1 as project-base\n3.13.1: Pulling from library/alpine\n4c0d98bf9879: Pulling fs layer\n4c0d98bf9879: Verifying Checksum\n4c0d98bf9879: Download complete\n4c0d98bf9879: Pull complete\nDigest: sha256:08d6ca16c60fe7490c03d10dc339d9fd8ea67c6466dea8d558526b1330a85930\nStatus: Downloaded newer image for alpine:3.13.1\n ---> e50c909a8df2\nStep 2/18 : WORKDIR /app\n ---> Running in 369006141b9b\nRemoving intermediate container 369006141b9b\n ---> 031d9f04b808\nStep 3/18 : ENV VIRTUAL_ENV=/opt/venv\n ---> Running in eaf715b35025\nRemoving intermediate container eaf715b35025\n ---> 3e9195d4f7aa\nStep 4/18 : RUN apk add --no-cache     python3-dev py3-virtualenv postgresql-dev     && python3 -m ensurepip --upgrade     && rm -r /usr/lib/python*/ensurepip     && pip3 install --upgrade pip setuptools     && if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi     && if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi     && python3 -m virtualenv --python /usr/bin/python3 $VIRTUAL_ENV\n ---> Running in 6b2d4b58f587\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/39) Upgrading libcrypto1.1 (1.1.1i-r0 -> 1.1.1s-r0)\n(2/39) Upgrading libssl1.1 (1.1.1i-r0 -> 1.1.1s-r0)\n(3/39) Installing libffi (3.3-r2)\n(4/39) Installing libgcc (10.2.1_pre1-r3)\n(5/39) Installing libstdc++ (10.2.1_pre1-r3)\n(6/39) Installing xz-libs (5.2.5-r1)\n(7/39) Installing libxml2 (2.9.14-r2)\n(8/39) Installing llvm10-libs (10.0.1-r1)\n(9/39) Installing clang-libs (10.0.1-r0)\n(10/39) Installing clang (10.0.1-r0)\n(11/39) Installing llvm10 (10.0.1-r1)\n(12/39) Installing pkgconf (1.7.3-r0)\n(13/39) Installing openssl-dev (1.1.1s-r0)\n(14/39) Installing icu-libs (67.1-r2)\n(15/39) Installing icu (67.1-r2)\n(16/39) Installing icu-dev (67.1-r2)\n(17/39) Installing gdbm (1.19-r0)\n(18/39) Installing libsasl (2.1.28-r0)\n(19/39) Installing libldap (2.4.57-r1)\n(20/39) Installing libpq (13.8-r0)\n(21/39) Installing postgresql-libs (13.8-r0)\n(22/39) Installing postgresql-dev (13.8-r0)\n(23/39) Installing libbz2 (1.0.8-r1)\n(24/39) Installing expat (2.2.10-r8)\n(25/39) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(26/39) Installing ncurses-libs (6.2_p20210109-r1)\n(27/39) Installing readline (8.1.0-r0)\n(28/39) Installing sqlite-libs (3.34.1-r0)\n(29/39) Installing python3 (3.8.15-r0)\n(30/39) Installing py3-distlib (0.3.1-r1)\n(31/39) Installing py3-filelock (3.0.12-r2)\n(32/39) Installing py3-ordered-set (4.0.2-r0)\n(33/39) Installing py3-appdirs (1.4.4-r1)\n(34/39) Installing py3-parsing (2.4.7-r1)\n(35/39) Installing py3-six (1.15.0-r0)\n(36/39) Installing py3-packaging (20.9-r0)\n(37/39) Installing py3-setuptools (51.3.3-r0)\n(38/39) Installing py3-virtualenv (20.2.2-r0)\n(39/39) Installing python3-dev (3.8.15-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 312 MiB in 51 packages\nLooking in links: /tmp/tmpfi6pkn4n\nRequirement already satisfied: setuptools in /usr/lib/python3.8/site-packages (51.3.3)\nProcessing /tmp/tmpfi6pkn4n/setuptools-56.0.0-py3-none-any.whl\nProcessing /tmp/tmpfi6pkn4n/pip-22.0.4-py3-none-any.whl\nInstalling collected packages: setuptools, pip\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 51.3.3\n    Uninstalling setuptools-51.3.3:\n      Successfully uninstalled setuptools-51.3.3\nSuccessfully installed pip-22.0.4 setuptools-56.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRequirement already satisfied: pip in /usr/lib/python3.8/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 11.5 MB/s eta 0:00:00\nRequirement already satisfied: setuptools in /usr/lib/python3.8/site-packages (56.0.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 11.4 MB/s eta 0:00:00\nInstalling collected packages: setuptools, pip\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 56.0.0\n    Uninstalling setuptools-56.0.0:\n      Successfully uninstalled setuptools-56.0.0\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1 setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mcreated virtual environment CPython3.8.15.final.0-64 in 455ms\n  creator CPython3Posix(dest=/opt/venv, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==20.3.1, setuptools==51.0.0, wheel==0.36.1\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\n\u001b[91m/usr/lib/python3.8/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  warnings.warn(\n\u001b[0mRemoving intermediate container 6b2d4b58f587\n ---> f2cc9e8daad4\nStep 5/18 : ENV PATH=\"$VIRTUAL_ENV/bin:$PATH\"\n ---> Running in 3f1573ad5e7f\nRemoving intermediate container 3f1573ad5e7f\n ---> 0c57d5cfd2da\nStep 6/18 : FROM project-base as dependency-creator\n ---> 0c57d5cfd2da\nStep 7/18 : RUN apk add --no-cache build-base libffi-dev     && pip3 install --no-cache-dir poetry\n ---> Running in 54f056aab6bd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/21) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/21) Installing binutils (2.35.2-r1)\n(3/21) Installing libmagic (5.39-r0)\n(4/21) Installing file (5.39-r0)\n(5/21) Installing libgomp (10.2.1_pre1-r3)\n(6/21) Installing libatomic (10.2.1_pre1-r3)\n(7/21) Installing libgphobos (10.2.1_pre1-r3)\n(8/21) Installing gmp (6.2.1-r1)\n(9/21) Installing isl22 (0.22-r0)\n(10/21) Installing mpfr4 (4.1.0-r0)\n(11/21) Installing mpc1 (1.2.0-r0)\n(12/21) Installing gcc (10.2.1_pre1-r3)\n(13/21) Installing musl-dev (1.2.2-r1)\n(14/21) Installing libc-dev (0.7.2-r3)\n(15/21) Installing g++ (10.2.1_pre1-r3)\n(16/21) Installing make (4.3-r0)\n(17/21) Installing fortify-headers (1.1-r0)\n(18/21) Installing patch (2.7.6-r7)\n(19/21) Installing build-base (0.5-r3)\n(20/21) Installing linux-headers (5.7.8-r0)\n(21/21) Installing libffi-dev (3.3-r2)\nExecuting busybox-1.32.1-r2.trigger\nOK: 507 MiB in 71 packages\nCollecting poetry\n  Downloading poetry-1.3.1-py3-none-any.whl (218 kB)\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting cleo<3.0.0,>=2.0.0\n  Downloading cleo-2.0.1-py3-none-any.whl (77 kB)\nCollecting crashtest<0.5.0,>=0.4.1\n  Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50.tar.gz (430 kB)\nCollecting filelock<4.0.0,>=3.8.0\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\nCollecting importlib-metadata<5.0,>=4.4\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting importlib-resources>=1.4.0\n  Downloading importlib_resources-5.10.1-py3-none-any.whl (34 kB)\nCollecting keyring<24.0.0,>=23.9.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\nCollecting lockfile<0.13.0,>=0.12.2\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4.tar.gz (128 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting pkgutil-resolve-name>=1.3.10\n  Downloading pkgutil_resolve_name-1.3.10-py3-none-any.whl (4.7 kB)\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting poetry-core==1.4.0\n  Downloading poetry_core-1.4.0-py3-none-any.whl (546 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.2.0\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.2-py3-none-any.whl (57 kB)\nCollecting rapidfuzz<3.0.0,>=2.2.0\n  Downloading rapidfuzz-2.13.7.tar.gz (999 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'error'\n\u001b[91m  ERROR: Command errored out with exit status 1:\n   command: /opt/venv/bin/python /opt/venv/lib/python3.8/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-gdmujbvy/normal --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- cmake\n       cwd: None\n  Complete output (53 lines):\n  Collecting cmake\n    Downloading cmake-3.25.0.tar.gz (33 kB)\n    Installing build dependencies: started\n    Installing build dependencies: finished with status 'done'\n    Getting requirements to build wheel: started\n    Getting requirements to build wheel: finished with status 'done'\n      Preparing wheel metadata: started\n      Preparing wheel metadata: finished with status 'done'\n  Building wheels for collected packages: cmake\n    Building wheel for cmake (PEP 517): started\n    Building wheel for cmake (PEP 517): finished with status 'error'\n    ERROR: Command errored out with exit status 1:\n     command: /opt/venv/bin/python /opt/venv/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /tmp/tmpomyhk47m\n         cwd: /tmp/pip-install-a0jl76t8/cmake_9c2d53a98360430a8c98d6f7824f06c2\n    Complete output (32 lines):\n    Traceback (most recent call last):\n      File \"/tmp/pip-build-env-trmp23ey/overlay/lib/python3.8/site-packages/skbuild/setuptools_wrap.py\", line 612, in setup\n        cmkr = cmaker.CMaker(cmake_executable)\n      File \"/tmp/pip-build-env-trmp23ey/overlay/lib/python3.8/site-packages/skbuild/cmaker.py\", line 149, in __init__\n        self.cmake_version = get_cmake_version(self.cmake_executable)\n      File \"/tmp/pip-build-env-trmp23ey/overlay/lib/python3.8/site-packages/skbuild/cmaker.py\", line 104, in get_cmake_version\n        raise SKBuildError(\n  \n  \n        =============================DEBUG ASSISTANCE=============================\n        If you are seeing a compilation error please try the following steps to\n        successfully install cmake:\n        1) Upgrade to the latest pip and try again. This will fix errors for most\n           users. See: https://pip.pypa.io/en/stable/installing/#upgrading-pip\n        2) If on Linux, with glibc < 2.12, you can set PIP_ONLY_BINARY=cmake in\n           order to retrieve the last manylinux1 compatible wheel.\n        3) If on Linux, with glibc < 2.12, you can cap \"cmake<3.23\" in your\n           requirements in order to retrieve the last manylinux1 compatible wheel.\n        4) Open an issue with the debug information that follows at\n           https://github.com/scikit-build/cmake-python-distributions/issues\n  \n        Python: 3.8.15\n        platform: Linux-5.4.0-113-generic-x86_64-with\n        machine: x86_64\n        bits: 64\n        pip: n/a\n        setuptools: 65.6.3\n        scikit-build: 0.16.4\n        PEP517_BUILD_BACKEND=setuptools.build_meta\n        =============================DEBUG ASSISTANCE=============================\n  \n    Problem with the CMake installation, aborting build. CMake executable is cmake\n    ----------------------------------------\n    ERROR: Failed building wheel for cmake\n  Failed to build cmake\n  ERROR: Could not build wheels for cmake which use PEP 517 and cannot be installed directly\n  WARNING: You are using pip version 20.3.1; however, version 22.3.1 is available.\n  You should consider upgrading via the '/opt/venv/bin/python -m pip install --upgrade pip' command.\n  ----------------------------------------\n\u001b[0m\u001b[91mERROR: Command errored out with exit status 1: /opt/venv/bin/python /opt/venv/lib/python3.8/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-gdmujbvy/normal --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- cmake Check the logs for full command output.\n\u001b[0m\u001b[91mWARNING: You are using pip version 20.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/venv/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 54f056aab6bd\n","stderr":"The command '/bin/sh -c apk add --no-cache build-base libffi-dev     && pip3 install --no-cache-dir poetry' returned a non-zero code: 1\n"},"endTime":1672260016447}