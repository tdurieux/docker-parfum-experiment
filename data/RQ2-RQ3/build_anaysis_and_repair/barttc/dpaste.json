{"repository":"https://github.com/barttc/dpaste","dockerfilePath":"Dockerfile","startTime":1672898527540,"endTime":1672898871375,"clone":{"startTime":1672898527541,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/barttc/dpaste'...\n","error":null,"endTime":1672898528319,"commit":"2c52c96b55b4c226db913acd9f7851aebdd6e028"},"originalBuild":{"startTime":1672898528400,"endTime":1672898734921,"error":null,"stdout":"Sending build context to Docker daemon  471.6kB\r\r\nStep 1/24 : FROM node:lts as staticfiles\nlts: Pulling from library/node\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n9537c7a3988e: Already exists\nfd36cab452a2: Pulling fs layer\n2d0da1e46288: Pulling fs layer\n1815baed2c16: Pulling fs layer\n1815baed2c16: Verifying Checksum\n1815baed2c16: Download complete\n2d0da1e46288: Verifying Checksum\n2d0da1e46288: Download complete\nfd36cab452a2: Verifying Checksum\nfd36cab452a2: Download complete\nfd36cab452a2: Pull complete\n2d0da1e46288: Pull complete\n1815baed2c16: Pull complete\nDigest: sha256:e9ad817b0d42b4d177a4bef8a0aff97c352468a008c3fdb2b4a82533425480df\nStatus: Downloaded newer image for node:lts\n ---> 7b2a09676e2c\nStep 2/24 : ARG BUILD_EXTRAS=production\n ---> Running in f56a668e08e8\nRemoving intermediate container f56a668e08e8\n ---> 43a5fafdcfc4\nStep 3/24 : RUN echo \"\\nâ„¹ï¸  Building staticfiles with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in bd0fe43dd8fa\n\nâ„¹ï¸  Building staticfiles with production dependencies.\n\nRemoving intermediate container bd0fe43dd8fa\n ---> 08f68dc7e52d\nStep 4/24 : WORKDIR /app\n ---> Running in d366d8b6ec0e\nRemoving intermediate container d366d8b6ec0e\n ---> 7e51e4b7b82e\nStep 5/24 : COPY package.json package-lock.json Makefile ./\n ---> e0eb8f852f4c\nStep 6/24 : RUN if [ \"$BUILD_EXTRAS\" = \"dev\" ] ; then npm install --ignore-scripts ; else npm ci --ignore-scripts ; fi\n ---> Running in 5544c6a7c460\n\u001b[91mnpm WARN deprecated uglify-es@3.3.10: support for ECMAScript is superseded by `uglify-js` as of v3.13.0\n\u001b[0m\nadded 20 packages, and audited 21 packages in 617ms\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 5544c6a7c460\n ---> dc68d7f22ecf\nStep 7/24 : COPY client ./client\n ---> 91b7a24c5e03\nStep 8/24 : RUN mkdir -p dpaste/static\n ---> Running in cb6c6cf47bdb\nRemoving intermediate container cb6c6cf47bdb\n ---> e7dcc6324084\nStep 9/24 : RUN make css\n ---> Running in 4c490ede5d78\nnpx sass --no-source-map --style=compressed client/scss/dpaste.scss:dpaste/static/dpaste.css\nRemoving intermediate container 4c490ede5d78\n ---> 483059185a36\nStep 10/24 : RUN make js\n ---> Running in c7d0a5ce204e\nnpx uglifyjs --compress=\"drop_console=true,ecma=6\" --mangle=\"toplevel\" --output=dpaste/static/dpaste.js client/js/dpaste.js\nRemoving intermediate container c7d0a5ce204e\n ---> 5f3304503b1a\nStep 11/24 : FROM python:3.10 as build\n ---> 3aae3bded9cf\nStep 12/24 : ARG BUILD_EXTRAS=production\n ---> Running in 53a800c1ff3d\nRemoving intermediate container 53a800c1ff3d\n ---> 9ed46a07a1ff\nStep 13/24 : ENV PORT=8000\n ---> Running in 8c2fa92f9b39\nRemoving intermediate container 8c2fa92f9b39\n ---> c5576b109235\nStep 14/24 : RUN echo \"\\nâ„¹ï¸  Building Django project with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in 6f6721d755be\n\nâ„¹ï¸  Building Django project with production dependencies.\n\nRemoving intermediate container 6f6721d755be\n ---> fce9a985e94d\nStep 15/24 : WORKDIR /app\n ---> Running in e392b92db3f9\nRemoving intermediate container e392b92db3f9\n ---> e5bea9a3210a\nStep 16/24 : RUN pip install -U pip\n ---> Running in 2c21c5df5ba4\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 2c21c5df5ba4\n ---> 7b7956b0584a\nStep 17/24 : COPY --from=staticfiles /app /app/\n ---> 200593ba46bb\nStep 18/24 : COPY setup.py setup.cfg ./\n ---> 8e5b8c777b55\nStep 19/24 : COPY dpaste/__init__.py dpaste/\n ---> a3c06ee29162\nStep 20/24 : RUN pip install -e .[${BUILD_EXTRAS}]\n ---> Running in 81d1bc6a41f6\nObtaining file:///app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django>=3.2\n  Downloading Django-4.1.5-py3-none-any.whl (8.1 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 8.1/8.1 MB 13.0 MB/s eta 0:00:00\nCollecting pygments<=2.11.2\n  Downloading Pygments-2.11.2-py3-none-any.whl (1.1 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.1/1.1 MB 5.8 MB/s eta 0:00:00\nCollecting django-staticinline>=1.0\n  Downloading django_staticinline-1.3.1-py2.py3-none-any.whl (23 kB)\nCollecting django-csp>=3.6\n  Downloading django_csp-3.7-py2.py3-none-any.whl (17 kB)\nCollecting dj_database_url>=0.5.0\n  Downloading dj_database_url-1.2.0-py3-none-any.whl (7.1 kB)\nCollecting ratelimiter>=1.2\n  Downloading ratelimiter-1.2.0.post0-py3-none-any.whl (6.6 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-2.0.0-py2.py3-none-any.whl (4.1 kB)\nCollecting misaka>=2.1.0\n  Downloading misaka-2.1.1.tar.gz (125 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 125.2/125.2 kB 8.4 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting docutils\n  Downloading docutils-0.19-py3-none-any.whl (570 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 570.5/570.5 kB 29.0 MB/s eta 0:00:00\nCollecting tox\n  Downloading tox-4.2.3-py3-none-any.whl (145 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 145.6/145.6 kB 13.1 MB/s eta 0:00:00\nCollecting pytest\n  Downloading pytest-7.2.0-py3-none-any.whl (316 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 316.8/316.8 kB 28.4 MB/s eta 0:00:00\nCollecting pytest-cov\n  Downloading pytest_cov-4.0.0-py3-none-any.whl (21 kB)\nCollecting pytest-django\n  Downloading pytest_django-4.5.2-py3-none-any.whl (20 kB)\nCollecting psycopg2-binary==2.9.3\n  Downloading psycopg2_binary-2.9.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.0/3.0 MB 49.9 MB/s eta 0:00:00\nCollecting django-webserver[pyuwsgi]==1.2.0\n  Downloading django_webserver-1.2.0-py2.py3-none-any.whl (10 kB)\nCollecting pyuwsgi\n  Downloading pyuwsgi-2.0.21-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (928 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 928.4/928.4 kB 34.2 MB/s eta 0:00:00\nCollecting sqlparse>=0.2.2\n  Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 42.8/42.8 kB 3.6 MB/s eta 0:00:00\nCollecting asgiref<4,>=3.5.2\n  Downloading asgiref-3.6.0-py3-none-any.whl (23 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-1.0.0-py2.py3-none-any.whl (3.9 kB)\nCollecting cffi>=1.0.0\n  Using cached cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting attrs>=19.2.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 60.0/60.0 kB 1.2 MB/s eta 0:00:00\nCollecting exceptiongroup>=1.0.0rc8\n  Downloading exceptiongroup-1.1.0-py3-none-any.whl (14 kB)\nCollecting tomli>=1.0.0\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting pluggy<2.0,>=0.12\n  Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)\nCollecting iniconfig\n  Downloading iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)\nCollecting packaging\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 42.6/42.6 kB 3.0 MB/s eta 0:00:00\nCollecting coverage[toml]>=5.2.1\n  Downloading coverage-7.0.3-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (224 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 224.8/224.8 kB 2.4 MB/s eta 0:00:00\nCollecting platformdirs>=2.6.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting filelock>=3.9\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting virtualenv>=20.17.1\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 8.8/8.8 MB 52.4 MB/s eta 0:00:00\nCollecting chardet>=5.1\n  Downloading chardet-5.1.0-py3-none-any.whl (199 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 199.1/199.1 kB 16.7 MB/s eta 0:00:00\nCollecting cachetools>=5.2\n  Downloading cachetools-5.2.0-py3-none-any.whl (9.3 kB)\nCollecting colorama>=0.4.6\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nCollecting pyproject-api>=1.2.1\n  Downloading pyproject_api-1.4.0-py3-none-any.whl (12 kB)\nCollecting pycparser\n  Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 468.5/468.5 kB 33.4 MB/s eta 0:00:00\nBuilding wheels for collected packages: misaka\n  Building wheel for misaka (setup.py): started\n  Building wheel for misaka (setup.py): finished with status 'done'\n  Created wheel for misaka: filename=misaka-2.1.1-cp310-cp310-linux_x86_64.whl size=154073 sha256=37bb74fb601e5ca0e7d4e68220ed6d45133480f7aa9c3e7f010b37e35de486d3\n  Stored in directory: /root/.cache/pip/wheels/28/e0/ab/fbbaf43f2bee56d70d6ed11ee3311b8c3d470c2710fafd6006\nSuccessfully built misaka\nInstalling collected packages: ratelimiter, pyuwsgi, iniconfig, distlib, tomli, sqlparse, pygments, pycparser, psycopg2-binary, pluggy, platformdirs, packaging, filelock, exceptiongroup, docutils, coverage, colorama, chardet, cachetools, attrs, asgiref, virtualenv, pytest, pyproject-api, jsx-lexer, django, cffi, tox, pytest-django, pytest-cov, misaka, django-webserver, django-staticinline, django-csp, dj_database_url, dpaste\n  Running setup.py develop for dpaste\nSuccessfully installed asgiref-3.6.0 attrs-22.2.0 cachetools-5.2.0 cffi-1.15.1 chardet-5.1.0 colorama-0.4.6 coverage-7.0.3 distlib-0.3.6 dj_database_url-1.2.0 django-4.1.5 django-csp-3.7 django-staticinline-1.3.1 django-webserver-1.2.0 docutils-0.19 dpaste-3.5 exceptiongroup-1.1.0 filelock-3.9.0 iniconfig-1.1.1 jsx-lexer-1.0.0 misaka-2.1.1 packaging-22.0 platformdirs-2.6.2 pluggy-1.0.0 psycopg2-binary-2.9.3 pycparser-2.21 pygments-2.11.2 pyproject-api-1.4.0 pytest-7.2.0 pytest-cov-4.0.0 pytest-django-4.5.2 pyuwsgi-2.0.21 ratelimiter-1.2.0.post0 sqlparse-0.4.3 tomli-2.0.1 tox-4.2.3 virtualenv-20.17.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 81d1bc6a41f6\n ---> ccce8d2a563f\nStep 21/24 : COPY . .\n ---> f43a9bab9a6a\nStep 22/24 : RUN ./manage.py collectstatic --noinput\n ---> Running in cb972529b917\n\nâš ï¸  local.py settings not found. Using default settings file.\n\nğŸ˜  Database URL is: None\n\nğŸš€  Production webserver installed. Will run on port 8000\n\n2 static files copied to '/app/.static', 2 post-processed.\nRemoving intermediate container cb972529b917\n ---> f99a597bdf7c\nStep 23/24 : CMD ./manage.py migrate --noinput && ./manage.py pyuwsgi --http=:${PORT} --logger file:/var/log/uwsgi.log\n ---> Running in 3bd51460f673\nRemoving intermediate container 3bd51460f673\n ---> fced5e466411\nStep 24/24 : EXPOSE ${PORT}\n ---> Running in 491dff7b23b8\nRemoving intermediate container 491dff7b23b8\n ---> 324ec6a7e3ca\nSuccessfully built 324ec6a7e3ca\nSuccessfully tagged dpaste:latest\n","stderr":"","imageSize":1032589799},"repair":{"startTime":1672898734996,"endTime":1672898735094,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":42,"columnEnd":72}},{"name":"pipUseNoCacheDir","position":{"start":34,"end":34,"columnStart":4,"columnEnd":22}},{"name":"pipUseNoCacheDir","position":{"start":43,"end":43,"columnStart":4,"columnEnd":37}}],"repairedDockerfile":"FROM node:lts as staticfiles\n\nARG BUILD_EXTRAS=production\n\nRUN echo \"\\nâ„¹ï¸  Building staticfiles with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n\nWORKDIR /app\n\n# Install the JS dependencies\nCOPY package.json package-lock.json Makefile ./\n\nRUN if [ \"$BUILD_EXTRAS\" = \"dev\" ] ; then \\\n npm install --ignore-scripts ; npm cache clean --force;else npm ci --ignore-scripts ; fi\n\n# Copy the client/ directory and compile them. The Python application\n# doesn't need to exist yet.\nCOPY client ./client\n\nRUN mkdir -p dpaste/static\nRUN make css\nRUN make js\n\n# ------------------------------------------------\n\nFROM python:3.10 as build\n\nARG BUILD_EXTRAS=production\n\nENV PORT=8000\n\nRUN echo \"\\nâ„¹ï¸  Building Django project with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n\nWORKDIR /app\n\n# Upgrade pip, the Image one is quite old.\nRUN pip install --no-cache-dir -U pip\n\n# Copy the dpaste staticfiles to this image\nCOPY --from=staticfiles /app /app/\n\n# Copy only the files necessary to install the dpaste project as an editable\n# package. This improves caching.\nCOPY setup.py setup.cfg ./\nCOPY dpaste/__init__.py dpaste/\nRUN pip install --no-cache-dir -e .[${BUILD_EXTRAS}]\n\n# Copy the rest of the application code\nCOPY . .\n\n# Collect all static files once.\nRUN ./manage.py collectstatic --noinput\n\n# By default run it with pyuwsgi, which is a great production ready\n# server. For development, docker-compose will override it to use the\n# regular Django runserver.\nCMD ./manage.py migrate --noinput && ./manage.py pyuwsgi --http=:${PORT} --logger file:/var/log/uwsgi.log\n\nEXPOSE ${PORT}\n"},"repairedBuild":{"startTime":1672898735546,"endTime":1672898870859,"error":null,"stdout":"Sending build context to Docker daemon  472.1kB\r\r\nStep 1/24 : FROM node:lts as staticfiles\n ---> 7b2a09676e2c\nStep 2/24 : ARG BUILD_EXTRAS=production\n ---> Running in 6a8e93968db2\nRemoving intermediate container 6a8e93968db2\n ---> de131ac0627a\nStep 3/24 : RUN echo \"\\nâ„¹ï¸  Building staticfiles with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in 49b62e2aae8e\n\nâ„¹ï¸  Building staticfiles with production dependencies.\n\nRemoving intermediate container 49b62e2aae8e\n ---> 81bd3e870008\nStep 4/24 : WORKDIR /app\n ---> Running in 0804abe13f86\nRemoving intermediate container 0804abe13f86\n ---> 88940714252d\nStep 5/24 : COPY package.json package-lock.json Makefile ./\n ---> dc24dbebb5b2\nStep 6/24 : RUN if [ \"$BUILD_EXTRAS\" = \"dev\" ] ; then  npm install --ignore-scripts ; npm cache clean --force;else npm ci --ignore-scripts ; fi\n ---> Running in 7d9a85e60f27\n\u001b[91mnpm WARN deprecated uglify-es@3.3.10: support for ECMAScript is superseded by `uglify-js` as of v3.13.0\n\u001b[0m\nadded 20 packages, and audited 21 packages in 5s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 7d9a85e60f27\n ---> 2ad8bed12529\nStep 7/24 : COPY client ./client\n ---> 25a5b40fdea2\nStep 8/24 : RUN mkdir -p dpaste/static\n ---> Running in 9c3cf55b872b\nRemoving intermediate container 9c3cf55b872b\n ---> 54fc66161472\nStep 9/24 : RUN make css\n ---> Running in f67ef1dbba0a\nnpx sass --no-source-map --style=compressed client/scss/dpaste.scss:dpaste/static/dpaste.css\nRemoving intermediate container f67ef1dbba0a\n ---> 106d9d6f1dea\nStep 10/24 : RUN make js\n ---> Running in a5bc7c40564e\nnpx uglifyjs --compress=\"drop_console=true,ecma=6\" --mangle=\"toplevel\" --output=dpaste/static/dpaste.js client/js/dpaste.js\nRemoving intermediate container a5bc7c40564e\n ---> d3ff2e832d5b\nStep 11/24 : FROM python:3.10 as build\n ---> 3aae3bded9cf\nStep 12/24 : ARG BUILD_EXTRAS=production\n ---> Running in e4eb63cd3f15\nRemoving intermediate container e4eb63cd3f15\n ---> b8b32f0007e2\nStep 13/24 : ENV PORT=8000\n ---> Running in 6e7e806aae2e\nRemoving intermediate container 6e7e806aae2e\n ---> d221304a2e1e\nStep 14/24 : RUN echo \"\\nâ„¹ï¸  Building Django project with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in c8b8b70c5793\n\nâ„¹ï¸  Building Django project with production dependencies.\n\nRemoving intermediate container c8b8b70c5793\n ---> 2f2f4c4e0fbc\nStep 15/24 : WORKDIR /app\n ---> Running in cfcbf6bd1b75\nRemoving intermediate container cfcbf6bd1b75\n ---> 07f7a8033aa4\nStep 16/24 : RUN pip install --no-cache-dir -U pip\n ---> Running in d7766419dd04\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container d7766419dd04\n ---> 56ea7a39a70d\nStep 17/24 : COPY --from=staticfiles /app /app/\n ---> 3d6a24b5ca28\nStep 18/24 : COPY setup.py setup.cfg ./\n ---> 90791f9066ab\nStep 19/24 : COPY dpaste/__init__.py dpaste/\n ---> c88c3ec4fca2\nStep 20/24 : RUN pip install --no-cache-dir -e .[${BUILD_EXTRAS}]\n ---> Running in 367df3f7c7bb\nObtaining file:///app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django>=3.2\n  Downloading Django-4.1.5-py3-none-any.whl (8.1 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 8.1/8.1 MB 115.7 MB/s eta 0:00:00\nCollecting pygments<=2.11.2\n  Downloading Pygments-2.11.2-py3-none-any.whl (1.1 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.1/1.1 MB 116.0 MB/s eta 0:00:00\nCollecting django-staticinline>=1.0\n  Downloading django_staticinline-1.3.1-py2.py3-none-any.whl (23 kB)\nCollecting django-csp>=3.6\n  Downloading django_csp-3.7-py2.py3-none-any.whl (17 kB)\nCollecting dj_database_url>=0.5.0\n  Downloading dj_database_url-1.2.0-py3-none-any.whl (7.1 kB)\nCollecting ratelimiter>=1.2\n  Downloading ratelimiter-1.2.0.post0-py3-none-any.whl (6.6 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-2.0.0-py2.py3-none-any.whl (4.1 kB)\nCollecting misaka>=2.1.0\n  Downloading misaka-2.1.1.tar.gz (125 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 125.2/125.2 kB 257.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting docutils\n  Downloading docutils-0.19-py3-none-any.whl (570 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 570.5/570.5 kB 162.1 MB/s eta 0:00:00\nCollecting tox\n  Downloading tox-4.2.3-py3-none-any.whl (145 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 145.6/145.6 kB 372.6 MB/s eta 0:00:00\nCollecting pytest\n  Downloading pytest-7.2.0-py3-none-any.whl (316 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 316.8/316.8 kB 229.7 MB/s eta 0:00:00\nCollecting pytest-cov\n  Downloading pytest_cov-4.0.0-py3-none-any.whl (21 kB)\nCollecting pytest-django\n  Downloading pytest_django-4.5.2-py3-none-any.whl (20 kB)\nCollecting psycopg2-binary==2.9.3\n  Downloading psycopg2_binary-2.9.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.0/3.0 MB 121.1 MB/s eta 0:00:00\nCollecting django-webserver[pyuwsgi]==1.2.0\n  Downloading django_webserver-1.2.0-py2.py3-none-any.whl (10 kB)\nCollecting pyuwsgi\n  Downloading pyuwsgi-2.0.21-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (928 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 928.4/928.4 kB 138.7 MB/s eta 0:00:00\nCollecting sqlparse>=0.2.2\n  Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 42.8/42.8 kB 209.6 MB/s eta 0:00:00\nCollecting asgiref<4,>=3.5.2\n  Downloading asgiref-3.6.0-py3-none-any.whl (23 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-1.0.0-py2.py3-none-any.whl (3.9 kB)\nCollecting cffi>=1.0.0\n  Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 441.8/441.8 kB 133.6 MB/s eta 0:00:00\nCollecting tomli>=1.0.0\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting pluggy<2.0,>=0.12\n  Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)\nCollecting exceptiongroup>=1.0.0rc8\n  Downloading exceptiongroup-1.1.0-py3-none-any.whl (14 kB)\nCollecting iniconfig\n  Downloading iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)\nCollecting packaging\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 42.6/42.6 kB 291.6 MB/s eta 0:00:00\nCollecting attrs>=19.2.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 60.0/60.0 kB 341.8 MB/s eta 0:00:00\nCollecting coverage[toml]>=5.2.1\n  Downloading coverage-7.0.3-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (224 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 224.8/224.8 kB 371.7 MB/s eta 0:00:00\nCollecting chardet>=5.1\n  Downloading chardet-5.1.0-py3-none-any.whl (199 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 199.1/199.1 kB 378.0 MB/s eta 0:00:00\nCollecting colorama>=0.4.6\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nCollecting filelock>=3.9\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs>=2.6.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting virtualenv>=20.17.1\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 8.8/8.8 MB 118.6 MB/s eta 0:00:00\nCollecting pyproject-api>=1.2.1\n  Downloading pyproject_api-1.4.0-py3-none-any.whl (12 kB)\nCollecting cachetools>=5.2\n  Downloading cachetools-5.2.0-py3-none-any.whl (9.3 kB)\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 118.7/118.7 kB 301.6 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 468.5/468.5 kB 215.4 MB/s eta 0:00:00\nBuilding wheels for collected packages: misaka\n  Building wheel for misaka (setup.py): started\n  Building wheel for misaka (setup.py): finished with status 'done'\n  Created wheel for misaka: filename=misaka-2.1.1-cp310-cp310-linux_x86_64.whl size=154072 sha256=7a7932d699afeb64f9648f55576a07807286f0fe97df628447399d3d7658e5bf\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_pigcf99/wheels/28/e0/ab/fbbaf43f2bee56d70d6ed11ee3311b8c3d470c2710fafd6006\nSuccessfully built misaka\nInstalling collected packages: ratelimiter, pyuwsgi, iniconfig, distlib, tomli, sqlparse, pygments, pycparser, psycopg2-binary, pluggy, platformdirs, packaging, filelock, exceptiongroup, docutils, coverage, colorama, chardet, cachetools, attrs, asgiref, virtualenv, pytest, pyproject-api, jsx-lexer, django, cffi, tox, pytest-django, pytest-cov, misaka, django-webserver, django-staticinline, django-csp, dj_database_url, dpaste\n  Running setup.py develop for dpaste\nSuccessfully installed asgiref-3.6.0 attrs-22.2.0 cachetools-5.2.0 cffi-1.15.1 chardet-5.1.0 colorama-0.4.6 coverage-7.0.3 distlib-0.3.6 dj_database_url-1.2.0 django-4.1.5 django-csp-3.7 django-staticinline-1.3.1 django-webserver-1.2.0 docutils-0.19 dpaste-3.5 exceptiongroup-1.1.0 filelock-3.9.0 iniconfig-1.1.1 jsx-lexer-1.0.0 misaka-2.1.1 packaging-22.0 platformdirs-2.6.2 pluggy-1.0.0 psycopg2-binary-2.9.3 pycparser-2.21 pygments-2.11.2 pyproject-api-1.4.0 pytest-7.2.0 pytest-cov-4.0.0 pytest-django-4.5.2 pyuwsgi-2.0.21 ratelimiter-1.2.0.post0 sqlparse-0.4.3 tomli-2.0.1 tox-4.2.3 virtualenv-20.17.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 367df3f7c7bb\n ---> e94ca605e765\nStep 21/24 : COPY . .\n ---> f110a98f15dd\nStep 22/24 : RUN ./manage.py collectstatic --noinput\n ---> Running in e6e65a0f1aeb\n\nâš ï¸  local.py settings not found. Using default settings file.\n\nğŸ˜  Database URL is: None\n\nğŸš€  Production webserver installed. Will run on port 8000\n\n2 static files copied to '/app/.static', 2 post-processed.\nRemoving intermediate container e6e65a0f1aeb\n ---> ed010c1c4530\nStep 23/24 : CMD ./manage.py migrate --noinput && ./manage.py pyuwsgi --http=:${PORT} --logger file:/var/log/uwsgi.log\n ---> Running in 9a4c6308aaf0\nRemoving intermediate container 9a4c6308aaf0\n ---> 948d29b5ed31\nStep 24/24 : EXPOSE ${PORT}\n ---> Running in e17a0a73bc0f\nRemoving intermediate container e17a0a73bc0f\n ---> 06561ed6a3eb\nSuccessfully built 06561ed6a3eb\nSuccessfully tagged dpaste:latest\n","stderr":"","imageSize":1007331500}}