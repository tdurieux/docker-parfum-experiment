{"repository":"https://github.com/stategate/stategate","dockerfilePath":"Dockerfile","startTime":1672791527622,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/stategate/stategate'...\n","error":null,"commit":"adec57fd1692547c43c9a40406242db5349bacd2"},"originalBuild":{"startTimestamp":1672791528618,"endTimestamp":1672791650504,"error":null,"stdout":"Sending build context to Docker daemon  2.553MB\r\r\nStep 1/17 : FROM golang:1.15.6-alpine3.12 as build-env\n1.15.6-alpine3.12: Pulling from library/golang\n801bfaa63ef2: Pulling fs layer\nee0a1ba97153: Pulling fs layer\n1db7f31c0ee6: Pulling fs layer\necebeec079cf: Pulling fs layer\n63b48972323a: Pulling fs layer\necebeec079cf: Waiting\n63b48972323a: Waiting\n801bfaa63ef2: Verifying Checksum\n801bfaa63ef2: Download complete\n1db7f31c0ee6: Verifying Checksum\n1db7f31c0ee6: Download complete\nee0a1ba97153: Verifying Checksum\nee0a1ba97153: Download complete\n801bfaa63ef2: Pull complete\nee0a1ba97153: Pull complete\n1db7f31c0ee6: Pull complete\n63b48972323a: Verifying Checksum\n63b48972323a: Download complete\necebeec079cf: Download complete\necebeec079cf: Pull complete\n63b48972323a: Pull complete\nDigest: sha256:49b4eac11640066bc72c74b70202478b7d431c7d8918e0973d6e4aeb8b3129d2\nStatus: Downloaded newer image for golang:1.15.6-alpine3.12\n ---> 1463476d8605\nStep 2/17 : RUN mkdir /stategate\n ---> Running in b963fd6533d4\nRemoving intermediate container b963fd6533d4\n ---> 5d3b53a140de\nStep 3/17 : RUN apk --update add ca-certificates build-base\n ---> Running in 30288de07433\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing libgcc (9.3.0-r2)\n(2/20) Installing libstdc++ (9.3.0-r2)\n(3/20) Installing binutils (2.34-r2)\n(4/20) Installing libmagic (5.38-r0)\n(5/20) Installing file (5.38-r0)\n(6/20) Installing gmp (6.2.1-r1)\n(7/20) Installing isl (0.18-r0)\n(8/20) Installing libgomp (9.3.0-r2)\n(9/20) Installing libatomic (9.3.0-r2)\n(10/20) Installing libgphobos (9.3.0-r2)\n(11/20) Installing mpfr4 (4.0.2-r4)\n(12/20) Installing mpc1 (1.1.0-r1)\n(13/20) Installing gcc (9.3.0-r2)\n(14/20) Installing musl-dev (1.1.24-r10)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (9.3.0-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r0)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r2)\nExecuting busybox-1.31.1-r19.trigger\nOK: 207 MiB in 35 packages\nRemoving intermediate container 30288de07433\n ---> 79306d4c405d\nStep 4/17 : RUN apk add make git\n ---> Running in f8c23090429c\n(1/5) Installing nghttp2-libs (1.41.0-r0)\n(2/5) Installing libcurl (7.79.1-r1)\n(3/5) Installing expat (2.2.10-r4)\n(4/5) Installing pcre2 (10.35-r0)\n(5/5) Installing git (2.26.3-r1)\nExecuting busybox-1.31.1-r19.trigger\nOK: 222 MiB in 40 packages\nRemoving intermediate container f8c23090429c\n ---> 8c23abb1d1b1\nStep 5/17 : WORKDIR /stategate\n ---> Running in 1d3a588bca35\nRemoving intermediate container 1d3a588bca35\n ---> 01d902cba4f9\nStep 6/17 : COPY go.mod .\n ---> 8c792db06847\nStep 7/17 : COPY go.sum .\n ---> aad4e7cc431d\nStep 8/17 : RUN go mod download\n ---> Running in 82d2cbde6c8c\nRemoving intermediate container 82d2cbde6c8c\n ---> 67689983328f\nStep 9/17 : COPY . .\n ---> c72167aa7ec2\nStep 10/17 : RUN go install ./cmd/...\n ---> Running in 939fbc400c07\nRemoving intermediate container 939fbc400c07\n ---> 58c296d0957f\nStep 11/17 : FROM alpine\n ---> 49176f190c7e\nStep 12/17 : RUN apk add --no-cache ca-certificates\n ---> Running in 9a069b3e3026\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 9a069b3e3026\n ---> 7371482087d8\nStep 13/17 : COPY --from=build-env /go/bin/ /usr/local/bin/\n ---> 8a3b6c43026a\nStep 14/17 : WORKDIR /workspace\n ---> Running in 851e6b26bebf\nRemoving intermediate container 851e6b26bebf\n ---> ab3c2337ef95\nStep 15/17 : EXPOSE 8080\n ---> Running in 216deac365c4\nRemoving intermediate container 216deac365c4\n ---> aef6ada6fdcb\nStep 16/17 : EXPOSE 8081\n ---> Running in 6e35b3fd0931\nRemoving intermediate container 6e35b3fd0931\n ---> e1b958ca5993\nStep 17/17 : ENTRYPOINT [\"/usr/local/bin/stategate\"]\n ---> Running in c792356e9e1b\nRemoving intermediate container c792356e9e1b\n ---> 14b3221b81da\nSuccessfully built 14b3221b81da\nSuccessfully tagged stategate:latest\n","stderr":"","imageSize":47342079},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":47}},{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"FROM golang:1.15.6-alpine3.12 as build-env\n\nRUN mkdir /stategate\nRUN apk --update --no-cache add ca-certificates build-base\nRUN apk add --no-cache make git\nWORKDIR /stategate\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\nCOPY . .\nRUN go install ./cmd/...\n\nFROM alpine\nRUN apk add --no-cache ca-certificates\nCOPY --from=build-env /go/bin/ /usr/local/bin/\nWORKDIR /workspace\nEXPOSE 8080\nEXPOSE 8081\n\nENTRYPOINT [\"/usr/local/bin/stategate\"]"},"repairedBuild":{"startTimestamp":1672791650814,"endTimestamp":1672791770534,"error":null,"stdout":"Sending build context to Docker daemon  2.553MB\r\r\nStep 1/17 : FROM golang:1.15.6-alpine3.12 as build-env\n ---> 1463476d8605\nStep 2/17 : RUN mkdir /stategate\n ---> Running in 430c952b0bfa\nRemoving intermediate container 430c952b0bfa\n ---> 9db246ee51bf\nStep 3/17 : RUN apk --update --no-cache add ca-certificates build-base\n ---> Running in 4332f878726b\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing libgcc (9.3.0-r2)\n(2/20) Installing libstdc++ (9.3.0-r2)\n(3/20) Installing binutils (2.34-r2)\n(4/20) Installing libmagic (5.38-r0)\n(5/20) Installing file (5.38-r0)\n(6/20) Installing gmp (6.2.1-r1)\n(7/20) Installing isl (0.18-r0)\n(8/20) Installing libgomp (9.3.0-r2)\n(9/20) Installing libatomic (9.3.0-r2)\n(10/20) Installing libgphobos (9.3.0-r2)\n(11/20) Installing mpfr4 (4.0.2-r4)\n(12/20) Installing mpc1 (1.1.0-r1)\n(13/20) Installing gcc (9.3.0-r2)\n(14/20) Installing musl-dev (1.1.24-r10)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (9.3.0-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r0)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r2)\nExecuting busybox-1.31.1-r19.trigger\nOK: 207 MiB in 35 packages\nRemoving intermediate container 4332f878726b\n ---> 38fed5c2e68a\nStep 4/17 : RUN apk add --no-cache make git\n ---> Running in 79168d8ea204\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing nghttp2-libs (1.41.0-r0)\n(2/5) Installing libcurl (7.79.1-r1)\n(3/5) Installing expat (2.2.10-r4)\n(4/5) Installing pcre2 (10.35-r0)\n(5/5) Installing git (2.26.3-r1)\nExecuting busybox-1.31.1-r19.trigger\nOK: 222 MiB in 40 packages\nRemoving intermediate container 79168d8ea204\n ---> 3fb2c641ca21\nStep 5/17 : WORKDIR /stategate\n ---> Running in 50ed81646287\nRemoving intermediate container 50ed81646287\n ---> 7093d9579115\nStep 6/17 : COPY go.mod .\n ---> 870b93f1b84c\nStep 7/17 : COPY go.sum .\n ---> 18496eb058fa\nStep 8/17 : RUN go mod download\n ---> Running in f19bac1aa3cc\nRemoving intermediate container f19bac1aa3cc\n ---> 01ebc5e0606c\nStep 9/17 : COPY . .\n ---> b0e7ca55279e\nStep 10/17 : RUN go install ./cmd/...\n ---> Running in 1b73d0d4a152\nRemoving intermediate container 1b73d0d4a152\n ---> 932230802c1b\nStep 11/17 : FROM alpine\n ---> 49176f190c7e\nStep 12/17 : RUN apk add --no-cache ca-certificates\n ---> Running in 6374fc249e79\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 6374fc249e79\n ---> 6819901ecc5e\nStep 13/17 : COPY --from=build-env /go/bin/ /usr/local/bin/\n ---> 71711221575c\nStep 14/17 : WORKDIR /workspace\n ---> Running in e7e5579dc299\nRemoving intermediate container e7e5579dc299\n ---> 03bbcc523b1c\nStep 15/17 : EXPOSE 8080\n ---> Running in 7a808de498d8\nRemoving intermediate container 7a808de498d8\n ---> 7c6f862ed705\nStep 16/17 : EXPOSE 8081\n ---> Running in aaba711b5714\nRemoving intermediate container aaba711b5714\n ---> f50962a3aae7\nStep 17/17 : ENTRYPOINT [\"/usr/local/bin/stategate\"]\n ---> Running in e400798ec282\nRemoving intermediate container e400798ec282\n ---> 2252baa6656f\nSuccessfully built 2252baa6656f\nSuccessfully tagged stategate:latest\n","stderr":"","imageSize":47342079},"endTime":1672791770724}