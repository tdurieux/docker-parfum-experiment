{"repository":"https://github.com/sksmith/go-micro-example","dockerfilePath":"Dockerfile","startTime":1672726404280,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sksmith/go-micro-example'...\n","error":null,"commit":"cab914b98c6e647bcb260b05c6f062594a2af104"},"originalBuild":{"startTimestamp":1672726405141,"endTimestamp":1672726435866,"error":null,"stdout":"Sending build context to Docker daemon  691.7kB\r\r\nStep 1/14 : FROM golang:alpine as builder\nalpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 2/14 : WORKDIR /app\n ---> Running in 836082142c6a\nRemoving intermediate container 836082142c6a\n ---> 4e454d4fed37\nStep 3/14 : COPY . .\n ---> 17fcc1c27dd0\nStep 4/14 : ARG VER=NOT_SUPPLIED\n ---> Running in 959625bd430b\nRemoving intermediate container 959625bd430b\n ---> 7daa97601d2b\nStep 5/14 : ARG SHA1=NOT_SUPPLIED\n ---> Running in 8a48a73c2b1a\nRemoving intermediate container 8a48a73c2b1a\n ---> 2ade7572ffb8\nStep 6/14 : ARG NOW=NOT_SUPPLIED\n ---> Running in 6a352f1403f8\nRemoving intermediate container 6a352f1403f8\n ---> 4581f07093a6\nStep 7/14 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build     -ldflags \"-X github.com/sksmith/go-micro-example/config.AppVersion=$VER     -X github.com/sksmith/go-micro-example/config.Sha1Version=$SHA1     -X github.com/sksmith/go-micro-example/config.BuildTime=$NOW\"     -o ./go-micro-example ./cmd\n ---> Running in 7aae87526d4e\n\u001b[91mgo: downloading github.com/rs/zerolog v1.20.0\ngo: downloading github.com/jackc/pgx/v4 v4.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/common-nighthawk/go-figure v0.0.0-20210622060536-734e95fb86be\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/ws v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/streadway/amqp v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang-migrate/migrate/v4 v4.13.0\ngo: downloading github.com/jackc/pgconn v1.10.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210817164053-32db794688a5\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.10.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/chi v4.1.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/render v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/cors v1.2.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.66.2\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.5\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\ngo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\ngo: downloading github.com/pelletier/go-toml v1.9.4\ngo: downloading github.com/spf13/cast v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.5.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211210111614-af8b64212486\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading github.com/prometheus/procfs v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\ngo: downloading github.com/jackc/pgproto3/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/pool v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/httphead v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/puddle v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgtype v1.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0mRemoving intermediate container 7aae87526d4e\n ---> 5d043c0ffe30\nStep 8/14 : RUN apk add --update ca-certificates\n ---> Running in ba6ef64a9586\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 8 MiB in 16 packages\nRemoving intermediate container ba6ef64a9586\n ---> aa639f1901dd\nStep 9/14 : FROM scratch\n ---> \nStep 10/14 : WORKDIR /app\n ---> Running in 4e9e5725b9be\nRemoving intermediate container 4e9e5725b9be\n ---> ba71be2bdf36\nStep 11/14 : COPY --from=builder /app/go-micro-example /usr/bin/\n ---> 67a0136d5ea1\nStep 12/14 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 8553ce70eecd\nStep 13/14 : COPY --from=builder /app/config.yml /app\n ---> c4c07bfa16d0\nStep 14/14 : ENTRYPOINT [\"go-micro-example\"]\n ---> Running in 6f409ac51cc6\nRemoving intermediate container 6f409ac51cc6\n ---> 3a41b6f20be9\nSuccessfully built 3a41b6f20be9\nSuccessfully tagged go-micro-example:latest\n","stderr":"","imageSize":20977807},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:alpine as builder\n\nWORKDIR /app\n\nCOPY . .\n\nARG VER=NOT_SUPPLIED\nARG SHA1=NOT_SUPPLIED\nARG NOW=NOT_SUPPLIED\n\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build \\\n    -ldflags \"-X github.com/sksmith/go-micro-example/config.AppVersion=$VER \\\n    -X github.com/sksmith/go-micro-example/config.Sha1Version=$SHA1 \\\n    -X github.com/sksmith/go-micro-example/config.BuildTime=$NOW\" \\\n    -o ./go-micro-example ./cmd\n\nRUN apk add --no-cache --update ca-certificates\n\nFROM scratch\n\nWORKDIR /app\n\nCOPY --from=builder /app/go-micro-example /usr/bin/\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /app/config.yml /app\n\nENTRYPOINT [\"go-micro-example\"]\n"},"repairedBuild":{"startTimestamp":1672726436142,"endTimestamp":1672726475307,"error":null,"stdout":"Sending build context to Docker daemon  691.7kB\r\r\nStep 1/14 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/14 : WORKDIR /app\n ---> Running in bd3992c55da8\nRemoving intermediate container bd3992c55da8\n ---> a5cc5087b2a3\nStep 3/14 : COPY . .\n ---> e5e9789a5faa\nStep 4/14 : ARG VER=NOT_SUPPLIED\n ---> Running in 5f4a91865965\nRemoving intermediate container 5f4a91865965\n ---> 2f9e7ef4b3bb\nStep 5/14 : ARG SHA1=NOT_SUPPLIED\n ---> Running in acab7cf544d5\nRemoving intermediate container acab7cf544d5\n ---> e909fe54fbca\nStep 6/14 : ARG NOW=NOT_SUPPLIED\n ---> Running in 6f96dab24c9e\nRemoving intermediate container 6f96dab24c9e\n ---> 09aeefbae70f\nStep 7/14 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build     -ldflags \"-X github.com/sksmith/go-micro-example/config.AppVersion=$VER     -X github.com/sksmith/go-micro-example/config.Sha1Version=$SHA1     -X github.com/sksmith/go-micro-example/config.BuildTime=$NOW\"     -o ./go-micro-example ./cmd\n ---> Running in e63db2b4075f\n\u001b[91mgo: downloading github.com/jackc/pgx/v4 v4.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/common-nighthawk/go-figure v0.0.0-20210622060536-734e95fb86be\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/ws v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/streadway/amqp v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang-migrate/migrate/v4 v4.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.10.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.10.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210817164053-32db794688a5\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/chi v4.1.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/cors v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-chi/render v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\ngo: downloading github.com/jackc/pgproto3/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\ngo: downloading golang.org/x/text v0.3.7\ngo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\ngo: downloading github.com/subosito/gotenv v1.2.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.66.2\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.4\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.4.1\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.5\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/pool v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/httphead v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/puddle v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgtype v1.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\ngo: downloading github.com/prometheus/common v0.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211210111614-af8b64212486\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.0\ngo: downloading github.com/lib/pq v1.10.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0mRemoving intermediate container e63db2b4075f\n ---> 666caaf70ed4\nStep 8/14 : RUN apk add --no-cache --update ca-certificates\n ---> Running in d3c65dd7787e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 8 MiB in 16 packages\nRemoving intermediate container d3c65dd7787e\n ---> 55daf0d06a0e\nStep 9/14 : FROM scratch\n ---> \nStep 10/14 : WORKDIR /app\n ---> Running in 421d6bd94ef8\nRemoving intermediate container 421d6bd94ef8\n ---> 59228a48dd64\nStep 11/14 : COPY --from=builder /app/go-micro-example /usr/bin/\n ---> 8aab18260836\nStep 12/14 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 1b807feb523c\nStep 13/14 : COPY --from=builder /app/config.yml /app\n ---> dd71300e9b71\nStep 14/14 : ENTRYPOINT [\"go-micro-example\"]\n ---> Running in 0abc1948530a\nRemoving intermediate container 0abc1948530a\n ---> 793cde2ed3a2\nSuccessfully built 793cde2ed3a2\nSuccessfully tagged go-micro-example:latest\n","stderr":"","imageSize":20977807},"endTime":1672726475751}