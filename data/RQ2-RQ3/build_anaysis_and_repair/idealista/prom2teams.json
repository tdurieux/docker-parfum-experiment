{"repository":"https://github.com/idealista/prom2teams","dockerfilePath":"Dockerfile","startTime":1672576600390,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/idealista/prom2teams'...\n","error":null,"commit":"340d47d30d4263d7a5608206c5e884553c2dc0e2"},"originalBuild":{"startTimestamp":1672576601273,"endTimestamp":1672576660934,"error":null,"stdout":"Sending build context to Docker daemon  127.5kB\r\r\nStep 1/19 : FROM python:3.8-alpine AS builder\n3.8-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Pulling fs layer\nf9fb575d7a9e: Pulling fs layer\n59c63ce3438e: Pulling fs layer\n4ceace26d08f: Pulling fs layer\n4ceace26d08f: Waiting\n59c63ce3438e: Verifying Checksum\n59c63ce3438e: Download complete\n7ec3a91b66d9: Download complete\nf9fb575d7a9e: Verifying Checksum\nf9fb575d7a9e: Download complete\n7ec3a91b66d9: Pull complete\n4ceace26d08f: Verifying Checksum\n4ceace26d08f: Download complete\nf9fb575d7a9e: Pull complete\n59c63ce3438e: Pull complete\n4ceace26d08f: Pull complete\nDigest: sha256:7c7063333021414512e2d47232eae8cbdec46a2724265c6817f9eab29ca6e3c8\nStatus: Downloaded newer image for python:3.8-alpine\n ---> 13f1e3678aa9\nStep 2/19 : WORKDIR /prom2teams\n ---> Running in e58ad1186809\nRemoving intermediate container e58ad1186809\n ---> 231e3f2f80bb\nStep 3/19 : COPY LICENSE         MANIFEST.in         README.md         requirements.txt         setup.py         ./\n ---> c6fb83a28389\nStep 4/19 : COPY prom2teams/ prom2teams\n ---> e69e6f56a477\nStep 5/19 : COPY bin/ bin\n ---> 6903ca13dba3\nStep 6/19 : RUN apk add gcc libc-dev yaml-dev linux-headers --no-cache         && python setup.py bdist_wheel\n ---> Running in e86cc82310cc\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/16) Installing libgcc (12.2.1_git20220924-r4)\n(2/16) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/16) Installing binutils (2.39-r2)\n(4/16) Installing libgomp (12.2.1_git20220924-r4)\n(5/16) Installing libatomic (12.2.1_git20220924-r4)\n(6/16) Installing gmp (6.2.1-r2)\n(7/16) Installing isl25 (0.25-r0)\n(8/16) Installing mpfr4 (4.1.0-r0)\n(9/16) Installing mpc1 (1.2.1-r1)\n(10/16) Installing gcc (12.2.1_git20220924-r4)\n(11/16) Installing musl-dev (1.2.3-r4)\n(12/16) Installing libc-dev (0.7.2-r3)\n(13/16) Installing linux-headers (5.19.5-r0)\n(14/16) Installing pkgconf (1.9.3-r0)\n(15/16) Installing yaml (0.2.5-r0)\n(16/16) Installing yaml-dev (0.2.5-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 168 MiB in 53 packages\nrunning bdist_wheel\nrunning build\nrunning build_py\ncreating build\ncreating build/lib\ncreating build/lib/prom2teams\ncopying prom2teams/__init__.py -> build/lib/prom2teams\ncreating build/lib/prom2teams/prometheus\ncopying prom2teams/prometheus/__init__.py -> build/lib/prom2teams/prometheus\ncopying prom2teams/prometheus/message_schema.py -> build/lib/prom2teams/prometheus\ncreating build/lib/prom2teams/app\ncopying prom2teams/app/api.py -> build/lib/prom2teams/app\ncopying prom2teams/app/__init__.py -> build/lib/prom2teams/app\ncopying prom2teams/app/sender.py -> build/lib/prom2teams/app\ncopying prom2teams/app/configuration.py -> build/lib/prom2teams/app\ncopying prom2teams/app/exceptions.py -> build/lib/prom2teams/app\ncopying prom2teams/app/teams_client.py -> build/lib/prom2teams/app\ncreating build/lib/prom2teams/config\ncopying prom2teams/config/__init__.py -> build/lib/prom2teams/config\ncopying prom2teams/config/settings.py -> build/lib/prom2teams/config\ncreating build/lib/prom2teams/teams\ncopying prom2teams/teams/__init__.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/alert_mapper.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/teams_alert_validation.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/teams_alert_schema.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/composer.py -> build/lib/prom2teams/teams\ncreating build/lib/prom2teams/app/versions\ncopying prom2teams/app/versions/__init__.py -> build/lib/prom2teams/app/versions\ncreating build/lib/prom2teams/app/versions/v2\ncopying prom2teams/app/versions/v2/__init__.py -> build/lib/prom2teams/app/versions/v2\ncopying prom2teams/app/versions/v2/namespace.py -> build/lib/prom2teams/app/versions/v2\ncopying prom2teams/app/versions/v2/model.py -> build/lib/prom2teams/app/versions/v2\ncreating build/lib/prom2teams/app/versions/v1\ncopying prom2teams/app/versions/v1/__init__.py -> build/lib/prom2teams/app/versions/v1\ncopying prom2teams/app/versions/v1/namespace.py -> build/lib/prom2teams/app/versions/v1\ncopying prom2teams/app/versions/v1/model.py -> build/lib/prom2teams/app/versions/v1\nrunning egg_info\ncreating prom2teams.egg-info\nwriting prom2teams.egg-info/PKG-INFO\nwriting dependency_links to prom2teams.egg-info/dependency_links.txt\nwriting requirements to prom2teams.egg-info/requires.txt\nwriting top-level names to prom2teams.egg-info/top_level.txt\nwriting manifest file 'prom2teams.egg-info/SOURCES.txt'\nreading manifest file 'prom2teams.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nadding license file 'LICENSE'\nwriting manifest file 'prom2teams.egg-info/SOURCES.txt'\ncreating build/lib/prom2teams/resources\ncreating build/lib/prom2teams/resources/templates\ncopying prom2teams/resources/templates/teams.j2 -> build/lib/prom2teams/resources/templates\ncreating build/lib/prom2teams/app/static\ncopying prom2teams/app/static/favicon.ico -> build/lib/prom2teams/app/static\ncopying prom2teams/config/logging.yml -> build/lib/prom2teams/config\nrunning build_scripts\ncreating build/scripts-3.8\ncopying and adjusting bin/prom2teams -> build/scripts-3.8\ncopying bin/prom2teams_uwsgi -> build/scripts-3.8\nchanging mode of build/scripts-3.8/prom2teams from 644 to 755\ninstalling to build/bdist.linux-x86_64/wheel\nrunning install\nrunning install_lib\ncreating build/bdist.linux-x86_64\ncreating build/bdist.linux-x86_64/wheel\ncreating build/bdist.linux-x86_64/wheel/prom2teams\ncopying build/lib/prom2teams/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams\ncreating build/bdist.linux-x86_64/wheel/prom2teams/prometheus\ncopying build/lib/prom2teams/prometheus/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/prometheus\ncopying build/lib/prom2teams/prometheus/message_schema.py -> build/bdist.linux-x86_64/wheel/prom2teams/prometheus\ncreating build/bdist.linux-x86_64/wheel/prom2teams/resources\ncreating build/bdist.linux-x86_64/wheel/prom2teams/resources/templates\ncopying build/lib/prom2teams/resources/templates/teams.j2 -> build/bdist.linux-x86_64/wheel/prom2teams/resources/templates\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/api.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/sender.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/versions\ncopying build/lib/prom2teams/app/versions/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncopying build/lib/prom2teams/app/versions/v2/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncopying build/lib/prom2teams/app/versions/v2/namespace.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncopying build/lib/prom2teams/app/versions/v2/model.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/versions/v1/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/versions/v1/namespace.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/versions/v1/model.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/configuration.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/exceptions.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/teams_client.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/static\ncopying build/lib/prom2teams/app/static/favicon.ico -> build/bdist.linux-x86_64/wheel/prom2teams/app/static\ncreating build/bdist.linux-x86_64/wheel/prom2teams/config\ncopying build/lib/prom2teams/config/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/config\ncopying build/lib/prom2teams/config/logging.yml -> build/bdist.linux-x86_64/wheel/prom2teams/config\ncopying build/lib/prom2teams/config/settings.py -> build/bdist.linux-x86_64/wheel/prom2teams/config\ncreating build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/alert_mapper.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/teams_alert_validation.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/teams_alert_schema.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/composer.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\nrunning install_data\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/data\ncreating build/bdist.linux-x86_64/wheel/usr\ncreating build/bdist.linux-x86_64/wheel/usr/local\ncreating build/bdist.linux-x86_64/wheel/usr/local/etc\ncreating build/bdist.linux-x86_64/wheel/usr/local/etc/prom2teams\ncopying bin/wsgi.py -> build/bdist.linux-x86_64/wheel/usr/local/etc/prom2teams\nrunning install_egg_info\nCopying prom2teams.egg-info to build/bdist.linux-x86_64/wheel/prom2teams-4.2.0-py3.8.egg-info\nrunning install_scripts\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts\ncopying build/scripts-3.8/prom2teams_uwsgi -> build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts\ncopying build/scripts-3.8/prom2teams -> build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts\nchanging mode of build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts/prom2teams_uwsgi to 775\nchanging mode of build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts/prom2teams to 755\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.dist-info/WHEEL\ncreating 'dist/prom2teams-4.2.0-py3-none-any.whl' and adding 'build/bdist.linux-x86_64/wheel' to it\nadding 'prom2teams/__init__.py'\nadding 'prom2teams/app/__init__.py'\nadding 'prom2teams/app/api.py'\nadding 'prom2teams/app/configuration.py'\nadding 'prom2teams/app/exceptions.py'\nadding 'prom2teams/app/sender.py'\nadding 'prom2teams/app/teams_client.py'\nadding 'prom2teams/app/static/favicon.ico'\nadding 'prom2teams/app/versions/__init__.py'\nadding 'prom2teams/app/versions/v1/__init__.py'\nadding 'prom2teams/app/versions/v1/model.py'\nadding 'prom2teams/app/versions/v1/namespace.py'\nadding 'prom2teams/app/versions/v2/__init__.py'\nadding 'prom2teams/app/versions/v2/model.py'\nadding 'prom2teams/app/versions/v2/namespace.py'\nadding 'prom2teams/config/__init__.py'\nadding 'prom2teams/config/logging.yml'\nadding 'prom2teams/config/settings.py'\nadding 'prom2teams/prometheus/__init__.py'\nadding 'prom2teams/prometheus/message_schema.py'\nadding 'prom2teams/resources/templates/teams.j2'\nadding 'prom2teams/teams/__init__.py'\nadding 'prom2teams/teams/alert_mapper.py'\nadding 'prom2teams/teams/composer.py'\nadding 'prom2teams/teams/teams_alert_schema.py'\nadding 'prom2teams/teams/teams_alert_validation.py'\nadding 'prom2teams-4.2.0.data/scripts/prom2teams'\nadding 'prom2teams-4.2.0.data/scripts/prom2teams_uwsgi'\nadding 'usr/local/etc/prom2teams/wsgi.py'\nadding 'prom2teams-4.2.0.dist-info/LICENSE'\nadding 'prom2teams-4.2.0.dist-info/METADATA'\nadding 'prom2teams-4.2.0.dist-info/WHEEL'\nadding 'prom2teams-4.2.0.dist-info/top_level.txt'\nadding 'prom2teams-4.2.0.dist-info/RECORD'\nremoving build/bdist.linux-x86_64/wheel\nRemoving intermediate container e86cc82310cc\n ---> b3dc4e3a93fe\nStep 7/19 : FROM python:3.8-alpine\n ---> 13f1e3678aa9\nStep 8/19 : LABEL maintainer=\"labs@idealista.com\"\n ---> Running in 53da529259a1\nRemoving intermediate container 53da529259a1\n ---> c0d784bec508\nStep 9/19 : EXPOSE 8089\n ---> Running in 23618fba6138\nRemoving intermediate container 23618fba6138\n ---> 70ee2c1cab74\nStep 10/19 : EXPOSE 9090\n ---> Running in ebda0c6b0271\nRemoving intermediate container ebda0c6b0271\n ---> 7e5ee9dde0cf\nStep 11/19 : WORKDIR /opt/prom2teams\n ---> Running in e4da498ca7f6\nRemoving intermediate container e4da498ca7f6\n ---> 176714d55661\nStep 12/19 : COPY docker/rootfs .\n ---> 22e48d778e3a\nStep 13/19 : COPY --from=builder /prom2teams/dist .\n ---> 941a82a51567\nStep 14/19 : COPY bin/wsgi.py ./wsgi.py\n ---> db8653efc9d4\nStep 15/19 : RUN apk add gcc libc-dev yaml-dev linux-headers pcre pcre-dev --no-cache \t&& pip install prom2teams*.whl\n ---> Running in 29124def1af6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing libgcc (12.2.1_git20220924-r4)\n(2/21) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/21) Installing binutils (2.39-r2)\n(4/21) Installing libgomp (12.2.1_git20220924-r4)\n(5/21) Installing libatomic (12.2.1_git20220924-r4)\n(6/21) Installing gmp (6.2.1-r2)\n(7/21) Installing isl25 (0.25-r0)\n(8/21) Installing mpfr4 (4.1.0-r0)\n(9/21) Installing mpc1 (1.2.1-r1)\n(10/21) Installing gcc (12.2.1_git20220924-r4)\n(11/21) Installing musl-dev (1.2.3-r4)\n(12/21) Installing libc-dev (0.7.2-r3)\n(13/21) Installing linux-headers (5.19.5-r0)\n(14/21) Installing pcre (8.45-r2)\n(15/21) Installing libpcre16 (8.45-r2)\n(16/21) Installing libpcre32 (8.45-r2)\n(17/21) Installing libpcrecpp (8.45-r2)\n(18/21) Installing pkgconf (1.9.3-r0)\n(19/21) Installing pcre-dev (8.45-r2)\n(20/21) Installing yaml (0.2.5-r0)\n(21/21) Installing yaml-dev (0.2.5-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 171 MiB in 58 packages\nProcessing ./prom2teams-4.2.0-py3-none-any.whl\nCollecting itsdangerous==2.0.1\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting jinja2==2.11.3\n  Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.7/125.7 KB 6.1 MB/s eta 0:00:00\nCollecting uwsgi==2.0.20\n  Downloading uwsgi-2.0.20.tar.gz (804 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 804.9/804.9 KB 26.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting marshmallow==3.0.0rc6\n  Downloading marshmallow-3.0.0rc6-py2.py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.8/42.8 KB 3.9 MB/s eta 0:00:00\nCollecting DeepDiff==4.3.0\n  Downloading deepdiff-4.3.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.3/48.3 KB 3.1 MB/s eta 0:00:00\nCollecting pyrsistent==0.16.0\n  Downloading pyrsistent-0.16.0.tar.gz (108 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 108.0/108.0 KB 10.8 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting Flask==1.0.2\n  Downloading Flask-1.0.2-py2.py3-none-any.whl (91 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 91.4/91.4 KB 9.4 MB/s eta 0:00:00\nCollecting zipp==3.1.0\n  Downloading zipp-3.1.0-py3-none-any.whl (4.9 kB)\nCollecting MarkupSafe==1.1.1\n  Downloading MarkupSafe-1.1.1.tar.gz (19 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting flask-restplus==0.12.1\n  Downloading flask_restplus-0.12.1-py2.py3-none-any.whl (2.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.5/2.5 MB 35.2 MB/s eta 0:00:00\nCollecting requests==2.20.1\n  Downloading requests-2.20.1-py2.py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.0/58.0 KB 4.1 MB/s eta 0:00:00\nCollecting prometheus-flask-exporter==0.9.0\n  Downloading prometheus_flask_exporter-0.9.0.tar.gz (15 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting tenacity==6.2.0\n  Downloading tenacity-6.2.0-py2.py3-none-any.whl (24 kB)\nCollecting werkzeug==0.16.1\n  Downloading Werkzeug-0.16.1-py2.py3-none-any.whl (327 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 327.4/327.4 KB 26.7 MB/s eta 0:00:00\nCollecting pyyaml==5.4\n  Downloading PyYAML-5.4.tar.gz (174 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 174.8/174.8 KB 11.9 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting ordered-set>=3.1.1\n  Downloading ordered_set-4.1.0-py3-none-any.whl (7.6 kB)\nCollecting click>=5.1\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 KB 14.3 MB/s eta 0:00:00\nCollecting six>=1.3.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting jsonschema\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 KB 9.7 MB/s eta 0:00:00\nCollecting aniso8601>=0.82\n  Downloading aniso8601-9.0.1-py2.py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 KB 2.9 MB/s eta 0:00:00\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 KB 35.7 MB/s eta 0:00:00\nCollecting prometheus_client\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.1/60.1 KB 2.6 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 2.5 MB/s eta 0:00:00\nCollecting urllib3<1.25,>=1.21.1\n  Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.8/118.8 KB 2.6 MB/s eta 0:00:00\nCollecting idna<2.8,>=2.5\n  Downloading idna-2.7-py2.py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.2/58.2 KB 1.4 MB/s eta 0:00:00\nCollecting chardet<3.1.0,>=3.0.2\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 KB 2.4 MB/s eta 0:00:00\nCollecting importlib-resources>=1.4.0\n  Downloading importlib_resources-5.10.2-py3-none-any.whl (34 kB)\nCollecting pkgutil-resolve-name>=1.3.10\n  Downloading pkgutil_resolve_name-1.3.10-py3-none-any.whl (4.7 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 KB 6.6 MB/s eta 0:00:00\nBuilding wheels for collected packages: MarkupSafe, prometheus-flask-exporter, pyrsistent, pyyaml, uwsgi\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-1.1.1-cp38-cp38-linux_x86_64.whl size=17083 sha256=36644f2880488a68488de9053a1ec57807093625b95e178f01b3ad7ebaf07714\n  Stored in directory: /root/.cache/pip/wheels/0c/61/d6/4db4f4c28254856e82305fdb1f752ed7f8482e54c384d8cb0e\n  Building wheel for prometheus-flask-exporter (setup.py): started\n  Building wheel for prometheus-flask-exporter (setup.py): finished with status 'done'\n  Created wheel for prometheus-flask-exporter: filename=prometheus_flask_exporter-0.9.0-py3-none-any.whl size=13361 sha256=25b2878455375b915ac38669633f43691ebb992cf3bc034a24942beeaa691190\n  Stored in directory: /root/.cache/pip/wheels/91/5c/54/8cb97876a954f26a284bd814612aaef92a258c6d1cca5c8ded\n  Building wheel for pyrsistent (setup.py): started\n  Building wheel for pyrsistent (setup.py): finished with status 'done'\n  Created wheel for pyrsistent: filename=pyrsistent-0.16.0-cp38-cp38-linux_x86_64.whl size=72660 sha256=c32c008244f018e1c9e971be592c15aa2d8a02e9498ebd8d4f14bd5ed9af6920\n  Stored in directory: /root/.cache/pip/wheels/17/be/0f/727fb20889ada6aaaaba861f5f0eb21663533915429ad43f28\n  Building wheel for pyyaml (pyproject.toml): started\n  Building wheel for pyyaml (pyproject.toml): finished with status 'done'\n  Created wheel for pyyaml: filename=PyYAML-5.4-cp38-cp38-linux_x86_64.whl size=154680 sha256=4faffe68ba2f066323e3c6e2bccfdd83ac98c9fb055f44e86848b5ccd0dbcb0f\n  Stored in directory: /root/.cache/pip/wheels/89/b4/5f/cb055d6b1decb1050d7a3620abf3bca515f16d28e8c42ae23e\n  Building wheel for uwsgi (setup.py): started\n  Building wheel for uwsgi (setup.py): finished with status 'done'\n  Created wheel for uwsgi: filename=uWSGI-2.0.20-cp38-cp38-linux_x86_64.whl size=548332 sha256=ffe1bf72e4010873badc4fa41ce5bf7fc39c95ca18c2acf0e1d55a817f5433c2\n  Stored in directory: /root/.cache/pip/wheels/cb/4d/54/002a215100a8c4e125654600f0a4304dae742442ddc4ba6ea1\nSuccessfully built MarkupSafe prometheus-flask-exporter pyrsistent pyyaml uwsgi\nInstalling collected packages: uwsgi, pytz, idna, chardet, aniso8601, zipp, werkzeug, urllib3, six, pyyaml, prometheus_client, pkgutil-resolve-name, ordered-set, marshmallow, MarkupSafe, itsdangerous, click, certifi, attrs, tenacity, requests, pyrsistent, jinja2, importlib-resources, DeepDiff, jsonschema, Flask, prometheus-flask-exporter, flask-restplus, prom2teams\nSuccessfully installed DeepDiff-4.3.0 Flask-1.0.2 MarkupSafe-1.1.1 aniso8601-9.0.1 attrs-22.2.0 certifi-2022.12.7 chardet-3.0.4 click-8.1.3 flask-restplus-0.12.1 idna-2.7 importlib-resources-5.10.2 itsdangerous-2.0.1 jinja2-2.11.3 jsonschema-4.17.3 marshmallow-3.0.0rc6 ordered-set-4.1.0 pkgutil-resolve-name-1.3.10 prom2teams-4.2.0 prometheus-flask-exporter-0.9.0 prometheus_client-0.15.0 pyrsistent-0.16.0 pytz-2022.7 pyyaml-5.4 requests-2.20.1 six-1.16.0 tenacity-6.2.0 urllib3-1.24.3 uwsgi-2.0.20 werkzeug-0.16.1 zipp-3.1.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 29124def1af6\n ---> fb032def4e08\nStep 16/19 : RUN addgroup -g \"101\" -S prom2teams &&         adduser -S prom2teams -G prom2teams -u \"101\" &&         mkdir -p /var/log/prom2teams &&         mkdir -p /opt/prom2teams/metrics &&         chown -R prom2teams:prom2teams /var/log/prom2teams &&         chown -R prom2teams:prom2teams /opt/prom2teams\n ---> Running in c43874308891\nRemoving intermediate container c43874308891\n ---> abd907cf2805\nStep 17/19 : USER prom2teams\n ---> Running in c2ab26787aa8\nRemoving intermediate container c2ab26787aa8\n ---> 252dbbd1dad7\nStep 18/19 : ENV PROM2TEAMS_PORT=\"8089\"         PROM2TEAMS_HOST=\"localhost\"         PROM2TEAMS_LOGLEVEL=\"INFO\"         PROM2TEAMS_CONNECTOR=\"\"         PROM2TEAMS_GROUP_ALERTS_BY=\"\"         APP_CONFIG_FILE=\"/opt/prom2teams/config.ini\"         PROM2TEAMS_PROMETHEUS_METRICS=\"true\"         UWSGI_PROCESSES=\"1\"         UWSGI_THREADS=\"1\"         UWSGI_PORT=\"8089\"         UWSGI_HOST=\"0.0.0.0\"         UWSGI_PROTOCOL=\"http\"         PROMETHEUS_MULTIPROC_PORT=\"9090\"         PROMETHEUS_MULTIPROC_DIR=\"/opt/prom2teams/metrics\"         prometheus_multiproc_dir=\"/opt/prom2teams/metrics\"\n ---> Running in a1f5cf15996b\nRemoving intermediate container a1f5cf15996b\n ---> b0daa126e25c\nStep 19/19 : ENTRYPOINT [\"sh\", \"prom2teams_start.sh\"]\n ---> Running in d54a1655fa3c\nRemoving intermediate container d54a1655fa3c\n ---> c38a72eafae9\nSuccessfully built c38a72eafae9\nSuccessfully tagged prom2teams:latest\n","stderr":"","imageSize":247331993},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":22,"end":22,"columnStart":4,"columnEnd":31}}],"repairedDockerfile":"FROM python:3.8-alpine AS builder\nWORKDIR /prom2teams\nCOPY LICENSE \\\n        MANIFEST.in \\\n        README.md \\\n        requirements.txt \\\n        setup.py \\\n        ./\nCOPY prom2teams/ prom2teams\nCOPY bin/ bin\nRUN apk add gcc libc-dev yaml-dev linux-headers --no-cache \\\n        && python setup.py bdist_wheel\n\nFROM python:3.8-alpine\nLABEL maintainer=\"labs@idealista.com\"\nEXPOSE 8089\nEXPOSE 9090\nWORKDIR /opt/prom2teams\nCOPY docker/rootfs .\nCOPY --from=builder /prom2teams/dist .\nCOPY bin/wsgi.py ./wsgi.py\nRUN apk add gcc libc-dev yaml-dev linux-headers pcre pcre-dev --no-cache \\\n\t&& pip install --no-cache-dir prom2teams*.whl\nRUN addgroup -g \"101\" -S prom2teams && \\\n        adduser -S prom2teams -G prom2teams -u \"101\" && \\\n        mkdir -p /var/log/prom2teams && \\\n        mkdir -p /opt/prom2teams/metrics && \\\n        chown -R prom2teams:prom2teams /var/log/prom2teams && \\\n        chown -R prom2teams:prom2teams /opt/prom2teams\nUSER prom2teams\nENV PROM2TEAMS_PORT=\"8089\" \\\n        PROM2TEAMS_HOST=\"localhost\" \\\n        PROM2TEAMS_LOGLEVEL=\"INFO\" \\\n        PROM2TEAMS_CONNECTOR=\"\" \\\n        PROM2TEAMS_GROUP_ALERTS_BY=\"\" \\\n        APP_CONFIG_FILE=\"/opt/prom2teams/config.ini\" \\\n        PROM2TEAMS_PROMETHEUS_METRICS=\"true\" \\\n        UWSGI_PROCESSES=\"1\" \\\n        UWSGI_THREADS=\"1\" \\\n        UWSGI_PORT=\"8089\" \\\n        UWSGI_HOST=\"0.0.0.0\" \\\n        UWSGI_PROTOCOL=\"http\" \\\n        PROMETHEUS_MULTIPROC_PORT=\"9090\" \\\n        PROMETHEUS_MULTIPROC_DIR=\"/opt/prom2teams/metrics\" \\\n        prometheus_multiproc_dir=\"/opt/prom2teams/metrics\"\nENTRYPOINT [\"sh\", \"prom2teams_start.sh\"]\n"},"repairedBuild":{"startTimestamp":1672576661359,"endTimestamp":1672576739025,"error":null,"stdout":"Sending build context to Docker daemon  127.5kB\r\r\nStep 1/19 : FROM python:3.8-alpine AS builder\n ---> 13f1e3678aa9\nStep 2/19 : WORKDIR /prom2teams\n ---> Running in 49e8827e1491\nRemoving intermediate container 49e8827e1491\n ---> 98f7f5166aae\nStep 3/19 : COPY LICENSE         MANIFEST.in         README.md         requirements.txt         setup.py         ./\n ---> 1266051cdf74\nStep 4/19 : COPY prom2teams/ prom2teams\n ---> 802bafc18eb5\nStep 5/19 : COPY bin/ bin\n ---> 878e84960ab4\nStep 6/19 : RUN apk add gcc libc-dev yaml-dev linux-headers --no-cache         && python setup.py bdist_wheel\n ---> Running in 3d329c2c6c6a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/16) Installing libgcc (12.2.1_git20220924-r4)\n(2/16) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/16) Installing binutils (2.39-r2)\n(4/16) Installing libgomp (12.2.1_git20220924-r4)\n(5/16) Installing libatomic (12.2.1_git20220924-r4)\n(6/16) Installing gmp (6.2.1-r2)\n(7/16) Installing isl25 (0.25-r0)\n(8/16) Installing mpfr4 (4.1.0-r0)\n(9/16) Installing mpc1 (1.2.1-r1)\n(10/16) Installing gcc (12.2.1_git20220924-r4)\n(11/16) Installing musl-dev (1.2.3-r4)\n(12/16) Installing libc-dev (0.7.2-r3)\n(13/16) Installing linux-headers (5.19.5-r0)\n(14/16) Installing pkgconf (1.9.3-r0)\n(15/16) Installing yaml (0.2.5-r0)\n(16/16) Installing yaml-dev (0.2.5-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 168 MiB in 53 packages\nrunning bdist_wheel\nrunning build\nrunning build_py\ncreating build\ncreating build/lib\ncreating build/lib/prom2teams\ncopying prom2teams/__init__.py -> build/lib/prom2teams\ncreating build/lib/prom2teams/prometheus\ncopying prom2teams/prometheus/__init__.py -> build/lib/prom2teams/prometheus\ncopying prom2teams/prometheus/message_schema.py -> build/lib/prom2teams/prometheus\ncreating build/lib/prom2teams/app\ncopying prom2teams/app/api.py -> build/lib/prom2teams/app\ncopying prom2teams/app/__init__.py -> build/lib/prom2teams/app\ncopying prom2teams/app/sender.py -> build/lib/prom2teams/app\ncopying prom2teams/app/configuration.py -> build/lib/prom2teams/app\ncopying prom2teams/app/exceptions.py -> build/lib/prom2teams/app\ncopying prom2teams/app/teams_client.py -> build/lib/prom2teams/app\ncreating build/lib/prom2teams/config\ncopying prom2teams/config/__init__.py -> build/lib/prom2teams/config\ncopying prom2teams/config/settings.py -> build/lib/prom2teams/config\ncreating build/lib/prom2teams/teams\ncopying prom2teams/teams/__init__.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/alert_mapper.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/teams_alert_validation.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/teams_alert_schema.py -> build/lib/prom2teams/teams\ncopying prom2teams/teams/composer.py -> build/lib/prom2teams/teams\ncreating build/lib/prom2teams/app/versions\ncopying prom2teams/app/versions/__init__.py -> build/lib/prom2teams/app/versions\ncreating build/lib/prom2teams/app/versions/v2\ncopying prom2teams/app/versions/v2/__init__.py -> build/lib/prom2teams/app/versions/v2\ncopying prom2teams/app/versions/v2/namespace.py -> build/lib/prom2teams/app/versions/v2\ncopying prom2teams/app/versions/v2/model.py -> build/lib/prom2teams/app/versions/v2\ncreating build/lib/prom2teams/app/versions/v1\ncopying prom2teams/app/versions/v1/__init__.py -> build/lib/prom2teams/app/versions/v1\ncopying prom2teams/app/versions/v1/namespace.py -> build/lib/prom2teams/app/versions/v1\ncopying prom2teams/app/versions/v1/model.py -> build/lib/prom2teams/app/versions/v1\nrunning egg_info\ncreating prom2teams.egg-info\nwriting prom2teams.egg-info/PKG-INFO\nwriting dependency_links to prom2teams.egg-info/dependency_links.txt\nwriting requirements to prom2teams.egg-info/requires.txt\nwriting top-level names to prom2teams.egg-info/top_level.txt\nwriting manifest file 'prom2teams.egg-info/SOURCES.txt'\nreading manifest file 'prom2teams.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nadding license file 'LICENSE'\nwriting manifest file 'prom2teams.egg-info/SOURCES.txt'\ncreating build/lib/prom2teams/resources\ncreating build/lib/prom2teams/resources/templates\ncopying prom2teams/resources/templates/teams.j2 -> build/lib/prom2teams/resources/templates\ncreating build/lib/prom2teams/app/static\ncopying prom2teams/app/static/favicon.ico -> build/lib/prom2teams/app/static\ncopying prom2teams/config/logging.yml -> build/lib/prom2teams/config\nrunning build_scripts\ncreating build/scripts-3.8\ncopying and adjusting bin/prom2teams -> build/scripts-3.8\ncopying bin/prom2teams_uwsgi -> build/scripts-3.8\nchanging mode of build/scripts-3.8/prom2teams from 644 to 755\ninstalling to build/bdist.linux-x86_64/wheel\nrunning install\nrunning install_lib\ncreating build/bdist.linux-x86_64\ncreating build/bdist.linux-x86_64/wheel\ncreating build/bdist.linux-x86_64/wheel/prom2teams\ncopying build/lib/prom2teams/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams\ncreating build/bdist.linux-x86_64/wheel/prom2teams/prometheus\ncopying build/lib/prom2teams/prometheus/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/prometheus\ncopying build/lib/prom2teams/prometheus/message_schema.py -> build/bdist.linux-x86_64/wheel/prom2teams/prometheus\ncreating build/bdist.linux-x86_64/wheel/prom2teams/resources\ncreating build/bdist.linux-x86_64/wheel/prom2teams/resources/templates\ncopying build/lib/prom2teams/resources/templates/teams.j2 -> build/bdist.linux-x86_64/wheel/prom2teams/resources/templates\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/api.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/sender.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/versions\ncopying build/lib/prom2teams/app/versions/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncopying build/lib/prom2teams/app/versions/v2/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncopying build/lib/prom2teams/app/versions/v2/namespace.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncopying build/lib/prom2teams/app/versions/v2/model.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v2\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/versions/v1/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/versions/v1/namespace.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/versions/v1/model.py -> build/bdist.linux-x86_64/wheel/prom2teams/app/versions/v1\ncopying build/lib/prom2teams/app/configuration.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/exceptions.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncopying build/lib/prom2teams/app/teams_client.py -> build/bdist.linux-x86_64/wheel/prom2teams/app\ncreating build/bdist.linux-x86_64/wheel/prom2teams/app/static\ncopying build/lib/prom2teams/app/static/favicon.ico -> build/bdist.linux-x86_64/wheel/prom2teams/app/static\ncreating build/bdist.linux-x86_64/wheel/prom2teams/config\ncopying build/lib/prom2teams/config/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/config\ncopying build/lib/prom2teams/config/logging.yml -> build/bdist.linux-x86_64/wheel/prom2teams/config\ncopying build/lib/prom2teams/config/settings.py -> build/bdist.linux-x86_64/wheel/prom2teams/config\ncreating build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/__init__.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/alert_mapper.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/teams_alert_validation.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/teams_alert_schema.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\ncopying build/lib/prom2teams/teams/composer.py -> build/bdist.linux-x86_64/wheel/prom2teams/teams\nrunning install_data\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/data\ncreating build/bdist.linux-x86_64/wheel/usr\ncreating build/bdist.linux-x86_64/wheel/usr/local\ncreating build/bdist.linux-x86_64/wheel/usr/local/etc\ncreating build/bdist.linux-x86_64/wheel/usr/local/etc/prom2teams\ncopying bin/wsgi.py -> build/bdist.linux-x86_64/wheel/usr/local/etc/prom2teams\nrunning install_egg_info\nCopying prom2teams.egg-info to build/bdist.linux-x86_64/wheel/prom2teams-4.2.0-py3.8.egg-info\nrunning install_scripts\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts\ncopying build/scripts-3.8/prom2teams_uwsgi -> build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts\ncopying build/scripts-3.8/prom2teams -> build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts\nchanging mode of build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts/prom2teams_uwsgi to 775\nchanging mode of build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.data/scripts/prom2teams to 755\ncreating build/bdist.linux-x86_64/wheel/prom2teams-4.2.0.dist-info/WHEEL\ncreating 'dist/prom2teams-4.2.0-py3-none-any.whl' and adding 'build/bdist.linux-x86_64/wheel' to it\nadding 'prom2teams/__init__.py'\nadding 'prom2teams/app/__init__.py'\nadding 'prom2teams/app/api.py'\nadding 'prom2teams/app/configuration.py'\nadding 'prom2teams/app/exceptions.py'\nadding 'prom2teams/app/sender.py'\nadding 'prom2teams/app/teams_client.py'\nadding 'prom2teams/app/static/favicon.ico'\nadding 'prom2teams/app/versions/__init__.py'\nadding 'prom2teams/app/versions/v1/__init__.py'\nadding 'prom2teams/app/versions/v1/model.py'\nadding 'prom2teams/app/versions/v1/namespace.py'\nadding 'prom2teams/app/versions/v2/__init__.py'\nadding 'prom2teams/app/versions/v2/model.py'\nadding 'prom2teams/app/versions/v2/namespace.py'\nadding 'prom2teams/config/__init__.py'\nadding 'prom2teams/config/logging.yml'\nadding 'prom2teams/config/settings.py'\nadding 'prom2teams/prometheus/__init__.py'\nadding 'prom2teams/prometheus/message_schema.py'\nadding 'prom2teams/resources/templates/teams.j2'\nadding 'prom2teams/teams/__init__.py'\nadding 'prom2teams/teams/alert_mapper.py'\nadding 'prom2teams/teams/composer.py'\nadding 'prom2teams/teams/teams_alert_schema.py'\nadding 'prom2teams/teams/teams_alert_validation.py'\nadding 'prom2teams-4.2.0.data/scripts/prom2teams'\nadding 'prom2teams-4.2.0.data/scripts/prom2teams_uwsgi'\nadding 'usr/local/etc/prom2teams/wsgi.py'\nadding 'prom2teams-4.2.0.dist-info/LICENSE'\nadding 'prom2teams-4.2.0.dist-info/METADATA'\nadding 'prom2teams-4.2.0.dist-info/WHEEL'\nadding 'prom2teams-4.2.0.dist-info/top_level.txt'\nadding 'prom2teams-4.2.0.dist-info/RECORD'\nremoving build/bdist.linux-x86_64/wheel\nRemoving intermediate container 3d329c2c6c6a\n ---> 9ae9ce4e3120\nStep 7/19 : FROM python:3.8-alpine\n ---> 13f1e3678aa9\nStep 8/19 : LABEL maintainer=\"labs@idealista.com\"\n ---> Running in 2f696f9708f4\nRemoving intermediate container 2f696f9708f4\n ---> 30b58e710c9d\nStep 9/19 : EXPOSE 8089\n ---> Running in 707975c82fcf\nRemoving intermediate container 707975c82fcf\n ---> bdfe225385ca\nStep 10/19 : EXPOSE 9090\n ---> Running in f23570092e84\nRemoving intermediate container f23570092e84\n ---> c114c3d0a3c1\nStep 11/19 : WORKDIR /opt/prom2teams\n ---> Running in d2e17959101b\nRemoving intermediate container d2e17959101b\n ---> 07fcaba2d749\nStep 12/19 : COPY docker/rootfs .\n ---> fe9cee7c68e3\nStep 13/19 : COPY --from=builder /prom2teams/dist .\n ---> 33b173fcd908\nStep 14/19 : COPY bin/wsgi.py ./wsgi.py\n ---> 9b8236a6fdc1\nStep 15/19 : RUN apk add gcc libc-dev yaml-dev linux-headers pcre pcre-dev --no-cache \t&& pip install --no-cache-dir prom2teams*.whl\n ---> Running in c6facc449da7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing libgcc (12.2.1_git20220924-r4)\n(2/21) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/21) Installing binutils (2.39-r2)\n(4/21) Installing libgomp (12.2.1_git20220924-r4)\n(5/21) Installing libatomic (12.2.1_git20220924-r4)\n(6/21) Installing gmp (6.2.1-r2)\n(7/21) Installing isl25 (0.25-r0)\n(8/21) Installing mpfr4 (4.1.0-r0)\n(9/21) Installing mpc1 (1.2.1-r1)\n(10/21) Installing gcc (12.2.1_git20220924-r4)\n(11/21) Installing musl-dev (1.2.3-r4)\n(12/21) Installing libc-dev (0.7.2-r3)\n(13/21) Installing linux-headers (5.19.5-r0)\n(14/21) Installing pcre (8.45-r2)\n(15/21) Installing libpcre16 (8.45-r2)\n(16/21) Installing libpcre32 (8.45-r2)\n(17/21) Installing libpcrecpp (8.45-r2)\n(18/21) Installing pkgconf (1.9.3-r0)\n(19/21) Installing pcre-dev (8.45-r2)\n(20/21) Installing yaml (0.2.5-r0)\n(21/21) Installing yaml-dev (0.2.5-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 171 MiB in 58 packages\nProcessing ./prom2teams-4.2.0-py3-none-any.whl\nCollecting marshmallow==3.0.0rc6\n  Downloading marshmallow-3.0.0rc6-py2.py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.8/42.8 KB 4.5 MB/s eta 0:00:00\nCollecting flask-restplus==0.12.1\n  Downloading flask_restplus-0.12.1-py2.py3-none-any.whl (2.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.5/2.5 MB 90.3 MB/s eta 0:00:00\nCollecting jinja2==2.11.3\n  Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.7/125.7 KB 241.9 MB/s eta 0:00:00\nCollecting Flask==1.0.2\n  Downloading Flask-1.0.2-py2.py3-none-any.whl (91 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 91.4/91.4 KB 227.3 MB/s eta 0:00:00\nCollecting werkzeug==0.16.1\n  Downloading Werkzeug-0.16.1-py2.py3-none-any.whl (327 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 327.4/327.4 KB 87.9 MB/s eta 0:00:00\nCollecting DeepDiff==4.3.0\n  Downloading deepdiff-4.3.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.3/48.3 KB 190.5 MB/s eta 0:00:00\nCollecting pyrsistent==0.16.0\n  Downloading pyrsistent-0.16.0.tar.gz (108 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 108.0/108.0 KB 77.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests==2.20.1\n  Downloading requests-2.20.1-py2.py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.0/58.0 KB 223.8 MB/s eta 0:00:00\nCollecting tenacity==6.2.0\n  Downloading tenacity-6.2.0-py2.py3-none-any.whl (24 kB)\nCollecting MarkupSafe==1.1.1\n  Downloading MarkupSafe-1.1.1.tar.gz (19 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting itsdangerous==2.0.1\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting zipp==3.1.0\n  Downloading zipp-3.1.0-py3-none-any.whl (4.9 kB)\nCollecting pyyaml==5.4\n  Downloading PyYAML-5.4.tar.gz (174 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 174.8/174.8 KB 239.6 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting prometheus-flask-exporter==0.9.0\n  Downloading prometheus_flask_exporter-0.9.0.tar.gz (15 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting uwsgi==2.0.20\n  Downloading uwsgi-2.0.20.tar.gz (804 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 804.9/804.9 KB 147.9 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting ordered-set>=3.1.1\n  Downloading ordered_set-4.1.0-py3-none-any.whl (7.6 kB)\nCollecting click>=5.1\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 KB 203.2 MB/s eta 0:00:00\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 KB 181.2 MB/s eta 0:00:00\nCollecting aniso8601>=0.82\n  Downloading aniso8601-9.0.1-py2.py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 KB 182.1 MB/s eta 0:00:00\nCollecting jsonschema\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 KB 216.0 MB/s eta 0:00:00\nCollecting six>=1.3.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting prometheus_client\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.1/60.1 KB 204.1 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 238.3 MB/s eta 0:00:00\nCollecting urllib3<1.25,>=1.21.1\n  Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.8/118.8 KB 78.2 MB/s eta 0:00:00\nCollecting idna<2.8,>=2.5\n  Downloading idna-2.7-py2.py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.2/58.2 KB 182.9 MB/s eta 0:00:00\nCollecting chardet<3.1.0,>=3.0.2\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 KB 219.2 MB/s eta 0:00:00\nCollecting importlib-resources>=1.4.0\n  Downloading importlib_resources-5.10.2-py3-none-any.whl (34 kB)\nCollecting pkgutil-resolve-name>=1.3.10\n  Downloading pkgutil_resolve_name-1.3.10-py3-none-any.whl (4.7 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 KB 184.7 MB/s eta 0:00:00\nBuilding wheels for collected packages: MarkupSafe, prometheus-flask-exporter, pyrsistent, pyyaml, uwsgi\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-1.1.1-cp38-cp38-linux_x86_64.whl size=17083 sha256=13245975e249d724d47bebce1ae6c81ddfe9d2639257992d8ac23d78effdcd63\n  Stored in directory: /tmp/pip-ephem-wheel-cache-cq4p4qou/wheels/0c/61/d6/4db4f4c28254856e82305fdb1f752ed7f8482e54c384d8cb0e\n  Building wheel for prometheus-flask-exporter (setup.py): started\n  Building wheel for prometheus-flask-exporter (setup.py): finished with status 'done'\n  Created wheel for prometheus-flask-exporter: filename=prometheus_flask_exporter-0.9.0-py3-none-any.whl size=13361 sha256=60c9ef04e74c4262f1dda03cf737f170edb7f4853f0c4c704e70b190a690ffa4\n  Stored in directory: /tmp/pip-ephem-wheel-cache-cq4p4qou/wheels/91/5c/54/8cb97876a954f26a284bd814612aaef92a258c6d1cca5c8ded\n  Building wheel for pyrsistent (setup.py): started\n  Building wheel for pyrsistent (setup.py): finished with status 'done'\n  Created wheel for pyrsistent: filename=pyrsistent-0.16.0-cp38-cp38-linux_x86_64.whl size=72660 sha256=446ad1d6554bd525436ce06b6d2cde4f2283472193908608c4f018379fd1fcf4\n  Stored in directory: /tmp/pip-ephem-wheel-cache-cq4p4qou/wheels/17/be/0f/727fb20889ada6aaaaba861f5f0eb21663533915429ad43f28\n  Building wheel for pyyaml (pyproject.toml): started\n  Building wheel for pyyaml (pyproject.toml): finished with status 'done'\n  Created wheel for pyyaml: filename=PyYAML-5.4-cp38-cp38-linux_x86_64.whl size=154680 sha256=44bb613096b9dc1b36b11d9d83b00c6ea7ab8a7475c02be207869f8160f7fd64\n  Stored in directory: /tmp/pip-ephem-wheel-cache-cq4p4qou/wheels/89/b4/5f/cb055d6b1decb1050d7a3620abf3bca515f16d28e8c42ae23e\n  Building wheel for uwsgi (setup.py): started\n  Building wheel for uwsgi (setup.py): finished with status 'done'\n  Created wheel for uwsgi: filename=uWSGI-2.0.20-cp38-cp38-linux_x86_64.whl size=548331 sha256=df6d7253fb9308b9f7bdb56ba482b93f052107c448669e6b24149aaef7868903\n  Stored in directory: /tmp/pip-ephem-wheel-cache-cq4p4qou/wheels/cb/4d/54/002a215100a8c4e125654600f0a4304dae742442ddc4ba6ea1\nSuccessfully built MarkupSafe prometheus-flask-exporter pyrsistent pyyaml uwsgi\nInstalling collected packages: uwsgi, pytz, idna, chardet, aniso8601, zipp, werkzeug, urllib3, six, pyyaml, prometheus_client, pkgutil-resolve-name, ordered-set, marshmallow, MarkupSafe, itsdangerous, click, certifi, attrs, tenacity, requests, pyrsistent, jinja2, importlib-resources, DeepDiff, jsonschema, Flask, prometheus-flask-exporter, flask-restplus, prom2teams\nSuccessfully installed DeepDiff-4.3.0 Flask-1.0.2 MarkupSafe-1.1.1 aniso8601-9.0.1 attrs-22.2.0 certifi-2022.12.7 chardet-3.0.4 click-8.1.3 flask-restplus-0.12.1 idna-2.7 importlib-resources-5.10.2 itsdangerous-2.0.1 jinja2-2.11.3 jsonschema-4.17.3 marshmallow-3.0.0rc6 ordered-set-4.1.0 pkgutil-resolve-name-1.3.10 prom2teams-4.2.0 prometheus-flask-exporter-0.9.0 prometheus_client-0.15.0 pyrsistent-0.16.0 pytz-2022.7 pyyaml-5.4 requests-2.20.1 six-1.16.0 tenacity-6.2.0 urllib3-1.24.3 uwsgi-2.0.20 werkzeug-0.16.1 zipp-3.1.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container c6facc449da7\n ---> 26cd30310346\nStep 16/19 : RUN addgroup -g \"101\" -S prom2teams &&         adduser -S prom2teams -G prom2teams -u \"101\" &&         mkdir -p /var/log/prom2teams &&         mkdir -p /opt/prom2teams/metrics &&         chown -R prom2teams:prom2teams /var/log/prom2teams &&         chown -R prom2teams:prom2teams /opt/prom2teams\n ---> Running in 6d3cf867ac9b\nRemoving intermediate container 6d3cf867ac9b\n ---> 227923f9717c\nStep 17/19 : USER prom2teams\n ---> Running in 7b9471556e1d\nRemoving intermediate container 7b9471556e1d\n ---> 01aee5417fe4\nStep 18/19 : ENV PROM2TEAMS_PORT=\"8089\"         PROM2TEAMS_HOST=\"localhost\"         PROM2TEAMS_LOGLEVEL=\"INFO\"         PROM2TEAMS_CONNECTOR=\"\"         PROM2TEAMS_GROUP_ALERTS_BY=\"\"         APP_CONFIG_FILE=\"/opt/prom2teams/config.ini\"         PROM2TEAMS_PROMETHEUS_METRICS=\"true\"         UWSGI_PROCESSES=\"1\"         UWSGI_THREADS=\"1\"         UWSGI_PORT=\"8089\"         UWSGI_HOST=\"0.0.0.0\"         UWSGI_PROTOCOL=\"http\"         PROMETHEUS_MULTIPROC_PORT=\"9090\"         PROMETHEUS_MULTIPROC_DIR=\"/opt/prom2teams/metrics\"         prometheus_multiproc_dir=\"/opt/prom2teams/metrics\"\n ---> Running in 26ac2762f439\nRemoving intermediate container 26ac2762f439\n ---> b3b5be03f1ea\nStep 19/19 : ENTRYPOINT [\"sh\", \"prom2teams_start.sh\"]\n ---> Running in 6ecb3ecda7ee\nRemoving intermediate container 6ecb3ecda7ee\n ---> 9e8308075782\nSuccessfully built 9e8308075782\nSuccessfully tagged prom2teams:latest\n","stderr":"","imageSize":240392930},"endTime":1672576739382}