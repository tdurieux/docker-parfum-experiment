{"repository":"https://github.com/remix-run/indie-stack","dockerfilePath":"Dockerfile","startTime":1672831425614,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/remix-run/indie-stack'...\n","error":null,"commit":"6d1cb15d14ec5c4daefa017d4612eba7c7e8f9cd"},"originalBuild":{"startTimestamp":1672831426510,"endTimestamp":1672831679607,"error":null,"stdout":"Sending build context to Docker daemon  358.4kB\r\r\nStep 1/33 : FROM node:16-bullseye-slim as base\n16-bullseye-slim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Pulling fs layer\n031949ce49ec: Pulling fs layer\n16cee6032317: Pulling fs layer\nfd35893cdbff: Pulling fs layer\nfd35893cdbff: Waiting\n00fde01815c9: Download complete\n16cee6032317: Verifying Checksum\n16cee6032317: Download complete\n00fde01815c9: Pull complete\nfd35893cdbff: Verifying Checksum\nfd35893cdbff: Download complete\n031949ce49ec: Verifying Checksum\n031949ce49ec: Download complete\n031949ce49ec: Pull complete\n16cee6032317: Pull complete\nfd35893cdbff: Pull complete\nDigest: sha256:30ec224b4c35a768e038674444d0718494a7d8847c96ee73a8d3db795135b4c9\nStatus: Downloaded newer image for node:16-bullseye-slim\n ---> b3b9a79a4762\nStep 2/33 : ENV NODE_ENV production\n ---> Running in 28c657b0bb37\nRemoving intermediate container 28c657b0bb37\n ---> d18140dff605\nStep 3/33 : RUN apt-get update && apt-get install -y openssl sqlite3\n ---> Running in ac09a17b3fbe\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5635 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libreadline8 libsqlite3-0 readline-common\nSuggested packages:\n  ca-certificates readline-doc sqlite3-doc\nThe following NEW packages will be installed:\n  libreadline8 libsqlite3-0 openssl readline-common sqlite3\n0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 3093 kB of archives.\nAfter this operation, 6786 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 readline-common all 8.1-1 [73.7 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libreadline8 amd64 8.1-1 [169 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libsqlite3-0 amd64 3.34.1-3 [797 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 sqlite3 amd64 3.34.1-3 [1201 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 3093 kB in 0s (15.3 MB/s)\nSelecting previously unselected package readline-common.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../readline-common_8.1-1_all.deb ...\r\nUnpacking readline-common (8.1-1) ...\r\nSelecting previously unselected package libreadline8:amd64.\r\nPreparing to unpack .../libreadline8_8.1-1_amd64.deb ...\r\nUnpacking libreadline8:amd64 (8.1-1) ...\r\nSelecting previously unselected package libsqlite3-0:amd64.\r\nPreparing to unpack .../libsqlite3-0_3.34.1-3_amd64.deb ...\r\nUnpacking libsqlite3-0:amd64 (3.34.1-3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package sqlite3.\r\nPreparing to unpack .../sqlite3_3.34.1-3_amd64.deb ...\r\nUnpacking sqlite3 (3.34.1-3) ...\r\nSetting up libsqlite3-0:amd64 (3.34.1-3) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up readline-common (8.1-1) ...\r\nSetting up libreadline8:amd64 (8.1-1) ...\r\nSetting up sqlite3 (3.34.1-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container ac09a17b3fbe\n ---> 11bb501b200d\nStep 4/33 : FROM base as deps\n ---> 11bb501b200d\nStep 5/33 : WORKDIR /myapp\n ---> Running in b681c316233b\nRemoving intermediate container b681c316233b\n ---> a4ebb136ce58\nStep 6/33 : ADD package.json .npmrc ./\n ---> 55e733d29601\nStep 7/33 : RUN npm install --production=false\n ---> Running in e18ddfa3762e\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated rollup-plugin-inject@3.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-inject.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\nadded 1412 packages, and audited 1413 packages in 2m\n\n258 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container e18ddfa3762e\n ---> f3b8512a7c48\nStep 8/33 : FROM base as production-deps\n ---> 11bb501b200d\nStep 9/33 : WORKDIR /myapp\n ---> Running in 1757052cd389\nRemoving intermediate container 1757052cd389\n ---> 6267171538aa\nStep 10/33 : COPY --from=deps /myapp/node_modules /myapp/node_modules\n ---> 33119dddfae9\nStep 11/33 : ADD package.json .npmrc ./\n ---> 1ed76462ac11\nStep 12/33 : RUN npm prune --production\n ---> Running in 61084a5cc074\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nup to date, audited 129 packages in 4s\n\n15 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 61084a5cc074\n ---> 1772b8992bfb\nStep 13/33 : FROM base as build\n ---> 11bb501b200d\nStep 14/33 : WORKDIR /myapp\n ---> Running in 6c3cd9f858af\nRemoving intermediate container 6c3cd9f858af\n ---> 41ca3dc1cf2d\nStep 15/33 : COPY --from=deps /myapp/node_modules /myapp/node_modules\n ---> 47f3eb11ee3a\nStep 16/33 : ADD prisma .\n ---> 1c0a352384e9\nStep 17/33 : RUN npx prisma generate\n ---> Running in feb3814ddc7c\nPrisma schema loaded from schema.prisma\n\n✔ Generated Prisma Client (4.8.0 | library) to ./node_modules/@prisma/client in 206ms\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from '@prisma/client'\nconst prisma = new PrismaClient()\n```\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container feb3814ddc7c\n ---> 26b6ae5415db\nStep 18/33 : ADD . .\n ---> a41bc01ea371\nStep 19/33 : RUN npm run build\n ---> Running in 41a55e977dd4\n\n> build\n> run-s build:*\n\n\n> build:css\n> npm run generate:css -- --minify\n\n\n> generate:css\n> tailwindcss -o ./app/styles/tailwind.css --minify\n\n\u001b[91m\n\u001b[0m\u001b[91mRebuilding...\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mDone in 335ms.\n\u001b[0m\n> build:remix\n> remix build\n\nBuilding Remix app in production mode...\nBuilt in 478ms\nRemoving intermediate container 41a55e977dd4\n ---> 8e33d899400b\nStep 20/33 : FROM base\n ---> 11bb501b200d\nStep 21/33 : ENV DATABASE_URL=file:/data/sqlite.db\n ---> Running in 0f3614b30383\nRemoving intermediate container 0f3614b30383\n ---> cd47220eac4a\nStep 22/33 : ENV PORT=\"8080\"\n ---> Running in f7c5fc84732e\nRemoving intermediate container f7c5fc84732e\n ---> 37f5d853b74e\nStep 23/33 : ENV NODE_ENV=\"production\"\n ---> Running in df41f2739ec1\nRemoving intermediate container df41f2739ec1\n ---> 4075b80d2134\nStep 24/33 : RUN echo \"#!/bin/sh\\nset -x\\nsqlite3 \\$DATABASE_URL\" > /usr/local/bin/database-cli && chmod +x /usr/local/bin/database-cli\n ---> Running in c626d194e033\nRemoving intermediate container c626d194e033\n ---> 3b6b81a9f2e7\nStep 25/33 : WORKDIR /myapp\n ---> Running in 718c4f7cc5d5\nRemoving intermediate container 718c4f7cc5d5\n ---> 1439e3484363\nStep 26/33 : COPY --from=production-deps /myapp/node_modules /myapp/node_modules\n ---> 5b84f3502584\nStep 27/33 : COPY --from=build /myapp/node_modules/.prisma /myapp/node_modules/.prisma\n ---> 95d915461d6e\nStep 28/33 : COPY --from=build /myapp/build /myapp/build\n ---> e199d182a9eb\nStep 29/33 : COPY --from=build /myapp/public /myapp/public\n ---> ee28db879060\nStep 30/33 : COPY --from=build /myapp/package.json /myapp/package.json\n ---> f7ad4374682b\nStep 31/33 : COPY --from=build /myapp/start.sh /myapp/start.sh\n ---> 5d69291d0d9d\nStep 32/33 : COPY --from=build /myapp/prisma /myapp/prisma\n ---> f936e9593d77\nStep 33/33 : ENTRYPOINT [ \"./start.sh\" ]\n ---> Running in fd2b121fd29c\nRemoving intermediate container fd2b121fd29c\n ---> 51faa7b7969e\nSuccessfully built 51faa7b7969e\nSuccessfully tagged indie-stack:latest\n","stderr":"","imageSize":264042240},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":15,"end":15,"columnStart":4,"columnEnd":34}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":7,"end":7,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":7,"end":7,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"# base node image\nFROM node:16-bullseye-slim as base\n\n# set for base and all layer that inherit from it\nENV NODE_ENV production\n\n# Install openssl for Prisma\nRUN apt-get update && apt-get install --no-install-recommends -y openssl sqlite3\n\n# Install all node_modules, including dev dependencies\nFROM base as deps\n\nWORKDIR /myapp\n\nADD package.json .npmrc ./\nRUN npm install --production=false\n\n# Setup production node_modules\nFROM base as production-deps\n\nWORKDIR /myapp\n\nCOPY --from=deps /myapp/node_modules /myapp/node_modules\nADD package.json .npmrc ./\nRUN npm prune --production\n\n# Build the app\nFROM base as build\n\nWORKDIR /myapp\n\nCOPY --from=deps /myapp/node_modules /myapp/node_modules\n\nADD prisma .\nRUN npx prisma generate\n\nADD . .\nRUN npm run build\n\n# Finally, build the production image with minimal footprint\nFROM base\n\nENV DATABASE_URL=file:/data/sqlite.db\nENV PORT=\"8080\"\nENV NODE_ENV=\"production\"\n\n# add shortcut for connecting to database CLI\nRUN echo \"#!/bin/sh\\nset -x\\nsqlite3 \\$DATABASE_URL\" > /usr/local/bin/database-cli && chmod +x /usr/local/bin/database-cli\n\nWORKDIR /myapp\n\nCOPY --from=production-deps /myapp/node_modules /myapp/node_modules\nCOPY --from=build /myapp/node_modules/.prisma /myapp/node_modules/.prisma\n\nCOPY --from=build /myapp/build /myapp/build\nCOPY --from=build /myapp/public /myapp/public\nCOPY --from=build /myapp/package.json /myapp/package.json\nCOPY --from=build /myapp/start.sh /myapp/start.sh\nCOPY --from=build /myapp/prisma /myapp/prisma\n\nENTRYPOINT [ \"./start.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672831680044,"endTimestamp":1672831917623,"error":null,"stdout":"Sending build context to Docker daemon  358.4kB\r\r\nStep 1/33 : FROM node:16-bullseye-slim as base\n ---> b3b9a79a4762\nStep 2/33 : ENV NODE_ENV production\n ---> Running in 7101bb34ffdf\nRemoving intermediate container 7101bb34ffdf\n ---> 46e7b4cdef31\nStep 3/33 : RUN apt-get update && apt-get install --no-install-recommends -y openssl sqlite3\n ---> Running in 74ea03d14655\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6579 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libreadline8 libsqlite3-0 readline-common\nSuggested packages:\n  ca-certificates readline-doc sqlite3-doc\nThe following NEW packages will be installed:\n  libreadline8 libsqlite3-0 openssl readline-common sqlite3\n0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 3093 kB of archives.\nAfter this operation, 6786 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 readline-common all 8.1-1 [73.7 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libreadline8 amd64 8.1-1 [169 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libsqlite3-0 amd64 3.34.1-3 [797 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 sqlite3 amd64 3.34.1-3 [1201 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 3093 kB in 0s (12.5 MB/s)\nSelecting previously unselected package readline-common.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../readline-common_8.1-1_all.deb ...\r\nUnpacking readline-common (8.1-1) ...\r\nSelecting previously unselected package libreadline8:amd64.\r\nPreparing to unpack .../libreadline8_8.1-1_amd64.deb ...\r\nUnpacking libreadline8:amd64 (8.1-1) ...\r\nSelecting previously unselected package libsqlite3-0:amd64.\r\nPreparing to unpack .../libsqlite3-0_3.34.1-3_amd64.deb ...\r\nUnpacking libsqlite3-0:amd64 (3.34.1-3) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package sqlite3.\r\nPreparing to unpack .../sqlite3_3.34.1-3_amd64.deb ...\r\nUnpacking sqlite3 (3.34.1-3) ...\r\nSetting up libsqlite3-0:amd64 (3.34.1-3) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up readline-common (8.1-1) ...\r\nSetting up libreadline8:amd64 (8.1-1) ...\r\nSetting up sqlite3 (3.34.1-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 74ea03d14655\n ---> 7c6a8d50dc49\nStep 4/33 : FROM base as deps\n ---> 7c6a8d50dc49\nStep 5/33 : WORKDIR /myapp\n ---> Running in 7c0e699edba2\nRemoving intermediate container 7c0e699edba2\n ---> 072a3299544f\nStep 6/33 : ADD package.json .npmrc ./\n ---> eb3438757583\nStep 7/33 : RUN npm install --production=false\n ---> Running in 1d384293a00c\n\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m config\u001b[0m\u001b[91m production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated rollup-plugin-inject@3.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-inject.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\nadded 1412 packages, and audited 1413 packages in 1m\n\n258 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 1d384293a00c\n ---> add3fb329c1e\nStep 8/33 : FROM base as production-deps\n ---> 7c6a8d50dc49\nStep 9/33 : WORKDIR /myapp\n ---> Running in e52933028613\nRemoving intermediate container e52933028613\n ---> 7886bf5ee25c\nStep 10/33 : COPY --from=deps /myapp/node_modules /myapp/node_modules\n ---> 7a05ace24a0e\nStep 11/33 : ADD package.json .npmrc ./\n ---> f43bc8f1545c\nStep 12/33 : RUN npm prune --production\n ---> Running in 7232a01de2cb\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nup to date, audited 129 packages in 6s\n\n15 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 7232a01de2cb\n ---> badd14701385\nStep 13/33 : FROM base as build\n ---> 7c6a8d50dc49\nStep 14/33 : WORKDIR /myapp\n ---> Running in 5a25d8dad07a\nRemoving intermediate container 5a25d8dad07a\n ---> 662ed36d411f\nStep 15/33 : COPY --from=deps /myapp/node_modules /myapp/node_modules\n ---> 4e71f37ba455\nStep 16/33 : ADD prisma .\n ---> 3c4f66ef14c1\nStep 17/33 : RUN npx prisma generate\n ---> Running in 41d63d5c409c\nPrisma schema loaded from schema.prisma\n\n✔ Generated Prisma Client (4.8.0 | library) to ./node_modules/@prisma/client in 153ms\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from '@prisma/client'\nconst prisma = new PrismaClient()\n```\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 41d63d5c409c\n ---> d59f84345bfb\nStep 18/33 : ADD . .\n ---> 15cc316853dc\nStep 19/33 : RUN npm run build\n ---> Running in 445d81aa02aa\n\n> build\n> run-s build:*\n\n\n> build:css\n> npm run generate:css -- --minify\n\n\n> generate:css\n> tailwindcss -o ./app/styles/tailwind.css --minify\n\n\u001b[91m\n\u001b[0m\u001b[91mRebuilding...\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mDone in 281ms.\n\u001b[0m\n> build:remix\n> remix build\n\nBuilding Remix app in production mode...\nBuilt in 484ms\nRemoving intermediate container 445d81aa02aa\n ---> 8a7caf6fd4d8\nStep 20/33 : FROM base\n ---> 7c6a8d50dc49\nStep 21/33 : ENV DATABASE_URL=file:/data/sqlite.db\n ---> Running in 442fb7d2be9e\nRemoving intermediate container 442fb7d2be9e\n ---> 777f47d6b321\nStep 22/33 : ENV PORT=\"8080\"\n ---> Running in c7f94410be6f\nRemoving intermediate container c7f94410be6f\n ---> c0750d7bffbc\nStep 23/33 : ENV NODE_ENV=\"production\"\n ---> Running in 72c87041482c\nRemoving intermediate container 72c87041482c\n ---> b6be0646c459\nStep 24/33 : RUN echo \"#!/bin/sh\\nset -x\\nsqlite3 \\$DATABASE_URL\" > /usr/local/bin/database-cli && chmod +x /usr/local/bin/database-cli\n ---> Running in c17a61b33613\nRemoving intermediate container c17a61b33613\n ---> 382c292bfe1a\nStep 25/33 : WORKDIR /myapp\n ---> Running in ff88ab8f4daa\nRemoving intermediate container ff88ab8f4daa\n ---> 281bfa0884f3\nStep 26/33 : COPY --from=production-deps /myapp/node_modules /myapp/node_modules\n ---> 52187d9b261a\nStep 27/33 : COPY --from=build /myapp/node_modules/.prisma /myapp/node_modules/.prisma\n ---> 27959893ac0f\nStep 28/33 : COPY --from=build /myapp/build /myapp/build\n ---> e2a2c6583bca\nStep 29/33 : COPY --from=build /myapp/public /myapp/public\n ---> 8a3d3f7c1930\nStep 30/33 : COPY --from=build /myapp/package.json /myapp/package.json\n ---> 56bae135fa81\nStep 31/33 : COPY --from=build /myapp/start.sh /myapp/start.sh\n ---> eec7381d5c53\nStep 32/33 : COPY --from=build /myapp/prisma /myapp/prisma\n ---> b4ab428bcff5\nStep 33/33 : ENTRYPOINT [ \"./start.sh\" ]\n ---> Running in 600664fa8778\nRemoving intermediate container 600664fa8778\n ---> 797366e7bba4\nSuccessfully built 797366e7bba4\nSuccessfully tagged indie-stack:latest\n","stderr":"","imageSize":264042264},"endTime":1672831917954}