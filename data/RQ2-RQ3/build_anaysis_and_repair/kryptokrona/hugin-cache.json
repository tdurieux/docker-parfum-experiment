{"repository":"https://github.com/kryptokrona/hugin-cache","dockerfilePath":"Dockerfile","startTime":1672493212840,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kryptokrona/hugin-cache'...\n","error":null,"commit":"f379f906bd12d6af30b7fba7098b7465a17b0294"},"originalBuild":{"startTimestamp":1672493213846,"endTimestamp":1672493469316,"error":null,"stdout":"Sending build context to Docker daemon  904.7kB\r\r\nStep 1/15 : FROM node:18-alpine\n18-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/15 : WORKDIR /usr/src/app\n ---> Running in 036116cd97e0\nRemoving intermediate container 036116cd97e0\n ---> 6914cfea13e4\nStep 3/15 : ENV PYTHONUNBUFFERED=1\n ---> Running in 553f0908a370\nRemoving intermediate container 553f0908a370\n ---> 32ae4845cef1\nStep 4/15 : RUN apk add g++ make\n ---> Running in 83ec57b9f991\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/13) Installing binutils (2.39-r2)\n(3/13) Installing libgomp (12.2.1_git20220924-r4)\n(4/13) Installing libatomic (12.2.1_git20220924-r4)\n(5/13) Installing gmp (6.2.1-r2)\n(6/13) Installing isl25 (0.25-r0)\n(7/13) Installing mpfr4 (4.1.0-r0)\n(8/13) Installing mpc1 (1.2.1-r1)\n(9/13) Installing gcc (12.2.1_git20220924-r4)\n(10/13) Installing musl-dev (1.2.3-r4)\n(11/13) Installing libc-dev (0.7.2-r3)\n(12/13) Installing g++ (12.2.1_git20220924-r4)\n(13/13) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 236 MiB in 30 packages\nRemoving intermediate container 83ec57b9f991\n ---> 7317646bfb9a\nStep 5/15 : RUN apk add --update --no-cache python3 && ln -sf python3 /usr/bin/python\n ---> Running in 85bf5ba11bcd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.8-r4)\n(2/11) Installing libexpat (2.5.0-r0)\n(3/11) Installing libffi (3.4.4-r0)\n(4/11) Installing gdbm (1.23-r0)\n(5/11) Installing xz-libs (5.2.9-r0)\n(6/11) Installing mpdecimal (2.5.1-r1)\n(7/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(8/11) Installing ncurses-libs (6.3_p20221119-r0)\n(9/11) Installing readline (8.2.0-r0)\n(10/11) Installing sqlite-libs (3.40.1-r0)\n(11/11) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container 85bf5ba11bcd\n ---> d6ed52a89548\nStep 6/15 : RUN python3 -m ensurepip\n ---> Running in a32d11593478\nLooking in links: /tmp/tmpth29sa0t\nProcessing /tmp/tmpth29sa0t/setuptools-65.5.0-py3-none-any.whl\nProcessing /tmp/tmpth29sa0t/pip-22.3.1-py3-none-any.whl\nInstalling collected packages: setuptools, pip\nSuccessfully installed pip-22.3.1 setuptools-65.5.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container a32d11593478\n ---> 22df041dd5d4\nStep 7/15 : RUN pip3 install --no-cache --upgrade pip setuptools\n ---> Running in b23a9607c090\nRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\nRequirement already satisfied: setuptools in /usr/lib/python3.10/site-packages (65.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 57.5 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 65.5.0\n    Uninstalling setuptools-65.5.0:\n      Successfully uninstalled setuptools-65.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container b23a9607c090\n ---> 11df6a42706d\nStep 8/15 : COPY package*.json ./\n ---> 32a0dbace080\nStep 9/15 : RUN npm install\n ---> Running in 5b6f830b9f77\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 496 packages, and audited 497 packages in 1m\n\n45 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 5b6f830b9f77\n ---> 7f309886eea5\nStep 10/15 : ENV NODE_ENV=production\n ---> Running in 6d6e6b9b2b7d\nRemoving intermediate container 6d6e6b9b2b7d\n ---> d097d93178b2\nStep 11/15 : COPY . .\n ---> ecfaa01e38b2\nStep 12/15 : RUN chmod +x start.sh\n ---> Running in 45c2dd36a2d7\nRemoving intermediate container 45c2dd36a2d7\n ---> 06a7fa93cfb8\nStep 13/15 : VOLUME /usr/src/app\n ---> Running in 2557c3195724\nRemoving intermediate container 2557c3195724\n ---> 4ff246059b99\nStep 14/15 : EXPOSE 3000\n ---> Running in d4de17c8fdeb\nRemoving intermediate container d4de17c8fdeb\n ---> b61dfc42d3ac\nStep 15/15 : CMD [\"start.sh\"]\n ---> Running in 8ed662525d58\nRemoving intermediate container 8ed662525d58\n ---> fc1b489af30c\nSuccessfully built fc1b489af30c\nSuccessfully tagged hugin-cache:latest\n","stderr":"","imageSize":708122252},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":4,"columnEnd":15}},{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":4,"columnEnd":52}},{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"FROM node:18-alpine\n\n# Create app directory\nWORKDIR /usr/src/app\n\n# Install Python/pip and dependencies\nENV PYTHONUNBUFFERED=1\nRUN apk add --no-cache g++ make\nRUN apk add --update --no-cache python3 && ln -sf python3 /usr/bin/python\nRUN python3 -m ensurepip\nRUN pip3 install --no-cache-dir --no-cache --upgrade pip setuptools\n\n# Install app dependencies\nCOPY package*.json ./\nRUN npm install\n\nENV NODE_ENV=production\n\n# bundle app source\nCOPY . .\n\nRUN chmod +x start.sh\n\nVOLUME /usr/src/app\n\nEXPOSE 3000\nCMD [\"start.sh\"]"},"repairedBuild":{"startTimestamp":1672493473307,"endTimestamp":1672493658624,"error":null,"stdout":"Sending build context to Docker daemon  905.2kB\r\r\nStep 1/15 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/15 : WORKDIR /usr/src/app\n ---> Running in 9ad7d2e0fa17\nRemoving intermediate container 9ad7d2e0fa17\n ---> 8b1402f63ea7\nStep 3/15 : ENV PYTHONUNBUFFERED=1\n ---> Running in 044fb5e7c66d\nRemoving intermediate container 044fb5e7c66d\n ---> 809da99de4ec\nStep 4/15 : RUN apk add --no-cache g++ make\n ---> Running in 029fe2eca887\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/13) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/13) Installing binutils (2.39-r2)\n(3/13) Installing libgomp (12.2.1_git20220924-r4)\n(4/13) Installing libatomic (12.2.1_git20220924-r4)\n(5/13) Installing gmp (6.2.1-r2)\n(6/13) Installing isl25 (0.25-r0)\n(7/13) Installing mpfr4 (4.1.0-r0)\n(8/13) Installing mpc1 (1.2.1-r1)\n(9/13) Installing gcc (12.2.1_git20220924-r4)\n(10/13) Installing musl-dev (1.2.3-r4)\n(11/13) Installing libc-dev (0.7.2-r3)\n(12/13) Installing g++ (12.2.1_git20220924-r4)\n(13/13) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 236 MiB in 30 packages\nRemoving intermediate container 029fe2eca887\n ---> dc710b7e0472\nStep 5/15 : RUN apk add --update --no-cache python3 && ln -sf python3 /usr/bin/python\n ---> Running in b7be7458c912\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.8-r4)\n(2/11) Installing libexpat (2.5.0-r0)\n(3/11) Installing libffi (3.4.4-r0)\n(4/11) Installing gdbm (1.23-r0)\n(5/11) Installing xz-libs (5.2.9-r0)\n(6/11) Installing mpdecimal (2.5.1-r1)\n(7/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(8/11) Installing ncurses-libs (6.3_p20221119-r0)\n(9/11) Installing readline (8.2.0-r0)\n(10/11) Installing sqlite-libs (3.40.1-r0)\n(11/11) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container b7be7458c912\n ---> 4b10d7a701cf\nStep 6/15 : RUN python3 -m ensurepip\n ---> Running in 077c4441a457\nLooking in links: /tmp/tmpiqd1ofgm\nProcessing /tmp/tmpiqd1ofgm/setuptools-65.5.0-py3-none-any.whl\nProcessing /tmp/tmpiqd1ofgm/pip-22.3.1-py3-none-any.whl\nInstalling collected packages: setuptools, pip\nSuccessfully installed pip-22.3.1 setuptools-65.5.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 077c4441a457\n ---> 1e094d8a3418\nStep 7/15 : RUN pip3 install --no-cache-dir --no-cache --upgrade pip setuptools\n ---> Running in d86d20f497c4\nRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\nRequirement already satisfied: setuptools in /usr/lib/python3.10/site-packages (65.5.0)\nCollecting setuptools\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 64.8 MB/s eta 0:00:00\nInstalling collected packages: setuptools\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 65.5.0\n    Uninstalling setuptools-65.5.0:\n      Successfully uninstalled setuptools-65.5.0\nSuccessfully installed setuptools-65.6.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container d86d20f497c4\n ---> 36fea4cf16ab\nStep 8/15 : COPY package*.json ./\n ---> 995cd0493545\nStep 9/15 : RUN npm install\n ---> Running in 9685c8b29a5b\n\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\nadded 496 packages, and audited 497 packages in 59s\n\n45 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 9685c8b29a5b\n ---> 45e12a2251f2\nStep 10/15 : ENV NODE_ENV=production\n ---> Running in 79bc145f24c1\nRemoving intermediate container 79bc145f24c1\n ---> 5df6f093cbd7\nStep 11/15 : COPY . .\n ---> 6cdc5a8a1556\nStep 12/15 : RUN chmod +x start.sh\n ---> Running in 21675ced0a22\nRemoving intermediate container 21675ced0a22\n ---> e9284afb622d\nStep 13/15 : VOLUME /usr/src/app\n ---> Running in 13b9dc748ac1\nRemoving intermediate container 13b9dc748ac1\n ---> f5140cb703f6\nStep 14/15 : EXPOSE 3000\n ---> Running in 8928b97b70ea\nRemoving intermediate container 8928b97b70ea\n ---> 48dc86562ceb\nStep 15/15 : CMD [\"start.sh\"]\n ---> Running in dba2bfd9b61f\nRemoving intermediate container dba2bfd9b61f\n ---> 13192d907fc6\nSuccessfully built 13192d907fc6\nSuccessfully tagged hugin-cache:latest\n","stderr":"","imageSize":705539401},"endTime":1672493659345}