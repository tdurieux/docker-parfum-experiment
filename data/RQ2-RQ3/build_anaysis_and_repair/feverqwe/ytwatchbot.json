{"repository":"https://github.com/feverqwe/ytwatchbot","dockerfilePath":"Dockerfile","startTime":1672470800063,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/feverqwe/ytwatchbot'...\n","error":null,"commit":"81935e6c236e89dd7bcd49d17954e961d968a719"},"originalBuild":{"startTimestamp":1672470800993,"endTimestamp":1672470882150,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t ytwatchbot:latest -f /tmp/dinghy-analysis/feverqwe/ytwatchbot/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.039MB\r\r\nStep 1/28 : FROM node:18-alpine as node\n18-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/28 : ENV NO_UPDATE_NOTIFIER true\n ---> Running in b1681bae274e\nRemoving intermediate container b1681bae274e\n ---> ce661d3cbbd7\nStep 3/28 : RUN npm i -g npm@^9\n ---> Running in 25f550c4d036\n\nremoved 14 packages, changed 75 packages, and audited 232 packages in 21s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 25f550c4d036\n ---> 16fdaacde283\nStep 4/28 : FROM node as base\n ---> 16fdaacde283\nStep 5/28 : WORKDIR /opt/backend\n ---> Running in b47371531c26\nRemoving intermediate container b47371531c26\n ---> 81eda0e0aa3a\nStep 6/28 : RUN chown -R nobody:nobody ./ &&     mkdir /.npm &&     chown -R nobody:nobody /.npm\n ---> Running in 49543454a3f5\nRemoving intermediate container 49543454a3f5\n ---> 2b7b70772acf\nStep 7/28 : USER nobody:nobody\n ---> Running in acc5fe2510ad\nRemoving intermediate container acc5fe2510ad\n ---> bf4566d56c2a\nStep 8/28 : COPY ./package.json .\n ---> b3c33a3e5ee1\nStep 9/28 : COPY ./package-lock.json .\n ---> 421afc31033f\nStep 10/28 : RUN npm ci --production\n ---> Running in 1aa8c0a775d2\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config\u001b[0m\u001b[91m production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 214 packages, and audited 215 packages in 3s\n\n39 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 1aa8c0a775d2\n ---> 2f04c83a7721\nStep 11/28 : FROM base as build\n ---> 2f04c83a7721\nStep 12/28 : WORKDIR /opt/backend\n ---> Running in d3b5433e2b89\nRemoving intermediate container d3b5433e2b89\n ---> 7287b8b79da7\nStep 13/28 : USER nobody:nobody\n ---> Running in 992f733a24b9\nRemoving intermediate container 992f733a24b9\n ---> d45c45bd5c69\nStep 14/28 : RUN npm ci\n ---> Running in 0928ad9a9bb3\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 612 packages, and audited 613 packages in 7s\n\n88 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container 0928ad9a9bb3\n ---> 0ca5e386ff72\nStep 15/28 : ADD ./src ./src\n ---> 8b8b10098878\nStep 16/28 : COPY ./rollup.config.js .\n ---> 35577c6d4053\nStep 17/28 : COPY ./tsconfig.json .\n ---> 77d7e63947a7\nStep 18/28 : RUN npm run build\n ---> Running in d6fa9bdeac43\n\n> application-name@0.0.1 build\n> npm run clean && rollup -c ./rollup.config.js\n\n\n> application-name@0.0.1 clean\n> del-cli ./dist\n\n\u001b[91m\u001b[36m\n\u001b[1m./src/main.ts\u001b[22m â†’ \u001b[1m./dist\u001b[22m...\u001b[39m\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Entry module \"src/main.ts\" is implicitly using \"default\" export mode, which means for CommonJS output that its default export is assigned to \"module.exports\". For many tools, such CommonJS output will not be interchangeable with the original ES module. If this is intended, explicitly set \"output.exports\" to either \"auto\" or \"default\", otherwise you might want to consider changing the signature of \"src/main.ts\" to use named exports only.\u001b[39m\u001b[22m\n\u001b[90mhttps://rollupjs.org/guide/en/#outputexports\u001b[39m\n\u001b[1msrc/main.ts\u001b[22m\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Unresolved dependencies\u001b[39m\u001b[22m\n\u001b[90mhttps://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency\u001b[39m\n\u001b[1mevents\u001b[22m (imported by src/main.ts, src/tools/expressPubSub.ts)\n\u001b[1mpath\u001b[22m (imported by src/main.ts, src/logFile.ts)\n\u001b[0m\u001b[91m\u001b[1mfs\u001b[22m (imported by src/tools/loadConfig.ts, src/chat.ts, src/logFile.ts)\n\u001b[0m\u001b[91m\u001b[1msequelize\u001b[22m (imported by src/db.ts)\n\u001b[1msuperstruct\u001b[22m (imported by src/services/youtube.ts)\n\u001b[0m\u001b[91m\u001b[1mquerystring\u001b[22m (imported by src/tracker.ts, src/ytPubSub.ts, src/tools/replaceBotRequest.ts, src/tools/fetchRequest.ts, src/router.ts, src/tools/expressPubSub.ts)\n\u001b[0m\u001b[91m\u001b[1muuid\u001b[22m (imported by src/tracker.ts)\n\u001b[1mquick-lru\u001b[22m (imported by src/tracker.ts, src/tools/timeCache.ts)\n\u001b[0m\u001b[91m\u001b[1mexpress\u001b[22m (imported by src/ytPubSub.ts, src/tools/expressPubSub.ts)\n\u001b[1mlimiter\u001b[22m (imported by src/tools/rateLimit2.ts)\n\u001b[0m\u001b[91m\u001b[1mform-data\u001b[22m (imported by src/tools/replaceBotRequest.ts)\n\u001b[1mmodule\u001b[22m (imported by src/tools/replaceBotRequest.ts)\n\u001b[1miso8601-duration\u001b[22m (imported by src/tools/formatDuration.ts)\n\u001b[1mhttp\u001b[22m (imported by src/tools/fetchRequest.ts)\n\u001b[1mhttps\u001b[22m (imported by src/tools/fetchRequest.ts)\n\u001b[0m\u001b[91m\u001b[1mabort-controller\u001b[22m (imported by src/tools/fetchRequest.ts)\n\u001b[0m\u001b[91m\u001b[1mp-limit\u001b[22m (imported by src/tools/promiseLimit.ts)\n\u001b[1mcrypto\u001b[22m (imported by src/tools/expressPubSub.ts)\n\u001b[0m\u001b[91m\u001b[1mutil\u001b[22m (imported by src/tools/inlineInspect.ts)\n\u001b[0m\u001b[91m\u001b[32mcreated \u001b[1m./dist\u001b[22m in \u001b[1m3.1s\u001b[22m\u001b[39m\n\u001b[0mRemoving intermediate container d6fa9bdeac43\n ---> c988e3b0a189\nStep 19/28 : FROM base as release\n ---> 2f04c83a7721\nStep 20/28 : WORKDIR /opt/backend\n ---> Running in cd0777451db6\nRemoving intermediate container cd0777451db6\n ---> 01cca1c06663\nStep 21/28 : COPY --from=build /opt/backend/dist ./dist\n ---> 0600a9c2fc2d\nStep 22/28 : USER nobody:nobody\n ---> Running in 0457706cdb57\nRemoving intermediate container 0457706cdb57\n ---> 45a8685ce730\nStep 23/28 : COPY ./liveTime.json .\n","stderr":"COPY failed: file not found in build context or excluded by .dockerignore: stat liveTime.json: file does not exist\n"},"endTime":1672470882226}