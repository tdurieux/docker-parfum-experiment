{"repository":"https://github.com/feverqwe/twimonbot","dockerfilePath":"Dockerfile","startTime":1672856564061,"endTime":1672856870896,"clone":{"startTime":1672856564061,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/feverqwe/twimonbot'...\n","error":null,"endTime":1672856564890,"commit":"c56bfa6b51396d88c592f4809bb7935e67d09344"},"originalBuild":{"startTime":1672856564967,"endTime":1672856870821,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t twimonbot:latest -f /tmp/dinghy-analysis/feverqwe/twimonbot/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.138MB\r\r\nStep 1/27 : FROM node:18-alpine as node\n18-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/27 : ENV NO_UPDATE_NOTIFIER true\n ---> Running in adab50c52f87\nRemoving intermediate container adab50c52f87\n ---> 7fdb595d1597\nStep 3/27 : RUN npm i -g npm@^9\n ---> Running in d6c6145b9ba8\n\nremoved 14 packages, changed 75 packages, and audited 232 packages in 2m\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container d6c6145b9ba8\n ---> 9b850f142c4c\nStep 4/27 : FROM node as base\n ---> 9b850f142c4c\nStep 5/27 : WORKDIR /opt/backend\n ---> Running in 65e72a9aa609\nRemoving intermediate container 65e72a9aa609\n ---> 4b14d9590e12\nStep 6/27 : RUN chown -R nobody:nobody ./ &&     mkdir /.npm &&     chown -R nobody:nobody /.npm\n ---> Running in c63e83a73d41\nRemoving intermediate container c63e83a73d41\n ---> aa8dfa21f8d8\nStep 7/27 : USER nobody:nobody\n ---> Running in 60b1939303fe\nRemoving intermediate container 60b1939303fe\n ---> 5d0213c0442e\nStep 8/27 : COPY ./package.json .\n ---> 4dd495731343\nStep 9/27 : COPY ./package-lock.json .\n ---> 21fdd78549aa\nStep 10/27 : RUN npm ci --production\n ---> Running in 2d33e99fb40b\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config\u001b[0m\u001b[91m production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 209 packages, and audited 210 packages in 4s\n\n39 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 2d33e99fb40b\n ---> bcdfd2859007\nStep 11/27 : FROM base as build\n ---> bcdfd2859007\nStep 12/27 : WORKDIR /opt/backend\n ---> Running in 7132c9014036\nRemoving intermediate container 7132c9014036\n ---> 49351a7a6d04\nStep 13/27 : USER nobody:nobody\n ---> Running in 2b8009963769\nRemoving intermediate container 2b8009963769\n ---> b0f9f2883293\nStep 14/27 : RUN npm ci\n ---> Running in aa0e83e5b5d2\n\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 605 packages, and audited 606 packages in 6s\n\n88 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container aa0e83e5b5d2\n ---> 4172f01171e2\nStep 15/27 : ADD ./src ./src\n ---> a03da77ea671\nStep 16/27 : COPY ./rollup.config.js .\n ---> 28a954477bb0\nStep 17/27 : COPY ./tsconfig.json .\n ---> 7c6cdb8dadd3\nStep 18/27 : RUN npm run build\n ---> Running in 7f0b245d54c7\n\n> application-name@0.0.1 build\n> npm run clean && rollup -c ./rollup.config.js\n\n\n> application-name@0.0.1 clean\n> del-cli ./dist\n\n\u001b[91m\u001b[36m\n\u001b[1m./src/main.ts\u001b[22m â†’ \u001b[1m./dist\u001b[22m...\u001b[39m\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Entry module \"src/main.ts\" is implicitly using \"default\" export mode, which means for CommonJS output that its default export is assigned to \"module.exports\". For many tools, such CommonJS output will not be interchangeable with the original ES module. If this is intended, explicitly set \"output.exports\" to either \"auto\" or \"default\", otherwise you might want to consider changing the signature of \"src/main.ts\" to use named exports only.\u001b[39m\u001b[22m\n\u001b[90mhttps://rollupjs.org/guide/en/#outputexports\u001b[39m\n\u001b[1msrc/main.ts\u001b[22m\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Unresolved dependencies\u001b[39m\u001b[22m\n\u001b[90mhttps://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency\u001b[39m\n\u001b[0m\u001b[91m\u001b[1mevents\u001b[22m (imported by src/main.ts, src/tools/expressPubSub.ts)\n\u001b[1mpath\u001b[22m (imported by src/main.ts, src/logFile.ts)\n\u001b[0m\u001b[91m\u001b[1mfs\u001b[22m (imported by src/tools/loadConfig.ts, src/logFile.ts)\n\u001b[0m\u001b[91m\u001b[1msequelize\u001b[22m (imported by src/db.ts)\n\u001b[1mquerystring\u001b[22m (imported by src/tracker.ts, src/ytPubSub.ts, src/tools/replaceBotRequest.ts, src/tools/fetchRequest.ts, src/router.ts, src/tools/expressPubSub.ts)\n\u001b[1muuid\u001b[22m (imported by src/tracker.ts)\n\u001b[0m\u001b[91m\u001b[1mquick-lru\u001b[22m (imported by src/tracker.ts, src/tools/timeCache.ts)\n\u001b[1msuperstruct\u001b[22m (imported by src/services/goodgame.ts, src/services/twitch.ts, src/services/youtube.ts, src/services/wasd.ts)\n\u001b[0m\u001b[91m\u001b[1mhtml-entities\u001b[22m (imported by src/services/youtube.ts)\n\u001b[1mexpress\u001b[22m (imported by src/ytPubSub.ts, src/tools/expressPubSub.ts)\n\u001b[0m\u001b[91m\u001b[1mlimiter\u001b[22m (imported by src/tools/rateLimit2.ts)\n\u001b[1mform-data\u001b[22m (imported by src/tools/replaceBotRequest.ts)\n\u001b[1mmodule\u001b[22m (imported by src/tools/replaceBotRequest.ts)\n\u001b[0m\u001b[91m\u001b[1mp-limit\u001b[22m (imported by src/tools/promiseLimit.ts)\n\u001b[1mhttp\u001b[22m (imported by src/tools/fetchRequest.ts)\n\u001b[1mhttps\u001b[22m (imported by src/tools/fetchRequest.ts)\n\u001b[1mabort-controller\u001b[22m (imported by src/tools/fetchRequest.ts)\n\u001b[1mcrypto\u001b[22m (imported by src/tools/expressPubSub.ts)\n\u001b[0m\u001b[91m\u001b[1mutil\u001b[22m (imported by src/tools/inlineInspect.ts)\n\u001b[0m\u001b[91m\u001b[32mcreated \u001b[1m./dist\u001b[22m in \u001b[1m4.3s\u001b[22m\u001b[39m\n\u001b[0mRemoving intermediate container 7f0b245d54c7\n ---> 78fba8d7ab26\nStep 19/27 : FROM base as release\n ---> bcdfd2859007\nStep 20/27 : WORKDIR /opt/backend\n ---> Running in b3a6313b7cbf\nRemoving intermediate container b3a6313b7cbf\n ---> 629c9dea178d\nStep 21/27 : COPY --from=build /opt/backend/dist ./dist\n ---> 93586a1afe4e\nStep 22/27 : USER nobody:nobody\n ---> Running in f9e7ac14ef7e\nRemoving intermediate container f9e7ac14ef7e\n ---> d9e6d9f7f942\nStep 23/27 : COPY ./config.json .\n","stderr":"COPY failed: file not found in build context or excluded by .dockerignore: stat config.json: file does not exist\n"}}