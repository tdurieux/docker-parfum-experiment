{"repository":"https://github.com/devinus/poison","dockerfilePath":"Dockerfile","startTime":1672382745188,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/devinus/poison'...\n","error":null,"commit":"de07407fd35293d136ef3c7b2a140eaa29ff5617"},"originalBuild":{"startTimestamp":1672382746378,"endTimestamp":1672382845298,"error":null,"stdout":"Sending build context to Docker daemon  19.98MB\r\r\nStep 1/24 : FROM elixir:1.12.3-alpine as base\n1.12.3-alpine: Pulling from library/elixir\nca7dd9ec2225: Pulling fs layer\n98b6b89ef89c: Pulling fs layer\na60d8f211312: Pulling fs layer\nca7dd9ec2225: Verifying Checksum\nca7dd9ec2225: Download complete\na60d8f211312: Verifying Checksum\na60d8f211312: Download complete\nca7dd9ec2225: Pull complete\n98b6b89ef89c: Verifying Checksum\n98b6b89ef89c: Download complete\n98b6b89ef89c: Pull complete\na60d8f211312: Pull complete\nDigest: sha256:9408384ce75c9d2e2c1226ecd1774124387d174f66280c66cd50e9b0a64d1a97\nStatus: Downloaded newer image for elixir:1.12.3-alpine\n ---> b641d7a585d1\nStep 2/24 : ARG MIX_ENV\n ---> Running in fb905b4f6f3f\nRemoving intermediate container fb905b4f6f3f\n ---> 81016e7243aa\nStep 3/24 : ENV MIX_ENV ${MIX_ENV:-test}\n ---> Running in 311fbb6a638e\nRemoving intermediate container 311fbb6a638e\n ---> 9250079144c5\nStep 4/24 : RUN apk --no-cache add git build-base\n ---> Running in 89a36210bf04\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/24) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/24) Installing binutils (2.38-r3)\n(3/24) Installing libmagic (5.41-r0)\n(4/24) Installing file (5.41-r0)\n(5/24) Installing libgomp (11.2.1_git20220219-r2)\n(6/24) Installing libatomic (11.2.1_git20220219-r2)\n(7/24) Installing gmp (6.2.1-r2)\n(8/24) Installing isl22 (0.22-r0)\n(9/24) Installing mpfr4 (4.1.0-r0)\n(10/24) Installing mpc1 (1.2.1-r0)\n(11/24) Installing gcc (11.2.1_git20220219-r2)\n(12/24) Installing musl-dev (1.2.3-r2)\n(13/24) Installing libc-dev (0.7.2-r3)\n(14/24) Installing g++ (11.2.1_git20220219-r2)\n(15/24) Installing make (4.3-r0)\n(16/24) Installing fortify-headers (1.1-r1)\n(17/24) Installing patch (2.7.6-r7)\n(18/24) Installing build-base (0.5-r3)\n(19/24) Installing brotli-libs (1.0.9-r6)\n(20/24) Installing nghttp2-libs (1.47.0-r0)\n(21/24) Installing libcurl (7.83.1-r5)\n(22/24) Installing expat (2.5.0-r0)\n(23/24) Installing pcre2 (10.40-r0)\n(24/24) Installing git (2.36.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 202 MiB in 47 packages\nRemoving intermediate container 89a36210bf04\n ---> c1b5ae95e982\nStep 5/24 : RUN adduser -D user\n ---> Running in dbc58ac89070\nRemoving intermediate container dbc58ac89070\n ---> fb866b8924fe\nStep 6/24 : RUN mkdir -p /usr/src/project\n ---> Running in 64b491078bf3\nRemoving intermediate container 64b491078bf3\n ---> 626fac6f0ce4\nStep 7/24 : RUN chown user:user /usr/src/project\n ---> Running in f12086568222\nRemoving intermediate container f12086568222\n ---> 1b947075d583\nStep 8/24 : USER user\n ---> Running in 24b7bf81f7e2\nRemoving intermediate container 24b7bf81f7e2\n ---> 517eb12002d3\nStep 9/24 : WORKDIR /usr/src/project\n ---> Running in 2139319ade4a\nRemoving intermediate container 2139319ade4a\n ---> ad137b82f443\nStep 10/24 : RUN mix local.hex --force\n ---> Running in e69c924c4aec\n* creating /home/user/.mix/archives/hex-2.0.0\nRemoving intermediate container e69c924c4aec\n ---> feba64ce5ab3\nStep 11/24 : RUN mix local.rebar --force\n ---> Running in d70ac112791f\n* creating /home/user/.mix/rebar\n* creating /home/user/.mix/rebar3\nRemoving intermediate container d70ac112791f\n ---> 33df770c1f9e\nStep 12/24 : FROM base AS build\n ---> 33df770c1f9e\nStep 13/24 : COPY --chown=user VERSION .\n ---> aa5b2ff1a2fe\nStep 14/24 : COPY --chown=user mix.exs .\n ---> 4a0e92fbea18\nStep 15/24 : COPY --chown=user mix.lock .\n ---> 26d62c3367af\nStep 16/24 : RUN mix deps.get\n ---> Running in 27a5593c0dfa\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mResolving Hex dependencies...\nResolution completed in 0.075s\nUnchanged:\n  benchee 1.0.1\n  benchee_html 1.0.0\n  benchee_json 1.0.0\n  bunt 0.2.0\n  certifi 2.8.0\n  credo 1.6.1\n  decimal 2.0.0\n  deep_merge 1.0.0\n  dialyxir 1.1.0\n  earmark_parser 1.4.17\n  erlex 0.2.6\n  ex_doc 0.26.0\n  excoveralls 0.14.4\n  exjsx 4.0.0\n  file_system 0.2.10\n  hackney 1.18.0\n  idna 6.1.1\n  jason 1.2.2\n  jiffy 1.0.8\n  json 1.4.1\n  jsone 1.7.0\n  jsx 2.8.3\n  junit_formatter 3.3.0\n  makeup 1.0.5\n  makeup_elixir 0.15.2\n  makeup_erlang 0.1.1\n  metrics 1.0.1\n  mimerl 1.2.0\n  nimble_parsec 1.2.0\n  parse_trans 3.3.1\n  ssl_verify_fun 1.1.6\n  stream_data 0.5.0\n  tiny 1.0.1\n  unicode_util_compat 0.7.0\n* Getting benchee_html (Hex package)\n* Getting benchee (Hex package)\n* Getting credo (Hex package)\n* Getting decimal (Hex package)\n* Getting dialyxir (Hex package)\n* Getting ex_doc (Hex package)\n* Getting excoveralls (Hex package)\n* Getting exjsx (Hex package)\n* Getting jason (Hex package)\n* Getting jiffy (Hex package)\n* Getting json (Hex package)\n* Getting jsone (Hex package)\n* Getting junit_formatter (Hex package)\n* Getting stream_data (Hex package)\n* Getting tiny (Hex package)\n* Getting jsx (Hex package)\n* Getting hackney (Hex package)\n* Getting certifi (Hex package)\n* Getting idna (Hex package)\n* Getting metrics (Hex package)\n* Getting mimerl (Hex package)\n* Getting parse_trans (Hex package)\n* Getting ssl_verify_fun (Hex package)\n* Getting unicode_util_compat (Hex package)\n* Getting earmark_parser (Hex package)\n* Getting makeup_elixir (Hex package)\n* Getting makeup_erlang (Hex package)\n* Getting makeup (Hex package)\n* Getting nimble_parsec (Hex package)\n* Getting erlex (Hex package)\n* Getting bunt (Hex package)\n* Getting file_system (Hex package)\n* Getting deep_merge (Hex package)\n* Getting benchee_json (Hex package)\nRemoving intermediate container 27a5593c0dfa\n ---> ddbdb816f6a1\nStep 17/24 : RUN mix deps.compile\n ---> Running in 41af34c70181\n==> earmark_parser\nCompiling 1 file (.yrl)\nCompiling 2 files (.xrl)\nCompiling 3 files (.erl)\nCompiling 32 files (.ex)\nGenerated earmark_parser app\n===> Analyzing applications...\n===> Compiling parse_trans\n==> erlex\nCompiling 1 file (.yrl)\nsrc/parser.yrl: Warning: conflicts: 27 shift/reduce, 0 reduce/reduce\nCompiling 1 file (.xrl)\nCompiling 2 files (.erl)\nCompiling 1 file (.ex)\nGenerated erlex app\n===> Analyzing applications...\n===> Compiling mimerl\n==> file_system\nCompiling 7 files (.ex)\nGenerated file_system app\n==> stream_data\nCompiling 3 files (.ex)\nGenerated stream_data app\n==> nimble_parsec\nCompiling 4 files (.ex)\nGenerated nimble_parsec app\n==> makeup\nCompiling 44 files (.ex)\nGenerated makeup app\n===> Analyzing applications...\n===> Compiling metrics\n===> Analyzing applications...\n===> Compiling unicode_util_compat\n===> Analyzing applications...\n===> Compiling idna\n==> bunt\nCompiling 2 files (.ex)\nGenerated bunt app\n==> decimal\nCompiling 4 files (.ex)\nGenerated decimal app\n==> jason\nCompiling 8 files (.ex)\nGenerated jason app\n==> ssl_verify_fun\nCompiling 7 files (.erl)\nGenerated ssl_verify_fun app\n==> junit_formatter\nCompiling 1 file (.ex)\nGenerated junit_formatter app\n==> dialyxir\nCompiling 58 files (.ex)\nGenerated dialyxir app\n===> Analyzing applications...\n===> Compiling certifi\n===> Analyzing applications...\n===> Compiling hackney\n==> excoveralls\nCompiling 28 files (.ex)\nGenerated excoveralls app\n==> credo\nCompiling 241 files (.ex)\nGenerated credo app\n==> makeup_elixir\nCompiling 6 files (.ex)\nGenerated makeup_elixir app\n==> makeup_erlang\nCompiling 3 files (.ex)\nGenerated makeup_erlang app\n==> ex_doc\nCompiling 26 files (.ex)\nGenerated ex_doc app\nRemoving intermediate container 41af34c70181\n ---> 2e0ed648a77c\nStep 18/24 : RUN mix compile\n ---> Running in c780a7f0fec8\nGenerated poison app\nRemoving intermediate container c780a7f0fec8\n ---> 5957dc672e42\nStep 19/24 : FROM base AS dev\n ---> 33df770c1f9e\nStep 20/24 : COPY --chown=user --from=build /usr/src/project/deps deps\n ---> b8c3ca7ee09f\nStep 21/24 : COPY --chown=user --from=build /usr/src/project/_build _build\n ---> af67c253be61\nStep 22/24 : COPY --chown=user . .\n ---> 603c8fd71758\nStep 23/24 : RUN git submodule update --init\n ---> Running in 3c1a627f6a4c\n\u001b[91mSubmodule 'JSONTestSuite' (https://github.com/nst/JSONTestSuite.git) registered for path 'vendor/JSONTestSuite'\n\u001b[0m\u001b[91mCloning into '/usr/src/project/vendor/JSONTestSuite'...\n\u001b[0mSubmodule path 'vendor/JSONTestSuite': checked out 'd64aefb55228d9584d3e5b2433f720ea8fd00c82'\nRemoving intermediate container 3c1a627f6a4c\n ---> dc6df621e654\nStep 24/24 : CMD [\"iex\", \"-S\", \"mix\"]\n ---> Running in 3e282a13293b\nRemoving intermediate container 3e282a13293b\n ---> 25337503e0df\nSuccessfully built 25337503e0df\nSuccessfully tagged poison:latest\n","stderr":"","imageSize":540530363},"repair":{"violations":[{"name":"mkdirUsrSrcThenRemove","position":{"start":5,"end":5,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"FROM elixir:1.12.3-alpine as base\nARG MIX_ENV\nENV MIX_ENV ${MIX_ENV:-test}\nRUN apk --no-cache add git build-base\nRUN adduser -D user\nRUN mkdir -p /usr/src/project\nRUN chown user:user /usr/src/project\nUSER user\nWORKDIR /usr/src/project\nRUN mix local.hex --force\nRUN mix local.rebar --force\n\n\nFROM base AS build\nCOPY --chown=user VERSION .\nCOPY --chown=user mix.exs .\nCOPY --chown=user mix.lock .\nRUN mix deps.get\nRUN mix deps.compile\nRUN mix compile\n\n\nFROM base AS dev\nCOPY --chown=user --from=build /usr/src/project/deps deps\nCOPY --chown=user --from=build /usr/src/project/_build _build\nCOPY --chown=user . .\nRUN git submodule update --init\nCMD [\"iex\", \"-S\", \"mix\"]\n"},"repairedBuild":{"startTimestamp":1672382845672,"endTimestamp":1672382944163,"error":null,"stdout":"Sending build context to Docker daemon  19.98MB\r\r\nStep 1/24 : FROM elixir:1.12.3-alpine as base\n ---> b641d7a585d1\nStep 2/24 : ARG MIX_ENV\n ---> Running in 90e81f6ffb01\nRemoving intermediate container 90e81f6ffb01\n ---> 5f323bcfa303\nStep 3/24 : ENV MIX_ENV ${MIX_ENV:-test}\n ---> Running in a4bb18aa9557\nRemoving intermediate container a4bb18aa9557\n ---> 2ec3468196ac\nStep 4/24 : RUN apk --no-cache add git build-base\n ---> Running in df863dc3508c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/24) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/24) Installing binutils (2.38-r3)\n(3/24) Installing libmagic (5.41-r0)\n(4/24) Installing file (5.41-r0)\n(5/24) Installing libgomp (11.2.1_git20220219-r2)\n(6/24) Installing libatomic (11.2.1_git20220219-r2)\n(7/24) Installing gmp (6.2.1-r2)\n(8/24) Installing isl22 (0.22-r0)\n(9/24) Installing mpfr4 (4.1.0-r0)\n(10/24) Installing mpc1 (1.2.1-r0)\n(11/24) Installing gcc (11.2.1_git20220219-r2)\n(12/24) Installing musl-dev (1.2.3-r2)\n(13/24) Installing libc-dev (0.7.2-r3)\n(14/24) Installing g++ (11.2.1_git20220219-r2)\n(15/24) Installing make (4.3-r0)\n(16/24) Installing fortify-headers (1.1-r1)\n(17/24) Installing patch (2.7.6-r7)\n(18/24) Installing build-base (0.5-r3)\n(19/24) Installing brotli-libs (1.0.9-r6)\n(20/24) Installing nghttp2-libs (1.47.0-r0)\n(21/24) Installing libcurl (7.83.1-r5)\n(22/24) Installing expat (2.5.0-r0)\n(23/24) Installing pcre2 (10.40-r0)\n(24/24) Installing git (2.36.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 202 MiB in 47 packages\nRemoving intermediate container df863dc3508c\n ---> e4e5321cbe03\nStep 5/24 : RUN adduser -D user\n ---> Running in 4bf4987dc4ce\nRemoving intermediate container 4bf4987dc4ce\n ---> 79a566feadf7\nStep 6/24 : RUN mkdir -p /usr/src/project\n ---> Running in 068fc0bf9ca5\nRemoving intermediate container 068fc0bf9ca5\n ---> e2a389ecaa10\nStep 7/24 : RUN chown user:user /usr/src/project\n ---> Running in bdf385af52be\nRemoving intermediate container bdf385af52be\n ---> 46b036e02ba4\nStep 8/24 : USER user\n ---> Running in 8b5832dfd21b\nRemoving intermediate container 8b5832dfd21b\n ---> d444587ab33c\nStep 9/24 : WORKDIR /usr/src/project\n ---> Running in 0c1092e5802b\nRemoving intermediate container 0c1092e5802b\n ---> 23b509b460b8\nStep 10/24 : RUN mix local.hex --force\n ---> Running in d4075e45489f\n* creating /home/user/.mix/archives/hex-2.0.0\nRemoving intermediate container d4075e45489f\n ---> 7f9e9a5dbc3e\nStep 11/24 : RUN mix local.rebar --force\n ---> Running in 127852faad04\n* creating /home/user/.mix/rebar\n* creating /home/user/.mix/rebar3\nRemoving intermediate container 127852faad04\n ---> 9da7ffdf900f\nStep 12/24 : FROM base AS build\n ---> 9da7ffdf900f\nStep 13/24 : COPY --chown=user VERSION .\n ---> 4a2522759a55\nStep 14/24 : COPY --chown=user mix.exs .\n ---> 6ce3f7885208\nStep 15/24 : COPY --chown=user mix.lock .\n ---> 94f7b58e0f51\nStep 16/24 : RUN mix deps.get\n ---> Running in efc68aab8364\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mResolving Hex dependencies...\nResolution completed in 0.087s\nUnchanged:\n  benchee 1.0.1\n  benchee_html 1.0.0\n  benchee_json 1.0.0\n  bunt 0.2.0\n  certifi 2.8.0\n  credo 1.6.1\n  decimal 2.0.0\n  deep_merge 1.0.0\n  dialyxir 1.1.0\n  earmark_parser 1.4.17\n  erlex 0.2.6\n  ex_doc 0.26.0\n  excoveralls 0.14.4\n  exjsx 4.0.0\n  file_system 0.2.10\n  hackney 1.18.0\n  idna 6.1.1\n  jason 1.2.2\n  jiffy 1.0.8\n  json 1.4.1\n  jsone 1.7.0\n  jsx 2.8.3\n  junit_formatter 3.3.0\n  makeup 1.0.5\n  makeup_elixir 0.15.2\n  makeup_erlang 0.1.1\n  metrics 1.0.1\n  mimerl 1.2.0\n  nimble_parsec 1.2.0\n  parse_trans 3.3.1\n  ssl_verify_fun 1.1.6\n  stream_data 0.5.0\n  tiny 1.0.1\n  unicode_util_compat 0.7.0\n* Getting benchee_html (Hex package)\n* Getting benchee (Hex package)\n* Getting credo (Hex package)\n* Getting decimal (Hex package)\n* Getting dialyxir (Hex package)\n* Getting ex_doc (Hex package)\n* Getting excoveralls (Hex package)\n* Getting exjsx (Hex package)\n* Getting jason (Hex package)\n* Getting jiffy (Hex package)\n* Getting json (Hex package)\n* Getting jsone (Hex package)\n* Getting junit_formatter (Hex package)\n* Getting stream_data (Hex package)\n* Getting tiny (Hex package)\n* Getting jsx (Hex package)\n* Getting hackney (Hex package)\n* Getting certifi (Hex package)\n* Getting idna (Hex package)\n* Getting metrics (Hex package)\n* Getting mimerl (Hex package)\n* Getting parse_trans (Hex package)\n* Getting ssl_verify_fun (Hex package)\n* Getting unicode_util_compat (Hex package)\n* Getting earmark_parser (Hex package)\n* Getting makeup_elixir (Hex package)\n* Getting makeup_erlang (Hex package)\n* Getting makeup (Hex package)\n* Getting nimble_parsec (Hex package)\n* Getting erlex (Hex package)\n* Getting bunt (Hex package)\n* Getting file_system (Hex package)\n* Getting deep_merge (Hex package)\n* Getting benchee_json (Hex package)\nRemoving intermediate container efc68aab8364\n ---> 263f531f980c\nStep 17/24 : RUN mix deps.compile\n ---> Running in a255a11ebc9b\n==> earmark_parser\nCompiling 1 file (.yrl)\nCompiling 2 files (.xrl)\nCompiling 3 files (.erl)\nCompiling 32 files (.ex)\nGenerated earmark_parser app\n===> Analyzing applications...\n===> Compiling parse_trans\n==> erlex\nCompiling 1 file (.yrl)\nsrc/parser.yrl: Warning: conflicts: 27 shift/reduce, 0 reduce/reduce\nCompiling 1 file (.xrl)\nCompiling 2 files (.erl)\nCompiling 1 file (.ex)\nGenerated erlex app\n===> Analyzing applications...\n===> Compiling mimerl\n==> file_system\nCompiling 7 files (.ex)\nGenerated file_system app\n==> stream_data\nCompiling 3 files (.ex)\nGenerated stream_data app\n==> nimble_parsec\nCompiling 4 files (.ex)\nGenerated nimble_parsec app\n==> makeup\nCompiling 44 files (.ex)\nGenerated makeup app\n===> Analyzing applications...\n===> Compiling metrics\n===> Analyzing applications...\n===> Compiling unicode_util_compat\n===> Analyzing applications...\n===> Compiling idna\n==> bunt\nCompiling 2 files (.ex)\nGenerated bunt app\n==> decimal\nCompiling 4 files (.ex)\nGenerated decimal app\n==> jason\nCompiling 8 files (.ex)\nGenerated jason app\n==> ssl_verify_fun\nCompiling 7 files (.erl)\nGenerated ssl_verify_fun app\n==> junit_formatter\nCompiling 1 file (.ex)\nGenerated junit_formatter app\n==> dialyxir\nCompiling 58 files (.ex)\nGenerated dialyxir app\n===> Analyzing applications...\n===> Compiling certifi\n===> Analyzing applications...\n===> Compiling hackney\n==> excoveralls\nCompiling 28 files (.ex)\nGenerated excoveralls app\n==> credo\nCompiling 241 files (.ex)\nGenerated credo app\n==> makeup_elixir\nCompiling 6 files (.ex)\nGenerated makeup_elixir app\n==> makeup_erlang\nCompiling 3 files (.ex)\nGenerated makeup_erlang app\n==> ex_doc\nCompiling 26 files (.ex)\nGenerated ex_doc app\nRemoving intermediate container a255a11ebc9b\n ---> 4a8fc796723e\nStep 18/24 : RUN mix compile\n ---> Running in 16bac6fd379f\nGenerated poison app\nRemoving intermediate container 16bac6fd379f\n ---> ff899cee4bfb\nStep 19/24 : FROM base AS dev\n ---> 9da7ffdf900f\nStep 20/24 : COPY --chown=user --from=build /usr/src/project/deps deps\n ---> 3ed55febc7ee\nStep 21/24 : COPY --chown=user --from=build /usr/src/project/_build _build\n ---> 48af4394978b\nStep 22/24 : COPY --chown=user . .\n ---> a1cdb8028358\nStep 23/24 : RUN git submodule update --init\n ---> Running in 9e64c34e860b\n\u001b[91mSubmodule 'JSONTestSuite' (https://github.com/nst/JSONTestSuite.git) registered for path 'vendor/JSONTestSuite'\n\u001b[0m\u001b[91mCloning into '/usr/src/project/vendor/JSONTestSuite'...\n\u001b[0mSubmodule path 'vendor/JSONTestSuite': checked out 'd64aefb55228d9584d3e5b2433f720ea8fd00c82'\nRemoving intermediate container 9e64c34e860b\n ---> c1ea7858faf1\nStep 24/24 : CMD [\"iex\", \"-S\", \"mix\"]\n ---> Running in b6696c7c0d32\nRemoving intermediate container b6696c7c0d32\n ---> 1835919425ba\nSuccessfully built 1835919425ba\nSuccessfully tagged poison:latest\n","stderr":"","imageSize":540530234},"endTime":1672382944541}