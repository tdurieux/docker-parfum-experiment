{"repository":"https://github.com/cratermaik/mychat","dockerfilePath":"Dockerfile","startTime":1672272556140,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cratermaik/mychat'...\n","error":null,"commit":"b6500a4afd3a3855d1e267edef1192de48482976"},"originalBuild":{"startTimestamp":1672272556943,"endTimestamp":1672272617879,"error":{"code":127,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t mychat:latest -f /tmp/dinghy-analysis/cratermaik/mychat/Dockerfile ."},"stdout":"Sending build context to Docker daemon    213kB\r\r\nStep 1/14 : FROM node:12-alpine\n12-alpine: Pulling from library/node\ndf9b9388f04a: Already exists\n3bf6d7380205: Pulling fs layer\n7939e601ee5e: Pulling fs layer\n31f0fb9de071: Pulling fs layer\n31f0fb9de071: Verifying Checksum\n31f0fb9de071: Download complete\n7939e601ee5e: Verifying Checksum\n7939e601ee5e: Download complete\n3bf6d7380205: Verifying Checksum\n3bf6d7380205: Download complete\n3bf6d7380205: Pull complete\n7939e601ee5e: Pull complete\n31f0fb9de071: Pull complete\nDigest: sha256:d4b15b3d48f42059a15bd659be60afe21762aae9d6cbea6f124440895c27db68\nStatus: Downloaded newer image for node:12-alpine\n ---> bb6d28039b8c\nStep 2/14 : WORKDIR /home/mychat\n ---> Running in 8e5b64c1802d\nRemoving intermediate container 8e5b64c1802d\n ---> 89d9e470f705\nStep 3/14 : ENV NODE_ENV=\"production\"\n ---> Running in d03dfa7564d5\nRemoving intermediate container d03dfa7564d5\n ---> 99db87a6a3d8\nStep 4/14 : RUN apk add --no-cache build-base python3\n ---> Running in fd42587f7f25\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing binutils (2.37-r3)\n(2/29) Installing libmagic (5.41-r0)\n(3/29) Installing file (5.41-r0)\n(4/29) Installing libgomp (10.3.1_git20211027-r0)\n(5/29) Installing libatomic (10.3.1_git20211027-r0)\n(6/29) Installing libgphobos (10.3.1_git20211027-r0)\n(7/29) Installing gmp (6.2.1-r1)\n(8/29) Installing isl22 (0.22-r0)\n(9/29) Installing mpfr4 (4.1.0-r0)\n(10/29) Installing mpc1 (1.2.1-r0)\n(11/29) Installing gcc (10.3.1_git20211027-r0)\n(12/29) Installing musl-dev (1.2.2-r7)\n(13/29) Installing libc-dev (0.7.2-r3)\n(14/29) Installing g++ (10.3.1_git20211027-r0)\n(15/29) Installing make (4.3-r0)\n(16/29) Installing fortify-headers (1.1-r1)\n(17/29) Installing patch (2.7.6-r7)\n(18/29) Installing build-base (0.5-r3)\n(19/29) Installing libbz2 (1.0.8-r1)\n(20/29) Installing expat (2.5.0-r0)\n(21/29) Installing libffi (3.4.2-r1)\n(22/29) Installing gdbm (1.22-r0)\n(23/29) Installing xz-libs (5.2.5-r1)\n(24/29) Installing mpdecimal (2.5.1-r1)\n(25/29) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(26/29) Installing ncurses-libs (6.3_p20211120-r1)\n(27/29) Installing readline (8.1.1-r0)\n(28/29) Installing sqlite-libs (3.36.0-r0)\n(29/29) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 245 MiB in 45 packages\nRemoving intermediate container fd42587f7f25\n ---> 337007621fe8\nStep 5/14 : COPY package.json .\n ---> 9068fbdbf514\nStep 6/14 : RUN npm install --only=production\n ---> Running in 0dfa64f7afd5\n\u001b[91mnpm WARN deprecated csurf@1.11.0: Please use another csrf package\n\u001b[0m\u001b[91mnpm WARN deprecated discord.js@12.5.3: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/collection@0.1.6: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m @discordjs/form-data@3.0.1: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\n> erlpack@0.1.4 install /home/mychat/node_modules/erlpack\n> node-gyp rebuild\n\nmake: Entering directory '/home/mychat/node_modules/erlpack/build'\n  CC(target) Release/obj.target/zlib/vendor/zlib/adler32.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/compress.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/crc32.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/deflate.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzclose.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzlib.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzread.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzwrite.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/infback.o\n\u001b[91m../vendor/zlib/infback.c: In function 'inflateBack':\n\u001b[0m\u001b[91m../vendor/zlib/infback.c:479:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  479 |             state->mode = LEN;\n      |             ~~~~~~~~~~~~^~~~~\n\u001b[0m\u001b[91m../vendor/zlib/infback.c:481:9: note: here\n  481 |         case LEN:\n      |         ^~~~\n\u001b[0m  CC(target) Release/obj.target/zlib/vendor/zlib/inffast.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/inflate.o\n\u001b[91m../vendor/zlib/inflate.c: In function 'inflateMark':\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1507:61: warning: left shift of negative value [-Wshift-negative-value]\n 1507 |     if (strm == Z_NULL || strm->state == Z_NULL) return -1L << 16;\n      |                                                             ^~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c: In function 'inflate':\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:720:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  720 |             state->mode = EXLEN;\n      |             ~~~~~~~~~~~~^~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:721:9: note: here\n  721 |         case EXLEN:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:732:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  732 |             state->mode = EXTRA;\n      |             ~~~~~~~~~~~~^~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:733:9: note: here\n  733 |         case EXTRA:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:754:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  754 |             state->mode = NAME;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:755:9: note: here\n  755 |         case NAME:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:775:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  775 |             state->mode = COMMENT;\n      |             ~~~~~~~~~~~~^~~~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:776:9: note: here\n  776 |         case COMMENT:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:795:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  795 |             state->mode = HCRC;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:796:9: note: here\n  796 |         case HCRC:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:818:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  818 |             state->mode = DICT;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:819:9: note: here\n  819 |         case DICT:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:825:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  825 |             state->mode = TYPE;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:826:9: note: here\n  826 |         case TYPE:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:827:16: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  827 |             if (flush == Z_BLOCK || flush == Z_TREES) goto inf_leave;\n      |                ^\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:828:9: note: here\n  828 |         case TYPEDO:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:877:16: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  877 |             if (flush == Z_TREES) goto inf_leave;\n      |                ^\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:878:9: note: here\n  878 |         case COPY_:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:879:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n  879 |             state->mode = COPY;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:880:9: note: here\n  880 |         case COPY:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1018:16: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1018 |             if (flush == Z_TREES) goto inf_leave;\n      |                ^\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1019:9: note: here\n 1019 |         case LEN_:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1020:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1020 |             state->mode = LEN;\n      |             ~~~~~~~~~~~~^~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1021:9: note: here\n 1021 |         case LEN:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1069:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1069 |             state->mode = LENEXT;\n      |             ~~~~~~~~~~~~^~~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1070:9: note: here\n 1070 |         case LENEXT:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1079:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1079 |             state->mode = DIST;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1080:9: note: here\n 1080 |         case DIST:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1106:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1106 |             state->mode = DISTEXT;\n      |             ~~~~~~~~~~~~^~~~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1107:9: note: here\n 1107 |         case DISTEXT:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1122:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1122 |             state->mode = MATCH;\n      |             ~~~~~~~~~~~~^~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1123:9: note: here\n 1123 |         case MATCH:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1197:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1197 |             state->mode = LENGTH;\n      |             ~~~~~~~~~~~~^~~~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1198:9: note: here\n 1198 |         case LENGTH:\n      |         ^~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1210:25: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1210 |             state->mode = DONE;\n      |             ~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m../vendor/zlib/inflate.c:1211:9: note: here\n 1211 |         case DONE:\n      |         ^~~~\n\u001b[0m  CC(target) Release/obj.target/zlib/vendor/zlib/inftrees.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/trees.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/uncompr.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/zutil.o\n  AR(target) Release/obj.target/vendor/zlib.a\n  COPY Release/zlib.a\n  CXX(target) Release/obj.target/erlpack/js/erlpack.o\n\u001b[91mIn file included from ../js/erlpack.cc:3:\n../js/decoder.h: In member function 'v8::Local<v8::Value> Decoder::decodeBig(uint32_t)':\n../js/decoder.h:260:32: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  260 |         const uint8_t length = static_cast<const uint8_t>(res);\n      |                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91mIn file included from ../../nan/nan.h:60,\n                 from ../js/erlpack.cc:1:\n../js/erlpack.cc: At global scope:\n/root/.cache/node-gyp/12.22.12/include/node/node.h:736:7: warning: cast between incompatible function types from 'void (*)(Nan::ADDON_REGISTER_FUNCTION_ARGS_TYPE)' {aka 'void (*)(v8::Local<v8::Object>)'} to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n  736 |       (node::addon_register_func) (regfunc),                          \\\n      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/root/.cache/node-gyp/12.22.12/include/node/node.h:770:3: note: in expansion of macro 'NODE_MODULE_X'\n  770 |   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n      |   ^~~~~~~~~~~~~\n../js/erlpack.cc:49:1: note: in expansion of macro 'NODE_MODULE'\n   49 | NODE_MODULE(erlpack, Init);\n      | ^~~~~~~~~~~\n\u001b[0m  SOLINK_MODULE(target) Release/obj.target/erlpack.node\n  COPY Release/erlpack.node\nmake: Leaving directory '/home/mychat/node_modules/erlpack/build'\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN mychat@1.0.0 No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 168 packages from 184 contributors and audited 169 packages in 16.539s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 2 moderate severity vulnerabilities\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 0dfa64f7afd5\n ---> 42a8a567d6d0\nStep 7/14 : RUN apk add --no-cache curl bash\n ---> Running in 9152d72ad02a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(2/6) Installing ca-certificates (20220614-r0)\n(3/6) Installing brotli-libs (1.0.9-r5)\n(4/6) Installing nghttp2-libs (1.46.0-r0)\n(5/6) Installing libcurl (7.80.0-r5)\n(6/6) Installing curl (7.80.0-r5)\nExecuting busybox-1.34.1-r5.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 248 MiB in 51 packages\nRemoving intermediate container 9152d72ad02a\n ---> cff4e50faeea\nStep 8/14 : RUN curl -sfL https://install.goreleaser.com/github.com/tj/node-prune.sh | bash -s -- -b /usr/local/bin\n ---> Running in 95ea3fb1a2e6\nRemoving intermediate container 95ea3fb1a2e6\n ---> 3aeda397e67a\nStep 9/14 : RUN /usr/local/bin/node-prune\n ---> Running in 4bbb632405b8\n\u001b[91m/bin/sh: /usr/local/bin/node-prune: not found\n\u001b[0mRemoving intermediate container 4bbb632405b8\n","stderr":"The command '/bin/sh -c /usr/local/bin/node-prune' returned a non-zero code: 127\n"},"endTime":1672272617947}