{"repository":"https://github.com/uc-cdis/indexd","dockerfilePath":"Dockerfile","startTime":1672746090232,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/uc-cdis/indexd'...\n","error":null,"commit":"a4d9555e3c04a4e597e796a545ef69c567d7e49c"},"originalBuild":{"startTimestamp":1672746091548,"endTimestamp":1672746193020,"error":null,"stdout":"Sending build context to Docker daemon  2.975MB\r\r\nStep 1/17 : FROM quay.io/cdis/python:python3.9-buster-2.0.0\npython3.9-buster-2.0.0: Pulling from cdis/python\n1c9a8b42b578: Pulling fs layer\n163066942b43: Pulling fs layer\ncf70e03a8272: Pulling fs layer\n86c5ff335494: Pulling fs layer\n8c03e72651e6: Pulling fs layer\na2fbad7e8f2e: Pulling fs layer\n674459aa3bf3: Pulling fs layer\n442ac3aa4e3d: Pulling fs layer\n032203fa4330: Pulling fs layer\n0727c0d77950: Pulling fs layer\n86c5ff335494: Waiting\na518736845ff: Pulling fs layer\n8c03e72651e6: Waiting\na2fbad7e8f2e: Waiting\n32f852a0542c: Pulling fs layer\nabf4689f1289: Pulling fs layer\n442ac3aa4e3d: Waiting\n032203fa4330: Waiting\nf2808ccf9517: Pulling fs layer\na518736845ff: Waiting\nfc1fc0303ab8: Pulling fs layer\nabf4689f1289: Waiting\n9b18de63bf2a: Pulling fs layer\n32f852a0542c: Waiting\nfcc21ab54e71: Pulling fs layer\nfc1fc0303ab8: Waiting\nfc92d0a6fc46: Pulling fs layer\n9b18de63bf2a: Waiting\n42f9433cf85b: Pulling fs layer\nfcc21ab54e71: Waiting\nc4006dbb71f5: Pulling fs layer\n42f9433cf85b: Waiting\n4f4fb700ef54: Pulling fs layer\nfc92d0a6fc46: Waiting\n2e7714ba9c76: Pulling fs layer\n4f4fb700ef54: Waiting\nc4006dbb71f5: Waiting\nd00c31033216: Pulling fs layer\n90197e3bfd62: Pulling fs layer\n2e7714ba9c76: Waiting\nd00c31033216: Waiting\n163066942b43: Verifying Checksum\n163066942b43: Download complete\ncf70e03a8272: Verifying Checksum\ncf70e03a8272: Download complete\n1c9a8b42b578: Verifying Checksum\n1c9a8b42b578: Download complete\n86c5ff335494: Verifying Checksum\n86c5ff335494: Download complete\na2fbad7e8f2e: Verifying Checksum\na2fbad7e8f2e: Download complete\n1c9a8b42b578: Pull complete\n163066942b43: Pull complete\n442ac3aa4e3d: Verifying Checksum\ncf70e03a8272: Pull complete\n674459aa3bf3: Verifying Checksum\n674459aa3bf3: Download complete\n8c03e72651e6: Verifying Checksum\n8c03e72651e6: Download complete\n86c5ff335494: Pull complete\n032203fa4330: Verifying Checksum\n032203fa4330: Download complete\n0727c0d77950: Verifying Checksum\n0727c0d77950: Download complete\na518736845ff: Verifying Checksum\na518736845ff: Download complete\nabf4689f1289: Download complete\n32f852a0542c: Verifying Checksum\n32f852a0542c: Download complete\nf2808ccf9517: Verifying Checksum\nf2808ccf9517: Download complete\nfc1fc0303ab8: Verifying Checksum\nfc1fc0303ab8: Download complete\n9b18de63bf2a: Verifying Checksum\n9b18de63bf2a: Download complete\nfc92d0a6fc46: Download complete\n42f9433cf85b: Verifying Checksum\n42f9433cf85b: Download complete\nfcc21ab54e71: Verifying Checksum\nfcc21ab54e71: Download complete\n4f4fb700ef54: Verifying Checksum\n4f4fb700ef54: Download complete\nc4006dbb71f5: Verifying Checksum\nc4006dbb71f5: Download complete\n2e7714ba9c76: Verifying Checksum\n2e7714ba9c76: Download complete\nd00c31033216: Download complete\n90197e3bfd62: Verifying Checksum\n90197e3bfd62: Download complete\n8c03e72651e6: Pull complete\na2fbad7e8f2e: Pull complete\n674459aa3bf3: Pull complete\n442ac3aa4e3d: Pull complete\n032203fa4330: Pull complete\n0727c0d77950: Pull complete\na518736845ff: Pull complete\n32f852a0542c: Pull complete\nabf4689f1289: Pull complete\nf2808ccf9517: Pull complete\nfc1fc0303ab8: Pull complete\n9b18de63bf2a: Pull complete\nfcc21ab54e71: Pull complete\nfc92d0a6fc46: Pull complete\n42f9433cf85b: Pull complete\nc4006dbb71f5: Pull complete\n4f4fb700ef54: Pull complete\n2e7714ba9c76: Pull complete\nd00c31033216: Pull complete\n90197e3bfd62: Pull complete\nDigest: sha256:39a6af206d8c10c1de9b7e87e1516ae45ee8c0f3866d1ba0d83df1149d9b5159\nStatus: Downloaded newer image for quay.io/cdis/python:python3.9-buster-2.0.0\n ---> 888214212e90\nStep 2/17 : ENV appname=indexd\n ---> Running in ac1c6fbd3851\nRemoving intermediate container ac1c6fbd3851\n ---> 3faa75d1df6e\nStep 3/17 : RUN pip install --upgrade pip poetry\n ---> Running in 3d98a520e235\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 34.2 MB/s eta 0:00:00\nCollecting poetry\n  Downloading poetry-1.3.1-py3-none-any.whl (218 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 218.9/218.9 KB 23.3 MB/s eta 0:00:00\nCollecting trove-classifiers>=2022.5.19\n  Downloading trove_classifiers-2022.12.22-py3-none-any.whl (13 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 KB 35.8 MB/s eta 0:00:00\nCollecting requests-toolbelt<0.11.0,>=0.9.1\n  Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.5/54.5 KB 5.7 MB/s eta 0:00:00\nCollecting tomli<3.0.0,>=2.0.1\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting cleo<3.0.0,>=2.0.0\n  Downloading cleo-2.0.1-py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.3/77.3 KB 6.2 MB/s eta 0:00:00\nCollecting crashtest<0.5.0,>=0.4.1\n  Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)\nCollecting poetry-core==1.4.0\n  Downloading poetry_core-1.4.0-py3-none-any.whl (546 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 546.4/546.4 KB 38.2 MB/s eta 0:00:00\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 6.0 MB/s eta 0:00:00\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 KB 7.7 MB/s eta 0:00:00\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting shellingham<2.0,>=1.5\n  Downloading shellingham-1.5.0.post1-py2.py3-none-any.whl (9.4 kB)\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 KB 6.3 MB/s eta 0:00:00\nCollecting filelock<4.0.0,>=3.8.0\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting lockfile<0.13.0,>=0.12.2\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting importlib-metadata<5.0,>=4.4\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 KB 2.8 MB/s eta 0:00:00\nCollecting keyring<24.0.0,>=23.9.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 KB 12.5 MB/s eta 0:00:00\nCollecting urllib3<2.0.0,>=1.26.0\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 15.3 MB/s eta 0:00:00\nCollecting virtualenv!=20.4.5,!=20.4.6,<21.0.0,>=20.4.3\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 47.4 MB/s eta 0:00:00\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.2.0\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 322.4/322.4 KB 25.2 MB/s eta 0:00:00\nCollecting rapidfuzz<3.0.0,>=2.2.0\n  Downloading rapidfuzz-2.13.7-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.2/2.2 MB 46.6 MB/s eta 0:00:00\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 KB 6.2 MB/s eta 0:00:00\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 KB 6.6 MB/s eta 0:00:00\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 KB 5.2 MB/s eta 0:00:00\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 4.4 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 13.5 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 36.1 MB/s eta 0:00:00\nCollecting cryptography>=2.0\n  Downloading cryptography-39.0.0-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 46.1 MB/s eta 0:00:00\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 KB 4.2 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 441.2/441.2 KB 33.7 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 KB 13.3 MB/s eta 0:00:00\nInstalling collected packages: webencodings, trove-classifiers, ptyprocess, msgpack, lockfile, distlib, zipp, urllib3, tomlkit, tomli, six, shellingham, rapidfuzz, pyrsistent, pycparser, poetry-core, platformdirs, pkginfo, pip, pexpect, packaging, more-itertools, jeepney, idna, filelock, crashtest, charset-normalizer, certifi, attrs, virtualenv, requests, jsonschema, jaraco.classes, importlib-metadata, html5lib, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, SecretStorage, keyring, poetry-plugin-export, poetry\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed SecretStorage-3.3.3 attrs-22.2.0 cachecontrol-0.12.11 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-2.0.1 crashtest-0.4.1 cryptography-39.0.0 distlib-0.3.6 dulwich-0.20.50 filelock-3.9.0 html5lib-1.1 idna-3.4 importlib-metadata-4.13.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.0.0 msgpack-1.0.4 packaging-22.0 pexpect-4.8.0 pip-22.3.1 pkginfo-1.9.2 platformdirs-2.6.2 poetry-1.3.1 poetry-core-1.4.0 poetry-plugin-export-1.2.0 ptyprocess-0.7.0 pycparser-2.21 pyrsistent-0.19.3 rapidfuzz-2.13.7 requests-2.28.1 requests-toolbelt-0.10.1 shellingham-1.5.0.post1 six-1.16.0 tomli-2.0.1 tomlkit-0.11.6 trove-classifiers-2022.12.22 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 3d98a520e235\n ---> f9283872b37b\nStep 4/17 : RUN apt-get update && apt-get install -y --no-install-recommends     build-essential libffi-dev musl-dev gcc libxml2-dev libxslt-dev     curl bash git vim\n ---> Running in a5e44e6e8f05\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5865 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nbash is already the newest version (5.0-4).\nbash set to manually installed.\ngcc is already the newest version (4:8.3.0-1).\nlibffi-dev is already the newest version (3.2.1-9).\nThe following additional packages will be installed:\n  libcurl4 libcurl4-openssl-dev libgpm2 libxml2 libxslt1.1 musl vim-common\n  vim-runtime xxd\nSuggested packages:\n  git-daemon-run | git-daemon-sysvinit git-doc git-el git-email git-gui gitk\n  gitweb git-cvs git-mediawiki git-svn libcurl4-doc libidn11-dev libldap2-dev\n  librtmp-dev libssh2-1-dev gpm ctags vim-doc vim-scripts\nRecommended packages:\n  less linux-musl-dev\nThe following NEW packages will be installed:\n  build-essential libgpm2 musl musl-dev vim vim-common vim-runtime xxd\nThe following packages will be upgraded:\n  curl git libcurl4 libcurl4-openssl-dev libxml2 libxml2-dev libxslt1-dev\n  libxslt1.1\n8 upgraded, 8 newly installed, 0 to remove and 106 not upgraded.\nNeed to get 17.3 MB of archives.\nAfter this operation, 37.9 MB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security buster/updates/main amd64 xxd amd64 2:8.1.0875-5+deb10u4 [141 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\nGet:3 http://deb.debian.org/debian buster/main amd64 libgpm2 amd64 1.20.7-5 [35.1 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 musl amd64 1.1.21-2 [398 kB]\nGet:5 http://security.debian.org/debian-security buster/updates/main amd64 vim-common all 2:8.1.0875-5+deb10u4 [196 kB]\nGet:6 http://deb.debian.org/debian buster/main amd64 musl-dev amd64 1.1.21-2 [578 kB]\nGet:7 http://security.debian.org/debian-security buster/updates/main amd64 libxml2-dev amd64 2.9.4+dfsg1-7+deb10u5 [785 kB]\nGet:8 http://security.debian.org/debian-security buster/updates/main amd64 libxml2 amd64 2.9.4+dfsg1-7+deb10u5 [690 kB]\nGet:9 http://security.debian.org/debian-security buster/updates/main amd64 libcurl4-openssl-dev amd64 7.64.0-4+deb10u3 [421 kB]\nGet:10 http://security.debian.org/debian-security buster/updates/main amd64 curl amd64 7.64.0-4+deb10u3 [265 kB]\nGet:11 http://security.debian.org/debian-security buster/updates/main amd64 libcurl4 amd64 7.64.0-4+deb10u3 [333 kB]\nGet:12 http://security.debian.org/debian-security buster/updates/main amd64 git amd64 1:2.20.1-2+deb10u6 [5634 kB]\nGet:13 http://security.debian.org/debian-security buster/updates/main amd64 libxslt1-dev amd64 1.1.32-2.2~deb10u2 [519 kB]\nGet:14 http://security.debian.org/debian-security buster/updates/main amd64 libxslt1.1 amd64 1.1.32-2.2~deb10u2 [236 kB]\nGet:15 http://security.debian.org/debian-security buster/updates/main amd64 vim-runtime all 2:8.1.0875-5+deb10u4 [5777 kB]\nGet:16 http://security.debian.org/debian-security buster/updates/main amd64 vim amd64 2:8.1.0875-5+deb10u4 [1283 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 17.3 MB in 0s (97.8 MB/s)\nSelecting previously unselected package xxd.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24926 files and directories currently installed.)\r\nPreparing to unpack .../00-xxd_2%3a8.1.0875-5+deb10u4_amd64.deb ...\r\nUnpacking xxd (2:8.1.0875-5+deb10u4) ...\r\nSelecting previously unselected package vim-common.\r\nPreparing to unpack .../01-vim-common_2%3a8.1.0875-5+deb10u4_all.deb ...\r\nUnpacking vim-common (2:8.1.0875-5+deb10u4) ...\r\nPreparing to unpack .../02-libxml2-dev_2.9.4+dfsg1-7+deb10u5_amd64.deb ...\r\nUnpacking libxml2-dev:amd64 (2.9.4+dfsg1-7+deb10u5) over (2.9.4+dfsg1-7+deb10u2) ...\r\nPreparing to unpack .../03-libxml2_2.9.4+dfsg1-7+deb10u5_amd64.deb ...\r\nUnpacking libxml2:amd64 (2.9.4+dfsg1-7+deb10u5) over (2.9.4+dfsg1-7+deb10u2) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../04-build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nPreparing to unpack .../05-libcurl4-openssl-dev_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking libcurl4-openssl-dev:amd64 (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\nPreparing to unpack .../06-curl_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking curl (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\nPreparing to unpack .../07-libcurl4_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\nPreparing to unpack .../08-git_1%3a2.20.1-2+deb10u6_amd64.deb ...\r\nUnpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2+deb10u3) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../09-libgpm2_1.20.7-5_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-5) ...\r\nPreparing to unpack .../10-libxslt1-dev_1.1.32-2.2~deb10u2_amd64.deb ...\r\nUnpacking libxslt1-dev:amd64 (1.1.32-2.2~deb10u2) over (1.1.32-2.2~deb10u1) ...\r\nPreparing to unpack .../11-libxslt1.1_1.1.32-2.2~deb10u2_amd64.deb ...\r\nUnpacking libxslt1.1:amd64 (1.1.32-2.2~deb10u2) over (1.1.32-2.2~deb10u1) ...\r\nSelecting previously unselected package musl:amd64.\r\nPreparing to unpack .../12-musl_1.1.21-2_amd64.deb ...\r\nUnpacking musl:amd64 (1.1.21-2) ...\r\nSelecting previously unselected package musl-dev:amd64.\r\nPreparing to unpack .../13-musl-dev_1.1.21-2_amd64.deb ...\r\nUnpacking musl-dev:amd64 (1.1.21-2) ...\r\nSelecting previously unselected package vim-runtime.\r\nPreparing to unpack .../14-vim-runtime_2%3a8.1.0875-5+deb10u4_all.deb ...\r\nAdding 'diversion of /usr/share/vim/vim81/doc/help.txt to /usr/share/vim/vim81/doc/help.txt.vim-tiny by vim-runtime'\r\nAdding 'diversion of /usr/share/vim/vim81/doc/tags to /usr/share/vim/vim81/doc/tags.vim-tiny by vim-runtime'\r\nUnpacking vim-runtime (2:8.1.0875-5+deb10u4) ...\r\nSelecting previously unselected package vim.\r\nPreparing to unpack .../15-vim_2%3a8.1.0875-5+deb10u4_amd64.deb ...\r\nUnpacking vim (2:8.1.0875-5+deb10u4) ...\r\nSetting up libgpm2:amd64 (1.20.7-5) ...\r\nSetting up xxd (2:8.1.0875-5+deb10u4) ...\r\nSetting up vim-common (2:8.1.0875-5+deb10u4) ...\r\nSetting up git (1:2.20.1-2+deb10u6) ...\r\nSetting up musl:amd64 (1.1.21-2) ...\r\nSetting up build-essential (12.6) ...\r\nSetting up libcurl4:amd64 (7.64.0-4+deb10u3) ...\r\nSetting up curl (7.64.0-4+deb10u3) ...\r\nSetting up vim-runtime (2:8.1.0875-5+deb10u4) ...\r\nSetting up libxml2:amd64 (2.9.4+dfsg1-7+deb10u5) ...\r\nSetting up vim (2:8.1.0875-5+deb10u4) ...\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode\r\nSetting up musl-dev:amd64 (1.1.21-2) ...\r\nSetting up libxml2-dev:amd64 (2.9.4+dfsg1-7+deb10u5) ...\r\nSetting up libcurl4-openssl-dev:amd64 (7.64.0-4+deb10u3) ...\r\nSetting up libxslt1.1:amd64 (1.1.32-2.2~deb10u2) ...\r\nSetting up libxslt1-dev:amd64 (1.1.32-2.2~deb10u2) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for mime-support (3.62) ...\r\nProcessing triggers for hicolor-icon-theme (0.17-2) ...\r\nRemoving intermediate container a5e44e6e8f05\n ---> edeef7370238\nStep 5/17 : RUN mkdir -p /var/www/$appname     && mkdir -p /var/www/.cache/Python-Eggs/     && mkdir /run/nginx/     && ln -sf /dev/stdout /var/log/nginx/access.log     && ln -sf /dev/stderr /var/log/nginx/error.log     && chown nginx -R /var/www/.cache/Python-Eggs/     && chown nginx /var/www/$appname\n ---> Running in f718e144efe5\nRemoving intermediate container f718e144efe5\n ---> dbb83385db7a\nStep 6/17 : EXPOSE 80\n ---> Running in fcc4f2be8878\nRemoving intermediate container fcc4f2be8878\n ---> 280a420f445c\nStep 7/17 : WORKDIR /$appname\n ---> Running in ec0c9d6b863f\nRemoving intermediate container ec0c9d6b863f\n ---> e3dcf771fe45\nStep 8/17 : COPY poetry.lock pyproject.toml /$appname/\n ---> ae7250d12064\nStep 9/17 : RUN poetry config virtualenvs.create false     && poetry install -vv --no-root --no-dev --no-interaction     && poetry show -v\n ---> Running in b9d3ff52594e\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0m\u001b[91mThe `--no-dev` option is deprecated, use the `--only main` notation instead.\n\u001b[0mInstalling dependencies from lock file\n\nFinding the necessary packages for the current system\n\nPackage operations: 30 installs, 9 updates, 0 removals, 6 skipped\n\n  • Installing sniffio (1.3.0)\n  • Installing anyio (3.6.1)\n  • Updating certifi (2022.12.7 -> 2022.9.14)\n  • Installing h11 (0.12.0)\n  • Updating urllib3 (1.26.13 -> 1.26.12)\n  • Installing cdislogging (1.1.1)\n  • Updating cryptography (39.0.0 -> 38.0.1)\n  • Installing markupsafe (2.1.1)\n  • Installing rfc3986 (1.5.0)\n  • Installing types-cryptography (3.3.23)\n  • Installing httpcore (0.15.0)\n  • Updating zipp (3.11.0 -> 3.8.1)\n  • Updating attrs (22.2.0 -> 22.1.0)\n  • Installing authlib (0.11)\n  • Installing cached-property (1.5.2)\n  • Installing cdiserrors (1.0.0)\n  • Installing backoff (1.11.1)\n  • Updating importlib-metadata (4.13.0 -> 4.12.0)\n  • Installing click (8.1.3)\n  • Installing pyjwt (2.5.0)\n  • Updating pyrsistent (0.19.3 -> 0.18.1)\n  • Updating setuptools (58.1.0 -> 65.3.0)\n  • Installing jinja2 (3.1.2)\n  • Installing werkzeug (2.2.2)\n  • Installing itsdangerous (2.1.2)\n  • Installing httpx (0.23.0)\n  • Installing sqlalchemy (1.3.24)\n  • Installing xmltodict (0.13.0)\n\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m  • Installing authutils (6.2.1)\n  • Installing cffi (1.15.1): Skipped for the following reason: Already installed\n  • Installing doiclient (0.1 1a5f4b2)\n  • Installing dosclient (0.1 38c0f1a)\n  • Installing charset-normalizer (2.1.1): Skipped for the following reason: Already installed\n  • Installing flask (2.2.2)\n  • Installing idna (3.4): Skipped for the following reason: Already installed\n  • Installing indexclient (2.1.0)\n  • Installing hsclient (0.1 f122072)\n  • Installing pycparser (2.21): Skipped for the following reason: Already installed\n  • Installing pyyaml (5.4.1)\n  • Updating jsonschema (4.17.3 -> 3.2.0)\n  • Installing sqlalchemy-utils (0.37.9)\n  • Installing gen3authz (1.5.1)\n  • Installing six (1.16.0): Skipped for the following reason: Already installed\n  • Installing requests (2.28.1): Skipped for the following reason: Already installed\n  • Installing psycopg2 (2.9.3)\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0manyio                      3.6.1         High level compatibility layer for...\nattrs                      22.1.0        Classes Without Boilerplate\nauthlib                    0.11          The ultimate Python library in bui...\nauthutils                  6.2.1         Gen3 auth utility functions\nbackoff                    1.11.1        Function decoration for backoff an...\ncached-property            1.5.2         A decorator for caching properties...\ncdiserrors                 1.0.0         Gen3 shared exceptions and utilities.\ncdislogging                1.1.1         Standardized logging tool and form...\ncdisutilstest          (!) 0.2.4 bdfdeb0 Collection of test data and tools\ncertifi                    2022.9.14     Python package for providing Mozil...\ncffi                       1.15.1        Foreign Function Interface for Pyt...\ncharset-normalizer         2.1.1         The Real First Universal Charset D...\nclick                      8.1.3         Composable command line interface ...\ncoverage               (!) 6.4.4         Code coverage measurement for Python\ncoveralls              (!) 3.3.1         Show coverage stats online via cov...\ncryptography               38.0.1        cryptography is a package which pr...\ndocopt                 (!) 0.6.2         Pythonic argument parser, that wil...\ndoiclient                  0.1 1a5f4b2   \ndosclient                  0.1 38c0f1a   \nflask                      2.2.2         A simple framework for building co...\ngen3authz                  1.5.1         Gen3 authz client\nh11                        0.12.0        A pure-Python, bring-your-own-I/O ...\nhsclient                   0.1 f122072   \nhttpcore                   0.15.0        A minimal low-level HTTP client.\nhttpx                      0.23.0        The next generation HTTP client.\nidna                       3.4           Internationalized Domain Names in ...\nimportlib-metadata         4.12.0        Read metadata from Python packages\nindexclient                2.1.0         \niniconfig              (!) 1.1.1         iniconfig: brain-dead simple confi...\nitsdangerous               2.1.2         Safely pass data to untrusted envi...\njinja2                     3.1.2         A very fast and expressive templat...\njsonschema                 3.2.0         An implementation of JSON Schema v...\nmarkupsafe                 2.1.1         Safely add untrusted strings to HT...\nmock                   (!) 4.0.3         Rolling backport of unittest.mock ...\npackaging                  21.3          Core utilities for Python packages\npluggy                 (!) 1.0.0         plugin and hook calling mechanisms...\npsycopg2                   2.9.3         psycopg2 - Python-PostgreSQL Datab...\npy                     (!) 1.11.0        library with cross-python path, in...\npycparser                  2.21          C parser in Python\npyjwt                      2.5.0         JSON Web Token implementation in P...\npyparsing              (!) 3.0.9         pyparsing module - Classes and met...\npyrsistent                 0.18.1        Persistent/Functional/Immutable da...\npytest                 (!) 6.2.5         pytest: simple powerful testing wi...\npytest-cov             (!) 2.12.1        Pytest plugin for measuring coverage.\npytest-flask           (!) 1.2.0         A set of py.test fixtures to test ...\npyyaml                     5.4.1         YAML parser and emitter for Python\nrequests                   2.28.1        Python HTTP for Humans.\nresponses              (!) 0.13.4        A utility library for mocking out ...\nrfc3986                    1.5.0         Validating URI References per RFC ...\nsetuptools                 65.3.0        Easily download, build, install, u...\nsix                        1.16.0        Python 2 and 3 compatibility utili...\nsniffio                    1.3.0         Sniff out which async library your...\nsqlalchemy                 1.3.24        Database Abstraction Library\nsqlalchemy-utils           0.37.9        Various utility functions for SQLA...\nswagger-spec-validator (!) 2.7.6         Validation of Swagger specifications\ntoml                   (!) 0.10.2        Python Library for Tom's Obvious, ...\ntypes-cryptography         3.3.23        Typing stubs for cryptography\nurllib3                    1.26.12       HTTP library with thread-safe conn...\nwerkzeug                   2.2.2         The comprehensive WSGI web applica...\nxmltodict                  0.13.0        Makes working with XML feel like y...\nzipp                       3.8.1         Backport of pathlib-compatible obj...\nRemoving intermediate container b9d3ff52594e\n ---> f29b126758c5\nStep 10/17 : COPY . /$appname\n ---> 1bec91788b33\nStep 11/17 : COPY ./deployment/uwsgi/uwsgi.ini /etc/uwsgi/uwsgi.ini\n ---> 999bd1958bcf\nStep 12/17 : COPY ./deployment/uwsgi/wsgi.py /$appname/wsgi.py\n ---> 1f7a8e0aa9a6\nStep 13/17 : COPY clear_prometheus_multiproc /$appname/clear_prometheus_multiproc\n ---> 2d6a6a7df734\nStep 14/17 : RUN poetry config virtualenvs.create false     && poetry install -vv --no-dev --no-interaction     && poetry show -v\n ---> Running in 2389e717646a\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0m\u001b[91mThe `--no-dev` option is deprecated, use the `--only main` notation instead.\n\u001b[0mInstalling dependencies from lock file\n\nFinding the necessary packages for the current system\n\nPackage operations: 0 installs, 0 updates, 0 removals, 45 skipped\n\n  • Installing anyio (3.6.1): Skipped for the following reason: Already installed\n  • Installing attrs (22.1.0): Skipped for the following reason: Already installed\n  • Installing authlib (0.11): Skipped for the following reason: Already installed\n  • Installing authutils (6.2.1): Skipped for the following reason: Already installed\n  • Installing backoff (1.11.1): Skipped for the following reason: Already installed\n  • Installing cached-property (1.5.2): Skipped for the following reason: Already installed\n  • Installing cdiserrors (1.0.0): Skipped for the following reason: Already installed\n  • Installing certifi (2022.9.14): Skipped for the following reason: Already installed\n  • Installing cffi (1.15.1): Skipped for the following reason: Already installed\n  • Installing click (8.1.3): Skipped for the following reason: Already installed\n  • Installing cryptography (38.0.1): Skipped for the following reason: Already installed\n  • Installing charset-normalizer (2.1.1): Skipped for the following reason: Already installed\n  • Installing dosclient (0.1 38c0f1a): Skipped for the following reason: Already installed\n  • Installing gen3authz (1.5.1): Skipped for the following reason: Already installed\n  • Installing h11 (0.12.0): Skipped for the following reason: Already installed\n  • Installing cdislogging (1.1.1): Skipped for the following reason: Already installed\n  • Installing httpx (0.23.0): Skipped for the following reason: Already installed\n  • Installing idna (3.4): Skipped for the following reason: Already installed\n  • Installing doiclient (0.1 1a5f4b2): Skipped for the following reason: Already installed\n  • Installing indexclient (2.1.0): Skipped for the following reason: Already installed\n  • Installing jinja2 (3.1.2): Skipped for the following reason: Already installed\n  • Installing jsonschema (3.2.0): Skipped for the following reason: Already installed\n  • Installing flask (2.2.2): Skipped for the following reason: Already installed\n  • Installing importlib-metadata (4.12.0): Skipped for the following reason: Already installed\n  • Installing pycparser (2.21): Skipped for the following reason: Already installed\n  • Installing pyjwt (2.5.0): Skipped for the following reason: Already installed\n  • Installing pyrsistent (0.18.1): Skipped for the following reason: Already installed\n  • Installing requests (2.28.1): Skipped for the following reason: Already installed\n  • Installing rfc3986 (1.5.0): Skipped for the following reason: Already installed\n  • Installing markupsafe (2.1.1): Skipped for the following reason: Already installed\n  • Installing sniffio (1.3.0): Skipped for the following reason: Already installed\n  • Installing sqlalchemy (1.3.24): Skipped for the following reason: Already installed\n  • Installing sqlalchemy-utils (0.37.9): Skipped for the following reason: Already installed\n  • Installing itsdangerous (2.1.2): Skipped for the following reason: Already installed\n  • Installing werkzeug (2.2.2): Skipped for the following reason: Already installed\n  • Installing xmltodict (0.13.0): Skipped for the following reason: Already installed\n  • Installing httpcore (0.15.0): Skipped for the following reason: Already installed\n  • Installing six (1.16.0): Skipped for the following reason: Already installed\n  • Installing hsclient (0.1 f122072): Skipped for the following reason: Already installed\n  • Installing urllib3 (1.26.12): Skipped for the following reason: Already installed\n  • Installing pyyaml (5.4.1): Skipped for the following reason: Already installed\n  • Installing psycopg2 (2.9.3): Skipped for the following reason: Already installed\n  • Installing zipp (3.8.1): Skipped for the following reason: Already installed\n  • Installing types-cryptography (3.3.23): Skipped for the following reason: Already installed\n  • Installing setuptools (65.3.0): Skipped for the following reason: Already installed\n\nInstalling the current project: indexd (3.5.0)\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0manyio                      3.6.1         High level compatibility layer for...\nattrs                      22.1.0        Classes Without Boilerplate\nauthlib                    0.11          The ultimate Python library in bui...\nauthutils                  6.2.1         Gen3 auth utility functions\nbackoff                    1.11.1        Function decoration for backoff an...\ncached-property            1.5.2         A decorator for caching properties...\ncdiserrors                 1.0.0         Gen3 shared exceptions and utilities.\ncdislogging                1.1.1         Standardized logging tool and form...\ncdisutilstest          (!) 0.2.4 bdfdeb0 Collection of test data and tools\ncertifi                    2022.9.14     Python package for providing Mozil...\ncffi                       1.15.1        Foreign Function Interface for Pyt...\ncharset-normalizer         2.1.1         The Real First Universal Charset D...\nclick                      8.1.3         Composable command line interface ...\ncoverage               (!) 6.4.4         Code coverage measurement for Python\ncoveralls              (!) 3.3.1         Show coverage stats online via cov...\ncryptography               38.0.1        cryptography is a package which pr...\ndocopt                 (!) 0.6.2         Pythonic argument parser, that wil...\ndoiclient                  0.1 1a5f4b2   \ndosclient                  0.1 38c0f1a   \nflask                      2.2.2         A simple framework for building co...\ngen3authz                  1.5.1         Gen3 authz client\nh11                        0.12.0        A pure-Python, bring-your-own-I/O ...\nhsclient                   0.1 f122072   \nhttpcore                   0.15.0        A minimal low-level HTTP client.\nhttpx                      0.23.0        The next generation HTTP client.\nidna                       3.4           Internationalized Domain Names in ...\nimportlib-metadata         4.12.0        Read metadata from Python packages\nindexclient                2.1.0         \niniconfig              (!) 1.1.1         iniconfig: brain-dead simple confi...\nitsdangerous               2.1.2         Safely pass data to untrusted envi...\njinja2                     3.1.2         A very fast and expressive templat...\njsonschema                 3.2.0         An implementation of JSON Schema v...\nmarkupsafe                 2.1.1         Safely add untrusted strings to HT...\nmock                   (!) 4.0.3         Rolling backport of unittest.mock ...\npackaging                  21.3          Core utilities for Python packages\npluggy                 (!) 1.0.0         plugin and hook calling mechanisms...\npsycopg2                   2.9.3         psycopg2 - Python-PostgreSQL Datab...\npy                     (!) 1.11.0        library with cross-python path, in...\npycparser                  2.21          C parser in Python\npyjwt                      2.5.0         JSON Web Token implementation in P...\npyparsing              (!) 3.0.9         pyparsing module - Classes and met...\npyrsistent                 0.18.1        Persistent/Functional/Immutable da...\npytest                 (!) 6.2.5         pytest: simple powerful testing wi...\npytest-cov             (!) 2.12.1        Pytest plugin for measuring coverage.\npytest-flask           (!) 1.2.0         A set of py.test fixtures to test ...\npyyaml                     5.4.1         YAML parser and emitter for Python\nrequests                   2.28.1        Python HTTP for Humans.\nresponses              (!) 0.13.4        A utility library for mocking out ...\nrfc3986                    1.5.0         Validating URI References per RFC ...\nsetuptools                 65.3.0        Easily download, build, install, u...\nsix                        1.16.0        Python 2 and 3 compatibility utili...\nsniffio                    1.3.0         Sniff out which async library your...\nsqlalchemy                 1.3.24        Database Abstraction Library\nsqlalchemy-utils           0.37.9        Various utility functions for SQLA...\nswagger-spec-validator (!) 2.7.6         Validation of Swagger specifications\ntoml                   (!) 0.10.2        Python Library for Tom's Obvious, ...\ntypes-cryptography         3.3.23        Typing stubs for cryptography\nurllib3                    1.26.12       HTTP library with thread-safe conn...\nwerkzeug                   2.2.2         The comprehensive WSGI web applica...\nxmltodict                  0.13.0        Makes working with XML feel like y...\nzipp                       3.8.1         Backport of pathlib-compatible obj...\nRemoving intermediate container 2389e717646a\n ---> 052568467892\nStep 15/17 : RUN COMMIT=`git rev-parse HEAD` && echo \"COMMIT=\\\"${COMMIT}\\\"\" >$appname/index/version_data.py     && VERSION=`git describe --always --tags` && echo \"VERSION=\\\"${VERSION}\\\"\" >>$appname/index/version_data.py\n ---> Running in 4e6b54780cec\nRemoving intermediate container 4e6b54780cec\n ---> 17fb1ec77e00\nStep 16/17 : WORKDIR /var/www/$appname\n ---> Running in f72367af95d9\nRemoving intermediate container f72367af95d9\n ---> 8ff593e47ead\nStep 17/17 : CMD /dockerrun.sh\n ---> Running in 6192ec0e39ef\nRemoving intermediate container 6192ec0e39ef\n ---> 213eaf3f9e92\nSuccessfully built 213eaf3f9e92\nSuccessfully tagged indexd:latest\n","stderr":"","imageSize":1181687269},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":4,"columnEnd":36}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":8,"end":10,"columnStart":22,"columnEnd":21}}],"repairedDockerfile":"# To check running container: docker exec -it indexd /bin/bash\n\nFROM quay.io/cdis/python:python3.9-buster-2.0.0\n\nENV appname=indexd\n\nRUN pip install --no-cache-dir --upgrade pip poetry\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n    build-essential libffi-dev musl-dev gcc libxml2-dev libxslt-dev \\\n    curl bash git vim\n\nRUN mkdir -p /var/www/$appname \\\n    && mkdir -p /var/www/.cache/Python-Eggs/ \\\n    && mkdir /run/nginx/ \\\n    && ln -sf /dev/stdout /var/log/nginx/access.log \\\n    && ln -sf /dev/stderr /var/log/nginx/error.log \\\n    && chown nginx -R /var/www/.cache/Python-Eggs/ \\\n    && chown nginx /var/www/$appname\n\nEXPOSE 80\n\nWORKDIR /$appname\n\n# copy ONLY poetry artifact, install the dependencies but not indexd\n# this will make sure than the dependencies is cached\nCOPY poetry.lock pyproject.toml /$appname/\nRUN poetry config virtualenvs.create false \\\n    && poetry install -vv --no-root --no-dev --no-interaction \\\n    && poetry show -v\n\n# copy source code ONLY after installing dependencies\nCOPY . /$appname\nCOPY ./deployment/uwsgi/uwsgi.ini /etc/uwsgi/uwsgi.ini\nCOPY ./deployment/uwsgi/wsgi.py /$appname/wsgi.py\nCOPY clear_prometheus_multiproc /$appname/clear_prometheus_multiproc\n\n# install indexd\nRUN poetry config virtualenvs.create false \\\n    && poetry install -vv --no-dev --no-interaction \\\n    && poetry show -v\n\nRUN COMMIT=`git rev-parse HEAD` && echo \"COMMIT=\\\"${COMMIT}\\\"\" >$appname/index/version_data.py \\\n    && VERSION=`git describe --always --tags` && echo \"VERSION=\\\"${VERSION}\\\"\" >>$appname/index/version_data.py\n\nWORKDIR /var/www/$appname\n\nCMD /dockerrun.sh\n"},"repairedBuild":{"startTimestamp":1672746193736,"endTimestamp":1672746260766,"error":null,"stdout":"Sending build context to Docker daemon  2.975MB\r\r\nStep 1/17 : FROM quay.io/cdis/python:python3.9-buster-2.0.0\n ---> 888214212e90\nStep 2/17 : ENV appname=indexd\n ---> Running in e17f960f17b0\nRemoving intermediate container e17f960f17b0\n ---> 770dbb2031a2\nStep 3/17 : RUN pip install --no-cache-dir --upgrade pip poetry\n ---> Running in 371642db4e62\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 82.8 MB/s eta 0:00:00\nCollecting poetry\n  Downloading poetry-1.3.1-py3-none-any.whl (218 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 218.9/218.9 KB 106.8 MB/s eta 0:00:00\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 KB 277.0 MB/s eta 0:00:00\nCollecting poetry-core==1.4.0\n  Downloading poetry_core-1.4.0-py3-none-any.whl (546 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 546.4/546.4 KB 151.8 MB/s eta 0:00:00\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting keyring<24.0.0,>=23.9.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting tomli<3.0.0,>=2.0.1\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting lockfile<0.13.0,>=0.12.2\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 KB 188.9 MB/s eta 0:00:00\nCollecting importlib-metadata<5.0,>=4.4\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.2.0\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting requests-toolbelt<0.11.0,>=0.9.1\n  Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.5/54.5 KB 261.5 MB/s eta 0:00:00\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 KB 194.8 MB/s eta 0:00:00\nCollecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting virtualenv!=20.4.5,!=20.4.6,<21.0.0,>=20.4.3\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 119.7 MB/s eta 0:00:00\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 KB 249.7 MB/s eta 0:00:00\nCollecting crashtest<0.5.0,>=0.4.1\n  Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 KB 280.2 MB/s eta 0:00:00\nCollecting shellingham<2.0,>=1.5\n  Downloading shellingham-1.5.0.post1-py2.py3-none-any.whl (9.4 kB)\nCollecting urllib3<2.0.0,>=1.26.0\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 263.4 MB/s eta 0:00:00\nCollecting cleo<3.0.0,>=2.0.0\n  Downloading cleo-2.0.1-py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.3/77.3 KB 248.4 MB/s eta 0:00:00\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 235.1 MB/s eta 0:00:00\nCollecting trove-classifiers>=2022.5.19\n  Downloading trove_classifiers-2022.12.22-py3-none-any.whl (13 kB)\nCollecting filelock<4.0.0,>=3.8.0\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 322.4/322.4 KB 266.0 MB/s eta 0:00:00\nCollecting rapidfuzz<3.0.0,>=2.2.0\n  Downloading rapidfuzz-2.13.7-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.2/2.2 MB 129.3 MB/s eta 0:00:00\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 KB 239.4 MB/s eta 0:00:00\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 KB 251.8 MB/s eta 0:00:00\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 KB 233.1 MB/s eta 0:00:00\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 258.2 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 218.4 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 165.1 MB/s eta 0:00:00\nCollecting cryptography>=2.0\n  Downloading cryptography-39.0.0-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 126.7 MB/s eta 0:00:00\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 KB 219.2 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 441.2/441.2 KB 243.5 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 KB 287.2 MB/s eta 0:00:00\nInstalling collected packages: webencodings, trove-classifiers, ptyprocess, msgpack, lockfile, distlib, zipp, urllib3, tomlkit, tomli, six, shellingham, rapidfuzz, pyrsistent, pycparser, poetry-core, platformdirs, pkginfo, pip, pexpect, packaging, more-itertools, jeepney, idna, filelock, crashtest, charset-normalizer, certifi, attrs, virtualenv, requests, jsonschema, jaraco.classes, importlib-metadata, html5lib, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, SecretStorage, keyring, poetry-plugin-export, poetry\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed SecretStorage-3.3.3 attrs-22.2.0 cachecontrol-0.12.11 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-2.0.1 crashtest-0.4.1 cryptography-39.0.0 distlib-0.3.6 dulwich-0.20.50 filelock-3.9.0 html5lib-1.1 idna-3.4 importlib-metadata-4.13.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.0.0 msgpack-1.0.4 packaging-22.0 pexpect-4.8.0 pip-22.3.1 pkginfo-1.9.2 platformdirs-2.6.2 poetry-1.3.1 poetry-core-1.4.0 poetry-plugin-export-1.2.0 ptyprocess-0.7.0 pycparser-2.21 pyrsistent-0.19.3 rapidfuzz-2.13.7 requests-2.28.1 requests-toolbelt-0.10.1 shellingham-1.5.0.post1 six-1.16.0 tomli-2.0.1 tomlkit-0.11.6 trove-classifiers-2022.12.22 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 371642db4e62\n ---> 22e18a205395\nStep 4/17 : RUN apt-get update && apt-get install -y --no-install-recommends     build-essential libffi-dev musl-dev gcc libxml2-dev libxslt-dev     curl bash git vim\n ---> Running in dc135634390c\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5751 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nbash is already the newest version (5.0-4).\nbash set to manually installed.\ngcc is already the newest version (4:8.3.0-1).\nlibffi-dev is already the newest version (3.2.1-9).\nThe following additional packages will be installed:\n  libcurl4 libcurl4-openssl-dev libgpm2 libxml2 libxslt1.1 musl vim-common\n  vim-runtime xxd\nSuggested packages:\n  git-daemon-run | git-daemon-sysvinit git-doc git-el git-email git-gui gitk\n  gitweb git-cvs git-mediawiki git-svn libcurl4-doc libidn11-dev libldap2-dev\n  librtmp-dev libssh2-1-dev gpm ctags vim-doc vim-scripts\nRecommended packages:\n  less linux-musl-dev\nThe following NEW packages will be installed:\n  build-essential libgpm2 musl musl-dev vim vim-common vim-runtime xxd\nThe following packages will be upgraded:\n  curl git libcurl4 libcurl4-openssl-dev libxml2 libxml2-dev libxslt1-dev\n  libxslt1.1\n8 upgraded, 8 newly installed, 0 to remove and 106 not upgraded.\nNeed to get 17.3 MB of archives.\nAfter this operation, 37.9 MB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security buster/updates/main amd64 xxd amd64 2:8.1.0875-5+deb10u4 [141 kB]\nGet:2 http://security.debian.org/debian-security buster/updates/main amd64 vim-common all 2:8.1.0875-5+deb10u4 [196 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 libxml2-dev amd64 2.9.4+dfsg1-7+deb10u5 [785 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 libgpm2 amd64 1.20.7-5 [35.1 kB]\nGet:6 http://deb.debian.org/debian buster/main amd64 musl amd64 1.1.21-2 [398 kB]\nGet:7 http://security.debian.org/debian-security buster/updates/main amd64 libxml2 amd64 2.9.4+dfsg1-7+deb10u5 [690 kB]\nGet:8 http://deb.debian.org/debian buster/main amd64 musl-dev amd64 1.1.21-2 [578 kB]\nGet:9 http://security.debian.org/debian-security buster/updates/main amd64 libcurl4-openssl-dev amd64 7.64.0-4+deb10u3 [421 kB]\nGet:10 http://security.debian.org/debian-security buster/updates/main amd64 curl amd64 7.64.0-4+deb10u3 [265 kB]\nGet:11 http://security.debian.org/debian-security buster/updates/main amd64 libcurl4 amd64 7.64.0-4+deb10u3 [333 kB]\nGet:12 http://security.debian.org/debian-security buster/updates/main amd64 git amd64 1:2.20.1-2+deb10u6 [5634 kB]\nGet:13 http://security.debian.org/debian-security buster/updates/main amd64 libxslt1-dev amd64 1.1.32-2.2~deb10u2 [519 kB]\nGet:14 http://security.debian.org/debian-security buster/updates/main amd64 libxslt1.1 amd64 1.1.32-2.2~deb10u2 [236 kB]\nGet:15 http://security.debian.org/debian-security buster/updates/main amd64 vim-runtime all 2:8.1.0875-5+deb10u4 [5777 kB]\nGet:16 http://security.debian.org/debian-security buster/updates/main amd64 vim amd64 2:8.1.0875-5+deb10u4 [1283 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 17.3 MB in 0s (104 MB/s)\nSelecting previously unselected package xxd.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24926 files and directories currently installed.)\r\nPreparing to unpack .../00-xxd_2%3a8.1.0875-5+deb10u4_amd64.deb ...\r\nUnpacking xxd (2:8.1.0875-5+deb10u4) ...\r\nSelecting previously unselected package vim-common.\r\nPreparing to unpack .../01-vim-common_2%3a8.1.0875-5+deb10u4_all.deb ...\r\nUnpacking vim-common (2:8.1.0875-5+deb10u4) ...\r\nPreparing to unpack .../02-libxml2-dev_2.9.4+dfsg1-7+deb10u5_amd64.deb ...\r\nUnpacking libxml2-dev:amd64 (2.9.4+dfsg1-7+deb10u5) over (2.9.4+dfsg1-7+deb10u2) ...\r\nPreparing to unpack .../03-libxml2_2.9.4+dfsg1-7+deb10u5_amd64.deb ...\r\nUnpacking libxml2:amd64 (2.9.4+dfsg1-7+deb10u5) over (2.9.4+dfsg1-7+deb10u2) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../04-build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nPreparing to unpack .../05-libcurl4-openssl-dev_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking libcurl4-openssl-dev:amd64 (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\nPreparing to unpack .../06-curl_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking curl (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\nPreparing to unpack .../07-libcurl4_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\nPreparing to unpack .../08-git_1%3a2.20.1-2+deb10u6_amd64.deb ...\r\nUnpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2+deb10u3) ...\r\nSelecting previously unselected package libgpm2:amd64.\r\nPreparing to unpack .../09-libgpm2_1.20.7-5_amd64.deb ...\r\nUnpacking libgpm2:amd64 (1.20.7-5) ...\r\nPreparing to unpack .../10-libxslt1-dev_1.1.32-2.2~deb10u2_amd64.deb ...\r\nUnpacking libxslt1-dev:amd64 (1.1.32-2.2~deb10u2) over (1.1.32-2.2~deb10u1) ...\r\nPreparing to unpack .../11-libxslt1.1_1.1.32-2.2~deb10u2_amd64.deb ...\r\nUnpacking libxslt1.1:amd64 (1.1.32-2.2~deb10u2) over (1.1.32-2.2~deb10u1) ...\r\nSelecting previously unselected package musl:amd64.\r\nPreparing to unpack .../12-musl_1.1.21-2_amd64.deb ...\r\nUnpacking musl:amd64 (1.1.21-2) ...\r\nSelecting previously unselected package musl-dev:amd64.\r\nPreparing to unpack .../13-musl-dev_1.1.21-2_amd64.deb ...\r\nUnpacking musl-dev:amd64 (1.1.21-2) ...\r\nSelecting previously unselected package vim-runtime.\r\nPreparing to unpack .../14-vim-runtime_2%3a8.1.0875-5+deb10u4_all.deb ...\r\nAdding 'diversion of /usr/share/vim/vim81/doc/help.txt to /usr/share/vim/vim81/doc/help.txt.vim-tiny by vim-runtime'\r\nAdding 'diversion of /usr/share/vim/vim81/doc/tags to /usr/share/vim/vim81/doc/tags.vim-tiny by vim-runtime'\r\nUnpacking vim-runtime (2:8.1.0875-5+deb10u4) ...\r\nSelecting previously unselected package vim.\r\nPreparing to unpack .../15-vim_2%3a8.1.0875-5+deb10u4_amd64.deb ...\r\nUnpacking vim (2:8.1.0875-5+deb10u4) ...\r\nSetting up libgpm2:amd64 (1.20.7-5) ...\r\nSetting up xxd (2:8.1.0875-5+deb10u4) ...\r\nSetting up vim-common (2:8.1.0875-5+deb10u4) ...\r\nSetting up git (1:2.20.1-2+deb10u6) ...\r\nSetting up musl:amd64 (1.1.21-2) ...\r\nSetting up build-essential (12.6) ...\r\nSetting up libcurl4:amd64 (7.64.0-4+deb10u3) ...\r\nSetting up curl (7.64.0-4+deb10u3) ...\r\nSetting up vim-runtime (2:8.1.0875-5+deb10u4) ...\r\nSetting up libxml2:amd64 (2.9.4+dfsg1-7+deb10u5) ...\r\nSetting up vim (2:8.1.0875-5+deb10u4) ...\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode\r\nupdate-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode\r\nSetting up musl-dev:amd64 (1.1.21-2) ...\r\nSetting up libxml2-dev:amd64 (2.9.4+dfsg1-7+deb10u5) ...\r\nSetting up libcurl4-openssl-dev:amd64 (7.64.0-4+deb10u3) ...\r\nSetting up libxslt1.1:amd64 (1.1.32-2.2~deb10u2) ...\r\nSetting up libxslt1-dev:amd64 (1.1.32-2.2~deb10u2) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for mime-support (3.62) ...\r\nProcessing triggers for hicolor-icon-theme (0.17-2) ...\r\nRemoving intermediate container dc135634390c\n ---> 31f5475c2d45\nStep 5/17 : RUN mkdir -p /var/www/$appname     && mkdir -p /var/www/.cache/Python-Eggs/     && mkdir /run/nginx/     && ln -sf /dev/stdout /var/log/nginx/access.log     && ln -sf /dev/stderr /var/log/nginx/error.log     && chown nginx -R /var/www/.cache/Python-Eggs/     && chown nginx /var/www/$appname\n ---> Running in a8152ad81a17\nRemoving intermediate container a8152ad81a17\n ---> e654977bd35b\nStep 6/17 : EXPOSE 80\n ---> Running in 14823429dc04\nRemoving intermediate container 14823429dc04\n ---> e67f9264c36b\nStep 7/17 : WORKDIR /$appname\n ---> Running in c7ce3630a460\nRemoving intermediate container c7ce3630a460\n ---> ba27a22296db\nStep 8/17 : COPY poetry.lock pyproject.toml /$appname/\n ---> c21a0eec027c\nStep 9/17 : RUN poetry config virtualenvs.create false     && poetry install -vv --no-root --no-dev --no-interaction     && poetry show -v\n ---> Running in bc002fdc3da4\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0m\u001b[91mThe `--no-dev` option is deprecated, use the `--only main` notation instead.\n\u001b[0mInstalling dependencies from lock file\n\nFinding the necessary packages for the current system\n\nPackage operations: 30 installs, 9 updates, 0 removals, 6 skipped\n\n  • Installing sniffio (1.3.0)\n  • Installing anyio (3.6.1)\n  • Updating certifi (2022.12.7 -> 2022.9.14)\n  • Installing h11 (0.12.0)\n  • Updating urllib3 (1.26.13 -> 1.26.12)\n  • Installing cdislogging (1.1.1)\n  • Updating cryptography (39.0.0 -> 38.0.1)\n  • Installing markupsafe (2.1.1)\n  • Installing rfc3986 (1.5.0)\n  • Installing httpcore (0.15.0)\n  • Installing types-cryptography (3.3.23)\n  • Updating zipp (3.11.0 -> 3.8.1)\n  • Updating attrs (22.2.0 -> 22.1.0)\n  • Installing authlib (0.11)\n  • Installing cached-property (1.5.2)\n  • Installing backoff (1.11.1)\n  • Installing click (8.1.3)\n  • Installing httpx (0.23.0)\n  • Installing itsdangerous (2.1.2)\n  • Installing jinja2 (3.1.2)\n  • Updating pyrsistent (0.19.3 -> 0.18.1)\n  • Installing cdiserrors (1.0.0)\n  • Installing pyjwt (2.5.0)\n  • Updating importlib-metadata (4.13.0 -> 4.12.0)\n  • Updating setuptools (58.1.0 -> 65.3.0)\n  • Installing sqlalchemy (1.3.24)\n  • Installing xmltodict (0.13.0)\n  • Installing werkzeug (2.2.2)\n\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m\u001b[91m[urllib3.connectionpool] Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n\u001b[0m  • Installing authutils (6.2.1)\n  • Installing cffi (1.15.1): Skipped for the following reason: Already installed\n  • Installing doiclient (0.1 1a5f4b2)\n  • Installing dosclient (0.1 38c0f1a)\n  • Installing gen3authz (1.5.1)\n  • Installing hsclient (0.1 f122072)\n  • Installing flask (2.2.2)\n  • Updating jsonschema (4.17.3 -> 3.2.0)\n  • Installing psycopg2 (2.9.3)\n  • Installing pyyaml (5.4.1)\n  • Installing requests (2.28.1): Skipped for the following reason: Already installed\n  • Installing six (1.16.0): Skipped for the following reason: Already installed\n  • Installing charset-normalizer (2.1.1): Skipped for the following reason: Already installed\n  • Installing idna (3.4): Skipped for the following reason: Already installed\n  • Installing sqlalchemy-utils (0.37.9)\n  • Installing indexclient (2.1.0)\n  • Installing pycparser (2.21): Skipped for the following reason: Already installed\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0manyio                      3.6.1         High level compatibility layer for...\nattrs                      22.1.0        Classes Without Boilerplate\nauthlib                    0.11          The ultimate Python library in bui...\nauthutils                  6.2.1         Gen3 auth utility functions\nbackoff                    1.11.1        Function decoration for backoff an...\ncached-property            1.5.2         A decorator for caching properties...\ncdiserrors                 1.0.0         Gen3 shared exceptions and utilities.\ncdislogging                1.1.1         Standardized logging tool and form...\ncdisutilstest          (!) 0.2.4 bdfdeb0 Collection of test data and tools\ncertifi                    2022.9.14     Python package for providing Mozil...\ncffi                       1.15.1        Foreign Function Interface for Pyt...\ncharset-normalizer         2.1.1         The Real First Universal Charset D...\nclick                      8.1.3         Composable command line interface ...\ncoverage               (!) 6.4.4         Code coverage measurement for Python\ncoveralls              (!) 3.3.1         Show coverage stats online via cov...\ncryptography               38.0.1        cryptography is a package which pr...\ndocopt                 (!) 0.6.2         Pythonic argument parser, that wil...\ndoiclient                  0.1 1a5f4b2   \ndosclient                  0.1 38c0f1a   \nflask                      2.2.2         A simple framework for building co...\ngen3authz                  1.5.1         Gen3 authz client\nh11                        0.12.0        A pure-Python, bring-your-own-I/O ...\nhsclient                   0.1 f122072   \nhttpcore                   0.15.0        A minimal low-level HTTP client.\nhttpx                      0.23.0        The next generation HTTP client.\nidna                       3.4           Internationalized Domain Names in ...\nimportlib-metadata         4.12.0        Read metadata from Python packages\nindexclient                2.1.0         \niniconfig              (!) 1.1.1         iniconfig: brain-dead simple confi...\nitsdangerous               2.1.2         Safely pass data to untrusted envi...\njinja2                     3.1.2         A very fast and expressive templat...\njsonschema                 3.2.0         An implementation of JSON Schema v...\nmarkupsafe                 2.1.1         Safely add untrusted strings to HT...\nmock                   (!) 4.0.3         Rolling backport of unittest.mock ...\npackaging                  21.3          Core utilities for Python packages\npluggy                 (!) 1.0.0         plugin and hook calling mechanisms...\npsycopg2                   2.9.3         psycopg2 - Python-PostgreSQL Datab...\npy                     (!) 1.11.0        library with cross-python path, in...\npycparser                  2.21          C parser in Python\npyjwt                      2.5.0         JSON Web Token implementation in P...\npyparsing              (!) 3.0.9         pyparsing module - Classes and met...\npyrsistent                 0.18.1        Persistent/Functional/Immutable da...\npytest                 (!) 6.2.5         pytest: simple powerful testing wi...\npytest-cov             (!) 2.12.1        Pytest plugin for measuring coverage.\npytest-flask           (!) 1.2.0         A set of py.test fixtures to test ...\npyyaml                     5.4.1         YAML parser and emitter for Python\nrequests                   2.28.1        Python HTTP for Humans.\nresponses              (!) 0.13.4        A utility library for mocking out ...\nrfc3986                    1.5.0         Validating URI References per RFC ...\nsetuptools                 65.3.0        Easily download, build, install, u...\nsix                        1.16.0        Python 2 and 3 compatibility utili...\nsniffio                    1.3.0         Sniff out which async library your...\nsqlalchemy                 1.3.24        Database Abstraction Library\nsqlalchemy-utils           0.37.9        Various utility functions for SQLA...\nswagger-spec-validator (!) 2.7.6         Validation of Swagger specifications\ntoml                   (!) 0.10.2        Python Library for Tom's Obvious, ...\ntypes-cryptography         3.3.23        Typing stubs for cryptography\nurllib3                    1.26.12       HTTP library with thread-safe conn...\nwerkzeug                   2.2.2         The comprehensive WSGI web applica...\nxmltodict                  0.13.0        Makes working with XML feel like y...\nzipp                       3.8.1         Backport of pathlib-compatible obj...\nRemoving intermediate container bc002fdc3da4\n ---> ce632af50d31\nStep 10/17 : COPY . /$appname\n ---> b9f68c3eee32\nStep 11/17 : COPY ./deployment/uwsgi/uwsgi.ini /etc/uwsgi/uwsgi.ini\n ---> 9d4b397fe0b7\nStep 12/17 : COPY ./deployment/uwsgi/wsgi.py /$appname/wsgi.py\n ---> a24dd2efd24c\nStep 13/17 : COPY clear_prometheus_multiproc /$appname/clear_prometheus_multiproc\n ---> c9bfd3f95641\nStep 14/17 : RUN poetry config virtualenvs.create false     && poetry install -vv --no-dev --no-interaction     && poetry show -v\n ---> Running in 43f876fc5689\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0m\u001b[91mThe `--no-dev` option is deprecated, use the `--only main` notation instead.\n\u001b[0mInstalling dependencies from lock file\n\nFinding the necessary packages for the current system\n\nPackage operations: 0 installs, 0 updates, 0 removals, 45 skipped\n\n  • Installing anyio (3.6.1): Skipped for the following reason: Already installed\n  • Installing attrs (22.1.0): Skipped for the following reason: Already installed\n  • Installing authlib (0.11): Skipped for the following reason: Already installed\n  • Installing authutils (6.2.1): Skipped for the following reason: Already installed\n  • Installing backoff (1.11.1): Skipped for the following reason: Already installed\n  • Installing cdiserrors (1.0.0): Skipped for the following reason: Already installed\n  • Installing cdislogging (1.1.1): Skipped for the following reason: Already installed\n  • Installing cached-property (1.5.2): Skipped for the following reason: Already installed\n  • Installing cffi (1.15.1): Skipped for the following reason: Already installed\n  • Installing click (8.1.3): Skipped for the following reason: Already installed\n  • Installing cryptography (38.0.1): Skipped for the following reason: Already installed\n  • Installing charset-normalizer (2.1.1): Skipped for the following reason: Already installed\n  • Installing dosclient (0.1 38c0f1a): Skipped for the following reason: Already installed\n  • Installing gen3authz (1.5.1): Skipped for the following reason: Already installed\n  • Installing h11 (0.12.0): Skipped for the following reason: Already installed\n  • Installing certifi (2022.9.14): Skipped for the following reason: Already installed\n  • Installing httpcore (0.15.0): Skipped for the following reason: Already installed\n  • Installing idna (3.4): Skipped for the following reason: Already installed\n  • Installing importlib-metadata (4.12.0): Skipped for the following reason: Already installed\n  • Installing hsclient (0.1 f122072): Skipped for the following reason: Already installed\n  • Installing jinja2 (3.1.2): Skipped for the following reason: Already installed\n  • Installing httpx (0.23.0): Skipped for the following reason: Already installed\n  • Installing markupsafe (2.1.1): Skipped for the following reason: Already installed\n  • Installing doiclient (0.1 1a5f4b2): Skipped for the following reason: Already installed\n  • Installing pyjwt (2.5.0): Skipped for the following reason: Already installed\n  • Installing pyrsistent (0.18.1): Skipped for the following reason: Already installed\n  • Installing pyyaml (5.4.1): Skipped for the following reason: Already installed\n  • Installing flask (2.2.2): Skipped for the following reason: Already installed\n  • Installing rfc3986 (1.5.0): Skipped for the following reason: Already installed\n  • Installing jsonschema (3.2.0): Skipped for the following reason: Already installed\n  • Installing sniffio (1.3.0): Skipped for the following reason: Already installed\n  • Installing pycparser (2.21): Skipped for the following reason: Already installed\n  • Installing sqlalchemy (1.3.24): Skipped for the following reason: Already installed\n  • Installing types-cryptography (3.3.23): Skipped for the following reason: Already installed\n  • Installing urllib3 (1.26.12): Skipped for the following reason: Already installed\n  • Installing werkzeug (2.2.2): Skipped for the following reason: Already installed\n  • Installing xmltodict (0.13.0): Skipped for the following reason: Already installed\n  • Installing setuptools (65.3.0): Skipped for the following reason: Already installed\n  • Installing psycopg2 (2.9.3): Skipped for the following reason: Already installed\n  • Installing sqlalchemy-utils (0.37.9): Skipped for the following reason: Already installed\n  • Installing itsdangerous (2.1.2): Skipped for the following reason: Already installed\n  • Installing zipp (3.8.1): Skipped for the following reason: Already installed\n  • Installing indexclient (2.1.0): Skipped for the following reason: Already installed\n  • Installing six (1.16.0): Skipped for the following reason: Already installed\n  • Installing requests (2.28.1): Skipped for the following reason: Already installed\n\nInstalling the current project: indexd (3.5.0)\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0manyio                      3.6.1         High level compatibility layer for...\nattrs                      22.1.0        Classes Without Boilerplate\nauthlib                    0.11          The ultimate Python library in bui...\nauthutils                  6.2.1         Gen3 auth utility functions\nbackoff                    1.11.1        Function decoration for backoff an...\ncached-property            1.5.2         A decorator for caching properties...\ncdiserrors                 1.0.0         Gen3 shared exceptions and utilities.\ncdislogging                1.1.1         Standardized logging tool and form...\ncdisutilstest          (!) 0.2.4 bdfdeb0 Collection of test data and tools\ncertifi                    2022.9.14     Python package for providing Mozil...\ncffi                       1.15.1        Foreign Function Interface for Pyt...\ncharset-normalizer         2.1.1         The Real First Universal Charset D...\nclick                      8.1.3         Composable command line interface ...\ncoverage               (!) 6.4.4         Code coverage measurement for Python\ncoveralls              (!) 3.3.1         Show coverage stats online via cov...\ncryptography               38.0.1        cryptography is a package which pr...\ndocopt                 (!) 0.6.2         Pythonic argument parser, that wil...\ndoiclient                  0.1 1a5f4b2   \ndosclient                  0.1 38c0f1a   \nflask                      2.2.2         A simple framework for building co...\ngen3authz                  1.5.1         Gen3 authz client\nh11                        0.12.0        A pure-Python, bring-your-own-I/O ...\nhsclient                   0.1 f122072   \nhttpcore                   0.15.0        A minimal low-level HTTP client.\nhttpx                      0.23.0        The next generation HTTP client.\nidna                       3.4           Internationalized Domain Names in ...\nimportlib-metadata         4.12.0        Read metadata from Python packages\nindexclient                2.1.0         \niniconfig              (!) 1.1.1         iniconfig: brain-dead simple confi...\nitsdangerous               2.1.2         Safely pass data to untrusted envi...\njinja2                     3.1.2         A very fast and expressive templat...\njsonschema                 3.2.0         An implementation of JSON Schema v...\nmarkupsafe                 2.1.1         Safely add untrusted strings to HT...\nmock                   (!) 4.0.3         Rolling backport of unittest.mock ...\npackaging                  21.3          Core utilities for Python packages\npluggy                 (!) 1.0.0         plugin and hook calling mechanisms...\npsycopg2                   2.9.3         psycopg2 - Python-PostgreSQL Datab...\npy                     (!) 1.11.0        library with cross-python path, in...\npycparser                  2.21          C parser in Python\npyjwt                      2.5.0         JSON Web Token implementation in P...\npyparsing              (!) 3.0.9         pyparsing module - Classes and met...\npyrsistent                 0.18.1        Persistent/Functional/Immutable da...\npytest                 (!) 6.2.5         pytest: simple powerful testing wi...\npytest-cov             (!) 2.12.1        Pytest plugin for measuring coverage.\npytest-flask           (!) 1.2.0         A set of py.test fixtures to test ...\npyyaml                     5.4.1         YAML parser and emitter for Python\nrequests                   2.28.1        Python HTTP for Humans.\nresponses              (!) 0.13.4        A utility library for mocking out ...\nrfc3986                    1.5.0         Validating URI References per RFC ...\nsetuptools                 65.3.0        Easily download, build, install, u...\nsix                        1.16.0        Python 2 and 3 compatibility utili...\nsniffio                    1.3.0         Sniff out which async library your...\nsqlalchemy                 1.3.24        Database Abstraction Library\nsqlalchemy-utils           0.37.9        Various utility functions for SQLA...\nswagger-spec-validator (!) 2.7.6         Validation of Swagger specifications\ntoml                   (!) 0.10.2        Python Library for Tom's Obvious, ...\ntypes-cryptography         3.3.23        Typing stubs for cryptography\nurllib3                    1.26.12       HTTP library with thread-safe conn...\nwerkzeug                   2.2.2         The comprehensive WSGI web applica...\nxmltodict                  0.13.0        Makes working with XML feel like y...\nzipp                       3.8.1         Backport of pathlib-compatible obj...\nRemoving intermediate container 43f876fc5689\n ---> 042cde9a2eaf\nStep 15/17 : RUN COMMIT=`git rev-parse HEAD` && echo \"COMMIT=\\\"${COMMIT}\\\"\" >$appname/index/version_data.py     && VERSION=`git describe --always --tags` && echo \"VERSION=\\\"${VERSION}\\\"\" >>$appname/index/version_data.py\n ---> Running in 618d632c1425\nRemoving intermediate container 618d632c1425\n ---> 8f5913eebc4c\nStep 16/17 : WORKDIR /var/www/$appname\n ---> Running in 25d989b38c0c\nRemoving intermediate container 25d989b38c0c\n ---> 2958561befb0\nStep 17/17 : CMD /dockerrun.sh\n ---> Running in d2675fb613c8\nRemoving intermediate container d2675fb613c8\n ---> 7532563fb9c6\nSuccessfully built 7532563fb9c6\nSuccessfully tagged indexd:latest\n","stderr":"","imageSize":1158908358},"endTime":1672746261249}