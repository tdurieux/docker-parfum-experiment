{"repository":"https://github.com/splitio/split-evaluator","dockerfilePath":"Dockerfile","startTime":1672516941683,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/splitio/split-evaluator'...\n","error":null,"commit":"dbe4d317c6c9a50963d9bc5a3fdb15372f524a11"},"originalBuild":{"startTimestamp":1672516942656,"endTimestamp":1672516998622,"error":null,"stdout":"Sending build context to Docker daemon  1.212MB\r\r\nStep 1/11 : FROM node:16.16.0-alpine3.16 AS builder\n16.16.0-alpine3.16: Pulling from library/node\n213ec9aee27d: Already exists\n015fad1872e1: Pulling fs layer\nc93f3de25c33: Pulling fs layer\nbc5d1f30ff35: Pulling fs layer\nbc5d1f30ff35: Verifying Checksum\nbc5d1f30ff35: Download complete\nc93f3de25c33: Verifying Checksum\nc93f3de25c33: Download complete\n015fad1872e1: Verifying Checksum\n015fad1872e1: Download complete\n015fad1872e1: Pull complete\nc93f3de25c33: Pull complete\nbc5d1f30ff35: Pull complete\nDigest: sha256:1c8769a8c9ed57817ef07162744a3722421333a438185c560aa42a9a1fc6ea23\nStatus: Downloaded newer image for node:16.16.0-alpine3.16\n ---> b1ca7421d2e7\nStep 2/11 : WORKDIR /usr/src/split-evaluator\n ---> Running in bc8a0eaffcf1\nRemoving intermediate container bc8a0eaffcf1\n ---> 31639c510daf\nStep 3/11 : COPY package.json package-lock.json ./\n ---> 4a2ef075bedc\nStep 4/11 : RUN npm install --only=production\n ---> Running in 429d760864a6\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 188 packages, and audited 399 packages in 8s\n\n27 packages are looking for funding\n  run `npm fund` for details\n\n2 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 429d760864a6\n ---> d83eef9bf4e9\nStep 5/11 : FROM node:16.16.0-alpine3.16 AS runner\n ---> b1ca7421d2e7\nStep 6/11 : WORKDIR /usr/src/split-evaluator\n ---> Running in 3215c887f4eb\nRemoving intermediate container 3215c887f4eb\n ---> 1bcf413547e1\nStep 7/11 : COPY --from=builder /usr/src/split-evaluator/node_modules ./node_modules\n ---> de3dc17619be\nStep 8/11 : COPY . .\n ---> fcfb3286a58b\nStep 9/11 : EXPOSE 7548\n ---> Running in 6876d0fe0e62\nRemoving intermediate container 6876d0fe0e62\n ---> fdfa173a10db\nStep 10/11 : ENV SPLIT_EVALUATOR_SERVER_PORT=7548\n ---> Running in 1a10aa08ae12\nRemoving intermediate container 1a10aa08ae12\n ---> e6bfdfce55bf\nStep 11/11 : ENTRYPOINT [\"npm\", \"start\"]\n ---> Running in 3750e522e7ea\nRemoving intermediate container 3750e522e7ea\n ---> 09ddc743ff61\nSuccessfully built 09ddc743ff61\nSuccessfully tagged split-evaluator:latest\n","stderr":"","imageSize":148950890},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":33}}],"repairedDockerfile":"# Builder stage\nFROM node:16.16.0-alpine3.16 AS builder\n\nWORKDIR /usr/src/split-evaluator\n\nCOPY package.json package-lock.json ./\n\nRUN npm install --only=production\n\n# Runner stage\nFROM node:16.16.0-alpine3.16 AS runner\n\nWORKDIR /usr/src/split-evaluator\n\nCOPY --from=builder /usr/src/split-evaluator/node_modules ./node_modules\n\nCOPY . .\n\nEXPOSE 7548\n\nENV SPLIT_EVALUATOR_SERVER_PORT=7548\n\nENTRYPOINT [\"npm\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672516999031,"endTimestamp":1672517024308,"error":null,"stdout":"Sending build context to Docker daemon  1.212MB\r\r\nStep 1/11 : FROM node:16.16.0-alpine3.16 AS builder\n ---> b1ca7421d2e7\nStep 2/11 : WORKDIR /usr/src/split-evaluator\n ---> Running in 6eb897e75d75\nRemoving intermediate container 6eb897e75d75\n ---> f4a17c4a2f47\nStep 3/11 : COPY package.json package-lock.json ./\n ---> 1224d4ee6a60\nStep 4/11 : RUN npm install --only=production\n ---> Running in c2d911ff2baf\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 188 packages, and audited 399 packages in 7s\n\n27 packages are looking for funding\n  run `npm fund` for details\n\n2 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container c2d911ff2baf\n ---> 406af61017de\nStep 5/11 : FROM node:16.16.0-alpine3.16 AS runner\n ---> b1ca7421d2e7\nStep 6/11 : WORKDIR /usr/src/split-evaluator\n ---> Running in 72df3eb7f416\nRemoving intermediate container 72df3eb7f416\n ---> 8d722028d018\nStep 7/11 : COPY --from=builder /usr/src/split-evaluator/node_modules ./node_modules\n ---> 330f24fae87e\nStep 8/11 : COPY . .\n ---> 64595cea4af9\nStep 9/11 : EXPOSE 7548\n ---> Running in 3b805a65d5a7\nRemoving intermediate container 3b805a65d5a7\n ---> 712cc229e1ae\nStep 10/11 : ENV SPLIT_EVALUATOR_SERVER_PORT=7548\n ---> Running in 70c3e8ab513e\nRemoving intermediate container 70c3e8ab513e\n ---> 54278b1d47a3\nStep 11/11 : ENTRYPOINT [\"npm\", \"start\"]\n ---> Running in bf9963dca63d\nRemoving intermediate container bf9963dca63d\n ---> ea46ba7f8959\nSuccessfully built ea46ba7f8959\nSuccessfully tagged split-evaluator:latest\n","stderr":"","imageSize":148950890},"endTime":1672517024709}