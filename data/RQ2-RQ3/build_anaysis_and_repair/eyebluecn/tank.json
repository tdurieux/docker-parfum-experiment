{"repository":"https://github.com/eyebluecn/tank","dockerfilePath":"Dockerfile","startTime":1672496457018,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/eyebluecn/tank'...\n","error":null,"commit":"1ec66adda090de521b04c6f6602a9aaa4a565d41"},"originalBuild":{"startTimestamp":1672496458249,"endTimestamp":1672496886480,"error":null,"stdout":"Sending build context to Docker daemon  27.21MB\r\r\nStep 1/11 : FROM golang:1.17\n1.17: Pulling from library/golang\nd836772a1c1f: Pulling fs layer\n66a9e63c657a: Pulling fs layer\nd1989b6e74cf: Pulling fs layer\nc28818711e1e: Pulling fs layer\n9d6246ba248c: Pulling fs layer\n21d43f0d73c2: Pulling fs layer\nd8a1c5873f40: Pulling fs layer\n21d43f0d73c2: Waiting\n9d6246ba248c: Waiting\nd8a1c5873f40: Waiting\nc28818711e1e: Waiting\nd1989b6e74cf: Verifying Checksum\nd1989b6e74cf: Download complete\n66a9e63c657a: Verifying Checksum\n66a9e63c657a: Download complete\nd836772a1c1f: Verifying Checksum\nd836772a1c1f: Download complete\nc28818711e1e: Verifying Checksum\nc28818711e1e: Download complete\n9d6246ba248c: Verifying Checksum\n9d6246ba248c: Download complete\nd8a1c5873f40: Verifying Checksum\nd8a1c5873f40: Download complete\n21d43f0d73c2: Verifying Checksum\n21d43f0d73c2: Download complete\nd836772a1c1f: Pull complete\n66a9e63c657a: Pull complete\nd1989b6e74cf: Pull complete\nc28818711e1e: Pull complete\n9d6246ba248c: Pull complete\n21d43f0d73c2: Pull complete\nd8a1c5873f40: Pull complete\nDigest: sha256:87262e4a4c7db56158a80a18fefdc4fee5accc41b59cde821e691d05541bbb18\nStatus: Downloaded newer image for golang:1.17\n ---> 742df529b073\nStep 2/11 : MAINTAINER eyeblue \"eyebluecn@126.com\"\n ---> Running in cc9fd360fd8b\nRemoving intermediate container cc9fd360fd8b\n ---> 3200e16efcce\nStep 3/11 : WORKDIR /data\n ---> Running in 9e9532db2f1f\nRemoving intermediate container 9e9532db2f1f\n ---> 724e88c5c040\nStep 4/11 : COPY . /data\n ---> 959bda2bf9fe\nStep 5/11 : VOLUME /data/build/matter\n ---> Running in 2a2acdb5263a\nRemoving intermediate container 2a2acdb5263a\n ---> bf103a4dc064\nStep 6/11 : ENV GOPROXY=https://goproxy.cn\n ---> Running in bcd132a35fde\nRemoving intermediate container bcd132a35fde\n ---> 70224fc333cc\nStep 7/11 : ENV TZ=Asia/Shanghai\n ---> Running in 7df8662b34c2\nRemoving intermediate container 7df8662b34c2\n ---> 9b0a5fbff936\nStep 8/11 : RUN apt-get install -y tzdata\n ---> Running in 942f58982717\nReading package lists...\nBuilding dependency tree...\nReading state information...\ntzdata is already the newest version (2021a-1+deb11u4).\ntzdata set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container 942f58982717\n ---> 578f8e36a7c5\nStep 9/11 : RUN go build     && cp -r /data/tank /data/build\n ---> Running in b2d5c3957b1c\n\u001b[91mgo: downloading gorm.io/driver/mysql v1.3.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200709230013-948cd5f35899\ngo: downloading github.com/robfig/cron/v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.10\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/sqlite v1.4.0\n\u001b[0m\u001b[91mgo: downloading gorm.io/gorm v1.23.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/disintegration/imaging v1.6.2\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/concurrent v0.0.0-20180228061459-e0a39a4cb421\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v0.0.0-20180701023420-4b7aa43c6742\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/now v1.1.4\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/go-sqlite v1.14.8\n\u001b[0m\u001b[91mgo: downloading modernc.org/sqlite v1.14.7\ngo: downloading modernc.org/libc v1.14.5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211007075335-d3039528d8ac\n\u001b[0m\u001b[91mgo: downloading golang.org/x/image v0.0.0-20191009234506-e7c1f5e7dbb8\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\ngo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading modernc.org/memory v1.0.5\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0\n\u001b[0mRemoving intermediate container b2d5c3957b1c\n ---> d8a31964ee21\nStep 10/11 : EXPOSE 6010\n ---> Running in 8ee6982f7a3f\nRemoving intermediate container 8ee6982f7a3f\n ---> 67dad8b68e84\nStep 11/11 : ENTRYPOINT [\"/data/build/tank\"]\n ---> Running in 4a6bfee169ef\nRemoving intermediate container 4a6bfee169ef\n ---> 9fbbb2b5f48b\nSuccessfully built 9fbbb2b5f48b\nSuccessfully tagged tank:latest\n","stderr":"","imageSize":1625868791},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":20,"end":20,"columnStart":4,"columnEnd":29}},{"name":"ruleAptGetUpdatePrecedesInstall","position":{"start":20,"end":20,"columnStart":4,"columnEnd":29}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":20,"end":20,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"# use golang 1.17\nFROM golang:1.17\n\n# maintainer. Author's name and email.\nMAINTAINER eyeblue \"eyebluecn@126.com\"\n\n# work directory.\nWORKDIR /data\n\n# Copy this project to /data\nCOPY . /data\n\n# in order to make docker stateless. Prepare a volumn\nVOLUME /data/build/matter\n\n# proxy\nENV GOPROXY=https://goproxy.cn\n\n# Handle time-zone\nENV TZ=Asia/Shanghai\nRUN apt-get install --no-install-recommends -y tzdata\n\n# prepare the config file\nRUN go build \\\n    && cp -r /data/tank /data/build\n\n# use 6010 as default.\nEXPOSE 6010\n\n# tank as execute file.\nENTRYPOINT [\"/data/build/tank\"]\n"},"repairedBuild":{"startTimestamp":1672496887848,"endTimestamp":1672497008412,"error":null,"stdout":"Sending build context to Docker daemon  27.21MB\r\r\nStep 1/11 : FROM golang:1.17\n ---> 742df529b073\nStep 2/11 : MAINTAINER eyeblue \"eyebluecn@126.com\"\n ---> Running in bb1e277e13cc\nRemoving intermediate container bb1e277e13cc\n ---> 8537589cc74c\nStep 3/11 : WORKDIR /data\n ---> Running in 1afa409925ce\nRemoving intermediate container 1afa409925ce\n ---> fa003beff32f\nStep 4/11 : COPY . /data\n ---> f0875967f6d0\nStep 5/11 : VOLUME /data/build/matter\n ---> Running in f9541459f29b\nRemoving intermediate container f9541459f29b\n ---> 606847afe41d\nStep 6/11 : ENV GOPROXY=https://goproxy.cn\n ---> Running in 481e6ec48d41\nRemoving intermediate container 481e6ec48d41\n ---> c76acfc7c20f\nStep 7/11 : ENV TZ=Asia/Shanghai\n ---> Running in 0960c5732498\nRemoving intermediate container 0960c5732498\n ---> fbb574a96391\nStep 8/11 : RUN apt-get install --no-install-recommends -y tzdata\n ---> Running in 2080ae34df1d\nReading package lists...\nBuilding dependency tree...\nReading state information...\ntzdata is already the newest version (2021a-1+deb11u4).\ntzdata set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container 2080ae34df1d\n ---> 976e78079def\nStep 9/11 : RUN go build     && cp -r /data/tank /data/build\n ---> Running in 2ec8b00e5c95\n\u001b[91mgo: downloading gorm.io/driver/mysql v1.3.2\n\u001b[0m\u001b[91mgo: downloading gorm.io/gorm v1.23.2\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.10\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron/v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/sqlite v1.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200709230013-948cd5f35899\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/disintegration/imaging v1.6.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/go-sqlite v1.14.8\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.14.5\ngo: downloading modernc.org/sqlite v1.14.7\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/now v1.1.4\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v0.0.0-20180701023420-4b7aa43c6742\ngo: downloading github.com/modern-go/concurrent v0.0.0-20180228061459-e0a39a4cb421\n\u001b[0m\u001b[91mgo: downloading golang.org/x/image v0.0.0-20191009234506-e7c1f5e7dbb8\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211007075335-d3039528d8ac\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.4.1\ngo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/memory v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0\n\u001b[0mRemoving intermediate container 2ec8b00e5c95\n ---> 1918cbfad4c3\nStep 10/11 : EXPOSE 6010\n ---> Running in e8bd520b1cdc\nRemoving intermediate container e8bd520b1cdc\n ---> b237f2dded0e\nStep 11/11 : ENTRYPOINT [\"/data/build/tank\"]\n ---> Running in 6ac80fb02d65\nRemoving intermediate container 6ac80fb02d65\n ---> c67dae57b32d\nSuccessfully built c67dae57b32d\nSuccessfully tagged tank:latest\n","stderr":"","imageSize":1625868815},"endTime":1672497008967}