{"repository":"https://github.com/chainsafe/eth2-crawler","dockerfilePath":"Dockerfile","startTime":1672315747871,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/chainsafe/eth2-crawler'...\n","error":null,"commit":"7caa71fc133327d403dfbe38483f3fe36b43ee79"},"originalBuild":{"startTimestamp":1672315748802,"endTimestamp":1672315992531,"error":null,"stdout":"Sending build context to Docker daemon    873kB\r\r\nStep 1/16 : FROM golang:1.17-alpine AS builder\n1.17-alpine: Pulling from library/golang\n530afca65e2e: Pulling fs layer\nd450d4da0343: Pulling fs layer\n8162171ecb65: Pulling fs layer\nff63b82a42d3: Pulling fs layer\n5b4b56e6b994: Pulling fs layer\nff63b82a42d3: Waiting\n5b4b56e6b994: Waiting\n8162171ecb65: Verifying Checksum\n8162171ecb65: Download complete\nd450d4da0343: Verifying Checksum\nd450d4da0343: Download complete\n530afca65e2e: Verifying Checksum\n530afca65e2e: Download complete\n5b4b56e6b994: Download complete\n530afca65e2e: Pull complete\nff63b82a42d3: Verifying Checksum\nff63b82a42d3: Download complete\nd450d4da0343: Pull complete\n8162171ecb65: Pull complete\nff63b82a42d3: Pull complete\n5b4b56e6b994: Pull complete\nDigest: sha256:99ddec1bbfd6d6bca3f9804c02363daee8c8524dae50df7942e8e60788fd17c9\nStatus: Downloaded newer image for golang:1.17-alpine\n ---> 270c4f58750f\nStep 2/16 : RUN apk add build-base\n ---> Running in 1caaae233082\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/20) Installing libgcc (11.2.1_git20220219-r2)\n(3/20) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/20) Installing binutils (2.38-r3)\n(5/20) Installing libmagic (5.41-r0)\n(6/20) Installing file (5.41-r0)\n(7/20) Installing libgomp (11.2.1_git20220219-r2)\n(8/20) Installing libatomic (11.2.1_git20220219-r2)\n(9/20) Installing gmp (6.2.1-r2)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (11.2.1_git20220219-r2)\n(14/20) Installing musl-dev (1.2.3-r2)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (11.2.1_git20220219-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.35.0-r15.trigger\nOK: 187 MiB in 34 packages\nRemoving intermediate container 1caaae233082\n ---> 621ca2d002a0\nStep 3/16 : WORKDIR /code\n ---> Running in 83dc0b14bff4\nRemoving intermediate container 83dc0b14bff4\n ---> ca85c4cc4956\nStep 4/16 : COPY go.mod .\n ---> 00799e55706b\nStep 5/16 : COPY go.sum .\n ---> ada15f083e7d\nStep 6/16 : RUN go mod download\n ---> Running in 9452c205ef3e\nRemoving intermediate container 9452c205ef3e\n ---> 144c2a9ed213\nStep 7/16 : ADD . .\n ---> 6971e861fb40\nStep 8/16 : RUN env GOOS=linux GOARCH=amd64 go build -o /crawler cmd/main.go\n ---> Running in 55df6adabef7\nRemoving intermediate container 55df6adabef7\n ---> 6fb0e772adbb\nStep 9/16 : FROM alpine:3.14.0\n3.14.0: Pulling from library/alpine\n5843afab3874: Pulling fs layer\n5843afab3874: Verifying Checksum\n5843afab3874: Download complete\n5843afab3874: Pull complete\nDigest: sha256:adab3844f497ab9171f070d4cae4114b5aec565ac772e2f2579405b78be67c96\nStatus: Downloaded newer image for alpine:3.14.0\n ---> d4ff818577bc\nStep 10/16 : RUN apk add build-base\n ---> Running in 014706a39854\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing libgcc (10.3.1_git20210424-r2)\n(2/20) Installing libstdc++ (10.3.1_git20210424-r2)\n(3/20) Installing binutils (2.35.2-r2)\n(4/20) Installing libmagic (5.40-r1)\n(5/20) Installing file (5.40-r1)\n(6/20) Installing libgomp (10.3.1_git20210424-r2)\n(7/20) Installing libatomic (10.3.1_git20210424-r2)\n(8/20) Installing libgphobos (10.3.1_git20210424-r2)\n(9/20) Installing gmp (6.2.1-r1)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (10.3.1_git20210424-r2)\n(14/20) Installing musl-dev (1.2.2-r3)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (10.3.1_git20210424-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.33.1-r2.trigger\nOK: 196 MiB in 34 packages\nRemoving intermediate container 014706a39854\n ---> 315e944b2f11\nStep 11/16 : ARG env=dev\n ---> Running in 4609bd5cb9dc\nRemoving intermediate container 4609bd5cb9dc\n ---> 432e613392b9\nStep 12/16 : RUN apk add curl\n ---> Running in 1028bf98112b\n(1/5) Installing ca-certificates (20220614-r0)\n(2/5) Installing brotli-libs (1.0.9-r5)\n(3/5) Installing nghttp2-libs (1.43.0-r0)\n(4/5) Installing libcurl (7.79.1-r4)\n(5/5) Installing curl (7.79.1-r4)\nExecuting busybox-1.33.1-r2.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 198 MiB in 39 packages\nRemoving intermediate container 1028bf98112b\n ---> 812a80937d76\nStep 13/16 : COPY --from=builder /crawler /\n ---> 4eaa622dbf45\nStep 14/16 : COPY cmd/config/config.$env.yaml /config.yaml\n ---> 1a0a4ca6839e\nStep 15/16 : RUN chmod +x /crawler\n ---> Running in 24a2da0286a4\nRemoving intermediate container 24a2da0286a4\n ---> 31d97e0a1620\nStep 16/16 : ENTRYPOINT [\"/crawler\", \"-p\", \"/config.yaml\"]\n ---> Running in 32f8aaeeca4d\nRemoving intermediate container 32f8aaeeca4d\n ---> b06cba52f91b\nSuccessfully built b06cba52f91b\nSuccessfully tagged eth2-crawler:latest\n","stderr":"","imageSize":269969985},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":22}},{"name":"apkAddUseNoCache","position":{"start":18,"end":18,"columnStart":4,"columnEnd":22}},{"name":"apkAddUseNoCache","position":{"start":21,"end":21,"columnStart":4,"columnEnd":16}}],"repairedDockerfile":"# Copyright 2021 ChainSafe Systems\n# SPDX-License-Identifier: LGPL-3.0-only\n\nFROM golang:1.17-alpine AS builder\n\nRUN apk add --no-cache build-base\nWORKDIR /code\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n\n# build the binary\nADD . .\nRUN env GOOS=linux GOARCH=amd64 go build -o /crawler cmd/main.go\n\n# final stage\nFROM alpine:3.14.0\n\nRUN apk add --no-cache build-base\nARG env=dev\n\nRUN apk add --no-cache curl\nCOPY --from=builder /crawler /\nCOPY cmd/config/config.$env.yaml /config.yaml\n\nRUN chmod +x /crawler\nENTRYPOINT [\"/crawler\", \"-p\", \"/config.yaml\"]\n"},"repairedBuild":{"startTimestamp":1672315992890,"endTimestamp":1672316154566,"error":null,"stdout":"Sending build context to Docker daemon    873kB\r\r\nStep 1/16 : FROM golang:1.17-alpine AS builder\n ---> 270c4f58750f\nStep 2/16 : RUN apk add --no-cache build-base\n ---> Running in ea089569e7bc\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/20) Installing libgcc (11.2.1_git20220219-r2)\n(3/20) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/20) Installing binutils (2.38-r3)\n(5/20) Installing libmagic (5.41-r0)\n(6/20) Installing file (5.41-r0)\n(7/20) Installing libgomp (11.2.1_git20220219-r2)\n(8/20) Installing libatomic (11.2.1_git20220219-r2)\n(9/20) Installing gmp (6.2.1-r2)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (11.2.1_git20220219-r2)\n(14/20) Installing musl-dev (1.2.3-r2)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (11.2.1_git20220219-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.35.0-r15.trigger\nOK: 187 MiB in 34 packages\nRemoving intermediate container ea089569e7bc\n ---> 2e5741c6a326\nStep 3/16 : WORKDIR /code\n ---> Running in b61b36885d5f\nRemoving intermediate container b61b36885d5f\n ---> 24e51a551668\nStep 4/16 : COPY go.mod .\n ---> dd4683ef3883\nStep 5/16 : COPY go.sum .\n ---> 9892c2faf8e5\nStep 6/16 : RUN go mod download\n ---> Running in d386048428cf\nRemoving intermediate container d386048428cf\n ---> 8e02a8b77d39\nStep 7/16 : ADD . .\n ---> 329d1f5e6bc9\nStep 8/16 : RUN env GOOS=linux GOARCH=amd64 go build -o /crawler cmd/main.go\n ---> Running in bd27a93a85b4\nRemoving intermediate container bd27a93a85b4\n ---> 95512d19b71c\nStep 9/16 : FROM alpine:3.14.0\n ---> d4ff818577bc\nStep 10/16 : RUN apk add --no-cache build-base\n ---> Running in 3e26f00e2f0e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing libgcc (10.3.1_git20210424-r2)\n(2/20) Installing libstdc++ (10.3.1_git20210424-r2)\n(3/20) Installing binutils (2.35.2-r2)\n(4/20) Installing libmagic (5.40-r1)\n(5/20) Installing file (5.40-r1)\n(6/20) Installing libgomp (10.3.1_git20210424-r2)\n(7/20) Installing libatomic (10.3.1_git20210424-r2)\n(8/20) Installing libgphobos (10.3.1_git20210424-r2)\n(9/20) Installing gmp (6.2.1-r1)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (10.3.1_git20210424-r2)\n(14/20) Installing musl-dev (1.2.2-r3)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (10.3.1_git20210424-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.33.1-r2.trigger\nOK: 196 MiB in 34 packages\nRemoving intermediate container 3e26f00e2f0e\n ---> be4cf587306b\nStep 11/16 : ARG env=dev\n ---> Running in 841e89210c10\nRemoving intermediate container 841e89210c10\n ---> 98b5d26cd913\nStep 12/16 : RUN apk add --no-cache curl\n ---> Running in 9d27ef9848d2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20220614-r0)\n(2/5) Installing brotli-libs (1.0.9-r5)\n(3/5) Installing nghttp2-libs (1.43.0-r0)\n(4/5) Installing libcurl (7.79.1-r4)\n(5/5) Installing curl (7.79.1-r4)\nExecuting busybox-1.33.1-r2.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 198 MiB in 39 packages\nRemoving intermediate container 9d27ef9848d2\n ---> e16f23a01f8c\nStep 13/16 : COPY --from=builder /crawler /\n ---> cd902ce7e492\nStep 14/16 : COPY cmd/config/config.$env.yaml /config.yaml\n ---> 360de515d313\nStep 15/16 : RUN chmod +x /crawler\n ---> Running in 8a9c6c80523e\nRemoving intermediate container 8a9c6c80523e\n ---> 2f3eb2c71986\nStep 16/16 : ENTRYPOINT [\"/crawler\", \"-p\", \"/config.yaml\"]\n ---> Running in 257f9e1426d4\nRemoving intermediate container 257f9e1426d4\n ---> 455ddd114afd\nSuccessfully built 455ddd114afd\nSuccessfully tagged eth2-crawler:latest\n","stderr":"","imageSize":267812519},"endTime":1672316155087}