{"repository":"https://github.com/jakewharton/ui-spy","dockerfilePath":"Dockerfile","startTime":1672869123933,"endTime":1672869386029,"clone":{"startTime":1672869123934,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jakewharton/ui-spy'...\n","error":null,"endTime":1672869125552,"commit":"e4e3e70a5764463575c0b4f83c0699a66f27eee9"},"originalBuild":{"startTime":1672869125642,"endTime":1672869289318,"error":null,"stdout":"Sending build context to Docker daemon  164.9kB\r\r\nStep 1/18 : FROM openjdk:18-alpine AS build\n18-alpine: Pulling from library/openjdk\n59bf1c3509f3: Already exists\n20ae5de21b22: Pulling fs layer\n3048de22201a: Pulling fs layer\n20ae5de21b22: Verifying Checksum\n20ae5de21b22: Download complete\n20ae5de21b22: Pull complete\n3048de22201a: Verifying Checksum\n3048de22201a: Download complete\n3048de22201a: Pull complete\nDigest: sha256:e5c5b35b831a4f655074a25604130ce53e33567b82c8a7204f0e5641b66d477e\nStatus: Downloaded newer image for openjdk:18-alpine\n ---> c89120dcca4c\nStep 2/18 : RUN apk add       binutils     ;\n ---> Running in 33aae583aae4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libgcc (10.3.1_git20211027-r0)\n(2/3) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/3) Installing binutils (2.37-r3)\nExecuting busybox-1.34.1-r3.trigger\nOK: 19 MiB in 23 packages\nRemoving intermediate container 33aae583aae4\n ---> eb0151fcb9b7\nStep 3/18 : WORKDIR /app\n ---> Running in f080d9f415a5\nRemoving intermediate container f080d9f415a5\n ---> 8067845daff2\nStep 4/18 : COPY gradlew ./\n ---> 9c501052ddcc\nStep 5/18 : COPY gradle/wrapper ./gradle/wrapper\n ---> f3ebbda3c510\nStep 6/18 : RUN ./gradlew --version\n ---> Running in a9f05f3c105a\nDownloading https://services.gradle.org/distributions/gradle-7.4.1-bin.zip\n...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\n\nWelcome to Gradle 7.4.1!\n\nHere are the highlights of this release:\n - Aggregated test and JaCoCo reports\n - Marking additional test source directories as tests in IntelliJ\n - Support for Adoptium JDKs in Java toolchains\n\nFor more details see https://docs.gradle.org/7.4.1/release-notes.html\n\n\n------------------------------------------------------------\nGradle 7.4.1\n------------------------------------------------------------\n\nBuild time:   2022-03-09 15:04:47 UTC\nRevision:     36dc52588e09b4b72f2010bc07599e0ee0434e2e\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          18-ea (Oracle Corporation 18-ea+11)\nOS:           Linux 5.4.0-113-generic amd64\n\nRemoving intermediate container a9f05f3c105a\n ---> 7892d9b89256\nStep 7/18 : COPY gradle ./gradle\n ---> a97215fe02c1\nStep 8/18 : COPY build.gradle settings.gradle ./\n ---> 1157da1d5a1c\nStep 9/18 : COPY src ./src\n ---> 54c64283c76a\nStep 10/18 : RUN ./gradlew assemble\n ---> Running in dc502d57d37a\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n> Task :compileKotlin\n'compileJava' task (current target is 18) and 'compileKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.\nBy default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation\nConsider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\n\n\n> Task :processResources NO-SOURCE\n\n> Task :compileKotlin\nw: file:///app/src/main/kotlin/com/jakewharton/uispy/main.kt:70:7 Variable 'json' is never used\n\n> Task :compileJava NO-SOURCE\n> Task :classes UP-TO-DATE\n> Task :jar\n> Task :inspectClassesForKotlinIC\n> Task :startScripts\n> Task :distTar SKIPPED\n> Task :distZip\n> Task :installDist\n> Task :assemble\n\nBUILD SUCCESSFUL in 29s\n6 actionable tasks: 6 executed\nRemoving intermediate container dc502d57d37a\n ---> 2019f6bde234\nStep 11/18 : RUN jdeps       --ignore-missing-deps       --multi-release 18       --print-module-deps       --class-path build/install/ui-spy/lib/*     | tr ',' '\\n'     | grep -v java.instrument     | grep -v jdk.unsupported     | awk '{print $1 \"\\n\" \"jdk.crypto.ec\"}'     | tr '\\n' ','     | sed 's/,$/\\n/'     | tee jdeps.txt   ;\n ---> Running in d9284785a6e0\njava.base,jdk.crypto.ec,java.logging,jdk.crypto.ec\nRemoving intermediate container d9284785a6e0\n ---> cc3d1e97d2ad\nStep 12/18 : RUN jlink       --verbose       --compress 2       --strip-debug       --no-header-files       --no-man-pages       --output jre       --add-modules $(cat jdeps.txt)    ;\n ---> Running in 2ea67680fc8b\njava.base file:///opt/openjdk-18/jmods/java.base.jmod\njava.logging file:///opt/openjdk-18/jmods/java.logging.jmod\njdk.crypto.ec file:///opt/openjdk-18/jmods/jdk.crypto.ec.jmod\n\nProviders:\n  java.base provides java.nio.file.spi.FileSystemProvider used by java.base\n  jdk.crypto.ec provides java.security.Provider used by java.base\n  java.base provides java.util.random.RandomGenerator used by java.base\n  java.logging provides jdk.internal.logger.DefaultLoggerFinder used by java.base\nRemoving intermediate container 2ea67680fc8b\n ---> 3e504b41701e\nStep 13/18 : FROM alpine:3.17.0\n3.17.0: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:3.17.0\n ---> 49176f190c7e\nStep 14/18 : COPY --from=build /app/jre /jre\n ---> 5e0adbaddbe6\nStep 15/18 : ENV JAVA_HOME=\"/jre\"\n ---> Running in af646718edc2\nRemoving intermediate container af646718edc2\n ---> 56de85bbbe5e\nStep 16/18 : COPY --from=build /app/build/install/ui-spy/ /app\n ---> 354cff8b7694\nStep 17/18 : ENTRYPOINT [\"/app/bin/ui-spy\"]\n ---> Running in 7ad47a508053\nRemoving intermediate container 7ad47a508053\n ---> d6b5bc45df95\nStep 18/18 : CMD [\"--data\", \"/data\", \"/config/config.toml\"]\n ---> Running in a0e88ff2dede\nRemoving intermediate container a0e88ff2dede\n ---> d825ece7ce91\nSuccessfully built d825ece7ce91\nSuccessfully tagged ui-spy:latest\n","stderr":"","imageSize":46928832},"repair":{"startTime":1672869289384,"endTime":1672869289468,"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":6,"columnStart":4,"columnEnd":5}}],"repairedDockerfile":"# If you change this major version, change the --multi-release jdeps flag below\nFROM openjdk:18-alpine AS build\n\nRUN apk add --no-cache \\\n\n      binutils \\\n    ;\nWORKDIR /app\n\n# Cache the Gradle binary separately from the build.\nCOPY gradlew ./\nCOPY gradle/wrapper ./gradle/wrapper\nRUN ./gradlew --version\n\nCOPY gradle ./gradle\nCOPY build.gradle settings.gradle ./\nCOPY src ./src\nRUN ./gradlew assemble\n\n# Find modules which are required.\nRUN jdeps \\\n      --ignore-missing-deps \\\n      # Keep in sync with major version of container above.\n      --multi-release 18 \\\n      --print-module-deps \\\n      --class-path build/install/ui-spy/lib/* \\\n    # Split comma-separated items into lines.\n    | tr ',' '\\n' \\\n    # Used only by kotlinx.coroutines debug agent which we do not use.\n    | grep -v java.instrument \\\n    # Used only by kotlinx.coroutines debug agent which we do not use.\n    | grep -v jdk.unsupported \\\n    # Add crypto module to the list so TLS works for HTTPS requests.\n    | awk '{print $1 \"\\n\" \"jdk.crypto.ec\"}' \\\n    # Join lines with comma.\n    | tr '\\n' ',' \\\n    # Replace trailing comma with a newline.\n    | sed 's/,$/\\n/' \\\n    # Print to stdout AND write to this file.\n    | tee jdeps.txt \\\n  ;\n\n# Build custom minimal JRE with only the modules we need.\nRUN jlink \\\n      --verbose \\\n      --compress 2 \\\n      --strip-debug \\\n      --no-header-files \\\n      --no-man-pages \\\n      --output jre \\\n      --add-modules $(cat jdeps.txt) \\\n   ;\n\nFROM alpine:3.17.0\n\nCOPY --from=build /app/jre /jre\nENV JAVA_HOME=\"/jre\"\n\nCOPY --from=build /app/build/install/ui-spy/ /app\n\nENTRYPOINT [\"/app/bin/ui-spy\"]\nCMD [\"--data\", \"/data\", \"/config/config.toml\"]\n"},"repairedBuild":{"startTime":1672869289638,"endTime":1672869385770,"error":null,"stdout":"Sending build context to Docker daemon  164.9kB\r\r\n\u001b[91m[WARNING]: Empty continuation line found in:\n    RUN apk add --no-cache       binutils     ;\n[WARNING]: Empty continuation lines will become errors in a future release.\n\u001b[0mStep 1/18 : FROM openjdk:18-alpine AS build\n ---> c89120dcca4c\nStep 2/18 : RUN apk add --no-cache       binutils     ;\n ---> Running in 8ec9ee0013da\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libgcc (10.3.1_git20211027-r0)\n(2/3) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/3) Installing binutils (2.37-r3)\nExecuting busybox-1.34.1-r3.trigger\nOK: 19 MiB in 23 packages\nRemoving intermediate container 8ec9ee0013da\n ---> 6986f83e9ce4\nStep 3/18 : WORKDIR /app\n ---> Running in abacca7e7691\nRemoving intermediate container abacca7e7691\n ---> 19b6ad6d7ac5\nStep 4/18 : COPY gradlew ./\n ---> c22c36d66fa0\nStep 5/18 : COPY gradle/wrapper ./gradle/wrapper\n ---> 2b26144a5547\nStep 6/18 : RUN ./gradlew --version\n ---> Running in b7397109d739\nDownloading https://services.gradle.org/distributions/gradle-7.4.1-bin.zip\n...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\n\nWelcome to Gradle 7.4.1!\n\nHere are the highlights of this release:\n - Aggregated test and JaCoCo reports\n - Marking additional test source directories as tests in IntelliJ\n - Support for Adoptium JDKs in Java toolchains\n\nFor more details see https://docs.gradle.org/7.4.1/release-notes.html\n\n\n------------------------------------------------------------\nGradle 7.4.1\n------------------------------------------------------------\n\nBuild time:   2022-03-09 15:04:47 UTC\nRevision:     36dc52588e09b4b72f2010bc07599e0ee0434e2e\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          18-ea (Oracle Corporation 18-ea+11)\nOS:           Linux 5.4.0-113-generic amd64\n\nRemoving intermediate container b7397109d739\n ---> fdfef6336a94\nStep 7/18 : COPY gradle ./gradle\n ---> 2439112f7364\nStep 8/18 : COPY build.gradle settings.gradle ./\n ---> d65bd8fe1575\nStep 9/18 : COPY src ./src\n ---> a526a63cb6de\nStep 10/18 : RUN ./gradlew assemble\n ---> Running in 36f735ce88c3\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n> Task :compileKotlin\n'compileJava' task (current target is 18) and 'compileKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.\nBy default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation\nConsider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\n\n\n> Task :processResources NO-SOURCE\n\n> Task :compileKotlin\nw: file:///app/src/main/kotlin/com/jakewharton/uispy/main.kt:70:7 Variable 'json' is never used\n\n> Task :compileJava NO-SOURCE\n> Task :classes UP-TO-DATE\n> Task :jar\n> Task :inspectClassesForKotlinIC\n> Task :startScripts\n> Task :distTar SKIPPED\n> Task :distZip\n> Task :installDist\n> Task :assemble\n\nBUILD SUCCESSFUL in 31s\n6 actionable tasks: 6 executed\nRemoving intermediate container 36f735ce88c3\n ---> d6d306ba027e\nStep 11/18 : RUN jdeps       --ignore-missing-deps       --multi-release 18       --print-module-deps       --class-path build/install/ui-spy/lib/*     | tr ',' '\\n'     | grep -v java.instrument     | grep -v jdk.unsupported     | awk '{print $1 \"\\n\" \"jdk.crypto.ec\"}'     | tr '\\n' ','     | sed 's/,$/\\n/'     | tee jdeps.txt   ;\n ---> Running in 9c7041fee741\njava.base,jdk.crypto.ec,java.logging,jdk.crypto.ec\nRemoving intermediate container 9c7041fee741\n ---> 1dd545c77c30\nStep 12/18 : RUN jlink       --verbose       --compress 2       --strip-debug       --no-header-files       --no-man-pages       --output jre       --add-modules $(cat jdeps.txt)    ;\n ---> Running in 82c6a70a0a21\njava.base file:///opt/openjdk-18/jmods/java.base.jmod\njava.logging file:///opt/openjdk-18/jmods/java.logging.jmod\njdk.crypto.ec file:///opt/openjdk-18/jmods/jdk.crypto.ec.jmod\n\nProviders:\n  java.base provides java.nio.file.spi.FileSystemProvider used by java.base\n  jdk.crypto.ec provides java.security.Provider used by java.base\n  java.base provides java.util.random.RandomGenerator used by java.base\n  java.logging provides jdk.internal.logger.DefaultLoggerFinder used by java.base\nRemoving intermediate container 82c6a70a0a21\n ---> 323b754ed62b\nStep 13/18 : FROM alpine:3.17.0\n ---> 49176f190c7e\nStep 14/18 : COPY --from=build /app/jre /jre\n ---> a3df8585e471\nStep 15/18 : ENV JAVA_HOME=\"/jre\"\n ---> Running in 349279838da5\nRemoving intermediate container 349279838da5\n ---> 5042d209be89\nStep 16/18 : COPY --from=build /app/build/install/ui-spy/ /app\n ---> 06ecdee1638b\nStep 17/18 : ENTRYPOINT [\"/app/bin/ui-spy\"]\n ---> Running in dc838b8b6412\nRemoving intermediate container dc838b8b6412\n ---> 52058cb6b778\nStep 18/18 : CMD [\"--data\", \"/data\", \"/config/config.toml\"]\n ---> Running in e0350a600c35\nRemoving intermediate container e0350a600c35\n ---> 4821ee9ea1b2\nSuccessfully built 4821ee9ea1b2\nSuccessfully tagged ui-spy:latest\n","stderr":"","imageSize":46928832}}