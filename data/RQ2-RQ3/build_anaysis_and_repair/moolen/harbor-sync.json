{"repository":"https://github.com/moolen/harbor-sync","dockerfilePath":"Dockerfile","startTime":1673075489308,"endTime":1673075772143,"clone":{"startTime":1673075489309,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/moolen/harbor-sync'...\n","error":null,"endTime":1673075490213,"commit":"9d58d847acfbc2eaec8542dcf75fc47c55b8bcb7"},"originalBuild":{"startTime":1673075490287,"endTime":1673075646831,"error":null,"stdout":"Sending build context to Docker daemon   6.31MB\r\r\nStep 1/14 : FROM golang:1.16 as builder\n1.16: Pulling from library/golang\ne4d61adff207: Already exists\n4ff1945c672b: Already exists\nff5b10aec998: Already exists\n12de8c754e45: Already exists\n8c86ff77a317: Pulling fs layer\n0395a1c478ba: Pulling fs layer\n245345d44ed8: Pulling fs layer\n245345d44ed8: Download complete\n8c86ff77a317: Verifying Checksum\n8c86ff77a317: Download complete\n0395a1c478ba: Verifying Checksum\n0395a1c478ba: Download complete\n8c86ff77a317: Pull complete\n0395a1c478ba: Pull complete\n245345d44ed8: Pull complete\nDigest: sha256:5f6a4662de3efc6d6bb812d02e9de3d8698eea16b8eb7281f03e6f3e8383018e\nStatus: Downloaded newer image for golang:1.16\n ---> 972d8c0bc0fc\nStep 2/14 : WORKDIR /workspace\n ---> Running in 59056efbdfe1\nRemoving intermediate container 59056efbdfe1\n ---> 838454311f22\nStep 3/14 : COPY go.mod go.mod\n ---> 5d9788062b90\nStep 4/14 : COPY go.sum go.sum\n ---> 1742d8f45adb\nStep 5/14 : RUN go mod download\n ---> Running in 5976fa86e6b5\nRemoving intermediate container 5976fa86e6b5\n ---> 8487ad955055\nStep 6/14 : COPY api/ api/\n ---> a369f6edc267\nStep 7/14 : COPY pkg/ pkg/\n ---> f3a4cb9736ab\nStep 8/14 : COPY cmd/ cmd/\n ---> 642c05fecc2e\nStep 9/14 : COPY main.go main.go\n ---> 270e12e0e38c\nStep 10/14 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GO111MODULE=on go build -a -o harbor-sync main.go\n ---> Running in 1e69cd405231\nRemoving intermediate container 1e69cd405231\n ---> eaf5bfcb2664\nStep 11/14 : FROM alpine:3.12\n3.12: Pulling from library/alpine\n1b7ca6aea1dd: Pulling fs layer\n1b7ca6aea1dd: Verifying Checksum\n1b7ca6aea1dd: Download complete\n1b7ca6aea1dd: Pull complete\nDigest: sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69\nStatus: Downloaded newer image for alpine:3.12\n ---> 24c8ece58a1a\nStep 12/14 : WORKDIR /\n ---> Running in e697256c929a\nRemoving intermediate container e697256c929a\n ---> b10b928afd47\nStep 13/14 : RUN apk add --update ca-certificates\n ---> Running in a47da834295e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container a47da834295e\n ---> a7f0bf17b5a9\nStep 14/14 : COPY --from=builder /workspace/harbor-sync .\n ---> 811c1682e113\nSuccessfully built 811c1682e113\nSuccessfully tagged harbor-sync:latest\n","stderr":"","imageSize":54991672},"repair":{"startTime":1673075646912,"endTime":1673075646968,"violations":[{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.16 as builder\n\nWORKDIR /workspace\nCOPY go.mod go.mod\nCOPY go.sum go.sum\nRUN go mod download\n\nCOPY api/ api/\nCOPY pkg/ pkg/\nCOPY cmd/ cmd/\nCOPY main.go main.go\n\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GO111MODULE=on go build -a -o harbor-sync main.go\n\nFROM alpine:3.12\nWORKDIR /\nRUN apk add --no-cache --update ca-certificates\nCOPY --from=builder /workspace/harbor-sync .\n"},"repairedBuild":{"startTime":1673075647133,"endTime":1673075771878,"error":null,"stdout":"Sending build context to Docker daemon   6.31MB\r\r\nStep 1/14 : FROM golang:1.16 as builder\n ---> 972d8c0bc0fc\nStep 2/14 : WORKDIR /workspace\n ---> Running in 43aaa61ee13e\nRemoving intermediate container 43aaa61ee13e\n ---> 3bb8aa2013e2\nStep 3/14 : COPY go.mod go.mod\n ---> f4c24e164564\nStep 4/14 : COPY go.sum go.sum\n ---> 6afab5bd85a9\nStep 5/14 : RUN go mod download\n ---> Running in a96c76081051\nRemoving intermediate container a96c76081051\n ---> baef7bbaf9c5\nStep 6/14 : COPY api/ api/\n ---> 82d04066f21d\nStep 7/14 : COPY pkg/ pkg/\n ---> 6c59ff259eb1\nStep 8/14 : COPY cmd/ cmd/\n ---> 4f1c2478f7b3\nStep 9/14 : COPY main.go main.go\n ---> 93ce41cf8868\nStep 10/14 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GO111MODULE=on go build -a -o harbor-sync main.go\n ---> Running in 15fe5abdcd6e\nRemoving intermediate container 15fe5abdcd6e\n ---> 73f3533955e0\nStep 11/14 : FROM alpine:3.12\n ---> 24c8ece58a1a\nStep 12/14 : WORKDIR /\n ---> Running in 467047c1d3ab\nRemoving intermediate container 467047c1d3ab\n ---> b76db6a9112a\nStep 13/14 : RUN apk add --no-cache --update ca-certificates\n ---> Running in c003dd346119\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container c003dd346119\n ---> dc53e171c593\nStep 14/14 : COPY --from=builder /workspace/harbor-sync .\n ---> ee0c7747c67c\nSuccessfully built ee0c7747c67c\nSuccessfully tagged harbor-sync:latest\n","stderr":"","imageSize":53203911}}