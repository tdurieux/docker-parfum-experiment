{"repository":"https://github.com/mermade/openapi-codegen","dockerfilePath":"Dockerfile","startTime":1672092866943,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mermade/openapi-codegen'...\n","error":null,"commit":"614eff30db296e1630156ed57a2f298ab0d92c3e"},"originalBuild":{"startTimestamp":1672092868131,"endTimestamp":1672092954128,"error":null,"stdout":"Sending build context to Docker daemon  7.879MB\r\r\nStep 1/10 : FROM node:alpine\nalpine: Pulling from library/node\nc158987b0551: Already exists\n27ae9ce8b069: Pulling fs layer\nab5501735aae: Pulling fs layer\n9ce0a5833ea2: Pulling fs layer\n9ce0a5833ea2: Verifying Checksum\nab5501735aae: Verifying Checksum\nab5501735aae: Download complete\n27ae9ce8b069: Verifying Checksum\n27ae9ce8b069: Download complete\n27ae9ce8b069: Pull complete\nab5501735aae: Pull complete\n9ce0a5833ea2: Pull complete\nDigest: sha256:3ed634e0f15d3e05a1918c3949963508f7ed56350cf94156e6d804ae577849fa\nStatus: Downloaded newer image for node:alpine\n ---> f01bef8b5e92\nStep 2/10 : LABEL maintainer=\"mike.ralphson@gmail.com\" description=\"OpenAPI 2.0/3.0 CodeGen\"\n ---> Running in 4a2bf8fd4a41\nRemoving intermediate container 4a2bf8fd4a41\n ---> a98ef2b2ccf4\nStep 3/10 : ENV NODE_ENV=production\n ---> Running in e125888ab413\nRemoving intermediate container e125888ab413\n ---> fc6dec9a9989\nStep 4/10 : WORKDIR /app\n ---> Running in 768d3e0bc525\nRemoving intermediate container 768d3e0bc525\n ---> 20e3f30561b5\nStep 5/10 : COPY package.json .\n ---> 0a6533730fc0\nStep 6/10 : RUN apk update && apk upgrade &&     apk add --no-cache bash git openssh\n ---> Running in a4438bcd111b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-298-g2104b16d70 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-300-g2dc109ce15 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 9 MiB in 17 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/19) Installing ncurses-libs (6.3_p20221119-r0)\n(3/19) Installing readline (8.2.0-r0)\n(4/19) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/19) Installing ca-certificates (20220614-r3)\n(6/19) Installing brotli-libs (1.0.9-r9)\n(7/19) Installing nghttp2-libs (1.51.0-r0)\n(8/19) Installing libcurl (7.87.0-r0)\n(9/19) Installing libexpat (2.5.0-r0)\n(10/19) Installing pcre2 (10.42-r0)\n(11/19) Installing git (2.38.2-r0)\n(12/19) Installing openssh-keygen (9.1_p1-r1)\n(13/19) Installing libedit (20221030.3.1-r0)\n(14/19) Installing openssh-client-common (9.1_p1-r1)\n(15/19) Installing openssh-client-default (9.1_p1-r1)\n(16/19) Installing openssh-sftp-server (9.1_p1-r1)\n(17/19) Installing openssh-server-common (9.1_p1-r1)\n(18/19) Installing openssh-server (9.1_p1-r1)\n(19/19) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 27 MiB in 36 packages\nRemoving intermediate container a4438bcd111b\n ---> 0e69b42bd365\nStep 7/10 : RUN npm config set cache /tmp && npm i && rm -rf /tmp/*\n ---> Running in a487d63cef8a\n\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@7.1.6: Please downgrade to v7.1.5 if you need IE/ActiveXObject support OR upgrade to v8.0.0 as we no longer support IE and published an incorrect patch version (see https://github.com/visionmedia/superagent/issues/1731)\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 271 packages, and audited 272 packages in 29s\n\n22 packages are looking for funding\n  run `npm fund` for details\n\n8 vulnerabilities (2 moderate, 6 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container a487d63cef8a\n ---> 2c2f537c80d0\nStep 8/10 : COPY . .\n ---> c6e3c7b5477b\nStep 9/10 : EXPOSE 3000\n ---> Running in 900bd06f1058\nRemoving intermediate container 900bd06f1058\n ---> a20995e20fda\nStep 10/10 : CMD [ \"node\", \"cg\", \"--help\" ]\n ---> Running in f14f70200618\nRemoving intermediate container f14f70200618\n ---> e8d997b668f4\nSuccessfully built e8d997b668f4\nSuccessfully tagged openapi-codegen:latest\n","stderr":"","imageSize":227265935},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":33,"columnEnd":38}}],"repairedDockerfile":"FROM node:alpine\nLABEL maintainer=\"mike.ralphson@gmail.com\" description=\"OpenAPI 2.0/3.0 CodeGen\"\nENV NODE_ENV=production\nWORKDIR /app\n\n# install deps first (enables layer reuse)\nCOPY package.json .\nRUN apk update && apk upgrade && \\\n    apk add --no-cache bash git openssh\nRUN npm config set cache /tmp && npm i && rm -rf /tmp/*\n\n# now load the app source\nCOPY . .\nEXPOSE 3000\nCMD [ \"node\", \"cg\", \"--help\" ]\n"},"repairedBuild":{"startTimestamp":1672092954733,"endTimestamp":1672093009720,"error":null,"stdout":"Sending build context to Docker daemon  7.879MB\r\r\nStep 1/10 : FROM node:alpine\n ---> f01bef8b5e92\nStep 2/10 : LABEL maintainer=\"mike.ralphson@gmail.com\" description=\"OpenAPI 2.0/3.0 CodeGen\"\n ---> Running in dead481cb2b1\nRemoving intermediate container dead481cb2b1\n ---> 9287b33cb508\nStep 3/10 : ENV NODE_ENV=production\n ---> Running in 804a063ece7b\nRemoving intermediate container 804a063ece7b\n ---> f6420a9d4d0c\nStep 4/10 : WORKDIR /app\n ---> Running in 58658f4605f7\nRemoving intermediate container 58658f4605f7\n ---> c25f427ff941\nStep 5/10 : COPY package.json .\n ---> f5c37b9ada38\nStep 6/10 : RUN apk update && apk upgrade &&     apk add --no-cache bash git openssh\n ---> Running in 96b17db5cabd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-298-g2104b16d70 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-300-g2dc109ce15 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 9 MiB in 17 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/19) Installing ncurses-libs (6.3_p20221119-r0)\n(3/19) Installing readline (8.2.0-r0)\n(4/19) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/19) Installing ca-certificates (20220614-r3)\n(6/19) Installing brotli-libs (1.0.9-r9)\n(7/19) Installing nghttp2-libs (1.51.0-r0)\n(8/19) Installing libcurl (7.87.0-r0)\n(9/19) Installing libexpat (2.5.0-r0)\n(10/19) Installing pcre2 (10.42-r0)\n(11/19) Installing git (2.38.2-r0)\n(12/19) Installing openssh-keygen (9.1_p1-r1)\n(13/19) Installing libedit (20221030.3.1-r0)\n(14/19) Installing openssh-client-common (9.1_p1-r1)\n(15/19) Installing openssh-client-default (9.1_p1-r1)\n(16/19) Installing openssh-sftp-server (9.1_p1-r1)\n(17/19) Installing openssh-server-common (9.1_p1-r1)\n(18/19) Installing openssh-server (9.1_p1-r1)\n(19/19) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 27 MiB in 36 packages\nRemoving intermediate container 96b17db5cabd\n ---> 3c1fe7e0d610\nStep 7/10 : RUN npm config set cache /tmp && npm i && rm -rf /tmp/*\n ---> Running in 46f1052ff966\n\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@7.1.6: Please downgrade to v7.1.5 if you need IE/ActiveXObject support OR upgrade to v8.0.0 as we no longer support IE and published an incorrect patch version (see https://github.com/visionmedia/superagent/issues/1731)\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 271 packages, and audited 272 packages in 19s\n\n22 packages are looking for funding\n  run `npm fund` for details\n\n8 vulnerabilities (2 moderate, 6 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 46f1052ff966\n ---> 721257ae8da0\nStep 8/10 : COPY . .\n ---> e0b0721fd58e\nStep 9/10 : EXPOSE 3000\n ---> Running in 6bcf633437dc\nRemoving intermediate container 6bcf633437dc\n ---> 6ac695c279c8\nStep 10/10 : CMD [ \"node\", \"cg\", \"--help\" ]\n ---> Running in e543a0c6dbcf\nRemoving intermediate container e543a0c6dbcf\n ---> 200075a0d26f\nSuccessfully built 200075a0d26f\nSuccessfully tagged openapi-codegen:latest\n","stderr":"","imageSize":227265934},"endTime":1672093010232}