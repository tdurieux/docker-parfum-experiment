{"repository":"https://github.com/jubos/fake-s3","dockerfilePath":"Dockerfile","startTime":1672549094587,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jubos/fake-s3'...\n","error":null,"commit":"51fd4375f64efaf419174e66b32a72ffff84c027"},"originalBuild":{"startTimestamp":1672549095418,"endTimestamp":1672549248759,"error":null,"stdout":"Sending build context to Docker daemon  288.8kB\r\r\nStep 1/8 : FROM alpine:3.4\n ---> b7c5ffe56db7\nStep 2/8 : RUN apk add --no-cache --update ruby ruby-dev ruby-bundler python py-pip git build-base libxml2-dev libxslt-dev\n ---> Running in b0f2450be0a8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\n(1/52) Installing binutils-libs (2.26-r1)\n(2/52) Installing binutils (2.26-r1)\n(3/52) Installing gmp (6.1.0-r0)\n(4/52) Installing isl (0.14.1-r0)\n(5/52) Installing libgomp (5.3.0-r0)\n(6/52) Installing libatomic (5.3.0-r0)\n(7/52) Installing libgcc (5.3.0-r0)\n(8/52) Installing pkgconf (0.9.12-r0)\n(9/52) Installing pkgconfig (0.25-r1)\n(10/52) Installing mpfr3 (3.1.2-r0)\n(11/52) Installing mpc1 (1.0.3-r0)\n(12/52) Installing libstdc++ (5.3.0-r0)\n(13/52) Installing gcc (5.3.0-r0)\n(14/52) Installing make (4.1-r1)\n(15/52) Installing musl-dev (1.1.14-r16)\n(16/52) Installing libc-dev (0.7-r0)\n(17/52) Installing fortify-headers (0.8-r0)\n(18/52) Installing g++ (5.3.0-r0)\n(19/52) Installing build-base (0.4-r1)\n(20/52) Installing ca-certificates (20161130-r0)\n(21/52) Installing libssh2 (1.7.0-r0)\n(22/52) Installing libcurl (7.60.0-r1)\n(23/52) Installing expat (2.2.0-r1)\n(24/52) Installing pcre (8.38-r1)\n(25/52) Installing git (2.8.6-r0)\n(26/52) Installing zlib-dev (1.2.11-r0)\n(27/52) Installing libxml2 (2.9.5-r0)\n(28/52) Installing libxml2-dev (2.9.5-r0)\n(29/52) Installing libgpg-error (1.23-r0)\n(30/52) Installing libgcrypt (1.7.9-r0)\n(31/52) Installing libxslt (1.1.29-r1)\n(32/52) Installing libxslt-dev (1.1.29-r1)\n(33/52) Installing libbz2 (1.0.6-r5)\n(34/52) Installing libffi (3.2.1-r2)\n(35/52) Installing gdbm (1.11-r1)\n(36/52) Installing ncurses-terminfo-base (6.0_p20171125-r0)\n(37/52) Installing ncurses-terminfo (6.0_p20171125-r0)\n(38/52) Installing ncurses-libs (6.0_p20171125-r0)\n(39/52) Installing readline (6.3.008-r4)\n(40/52) Installing sqlite-libs (3.13.0-r2)\n(41/52) Installing python (2.7.14-r0)\n(42/52) Installing py-setuptools (20.8.0-r0)\n(43/52) Installing py-pip (8.1.2-r0)\n(44/52) Installing libedit (20150325.3.1-r3)\n(45/52) Installing yaml (0.1.6-r1)\n(46/52) Installing ruby-libs (2.3.7-r0)\n(47/52) Installing ruby (2.3.7-r0)\n(48/52) Installing ruby-io-console (2.3.7-r0)\n(49/52) Installing ruby-bundler (1.12.5-r0)\n(50/52) Installing libgmpxx (6.1.0-r0)\n(51/52) Installing gmp-dev (6.1.0-r0)\n(52/52) Installing ruby-dev (2.3.7-r0)\nExecuting busybox-1.24.2-r14.trigger\nExecuting ca-certificates-20161130-r0.trigger\nOK: 256 MiB in 63 packages\nRemoving intermediate container b0f2450be0a8\n ---> cdfd4db4fe7f\nStep 3/8 : RUN pip install boto s3cmd\n ---> Running in e4ce81a262e5\nCollecting boto\n  Downloading https://files.pythonhosted.org/packages/23/10/c0b78c27298029e4454a472a1919bde20cb182dab1662cec7f2ca1dcc523/boto-2.49.0-py2.py3-none-any.whl (1.4MB)\nCollecting s3cmd\n  Downloading https://files.pythonhosted.org/packages/6a/ba/828b5b88aeca434938b8d7a6aece672fa738f6909f19b9611aae54ff08eb/s3cmd-2.3.0-py2.py3-none-any.whl (156kB)\nCollecting python-magic (from s3cmd)\n  Downloading https://files.pythonhosted.org/packages/6c/73/9f872cb81fc5c3bb48f7227872c28975f998f3e7c2b1c16e95e6432bbb90/python_magic-0.4.27-py2.py3-none-any.whl\nCollecting python-dateutil (from s3cmd)\n  Downloading https://files.pythonhosted.org/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl (247kB)\nCollecting six>=1.5 (from python-dateutil->s3cmd)\n  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl\nInstalling collected packages: boto, python-magic, six, python-dateutil, s3cmd\nSuccessfully installed boto-2.49.0 python-dateutil-2.8.2 python-magic-0.4.27 s3cmd-2.3.0 six-1.16.0\n\u001b[91mYou are using pip version 8.1.2, however version 22.3.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e4ce81a262e5\n ---> fc3f8d47d110\nStep 4/8 : COPY fakes3.gemspec Gemfile Gemfile.lock /app/\n ---> 353dad0523a6\nStep 5/8 : COPY lib/fakes3/version.rb /app/lib/fakes3/\n ---> 8cc6265712f4\nStep 6/8 : WORKDIR /app\n ---> Running in 71059373411f\nRemoving intermediate container 71059373411f\n ---> a394e33c6be3\nStep 7/8 : RUN bundle install\n ---> Running in f514d283905a\nDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[91mfatal: Not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: Not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: Not a git repository (or any of the parent directories): .git\n\u001b[0mWarning: the running version of Bundler is older than the version that created the lockfile. We suggest you upgrade to the latest version of Bundler by running `gem install bundler`.\nFetching gem metadata from https://rubygems.org/\nFetching version metadata from https://rubygems.org/\nFetching dependency metadata from https://rubygems.org/\nResolving dependencies...\nInstalling rake 12.2.1\nInstalling builder 3.2.3\nInstalling mime-types-data 3.2016.0521\nInstalling xml-simple 1.1.5\nInstalling aws-sigv4 1.0.2\nInstalling jmespath 1.3.1\nInstalling json 1.8.6 with native extensions\nInstalling mini_portile2 2.4.0\nUsing bundler 1.12.5\nInstalling unf_ext 0.0.7.4 with native extensions\nInstalling thor 0.20.0\nInstalling metaclass 0.0.4\nInstalling netrc 0.11.0\nInstalling power_assert 1.1.1\nInstalling right_http_connection 1.5.0\nInstalling mime-types 3.1\nInstalling aws-sdk-core 2.10.73\nInstalling nokogiri 1.10.5 with native extensions\nInstalling unf 0.1.4\nUsing fakes3 2.0.0 from source at `.`\nInstalling mocha 1.3.0\nInstalling test-unit 3.2.6\nInstalling right_aws 3.1.0\nInstalling aws-s3 0.6.3\nInstalling aws-sdk-resources 2.10.73\nInstalling aws-sdk-v1 1.67.0\nInstalling domain_name 0.5.20170404\nInstalling aws-sdk 2.10.73\nInstalling http-cookie 1.0.3\nInstalling rest-client 2.0.2\nBundle complete! 10 Gemfile dependencies, 30 gems now installed.\nUse `bundle show [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container f514d283905a\n ---> 5d14612386ab\nStep 8/8 : COPY . /app/\n ---> 77277947718e\nSuccessfully built 77277947718e\nSuccessfully tagged fake-s3:latest\n","stderr":"","imageSize":327059201},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":3,"end":3,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM alpine:3.4\n\nRUN apk add --no-cache --update ruby ruby-dev ruby-bundler python py-pip git build-base libxml2-dev libxslt-dev\nRUN pip install --no-cache-dir boto s3cmd\n\nCOPY fakes3.gemspec Gemfile Gemfile.lock /app/\nCOPY lib/fakes3/version.rb /app/lib/fakes3/\n\nWORKDIR /app\n\nRUN bundle install\n\nCOPY . /app/\n"},"repairedBuild":{"startTimestamp":1672549250974,"endTimestamp":1672549361409,"error":null,"stdout":"Sending build context to Docker daemon  288.8kB\r\r\nStep 1/8 : FROM alpine:3.4\n ---> b7c5ffe56db7\nStep 2/8 : RUN apk add --no-cache --update ruby ruby-dev ruby-bundler python py-pip git build-base libxml2-dev libxslt-dev\n ---> Running in 28f47f54d9b8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\n(1/52) Installing binutils-libs (2.26-r1)\n(2/52) Installing binutils (2.26-r1)\n(3/52) Installing gmp (6.1.0-r0)\n(4/52) Installing isl (0.14.1-r0)\n(5/52) Installing libgomp (5.3.0-r0)\n(6/52) Installing libatomic (5.3.0-r0)\n(7/52) Installing libgcc (5.3.0-r0)\n(8/52) Installing pkgconf (0.9.12-r0)\n(9/52) Installing pkgconfig (0.25-r1)\n(10/52) Installing mpfr3 (3.1.2-r0)\n(11/52) Installing mpc1 (1.0.3-r0)\n(12/52) Installing libstdc++ (5.3.0-r0)\n(13/52) Installing gcc (5.3.0-r0)\n(14/52) Installing make (4.1-r1)\n(15/52) Installing musl-dev (1.1.14-r16)\n(16/52) Installing libc-dev (0.7-r0)\n(17/52) Installing fortify-headers (0.8-r0)\n(18/52) Installing g++ (5.3.0-r0)\n(19/52) Installing build-base (0.4-r1)\n(20/52) Installing ca-certificates (20161130-r0)\n(21/52) Installing libssh2 (1.7.0-r0)\n(22/52) Installing libcurl (7.60.0-r1)\n(23/52) Installing expat (2.2.0-r1)\n(24/52) Installing pcre (8.38-r1)\n(25/52) Installing git (2.8.6-r0)\n(26/52) Installing zlib-dev (1.2.11-r0)\n(27/52) Installing libxml2 (2.9.5-r0)\n(28/52) Installing libxml2-dev (2.9.5-r0)\n(29/52) Installing libgpg-error (1.23-r0)\n(30/52) Installing libgcrypt (1.7.9-r0)\n(31/52) Installing libxslt (1.1.29-r1)\n(32/52) Installing libxslt-dev (1.1.29-r1)\n(33/52) Installing libbz2 (1.0.6-r5)\n(34/52) Installing libffi (3.2.1-r2)\n(35/52) Installing gdbm (1.11-r1)\n(36/52) Installing ncurses-terminfo-base (6.0_p20171125-r0)\n(37/52) Installing ncurses-terminfo (6.0_p20171125-r0)\n(38/52) Installing ncurses-libs (6.0_p20171125-r0)\n(39/52) Installing readline (6.3.008-r4)\n(40/52) Installing sqlite-libs (3.13.0-r2)\n(41/52) Installing python (2.7.14-r0)\n(42/52) Installing py-setuptools (20.8.0-r0)\n(43/52) Installing py-pip (8.1.2-r0)\n(44/52) Installing libedit (20150325.3.1-r3)\n(45/52) Installing yaml (0.1.6-r1)\n(46/52) Installing ruby-libs (2.3.7-r0)\n(47/52) Installing ruby (2.3.7-r0)\n(48/52) Installing ruby-io-console (2.3.7-r0)\n(49/52) Installing ruby-bundler (1.12.5-r0)\n(50/52) Installing libgmpxx (6.1.0-r0)\n(51/52) Installing gmp-dev (6.1.0-r0)\n(52/52) Installing ruby-dev (2.3.7-r0)\nExecuting busybox-1.24.2-r14.trigger\nExecuting ca-certificates-20161130-r0.trigger\nOK: 256 MiB in 63 packages\nRemoving intermediate container 28f47f54d9b8\n ---> 5ac58abc045b\nStep 3/8 : RUN pip install --no-cache-dir boto s3cmd\n ---> Running in cee56cdf3ff6\nCollecting boto\n  Downloading https://files.pythonhosted.org/packages/23/10/c0b78c27298029e4454a472a1919bde20cb182dab1662cec7f2ca1dcc523/boto-2.49.0-py2.py3-none-any.whl (1.4MB)\nCollecting s3cmd\n  Downloading https://files.pythonhosted.org/packages/6a/ba/828b5b88aeca434938b8d7a6aece672fa738f6909f19b9611aae54ff08eb/s3cmd-2.3.0-py2.py3-none-any.whl (156kB)\nCollecting python-magic (from s3cmd)\n  Downloading https://files.pythonhosted.org/packages/6c/73/9f872cb81fc5c3bb48f7227872c28975f998f3e7c2b1c16e95e6432bbb90/python_magic-0.4.27-py2.py3-none-any.whl\nCollecting python-dateutil (from s3cmd)\n  Downloading https://files.pythonhosted.org/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl (247kB)\nCollecting six>=1.5 (from python-dateutil->s3cmd)\n  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl\nInstalling collected packages: boto, python-magic, six, python-dateutil, s3cmd\nSuccessfully installed boto-2.49.0 python-dateutil-2.8.2 python-magic-0.4.27 s3cmd-2.3.0 six-1.16.0\n\u001b[91mYou are using pip version 8.1.2, however version 22.3.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container cee56cdf3ff6\n ---> c67d64eb6244\nStep 4/8 : COPY fakes3.gemspec Gemfile Gemfile.lock /app/\n ---> ed23f8b9158e\nStep 5/8 : COPY lib/fakes3/version.rb /app/lib/fakes3/\n ---> 342a922b195b\nStep 6/8 : WORKDIR /app\n ---> Running in 0c839874776a\nRemoving intermediate container 0c839874776a\n ---> 567b1eef6489\nStep 7/8 : RUN bundle install\n ---> Running in 18947d36a268\nDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[91mfatal: Not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: Not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: Not a git repository (or any of the parent directories): .git\n\u001b[0mWarning: the running version of Bundler is older than the version that created the lockfile. We suggest you upgrade to the latest version of Bundler by running `gem install bundler`.\nFetching gem metadata from https://rubygems.org/\nFetching version metadata from https://rubygems.org/\nFetching dependency metadata from https://rubygems.org/\nResolving dependencies...\nInstalling rake 12.2.1\nInstalling builder 3.2.3\nInstalling mime-types-data 3.2016.0521\nInstalling xml-simple 1.1.5\nInstalling aws-sigv4 1.0.2\nInstalling jmespath 1.3.1\nInstalling json 1.8.6 with native extensions\nInstalling mini_portile2 2.4.0\nUsing bundler 1.12.5\nInstalling unf_ext 0.0.7.4 with native extensions\nInstalling thor 0.20.0\nInstalling metaclass 0.0.4\nInstalling netrc 0.11.0\nInstalling power_assert 1.1.1\nInstalling right_http_connection 1.5.0\nInstalling mime-types 3.1\nInstalling aws-sdk-core 2.10.73\nInstalling nokogiri 1.10.5 with native extensions\nInstalling unf 0.1.4\nUsing fakes3 2.0.0 from source at `.`\nInstalling mocha 1.3.0\nInstalling test-unit 3.2.6\nInstalling right_aws 3.1.0\nInstalling aws-s3 0.6.3\nInstalling aws-sdk-resources 2.10.73\nInstalling aws-sdk-v1 1.67.0\nInstalling domain_name 0.5.20170404\nInstalling aws-sdk 2.10.73\nInstalling http-cookie 1.0.3\nInstalling rest-client 2.0.2\nBundle complete! 10 Gemfile dependencies, 30 gems now installed.\nUse `bundle show [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 18947d36a268\n ---> 9f4b1fd9d938\nStep 8/8 : COPY . /app/\n ---> de819969f5ef\nSuccessfully built de819969f5ef\nSuccessfully tagged fake-s3:latest\n","stderr":"","imageSize":325201795},"endTime":1672549362480}