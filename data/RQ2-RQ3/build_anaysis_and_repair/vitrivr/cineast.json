{"repository":"https://github.com/vitrivr/cineast","dockerfilePath":"Dockerfile","startTime":1672762833464,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/vitrivr/cineast'...\n","error":null,"commit":"974d2333279a2a1a344e85fc39eb5a1f71432cf8"},"originalBuild":{"startTimestamp":1672762834803,"endTimestamp":1672763334990,"error":null,"stdout":"Sending build context to Docker daemon  4.505MB\r\r\nStep 1/14 : FROM gradle:jdk17 AS build\njdk17: Pulling from library/gradle\n6e3729cf69e0: Already exists\n4d8d923227d8: Pulling fs layer\neda8241fd25f: Pulling fs layer\n35dccabde73d: Pulling fs layer\nfae5e28aa881: Pulling fs layer\ne32521efc3a1: Pulling fs layer\nbccd99874f9d: Pulling fs layer\nfae5e28aa881: Waiting\nbccd99874f9d: Waiting\ne32521efc3a1: Waiting\n35dccabde73d: Download complete\n4d8d923227d8: Verifying Checksum\n4d8d923227d8: Download complete\nfae5e28aa881: Download complete\n4d8d923227d8: Pull complete\ne32521efc3a1: Verifying Checksum\ne32521efc3a1: Download complete\nbccd99874f9d: Download complete\neda8241fd25f: Verifying Checksum\neda8241fd25f: Download complete\neda8241fd25f: Pull complete\n35dccabde73d: Pull complete\nfae5e28aa881: Pull complete\ne32521efc3a1: Pull complete\nbccd99874f9d: Pull complete\nDigest: sha256:9073fad2045e28b86d2d1669bc219739a84771635f033aed0fa293835dd5fad0\nStatus: Downloaded newer image for gradle:jdk17\n ---> 27fe33822dac\nStep 2/14 : COPY . /cineast-src\n ---> 5f089d2a7b8d\nStep 3/14 : RUN cd /cineast-src &&   gradle getExternalFiles &&   gradle shadowJar\n ---> Running in afee8d5ef215\n\nWelcome to Gradle 7.6!\n\nHere are the highlights of this release:\n - Added support for Java 19.\n - Introduced `--rerun` flag for individual task rerun.\n - Improved dependency block for test suites to be strongly typed.\n - Added a pluggable system for Java toolchains provisioning.\n\nFor more details see https://docs.gradle.org/7.6/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n> Task :getExternalFiles\nDownload https://data.vitrivr.org/DeepLab/ade20k.pb\nDownload https://data.vitrivr.org/DeepLab/cityscapes.pb\nDownload https://data.vitrivr.org/DeepLab/pascalvoc.pb\nDownload https://data.vitrivr.org/TextSpotter/CRNN_VGG_BiLSTM_CTC.onnx\nDownload https://data.vitrivr.org/TextSpotter/crnn.onnx\nDownload https://data.vitrivr.org/TextSpotter/frozen_east_text_detection.pb\nDownload https://data.vitrivr.org/codebooks/mirflickr25k-256.hogcb\nDownload https://data.vitrivr.org/codebooks/mirflickr25k-256.surfcb\nDownload https://data.vitrivr.org/codebooks/mirflickr25k-512.hogcb\nDownload https://data.vitrivr.org/codebooks/mirflickr25k-512.surfcb\nDownload https://data.vitrivr.org/codebooks/mirflickr25k-2000.surfcb\nDownload https://data.vitrivr.org/VisualTextCoEmbedding/text-co-embedding.tar.gz\nDownload https://data.vitrivr.org/VisualTextCoEmbedding/visual-co-embedding.tar.gz\nDownload https://tfhub.dev/google/universal-sentence-encoder/4?tf-hub-format=compressed\nDownload https://data.vitrivr.org/VisualTextCoEmbedding/inception_resnet_v2_weights_tf_dim_ordering_tf_kernels_notop.tar.gz\nDownload https://data.vitrivr.org/clip/clip.tar.gz\nDownload https://tfhub.dev/google/movenet/multipose/lightning/1?tf-hub-format=compressed\nDownload https://data.vitrivr.org/pose/pose.pb\n\nBUILD SUCCESSFUL in 1m\n1 actionable task: 1 executed\n> Task :cineast-api:processResources NO-SOURCE\n> Task :compileJava NO-SOURCE\n> Task :processResources NO-SOURCE\n> Task :classes UP-TO-DATE\n> Task :cineast-runtime:processResources\n> Task :shadowJar\n> Task :cineast-core:compileJava\n> Task :cineast-core:processResources NO-SOURCE\n> Task :cineast-core:classes\n> Task :cineast-core:jar\n> Task :cineast-runtime:compileJava\n> Task :cineast-runtime:classes\n> Task :cineast-runtime:jar\n> Task :cineast-api:compileJava\n> Task :cineast-api:classes\n> Task :cineast-core:shadowJar\n> Task :cineast-runtime:shadowJar\n> Task :cineast-api:shadowJar\n\nBUILD SUCCESSFUL in 3m 17s\n10 actionable tasks: 10 executed\nRemoving intermediate container afee8d5ef215\n ---> 3bcbb5af56c5\nStep 4/14 : FROM eclipse-temurin:17-jre\n17-jre: Pulling from library/eclipse-temurin\n6e3729cf69e0: Already exists\n4d8d923227d8: Already exists\n5834fb29a8c0: Pulling fs layer\n2dc10fb88481: Pulling fs layer\n2dc10fb88481: Verifying Checksum\n2dc10fb88481: Download complete\n5834fb29a8c0: Download complete\n5834fb29a8c0: Pull complete\n2dc10fb88481: Pull complete\nDigest: sha256:19d077d343984437dc80c354bd0e53d2d65ca86e00694bddc444a87b64be3386\nStatus: Downloaded newer image for eclipse-temurin:17-jre\n ---> 5e2265f6166a\nStep 5/14 : RUN mkdir -p /opt/cineast\n ---> Running in e4c7b84a1853\nRemoving intermediate container e4c7b84a1853\n ---> 626d7567bc02\nStep 6/14 : COPY --from=build   /cineast-src/cineast.json   /opt/cineast/cineast.json\n ---> 2bde036a95c5\nStep 7/14 : COPY --from=build   /cineast-src/cineast-runtime/build/libs/cineast-runtime-*-all.jar   /opt/cineast/cineast-cli.jar\n ---> 0ccd48e08af8\nStep 8/14 : COPY --from=build   /cineast-src/cineast-api/build/libs/cineast-api-*-all.jar   /opt/cineast/cineast-api.jar\n ---> 199eadaa1a70\nStep 9/14 : COPY --from=build   /cineast-src/resources   /opt/cineast/resources\n ---> edecf87be17a\nStep 10/14 : RUN printf '#!/bin/bash\\nif [ \"$1\" != \"api\" ] && [ \"$1\" != \"cli\" ]; then\\n    echo \"Usage: $0 api|cli\" >&2\\n    exit 1\\nfi\\ncd /opt/cineast/ && java -jar cineast-$1.jar ${@:2}'> /opt/cineast/bootstrap.sh\n ---> Running in 84e14d6466be\nRemoving intermediate container 84e14d6466be\n ---> b2cb436381ed\nStep 11/14 : RUN chmod +x /opt/cineast/bootstrap.sh\n ---> Running in e5e9140c4dca\nRemoving intermediate container e5e9140c4dca\n ---> 710b15593b28\nStep 12/14 : EXPOSE 4567\n ---> Running in a5e1d7933bff\nRemoving intermediate container a5e1d7933bff\n ---> 6a2a2f2da0e4\nStep 13/14 : EXPOSE 4568\n ---> Running in 766718f56a69\nRemoving intermediate container 766718f56a69\n ---> 78b7daba34f4\nStep 14/14 : ENTRYPOINT [\"/opt/cineast/bootstrap.sh\"]\n ---> Running in 5e923dfd53ff\nRemoving intermediate container 5e923dfd53ff\n ---> 082f6742c28b\nSuccessfully built 082f6742c28b\nSuccessfully tagged cineast:latest\n","stderr":"","imageSize":4879992279},"repair":{"violations":[],"repairedDockerfile":"FROM gradle:jdk17 AS build\n\nCOPY . /cineast-src\nRUN cd /cineast-src && \\\n  gradle getExternalFiles && \\\n  gradle shadowJar\n\nFROM eclipse-temurin:17-jre\n\nRUN mkdir -p /opt/cineast\n\nCOPY --from=build \\\n  /cineast-src/cineast.json \\\n  /opt/cineast/cineast.json\n\nCOPY --from=build \\\n  /cineast-src/cineast-runtime/build/libs/cineast-runtime-*-all.jar \\\n  /opt/cineast/cineast-cli.jar\n\nCOPY --from=build \\\n  /cineast-src/cineast-api/build/libs/cineast-api-*-all.jar \\\n  /opt/cineast/cineast-api.jar\n\nCOPY --from=build \\\n  /cineast-src/resources \\\n  /opt/cineast/resources\n\nRUN printf '#!/bin/bash\\n\\\nif [ \"$1\" != \"api\" ] && [ \"$1\" != \"cli\" ]; then\\n\\\n    echo \"Usage: $0 api|cli\" >&2\\n\\\n    exit 1\\n\\\nfi\\n\\\ncd /opt/cineast/ && java -jar cineast-$1.jar ${@:2}'\\\n> /opt/cineast/bootstrap.sh\nRUN chmod +x /opt/cineast/bootstrap.sh\n\nEXPOSE 4567\nEXPOSE 4568\n\nENTRYPOINT [\"/opt/cineast/bootstrap.sh\"]\n"},"endTime":1672763335901}