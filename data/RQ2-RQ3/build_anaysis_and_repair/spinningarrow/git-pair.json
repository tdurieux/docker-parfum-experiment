{"repository":"https://github.com/spinningarrow/git-pair","dockerfilePath":"Dockerfile","startTime":1672646076617,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/spinningarrow/git-pair'...\n","error":null,"commit":"542172f4cab856ca50067af4a0d2409584b5825f"},"originalBuild":{"startTimestamp":1672646077389,"endTimestamp":1672646104815,"error":null,"stdout":"Sending build context to Docker daemon  109.6kB\r\r\nStep 1/11 : FROM alpine:latest\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 2/11 : RUN apk update\n ---> Running in 2e332d14ede8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-313-gaf42d45cd5 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-312-gf3974f8f5f [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nRemoving intermediate container 2e332d14ede8\n ---> 455daad55607\nStep 3/11 : RUN apk add bash\n ---> Running in bc795de21804\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 9 MiB in 19 packages\nRemoving intermediate container bc795de21804\n ---> 460269bbb9da\nStep 4/11 : RUN apk add coreutils\n ---> Running in 5319764d7932\n(1/5) Installing libacl (2.3.1-r1)\n(2/5) Installing libattr (2.5.1-r2)\n(3/5) Installing skalibs (2.12.0.1-r0)\n(4/5) Installing utmps-libs (0.1.2.0-r1)\n(5/5) Installing coreutils (9.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 11 MiB in 24 packages\nRemoving intermediate container 5319764d7932\n ---> 4a27d28c53b8\nStep 5/11 : RUN apk add git\n ---> Running in 9d9709f21bea\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 20 MiB in 31 packages\nRemoving intermediate container 9d9709f21bea\n ---> efe7fbe37440\nStep 6/11 : RUN apk add util-linux # for column\n ---> Running in a56155da99d2\n(1/29) Installing util-linux (2.38.1-r0)\n(2/29) Installing libblkid (2.38.1-r0)\n(3/29) Installing libuuid (2.38.1-r0)\n(4/29) Installing libfdisk (2.38.1-r0)\n(5/29) Installing libmount (2.38.1-r0)\n(6/29) Installing libsmartcols (2.38.1-r0)\n(7/29) Installing util-linux-misc (2.38.1-r0)\n(8/29) Installing libeconf (0.4.7-r0)\n(9/29) Installing linux-pam (1.5.2-r1)\n(10/29) Installing runuser (2.38.1-r0)\n(11/29) Installing mount (2.38.1-r0)\n(12/29) Installing losetup (2.38.1-r0)\n(13/29) Installing hexdump (2.38.1-r0)\n(14/29) Installing uuidgen (2.38.1-r0)\n(15/29) Installing blkid (2.38.1-r0)\n(16/29) Installing sfdisk (2.38.1-r0)\n(17/29) Installing mcookie (2.38.1-r0)\n(18/29) Installing agetty (2.38.1-r0)\n(19/29) Installing wipefs (2.38.1-r0)\n(20/29) Installing cfdisk (2.38.1-r0)\n(21/29) Installing umount (2.38.1-r0)\n(22/29) Installing flock (2.38.1-r0)\n(23/29) Installing lsblk (2.38.1-r0)\n(24/29) Installing libcap-ng (0.8.3-r1)\n(25/29) Installing setpriv (2.38.1-r0)\n(26/29) Installing logger (2.38.1-r0)\n(27/29) Installing partx (2.38.1-r0)\n(28/29) Installing fstrim (2.38.1-r0)\n(29/29) Installing findmnt (2.38.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 27 MiB in 60 packages\nRemoving intermediate container a56155da99d2\n ---> a3c13173ece7\nStep 7/11 : RUN apk add bats\n ---> Running in d539a2cf3df8\n(1/1) Installing bats (1.8.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 28 MiB in 61 packages\nRemoving intermediate container d539a2cf3df8\n ---> c1ae877b1395\nStep 8/11 : RUN apk add expect\n ---> Running in af4b12262970\n(1/3) Installing tzdata (2022f-r1)\n(2/3) Installing tcl (8.6.12-r1)\n(3/3) Installing expect (5.45.4-r3)\nExecuting busybox-1.35.0-r29.trigger\nOK: 36 MiB in 64 packages\nRemoving intermediate container af4b12262970\n ---> 1377e9b12d3b\nStep 9/11 : RUN apk add ncurses # for tput\n ---> Running in f87b8920f7ab\n(1/1) Installing ncurses (6.3_p20221119-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 36 MiB in 65 packages\nRemoving intermediate container f87b8920f7ab\n ---> 6699530bac85\nStep 10/11 : COPY git-pair /usr/local/bin/\n ---> 3195ab52a6b4\nStep 11/11 : ENTRYPOINT [\"/tests/test.bats\"]\n ---> Running in dad3563c1bef\nRemoving intermediate container dad3563c1bef\n ---> 6088f10780bc\nSuccessfully built 6088f10780bc\nSuccessfully tagged git-pair:latest\n","stderr":"","imageSize":36199290},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":16}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":21}},{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":22}},{"name":"apkAddUseNoCache","position":{"start":11,"end":11,"columnStart":4,"columnEnd":16}},{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":18}},{"name":"apkAddUseNoCache","position":{"start":13,"end":13,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"FROM alpine:latest\n\nRUN apk update\nRUN apk add --no-cache bash\n\n# Runtime dependencies\nRUN apk add --no-cache coreutils\nRUN apk add --no-cache git\nRUN apk add --no-cache util-linux# for column\n\n# Test dependencies\nRUN apk add --no-cache bats\nRUN apk add --no-cache expect\nRUN apk add --no-cache ncurses# for tput\n\nCOPY git-pair /usr/local/bin/\n\nENTRYPOINT [\"/tests/test.bats\"]\n"},"repairedBuild":{"startTimestamp":1672646105174,"endTimestamp":1672646122947,"error":{"code":3,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t git-pair:latest -f /tmp/dinghy-analysis/spinningarrow/git-pair/Dockerfile ."},"stdout":"Sending build context to Docker daemon  109.6kB\r\r\nStep 1/11 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/11 : RUN apk update\n ---> Running in 5ac0adddc595\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-313-gaf42d45cd5 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-312-gf3974f8f5f [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nRemoving intermediate container 5ac0adddc595\n ---> df1b051b2e7e\nStep 3/11 : RUN apk add --no-cache bash\n ---> Running in b62d04a73912\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 9 MiB in 19 packages\nRemoving intermediate container b62d04a73912\n ---> 067114046610\nStep 4/11 : RUN apk add --no-cache coreutils\n ---> Running in 79cba0c1e21b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing libacl (2.3.1-r1)\n(2/5) Installing libattr (2.5.1-r2)\n(3/5) Installing skalibs (2.12.0.1-r0)\n(4/5) Installing utmps-libs (0.1.2.0-r1)\n(5/5) Installing coreutils (9.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 11 MiB in 24 packages\nRemoving intermediate container 79cba0c1e21b\n ---> 4e4a78598020\nStep 5/11 : RUN apk add --no-cache git\n ---> Running in 7a433365111e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 20 MiB in 31 packages\nRemoving intermediate container 7a433365111e\n ---> 5d70dc6e2252\nStep 6/11 : RUN apk add --no-cache util-linux# for column\n ---> Running in 8540c2088c67\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n\u001b[91mERROR: unable to select packages:\n\u001b[0m  column (no such package):\n    required by: world[column]\n  for (no such package):\n    required by: world[for]\n  util-linux# (no such package):\n    required by: world[util-linux#]\nRemoving intermediate container 8540c2088c67\n","stderr":"The command '/bin/sh -c apk add --no-cache util-linux# for column' returned a non-zero code: 3\n"},"endTime":1672646123016}