{"repository":"https://github.com/eregs/regulations-core","dockerfilePath":"Dockerfile","startTime":1672379505084,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/eregs/regulations-core'...\n","error":null,"commit":"0b2a2034baacfa1cc5ff87f14db7d1aaa8d260c3"},"originalBuild":{"startTimestamp":1672379505935,"endTimestamp":1672379538016,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t regulations-core:latest -f /tmp/dinghy-analysis/eregs/regulations-core/Dockerfile ."},"stdout":"Sending build context to Docker daemon  461.8kB\r\r\nStep 1/8 : FROM python:3-alpine\n3-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n877ccf16716c: Verifying Checksum\n877ccf16716c: Download complete\n3cfcd1e4ebae: Verifying Checksum\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3-alpine\n ---> 18ccdc39ea28\nStep 2/8 : COPY [\".\", \"/app/src/\"]\n ---> 780da38a58e6\nStep 3/8 : WORKDIR /app/src/\n ---> Running in c65f3912d9d9\nRemoving intermediate container c65f3912d9d9\n ---> dffa5ae06d65\nStep 4/8 : RUN apk --update add ca-certificates     && update-ca-certificates     && rm -rf /var/cache/apk/*\n ---> Running in f82b3398ed12\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nOK: 16 MiB in 37 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container f82b3398ed12\n ---> 9dccdbce4f10\nStep 5/8 : RUN pip install --no-cache-dir --upgrade pip     && pip install --no-cache-dir -e .[backend-haystack]     && python manage.py migrate\n ---> Running in cc8edc2a4dba\nRequirement already satisfied: pip in /usr/local/lib/python3.11/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mObtaining file:///app/src\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting cached_property\n  Downloading cached_property-1.5.2-py2.py3-none-any.whl (7.6 kB)\nCollecting django<1.12,>=1.10\n  Downloading Django-1.11.29-py2.py3-none-any.whl (6.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.9/6.9 MB 40.1 MB/s eta 0:00:00\nCollecting django-mptt~=0.8.6\n  Downloading django_mptt-0.8.7-py2.py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.4/96.4 kB 243.0 MB/s eta 0:00:00\nCollecting jsonschema\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.4/90.4 kB 84.5 MB/s eta 0:00:00\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting webargs\n  Downloading webargs-8.2.0-py3-none-any.whl (30 kB)\nCollecting django-haystack\n  Downloading django-haystack-3.2.1.tar.gz (466 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 466.6/466.6 kB 95.8 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 69.4 MB/s eta 0:00:00\nCollecting django-haystack\n  Downloading django-haystack-3.2.0.tar.gz (466 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 466.5/466.5 kB 42.0 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\n  Downloading django_haystack-3.1.1-py3-none-any.whl (141 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 141.5/141.5 kB 329.9 MB/s eta 0:00:00\n  Downloading django_haystack-3.1.0-py3-none-any.whl (141 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 141.5/141.5 kB 157.9 MB/s eta 0:00:00\n  Downloading django-haystack-3.0.tar.gz (450 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 450.7/450.7 kB 125.9 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\n  Downloading django-haystack-2.8.1.tar.gz (1.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 103.4 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 78.3 MB/s eta 0:00:00\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.5/57.5 kB 253.1 MB/s eta 0:00:00\nCollecting marshmallow>=3.0.0\n  Downloading marshmallow-3.19.0-py3-none-any.whl (49 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.1/49.1 kB 280.2 MB/s eta 0:00:00\nCollecting packaging\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 265.6 MB/s eta 0:00:00\nBuilding wheels for collected packages: django-haystack\n  Building wheel for django-haystack (setup.py): started\n  Building wheel for django-haystack (setup.py): finished with status 'done'\n  Created wheel for django-haystack: filename=django_haystack-2.8.1-py3-none-any.whl size=131004 sha256=8d92f236a7498a9cb0305781ae610268f5e8cca253482b20df61e4781feddc08\n  Stored in directory: /tmp/pip-ephem-wheel-cache-cjbobuti/wheels/56/f5/ef/298d4afc5e5fa6e52a18bb2600386149a75fcd37684462db93\nSuccessfully built django-haystack\nInstalling collected packages: pytz, django-mptt, cached_property, six, pyrsistent, packaging, django, attrs, marshmallow, jsonschema, django-haystack, webargs, regcore\n  Running setup.py develop for regcore\nSuccessfully installed attrs-22.2.0 cached_property-1.5.2 django-1.11.29 django-haystack-2.8.1 django-mptt-0.8.7 jsonschema-4.17.3 marshmallow-3.19.0 packaging-22.0 pyrsistent-0.19.3 pytz-2022.7 regcore-4.2.0 six-1.16.0 webargs-8.2.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mTraceback (most recent call last):\n  File \"/app/src/manage.py\", line 8, in <module>\n    from django.core.management import execute_from_command_line\n\u001b[0m\u001b[91m  File \"/usr/local/lib/python3.11/site-packages/django/core/management/__init__.py\", line 13, in <module>\n    from django.core.management.base import (\n  File \"/usr/local/lib/python3.11/site-packages/django/core/management/base.py\", line 17, in <module>\n\u001b[0m\u001b[91m    from django.db.migrations.exceptions import MigrationSchemaMissing\n  File \"/usr/local/lib/python3.11/site-packages/django/db/migrations/__init__.py\", line 2, in <module>\n\u001b[0m\u001b[91m    from .operations import *  # NOQA\n    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/django/db/migrations/operations/__init__.py\", line 1, in <module>\n\u001b[0m\u001b[91m    from .fields import AddField, AlterField, RemoveField, RenameField\n  File \"/usr/local/lib/python3.11/site-packages/django/db/migrations/operations/fields.py\", line 4, in <module>\n\u001b[0m\u001b[91m    from django.db.models.fields import NOT_PROVIDED\n  File \"/usr/local/lib/python3.11/site-packages/django/db/models/__init__.py\", line 5, in <module>\n\u001b[0m\u001b[91m    from django.db.models.deletion import (\n  File \"/usr/local/lib/python3.11/site-packages/django/db/models/deletion.py\", line 5, in <module>\n\u001b[0m\u001b[91m    from django.db.models import signals, sql\n  File \"/usr/local/lib/python3.11/site-packages/django/db/models/sql/__init__.py\", line 2, in <module>\n\u001b[0m\u001b[91m    from django.db.models.sql.query import *  # NOQA\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py\", line 11, in <module>\n\u001b[0m\u001b[91m    from collections import Counter, Iterator, Mapping, OrderedDict\nImportError: cannot import name 'Iterator' from 'collections' (/usr/local/lib/python3.11/collections/__init__.py)\n\u001b[0mRemoving intermediate container cc8edc2a4dba\n","stderr":"The command '/bin/sh -c pip install --no-cache-dir --upgrade pip     && pip install --no-cache-dir -e .[backend-haystack]     && python manage.py migrate' returned a non-zero code: 1\n"},"endTime":1672379538095}