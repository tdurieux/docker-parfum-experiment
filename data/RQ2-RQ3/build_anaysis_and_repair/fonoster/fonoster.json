{"repository":"https://github.com/fonoster/fonoster","dockerfilePath":"Dockerfile","startTime":1672193002737,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/fonoster/fonoster'...\n","error":null,"commit":"ddd36c0ad98463814d71945a332021b332f5e610"},"originalBuild":{"startTimestamp":1672193004355,"endTimestamp":1672193070251,"error":null,"stdout":"Sending build context to Docker daemon  178.2kB\r\r\nStep 1/14 : FROM fonoster/base AS deps\nlatest: Pulling from fonoster/base\n59bf1c3509f3: Already exists\nfe5677f8357b: Pulling fs layer\n32dec57f4d07: Pulling fs layer\n1c92471197bd: Pulling fs layer\nfe5677f8357b: Download complete\n32dec57f4d07: Verifying Checksum\n32dec57f4d07: Download complete\n1c92471197bd: Verifying Checksum\n1c92471197bd: Download complete\nfe5677f8357b: Pull complete\n32dec57f4d07: Pull complete\n1c92471197bd: Pull complete\nDigest: sha256:7844a2a72e0063a89d3875837818af228715f6058d8114e830c1416f0b1fab21\nStatus: Downloaded newer image for fonoster/base:latest\n ---> c888363cd5eb\nStep 2/14 : WORKDIR /work\n ---> Running in a920f46fdedd\nRemoving intermediate container a920f46fdedd\n ---> 9fe47b91c4e6\nStep 3/14 : LABEL maintainer=\"Pedro Sanders <psanders@fonoster.com>\"\n ---> Running in c3ae31efdaeb\nRemoving intermediate container c3ae31efdaeb\n ---> 40b5150df88e\nStep 4/14 : RUN apk add --no-cache --update git curl docker docker-compose openssl bash   && curl -qL -o /usr/bin/netdiscover https://github.com/CyCoreSystems/netdiscover/releases/download/v1.2.5/netdiscover.linux.amd64   && chmod +x /usr/bin/netdiscover   && curl -qL -o /usr/bin/semver https://raw.githubusercontent.com/fsaintjacques/semver-tool/master/src/semver   && chmod +x /usr/bin/semver\n ---> Running in 358cb692c127\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/71) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/71) Installing ncurses-libs (6.3_p20211120-r1)\n(3/71) Installing readline (8.1.1-r0)\n(4/71) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/71) Installing ca-certificates (20220614-r0)\n(6/71) Installing brotli-libs (1.0.9-r5)\n(7/71) Installing nghttp2-libs (1.46.0-r0)\n(8/71) Installing libcurl (7.80.0-r5)\n(9/71) Installing curl (7.80.0-r5)\n(10/71) Installing libseccomp (2.5.2-r0)\n(11/71) Installing runc (1.1.2-r1)\n(12/71) Installing containerd (1.5.11-r2)\n(13/71) Installing libmnl (1.0.4-r2)\n(14/71) Installing libnftnl (1.2.1-r0)\n(15/71) Installing iptables (1.8.7-r1)\n(16/71) Installing ip6tables (1.8.7-r1)\n(17/71) Installing tini-static (0.19.0-r0)\n(18/71) Installing device-mapper-libs (2.02.187-r2)\n(19/71) Installing docker-engine (20.10.16-r0)\n(20/71) Installing docker-cli (20.10.16-r0)\n(21/71) Installing docker (20.10.16-r0)\nExecuting docker-20.10.16-r0.pre-install\n(22/71) Installing libbz2 (1.0.8-r1)\n(23/71) Installing expat (2.5.0-r0)\n(24/71) Installing libffi (3.4.2-r1)\n(25/71) Installing gdbm (1.22-r0)\n(26/71) Installing xz-libs (5.2.5-r1)\n(27/71) Installing libgcc (10.3.1_git20211027-r0)\n(28/71) Installing libstdc++ (10.3.1_git20211027-r0)\n(29/71) Installing mpdecimal (2.5.1-r1)\n(30/71) Installing sqlite-libs (3.36.0-r0)\n(31/71) Installing python3 (3.9.16-r0)\n(32/71) Installing py3-ordered-set (4.0.2-r2)\n(33/71) Installing py3-appdirs (1.4.4-r2)\n(34/71) Installing py3-parsing (2.4.7-r2)\n(35/71) Installing py3-six (1.16.0-r0)\n(36/71) Installing py3-packaging (20.9-r1)\n(37/71) Installing py3-setuptools (52.0.0-r4)\n(38/71) Installing py3-cached-property (1.5.2-r1)\n(39/71) Installing py3-certifi (2020.12.5-r1)\n(40/71) Installing py3-chardet (4.0.0-r2)\n(41/71) Installing py3-distro (1.6.0-r0)\n(42/71) Installing dockerpy-creds (0.4.0-r2)\n(43/71) Installing py3-cparser (2.20-r1)\n(44/71) Installing py3-cffi (1.14.5-r4)\n(45/71) Installing py3-idna (3.3-r0)\n(46/71) Installing py3-asn1crypto (1.4.0-r1)\n(47/71) Installing py3-cryptography (3.3.2-r3)\n(48/71) Installing py3-ipaddress (1.0.23-r2)\n(49/71) Installing py3-charset-normalizer (2.0.7-r0)\n(50/71) Installing py3-urllib3 (1.26.7-r0)\n(51/71) Installing py3-requests (2.26.0-r1)\n(52/71) Installing py3-websocket-client (1.2.1-r2)\n(53/71) Installing docker-py (5.0.3-r0)\n(54/71) Installing py3-dockerpty (0.4.1-r3)\n(55/71) Installing py3-docopt (0.6.2-r6)\n(56/71) Installing py3-pyrsistent (0.18.0-r0)\n(57/71) Installing py3-attrs (21.2.0-r0)\n(58/71) Installing py3-jsonschema (4.2.1-r0)\n(59/71) Installing py3-asn1 (0.4.8-r1)\n(60/71) Installing py3-bcrypt (3.2.0-r4)\n(61/71) Installing py3-pynacl (1.4.0-r2)\n(62/71) Installing py3-paramiko (2.7.2-r1)\n(63/71) Installing py3-pysocks (1.7.1-r2)\n(64/71) Installing py3-dotenv (0.19.2-r0)\n(65/71) Installing yaml (0.2.5-r0)\n(66/71) Installing py3-yaml (5.4.1.1-r1)\n(67/71) Installing py3-texttable (1.6.4-r0)\n(68/71) Installing docker-compose (1.29.2-r1)\n(69/71) Installing pcre2 (10.40-r0)\n(70/71) Installing git (2.34.5-r0)\n(71/71) Installing openssl (1.1.1s-r1)\nExecuting busybox-1.34.1-r3.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 334 MiB in 85 packages\n\u001b[91m  % Total    % Received % Xferd  Average Spee\u001b[0m\u001b[91md   Time    Time  \u001b[0m\u001b[91m   Time  Current\n                \u001b[0m\u001b[91m                 Dload  Upl\u001b[0m\u001b[91moad   \u001b[0m\u001b[91mTotal \u001b[0m\u001b[91m  Spen\u001b[0m\u001b[91mt    L\u001b[0m\u001b[91meft  S\u001b[0m\u001b[91mpee\u001b[0m\u001b[91md\n\u001b[0m\u001b[91m\r  0     \u001b[0m\u001b[91m0    0     0    0     0 \u001b[0m\u001b[91m     0     \u001b[0m\u001b[91m 0 --:\u001b[0m\u001b[91m--:-- --:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:-\u001b[0m\u001b[91m-:-- --:--:-\u001b[0m\u001b[91m- --:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m    0\n\u001b[0m\u001b[91m\r  0 5241k    0 10517    0     0   7339      0  0:12:11  0:00:01  0:12:10  7339\u001b[0m\u001b[91m\r  2 5241k    2  143k    0     0  83552     \u001b[0m\u001b[91m 0  0:01:04  0:00:01\u001b[0m\u001b[91m  0:01\u001b[0m\u001b[91m:03  4\u001b[0m\u001b[91m09k\u001b[0m\u001b[91m\r 78 5241k   78 4096k    0\u001b[0m\u001b[91m     0  149\u001b[0m\u001b[91m4k\u001b[0m\u001b[91m    \u001b[0m\u001b[91m  0  0:00\u001b[0m\u001b[91m:03  0:00:02  \u001b[0m\u001b[91m0:0\u001b[0m\u001b[91m0:01 3\u001b[0m\u001b[91m121k\u001b[0m\u001b[91m\r100 5241k  100 5241k    0     0  \u001b[0m\u001b[91m1904k      0  0:\u001b[0m\u001b[91m00:\u001b[0m\u001b[91m02 \u001b[0m\u001b[91m 0:\u001b[0m\u001b[91m00:02 \u001b[0m\u001b[91m--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m3962k\n\u001b[0m\u001b[91m  % Total    % Received % Xferd  Average Sp\u001b[0m\u001b[91meed   Time    Time     Tim\u001b[0m\u001b[91me  Current\n \u001b[0m\u001b[91m      \u001b[0m\u001b[91m          \u001b[0m\u001b[91m                D\u001b[0m\u001b[91mload  Uplo\u001b[0m\u001b[91mad   Tot\u001b[0m\u001b[91mal   Sp\u001b[0m\u001b[91ment    \u001b[0m\u001b[91mLeft  Sp\u001b[0m\u001b[91meed\n\r  0    \u001b[0m\u001b[91m 0    0 \u001b[0m\u001b[91m    0    0\u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0     \u001b[0m\u001b[91m 0 --:--\u001b[0m\u001b[91m:-- --:--\u001b[0m\u001b[91m:-- --:--:-\u001b[0m\u001b[91m-   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r100 13190  100 13190    0     0  23111   \u001b[0m\u001b[91m   0 --:--:-- --:--\u001b[0m\u001b[91m:-- -\u001b[0m\u001b[91m-:--:-- 23140\n\u001b[0mRemoving intermediate container 358cb692c127\n ---> c934ca82fcc7\nStep 5/14 : FROM deps AS stage\n ---> c934ca82fcc7\nStep 6/14 : WORKDIR /work\n ---> Running in 280cb4fadb2a\nRemoving intermediate container 280cb4fadb2a\n ---> 295ae2d7fe60\nStep 7/14 : COPY . /work/fonoster\n ---> a9f4faec9ba4\nStep 8/14 : RUN mkdir -p docker operator config   && touch config/config config/user_credentials   && cp -r fonoster/docker .   && cp -a fonoster/operator/compose/* operator   && mv operator/env_example operator/.env   && cp fonoster/etc/rbac.json config   && cp fonoster/etc/limiters.json config   && cp fonoster/etc/log4j2.yml config   && cp fonoster/etc/bootstrap.yml config   && cp fonoster/etc/redis.conf config   && cp fonoster/etc/fluent.conf config   && cp fonoster/etc/service_envs.json config   && cp fonoster/etc/install.sh .   && cp fonoster/etc/update.sh .   && cp fonoster/etc/stop.sh .   && rm -rf fonoster\n ---> Running in 7b12e56a7a53\nRemoving intermediate container 7b12e56a7a53\n ---> 901482c266bb\nStep 9/14 : FROM stage AS serve\n ---> 901482c266bb\nStep 10/14 : WORKDIR /work\n ---> Running in ee9bc247e4d6\nRemoving intermediate container ee9bc247e4d6\n ---> f2a01ad84808\nStep 11/14 : COPY --from=stage /work/install.sh /work/update.sh /work/stop.sh ./\n ---> 143a5adc23fe\nStep 12/14 : COPY --from=stage /work/docker /work/docker\n ---> 19c78ec6d655\nStep 13/14 : RUN find . -type f -iname \"*.sh\" -exec chmod +x {} +   && mv /work/install.sh /install.sh   && mv /work/update.sh /update.sh   && mv /work/stop.sh /stop.sh   && mv /work/docker /docker   && chown -R fonoster:fonoster /work\n ---> Running in 00995061513f\nRemoving intermediate container 00995061513f\n ---> bbf4b2fca3b9\nStep 14/14 : ENTRYPOINT [ \"/install.sh\" ]\n ---> Running in 07a15d8f783a\nRemoving intermediate container 07a15d8f783a\n ---> 8004935d417b\nSuccessfully built 8004935d417b\nSuccessfully tagged fonoster:latest\n","stderr":"","imageSize":342325108},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":10,"end":10,"columnStart":5,"columnEnd":131}},{"name":"curlUseFlagF","position":{"start":12,"end":12,"columnStart":5,"columnEnd":110}}],"repairedDockerfile":"##\n## Dependencies\n##\nFROM fonoster/base AS deps\nWORKDIR /work\n\nLABEL maintainer=\"Pedro Sanders <psanders@fonoster.com>\"\n\n# Install dependencies and set permissions\nRUN apk add --no-cache --update git curl docker docker-compose openssl bash \\\n  && curl -f -qL -o /usr/bin/netdiscover https://github.com/CyCoreSystems/netdiscover/releases/download/v1.2.5/netdiscover.linux.amd64 \\\n  && chmod +x /usr/bin/netdiscover \\\n  && curl -f -qL -o /usr/bin/semver https://raw.githubusercontent.com/fsaintjacques/semver-tool/master/src/semver \\\n  && chmod +x /usr/bin/semver\n\n##\n## Stage\n##\nFROM deps AS stage\nWORKDIR /work\n\n# Copy relevant files\nCOPY . /work/fonoster\n\n# Copy configuration files\nRUN mkdir -p docker operator config \\\n  && touch config/config config/user_credentials \\\n  && cp -r fonoster/docker . \\\n  && cp -a fonoster/operator/compose/* operator \\\n  && mv operator/env_example operator/.env \\\n  && cp fonoster/etc/rbac.json config \\\n  && cp fonoster/etc/limiters.json config \\\n  && cp fonoster/etc/log4j2.yml config \\\n  && cp fonoster/etc/bootstrap.yml config \\\n  && cp fonoster/etc/redis.conf config \\\n  && cp fonoster/etc/fluent.conf config \\\n  && cp fonoster/etc/service_envs.json config \\\n  && cp fonoster/etc/install.sh . \\\n  && cp fonoster/etc/update.sh . \\\n  && cp fonoster/etc/stop.sh . \\\n  && rm -rf fonoster\n\n##\n## Serve\n##\nFROM stage AS serve\nWORKDIR /work\n\nCOPY --from=stage /work/install.sh /work/update.sh /work/stop.sh ./\nCOPY --from=stage /work/docker /work/docker\n\nRUN find . -type f -iname \"*.sh\" -exec chmod +x {} + \\\n  && mv /work/install.sh /install.sh \\\n  && mv /work/update.sh /update.sh \\\n  && mv /work/stop.sh /stop.sh \\\n  && mv /work/docker /docker \\\n  && chown -R fonoster:fonoster /work\n\nENTRYPOINT [ \"/install.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672193070805,"endTimestamp":1672193106079,"error":null,"stdout":"Sending build context to Docker daemon  178.2kB\r\r\nStep 1/14 : FROM fonoster/base AS deps\n ---> c888363cd5eb\nStep 2/14 : WORKDIR /work\n ---> Running in d62605a59687\nRemoving intermediate container d62605a59687\n ---> 82ee8aff869f\nStep 3/14 : LABEL maintainer=\"Pedro Sanders <psanders@fonoster.com>\"\n ---> Running in 6b2f6b15275a\nRemoving intermediate container 6b2f6b15275a\n ---> 29b34fd8bdae\nStep 4/14 : RUN apk add --no-cache --update git curl docker docker-compose openssl bash   && curl -f -qL -o /usr/bin/netdiscover https://github.com/CyCoreSystems/netdiscover/releases/download/v1.2.5/netdiscover.linux.amd64   && chmod +x /usr/bin/netdiscover   && curl -f -qL -o /usr/bin/semver https://raw.githubusercontent.com/fsaintjacques/semver-tool/master/src/semver   && chmod +x /usr/bin/semver\n ---> Running in f4a2d2b5789d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/71) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/71) Installing ncurses-libs (6.3_p20211120-r1)\n(3/71) Installing readline (8.1.1-r0)\n(4/71) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/71) Installing ca-certificates (20220614-r0)\n(6/71) Installing brotli-libs (1.0.9-r5)\n(7/71) Installing nghttp2-libs (1.46.0-r0)\n(8/71) Installing libcurl (7.80.0-r5)\n(9/71) Installing curl (7.80.0-r5)\n(10/71) Installing libseccomp (2.5.2-r0)\n(11/71) Installing runc (1.1.2-r1)\n(12/71) Installing containerd (1.5.11-r2)\n(13/71) Installing libmnl (1.0.4-r2)\n(14/71) Installing libnftnl (1.2.1-r0)\n(15/71) Installing iptables (1.8.7-r1)\n(16/71) Installing ip6tables (1.8.7-r1)\n(17/71) Installing tini-static (0.19.0-r0)\n(18/71) Installing device-mapper-libs (2.02.187-r2)\n(19/71) Installing docker-engine (20.10.16-r0)\n(20/71) Installing docker-cli (20.10.16-r0)\n(21/71) Installing docker (20.10.16-r0)\nExecuting docker-20.10.16-r0.pre-install\n(22/71) Installing libbz2 (1.0.8-r1)\n(23/71) Installing expat (2.5.0-r0)\n(24/71) Installing libffi (3.4.2-r1)\n(25/71) Installing gdbm (1.22-r0)\n(26/71) Installing xz-libs (5.2.5-r1)\n(27/71) Installing libgcc (10.3.1_git20211027-r0)\n(28/71) Installing libstdc++ (10.3.1_git20211027-r0)\n(29/71) Installing mpdecimal (2.5.1-r1)\n(30/71) Installing sqlite-libs (3.36.0-r0)\n(31/71) Installing python3 (3.9.16-r0)\n(32/71) Installing py3-ordered-set (4.0.2-r2)\n(33/71) Installing py3-appdirs (1.4.4-r2)\n(34/71) Installing py3-parsing (2.4.7-r2)\n(35/71) Installing py3-six (1.16.0-r0)\n(36/71) Installing py3-packaging (20.9-r1)\n(37/71) Installing py3-setuptools (52.0.0-r4)\n(38/71) Installing py3-cached-property (1.5.2-r1)\n(39/71) Installing py3-certifi (2020.12.5-r1)\n(40/71) Installing py3-chardet (4.0.0-r2)\n(41/71) Installing py3-distro (1.6.0-r0)\n(42/71) Installing dockerpy-creds (0.4.0-r2)\n(43/71) Installing py3-cparser (2.20-r1)\n(44/71) Installing py3-cffi (1.14.5-r4)\n(45/71) Installing py3-idna (3.3-r0)\n(46/71) Installing py3-asn1crypto (1.4.0-r1)\n(47/71) Installing py3-cryptography (3.3.2-r3)\n(48/71) Installing py3-ipaddress (1.0.23-r2)\n(49/71) Installing py3-charset-normalizer (2.0.7-r0)\n(50/71) Installing py3-urllib3 (1.26.7-r0)\n(51/71) Installing py3-requests (2.26.0-r1)\n(52/71) Installing py3-websocket-client (1.2.1-r2)\n(53/71) Installing docker-py (5.0.3-r0)\n(54/71) Installing py3-dockerpty (0.4.1-r3)\n(55/71) Installing py3-docopt (0.6.2-r6)\n(56/71) Installing py3-pyrsistent (0.18.0-r0)\n(57/71) Installing py3-attrs (21.2.0-r0)\n(58/71) Installing py3-jsonschema (4.2.1-r0)\n(59/71) Installing py3-asn1 (0.4.8-r1)\n(60/71) Installing py3-bcrypt (3.2.0-r4)\n(61/71) Installing py3-pynacl (1.4.0-r2)\n(62/71) Installing py3-paramiko (2.7.2-r1)\n(63/71) Installing py3-pysocks (1.7.1-r2)\n(64/71) Installing py3-dotenv (0.19.2-r0)\n(65/71) Installing yaml (0.2.5-r0)\n(66/71) Installing py3-yaml (5.4.1.1-r1)\n(67/71) Installing py3-texttable (1.6.4-r0)\n(68/71) Installing docker-compose (1.29.2-r1)\n(69/71) Installing pcre2 (10.40-r0)\n(70/71) Installing git (2.34.5-r0)\n(71/71) Installing openssl (1.1.1s-r1)\nExecuting busybox-1.34.1-r3.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 334 MiB in 85 packages\n\u001b[91m  % Total    % Received % Xferd  A\u001b[0m\u001b[91mverage Speed   \u001b[0m\u001b[91mTime    \u001b[0m\u001b[91mTime\u001b[0m\u001b[91m     T\u001b[0m\u001b[91mime  Curr\u001b[0m\u001b[91ment\n              \u001b[0m\u001b[91m             \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   Dload\u001b[0m\u001b[91m  U\u001b[0m\u001b[91mplo\u001b[0m\u001b[91mad   T\u001b[0m\u001b[91mota\u001b[0m\u001b[91ml   Sp\u001b[0m\u001b[91ment    Left\u001b[0m\u001b[91m  Sp\u001b[0m\u001b[91meed\n\u001b[0m\u001b[91m\r  0     0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0    0  \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m    0     \u001b[0m\u001b[91m 0 --:--\u001b[0m\u001b[91m:-- --:\u001b[0m\u001b[91m--:-- --:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m    0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:-\u001b[0m\u001b[91m-:-- --:--:--     0\n\u001b[0m\u001b[91m\r100 5241k  100 5241k    0     0  10.2M \u001b[0m\u001b[91m     0 --:--:-- --:--:-- --:--:-- 1\u001b[0m\u001b[91m0.2M\n\u001b[0m\u001b[91m  % Total    % Received % Xferd  Average Spee\u001b[0m\u001b[91md   Time    Time     Time  Current\n\u001b[0m\u001b[91m      \u001b[0m\u001b[91m   \u001b[0m\u001b[91m       \u001b[0m\u001b[91m    \u001b[0m\u001b[91m        \u001b[0m\u001b[91m     D\u001b[0m\u001b[91mloa\u001b[0m\u001b[91md  Upl\u001b[0m\u001b[91moad   \u001b[0m\u001b[91mTotal \u001b[0m\u001b[91m  S\u001b[0m\u001b[91mpe\u001b[0m\u001b[91mnt  \u001b[0m\u001b[91m  L\u001b[0m\u001b[91mef\u001b[0m\u001b[91mt  S\u001b[0m\u001b[91mpee\u001b[0m\u001b[91md\n\r\u001b[0m\u001b[91m  0     0\u001b[0m\u001b[91m    0    \u001b[0m\u001b[91m 0    \u001b[0m\u001b[91m0     \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m    \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m --:--:-- --:--:-\u001b[0m\u001b[91m- -\u001b[0m\u001b[91m-:--:\u001b[0m\u001b[91m--  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r100 13190  100 13190    0     0   445k      0 --:--:-- --:--:-- --:--:--  460k\u001b[0m\u001b[91m\n\u001b[0mRemoving intermediate container f4a2d2b5789d\n ---> af6c48357ee6\nStep 5/14 : FROM deps AS stage\n ---> af6c48357ee6\nStep 6/14 : WORKDIR /work\n ---> Running in 0c51c6b000af\nRemoving intermediate container 0c51c6b000af\n ---> f97f994c6184\nStep 7/14 : COPY . /work/fonoster\n ---> dcb532b8eb09\nStep 8/14 : RUN mkdir -p docker operator config   && touch config/config config/user_credentials   && cp -r fonoster/docker .   && cp -a fonoster/operator/compose/* operator   && mv operator/env_example operator/.env   && cp fonoster/etc/rbac.json config   && cp fonoster/etc/limiters.json config   && cp fonoster/etc/log4j2.yml config   && cp fonoster/etc/bootstrap.yml config   && cp fonoster/etc/redis.conf config   && cp fonoster/etc/fluent.conf config   && cp fonoster/etc/service_envs.json config   && cp fonoster/etc/install.sh .   && cp fonoster/etc/update.sh .   && cp fonoster/etc/stop.sh .   && rm -rf fonoster\n ---> Running in 75424f43bd6b\nRemoving intermediate container 75424f43bd6b\n ---> 2e97be3ff88e\nStep 9/14 : FROM stage AS serve\n ---> 2e97be3ff88e\nStep 10/14 : WORKDIR /work\n ---> Running in 99a39acd28b5\nRemoving intermediate container 99a39acd28b5\n ---> c8d708aa57d2\nStep 11/14 : COPY --from=stage /work/install.sh /work/update.sh /work/stop.sh ./\n ---> 4e74d76f976e\nStep 12/14 : COPY --from=stage /work/docker /work/docker\n ---> 381d465d75fe\nStep 13/14 : RUN find . -type f -iname \"*.sh\" -exec chmod +x {} +   && mv /work/install.sh /install.sh   && mv /work/update.sh /update.sh   && mv /work/stop.sh /stop.sh   && mv /work/docker /docker   && chown -R fonoster:fonoster /work\n ---> Running in a386d0fb2c76\nRemoving intermediate container a386d0fb2c76\n ---> d6e0caff7bcd\nStep 14/14 : ENTRYPOINT [ \"/install.sh\" ]\n ---> Running in 635fbbc1e963\nRemoving intermediate container 635fbbc1e963\n ---> 351382c913df\nSuccessfully built 351382c913df\nSuccessfully tagged fonoster:latest\n","stderr":"","imageSize":342325108},"endTime":1672193107070}