{"repository":"https://github.com/meienberger/runtipi","dockerfilePath":"Dockerfile","startTime":1672610266609,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/meienberger/runtipi'...\n","error":null,"commit":"e921e529345f1080842227cd9b30c89a613355f7"},"originalBuild":{"startTimestamp":1672610267560,"endTimestamp":1672610686077,"error":null,"stdout":"Sending build context to Docker daemon   4.74MB\r\r\nStep 1/30 : FROM node:18-alpine3.16 AS builder\n18-alpine3.16: Pulling from library/node\nca7dd9ec2225: Already exists\n55371e6747e8: Pulling fs layer\n694d6b1b2d1b: Pulling fs layer\n71f41f5ff77d: Pulling fs layer\n71f41f5ff77d: Verifying Checksum\n694d6b1b2d1b: Verifying Checksum\n694d6b1b2d1b: Download complete\n55371e6747e8: Verifying Checksum\n55371e6747e8: Download complete\n55371e6747e8: Pull complete\n694d6b1b2d1b: Pull complete\n71f41f5ff77d: Pull complete\nDigest: sha256:9eff44230b2fdcca57a73b8f908c8029e72d24dd05cac5339c79d3dedf6b208b\nStatus: Downloaded newer image for node:18-alpine3.16\n ---> 0fa08f92e64b\nStep 2/30 : RUN apk --no-cache add g++\n ---> Running in 8127fc320b8a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/12) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/12) Installing binutils (2.38-r3)\n(3/12) Installing libgomp (11.2.1_git20220219-r2)\n(4/12) Installing libatomic (11.2.1_git20220219-r2)\n(5/12) Installing gmp (6.2.1-r2)\n(6/12) Installing isl22 (0.22-r0)\n(7/12) Installing mpfr4 (4.1.0-r0)\n(8/12) Installing mpc1 (1.2.1-r0)\n(9/12) Installing gcc (11.2.1_git20220219-r2)\n(10/12) Installing musl-dev (1.2.3-r2)\n(11/12) Installing libc-dev (0.7.2-r3)\n(12/12) Installing g++ (11.2.1_git20220219-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 179 MiB in 27 packages\nRemoving intermediate container 8127fc320b8a\n ---> b3bd7029632f\nStep 3/30 : RUN apk --no-cache add make\n ---> Running in 0ffce71636e7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 179 MiB in 28 packages\nRemoving intermediate container 0ffce71636e7\n ---> 740d5a6e9630\nStep 4/30 : RUN apk --no-cache add python3\n ---> Running in 9a4d90e32371\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.8-r1)\n(2/11) Installing expat (2.5.0-r0)\n(3/11) Installing libffi (3.4.2-r1)\n(4/11) Installing gdbm (1.23-r0)\n(5/11) Installing xz-libs (5.2.5-r1)\n(6/11) Installing mpdecimal (2.5.1-r1)\n(7/11) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(8/11) Installing ncurses-libs (6.3_p20220521-r0)\n(9/11) Installing readline (8.1.2-r0)\n(10/11) Installing sqlite-libs (3.38.5-r0)\n(11/11) Installing python3 (3.10.9-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 229 MiB in 39 packages\nRemoving intermediate container 9a4d90e32371\n ---> 09fd851d23ae\nStep 5/30 : RUN apk --no-cache add vips-dev=8.12.2-r5\n ---> Running in bfe3ad3c8c1b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/129) Installing openexr (3.1.5-r1)\n(2/129) Installing pkgconf (1.8.0-r1)\n(3/129) Installing openexr-dev (3.1.5-r1)\n(4/129) Installing cairo-tools (1.17.4-r2)\n(5/129) Installing brotli-libs (1.0.9-r6)\n(6/129) Installing libpng (1.6.37-r1)\n(7/129) Installing freetype (2.12.1-r0)\n(8/129) Installing fontconfig (2.14.0-r0)\n(9/129) Installing expat-dev (2.5.0-r0)\n(10/129) Installing brotli-dev (1.0.9-r6)\n(11/129) Installing zlib-dev (1.2.12-r3)\n(12/129) Installing libpng-dev (1.6.37-r1)\n(13/129) Installing freetype-dev (2.12.1-r0)\n(14/129) Installing fontconfig-dev (2.14.0-r0)\n(15/129) Installing libxau (1.0.9-r0)\n(16/129) Installing xorgproto (2022.1-r0)\n(17/129) Installing libxau-dev (1.0.9-r0)\n(18/129) Installing libxdmcp (1.1.3-r0)\n(19/129) Installing libxcb (1.15-r0)\n(20/129) Installing libx11 (1.8-r0)\n(21/129) Installing libxext (1.3.4-r0)\n(22/129) Installing xcb-proto (1.15-r0)\n(23/129) Installing libxdmcp-dev (1.1.3-r0)\n(24/129) Installing libxcb-dev (1.15-r0)\n(25/129) Installing xtrans (1.4.0-r1)\n(26/129) Installing libx11-dev (1.8-r0)\n(27/129) Installing libxext-dev (1.3.4-r0)\n(28/129) Installing libxrender (0.9.10-r3)\n(29/129) Installing libxrender-dev (0.9.10-r3)\n(30/129) Installing pixman (0.40.0-r4)\n(31/129) Installing pixman-dev (0.40.0-r4)\n(32/129) Installing util-macros (1.19.3-r0)\n(33/129) Installing xcb-util (0.4.0-r3)\n(34/129) Installing xcb-util-dev (0.4.0-r3)\n(35/129) Installing cairo (1.17.4-r2)\n(36/129) Installing libintl (0.21-r2)\n(37/129) Installing libblkid (2.38-r1)\n(38/129) Installing libmount (2.38-r1)\n(39/129) Installing pcre (8.45-r2)\n(40/129) Installing glib (2.72.1-r0)\n(41/129) Installing cairo-gobject (1.17.4-r2)\n(42/129) Installing gettext-asprintf (0.21-r2)\n(43/129) Installing libunistring (1.0-r0)\n(44/129) Installing gettext-libs (0.21-r2)\n(45/129) Installing libxml2 (2.9.14-r2)\n(46/129) Installing gettext (0.21-r2)\n(47/129) Installing gettext-dev (0.21-r2)\n(48/129) Installing bzip2-dev (1.0.8-r1)\n(49/129) Installing libxml2-utils (2.9.14-r2)\n(50/129) Installing libgpg-error (1.45-r0)\n(51/129) Installing libgcrypt (1.10.1-r0)\n(52/129) Installing libxslt (1.1.35-r0)\n(53/129) Installing docbook-xml (4.5-r6)\nExecuting docbook-xml-4.5-r6.post-install\n(54/129) Installing docbook-xsl (1.79.2-r4)\nExecuting docbook-xsl-1.79.2-r4.post-install\n(55/129) Installing linux-headers (5.16.7-r1)\n(56/129) Installing libffi-dev (3.4.2-r1)\n(57/129) Installing libpcre16 (8.45-r2)\n(58/129) Installing libpcre32 (8.45-r2)\n(59/129) Installing libpcrecpp (8.45-r2)\n(60/129) Installing pcre-dev (8.45-r2)\n(61/129) Installing libuuid (2.38-r1)\n(62/129) Installing libfdisk (2.38-r1)\n(63/129) Installing libsmartcols (2.38-r1)\n(64/129) Installing util-linux-dev (2.38-r1)\n(65/129) Installing glib-dev (2.72.1-r0)\n(66/129) Installing cairo-dev (1.17.4-r2)\n(67/129) Installing ca-certificates (20220614-r0)\n(68/129) Installing nghttp2-libs (1.47.0-r0)\n(69/129) Installing libcurl (7.83.1-r5)\n(70/129) Installing cfitsio (4.1.0-r0)\n(71/129) Installing cfitsio-dev (4.1.0-r0)\n(72/129) Installing cgif (0.3.0-r0)\n(73/129) Installing cgif-dev (0.3.0-r0)\n(74/129) Installing fftw-double-libs (3.3.10-r0)\n(75/129) Installing fftw-long-double-libs (3.3.10-r0)\n(76/129) Installing fftw-single-libs (3.3.10-r0)\n(77/129) Installing fftw-dev (3.3.10-r0)\n(78/129) Installing libimagequant (2.16.0-r0)\n(79/129) Installing libimagequant-dev (2.16.0-r0)\n(80/129) Installing libjpeg-turbo (2.1.3-r1)\n(81/129) Installing libjpeg-turbo-dev (2.1.3-r1)\n(82/129) Installing libwebp (1.2.3-r0)\n(83/129) Installing libwebp-dev (1.2.3-r0)\n(84/129) Installing xz-dev (5.2.5-r1)\n(85/129) Installing zstd-libs (1.5.2-r1)\n(86/129) Installing zstd-dev (1.5.2-r1)\n(87/129) Installing tiff (4.4.0-r0)\n(88/129) Installing libtiffxx (4.4.0-r0)\n(89/129) Installing tiff-dev (4.4.0-r0)\n(90/129) Installing lcms2 (2.13.1-r0)\n(91/129) Installing lcms2-dev (2.13.1-r0)\n(92/129) Installing libexif (0.6.24-r0)\n(93/129) Installing libexif-dev (0.6.24-r0)\n(94/129) Installing openjpeg (2.5.0-r0)\n(95/129) Installing openjpeg-tools (2.5.0-r0)\n(96/129) Installing openjpeg-dev (2.5.0-r0)\n(97/129) Installing shared-mime-info (2.2-r1)\n(98/129) Installing gdk-pixbuf (2.42.8-r0)\n(99/129) Installing libxft (2.3.4-r0)\n(100/129) Installing fribidi (1.0.12-r0)\n(101/129) Installing graphite2 (1.3.14-r1)\n(102/129) Installing harfbuzz (4.3.0-r0)\n(103/129) Installing pango (1.50.7-r0)\n(104/129) Installing librsvg (2.54.3-r0)\n(105/129) Installing gdk-pixbuf-dev (2.42.8-r0)\n(106/129) Installing librsvg-dev (2.54.3-r0)\n(107/129) Installing orc (0.4.32-r0)\n(108/129) Installing orc-dev (0.4.32-r0)\n(109/129) Installing pango-tools (1.50.7-r0)\n(110/129) Installing fribidi-dev (1.0.12-r0)\n(111/129) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(112/129) Installing icu-libs (71.1-r2)\n(113/129) Installing harfbuzz-icu (4.3.0-r0)\n(114/129) Installing graphite2-dev (1.3.14-r1)\n(115/129) Installing icu (71.1-r2)\n(116/129) Installing icu-dev (71.1-r2)\n(117/129) Installing harfbuzz-dev (4.3.0-r0)\n(118/129) Installing libxft-dev (2.3.4-r0)\n(119/129) Installing pango-dev (1.50.7-r0)\n(120/129) Installing libspng (0.7.2-r0)\n(121/129) Installing libspng-dev (0.7.2-r0)\n(122/129) Installing aom-libs (3.3.0-r0)\n(123/129) Installing libde265 (1.0.8-r2)\n(124/129) Installing numactl (2.0.14-r0)\n(125/129) Installing x265-libs (3.5-r3)\n(126/129) Installing libheif (1.12.0-r2)\n(127/129) Installing libjxl (0.6.1_git20220218-r0)\n(128/129) Installing vips (8.12.2-r5)\n(129/129) Installing vips-dev (8.12.2-r5)\nExecuting busybox-1.35.0-r17.trigger\nExecuting glib-2.72.1-r0.trigger\nNo schema files found: doing nothing.\nExecuting ca-certificates-20220614-r0.trigger\nExecuting shared-mime-info-2.2-r1.trigger\nExecuting gdk-pixbuf-2.42.8-r0.trigger\nOK: 399 MiB in 168 packages\nRemoving intermediate container bfe3ad3c8c1b\n ---> a57f9cd9d5ea\nStep 6/30 : RUN npm install node-gyp -g\n ---> Running in 22f8283a1562\n\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\nadded 95 packages, and audited 96 packages in 6s\n\n5 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 22f8283a1562\n ---> d212df46374a\nStep 7/30 : WORKDIR /api\n ---> Running in f97b2b6964b0\nRemoving intermediate container f97b2b6964b0\n ---> 49bbcca93cf9\nStep 8/30 : COPY ./packages/system-api/package.json /api/package.json\n ---> 7aaadb5ee5d3\nStep 9/30 : RUN npm i\n ---> Running in a88e8f5bbd73\n\u001b[91mnpm WARN deprecated apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\nadded 800 packages, and audited 801 packages in 1m\n\n111 packages are looking for funding\n  run `npm fund` for details\n\n6 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container a88e8f5bbd73\n ---> 3161dc2bafb8\nStep 10/30 : WORKDIR /dashboard\n ---> Running in 94432f4ba60e\nRemoving intermediate container 94432f4ba60e\n ---> d4e5c974927a\nStep 11/30 : COPY ./packages/dashboard/package.json /dashboard/package.json\n ---> 3d374d6745f1\nStep 12/30 : RUN npm i\n ---> Running in 776742ff06cd\n\nadded 1323 packages, and audited 1324 packages in 2m\n\n254 packages are looking for funding\n  run `npm fund` for details\n\n7 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 776742ff06cd\n ---> 52feb13baf0c\nStep 13/30 : WORKDIR /api\n ---> Running in 20fceed927d0\nRemoving intermediate container 20fceed927d0\n ---> 71cce6939b25\nStep 14/30 : COPY ./packages/system-api /api\n ---> 2445a244dd6e\nStep 15/30 : RUN npm run build\n ---> Running in c5fc2bc8aa68\n\n> system-api@0.8.1 build\n> rm -rf dist && node esbuild.js\n\n\u001b[91m\n  dist/config/migrations/1657299198975-Initial.js            2.7kb\n  dist/config/migrations/1662036689477-AppExposedDomain.js   1.6kb\n  dist/config/migrations/1659645508713-AppVersion.js         1.4kb\n  dist/config/migrations/1660071627328-AppStatusUpdating.js  1.1kb\n\n⚡ Done in 8ms\n\u001b[0m\u001b[91m\n  dist/server.bundle.js       7.8mb ⚠️\n  dist/argon2-DCZ34AEA.node  68.6kb\n\n⚡ Done in 573ms\n\u001b[0mRemoving intermediate container c5fc2bc8aa68\n ---> 8ec5cd3f1d24\nStep 16/30 : WORKDIR /dashboard\n ---> Running in e9240d5162d1\nRemoving intermediate container e9240d5162d1\n ---> abd8869f0efe\nStep 17/30 : COPY ./packages/dashboard /dashboard\n ---> 9511f646236f\nStep 18/30 : RUN npm run build\n ---> Running in db634d169015\n\n> dashboard@0.8.1 build\n> next build\n\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Linting and checking validity of types...\n\u001b[91merror - ESLint: Failed to load config \"prettier\" to extend from. Referenced from: /dashboard/.eslintrc.js\n\u001b[0minfo  - Creating an optimized production build...\ninfo  - Compiled successfully\ninfo  - Collecting page data...\ninfo  - Generating static pages (0/6)\ninfo  - Generating static pages (1/6)\ninfo  - Generating static pages (2/6)\ninfo  - Generating static pages (4/6)\ninfo  - Generating static pages (6/6)\ninfo  - Finalizing page optimization...\n\nRoute (pages)                              Size     First Load JS\n┌ ○ / (316 ms)                             2.95 kB         225 kB\n├   └ css/ee23d56fbaaddf31.css             62 B\n├   /_app                                  0 B             188 kB\n├ ○ /404                                   482 B           189 kB\n├ ○ /app-store (354 ms)                    36.9 kB         262 kB\n├   └ css/39250b96aa37e5b7.css             339 B\n├ λ /app-store/[id]                        350 B           402 kB\n├ ○ /apps (341 ms)                         1.56 kB         227 kB\n├   └ css/4bde9237a041ba22.css             224 B\n├ λ /apps/[id]                             347 B           402 kB\n└ ○ /settings (319 ms)                     1.54 kB         227 kB\n    └ css/ecb82328eca51e29.css             314 B\n+ First Load JS shared by all              248 kB\n  ├ chunks/framework-ffee79c6390da51e.js   45.7 kB\n  ├ chunks/main-5cebf592faf0463a.js        31.8 kB\n  ├ chunks/pages/_app-a3691f8e3bd2f2fe.js  110 kB\n  ├ chunks/webpack-afa1481dc69e4a5d.js     1.32 kB\n  └ css/a221a428665839bf.css               59.3 kB\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n\nRemoving intermediate container db634d169015\n ---> c71203dddbda\nStep 19/30 : FROM node:18-alpine3.16 as app\n ---> 0fa08f92e64b\nStep 20/30 : WORKDIR /\n ---> Running in 7daad79d9365\nRemoving intermediate container 7daad79d9365\n ---> fdb7b5956217\nStep 21/30 : WORKDIR /api\n ---> Running in 5566609c7ff9\nRemoving intermediate container 5566609c7ff9\n ---> 08ea74cf5dfc\nStep 22/30 : COPY ./packages/system-api/package.json /api/\n ---> 7c07fca9b8bc\nStep 23/30 : COPY --from=builder /api/dist /api/dist\n ---> e809a3cc6d73\nStep 24/30 : WORKDIR /dashboard\n ---> Running in 15204e1230d7\nRemoving intermediate container 15204e1230d7\n ---> 3d0d62687a79\nStep 25/30 : COPY --from=builder /dashboard/next.config.js ./\n ---> 6aefe64250f0\nStep 26/30 : COPY --from=builder /dashboard/public ./public\n ---> e4af6a9853ce\nStep 27/30 : COPY --from=builder /dashboard/package.json ./package.json\n ---> 79eb03c659bf\nStep 28/30 : COPY --from=builder --chown=node:node /dashboard/.next/standalone ./\n ---> 6ba66c1ffe8a\nStep 29/30 : COPY --from=builder --chown=node:node /dashboard/.next/static ./.next/static\n ---> 598645a7d7aa\nStep 30/30 : WORKDIR /\n ---> Running in 8bad48566530\nRemoving intermediate container 8bad48566530\n ---> e2381b703993\nSuccessfully built e2381b703993\nSuccessfully tagged runtipi:latest\n","stderr":"","imageSize":195754321},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":27}},{"name":"npmCacheCleanAfterInstall","position":{"start":13,"end":13,"columnStart":4,"columnEnd":9}},{"name":"npmCacheCleanAfterInstall","position":{"start":17,"end":17,"columnStart":4,"columnEnd":9}}],"repairedDockerfile":"FROM node:18-alpine3.16 AS builder\n\n# Required for argon2\nRUN apk --no-cache add g++\nRUN apk --no-cache add make\nRUN apk --no-cache add python3\n\n# Required for sharp\nRUN apk --no-cache add vips-dev=8.12.2-r5\nRUN npm install node-gyp -g\n\nWORKDIR /api\nCOPY ./packages/system-api/package.json /api/package.json\nRUN npm i\n# ---\nWORKDIR /dashboard\nCOPY ./packages/dashboard/package.json /dashboard/package.json\nRUN npm i\n\nWORKDIR /api\nCOPY ./packages/system-api /api\nRUN npm run build\n# ---\nWORKDIR /dashboard\nCOPY ./packages/dashboard /dashboard\nRUN npm run build\n\nFROM node:18-alpine3.16 as app\n\nWORKDIR /\n\nWORKDIR /api\nCOPY ./packages/system-api/package.json /api/\nCOPY --from=builder /api/dist /api/dist\n\nWORKDIR /dashboard\nCOPY --from=builder /dashboard/next.config.js ./\nCOPY --from=builder /dashboard/public ./public\nCOPY --from=builder /dashboard/package.json ./package.json\nCOPY --from=builder --chown=node:node /dashboard/.next/standalone ./\nCOPY --from=builder --chown=node:node /dashboard/.next/static ./.next/static\n\nWORKDIR /"},"repairedBuild":{"startTimestamp":1672610686500,"endTimestamp":1672611076979,"error":null,"stdout":"Sending build context to Docker daemon   4.74MB\r\r\nStep 1/30 : FROM node:18-alpine3.16 AS builder\n ---> 0fa08f92e64b\nStep 2/30 : RUN apk --no-cache add g++\n ---> Running in dbab966fcc8a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/12) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/12) Installing binutils (2.38-r3)\n(3/12) Installing libgomp (11.2.1_git20220219-r2)\n(4/12) Installing libatomic (11.2.1_git20220219-r2)\n(5/12) Installing gmp (6.2.1-r2)\n(6/12) Installing isl22 (0.22-r0)\n(7/12) Installing mpfr4 (4.1.0-r0)\n(8/12) Installing mpc1 (1.2.1-r0)\n(9/12) Installing gcc (11.2.1_git20220219-r2)\n(10/12) Installing musl-dev (1.2.3-r2)\n(11/12) Installing libc-dev (0.7.2-r3)\n(12/12) Installing g++ (11.2.1_git20220219-r2)\nExecuting busybox-1.35.0-r17.trigger\nOK: 179 MiB in 27 packages\nRemoving intermediate container dbab966fcc8a\n ---> 314b36a060d8\nStep 3/30 : RUN apk --no-cache add make\n ---> Running in 20e42024c70d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 179 MiB in 28 packages\nRemoving intermediate container 20e42024c70d\n ---> 4bcbf8982e2d\nStep 4/30 : RUN apk --no-cache add python3\n ---> Running in 4bed985eb902\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libbz2 (1.0.8-r1)\n(2/11) Installing expat (2.5.0-r0)\n(3/11) Installing libffi (3.4.2-r1)\n(4/11) Installing gdbm (1.23-r0)\n(5/11) Installing xz-libs (5.2.5-r1)\n(6/11) Installing mpdecimal (2.5.1-r1)\n(7/11) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(8/11) Installing ncurses-libs (6.3_p20220521-r0)\n(9/11) Installing readline (8.1.2-r0)\n(10/11) Installing sqlite-libs (3.38.5-r0)\n(11/11) Installing python3 (3.10.9-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 229 MiB in 39 packages\nRemoving intermediate container 4bed985eb902\n ---> 6c50d27802f4\nStep 5/30 : RUN apk --no-cache add vips-dev=8.12.2-r5\n ---> Running in c4dc6beebf80\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/129) Installing openexr (3.1.5-r1)\n(2/129) Installing pkgconf (1.8.0-r1)\n(3/129) Installing openexr-dev (3.1.5-r1)\n(4/129) Installing cairo-tools (1.17.4-r2)\n(5/129) Installing brotli-libs (1.0.9-r6)\n(6/129) Installing libpng (1.6.37-r1)\n(7/129) Installing freetype (2.12.1-r0)\n(8/129) Installing fontconfig (2.14.0-r0)\n(9/129) Installing expat-dev (2.5.0-r0)\n(10/129) Installing brotli-dev (1.0.9-r6)\n(11/129) Installing zlib-dev (1.2.12-r3)\n(12/129) Installing libpng-dev (1.6.37-r1)\n(13/129) Installing freetype-dev (2.12.1-r0)\n(14/129) Installing fontconfig-dev (2.14.0-r0)\n(15/129) Installing libxau (1.0.9-r0)\n(16/129) Installing xorgproto (2022.1-r0)\n(17/129) Installing libxau-dev (1.0.9-r0)\n(18/129) Installing libxdmcp (1.1.3-r0)\n(19/129) Installing libxcb (1.15-r0)\n(20/129) Installing libx11 (1.8-r0)\n(21/129) Installing libxext (1.3.4-r0)\n(22/129) Installing xcb-proto (1.15-r0)\n(23/129) Installing libxdmcp-dev (1.1.3-r0)\n(24/129) Installing libxcb-dev (1.15-r0)\n(25/129) Installing xtrans (1.4.0-r1)\n(26/129) Installing libx11-dev (1.8-r0)\n(27/129) Installing libxext-dev (1.3.4-r0)\n(28/129) Installing libxrender (0.9.10-r3)\n(29/129) Installing libxrender-dev (0.9.10-r3)\n(30/129) Installing pixman (0.40.0-r4)\n(31/129) Installing pixman-dev (0.40.0-r4)\n(32/129) Installing util-macros (1.19.3-r0)\n(33/129) Installing xcb-util (0.4.0-r3)\n(34/129) Installing xcb-util-dev (0.4.0-r3)\n(35/129) Installing cairo (1.17.4-r2)\n(36/129) Installing libintl (0.21-r2)\n(37/129) Installing libblkid (2.38-r1)\n(38/129) Installing libmount (2.38-r1)\n(39/129) Installing pcre (8.45-r2)\n(40/129) Installing glib (2.72.1-r0)\n(41/129) Installing cairo-gobject (1.17.4-r2)\n(42/129) Installing gettext-asprintf (0.21-r2)\n(43/129) Installing libunistring (1.0-r0)\n(44/129) Installing gettext-libs (0.21-r2)\n(45/129) Installing libxml2 (2.9.14-r2)\n(46/129) Installing gettext (0.21-r2)\n(47/129) Installing gettext-dev (0.21-r2)\n(48/129) Installing bzip2-dev (1.0.8-r1)\n(49/129) Installing libxml2-utils (2.9.14-r2)\n(50/129) Installing libgpg-error (1.45-r0)\n(51/129) Installing libgcrypt (1.10.1-r0)\n(52/129) Installing libxslt (1.1.35-r0)\n(53/129) Installing docbook-xml (4.5-r6)\nExecuting docbook-xml-4.5-r6.post-install\n(54/129) Installing docbook-xsl (1.79.2-r4)\nExecuting docbook-xsl-1.79.2-r4.post-install\n(55/129) Installing linux-headers (5.16.7-r1)\n(56/129) Installing libffi-dev (3.4.2-r1)\n(57/129) Installing libpcre16 (8.45-r2)\n(58/129) Installing libpcre32 (8.45-r2)\n(59/129) Installing libpcrecpp (8.45-r2)\n(60/129) Installing pcre-dev (8.45-r2)\n(61/129) Installing libuuid (2.38-r1)\n(62/129) Installing libfdisk (2.38-r1)\n(63/129) Installing libsmartcols (2.38-r1)\n(64/129) Installing util-linux-dev (2.38-r1)\n(65/129) Installing glib-dev (2.72.1-r0)\n(66/129) Installing cairo-dev (1.17.4-r2)\n(67/129) Installing ca-certificates (20220614-r0)\n(68/129) Installing nghttp2-libs (1.47.0-r0)\n(69/129) Installing libcurl (7.83.1-r5)\n(70/129) Installing cfitsio (4.1.0-r0)\n(71/129) Installing cfitsio-dev (4.1.0-r0)\n(72/129) Installing cgif (0.3.0-r0)\n(73/129) Installing cgif-dev (0.3.0-r0)\n(74/129) Installing fftw-double-libs (3.3.10-r0)\n(75/129) Installing fftw-long-double-libs (3.3.10-r0)\n(76/129) Installing fftw-single-libs (3.3.10-r0)\n(77/129) Installing fftw-dev (3.3.10-r0)\n(78/129) Installing libimagequant (2.16.0-r0)\n(79/129) Installing libimagequant-dev (2.16.0-r0)\n(80/129) Installing libjpeg-turbo (2.1.3-r1)\n(81/129) Installing libjpeg-turbo-dev (2.1.3-r1)\n(82/129) Installing libwebp (1.2.3-r0)\n(83/129) Installing libwebp-dev (1.2.3-r0)\n(84/129) Installing xz-dev (5.2.5-r1)\n(85/129) Installing zstd-libs (1.5.2-r1)\n(86/129) Installing zstd-dev (1.5.2-r1)\n(87/129) Installing tiff (4.4.0-r0)\n(88/129) Installing libtiffxx (4.4.0-r0)\n(89/129) Installing tiff-dev (4.4.0-r0)\n(90/129) Installing lcms2 (2.13.1-r0)\n(91/129) Installing lcms2-dev (2.13.1-r0)\n(92/129) Installing libexif (0.6.24-r0)\n(93/129) Installing libexif-dev (0.6.24-r0)\n(94/129) Installing openjpeg (2.5.0-r0)\n(95/129) Installing openjpeg-tools (2.5.0-r0)\n(96/129) Installing openjpeg-dev (2.5.0-r0)\n(97/129) Installing shared-mime-info (2.2-r1)\n(98/129) Installing gdk-pixbuf (2.42.8-r0)\n(99/129) Installing libxft (2.3.4-r0)\n(100/129) Installing fribidi (1.0.12-r0)\n(101/129) Installing graphite2 (1.3.14-r1)\n(102/129) Installing harfbuzz (4.3.0-r0)\n(103/129) Installing pango (1.50.7-r0)\n(104/129) Installing librsvg (2.54.3-r0)\n(105/129) Installing gdk-pixbuf-dev (2.42.8-r0)\n(106/129) Installing librsvg-dev (2.54.3-r0)\n(107/129) Installing orc (0.4.32-r0)\n(108/129) Installing orc-dev (0.4.32-r0)\n(109/129) Installing pango-tools (1.50.7-r0)\n(110/129) Installing fribidi-dev (1.0.12-r0)\n(111/129) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(112/129) Installing icu-libs (71.1-r2)\n(113/129) Installing harfbuzz-icu (4.3.0-r0)\n(114/129) Installing graphite2-dev (1.3.14-r1)\n(115/129) Installing icu (71.1-r2)\n(116/129) Installing icu-dev (71.1-r2)\n(117/129) Installing harfbuzz-dev (4.3.0-r0)\n(118/129) Installing libxft-dev (2.3.4-r0)\n(119/129) Installing pango-dev (1.50.7-r0)\n(120/129) Installing libspng (0.7.2-r0)\n(121/129) Installing libspng-dev (0.7.2-r0)\n(122/129) Installing aom-libs (3.3.0-r0)\n(123/129) Installing libde265 (1.0.8-r2)\n(124/129) Installing numactl (2.0.14-r0)\n(125/129) Installing x265-libs (3.5-r3)\n(126/129) Installing libheif (1.12.0-r2)\n(127/129) Installing libjxl (0.6.1_git20220218-r0)\n(128/129) Installing vips (8.12.2-r5)\n(129/129) Installing vips-dev (8.12.2-r5)\nExecuting busybox-1.35.0-r17.trigger\nExecuting glib-2.72.1-r0.trigger\nNo schema files found: doing nothing.\nExecuting ca-certificates-20220614-r0.trigger\nExecuting shared-mime-info-2.2-r1.trigger\nExecuting gdk-pixbuf-2.42.8-r0.trigger\nOK: 399 MiB in 168 packages\nRemoving intermediate container c4dc6beebf80\n ---> e295db42c779\nStep 6/30 : RUN npm install node-gyp -g\n ---> Running in 98b2630bed98\n\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\nadded 95 packages, and audited 96 packages in 7s\n\n5 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 98b2630bed98\n ---> 18f2d1d24aee\nStep 7/30 : WORKDIR /api\n ---> Running in 59aa9743c84a\nRemoving intermediate container 59aa9743c84a\n ---> afb6c792ad6a\nStep 8/30 : COPY ./packages/system-api/package.json /api/package.json\n ---> e6599fa1042f\nStep 9/30 : RUN npm i\n ---> Running in e904be031bac\n\u001b[91mnpm WARN deprecated apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\nadded 800 packages, and audited 801 packages in 1m\n\n111 packages are looking for funding\n  run `npm fund` for details\n\n6 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container e904be031bac\n ---> 2b158f85fc58\nStep 10/30 : WORKDIR /dashboard\n ---> Running in 521d1739cd1e\nRemoving intermediate container 521d1739cd1e\n ---> 1743ee534609\nStep 11/30 : COPY ./packages/dashboard/package.json /dashboard/package.json\n ---> 1696f3beabe8\nStep 12/30 : RUN npm i\n ---> Running in f31913ef0baf\n\nadded 1323 packages, and audited 1324 packages in 2m\n\n254 packages are looking for funding\n  run `npm fund` for details\n\n7 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container f31913ef0baf\n ---> ce333484af24\nStep 13/30 : WORKDIR /api\n ---> Running in 2a9e217e41e7\nRemoving intermediate container 2a9e217e41e7\n ---> cf3132ba4c3f\nStep 14/30 : COPY ./packages/system-api /api\n ---> c59f054bee27\nStep 15/30 : RUN npm run build\n ---> Running in 8c12efe8fd9b\n\n> system-api@0.8.1 build\n> rm -rf dist && node esbuild.js\n\n\u001b[91m\n  dist/config/migrations/1657299198975-Initial.js            2.7kb\n  dist/config/migrations/1662036689477-AppExposedDomain.js   1.6kb\n  dist/config/migrations/1659645508713-AppVersion.js         1.4kb\n  dist/config/migrations/1660071627328-AppStatusUpdating.js  1.1kb\n\n⚡ Done in 8ms\n\u001b[0m\u001b[91m\n  dist/server.bundle.js       7.8mb ⚠️\n  dist/argon2-DCZ34AEA.node  68.6kb\n\n⚡ Done in 532ms\n\u001b[0mRemoving intermediate container 8c12efe8fd9b\n ---> 76ccce54db6d\nStep 16/30 : WORKDIR /dashboard\n ---> Running in 725a7f7c968d\nRemoving intermediate container 725a7f7c968d\n ---> ca1354618292\nStep 17/30 : COPY ./packages/dashboard /dashboard\n ---> b7c7c0e49267\nStep 18/30 : RUN npm run build\n ---> Running in d762fbe15212\n\n> dashboard@0.8.1 build\n> next build\n\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Linting and checking validity of types...\n\u001b[91merror - ESLint: Failed to load config \"prettier\" to extend from. Referenced from: /dashboard/.eslintrc.js\n\u001b[0minfo  - Creating an optimized production build...\ninfo  - Compiled successfully\ninfo  - Collecting page data...\ninfo  - Generating static pages (0/6)\ninfo  - Generating static pages (1/6)\ninfo  - Generating static pages (2/6)\ninfo  - Generating static pages (4/6)\ninfo  - Generating static pages (6/6)\ninfo  - Finalizing page optimization...\n\nRoute (pages)                              Size     First Load JS\n┌ ○ / (321 ms)                             2.95 kB         225 kB\n├   └ css/ee23d56fbaaddf31.css             62 B\n├   /_app                                  0 B             188 kB\n├ ○ /404                                   482 B           189 kB\n├ ○ /app-store (352 ms)                    36.9 kB         262 kB\n├   └ css/39250b96aa37e5b7.css             339 B\n├ λ /app-store/[id]                        350 B           402 kB\n├ ○ /apps (353 ms)                         1.56 kB         227 kB\n├   └ css/4bde9237a041ba22.css             224 B\n├ λ /apps/[id]                             347 B           402 kB\n└ ○ /settings (339 ms)                     1.54 kB         227 kB\n    └ css/ecb82328eca51e29.css             314 B\n+ First Load JS shared by all              248 kB\n  ├ chunks/framework-ffee79c6390da51e.js   45.7 kB\n  ├ chunks/main-5cebf592faf0463a.js        31.8 kB\n  ├ chunks/pages/_app-a3691f8e3bd2f2fe.js  110 kB\n  ├ chunks/webpack-afa1481dc69e4a5d.js     1.32 kB\n  └ css/a221a428665839bf.css               59.3 kB\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n\nRemoving intermediate container d762fbe15212\n ---> a972639b09ec\nStep 19/30 : FROM node:18-alpine3.16 as app\n ---> 0fa08f92e64b\nStep 20/30 : WORKDIR /\n ---> Running in d612b3076681\nRemoving intermediate container d612b3076681\n ---> 753f69d81ebe\nStep 21/30 : WORKDIR /api\n ---> Running in c728bbe690d1\nRemoving intermediate container c728bbe690d1\n ---> 968f9f5900e6\nStep 22/30 : COPY ./packages/system-api/package.json /api/\n ---> 5e68afa99390\nStep 23/30 : COPY --from=builder /api/dist /api/dist\n ---> 8d2b2bf4a246\nStep 24/30 : WORKDIR /dashboard\n ---> Running in 1a05828ec693\nRemoving intermediate container 1a05828ec693\n ---> e112bd0bdac1\nStep 25/30 : COPY --from=builder /dashboard/next.config.js ./\n ---> 6e236bf151e9\nStep 26/30 : COPY --from=builder /dashboard/public ./public\n ---> 8a41819df603\nStep 27/30 : COPY --from=builder /dashboard/package.json ./package.json\n ---> cb407a92bdb2\nStep 28/30 : COPY --from=builder --chown=node:node /dashboard/.next/standalone ./\n ---> 6fb78cda552e\nStep 29/30 : COPY --from=builder --chown=node:node /dashboard/.next/static ./.next/static\n ---> 5ae9004dd5c9\nStep 30/30 : WORKDIR /\n ---> Running in 2dbfa16ae77b\nRemoving intermediate container 2dbfa16ae77b\n ---> 87dd3d84835a\nSuccessfully built 87dd3d84835a\nSuccessfully tagged runtipi:latest\n","stderr":"","imageSize":195754321},"endTime":1672611077311}