{"repository":"https://github.com/agorf/what2read","dockerfilePath":"Dockerfile","startTime":1672755864693,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/agorf/what2read'...\n","error":null,"commit":"a768900c440425906881dad767f798ee03e97217"},"originalBuild":{"startTimestamp":1672755865609,"endTimestamp":1672755896382,"error":null,"stdout":"Sending build context to Docker daemon  477.7kB\r\r\nStep 1/10 : FROM ruby:2.6-alpine\n2.6-alpine: Pulling from library/ruby\ndf9b9388f04a: Already exists\n837e9cfc7e43: Pulling fs layer\nc7850f1a8c23: Pulling fs layer\nb303053af850: Pulling fs layer\nf3d5bf52dffa: Pulling fs layer\nf3d5bf52dffa: Waiting\nc7850f1a8c23: Download complete\n837e9cfc7e43: Verifying Checksum\n837e9cfc7e43: Download complete\n837e9cfc7e43: Pull complete\nf3d5bf52dffa: Verifying Checksum\nf3d5bf52dffa: Download complete\nc7850f1a8c23: Pull complete\nb303053af850: Verifying Checksum\nb303053af850: Download complete\nb303053af850: Pull complete\nf3d5bf52dffa: Pull complete\nDigest: sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762\nStatus: Downloaded newer image for ruby:2.6-alpine\n ---> 2254a013410a\nStep 2/10 : LABEL maintainer=\"me@agorf.gr\"\n ---> Running in 2c845c88920b\nRemoving intermediate container 2c845c88920b\n ---> 027ede136cdb\nStep 3/10 : RUN apk update && apk add       build-base       sqlite-dev\n ---> Running in c7f7f28e061d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15868 distinct packages available\n(1/19) Installing binutils (2.37-r3)\n(2/19) Installing libmagic (5.41-r0)\n(3/19) Installing file (5.41-r0)\n(4/19) Installing libgomp (10.3.1_git20211027-r0)\n(5/19) Installing libatomic (10.3.1_git20211027-r0)\n(6/19) Installing libgphobos (10.3.1_git20211027-r0)\n(7/19) Installing isl22 (0.22-r0)\n(8/19) Installing mpfr4 (4.1.0-r0)\n(9/19) Installing mpc1 (1.2.1-r0)\n(10/19) Installing gcc (10.3.1_git20211027-r0)\n(11/19) Installing musl-dev (1.2.2-r7)\n(12/19) Installing libc-dev (0.7.2-r3)\n(13/19) Installing g++ (10.3.1_git20211027-r0)\n(14/19) Installing make (4.3-r0)\n(15/19) Installing fortify-headers (1.1-r1)\n(16/19) Installing patch (2.7.6-r7)\n(17/19) Installing build-base (0.5-r3)\n(18/19) Installing sqlite-libs (3.36.0-r0)\n(19/19) Installing sqlite-dev (3.36.0-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 210 MiB in 55 packages\nRemoving intermediate container c7f7f28e061d\n ---> e1e4705ddf39\nStep 4/10 : WORKDIR /usr/src/app/\n ---> Running in 26777e2df86d\nRemoving intermediate container 26777e2df86d\n ---> fde0fdd3972d\nStep 5/10 : COPY Gemfile Gemfile.lock ./\n ---> 572bab36c056\nStep 6/10 : RUN bundle install\n ---> Running in f231f04b52ca\nFetching gem metadata from https://rubygems.org/......\nUsing bundler 1.17.2\nFetching coderay 1.1.1\nInstalling coderay 1.1.1\nFetching dotenv 2.2.0\nInstalling dotenv 2.2.0\nFetching method_source 0.8.2\nInstalling method_source 0.8.2\nFetching mini_portile2 2.8.0\nInstalling mini_portile2 2.8.0\nFetching ruby2_keywords 0.0.5\nInstalling ruby2_keywords 0.0.5\nFetching mustermann 2.0.2\nInstalling mustermann 2.0.2\nFetching racc 1.6.1\nInstalling racc 1.6.1 with native extensions\nFetching nokogiri 1.13.10 (x86_64-linux)\nInstalling nokogiri 1.13.10 (x86_64-linux)\nFetching oauth 0.5.5\nInstalling oauth 0.5.5\nFetching slop 3.6.0\nInstalling slop 3.6.0\nFetching pry 0.10.4\nInstalling pry 0.10.4\nFetching rack 2.2.4\nInstalling rack 2.2.4\nFetching rack-protection 2.2.3\nInstalling rack-protection 2.2.3\nFetching sequel 4.43.0\nInstalling sequel 4.43.0\nFetching tilt 2.0.11\nInstalling tilt 2.0.11\nFetching sinatra 2.2.3\nInstalling sinatra 2.2.3\nFetching sqlite3 1.3.13\nInstalling sqlite3 1.3.13 with native extensions\nBundle complete! 7 Gemfile dependencies, 18 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container f231f04b52ca\n ---> a071cb76a31c\nStep 7/10 : COPY . .\n ---> 79a3e41346d4\nStep 8/10 : RUN bundle install\n ---> Running in 0735ed8a0f00\nUsing bundler 1.17.2\nUsing coderay 1.1.1\nUsing dotenv 2.2.0\nUsing method_source 0.8.2\nUsing mini_portile2 2.8.0\nUsing ruby2_keywords 0.0.5\nUsing mustermann 2.0.2\nUsing racc 1.6.1\nUsing nokogiri 1.13.10 (x86_64-linux)\nUsing oauth 0.5.5\nUsing slop 3.6.0\nUsing pry 0.10.4\nUsing rack 2.2.4\nUsing rack-protection 2.2.3\nUsing sequel 4.43.0\nUsing tilt 2.0.11\nUsing sinatra 2.2.3\nUsing sqlite3 1.3.13\nBundle complete! 7 Gemfile dependencies, 18 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 0735ed8a0f00\n ---> 68273cea629e\nStep 9/10 : EXPOSE 9292\n ---> Running in 908b07481880\nRemoving intermediate container 908b07481880\n ---> b28f8ef41774\nStep 10/10 : CMD [\"bundle\", \"exec\", \"rackup\", \"-I\", \"lib\", \"-o\", \"0.0.0.0\"]\n ---> Running in 8df98e29c1e2\nRemoving intermediate container 8df98e29c1e2\n ---> 7ee73a9446bb\nSuccessfully built 7ee73a9446bb\nSuccessfully tagged what2read:latest\n","stderr":"","imageSize":295387986},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":6,"columnStart":18,"columnEnd":16}}],"repairedDockerfile":"FROM ruby:2.6-alpine\n\nLABEL maintainer=\"me@agorf.gr\"\n\nRUN apk update && apk add --no-cache \\\n      build-base \\\n      sqlite-dev\n\nWORKDIR /usr/src/app/\n\nCOPY Gemfile Gemfile.lock ./\nRUN bundle install\n\nCOPY . .\n\nRUN bundle install\n\nEXPOSE 9292\n\nCMD [\"bundle\", \"exec\", \"rackup\", \"-I\", \"lib\", \"-o\", \"0.0.0.0\"]\n"},"repairedBuild":{"startTimestamp":1672755896780,"endTimestamp":1672755922136,"error":null,"stdout":"Sending build context to Docker daemon  477.7kB\r\r\nStep 1/10 : FROM ruby:2.6-alpine\n ---> 2254a013410a\nStep 2/10 : LABEL maintainer=\"me@agorf.gr\"\n ---> Running in 3183f6ebf382\nRemoving intermediate container 3183f6ebf382\n ---> c63f84f64091\nStep 3/10 : RUN apk update && apk add --no-cache       build-base       sqlite-dev\n ---> Running in 8a370a7689bb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15868 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing binutils (2.37-r3)\n(2/19) Installing libmagic (5.41-r0)\n(3/19) Installing file (5.41-r0)\n(4/19) Installing libgomp (10.3.1_git20211027-r0)\n(5/19) Installing libatomic (10.3.1_git20211027-r0)\n(6/19) Installing libgphobos (10.3.1_git20211027-r0)\n(7/19) Installing isl22 (0.22-r0)\n(8/19) Installing mpfr4 (4.1.0-r0)\n(9/19) Installing mpc1 (1.2.1-r0)\n(10/19) Installing gcc (10.3.1_git20211027-r0)\n(11/19) Installing musl-dev (1.2.2-r7)\n(12/19) Installing libc-dev (0.7.2-r3)\n(13/19) Installing g++ (10.3.1_git20211027-r0)\n(14/19) Installing make (4.3-r0)\n(15/19) Installing fortify-headers (1.1-r1)\n(16/19) Installing patch (2.7.6-r7)\n(17/19) Installing build-base (0.5-r3)\n(18/19) Installing sqlite-libs (3.36.0-r0)\n(19/19) Installing sqlite-dev (3.36.0-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 210 MiB in 55 packages\nRemoving intermediate container 8a370a7689bb\n ---> 6b9dbe22e8a9\nStep 4/10 : WORKDIR /usr/src/app/\n ---> Running in 1909786372f5\nRemoving intermediate container 1909786372f5\n ---> e608867ef60e\nStep 5/10 : COPY Gemfile Gemfile.lock ./\n ---> 88fe99e95644\nStep 6/10 : RUN bundle install\n ---> Running in 4d2e6ff514cf\nFetching gem metadata from https://rubygems.org/......\nUsing bundler 1.17.2\nFetching coderay 1.1.1\nInstalling coderay 1.1.1\nFetching dotenv 2.2.0\nInstalling dotenv 2.2.0\nFetching method_source 0.8.2\nInstalling method_source 0.8.2\nFetching mini_portile2 2.8.0\nInstalling mini_portile2 2.8.0\nFetching ruby2_keywords 0.0.5\nInstalling ruby2_keywords 0.0.5\nFetching mustermann 2.0.2\nInstalling mustermann 2.0.2\nFetching racc 1.6.1\nInstalling racc 1.6.1 with native extensions\nFetching nokogiri 1.13.10 (x86_64-linux)\nInstalling nokogiri 1.13.10 (x86_64-linux)\nFetching oauth 0.5.5\nInstalling oauth 0.5.5\nFetching slop 3.6.0\nInstalling slop 3.6.0\nFetching pry 0.10.4\nInstalling pry 0.10.4\nFetching rack 2.2.4\nInstalling rack 2.2.4\nFetching rack-protection 2.2.3\nInstalling rack-protection 2.2.3\nFetching sequel 4.43.0\nInstalling sequel 4.43.0\nFetching tilt 2.0.11\nInstalling tilt 2.0.11\nFetching sinatra 2.2.3\nInstalling sinatra 2.2.3\nFetching sqlite3 1.3.13\nInstalling sqlite3 1.3.13 with native extensions\nBundle complete! 7 Gemfile dependencies, 18 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 4d2e6ff514cf\n ---> 7b025e197415\nStep 7/10 : COPY . .\n ---> ee32b0217abe\nStep 8/10 : RUN bundle install\n ---> Running in e520bc4e4adc\nUsing bundler 1.17.2\nUsing coderay 1.1.1\nUsing dotenv 2.2.0\nUsing method_source 0.8.2\nUsing mini_portile2 2.8.0\nUsing ruby2_keywords 0.0.5\nUsing mustermann 2.0.2\nUsing racc 1.6.1\nUsing nokogiri 1.13.10 (x86_64-linux)\nUsing oauth 0.5.5\nUsing slop 3.6.0\nUsing pry 0.10.4\nUsing rack 2.2.4\nUsing rack-protection 2.2.3\nUsing sequel 4.43.0\nUsing tilt 2.0.11\nUsing sinatra 2.2.3\nUsing sqlite3 1.3.13\nBundle complete! 7 Gemfile dependencies, 18 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container e520bc4e4adc\n ---> a27feb94a9f9\nStep 9/10 : EXPOSE 9292\n ---> Running in 238f56cc2532\nRemoving intermediate container 238f56cc2532\n ---> a39e5c07be5f\nStep 10/10 : CMD [\"bundle\", \"exec\", \"rackup\", \"-I\", \"lib\", \"-o\", \"0.0.0.0\"]\n ---> Running in d53b36e2f9d6\nRemoving intermediate container d53b36e2f9d6\n ---> 2370dd074be7\nSuccessfully built 2370dd074be7\nSuccessfully tagged what2read:latest\n","stderr":"","imageSize":295388000},"endTime":1672755922590}