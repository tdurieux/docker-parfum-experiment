{"repository":"https://github.com/meshery/meshery-osm","dockerfilePath":"Dockerfile","startTime":1672280311279,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/meshery/meshery-osm'...\n","error":null,"commit":"49d5aaf323a7aa02662e905046d3b946c3cbe22e"},"originalBuild":{"startTimestamp":1672280312398,"endTimestamp":1672280541714,"error":null,"stdout":"Sending build context to Docker daemon  28.08MB\r\r\nStep 1/19 : FROM golang:1.19 as build-env\n1.19: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Pulling fs layer\n3a3324c1d283: Pulling fs layer\nea43a17566db: Pulling fs layer\nea43a17566db: Waiting\nc768848b86a2: Verifying Checksum\nc768848b86a2: Download complete\nea43a17566db: Verifying Checksum\nea43a17566db: Download complete\n3a3324c1d283: Verifying Checksum\n3a3324c1d283: Download complete\nc768848b86a2: Pull complete\n3a3324c1d283: Pull complete\nea43a17566db: Pull complete\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19\n ---> 6650307efe4a\nStep 2/19 : ARG VERSION\n ---> Running in a19eafb8e2e3\nRemoving intermediate container a19eafb8e2e3\n ---> 5fa44ab4fcf3\nStep 3/19 : ARG GIT_COMMITSHA\n ---> Running in d0cd1c1e7ed4\nRemoving intermediate container d0cd1c1e7ed4\n ---> d15760d9412d\nStep 4/19 : WORKDIR /github.com/layer5io/meshery-osm\n ---> Running in 6ca34faac1f4\nRemoving intermediate container 6ca34faac1f4\n ---> 933b1cc62a30\nStep 5/19 : COPY go.mod go.sum ./\n ---> 749cc61334a6\nStep 6/19 : RUN go mod download\n ---> Running in 9491270d6ffe\nRemoving intermediate container 9491270d6ffe\n ---> b75a707101db\nStep 7/19 : COPY main.go main.go\n ---> b5547d934b8c\nStep 8/19 : COPY internal/ internal/\n ---> a76153c3db03\nStep 9/19 : COPY osm/ osm/\n ---> 6d290a8fbda5\nStep 10/19 : COPY build/ build/\n ---> 56777a107858\nStep 11/19 : RUN GOPROXY=https://proxy.golang.org,direct CGO_ENABLED=0 GOOS=linux GO111MODULE=on go build -ldflags=\"-w -s -X main.version=$VERSION -X main.gitsha=$GIT_COMMITSHA\" -a -o meshery-osm main.go\n ---> Running in 10045cd372bc\nRemoving intermediate container 10045cd372bc\n ---> 3e20b6609fe1\nStep 12/19 : FROM gcr.io/distroless/nodejs:16\n16: Pulling from distroless/nodejs\nfc251a6e7981: Pulling fs layer\nfda4ba87f6fb: Pulling fs layer\na1f1879bb7de: Pulling fs layer\n51dfcb876247: Pulling fs layer\n51dfcb876247: Waiting\na1f1879bb7de: Verifying Checksum\na1f1879bb7de: Download complete\nfda4ba87f6fb: Verifying Checksum\nfda4ba87f6fb: Download complete\nfc251a6e7981: Download complete\n51dfcb876247: Verifying Checksum\n51dfcb876247: Download complete\nfc251a6e7981: Pull complete\nfda4ba87f6fb: Pull complete\na1f1879bb7de: Pull complete\n51dfcb876247: Pull complete\nDigest: sha256:4e52ed00e9d6ae22d503d0504666e4ffbad39d6c756f52308022a0845bf230fa\nStatus: Downloaded newer image for gcr.io/distroless/nodejs:16\n ---> 37d336bef6f0\nStep 13/19 : ENV DISTRO=\"debian\"\n ---> Running in efa1bfbfd756\nRemoving intermediate container efa1bfbfd756\n ---> f6948bd65ec7\nStep 14/19 : ENV SERVICE_ADDR=\"meshery-osm\"\n ---> Running in e70a61cc3fac\nRemoving intermediate container e70a61cc3fac\n ---> 41cbff6f4fd2\nStep 15/19 : ENV MESHERY_SERVER=\"http://meshery:9081\"\n ---> Running in 14749295d5c9\nRemoving intermediate container 14749295d5c9\n ---> 8ab72ff8785f\nStep 16/19 : WORKDIR /\n ---> Running in 079f31ab334c\nRemoving intermediate container 079f31ab334c\n ---> f472133e7f4f\nStep 17/19 : COPY templates/ ./templates\n ---> dc2859f87d8c\nStep 18/19 : COPY --from=build-env /github.com/layer5io/meshery-osm/meshery-osm .\n ---> fce79a93971a\nStep 19/19 : ENTRYPOINT [\"/meshery-osm\"]\n ---> Running in f9b2091962d1\nRemoving intermediate container f9b2091962d1\n ---> fea7783f760c\nSuccessfully built fea7783f760c\nSuccessfully tagged meshery-osm:latest\n","stderr":"","imageSize":188844327},"repair":{"violations":[],"repairedDockerfile":"FROM golang:1.19 as build-env\nARG VERSION\nARG GIT_COMMITSHA\nWORKDIR /github.com/layer5io/meshery-osm\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY main.go main.go\nCOPY internal/ internal/\nCOPY osm/ osm/\nCOPY build/ build/\nRUN GOPROXY=https://proxy.golang.org,direct CGO_ENABLED=0 GOOS=linux GO111MODULE=on go build -ldflags=\"-w -s -X main.version=$VERSION -X main.gitsha=$GIT_COMMITSHA\" -a -o meshery-osm main.go\nFROM gcr.io/distroless/nodejs:16\nENV DISTRO=\"debian\"\nENV SERVICE_ADDR=\"meshery-osm\"\nENV MESHERY_SERVER=\"http://meshery:9081\"\nWORKDIR /\nCOPY templates/ ./templates\nCOPY --from=build-env /github.com/layer5io/meshery-osm/meshery-osm .\nENTRYPOINT [\"/meshery-osm\"]\n"},"endTime":1672280542123}