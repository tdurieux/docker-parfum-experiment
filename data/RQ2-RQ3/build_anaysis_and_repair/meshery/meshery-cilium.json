{"repository":"https://github.com/meshery/meshery-cilium","dockerfilePath":"Dockerfile","startTime":1672009945422,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/meshery/meshery-cilium'...\n","error":null,"commit":"d2490b2183e7ac5fd1b7f5bd5f9fd9680df815d2"},"originalBuild":{"startTimestamp":1672009946395,"endTimestamp":1672010045383,"error":null,"stdout":"Sending build context to Docker daemon  4.197MB\r\r\nStep 1/19 : FROM golang:1.19 as build-env\n ---> 6650307efe4a\nStep 2/19 : ARG VERSION\n ---> Running in e7318016573e\nRemoving intermediate container e7318016573e\n ---> 46c6f5c8f5dc\nStep 3/19 : ARG GIT_COMMITSHA\n ---> Running in 3cc6fbb5f90b\nRemoving intermediate container 3cc6fbb5f90b\n ---> dce9eab1959d\nStep 4/19 : WORKDIR /github.com/meshery/meshery-cilium\n ---> Running in 633b7e6c5ea1\nRemoving intermediate container 633b7e6c5ea1\n ---> 8fac919b5356\nStep 5/19 : COPY go.mod go.sum ./\n ---> 48e15f45aa3c\nStep 6/19 : RUN go mod download\n ---> Running in 5d99d72ad83c\nRemoving intermediate container 5d99d72ad83c\n ---> 2e1ef51c139f\nStep 7/19 : COPY main.go main.go\n ---> d8f21884c081\nStep 8/19 : COPY internal/ internal/\n ---> e8431f7f3b9e\nStep 9/19 : COPY cilium/ cilium/\n ---> 609b96f3e912\nStep 10/19 : COPY build/ build/\n ---> 2022d4123b8c\nStep 11/19 : RUN CGO_ENABLED=0 GOOS=linux GO111MODULE=on go build -ldflags=\"-w -s -X main.version=$VERSION -X main.gitsha=$GIT_COMMITSHA\" -a -o meshery-cilium main.go\n ---> Running in dd66087a4ddd\nRemoving intermediate container dd66087a4ddd\n ---> e9e6d044d4ce\nStep 12/19 : FROM gcr.io/distroless/nodejs:16\n16: Pulling from distroless/nodejs\nfc251a6e7981: Already exists\nfda4ba87f6fb: Already exists\na1f1879bb7de: Already exists\n51dfcb876247: Pulling fs layer\n51dfcb876247: Verifying Checksum\n51dfcb876247: Download complete\n51dfcb876247: Pull complete\nDigest: sha256:4e52ed00e9d6ae22d503d0504666e4ffbad39d6c756f52308022a0845bf230fa\nStatus: Downloaded newer image for gcr.io/distroless/nodejs:16\n ---> 37d336bef6f0\nStep 13/19 : ENV DISTRO=\"debian\"\n ---> Running in 08f8acdd4f7c\nRemoving intermediate container 08f8acdd4f7c\n ---> bc05e37a587c\nStep 14/19 : ENV SERVICE_ADDR=\"meshery-cilium\"\n ---> Running in 6e9d2f833705\nRemoving intermediate container 6e9d2f833705\n ---> f63a904f49e9\nStep 15/19 : ENV MESHERY_SERVER=\"http://meshery:9081\"\n ---> Running in de3ccaad09ff\nRemoving intermediate container de3ccaad09ff\n ---> 3a1cc15b9924\nStep 16/19 : WORKDIR /\n ---> Running in d7373dfe0b51\nRemoving intermediate container d7373dfe0b51\n ---> 16556221a9a9\nStep 17/19 : COPY templates/ ./templates\n ---> b16ab5aef9bb\nStep 18/19 : COPY --from=build-env /github.com/meshery/meshery-cilium/meshery-cilium .\n ---> 378a1248fe76\nStep 19/19 : ENTRYPOINT [\"./meshery-cilium\"]\n ---> Running in b817fb966bbb\nRemoving intermediate container b817fb966bbb\n ---> f82cc28aca24\nSuccessfully built f82cc28aca24\nSuccessfully tagged meshery-cilium:latest\n","stderr":"","imageSize":167307340},"repair":{"violations":[],"repairedDockerfile":"FROM golang:1.19 as build-env\nARG VERSION\nARG GIT_COMMITSHA\n\nWORKDIR /github.com/meshery/meshery-cilium\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY main.go main.go\nCOPY internal/ internal/\nCOPY cilium/ cilium/\nCOPY build/ build/\nRUN CGO_ENABLED=0 GOOS=linux GO111MODULE=on go build -ldflags=\"-w -s -X main.version=$VERSION -X main.gitsha=$GIT_COMMITSHA\" -a -o meshery-cilium main.go\n\n# Use distroless as minimal base image to package the manager binary\n# Refer to https://github.com/GoogleContainerTools/distroless for more details\nFROM gcr.io/distroless/nodejs:16\nENV DISTRO=\"debian\"\nENV SERVICE_ADDR=\"meshery-cilium\"\nENV MESHERY_SERVER=\"http://meshery:9081\"\nWORKDIR /\nCOPY templates/ ./templates\nCOPY --from=build-env /github.com/meshery/meshery-cilium/meshery-cilium .\nENTRYPOINT [\"./meshery-cilium\"]\n"},"endTime":1672010045712}