{"repository":"https://github.com/floens/uchan","dockerfilePath":"Dockerfile","startTime":1673053121185,"endTime":1673053335782,"clone":{"startTime":1673053121185,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/floens/uchan'...\n","error":null,"endTime":1673053121950,"commit":"1ed5c84c555ef70ae1fe202434a24a0167214529"},"originalBuild":{"startTime":1673053122017,"endTime":1673053245973,"error":null,"stdout":"Sending build context to Docker daemon  592.9kB\r\r\nStep 1/9 : FROM alpine:3.6\n3.6: Pulling from library/alpine\n5a3ea8efae5d: Pulling fs layer\n5a3ea8efae5d: Verifying Checksum\n5a3ea8efae5d: Download complete\n5a3ea8efae5d: Pull complete\nDigest: sha256:66790a2b79e1ea3e1dabac43990c54aca5d1ddf268d9a5a0285e4167c8b24475\nStatus: Downloaded newer image for alpine:3.6\n ---> 43773d1dba76\nStep 2/9 : RUN apk update &&    apk add python3-dev             uwsgi uwsgi-python3             build-base bash             libffi-dev             libjpeg-turbo-dev             zlib-dev             postgresql-dev postgresql-client             nodejs nodejs-npm\n ---> Running in 86084a4073d7\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\nv3.6.5-44-gda55e27396 [http://dl-cdn.alpinelinux.org/alpine/v3.6/main]\nv3.6.5-34-gf0ba0b43d5 [http://dl-cdn.alpinelinux.org/alpine/v3.6/community]\nOK: 8442 distinct packages available\n(1/58) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(2/58) Installing ncurses-terminfo (6.0_p20171125-r1)\n(3/58) Installing ncurses-libs (6.0_p20171125-r1)\n(4/58) Installing readline (6.3.008-r5)\n(5/58) Installing bash (4.3.48-r1)\nExecuting bash-4.3.48-r1.post-install\n(6/58) Installing binutils-libs (2.30-r1)\n(7/58) Installing binutils (2.30-r1)\n(8/58) Installing gmp (6.1.2-r0)\n(9/58) Installing isl (0.17.1-r0)\n(10/58) Installing libgomp (6.3.0-r4)\n(11/58) Installing libatomic (6.3.0-r4)\n(12/58) Installing pkgconf (1.3.7-r0)\n(13/58) Installing libgcc (6.3.0-r4)\n(14/58) Installing mpfr3 (3.1.5-r0)\n(15/58) Installing mpc1 (1.0.3-r0)\n(16/58) Installing libstdc++ (6.3.0-r4)\n(17/58) Installing gcc (6.3.0-r4)\n(18/58) Installing musl-dev (1.1.16-r15)\n(19/58) Installing libc-dev (0.7.1-r0)\n(20/58) Installing g++ (6.3.0-r4)\n(21/58) Installing make (4.2.1-r0)\n(22/58) Installing fortify-headers (0.8-r0)\n(23/58) Installing build-base (0.5-r0)\n(24/58) Installing libffi (3.2.1-r3)\n(25/58) Installing libffi-dev (3.2.1-r3)\n(26/58) Installing libjpeg-turbo (1.5.3-r2)\n(27/58) Installing libjpeg-turbo-dev (1.5.3-r2)\n(28/58) Installing ca-certificates (20161130-r3)\n(29/58) Installing libcrypto1.0 (1.0.2r-r0)\n(30/58) Installing http-parser (2.7.1-r1)\n(31/58) Installing libssl1.0 (1.0.2r-r0)\n(32/58) Installing libuv (1.11.0-r1)\n(33/58) Installing nodejs (6.10.3-r2)\n(34/58) Installing nodejs-npm (6.10.3-r2)\n(35/58) Installing libedit (20170329.3.1-r2)\n(36/58) Installing db (5.3.28-r0)\n(37/58) Installing libsasl (2.1.26-r10)\n(38/58) Installing libldap (2.4.44-r5)\n(39/58) Installing libpq (9.6.13-r0)\n(40/58) Installing postgresql-client (9.6.13-r0)\n(41/58) Installing libressl-dev (2.5.5-r2)\n(42/58) Installing postgresql-libs (9.6.13-r0)\n(43/58) Installing postgresql-dev (9.6.13-r0)\n(44/58) Installing libbz2 (1.0.6-r5)\n(45/58) Installing expat (2.2.0-r1)\n(46/58) Installing gdbm (1.12-r0)\n(47/58) Installing xz-libs (5.2.3-r0)\n(48/58) Installing sqlite-libs (3.25.3-r0)\n(49/58) Installing python3 (3.6.8-r0)\n(50/58) Installing python3-dev (3.6.8-r0)\n(51/58) Installing mailcap (2.1.47-r0)\n(52/58) Installing libcap (2.25-r1)\n(53/58) Installing jansson (2.10-r0)\n(54/58) Installing pcre (8.41-r0)\n(55/58) Installing libxml2 (2.9.8-r1)\n(56/58) Installing uwsgi (2.0.17-r0)\nExecuting uwsgi-2.0.17-r0.pre-install\n(57/58) Installing uwsgi-python3 (2.0.17-r0)\n(58/58) Installing zlib-dev (1.2.11-r0)\nExecuting busybox-1.26.2-r11.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 311 MiB in 71 packages\nRemoving intermediate container 86084a4073d7\n ---> 32101370b239\nStep 3/9 : ADD requirements /opt/app/requirements\n ---> 47a6f3eb4ac6\nStep 4/9 : WORKDIR /opt/app\n ---> Running in d4631487074f\nRemoving intermediate container d4631487074f\n ---> 784ae89f90c1\nStep 5/9 : RUN pip3 install -r requirements\n ---> Running in 3fc334317a36\nCollecting alembic==0.8.8 (from -r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/93/16/d3a04f576a666582da368de60ba09a33e6711377775fd330d0a43bebacc5/alembic-0.8.8.tar.gz (970kB)\nCollecting bcrypt==3.1.2 (from -r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/4e/af/d276cf4ea4ea5ff1f1ee6382e5fd4193b18b834b206dd73ba6b5b0289a15/bcrypt-3.1.2.tar.gz (40kB)\nCollecting celery==4.1.1 (from -r requirements (line 3))\n  Downloading https://files.pythonhosted.org/packages/99/fa/4049b26bfe71992ecf979acd39b87e55b493608613054089d975418015b7/celery-4.1.1-py2.py3-none-any.whl (394kB)\nCollecting Flask==1.1.2 (from -r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/f2/28/2a03252dfb9ebf377f40fba6a7841b47083260bf8bd8e737b0c6952df83f/Flask-1.1.2-py2.py3-none-any.whl (94kB)\nCollecting Flask-Assets==0.12 (from -r requirements (line 5))\n  Downloading https://files.pythonhosted.org/packages/86/ff/6000451570745d7a90847f6528d96d6b24c800eaaf9f26cf398accd8cee5/Flask-Assets-0.12.tar.gz\nCollecting jsmin==2.2.2 (from -r requirements (line 6))\n  Downloading https://files.pythonhosted.org/packages/17/73/615d1267a82ed26cd7c124108c3c61169d8e40c36d393883eaee3a561852/jsmin-2.2.2.tar.gz\nCollecting kombu==4.2.0 (from -r requirements (line 7))\n  Downloading https://files.pythonhosted.org/packages/2f/0d/416d396ee75b7e47e620005ef81a5b8a36c53c85bb148bd82459e8e61b6b/kombu-4.2.0-py2.py3-none-any.whl (853kB)\nCollecting Pillow==4.1.1 (from -r requirements (line 8))\n  Downloading https://files.pythonhosted.org/packages/93/73/66854f63b1941aad9af18a1de59f9cf95ad1a87c801540222e332f6688d7/Pillow-4.1.1.tar.gz (11.3MB)\nCollecting psycopg2==2.7.3.2 (from -r requirements (line 9))\n  Downloading https://files.pythonhosted.org/packages/dd/47/000b405d73ca22980684fd7bd3318690cc03cfa3b2ae1c5b7fff8050b28a/psycopg2-2.7.3.2.tar.gz (425kB)\nCollecting python-dateutil==2.5.3 (from -r requirements (line 10))\n  Downloading https://files.pythonhosted.org/packages/33/68/9eadc96f9899caebd98f55f942d6a8f3fb2b8f8e69ba81a0f771269897e9/python_dateutil-2.5.3-py2.py3-none-any.whl (201kB)\nCollecting python3-memcached==1.51 (from -r requirements (line 11))\n  Downloading https://files.pythonhosted.org/packages/14/fa/cd0d93c30722db0cfa777ec9cd0203fa7da2771a5c70c9908f471944b6e2/python3-memcached-1.51.tar.gz\nCollecting requests==2.11.1 (from -r requirements (line 12))\n  Downloading https://files.pythonhosted.org/packages/ea/03/92d3278bf8287c5caa07dbd9ea139027d5a3592b0f4d14abf072f890fab2/requests-2.11.1-py2.py3-none-any.whl (514kB)\nCollecting SQLAlchemy==1.1.3 (from -r requirements (line 13))\n  Downloading https://files.pythonhosted.org/packages/84/83/322a268e3187c088aa2867c2560869227da5fc7b9a697c5e382df811bd3c/SQLAlchemy-1.1.3.tar.gz (5.1MB)\nCollecting WTForms==2.1 (from -r requirements (line 14))\n  Downloading https://files.pythonhosted.org/packages/bf/91/2e553b86c55e9cf2f33265de50e052441fb753af46f5f20477fe9c61280e/WTForms-2.1.zip (553kB)\nCollecting Werkzeug==0.16.0 (from -r requirements (line 15))\n  Downloading https://files.pythonhosted.org/packages/ce/42/3aeda98f96e85fd26180534d36570e4d18108d62ae36f87694b476b83d6f/Werkzeug-0.16.0-py2.py3-none-any.whl (327kB)\nCollecting Mako (from alembic==0.8.8->-r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/b4/4d/e03d08f16ee10e688bde9016bc80af8b78c7f36a8b37c7194da48f72207e/Mako-1.1.6-py2.py3-none-any.whl (75kB)\nCollecting python-editor>=0.3 (from alembic==0.8.8->-r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/c6/d3/201fc3abe391bbae6606e6f1d598c15d367033332bd54352b12f35513717/python_editor-1.0.4-py3-none-any.whl\nCollecting cffi>=1.1 (from bcrypt==3.1.2->-r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/2b/a8/050ab4f0c3d4c1b8aaa805f70e26e84d0e27004907c5b8ecc1d31815f92a/cffi-1.15.1.tar.gz (508kB)\nCollecting six>=1.4.1 (from bcrypt==3.1.2->-r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl\nCollecting billiard<3.6.0,>=3.5.0.2 (from celery==4.1.1->-r requirements (line 3))\n  Downloading https://files.pythonhosted.org/packages/8b/b7/c2fe04f2522bb02d044347734eeda3ff5c7a632fa7d0401530a371ba73db/billiard-3.5.0.5.tar.gz (150kB)\nCollecting pytz>dev (from celery==4.1.1->-r requirements (line 3))\n  Downloading https://files.pythonhosted.org/packages/3d/19/4de17f0d5cf5a0d87aa67532d4c2fa75e6e7d8df13c27635ff40fa6f4b76/pytz-2022.7-py2.py3-none-any.whl (499kB)\nCollecting Jinja2>=2.10.1 (from Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/20/9a/e5d9ec41927401e41aea8af6d16e78b5e612bca4699d417f646a9610a076/Jinja2-3.0.3-py3-none-any.whl (133kB)\nCollecting click>=5.1 (from Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/4a/a8/0b2ced25639fb20cc1c9784de90a8c25f9504a7f18cd8b5397bd61696d7d/click-8.0.4-py3-none-any.whl (97kB)\nCollecting itsdangerous>=0.24 (from Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/9c/96/26f935afba9cd6140216da5add223a0c465b99d0f112b68a4ca426441019/itsdangerous-2.0.1-py3-none-any.whl\nCollecting webassets>=0.11.1 (from Flask-Assets==0.12->-r requirements (line 5))\n  Downloading https://files.pythonhosted.org/packages/ce/7c/be5d23512974c5843e94aacec163fc31539e91d1e740dd9b886f7714f9d1/webassets-2.0-py3-none-any.whl (142kB)\nCollecting amqp<3.0,>=2.1.4 (from kombu==4.2.0->-r requirements (line 7))\n  Downloading https://files.pythonhosted.org/packages/bc/90/bb5ce93521772f083cb2d7a413bb82eda5afc62b4192adb7ea4c7b4858b9/amqp-2.6.1-py2.py3-none-any.whl (48kB)\nCollecting olefile (from Pillow==4.1.1->-r requirements (line 8))\n  Downloading https://files.pythonhosted.org/packages/34/81/e1ac43c6b45b4c5f8d9352396a14144bba52c8fec72a80f425f6a4d653ad/olefile-0.46.zip (112kB)\nCollecting MarkupSafe>=0.9.2 (from Mako->alembic==0.8.8->-r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/bf/10/ff66fea6d1788c458663a84d88787bae15d45daa16f6b3ef33322a51fc7e/MarkupSafe-2.0.1.tar.gz\nCollecting pycparser (from cffi>=1.1->bcrypt==3.1.2->-r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/62/d5/5f610ebe421e85889f2e55e33b7f9a6795bd982198517d912eb1c76e1a53/pycparser-2.21-py2.py3-none-any.whl (118kB)\nCollecting importlib-metadata; python_version < \"3.8\" (from click>=5.1->Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/a0/a1/b153a0a4caf7a7e3f15c2cd56c7702e2cf3d89b1b359d1f1c5e59d68f4ce/importlib_metadata-4.8.3-py3-none-any.whl\nCollecting vine<5.0.0a1,>=1.1.3 (from amqp<3.0,>=2.1.4->kombu==4.2.0->-r requirements (line 7))\n  Downloading https://files.pythonhosted.org/packages/7f/60/82c03047396126c8331ceb64da1dc52d4f1317209f32e8fe286d0c07365a/vine-1.3.0-py2.py3-none-any.whl\nCollecting typing-extensions>=3.6.4; python_version < \"3.8\" (from importlib-metadata; python_version < \"3.8\"->click>=5.1->Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/45/6b/44f7f8f1e110027cf88956b59f2fad776cca7e1704396d043f89effd3a0e/typing_extensions-4.1.1-py3-none-any.whl\nCollecting zipp>=0.5 (from importlib-metadata; python_version < \"3.8\"->click>=5.1->Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/bd/df/d4a4974a3e3957fd1c1fa3082366d7fff6e428ddb55f074bf64876f8e8ad/zipp-3.6.0-py3-none-any.whl\nInstalling collected packages: SQLAlchemy, MarkupSafe, Mako, python-editor, alembic, pycparser, cffi, six, bcrypt, billiard, pytz, vine, amqp, kombu, celery, Jinja2, typing-extensions, zipp, importlib-metadata, click, itsdangerous, Werkzeug, Flask, webassets, Flask-Assets, jsmin, olefile, Pillow, psycopg2, python-dateutil, python3-memcached, requests, WTForms\n  Running setup.py install for SQLAlchemy: started\n    Running setup.py install for SQLAlchemy: finished with status 'done'\n  Running setup.py install for MarkupSafe: started\n    Running setup.py install for MarkupSafe: finished with status 'done'\n  Running setup.py install for alembic: started\n    Running setup.py install for alembic: finished with status 'done'\n  Running setup.py install for cffi: started\n    Running setup.py install for cffi: finished with status 'done'\n  Running setup.py install for bcrypt: started\n    Running setup.py install for bcrypt: finished with status 'done'\n  Running setup.py install for billiard: started\n    Running setup.py install for billiard: finished with status 'done'\n  Running setup.py install for Flask-Assets: started\n    Running setup.py install for Flask-Assets: finished with status 'done'\n  Running setup.py install for jsmin: started\n    Running setup.py install for jsmin: finished with status 'done'\n  Running setup.py install for olefile: started\n    Running setup.py install for olefile: finished with status 'done'\n  Running setup.py install for Pillow: started\n    Running setup.py install for Pillow: finished with status 'done'\n  Running setup.py install for psycopg2: started\n    Running setup.py install for psycopg2: finished with status 'done'\n  Running setup.py install for python3-memcached: started\n    Running setup.py install for python3-memcached: finished with status 'done'\n  Running setup.py install for WTForms: started\n    Running setup.py install for WTForms: finished with status 'done'\nSuccessfully installed Flask-1.1.2 Flask-Assets-0.12 Jinja2-3.0.3 Mako-1.1.6 MarkupSafe-2.0.1 Pillow-4.1.1 SQLAlchemy-1.1.3 WTForms-2.1 Werkzeug-0.16.0 alembic-0.8.8 amqp-2.6.1 bcrypt-3.1.2 billiard-3.5.0.5 celery-4.1.1 cffi-1.15.1 click-8.0.4 importlib-metadata-4.8.3 itsdangerous-2.0.1 jsmin-2.2.2 kombu-4.2.0 olefile-0.46 psycopg2-2.7.3.2 pycparser-2.21 python-dateutil-2.5.3 python-editor-1.0.4 python3-memcached-1.51 pytz-2022.7 requests-2.11.1 six-1.16.0 typing-extensions-4.1.1 vine-1.3.0 webassets-2.0 zipp-3.6.0\n\u001b[91mYou are using pip version 18.1, however version 21.3.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 3fc334317a36\n ---> ff49fcddb2fc\nStep 6/9 : RUN npm install --no-progress -qpg clean-css@3 typescript\n ---> Running in 0764a13556f8\n\u001b[91mError: could not get uid/gid\n[ 'nobody', 0 ]\n\n    at /usr/lib/node_modules/npm/node_modules/uid-number/uid-number.js:37:16\n    at ChildProcess.exithandler (child_process.js:211:5)\n    at emitTwo (events.js:106:13)\n    at ChildProcess.emit (events.js:191:7)\n    at maybeClose (internal/child_process.js:886:16)\n    at Socket.<anonymous> (internal/child_process.js:342:11)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n    at Pipe._handle.close [as _onclose] (net.js:497:12)\n\u001b[0m\u001b[91m\n\u001b[0mRemoving intermediate container 0764a13556f8\n ---> 7dfd6fce60a3\nStep 7/9 : RUN addgroup -S uchan && adduser -u 1001 -S uchan uchan &&     mkdir -p /tmp/uchanmediaqueue && chown -R uchan:uchan /tmp/uchanmediaqueue\n ---> Running in f3b941e70eb2\nRemoving intermediate container f3b941e70eb2\n ---> 82288f6580f5\nStep 8/9 : ADD . /opt/app\n ---> d620c42bcca8\nStep 9/9 : ENTRYPOINT [\"./docker-entrypoint.sh\"]\n ---> Running in b43d915152c8\nRemoving intermediate container b43d915152c8\n ---> 57395405c43e\nSuccessfully built 57395405c43e\nSuccessfully tagged uchan:latest\n","stderr":"","imageSize":341465216},"repair":{"startTime":1673053246039,"endTime":1673053246138,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":19,"end":19,"columnStart":4,"columnEnd":57}},{"name":"pipUseNoCacheDir","position":{"start":17,"end":17,"columnStart":4,"columnEnd":32}},{"name":"apkAddUseNoCache","position":{"start":6,"end":13,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"# Dockerfile for our appserver ran by uwsgi\n\nFROM alpine:3.6\n\n# Some packages required for compiling some of the python libs, plus uwsgi.\nRUN apk update && \\\n    apk add --no-cache python3-dev \\\n            uwsgi uwsgi-python3 \\\n            build-base bash \\\n            libffi-dev \\\n            libjpeg-turbo-dev \\\n            zlib-dev \\\n            postgresql-dev postgresql-client \\\n            nodejs nodejs-npm\n\nADD requirements /opt/app/requirements\nWORKDIR /opt/app\nRUN pip3 install --no-cache-dir -r requirements\n\nRUN npm install --no-progress -qpg clean-css@3 typescript && npm cache clean --force;\n\nRUN addgroup -S uchan && adduser -u 1001 -S uchan uchan && \\\n    mkdir -p /tmp/uchanmediaqueue && chown -R uchan:uchan /tmp/uchanmediaqueue\n\nADD . /opt/app\n\nENTRYPOINT [\"./docker-entrypoint.sh\"]\n"},"repairedBuild":{"startTime":1673053246584,"endTime":1673053335285,"error":null,"stdout":"Sending build context to Docker daemon  592.9kB\r\r\nStep 1/9 : FROM alpine:3.6\n ---> 43773d1dba76\nStep 2/9 : RUN apk update &&     apk add --no-cache python3-dev             uwsgi uwsgi-python3             build-base bash             libffi-dev             libjpeg-turbo-dev             zlib-dev             postgresql-dev postgresql-client             nodejs nodejs-npm\n ---> Running in b3f33a5f3b6d\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\nv3.6.5-44-gda55e27396 [http://dl-cdn.alpinelinux.org/alpine/v3.6/main]\nv3.6.5-34-gf0ba0b43d5 [http://dl-cdn.alpinelinux.org/alpine/v3.6/community]\nOK: 8442 distinct packages available\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/58) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(2/58) Installing ncurses-terminfo (6.0_p20171125-r1)\n(3/58) Installing ncurses-libs (6.0_p20171125-r1)\n(4/58) Installing readline (6.3.008-r5)\n(5/58) Installing bash (4.3.48-r1)\nExecuting bash-4.3.48-r1.post-install\n(6/58) Installing binutils-libs (2.30-r1)\n(7/58) Installing binutils (2.30-r1)\n(8/58) Installing gmp (6.1.2-r0)\n(9/58) Installing isl (0.17.1-r0)\n(10/58) Installing libgomp (6.3.0-r4)\n(11/58) Installing libatomic (6.3.0-r4)\n(12/58) Installing pkgconf (1.3.7-r0)\n(13/58) Installing libgcc (6.3.0-r4)\n(14/58) Installing mpfr3 (3.1.5-r0)\n(15/58) Installing mpc1 (1.0.3-r0)\n(16/58) Installing libstdc++ (6.3.0-r4)\n(17/58) Installing gcc (6.3.0-r4)\n(18/58) Installing musl-dev (1.1.16-r15)\n(19/58) Installing libc-dev (0.7.1-r0)\n(20/58) Installing g++ (6.3.0-r4)\n(21/58) Installing make (4.2.1-r0)\n(22/58) Installing fortify-headers (0.8-r0)\n(23/58) Installing build-base (0.5-r0)\n(24/58) Installing libffi (3.2.1-r3)\n(25/58) Installing libffi-dev (3.2.1-r3)\n(26/58) Installing libjpeg-turbo (1.5.3-r2)\n(27/58) Installing libjpeg-turbo-dev (1.5.3-r2)\n(28/58) Installing ca-certificates (20161130-r3)\n(29/58) Installing libcrypto1.0 (1.0.2r-r0)\n(30/58) Installing http-parser (2.7.1-r1)\n(31/58) Installing libssl1.0 (1.0.2r-r0)\n(32/58) Installing libuv (1.11.0-r1)\n(33/58) Installing nodejs (6.10.3-r2)\n(34/58) Installing nodejs-npm (6.10.3-r2)\n(35/58) Installing libedit (20170329.3.1-r2)\n(36/58) Installing db (5.3.28-r0)\n(37/58) Installing libsasl (2.1.26-r10)\n(38/58) Installing libldap (2.4.44-r5)\n(39/58) Installing libpq (9.6.13-r0)\n(40/58) Installing postgresql-client (9.6.13-r0)\n(41/58) Installing libressl-dev (2.5.5-r2)\n(42/58) Installing postgresql-libs (9.6.13-r0)\n(43/58) Installing postgresql-dev (9.6.13-r0)\n(44/58) Installing libbz2 (1.0.6-r5)\n(45/58) Installing expat (2.2.0-r1)\n(46/58) Installing gdbm (1.12-r0)\n(47/58) Installing xz-libs (5.2.3-r0)\n(48/58) Installing sqlite-libs (3.25.3-r0)\n(49/58) Installing python3 (3.6.8-r0)\n(50/58) Installing python3-dev (3.6.8-r0)\n(51/58) Installing mailcap (2.1.47-r0)\n(52/58) Installing libcap (2.25-r1)\n(53/58) Installing jansson (2.10-r0)\n(54/58) Installing pcre (8.41-r0)\n(55/58) Installing libxml2 (2.9.8-r1)\n(56/58) Installing uwsgi (2.0.17-r0)\nExecuting uwsgi-2.0.17-r0.pre-install\n(57/58) Installing uwsgi-python3 (2.0.17-r0)\n(58/58) Installing zlib-dev (1.2.11-r0)\nExecuting busybox-1.26.2-r11.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 311 MiB in 71 packages\nRemoving intermediate container b3f33a5f3b6d\n ---> 981600e045cf\nStep 3/9 : ADD requirements /opt/app/requirements\n ---> c4344415b770\nStep 4/9 : WORKDIR /opt/app\n ---> Running in aa1437dc533d\nRemoving intermediate container aa1437dc533d\n ---> 37a914678dd5\nStep 5/9 : RUN pip3 install --no-cache-dir -r requirements\n ---> Running in 25103c31c74e\nCollecting alembic==0.8.8 (from -r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/93/16/d3a04f576a666582da368de60ba09a33e6711377775fd330d0a43bebacc5/alembic-0.8.8.tar.gz (970kB)\nCollecting bcrypt==3.1.2 (from -r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/4e/af/d276cf4ea4ea5ff1f1ee6382e5fd4193b18b834b206dd73ba6b5b0289a15/bcrypt-3.1.2.tar.gz (40kB)\nCollecting celery==4.1.1 (from -r requirements (line 3))\n  Downloading https://files.pythonhosted.org/packages/99/fa/4049b26bfe71992ecf979acd39b87e55b493608613054089d975418015b7/celery-4.1.1-py2.py3-none-any.whl (394kB)\nCollecting Flask==1.1.2 (from -r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/f2/28/2a03252dfb9ebf377f40fba6a7841b47083260bf8bd8e737b0c6952df83f/Flask-1.1.2-py2.py3-none-any.whl (94kB)\nCollecting Flask-Assets==0.12 (from -r requirements (line 5))\n  Downloading https://files.pythonhosted.org/packages/86/ff/6000451570745d7a90847f6528d96d6b24c800eaaf9f26cf398accd8cee5/Flask-Assets-0.12.tar.gz\nCollecting jsmin==2.2.2 (from -r requirements (line 6))\n  Downloading https://files.pythonhosted.org/packages/17/73/615d1267a82ed26cd7c124108c3c61169d8e40c36d393883eaee3a561852/jsmin-2.2.2.tar.gz\nCollecting kombu==4.2.0 (from -r requirements (line 7))\n  Downloading https://files.pythonhosted.org/packages/2f/0d/416d396ee75b7e47e620005ef81a5b8a36c53c85bb148bd82459e8e61b6b/kombu-4.2.0-py2.py3-none-any.whl (853kB)\nCollecting Pillow==4.1.1 (from -r requirements (line 8))\n  Downloading https://files.pythonhosted.org/packages/93/73/66854f63b1941aad9af18a1de59f9cf95ad1a87c801540222e332f6688d7/Pillow-4.1.1.tar.gz (11.3MB)\nCollecting psycopg2==2.7.3.2 (from -r requirements (line 9))\n  Downloading https://files.pythonhosted.org/packages/dd/47/000b405d73ca22980684fd7bd3318690cc03cfa3b2ae1c5b7fff8050b28a/psycopg2-2.7.3.2.tar.gz (425kB)\nCollecting python-dateutil==2.5.3 (from -r requirements (line 10))\n  Downloading https://files.pythonhosted.org/packages/33/68/9eadc96f9899caebd98f55f942d6a8f3fb2b8f8e69ba81a0f771269897e9/python_dateutil-2.5.3-py2.py3-none-any.whl (201kB)\nCollecting python3-memcached==1.51 (from -r requirements (line 11))\n  Downloading https://files.pythonhosted.org/packages/14/fa/cd0d93c30722db0cfa777ec9cd0203fa7da2771a5c70c9908f471944b6e2/python3-memcached-1.51.tar.gz\nCollecting requests==2.11.1 (from -r requirements (line 12))\n  Downloading https://files.pythonhosted.org/packages/ea/03/92d3278bf8287c5caa07dbd9ea139027d5a3592b0f4d14abf072f890fab2/requests-2.11.1-py2.py3-none-any.whl (514kB)\nCollecting SQLAlchemy==1.1.3 (from -r requirements (line 13))\n  Downloading https://files.pythonhosted.org/packages/84/83/322a268e3187c088aa2867c2560869227da5fc7b9a697c5e382df811bd3c/SQLAlchemy-1.1.3.tar.gz (5.1MB)\nCollecting WTForms==2.1 (from -r requirements (line 14))\n  Downloading https://files.pythonhosted.org/packages/bf/91/2e553b86c55e9cf2f33265de50e052441fb753af46f5f20477fe9c61280e/WTForms-2.1.zip (553kB)\nCollecting Werkzeug==0.16.0 (from -r requirements (line 15))\n  Downloading https://files.pythonhosted.org/packages/ce/42/3aeda98f96e85fd26180534d36570e4d18108d62ae36f87694b476b83d6f/Werkzeug-0.16.0-py2.py3-none-any.whl (327kB)\nCollecting Mako (from alembic==0.8.8->-r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/b4/4d/e03d08f16ee10e688bde9016bc80af8b78c7f36a8b37c7194da48f72207e/Mako-1.1.6-py2.py3-none-any.whl (75kB)\nCollecting python-editor>=0.3 (from alembic==0.8.8->-r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/c6/d3/201fc3abe391bbae6606e6f1d598c15d367033332bd54352b12f35513717/python_editor-1.0.4-py3-none-any.whl\nCollecting cffi>=1.1 (from bcrypt==3.1.2->-r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/2b/a8/050ab4f0c3d4c1b8aaa805f70e26e84d0e27004907c5b8ecc1d31815f92a/cffi-1.15.1.tar.gz (508kB)\nCollecting six>=1.4.1 (from bcrypt==3.1.2->-r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl\nCollecting pytz>dev (from celery==4.1.1->-r requirements (line 3))\n  Downloading https://files.pythonhosted.org/packages/3d/19/4de17f0d5cf5a0d87aa67532d4c2fa75e6e7d8df13c27635ff40fa6f4b76/pytz-2022.7-py2.py3-none-any.whl (499kB)\nCollecting billiard<3.6.0,>=3.5.0.2 (from celery==4.1.1->-r requirements (line 3))\n  Downloading https://files.pythonhosted.org/packages/8b/b7/c2fe04f2522bb02d044347734eeda3ff5c7a632fa7d0401530a371ba73db/billiard-3.5.0.5.tar.gz (150kB)\nCollecting itsdangerous>=0.24 (from Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/9c/96/26f935afba9cd6140216da5add223a0c465b99d0f112b68a4ca426441019/itsdangerous-2.0.1-py3-none-any.whl\nCollecting Jinja2>=2.10.1 (from Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/20/9a/e5d9ec41927401e41aea8af6d16e78b5e612bca4699d417f646a9610a076/Jinja2-3.0.3-py3-none-any.whl (133kB)\nCollecting click>=5.1 (from Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/4a/a8/0b2ced25639fb20cc1c9784de90a8c25f9504a7f18cd8b5397bd61696d7d/click-8.0.4-py3-none-any.whl (97kB)\nCollecting webassets>=0.11.1 (from Flask-Assets==0.12->-r requirements (line 5))\n  Downloading https://files.pythonhosted.org/packages/ce/7c/be5d23512974c5843e94aacec163fc31539e91d1e740dd9b886f7714f9d1/webassets-2.0-py3-none-any.whl (142kB)\nCollecting amqp<3.0,>=2.1.4 (from kombu==4.2.0->-r requirements (line 7))\n  Downloading https://files.pythonhosted.org/packages/bc/90/bb5ce93521772f083cb2d7a413bb82eda5afc62b4192adb7ea4c7b4858b9/amqp-2.6.1-py2.py3-none-any.whl (48kB)\nCollecting olefile (from Pillow==4.1.1->-r requirements (line 8))\n  Downloading https://files.pythonhosted.org/packages/34/81/e1ac43c6b45b4c5f8d9352396a14144bba52c8fec72a80f425f6a4d653ad/olefile-0.46.zip (112kB)\nCollecting MarkupSafe>=0.9.2 (from Mako->alembic==0.8.8->-r requirements (line 1))\n  Downloading https://files.pythonhosted.org/packages/bf/10/ff66fea6d1788c458663a84d88787bae15d45daa16f6b3ef33322a51fc7e/MarkupSafe-2.0.1.tar.gz\nCollecting pycparser (from cffi>=1.1->bcrypt==3.1.2->-r requirements (line 2))\n  Downloading https://files.pythonhosted.org/packages/62/d5/5f610ebe421e85889f2e55e33b7f9a6795bd982198517d912eb1c76e1a53/pycparser-2.21-py2.py3-none-any.whl (118kB)\nCollecting importlib-metadata; python_version < \"3.8\" (from click>=5.1->Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/a0/a1/b153a0a4caf7a7e3f15c2cd56c7702e2cf3d89b1b359d1f1c5e59d68f4ce/importlib_metadata-4.8.3-py3-none-any.whl\nCollecting vine<5.0.0a1,>=1.1.3 (from amqp<3.0,>=2.1.4->kombu==4.2.0->-r requirements (line 7))\n  Downloading https://files.pythonhosted.org/packages/7f/60/82c03047396126c8331ceb64da1dc52d4f1317209f32e8fe286d0c07365a/vine-1.3.0-py2.py3-none-any.whl\nCollecting typing-extensions>=3.6.4; python_version < \"3.8\" (from importlib-metadata; python_version < \"3.8\"->click>=5.1->Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/45/6b/44f7f8f1e110027cf88956b59f2fad776cca7e1704396d043f89effd3a0e/typing_extensions-4.1.1-py3-none-any.whl\nCollecting zipp>=0.5 (from importlib-metadata; python_version < \"3.8\"->click>=5.1->Flask==1.1.2->-r requirements (line 4))\n  Downloading https://files.pythonhosted.org/packages/bd/df/d4a4974a3e3957fd1c1fa3082366d7fff6e428ddb55f074bf64876f8e8ad/zipp-3.6.0-py3-none-any.whl\nInstalling collected packages: SQLAlchemy, MarkupSafe, Mako, python-editor, alembic, pycparser, cffi, six, bcrypt, pytz, billiard, vine, amqp, kombu, celery, Werkzeug, itsdangerous, Jinja2, typing-extensions, zipp, importlib-metadata, click, Flask, webassets, Flask-Assets, jsmin, olefile, Pillow, psycopg2, python-dateutil, python3-memcached, requests, WTForms\n  Running setup.py install for SQLAlchemy: started\n    Running setup.py install for SQLAlchemy: finished with status 'done'\n  Running setup.py install for MarkupSafe: started\n    Running setup.py install for MarkupSafe: finished with status 'done'\n  Running setup.py install for alembic: started\n    Running setup.py install for alembic: finished with status 'done'\n  Running setup.py install for cffi: started\n    Running setup.py install for cffi: finished with status 'done'\n  Running setup.py install for bcrypt: started\n    Running setup.py install for bcrypt: finished with status 'done'\n  Running setup.py install for billiard: started\n    Running setup.py install for billiard: finished with status 'done'\n  Running setup.py install for Flask-Assets: started\n    Running setup.py install for Flask-Assets: finished with status 'done'\n  Running setup.py install for jsmin: started\n    Running setup.py install for jsmin: finished with status 'done'\n  Running setup.py install for olefile: started\n    Running setup.py install for olefile: finished with status 'done'\n  Running setup.py install for Pillow: started\n    Running setup.py install for Pillow: finished with status 'done'\n  Running setup.py install for psycopg2: started\n    Running setup.py install for psycopg2: finished with status 'done'\n  Running setup.py install for python3-memcached: started\n    Running setup.py install for python3-memcached: finished with status 'done'\n  Running setup.py install for WTForms: started\n    Running setup.py install for WTForms: finished with status 'done'\nSuccessfully installed Flask-1.1.2 Flask-Assets-0.12 Jinja2-3.0.3 Mako-1.1.6 MarkupSafe-2.0.1 Pillow-4.1.1 SQLAlchemy-1.1.3 WTForms-2.1 Werkzeug-0.16.0 alembic-0.8.8 amqp-2.6.1 bcrypt-3.1.2 billiard-3.5.0.5 celery-4.1.1 cffi-1.15.1 click-8.0.4 importlib-metadata-4.8.3 itsdangerous-2.0.1 jsmin-2.2.2 kombu-4.2.0 olefile-0.46 psycopg2-2.7.3.2 pycparser-2.21 python-dateutil-2.5.3 python-editor-1.0.4 python3-memcached-1.51 pytz-2022.7 requests-2.11.1 six-1.16.0 typing-extensions-4.1.1 vine-1.3.0 webassets-2.0 zipp-3.6.0\n\u001b[91mYou are using pip version 18.1, however version 21.3.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 25103c31c74e\n ---> 0a35ac33bf37\nStep 6/9 : RUN npm install --no-progress -qpg clean-css@3 typescript && npm cache clean --force;\n ---> Running in 7baadd2256d1\n\u001b[91mError: could not get uid/gid\n[ 'nobody', 0 ]\n\n    at /usr/lib/node_modules/npm/node_modules/uid-number/uid-number.js:37:16\n    at ChildProcess.exithandler (child_process.js:211:5)\n    at emitTwo (events.js:106:13)\n    at ChildProcess.emit (events.js:191:7)\n    at maybeClose (internal/child_process.js:886:16)\n    at Socket.<anonymous> (internal/child_process.js:342:11)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n    at Pipe._handle.close [as _onclose] (net.js:497:12)\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91musing --force\u001b[0m\u001b[91m I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 7baadd2256d1\n ---> 404c51cac3cd\nStep 7/9 : RUN addgroup -S uchan && adduser -u 1001 -S uchan uchan &&     mkdir -p /tmp/uchanmediaqueue && chown -R uchan:uchan /tmp/uchanmediaqueue\n ---> Running in 6528989ed9bb\nRemoving intermediate container 6528989ed9bb\n ---> ef281b1dfecc\nStep 8/9 : ADD . /opt/app\n ---> 5a72d281bde9\nStep 9/9 : ENTRYPOINT [\"./docker-entrypoint.sh\"]\n ---> Running in 008c477b5eff\nRemoving intermediate container 008c477b5eff\n ---> 25528eec620c\nSuccessfully built 25528eec620c\nSuccessfully tagged uchan:latest\n","stderr":"","imageSize":317541111}}