{"repository":"https://github.com/reactiflux/discord-irc","dockerfilePath":"Dockerfile","startTime":1673174979791,"endTime":1673175060099,"clone":{"startTime":1673174979806,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/reactiflux/discord-irc'...\n","error":null,"endTime":1673174980626,"commit":"b2e75985543cac7c445f01990a88c5f86ce90adc"},"originalBuild":{"startTime":1673174980717,"endTime":1673175031406,"error":null,"stdout":"Sending build context to Docker daemon  430.6kB\r\r\nStep 1/8 : FROM node:12-alpine\n12-alpine: Pulling from library/node\ndf9b9388f04a: Already exists\n3bf6d7380205: Pulling fs layer\n7939e601ee5e: Pulling fs layer\n31f0fb9de071: Pulling fs layer\n31f0fb9de071: Verifying Checksum\n31f0fb9de071: Download complete\n7939e601ee5e: Verifying Checksum\n7939e601ee5e: Download complete\n3bf6d7380205: Verifying Checksum\n3bf6d7380205: Download complete\n3bf6d7380205: Pull complete\n7939e601ee5e: Pull complete\n31f0fb9de071: Pull complete\nDigest: sha256:d4b15b3d48f42059a15bd659be60afe21762aae9d6cbea6f124440895c27db68\nStatus: Downloaded newer image for node:12-alpine\n ---> bb6d28039b8c\nStep 2/8 : ENV LIBRARY_PATH=/lib:/usr/lib\n ---> Running in 9fcad5f6ce35\nRemoving intermediate container 9fcad5f6ce35\n ---> 94a9c863796a\nStep 3/8 : RUN mkdir /bot\n ---> Running in 165d9520c13f\nRemoving intermediate container 165d9520c13f\n ---> d3359eb13310\nStep 4/8 : COPY . /bot\n ---> d69e572af848\nStep 5/8 : WORKDIR /bot\n ---> Running in 45c6cb2509b9\nRemoving intermediate container 45c6cb2509b9\n ---> e0c9f73bf8bf\nStep 6/8 : RUN apk add --update tini && \tnpm install && \tnpm run build && \tmkdir /config\n ---> Running in 4a5d9c6d7ec0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tini (0.19.0-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 7 MiB in 17 packages\n\u001b[91mnpm WARN lifecycle discord-irc@2.9.0~prepare: cannot run in wd discord-irc@2.9.0 npm run build (wd=/bot)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 733 packages from 759 contributors and audited 734 packages in 10.426s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\nfound 32 vulnerabilities (4 low, 5 moderate, 18 high, 5 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> discord-irc@2.9.0 build /bot\n> babel lib --out-dir dist\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mSuccessfully compiled 8 files with Babel (572ms).\nRemoving intermediate container 4a5d9c6d7ec0\n ---> 1e5b579c9d0d\nStep 7/8 : ENTRYPOINT [\"/sbin/tini\", \"--\"]\n ---> Running in dbb2b6668d96\nRemoving intermediate container dbb2b6668d96\n ---> ab8756d0be4f\nStep 8/8 : CMD [\"npm\", \"start\", \"--\", \"--config\", \"/config/config.json\"]\n ---> Running in ea798cb21e17\nRemoving intermediate container ea798cb21e17\n ---> b91ad3d05cb9\nSuccessfully built b91ad3d05cb9\nSuccessfully tagged discord-irc:latest\n","stderr":"","imageSize":163309768},"repair":{"startTime":1673175031477,"endTime":1673175031547,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":1,"columnEnd":12}},{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:12-alpine\nENV LIBRARY_PATH=/lib:/usr/lib\n\nRUN mkdir /bot\nCOPY . /bot\n\nWORKDIR /bot\n\nRUN apk add --no-cache --update tini && \\\n\tnpm install && \\\n\tnpm run build && \\\n\tmkdir /config && npm cache clean --force;\n\nENTRYPOINT [\"/sbin/tini\", \"--\"]\nCMD [\"npm\", \"start\", \"--\", \"--config\", \"/config/config.json\"]\n"},"repairedBuild":{"startTime":1673175032452,"endTime":1673175059653,"error":null,"stdout":"Sending build context to Docker daemon  430.6kB\r\r\nStep 1/8 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 2/8 : ENV LIBRARY_PATH=/lib:/usr/lib\n ---> Running in 42fe58940548\nRemoving intermediate container 42fe58940548\n ---> f3f30334e5af\nStep 3/8 : RUN mkdir /bot\n ---> Running in 4de13c047ff0\nRemoving intermediate container 4de13c047ff0\n ---> 890725237b10\nStep 4/8 : COPY . /bot\n ---> 76aa2472d448\nStep 5/8 : WORKDIR /bot\n ---> Running in 682eed160f77\nRemoving intermediate container 682eed160f77\n ---> 6cafbb91884f\nStep 6/8 : RUN apk add --no-cache --update tini && \tnpm install && \tnpm run build && \tmkdir /config && npm cache clean --force;\n ---> Running in 31f48157a7d9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tini (0.19.0-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 7 MiB in 17 packages\n\u001b[91mnpm WARN lifecycle discord-irc@2.9.0~prepare: cannot run in wd discord-irc@2.9.0 npm run build (wd=/bot)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 733 packages from 759 contributors and audited 734 packages in 9.064s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\nfound 32 vulnerabilities (4 low, 5 moderate, 18 high, 5 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> discord-irc@2.9.0 build /bot\n> babel lib --out-dir dist\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mSuccessfully compiled 8 files with Babel (601ms).\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 31f48157a7d9\n ---> e7c5d34479cb\nStep 7/8 : ENTRYPOINT [\"/sbin/tini\", \"--\"]\n ---> Running in fc12ec684d04\nRemoving intermediate container fc12ec684d04\n ---> 1b7ff3abbfe7\nStep 8/8 : CMD [\"npm\", \"start\", \"--\", \"--config\", \"/config/config.json\"]\n ---> Running in 8cb1f1f3f46a\nRemoving intermediate container 8cb1f1f3f46a\n ---> fb76da98d259\nSuccessfully built fb76da98d259\nSuccessfully tagged discord-irc:latest\n","stderr":"","imageSize":147179940}}