{"repository":"https://github.com/codecat/nin","dockerfilePath":"Dockerfile","startTime":1672890783107,"endTime":1672890809708,"clone":{"startTime":1672890783107,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/codecat/nin'...\n","error":null,"endTime":1672890784199,"commit":"d2d0744e0633c710bd5e1dd266af19dff06c4ad0"},"originalBuild":{"startTime":1672890784267,"endTime":1672890799874,"error":null,"stdout":"Sending build context to Docker daemon  294.9kB\r\r\nStep 1/6 : FROM caddy:alpine\nalpine: Pulling from library/caddy\n213ec9aee27d: Already exists\n5625668cf98f: Pulling fs layer\n675d09b34c53: Pulling fs layer\nf1747be70658: Pulling fs layer\ndb8ee6c4c21d: Pulling fs layer\ndb8ee6c4c21d: Waiting\n675d09b34c53: Download complete\n5625668cf98f: Download complete\nf1747be70658: Verifying Checksum\nf1747be70658: Download complete\n5625668cf98f: Pull complete\ndb8ee6c4c21d: Verifying Checksum\ndb8ee6c4c21d: Download complete\n675d09b34c53: Pull complete\nf1747be70658: Pull complete\ndb8ee6c4c21d: Pull complete\nDigest: sha256:25a0097607868fb05a89a5ab9fea2f2ea4cecdc89d887d7dcee8c778a21b9e1f\nStatus: Downloaded newer image for caddy:alpine\n ---> 006d393a4e6a\nStep 2/6 : LABEL MAINTAINER=\"Melissa Geels\"\n ---> Running in fcabc7ce109a\nRemoving intermediate container fcabc7ce109a\n ---> 14b74ac1abdc\nStep 3/6 : RUN apk add php81-fpm php81-session php81-pgsql php81-mysqli php81-sqlite3 php81-pecl-apcu php81-opcache php81-mbstring\n ---> Running in 2d436c903a7f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/22) Installing php81-common (8.1.13-r0)\n(2/22) Installing argon2-libs (20190702-r1)\n(3/22) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(4/22) Installing ncurses-libs (6.3_p20220521-r0)\n(5/22) Installing libedit (20210910.3.1-r0)\n(6/22) Installing pcre2 (10.40-r0)\n(7/22) Installing xz-libs (5.2.5-r1)\n(8/22) Installing libxml2 (2.9.14-r2)\n(9/22) Installing php81-fpm (8.1.13-r0)\n(10/22) Installing oniguruma (6.9.8-r0)\n(11/22) Installing php81-mbstring (8.1.13-r0)\n(12/22) Installing php81-openssl (8.1.13-r0)\n(13/22) Installing php81-mysqlnd (8.1.13-r0)\n(14/22) Installing php81-mysqli (8.1.13-r0)\n(15/22) Installing libgcc (11.2.1_git20220219-r2)\n(16/22) Installing php81-opcache (8.1.13-r0)\n(17/22) Installing php81-pecl-apcu (5.1.21-r0)\n(18/22) Installing libpq (14.5-r0)\n(19/22) Installing php81-pgsql (8.1.13-r0)\n(20/22) Installing php81-session (8.1.13-r0)\n(21/22) Installing sqlite-libs (3.38.5-r0)\n(22/22) Installing php81-sqlite3 (8.1.13-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 23 MiB in 38 packages\nRemoving intermediate container 2d436c903a7f\n ---> 1a9e3b75a4e7\nStep 4/6 : COPY . /var/www/nin\n ---> 1cde09eeac36\nStep 5/6 : COPY ./server-configs/Caddyfile /etc/caddy/Caddyfile\n ---> 70433d034549\nStep 6/6 : CMD php-fpm81; caddy run --config /etc/caddy/Caddyfile --adapter caddyfile\n ---> Running in 4920ae72feb2\nRemoving intermediate container 4920ae72feb2\n ---> 03ab8d5af817\nSuccessfully built 03ab8d5af817\nSuccessfully tagged nin:latest\n","stderr":"","imageSize":66052295},"repair":{"startTime":1672890799936,"endTime":1672890799971,"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":119}}],"repairedDockerfile":"FROM caddy:alpine\n\nLABEL MAINTAINER=\"Melissa Geels\"\n\n# Install PHP-FPM and modules that Nin supports\nRUN apk add --no-cache php81-fpm php81-session php81-pgsql php81-mysqli php81-sqlite3 php81-pecl-apcu php81-opcache php81-mbstring\n\n# Copy the actual Nin code\nCOPY . /var/www/nin\n\n# Copy the Caddyfile from the server-configs directory\nCOPY ./server-configs/Caddyfile /etc/caddy/Caddyfile\n\n# Start php-fpm and Caddy\nCMD php-fpm81; caddy run --config /etc/caddy/Caddyfile --adapter caddyfile\n"},"repairedBuild":{"startTime":1672890800746,"endTime":1672890809468,"error":null,"stdout":"Sending build context to Docker daemon  294.9kB\r\r\nStep 1/6 : FROM caddy:alpine\n ---> 006d393a4e6a\nStep 2/6 : LABEL MAINTAINER=\"Melissa Geels\"\n ---> Running in cf09dfe0a528\nRemoving intermediate container cf09dfe0a528\n ---> 1c600404c0df\nStep 3/6 : RUN apk add --no-cache php81-fpm php81-session php81-pgsql php81-mysqli php81-sqlite3 php81-pecl-apcu php81-opcache php81-mbstring\n ---> Running in 1cd9f78932d6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/22) Installing php81-common (8.1.13-r0)\n(2/22) Installing argon2-libs (20190702-r1)\n(3/22) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(4/22) Installing ncurses-libs (6.3_p20220521-r0)\n(5/22) Installing libedit (20210910.3.1-r0)\n(6/22) Installing pcre2 (10.40-r0)\n(7/22) Installing xz-libs (5.2.5-r1)\n(8/22) Installing libxml2 (2.9.14-r2)\n(9/22) Installing php81-fpm (8.1.13-r0)\n(10/22) Installing oniguruma (6.9.8-r0)\n(11/22) Installing php81-mbstring (8.1.13-r0)\n(12/22) Installing php81-openssl (8.1.13-r0)\n(13/22) Installing php81-mysqlnd (8.1.13-r0)\n(14/22) Installing php81-mysqli (8.1.13-r0)\n(15/22) Installing libgcc (11.2.1_git20220219-r2)\n(16/22) Installing php81-opcache (8.1.13-r0)\n(17/22) Installing php81-pecl-apcu (5.1.21-r0)\n(18/22) Installing libpq (14.5-r0)\n(19/22) Installing php81-pgsql (8.1.13-r0)\n(20/22) Installing php81-session (8.1.13-r0)\n(21/22) Installing sqlite-libs (3.38.5-r0)\n(22/22) Installing php81-sqlite3 (8.1.13-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 23 MiB in 38 packages\nRemoving intermediate container 1cd9f78932d6\n ---> 03080f279ebc\nStep 4/6 : COPY . /var/www/nin\n ---> ecc62c61213a\nStep 5/6 : COPY ./server-configs/Caddyfile /etc/caddy/Caddyfile\n ---> ecc7f2c42145\nStep 6/6 : CMD php-fpm81; caddy run --config /etc/caddy/Caddyfile --adapter caddyfile\n ---> Running in e2af3e1f8d34\nRemoving intermediate container e2af3e1f8d34\n ---> 566691e50a07\nSuccessfully built 566691e50a07\nSuccessfully tagged nin:latest\n","stderr":"","imageSize":63585969}}