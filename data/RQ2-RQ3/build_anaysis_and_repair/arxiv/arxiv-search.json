{"repository":"https://github.com/arxiv/arxiv-search","dockerfilePath":"Dockerfile","startTime":1672487626798,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/arxiv/arxiv-search'...\n","error":null,"commit":"024e364cbabe4db5ac1da9c7b971cbe65c09e127"},"originalBuild":{"startTimestamp":1672487628074,"endTimestamp":1672488067269,"error":null,"stdout":"Sending build context to Docker daemon  10.27MB\r\r\nStep 1/30 : FROM arxiv/base:0.16.7\n0.16.7: Pulling from arxiv/base\nab5ef0e58194: Pulling fs layer\nb4f32395fd57: Pulling fs layer\nca893b6d607b: Pulling fs layer\nca893b6d607b: Verifying Checksum\nca893b6d607b: Download complete\nab5ef0e58194: Verifying Checksum\nab5ef0e58194: Download complete\nb4f32395fd57: Verifying Checksum\nb4f32395fd57: Download complete\nab5ef0e58194: Pull complete\nb4f32395fd57: Pull complete\nca893b6d607b: Pull complete\nDigest: sha256:e08b0562683ca7cb62b1c895e4fbdff5232b129bdc6d7b9268a2343c86aa8460\nStatus: Downloaded newer image for arxiv/base:0.16.7\n ---> 5df64ca1ec8d\nStep 2/30 : WORKDIR /opt/arxiv\n ---> Running in 7d047cc70636\nRemoving intermediate container 7d047cc70636\n ---> 5a1b35b349d0\nStep 3/30 : RUN yum remove -y mariadb-libs\n ---> Running in b710425fa04f\nLoaded plugins: fastestmirror, ovl\nResolving Dependencies\n--> Running transaction check\n---> Package mariadb-libs.x86_64 1:5.5.64-1.el7 will be erased\n--> Processing Dependency: libmysqlclient.so.18()(64bit) for package: 1:mariadb-devel-5.5.64-1.el7.x86_64\n--> Processing Dependency: mariadb-libs(x86-64) = 1:5.5.64-1.el7 for package: 1:mariadb-devel-5.5.64-1.el7.x86_64\n--> Running transaction check\n---> Package mariadb-devel.x86_64 1:5.5.64-1.el7 will be erased\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package              Arch          Version                  Repository    Size\n================================================================================\nRemoving:\n mariadb-libs         x86_64        1:5.5.64-1.el7           @base        4.4 M\nRemoving for dependencies:\n mariadb-devel        x86_64        1:5.5.64-1.el7           @base        3.3 M\n\nTransaction Summary\n================================================================================\nRemove  1 Package (+1 Dependent package)\n\nInstalled size: 7.7 M\nDownloading packages:\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Erasing    : 1:mariadb-devel-5.5.64-1.el7.x86_64                          1/2 \n  Erasing    : 1:mariadb-libs-5.5.64-1.el7.x86_64                           2/2 \n  Verifying  : 1:mariadb-devel-5.5.64-1.el7.x86_64                          1/2 \n  Verifying  : 1:mariadb-libs-5.5.64-1.el7.x86_64                           2/2 \n\nRemoved:\n  mariadb-libs.x86_64 1:5.5.64-1.el7                                            \n\nDependency Removed:\n  mariadb-devel.x86_64 1:5.5.64-1.el7                                           \n\nComplete!\nRemoving intermediate container b710425fa04f\n ---> bfa92b4abe14\nStep 4/30 : RUN yum install -y which mysql mysql-devel\n ---> Running in f548d3bf525c\nLoaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: mirror.nsc.liu.se\n * epel: mirror.nsc.liu.se\n * extras: mirror.nsc.liu.se\n * updates: mirror.nsc.liu.se\nPackage which-2.20-7.el7.x86_64 already installed and latest version\nResolving Dependencies\n--> Running transaction check\n---> Package mariadb.x86_64 1:5.5.68-1.el7 will be installed\n--> Processing Dependency: mariadb-libs(x86-64) = 1:5.5.68-1.el7 for package: 1:mariadb-5.5.68-1.el7.x86_64\n---> Package mariadb-devel.x86_64 1:5.5.68-1.el7 will be installed\n--> Running transaction check\n---> Package mariadb-libs.x86_64 1:5.5.68-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package               Arch           Version                Repository    Size\n================================================================================\nInstalling:\n mariadb               x86_64         1:5.5.68-1.el7         base         8.8 M\n mariadb-devel         x86_64         1:5.5.68-1.el7         base         757 k\nInstalling for dependencies:\n mariadb-libs          x86_64         1:5.5.68-1.el7         base         760 k\n\nTransaction Summary\n================================================================================\nInstall  2 Packages (+1 Dependent package)\n\nTotal download size: 10 M\nInstalled size: 56 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                               38 MB/s |  10 MB  00:00     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : 1:mariadb-libs-5.5.68-1.el7.x86_64                           1/3 \n  Installing : 1:mariadb-devel-5.5.68-1.el7.x86_64                          2/3 \n  Installing : 1:mariadb-5.5.68-1.el7.x86_64                                3/3 \n  Verifying  : 1:mariadb-devel-5.5.68-1.el7.x86_64                          1/3 \n  Verifying  : 1:mariadb-libs-5.5.68-1.el7.x86_64                           2/3 \n  Verifying  : 1:mariadb-5.5.68-1.el7.x86_64                                3/3 \n\nInstalled:\n  mariadb.x86_64 1:5.5.68-1.el7       mariadb-devel.x86_64 1:5.5.68-1.el7      \n\nDependency Installed:\n  mariadb-libs.x86_64 1:5.5.68-1.el7                                            \n\nComplete!\nRemoving intermediate container f548d3bf525c\n ---> a4868895621f\nStep 5/30 : RUN pip install uwsgi\n ---> Running in c3bb73db770b\nRequirement already satisfied: uwsgi in /usr/local/lib64/python3.6/site-packages (2.0.18)\n\u001b[91mWARNING: You are using pip version 20.0.2; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/bin/python3.6 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container c3bb73db770b\n ---> f0f40b21bc65\nStep 6/30 : ADD app.py /opt/arxiv/\n ---> fa37b66e3a0d\nStep 7/30 : ADD Pipfile /opt/arxiv/\n ---> f35ac78bdb0f\nStep 8/30 : ADD Pipfile.lock /opt/arxiv/\n ---> ad634990d699\nStep 9/30 : RUN pip install -U pip pipenv\n ---> Running in 57a5f6a7650c\nCollecting pip\n  Downloading pip-21.3.1-py3-none-any.whl (1.7 MB)\nCollecting pipenv\n  Downloading pipenv-2022.4.8-py2.py3-none-any.whl (3.6 MB)\nRequirement already satisfied, skipping upgrade: virtualenv-clone>=0.2.5 in /usr/local/lib/python3.6/site-packages (from pipenv) (0.5.4)\nRequirement already satisfied, skipping upgrade: setuptools>=36.2.1 in /usr/lib/python3.6/site-packages (from pipenv) (39.2.0)\nRequirement already satisfied, skipping upgrade: certifi in /usr/local/lib/python3.6/site-packages (from pipenv) (2020.4.5.1)\nRequirement already satisfied, skipping upgrade: virtualenv in /usr/local/lib/python3.6/site-packages (from pipenv) (20.0.17)\nRequirement already satisfied, skipping upgrade: importlib-metadata<2,>=0.12; python_version < \"3.8\" in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.6.0)\nRequirement already satisfied, skipping upgrade: six<2,>=1.9.0 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.14.0)\nRequirement already satisfied, skipping upgrade: importlib-resources<2,>=1.0; python_version < \"3.7\" in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.4.0)\nRequirement already satisfied, skipping upgrade: distlib<1,>=0.3.0 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (0.3.0)\nRequirement already satisfied, skipping upgrade: appdirs<2,>=1.4.3 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.4.3)\nRequirement already satisfied, skipping upgrade: filelock<4,>=3.0.0 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (3.0.12)\nRequirement already satisfied, skipping upgrade: zipp>=0.5 in /usr/local/lib/python3.6/site-packages (from importlib-metadata<2,>=0.12; python_version < \"3.8\"->virtualenv->pipenv) (3.1.0)\nInstalling collected packages: pip, pipenv\n  Attempting uninstall: pip\n    Found existing installation: pip 20.0.2\n    Uninstalling pip-20.0.2:\n      Successfully uninstalled pip-20.0.2\n  Attempting uninstall: pipenv\n    Found existing installation: pipenv 2018.11.26\n    Uninstalling pipenv-2018.11.26:\n      Successfully uninstalled pipenv-2018.11.26\nSuccessfully installed pip-21.3.1 pipenv-2022.4.8\nRemoving intermediate container 57a5f6a7650c\n ---> 8df1788ff266\nStep 10/30 : RUN pipenv install\n ---> Running in 3cd408633660\n\u001b[91mCreating a virtualenv for this project...\n\u001b[0m\u001b[91mPipfile: /opt/arxiv/Pipfile\n\u001b[0m\u001b[91mUsing /usr/bin/python3.6m (3.6.8) to create virtualenv...\n\u001b[0m\u001b[91m\r⠋\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠸\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠼ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠴\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠦ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠧ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠇\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91mcreated virtual environment CPython3.6.8.final.0-64 in 511ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/arxiv-AI0WzCV4, clear=False, global=False)\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1)\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\n\n\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m✔ Successfully created virtual environment! \n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/arxiv-AI0WzCV4\n\u001b[0mInstalling dependencies from Pipfile.lock (c0c1a1)...\n\u001b[91mAn error occurred while installing thrift==0.11.0 --hash=sha256:7d59ac4fdcb2c58037ebd4a9da5f9a49e3e034bf75b3f26d9fe48ba3d8806e6b! Will try again.\n\u001b[0mInstalling initially failed dependencies...\nTo activate this project's virtualenv, run pipenv shell.\nAlternatively, run a command inside the virtualenv with pipenv run.\nRemoving intermediate container 3cd408633660\n ---> 9b2dd5a101f7\nStep 11/30 : ENV PATH \"/opt/arxiv:${PATH}\"\n ---> Running in 29f2fb7ec925\nRemoving intermediate container 29f2fb7ec925\n ---> 952e5171122e\nStep 12/30 : ADD schema /opt/arxiv/schema\n ---> 614873c02838\nStep 13/30 : ADD mappings /opt/arxiv/mappings\n ---> dfb595cac680\nStep 14/30 : ADD search /opt/arxiv/search\n ---> 07e75b5f1b98\nStep 15/30 : ADD wsgi.py uwsgi.ini /opt/arxiv/\n ---> f5992d71681d\nStep 16/30 : ADD bin/start_search.sh /opt/arxiv/\n ---> 53ac952f5b8c\nStep 17/30 : RUN chmod +x /opt/arxiv/start_search.sh\n ---> Running in 85cf74294cad\nRemoving intermediate container 85cf74294cad\n ---> 192ac9053610\nStep 18/30 : ENV LC_ALL en_US.utf8\n ---> Running in bbbee04f5132\nRemoving intermediate container bbbee04f5132\n ---> 3353c79aa27e\nStep 19/30 : ENV LANG en_US.utf8\n ---> Running in 0a68a86031fd\nRemoving intermediate container 0a68a86031fd\n ---> 648416fa39b9\nStep 20/30 : ENV LOGLEVEL 40\n ---> Running in 2cc4d7e9ebe1\nRemoving intermediate container 2cc4d7e9ebe1\n ---> de7202dc14e1\nStep 21/30 : ENV FLASK_DEBUG 1\n ---> Running in da75c5f37e68\nRemoving intermediate container da75c5f37e68\n ---> 3b678886bccd\nStep 22/30 : ENV FLASK_APP /opt/arxiv/app.py\n ---> Running in 1b9d41c5da9a\nRemoving intermediate container 1b9d41c5da9a\n ---> 08182b62dce1\nStep 23/30 : ENV ELASTICSEARCH_SERVICE_HOST 127.0.0.1\n ---> Running in d2683066ef04\nRemoving intermediate container d2683066ef04\n ---> af00156275a1\nStep 24/30 : ENV ELASTICSEARCH_SERVICE_PORT 9200\n ---> Running in ed3823d6696c\nRemoving intermediate container ed3823d6696c\n ---> f28ea64f3c56\nStep 25/30 : ENV ELASTICSEARCH_SERVICE_PORT_9200_PROTO http\n ---> Running in 7d477df2bcb7\nRemoving intermediate container 7d477df2bcb7\n ---> 787e75fa7b39\nStep 26/30 : ENV ELASTICSEARCH_PASSWORD changeme\n ---> Running in 5336726bfd04\nRemoving intermediate container 5336726bfd04\n ---> 3e25a6e08a25\nStep 27/30 : ENV METADATA_ENDPOINT https://arxiv.org/docmeta_bulk/\n ---> Running in 7f5049b48502\nRemoving intermediate container 7f5049b48502\n ---> c9c48fcac189\nStep 28/30 : EXPOSE 8000\n ---> Running in 6939de000b99\nRemoving intermediate container 6939de000b99\n ---> dff884cd84ce\nStep 29/30 : ENTRYPOINT [\"pipenv\", \"run\"]\n ---> Running in bc710b69d1b0\nRemoving intermediate container bc710b69d1b0\n ---> db63d9e3e8de\nStep 30/30 : CMD [\"uwsgi\", \"--ini\", \"/opt/arxiv/uwsgi.ini\"]\n ---> Running in 660301aacf9f\nRemoving intermediate container 660301aacf9f\n ---> ea3cd93f831d\nSuccessfully built ea3cd93f831d\nSuccessfully tagged arxiv-search:latest\n","stderr":"","imageSize":996531154},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":14,"end":14,"columnStart":4,"columnEnd":21}},{"name":"pipUseNoCacheDir","position":{"start":20,"end":20,"columnStart":4,"columnEnd":29}},{"name":"yumInstallRmVarCacheYum","position":{"start":13,"end":13,"columnStart":4,"columnEnd":42}}],"repairedDockerfile":"# arxiv/search\n#\n# Defines the runtime for the arXiv search service, which provides the main\n# UIs (and, eventually, APIs) for search.\n\nFROM arxiv/base:0.16.7\n\nWORKDIR /opt/arxiv\n\n# remove conflicting mariadb-libs from arxiv/base\nRUN yum remove -y mariadb-libs\n\n# Install MySQL.\nRUN yum install -y which mysql mysql-devel\nRUN pip install --no-cache-dir uwsgi\n\n# Add Python application and configuration.\nADD app.py /opt/arxiv/\nADD Pipfile /opt/arxiv/\nADD Pipfile.lock /opt/arxiv/\nRUN pip install --no-cache-dir -U pip pipenv\nRUN pipenv install\n\nENV PATH \"/opt/arxiv:${PATH}\"\n\nADD schema /opt/arxiv/schema\nADD mappings /opt/arxiv/mappings\nADD search /opt/arxiv/search\nADD wsgi.py uwsgi.ini /opt/arxiv/\n\n\nADD bin/start_search.sh /opt/arxiv/\nRUN chmod +x /opt/arxiv/start_search.sh\n\nENV LC_ALL en_US.utf8\nENV LANG en_US.utf8\nENV LOGLEVEL 40\nENV FLASK_DEBUG 1\nENV FLASK_APP /opt/arxiv/app.py\n\nENV ELASTICSEARCH_SERVICE_HOST 127.0.0.1\nENV ELASTICSEARCH_SERVICE_PORT 9200\nENV ELASTICSEARCH_SERVICE_PORT_9200_PROTO http\nENV ELASTICSEARCH_PASSWORD changeme\nENV METADATA_ENDPOINT https://arxiv.org/docmeta_bulk/\n\nEXPOSE 8000\nENTRYPOINT [\"pipenv\", \"run\"]\nCMD [\"uwsgi\", \"--ini\", \"/opt/arxiv/uwsgi.ini\"]\n"},"repairedBuild":{"startTimestamp":1672488068128,"endTimestamp":1672488555276,"error":null,"stdout":"Sending build context to Docker daemon  10.27MB\r\r\nStep 1/30 : FROM arxiv/base:0.16.7\n ---> 5df64ca1ec8d\nStep 2/30 : WORKDIR /opt/arxiv\n ---> Running in 81baed6ca53e\nRemoving intermediate container 81baed6ca53e\n ---> e8a5cab63e23\nStep 3/30 : RUN yum remove -y mariadb-libs\n ---> Running in 4d6f83235cca\nLoaded plugins: fastestmirror, ovl\nResolving Dependencies\n--> Running transaction check\n---> Package mariadb-libs.x86_64 1:5.5.64-1.el7 will be erased\n--> Processing Dependency: libmysqlclient.so.18()(64bit) for package: 1:mariadb-devel-5.5.64-1.el7.x86_64\n--> Processing Dependency: mariadb-libs(x86-64) = 1:5.5.64-1.el7 for package: 1:mariadb-devel-5.5.64-1.el7.x86_64\n--> Running transaction check\n---> Package mariadb-devel.x86_64 1:5.5.64-1.el7 will be erased\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package              Arch          Version                  Repository    Size\n================================================================================\nRemoving:\n mariadb-libs         x86_64        1:5.5.64-1.el7           @base        4.4 M\nRemoving for dependencies:\n mariadb-devel        x86_64        1:5.5.64-1.el7           @base        3.3 M\n\nTransaction Summary\n================================================================================\nRemove  1 Package (+1 Dependent package)\n\nInstalled size: 7.7 M\nDownloading packages:\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Erasing    : 1:mariadb-devel-5.5.64-1.el7.x86_64                          1/2 \n  Erasing    : 1:mariadb-libs-5.5.64-1.el7.x86_64                           2/2 \n  Verifying  : 1:mariadb-devel-5.5.64-1.el7.x86_64                          1/2 \n  Verifying  : 1:mariadb-libs-5.5.64-1.el7.x86_64                           2/2 \n\nRemoved:\n  mariadb-libs.x86_64 1:5.5.64-1.el7                                            \n\nDependency Removed:\n  mariadb-devel.x86_64 1:5.5.64-1.el7                                           \n\nComplete!\nRemoving intermediate container 4d6f83235cca\n ---> a83f53fddc5d\nStep 4/30 : RUN yum install -y which mysql mysql-devel\n ---> Running in 98c48bf15b6d\nLoaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: mirror.nsc.liu.se\n * epel: mirror.nsc.liu.se\n * extras: mirror.nsc.liu.se\n * updates: mirror.nsc.liu.se\nPackage which-2.20-7.el7.x86_64 already installed and latest version\nResolving Dependencies\n--> Running transaction check\n---> Package mariadb.x86_64 1:5.5.68-1.el7 will be installed\n--> Processing Dependency: mariadb-libs(x86-64) = 1:5.5.68-1.el7 for package: 1:mariadb-5.5.68-1.el7.x86_64\n---> Package mariadb-devel.x86_64 1:5.5.68-1.el7 will be installed\n--> Running transaction check\n---> Package mariadb-libs.x86_64 1:5.5.68-1.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package               Arch           Version                Repository    Size\n================================================================================\nInstalling:\n mariadb               x86_64         1:5.5.68-1.el7         base         8.8 M\n mariadb-devel         x86_64         1:5.5.68-1.el7         base         757 k\nInstalling for dependencies:\n mariadb-libs          x86_64         1:5.5.68-1.el7         base         760 k\n\nTransaction Summary\n================================================================================\nInstall  2 Packages (+1 Dependent package)\n\nTotal download size: 10 M\nInstalled size: 56 M\nDownloading packages:\n--------------------------------------------------------------------------------\nTotal                                               36 MB/s |  10 MB  00:00     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : 1:mariadb-libs-5.5.68-1.el7.x86_64                           1/3 \n  Installing : 1:mariadb-devel-5.5.68-1.el7.x86_64                          2/3 \n  Installing : 1:mariadb-5.5.68-1.el7.x86_64                                3/3 \n  Verifying  : 1:mariadb-devel-5.5.68-1.el7.x86_64                          1/3 \n  Verifying  : 1:mariadb-libs-5.5.68-1.el7.x86_64                           2/3 \n  Verifying  : 1:mariadb-5.5.68-1.el7.x86_64                                3/3 \n\nInstalled:\n  mariadb.x86_64 1:5.5.68-1.el7       mariadb-devel.x86_64 1:5.5.68-1.el7      \n\nDependency Installed:\n  mariadb-libs.x86_64 1:5.5.68-1.el7                                            \n\nComplete!\nRemoving intermediate container 98c48bf15b6d\n ---> 989db0b6bd9c\nStep 5/30 : RUN pip install --no-cache-dir uwsgi\n ---> Running in 2bc98044986f\nRequirement already satisfied: uwsgi in /usr/local/lib64/python3.6/site-packages (2.0.18)\n\u001b[91mWARNING: You are using pip version 20.0.2; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/bin/python3.6 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 2bc98044986f\n ---> 5aa2082bf618\nStep 6/30 : ADD app.py /opt/arxiv/\n ---> 6526ad273fa5\nStep 7/30 : ADD Pipfile /opt/arxiv/\n ---> fc31ca337a32\nStep 8/30 : ADD Pipfile.lock /opt/arxiv/\n ---> 20dddb0a0bab\nStep 9/30 : RUN pip install --no-cache-dir -U pip pipenv\n ---> Running in 0f7e381f1cbc\nCollecting pip\n  Downloading pip-21.3.1-py3-none-any.whl (1.7 MB)\nCollecting pipenv\n  Downloading pipenv-2022.4.8-py2.py3-none-any.whl (3.6 MB)\nRequirement already satisfied, skipping upgrade: virtualenv-clone>=0.2.5 in /usr/local/lib/python3.6/site-packages (from pipenv) (0.5.4)\nRequirement already satisfied, skipping upgrade: certifi in /usr/local/lib/python3.6/site-packages (from pipenv) (2020.4.5.1)\nRequirement already satisfied, skipping upgrade: setuptools>=36.2.1 in /usr/lib/python3.6/site-packages (from pipenv) (39.2.0)\nRequirement already satisfied, skipping upgrade: virtualenv in /usr/local/lib/python3.6/site-packages (from pipenv) (20.0.17)\nRequirement already satisfied, skipping upgrade: importlib-metadata<2,>=0.12; python_version < \"3.8\" in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.6.0)\nRequirement already satisfied, skipping upgrade: filelock<4,>=3.0.0 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (3.0.12)\nRequirement already satisfied, skipping upgrade: distlib<1,>=0.3.0 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (0.3.0)\nRequirement already satisfied, skipping upgrade: appdirs<2,>=1.4.3 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.4.3)\nRequirement already satisfied, skipping upgrade: importlib-resources<2,>=1.0; python_version < \"3.7\" in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.4.0)\nRequirement already satisfied, skipping upgrade: six<2,>=1.9.0 in /usr/local/lib/python3.6/site-packages (from virtualenv->pipenv) (1.14.0)\nRequirement already satisfied, skipping upgrade: zipp>=0.5 in /usr/local/lib/python3.6/site-packages (from importlib-metadata<2,>=0.12; python_version < \"3.8\"->virtualenv->pipenv) (3.1.0)\nInstalling collected packages: pip, pipenv\n  Attempting uninstall: pip\n    Found existing installation: pip 20.0.2\n    Uninstalling pip-20.0.2:\n      Successfully uninstalled pip-20.0.2\n  Attempting uninstall: pipenv\n    Found existing installation: pipenv 2018.11.26\n    Uninstalling pipenv-2018.11.26:\n      Successfully uninstalled pipenv-2018.11.26\nSuccessfully installed pip-21.3.1 pipenv-2022.4.8\nRemoving intermediate container 0f7e381f1cbc\n ---> b87aa2a88c73\nStep 10/30 : RUN pipenv install\n ---> Running in a2a2efeb4ed4\n\u001b[91mCreating a virtualenv for this project...\n\u001b[0m\u001b[91mPipfile: /opt/arxiv/Pipfile\n\u001b[0m\u001b[91mUsing /usr/bin/python3.6m (3.6.8) to create virtualenv...\n\u001b[0m\u001b[91m\r⠋\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠸\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠼ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠴\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠦ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠧\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠇\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠏\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91mcreated virtual environment CPython3.6.8.final.0-64 in 545ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/arxiv-AI0WzCV4, clear=False, global=False)\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1)\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\n\n\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m✔ Successfully created virtual environment! \n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/arxiv-AI0WzCV4\n\u001b[0mInstalling dependencies from Pipfile.lock (c0c1a1)...\n\u001b[91mAn error occurred while installing thrift==0.11.0 --hash=sha256:7d59ac4fdcb2c58037ebd4a9da5f9a49e3e034bf75b3f26d9fe48ba3d8806e6b! Will try again.\n\u001b[0mInstalling initially failed dependencies...\nTo activate this project's virtualenv, run pipenv shell.\nAlternatively, run a command inside the virtualenv with pipenv run.\nRemoving intermediate container a2a2efeb4ed4\n ---> 316419dab38a\nStep 11/30 : ENV PATH \"/opt/arxiv:${PATH}\"\n ---> Running in e1258845d2fe\nRemoving intermediate container e1258845d2fe\n ---> c9be4125d987\nStep 12/30 : ADD schema /opt/arxiv/schema\n ---> ceb54c599ff6\nStep 13/30 : ADD mappings /opt/arxiv/mappings\n ---> 09bec1e5aa0d\nStep 14/30 : ADD search /opt/arxiv/search\n ---> 4c0a50b5c912\nStep 15/30 : ADD wsgi.py uwsgi.ini /opt/arxiv/\n ---> 3bd45fe74459\nStep 16/30 : ADD bin/start_search.sh /opt/arxiv/\n ---> e5f594a4f152\nStep 17/30 : RUN chmod +x /opt/arxiv/start_search.sh\n ---> Running in 790645a5b32c\nRemoving intermediate container 790645a5b32c\n ---> 1a4c9036117a\nStep 18/30 : ENV LC_ALL en_US.utf8\n ---> Running in 62706d585be7\nRemoving intermediate container 62706d585be7\n ---> 49dbe8e6ee97\nStep 19/30 : ENV LANG en_US.utf8\n ---> Running in b71769d79e55\nRemoving intermediate container b71769d79e55\n ---> 6b8d0d7d905a\nStep 20/30 : ENV LOGLEVEL 40\n ---> Running in 3ee32333d075\nRemoving intermediate container 3ee32333d075\n ---> e8a98a3eb832\nStep 21/30 : ENV FLASK_DEBUG 1\n ---> Running in 4fa26d9dff45\nRemoving intermediate container 4fa26d9dff45\n ---> bb0da0503fdc\nStep 22/30 : ENV FLASK_APP /opt/arxiv/app.py\n ---> Running in 35347c7f754e\nRemoving intermediate container 35347c7f754e\n ---> 6d6bea550e5d\nStep 23/30 : ENV ELASTICSEARCH_SERVICE_HOST 127.0.0.1\n ---> Running in c817d8f06938\nRemoving intermediate container c817d8f06938\n ---> d49968079e46\nStep 24/30 : ENV ELASTICSEARCH_SERVICE_PORT 9200\n ---> Running in 67e98ab57976\nRemoving intermediate container 67e98ab57976\n ---> b0df4a36fa52\nStep 25/30 : ENV ELASTICSEARCH_SERVICE_PORT_9200_PROTO http\n ---> Running in f9c2a17a3d4a\nRemoving intermediate container f9c2a17a3d4a\n ---> c0d9e1650b81\nStep 26/30 : ENV ELASTICSEARCH_PASSWORD changeme\n ---> Running in 21c6e2ee9243\nRemoving intermediate container 21c6e2ee9243\n ---> 40f4a3b7b4e0\nStep 27/30 : ENV METADATA_ENDPOINT https://arxiv.org/docmeta_bulk/\n ---> Running in 15fd52cc9180\nRemoving intermediate container 15fd52cc9180\n ---> 859f16035ae8\nStep 28/30 : EXPOSE 8000\n ---> Running in a44a32fcc2e0\nRemoving intermediate container a44a32fcc2e0\n ---> acf223cff612\nStep 29/30 : ENTRYPOINT [\"pipenv\", \"run\"]\n ---> Running in d312723596ae\nRemoving intermediate container d312723596ae\n ---> 3a49629f22a3\nStep 30/30 : CMD [\"uwsgi\", \"--ini\", \"/opt/arxiv/uwsgi.ini\"]\n ---> Running in 4e1be7e8d90a\nRemoving intermediate container 4e1be7e8d90a\n ---> bd99e3de7127\nSuccessfully built bd99e3de7127\nSuccessfully tagged arxiv-search:latest\n","stderr":"","imageSize":991106533},"endTime":1672488556331}