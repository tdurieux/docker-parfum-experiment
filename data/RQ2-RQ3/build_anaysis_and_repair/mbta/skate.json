{"repository":"https://github.com/mbta/skate","dockerfilePath":"Dockerfile","startTime":1673166641772,"endTime":1673167462438,"clone":{"startTime":1673166641774,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mbta/skate'...\n","error":null,"endTime":1673166643455,"commit":"b8140d6d1e8b9e4f9319be2be60afbb452420c90"},"originalBuild":{"startTime":1673166643550,"endTime":1673167061260,"error":null,"stdout":"Sending build context to Docker daemon  16.54MB\r\r\nStep 1/33 : FROM hexpm/elixir:1.13.3-erlang-24.3.2-alpine-3.15.0 AS elixir-builder\n1.13.3-erlang-24.3.2-alpine-3.15.0: Pulling from hexpm/elixir\n59bf1c3509f3: Already exists\naa9877a6e203: Pulling fs layer\nb053bc2b7f6f: Pulling fs layer\n5b437b903372: Pulling fs layer\n5b437b903372: Verifying Checksum\n5b437b903372: Download complete\naa9877a6e203: Download complete\naa9877a6e203: Pull complete\nb053bc2b7f6f: Verifying Checksum\nb053bc2b7f6f: Download complete\nb053bc2b7f6f: Pull complete\n5b437b903372: Pull complete\nDigest: sha256:5f94bbdee332e0935fd4da84f1abcd7b859ee745731e28c3a98051aeeec52ba4\nStatus: Downloaded newer image for hexpm/elixir:1.13.3-erlang-24.3.2-alpine-3.15.0\n ---> d5e0803563b1\nStep 2/33 : ENV LANG=C.UTF-8   MIX_ENV=prod\n ---> Running in 32550fc2b2e9\nRemoving intermediate container 32550fc2b2e9\n ---> 051f5dcc1fd7\nStep 3/33 : WORKDIR /root\n ---> Running in 1087d41d1d8f\nRemoving intermediate container 1087d41d1d8f\n ---> 1d7ebfe41ddd\nStep 4/33 : ADD . .\n ---> 0ac224969e5e\nStep 5/33 : RUN apk add --no-cache --update git\n ---> Running in b21dabedea76\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r0)\n(2/7) Installing brotli-libs (1.0.9-r5)\n(3/7) Installing nghttp2-libs (1.46.0-r0)\n(4/7) Installing libcurl (7.80.0-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r3.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 24 MiB in 31 packages\nRemoving intermediate container b21dabedea76\n ---> 69f89c20349e\nStep 6/33 : RUN mix local.hex --force &&   mix local.rebar --force &&   mix do deps.get --only prod\n ---> Running in cfe579e1b906\n* creating .mix/archives/hex-2.0.0\n* creating .mix/rebar\n* creating .mix/rebar3\n* Getting ehmon (https://github.com/mbta/ehmon.git)\nremote: Enumerating objects: 145, done.        \nremote: Total 145 (delta 0), reused 0 (delta 0), pack-reused 145        \n* Getting laboratory (https://github.com/paulswartz/laboratory.git - cookie_opts)\nremote: Enumerating objects: 159, done.        \nremote: Total 159 (delta 0), reused 0 (delta 0), pack-reused 159        \nResolving Hex dependencies...\nResolution completed in 0.307s\nUnchanged:\n  castore 0.1.17\n  certifi 2.9.0\n  combine 0.10.0\n  connection 1.1.0\n  cowboy 2.9.0\n  cowboy_telemetry 0.4.0\n  cowlib 2.11.0\n  csv 2.4.1\n  db_connection 2.4.2\n  decimal 2.0.0\n  diskusage_logger 0.2.0\n  ecto 3.8.4\n  ecto_sql 3.8.3\n  ex_aws 2.3.3\n  ex_aws_rds 2.0.2\n  ex_aws_secretsmanager 2.0.0\n  fast_local_datetime 1.0.1\n  gen_stage 1.1.2\n  gettext 0.19.1\n  guardian 2.2.4\n  guardian_phoenix 2.0.1\n  hackney 1.18.1\n  hpax 0.1.1\n  httpoison 1.8.1\n  idna 6.1.1\n  jason 1.3.0\n  jose 1.11.2\n  logster 1.0.2\n  metrics 1.0.1\n  mime 2.0.2\n  mimerl 1.2.0\n  mint 1.4.2\n  parallel_stream 1.0.6\n  parse_trans 3.3.1\n  phoenix 1.6.10\n  phoenix_ecto 4.4.0\n  phoenix_html 3.2.0\n  phoenix_pubsub 2.1.1\n  phoenix_view 1.1.2\n  plug 1.13.6\n  plug_cowboy 2.5.2\n  plug_crypto 1.2.2\n  postgrex 0.16.3\n  ranch 1.8.0\n  sentry 7.2.5\n  server_sent_event_stage 1.1.0\n  ssl_verify_fun 1.1.6\n  telemetry 1.1.0\n  timex 3.7.8\n  tzdata 1.1.1\n  ueberauth 0.9.0\n  ueberauth_cognito 0.4.0\n  unicode_util_compat 0.7.0\n* Getting castore (Hex package)\n* Getting csv (Hex package)\n* Getting diskusage_logger (Hex package)\n* Getting ecto_sql (Hex package)\n* Getting ex_aws_rds (Hex package)\n* Getting ex_aws_secretsmanager (Hex package)\n* Getting ex_aws (Hex package)\n* Getting fast_local_datetime (Hex package)\n* Getting gen_stage (Hex package)\n* Getting guardian_phoenix (Hex package)\n* Getting guardian (Hex package)\n* Getting httpoison (Hex package)\n* Getting jason (Hex package)\n* Getting logster (Hex package)\n* Getting phoenix_ecto (Hex package)\n* Getting phoenix_html (Hex package)\n* Getting phoenix_pubsub (Hex package)\n* Getting phoenix (Hex package)\n* Getting plug_cowboy (Hex package)\n* Getting postgrex (Hex package)\n* Getting sentry (Hex package)\n* Getting server_sent_event_stage (Hex package)\n* Getting ssl_verify_fun (Hex package)\n* Getting timex (Hex package)\n* Getting ueberauth_cognito (Hex package)\n* Getting ueberauth (Hex package)\n* Getting plug (Hex package)\n* Getting mime (Hex package)\n* Getting plug_crypto (Hex package)\n* Getting telemetry (Hex package)\n* Getting hackney (Hex package)\n* Getting jose (Hex package)\n* Getting certifi (Hex package)\n* Getting idna (Hex package)\n* Getting metrics (Hex package)\n* Getting mimerl (Hex package)\n* Getting parse_trans (Hex package)\n* Getting unicode_util_compat (Hex package)\n* Getting combine (Hex package)\n* Getting gettext (Hex package)\n* Getting tzdata (Hex package)\n* Getting mint (Hex package)\n* Getting hpax (Hex package)\n* Getting connection (Hex package)\n* Getting db_connection (Hex package)\n* Getting decimal (Hex package)\n* Getting cowboy (Hex package)\n* Getting cowboy_telemetry (Hex package)\n* Getting cowlib (Hex package)\n* Getting ranch (Hex package)\n* Getting phoenix_view (Hex package)\n* Getting ecto (Hex package)\n* Getting parallel_stream (Hex package)\nYou have added/upgraded packages you could sponsor, run `mix hex.sponsor` to learn more\nRemoving intermediate container cfe579e1b906\n ---> 8370359f1389\nStep 7/33 : FROM node:14-alpine3.15 as assets-builder\n14-alpine3.15: Pulling from library/node\n9621f1afde84: Pulling fs layer\nd73bf3671585: Pulling fs layer\n8a386db6482e: Pulling fs layer\nb583706c415a: Pulling fs layer\nb583706c415a: Waiting\n9621f1afde84: Verifying Checksum\n9621f1afde84: Download complete\n8a386db6482e: Verifying Checksum\n8a386db6482e: Download complete\n9621f1afde84: Pull complete\nb583706c415a: Verifying Checksum\nb583706c415a: Download complete\nd73bf3671585: Verifying Checksum\nd73bf3671585: Download complete\nd73bf3671585: Pull complete\n8a386db6482e: Pull complete\nb583706c415a: Pull complete\nDigest: sha256:e05affcbacf8fadfe605dd64a0cdd94f27c9357a9af16237feeac7cce58753bd\nStatus: Downloaded newer image for node:14-alpine3.15\n ---> 6dad24e1870b\nStep 8/33 : WORKDIR /root\n ---> Running in 529b8096522e\nRemoving intermediate container 529b8096522e\n ---> e7e437503a0f\nStep 9/33 : ADD . .\n ---> 13d39081d237\nStep 10/33 : COPY --from=elixir-builder /root/deps ./deps\n ---> aacd23f6319d\nStep 11/33 : RUN npm --prefix assets ci\n ---> Running in f569beb642d2\n\n> core-js@3.21.1 postinstall /root/assets/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-sass@7.0.3 install /root/assets/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v7.0.3/linux_musl-x64-83_binding.node\nDownload complete\nBinary saved to /root/assets/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nCaching binary to /root/.npm/_cacache/node-sass/7.0.3/linux_musl-x64-83_binding.node\n\n> node-sass@7.0.3 postinstall /root/assets/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /root/assets/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nTesting binary\nBinary is fine\n\n> core-js-pure@3.25.3 postinstall /root/assets/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\nadded 1196 packages in 11.586s\nRemoving intermediate container f569beb642d2\n ---> 0eb5aea9718f\nStep 12/33 : RUN npm --prefix assets run deploy\n ---> Running in fec164cac15f\n\n> skate@ deploy /root/assets\n> webpack --mode production\n\nassets by path ../images/ 45.7 KiB\n  assets by path ../images/*.svg 43.6 KiB 61 assets\n  assets by path ../images/*.png 2.02 KiB 2 assets\nassets by path ../fonts/ 4.32 MiB\n  assets by path ../fonts/*.woff 2.48 MiB 18 assets\n  assets by path ../fonts/*.woff2 1.84 MiB 18 assets\nassets by path *.png 6.35 KiB\n  asset 680f69f3c2e6b90c1812.png 2.41 KiB [emitted] [immutable] [from: node_modules/leaflet/dist/images/marker-icon-2x.png]\n  asset 2b3e1faf89f94a483539.png 1.43 KiB [emitted] [immutable] [from: node_modules/leaflet/dist/images/marker-icon.png]\n  + 3 assets\nassets by chunk 1.08 MiB (name: ./js/app.tsx)\n  asset app.js 988 KiB [emitted] [minimized] [big] (name: ./js/app.tsx) 2 related assets\n  asset ../css/app.css 121 KiB [emitted] [minimized] (name: ./js/app.tsx) 1 related asset\nasset ../favicon.ico 1000 bytes [emitted] [from: static/favicon.ico] [copied]\nasset ../robots.txt 65 bytes [emitted] [from: static/robots.txt] [copied]\nEntrypoint ./js/app.tsx [big] 1.08 MiB (3.96 MiB) = ../css/app.css 121 KiB app.js 988 KiB 2 auxiliary assets\norphan modules 1.77 MiB (javascript) 6.35 KiB (asset) 4.21 KiB (runtime) [orphan] 422 modules\nruntime modules 1.54 KiB 6 modules\njavascript modules 2.33 MiB\n  modules by path ./node_modules/core-js/ 491 KiB 447 modules\n  modules by path ./static/images/*.svg 39.2 KiB 60 modules\n  modules by path ./node_modules/react-dom/ 135 KiB 5 modules\n  modules by path ./node_modules/@sentry/ 13.5 KiB 3 modules\n  modules by path ./node_modules/react/ 6.94 KiB 2 modules\n  + 7 modules\ncss modules 124 KiB\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./css/app.scss 111 KiB [built] [code generated]\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css 946 bytes [built] [code generated]\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/leaflet/dist/leaflet.css 11.1 KiB [built] [code generated]\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/tippy.js/dist/tippy.css 1.38 KiB [built] [code generated]\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  app.js (988 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  ./js/app.tsx (1.08 MiB)\n      ../css/app.css\n      app.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.74.0 compiled with 3 warnings in 31360 ms\nRemoving intermediate container fec164cac15f\n ---> b3054c75c662\nStep 13/33 : FROM elixir-builder as app-builder\n ---> 8370359f1389\nStep 14/33 : ENV LANG=\"C.UTF-8\" MIX_ENV=prod\n ---> Running in 571a65e98d2b\nRemoving intermediate container 571a65e98d2b\n ---> 31bd1dedbcdf\nStep 15/33 : RUN apk add --no-cache --update curl\n ---> Running in 70ca390a1402\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing curl (7.80.0-r5)\nExecuting busybox-1.34.1-r3.trigger\nOK: 24 MiB in 32 packages\nRemoving intermediate container 70ca390a1402\n ---> 66eaa01e2841\nStep 16/33 : WORKDIR /root\n ---> Running in 126ad5e4be47\nRemoving intermediate container 126ad5e4be47\n ---> 379849dea8b7\nStep 17/33 : RUN curl https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem     -o aws-cert-bundle.pem\n ---> Running in a639506ee708\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r100  165k  100  165k    0     0  2367k      0 --:--:-- --:--:-- --:--:-- 2399k\n\u001b[0mRemoving intermediate container a639506ee708\n ---> 153950827974\nStep 18/33 : RUN echo \"976de749e16140c2e91e2ea1daa508ef716be5decafbb9f0f77087abc879487b  aws-cert-bundle.pem\" | sha256sum -c -\n ---> Running in c47afd95799d\naws-cert-bundle.pem: OK\nRemoving intermediate container c47afd95799d\n ---> 2518ed71fa04\nStep 19/33 : COPY --from=assets-builder /root/priv/static ./priv/static\n ---> 4f57ee1b5893\nStep 20/33 : RUN mix do compile --force, phx.digest, release\n ---> Running in 8f1c112a3a6f\n===> Analyzing applications...\n===> Compiling parse_trans\n==> hpax\nCompiling 4 files (.ex)\nGenerated hpax app\n===> Analyzing applications...\n===> Compiling mimerl\n==> connection\nCompiling 1 file (.ex)\nGenerated connection app\n==> diskusage_logger\nCompiling 2 files (.ex)\n\u001b[91mwarning: Supervisor.Spec.worker/2 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/diskusage_logger.ex:14: DiskUsageLogger.start/2\n\n\u001b[0mGenerated diskusage_logger app\n===> Analyzing applications...\n===> Compiling metrics\n===> Analyzing applications...\n===> Compiling unicode_util_compat\n===> Analyzing applications...\n===> Compiling idna\n==> gettext\nCompiling 1 file (.yrl)\nCompiling 1 file (.erl)\nCompiling 21 files (.ex)\nGenerated gettext app\n==> gen_stage\nCompiling 10 files (.ex)\nGenerated gen_stage app\n==> jose\nCompiling 106 files (.erl)\nCompiling 8 files (.ex)\nGenerated jose app\n===> Analyzing applications...\n===> Compiling ranch\n===> Analyzing applications...\n===> Compiling telemetry\n==> decimal\nCompiling 4 files (.ex)\nGenerated decimal app\n\u001b[91mwarning: found quoted keyword \"coveralls\" but the quotes are not required. Note that keywords are always atoms, even when quoted. Similar to atoms, keywords made exclusively of ASCII letters, numbers, and underscores do not require quotes\n  /root/deps/parallel_stream/mix.exs:17:30\n\n\u001b[0m==> parallel_stream\nCompiling 11 files (.ex)\n\u001b[91mwarning: Stream.chunk/4 is deprecated. Use Stream.chunk_every/4 instead\n  lib/parallel_stream/producer.ex:16: ParallelStream.Producer.build!/4\n\n\u001b[0mGenerated parallel_stream app\n===> Analyzing applications...\n===> Compiling ehmon\nsrc/ehmon_report_srv.erl:91:31: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\n\nsrc/ehmon_app.erl:62:10: Warning: variable '_App' is bound multiple times in this pattern. If you mean to ignore this value, use '_' or a different underscore-prefixed name\nsrc/ehmon_app.erl:62:49: Warning: variable '_App' is bound multiple times in this pattern. If you mean to ignore this value, use '_' or a different underscore-prefixed name\n\n==> jason\nCompiling 10 files (.ex)\nGenerated jason app\n==> ssl_verify_fun\nCompiling 7 files (.erl)\nGenerated ssl_verify_fun app\n==> combine\nCompiling 6 files (.ex)\nGenerated combine app\n==> castore\nCompiling 1 file (.ex)\nGenerated castore app\n==> mint\nCompiling 1 file (.erl)\nCompiling 19 files (.ex)\nGenerated mint app\n==> server_sent_event_stage\nCompiling 2 files (.ex)\nGenerated server_sent_event_stage app\n==> csv\nCompiling 10 files (.ex)\nGenerated csv app\n===> Analyzing applications...\n===> Compiling certifi\n===> Analyzing applications...\n===> Compiling hackney\n==> tzdata\nCompiling 17 files (.ex)\nGenerated tzdata app\n==> fast_local_datetime\nCompiling 6 files (.ex)\nGenerated fast_local_datetime app\n==> timex\nCompiling 62 files (.ex)\nCompiling lib/l10n/gettext.ex (it's taking more than 10s)\nGenerated timex app\n==> db_connection\nCompiling 14 files (.ex)\nGenerated db_connection app\n==> httpoison\nCompiling 3 files (.ex)\nGenerated httpoison app\n==> ecto\nCompiling 56 files (.ex)\nGenerated ecto app\n==> phoenix_pubsub\nCompiling 11 files (.ex)\nGenerated phoenix_pubsub app\n===> Analyzing applications...\n===> Compiling cowlib\n===> Analyzing applications...\n===> Compiling cowboy\n===> Analyzing applications...\n===> Compiling cowboy_telemetry\n==> mime\nCompiling 1 file (.ex)\nGenerated mime app\n==> ex_aws\nCompiling 27 files (.ex)\nGenerated ex_aws app\n==> ex_aws_rds\nCompiling 1 file (.ex)\nGenerated ex_aws_rds app\n==> ex_aws_secretsmanager\nCompiling 1 file (.ex)\nGenerated ex_aws_secretsmanager app\n==> postgrex\nCompiling 64 files (.ex)\nGenerated postgrex app\n==> ecto_sql\nCompiling 26 files (.ex)\nGenerated ecto_sql app\n==> plug_crypto\nCompiling 5 files (.ex)\nGenerated plug_crypto app\n==> plug\nCompiling 1 file (.erl)\nCompiling 41 files (.ex)\n\u001b[91mwarning: System.stacktrace/0 is deprecated. Use __STACKTRACE__ instead\n  lib/plug/conn/wrapper_error.ex:26: Plug.Conn.WrapperError.reraise/3\n\n\u001b[0mGenerated plug app\n==> guardian\nCompiling 25 files (.ex)\nGenerated guardian app\n==> laboratory\nCompiling 3 files (.ex)\nGenerated laboratory app\n==> logster\nCompiling 4 files (.ex)\nGenerated logster app\n==> phoenix_html\nCompiling 8 files (.ex)\nGenerated phoenix_html app\n==> phoenix_view\nCompiling 5 files (.ex)\nGenerated phoenix_view app\n==> plug_cowboy\nCompiling 5 files (.ex)\nGenerated plug_cowboy app\n==> phoenix\nCompiling 69 files (.ex)\nGenerated phoenix app\n==> guardian_phoenix\nCompiling 1 file (.ex)\nGenerated guardian_phoenix app\n==> sentry\nCompiling 14 files (.ex)\n\u001b[91mwarning: Mix.Project.compile/1 is deprecated. Use Mix.Task.run(\"compile\", args) instead\n  lib/mix/tasks/sentry.send_test_event.ex:12: Mix.Tasks.Sentry.SendTestEvent.run/1\n\n\u001b[0m\u001b[91mwarning: Supervisor.Spec.supervisor/2 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/sentry.ex:98: Sentry.start/2\n\n\u001b[0mGenerated sentry app\n==> ueberauth\nCompiling 9 files (.ex)\nGenerated ueberauth app\n==> ueberauth_cognito\nCompiling 4 files (.ex)\nGenerated ueberauth_cognito app\n==> phoenix_ecto\nCompiling 7 files (.ex)\nGenerated phoenix_ecto app\n==> skate\nCompiling 160 files (.ex)\nGenerated skate app\nCheck your digested files at \"priv/static\"\n* assembling skate-0.1.0 on MIX_ENV=prod\n* using config/releases.exs to configure the release at runtime\n* creating _build/prod/rel/skate/releases/0.1.0/vm.args\n* creating _build/prod/rel/skate/releases/0.1.0/env.sh\n* skipping elixir.bat for windows (bin/elixir.bat not found in the Elixir installation)\n* skipping iex.bat for windows (bin/iex.bat not found in the Elixir installation)\n\nRelease created at _build/prod/rel/skate!\n\n    # To start your system\n    _build/prod/rel/skate/bin/skate start\n\nOnce the release is running:\n\n    # To connect to it remotely\n    _build/prod/rel/skate/bin/skate remote\n\n    # To stop it gracefully (you may also send SIGINT/SIGTERM)\n    _build/prod/rel/skate/bin/skate stop\n\nTo list all commands:\n\n    _build/prod/rel/skate/bin/skate\n\nRemoving intermediate container 8f1c112a3a6f\n ---> 80b1baa0a537\nStep 21/33 : FROM alpine:3.15.4\n3.15.4: Pulling from library/alpine\ndf9b9388f04a: Already exists\nDigest: sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454\nStatus: Downloaded newer image for alpine:3.15.4\n ---> 0ac33e5f5afa\nStep 22/33 : RUN apk upgrade --no-cache --update\n ---> Running in 31a4fb7679a1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/6) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(2/6) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(3/6) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(4/6) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/6) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(6/6) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 6 MiB in 14 packages\nRemoving intermediate container 31a4fb7679a1\n ---> b10bbf8924c3\nStep 23/33 : RUN apk add --no-cache --update libssl1.1 libstdc++     libgcc ncurses-libs bash curl dumb-init\n ---> Running in f35dbfdff721\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/12) Installing ncurses-libs (6.3_p20211120-r1)\n(3/12) Installing readline (8.1.1-r0)\n(4/12) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/12) Installing ca-certificates (20220614-r0)\n(6/12) Installing brotli-libs (1.0.9-r5)\n(7/12) Installing nghttp2-libs (1.46.0-r0)\n(8/12) Installing libcurl (7.80.0-r5)\n(9/12) Installing curl (7.80.0-r5)\n(10/12) Installing dumb-init (1.2.5-r1)\n(11/12) Installing libgcc (10.3.1_git20211027-r0)\n(12/12) Installing libstdc++ (10.3.1_git20211027-r0)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 12 MiB in 26 packages\nRemoving intermediate container f35dbfdff721\n ---> 43968b639cd8\nStep 24/33 : RUN addgroup -S skate && adduser -S -G skate skate\n ---> Running in c40cbdf2631f\nRemoving intermediate container c40cbdf2631f\n ---> fca3f6f53b2f\nStep 25/33 : WORKDIR /home/skate\n ---> Running in 41157f82b15d\nRemoving intermediate container 41157f82b15d\n ---> ed485e7929ce\nStep 26/33 : USER skate\n ---> Running in cee25169744e\nRemoving intermediate container cee25169744e\n ---> a1dded751326\nStep 27/33 : ENV MIX_ENV=prod TERM=xterm LANG=\"C.UTF-8\" PORT=4000 REPLACE_OS_VARS=true\n ---> Running in a2caf0f468cd\nRemoving intermediate container a2caf0f468cd\n ---> efed05acdc94\nStep 28/33 : COPY --from=app-builder --chown=skate:skate /root/priv/static ./priv/static\n ---> 55f4b0d11496\nStep 29/33 : COPY --from=app-builder --chown=skate:skate /root/_build/prod/rel/skate .\n ---> e15f86f682af\nStep 30/33 : COPY --from=app-builder --chown=skate:skate /root/aws-cert-bundle.pem ./priv/aws-cert-bundle.pem\n ---> e7dbefa492ed\nStep 31/33 : EXPOSE 4000\n ---> Running in f9dc3a678e20\nRemoving intermediate container f9dc3a678e20\n ---> 2984023a8427\nStep 32/33 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in 9467e4abd347\nRemoving intermediate container 9467e4abd347\n ---> ddd1e60d9cf4\nStep 33/33 : CMD [\"bin/skate\", \"start\"]\n ---> Running in 6741caeab4db\nRemoving intermediate container 6741caeab4db\n ---> ecf0dcf3bd81\nSuccessfully built ecf0dcf3bd81\nSuccessfully tagged skate:latest\n","stderr":"","imageSize":80951036},"repair":{"startTime":1673167061331,"endTime":1673167061441,"violations":[{"name":"curlUseFlagL","position":{"start":36,"end":37,"columnStart":4,"columnEnd":26}},{"name":"curlUseFlagF","position":{"start":36,"end":37,"columnStart":4,"columnEnd":26}},{"name":"sha256sumEchoOneSpaces","position":{"start":38,"end":38,"columnStart":4,"columnEnd":113}}],"repairedDockerfile":"FROM hexpm/elixir:1.13.3-erlang-24.3.2-alpine-3.15.0 AS elixir-builder\n\n# elixir expects utf8.\nENV LANG=C.UTF-8 \\\n  MIX_ENV=prod\n\nWORKDIR /root\nADD . .\n\n# Install git so we can install dependencies from GitHub\nRUN apk add --no-cache --update git\n\n# Install Hex+Rebar+deps\nRUN mix local.hex --force && \\\n  mix local.rebar --force && \\\n  mix do deps.get --only prod\n\nFROM node:14-alpine3.15 as assets-builder\n\nWORKDIR /root\nADD . .\n\n# Copy in elixir deps required to build node modules for phoenix\nCOPY --from=elixir-builder /root/deps ./deps\n\nRUN npm --prefix assets ci\nRUN npm --prefix assets run deploy\n\nFROM elixir-builder as app-builder\n\nENV LANG=\"C.UTF-8\" MIX_ENV=prod\n\nRUN apk add --no-cache --update curl\n\nWORKDIR /root\n\nRUN curl -L -f https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem \\\n    -o aws-cert-bundle.pem\nRUN echo \"976de749e16140c2e91e2ea1daa508ef716be5decafbb9f0f77087abc879487b  aws-cert-bundle.pem\" | sha256sum -c -\n\n# Add frontend assets compiled in node container, required by phx.digest\nCOPY --from=assets-builder /root/priv/static ./priv/static\n\nRUN mix do compile --force, phx.digest, release\n\nFROM alpine:3.15.4\n\nRUN apk upgrade --no-cache --update\n\nRUN apk add --no-cache --update libssl1.1 libstdc++ \\\n    libgcc ncurses-libs bash curl dumb-init\n\n# Create non-root user\nRUN addgroup -S skate && adduser -S -G skate skate\nWORKDIR /home/skate\nUSER skate\n\n# Set environment\nENV MIX_ENV=prod TERM=xterm LANG=\"C.UTF-8\" PORT=4000 REPLACE_OS_VARS=true\n\n# Add frontend assets with manifests from app-builder container\nCOPY --from=app-builder --chown=skate:skate /root/priv/static ./priv/static\n\n# Add application artifact compiled in app-builder container\nCOPY --from=app-builder --chown=skate:skate /root/_build/prod/rel/skate .\n\nCOPY --from=app-builder --chown=skate:skate /root/aws-cert-bundle.pem ./priv/aws-cert-bundle.pem\n\nEXPOSE 4000\n\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n\n# Run the application\nCMD [\"bin/skate\", \"start\"]\n"},"repairedBuild":{"startTime":1673167066998,"endTime":1673167454133,"error":null,"stdout":"Sending build context to Docker daemon  16.54MB\r\r\nStep 1/33 : FROM hexpm/elixir:1.13.3-erlang-24.3.2-alpine-3.15.0 AS elixir-builder\n ---> d5e0803563b1\nStep 2/33 : ENV LANG=C.UTF-8   MIX_ENV=prod\n ---> Running in 4bcd0a813fc8\nRemoving intermediate container 4bcd0a813fc8\n ---> 2c11d663d620\nStep 3/33 : WORKDIR /root\n ---> Running in 13fdd4765973\nRemoving intermediate container 13fdd4765973\n ---> 1686023b35fd\nStep 4/33 : ADD . .\n ---> 9ea0e12a59d1\nStep 5/33 : RUN apk add --no-cache --update git\n ---> Running in 4405c175753c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r0)\n(2/7) Installing brotli-libs (1.0.9-r5)\n(3/7) Installing nghttp2-libs (1.46.0-r0)\n(4/7) Installing libcurl (7.80.0-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r3.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 24 MiB in 31 packages\nRemoving intermediate container 4405c175753c\n ---> d7b8add2fca4\nStep 6/33 : RUN mix local.hex --force &&   mix local.rebar --force &&   mix do deps.get --only prod\n ---> Running in 064546c76b33\n* creating .mix/archives/hex-2.0.0\n* creating .mix/rebar\n* creating .mix/rebar3\n* Getting ehmon (https://github.com/mbta/ehmon.git)\nremote: Enumerating objects: 145, done.        \nremote: Total 145 (delta 0), reused 0 (delta 0), pack-reused 145        \n* Getting laboratory (https://github.com/paulswartz/laboratory.git - cookie_opts)\nremote: Enumerating objects: 159, done.        \nremote: Total 159 (delta 0), reused 0 (delta 0), pack-reused 159        \nResolving Hex dependencies...\nResolution completed in 0.303s\nUnchanged:\n  castore 0.1.17\n  certifi 2.9.0\n  combine 0.10.0\n  connection 1.1.0\n  cowboy 2.9.0\n  cowboy_telemetry 0.4.0\n  cowlib 2.11.0\n  csv 2.4.1\n  db_connection 2.4.2\n  decimal 2.0.0\n  diskusage_logger 0.2.0\n  ecto 3.8.4\n  ecto_sql 3.8.3\n  ex_aws 2.3.3\n  ex_aws_rds 2.0.2\n  ex_aws_secretsmanager 2.0.0\n  fast_local_datetime 1.0.1\n  gen_stage 1.1.2\n  gettext 0.19.1\n  guardian 2.2.4\n  guardian_phoenix 2.0.1\n  hackney 1.18.1\n  hpax 0.1.1\n  httpoison 1.8.1\n  idna 6.1.1\n  jason 1.3.0\n  jose 1.11.2\n  logster 1.0.2\n  metrics 1.0.1\n  mime 2.0.2\n  mimerl 1.2.0\n  mint 1.4.2\n  parallel_stream 1.0.6\n  parse_trans 3.3.1\n  phoenix 1.6.10\n  phoenix_ecto 4.4.0\n  phoenix_html 3.2.0\n  phoenix_pubsub 2.1.1\n  phoenix_view 1.1.2\n  plug 1.13.6\n  plug_cowboy 2.5.2\n  plug_crypto 1.2.2\n  postgrex 0.16.3\n  ranch 1.8.0\n  sentry 7.2.5\n  server_sent_event_stage 1.1.0\n  ssl_verify_fun 1.1.6\n  telemetry 1.1.0\n  timex 3.7.8\n  tzdata 1.1.1\n  ueberauth 0.9.0\n  ueberauth_cognito 0.4.0\n  unicode_util_compat 0.7.0\n* Getting castore (Hex package)\n* Getting csv (Hex package)\n* Getting diskusage_logger (Hex package)\n* Getting ecto_sql (Hex package)\n* Getting ex_aws_rds (Hex package)\n* Getting ex_aws_secretsmanager (Hex package)\n* Getting ex_aws (Hex package)\n* Getting fast_local_datetime (Hex package)\n* Getting gen_stage (Hex package)\n* Getting guardian_phoenix (Hex package)\n* Getting guardian (Hex package)\n* Getting httpoison (Hex package)\n* Getting jason (Hex package)\n* Getting logster (Hex package)\n* Getting phoenix_ecto (Hex package)\n* Getting phoenix_html (Hex package)\n* Getting phoenix_pubsub (Hex package)\n* Getting phoenix (Hex package)\n* Getting plug_cowboy (Hex package)\n* Getting postgrex (Hex package)\n* Getting sentry (Hex package)\n* Getting server_sent_event_stage (Hex package)\n* Getting ssl_verify_fun (Hex package)\n* Getting timex (Hex package)\n* Getting ueberauth_cognito (Hex package)\n* Getting ueberauth (Hex package)\n* Getting plug (Hex package)\n* Getting mime (Hex package)\n* Getting plug_crypto (Hex package)\n* Getting telemetry (Hex package)\n* Getting hackney (Hex package)\n* Getting jose (Hex package)\n* Getting certifi (Hex package)\n* Getting idna (Hex package)\n* Getting metrics (Hex package)\n* Getting mimerl (Hex package)\n* Getting parse_trans (Hex package)\n* Getting unicode_util_compat (Hex package)\n* Getting combine (Hex package)\n* Getting gettext (Hex package)\n* Getting tzdata (Hex package)\n* Getting mint (Hex package)\n* Getting hpax (Hex package)\n* Getting connection (Hex package)\n* Getting db_connection (Hex package)\n* Getting decimal (Hex package)\n* Getting cowboy (Hex package)\n* Getting cowboy_telemetry (Hex package)\n* Getting cowlib (Hex package)\n* Getting ranch (Hex package)\n* Getting phoenix_view (Hex package)\n* Getting ecto (Hex package)\n* Getting parallel_stream (Hex package)\nYou have added/upgraded packages you could sponsor, run `mix hex.sponsor` to learn more\nRemoving intermediate container 064546c76b33\n ---> 6e155891294a\nStep 7/33 : FROM node:14-alpine3.15 as assets-builder\n ---> 6dad24e1870b\nStep 8/33 : WORKDIR /root\n ---> Running in 80caa107dda3\nRemoving intermediate container 80caa107dda3\n ---> 1436c5a32b5c\nStep 9/33 : ADD . .\n ---> 0c79f044d2e0\nStep 10/33 : COPY --from=elixir-builder /root/deps ./deps\n ---> f930b2d38fa8\nStep 11/33 : RUN npm --prefix assets ci\n ---> Running in 5abfbf62ebaf\n\n> core-js@3.21.1 postinstall /root/assets/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-sass@7.0.3 install /root/assets/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v7.0.3/linux_musl-x64-83_binding.node\nDownload complete\nBinary saved to /root/assets/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nCaching binary to /root/.npm/_cacache/node-sass/7.0.3/linux_musl-x64-83_binding.node\n\n> node-sass@7.0.3 postinstall /root/assets/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /root/assets/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nTesting binary\nBinary is fine\n\n> core-js-pure@3.25.3 postinstall /root/assets/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\nadded 1196 packages in 12.344s\nRemoving intermediate container 5abfbf62ebaf\n ---> 86fb40cfe062\nStep 12/33 : RUN npm --prefix assets run deploy\n ---> Running in 6ebc13fadcbb\n\n> skate@ deploy /root/assets\n> webpack --mode production\n\nassets by path ../images/ 45.7 KiB\n  assets by path ../images/*.svg 43.6 KiB 61 assets\n  assets by path ../images/*.png 2.02 KiB 2 assets\nassets by path ../fonts/ 4.32 MiB\n  assets by path ../fonts/*.woff 2.48 MiB 18 assets\n  assets by path ../fonts/*.woff2 1.84 MiB 18 assets\nassets by path *.png 6.35 KiB\n  asset 680f69f3c2e6b90c1812.png 2.41 KiB [emitted] [immutable] [from: node_modules/leaflet/dist/images/marker-icon-2x.png]\n  asset 2b3e1faf89f94a483539.png 1.43 KiB [emitted] [immutable] [from: node_modules/leaflet/dist/images/marker-icon.png]\n  + 3 assets\nassets by chunk 1.08 MiB (name: ./js/app.tsx)\n  asset app.js 988 KiB [emitted] [minimized] [big] (name: ./js/app.tsx) 2 related assets\n  asset ../css/app.css 121 KiB [emitted] [minimized] (name: ./js/app.tsx) 1 related asset\nasset ../favicon.ico 1000 bytes [emitted] [from: static/favicon.ico] [copied]\nasset ../robots.txt 65 bytes [emitted] [from: static/robots.txt] [copied]\nEntrypoint ./js/app.tsx [big] 1.08 MiB (3.96 MiB) = ../css/app.css 121 KiB app.js 988 KiB 2 auxiliary assets\norphan modules 1.77 MiB (javascript) 6.35 KiB (asset) 4.21 KiB (runtime) [orphan] 422 modules\nruntime modules 1.54 KiB 6 modules\njavascript modules 2.33 MiB\n  modules by path ./node_modules/core-js/ 491 KiB 447 modules\n  modules by path ./static/images/*.svg 39.2 KiB 60 modules\n  modules by path ./node_modules/react-dom/ 135 KiB 5 modules\n  modules by path ./node_modules/@sentry/ 13.5 KiB 3 modules\n  modules by path ./node_modules/react/ 6.94 KiB 2 modules\n  + 7 modules\ncss modules 124 KiB\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./css/app.scss 111 KiB [built] [code generated]\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css 946 bytes [built] [code generated]\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/leaflet/dist/leaflet.css 11.1 KiB [built] [code generated]\n  css ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/tippy.js/dist/tippy.css 1.38 KiB [built] [code generated]\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  app.js (988 KiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  ./js/app.tsx (1.08 MiB)\n      ../css/app.css\n      app.js\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\nwebpack 5.74.0 compiled with 3 warnings in 30480 ms\nRemoving intermediate container 6ebc13fadcbb\n ---> ce790562fd84\nStep 13/33 : FROM elixir-builder as app-builder\n ---> 6e155891294a\nStep 14/33 : ENV LANG=\"C.UTF-8\" MIX_ENV=prod\n ---> Running in 5cfb25055ced\nRemoving intermediate container 5cfb25055ced\n ---> cd6fd467cc6a\nStep 15/33 : RUN apk add --no-cache --update curl\n ---> Running in c78a7a1349de\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing curl (7.80.0-r5)\nExecuting busybox-1.34.1-r3.trigger\nOK: 24 MiB in 32 packages\nRemoving intermediate container c78a7a1349de\n ---> 9436dfe6b669\nStep 16/33 : WORKDIR /root\n ---> Running in 74877f54b412\nRemoving intermediate container 74877f54b412\n ---> 3cebddc6175e\nStep 17/33 : RUN curl -L -f https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem     -o aws-cert-bundle.pem\n ---> Running in 13d91179e8ff\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   To\u001b[0m\u001b[91mtal   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:\u001b[0m\u001b[91m--     0\u001b[0m\u001b[91m\r100  165k  100  165k    0     0  4164k \u001b[0m\u001b[91m     0 --:--:-- --:--:-- --:--:-- 4245k\n\u001b[0mRemoving intermediate container 13d91179e8ff\n ---> 5eb67dd777b2\nStep 18/33 : RUN echo \"976de749e16140c2e91e2ea1daa508ef716be5decafbb9f0f77087abc879487b  aws-cert-bundle.pem\" | sha256sum -c -\n ---> Running in 912b4cd26260\naws-cert-bundle.pem: OK\nRemoving intermediate container 912b4cd26260\n ---> 147b0fa4682c\nStep 19/33 : COPY --from=assets-builder /root/priv/static ./priv/static\n ---> a520e81804e1\nStep 20/33 : RUN mix do compile --force, phx.digest, release\n ---> Running in 1eea0f3e26d3\n===> Analyzing applications...\n===> Compiling parse_trans\n==> hpax\nCompiling 4 files (.ex)\nGenerated hpax app\n===> Analyzing applications...\n===> Compiling mimerl\n==> connection\nCompiling 1 file (.ex)\nGenerated connection app\n==> diskusage_logger\nCompiling 2 files (.ex)\n\u001b[91mwarning: Supervisor.Spec.worker/2 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/diskusage_logger.ex:14: DiskUsageLogger.start/2\n\n\u001b[0mGenerated diskusage_logger app\n===> Analyzing applications...\n===> Compiling metrics\n===> Analyzing applications...\n===> Compiling unicode_util_compat\n===> Analyzing applications...\n===> Compiling idna\n==> gettext\nCompiling 1 file (.yrl)\nCompiling 1 file (.erl)\nCompiling 21 files (.ex)\nGenerated gettext app\n==> gen_stage\nCompiling 10 files (.ex)\nGenerated gen_stage app\n==> jose\nCompiling 106 files (.erl)\nCompiling 8 files (.ex)\nGenerated jose app\n===> Analyzing applications...\n===> Compiling ranch\n===> Analyzing applications...\n===> Compiling telemetry\n==> decimal\nCompiling 4 files (.ex)\nGenerated decimal app\n\u001b[91mwarning: found quoted keyword \"coveralls\" but the quotes are not required. Note that keywords are always atoms, even when quoted. Similar to atoms, keywords made exclusively of ASCII letters, numbers, and underscores do not require quotes\n  /root/deps/parallel_stream/mix.exs:17:30\n\n\u001b[0m==> parallel_stream\nCompiling 11 files (.ex)\n\u001b[91mwarning: Stream.chunk/4 is deprecated. Use Stream.chunk_every/4 instead\n  lib/parallel_stream/producer.ex:16: ParallelStream.Producer.build!/4\n\n\u001b[0mGenerated parallel_stream app\n===> Analyzing applications...\n===> Compiling ehmon\nsrc/ehmon_report_srv.erl:91:31: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\n\nsrc/ehmon_app.erl:62:10: Warning: variable '_App' is bound multiple times in this pattern. If you mean to ignore this value, use '_' or a different underscore-prefixed name\nsrc/ehmon_app.erl:62:49: Warning: variable '_App' is bound multiple times in this pattern. If you mean to ignore this value, use '_' or a different underscore-prefixed name\n\n==> jason\nCompiling 10 files (.ex)\nGenerated jason app\n==> ssl_verify_fun\nCompiling 7 files (.erl)\nGenerated ssl_verify_fun app\n==> combine\nCompiling 6 files (.ex)\nGenerated combine app\n==> castore\nCompiling 1 file (.ex)\nGenerated castore app\n==> mint\nCompiling 1 file (.erl)\nCompiling 19 files (.ex)\nGenerated mint app\n==> server_sent_event_stage\nCompiling 2 files (.ex)\nGenerated server_sent_event_stage app\n==> csv\nCompiling 10 files (.ex)\nGenerated csv app\n===> Analyzing applications...\n===> Compiling certifi\n===> Analyzing applications...\n===> Compiling hackney\n==> tzdata\nCompiling 17 files (.ex)\nGenerated tzdata app\n==> fast_local_datetime\nCompiling 6 files (.ex)\nGenerated fast_local_datetime app\n==> timex\nCompiling 62 files (.ex)\nCompiling lib/l10n/gettext.ex (it's taking more than 10s)\nGenerated timex app\n==> db_connection\nCompiling 14 files (.ex)\nGenerated db_connection app\n==> httpoison\nCompiling 3 files (.ex)\nGenerated httpoison app\n==> ecto\nCompiling 56 files (.ex)\nGenerated ecto app\n==> phoenix_pubsub\nCompiling 11 files (.ex)\nGenerated phoenix_pubsub app\n===> Analyzing applications...\n===> Compiling cowlib\n===> Analyzing applications...\n===> Compiling cowboy\n===> Analyzing applications...\n===> Compiling cowboy_telemetry\n==> mime\nCompiling 1 file (.ex)\nGenerated mime app\n==> ex_aws\nCompiling 27 files (.ex)\nGenerated ex_aws app\n==> ex_aws_rds\nCompiling 1 file (.ex)\nGenerated ex_aws_rds app\n==> ex_aws_secretsmanager\nCompiling 1 file (.ex)\nGenerated ex_aws_secretsmanager app\n==> postgrex\nCompiling 64 files (.ex)\nGenerated postgrex app\n==> ecto_sql\nCompiling 26 files (.ex)\nGenerated ecto_sql app\n==> plug_crypto\nCompiling 5 files (.ex)\nGenerated plug_crypto app\n==> plug\nCompiling 1 file (.erl)\nCompiling 41 files (.ex)\n\u001b[91mwarning: System.stacktrace/0 is deprecated. Use __STACKTRACE__ instead\n  lib/plug/conn/wrapper_error.ex:26: Plug.Conn.WrapperError.reraise/3\n\n\u001b[0mGenerated plug app\n==> guardian\nCompiling 25 files (.ex)\nGenerated guardian app\n==> laboratory\nCompiling 3 files (.ex)\nGenerated laboratory app\n==> logster\nCompiling 4 files (.ex)\nGenerated logster app\n==> phoenix_html\nCompiling 8 files (.ex)\nGenerated phoenix_html app\n==> phoenix_view\nCompiling 5 files (.ex)\nGenerated phoenix_view app\n==> plug_cowboy\nCompiling 5 files (.ex)\nGenerated plug_cowboy app\n==> phoenix\nCompiling 69 files (.ex)\nGenerated phoenix app\n==> guardian_phoenix\nCompiling 1 file (.ex)\nGenerated guardian_phoenix app\n==> sentry\nCompiling 14 files (.ex)\n\u001b[91mwarning: Mix.Project.compile/1 is deprecated. Use Mix.Task.run(\"compile\", args) instead\n  lib/mix/tasks/sentry.send_test_event.ex:12: Mix.Tasks.Sentry.SendTestEvent.run/1\n\n\u001b[0m\u001b[91mwarning: Supervisor.Spec.supervisor/2 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/sentry.ex:98: Sentry.start/2\n\n\u001b[0mGenerated sentry app\n==> ueberauth\nCompiling 9 files (.ex)\nGenerated ueberauth app\n==> ueberauth_cognito\nCompiling 4 files (.ex)\nGenerated ueberauth_cognito app\n==> phoenix_ecto\nCompiling 7 files (.ex)\nGenerated phoenix_ecto app\n==> skate\nCompiling 160 files (.ex)\nGenerated skate app\nCheck your digested files at \"priv/static\"\n* assembling skate-0.1.0 on MIX_ENV=prod\n* using config/releases.exs to configure the release at runtime\n* creating _build/prod/rel/skate/releases/0.1.0/vm.args\n* creating _build/prod/rel/skate/releases/0.1.0/env.sh\n* skipping elixir.bat for windows (bin/elixir.bat not found in the Elixir installation)\n* skipping iex.bat for windows (bin/iex.bat not found in the Elixir installation)\n\nRelease created at _build/prod/rel/skate!\n\n    # To start your system\n    _build/prod/rel/skate/bin/skate start\n\nOnce the release is running:\n\n    # To connect to it remotely\n    _build/prod/rel/skate/bin/skate remote\n\n    # To stop it gracefully (you may also send SIGINT/SIGTERM)\n    _build/prod/rel/skate/bin/skate stop\n\nTo list all commands:\n\n    _build/prod/rel/skate/bin/skate\n\nRemoving intermediate container 1eea0f3e26d3\n ---> 34afd01b88c9\nStep 21/33 : FROM alpine:3.15.4\n ---> 0ac33e5f5afa\nStep 22/33 : RUN apk upgrade --no-cache --update\n ---> Running in 4550c4b4c53b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/6) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(2/6) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(3/6) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(4/6) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/6) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(6/6) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 6 MiB in 14 packages\nRemoving intermediate container 4550c4b4c53b\n ---> 832b83eff5c9\nStep 23/33 : RUN apk add --no-cache --update libssl1.1 libstdc++     libgcc ncurses-libs bash curl dumb-init\n ---> Running in 3df37ae86ae9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/12) Installing ncurses-libs (6.3_p20211120-r1)\n(3/12) Installing readline (8.1.1-r0)\n(4/12) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/12) Installing ca-certificates (20220614-r0)\n(6/12) Installing brotli-libs (1.0.9-r5)\n(7/12) Installing nghttp2-libs (1.46.0-r0)\n(8/12) Installing libcurl (7.80.0-r5)\n(9/12) Installing curl (7.80.0-r5)\n(10/12) Installing dumb-init (1.2.5-r1)\n(11/12) Installing libgcc (10.3.1_git20211027-r0)\n(12/12) Installing libstdc++ (10.3.1_git20211027-r0)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 12 MiB in 26 packages\nRemoving intermediate container 3df37ae86ae9\n ---> 4669fd9bc411\nStep 24/33 : RUN addgroup -S skate && adduser -S -G skate skate\n ---> Running in 273958b90fd3\nRemoving intermediate container 273958b90fd3\n ---> 95b6d4c0c9ef\nStep 25/33 : WORKDIR /home/skate\n ---> Running in 85cba309c1fb\nRemoving intermediate container 85cba309c1fb\n ---> 9f8fb47af13c\nStep 26/33 : USER skate\n ---> Running in 776d1c37199d\nRemoving intermediate container 776d1c37199d\n ---> 7b7b4515f96b\nStep 27/33 : ENV MIX_ENV=prod TERM=xterm LANG=\"C.UTF-8\" PORT=4000 REPLACE_OS_VARS=true\n ---> Running in a741dd449a7b\nRemoving intermediate container a741dd449a7b\n ---> ada0755c0a87\nStep 28/33 : COPY --from=app-builder --chown=skate:skate /root/priv/static ./priv/static\n ---> bf9a58fed074\nStep 29/33 : COPY --from=app-builder --chown=skate:skate /root/_build/prod/rel/skate .\n ---> ae08b16abd51\nStep 30/33 : COPY --from=app-builder --chown=skate:skate /root/aws-cert-bundle.pem ./priv/aws-cert-bundle.pem\n ---> d823b77b72dc\nStep 31/33 : EXPOSE 4000\n ---> Running in 3b8b3a06f9bb\nRemoving intermediate container 3b8b3a06f9bb\n ---> e2d8f729178a\nStep 32/33 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in 8981fdd84a4d\nRemoving intermediate container 8981fdd84a4d\n ---> 4a64ef1e13b4\nStep 33/33 : CMD [\"bin/skate\", \"start\"]\n ---> Running in bbf055e25342\nRemoving intermediate container bbf055e25342\n ---> 5fb63175d96d\nSuccessfully built 5fb63175d96d\nSuccessfully tagged skate:latest\n","stderr":"","imageSize":80951012}}