{"repository":"https://github.com/hunshcn/gh-proxy","dockerfilePath":"Dockerfile","startTime":1672307063885,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/hunshcn/gh-proxy'...\n","error":null,"commit":"4d1ac0a5f0467e4aad0848777d343c68192b900d"},"originalBuild":{"startTimestamp":1672307064653,"endTimestamp":1672307106273,"error":null,"stdout":"Sending build context to Docker daemon   98.3kB\r\r\nStep 1/12 : FROM guysoft/uwsgi-nginx:python3.7\npython3.7: Pulling from guysoft/uwsgi-nginx\n627b765e08d1: Already exists\nc040670e5e55: Already exists\n073a180f4992: Already exists\nbf76209566d0: Already exists\nca7044ed766e: Already exists\n7b16520e0e66: Pulling fs layer\n07bc148fcbb7: Pulling fs layer\na569e412c8c8: Pulling fs layer\n2058655e9525: Pulling fs layer\n565b6acf8719: Pulling fs layer\n1db5a5fb5810: Pulling fs layer\ne5520884121e: Pulling fs layer\nded6204b315a: Pulling fs layer\nf0b182f739a7: Pulling fs layer\n347726372418: Pulling fs layer\nbb458b365de6: Pulling fs layer\n1dd7910b97a1: Pulling fs layer\nd9dd3916e240: Pulling fs layer\nbc60b4cfec98: Pulling fs layer\n380e28891eb5: Pulling fs layer\n2f314e5e5c97: Pulling fs layer\n2058655e9525: Waiting\ne5520884121e: Waiting\nded6204b315a: Waiting\n1db5a5fb5810: Waiting\n347726372418: Waiting\nf0b182f739a7: Waiting\n565b6acf8719: Waiting\nbb458b365de6: Waiting\n1dd7910b97a1: Waiting\nd9dd3916e240: Waiting\n380e28891eb5: Waiting\nbc60b4cfec98: Waiting\n2f314e5e5c97: Waiting\na569e412c8c8: Download complete\n7b16520e0e66: Verifying Checksum\n7b16520e0e66: Download complete\n07bc148fcbb7: Verifying Checksum\n07bc148fcbb7: Download complete\n2058655e9525: Verifying Checksum\n2058655e9525: Download complete\n565b6acf8719: Verifying Checksum\n565b6acf8719: Download complete\nded6204b315a: Verifying Checksum\nded6204b315a: Download complete\n1db5a5fb5810: Verifying Checksum\n1db5a5fb5810: Download complete\n7b16520e0e66: Pull complete\ne5520884121e: Verifying Checksum\ne5520884121e: Download complete\nf0b182f739a7: Verifying Checksum\nf0b182f739a7: Download complete\nbb458b365de6: Download complete\n347726372418: Verifying Checksum\n347726372418: Download complete\n1dd7910b97a1: Verifying Checksum\n1dd7910b97a1: Download complete\n07bc148fcbb7: Pull complete\nbc60b4cfec98: Verifying Checksum\nbc60b4cfec98: Download complete\na569e412c8c8: Pull complete\nd9dd3916e240: Verifying Checksum\nd9dd3916e240: Download complete\n380e28891eb5: Verifying Checksum\n380e28891eb5: Download complete\n2058655e9525: Pull complete\n2f314e5e5c97: Download complete\n565b6acf8719: Pull complete\n1db5a5fb5810: Pull complete\ne5520884121e: Pull complete\nded6204b315a: Pull complete\nf0b182f739a7: Pull complete\n347726372418: Pull complete\nbb458b365de6: Pull complete\n1dd7910b97a1: Pull complete\nd9dd3916e240: Pull complete\nbc60b4cfec98: Pull complete\n380e28891eb5: Pull complete\n2f314e5e5c97: Pull complete\nDigest: sha256:4028d7dfebc0efa24e6a221bb8e057d90044c11b0bbd49d74294ea752c6d0e40\nStatus: Downloaded newer image for guysoft/uwsgi-nginx:python3.7\n ---> ea440de6f8db\nStep 2/12 : LABEL maintainer=\"hunshcn <hunsh.cn@gmail.com>\"\n ---> Running in ff644099079b\nRemoving intermediate container ff644099079b\n ---> 799a272c4366\nStep 3/12 : RUN pip install flask requests\n ---> Running in 543a7dcee4de\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nInstalling collected packages: zipp, typing-extensions, MarkupSafe, importlib-metadata, Werkzeug, urllib3, Jinja2, itsdangerous, idna, click, charset-normalizer, certifi, requests, flask\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 Werkzeug-2.2.2 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 flask-2.2.2 idna-3.4 importlib-metadata-5.2.0 itsdangerous-2.1.2 requests-2.28.1 typing-extensions-4.4.0 urllib3-1.26.13 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 543a7dcee4de\n ---> 1dcf5422dc43\nStep 4/12 : COPY ./app /app\n ---> 9634825277e6\nStep 5/12 : WORKDIR /app\n ---> Running in b27890ae79b5\nRemoving intermediate container b27890ae79b5\n ---> 4422ca127a0f\nStep 6/12 : ENV PYTHONPATH=/app\n ---> Running in 508fd80b8768\nRemoving intermediate container 508fd80b8768\n ---> 4ab5e73b4c04\nStep 7/12 : RUN mv /entrypoint.sh /uwsgi-nginx-entrypoint.sh\n ---> Running in f2c200773214\nRemoving intermediate container f2c200773214\n ---> 5ec4bed64b38\nStep 8/12 : COPY entrypoint.sh /entrypoint.sh\n ---> 4af92848899f\nStep 9/12 : RUN chmod +x /entrypoint.sh\n ---> Running in 06a713829dbf\nRemoving intermediate container 06a713829dbf\n ---> f133d709affa\nStep 10/12 : ENTRYPOINT [\"/entrypoint.sh\"]\n ---> Running in 0453ef5d74a4\nRemoving intermediate container 0453ef5d74a4\n ---> b0bb3db992ee\nStep 11/12 : EXPOSE 80\n ---> Running in 5a3bdea3e25c\nRemoving intermediate container 5a3bdea3e25c\n ---> 4791fc329f08\nStep 12/12 : CMD [\"/start.sh\"]\n ---> Running in 12da1b451304\nRemoving intermediate container 12da1b451304\n ---> b63c8558a2f2\nSuccessfully built b63c8558a2f2\nSuccessfully tagged gh-proxy:latest\n","stderr":"","imageSize":910362723},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":4,"end":4,"columnStart":4,"columnEnd":30}}],"repairedDockerfile":"FROM guysoft/uwsgi-nginx:python3.7\n\nLABEL maintainer=\"hunshcn <hunsh.cn@gmail.com>\"\n\nRUN pip install --no-cache-dir flask requests\n\nCOPY ./app /app\nWORKDIR /app\n\n# Make /app/* available to be imported by Python globally to better support several use cases like Alembic migrations.\nENV PYTHONPATH=/app\n\n# Move the base entrypoint to reuse it\nRUN mv /entrypoint.sh /uwsgi-nginx-entrypoint.sh\n# Copy the entrypoint that will generate Nginx additional configs\nCOPY entrypoint.sh /entrypoint.sh\nRUN chmod +x /entrypoint.sh\n\nENTRYPOINT [\"/entrypoint.sh\"]\n\n# Run the start script provided by the parent image tiangolo/uwsgi-nginx.\n# It will check for an /app/prestart.sh script (e.g. for migrations)\n# And then will start Supervisor, which in turn will start Nginx and uWSGI\n\nEXPOSE 80\n\nCMD [\"/start.sh\"]\n"},"repairedBuild":{"startTimestamp":1672307106609,"endTimestamp":1672307127397,"error":null,"stdout":"Sending build context to Docker daemon   98.3kB\r\r\nStep 1/12 : FROM guysoft/uwsgi-nginx:python3.7\n ---> ea440de6f8db\nStep 2/12 : LABEL maintainer=\"hunshcn <hunsh.cn@gmail.com>\"\n ---> Running in 9ec83ba11422\nRemoving intermediate container 9ec83ba11422\n ---> dbf2800d8061\nStep 3/12 : RUN pip install --no-cache-dir flask requests\n ---> Running in 03bc08ff05fc\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nInstalling collected packages: zipp, typing-extensions, MarkupSafe, importlib-metadata, Werkzeug, urllib3, Jinja2, itsdangerous, idna, click, charset-normalizer, certifi, requests, flask\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 Werkzeug-2.2.2 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 flask-2.2.2 idna-3.4 importlib-metadata-5.2.0 itsdangerous-2.1.2 requests-2.28.1 typing-extensions-4.4.0 urllib3-1.26.13 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 03bc08ff05fc\n ---> 3c082f331d11\nStep 4/12 : COPY ./app /app\n ---> ff70bedb7521\nStep 5/12 : WORKDIR /app\n ---> Running in 45ee98d6c69c\nRemoving intermediate container 45ee98d6c69c\n ---> e837ef38f87c\nStep 6/12 : ENV PYTHONPATH=/app\n ---> Running in 684fe0b89e06\nRemoving intermediate container 684fe0b89e06\n ---> bad30f7eb6af\nStep 7/12 : RUN mv /entrypoint.sh /uwsgi-nginx-entrypoint.sh\n ---> Running in 9be21f167aca\nRemoving intermediate container 9be21f167aca\n ---> 6c11332862e3\nStep 8/12 : COPY entrypoint.sh /entrypoint.sh\n ---> f7a0ddc7a641\nStep 9/12 : RUN chmod +x /entrypoint.sh\n ---> Running in f5ed37cc34a9\nRemoving intermediate container f5ed37cc34a9\n ---> 5d0c940a955e\nStep 10/12 : ENTRYPOINT [\"/entrypoint.sh\"]\n ---> Running in ada36b3d7d57\nRemoving intermediate container ada36b3d7d57\n ---> 9978be22a420\nStep 11/12 : EXPOSE 80\n ---> Running in e6e076fc84e1\nRemoving intermediate container e6e076fc84e1\n ---> 8345532d6785\nStep 12/12 : CMD [\"/start.sh\"]\n ---> Running in 93f04586be48\nRemoving intermediate container 93f04586be48\n ---> 78b7ea32abfd\nSuccessfully built 78b7ea32abfd\nSuccessfully tagged gh-proxy:latest\n","stderr":"","imageSize":908984163},"endTime":1672307127637}