{"repository":"https://github.com/dxw/rails-template","dockerfilePath":"Dockerfile","startTime":1673176936628,"endTime":1673177354779,"clone":{"startTime":1673176936640,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dxw/rails-template'...\n","error":null,"endTime":1673176937490,"commit":"61d4356e6f6df412e0ceb2f00cef4eaba2243459"},"originalBuild":{"startTime":1673176937577,"endTime":1673177354716,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t rails-template:latest -f /tmp/dinghy-analysis/dxw/rails-template/Dockerfile ."},"stdout":"Sending build context to Docker daemon  334.3kB\r\r\nStep 1/67 : FROM ruby:2.7.4 as base\n2.7.4: Pulling from library/ruby\n647acf3d48c2: Pulling fs layer\nb02967ef0034: Pulling fs layer\ne1ad2231829e: Pulling fs layer\n5576ce26bf1d: Pulling fs layer\na66b7f31b095: Pulling fs layer\n11c270d8f828: Pulling fs layer\n9cf1943fd946: Pulling fs layer\n078b5f9e45c2: Pulling fs layer\n5576ce26bf1d: Waiting\na66b7f31b095: Waiting\n11c270d8f828: Waiting\n078b5f9e45c2: Waiting\n9cf1943fd946: Waiting\nb02967ef0034: Verifying Checksum\nb02967ef0034: Download complete\ne1ad2231829e: Verifying Checksum\ne1ad2231829e: Download complete\n647acf3d48c2: Verifying Checksum\n647acf3d48c2: Download complete\n11c270d8f828: Download complete\n5576ce26bf1d: Verifying Checksum\n5576ce26bf1d: Download complete\n9cf1943fd946: Verifying Checksum\n9cf1943fd946: Download complete\n078b5f9e45c2: Verifying Checksum\n078b5f9e45c2: Download complete\n647acf3d48c2: Pull complete\na66b7f31b095: Verifying Checksum\na66b7f31b095: Download complete\nb02967ef0034: Pull complete\ne1ad2231829e: Pull complete\n5576ce26bf1d: Pull complete\na66b7f31b095: Pull complete\n11c270d8f828: Pull complete\n9cf1943fd946: Pull complete\n078b5f9e45c2: Pull complete\nDigest: sha256:c4f29f28d297efcce62455a20d38383155a85eda9de38ed4635c2c5f3017df03\nStatus: Downloaded newer image for ruby:2.7.4\n ---> 5dabe9ad55ff\nStep 2/67 : LABEL org.opencontainers.image.authors=\"contact@dxw.com\"\n ---> Running in 4d55a0ba7490\nRemoving intermediate container 4d55a0ba7490\n ---> e024cf024390\nStep 3/67 : RUN curl -L https://deb.nodesource.com/setup_16.x | bash -\n ---> Running in 4f698eb9c536\n\u001b[91m  % Total    % Received % Xfer\u001b[0m\u001b[91md  Average Speed   Time   \u001b[0m\u001b[91m Ti\u001b[0m\u001b[91mme    \u001b[0m\u001b[91m Ti\u001b[0m\u001b[91mme  C\u001b[0m\u001b[91murr\u001b[0m\u001b[91ment\n         \u001b[0m\u001b[91m  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m     \u001b[0m\u001b[91m   \u001b[0m\u001b[91m     \u001b[0m\u001b[91m      Dlo\u001b[0m\u001b[91mad  U\u001b[0m\u001b[91mpload  \u001b[0m\u001b[91m Total  \u001b[0m\u001b[91m Sp\u001b[0m\u001b[91ment    Left  S\u001b[0m\u001b[91mpeed\n\u001b[0m\u001b[91m\r \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m     0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m     0   \u001b[0m\u001b[91m 0     \u001b[0m\u001b[91m0      0  \u001b[0m\u001b[91m    0 --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m -\u001b[0m\u001b[91m-:--:-\u001b[0m\u001b[91m-     0\u001b[0m\u001b[91m\r100 15765  100 15765    0  \u001b[0m\u001b[91m   0   327k      0 --:--:-\u001b[0m\u001b[91m- \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m--:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m 32\u001b[0m\u001b[91m7k\u001b[0m\u001b[91m\n\u001b[0m\n## Installing the NodeSource Node.js 16.x repo...\n\n\n## Populating apt-get cache...\n\n+ apt-get update\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (3542 kB/s)\nReading package lists...\n\n## Installing packages required for setup: lsb-release...\n\n+ apt-get install -y lsb-release > /dev/null 2>&1\n\n## Confirming \"bullseye\" is supported...\n\n+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_16.x/dists/bullseye/Release'\n\n## Adding the NodeSource signing key to your keyring...\n\n+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null\n\n## Creating apt sources list file for the NodeSource Node.js 16.x repo...\n\n+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x bullseye main' > /etc/apt/sources.list.d/nodesource.list\n+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x bullseye main' >> /etc/apt/sources.list.d/nodesource.list\n\n## Running `apt-get update` for you...\n\n+ apt-get update\nHit:1 http://security.debian.org/debian-security bullseye-security InRelease\nHit:2 http://deb.debian.org/debian bullseye InRelease\nHit:3 http://deb.debian.org/debian bullseye-updates InRelease\nGet:4 https://deb.nodesource.com/node_16.x bullseye InRelease [4586 B]\nGet:5 https://deb.nodesource.com/node_16.x bullseye/main amd64 Packages [773 B]\nFetched 5359 B in 1s (5882 B/s)\nReading package lists...\n\n## Run `sudo apt-get install -y nodejs` to install Node.js 16.x and npm\n## You may also need development tools to build native addons:\n     sudo apt-get install gcc g++ make\n## To install the Yarn package manager, run:\n     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null\n     echo \"deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\n     sudo apt-get update && sudo apt-get install yarn\n\n\nRemoving intermediate container 4f698eb9c536\n ---> b3325264d6a7\nStep 4/67 : RUN curl https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -\n ---> Running in 02448298e365\n\u001b[91m  % Total    % Received\u001b[0m\u001b[91m % Xferd  Average Sp\u001b[0m\u001b[91mee\u001b[0m\u001b[91md   T\u001b[0m\u001b[91mime    \u001b[0m\u001b[91mTime    \u001b[0m\u001b[91m Time \u001b[0m\u001b[91m Current\u001b[0m\u001b[91m\n \u001b[0m\u001b[91m    \u001b[0m\u001b[91m   \u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91m            \u001b[0m\u001b[91m    \u001b[0m\u001b[91m      D\u001b[0m\u001b[91mload\u001b[0m\u001b[91m  Upload  \u001b[0m\u001b[91m Tot\u001b[0m\u001b[91mal \u001b[0m\u001b[91m  Spent \u001b[0m\u001b[91m   \u001b[0m\u001b[91mLeft  S\u001b[0m\u001b[91mpeed\n\u001b[0m\u001b[91m\r  0     0\u001b[0m\u001b[91m    0     0\u001b[0m\u001b[91m  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m0     \u001b[0m\u001b[91m0    \u001b[0m\u001b[91m  \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m     0 --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:-\u001b[0m\u001b[91m- \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m-- --\u001b[0m\u001b[91m:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91mWarning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).\n\u001b[0m\u001b[91m\r100 15598  100 15598    0     0  92845\u001b[0m\u001b[91m      0 --:--:-- -\u001b[0m\u001b[91m-:--:-- -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:-- 92\u001b[0m\u001b[91m845\n\u001b[0mOK\nRemoving intermediate container 02448298e365\n ---> 9da1227e3d62\nStep 5/67 : RUN   echo \"deb https://dl.yarnpkg.com/debian/ stable main\" |   tee /etc/apt/sources.list.d/yarn.list\n ---> Running in 8f0346446a51\ndeb https://dl.yarnpkg.com/debian/ stable main\nRemoving intermediate container 8f0346446a51\n ---> 351f1061f8ee\nStep 6/67 : RUN   apt-get update &&   apt-get install -y --fix-missing --no-install-recommends   build-essential   libpq-dev\n ---> Running in d7d94ba7e319\nHit:1 http://deb.debian.org/debian bullseye InRelease\nHit:2 http://deb.debian.org/debian bullseye-updates InRelease\nHit:3 http://security.debian.org/debian-security bullseye-security InRelease\nHit:4 https://deb.nodesource.com/node_16.x bullseye InRelease\nGet:5 https://dl.yarnpkg.com/debian stable InRelease [17.1 kB]\nGet:6 https://dl.yarnpkg.com/debian stable/main amd64 Packages [10.9 kB]\nGet:7 https://dl.yarnpkg.com/debian stable/main all Packages [10.9 kB]\nFetched 38.9 kB in 1s (35.5 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpq5\nSuggested packages:\n  postgresql-doc-13\nThe following NEW packages will be installed:\n  build-essential\nThe following packages will be upgraded:\n  libpq-dev libpq5\n2 upgraded, 1 newly installed, 0 to remove and 107 not upgraded.\nNeed to get 327 kB of archives.\nAfter this operation, 31.7 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 build-essential amd64 12.9 [7704 B]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libpq-dev amd64 13.9-0+deb11u1 [139 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libpq5 amd64 13.9-0+deb11u1 [180 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 327 kB in 0s (992 kB/s)\nSelecting previously unselected package build-essential.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22766 files and directories currently installed.)\r\nPreparing to unpack .../build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nPreparing to unpack .../libpq-dev_13.9-0+deb11u1_amd64.deb ...\r\nUnpacking libpq-dev (13.9-0+deb11u1) over (13.5-0+deb11u1) ...\r\nPreparing to unpack .../libpq5_13.9-0+deb11u1_amd64.deb ...\r\nUnpacking libpq5:amd64 (13.9-0+deb11u1) over (13.5-0+deb11u1) ...\r\nSetting up libpq5:amd64 (13.9-0+deb11u1) ...\r\nSetting up libpq-dev (13.9-0+deb11u1) ...\r\nSetting up build-essential (12.9) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u2) ...\r\nRemoving intermediate container d7d94ba7e319\n ---> ae50c2f80892\nStep 7/67 : ENV APP_HOME /srv/app\n ---> Running in d1a92740053f\nRemoving intermediate container d1a92740053f\n ---> 474aa9b3763e\nStep 8/67 : ENV DEPS_HOME /deps\n ---> Running in 58caab0c9aa0\nRemoving intermediate container 58caab0c9aa0\n ---> c47878c994b9\nStep 9/67 : ARG RAILS_ENV\n ---> Running in 01334bb6cc42\nRemoving intermediate container 01334bb6cc42\n ---> ae37fc7a7ea8\nStep 10/67 : ENV RAILS_ENV ${RAILS_ENV:-production}\n ---> Running in 15ee3e24f45a\nRemoving intermediate container 15ee3e24f45a\n ---> 6681a375c84c\nStep 11/67 : ENV NODE_ENV ${RAILS_ENV:-production}\n ---> Running in 1c53484dfdc0\nRemoving intermediate container 1c53484dfdc0\n ---> 4b8a3150ac6c\nStep 12/67 : FROM base AS dependencies\n ---> 4b8a3150ac6c\nStep 13/67 : RUN apt-get update && apt-get install -y yarn\n ---> Running in 1963f2f231e1\nHit:1 http://deb.debian.org/debian bullseye InRelease\nHit:2 http://deb.debian.org/debian bullseye-updates InRelease\nHit:3 http://security.debian.org/debian-security bullseye-security InRelease\nHit:4 https://deb.nodesource.com/node_16.x bullseye InRelease\nHit:5 https://dl.yarnpkg.com/debian stable InRelease\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  nodejs\nThe following NEW packages will be installed:\n  nodejs yarn\n0 upgraded, 2 newly installed, 0 to remove and 107 not upgraded.\nNeed to get 28.1 MB of archives.\nAfter this operation, 134 MB of additional disk space will be used.\nGet:1 https://deb.nodesource.com/node_16.x bullseye/main amd64 nodejs amd64 16.19.0-deb-1nodesource1 [27.2 MB]\nGet:2 https://dl.yarnpkg.com/debian stable/main amd64 yarn all 1.22.19-1 [893 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 28.1 MB in 0s (84.2 MB/s)\nSelecting previously unselected package nodejs.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22775 files and directories currently installed.)\r\nPreparing to unpack .../nodejs_16.19.0-deb-1nodesource1_amd64.deb ...\r\nUnpacking nodejs (16.19.0-deb-1nodesource1) ...\r\nSelecting previously unselected package yarn.\r\nPreparing to unpack .../yarn_1.22.19-1_all.deb ...\r\nUnpacking yarn (1.22.19-1) ...\r\nSetting up nodejs (16.19.0-deb-1nodesource1) ...\r\nSetting up yarn (1.22.19-1) ...\r\nRemoving intermediate container 1963f2f231e1\n ---> 0ee3d8645976\nStep 14/67 : WORKDIR ${DEPS_HOME}\n ---> Running in f89eb6e60c5c\nRemoving intermediate container f89eb6e60c5c\n ---> 24453f59a731\nStep 15/67 : ENV BUNDLE_GEM_GROUPS ${RAILS_ENV}\n ---> Running in ea14d4389780\nRemoving intermediate container ea14d4389780\n ---> 479aacee5a66\nStep 16/67 : COPY Gemfile ${DEPS_HOME}/Gemfile\n ---> d54456225c1c\nStep 17/67 : COPY Gemfile.lock ${DEPS_HOME}/Gemfile.lock\n ---> 1fd5bf6cb222\nStep 18/67 : RUN gem update --system 3.3.5\n ---> Running in d276ae6e48b1\nUpdating rubygems-update\nSuccessfully installed rubygems-update-3.3.5\nInstalling RubyGems 3.3.5\n  Successfully built RubyGem\n  Name: bundler\n  Version: 2.3.5\n  File: bundler-2.3.5.gem\nBundler 2.3.5 installed\nRubyGems 3.3.5 installed\nRegenerating binstubs\nRegenerating plugins\n\n# 3.3.5 / 2022-01-12\n\n## Enhancements:\n\n* Don't activate `yaml` gem from RubyGems. Pull request #5266 by\n  deivid-rodriguez\n* Let `gem fetch` understand `<gem>:<version>` syntax and\n  `--[no-]suggestions` flag. Pull request #5242 by ximenasandoval\n* Installs bundler 2.3.5 as a default gem.\n\n## Bug fixes:\n\n* Fix `gem install <non-existent-gem> --force` crash. Pull request #5262\n  by deivid-rodriguez\n* Fix longstanding `gem install` failure on JRuby. Pull request #5228 by\n  deivid-rodriguez\n\n## Documentation:\n\n* Markup `Gem::Specification` documentation with RDoc notations. Pull\n  request #5268 by nobu\n\n# 3.3.4 / 2021-12-29\n\n## Enhancements:\n\n* Don't redownload `rubygems-update` package if already there. Pull\n  request #5230 by deivid-rodriguez\n* Installs bundler 2.3.4 as a default gem.\n\n## Bug fixes:\n\n* Fix `gem update --system` crashing when latest version not supported.\n  Pull request #5191 by deivid-rodriguez\n\n## Performance:\n\n* Make SpecificationPolicy autoload constant. Pull request #5222 by pocke\n\n# 3.3.3 / 2021-12-24\n\n## Enhancements:\n\n* Installs bundler 2.3.3 as a default gem.\n\n## Bug fixes:\n\n* Fix gem installation failing in Solaris due to bad `IO#flock` usage.\n  Pull request #5216 by mame\n\n# 3.3.2 / 2021-12-23\n\n## Enhancements:\n\n* Fix deprecations when activating DidYouMean for misspelled command\n  suggestions. Pull request #5211 by yuki24\n* Installs bundler 2.3.2 as a default gem.\n\n## Bug fixes:\n\n* Fix gemspec truncation. Pull request #5208 by deivid-rodriguez\n\n# 3.3.1 / 2021-12-22\n\n## Enhancements:\n\n* Fix compatibility with OpenSSL 3.0. Pull request #5196 by rhenium\n* Remove hard errors when matching major bundler not found. Pull request\n  #5181 by deivid-rodriguez\n* Installs bundler 2.3.1 as a default gem.\n\n# 3.3.0 / 2021-12-21\n\n## Breaking changes:\n\n* Removed deprecated `gem server` command. Pull request #5034 by hsbt\n* Remove MacOS specific gem layout. Pull request #4833 by deivid-rodriguez\n* Default `gem update` documentation format is now only `ri`. Pull request\n  #3888 by hsbt\n\n## Features:\n\n* Give command misspelled suggestions via `did_you_mean` gem. Pull request\n  #3904 by hsbt\n\n## Performance:\n\n* Avoid some unnecessary stat calls. Pull request #3887 by kares\n* Improve spell checking suggestion performance by\n  vendoring`DidYouMean::Levenshtein.distance` from `did_you_mean-1.4.0`.\n  Pull request #3856 by austinpray\n\n## Enhancements:\n\n* Set `BUNDLER_VERSION` when `bundle _<version>_` is passed. Pull request\n  #5180 by deivid-rodriguez\n* Don't require `rdoc` for `gem uninstall`. Pull request #4691 by ndren\n* More focused rescue on extension builder exception to get more\n  information on errors. Pull request #4189 by deivid-rodriguez\n* Installs bundler 2.3.0 as a default gem.\n\n## Bug fixes:\n\n* Fix encoding mismatch issues when writing gem packages. Pull request\n  #5162 by deivid-rodriguez\n* Fix broken brew formula due to loading `operating_system.rb`\n  customizations too late. Pull request #5154 by deivid-rodriguez\n* Properly fetch `Gem#latest_spec_for` with multiple sources. Pull request\n  #2764 by kevlogan90\n* Fix upgrade crashing when multiple versions of `fileutils` installed.\n  Pull request #5140 by deivid-rodriguez\n\n# 3.2.33 / 2021-12-07\n\n## Deprecations:\n\n* Deprecate typo name. Pull request #5109 by nobu\n\n## Enhancements:\n\n* Add login & logout alias for the signin & signout commands. Pull request\n  #5133 by colby-swandale\n* Fix race conditions when reading & writing gemspecs concurrently. Pull\n  request #4408 by deivid-rodriguez\n* Installs bundler 2.2.33 as a default gem.\n\n## Bug fixes:\n\n* Fix `ruby setup.rb` trying to write outside of `--destdir`. Pull request\n  #5053 by deivid-rodriguez\n\n## Documentation:\n\n* Move required_ruby_version gemspec attribute to recommended section.\n  Pull request #5130 by simi\n* Ignore to generate the documentation from vendored libraries. Pull\n  request #5118 by hsbt\n\n# 3.2.32 / 2021-11-23\n\n## Enhancements:\n\n* Refactor installer thread safety protections. Pull request #5050 by\n  deivid-rodriguez\n* Allow gem activation from `operating_system.rb`. Pull request #5044 by\n  deivid-rodriguez\n* Installs bundler 2.2.32 as a default gem.\n\n# 3.2.31 / 2021-11-08\n\n## Enhancements:\n\n* Don't pass empty `DESTDIR` to `nmake` since it works differently from\n  standard `make`. Pull request #5057 by hsbt\n* Fix `gem install` vs `gem fetch` inconsistency. Pull request #5037 by\n  deivid-rodriguez\n* Lazily load and vendor `optparse`. Pull request #4881 by\n  deivid-rodriguez\n* Use a vendored copy of `tsort` internally. Pull request #5027 by\n  deivid-rodriguez\n* Install bundler 2.2.31 as a default gem.\n\n## Bug fixes:\n\n* Fix `ruby setup.rb` when `--prefix` is passed. Pull request #5051 by\n  deivid-rodriguez\n* Don't apply `--destdir` twice when running `setup.rb`. Pull request\n  #2768 by alyssais\n\n# 3.2.30 / 2021-10-26\n\n## Enhancements:\n\n* Add support to build and sign certificates with multiple key algorithms.\n  Pull request #4991 by doodzik\n* Avoid loading the `digest` gem unnecessarily. Pull request #4979 by\n  deivid-rodriguez\n* Prefer `require_relative` for all internal requires. Pull request #4978\n  by deivid-rodriguez\n* Add missing `require` of `time` within\n  `Gem::Request.verify_certificate_message`. Pull request #4975 by nobu\n* Install bundler 2.2.30 as a default gem.\n\n## Performance:\n\n* Speed up `gem install`, specially under Windows. Pull request #4960 by\n  deivid-rodriguez\n\n# 3.2.29 / 2021-10-08\n\n## Enhancements:\n\n* Only disallow FIXME/TODO for first word of gemspec description. Pull\n  request #4937 by duckinator\n* Install bundler 2.2.29 as a default gem.\n\n## Bug fixes:\n\n* Fix `wordy` method in `SourceFetchProblem` changing the password of\n  source. Pull request #4910 by Huangxiaodui\n\n## Performance:\n\n* Improve `require` performance, particularly on systems with a lot of\n  gems installed. Pull request #4951 by pocke\n\n# 3.2.28 / 2021-09-23\n\n## Enhancements:\n\n* Support MINGW-UCRT. Pull request #4925 by hsbt\n* Only check if descriptions *start with* FIXME/TODO. Pull request #4841\n  by duckinator\n* Avoid loading `uri` unnecessarily when activating gems. Pull request\n  #4897 by deivid-rodriguez\n* Install bundler 2.2.28 as a default gem.\n\n## Bug fixes:\n\n* Fix redacted credentials being sent to gemserver. Pull request #4919 by\n  jdliss\n\n# 3.2.27 / 2021-09-03\n\n## Enhancements:\n\n* Redact credentails when printing URI. Pull request #4868 by intuxicated\n* Prefer `require_relative` to `require` for internal requires. Pull\n  request #4858 by deivid-rodriguez\n* Prioritise gems with higher version for fetching metadata, and stop\n  fetching once we find a valid candidate. Pull request #4843 by intuxicated\n* Install bundler 2.2.27 as a default gem.\n\n# 3.2.26 / 2021-08-17\n\n## Enhancements:\n\n* Enhance the error handling for loading the\n  `rubygems/defaults/operating_system` file. Pull request #4824 by\n  intuxicated\n* Ignore `RUBYGEMS_GEMDEPS` for the bundler gem. Pull request #4532 by\n  deivid-rodriguez\n* Install bundler 2.2.26 as a default gem.\n\n## Bug fixes:\n\n* Also load user installed rubygems plugins. Pull request #4829 by\n  deivid-rodriguez\n\n# 3.2.25 / 2021-07-30\n\n## Enhancements:\n\n* Don't load the `base64` library since it's not used. Pull request #4785\n  by deivid-rodriguez\n* Don't load the `resolv` library since it's not used. Pull request #4784\n  by deivid-rodriguez\n* Lazily load `shellwords` library. Pull request #4783 by deivid-rodriguez\n* Check requirements class before loading marshalled requirements. Pull\n  request #4651 by nobu\n* Install bundler 2.2.25 as a default gem.\n\n## Bug fixes:\n\n* Add missing `require 'fileutils'` in `Gem::ConfigFile`. Pull request\n  #4768 by ybiquitous\n\n# 3.2.24 / 2021-07-15\n\n## Enhancements:\n\n* Install bundler 2.2.24 as a default gem.\n\n## Bug fixes:\n\n* Fix contradictory message about deletion of default gem. Pull request\n  #4739 by jaredbeck\n\n## Documentation:\n\n* Add a description about `GEM_HOST_OTP_CODE` to help text. Pull request\n  #4742 by ybiquitous\n\n# 3.2.23 / 2021-07-09\n\n## Enhancements:\n\n* Rewind IO source to allow working with contents in memory. Pull request\n  #4729 by drcapulet\n* Install bundler 2.2.23 as a default gem.\n\n# 3.2.22 / 2021-07-06\n\n## Enhancements:\n\n* Allow setting `--otp` via `GEM_HOST_OTP_CODE`. Pull request #4697 by\n  CGA1123\n* Fixes for the edge case when openssl library is missing. Pull request\n  #4695 by rhenium\n* Install bundler 2.2.22 as a default gem.\n\n# 3.2.21 / 2021-06-23\n\n## Enhancements:\n\n* Fix typo in OpenSSL detection. Pull request #4679 by osyoyu\n* Add the most recent licenses from spdx.org. Pull request #4662 by nobu\n* Simplify setup.rb code to allow installing rubygems from source on\n  truffleruby 21.0 and 21.1. Pull request #4624 by deivid-rodriguez\n* Install bundler 2.2.21 as a default gem.\n\n## Bug fixes:\n\n* Create credentials folder when setting API keys if not there yet. Pull\n  request #4665 by deivid-rodriguez\n\n# 3.2.20 / 2021-06-11\n\n## Security fixes:\n\n* Verify plaform before installing to avoid potential remote code\n  execution. Pull request #4667 by sonalkr132\n\n## Enhancements:\n\n* Add better specification policy error description. Pull request #4658 by\n  ceritium\n* Install bundler 2.2.20 as a default gem.\n\n# 3.2.19 / 2021-05-31\n\n## Enhancements:\n\n* Fix `gem help build` output format. Pull request #4613 by tnir\n* Install bundler 2.2.19 as a default gem.\n\n# 3.2.18 / 2021-05-25\n\n## Enhancements:\n\n* Don't leave temporary directory around when building extensions to\n  improve build reproducibility. Pull request #4610 by baloo\n* Install bundler 2.2.18 as a default gem.\n\n# 3.2.17 / 2021-05-05\n\n## Enhancements:\n\n* Only print month & year in deprecation messages. Pull request #3085 by\n  Schwad\n* Make deprecate method support ruby3's keyword arguments. Pull request\n  #4558 by mame\n* Update the default bindir on macOS. Pull request #4524 by nobu\n* Prefer File.open instead of Kernel#open. Pull request #4529 by mame\n* Install bundler 2.2.17 as a default gem.\n\n## Documentation:\n\n* Fix usage messages to reflect the current POSIX-compatible behaviour.\n  Pull request #4551 by graywolf-at-work\n\n# 3.2.16 / 2021-04-08\n\n## Enhancements:\n\n* Install bundler 2.2.16 as a default gem.\n\n## Bug fixes:\n\n* Correctly handle symlinks. Pull request #2836 by voxik\n\n# 3.2.15 / 2021-03-19\n\n## Enhancements:\n\n* Prevent downgrades to untested rubygems versions. Pull request #4460 by\n  deivid-rodriguez\n* Install bundler 2.2.15 as a default gem.\n\n## Bug fixes:\n\n* Fix missing require breaking `gem cert`. Pull request #4464 by lukehinds\n\n# 3.2.14 / 2021-03-08\n\n## Enhancements:\n\n* Less wrapping of network errors. Pull request #4064 by deivid-rodriguez\n* Install bundler 2.2.14 as a default gem.\n\n## Bug fixes:\n\n* Revert addition of support for `musl` variants to restore graceful\n  fallback on Alpine. Pull request #4434 by deivid-rodriguez\n\n# 3.2.13 / 2021-03-03\n\n## Enhancements:\n\n* Install bundler 2.2.13 as a default gem.\n\n## Bug fixes:\n\n* Support non-gnu libc linux platforms. Pull request #4082 by lloeki\n\n# 3.2.12 / 2021-03-01\n\n## Enhancements:\n\n* Install bundler 2.2.12 as a default gem.\n\n## Bug fixes:\n\n* Restore the ability to manually install extension gems. Pull request\n  #4384 by cfis\n\n# 3.2.11 / 2021-02-17\n\n## Enhancements:\n\n* Optionally fallback to IPv4 when IPv6 is unreachable. Pull request #2662\n  by sonalkr132\n* Install bundler 2.2.11 as a default gem.\n\n# 3.2.10 / 2021-02-15\n\n## Enhancements:\n\n* Install bundler 2.2.10 as a default gem.\n\n## Documentation:\n\n* Add a `gem push` example to `gem help`. Pull request #4373 by\n  deivid-rodriguez\n* Improve documentation for `required_ruby_version`. Pull request #4343 by\n  AlexWayfer\n\n# 3.2.9 / 2021-02-08\n\n## Enhancements:\n\n* Install bundler 2.2.9 as a default gem.\n\n## Bug fixes:\n\n* Fix error message when underscore selection can't find bundler. Pull\n  request #4363 by deivid-rodriguez\n* Fix `Gem::Specification.stubs_for` returning wrong named specs. Pull\n  request #4356 by tompng\n* Don't error out when activating a binstub unless necessary. Pull request\n  #4351 by deivid-rodriguez\n* Fix `gem outdated` incorrectly handling platform specific gems. Pull\n  request #4248 by deivid-rodriguez\n\n# 3.2.8 / 2021-02-02\n\n## Enhancements:\n\n* Install bundler 2.2.8 as a default gem.\n\n## Bug fixes:\n\n* Fix `gem install` crashing on gemspec with nil required_ruby_version.\n  Pull request #4334 by pbernays\n\n# 3.2.7 / 2021-01-26\n\n## Enhancements:\n\n* Install bundler 2.2.7 as a default gem.\n\n## Bug fixes:\n\n* Generate plugin wrappers with relative requires. Pull request #4317 by\n  deivid-rodriguez\n\n# 3.2.6 / 2021-01-18\n\n## Enhancements:\n\n* Fix `Gem::Platform#inspect` showing duplicate information. Pull request\n  #4276 by deivid-rodriguez\n* Install bundler 2.2.6 as a default gem.\n\n## Bug fixes:\n\n* Swallow any system call error in `ensure_gem_subdirs` to support jruby\n  embedded paths. Pull request #4291 by kares\n* Restore accepting custom make command with extra options as the `make`\n  env variable. Pull request #4271 by terceiro\n\n# 3.2.5 / 2021-01-11\n\n## Enhancements:\n\n* Install bundler 2.2.5 as a default gem.\n\n## Bug fixes:\n\n* Don't load more specs after the whole set of specs has been setup. Pull\n  request #4262 by deivid-rodriguez\n* Fix broken `bundler` executable after `gem update --system`. Pull\n  request #4221 by deivid-rodriguez\n\n# 3.2.4 / 2020-12-31\n\n## Enhancements:\n\n* Use a CHANGELOG in markdown for rubygems. Pull request #4168 by\n  deivid-rodriguez\n* Never spawn subshells when building extensions. Pull request #4190 by\n  deivid-rodriguez\n* Install bundler 2.2.4 as a default gem.\n\n## Bug fixes:\n\n* Fix fallback to the old index and installation from it not working. Pull\n  request #4213 by deivid-rodriguez\n* Fix installing from source on truffleruby. Pull request #4201 by\n  deivid-rodriguez\n\n# 3.2.3 / 2020-12-22\n\n## Enhancements:\n\n* Fix misspellings in default API key name. Pull request #4177 by hsbt\n* Install bundler 2.2.3 as a default gem.\n\n## Bug fixes:\n\n* Respect `required_ruby_version` and `required_rubygems_version`\n  constraints when looking for `gem install` candidates. Pull request #4110\n  by deivid-rodriguez\n\n# 3.2.2 / 2020-12-17\n\n## Enhancements:\n\n* Install bundler 2.2.2 as a default gem.\n\n## Bug fixes:\n\n* Fix issue where CLI commands making more than one request to\n  rubygems.org needing an OTP code would crash or ask for the code twice.\n  Pull request #4162 by sonalkr132\n* Fix building rake extensions that require openssl. Pull request #4165 by\n  deivid-rodriguez\n* Fix `gem update --system` displaying too many changelog entries. Pull\n  request #4145 by deivid-rodriguez\n\n# 3.2.1 / 2020-12-14\n\n## Enhancements:\n\n* Added help message for gem i webrick in gem server command. Pull request\n  #4117 by hsbt\n* Install bundler 2.2.1 as a default gem.\n\n## Bug fixes:\n\n* Added the missing loading of fileutils same as load_specs. Pull request\n  #4124 by hsbt\n* Fix Resolver::APISet to always include prereleases when necessary. Pull\n  request #4113 by deivid-rodriguez\n\n# 3.2.0 / 2020-12-07\n\n## Enhancements:\n\n* Do not override Kernel#warn when there is no need. Pull request #4075 by\n  eregon\n* Update endpoint of gem signin command. Pull request #3840 by sonalkr132\n* Omit deprecated commands from command help output. Pull request #4023 by\n  landongrindheim\n* Suggest alternatives in `gem query` deprecation. Pull request #4021 by\n  landongrindheim\n* Lazily load `time`, `cgi`, and `zlib`. Pull request #4010 by\n  deivid-rodriguez\n* Don't hit the network when installing dependencyless local gemspec. Pull\n  request #3968 by deivid-rodriguez\n* Add `--force` option to `gem sources` command. Pull request #3956 by\n  andy-smith-msm\n* Lazily load `openssl`. Pull request #3850 by deivid-rodriguez\n* Pass more information when comparing platforms. Pull request #3817 by\n  eregon\n* Install bundler 2.2.0 as a default gem.\n\n## Bug fixes:\n\n* Use better owner & group for files in rubygems package. Pull request\n  #4065 by deivid-rodriguez\n* Improve gem build -C flag. Pull request #3983 by bronzdoc\n* Handle unexpected behavior with URI#merge and subpaths missing trailing\n  slashes. Pull request #3123 by drcapulet\n* Add missing `fileutils` require in rubygems installer. Pull request\n  #4036 by deivid-rodriguez\n* Fix `--platform` option to `gem specification` being ignored. Pull\n  request #4043 by deivid-rodriguez\n* Expose `--no-minimal-deps` flag to install the latest version of\n  dependencies. Pull request #4030 by deivid-rodriguez\n* Fix \"stack level too deep\" error when overriding `Warning.warn`. Pull\n  request #3987 by eregon\n* Append '.gemspec' extension only when it is not present. Pull request\n  #3988 by voxik\n* Install to correct plugins dir when using `--build-root`. Pull request\n  #3972 by deivid-rodriguez\n* Fix `--build-root` flag under Windows. Pull request #3975 by\n  deivid-rodriguez\n* Fix `typo_squatting?` false positive for `rubygems.org` itself. Pull\n  request #3951 by andy-smith-msm\n* Make `--default` and `--install-dir` options to `gem install` play nice\n  together. Pull request #3906 by deivid-rodriguez\n\n## Deprecations:\n\n* Deprecate server command. Pull request #3868 by bronzdoc\n\n## Performance:\n\n* Don't change ruby process CWD when building extensions. Pull request\n  #3498 by deivid-rodriguez\n\n# 3.2.0.rc.2 / 2020-10-08\n\n## Enhancements:\n\n* Make --dry-run flag consistent across rubygems commands. Pull request\n  #3867 by bronzdoc\n* Disallow downgrades to too old versions. Pull request #3566 by\n  deivid-rodriguez\n* Added `--platform` option to `build` command. Pull request #3079 by nobu\n* Have \"gem update --system\" pass through the `--silent` flag. Pull\n  request #3789 by duckinator\n* Add writable check for cache dir. Pull request #3876 by xndcn\n* Warn on duplicate dependency in a specification. Pull request #3864 by\n  bronzdoc\n* Fix indentation in `gem env`. Pull request #3861 by colby-swandale\n* Let more exceptions flow. Pull request #3819 by deivid-rodriguez\n* Ignore internal frames in RubyGems' Kernel#warn. Pull request #3810 by\n  eregon\n\n## Bug fixes:\n\n* Add missing fileutils require. Pull request #3911 by deivid-rodriguez\n* Fix false positive warning on Windows when PATH has\n  `File::ALT_SEPARATOR`. Pull request #3829 by deivid-rodriguez\n* Fix Kernel#warn override to handle backtrace location with nil path.\n  Pull request #3852 by jeremyevans\n* Don't format executables on `gem update --system`. Pull request #3811 by\n  deivid-rodriguez\n* `gem install --user` fails with `Gem::FilePermissionError` on the system\n  plugins directory. Pull request #3804 by nobu\n\n## Performance:\n\n* Avoid duplicated generation of APISpecification objects. Pull request\n  #3940 by mame\n* Eval defaults with frozen_string_literal: true. Pull request #3847 by\n  casperisfine\n* Deduplicate the requirement operators in memory. Pull request #3846 by\n  casperisfine\n* Optimize Gem.already_loaded?. Pull request #3793 by casperisfine\n\n# 3.2.0.rc.1 / 2020-07-04\n\n## Enhancements:\n\n* Test TruffleRuby in CI. Pull request #2797 by Benoit Daloze.\n* Rework plugins system and speed up rubygems. Pull request #3108 by David\n  Rodríguez.\n* Specify explicit separator not to be affected by $;. Pull request #3424\n  by Nobuyoshi Nakada.\n* Enable `Layout/ExtraSpacing` cop. Pull request #3449 by David Rodríguez.\n* Rollback gem deprecate. Pull request #3530 by Luis Sagastume.\n* Normalize heredoc delimiters. Pull request #3533 by David Rodríguez.\n* Log messages to stdout in `rake package`. Pull request #3632 by David\n  Rodríguez.\n* Remove explicit `psych` activation. Pull request #3636 by David\n  Rodríguez.\n* Delay `fileutils` loading to fix some warnings. Pull request #3637 by\n  David Rodríguez.\n* Make sure rubygems/package can be directly required reliably. Pull\n  request #3670 by Luis Sagastume.\n* Make sure `tmp` folder exists before calling `Dir.tmpdir`. Pull request\n  #3711 by David Rodríguez.\n* Add Gem.disable_system_update_message to disable gem update --system if\n  needed. Pull request #3720 by Josef Šimánek.\n* Tweaks to play nice with ruby-core setup. Pull request #3733 by David\n  Rodríguez.\n* Remove explicit require for auto-loaded constant. Pull request #3751 by\n  Karol Bucek.\n* Test files should not be included in spec.files. Pull request #3758 by\n  Marc-André Lafortune.\n* Remove TODO comment about warning on setting instead of pushing. Pull\n  request #2823 by Luis Sagastume.\n* Add deprecate command method. Pull request #2935 by Luis Sagastume.\n* Simplify deprecate command method. Pull request #2974 by Luis Sagastume.\n* Fix Gem::LOADED_SPECS_MUTEX handling for recursive locking. Pull request\n  #2985 by MSP-Greg.\n* Add `funding_uri ` metadata field to gemspec. Pull request #3060 by\n  Colby Swandale.\n* Updates to some old gem-signing docs. Pull request #3063 by Tieg\n  Zaharia.\n* Update the gem method for Gem::Installer. Pull request #3137 by Daniel\n  Berger.\n* Simplify initial gem help output. Pull request #3148 by Olivier Lacan.\n* Resolve latest version via `gem contents`. Pull request #3149 by Dan\n  Rice.\n* Install suggestions. Pull request #3151 by Sophia Castellarin.\n* Only rescue the errors we actually want to rescue. Pull request #3156 by\n  David Rodríguez.\n\n## Bug fixes:\n\n* Accept not only /usr/bin/env but also /bin/env in some tests. Pull\n  request #3422 by Yusuke Endoh.\n* Skip a test that attempts to remove the current directory on Solaris.\n  Pull request #3423 by Yusuke Endoh.\n* Fix race condition on bundler's parallel installer. Pull request #3440\n  by David Rodríguez.\n* Fix platform comparison check in #contains_requirable_file?. Pull\n  request #3495 by Benoit Daloze.\n* Improve missing spec error. Pull request #3559 by Luis Sagastume.\n* Fix hidden bundler template installation from rubygems updater. Pull\n  request #3674 by David Rodríguez.\n* Fix gem update --user-install. Pull request #2901 by Luis Sagastume.\n* Correct conflict list when uninstallation is prevented. Pull request\n  #2973 by David Rodríguez.\n* Fix error when trying to find bundler with a deleted \"working directo….\n  Pull request #3090 by Luis Sagastume.\n* Fix -I require priority. Pull request #3124 by David Rodríguez.\n* Fix `ruby setup.rb` for new plugins layout. Pull request #3144 by David\n  Rodríguez.\n\n## Deprecations:\n\n* Set deprecation warning on query command. Pull request #2967 by Luis\n  Sagastume.\n\n## Breaking changes:\n\n* Remove ruby 1.8 leftovers. Pull request #3442 by David Rodríguez.\n* Minitest cleanup. Pull request #3445 by David Rodríguez.\n* Remove `builder` gem requirement for `gem regenerate_index`. Pull\n  request #3552 by David Rodríguez.\n* Remove modelines for consistency. Pull request #3714 by David Rodríguez.\n* Stop using deprecated OpenSSL::Digest constants. Pull request #3763 by\n  Bart de Water.\n* Remove Gem module deprecated methods. Pull request #3101 by Luis\n  Sagastume.\n* Remove ubygems.rb. Pull request #3102 by Luis Sagastume.\n* Remove Gem::Commands::QueryCommand. Pull request #3104 by Luis\n  Sagastume.\n* Remove dependency installer deprecated methods. Pull request #3106 by\n  Luis Sagastume.\n* Remove Gem::UserInteraction#debug method. Pull request #3107 by Luis\n  Sagastume.\n* Remove options from Gem::GemRunner.new. Pull request #3110 by Luis\n  Sagastume.\n* Remove deprecated Gem::RemoteFetcher#fetch_size. Pull request #3111 by\n  Luis Sagastume.\n* Remove source_exception from Gem::Exception. Pull request #3112 by Luis\n  Sagastume.\n* Requiring rubygems/source_specific_file is deprecated, remove it. Pull\n  request #3114 by Luis Sagastume.\n\n\n------------------------------------------------------------------------------\n\nRubyGems installed the following executables:\n\t/usr/local/bin/gem\n\t/usr/local/bin/bundle\n\t/usr/local/bin/bundler\n\nRubyGems system software updated\nRemoving intermediate container d276ae6e48b1\n ---> 10ef3e04de3b\nStep 19/67 : RUN gem install bundler -v 2.3.5\n ---> Running in e7a125c512de\nSuccessfully installed bundler-2.3.5\n1 gem installed\nRemoving intermediate container e7a125c512de\n ---> 1678b0c60512\nStep 20/67 : RUN bundle config set frozen \"true\"\n ---> Running in 91a406d293c9\nRemoving intermediate container 91a406d293c9\n ---> 663cc4223d53\nStep 21/67 : RUN bundle config set no-cache \"true\"\n ---> Running in d60c619c4dc8\nRemoving intermediate container d60c619c4dc8\n ---> 16a85c26e051\nStep 22/67 : RUN bundle config set with \"${BUNDLE_GEM_GROUPS}\"\n ---> Running in 6d60af5ddbe6\nRemoving intermediate container 6d60af5ddbe6\n ---> 86bd37afddc2\nStep 23/67 : RUN bundle install --retry=10 --jobs=4\n ---> Running in fa78c4be7602\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching concurrent-ruby 1.1.10\nFetching minitest 5.16.3\nFetching zeitwerk 2.6.0\nFetching builder 3.2.4\nInstalling zeitwerk 2.6.0\nInstalling builder 3.2.4\nInstalling minitest 5.16.3\nFetching erubi 1.11.0\nInstalling erubi 1.11.0\nInstalling concurrent-ruby 1.1.10\nFetching racc 1.6.0\nFetching crass 1.0.6\nInstalling racc 1.6.0 with native extensions\nFetching rack 2.2.4\nInstalling crass 1.0.6\nInstalling rack 2.2.4\nFetching nio4r 2.5.8\nInstalling nio4r 2.5.8 with native extensions\nFetching websocket-extensions 0.1.5\nInstalling websocket-extensions 0.1.5\nFetching marcel 1.0.2\nFetching mini_mime 1.1.2\nInstalling marcel 1.0.2\nInstalling mini_mime 1.1.2\nFetching public_suffix 4.0.7\nFetching ast 2.4.2\nInstalling ast 2.4.2\nFetching execjs 2.8.1\nInstalling public_suffix 4.0.7\nInstalling execjs 2.8.1\nFetching coderay 1.1.3\nInstalling coderay 1.1.3\nFetching bindex 0.8.1\nInstalling bindex 0.8.1 with native extensions\nFetching msgpack 1.5.6\nInstalling msgpack 1.5.6 with native extensions\nFetching popper_js 2.9.3\nFetching method_source 1.0.0\nInstalling popper_js 2.9.3\nInstalling method_source 1.0.0\nFetching thor 1.2.1\nFetching ffi 1.15.5\nInstalling thor 1.2.1\nFetching tilt 2.0.10\nInstalling tilt 2.0.10\nFetching brakeman 5.3.1\nInstalling ffi 1.15.5 with native extensions\nInstalling brakeman 5.3.1\nFetching uniform_notifier 1.16.0\nInstalling uniform_notifier 1.16.0\nUsing bundler 2.3.5\nFetching byebug 11.1.3\nInstalling byebug 11.1.3 with native extensions\nFetching matrix 0.4.2\nInstalling matrix 0.4.2\nFetching regexp_parser 2.5.0\nInstalling regexp_parser 2.5.0\nFetching childprocess 4.1.0\nInstalling childprocess 4.1.0\nFetching climate_control 1.2.0\nInstalling climate_control 1.2.0\nFetching coffee-script-source 1.12.2\nInstalling coffee-script-source 1.12.2\nFetching database_cleaner-core 2.0.1\nInstalling database_cleaner-core 2.0.1\nFetching diff-lcs 1.5.0\nInstalling diff-lcs 1.5.0\nFetching docile 1.4.0\nInstalling docile 1.4.0\nFetching dotenv 2.8.1\nFetching high_voltage 3.1.2\nInstalling dotenv 2.8.1\nInstalling high_voltage 3.1.2\nFetching json 2.6.2\nFetching libv8-node 16.10.0.0 (x86_64-linux)\nInstalling json 2.6.2 with native extensions\nFetching rb-fsevent 0.11.1\nInstalling rb-fsevent 0.11.1\nFetching parallel 1.22.1\nInstalling parallel 1.22.1\nFetching pg 1.4.3\nInstalling pg 1.4.3 with native extensions\nInstalling libv8-node 16.10.0.0 (x86_64-linux)\nFetching rails_layout 1.0.42\nInstalling rails_layout 1.0.42\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nFetching rexml 3.2.5\nInstalling rexml 3.2.5\nFetching rollbar 3.3.1\nInstalling rollbar 3.3.1\nFetching rspec-support 3.11.0\nInstalling rspec-support 3.11.0\nFetching ruby-progressbar 1.11.0\nInstalling ruby-progressbar 1.11.0\nFetching unicode-display_width 2.2.0\nInstalling unicode-display_width 2.2.0\nFetching rubyzip 2.3.2\nInstalling rubyzip 2.3.2\nFetching websocket 1.2.9\nInstalling websocket 1.2.9\nFetching simplecov-html 0.12.3\nInstalling simplecov-html 0.12.3\nFetching simplecov_json_formatter 0.1.4\nInstalling simplecov_json_formatter 0.1.4\nFetching spring 2.1.1\nInstalling spring 2.1.1\nFetching turbolinks-source 5.2.0\nInstalling turbolinks-source 5.2.0\nFetching rack-test 2.0.2\nInstalling rack-test 2.0.2\nFetching request_store 1.5.1\nInstalling request_store 1.5.1\nFetching websocket-driver 0.7.5\nInstalling websocket-driver 0.7.5 with native extensions\nFetching i18n 1.12.0\nInstalling i18n 1.12.0\nFetching tzinfo 2.0.5\nInstalling tzinfo 2.0.5\nFetching sprockets 4.1.1\nInstalling sprockets 4.1.1\nFetching mail 2.7.1\nInstalling mail 2.7.1\nFetching parser 3.1.2.1\nInstalling parser 3.1.2.1\nFetching autoprefixer-rails 10.4.2.0\nInstalling autoprefixer-rails 10.4.2.0\nFetching uglifier 4.2.0\nInstalling uglifier 4.2.0\nFetching addressable 2.8.0\nInstalling addressable 2.8.0\nFetching better_errors 2.9.1\nInstalling better_errors 2.9.1\nFetching nokogiri 1.13.8 (x86_64-linux)\nFetching pry 0.14.1\nInstalling pry 0.14.1\nInstalling nokogiri 1.13.8 (x86_64-linux)\nFetching puma 5.6.5\nFetching coffee-script 2.4.1\nInstalling coffee-script 2.4.1\nInstalling puma 5.6.5 with native extensions\nFetching bootsnap 1.13.0\nInstalling bootsnap 1.13.0 with native extensions\nFetching rspec-core 3.11.0\nInstalling rspec-core 3.11.0\nFetching rspec-expectations 3.11.0\nInstalling rspec-expectations 3.11.0\nFetching rspec-mocks 3.11.1\nInstalling rspec-mocks 3.11.1\nFetching selenium-webdriver 4.3.0\nInstalling selenium-webdriver 4.3.0\nFetching simplecov 0.21.2\nInstalling simplecov 0.21.2\nFetching spring-commands-rspec 1.0.4\nFetching turbolinks 5.2.1\nInstalling turbolinks 5.2.1\nFetching faker 2.21.0\nInstalling faker 2.21.0\nInstalling spring-commands-rspec 1.0.4\nFetching sassc 2.4.0\nInstalling sassc 2.4.0 with native extensions\nFetching rb-inotify 0.10.1\nInstalling rb-inotify 0.10.1\nFetching activesupport 6.1.6.1\nInstalling activesupport 6.1.6.1\nFetching rubocop-ast 1.21.0\nInstalling rubocop-ast 1.21.0\nFetching launchy 2.5.0\nInstalling launchy 2.5.0\nFetching mini_racer 0.6.3\nInstalling mini_racer 0.6.3 with native extensions\nFetching pry-rails 0.3.9\nInstalling pry-rails 0.3.9\nFetching loofah 2.18.0\nInstalling loofah 2.18.0\nFetching xpath 3.2.0\nInstalling xpath 3.2.0\nFetching listen 3.7.1\nInstalling listen 3.7.1\nFetching rails-dom-testing 2.0.3\nInstalling rails-dom-testing 2.0.3\nFetching globalid 1.0.0\nInstalling globalid 1.0.0\nFetching activemodel 6.1.6.1\nInstalling activemodel 6.1.6.1\nFetching bullet 7.0.3\nInstalling bullet 7.0.3\nFetching factory_bot 6.2.1\nInstalling factory_bot 6.2.1\nFetching rubocop 1.35.1\nInstalling rubocop 1.35.1\nFetching rails-html-sanitizer 1.4.3\nInstalling rails-html-sanitizer 1.4.3\nFetching capybara 3.37.1\nInstalling capybara 3.37.1\nFetching spring-watcher-listen 2.0.1\nInstalling spring-watcher-listen 2.0.1\nFetching activejob 6.1.6.1\nInstalling activejob 6.1.6.1\nFetching activerecord 6.1.6.1\nInstalling activerecord 6.1.6.1\nFetching actionview 6.1.6.1\nInstalling actionview 6.1.6.1\nFetching rubocop-performance 1.14.3\nInstalling rubocop-performance 1.14.3\nFetching actionpack 6.1.6.1\nFetching jbuilder 2.11.5\nInstalling jbuilder 2.11.5\nInstalling actionpack 6.1.6.1\nFetching standard 1.16.1\nInstalling standard 1.16.1\nFetching database_cleaner-active_record 2.0.1\nInstalling database_cleaner-active_record 2.0.1\nFetching database_cleaner 2.0.1\nInstalling database_cleaner 2.0.1\nFetching actioncable 6.1.6.1\nFetching activestorage 6.1.6.1\nInstalling activestorage 6.1.6.1\nInstalling actioncable 6.1.6.1\nFetching actionmailer 6.1.6.1\nInstalling actionmailer 6.1.6.1\nFetching railties 6.1.6.1\nFetching sprockets-rails 3.4.2\nInstalling railties 6.1.6.1\nInstalling sprockets-rails 3.4.2\nFetching actionmailbox 6.1.6.1\nInstalling actionmailbox 6.1.6.1\nFetching actiontext 6.1.6.1\nInstalling actiontext 6.1.6.1\nFetching coffee-rails 5.0.0\nFetching dotenv-rails 2.8.1\nInstalling dotenv-rails 2.8.1\nInstalling coffee-rails 5.0.0\nFetching factory_bot_rails 6.2.0\nFetching jquery-rails 4.5.0\nInstalling factory_bot_rails 6.2.0\nFetching lograge 0.12.0\nInstalling lograge 0.12.0\nFetching rails 6.1.6.1\nInstalling jquery-rails 4.5.0\nInstalling rails 6.1.6.1\nFetching rspec-rails 5.1.2\nInstalling rspec-rails 5.1.2\nFetching web-console 4.2.0\nInstalling web-console 4.2.0\nFetching sassc-rails 2.1.2\nInstalling sassc-rails 2.1.2\nFetching sass-rails 6.0.0\nFetching bootstrap 5.1.3\nInstalling sass-rails 6.0.0\nInstalling bootstrap 5.1.3\nBundle complete! 38 Gemfile dependencies, 127 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nPost-install message from rubyzip:\nRubyZip 3.0 is coming!\n**********************\n\nThe public API of some Rubyzip classes has been modernized to use named\nparameters for optional arguments. Please check your usage of the\nfollowing classes:\n  * `Zip::File`\n  * `Zip::Entry`\n  * `Zip::InputStream`\n  * `Zip::OutputStream`\n\nPlease ensure that your Gemfiles and .gemspecs are suitably restrictive\nto avoid an unexpected breakage when 3.0 is released (e.g. ~> 2.3.0).\nSee https://github.com/rubyzip/rubyzip for details. The Changelog also\nlists other enhancements and bugfixes that have been implemented since\nversion 2.3.0.\nRemoving intermediate container fa78c4be7602\n ---> 388593e3be98\nStep 24/67 : COPY yarn.lock ${DEPS_HOME}/yarn.lock\n ---> ce5372a7013b\nStep 25/67 : COPY package.json ${DEPS_HOME}/package.json\n ---> b05418c5da70\nStep 26/67 : RUN   if [ ${RAILS_ENV} = \"production\" ]; then   yarn install --frozen-lockfile --production;   else   yarn install --frozen-lockfile;   fi\n ---> Running in 16df1682ce3f\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"stylelint-config-standard-scss > stylelint-config-recommended-scss > postcss-scss@4.0.5\" has unmet peer dependency \"postcss@^8.3.3\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 2.99s.\nRemoving intermediate container 16df1682ce3f\n ---> 3c76a4190c95\nStep 27/67 : FROM base AS web\n ---> 4b8a3150ac6c\nStep 28/67 : WORKDIR ${APP_HOME}\n ---> Running in a12e7535e283\nRemoving intermediate container a12e7535e283\n ---> 67408924eb76\nStep 29/67 : COPY --from=dependencies ${DEPS_HOME}/Gemfile ${APP_HOME}/Gemfile\n ---> f6416586b9de\nStep 30/67 : COPY --from=dependencies ${DEPS_HOME}/Gemfile.lock ${APP_HOME}/Gemfile.lock\n ---> ce93fb654a76\nStep 31/67 : COPY --from=dependencies ${GEM_HOME} ${GEM_HOME}\n ---> c5d53764b7ad\nStep 32/67 : COPY --from=dependencies ${DEPS_HOME}/package.json ${APP_HOME}/package.json\n ---> 43a5fe498f1e\nStep 33/67 : COPY --from=dependencies ${DEPS_HOME}/yarn.lock ${APP_HOME}/yarn.lock\n ---> 72e584873f8f\nStep 34/67 : COPY --from=dependencies ${DEPS_HOME}/node_modules ${APP_HOME}/node_modules\n ---> f8eb9a23fe48\nStep 35/67 : RUN mkdir -p ${APP_HOME}/log\n ---> Running in 8d1bef90b966\nRemoving intermediate container 8d1bef90b966\n ---> 5c2f96871839\nStep 36/67 : RUN mkdir -p ${APP_HOME}/tmp\n ---> Running in 9b09443a476f\nRemoving intermediate container 9b09443a476f\n ---> c44e371de201\nStep 37/67 : COPY config.ru ${APP_HOME}/config.ru\n ---> a7bc1c67122b\nStep 38/67 : COPY Rakefile ${APP_HOME}/Rakefile\n ---> 46b8d5ca805c\nStep 39/67 : COPY script ${APP_HOME}/script\n ---> 16c841608eb9\nStep 40/67 : COPY public ${APP_HOME}/public\n ---> 1682f95a9b45\nStep 41/67 : COPY vendor ${APP_HOME}/vendor\n ---> aa67ca51b70a\nStep 42/67 : COPY bin ${APP_HOME}/bin\n ---> 10e6784ce079\nStep 43/67 : COPY config ${APP_HOME}/config\n ---> ecfdc80ef67a\nStep 44/67 : COPY lib ${APP_HOME}/lib\n ---> 2f5d08276bcf\nStep 45/67 : COPY db ${APP_HOME}/db\n ---> 1ed756223793\nStep 46/67 : COPY app ${APP_HOME}/app\n ---> dae7206e2250\nStep 47/67 : RUN mkdir -p tmp/pids\n ---> Running in cabdbe3f3b85\nRemoving intermediate container cabdbe3f3b85\n ---> ec9245ba2e03\nStep 48/67 : RUN   if [ \"$RAILS_ENV\" = \"production\" ]; then   SECRET_KEY_BASE=\"secret\"   bundle exec rake assets:precompile;   fi\n ---> Running in dc663deb6587\n\u001b[91mYarn executable was not detected in the system.\nDownload Yarn at https://yarnpkg.com/en/docs/install\n\u001b[0m\u001b[91mYarn executable was not detected in the system.\nDownload Yarn at https://yarnpkg.com/en/docs/install\n\u001b[0m\u001b[91mrake aborted!\n\u001b[0m\u001b[91mUglifier::Error: Unexpected token: keyword (const). To use ES6 syntax, harmony mode must be enabled with Uglifier.new(:harmony => true).\n--\n\u001b[36m 11660\u001b[0m    * --------------------------------------------------------------------------\n\u001b[36m 11661\u001b[0m    */\n\u001b[36m 11662\u001b[0m \n\u001b[36m 11663\u001b[0m   /**\n\u001b[36m 11664\u001b[0m    * ------------------------------------------------------------------------\n\u001b[36m 11665\u001b[0m    * Constants\n\u001b[36m 11666\u001b[0m    * ------------------------------------------------------------------------\n\u001b[36m 11667\u001b[0m    */\n\u001b[91m    => \u001b[0m  \u001b[91mconst elementMap = new Map();\u001b[0m\n\u001b[36m 11669\u001b[0m   const data = {\n\u001b[36m 11670\u001b[0m     set(element, key, instance) {\n\u001b[36m 11671\u001b[0m       if (!elementMap.has(element)) {\n\u001b[36m 11672\u001b[0m         elementMap.set(element, new Map());\n\u001b[36m 11673\u001b[0m       }\n\u001b[36m 11674\u001b[0m \n\u001b[36m 11675\u001b[0m       const instanceMap = elementMap.get(element); // make it clear we only want one instance per element\n\u001b[36m 11676\u001b[0m       // can be removed later when multiple key/instances are fine to be used\n==\n\u001b[0m\u001b[91m/usr/local/bundle/gems/uglifier-4.2.0/lib/uglifier.rb:291:in `parse_result'\n/usr/local/bundle/gems/uglifier-4.2.0/lib/uglifier.rb:221:in `run_uglifyjs'\n/usr/local/bundle/gems/uglifier-4.2.0/lib/uglifier.rb:176:in `compile_with_map'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/uglifier_compressor.rb:58:in `call'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/uglifier_compressor.rb:30:in `call'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:84:in `call_processor'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:66:in `block in call_processors'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:65:in `reverse_each'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:65:in `call_processors'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:182:in `load_from_unloaded'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:59:in `block in load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:337:in `fetch_asset_from_dependency_cache'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:43:in `load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/cached_environment.rb:44:in `block in load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/cached_environment.rb:44:in `fetch'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/cached_environment.rb:44:in `load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/bundle.rb:32:in `block in call'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/bundle.rb:31:in `call'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:84:in `call_processor'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:66:in `block in call_processors'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:65:in `reverse_each'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/processor_utils.rb:65:in `call_processors'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:182:in `load_from_unloaded'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:59:in `block in load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:337:in `fetch_asset_from_dependency_cache'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/loader.rb:43:in `load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/cached_environment.rb:44:in `block in load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/cached_environment.rb:44:in `fetch'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/cached_environment.rb:44:in `load'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/base.rb:81:in `find_asset'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/base.rb:88:in `find_all_linked_assets'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/manifest.rb:125:in `each'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/manifest.rb:125:in `to_a'\n/usr/local/bundle/gems/sprockets-4.1.1/lib/sprockets/manifest.rb:125:in `block (2 levels) in find'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:24:in `block in execute'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `block in synchronize'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:22:in `execute'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/promise.rb:564:in `block in realize'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `run_task'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:343:in `block (3 levels) in create_worker'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `loop'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block (2 levels) in create_worker'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `catch'\n/usr/local/bundle/gems/concurrent-ruby-1.1.10/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `block in create_worker'\nTasks: TOP => assets:precompile\n(See full trace by running task with --trace)\n\u001b[0mRemoving intermediate container dc663deb6587\n","stderr":"The command '/bin/sh -c if [ \"$RAILS_ENV\" = \"production\" ]; then   SECRET_KEY_BASE=\"secret\"   bundle exec rake assets:precompile;   fi' returned a non-zero code: 1\n"}}