{"repository":"https://github.com/appvia/krane","dockerfilePath":"Dockerfile","startTime":1672828116784,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/appvia/krane'...\n","error":null,"commit":"670e1e7bc65c528c227178627f3ad44922ccc3a2"},"originalBuild":{"startTimestamp":1672828117757,"endTimestamp":1672828252389,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t krane:latest -f /tmp/dinghy-analysis/appvia/krane/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.223MB\r\r\nStep 1/30 : FROM ruby:2.7.6-alpine3.16 AS builder\n2.7.6-alpine3.16: Pulling from library/ruby\nca7dd9ec2225: Already exists\nfe71bb0ecfee: Pulling fs layer\n134ec6373770: Pulling fs layer\n7fb77b9dabe8: Pulling fs layer\na0ee32b8e964: Pulling fs layer\na0ee32b8e964: Waiting\n134ec6373770: Verifying Checksum\n134ec6373770: Download complete\nfe71bb0ecfee: Verifying Checksum\nfe71bb0ecfee: Download complete\n7fb77b9dabe8: Verifying Checksum\n7fb77b9dabe8: Download complete\na0ee32b8e964: Verifying Checksum\na0ee32b8e964: Download complete\nfe71bb0ecfee: Pull complete\n134ec6373770: Pull complete\n7fb77b9dabe8: Pull complete\na0ee32b8e964: Pull complete\nDigest: sha256:61da89ad73dc0e19221ba3fee68e831aff22089e5322e55a0eba09ee80bbc850\nStatus: Downloaded newer image for ruby:2.7.6-alpine3.16\n ---> 99b63c4cd90b\nStep 2/30 : WORKDIR /app\n ---> Running in 50f51d144c9a\nRemoving intermediate container 50f51d144c9a\n ---> 813f081f5e2c\nStep 3/30 : RUN apk add --update --no-cache git bash curl make gcc libc-dev tzdata g++ npm\n ---> Running in 0f26172a0a32\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/27) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/27) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(3/27) Installing brotli-libs (1.0.9-r6)\n(4/27) Installing nghttp2-libs (1.47.0-r0)\n(5/27) Installing libcurl (7.83.1-r5)\n(6/27) Installing curl (7.83.1-r5)\n(7/27) Installing binutils (2.38-r3)\n(8/27) Installing libgomp (11.2.1_git20220219-r2)\n(9/27) Installing libatomic (11.2.1_git20220219-r2)\n(10/27) Installing isl22 (0.22-r0)\n(11/27) Installing mpfr4 (4.1.0-r0)\n(12/27) Installing mpc1 (1.2.1-r0)\n(13/27) Installing gcc (11.2.1_git20220219-r2)\n(14/27) Installing musl-dev (1.2.3-r2)\n(15/27) Installing libc-dev (0.7.2-r3)\n(16/27) Installing g++ (11.2.1_git20220219-r2)\n(17/27) Installing expat (2.5.0-r0)\n(18/27) Installing pcre2 (10.40-r0)\n(19/27) Installing git (2.36.3-r0)\n(20/27) Installing make (4.3-r0)\n(21/27) Installing c-ares (1.18.1-r0)\n(22/27) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(23/27) Installing icu-libs (71.1-r2)\n(24/27) Installing libuv (1.44.1-r0)\n(25/27) Installing nodejs-current (18.9.1-r0)\n(26/27) Installing npm (8.10.0-r0)\n(27/27) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r17.trigger\nOK: 267 MiB in 62 packages\nRemoving intermediate container 0f26172a0a32\n ---> 3fa70a1aa477\nStep 4/30 : COPY . /app\n ---> c5d6f3acd5fb\nStep 5/30 : RUN gem install bundler --no-document -v $(cat Gemfile.lock | tail -1 | tr -d \" \")\n ---> Running in 0404a994bcad\nSuccessfully installed bundler-2.2.28\n1 gem installed\nRemoving intermediate container 0404a994bcad\n ---> 1ea18874fdf9\nStep 6/30 : RUN bundle config set deployment 'true'\n ---> Running in 8b87b38c4b9e\nRemoving intermediate container 8b87b38c4b9e\n ---> 8031e9a07b8e\nStep 7/30 : RUN bundle config set without 'development test'\n ---> Running in 23636f7815ea\nRemoving intermediate container 23636f7815ea\n ---> c6e2cd14483b\nStep 8/30 : RUN bundle install --jobs 20 --retry 5\n ---> Running in 2a79ec1ece1c\nFetching gem metadata from https://rubygems.org/........\nFetching rake 13.0.6\nInstalling rake 13.0.6\nUsing bundler 2.2.28\nFetching colorize 0.8.1\nFetching docile 1.4.0\nFetching faraday-net_http 3.0.2\nFetching minitest 5.16.3\nFetching unf_ext 0.0.8.2\nFetching http-accept 1.7.0\nFetching multi_json 1.15.0\nFetching recursive-open-struct 1.1.3\nFetching concurrent-ruby 1.1.10\nFetching public_suffix 5.0.0\nFetching aes_key_wrap 1.1.0\nFetching attr_required 1.0.1\nFetching bindata 2.4.14\nFetching mime-types-data 3.2022.0105\nFetching highline 2.0.3\nFetching facets 3.1.0\nFetching ruby2_keywords 0.0.5\nFetching ffi 1.15.5\nFetching hashie 5.0.0\nFetching http-form_data 2.3.0\nInstalling faraday-net_http 3.0.2\nInstalling aes_key_wrap 1.1.0\nInstalling http-accept 1.7.0\nInstalling recursive-open-struct 1.1.3\nInstalling multi_json 1.15.0\nInstalling attr_required 1.0.1\nInstalling colorize 0.8.1\nInstalling ruby2_keywords 0.0.5\nInstalling docile 1.4.0\nInstalling http-form_data 2.3.0\nInstalling hashie 5.0.0\nInstalling bindata 2.4.14\nInstalling minitest 5.16.3\nInstalling public_suffix 5.0.0\nFetching netrc 0.11.0\nInstalling highline 2.0.3\nInstalling mime-types-data 3.2022.0105\nInstalling netrc 0.11.0\nFetching memoist 0.16.2\nInstalling memoist 0.16.2\nInstalling facets 3.1.0\nInstalling concurrent-ruby 1.1.10\nInstalling unf_ext 0.0.8.2 with native extensions\nFetching timeout 0.3.0\nFetching rack 3.0.1\nFetching mini_mime 1.1.2\nInstalling timeout 0.3.0\nInstalling mini_mime 1.1.2\nFetching redis 4.4.0\nInstalling rack 3.0.1\nFetching slack-notifier 2.4.0\nFetching faraday 2.7.1\nInstalling slack-notifier 2.4.0\nInstalling redis 4.4.0\nFetching jsonpath 1.1.2\nInstalling faraday 2.7.1\nInstalling jsonpath 1.1.2\nInstalling ffi 1.15.5 with native extensions\nFetching net-protocol 0.1.3\nFetching redisgraph 2.0.3\nFetching mail 2.7.1\nFetching addressable 2.8.1\nFetching commander 4.6.0\nFetching mime-types 3.4.1\nFetching faraday-follow_redirects 0.3.0\nInstalling net-protocol 0.1.3\nInstalling faraday-follow_redirects 0.3.0\nInstalling redisgraph 2.0.3\nInstalling commander 4.6.0\nInstalling mime-types 3.4.1\nInstalling addressable 2.8.1\nInstalling mail 2.7.1\nFetching net-smtp 0.3.3\nInstalling net-smtp 0.3.3\nFetching i18n 1.12.0\nFetching tzinfo 2.0.5\nInstalling i18n 1.12.0\nInstalling tzinfo 2.0.5\nFetching activesupport 7.0.4\nInstalling activesupport 7.0.4\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching webfinger 2.1.2\nFetching activemodel 7.0.4\nFetching http-cookie 1.0.5\nFetching json-jwt 1.16.1\nFetching swd 2.0.2\nInstalling webfinger 2.1.2\nInstalling swd 2.0.2\nInstalling http-cookie 1.0.5\nInstalling activemodel 7.0.4\nInstalling json-jwt 1.16.1\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nFetching rack-oauth2 2.2.0\nInstalling rack-oauth2 2.2.0\nFetching validate_email 0.1.6\nFetching validate_url 1.0.15\nInstalling validate_url 1.0.15\nInstalling validate_email 0.1.6\nFetching openid_connect 2.2.0\nInstalling openid_connect 2.2.0\nFetching ffi-compiler 1.0.1\nInstalling ffi-compiler 1.0.1\nFetching http-parser 1.2.3\nInstalling http-parser 1.2.3 with native extensions\nFetching http 4.4.1\nInstalling http 4.4.1\nFetching kubeclient 4.10.1\nInstalling kubeclient 4.10.1\nUsing krane 0.1.0 from source at `.`\nBundle complete! 13 Gemfile dependencies, 59 gems now installed.\nGems in the groups 'development' and 'test' were not installed.\nBundled gems are installed into `./vendor/bundle`\nRemoving intermediate container 2a79ec1ece1c\n ---> 35c4dba16b62\nStep 9/30 : RUN cd dashboard && npm install --no-optional && npm audit fix && npm rebuild node-sass && npm install -g sass-migrator && sass-migrator division **/*.scss && node_modules/.bin/gulp release\n ---> Running in e67a660d1861\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config optional Use `--omit=optional` to exclude optional dependencies, or\nnpm WARN\u001b[0m\u001b[91m config `--include=optional` to include them.\nnpm \u001b[0m\u001b[91mWARN config \nnpm WARN config\u001b[0m\u001b[91m     Default value does install optional deps unless otherwise omitted.\n\u001b[0m\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm\u001b[0m\u001b[91m WARN EBADENGINE   package: 'kubernetes-rbac-inspector@1.0.0',\nnpm WARN EBADENGINE   required: { node: '^14.17.6' },\nnpm WARN EBADENGINE   current: { node: 'v18.9.1', npm: '8.10.0' }\nnpm WARN \u001b[0m\u001b[91mEBADENGINE }\n\u001b[0m\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\n> kubernetes-rbac-inspector@1.0.0 preinstall\n> npx npm-force-resolutions\n\n\u001b[91mnpm WARN exec The following package was not found and will be installed: npm-force-resolutions\n\u001b[0m\nadded 676 packages, and audited 677 packages in 25s\n\n34 packages are looking for funding\n  run `npm fund` for details\n\n5 high severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues, run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm WARN\u001b[0m\u001b[91m EBADENGINE   package: 'kubernetes-rbac-inspector@1.0.0',\nnpm WARN\u001b[0m\u001b[91m EBADENGINE\u001b[0m\u001b[91m   required: { node: '^14.17.6' },\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mEBADENGINE   current: { node: 'v18.9.1', npm: '8.10.0' }\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mEBADENGINE\u001b[0m\u001b[91m }\n\u001b[0m\nadded 3 packages, removed 2 packages, changed 9 packages, and audited 678 packages in 7s\n\n37 packages are looking for funding\n  run `npm fund` for details\n\n# npm audit report\n\nexpress  <=4.17.2 || 5.0.0-alpha.1 - 5.0.0-alpha.8\nSeverity: high\nqs vulnerable to Prototype Pollution - https://github.com/advisories/GHSA-hrpp-h998-j3pp\nDepends on vulnerable versions of body-parser\nDepends on vulnerable versions of qs\nfix available via `npm audit fix --force`\nWill install express@4.18.2, which is outside the stated dependency range\nnode_modules/express\n\nqs  6.7.0 - 6.7.2\nSeverity: high\nqs vulnerable to Prototype Pollution - https://github.com/advisories/GHSA-hrpp-h998-j3pp\nfix available via `npm audit fix --force`\nWill install express@4.18.2, which is outside the stated dependency range\nnode_modules/qs\n  body-parser  1.19.0\n  Depends on vulnerable versions of qs\n  node_modules/body-parser\n\n3 high severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues, run:\n  npm audit fix --force\nRemoving intermediate container e67a660d1861\n","stderr":"The command '/bin/sh -c cd dashboard && npm install --no-optional && npm audit fix && npm rebuild node-sass && npm install -g sass-migrator && sass-migrator division **/*.scss && node_modules/.bin/gulp release' returned a non-zero code: 1\n"},"endTime":1672828252458}