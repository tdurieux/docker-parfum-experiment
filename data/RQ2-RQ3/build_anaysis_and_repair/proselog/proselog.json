{"repository":"https://github.com/proselog/proselog","dockerfilePath":"Dockerfile","startTime":1672477518772,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/proselog/proselog'...\n","error":null,"commit":"e9ea74febd6c72182bb4c462b67b8dee7a1e2122"},"originalBuild":{"startTimestamp":1672477519756,"endTimestamp":1672477694028,"error":null,"stdout":"Sending build context to Docker daemon  625.7kB\r\r\nStep 1/22 : FROM node:16-bullseye-slim as base\n16-bullseye-slim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Pulling fs layer\n031949ce49ec: Pulling fs layer\n16cee6032317: Pulling fs layer\nfd35893cdbff: Pulling fs layer\nfd35893cdbff: Waiting\n00fde01815c9: Verifying Checksum\n00fde01815c9: Download complete\n16cee6032317: Verifying Checksum\n16cee6032317: Download complete\n00fde01815c9: Pull complete\nfd35893cdbff: Download complete\n031949ce49ec: Verifying Checksum\n031949ce49ec: Download complete\n031949ce49ec: Pull complete\n16cee6032317: Pull complete\nfd35893cdbff: Pull complete\nDigest: sha256:30ec224b4c35a768e038674444d0718494a7d8847c96ee73a8d3db795135b4c9\nStatus: Downloaded newer image for node:16-bullseye-slim\n ---> b3b9a79a4762\nStep 2/22 : RUN apt-get update && apt-get install -y openssl\n ---> Running in be716d3b8c71\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6698 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  ca-certificates\nThe following NEW packages will be installed:\n  openssl\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 853 kB of archives.\nAfter this operation, 1501 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 853 kB in 0s (28.4 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nRemoving intermediate container be716d3b8c71\n ---> 5e12a4c58191\nStep 3/22 : RUN npm i -g pnpm\n ---> Running in 9e92a3dea4c9\n\nadded 1 package, and audited 2 packages in 568ms\n\n1 package is looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 9e92a3dea4c9\n ---> 3819d5ae0342\nStep 4/22 : FROM base as deps\n ---> 3819d5ae0342\nStep 5/22 : WORKDIR /app\n ---> Running in 700da925ae49\nRemoving intermediate container 700da925ae49\n ---> 36c75fe3c8c8\nStep 6/22 : ADD . .\n ---> a4af1bb2440b\nStep 7/22 : RUN pnpm i\n ---> Running in 91c95e96af5f\nLockfile is up to date, resolution step is skipped\nProgress: resolved 1, reused 0, downloaded 0, added 0\nPackages: +775\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nPackages are hard linked from the content-addressable store to the virtual store.\n  Content-addressable store is at: /root/.local/share/pnpm/store/v3\n  Virtual store is at:             node_modules/.pnpm\nProgress: resolved 775, reused 0, downloaded 3, added 3\nProgress: resolved 775, reused 0, downloaded 24, added 24\nProgress: resolved 775, reused 0, downloaded 47, added 47\nProgress: resolved 775, reused 0, downloaded 139, added 137\nProgress: resolved 775, reused 0, downloaded 248, added 244\nProgress: resolved 775, reused 0, downloaded 370, added 370\nProgress: resolved 775, reused 0, downloaded 424, added 421\nProgress: resolved 775, reused 0, downloaded 458, added 458\nProgress: resolved 775, reused 0, downloaded 547, added 544\nProgress: resolved 775, reused 0, downloaded 635, added 631\nProgress: resolved 775, reused 0, downloaded 715, added 716\nProgress: resolved 775, reused 0, downloaded 768, added 768\nProgress: resolved 775, reused 0, downloaded 773, added 774\n.../node_modules/core-js-pure postinstall$ node -e \"try{require('./postinstall')}catch(e){}\"\n.../node_modules/@prisma/engines postinstall$ node scripts/postinstall.js\n.../node_modules/core-js-pure postinstall: Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\n.../node_modules/core-js-pure postinstall: The project needs your help! Please consider supporting of core-js:\n.../node_modules/core-js-pure postinstall: > https://opencollective.com/core-js \n.../node_modules/core-js-pure postinstall: > https://patreon.com/zloirock \n.../node_modules/core-js-pure postinstall: > bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \n.../node_modules/core-js-pure postinstall: Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\n.../node_modules/core-js-pure postinstall: Done\nProgress: resolved 775, reused 0, downloaded 774, added 775, done\n.../node_modules/@prisma/engines postinstall: Done\n.../esbuild@0.14.39/node_modules/esbuild postinstall$ node install.js\n.../esbuild@0.14.54/node_modules/esbuild postinstall$ node install.js\n.../esbuild@0.14.39/node_modules/esbuild postinstall: Done\n.../prisma@4.2.1/node_modules/prisma preinstall$ node scripts/preinstall-entry.js\n.../esbuild@0.14.54/node_modules/esbuild postinstall: Done\n.../prisma@4.2.1/node_modules/prisma preinstall: Done\n.../prisma@4.2.1/node_modules/prisma install$ node scripts/install-entry.js\n.../prisma@4.2.1/node_modules/prisma install: Done\n.../node_modules/@prisma/client postinstall$ node scripts/postinstall.js\n.../node_modules/@prisma/client postinstall: Prisma schema loaded from prisma/schema.prisma\n.../node_modules/@prisma/client postinstall: âœ” Generated Prisma Client (4.2.1 | library) to ./node_modules/.pnpm/@prisma+client@4.2.1_prisma@4.2.1/node_modules/@prisma/client in 383ms\n.../node_modules/@prisma/client postinstall: You can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n.../node_modules/@prisma/client postinstall: ```\n.../node_modules/@prisma/client postinstall: import { PrismaClient } from '@prisma/client'\n.../node_modules/@prisma/client postinstall: const prisma = new PrismaClient()\n.../node_modules/@prisma/client postinstall: ```\n.../node_modules/@prisma/client postinstall: Done\n\ndependencies:\n+ @codemirror/commands 0.20.0\n+ @codemirror/lang-markdown 0.20.0\n+ @codemirror/language 0.20.0\n+ @codemirror/state 0.20.0\n+ @codemirror/view 0.20.4\n+ @floating-ui/react-dom-interactions 0.6.3\n+ @headlessui/react 1.6.1\n+ @prisma/client 4.2.1\n+ @proselog/jwt 0.1.1\n+ @tanstack/react-query 4.13.0\n+ @trpc/client 10.0.0-proxy-beta.26\n+ @trpc/next 10.0.0-proxy-beta.26\n+ @trpc/react 9.27.1\n+ @trpc/react-query 10.0.0-proxy-beta.26\n+ @trpc/server 10.0.0-proxy-beta.26\n+ @web-std/form-data 3.0.2\n+ async-busboy 1.1.0\n+ busboy 1.6.0\n+ clsx 1.1.1\n+ cookie 0.5.0\n+ dayjs 1.11.2\n+ dotenv 16.0.0\n+ fast-deep-equal 3.1.3\n+ form-data 4.0.0\n+ mailgun.js 5.2.2\n+ mdast-util-to-string 3.1.0\n+ nanoid 3.3.4\n+ next 13.0.0\n+ nextjs-cors 2.1.1\n+ pica 9.0.1\n+ posthtml 0.16.6\n+ prismjs 1.28.0\n+ react 18.2.0\n+ react-avatar-editor 12.0.0\n+ react-dom 18.2.0\n+ react-hook-form 7.31.1\n+ react-hot-toast 2.2.0\n+ react-query 3.39.0\n+ react-sortablejs 6.1.1\n+ refractor 4.7.0\n+ rehype-prism-plus 1.4.0\n+ rehype-raw 6.1.1\n+ rehype-sanitize 5.0.1\n+ rehype-stringify 9.0.3\n+ remark-gfm 3.0.1\n+ remark-parse 10.0.1\n+ remark-rehype 10.1.0\n+ sortablejs 1.15.0\n+ swagger-ui-react 4.14.0\n+ trpc-openapi 1.0.0-alpha.2\n+ ua-parser-js 1.0.2\n+ unified 10.1.2\n+ unist-builder 3.0.0\n+ unist-util-visit 4.1.0\n+ use-onclickoutside 0.4.0\n+ uuid 8.3.2\n+ zod 3.18.0\n+ zustand 4.0.0-rc.1\n\ndevDependencies:\n+ @iconify-json/bi 1.1.3\n+ @iconify-json/bxs 1.1.2\n+ @iconify-json/carbon 1.1.5\n+ @iconify-json/fluent 1.1.8\n+ @iconify-json/mdi 1.1.19\n+ @playwright/test 1.22.1\n+ @types/async-busboy 1.1.1\n+ @types/busboy 1.5.0\n+ @types/cookie 0.5.1\n+ @types/mjml 4.7.0\n+ @types/node 17.0.31\n+ @types/pica 9.0.0\n+ @types/prismjs 1.26.0\n+ @types/react 18.0.9\n+ @types/react-avatar-editor 12.0.0\n+ @types/react-dom 18.0.3\n+ @types/sortablejs 1.13.0\n+ @types/swagger-ui-react 4.11.0\n+ @types/ua-parser-js 0.7.36\n+ @types/uuid 8.3.4\n+ @unocss/cli 0.45.12\n+ autoprefixer 10.4.7\n+ cross-spawn 7.0.3\n+ esbuild 0.14.39\n+ esbuild-register 3.3.2\n+ eslint 8.15.0\n+ eslint-config-next 12.2.5\n+ postcss-import 14.1.0\n+ prisma 4.2.1\n+ tailwindcss 3.1.8\n+ typescript 4.7.4\n+ unocss 0.45.12\n+ vitest 0.22.1\n\nDone in 21.1s\nRemoving intermediate container 91c95e96af5f\n ---> edbe63c1bf2b\nStep 8/22 : FROM deps as build\n ---> edbe63c1bf2b\nStep 9/22 : WORKDIR /app\n ---> Running in 4d7858087b91\nRemoving intermediate container 4d7858087b91\n ---> 7f521a683485\nStep 10/22 : COPY --from=deps /app /app\n ---> 022537edab7f\nStep 11/22 : ENV NEXT_TELEMETRY_DISABLED 1\n ---> Running in 2975aa759335\nRemoving intermediate container 2975aa759335\n ---> 62996b4c019f\nStep 12/22 : ENV NODE_ENV production\n ---> Running in 7111aa801b1d\nRemoving intermediate container 7111aa801b1d\n ---> d601226f665a\nStep 13/22 : ENV BUILD_STEP=1\n ---> Running in 6713d2af4713\nRemoving intermediate container 6713d2af4713\n ---> 9a9f9536bb47\nStep 14/22 : RUN pnpm build\n ---> Running in d6d8f054a5f4\n\n> proselog@ build /app\n> pnpm db-generate && next build\n\n\n> proselog@ db-generate /app\n> prisma generate\n\nPrisma schema loaded from prisma/schema.prisma\n\nâœ” Generated Prisma Client (4.2.1 | library) to ./node_modules/.pnpm/@prisma+client@4.2.1_prisma@4.2.1/node_modules/@prisma/client in 125ms\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from '@prisma/client'\nconst prisma = new PrismaClient()\n```\ninfo  - Loaded env from /app/.env.production\n\u001b[91mwarn  - You have enabled experimental feature (scrollRestoration) in next.config.js.\nwarn  - Experimental features are not covered by semver, and may cause unexpected or broken application behavior. Use at your own risk.\n\n\u001b[0minfo  - Linting and checking validity of types...\ninfo  - Creating an optimized production build...\n\n> proselog@ uno-generate /app\n> unocss \"src/**/*.{ts,tsx}\" -o src/generated/uno.css\n\nunocss v0.45.12\nstart UnoCSS for production...\nâœ” 28 utilities generated to src/generated/uno.css\n\n\n> proselog@ uno-generate /app\n> unocss \"src/**/*.{ts,tsx}\" -o src/generated/uno.css\n\nunocss v0.45.12\nstart UnoCSS for production...\nâœ” 28 utilities generated to src/generated/uno.css\n\n\n> proselog@ uno-generate /app\n> unocss \"src/**/*.{ts,tsx}\" -o src/generated/uno.css\n\nunocss v0.45.12\nstart UnoCSS for production...\nâœ” 28 utilities generated to src/generated/uno.css\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Compiled successfully\ninfo  - Collecting page data...\ninfo  - Generating static pages (0/12)\ninfo  - Generating static pages (3/12)\ninfo  - Generating static pages (6/12)\ninfo  - Generating static pages (9/12)\ninfo  - Generating static pages (12/12)\ninfo  - Finalizing page optimization...\n\nRoute (pages)                                            Size     First Load JS\nâ”Œ Î» /                                                    1.6 kB          117 kB\nâ”œ   /_app                                                0 B             115 kB\nâ”œ Î» /_site/[site]                                        869 B           124 kB\nâ”œ Î» /_site/[site]/[page]                                 1.46 kB         125 kB\nâ”œ Î» /_site/[site]/archives                               1.04 kB         124 kB\nâ”œ â—‹ /404                                                 184 B           116 kB\nâ”œ Î» /api/login                                           0 B             115 kB\nâ”œ Î» /api/login-complete                                  0 B             115 kB\nâ”œ Î» /api/logout                                          0 B             115 kB\nâ”œ Î» /api/trpc/[trpc]                                     0 B             115 kB\nâ”œ Î» /api/v0/[...trpc]                                    0 B             115 kB\nâ”œ Î» /api/v0/openapi.json                                 0 B             115 kB\nâ”œ Î» /dashboard                                           294 B           116 kB\nâ”œ â—‹ /dashboard/[subdomain] (339 ms)                      6.34 kB         122 kB\nâ”œ â—‹ /dashboard/[subdomain]/account/profile (346 ms)      1.99 kB         142 kB\nâ”œ â—‹ /dashboard/[subdomain]/editor (936 ms)               474 kB          597 kB\nâ”œ â—‹ /dashboard/[subdomain]/pages (306 ms)                318 B           131 kB\nâ”œ â—‹ /dashboard/[subdomain]/posts (343 ms)                317 B           131 kB\nâ”œ â—‹ /dashboard/[subdomain]/settings/domains (330 ms)     3.79 kB         122 kB\nâ”œ â—‹ /dashboard/[subdomain]/settings/general (316 ms)     2.02 kB         142 kB\nâ”œ â—‹ /dashboard/[subdomain]/settings/navigation (318 ms)  24.4 kB         143 kB\nâ”œ â—‹ /dashboard/new-site                                  1.63 kB         117 kB\nâ”” â—‹ /swagger (341 ms)                                    1.86 kB         117 kB\n    â”” css/a89e069e27f5f246.css                           22.1 kB\n+ First Load JS shared by all                            126 kB\n  â”œ chunks/framework-cd882fbc9dfcb48f.js                 45.4 kB\n  â”œ chunks/main-ec06ff9aa3f495d8.js                      26 kB\n  â”œ chunks/pages/_app-a02ef0fabce5fcd9.js                42.1 kB\n  â”œ chunks/webpack-20559ebc4ff99784.js                   1.93 kB\n  â”” css/7b306b26fa9b214d.css                             11 kB\n\nÆ’ Middleware                                             28.4 kB\n\nÎ»  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\nâ—‹  (Static)  automatically rendered as static HTML (uses no initial props)\n\nRemoving intermediate container d6d8f054a5f4\n ---> 3b25fb4c42d5\nStep 15/22 : FROM base\n ---> 3819d5ae0342\nStep 16/22 : ENV NODE_ENV=production\n ---> Running in 6db4e4596bdc\nRemoving intermediate container 6db4e4596bdc\n ---> f3706dad9adf\nStep 17/22 : WORKDIR /app\n ---> Running in 66a7f847e72f\nRemoving intermediate container 66a7f847e72f\n ---> c912fba0b1eb\nStep 18/22 : COPY --from=build /app/.next/standalone /app\n ---> d86daec221f0\nStep 19/22 : COPY --from=build /app/public /app/public\n ---> eaa6639d60c9\nStep 20/22 : COPY --from=build /app/next.config.js /app/next.config.js\n ---> 892963c3df00\nStep 21/22 : COPY --from=build /app/.next/static /app/.next/static\n ---> 13ff788a1f6d\nStep 22/22 : CMD [\"pnpm\", \"start\"]\n ---> Running in 9d8dd1b3201e\nRemoving intermediate container 9d8dd1b3201e\n ---> af3be9fc4e03\nSuccessfully built af3be9fc4e03\nSuccessfully tagged proselog:latest\n","stderr":"","imageSize":300868972},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":17}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":22,"columnEnd":48}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":4,"columnStart":22,"columnEnd":48}}],"repairedDockerfile":"##### BASE\nFROM node:16-bullseye-slim as base\n\n# install open ssl for prisma\nRUN apt-get update && apt-get install --no-install-recommends -y openssl\n\nRUN npm i -g pnpm\n\n##### DEPS\nFROM base as deps\n\nWORKDIR /app\n\nADD . .\n\nRUN pnpm i\n\n##### BUILD\nFROM deps as build\n\nWORKDIR /app\n\nCOPY --from=deps /app /app\n\nENV NEXT_TELEMETRY_DISABLED 1\nENV NODE_ENV production\nENV BUILD_STEP=1\nRUN pnpm build\n\n##### FINAL\nFROM base\n\nENV NODE_ENV=production\nWORKDIR /app\n\nCOPY --from=build /app/.next/standalone /app\nCOPY --from=build /app/public /app/public\nCOPY --from=build /app/next.config.js /app/next.config.js\nCOPY --from=build /app/.next/static /app/.next/static\n\nCMD [\"pnpm\", \"start\"]\n\n"},"repairedBuild":{"startTimestamp":1672477694466,"endTimestamp":1672477856111,"error":null,"stdout":"Sending build context to Docker daemon  625.7kB\r\r\nStep 1/22 : FROM node:16-bullseye-slim as base\n ---> b3b9a79a4762\nStep 2/22 : RUN apt-get update && apt-get install --no-install-recommends -y openssl\n ---> Running in cd3362511812\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (7106 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  ca-certificates\nThe following NEW packages will be installed:\n  openssl\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 853 kB of archives.\nAfter this operation, 1501 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 853 kB in 0s (28.5 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nRemoving intermediate container cd3362511812\n ---> 568ee0f65066\nStep 3/22 : RUN npm i -g pnpm\n ---> Running in 0b57c5f48c69\n\nadded 1 package, and audited 2 packages in 629ms\n\n1 package is looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 0b57c5f48c69\n ---> 683f9711efce\nStep 4/22 : FROM base as deps\n ---> 683f9711efce\nStep 5/22 : WORKDIR /app\n ---> Running in 1ac745249362\nRemoving intermediate container 1ac745249362\n ---> 0f3a15cf748f\nStep 6/22 : ADD . .\n ---> 1b7c7846b1d4\nStep 7/22 : RUN pnpm i\n ---> Running in 9cb5db899f09\nLockfile is up to date, resolution step is skipped\nProgress: resolved 1, reused 0, downloaded 0, added 0\nPackages: +775\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nPackages are hard linked from the content-addressable store to the virtual store.\n  Content-addressable store is at: /root/.local/share/pnpm/store/v3\n  Virtual store is at:             node_modules/.pnpm\nProgress: resolved 775, reused 0, downloaded 36, added 36\nProgress: resolved 775, reused 0, downloaded 118, added 113\nProgress: resolved 775, reused 0, downloaded 194, added 194\nProgress: resolved 775, reused 0, downloaded 290, added 287\nProgress: resolved 775, reused 0, downloaded 392, added 391\nProgress: resolved 775, reused 0, downloaded 455, added 452\nProgress: resolved 775, reused 0, downloaded 608, added 602\nProgress: resolved 775, reused 0, downloaded 736, added 737\nProgress: resolved 775, reused 0, downloaded 772, added 773\nProgress: resolved 775, reused 0, downloaded 773, added 774\nProgress: resolved 775, reused 0, downloaded 774, added 774\n.../node_modules/core-js-pure postinstall$ node -e \"try{require('./postinstall')}catch(e){}\"\n.../node_modules/@prisma/engines postinstall$ node scripts/postinstall.js\n.../node_modules/core-js-pure postinstall: Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\n.../node_modules/core-js-pure postinstall: The project needs your help! Please consider supporting of core-js:\n.../node_modules/core-js-pure postinstall: > https://opencollective.com/core-js \n.../node_modules/core-js-pure postinstall: > https://patreon.com/zloirock \n.../node_modules/core-js-pure postinstall: > bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \n.../node_modules/core-js-pure postinstall: Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\n.../node_modules/core-js-pure postinstall: Done\nProgress: resolved 775, reused 0, downloaded 774, added 775, done\n.../node_modules/@prisma/engines postinstall: Done\n.../esbuild@0.14.39/node_modules/esbuild postinstall$ node install.js\n.../esbuild@0.14.54/node_modules/esbuild postinstall$ node install.js\n.../esbuild@0.14.39/node_modules/esbuild postinstall: Done\n.../prisma@4.2.1/node_modules/prisma preinstall$ node scripts/preinstall-entry.js\n.../esbuild@0.14.54/node_modules/esbuild postinstall: Done\n.../prisma@4.2.1/node_modules/prisma preinstall: Done\n.../prisma@4.2.1/node_modules/prisma install$ node scripts/install-entry.js\n.../prisma@4.2.1/node_modules/prisma install: Done\n.../node_modules/@prisma/client postinstall$ node scripts/postinstall.js\n.../node_modules/@prisma/client postinstall: Prisma schema loaded from prisma/schema.prisma\n.../node_modules/@prisma/client postinstall: âœ” Generated Prisma Client (4.2.1 | library) to ./node_modules/.pnpm/@prisma+client@4.2.1_prisma@4.2.1/node_modules/@prisma/client in 528ms\n.../node_modules/@prisma/client postinstall: You can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n.../node_modules/@prisma/client postinstall: ```\n.../node_modules/@prisma/client postinstall: import { PrismaClient } from '@prisma/client'\n.../node_modules/@prisma/client postinstall: const prisma = new PrismaClient()\n.../node_modules/@prisma/client postinstall: ```\n.../node_modules/@prisma/client postinstall: Done\n\ndependencies:\n+ @codemirror/commands 0.20.0\n+ @codemirror/lang-markdown 0.20.0\n+ @codemirror/language 0.20.0\n+ @codemirror/state 0.20.0\n+ @codemirror/view 0.20.4\n+ @floating-ui/react-dom-interactions 0.6.3\n+ @headlessui/react 1.6.1\n+ @prisma/client 4.2.1\n+ @proselog/jwt 0.1.1\n+ @tanstack/react-query 4.13.0\n+ @trpc/client 10.0.0-proxy-beta.26\n+ @trpc/next 10.0.0-proxy-beta.26\n+ @trpc/react 9.27.1\n+ @trpc/react-query 10.0.0-proxy-beta.26\n+ @trpc/server 10.0.0-proxy-beta.26\n+ @web-std/form-data 3.0.2\n+ async-busboy 1.1.0\n+ busboy 1.6.0\n+ clsx 1.1.1\n+ cookie 0.5.0\n+ dayjs 1.11.2\n+ dotenv 16.0.0\n+ fast-deep-equal 3.1.3\n+ form-data 4.0.0\n+ mailgun.js 5.2.2\n+ mdast-util-to-string 3.1.0\n+ nanoid 3.3.4\n+ next 13.0.0\n+ nextjs-cors 2.1.1\n+ pica 9.0.1\n+ posthtml 0.16.6\n+ prismjs 1.28.0\n+ react 18.2.0\n+ react-avatar-editor 12.0.0\n+ react-dom 18.2.0\n+ react-hook-form 7.31.1\n+ react-hot-toast 2.2.0\n+ react-query 3.39.0\n+ react-sortablejs 6.1.1\n+ refractor 4.7.0\n+ rehype-prism-plus 1.4.0\n+ rehype-raw 6.1.1\n+ rehype-sanitize 5.0.1\n+ rehype-stringify 9.0.3\n+ remark-gfm 3.0.1\n+ remark-parse 10.0.1\n+ remark-rehype 10.1.0\n+ sortablejs 1.15.0\n+ swagger-ui-react 4.14.0\n+ trpc-openapi 1.0.0-alpha.2\n+ ua-parser-js 1.0.2\n+ unified 10.1.2\n+ unist-builder 3.0.0\n+ unist-util-visit 4.1.0\n+ use-onclickoutside 0.4.0\n+ uuid 8.3.2\n+ zod 3.18.0\n+ zustand 4.0.0-rc.1\n\ndevDependencies:\n+ @iconify-json/bi 1.1.3\n+ @iconify-json/bxs 1.1.2\n+ @iconify-json/carbon 1.1.5\n+ @iconify-json/fluent 1.1.8\n+ @iconify-json/mdi 1.1.19\n+ @playwright/test 1.22.1\n+ @types/async-busboy 1.1.1\n+ @types/busboy 1.5.0\n+ @types/cookie 0.5.1\n+ @types/mjml 4.7.0\n+ @types/node 17.0.31\n+ @types/pica 9.0.0\n+ @types/prismjs 1.26.0\n+ @types/react 18.0.9\n+ @types/react-avatar-editor 12.0.0\n+ @types/react-dom 18.0.3\n+ @types/sortablejs 1.13.0\n+ @types/swagger-ui-react 4.11.0\n+ @types/ua-parser-js 0.7.36\n+ @types/uuid 8.3.4\n+ @unocss/cli 0.45.12\n+ autoprefixer 10.4.7\n+ cross-spawn 7.0.3\n+ esbuild 0.14.39\n+ esbuild-register 3.3.2\n+ eslint 8.15.0\n+ eslint-config-next 12.2.5\n+ postcss-import 14.1.0\n+ prisma 4.2.1\n+ tailwindcss 3.1.8\n+ typescript 4.7.4\n+ unocss 0.45.12\n+ vitest 0.22.1\n\nDone in 19.7s\nRemoving intermediate container 9cb5db899f09\n ---> f59675b69cfc\nStep 8/22 : FROM deps as build\n ---> f59675b69cfc\nStep 9/22 : WORKDIR /app\n ---> Running in ad179e0934d5\nRemoving intermediate container ad179e0934d5\n ---> 00f5b08abcb6\nStep 10/22 : COPY --from=deps /app /app\n ---> bc9b1f11edc9\nStep 11/22 : ENV NEXT_TELEMETRY_DISABLED 1\n ---> Running in fd03eef027fc\nRemoving intermediate container fd03eef027fc\n ---> e47d4f900e02\nStep 12/22 : ENV NODE_ENV production\n ---> Running in e9220c3cd2f9\nRemoving intermediate container e9220c3cd2f9\n ---> 07b2b494580d\nStep 13/22 : ENV BUILD_STEP=1\n ---> Running in 56a2b8393c0e\nRemoving intermediate container 56a2b8393c0e\n ---> 64b643df5890\nStep 14/22 : RUN pnpm build\n ---> Running in 2fc78af05a1b\n\n> proselog@ build /app\n> pnpm db-generate && next build\n\n\n> proselog@ db-generate /app\n> prisma generate\n\nPrisma schema loaded from prisma/schema.prisma\n\nâœ” Generated Prisma Client (4.2.1 | library) to ./node_modules/.pnpm/@prisma+client@4.2.1_prisma@4.2.1/node_modules/@prisma/client in 178ms\nYou can now start using Prisma Client in your code. Reference: https://pris.ly/d/client\n```\nimport { PrismaClient } from '@prisma/client'\nconst prisma = new PrismaClient()\n```\ninfo  - Loaded env from /app/.env.production\n\u001b[91mwarn  - You have enabled experimental feature (scrollRestoration) in next.config.js.\nwarn  - Experimental features are not covered by semver, and may cause unexpected or broken application behavior. Use at your own risk.\n\n\u001b[0minfo  - Linting and checking validity of types...\ninfo  - Creating an optimized production build...\n\n> proselog@ uno-generate /app\n> unocss \"src/**/*.{ts,tsx}\" -o src/generated/uno.css\n\nunocss v0.45.12\nstart UnoCSS for production...\nâœ” 28 utilities generated to src/generated/uno.css\n\n\n> proselog@ uno-generate /app\n> unocss \"src/**/*.{ts,tsx}\" -o src/generated/uno.css\n\nunocss v0.45.12\nstart UnoCSS for production...\nâœ” 28 utilities generated to src/generated/uno.css\n\n\n> proselog@ uno-generate /app\n> unocss \"src/**/*.{ts,tsx}\" -o src/generated/uno.css\n\nunocss v0.45.12\nstart UnoCSS for production...\nâœ” 28 utilities generated to src/generated/uno.css\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Compiled successfully\ninfo  - Collecting page data...\ninfo  - Generating static pages (0/12)\ninfo  - Generating static pages (3/12)\ninfo  - Generating static pages (6/12)\ninfo  - Generating static pages (9/12)\ninfo  - Generating static pages (12/12)\ninfo  - Finalizing page optimization...\n\nRoute (pages)                                            Size     First Load JS\nâ”Œ Î» /                                                    1.6 kB          117 kB\nâ”œ   /_app                                                0 B             115 kB\nâ”œ Î» /_site/[site]                                        869 B           124 kB\nâ”œ Î» /_site/[site]/[page]                                 1.46 kB         125 kB\nâ”œ Î» /_site/[site]/archives                               1.04 kB         124 kB\nâ”œ â—‹ /404                                                 184 B           116 kB\nâ”œ Î» /api/login                                           0 B             115 kB\nâ”œ Î» /api/login-complete                                  0 B             115 kB\nâ”œ Î» /api/logout                                          0 B             115 kB\nâ”œ Î» /api/trpc/[trpc]                                     0 B             115 kB\nâ”œ Î» /api/v0/[...trpc]                                    0 B             115 kB\nâ”œ Î» /api/v0/openapi.json                                 0 B             115 kB\nâ”œ Î» /dashboard                                           294 B           116 kB\nâ”œ â—‹ /dashboard/[subdomain] (305 ms)                      6.34 kB         122 kB\nâ”œ â—‹ /dashboard/[subdomain]/account/profile               1.99 kB         142 kB\nâ”œ â—‹ /dashboard/[subdomain]/editor (844 ms)               474 kB          597 kB\nâ”œ â—‹ /dashboard/[subdomain]/pages (351 ms)                318 B           131 kB\nâ”œ â—‹ /dashboard/[subdomain]/posts (323 ms)                317 B           131 kB\nâ”œ â—‹ /dashboard/[subdomain]/settings/domains              3.79 kB         122 kB\nâ”œ â—‹ /dashboard/[subdomain]/settings/general (314 ms)     2.02 kB         142 kB\nâ”œ â—‹ /dashboard/[subdomain]/settings/navigation (305 ms)  24.4 kB         143 kB\nâ”œ â—‹ /dashboard/new-site                                  1.63 kB         117 kB\nâ”” â—‹ /swagger                                             1.86 kB         117 kB\n    â”” css/a89e069e27f5f246.css                           22.1 kB\n+ First Load JS shared by all                            126 kB\n  â”œ chunks/framework-cd882fbc9dfcb48f.js                 45.4 kB\n  â”œ chunks/main-ec06ff9aa3f495d8.js                      26 kB\n  â”œ chunks/pages/_app-a02ef0fabce5fcd9.js                42.1 kB\n  â”œ chunks/webpack-20559ebc4ff99784.js                   1.93 kB\n  â”” css/7b306b26fa9b214d.css                             11 kB\n\nÆ’ Middleware                                             28.4 kB\n\nÎ»  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\nâ—‹  (Static)  automatically rendered as static HTML (uses no initial props)\n\nRemoving intermediate container 2fc78af05a1b\n ---> 72676e61472f\nStep 15/22 : FROM base\n ---> 683f9711efce\nStep 16/22 : ENV NODE_ENV=production\n ---> Running in 6667d4b73cd9\nRemoving intermediate container 6667d4b73cd9\n ---> b407ed686880\nStep 17/22 : WORKDIR /app\n ---> Running in ecb90489ddcb\nRemoving intermediate container ecb90489ddcb\n ---> 6c41234a8c90\nStep 18/22 : COPY --from=build /app/.next/standalone /app\n ---> 4afdf4c81442\nStep 19/22 : COPY --from=build /app/public /app/public\n ---> b7c120d15484\nStep 20/22 : COPY --from=build /app/next.config.js /app/next.config.js\n ---> 6026f464b896\nStep 21/22 : COPY --from=build /app/.next/static /app/.next/static\n ---> 79e85ca90eb5\nStep 22/22 : CMD [\"pnpm\", \"start\"]\n ---> Running in bbdc99160995\nRemoving intermediate container bbdc99160995\n ---> 9f49d2c5a6b2\nSuccessfully built 9f49d2c5a6b2\nSuccessfully tagged proselog:latest\n","stderr":"","imageSize":300868995},"endTime":1672477856430}