{"repository":"https://github.com/dperson/moinmoin","dockerfilePath":"Dockerfile","startTime":1672165740577,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dperson/moinmoin'...\n","error":null,"commit":"3eda99cd040e576440bfcf003bce642b9c4d25f3"},"originalBuild":{"startTimestamp":1672165741580,"endTimestamp":1672165762564,"error":null,"stdout":"Sending build context to Docker daemon  17.41kB\r\r\nStep 1/9 : FROM alpine:3.10\n3.10: Pulling from library/alpine\n396c31837116: Pulling fs layer\n396c31837116: Verifying Checksum\n396c31837116: Download complete\n396c31837116: Pull complete\nDigest: sha256:451eee8bedcb2f029756dc3e9d73bab0e7943c1ac55cff3a4861c52a0fdd3e98\nStatus: Downloaded newer image for alpine:3.10\n ---> e7b300aee9f9\nStep 2/9 : MAINTAINER David Personette <dperson@gmail.com>\n ---> Running in 5e9868911d4d\nRemoving intermediate container 5e9868911d4d\n ---> 42bbb82c9648\nStep 3/9 : RUN version=1.9.11 &&     file=moin-${version}.tar.gz &&     sha256sum=02be31d55f39d4fe0c6253df8b49e01b76d095634cbd1b56d185f66e1e0c3 &&     apk --no-cache --no-progress upgrade &&     apk --no-cache --no-progress add bash curl py2-markdown tini tzdata                 uwsgi-python shadow &&     echo \"downloading $file ...\" &&     curl -LOSs http://static.moinmo.in/files/$file &&     sha256sum $file | grep -q \"$sha256sum\" ||     { echo \"expected $sha256sum, got $(sha256sum $file)\"; exit 13; } &&     mkdir moinmoin &&     tar -xf $file -C moinmoin --strip-components=1 &&     (cd moinmoin &&     python setup.py install --force --prefix=/usr/local >/dev/null) &&     sed -e '/logo_string/ { s/moinmoin/docker/; s/MoinMoin // }'                 -e '/url_prefix_static/ {s/#\\(url_prefix_static\\)/\\1/; s/my//}'                -e '/page_front_page.*Front/s/#\\(page_front_page\\)/\\1/'                 -e '/superuser/ { s/#\\(superuser\\)/\\1/; s/YourName/mmAdmin/ }'                 -e '/page_front_page/s/#u/u/'                 /usr/local/share/moin/config/wikiconfig.py                 >/usr/local/share/moin/wikiconfig.py &&     chown -Rh uwsgi. /usr/local/share/moin/data                 /usr/local/share/moin/underlay &&     rm -rf /tmp/* $file moinmoin raw\n ---> Running in dcfcb6e23e84\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.6-r0 -> 2.10.8-r0)\nExecuting busybox-1.30.1-r5.trigger\nContinuing the upgrade transaction with new apk-tools:\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\nOK: 6 MiB in 14 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(2/26) Installing ncurses-libs (6.1_p20190518-r2)\n(3/26) Installing readline (8.0.0-r0)\n(4/26) Installing bash (5.0.0-r0)\nExecuting bash-5.0.0-r0.post-install\n(5/26) Installing ca-certificates (20191127-r2)\n(6/26) Installing nghttp2-libs (1.39.2-r1)\n(7/26) Installing libcurl (7.66.0-r4)\n(8/26) Installing curl (7.66.0-r4)\n(9/26) Installing libbz2 (1.0.6-r7)\n(10/26) Installing expat (2.2.8-r0)\n(11/26) Installing libffi (3.2.1-r6)\n(12/26) Installing gdbm (1.13-r1)\n(13/26) Installing sqlite-libs (3.28.0-r3)\n(14/26) Installing python2 (2.7.18-r0)\n(15/26) Installing py2-markdown (3.1.1-r0)\n(16/26) Installing linux-pam (1.3.0-r1)\n(17/26) Installing shadow (4.6-r2)\n(18/26) Installing tini (0.18.0-r0)\n(19/26) Installing tzdata (2021a-r0)\n(20/26) Installing mailcap (2.1.48-r0)\n(21/26) Installing libcap (2.27-r0)\n(22/26) Installing jansson (2.12-r0)\n(23/26) Installing pcre (8.43-r1)\n(24/26) Installing libxml2 (2.9.9-r5)\n(25/26) Installing uwsgi (2.0.18-r1)\nExecuting uwsgi-2.0.18-r1.pre-install\n(26/26) Installing uwsgi-python (2.0.18-r1)\nExecuting busybox-1.30.1-r5.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 58 MiB in 40 packages\ndownloading moin-1.9.11.tar.gz ...\nRemoving intermediate container dcfcb6e23e84\n ---> e5fb9cc8c422\nStep 4/9 : COPY docker.png /usr/local/lib/python2.7/site-packages/MoinMoin/web/static/htdocs/common/\n ---> 3aa5afb95aa2\nStep 5/9 : COPY moin.sh /usr/bin/\n ---> ba24139abf77\nStep 6/9 : EXPOSE 3031\n ---> Running in ec810343dd7c\nRemoving intermediate container ec810343dd7c\n ---> 36cd0a1ff251\nStep 7/9 : HEALTHCHECK --interval=60s --timeout=15s             CMD netstat -lntp | grep -q '0\\.0\\.0\\.0:3031'\n ---> Running in a923b3269ddf\nRemoving intermediate container a923b3269ddf\n ---> 4de9920a28e0\nStep 8/9 : VOLUME [\"/usr/local/share/moin\"]\n ---> Running in d1bdfd3439d1\nRemoving intermediate container d1bdfd3439d1\n ---> ca2639fac1c1\nStep 9/9 : ENTRYPOINT [\"/sbin/tini\", \"--\", \"/usr/bin/moin.sh\"]\n ---> Running in 9ec1071cc515\nRemoving intermediate container 9ec1071cc515\n ---> fb1c39958cfb\nSuccessfully built fb1c39958cfb\nSuccessfully tagged moinmoin:latest\n","stderr":"","imageSize":112508060},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":11,"end":11,"columnStart":4,"columnEnd":50}},{"name":"curlUseHttpsUrl","position":{"start":11,"end":11,"columnStart":4,"columnEnd":50}}],"repairedDockerfile":"FROM alpine:3.10\nMAINTAINER David Personette <dperson@gmail.com>\n\n# Install uwsgi and MoinMoin\nRUN version=1.9.11 && \\\n    file=moin-${version}.tar.gz && \\\n    sha256sum=02be31d55f39d4fe0c6253df8b49e01b76d095634cbd1b56d185f66e1e0c3 && \\\n    apk --no-cache --no-progress upgrade && \\\n    apk --no-cache --no-progress add bash curl py2-markdown tini tzdata \\\n                uwsgi-python shadow && \\\n    echo \"downloading $file ...\" && \\\n    curl -f -LOSs https://static.moinmo.in/files/$file && \\\n    sha256sum $file | grep -q \"$sha256sum\" || \\\n    { echo \"expected $sha256sum, got $(sha256sum $file)\"; exit 13; } && \\\n    mkdir moinmoin && \\\n    tar -xf $file -C moinmoin --strip-components=1 && \\\n    (cd moinmoin && \\\n    python setup.py install --force --prefix=/usr/local >/dev/null) && \\\n    sed -e '/logo_string/ { s/moinmoin/docker/; s/MoinMoin // }' \\\n                -e '/url_prefix_static/ {s/#\\(url_prefix_static\\)/\\1/; s/my//}' \\\n                -e '/page_front_page.*Front/s/#\\(page_front_page\\)/\\1/' \\\n                -e '/superuser/ { s/#\\(superuser\\)/\\1/; s/YourName/mmAdmin/ }' \\\n                -e '/page_front_page/s/#u/u/' \\\n                /usr/local/share/moin/config/wikiconfig.py \\\n                >/usr/local/share/moin/wikiconfig.py && \\\n    chown -Rh uwsgi. /usr/local/share/moin/data \\\n                /usr/local/share/moin/underlay && \\\n    rm -rf /tmp/* $file moinmoin raw\n\nCOPY docker.png /usr/local/lib/python2.7/site-packages/MoinMoin/web/static/htdocs/common/\nCOPY moin.sh /usr/bin/\n\nEXPOSE 3031\n\nHEALTHCHECK --interval=60s --timeout=15s \\\n            CMD netstat -lntp | grep -q '0\\.0\\.0\\.0:3031'\n\nVOLUME [\"/usr/local/share/moin\"]\n\nENTRYPOINT [\"/sbin/tini\", \"--\", \"/usr/bin/moin.sh\"]"},"repairedBuild":{"startTimestamp":1672165763041,"endTimestamp":1672165789264,"error":null,"stdout":"Sending build context to Docker daemon  17.41kB\r\r\nStep 1/9 : FROM alpine:3.10\n ---> e7b300aee9f9\nStep 2/9 : MAINTAINER David Personette <dperson@gmail.com>\n ---> Running in 4c5d45dfa6c2\nRemoving intermediate container 4c5d45dfa6c2\n ---> f75604728133\nStep 3/9 : RUN version=1.9.11 &&     file=moin-${version}.tar.gz &&     sha256sum=02be31d55f39d4fe0c6253df8b49e01b76d095634cbd1b56d185f66e1e0c3 &&     apk --no-cache --no-progress upgrade &&     apk --no-cache --no-progress add bash curl py2-markdown tini tzdata                 uwsgi-python shadow &&     echo \"downloading $file ...\" &&     curl -f -LOSs https://static.moinmo.in/files/$file &&     sha256sum $file | grep -q \"$sha256sum\" ||     { echo \"expected $sha256sum, got $(sha256sum $file)\"; exit 13; } &&     mkdir moinmoin &&     tar -xf $file -C moinmoin --strip-components=1 &&     (cd moinmoin &&     python setup.py install --force --prefix=/usr/local >/dev/null) &&     sed -e '/logo_string/ { s/moinmoin/docker/; s/MoinMoin // }'                 -e '/url_prefix_static/ {s/#\\(url_prefix_static\\)/\\1/; s/my//}'                 -e '/page_front_page.*Front/s/#\\(page_front_page\\)/\\1/'                 -e '/superuser/ { s/#\\(superuser\\)/\\1/; s/YourName/mmAdmin/ }'                 -e '/page_front_page/s/#u/u/'                 /usr/local/share/moin/config/wikiconfig.py                 >/usr/local/share/moin/wikiconfig.py &&     chown -Rh uwsgi. /usr/local/share/moin/data                 /usr/local/share/moin/underlay &&     rm -rf /tmp/* $file moinmoin raw\n ---> Running in 1011be501c9d\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.6-r0 -> 2.10.8-r0)\nExecuting busybox-1.30.1-r5.trigger\nContinuing the upgrade transaction with new apk-tools:\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\nOK: 6 MiB in 14 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(2/26) Installing ncurses-libs (6.1_p20190518-r2)\n(3/26) Installing readline (8.0.0-r0)\n(4/26) Installing bash (5.0.0-r0)\nExecuting bash-5.0.0-r0.post-install\n(5/26) Installing ca-certificates (20191127-r2)\n(6/26) Installing nghttp2-libs (1.39.2-r1)\n(7/26) Installing libcurl (7.66.0-r4)\n(8/26) Installing curl (7.66.0-r4)\n(9/26) Installing libbz2 (1.0.6-r7)\n(10/26) Installing expat (2.2.8-r0)\n(11/26) Installing libffi (3.2.1-r6)\n(12/26) Installing gdbm (1.13-r1)\n(13/26) Installing sqlite-libs (3.28.0-r3)\n(14/26) Installing python2 (2.7.18-r0)\n(15/26) Installing py2-markdown (3.1.1-r0)\n(16/26) Installing linux-pam (1.3.0-r1)\n(17/26) Installing shadow (4.6-r2)\n(18/26) Installing tini (0.18.0-r0)\n(19/26) Installing tzdata (2021a-r0)\n(20/26) Installing mailcap (2.1.48-r0)\n(21/26) Installing libcap (2.27-r0)\n(22/26) Installing jansson (2.12-r0)\n(23/26) Installing pcre (8.43-r1)\n(24/26) Installing libxml2 (2.9.9-r5)\n(25/26) Installing uwsgi (2.0.18-r1)\nExecuting uwsgi-2.0.18-r1.pre-install\n(26/26) Installing uwsgi-python (2.0.18-r1)\nExecuting busybox-1.30.1-r5.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 58 MiB in 40 packages\ndownloading moin-1.9.11.tar.gz ...\nRemoving intermediate container 1011be501c9d\n ---> fcb4fbd9f5b5\nStep 4/9 : COPY docker.png /usr/local/lib/python2.7/site-packages/MoinMoin/web/static/htdocs/common/\n ---> 9b8df84652b1\nStep 5/9 : COPY moin.sh /usr/bin/\n ---> c36955702140\nStep 6/9 : EXPOSE 3031\n ---> Running in ebfc3c450510\nRemoving intermediate container ebfc3c450510\n ---> e8ce1a2e8b74\nStep 7/9 : HEALTHCHECK --interval=60s --timeout=15s             CMD netstat -lntp | grep -q '0\\.0\\.0\\.0:3031'\n ---> Running in abc2e5ce9745\nRemoving intermediate container abc2e5ce9745\n ---> 14c332ef9b13\nStep 8/9 : VOLUME [\"/usr/local/share/moin\"]\n ---> Running in 1ff1cd1601ac\nRemoving intermediate container 1ff1cd1601ac\n ---> b13dc2c4f3f7\nStep 9/9 : ENTRYPOINT [\"/sbin/tini\", \"--\", \"/usr/bin/moin.sh\"]\n ---> Running in 2abeefd20dd4\nRemoving intermediate container 2abeefd20dd4\n ---> 97a1ab0b83e5\nSuccessfully built 97a1ab0b83e5\nSuccessfully tagged moinmoin:latest\n","stderr":"","imageSize":112508060},"endTime":1672165789624}