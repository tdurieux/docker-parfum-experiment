{"repository":"https://github.com/batchcorp/plumber","dockerfilePath":"Dockerfile","startTime":1672802795490,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/batchcorp/plumber'...\n","error":null,"commit":"e8ce63571ecf0831ef4f09c66b19a6d22851a202"},"originalBuild":{"startTimestamp":1672802798963,"endTimestamp":1672802860958,"error":null,"stdout":"Sending build context to Docker daemon   98.4MB\r\r\nStep 1/13 : ARG ALPINE_VERSION=3.12\nStep 2/13 : FROM golang:1.16-alpine$ALPINE_VERSION AS builder\n1.16-alpine3.12: Pulling from library/golang\n339de151aab4: Pulling fs layer\nc22b54d2d434: Pulling fs layer\na5898d3d0f1f: Pulling fs layer\n676bd4becac4: Pulling fs layer\n4d9ae1a13abd: Pulling fs layer\n676bd4becac4: Waiting\n4d9ae1a13abd: Waiting\na5898d3d0f1f: Verifying Checksum\na5898d3d0f1f: Download complete\nc22b54d2d434: Verifying Checksum\nc22b54d2d434: Download complete\n339de151aab4: Verifying Checksum\n339de151aab4: Download complete\n339de151aab4: Pull complete\n4d9ae1a13abd: Download complete\nc22b54d2d434: Pull complete\na5898d3d0f1f: Pull complete\n676bd4becac4: Verifying Checksum\n676bd4becac4: Download complete\n676bd4becac4: Pull complete\n4d9ae1a13abd: Pull complete\nDigest: sha256:db2475a1dbb2149508e5db31d7d77a75e6600d54be645f37681f03f2762169ba\nStatus: Downloaded newer image for golang:1.16-alpine3.12\n ---> baed0e68a17f\nStep 3/13 : RUN apk --update add make bash curl git\n ---> Running in 4f988ffcd655\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/11) Installing ncurses-libs (6.2_p20200523-r1)\n(3/11) Installing readline (8.0.4-r0)\n(4/11) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/11) Installing nghttp2-libs (1.41.0-r0)\n(6/11) Installing libcurl (7.79.1-r1)\n(7/11) Installing curl (7.79.1-r1)\n(8/11) Installing expat (2.2.10-r4)\n(9/11) Installing pcre2 (10.35-r0)\n(10/11) Installing git (2.26.3-r1)\n(11/11) Installing make (4.3-r0)\nExecuting busybox-1.31.1-r20.trigger\nOK: 24 MiB in 26 packages\nRemoving intermediate container 4f988ffcd655\n ---> afb8ab40317a\nStep 4/13 : WORKDIR /\n ---> Running in 237bb8a40918\nRemoving intermediate container 237bb8a40918\n ---> f3eb9ff9b7e4\nStep 5/13 : COPY . .\n ---> df7440f6573d\nStep 6/13 : RUN make build/linux\n ---> Running in 3da06add3448\nrm -f ./build/plumber-*\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 GONOPROXY=github.com/batchcorp GOFLAGS=-mod=vendor go build -ldflags \"-X 'github.com/batchcorp/plumber/options.VERSION=e8ce635' -X 'main.TELEMETRY_API_KEY='\" -o ./build/plumber-linux\nRemoving intermediate container 3da06add3448\n ---> bfca1d29b322\nStep 7/13 : FROM library/alpine:$ALPINE_VERSION\n3.12: Pulling from library/alpine\n1b7ca6aea1dd: Pulling fs layer\n1b7ca6aea1dd: Download complete\n1b7ca6aea1dd: Pull complete\nDigest: sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69\nStatus: Downloaded newer image for alpine:3.12\n ---> 24c8ece58a1a\nStep 8/13 : RUN apk --update add bash curl ca-certificates && update-ca-certificates\n ---> Running in ea694b05ac69\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/8) Installing ncurses-libs (6.2_p20200523-r1)\n(3/8) Installing readline (8.0.4-r0)\n(4/8) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/8) Installing ca-certificates (20220614-r0)\n(6/8) Installing nghttp2-libs (1.41.0-r0)\n(7/8) Installing libcurl (7.79.1-r1)\n(8/8) Installing curl (7.79.1-r1)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 9 MiB in 22 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container ea694b05ac69\n ---> c7011f970218\nStep 9/13 : COPY --from=builder /build/plumber-linux /plumber-linux\n ---> 6ee894b796c0\nStep 10/13 : COPY --from=builder /docker-entrypoint.sh /docker-entrypoint.sh\n ---> faa7adbb8794\nStep 11/13 : RUN ln -s /plumber-linux /usr/bin/plumber\n ---> Running in e3b84a0a084e\nRemoving intermediate container e3b84a0a084e\n ---> 76d818b0f089\nStep 12/13 : ENTRYPOINT [\"/docker-entrypoint.sh\"]\n ---> Running in 03a8d32216b6\nRemoving intermediate container 03a8d32216b6\n ---> e0de6cf26b14\nStep 13/13 : CMD [\"/plumber-linux\", \"server\"]\n ---> Running in 551c12d3ab09\nRemoving intermediate container 551c12d3ab09\n ---> 11f13c6c831e\nSuccessfully built 11f13c6c831e\nSuccessfully tagged plumber:latest\n","stderr":"","imageSize":70229530},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":39}},{"name":"apkAddUseNoCache","position":{"start":21,"end":21,"columnStart":4,"columnEnd":46}}],"repairedDockerfile":"# This Dockerfile utilizes a multi-stage builds\nARG ALPINE_VERSION=3.12\n\nFROM golang:1.16-alpine$ALPINE_VERSION AS builder\n\n# Install necessary build tools\nRUN apk --update --no-cache add make bash curl git\n\n# Switch workdir, otherwise we end up in /go (default)\nWORKDIR /\n\n# Copy everything into build container\nCOPY . .\n\n# Build the application\nRUN make build/linux\n\n# Now in 2nd build stage\nFROM library/alpine:$ALPINE_VERSION\n\n# Necessary depedencies\nRUN apk --update --no-cache add bash curl ca-certificates && update-ca-certificates\n\n# Install binary\nCOPY --from=builder /build/plumber-linux /plumber-linux\nCOPY --from=builder /docker-entrypoint.sh /docker-entrypoint.sh\nRUN ln -s /plumber-linux /usr/bin/plumber\n\nENTRYPOINT [\"/docker-entrypoint.sh\"]\n\nCMD [\"/plumber-linux\", \"server\"]\n"},"repairedBuild":{"startTimestamp":1672802861538,"endTimestamp":1672802904751,"error":null,"stdout":"Sending build context to Docker daemon   98.4MB\r\r\nStep 1/13 : ARG ALPINE_VERSION=3.12\nStep 2/13 : FROM golang:1.16-alpine$ALPINE_VERSION AS builder\n ---> baed0e68a17f\nStep 3/13 : RUN apk --update --no-cache add make bash curl git\n ---> Running in b4ef67220d70\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/11) Installing ncurses-libs (6.2_p20200523-r1)\n(3/11) Installing readline (8.0.4-r0)\n(4/11) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/11) Installing nghttp2-libs (1.41.0-r0)\n(6/11) Installing libcurl (7.79.1-r1)\n(7/11) Installing curl (7.79.1-r1)\n(8/11) Installing expat (2.2.10-r4)\n(9/11) Installing pcre2 (10.35-r0)\n(10/11) Installing git (2.26.3-r1)\n(11/11) Installing make (4.3-r0)\nExecuting busybox-1.31.1-r20.trigger\nOK: 24 MiB in 26 packages\nRemoving intermediate container b4ef67220d70\n ---> 0fc4220a4375\nStep 4/13 : WORKDIR /\n ---> Running in abcde26acede\nRemoving intermediate container abcde26acede\n ---> 9e4f8e5322f6\nStep 5/13 : COPY . .\n ---> 2a62aebdb56a\nStep 6/13 : RUN make build/linux\n ---> Running in 767ef26605c7\nrm -f ./build/plumber-*\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 GONOPROXY=github.com/batchcorp GOFLAGS=-mod=vendor go build -ldflags \"-X 'github.com/batchcorp/plumber/options.VERSION=e8ce635' -X 'main.TELEMETRY_API_KEY='\" -o ./build/plumber-linux\nRemoving intermediate container 767ef26605c7\n ---> 531a261698c5\nStep 7/13 : FROM library/alpine:$ALPINE_VERSION\n ---> 24c8ece58a1a\nStep 8/13 : RUN apk --update --no-cache add bash curl ca-certificates && update-ca-certificates\n ---> Running in d6b0843ff231\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/8) Installing ncurses-libs (6.2_p20200523-r1)\n(3/8) Installing readline (8.0.4-r0)\n(4/8) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/8) Installing ca-certificates (20220614-r0)\n(6/8) Installing nghttp2-libs (1.41.0-r0)\n(7/8) Installing libcurl (7.79.1-r1)\n(8/8) Installing curl (7.79.1-r1)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 9 MiB in 22 packages\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container d6b0843ff231\n ---> 3c29702dd4a3\nStep 9/13 : COPY --from=builder /build/plumber-linux /plumber-linux\n ---> b820efda115d\nStep 10/13 : COPY --from=builder /docker-entrypoint.sh /docker-entrypoint.sh\n ---> 12f5ecb4aaaa\nStep 11/13 : RUN ln -s /plumber-linux /usr/bin/plumber\n ---> Running in 597e71a2e47c\nRemoving intermediate container 597e71a2e47c\n ---> d1ee777de5ec\nStep 12/13 : ENTRYPOINT [\"/docker-entrypoint.sh\"]\n ---> Running in 6b840286c2b9\nRemoving intermediate container 6b840286c2b9\n ---> 46d7e9265277\nStep 13/13 : CMD [\"/plumber-linux\", \"server\"]\n ---> Running in 64d998d86e94\nRemoving intermediate container 64d998d86e94\n ---> f360d814d18e\nSuccessfully built f360d814d18e\nSuccessfully tagged plumber:latest\n","stderr":"","imageSize":68441769},"endTime":1672802905080}