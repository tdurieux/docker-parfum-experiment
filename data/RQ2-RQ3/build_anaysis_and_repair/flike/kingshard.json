{"repository":"https://github.com/flike/kingshard","dockerfilePath":"Dockerfile","startTime":1672213864553,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/flike/kingshard'...\n","error":null,"commit":"f17b3939474659568b3aa14aa89beeef8da4f24b"},"originalBuild":{"startTimestamp":1672213866277,"endTimestamp":1672213902120,"error":null,"stdout":"Sending build context to Docker daemon  17.09MB\r\r\nStep 1/9 : FROM golang:1.13.8 as builder\n1.13.8: Pulling from library/golang\n50e431f79093: Already exists\ndd8c6d374ea5: Already exists\nc85513200d84: Already exists\n55769680e827: Already exists\n15357f5e50c4: Already exists\ne2d9b328fba5: Pulling fs layer\nf8e0159fc852: Pulling fs layer\nf8e0159fc852: Download complete\ne2d9b328fba5: Verifying Checksum\ne2d9b328fba5: Download complete\ne2d9b328fba5: Pull complete\nf8e0159fc852: Pull complete\nDigest: sha256:d7e0b99badf7f34b5096089484a733897c9b89aa12ffb9f67f81da054f8a403e\nStatus: Downloaded newer image for golang:1.13.8\n ---> 3a7408f53f79\nStep 2/9 : WORKDIR /go/src/app\n ---> Running in 1fdc0d5b67bc\nRemoving intermediate container 1fdc0d5b67bc\n ---> 7da66638d1ee\nStep 3/9 : COPY . .\n ---> 85b9eab80e7b\nStep 4/9 : RUN CGO_ENABLED=0 make\n ---> Running in 6265a8635288\ngo build -mod=vendor -ldflags \"-X \\\"main.BuildVersion=f17b393\\\" -X \\\"main.BuildDate=2022-12-28 07:51:23\\\"\" -o ./bin/kingshard ./cmd/kingshard\nRemoving intermediate container 6265a8635288\n ---> 9e13008efffb\nStep 5/9 : FROM alpine:3.11.3\n ---> e7d92cdc71fe\nStep 6/9 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories     && apk update     && apk add tzdata     && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime     && echo \"Asia/Shanghai\" > /etc/timezone     && mkdir -p /etc/kingshard\n ---> Running in 62965da1d1f3\nfetch http://mirrors.ustc.edu.cn/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.ustc.edu.cn/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://mirrors.ustc.edu.cn/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://mirrors.ustc.edu.cn/alpine/v3.11/community]\nOK: 11284 distinct packages available\n(1/1) Installing tzdata (2021e-r0)\nExecuting busybox-1.31.1-r9.trigger\nOK: 9 MiB in 15 packages\nRemoving intermediate container 62965da1d1f3\n ---> c510a3f7e252\nStep 7/9 : COPY --from=builder /go/src/app/bin/kingshard /usr/local/bin/\n ---> 9f82fce2c78b\nStep 8/9 : COPY --from=builder /go/src/app/etc/ks.yaml /etc/kingshard/\n ---> 843e67bb51b3\nStep 9/9 : CMD kingshard -config=/etc/kingshard/ks.yaml\n ---> Running in 016295da1b2b\nRemoving intermediate container 016295da1b2b\n ---> a7a9589079bb\nSuccessfully built a7a9589079bb\nSuccessfully tagged kingshard:latest\n","stderr":"","imageSize":24232908},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":7,"columnEnd":21}}],"repairedDockerfile":"FROM golang:1.13.8 as builder\nWORKDIR /go/src/app\nCOPY . .\nRUN CGO_ENABLED=0 make\n\nFROM alpine:3.11.3\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories \\\n    && apk update \\\n    && apk add --no-cache tzdata \\\n    && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n    && echo \"Asia/Shanghai\" > /etc/timezone \\\n    && mkdir -p /etc/kingshard\n\nCOPY --from=builder /go/src/app/bin/kingshard /usr/local/bin/\nCOPY --from=builder /go/src/app/etc/ks.yaml /etc/kingshard/\nCMD kingshard -config=/etc/kingshard/ks.yaml\n"},"repairedBuild":{"startTimestamp":1672213902459,"endTimestamp":1672213923047,"error":null,"stdout":"Sending build context to Docker daemon  17.09MB\r\r\nStep 1/9 : FROM golang:1.13.8 as builder\n ---> 3a7408f53f79\nStep 2/9 : WORKDIR /go/src/app\n ---> Running in f60b14b06c27\nRemoving intermediate container f60b14b06c27\n ---> 4255317b4218\nStep 3/9 : COPY . .\n ---> d4efb99670ae\nStep 4/9 : RUN CGO_ENABLED=0 make\n ---> Running in e8b423abb076\ngo build -mod=vendor -ldflags \"-X \\\"main.BuildVersion=f17b393\\\" -X \\\"main.BuildDate=2022-12-28 07:51:46\\\"\" -o ./bin/kingshard ./cmd/kingshard\nRemoving intermediate container e8b423abb076\n ---> ccba1a359afb\nStep 5/9 : FROM alpine:3.11.3\n ---> e7d92cdc71fe\nStep 6/9 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories     && apk update     && apk add --no-cache tzdata     && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime     && echo \"Asia/Shanghai\" > /etc/timezone     && mkdir -p /etc/kingshard\n ---> Running in 0e37bfbc3c36\nfetch http://mirrors.ustc.edu.cn/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.ustc.edu.cn/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nv3.11.13-12-g2cfa91a2b4 [http://mirrors.ustc.edu.cn/alpine/v3.11/main]\nv3.11.11-124-gf2729ece5a [http://mirrors.ustc.edu.cn/alpine/v3.11/community]\nOK: 11284 distinct packages available\nfetch http://mirrors.ustc.edu.cn/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.ustc.edu.cn/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2021e-r0)\nExecuting busybox-1.31.1-r9.trigger\nOK: 9 MiB in 15 packages\nRemoving intermediate container 0e37bfbc3c36\n ---> aa43908d62d2\nStep 7/9 : COPY --from=builder /go/src/app/bin/kingshard /usr/local/bin/\n ---> 6bf7b3224b72\nStep 8/9 : COPY --from=builder /go/src/app/etc/ks.yaml /etc/kingshard/\n ---> 79a8eb0c3271\nStep 9/9 : CMD kingshard -config=/etc/kingshard/ks.yaml\n ---> Running in 56962683a48f\nRemoving intermediate container 56962683a48f\n ---> ad4fb479f4c0\nSuccessfully built ad4fb479f4c0\nSuccessfully tagged kingshard:latest\n","stderr":"","imageSize":24232908},"endTime":1672213923329}