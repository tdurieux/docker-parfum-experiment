{"repository":"https://github.com/clearlydefined/service","dockerfilePath":"Dockerfile","startTime":1672703329910,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/clearlydefined/service'...\n","error":null,"commit":"98f3f4745abf26d48a846aa2ea990402f782bd80"},"originalBuild":{"startTimestamp":1672703331036,"endTimestamp":1672703817700,"error":null,"stdout":"Sending build context to Docker daemon  5.887MB\r\r\nStep 1/13 : FROM node:14\n ---> 0f2c7f307e4d\nStep 2/13 : ENV APPDIR=/opt/service\n ---> Running in 2b6e28af559c\nRemoving intermediate container 2b6e28af559c\n ---> d53ad9ca4d26\nStep 3/13 : ARG BUILD_NUMBER=0\n ---> Running in e467323f0ca1\nRemoving intermediate container e467323f0ca1\n ---> 55a4c4cf185f\nStep 4/13 : ENV BUILD_NUMBER=$BUILD_NUMBER\n ---> Running in c3d3e36490f2\nRemoving intermediate container c3d3e36490f2\n ---> 8a86fb6f5f1e\nStep 5/13 : COPY patches /tmp/patches\n ---> b0c28cd9c559\nStep 6/13 : COPY .npmrc package*.json /tmp/\n ---> d74dd63afe47\nStep 7/13 : RUN cd /tmp && npm install --production\n ---> Running in 7f4408c03a90\n\n> service@0.1.1 postinstall /tmp\n> patch-package\n\npatch-package 6.2.1\nApplying patches...\ntiny-attribution-generator@0.1.2 ✔\nadded 510 packages from 439 contributors and audited 954 packages in 399.956s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 70 vulnerabilities (5 low, 12 moderate, 45 high, 8 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 7f4408c03a90\n ---> dcee8a8257fa\nStep 8/13 : RUN mkdir -p \"${APPDIR}\" && cp -a /tmp/node_modules \"${APPDIR}\"\n ---> Running in f22e1ef245b6\nRemoving intermediate container f22e1ef245b6\n ---> 95a87efab750\nStep 9/13 : WORKDIR \"${APPDIR}\"\n ---> Running in 87f4527b1500\nRemoving intermediate container 87f4527b1500\n ---> f363c1d32db9\nStep 10/13 : COPY . \"${APPDIR}\"\n ---> 7ffc5e30ac02\nStep 11/13 : ENV PORT 4000\n ---> Running in d68ab54c8af0\nRemoving intermediate container d68ab54c8af0\n ---> 36b3fd449044\nStep 12/13 : EXPOSE 4000 2222\n ---> Running in c5bd911aca5d\nRemoving intermediate container c5bd911aca5d\n ---> c2a944dcd9d1\nStep 13/13 : ENTRYPOINT [\"npm\", \"start\"]\n ---> Running in 06431dcb6350\nRemoving intermediate container 06431dcb6350\n ---> 91d9ae665797\nSuccessfully built 91d9ae665797\nSuccessfully tagged service:latest\n","stderr":"","imageSize":1099440640},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":22,"end":22,"columnStart":15,"columnEnd":39}}],"repairedDockerfile":"# Copyright (c) Microsoft Corporation and others. Licensed under the MIT license.\n# SPDX-License-Identifier: MIT\n\n# FROM node:8-alpine\nFROM node:14\nENV APPDIR=/opt/service\n# RUN apk update && apk upgrade && \\\n#    apk add --no-cache bash git openssh\n\n## get SSH server running\n# RUN apt-get update \\\n#     && apt-get install -y --no-install-recommends openssh-server \\\n#     && echo \"root:Docker!\" | chpasswd\n# COPY sshd_config /etc/ssh/\n# COPY init_container.sh /bin/\n# RUN chmod 755 /bin/init_container.sh\n# CMD [\"/bin/init_container.sh\"]\nARG BUILD_NUMBER=0\nENV BUILD_NUMBER=$BUILD_NUMBER\n\nCOPY patches /tmp/patches\nCOPY .npmrc package*.json /tmp/\nRUN cd /tmp && npm install --production\nRUN mkdir -p \"${APPDIR}\" && cp -a /tmp/node_modules \"${APPDIR}\"\n\nWORKDIR \"${APPDIR}\"\nCOPY . \"${APPDIR}\"\n\nENV PORT 4000\nEXPOSE 4000 2222\nENTRYPOINT [\"npm\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672703819564,"endTimestamp":1672704366010,"error":null,"stdout":"Sending build context to Docker daemon  5.887MB\r\r\nStep 1/13 : FROM node:14\n ---> 0f2c7f307e4d\nStep 2/13 : ENV APPDIR=/opt/service\n ---> Running in ef7f33d22f2c\nRemoving intermediate container ef7f33d22f2c\n ---> 3f21ba940232\nStep 3/13 : ARG BUILD_NUMBER=0\n ---> Running in ac8058d9e9a8\nRemoving intermediate container ac8058d9e9a8\n ---> 655412df4d34\nStep 4/13 : ENV BUILD_NUMBER=$BUILD_NUMBER\n ---> Running in 39a4c08aeac1\nRemoving intermediate container 39a4c08aeac1\n ---> 6edd109e93d4\nStep 5/13 : COPY patches /tmp/patches\n ---> 6f6a7c305147\nStep 6/13 : COPY .npmrc package*.json /tmp/\n ---> 8432519651a1\nStep 7/13 : RUN cd /tmp && npm install --production\n ---> Running in a8220c825b78\n\n> service@0.1.1 postinstall /tmp\n> patch-package\n\npatch-package 6.2.1\nApplying patches...\ntiny-attribution-generator@0.1.2 ✔\nadded 510 packages from 439 contributors and audited 954 packages in 415.769s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 70 vulnerabilities (5 low, 12 moderate, 45 high, 8 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container a8220c825b78\n ---> 42d8f1e425ef\nStep 8/13 : RUN mkdir -p \"${APPDIR}\" && cp -a /tmp/node_modules \"${APPDIR}\"\n ---> Running in e41c4ebeda39\nRemoving intermediate container e41c4ebeda39\n ---> a79e42c57985\nStep 9/13 : WORKDIR \"${APPDIR}\"\n ---> Running in c69d8ddf7a37\nRemoving intermediate container c69d8ddf7a37\n ---> e02fe77555df\nStep 10/13 : COPY . \"${APPDIR}\"\n ---> 6f530203dd71\nStep 11/13 : ENV PORT 4000\n ---> Running in 533b258fe772\nRemoving intermediate container 533b258fe772\n ---> 23d360fa0849\nStep 12/13 : EXPOSE 4000 2222\n ---> Running in e1a25d3e9891\nRemoving intermediate container e1a25d3e9891\n ---> 47601f145232\nStep 13/13 : ENTRYPOINT [\"npm\", \"start\"]\n ---> Running in eccf2cacf594\nRemoving intermediate container eccf2cacf594\n ---> 005ae448acb4\nSuccessfully built 005ae448acb4\nSuccessfully tagged service:latest\n","stderr":"","imageSize":1099440787},"endTime":1672704369821}