{"repository":"https://github.com/petersem/posterr","dockerfilePath":"Dockerfile","startTime":1672583657709,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/petersem/posterr'...\n","error":null,"commit":"e053703c5beca85303d6b0515527eda3177de5d9"},"originalBuild":{"startTimestamp":1672583659427,"endTimestamp":1672583711716,"error":null,"stdout":"Sending build context to Docker daemon  28.27MB\r\r\nStep 1/12 : FROM node:14.17.3-alpine3.14\n14.17.3-alpine3.14: Pulling from library/node\n5843afab3874: Pulling fs layer\na37d1565f859: Pulling fs layer\n55161235e29f: Pulling fs layer\nb62f94589dc3: Pulling fs layer\nb62f94589dc3: Waiting\n5843afab3874: Verifying Checksum\n5843afab3874: Download complete\n5843afab3874: Pull complete\nb62f94589dc3: Download complete\n55161235e29f: Verifying Checksum\n55161235e29f: Download complete\na37d1565f859: Verifying Checksum\na37d1565f859: Download complete\na37d1565f859: Pull complete\n55161235e29f: Pull complete\nb62f94589dc3: Pull complete\nDigest: sha256:2fbaecb39357dec8af7afacaba214bba1ecb1da55ba8163f6afe531534787f80\nStatus: Downloaded newer image for node:14.17.3-alpine3.14\n ---> 4c6ef524cd6d\nStep 2/12 : RUN apk update\n ---> Running in 8c4a087baddc\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14969 distinct packages available\nRemoving intermediate container 8c4a087baddc\n ---> 72371111da88\nStep 3/12 : RUN apk add tzdata\n ---> Running in 360c3f3cec97\n(1/1) Installing tzdata (2022f-r1)\nExecuting busybox-1.33.1-r2.trigger\nOK: 10 MiB in 17 packages\nRemoving intermediate container 360c3f3cec97\n ---> c9f27cac678b\nStep 4/12 : RUN apk add net-tools\n ---> Running in 34606158656c\n(1/2) Installing mii-tool (1.60_git20140218-r2)\n(2/2) Installing net-tools (1.60_git20140218-r2)\nExecuting busybox-1.33.1-r2.trigger\nOK: 11 MiB in 19 packages\nRemoving intermediate container 34606158656c\n ---> 39756c8cf657\nStep 5/12 : ENV NODE_ENV=production\n ---> Running in 96746bde9747\nRemoving intermediate container 96746bde9747\n ---> 8ae684d21cee\nStep 6/12 : WORKDIR /usr/src/app\n ---> Running in feb53ed41a7d\nRemoving intermediate container feb53ed41a7d\n ---> 9288d7ca6b4b\nStep 7/12 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> cea66289341a\nStep 8/12 : RUN npm install --production --silent && mv node_modules ../\n ---> Running in decc27d61efc\nadded 337 packages from 329 contributors and audited 459 packages in 4.681s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 33 vulnerabilities (6 moderate, 21 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container decc27d61efc\n ---> 6a4bc8d72cc3\nStep 9/12 : COPY . .\n ---> 127a6d64eb75\nStep 10/12 : EXPOSE 3000\n ---> Running in 4572220e21d6\nRemoving intermediate container 4572220e21d6\n ---> 0d26cba70f25\nStep 11/12 : HEALTHCHECK --interval=10s --timeout=5s --retries=3 --start-period=15s CMD node healthcheck.js > /dev/null || exit 1\n ---> Running in 361b08673c6c\nRemoving intermediate container 361b08673c6c\n ---> 8bf9ec88e2df\nStep 12/12 : CMD [\"node\", \"index.js\"]\n ---> Running in df7fd13db336\nRemoving intermediate container df7fd13db336\n ---> d5a873351f98\nSuccessfully built d5a873351f98\nSuccessfully tagged posterr:latest\n","stderr":"","imageSize":204084146},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":37}},{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":18}},{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":21}}],"repairedDockerfile":"FROM node:14.17.3-alpine3.14\n\n# tzdata for timzone and net-tools\nRUN apk update\nRUN apk add --no-cache tzdata\nRUN apk add --no-cache net-tools\n\nENV NODE_ENV=production\n\nWORKDIR /usr/src/app\nCOPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\nRUN npm install --production --silent && mv node_modules ../\n\nCOPY . .\nEXPOSE 3000\nHEALTHCHECK --interval=10s --timeout=5s --retries=3 --start-period=15s CMD node healthcheck.js > /dev/null || exit 1\nCMD [\"node\", \"index.js\"]\n"},"repairedBuild":{"startTimestamp":1672583712197,"endTimestamp":1672583745642,"error":null,"stdout":"Sending build context to Docker daemon  28.27MB\r\r\nStep 1/12 : FROM node:14.17.3-alpine3.14\n ---> 4c6ef524cd6d\nStep 2/12 : RUN apk update\n ---> Running in c2709e0a6b07\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14969 distinct packages available\nRemoving intermediate container c2709e0a6b07\n ---> a7ccab03c48e\nStep 3/12 : RUN apk add --no-cache tzdata\n ---> Running in 81cfc514cba1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nExecuting busybox-1.33.1-r2.trigger\nOK: 10 MiB in 17 packages\nRemoving intermediate container 81cfc514cba1\n ---> 9a75dc0035af\nStep 4/12 : RUN apk add --no-cache net-tools\n ---> Running in 8caa87a286b0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing mii-tool (1.60_git20140218-r2)\n(2/2) Installing net-tools (1.60_git20140218-r2)\nExecuting busybox-1.33.1-r2.trigger\nOK: 11 MiB in 19 packages\nRemoving intermediate container 8caa87a286b0\n ---> 23e0c86ef22c\nStep 5/12 : ENV NODE_ENV=production\n ---> Running in a27d678b8734\nRemoving intermediate container a27d678b8734\n ---> 0139d9e6e78c\nStep 6/12 : WORKDIR /usr/src/app\n ---> Running in 955659007f67\nRemoving intermediate container 955659007f67\n ---> bea6c202a6e0\nStep 7/12 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> d6d616927d6f\nStep 8/12 : RUN npm install --production --silent && mv node_modules ../\n ---> Running in 955131ca7174\nadded 337 packages from 329 contributors and audited 459 packages in 4.791s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 33 vulnerabilities (6 moderate, 21 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 955131ca7174\n ---> 89a4278e3aca\nStep 9/12 : COPY . .\n ---> c86607b7cb8f\nStep 10/12 : EXPOSE 3000\n ---> Running in 923faf5433dc\nRemoving intermediate container 923faf5433dc\n ---> cc38a692cb9b\nStep 11/12 : HEALTHCHECK --interval=10s --timeout=5s --retries=3 --start-period=15s CMD node healthcheck.js > /dev/null || exit 1\n ---> Running in 3a1da83fcf89\nRemoving intermediate container 3a1da83fcf89\n ---> 3c746af77da6\nStep 12/12 : CMD [\"node\", \"index.js\"]\n ---> Running in 3953404dbc07\nRemoving intermediate container 3953404dbc07\n ---> 381e6bf32269\nSuccessfully built 381e6bf32269\nSuccessfully tagged posterr:latest\n","stderr":"","imageSize":204085460},"endTime":1672583746153}