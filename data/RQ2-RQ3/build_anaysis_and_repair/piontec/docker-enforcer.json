{"repository":"https://github.com/piontec/docker-enforcer","dockerfilePath":"Dockerfile","startTime":1672539595096,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/piontec/docker-enforcer'...\n","error":null,"commit":"91b1215e2813f330c8782cbcb60520af6cbded87"},"originalBuild":{"startTimestamp":1672539595936,"endTimestamp":1672539648149,"error":null,"stdout":"Sending build context to Docker daemon  343.6kB\r\r\nStep 1/9 : FROM python:3-alpine\n3-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n877ccf16716c: Verifying Checksum\n877ccf16716c: Download complete\n3cfcd1e4ebae: Verifying Checksum\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3-alpine\n ---> 18ccdc39ea28\nStep 2/9 : MAINTAINER Łukasz Piątkowski <piontec@gmail.com>\n ---> Running in e20ce52e8171\nRemoving intermediate container e20ce52e8171\n ---> 7d148609df12\nStep 3/9 : COPY Pipfile* /opt/docker_enforcer/\n ---> 0e6dd9a6ac29\nStep 4/9 : WORKDIR /opt/docker_enforcer/\n ---> Running in 7bdb26c57a4b\nRemoving intermediate container 7bdb26c57a4b\n ---> 500518c84fc2\nStep 5/9 : RUN pip install pipenv\n ---> Running in a22d95cfb864\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 46.3 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 9.8 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.11/site-packages (from pipenv) (65.5.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 49.8 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 3.2 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container a22d95cfb864\n ---> 000c90c8dc31\nStep 6/9 : RUN pipenv install --deploy --ignore-pipfile --system\n ---> Running in 5a5056e02546\nInstalling dependencies from Pipfile.lock (9f786c)...\nRemoving intermediate container 5a5056e02546\n ---> c88a3a8a1704\nStep 7/9 : COPY . /opt/docker_enforcer/\n ---> f4285de912d0\nStep 8/9 : ENTRYPOINT [\"gunicorn\"]\n ---> Running in 75ca4b8b053d\nRemoving intermediate container 75ca4b8b053d\n ---> 1c0ee6deea3d\nStep 9/9 : CMD [\"-w\", \"1\", \"--threads\", \"16\", \"-b\", \"0.0.0.0:8888\", \"--access-logfile\", \"/var/log/docker_enforcer.log\", \"--error-logfile\", \"-\", \"--log-level\", \"info\", \"--timeout\", \"120\", \"docker_enforcer:app\"]\n ---> Running in 219b8061b546\nRemoving intermediate container 219b8061b546\n ---> 7395c8fddf0f\nSuccessfully built 7395c8fddf0f\nSuccessfully tagged docker-enforcer:latest\n","stderr":"","imageSize":131767569},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM python:3-alpine\nMAINTAINER Łukasz Piątkowski <piontec@gmail.com>\n\nCOPY Pipfile* /opt/docker_enforcer/\nWORKDIR /opt/docker_enforcer/\nRUN pip install --no-cache-dir pipenv\nRUN pipenv install --deploy --ignore-pipfile --system\nCOPY . /opt/docker_enforcer/\n\nENTRYPOINT [\"gunicorn\"]\nCMD [\"-w\", \"1\", \"--threads\", \"16\", \"-b\", \"0.0.0.0:8888\", \"--access-logfile\", \"/var/log/docker_enforcer.log\", \"--error-logfile\", \"-\", \"--log-level\", \"info\", \"--timeout\", \"120\", \"docker_enforcer:app\"]\n"},"repairedBuild":{"startTimestamp":1672539648573,"endTimestamp":1672539683268,"error":null,"stdout":"Sending build context to Docker daemon  343.6kB\r\r\nStep 1/9 : FROM python:3-alpine\n ---> 18ccdc39ea28\nStep 2/9 : MAINTAINER Łukasz Piątkowski <piontec@gmail.com>\n ---> Running in 57a9dd358a98\nRemoving intermediate container 57a9dd358a98\n ---> edc1ac1a4b75\nStep 3/9 : COPY Pipfile* /opt/docker_enforcer/\n ---> 13670d12b8f9\nStep 4/9 : WORKDIR /opt/docker_enforcer/\n ---> Running in 4b8daf054f73\nRemoving intermediate container 4b8daf054f73\n ---> 08925db7a7df\nStep 5/9 : RUN pip install --no-cache-dir pipenv\n ---> Running in 750e0707399e\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 73.9 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 300.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.11/site-packages (from pipenv) (65.5.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 117.8 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 131.0 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 750e0707399e\n ---> 9f6cb7e9ae45\nStep 6/9 : RUN pipenv install --deploy --ignore-pipfile --system\n ---> Running in 7a29ab685225\nInstalling dependencies from Pipfile.lock (9f786c)...\nRemoving intermediate container 7a29ab685225\n ---> ca6ece257c06\nStep 7/9 : COPY . /opt/docker_enforcer/\n ---> 4bbb90a15bd1\nStep 8/9 : ENTRYPOINT [\"gunicorn\"]\n ---> Running in a29695cb1148\nRemoving intermediate container a29695cb1148\n ---> 87c44b734067\nStep 9/9 : CMD [\"-w\", \"1\", \"--threads\", \"16\", \"-b\", \"0.0.0.0:8888\", \"--access-logfile\", \"/var/log/docker_enforcer.log\", \"--error-logfile\", \"-\", \"--log-level\", \"info\", \"--timeout\", \"120\", \"docker_enforcer:app\"]\n ---> Running in 0f2a2ba767ab\nRemoving intermediate container 0f2a2ba767ab\n ---> 4bf425739d24\nSuccessfully built 4bf425739d24\nSuccessfully tagged docker-enforcer:latest\n","stderr":"","imageSize":119254135},"endTime":1672539683633}