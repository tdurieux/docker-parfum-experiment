{"repository":"https://github.com/philchristensen/antioch","dockerfilePath":"Dockerfile","startTime":1672536407529,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/philchristensen/antioch'...\n","error":null,"commit":"7fe27c961ae81b7655c6428038c85eefad27e980"},"originalBuild":{"startTimestamp":1672536409949,"endTimestamp":1672536604375,"error":null,"stdout":"Sending build context to Docker daemon  4.261MB\r\r\nStep 1/18 : FROM python:3.6\n ---> 54260638d07c\nStep 2/18 : MAINTAINER Phil Christensen <phil@bubblehouse.org>\n ---> Running in 7f595ff3121a\nRemoving intermediate container 7f595ff3121a\n ---> 4c5cbd59bc6a\nStep 3/18 : LABEL Name=\"antioch\"\n ---> Running in fccc5b088d26\nRemoving intermediate container fccc5b088d26\n ---> 4616795cbab5\nStep 4/18 : LABEL Version=\"0.9\"\n ---> Running in 7cc97e81c062\nRemoving intermediate container 7cc97e81c062\n ---> 58793f8842a2\nStep 5/18 : RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -y sqlite3 ssl-cert git\n ---> Running in e085768dca13\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5709 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.30.2-1).\nSuggested packages:\n  sqlite3-doc\nThe following NEW packages will be installed:\n  sqlite3 ssl-cert\n0 upgraded, 2 newly installed, 0 to remove and 104 not upgraded.\nNeed to get 1222 kB of archives.\nAfter this operation, 3220 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 sqlite3 amd64 3.34.1-3 [1201 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ssl-cert all 1.1.0+nmu1 [21.0 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1222 kB in 0s (29.4 MB/s)\nSelecting previously unselected package sqlite3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23373 files and directories currently installed.)\r\nPreparing to unpack .../sqlite3_3.34.1-3_amd64.deb ...\r\nUnpacking sqlite3 (3.34.1-3) ...\r\nSelecting previously unselected package ssl-cert.\r\nPreparing to unpack .../ssl-cert_1.1.0+nmu1_all.deb ...\r\nUnpacking ssl-cert (1.1.0+nmu1) ...\r\nSetting up ssl-cert (1.1.0+nmu1) ...\r\nSetting up sqlite3 (3.34.1-3) ...\r\nRemoving intermediate container e085768dca13\n ---> 8308dcc11741\nStep 6/18 : ADD Pipfile /usr/src/app/Pipfile\n ---> 8ce4008e0385\nStep 7/18 : ADD Pipfile.lock /usr/src/app/Pipfile.lock\n ---> 5dea5c72c6b7\nStep 8/18 : ENV PIP_SRC=/usr/src\n ---> Running in 339234477ef4\nRemoving intermediate container 339234477ef4\n ---> 9fef334ee65e\nStep 9/18 : WORKDIR /usr/src/app\n ---> Running in 1297e172716b\nRemoving intermediate container 1297e172716b\n ---> 6a2ace581fb1\nStep 10/18 : RUN pip install -q -U pipenv pip\n ---> Running in 9d86e5c7eb54\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 9d86e5c7eb54\n ---> 34f75480ef62\nStep 11/18 : RUN pipenv install --system --dev --deploy --ignore-pipfile\n ---> Running in c4e40a343562\nInstalling dependencies from Pipfile.lock (3c536b)...\nRemoving intermediate container c4e40a343562\n ---> 26abc4982e05\nStep 12/18 : ADD . /usr/src/app\n ---> 45b5cdf9a7e4\nStep 13/18 : ADD bin/entrypoint.sh /entrypoint.sh\n ---> 9e67580066d7\nStep 14/18 : RUN mkdir /var/lib/celery\n ---> Running in e1592627c1b6\nRemoving intermediate container e1592627c1b6\n ---> 4bb3754ed645\nStep 15/18 : RUN chown nobody /var/lib/celery\n ---> Running in 6b62496506be\nRemoving intermediate container 6b62496506be\n ---> f85ef82f95d8\nStep 16/18 : RUN mkdir -p /home/travis/build/philchristensen\n ---> Running in 8bdc0c89dc1b\nRemoving intermediate container 8bdc0c89dc1b\n ---> 2ddacdac2390\nStep 17/18 : RUN ln -s /usr/src/app /home/travis/build/philchristensen/antioch\n ---> Running in c80e3e0b9e55\nRemoving intermediate container c80e3e0b9e55\n ---> 960026c5f5d1\nStep 18/18 : ENTRYPOINT [\"/entrypoint.sh\"]\n ---> Running in db33e0eead90\nRemoving intermediate container db33e0eead90\n ---> 5af1a72732ce\nSuccessfully built 5af1a72732ce\nSuccessfully tagged antioch:latest\n","stderr":"","imageSize":1476806675},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":14,"end":14,"columnStart":4,"columnEnd":32}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":6,"end":6,"columnStart":22,"columnEnd":92}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":6,"end":6,"columnStart":22,"columnEnd":92}}],"repairedDockerfile":"FROM python:3.6\nMAINTAINER Phil Christensen <phil@bubblehouse.org>\nLABEL Name=\"antioch\"\nLABEL Version=\"0.9\"\n\n# Install base dependencies\nRUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y sqlite3 ssl-cert git\n\nADD Pipfile /usr/src/app/Pipfile\nADD Pipfile.lock /usr/src/app/Pipfile.lock\n\n# Install Python application dependencies\nENV PIP_SRC=/usr/src\nWORKDIR /usr/src/app\nRUN pip install --no-cache-dir -q -U pipenv pip\nRUN pipenv install --system --dev --deploy --ignore-pipfile\n\nADD . /usr/src/app\nADD bin/entrypoint.sh /entrypoint.sh\n\nRUN mkdir /var/lib/celery\nRUN chown nobody /var/lib/celery\n\n# Some helpers for temporary Travis conflicts\nRUN mkdir -p /home/travis/build/philchristensen\nRUN ln -s /usr/src/app /home/travis/build/philchristensen/antioch\n\n# Custom entrypoint for improved ad-hoc command support\nENTRYPOINT [\"/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672536605410,"endTimestamp":1672536807147,"error":null,"stdout":"Sending build context to Docker daemon  4.261MB\r\r\nStep 1/18 : FROM python:3.6\n ---> 54260638d07c\nStep 2/18 : MAINTAINER Phil Christensen <phil@bubblehouse.org>\n ---> Running in d01bffda8d78\nRemoving intermediate container d01bffda8d78\n ---> cb0adca34834\nStep 3/18 : LABEL Name=\"antioch\"\n ---> Running in d5368638f8f0\nRemoving intermediate container d5368638f8f0\n ---> 4baa7229e770\nStep 4/18 : LABEL Version=\"0.9\"\n ---> Running in ddec1a528960\nRemoving intermediate container ddec1a528960\n ---> 690eae1c59ce\nStep 5/18 : RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y sqlite3 ssl-cert git\n ---> Running in 9acb289b1dde\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5683 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.30.2-1).\nSuggested packages:\n  sqlite3-doc\nThe following NEW packages will be installed:\n  sqlite3 ssl-cert\n0 upgraded, 2 newly installed, 0 to remove and 104 not upgraded.\nNeed to get 1222 kB of archives.\nAfter this operation, 3220 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 sqlite3 amd64 3.34.1-3 [1201 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ssl-cert all 1.1.0+nmu1 [21.0 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1222 kB in 0s (25.5 MB/s)\nSelecting previously unselected package sqlite3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23373 files and directories currently installed.)\r\nPreparing to unpack .../sqlite3_3.34.1-3_amd64.deb ...\r\nUnpacking sqlite3 (3.34.1-3) ...\r\nSelecting previously unselected package ssl-cert.\r\nPreparing to unpack .../ssl-cert_1.1.0+nmu1_all.deb ...\r\nUnpacking ssl-cert (1.1.0+nmu1) ...\r\nSetting up ssl-cert (1.1.0+nmu1) ...\r\nSetting up sqlite3 (3.34.1-3) ...\r\nRemoving intermediate container 9acb289b1dde\n ---> 4aeab07ee765\nStep 6/18 : ADD Pipfile /usr/src/app/Pipfile\n ---> 75105acc6af3\nStep 7/18 : ADD Pipfile.lock /usr/src/app/Pipfile.lock\n ---> 9436b8271a22\nStep 8/18 : ENV PIP_SRC=/usr/src\n ---> Running in c0c6af49ebaf\nRemoving intermediate container c0c6af49ebaf\n ---> 65c8fe2db394\nStep 9/18 : WORKDIR /usr/src/app\n ---> Running in e92ecf686ac5\nRemoving intermediate container e92ecf686ac5\n ---> 47eb28e75979\nStep 10/18 : RUN pip install --no-cache-dir -q -U pipenv pip\n ---> Running in 79c730429e30\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 79c730429e30\n ---> 976c67918ac2\nStep 11/18 : RUN pipenv install --system --dev --deploy --ignore-pipfile\n ---> Running in 3fa8ff2019d1\nInstalling dependencies from Pipfile.lock (3c536b)...\nRemoving intermediate container 3fa8ff2019d1\n ---> 24ad02328ade\nStep 12/18 : ADD . /usr/src/app\n ---> 9febae2112cc\nStep 13/18 : ADD bin/entrypoint.sh /entrypoint.sh\n ---> 72e839e14315\nStep 14/18 : RUN mkdir /var/lib/celery\n ---> Running in 7a3a00aa35d2\nRemoving intermediate container 7a3a00aa35d2\n ---> 3a7bd739d373\nStep 15/18 : RUN chown nobody /var/lib/celery\n ---> Running in 2ea54a213630\nRemoving intermediate container 2ea54a213630\n ---> 39480afb47a8\nStep 16/18 : RUN mkdir -p /home/travis/build/philchristensen\n ---> Running in bc7198eebdbf\nRemoving intermediate container bc7198eebdbf\n ---> 596cf25c9844\nStep 17/18 : RUN ln -s /usr/src/app /home/travis/build/philchristensen/antioch\n ---> Running in c73665d2b2a0\nRemoving intermediate container c73665d2b2a0\n ---> e855fe5863a8\nStep 18/18 : ENTRYPOINT [\"/entrypoint.sh\"]\n ---> Running in 72e5876b142b\nRemoving intermediate container 72e5876b142b\n ---> b06b9115475d\nSuccessfully built b06b9115475d\nSuccessfully tagged antioch:latest\n","stderr":"","imageSize":1461702416},"endTime":1672536808133}