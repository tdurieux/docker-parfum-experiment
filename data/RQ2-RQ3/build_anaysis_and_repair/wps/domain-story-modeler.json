{"repository":"https://github.com/wps/domain-story-modeler","dockerfilePath":"Dockerfile","startTime":1673063087412,"endTime":1673063173518,"clone":{"startTime":1673063087412,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wps/domain-story-modeler'...\n","error":null,"endTime":1673063088262,"commit":"ffd0d1d5397b0025b8c5417b9eb280ad02298542"},"originalBuild":{"startTime":1673063088358,"endTime":1673063173303,"error":null,"stdout":"Sending build context to Docker daemon  1.979MB\r\r\nStep 1/9 : FROM node:16-alpine AS build-stage\n16-alpine: Pulling from library/node\nc158987b0551: Already exists\ne15b2da73907: Pulling fs layer\n90461d7cfbbe: Pulling fs layer\n06b1a47b9f99: Pulling fs layer\n06b1a47b9f99: Verifying Checksum\n06b1a47b9f99: Download complete\n90461d7cfbbe: Verifying Checksum\n90461d7cfbbe: Download complete\ne15b2da73907: Verifying Checksum\ne15b2da73907: Download complete\ne15b2da73907: Pull complete\n90461d7cfbbe: Pull complete\n06b1a47b9f99: Pull complete\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16-alpine\n ---> 610c0494e820\nStep 2/9 : WORKDIR /app\n ---> Running in 9485c3d88f49\nRemoving intermediate container 9485c3d88f49\n ---> 4676074d370e\nStep 3/9 : COPY package.json ./\n ---> f1d5166280c7\nStep 4/9 : COPY package-lock.json ./\n ---> eed65ffa8737\nStep 5/9 : RUN npm ci\n ---> Running in a4cefdabc745\n\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated time-grunt@2.0.0: Deprecated because Grunt is practically unmaintained. Move on to something better. This package will continue to work with Grunt v1, but it will not receive any updates.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.\n\u001b[0m\u001b[91mnpm WARN deprecated puppeteer@2.1.1: Version no longer supported. Upgrade to @latest\n\u001b[0m\u001b[91mnpm WARN deprecated @babel/polyfill@7.12.1: ðŸš¨ This package has been deprecated in favor of separate inclusion of a polyfill and regenerator-runtime (when needed). See the @babel/polyfill docs (https://babeljs.io/docs/en/babel-polyfill) for more information.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\nadded 962 packages, and audited 963 packages in 18s\n\n88 packages are looking for funding\n  run `npm fund` for details\n\n6 vulnerabilities (1 moderate, 2 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container a4cefdabc745\n ---> 92f2b2a9a234\nStep 6/9 : COPY . .\n ---> 1ca0f0d10777\nStep 7/9 : RUN npm run bundle\n ---> Running in 79278b7082bc\n\n> domain-story-modeler@1.4.0 bundle\n> grunt build\n\nRunning \"clean:0\" (clean) task\n>> 0 paths cleaned.\n\nRunning \"copy:bpmn_js\" (copy) task\nCopied 9 files\n\nRunning \"copy:dot\" (copy) task\nCopied 1 file\n\nRunning \"copy:app\" (copy) task\nCopied 21 files\n\nRunning \"copydeps:target\" (copydeps) task\n\nRunning \"browserify:app\" (browserify) task\n>> Bundle build/app.js created.\n\nDone.\n\n\nExecution Time (2023-01-07 03:45:51 UTC-0)\ncopydeps:target  327ms  â–‡â–‡ 2%\nbrowserify:app     14s  â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡â–‡ 97%\nTotal 14.4s\n\nRemoving intermediate container 79278b7082bc\n ---> cefeba04d0ac\nStep 8/9 : FROM nginx:1.22-alpine\n1.22-alpine: Pulling from library/nginx\nca7dd9ec2225: Pulling fs layer\n33c6b9f4e775: Pulling fs layer\n41718ec56cb6: Pulling fs layer\n9a2b3c874906: Pulling fs layer\n71a3f979d23b: Pulling fs layer\na2f02aac7fab: Pulling fs layer\n71a3f979d23b: Waiting\na2f02aac7fab: Waiting\n41718ec56cb6: Verifying Checksum\n41718ec56cb6: Download complete\nca7dd9ec2225: Download complete\n33c6b9f4e775: Verifying Checksum\n33c6b9f4e775: Download complete\nca7dd9ec2225: Pull complete\n9a2b3c874906: Download complete\n71a3f979d23b: Download complete\n33c6b9f4e775: Pull complete\n41718ec56cb6: Pull complete\n9a2b3c874906: Pull complete\n71a3f979d23b: Pull complete\na2f02aac7fab: Pull complete\nDigest: sha256:2366ede62d2e26a20f7ce7d0294694fe52b166107fd346894e4658dfb5273f9c\nStatus: Downloaded newer image for nginx:1.22-alpine\n ---> c31fe73098ae\nStep 9/9 : COPY --from=build-stage /app/build /usr/share/nginx/html\n ---> d62fcae27910\nSuccessfully built d62fcae27910\nSuccessfully tagged domain-story-modeler:latest\n","stderr":"","imageSize":31488477},"repair":{"startTime":1673063173366,"endTime":1673063173396,"violations":[],"repairedDockerfile":"# Build stage\nFROM node:16-alpine AS build-stage\nWORKDIR /app\n\nCOPY package.json ./\nCOPY package-lock.json ./\nRUN npm ci\n\nCOPY . .\n\nRUN npm run bundle\n\n\n# Runtime stage\nFROM nginx:1.22-alpine\nCOPY --from=build-stage /app/build /usr/share/nginx/html\n"}}