{"repository":"https://github.com/hobbyquaker/mqtt-scripts","dockerfilePath":"Dockerfile","startTime":1672518514061,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/hobbyquaker/mqtt-scripts'...\n","error":null,"commit":"26f678aa6a3a8659b911bd8602d48b1c0caa387a"},"originalBuild":{"startTimestamp":1672518514908,"endTimestamp":1672518575972,"error":null,"stdout":"Sending build context to Docker daemon  379.4kB\r\r\nStep 1/9 : FROM node as jsbuilder\n ---> 548714e444f4\nStep 2/9 : COPY . /app\n ---> 40ebafd49ed2\nStep 3/9 : WORKDIR /app\n ---> Running in 9fb01527fee0\nRemoving intermediate container 9fb01527fee0\n ---> 4184f44f74d2\nStep 4/9 : RUN npm install\n ---> Running in 161aad13532d\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm WARN\u001b[0m\u001b[91m old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sntp@2.1.0: This module moved to @hapi/sntp. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated set-value@2.0.0: Critical bug fixed in v3.0.1, please upgrade to the latest version.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.0: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.2: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.85.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated mixin-deep@1.3.1: Critical bug fixed in v2.0.1, please upgrade to the latest version.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated ini@1.3.5: Please update to ini >=1.3.6 to avoid a prototype pollution issue\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.0.3: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated hawk@6.0.2: This module moved to @hapi/hawk. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.0.4: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated circular-json@0.3.3: CircularJSON is in maintenance only, flatted is its successor.\n\u001b[0m\u001b[91mnpm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated coffee-script@1.12.7: CoffeeScript on NPM has moved to \"coffeescript\" (no hyphen)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated set-value@0.4.3: Critical bug fixed in v3.0.1, please upgrade to the latest version.\n\u001b[0m\u001b[91mnpm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.1: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 872 packages, and audited 1024 packages in 17s\n\n76 vulnerabilities (2 low, 21 moderate, 34 high, 19 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 161aad13532d\n ---> 9a9bbc200368\nStep 5/9 : FROM node:slim\nslim: Pulling from library/node\n3f4ca61aafcd: Already exists\n00fde01815c9: Pulling fs layer\na3241ece5841: Pulling fs layer\nf897be510228: Pulling fs layer\n23e2f216e824: Pulling fs layer\n23e2f216e824: Waiting\n00fde01815c9: Download complete\nf897be510228: Verifying Checksum\n00fde01815c9: Pull complete\n23e2f216e824: Verifying Checksum\n23e2f216e824: Download complete\na3241ece5841: Verifying Checksum\na3241ece5841: Download complete\na3241ece5841: Pull complete\nf897be510228: Pull complete\n23e2f216e824: Pull complete\nDigest: sha256:d6f1d4b0ba2b51f1ea448a27ae31f499ddfcef60cc51f899264a8e8be22e2d0b\nStatus: Downloaded newer image for node:slim\n ---> f07cbc4cdcb8\nStep 6/9 : COPY --from=jsbuilder /app /app\n ---> 702572fdcd6c\nStep 7/9 : WORKDIR /app\n ---> Running in b410e5fdfedf\nRemoving intermediate container b410e5fdfedf\n ---> 17634144370e\nStep 8/9 : EXPOSE 3000\n ---> Running in bcbfeee0cf56\nRemoving intermediate container bcbfeee0cf56\n ---> fbfae7a0d98f\nStep 9/9 : ENTRYPOINT [ \"node\", \"index.js\" ]\n ---> Running in 072203614a21\nRemoving intermediate container 072203614a21\n ---> e64341c17712\nSuccessfully built e64341c17712\nSuccessfully tagged mqtt-scripts:latest\n","stderr":"","imageSize":327928194},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node as jsbuilder\n\nCOPY . /app\nWORKDIR /app\n\nRUN npm install\n\n# ---------------------------------------------------------\n\nFROM node:slim\n\nCOPY --from=jsbuilder /app /app\n\nWORKDIR /app\n\nEXPOSE 3000\nENTRYPOINT [ \"node\", \"index.js\" ]\n"},"repairedBuild":{"startTimestamp":1672518576625,"endTimestamp":1672518663618,"error":null,"stdout":"Sending build context to Docker daemon  379.4kB\r\r\nStep 1/9 : FROM node as jsbuilder\n ---> 548714e444f4\nStep 2/9 : COPY . /app\n ---> 81256d44f424\nStep 3/9 : WORKDIR /app\n ---> Running in d15947cac806\nRemoving intermediate container d15947cac806\n ---> 6aa0b1a3b7be\nStep 4/9 : RUN npm install\n ---> Running in b31c8e3729f4\n\u001b[91mnpm\u001b[0m\u001b[91m WARN old lockfile \nnpm WARN\u001b[0m\u001b[91m old lockfile The package-lock.json file was created with an old version of npm,\nnpm WARN\u001b[0m\u001b[91m old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sntp@2.1.0: This module moved to @hapi/sntp. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated set-value@2.0.0: Critical bug fixed in v3.0.1, please upgrade to the latest version.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.0: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.2: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated mixin-deep@1.3.1: Critical bug fixed in v2.0.1, please upgrade to the latest version.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.85.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated ini@1.3.5: Please update to ini >=1.3.6 to avoid a prototype pollution issue\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.0.3: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated hawk@6.0.2: This module moved to @hapi/hawk. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.0.4: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated circular-json@0.3.3: CircularJSON is in maintenance only, flatted is its successor.\n\u001b[0m\u001b[91mnpm WARN deprecated set-value@0.4.3: Critical bug fixed in v3.0.1, please upgrade to the latest version.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated coffee-script@1.12.7: CoffeeScript on NPM has moved to \"coffeescript\" (no hyphen)\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.1: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 872 packages, and audited 1024 packages in 13s\n\n76 vulnerabilities (2 low, 21 moderate, 34 high, 19 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container b31c8e3729f4\n ---> 7bcdbc7c7188\nStep 5/9 : FROM node:slim\n ---> f07cbc4cdcb8\nStep 6/9 : COPY --from=jsbuilder /app /app\n ---> 8e0ccae3430c\nStep 7/9 : WORKDIR /app\n ---> Running in e5115c79e56d\nRemoving intermediate container e5115c79e56d\n ---> 0be03fe4343b\nStep 8/9 : EXPOSE 3000\n ---> Running in a4588bb4eff1\nRemoving intermediate container a4588bb4eff1\n ---> e767b1d3e73f\nStep 9/9 : ENTRYPOINT [ \"node\", \"index.js\" ]\n ---> Running in 0ceda4e018e4\nRemoving intermediate container 0ceda4e018e4\n ---> 2d2cfc4be95f\nSuccessfully built 2d2cfc4be95f\nSuccessfully tagged mqtt-scripts:latest\n","stderr":"","imageSize":327928194},"endTime":1672518665220}