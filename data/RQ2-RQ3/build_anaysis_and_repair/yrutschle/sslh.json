{"repository":"https://github.com/yrutschle/sslh","dockerfilePath":"Dockerfile","startTime":1673035724828,"endTime":1673035800916,"clone":{"startTime":1673035724829,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/yrutschle/sslh'...\n","error":null,"endTime":1673035725631,"commit":"40c616e94c56d1ab7df9073581ed24b2d74ed292"},"originalBuild":{"startTime":1673035725696,"endTime":1673035762320,"error":null,"stdout":"Sending build context to Docker daemon  1.046MB\r\r\nStep 1/7 : FROM alpine:latest as build\n ---> 49176f190c7e\nStep 2/7 : ADD . /sslh\n ---> b21c826bd63a\nStep 3/7 : RUN   apk add     gcc     libconfig-dev     make     musl-dev     pcre2-dev     perl &&   cd /sslh &&   make sslh-select &&   strip sslh-select\n ---> Running in 6069f6440e04\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing libgcc (12.2.1_git20220924-r4)\n(2/29) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/29) Installing binutils (2.39-r2)\n(4/29) Installing libgomp (12.2.1_git20220924-r4)\n(5/29) Installing libatomic (12.2.1_git20220924-r4)\n(6/29) Installing gmp (6.2.1-r2)\n(7/29) Installing isl25 (0.25-r0)\n(8/29) Installing mpfr4 (4.1.0-r0)\n(9/29) Installing mpc1 (1.2.1-r1)\n(10/29) Installing gcc (12.2.1_git20220924-r4)\n(11/29) Installing libconfig++ (1.7.3-r0)\n(12/29) Installing libconfig (1.7.3-r0)\n(13/29) Installing pkgconf (1.9.3-r0)\n(14/29) Installing libconfig-dev (1.7.3-r0)\n(15/29) Installing make (4.3-r1)\n(16/29) Installing musl-dev (1.2.3-r4)\n(17/29) Installing bsd-compat-headers (0.7.2-r3)\n(18/29) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(19/29) Installing ncurses-libs (6.3_p20221119-r0)\n(20/29) Installing ncurses-dev (6.3_p20221119-r0)\n(21/29) Installing libedit (20221030.3.1-r0)\n(22/29) Installing libedit-dev (20221030.3.1-r0)\n(23/29) Installing zlib-dev (1.2.13-r0)\n(24/29) Installing libpcre2-16 (10.42-r0)\n(25/29) Installing libpcre2-32 (10.42-r0)\n(26/29) Installing pcre2 (10.42-r0)\n(27/29) Installing pcre2-dev (10.42-r0)\n(28/29) Installing libbz2 (1.0.8-r4)\n(29/29) Installing perl (5.36.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 196 MiB in 44 packages\n./genver.sh >version.h\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c processes.c -o processes.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c udp-listener.c -o udp-listener.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG  -c -o sslh-select.o sslh-select.c\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c hash.c -o hash.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c tcp-listener.c -o tcp-listener.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c sslh-conf.c -o sslh-conf.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c common.c -o common.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c log.c -o log.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG  -c -o sslh-main.o sslh-main.c\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c probe.c -o probe.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c tls.c -o tls.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c argtable3.c -o argtable3.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c collection.c -o collection.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c gap.c -o gap.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c tcp-probe.c -o tcp-probe.o\nar rcs libsslh.a sslh-conf.o common.o log.o sslh-main.o probe.o tls.o argtable3.o collection.o gap.o tcp-probe.o\ncc -Wall -O2 -DLIBPCRE -g    -o sslh-select processes.o udp-listener.o sslh-select.o hash.o tcp-listener.o libsslh.a -lm -lpcre2-8 -lconfig\nRemoving intermediate container 6069f6440e04\n ---> 4a48048d65b1\nStep 4/7 : FROM alpine:latest\n ---> 49176f190c7e\nStep 5/7 : COPY --from=build /sslh/sslh-select /sslh\n ---> 5a19af102897\nStep 6/7 : RUN apk --no-cache add libconfig pcre2\n ---> Running in e722f19541d3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing libconfig (1.7.3-r0)\n(2/2) Installing pcre2 (10.42-r0)\nOK: 8 MiB in 17 packages\nRemoving intermediate container e722f19541d3\n ---> ea964a2fe578\nStep 7/7 : ENTRYPOINT [ \"/sslh\", \"--foreground\"]\n ---> Running in b8f8c421cc9b\nRemoving intermediate container b8f8c421cc9b\n ---> 47355bab3a4f\nSuccessfully built 47355bab3a4f\nSuccessfully tagged sslh:latest\n","stderr":"","imageSize":7932534},"repair":{"startTime":1673035762396,"endTime":1673035762434,"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":11,"columnStart":2,"columnEnd":8}}],"repairedDockerfile":"FROM alpine:latest as build\n\nADD . /sslh\n\nRUN \\\n  apk add --no-cache \\\n    gcc \\\n    libconfig-dev \\\n    make \\\n    musl-dev \\\n    pcre2-dev \\\n    perl && \\\n  cd /sslh && \\\n  make sslh-select && \\\n  strip sslh-select\n\nFROM alpine:latest\n\nCOPY --from=build /sslh/sslh-select /sslh\n\nRUN apk --no-cache add libconfig pcre2\n\nENTRYPOINT [ \"/sslh\", \"--foreground\"]\n"},"repairedBuild":{"startTime":1673035763058,"endTime":1673035800695,"error":null,"stdout":"Sending build context to Docker daemon  1.046MB\r\r\nStep 1/7 : FROM alpine:latest as build\n ---> 49176f190c7e\nStep 2/7 : ADD . /sslh\n ---> fc439a4ea375\nStep 3/7 : RUN   apk add --no-cache     gcc     libconfig-dev     make     musl-dev     pcre2-dev     perl &&   cd /sslh &&   make sslh-select &&   strip sslh-select\n ---> Running in 664019a366d4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing libgcc (12.2.1_git20220924-r4)\n(2/29) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/29) Installing binutils (2.39-r2)\n(4/29) Installing libgomp (12.2.1_git20220924-r4)\n(5/29) Installing libatomic (12.2.1_git20220924-r4)\n(6/29) Installing gmp (6.2.1-r2)\n(7/29) Installing isl25 (0.25-r0)\n(8/29) Installing mpfr4 (4.1.0-r0)\n(9/29) Installing mpc1 (1.2.1-r1)\n(10/29) Installing gcc (12.2.1_git20220924-r4)\n(11/29) Installing libconfig++ (1.7.3-r0)\n(12/29) Installing libconfig (1.7.3-r0)\n(13/29) Installing pkgconf (1.9.3-r0)\n(14/29) Installing libconfig-dev (1.7.3-r0)\n(15/29) Installing make (4.3-r1)\n(16/29) Installing musl-dev (1.2.3-r4)\n(17/29) Installing bsd-compat-headers (0.7.2-r3)\n(18/29) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(19/29) Installing ncurses-libs (6.3_p20221119-r0)\n(20/29) Installing ncurses-dev (6.3_p20221119-r0)\n(21/29) Installing libedit (20221030.3.1-r0)\n(22/29) Installing libedit-dev (20221030.3.1-r0)\n(23/29) Installing zlib-dev (1.2.13-r0)\n(24/29) Installing libpcre2-16 (10.42-r0)\n(25/29) Installing libpcre2-32 (10.42-r0)\n(26/29) Installing pcre2 (10.42-r0)\n(27/29) Installing pcre2-dev (10.42-r0)\n(28/29) Installing libbz2 (1.0.8-r4)\n(29/29) Installing perl (5.36.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 196 MiB in 44 packages\n./genver.sh >version.h\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c processes.c -o processes.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c udp-listener.c -o udp-listener.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG  -c -o sslh-select.o sslh-select.c\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c hash.c -o hash.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c tcp-listener.c -o tcp-listener.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c sslh-conf.c -o sslh-conf.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c common.c -o common.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c log.c -o log.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG  -c -o sslh-main.o sslh-main.c\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c probe.c -o probe.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c tls.c -o tls.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c argtable3.c -o argtable3.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c collection.c -o collection.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c gap.c -o gap.o\ncc -Wall -O2 -DLIBPCRE -g   -DENABLE_REGEX -DLIBCONFIG -c tcp-probe.c -o tcp-probe.o\nar rcs libsslh.a sslh-conf.o common.o log.o sslh-main.o probe.o tls.o argtable3.o collection.o gap.o tcp-probe.o\ncc -Wall -O2 -DLIBPCRE -g    -o sslh-select processes.o udp-listener.o sslh-select.o hash.o tcp-listener.o libsslh.a -lm -lpcre2-8 -lconfig\nRemoving intermediate container 664019a366d4\n ---> 66e1b9a2f1d5\nStep 4/7 : FROM alpine:latest\n ---> 49176f190c7e\nStep 5/7 : COPY --from=build /sslh/sslh-select /sslh\n ---> d0d8e2d9fa11\nStep 6/7 : RUN apk --no-cache add libconfig pcre2\n ---> Running in ca4734602563\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing libconfig (1.7.3-r0)\n(2/2) Installing pcre2 (10.42-r0)\nOK: 8 MiB in 17 packages\nRemoving intermediate container ca4734602563\n ---> 4025b3e6529c\nStep 7/7 : ENTRYPOINT [ \"/sslh\", \"--foreground\"]\n ---> Running in 59737fd0f8e4\nRemoving intermediate container 59737fd0f8e4\n ---> a7a7d3f44510\nSuccessfully built a7a7d3f44510\nSuccessfully tagged sslh:latest\n","stderr":"","imageSize":7932534}}