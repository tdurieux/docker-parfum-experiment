{"repository":"https://github.com/fuhcm/fptu-app","dockerfilePath":"Dockerfile","startTime":1672620732734,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/fuhcm/fptu-app'...\n","error":null,"commit":"22ad569fdeeefdf3b0b7ce69825624084d23ddc3"},"originalBuild":{"startTimestamp":1672620733846,"endTimestamp":1672620891171,"error":null,"stdout":"Sending build context to Docker daemon  3.307MB\r\r\nStep 1/13 : FROM node:10.17.0 as builder\n10.17.0: Pulling from library/node\n844c33c7e6ea: Pulling fs layer\nada5d61ae65d: Pulling fs layer\nf8427fdf4292: Pulling fs layer\nf025bafc4ab8: Pulling fs layer\n7a9577c07934: Pulling fs layer\n9b4289f800f5: Pulling fs layer\n9b8b4aee1f5f: Pulling fs layer\n44594f2195cd: Pulling fs layer\nb0d47c2d812b: Pulling fs layer\n7a9577c07934: Waiting\nf025bafc4ab8: Waiting\n9b4289f800f5: Waiting\n9b8b4aee1f5f: Waiting\nb0d47c2d812b: Waiting\nf8427fdf4292: Verifying Checksum\nf8427fdf4292: Download complete\nada5d61ae65d: Verifying Checksum\nada5d61ae65d: Download complete\nf025bafc4ab8: Verifying Checksum\nf025bafc4ab8: Download complete\n9b4289f800f5: Verifying Checksum\n9b4289f800f5: Download complete\n844c33c7e6ea: Verifying Checksum\n844c33c7e6ea: Download complete\n44594f2195cd: Verifying Checksum\n44594f2195cd: Download complete\nb0d47c2d812b: Verifying Checksum\nb0d47c2d812b: Download complete\n7a9577c07934: Verifying Checksum\n7a9577c07934: Download complete\n844c33c7e6ea: Pull complete\nada5d61ae65d: Pull complete\nf8427fdf4292: Pull complete\n9b8b4aee1f5f: Verifying Checksum\n9b8b4aee1f5f: Download complete\nf025bafc4ab8: Pull complete\n7a9577c07934: Pull complete\n9b4289f800f5: Pull complete\n9b8b4aee1f5f: Pull complete\n44594f2195cd: Pull complete\nb0d47c2d812b: Pull complete\nDigest: sha256:be69034700545030c110f67ae22e0584ddd59eeb2af81e4bd7f16f3ba5fa93a6\nStatus: Downloaded newer image for node:10.17.0\n ---> d5680e53a228\nStep 2/13 : RUN mkdir -p /root/src/app\n ---> Running in 68b0bce8d15d\nRemoving intermediate container 68b0bce8d15d\n ---> 763c4c627f3b\nStep 3/13 : WORKDIR /root/src/app\n ---> Running in bcd644f4f47f\nRemoving intermediate container bcd644f4f47f\n ---> 06c8badd301f\nStep 4/13 : ENV PATH /root/src/app/node_modules/.bin:$PATH\n ---> Running in 23d728ed3799\nRemoving intermediate container 23d728ed3799\n ---> bf84394b831f\nStep 5/13 : COPY package.json package-lock.json ./\n ---> 0905e2010a7a\nStep 6/13 : RUN npm install\n ---> Running in 7292b7d05da6\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> grpc@1.22.2 install /root/src/app/node_modules/grpc\n> node-pre-gyp install --fallback-to-build --library=static_library\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mUsing request for node-pre-gyp https download\u001b[0m\u001b[91m \n\u001b[0m[grpc] Success: \"/root/src/app/node_modules/grpc/src/node/extension_binary/node-v64-linux-x64-glibc/grpc_node.node\" is installed via remote\n\n> node-sass@4.12.0 install /root/src/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/linux-x64-64_binding.node\nDownload complete\nBinary saved to /root/src/app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nCaching binary to /root/.npm/node-sass/4.12.0/linux-x64-64_binding.node\n\n> core-js@3.1.4 postinstall /root/src/app/node_modules/@firebase/polyfill/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@2.6.9 postinstall /root/src/app/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.1.4 postinstall /root/src/app/node_modules/core-js-pure\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> protobufjs@6.8.8 postinstall /root/src/app/node_modules/protobufjs\n> node scripts/postinstall\n\n\n> node-sass@4.12.0 postinstall /root/src/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /root/src/app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nTesting binary\nBinary is fine\n\n> styled-components@4.3.2 postinstall /root/src/app/node_modules/styled-components\n> node ./scripts/postinstall.js || exit 0\n\nUse styled-components at work? Consider supporting our development efforts at https://opencollective.com/styled-components\n\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN\u001b[0m\u001b[91m notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 2388 packages from 1215 contributors and audited 2462 packages in 31.594s\nfound 788 vulnerabilities (25 low, 189 moderate, 490 high, 84 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 7292b7d05da6\n ---> eb6dc312521a\nStep 7/13 : COPY . .\n ---> 8be76bc2bc9e\nStep 8/13 : RUN npm run build\n ---> Running in 2f6709727696\n\n> fptu-app@1.2.0 build /root/src/app\n> npm run sync-source && npm run build:prod\n\n\n> fptu-app@1.2.0 sync-source /root/src/app\n> rm -rf dist && cp -r public/ dist\n\n\n> fptu-app@1.2.0 build:prod /root/src/app\n> npm run prod:client && npm run prod:server\n\n\n> fptu-app@1.2.0 prod:client /root/src/app\n> webpack --config webpack/production/webpack.client.js\n\n\u001b[91m(node:56) DeprecationWarning: Tapable.plugin is deprecated. Use new API on `.hooks` instead\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0m\u001b[91m(node:56) DeprecationWarning: Chunk.forEachModule: Use for(const module of chunk.modulesIterable) instead\n\u001b[0mHash: b08f8a406f6570ddd124\nVersion: webpack 4.37.0\nTime: 31570ms\nBuilt at: 01/02/2023 12:54:10 AM\n                                     Asset       Size  Chunks                    Chunk Names\n           admincp.439808f8a73b7e665f1b.js   11.7 KiB       1  [emitted]         admincp\n          browser.6701421d8b6839c2ee12.css   10.2 KiB       2  [emitted]         browser\n           browser.6701421d8b6839c2ee12.js   37.5 KiB       2  [emitted]         browser\n            change.38d65cf8e14694a4cf24.js   6.25 KiB       3  [emitted]         change\n              home.27d1ae194f7528be51d3.js   5.33 KiB       4  [emitted]         home\n         home_post.897a159cc334eb8cf0c8.js   4.66 KiB       5  [emitted]         home_post\n             login.54842b2ecbfd045139c1.js   2.72 KiB       6  [emitted]         login\n                             manifest.json   1.22 KiB          [emitted]         \n      medium_index.ddeb307c3bcbc8d6c4d7.js   3.87 KiB       7  [emitted]         medium_index\n      medium_post.523b51f3e8496189eeb1.css   32 bytes       8  [emitted]         medium_post\n       medium_post.523b51f3e8496189eeb1.js   4.63 KiB       8  [emitted]         medium_post\n         myconfess.b7231b9f09b0638bb236.js   4.91 KiB       9  [emitted]         myconfess\n          new-post.095ac497f20245220de5.js   2.82 KiB      10  [emitted]         new-post\n            radio.9903f7a46cec0716e9c4.css  481 bytes      11  [emitted]         radio\n             radio.9903f7a46cec0716e9c4.js   3.49 KiB      11  [emitted]         radio\n     searchconfess.a7258b9d4f6af154f8ac.js   6.15 KiB      12  [emitted]         searchconfess\n              send.4963d7f13905d7da735e.js   5.76 KiB      13  [emitted]         send\ntoidicodedao_index.901dbbcdfa3c818cf1aa.js   3.75 KiB      14  [emitted]         toidicodedao_index\n toidicodedao_post.2ba07e0c3e001c6785fc.js   3.28 KiB      15  [emitted]         toidicodedao_post\n          vendors.5e41602140aa608a2a27.css    544 KiB       0  [emitted]  [big]  vendors\n           vendors.5e41602140aa608a2a27.js    2.9 MiB       0  [emitted]  [big]  vendors\nEntrypoint browser [big] = vendors.5e41602140aa608a2a27.css vendors.5e41602140aa608a2a27.js browser.6701421d8b6839c2ee12.css browser.6701421d8b6839c2ee12.js\n  [40] (webpack)/buildin/global.js 472 bytes {0} [built]\n  [49] ./node_modules/history/esm/history.js + 3 modules 30.9 KiB {0} [built]\n       |    4 modules\n  [58] ./node_modules/rc-tween-one/es/index.js + 7 modules 58 KiB {0} [built]\n       |    8 modules\n  [76] ./node_modules/react-router-dom/es/index.js + 13 modules 21 KiB {0} [built]\n       |    14 modules\n  [90] ./node_modules/antd/es/index.js + 240 modules 1.39 MiB {0} [built]\n       |    241 modules\n [274] ./src/firebase.js 1.91 KiB {2} [built]\n [279] ./node_modules/react-router-dom/es/withRouter.js + 1 modules 1.56 KiB {0} [built]\n       |    2 modules\n [289] ./node_modules/redux-persist/es/index.js + 11 modules 22.1 KiB {0} [built]\n       |    12 modules\n [294] ./node_modules/react-redux/es/index.js + 18 modules 35.8 KiB {0} [built]\n       |    19 modules\n [540] ./node_modules/react-router-dom/es/Redirect.js + 1 modules 3.96 KiB {0} [built]\n       |    2 modules\n [544] ./src/app/Main.tsx 1.3 KiB {2} [built]\n [611] ./src/app/App.tsx 2.95 KiB {2} [built]\n[1005] ./src/index.js + 6 modules 8.92 KiB {2} [built]\n       | ./src/index.js 1.21 KiB [built]\n       | ./src/store.js 855 bytes [built]\n       | ./src/app/reducers/index.js 476 bytes [built]\n       | ./src/app/reducers/AuthReducer.js 286 bytes [built]\n       | ./src/app/modules/home/reducers/HomeReducer.js 1.9 KiB [built]\n       | ./src/app/modules/medium/reducers/MediumReducer.js 2.04 KiB [built]\n       | ./src/app/modules/toidicodedao/reducers/CodeDaoReducer.js 2.09 KiB [built]\n[1006] ./node_modules/firebase/messaging/dist/index.esm.js + 1 modules 93.5 KiB {0} [built]\n       |    2 modules\n[1008] ./src/app/modules/landing-page/LandingPage.js + 1 modules 9.18 KiB {2} [built]\n       | ./src/app/modules/landing-page/LandingPage.js 5.04 KiB [built]\n       | ./src/app/modules/landing-page/Header.jsx 4.03 KiB [built]\n    + 1036 hidden modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  vendors.5e41602140aa608a2a27.css (544 KiB)\n  vendors.5e41602140aa608a2a27.js (2.9 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  browser (3.47 MiB)\n      vendors.5e41602140aa608a2a27.css\n      vendors.5e41602140aa608a2a27.js\n      browser.6701421d8b6839c2ee12.css\n      browser.6701421d8b6839c2ee12.js\n\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/App.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [1] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/App.scss 968 bytes {0} [built]\n        + 3 hidden modules\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/header/Header.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/header/Header.scss 263 bytes {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/landing-page/Header.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/landing-page/Header.scss 1.44 KiB {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/landing-page/LandingPage.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/landing-page/LandingPage.scss 12.5 KiB {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/medium/Post.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/medium/Post.scss 194 bytes {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/radio/Radio.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/radio/Radio.scss 782 bytes {0} [built]\n        + 1 hidden module\n\n> fptu-app@1.2.0 prod:server /root/src/app\n> webpack --config webpack/production/webpack.server.js\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0mHash: f67384b72b5522deb718\nVersion: webpack 4.37.0\nTime: 29859ms\nBuilt at: 01/02/2023 12:54:41 AM\n                    Asset      Size  Chunks             Chunk Names\n               admincp.js  11.7 KiB       1  [emitted]  admincp\n                change.js    24 KiB       2  [emitted]  change\n                  home.js  5.31 KiB       3  [emitted]  home\n             home_post.js  4.63 KiB       4  [emitted]  home_post\n                 login.js  14.3 KiB       5  [emitted]  login\n          medium_index.js  29.7 KiB       6  [emitted]  medium_index\n           medium_post.js    12 KiB       7  [emitted]  medium_post\n             myconfess.js  12.6 KiB       8  [emitted]  myconfess\n              new-post.js   2.8 KiB       9  [emitted]  new-post\n                 radio.js  4.26 KiB      10  [emitted]  radio\n         searchconfess.js  6.15 KiB      11  [emitted]  searchconfess\n                  send.js  6.75 KiB      12  [emitted]  send\n                server.js  4.15 MiB      13  [emitted]  server\n    toidicodedao_index.js  29.6 KiB      14  [emitted]  toidicodedao_index\n     toidicodedao_post.js  10.5 KiB      15  [emitted]  toidicodedao_post\n       vendors~admincp.js  32.3 KiB      16  [emitted]  vendors~admincp\n          vendors~home.js  32.1 KiB      17  [emitted]  vendors~home\n     vendors~home_post.js  70.8 KiB      18  [emitted]  vendors~home_post\nvendors~myconfess~send.js  63.9 KiB       0  [emitted]  vendors~myconfess~send\n         vendors~radio.js  16.4 KiB      19  [emitted]  vendors~radio\n vendors~searchconfess.js  23.8 KiB      20  [emitted]  vendors~searchconfess\n          vendors~send.js  55.4 KiB      21  [emitted]  vendors~send\nEntrypoint server = server.js\n  [72] ./node_modules/react-router-dom/es/index.js + 13 modules 17.7 KiB {13} [built]\n       |    14 modules\n  [74] external \"path\" 42 bytes {13} [built]\n [127] external \"buffer\" 42 bytes {13} [built]\n [182] ./src/app/modules/medium/types.js 261 bytes {13} [built]\n [236] ./src/app/modules/home/types.js 197 bytes {13} [built]\n [237] ./src/app/modules/toidicodedao/types.js 215 bytes {13} [built]\n [247] external \"zlib\" 42 bytes {13} [built]\n [306] ./node_modules/react-router-dom/es/withRouter.js + 1 modules 1.56 KiB {13} [built]\n       |    2 modules\n [316] ./node_modules/react-redux/es/index.js + 18 modules 35.8 KiB {13} [built]\n       |    19 modules\n [320] external \"events\" 42 bytes {13} [built]\n [330] external \"querystring\" 42 bytes {13} [built]\n [586] ./node_modules/react-router-dom/es/StaticRouter.js + 1 modules 5.8 KiB {13} [built]\n       |    2 modules\n [597] ./src/app/Main.tsx 1.3 KiB {13} [built]\n[1112] ./dist/react-loadable.json 443 KiB {13} [built]\n[1114] ./server/index.js + 8 modules 19 KiB {13} [built]\n       | ./server/index.js 2.38 KiB [built]\n       | ./server/render/index.js 5.9 KiB [built]\n       | ./src/app/reducers/index.js 476 bytes [built]\n       | ./server/engine/index.js 3.36 KiB [built]\n       | ./src/app/reducers/AuthReducer.js 286 bytes [built]\n       | ./src/app/modules/home/reducers/HomeReducer.js 1.9 KiB [built]\n       | ./src/app/modules/medium/reducers/MediumReducer.js 2.04 KiB [built]\n       | ./src/app/modules/toidicodedao/reducers/CodeDaoReducer.js 2.09 KiB [built]\n       |     + 1 hidden module\n    + 1176 hidden modules\n\nWARNING in ./node_modules/component-classes/index.js\nModule not found: Error: Can't resolve 'indexof' in '/root/src/app/node_modules/component-classes'\n @ ./node_modules/component-classes/index.js\n @ ./node_modules/rc-table/es/Table.js\n @ ./node_modules/rc-table/es/index.js\n @ ./node_modules/antd/es/table/Table.js\n @ ./node_modules/antd/es/table/index.js\n @ ./node_modules/antd/es/index.js\n @ ./src/app/App.tsx\n @ ./src/app/Main.tsx\n @ ./server/render/index.js\n @ ./server/index.js\nRemoving intermediate container 2f6709727696\n ---> 39cf81efe8f0\nStep 9/13 : FROM node:10.17.0-alpine\n10.17.0-alpine: Pulling from library/node\n89d9c30c1d48: Pulling fs layer\n0eaf5bd7a6e1: Pulling fs layer\n6fb5c3a20092: Pulling fs layer\n004e30fa1cb9: Pulling fs layer\n004e30fa1cb9: Waiting\n6fb5c3a20092: Verifying Checksum\n6fb5c3a20092: Download complete\n89d9c30c1d48: Verifying Checksum\n89d9c30c1d48: Download complete\n89d9c30c1d48: Pull complete\n004e30fa1cb9: Verifying Checksum\n004e30fa1cb9: Download complete\n0eaf5bd7a6e1: Verifying Checksum\n0eaf5bd7a6e1: Download complete\n0eaf5bd7a6e1: Pull complete\n6fb5c3a20092: Pull complete\n004e30fa1cb9: Pull complete\nDigest: sha256:da8161962573bd6ab16b54a9bfa81a263458e5199074d0678d0556376b22bd22\nStatus: Downloaded newer image for node:10.17.0-alpine\n ---> a0708430821e\nStep 10/13 : WORKDIR /root/src/app\n ---> Running in 8f39442cdf08\nRemoving intermediate container 8f39442cdf08\n ---> 20fbcdbf4912\nStep 11/13 : COPY --from=builder /root/src/app/dist /root/src/app/dist\n ---> 16decac6f86a\nStep 12/13 : EXPOSE 3000\n ---> Running in c0b8297c8964\nRemoving intermediate container c0b8297c8964\n ---> 4975d1837702\nStep 13/13 : ENTRYPOINT [\"node\",\"./dist/server/server.js\"]\n ---> Running in 9c75fdd026cd\nRemoving intermediate container 9c75fdd026cd\n ---> b57fff942e56\nSuccessfully built b57fff942e56\nSuccessfully tagged fptu-app:latest\n","stderr":"","imageSize":85427589},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:10.17.0 as builder\n\nRUN mkdir -p /root/src/app\nWORKDIR /root/src/app\nENV PATH /root/src/app/node_modules/.bin:$PATH\n\nCOPY package.json package-lock.json ./\nRUN npm install\n\nCOPY . .\n\nRUN npm run build\n\nFROM node:10.17.0-alpine\n\nWORKDIR /root/src/app\n\nCOPY --from=builder /root/src/app/dist /root/src/app/dist\n\nEXPOSE 3000\n\nENTRYPOINT [\"node\",\"./dist/server/server.js\"]\n\n# This is docker build command: \n# docker build -t fptu-app .\n\n# This is docker run command:\n# docker run -d --name fptu-app -p 3001:3000 fptu-app:latest\n"},"repairedBuild":{"startTimestamp":1672620892124,"endTimestamp":1672621022405,"error":null,"stdout":"Sending build context to Docker daemon  3.307MB\r\r\nStep 1/13 : FROM node:10.17.0 as builder\n ---> d5680e53a228\nStep 2/13 : RUN mkdir -p /root/src/app\n ---> Running in 7690f5a0854e\nRemoving intermediate container 7690f5a0854e\n ---> d2e3967325bf\nStep 3/13 : WORKDIR /root/src/app\n ---> Running in 8dfa4544aa24\nRemoving intermediate container 8dfa4544aa24\n ---> dc715065abee\nStep 4/13 : ENV PATH /root/src/app/node_modules/.bin:$PATH\n ---> Running in b4866c64706d\nRemoving intermediate container b4866c64706d\n ---> 4e0e886ec478\nStep 5/13 : COPY package.json package-lock.json ./\n ---> 9e2777397529\nStep 6/13 : RUN npm install\n ---> Running in a97932d2a01f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> grpc@1.22.2 install /root/src/app/node_modules/grpc\n> node-pre-gyp install --fallback-to-build --library=static_library\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN Using request for node-pre-gyp https download\u001b[0m\u001b[91m \n\u001b[0m[grpc] Success: \"/root/src/app/node_modules/grpc/src/node/extension_binary/node-v64-linux-x64-glibc/grpc_node.node\" is installed via remote\n\n> node-sass@4.12.0 install /root/src/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/linux-x64-64_binding.node\nDownload complete\nBinary saved to /root/src/app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nCaching binary to /root/.npm/node-sass/4.12.0/linux-x64-64_binding.node\n\n> core-js@3.1.4 postinstall /root/src/app/node_modules/@firebase/polyfill/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@2.6.9 postinstall /root/src/app/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.1.4 postinstall /root/src/app/node_modules/core-js-pure\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> protobufjs@6.8.8 postinstall /root/src/app/node_modules/protobufjs\n> node scripts/postinstall\n\n\n> node-sass@4.12.0 postinstall /root/src/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /root/src/app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nTesting binary\nBinary is fine\n\n> styled-components@4.3.2 postinstall /root/src/app/node_modules/styled-components\n> node ./scripts/postinstall.js || exit 0\n\nUse styled-components at work? Consider supporting our development efforts at https://opencollective.com/styled-components\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 2388 packages from 1215 contributors and audited 2462 packages in 30.356s\nfound 788 vulnerabilities (25 low, 189 moderate, 490 high, 84 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container a97932d2a01f\n ---> 8593bb3dbd1b\nStep 7/13 : COPY . .\n ---> 3b1ef502e1d6\nStep 8/13 : RUN npm run build\n ---> Running in cd3dd260ba9c\n\n> fptu-app@1.2.0 build /root/src/app\n> npm run sync-source && npm run build:prod\n\n\n> fptu-app@1.2.0 sync-source /root/src/app\n> rm -rf dist && cp -r public/ dist\n\n\n> fptu-app@1.2.0 build:prod /root/src/app\n> npm run prod:client && npm run prod:server\n\n\n> fptu-app@1.2.0 prod:client /root/src/app\n> webpack --config webpack/production/webpack.client.js\n\n\u001b[91m(node:57) DeprecationWarning: Tapable.plugin is deprecated. Use new API on `.hooks` instead\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0m\u001b[91m(node:57) DeprecationWarning: Chunk.forEachModule: Use for(const module of chunk.modulesIterable) instead\n\u001b[0mHash: b08f8a406f6570ddd124\nVersion: webpack 4.37.0\nTime: 32480ms\nBuilt at: 01/02/2023 12:56:29 AM\n                                     Asset       Size  Chunks                    Chunk Names\n           admincp.439808f8a73b7e665f1b.js   11.7 KiB       1  [emitted]         admincp\n          browser.6701421d8b6839c2ee12.css   10.2 KiB       2  [emitted]         browser\n           browser.6701421d8b6839c2ee12.js   37.5 KiB       2  [emitted]         browser\n            change.38d65cf8e14694a4cf24.js   6.25 KiB       3  [emitted]         change\n              home.27d1ae194f7528be51d3.js   5.33 KiB       4  [emitted]         home\n         home_post.897a159cc334eb8cf0c8.js   4.66 KiB       5  [emitted]         home_post\n             login.54842b2ecbfd045139c1.js   2.72 KiB       6  [emitted]         login\n                             manifest.json   1.22 KiB          [emitted]         \n      medium_index.ddeb307c3bcbc8d6c4d7.js   3.87 KiB       7  [emitted]         medium_index\n      medium_post.523b51f3e8496189eeb1.css   32 bytes       8  [emitted]         medium_post\n       medium_post.523b51f3e8496189eeb1.js   4.63 KiB       8  [emitted]         medium_post\n         myconfess.b7231b9f09b0638bb236.js   4.91 KiB       9  [emitted]         myconfess\n          new-post.095ac497f20245220de5.js   2.82 KiB      10  [emitted]         new-post\n            radio.9903f7a46cec0716e9c4.css  481 bytes      11  [emitted]         radio\n             radio.9903f7a46cec0716e9c4.js   3.49 KiB      11  [emitted]         radio\n     searchconfess.a7258b9d4f6af154f8ac.js   6.15 KiB      12  [emitted]         searchconfess\n              send.4963d7f13905d7da735e.js   5.76 KiB      13  [emitted]         send\ntoidicodedao_index.901dbbcdfa3c818cf1aa.js   3.75 KiB      14  [emitted]         toidicodedao_index\n toidicodedao_post.2ba07e0c3e001c6785fc.js   3.28 KiB      15  [emitted]         toidicodedao_post\n          vendors.5e41602140aa608a2a27.css    544 KiB       0  [emitted]  [big]  vendors\n           vendors.5e41602140aa608a2a27.js    2.9 MiB       0  [emitted]  [big]  vendors\nEntrypoint browser [big] = vendors.5e41602140aa608a2a27.css vendors.5e41602140aa608a2a27.js browser.6701421d8b6839c2ee12.css browser.6701421d8b6839c2ee12.js\n  [40] (webpack)/buildin/global.js 472 bytes {0} [built]\n  [49] ./node_modules/history/esm/history.js + 3 modules 30.9 KiB {0} [built]\n       |    4 modules\n  [58] ./node_modules/rc-tween-one/es/index.js + 7 modules 58 KiB {0} [built]\n       |    8 modules\n  [76] ./node_modules/react-router-dom/es/index.js + 13 modules 21 KiB {0} [built]\n       |    14 modules\n  [90] ./node_modules/antd/es/index.js + 240 modules 1.39 MiB {0} [built]\n       |    241 modules\n [274] ./src/firebase.js 1.91 KiB {2} [built]\n [279] ./node_modules/react-router-dom/es/withRouter.js + 1 modules 1.56 KiB {0} [built]\n       |    2 modules\n [289] ./node_modules/redux-persist/es/index.js + 11 modules 22.1 KiB {0} [built]\n       |    12 modules\n [294] ./node_modules/react-redux/es/index.js + 18 modules 35.8 KiB {0} [built]\n       |    19 modules\n [540] ./node_modules/react-router-dom/es/Redirect.js + 1 modules 3.96 KiB {0} [built]\n       |    2 modules\n [544] ./src/app/Main.tsx 1.3 KiB {2} [built]\n [611] ./src/app/App.tsx 2.95 KiB {2} [built]\n[1005] ./src/index.js + 6 modules 8.92 KiB {2} [built]\n       | ./src/index.js 1.21 KiB [built]\n       | ./src/store.js 855 bytes [built]\n       | ./src/app/reducers/index.js 476 bytes [built]\n       | ./src/app/reducers/AuthReducer.js 286 bytes [built]\n       | ./src/app/modules/home/reducers/HomeReducer.js 1.9 KiB [built]\n       | ./src/app/modules/medium/reducers/MediumReducer.js 2.04 KiB [built]\n       | ./src/app/modules/toidicodedao/reducers/CodeDaoReducer.js 2.09 KiB [built]\n[1006] ./node_modules/firebase/messaging/dist/index.esm.js + 1 modules 93.5 KiB {0} [built]\n       |    2 modules\n[1008] ./src/app/modules/landing-page/LandingPage.js + 1 modules 9.18 KiB {2} [built]\n       | ./src/app/modules/landing-page/LandingPage.js 5.04 KiB [built]\n       | ./src/app/modules/landing-page/Header.jsx 4.03 KiB [built]\n    + 1036 hidden modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  vendors.5e41602140aa608a2a27.css (544 KiB)\n  vendors.5e41602140aa608a2a27.js (2.9 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  browser (3.47 MiB)\n      vendors.5e41602140aa608a2a27.css\n      vendors.5e41602140aa608a2a27.js\n      browser.6701421d8b6839c2ee12.css\n      browser.6701421d8b6839c2ee12.js\n\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/App.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [1] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/App.scss 968 bytes {0} [built]\n        + 3 hidden modules\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/header/Header.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/header/Header.scss 263 bytes {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/landing-page/Header.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/landing-page/Header.scss 1.44 KiB {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/landing-page/LandingPage.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/landing-page/LandingPage.scss 12.5 KiB {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/medium/Post.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/medium/Post.scss 194 bytes {0} [built]\n        + 1 hidden module\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/sass-loader/lib/loader.js!src/app/modules/radio/Radio.scss:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./src/app/modules/radio/Radio.scss 782 bytes {0} [built]\n        + 1 hidden module\n\n> fptu-app@1.2.0 prod:server /root/src/app\n> webpack --config webpack/production/webpack.server.js\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0mHash: c6c332e522dab330ed6f\nVersion: webpack 4.37.0\nTime: 29296ms\nBuilt at: 01/02/2023 12:56:59 AM\n                    Asset      Size  Chunks             Chunk Names\n               admincp.js  11.7 KiB       1  [emitted]  admincp\n                change.js    24 KiB       2  [emitted]  change\n                  home.js  5.31 KiB       3  [emitted]  home\n             home_post.js  4.63 KiB       4  [emitted]  home_post\n                 login.js  14.3 KiB       5  [emitted]  login\n          medium_index.js  29.7 KiB       6  [emitted]  medium_index\n           medium_post.js    12 KiB       7  [emitted]  medium_post\n             myconfess.js  12.6 KiB       8  [emitted]  myconfess\n              new-post.js   2.8 KiB       9  [emitted]  new-post\n                 radio.js  4.26 KiB      10  [emitted]  radio\n         searchconfess.js  6.15 KiB      11  [emitted]  searchconfess\n                  send.js  6.75 KiB      12  [emitted]  send\n                server.js  4.15 MiB      13  [emitted]  server\n    toidicodedao_index.js  29.6 KiB      14  [emitted]  toidicodedao_index\n     toidicodedao_post.js  10.5 KiB      15  [emitted]  toidicodedao_post\n       vendors~admincp.js  32.3 KiB      16  [emitted]  vendors~admincp\n          vendors~home.js  32.1 KiB      17  [emitted]  vendors~home\n     vendors~home_post.js  70.8 KiB      18  [emitted]  vendors~home_post\nvendors~myconfess~send.js  63.9 KiB       0  [emitted]  vendors~myconfess~send\n         vendors~radio.js  16.4 KiB      19  [emitted]  vendors~radio\n vendors~searchconfess.js  23.8 KiB      20  [emitted]  vendors~searchconfess\n          vendors~send.js  55.4 KiB      21  [emitted]  vendors~send\nEntrypoint server = server.js\n  [72] ./node_modules/react-router-dom/es/index.js + 13 modules 17.7 KiB {13} [built]\n       |    14 modules\n  [74] external \"path\" 42 bytes {13} [built]\n [127] external \"buffer\" 42 bytes {13} [built]\n [182] ./src/app/modules/medium/types.js 261 bytes {13} [built]\n [236] ./src/app/modules/home/types.js 197 bytes {13} [built]\n [237] ./src/app/modules/toidicodedao/types.js 215 bytes {13} [built]\n [247] external \"zlib\" 42 bytes {13} [built]\n [306] ./node_modules/react-router-dom/es/withRouter.js + 1 modules 1.56 KiB {13} [built]\n       |    2 modules\n [316] ./node_modules/react-redux/es/index.js + 18 modules 35.8 KiB {13} [built]\n       |    19 modules\n [320] external \"events\" 42 bytes {13} [built]\n [330] external \"querystring\" 42 bytes {13} [built]\n [586] ./node_modules/react-router-dom/es/StaticRouter.js + 1 modules 5.8 KiB {13} [built]\n       |    2 modules\n [597] ./src/app/Main.tsx 1.3 KiB {13} [built]\n[1112] ./dist/react-loadable.json 443 KiB {13} [built]\n[1114] ./server/index.js + 8 modules 19 KiB {13} [built]\n       | ./server/index.js 2.38 KiB [built]\n       | ./server/render/index.js 5.9 KiB [built]\n       | ./src/app/reducers/index.js 476 bytes [built]\n       | ./server/engine/index.js 3.36 KiB [built]\n       | ./src/app/reducers/AuthReducer.js 286 bytes [built]\n       | ./src/app/modules/home/reducers/HomeReducer.js 1.9 KiB [built]\n       | ./src/app/modules/medium/reducers/MediumReducer.js 2.04 KiB [built]\n       | ./src/app/modules/toidicodedao/reducers/CodeDaoReducer.js 2.09 KiB [built]\n       |     + 1 hidden module\n    + 1176 hidden modules\n\nWARNING in ./node_modules/component-classes/index.js\nModule not found: Error: Can't resolve 'indexof' in '/root/src/app/node_modules/component-classes'\n @ ./node_modules/component-classes/index.js\n @ ./node_modules/rc-table/es/Table.js\n @ ./node_modules/rc-table/es/index.js\n @ ./node_modules/antd/es/table/Table.js\n @ ./node_modules/antd/es/table/index.js\n @ ./node_modules/antd/es/index.js\n @ ./src/app/App.tsx\n @ ./src/app/Main.tsx\n @ ./server/render/index.js\n @ ./server/index.js\nRemoving intermediate container cd3dd260ba9c\n ---> 15c0290043bd\nStep 9/13 : FROM node:10.17.0-alpine\n ---> a0708430821e\nStep 10/13 : WORKDIR /root/src/app\n ---> Running in 9de7a0846aad\nRemoving intermediate container 9de7a0846aad\n ---> 43d151719249\nStep 11/13 : COPY --from=builder /root/src/app/dist /root/src/app/dist\n ---> c6c6177e0e34\nStep 12/13 : EXPOSE 3000\n ---> Running in cbc5b60d89e4\nRemoving intermediate container cbc5b60d89e4\n ---> 42d40d88fb23\nStep 13/13 : ENTRYPOINT [\"node\",\"./dist/server/server.js\"]\n ---> Running in 77c8cbb208d1\nRemoving intermediate container 77c8cbb208d1\n ---> f841666e0521\nSuccessfully built f841666e0521\nSuccessfully tagged fptu-app:latest\n","stderr":"","imageSize":85427598},"endTime":1672621022648}