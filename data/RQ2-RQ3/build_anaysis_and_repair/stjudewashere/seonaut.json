{"repository":"https://github.com/stjudewashere/seonaut","dockerfilePath":"Dockerfile","startTime":1672218191028,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/stjudewashere/seonaut'...\n","error":null,"commit":"10a1ff3001e49dab9b5d17304e1d46f241ef098b"},"originalBuild":{"startTimestamp":1672218191998,"endTimestamp":1672218257067,"error":null,"stdout":"Sending build context to Docker daemon  1.676MB\r\r\nStep 1/15 : FROM golang:1.18-alpine3.16 AS builder\n1.18-alpine3.16: Pulling from library/golang\nca7dd9ec2225: Already exists\nc41ae7ad2b39: Pulling fs layer\n22bb395ce1d7: Pulling fs layer\nbb8cf8713392: Pulling fs layer\nc41ae7ad2b39: Download complete\nbb8cf8713392: Verifying Checksum\nbb8cf8713392: Download complete\nc41ae7ad2b39: Pull complete\n22bb395ce1d7: Verifying Checksum\n22bb395ce1d7: Download complete\n22bb395ce1d7: Pull complete\nbb8cf8713392: Pull complete\nDigest: sha256:55a58dd64b2c0c3194777be98379d604623136bed45576a9d2237082e9b43847\nStatus: Downloaded newer image for golang:1.18-alpine3.16\n ---> eb2ce8e2b794\nStep 2/15 : RUN mkdir /app\n ---> Running in 1a67e802588c\nRemoving intermediate container 1a67e802588c\n ---> e107f34a54f6\nStep 3/15 : ADD . /app\n ---> 9be95f7fadcd\nStep 4/15 : WORKDIR /app\n ---> Running in 15a229b598ca\nRemoving intermediate container 15a229b598ca\n ---> a3ed27ef5713\nStep 5/15 : RUN CGO_ENABLED=0 GOOS=linux go build -o seonaut cmd/server/main.go\n ---> Running in bcc13057b54f\n\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\ngo: downloading github.com/go-sql-driver/mysql v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/sessions v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/securecookie v1.1.1\ngo: downloading github.com/golang-migrate/migrate/v4 v4.15.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/turk/go-sitemap v0.0.0-20210912154218-82ad01095e30\n\u001b[0m\u001b[91mgo: downloading github.com/temoto/robotstxt v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/oxffaa/gopher-parse-sitemap v0.0.0-20191021113419-005d2eb1def4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.4.0\ngo: downloading github.com/antchfx/htmlquery v1.2.5\n\u001b[0m\u001b[91mgo: downloading github.com/microcosm-cc/bluemonday v1.0.21\n\u001b[0m\u001b[91mgo: downloading github.com/aymerick/douceur v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\ngo: downloading github.com/spf13/afero v1.9.3\ngo: downloading github.com/spf13/cast v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.6\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.67.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.4.1\ngo: downloading github.com/magiconair/properties v1.8.7\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/css v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.10.0\ngo: downloading github.com/hashicorp/go-multierror v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da\ngo: downloading github.com/antchfx/xpath v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.1.0\n\u001b[0mRemoving intermediate container bcc13057b54f\n ---> f4a984185c9b\nStep 6/15 : FROM node:18-alpine3.16 AS front\n18-alpine3.16: Pulling from library/node\nca7dd9ec2225: Already exists\n55371e6747e8: Pulling fs layer\n694d6b1b2d1b: Pulling fs layer\n71f41f5ff77d: Pulling fs layer\n71f41f5ff77d: Verifying Checksum\n71f41f5ff77d: Download complete\n694d6b1b2d1b: Verifying Checksum\n694d6b1b2d1b: Download complete\n55371e6747e8: Verifying Checksum\n55371e6747e8: Download complete\n55371e6747e8: Pull complete\n694d6b1b2d1b: Pull complete\n71f41f5ff77d: Pull complete\nDigest: sha256:9eff44230b2fdcca57a73b8f908c8029e72d24dd05cac5339c79d3dedf6b208b\nStatus: Downloaded newer image for node:18-alpine3.16\n ---> 0fa08f92e64b\nStep 7/15 : WORKDIR /home/node\n ---> Running in 53403894da15\nRemoving intermediate container 53403894da15\n ---> ff203054b1ad\nStep 8/15 : COPY --from=builder /app ./app/\n ---> 3294ecd934ec\nStep 9/15 : RUN npm install esbuild && ./node_modules/esbuild/bin/esbuild ./app/web/css/style.css \t--bundle \t--minify \t--outdir=./app/web/static \t--public-path=/resources \t--loader:.woff=file \t--loader:.woff2=file\n ---> Running in b43662bbf5f8\n\nadded 2 packages, and audited 3 packages in 1s\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91m\n  app/web/static/FiraCode-Regular-U6A44NPN.woff2  100.8kb\n  app/web/static/FiraCode-Light-OUTFY63T.woff2    100.5kb\n  app/web/static/raleway-extrabold-SS4FKG4C.woff   51.3kb\n  app/web/static/style.css                          9.6kb\n\nâš¡ Done in 12ms\n\u001b[0mRemoving intermediate container b43662bbf5f8\n ---> 196af2b56268\nStep 10/15 : FROM alpine:latest AS production\n ---> 49176f190c7e\nStep 11/15 : COPY --from=front /home/node/app /app/\n ---> 0d379841866f\nStep 12/15 : ENV WAIT_VERSION 2.9.0\n ---> Running in dd26c67a2d9d\nRemoving intermediate container dd26c67a2d9d\n ---> feb2ca26226f\nStep 13/15 : ADD https://github.com/ufoscout/docker-compose-wait/releases/download/$WAIT_VERSION/wait /bin/wait\n\n\n ---> 7676d7b20f76\nStep 14/15 : RUN chmod +x /bin/wait\n ---> Running in aa5ef111d406\nRemoving intermediate container aa5ef111d406\n ---> f6f87f13b5c3\nStep 15/15 : WORKDIR /app\n ---> Running in cc6283b7acac\nRemoving intermediate container cc6283b7acac\n ---> 121498ff2bc5\nSuccessfully built 121498ff2bc5\nSuccessfully tagged seonaut:latest\n","stderr":"","imageSize":25307123},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":23}}],"repairedDockerfile":"FROM golang:1.18-alpine3.16 AS builder\n\nRUN mkdir /app\nADD . /app\nWORKDIR /app\n\nRUN CGO_ENABLED=0 GOOS=linux go build -o seonaut cmd/server/main.go\n\nFROM node:18-alpine3.16 AS front\nWORKDIR /home/node\nCOPY --from=builder /app ./app/\nRUN npm install esbuild && ./node_modules/esbuild/bin/esbuild ./app/web/css/style.css \\\n\t--bundle \\\n\t--minify \\\n\t--outdir=./app/web/static \\\n\t--public-path=/resources \\\n\t--loader:.woff=file \\\n\t--loader:.woff2=file\n\nFROM alpine:latest AS production\nCOPY --from=front /home/node/app /app/\n\nENV WAIT_VERSION 2.9.0\nADD https://github.com/ufoscout/docker-compose-wait/releases/download/$WAIT_VERSION/wait /bin/wait\nRUN chmod +x /bin/wait\n\nWORKDIR /app"},"repairedBuild":{"startTimestamp":1672218257356,"endTimestamp":1672218285196,"error":null,"stdout":"Sending build context to Docker daemon  1.676MB\r\r\nStep 1/15 : FROM golang:1.18-alpine3.16 AS builder\n ---> eb2ce8e2b794\nStep 2/15 : RUN mkdir /app\n ---> Running in 8ac9e1f87e8d\nRemoving intermediate container 8ac9e1f87e8d\n ---> 2437b86c3376\nStep 3/15 : ADD . /app\n ---> cec590994d83\nStep 4/15 : WORKDIR /app\n ---> Running in f8aaa2c90bff\nRemoving intermediate container f8aaa2c90bff\n ---> ebf84834e68f\nStep 5/15 : RUN CGO_ENABLED=0 GOOS=linux go build -o seonaut cmd/server/main.go\n ---> Running in c892d97facbe\n\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\ngo: downloading github.com/google/uuid v1.3.0\ngo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/oxffaa/gopher-parse-sitemap v0.0.0-20191021113419-005d2eb1def4\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.7.0\ngo: downloading github.com/antchfx/htmlquery v1.2.5\n\u001b[0m\u001b[91mgo: downloading github.com/microcosm-cc/bluemonday v1.0.21\ngo: downloading golang.org/x/crypto v0.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang-migrate/migrate/v4 v4.15.2\n\u001b[0m\u001b[91mgo: downloading github.com/temoto/robotstxt v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\ngo: downloading github.com/gorilla/sessions v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/securecookie v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/turk/go-sitemap v0.0.0-20210912154218-82ad01095e30\n\u001b[0m\u001b[91mgo: downloading github.com/antchfx/xpath v1.2.1\ngo: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\ngo: downloading github.com/mitchellh/mapstructure v1.5.0\ngo: downloading github.com/spf13/cast v1.5.0\ngo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.9.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.7\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.67.0\ngo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.6\n\u001b[0m\u001b[91mgo: downloading github.com/aymerick/douceur v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/css v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.10.0\ngo: downloading github.com/hashicorp/go-multierror v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.1.0\n\u001b[0mRemoving intermediate container c892d97facbe\n ---> 988a8dd5aeae\nStep 6/15 : FROM node:18-alpine3.16 AS front\n ---> 0fa08f92e64b\nStep 7/15 : WORKDIR /home/node\n ---> Running in 8d917d6208c0\nRemoving intermediate container 8d917d6208c0\n ---> 03cd121bdebd\nStep 8/15 : COPY --from=builder /app ./app/\n ---> e30db5ef154b\nStep 9/15 : RUN npm install esbuild && ./node_modules/esbuild/bin/esbuild ./app/web/css/style.css \t--bundle \t--minify \t--outdir=./app/web/static \t--public-path=/resources \t--loader:.woff=file \t--loader:.woff2=file\n ---> Running in 6d541bccedd1\n\nadded 2 packages, and audited 3 packages in 962ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91m\n  app/web/static/FiraCode-Regular-U6A44NPN.woff2  100.8kb\n  app/web/static/FiraCode-Light-OUTFY63T.woff2    100.5kb\n  app/web/static/raleway-extrabold-SS4FKG4C.woff   51.3kb\n  app/web/static/style.css                          9.6kb\n\nâš¡ Done in 10ms\n\u001b[0mRemoving intermediate container 6d541bccedd1\n ---> 9ae6e27b42db\nStep 10/15 : FROM alpine:latest AS production\n ---> 49176f190c7e\nStep 11/15 : COPY --from=front /home/node/app /app/\n ---> 3216c94cb4e9\nStep 12/15 : ENV WAIT_VERSION 2.9.0\n ---> Running in 8d09bef4c4e8\nRemoving intermediate container 8d09bef4c4e8\n ---> b266b25c12f4\nStep 13/15 : ADD https://github.com/ufoscout/docker-compose-wait/releases/download/$WAIT_VERSION/wait /bin/wait\n\n\n ---> 95b6ec50ce42\nStep 14/15 : RUN chmod +x /bin/wait\n ---> Running in de542cd6c788\nRemoving intermediate container de542cd6c788\n ---> c79a6f8874c6\nStep 15/15 : WORKDIR /app\n ---> Running in 1bf6bdf0b997\nRemoving intermediate container 1bf6bdf0b997\n ---> 8b1276b96911\nSuccessfully built 8b1276b96911\nSuccessfully tagged seonaut:latest\n","stderr":"","imageSize":25307123},"endTime":1672218285446}