{"repository":"https://github.com/opentransittools/gtfsdb","dockerfilePath":"Dockerfile","startTime":1672331006156,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/opentransittools/gtfsdb'...\n","error":null,"commit":"8638a9d83747f1ac6c8953119239b42dd3628b29"},"originalBuild":{"startTimestamp":1672331007058,"endTimestamp":1672331046331,"error":null,"stdout":"Sending build context to Docker daemon  673.8kB\r\r\nStep 1/6 : FROM python:3\n ---> 75cc8d87cc34\nStep 2/6 : RUN pip install zc.buildout psycopg2-binary\n ---> Running in 1d0d8e3b354d\nCollecting zc.buildout\n  Downloading zc.buildout-3.0.1-py2.py3-none-any.whl (168 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 168.4/168.4 kB 9.9 MB/s eta 0:00:00\nCollecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.5-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 3.1 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=8.0 in /usr/local/lib/python3.11/site-packages (from zc.buildout) (65.5.0)\nRequirement already satisfied: pip in /usr/local/lib/python3.11/site-packages (from zc.buildout) (22.3.1)\nRequirement already satisfied: wheel in /usr/local/lib/python3.11/site-packages (from zc.buildout) (0.38.4)\nInstalling collected packages: zc.buildout, psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.5 zc.buildout-3.0.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 1d0d8e3b354d\n ---> 1e38809cf387\nStep 3/6 : WORKDIR /app\n ---> Running in f22ae3ec2cb5\nRemoving intermediate container f22ae3ec2cb5\n ---> ff2422a5ba8f\nStep 4/6 : COPY . .\n ---> e69377f49472\nStep 5/6 : RUN buildout install prod postgresql\n ---> Running in 70b7dc3d64e5\nCreating directory '/app/eggs'.\nCreating directory '/app/bin'.\nCreating directory '/app/parts'.\nCreating directory '/app/develop-eggs'.\nDevelop: '/app/.'\n\u001b[91mWarning: 'classifiers' should be a list, got type 'tuple'\n\u001b[0m\u001b[91m/usr/local/lib/python3.11/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\n  warnings.warn(\n\u001b[0m\u001b[91m/usr/local/lib/python3.11/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  warnings.warn(\n\u001b[0mGetting distribution for 'zc.recipe.egg==2.0.7'.\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mGot zc.recipe.egg 2.0.7.\nSection `buildout` contains unused option(s): 'allowed-eggs-from-site-packages' 'app-egg-name' 'include-site-packages'.\nThis may be an indication for either a typo in the option's name or a bug in the used recipe.\nInstalling prod.\nGetting distribution for 'sqlalchemy==1.3.22'.\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mGot SQLAlchemy 1.3.22.\nGetting distribution for 'geoalchemy2==0.8.4'.\nGot GeoAlchemy2 0.8.4.\nGenerated script '/app/bin/connect-tester'.\nGenerated script '/app/bin/gtfsdb-current-load'.\nGenerated script '/app/bin/gtfsdb-load'.\nGenerated script '/app/bin/rs-test'.\nGenerated interpreter '/app/bin/python'.\nInstalling postgresql.\nGenerated script '/app/bin/connect-tester'.\nGenerated script '/app/bin/gtfsdb-current-load'.\nGenerated script '/app/bin/gtfsdb-load'.\nGenerated script '/app/bin/rs-test'.\nGenerated script '/app/bin/pip'.\nGenerated script '/app/bin/pip3'.\nGenerated script '/app/bin/pip3.10'.\nGenerated script '/app/bin/buildout'.\nGenerated script '/app/bin/wheel'.\nGenerated interpreter '/app/bin/python'.\nRemoving intermediate container 70b7dc3d64e5\n ---> 118e1e97eb6c\nStep 6/6 : ENTRYPOINT [\"bin/gtfsdb-load\"]\n ---> Running in 82a6dc68e866\nRemoving intermediate container 82a6dc68e866\n ---> 611d04b6cf37\nSuccessfully built 611d04b6cf37\nSuccessfully tagged gtfsdb:latest\n","stderr":"","imageSize":971262819},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":2,"end":2,"columnStart":4,"columnEnd":43}}],"repairedDockerfile":"FROM python:3\n\nRUN pip install --no-cache-dir zc.buildout psycopg2-binary\n\nWORKDIR /app\nCOPY . .\n\nRUN buildout install prod postgresql\n\nENTRYPOINT [\"bin/gtfsdb-load\"]\n"},"repairedBuild":{"startTimestamp":1672331046629,"endTimestamp":1672331086605,"error":null,"stdout":"Sending build context to Docker daemon  673.8kB\r\r\nStep 1/6 : FROM python:3\n ---> 75cc8d87cc34\nStep 2/6 : RUN pip install --no-cache-dir zc.buildout psycopg2-binary\n ---> Running in b653f1609176\nCollecting zc.buildout\n  Downloading zc.buildout-3.0.1-py2.py3-none-any.whl (168 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 168.4/168.4 kB 69.3 MB/s eta 0:00:00\nCollecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.5-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 91.2 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=8.0 in /usr/local/lib/python3.11/site-packages (from zc.buildout) (65.5.0)\nRequirement already satisfied: pip in /usr/local/lib/python3.11/site-packages (from zc.buildout) (22.3.1)\nRequirement already satisfied: wheel in /usr/local/lib/python3.11/site-packages (from zc.buildout) (0.38.4)\nInstalling collected packages: zc.buildout, psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.5 zc.buildout-3.0.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container b653f1609176\n ---> 954a739d7681\nStep 3/6 : WORKDIR /app\n ---> Running in f2faf584ffc0\nRemoving intermediate container f2faf584ffc0\n ---> 187eae4b0fc2\nStep 4/6 : COPY . .\n ---> ac064faccbf2\nStep 5/6 : RUN buildout install prod postgresql\n ---> Running in f3538a784f2d\nCreating directory '/app/eggs'.\nCreating directory '/app/bin'.\nCreating directory '/app/parts'.\nCreating directory '/app/develop-eggs'.\nDevelop: '/app/.'\n\u001b[91mWarning: 'classifiers' should be a list, got type 'tuple'\n\u001b[0m\u001b[91m/usr/local/lib/python3.11/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.\n  warnings.warn(\n\u001b[0m\u001b[91m/usr/local/lib/python3.11/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  warnings.warn(\n\u001b[0mGetting distribution for 'zc.recipe.egg==2.0.7'.\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mGot zc.recipe.egg 2.0.7.\nSection `buildout` contains unused option(s): 'allowed-eggs-from-site-packages' 'app-egg-name' 'include-site-packages'.\nThis may be an indication for either a typo in the option's name or a bug in the used recipe.\nInstalling prod.\nGetting distribution for 'sqlalchemy==1.3.22'.\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mGot SQLAlchemy 1.3.22.\nGetting distribution for 'geoalchemy2==0.8.4'.\nGot GeoAlchemy2 0.8.4.\nGenerated script '/app/bin/connect-tester'.\nGenerated script '/app/bin/gtfsdb-current-load'.\nGenerated script '/app/bin/gtfsdb-load'.\nGenerated script '/app/bin/rs-test'.\nGenerated interpreter '/app/bin/python'.\nInstalling postgresql.\nGenerated script '/app/bin/connect-tester'.\nGenerated script '/app/bin/gtfsdb-current-load'.\nGenerated script '/app/bin/gtfsdb-load'.\nGenerated script '/app/bin/rs-test'.\nGenerated script '/app/bin/pip'.\nGenerated script '/app/bin/pip3'.\nGenerated script '/app/bin/pip3.10'.\nGenerated script '/app/bin/buildout'.\nGenerated script '/app/bin/wheel'.\nGenerated interpreter '/app/bin/python'.\nRemoving intermediate container f3538a784f2d\n ---> 261dce1e7c8d\nStep 6/6 : ENTRYPOINT [\"bin/gtfsdb-load\"]\n ---> Running in 7d318b08cfaf\nRemoving intermediate container 7d318b08cfaf\n ---> a0c05a0a7308\nSuccessfully built a0c05a0a7308\nSuccessfully tagged gtfsdb:latest\n","stderr":"","imageSize":968017812},"endTime":1672331086896}