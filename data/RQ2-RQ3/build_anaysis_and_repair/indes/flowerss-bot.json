{"repository":"https://github.com/indes/flowerss-bot","dockerfilePath":"Dockerfile","startTime":1672597753165,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/indes/flowerss-bot'...\n","error":null,"commit":"cac20f41416f5dff9296f89c9c639d6fb04b371d"},"originalBuild":{"startTimestamp":1672597753997,"endTimestamp":1672597880358,"error":null,"stdout":"Sending build context to Docker daemon    660kB\r\r\nStep 1/9 : FROM golang:1.18.6-alpine as builder\n1.18.6-alpine: Pulling from library/golang\n213ec9aee27d: Already exists\n5299e6f78605: Pulling fs layer\n1cab0e43db0a: Pulling fs layer\n548b71e657dc: Pulling fs layer\na0792f1a6db3: Pulling fs layer\na0792f1a6db3: Waiting\n5299e6f78605: Download complete\n1cab0e43db0a: Verifying Checksum\n1cab0e43db0a: Download complete\n5299e6f78605: Pull complete\na0792f1a6db3: Verifying Checksum\na0792f1a6db3: Download complete\n1cab0e43db0a: Pull complete\n548b71e657dc: Download complete\n548b71e657dc: Pull complete\na0792f1a6db3: Pull complete\nDigest: sha256:5b58b2e5963db4cc97d5c5d2580744713303e8ddc979ff89d939c559502ec263\nStatus: Downloaded newer image for golang:1.18.6-alpine\n ---> b68eed002951\nStep 2/9 : COPY . /flowerss\n ---> 4a80389f60de\nStep 3/9 : RUN apk add git make gcc libc-dev &&     cd /flowerss && make build\n ---> Running in 645b6ac0c045\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/20) Installing libgcc (11.2.1_git20220219-r2)\n(3/20) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/20) Installing binutils (2.38-r3)\n(5/20) Installing libgomp (11.2.1_git20220219-r2)\n(6/20) Installing libatomic (11.2.1_git20220219-r2)\n(7/20) Installing gmp (6.2.1-r2)\n(8/20) Installing isl22 (0.22-r0)\n(9/20) Installing mpfr4 (4.1.0-r0)\n(10/20) Installing mpc1 (1.2.1-r0)\n(11/20) Installing gcc (11.2.1_git20220219-r2)\n(12/20) Installing brotli-libs (1.0.9-r6)\n(13/20) Installing nghttp2-libs (1.47.0-r0)\n(14/20) Installing libcurl (7.83.1-r5)\n(15/20) Installing expat (2.5.0-r0)\n(16/20) Installing pcre2 (10.40-r0)\n(17/20) Installing git (2.36.3-r0)\n(18/20) Installing musl-dev (1.2.3-r2)\n(19/20) Installing libc-dev (0.7.2-r3)\n(20/20) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 133 MiB in 34 packages\ngo mod download\ngo build -trimpath -ldflags \\\n\"-s -w -buildid= \\\n-X 'github.com/indes/flowerss-bot/internal/config.commit=cac20f4' \\\n-X 'github.com/indes/flowerss-bot/internal/config.date=Sun Jan  1 18:29:36 UTC 2023' \\\n-X 'github.com/indes/flowerss-bot/internal/config.version=cac20f4'\" -o flowerss-bot\nRemoving intermediate container 645b6ac0c045\n ---> 4d8fff81667b\nStep 4/9 : FROM alpine\n ---> 49176f190c7e\nStep 5/9 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> a834cfc95714\nStep 6/9 : COPY --from=builder /flowerss/flowerss-bot /bin/\n ---> 99f182ba0a61\nStep 7/9 : VOLUME /root/.flowerss\n ---> Running in 50d6277b1256\nRemoving intermediate container 50d6277b1256\n ---> 483913719971\nStep 8/9 : WORKDIR /root/.flowerss\n ---> Running in 1aa80291ad99\nRemoving intermediate container 1aa80291ad99\n ---> 7463b9ea5af3\nStep 9/9 : ENTRYPOINT [\"/bin/flowerss-bot\"]\n ---> Running in 124ee6feffa9\nRemoving intermediate container 124ee6feffa9\n ---> 0cbf5c2aa01f\nSuccessfully built 0cbf5c2aa01f\nSuccessfully tagged flowerss-bot:latest\n","stderr":"","imageSize":23159398},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":33}}],"repairedDockerfile":"FROM golang:1.18.6-alpine as builder\n#ENV CGO_ENABLED=0\nCOPY . /flowerss\nRUN apk add --no-cache git make gcc libc-dev && \\\n    cd /flowerss && make build\n\n# Image starts here\nFROM alpine\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /flowerss/flowerss-bot /bin/\nVOLUME /root/.flowerss\nWORKDIR /root/.flowerss\nENTRYPOINT [\"/bin/flowerss-bot\"]\n\n"},"repairedBuild":{"startTimestamp":1672597880617,"endTimestamp":1672597971029,"error":null,"stdout":"Sending build context to Docker daemon    660kB\r\r\nStep 1/9 : FROM golang:1.18.6-alpine as builder\n ---> b68eed002951\nStep 2/9 : COPY . /flowerss\n ---> 823e351597b9\nStep 3/9 : RUN apk add --no-cache git make gcc libc-dev &&     cd /flowerss && make build\n ---> Running in ff2f72220b3d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/20) Installing libgcc (11.2.1_git20220219-r2)\n(3/20) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/20) Installing binutils (2.38-r3)\n(5/20) Installing libgomp (11.2.1_git20220219-r2)\n(6/20) Installing libatomic (11.2.1_git20220219-r2)\n(7/20) Installing gmp (6.2.1-r2)\n(8/20) Installing isl22 (0.22-r0)\n(9/20) Installing mpfr4 (4.1.0-r0)\n(10/20) Installing mpc1 (1.2.1-r0)\n(11/20) Installing gcc (11.2.1_git20220219-r2)\n(12/20) Installing brotli-libs (1.0.9-r6)\n(13/20) Installing nghttp2-libs (1.47.0-r0)\n(14/20) Installing libcurl (7.83.1-r5)\n(15/20) Installing expat (2.5.0-r0)\n(16/20) Installing pcre2 (10.40-r0)\n(17/20) Installing git (2.36.3-r0)\n(18/20) Installing musl-dev (1.2.3-r2)\n(19/20) Installing libc-dev (0.7.2-r3)\n(20/20) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r17.trigger\nOK: 133 MiB in 34 packages\ngo mod download\ngo build -trimpath -ldflags \\\n\"-s -w -buildid= \\\n-X 'github.com/indes/flowerss-bot/internal/config.commit=cac20f4' \\\n-X 'github.com/indes/flowerss-bot/internal/config.date=Sun Jan  1 18:31:24 UTC 2023' \\\n-X 'github.com/indes/flowerss-bot/internal/config.version=cac20f4'\" -o flowerss-bot\nRemoving intermediate container ff2f72220b3d\n ---> 52fde12a27a8\nStep 4/9 : FROM alpine\n ---> 49176f190c7e\nStep 5/9 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 3a39abc6c88a\nStep 6/9 : COPY --from=builder /flowerss/flowerss-bot /bin/\n ---> 756cbd397b29\nStep 7/9 : VOLUME /root/.flowerss\n ---> Running in af5de1b4d0ac\nRemoving intermediate container af5de1b4d0ac\n ---> a265675480eb\nStep 8/9 : WORKDIR /root/.flowerss\n ---> Running in 60453f629837\nRemoving intermediate container 60453f629837\n ---> 5595666e60bc\nStep 9/9 : ENTRYPOINT [\"/bin/flowerss-bot\"]\n ---> Running in b32835e7231f\nRemoving intermediate container b32835e7231f\n ---> e8986c2d9642\nSuccessfully built e8986c2d9642\nSuccessfully tagged flowerss-bot:latest\n","stderr":"","imageSize":23159398},"endTime":1672597971274}