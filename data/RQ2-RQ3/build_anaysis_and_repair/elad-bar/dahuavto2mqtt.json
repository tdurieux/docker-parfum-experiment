{"repository":"https://github.com/elad-bar/dahuavto2mqtt","dockerfilePath":"Dockerfile","startTime":1672924397446,"endTime":1672924487688,"clone":{"startTime":1672924397446,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/elad-bar/dahuavto2mqtt'...\n","error":null,"endTime":1672924398148,"commit":"2c57c624e3e3af835a5758b76e55313db94e3ebb"},"originalBuild":{"startTime":1672924398262,"endTime":1672924437453,"error":null,"stdout":"Sending build context to Docker daemon  99.84kB\r\r\nStep 1/15 : FROM python:3.9-alpine\n3.9-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\na3a2c937b8a7: Pulling fs layer\n25083a7b8521: Pulling fs layer\ne2f7f5886088: Pulling fs layer\n25083a7b8521: Download complete\ne2f7f5886088: Verifying Checksum\ne2f7f5886088: Download complete\na3a2c937b8a7: Verifying Checksum\na3a2c937b8a7: Download complete\na3a2c937b8a7: Pull complete\n25083a7b8521: Pull complete\ne2f7f5886088: Pull complete\nDigest: sha256:8ea03bf88df73d21c72b3a941d1337c54357ee6386c2824f90b39a007792d1bb\nStatus: Downloaded newer image for python:3.9-alpine\n ---> d6d1ed462b20\nStep 2/15 : MAINTAINER Elad Bar <elad.bar@hotmail.com>\n ---> Running in 0fd019ca1bb9\nRemoving intermediate container 0fd019ca1bb9\n ---> f8f419290979\nStep 3/15 : WORKDIR /app\n ---> Running in 805f8e235f8f\nRemoving intermediate container 805f8e235f8f\n ---> d0a94a5281c8\nStep 4/15 : COPY *.py ./\n ---> 943fc6796cee\nStep 5/15 : RUN apk update &&     apk upgrade &&     pip install paho-mqtt requests\n ---> Running in add1259c48c9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-329-gf392921234 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17819 distinct packages available\n(1/6) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(2/6) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(3/6) Upgrading sqlite-libs (3.40.0-r0 -> 3.40.1-r0)\n(4/6) Upgrading libuuid (2.38.1-r0 -> 2.38.1-r1)\n(5/6) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(6/6) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 16 MiB in 37 packages\nCollecting paho-mqtt\n  Downloading paho-mqtt-1.6.1.tar.gz (99 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 99.4/99.4 KB 2.6 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 1.3 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 2.7 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 7.0 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 327.1 kB/s eta 0:00:00\nBuilding wheels for collected packages: paho-mqtt\n  Building wheel for paho-mqtt (setup.py): started\n  Building wheel for paho-mqtt (setup.py): finished with status 'done'\n  Created wheel for paho-mqtt: filename=paho_mqtt-1.6.1-py3-none-any.whl size=62132 sha256=87ad460e14505109b07ba05d8ff48e5cc1c77e15c67d87be1ded6aeb8288493c\n  Stored in directory: /root/.cache/pip/wheels/0f/90/29/db29bb8ddc98ec5f2363b959130c9ddbcf5cfdb4a00b6184dd\nSuccessfully built paho-mqtt\nInstalling collected packages: paho-mqtt, urllib3, idna, charset-normalizer, certifi, requests\nSuccessfully installed certifi-2022.12.7 charset-normalizer-2.1.1 idna-3.4 paho-mqtt-1.6.1 requests-2.28.1 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container add1259c48c9\n ---> 1985e9bc8bfa\nStep 6/15 : ENV DAHUA_VTO_HOST=vto-host\n ---> Running in c8180a7c95cf\nRemoving intermediate container c8180a7c95cf\n ---> 9c265ed64cf7\nStep 7/15 : ENV DAHUA_VTO_USERNAME=Username\n ---> Running in e2abe535e153\nRemoving intermediate container e2abe535e153\n ---> 809631b7e918\nStep 8/15 : ENV DAHUA_VTO_PASSWORD=Password\n ---> Running in 2e4cb32c3996\nRemoving intermediate container 2e4cb32c3996\n ---> 8f29be7f6d17\nStep 9/15 : ENV MQTT_BROKER_HOST=mqtt-host\n ---> Running in b635245a3330\nRemoving intermediate container b635245a3330\n ---> da9b22fd8350\nStep 10/15 : ENV MQTT_BROKER_PORT=1883\n ---> Running in 2de18233f79a\nRemoving intermediate container 2de18233f79a\n ---> 05b8c9d6e9f2\nStep 11/15 : ENV MQTT_BROKER_USERNAME=Username\n ---> Running in a52932e335ae\nRemoving intermediate container a52932e335ae\n ---> 944e83cb8919\nStep 12/15 : ENV MQTT_BROKER_PASSWORD=Password\n ---> Running in c822c1cb108a\nRemoving intermediate container c822c1cb108a\n ---> d2f0e132c0ba\nStep 13/15 : ENV MQTT_BROKER_TOPIC_PREFIX=DahuaVTO\n ---> Running in 4b6404ad4b90\nRemoving intermediate container 4b6404ad4b90\n ---> 8cae6172e0b5\nStep 14/15 : RUN chmod +x /app/DahuaVTO.py\n ---> Running in 8b6f3131ca5c\nRemoving intermediate container 8b6f3131ca5c\n ---> 07473f2c6aea\nStep 15/15 : ENTRYPOINT [\"python3\", \"/app/DahuaVTO.py\"]\n ---> Running in a20052fa8aab\nRemoving intermediate container a20052fa8aab\n ---> 0bc0533b3695\nSuccessfully built 0bc0533b3695\nSuccessfully tagged dahuavto2mqtt:latest\n","stderr":"","imageSize":69005030},"repair":{"startTime":1672924437527,"endTime":1672924437574,"violations":[{"name":"pipUseNoCacheDir","position":{"start":9,"end":9,"columnStart":4,"columnEnd":34}}],"repairedDockerfile":"FROM python:3.9-alpine\nMAINTAINER Elad Bar <elad.bar@hotmail.com>\n\nWORKDIR /app\n\nCOPY *.py ./\n\nRUN apk update && \\\n    apk upgrade && \\\n    pip install --no-cache-dir paho-mqtt requests\n\nENV DAHUA_VTO_HOST=vto-host\nENV DAHUA_VTO_USERNAME=Username\nENV DAHUA_VTO_PASSWORD=Password\nENV MQTT_BROKER_HOST=mqtt-host\nENV MQTT_BROKER_PORT=1883\nENV MQTT_BROKER_USERNAME=Username\nENV MQTT_BROKER_PASSWORD=Password\nENV MQTT_BROKER_TOPIC_PREFIX=DahuaVTO\n\nRUN chmod +x /app/DahuaVTO.py\n\nENTRYPOINT [\"python3\", \"/app/DahuaVTO.py\"]"},"repairedBuild":{"startTime":1672924437799,"endTime":1672924487290,"error":null,"stdout":"Sending build context to Docker daemon  100.4kB\r\r\nStep 1/15 : FROM python:3.9-alpine\n ---> d6d1ed462b20\nStep 2/15 : MAINTAINER Elad Bar <elad.bar@hotmail.com>\n ---> Running in c474fd5c2cac\nRemoving intermediate container c474fd5c2cac\n ---> ab57f8102254\nStep 3/15 : WORKDIR /app\n ---> Running in 306e4d2e4695\nRemoving intermediate container 306e4d2e4695\n ---> 8228af3bd412\nStep 4/15 : COPY *.py ./\n ---> 19430f910b74\nStep 5/15 : RUN apk update &&     apk upgrade &&     pip install --no-cache-dir paho-mqtt requests\n ---> Running in 1c9034e20623\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-329-gf392921234 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17819 distinct packages available\n(1/6) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(2/6) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(3/6) Upgrading sqlite-libs (3.40.0-r0 -> 3.40.1-r0)\n(4/6) Upgrading libuuid (2.38.1-r0 -> 2.38.1-r1)\n(5/6) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(6/6) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 16 MiB in 37 packages\nCollecting paho-mqtt\n  Downloading paho-mqtt-1.6.1.tar.gz (99 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 99.4/99.4 KB 12.2 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 17.2 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 87.9 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 186.7 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 151.6 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nBuilding wheels for collected packages: paho-mqtt\n  Building wheel for paho-mqtt (setup.py): started\n  Building wheel for paho-mqtt (setup.py): finished with status 'done'\n  Created wheel for paho-mqtt: filename=paho_mqtt-1.6.1-py3-none-any.whl size=62132 sha256=557d86be994121fcf539a517e419b6e0fcf8035b713cd3c291ccd941f22900c4\n  Stored in directory: /tmp/pip-ephem-wheel-cache-30er02rv/wheels/0f/90/29/db29bb8ddc98ec5f2363b959130c9ddbcf5cfdb4a00b6184dd\nSuccessfully built paho-mqtt\nInstalling collected packages: paho-mqtt, urllib3, idna, charset-normalizer, certifi, requests\nSuccessfully installed certifi-2022.12.7 charset-normalizer-2.1.1 idna-3.4 paho-mqtt-1.6.1 requests-2.28.1 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 1c9034e20623\n ---> aad2f7ca3f69\nStep 6/15 : ENV DAHUA_VTO_HOST=vto-host\n ---> Running in ab21b692e2af\nRemoving intermediate container ab21b692e2af\n ---> ddc72f3499b1\nStep 7/15 : ENV DAHUA_VTO_USERNAME=Username\n ---> Running in 60e326cd38ea\nRemoving intermediate container 60e326cd38ea\n ---> 6699a1f5b0b6\nStep 8/15 : ENV DAHUA_VTO_PASSWORD=Password\n ---> Running in 4c0259a2fbd1\nRemoving intermediate container 4c0259a2fbd1\n ---> f4707d1a29c3\nStep 9/15 : ENV MQTT_BROKER_HOST=mqtt-host\n ---> Running in 2e6ccce93e59\nRemoving intermediate container 2e6ccce93e59\n ---> 8c429254f713\nStep 10/15 : ENV MQTT_BROKER_PORT=1883\n ---> Running in 22619b165d0d\nRemoving intermediate container 22619b165d0d\n ---> 8d7001b22a06\nStep 11/15 : ENV MQTT_BROKER_USERNAME=Username\n ---> Running in dddcad3b808a\nRemoving intermediate container dddcad3b808a\n ---> ec0b4c7920d9\nStep 12/15 : ENV MQTT_BROKER_PASSWORD=Password\n ---> Running in 4abc1d08d9c1\nRemoving intermediate container 4abc1d08d9c1\n ---> 3d40f7c79c7e\nStep 13/15 : ENV MQTT_BROKER_TOPIC_PREFIX=DahuaVTO\n ---> Running in 794857f34a74\nRemoving intermediate container 794857f34a74\n ---> 6a9f49d4ad06\nStep 14/15 : RUN chmod +x /app/DahuaVTO.py\n ---> Running in f9564dd8d216\nRemoving intermediate container f9564dd8d216\n ---> 582e8e87a82a\nStep 15/15 : ENTRYPOINT [\"python3\", \"/app/DahuaVTO.py\"]\n ---> Running in 62526c6d5e32\nRemoving intermediate container 62526c6d5e32\n ---> e170f4083083\nSuccessfully built e170f4083083\nSuccessfully tagged dahuavto2mqtt:latest\n","stderr":"","imageSize":68260013}}