{"repository":"https://github.com/librariesio/librarian","dockerfilePath":"Dockerfile","startTime":1672946784480,"endTime":1672946937304,"clone":{"startTime":1672946784481,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/librariesio/librarian'...\n","error":null,"endTime":1672946785278,"commit":"92b4925b51e90e56d4ec0a175bdb61a3e380ed65"},"originalBuild":{"startTime":1672946785343,"endTime":1672946881668,"error":null,"stdout":"Sending build context to Docker daemon  157.7kB\r\r\nStep 1/10 : FROM node:8.2.1\n8.2.1: Pulling from library/node\nad74af05f5a2: Pulling fs layer\n2b032b8bbe8b: Pulling fs layer\na9a5b35f6ead: Pulling fs layer\n3245b5a1c52c: Pulling fs layer\nafa075743392: Pulling fs layer\n9fb9f21641cd: Pulling fs layer\n46823dd01794: Pulling fs layer\na1d2def40a25: Pulling fs layer\n46823dd01794: Waiting\n3245b5a1c52c: Waiting\na1d2def40a25: Waiting\nafa075743392: Waiting\n9fb9f21641cd: Waiting\n2b032b8bbe8b: Verifying Checksum\n2b032b8bbe8b: Download complete\na9a5b35f6ead: Verifying Checksum\na9a5b35f6ead: Download complete\nafa075743392: Download complete\n9fb9f21641cd: Verifying Checksum\n9fb9f21641cd: Download complete\nad74af05f5a2: Verifying Checksum\nad74af05f5a2: Download complete\na1d2def40a25: Verifying Checksum\na1d2def40a25: Download complete\n46823dd01794: Verifying Checksum\n46823dd01794: Download complete\nad74af05f5a2: Pull complete\n3245b5a1c52c: Verifying Checksum\n3245b5a1c52c: Download complete\n2b032b8bbe8b: Pull complete\na9a5b35f6ead: Pull complete\n3245b5a1c52c: Pull complete\nafa075743392: Pull complete\n9fb9f21641cd: Pull complete\n46823dd01794: Pull complete\na1d2def40a25: Pull complete\nDigest: sha256:86896dfe0fc6f0ea7be35b8bf1e336a194e638cce7ede34210cd995242cbc1e7\nStatus: Downloaded newer image for node:8.2.1\n ---> b17af62b0dea\nStep 2/10 : RUN     apt-get update     && apt-get clean     && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n ---> Running in 097456b365cf\nIgn http://deb.debian.org jessie InRelease\nGet:1 http://security.debian.org jessie/updates InRelease [44.9 kB]\nGet:2 http://deb.debian.org jessie-updates InRelease [16.3 kB]\nGet:3 http://deb.debian.org jessie Release.gpg [1652 B]\nGet:4 http://deb.debian.org jessie Release [77.3 kB]\nGet:5 http://security.debian.org jessie/updates/main amd64 Packages [992 kB]\nIgn http://deb.debian.org jessie-updates InRelease\nIgn http://deb.debian.org jessie Release\nGet:6 http://deb.debian.org jessie-updates/main amd64 Packages [20 B]\nGet:7 http://deb.debian.org jessie/main amd64 Packages [9098 kB]\nFetched 10.2 MB in 6s (1487 kB/s)\nReading package lists...\n\u001b[91mW: GPG error: http://deb.debian.org jessie-updates InRelease: The following signatures were invalid: KEYEXPIRED 1668891673\nW: GPG error: http://deb.debian.org jessie Release: The following signatures were invalid: KEYEXPIRED 1668891673\n\u001b[0mRemoving intermediate container 097456b365cf\n ---> 978efc394557\nStep 3/10 : RUN npm install --global yarn\n ---> Running in 992585c34bd4\n\u001b[91mnpm\u001b[0m\u001b[91m info it worked if it ends with\u001b[0m\u001b[91m ok\n\u001b[0m\u001b[91mnpm info\u001b[0m\u001b[91m using npm@5.3.0\n\u001b[0m\u001b[91mnpm info using\u001b[0m\u001b[91m node@v8.2.1\n\u001b[0m\u001b[91mnpm http fetch GET 200 https://registry.npmjs.org/yarn 113ms\n\u001b[0m\u001b[91mnpm http fetch GET 200 https://registry.npmjs.org/yarn/-/yarn-1.22.19.tgz 163ms\n\u001b[0m\u001b[91mnpm info lifecycle yarn@1.22.19~preinstall: yarn@1.22.19\n\u001b[0m\n> yarn@1.22.19 preinstall /usr/local/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n\u001b[91mnpm info linkStuff yarn@1.22.19\n\u001b[0m/usr/local/bin/yarn -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n/usr/local/bin/yarnpkg -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n\u001b[91mnpm info lifecycle\u001b[0m\u001b[91m yarn@1.22.19~install: yarn@1.22.19\n\u001b[0m\u001b[91mnpm info lifecycle yarn@1.22.19~postinstall: yarn@1.22.19\n\u001b[0m+ yarn@1.22.19\nadded 1 package in 1.662s\n\u001b[91mnpm info ok \n\u001b[0mRemoving intermediate container 992585c34bd4\n ---> 5d70623c02f7\nStep 4/10 : RUN mkdir -p /usr/src/app\n ---> Running in 9f4f5e073bc9\nRemoving intermediate container 9f4f5e073bc9\n ---> 8a52a25bc142\nStep 5/10 : WORKDIR /usr/src/app\n ---> Running in 5213f03dc4c7\nRemoving intermediate container 5213f03dc4c7\n ---> cb08f9a780e3\nStep 6/10 : COPY package.json /usr/src/app/\n ---> ff957fdc9544\nStep 7/10 : COPY yarn.lock /usr/src/app/\n ---> a0b5703a30cd\nStep 8/10 : RUN yarn install\n ---> Running in 486dbbb261e1\nyarn install v1.22.19\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\n[4/5] Linking dependencies...\n[5/5] Building fresh packages...\nDone in 7.49s.\nRemoving intermediate container 486dbbb261e1\n ---> 75ea78dec43b\nStep 9/10 : COPY . /usr/src/app\n ---> c298f91fecbd\nStep 10/10 : CMD npm start\n ---> Running in 2d940141a300\nRemoving intermediate container 2d940141a300\n ---> 6da9fb08c1db\nSuccessfully built 6da9fb08c1db\nSuccessfully tagged librarian:latest\n","stderr":"","imageSize":735823644},"repair":{"startTime":1672946881736,"endTime":1672946881827,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":29}},{"name":"mkdirUsrSrcThenRemove","position":{"start":8,"end":8,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:8.2.1\nRUN \\\n    apt-get update \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nRUN npm install --global yarn && npm cache clean --force;\n\nRUN mkdir -p /usr/src/app && rm -rf /usr/src/app\nWORKDIR /usr/src/app\n\nCOPY package.json /usr/src/app/\nCOPY yarn.lock /usr/src/app/\nRUN yarn install\n\nCOPY . /usr/src/app\n\nCMD npm start\n"},"repairedBuild":{"startTime":1672946882227,"endTime":1672946936832,"error":null,"stdout":"Sending build context to Docker daemon  157.7kB\r\r\nStep 1/10 : FROM node:8.2.1\n ---> b17af62b0dea\nStep 2/10 : RUN     apt-get update     && apt-get clean     && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n ---> Running in 5a55a766c476\nGet:1 http://security.debian.org jessie/updates InRelease [44.9 kB]\nIgn http://deb.debian.org jessie InRelease\nGet:2 http://deb.debian.org jessie-updates InRelease [16.3 kB]\nGet:3 http://deb.debian.org jessie Release.gpg [1652 B]\nGet:4 http://deb.debian.org jessie Release [77.3 kB]\nGet:5 http://security.debian.org jessie/updates/main amd64 Packages [992 kB]\nIgn http://deb.debian.org jessie-updates InRelease\nGet:6 http://deb.debian.org jessie-updates/main amd64 Packages [20 B]\nIgn http://deb.debian.org jessie Release\nGet:7 http://deb.debian.org jessie/main amd64 Packages [9098 kB]\nFetched 10.2 MB in 6s (1505 kB/s)\nReading package lists...\n\u001b[91mW: GPG error: http://deb.debian.org jessie-updates InRelease: The following signatures were invalid: KEYEXPIRED 1668891673\nW: GPG error: http://deb.debian.org jessie Release: The following signatures were invalid: KEYEXPIRED 1668891673\n\u001b[0mRemoving intermediate container 5a55a766c476\n ---> 9910b9e048d0\nStep 3/10 : RUN npm install --global yarn && npm cache clean --force;\n ---> Running in aa4c779a16fd\n\u001b[91mnpm\u001b[0m\u001b[91m info it worked if it ends with\u001b[0m\u001b[91m ok\n\u001b[0m\u001b[91mnpm info using npm@5.3.0\nnpm info using node@v8.2.1\n\u001b[0m\u001b[91mnpm http\u001b[0m\u001b[91m fetch GET 200 https://registry.npmjs.org/yarn 760ms\n\u001b[0m\u001b[91mnpm http fetch GET 200 https://registry.npmjs.org/yarn/-/yarn-1.22.19.tgz 169ms\n\u001b[0m\u001b[91mnpm info lifecycle\u001b[0m\u001b[91m yarn@1.22.19~preinstall: yarn@1.22.19\n\u001b[0m\n> yarn@1.22.19 preinstall /usr/local/lib/node_modules/yarn\n> :; (node ./preinstall.js > /dev/null 2>&1 || true)\n\n\u001b[91mnpm info\u001b[0m\u001b[91m linkStuff\u001b[0m\u001b[91m yarn@1.22.19\n\u001b[0m/usr/local/bin/yarn -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n/usr/local/bin/yarnpkg -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n\u001b[91mnpm\u001b[0m\u001b[91m info lifecycle yarn@1.22.19~install: yarn@1.22.19\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91minfo \u001b[0m\u001b[91mlifecycle\u001b[0m\u001b[91m yarn@1.22.19~postinstall: yarn@1.22.19\n\u001b[0m+ yarn@1.22.19\nadded 1 package in 2.38s\n\u001b[91mnpm info ok \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m info it worked if it ends with\u001b[0m\u001b[91m ok\n\u001b[0m\u001b[91mnpm info using npm@5.3.0\nnpm\u001b[0m\u001b[91m info using node@v8.2.1\n\u001b[0m\u001b[91mnpm WARN using --force I sure hope you know what you are doing.\n\u001b[0m\u001b[91mnpm info ok\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container aa4c779a16fd\n ---> 558f06fe3c76\nStep 4/10 : RUN mkdir -p /usr/src/app && rm -rf /usr/src/app\n ---> Running in 7ccc9bae1d8c\nRemoving intermediate container 7ccc9bae1d8c\n ---> 7b2e5d385d80\nStep 5/10 : WORKDIR /usr/src/app\n ---> Running in 7746f62c8c0a\nRemoving intermediate container 7746f62c8c0a\n ---> 12f6459b56da\nStep 6/10 : COPY package.json /usr/src/app/\n ---> 616a165a6d5e\nStep 7/10 : COPY yarn.lock /usr/src/app/\n ---> 28244539ea6e\nStep 8/10 : RUN yarn install\n ---> Running in 35caba099449\nyarn install v1.22.19\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\n[4/5] Linking dependencies...\n[5/5] Building fresh packages...\nDone in 5.35s.\nRemoving intermediate container 35caba099449\n ---> e4609f1f07ba\nStep 9/10 : COPY . /usr/src/app\n ---> 8420aad0d7eb\nStep 10/10 : CMD npm start\n ---> Running in e16cd661e71c\nRemoving intermediate container e16cd661e71c\n ---> 71203db605d0\nSuccessfully built 71203db605d0\nSuccessfully tagged librarian:latest\n","stderr":"","imageSize":734372721}}