{"repository":"https://github.com/minkebox/minke","dockerfilePath":"Dockerfile","startTime":1672697193363,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/minkebox/minke'...\n","error":null,"commit":"f98c31006b7f042af15158757af7e2a4cf90a29f"},"originalBuild":{"startTimestamp":1672697194642,"endTimestamp":1672697231053,"error":null,"stdout":"Sending build context to Docker daemon  10.84MB\r\r\nStep 1/10 : FROM alpine:3.11\n3.11: Pulling from library/alpine\n79e9f2f55bf5: Pulling fs layer\n79e9f2f55bf5: Verifying Checksum\n79e9f2f55bf5: Download complete\n79e9f2f55bf5: Pull complete\nDigest: sha256:bcae378eacedab83da66079d9366c8f5df542d7ed9ab23bf487e3e1a8481375d\nStatus: Downloaded newer image for alpine:3.11\n ---> a787cb986503\nStep 2/10 : EXPOSE 53/tcp 53/udp 80/tcp\n ---> Running in db9384a45167\nRemoving intermediate container db9384a45167\n ---> a0ff1c08d7f9\nStep 3/10 : VOLUME /minke\n ---> Running in 413bce1d63fa\nRemoving intermediate container 413bce1d63fa\n ---> 8c6b3b814e8a\nStep 4/10 : LABEL net.minkebox.system=\"true\"\n ---> Running in 8ad22607b49b\nRemoving intermediate container 8ad22607b49b\n ---> 889e4ddd91e1\nStep 5/10 : ENTRYPOINT [\"/startup.sh\"]\n ---> Running in 95996825be76\nRemoving intermediate container 95996825be76\n ---> fce5c22e9969\nStep 6/10 : COPY startup.sh /startup.sh\n ---> 32ceb564eeaf\nStep 7/10 : COPY app/package.json /app/package.json\n ---> cb7a25b104ca\nStep 8/10 : COPY app/native /app/native\n ---> 10bac04e1407\nStep 9/10 : RUN apk add nodejs npm     tzdata openntpd e2fsprogs parted     iproute2     make gcc g++ python ;    cd /app ; npm install --unsafe-perm --production ; apk del npm make gcc g++ python\n ---> Running in 1c9df9dba68e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/41) Installing libblkid (2.34-r1)\n(2/41) Installing libcom_err (1.45.5-r0)\n(3/41) Installing e2fsprogs-libs (1.45.5-r0)\n(4/41) Installing libuuid (2.34-r1)\n(5/41) Installing e2fsprogs (1.45.5-r0)\n(6/41) Installing libgcc (9.3.0-r0)\n(7/41) Installing libstdc++ (9.3.0-r0)\n(8/41) Installing binutils (2.33.1-r1)\n(9/41) Installing gmp (6.1.2-r1)\n(10/41) Installing isl (0.18-r0)\n(11/41) Installing libgomp (9.3.0-r0)\n(12/41) Installing libatomic (9.3.0-r0)\n(13/41) Installing mpfr4 (4.0.2-r1)\n(14/41) Installing mpc1 (1.1.0-r1)\n(15/41) Installing gcc (9.3.0-r0)\n(16/41) Installing musl-dev (1.1.24-r3)\n(17/41) Installing libc-dev (0.7.2-r0)\n(18/41) Installing g++ (9.3.0-r0)\n(19/41) Installing libmnl (1.0.4-r0)\n(20/41) Installing libnftnl-libs (1.1.5-r0)\n(21/41) Installing iptables (1.8.3-r2)\n(22/41) Installing iproute2 (5.4.0-r1)\nExecuting iproute2-5.4.0-r1.post-install\n(23/41) Installing make (4.2.1-r2)\n(24/41) Installing ca-certificates (20191127-r2)\n(25/41) Installing c-ares (1.17.2-r0)\n(26/41) Installing nghttp2-libs (1.40.0-r1)\n(27/41) Installing nodejs (12.22.6-r0)\n(28/41) Installing npm (12.22.6-r0)\n(29/41) Installing openntpd (6.2_p3-r3)\n(30/41) Installing device-mapper-libs (2.02.186-r0)\n(31/41) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(32/41) Installing ncurses-libs (6.1_p20200118-r4)\n(33/41) Installing readline (8.0.1-r0)\n(34/41) Installing parted (3.3-r0)\n(35/41) Installing libbz2 (1.0.8-r1)\n(36/41) Installing expat (2.2.9-r1)\n(37/41) Installing libffi (3.2.1-r6)\n(38/41) Installing gdbm (1.13-r1)\n(39/41) Installing sqlite-libs (3.30.1-r2)\n(40/41) Installing python2 (2.7.18-r0)\n(41/41) Installing tzdata (2021e-r0)\nExecuting busybox-1.31.1-r11.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 279 MiB in 55 packages\n\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@2.1.3: \"Please update to latest v2.3 or v2.2\"\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\nnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\n> minkebox@ install /app\n> cd native; node-gyp rebuild\n\nmake: Entering directory '/app/native/build'\n  CXX(target) Release/obj.target/native/iface-socket.o\n  SOLINK_MODULE(target) Release/obj.target/native.node\n  COPY Release/native.node\nmake: Leaving directory '/app/native/build'\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.1.1 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 351 packages from 367 contributors and audited 485 packages in 15.741s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (2 moderate, 4 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n(1/19) Purging g++ (9.3.0-r0)\n(2/19) Purging gcc (9.3.0-r0)\n(3/19) Purging binutils (2.33.1-r1)\n(4/19) Purging libatomic (9.3.0-r0)\n(5/19) Purging libgomp (9.3.0-r0)\n(6/19) Purging libc-dev (0.7.2-r0)\n(7/19) Purging musl-dev (1.1.24-r3)\n(8/19) Purging make (4.2.1-r2)\n(9/19) Purging npm (12.22.6-r0)\n(10/19) Purging python2 (2.7.18-r0)\n(11/19) Purging isl (0.18-r0)\n(12/19) Purging mpc1 (1.1.0-r1)\n(13/19) Purging mpfr4 (4.0.2-r1)\n(14/19) Purging gmp (6.1.2-r1)\n(15/19) Purging libbz2 (1.0.8-r1)\n(16/19) Purging expat (2.2.9-r1)\n(17/19) Purging libffi (3.2.1-r6)\n(18/19) Purging gdbm (1.13-r1)\n(19/19) Purging sqlite-libs (3.30.1-r2)\nExecuting busybox-1.31.1-r11.trigger\nOK: 48 MiB in 36 packages\nRemoving intermediate container 1c9df9dba68e\n ---> 024d38e9cd03\nStep 10/10 : COPY app/ /app\n ---> 1de985a6239b\nSuccessfully built 1de985a6239b\nSuccessfully tagged minke:latest\n","stderr":"","imageSize":175275069},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":14,"columnEnd":54}},{"name":"apkAddUseNoCache","position":{"start":12,"end":15,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM alpine:3.11\n\nEXPOSE 53/tcp 53/udp 80/tcp\nVOLUME /minke\n\nLABEL net.minkebox.system=\"true\"\n\nENTRYPOINT [\"/startup.sh\"]\n\nCOPY startup.sh /startup.sh\nCOPY app/package.json /app/package.json\nCOPY app/native /app/native\nRUN apk add --no-cache nodejs npm \\\n    tzdata openntpd e2fsprogs parted \\\n    iproute2 \\\n    make gcc g++ python; \\\n    cd /app ; npm install --unsafe-perm --production ; apk del npm make gcc g++ python\n\nCOPY app/ /app\n"},"repairedBuild":{"startTimestamp":1672697231784,"endTimestamp":1672697263354,"error":null,"stdout":"Sending build context to Docker daemon  10.84MB\r\r\nStep 1/10 : FROM alpine:3.11\n ---> a787cb986503\nStep 2/10 : EXPOSE 53/tcp 53/udp 80/tcp\n ---> Running in 3f0833abdd8e\nRemoving intermediate container 3f0833abdd8e\n ---> 13650329c27d\nStep 3/10 : VOLUME /minke\n ---> Running in 25858ea9d376\nRemoving intermediate container 25858ea9d376\n ---> 3b27b7235934\nStep 4/10 : LABEL net.minkebox.system=\"true\"\n ---> Running in f686ae0f91bf\nRemoving intermediate container f686ae0f91bf\n ---> 9a243b132854\nStep 5/10 : ENTRYPOINT [\"/startup.sh\"]\n ---> Running in 69cc57da8b4c\nRemoving intermediate container 69cc57da8b4c\n ---> 640b8ebe36a2\nStep 6/10 : COPY startup.sh /startup.sh\n ---> 36055193eefa\nStep 7/10 : COPY app/package.json /app/package.json\n ---> f01f6d44c5fa\nStep 8/10 : COPY app/native /app/native\n ---> 6b77c9e352ed\nStep 9/10 : RUN apk add --no-cache nodejs npm     tzdata openntpd e2fsprogs parted     iproute2     make gcc g++ python;     cd /app ; npm install --unsafe-perm --production ; apk del npm make gcc g++ python\n ---> Running in 53c9670869dd\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/41) Installing libblkid (2.34-r1)\n(2/41) Installing libcom_err (1.45.5-r0)\n(3/41) Installing e2fsprogs-libs (1.45.5-r0)\n(4/41) Installing libuuid (2.34-r1)\n(5/41) Installing e2fsprogs (1.45.5-r0)\n(6/41) Installing libgcc (9.3.0-r0)\n(7/41) Installing libstdc++ (9.3.0-r0)\n(8/41) Installing binutils (2.33.1-r1)\n(9/41) Installing gmp (6.1.2-r1)\n(10/41) Installing isl (0.18-r0)\n(11/41) Installing libgomp (9.3.0-r0)\n(12/41) Installing libatomic (9.3.0-r0)\n(13/41) Installing mpfr4 (4.0.2-r1)\n(14/41) Installing mpc1 (1.1.0-r1)\n(15/41) Installing gcc (9.3.0-r0)\n(16/41) Installing musl-dev (1.1.24-r3)\n(17/41) Installing libc-dev (0.7.2-r0)\n(18/41) Installing g++ (9.3.0-r0)\n(19/41) Installing libmnl (1.0.4-r0)\n(20/41) Installing libnftnl-libs (1.1.5-r0)\n(21/41) Installing iptables (1.8.3-r2)\n(22/41) Installing iproute2 (5.4.0-r1)\nExecuting iproute2-5.4.0-r1.post-install\n(23/41) Installing make (4.2.1-r2)\n(24/41) Installing ca-certificates (20191127-r2)\n(25/41) Installing c-ares (1.17.2-r0)\n(26/41) Installing nghttp2-libs (1.40.0-r1)\n(27/41) Installing nodejs (12.22.6-r0)\n(28/41) Installing npm (12.22.6-r0)\n(29/41) Installing openntpd (6.2_p3-r3)\n(30/41) Installing device-mapper-libs (2.02.186-r0)\n(31/41) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(32/41) Installing ncurses-libs (6.1_p20200118-r4)\n(33/41) Installing readline (8.0.1-r0)\n(34/41) Installing parted (3.3-r0)\n(35/41) Installing libbz2 (1.0.8-r1)\n(36/41) Installing expat (2.2.9-r1)\n(37/41) Installing libffi (3.2.1-r6)\n(38/41) Installing gdbm (1.13-r1)\n(39/41) Installing sqlite-libs (3.30.1-r2)\n(40/41) Installing python2 (2.7.18-r0)\n(41/41) Installing tzdata (2021e-r0)\nExecuting busybox-1.31.1-r11.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 279 MiB in 55 packages\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@3.2.6: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@2.1.3: \"Please update to latest v2.3 or v2.2\"\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\n> minkebox@ install /app\n> cd native; node-gyp rebuild\n\nmake: Entering directory '/app/native/build'\n  CXX(target) Release/obj.target/native/iface-socket.o\n  SOLINK_MODULE(target) Release/obj.target/native.node\n  COPY Release/native.node\nmake: Leaving directory '/app/native/build'\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.1.1 (node_modules/chokidar/node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 351 packages from 367 contributors and audited 485 packages in 13.559s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (2 moderate, 4 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/community: No such file or directory\n\u001b[0m(1/19) Purging g++ (9.3.0-r0)\n(2/19) Purging gcc (9.3.0-r0)\n(3/19) Purging binutils (2.33.1-r1)\n(4/19) Purging libatomic (9.3.0-r0)\n(5/19) Purging libgomp (9.3.0-r0)\n(6/19) Purging libc-dev (0.7.2-r0)\n(7/19) Purging musl-dev (1.1.24-r3)\n(8/19) Purging make (4.2.1-r2)\n(9/19) Purging npm (12.22.6-r0)\n(10/19) Purging python2 (2.7.18-r0)\n(11/19) Purging isl (0.18-r0)\n(12/19) Purging mpc1 (1.1.0-r1)\n(13/19) Purging mpfr4 (4.0.2-r1)\n(14/19) Purging gmp (6.1.2-r1)\n(15/19) Purging libbz2 (1.0.8-r1)\n(16/19) Purging expat (2.2.9-r1)\n(17/19) Purging libffi (3.2.1-r6)\n(18/19) Purging gdbm (1.13-r1)\n(19/19) Purging sqlite-libs (3.30.1-r2)\nExecuting busybox-1.31.1-r11.trigger\nOK: 48 MiB in 36 packages\nRemoving intermediate container 53c9670869dd\n ---> 00c7476888e6\nStep 10/10 : COPY app/ /app\n ---> 511e23d5734f\nSuccessfully built 511e23d5734f\nSuccessfully tagged minke:latest\n","stderr":"","imageSize":173700119},"endTime":1672697263869}