{"repository":"https://github.com/foair/course-crawler","dockerfilePath":"Dockerfile","startTime":1672486422068,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/foair/course-crawler'...\n","error":null,"commit":"3d8f055611119a9d9c46e17dd1b9c764603b5cb9"},"originalBuild":{"startTimestamp":1672486422865,"endTimestamp":1672486513639,"error":null,"stdout":"Sending build context to Docker daemon  164.9kB\r\r\nStep 1/6 : FROM python:alpine\nalpine: Pulling from library/python\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:alpine\n ---> 18ccdc39ea28\nStep 2/6 : WORKDIR /app\n ---> Running in a43541b9870a\nRemoving intermediate container a43541b9870a\n ---> 63fbf6dfe369\nStep 3/6 : RUN apk add --update --no-cache --virtual build_images g++ gcc libxslt-dev git &&     git clone https://github.com/Foair/course-crawler.git /app &&     pip install requests BeautifulSoup4 lxml -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com &&     apk del build_images &&     rm -rf /app/README.md /app/LICENSE\n ---> Running in d952df5280a9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/30) Installing libgcc (12.2.1_git20220924-r4)\n(2/30) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/30) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(4/30) Installing binutils (2.39-r2)\n(5/30) Installing libgomp (12.2.1_git20220924-r4)\n(6/30) Installing libatomic (12.2.1_git20220924-r4)\n(7/30) Installing gmp (6.2.1-r2)\n(8/30) Installing isl25 (0.25-r0)\n(9/30) Installing mpfr4 (4.1.0-r0)\n(10/30) Installing mpc1 (1.2.1-r1)\n(11/30) Installing gcc (12.2.1_git20220924-r4)\n(12/30) Installing musl-dev (1.2.3-r4)\n(13/30) Installing libc-dev (0.7.2-r3)\n(14/30) Installing g++ (12.2.1_git20220924-r4)\n(15/30) Installing libgpg-error (1.46-r1)\n(16/30) Installing libgcrypt (1.10.1-r0)\n(17/30) Installing libxml2 (2.10.3-r1)\n(18/30) Installing libxslt (1.1.37-r0)\n(19/30) Installing pkgconf (1.9.3-r0)\n(20/30) Installing zlib-dev (1.2.13-r0)\n(21/30) Installing xz-dev (5.2.9-r0)\n(22/30) Installing libxml2-utils (2.10.3-r1)\n(23/30) Installing libxml2-dev (2.10.3-r1)\n(24/30) Installing libxslt-dev (1.1.37-r0)\n(25/30) Installing brotli-libs (1.0.9-r9)\n(26/30) Installing nghttp2-libs (1.51.0-r0)\n(27/30) Installing libcurl (7.87.0-r0)\n(28/30) Installing pcre2 (10.42-r0)\n(29/30) Installing git (2.38.2-r0)\n(30/30) Installing build_images (20221231.113413)\nExecuting busybox-1.35.0-r29.trigger\nOK: 257 MiB in 67 packages\n\u001b[91mCloning into '/app'...\n\u001b[0mLooking in indexes: http://pypi.douban.com/simple/\nCollecting requests\n  Downloading http://pypi.doubanio.com/packages/ca/91/6d9b8ccacd0412c08820f72cebaa4f0c0441b5cda699c90f618b6f8a1b42/requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 201.0 kB/s eta 0:00:00\nCollecting BeautifulSoup4\n  Downloading http://pypi.doubanio.com/packages/9c/d8/909c4089dbe4ade9f9705f143c9f13f065049a9d5e7d34c828aefdd0a97c/beautifulsoup4-4.11.1-py3-none-any.whl (128 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.2/128.2 kB 447.0 kB/s eta 0:00:00\nCollecting lxml\n  Downloading http://pypi.doubanio.com/packages/f6/45/232a3be71587fc534c009147b36081eb9bebd3bf6e608aec84598325aa41/lxml-4.9.2-cp311-cp311-musllinux_1_1_x86_64.whl (7.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.8/7.8 MB 5.5 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading http://pypi.doubanio.com/packages/db/51/a507c856293ab05cdc1db77ff4bc1268ddd39f29e7dc4919aa497f0adbec/charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading http://pypi.doubanio.com/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 93.5 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading http://pypi.doubanio.com/packages/65/0c/cc6644eaa594585e5875f46f3c83ee8762b647b51fc5b0fb253a242df2dc/urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 62.6 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading http://pypi.doubanio.com/packages/71/4c/3db2b8021bd6f2f0ceb0e088d6b2d49147671f25832fb17970e9b583d742/certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 49.8 MB/s eta 0:00:00\nCollecting soupsieve>1.2\n  Downloading http://pypi.doubanio.com/packages/16/e3/4ad79882b92617e3a4a0df1960d6bce08edfb637737ac5c3f3ba29022e25/soupsieve-2.3.2.post1-py3-none-any.whl (37 kB)\nInstalling collected packages: urllib3, soupsieve, lxml, idna, charset-normalizer, certifi, requests, BeautifulSoup4\nSuccessfully installed BeautifulSoup4-4.11.1 certifi-2022.12.7 charset-normalizer-2.1.1 idna-3.4 lxml-4.9.2 requests-2.28.1 soupsieve-2.3.2.post1 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/30) Purging build_images (20221231.113413)\n(2/30) Purging g++ (12.2.1_git20220924-r4)\n(3/30) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(4/30) Purging libc-dev (0.7.2-r3)\n(5/30) Purging musl-dev (1.2.3-r4)\n(6/30) Purging gcc (12.2.1_git20220924-r4)\n(7/30) Purging binutils (2.39-r2)\n(8/30) Purging libatomic (12.2.1_git20220924-r4)\n(9/30) Purging libgomp (12.2.1_git20220924-r4)\n(10/30) Purging libxslt-dev (1.1.37-r0)\n(11/30) Purging libxslt (1.1.37-r0)\n(12/30) Purging git (2.38.2-r0)\n(13/30) Purging libstdc++ (12.2.1_git20220924-r4)\n(14/30) Purging libgcc (12.2.1_git20220924-r4)\n(15/30) Purging isl25 (0.25-r0)\n(16/30) Purging mpc1 (1.2.1-r1)\n(17/30) Purging mpfr4 (4.1.0-r0)\n(18/30) Purging gmp (6.2.1-r2)\n(19/30) Purging libgcrypt (1.10.1-r0)\n(20/30) Purging libgpg-error (1.46-r1)\n(21/30) Purging libxml2-dev (2.10.3-r1)\n(22/30) Purging zlib-dev (1.2.13-r0)\n(23/30) Purging xz-dev (5.2.9-r0)\n(24/30) Purging libxml2-utils (2.10.3-r1)\n(25/30) Purging libxml2 (2.10.3-r1)\n(26/30) Purging pkgconf (1.9.3-r0)\n(27/30) Purging libcurl (7.87.0-r0)\n(28/30) Purging brotli-libs (1.0.9-r9)\n(29/30) Purging nghttp2-libs (1.51.0-r0)\n(30/30) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 37 packages\nRemoving intermediate container d952df5280a9\n ---> 8905c1fec939\nStep 4/6 : COPY ./docker-entrypoint.sh /app\n ---> 32c3bcdd0016\nStep 5/6 : RUN chmod 777 ./docker-entrypoint.sh\n ---> Running in ed374e7fe42e\nRemoving intermediate container ed374e7fe42e\n ---> 37cfe1f0bc71\nStep 6/6 : ENTRYPOINT [\"./docker-entrypoint.sh\"]\n ---> Running in 63580229c122\nRemoving intermediate container 63580229c122\n ---> 114be623eaca\nSuccessfully built 114be623eaca\nSuccessfully tagged course-crawler:latest\n","stderr":"","imageSize":88205089},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":4,"columnEnd":109}}],"repairedDockerfile":"FROM python:alpine\n\nWORKDIR /app\n\n\nRUN apk add --update --no-cache --virtual build_images g++ gcc libxslt-dev git && \\\n    git clone https://github.com/Foair/course-crawler.git /app && \\\n    pip install --no-cache-dir requests BeautifulSoup4 lxml -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com && \\\n    apk del build_images && \\\n    rm -rf /app/README.md /app/LICENSE\n\nCOPY ./docker-entrypoint.sh /app\n\nRUN chmod 777 ./docker-entrypoint.sh\n\nENTRYPOINT [\"./docker-entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672486520596,"endTimestamp":1672486626746,"error":null,"stdout":"Sending build context to Docker daemon  164.9kB\r\r\nStep 1/6 : FROM python:alpine\n ---> 18ccdc39ea28\nStep 2/6 : WORKDIR /app\n ---> Running in 32929d8c45b9\nRemoving intermediate container 32929d8c45b9\n ---> 810b0f6993ce\nStep 3/6 : RUN apk add --update --no-cache --virtual build_images g++ gcc libxslt-dev git &&     git clone https://github.com/Foair/course-crawler.git /app &&     pip install --no-cache-dir requests BeautifulSoup4 lxml -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com &&     apk del build_images &&     rm -rf /app/README.md /app/LICENSE\n ---> Running in bb5238225b83\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/30) Installing libgcc (12.2.1_git20220924-r4)\n(2/30) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/30) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(4/30) Installing binutils (2.39-r2)\n(5/30) Installing libgomp (12.2.1_git20220924-r4)\n(6/30) Installing libatomic (12.2.1_git20220924-r4)\n(7/30) Installing gmp (6.2.1-r2)\n(8/30) Installing isl25 (0.25-r0)\n(9/30) Installing mpfr4 (4.1.0-r0)\n(10/30) Installing mpc1 (1.2.1-r1)\n(11/30) Installing gcc (12.2.1_git20220924-r4)\n(12/30) Installing musl-dev (1.2.3-r4)\n(13/30) Installing libc-dev (0.7.2-r3)\n(14/30) Installing g++ (12.2.1_git20220924-r4)\n(15/30) Installing libgpg-error (1.46-r1)\n(16/30) Installing libgcrypt (1.10.1-r0)\n(17/30) Installing libxml2 (2.10.3-r1)\n(18/30) Installing libxslt (1.1.37-r0)\n(19/30) Installing pkgconf (1.9.3-r0)\n(20/30) Installing zlib-dev (1.2.13-r0)\n(21/30) Installing xz-dev (5.2.9-r0)\n(22/30) Installing libxml2-utils (2.10.3-r1)\n(23/30) Installing libxml2-dev (2.10.3-r1)\n(24/30) Installing libxslt-dev (1.1.37-r0)\n(25/30) Installing brotli-libs (1.0.9-r9)\n(26/30) Installing nghttp2-libs (1.51.0-r0)\n(27/30) Installing libcurl (7.87.0-r0)\n(28/30) Installing pcre2 (10.42-r0)\n(29/30) Installing git (2.38.2-r0)\n(30/30) Installing build_images (20221231.113551)\nExecuting busybox-1.35.0-r29.trigger\nOK: 257 MiB in 67 packages\n\u001b[91mCloning into '/app'...\n\u001b[0mLooking in indexes: http://pypi.douban.com/simple/\nCollecting requests\n  Downloading http://pypi.doubanio.com/packages/ca/91/6d9b8ccacd0412c08820f72cebaa4f0c0441b5cda699c90f618b6f8a1b42/requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 107.7 MB/s eta 0:00:00\nCollecting BeautifulSoup4\n  Downloading http://pypi.doubanio.com/packages/9c/d8/909c4089dbe4ade9f9705f143c9f13f065049a9d5e7d34c828aefdd0a97c/beautifulsoup4-4.11.1-py3-none-any.whl (128 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.2/128.2 kB 426.8 kB/s eta 0:00:00\nCollecting lxml\n  Downloading http://pypi.doubanio.com/packages/f6/45/232a3be71587fc534c009147b36081eb9bebd3bf6e608aec84598325aa41/lxml-4.9.2-cp311-cp311-musllinux_1_1_x86_64.whl (7.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.8/7.8 MB 5.6 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading http://pypi.doubanio.com/packages/db/51/a507c856293ab05cdc1db77ff4bc1268ddd39f29e7dc4919aa497f0adbec/charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading http://pypi.doubanio.com/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 112.0 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading http://pypi.doubanio.com/packages/65/0c/cc6644eaa594585e5875f46f3c83ee8762b647b51fc5b0fb253a242df2dc/urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 125.6 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading http://pypi.doubanio.com/packages/71/4c/3db2b8021bd6f2f0ceb0e088d6b2d49147671f25832fb17970e9b583d742/certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 156.1 MB/s eta 0:00:00\nCollecting soupsieve>1.2\n  Downloading http://pypi.doubanio.com/packages/16/e3/4ad79882b92617e3a4a0df1960d6bce08edfb637737ac5c3f3ba29022e25/soupsieve-2.3.2.post1-py3-none-any.whl (37 kB)\nInstalling collected packages: urllib3, soupsieve, lxml, idna, charset-normalizer, certifi, requests, BeautifulSoup4\nSuccessfully installed BeautifulSoup4-4.11.1 certifi-2022.12.7 charset-normalizer-2.1.1 idna-3.4 lxml-4.9.2 requests-2.28.1 soupsieve-2.3.2.post1 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/30) Purging build_images (20221231.113551)\n(2/30) Purging g++ (12.2.1_git20220924-r4)\n(3/30) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(4/30) Purging libc-dev (0.7.2-r3)\n(5/30) Purging musl-dev (1.2.3-r4)\n(6/30) Purging gcc (12.2.1_git20220924-r4)\n(7/30) Purging binutils (2.39-r2)\n(8/30) Purging libatomic (12.2.1_git20220924-r4)\n(9/30) Purging libgomp (12.2.1_git20220924-r4)\n(10/30) Purging libxslt-dev (1.1.37-r0)\n(11/30) Purging libxslt (1.1.37-r0)\n(12/30) Purging git (2.38.2-r0)\n(13/30) Purging libstdc++ (12.2.1_git20220924-r4)\n(14/30) Purging libgcc (12.2.1_git20220924-r4)\n(15/30) Purging isl25 (0.25-r0)\n(16/30) Purging mpc1 (1.2.1-r1)\n(17/30) Purging mpfr4 (4.1.0-r0)\n(18/30) Purging gmp (6.2.1-r2)\n(19/30) Purging libgcrypt (1.10.1-r0)\n(20/30) Purging libgpg-error (1.46-r1)\n(21/30) Purging libxml2-dev (2.10.3-r1)\n(22/30) Purging zlib-dev (1.2.13-r0)\n(23/30) Purging xz-dev (5.2.9-r0)\n(24/30) Purging libxml2-utils (2.10.3-r1)\n(25/30) Purging libxml2 (2.10.3-r1)\n(26/30) Purging pkgconf (1.9.3-r0)\n(27/30) Purging libcurl (7.87.0-r0)\n(28/30) Purging brotli-libs (1.0.9-r9)\n(29/30) Purging nghttp2-libs (1.51.0-r0)\n(30/30) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 37 packages\nRemoving intermediate container bb5238225b83\n ---> 15a1f09fb198\nStep 4/6 : COPY ./docker-entrypoint.sh /app\n ---> 08fb033efe60\nStep 5/6 : RUN chmod 777 ./docker-entrypoint.sh\n ---> Running in d06251014112\nRemoving intermediate container d06251014112\n ---> 371eb3a77a87\nStep 6/6 : ENTRYPOINT [\"./docker-entrypoint.sh\"]\n ---> Running in cc231468e8a1\nRemoving intermediate container cc231468e8a1\n ---> d2d43b5dd24c\nSuccessfully built d2d43b5dd24c\nSuccessfully tagged course-crawler:latest\n","stderr":"","imageSize":88202397},"endTime":1672486628000}