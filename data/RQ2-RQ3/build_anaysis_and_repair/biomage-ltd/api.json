{"repository":"https://github.com/biomage-ltd/api","dockerfilePath":"Dockerfile","startTime":1672525690357,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/biomage-ltd/api'...\n","error":null,"commit":"82d623cece9ee133180fbee1734a9119e10f584d"},"originalBuild":{"startTimestamp":1672525691361,"endTimestamp":1672525939941,"error":null,"stdout":"Sending build context to Docker daemon  2.179MB\r\r\nStep 1/12 : FROM node:14.18.1-alpine\n14.18.1-alpine: Pulling from library/node\n97518928ae5f: Pulling fs layer\nc7746cfd346e: Pulling fs layer\nd06092bf767c: Pulling fs layer\ndc1629f1d922: Pulling fs layer\ndc1629f1d922: Waiting\n97518928ae5f: Verifying Checksum\nd06092bf767c: Verifying Checksum\nd06092bf767c: Download complete\ndc1629f1d922: Verifying Checksum\ndc1629f1d922: Download complete\nc7746cfd346e: Verifying Checksum\nc7746cfd346e: Download complete\n97518928ae5f: Pull complete\nc7746cfd346e: Pull complete\nd06092bf767c: Pull complete\ndc1629f1d922: Pull complete\nDigest: sha256:240e1e6ef6dfba3bb70d6e88cca6cbb0b5a6f3a2b4496ed7edc5474e8ed594bd\nStatus: Downloaded newer image for node:14.18.1-alpine\n ---> f7229193551e\nStep 2/12 : WORKDIR /app\n ---> Running in 06044d6f1fda\nRemoving intermediate container 06044d6f1fda\n ---> 160987875406\nStep 3/12 : ENV PATH /app/node_modules/.bin:$PATH\n ---> Running in 94319993ed04\nRemoving intermediate container 94319993ed04\n ---> d905c1e48dd7\nStep 4/12 : COPY package.json package-lock.json ./\n ---> c63218e9f9e6\nStep 5/12 : RUN npm ci --only=production\n ---> Running in 1fd73763ba7b\n\n> core-js-pure@3.21.1 postinstall /app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-jq@2.3.3 postinstall /app/node_modules/node-jq\n> npm run install-binary\n\n\n> node-jq@2.3.3 install-binary /app/node_modules/node-jq\n> node scripts/install-binary.js\n\nDownloading jq from https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\nDownloaded in /app/node_modules/node-jq/bin\n\n> core-js@2.6.12 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /app/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\nadded 881 packages in 10.649s\nRemoving intermediate container 1fd73763ba7b\n ---> 7db0c3e1ef3c\nStep 6/12 : RUN apk add --no-cache bash curl openssl\n ---> Running in dfb15a9be6de\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/10) Installing ncurses-libs (6.2_p20210612-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing ca-certificates (20220614-r0)\n(6/10) Installing brotli-libs (1.0.9-r5)\n(7/10) Installing nghttp2-libs (1.43.0-r0)\n(8/10) Installing libcurl (7.79.1-r4)\n(9/10) Installing curl (7.79.1-r4)\n(10/10) Installing openssl (1.1.1s-r0)\nExecuting busybox-1.33.1-r6.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 13 MiB in 26 packages\nRemoving intermediate container dfb15a9be6de\n ---> a435fb25ece7\nStep 7/12 : RUN curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n ---> Running in cd7fd49ccb3f\n\u001b[91m  % Total    % Received % Xferd \u001b[0m\u001b[91m Average Speed   Time    Time  \u001b[0m\u001b[91m   T\u001b[0m\u001b[91mime  C\u001b[0m\u001b[91murrent\n\u001b[0m\u001b[91m          \u001b[0m\u001b[91m             \u001b[0m\u001b[91m    \u001b[0m\u001b[91m      \u001b[0m\u001b[91mDloa\u001b[0m\u001b[91md  Up\u001b[0m\u001b[91mload   Tot\u001b[0m\u001b[91mal   \u001b[0m\u001b[91mSpent    \u001b[0m\u001b[91mLeft  Speed\n\r  0\u001b[0m\u001b[91m     0    \u001b[0m\u001b[91m0     0    0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0  \u001b[0m\u001b[91m    0      0 --:--:-- --:\u001b[0m\u001b[91m--:-- --:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91m\r100 11345  100 11345    0     0  77325    \u001b[0m\u001b[91m  0 --:--:-- --\u001b[0m\u001b[91m:--:-- --\u001b[0m\u001b[91m:--:-- 77705\n\u001b[0m[WARNING] Could not find git. It is required for plugin installation.\nDownloading https://get.helm.sh/helm-v3.10.3-linux-amd64.tar.gz\nVerifying checksum... Done.\nPreparing to install helm into /usr/local/bin\nhelm installed into /usr/local/bin/helm\nRemoving intermediate container cd7fd49ccb3f\n ---> e53da3da9c01\nStep 8/12 : ARG READONLY_API_TOKEN_GITHUB\n ---> Running in 058c513f0b3d\nRemoving intermediate container 058c513f0b3d\n ---> 3ea27a680643\nStep 9/12 : RUN echo \"READONLY_API_TOKEN_GITHUB=$READONLY_API_TOKEN_GITHUB\" > .env\n ---> Running in 01ec5d617f33\nRemoving intermediate container 01ec5d617f33\n ---> f81da13cdbb7\nStep 10/12 : COPY . ./\n ---> 79212e8b2bf2\nStep 11/12 : EXPOSE 3000\n ---> Running in 37f7d99d4449\nRemoving intermediate container 37f7d99d4449\n ---> b7ca450f31de\nStep 12/12 : CMD [\"npm\", \"start\"]\n ---> Running in 195732afb00e\nRemoving intermediate container 195732afb00e\n ---> 8bdcfb45fbae\nSuccessfully built 8bdcfb45fbae\nSuccessfully tagged api:latest\n","stderr":"","imageSize":362338999},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":15,"end":15,"columnStart":4,"columnEnd":78}}],"repairedDockerfile":"# pull official base image\nFROM node:14.18.1-alpine\n\n# set working directory\nWORKDIR /app\n\n# add `/app/node_modules/.bin` to $PATH\nENV PATH /app/node_modules/.bin:$PATH\n\n# install app dependencies\nCOPY package.json package-lock.json ./\nRUN npm ci --only=production\n\n# Install Helm\nRUN apk add --no-cache bash curl openssl\nRUN curl -f https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n\n# add app\nARG READONLY_API_TOKEN_GITHUB\nRUN echo \"READONLY_API_TOKEN_GITHUB=$READONLY_API_TOKEN_GITHUB\" > .env\nCOPY . ./\n\n# run\nEXPOSE 3000\nCMD [\"npm\", \"start\"]"},"repairedBuild":{"startTimestamp":1672525962194,"endTimestamp":1672526186335,"error":null,"stdout":"Sending build context to Docker daemon  2.179MB\r\r\nStep 1/12 : FROM node:14.18.1-alpine\n ---> f7229193551e\nStep 2/12 : WORKDIR /app\n ---> Running in 85cd4c20a5ba\nRemoving intermediate container 85cd4c20a5ba\n ---> 623b84e86277\nStep 3/12 : ENV PATH /app/node_modules/.bin:$PATH\n ---> Running in d95820982d4c\nRemoving intermediate container d95820982d4c\n ---> b5fbed50f7e5\nStep 4/12 : COPY package.json package-lock.json ./\n ---> 36b6fc541b39\nStep 5/12 : RUN npm ci --only=production\n ---> Running in e5f64b2a6e9a\n\n> core-js-pure@3.21.1 postinstall /app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m https://paypal.me/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-jq@2.3.3 postinstall /app/node_modules/node-jq\n> npm run install-binary\n\n\n> node-jq@2.3.3 install-binary /app/node_modules/node-jq\n> node scripts/install-binary.js\n\nDownloading jq from https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64\nDownloaded in /app/node_modules/node-jq/bin\n\n> core-js@2.6.12 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> fsevents@1.2.13 install /app/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\nadded 881 packages in 11.362s\nRemoving intermediate container e5f64b2a6e9a\n ---> 3e14786704e0\nStep 6/12 : RUN apk add --no-cache bash curl openssl\n ---> Running in c3950d914d8d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/10) Installing ncurses-libs (6.2_p20210612-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing ca-certificates (20220614-r0)\n(6/10) Installing brotli-libs (1.0.9-r5)\n(7/10) Installing nghttp2-libs (1.43.0-r0)\n(8/10) Installing libcurl (7.79.1-r4)\n(9/10) Installing curl (7.79.1-r4)\n(10/10) Installing openssl (1.1.1s-r0)\nExecuting busybox-1.33.1-r6.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 13 MiB in 26 packages\nRemoving intermediate container c3950d914d8d\n ---> c9aab4c7f85f\nStep 7/12 : RUN curl -f https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n ---> Running in 0bfca7091862\n\u001b[91m  % Total    % Received % \u001b[0m\u001b[91mXf\u001b[0m\u001b[91merd  Average Speed   Time    Time     Time  \u001b[0m\u001b[91mCurrent\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r100 11345  100 11345    0     0  91087      0 --:--:-- --:--:-- --:--:-- 914\u001b[0m\u001b[91m91\n\u001b[0m[WARNING] Could not find git. It is required for plugin installation.\nDownloading https://get.helm.sh/helm-v3.10.3-linux-amd64.tar.gz\nVerifying checksum... Done.\nPreparing to install helm into /usr/local/bin\nhelm installed into /usr/local/bin/helm\nRemoving intermediate container 0bfca7091862\n ---> 20f5ec271922\nStep 8/12 : ARG READONLY_API_TOKEN_GITHUB\n ---> Running in 4375cd2861ea\nRemoving intermediate container 4375cd2861ea\n ---> 9b82e7221b3b\nStep 9/12 : RUN echo \"READONLY_API_TOKEN_GITHUB=$READONLY_API_TOKEN_GITHUB\" > .env\n ---> Running in 9d1df1cc24cc\nRemoving intermediate container 9d1df1cc24cc\n ---> 96dfbe882f3d\nStep 10/12 : COPY . ./\n ---> ab0d2b4ca539\nStep 11/12 : EXPOSE 3000\n ---> Running in a02ab294a89c\nRemoving intermediate container a02ab294a89c\n ---> e9fcd0272e57\nStep 12/12 : CMD [\"npm\", \"start\"]\n ---> Running in 9049ef162269\nRemoving intermediate container 9049ef162269\n ---> 044ded4f5eaa\nSuccessfully built 044ded4f5eaa\nSuccessfully tagged api:latest\n","stderr":"","imageSize":362337934},"endTime":1672526192282}