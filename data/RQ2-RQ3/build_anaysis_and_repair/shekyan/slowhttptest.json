{"repository":"https://github.com/shekyan/slowhttptest","dockerfilePath":"Dockerfile","startTime":1673013115750,"endTime":1673013416122,"clone":{"startTime":1673013115750,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/shekyan/slowhttptest'...\n","error":null,"endTime":1673013116569,"commit":"8e5cd7ebe19789678a15725a7543962e93e3eb01"},"originalBuild":{"startTime":1673013116652,"endTime":1673013243448,"error":null,"stdout":"Sending build context to Docker daemon  855.6kB\r\r\nStep 1/9 : FROM alpine:3.9 as builder\n3.9: Pulling from library/alpine\n31603596830f: Already exists\nDigest: sha256:414e0518bb9228d35e4cd5165567fb91d26c6a214e9c95899e1e056fcd349011\nStatus: Downloaded newer image for alpine:3.9\n ---> 78a2ce922f86\nStep 2/9 : RUN apk add --no-cache build-base git openssl-dev autoconf automake\n ---> Running in 817e0a7faffb\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/36) Upgrading musl (1.1.20-r5 -> 1.1.20-r6)\n(2/36) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/36) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(4/36) Installing m4 (1.4.18-r1)\n(5/36) Installing libbz2 (1.0.6-r7)\n(6/36) Installing perl (5.26.3-r1)\n(7/36) Installing autoconf (2.69-r2)\n(8/36) Installing automake (1.16.1-r0)\n(9/36) Installing binutils (2.31.1-r2)\n(10/36) Installing libmagic (5.36-r1)\n(11/36) Installing file (5.36-r1)\n(12/36) Installing gmp (6.1.2-r1)\n(13/36) Installing isl (0.18-r0)\n(14/36) Installing libgomp (8.3.0-r0)\n(15/36) Installing libatomic (8.3.0-r0)\n(16/36) Installing libgcc (8.3.0-r0)\n(17/36) Installing mpfr3 (3.1.5-r1)\n(18/36) Installing mpc1 (1.0.3-r1)\n(19/36) Installing libstdc++ (8.3.0-r0)\n(20/36) Installing gcc (8.3.0-r0)\n(21/36) Installing musl-dev (1.1.20-r6)\n(22/36) Installing libc-dev (0.7.1-r0)\n(23/36) Installing g++ (8.3.0-r0)\n(24/36) Installing make (4.2.1-r2)\n(25/36) Installing fortify-headers (1.0-r0)\n(26/36) Installing build-base (0.5-r1)\n(27/36) Installing ca-certificates (20191127-r2)\n(28/36) Installing nghttp2-libs (1.35.1-r2)\n(29/36) Installing libssh2 (1.9.0-r1)\n(30/36) Installing libcurl (7.64.0-r5)\n(31/36) Installing expat (2.2.8-r0)\n(32/36) Installing pcre2 (10.32-r1)\n(33/36) Installing git (2.20.4-r0)\n(34/36) Upgrading musl-utils (1.1.20-r5 -> 1.1.20-r6)\n(35/36) Installing pkgconf (1.6.0-r0)\n(36/36) Installing openssl-dev (1.1.1k-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 239 MiB in 46 packages\nRemoving intermediate container 817e0a7faffb\n ---> ab6210b214e6\nStep 3/9 : WORKDIR /build\n ---> Running in 1baeb4f1e210\nRemoving intermediate container 1baeb4f1e210\n ---> 85d75e87a786\nStep 4/9 : COPY . /build\n ---> 53c5b5cb247a\nStep 5/9 : RUN ./configure && make\n ---> Running in 935697637ea8\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a race-free mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking for g++... g++\nchecking whether the C++ compiler works... yes\nchecking for C++ compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether the compiler supports GNU C++... yes\nchecking whether g++ accepts -g... yes\nchecking for g++ option to enable C++11 features... none needed\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of g++... gcc3\nchecking for gcc... gcc\nchecking whether the compiler supports GNU C... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to enable C11 features... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking dependency style of gcc... gcc3\nchecking whether g++ supports C++11 features by default... yes\nchecking for SSL_new in -lssl... yes\nchecking for stdio.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for strings.h... yes\nchecking for sys/stat.h... yes\nchecking for sys/types.h... yes\nchecking for unistd.h... yes\nchecking for sys/time.h... yes\nchecking for sys/select.h... yes\nchecking for sys/socket.h... yes\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for fcntl.h... yes\nchecking for limits.h... yes\nchecking for netdb.h... yes\nchecking for netinet/in.h... yes\nchecking for stdlib.h... (cached) yes\nchecking for string.h... (cached) yes\nchecking for sys/socket.h... (cached) yes\nchecking for sys/time.h... (cached) yes\nchecking for unistd.h... (cached) yes\nchecking for _Bool... yes\nchecking for stdbool.h that conforms to C99... yes\nchecking for an ANSI C-conforming const... yes\nchecking for size_t... yes\nchecking types of arguments for select... int,fd_set *,struct timeval *\nchecking for vprintf... yes\nchecking for atexit... yes\nchecking for gettimeofday... yes\nchecking for poll... yes\nchecking for select... yes\nchecking for socket... yes\nchecking for strerror... yes\nchecking for strstr... yes\nchecking for strtol... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating man/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nmake  all-recursive\nmake[1]: Entering directory '/build'\nMaking all in src\nmake[2]: Entering directory '/build/src'\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowhttptestmain.o -MD -MP -MF .deps/slowhttptestmain.Tpo -c -o slowhttptestmain.o slowhttptestmain.cc\nmv -f .deps/slowhttptestmain.Tpo .deps/slowhttptestmain.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowhttptest.o -MD -MP -MF .deps/slowhttptest.Tpo -c -o slowhttptest.o slowhttptest.cc\n\u001b[91mIn file included from slowhttptest.cc:40:\n/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]\n #warning redirecting incorrect #include <sys/poll.h> to <poll.h>\n  ^~~~~~~\n\u001b[0mmv -f .deps/slowhttptest.Tpo .deps/slowhttptest.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowsocket.o -MD -MP -MF .deps/slowsocket.Tpo -c -o slowsocket.o slowsocket.cc\nmv -f .deps/slowsocket.Tpo .deps/slowsocket.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowstats.o -MD -MP -MF .deps/slowstats.Tpo -c -o slowstats.o slowstats.cc\nmv -f .deps/slowstats.Tpo .deps/slowstats.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowurl.o -MD -MP -MF .deps/slowurl.Tpo -c -o slowurl.o slowurl.cc\nmv -f .deps/slowurl.Tpo .deps/slowurl.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowlog.o -MD -MP -MF .deps/slowlog.Tpo -c -o slowlog.o slowlog.cc\nmv -f .deps/slowlog.Tpo .deps/slowlog.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT text-generator.o -MD -MP -MF .deps/text-generator.Tpo -c -o text-generator.o text-generator.cc\nmv -f .deps/text-generator.Tpo .deps/text-generator.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT range-generator.o -MD -MP -MF .deps/range-generator.Tpo -c -o range-generator.o range-generator.cc\nmv -f .deps/range-generator.Tpo .deps/range-generator.Po\ng++  -g -O2  -L/usr/local/opt/openssl/lib -L/usr/local/lib -lssl -o slowhttptest slowhttptestmain.o slowhttptest.o slowsocket.o slowstats.o slowurl.o slowlog.o text-generator.o range-generator.o  -lssl \nmake[2]: Leaving directory '/build/src'\nMaking all in man\nmake[2]: Entering directory '/build/man'\nmake[2]: Nothing to be done for 'all'.\nmake[2]: Leaving directory '/build/man'\nmake[2]: Entering directory '/build'\nmake[2]: Leaving directory '/build'\nmake[1]: Leaving directory '/build'\nRemoving intermediate container 935697637ea8\n ---> 8edf4ed33289\nStep 6/9 : FROM alpine:3.9\n ---> 78a2ce922f86\nStep 7/9 : RUN apk add --no-cache libstdc++\n ---> Running in 3a4ebff1d842\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing libgcc (8.3.0-r0)\n(2/2) Installing libstdc++ (8.3.0-r0)\nOK: 7 MiB in 16 packages\nRemoving intermediate container 3a4ebff1d842\n ---> 221c0744495f\nStep 8/9 : COPY --from=builder /build/src/slowhttptest /usr/local/bin/\n ---> 02d225f13d17\nStep 9/9 : ENTRYPOINT [\"slowhttptest\"]\n ---> Running in b304c6d5447b\nRemoving intermediate container b304c6d5447b\n ---> 38bc86cbf503\nSuccessfully built 38bc86cbf503\nSuccessfully tagged slowhttptest:latest\n","stderr":"","imageSize":7862445},"repair":{"startTime":1673013243516,"endTime":1673013243560,"violations":[{"name":"configureShouldUseBuildFlag","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM alpine:3.9 as builder\n\nRUN apk add --no-cache build-base git openssl-dev autoconf automake\nWORKDIR /build\nCOPY . /build\nRUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make\n\n\nFROM alpine:3.9\nRUN apk add --no-cache libstdc++\nCOPY --from=builder /build/src/slowhttptest /usr/local/bin/\nENTRYPOINT [\"slowhttptest\"]\n"},"repairedBuild":{"startTime":1673013332554,"endTime":1673013415877,"error":null,"stdout":"Sending build context to Docker daemon  855.6kB\r\r\nStep 1/9 : FROM alpine:3.9 as builder\n ---> 78a2ce922f86\nStep 2/9 : RUN apk add --no-cache build-base git openssl-dev autoconf automake\n ---> Running in 32f246688a15\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/36) Upgrading musl (1.1.20-r5 -> 1.1.20-r6)\n(2/36) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/36) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(4/36) Installing m4 (1.4.18-r1)\n(5/36) Installing libbz2 (1.0.6-r7)\n(6/36) Installing perl (5.26.3-r1)\n(7/36) Installing autoconf (2.69-r2)\n(8/36) Installing automake (1.16.1-r0)\n(9/36) Installing binutils (2.31.1-r2)\n(10/36) Installing libmagic (5.36-r1)\n(11/36) Installing file (5.36-r1)\n(12/36) Installing gmp (6.1.2-r1)\n(13/36) Installing isl (0.18-r0)\n(14/36) Installing libgomp (8.3.0-r0)\n(15/36) Installing libatomic (8.3.0-r0)\n(16/36) Installing libgcc (8.3.0-r0)\n(17/36) Installing mpfr3 (3.1.5-r1)\n(18/36) Installing mpc1 (1.0.3-r1)\n(19/36) Installing libstdc++ (8.3.0-r0)\n(20/36) Installing gcc (8.3.0-r0)\n(21/36) Installing musl-dev (1.1.20-r6)\n(22/36) Installing libc-dev (0.7.1-r0)\n(23/36) Installing g++ (8.3.0-r0)\n(24/36) Installing make (4.2.1-r2)\n(25/36) Installing fortify-headers (1.0-r0)\n(26/36) Installing build-base (0.5-r1)\n(27/36) Installing ca-certificates (20191127-r2)\n(28/36) Installing nghttp2-libs (1.35.1-r2)\n(29/36) Installing libssh2 (1.9.0-r1)\n(30/36) Installing libcurl (7.64.0-r5)\n(31/36) Installing expat (2.2.8-r0)\n(32/36) Installing pcre2 (10.32-r1)\n(33/36) Installing git (2.20.4-r0)\n(34/36) Upgrading musl-utils (1.1.20-r5 -> 1.1.20-r6)\n(35/36) Installing pkgconf (1.6.0-r0)\n(36/36) Installing openssl-dev (1.1.1k-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 239 MiB in 46 packages\nRemoving intermediate container 32f246688a15\n ---> 8309d963e4ac\nStep 3/9 : WORKDIR /build\n ---> Running in 20431388a4e6\nRemoving intermediate container 20431388a4e6\n ---> 0157b21f22ef\nStep 4/9 : COPY . /build\n ---> de8b26f064f5\nStep 5/9 : RUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make\n ---> Running in cae558afab7a\n\u001b[91m/bin/sh: dpkg-architecture: not found\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a race-free mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking for g++... g++\nchecking whether the C++ compiler works... yes\nchecking for C++ compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether the compiler supports GNU C++... yes\nchecking whether g++ accepts -g... yes\nchecking for g++ option to enable C++11 features... none needed\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of g++... gcc3\nchecking for gcc... gcc\nchecking whether the compiler supports GNU C... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to enable C11 features... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking dependency style of gcc... gcc3\nchecking whether g++ supports C++11 features by default... yes\nchecking for SSL_new in -lssl... yes\nchecking for stdio.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for strings.h... yes\nchecking for sys/stat.h... yes\nchecking for sys/types.h... yes\nchecking for unistd.h... yes\nchecking for sys/time.h... yes\nchecking for sys/select.h... yes\nchecking for sys/socket.h... yes\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for fcntl.h... yes\nchecking for limits.h... yes\nchecking for netdb.h... yes\nchecking for netinet/in.h... yes\nchecking for stdlib.h... (cached) yes\nchecking for string.h... (cached) yes\nchecking for sys/socket.h... (cached) yes\nchecking for sys/time.h... (cached) yes\nchecking for unistd.h... (cached) yes\nchecking for _Bool... yes\nchecking for stdbool.h that conforms to C99... yes\nchecking for an ANSI C-conforming const... yes\nchecking for size_t... yes\nchecking types of arguments for select... int,fd_set *,struct timeval *\nchecking for vprintf... yes\nchecking for atexit... yes\nchecking for gettimeofday... yes\nchecking for poll... yes\nchecking for select... yes\nchecking for socket... yes\nchecking for strerror... yes\nchecking for strstr... yes\nchecking for strtol... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating man/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nmake  all-recursive\nmake[1]: Entering directory '/build'\nMaking all in src\nmake[2]: Entering directory '/build/src'\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowhttptestmain.o -MD -MP -MF .deps/slowhttptestmain.Tpo -c -o slowhttptestmain.o slowhttptestmain.cc\nmv -f .deps/slowhttptestmain.Tpo .deps/slowhttptestmain.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowhttptest.o -MD -MP -MF .deps/slowhttptest.Tpo -c -o slowhttptest.o slowhttptest.cc\n\u001b[91mIn file included from slowhttptest.cc:40:\n/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]\n #warning redirecting incorrect #include <sys/poll.h> to <poll.h>\n  ^~~~~~~\n\u001b[0mmv -f .deps/slowhttptest.Tpo .deps/slowhttptest.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowsocket.o -MD -MP -MF .deps/slowsocket.Tpo -c -o slowsocket.o slowsocket.cc\nmv -f .deps/slowsocket.Tpo .deps/slowsocket.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowstats.o -MD -MP -MF .deps/slowstats.Tpo -c -o slowstats.o slowstats.cc\nmv -f .deps/slowstats.Tpo .deps/slowstats.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowurl.o -MD -MP -MF .deps/slowurl.Tpo -c -o slowurl.o slowurl.cc\nmv -f .deps/slowurl.Tpo .deps/slowurl.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT slowlog.o -MD -MP -MF .deps/slowlog.Tpo -c -o slowlog.o slowlog.cc\nmv -f .deps/slowlog.Tpo .deps/slowlog.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT text-generator.o -MD -MP -MF .deps/text-generator.Tpo -c -o text-generator.o text-generator.cc\nmv -f .deps/text-generator.Tpo .deps/text-generator.Po\ng++ -DHAVE_CONFIG_H -I. -I..   -I/usr/local/opt/openssl/include  -g -O2 -MT range-generator.o -MD -MP -MF .deps/range-generator.Tpo -c -o range-generator.o range-generator.cc\nmv -f .deps/range-generator.Tpo .deps/range-generator.Po\ng++  -g -O2  -L/usr/local/opt/openssl/lib -L/usr/local/lib -lssl -o slowhttptest slowhttptestmain.o slowhttptest.o slowsocket.o slowstats.o slowurl.o slowlog.o text-generator.o range-generator.o  -lssl \nmake[2]: Leaving directory '/build/src'\nMaking all in man\nmake[2]: Entering directory '/build/man'\nmake[2]: Nothing to be done for 'all'.\nmake[2]: Leaving directory '/build/man'\nmake[2]: Entering directory '/build'\nmake[2]: Leaving directory '/build'\nmake[1]: Leaving directory '/build'\nRemoving intermediate container cae558afab7a\n ---> 213bf9322f68\nStep 6/9 : FROM alpine:3.9\n ---> 78a2ce922f86\nStep 7/9 : RUN apk add --no-cache libstdc++\n ---> Running in 451874fe4b10\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing libgcc (8.3.0-r0)\n(2/2) Installing libstdc++ (8.3.0-r0)\nOK: 7 MiB in 16 packages\nRemoving intermediate container 451874fe4b10\n ---> c6d119dde018\nStep 8/9 : COPY --from=builder /build/src/slowhttptest /usr/local/bin/\n ---> ae7cd98c3419\nStep 9/9 : ENTRYPOINT [\"slowhttptest\"]\n ---> Running in 87f252110f8e\nRemoving intermediate container 87f252110f8e\n ---> a50591857ac9\nSuccessfully built a50591857ac9\nSuccessfully tagged slowhttptest:latest\n","stderr":"","imageSize":7862445}}