{"repository":"https://github.com/horahoradev/horahora","dockerfilePath":"Dockerfile","startTime":1672153513024,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/horahoradev/horahora'...\n","error":null,"commit":"d68de7ad3d92200e4d529a001fef048f9a3f9f49"},"originalBuild":{"startTimestamp":1672153515551,"endTimestamp":1672153645106,"error":null,"stdout":"Sending build context to Docker daemon   36.1MB\r\r\nStep 1/7 : FROM golang:1.17\n1.17: Pulling from library/golang\nd836772a1c1f: Pulling fs layer\n66a9e63c657a: Pulling fs layer\nd1989b6e74cf: Pulling fs layer\nc28818711e1e: Pulling fs layer\n9d6246ba248c: Pulling fs layer\n21d43f0d73c2: Pulling fs layer\nd8a1c5873f40: Pulling fs layer\nd8a1c5873f40: Waiting\n21d43f0d73c2: Waiting\nc28818711e1e: Waiting\n9d6246ba248c: Waiting\n66a9e63c657a: Verifying Checksum\n66a9e63c657a: Download complete\nd1989b6e74cf: Verifying Checksum\nd1989b6e74cf: Download complete\nd836772a1c1f: Download complete\nc28818711e1e: Verifying Checksum\nc28818711e1e: Download complete\nd8a1c5873f40: Verifying Checksum\nd8a1c5873f40: Download complete\n9d6246ba248c: Verifying Checksum\n9d6246ba248c: Download complete\n21d43f0d73c2: Verifying Checksum\n21d43f0d73c2: Download complete\nd836772a1c1f: Pull complete\n66a9e63c657a: Pull complete\nd1989b6e74cf: Pull complete\nc28818711e1e: Pull complete\n9d6246ba248c: Pull complete\n21d43f0d73c2: Pull complete\nd8a1c5873f40: Pull complete\nDigest: sha256:87262e4a4c7db56158a80a18fefdc4fee5accc41b59cde821e691d05541bbb18\nStatus: Downloaded newer image for golang:1.17\n ---> 742df529b073\nStep 2/7 : RUN apt-get update &&     apt install -y protobuf-compiler &&     go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.26 &&     go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.1\n ---> Running in 0dc2c44602c3\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (5772 kB/s)\nReading package lists...\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libprotobuf-dev libprotobuf-lite23 libprotobuf23 libprotoc23 zlib1g\n  zlib1g-dev\nSuggested packages:\n  protobuf-mode-el\nThe following NEW packages will be installed:\n  libprotobuf-dev libprotobuf-lite23 libprotobuf23 libprotoc23\n  protobuf-compiler zlib1g-dev\nThe following packages will be upgraded:\n  zlib1g\n1 upgraded, 6 newly installed, 0 to remove and 26 not upgraded.\nNeed to get 3526 kB of archives.\nAfter this operation, 19.7 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 zlib1g amd64 1:1.2.11.dfsg-2+deb11u2 [91.4 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 zlib1g-dev amd64 1:1.2.11.dfsg-2+deb11u2 [191 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libprotobuf23 amd64 3.12.4-1 [892 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libprotobuf-lite23 amd64 3.12.4-1 [241 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libprotobuf-dev amd64 3.12.4-1 [1232 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libprotoc23 amd64 3.12.4-1 [803 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 protobuf-compiler amd64 3.12.4-1 [75.1 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 3526 kB in 0s (11.6 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15717 files and directories currently installed.)\r\nPreparing to unpack .../zlib1g_1%3a1.2.11.dfsg-2+deb11u2_amd64.deb ...\r\nUnpacking zlib1g:amd64 (1:1.2.11.dfsg-2+deb11u2) over (1:1.2.11.dfsg-2+deb11u1) ...\r\nSetting up zlib1g:amd64 (1:1.2.11.dfsg-2+deb11u2) ...\r\nSelecting previously unselected package zlib1g-dev:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15717 files and directories currently installed.)\r\nPreparing to unpack .../0-zlib1g-dev_1%3a1.2.11.dfsg-2+deb11u2_amd64.deb ...\r\nUnpacking zlib1g-dev:amd64 (1:1.2.11.dfsg-2+deb11u2) ...\r\nSelecting previously unselected package libprotobuf23:amd64.\r\nPreparing to unpack .../1-libprotobuf23_3.12.4-1_amd64.deb ...\r\nUnpacking libprotobuf23:amd64 (3.12.4-1) ...\r\nSelecting previously unselected package libprotobuf-lite23:amd64.\r\nPreparing to unpack .../2-libprotobuf-lite23_3.12.4-1_amd64.deb ...\r\nUnpacking libprotobuf-lite23:amd64 (3.12.4-1) ...\r\nSelecting previously unselected package libprotobuf-dev:amd64.\r\nPreparing to unpack .../3-libprotobuf-dev_3.12.4-1_amd64.deb ...\r\nUnpacking libprotobuf-dev:amd64 (3.12.4-1) ...\r\nSelecting previously unselected package libprotoc23:amd64.\r\nPreparing to unpack .../4-libprotoc23_3.12.4-1_amd64.deb ...\r\nUnpacking libprotoc23:amd64 (3.12.4-1) ...\r\nSelecting previously unselected package protobuf-compiler.\r\nPreparing to unpack .../5-protobuf-compiler_3.12.4-1_amd64.deb ...\r\nUnpacking protobuf-compiler (3.12.4-1) ...\r\nSetting up libprotobuf23:amd64 (3.12.4-1) ...\r\nSetting up libprotobuf-lite23:amd64 (3.12.4-1) ...\r\nSetting up libprotoc23:amd64 (3.12.4-1) ...\r\nSetting up zlib1g-dev:amd64 (1:1.2.11.dfsg-2+deb11u2) ...\r\nSetting up protobuf-compiler (3.12.4-1) ...\r\nSetting up libprotobuf-dev:amd64 (3.12.4-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u3) ...\r\n\u001b[91mgo: downloading google.golang.org/protobuf v1.26.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc/cmd/protoc-gen-go-grpc v1.1.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.23.0\n\u001b[0mRemoving intermediate container 0dc2c44602c3\n ---> 3d0088367448\nStep 3/7 : RUN go env -w GO111MODULE=\"off\" &&     go get github.com/envoyproxy/protoc-gen-validate &&     go env -w GO111MODULE=\"\"\n ---> Running in 952035c0c65c\nRemoving intermediate container 952035c0c65c\n ---> b1d8eca96e91\nStep 4/7 : RUN go install github.com/envoyproxy/protoc-gen-validate@v0.6.7\n ---> Running in 5be1a86226a2\n\u001b[91mgo: downloading github.com/envoyproxy/protoc-gen-validate v0.6.7\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading github.com/lyft/protoc-gen-star v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/iancoleman/strcase v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0mRemoving intermediate container 5be1a86226a2\n ---> 3f904f8038a2\nStep 5/7 : COPY gen_all.sh /bin/gen_all.sh\n ---> f157b807caab\nStep 6/7 : WORKDIR /\n ---> Running in 0d3698be51d0\nRemoving intermediate container 0d3698be51d0\n ---> 4ce227585a8c\nStep 7/7 : ENTRYPOINT [\"/bin/gen_all.sh\"]\n ---> Running in ffef438f1cd5\nRemoving intermediate container ffef438f1cd5\n ---> 18d7c2ae2206\nSuccessfully built 18d7c2ae2206\nSuccessfully tagged horahora:latest\n","stderr":"","imageSize":1393882960},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":3,"end":3,"columnStart":4,"columnEnd":36}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":3,"end":3,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.17\n\nRUN apt-get update && \\\n    apt install --no-install-recommends -y protobuf-compiler && \\\n    go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.26 && \\\n    go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.1\n\nRUN go env -w GO111MODULE=\"off\" && \\\n    go get github.com/envoyproxy/protoc-gen-validate && \\\n    go env -w GO111MODULE=\"\"\n\nRUN go install github.com/envoyproxy/protoc-gen-validate@v0.6.7\n\nCOPY gen_all.sh /bin/gen_all.sh\n\nWORKDIR /\n\nENTRYPOINT [\"/bin/gen_all.sh\"]\n"},"repairedBuild":{"startTimestamp":1672153646780,"endTimestamp":1672153738049,"error":null,"stdout":"Sending build context to Docker daemon   36.1MB\r\r\nStep 1/7 : FROM golang:1.17\n ---> 742df529b073\nStep 2/7 : RUN apt-get update &&     apt install --no-install-recommends -y protobuf-compiler &&     go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.26 &&     go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.1\n ---> Running in 31ac2909279f\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5289 kB/s)\nReading package lists...\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libprotobuf23 libprotoc23\nSuggested packages:\n  protobuf-mode-el\nRecommended packages:\n  libprotobuf-dev\nThe following NEW packages will be installed:\n  libprotobuf23 libprotoc23 protobuf-compiler\n0 upgraded, 3 newly installed, 0 to remove and 27 not upgraded.\nNeed to get 1770 kB of archives.\nAfter this operation, 6501 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libprotobuf23 amd64 3.12.4-1 [892 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libprotoc23 amd64 3.12.4-1 [803 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 protobuf-compiler amd64 3.12.4-1 [75.1 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1770 kB in 0s (20.8 MB/s)\nSelecting previously unselected package libprotobuf23:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15717 files and directories currently installed.)\r\nPreparing to unpack .../libprotobuf23_3.12.4-1_amd64.deb ...\r\nUnpacking libprotobuf23:amd64 (3.12.4-1) ...\r\nSelecting previously unselected package libprotoc23:amd64.\r\nPreparing to unpack .../libprotoc23_3.12.4-1_amd64.deb ...\r\nUnpacking libprotoc23:amd64 (3.12.4-1) ...\r\nSelecting previously unselected package protobuf-compiler.\r\nPreparing to unpack .../protobuf-compiler_3.12.4-1_amd64.deb ...\r\nUnpacking protobuf-compiler (3.12.4-1) ...\r\nSetting up libprotobuf23:amd64 (3.12.4-1) ...\r\nSetting up libprotoc23:amd64 (3.12.4-1) ...\r\nSetting up protobuf-compiler (3.12.4-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u3) ...\r\n\u001b[91mgo: downloading google.golang.org/protobuf v1.26.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc/cmd/protoc-gen-go-grpc v1.1.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.23.0\n\u001b[0mRemoving intermediate container 31ac2909279f\n ---> ce164c495a5b\nStep 3/7 : RUN go env -w GO111MODULE=\"off\" &&     go get github.com/envoyproxy/protoc-gen-validate &&     go env -w GO111MODULE=\"\"\n ---> Running in 203d2324d0c4\nRemoving intermediate container 203d2324d0c4\n ---> e3fe417bbab8\nStep 4/7 : RUN go install github.com/envoyproxy/protoc-gen-validate@v0.6.7\n ---> Running in dce969b00ac4\n\u001b[91mgo: downloading github.com/envoyproxy/protoc-gen-validate v0.6.7\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\ngo: downloading github.com/lyft/protoc-gen-star v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/iancoleman/strcase v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/spf13/afero v1.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0mRemoving intermediate container dce969b00ac4\n ---> 3bbd8bfc9885\nStep 5/7 : COPY gen_all.sh /bin/gen_all.sh\n ---> d2fab62ed7cc\nStep 6/7 : WORKDIR /\n ---> Running in b3814334202e\nRemoving intermediate container b3814334202e\n ---> 47b210afae6b\nStep 7/7 : ENTRYPOINT [\"/bin/gen_all.sh\"]\n ---> Running in a15dcdebdd41\nRemoving intermediate container a15dcdebdd41\n ---> 33472a8fc4b5\nSuccessfully built 33472a8fc4b5\nSuccessfully tagged horahora:latest\n","stderr":"","imageSize":1380668494},"endTime":1672153739498}