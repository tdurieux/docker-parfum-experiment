{"repository":"https://github.com/zalando/ghe-backup","dockerfilePath":"Dockerfile","startTime":1673058012475,"endTime":1673058155473,"clone":{"startTime":1673058012476,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/zalando/ghe-backup'...\n","error":null,"endTime":1673058013282,"commit":"cdea83c1a7234df30da5b46a588f6282e72874b3"},"originalBuild":{"startTime":1673058013352,"endTime":1673058092032,"error":null,"stdout":"Sending build context to Docker daemon  536.6kB\r\r\nStep 1/17 : FROM registry.opensource.zalan.do/library/python-3.8:latest\nlatest: Pulling from library/python-3.8\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n0f67f32c26d3: Already exists\ne04be0d92e59: Already exists\nb5052f164cdb: Already exists\ne9c72aa5d062: Already exists\n6ef1881ed05b: Pulling fs layer\n6ef1881ed05b: Verifying Checksum\n6ef1881ed05b: Download complete\n6ef1881ed05b: Pull complete\nDigest: sha256:9dd5c9b2a371b201f9d025aa9fbf2b69ee63d620fe4c40c630f82942246918f9\nStatus: Downloaded newer image for registry.opensource.zalan.do/library/python-3.8:latest\n ---> 8443483069cd\nStep 2/17 : MAINTAINER team-code@zalando.de\n ---> Running in bbcb5a88ad12\nRemoving intermediate container bbcb5a88ad12\n ---> 1e0d11092202\nStep 3/17 : ARG BACKUP_UTILS_VERSION=stable\n ---> Running in 5fac0fc535b0\nRemoving intermediate container 5fac0fc535b0\n ---> 3df30584e1e3\nStep 4/17 : RUN   apt-get update -y &&   apt-get install -y --no-install-recommends unattended-upgrades python3 python3-dev python3-pip python3-yaml &&   apt-get install -y --no-install-recommends git &&   apt-get install -y --no-install-recommends ssh &&   apt-get install -y --no-install-recommends bash &&   apt-get install -y --no-install-recommends rsync &&   apt-get install -y --no-install-recommends cron &&   pip3 install --upgrade boto boto3 &&   rm -rf /var/lib/apt/lists/* &&   mkdir -p /backup/backup-utils/ &&   mkdir -p /kms && mkdir -p /var/log/ && mkdir /delete-instuck-backups\n ---> Running in 3242509aa957\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6738 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\npython3 is already the newest version (3.9.2-3).\npython3 set to manually installed.\nThe following additional packages will be installed:\n  distro-info-data libdbus-1-3 libjs-jquery libjs-sphinxdoc libjs-underscore\n  libpython3-dev libpython3.9 libpython3.9-dev lsb-release python-apt-common\n  python-pip-whl python3-apt python3-dbus python3-distro-info\n  python3-pkg-resources python3-setuptools python3-wheel python3.9-dev\nSuggested packages:\n  python3-apt-dbg python-apt-doc python-dbus-doc python3-dbus-dbg\n  python-setuptools-doc bsd-mailx default-mta | mail-transport-agent\n  needrestart powermgmt-base python3-gi\nRecommended packages:\n  dbus javascript-common iso-codes python3-gi build-essential systemd-sysv\n  | cron | cron-daemon | anacron\nThe following NEW packages will be installed:\n  distro-info-data libdbus-1-3 libjs-jquery libjs-sphinxdoc libjs-underscore\n  libpython3-dev libpython3.9 libpython3.9-dev lsb-release python-apt-common\n  python-pip-whl python3-apt python3-dbus python3-dev python3-distro-info\n  python3-pip python3-pkg-resources python3-setuptools python3-wheel\n  python3-yaml python3.9-dev unattended-upgrades\n0 upgraded, 22 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 10.6 MB of archives.\nAfter this operation, 37.2 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 distro-info-data all 0.51+deb11u3 [7812 B]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libdbus-1-3 amd64 1.12.24-0+deb11u1 [222 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libjs-jquery all 3.5.1+dfsg+~3.5.5-7 [315 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libjs-underscore all 1.9.1~dfsg-3 [100 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libjs-sphinxdoc all 3.4.3-2 [127 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libpython3.9 amd64 3.9.2-1 [1691 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-dev amd64 3.9.2-1 [4028 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libpython3-dev amd64 3.9.2-3 [21.7 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 lsb-release all 11.1.0 [27.9 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 python-apt-common all 2.2.1 [96.5 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 python-pip-whl all 20.3.4-4+deb11u1 [1948 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 python3-apt amd64 2.2.1 [190 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 python3-dbus amd64 1.2.16-5 [108 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 python3.9-dev amd64 3.9.2-1 [515 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 python3-dev amd64 3.9.2-3 [24.8 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 python3-distro-info all 1.0 [8720 B]\nGet:17 http://deb.debian.org/debian bullseye/main amd64 python3-pkg-resources all 52.0.0-4 [190 kB]\nGet:18 http://deb.debian.org/debian bullseye/main amd64 python3-setuptools all 52.0.0-4 [366 kB]\nGet:19 http://deb.debian.org/debian bullseye/main amd64 python3-wheel all 0.34.2-1 [24.0 kB]\nGet:20 http://deb.debian.org/debian bullseye/main amd64 python3-pip all 20.3.4-4+deb11u1 [337 kB]\nGet:21 http://deb.debian.org/debian bullseye/main amd64 python3-yaml amd64 5.3.1-5 [138 kB]\nGet:22 http://deb.debian.org/debian bullseye/main amd64 unattended-upgrades all 2.8 [88.6 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 10.6 MB in 0s (99.2 MB/s)\nSelecting previously unselected package distro-info-data.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../00-distro-info-data_0.51+deb11u3_all.deb ...\r\nUnpacking distro-info-data (0.51+deb11u3) ...\r\nSelecting previously unselected package libdbus-1-3:amd64.\r\nPreparing to unpack .../01-libdbus-1-3_1.12.24-0+deb11u1_amd64.deb ...\r\nUnpacking libdbus-1-3:amd64 (1.12.24-0+deb11u1) ...\r\nSelecting previously unselected package libjs-jquery.\r\nPreparing to unpack .../02-libjs-jquery_3.5.1+dfsg+~3.5.5-7_all.deb ...\r\nUnpacking libjs-jquery (3.5.1+dfsg+~3.5.5-7) ...\r\nSelecting previously unselected package libjs-underscore.\r\nPreparing to unpack .../03-libjs-underscore_1.9.1~dfsg-3_all.deb ...\r\nUnpacking libjs-underscore (1.9.1~dfsg-3) ...\r\nSelecting previously unselected package libjs-sphinxdoc.\r\nPreparing to unpack .../04-libjs-sphinxdoc_3.4.3-2_all.deb ...\r\nUnpacking libjs-sphinxdoc (3.4.3-2) ...\r\nSelecting previously unselected package libpython3.9:amd64.\r\nPreparing to unpack .../05-libpython3.9_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3.9-dev:amd64.\r\nPreparing to unpack .../06-libpython3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3-dev:amd64.\r\nPreparing to unpack .../07-libpython3-dev_3.9.2-3_amd64.deb ...\r\nUnpacking libpython3-dev:amd64 (3.9.2-3) ...\r\nSelecting previously unselected package lsb-release.\r\nPreparing to unpack .../08-lsb-release_11.1.0_all.deb ...\r\nUnpacking lsb-release (11.1.0) ...\r\nSelecting previously unselected package python-apt-common.\r\nPreparing to unpack .../09-python-apt-common_2.2.1_all.deb ...\r\nUnpacking python-apt-common (2.2.1) ...\r\nSelecting previously unselected package python-pip-whl.\r\nPreparing to unpack .../10-python-pip-whl_20.3.4-4+deb11u1_all.deb ...\r\nUnpacking python-pip-whl (20.3.4-4+deb11u1) ...\r\nSelecting previously unselected package python3-apt.\r\nPreparing to unpack .../11-python3-apt_2.2.1_amd64.deb ...\r\nUnpacking python3-apt (2.2.1) ...\r\nSelecting previously unselected package python3-dbus.\r\nPreparing to unpack .../12-python3-dbus_1.2.16-5_amd64.deb ...\r\nUnpacking python3-dbus (1.2.16-5) ...\r\nSelecting previously unselected package python3.9-dev.\r\nPreparing to unpack .../13-python3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9-dev (3.9.2-1) ...\r\nSelecting previously unselected package python3-dev.\r\nPreparing to unpack .../14-python3-dev_3.9.2-3_amd64.deb ...\r\nUnpacking python3-dev (3.9.2-3) ...\r\nSelecting previously unselected package python3-distro-info.\r\nPreparing to unpack .../15-python3-distro-info_1.0_all.deb ...\r\nUnpacking python3-distro-info (1.0) ...\r\nSelecting previously unselected package python3-pkg-resources.\r\nPreparing to unpack .../16-python3-pkg-resources_52.0.0-4_all.deb ...\r\nUnpacking python3-pkg-resources (52.0.0-4) ...\r\nSelecting previously unselected package python3-setuptools.\r\nPreparing to unpack .../17-python3-setuptools_52.0.0-4_all.deb ...\r\nUnpacking python3-setuptools (52.0.0-4) ...\r\nSelecting previously unselected package python3-wheel.\r\nPreparing to unpack .../18-python3-wheel_0.34.2-1_all.deb ...\r\nUnpacking python3-wheel (0.34.2-1) ...\r\nSelecting previously unselected package python3-pip.\r\nPreparing to unpack .../19-python3-pip_20.3.4-4+deb11u1_all.deb ...\r\nUnpacking python3-pip (20.3.4-4+deb11u1) ...\r\nSelecting previously unselected package python3-yaml.\r\nPreparing to unpack .../20-python3-yaml_5.3.1-5_amd64.deb ...\r\nUnpacking python3-yaml (5.3.1-5) ...\r\nSelecting previously unselected package unattended-upgrades.\r\nPreparing to unpack .../21-unattended-upgrades_2.8_all.deb ...\r\nUnpacking unattended-upgrades (2.8) ...\r\nSetting up python3-pkg-resources (52.0.0-4) ...\r\nSetting up python3-setuptools (52.0.0-4) ...\r\nSetting up distro-info-data (0.51+deb11u3) ...\r\nSetting up python3-yaml (5.3.1-5) ...\r\nSetting up python3-wheel (0.34.2-1) ...\r\nSetting up libpython3.9:amd64 (3.9.2-1) ...\r\nSetting up libdbus-1-3:amd64 (1.12.24-0+deb11u1) ...\r\nSetting up python-apt-common (2.2.1) ...\r\nSetting up python-pip-whl (20.3.4-4+deb11u1) ...\r\nSetting up libjs-jquery (3.5.1+dfsg+~3.5.5-7) ...\r\nSetting up lsb-release (11.1.0) ...\r\nSetting up python3-distro-info (1.0) ...\r\nSetting up libjs-underscore (1.9.1~dfsg-3) ...\r\nSetting up python3-dbus (1.2.16-5) ...\r\nSetting up python3-apt (2.2.1) ...\r\nSetting up libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSetting up unattended-upgrades (2.8) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/apt/apt.conf.d/20auto-upgrades with new version\r\n\r\nCreating config file /etc/apt/apt.conf.d/50unattended-upgrades with new version\r\nSetting up python3-pip (20.3.4-4+deb11u1) ...\r\nSetting up libjs-sphinxdoc (3.4.3-2) ...\r\nSetting up python3.9-dev (3.9.2-1) ...\r\nSetting up libpython3-dev:amd64 (3.9.2-3) ...\r\nSetting up python3-dev (3.9.2-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.30.2-1).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libwrap0 openssh-server openssh-sftp-server runit-helper\nSuggested packages:\n  molly-guard monkeysphere ssh-askpass ufw\nRecommended packages:\n  default-logind | logind | libpam-systemd ncurses-term xauth\nThe following NEW packages will be installed:\n  libwrap0 openssh-server openssh-sftp-server runit-helper ssh\n0 upgraded, 5 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 756 kB of archives.\nAfter this operation, 2145 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssh-sftp-server amd64 1:8.4p1-5+deb11u1 [52.4 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 runit-helper all 2.10.3 [7808 B]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libwrap0 amd64 7.6.q-31 [59.0 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 openssh-server amd64 1:8.4p1-5+deb11u1 [385 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 ssh all 1:8.4p1-5+deb11u1 [252 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 756 kB in 0s (35.4 MB/s)\nSelecting previously unselected package openssh-sftp-server.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24406 files and directories currently installed.)\r\nPreparing to unpack .../openssh-sftp-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package runit-helper.\r\nPreparing to unpack .../runit-helper_2.10.3_all.deb ...\r\nUnpacking runit-helper (2.10.3) ...\r\nSelecting previously unselected package libwrap0:amd64.\r\nPreparing to unpack .../libwrap0_7.6.q-31_amd64.deb ...\r\nUnpacking libwrap0:amd64 (7.6.q-31) ...\r\nSelecting previously unselected package openssh-server.\r\nPreparing to unpack .../openssh-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package ssh.\r\nPreparing to unpack .../ssh_1%3a8.4p1-5+deb11u1_all.deb ...\r\nUnpacking ssh (1:8.4p1-5+deb11u1) ...\r\nSetting up runit-helper (2.10.3) ...\r\nSetting up openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSetting up libwrap0:amd64 (7.6.q-31) ...\r\nSetting up openssh-server (1:8.4p1-5+deb11u1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/ssh/sshd_config with new version\r\nCreating SSH2 RSA key; this may take some time ...\r\n3072 SHA256:EXeTdK3eM0+PQCKQy6WRYua2YefsmOJsHpwheScf8Wk root@3242509aa957 (RSA)\r\nCreating SSH2 ECDSA key; this may take some time ...\r\n256 SHA256:sc7hLVGjjC8MHaPDCBKwCsWxUpX5BLbBQTD6l1BZO08 root@3242509aa957 (ECDSA)\r\nCreating SSH2 ED25519 key; this may take some time ...\r\n256 SHA256:nV4gORzgwwpsZbPYkf/YOxwApbQbnDxvOQXBEX0BukM root@3242509aa957 (ED25519)\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up ssh (1:8.4p1-5+deb11u1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nbash is already the newest version (5.1-2+deb11u1).\nbash set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpopt0\nThe following NEW packages will be installed:\n  libpopt0 rsync\n0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 446 kB of archives.\nAfter this operation, 987 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libpopt0 amd64 1.18-2 [49.6 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 rsync amd64 3.2.3-4+deb11u1 [396 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 446 kB in 0s (14.2 MB/s)\nSelecting previously unselected package libpopt0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24476 files and directories currently installed.)\r\nPreparing to unpack .../libpopt0_1.18-2_amd64.deb ...\r\nUnpacking libpopt0:amd64 (1.18-2) ...\r\nSelecting previously unselected package rsync.\r\nPreparing to unpack .../rsync_3.2.3-4+deb11u1_amd64.deb ...\r\nUnpacking rsync (3.2.3-4+deb11u1) ...\r\nSetting up libpopt0:amd64 (1.18-2) ...\r\nSetting up rsync (3.2.3-4+deb11u1) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  anacron logrotate checksecurity\nRecommended packages:\n  default-mta | mail-transport-agent\nThe following NEW packages will be installed:\n  cron\n0 upgraded, 1 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 99.6 kB of archives.\nAfter this operation, 269 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 cron amd64 3.0pl1-137 [99.6 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 99.6 kB in 0s (4967 kB/s)\nSelecting previously unselected package cron.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24549 files and directories currently installed.)\r\nPreparing to unpack .../cron_3.0pl1-137_amd64.deb ...\r\nUnpacking cron (3.0pl1-137) ...\r\nSetting up cron (3.0pl1-137) ...\r\nAdding group `crontab' (GID 102) ...\r\nDone.\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nCollecting boto\n  Downloading boto-2.49.0-py2.py3-none-any.whl (1.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.4/1.4 MB 29.0 MB/s eta 0:00:00\nCollecting boto3\n  Downloading boto3-1.26.45-py3-none-any.whl (132 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 132.7/132.7 KB 1.3 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 KB 1.2 MB/s eta 0:00:00\nCollecting botocore<1.30.0,>=1.29.45\n  Downloading botocore-1.29.45-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 21.5 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 KB 751.4 kB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 5.3 MB/s eta 0:00:00\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nInstalling collected packages: boto, urllib3, six, jmespath, python-dateutil, botocore, s3transfer, boto3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mSuccessfully installed boto-2.49.0 boto3-1.26.45 botocore-1.29.45 jmespath-1.0.1 python-dateutil-2.8.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 3242509aa957\n ---> ba1c0b48aada\nStep 5/17 : WORKDIR /backup\n ---> Running in c2f5ee0df22f\nRemoving intermediate container c2f5ee0df22f\n ---> da14b3395bc0\nStep 6/17 : RUN   git clone https://github.com/github/backup-utils.git &&   git -C /backup/backup-utils checkout $BACKUP_UTILS_VERSION\n ---> Running in b6b3b113ec01\n\u001b[91mCloning into 'backup-utils'...\n\u001b[0m\u001b[91mSwitched to a new branch 'stable'\n\u001b[0mBranch 'stable' set up to track remote branch 'stable' from 'origin'.\nRemoving intermediate container b6b3b113ec01\n ---> 7e5641f06933\nStep 7/17 : COPY backup.config /backup/backup-utils/backup.config\n ---> 8e4b08764100\nStep 8/17 : COPY python/extract_decrypt_kms.py /kms/extract_decrypt_kms.py\n ---> 37520c41c97a\nStep 9/17 : COPY convert-kms-private-ssh-key.sh /kms/convert-kms-private-ssh-key.sh\n ---> 0397c718793b\nStep 10/17 : COPY start_backup.sh /start_backup.sh\n ---> cf150eaf6585\nStep 11/17 : COPY python/delete_instuck_progress.py /delete-instuck-backups/delete_instuck_progress.py\n ---> 03de1ce1962c\nStep 12/17 : COPY cron-ghe-backup /etc/cron.d/ghe-backup\n ---> c40f7b01e7c6\nStep 13/17 : COPY final-docker-cmd.sh /backup/final-docker-cmd.sh\n ---> ab8f3c560464\nStep 14/17 : COPY replace-convert-properties.sh /backup/replace-convert-properties.sh\n ---> 010156f5c1b1\nStep 15/17 : RUN   chmod 0644 /etc/cron.d/ghe-backup &&   chmod +x /kms/extract_decrypt_kms.py &&   chmod +x /kms/convert-kms-private-ssh-key.sh &&   chmod +x /delete-instuck-backups/delete_instuck_progress.py &&   chmod +x /start_backup.sh &&   chmod +x /backup/replace-convert-properties.sh &&   chmod +x /backup/final-docker-cmd.sh\n ---> Running in b6e69b9cbb23\nRemoving intermediate container b6e69b9cbb23\n ---> 4ef62c2fd0ad\nStep 16/17 : USER root\n ---> Running in 903883e1c734\nRemoving intermediate container 903883e1c734\n ---> 87e2041f53db\nStep 17/17 : CMD \"/backup/final-docker-cmd.sh\"\n ---> Running in 9fc9ae7dd0dd\nRemoving intermediate container 9fc9ae7dd0dd\n ---> 9b37966e8df2\nSuccessfully built 9b37966e8df2\nSuccessfully tagged ghe-backup:latest\n","stderr":"","imageSize":1067606468},"repair":{"startTime":1673058092135,"endTime":1673058092339,"violations":[{"name":"pipUseNoCacheDir","position":{"start":18,"end":18,"columnStart":2,"columnEnd":35}}],"repairedDockerfile":"FROM registry.opensource.zalan.do/library/python-3.8:latest\nMAINTAINER team-code@zalando.de\n\nARG BACKUP_UTILS_VERSION=stable\n\n# folder structure and user\nRUN \\\n\n  apt-get update -y && \\\n# update w/ latest security patches\n# install python pip3 & english, git, screen etc\n  apt-get install -y --no-install-recommends unattended-upgrades python3 python3-dev python3-pip python3-yaml && \\\n  apt-get install -y --no-install-recommends git && \\\n  apt-get install -y --no-install-recommends ssh && \\\n  apt-get install -y --no-install-recommends bash && \\\n  apt-get install -y --no-install-recommends rsync && \\\n  apt-get install -y --no-install-recommends cron && \\\n# install boto3\n  pip3 install --no-cache-dir --upgrade boto boto3 && \\\n# clean apt-get lists\n  rm -rf /var/lib/apt/lists/* && \\\n# create directories\n  mkdir -p /backup/backup-utils/ && \\\n  mkdir -p /kms && mkdir -p /var/log/ && mkdir /delete-instuck-backups\nWORKDIR /backup\n\nRUN \\\n# clone backup-utils\n  git clone https://github.com/github/backup-utils.git && \\\n  git -C /backup/backup-utils checkout $BACKUP_UTILS_VERSION\n\n# copy predefined backup config\nCOPY backup.config /backup/backup-utils/backup.config\n\n# copy files to decrypt private ssh key using kms\nCOPY python/extract_decrypt_kms.py /kms/extract_decrypt_kms.py\nCOPY convert-kms-private-ssh-key.sh /kms/convert-kms-private-ssh-key.sh\nCOPY start_backup.sh /start_backup.sh\n\n# copy file to drop in stuck backup\nCOPY python/delete_instuck_progress.py /delete-instuck-backups/delete_instuck_progress.py\n\n# copy cron job\nCOPY cron-ghe-backup /etc/cron.d/ghe-backup\n\n# copy finale CMD commands\nCOPY final-docker-cmd.sh /backup/final-docker-cmd.sh\nCOPY replace-convert-properties.sh /backup/replace-convert-properties.sh\n\n\n#PLACEHOLDER_4_COPY_SCM_SOURCE_JSON\n\nRUN \\\n# change mode of files\n  chmod 0644 /etc/cron.d/ghe-backup && \\\n  chmod +x /kms/extract_decrypt_kms.py && \\\n  chmod +x /kms/convert-kms-private-ssh-key.sh && \\\n  chmod +x /delete-instuck-backups/delete_instuck_progress.py && \\\n  chmod +x /start_backup.sh && \\\n  chmod +x /backup/replace-convert-properties.sh && \\\n  chmod +x /backup/final-docker-cmd.sh\n\nUSER root\n\n# cron must run as root\nCMD \"/backup/final-docker-cmd.sh\"\n"},"repairedBuild":{"startTime":1673058092661,"endTime":1673058155098,"error":null,"stdout":"Sending build context to Docker daemon  536.6kB\r\r\n\u001b[91m[WARNING]: Empty continuation line found in:\n    RUN   apt-get update -y &&   apt-get install -y --no-install-recommends unattended-upgrades python3 python3-dev python3-pip python3-yaml &&   apt-get install -y --no-install-recommends git &&   apt-get install -y --no-install-recommends ssh &&   apt-get install -y --no-install-recommends bash &&   apt-get install -y --no-install-recommends rsync &&   apt-get install -y --no-install-recommends cron &&   pip3 install --no-cache-dir --upgrade boto boto3 &&   rm -rf /var/lib/apt/lists/* &&   mkdir -p /backup/backup-utils/ &&   mkdir -p /kms && mkdir -p /var/log/ && mkdir /delete-instuck-backups\n[WARNING]: Empty continuation lines will become errors in a future release.\n\u001b[0mStep 1/17 : FROM registry.opensource.zalan.do/library/python-3.8:latest\n ---> 8443483069cd\nStep 2/17 : MAINTAINER team-code@zalando.de\n ---> Running in 2b738a0a2f28\nRemoving intermediate container 2b738a0a2f28\n ---> bd365fde2a4d\nStep 3/17 : ARG BACKUP_UTILS_VERSION=stable\n ---> Running in 8d4be69f2f73\nRemoving intermediate container 8d4be69f2f73\n ---> 080e1a601c50\nStep 4/17 : RUN   apt-get update -y &&   apt-get install -y --no-install-recommends unattended-upgrades python3 python3-dev python3-pip python3-yaml &&   apt-get install -y --no-install-recommends git &&   apt-get install -y --no-install-recommends ssh &&   apt-get install -y --no-install-recommends bash &&   apt-get install -y --no-install-recommends rsync &&   apt-get install -y --no-install-recommends cron &&   pip3 install --no-cache-dir --upgrade boto boto3 &&   rm -rf /var/lib/apt/lists/* &&   mkdir -p /backup/backup-utils/ &&   mkdir -p /kms && mkdir -p /var/log/ && mkdir /delete-instuck-backups\n ---> Running in 59c38865ff5c\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (7041 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\npython3 is already the newest version (3.9.2-3).\npython3 set to manually installed.\nThe following additional packages will be installed:\n  distro-info-data libdbus-1-3 libjs-jquery libjs-sphinxdoc libjs-underscore\n  libpython3-dev libpython3.9 libpython3.9-dev lsb-release python-apt-common\n  python-pip-whl python3-apt python3-dbus python3-distro-info\n  python3-pkg-resources python3-setuptools python3-wheel python3.9-dev\nSuggested packages:\n  python3-apt-dbg python-apt-doc python-dbus-doc python3-dbus-dbg\n  python-setuptools-doc bsd-mailx default-mta | mail-transport-agent\n  needrestart powermgmt-base python3-gi\nRecommended packages:\n  dbus javascript-common iso-codes python3-gi build-essential systemd-sysv\n  | cron | cron-daemon | anacron\nThe following NEW packages will be installed:\n  distro-info-data libdbus-1-3 libjs-jquery libjs-sphinxdoc libjs-underscore\n  libpython3-dev libpython3.9 libpython3.9-dev lsb-release python-apt-common\n  python-pip-whl python3-apt python3-dbus python3-dev python3-distro-info\n  python3-pip python3-pkg-resources python3-setuptools python3-wheel\n  python3-yaml python3.9-dev unattended-upgrades\n0 upgraded, 22 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 10.6 MB of archives.\nAfter this operation, 37.2 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 distro-info-data all 0.51+deb11u3 [7812 B]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libdbus-1-3 amd64 1.12.24-0+deb11u1 [222 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libjs-jquery all 3.5.1+dfsg+~3.5.5-7 [315 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libjs-underscore all 1.9.1~dfsg-3 [100 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libjs-sphinxdoc all 3.4.3-2 [127 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libpython3.9 amd64 3.9.2-1 [1691 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-dev amd64 3.9.2-1 [4028 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libpython3-dev amd64 3.9.2-3 [21.7 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 lsb-release all 11.1.0 [27.9 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 python-apt-common all 2.2.1 [96.5 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 python-pip-whl all 20.3.4-4+deb11u1 [1948 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 python3-apt amd64 2.2.1 [190 kB]\nGet:13 http://deb.debian.org/debian bullseye/main amd64 python3-dbus amd64 1.2.16-5 [108 kB]\nGet:14 http://deb.debian.org/debian bullseye/main amd64 python3.9-dev amd64 3.9.2-1 [515 kB]\nGet:15 http://deb.debian.org/debian bullseye/main amd64 python3-dev amd64 3.9.2-3 [24.8 kB]\nGet:16 http://deb.debian.org/debian bullseye/main amd64 python3-distro-info all 1.0 [8720 B]\nGet:17 http://deb.debian.org/debian bullseye/main amd64 python3-pkg-resources all 52.0.0-4 [190 kB]\nGet:18 http://deb.debian.org/debian bullseye/main amd64 python3-setuptools all 52.0.0-4 [366 kB]\nGet:19 http://deb.debian.org/debian bullseye/main amd64 python3-wheel all 0.34.2-1 [24.0 kB]\nGet:20 http://deb.debian.org/debian bullseye/main amd64 python3-pip all 20.3.4-4+deb11u1 [337 kB]\nGet:21 http://deb.debian.org/debian bullseye/main amd64 python3-yaml amd64 5.3.1-5 [138 kB]\nGet:22 http://deb.debian.org/debian bullseye/main amd64 unattended-upgrades all 2.8 [88.6 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 10.6 MB in 0s (83.8 MB/s)\nSelecting previously unselected package distro-info-data.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../00-distro-info-data_0.51+deb11u3_all.deb ...\r\nUnpacking distro-info-data (0.51+deb11u3) ...\r\nSelecting previously unselected package libdbus-1-3:amd64.\r\nPreparing to unpack .../01-libdbus-1-3_1.12.24-0+deb11u1_amd64.deb ...\r\nUnpacking libdbus-1-3:amd64 (1.12.24-0+deb11u1) ...\r\nSelecting previously unselected package libjs-jquery.\r\nPreparing to unpack .../02-libjs-jquery_3.5.1+dfsg+~3.5.5-7_all.deb ...\r\nUnpacking libjs-jquery (3.5.1+dfsg+~3.5.5-7) ...\r\nSelecting previously unselected package libjs-underscore.\r\nPreparing to unpack .../03-libjs-underscore_1.9.1~dfsg-3_all.deb ...\r\nUnpacking libjs-underscore (1.9.1~dfsg-3) ...\r\nSelecting previously unselected package libjs-sphinxdoc.\r\nPreparing to unpack .../04-libjs-sphinxdoc_3.4.3-2_all.deb ...\r\nUnpacking libjs-sphinxdoc (3.4.3-2) ...\r\nSelecting previously unselected package libpython3.9:amd64.\r\nPreparing to unpack .../05-libpython3.9_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3.9-dev:amd64.\r\nPreparing to unpack .../06-libpython3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3-dev:amd64.\r\nPreparing to unpack .../07-libpython3-dev_3.9.2-3_amd64.deb ...\r\nUnpacking libpython3-dev:amd64 (3.9.2-3) ...\r\nSelecting previously unselected package lsb-release.\r\nPreparing to unpack .../08-lsb-release_11.1.0_all.deb ...\r\nUnpacking lsb-release (11.1.0) ...\r\nSelecting previously unselected package python-apt-common.\r\nPreparing to unpack .../09-python-apt-common_2.2.1_all.deb ...\r\nUnpacking python-apt-common (2.2.1) ...\r\nSelecting previously unselected package python-pip-whl.\r\nPreparing to unpack .../10-python-pip-whl_20.3.4-4+deb11u1_all.deb ...\r\nUnpacking python-pip-whl (20.3.4-4+deb11u1) ...\r\nSelecting previously unselected package python3-apt.\r\nPreparing to unpack .../11-python3-apt_2.2.1_amd64.deb ...\r\nUnpacking python3-apt (2.2.1) ...\r\nSelecting previously unselected package python3-dbus.\r\nPreparing to unpack .../12-python3-dbus_1.2.16-5_amd64.deb ...\r\nUnpacking python3-dbus (1.2.16-5) ...\r\nSelecting previously unselected package python3.9-dev.\r\nPreparing to unpack .../13-python3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9-dev (3.9.2-1) ...\r\nSelecting previously unselected package python3-dev.\r\nPreparing to unpack .../14-python3-dev_3.9.2-3_amd64.deb ...\r\nUnpacking python3-dev (3.9.2-3) ...\r\nSelecting previously unselected package python3-distro-info.\r\nPreparing to unpack .../15-python3-distro-info_1.0_all.deb ...\r\nUnpacking python3-distro-info (1.0) ...\r\nSelecting previously unselected package python3-pkg-resources.\r\nPreparing to unpack .../16-python3-pkg-resources_52.0.0-4_all.deb ...\r\nUnpacking python3-pkg-resources (52.0.0-4) ...\r\nSelecting previously unselected package python3-setuptools.\r\nPreparing to unpack .../17-python3-setuptools_52.0.0-4_all.deb ...\r\nUnpacking python3-setuptools (52.0.0-4) ...\r\nSelecting previously unselected package python3-wheel.\r\nPreparing to unpack .../18-python3-wheel_0.34.2-1_all.deb ...\r\nUnpacking python3-wheel (0.34.2-1) ...\r\nSelecting previously unselected package python3-pip.\r\nPreparing to unpack .../19-python3-pip_20.3.4-4+deb11u1_all.deb ...\r\nUnpacking python3-pip (20.3.4-4+deb11u1) ...\r\nSelecting previously unselected package python3-yaml.\r\nPreparing to unpack .../20-python3-yaml_5.3.1-5_amd64.deb ...\r\nUnpacking python3-yaml (5.3.1-5) ...\r\nSelecting previously unselected package unattended-upgrades.\r\nPreparing to unpack .../21-unattended-upgrades_2.8_all.deb ...\r\nUnpacking unattended-upgrades (2.8) ...\r\nSetting up python3-pkg-resources (52.0.0-4) ...\r\nSetting up python3-setuptools (52.0.0-4) ...\r\nSetting up distro-info-data (0.51+deb11u3) ...\r\nSetting up python3-yaml (5.3.1-5) ...\r\nSetting up python3-wheel (0.34.2-1) ...\r\nSetting up libpython3.9:amd64 (3.9.2-1) ...\r\nSetting up libdbus-1-3:amd64 (1.12.24-0+deb11u1) ...\r\nSetting up python-apt-common (2.2.1) ...\r\nSetting up python-pip-whl (20.3.4-4+deb11u1) ...\r\nSetting up libjs-jquery (3.5.1+dfsg+~3.5.5-7) ...\r\nSetting up lsb-release (11.1.0) ...\r\nSetting up python3-distro-info (1.0) ...\r\nSetting up libjs-underscore (1.9.1~dfsg-3) ...\r\nSetting up python3-dbus (1.2.16-5) ...\r\nSetting up python3-apt (2.2.1) ...\r\nSetting up libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSetting up unattended-upgrades (2.8) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/apt/apt.conf.d/20auto-upgrades with new version\r\n\r\nCreating config file /etc/apt/apt.conf.d/50unattended-upgrades with new version\r\nSetting up python3-pip (20.3.4-4+deb11u1) ...\r\nSetting up libjs-sphinxdoc (3.4.3-2) ...\r\nSetting up python3.9-dev (3.9.2-1) ...\r\nSetting up libpython3-dev:amd64 (3.9.2-3) ...\r\nSetting up python3-dev (3.9.2-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.30.2-1).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libwrap0 openssh-server openssh-sftp-server runit-helper\nSuggested packages:\n  molly-guard monkeysphere ssh-askpass ufw\nRecommended packages:\n  default-logind | logind | libpam-systemd ncurses-term xauth\nThe following NEW packages will be installed:\n  libwrap0 openssh-server openssh-sftp-server runit-helper ssh\n0 upgraded, 5 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 756 kB of archives.\nAfter this operation, 2145 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssh-sftp-server amd64 1:8.4p1-5+deb11u1 [52.4 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 runit-helper all 2.10.3 [7808 B]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libwrap0 amd64 7.6.q-31 [59.0 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 openssh-server amd64 1:8.4p1-5+deb11u1 [385 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 ssh all 1:8.4p1-5+deb11u1 [252 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 756 kB in 0s (4308 kB/s)\nSelecting previously unselected package openssh-sftp-server.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24406 files and directories currently installed.)\r\nPreparing to unpack .../openssh-sftp-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package runit-helper.\r\nPreparing to unpack .../runit-helper_2.10.3_all.deb ...\r\nUnpacking runit-helper (2.10.3) ...\r\nSelecting previously unselected package libwrap0:amd64.\r\nPreparing to unpack .../libwrap0_7.6.q-31_amd64.deb ...\r\nUnpacking libwrap0:amd64 (7.6.q-31) ...\r\nSelecting previously unselected package openssh-server.\r\nPreparing to unpack .../openssh-server_1%3a8.4p1-5+deb11u1_amd64.deb ...\r\nUnpacking openssh-server (1:8.4p1-5+deb11u1) ...\r\nSelecting previously unselected package ssh.\r\nPreparing to unpack .../ssh_1%3a8.4p1-5+deb11u1_all.deb ...\r\nUnpacking ssh (1:8.4p1-5+deb11u1) ...\r\nSetting up runit-helper (2.10.3) ...\r\nSetting up openssh-sftp-server (1:8.4p1-5+deb11u1) ...\r\nSetting up libwrap0:amd64 (7.6.q-31) ...\r\nSetting up openssh-server (1:8.4p1-5+deb11u1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\n\r\nCreating config file /etc/ssh/sshd_config with new version\r\nCreating SSH2 RSA key; this may take some time ...\r\n3072 SHA256:a63qBJJKON5RX6LFL33hD6gKu2nwQyWk9s3QM7n01No root@59c38865ff5c (RSA)\r\nCreating SSH2 ECDSA key; this may take some time ...\r\n256 SHA256:MIFmKV1AZgqIbblXdxsznc9hZqTH2X7uzVcY6iAKB9c root@59c38865ff5c (ECDSA)\r\nCreating SSH2 ED25519 key; this may take some time ...\r\n256 SHA256:JGPmcQQfJJRKtFqDF34VTmkaNhnLn85Jy71+arhYy2Y root@59c38865ff5c (ED25519)\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up ssh (1:8.4p1-5+deb11u1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nbash is already the newest version (5.1-2+deb11u1).\nbash set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpopt0\nThe following NEW packages will be installed:\n  libpopt0 rsync\n0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 446 kB of archives.\nAfter this operation, 987 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libpopt0 amd64 1.18-2 [49.6 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 rsync amd64 3.2.3-4+deb11u1 [396 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 446 kB in 0s (15.0 MB/s)\nSelecting previously unselected package libpopt0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24476 files and directories currently installed.)\r\nPreparing to unpack .../libpopt0_1.18-2_amd64.deb ...\r\nUnpacking libpopt0:amd64 (1.18-2) ...\r\nSelecting previously unselected package rsync.\r\nPreparing to unpack .../rsync_3.2.3-4+deb11u1_amd64.deb ...\r\nUnpacking rsync (3.2.3-4+deb11u1) ...\r\nSetting up libpopt0:amd64 (1.18-2) ...\r\nSetting up rsync (3.2.3-4+deb11u1) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  anacron logrotate checksecurity\nRecommended packages:\n  default-mta | mail-transport-agent\nThe following NEW packages will be installed:\n  cron\n0 upgraded, 1 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 99.6 kB of archives.\nAfter this operation, 269 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 cron amd64 3.0pl1-137 [99.6 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 99.6 kB in 0s (1640 kB/s)\nSelecting previously unselected package cron.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24549 files and directories currently installed.)\r\nPreparing to unpack .../cron_3.0pl1-137_amd64.deb ...\r\nUnpacking cron (3.0pl1-137) ...\r\nSetting up cron (3.0pl1-137) ...\r\nAdding group `crontab' (GID 102) ...\r\nDone.\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nCollecting boto\n  Downloading boto-2.49.0-py2.py3-none-any.whl (1.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.4/1.4 MB 54.8 MB/s eta 0:00:00\nCollecting boto3\n  Downloading boto3-1.26.45-py3-none-any.whl (132 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 132.7/132.7 KB 283.3 MB/s eta 0:00:00\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 KB 260.4 MB/s eta 0:00:00\nCollecting botocore<1.30.0,>=1.29.45\n  Downloading botocore-1.29.45-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 114.0 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 116.2 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 KB 216.6 MB/s eta 0:00:00\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nInstalling collected packages: boto, urllib3, six, jmespath, python-dateutil, botocore, s3transfer, boto3\nSuccessfully installed boto-2.49.0 boto3-1.26.45 botocore-1.29.45 jmespath-1.0.1 python-dateutil-2.8.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 59c38865ff5c\n ---> 983fb073f501\nStep 5/17 : WORKDIR /backup\n ---> Running in 939871f61e97\nRemoving intermediate container 939871f61e97\n ---> 2ca1a727da4f\nStep 6/17 : RUN   git clone https://github.com/github/backup-utils.git &&   git -C /backup/backup-utils checkout $BACKUP_UTILS_VERSION\n ---> Running in 0d74a8f524df\n\u001b[91mCloning into 'backup-utils'...\n\u001b[0m\u001b[91mSwitched to a new branch 'stable'\n\u001b[0mBranch 'stable' set up to track remote branch 'stable' from 'origin'.\nRemoving intermediate container 0d74a8f524df\n ---> a1eda8d3b15b\nStep 7/17 : COPY backup.config /backup/backup-utils/backup.config\n ---> 56af44d4c9fe\nStep 8/17 : COPY python/extract_decrypt_kms.py /kms/extract_decrypt_kms.py\n ---> 3e95e92a17b1\nStep 9/17 : COPY convert-kms-private-ssh-key.sh /kms/convert-kms-private-ssh-key.sh\n ---> bbb9c7c3c23f\nStep 10/17 : COPY start_backup.sh /start_backup.sh\n ---> caa787b1ab05\nStep 11/17 : COPY python/delete_instuck_progress.py /delete-instuck-backups/delete_instuck_progress.py\n ---> 6333c036bd84\nStep 12/17 : COPY cron-ghe-backup /etc/cron.d/ghe-backup\n ---> b103cb167e86\nStep 13/17 : COPY final-docker-cmd.sh /backup/final-docker-cmd.sh\n ---> 1277afae5da5\nStep 14/17 : COPY replace-convert-properties.sh /backup/replace-convert-properties.sh\n ---> 4e599f3f6243\nStep 15/17 : RUN   chmod 0644 /etc/cron.d/ghe-backup &&   chmod +x /kms/extract_decrypt_kms.py &&   chmod +x /kms/convert-kms-private-ssh-key.sh &&   chmod +x /delete-instuck-backups/delete_instuck_progress.py &&   chmod +x /start_backup.sh &&   chmod +x /backup/replace-convert-properties.sh &&   chmod +x /backup/final-docker-cmd.sh\n ---> Running in ad0f7df50ca7\nRemoving intermediate container ad0f7df50ca7\n ---> 2f6197e2699e\nStep 16/17 : USER root\n ---> Running in e0b036c126c9\nRemoving intermediate container e0b036c126c9\n ---> 7345ce8a1337\nStep 17/17 : CMD \"/backup/final-docker-cmd.sh\"\n ---> Running in f854ff2b13b1\nRemoving intermediate container f854ff2b13b1\n ---> 8efae2d4cd03\nSuccessfully built 8efae2d4cd03\nSuccessfully tagged ghe-backup:latest\n","stderr":"","imageSize":1054730802}}