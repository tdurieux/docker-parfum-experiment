{"repository":"https://github.com/ununifi/chain","dockerfilePath":"Dockerfile","startTime":1672907826860,"endTime":1672908077706,"clone":{"startTime":1672907826861,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ununifi/chain'...\n","error":null,"endTime":1672907827948,"commit":"d349af811d4462479d7165d68f8258ecfe874aa4"},"originalBuild":{"startTime":1672907828035,"endTime":1672907960613,"error":null,"stdout":"Sending build context to Docker daemon  4.212MB\r\r\nStep 1/23 : FROM golang:1.17-alpine AS build-env\n1.17-alpine: Pulling from library/golang\n530afca65e2e: Pulling fs layer\nd450d4da0343: Pulling fs layer\n8162171ecb65: Pulling fs layer\nff63b82a42d3: Pulling fs layer\n5b4b56e6b994: Pulling fs layer\nff63b82a42d3: Waiting\n5b4b56e6b994: Waiting\nd450d4da0343: Verifying Checksum\nd450d4da0343: Download complete\n8162171ecb65: Verifying Checksum\n8162171ecb65: Download complete\n530afca65e2e: Verifying Checksum\n530afca65e2e: Download complete\n530afca65e2e: Pull complete\n5b4b56e6b994: Verifying Checksum\n5b4b56e6b994: Download complete\nd450d4da0343: Pull complete\n8162171ecb65: Pull complete\nff63b82a42d3: Verifying Checksum\nff63b82a42d3: Download complete\nff63b82a42d3: Pull complete\n5b4b56e6b994: Pull complete\nDigest: sha256:99ddec1bbfd6d6bca3f9804c02363daee8c8524dae50df7942e8e60788fd17c9\nStatus: Downloaded newer image for golang:1.17-alpine\n ---> 270c4f58750f\nStep 2/23 : ENV PACKAGES curl make git libc-dev bash gcc linux-headers eudev-dev python3\n ---> Running in ad1f8444375a\nRemoving intermediate container ad1f8444375a\n ---> aee226ffbe96\nStep 3/23 : WORKDIR /go/src/github.com/UnUniFi/chain\n ---> Running in c11210a11b5b\nRemoving intermediate container c11210a11b5b\n ---> a0550bac7aff\nStep 4/23 : COPY . .\n ---> efc59f2ec605\nStep 5/23 : RUN go version\n ---> Running in 95a9b80d5d1b\ngo version go1.17.13 linux/amd64\nRemoving intermediate container 95a9b80d5d1b\n ---> 19bf5fd66e16\nStep 6/23 : RUN apk add --no-cache $PACKAGES\n ---> Running in 7ed02cf30210\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/41) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/41) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(3/41) Installing ncurses-libs (6.3_p20220521-r0)\n(4/41) Installing readline (8.1.2-r0)\n(5/41) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(6/41) Installing brotli-libs (1.0.9-r6)\n(7/41) Installing nghttp2-libs (1.47.0-r0)\n(8/41) Installing libcurl (7.83.1-r5)\n(9/41) Installing curl (7.83.1-r5)\n(10/41) Installing udev-init-scripts (35-r0)\nExecuting udev-init-scripts-35-r0.post-install\n(11/41) Installing eudev-libs (3.2.11-r0)\n(12/41) Installing libblkid (2.38-r1)\n(13/41) Installing xz-libs (5.2.5-r1)\n(14/41) Installing zstd-libs (1.5.2-r1)\n(15/41) Installing kmod-libs (29-r2)\n(16/41) Installing eudev (3.2.11-r0)\n(17/41) Installing pkgconf (1.8.0-r1)\n(18/41) Installing eudev-dev (3.2.11-r0)\n(19/41) Installing libgcc (11.2.1_git20220219-r2)\n(20/41) Installing libstdc++ (11.2.1_git20220219-r2)\n(21/41) Installing binutils (2.38-r3)\n(22/41) Installing libgomp (11.2.1_git20220219-r2)\n(23/41) Installing libatomic (11.2.1_git20220219-r2)\n(24/41) Installing gmp (6.2.1-r2)\n(25/41) Installing isl22 (0.22-r0)\n(26/41) Installing mpfr4 (4.1.0-r0)\n(27/41) Installing mpc1 (1.2.1-r0)\n(28/41) Installing gcc (11.2.1_git20220219-r2)\n(29/41) Installing expat (2.5.0-r0)\n(30/41) Installing pcre2 (10.40-r0)\n(31/41) Installing git (2.36.3-r0)\n(32/41) Installing musl-dev (1.2.3-r2)\n(33/41) Installing libc-dev (0.7.2-r3)\n(34/41) Installing linux-headers (5.16.7-r1)\n(35/41) Installing make (4.3-r0)\n(36/41) Installing libbz2 (1.0.8-r1)\n(37/41) Installing libffi (3.4.2-r1)\n(38/41) Installing gdbm (1.23-r0)\n(39/41) Installing mpdecimal (2.5.1-r1)\n(40/41) Installing sqlite-libs (3.38.5-r0)\n(41/41) Installing python3 (3.10.9-r0)\nExecuting busybox-1.35.0-r15.trigger\nExecuting eudev-3.2.11-r0.trigger\nOK: 194 MiB in 55 packages\nRemoving intermediate container 7ed02cf30210\n ---> b6e93944b456\nStep 7/23 : RUN wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\n ---> Running in f5391cccfa90\nRemoving intermediate container f5391cccfa90\n ---> 6e95d347eaea\nStep 8/23 : RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-2.25-r0.apk\n ---> Running in 6514c898a84b\n\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.110.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-2.25-r0.apk'\n\u001b[0m\u001b[91mglibc-2.25-r0.apk      6% |**                              |  191k  0:00:14 ETA\n\u001b[0m\u001b[91mglibc-2.25-r0.apk    100% |********************************| 2902k  0:00:00 ETA\n'glibc-2.25-r0.apk' saved\n\u001b[0mRemoving intermediate container 6514c898a84b\n ---> 1a9866401655\nStep 9/23 : RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-bin-2.25-r0.apk\n ---> Running in 5fc794f19522\n\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.110.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-bin-2.25-r0.apk'\n\u001b[0m\u001b[91mglibc-bin-2.25-r0.ap   7% |**                              |  127k  0:00:12 ETA\n\u001b[0m\u001b[91mglibc-bin-2.25-r0.ap 100% |********************************| 1721k  0:00:00 ETA\n'glibc-bin-2.25-r0.apk' saved\n\u001b[0mRemoving intermediate container 5fc794f19522\n ---> 8554e9735725\nStep 10/23 : RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-i18n-2.25-r0.apk\n ---> Running in 15fb12a18bfe\n\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.109.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-i18n-2.25-r0.apk'\n\u001b[0m\u001b[91mglibc-i18n-2.25-r0.a   2% |                                |  175k  0:00:40 ETA\n\u001b[0m\u001b[91mglibc-i18n-2.25-r0.a 100% |********************************| 7220k  0:00:00 ETA\n'glibc-i18n-2.25-r0.apk' saved\n\u001b[0mRemoving intermediate container 15fb12a18bfe\n ---> 4c9de152af1d\nStep 11/23 : RUN apk add --no-cache glibc-2.25-r0.apk glibc-bin-2.25-r0.apk glibc-i18n-2.25-r0.apk\n ---> Running in 0be70ad78c04\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing glibc (2.25-r0)\n(2/3) Installing glibc-bin (2.25-r0)\n(3/3) Installing glibc-i18n (2.25-r0)\nExecuting glibc-bin-2.25-r0.trigger\nOK: 211 MiB in 58 packages\nRemoving intermediate container 0be70ad78c04\n ---> c6df2130cc9e\nStep 12/23 : ENV LD_LIBRARY_PATH /usr/glibc-compat/lib\n ---> Running in 4aefaf0327ae\nRemoving intermediate container 4aefaf0327ae\n ---> 0c822a7f7ed9\nStep 13/23 : RUN /usr/glibc-compat/bin/localedef -i en_US -f UTF-8 en_US.UTF-8\n ---> Running in e8b4b11226fc\nRemoving intermediate container e8b4b11226fc\n ---> d88311e3f4d5\nStep 14/23 : RUN make install\n ---> Running in ad30b9f141cd\nmkdir -p /go/src/github.com/UnUniFi/chain/build/\ngo install -mod=readonly -tags \"netgo ledger\" -ldflags '-X github.com/cosmos/cosmos-sdk/version.Name=ununifi -X github.com/cosmos/cosmos-sdk/version.AppName=ununifid -X github.com/cosmos/cosmos-sdk/version.Version=main-d349af811d4462479d7165d68f8258ecfe874aa4 -X github.com/cosmos/cosmos-sdk/version.Commit=d349af811d4462479d7165d68f8258ecfe874aa4 -X \"github.com/cosmos/cosmos-sdk/version.BuildTags=netgo ledger,\" -X github.com/tendermint/tendermint/version.TMCoreSemVer=v0.34.16 -w -s' -trimpath  ./...\n\u001b[91mgo: downloading github.com/cosmos/cosmos-sdk v0.45.1\ngo: downloading github.com/spf13/cobra v1.3.0\ngo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/tendermint v0.34.16\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.33.2\n\u001b[0m\u001b[91mgo: downloading github.com/grpc-ecosystem/grpc-gateway v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/protobuf v1.3.3-alpha.regen.1\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20211208223120-3a66f561d7aa\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading github.com/CosmWasm/wasmd v0.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ibc-go/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.7.1\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/tm-db v0.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/cosmos-proto v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211208012354-db4efeb81f4b\n\u001b[0m\u001b[91mgo: downloading github.com/CosmWasm/wasmvm v1.0.0-beta10\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\ngo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/armon/go-metrics v0.3.10\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/go-amino v0.16.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.10.1\n\u001b[0m\u001b[91mgo: downloading github.com/confio/ics23/go v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/gateway v1.1.0\ngo: downloading github.com/gorilla/handlers v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/go-bip39 v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcd v0.22.0-beta\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210915214749-c084706c2272\n\u001b[0m\u001b[91mgo: downloading github.com/rakyll/statik v0.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/99designs/keyring v1.1.6\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/crypto v0.0.0-20191022145703-50d29ede1e15\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220114195835-da31bd327af9\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.32.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/iavl v0.17.3\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/bgentry/speakeasy v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/felixge/httpsnoop v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.7.3\n\u001b[0m\u001b[91mgo: downloading github.com/hdevalence/ed25519consensus v0.0.0-20210204194344-59a8610d2b87\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/btcutil v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.5\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.66.2\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-immutable-radix v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.4\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.8.2\n\u001b[0m\u001b[91mgo: downloading github.com/coinbase/rosetta-sdk-go v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/improbable-eng/grpc-web v0.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ledger-cosmos-go v0.11.1\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/btcd v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/btree v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.1-0.20200815110645-5c35d600f0ca\n\u001b[0m\u001b[91mgo: downloading github.com/dvsekhvalnov/jose2go v0.0.0-20200901110807-248326c1351b\ngo: downloading github.com/godbus/dbus v0.0.0-20190726142602-4481cbc300e2\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\ngo: downloading github.com/gsterjov/go-libsecret v0.0.0-20161001094733-a6f4afe4910c\n\u001b[0m\u001b[91mgo: downloading github.com/mtibben/percent v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20200313005456-10cdbea86bc0\n\u001b[0m\u001b[91mgo: downloading github.com/ChainSafe/go-schnorrkel v0.0.0-20200405005733-88cbf1b4c40d\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/merlin v0.1.1\ngo: downloading github.com/libp2p/go-buffer-pool v0.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.4\n\u001b[0m\u001b[91mgo: downloading github.com/Workiva/go-datastructures v1.0.53\n\u001b[0m\u001b[91mgo: downloading github.com/minio/highwayhash v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/orderedcode v0.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\n\u001b[0m\u001b[91mgo: downloading filippo.io/edwards25519 v1.0.0-beta.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/StrobeGo v0.0.0-20181016162300-f8f6d4d2b643\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ledger-go v0.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/ristretto255 v0.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/desertbit/timer v0.0.0-20180107155436-c41aec40b27f\ngo: downloading nhooyr.io/websocket v1.8.6\n\u001b[0m\u001b[91mgo: downloading github.com/zondax/hid v0.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91m# github.com/zondax/hid\nIn file included from /go/pkg/mod/github.com/zondax/hid@v0.9.0/hid_enabled.go:22:\n/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]\n    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>\n      |  ^~~~~~~\n\u001b[0mRemoving intermediate container ad30b9f141cd\n ---> 0901f84bbd45\nStep 15/23 : FROM alpine:edge\nedge: Pulling from library/alpine\na71ff8a5264a: Pulling fs layer\na71ff8a5264a: Download complete\na71ff8a5264a: Pull complete\nDigest: sha256:c223f84e05c23c0571ce8decefef818864869187e1a3ea47719412e205c8c64e\nStatus: Downloaded newer image for alpine:edge\n ---> 121d0da75751\nStep 16/23 : RUN apk add --update ca-certificates\n ---> Running in 35f02290fed8\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20221203-r1)\nExecuting busybox-1.35.0-r27.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 35f02290fed8\n ---> 5db64cfa480f\nStep 17/23 : WORKDIR /root\n ---> Running in 1f12582c6b74\nRemoving intermediate container 1f12582c6b74\n ---> ac58cec037fb\nStep 18/23 : COPY --from=build-env /go/bin/ununifid /usr/bin/ununifid\n ---> 2d1516acefc0\nStep 19/23 : COPY --from=build-env /go/pkg/mod/github.com/!cosm!wasm/wasmvm@v1.0.0-beta10/api/libwasmvm.so /usr/lib/libwasmvm.so\n ---> 1e0ba8cba1ce\nStep 20/23 : COPY --from=build-env /lib/ld-musl-x86_64.so.1 /usr/lib/ld-musl-x86_64.so.1\n ---> b246796b6455\nStep 21/23 : COPY --from=build-env /usr/lib/libgcc_s.so.1 /usr/lib/libgcc_s.so.1\n ---> 02a5f8f0f96e\nStep 22/23 : COPY --from=build-env /usr/glibc-compat/lib/ld-linux-x86-64.so.2 /usr/lib/ld-linux-x86-64.so.2\n ---> 541d46ab0f35\nStep 23/23 : CMD [\"ununifid\"]\n ---> Running in 94652c57c7ee\nRemoving intermediate container 94652c57c7ee\n ---> 6441d28b7815\nSuccessfully built 6441d28b7815\nSuccessfully tagged chain:latest\n","stderr":"","imageSize":65956820},"repair":{"startTime":1672907960689,"endTime":1672907960779,"violations":[{"name":"apkAddUseNoCache","position":{"start":34,"end":34,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# Simple usage with a mounted data directory:\n# > docker build -t ununifid .\n# > docker run -it -p 26656:26656 -p 26657:26657 -v ~/.ununifi:/root/.ununifi ghcr.io/ununifi/ununifid ununifid init\n# > docker run -it -p 26656:26656 -p 26657:26657 -v ~/.ununifi:/root/.ununifi ghcr.io/ununifi/ununifid ununifid start\nFROM golang:1.17-alpine AS build-env\n\n# Set up dependencies\nENV PACKAGES curl make git libc-dev bash gcc linux-headers eudev-dev python3\n\n# Set working directory for the build\nWORKDIR /go/src/github.com/UnUniFi/chain\n\n# Add source files\nCOPY . .\n\nRUN go version\n\n# Install minimum necessary dependencies, build Cosmos SDK, remove packages\nRUN apk add --no-cache $PACKAGES\n\n# install and setup glibc\nRUN wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\nRUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-2.25-r0.apk\nRUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-bin-2.25-r0.apk\nRUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-i18n-2.25-r0.apk\nRUN apk add --no-cache glibc-2.25-r0.apk glibc-bin-2.25-r0.apk glibc-i18n-2.25-r0.apk\nENV LD_LIBRARY_PATH /usr/glibc-compat/lib\nRUN /usr/glibc-compat/bin/localedef -i en_US -f UTF-8 en_US.UTF-8\nRUN make install\n\n# Final image\nFROM alpine:edge\n\n# Install ca-certificates\nRUN apk add --no-cache --update ca-certificates\n\nWORKDIR /root\n\n# Copy over binaries from the build-env\nCOPY --from=build-env /go/bin/ununifid /usr/bin/ununifid\nCOPY --from=build-env /go/pkg/mod/github.com/!cosm!wasm/wasmvm@v1.0.0-beta10/api/libwasmvm.so /usr/lib/libwasmvm.so\nCOPY --from=build-env /lib/ld-musl-x86_64.so.1 /usr/lib/ld-musl-x86_64.so.1\nCOPY --from=build-env /usr/lib/libgcc_s.so.1 /usr/lib/libgcc_s.so.1\nCOPY --from=build-env /usr/glibc-compat/lib/ld-linux-x86-64.so.2 /usr/lib/ld-linux-x86-64.so.2\n\n# Run ununifid by default, omit entrypoint to ease using container with ununificli\nCMD [\"ununifid\"]\n"},"repairedBuild":{"startTime":1672907961156,"endTime":1672908077462,"error":null,"stdout":"Sending build context to Docker daemon  4.212MB\r\r\nStep 1/23 : FROM golang:1.17-alpine AS build-env\n ---> 270c4f58750f\nStep 2/23 : ENV PACKAGES curl make git libc-dev bash gcc linux-headers eudev-dev python3\n ---> Running in 368cde31f1d7\nRemoving intermediate container 368cde31f1d7\n ---> 6b34ebc2179a\nStep 3/23 : WORKDIR /go/src/github.com/UnUniFi/chain\n ---> Running in 4ea0997e947d\nRemoving intermediate container 4ea0997e947d\n ---> 1da220ff5705\nStep 4/23 : COPY . .\n ---> 02ba454bda0e\nStep 5/23 : RUN go version\n ---> Running in 01636ddc0a84\ngo version go1.17.13 linux/amd64\nRemoving intermediate container 01636ddc0a84\n ---> 23706a715519\nStep 6/23 : RUN apk add --no-cache $PACKAGES\n ---> Running in dee1d904e720\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/41) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/41) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(3/41) Installing ncurses-libs (6.3_p20220521-r0)\n(4/41) Installing readline (8.1.2-r0)\n(5/41) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(6/41) Installing brotli-libs (1.0.9-r6)\n(7/41) Installing nghttp2-libs (1.47.0-r0)\n(8/41) Installing libcurl (7.83.1-r5)\n(9/41) Installing curl (7.83.1-r5)\n(10/41) Installing udev-init-scripts (35-r0)\nExecuting udev-init-scripts-35-r0.post-install\n(11/41) Installing eudev-libs (3.2.11-r0)\n(12/41) Installing libblkid (2.38-r1)\n(13/41) Installing xz-libs (5.2.5-r1)\n(14/41) Installing zstd-libs (1.5.2-r1)\n(15/41) Installing kmod-libs (29-r2)\n(16/41) Installing eudev (3.2.11-r0)\n(17/41) Installing pkgconf (1.8.0-r1)\n(18/41) Installing eudev-dev (3.2.11-r0)\n(19/41) Installing libgcc (11.2.1_git20220219-r2)\n(20/41) Installing libstdc++ (11.2.1_git20220219-r2)\n(21/41) Installing binutils (2.38-r3)\n(22/41) Installing libgomp (11.2.1_git20220219-r2)\n(23/41) Installing libatomic (11.2.1_git20220219-r2)\n(24/41) Installing gmp (6.2.1-r2)\n(25/41) Installing isl22 (0.22-r0)\n(26/41) Installing mpfr4 (4.1.0-r0)\n(27/41) Installing mpc1 (1.2.1-r0)\n(28/41) Installing gcc (11.2.1_git20220219-r2)\n(29/41) Installing expat (2.5.0-r0)\n(30/41) Installing pcre2 (10.40-r0)\n(31/41) Installing git (2.36.3-r0)\n(32/41) Installing musl-dev (1.2.3-r2)\n(33/41) Installing libc-dev (0.7.2-r3)\n(34/41) Installing linux-headers (5.16.7-r1)\n(35/41) Installing make (4.3-r0)\n(36/41) Installing libbz2 (1.0.8-r1)\n(37/41) Installing libffi (3.4.2-r1)\n(38/41) Installing gdbm (1.23-r0)\n(39/41) Installing mpdecimal (2.5.1-r1)\n(40/41) Installing sqlite-libs (3.38.5-r0)\n(41/41) Installing python3 (3.10.9-r0)\nExecuting busybox-1.35.0-r15.trigger\nExecuting eudev-3.2.11-r0.trigger\nOK: 194 MiB in 55 packages\nRemoving intermediate container dee1d904e720\n ---> abfe8ee4fdd9\nStep 7/23 : RUN wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\n ---> Running in 76fea3fd6214\nRemoving intermediate container 76fea3fd6214\n ---> 837c2156f9a0\nStep 8/23 : RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-2.25-r0.apk\n ---> Running in e535104a9295\n\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.111.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-2.25-r0.apk'\n\u001b[0m\u001b[91mglibc-2.25-r0.apk    100% |********************************| 2902k  0:00:00 ETA\n'glibc-2.25-r0.apk' saved\n\u001b[0mRemoving intermediate container e535104a9295\n ---> 5bd18d75136f\nStep 9/23 : RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-bin-2.25-r0.apk\n ---> Running in a22c2b00989b\n\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.109.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-bin-2.25-r0.apk'\n\u001b[0m\u001b[91mglibc-bin-2.25-r0.ap 100% |********************************| 1721k  0:00:00 ETA\n'glibc-bin-2.25-r0.apk' saved\n\u001b[0mRemoving intermediate container a22c2b00989b\n ---> 96fd56142df6\nStep 10/23 : RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-i18n-2.25-r0.apk\n ---> Running in ae56e85355b3\n\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.111.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-i18n-2.25-r0.apk'\n\u001b[0m\u001b[91mglibc-i18n-2.25-r0.a   7% |**                              |  527k  0:00:12 ETA\n\u001b[0m\u001b[91mglibc-i18n-2.25-r0.a 100% |********************************| 7220k  0:00:00 ETA\n'glibc-i18n-2.25-r0.apk' saved\n\u001b[0mRemoving intermediate container ae56e85355b3\n ---> ba775fbe20f7\nStep 11/23 : RUN apk add --no-cache glibc-2.25-r0.apk glibc-bin-2.25-r0.apk glibc-i18n-2.25-r0.apk\n ---> Running in fcb9691fb7d7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing glibc (2.25-r0)\n(2/3) Installing glibc-bin (2.25-r0)\n(3/3) Installing glibc-i18n (2.25-r0)\nExecuting glibc-bin-2.25-r0.trigger\nOK: 211 MiB in 58 packages\nRemoving intermediate container fcb9691fb7d7\n ---> ea92265ea438\nStep 12/23 : ENV LD_LIBRARY_PATH /usr/glibc-compat/lib\n ---> Running in 0ee25bfd4ba3\nRemoving intermediate container 0ee25bfd4ba3\n ---> eea3fe37741e\nStep 13/23 : RUN /usr/glibc-compat/bin/localedef -i en_US -f UTF-8 en_US.UTF-8\n ---> Running in 9509154d7c74\nRemoving intermediate container 9509154d7c74\n ---> 97318f1240a5\nStep 14/23 : RUN make install\n ---> Running in 12366f2149ce\nmkdir -p /go/src/github.com/UnUniFi/chain/build/\ngo install -mod=readonly -tags \"netgo ledger\" -ldflags '-X github.com/cosmos/cosmos-sdk/version.Name=ununifi -X github.com/cosmos/cosmos-sdk/version.AppName=ununifid -X github.com/cosmos/cosmos-sdk/version.Version=main-d349af811d4462479d7165d68f8258ecfe874aa4 -X github.com/cosmos/cosmos-sdk/version.Commit=d349af811d4462479d7165d68f8258ecfe874aa4 -X \"github.com/cosmos/cosmos-sdk/version.BuildTags=netgo ledger,\" -X github.com/tendermint/tendermint/version.TMCoreSemVer=v0.34.16 -w -s' -trimpath  ./...\n\u001b[91mgo: downloading github.com/cosmos/cosmos-sdk v0.45.1\ngo: downloading github.com/gorilla/mux v1.8.0\ngo: downloading github.com/grpc-ecosystem/grpc-gateway v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/tendermint v0.34.16\ngo: downloading github.com/spf13/cobra v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/CosmWasm/wasmd v0.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/tm-db v0.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/protobuf v1.3.3-alpha.regen.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20211208223120-3a66f561d7aa\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.33.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ibc-go/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.7.1\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/cosmos-proto v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/CosmWasm/wasmvm v1.0.0-beta10\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.32.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.7.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.10.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211208012354-db4efeb81f4b\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/btree v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.1-0.20200815110645-5c35d600f0ca\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.26.0\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/go-amino v0.16.0\ngo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/go-bip39 v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/armon/go-metrics v0.3.10\n\u001b[0m\u001b[91mgo: downloading github.com/99designs/keyring v1.1.6\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/crypto v0.0.0-20191022145703-50d29ede1e15\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/gateway v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/handlers v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/confio/ics23/go v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/rakyll/statik v0.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcd v0.22.0-beta\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210915214749-c084706c2272\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.5\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.6.0\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.2.0\ngo: downloading golang.org/x/sys v0.0.0-20220114195835-da31bd327af9\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.66.2\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/iavl v0.17.3\ngo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/bgentry/speakeasy v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ledger-cosmos-go v0.11.1\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/btcd v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/dvsekhvalnov/jose2go v0.0.0-20200901110807-248326c1351b\n\u001b[0m\u001b[91mgo: downloading github.com/godbus/dbus v0.0.0-20190726142602-4481cbc300e2\n\u001b[0m\u001b[91mgo: downloading github.com/gsterjov/go-libsecret v0.0.0-20161001094733-a6f4afe4910c\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mtibben/percent v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-immutable-radix v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/felixge/httpsnoop v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/coinbase/rosetta-sdk-go v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/improbable-eng/grpc-web v0.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.4\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.8.2\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/btcutil v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/hdevalence/ed25519consensus v0.0.0-20210204194344-59a8610d2b87\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.4\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/ChainSafe/go-schnorrkel v0.0.0-20200405005733-88cbf1b4c40d\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/merlin v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/libp2p/go-buffer-pool v0.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20200313005456-10cdbea86bc0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ledger-go v0.9.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/Workiva/go-datastructures v1.0.53\n\u001b[0m\u001b[91mgo: downloading github.com/google/orderedcode v0.0.1\ngo: downloading github.com/minio/highwayhash v1.0.2\n\u001b[0m\u001b[91mgo: downloading filippo.io/edwards25519 v1.0.0-beta.2\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/StrobeGo v0.0.0-20181016162300-f8f6d4d2b643\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/ristretto255 v0.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/zondax/hid v0.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/desertbit/timer v0.0.0-20180107155436-c41aec40b27f\n\u001b[0m\u001b[91mgo: downloading nhooyr.io/websocket v1.8.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91m# github.com/zondax/hid\nIn file included from /go/pkg/mod/github.com/zondax/hid@v0.9.0/hid_enabled.go:22:\n/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]\n    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>\n      |  ^~~~~~~\n\u001b[0mRemoving intermediate container 12366f2149ce\n ---> 83e86f99797b\nStep 15/23 : FROM alpine:edge\n ---> 121d0da75751\nStep 16/23 : RUN apk add --no-cache --update ca-certificates\n ---> Running in 99c22fca0618\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20221203-r1)\nExecuting busybox-1.35.0-r27.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 99c22fca0618\n ---> 613cee4d6ea9\nStep 17/23 : WORKDIR /root\n ---> Running in 45452d02a9a1\nRemoving intermediate container 45452d02a9a1\n ---> 1cc6bdefa1f1\nStep 18/23 : COPY --from=build-env /go/bin/ununifid /usr/bin/ununifid\n ---> 4cd62c674775\nStep 19/23 : COPY --from=build-env /go/pkg/mod/github.com/!cosm!wasm/wasmvm@v1.0.0-beta10/api/libwasmvm.so /usr/lib/libwasmvm.so\n ---> ef189930e5e0\nStep 20/23 : COPY --from=build-env /lib/ld-musl-x86_64.so.1 /usr/lib/ld-musl-x86_64.so.1\n ---> ea439adf02d3\nStep 21/23 : COPY --from=build-env /usr/lib/libgcc_s.so.1 /usr/lib/libgcc_s.so.1\n ---> 6ba4e974425f\nStep 22/23 : COPY --from=build-env /usr/glibc-compat/lib/ld-linux-x86-64.so.2 /usr/lib/ld-linux-x86-64.so.2\n ---> 3fb452380af7\nStep 23/23 : CMD [\"ununifid\"]\n ---> Running in 049c716101c5\nRemoving intermediate container 049c716101c5\n ---> 8ea8df6a2025\nSuccessfully built 8ea8df6a2025\nSuccessfully tagged chain:latest\n","stderr":"","imageSize":63374062}}