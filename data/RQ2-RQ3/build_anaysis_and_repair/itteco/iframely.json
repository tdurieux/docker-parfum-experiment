{"repository":"https://github.com/itteco/iframely","dockerfilePath":"Dockerfile","startTime":1672257765624,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/itteco/iframely'...\n","error":null,"commit":"74591a71110c65d60759a4fb40e223292948fc27"},"originalBuild":{"startTimestamp":1672257766595,"endTimestamp":1672257817615,"error":null,"stdout":"Sending build context to Docker daemon  1.582MB\r\r\nStep 1/11 : FROM node:17.8-alpine3.15\n17.8-alpine3.15: Pulling from library/node\ndf9b9388f04a: Already exists\n62f6113b2624: Pulling fs layer\nc3f98107bf94: Pulling fs layer\ndb93f8d654ea: Pulling fs layer\ndb93f8d654ea: Verifying Checksum\ndb93f8d654ea: Download complete\nc3f98107bf94: Verifying Checksum\nc3f98107bf94: Download complete\n62f6113b2624: Verifying Checksum\n62f6113b2624: Download complete\n62f6113b2624: Pull complete\nc3f98107bf94: Pull complete\ndb93f8d654ea: Pull complete\nDigest: sha256:57106b8c14fdfc6d1ee2b27de320a4d17db55032c4e6e99ff1021d81ef01c328\nStatus: Downloaded newer image for node:17.8-alpine3.15\n ---> dca41997cda4\nStep 2/11 : EXPOSE 8061\n ---> Running in 424c81b5cd05\nRemoving intermediate container 424c81b5cd05\n ---> d4fc54602d54\nStep 3/11 : WORKDIR /iframely\n ---> Running in b07b2d66321c\nRemoving intermediate container b07b2d66321c\n ---> 8f99d56d1b33\nStep 4/11 : RUN addgroup -S iframelygroup && adduser -S iframely -G iframelygroup\n ---> Running in 5180ae60b2ba\nRemoving intermediate container 5180ae60b2ba\n ---> 327670c3c04c\nStep 5/11 : RUN apk add g++ make python3\n ---> Running in 1586077e06b6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing binutils (2.37-r3)\n(2/24) Installing libgomp (10.3.1_git20211027-r0)\n(3/24) Installing libatomic (10.3.1_git20211027-r0)\n(4/24) Installing libgphobos (10.3.1_git20211027-r0)\n(5/24) Installing gmp (6.2.1-r1)\n(6/24) Installing isl22 (0.22-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r0)\n(9/24) Installing gcc (10.3.1_git20211027-r0)\n(10/24) Installing musl-dev (1.2.2-r7)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (10.3.1_git20211027-r0)\n(13/24) Installing make (4.3-r0)\n(14/24) Installing libbz2 (1.0.8-r1)\n(15/24) Installing expat (2.5.0-r0)\n(16/24) Installing libffi (3.4.2-r1)\n(17/24) Installing gdbm (1.22-r0)\n(18/24) Installing xz-libs (5.2.5-r1)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(21/24) Installing ncurses-libs (6.3_p20211120-r1)\n(22/24) Installing readline (8.1.1-r0)\n(23/24) Installing sqlite-libs (3.36.0-r0)\n(24/24) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 238 MiB in 40 packages\nRemoving intermediate container 1586077e06b6\n ---> e83e0fb035ba\nStep 6/11 : ENV NODE_ENV=local\n ---> Running in 3ad189aad429\nRemoving intermediate container 3ad189aad429\n ---> a8580adb468a\nStep 7/11 : COPY package.json yarn.lock /iframely/\n ---> cb0234779a28\nStep 8/11 : RUN yarn install --pure-lockfile --production\n ---> Running in 5e22234e90b5\nyarn install v1.22.18\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\n[4/5] Linking dependencies...\n\u001b[91mwarning Workspaces can only be enabled in private projects.\n\u001b[0m[5/5] Building fresh packages...\nDone in 8.47s.\nRemoving intermediate container 5e22234e90b5\n ---> 6e3941668b2a\nStep 9/11 : COPY . /iframely\n ---> d552e918c187\nStep 10/11 : USER iframely\n ---> Running in de3d5f92a632\nRemoving intermediate container de3d5f92a632\n ---> ff2339b1bfc7\nStep 11/11 : ENTRYPOINT [ \"/iframely/docker/entrypoint.sh\" ]\n ---> Running in 39bd950e0656\nRemoving intermediate container 39bd950e0656\n ---> 833401b1b3fe\nSuccessfully built 833401b1b3fe\nSuccessfully tagged iframely:latest\n","stderr":"","imageSize":485827803},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:17.8-alpine3.15\n\nEXPOSE 8061\n\nWORKDIR /iframely\n\n# Create new non-root user\nRUN addgroup -S iframelygroup && adduser -S iframely -G iframelygroup\nRUN apk add --no-cache g++ make python3\n\n# This will change the config to `config.<VALUE>.js` and the express server to change its behaviour.\n# You should overwrite this on the CLI with `-e NODE_ENV=production`.\nENV NODE_ENV=local\n\n## Utilize docker layer cache\nCOPY package.json yarn.lock /iframely/\nRUN yarn install --pure-lockfile --production\n\nCOPY . /iframely\n\nUSER iframely\n\nENTRYPOINT [ \"/iframely/docker/entrypoint.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672257818151,"endTimestamp":1672257857616,"error":null,"stdout":"Sending build context to Docker daemon  1.582MB\r\r\nStep 1/11 : FROM node:17.8-alpine3.15\n ---> dca41997cda4\nStep 2/11 : EXPOSE 8061\n ---> Running in 3a5771e7998e\nRemoving intermediate container 3a5771e7998e\n ---> 035300fc9352\nStep 3/11 : WORKDIR /iframely\n ---> Running in f4e200124046\nRemoving intermediate container f4e200124046\n ---> e8ece6110ad5\nStep 4/11 : RUN addgroup -S iframelygroup && adduser -S iframely -G iframelygroup\n ---> Running in 202d8dc066d3\nRemoving intermediate container 202d8dc066d3\n ---> 6575b01719a2\nStep 5/11 : RUN apk add --no-cache g++ make python3\n ---> Running in 46048d880425\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing binutils (2.37-r3)\n(2/24) Installing libgomp (10.3.1_git20211027-r0)\n(3/24) Installing libatomic (10.3.1_git20211027-r0)\n(4/24) Installing libgphobos (10.3.1_git20211027-r0)\n(5/24) Installing gmp (6.2.1-r1)\n(6/24) Installing isl22 (0.22-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r0)\n(9/24) Installing gcc (10.3.1_git20211027-r0)\n(10/24) Installing musl-dev (1.2.2-r7)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (10.3.1_git20211027-r0)\n(13/24) Installing make (4.3-r0)\n(14/24) Installing libbz2 (1.0.8-r1)\n(15/24) Installing expat (2.5.0-r0)\n(16/24) Installing libffi (3.4.2-r1)\n(17/24) Installing gdbm (1.22-r0)\n(18/24) Installing xz-libs (5.2.5-r1)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(21/24) Installing ncurses-libs (6.3_p20211120-r1)\n(22/24) Installing readline (8.1.1-r0)\n(23/24) Installing sqlite-libs (3.36.0-r0)\n(24/24) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 238 MiB in 40 packages\nRemoving intermediate container 46048d880425\n ---> cb6e25f8e3e8\nStep 6/11 : ENV NODE_ENV=local\n ---> Running in 1191b8fddd92\nRemoving intermediate container 1191b8fddd92\n ---> 1e3c26c78dad\nStep 7/11 : COPY package.json yarn.lock /iframely/\n ---> 7b223ba3685c\nStep 8/11 : RUN yarn install --pure-lockfile --production\n ---> Running in bd330b82f752\nyarn install v1.22.18\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\n[4/5] Linking dependencies...\n\u001b[91mwarning Workspaces can only be enabled in private projects.\n\u001b[0m[5/5] Building fresh packages...\nDone in 5.12s.\nRemoving intermediate container bd330b82f752\n ---> 33810e04e4e5\nStep 9/11 : COPY . /iframely\n ---> 2e5de6b6e850\nStep 10/11 : USER iframely\n ---> Running in 70a77002f190\nRemoving intermediate container 70a77002f190\n ---> 764bb88909e2\nStep 11/11 : ENTRYPOINT [ \"/iframely/docker/entrypoint.sh\" ]\n ---> Running in 29019f2ce638\nRemoving intermediate container 29019f2ce638\n ---> c892e491ef15\nSuccessfully built c892e491ef15\nSuccessfully tagged iframely:latest\n","stderr":"","imageSize":483532006},"endTime":1672257858129}