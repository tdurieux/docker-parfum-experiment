{"repository":"https://github.com/wee-slack/wee-slack","dockerfilePath":"Dockerfile","startTime":1673039281908,"endTime":1673039410420,"clone":{"startTime":1673039281908,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wee-slack/wee-slack'...\n","error":null,"endTime":1673039283387,"commit":"6cddf1a3b893e0771330c713681c92ef509726fd"},"originalBuild":{"startTime":1673039283471,"endTime":1673039327185,"error":null,"stdout":"Sending build context to Docker daemon  2.445MB\r\r\nStep 1/9 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/9 : RUN apk add --no-cache \tca-certificates \tpython3 \tpy-pip \tweechat \tweechat-perl \tweechat-python\n ---> Running in f96c3fea558d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing ca-certificates (20220614-r3)\n(2/37) Installing libbz2 (1.0.8-r4)\n(3/37) Installing libexpat (2.5.0-r0)\n(4/37) Installing libffi (3.4.4-r0)\n(5/37) Installing gdbm (1.23-r0)\n(6/37) Installing xz-libs (5.2.9-r0)\n(7/37) Installing libgcc (12.2.1_git20220924-r4)\n(8/37) Installing libstdc++ (12.2.1_git20220924-r4)\n(9/37) Installing mpdecimal (2.5.1-r1)\n(10/37) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(11/37) Installing ncurses-libs (6.3_p20221119-r0)\n(12/37) Installing readline (8.2.0-r0)\n(13/37) Installing sqlite-libs (3.40.1-r0)\n(14/37) Installing python3 (3.10.9-r1)\n(15/37) Installing py3-six (1.16.0-r3)\n(16/37) Installing py3-retrying (1.3.3-r3)\n(17/37) Installing py3-parsing (3.0.9-r0)\n(18/37) Installing py3-packaging (21.3-r2)\n(19/37) Installing py3-setuptools (65.6.0-r0)\n(20/37) Installing py3-pip (22.3.1-r1)\n(21/37) Installing brotli-libs (1.0.9-r9)\n(22/37) Installing nghttp2-libs (1.51.0-r0)\n(23/37) Installing libcurl (7.87.0-r0)\n(24/37) Installing libgpg-error (1.46-r1)\n(25/37) Installing libgcrypt (1.10.1-r0)\n(26/37) Installing gmp (6.2.1-r2)\n(27/37) Installing nettle (3.8.1-r0)\n(28/37) Installing p11-kit (0.24.1-r1)\n(29/37) Installing libtasn1 (4.19.0-r0)\n(30/37) Installing libunistring (1.1-r0)\n(31/37) Installing gnutls (3.7.8-r2)\n(32/37) Installing libintl (0.21.1-r1)\n(33/37) Installing zstd-libs (1.5.2-r9)\n(34/37) Installing weechat (3.7.1-r0)\n(35/37) Installing perl (5.36.0-r0)\n(36/37) Installing weechat-perl (3.7.1-r0)\n(37/37) Installing weechat-python (3.7.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 134 MiB in 52 packages\nRemoving intermediate container f96c3fea558d\n ---> 3fd77a6c80f0\nStep 3/9 : RUN pip install websocket-client\n ---> Running in 59bfc3aa587b\nCollecting websocket-client\n  Downloading websocket_client-1.4.2-py3-none-any.whl (55 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.3/55.3 kB 98.3 kB/s eta 0:00:00\nInstalling collected packages: websocket-client\nSuccessfully installed websocket-client-1.4.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 59bfc3aa587b\n ---> 00cc6724a5f9\nStep 4/9 : ENV HOME /home/user\n ---> Running in 8d796f40d859\nRemoving intermediate container 8d796f40d859\n ---> bbfe64cad31f\nStep 5/9 : COPY wee_slack.py /home/user/.weechat/python/autoload/wee_slack.py\n ---> 0462f63cd587\nStep 6/9 : RUN adduser -S user -h $HOME \t&& chown -R user $HOME\n ---> Running in ca11f311c4e1\nRemoving intermediate container ca11f311c4e1\n ---> a636d42b8dab\nStep 7/9 : WORKDIR $HOME\n ---> Running in c5995e19ef5d\nRemoving intermediate container c5995e19ef5d\n ---> fcc9417c1dbd\nStep 8/9 : USER user\n ---> Running in eef8ba1c7ab2\nRemoving intermediate container eef8ba1c7ab2\n ---> b8f6d218b1a1\nStep 9/9 : ENTRYPOINT [ \"weechat\" ]\n ---> Running in 584cadd41746\nRemoving intermediate container 584cadd41746\n ---> 3d2656b7c46e\nSuccessfully built 3d2656b7c46e\nSuccessfully tagged wee-slack:latest\n","stderr":"","imageSize":128030175},"repair":{"startTime":1673039327247,"endTime":1673039327292,"violations":[{"name":"pipUseNoCacheDir","position":{"start":23,"end":23,"columnStart":4,"columnEnd":32}}],"repairedDockerfile":"# Usage:\n# \tBuilding\n# \t\tdocker build -t wee-slack .\n#\tRunning (no saved state)\n# \t\tdocker run -it \\\n#\t\t\t-v /etc/localtime:/etc/localtime:ro \\ # for your time\n# \t\t\twee-slack\n# \tRunning (saved state)\n# \t\tdocker run -it \\\n#\t\t\t-v /etc/localtime:/etc/localtime:ro \\ # for your time\n# \t\t\t-v \"${HOME}/.weechat:/home/user/.weechat\" \\\n# \t\t\twee-slack\n#\nFROM alpine:latest\n\nRUN apk add --no-cache \\\n\tca-certificates \\\n\tpython3 \\\n\tpy-pip \\\n\tweechat \\\n\tweechat-perl \\\n\tweechat-python\n\nRUN pip install --no-cache-dir websocket-client\n\nENV HOME /home/user\n\nCOPY wee_slack.py /home/user/.weechat/python/autoload/wee_slack.py\n\nRUN adduser -S user -h $HOME \\\n\t&& chown -R user $HOME\n\nWORKDIR $HOME\nUSER user\n\nENTRYPOINT [ \"weechat\" ]\n"},"repairedBuild":{"startTime":1673039327593,"endTime":1673039409876,"error":null,"stdout":"Sending build context to Docker daemon  2.445MB\r\r\nStep 1/9 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/9 : RUN apk add --no-cache \tca-certificates \tpython3 \tpy-pip \tweechat \tweechat-perl \tweechat-python\n ---> Running in 0d4e3985b44f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing ca-certificates (20220614-r3)\n(2/37) Installing libbz2 (1.0.8-r4)\n(3/37) Installing libexpat (2.5.0-r0)\n(4/37) Installing libffi (3.4.4-r0)\n(5/37) Installing gdbm (1.23-r0)\n(6/37) Installing xz-libs (5.2.9-r0)\n(7/37) Installing libgcc (12.2.1_git20220924-r4)\n(8/37) Installing libstdc++ (12.2.1_git20220924-r4)\n(9/37) Installing mpdecimal (2.5.1-r1)\n(10/37) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(11/37) Installing ncurses-libs (6.3_p20221119-r0)\n(12/37) Installing readline (8.2.0-r0)\n(13/37) Installing sqlite-libs (3.40.1-r0)\n(14/37) Installing python3 (3.10.9-r1)\n(15/37) Installing py3-six (1.16.0-r3)\n(16/37) Installing py3-retrying (1.3.3-r3)\n(17/37) Installing py3-parsing (3.0.9-r0)\n(18/37) Installing py3-packaging (21.3-r2)\n(19/37) Installing py3-setuptools (65.6.0-r0)\n(20/37) Installing py3-pip (22.3.1-r1)\n(21/37) Installing brotli-libs (1.0.9-r9)\n(22/37) Installing nghttp2-libs (1.51.0-r0)\n(23/37) Installing libcurl (7.87.0-r0)\n(24/37) Installing libgpg-error (1.46-r1)\n(25/37) Installing libgcrypt (1.10.1-r0)\n(26/37) Installing gmp (6.2.1-r2)\n(27/37) Installing nettle (3.8.1-r0)\n(28/37) Installing p11-kit (0.24.1-r1)\n(29/37) Installing libtasn1 (4.19.0-r0)\n(30/37) Installing libunistring (1.1-r0)\n(31/37) Installing gnutls (3.7.8-r2)\n(32/37) Installing libintl (0.21.1-r1)\n(33/37) Installing zstd-libs (1.5.2-r9)\n(34/37) Installing weechat (3.7.1-r0)\n(35/37) Installing perl (5.36.0-r0)\n(36/37) Installing weechat-perl (3.7.1-r0)\n(37/37) Installing weechat-python (3.7.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 134 MiB in 52 packages\nRemoving intermediate container 0d4e3985b44f\n ---> 0bb44e44035f\nStep 3/9 : RUN pip install --no-cache-dir websocket-client\n ---> Running in ea3f92621b39\nCollecting websocket-client\n  Downloading websocket_client-1.4.2-py3-none-any.whl (55 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.3/55.3 kB 21.2 MB/s eta 0:00:00\nInstalling collected packages: websocket-client\nSuccessfully installed websocket-client-1.4.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container ea3f92621b39\n ---> 24cf4e28bae9\nStep 4/9 : ENV HOME /home/user\n ---> Running in 31002d267418\nRemoving intermediate container 31002d267418\n ---> 615e13afe6fb\nStep 5/9 : COPY wee_slack.py /home/user/.weechat/python/autoload/wee_slack.py\n ---> c705a18342ac\nStep 6/9 : RUN adduser -S user -h $HOME \t&& chown -R user $HOME\n ---> Running in 95b48a424a3b\nRemoving intermediate container 95b48a424a3b\n ---> 474bc8169d9e\nStep 7/9 : WORKDIR $HOME\n ---> Running in 157c7f0571ee\nRemoving intermediate container 157c7f0571ee\n ---> e85c2aa68bb6\nStep 8/9 : USER user\n ---> Running in 0bcd45a4c420\nRemoving intermediate container 0bcd45a4c420\n ---> 8b80f8db15d7\nStep 9/9 : ENTRYPOINT [ \"weechat\" ]\n ---> Running in 495246d809da\nRemoving intermediate container 495246d809da\n ---> af97098fbaf4\nSuccessfully built af97098fbaf4\nSuccessfully tagged wee-slack:latest\n","stderr":"","imageSize":127940801}}