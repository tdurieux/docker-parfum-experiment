{"repository":"https://github.com/postalsys/imapapi","dockerfilePath":"Dockerfile","startTime":1672188319354,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/postalsys/imapapi'...\n","error":null,"commit":"4cc20130c96dca455c5a51c32f85134dfd771f3d"},"originalBuild":{"startTimestamp":1672188321436,"endTimestamp":1672188453530,"error":null,"stdout":"Sending build context to Docker daemon  32.87MB\r\r\nStep 1/9 : FROM node:lts-alpine\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/9 : RUN apk add --no-cache dumb-init\n ---> Running in 24e6999fc077\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing dumb-init (1.2.5-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 18 packages\nRemoving intermediate container 24e6999fc077\n ---> a2280c195056\nStep 3/9 : WORKDIR /emailengine\n ---> Running in f59ad58c2beb\nRemoving intermediate container f59ad58c2beb\n ---> 518a94f63134\nStep 4/9 : COPY . .\n ---> b7a656feadcb\nStep 5/9 : RUN npm install --omit=dev\n ---> Running in 4fca75275973\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated readdir-scoped-modules@1.1.0: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.7: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated json-schema-ref-parser@6.1.0: Please switch to @apidevtools/json-schema-ref-parser\n\u001b[0m\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> emailengine-app@2.28.6 postinstall\n> npm run licenses\n\n\n> emailengine-app@2.28.6 licenses\n> license-checker --json | node license-table.js > static/licenses.html\n\n\nadded 606 packages, and audited 607 packages in 2m\n\n53 packages are looking for funding\n  run `npm fund` for details\n\n3 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0mRemoving intermediate container 4fca75275973\n ---> 0bc293a7fea3\nStep 6/9 : ENV EENGINE_APPDIR=/emailengine\n ---> Running in 0ea1b2057784\nRemoving intermediate container 0ea1b2057784\n ---> ee5b206083d0\nStep 7/9 : ENV EENGINE_HOST=0.0.0.0\n ---> Running in f0a850c114f7\nRemoving intermediate container f0a850c114f7\n ---> cc6562839ca9\nStep 8/9 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in 84bec2ea579b\nRemoving intermediate container 84bec2ea579b\n ---> 012c0e9dab78\nStep 9/9 : CMD node ${EENGINE_APPDIR}/server.js\n ---> Running in 163b832736e7\nRemoving intermediate container 163b832736e7\n ---> 96e91dca7208\nSuccessfully built 96e91dca7208\nSuccessfully tagged imapapi:latest\n","stderr":"","imageSize":447473892},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM node:lts-alpine\n\nRUN apk add --no-cache dumb-init\n\nWORKDIR /emailengine\nCOPY . .\n\nRUN npm install --omit=dev\n\nENV EENGINE_APPDIR=/emailengine\nENV EENGINE_HOST=0.0.0.0\n\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nCMD node ${EENGINE_APPDIR}/server.js"},"repairedBuild":{"startTimestamp":1672188454213,"endTimestamp":1672188526684,"error":null,"stdout":"Sending build context to Docker daemon  32.87MB\r\r\nStep 1/9 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/9 : RUN apk add --no-cache dumb-init\n ---> Running in 5cf29e48a7af\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing dumb-init (1.2.5-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 18 packages\nRemoving intermediate container 5cf29e48a7af\n ---> 0934370dbc8c\nStep 3/9 : WORKDIR /emailengine\n ---> Running in 8b01ddab767b\nRemoving intermediate container 8b01ddab767b\n ---> 1e55e026928e\nStep 4/9 : COPY . .\n ---> dad54ee85c4a\nStep 5/9 : RUN npm install --omit=dev\n ---> Running in 8fa75d592bea\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated readdir-scoped-modules@1.1.0: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.7: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated json-schema-ref-parser@6.1.0: Please switch to @apidevtools/json-schema-ref-parser\n\u001b[0m\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\n> emailengine-app@2.28.6 postinstall\n> npm run licenses\n\n\n> emailengine-app@2.28.6 licenses\n> license-checker --json | node license-table.js > static/licenses.html\n\n\nadded 606 packages, and audited 607 packages in 40s\n\n53 packages are looking for funding\n  run `npm fund` for details\n\n3 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 8fa75d592bea\n ---> f5f63838ab6e\nStep 6/9 : ENV EENGINE_APPDIR=/emailengine\n ---> Running in d1fc8dc4bd69\nRemoving intermediate container d1fc8dc4bd69\n ---> 5401d46570e1\nStep 7/9 : ENV EENGINE_HOST=0.0.0.0\n ---> Running in e3dfe1b3c0b1\nRemoving intermediate container e3dfe1b3c0b1\n ---> 8ab056dbd7f0\nStep 8/9 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in 0ff952000e35\nRemoving intermediate container 0ff952000e35\n ---> 1d6b7c019747\nStep 9/9 : CMD node ${EENGINE_APPDIR}/server.js\n ---> Running in 5730f5102895\nRemoving intermediate container 5730f5102895\n ---> 6a0340b2f732\nSuccessfully built 6a0340b2f732\nSuccessfully tagged imapapi:latest\n","stderr":"","imageSize":447473592},"endTime":1672188528503}