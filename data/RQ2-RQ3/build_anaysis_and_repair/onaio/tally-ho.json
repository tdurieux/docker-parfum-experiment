{"repository":"https://github.com/onaio/tally-ho","dockerfilePath":"Dockerfile","startTime":1672781297438,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/onaio/tally-ho'...\n","error":null,"commit":"66339a6c16e9fdc970191c28820c0f038d693e86"},"originalBuild":{"startTimestamp":1672781298615,"endTimestamp":1672781363561,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t tally-ho:latest -f /tmp/dinghy-analysis/onaio/tally-ho/Dockerfile ."},"stdout":"Sending build context to Docker daemon  8.351MB\r\r\nStep 1/10 : FROM python:3\n ---> 75cc8d87cc34\nStep 2/10 : ENV PYTHONUNBUFFERED 1\n ---> Running in 70593077d895\nRemoving intermediate container 70593077d895\n ---> 66679bf6ac51\nStep 3/10 : RUN mkdir /code\n ---> Running in 6f0d1715062b\nRemoving intermediate container 6f0d1715062b\n ---> 688071f26309\nStep 4/10 : WORKDIR /code\n ---> Running in 02a1a11eaa18\nRemoving intermediate container 02a1a11eaa18\n ---> 30535237ed42\nStep 5/10 : COPY requirements/common.pip /code/\n ---> b862e34d2cc2\nStep 6/10 : RUN pip install -r common.pip --src /usr/local/src\n ---> Running in f2171aea5dd7\nObtaining django-tracking2 from git+https://github.com/onaio/django-tracking2.git@e745e060d9f72eab36f4e7051b062afce04b6cb7#egg=django-tracking2 (from -r common.pip (line 8))\n  Cloning https://github.com/onaio/django-tracking2.git (to revision e745e060d9f72eab36f4e7051b062afce04b6cb7) to /usr/local/src/django-tracking2\n\u001b[91m  Running command git clone --filter=blob:none --quiet https://github.com/onaio/django-tracking2.git /usr/local/src/django-tracking2\n\u001b[0m\u001b[91m  Running command git rev-parse -q --verify 'sha^e745e060d9f72eab36f4e7051b062afce04b6cb7'\n\u001b[0m\u001b[91m  Running command git fetch -q https://github.com/onaio/django-tracking2.git e745e060d9f72eab36f4e7051b062afce04b6cb7\n\u001b[0m  Resolved https://github.com/onaio/django-tracking2.git to commit e745e060d9f72eab36f4e7051b062afce04b6cb7\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django==2.1.1\n  Downloading Django-2.1.1-py3-none-any.whl (7.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.3/7.3 MB 3.9 MB/s eta 0:00:00\nCollecting django-datatables-view==1.17.0\n  Downloading django_datatables_view-1.17.0-py2.py3-none-any.whl (12 kB)\nCollecting django-enumfields==0.10.1\n  Downloading django-enumfields-0.10.1.tar.gz (8.0 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django-guardian==1.4.9\n  Downloading django_guardian-1.4.9-py2.py3-none-any.whl (95 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 95.9/95.9 kB 6.6 MB/s eta 0:00:00\nCollecting django_nose==1.4.5\n  Downloading django_nose-1.4.5-py2.py3-none-any.whl (26 kB)\nCollecting django-queryset-csv==1.0.1\n  Downloading django-queryset-csv-1.0.1.tar.gz (20 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django-reversion==3.0.0\n  Downloading django_reversion-3.0.0-py2.py3-none-any.whl (80 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 81.0/81.0 kB 994.0 kB/s eta 0:00:00\nCollecting psycopg2-binary==2.8.6\n  Downloading psycopg2-binary-2.8.6.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.7/384.7 kB 2.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting six==1.11.0\n  Downloading six-1.11.0-py2.py3-none-any.whl (10 kB)\nCollecting mock==2.0.0\n  Downloading mock-2.0.0-py2.py3-none-any.whl (56 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.8/56.8 kB 5.3 MB/s eta 0:00:00\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 kB 20.7 MB/s eta 0:00:00\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 28.2 MB/s eta 0:00:00\nRequirement already satisfied: setuptools in /usr/local/lib/python3.11/site-packages (from django-datatables-view==1.17.0->-r common.pip (line 2)) (65.5.0)\nCollecting nose>=1.2.1\n  Downloading nose-1.3.7-py3-none-any.whl (154 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 154.7/154.7 kB 14.1 MB/s eta 0:00:00\nCollecting unicodecsv>=0.14.1\n  Downloading unicodecsv-0.14.1.tar.gz (10 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pbr>=0.11\n  Downloading pbr-5.11.0-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.6/112.6 kB 6.7 MB/s eta 0:00:00\nBuilding wheels for collected packages: django-enumfields, django-queryset-csv, psycopg2-binary, unicodecsv\n  Building wheel for django-enumfields (setup.py): started\n  Building wheel for django-enumfields (setup.py): finished with status 'done'\n  Created wheel for django-enumfields: filename=django_enumfields-0.10.1-py2.py3-none-any.whl size=8896 sha256=a8a1a3109bce5a53624b8fc3a588a0dce6ee607c34b888f382b2a54d67a5ba20\n  Stored in directory: /root/.cache/pip/wheels/57/66/56/9a473e90c1fce9200b31e69ef82ce18db07060653726fd7c23\n  Building wheel for django-queryset-csv (setup.py): started\n  Building wheel for django-queryset-csv (setup.py): finished with status 'done'\n  Created wheel for django-queryset-csv: filename=django_queryset_csv-1.0.1-py3-none-any.whl size=19644 sha256=9601a5aaf189d148db1034aa989cb95956b6da0c9c0870f2f30a0cfca2829584\n  Stored in directory: /root/.cache/pip/wheels/a2/61/e4/6eaea917b2fbfee947aa991f0e12410501b3b1e98d9748ba1c\n  Building wheel for psycopg2-binary (setup.py): started\n  Building wheel for psycopg2-binary (setup.py): finished with status 'done'\n  Created wheel for psycopg2-binary: filename=psycopg2_binary-2.8.6-cp311-cp311-linux_x86_64.whl size=455906 sha256=6cbe6c8b5c8a9cbcd5a3253dd3637bca619ff0122fa9e422dab14afa510618eb\n  Stored in directory: /root/.cache/pip/wheels/39/a7/46/89995a0c4c8fa3c0edb93ccb5fe4725193780b0d9c95faa58a\n  Building wheel for unicodecsv (setup.py): started\n  Building wheel for unicodecsv (setup.py): finished with status 'done'\n  Created wheel for unicodecsv: filename=unicodecsv-0.14.1-py3-none-any.whl size=10746 sha256=b9e90a948825aab0fc77836ddde1caa8c8d7ab1adc4d23adc311b57b6bf49efa\n  Stored in directory: /root/.cache/pip/wheels/39/71/fc/bbf294582ab922f615fcad6a5a76b4555cd8fee0ac2fc80f1a\nSuccessfully built django-enumfields django-queryset-csv psycopg2-binary unicodecsv\nInstalling collected packages: unicodecsv, six, pytz, nose, django-enumfields, python-dateutil, psycopg2-binary, pbr, django_nose, django-guardian, django-datatables-view, django, mock, django-tracking2, django-reversion, django-queryset-csv\n  Running setup.py develop for django-tracking2\nSuccessfully installed django-2.1.1 django-datatables-view-1.17.0 django-enumfields-0.10.1 django-guardian-1.4.9 django-queryset-csv-1.0.1 django-reversion-3.0.0 django-tracking2-0.4.1b1 django_nose-1.4.5 mock-2.0.0 nose-1.3.7 pbr-5.11.0 psycopg2-binary-2.8.6 python-dateutil-2.8.1 pytz-2022.7 six-1.11.0 unicodecsv-0.14.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container f2171aea5dd7\n ---> 5ca989475a47\nStep 7/10 : RUN pip install gunicorn==19.9.0 --src /usr/local/src\n ---> Running in 2c23a49813fe\nCollecting gunicorn==19.9.0\n  Downloading gunicorn-19.9.0-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.9/112.9 kB 9.3 MB/s eta 0:00:00\nInstalling collected packages: gunicorn\nSuccessfully installed gunicorn-19.9.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 2c23a49813fe\n ---> 3deb6db2e16c\nStep 8/10 : COPY . /code/\n ---> edb26cbcdc49\nStep 9/10 : RUN python manage.py collectstatic --no-input\n ---> Running in e1d01e8744aa\n\u001b[91mTraceback (most recent call last):\n  File \"/code/manage.py\", line 31, in <module>\n    execute_from_command_line(sys.argv)\n  File \"/usr/local/lib/python3.11/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\n    utility.execute()\n  File \"/usr/local/lib/python3.11/site-packages/django/core/management/__init__.py\", line 357, in execute\n\u001b[0m\u001b[91m    django.setup()\n  File \"/usr/local/lib/python3.11/site-packages/django/__init__.py\", line 24, in setup\n    apps.populate(settings.INSTALLED_APPS)\n\u001b[0m\u001b[91m  File \"/usr/local/lib/python3.11/site-packages/django/apps/registry.py\", line 112, in populate\n\u001b[0m\u001b[91m    app_config.import_models()\n  File \"/usr/local/lib/python3.11/site-packages/django/apps/config.py\", line 198, in import_models\n\u001b[0m\u001b[91m    self.models_module = import_module(models_module_name)\n                    \u001b[0m\u001b[91m     ^^^^\u001b[0m\u001b[91m^^^^^\u001b[0m\u001b[91m^^^^^^^^^^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^\n  File \"/usr/local/lib/python3.11/importlib/__init__.py\", line 126, in import_module\n\u001b[0m\u001b[91m    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^\u001b[0m\u001b[91m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^^^^^^^^^^\u001b[0m\u001b[91m^\n  File \"<frozen importlib._bootstrap>\", line 1206, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1178, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1149, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 690, in _load_unlocked\n\u001b[0m\u001b[91m  File \"<frozen importlib._bootstrap_external>\", line 940, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py\", line 2, in <module>\n\u001b[0m\u001b[91m    from django.contrib.auth.base_user import AbstractBaseUser, BaseUserManager\n  File \"/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py\", line 47, in <module>\n\u001b[0m\u001b[91m    class AbstractBaseUser(models.Model):\n  File \"/usr/local/lib/python3.11/site-packages/django/db/models/base.py\", line 101, in __new__\n\u001b[0m\u001b[91m    new_class.add_to_class('_meta', Options(meta, app_label))\n\u001b[0m\u001b[91m  File \"/usr/local/lib/python3.11/site-packages/django/db/models/base.py\", line 305, in add_to_class\n\u001b[0m\u001b[91m    value.contribute_to_class(cls, name)\n  File \"/usr/local/lib/python3.11/site-packages/django/db/models/options.py\", line 203, in contribute_to_class\n\u001b[0m\u001b[91m    self.db_table = truncate_name(self.db_table, connection.ops.max_name_length())\n              \u001b[0m\u001b[91m           \u001b[0m\u001b[91m       \u001b[0m\u001b[91m       \u001b[0m\u001b[91m      \u001b[0m\u001b[91m    ^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^\n  File \"/usr/local/lib/python3.11/site-packages/django/db/__init__.py\", line 33, in __getattr__\n\u001b[0m\u001b[91m    return getattr(connections[DEFAULT_DB_ALIAS], item)\n               \u001b[0m\u001b[91m    ~~~~~~~~\u001b[0m\u001b[91m~~~^^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^^^\n\u001b[0m\u001b[91m  File \"/usr/local/lib/python3.11/site-packages/django/db/utils.py\", line 202, in __getitem__\n\u001b[0m\u001b[91m    backend = load_backend(db['ENGINE'])\n            \u001b[0m\u001b[91m  ^^^^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^^^\n\u001b[0m\u001b[91m  File \"/usr/local/lib/python3.11/site-packages/django/db/utils.py\", line 110, in load_backend\n\u001b[0m\u001b[91m    return import_module('%s.base' % backend_name)\n           ^^^^^^^^^^^^^\u001b[0m\u001b[91m^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[91m^^^\n  File \"/usr/local/lib/python3.11/importlib/__init__.py\", line 126, in import_module\n\u001b[0m\u001b[91m    return _bootstrap._gcd_import(name[level:], package, level)\n     \u001b[0m\u001b[91m      ^^^^^^^\u001b[0m\u001b[91m^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[91m^^^^^\u001b[0m\u001b[91m^^^^^^^^^^^^\u001b[0m\u001b[91m^^^^^^\u001b[0m\u001b[91m^^^^\n\u001b[0m\u001b[91m  File \"/usr/local/lib/python3.11/site-packages/django/db/backends/postgresql/base.py\", line 20, in <module>\n\u001b[0m\u001b[91m    import psycopg2 as Database\n  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 51, in <module>\n\u001b[0m\u001b[91m    from psycopg2._psycopg import (                     # noqa\nSystemError: initialization of _psycopg raised unreported exception\n\u001b[0mRemoving intermediate container e1d01e8744aa\n","stderr":"The command '/bin/sh -c python manage.py collectstatic --no-input' returned a non-zero code: 1\n"},"endTime":1672781363651}