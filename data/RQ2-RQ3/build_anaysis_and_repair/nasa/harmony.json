{"repository":"https://github.com/nasa/harmony","dockerfilePath":"Dockerfile","startTime":1672581482129,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nasa/harmony'...\n","error":null,"commit":"b4650e2442ff98dcade58ee7d39220c7c3ab54a5"},"originalBuild":{"startTimestamp":1672581483944,"endTimestamp":1672581624742,"error":null,"stdout":"Sending build context to Docker daemon  9.526MB\r\r\nStep 1/16 : ARG BASE_IMAGE=node:16-buster\nStep 2/16 : FROM $BASE_IMAGE\n16-buster: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n8f331a0ab6eb: Pulling fs layer\n1b7fba8c2ddb: Pulling fs layer\n138e31cf9c76: Pulling fs layer\n138e31cf9c76: Download complete\n1b7fba8c2ddb: Verifying Checksum\n1b7fba8c2ddb: Download complete\n8f331a0ab6eb: Verifying Checksum\n8f331a0ab6eb: Download complete\n8f331a0ab6eb: Pull complete\n1b7fba8c2ddb: Pull complete\n138e31cf9c76: Pull complete\nDigest: sha256:64e8bcdfdad6718050801a2639f7e6645fdaf85ec37a98cdb61f6a5331217618\nStatus: Downloaded newer image for node:16-buster\n ---> c910109adbfd\nStep 3/16 : RUN apt update && apt-get -y install sqlite3\n ---> Running in c0a4c6ecdc36\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 3s (3269 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n2 packages can be upgraded. Run 'apt list --upgradable' to see them.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  sqlite3-doc\nThe following NEW packages will be installed:\n  sqlite3\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 940 kB of archives.\nAfter this operation, 2695 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 sqlite3 amd64 3.27.2-3+deb10u2 [940 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 940 kB in 0s (34.8 MB/s)\nSelecting previously unselected package sqlite3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../sqlite3_3.27.2-3+deb10u2_amd64.deb ...\r\nUnpacking sqlite3 (3.27.2-3+deb10u2) ...\r\nSetting up sqlite3 (3.27.2-3+deb10u2) ...\r\nRemoving intermediate container c0a4c6ecdc36\n ---> 76d24013fd61\nStep 4/16 : RUN mkdir -p /harmony\n ---> Running in 39eb11191585\nRemoving intermediate container 39eb11191585\n ---> 4ae95d019afc\nStep 5/16 : COPY package.json package-lock.json lerna.json /harmony/\n ---> 6416a94c947f\nStep 6/16 : RUN chown node -R /harmony\n ---> Running in 8d748b1033a1\nRemoving intermediate container 8d748b1033a1\n ---> cf870d1ccc00\nStep 7/16 : USER node\n ---> Running in ce14e4744523\nRemoving intermediate container ce14e4744523\n ---> 249ec77ad845\nStep 8/16 : WORKDIR /harmony\n ---> Running in ba7e13396dbe\nRemoving intermediate container ba7e13396dbe\n ---> 79f246609063\nStep 9/16 : RUN npm ci\n ---> Running in 112324b8a937\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@6.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\n> harmony@0.0.0 postinstall\n> if test \"$NODE_ENV\" != \"production\" ; then lerna exec -- npm install; fi\n\n\u001b[91mlerna\u001b[0m\u001b[91m notice cli v5.5.2\n\u001b[0m\u001b[91mlerna \u001b[0m\u001b[91minfo\u001b[0m\u001b[91m Executing command in 0 packages: \"npm install\"\n\u001b[0m\u001b[91mlerna success exec Executed command in 0 packages: \"npm install\"\n\u001b[0m\nadded 1551 packages, and audited 1608 packages in 37s\n\n145 packages are looking for funding\n  run `npm fund` for details\n\n8 vulnerabilities (2 moderate, 6 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 112324b8a937\n ---> 9f00c35fba7f\nStep 10/16 : RUN npm install sqlite3 --save\n ---> Running in cb2ddfaff4bc\n\nchanged 1 package, and audited 1608 packages in 4s\n\n145 packages are looking for funding\n  run `npm fund` for details\n\n8 vulnerabilities (2 moderate, 6 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container cb2ddfaff4bc\n ---> 4eaf607c7226\nStep 11/16 : COPY . /harmony/\n ---> f0fc607e3380\nStep 12/16 : USER root\n ---> Running in 14f206daee3e\nRemoving intermediate container 14f206daee3e\n ---> b51f38dc6b4e\nStep 13/16 : RUN ./bin/create-database development\n ---> Running in e52072560c95\nCreating database db/development.sqlite3\nRemoving intermediate container e52072560c95\n ---> 7a4022c33a79\nStep 14/16 : RUN chown -R node db\n ---> Running in 0af2b18a03e4\nRemoving intermediate container 0af2b18a03e4\n ---> a3ce6fda18b9\nStep 15/16 : USER node\n ---> Running in 67520a5bf1e9\nRemoving intermediate container 67520a5bf1e9\n ---> 6eac4b943d93\nStep 16/16 : ENTRYPOINT [ \"npm\", \"run\", \"start\" ]\n ---> Running in 86cd3c435bce\nRemoving intermediate container 86cd3c435bce\n ---> 7e379b4b766e\nSuccessfully built 7e379b4b766e\nSuccessfully tagged harmony:latest\n","stderr":"","imageSize":1702922943},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":30}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":2,"end":2,"columnStart":18,"columnEnd":44}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":2,"columnStart":18,"columnEnd":44}}],"repairedDockerfile":"ARG BASE_IMAGE=node:16-buster\nFROM $BASE_IMAGE\nRUN apt update && apt-get -y --no-install-recommends install sqlite3\nRUN mkdir -p /harmony\nCOPY package.json package-lock.json lerna.json /harmony/\nRUN chown node -R /harmony\nUSER node\nWORKDIR /harmony\nRUN npm ci\nRUN npm install sqlite3 --save\nCOPY . /harmony/\n# build the sqlite dabase\nUSER root\nRUN ./bin/create-database development\nRUN chown -R node db\nUSER node\nENTRYPOINT [ \"npm\", \"run\", \"start\" ]"},"repairedBuild":{"startTimestamp":1672581627458,"endTimestamp":1672581754704,"error":null,"stdout":"Sending build context to Docker daemon  9.526MB\r\r\nStep 1/16 : ARG BASE_IMAGE=node:16-buster\nStep 2/16 : FROM $BASE_IMAGE\n ---> c910109adbfd\nStep 3/16 : RUN apt update && apt-get -y --no-install-recommends install sqlite3\n ---> Running in dc8c8cd0ce35\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (5932 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n2 packages can be upgraded. Run 'apt list --upgradable' to see them.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nSuggested packages:\n  sqlite3-doc\nThe following NEW packages will be installed:\n  sqlite3\n0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 940 kB of archives.\nAfter this operation, 2695 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 sqlite3 amd64 3.27.2-3+deb10u2 [940 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 940 kB in 0s (27.5 MB/s)\nSelecting previously unselected package sqlite3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../sqlite3_3.27.2-3+deb10u2_amd64.deb ...\r\nUnpacking sqlite3 (3.27.2-3+deb10u2) ...\r\nSetting up sqlite3 (3.27.2-3+deb10u2) ...\r\nRemoving intermediate container dc8c8cd0ce35\n ---> d982bf0766c4\nStep 4/16 : RUN mkdir -p /harmony\n ---> Running in 9e1821cdb9c5\nRemoving intermediate container 9e1821cdb9c5\n ---> 8c33633c80f9\nStep 5/16 : COPY package.json package-lock.json lerna.json /harmony/\n ---> 3f6c504e867f\nStep 6/16 : RUN chown node -R /harmony\n ---> Running in ac8a60817051\nRemoving intermediate container ac8a60817051\n ---> 3b3723a5f614\nStep 7/16 : USER node\n ---> Running in 9627db0e929b\nRemoving intermediate container 9627db0e929b\n ---> 55ac7452f96f\nStep 8/16 : WORKDIR /harmony\n ---> Running in f806cfd90fb3\nRemoving intermediate container f806cfd90fb3\n ---> 2ebb151dbde6\nStep 9/16 : RUN npm ci\n ---> Running in 980d501ed318\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@6.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\n> harmony@0.0.0 postinstall\n> if test \"$NODE_ENV\" != \"production\" ; then lerna exec -- npm install; fi\n\n\u001b[91mlerna\u001b[0m\u001b[91m notice cli v5.5.2\n\u001b[0m\u001b[91mlerna info\u001b[0m\u001b[91m Executing command in 0 packages: \"npm install\"\n\u001b[0m\u001b[91mlerna success exec Executed command in 0 packages: \"npm install\"\n\u001b[0m\nadded 1551 packages, and audited 1608 packages in 31s\n\n145 packages are looking for funding\n  run `npm fund` for details\n\n8 vulnerabilities (2 moderate, 6 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 980d501ed318\n ---> 28372d717b76\nStep 10/16 : RUN npm install sqlite3 --save\n ---> Running in 3637694b3a7e\n\nchanged 1 package, and audited 1608 packages in 4s\n\n145 packages are looking for funding\n  run `npm fund` for details\n\n8 vulnerabilities (2 moderate, 6 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container 3637694b3a7e\n ---> 85ff7e0daca1\nStep 11/16 : COPY . /harmony/\n ---> d457ff013191\nStep 12/16 : USER root\n ---> Running in 371ca090b6ca\nRemoving intermediate container 371ca090b6ca\n ---> af2d826e9d38\nStep 13/16 : RUN ./bin/create-database development\n ---> Running in 004e75fe380d\nCreating database db/development.sqlite3\nRemoving intermediate container 004e75fe380d\n ---> 4f5970fffaa3\nStep 14/16 : RUN chown -R node db\n ---> Running in 1cf678933a0d\nRemoving intermediate container 1cf678933a0d\n ---> 276c4737438b\nStep 15/16 : USER node\n ---> Running in f69ae86a1f68\nRemoving intermediate container f69ae86a1f68\n ---> 39ed36f0b7a0\nStep 16/16 : ENTRYPOINT [ \"npm\", \"run\", \"start\" ]\n ---> Running in 0aea04c5a900\nRemoving intermediate container 0aea04c5a900\n ---> 97651ce4ba4a\nSuccessfully built 97651ce4ba4a\nSuccessfully tagged harmony:latest\n","stderr":"","imageSize":1702922015},"endTime":1672581756486}