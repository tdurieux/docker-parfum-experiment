{"repository":"https://github.com/mrvautin/openkb","dockerfilePath":"Dockerfile","startTime":1672839716656,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mrvautin/openkb'...\n","error":null,"commit":"567b480f7581d99e0c520a512c1a117106d0a0a9"},"originalBuild":{"startTimestamp":1672839717757,"endTimestamp":1672839762930,"error":null,"stdout":"Sending build context to Docker daemon  2.308MB\r\r\nStep 1/18 : FROM node:10.16.3-alpine as builder\n10.16.3-alpine: Pulling from library/node\ne7c96db7181b: Pulling fs layer\n50958466d97a: Pulling fs layer\n56174ae7ed1d: Pulling fs layer\n284842a36c0d: Pulling fs layer\n284842a36c0d: Waiting\ne7c96db7181b: Verifying Checksum\ne7c96db7181b: Download complete\ne7c96db7181b: Pull complete\n56174ae7ed1d: Verifying Checksum\n56174ae7ed1d: Download complete\n50958466d97a: Verifying Checksum\n50958466d97a: Download complete\n284842a36c0d: Download complete\n50958466d97a: Pull complete\n56174ae7ed1d: Pull complete\n284842a36c0d: Pull complete\nDigest: sha256:77c898d0da5e7bfb6e05c9a64de136ba4e03889a72f3c298e95df822a38f450d\nStatus: Downloaded newer image for node:10.16.3-alpine\n ---> b95baba1cfdb\nStep 2/18 : RUN apk --no-cache add python make g++\n ---> Running in 6341c2e6e53f\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/24) Upgrading musl (1.1.20-r5 -> 1.1.20-r6)\n(2/24) Installing binutils (2.31.1-r2)\n(3/24) Installing gmp (6.1.2-r1)\n(4/24) Installing isl (0.18-r0)\n(5/24) Installing libgomp (8.3.0-r0)\n(6/24) Installing libatomic (8.3.0-r0)\n(7/24) Installing mpfr3 (3.1.5-r1)\n(8/24) Installing mpc1 (1.0.3-r1)\n(9/24) Installing gcc (8.3.0-r0)\n(10/24) Installing musl-dev (1.1.20-r6)\n(11/24) Installing libc-dev (0.7.1-r0)\n(12/24) Installing g++ (8.3.0-r0)\n(13/24) Upgrading musl-utils (1.1.20-r5 -> 1.1.20-r6)\n(14/24) Installing make (4.2.1-r2)\n(15/24) Installing libbz2 (1.0.6-r7)\n(16/24) Installing expat (2.2.8-r0)\n(17/24) Installing libffi (3.2.1-r6)\n(18/24) Installing gdbm (1.13-r1)\n(19/24) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(20/24) Installing ncurses-terminfo (6.1_p20190105-r0)\n(21/24) Installing ncurses-libs (6.1_p20190105-r0)\n(22/24) Installing readline (7.0.003-r1)\n(23/24) Installing sqlite-libs (3.28.0-r3)\n(24/24) Installing python2 (2.7.18-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 206 MiB in 38 packages\nRemoving intermediate container 6341c2e6e53f\n ---> 82cb660e197c\nStep 3/18 : WORKDIR /var/openKB\n ---> Running in e1fe9077f9e2\nRemoving intermediate container e1fe9077f9e2\n ---> 124966e47c4a\nStep 4/18 : COPY package* ./\n ---> 987458f35677\nStep 5/18 : RUN npm install\n ---> Running in 35aad95ee34f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mread-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0madded 380 packages from 1256 contributors and audited 386 packages in 4.696s\nfound 11 vulnerabilities (2 moderate, 6 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 35aad95ee34f\n ---> e7daf37d5aa7\nStep 6/18 : FROM node:10.16.3-alpine\n ---> b95baba1cfdb\nStep 7/18 : WORKDIR /var/openKB\n ---> Running in 51a9ea50dd5b\nRemoving intermediate container 51a9ea50dd5b\n ---> 1fe782ca9b87\nStep 8/18 : COPY package.json .\n ---> 194d1d3ca4a7\nStep 9/18 : COPY locales/ locales/\n ---> 102548876ba0\nStep 10/18 : COPY public/ public/\n ---> 63304b91e23e\nStep 11/18 : COPY routes/ routes/\n ---> 6ab4ae6944a3\nStep 12/18 : COPY views/ views/\n ---> 9654c414ee0f\nStep 13/18 : COPY config/ config/\n ---> f9582d836f82\nStep 14/18 : COPY app.js .\n ---> 46ac0a43b0ca\nStep 15/18 : COPY --from=builder /var/openKB/node_modules node_modules\n ---> c9336f993b5a\nStep 16/18 : VOLUME /var/openKB/data\n ---> Running in 67878dfdbea5\nRemoving intermediate container 67878dfdbea5\n ---> 37e0b00b6351\nStep 17/18 : EXPOSE 4444\n ---> Running in b75ebb1d2150\nRemoving intermediate container b75ebb1d2150\n ---> d34deac95fcc\nStep 18/18 : ENTRYPOINT [\"npm\", \"start\"]\n ---> Running in 80aa18ec44ba\nRemoving intermediate container 80aa18ec44ba\n ---> 0ca74afc23bf\nSuccessfully built 0ca74afc23bf\nSuccessfully tagged openkb:latest\n","stderr":"","imageSize":141145868},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:10.16.3-alpine as builder\nRUN apk --no-cache add python make g++\nWORKDIR /var/openKB\nCOPY package* ./\nRUN npm install\n\nFROM node:10.16.3-alpine\nWORKDIR /var/openKB\nCOPY package.json .\nCOPY locales/ locales/\nCOPY public/ public/\nCOPY routes/ routes/\nCOPY views/ views/\nCOPY config/ config/\nCOPY app.js .\nCOPY --from=builder /var/openKB/node_modules node_modules\n\nVOLUME /var/openKB/data\n\nEXPOSE 4444\nENTRYPOINT [\"npm\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672839763454,"endTimestamp":1672839801315,"error":null,"stdout":"Sending build context to Docker daemon  2.308MB\r\r\nStep 1/18 : FROM node:10.16.3-alpine as builder\n ---> b95baba1cfdb\nStep 2/18 : RUN apk --no-cache add python make g++\n ---> Running in 801d4771580e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/24) Upgrading musl (1.1.20-r5 -> 1.1.20-r6)\n(2/24) Installing binutils (2.31.1-r2)\n(3/24) Installing gmp (6.1.2-r1)\n(4/24) Installing isl (0.18-r0)\n(5/24) Installing libgomp (8.3.0-r0)\n(6/24) Installing libatomic (8.3.0-r0)\n(7/24) Installing mpfr3 (3.1.5-r1)\n(8/24) Installing mpc1 (1.0.3-r1)\n(9/24) Installing gcc (8.3.0-r0)\n(10/24) Installing musl-dev (1.1.20-r6)\n(11/24) Installing libc-dev (0.7.1-r0)\n(12/24) Installing g++ (8.3.0-r0)\n(13/24) Upgrading musl-utils (1.1.20-r5 -> 1.1.20-r6)\n(14/24) Installing make (4.2.1-r2)\n(15/24) Installing libbz2 (1.0.6-r7)\n(16/24) Installing expat (2.2.8-r0)\n(17/24) Installing libffi (3.2.1-r6)\n(18/24) Installing gdbm (1.13-r1)\n(19/24) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(20/24) Installing ncurses-terminfo (6.1_p20190105-r0)\n(21/24) Installing ncurses-libs (6.1_p20190105-r0)\n(22/24) Installing readline (7.0.003-r1)\n(23/24) Installing sqlite-libs (3.28.0-r3)\n(24/24) Installing python2 (2.7.18-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 206 MiB in 38 packages\nRemoving intermediate container 801d4771580e\n ---> 741f97a899fe\nStep 3/18 : WORKDIR /var/openKB\n ---> Running in e63b131a3874\nRemoving intermediate container e63b131a3874\n ---> a666d028edcb\nStep 4/18 : COPY package* ./\n ---> bfc532cb253c\nStep 5/18 : RUN npm install\n ---> Running in e0afa0590f75\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m read-shrinkwrap\u001b[0m\u001b[91m This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0madded 380 packages from 1256 contributors and audited 386 packages in 6.332s\nfound 11 vulnerabilities (2 moderate, 6 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container e0afa0590f75\n ---> 4f291c364735\nStep 6/18 : FROM node:10.16.3-alpine\n ---> b95baba1cfdb\nStep 7/18 : WORKDIR /var/openKB\n ---> Running in d941f6d4dba4\nRemoving intermediate container d941f6d4dba4\n ---> 61ed0fb77ff1\nStep 8/18 : COPY package.json .\n ---> 814b47f85c52\nStep 9/18 : COPY locales/ locales/\n ---> a325933a2fe5\nStep 10/18 : COPY public/ public/\n ---> 0b38a842b7b7\nStep 11/18 : COPY routes/ routes/\n ---> 38483b36e564\nStep 12/18 : COPY views/ views/\n ---> d5926cd37981\nStep 13/18 : COPY config/ config/\n ---> 3c81ab058c2b\nStep 14/18 : COPY app.js .\n ---> 1a0df2d7db1c\nStep 15/18 : COPY --from=builder /var/openKB/node_modules node_modules\n ---> 8e35c0d52485\nStep 16/18 : VOLUME /var/openKB/data\n ---> Running in a16ae27baff1\nRemoving intermediate container a16ae27baff1\n ---> 85ecf2e8bf1f\nStep 17/18 : EXPOSE 4444\n ---> Running in 398a831b02c2\nRemoving intermediate container 398a831b02c2\n ---> 3abde46bd54f\nStep 18/18 : ENTRYPOINT [\"npm\", \"start\"]\n ---> Running in 7652083b4ccc\nRemoving intermediate container 7652083b4ccc\n ---> 268abb409dff\nSuccessfully built 268abb409dff\nSuccessfully tagged openkb:latest\n","stderr":"","imageSize":141145868},"endTime":1672839801762}