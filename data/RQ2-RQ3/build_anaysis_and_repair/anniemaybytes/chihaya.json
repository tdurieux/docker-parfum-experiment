{"repository":"https://github.com/anniemaybytes/chihaya","dockerfilePath":"Dockerfile","startTime":1672404572851,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/anniemaybytes/chihaya'...\n","error":null,"commit":"0e7346573cb83955f60cdbf9ed1c4ea9bc8f9e1d"},"originalBuild":{"startTimestamp":1672404573740,"endTimestamp":1672404596317,"error":null,"stdout":"Sending build context to Docker daemon  648.2kB\r\r\nStep 1/17 : FROM golang:1.19-alpine AS builder\n1.19-alpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19-alpine\n ---> cae57157ceaa\nStep 2/17 : WORKDIR /opt/chihaya\n ---> Running in df659e5cb67f\nRemoving intermediate container df659e5cb67f\n ---> ebf19beb4191\nStep 3/17 : ARG CGO_ENABLED=0\n ---> Running in ede63be73a90\nRemoving intermediate container ede63be73a90\n ---> 37bc00e8dab7\nStep 4/17 : ARG GOOS=linux\n ---> Running in 4299a06c141e\nRemoving intermediate container 4299a06c141e\n ---> f88700efe38c\nStep 5/17 : ARG GOARCH=amd64\n ---> Running in 23b3996bf6df\nRemoving intermediate container 23b3996bf6df\n ---> 9cb042131f02\nStep 6/17 : ARG VERSION\n ---> Running in 1ee737fbd7a1\nRemoving intermediate container 1ee737fbd7a1\n ---> 02dd25423a00\nStep 7/17 : RUN apk add binutils git make\n ---> Running in 1feafc4f8396\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing libgcc (12.2.1_git20220924-r4)\n(2/10) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/10) Installing binutils (2.39-r2)\n(4/10) Installing brotli-libs (1.0.9-r9)\n(5/10) Installing nghttp2-libs (1.51.0-r0)\n(6/10) Installing libcurl (7.87.0-r0)\n(7/10) Installing libexpat (2.5.0-r0)\n(8/10) Installing pcre2 (10.42-r0)\n(9/10) Installing git (2.38.2-r0)\n(10/10) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 27 MiB in 26 packages\nRemoving intermediate container 1feafc4f8396\n ---> 86cda7ff08e3\nStep 8/17 : COPY go.mod .\n ---> d88a9170c704\nStep 9/17 : COPY go.sum .\n ---> a53836e2feab\nStep 10/17 : RUN go mod download\n ---> Running in 39c1039b66ea\nRemoving intermediate container 39c1039b66ea\n ---> d4271304494e\nStep 11/17 : COPY . .\n ---> c103e7cd3fca\nStep 12/17 : RUN make all\n ---> Running in 259aada87e09\ngo clean -i ./...\nrm -rf ./bin\nmkdir -p ./bin\ngo build -o ./bin -ldflags \"-X main.BuildDate=2022-12-30T12:49:45Z -X main.BuildVersion=0e73465\" ./cmd/...\nstrip ./bin/*\nRemoving intermediate container 259aada87e09\n ---> 971e48b3ad43\nStep 13/17 : FROM scratch AS release\n ---> \nStep 14/17 : WORKDIR /app\n ---> Running in 9c35d217a570\nRemoving intermediate container 9c35d217a570\n ---> 9e7eba10f6ac\nStep 15/17 : COPY --from=builder /opt/chihaya/bin /\n ---> aacec6e2a8bd\nStep 16/17 : USER 1000:1000\n ---> Running in 2a150d0d692e\nRemoving intermediate container 2a150d0d692e\n ---> 03b566f9aae0\nStep 17/17 : CMD [ \"/chihaya\" ]\n ---> Running in bf1078e6224d\nRemoving intermediate container bf1078e6224d\n ---> 6e3de5112716\nSuccessfully built 6e3de5112716\nSuccessfully tagged chihaya:latest\n","stderr":"","imageSize":12447816},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":8,"end":8,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"FROM golang:1.19-alpine AS builder\nWORKDIR /opt/chihaya\n\nARG CGO_ENABLED=0\nARG GOOS=linux\nARG GOARCH=amd64\nARG VERSION\n\nRUN apk add --no-cache binutils git make\n\nCOPY go.mod .\nCOPY go.sum .\n\nRUN go mod download\n\nCOPY . .\n\nRUN make all\n\nFROM scratch AS release\nWORKDIR /app\n\nCOPY --from=builder /opt/chihaya/bin /\n\nUSER 1000:1000\n\nCMD [ \"/chihaya\" ]\n"},"repairedBuild":{"startTimestamp":1672404596569,"endTimestamp":1672404619455,"error":null,"stdout":"Sending build context to Docker daemon  648.2kB\r\r\nStep 1/17 : FROM golang:1.19-alpine AS builder\n ---> cae57157ceaa\nStep 2/17 : WORKDIR /opt/chihaya\n ---> Running in 7837e2b7172c\nRemoving intermediate container 7837e2b7172c\n ---> dee3591c3680\nStep 3/17 : ARG CGO_ENABLED=0\n ---> Running in 0403f710fab7\nRemoving intermediate container 0403f710fab7\n ---> 92f4c2ed2458\nStep 4/17 : ARG GOOS=linux\n ---> Running in d0e40b0f0935\nRemoving intermediate container d0e40b0f0935\n ---> e1a7196f0ece\nStep 5/17 : ARG GOARCH=amd64\n ---> Running in 19fe4c0bb29c\nRemoving intermediate container 19fe4c0bb29c\n ---> 70c2806b575e\nStep 6/17 : ARG VERSION\n ---> Running in c5d70b193048\nRemoving intermediate container c5d70b193048\n ---> 2ffc35adffff\nStep 7/17 : RUN apk add --no-cache binutils git make\n ---> Running in a56bb7bc4395\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing libgcc (12.2.1_git20220924-r4)\n(2/10) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/10) Installing binutils (2.39-r2)\n(4/10) Installing brotli-libs (1.0.9-r9)\n(5/10) Installing nghttp2-libs (1.51.0-r0)\n(6/10) Installing libcurl (7.87.0-r0)\n(7/10) Installing libexpat (2.5.0-r0)\n(8/10) Installing pcre2 (10.42-r0)\n(9/10) Installing git (2.38.2-r0)\n(10/10) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 27 MiB in 26 packages\nRemoving intermediate container a56bb7bc4395\n ---> 9c1a75f62994\nStep 8/17 : COPY go.mod .\n ---> 269487095146\nStep 9/17 : COPY go.sum .\n ---> fad56c0a32db\nStep 10/17 : RUN go mod download\n ---> Running in d9b5409eea98\nRemoving intermediate container d9b5409eea98\n ---> 309eb8818952\nStep 11/17 : COPY . .\n ---> 80e671e0ae59\nStep 12/17 : RUN make all\n ---> Running in 76930b3f13e7\ngo clean -i ./...\nrm -rf ./bin\nmkdir -p ./bin\ngo build -o ./bin -ldflags \"-X main.BuildDate=2022-12-30T12:50:09Z -X main.BuildVersion=0e73465\" ./cmd/...\nstrip ./bin/*\nRemoving intermediate container 76930b3f13e7\n ---> 17ef8af75e5e\nStep 13/17 : FROM scratch AS release\n ---> \nStep 14/17 : WORKDIR /app\n ---> Running in 3970467cc456\nRemoving intermediate container 3970467cc456\n ---> 8c51aa3f80f5\nStep 15/17 : COPY --from=builder /opt/chihaya/bin /\n ---> 15b535dfe119\nStep 16/17 : USER 1000:1000\n ---> Running in d01ee0a43d8e\nRemoving intermediate container d01ee0a43d8e\n ---> bf80ffb4299b\nStep 17/17 : CMD [ \"/chihaya\" ]\n ---> Running in de35d1aa7d34\nRemoving intermediate container de35d1aa7d34\n ---> c9eb04f0d635\nSuccessfully built c9eb04f0d635\nSuccessfully tagged chihaya:latest\n","stderr":"","imageSize":12447816},"endTime":1672404619809}