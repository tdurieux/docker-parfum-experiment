{"repository":"https://github.com/osscda/kedahttp","dockerfilePath":"Dockerfile","startTime":1672374662177,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/osscda/kedahttp'...\n","error":null,"commit":"ea84ffa70792bda36a55de1354fdd3d8b62190f5"},"originalBuild":{"startTimestamp":1672374663095,"endTimestamp":1672374743096,"error":null,"stdout":"Sending build context to Docker daemon  421.9kB\r\r\nStep 1/16 : ARG GOLANG_VERSION=1.14\nStep 2/16 : ARG ALPINE_VERSION=3.11.5\nStep 3/16 : FROM golang:${GOLANG_VERSION}-alpine AS builder\n1.14-alpine: Pulling from library/golang\n4c0d98bf9879: Pulling fs layer\n9e181322f1e7: Pulling fs layer\n6422294da7d3: Pulling fs layer\neb57f1833670: Pulling fs layer\nbd57f1a80d4e: Pulling fs layer\neb57f1833670: Waiting\nbd57f1a80d4e: Waiting\n6422294da7d3: Verifying Checksum\n6422294da7d3: Download complete\n9e181322f1e7: Verifying Checksum\n9e181322f1e7: Download complete\n4c0d98bf9879: Verifying Checksum\n4c0d98bf9879: Download complete\n4c0d98bf9879: Pull complete\nbd57f1a80d4e: Download complete\n9e181322f1e7: Pull complete\n6422294da7d3: Pull complete\neb57f1833670: Verifying Checksum\neb57f1833670: Download complete\neb57f1833670: Pull complete\nbd57f1a80d4e: Pull complete\nDigest: sha256:e196a762bd349b188d66c539354fc23f0e5a0178c214e6dfe4d7894c3c2753f1\nStatus: Downloaded newer image for golang:1.14-alpine\n ---> 32dc91e030ac\nStep 4/16 : WORKDIR $GOPATH/src/github.com/arschles/containerscaler\n ---> Running in 99d9c2162f41\nRemoving intermediate container 99d9c2162f41\n ---> fb20548ea14f\nStep 5/16 : COPY . .\n ---> 362567260306\nStep 6/16 : COPY kedascaler.external.proto /bin/proto.proto\n ---> d1d9f88fd794\nStep 7/16 : ARG VERSION=\"unset\"\n ---> Running in 09dc9cd0107b\nRemoving intermediate container 09dc9cd0107b\n ---> 659b996a9d80\nStep 8/16 : RUN GO111MODULE=on CGO_ENABLED=0 GOPROXY=\"https://proxy.golang.org\" go build -o /bin/containerscalerproxy ./cmd/proxy\n ---> Running in bc3bb433df20\n\u001b[91mgo: downloading github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo v3.3.10+incompatible\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.34.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading k8s.io/apimachinery v0.19.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/api v0.19.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo/v4 v4.1.17\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200820211705-5c72a883971a\n\u001b[0m\u001b[91mgo: downloading k8s.io/client-go v0.19.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/gommon v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20200526211855-cb27e3aa2013\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20200822124328-c89045814202\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v1.2.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/structured-merge-diff/v4 v4.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.10\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.8\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v1.0.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20191024005414-555d28b269f0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gnostic v0.4.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20191202225959-858c2ad4c8b6\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/utils v0.0.0-20200729134348-d5654de09c73\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200826173525-f9321e4c35a6\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/logr v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0mRemoving intermediate container bc3bb433df20\n ---> 13511be4a644\nStep 9/16 : FROM alpine:${ALPINE_VERSION}\n3.11.5: Pulling from library/alpine\naad63a933944: Pulling fs layer\naad63a933944: Verifying Checksum\naad63a933944: Pull complete\nDigest: sha256:b276d875eeed9c7d3f1cfa7edb06b22ed22b14219a7d67c52c56612330348239\nStatus: Downloaded newer image for alpine:3.11.5\n ---> a187dde48cd2\nStep 10/16 : RUN apk add -U curl\n ---> Running in 6f4558b6b6c5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20191127-r2)\n(2/4) Installing nghttp2-libs (1.40.0-r1)\n(3/4) Installing libcurl (7.79.1-r0)\n(4/4) Installing curl (7.79.1-r0)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 7 MiB in 18 packages\nRemoving intermediate container 6f4558b6b6c5\n ---> fa88f1d4d5b4\nStep 11/16 : ENV GO111MODULE=on\n ---> Running in 4230fdfdf9d4\nRemoving intermediate container 4230fdfdf9d4\n ---> cf185262202c\nStep 12/16 : COPY --from=builder /bin/containerscalerproxy /bin/containerscalerproxy\n ---> a3cff2367b61\nStep 13/16 : COPY --from=builder /bin/proto.proto /bin/proto.proto\n ---> 09022eed02b8\nStep 14/16 : RUN curl -o grpcurl.tgz -L https://github.com/fullstorydev/grpcurl/releases/download/v1.7.0/grpcurl_1.7.0_linux_x86_64.tar.gz &&     tar -xzf grpcurl.tgz &&     mv grpcurl /bin/grpcurl\n ---> Running in 150786f399be\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Tim\u001b[0m\u001b[91me    Time     Time  Current\n                \u001b[0m\u001b[91m                 Dload  Upload \u001b[0m\u001b[91m  Total\u001b[0m\u001b[91m   Spe\u001b[0m\u001b[91mnt    \u001b[0m\u001b[91mLeft  Spee\u001b[0m\u001b[91md\n\r \u001b[0m\u001b[91m 0     0    0     0    0  \u001b[0m\u001b[91m   0      0      \u001b[0m\u001b[91m0 --:--:-- --:\u001b[0m\u001b[91m--:-- --:--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n\u001b[0m\u001b[91m\r  0 5380k    0     0    0     0\u001b[0m\u001b[91m     \u001b[0m\u001b[91m 0      0\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m\r 24 5380k   24 1311k    0     0   749\u001b[0m\u001b[91mk      0  0:00:07\u001b[0m\u001b[91m  0:00:01  0:\u001b[0m\u001b[91m00:\u001b[0m\u001b[91m06 \u001b[0m\u001b[91m151\u001b[0m\u001b[91m9k\u001b[0m\u001b[91m\r100 5380k  100 5380k    0     0  2585k      0  0:00:02  0:00:02 --:--:-- 4509k\n\u001b[0mRemoving intermediate container 150786f399be\n ---> 45548e8d48ee\nStep 15/16 : EXPOSE 8080\n ---> Running in 00821d6b6383\nRemoving intermediate container 00821d6b6383\n ---> 8e5fd28f213c\nStep 16/16 : ENTRYPOINT [\"/bin/containerscalerproxy\"]\n ---> Running in 15836007bc4f\nRemoving intermediate container 15836007bc4f\n ---> 6e6d5446367e\nSuccessfully built 6e6d5446367e\nSuccessfully tagged kedahttp:latest\n","stderr":"","imageSize":74021966},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":25,"end":25,"columnStart":4,"columnEnd":125}},{"name":"tarSomethingRmTheSomething","position":{"start":26,"end":26,"columnStart":4,"columnEnd":24}},{"name":"apkAddUseNoCache","position":{"start":18,"end":18,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"# taken from Athens\n# https://github.com/gomods/athens/blob/main/cmd/proxy/Dockerfile\nARG GOLANG_VERSION=1.14\nARG ALPINE_VERSION=3.11.5\n\nFROM golang:${GOLANG_VERSION}-alpine AS builder\n\nWORKDIR $GOPATH/src/github.com/arschles/containerscaler\n\nCOPY . .\nCOPY kedascaler.external.proto /bin/proto.proto\n\nARG VERSION=\"unset\"\n\nRUN GO111MODULE=on CGO_ENABLED=0 GOPROXY=\"https://proxy.golang.org\" go build -o /bin/containerscalerproxy ./cmd/proxy\n\nFROM alpine:${ALPINE_VERSION}\n\nRUN apk add --no-cache -U curl\n\nENV GO111MODULE=on\n\nCOPY --from=builder /bin/containerscalerproxy /bin/containerscalerproxy\nCOPY --from=builder /bin/proto.proto /bin/proto.proto\n\nRUN curl -f -o grpcurl.tgz -L https://github.com/fullstorydev/grpcurl/releases/download/v1.7.0/grpcurl_1.7.0_linux_x86_64.tar.gz && \\\n    tar -xzf grpcurl.tgz && \\\n    mv grpcurl /bin/grpcurl\n\nEXPOSE 8080\n\nENTRYPOINT [\"/bin/containerscalerproxy\"]\n"},"repairedBuild":{"startTimestamp":1672374743446,"endTimestamp":1672374797257,"error":null,"stdout":"Sending build context to Docker daemon  421.9kB\r\r\nStep 1/16 : ARG GOLANG_VERSION=1.14\nStep 2/16 : ARG ALPINE_VERSION=3.11.5\nStep 3/16 : FROM golang:${GOLANG_VERSION}-alpine AS builder\n ---> 32dc91e030ac\nStep 4/16 : WORKDIR $GOPATH/src/github.com/arschles/containerscaler\n ---> Running in a2a4f3cea98b\nRemoving intermediate container a2a4f3cea98b\n ---> fd113c662ead\nStep 5/16 : COPY . .\n ---> 4f45a9462012\nStep 6/16 : COPY kedascaler.external.proto /bin/proto.proto\n ---> eb20f4418b8f\nStep 7/16 : ARG VERSION=\"unset\"\n ---> Running in 3edeb49450dd\nRemoving intermediate container 3edeb49450dd\n ---> ba6008963d8f\nStep 8/16 : RUN GO111MODULE=on CGO_ENABLED=0 GOPROXY=\"https://proxy.golang.org\" go build -o /bin/containerscalerproxy ./cmd/proxy\n ---> Running in 7d3bc1efaaec\n\u001b[91mgo: downloading github.com/labstack/echo v3.3.10+incompatible\n\u001b[0m\u001b[91mgo: downloading k8s.io/apimachinery v0.19.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.34.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/client-go v0.19.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo/v4 v4.1.17\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20200820211705-5c72a883971a\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/gommon v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20200822124328-c89045814202\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.1\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200826173525-f9321e4c35a6\n\u001b[0m\u001b[91mgo: downloading k8s.io/api v0.19.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.7\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/structured-merge-diff/v4 v4.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v1.0.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gnostic v0.4.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20200526211855-cb27e3aa2013\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.3\n\u001b[0m\u001b[91mgo: downloading k8s.io/utils v0.0.0-20200729134348-d5654de09c73\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20191024005414-555d28b269f0\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.10\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20191202225959-858c2ad4c8b6\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.8\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/logr v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0mRemoving intermediate container 7d3bc1efaaec\n ---> 3bb76f30563c\nStep 9/16 : FROM alpine:${ALPINE_VERSION}\n ---> a187dde48cd2\nStep 10/16 : RUN apk add --no-cache -U curl\n ---> Running in 29a0caece97b\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20191127-r2)\n(2/4) Installing nghttp2-libs (1.40.0-r1)\n(3/4) Installing libcurl (7.79.1-r0)\n(4/4) Installing curl (7.79.1-r0)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 7 MiB in 18 packages\nRemoving intermediate container 29a0caece97b\n ---> 42f84c3455fa\nStep 11/16 : ENV GO111MODULE=on\n ---> Running in 542b6f005237\nRemoving intermediate container 542b6f005237\n ---> 1f29f28de710\nStep 12/16 : COPY --from=builder /bin/containerscalerproxy /bin/containerscalerproxy\n ---> fc4cd38239f9\nStep 13/16 : COPY --from=builder /bin/proto.proto /bin/proto.proto\n ---> 2201904903a9\nStep 14/16 : RUN curl -f -o grpcurl.tgz -L https://github.com/fullstorydev/grpcurl/releases/download/v1.7.0/grpcurl_1.7.0_linux_x86_64.tar.gz &&     tar -xzf grpcurl.tgz &&     mv grpcurl /bin/grpcurl\n ---> Running in d22511eb26a5\n\u001b[91m  % Total    % Received % Xferd  A\u001b[0m\u001b[91mverage\u001b[0m\u001b[91m Speed   Time  \u001b[0m\u001b[91m  T\u001b[0m\u001b[91mime   \u001b[0m\u001b[91m  Time  Cur\u001b[0m\u001b[91mrent\n                 \u001b[0m\u001b[91m            \u001b[0m\u001b[91m   \u001b[0m\u001b[91m Dl\u001b[0m\u001b[91moad  Upload   Total   Spent\u001b[0m\u001b[91m    Le\u001b[0m\u001b[91mft  Sp\u001b[0m\u001b[91meed\n\r  0 \u001b[0m\u001b[91m    0    0   \u001b[0m\u001b[91m  0    0     0 \u001b[0m\u001b[91m     0   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0 -\u001b[0m\u001b[91m-:--:-- --:-\u001b[0m\u001b[91m-:-- --:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      \u001b[0m\u001b[91m0      0 --:--:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:-- --\u001b[0m\u001b[91m:--:--     \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r  0     0    0  \u001b[0m\u001b[91m   0    0  \u001b[0m\u001b[91m   0    \u001b[0m\u001b[91m  0      \u001b[0m\u001b[91m0 --\u001b[0m\u001b[91m:--:-\u001b[0m\u001b[91m- --:-\u001b[0m\u001b[91m-:-- -\u001b[0m\u001b[91m-:--:-\u001b[0m\u001b[91m-     0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r100 5380k  100 538\u001b[0m\u001b[91m0k    0   \u001b[0m\u001b[91m  0  11\u001b[0m\u001b[91m.5M      \u001b[0m\u001b[91m0 --:--:-\u001b[0m\u001b[91m- --:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m:-\u001b[0m\u001b[91m- \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m11.5M\u001b[0m\u001b[91m\n\u001b[0mRemoving intermediate container d22511eb26a5\n ---> 8c0a04cbd93c\nStep 15/16 : EXPOSE 8080\n ---> Running in 39a8a6e9af1f\nRemoving intermediate container 39a8a6e9af1f\n ---> 8b58171f1cca\nStep 16/16 : ENTRYPOINT [\"/bin/containerscalerproxy\"]\n ---> Running in faacc710c8ae\nRemoving intermediate container faacc710c8ae\n ---> 0b30a3cdd517\nSuccessfully built 0b30a3cdd517\nSuccessfully tagged kedahttp:latest\n","stderr":"","imageSize":72441556},"endTime":1672374797771}