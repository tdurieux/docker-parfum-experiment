{"repository":"https://github.com/spinnaker/kayenta","dockerfilePath":"Dockerfile","startTime":1672731838760,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/spinnaker/kayenta'...\n","error":null,"commit":"65c837327cd8fe2b49dd6dd2c997cf123e901b2d"},"originalBuild":{"startTimestamp":1672731839897,"endTimestamp":1672732144832,"error":null,"stdout":"Sending build context to Docker daemon  3.127MB\r\r\nStep 1/13 : FROM gradle:6.5-jdk11 AS builder\n6.5-jdk11: Pulling from library/gradle\n7595c8c21622: Pulling fs layer\nd13af8ca898f: Pulling fs layer\n70799171ddba: Pulling fs layer\nb6c12202c5ef: Pulling fs layer\nc54d424eaa66: Pulling fs layer\ndbb68d78371a: Pulling fs layer\n14628d9fb80f: Pulling fs layer\na5fe09ba8156: Pulling fs layer\nb6c12202c5ef: Waiting\nfcaa805b5928: Pulling fs layer\nc54d424eaa66: Waiting\ndbb68d78371a: Waiting\na5fe09ba8156: Waiting\n14628d9fb80f: Waiting\nd13af8ca898f: Download complete\n70799171ddba: Verifying Checksum\n70799171ddba: Download complete\n7595c8c21622: Verifying Checksum\n7595c8c21622: Download complete\nb6c12202c5ef: Verifying Checksum\nb6c12202c5ef: Download complete\nc54d424eaa66: Verifying Checksum\nc54d424eaa66: Download complete\n14628d9fb80f: Download complete\n7595c8c21622: Pull complete\nd13af8ca898f: Pull complete\n70799171ddba: Pull complete\nb6c12202c5ef: Pull complete\na5fe09ba8156: Verifying Checksum\na5fe09ba8156: Download complete\nc54d424eaa66: Pull complete\nfcaa805b5928: Verifying Checksum\nfcaa805b5928: Download complete\ndbb68d78371a: Verifying Checksum\ndbb68d78371a: Download complete\ndbb68d78371a: Pull complete\n14628d9fb80f: Pull complete\na5fe09ba8156: Pull complete\nfcaa805b5928: Pull complete\nDigest: sha256:449a6385fa079f420cd7cd4ce34601740e046dfdcaaaf272d6cc5313104859df\nStatus: Downloaded newer image for gradle:6.5-jdk11\n ---> 1b831c3174f2\nStep 2/13 : ENV GRADLE_USER_HOME=cache\n ---> Running in 4c03d56247e5\nRemoving intermediate container 4c03d56247e5\n ---> 06c4b5144d91\nStep 3/13 : COPY . /tmp/workdir\n ---> 6c3fab00afa1\nStep 4/13 : WORKDIR /tmp/workdir\n ---> Running in b9f2c763cf4f\nRemoving intermediate container b9f2c763cf4f\n ---> f33348a82912\nStep 5/13 : RUN gradle assemble\n ---> Running in a82a2b870de0\n\nWelcome to Gradle 6.5.1!\n\nHere are the highlights of this release:\n - Experimental file-system watching\n - Improved version ordering\n - New samples\n\nFor more details see https://docs.gradle.org/6.5.1/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n> Configure project :\nError configuring git repository for idea files: repository not found: /tmp/workdir/.git\n\n> Task :kayenta-bom:assemble UP-TO-DATE\n> Task :assemble UP-TO-DATE\n> Task :kayenta-integration-tests:compileJava NO-SOURCE\n> Task :kayenta-integration-tests:compileGroovy NO-SOURCE\n> Task :kayenta-integration-tests:processResources NO-SOURCE\n> Task :kayenta-integration-tests:classes UP-TO-DATE\n> Task :kayenta-azure:processResources\n> Task :kayenta-gcs:processResources\n> Task :kayenta-datadog:processResources\n> Task :kayenta-blobs:processResources\n> Task :kayenta-google:processResources\n> Task :kayenta-standalone-canary-analysis:processResources\n> Task :kayenta-wavefront:processResources\n> Task :kayenta-newrelic-insights:processResources\n> Task :kayenta-judge:processResources\n> Task :kayenta-prometheus:processResources\n> Task :kayenta-integration-tests:jar\n> Task :kayenta-graphite:processResources\n> Task :kayenta-stackdriver:processResources\n> Task :kayenta-s3:processResources\n> Task :kayenta-objectstore-configbin:processResources\n> Task :kayenta-influxdb:processResources\n> Task :kayenta-atlas:processResources\n> Task :kayenta-web:processResources\n> Task :kayenta-signalfx:processResources\n> Task :kayenta-aws:processResources\n> Task :kayenta-objectstore-memory:processResources\n> Task :kayenta-integration-tests:sourceJar\n> Task :kayenta-integration-tests:assemble\n\n> Task :kayenta-orca:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-orca/src/main/java/com/netflix/kayenta/orca/controllers/PipelineController.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-orca:compileGroovy NO-SOURCE\n\n> Task :kayenta-core:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: Some input files use unchecked or unsafe operations.\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-orca:processResources\n> Task :kayenta-orca:classes\n> Task :kayenta-orca:jar\n> Task :kayenta-orca:sourceJar\n> Task :kayenta-orca:assemble\n> Task :kayenta-mannwhitney:compileJava\n> Task :kayenta-mannwhitney:compileGroovy NO-SOURCE\n> Task :kayenta-core:compileGroovy NO-SOURCE\n> Task :kayenta-core:processResources NO-SOURCE\n> Task :kayenta-core:classes\n> Task :kayenta-core:jar\n> Task :kayenta-core:sourceJar\n> Task :kayenta-core:assemble\n\n> Task :kayenta-objectstore-memory:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-objectstore-memory/src/main/java/com/netflix/kayenta/memory/storage/MemoryStorageService.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-objectstore-memory:compileGroovy NO-SOURCE\n> Task :kayenta-objectstore-memory:classes\n> Task :kayenta-objectstore-memory:jar\n> Task :kayenta-objectstore-memory:sourceJar\n> Task :kayenta-objectstore-memory:assemble\n\n> Task :kayenta-objectstore-configbin:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-objectstore-configbin/src/main/java/com/netflix/kayenta/configbin/storage/ConfigBinStorageService.java uses or overrides a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-objectstore-configbin/src/main/java/com/netflix/kayenta/configbin/storage/ConfigBinStorageService.java uses unchecked or unsafe operations.\n\u001b[0m\n\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m> Task :kayenta-objectstore-configbin:compileGroovy NO-SOURCE\n> Task :kayenta-objectstore-configbin:classes\n> Task :kayenta-objectstore-configbin:jar\n> Task :kayenta-objectstore-configbin:sourceJar\n> Task :kayenta-objectstore-configbin:assemble\n\n> Task :kayenta-azure:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-azure/src/main/java/com/netflix/kayenta/azure/config/AzureConfiguration.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-azure:compileGroovy NO-SOURCE\n> Task :kayenta-azure:classes\n> Task :kayenta-azure:jar\n> Task :kayenta-azure:sourceJar\n> Task :kayenta-azure:assemble\n\n> Task :kayenta-wavefront:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-wavefront/src/main/java/com/netflix/kayenta/wavefront/orca/WavefrontFetchTask.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\u001b[0m\u001b[91m\n\u001b[0m\n> Task :kayenta-wavefront:compileGroovy NO-SOURCE\n> Task :kayenta-wavefront:classes\n> Task :kayenta-wavefront:jar\n> Task :kayenta-wavefront:sourceJar\n> Task :kayenta-wavefront:assemble\n\n> Task :kayenta-datadog:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-datadog:compileGroovy NO-SOURCE\n> Task :kayenta-datadog:classes\n> Task :kayenta-datadog:jar\n> Task :kayenta-datadog:sourceJar\n> Task :kayenta-datadog:assemble\n\n> Task :kayenta-influxdb:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-influxdb/src/main/java/com/netflix/kayenta/influxdb/config/InfluxDbResponseConverter.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-influxdb:compileGroovy NO-SOURCE\n> Task :kayenta-influxdb:classes\n> Task :kayenta-influxdb:jar\n\n> Task :kayenta-newrelic-insights:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-newrelic-insights:compileGroovy NO-SOURCE\n> Task :kayenta-newrelic-insights:classes\n> Task :kayenta-influxdb:sourceJar\n> Task :kayenta-influxdb:assemble\n> Task :kayenta-newrelic-insights:jar\n\n> Task :kayenta-graphite:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-graphite/src/main/java/com/netflix/kayenta/graphite/controller/GraphiteFetchController.java uses or overrides a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-graphite/src/main/java/com/netflix/kayenta/graphite/controller/GraphiteFetchController.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-newrelic-insights:sourceJar\n> Task :kayenta-newrelic-insights:assemble\n> Task :kayenta-graphite:compileGroovy NO-SOURCE\n> Task :kayenta-graphite:classes\n\n> Task :kayenta-google:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-graphite:jar\n> Task :kayenta-graphite:sourceJar\n> Task :kayenta-graphite:assemble\n\n> Task :kayenta-aws:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-aws/src/main/java/com/netflix/kayenta/aws/config/AwsConfiguration.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-prometheus:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\u001b[0m\u001b[91m\n\u001b[0m\n> Task :kayenta-prometheus:compileGroovy NO-SOURCE\n> Task :kayenta-prometheus:classes\n> Task :kayenta-prometheus:jar\n> Task :kayenta-prometheus:sourceJar\n> Task :kayenta-prometheus:assemble\n\n> Task :kayenta-atlas:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-atlas/src/main/java/com/netflix/kayenta/atlas/config/AtlasSSEConverter.java uses or overrides a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-atlas/src/main/java/com/netflix/kayenta/atlas/orca/AtlasFetchTask.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-atlas:compileGroovy NO-SOURCE\n> Task :kayenta-atlas:classes\n> Task :kayenta-atlas:jar\n> Task :kayenta-atlas:sourceJar\n> Task :kayenta-atlas:assemble\n> Task :kayenta-google:compileGroovy NO-SOURCE\n> Task :kayenta-google:classes\n> Task :kayenta-google:jar\n> Task :kayenta-google:sourceJar\n> Task :kayenta-google:assemble\n\n> Task :kayenta-blobs:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-blobs/src/main/java/com/netflix/kayenta/blobs/storage/BlobsStorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-blobs:compileGroovy NO-SOURCE\u001b[91mNote: /tmp/workdir/kayenta-blobs/src/main/java/com/netflix/kayenta/blobs/storage/BlobsStorageService.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-blobs:classes\n\n> Task :kayenta-standalone-canary-analysis:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-standalone-canary-analysis/src/main/java/com/netflix/kayenta/standalonecanaryanalysis/service/CanaryAnalysisService.java uses or overrides a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-standalone-canary-analysis:compileGroovy NO-SOURCE\n> Task :kayenta-standalone-canary-analysis:classes\n> Task :kayenta-blobs:jar\n> Task :kayenta-blobs:sourceJar\n> Task :kayenta-blobs:assemble\n> Task :kayenta-aws:compileGroovy NO-SOURCE\n> Task :kayenta-aws:classes\n> Task :kayenta-aws:jar\n> Task :kayenta-aws:sourceJar\n> Task :kayenta-aws:assemble\n> Task :kayenta-standalone-canary-analysis:jar\n> Task :kayenta-standalone-canary-analysis:sourceJar\n> Task :kayenta-standalone-canary-analysis:assemble\n\n> Task :kayenta-signalfx:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-signalfx/src/main/java/com/netflix/kayenta/canary/providers/metrics/SignalFxCanaryMetricSetQueryConfig.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-gcs:compileJava\n\n\u001b[91mNote: /tmp/workdir/kayenta-gcs/src/main/java/com/netflix/kayenta/gcs/storage/GcsStorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-gcs/src/main/java/com/netflix/kayenta/gcs/storage/GcsStorageService.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m> Task :kayenta-gcs:compileGroovy NO-SOURCE\n> Task :kayenta-gcs:classes\n> Task :kayenta-gcs:jar\n> Task :kayenta-gcs:sourceJar\n> Task :kayenta-gcs:assemble\n\n> Task :kayenta-stackdriver:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-stackdriver/src/main/java/com/netflix/kayenta/stackdriver/orca/StackdriverFetchTask.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-stackdriver:compileGroovy NO-SOURCE\n> Task :kayenta-stackdriver:classes\n> Task :kayenta-stackdriver:jar\n> Task :kayenta-stackdriver:sourceJar\n> Task :kayenta-stackdriver:assemble\n\n> Task :kayenta-s3:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-s3/src/main/java/com/netflix/kayenta/s3/storage/S3StorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-s3/src/main/java/com/netflix/kayenta/s3/storage/S3StorageService.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-s3:compileGroovy NO-SOURCE\n> Task :kayenta-s3:classes\n> Task :kayenta-s3:jar\n> Task :kayenta-s3:sourceJar\n> Task :kayenta-s3:assemble\n> Task :kayenta-signalfx:compileGroovy NO-SOURCE\n> Task :kayenta-signalfx:classes\n> Task :kayenta-signalfx:jar\n> Task :kayenta-signalfx:sourceJar\n> Task :kayenta-signalfx:assemble\n> Task :kayenta-mannwhitney:compileScala\n> Task :kayenta-mannwhitney:processResources NO-SOURCE\n> Task :kayenta-mannwhitney:classes\n> Task :kayenta-mannwhitney:jar\n> Task :kayenta-judge:compileJava NO-SOURCE\n> Task :kayenta-judge:compileGroovy NO-SOURCE\n> Task :kayenta-mannwhitney:sourceJar\n> Task :kayenta-mannwhitney:assemble\n> Task :kayenta-judge:compileScala\n> Task :kayenta-judge:classes\n> Task :kayenta-judge:jar\n> Task :kayenta-judge:sourceJar\n> Task :kayenta-judge:assemble\n\n> Task :kayenta-web:compileJava\n\n> Task :kayenta-web:compileGroovy NO-SOURCE\n> Task :kayenta-web:classes\n> Task :kayenta-web:jar\n\u001b[91mNote: /tmp/workdir/kayenta-web/src/main/java/com/netflix/kayenta/controllers/CanaryConfigController.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m> Task :kayenta-web:startScripts\n> Task :kayenta-web:distTar\n> Task :kayenta-web:distZip\n> Task :kayenta-web:sourceJar\n> Task :kayenta-web:assemble\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 2m 33s\n96 actionable tasks: 96 executed\nRemoving intermediate container a82a2b870de0\n ---> 03b7e84af9d9\nStep 6/13 : RUN tar -xf /tmp/workdir/kayenta-web/build/distributions/kayenta.tar -C /opt\n ---> Running in b1d34af8aba4\nRemoving intermediate container b1d34af8aba4\n ---> 6434ab16c9e9\nStep 7/13 : FROM alpine:3.16\n3.16: Pulling from library/alpine\nca7dd9ec2225: Already exists\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 8/13 : LABEL maintainer=\"delivery-engineering@netflix.com\"\n ---> Running in fdfbda50456a\nRemoving intermediate container fdfbda50456a\n ---> dac21e45afee\nStep 9/13 : RUN apk --no-cache add --update openjdk11-jre\n ---> Running in f67c8cea3f19\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing java-common (0.5-r0)\n(2/25) Installing libffi (3.4.2-r1)\n(3/25) Installing p11-kit (0.24.1-r0)\n(4/25) Installing libtasn1 (4.18.0-r1)\n(5/25) Installing p11-kit-trust (0.24.1-r0)\n(6/25) Installing ca-certificates (20220614-r0)\n(7/25) Installing java-cacerts (1.0-r1)\n(8/25) Installing openjdk11-jre-headless (11.0.17_p8-r1)\n(9/25) Installing libxau (1.0.9-r0)\n(10/25) Installing libxdmcp (1.1.3-r0)\n(11/25) Installing libxcb (1.15-r0)\n(12/25) Installing libx11 (1.8-r0)\n(13/25) Installing libxext (1.3.4-r0)\n(14/25) Installing libxi (1.8-r0)\n(15/25) Installing libxrender (0.9.10-r3)\n(16/25) Installing libxtst (1.2.3-r3)\n(17/25) Installing alsa-lib (1.2.7.2-r0)\n(18/25) Installing brotli-libs (1.0.9-r6)\n(19/25) Installing libbz2 (1.0.8-r1)\n(20/25) Installing libpng (1.6.37-r1)\n(21/25) Installing freetype (2.12.1-r0)\n(22/25) Installing giflib (5.2.1-r0)\n(23/25) Installing libjpeg-turbo (2.1.3-r1)\n(24/25) Installing lcms2 (2.13.1-r0)\n(25/25) Installing openjdk11-jre (11.0.17_p8-r1)\nExecuting busybox-1.35.0-r17.trigger\nExecuting java-common-0.5-r0.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 174 MiB in 39 packages\nRemoving intermediate container f67c8cea3f19\n ---> ea98b1b53855\nStep 10/13 : ENV KAYENTA_OPTS=-Dspring.config.location=file:/opt/kayenta/config/kayenta.yml\n ---> Running in 91ad4e8bfaf1\nRemoving intermediate container 91ad4e8bfaf1\n ---> e71bbe535b33\nStep 11/13 : RUN mkdir -p /opt/spinnaker/plugins\n ---> Running in 84e8991e7a40\nRemoving intermediate container 84e8991e7a40\n ---> 36dfdc7c1ea9\nStep 12/13 : COPY --from=builder /opt/kayenta /opt/kayenta\n ---> 871d5165b4bd\nStep 13/13 : CMD [\"/opt/kayenta/bin/kayenta\"]\n ---> Running in 04f4f1960660\nRemoving intermediate container 04f4f1960660\n ---> cc44d34dff32\nSuccessfully built cc44d34dff32\nSuccessfully tagged kayenta:latest\n","stderr":"","imageSize":325744063},"repair":{"violations":[{"name":"tarSomethingRmTheSomething","position":{"start":16,"end":16,"columnStart":4,"columnEnd":76}}],"repairedDockerfile":"#\n# Builder Image\n#\nFROM gradle:6.5-jdk11 AS builder\n\n# Prep build environment\nENV GRADLE_USER_HOME=cache\nCOPY . /tmp/workdir\nWORKDIR /tmp/workdir\n\n# Build kayenta\n# Doesn't run build because the integration tests try to spin up a Docker\n# container to talk to a Kayenta instance, which requires some Docker shenanigans.\nRUN gradle assemble\n\n# Unpack so release image can copy folder and be smaller\nRUN tar -xf /tmp/workdir/kayenta-web/build/distributions/kayenta.tar -C /opt\n\n#\n# Release Image\n#\nFROM alpine:3.16\n\nLABEL maintainer=\"delivery-engineering@netflix.com\"\n\nRUN apk --no-cache add --update openjdk11-jre\n\n# Set where to look for config from\nENV KAYENTA_OPTS=-Dspring.config.location=file:/opt/kayenta/config/kayenta.yml\n\nRUN mkdir -p /opt/spinnaker/plugins\n\n# Copy from builder image\nCOPY --from=builder /opt/kayenta /opt/kayenta\n\nCMD [\"/opt/kayenta/bin/kayenta\"]\n"},"repairedBuild":{"startTimestamp":1672732145222,"endTimestamp":1672732331168,"error":null,"stdout":"Sending build context to Docker daemon  3.127MB\r\r\nStep 1/13 : FROM gradle:6.5-jdk11 AS builder\n ---> 1b831c3174f2\nStep 2/13 : ENV GRADLE_USER_HOME=cache\n ---> Running in d32425110851\nRemoving intermediate container d32425110851\n ---> 62def534bb21\nStep 3/13 : COPY . /tmp/workdir\n ---> 6359baa02fd4\nStep 4/13 : WORKDIR /tmp/workdir\n ---> Running in a8f47267bb23\nRemoving intermediate container a8f47267bb23\n ---> d78bc94b1531\nStep 5/13 : RUN gradle assemble\n ---> Running in 6032ddfb1200\n\nWelcome to Gradle 6.5.1!\n\nHere are the highlights of this release:\n - Experimental file-system watching\n - Improved version ordering\n - New samples\n\nFor more details see https://docs.gradle.org/6.5.1/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n> Configure project :\nError configuring git repository for idea files: repository not found: /tmp/workdir/.git\n\n> Task :assemble UP-TO-DATE\n> Task :kayenta-bom:assemble UP-TO-DATE\n> Task :kayenta-integration-tests:compileJava NO-SOURCE\n> Task :kayenta-integration-tests:compileGroovy NO-SOURCE\n> Task :kayenta-integration-tests:processResources NO-SOURCE\n> Task :kayenta-integration-tests:classes UP-TO-DATE\n> Task :kayenta-graphite:processResources\n> Task :kayenta-stackdriver:processResources\n> Task :kayenta-judge:processResources\n> Task :kayenta-azure:processResources\n> Task :kayenta-objectstore-memory:processResources\n> Task :kayenta-aws:processResources\n> Task :kayenta-google:processResources\n> Task :kayenta-integration-tests:jar\n> Task :kayenta-standalone-canary-analysis:processResources\n> Task :kayenta-influxdb:processResources\n> Task :kayenta-atlas:processResources\n> Task :kayenta-datadog:processResources\n> Task :kayenta-signalfx:processResources\n> Task :kayenta-s3:processResources\n> Task :kayenta-blobs:processResources\n> Task :kayenta-wavefront:processResources\n> Task :kayenta-web:processResources\n> Task :kayenta-gcs:processResources\n> Task :kayenta-newrelic-insights:processResources\n> Task :kayenta-objectstore-configbin:processResources\n> Task :kayenta-prometheus:processResources\n> Task :kayenta-integration-tests:sourceJar\n> Task :kayenta-integration-tests:assemble\n\n> Task :kayenta-orca:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-orca/src/main/java/com/netflix/kayenta/orca/controllers/PipelineController.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-orca:compileGroovy NO-SOURCE\n> Task :kayenta-orca:processResources\n> Task :kayenta-orca:classes\n> Task :kayenta-orca:jar\n> Task :kayenta-orca:sourceJar\n> Task :kayenta-orca:assemble\n\n> Task :kayenta-core:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-mannwhitney:compileJava\n> Task :kayenta-mannwhitney:compileGroovy NO-SOURCE\n> Task :kayenta-core:compileGroovy NO-SOURCE\n> Task :kayenta-core:processResources NO-SOURCE\n> Task :kayenta-core:classes\n> Task :kayenta-core:jar\n> Task :kayenta-core:sourceJar\n> Task :kayenta-core:assemble\n\n> Task :kayenta-datadog:compileJava\n\n> Task :kayenta-datadog:compileGroovy\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m NO-SOURCE\n> Task :kayenta-datadog:classes\n\n> Task :kayenta-objectstore-memory:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-objectstore-memory/src/main/java/com/netflix/kayenta/memory/storage/MemoryStorageService.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-objectstore-memory:compileGroovy NO-SOURCE\n> Task :kayenta-objectstore-memory:classes\n> Task :kayenta-objectstore-memory:jar\n> Task :kayenta-datadog:jar\n> Task :kayenta-objectstore-memory:sourceJar\n> Task :kayenta-objectstore-memory:assemble\n> Task :kayenta-datadog:sourceJar\n> Task :kayenta-datadog:assemble\n\n> Task :kayenta-influxdb:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-influxdb/src/main/java/com/netflix/kayenta/influxdb/config/InfluxDbResponseConverter.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-influxdb:compileGroovy NO-SOURCE\n> Task :kayenta-influxdb:classes\n> Task :kayenta-influxdb:jar\n> Task :kayenta-influxdb:sourceJar\n> Task :kayenta-influxdb:assemble\n\n> Task :kayenta-newrelic-insights:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-newrelic-insights:compileGroovy NO-SOURCE\n> Task :kayenta-newrelic-insights:classes\n> Task :kayenta-newrelic-insights:jar\n> Task :kayenta-newrelic-insights:sourceJar\n> Task :kayenta-newrelic-insights:assemble\n\n> Task :kayenta-objectstore-configbin:compileJava\n\n> Task :kayenta-objectstore-configbin:compileGroovy NO-SOURCE\n> Task :kayenta-objectstore-configbin:classes\n\u001b[91mNote: /tmp/workdir/kayenta-objectstore-configbin/src/main/java/com/netflix/kayenta/configbin/storage/ConfigBinStorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-objectstore-configbin/src/main/java/com/netflix/kayenta/configbin/storage/ConfigBinStorageService.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m> Task :kayenta-objectstore-configbin:jar\n\n> Task :kayenta-azure:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-azure/src/main/java/com/netflix/kayenta/azure/config/AzureConfiguration.java uses or overrides a deprecated API.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-objectstore-configbin:sourceJar\n> Task :kayenta-objectstore-configbin:assemble\n\n> Task :kayenta-wavefront:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-wavefront/src/main/java/com/netflix/kayenta/wavefront/orca/WavefrontFetchTask.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\u001b[0m\u001b[91m\n\u001b[0m\n> Task :kayenta-wavefront:compileGroovy NO-SOURCE\n> Task :kayenta-wavefront:classes\n> Task :kayenta-wavefront:jar\n> Task :kayenta-wavefront:sourceJar\n> Task :kayenta-wavefront:assemble\n> Task :kayenta-azure:compileGroovy NO-SOURCE\n> Task :kayenta-azure:classes\n\n> Task :kayenta-graphite:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-graphite/src/main/java/com/netflix/kayenta/graphite/controller/GraphiteFetchController.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-graphite/src/main/java/com/netflix/kayenta/graphite/controller/GraphiteFetchController.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-graphite:compileGroovy NO-SOURCE\n> Task :kayenta-graphite:classes\n> Task :kayenta-azure:jar\n> Task :kayenta-azure:sourceJar\n> Task :kayenta-graphite:jar\n> Task :kayenta-azure:assemble\n\n> Task :kayenta-aws:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-aws/src/main/java/com/netflix/kayenta/aws/config/AwsConfiguration.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-graphite:sourceJar\n> Task :kayenta-graphite:assemble\n\n> Task :kayenta-prometheus:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-prometheus:compileGroovy NO-SOURCE\n> Task :kayenta-prometheus:classes\n\n> Task :kayenta-atlas:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-atlas/src/main/java/com/netflix/kayenta/atlas/config/AtlasSSEConverter.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-atlas/src/main/java/com/netflix/kayenta/atlas/orca/AtlasFetchTask.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-atlas:compileGroovy NO-SOURCE\n> Task :kayenta-atlas:classes\n\n> Task :kayenta-google:compileJava\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-prometheus:jar\n> Task :kayenta-prometheus:sourceJar\n> Task :kayenta-prometheus:assemble\n> Task :kayenta-atlas:jar\n> Task :kayenta-atlas:sourceJar\n> Task :kayenta-atlas:assemble\n\n> Task :kayenta-standalone-canary-analysis:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-standalone-canary-analysis/src/main/java/com/netflix/kayenta/standalonecanaryanalysis/service/CanaryAnalysisService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-standalone-canary-analysis:compileGroovy NO-SOURCE\n> Task :kayenta-standalone-canary-analysis:classes\n> Task :kayenta-google:compileGroovy NO-SOURCE\n> Task :kayenta-google:classes\n\n> Task :kayenta-signalfx:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-signalfx/src/main/java/com/netflix/kayenta/canary/providers/metrics/SignalFxCanaryMetricSetQueryConfig.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\n> Task :kayenta-standalone-canary-analysis:jar\n> Task :kayenta-google:jar\n\n> Task :kayenta-blobs:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-blobs/src/main/java/com/netflix/kayenta/blobs/storage/BlobsStorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-blobs/src/main/java/com/netflix/kayenta/blobs/storage/BlobsStorageService.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-blobs:compileGroovy NO-SOURCE\n> Task :kayenta-blobs:classes\n> Task :kayenta-blobs:jar\n> Task :kayenta-google:sourceJar\n> Task :kayenta-standalone-canary-analysis:sourceJar\n> Task :kayenta-google:assemble\n> Task :kayenta-standalone-canary-analysis:assemble\n> Task :kayenta-blobs:sourceJar\n> Task :kayenta-blobs:assemble\n> Task :kayenta-aws:compileGroovy NO-SOURCE\n> Task :kayenta-aws:classes\n> Task :kayenta-aws:jar\n> Task :kayenta-aws:sourceJar\n> Task :kayenta-aws:assemble\n\n> Task :kayenta-gcs:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-gcs/src/main/java/com/netflix/kayenta/gcs/storage/GcsStorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: /tmp/workdir/kayenta-gcs/src/main/java/com/netflix/kayenta/gcs/storage/GcsStorageService.java uses unchecked or unsafe operations.\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-gcs:compileGroovy NO-SOURCE\n> Task :kayenta-gcs:classes\n> Task :kayenta-gcs:jar\n> Task :kayenta-gcs:sourceJar\n> Task :kayenta-gcs:assemble\n\n> Task :kayenta-stackdriver:compileJava\n\n> Task :kayenta-stackdriver:compileGroovy NO-SOURCE\n> Task :kayenta-stackdriver:classes\n\u001b[91mNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-stackdriver/src/main/java/com/netflix/kayenta/stackdriver/orca/StackdriverFetchTask.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m> Task :kayenta-stackdriver:jar\n> Task :kayenta-stackdriver:sourceJar\n> Task :kayenta-stackdriver:assemble\n\n> Task :kayenta-s3:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-s3/src/main/java/com/netflix/kayenta/s3/storage/S3StorageService.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /tmp/workdir/kayenta-s3/src/main/java/com/netflix/kayenta/s3/storage/S3StorageService.java uses unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-s3:compileGroovy NO-SOURCE\n> Task :kayenta-s3:classes\n> Task :kayenta-s3:jar\n> Task :kayenta-s3:sourceJar\n> Task :kayenta-s3:assemble\n> Task :kayenta-signalfx:compileGroovy NO-SOURCE\n> Task :kayenta-signalfx:classes\n> Task :kayenta-signalfx:jar\n> Task :kayenta-signalfx:sourceJar\n> Task :kayenta-signalfx:assemble\n> Task :kayenta-mannwhitney:compileScala\n> Task :kayenta-mannwhitney:processResources NO-SOURCE\n> Task :kayenta-mannwhitney:classes\n> Task :kayenta-mannwhitney:jar\n> Task :kayenta-judge:compileJava NO-SOURCE\n> Task :kayenta-judge:compileGroovy NO-SOURCE\n> Task :kayenta-mannwhitney:sourceJar\n> Task :kayenta-mannwhitney:assemble\n> Task :kayenta-judge:compileScala\n> Task :kayenta-judge:classes\n> Task :kayenta-judge:jar\n> Task :kayenta-judge:sourceJar\n> Task :kayenta-judge:assemble\n\n> Task :kayenta-web:compileJava\n\u001b[91mNote: /tmp/workdir/kayenta-web/src/main/java/com/netflix/kayenta/controllers/CanaryConfigController.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\u001b[0m\u001b[91mNote: Some input files use unchecked or unsafe operations.\n\u001b[0m\u001b[91mNote: Recompile with -Xlint:unchecked for details.\n\u001b[0m\n> Task :kayenta-web:compileGroovy NO-SOURCE\n> Task :kayenta-web:classes\n> Task :kayenta-web:jar\n> Task :kayenta-web:startScripts\n> Task :kayenta-web:distTar\n> Task :kayenta-web:distZip\n> Task :kayenta-web:sourceJar\n> Task :kayenta-web:assemble\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 1m 54s\n96 actionable tasks: 96 executed\nRemoving intermediate container 6032ddfb1200\n ---> e42a05064419\nStep 6/13 : RUN tar -xf /tmp/workdir/kayenta-web/build/distributions/kayenta.tar -C /opt\n ---> Running in 19db02fc1490\nRemoving intermediate container 19db02fc1490\n ---> 7287a959d928\nStep 7/13 : FROM alpine:3.16\n ---> bfe296a52501\nStep 8/13 : LABEL maintainer=\"delivery-engineering@netflix.com\"\n ---> Running in 66e7bd53237d\nRemoving intermediate container 66e7bd53237d\n ---> b69392562c9f\nStep 9/13 : RUN apk --no-cache add --update openjdk11-jre\n ---> Running in 16ebf9e12f49\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing java-common (0.5-r0)\n(2/25) Installing libffi (3.4.2-r1)\n(3/25) Installing p11-kit (0.24.1-r0)\n(4/25) Installing libtasn1 (4.18.0-r1)\n(5/25) Installing p11-kit-trust (0.24.1-r0)\n(6/25) Installing ca-certificates (20220614-r0)\n(7/25) Installing java-cacerts (1.0-r1)\n(8/25) Installing openjdk11-jre-headless (11.0.17_p8-r1)\n(9/25) Installing libxau (1.0.9-r0)\n(10/25) Installing libxdmcp (1.1.3-r0)\n(11/25) Installing libxcb (1.15-r0)\n(12/25) Installing libx11 (1.8-r0)\n(13/25) Installing libxext (1.3.4-r0)\n(14/25) Installing libxi (1.8-r0)\n(15/25) Installing libxrender (0.9.10-r3)\n(16/25) Installing libxtst (1.2.3-r3)\n(17/25) Installing alsa-lib (1.2.7.2-r0)\n(18/25) Installing brotli-libs (1.0.9-r6)\n(19/25) Installing libbz2 (1.0.8-r1)\n(20/25) Installing libpng (1.6.37-r1)\n(21/25) Installing freetype (2.12.1-r0)\n(22/25) Installing giflib (5.2.1-r0)\n(23/25) Installing libjpeg-turbo (2.1.3-r1)\n(24/25) Installing lcms2 (2.13.1-r0)\n(25/25) Installing openjdk11-jre (11.0.17_p8-r1)\nExecuting busybox-1.35.0-r17.trigger\nExecuting java-common-0.5-r0.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 174 MiB in 39 packages\nRemoving intermediate container 16ebf9e12f49\n ---> f46cd385c4b4\nStep 10/13 : ENV KAYENTA_OPTS=-Dspring.config.location=file:/opt/kayenta/config/kayenta.yml\n ---> Running in f4efaad48dc1\nRemoving intermediate container f4efaad48dc1\n ---> e33a6125b5fa\nStep 11/13 : RUN mkdir -p /opt/spinnaker/plugins\n ---> Running in bb555ffe20e5\nRemoving intermediate container bb555ffe20e5\n ---> 8ec0c0acfcf2\nStep 12/13 : COPY --from=builder /opt/kayenta /opt/kayenta\n ---> 290188c9d28c\nStep 13/13 : CMD [\"/opt/kayenta/bin/kayenta\"]\n ---> Running in 9f67c16c6df6\nRemoving intermediate container 9f67c16c6df6\n ---> 66bb7a766f3a\nSuccessfully built 66bb7a766f3a\nSuccessfully tagged kayenta:latest\n","stderr":"","imageSize":325744063},"endTime":1672732331516}