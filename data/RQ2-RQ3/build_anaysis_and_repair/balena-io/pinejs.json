{"repository":"https://github.com/balena-io/pinejs","dockerfilePath":"Dockerfile","startTime":1672299212367,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/balena-io/pinejs'...\n","error":null,"commit":"96b7d4c890b09f97401563b3f67c1d2d992d2f77"},"originalBuild":{"startTimestamp":1672299213414,"endTimestamp":1672299342863,"error":null,"stdout":"Sending build context to Docker daemon  1.928MB\r\r\nStep 1/7 : FROM node:16-alpine as runner\n ---> 610c0494e820\nStep 2/7 : WORKDIR /usr/src/pine\n ---> Running in a59d07232105\nRemoving intermediate container a59d07232105\n ---> b135e16323d8\nStep 3/7 : COPY . ./\n ---> 785433d08389\nStep 4/7 : RUN npm install\n ---> Running in a411624d0f96\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated require-npm4-to-publish@1.0.0: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated @types/terser-webpack-plugin@5.2.0: This is a stub types definition. terser-webpack-plugin provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated grunt-check-dependencies@1.0.0: `grunt-check-dependencies` is no longer maintained. Consider switching to a pure-JS `check-dependencies` package.\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.3: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\n> @balena/pinejs@14.54.4 prepublish\n> require-npm4-to-publish\n\n\n> @balena/pinejs@14.54.4 prepare\n> node -e \"try { require('husky').install() } catch (e) {if (e.code !== 'MODULE_NOT_FOUND') throw e}\" && npm run build\n\n\n> @balena/pinejs@14.54.4 build\n> grunt build\n\nRunning \"clean:default\" (clean) task\n>> 0 paths cleaned.\n\nRunning \"checkDependencies:this\" (checkDependencies) task\n\nRunning \"ts:default\" (ts) task\nCompiling...\nUsing tsc v4.9.4\n\n\n\nTypeScript compilation complete: 5.10s for TypeScript pass-through.\n\nRunning \"copy:default\" (copy) task\nCreated 13 directories, copied 9 files\n\nDone.\n\nadded 1015 packages, and audited 1016 packages in 1m\n\n86 packages are looking for funding\n  run `npm fund` for details\n\n10 vulnerabilities (6 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container a411624d0f96\n ---> f8b41ba5d4b5\nStep 5/7 : FROM runner as sut\n ---> f8b41ba5d4b5\nStep 6/7 : CMD npm run mocha\n ---> Running in 333366bf81d1\nRemoving intermediate container 333366bf81d1\n ---> 09a2ab6b65b4\nStep 7/7 : FROM runner\n ---> f8b41ba5d4b5\nSuccessfully built f8b41ba5d4b5\nSuccessfully tagged pinejs:latest\n","stderr":"","imageSize":370112720},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:16-alpine as runner\n\nWORKDIR /usr/src/pine\n\nCOPY . ./\nRUN npm install\n\n\nFROM runner as sut\nCMD npm run mocha\n\nFROM runner\n\n\n"},"repairedBuild":{"startTimestamp":1672299343099,"endTimestamp":1672299415307,"error":null,"stdout":"Sending build context to Docker daemon  1.928MB\r\r\nStep 1/7 : FROM node:16-alpine as runner\n ---> 610c0494e820\nStep 2/7 : WORKDIR /usr/src/pine\n ---> Running in 42583e8acac6\nRemoving intermediate container 42583e8acac6\n ---> 50eb133ab62e\nStep 3/7 : COPY . ./\n ---> 282994337e6b\nStep 4/7 : RUN npm install\n ---> Running in 5fbb81f7db4d\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated require-npm4-to-publish@1.0.0: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated grunt-check-dependencies@1.0.0: `grunt-check-dependencies` is no longer maintained. Consider switching to a pure-JS `check-dependencies` package.\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/terser-webpack-plugin@5.2.0: This is a stub types definition. terser-webpack-plugin provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.3: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\n> @balena/pinejs@14.54.4 prepublish\n> require-npm4-to-publish\n\n\n> @balena/pinejs@14.54.4 prepare\n> node -e \"try { require('husky').install() } catch (e) {if (e.code !== 'MODULE_NOT_FOUND') throw e}\" && npm run build\n\n\n> @balena/pinejs@14.54.4 build\n> grunt build\n\nRunning \"clean:default\" (clean) task\n>> 0 paths cleaned.\n\nRunning \"checkDependencies:this\" (checkDependencies) task\n\nRunning \"ts:default\" (ts) task\nCompiling...\nUsing tsc v4.9.4\n\n\n\nTypeScript compilation complete: 5.09s for TypeScript pass-through.\n\nRunning \"copy:default\" (copy) task\nCreated 13 directories, copied 9 files\n\nDone.\n\nadded 1015 packages, and audited 1016 packages in 43s\n\n86 packages are looking for funding\n  run `npm fund` for details\n\n10 vulnerabilities (6 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container 5fbb81f7db4d\n ---> 15dc2a8631c0\nStep 5/7 : FROM runner as sut\n ---> 15dc2a8631c0\nStep 6/7 : CMD npm run mocha\n ---> Running in c0c413ca21cb\nRemoving intermediate container c0c413ca21cb\n ---> 0d21fc149c63\nStep 7/7 : FROM runner\n ---> 15dc2a8631c0\nSuccessfully built 15dc2a8631c0\nSuccessfully tagged pinejs:latest\n","stderr":"","imageSize":370112540},"endTime":1672299415532}