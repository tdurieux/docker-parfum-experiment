{"repository":"https://github.com/mistio/mist-ce","dockerfilePath":"Dockerfile","startTime":1672536259726,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mistio/mist-ce'...\n","error":null,"commit":"de19e46e3f2027f17e20012df705bd43eac49ece"},"originalBuild":{"startTimestamp":1672536260760,"endTimestamp":1672536328236,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t mist-ce:latest -f /tmp/dinghy-analysis/mistio/mist-ce/Dockerfile ."},"stdout":"Sending build context to Docker daemon  664.1kB\r\r\nStep 1/12 : ARG FROM_IMAGE=mist/api:staging\nStep 2/12 : FROM $FROM_IMAGE\nstaging: Pulling from mist/api\n025c56f98b67: Pulling fs layer\n778656c04542: Pulling fs layer\n3275e9074723: Pulling fs layer\n9c14766361e2: Pulling fs layer\n5882f66f020b: Pulling fs layer\n1645f4c47fb9: Pulling fs layer\n7c3399aa819c: Pulling fs layer\n22bec2cde486: Pulling fs layer\n88ffa93abe56: Pulling fs layer\nea2d867e0f4a: Pulling fs layer\n442df64556e9: Pulling fs layer\n41312ceb4f65: Pulling fs layer\n764da55c8326: Pulling fs layer\n9c14766361e2: Waiting\n7e494189c33f: Pulling fs layer\n003a9246541c: Pulling fs layer\n5882f66f020b: Waiting\n8cc990dbf641: Pulling fs layer\nf177e53de2b0: Pulling fs layer\n1645f4c47fb9: Waiting\nd5703960ef1a: Pulling fs layer\n7c3399aa819c: Waiting\n6a108a7e4e2d: Pulling fs layer\na51b417a7c67: Pulling fs layer\n88ffa93abe56: Waiting\n22bec2cde486: Waiting\nea2d867e0f4a: Waiting\n41312ceb4f65: Waiting\n442df64556e9: Waiting\nf177e53de2b0: Waiting\n764da55c8326: Waiting\n003a9246541c: Waiting\n8cc990dbf641: Waiting\nd5703960ef1a: Waiting\n7e494189c33f: Waiting\n778656c04542: Verifying Checksum\n778656c04542: Download complete\n3275e9074723: Verifying Checksum\n3275e9074723: Download complete\n025c56f98b67: Verifying Checksum\n025c56f98b67: Download complete\n9c14766361e2: Verifying Checksum\n9c14766361e2: Download complete\n5882f66f020b: Verifying Checksum\n5882f66f020b: Download complete\n22bec2cde486: Verifying Checksum\n22bec2cde486: Download complete\n88ffa93abe56: Verifying Checksum\n88ffa93abe56: Download complete\n025c56f98b67: Pull complete\n778656c04542: Pull complete\nea2d867e0f4a: Download complete\n3275e9074723: Pull complete\n9c14766361e2: Pull complete\n442df64556e9: Verifying Checksum\n442df64556e9: Download complete\n5882f66f020b: Pull complete\n41312ceb4f65: Verifying Checksum\n41312ceb4f65: Download complete\n7c3399aa819c: Verifying Checksum\n7c3399aa819c: Download complete\n764da55c8326: Verifying Checksum\n764da55c8326: Download complete\n003a9246541c: Download complete\n1645f4c47fb9: Verifying Checksum\n1645f4c47fb9: Download complete\n7e494189c33f: Verifying Checksum\n7e494189c33f: Download complete\nf177e53de2b0: Verifying Checksum\nf177e53de2b0: Download complete\n6a108a7e4e2d: Download complete\na51b417a7c67: Download complete\nd5703960ef1a: Verifying Checksum\nd5703960ef1a: Download complete\n8cc990dbf641: Verifying Checksum\n8cc990dbf641: Download complete\n1645f4c47fb9: Pull complete\n7c3399aa819c: Pull complete\n22bec2cde486: Pull complete\n88ffa93abe56: Pull complete\nea2d867e0f4a: Pull complete\n442df64556e9: Pull complete\n41312ceb4f65: Pull complete\n764da55c8326: Pull complete\n7e494189c33f: Pull complete\n003a9246541c: Pull complete\n8cc990dbf641: Pull complete\nf177e53de2b0: Pull complete\nd5703960ef1a: Pull complete\n6a108a7e4e2d: Pull complete\na51b417a7c67: Pull complete\nDigest: sha256:641ff5eca744c0beae8f2a8ea74e825a19fc9e0eda79b8e217d64c14ff6dead1\nStatus: Downloaded newer image for mist/api:staging\n ---> e1720cd8f048\nStep 3/12 : COPY ./orchestration/ /opt/orchestration/\n ---> 0e1ead9ed510\nStep 4/12 : RUN for plugin in orchestration; do pip install -e /opt/$plugin; pip install -r /opt/$plugin/requirements.txt 2>/dev/null || echo ok; done\n ---> Running in 6ceabfb6bb5e\nObtaining file:///opt/orchestration\n\u001b[91mERROR: file:///opt/orchestration does not appear to be a Python project: neither 'setup.py' nor 'pyproject.toml' found.\n\u001b[0mok\nRemoving intermediate container 6ceabfb6bb5e\n ---> 610be1fa0918\nStep 5/12 : ENV DEFAULTS_FILE=/etc/mist/defaults.py     SETTINGS_FILE=/etc/mist/settings/settings.py\n ---> Running in e9e8efdcd632\nRemoving intermediate container e9e8efdcd632\n ---> 4e7e8434afeb\nStep 6/12 : COPY ./defaults.py $DEFAULTS_FILE\n ---> 09df0e0d9424\nStep 7/12 : RUN mkdir -p $(dirname $SETTINGS_FILE)\n ---> Running in 82d5dbeac7c6\nRemoving intermediate container 82d5dbeac7c6\n ---> a4f302882033\nStep 8/12 : ARG MIST_VERSION_SHA\n ---> Running in 56749b080d29\nRemoving intermediate container 56749b080d29\n ---> 798d50a43efd\nStep 9/12 : ARG MIST_VERSION_NAME\n ---> Running in 546179eccdb8\nRemoving intermediate container 546179eccdb8\n ---> 7a4760dec363\nStep 10/12 : ENV VERSION_REPO=mistio/mist.io     VERSION_SHA=$MIST_VERSION_SHA     VERSION_NAME=$MIST_VERSION_NAME\n ---> Running in 4d5dc0a3034d\nRemoving intermediate container 4d5dc0a3034d\n ---> a2cc1e71b934\nStep 11/12 : RUN echo \"{\\\"sha\\\":\\\"$VERSION_SHA\\\",\\\"name\\\":\\\"$VERSION_NAME\\\",\\\"repo\\\":\\\"$VERSION_REPO\\\",\\\"modified\\\":false}\"         > /mist-version.json\n ---> Running in e87e5f2a3394\nRemoving intermediate container e87e5f2a3394\n ---> 71beb5d454fc\nStep 12/12 : RUN python /mist.api/openapi/generate_api_spec.py\n ---> Running in 181d2d6ab62b\n\u001b[91m/mist.api/paramiko/paramiko/transport.py:237: CryptographyDeprecationWarning: Blowfish has been deprecated\n  \"class\": algorithms.Blowfish,\n\u001b[0m\u001b[91mMIST_API_DIR is /mist.api\n\u001b[0m\u001b[91mReading settings from /etc/mist/defaults.py\n\u001b[0m\u001b[91mCouldn't find settings file in /etc/mist/settings/settings.py\n\u001b[0m\u001b[91mFailed to import config of `orchestration` plugin: ModuleNotFoundError(\"No module named 'mist.orchestration'\")\n\u001b[0m\u001b[91mCouldn't find settings file in /etc/mist/settings/settings.py\n\u001b[0m\u001b[91m2023-01-01 01:25:24 INFO MainThread __init__ - mongo_connect: Attempting to connect to mist2 at mongodb:27017...\n\u001b[0m\u001b[91m2023-01-01 01:25:24 INFO MainThread __init__ - mongo_connect: Connected...\n\u001b[0m\u001b[91m2023-01-01 01:25:26 INFO MainThread __init__ - main: Loading plugin mist.orchestration\n\u001b[0m\u001b[91mTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/pyramid/path.py\", line 380, in _zope_dottedname_style\n\u001b[0m\u001b[91m    found = getattr(found, n)\n\u001b[0m\u001b[91m            ^^^^^^^^^^^^^^^^^\nAttributeError: module 'mist' has no attribute 'orchestration'\n\u001b[0m\u001b[91m\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/mist.api/openapi/generate_api_spec.py\", line 192, in <module>\n\u001b[0m\u001b[91m    main()\n  File \"/mist.api/openapi/generate_api_spec.py\", line 152, in main\n\u001b[0m\u001b[91m    app = mist.api.main({}).app.app\n          ^^^^^^^^^^^^^^^^^\n  File \"/mist.api/src/mist/api/__init__.py\", line 124, in main\n\u001b[0m\u001b[91m    configurator.include('mist.%s.add_routes' % plugin)\n  File \"/usr/local/lib/python3.11/site-packages/pyramid/config/__init__.py\", line 769, in include\n\u001b[0m\u001b[91m    c = self.maybe_dotted(callable)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pyramid/config/__init__.py\", line 869, in maybe_dotted\n\u001b[0m\u001b[91m    return self.name_resolver.maybe_resolve(dotted)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pyramid/path.py\", line 320, in maybe_resolve\n\u001b[0m\u001b[91m    return self._resolve(dotted, package)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pyramid/path.py\", line 327, in _resolve\n\u001b[0m\u001b[91m    return self._zope_dottedname_style(dotted, package)\n\u001b[0m\u001b[91m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/pyramid/path.py\", line 382, in _zope_dottedname_style\n\u001b[0m\u001b[91m    __import__(used)\nModuleNotFoundError: No module named 'mist.orchestration'\n\u001b[0mRemoving intermediate container 181d2d6ab62b\n","stderr":"The command '/bin/sh -c python /mist.api/openapi/generate_api_spec.py' returned a non-zero code: 1\n"},"endTime":1672536328305}