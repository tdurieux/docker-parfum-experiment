{"repository":"https://github.com/automattic/abacus","dockerfilePath":"Dockerfile","startTime":1672992314665,"endTime":1672993894574,"clone":{"startTime":1672992314666,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/automattic/abacus'...\n","error":null,"endTime":1672992316110,"commit":"4e4259412fa01ec46d904e722992f04ac907b143"},"originalBuild":{"startTime":1672992316202,"endTime":1672993108242,"error":null,"stdout":"Sending build context to Docker daemon  7.752MB\r\r\nStep 1/7 : FROM node:14.16.1\n14.16.1: Pulling from library/node\nbfde2ec33fbc: Pulling fs layer\n787f5e2f1047: Pulling fs layer\n7b6173a10eb8: Pulling fs layer\ndc05be471d51: Pulling fs layer\n55fab5cadd3c: Pulling fs layer\nbd821d20ef8c: Pulling fs layer\n3930832b2f70: Pulling fs layer\n44974361dbf5: Pulling fs layer\nf1cdab027420: Pulling fs layer\nf1cdab027420: Waiting\ndc05be471d51: Waiting\n3930832b2f70: Waiting\n44974361dbf5: Waiting\n55fab5cadd3c: Waiting\nbd821d20ef8c: Waiting\n7b6173a10eb8: Verifying Checksum\n7b6173a10eb8: Download complete\n787f5e2f1047: Verifying Checksum\n787f5e2f1047: Download complete\nbfde2ec33fbc: Verifying Checksum\nbfde2ec33fbc: Download complete\nbd821d20ef8c: Verifying Checksum\nbd821d20ef8c: Download complete\ndc05be471d51: Verifying Checksum\ndc05be471d51: Download complete\n44974361dbf5: Verifying Checksum\n44974361dbf5: Download complete\n3930832b2f70: Verifying Checksum\n3930832b2f70: Download complete\nf1cdab027420: Download complete\nbfde2ec33fbc: Pull complete\n55fab5cadd3c: Verifying Checksum\n55fab5cadd3c: Download complete\n787f5e2f1047: Pull complete\n7b6173a10eb8: Pull complete\ndc05be471d51: Pull complete\n55fab5cadd3c: Pull complete\nbd821d20ef8c: Pull complete\n3930832b2f70: Pull complete\n44974361dbf5: Pull complete\nf1cdab027420: Pull complete\nDigest: sha256:e77e35d3b873500c10ce8969fe2ce5e0901516f77c8365d029c4b42b22ee4bac\nStatus: Downloaded newer image for node:14.16.1\n ---> 6a353e22ce01\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 74c9bdbc3b8e\nRemoving intermediate container 74c9bdbc3b8e\n ---> 1b478b6ba838\nStep 3/7 : COPY package*.json ./\n ---> c00d8210a83f\nStep 4/7 : RUN npm install\n ---> Running in ead740dc8ecf\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> puppeteer@12.0.1 install /usr/src/app/node_modules/puppeteer\n> node install.js\n\n\u001b[91m\n\u001b[0mChromium (938248) downloaded to /usr/src/app/node_modules/puppeteer/.local-chromium/linux-938248\n\n> husky@4.3.8 install /usr/src/app/node_modules/husky\n> node husky install\n\nhusky > Setting up git hooks\nHusky requires Git >=2.13.0. Got v2.11.0.\nhusky > Failed to install\n\n> core-js@2.6.11 postinstall /usr/src/app/node_modules/@babel/runtime-corejs2/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@2.6.11 postinstall /usr/src/app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.22.7 postinstall /usr/src/app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.22.7 postinstall /usr/src/app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ejs@2.7.4 postinstall /usr/src/app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\n> full-icu@1.3.1 postinstall /usr/src/app/node_modules/full-icu\n> node postinstall.js\n\nNote: Your node was not compiled with the ‘small-icu’ case, so the ICU data is not customizable through this script. Exitting.\n\n> husky@4.3.8 postinstall /usr/src/app/node_modules/husky\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using husky!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/husky/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.2.1 (node_modules/react-scripts/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.2.1: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/@storybook/core-common/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 3588 packages from 1199 contributors and audited 3612 packages in 80.451s\n\n312 packages are looking for funding\n  run `npm fund` for details\n\nfound 275 vulnerabilities (2 low, 9 moderate, 239 high, 25 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container ead740dc8ecf\n ---> 95ca9f64c6cf\nStep 5/7 : COPY . .\n ---> 87c13f3656b5\nStep 6/7 : RUN npm run build\n ---> Running in 94ea624da315\n\n> abacus@0.0.1 build /usr/src/app\n> react-scripts --max_old_space_size=4096 build\n\nCreating an optimized production build...\nCompiled successfully.\n\nFile sizes after gzip:\n\n  1.52 MB    build/static/js/2.6c32d6b7.chunk.js\n  100.57 KB  build/static/js/main.3d71349f.chunk.js\n  20.33 KB   build/static/css/2.80683b83.chunk.css\n  769 B      build/static/js/runtime-main.9e2a812d.js\n\nThe bundle size is significantly larger than recommended.\nConsider reducing it with code splitting: https://goo.gl/9VhYWB\nYou can also analyze the project dependencies: https://goo.gl/LeUzfb\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 94ea624da315\n ---> ebfb74e0a293\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in efcf499c8416\nRemoving intermediate container efcf499c8416\n ---> edb8d242f4fc\nSuccessfully built edb8d242f4fc\nSuccessfully tagged abacus:latest\n","stderr":"","imageSize":2217867917},"repair":{"startTime":1672993108301,"endTime":1672993108343,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# Use long term support version of Node.js\nFROM node:14.16.1\n\n# Set working directory\nWORKDIR /usr/src/app\n\n# Install dependencies\nCOPY package*.json ./\nRUN npm install && npm cache clean --force;\n\n# Copying source\nCOPY . .\n\n# Build production assets\nRUN npm run build\n\n# Run production server\nCMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTime":1672993116329,"endTime":1672993885752,"error":null,"stdout":"Sending build context to Docker daemon  7.752MB\r\r\nStep 1/7 : FROM node:14.16.1\n ---> 6a353e22ce01\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in b25100e1f58d\nRemoving intermediate container b25100e1f58d\n ---> 9c2f9990904f\nStep 3/7 : COPY package*.json ./\n ---> 00d2cbd3d0b2\nStep 4/7 : RUN npm install && npm cache clean --force;\n ---> Running in ab728d6e612e\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> puppeteer@12.0.1 install /usr/src/app/node_modules/puppeteer\n> node install.js\n\n\u001b[91m\n\u001b[0mChromium (938248) downloaded to /usr/src/app/node_modules/puppeteer/.local-chromium/linux-938248\n\n> husky@4.3.8 install /usr/src/app/node_modules/husky\n> node husky install\n\nhusky > Setting up git hooks\nHusky requires Git >=2.13.0. Got v2.11.0.\nhusky > Failed to install\n\n> core-js@2.6.11 postinstall /usr/src/app/node_modules/@babel/runtime-corejs2/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@2.6.11 postinstall /usr/src/app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.22.7 postinstall /usr/src/app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.22.7 postinstall /usr/src/app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ejs@2.7.4 postinstall /usr/src/app/node_modules/ejs\n> node ./postinstall.js\n\nThank you for installing \u001b[35mEJS\u001b[0m: built with the \u001b[32mJake\u001b[0m JavaScript build tool (\u001b[32mhttps://jakejs.com/\u001b[0m)\n\n\n> full-icu@1.3.1 postinstall /usr/src/app/node_modules/full-icu\n> node postinstall.js\n\nNote: Your node was not compiled with the ‘small-icu’ case, so the ICU data is not customizable through this script. Exitting.\n\n> husky@4.3.8 postinstall /usr/src/app/node_modules/husky\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using husky!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/husky/donate\u001b[0m\n\n\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@2.2.1 (node_modules/react-scripts/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.2.1: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/@storybook/core-common/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 3588 packages from 1199 contributors and audited 3612 packages in 83.791s\n\n312 packages are looking for funding\n  run `npm fund` for details\n\nfound 275 vulnerabilities (2 low, 9 moderate, 239 high, 25 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container ab728d6e612e\n ---> 98ef2d23ff57\nStep 5/7 : COPY . .\n ---> 2b1af86be74f\nStep 6/7 : RUN npm run build\n ---> Running in 1c8cdf5ea4b9\n\n> abacus@0.0.1 build /usr/src/app\n> react-scripts --max_old_space_size=4096 build\n\nCreating an optimized production build...\nCompiled successfully.\n\nFile sizes after gzip:\n\n  1.52 MB    build/static/js/2.6c32d6b7.chunk.js\n  100.57 KB  build/static/js/main.3d71349f.chunk.js\n  20.33 KB   build/static/css/2.80683b83.chunk.css\n  769 B      build/static/js/runtime-main.9e2a812d.js\n\nThe bundle size is significantly larger than recommended.\nConsider reducing it with code splitting: https://goo.gl/9VhYWB\nYou can also analyze the project dependencies: https://goo.gl/LeUzfb\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 1c8cdf5ea4b9\n ---> 6886b7f05902\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in 2185a217be54\nRemoving intermediate container 2185a217be54\n ---> 271403bec015\nSuccessfully built 271403bec015\nSuccessfully tagged abacus:latest\n","stderr":"","imageSize":2098241037}}