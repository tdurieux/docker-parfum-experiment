{"repository":"https://github.com/andremor8/gidget","dockerfilePath":"Dockerfile","startTime":1672395248057,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/andremor8/gidget'...\n","error":null,"commit":"a4fd464299a81a178ebaeb2d13b41bfcb309c493"},"originalBuild":{"startTimestamp":1672395249519,"endTimestamp":1672395376417,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t gidget:latest -f /tmp/dinghy-analysis/andremor8/gidget/Dockerfile ."},"stdout":"Sending build context to Docker daemon   7.95MB\r\r\nStep 1/14 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/14 : WORKDIR /home/gidget\n ---> Running in 4971c985ca68\nRemoving intermediate container 4971c985ca68\n ---> 388fca4835d9\nStep 3/14 : ENV NODE_ENV=\"production\"\n ---> Running in f6c829318c38\nRemoving intermediate container f6c829318c38\n ---> 7ba260e5d494\nStep 4/14 : RUN apk add --no-cache curl bash git libqrencode build-base g++ autoconf automake libtool libpng libpng-dev jpeg-dev pango-dev cairo-dev giflib-dev gifsicle\n ---> Running in a7c8c721d2f4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/138) Installing m4 (1.4.19-r1)\n(2/138) Installing libbz2 (1.0.8-r4)\n(3/138) Installing perl (5.36.0-r0)\n(4/138) Installing autoconf (2.71-r1)\n(5/138) Installing automake (1.16.5-r1)\n(6/138) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(7/138) Installing ncurses-libs (6.3_p20221119-r0)\n(8/138) Installing readline (8.2.0-r0)\n(9/138) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(10/138) Installing binutils (2.39-r2)\n(11/138) Installing libmagic (5.43-r0)\n(12/138) Installing file (5.43-r0)\n(13/138) Installing libgomp (12.2.1_git20220924-r4)\n(14/138) Installing libatomic (12.2.1_git20220924-r4)\n(15/138) Installing gmp (6.2.1-r2)\n(16/138) Installing isl25 (0.25-r0)\n(17/138) Installing mpfr4 (4.1.0-r0)\n(18/138) Installing mpc1 (1.2.1-r1)\n(19/138) Installing gcc (12.2.1_git20220924-r4)\n(20/138) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(21/138) Installing musl-dev (1.2.3-r4)\n(22/138) Installing libc-dev (0.7.2-r3)\n(23/138) Installing g++ (12.2.1_git20220924-r4)\n(24/138) Installing make (4.3-r1)\n(25/138) Installing fortify-headers (1.1-r1)\n(26/138) Installing patch (2.7.6-r8)\n(27/138) Installing build-base (0.5-r3)\n(28/138) Installing cairo-tools (1.17.6-r3)\n(29/138) Installing libexpat (2.5.0-r0)\n(30/138) Installing brotli-libs (1.0.9-r9)\n(31/138) Installing libpng (1.6.38-r0)\n(32/138) Installing freetype (2.12.1-r0)\n(33/138) Installing fontconfig (2.14.1-r0)\n(34/138) Installing expat (2.5.0-r0)\n(35/138) Installing pkgconf (1.9.3-r0)\n(36/138) Installing expat-dev (2.5.0-r0)\n(37/138) Installing bzip2-dev (1.0.8-r4)\n(38/138) Installing brotli (1.0.9-r9)\n(39/138) Installing brotli-dev (1.0.9-r9)\n(40/138) Installing zlib-dev (1.2.13-r0)\n(41/138) Installing libpng-dev (1.6.38-r0)\n(42/138) Installing freetype-dev (2.12.1-r0)\n(43/138) Installing fontconfig-dev (2.14.1-r0)\n(44/138) Installing libxau (1.0.10-r0)\n(45/138) Installing xorgproto (2022.2-r0)\n(46/138) Installing libxau-dev (1.0.10-r0)\n(47/138) Installing libmd (1.0.4-r0)\n(48/138) Installing libbsd (0.11.7-r0)\n(49/138) Installing libxdmcp (1.1.4-r0)\n(50/138) Installing libxcb (1.15-r0)\n(51/138) Installing libx11 (1.8.3-r0)\n(52/138) Installing libxext (1.3.5-r0)\n(53/138) Installing xcb-proto (1.15.2-r0)\n(54/138) Installing libxdmcp-dev (1.1.4-r0)\n(55/138) Installing libxcb-dev (1.15-r0)\n(56/138) Installing xtrans (1.4.0-r2)\n(57/138) Installing libx11-dev (1.8.3-r0)\n(58/138) Installing libxext-dev (1.3.5-r0)\n(59/138) Installing libxrender (0.9.11-r0)\n(60/138) Installing libxrender-dev (0.9.11-r0)\n(61/138) Installing pixman (0.42.2-r0)\n(62/138) Installing pixman-dev (0.42.2-r0)\n(63/138) Installing util-macros (1.19.3-r0)\n(64/138) Installing xcb-util (0.4.0-r3)\n(65/138) Installing xcb-util-dev (0.4.0-r3)\n(66/138) Installing cairo (1.17.6-r3)\n(67/138) Installing libffi (3.4.4-r0)\n(68/138) Installing libintl (0.21.1-r1)\n(69/138) Installing libblkid (2.38.1-r0)\n(70/138) Installing libmount (2.38.1-r0)\n(71/138) Installing pcre2 (10.42-r0)\n(72/138) Installing glib (2.74.4-r0)\n(73/138) Installing cairo-gobject (1.17.6-r3)\n(74/138) Installing xz-libs (5.2.9-r0)\n(75/138) Installing libxml2 (2.10.3-r1)\n(76/138) Installing libxml2-utils (2.10.3-r1)\n(77/138) Installing docbook-xml (4.5-r8)\nExecuting docbook-xml-4.5-r8.post-install\n(78/138) Installing libgpg-error (1.46-r1)\n(79/138) Installing libgcrypt (1.10.1-r0)\n(80/138) Installing libxslt (1.1.37-r0)\n(81/138) Installing docbook-xsl (1.79.2-r8)\nExecuting docbook-xsl-1.79.2-r8.post-install\n(82/138) Installing gettext-asprintf (0.21.1-r1)\n(83/138) Installing libunistring (1.1-r0)\n(84/138) Installing gettext-libs (0.21.1-r1)\n(85/138) Installing gettext (0.21.1-r1)\n(86/138) Installing gettext-dev (0.21.1-r1)\n(87/138) Installing gdbm (1.23-r0)\n(88/138) Installing mpdecimal (2.5.1-r1)\n(89/138) Installing sqlite-libs (3.40.1-r0)\n(90/138) Installing python3 (3.10.9-r1)\n(91/138) Installing linux-headers (5.19.5-r0)\n(92/138) Installing libffi-dev (3.4.4-r0)\n(93/138) Installing bsd-compat-headers (0.7.2-r3)\n(94/138) Installing ncurses-dev (6.3_p20221119-r0)\n(95/138) Installing libedit (20221030.3.1-r0)\n(96/138) Installing libedit-dev (20221030.3.1-r0)\n(97/138) Installing libpcre2-16 (10.42-r0)\n(98/138) Installing libpcre2-32 (10.42-r0)\n(99/138) Installing pcre2-dev (10.42-r0)\n(100/138) Installing libuuid (2.38.1-r0)\n(101/138) Installing libfdisk (2.38.1-r0)\n(102/138) Installing libsmartcols (2.38.1-r0)\n(103/138) Installing util-linux-dev (2.38.1-r0)\n(104/138) Installing glib-dev (2.74.4-r0)\n(105/138) Installing cairo-dev (1.17.6-r3)\n(106/138) Installing ca-certificates (20220614-r3)\n(107/138) Installing nghttp2-libs (1.51.0-r0)\n(108/138) Installing libcurl (7.87.0-r0)\n(109/138) Installing curl (7.87.0-r0)\n(110/138) Installing giflib (5.2.1-r2)\n(111/138) Installing giflib-dev (5.2.1-r2)\n(112/138) Installing gifsicle (1.93-r1)\n(113/138) Installing git (2.38.2-r0)\n(114/138) Installing perl-error (0.17029-r1)\n(115/138) Installing perl-git (2.38.2-r0)\n(116/138) Installing git-perl (2.38.2-r0)\n(117/138) Installing libjpeg-turbo (2.1.4-r0)\n(118/138) Installing libjpeg-turbo-dev (2.1.4-r0)\n(119/138) Installing jpeg-dev (9e-r0)\n(120/138) Installing libqrencode (4.1.1-r1)\n(121/138) Installing libltdl (2.4.7-r0)\n(122/138) Installing libtool (2.4.7-r0)\n(123/138) Installing libxft (2.3.7-r0)\n(124/138) Installing graphite2 (1.3.14-r2)\n(125/138) Installing harfbuzz (5.3.1-r1)\n(126/138) Installing fribidi (1.0.12-r0)\n(127/138) Installing pango (1.50.12-r0)\n(128/138) Installing pango-tools (1.50.12-r0)\n(129/138) Installing fribidi-dev (1.0.12-r0)\n(130/138) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(131/138) Installing icu-libs (72.1-r1)\n(132/138) Installing harfbuzz-icu (5.3.1-r1)\n(133/138) Installing graphite2-dev (1.3.14-r2)\n(134/138) Installing icu (72.1-r1)\n(135/138) Installing icu-dev (72.1-r1)\n(136/138) Installing harfbuzz-dev (5.3.1-r1)\n(137/138) Installing libxft-dev (2.3.7-r0)\n(138/138) Installing pango-dev (1.50.12-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting glib-2.74.4-r0.trigger\nNo schema files found: doing nothing.\nExecuting ca-certificates-20220614-r3.trigger\nOK: 437 MiB in 155 packages\nRemoving intermediate container a7c8c721d2f4\n ---> fb6f227aa2a3\nStep 5/14 : RUN npm install -g node-prune\n ---> Running in ec25865fbc53\n\nadded 1 package, and audited 2 packages in 2s\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm notice New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container ec25865fbc53\n ---> 5437ebe9b411\nStep 6/14 : COPY package.json .\n ---> a887ed802bff\nStep 7/14 : RUN npm i\n ---> Running in e330ddeae6c2\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 517 packages, and audited 518 packages in 1m\n\n64 packages are looking for funding\n  run `npm fund` for details\n\n4 moderate severity vulnerabilities\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container e330ddeae6c2\n ---> fb559fc575ea\nStep 8/14 : RUN node-prune\n ---> Running in 6bb57f3f2bad\nBefore: 220.4M .\nFiles: 15352\nAfter: 206.1M .\nFiles: 13437\nRemoving intermediate container 6bb57f3f2bad\n ---> 6831f1a1512e\nStep 9/14 : RUN apk del git build-base autoconf automake libtool make gcc g++ curl bash     && rm -rf /usr/include     && rm -rf /var/cache/apk/* /usr/share/man /tmp/*\n ---> Running in e239063caf17\n\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/32) Purging autoconf (2.71-r1)\n(2/32) Purging m4 (1.4.19-r1)\n(3/32) Purging automake (1.16.5-r1)\n(4/32) Purging bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.pre-deinstall\n(5/32) Purging build-base (0.5-r3)\n(6/32) Purging file (5.43-r0)\n(7/32) Purging g++ (12.2.1_git20220924-r4)\n(8/32) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(9/32) Purging gcc (12.2.1_git20220924-r4)\n(10/32) Purging binutils (2.39-r2)\n(11/32) Purging libatomic (12.2.1_git20220924-r4)\n(12/32) Purging make (4.3-r1)\n(13/32) Purging libc-dev (0.7.2-r3)\n(14/32) Purging musl-dev (1.2.3-r4)\n(15/32) Purging fortify-headers (1.1-r1)\n(16/32) Purging patch (2.7.6-r8)\n(17/32) Purging curl (7.87.0-r0)\n(18/32) Purging git-perl (2.38.2-r0)\n(19/32) Purging perl-git (2.38.2-r0)\n(20/32) Purging git (2.38.2-r0)\n(21/32) Purging perl-error (0.17029-r1)\n(22/32) Purging perl (5.36.0-r0)\n(23/32) Purging libtool (2.4.7-r0)\n(24/32) Purging libltdl (2.4.7-r0)\n(25/32) Purging libmagic (5.43-r0)\n(26/32) Purging isl25 (0.25-r0)\n(27/32) Purging mpc1 (1.2.1-r1)\n(28/32) Purging mpfr4 (4.1.0-r0)\n(29/32) Purging gmp (6.2.1-r2)\n(30/32) Purging libcurl (7.87.0-r0)\n(31/32) Purging ca-certificates (20220614-r3)\nExecuting ca-certificates-20220614-r3.post-deinstall\n(32/32) Purging nghttp2-libs (1.51.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 150 MiB in 123 packages\nRemoving intermediate container e239063caf17\n ---> 3fba9e6e373e\nStep 10/14 : COPY . .\n ---> ed7c1b09b791\nStep 11/14 : RUN npm test\n ---> Running in 950bf4e32266\n\n> gidget@3.0.0 test\n> node --experimental-json-modules ./src/bot.js ci\n\nCommand b2t loaded =D\nCommand b642t loaded =D\nCommand help loaded =D\n\u001b[91m(node:18) ExperimentalWarning: Importing JSON modules is an experimental feature. This feature could change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\n\u001b[0mCommand morse loaded =D\nCommand reverse loaded =D\nCommand t2b loaded =D\nCommand t2b64 loaded =D\nCommand thanks loaded =D\nCommand 8ball loaded =D\nCommand c4 loaded =D\nCommand c4stats loaded =D\nCommand c4top loaded =D\nCommand choose loaded =D\nCommand coinflip loaded =D\nCommand jumbo loaded =D\nCommand sayimage loaded =D\nCommand trump loaded =D\nCommand walden loaded =D\nCommand wubmeme loaded =D\nCommand baguette loaded =D\nCommand batslap loaded =D\nCommand blurpify loaded =D\nCommand petpet loaded =D\nCommand spin loaded =D\nCommand titlecard loaded =D\nCommand wubbfont loaded =D\nCommand wubphone loaded =D\nCommand disablexp loaded =D\nCommand enablexp loaded =D\nCommand leaderboard loaded =D\nCommand modifylevel loaded =D\nCommand rank loaded =D\nCommand removefromlevel loaded =D\nCommand setlevelroles loaded =D\nCommand togglelevel loaded =D\nCommand autopost loaded =D\nCommand ban loaded =D\nCommand kick loaded =D\nCommand mlremove loaded =D\nCommand pardon loaded =D\nCommand purge loaded =D\nCommand restrict loaded =D\nCommand slowmode loaded =D\nCommand temprestrict loaded =D\nCommand unban loaded =D\nCommand unrestrict loaded =D\nCommand warn loaded =D\nCommand warnconfig loaded =D\nCommand warnings loaded =D\nCommand admins loaded =D\nCommand kooky loaded =D\nCommand mods loaded =D\nCommand randomnum loaded =D\nCommand thebestmod loaded =D\nCommand thewubbclub loaded =D\nCommand widgetfix loaded =D\nCommand wpstaff loaded =D\nCommand wubby loaded =D\nCommand wubbzy-animated loaded =D\nCommand wubbzy loaded =D\nCommand wubbzypedia loaded =D\nCommand asynceval loaded =D\nCommand deploy loaded =D\nCommand eval loaded =D\nCommand exec loaded =D\nCommand addrr loaded =D\nCommand editrr loaded =D\nCommand selfrole loaded =D\nCommand toggleretrieving loaded =D\nCommand voicerole loaded =D\nCommand avatar loaded =D\nCommand banner loaded =D\nCommand calc loaded =D\nCommand deconstruct loaded =D\nCommand embed loaded =D\nCommand resolvedns loaded =D\nEvent channelDelete loaded =D\nEvent guildUpdate loaded =D\nEvent interactionCreate loaded =D\nEvent inviteCreate loaded =D\nEvent inviteDelete loaded =D\nEvent guildMemberAdd loaded =D\nEvent guildMemberRemove loaded =D\nEvent guildMemberUpdate loaded =D\nEvent messageCreate loaded =D\nEvent messageDelete loaded =D\nEvent messageUpdate loaded =D\nEvent error loaded =D\nEvent invalidated loaded =D\nEvent ready loaded =D\nEvent warn loaded =D\nEvent messageReactionAdd loaded =D\nEvent messageReactionRemove loaded =D\nEvent voiceStateUpdate loaded =D\nCommand help loaded =D\nCommand invite loaded =D\nCommand notes loaded =D\nCommand say loaded =D\nCommand stats loaded =D\nCommand confession loaded =D\nCommand confessionconfig loaded =D\nCommand minesweeper loaded =D\nCommand tictactoe loaded =D\nCommand emojify loaded =D\nCommand livecapture loaded =D\nCommand petpet loaded =D\nCommand webshot loaded =D\nCommand hackban loaded =D\nCommand warn loaded =D\nCommand wubbzy loaded =D\n\u001b[91mThere was an error initializing the record command\n Error: Cannot find module '@discordjs/node-pre-gyp'\nRequire stack:\n- /home/gidget/node_modules/@discordjs/opus/lib/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:995:15)\n    at Module._load (node:internal/modules/cjs/loader:841:27)\n    at Module.require (node:internal/modules/cjs/loader:1061:19)\n    at require (node:internal/modules/cjs/helpers:103:18)\n    at Object.<anonymous> (/home/gidget/node_modules/@discordjs/opus/lib/index.js:1:18)\n    at Module._compile (node:internal/modules/cjs/loader:1159:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1213:10)\n    at Module.load (node:internal/modules/cjs/loader:1037:32)\n    at Module._load (node:internal/modules/cjs/loader:878:12)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:169:29) {\n  code: 'MODULE_NOT_FOUND',\n  requireStack: [ '/home/gidget/node_modules/@discordjs/opus/lib/index.js' ]\n}\n\u001b[0m\u001b[91mnode:internal/process/promises:288\n            triggerUncaughtException(err, true /* fromPromise */);\n            ^\n\nError: Cannot find module '@discordjs/node-pre-gyp'\nRequire stack:\n- /home/gidget/node_modules/@discordjs/opus/lib/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:995:15)\n    at Module._load (node:internal/modules/cjs/loader:841:27)\n    at Module.require (node:internal/modules/cjs/loader:1061:19)\n    at require (node:internal/modules/cjs/helpers:103:18)\n    at Object.<anonymous> (/home/gidget/node_modules/@discordjs/opus/lib/index.js:1:18)\n    at Module._compile (node:internal/modules/cjs/loader:1159:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1213:10)\n    at Module.load (node:internal/modules/cjs/loader:1037:32)\n    at Module._load (node:internal/modules/cjs/loader:878:12)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:169:29) {\n  code: 'MODULE_NOT_FOUND',\n  requireStack: [ '/home/gidget/node_modules/@discordjs/opus/lib/index.js' ]\n}\n\nNode.js v18.12.1\n\u001b[0mRemoving intermediate container 950bf4e32266\n","stderr":"The command '/bin/sh -c npm test' returned a non-zero code: 1\n"},"endTime":1672395376497}