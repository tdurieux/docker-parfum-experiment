{"repository":"https://github.com/fleeg/fleeg-platform","dockerfilePath":"Dockerfile","startTime":1672106710674,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/fleeg/fleeg-platform'...\n","error":null,"commit":"0014dd5323b375dbdee0764937db15cdcab8fec3"},"originalBuild":{"startTimestamp":1672106711831,"endTimestamp":1672106784433,"error":null,"stdout":"Sending build context to Docker daemon  886.8kB\r\r\nStep 1/28 : FROM python:3.6\n3.6: Pulling from library/python\nDigest: sha256:f8652afaf88c25f0d22354d547d892591067aa4026a7fa9a6819df9f300af6fc\nStatus: Downloaded newer image for python:3.6\n ---> 54260638d07c\nStep 2/28 : LABEL version=\"v0.2-alpha\"\n ---> Running in 946f3c32fc56\nRemoving intermediate container 946f3c32fc56\n ---> 064f1ad115a1\nStep 3/28 : LABEL vendor=\"Fleeg Platform\"\n ---> Running in 37bd070ca947\nRemoving intermediate container 37bd070ca947\n ---> 15c9d2554199\nStep 4/28 : LABEL source=\"https://github.com/fleeg\"\n ---> Running in 86306ceaf77a\nRemoving intermediate container 86306ceaf77a\n ---> e3d00b05e176\nStep 5/28 : ARG standalone=\"FALSE\"\n ---> Running in ab42b679fd0d\nRemoving intermediate container ab42b679fd0d\n ---> f1db68eb8361\nStep 6/28 : ARG proxy\n ---> Running in 9ccf359c5dbb\nRemoving intermediate container 9ccf359c5dbb\n ---> b47ac1b43334\nStep 7/28 : ENV https_proxy=$proxy\n ---> Running in a969d4018be2\nRemoving intermediate container a969d4018be2\n ---> 480b13d759fd\nStep 8/28 : ENV PYTHONUNBUFFERED 1\n ---> Running in 578ca9a9c37e\nRemoving intermediate container 578ca9a9c37e\n ---> 2a17f2a49845\nStep 9/28 : RUN mkdir -p app/media\n ---> Running in 6937a40c9252\nRemoving intermediate container 6937a40c9252\n ---> a725898c19e3\nStep 10/28 : WORKDIR app\n ---> Running in dfb858bda458\nRemoving intermediate container dfb858bda458\n ---> a51910a16428\nStep 11/28 : ADD account account\n ---> 12ea205f08f2\nStep 12/28 : ADD common common\n ---> 282bcff51a7c\nStep 13/28 : ADD link link\n ---> b150d9eafb9b\nStep 14/28 : ADD notification notification\n ---> a156dc71495b\nStep 15/28 : ADD search search\n ---> 7d6e984323e9\nStep 16/28 : ADD fleeg fleeg\n ---> 031d19032271\nStep 17/28 : ADD manage.py manage.py\n ---> d8c760483dea\nStep 18/28 : ADD requirements requirements\n ---> fe46552182ac\nStep 19/28 : RUN if [ ! $proxy ]; then         pip install -r requirements;     else         pip install -r requirements --trusted-host pypi.python.org;     fi\n ---> Running in 092c27668033\nCollecting Django==1.11.9\n  Downloading Django-1.11.9-py2.py3-none-any.whl (6.9 MB)\nCollecting gunicorn==19.7.1\n  Downloading gunicorn-19.7.1-py2.py3-none-any.whl (111 kB)\nCollecting Pillow==4.2.0\n  Downloading Pillow-4.2.0-cp36-cp36m-manylinux1_x86_64.whl (5.8 MB)\nCollecting beautifulsoup4==4.6.0\n  Downloading beautifulsoup4-4.6.0-py3-none-any.whl (86 kB)\nCollecting lxml==3.8.0\n  Downloading lxml-3.8.0-cp36-cp36m-manylinux1_x86_64.whl (7.3 MB)\nCollecting newspaper3k==0.2.6\n  Downloading newspaper3k-0.2.6.tar.gz (197 kB)\nCollecting psycopg2==2.7.3.1\n  Downloading psycopg2-2.7.3.1-cp36-cp36m-manylinux1_x86_64.whl (2.6 MB)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\nCollecting olefile\n  Downloading olefile-0.46.zip (112 kB)\nCollecting PyYAML>=3.11\n  Downloading PyYAML-6.0-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (603 kB)\nCollecting cssselect>=0.9.2\n  Downloading cssselect-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting nltk>=3.2.1\n  Downloading nltk-3.6.7-py3-none-any.whl (1.5 MB)\nCollecting requests>=2.10.0\n  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)\nCollecting feedparser>=5.2.1\n  Downloading feedparser-6.0.10-py3-none-any.whl (81 kB)\nCollecting tldextract>=2.0.1\n  Downloading tldextract-3.1.2-py2.py3-none-any.whl (87 kB)\nCollecting feedfinder2>=0.0.4\n  Downloading feedfinder2-0.0.4.tar.gz (3.3 kB)\nCollecting jieba3k>=0.35.1\n  Downloading jieba3k-0.35.1.zip (7.4 MB)\nCollecting python-dateutil>=2.5.3\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting sgmllib3k\n  Downloading sgmllib3k-1.0.0.tar.gz (5.8 kB)\nCollecting joblib\n  Downloading joblib-1.1.1-py2.py3-none-any.whl (309 kB)\nCollecting click\n  Downloading click-8.0.4-py3-none-any.whl (97 kB)\nCollecting tqdm\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\nCollecting regex>=2021.8.3\n  Downloading regex-2022.10.31-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (756 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting charset-normalizer~=2.0.0\n  Downloading charset_normalizer-2.0.12-py3-none-any.whl (39 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting requests-file>=1.4\n  Downloading requests_file-1.5.1-py2.py3-none-any.whl (3.7 kB)\nCollecting filelock>=3.0.8\n  Downloading filelock-3.4.1-py3-none-any.whl (9.9 kB)\nCollecting importlib-metadata\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nCollecting importlib-resources\n  Downloading importlib_resources-5.4.0-py3-none-any.whl (28 kB)\nBuilding wheels for collected packages: newspaper3k, feedfinder2, jieba3k, olefile, sgmllib3k\n  Building wheel for newspaper3k (setup.py): started\n  Building wheel for newspaper3k (setup.py): finished with status 'done'\n  Created wheel for newspaper3k: filename=newspaper3k-0.2.6-py3-none-any.whl size=204291 sha256=15c95a2bcc4a9e3be3a8de7204ac1fe229b665e3d977732dc85fef3f5d87e51a\n  Stored in directory: /root/.cache/pip/wheels/b4/d4/ea/ca394c9c85ea63383ea25db00f150fb42b413907c32773c05f\n  Building wheel for feedfinder2 (setup.py): started\n  Building wheel for feedfinder2 (setup.py): finished with status 'done'\n  Created wheel for feedfinder2: filename=feedfinder2-0.0.4-py3-none-any.whl size=3356 sha256=46b2f92243776863e7b2a567d153f84ea2d7dafcee27f7f85ac8b020ec227daa\n  Stored in directory: /root/.cache/pip/wheels/23/4b/1d/fefcdd940e06e465f1df6f7ee0d56c931bbeed14328748cfc6\n  Building wheel for jieba3k (setup.py): started\n  Building wheel for jieba3k (setup.py): finished with status 'done'\n  Created wheel for jieba3k: filename=jieba3k-0.35.1-py3-none-any.whl size=7398405 sha256=15a2801a772d30df8c446aa92bff5f4d8481dc0ff285faa2c5646b3b01133826\n  Stored in directory: /root/.cache/pip/wheels/f9/f5/11/d67e35ef63e5397aa052f4c84ed5fc6a65bbd9ceb9089cc93b\n  Building wheel for olefile (setup.py): started\n  Building wheel for olefile (setup.py): finished with status 'done'\n  Created wheel for olefile: filename=olefile-0.46-py2.py3-none-any.whl size=35432 sha256=397c29fc4503b9fbcced9c53c2b305b08ca072c847f006818337ad09153b4eae\n  Stored in directory: /root/.cache/pip/wheels/bc/9d/f9/4f5e50f497a2ed398d9786244df90cee57583e92bff76bfc2b\n  Building wheel for sgmllib3k (setup.py): started\n  Building wheel for sgmllib3k (setup.py): finished with status 'done'\n  Created wheel for sgmllib3k: filename=sgmllib3k-1.0.0-py3-none-any.whl size=6065 sha256=e0792fe621102cd955326d9b59ccd824b18acb5dfaa60b577b7b245517b67b5d\n  Stored in directory: /root/.cache/pip/wheels/bb/cb/26/83c0b63161dc478ded6db8d83a148d32b6cce8606043c2023b\nSuccessfully built newspaper3k feedfinder2 jieba3k olefile sgmllib3k\nInstalling collected packages: zipp, urllib3, typing-extensions, idna, charset-normalizer, certifi, six, requests, importlib-resources, importlib-metadata, tqdm, sgmllib3k, requests-file, regex, olefile, joblib, filelock, click, beautifulsoup4, tldextract, PyYAML, pytz, python-dateutil, Pillow, nltk, lxml, jieba3k, feedparser, feedfinder2, cssselect, psycopg2, newspaper3k, gunicorn, Django\nSuccessfully installed Django-1.11.9 Pillow-4.2.0 PyYAML-6.0 beautifulsoup4-4.6.0 certifi-2022.12.7 charset-normalizer-2.0.12 click-8.0.4 cssselect-1.1.0 feedfinder2-0.0.4 feedparser-6.0.10 filelock-3.4.1 gunicorn-19.7.1 idna-3.4 importlib-metadata-4.8.3 importlib-resources-5.4.0 jieba3k-0.35.1 joblib-1.1.1 lxml-3.8.0 newspaper3k-0.2.6 nltk-3.6.7 olefile-0.46 psycopg2-2.7.3.1 python-dateutil-2.8.2 pytz-2022.7 regex-2022.10.31 requests-2.27.1 requests-file-1.5.1 sgmllib3k-1.0.0 six-1.16.0 tldextract-3.1.2 tqdm-4.64.1 typing-extensions-4.1.1 urllib3-1.26.13 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 092c27668033\n ---> cc39a0740281\nStep 20/28 : RUN python manage.py collectstatic --noinput\n ---> Running in 50e601cc646e\nCopying '/app/common/static/img/favicon.png'\nCopying '/app/common/static/img/logo.png'\nCopying '/app/common/static/img/error.png'\nCopying '/app/common/static/img/profile/default.jpg'\nCopying '/app/common/static/css/style.css'\nCopying '/app/common/static/fonts/roboto-condensed.ttf'\nCopying '/app/common/static/fonts/roboto-boldcondensed.ttf'\nCopying '/app/common/static/fonts/kabel.ttf'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/prepopulate.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/SelectBox.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/actions.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/actions.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/cancel.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/prepopulate.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/timeparse.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/inlines.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/SelectFilter2.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/collapse.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/popup_response.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/collapse.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/change_form.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/jquery.init.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/calendar.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/prepopulate_init.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/urlify.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/core.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/inlines.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/xregexp/xregexp.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/xregexp/xregexp.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/xregexp/LICENSE-XREGEXP.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/jquery/jquery.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/jquery/jquery.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/jquery/LICENSE-JQUERY.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/admin/DateTimeShortcuts.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/admin/RelatedObjectLookups.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-deletelink.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-yes.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/selector-icons.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-calendar.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/inline-delete.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/LICENSE'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/README.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-unknown.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-no.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-clock.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-addlink.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/tooltag-arrowright.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/sorting-icons.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-alert.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/tooltag-add.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/search.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-unknown-alt.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-changelink.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/calendar-icons.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/gis/move_vertex_off.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/gis/move_vertex_on.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/widgets.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/forms.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/base.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/rtl.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/fonts.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/changelists.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/dashboard.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/login.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/README.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/Roboto-Light-webfont.woff'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/Roboto-Regular-webfont.woff'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/Roboto-Bold-webfont.woff'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/LICENSE.txt'\nFound another file with the destination path 'img/favicon.png'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'img/logo.png'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'img/error.png'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'img/profile/default.jpg'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'css/style.css'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'fonts/roboto-condensed.ttf'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'fonts/roboto-boldcondensed.ttf'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'fonts/kabel.ttf'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\n\n69 static files copied to '/app/staticfiles'.\nRemoving intermediate container 50e601cc646e\n ---> 8147e1800ea1\nStep 21/28 : RUN if [ \"$standalone\" != \"FALSE\" ]; then         python manage.py migrate;     else         echo 'python manage.py migrate' > startup.sh;     fi\n ---> Running in ed2c2090db6c\nRemoving intermediate container ed2c2090db6c\n ---> 83c04fcac2e0\nStep 22/28 : RUN echo 'gunicorn fleeg.wsgi -w 2 -b :8000' >> startup.sh && chmod +x startup.sh\n ---> Running in 4b27da09d2db\nRemoving intermediate container 4b27da09d2db\n ---> 84bd8f0b6999\nStep 23/28 : RUN mkdir /.newspaper_scraper && chmod -R a+rwx /.newspaper_scraper\n ---> Running in 51356a4243a8\nRemoving intermediate container 51356a4243a8\n ---> 3ab215d2fa79\nStep 24/28 : RUN chmod -R a+rwx /app\n ---> Running in 65ec203a6745\nRemoving intermediate container 65ec203a6745\n ---> 1f9b1374d57f\nStep 25/28 : USER 1001\n ---> Running in 71c155e41e7e\nRemoving intermediate container 71c155e41e7e\n ---> 5502c3e65428\nStep 26/28 : HEALTHCHECK --interval=5s             --timeout=5s             CMD curl -f http://127.0.0.1:8000 || exit 1\n ---> Running in 29b0a932db74\nRemoving intermediate container 29b0a932db74\n ---> ac60e381dfe6\nStep 27/28 : EXPOSE 8000\n ---> Running in 11592d8bdab6\nRemoving intermediate container 11592d8bdab6\n ---> 6ad860c72263\nStep 28/28 : ENTRYPOINT ./startup.sh\n ---> Running in ff69005ec107\nRemoving intermediate container ff69005ec107\n ---> effc4865892f\nSuccessfully built effc4865892f\nSuccessfully tagged fleeg-platform:latest\n","stderr":"","imageSize":1081662730},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":33,"end":33,"columnStart":8,"columnEnd":36}},{"name":"pipUseNoCacheDir","position":{"start":35,"end":35,"columnStart":8,"columnEnd":67}}],"repairedDockerfile":"FROM python:3.6\n\nLABEL version=\"v0.2-alpha\"\nLABEL vendor=\"Fleeg Platform\"\nLABEL source=\"https://github.com/fleeg\"\n\n# Standalone turn on is run database and app inside same docker\nARG standalone=\"FALSE\"\n\n# Send proxy configuration if necessary\nARG proxy\nENV https_proxy=$proxy\n\nENV PYTHONUNBUFFERED 1\n\n# Create app folder\nRUN mkdir -p app/media\nWORKDIR app\n\n# Add folders\nADD account account\nADD common common\nADD link link\nADD notification notification\nADD search search\nADD fleeg fleeg\n\n# Add manage files\nADD manage.py manage.py\nADD requirements requirements\n\n# Install dependecies\nRUN if [ ! $proxy ]; then \\\n        pip install --no-cache-dir -r requirements; \\\n    else \\\n        pip install --no-cache-dir -r requirements --trusted-host pypi.python.org; \\\n    fi\n\n# Genrate static files\nRUN python manage.py collectstatic --noinput\n\n# Apply app migrations or add to startup\nRUN if [ \"$standalone\" != \"FALSE\" ]; then \\\n        python manage.py migrate; \\\n    else \\\n        echo 'python manage.py migrate' > startup.sh; \\\n    fi\n\n# Add run in startup.sh file\nRUN echo 'gunicorn fleeg.wsgi -w 2 -b :8000' >> startup.sh && chmod +x startup.sh\n\n# Create data folder for link load\nRUN mkdir /.newspaper_scraper && chmod -R a+rwx /.newspaper_scraper\n\n# Add permission for non root user\nRUN chmod -R a+rwx /app\n\nUSER 1001\n\n# Set a health check\nHEALTHCHECK --interval=5s \\\n            --timeout=5s \\\n            CMD curl -f http://127.0.0.1:8000 || exit 1\n\nEXPOSE 8000\n\nENTRYPOINT ./startup.sh\n"},"repairedBuild":{"startTimestamp":1672106785413,"endTimestamp":1672106876487,"error":null,"stdout":"Sending build context to Docker daemon  886.8kB\r\r\nStep 1/28 : FROM python:3.6\n ---> 54260638d07c\nStep 2/28 : LABEL version=\"v0.2-alpha\"\n ---> Running in 598dd2db92b1\nRemoving intermediate container 598dd2db92b1\n ---> f8d99072814e\nStep 3/28 : LABEL vendor=\"Fleeg Platform\"\n ---> Running in 0d1828aae883\nRemoving intermediate container 0d1828aae883\n ---> 5f56077a229a\nStep 4/28 : LABEL source=\"https://github.com/fleeg\"\n ---> Running in 40acc6c157bc\nRemoving intermediate container 40acc6c157bc\n ---> ca764120ad4a\nStep 5/28 : ARG standalone=\"FALSE\"\n ---> Running in 5dc3e505d21c\nRemoving intermediate container 5dc3e505d21c\n ---> 601e29d5f6a5\nStep 6/28 : ARG proxy\n ---> Running in 3819e1fed714\nRemoving intermediate container 3819e1fed714\n ---> cfd0bfab867f\nStep 7/28 : ENV https_proxy=$proxy\n ---> Running in 85bc2e4d978b\nRemoving intermediate container 85bc2e4d978b\n ---> 38e8f3737bc8\nStep 8/28 : ENV PYTHONUNBUFFERED 1\n ---> Running in 633b4629e26d\nRemoving intermediate container 633b4629e26d\n ---> 9ae08564dbcc\nStep 9/28 : RUN mkdir -p app/media\n ---> Running in 937c8981fdb4\nRemoving intermediate container 937c8981fdb4\n ---> bd4fcb9d7cd4\nStep 10/28 : WORKDIR app\n ---> Running in 86fcfbe28b75\nRemoving intermediate container 86fcfbe28b75\n ---> 005903591c63\nStep 11/28 : ADD account account\n ---> 010e6e2e37cd\nStep 12/28 : ADD common common\n ---> 373f92aad42b\nStep 13/28 : ADD link link\n ---> 1a11929387d1\nStep 14/28 : ADD notification notification\n ---> 88e2e5cd69ba\nStep 15/28 : ADD search search\n ---> 07c9060d4965\nStep 16/28 : ADD fleeg fleeg\n ---> 7cfba98c5d30\nStep 17/28 : ADD manage.py manage.py\n ---> 93bd1d2e230a\nStep 18/28 : ADD requirements requirements\n ---> ce9629f019ec\nStep 19/28 : RUN if [ ! $proxy ]; then         pip install --no-cache-dir -r requirements;     else         pip install --no-cache-dir -r requirements --trusted-host pypi.python.org;     fi\n ---> Running in dd5779752c33\nCollecting Django==1.11.9\n  Downloading Django-1.11.9-py2.py3-none-any.whl (6.9 MB)\nCollecting gunicorn==19.7.1\n  Downloading gunicorn-19.7.1-py2.py3-none-any.whl (111 kB)\nCollecting Pillow==4.2.0\n  Downloading Pillow-4.2.0-cp36-cp36m-manylinux1_x86_64.whl (5.8 MB)\nCollecting beautifulsoup4==4.6.0\n  Downloading beautifulsoup4-4.6.0-py3-none-any.whl (86 kB)\nCollecting lxml==3.8.0\n  Downloading lxml-3.8.0-cp36-cp36m-manylinux1_x86_64.whl (7.3 MB)\nCollecting newspaper3k==0.2.6\n  Downloading newspaper3k-0.2.6.tar.gz (197 kB)\nCollecting psycopg2==2.7.3.1\n  Downloading psycopg2-2.7.3.1-cp36-cp36m-manylinux1_x86_64.whl (2.6 MB)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\nCollecting olefile\n  Downloading olefile-0.46.zip (112 kB)\nCollecting PyYAML>=3.11\n  Downloading PyYAML-6.0-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (603 kB)\nCollecting cssselect>=0.9.2\n  Downloading cssselect-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting nltk>=3.2.1\n  Downloading nltk-3.6.7-py3-none-any.whl (1.5 MB)\nCollecting requests>=2.10.0\n  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)\nCollecting feedparser>=5.2.1\n  Downloading feedparser-6.0.10-py3-none-any.whl (81 kB)\nCollecting tldextract>=2.0.1\n  Downloading tldextract-3.1.2-py2.py3-none-any.whl (87 kB)\nCollecting feedfinder2>=0.0.4\n  Downloading feedfinder2-0.0.4.tar.gz (3.3 kB)\nCollecting jieba3k>=0.35.1\n  Downloading jieba3k-0.35.1.zip (7.4 MB)\nCollecting python-dateutil>=2.5.3\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting sgmllib3k\n  Downloading sgmllib3k-1.0.0.tar.gz (5.8 kB)\nCollecting regex>=2021.8.3\n  Downloading regex-2022.10.31-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (756 kB)\nCollecting tqdm\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\nCollecting click\n  Downloading click-8.0.4-py3-none-any.whl (97 kB)\nCollecting joblib\n  Downloading joblib-1.1.1-py2.py3-none-any.whl (309 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting charset-normalizer~=2.0.0\n  Downloading charset_normalizer-2.0.12-py3-none-any.whl (39 kB)\nCollecting requests-file>=1.4\n  Downloading requests_file-1.5.1-py2.py3-none-any.whl (3.7 kB)\nCollecting filelock>=3.0.8\n  Downloading filelock-3.4.1-py3-none-any.whl (9.9 kB)\nCollecting importlib-metadata\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nCollecting importlib-resources\n  Downloading importlib_resources-5.4.0-py3-none-any.whl (28 kB)\nBuilding wheels for collected packages: newspaper3k, feedfinder2, jieba3k, olefile, sgmllib3k\n  Building wheel for newspaper3k (setup.py): started\n  Building wheel for newspaper3k (setup.py): finished with status 'done'\n  Created wheel for newspaper3k: filename=newspaper3k-0.2.6-py3-none-any.whl size=204291 sha256=27e681d859759fe667d597439dfd0b644956d1c03663fa9802fa30397188770b\n  Stored in directory: /tmp/pip-ephem-wheel-cache-g_jxtxz5/wheels/b4/d4/ea/ca394c9c85ea63383ea25db00f150fb42b413907c32773c05f\n  Building wheel for feedfinder2 (setup.py): started\n  Building wheel for feedfinder2 (setup.py): finished with status 'done'\n  Created wheel for feedfinder2: filename=feedfinder2-0.0.4-py3-none-any.whl size=3356 sha256=520a12d44d168c17e3bbb80b9772d28fe7835af3edbc33b458af92237def4caf\n  Stored in directory: /tmp/pip-ephem-wheel-cache-g_jxtxz5/wheels/23/4b/1d/fefcdd940e06e465f1df6f7ee0d56c931bbeed14328748cfc6\n  Building wheel for jieba3k (setup.py): started\n  Building wheel for jieba3k (setup.py): finished with status 'done'\n  Created wheel for jieba3k: filename=jieba3k-0.35.1-py3-none-any.whl size=7398405 sha256=136451876974eb0a90a57a0abf7308fe0556b7a3a45b8f57f4c654ce318dc292\n  Stored in directory: /tmp/pip-ephem-wheel-cache-g_jxtxz5/wheels/f9/f5/11/d67e35ef63e5397aa052f4c84ed5fc6a65bbd9ceb9089cc93b\n  Building wheel for olefile (setup.py): started\n  Building wheel for olefile (setup.py): finished with status 'done'\n  Created wheel for olefile: filename=olefile-0.46-py2.py3-none-any.whl size=35432 sha256=9cd6f48ff29c6f846fb6b3b85023b35f3d0b1500ff75e0185246ad9f551c2abe\n  Stored in directory: /tmp/pip-ephem-wheel-cache-g_jxtxz5/wheels/bc/9d/f9/4f5e50f497a2ed398d9786244df90cee57583e92bff76bfc2b\n  Building wheel for sgmllib3k (setup.py): started\n  Building wheel for sgmllib3k (setup.py): finished with status 'done'\n  Created wheel for sgmllib3k: filename=sgmllib3k-1.0.0-py3-none-any.whl size=6065 sha256=dd569f1e109a3ce3a3bcd61b63cb43f2b24f1a9b9a4c8aab4cb5d39bfdaedab0\n  Stored in directory: /tmp/pip-ephem-wheel-cache-g_jxtxz5/wheels/bb/cb/26/83c0b63161dc478ded6db8d83a148d32b6cce8606043c2023b\nSuccessfully built newspaper3k feedfinder2 jieba3k olefile sgmllib3k\nInstalling collected packages: zipp, urllib3, typing-extensions, idna, charset-normalizer, certifi, six, requests, importlib-resources, importlib-metadata, tqdm, sgmllib3k, requests-file, regex, olefile, joblib, filelock, click, beautifulsoup4, tldextract, PyYAML, pytz, python-dateutil, Pillow, nltk, lxml, jieba3k, feedparser, feedfinder2, cssselect, psycopg2, newspaper3k, gunicorn, Django\nSuccessfully installed Django-1.11.9 Pillow-4.2.0 PyYAML-6.0 beautifulsoup4-4.6.0 certifi-2022.12.7 charset-normalizer-2.0.12 click-8.0.4 cssselect-1.1.0 feedfinder2-0.0.4 feedparser-6.0.10 filelock-3.4.1 gunicorn-19.7.1 idna-3.4 importlib-metadata-4.8.3 importlib-resources-5.4.0 jieba3k-0.35.1 joblib-1.1.1 lxml-3.8.0 newspaper3k-0.2.6 nltk-3.6.7 olefile-0.46 psycopg2-2.7.3.1 python-dateutil-2.8.2 pytz-2022.7 regex-2022.10.31 requests-2.27.1 requests-file-1.5.1 sgmllib3k-1.0.0 six-1.16.0 tldextract-3.1.2 tqdm-4.64.1 typing-extensions-4.1.1 urllib3-1.26.13 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container dd5779752c33\n ---> da124089c5d6\nStep 20/28 : RUN python manage.py collectstatic --noinput\n ---> Running in 824b2efdeae6\nCopying '/app/common/static/img/favicon.png'\nCopying '/app/common/static/img/logo.png'\nCopying '/app/common/static/img/error.png'\nCopying '/app/common/static/img/profile/default.jpg'\nCopying '/app/common/static/css/style.css'\nCopying '/app/common/static/fonts/roboto-condensed.ttf'\nCopying '/app/common/static/fonts/roboto-boldcondensed.ttf'\nCopying '/app/common/static/fonts/kabel.ttf'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/prepopulate.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/SelectBox.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/actions.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/actions.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/cancel.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/prepopulate.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/timeparse.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/inlines.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/SelectFilter2.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/collapse.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/popup_response.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/collapse.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/change_form.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/jquery.init.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/calendar.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/prepopulate_init.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/urlify.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/core.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/inlines.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/xregexp/xregexp.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/xregexp/xregexp.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/xregexp/LICENSE-XREGEXP.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/jquery/jquery.min.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/jquery/jquery.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/vendor/jquery/LICENSE-JQUERY.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/admin/DateTimeShortcuts.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/js/admin/RelatedObjectLookups.js'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-deletelink.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-yes.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/selector-icons.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-calendar.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/inline-delete.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/LICENSE'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/README.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-unknown.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-no.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-clock.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-addlink.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/tooltag-arrowright.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/sorting-icons.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-alert.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/tooltag-add.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/search.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-unknown-alt.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/icon-changelink.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/calendar-icons.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/gis/move_vertex_off.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/img/gis/move_vertex_on.svg'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/widgets.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/forms.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/base.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/rtl.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/fonts.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/changelists.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/dashboard.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/css/login.css'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/README.txt'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/Roboto-Light-webfont.woff'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/Roboto-Regular-webfont.woff'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/Roboto-Bold-webfont.woff'\nCopying '/usr/local/lib/python3.6/site-packages/django/contrib/admin/static/admin/fonts/LICENSE.txt'\nFound another file with the destination path 'img/favicon.png'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'img/logo.png'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'img/error.png'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'img/profile/default.jpg'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'css/style.css'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'fonts/roboto-condensed.ttf'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'fonts/roboto-boldcondensed.ttf'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\nFound another file with the destination path 'fonts/kabel.ttf'. It will be ignored since only the first encountered file is collected. If this is not what you want, make sure every static file has a unique path.\n\n69 static files copied to '/app/staticfiles'.\nRemoving intermediate container 824b2efdeae6\n ---> 5d89aa3ee738\nStep 21/28 : RUN if [ \"$standalone\" != \"FALSE\" ]; then         python manage.py migrate;     else         echo 'python manage.py migrate' > startup.sh;     fi\n ---> Running in 67d84e0e07b5\nRemoving intermediate container 67d84e0e07b5\n ---> ba103f2eb73b\nStep 22/28 : RUN echo 'gunicorn fleeg.wsgi -w 2 -b :8000' >> startup.sh && chmod +x startup.sh\n ---> Running in 1e2b6c41b019\nRemoving intermediate container 1e2b6c41b019\n ---> a649c41d25aa\nStep 23/28 : RUN mkdir /.newspaper_scraper && chmod -R a+rwx /.newspaper_scraper\n ---> Running in 50feb56d04ef\nRemoving intermediate container 50feb56d04ef\n ---> b98ed6d35145\nStep 24/28 : RUN chmod -R a+rwx /app\n ---> Running in 1c786a956dd8\nRemoving intermediate container 1c786a956dd8\n ---> f3d3faa3e543\nStep 25/28 : USER 1001\n ---> Running in 782bc62d86d0\nRemoving intermediate container 782bc62d86d0\n ---> 455f282ebd69\nStep 26/28 : HEALTHCHECK --interval=5s             --timeout=5s             CMD curl -f http://127.0.0.1:8000 || exit 1\n ---> Running in 344f02658065\nRemoving intermediate container 344f02658065\n ---> 014b38efe643\nStep 27/28 : EXPOSE 8000\n ---> Running in 95b2577dd430\nRemoving intermediate container 95b2577dd430\n ---> 7760de5787e0\nStep 28/28 : ENTRYPOINT ./startup.sh\n ---> Running in f6a0c569c110\nRemoving intermediate container f6a0c569c110\n ---> f71a90e8ba7e\nSuccessfully built f71a90e8ba7e\nSuccessfully tagged fleeg-platform:latest\n","stderr":"","imageSize":1037279082},"endTime":1672106877237}