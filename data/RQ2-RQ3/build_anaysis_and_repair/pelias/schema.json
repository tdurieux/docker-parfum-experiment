{"repository":"https://github.com/pelias/schema","dockerfilePath":"Dockerfile","startTime":1672103660694,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pelias/schema'...\n","error":null,"commit":"777b8240f202909fc93feb039ed5ab4222a51857"},"originalBuild":{"startTimestamp":1672103661575,"endTimestamp":1672103700985,"error":null,"stdout":"Sending build context to Docker daemon  428.5kB\r\r\nStep 1/7 : FROM pelias/baseimage\nlatest: Pulling from pelias/baseimage\n284055322776: Pulling fs layer\nfabdd7f2922a: Pulling fs layer\nf8540ef0f7df: Pulling fs layer\n6299b98d2899: Pulling fs layer\nb7a0afcdeee8: Pulling fs layer\na9224d0dd888: Pulling fs layer\n8cbdbe752c4e: Pulling fs layer\nb2c4749dd6b0: Pulling fs layer\n19098de62ed7: Pulling fs layer\nbda15fdc95e9: Pulling fs layer\n625428d5e357: Pulling fs layer\na30d3ceac264: Pulling fs layer\n6299b98d2899: Waiting\nb7a0afcdeee8: Waiting\na9224d0dd888: Waiting\na30d3ceac264: Waiting\nbda15fdc95e9: Waiting\n8cbdbe752c4e: Waiting\n625428d5e357: Waiting\nb2c4749dd6b0: Waiting\n19098de62ed7: Waiting\nfabdd7f2922a: Verifying Checksum\nfabdd7f2922a: Download complete\n6299b98d2899: Verifying Checksum\n6299b98d2899: Download complete\n284055322776: Verifying Checksum\n284055322776: Download complete\nb7a0afcdeee8: Verifying Checksum\nb7a0afcdeee8: Download complete\na9224d0dd888: Download complete\n8cbdbe752c4e: Verifying Checksum\n8cbdbe752c4e: Download complete\n19098de62ed7: Verifying Checksum\n19098de62ed7: Download complete\n284055322776: Pull complete\nf8540ef0f7df: Verifying Checksum\nf8540ef0f7df: Download complete\nbda15fdc95e9: Verifying Checksum\nbda15fdc95e9: Download complete\nfabdd7f2922a: Pull complete\n625428d5e357: Download complete\na30d3ceac264: Verifying Checksum\na30d3ceac264: Download complete\nb2c4749dd6b0: Verifying Checksum\nb2c4749dd6b0: Download complete\nf8540ef0f7df: Pull complete\n6299b98d2899: Pull complete\nb7a0afcdeee8: Pull complete\na9224d0dd888: Pull complete\n8cbdbe752c4e: Pull complete\nb2c4749dd6b0: Pull complete\n19098de62ed7: Pull complete\nbda15fdc95e9: Pull complete\n625428d5e357: Pull complete\na30d3ceac264: Pull complete\nDigest: sha256:3f8e7b2cd36fee21a33bfcd114666a65bd01ca248a3f65d710ba1f393cf803bf\nStatus: Downloaded newer image for pelias/baseimage:latest\n ---> 20d46db0f488\nStep 2/7 : ENV WORKDIR /code/pelias/schema\n ---> Running in ec933a0a1df2\nRemoving intermediate container ec933a0a1df2\n ---> e4656701c81f\nStep 3/7 : WORKDIR ${WORKDIR}\n ---> Running in 1cebaedcdcac\nRemoving intermediate container 1cebaedcdcac\n ---> d52847df92c4\nStep 4/7 : COPY ./package.json ${WORKDIR}\n ---> 301edec566bc\nStep 5/7 : RUN npm install\n ---> Running in 283547831d49\n\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated elasticsearch@16.7.3: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\nadded 151 packages, and audited 152 packages in 15s\n\n59 packages are looking for funding\n  run `npm fund` for details\n\n3 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 283547831d49\n ---> 179df2559c95\nStep 6/7 : ADD . ${WORKDIR}\n ---> 8803a3d0ca41\nStep 7/7 : USER pelias\n ---> Running in ad16ed7218b2\nRemoving intermediate container ad16ed7218b2\n ---> 1cfe4fe419de\nSuccessfully built 1cfe4fe419de\nSuccessfully tagged schema:latest\n","stderr":"","imageSize":282450604},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# base image\nFROM pelias/baseimage\n\n# change working dir\nENV WORKDIR /code/pelias/schema\nWORKDIR ${WORKDIR}\n\n# copy package.json first to prevent npm install being rerun when only code changes\nCOPY ./package.json ${WORKDIR}\nRUN npm install\n\n# add code from local checkout to image\nADD . ${WORKDIR}\n\n# run as pelias user\nUSER pelias\n"},"repairedBuild":{"startTimestamp":1672103701376,"endTimestamp":1672103715864,"error":null,"stdout":"Sending build context to Docker daemon  428.5kB\r\r\nStep 1/7 : FROM pelias/baseimage\n ---> 20d46db0f488\nStep 2/7 : ENV WORKDIR /code/pelias/schema\n ---> Running in 661a7d7b3ddd\nRemoving intermediate container 661a7d7b3ddd\n ---> 13772d101172\nStep 3/7 : WORKDIR ${WORKDIR}\n ---> Running in e2be8b75f68a\nRemoving intermediate container e2be8b75f68a\n ---> db3a3c70eda6\nStep 4/7 : COPY ./package.json ${WORKDIR}\n ---> c997239a5fda\nStep 5/7 : RUN npm install\n ---> Running in cea71231d6c9\n\u001b[91mnpm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated elasticsearch@16.7.3: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\nadded 151 packages, and audited 152 packages in 5s\n\n59 packages are looking for funding\n  run `npm fund` for details\n\n3 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container cea71231d6c9\n ---> 61c8132e6115\nStep 6/7 : ADD . ${WORKDIR}\n ---> e8d02cd27cad\nStep 7/7 : USER pelias\n ---> Running in 8379519e2959\nRemoving intermediate container 8379519e2959\n ---> 0318e4837cf9\nSuccessfully built 0318e4837cf9\nSuccessfully tagged schema:latest\n","stderr":"","imageSize":282450604},"endTime":1672103716284}