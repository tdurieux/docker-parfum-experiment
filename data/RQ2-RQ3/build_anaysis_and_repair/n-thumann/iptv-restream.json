{"repository":"https://github.com/n-thumann/iptv-restream","dockerfilePath":"Dockerfile","startTime":1672776580019,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/n-thumann/iptv-restream'...\n","error":null,"commit":"f51f01a47bc45b30febb9913fc805a0c02f342a5"},"originalBuild":{"startTimestamp":1672776581206,"endTimestamp":1672776621207,"error":null,"stdout":"Sending build context to Docker daemon  413.7kB\r\r\nStep 1/17 : FROM node:18-alpine AS builder\n18-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/17 : WORKDIR /app\n ---> Running in ed7b252c76e0\nRemoving intermediate container ed7b252c76e0\n ---> a7ebdbc1423a\nStep 3/17 : COPY src ./src/\n ---> 59679887e7b6\nStep 4/17 : COPY package*.json ./\n ---> ef65afb37391\nStep 5/17 : COPY tsconfig.json ./\n ---> be30415a0ed0\nStep 6/17 : RUN npm install --only=dev\n ---> Running in 8cad0f587617\n\u001b[91mnpm\u001b[0m\u001b[91m WARN invalid config only=\"dev\" set in command line options\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m invalid config\u001b[0m\u001b[91m Must be one of: null, prod, production\n\u001b[0m\nadded 226 packages, and audited 227 packages in 3s\n\n40 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 8cad0f587617\n ---> 11b65cc70a4d\nStep 7/17 : RUN npx tsc\n ---> Running in 90c52dc7c140\nRemoving intermediate container 90c52dc7c140\n ---> d281a7bf510a\nStep 8/17 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 9/17 : WORKDIR /app\n ---> Running in 1dfe56939ea9\nRemoving intermediate container 1dfe56939ea9\n ---> 959a7ad9a239\nStep 10/17 : COPY --from=builder /app/dist/ ./dist\n ---> dfd5b1ff7a11\nStep 11/17 : RUN mkdir ./data && wget -P ./data https://db.iptv.blog/multicastadressliste.json\n ---> Running in 234ebdc0962b\n\u001b[91mConnecting to db.iptv.blog (202.61.255.10:443)\n\u001b[0m\u001b[91msaving to './data/multicastadressliste.json'\n\u001b[0m\u001b[91mmulticastadressliste 100% |********************************| 57491  0:00:00 ETA\n'./data/multicastadressliste.json' saved\n\u001b[0mRemoving intermediate container 234ebdc0962b\n ---> 2714e16c8365\nStep 12/17 : COPY package*.json ./\n ---> d58f627c2db2\nStep 13/17 : COPY views/ ./views/\n ---> 690d75fe76ac\nStep 14/17 : COPY public/ ./public/\n ---> 9713965379a1\nStep 15/17 : RUN npm install --only=production\n ---> Running in 48126401cec3\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\nadded 92 packages, and audited 93 packages in 1s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 48126401cec3\n ---> 0e9411c0afc9\nStep 16/17 : USER node\n ---> Running in 604a8b03ec4f\nRemoving intermediate container 604a8b03ec4f\n ---> 7134fce0b1c5\nStep 17/17 : ENTRYPOINT [ \"node\", \"dist/app.js\" ]\n ---> Running in ff63bc01463b\nRemoving intermediate container ff63bc01463b\n ---> 079f09ef43fd\nSuccessfully built 079f09ef43fd\nSuccessfully tagged iptv-restream:latest\n","stderr":"","imageSize":176972549},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":26}},{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":4,"columnEnd":33}}],"repairedDockerfile":"FROM node:18-alpine AS builder\n\nWORKDIR /app\nCOPY src ./src/\nCOPY package*.json ./\nCOPY tsconfig.json ./\nRUN npm install --only=dev\nRUN npx tsc\n\nFROM node:18-alpine\nWORKDIR /app\nCOPY --from=builder /app/dist/ ./dist\nRUN mkdir ./data && wget -P ./data https://db.iptv.blog/multicastadressliste.json\nCOPY package*.json ./\nCOPY views/ ./views/\nCOPY public/ ./public/\nRUN npm install --only=production\nUSER node\n\nENTRYPOINT [ \"node\", \"dist/app.js\" ]\n\n"},"repairedBuild":{"startTimestamp":1672776622048,"endTimestamp":1672776691725,"error":null,"stdout":"Sending build context to Docker daemon  413.7kB\r\r\nStep 1/17 : FROM node:18-alpine AS builder\n ---> 6d7b7852bcd3\nStep 2/17 : WORKDIR /app\n ---> Running in 88a3e5290b7f\nRemoving intermediate container 88a3e5290b7f\n ---> 48b7c7151fe0\nStep 3/17 : COPY src ./src/\n ---> e22e6aff65b1\nStep 4/17 : COPY package*.json ./\n ---> 4a0ca95f1c0e\nStep 5/17 : COPY tsconfig.json ./\n ---> cd13a0c0f067\nStep 6/17 : RUN npm install --only=dev\n ---> Running in 0f9a9838f1f3\n\u001b[91mnpm\u001b[0m\u001b[91m WARN invalid config only=\"dev\" set in command line options\n\u001b[0m\u001b[91mnpm WARN invalid config Must be one of: null, prod, production\n\u001b[0m\nadded 226 packages, and audited 227 packages in 3s\n\n40 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 0f9a9838f1f3\n ---> 145cdc2d17ee\nStep 7/17 : RUN npx tsc\n ---> Running in 58c6743d5457\nRemoving intermediate container 58c6743d5457\n ---> a1291f0bbb72\nStep 8/17 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 9/17 : WORKDIR /app\n ---> Running in bec42ef347b6\nRemoving intermediate container bec42ef347b6\n ---> 57f649ded0f2\nStep 10/17 : COPY --from=builder /app/dist/ ./dist\n ---> d3281d3d4379\nStep 11/17 : RUN mkdir ./data && wget -P ./data https://db.iptv.blog/multicastadressliste.json\n ---> Running in a53ca1d2cd70\n\u001b[91mConnecting to db.iptv.blog (202.61.255.10:443)\n\u001b[0m\u001b[91msaving to './data/multicastadressliste.json'\n\u001b[0m\u001b[91mmulticastadressliste 100% |********************************| 57491  0:00:00 ETA\n'./data/multicastadressliste.json' saved\n\u001b[0mRemoving intermediate container a53ca1d2cd70\n ---> 573ae6dc8a3d\nStep 12/17 : COPY package*.json ./\n ---> 65a4a46deab3\nStep 13/17 : COPY views/ ./views/\n ---> 74aa2f3838f7\nStep 14/17 : COPY public/ ./public/\n ---> 14100573faaf\nStep 15/17 : RUN npm install --only=production\n ---> Running in 89394c603aa3\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\nadded 92 packages, and audited 93 packages in 1s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 89394c603aa3\n ---> 4ee3738ae40c\nStep 16/17 : USER node\n ---> Running in 9e5f2d55aef4\nRemoving intermediate container 9e5f2d55aef4\n ---> 2095e3850810\nStep 17/17 : ENTRYPOINT [ \"node\", \"dist/app.js\" ]\n ---> Running in b9f1711f288e\nRemoving intermediate container b9f1711f288e\n ---> 04fed3e505e7\nSuccessfully built 04fed3e505e7\nSuccessfully tagged iptv-restream:latest\n","stderr":"","imageSize":176972552},"endTime":1672776691985}