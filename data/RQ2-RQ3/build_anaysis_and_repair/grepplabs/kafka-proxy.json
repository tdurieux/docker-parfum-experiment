{"repository":"https://github.com/grepplabs/kafka-proxy","dockerfilePath":"Dockerfile","startTime":1672428507788,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/grepplabs/kafka-proxy'...\n","error":null,"commit":"8147c292ea177edb1710fcbc1dc4546c0c534285"},"originalBuild":{"startTimestamp":1672428509515,"endTimestamp":1672428549401,"error":null,"stdout":"Sending build context to Docker daemon  24.79MB\r\r\nStep 1/13 : FROM golang:1.19-alpine3.15 as builder\n1.19-alpine3.15: Pulling from library/golang\n9621f1afde84: Pulling fs layer\na2b0fab95789: Pulling fs layer\n77b50bae27c3: Pulling fs layer\n0db8ea67ad28: Pulling fs layer\nb6cdea77761c: Pulling fs layer\n0db8ea67ad28: Waiting\nb6cdea77761c: Waiting\n77b50bae27c3: Download complete\na2b0fab95789: Verifying Checksum\na2b0fab95789: Download complete\n9621f1afde84: Verifying Checksum\n9621f1afde84: Download complete\n9621f1afde84: Pull complete\nb6cdea77761c: Download complete\na2b0fab95789: Pull complete\n77b50bae27c3: Pull complete\n0db8ea67ad28: Verifying Checksum\n0db8ea67ad28: Download complete\n0db8ea67ad28: Pull complete\nb6cdea77761c: Pull complete\nDigest: sha256:eabc3aca6f6c4386369b5b067c9c210aeccd39e76907fa2f8f774fd59d83425a\nStatus: Downloaded newer image for golang:1.19-alpine3.15\n ---> 1112d5482da3\nStep 2/13 : RUN apk add alpine-sdk ca-certificates\n ---> Running in 12d3accc23ae\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing fakeroot (1.25.3-r3)\n(2/37) Installing openssl (1.1.1s-r1)\n(3/37) Installing libattr (2.5.1-r1)\n(4/37) Installing attr (2.5.1-r1)\n(5/37) Installing libacl (2.2.53-r0)\n(6/37) Installing tar (1.34-r0)\n(7/37) Installing pkgconf (1.8.0-r0)\n(8/37) Installing patch (2.7.6-r7)\n(9/37) Installing libgcc (10.3.1_git20211027-r0)\n(10/37) Installing libstdc++ (10.3.1_git20211027-r0)\n(11/37) Installing lzip (1.22-r1)\n(12/37) Installing brotli-libs (1.0.9-r5)\n(13/37) Installing nghttp2-libs (1.46.0-r0)\n(14/37) Installing libcurl (7.80.0-r5)\n(15/37) Installing curl (7.80.0-r5)\n(16/37) Installing abuild (3.9.0-r0)\nExecuting abuild-3.9.0-r0.pre-install\n(17/37) Installing binutils (2.37-r3)\n(18/37) Installing libmagic (5.41-r0)\n(19/37) Installing file (5.41-r0)\n(20/37) Installing libgomp (10.3.1_git20211027-r0)\n(21/37) Installing libatomic (10.3.1_git20211027-r0)\n(22/37) Installing libgphobos (10.3.1_git20211027-r0)\n(23/37) Installing gmp (6.2.1-r1)\n(24/37) Installing isl22 (0.22-r0)\n(25/37) Installing mpfr4 (4.1.0-r0)\n(26/37) Installing mpc1 (1.2.1-r0)\n(27/37) Installing gcc (10.3.1_git20211027-r0)\n(28/37) Installing musl-dev (1.2.2-r7)\n(29/37) Installing libc-dev (0.7.2-r3)\n(30/37) Installing g++ (10.3.1_git20211027-r0)\n(31/37) Installing make (4.3-r0)\n(32/37) Installing fortify-headers (1.1-r1)\n(33/37) Installing build-base (0.5-r3)\n(34/37) Installing expat (2.5.0-r0)\n(35/37) Installing pcre2 (10.40-r0)\n(36/37) Installing git (2.34.5-r0)\n(37/37) Installing alpine-sdk (1.0-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 212 MiB in 52 packages\nRemoving intermediate container 12d3accc23ae\n ---> 8a35cc1b2033\nStep 3/13 : WORKDIR /go/src/github.com/grepplabs/kafka-proxy\n ---> Running in 7b096f2c8cf8\nRemoving intermediate container 7b096f2c8cf8\n ---> 48b536abc140\nStep 4/13 : COPY . .\n ---> 0732e5740573\nStep 5/13 : ARG MAKE_TARGET=build\n ---> Running in 6ba2e8dc2d44\nRemoving intermediate container 6ba2e8dc2d44\n ---> 14e13b2f5423\nStep 6/13 : ARG GOOS=linux\n ---> Running in 9159e2dbb79c\nRemoving intermediate container 9159e2dbb79c\n ---> 3e45ee2a421d\nStep 7/13 : ARG GOARCH=amd64\n ---> Running in dcd7443afc9f\nRemoving intermediate container dcd7443afc9f\n ---> 8e2d11d0d42a\nStep 8/13 : RUN make -e GOARCH=${GOARCH} -e GOOS=${GOOS} clean ${MAKE_TARGET}\n ---> Running in 89fffb5935f8\nrm -rf /go/src/github.com/grepplabs/kafka-proxy/build\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o build/kafka-proxy  -ldflags \"-X github.com/grepplabs/kafka-proxy/config.Version=v0.3.3 -w -s\" .\nRemoving intermediate container 89fffb5935f8\n ---> 9c2e935cdd9f\nStep 9/13 : FROM alpine:3.14\n3.14: Pulling from library/alpine\nc7ed990a2339: Pulling fs layer\nc7ed990a2339: Verifying Checksum\nc7ed990a2339: Download complete\nc7ed990a2339: Pull complete\nDigest: sha256:4c869a63e1b7c0722fed1e402a6466610327c3b83bdddb94bd94fb71da7f638a\nStatus: Downloaded newer image for alpine:3.14\n ---> dd53f409bf0b\nStep 10/13 : RUN apk add --no-cache ca-certificates\n ---> Running in 233156ac077b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 233156ac077b\n ---> 52298ff7d5dc\nStep 11/13 : COPY --from=builder /go/src/github.com/grepplabs/kafka-proxy/build /opt/kafka-proxy/bin\n ---> 8a7e4c1d9d0f\nStep 12/13 : ENTRYPOINT [\"/opt/kafka-proxy/bin/kafka-proxy\"]\n ---> Running in 69f484c5812d\nRemoving intermediate container 69f484c5812d\n ---> 3d8d83690c0f\nStep 13/13 : CMD [\"--help\"]\n ---> Running in 002e69680ea0\nRemoving intermediate container 002e69680ea0\n ---> 09622d4f0953\nSuccessfully built 09622d4f0953\nSuccessfully tagged kafka-proxy:latest\n","stderr":"","imageSize":20710270},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":1,"end":1,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"FROM golang:1.19-alpine3.15 as builder\nRUN apk add --no-cache alpine-sdk ca-certificates\n\nWORKDIR /go/src/github.com/grepplabs/kafka-proxy\nCOPY . .\n\nARG MAKE_TARGET=build\nARG GOOS=linux\nARG GOARCH=amd64\nRUN make -e GOARCH=${GOARCH} -e GOOS=${GOOS} clean ${MAKE_TARGET}\n\nFROM alpine:3.14\nRUN apk add --no-cache ca-certificates\n\nCOPY --from=builder /go/src/github.com/grepplabs/kafka-proxy/build /opt/kafka-proxy/bin\nENTRYPOINT [\"/opt/kafka-proxy/bin/kafka-proxy\"]\nCMD [\"--help\"]\n"},"repairedBuild":{"startTimestamp":1672428549752,"endTimestamp":1672428585603,"error":null,"stdout":"Sending build context to Docker daemon  24.79MB\r\r\nStep 1/13 : FROM golang:1.19-alpine3.15 as builder\n ---> 1112d5482da3\nStep 2/13 : RUN apk add --no-cache alpine-sdk ca-certificates\n ---> Running in ed8726579262\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing fakeroot (1.25.3-r3)\n(2/37) Installing openssl (1.1.1s-r1)\n(3/37) Installing libattr (2.5.1-r1)\n(4/37) Installing attr (2.5.1-r1)\n(5/37) Installing libacl (2.2.53-r0)\n(6/37) Installing tar (1.34-r0)\n(7/37) Installing pkgconf (1.8.0-r0)\n(8/37) Installing patch (2.7.6-r7)\n(9/37) Installing libgcc (10.3.1_git20211027-r0)\n(10/37) Installing libstdc++ (10.3.1_git20211027-r0)\n(11/37) Installing lzip (1.22-r1)\n(12/37) Installing brotli-libs (1.0.9-r5)\n(13/37) Installing nghttp2-libs (1.46.0-r0)\n(14/37) Installing libcurl (7.80.0-r5)\n(15/37) Installing curl (7.80.0-r5)\n(16/37) Installing abuild (3.9.0-r0)\nExecuting abuild-3.9.0-r0.pre-install\n(17/37) Installing binutils (2.37-r3)\n(18/37) Installing libmagic (5.41-r0)\n(19/37) Installing file (5.41-r0)\n(20/37) Installing libgomp (10.3.1_git20211027-r0)\n(21/37) Installing libatomic (10.3.1_git20211027-r0)\n(22/37) Installing libgphobos (10.3.1_git20211027-r0)\n(23/37) Installing gmp (6.2.1-r1)\n(24/37) Installing isl22 (0.22-r0)\n(25/37) Installing mpfr4 (4.1.0-r0)\n(26/37) Installing mpc1 (1.2.1-r0)\n(27/37) Installing gcc (10.3.1_git20211027-r0)\n(28/37) Installing musl-dev (1.2.2-r7)\n(29/37) Installing libc-dev (0.7.2-r3)\n(30/37) Installing g++ (10.3.1_git20211027-r0)\n(31/37) Installing make (4.3-r0)\n(32/37) Installing fortify-headers (1.1-r1)\n(33/37) Installing build-base (0.5-r3)\n(34/37) Installing expat (2.5.0-r0)\n(35/37) Installing pcre2 (10.40-r0)\n(36/37) Installing git (2.34.5-r0)\n(37/37) Installing alpine-sdk (1.0-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 212 MiB in 52 packages\nRemoving intermediate container ed8726579262\n ---> f257f7450221\nStep 3/13 : WORKDIR /go/src/github.com/grepplabs/kafka-proxy\n ---> Running in be29d2268fe9\nRemoving intermediate container be29d2268fe9\n ---> 01508cdcb405\nStep 4/13 : COPY . .\n ---> 18f067b90d9f\nStep 5/13 : ARG MAKE_TARGET=build\n ---> Running in 466b6da94952\nRemoving intermediate container 466b6da94952\n ---> bf6d6b3982d2\nStep 6/13 : ARG GOOS=linux\n ---> Running in 15d1c4d0775f\nRemoving intermediate container 15d1c4d0775f\n ---> 13a2d17a579a\nStep 7/13 : ARG GOARCH=amd64\n ---> Running in c16534b35dd1\nRemoving intermediate container c16534b35dd1\n ---> 765a432d3196\nStep 8/13 : RUN make -e GOARCH=${GOARCH} -e GOOS=${GOOS} clean ${MAKE_TARGET}\n ---> Running in b63e3c116049\nrm -rf /go/src/github.com/grepplabs/kafka-proxy/build\nGOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o build/kafka-proxy  -ldflags \"-X github.com/grepplabs/kafka-proxy/config.Version=v0.3.3-dirty -w -s\" .\nRemoving intermediate container b63e3c116049\n ---> 670efbb18095\nStep 9/13 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 10/13 : RUN apk add --no-cache ca-certificates\n ---> Running in 5d951c61ddd7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 5d951c61ddd7\n ---> f656e4f3c335\nStep 11/13 : COPY --from=builder /go/src/github.com/grepplabs/kafka-proxy/build /opt/kafka-proxy/bin\n ---> 877d929baf9e\nStep 12/13 : ENTRYPOINT [\"/opt/kafka-proxy/bin/kafka-proxy\"]\n ---> Running in e1e841731efd\nRemoving intermediate container e1e841731efd\n ---> 713866c89f3a\nStep 13/13 : CMD [\"--help\"]\n ---> Running in 9ade9e4b634a\nRemoving intermediate container 9ade9e4b634a\n ---> 0ca69c207067\nSuccessfully built 0ca69c207067\nSuccessfully tagged kafka-proxy:latest\n","stderr":"","imageSize":20710270},"endTime":1672428585900}