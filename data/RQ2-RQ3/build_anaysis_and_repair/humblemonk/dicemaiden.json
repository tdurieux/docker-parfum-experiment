{"repository":"https://github.com/humblemonk/dicemaiden","dockerfilePath":"Dockerfile","startTime":1672114258727,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/humblemonk/dicemaiden'...\n","error":null,"commit":"bab5188e53a9777ea33b5132fe567a00fdf55ba2"},"originalBuild":{"startTimestamp":1672114259477,"endTimestamp":1672114341143,"error":null,"stdout":"Sending build context to Docker daemon  209.4kB\r\r\nStep 1/8 : FROM ruby:2.7.2-alpine3.12\n2.7.2-alpine3.12: Pulling from library/ruby\n532819f3e44c: Pulling fs layer\nbcb3b1224bcf: Pulling fs layer\n44fc91c228aa: Pulling fs layer\nba5a42688977: Pulling fs layer\n3e8aaa826c34: Pulling fs layer\nba5a42688977: Waiting\n3e8aaa826c34: Waiting\n532819f3e44c: Verifying Checksum\n532819f3e44c: Download complete\n44fc91c228aa: Verifying Checksum\n44fc91c228aa: Download complete\n532819f3e44c: Pull complete\nbcb3b1224bcf: Verifying Checksum\nbcb3b1224bcf: Download complete\n3e8aaa826c34: Verifying Checksum\n3e8aaa826c34: Download complete\nbcb3b1224bcf: Pull complete\nba5a42688977: Download complete\n44fc91c228aa: Pull complete\nba5a42688977: Pull complete\n3e8aaa826c34: Pull complete\nDigest: sha256:0927b389edc7ac00800902b921d52eb1f7b3bc38b19f1c5ee03aef337444981c\nStatus: Downloaded newer image for ruby:2.7.2-alpine3.12\n ---> 54ceb2bacf4a\nStep 2/8 : COPY . /opt/dicemaiden\n ---> ca25ef8a2ee3\nStep 3/8 : WORKDIR /opt/dicemaiden\n ---> Running in 314df32782eb\nRemoving intermediate container 314df32782eb\n ---> e30222500ae5\nStep 4/8 : RUN apk update\n ---> Running in dd2f0a651797\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://dl-cdn.alpinelinux.org/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://dl-cdn.alpinelinux.org/alpine/v3.12/community]\nOK: 12779 distinct packages available\nRemoving intermediate container dd2f0a651797\n ---> 590c4cd192fa\nStep 5/8 : RUN apk add --no-cache curl wget bash git ruby ruby-bundler sqlite-dev\n ---> Running in b5d15feedcec\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(2/17) Installing nghttp2-libs (1.41.0-r0)\n(3/17) Installing libcurl (7.79.1-r1)\n(4/17) Installing curl (7.79.1-r1)\n(5/17) Installing expat (2.2.10-r4)\n(6/17) Installing pcre2 (10.35-r0)\n(7/17) Installing git (2.26.3-r1)\n(8/17) Installing ruby-libs (2.7.6-r0)\n(9/17) Installing ruby (2.7.6-r0)\n(10/17) Installing ruby-etc (2.7.6-r0)\n(11/17) Installing ruby-io-console (2.7.6-r0)\n(12/17) Installing ruby-bundler (2.1.4-r1)\n(13/17) Installing sqlite-libs (3.32.1-r1)\n(14/17) Installing sqlite-dev (3.32.1-r1)\n(15/17) Installing libunistring (0.9.10-r0)\n(16/17) Installing libidn2 (2.3.0-r0)\n(17/17) Installing wget (1.20.3-r1)\nExecuting busybox-1.31.1-r20.trigger\nOK: 56 MiB in 53 packages\nRemoving intermediate container b5d15feedcec\n ---> 3b183d75885a\nStep 6/8 : RUN apk add --virtual build-dependencies build-base\n ---> Running in 403650b1a538\n(1/18) Installing binutils (2.34-r2)\n(2/18) Installing libmagic (5.38-r0)\n(3/18) Installing file (5.38-r0)\n(4/18) Installing isl (0.18-r0)\n(5/18) Installing libgomp (9.3.0-r2)\n(6/18) Installing libatomic (9.3.0-r2)\n(7/18) Installing libgphobos (9.3.0-r2)\n(8/18) Installing mpfr4 (4.0.2-r4)\n(9/18) Installing mpc1 (1.1.0-r1)\n(10/18) Installing gcc (9.3.0-r2)\n(11/18) Installing musl-dev (1.1.24-r10)\n(12/18) Installing libc-dev (0.7.2-r3)\n(13/18) Installing g++ (9.3.0-r2)\n(14/18) Installing make (4.3-r0)\n(15/18) Installing fortify-headers (1.1-r0)\n(16/18) Installing patch (2.7.6-r7)\n(17/18) Installing build-base (0.5-r2)\n(18/18) Installing build-dependencies (20221227.041115)\nExecuting busybox-1.31.1-r20.trigger\nOK: 254 MiB in 71 packages\nRemoving intermediate container 403650b1a538\n ---> a0c938c9e7ae\nStep 7/8 : RUN bundle install\n ---> Running in 6f5076ee11ca\nFetching https://github.com/Humblemonk/Dice-Bag.git\nFetching https://github.com/shardlab/discordrb.git\nFetching gem metadata from https://rubygems.org/.........\nFetching gem metadata from https://rubygems.org/...........\nFetching gem metadata from https://rubygems.org/...........\nResolving dependencies...\nFetching ast 2.4.2\nInstalling ast 2.4.2\nUsing bundler 2.1.4\nFetching parslet 1.8.2\nInstalling parslet 1.8.2\nUsing dicebag 3.3.0 from https://github.com/Humblemonk/Dice-Bag.git (at master@808d7d4)\nFetching http-accept 1.7.0\nInstalling http-accept 1.7.0\nFetching unf_ext 0.0.8.2\nInstalling unf_ext 0.0.8.2 with native extensions\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching http-cookie 1.0.5\nInstalling http-cookie 1.0.5\nFetching mime-types-data 3.2022.0105\nInstalling mime-types-data 3.2022.0105\nFetching mime-types 3.4.1\nInstalling mime-types 3.4.1\nFetching netrc 0.11.0\nInstalling netrc 0.11.0\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nUsing discordrb-webhooks 3.4.2 from https://github.com/shardlab/discordrb.git (at main@413cd09)\nFetching ffi 1.15.5\nInstalling ffi 1.15.5 with native extensions\nFetching opus-ruby 1.0.1\nInstalling opus-ruby 1.0.1\nFetching event_emitter 0.2.6\nInstalling event_emitter 0.2.6\nFetching websocket 1.2.9\nInstalling websocket 1.2.9\nFetching websocket-client-simple 0.6.0\nInstalling websocket-client-simple 0.6.0\nUsing discordrb 3.4.2 from https://github.com/shardlab/discordrb.git (at main@413cd09)\nFetching dotenv 2.8.1\nInstalling dotenv 2.8.1\nFetching json 2.6.3\nInstalling json 2.6.3 with native extensions\nFetching mini_portile2 2.8.1\nInstalling mini_portile2 2.8.1\nFetching parallel 1.22.1\nInstalling parallel 1.22.1\nFetching parser 3.1.3.0\nInstalling parser 3.1.3.0\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nFetching regexp_parser 2.6.1\nInstalling regexp_parser 2.6.1\nFetching rexml 3.2.5\nInstalling rexml 3.2.5\nFetching rubocop-ast 1.24.0\nInstalling rubocop-ast 1.24.0\nFetching ruby-progressbar 1.11.0\nInstalling ruby-progressbar 1.11.0\nFetching unicode-display_width 2.3.0\nInstalling unicode-display_width 2.3.0\nFetching rubocop 1.41.1\nInstalling rubocop 1.41.1\nFetching sqlite3 1.5.4 (x86_64-linux)\nInstalling sqlite3 1.5.4 (x86_64-linux)\nBundle complete! 6 Gemfile dependencies, 33 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nPost-install message from websocket-client-simple:\nThe development of this gem has moved to https://github.com/ruby-jp/websocket-client-simple.\nRemoving intermediate container 6f5076ee11ca\n ---> ef9ac13ac8ca\nStep 8/8 : CMD bundle exec ruby dice_maiden.rb 0 lite\n ---> Running in 16856cf7aae9\nRemoving intermediate container 16856cf7aae9\n ---> 289ad1aaf86c\nSuccessfully built 289ad1aaf86c\nSuccessfully tagged dicemaiden:latest\n","stderr":"","imageSize":375414439},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":51}}],"repairedDockerfile":"FROM ruby:2.7.2-alpine3.12\n\nCOPY . /opt/dicemaiden\nWORKDIR /opt/dicemaiden\n\nRUN apk update\nRUN apk add --no-cache curl wget bash git ruby ruby-bundler sqlite-dev\nRUN apk add --no-cache --virtual build-dependencies build-base\n\nRUN bundle install\n\nCMD bundle exec ruby dice_maiden.rb 0 lite\n"},"repairedBuild":{"startTimestamp":1672114341732,"endTimestamp":1672114421584,"error":null,"stdout":"Sending build context to Docker daemon  209.4kB\r\r\nStep 1/8 : FROM ruby:2.7.2-alpine3.12\n ---> 54ceb2bacf4a\nStep 2/8 : COPY . /opt/dicemaiden\n ---> 3b51346f5802\nStep 3/8 : WORKDIR /opt/dicemaiden\n ---> Running in 4c1a07014c12\nRemoving intermediate container 4c1a07014c12\n ---> 98fc76b9d1cd\nStep 4/8 : RUN apk update\n ---> Running in 1e84385f4fd8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://dl-cdn.alpinelinux.org/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://dl-cdn.alpinelinux.org/alpine/v3.12/community]\nOK: 12779 distinct packages available\nRemoving intermediate container 1e84385f4fd8\n ---> 79afa98d4063\nStep 5/8 : RUN apk add --no-cache curl wget bash git ruby ruby-bundler sqlite-dev\n ---> Running in cd109d8b72d5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(2/17) Installing nghttp2-libs (1.41.0-r0)\n(3/17) Installing libcurl (7.79.1-r1)\n(4/17) Installing curl (7.79.1-r1)\n(5/17) Installing expat (2.2.10-r4)\n(6/17) Installing pcre2 (10.35-r0)\n(7/17) Installing git (2.26.3-r1)\n(8/17) Installing ruby-libs (2.7.6-r0)\n(9/17) Installing ruby (2.7.6-r0)\n(10/17) Installing ruby-etc (2.7.6-r0)\n(11/17) Installing ruby-io-console (2.7.6-r0)\n(12/17) Installing ruby-bundler (2.1.4-r1)\n(13/17) Installing sqlite-libs (3.32.1-r1)\n(14/17) Installing sqlite-dev (3.32.1-r1)\n(15/17) Installing libunistring (0.9.10-r0)\n(16/17) Installing libidn2 (2.3.0-r0)\n(17/17) Installing wget (1.20.3-r1)\nExecuting busybox-1.31.1-r20.trigger\nOK: 56 MiB in 53 packages\nRemoving intermediate container cd109d8b72d5\n ---> d9c546d8fc20\nStep 6/8 : RUN apk add --no-cache --virtual build-dependencies build-base\n ---> Running in 0f668cac7c1e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing binutils (2.34-r2)\n(2/18) Installing libmagic (5.38-r0)\n(3/18) Installing file (5.38-r0)\n(4/18) Installing isl (0.18-r0)\n(5/18) Installing libgomp (9.3.0-r2)\n(6/18) Installing libatomic (9.3.0-r2)\n(7/18) Installing libgphobos (9.3.0-r2)\n(8/18) Installing mpfr4 (4.0.2-r4)\n(9/18) Installing mpc1 (1.1.0-r1)\n(10/18) Installing gcc (9.3.0-r2)\n(11/18) Installing musl-dev (1.1.24-r10)\n(12/18) Installing libc-dev (0.7.2-r3)\n(13/18) Installing g++ (9.3.0-r2)\n(14/18) Installing make (4.3-r0)\n(15/18) Installing fortify-headers (1.1-r0)\n(16/18) Installing patch (2.7.6-r7)\n(17/18) Installing build-base (0.5-r2)\n(18/18) Installing build-dependencies (20221227.041234)\nExecuting busybox-1.31.1-r20.trigger\nOK: 254 MiB in 71 packages\nRemoving intermediate container 0f668cac7c1e\n ---> 55cfcd770e05\nStep 7/8 : RUN bundle install\n ---> Running in 613d1ed4a3a4\nFetching https://github.com/Humblemonk/Dice-Bag.git\nFetching https://github.com/shardlab/discordrb.git\nFetching gem metadata from https://rubygems.org/.........\nFetching gem metadata from https://rubygems.org/...........\nFetching gem metadata from https://rubygems.org/...........\nResolving dependencies...\nFetching ast 2.4.2\nInstalling ast 2.4.2\nUsing bundler 2.1.4\nFetching parslet 1.8.2\nInstalling parslet 1.8.2\nUsing dicebag 3.3.0 from https://github.com/Humblemonk/Dice-Bag.git (at master@808d7d4)\nFetching http-accept 1.7.0\nInstalling http-accept 1.7.0\nFetching unf_ext 0.0.8.2\nInstalling unf_ext 0.0.8.2 with native extensions\nFetching unf 0.1.4\nInstalling unf 0.1.4\nFetching domain_name 0.5.20190701\nInstalling domain_name 0.5.20190701\nFetching http-cookie 1.0.5\nInstalling http-cookie 1.0.5\nFetching mime-types-data 3.2022.0105\nInstalling mime-types-data 3.2022.0105\nFetching mime-types 3.4.1\nInstalling mime-types 3.4.1\nFetching netrc 0.11.0\nInstalling netrc 0.11.0\nFetching rest-client 2.1.0\nInstalling rest-client 2.1.0\nUsing discordrb-webhooks 3.4.2 from https://github.com/shardlab/discordrb.git (at main@413cd09)\nFetching ffi 1.15.5\nInstalling ffi 1.15.5 with native extensions\nFetching opus-ruby 1.0.1\nInstalling opus-ruby 1.0.1\nFetching event_emitter 0.2.6\nInstalling event_emitter 0.2.6\nFetching websocket 1.2.9\nInstalling websocket 1.2.9\nFetching websocket-client-simple 0.6.0\nInstalling websocket-client-simple 0.6.0\nUsing discordrb 3.4.2 from https://github.com/shardlab/discordrb.git (at main@413cd09)\nFetching dotenv 2.8.1\nInstalling dotenv 2.8.1\nFetching json 2.6.3\nInstalling json 2.6.3 with native extensions\nFetching mini_portile2 2.8.1\nInstalling mini_portile2 2.8.1\nFetching parallel 1.22.1\nInstalling parallel 1.22.1\nFetching parser 3.1.3.0\nInstalling parser 3.1.3.0\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nFetching regexp_parser 2.6.1\nInstalling regexp_parser 2.6.1\nFetching rexml 3.2.5\nInstalling rexml 3.2.5\nFetching rubocop-ast 1.24.0\nInstalling rubocop-ast 1.24.0\nFetching ruby-progressbar 1.11.0\nInstalling ruby-progressbar 1.11.0\nFetching unicode-display_width 2.3.0\nInstalling unicode-display_width 2.3.0\nFetching rubocop 1.41.1\nInstalling rubocop 1.41.1\nFetching sqlite3 1.5.4 (x86_64-linux)\nInstalling sqlite3 1.5.4 (x86_64-linux)\nBundle complete! 6 Gemfile dependencies, 33 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nPost-install message from websocket-client-simple:\nThe development of this gem has moved to https://github.com/ruby-jp/websocket-client-simple.\nRemoving intermediate container 613d1ed4a3a4\n ---> aa0fb0eb8314\nStep 8/8 : CMD bundle exec ruby dice_maiden.rb 0 lite\n ---> Running in c302cb2bb528\nRemoving intermediate container c302cb2bb528\n ---> 627054445b5b\nSuccessfully built 627054445b5b\nSuccessfully tagged dicemaiden:latest\n","stderr":"","imageSize":375418035},"endTime":1672114422062}