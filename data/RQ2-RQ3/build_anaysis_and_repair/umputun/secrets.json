{"repository":"https://github.com/umputun/secrets","dockerfilePath":"Dockerfile","startTime":1673007512769,"endTime":1673008588609,"clone":{"startTime":1673007512770,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/umputun/secrets'...\n","error":null,"endTime":1673007513926,"commit":"699101256de7b28e13feaec4ef2af25a9e535149"},"originalBuild":{"startTime":1673007514006,"endTime":1673008189987,"error":null,"stdout":"Sending build context to Docker daemon  12.34MB\r\r\nStep 1/26 : ARG TZ=America/Chicago\nStep 2/26 : FROM umputun/baseimage:buildgo-latest as build-backend\nbuildgo-latest: Pulling from umputun/baseimage\n213ec9aee27d: Already exists\n5299e6f78605: Pulling fs layer\n1cab0e43db0a: Pulling fs layer\nbd6d81b0672f: Pulling fs layer\n4277b443bd1a: Pulling fs layer\n4ec43e4bfd5d: Pulling fs layer\n73e6b6b38ce4: Pulling fs layer\ne6d7276b987d: Pulling fs layer\nd196d1e55344: Pulling fs layer\n1239d2193583: Pulling fs layer\nae26a5b4fee5: Pulling fs layer\n818e7da4869d: Pulling fs layer\n68ba81f095db: Pulling fs layer\nd37b883ecad4: Pulling fs layer\n6b8b2b16ddb8: Pulling fs layer\n4277b443bd1a: Waiting\n4ec43e4bfd5d: Waiting\n73e6b6b38ce4: Waiting\ne6d7276b987d: Waiting\nd196d1e55344: Waiting\n1239d2193583: Waiting\nae26a5b4fee5: Waiting\n818e7da4869d: Waiting\n68ba81f095db: Waiting\nd37b883ecad4: Waiting\n6b8b2b16ddb8: Waiting\n5299e6f78605: Download complete\n5299e6f78605: Pull complete\n4277b443bd1a: Verifying Checksum\n4277b443bd1a: Download complete\n4ec43e4bfd5d: Verifying Checksum\n4ec43e4bfd5d: Download complete\n73e6b6b38ce4: Verifying Checksum\n73e6b6b38ce4: Download complete\nbd6d81b0672f: Verifying Checksum\nbd6d81b0672f: Download complete\nd196d1e55344: Verifying Checksum\nd196d1e55344: Download complete\n1239d2193583: Verifying Checksum\n1239d2193583: Download complete\ne6d7276b987d: Verifying Checksum\ne6d7276b987d: Download complete\n818e7da4869d: Verifying Checksum\n818e7da4869d: Download complete\n68ba81f095db: Verifying Checksum\n68ba81f095db: Download complete\nd37b883ecad4: Verifying Checksum\nd37b883ecad4: Download complete\n6b8b2b16ddb8: Verifying Checksum\n6b8b2b16ddb8: Download complete\n1cab0e43db0a: Download complete\n1cab0e43db0a: Pull complete\nae26a5b4fee5: Verifying Checksum\nae26a5b4fee5: Download complete\nbd6d81b0672f: Pull complete\n4277b443bd1a: Pull complete\n4ec43e4bfd5d: Pull complete\n73e6b6b38ce4: Pull complete\ne6d7276b987d: Pull complete\nd196d1e55344: Pull complete\n1239d2193583: Pull complete\nae26a5b4fee5: Pull complete\n818e7da4869d: Pull complete\n68ba81f095db: Pull complete\nd37b883ecad4: Pull complete\n6b8b2b16ddb8: Pull complete\nDigest: sha256:686891300884102e0eda7fe1e542e15ca32211969b7fc269671820f9c51ae8ed\nStatus: Downloaded newer image for umputun/baseimage:buildgo-latest\n ---> a4a1c99c733f\nStep 3/26 : ARG CI\n ---> Running in 16e6fdddb3a3\nRemoving intermediate container 16e6fdddb3a3\n ---> eefb13391ed7\nStep 4/26 : ARG GIT_BRANCH\n ---> Running in dbfe0067f21b\nRemoving intermediate container dbfe0067f21b\n ---> 80505b3f5ba7\nStep 5/26 : ARG SKIP_TEST\n ---> Running in 3f9fb257af40\nRemoving intermediate container 3f9fb257af40\n ---> e3d8f3ffc2fa\nStep 6/26 : ENV GOFLAGS=\"-mod=vendor\"\n ---> Running in 3ad60a8e8460\nRemoving intermediate container 3ad60a8e8460\n ---> ae6c1834cc15\nStep 7/26 : ADD backend /build/secrets\n ---> e3cd8a7658ce\nStep 8/26 : ADD .git /build/secrets/.git\n ---> 721a2e978828\nStep 9/26 : WORKDIR /build/secrets\n ---> Running in 661979820cd1\nRemoving intermediate container 661979820cd1\n ---> 21d50c987c52\nStep 10/26 : RUN     if [ -z \"$SKIP_TEST\" ] ; then     go test -timeout=30s  ./... &&     golangci-lint run ;     else echo \"skip tests and linter\" ; fi\n ---> Running in e7629f4a288a\n?   \tgithub.com/umputun/secrets/backend/app\t[no test files]\nok  \tgithub.com/umputun/secrets/backend/app/messager\t0.080s\nok  \tgithub.com/umputun/secrets/backend/app/server\t1.591s\nok  \tgithub.com/umputun/secrets/backend/app/store\t2.945s\nRemoving intermediate container e7629f4a288a\n ---> e87f7624a5b1\nStep 11/26 : RUN     if [ -z \"$CI\" ] ; then     echo \"runs outside of CI\" && version=$(/script/git-rev.sh);     else version=${GIT_BRANCH}-${GITHUB_SHA:0:7}-$(date +%Y%m%dT%H:%M:%S); fi &&     echo \"version=$version\" &&     go build -o secrets -ldflags \"-X main.revision=${version} -s -w\" ./app\n ---> Running in 34c697e80b56\nruns outside of CI\nversion=master-6991012-20230106T06:18:33\nRemoving intermediate container 34c697e80b56\n ---> dbf67a47e12c\nStep 12/26 : FROM node:10.19.0-alpine3.11 as build-frontend\n10.19.0-alpine3.11: Pulling from library/node\naad63a933944: Pulling fs layer\n17551d40f9c7: Pulling fs layer\n1d4f35a66b6c: Pulling fs layer\nd4192b8fc2e1: Pulling fs layer\nd4192b8fc2e1: Waiting\naad63a933944: Verifying Checksum\naad63a933944: Download complete\n1d4f35a66b6c: Verifying Checksum\n1d4f35a66b6c: Download complete\n17551d40f9c7: Verifying Checksum\n17551d40f9c7: Download complete\nd4192b8fc2e1: Verifying Checksum\nd4192b8fc2e1: Download complete\naad63a933944: Pull complete\n17551d40f9c7: Pull complete\n1d4f35a66b6c: Pull complete\nd4192b8fc2e1: Pull complete\nDigest: sha256:9a88e3bc3f845b74d2fd8adcbc64608736a8be4a3e9dc7aa34fa743e3677a552\nStatus: Downloaded newer image for node:10.19.0-alpine3.11\n ---> 34a10d47f150\nStep 13/26 : WORKDIR /srv/frontend/\n ---> Running in 1a230c3a9ae5\nRemoving intermediate container 1a230c3a9ae5\n ---> f7a9cbcd3303\nStep 14/26 : RUN apk add --no-cache --update git python make g++\n ---> Running in 3c42bb8eaf80\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/28) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/28) Upgrading libstdc++ (9.2.0-r4 -> 9.3.0-r0)\n(3/28) Installing binutils (2.33.1-r1)\n(4/28) Installing gmp (6.1.2-r1)\n(5/28) Installing isl (0.18-r0)\n(6/28) Installing libgomp (9.3.0-r0)\n(7/28) Installing libatomic (9.3.0-r0)\n(8/28) Installing mpfr4 (4.0.2-r1)\n(9/28) Installing mpc1 (1.1.0-r1)\n(10/28) Installing gcc (9.3.0-r0)\n(11/28) Installing musl-dev (1.1.24-r3)\n(12/28) Installing libc-dev (0.7.2-r0)\n(13/28) Installing g++ (9.3.0-r0)\n(14/28) Installing ca-certificates (20191127-r2)\n(15/28) Installing nghttp2-libs (1.40.0-r1)\n(16/28) Installing libcurl (7.79.1-r0)\n(17/28) Installing expat (2.2.9-r1)\n(18/28) Installing pcre2 (10.34-r1)\n(19/28) Installing git (2.24.4-r0)\n(20/28) Installing make (4.2.1-r2)\n(21/28) Installing libbz2 (1.0.8-r1)\n(22/28) Installing libffi (3.2.1-r6)\n(23/28) Installing gdbm (1.13-r1)\n(24/28) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(25/28) Installing ncurses-libs (6.1_p20200118-r4)\n(26/28) Installing readline (8.0.1-r0)\n(27/28) Installing sqlite-libs (3.30.1-r2)\n(28/28) Installing python2 (2.7.18-r0)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 228 MiB in 42 packages\nRemoving intermediate container 3c42bb8eaf80\n ---> ffe50e8f0531\nStep 15/26 : COPY ./frontend/package.json ./frontend/package-lock.json ./\n ---> 4755e924b6a1\nStep 16/26 : RUN npm install\n ---> Running in b0894426ffdd\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> node-sass@4.14.1 install /srv/frontend/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.14.1/linux_musl-x64-64_binding.node\nDownload complete\nBinary saved to /srv/frontend/node_modules/node-sass/vendor/linux_musl-x64-64/binding.node\nCaching binary to /root/.npm/node-sass/4.14.1/linux_musl-x64-64_binding.node\n\n> fibers@4.0.2 install /srv/frontend/node_modules/fibers\n> node build.js || nodejs build.js\n\n`linux-x64-64-musl` exists; testing\nBinary is fine; exiting\n\n> node-sass@4.14.1 postinstall /srv/frontend/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /srv/frontend/node_modules/node-sass/vendor/linux_musl-x64-64/binding.node\nTesting binary\nBinary is fine\n\u001b[91mnpm WARN \u001b[0m\u001b[91moptional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/glob-watcher/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91moptional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 851 packages from 626 contributors and audited 856 packages in 12.617s\n\n16 packages are looking for funding\n  run `npm fund` for details\n\nfound 76 vulnerabilities (5 low, 19 moderate, 39 high, 13 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container b0894426ffdd\n ---> 62cf89af1c62\nStep 17/26 : COPY ./frontend /srv/frontend\n ---> 414faedc9482\nStep 18/26 : RUN npm run build\n ---> Running in 72412f286e29\n\n> secrets-ui@0.2.1 build /srv/frontend\n> gulp build\n\n[12:27:06] Using gulpfile /srv/frontend/gulpfile.js\n[12:27:06] Starting 'build'...\n[12:27:06] Starting 'build:html'...\n[12:27:06] Starting 'build:styles'...\n[12:27:06] Starting 'build:js'...\n[12:27:06] Starting 'build:files'...\n[12:27:06] Starting 'build:html:bemhtml'...\n[12:27:07] Finished 'build:js' after 727 ms\n[12:27:07] Finished 'build:html:bemhtml' after 734 ms\n[12:27:07] Starting 'build:html:bemjson'...\n[12:27:07] Finished 'build:files' after 752 ms\n[12:27:07] Finished 'build:html:bemjson' after 19 ms\n[12:27:07] Finished 'build:html' after 753 ms\n[12:27:07] Finished 'build:styles' after 1.02 s\n[12:27:07] Finished 'build' after 1.02 s\nRemoving intermediate container 72412f286e29\n ---> 58ab646ab6a6\nStep 19/26 : RUN npm prune --production\n ---> Running in a903652f81b9\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0mremoved 851 packages in 5.929s\nfound 0 vulnerabilities\n\nRemoving intermediate container a903652f81b9\n ---> 6e6bb8c1dd68\nStep 20/26 : FROM umputun/baseimage:app-latest\napp-latest: Pulling from umputun/baseimage\n213ec9aee27d: Already exists\n34cde50e53a6: Pulling fs layer\n54e45b7d5e98: Pulling fs layer\nbf72c2c50825: Pulling fs layer\n5a47ca6ecba7: Pulling fs layer\nada217a9f339: Pulling fs layer\n395f48e75144: Pulling fs layer\n395f48e75144: Waiting\n5a47ca6ecba7: Waiting\nada217a9f339: Waiting\n34cde50e53a6: Download complete\nbf72c2c50825: Verifying Checksum\nbf72c2c50825: Download complete\n54e45b7d5e98: Verifying Checksum\n54e45b7d5e98: Download complete\n34cde50e53a6: Pull complete\n54e45b7d5e98: Pull complete\nbf72c2c50825: Pull complete\nada217a9f339: Verifying Checksum\nada217a9f339: Download complete\n5a47ca6ecba7: Verifying Checksum\n5a47ca6ecba7: Download complete\n5a47ca6ecba7: Pull complete\n395f48e75144: Verifying Checksum\n395f48e75144: Download complete\nada217a9f339: Pull complete\n395f48e75144: Pull complete\nDigest: sha256:ce184e6fbc687c69400fc37661b2b33451aa29c0da5bf5c1f9b7b948ea4f730b\nStatus: Downloaded newer image for umputun/baseimage:app-latest\n ---> 8fd9bc672cbb\nStep 21/26 : COPY --from=build-backend /build/secrets/secrets /srv/secrets\n ---> 8bd034a08af4\nStep 22/26 : COPY --from=build-frontend /srv/frontend/public/ /srv/docroot\n ---> e2878384c5e8\nStep 23/26 : WORKDIR /srv\n ---> Running in ac134f6188d8\nRemoving intermediate container ac134f6188d8\n ---> 1b817e0d1d09\nStep 24/26 : EXPOSE 8080\n ---> Running in 12c3715d7852\nRemoving intermediate container 12c3715d7852\n ---> 2f4201154f91\nStep 25/26 : CMD [\"/srv/secrets\"]\n ---> Running in da0515d06bd5\nRemoving intermediate container da0515d06bd5\n ---> 7116965ff792\nStep 26/26 : ENTRYPOINT [\"/init.sh\"]\n ---> Running in 96ab94a6120f\nRemoving intermediate container 96ab94a6120f\n ---> 8ce93285d959\nSuccessfully built 8ce93285d959\nSuccessfully tagged secrets:latest\n","stderr":"","imageSize":27967460},"repair":{"startTime":1673008190047,"endTime":1673008190197,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":34,"end":34,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"ARG TZ=America/Chicago\n\nFROM umputun/baseimage:buildgo-latest as build-backend\n\nARG CI\nARG GIT_BRANCH\nARG SKIP_TEST\n\nENV GOFLAGS=\"-mod=vendor\"\n\nADD backend /build/secrets\nADD .git /build/secrets/.git\nWORKDIR /build/secrets\n\n# run tests and linters\nRUN \\\n    if [ -z \"$SKIP_TEST\" ] ; then \\\n    go test -timeout=30s  ./... && \\\n    golangci-lint run ; \\\n    else echo \"skip tests and linter\" ; fi\n\nRUN \\\n    if [ -z \"$CI\" ] ; then \\\n    echo \"runs outside of CI\" && version=$(/script/git-rev.sh); \\\n    else version=${GIT_BRANCH}-${GITHUB_SHA:0:7}-$(date +%Y%m%dT%H:%M:%S); fi && \\\n    echo \"version=$version\" && \\\n    go build -o secrets -ldflags \"-X main.revision=${version} -s -w\" ./app\n\n\nFROM node:10.19.0-alpine3.11 as build-frontend\nWORKDIR /srv/frontend/\n\nRUN apk add --no-cache --update git python make g++\nCOPY ./frontend/package.json ./frontend/package-lock.json ./\nRUN npm install && npm cache clean --force;\n\nCOPY ./frontend /srv/frontend\nRUN npm run build\nRUN npm prune --production\n\nFROM umputun/baseimage:app-latest\n\nCOPY --from=build-backend /build/secrets/secrets /srv/secrets\nCOPY --from=build-frontend /srv/frontend/public/ /srv/docroot\n\nWORKDIR /srv\nEXPOSE 8080\n\n\nCMD [\"/srv/secrets\"]\nENTRYPOINT [\"/init.sh\"]\n"},"repairedBuild":{"startTime":1673008191676,"endTime":1673008588343,"error":null,"stdout":"Sending build context to Docker daemon  12.34MB\r\r\nStep 1/26 : ARG TZ=America/Chicago\nStep 2/26 : FROM umputun/baseimage:buildgo-latest as build-backend\n ---> a4a1c99c733f\nStep 3/26 : ARG CI\n ---> Running in b75276dbb7ed\nRemoving intermediate container b75276dbb7ed\n ---> 26ff1d9d3031\nStep 4/26 : ARG GIT_BRANCH\n ---> Running in e6c54eb04ffc\nRemoving intermediate container e6c54eb04ffc\n ---> 147d81e252b5\nStep 5/26 : ARG SKIP_TEST\n ---> Running in fad3bd85a21d\nRemoving intermediate container fad3bd85a21d\n ---> 903f66187c29\nStep 6/26 : ENV GOFLAGS=\"-mod=vendor\"\n ---> Running in 913f2adfb740\nRemoving intermediate container 913f2adfb740\n ---> 530286f81ca3\nStep 7/26 : ADD backend /build/secrets\n ---> 8a9795456020\nStep 8/26 : ADD .git /build/secrets/.git\n ---> 98e9c5dbfea1\nStep 9/26 : WORKDIR /build/secrets\n ---> Running in d98d6c53bec0\nRemoving intermediate container d98d6c53bec0\n ---> 9d031643bd21\nStep 10/26 : RUN     if [ -z \"$SKIP_TEST\" ] ; then     go test -timeout=30s  ./... &&     golangci-lint run ;     else echo \"skip tests and linter\" ; fi\n ---> Running in d0540bcb8d28\n?   \tgithub.com/umputun/secrets/backend/app\t[no test files]\nok  \tgithub.com/umputun/secrets/backend/app/messager\t0.083s\nok  \tgithub.com/umputun/secrets/backend/app/server\t2.625s\nok  \tgithub.com/umputun/secrets/backend/app/store\t4.351s\nRemoving intermediate container d0540bcb8d28\n ---> d275d3a5d44d\nStep 11/26 : RUN     if [ -z \"$CI\" ] ; then     echo \"runs outside of CI\" && version=$(/script/git-rev.sh);     else version=${GIT_BRANCH}-${GITHUB_SHA:0:7}-$(date +%Y%m%dT%H:%M:%S); fi &&     echo \"version=$version\" &&     go build -o secrets -ldflags \"-X main.revision=${version} -s -w\" ./app\n ---> Running in 5f752c3d046d\nruns outside of CI\nversion=master-6991012-20230106T06:18:33\nRemoving intermediate container 5f752c3d046d\n ---> 258dbe8eb4e7\nStep 12/26 : FROM node:10.19.0-alpine3.11 as build-frontend\n ---> 34a10d47f150\nStep 13/26 : WORKDIR /srv/frontend/\n ---> Running in 1aea4957d1f9\nRemoving intermediate container 1aea4957d1f9\n ---> d19ba0ad4693\nStep 14/26 : RUN apk add --no-cache --update git python make g++\n ---> Running in 237d56eff812\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/28) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/28) Upgrading libstdc++ (9.2.0-r4 -> 9.3.0-r0)\n(3/28) Installing binutils (2.33.1-r1)\n(4/28) Installing gmp (6.1.2-r1)\n(5/28) Installing isl (0.18-r0)\n(6/28) Installing libgomp (9.3.0-r0)\n(7/28) Installing libatomic (9.3.0-r0)\n(8/28) Installing mpfr4 (4.0.2-r1)\n(9/28) Installing mpc1 (1.1.0-r1)\n(10/28) Installing gcc (9.3.0-r0)\n(11/28) Installing musl-dev (1.1.24-r3)\n(12/28) Installing libc-dev (0.7.2-r0)\n(13/28) Installing g++ (9.3.0-r0)\n(14/28) Installing ca-certificates (20191127-r2)\n(15/28) Installing nghttp2-libs (1.40.0-r1)\n(16/28) Installing libcurl (7.79.1-r0)\n(17/28) Installing expat (2.2.9-r1)\n(18/28) Installing pcre2 (10.34-r1)\n(19/28) Installing git (2.24.4-r0)\n(20/28) Installing make (4.2.1-r2)\n(21/28) Installing libbz2 (1.0.8-r1)\n(22/28) Installing libffi (3.2.1-r6)\n(23/28) Installing gdbm (1.13-r1)\n(24/28) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(25/28) Installing ncurses-libs (6.1_p20200118-r4)\n(26/28) Installing readline (8.0.1-r0)\n(27/28) Installing sqlite-libs (3.30.1-r2)\n(28/28) Installing python2 (2.7.18-r0)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 228 MiB in 42 packages\nRemoving intermediate container 237d56eff812\n ---> 97ced5500f55\nStep 15/26 : COPY ./frontend/package.json ./frontend/package-lock.json ./\n ---> 461192483e83\nStep 16/26 : RUN npm install && npm cache clean --force;\n ---> Running in a51b40840af9\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mread-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> node-sass@4.14.1 install /srv/frontend/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.14.1/linux_musl-x64-64_binding.node\nDownload complete\nBinary saved to /srv/frontend/node_modules/node-sass/vendor/linux_musl-x64-64/binding.node\nCaching binary to /root/.npm/node-sass/4.14.1/linux_musl-x64-64_binding.node\n\n> fibers@4.0.2 install /srv/frontend/node_modules/fibers\n> node build.js || nodejs build.js\n\n`linux-x64-64-musl` exists; testing\nBinary is fine; exiting\n\n> node-sass@4.14.1 postinstall /srv/frontend/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /srv/frontend/node_modules/node-sass/vendor/linux_musl-x64-64/binding.node\nTesting binary\nBinary is fine\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/glob-watcher/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 851 packages from 626 contributors and audited 856 packages in 15.033s\n\n16 packages are looking for funding\n  run `npm fund` for details\n\nfound 76 vulnerabilities (5 low, 19 moderate, 39 high, 13 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91musing --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container a51b40840af9\n ---> ceac3aad2901\nStep 17/26 : COPY ./frontend /srv/frontend\n ---> c1098c85f8d2\nStep 18/26 : RUN npm run build\n ---> Running in 788ef323876a\n\n> secrets-ui@0.2.1 build /srv/frontend\n> gulp build\n\n[12:35:04] Using gulpfile /srv/frontend/gulpfile.js\n[12:35:04] Starting 'build'...\n[12:35:04] Starting 'build:html'...\n[12:35:04] Starting 'build:styles'...\n[12:35:04] Starting 'build:js'...\n[12:35:04] Starting 'build:files'...\n[12:35:04] Starting 'build:html:bemhtml'...\n[12:35:04] Finished 'build:js' after 682 ms\n[12:35:04] Finished 'build:html:bemhtml' after 687 ms\n[12:35:04] Starting 'build:html:bemjson'...\n[12:35:04] Finished 'build:files' after 707 ms\n[12:35:04] Finished 'build:html:bemjson' after 21 ms\n[12:35:04] Finished 'build:html' after 709 ms\n[12:35:05] Finished 'build:styles' after 930 ms\n[12:35:05] Finished 'build' after 932 ms\nRemoving intermediate container 788ef323876a\n ---> cd51b8511612\nStep 19/26 : RUN npm prune --production\n ---> Running in c098defda427\n\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mread-shrinkwrap\u001b[0m\u001b[91m This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0mremoved 851 packages in 8.292s\nfound 0 vulnerabilities\n\nRemoving intermediate container c098defda427\n ---> 81309341cabf\nStep 20/26 : FROM umputun/baseimage:app-latest\n ---> 8fd9bc672cbb\nStep 21/26 : COPY --from=build-backend /build/secrets/secrets /srv/secrets\n ---> 28d91e777ba0\nStep 22/26 : COPY --from=build-frontend /srv/frontend/public/ /srv/docroot\n ---> a1e1a1036f55\nStep 23/26 : WORKDIR /srv\n ---> Running in 0f0dce87d6d8\nRemoving intermediate container 0f0dce87d6d8\n ---> 27e200e8095d\nStep 24/26 : EXPOSE 8080\n ---> Running in e6ce95d38b9a\nRemoving intermediate container e6ce95d38b9a\n ---> 24ecdbbf7ac7\nStep 25/26 : CMD [\"/srv/secrets\"]\n ---> Running in 81f591c67aa8\nRemoving intermediate container 81f591c67aa8\n ---> 4123683195ea\nStep 26/26 : ENTRYPOINT [\"/init.sh\"]\n ---> Running in e6ea23443821\nRemoving intermediate container e6ea23443821\n ---> 9bc6878cde1d\nSuccessfully built 9bc6878cde1d\nSuccessfully tagged secrets:latest\n","stderr":"","imageSize":27967460}}