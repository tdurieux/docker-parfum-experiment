{"repository":"https://github.com/fiatjaf/satdress","dockerfilePath":"Dockerfile","startTime":1672502563678,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/fiatjaf/satdress'...\n","error":null,"commit":"e37ee82b9cb6ac53f050378c036358985cbdb7cc"},"originalBuild":{"startTimestamp":1672502564533,"endTimestamp":1672502687286,"error":null,"stdout":"Sending build context to Docker daemon  330.8kB\r\r\nStep 1/17 : FROM golang:1.16.0-alpine AS builder\n1.16.0-alpine: Pulling from library/golang\nba3557a56b15: Pulling fs layer\n448433d692de: Pulling fs layer\n7c2a3d42746f: Pulling fs layer\nc94fa40b84cd: Pulling fs layer\nb8044137faa0: Pulling fs layer\nc94fa40b84cd: Waiting\nb8044137faa0: Waiting\n7c2a3d42746f: Verifying Checksum\n7c2a3d42746f: Download complete\n448433d692de: Verifying Checksum\n448433d692de: Download complete\nba3557a56b15: Verifying Checksum\nba3557a56b15: Download complete\nb8044137faa0: Verifying Checksum\nb8044137faa0: Download complete\nba3557a56b15: Pull complete\n448433d692de: Pull complete\nc94fa40b84cd: Verifying Checksum\nc94fa40b84cd: Download complete\n7c2a3d42746f: Pull complete\nc94fa40b84cd: Pull complete\nb8044137faa0: Pull complete\nDigest: sha256:6c4d5e6ea7b6e3f28a2218424b011fcdfddcdd721f9693c9e2d2644c67a4b827\nStatus: Downloaded newer image for golang:1.16.0-alpine\n ---> 696265badec1\nStep 2/17 : WORKDIR /opt/buid\n ---> Running in d3937a3aae9c\nRemoving intermediate container d3937a3aae9c\n ---> 19b707623dc0\nStep 3/17 : COPY ./*.go ./*.html ./go.mod ./go.sum ./\n ---> 4f013e864e40\nStep 4/17 : COPY static ./static\n ---> c72be6eedd9e\nStep 5/17 : RUN apk add gcc musl-dev linux-headers\n ---> Running in e46bfbd6122a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/14) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/14) Installing libgcc (10.2.1_pre1-r3)\n(3/14) Installing libstdc++ (10.2.1_pre1-r3)\n(4/14) Installing binutils (2.35.2-r1)\n(5/14) Installing libgomp (10.2.1_pre1-r3)\n(6/14) Installing libatomic (10.2.1_pre1-r3)\n(7/14) Installing libgphobos (10.2.1_pre1-r3)\n(8/14) Installing gmp (6.2.1-r1)\n(9/14) Installing isl22 (0.22-r0)\n(10/14) Installing mpfr4 (4.1.0-r0)\n(11/14) Installing mpc1 (1.2.0-r0)\n(12/14) Installing gcc (10.2.1_pre1-r3)\n(13/14) Installing linux-headers (5.7.8-r0)\n(14/14) Installing musl-dev (1.2.2-r1)\nExecuting busybox-1.32.1-r3.trigger\nOK: 134 MiB in 28 packages\nRemoving intermediate container e46bfbd6122a\n ---> 2dff9d9de726\nStep 6/17 : RUN go get\n ---> Running in e34055eedd99\n\u001b[91mgo: downloading github.com/kelseyhightower/envconfig v1.4.0\ngo: downloading github.com/fiatjaf/makeinvoice v1.5.3\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/sjson v1.1.7\ngo: downloading github.com/cockroachdb/pebble v0.0.0-20210812144839-61318a019370\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.23.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.7.0\ngo: downloading github.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.3\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/go-lnurl v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/gjson v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcd v0.22.0-beta.0.20211005184431-e3449998be39\n\u001b[0m\u001b[91mgo: downloading github.com/lnpay/lnpay-go v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/eclair-go v0.2.1\ngo: downloading github.com/jb55/lnsocket/go v0.0.0-20220315220004-e1e6b88a0bfc\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/lightningd-gjson-rpc v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/match v1.0.3\ngo: downloading github.com/tidwall/pretty v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/imroc/req v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/ln-decodepay v1.0.0\ngo: downloading golang.org/x/crypto v0.0.0-20210921155107-089bfa567519\ngo: downloading github.com/lightningnetwork/lnd v0.14.1-beta\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/errors v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/redact v1.0.8\n\u001b[0m\u001b[91mgo: downloading golang.org/x/exp v0.0.0-20200513190911-00229845015e\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\ngo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91mgo: downloading github.com/DataDog/zstd v1.4.5\ngo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210915083310-ed5796bab164\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/kr/pretty v0.1.0\ngo: downloading github.com/cockroachdb/logtags v0.0.0-20190617123548-eb05cc24525f\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/sentry-go v0.6.1-cockroachdb.2\n\u001b[0m\u001b[91mgo: downloading github.com/kr/text v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210913180222-943fd674d43e\ngo: downloading github.com/btcsuite/btcwallet v0.13.0\ngo: downloading github.com/miekg/dns v1.1.43\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btclog v0.0.0-20170628155309-84c8d2346e9f\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcutil v1.0.3-0.20210527170813-e2ba6805a890\n\u001b[0m\u001b[91mgo: downloading github.com/go-errors/errors v1.0.1\ngo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcwallet/walletdb v1.3.6-0.20210803004036-eebed51155ec\n\u001b[0m\u001b[91mgo: downloading github.com/lightninglabs/neutrino v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcwallet/wtxmgr v1.3.1-0.20210822222949-9b5a201c344c\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcutil/psbt v1.0.3-0.20210527170813-e2ba6805a890\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcwallet/wallet/txsizes v1.1.0\ngo: downloading github.com/btcsuite/btcwallet/wallet/txauthor v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcwallet/wallet/txrules v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0m\u001b[91mgo: downloading github.com/lightninglabs/gozmq v0.0.0-20191113021534-d20a764486bf\n\u001b[0m\u001b[91mgo: downloading github.com/lightningnetwork/lnd/ticker v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/aead/siphash v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/kkdai/bstream v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/decred/dcrd/lru v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/go-socks v0.0.0-20170105172521-4720035b7bfd\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/websocket v0.0.0-20150119174127-31079b680792\n\u001b[0m\u001b[91mgo: downloading github.com/lightningnetwork/lnd/clock v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/lightningnetwork/lnd/queue v1.1.0\n\u001b[0mRemoving intermediate container e34055eedd99\n ---> 0c93f53997d0\nStep 7/17 : RUN go build\n ---> Running in 20f2bcbe823c\nRemoving intermediate container 20f2bcbe823c\n ---> 3e7c52b3c2ba\nStep 8/17 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 9/17 : ENV PORT=17422\n ---> Running in 0415cceed571\nRemoving intermediate container 0415cceed571\n ---> 9742eb902c3e\nStep 10/17 : ENV DOMAIN=satdress.com\n ---> Running in 54d932f5cbb4\nRemoving intermediate container 54d932f5cbb4\n ---> 6423a9966c18\nStep 11/17 : ENV SECRET=askdbasjdhvakjvsdjasd\n ---> Running in 4eb4fca2ef62\nRemoving intermediate container 4eb4fca2ef62\n ---> 0e7e2e5eedf5\nStep 12/17 : ENV SITE_OWNER_URL=https://t.me/fiatjaf\n ---> Running in 8d88e9b1908d\nRemoving intermediate container 8d88e9b1908d\n ---> 9019b0c06dc4\nStep 13/17 : ENV SITE_OWNER_NAME=@fiatjaf\n ---> Running in aa2cdfd2c1ae\nRemoving intermediate container aa2cdfd2c1ae\n ---> 127a86a4180d\nStep 14/17 : ENV SITE_NAME=Satdress\n ---> Running in 37beac19a226\nRemoving intermediate container 37beac19a226\n ---> 2813191e65de\nStep 15/17 : COPY --from=builder /opt/buid/satdress /usr/local/bin/\n ---> deeda30848e3\nStep 16/17 : EXPOSE 17422\n ---> Running in 21adfe558afc\nRemoving intermediate container 21adfe558afc\n ---> 2674cef2fb47\nStep 17/17 : CMD [\"satdress\"]\n ---> Running in 7601f13ee71e\nRemoving intermediate container 7601f13ee71e\n ---> 99f82fcd0dc3\nSuccessfully built 99f82fcd0dc3\nSuccessfully tagged satdress:latest\n","stderr":"","imageSize":27324176},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"FROM golang:1.16.0-alpine AS builder\n\nWORKDIR /opt/buid\n\nCOPY ./*.go ./*.html ./go.mod ./go.sum ./\nCOPY static ./static\n\nRUN apk add --no-cache gcc musl-dev linux-headers\nRUN go get\nRUN go build\n\nFROM alpine:3.14\n\nENV PORT=17422\nENV DOMAIN=satdress.com\nENV SECRET=askdbasjdhvakjvsdjasd\nENV SITE_OWNER_URL=https://t.me/fiatjaf\nENV SITE_OWNER_NAME=@fiatjaf\nENV SITE_NAME=Satdress\n\nCOPY --from=builder /opt/buid/satdress /usr/local/bin/\n\nEXPOSE 17422\n\nCMD [\"satdress\"]\n"},"repairedBuild":{"startTimestamp":1672502687568,"endTimestamp":1672502806767,"error":null,"stdout":"Sending build context to Docker daemon  330.8kB\r\r\nStep 1/17 : FROM golang:1.16.0-alpine AS builder\n ---> 696265badec1\nStep 2/17 : WORKDIR /opt/buid\n ---> Running in deff050e97b8\nRemoving intermediate container deff050e97b8\n ---> 77a5529931cc\nStep 3/17 : COPY ./*.go ./*.html ./go.mod ./go.sum ./\n ---> fdc89dcbdc2d\nStep 4/17 : COPY static ./static\n ---> 14d89bd6abf2\nStep 5/17 : RUN apk add --no-cache gcc musl-dev linux-headers\n ---> Running in fe030407b5c0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/14) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/14) Installing libgcc (10.2.1_pre1-r3)\n(3/14) Installing libstdc++ (10.2.1_pre1-r3)\n(4/14) Installing binutils (2.35.2-r1)\n(5/14) Installing libgomp (10.2.1_pre1-r3)\n(6/14) Installing libatomic (10.2.1_pre1-r3)\n(7/14) Installing libgphobos (10.2.1_pre1-r3)\n(8/14) Installing gmp (6.2.1-r1)\n(9/14) Installing isl22 (0.22-r0)\n(10/14) Installing mpfr4 (4.1.0-r0)\n(11/14) Installing mpc1 (1.2.0-r0)\n(12/14) Installing gcc (10.2.1_pre1-r3)\n(13/14) Installing linux-headers (5.7.8-r0)\n(14/14) Installing musl-dev (1.2.2-r1)\nExecuting busybox-1.32.1-r3.trigger\nOK: 134 MiB in 28 packages\nRemoving intermediate container fe030407b5c0\n ---> bba590fa5628\nStep 6/17 : RUN go get\n ---> Running in 8008ec22fb0b\n\u001b[91mgo: downloading github.com/fiatjaf/go-lnurl v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/pebble v0.0.0-20210812144839-61318a019370\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.23.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\ngo: downloading github.com/rs/cors v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/makeinvoice v1.5.3\n\u001b[0m\u001b[91mgo: downloading github.com/kelseyhightower/envconfig v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.3\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/sjson v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/gjson v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcd v0.22.0-beta.0.20211005184431-e3449998be39\n\u001b[0m\u001b[91mgo: downloading github.com/lnpay/lnpay-go v1.1.0\ngo: downloading github.com/fiatjaf/eclair-go v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/jb55/lnsocket/go v0.0.0-20220315220004-e1e6b88a0bfc\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/lightningd-gjson-rpc v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/pretty v1.1.0\ngo: downloading github.com/tidwall/match v1.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/imroc/req v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/lightningnetwork/lnd v0.14.1-beta\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20210921155107-089bfa567519\n\u001b[0m\u001b[91mgo: downloading github.com/fiatjaf/ln-decodepay v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/redact v1.0.8\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/errors v1.8.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/exp v0.0.0-20200513190911-00229845015e\n\u001b[0m\u001b[91mgo: downloading github.com/DataDog/zstd v1.4.5\ngo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210915083310-ed5796bab164\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/kr/pretty v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/sentry-go v0.6.1-cockroachdb.2\n\u001b[0m\u001b[91mgo: downloading github.com/cockroachdb/logtags v0.0.0-20190617123548-eb05cc24525f\n\u001b[0m\u001b[91mgo: downloading github.com/kr/text v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcwallet v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btclog v0.0.0-20170628155309-84c8d2346e9f\ngo: downloading github.com/btcsuite/btcutil v1.0.3-0.20210527170813-e2ba6805a890\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210913180222-943fd674d43e\n\u001b[0m\u001b[91mgo: downloading github.com/miekg/dns v1.1.43\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-errors/errors v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcwallet/walletdb v1.3.6-0.20210803004036-eebed51155ec\n\u001b[0m\u001b[91mgo: downloading github.com/lightninglabs/neutrino v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcutil/psbt v1.0.3-0.20210527170813-e2ba6805a890\ngo: downloading github.com/btcsuite/btcwallet/wtxmgr v1.3.1-0.20210822222949-9b5a201c344c\ngo: downloading github.com/btcsuite/btcwallet/wallet/txsizes v1.1.0\ngo: downloading github.com/btcsuite/btcwallet/wallet/txrules v1.1.0\ngo: downloading github.com/btcsuite/btcwallet/wallet/txauthor v1.1.0\ngo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\ngo: downloading github.com/lightninglabs/gozmq v0.0.0-20191113021534-d20a764486bf\ngo: downloading github.com/lightningnetwork/lnd/ticker v1.1.0\ngo: downloading github.com/kkdai/bstream v1.0.0\ngo: downloading github.com/aead/siphash v1.0.1\ngo: downloading github.com/decred/dcrd/lru v1.0.0\ngo: downloading github.com/btcsuite/go-socks v0.0.0-20170105172521-4720035b7bfd\ngo: downloading github.com/btcsuite/websocket v0.0.0-20150119174127-31079b680792\n\u001b[0m\u001b[91mgo: downloading github.com/lightningnetwork/lnd/clock v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/lightningnetwork/lnd/queue v1.1.0\n\u001b[0mRemoving intermediate container 8008ec22fb0b\n ---> d9c19185b586\nStep 7/17 : RUN go build\n ---> Running in 270e05c9c412\nRemoving intermediate container 270e05c9c412\n ---> 6b0af7a6bd40\nStep 8/17 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 9/17 : ENV PORT=17422\n ---> Running in 6b3e8b2bee0f\nRemoving intermediate container 6b3e8b2bee0f\n ---> 5e5a9425d117\nStep 10/17 : ENV DOMAIN=satdress.com\n ---> Running in 2bb7e4c31b87\nRemoving intermediate container 2bb7e4c31b87\n ---> b671aeacac01\nStep 11/17 : ENV SECRET=askdbasjdhvakjvsdjasd\n ---> Running in a77ca13c3a8d\nRemoving intermediate container a77ca13c3a8d\n ---> 5e4a6e7f0165\nStep 12/17 : ENV SITE_OWNER_URL=https://t.me/fiatjaf\n ---> Running in 197e3ac3d0c6\nRemoving intermediate container 197e3ac3d0c6\n ---> b09f638cbabd\nStep 13/17 : ENV SITE_OWNER_NAME=@fiatjaf\n ---> Running in 492deff28674\nRemoving intermediate container 492deff28674\n ---> cebdb521a277\nStep 14/17 : ENV SITE_NAME=Satdress\n ---> Running in 3efbb64a2029\nRemoving intermediate container 3efbb64a2029\n ---> d054e6d16f6e\nStep 15/17 : COPY --from=builder /opt/buid/satdress /usr/local/bin/\n ---> c6499d422985\nStep 16/17 : EXPOSE 17422\n ---> Running in 40654870c5fe\nRemoving intermediate container 40654870c5fe\n ---> 0607caf034f7\nStep 17/17 : CMD [\"satdress\"]\n ---> Running in 4b1c01758a0c\nRemoving intermediate container 4b1c01758a0c\n ---> 4af6845cf809\nSuccessfully built 4af6845cf809\nSuccessfully tagged satdress:latest\n","stderr":"","imageSize":27324176},"endTime":1672502806998}