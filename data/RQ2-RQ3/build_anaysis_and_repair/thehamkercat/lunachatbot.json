{"repository":"https://github.com/thehamkercat/lunachatbot","dockerfilePath":"Dockerfile","startTime":1672214045964,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/thehamkercat/lunachatbot'...\n","error":null,"commit":"5ac7f69a04a680329a6eaa6a780d2aa0224c6ada"},"originalBuild":{"startTimestamp":1672214046864,"endTimestamp":1672214105022,"error":null,"stdout":"Sending build context to Docker daemon  88.58kB\r\r\nStep 1/7 : FROM archlinux:base-devel\nbase-devel: Pulling from library/archlinux\n597018910566: Pulling fs layer\n8150bcc6bc64: Pulling fs layer\n8150bcc6bc64: Verifying Checksum\n8150bcc6bc64: Download complete\n597018910566: Verifying Checksum\n597018910566: Download complete\n597018910566: Pull complete\n8150bcc6bc64: Pull complete\nDigest: sha256:73d72b6f85966e914d59d3e856f589e5c59664417a16218cb2f025e99efb3222\nStatus: Downloaded newer image for archlinux:base-devel\n ---> 9ab9d3b59167\nStep 2/7 : RUN curl -fsSL \"https://repo.archlinuxcn.org/x86_64/glibc-linux4-2.33-4-x86_64.pkg.tar.zst\" | bsdtar -C / -xvf -\n ---> Running in dbcd3fdcb065\n\u001b[91mcurl: (22) The reques\u001b[0m\u001b[91mted URL returned err\u001b[0m\u001b[91mor: 404\u001b[0m\u001b[91m\n\u001b[0mRemoving intermediate container dbcd3fdcb065\n ---> b6a200ff79da\nStep 3/7 : RUN pacman -Syy &&     pacman --noconfirm --needed -Syu python3     python-pip\n ---> Running in f0a164c345d3\n:: Synchronizing package databases...\n core downloading...\n extra downloading...\n community downloading...\n:: Synchronizing package databases...\n core downloading...\n extra downloading...\n community downloading...\n:: Starting full system upgrade...\nresolving dependencies...\nlooking for conflicting packages...\n\nPackage (12)               Old Version  New Version  Net Change  Download Size\n\ncore/device-mapper         2.03.17-1    2.03.18-1      0.00 MiB       0.29 MiB\ncore/libnsl                             2.0.0-2        0.07 MiB       0.02 MiB\nextra/python-attrs                      22.2.0-1       0.44 MiB       0.08 MiB\nextra/python-cffi                       1.15.1-1       1.02 MiB       0.22 MiB\nextra/python-cryptography               38.0.4-1       3.91 MiB       0.82 MiB\nextra/python-packaging                  21.3-1         0.26 MiB       0.06 MiB\nextra/python-ply                        3.11-10        0.31 MiB       0.08 MiB\nextra/python-pycparser                  2.21-3         1.39 MiB       0.19 MiB\nextra/python-pyparsing                  3.0.9-1        0.96 MiB       0.15 MiB\ncommunity/python-wheel                  0.38.4-1       0.16 MiB       0.04 MiB\ncore/python                             3.10.9-1      55.19 MiB      12.02 MiB\nextra/python-pip                        22.3.1-1      15.98 MiB       2.51 MiB\n\nTotal Download Size:   16.48 MiB\nTotal Installed Size:  80.53 MiB\nNet Upgrade Size:      79.69 MiB\n\n:: Proceed with installation? [Y/n] \n:: Retrieving packages...\n python-3.10.9-1-x86_64 downloading...\n python-pip-22.3.1-1-any downloading...\n python-cryptography-38.0.4-1-x86_64 downloading...\n device-mapper-2.03.18-1-x86_64 downloading...\n python-cffi-1.15.1-1-x86_64 downloading...\n python-pycparser-2.21-3-any downloading...\n python-pyparsing-3.0.9-1-any downloading...\n python-attrs-22.2.0-1-any downloading...\n python-ply-3.11-10-any downloading...\n python-packaging-21.3-1-any downloading...\n python-wheel-0.38.4-1-any downloading...\n libnsl-2.0.0-2-x86_64 downloading...\nchecking keyring...\nchecking package integrity...\nloading package files...\nchecking for file conflicts...\n:: Processing package changes...\ninstalling libnsl...\ninstalling python...\nOptional dependencies for python\n    python-setuptools\n    python-pip [pending]\n    sqlite [installed]\n    mpdecimal: for decimal\n    xz: for lzma [installed]\n    tk: for tkinter\ninstalling python-attrs...\ninstalling python-ply...\ninstalling python-pycparser...\ninstalling python-cffi...\ninstalling python-cryptography...\ninstalling python-pyparsing...\nOptional dependencies for python-pyparsing\n    python-railroad-diagrams: for generating Railroad Diagrams\n    python-jinja: for generating Railroad Diagrams\ninstalling python-packaging...\ninstalling python-wheel...\nOptional dependencies for python-wheel\n    python-keyring: for wheel.signatures\n    python-xdg: for wheel.signatures\ninstalling python-pip...\nupgrading device-mapper...\n:: Running post-transaction hooks...\n(1/3) Reloading system manager configuration...\n  Skipped: Current root is not booted.\n(2/3) Reloading device manager configuration...\n  Skipped: Device manager is not running.\n(3/3) Arming ConditionNeedsUpdate...\nRemoving intermediate container f0a164c345d3\n ---> 8b82f638d0e4\nStep 4/7 : RUN pip3 install -U pip\n ---> Running in fce82401a773\nRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container fce82401a773\n ---> 414189b35c72\nStep 5/7 : COPY . .\n ---> ee8441074a6b\nStep 6/7 : RUN pip3 install -U -r requirements.txt\n ---> Running in 76700d144bce\nCollecting pyrogram==1.4.16\n  Downloading Pyrogram-1.4.16-py3-none-any.whl (3.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 32.2 MB/s eta 0:00:00\nCollecting python-arq\n  Downloading python_arq-6.0.5-py3-none-any.whl (7.0 kB)\nCollecting TgCrypto\n  Downloading TgCrypto-1.2.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.9/59.9 kB 4.9 MB/s eta 0:00:00\nCollecting pysocks==1.7.1\n  Downloading PySocks-1.7.1-py3-none-any.whl (16 kB)\nCollecting pyaes==1.6.1\n  Downloading pyaes-1.6.1.tar.gz (28 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting dotmap\n  Downloading dotmap-1.3.30-py3-none-any.whl (11 kB)\nCollecting aiohttp\n  Downloading aiohttp-3.8.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 45.9 MB/s eta 0:00:00\nCollecting aiofiles\n  Downloading aiofiles-22.1.0-py3-none-any.whl (14 kB)\nCollecting multidict<7.0,>=4.5\n  Downloading multidict-6.0.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (114 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 114.5/114.5 kB 7.3 MB/s eta 0:00:00\nCollecting aiosignal>=1.1.2\n  Downloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)\nRequirement already satisfied: attrs>=17.3.0 in /usr/lib/python3.10/site-packages (from aiohttp->python-arq->-r requirements.txt (line 2)) (22.2.0)\nCollecting frozenlist>=1.1.1\n  Downloading frozenlist-1.3.3-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (149 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 149.6/149.6 kB 10.4 MB/s eta 0:00:00\nCollecting async-timeout<5.0,>=4.0.0a3\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting yarl<2.0,>=1.0\n  Downloading yarl-1.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (264 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 264.0/264.0 kB 21.2 MB/s eta 0:00:00\nCollecting charset-normalizer<3.0,>=2.0\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna>=2.0\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 5.4 MB/s eta 0:00:00\nBuilding wheels for collected packages: pyaes\n  Building wheel for pyaes (pyproject.toml): started\n  Building wheel for pyaes (pyproject.toml): finished with status 'done'\n  Created wheel for pyaes: filename=pyaes-1.6.1-py3-none-any.whl size=26347 sha256=3f44054b18ddeeefb125a4ec6f111cc7fc31d35f575789172c7b196f1dea67ec\n  Stored in directory: /root/.cache/pip/wheels/60/9b/97/e53da26f9cc31f82f8c9bf9870328e72888be92cc4660f4a06\nSuccessfully built pyaes\nInstalling collected packages: pyaes, dotmap, TgCrypto, pysocks, multidict, idna, frozenlist, charset-normalizer, async-timeout, aiofiles, yarl, pyrogram, aiosignal, aiohttp, python-arq\nSuccessfully installed TgCrypto-1.2.5 aiofiles-22.1.0 aiohttp-3.8.3 aiosignal-1.3.1 async-timeout-4.0.2 charset-normalizer-2.1.1 dotmap-1.3.30 frozenlist-1.3.3 idna-3.4 multidict-6.0.4 pyaes-1.6.1 pyrogram-1.4.16 pysocks-1.7.1 python-arq-6.0.5 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 76700d144bce\n ---> 6e094bf64e9d\nStep 7/7 : CMD [\"python3\",\"luna.py\"]\n ---> Running in c78e7674d1ab\nRemoving intermediate container c78e7674d1ab\n ---> 6879c7132921\nSuccessfully built 6879c7132921\nSuccessfully tagged lunachatbot:latest\n","stderr":"","imageSize":892780960},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":8,"end":8,"columnStart":4,"columnEnd":23}},{"name":"pipUseNoCacheDir","position":{"start":12,"end":12,"columnStart":4,"columnEnd":39}}],"repairedDockerfile":"# Official Arch Linux Docker Image\nFROM archlinux:base-devel\n\n# Installing Python\nRUN curl -fsSL \"https://repo.archlinuxcn.org/x86_64/glibc-linux4-2.33-4-x86_64.pkg.tar.zst\" | bsdtar -C / -xvf -\nRUN pacman -Syy && \\\n    pacman --noconfirm --needed -Syu python3 \\\n    python-pip\nRUN pip3 install --no-cache-dir -U pip\n\n# Installing Requirements\nCOPY . .\nRUN pip3 install --no-cache-dir -U -r requirements.txt\n\n# Running Luna\nCMD [\"python3\",\"luna.py\"]\n"},"repairedBuild":{"startTimestamp":1672214105492,"endTimestamp":1672214128185,"error":null,"stdout":"Sending build context to Docker daemon  88.58kB\r\r\nStep 1/7 : FROM archlinux:base-devel\n ---> 9ab9d3b59167\nStep 2/7 : RUN curl -fsSL \"https://repo.archlinuxcn.org/x86_64/glibc-linux4-2.33-4-x86_64.pkg.tar.zst\" | bsdtar -C / -xvf -\n ---> Running in 4f3eb14590fa\n\u001b[91mcurl: (22) The requested URL returned error: 404\n\u001b[0mRemoving intermediate container 4f3eb14590fa\n ---> e0c6a72f3b7f\nStep 3/7 : RUN pacman -Syy &&     pacman --noconfirm --needed -Syu python3     python-pip\n ---> Running in 99799f651f6d\n:: Synchronizing package databases...\n core downloading...\n extra downloading...\n community downloading...\n:: Synchronizing package databases...\n core downloading...\n extra downloading...\n community downloading...\n:: Starting full system upgrade...\nresolving dependencies...\nlooking for conflicting packages...\n\nPackage (12)               Old Version  New Version  Net Change  Download Size\n\ncore/device-mapper         2.03.17-1    2.03.18-1      0.00 MiB       0.29 MiB\ncore/libnsl                             2.0.0-2        0.07 MiB       0.02 MiB\nextra/python-attrs                      22.2.0-1       0.44 MiB       0.08 MiB\nextra/python-cffi                       1.15.1-1       1.02 MiB       0.22 MiB\nextra/python-cryptography               38.0.4-1       3.91 MiB       0.82 MiB\nextra/python-packaging                  21.3-1         0.26 MiB       0.06 MiB\nextra/python-ply                        3.11-10        0.31 MiB       0.08 MiB\nextra/python-pycparser                  2.21-3         1.39 MiB       0.19 MiB\nextra/python-pyparsing                  3.0.9-1        0.96 MiB       0.15 MiB\ncommunity/python-wheel                  0.38.4-1       0.16 MiB       0.04 MiB\ncore/python                             3.10.9-1      55.19 MiB      12.02 MiB\nextra/python-pip                        22.3.1-1      15.98 MiB       2.51 MiB\n\nTotal Download Size:   16.48 MiB\nTotal Installed Size:  80.53 MiB\nNet Upgrade Size:      79.69 MiB\n\n:: Proceed with installation? [Y/n] \n:: Retrieving packages...\n python-3.10.9-1-x86_64 downloading...\n python-pip-22.3.1-1-any downloading...\n python-cryptography-38.0.4-1-x86_64 downloading...\n device-mapper-2.03.18-1-x86_64 downloading...\n python-cffi-1.15.1-1-x86_64 downloading...\n python-pycparser-2.21-3-any downloading...\n python-pyparsing-3.0.9-1-any downloading...\n python-attrs-22.2.0-1-any downloading...\n python-ply-3.11-10-any downloading...\n python-packaging-21.3-1-any downloading...\n python-wheel-0.38.4-1-any downloading...\n libnsl-2.0.0-2-x86_64 downloading...\nchecking keyring...\nchecking package integrity...\nloading package files...\nchecking for file conflicts...\n:: Processing package changes...\ninstalling libnsl...\ninstalling python...\nOptional dependencies for python\n    python-setuptools\n    python-pip [pending]\n    sqlite [installed]\n    mpdecimal: for decimal\n    xz: for lzma [installed]\n    tk: for tkinter\ninstalling python-attrs...\ninstalling python-ply...\ninstalling python-pycparser...\ninstalling python-cffi...\ninstalling python-cryptography...\ninstalling python-pyparsing...\nOptional dependencies for python-pyparsing\n    python-railroad-diagrams: for generating Railroad Diagrams\n    python-jinja: for generating Railroad Diagrams\ninstalling python-packaging...\ninstalling python-wheel...\nOptional dependencies for python-wheel\n    python-keyring: for wheel.signatures\n    python-xdg: for wheel.signatures\ninstalling python-pip...\nupgrading device-mapper...\n:: Running post-transaction hooks...\n(1/3) Reloading system manager configuration...\n  Skipped: Current root is not booted.\n(2/3) Reloading device manager configuration...\n  Skipped: Device manager is not running.\n(3/3) Arming ConditionNeedsUpdate...\nRemoving intermediate container 99799f651f6d\n ---> 694f8c3c33f0\nStep 4/7 : RUN pip3 install --no-cache-dir -U pip\n ---> Running in 61dbb96d7ac9\nRequirement already satisfied: pip in /usr/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 61dbb96d7ac9\n ---> ae9f66fa0824\nStep 5/7 : COPY . .\n ---> 47a43ee8de81\nStep 6/7 : RUN pip3 install --no-cache-dir -U -r requirements.txt\n ---> Running in 3fba99c7109f\nCollecting pyrogram==1.4.16\n  Downloading Pyrogram-1.4.16-py3-none-any.whl (3.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 89.3 MB/s eta 0:00:00\nCollecting python-arq\n  Downloading python_arq-6.0.5-py3-none-any.whl (7.0 kB)\nCollecting TgCrypto\n  Downloading TgCrypto-1.2.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.9/59.9 kB 308.5 MB/s eta 0:00:00\nCollecting pyaes==1.6.1\n  Downloading pyaes-1.6.1.tar.gz (28 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting pysocks==1.7.1\n  Downloading PySocks-1.7.1-py3-none-any.whl (16 kB)\nCollecting aiofiles\n  Downloading aiofiles-22.1.0-py3-none-any.whl (14 kB)\nCollecting aiohttp\n  Downloading aiohttp-3.8.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 138.9 MB/s eta 0:00:00\nCollecting dotmap\n  Downloading dotmap-1.3.30-py3-none-any.whl (11 kB)\nCollecting charset-normalizer<3.0,>=2.0\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting frozenlist>=1.1.1\n  Downloading frozenlist-1.3.3-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (149 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 149.6/149.6 kB 355.2 MB/s eta 0:00:00\nRequirement already satisfied: attrs>=17.3.0 in /usr/lib/python3.10/site-packages (from aiohttp->python-arq->-r requirements.txt (line 2)) (22.2.0)\nCollecting aiosignal>=1.1.2\n  Downloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)\nCollecting yarl<2.0,>=1.0\n  Downloading yarl-1.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (264 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 264.0/264.0 kB 283.2 MB/s eta 0:00:00\nCollecting async-timeout<5.0,>=4.0.0a3\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting multidict<7.0,>=4.5\n  Downloading multidict-6.0.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (114 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 114.5/114.5 kB 345.6 MB/s eta 0:00:00\nCollecting idna>=2.0\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 301.6 MB/s eta 0:00:00\nBuilding wheels for collected packages: pyaes\n  Building wheel for pyaes (pyproject.toml): started\n  Building wheel for pyaes (pyproject.toml): finished with status 'done'\n  Created wheel for pyaes: filename=pyaes-1.6.1-py3-none-any.whl size=26347 sha256=858bbe4a826c99ae2cce3be5737f87c8992fa0f5be59e4f2497eb6acf30358a4\n  Stored in directory: /tmp/pip-ephem-wheel-cache-2lcnonqh/wheels/60/9b/97/e53da26f9cc31f82f8c9bf9870328e72888be92cc4660f4a06\nSuccessfully built pyaes\nInstalling collected packages: pyaes, dotmap, TgCrypto, pysocks, multidict, idna, frozenlist, charset-normalizer, async-timeout, aiofiles, yarl, pyrogram, aiosignal, aiohttp, python-arq\nSuccessfully installed TgCrypto-1.2.5 aiofiles-22.1.0 aiohttp-3.8.3 aiosignal-1.3.1 async-timeout-4.0.2 charset-normalizer-2.1.1 dotmap-1.3.30 frozenlist-1.3.3 idna-3.4 multidict-6.0.4 pyaes-1.6.1 pyrogram-1.4.16 pysocks-1.7.1 python-arq-6.0.5 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 3fba99c7109f\n ---> ed95b2456f9e\nStep 7/7 : CMD [\"python3\",\"luna.py\"]\n ---> Running in 5068a0306469\nRemoving intermediate container 5068a0306469\n ---> 553c2f904ca4\nSuccessfully built 553c2f904ca4\nSuccessfully tagged lunachatbot:latest\n","stderr":"","imageSize":887049639},"endTime":1672214128593}