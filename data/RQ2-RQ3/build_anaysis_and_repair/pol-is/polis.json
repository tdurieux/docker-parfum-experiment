{"repository":"https://github.com/pol-is/polis","dockerfilePath":"Dockerfile","startTime":1672925432634,"endTime":1672925601852,"clone":{"startTime":1672925432634,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pol-is/polis'...\n","error":null,"endTime":1672925434161,"commit":"58906b689c9a7584d11b9868a78cdba9efdc9963"},"originalBuild":{"startTime":1672925434250,"endTime":1672925601788,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t polis:latest -f /tmp/dinghy-analysis/pol-is/polis/Dockerfile ."},"stdout":"Sending build context to Docker daemon  8.831MB\r\r\nStep 1/39 : ARG TAG=dev\nStep 2/39 : FROM docker.io/node:11.15.0-alpine AS client-base\n11.15.0-alpine: Pulling from library/node\ne7c96db7181b: Pulling fs layer\n0119aca44649: Pulling fs layer\n40df19605a18: Pulling fs layer\n82194b8b4a64: Pulling fs layer\n82194b8b4a64: Waiting\ne7c96db7181b: Download complete\n40df19605a18: Verifying Checksum\n40df19605a18: Download complete\ne7c96db7181b: Pull complete\n0119aca44649: Verifying Checksum\n0119aca44649: Download complete\n82194b8b4a64: Verifying Checksum\n82194b8b4a64: Download complete\n0119aca44649: Pull complete\n40df19605a18: Pull complete\n82194b8b4a64: Pull complete\nDigest: sha256:8bb56bab197299c8ff820f1a55462890caf08f57ffe3b91f5fa6945a4d505932\nStatus: Downloaded newer image for node:11.15.0-alpine\n ---> f18da2f58c3d\nStep 3/39 : RUN apk add git g++ make python openssh --no-cache\n ---> Running in 39929ff8c658\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/37) Upgrading musl (1.1.20-r4 -> 1.1.20-r6)\n(2/37) Installing binutils (2.31.1-r2)\n(3/37) Installing gmp (6.1.2-r1)\n(4/37) Installing isl (0.18-r0)\n(5/37) Installing libgomp (8.3.0-r0)\n(6/37) Installing libatomic (8.3.0-r0)\n(7/37) Installing mpfr3 (3.1.5-r1)\n(8/37) Installing mpc1 (1.0.3-r1)\n(9/37) Installing gcc (8.3.0-r0)\n(10/37) Installing musl-dev (1.1.20-r6)\n(11/37) Installing libc-dev (0.7.1-r0)\n(12/37) Installing g++ (8.3.0-r0)\n(13/37) Installing ca-certificates (20191127-r2)\n(14/37) Installing nghttp2-libs (1.35.1-r2)\n(15/37) Installing libssh2 (1.9.0-r1)\n(16/37) Installing libcurl (7.64.0-r5)\n(17/37) Installing expat (2.2.8-r0)\n(18/37) Installing pcre2 (10.32-r1)\n(19/37) Installing git (2.20.4-r0)\n(20/37) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r6)\n(21/37) Installing make (4.2.1-r2)\n(22/37) Installing openssh-keygen (7.9_p1-r6)\n(23/37) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(24/37) Installing ncurses-terminfo (6.1_p20190105-r0)\n(25/37) Installing ncurses-libs (6.1_p20190105-r0)\n(26/37) Installing libedit (20181209.3.1-r0)\n(27/37) Installing openssh-client (7.9_p1-r6)\n(28/37) Installing openssh-sftp-server (7.9_p1-r6)\n(29/37) Installing openssh-server-common (7.9_p1-r6)\n(30/37) Installing openssh-server (7.9_p1-r6)\n(31/37) Installing openssh (7.9_p1-r6)\n(32/37) Installing libbz2 (1.0.6-r7)\n(33/37) Installing libffi (3.2.1-r6)\n(34/37) Installing gdbm (1.13-r1)\n(35/37) Installing readline (7.0.003-r1)\n(36/37) Installing sqlite-libs (3.28.0-r3)\n(37/37) Installing python2 (2.7.18-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 224 MiB in 51 packages\nRemoving intermediate container 39929ff8c658\n ---> 44b40fb8d35d\nStep 4/39 : FROM client-base AS client-admin\n ---> 44b40fb8d35d\nStep 5/39 : WORKDIR /client-admin/app\n ---> Running in ac022713ca9b\nRemoving intermediate container ac022713ca9b\n ---> 49f08c6c35a6\nStep 6/39 : COPY client-admin/package*.json ./\n ---> c10d89bc3e74\nStep 7/39 : RUN npm install\n ---> Running in a68d2bd2cee6\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN acorn-import-assertions@1.8.0 requires a peer of acorn@^8 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m polis-client-admin@0.0.1 No license field.\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1091 packages from 500 contributors and audited 1093 packages in 21.156s\nfound 39 vulnerabilities (8 moderate, 26 high, 5 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container a68d2bd2cee6\n ---> 0a6235338cbd\nStep 8/39 : COPY client-admin/polis.config.template.js polis.config.js\n ---> 6c98ccd1a6f6\nStep 9/39 : COPY client-admin/. .\n ---> 30e7df7893c2\nStep 10/39 : ARG GIT_HASH\n ---> Running in ec1afbd456e2\nRemoving intermediate container ec1afbd456e2\n ---> c5ef2c3e1932\nStep 11/39 : RUN npm run deploy:prod\n ---> Running in 0e5a797b2ad9\n\u001b[91mnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m missing script: deploy:prod\nnpm ERR!\u001b[0m\u001b[91m \nnpm ERR!\u001b[0m\u001b[91m Did you mean this?\nnpm ERR!     build:prod\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m A complete log of this run can be found in:\nnpm ERR!\u001b[0m\u001b[91m     /root/.npm/_logs/2023-01-05T13_32_57_850Z-debug.log\n\u001b[0mRemoving intermediate container 0e5a797b2ad9\n","stderr":"The command '/bin/sh -c npm run deploy:prod' returned a non-zero code: 1\n"}}