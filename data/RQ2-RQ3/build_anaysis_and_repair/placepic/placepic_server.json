{"repository":"https://github.com/placepic/placepic_server","dockerfilePath":"Dockerfile","startTime":1672618151740,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/placepic/placepic_server'...\n","error":null,"commit":"9d5efdea3a203308cd748d7b7410651340b95193"},"originalBuild":{"startTimestamp":1672618155573,"endTimestamp":1672618196231,"error":null,"stdout":"Sending build context to Docker daemon   31.4MB\r\r\nStep 1/9 : FROM node:12\n ---> 6c8de432fc7f\nStep 2/9 : MAINTAINER dudgns <yeonghun0327@gmail.com>\n ---> Running in 6a9f7555a6f4\nRemoving intermediate container 6a9f7555a6f4\n ---> 793f956563ed\nStep 3/9 : WORKDIR /usr/src/app\n ---> Running in 571e1d622977\nRemoving intermediate container 571e1d622977\n ---> 7eb5d01f4452\nStep 4/9 : COPY package*.json ./\n ---> 0cdb5f9692a4\nStep 5/9 : RUN npm install\n ---> Running in 12d53388f25b\n\u001b[91mnpm WARN deprecated axios@0.20.0: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated jade@1.11.0: Jade has been renamed to pug, please install the latest version of pug instead of jade\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated constantinople@3.0.2: Please update to at least constantinople 3.1.1\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated transformers@2.1.0: Deprecated, use jstransformer\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 358 packages from 409 contributors and audited 360 packages in 8.373s\n\n40 packages are looking for funding\n  run `npm fund` for details\n\nfound 17 vulnerabilities (1 low, 5 moderate, 9 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 12d53388f25b\n ---> cb361c242820\nStep 6/9 : RUN npm install -g pm2\n ---> Running in ff574eb70a62\n\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/usr/local/bin/pm2 -> /usr/local/lib/node_modules/pm2/bin/pm2\n/usr/local/bin/pm2-runtime -> /usr/local/lib/node_modules/pm2/bin/pm2-runtime\n/usr/local/bin/pm2-dev -> /usr/local/lib/node_modules/pm2/bin/pm2-dev\n/usr/local/bin/pm2-docker -> /usr/local/lib/node_modules/pm2/bin/pm2-docker\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 17.494s\nRemoving intermediate container ff574eb70a62\n ---> 6751e676a9ed\nStep 7/9 : COPY . .\n ---> f62c63d2ef5f\nStep 8/9 : EXPOSE 3000\n ---> Running in f76075bf3355\nRemoving intermediate container f76075bf3355\n ---> 3ea056683eb7\nStep 9/9 : CMD [\"pm2-runtime\", \"start\", \"./bin/www\"]\n ---> Running in 441b27c2b917\nRemoving intermediate container 441b27c2b917\n ---> cc22b88a0b43\nSuccessfully built cc22b88a0b43\nSuccessfully tagged placepic_server:latest\n","stderr":"","imageSize":1125288533},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"# FROM 은 docker 이미지를 생성할때 Docker Hub에 있는 해당 이미지를 기반으로 이미지를 생성하겠다 라고 선언해주는 부분\nFROM node:12\n\nMAINTAINER dudgns <yeonghun0327@gmail.com>\n#  WORKDIR 는 RUN, CMD 명령어가 실행될 디렉토리를 설정하는 부분\nWORKDIR /usr/src/app\n# COPY package.json lock-json 파일 모두 이미지에 추가\nCOPY package*.json ./\n\nRUN npm install\nRUN npm install -g pm2\n# 모두 추가\nCOPY . .\nEXPOSE 3000\n# docker run을 실행할때 사용할 명령어\nCMD [\"pm2-runtime\", \"start\", \"./bin/www\"]"},"repairedBuild":{"startTimestamp":1672618196896,"endTimestamp":1672618237588,"error":null,"stdout":"Sending build context to Docker daemon   31.4MB\r\r\nStep 1/9 : FROM node:12\n ---> 6c8de432fc7f\nStep 2/9 : MAINTAINER dudgns <yeonghun0327@gmail.com>\n ---> Running in 3b112e23c5d4\nRemoving intermediate container 3b112e23c5d4\n ---> 285b4f9e876e\nStep 3/9 : WORKDIR /usr/src/app\n ---> Running in be9dbb3d302e\nRemoving intermediate container be9dbb3d302e\n ---> a6423e94387e\nStep 4/9 : COPY package*.json ./\n ---> e86e30cf54eb\nStep 5/9 : RUN npm install\n ---> Running in 78b0d72a1c68\n\u001b[91mnpm WARN deprecated axios@0.20.0: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated jade@1.11.0: Jade has been renamed to pug, please install the latest version of pug instead of jade\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated constantinople@3.0.2: Please update to at least constantinople 3.1.1\n\u001b[0m\u001b[91mnpm WARN deprecated transformers@2.1.0: Deprecated, use jstransformer\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 358 packages from 409 contributors and audited 360 packages in 8.665s\n\n40 packages are looking for funding\n  run `npm fund` for details\n\nfound 17 vulnerabilities (1 low, 5 moderate, 9 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 78b0d72a1c68\n ---> 3780c38f077c\nStep 6/9 : RUN npm install -g pm2\n ---> Running in eb7c70ba7720\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/usr/local/bin/pm2 -> /usr/local/lib/node_modules/pm2/bin/pm2\n/usr/local/bin/pm2-docker -> /usr/local/lib/node_modules/pm2/bin/pm2-docker\n/usr/local/bin/pm2-dev -> /usr/local/lib/node_modules/pm2/bin/pm2-dev\n/usr/local/bin/pm2-runtime -> /usr/local/lib/node_modules/pm2/bin/pm2-runtime\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 12.13s\nRemoving intermediate container eb7c70ba7720\n ---> 2ca94547c9b5\nStep 7/9 : COPY . .\n ---> a9bc31f3539f\nStep 8/9 : EXPOSE 3000\n ---> Running in 68755191a9e0\nRemoving intermediate container 68755191a9e0\n ---> 87833c1ba623\nStep 9/9 : CMD [\"pm2-runtime\", \"start\", \"./bin/www\"]\n ---> Running in f4d7037a05f3\nRemoving intermediate container f4d7037a05f3\n ---> fd49c090ce79\nSuccessfully built fd49c090ce79\nSuccessfully tagged placepic_server:latest\n","stderr":"","imageSize":1125088810},"endTime":1672618238497}