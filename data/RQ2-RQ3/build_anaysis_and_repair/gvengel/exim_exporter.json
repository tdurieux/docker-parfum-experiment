{"repository":"https://github.com/gvengel/exim_exporter","dockerfilePath":"Dockerfile","startTime":1673035958187,"endTime":1673036131425,"clone":{"startTime":1673035958188,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gvengel/exim_exporter'...\n","error":null,"endTime":1673035958928,"commit":"4b465dabe5e7333806fe6b2e1e059a0ca979b950"},"originalBuild":{"startTime":1673035959017,"endTime":1673036081098,"error":null,"stdout":"Sending build context to Docker daemon  310.3kB\r\r\nStep 1/13 : FROM golang:buster AS builder\nbuster: Pulling from library/golang\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\n8210b3b8d03d: Pulling fs layer\ncd367f141366: Pulling fs layer\n806b3f17901c: Pulling fs layer\n806b3f17901c: Verifying Checksum\n806b3f17901c: Download complete\ncd367f141366: Verifying Checksum\ncd367f141366: Download complete\n8210b3b8d03d: Verifying Checksum\n8210b3b8d03d: Download complete\n8210b3b8d03d: Pull complete\ncd367f141366: Pull complete\n806b3f17901c: Pull complete\nDigest: sha256:7c97baef6d7a48c2520691e38cca1c56a86b0cad36831c01d959913711f30aa3\nStatus: Downloaded newer image for golang:buster\n ---> 752295144394\nStep 2/13 : ENV GO111MODULE=on     CGO_ENABLED=0     GOOS=linux     GOARCH=amd64     DEBIAN_FRONTEND=noninteractive\n ---> Running in 5d7b81994671\nRemoving intermediate container 5d7b81994671\n ---> b05d760be22d\nStep 3/13 : WORKDIR /src\n ---> Running in 045e6d95980c\nRemoving intermediate container 045e6d95980c\n ---> 649d1f83af56\nStep 4/13 : COPY . .\n ---> 9aa562dfd50b\nStep 5/13 : RUN apt update && apt install -y dpkg-dev git\n ---> Running in 124abd928e27\n\u001b[91m\nWARNING: apt \u001b[0m\u001b[91mdoes not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 3s (2646 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n2 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.20.1-2+deb10u6).\nThe following additional packages will be installed:\n  build-essential bzip2 fakeroot libalgorithm-diff-perl\n  libalgorithm-diff-xs-perl libalgorithm-merge-perl libfakeroot patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring ed diffutils-doc\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev fakeroot libalgorithm-diff-perl\n  libalgorithm-diff-xs-perl libalgorithm-merge-perl libfakeroot patch xz-utils\n0 upgraded, 10 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 2346 kB of archives.\nAfter this operation, 3603 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 bzip2 amd64 1.0.6-9.2~deb10u2 [48.5 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 xz-utils amd64 5.2.4-1+deb10u1 [183 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 patch amd64 2.7.6-3+deb10u1 [126 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 dpkg-dev all 1.19.8 [1776 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\nGet:6 http://deb.debian.org/debian buster/main amd64 libfakeroot amd64 1.23-1 [45.9 kB]\nGet:7 http://deb.debian.org/debian buster/main amd64 fakeroot amd64 1.23-1 [85.8 kB]\nGet:8 http://deb.debian.org/debian buster/main amd64 libalgorithm-diff-perl all 1.19.03-2 [47.9 kB]\nGet:9 http://deb.debian.org/debian buster/main amd64 libalgorithm-diff-xs-perl amd64 0.04-5+b1 [11.8 kB]\nGet:10 http://deb.debian.org/debian buster/main amd64 libalgorithm-merge-perl all 0.08-3 [12.7 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2346 kB in 0s (38.7 MB/s)\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15421 files and directories currently installed.)\r\nPreparing to unpack .../0-bzip2_1.0.6-9.2~deb10u2_amd64.deb ...\r\nUnpacking bzip2 (1.0.6-9.2~deb10u2) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../1-xz-utils_5.2.4-1+deb10u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.4-1+deb10u1) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../2-patch_2.7.6-3+deb10u1_amd64.deb ...\r\nUnpacking patch (2.7.6-3+deb10u1) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../3-dpkg-dev_1.19.8_all.deb ...\r\nUnpacking dpkg-dev (1.19.8) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../4-build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nSelecting previously unselected package libfakeroot:amd64.\r\nPreparing to unpack .../5-libfakeroot_1.23-1_amd64.deb ...\r\nUnpacking libfakeroot:amd64 (1.23-1) ...\r\nSelecting previously unselected package fakeroot.\r\nPreparing to unpack .../6-fakeroot_1.23-1_amd64.deb ...\r\nUnpacking fakeroot (1.23-1) ...\r\nSelecting previously unselected package libalgorithm-diff-perl.\r\nPreparing to unpack .../7-libalgorithm-diff-perl_1.19.03-2_all.deb ...\r\nUnpacking libalgorithm-diff-perl (1.19.03-2) ...\r\nSelecting previously unselected package libalgorithm-diff-xs-perl.\r\nPreparing to unpack .../8-libalgorithm-diff-xs-perl_0.04-5+b1_amd64.deb ...\r\nUnpacking libalgorithm-diff-xs-perl (0.04-5+b1) ...\r\nSelecting previously unselected package libalgorithm-merge-perl.\r\nPreparing to unpack .../9-libalgorithm-merge-perl_0.08-3_all.deb ...\r\nUnpacking libalgorithm-merge-perl (0.08-3) ...\r\nSetting up libalgorithm-diff-perl (1.19.03-2) ...\r\nSetting up bzip2 (1.0.6-9.2~deb10u2) ...\r\nSetting up libfakeroot:amd64 (1.23-1) ...\r\nSetting up fakeroot (1.23-1) ...\r\nupdate-alternatives: using /usr/bin/fakeroot-sysv to provide /usr/bin/fakeroot (fakeroot) in auto mode\r\nSetting up xz-utils (5.2.4-1+deb10u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-3+deb10u1) ...\r\nSetting up libalgorithm-diff-xs-perl (0.04-5+b1) ...\r\nSetting up libalgorithm-merge-perl (0.08-3) ...\r\nSetting up dpkg-dev (1.19.8) ...\r\nSetting up build-essential (12.6) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container 124abd928e27\n ---> c2e867c00c4f\nStep 6/13 : RUN go test -v .\n ---> Running in 6a29c2cce2fb\n\u001b[91mgo: downloading github.com/prometheus/client_golang v1.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/hpcloud/tail v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.34.0\ngo: downloading github.com/prometheus/exporter-toolkit v0.7.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/shirou/gopsutil v3.21.11+incompatible\n\u001b[0m\u001b[91mgo: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7\n\u001b[0m\u001b[91mgo: downloading gopkg.in/fsnotify.v1 v1.4.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220429233432-b5fbb4746d32\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.7.3\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/tklauser/go-sysconf v0.3.10\n\u001b[0m\u001b[91mgo: downloading github.com/tklauser/numcpus v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\ngo: downloading github.com/alecthomas/units v0.0.0-20211218093645-b94a6e3cc137\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/pkg/errors v0.9.1\ngo: downloading golang.org/x/crypto v0.0.0-20220427172511-eb4f295cb31f\ngo: downloading golang.org/x/oauth2 v0.0.0-20220411215720-9780585627b5\n\u001b[0m\u001b[91mgo: downloading github.com/mwitkow/go-conntrack v0.0.0-20190716064945-2f068394615f\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20220425223048-2871e0cb64e4\n\u001b[0m\u001b[91mgo: downloading github.com/jpillora/backoff v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m=== RUN   TestMetrics\nlevel=info ts=2023-01-06T20:13:59.133Z caller=main.go:250 msg=\"Opening log\" filename=/tmp/exim_exporter_test3609169995/mainlog\nlevel=info ts=2023-01-06T20:13:59.133Z caller=main.go:250 msg=\"Opening log\" filename=/tmp/exim_exporter_test3609169995/rejectlog\nlevel=info ts=2023-01-06T20:13:59.133Z caller=main.go:250 msg=\"Opening log\" filename=/tmp/exim_exporter_test3609169995/paniclog\n=== RUN   TestMetrics/down\nts=2023-01-06T20:13:59.133Z caller=stdlib.go:105 ts=\"2023/01/06 20:13:59\" caller=\"Seeked /tmp/exim_exporter_test3609169995/mainlog - &{Offset:0\" msg=\" Whence:2}\"\nlevel=debug ts=2023-01-06T20:13:59.133Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:13:59.133Z caller=main.go:228 msg=\"Reading queue size\"\nts=2023-01-06T20:13:59.133Z caller=stdlib.go:105 ts=\"2023/01/06 20:13:59\" caller=\"Seeked /tmp/exim_exporter_test3609169995/rejectlog - &{Offset:0\" msg=\" Whence:2}\"\nts=2023-01-06T20:13:59.133Z caller=stdlib.go:105 ts=\"2023/01/06 20:13:59\" caller=\"Seeked /tmp/exim_exporter_test3609169995/paniclog - &{Offset:0\" msg=\" Whence:2}\"\n=== RUN   TestMetrics/daemon\nlevel=debug ts=2023-01-06T20:13:59.143Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:13:59.143Z caller=main.go:228 msg=\"Reading queue size\"\n=== RUN   TestMetrics/up\nlevel=debug ts=2023-01-06T20:13:59.145Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:13:59.145Z caller=main.go:228 msg=\"Reading queue size\"\n=== RUN   TestMetrics/tail\n---\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:51:49 [123] 1jmFYj-00039V-QX <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7386\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX H=null.corp [6.6.6.6] Connection timed out\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX == bob@null.corp R=dnslookup T=remote_smtp defer (110): Connection timed out\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX ** bob@null.corp: retry timeout exceeded\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFas-0004f6-EB <= <> R=1jmFYj-00039V-QX U=Debian-exim P=local S=8656\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 [456] 1jmFYj-00039V-QX Completed\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t => dave@foo.corp R=dnslookup T=remote_smtp H=mail.foo.corp [1.1.1.1] C=\\\"250 2.0.0 Ok: queued\\\"\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t Completed\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1t-0000dO-Un <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7462\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un => harry@bar.corp R=dnslookup T=remote_smtp H=mail.bar.corp [7.7.7.7] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Notia,L=Nowhere,O=Bar Corp,CN=mail.bar.corp\\\" C=\\\"250 2.6.0 <E1jmH1t-0000dO-Un@smtp.test.corp> 16655 bytes in 0.342, 47.543 KB/sec Queued mail for delivery -> 250 2.1.5\\\"\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un Completed\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:54 1jmKso-0009d4-Uf <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7983\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 [789] 1jmKso-0009d4-Uf ** molly@zee.corp R=dnslookup T=remote_smtp H=mail.zee.corp [3.3.3.3] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Fake,L=Lost,O=Zee Corp,CN=mail.zee.corp\\\": SMTP error from remote mail server after end of data: 554 5.2.0 mKr3jsd25ZIfXmKr4jFD2w Recipient Mailbox Full [504]\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKsr-00040h-1G <= <> R=1jmKso-0009d4-Uf U=Debian-exim P=local S=9521\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKso-0009d4-Uf Completed\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:14 1jmXgg-000AIC-89 <= tom@test.corp H=(relay.test.corp) [4.4.4.4] P=esmtp S=15670 id=28f524f604c24d70a519a32fcbdf01d9@test.corp\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 => nick@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:13:59.147Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 -> sally@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:13:59.223Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 13:55:20 SMTP protocol synchronization error (next input sent too soon: pipelining was not advertised): rejected\"\nlevel=debug ts=2023-01-06T20:13:59.223Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 16:49:49 H=(test.corp) [1.1.1.1] F=<noreply@test.corp> rejected RCPT <error!@dummy.corp>: restricted characters in address\"\nlevel=debug ts=2023-01-06T20:13:59.234Z caller=main.go:339 file=paniclog msg=\"2020-05-26 14:01:40 1jdghf-00034W-No DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:13:59.234Z caller=main.go:339 file=paniclog msg=\"2020-05-27 07:32:23 1jdx6T-00006I-77 DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:14:00.249Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:14:00.249Z caller=main.go:228 msg=\"Reading queue size\"\n=== RUN   TestMetrics/update\n---\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:51:49 [123] 1jmFYj-00039V-QX <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7386\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX H=null.corp [6.6.6.6] Connection timed out\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX == bob@null.corp R=dnslookup T=remote_smtp defer (110): Connection timed out\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX ** bob@null.corp: retry timeout exceeded\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFas-0004f6-EB <= <> R=1jmFYj-00039V-QX U=Debian-exim P=local S=8656\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 [456] 1jmFYj-00039V-QX Completed\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t => dave@foo.corp R=dnslookup T=remote_smtp H=mail.foo.corp [1.1.1.1] C=\\\"250 2.0.0 Ok: queued\\\"\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t Completed\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1t-0000dO-Un <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7462\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un => harry@bar.corp R=dnslookup T=remote_smtp H=mail.bar.corp [7.7.7.7] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Notia,L=Nowhere,O=Bar Corp,CN=mail.bar.corp\\\" C=\\\"250 2.6.0 <E1jmH1t-0000dO-Un@smtp.test.corp> 16655 bytes in 0.342, 47.543 KB/sec Queued mail for delivery -> 250 2.1.5\\\"\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un Completed\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:54 1jmKso-0009d4-Uf <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7983\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 [789] 1jmKso-0009d4-Uf ** molly@zee.corp R=dnslookup T=remote_smtp H=mail.zee.corp [3.3.3.3] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Fake,L=Lost,O=Zee Corp,CN=mail.zee.corp\\\": SMTP error from remote mail server after end of data: 554 5.2.0 mKr3jsd25ZIfXmKr4jFD2w Recipient Mailbox Full [504]\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKsr-00040h-1G <= <> R=1jmKso-0009d4-Uf U=Debian-exim P=local S=9521\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKso-0009d4-Uf Completed\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:14 1jmXgg-000AIC-89 <= tom@test.corp H=(relay.test.corp) [4.4.4.4] P=esmtp S=15670 id=28f524f604c24d70a519a32fcbdf01d9@test.corp\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 => nick@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:14:00.252Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 -> sally@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:14:00.292Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 13:55:20 SMTP protocol synchronization error (next input sent too soon: pipelining was not advertised): rejected\"\nlevel=debug ts=2023-01-06T20:14:00.292Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 16:49:49 H=(test.corp) [1.1.1.1] F=<noreply@test.corp> rejected RCPT <error!@dummy.corp>: restricted characters in address\"\nlevel=debug ts=2023-01-06T20:14:00.452Z caller=main.go:339 file=paniclog msg=\"2020-05-26 14:01:40 1jdghf-00034W-No DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:14:00.452Z caller=main.go:339 file=paniclog msg=\"2020-05-27 07:32:23 1jdx6T-00006I-77 DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:14:01.560Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:14:01.560Z caller=main.go:228 msg=\"Reading queue size\"\n--- PASS: TestMetrics (2.44s)\n    --- PASS: TestMetrics/down (0.00s)\n    --- PASS: TestMetrics/daemon (0.00s)\n    --- PASS: TestMetrics/up (0.00s)\n    --- PASS: TestMetrics/tail (1.11s)\n    --- PASS: TestMetrics/update (1.31s)\nPASS\nok  \texim_exporter\t2.459s\nRemoving intermediate container 6a29c2cce2fb\n ---> 7caddccfe99d\nStep 7/13 : RUN VERSION=\"$(dpkg-parsechangelog --show-field Version)\";     REVISION=\"$(git rev-parse --short HEAD)\";     BRANCH=\"$(git rev-parse --abbrev-ref HEAD)\";     LDFLAGS=\"-X github.com/prometheus/common/version.Version=${VERSION}              -X github.com/prometheus/common/version.Revision=${REVISION}              -X github.com/prometheus/common/version.Branch=${BRANCH}\";     go build -v -o exim_exporter -ldflags \"$LDFLAGS\"\n ---> Running in 18a64deaa8a1\n\u001b[91mexim_exporter\n\u001b[0mRemoving intermediate container 18a64deaa8a1\n ---> 56fe32b4f5b7\nStep 8/13 : WORKDIR /dist\n ---> Running in 7a6fb9a20ddd\nRemoving intermediate container 7a6fb9a20ddd\n ---> 77394bbeddbf\nStep 9/13 : RUN cp /src/exim_exporter .\n ---> Running in 99aad33dd9a6\nRemoving intermediate container 99aad33dd9a6\n ---> 056d60ce026c\nStep 10/13 : FROM scratch\n ---> \nStep 11/13 : COPY --from=builder /dist/exim_exporter /\n ---> 0adb1de4ebab\nStep 12/13 : ENTRYPOINT [\"/exim_exporter\"]\n ---> Running in 5d28d29589d6\nRemoving intermediate container 5d28d29589d6\n ---> 0342b5db5c80\nStep 13/13 : EXPOSE 9636\n ---> Running in 6b74bfbfb167\nRemoving intermediate container 6b74bfbfb167\n ---> 87d0f2d0d54d\nSuccessfully built 87d0f2d0d54d\nSuccessfully tagged exim_exporter:latest\n","stderr":"","imageSize":14881803},"repair":{"startTime":1673036081151,"endTime":1673036081273,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":11,"end":11,"columnStart":18,"columnEnd":45}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":11,"end":11,"columnStart":18,"columnEnd":45}}],"repairedDockerfile":"FROM golang:buster AS builder\n\nENV GO111MODULE=on \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64 \\\n    DEBIAN_FRONTEND=noninteractive\n\nWORKDIR /src\nCOPY . .\n\nRUN apt update && apt install --no-install-recommends -y dpkg-dev git && rm -rf /var/lib/apt/lists/*;\nRUN go test -v .\nRUN VERSION=\"$(dpkg-parsechangelog --show-field Version)\"; \\\n    REVISION=\"$(git rev-parse --short HEAD)\"; \\\n    BRANCH=\"$(git rev-parse --abbrev-ref HEAD)\"; \\\n    LDFLAGS=\"-X github.com/prometheus/common/version.Version=${VERSION} \\\n             -X github.com/prometheus/common/version.Revision=${REVISION} \\\n             -X github.com/prometheus/common/version.Branch=${BRANCH}\"; \\\n    go build -v -o exim_exporter -ldflags \"$LDFLAGS\"\n\nWORKDIR /dist\nRUN cp /src/exim_exporter .\n\nFROM scratch\nCOPY --from=builder /dist/exim_exporter /\nENTRYPOINT [\"/exim_exporter\"]\nEXPOSE 9636"},"repairedBuild":{"startTime":1673036081397,"endTime":1673036130822,"error":null,"stdout":"Sending build context to Docker daemon  310.3kB\r\r\nStep 1/13 : FROM golang:buster AS builder\n ---> 752295144394\nStep 2/13 : ENV GO111MODULE=on     CGO_ENABLED=0     GOOS=linux     GOARCH=amd64     DEBIAN_FRONTEND=noninteractive\n ---> Running in a05c9375b04a\nRemoving intermediate container a05c9375b04a\n ---> 8fc91020fd6a\nStep 3/13 : WORKDIR /src\n ---> Running in 2a8c09a4126e\nRemoving intermediate container 2a8c09a4126e\n ---> 349f11ad8612\nStep 4/13 : COPY . .\n ---> d51ff025b531\nStep 5/13 : RUN apt update && apt install --no-install-recommends -y dpkg-dev git && rm -rf /var/lib/apt/lists/*;\n ---> Running in fb37b77964f6\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (5162 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n2 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\ngit is already the newest version (1:2.20.1-2+deb10u6).\nThe following additional packages will be installed:\n  bzip2 patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring ed diffutils-doc\nRecommended packages:\n  build-essential fakeroot libalgorithm-merge-perl\nThe following NEW packages will be installed:\n  bzip2 dpkg-dev patch xz-utils\n0 upgraded, 4 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 2135 kB of archives.\nAfter this operation, 3009 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 bzip2 amd64 1.0.6-9.2~deb10u2 [48.5 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 xz-utils amd64 5.2.4-1+deb10u1 [183 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 patch amd64 2.7.6-3+deb10u1 [126 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 dpkg-dev all 1.19.8 [1776 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2135 kB in 0s (36.6 MB/s)\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15421 files and directories currently installed.)\r\nPreparing to unpack .../bzip2_1.0.6-9.2~deb10u2_amd64.deb ...\r\nUnpacking bzip2 (1.0.6-9.2~deb10u2) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../xz-utils_5.2.4-1+deb10u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.4-1+deb10u1) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../patch_2.7.6-3+deb10u1_amd64.deb ...\r\nUnpacking patch (2.7.6-3+deb10u1) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../dpkg-dev_1.19.8_all.deb ...\r\nUnpacking dpkg-dev (1.19.8) ...\r\nSetting up bzip2 (1.0.6-9.2~deb10u2) ...\r\nSetting up xz-utils (5.2.4-1+deb10u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-3+deb10u1) ...\r\nSetting up dpkg-dev (1.19.8) ...\r\nRemoving intermediate container fb37b77964f6\n ---> 66db84f84d4f\nStep 6/13 : RUN go test -v .\n ---> Running in d2fc0a98d1c4\n\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/exporter-toolkit v0.7.1\ngo: downloading github.com/prometheus/common v0.34.0\n\u001b[0m\u001b[91mgo: downloading github.com/shirou/gopsutil v3.21.11+incompatible\ngo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/hpcloud/tail v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7\ngo: downloading gopkg.in/fsnotify.v1 v1.4.7\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\ngo: downloading github.com/alecthomas/units v0.0.0-20211218093645-b94a6e3cc137\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220427172511-eb4f295cb31f\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.0\ngo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220429233432-b5fbb4746d32\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20220411215720-9780585627b5\ngo: downloading golang.org/x/net v0.0.0-20220425223048-2871e0cb64e4\n\u001b[0m\u001b[91mgo: downloading github.com/mwitkow/go-conntrack v0.0.0-20190716064945-2f068394615f\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.7.3\n\u001b[0m\u001b[91mgo: downloading github.com/jpillora/backoff v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/tklauser/go-sysconf v0.3.10\n\u001b[0m\u001b[91mgo: downloading github.com/tklauser/numcpus v0.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m=== RUN   TestMetrics\nlevel=info ts=2023-01-06T20:15:09.978Z caller=main.go:250 msg=\"Opening log\" filename=/tmp/exim_exporter_test678465737/mainlog\nlevel=info ts=2023-01-06T20:15:09.978Z caller=main.go:250 msg=\"Opening log\" filename=/tmp/exim_exporter_test678465737/rejectlog\nlevel=info ts=2023-01-06T20:15:09.978Z caller=main.go:250 msg=\"Opening log\" filename=/tmp/exim_exporter_test678465737/paniclog\n=== RUN   TestMetrics/down\nts=2023-01-06T20:15:09.979Z caller=stdlib.go:105 ts=\"2023/01/06 20:15:09\" caller=\"Seeked /tmp/exim_exporter_test678465737/rejectlog - &{Offset:0\" msg=\" Whence:2}\"\nlevel=debug ts=2023-01-06T20:15:09.979Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:15:09.979Z caller=main.go:228 msg=\"Reading queue size\"\nts=2023-01-06T20:15:09.979Z caller=stdlib.go:105 ts=\"2023/01/06 20:15:09\" caller=\"Seeked /tmp/exim_exporter_test678465737/mainlog - &{Offset:0\" msg=\" Whence:2}\"\nts=2023-01-06T20:15:09.979Z caller=stdlib.go:105 ts=\"2023/01/06 20:15:09\" caller=\"Seeked /tmp/exim_exporter_test678465737/paniclog - &{Offset:0\" msg=\" Whence:2}\"\n=== RUN   TestMetrics/daemon\nlevel=debug ts=2023-01-06T20:15:10.014Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:15:10.014Z caller=main.go:228 msg=\"Reading queue size\"\n=== RUN   TestMetrics/up\nlevel=debug ts=2023-01-06T20:15:10.016Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:15:10.016Z caller=main.go:228 msg=\"Reading queue size\"\n=== RUN   TestMetrics/tail\n---\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:51:49 [123] 1jmFYj-00039V-QX <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7386\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX H=null.corp [6.6.6.6] Connection timed out\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX == bob@null.corp R=dnslookup T=remote_smtp defer (110): Connection timed out\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX ** bob@null.corp: retry timeout exceeded\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFas-0004f6-EB <= <> R=1jmFYj-00039V-QX U=Debian-exim P=local S=8656\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 [456] 1jmFYj-00039V-QX Completed\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t => dave@foo.corp R=dnslookup T=remote_smtp H=mail.foo.corp [1.1.1.1] C=\\\"250 2.0.0 Ok: queued\\\"\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t Completed\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1t-0000dO-Un <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7462\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un => harry@bar.corp R=dnslookup T=remote_smtp H=mail.bar.corp [7.7.7.7] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Notia,L=Nowhere,O=Bar Corp,CN=mail.bar.corp\\\" C=\\\"250 2.6.0 <E1jmH1t-0000dO-Un@smtp.test.corp> 16655 bytes in 0.342, 47.543 KB/sec Queued mail for delivery -> 250 2.1.5\\\"\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un Completed\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:54 1jmKso-0009d4-Uf <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7983\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 [789] 1jmKso-0009d4-Uf ** molly@zee.corp R=dnslookup T=remote_smtp H=mail.zee.corp [3.3.3.3] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Fake,L=Lost,O=Zee Corp,CN=mail.zee.corp\\\": SMTP error from remote mail server after end of data: 554 5.2.0 mKr3jsd25ZIfXmKr4jFD2w Recipient Mailbox Full [504]\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKsr-00040h-1G <= <> R=1jmKso-0009d4-Uf U=Debian-exim P=local S=9521\"\nlevel=debug ts=2023-01-06T20:15:10.019Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKso-0009d4-Uf Completed\"\nlevel=debug ts=2023-01-06T20:15:10.020Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:14 1jmXgg-000AIC-89 <= tom@test.corp H=(relay.test.corp) [4.4.4.4] P=esmtp S=15670 id=28f524f604c24d70a519a32fcbdf01d9@test.corp\"\nlevel=debug ts=2023-01-06T20:15:10.020Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 => nick@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:15:10.020Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 -> sally@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:15:10.046Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 13:55:20 SMTP protocol synchronization error (next input sent too soon: pipelining was not advertised): rejected\"\nlevel=debug ts=2023-01-06T20:15:10.046Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 16:49:49 H=(test.corp) [1.1.1.1] F=<noreply@test.corp> rejected RCPT <error!@dummy.corp>: restricted characters in address\"\nlevel=debug ts=2023-01-06T20:15:10.072Z caller=main.go:339 file=paniclog msg=\"2020-05-26 14:01:40 1jdghf-00034W-No DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:15:10.072Z caller=main.go:339 file=paniclog msg=\"2020-05-27 07:32:23 1jdx6T-00006I-77 DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:15:11.095Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:15:11.095Z caller=main.go:228 msg=\"Reading queue size\"\n=== RUN   TestMetrics/update\n---\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:51:49 [123] 1jmFYj-00039V-QX <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7386\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX H=null.corp [6.6.6.6] Connection timed out\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX == bob@null.corp R=dnslookup T=remote_smtp defer (110): Connection timed out\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFYj-00039V-QX ** bob@null.corp: retry timeout exceeded\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 1jmFas-0004f6-EB <= <> R=1jmFYj-00039V-QX U=Debian-exim P=local S=8656\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 04:54:02 [456] 1jmFYj-00039V-QX Completed\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t => dave@foo.corp R=dnslookup T=remote_smtp H=mail.foo.corp [1.1.1.1] C=\\\"250 2.0.0 Ok: queued\\\"\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1s-000AVD-5t Completed\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:02 1jmH1t-0000dO-Un <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7462\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un => harry@bar.corp R=dnslookup T=remote_smtp H=mail.bar.corp [7.7.7.7] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Notia,L=Nowhere,O=Bar Corp,CN=mail.bar.corp\\\" C=\\\"250 2.6.0 <E1jmH1t-0000dO-Un@smtp.test.corp> 16655 bytes in 0.342, 47.543 KB/sec Queued mail for delivery -> 250 2.1.5\\\"\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 06:26:03 1jmH1t-0000dO-Un Completed\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:54 1jmKso-0009d4-Uf <= noreply@test.corp H=(test.corp) [2.2.2.2] P=smtp S=7983\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 [789] 1jmKso-0009d4-Uf ** molly@zee.corp R=dnslookup T=remote_smtp H=mail.zee.corp [3.3.3.3] X=TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256 CV=yes DN=\\\"C=US,ST=Fake,L=Lost,O=Zee Corp,CN=mail.zee.corp\\\": SMTP error from remote mail server after end of data: 554 5.2.0 mKr3jsd25ZIfXmKr4jFD2w Recipient Mailbox Full [504]\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKsr-00040h-1G <= <> R=1jmKso-0009d4-Uf U=Debian-exim P=local S=9521\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-19 10:32:57 1jmKso-0009d4-Uf Completed\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:14 1jmXgg-000AIC-89 <= tom@test.corp H=(relay.test.corp) [4.4.4.4] P=esmtp S=15670 id=28f524f604c24d70a519a32fcbdf01d9@test.corp\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 => nick@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:15:11.098Z caller=main.go:281 file=mainlong msg=\"2020-06-20 00:13:16 1jmXgg-000AIC-89 -> sally@dummy.corp R=dnslookup T=remote_smtp_smarthost H=smarthost.test.corp [5.5.5.5] X=TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128 CV=yes DN=\\\"C=XX,L=Here,O=Text Corp,CN=*.test.corp\\\" C=\\\"250 6292145-1592637196662@smarthost.test.corp Received OK [sHQA_0EGOfCC2A2sh3iD5g]\\\"\"\nlevel=debug ts=2023-01-06T20:15:11.109Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 13:55:20 SMTP protocol synchronization error (next input sent too soon: pipelining was not advertised): rejected\"\nlevel=debug ts=2023-01-06T20:15:11.109Z caller=main.go:327 file=rejectlog msg=\"2020-06-13 16:49:49 H=(test.corp) [1.1.1.1] F=<noreply@test.corp> rejected RCPT <error!@dummy.corp>: restricted characters in address\"\nlevel=debug ts=2023-01-06T20:15:11.125Z caller=main.go:339 file=paniclog msg=\"2020-05-26 14:01:40 1jdghf-00034W-No DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:15:11.125Z caller=main.go:339 file=paniclog msg=\"2020-05-27 07:32:23 1jdx6T-00006I-77 DKIM: signing failed: RSA_LONG_LINE\"\nlevel=debug ts=2023-01-06T20:15:12.141Z caller=main.go:170 msg=\"Reading process states\"\nlevel=debug ts=2023-01-06T20:15:12.141Z caller=main.go:228 msg=\"Reading queue size\"\n--- PASS: TestMetrics (2.17s)\n    --- PASS: TestMetrics/down (0.00s)\n    --- PASS: TestMetrics/daemon (0.00s)\n    --- PASS: TestMetrics/up (0.00s)\n    --- PASS: TestMetrics/tail (1.08s)\n    --- PASS: TestMetrics/update (1.05s)\nPASS\nok  \texim_exporter\t2.189s\nRemoving intermediate container d2fc0a98d1c4\n ---> f139ae5f20d5\nStep 7/13 : RUN VERSION=\"$(dpkg-parsechangelog --show-field Version)\";     REVISION=\"$(git rev-parse --short HEAD)\";     BRANCH=\"$(git rev-parse --abbrev-ref HEAD)\";     LDFLAGS=\"-X github.com/prometheus/common/version.Version=${VERSION}              -X github.com/prometheus/common/version.Revision=${REVISION}              -X github.com/prometheus/common/version.Branch=${BRANCH}\";     go build -v -o exim_exporter -ldflags \"$LDFLAGS\"\n ---> Running in c0d91cf79bb3\n\u001b[91mexim_exporter\n\u001b[0mRemoving intermediate container c0d91cf79bb3\n ---> fe5f7c4e018e\nStep 8/13 : WORKDIR /dist\n ---> Running in 50c05b0fe8eb\nRemoving intermediate container 50c05b0fe8eb\n ---> 047b1a9441ba\nStep 9/13 : RUN cp /src/exim_exporter .\n ---> Running in 6235e430f485\nRemoving intermediate container 6235e430f485\n ---> 0434a71be931\nStep 10/13 : FROM scratch\n ---> \nStep 11/13 : COPY --from=builder /dist/exim_exporter /\n ---> 5f0e8b699d20\nStep 12/13 : ENTRYPOINT [\"/exim_exporter\"]\n ---> Running in 6f254a39d8ab\nRemoving intermediate container 6f254a39d8ab\n ---> c635a00507a5\nStep 13/13 : EXPOSE 9636\n ---> Running in 0942b6a8b2eb\nRemoving intermediate container 0942b6a8b2eb\n ---> 615124070d85\nSuccessfully built 615124070d85\nSuccessfully tagged exim_exporter:latest\n","stderr":"","imageSize":14881803}}