{"repository":"https://github.com/cookpad/itacho","dockerfilePath":"Dockerfile","startTime":1672930448286,"endTime":1672930828394,"clone":{"startTime":1672930448287,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cookpad/itacho'...\n","error":null,"endTime":1672930449070,"commit":"53cb7fe7d78c03b572410c90185709b550a68125"},"originalBuild":{"startTime":1672930449153,"endTime":1672930616849,"error":null,"stdout":"Sending build context to Docker daemon  39.42kB\r\r\nStep 1/11 : FROM public.ecr.aws/docker/library/golang:1.14 as build\n1.14: Pulling from docker/library/golang\n0ecb575e629c: Pulling fs layer\n7467d1831b69: Pulling fs layer\nfeab2c490a3c: Pulling fs layer\nf15a0f46f8c3: Pulling fs layer\n1517911a35d7: Pulling fs layer\n48bbd1746d63: Pulling fs layer\n944903612fdd: Pulling fs layer\n1517911a35d7: Waiting\n48bbd1746d63: Waiting\n944903612fdd: Waiting\nf15a0f46f8c3: Waiting\n7467d1831b69: Verifying Checksum\n7467d1831b69: Download complete\nfeab2c490a3c: Verifying Checksum\nfeab2c490a3c: Download complete\n0ecb575e629c: Verifying Checksum\n0ecb575e629c: Download complete\nf15a0f46f8c3: Verifying Checksum\nf15a0f46f8c3: Download complete\n1517911a35d7: Verifying Checksum\n1517911a35d7: Download complete\n944903612fdd: Verifying Checksum\n944903612fdd: Download complete\n0ecb575e629c: Pull complete\n7467d1831b69: Pull complete\n48bbd1746d63: Verifying Checksum\n48bbd1746d63: Download complete\nfeab2c490a3c: Pull complete\nf15a0f46f8c3: Pull complete\n1517911a35d7: Pull complete\n48bbd1746d63: Pull complete\n944903612fdd: Pull complete\nDigest: sha256:1a7173b5b9a3af3e29a5837e0b2027e1c438fd1b83bbee8f221355087ad416d6\nStatus: Downloaded newer image for public.ecr.aws/docker/library/golang:1.14\n ---> 21a5635903d6\nStep 2/11 : RUN mkdir /app\n ---> Running in 1965b54da8d4\nRemoving intermediate container 1965b54da8d4\n ---> 4c8810afecdf\nStep 3/11 : WORKDIR /app\n ---> Running in afa9932801dd\nRemoving intermediate container afa9932801dd\n ---> 36979a453cd3\nStep 4/11 : COPY go.mod go.sum /app/\n ---> 9d95f9d9e4cc\nStep 5/11 : RUN go mod download\n ---> Running in 22207d25d181\nRemoving intermediate container 22207d25d181\n ---> 77638a306ea0\nStep 6/11 : COPY . /app/\n ---> 4fbb6405bbbc\nStep 7/11 : RUN go mod verify && make\n ---> Running in 84eb4f08c885\nall modules verified\n--> building itacho v0.2.1\nRemoving intermediate container 84eb4f08c885\n ---> cb3f46a9e7bd\nStep 8/11 : FROM public.ecr.aws/ubuntu/ubuntu:18.04\n18.04: Pulling from ubuntu/ubuntu\nbeb78edc6c90: Pulling fs layer\nbeb78edc6c90: Verifying Checksum\nbeb78edc6c90: Download complete\nbeb78edc6c90: Pull complete\nDigest: sha256:ede08ac7c108dd22f8df6d3dcf9ef05148da5baefcba858563e2511a6d868cfc\nStatus: Downloaded newer image for public.ecr.aws/ubuntu/ubuntu:18.04\n ---> 45238a2deb96\nStep 9/11 : RUN apt-get update &&       apt-get install -y ca-certificates &&       apt-get clean &&       rm -rf /var/lib/apt/lists/*\n ---> Running in eabf214f7a6a\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\nGet:4 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [22.9 kB]\nGet:5 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [83.3 kB]\nGet:6 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [1568 kB]\nGet:7 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [3102 kB]\nGet:8 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\nGet:9 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\nGet:10 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\nGet:11 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [1311 kB]\nGet:12 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [3525 kB]\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [30.0 kB]\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [1356 kB]\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [2344 kB]\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [20.5 kB]\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [64.0 kB]\nFetched 26.7 MB in 5s (5574 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2056 kB of archives.\nAfter this operation, 5657 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libssl1.1 amd64 1.1.1-1ubuntu2.1~18.04.20 [1302 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 openssl amd64 1.1.1-1ubuntu2.1~18.04.20 [614 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 ca-certificates all 20211016ubuntu0.18.04.1 [140 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2056 kB in 1s (1910 kB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4051 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20211016ubuntu0.18.04.1_all.deb ...\r\nUnpacking ca-certificates (20211016ubuntu0.18.04.1) ...\r\nSetting up libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSetting up ca-certificates (20211016ubuntu0.18.04.1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n124 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.27-3ubuntu1.6) ...\r\nProcessing triggers for ca-certificates (20211016ubuntu0.18.04.1) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container eabf214f7a6a\n ---> a41150ef3165\nStep 10/11 : COPY --from=build /app/itacho /usr/local/bin/itacho\n ---> f88cc3f303e0\nStep 11/11 : CMD [\"/usr/local/bin/itacho\", \"server\"]\n ---> Running in 9b5f2bf4f4a1\nRemoving intermediate container 9b5f2bf4f4a1\n ---> 969a11ff62f0\nSuccessfully built 969a11ff62f0\nSuccessfully tagged itacho:latest\n","stderr":"","imageSize":91081302},"repair":{"startTime":1672930616922,"endTime":1672930617038,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":14,"end":14,"columnStart":6,"columnEnd":40}}],"repairedDockerfile":"FROM public.ecr.aws/docker/library/golang:1.14 as build\n\nRUN mkdir /app\nWORKDIR /app\nCOPY go.mod go.sum /app/\nRUN go mod download\n\nCOPY . /app/\nRUN go mod verify && make\n\n\nFROM public.ecr.aws/ubuntu/ubuntu:18.04\n\nRUN apt-get update && \\\n      apt-get install --no-install-recommends -y ca-certificates && \\\n      apt-get clean && \\\n      rm -rf /var/lib/apt/lists/*\n\nCOPY --from=build /app/itacho /usr/local/bin/itacho\nCMD [\"/usr/local/bin/itacho\", \"server\"]\n"},"repairedBuild":{"startTime":1672930617768,"endTime":1672930828084,"error":null,"stdout":"Sending build context to Docker daemon  39.42kB\r\r\nStep 1/11 : FROM public.ecr.aws/docker/library/golang:1.14 as build\n ---> 21a5635903d6\nStep 2/11 : RUN mkdir /app\n ---> Running in 1f1c71a357a7\nRemoving intermediate container 1f1c71a357a7\n ---> a79d9653faae\nStep 3/11 : WORKDIR /app\n ---> Running in 701800b075df\nRemoving intermediate container 701800b075df\n ---> 74365de9b5e1\nStep 4/11 : COPY go.mod go.sum /app/\n ---> 2b9becdf5ba3\nStep 5/11 : RUN go mod download\n ---> Running in bef27eef6e7d\nRemoving intermediate container bef27eef6e7d\n ---> c32378eea062\nStep 6/11 : COPY . /app/\n ---> 7625aa2ee414\nStep 7/11 : RUN go mod verify && make\n ---> Running in 05b5c3a9ef43\nall modules verified\n--> building itacho v0.2.1\nRemoving intermediate container 05b5c3a9ef43\n ---> 43b4a6253e7f\nStep 8/11 : FROM public.ecr.aws/ubuntu/ubuntu:18.04\n ---> 45238a2deb96\nStep 9/11 : RUN apt-get update &&       apt-get install --no-install-recommends -y ca-certificates &&       apt-get clean &&       rm -rf /var/lib/apt/lists/*\n ---> Running in e0c28d4347cc\nGet:1 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\nGet:2 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\nGet:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [83.3 kB]\nGet:5 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [22.9 kB]\nGet:6 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\nGet:7 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [1568 kB]\nGet:8 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\nGet:9 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\nGet:10 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\nGet:11 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [3102 kB]\nGet:12 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [1311 kB]\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [30.0 kB]\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [2344 kB]\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [1356 kB]\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [3525 kB]\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [64.0 kB]\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [20.5 kB]\nFetched 26.7 MB in 3s (9197 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2056 kB of archives.\nAfter this operation, 5657 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libssl1.1 amd64 1.1.1-1ubuntu2.1~18.04.20 [1302 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 openssl amd64 1.1.1-1ubuntu2.1~18.04.20 [614 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 ca-certificates all 20211016ubuntu0.18.04.1 [140 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2056 kB in 1s (1689 kB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4051 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20211016ubuntu0.18.04.1_all.deb ...\r\nUnpacking ca-certificates (20211016ubuntu0.18.04.1) ...\r\nSetting up libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSetting up ca-certificates (20211016ubuntu0.18.04.1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n124 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.27-3ubuntu1.6) ...\r\nProcessing triggers for ca-certificates (20211016ubuntu0.18.04.1) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container e0c28d4347cc\n ---> 56a51522c1ef\nStep 10/11 : COPY --from=build /app/itacho /usr/local/bin/itacho\n ---> 0aa9a8ca5fbf\nStep 11/11 : CMD [\"/usr/local/bin/itacho\", \"server\"]\n ---> Running in 234f27ba0686\nRemoving intermediate container 234f27ba0686\n ---> 3c34b3f51cf8\nSuccessfully built 3c34b3f51cf8\nSuccessfully tagged itacho:latest\n","stderr":"","imageSize":91081326}}