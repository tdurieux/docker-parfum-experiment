{"repository":"https://github.com/sunzongzheng/player-be","dockerfilePath":"Dockerfile","startTime":1672733976844,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sunzongzheng/player-be'...\n","error":null,"commit":"6d65ed7bb4a6fe56fa95e30ee09116ab31f47d93"},"originalBuild":{"startTimestamp":1672733977694,"endTimestamp":1672734025500,"error":null,"stdout":"Sending build context to Docker daemon  307.7kB\r\r\nStep 1/10 : FROM node:8\n8: Pulling from library/node\nDigest: sha256:a681bf74805b80d03eb21a6c0ef168a976108a287a74167ab593fc953aac34df\nStatus: Downloaded newer image for node:8\n ---> 8eeadf3757f4\nStep 2/10 : ENV APP_ROOT /app\n ---> Running in 7e7957d7a570\nRemoving intermediate container 7e7957d7a570\n ---> 347aa2dd016d\nStep 3/10 : ENV NODE_ENV production\n ---> Running in 9685bf489e7a\nRemoving intermediate container 9685bf489e7a\n ---> 810ccc0bed8f\nStep 4/10 : WORKDIR ${APP_ROOT}\n ---> Running in 3735ffab1630\nRemoving intermediate container 3735ffab1630\n ---> b4101e4fab51\nStep 5/10 : COPY package.json tsconfig.json ${APP_ROOT}/\n ---> f9eff21ba61c\nStep 6/10 : RUN npm i\n ---> Running in e0ec898c099d\n\u001b[91mnpm WARN deprecated axios@0.18.1: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated sequelize@4.44.4: Please update to v6 or higher! A migration guide can be found here: https://sequelize.org/v6/manual/upgrade-to-v6.html\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io@3.0.2: This is a stub types definition. socket.io provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated terraformer-wkt-parser@1.2.1: terraformer-wkt-parser is deprecated and no longer supported. Please use @terraformer/wkt.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/redis@4.0.11: This is a stub types definition. redis provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated terraformer@1.0.12: terraformer is deprecated and no longer supported. Please use @terraformer/arcgis.\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@5.3.1: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for semver@7.3.8: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm \u001b[0m\u001b[91mWARN notsup Not compatible with your version of node/npm: semver@7.3.8\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Unsupported engine for lru-cache@6.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: lru-cache@6.0.0\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for socket.io-parser@3.4.2: wanted: {\"node\":\">=10.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: socket.io-parser@3.4.2\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for redis@3.1.2: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: redis@3.1.2\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m api@1.0.0 No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 433 packages from 629 contributors and audited 656 packages in 28.515s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 18 vulnerabilities (9 moderate, 7 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container e0ec898c099d\n ---> 3591ddbea284\nStep 7/10 : COPY src ${APP_ROOT}/src/\n ---> f34b580d6b8e\nStep 8/10 : COPY config ${APP_ROOT}/config/\n ---> 0d21597f93e6\nStep 9/10 : EXPOSE 8080 8081\n ---> Running in ef6472126443\nRemoving intermediate container ef6472126443\n ---> 91335f97836c\nStep 10/10 : CMD [\"npm\", \"run\", \"start\"]\n ---> Running in 7f7cd8c5e913\nRemoving intermediate container 7f7cd8c5e913\n ---> b5983f8d6ad4\nSuccessfully built b5983f8d6ad4\nSuccessfully tagged player-be:latest\n","stderr":"","imageSize":1099404080},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":9}}],"repairedDockerfile":"FROM node:8\n\nENV APP_ROOT /app\nENV NODE_ENV production\n\nWORKDIR ${APP_ROOT}\n\nCOPY package.json tsconfig.json ${APP_ROOT}/\n\nRUN npm i\n\nCOPY src ${APP_ROOT}/src/\n\nCOPY config ${APP_ROOT}/config/\n\nEXPOSE 8080 8081\n\nCMD [\"npm\", \"run\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672734026073,"endTimestamp":1672734073823,"error":null,"stdout":"Sending build context to Docker daemon  307.7kB\r\r\nStep 1/10 : FROM node:8\n ---> 8eeadf3757f4\nStep 2/10 : ENV APP_ROOT /app\n ---> Running in 53079f16425d\nRemoving intermediate container 53079f16425d\n ---> 6e17c3915e56\nStep 3/10 : ENV NODE_ENV production\n ---> Running in 180bbaa16c96\nRemoving intermediate container 180bbaa16c96\n ---> aa254fd734e5\nStep 4/10 : WORKDIR ${APP_ROOT}\n ---> Running in a7b5ae5eeac8\nRemoving intermediate container a7b5ae5eeac8\n ---> 55e8f2daac77\nStep 5/10 : COPY package.json tsconfig.json ${APP_ROOT}/\n ---> f269381ff2e8\nStep 6/10 : RUN npm i\n ---> Running in 54fdd56050d1\n\u001b[91mnpm WARN deprecated axios@0.18.1: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated sequelize@4.44.4: Please update to v6 or higher! A migration guide can be found here: https://sequelize.org/v6/manual/upgrade-to-v6.html\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated @types/redis@4.0.11: This is a stub types definition. redis provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io@3.0.2: This is a stub types definition. socket.io provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated terraformer-wkt-parser@1.2.1: terraformer-wkt-parser is deprecated and no longer supported. Please use @terraformer/wkt.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated terraformer@1.0.12: terraformer is deprecated and no longer supported. Please use @terraformer/arcgis.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@5.3.1: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for semver@7.3.8: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: semver@7.3.8\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for lru-cache@6.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm\u001b[0m\u001b[91m WARN notsup Not compatible with your version of node/npm: lru-cache@6.0.0\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for socket.io-parser@3.4.2: wanted: {\"node\":\">=10.0.0\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: socket.io-parser@3.4.2\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for redis@3.1.2: wanted: {\"node\":\">=10\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.13.4\"})\nnpm WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: redis@3.1.2\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm\u001b[0m\u001b[91m WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN api@1.0.0 No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 433 packages from 629 contributors and audited 656 packages in 17.516s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 18 vulnerabilities (9 moderate, 7 high, 2 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 54fdd56050d1\n ---> bfe3c8e8a59d\nStep 7/10 : COPY src ${APP_ROOT}/src/\n ---> d5d5f0019fda\nStep 8/10 : COPY config ${APP_ROOT}/config/\n ---> 513400c3cedd\nStep 9/10 : EXPOSE 8080 8081\n ---> Running in ba29d48256f4\nRemoving intermediate container ba29d48256f4\n ---> 8885ba9e9c95\nStep 10/10 : CMD [\"npm\", \"run\", \"start\"]\n ---> Running in 34b7b467ad9b\nRemoving intermediate container 34b7b467ad9b\n ---> dabab85ce969\nSuccessfully built dabab85ce969\nSuccessfully tagged player-be:latest\n","stderr":"","imageSize":1099409211},"endTime":1672734074457}