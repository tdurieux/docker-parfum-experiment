{"repository":"https://github.com/lsst-dm/alert_stream","dockerfilePath":"Dockerfile","startTime":1672084273141,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lsst-dm/alert_stream'...\n","error":null,"commit":"139d489d57d35ce8e252bd32a7b23c853f4365c5"},"originalBuild":{"startTimestamp":1672084273991,"endTimestamp":1672084335919,"error":null,"stdout":"Sending build context to Docker daemon  541.2kB\r\r\nStep 1/13 : FROM python:3.6\n3.6: Pulling from library/python\nDigest: sha256:f8652afaf88c25f0d22354d547d892591067aa4026a7fa9a6819df9f300af6fc\nStatus: Downloaded newer image for python:3.6\n ---> 54260638d07c\nStep 2/13 : LABEL maintainer=\"LSST Alert Production; https://dm.lsst.org/\"\n ---> Running in 90942c853251\nRemoving intermediate container 90942c853251\n ---> fd98d30e76a6\nStep 3/13 : RUN pip install 'confluent-kafka>=0.11.4'\n ---> Running in 6d13cc4d71d7\nCollecting confluent-kafka>=0.11.4\n  Downloading confluent_kafka-1.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)\nInstalling collected packages: confluent-kafka\nSuccessfully installed confluent-kafka-1.9.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 6d13cc4d71d7\n ---> 9b318af6b934\nStep 4/13 : RUN pip install avro-python3\n ---> Running in 174f8e4acc5f\nCollecting avro-python3\n  Downloading avro-python3-1.10.2.tar.gz (38 kB)\nBuilding wheels for collected packages: avro-python3\n  Building wheel for avro-python3 (setup.py): started\n  Building wheel for avro-python3 (setup.py): finished with status 'done'\n  Created wheel for avro-python3: filename=avro_python3-1.10.2-py3-none-any.whl size=44009 sha256=8442fbabb37129457a6b31363b4e765f49c5b94bfd8610354989eca8468a1f59\n  Stored in directory: /root/.cache/pip/wheels/5b/6f/ca/80164a844e4691238e34a8b139b4695354df4490db91be61f7\nSuccessfully built avro-python3\nInstalling collected packages: avro-python3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mSuccessfully installed avro-python3-1.10.2\n\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 174f8e4acc5f\n ---> 1f4b2b842cc3\nStep 5/13 : RUN pip install Cython\n ---> Running in 1d65dbdb70f1\nCollecting Cython\n  Downloading Cython-0.29.32-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (2.0 MB)\nInstalling collected packages: Cython\nSuccessfully installed Cython-0.29.32\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 1d65dbdb70f1\n ---> 3ac37413878b\nStep 6/13 : RUN pip install fastavro\n ---> Running in da46a2187903\nCollecting fastavro\n  Downloading fastavro-1.4.7-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)\nInstalling collected packages: fastavro\nSuccessfully installed fastavro-1.4.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container da46a2187903\n ---> c3046f1e99e1\nStep 7/13 : RUN pip install numpy\n ---> Running in 2bbf6ac96521\nCollecting numpy\n  Downloading numpy-1.19.5-cp36-cp36m-manylinux2010_x86_64.whl (14.8 MB)\nInstalling collected packages: numpy\nSuccessfully installed numpy-1.19.5\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 2bbf6ac96521\n ---> e98df02e309b\nStep 8/13 : WORKDIR /home\n ---> Running in 69b3c13fc3fd\nRemoving intermediate container 69b3c13fc3fd\n ---> c3dde19b1036\nStep 9/13 : RUN git clone https://github.com/lsst-dm/sample-avro-alert.git\n ---> Running in 72ca4573dd2d\n\u001b[91mCloning into 'sample-avro-alert'...\n\u001b[0mRemoving intermediate container 72ca4573dd2d\n ---> 3f68e7e5d763\nStep 10/13 : RUN mkdir alert_stream\n ---> Running in a9b19bb75ef0\nRemoving intermediate container a9b19bb75ef0\n ---> f566ce5e0cda\nStep 11/13 : ADD . /home/alert_stream\n ---> ef7331915db7\nStep 12/13 : ENV PYTHONPATH=/home/alert_stream/python:/home/sample-avro-alert/python\n ---> Running in a0ecd82e6752\nRemoving intermediate container a0ecd82e6752\n ---> 8f82eab0ca23\nStep 13/13 : WORKDIR /home/alert_stream\n ---> Running in a3575afdb616\nRemoving intermediate container a3575afdb616\n ---> 8e582a001659\nSuccessfully built 8e582a001659\nSuccessfully tagged alert_stream:latest\n","stderr":"","imageSize":1018586700},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":4,"end":4,"columnStart":4,"columnEnd":41}},{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":4,"columnEnd":28}},{"name":"pipUseNoCacheDir","position":{"start":6,"end":6,"columnStart":4,"columnEnd":22}},{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":4,"columnEnd":24}},{"name":"pipUseNoCacheDir","position":{"start":8,"end":8,"columnStart":4,"columnEnd":21}}],"repairedDockerfile":"FROM python:3.6\nLABEL maintainer=\"LSST Alert Production; https://dm.lsst.org/\"\n\n# Pip installs.\nRUN pip install --no-cache-dir 'confluent-kafka>=0.11.4'\nRUN pip install --no-cache-dir avro-python3\nRUN pip install --no-cache-dir Cython\nRUN pip install --no-cache-dir fastavro\nRUN pip install --no-cache-dir numpy\n\n# Get schemas and template data.\nWORKDIR /home\nRUN git clone https://github.com/lsst-dm/sample-avro-alert.git\n\n# Add code.\nRUN mkdir alert_stream\nADD . /home/alert_stream\nENV PYTHONPATH=/home/alert_stream/python:/home/sample-avro-alert/python\n\nWORKDIR /home/alert_stream\n"},"repairedBuild":{"startTimestamp":1672084336366,"endTimestamp":1672084380074,"error":null,"stdout":"Sending build context to Docker daemon  541.7kB\r\r\nStep 1/13 : FROM python:3.6\n ---> 54260638d07c\nStep 2/13 : LABEL maintainer=\"LSST Alert Production; https://dm.lsst.org/\"\n ---> Running in f69b4a0874d9\nRemoving intermediate container f69b4a0874d9\n ---> f0aea75d2693\nStep 3/13 : RUN pip install --no-cache-dir 'confluent-kafka>=0.11.4'\n ---> Running in e88748c136f2\nCollecting confluent-kafka>=0.11.4\n  Downloading confluent_kafka-1.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)\nInstalling collected packages: confluent-kafka\nSuccessfully installed confluent-kafka-1.9.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e88748c136f2\n ---> bf0a79d444e4\nStep 4/13 : RUN pip install --no-cache-dir avro-python3\n ---> Running in 177b98383ef6\nCollecting avro-python3\n  Downloading avro-python3-1.10.2.tar.gz (38 kB)\nBuilding wheels for collected packages: avro-python3\n  Building wheel for avro-python3 (setup.py): started\n  Building wheel for avro-python3 (setup.py): finished with status 'done'\n  Created wheel for avro-python3: filename=avro_python3-1.10.2-py3-none-any.whl size=44009 sha256=f8c55f60c6151c4d097d2e7b4fdda64355cb53058a700ea34e55bf5684131abf\n  Stored in directory: /tmp/pip-ephem-wheel-cache-q5ift_u_/wheels/5b/6f/ca/80164a844e4691238e34a8b139b4695354df4490db91be61f7\nSuccessfully built avro-python3\nInstalling collected packages: avro-python3\nSuccessfully installed avro-python3-1.10.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 177b98383ef6\n ---> fffaaf7f18c1\nStep 5/13 : RUN pip install --no-cache-dir Cython\n ---> Running in df2f6e7d830b\nCollecting Cython\n  Downloading Cython-0.29.32-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (2.0 MB)\nInstalling collected packages: Cython\nSuccessfully installed Cython-0.29.32\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container df2f6e7d830b\n ---> f1367993f391\nStep 6/13 : RUN pip install --no-cache-dir fastavro\n ---> Running in 09da84886508\nCollecting fastavro\n  Downloading fastavro-1.4.7-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)\nInstalling collected packages: fastavro\nSuccessfully installed fastavro-1.4.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 09da84886508\n ---> bfe3177f6b0e\nStep 7/13 : RUN pip install --no-cache-dir numpy\n ---> Running in d8fb10d913ee\nCollecting numpy\n  Downloading numpy-1.19.5-cp36-cp36m-manylinux2010_x86_64.whl (14.8 MB)\nInstalling collected packages: numpy\nSuccessfully installed numpy-1.19.5\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container d8fb10d913ee\n ---> d2d01abef218\nStep 8/13 : WORKDIR /home\n ---> Running in 3861699f222d\nRemoving intermediate container 3861699f222d\n ---> cac4de57888b\nStep 9/13 : RUN git clone https://github.com/lsst-dm/sample-avro-alert.git\n ---> Running in c5bb9ba5e9c9\n\u001b[91mCloning into 'sample-avro-alert'...\n\u001b[0mRemoving intermediate container c5bb9ba5e9c9\n ---> de2b84698573\nStep 10/13 : RUN mkdir alert_stream\n ---> Running in 9a28ac6c360d\nRemoving intermediate container 9a28ac6c360d\n ---> 7220716b5ec8\nStep 11/13 : ADD . /home/alert_stream\n ---> d5b5378009e5\nStep 12/13 : ENV PYTHONPATH=/home/alert_stream/python:/home/sample-avro-alert/python\n ---> Running in c2cd7581e498\nRemoving intermediate container c2cd7581e498\n ---> 8259696cbecd\nStep 13/13 : WORKDIR /home/alert_stream\n ---> Running in 25b1bb87e5ab\nRemoving intermediate container 25b1bb87e5ab\n ---> 9518223a9385\nSuccessfully built 9518223a9385\nSuccessfully tagged alert_stream:latest\n","stderr":"","imageSize":995731820},"endTime":1672084380477}