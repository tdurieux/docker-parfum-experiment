{"repository":"https://github.com/foxxmd/context-mod","dockerfilePath":"Dockerfile","startTime":1672556145450,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/foxxmd/context-mod'...\n","error":null,"commit":"a891e2d42b7cc23d2f5db467448ffd037e4fab65"},"originalBuild":{"startTimestamp":1672556147118,"endTimestamp":1672556470936,"error":null,"stdout":"Sending build context to Docker daemon   16.5MB\r\r\nStep 1/30 : FROM lsiobase/alpine:3.15 as base\n3.15: Pulling from lsiobase/alpine\n32f2d359d23d: Pulling fs layer\n0fc64f092d2c: Pulling fs layer\n2d6ab35ab63a: Pulling fs layer\n2d6ab35ab63a: Download complete\n0fc64f092d2c: Download complete\n32f2d359d23d: Verifying Checksum\n32f2d359d23d: Download complete\n32f2d359d23d: Pull complete\n0fc64f092d2c: Pull complete\n2d6ab35ab63a: Pull complete\nDigest: sha256:b4d56992c5688d95f6e42b1e0eb24bbcb9f05a75721e20649f37881a8336e0bf\nStatus: Downloaded newer image for lsiobase/alpine:3.15\n ---> 0f02d3048c7c\nStep 2/30 : ENV TZ=Etc/GMT\n ---> Running in 09dfa6ae57be\nRemoving intermediate container 09dfa6ae57be\n ---> a4a1c4b8dc7e\nStep 3/30 : ENV NODE_VERSION 16.14.2\n ---> Running in a5a3895f6883\nRemoving intermediate container a5a3895f6883\n ---> f1479ef6ab23\nStep 4/30 : RUN apk add --no-cache         libstdc++     && apk add --no-cache --virtual .build-deps         curl     && ARCH= && alpineArch=\"$(apk --print-arch)\"       && case \"${alpineArch##*-}\" in         x86_64)           ARCH='x64'           CHECKSUM=\"a6dc255e1ef1f20372306eec932b4a3648575c6d3024bcd685b8efc93dc95569\"           ;;         *) ;;       esac   && if [ -n \"${CHECKSUM}\" ]; then     set -eu;     curl -fsSLO --compressed \"https://unofficial-builds.nodejs.org/download/release/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\";     echo \"$CHECKSUM  node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" | sha256sum -c -       && tar -xJf \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" -C /usr/local --strip-components=1 --no-same-owner       && ln -s /usr/local/bin/node /usr/local/bin/nodejs;   else     echo \"Building from source\"     && apk add --no-cache --virtual .build-deps-full         binutils-gold         g++         gcc         gnupg         libgcc         linux-headers         make         python3     && for key in       4ED778F539E3634C779C87C6D7062848A1AB005C       141F07595B7B3FFE74309A937405533BE57C7D57       94AE36675C464D64BAFA68DD7434390BDBE9B9C5       74F12602B6F1C4E913FAA37AD3A89613643B6201       71DCFD284A79C3B38668286BC97EC7A07EDE3FC1       8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600       C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8       C82FA3AE1CBEDC6BE46B9360C43CEC45C17AB93C       DD8F2338BAE7501E3DD5AC78C273792F7D83545D       A48C2BEE680E841632CD4E44F07496B3EB3C1762       108F52B48DB57BB0CC439B2997B01419BD92F80A       B9E2F5981AA6E0CD28160D9FF13993A75599653C     ; do       gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$key\" ||       gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\" ;     done     && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.xz\"     && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc\"     && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc     && grep \" node-v$NODE_VERSION.tar.xz\\$\" SHASUMS256.txt | sha256sum -c -     && tar -xf \"node-v$NODE_VERSION.tar.xz\"     && cd \"node-v$NODE_VERSION\"     && ./configure     && make -j$(getconf _NPROCESSORS_ONLN) V=     && make install     && apk del .build-deps-full     && cd ..     && rm -Rf \"node-v$NODE_VERSION\"     && rm \"node-v$NODE_VERSION.tar.xz\" SHASUMS256.txt.asc SHASUMS256.txt;   fi   && rm -f \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\"   && apk del .build-deps   && node --version   && npm --version\n ---> Running in 858d65dd0cd5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing libgcc (10.3.1_git20211027-r0)\n(2/2) Installing libstdc++ (10.3.1_git20211027-r0)\nOK: 20 MiB in 39 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing .build-deps (20230101.065621)\nOK: 20 MiB in 40 packages\nnode-v16.14.2-linux-x64-musl.tar.xz: OK\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/community: No such file or directory\n\u001b[0m(1/1) Purging .build-deps (20230101.065621)\nOK: 20 MiB in 39 packages\nv16.14.2\n8.5.0\nRemoving intermediate container 858d65dd0cd5\n ---> 4ce6b1f15d2a\nStep 5/30 : RUN echo \"http://dl-4.alpinelinux.org/alpine/v3.14/community\" >> /etc/apk/repositories     && apk --no-cache add vips\n ---> Running in 859428599e39\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-4.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/49) Installing openexr (3.1.4-r0)\n(2/49) Installing libxau (1.0.9-r0)\n(3/49) Installing libmd (1.0.3-r0)\n(4/49) Installing libbsd (0.11.3-r1)\n(5/49) Installing libxdmcp (1.1.3-r0)\n(6/49) Installing libxcb (1.14-r2)\n(7/49) Installing libx11 (1.7.3.1-r0)\n(8/49) Installing libxext (1.3.4-r0)\n(9/49) Installing libxrender (0.9.10-r3)\n(10/49) Installing expat (2.5.0-r0)\n(11/49) Installing libbz2 (1.0.8-r1)\n(12/49) Installing libpng (1.6.37-r1)\n(13/49) Installing freetype (2.11.1-r2)\n(14/49) Installing libuuid (2.37.4-r0)\n(15/49) Installing fontconfig (2.13.1-r4)\n(16/49) Installing pixman (0.40.0-r4)\n(17/49) Installing cairo (1.16.0-r5)\n(18/49) Installing cfitsio (4.0.0-r0)\n(19/49) Installing libexif (0.6.23-r0)\n(20/49) Installing fftw-double-libs (3.3.10-r0)\n(21/49) Installing libffi (3.4.2-r1)\n(22/49) Installing libblkid (2.37.4-r0)\n(23/49) Installing libmount (2.37.4-r0)\n(24/49) Installing pcre (8.45-r1)\n(25/49) Installing glib (2.70.1-r0)\n(26/49) Installing aom-libs (3.2.0-r0)\n(27/49) Installing libde265 (1.0.8-r2)\n(28/49) Installing x265-libs (3.5-r0)\n(29/49) Installing libheif (1.12.0-r2)\n(30/49) Installing libimagequant (2.16.0-r0)\n(31/49) Installing libjpeg-turbo (2.1.2-r0)\n(32/49) Installing lcms2 (2.12-r1)\n(33/49) Installing openjpeg (2.4.0-r2)\n(34/49) Installing orc (0.4.32-r0)\n(35/49) Installing libxft (2.3.4-r0)\n(36/49) Installing fribidi (1.0.11-r0)\n(37/49) Installing graphite2 (1.3.14-r0)\n(38/49) Installing harfbuzz (3.0.0-r2)\n(39/49) Installing pango (1.48.10-r0)\n(40/49) Installing cairo-gobject (1.16.0-r5)\n(41/49) Installing pkgconf (1.8.0-r0)\n(42/49) Installing libxml2 (2.9.14-r2)\n(43/49) Installing shared-mime-info (2.1-r1)\n(44/49) Installing libwebp (1.2.2-r0)\n(45/49) Installing zstd-libs (1.5.0-r0)\n(46/49) Installing tiff (4.4.0-r0)\n(47/49) Installing gdk-pixbuf (2.42.8-r0)\n(48/49) Installing librsvg (2.50.7-r1)\n(49/49) Installing vips (8.12.1-r0)\nExecuting busybox-1.34.1-r7.trigger\nExecuting shared-mime-info-2.1-r1.trigger\nExecuting gdk-pixbuf-2.42.8-r0.trigger\nOK: 75 MiB in 88 packages\nRemoving intermediate container 859428599e39\n ---> 95eb79e2aa73\nStep 6/30 : RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\n ---> Running in 4373a883783c\nRemoving intermediate container 4373a883783c\n ---> c0c5fcac2de1\nStep 7/30 : ARG data_dir=/config\n ---> Running in 4a3174a99922\nRemoving intermediate container 4a3174a99922\n ---> fa3d0a1d74c1\nStep 8/30 : VOLUME $data_dir\n ---> Running in 9bfcccb98077\nRemoving intermediate container 9bfcccb98077\n ---> ce87d60b5558\nStep 9/30 : ENV DATA_DIR=$data_dir\n ---> Running in e555fabe526f\nRemoving intermediate container e555fabe526f\n ---> 57851e215425\nStep 10/30 : COPY docker/root/ /\n ---> dd4bbc316434\nStep 11/30 : WORKDIR /app\n ---> Running in c989390955e3\nRemoving intermediate container c989390955e3\n ---> b14b48bdfdb6\nStep 12/30 : FROM base as build\n ---> b14b48bdfdb6\nStep 13/30 : COPY --chown=abc:abc package*.json ./\n ---> 64d4b931a310\nStep 14/30 : COPY --chown=abc:abc tsconfig.json .\n ---> 23a2522b30b5\nStep 15/30 : RUN npm install\n ---> Running in 4b9a68477d4e\n\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated snekfetch@3.6.4: use node-fetch instead\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-parser@3.0.0: This is a stub types definition. socket.io-parser provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@2.6.6: invalid release\n\u001b[0m\n> redditcontextbot@0.11.4 postinstall\n> patch-package\n\npatch-package 6.4.7\nApplying patches...\n\u001b[91mNo patch files found\n\u001b[0m\nadded 990 packages, and audited 991 packages in 30s\n\n100 packages are looking for funding\n  run `npm fund` for details\n\n13 vulnerabilities (2 low, 6 moderate, 4 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.5.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 4b9a68477d4e\n ---> 9475582cc891\nStep 16/30 : COPY --chown=abc:abc Gemfile Gemfile.lock _config.yml ./\n ---> cc57c596d60a\nStep 17/30 : COPY --chown=abc:abc docs ./docs/\n ---> 08335fc1114c\nStep 18/30 : RUN apk add --no-cache --virtual .build-deps     ruby-jekyll     && bundle install     && jekyll build -b /docs     && apk del .build-deps     && rm -rf docs\n ---> Running in 364ed4a57a46\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-4.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing gmp (6.2.1-r1)\n(2/37) Installing gdbm (1.22-r0)\n(3/37) Installing libucontext (1.1-r0)\n(4/37) Installing yaml (0.2.5-r0)\n(5/37) Installing ruby-libs (3.0.4-r0)\n(6/37) Installing ruby (3.0.4-r0)\n(7/37) Installing ruby-webrick (1.7.0-r0)\n(8/37) Installing ruby-bundler (2.2.33-r0)\n(9/37) Installing ruby-public_suffix (4.0.6-r1)\n(10/37) Installing ruby-addressable (2.8.0-r0)\n(11/37) Installing ruby-colorator (1.1.0-r1)\n(12/37) Installing ruby-eventmachine (1.2.7-r2)\n(13/37) Installing http-parser (2.9.4-r0)\n(14/37) Installing ruby-http_parser.rb (0.8.0-r0)\n(15/37) Installing ruby-em-websocket (0.5.3-r0)\n(16/37) Installing ruby-concurrent-ruby (1.1.9-r2)\n(17/37) Installing ruby-i18n (1.8.11-r0)\n(18/37) Installing libsass (3.6.5-r0)\n(19/37) Installing ruby-ffi (1.15.5-r0)\nExecuting ruby-ffi-1.15.5-r0.post-install\n(20/37) Installing ruby-sassc (2.4.0-r1)\n(21/37) Installing ruby-jekyll-sass-converter (2.1.0-r1)\n(22/37) Installing ruby-rb-inotify (0.10.1-r1)\n(23/37) Installing ruby-listen (3.7.1-r0)\n(24/37) Installing ruby-jekyll-watch (2.2.1-r1)\n(25/37) Installing ruby-rexml (3.2.5-r1)\n(26/37) Installing ruby-kramdown (2.3.1-r1)\n(27/37) Installing ruby-kramdown-parser-gfm (1.1.0-r1)\n(28/37) Installing ruby-liquid (4.0.3-r1)\n(29/37) Installing ruby-mercenary (0.4.0-r1)\n(30/37) Installing ruby-forwardable-extended (2.6.0-r1)\n(31/37) Installing ruby-pathutil (0.16.2-r1)\n(32/37) Installing ruby-rouge (3.26.1-r1)\n(33/37) Installing ruby-safe_yaml (1.0.5-r1)\n(34/37) Installing ruby-unicode-display_width (1.7.0-r1)\n(35/37) Installing ruby-terminal-table (2.0.0-r1)\n(36/37) Installing ruby-jekyll (4.2.1-r1)\n(37/37) Installing .build-deps (20230101.065920)\nExecuting busybox-1.34.1-r7.trigger\nOK: 104 MiB in 125 packages\n\u001b[91mDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[0m\u001b[91mWarning: the running version of Bundler (2.2.33) is older than the version that created the lockfile (2.3.25). We suggest you to upgrade to the version that created the lockfile by running `gem install bundler:2.3.25`.\n\u001b[0mFetching gem metadata from https://rubygems.org/...........\nFetching rake 13.0.6\nInstalling rake 13.0.6\nUsing bundler 2.2.33\nUsing rexml 3.2.5\nUsing colorator 1.1.0\nUsing eventmachine 1.2.7\nUsing http_parser.rb 0.8.0\nUsing ffi 1.15.5\nUsing forwardable-extended 2.6.0\nUsing liquid 4.0.3\nUsing mercenary 0.4.0\nUsing safe_yaml 1.0.5\nFetching public_suffix 5.0.0\nFetching concurrent-ruby 1.1.10\nFetching rb-fsevent 0.11.2\nFetching rouge 3.30.0\nFetching unicode-display_width 1.8.0\nUsing sassc 2.4.0\nUsing rb-inotify 0.10.1\nUsing pathutil 0.16.2\nFetching jekyll-sass-converter 2.2.0\nFetching kramdown 2.4.0\nUsing em-websocket 0.5.3\nInstalling jekyll-sass-converter 2.2.0\nInstalling unicode-display_width 1.8.0\nInstalling rb-fsevent 0.11.2\nInstalling public_suffix 5.0.0\nInstalling kramdown 2.4.0\nUsing terminal-table 2.0.0\nInstalling concurrent-ruby 1.1.10\nUsing listen 3.7.1\nUsing jekyll-watch 2.2.1\nInstalling rouge 3.30.0\nFetching addressable 2.8.1\nInstalling addressable 2.8.1\nFetching i18n 1.12.0\nInstalling i18n 1.12.0\nUsing kramdown-parser-gfm 1.1.0\nFetching jekyll 4.2.2\nInstalling jekyll 4.2.2\nFetching jekyll-default-layout 0.1.5\nFetching jekyll-optional-front-matter 0.3.2\nFetching jekyll-readme-index 0.3.0\nFetching jekyll-relative-links 0.6.1\nFetching jekyll-seo-tag 2.8.0\nFetching jekyll-titles-from-headings 0.5.3\nInstalling jekyll-optional-front-matter 0.3.2\nInstalling jekyll-default-layout 0.1.5\nInstalling jekyll-relative-links 0.6.1\nInstalling jekyll-readme-index 0.3.0\nInstalling jekyll-titles-from-headings 0.5.3\nInstalling jekyll-seo-tag 2.8.0\nFetching just-the-docs 0.4.0.rc3\nInstalling just-the-docs 0.4.0.rc3\nBundle complete! 7 Gemfile dependencies, 36 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\n\u001b[91mWarning: the running version of Bundler (2.2.33) is older than the version that created the lockfile (2.3.25). We suggest you to upgrade to the version that created the lockfile by running `gem install bundler:2.3.25`.\n\u001b[0mConfiguration file: /app/_config.yml\n            Source: /app/docs\n       Destination: /app/_site\n Incremental build: disabled. Enable with --incremental\n      Generating... \n                    done in 2.339 seconds.\n Auto-regeneration: disabled. Use --watch to enable.\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/community: No such file or directory\nWARNING: Ignoring http://dl-4.alpinelinux.org/alpine/v3.14/community: No such file or directory\n\u001b[0m(1/37) Purging .build-deps (20230101.065920)\n(2/37) Purging ruby-jekyll (4.2.1-r1)\n(3/37) Purging ruby-webrick (1.7.0-r0)\n(4/37) Purging ruby-bundler (2.2.33-r0)\n(5/37) Purging ruby-addressable (2.8.0-r0)\n(6/37) Purging ruby-public_suffix (4.0.6-r1)\n(7/37) Purging ruby-colorator (1.1.0-r1)\n(8/37) Purging ruby-em-websocket (0.5.3-r0)\n(9/37) Purging ruby-eventmachine (1.2.7-r2)\n(10/37) Purging ruby-http_parser.rb (0.8.0-r0)\n(11/37) Purging ruby-i18n (1.8.11-r0)\n(12/37) Purging ruby-concurrent-ruby (1.1.9-r2)\n(13/37) Purging ruby-jekyll-sass-converter (2.1.0-r1)\n(14/37) Purging ruby-sassc (2.4.0-r1)\n(15/37) Purging libsass (3.6.5-r0)\n(16/37) Purging ruby-jekyll-watch (2.2.1-r1)\n(17/37) Purging ruby-listen (3.7.1-r0)\n(18/37) Purging ruby-rb-inotify (0.10.1-r1)\n(19/37) Purging ruby-ffi (1.15.5-r0)\n(20/37) Purging ruby-kramdown-parser-gfm (1.1.0-r1)\n(21/37) Purging ruby-kramdown (2.3.1-r1)\n(22/37) Purging ruby-rexml (3.2.5-r1)\n(23/37) Purging ruby-liquid (4.0.3-r1)\n(24/37) Purging ruby-mercenary (0.4.0-r1)\n(25/37) Purging ruby-pathutil (0.16.2-r1)\n(26/37) Purging ruby-forwardable-extended (2.6.0-r1)\n(27/37) Purging ruby-rouge (3.26.1-r1)\n(28/37) Purging ruby-safe_yaml (1.0.5-r1)\n(29/37) Purging ruby-terminal-table (2.0.0-r1)\n(30/37) Purging ruby-unicode-display_width (1.7.0-r1)\n(31/37) Purging ruby (3.0.4-r0)\n(32/37) Purging ruby-libs (3.0.4-r0)\n(33/37) Purging gmp (6.2.1-r1)\n(34/37) Purging gdbm (1.22-r0)\n(35/37) Purging libucontext (1.1-r0)\n(36/37) Purging yaml (0.2.5-r0)\n(37/37) Purging http-parser (2.9.4-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 75 MiB in 88 packages\nRemoving intermediate container 364ed4a57a46\n ---> 9c6da72addff\nStep 19/30 : COPY --chown=abc:abc . /app\n ---> 5b21f9f62618\nStep 20/30 : RUN npm run build && rm -rf node_modules\n ---> Running in c9149811d2c1\n\n> redditcontextbot@0.11.4 build\n> tsc && npm run bundle-front\n\n\n> redditcontextbot@0.11.4 bundle-front\n> browserify src/Web/assets/browser.js | terser --compress --mangle > src/Web/assets/public/browserBundle.js\n\nRemoving intermediate container c9149811d2c1\n ---> 34829d6d8847\nStep 21/30 : FROM base as app\n ---> b14b48bdfdb6\nStep 22/30 : COPY --from=build --chown=abc:abc /app /app\n ---> 1458988e2f42\nStep 23/30 : RUN npm install --production     && npm cache clean --force     && chown abc:abc node_modules     && rm -rf node_modules/ts-node     && rm -rf node_modules/typescript\n ---> Running in 0953f4c5520d\n\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated snekfetch@3.6.4: use node-fetch instead\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@2.6.6: invalid release\n\u001b[0m\n> redditcontextbot@0.11.4 postinstall\n> patch-package\n\npatch-package 6.4.7\nApplying patches...\nsnoowrap@1.23.0 ✔\n\nadded 597 packages, and audited 598 packages in 25s\n\n42 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (2 low, 6 moderate, 2 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 0953f4c5520d\n ---> 86745cbe442e\nStep 24/30 : ENV NPM_CONFIG_LOGLEVEL debug\n ---> Running in 63eea861f0a8\nRemoving intermediate container 63eea861f0a8\n ---> 1990c65fee86\nStep 25/30 : ENV DB_DRIVER=better-sqlite3\n ---> Running in a0d5e96ee8a6\nRemoving intermediate container a0d5e96ee8a6\n ---> 85dde644e75f\nStep 26/30 : ENV NODE_ARGS=\"--max_old_space_size=512\"\n ---> Running in a50e63b801c6\nRemoving intermediate container a50e63b801c6\n ---> b2769a288501\nStep 27/30 : ARG webPort=8085\n ---> Running in b15312334725\nRemoving intermediate container b15312334725\n ---> 3e9f0b085947\nStep 28/30 : ENV PORT=$webPort\n ---> Running in 959909fd34eb\nRemoving intermediate container 959909fd34eb\n ---> aba0a2a95ceb\nStep 29/30 : EXPOSE $PORT\n ---> Running in 45551be056e3\nRemoving intermediate container 45551be056e3\n ---> b49ab205ce42\nStep 30/30 : ENV IS_DOCKER=true\n ---> Running in 0413a8c7e58d\nRemoving intermediate container 0413a8c7e58d\n ---> f0143d99989a\nSuccessfully built f0143d99989a\nSuccessfully tagged context-mod:latest\n","stderr":"","imageSize":366133856},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":102,"end":102,"columnStart":4,"columnEnd":15}},{"name":"configureShouldUseBuildFlag","position":{"start":65,"end":65,"columnStart":7,"columnEnd":18}},{"name":"sha256sumEchoOneSpaces","position":{"start":26,"end":26,"columnStart":4,"columnEnd":82}}],"repairedDockerfile":"FROM lsiobase/alpine:3.15 as base\n\nENV TZ=Etc/GMT\n\n# borrowed from node/alpine:3.15\n# https://github.com/nodejs/docker-node/blob/main/16/alpine3.15/Dockerfile\n#\n# Start of node docker stuff\n#\nENV NODE_VERSION 16.14.2\n\nRUN apk add --no-cache \\\n        libstdc++ \\\n    && apk add --no-cache --virtual .build-deps \\\n        curl \\\n    && ARCH= && alpineArch=\"$(apk --print-arch)\" \\\n      && case \"${alpineArch##*-}\" in \\\n        x86_64) \\\n          ARCH='x64' \\\n          CHECKSUM=\"a6dc255e1ef1f20372306eec932b4a3648575c6d3024bcd685b8efc93dc95569\" \\\n          ;; \\\n        *) ;; \\\n      esac \\\n  && if [ -n \"${CHECKSUM}\" ]; then \\\n    set -eu; \\\n    curl -fsSLO --compressed \"https://unofficial-builds.nodejs.org/download/release/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\"; \\\n    echo \"$CHECKSUM node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" | sha256sum -c - \\\n      && tar -xJf \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" -C /usr/local --strip-components=1 --no-same-owner \\\n      && ln -s /usr/local/bin/node /usr/local/bin/nodejs; \\\n  else \\\n    echo \"Building from source\" \\\n    # backup build \\\n    && apk add --no-cache --virtual .build-deps-full \\\n        binutils-gold \\\n        g++ \\\n        gcc \\\n        gnupg \\\n        libgcc \\\n        linux-headers \\\n        make \\\n        python3 \\\n    # gpg keys listed at https://github.com/nodejs/node#release-keys\n    && for key in \\\n      4ED778F539E3634C779C87C6D7062848A1AB005C \\\n      141F07595B7B3FFE74309A937405533BE57C7D57 \\\n      94AE36675C464D64BAFA68DD7434390BDBE9B9C5 \\\n      74F12602B6F1C4E913FAA37AD3A89613643B6201 \\\n      71DCFD284A79C3B38668286BC97EC7A07EDE3FC1 \\\n      8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600 \\\n      C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8 \\\n      C82FA3AE1CBEDC6BE46B9360C43CEC45C17AB93C \\\n      DD8F2338BAE7501E3DD5AC78C273792F7D83545D \\\n      A48C2BEE680E841632CD4E44F07496B3EB3C1762 \\\n      108F52B48DB57BB0CC439B2997B01419BD92F80A \\\n      B9E2F5981AA6E0CD28160D9FF13993A75599653C; do \\\n      \n   \n      gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$key\" || \\\n      gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \\\n     done \\\n\n    && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.xz\" \\\n    && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc\" \\\n    && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc \\\n    && grep \" node-v$NODE_VERSION.tar.xz\\$\" SHASUMS256.txt | sha256sum -c - \\\n    && tar -xf \"node-v$NODE_VERSION.tar.xz\" \\\n    && cd \"node-v$NODE_VERSION\" \\\n    && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n    && make -j$(getconf _NPROCESSORS_ONLN) V= \\\n    && make install \\\n    && apk del .build-deps-full \\\n    && cd .. \\\n    && rm -Rf \"node-v$NODE_VERSION\" \\\n    && rm \"node-v$NODE_VERSION.tar.xz\" SHASUMS256.txt.asc SHASUMS256.txt; \\\n  fi \\\n  && rm -f \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" \\\n  && apk del .build-deps \\\n  # smoke tests\n  && node --version \\\n  && npm --version\n#\n# end of docker node stuff\n#\n\n# vips required to run sharp library for image comparison\nRUN echo \"http://dl-4.alpinelinux.org/alpine/v3.14/community\" >> /etc/apk/repositories \\\n    && apk --no-cache add vips\n\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\n\nARG data_dir=/config\nVOLUME $data_dir\nENV DATA_DIR=$data_dir\n\nCOPY docker/root/ /\n\nWORKDIR /app\n\nFROM base as build\n\n# copy NPM dependencies and install\nCOPY --chown=abc:abc package*.json ./\nCOPY --chown=abc:abc tsconfig.json .\n\nRUN npm install\n\n# copy bundle/jekyll dependencies and docs folder\nCOPY --chown=abc:abc Gemfile Gemfile.lock _config.yml ./\nCOPY --chown=abc:abc docs ./docs/\n\n# sassc (a jekll dependency) is very slow to compile bc there are no alpine binaries\n# https://github.com/sass/sassc-ruby/issues/189#issuecomment-629758948\n# so for now sync used jekyll version with prebuilt binary available in alpine repo\nRUN apk add --no-cache --virtual .build-deps \\\n    ruby-jekyll \\\n    && bundle install \\\n    && jekyll build -b /docs \\\n    && apk del .build-deps \\\n    && rm -rf docs\n\nCOPY --chown=abc:abc . /app\n\nRUN npm run build && rm -rf node_modules\n\nFROM base as app\n\nCOPY --from=build --chown=abc:abc /app /app\n\nRUN npm install --production \\\n    && npm cache clean --force \\\n    && chown abc:abc node_modules \\\n    && rm -rf node_modules/ts-node \\\n    && rm -rf node_modules/typescript\n\nENV NPM_CONFIG_LOGLEVEL debug\n\n# can set database to use more performant better-sqlite3 since we control everything\nENV DB_DRIVER=better-sqlite3\n\n# NODE_ARGS are expanded after `node` command in the entrypoint IE \"node {NODE_ARGS} src/index.js run\"\n# by default enforce better memory mangement by limiting max long-lived GC space to 512MB\nENV NODE_ARGS=\"--max_old_space_size=512\"\n\nARG webPort=8085\nENV PORT=$webPort\nEXPOSE $PORT\n\n# convenience variable for more helpful error messages\nENV IS_DOCKER=true\n\n"},"repairedBuild":{"startTimestamp":1672556471892,"endTimestamp":1672556837116,"error":null,"stdout":"Sending build context to Docker daemon   16.5MB\r\r\n\u001b[91m[WARNING]: Empty continuation line found in:\n    RUN apk add --no-cache         libstdc++     && apk add --no-cache --virtual .build-deps         curl     && ARCH= && alpineArch=\"$(apk --print-arch)\"       && case \"${alpineArch##*-}\" in         x86_64)           ARCH='x64'           CHECKSUM=\"a6dc255e1ef1f20372306eec932b4a3648575c6d3024bcd685b8efc93dc95569\"           ;;         *) ;;       esac   && if [ -n \"${CHECKSUM}\" ]; then     set -eu;     curl -fsSLO --compressed \"https://unofficial-builds.nodejs.org/download/release/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\";     echo \"$CHECKSUM node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" | sha256sum -c -       && tar -xJf \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" -C /usr/local --strip-components=1 --no-same-owner       && ln -s /usr/local/bin/node /usr/local/bin/nodejs;   else     echo \"Building from source\"     && apk add --no-cache --virtual .build-deps-full         binutils-gold         g++         gcc         gnupg         libgcc         linux-headers         make         python3     && for key in       4ED778F539E3634C779C87C6D7062848A1AB005C       141F07595B7B3FFE74309A937405533BE57C7D57       94AE36675C464D64BAFA68DD7434390BDBE9B9C5       74F12602B6F1C4E913FAA37AD3A89613643B6201       71DCFD284A79C3B38668286BC97EC7A07EDE3FC1       8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600       C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8       C82FA3AE1CBEDC6BE46B9360C43CEC45C17AB93C       DD8F2338BAE7501E3DD5AC78C273792F7D83545D       A48C2BEE680E841632CD4E44F07496B3EB3C1762       108F52B48DB57BB0CC439B2997B01419BD92F80A       B9E2F5981AA6E0CD28160D9FF13993A75599653C; do       gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$key\" ||       gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\";      done     && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.xz\"     && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc\"     && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc     && grep \" node-v$NODE_VERSION.tar.xz\\$\" SHASUMS256.txt | sha256sum -c -     && tar -xf \"node-v$NODE_VERSION.tar.xz\"     && cd \"node-v$NODE_VERSION\"     && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"     && make -j$(getconf _NPROCESSORS_ONLN) V=     && make install     && apk del .build-deps-full     && cd ..     && rm -Rf \"node-v$NODE_VERSION\"     && rm \"node-v$NODE_VERSION.tar.xz\" SHASUMS256.txt.asc SHASUMS256.txt;   fi   && rm -f \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\"   && apk del .build-deps   && node --version   && npm --version\n[WARNING]: Empty continuation lines will become errors in a future release.\n\u001b[0mStep 1/30 : FROM lsiobase/alpine:3.15 as base\n ---> 0f02d3048c7c\nStep 2/30 : ENV TZ=Etc/GMT\n ---> Running in e82eb3ccbd0d\nRemoving intermediate container e82eb3ccbd0d\n ---> dc3c9f4ebe6c\nStep 3/30 : ENV NODE_VERSION 16.14.2\n ---> Running in df59a99ae925\nRemoving intermediate container df59a99ae925\n ---> bd2de797be4d\nStep 4/30 : RUN apk add --no-cache         libstdc++     && apk add --no-cache --virtual .build-deps         curl     && ARCH= && alpineArch=\"$(apk --print-arch)\"       && case \"${alpineArch##*-}\" in         x86_64)           ARCH='x64'           CHECKSUM=\"a6dc255e1ef1f20372306eec932b4a3648575c6d3024bcd685b8efc93dc95569\"           ;;         *) ;;       esac   && if [ -n \"${CHECKSUM}\" ]; then     set -eu;     curl -fsSLO --compressed \"https://unofficial-builds.nodejs.org/download/release/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\";     echo \"$CHECKSUM node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" | sha256sum -c -       && tar -xJf \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" -C /usr/local --strip-components=1 --no-same-owner       && ln -s /usr/local/bin/node /usr/local/bin/nodejs;   else     echo \"Building from source\"     && apk add --no-cache --virtual .build-deps-full         binutils-gold         g++         gcc         gnupg         libgcc         linux-headers         make         python3     && for key in       4ED778F539E3634C779C87C6D7062848A1AB005C       141F07595B7B3FFE74309A937405533BE57C7D57       94AE36675C464D64BAFA68DD7434390BDBE9B9C5       74F12602B6F1C4E913FAA37AD3A89613643B6201       71DCFD284A79C3B38668286BC97EC7A07EDE3FC1       8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600       C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8       C82FA3AE1CBEDC6BE46B9360C43CEC45C17AB93C       DD8F2338BAE7501E3DD5AC78C273792F7D83545D       A48C2BEE680E841632CD4E44F07496B3EB3C1762       108F52B48DB57BB0CC439B2997B01419BD92F80A       B9E2F5981AA6E0CD28160D9FF13993A75599653C; do       gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$key\" ||       gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\";      done     && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.xz\"     && curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc\"     && gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc     && grep \" node-v$NODE_VERSION.tar.xz\\$\" SHASUMS256.txt | sha256sum -c -     && tar -xf \"node-v$NODE_VERSION.tar.xz\"     && cd \"node-v$NODE_VERSION\"     && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"     && make -j$(getconf _NPROCESSORS_ONLN) V=     && make install     && apk del .build-deps-full     && cd ..     && rm -Rf \"node-v$NODE_VERSION\"     && rm \"node-v$NODE_VERSION.tar.xz\" SHASUMS256.txt.asc SHASUMS256.txt;   fi   && rm -f \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\"   && apk del .build-deps   && node --version   && npm --version\n ---> Running in 5ff5803ae293\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing libgcc (10.3.1_git20211027-r0)\n(2/2) Installing libstdc++ (10.3.1_git20211027-r0)\nOK: 20 MiB in 39 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing .build-deps (20230101.070116)\nOK: 20 MiB in 40 packages\nnode-v16.14.2-linux-x64-musl.tar.xz: OK\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/community: No such file or directory\n\u001b[0m(1/1) Purging .build-deps (20230101.070116)\nOK: 20 MiB in 39 packages\nv16.14.2\n8.5.0\nRemoving intermediate container 5ff5803ae293\n ---> 9d10e6007dbb\nStep 5/30 : RUN echo \"http://dl-4.alpinelinux.org/alpine/v3.14/community\" >> /etc/apk/repositories     && apk --no-cache add vips\n ---> Running in 5ddcac3f6190\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-4.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/49) Installing openexr (3.1.4-r0)\n(2/49) Installing libxau (1.0.9-r0)\n(3/49) Installing libmd (1.0.3-r0)\n(4/49) Installing libbsd (0.11.3-r1)\n(5/49) Installing libxdmcp (1.1.3-r0)\n(6/49) Installing libxcb (1.14-r2)\n(7/49) Installing libx11 (1.7.3.1-r0)\n(8/49) Installing libxext (1.3.4-r0)\n(9/49) Installing libxrender (0.9.10-r3)\n(10/49) Installing expat (2.5.0-r0)\n(11/49) Installing libbz2 (1.0.8-r1)\n(12/49) Installing libpng (1.6.37-r1)\n(13/49) Installing freetype (2.11.1-r2)\n(14/49) Installing libuuid (2.37.4-r0)\n(15/49) Installing fontconfig (2.13.1-r4)\n(16/49) Installing pixman (0.40.0-r4)\n(17/49) Installing cairo (1.16.0-r5)\n(18/49) Installing cfitsio (4.0.0-r0)\n(19/49) Installing libexif (0.6.23-r0)\n(20/49) Installing fftw-double-libs (3.3.10-r0)\n(21/49) Installing libffi (3.4.2-r1)\n(22/49) Installing libblkid (2.37.4-r0)\n(23/49) Installing libmount (2.37.4-r0)\n(24/49) Installing pcre (8.45-r1)\n(25/49) Installing glib (2.70.1-r0)\n(26/49) Installing aom-libs (3.2.0-r0)\n(27/49) Installing libde265 (1.0.8-r2)\n(28/49) Installing x265-libs (3.5-r0)\n(29/49) Installing libheif (1.12.0-r2)\n(30/49) Installing libimagequant (2.16.0-r0)\n(31/49) Installing libjpeg-turbo (2.1.2-r0)\n(32/49) Installing lcms2 (2.12-r1)\n(33/49) Installing openjpeg (2.4.0-r2)\n(34/49) Installing orc (0.4.32-r0)\n(35/49) Installing libxft (2.3.4-r0)\n(36/49) Installing fribidi (1.0.11-r0)\n(37/49) Installing graphite2 (1.3.14-r0)\n(38/49) Installing harfbuzz (3.0.0-r2)\n(39/49) Installing pango (1.48.10-r0)\n(40/49) Installing cairo-gobject (1.16.0-r5)\n(41/49) Installing pkgconf (1.8.0-r0)\n(42/49) Installing libxml2 (2.9.14-r2)\n(43/49) Installing shared-mime-info (2.1-r1)\n(44/49) Installing libwebp (1.2.2-r0)\n(45/49) Installing zstd-libs (1.5.0-r0)\n(46/49) Installing tiff (4.4.0-r0)\n(47/49) Installing gdk-pixbuf (2.42.8-r0)\n(48/49) Installing librsvg (2.50.7-r1)\n(49/49) Installing vips (8.12.1-r0)\nExecuting busybox-1.34.1-r7.trigger\nExecuting shared-mime-info-2.1-r1.trigger\nExecuting gdk-pixbuf-2.42.8-r0.trigger\nOK: 75 MiB in 88 packages\nRemoving intermediate container 5ddcac3f6190\n ---> 790600f61c7d\nStep 6/30 : RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\n ---> Running in 7ceb54ad43aa\nRemoving intermediate container 7ceb54ad43aa\n ---> 660b3ecc2fd3\nStep 7/30 : ARG data_dir=/config\n ---> Running in ed853d036fd0\nRemoving intermediate container ed853d036fd0\n ---> be5dce13dd26\nStep 8/30 : VOLUME $data_dir\n ---> Running in 4bd83e443550\nRemoving intermediate container 4bd83e443550\n ---> 5dbd95f59c9b\nStep 9/30 : ENV DATA_DIR=$data_dir\n ---> Running in f16facc9afc9\nRemoving intermediate container f16facc9afc9\n ---> 2acf252594e6\nStep 10/30 : COPY docker/root/ /\n ---> db4c539a7d03\nStep 11/30 : WORKDIR /app\n ---> Running in 2b90705296f9\nRemoving intermediate container 2b90705296f9\n ---> 7ba4ff6df30e\nStep 12/30 : FROM base as build\n ---> 7ba4ff6df30e\nStep 13/30 : COPY --chown=abc:abc package*.json ./\n ---> ff107d7e22bc\nStep 14/30 : COPY --chown=abc:abc tsconfig.json .\n ---> 7e3e65ec0b9f\nStep 15/30 : RUN npm install\n ---> Running in 5ac45873e45c\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated snekfetch@3.6.4: use node-fetch instead\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-parser@3.0.0: This is a stub types definition. socket.io-parser provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@2.6.6: invalid release\n\u001b[0m\n> redditcontextbot@0.11.4 postinstall\n> patch-package\n\npatch-package 6.4.7\nApplying patches...\n\u001b[91mNo patch files found\n\u001b[0m\nadded 990 packages, and audited 991 packages in 30s\n\n100 packages are looking for funding\n  run `npm fund` for details\n\n13 vulnerabilities (2 low, 6 moderate, 4 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container 5ac45873e45c\n ---> 5f1584c4f9b5\nStep 16/30 : COPY --chown=abc:abc Gemfile Gemfile.lock _config.yml ./\n ---> 7e07fa142581\nStep 17/30 : COPY --chown=abc:abc docs ./docs/\n ---> f251bda35a50\nStep 18/30 : RUN apk add --no-cache --virtual .build-deps     ruby-jekyll     && bundle install     && jekyll build -b /docs     && apk del .build-deps     && rm -rf docs\n ---> Running in 63ec0f027917\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-4.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/37) Installing gmp (6.2.1-r1)\n(2/37) Installing gdbm (1.22-r0)\n(3/37) Installing libucontext (1.1-r0)\n(4/37) Installing yaml (0.2.5-r0)\n(5/37) Installing ruby-libs (3.0.4-r0)\n(6/37) Installing ruby (3.0.4-r0)\n(7/37) Installing ruby-webrick (1.7.0-r0)\n(8/37) Installing ruby-bundler (2.2.33-r0)\n(9/37) Installing ruby-public_suffix (4.0.6-r1)\n(10/37) Installing ruby-addressable (2.8.0-r0)\n(11/37) Installing ruby-colorator (1.1.0-r1)\n(12/37) Installing ruby-eventmachine (1.2.7-r2)\n(13/37) Installing http-parser (2.9.4-r0)\n(14/37) Installing ruby-http_parser.rb (0.8.0-r0)\n(15/37) Installing ruby-em-websocket (0.5.3-r0)\n(16/37) Installing ruby-concurrent-ruby (1.1.9-r2)\n(17/37) Installing ruby-i18n (1.8.11-r0)\n(18/37) Installing libsass (3.6.5-r0)\n(19/37) Installing ruby-ffi (1.15.5-r0)\nExecuting ruby-ffi-1.15.5-r0.post-install\n(20/37) Installing ruby-sassc (2.4.0-r1)\n(21/37) Installing ruby-jekyll-sass-converter (2.1.0-r1)\n(22/37) Installing ruby-rb-inotify (0.10.1-r1)\n(23/37) Installing ruby-listen (3.7.1-r0)\n(24/37) Installing ruby-jekyll-watch (2.2.1-r1)\n(25/37) Installing ruby-rexml (3.2.5-r1)\n(26/37) Installing ruby-kramdown (2.3.1-r1)\n(27/37) Installing ruby-kramdown-parser-gfm (1.1.0-r1)\n(28/37) Installing ruby-liquid (4.0.3-r1)\n(29/37) Installing ruby-mercenary (0.4.0-r1)\n(30/37) Installing ruby-forwardable-extended (2.6.0-r1)\n(31/37) Installing ruby-pathutil (0.16.2-r1)\n(32/37) Installing ruby-rouge (3.26.1-r1)\n(33/37) Installing ruby-safe_yaml (1.0.5-r1)\n(34/37) Installing ruby-unicode-display_width (1.7.0-r1)\n(35/37) Installing ruby-terminal-table (2.0.0-r1)\n(36/37) Installing ruby-jekyll (4.2.1-r1)\n(37/37) Installing .build-deps (20230101.070539)\nExecuting busybox-1.34.1-r7.trigger\nOK: 104 MiB in 125 packages\n\u001b[91mDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\n\u001b[0m\u001b[91mWarning: the running version of Bundler (2.2.33) is older than the version that created the lockfile (2.3.25). We suggest you to upgrade to the version that created the lockfile by running `gem install bundler:2.3.25`.\n\u001b[0mFetching gem metadata from https://rubygems.org/...........\nFetching rake 13.0.6\nInstalling rake 13.0.6\nUsing bundler 2.2.33\nUsing eventmachine 1.2.7\nUsing safe_yaml 1.0.5\nFetching unicode-display_width 1.8.0\nUsing colorator 1.1.0\nUsing http_parser.rb 0.8.0\nUsing ffi 1.15.5\nUsing forwardable-extended 2.6.0\nUsing rexml 3.2.5\nUsing liquid 4.0.3\nUsing mercenary 0.4.0\nFetching rouge 3.30.0\nFetching public_suffix 5.0.0\nFetching concurrent-ruby 1.1.10\nFetching rb-fsevent 0.11.2\nUsing em-websocket 0.5.3\nUsing sassc 2.4.0\nUsing rb-inotify 0.10.1\nUsing pathutil 0.16.2\nFetching kramdown 2.4.0\nFetching jekyll-sass-converter 2.2.0\nInstalling jekyll-sass-converter 2.2.0\nInstalling unicode-display_width 1.8.0\nInstalling rb-fsevent 0.11.2\nInstalling public_suffix 5.0.0\nInstalling kramdown 2.4.0\nUsing terminal-table 2.0.0\nInstalling concurrent-ruby 1.1.10\nUsing listen 3.7.1\nUsing jekyll-watch 2.2.1\nInstalling rouge 3.30.0\nFetching addressable 2.8.1\nInstalling addressable 2.8.1\nFetching i18n 1.12.0\nInstalling i18n 1.12.0\nUsing kramdown-parser-gfm 1.1.0\nFetching jekyll 4.2.2\nInstalling jekyll 4.2.2\nFetching jekyll-relative-links 0.6.1\nFetching jekyll-default-layout 0.1.5\nFetching jekyll-optional-front-matter 0.3.2\nFetching jekyll-readme-index 0.3.0\nFetching jekyll-seo-tag 2.8.0\nFetching jekyll-titles-from-headings 0.5.3\nInstalling jekyll-readme-index 0.3.0\nInstalling jekyll-optional-front-matter 0.3.2\nInstalling jekyll-relative-links 0.6.1\nInstalling jekyll-default-layout 0.1.5\nInstalling jekyll-titles-from-headings 0.5.3\nInstalling jekyll-seo-tag 2.8.0\nFetching just-the-docs 0.4.0.rc3\nInstalling just-the-docs 0.4.0.rc3\nBundle complete! 7 Gemfile dependencies, 36 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\n\u001b[91mWarning: the running version of Bundler (2.2.33) is older than the version that created the lockfile (2.3.25). We suggest you to upgrade to the version that created the lockfile by running `gem install bundler:2.3.25`.\n\u001b[0mConfiguration file: /app/_config.yml\n            Source: /app/docs\n       Destination: /app/_site\n Incremental build: disabled. Enable with --incremental\n      Generating... \n                    done in 3.102 seconds.\n Auto-regeneration: disabled. Use --watch to enable.\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.15/community: No such file or directory\nWARNING: Ignoring http://dl-4.alpinelinux.org/alpine/v3.14/community: No such file or directory\n\u001b[0m(1/37) Purging .build-deps (20230101.070539)\n(2/37) Purging ruby-jekyll (4.2.1-r1)\n(3/37) Purging ruby-webrick (1.7.0-r0)\n(4/37) Purging ruby-bundler (2.2.33-r0)\n(5/37) Purging ruby-addressable (2.8.0-r0)\n(6/37) Purging ruby-public_suffix (4.0.6-r1)\n(7/37) Purging ruby-colorator (1.1.0-r1)\n(8/37) Purging ruby-em-websocket (0.5.3-r0)\n(9/37) Purging ruby-eventmachine (1.2.7-r2)\n(10/37) Purging ruby-http_parser.rb (0.8.0-r0)\n(11/37) Purging ruby-i18n (1.8.11-r0)\n(12/37) Purging ruby-concurrent-ruby (1.1.9-r2)\n(13/37) Purging ruby-jekyll-sass-converter (2.1.0-r1)\n(14/37) Purging ruby-sassc (2.4.0-r1)\n(15/37) Purging libsass (3.6.5-r0)\n(16/37) Purging ruby-jekyll-watch (2.2.1-r1)\n(17/37) Purging ruby-listen (3.7.1-r0)\n(18/37) Purging ruby-rb-inotify (0.10.1-r1)\n(19/37) Purging ruby-ffi (1.15.5-r0)\n(20/37) Purging ruby-kramdown-parser-gfm (1.1.0-r1)\n(21/37) Purging ruby-kramdown (2.3.1-r1)\n(22/37) Purging ruby-rexml (3.2.5-r1)\n(23/37) Purging ruby-liquid (4.0.3-r1)\n(24/37) Purging ruby-mercenary (0.4.0-r1)\n(25/37) Purging ruby-pathutil (0.16.2-r1)\n(26/37) Purging ruby-forwardable-extended (2.6.0-r1)\n(27/37) Purging ruby-rouge (3.26.1-r1)\n(28/37) Purging ruby-safe_yaml (1.0.5-r1)\n(29/37) Purging ruby-terminal-table (2.0.0-r1)\n(30/37) Purging ruby-unicode-display_width (1.7.0-r1)\n(31/37) Purging ruby (3.0.4-r0)\n(32/37) Purging ruby-libs (3.0.4-r0)\n(33/37) Purging gmp (6.2.1-r1)\n(34/37) Purging gdbm (1.22-r0)\n(35/37) Purging libucontext (1.1-r0)\n(36/37) Purging yaml (0.2.5-r0)\n(37/37) Purging http-parser (2.9.4-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 75 MiB in 88 packages\nRemoving intermediate container 63ec0f027917\n ---> be279d65d087\nStep 19/30 : COPY --chown=abc:abc . /app\n ---> 41cd1bc99342\nStep 20/30 : RUN npm run build && rm -rf node_modules\n ---> Running in 3c724793d822\n\n> redditcontextbot@0.11.4 build\n> tsc && npm run bundle-front\n\n\n> redditcontextbot@0.11.4 bundle-front\n> browserify src/Web/assets/browser.js | terser --compress --mangle > src/Web/assets/public/browserBundle.js\n\nRemoving intermediate container 3c724793d822\n ---> fd28fd852c16\nStep 21/30 : FROM base as app\n ---> 7ba4ff6df30e\nStep 22/30 : COPY --from=build --chown=abc:abc /app /app\n ---> 3e570bb5ee60\nStep 23/30 : RUN npm install --production     && npm cache clean --force     && chown abc:abc node_modules     && rm -rf node_modules/ts-node     && rm -rf node_modules/typescript\n ---> Running in 7a44f6eba453\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated debug@2.6.6: invalid release\n\u001b[0m\u001b[91mnpm WARN deprecated snekfetch@3.6.4: use node-fetch instead\n\u001b[0m\n> redditcontextbot@0.11.4 postinstall\n> patch-package\n\npatch-package 6.4.7\nApplying patches...\nsnoowrap@1.23.0 ✔\n\nadded 597 packages, and audited 598 packages in 28s\n\n42 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (2 low, 6 moderate, 2 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.5.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m Recommended protections disabled.\n\u001b[0mRemoving intermediate container 7a44f6eba453\n ---> 68ba2892ae6f\nStep 24/30 : ENV NPM_CONFIG_LOGLEVEL debug\n ---> Running in ea6a45030bfe\nRemoving intermediate container ea6a45030bfe\n ---> 91c8bec24538\nStep 25/30 : ENV DB_DRIVER=better-sqlite3\n ---> Running in 182ea5f34d0d\nRemoving intermediate container 182ea5f34d0d\n ---> f3a728e5118c\nStep 26/30 : ENV NODE_ARGS=\"--max_old_space_size=512\"\n ---> Running in 9a0775a977b2\nRemoving intermediate container 9a0775a977b2\n ---> ac5048ead63f\nStep 27/30 : ARG webPort=8085\n ---> Running in ac73194d3cb7\nRemoving intermediate container ac73194d3cb7\n ---> 63a6ce02f2be\nStep 28/30 : ENV PORT=$webPort\n ---> Running in 8e7b13c07646\nRemoving intermediate container 8e7b13c07646\n ---> 9387f81e068f\nStep 29/30 : EXPOSE $PORT\n ---> Running in 48509efbfc42\nRemoving intermediate container 48509efbfc42\n ---> ce40b9a791ed\nStep 30/30 : ENV IS_DOCKER=true\n ---> Running in 2b357d22a7c8\nRemoving intermediate container 2b357d22a7c8\n ---> 2b5a25954c91\nSuccessfully built 2b5a25954c91\nSuccessfully tagged context-mod:latest\n","stderr":"","imageSize":366134061},"endTime":1672556837850}