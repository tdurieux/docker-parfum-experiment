{"repository":"https://github.com/parkr/auto-reply","dockerfilePath":"Dockerfile","startTime":1673019890268,"endTime":1673019996145,"clone":{"startTime":1673019890268,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/parkr/auto-reply'...\n","error":null,"endTime":1673019891084,"commit":"24430870f0e875a8f8317fa62137c72d8ea5d77f"},"originalBuild":{"startTime":1673019891154,"endTime":1673019941450,"error":null,"stdout":"Sending build context to Docker daemon    426kB\r\r\nStep 1/9 : FROM golang:latest as builder\n ---> 6650307efe4a\nStep 2/9 : WORKDIR /app/auto-reply\n ---> Running in f17c8ba39952\nRemoving intermediate container f17c8ba39952\n ---> 233b474972d8\nStep 3/9 : RUN set -ex   && apt-get update -y   && apt-get upgrade -y   && apt-get install make\n ---> Running in f86e7d7cb3ff\n\u001b[91m+ apt-get update -y\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6638 kB/s)\nReading package lists...\n\u001b[91m+ apt-get upgrade -y\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nCalculating upgrade...\nThe following packages will be upgraded:\n  libksba8\n1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 123 kB of archives.\nAfter this operation, 0 B of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security bullseye-security/main amd64 libksba8 amd64 1.5.0-3+deb11u2 [123 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 123 kB in 0s (5663 kB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15718 files and directories currently installed.)\r\nPreparing to unpack .../libksba8_1.5.0-3+deb11u2_amd64.deb ...\r\nUnpacking libksba8:amd64 (1.5.0-3+deb11u2) over (1.5.0-3+deb11u1) ...\r\nSetting up libksba8:amd64 (1.5.0-3+deb11u2) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\n\u001b[91m+ apt-get install make\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nmake is already the newest version (4.3-4.1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container f86e7d7cb3ff\n ---> 8a5dffdc36d3\nStep 4/9 : COPY go.* /app/auto-reply/\n ---> 72a468fdd5d6\nStep 5/9 : RUN go mod download\n ---> Running in 3656d8022409\nRemoving intermediate container 3656d8022409\n ---> 6ec7fc43e6fd\nStep 6/9 : COPY . .\n ---> 9fe16c57642d\nStep 7/9 : RUN make -j10 cibuild\n ---> Running in ff8ae0150c3f\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mfind . | grep -v '^vendor' | grep '\\.go$' | xargs gofmt -s -l -w | sed -e 's/^/Fixed /'\nrm -rf bin\ngo test github.com/parkr/auto-reply/...\ngo build -o ./bin/check-for-outdated-dependencies ./cmd/check-for-outdated-dependencies\ngo build -o ./bin/jekyllbot ./cmd/jekyllbot\ngo build -o ./bin/mark-and-sweep-stale-issues ./cmd/mark-and-sweep-stale-issues\ngo build -o ./bin/nudge-maintainers-to-release ./cmd/nudge-maintainers-to-release\ngo build -o ./bin/unearth ./cmd/unearth\ngo build -o ./bin/unify-labels ./cmd/unify-labels\nFixed ./cmd/check-for-outdated-dependencies/heroku.go\nFixed ./cmd/unearth/heroku.go\nFixed ./cmd/mark-and-sweep-stale-issues/heroku.go\nFixed ./cmd/jekyllbot/heroku.go\nFixed ./cmd/freeze-ancient-issues/heroku.go\nFixed ./cmd/unify-labels/heroku.go\ngo list github.com/parkr/auto-reply/... | xargs go fix\ngo list github.com/parkr/auto-reply/... | xargs go vet\nls -lh bin/\ntotal 54M\n-rwxr-xr-x 1 root root 8.3M Jan  6 15:45 check-for-outdated-dependencies\n-rwxr-xr-x 1 root root  12M Jan  6 15:45 jekyllbot\n-rwxr-xr-x 1 root root 8.3M Jan  6 15:45 mark-and-sweep-stale-issues\n-rwxr-xr-x 1 root root  10M Jan  6 15:45 nudge-maintainers-to-release\n-rwxr-xr-x 1 root root 7.5M Jan  6 15:45 unearth\n-rwxr-xr-x 1 root root 8.2M Jan  6 15:45 unify-labels\nok  \tgithub.com/parkr/auto-reply/affinity\t0.008s\n?   \tgithub.com/parkr/auto-reply/auth\t[no test files]\n?   \tgithub.com/parkr/auto-reply/autopull\t[no test files]\nok  \tgithub.com/parkr/auto-reply/chlog\t0.019s\n?   \tgithub.com/parkr/auto-reply/cmd/check-for-outdated-dependencies\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/freeze-ancient-issues\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/jekyllbot\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/mark-and-sweep-stale-issues\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/nudge-maintainers-to-release\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/unearth\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/unify-labels\t[no test files]\nok  \tgithub.com/parkr/auto-reply/common\t0.004s\n?   \tgithub.com/parkr/auto-reply/ctx\t[no test files]\n?   \tgithub.com/parkr/auto-reply/dependencies\t[no test files]\n?   \tgithub.com/parkr/auto-reply/freeze\t[no test files]\n?   \tgithub.com/parkr/auto-reply/hooks\t[no test files]\n?   \tgithub.com/parkr/auto-reply/jekyll\t[no test files]\n?   \tgithub.com/parkr/auto-reply/jekyll/deprecate\t[no test files]\n?   \tgithub.com/parkr/auto-reply/jekyll/issuecomment\t[no test files]\nok  \tgithub.com/parkr/auto-reply/labeler\t0.006s\nok  \tgithub.com/parkr/auto-reply/lgtm\t0.010s\n?   \tgithub.com/parkr/auto-reply/releases\t[no test files]\n?   \tgithub.com/parkr/auto-reply/search\t[no test files]\n?   \tgithub.com/parkr/auto-reply/sentry\t[no test files]\nok  \tgithub.com/parkr/auto-reply/stale\t0.006s\nok  \tgithub.com/parkr/auto-reply/travis\t0.004s\nRemoving intermediate container ff8ae0150c3f\n ---> 0d9dde19f343\nStep 8/9 : FROM scratch\n ---> \nStep 9/9 : COPY --from=builder bin/ /bin/.\n ---> 1ccc2c62472a\nSuccessfully built 1ccc2c62472a\nSuccessfully tagged auto-reply:latest\n","stderr":"","imageSize":5464724},"repair":{"startTime":1673019941512,"endTime":1673019941585,"violations":[{"name":"aptGetInstallUseY","position":{"start":5,"end":5,"columnStart":5,"columnEnd":25}},{"name":"aptGetInstallUseNoRec","position":{"start":5,"end":5,"columnStart":5,"columnEnd":25}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":5,"end":5,"columnStart":5,"columnEnd":25}}],"repairedDockerfile":"FROM golang:latest as builder\nWORKDIR /app/auto-reply\nRUN set -ex \\\n  && apt-get update -y \\\n  && apt-get upgrade -y \\\n  && apt-get install -y --no-install-recommends make && rm -rf /var/lib/apt/lists/*;\nCOPY go.* /app/auto-reply/\nRUN go mod download\nCOPY . .\nRUN make -j10 cibuild\n\nFROM scratch\nCOPY --from=builder bin/ /bin/.\n"},"repairedBuild":{"startTime":1673019941949,"endTime":1673019995914,"error":null,"stdout":"Sending build context to Docker daemon    426kB\r\r\nStep 1/9 : FROM golang:latest as builder\n ---> 6650307efe4a\nStep 2/9 : WORKDIR /app/auto-reply\n ---> Running in 4904c8841551\nRemoving intermediate container 4904c8841551\n ---> 7dde59d19ac8\nStep 3/9 : RUN set -ex   && apt-get update -y   && apt-get upgrade -y   && apt-get install -y --no-install-recommends make && rm -rf /var/lib/apt/lists/*;\n ---> Running in 8578f4a5afe7\n\u001b[91m+ apt-get update -y\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6059 kB/s)\nReading package lists...\n\u001b[91m+ apt-get upgrade -y\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nCalculating upgrade...\nThe following packages will be upgraded:\n  libksba8\n1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 123 kB of archives.\nAfter this operation, 0 B of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security bullseye-security/main amd64 libksba8 amd64 1.5.0-3+deb11u2 [123 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 123 kB in 0s (4332 kB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15718 files and directories currently installed.)\r\nPreparing to unpack .../libksba8_1.5.0-3+deb11u2_amd64.deb ...\r\nUnpacking libksba8:amd64 (1.5.0-3+deb11u2) over (1.5.0-3+deb11u1) ...\r\nSetting up libksba8:amd64 (1.5.0-3+deb11u2) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\n\u001b[91m+ apt-get install -y --no-install-recommends make\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nmake is already the newest version (4.3-4.1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\u001b[91m+ rm -rf /var/lib/apt/lists/auxfiles /var/lib/apt/lists/deb.debian.org_debian-security_dists_bullseye-security_InRelease /var/lib/apt/lists/deb.debian.org_debian-security_dists_bullseye-security_main_binary-amd64_Packages.lz4 /var/lib/apt/lists/deb.debian.org_debian_dists_bullseye-updates_InRelease /var/lib/apt/lists/deb.debian.org_debian_dists_bullseye-updates_main_binary-amd64_Packages.lz4 /var/lib/apt/lists/deb.debian.org_debian_dists_bullseye_InRelease /var/lib/apt/lists/deb.debian.org_debian_dists_bullseye_main_binary-amd64_Packages.lz4 /var/lib/apt/lists/lock /var/lib/apt/lists/partial\n\u001b[0mRemoving intermediate container 8578f4a5afe7\n ---> d2b326e50594\nStep 4/9 : COPY go.* /app/auto-reply/\n ---> 6750e0c1e41b\nStep 5/9 : RUN go mod download\n ---> Running in b929fe2ebd8f\nRemoving intermediate container b929fe2ebd8f\n ---> 2791c154be30\nStep 6/9 : COPY . .\n ---> e12f9e58fc98\nStep 7/9 : RUN make -j10 cibuild\n ---> Running in 448d1ad9e1d9\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mfind . | grep -v '^vendor' | grep '\\.go$' | xargs gofmt -s -l -w | sed -e 's/^/Fixed /'\nrm -rf bin\ngo test github.com/parkr/auto-reply/...\ngo build -o ./bin/check-for-outdated-dependencies ./cmd/check-for-outdated-dependencies\ngo build -o ./bin/jekyllbot ./cmd/jekyllbot\ngo build -o ./bin/mark-and-sweep-stale-issues ./cmd/mark-and-sweep-stale-issues\ngo build -o ./bin/nudge-maintainers-to-release ./cmd/nudge-maintainers-to-release\ngo build -o ./bin/unearth ./cmd/unearth\ngo build -o ./bin/unify-labels ./cmd/unify-labels\nFixed ./cmd/check-for-outdated-dependencies/heroku.go\nFixed ./cmd/unearth/heroku.go\nFixed ./cmd/mark-and-sweep-stale-issues/heroku.go\nFixed ./cmd/jekyllbot/heroku.go\nFixed ./cmd/freeze-ancient-issues/heroku.go\nFixed ./cmd/unify-labels/heroku.go\ngo list github.com/parkr/auto-reply/... | xargs go fix\ngo list github.com/parkr/auto-reply/... | xargs go vet\nls -lh bin/\ntotal 54M\n-rwxr-xr-x 1 root root 8.3M Jan  6 15:46 check-for-outdated-dependencies\n-rwxr-xr-x 1 root root  12M Jan  6 15:46 jekyllbot\n-rwxr-xr-x 1 root root 8.3M Jan  6 15:46 mark-and-sweep-stale-issues\n-rwxr-xr-x 1 root root  10M Jan  6 15:46 nudge-maintainers-to-release\n-rwxr-xr-x 1 root root 7.5M Jan  6 15:46 unearth\n-rwxr-xr-x 1 root root 8.2M Jan  6 15:46 unify-labels\nok  \tgithub.com/parkr/auto-reply/affinity\t0.011s\n?   \tgithub.com/parkr/auto-reply/auth\t[no test files]\n?   \tgithub.com/parkr/auto-reply/autopull\t[no test files]\nok  \tgithub.com/parkr/auto-reply/chlog\t0.063s\n?   \tgithub.com/parkr/auto-reply/cmd/check-for-outdated-dependencies\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/freeze-ancient-issues\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/jekyllbot\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/mark-and-sweep-stale-issues\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/nudge-maintainers-to-release\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/unearth\t[no test files]\n?   \tgithub.com/parkr/auto-reply/cmd/unify-labels\t[no test files]\nok  \tgithub.com/parkr/auto-reply/common\t0.011s\n?   \tgithub.com/parkr/auto-reply/ctx\t[no test files]\n?   \tgithub.com/parkr/auto-reply/dependencies\t[no test files]\n?   \tgithub.com/parkr/auto-reply/freeze\t[no test files]\n?   \tgithub.com/parkr/auto-reply/hooks\t[no test files]\n?   \tgithub.com/parkr/auto-reply/jekyll\t[no test files]\n?   \tgithub.com/parkr/auto-reply/jekyll/deprecate\t[no test files]\n?   \tgithub.com/parkr/auto-reply/jekyll/issuecomment\t[no test files]\nok  \tgithub.com/parkr/auto-reply/labeler\t0.012s\nok  \tgithub.com/parkr/auto-reply/lgtm\t0.050s\n?   \tgithub.com/parkr/auto-reply/releases\t[no test files]\n?   \tgithub.com/parkr/auto-reply/search\t[no test files]\n?   \tgithub.com/parkr/auto-reply/sentry\t[no test files]\nok  \tgithub.com/parkr/auto-reply/stale\t0.004s\nok  \tgithub.com/parkr/auto-reply/travis\t0.022s\nRemoving intermediate container 448d1ad9e1d9\n ---> d68e64fc7750\nStep 8/9 : FROM scratch\n ---> \nStep 9/9 : COPY --from=builder bin/ /bin/.\n ---> 2bdeb87a20ea\nSuccessfully built 2bdeb87a20ea\nSuccessfully tagged auto-reply:latest\n","stderr":"","imageSize":5464724}}