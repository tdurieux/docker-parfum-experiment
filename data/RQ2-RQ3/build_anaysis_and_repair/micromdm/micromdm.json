{"repository":"https://github.com/micromdm/micromdm","dockerfilePath":"Dockerfile","startTime":1672711950391,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/micromdm/micromdm'...\n","error":null,"commit":"44a19bcb21f411b89a25ded1e9ffdf823f2d1039"},"originalBuild":{"startTimestamp":1672711951799,"endTimestamp":1672712171999,"error":null,"stdout":"Sending build context to Docker daemon  1.752MB\r\r\nStep 1/15 : FROM golang:1.17 as builder\n ---> 742df529b073\nStep 2/15 : WORKDIR /go/src/github.com/micromdm/micromdm/\n ---> Running in 2d80e622c2ee\nRemoving intermediate container 2d80e622c2ee\n ---> afade701ce75\nStep 3/15 : ARG TARGETARCH\n ---> Running in ef0dadc20426\nRemoving intermediate container ef0dadc20426\n ---> bb25d0b6ea13\nStep 4/15 : ARG TARGETOS\n ---> Running in fb8f3b35ea27\nRemoving intermediate container fb8f3b35ea27\n ---> 0a31904ffd0e\nStep 5/15 : ENV CGO_ENABLED=0 \tGOARCH=$TARGETARCH \tGOOS=$TARGETOS\n ---> Running in b184e3c1bda4\nRemoving intermediate container b184e3c1bda4\n ---> b8fb7b373508\nStep 6/15 : COPY . .\n ---> af565848e198\nStep 7/15 : RUN make deps\n ---> Running in e11cb2e8fb14\nRemoving intermediate container e11cb2e8fb14\n ---> 2447e03e007a\nStep 8/15 : RUN make\n ---> Running in f08f91f503e9\nmkdir -p build/darwin\nmkdir -p build/linux\ngo build -o build/linux/micromdm -ldflags \" -X github.com/micromdm/go4/version.appName=micromdm -X github.com/micromdm/go4/version.version=44a19bc -X github.com/micromdm/go4/version.branch=main -X github.com/micromdm/go4/version.buildUser=root -X github.com/micromdm/go4/version.buildDate=2023-01-03T02:12:56Z -X github.com/micromdm/go4/version.revision=44a19bcb21f411b89a25ded1e9ffdf823f2d1039 -X github.com/micromdm/go4/version.goVersion=go1.17.13 -X github.com/micromdm/micromdm/dep.version=44a19bc\" ./cmd/micromdm\ngo build -o build/linux/mdmctl -ldflags \" -X github.com/micromdm/go4/version.appName=mdmctl -X github.com/micromdm/go4/version.version=44a19bc -X github.com/micromdm/go4/version.branch=main -X github.com/micromdm/go4/version.buildUser=root -X github.com/micromdm/go4/version.buildDate=2023-01-03T02:13:01Z -X github.com/micromdm/go4/version.revision=44a19bcb21f411b89a25ded1e9ffdf823f2d1039 -X github.com/micromdm/go4/version.goVersion=go1.17.13 -X github.com/micromdm/micromdm/dep.version=44a19bc\" ./cmd/mdmctl\nRemoving intermediate container f08f91f503e9\n ---> 4c3bc70edbdb\nStep 9/15 : FROM alpine:latest\n ---> 49176f190c7e\nStep 10/15 : RUN apk --update add ca-certificates\n ---> Running in 7d143c56ffec\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 7d143c56ffec\n ---> 11fd1439d7ac\nStep 11/15 : COPY --from=builder /go/src/github.com/micromdm/micromdm/build/linux/micromdm /usr/bin/\n ---> 894e1c32787f\nStep 12/15 : COPY --from=builder /go/src/github.com/micromdm/micromdm/build/linux/mdmctl /usr/bin/\n ---> 729e03e68341\nStep 13/15 : EXPOSE 80 443\n ---> Running in c3a3ca1579e3\nRemoving intermediate container c3a3ca1579e3\n ---> bc536da76d16\nStep 14/15 : VOLUME [\"/var/db/micromdm\"]\n ---> Running in 5087523892d8\nRemoving intermediate container 5087523892d8\n ---> 9396cd0a2db1\nStep 15/15 : CMD [\"micromdm\", \"serve\"]\n ---> Running in 3989d7bddd25\nRemoving intermediate container 3989d7bddd25\n ---> b58a18afa9cd\nSuccessfully built b58a18afa9cd\nSuccessfully tagged micromdm:latest\n","stderr":"","imageSize":37537109},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":19,"end":19,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.17 as builder\n\nWORKDIR /go/src/github.com/micromdm/micromdm/\n\nARG TARGETARCH\nARG TARGETOS\n\nENV CGO_ENABLED=0 \\\n\tGOARCH=$TARGETARCH \\\n\tGOOS=$TARGETOS\n\nCOPY . .\n\nRUN make deps\nRUN make\n\n\nFROM alpine:latest\n\nRUN apk --update --no-cache add ca-certificates\n\nCOPY --from=builder /go/src/github.com/micromdm/micromdm/build/linux/micromdm /usr/bin/\nCOPY --from=builder /go/src/github.com/micromdm/micromdm/build/linux/mdmctl /usr/bin/\n\nEXPOSE 80 443\nVOLUME [\"/var/db/micromdm\"]\nCMD [\"micromdm\", \"serve\"]\n"},"repairedBuild":{"startTimestamp":1672712174981,"endTimestamp":1672712491265,"error":null,"stdout":"Sending build context to Docker daemon  1.752MB\r\r\nStep 1/15 : FROM golang:1.17 as builder\n ---> 742df529b073\nStep 2/15 : WORKDIR /go/src/github.com/micromdm/micromdm/\n ---> Running in 70bdbd272520\nRemoving intermediate container 70bdbd272520\n ---> 12dde0241930\nStep 3/15 : ARG TARGETARCH\n ---> Running in 66aeb8cdb5a5\nRemoving intermediate container 66aeb8cdb5a5\n ---> 40bc81447918\nStep 4/15 : ARG TARGETOS\n ---> Running in 09205dd1b37f\nRemoving intermediate container 09205dd1b37f\n ---> 3d0ac7ccad53\nStep 5/15 : ENV CGO_ENABLED=0 \tGOARCH=$TARGETARCH \tGOOS=$TARGETOS\n ---> Running in 22040df56e5b\nRemoving intermediate container 22040df56e5b\n ---> e4c80adb950d\nStep 6/15 : COPY . .\n ---> 4ffac191e8c4\nStep 7/15 : RUN make deps\n ---> Running in b46b39615730\nRemoving intermediate container b46b39615730\n ---> a05278c4d79b\nStep 8/15 : RUN make\n ---> Running in 07d7143fd6e7\nmkdir -p build/darwin\nmkdir -p build/linux\ngo build -o build/linux/micromdm -ldflags \" -X github.com/micromdm/go4/version.appName=micromdm -X github.com/micromdm/go4/version.version=44a19bc-dirty -X github.com/micromdm/go4/version.branch=main -X github.com/micromdm/go4/version.buildUser=root -X github.com/micromdm/go4/version.buildDate=2023-01-03T02:19:03Z -X github.com/micromdm/go4/version.revision=44a19bcb21f411b89a25ded1e9ffdf823f2d1039 -X github.com/micromdm/go4/version.goVersion=go1.17.13 -X github.com/micromdm/micromdm/dep.version=44a19bc-dirty\" ./cmd/micromdm\ngo build -o build/linux/mdmctl -ldflags \" -X github.com/micromdm/go4/version.appName=mdmctl -X github.com/micromdm/go4/version.version=44a19bc-dirty -X github.com/micromdm/go4/version.branch=main -X github.com/micromdm/go4/version.buildUser=root -X github.com/micromdm/go4/version.buildDate=2023-01-03T02:19:07Z -X github.com/micromdm/go4/version.revision=44a19bcb21f411b89a25ded1e9ffdf823f2d1039 -X github.com/micromdm/go4/version.goVersion=go1.17.13 -X github.com/micromdm/micromdm/dep.version=44a19bc-dirty\" ./cmd/mdmctl\nRemoving intermediate container 07d7143fd6e7\n ---> fee7b0196767\nStep 9/15 : FROM alpine:latest\n ---> 49176f190c7e\nStep 10/15 : RUN apk --update --no-cache add ca-certificates\n ---> Running in 29c1763095f7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 29c1763095f7\n ---> bc58b45ae2c2\nStep 11/15 : COPY --from=builder /go/src/github.com/micromdm/micromdm/build/linux/micromdm /usr/bin/\n ---> 59c522d5d83a\nStep 12/15 : COPY --from=builder /go/src/github.com/micromdm/micromdm/build/linux/mdmctl /usr/bin/\n ---> 18d12c935865\nStep 13/15 : EXPOSE 80 443\n ---> Running in d9588d7b066d\nRemoving intermediate container d9588d7b066d\n ---> 215ae7eb9058\nStep 14/15 : VOLUME [\"/var/db/micromdm\"]\n ---> Running in 54d7016ced52\nRemoving intermediate container 54d7016ced52\n ---> e126b07e4c76\nStep 15/15 : CMD [\"micromdm\", \"serve\"]\n ---> Running in 9ccc8da1929f\nRemoving intermediate container 9ccc8da1929f\n ---> 6810778d210d\nSuccessfully built 6810778d210d\nSuccessfully tagged micromdm:latest\n","stderr":"","imageSize":34954263},"endTime":1672712495243}