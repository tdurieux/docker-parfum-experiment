{"repository":"https://github.com/micromdm/squirrel","dockerfilePath":"Dockerfile","startTime":1672904041922,"endTime":1672904216483,"clone":{"startTime":1672904041923,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/micromdm/squirrel'...\n","error":null,"endTime":1672904042863,"commit":"de673b49e2c724bb804c4e09e07b74608a4663c1"},"originalBuild":{"startTime":1672904042958,"endTime":1672904131833,"error":null,"stdout":"Sending build context to Docker daemon  242.7kB\r\r\nStep 1/10 : FROM golang:latest as builder\nlatest: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:latest\n ---> 6650307efe4a\nStep 2/10 : WORKDIR /go/src/github.com/micromdm/squirrel/\n ---> Running in 3fae4c6a9d03\nRemoving intermediate container 3fae4c6a9d03\n ---> 787a29162c7b\nStep 3/10 : ENV CGO_ENABLED=0     GOARCH=amd64     GOOS=linux\n ---> Running in fdcceea5e3a3\nRemoving intermediate container fdcceea5e3a3\n ---> bb86c4877e58\nStep 4/10 : COPY . .\n ---> 76f1a8027d7b\nStep 5/10 : RUN make deps\n ---> Running in 82a44441b30e\nRemoving intermediate container 82a44441b30e\n ---> afd1d2c4863e\nStep 6/10 : RUN make\n ---> Running in e2ddcfcc9045\nmkdir -p build/darwin\nmkdir -p build/linux\ngo build -i -o build/linux/squirrel -ldflags \" -X github.com/micromdm/go4/version.appName=squirrel -X github.com/micromdm/go4/version.version=de673b4 -X github.com/micromdm/go4/version.branch=master -X github.com/micromdm/go4/version.buildUser=root -X github.com/micromdm/go4/version.buildDate=2023-01-05T07:34:54Z -X github.com/micromdm/go4/version.revision=de673b49e2c724bb804c4e09e07b74608a4663c1 -X github.com/micromdm/go4/version.goVersion=go1.19.4\" ./cmd/squirrel\n\u001b[91mgo: -i flag is deprecated\n\u001b[0mRemoving intermediate container e2ddcfcc9045\n ---> 40261e734d11\nStep 7/10 : FROM alpine:3.11.5\n3.11.5: Pulling from library/alpine\naad63a933944: Pulling fs layer\naad63a933944: Verifying Checksum\naad63a933944: Download complete\naad63a933944: Pull complete\nDigest: sha256:b276d875eeed9c7d3f1cfa7edb06b22ed22b14219a7d67c52c56612330348239\nStatus: Downloaded newer image for alpine:3.11.5\n ---> a187dde48cd2\nStep 8/10 : RUN apk --update add     ca-certificates\n ---> Running in 3b47ffecf3f3\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20191127-r2)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 3b47ffecf3f3\n ---> 00176461dbf1\nStep 9/10 : COPY --from=builder /go/src/github.com/micromdm/squirrel/build/linux/squirrel /usr/bin/\n ---> 4a9a763558e2\nStep 10/10 : CMD [\"/squirrel\", \"serve\"]\n ---> Running in 1d60a9f94c06\nRemoving intermediate container 1d60a9f94c06\n ---> c7991ae3ba24\nSuccessfully built c7991ae3ba24\nSuccessfully tagged squirrel:latest\n","stderr":"","imageSize":25954377},"repair":{"startTime":1672904131907,"endTime":1672904131958,"violations":[{"name":"apkAddUseNoCache","position":{"start":15,"end":16,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"FROM golang:latest as builder\n\nWORKDIR /go/src/github.com/micromdm/squirrel/\n\nENV CGO_ENABLED=0 \\\n    GOARCH=amd64 \\\n    GOOS=linux\n\nCOPY . .\n\nRUN make deps\nRUN make\n\n\nFROM alpine:3.11.5\nRUN apk --update --no-cache add \\\n    ca-certificates\n\nCOPY --from=builder /go/src/github.com/micromdm/squirrel/build/linux/squirrel /usr/bin/\n\nCMD [\"/squirrel\", \"serve\"]\n\n"},"repairedBuild":{"startTime":1672904132126,"endTime":1672904216268,"error":null,"stdout":"Sending build context to Docker daemon  242.7kB\r\r\nStep 1/10 : FROM golang:latest as builder\n ---> 6650307efe4a\nStep 2/10 : WORKDIR /go/src/github.com/micromdm/squirrel/\n ---> Running in 4e7ccd82baa3\nRemoving intermediate container 4e7ccd82baa3\n ---> 35afb45326a0\nStep 3/10 : ENV CGO_ENABLED=0     GOARCH=amd64     GOOS=linux\n ---> Running in d91a88e3671e\nRemoving intermediate container d91a88e3671e\n ---> 3b4dda5c16be\nStep 4/10 : COPY . .\n ---> 3cc5f1a1cfe1\nStep 5/10 : RUN make deps\n ---> Running in 52dcbe0aeffb\nRemoving intermediate container 52dcbe0aeffb\n ---> 1edfd06e376a\nStep 6/10 : RUN make\n ---> Running in 73f2d398c004\nmkdir -p build/darwin\nmkdir -p build/linux\ngo build -i -o build/linux/squirrel -ldflags \" -X github.com/micromdm/go4/version.appName=squirrel -X github.com/micromdm/go4/version.version=de673b4-dirty -X github.com/micromdm/go4/version.branch=master -X github.com/micromdm/go4/version.buildUser=root -X github.com/micromdm/go4/version.buildDate=2023-01-05T07:36:33Z -X github.com/micromdm/go4/version.revision=de673b49e2c724bb804c4e09e07b74608a4663c1 -X github.com/micromdm/go4/version.goVersion=go1.19.4\" ./cmd/squirrel\n\u001b[91mgo: -i flag is deprecated\n\u001b[0mRemoving intermediate container 73f2d398c004\n ---> 833f0f0abe8d\nStep 7/10 : FROM alpine:3.11.5\n ---> a187dde48cd2\nStep 8/10 : RUN apk --update --no-cache add     ca-certificates\n ---> Running in b40a640cbbeb\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20191127-r2)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container b40a640cbbeb\n ---> c2e01376afb3\nStep 9/10 : COPY --from=builder /go/src/github.com/micromdm/squirrel/build/linux/squirrel /usr/bin/\n ---> dc194632407b\nStep 10/10 : CMD [\"/squirrel\", \"serve\"]\n ---> Running in fd4e05bd381c\nRemoving intermediate container fd4e05bd381c\n ---> 10be995d49e6\nSuccessfully built 10be995d49e6\nSuccessfully tagged squirrel:latest\n","stderr":"","imageSize":24373967}}