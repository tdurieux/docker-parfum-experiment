{"repository":"https://github.com/mdouchement/standardfile","dockerfilePath":"Dockerfile","startTime":1672245786941,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mdouchement/standardfile'...\n","error":null,"commit":"12038cd74a92ea591e55e32e4402a0d05c329a02"},"originalBuild":{"startTimestamp":1672245787815,"endTimestamp":1672246075440,"error":null,"stdout":"Sending build context to Docker daemon    617kB\r\r\nStep 1/22 : FROM golang:alpine as build-env\n ---> cae57157ceaa\nStep 2/22 : MAINTAINER mdouchement\n ---> Running in 3070de407a0b\nRemoving intermediate container 3070de407a0b\n ---> 63231500a4ff\nStep 3/22 : RUN apk upgrade\n ---> Running in 60d664f4637a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/2) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 60d664f4637a\n ---> 0cf4f9fb9e56\nStep 4/22 : RUN apk add --update --no-cache git curl\n ---> Running in 1eae4958fdd3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing curl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container 1eae4958fdd3\n ---> b99ac1bfbf44\nStep 5/22 : ARG TASK_VERSION=v3.11.0\n ---> Running in 1199c3204c66\nRemoving intermediate container 1199c3204c66\n ---> f49f87a65f6a\nStep 6/22 : ARG TASK_SUM=8284fa89367e0bbb8ba5dcb90baa6826b7669c4a317e5b9a46711f7380075e21\n ---> Running in ee1160988ac4\nRemoving intermediate container ee1160988ac4\n ---> b0027e24e04e\nStep 7/22 : RUN curl -LO https://github.com/go-task/task/releases/download/$TASK_VERSION/task_linux_amd64.tar.gz &&     echo \"$TASK_SUM  task_linux_amd64.tar.gz\" | sha256sum -c &&     tar -xf task_linux_amd64.tar.gz &&     cp task /usr/local/bin/\n ---> Running in a7e71302399e\n\u001b[91m  % Total    % Received % Xferd  Average S\u001b[0m\u001b[91mpeed   Time    Time     Time  \u001b[0m\u001b[91mCurrent\n        \u001b[0m\u001b[91m    \u001b[0m\u001b[91m    \u001b[0m\u001b[91m         \u001b[0m\u001b[91m        Dload \u001b[0m\u001b[91m Upload\u001b[0m\u001b[91m   Total   Spent \u001b[0m\u001b[91m   L\u001b[0m\u001b[91meft  Speed\n\r  \u001b[0m\u001b[91m0     0    0     0    0    \u001b[0m\u001b[91m 0      0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      \u001b[0m\u001b[91m0 --:--:-- --:--:-- \u001b[0m\u001b[91m--:--:--     0\u001b[0m\u001b[91m\r  0     0    0     0  \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m      0\u001b[0m\u001b[91m      0 -\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- -\u001b[0m\u001b[91m-:--:--\u001b[0m\u001b[91m -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m     0\n\u001b[0m\u001b[91m\r100 1900k  100 1900k    0     0  1930k      0\u001b[0m\u001b[91m --:--:-- --:--:-- \u001b[0m\u001b[91m--:--:-- 19\u001b[0m\u001b[91m30k\n\u001b[0mtask_linux_amd64.tar.gz: OK\nRemoving intermediate container a7e71302399e\n ---> a0e6254e69c7\nStep 8/22 : RUN mkdir -p /go/src/github.com/mdouchement/standardfile\n ---> Running in 0545f893c26f\nRemoving intermediate container 0545f893c26f\n ---> 65069ab34fb9\nStep 9/22 : WORKDIR /go/src/github.com/mdouchement/standardfile\n ---> Running in c73af99f9da6\nRemoving intermediate container c73af99f9da6\n ---> 154d66b07e2f\nStep 10/22 : ENV CGO_ENABLED 0\n ---> Running in 606179a04d3a\nRemoving intermediate container 606179a04d3a\n ---> 28133e7781b5\nStep 11/22 : ENV GO111MODULE on\n ---> Running in 6b46ae3d6d5e\nRemoving intermediate container 6b46ae3d6d5e\n ---> 62803457fbbf\nStep 12/22 : ENV GOPROXY https://proxy.golang.org\n ---> Running in e12654506188\nRemoving intermediate container e12654506188\n ---> 661e8961a94c\nStep 13/22 : COPY . /go/src/github.com/mdouchement/standardfile\n ---> 5f2ba872b769\nStep 14/22 : RUN go mod download\n ---> Running in 8e1ea021fd42\nRemoving intermediate container 8e1ea021fd42\n ---> 33ad0716b24a\nStep 15/22 : RUN task build-server\n ---> Running in bcf3d4112f14\n\u001b[91mtask: [clean] rm -rf /go/src/github.com/mdouchement/standardfile/dist\n\u001b[0m\u001b[91mtask: [build-server] mkdir -p /go/src/github.com/mdouchement/standardfile/dist\n\u001b[0m\u001b[91mtask: [build]  go build -ldflags \"-s -w -X main.version=0.10.0 -X main.revision=12038cd -X main.date=2022-12-28~16:46:22 \" -o /go/src/github.com/mdouchement/standardfile/dist/standardfile .\n\u001b[0mRemoving intermediate container bcf3d4112f14\n ---> 269415f64da4\nStep 16/22 : FROM alpine\n ---> 49176f190c7e\nStep 17/22 : MAINTAINER mdouchement\n ---> Running in c634a410a345\nRemoving intermediate container c634a410a345\n ---> 7a697975573c\nStep 18/22 : ENV DATABASE_PATH /data/database\n ---> Running in 9ff5e45dd277\nRemoving intermediate container 9ff5e45dd277\n ---> b0a8effbc1ae\nStep 19/22 : RUN mkdir -p ${DATABASE_PATH}\n ---> Running in 381bb8443e36\nRemoving intermediate container 381bb8443e36\n ---> e61f9eb4bdc7\nStep 20/22 : COPY --from=build-env /go/src/github.com/mdouchement/standardfile/dist/standardfile /usr/local/bin/\n ---> ed500abb98d9\nStep 21/22 : EXPOSE 5000\n ---> Running in 10d0e7ba1651\nRemoving intermediate container 10d0e7ba1651\n ---> 18f77ea77296\nStep 22/22 : CMD [\"standardfile\", \"server\", \"-c\", \"/etc/standardfile/standardfile.yml\"]\n ---> Running in d5787c813cf8\nRemoving intermediate container d5787c813cf8\n ---> f14998322b30\nSuccessfully built f14998322b30\nSuccessfully tagged standardfile:latest\n","stderr":"","imageSize":17678808},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":10,"end":10,"columnStart":4,"columnEnd":100}},{"name":"sha256sumEchoOneSpaces","position":{"start":11,"end":11,"columnStart":4,"columnEnd":60}},{"name":"tarSomethingRmTheSomething","position":{"start":12,"end":12,"columnStart":4,"columnEnd":35}}],"repairedDockerfile":"# build stage\nFROM golang:alpine as build-env\nMAINTAINER mdouchement\n\nRUN apk upgrade\nRUN apk add --update --no-cache git curl\n\nARG TASK_VERSION=v3.11.0\nARG TASK_SUM=8284fa89367e0bbb8ba5dcb90baa6826b7669c4a317e5b9a46711f7380075e21\n\nRUN curl -f -LO https://github.com/go-task/task/releases/download/$TASK_VERSION/task_linux_amd64.tar.gz && \\\n    echo \"$TASK_SUM task_linux_amd64.tar.gz\" | sha256sum -c && \\\n    tar -xf task_linux_amd64.tar.gz && \\\n    cp task /usr/local/bin/\n\nRUN mkdir -p /go/src/github.com/mdouchement/standardfile\nWORKDIR /go/src/github.com/mdouchement/standardfile\n\nENV CGO_ENABLED 0\nENV GO111MODULE on\nENV GOPROXY https://proxy.golang.org\n\nCOPY . /go/src/github.com/mdouchement/standardfile\n# Dependencies\nRUN go mod download\n\nRUN task build-server\n\n# final stage\nFROM alpine\nMAINTAINER mdouchement\n\nENV DATABASE_PATH /data/database\n\nRUN mkdir -p ${DATABASE_PATH}\n\nCOPY --from=build-env /go/src/github.com/mdouchement/standardfile/dist/standardfile /usr/local/bin/\n\nEXPOSE 5000\nCMD [\"standardfile\", \"server\", \"-c\", \"/etc/standardfile/standardfile.yml\"]\n"},"repairedBuild":{"startTimestamp":1672246076085,"endTimestamp":1672246114001,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t standardfile:latest -f /tmp/dinghy-analysis/mdouchement/standardfile/Dockerfile ."},"stdout":"Sending build context to Docker daemon    617kB\r\r\nStep 1/22 : FROM golang:alpine as build-env\n ---> cae57157ceaa\nStep 2/22 : MAINTAINER mdouchement\n ---> Running in 074d141a14b1\nRemoving intermediate container 074d141a14b1\n ---> ad8006bbc4fc\nStep 3/22 : RUN apk upgrade\n ---> Running in 69bddd218edd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/2) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 69bddd218edd\n ---> 3153feba64c7\nStep 4/22 : RUN apk add --update --no-cache git curl\n ---> Running in 93c15cdd26ac\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing curl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container 93c15cdd26ac\n ---> 7b77592db86f\nStep 5/22 : ARG TASK_VERSION=v3.11.0\n ---> Running in 07447ddb727a\nRemoving intermediate container 07447ddb727a\n ---> b294dc74d655\nStep 6/22 : ARG TASK_SUM=8284fa89367e0bbb8ba5dcb90baa6826b7669c4a317e5b9a46711f7380075e21\n ---> Running in ec4229ae4d2b\nRemoving intermediate container ec4229ae4d2b\n ---> f606bf372fec\nStep 7/22 : RUN curl -f -LO https://github.com/go-task/task/releases/download/$TASK_VERSION/task_linux_amd64.tar.gz &&     echo \"$TASK_SUM task_linux_amd64.tar.gz\" | sha256sum -c &&     tar -xf task_linux_amd64.tar.gz &&     cp task /usr/local/bin/\n ---> Running in 534df57b611c\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                \u001b[0m\u001b[91m                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     \u001b[0m\u001b[91m0    0     0 \u001b[0m\u001b[91m   0     0      0      0 --:--:-- --:--:--\u001b[0m\u001b[91m --:--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0\u001b[0m\u001b[91m      0 \u001b[0m\u001b[91m--:--:-- --\u001b[0m\u001b[91m:--:-- --:--:\u001b[0m\u001b[91m-- \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r  0     0    0     0  \u001b[0m\u001b[91m  0     0      0   \u001b[0m\u001b[91m   0 --:--:-\u001b[0m\u001b[91m- --:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r  7 1900k    7  137k    0     0  8949\u001b[0m\u001b[91m8      0  0:00:21 \u001b[0m\u001b[91m 0:00:\u001b[0m\u001b[91m01  \u001b[0m\u001b[91m0:0\u001b[0m\u001b[91m0:20 \u001b[0m\u001b[91m 151k\u001b[0m\u001b[91m\r100 1900k  100 1900k    0     0   854k      0  0:00:02  0:00:02 --:--:-- 1219k\n\u001b[0m\u001b[91msha256sum: WARNING: 1 of 1 computed checksums did NOT match\n\u001b[0mRemoving intermediate container 534df57b611c\n","stderr":"The command '/bin/sh -c curl -f -LO https://github.com/go-task/task/releases/download/$TASK_VERSION/task_linux_amd64.tar.gz &&     echo \"$TASK_SUM task_linux_amd64.tar.gz\" | sha256sum -c &&     tar -xf task_linux_amd64.tar.gz &&     cp task /usr/local/bin/' returned a non-zero code: 1\n"},"endTime":1672246114067}