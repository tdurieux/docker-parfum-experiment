{"repository":"https://github.com/18f/tock","dockerfilePath":"Dockerfile","startTime":1672295589794,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/18f/tock'...\n","error":null,"commit":"e3e516d528960476309172b4605dd7a6611a504f"},"originalBuild":{"startTimestamp":1672295591133,"endTimestamp":1672295745009,"error":null,"stdout":"Sending build context to Docker daemon  15.96MB\r\r\nStep 1/6 : FROM python:3.10\n3.10: Pulling from library/python\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n0f67f32c26d3: Already exists\n3dd123b388af: Pulling fs layer\n486bcd00fb03: Pulling fs layer\n8cc4d42c9476: Pulling fs layer\n486bcd00fb03: Verifying Checksum\n486bcd00fb03: Download complete\n8cc4d42c9476: Verifying Checksum\n8cc4d42c9476: Download complete\n3dd123b388af: Verifying Checksum\n3dd123b388af: Download complete\n3dd123b388af: Pull complete\n486bcd00fb03: Pull complete\n8cc4d42c9476: Pull complete\nDigest: sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6\nStatus: Downloaded newer image for python:3.10\n ---> 3aae3bded9cf\nStep 2/6 : RUN apt-get update && apt-get install -y postgresql-client\n ---> Running in 3c7e5ce8bdea\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5412 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  postgresql-client-13 postgresql-client-common\nSuggested packages:\n  postgresql-13 postgresql-doc-13\nThe following NEW packages will be installed:\n  postgresql-client postgresql-client-13 postgresql-client-common\n0 upgraded, 3 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 1662 kB of archives.\nAfter this operation, 6879 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 postgresql-client-common all 225 [89.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 postgresql-client-13 amd64 13.9-0+deb11u1 [1508 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 postgresql-client all 13+225 [64.8 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1662 kB in 0s (7125 kB/s)\nSelecting previously unselected package postgresql-client-common.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../postgresql-client-common_225_all.deb ...\r\nUnpacking postgresql-client-common (225) ...\r\nSelecting previously unselected package postgresql-client-13.\r\nPreparing to unpack .../postgresql-client-13_13.9-0+deb11u1_amd64.deb ...\r\nUnpacking postgresql-client-13 (13.9-0+deb11u1) ...\r\nSelecting previously unselected package postgresql-client.\r\nPreparing to unpack .../postgresql-client_13+225_all.deb ...\r\nUnpacking postgresql-client (13+225) ...\r\nSetting up postgresql-client-common (225) ...\r\nSetting up postgresql-client-13 (13.9-0+deb11u1) ...\r\nupdate-alternatives: using /usr/share/postgresql/13/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode\r\nSetting up postgresql-client (13+225) ...\r\nRemoving intermediate container 3c7e5ce8bdea\n ---> 8f850d7c1676\nStep 3/6 : COPY Pipfile Pipfile\n ---> 3def8521f0e6\nStep 4/6 : COPY Pipfile.lock Pipfile.lock\n ---> 2a67ecbb8cfa\nStep 5/6 : RUN pip install pipenv\n ---> Running in e15e64c3a338\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 47.4 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 44.5 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.10/site-packages (from pipenv) (65.5.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 14.5 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 34.1 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container e15e64c3a338\n ---> 641a4c81ed82\nStep 6/6 : RUN pipenv install --system --dev\n ---> Running in db9cfdde117b\nInstalling dependencies from Pipfile.lock (b8ba6c)...\nInstalling dependencies from Pipfile.lock (b8ba6c)...\nRemoving intermediate container db9cfdde117b\n ---> ac5f4d6835d4\nSuccessfully built ac5f4d6835d4\nSuccessfully tagged tock:latest\n","stderr":"","imageSize":1378703255},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":4,"columnEnd":22}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":2,"end":2,"columnStart":22,"columnEnd":58}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":2,"columnStart":22,"columnEnd":58}}],"repairedDockerfile":"FROM python:3.10\n\nRUN apt-get update && apt-get install --no-install-recommends -y postgresql-client\n\nCOPY Pipfile Pipfile\nCOPY Pipfile.lock Pipfile.lock\n\nRUN pip install --no-cache-dir pipenv\nRUN pipenv install --system --dev\n"},"repairedBuild":{"startTimestamp":1672295746314,"endTimestamp":1672295873564,"error":null,"stdout":"Sending build context to Docker daemon  15.96MB\r\r\nStep 1/6 : FROM python:3.10\n ---> 3aae3bded9cf\nStep 2/6 : RUN apt-get update && apt-get install --no-install-recommends -y postgresql-client\n ---> Running in 071e74de7d56\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (3696 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  postgresql-client-13 postgresql-client-common\nSuggested packages:\n  postgresql-13 postgresql-doc-13\nThe following NEW packages will be installed:\n  postgresql-client postgresql-client-13 postgresql-client-common\n0 upgraded, 3 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 1662 kB of archives.\nAfter this operation, 6879 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 postgresql-client-common all 225 [89.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 postgresql-client-13 amd64 13.9-0+deb11u1 [1508 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 postgresql-client all 13+225 [64.8 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1662 kB in 0s (26.9 MB/s)\nSelecting previously unselected package postgresql-client-common.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../postgresql-client-common_225_all.deb ...\r\nUnpacking postgresql-client-common (225) ...\r\nSelecting previously unselected package postgresql-client-13.\r\nPreparing to unpack .../postgresql-client-13_13.9-0+deb11u1_amd64.deb ...\r\nUnpacking postgresql-client-13 (13.9-0+deb11u1) ...\r\nSelecting previously unselected package postgresql-client.\r\nPreparing to unpack .../postgresql-client_13+225_all.deb ...\r\nUnpacking postgresql-client (13+225) ...\r\nSetting up postgresql-client-common (225) ...\r\nSetting up postgresql-client-13 (13.9-0+deb11u1) ...\r\nupdate-alternatives: using /usr/share/postgresql/13/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode\r\nSetting up postgresql-client (13+225) ...\r\nRemoving intermediate container 071e74de7d56\n ---> 4adbc134aee2\nStep 3/6 : COPY Pipfile Pipfile\n ---> 0580cf742f68\nStep 4/6 : COPY Pipfile.lock Pipfile.lock\n ---> 960334f35c63\nStep 5/6 : RUN pip install --no-cache-dir pipenv\n ---> Running in 1c7d47429138\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 103.7 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 286.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.10/site-packages (from pipenv) (65.5.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 109.5 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 173.8 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 1c7d47429138\n ---> 8145b099c1cc\nStep 6/6 : RUN pipenv install --system --dev\n ---> Running in 9e48a86f1816\nInstalling dependencies from Pipfile.lock (b8ba6c)...\nInstalling dependencies from Pipfile.lock (b8ba6c)...\nRemoving intermediate container 9e48a86f1816\n ---> b1225ec550b7\nSuccessfully built b1225ec550b7\nSuccessfully tagged tock:latest\n","stderr":"","imageSize":1366189806},"endTime":1672295875312}