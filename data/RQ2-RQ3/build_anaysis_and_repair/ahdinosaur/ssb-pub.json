{"repository":"https://github.com/ahdinosaur/ssb-pub","dockerfilePath":"Dockerfile","startTime":1673053335787,"endTime":1673053397965,"clone":{"startTime":1673053335790,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ahdinosaur/ssb-pub'...\n","error":null,"endTime":1673053336490,"commit":"37aecbb116e5908d5228f721883dbee6fa568c33"},"originalBuild":{"startTime":1673053336571,"endTime":1673053369039,"error":null,"stdout":"Sending build context to Docker daemon  159.2kB\r\r\nStep 1/15 : FROM node:14\n14: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n06a6920a92b8: Pulling fs layer\n56023b82801b: Pulling fs layer\ne7b01bcb8f88: Pulling fs layer\ne7b01bcb8f88: Verifying Checksum\ne7b01bcb8f88: Download complete\n56023b82801b: Verifying Checksum\n56023b82801b: Download complete\n06a6920a92b8: Download complete\n06a6920a92b8: Pull complete\n56023b82801b: Pull complete\ne7b01bcb8f88: Pull complete\nDigest: sha256:b6ab85c15f1c372bca3bde8585fbf5739b679aa9119f46e7d2bd41c1dcc05959\nStatus: Downloaded newer image for node:14\n ---> 0f2c7f307e4d\nStep 2/15 : MAINTAINER Michael Williams <michael.williams@enspiral.com>\n ---> Running in b6383cdb24bc\nRemoving intermediate container b6383cdb24bc\n ---> 848691b340d3\nStep 3/15 : USER root\n ---> Running in 73cceb30efb7\nRemoving intermediate container 73cceb30efb7\n ---> eeb59ea929d0\nStep 4/15 : ADD https://github.com/krallin/tini/releases/download/v0.19.0/tini /tini\n\n\n ---> 88b11dc12bcd\nStep 5/15 : RUN chmod +x /tini\n ---> Running in fdbe24b83271\nRemoving intermediate container fdbe24b83271\n ---> d1fa5339c535\nStep 6/15 : RUN mkdir /home/node/.npm-global ;     chown -R node:node /home/node/\n ---> Running in ed2e12862238\nRemoving intermediate container ed2e12862238\n ---> 10298e1baeec\nStep 7/15 : ENV PATH=/home/node/.npm-global/bin:$PATH\n ---> Running in a4fb4aaf41d1\nRemoving intermediate container a4fb4aaf41d1\n ---> c6f3dbd484c1\nStep 8/15 : ENV NPM_CONFIG_PREFIX=/home/node/.npm-global\n ---> Running in d73d7e073272\nRemoving intermediate container d73d7e073272\n ---> fdad71490fc0\nStep 9/15 : USER node\n ---> Running in 239739fac9a3\nRemoving intermediate container 239739fac9a3\n ---> 3c5f73283586\nStep 10/15 : RUN npm install -g ssb-server@15.3.0\n ---> Running in e384ec6289ac\n/home/node/.npm-global/bin/sbot -> /home/node/.npm-global/lib/node_modules/ssb-server/bin.js\n/home/node/.npm-global/bin/ssb-server -> /home/node/.npm-global/lib/node_modules/ssb-server/bin.js\n\n> sodium-native@3.2.0 install /home/node/.npm-global/lib/node_modules/ssb-server/node_modules/sodium-native\n> node-gyp-build \"node preinstall.js\" \"node postinstall.js\"\n\n\n> leveldown@5.6.0 install /home/node/.npm-global/lib/node_modules/ssb-server/node_modules/leveldown\n> node-gyp-build\n\n\n> level@5.0.1 postinstall /home/node/.npm-global/lib/node_modules/ssb-server/node_modules/level\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using level!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/level/donate\u001b[0m\n\n+ ssb-server@15.3.0\nadded 791 packages from 281 contributors in 11.97s\nRemoving intermediate container e384ec6289ac\n ---> b42341408f76\nStep 11/15 : EXPOSE 8008\n ---> Running in 861c8ea3995c\nRemoving intermediate container 861c8ea3995c\n ---> 83e9960b22f7\nStep 12/15 : HEALTHCHECK --interval=30s --timeout=30s --start-period=10s --retries=10   CMD ssb-server whoami || exit 1\n ---> Running in 8de044adeee2\nRemoving intermediate container 8de044adeee2\n ---> 01fb2d0625ce\nStep 13/15 : ENV HEALING_ACTION RESTART\n ---> Running in f68a7ea7ebe2\nRemoving intermediate container f68a7ea7ebe2\n ---> 75c96d800faf\nStep 14/15 : ENTRYPOINT [ \"/tini\", \"--\", \"ssb-server\" ]\n ---> Running in cc4ea983a131\nRemoving intermediate container cc4ea983a131\n ---> 91d5f25baeea\nStep 15/15 : CMD [ \"start\" ]\n ---> Running in 7b0531c989fd\nRemoving intermediate container 7b0531c989fd\n ---> 49a03ff9646c\nSuccessfully built 49a03ff9646c\nSuccessfully tagged ssb-pub:latest\n","stderr":"","imageSize":989487489},"repair":{"startTime":1673053369097,"endTime":1673053369201,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":13,"end":13,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM node:14\n\nMAINTAINER Michael Williams <michael.williams@enspiral.com>\n\nUSER root\nADD https://github.com/krallin/tini/releases/download/v0.19.0/tini /tini\nRUN chmod +x /tini\nRUN mkdir /home/node/.npm-global ; \\\n    chown -R node:node /home/node/\nENV PATH=/home/node/.npm-global/bin:$PATH\nENV NPM_CONFIG_PREFIX=/home/node/.npm-global\n\nUSER node\nRUN npm install -g ssb-server@15.3.0 && npm cache clean --force;\n\nEXPOSE 8008\n\nHEALTHCHECK --interval=30s --timeout=30s --start-period=10s --retries=10 \\\n  CMD ssb-server whoami || exit 1\nENV HEALING_ACTION RESTART\n\nENTRYPOINT [ \"/tini\", \"--\", \"ssb-server\" ]\nCMD [ \"start\" ]\n"},"repairedBuild":{"startTime":1673053369613,"endTime":1673053397389,"error":null,"stdout":"Sending build context to Docker daemon  159.2kB\r\r\nStep 1/15 : FROM node:14\n ---> 0f2c7f307e4d\nStep 2/15 : MAINTAINER Michael Williams <michael.williams@enspiral.com>\n ---> Running in b6481550f2bd\nRemoving intermediate container b6481550f2bd\n ---> f9030aada8e6\nStep 3/15 : USER root\n ---> Running in ce6bff07072c\nRemoving intermediate container ce6bff07072c\n ---> dce040bbb2c8\nStep 4/15 : ADD https://github.com/krallin/tini/releases/download/v0.19.0/tini /tini\n\n\n ---> 6c17686c2e37\nStep 5/15 : RUN chmod +x /tini\n ---> Running in d798908b8e12\nRemoving intermediate container d798908b8e12\n ---> 723c2c55191d\nStep 6/15 : RUN mkdir /home/node/.npm-global ;     chown -R node:node /home/node/\n ---> Running in fd5c40157865\nRemoving intermediate container fd5c40157865\n ---> 42d90071affa\nStep 7/15 : ENV PATH=/home/node/.npm-global/bin:$PATH\n ---> Running in 4ebbd3a55a41\nRemoving intermediate container 4ebbd3a55a41\n ---> a6f3dda9bd65\nStep 8/15 : ENV NPM_CONFIG_PREFIX=/home/node/.npm-global\n ---> Running in 9a6b5a1d8d2c\nRemoving intermediate container 9a6b5a1d8d2c\n ---> 62cfac5e85c9\nStep 9/15 : USER node\n ---> Running in 46c6fe32e266\nRemoving intermediate container 46c6fe32e266\n ---> 5a9a40cebb02\nStep 10/15 : RUN npm install -g ssb-server@15.3.0 && npm cache clean --force;\n ---> Running in e4ada19cc9a8\n/home/node/.npm-global/bin/sbot -> /home/node/.npm-global/lib/node_modules/ssb-server/bin.js\n/home/node/.npm-global/bin/ssb-server -> /home/node/.npm-global/lib/node_modules/ssb-server/bin.js\n\n> sodium-native@3.2.0 install /home/node/.npm-global/lib/node_modules/ssb-server/node_modules/sodium-native\n> node-gyp-build \"node preinstall.js\" \"node postinstall.js\"\n\n\n> leveldown@5.6.0 install /home/node/.npm-global/lib/node_modules/ssb-server/node_modules/leveldown\n> node-gyp-build\n\n\n> level@5.0.1 postinstall /home/node/.npm-global/lib/node_modules/ssb-server/node_modules/level\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using level!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/level/donate\u001b[0m\n\n+ ssb-server@15.3.0\nadded 791 packages from 281 contributors in 9.612s\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container e4ada19cc9a8\n ---> 44af19762a10\nStep 11/15 : EXPOSE 8008\n ---> Running in 7038339cb3a0\nRemoving intermediate container 7038339cb3a0\n ---> 73bc3cb5c894\nStep 12/15 : HEALTHCHECK --interval=30s --timeout=30s --start-period=10s --retries=10   CMD ssb-server whoami || exit 1\n ---> Running in c50e924374ba\nRemoving intermediate container c50e924374ba\n ---> a0aafc3cf71f\nStep 13/15 : ENV HEALING_ACTION RESTART\n ---> Running in 05a1034b9bfc\nRemoving intermediate container 05a1034b9bfc\n ---> 6051dfcf4cac\nStep 14/15 : ENTRYPOINT [ \"/tini\", \"--\", \"ssb-server\" ]\n ---> Running in ac877f73b723\nRemoving intermediate container ac877f73b723\n ---> 4fc5090f20e6\nStep 15/15 : CMD [ \"start\" ]\n ---> Running in 5a766f5d871c\nRemoving intermediate container 5a766f5d871c\n ---> 4ae9fd860ef4\nSuccessfully built 4ae9fd860ef4\nSuccessfully tagged ssb-pub:latest\n","stderr":"","imageSize":969388566}}