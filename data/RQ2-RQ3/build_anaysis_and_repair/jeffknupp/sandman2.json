{"repository":"https://github.com/jeffknupp/sandman2","dockerfilePath":"Dockerfile","startTime":1672041734661,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jeffknupp/sandman2'...\n","error":null,"commit":"715500f0d6806ad055766ecba0bd0e022f13a6f7"},"originalBuild":{"startTimestamp":1672041736067,"endTimestamp":1672041784024,"error":null,"stdout":"Sending build context to Docker daemon  4.176MB\r\r\nStep 1/7 : FROM python:3-alpine\n3-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n877ccf16716c: Download complete\n3cfcd1e4ebae: Verifying Checksum\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3-alpine\n ---> 18ccdc39ea28\nStep 2/7 : RUN apk add postgresql-dev musl libffi-dev musl-dev gcc\n ---> Running in 0954844fc5f9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/35) Installing libgcc (12.2.1_git20220924-r4)\n(2/35) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/35) Installing binutils (2.39-r2)\n(4/35) Installing libgomp (12.2.1_git20220924-r4)\n(5/35) Installing libatomic (12.2.1_git20220924-r4)\n(6/35) Installing gmp (6.2.1-r2)\n(7/35) Installing isl25 (0.25-r0)\n(8/35) Installing mpfr4 (4.1.0-r0)\n(9/35) Installing mpc1 (1.2.1-r1)\n(10/35) Installing gcc (12.2.1_git20220924-r4)\n(11/35) Installing linux-headers (5.19.5-r0)\n(12/35) Installing pkgconf (1.9.3-r0)\n(13/35) Installing libffi-dev (3.4.4-r0)\n(14/35) Installing musl-dev (1.2.3-r4)\n(15/35) Installing libpq (15.1-r0)\n(16/35) Installing openssl-dev (3.0.7-r0)\n(17/35) Installing libpq-dev (15.1-r0)\n(18/35) Installing libecpg (15.1-r0)\n(19/35) Installing libecpg-dev (15.1-r0)\n(20/35) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(21/35) Installing libxml2 (2.10.3-r1)\n(22/35) Installing llvm14-libs (14.0.6-r7)\n(23/35) Installing clang14-libs (14.0.6-r1)\n(24/35) Installing clang14-libclang (14.0.6-r1)\n(25/35) Installing clang14 (14.0.6-r1)\n(26/35) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(27/35) Installing icu-libs (72.1-r1)\n(28/35) Installing icu (72.1-r1)\n(29/35) Installing icu-dev (72.1-r1)\n(30/35) Installing llvm14 (14.0.6-r7)\n(31/35) Installing lz4-libs (1.9.4-r1)\n(32/35) Installing lz4-dev (1.9.4-r1)\n(33/35) Installing zstd-libs (1.5.2-r9)\n(34/35) Installing zstd-dev (1.5.2-r9)\n(35/35) Installing postgresql15-dev (15.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 558 MiB in 72 packages\nRemoving intermediate container 0954844fc5f9\n ---> 1d7460b6d36f\nStep 3/7 : COPY start.sh /start.sh\n ---> d79ba8310fb3\nStep 4/7 : RUN pip install sandman2 psycopg2 pymysql\n ---> Running in 4e5a9c9593a1\nCollecting sandman2\n  Downloading sandman2-1.2.3-py3-none-any.whl (20 kB)\nCollecting psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 kB 19.4 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pymysql\n  Downloading PyMySQL-1.0.2-py3-none-any.whl (43 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.8/43.8 kB 4.1 MB/s eta 0:00:00\nCollecting Flask>=1.0.3\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 10.9 MB/s eta 0:00:00\nCollecting Flask-SQLAlchemy==2.4.0\n  Downloading Flask_SQLAlchemy-2.4.0-py2.py3-none-any.whl (17 kB)\nCollecting SQLAlchemy==1.3.3\n  Downloading SQLAlchemy-1.3.3.tar.gz (5.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.9/5.9 MB 67.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting Flask-Admin>=1.5.3\n  Downloading Flask-Admin-1.6.0.tar.gz (6.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.6/6.6 MB 59.3 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting Flask-HTTPAuth>=3.2.4\n  Downloading Flask_HTTPAuth-4.7.0-py3-none-any.whl (6.9 kB)\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 12.7 MB/s eta 0:00:00\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 2.9 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 11.1 MB/s eta 0:00:00\nCollecting wtforms\n  Downloading WTForms-3.0.1-py3-none-any.whl (136 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 136.5/136.5 kB 11.8 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: SQLAlchemy, psycopg2, Flask-Admin, MarkupSafe\n  Building wheel for SQLAlchemy (setup.py): started\n  Building wheel for SQLAlchemy (setup.py): finished with status 'done'\n  Created wheel for SQLAlchemy: filename=SQLAlchemy-1.3.3-cp311-cp311-linux_x86_64.whl size=1137239 sha256=ce683f45fc38e562d45d19a0cc546d537266d6fa8c28cac504132cc17bd805fd\n  Stored in directory: /root/.cache/pip/wheels/a9/48/05/910ad5a861130d4239069a47b2dcc51183b4b5cf9a353d204b\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.5-cp311-cp311-linux_x86_64.whl size=156114 sha256=1d68c647c744ade684dc6f37182bdddf84c6d1d446080e2493a16d2b11fcfa12\n  Stored in directory: /root/.cache/pip/wheels/f9/08/b1/dddce0df8eee727ef4a56fb0da4f0230de9e127e5f234881d4\n  Building wheel for Flask-Admin (setup.py): started\n  Building wheel for Flask-Admin (setup.py): finished with status 'done'\n  Created wheel for Flask-Admin: filename=Flask_Admin-1.6.0-py3-none-any.whl size=7496289 sha256=df7cabe3a458aa640abd51253775e6bbc93ca4a8e941abf1b40166553f69dc8f\n  Stored in directory: /root/.cache/pip/wheels/69/bf/f7/98e60d52df4147ab7eab7820d5bb1471ee2b93e16040c948fc\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-cp311-cp311-linux_x86_64.whl size=14370 sha256=b593a076c45b8fbc907d1f76e6f466a2205e9c2a68c56f6e9469da3b0b110c12\n  Stored in directory: /root/.cache/pip/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\nSuccessfully built SQLAlchemy psycopg2 Flask-Admin MarkupSafe\nInstalling collected packages: SQLAlchemy, pymysql, psycopg2, MarkupSafe, itsdangerous, click, wtforms, Werkzeug, Jinja2, Flask, Flask-SQLAlchemy, Flask-HTTPAuth, Flask-Admin, sandman2\nSuccessfully installed Flask-2.2.2 Flask-Admin-1.6.0 Flask-HTTPAuth-4.7.0 Flask-SQLAlchemy-2.4.0 Jinja2-3.1.2 MarkupSafe-2.1.1 SQLAlchemy-1.3.3 Werkzeug-2.2.2 click-8.1.3 itsdangerous-2.1.2 psycopg2-2.9.5 pymysql-1.0.2 sandman2-1.2.3 wtforms-3.0.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 4e5a9c9593a1\n ---> f8e17fe3c348\nStep 5/7 : ENV PORT 80\n ---> Running in 9aba5fe179c8\nRemoving intermediate container 9aba5fe179c8\n ---> 3cfc9d40df2a\nStep 6/7 : EXPOSE 80\n ---> Running in 4bfecde76101\nRemoving intermediate container 4bfecde76101\n ---> ed6e56612407\nStep 7/7 : CMD [\"/start.sh\"]\n ---> Running in fdeee14dcc06\nRemoving intermediate container fdeee14dcc06\n ---> 06b407615b44\nSuccessfully built 06b407615b44\nSuccessfully tagged sandman2:latest\n","stderr":"","imageSize":694917762},"repair":{"violations":[],"repairedDockerfile":"FROM python:3-alpine\n\nRUN apk add postgresql-dev musl libffi-dev musl-dev gcc\n\nCOPY start.sh /start.sh\n\nRUN pip install sandman2 psycopg2 pymysql\n\nENV PORT 80\n\nEXPOSE 80\n\nCMD [\"/start.sh\"]\n"},"endTime":1672041784476}