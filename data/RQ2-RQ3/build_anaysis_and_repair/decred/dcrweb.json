{"repository":"https://github.com/decred/dcrweb","dockerfilePath":"Dockerfile","startTime":1672523018208,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/decred/dcrweb'...\n","error":null,"commit":"a62046ab23c397b00639ba079bef4862e0620561"},"originalBuild":{"startTimestamp":1672523023384,"endTimestamp":1672523120405,"error":null,"stdout":"Sending build context to Docker daemon  111.7MB\r\r\nStep 1/21 : FROM alpine:latest\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 2/21 : ARG HUGO_BASEURL\n ---> Running in e4fc7449e16f\nRemoving intermediate container e4fc7449e16f\n ---> e8ee80c24c3f\nStep 3/21 : ENV HUGO_BASEURL ${HUGO_BASEURL:-https://decred.org}\n ---> Running in 1e38926165ea\nRemoving intermediate container 1e38926165ea\n ---> 34a861ac0335\nStep 4/21 : ENV HUGO_VERSION 0.101.0\n ---> Running in 1d782f9f0e60\nRemoving intermediate container 1d782f9f0e60\n ---> f6d6adaf624e\nStep 5/21 : LABEL description=\"gohugo build\"\n ---> Running in c559bdfaa6ab\nRemoving intermediate container c559bdfaa6ab\n ---> 5f0df8c174c5\nStep 6/21 : LABEL version=\"1.0\"\n ---> Running in cf6701a0c9e6\nRemoving intermediate container cf6701a0c9e6\n ---> b50214d3341c\nStep 7/21 : LABEL maintainer=\"peter@froggle.org\"\n ---> Running in 0f68aebfbd9d\nRemoving intermediate container 0f68aebfbd9d\n ---> 17b5edaef4c3\nStep 8/21 : WORKDIR /tmp\n ---> Running in 5c8055b4043b\nRemoving intermediate container 5c8055b4043b\n ---> d48105e8a1fc\nStep 9/21 : RUN apk update && apk upgrade\n ---> Running in 6daa0c1663b9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-308-g2898ecdd1a [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 7 MiB in 15 packages\nRemoving intermediate container 6daa0c1663b9\n ---> 3aa0a0cd73d7\nStep 10/21 : RUN apk add --no-cache bash jq wget libc6-compat g++\n ---> Running in fe76532d468d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/25) Installing ncurses-libs (6.3_p20221119-r0)\n(3/25) Installing readline (8.2.0-r0)\n(4/25) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/25) Installing libgcc (12.2.1_git20220924-r4)\n(6/25) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/25) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/25) Installing binutils (2.39-r2)\n(9/25) Installing libgomp (12.2.1_git20220924-r4)\n(10/25) Installing libatomic (12.2.1_git20220924-r4)\n(11/25) Installing gmp (6.2.1-r2)\n(12/25) Installing isl25 (0.25-r0)\n(13/25) Installing mpfr4 (4.1.0-r0)\n(14/25) Installing mpc1 (1.2.1-r1)\n(15/25) Installing gcc (12.2.1_git20220924-r4)\n(16/25) Installing musl-dev (1.2.3-r4)\n(17/25) Installing libc-dev (0.7.2-r3)\n(18/25) Installing g++ (12.2.1_git20220924-r4)\n(19/25) Installing oniguruma (6.9.8-r0)\n(20/25) Installing jq (1.6-r2)\n(21/25) Installing libc6-compat (1.2.3-r4)\n(22/25) Installing libunistring (1.1-r0)\n(23/25) Installing libidn2 (2.3.4-r0)\n(24/25) Installing pcre2 (10.42-r0)\n(25/25) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 242 MiB in 40 packages\nRemoving intermediate container fe76532d468d\n ---> 38f5e5922de3\nStep 11/21 : RUN wget -q https://github.com/gohugoio/hugo/releases/download/v$HUGO_VERSION/hugo_extended_\"$HUGO_VERSION\"_Linux-64bit.tar.gz\n ---> Running in e26d727920db\nRemoving intermediate container e26d727920db\n ---> 5eb326155e2b\nStep 12/21 : RUN tar xz -C /usr/local/bin -f hugo_extended_\"$HUGO_VERSION\"_Linux-64bit.tar.gz\n ---> Running in bce6a6847e35\nRemoving intermediate container bce6a6847e35\n ---> 0144dfa66c03\nStep 13/21 : WORKDIR /root\n ---> Running in ebc6ce0246e5\nRemoving intermediate container ebc6ce0246e5\n ---> 44f5cf836f06\nStep 14/21 : COPY ./ /root/\n ---> f871b5d64902\nStep 15/21 : RUN bin/build-hugo.sh\n ---> Running in 89d6810acd03\n\u001b[91m+ bin/i18n-convert-transifex-hugo.sh\n\u001b[0mWriting i18n files for ar\nWriting i18n files for de\nWriting i18n files for en\nWriting i18n files for es\nWriting i18n files for fa\nWriting i18n files for ja\nWriting i18n files for ko\nWriting i18n files for pl\nWriting i18n files for pt\nWriting i18n files for ru\nWriting i18n files for tr\nWriting i18n files for zh\n\u001b[91m+ rm -rf src/public src/resources\n\u001b[0m\u001b[91m+ hugo --buildFuture --source src\n\u001b[0mStart building sites … \nhugo v0.101.0-466fa43c16709b4483689930a4f9ac8add5c9f66+extended linux/amd64 BuildDate=2022-06-16T07:09:16Z VendorInfo=gohugoio\n\n                   | EN  | ZH  | PT  | AR  | ES  | DE  | PL   \n-------------------+-----+-----+-----+-----+-----+-----+------\n  Pages            |  34 |  34 |  34 |  34 |  34 |  34 |  34  \n  Paginator pages  |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n  Non-page files   |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n  Static files     | 191 | 191 | 191 | 191 | 191 | 191 | 191  \n  Processed images |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n  Aliases          |   1 |   0 |   0 |   0 |   0 |   0 |   0  \n  Sitemaps         |   2 |   1 |   1 |   1 |   1 |   1 |   1  \n  Cleaned          |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n\nTotal in 984 ms\nRemoving intermediate container 89d6810acd03\n ---> 641607feb366\nStep 16/21 : FROM nginx:1.22\n1.22: Pulling from library/nginx\n3f4ca61aafcd: Already exists\nfef12589070a: Pulling fs layer\na8b45117975d: Pulling fs layer\n6bc55cdba74a: Pulling fs layer\ne4b66a5b75cf: Pulling fs layer\n2107c9e9a888: Pulling fs layer\ne4b66a5b75cf: Waiting\n2107c9e9a888: Waiting\na8b45117975d: Verifying Checksum\na8b45117975d: Download complete\n6bc55cdba74a: Verifying Checksum\n6bc55cdba74a: Download complete\nfef12589070a: Verifying Checksum\nfef12589070a: Download complete\n2107c9e9a888: Verifying Checksum\n2107c9e9a888: Download complete\nfef12589070a: Pull complete\na8b45117975d: Pull complete\n6bc55cdba74a: Pull complete\ne4b66a5b75cf: Pull complete\n2107c9e9a888: Pull complete\nDigest: sha256:f8b4a55777ba19cf3a042b022bcd3fd12bd2f9da03f973c1188ef90b8c1f4c47\nStatus: Downloaded newer image for nginx:1.22\n ---> 52883804bc8e\nStep 17/21 : LABEL description=\"dcrweb server\"\n ---> Running in 92305d98b031\nRemoving intermediate container 92305d98b031\n ---> 88cc189b52c0\nStep 18/21 : LABEL version=\"1.0\"\n ---> Running in 05cc1cafbf23\nRemoving intermediate container 05cc1cafbf23\n ---> a1d894a60491\nStep 19/21 : LABEL maintainer=\"peter@froggle.org\"\n ---> Running in dbccae0d1ed8\nRemoving intermediate container dbccae0d1ed8\n ---> 4527f5a51771\nStep 20/21 : COPY conf/nginx.conf /etc/nginx/conf.d/default.conf\n ---> 67ccdb14c2c1\nStep 21/21 : COPY --from=0 /root/src/public/ /usr/share/nginx/html\n ---> 556068e571cd\nSuccessfully built 556068e571cd\nSuccessfully tagged dcrweb:latest\n","stderr":"","imageSize":257359335},"repair":{"violations":[{"name":"tarSomethingRmTheSomething","position":{"start":16,"end":16,"columnStart":4,"columnEnd":80}}],"repairedDockerfile":"# builder image\nFROM alpine:latest\n\nARG HUGO_BASEURL\nENV HUGO_BASEURL ${HUGO_BASEURL:-https://decred.org}\nENV HUGO_VERSION 0.101.0\n\nLABEL description=\"gohugo build\"\nLABEL version=\"1.0\"\nLABEL maintainer=\"peter@froggle.org\"\n\nWORKDIR /tmp\n\nRUN apk update && apk upgrade\nRUN apk add --no-cache bash jq wget libc6-compat g++\nRUN wget -q https://github.com/gohugoio/hugo/releases/download/v$HUGO_VERSION/hugo_extended_\"$HUGO_VERSION\"_Linux-64bit.tar.gz\nRUN tar xz -C /usr/local/bin -f hugo_extended_\"$HUGO_VERSION\"_Linux-64bit.tar.gz\n\nWORKDIR /root\n\nCOPY ./ /root/\n\nRUN bin/build-hugo.sh\n\n# final image\nFROM nginx:1.22\n\nLABEL description=\"dcrweb server\"\nLABEL version=\"1.0\"\nLABEL maintainer=\"peter@froggle.org\"\n\nCOPY conf/nginx.conf /etc/nginx/conf.d/default.conf\n\n# /usr/share/nginx/html is also hardcoded in test/run-test.sh\nCOPY --from=0 /root/src/public/ /usr/share/nginx/html\n"},"repairedBuild":{"startTimestamp":1672523120764,"endTimestamp":1672523202890,"error":null,"stdout":"Sending build context to Docker daemon  111.7MB\r\r\nStep 1/21 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/21 : ARG HUGO_BASEURL\n ---> Running in 6fc7bf4eb0f9\nRemoving intermediate container 6fc7bf4eb0f9\n ---> 19b122696df1\nStep 3/21 : ENV HUGO_BASEURL ${HUGO_BASEURL:-https://decred.org}\n ---> Running in 2711952115b9\nRemoving intermediate container 2711952115b9\n ---> 6e2da5473816\nStep 4/21 : ENV HUGO_VERSION 0.101.0\n ---> Running in 7a84789a7a0b\nRemoving intermediate container 7a84789a7a0b\n ---> f65df684be11\nStep 5/21 : LABEL description=\"gohugo build\"\n ---> Running in 47778ce9254f\nRemoving intermediate container 47778ce9254f\n ---> e6430cf08799\nStep 6/21 : LABEL version=\"1.0\"\n ---> Running in 2f017a898ab4\nRemoving intermediate container 2f017a898ab4\n ---> ea0b8e91c3a6\nStep 7/21 : LABEL maintainer=\"peter@froggle.org\"\n ---> Running in 34ac29bd0ca2\nRemoving intermediate container 34ac29bd0ca2\n ---> 79f6a863c302\nStep 8/21 : WORKDIR /tmp\n ---> Running in 93b001b3c855\nRemoving intermediate container 93b001b3c855\n ---> 9d4db81aeec7\nStep 9/21 : RUN apk update && apk upgrade\n ---> Running in 3866feac8d24\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-308-g2898ecdd1a [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 7 MiB in 15 packages\nRemoving intermediate container 3866feac8d24\n ---> 54db5d0fff4e\nStep 10/21 : RUN apk add --no-cache bash jq wget libc6-compat g++\n ---> Running in dc803e5fe5d8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/25) Installing ncurses-libs (6.3_p20221119-r0)\n(3/25) Installing readline (8.2.0-r0)\n(4/25) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/25) Installing libgcc (12.2.1_git20220924-r4)\n(6/25) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/25) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/25) Installing binutils (2.39-r2)\n(9/25) Installing libgomp (12.2.1_git20220924-r4)\n(10/25) Installing libatomic (12.2.1_git20220924-r4)\n(11/25) Installing gmp (6.2.1-r2)\n(12/25) Installing isl25 (0.25-r0)\n(13/25) Installing mpfr4 (4.1.0-r0)\n(14/25) Installing mpc1 (1.2.1-r1)\n(15/25) Installing gcc (12.2.1_git20220924-r4)\n(16/25) Installing musl-dev (1.2.3-r4)\n(17/25) Installing libc-dev (0.7.2-r3)\n(18/25) Installing g++ (12.2.1_git20220924-r4)\n(19/25) Installing oniguruma (6.9.8-r0)\n(20/25) Installing jq (1.6-r2)\n(21/25) Installing libc6-compat (1.2.3-r4)\n(22/25) Installing libunistring (1.1-r0)\n(23/25) Installing libidn2 (2.3.4-r0)\n(24/25) Installing pcre2 (10.42-r0)\n(25/25) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 242 MiB in 40 packages\nRemoving intermediate container dc803e5fe5d8\n ---> 49541c5cca6a\nStep 11/21 : RUN wget -q https://github.com/gohugoio/hugo/releases/download/v$HUGO_VERSION/hugo_extended_\"$HUGO_VERSION\"_Linux-64bit.tar.gz\n ---> Running in 822da226997e\nRemoving intermediate container 822da226997e\n ---> 0f2f079fd6fa\nStep 12/21 : RUN tar xz -C /usr/local/bin -f hugo_extended_\"$HUGO_VERSION\"_Linux-64bit.tar.gz\n ---> Running in cd36644c9173\nRemoving intermediate container cd36644c9173\n ---> 642e2267c232\nStep 13/21 : WORKDIR /root\n ---> Running in 2b6e7cc38941\nRemoving intermediate container 2b6e7cc38941\n ---> 14772fcd02c1\nStep 14/21 : COPY ./ /root/\n ---> 16d7a6d55b2e\nStep 15/21 : RUN bin/build-hugo.sh\n ---> Running in 75291fd976e4\n\u001b[91m+ bin/i18n-convert-transifex-hugo.sh\n\u001b[0mWriting i18n files for ar\nWriting i18n files for de\nWriting i18n files for en\nWriting i18n files for es\nWriting i18n files for fa\nWriting i18n files for ja\nWriting i18n files for ko\nWriting i18n files for pl\nWriting i18n files for pt\nWriting i18n files for ru\nWriting i18n files for tr\nWriting i18n files for zh\n\u001b[91m+ rm -rf src/public src/resources\n\u001b[0m\u001b[91m+ hugo --buildFuture --source src\n\u001b[0mStart building sites … \nhugo v0.101.0-466fa43c16709b4483689930a4f9ac8add5c9f66+extended linux/amd64 BuildDate=2022-06-16T07:09:16Z VendorInfo=gohugoio\n\n                   | EN  | ZH  | PT  | AR  | ES  | DE  | PL   \n-------------------+-----+-----+-----+-----+-----+-----+------\n  Pages            |  34 |  34 |  34 |  34 |  34 |  34 |  34  \n  Paginator pages  |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n  Non-page files   |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n  Static files     | 191 | 191 | 191 | 191 | 191 | 191 | 191  \n  Processed images |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n  Aliases          |   1 |   0 |   0 |   0 |   0 |   0 |   0  \n  Sitemaps         |   2 |   1 |   1 |   1 |   1 |   1 |   1  \n  Cleaned          |   0 |   0 |   0 |   0 |   0 |   0 |   0  \n\nTotal in 1054 ms\nRemoving intermediate container 75291fd976e4\n ---> c33f40eac5e2\nStep 16/21 : FROM nginx:1.22\n ---> 52883804bc8e\nStep 17/21 : LABEL description=\"dcrweb server\"\n ---> Running in 407881958cc3\nRemoving intermediate container 407881958cc3\n ---> f88a01288fb7\nStep 18/21 : LABEL version=\"1.0\"\n ---> Running in 4cfec10500ae\nRemoving intermediate container 4cfec10500ae\n ---> a5dd2f9ffef0\nStep 19/21 : LABEL maintainer=\"peter@froggle.org\"\n ---> Running in e506f9ac180d\nRemoving intermediate container e506f9ac180d\n ---> dc63140334b2\nStep 20/21 : COPY conf/nginx.conf /etc/nginx/conf.d/default.conf\n ---> add6b74b295d\nStep 21/21 : COPY --from=0 /root/src/public/ /usr/share/nginx/html\n ---> 276aafad5f06\nSuccessfully built 276aafad5f06\nSuccessfully tagged dcrweb:latest\n","stderr":"","imageSize":257359335},"endTime":1672523203230}