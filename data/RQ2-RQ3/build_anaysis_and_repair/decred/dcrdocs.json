{"repository":"https://github.com/decred/dcrdocs","dockerfilePath":"Dockerfile","startTime":1672169427934,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/decred/dcrdocs'...\n","error":null,"commit":"dddd7e5ef8456348a50b9d9851e6a527d7ebebda"},"originalBuild":{"startTimestamp":1672169429512,"endTimestamp":1672169555975,"error":null,"stdout":"Sending build context to Docker daemon  8.761MB\r\r\nStep 1/18 : FROM python:3.9\n ---> 68cf04410baf\nStep 2/18 : LABEL description=\"dcrdocs build\"\n ---> Running in a4d5aea846a2\nRemoving intermediate container a4d5aea846a2\n ---> da8a3d400fb9\nStep 3/18 : LABEL version=\"1.0\"\n ---> Running in 6ea8ffeed8e8\nRemoving intermediate container 6ea8ffeed8e8\n ---> c5fc4ab033f7\nStep 4/18 : LABEL maintainer \"jholdstock@decred.org\"\n ---> Running in 52bf69ea1065\nRemoving intermediate container 52bf69ea1065\n ---> 51d785c83039\nStep 5/18 : USER root\n ---> Running in 4e664e671a8e\nRemoving intermediate container 4e664e671a8e\n ---> 6c9d81f61a9f\nStep 6/18 : WORKDIR /root\n ---> Running in 01dc25f8caed\nRemoving intermediate container 01dc25f8caed\n ---> fa193fc88aca\nStep 7/18 : RUN python -m pip install --upgrade pip\n ---> Running in 30956144f8fa\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 47.2 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 30956144f8fa\n ---> 21cdbf9e6436\nStep 8/18 : COPY ./ /root/\n ---> 418d17516b47\nStep 9/18 : RUN pip install mkdocs && \tpip install --user -r requirements.txt\n ---> Running in cbd76e9421b1\nCollecting mkdocs\n  Downloading mkdocs-1.4.2-py3-none-any.whl (3.7 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.7/3.7 MB 50.1 MB/s eta 0:00:00\nCollecting ghp-import>=1.0\n  Downloading ghp_import-2.1.0-py3-none-any.whl (11 kB)\nCollecting importlib-metadata>=4.3\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting jinja2>=2.11.1\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 14.3 MB/s eta 0:00:00\nCollecting click>=7.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 9.3 MB/s eta 0:00:00\nCollecting mergedeep>=1.3.4\n  Downloading mergedeep-1.3.4-py3-none-any.whl (6.4 kB)\nCollecting markdown<3.4,>=3.2.1\n  Downloading Markdown-3.3.7-py3-none-any.whl (97 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 97.8/97.8 kB 7.2 MB/s eta 0:00:00\nCollecting packaging>=20.5\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 2.7 MB/s eta 0:00:00\nCollecting pyyaml-env-tag>=0.1\n  Downloading pyyaml_env_tag-0.1-py3-none-any.whl (3.9 kB)\nCollecting watchdog>=2.0\n  Downloading watchdog-2.2.0-py3-none-manylinux2014_x86_64.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 8.5 MB/s eta 0:00:00\nCollecting pyyaml>=5.1\n  Downloading PyYAML-6.0-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (661 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 661.8/661.8 kB 45.5 MB/s eta 0:00:00\nCollecting python-dateutil>=2.8.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 25.2 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nInstalling collected packages: zipp, watchdog, six, pyyaml, packaging, mergedeep, MarkupSafe, click, pyyaml-env-tag, python-dateutil, jinja2, importlib-metadata, markdown, ghp-import, mkdocs\nSuccessfully installed MarkupSafe-2.1.1 click-8.1.3 ghp-import-2.1.0 importlib-metadata-5.2.0 jinja2-3.1.2 markdown-3.3.7 mergedeep-1.3.4 mkdocs-1.4.2 packaging-22.0 python-dateutil-2.8.2 pyyaml-6.0 pyyaml-env-tag-0.1 six-1.16.0 watchdog-2.2.0 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting mkdocs-material==8.5.6\n  Downloading mkdocs_material-8.5.6-py3-none-any.whl (7.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.5/7.5 MB 3.0 MB/s eta 0:00:00\nCollecting mkdocs-markdownextradata-plugin==0.2.5\n  Downloading mkdocs-markdownextradata-plugin-0.2.5.tar.gz (7.1 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pymdown-extensions>=9.4\n  Downloading pymdown_extensions-9.9-py3-none-any.whl (219 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 219.5/219.5 kB 21.8 MB/s eta 0:00:00\nRequirement already satisfied: mkdocs>=1.4.0 in /usr/local/lib/python3.9/site-packages (from mkdocs-material==8.5.6->-r requirements.txt (line 1)) (1.4.2)\nRequirement already satisfied: markdown>=3.2 in /usr/local/lib/python3.9/site-packages (from mkdocs-material==8.5.6->-r requirements.txt (line 1)) (3.3.7)\nCollecting requests>=2.26\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 6.9 MB/s eta 0:00:00\nCollecting mkdocs-material-extensions>=1.0.3\n  Downloading mkdocs_material_extensions-1.1.1-py3-none-any.whl (7.9 kB)\nRequirement already satisfied: jinja2>=3.0.2 in /usr/local/lib/python3.9/site-packages (from mkdocs-material==8.5.6->-r requirements.txt (line 1)) (3.1.2)\nCollecting pygments>=2.12\n  Downloading Pygments-2.13.0-py3-none-any.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 46.3 MB/s eta 0:00:00\nRequirement already satisfied: pyyaml in /usr/local/lib/python3.9/site-packages (from mkdocs-markdownextradata-plugin==0.2.5->-r requirements.txt (line 2)) (6.0)\nRequirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.9/site-packages (from jinja2>=3.0.2->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.1.1)\nRequirement already satisfied: importlib-metadata>=4.4 in /usr/local/lib/python3.9/site-packages (from markdown>=3.2->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (5.2.0)\nRequirement already satisfied: mergedeep>=1.3.4 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (1.3.4)\nRequirement already satisfied: click>=7.0 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (8.1.3)\nRequirement already satisfied: ghp-import>=1.0 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.1.0)\nRequirement already satisfied: watchdog>=2.0 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.2.0)\nRequirement already satisfied: pyyaml-env-tag>=0.1 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (0.1)\nRequirement already satisfied: packaging>=20.5 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (22.0)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 13.0 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 11.0 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 5.9 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nRequirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.9/site-packages (from ghp-import>=1.0->mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.8.2)\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.9/site-packages (from importlib-metadata>=4.4->markdown>=3.2->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (3.11.0)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.9/site-packages (from python-dateutil>=2.8.1->ghp-import>=1.0->mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (1.16.0)\nBuilding wheels for collected packages: mkdocs-markdownextradata-plugin\n  Building wheel for mkdocs-markdownextradata-plugin (setup.py): started\n  Building wheel for mkdocs-markdownextradata-plugin (setup.py): finished with status 'done'\n  Created wheel for mkdocs-markdownextradata-plugin: filename=mkdocs_markdownextradata_plugin-0.2.5-py3-none-any.whl size=6687 sha256=a080bb3956fefd4ec210071f88d72589be3b2425333135afd5f249c0ae23f325\n  Stored in directory: /root/.cache/pip/wheels/18/ab/f9/96de3d4672d311b9779844a409f6cca91458b7e6f41c5c0a63\nSuccessfully built mkdocs-markdownextradata-plugin\nInstalling collected packages: urllib3, pygments, mkdocs-material-extensions, idna, charset-normalizer, certifi, requests, pymdown-extensions, mkdocs-material, mkdocs-markdownextradata-plugin\n\u001b[91m  WARNING: The script pygmentize is installed in '/root/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script normalizer is installed in '/root/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0mSuccessfully installed certifi-2022.12.7 charset-normalizer-2.1.1 idna-3.4 mkdocs-markdownextradata-plugin-0.2.5 mkdocs-material-8.5.6 mkdocs-material-extensions-1.1.1 pygments-2.13.0 pymdown-extensions-9.9 requests-2.28.1 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container cbd76e9421b1\n ---> 979a21cc5ef7\nStep 10/18 : RUN apt update &&     apt install libcairo2-dev libfreetype6-dev libffi-dev libjpeg-dev libpng-dev libz-dev && \tpip install pillow cairosvg\n ---> Running in 9cd5f3f88d53\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6952 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n1 package can be upgraded. Run 'apt list --upgradable' to see it.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nlibcairo2-dev is already the newest version (1.16.0-5).\nlibcairo2-dev set to manually installed.\nlibfreetype6-dev is already the newest version (2.10.4+dfsg-1+deb11u1).\nlibfreetype6-dev set to manually installed.\nlibffi-dev is already the newest version (3.3-6).\nlibjpeg-dev is already the newest version (1:2.0.6-4).\nlibpng-dev is already the newest version (1.6.37-3).\nzlib1g-dev is already the newest version (1:1.2.11.dfsg-2+deb11u2).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nCollecting pillow\n  Downloading Pillow-9.3.0-cp39-cp39-manylinux_2_28_x86_64.whl (3.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.3/3.3 MB 42.8 MB/s eta 0:00:00\nCollecting cairosvg\n  Downloading CairoSVG-2.5.2-py3-none-any.whl (45 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 45.8/45.8 kB 2.8 MB/s eta 0:00:00\nCollecting tinycss2\n  Downloading tinycss2-1.2.1-py3-none-any.whl (21 kB)\nCollecting cssselect2\n  Downloading cssselect2-0.7.0-py3-none-any.whl (15 kB)\nCollecting defusedxml\n  Downloading defusedxml-0.7.1-py2.py3-none-any.whl (25 kB)\nCollecting cairocffi\n  Downloading cairocffi-1.4.0.tar.gz (69 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 69.9/69.9 kB 7.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting cffi>=1.1.0\n  Using cached cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting pycparser\n  Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB)\nBuilding wheels for collected packages: cairocffi\n  Building wheel for cairocffi (setup.py): started\n  Building wheel for cairocffi (setup.py): finished with status 'done'\n  Created wheel for cairocffi: filename=cairocffi-1.4.0-py3-none-any.whl size=88775 sha256=cd23a97085c75f69cd8acc7a644fd26d2e992627d23d155e974555e21a9f86b6\n  Stored in directory: /root/.cache/pip/wheels/ce/9a/f7/eadfb62d73c23578785264fb95aeb19899aa19f273dd456695\nSuccessfully built cairocffi\nInstalling collected packages: webencodings, tinycss2, pycparser, pillow, defusedxml, cssselect2, cffi, cairocffi, cairosvg\nSuccessfully installed cairocffi-1.4.0 cairosvg-2.5.2 cffi-1.15.1 cssselect2-0.7.0 defusedxml-0.7.1 pillow-9.3.0 pycparser-2.21 tinycss2-1.2.1 webencodings-0.5.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 9cd5f3f88d53\n ---> 1c78f29c6372\nStep 11/18 : ENV DCRDOCS_CARDS true\n ---> Running in 9161b6416443\nRemoving intermediate container 9161b6416443\n ---> 634f84518a76\nStep 12/18 : RUN ./bin/build_docs.sh\n ---> Running in c91eab07b728\n\n=========================================\n  Building dcrdocs into directory site/  \n=========================================\n\n\u001b[91mINFO     -  Cleaning site directory\nINFO     -  Building documentation to directory: /root/site\n\u001b[0m\u001b[91mINFO     -  Documentation built in 56.90 seconds\n\u001b[0m\n===================\n  Build complete\n===================\n\nRemoving intermediate container c91eab07b728\n ---> cf403be1d449\nStep 13/18 : FROM nginx:1.20\n1.20: Pulling from library/nginx\n214ca5fb9032: Pulling fs layer\n50836501937f: Pulling fs layer\nd838e0361e8e: Pulling fs layer\nfcc7a415e354: Pulling fs layer\ndc73b4533047: Pulling fs layer\ne8750203e985: Pulling fs layer\nfcc7a415e354: Waiting\ndc73b4533047: Waiting\ne8750203e985: Waiting\nd838e0361e8e: Verifying Checksum\nd838e0361e8e: Download complete\nfcc7a415e354: Verifying Checksum\nfcc7a415e354: Download complete\n50836501937f: Verifying Checksum\n50836501937f: Download complete\n214ca5fb9032: Verifying Checksum\n214ca5fb9032: Download complete\ndc73b4533047: Verifying Checksum\ndc73b4533047: Download complete\ne8750203e985: Download complete\n214ca5fb9032: Pull complete\n50836501937f: Pull complete\nd838e0361e8e: Pull complete\nfcc7a415e354: Pull complete\ndc73b4533047: Pull complete\ne8750203e985: Pull complete\nDigest: sha256:38f8c1d9613f3f42e7969c3b1dd5c3277e635d4576713e6453c6193e66270a6d\nStatus: Downloaded newer image for nginx:1.20\n ---> 0584b370e957\nStep 14/18 : LABEL description=\"dcrdocs serve\"\n ---> Running in 84f7f667c027\nRemoving intermediate container 84f7f667c027\n ---> 5f672fc21776\nStep 15/18 : LABEL version=\"1.0\"\n ---> Running in cc6e95401a47\nRemoving intermediate container cc6e95401a47\n ---> 4573b1c836a7\nStep 16/18 : LABEL maintainer \"jholdstock@decred.org\"\n ---> Running in 8f4600d4116c\nRemoving intermediate container 8f4600d4116c\n ---> 0361ccb8a26b\nStep 17/18 : COPY conf/nginx.conf /etc/nginx/conf.d/default.conf\n ---> 4d413d1224cb\nStep 18/18 : COPY --from=0 ./root/site/ /usr/share/nginx/html\n ---> 0bf665b87799\nSuccessfully built 0bf665b87799\nSuccessfully tagged dcrdocs:latest\n","stderr":"","imageSize":169460938},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":14,"end":14,"columnStart":4,"columnEnd":22}},{"name":"pipUseNoCacheDir","position":{"start":15,"end":15,"columnStart":1,"columnEnd":39}},{"name":"pipUseNoCacheDir","position":{"start":21,"end":21,"columnStart":1,"columnEnd":28}},{"name":"ruleAptGetInstallUseY","position":{"start":20,"end":20,"columnStart":4,"columnEnd":89}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":20,"end":20,"columnStart":4,"columnEnd":89}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":20,"end":20,"columnStart":4,"columnEnd":89}}],"repairedDockerfile":"# Build image\nFROM python:3.9\n\nLABEL description=\"dcrdocs build\"\nLABEL version=\"1.0\"\nLABEL maintainer \"jholdstock@decred.org\"\n\nUSER root\nWORKDIR /root\n\nRUN python -m pip install --upgrade pip\n\nCOPY ./ /root/\n\nRUN pip install --no-cache-dir mkdocs && \\\n\tpip install --no-cache-dir --user -r requirements.txt\n\n# Install dependencies for generating social cards.\n# https://squidfunk.github.io/mkdocs-material/setup/setting-up-social-cards\nRUN apt update && \\\n    apt install -y --no-install-recommends libcairo2-dev libfreetype6-dev libffi-dev libjpeg-dev libpng-dev libz-dev && \\\n\tpip install --no-cache-dir pillow cairosvg\n\nENV DCRDOCS_CARDS true\n\nRUN ./bin/build_docs.sh\n\n# Serve image (stable nginx version)\nFROM nginx:1.20\n\nLABEL description=\"dcrdocs serve\"\nLABEL version=\"1.0\"\nLABEL maintainer \"jholdstock@decred.org\"\n\nCOPY conf/nginx.conf /etc/nginx/conf.d/default.conf\n\nCOPY --from=0 ./root/site/ /usr/share/nginx/html\n"},"repairedBuild":{"startTimestamp":1672169556307,"endTimestamp":1672169659493,"error":null,"stdout":"Sending build context to Docker daemon  8.761MB\r\r\nStep 1/18 : FROM python:3.9\n ---> 68cf04410baf\nStep 2/18 : LABEL description=\"dcrdocs build\"\n ---> Running in 59403a6dd926\nRemoving intermediate container 59403a6dd926\n ---> decf2947913e\nStep 3/18 : LABEL version=\"1.0\"\n ---> Running in baf3769a8bf3\nRemoving intermediate container baf3769a8bf3\n ---> 4b6960440cfd\nStep 4/18 : LABEL maintainer \"jholdstock@decred.org\"\n ---> Running in d76760bee1c2\nRemoving intermediate container d76760bee1c2\n ---> 2a8009badd56\nStep 5/18 : USER root\n ---> Running in 8d7ac1c36e3e\nRemoving intermediate container 8d7ac1c36e3e\n ---> 235a9acfdd37\nStep 6/18 : WORKDIR /root\n ---> Running in 07fbfdf0ea2d\nRemoving intermediate container 07fbfdf0ea2d\n ---> 945d36ad2eeb\nStep 7/18 : RUN python -m pip install --upgrade pip\n ---> Running in 5d7df0747eee\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 51.0 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 5d7df0747eee\n ---> 0b9a5b157b43\nStep 8/18 : COPY ./ /root/\n ---> 37fc8fae7b8e\nStep 9/18 : RUN pip install --no-cache-dir mkdocs && \tpip install --no-cache-dir --user -r requirements.txt\n ---> Running in ca340a9aca7b\nCollecting mkdocs\n  Downloading mkdocs-1.4.2-py3-none-any.whl (3.7 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.7/3.7 MB 102.2 MB/s eta 0:00:00\nCollecting mergedeep>=1.3.4\n  Downloading mergedeep-1.3.4-py3-none-any.whl (6.4 kB)\nCollecting jinja2>=2.11.1\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 249.2 MB/s eta 0:00:00\nCollecting packaging>=20.5\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 204.0 MB/s eta 0:00:00\nCollecting ghp-import>=1.0\n  Downloading ghp_import-2.1.0-py3-none-any.whl (11 kB)\nCollecting pyyaml-env-tag>=0.1\n  Downloading pyyaml_env_tag-0.1-py3-none-any.whl (3.9 kB)\nCollecting pyyaml>=5.1\n  Downloading PyYAML-6.0-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (661 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 661.8/661.8 kB 171.7 MB/s eta 0:00:00\nCollecting importlib-metadata>=4.3\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting click>=7.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 91.6 MB/s eta 0:00:00\nCollecting watchdog>=2.0\n  Downloading watchdog-2.2.0-py3-none-manylinux2014_x86_64.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 247.0 MB/s eta 0:00:00\nCollecting markdown<3.4,>=3.2.1\n  Downloading Markdown-3.3.7-py3-none-any.whl (97 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 97.8/97.8 kB 198.2 MB/s eta 0:00:00\nCollecting python-dateutil>=2.8.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 271.0 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nInstalling collected packages: zipp, watchdog, six, pyyaml, packaging, mergedeep, MarkupSafe, click, pyyaml-env-tag, python-dateutil, jinja2, importlib-metadata, markdown, ghp-import, mkdocs\nSuccessfully installed MarkupSafe-2.1.1 click-8.1.3 ghp-import-2.1.0 importlib-metadata-5.2.0 jinja2-3.1.2 markdown-3.3.7 mergedeep-1.3.4 mkdocs-1.4.2 packaging-22.0 python-dateutil-2.8.2 pyyaml-6.0 pyyaml-env-tag-0.1 six-1.16.0 watchdog-2.2.0 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting mkdocs-material==8.5.6\n  Downloading mkdocs_material-8.5.6-py3-none-any.whl (7.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.5/7.5 MB 111.8 MB/s eta 0:00:00\nCollecting mkdocs-markdownextradata-plugin==0.2.5\n  Downloading mkdocs-markdownextradata-plugin-0.2.5.tar.gz (7.1 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pymdown-extensions>=9.4\n  Downloading pymdown_extensions-9.9-py3-none-any.whl (219 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 219.5/219.5 kB 285.5 MB/s eta 0:00:00\nCollecting pygments>=2.12\n  Downloading Pygments-2.13.0-py3-none-any.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 140.7 MB/s eta 0:00:00\nRequirement already satisfied: markdown>=3.2 in /usr/local/lib/python3.9/site-packages (from mkdocs-material==8.5.6->-r requirements.txt (line 1)) (3.3.7)\nRequirement already satisfied: mkdocs>=1.4.0 in /usr/local/lib/python3.9/site-packages (from mkdocs-material==8.5.6->-r requirements.txt (line 1)) (1.4.2)\nCollecting mkdocs-material-extensions>=1.0.3\n  Downloading mkdocs_material_extensions-1.1.1-py3-none-any.whl (7.9 kB)\nCollecting requests>=2.26\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 82.0 MB/s eta 0:00:00\nRequirement already satisfied: jinja2>=3.0.2 in /usr/local/lib/python3.9/site-packages (from mkdocs-material==8.5.6->-r requirements.txt (line 1)) (3.1.2)\nRequirement already satisfied: pyyaml in /usr/local/lib/python3.9/site-packages (from mkdocs-markdownextradata-plugin==0.2.5->-r requirements.txt (line 2)) (6.0)\nRequirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.9/site-packages (from jinja2>=3.0.2->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.1.1)\nRequirement already satisfied: importlib-metadata>=4.4 in /usr/local/lib/python3.9/site-packages (from markdown>=3.2->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (5.2.0)\nRequirement already satisfied: click>=7.0 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (8.1.3)\nRequirement already satisfied: pyyaml-env-tag>=0.1 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (0.1)\nRequirement already satisfied: packaging>=20.5 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (22.0)\nRequirement already satisfied: mergedeep>=1.3.4 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (1.3.4)\nRequirement already satisfied: ghp-import>=1.0 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.1.0)\nRequirement already satisfied: watchdog>=2.0 in /usr/local/lib/python3.9/site-packages (from mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.2.0)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 305.0 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 243.9 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 100.7 MB/s eta 0:00:00\nRequirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.9/site-packages (from ghp-import>=1.0->mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (2.8.2)\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.9/site-packages (from importlib-metadata>=4.4->markdown>=3.2->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (3.11.0)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.9/site-packages (from python-dateutil>=2.8.1->ghp-import>=1.0->mkdocs>=1.4.0->mkdocs-material==8.5.6->-r requirements.txt (line 1)) (1.16.0)\nBuilding wheels for collected packages: mkdocs-markdownextradata-plugin\n  Building wheel for mkdocs-markdownextradata-plugin (setup.py): started\n  Building wheel for mkdocs-markdownextradata-plugin (setup.py): finished with status 'done'\n  Created wheel for mkdocs-markdownextradata-plugin: filename=mkdocs_markdownextradata_plugin-0.2.5-py3-none-any.whl size=6687 sha256=01b6a83acb67545d5d14327b54ab1c2fc37bf2c10d1c54d2fcaa85ffb4613636\n  Stored in directory: /tmp/pip-ephem-wheel-cache-5may6vax/wheels/18/ab/f9/96de3d4672d311b9779844a409f6cca91458b7e6f41c5c0a63\nSuccessfully built mkdocs-markdownextradata-plugin\nInstalling collected packages: urllib3, pygments, mkdocs-material-extensions, idna, charset-normalizer, certifi, requests, pymdown-extensions, mkdocs-material, mkdocs-markdownextradata-plugin\n\u001b[91m  WARNING: The script pygmentize is installed in '/root/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script normalizer is installed in '/root/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0mSuccessfully installed certifi-2022.12.7 charset-normalizer-2.1.1 idna-3.4 mkdocs-markdownextradata-plugin-0.2.5 mkdocs-material-8.5.6 mkdocs-material-extensions-1.1.1 pygments-2.13.0 pymdown-extensions-9.9 requests-2.28.1 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container ca340a9aca7b\n ---> dc7110c693ad\nStep 10/18 : RUN apt update &&     apt install -y --no-install-recommends libcairo2-dev libfreetype6-dev libffi-dev libjpeg-dev libpng-dev libz-dev && \tpip install --no-cache-dir pillow cairosvg\n ---> Running in c227e86d939a\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6996 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n1 package can be upgraded. Run 'apt list --upgradable' to see it.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nlibcairo2-dev is already the newest version (1.16.0-5).\nlibcairo2-dev set to manually installed.\nlibfreetype6-dev is already the newest version (2.10.4+dfsg-1+deb11u1).\nlibfreetype6-dev set to manually installed.\nlibffi-dev is already the newest version (3.3-6).\nlibjpeg-dev is already the newest version (1:2.0.6-4).\nlibpng-dev is already the newest version (1.6.37-3).\nzlib1g-dev is already the newest version (1:1.2.11.dfsg-2+deb11u2).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nCollecting pillow\n  Downloading Pillow-9.3.0-cp39-cp39-manylinux_2_28_x86_64.whl (3.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.3/3.3 MB 110.6 MB/s eta 0:00:00\nCollecting cairosvg\n  Downloading CairoSVG-2.5.2-py3-none-any.whl (45 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 45.8/45.8 kB 168.9 MB/s eta 0:00:00\nCollecting cssselect2\n  Downloading cssselect2-0.7.0-py3-none-any.whl (15 kB)\nCollecting defusedxml\n  Downloading defusedxml-0.7.1-py2.py3-none-any.whl (25 kB)\nCollecting cairocffi\n  Downloading cairocffi-1.4.0.tar.gz (69 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 69.9/69.9 kB 258.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting tinycss2\n  Downloading tinycss2-1.2.1-py3-none-any.whl (21 kB)\nCollecting cffi>=1.1.0\n  Downloading cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 441.2/441.2 kB 220.5 MB/s eta 0:00:00\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 214.3 MB/s eta 0:00:00\nBuilding wheels for collected packages: cairocffi\n  Building wheel for cairocffi (setup.py): started\n  Building wheel for cairocffi (setup.py): finished with status 'done'\n  Created wheel for cairocffi: filename=cairocffi-1.4.0-py3-none-any.whl size=88775 sha256=8c21bf6dc37c0afaeef3eac95fe70ffb384c7724291c3cb33ab55091cd12546a\n  Stored in directory: /tmp/pip-ephem-wheel-cache-edjzq5qq/wheels/ce/9a/f7/eadfb62d73c23578785264fb95aeb19899aa19f273dd456695\nSuccessfully built cairocffi\nInstalling collected packages: webencodings, tinycss2, pycparser, pillow, defusedxml, cssselect2, cffi, cairocffi, cairosvg\nSuccessfully installed cairocffi-1.4.0 cairosvg-2.5.2 cffi-1.15.1 cssselect2-0.7.0 defusedxml-0.7.1 pillow-9.3.0 pycparser-2.21 tinycss2-1.2.1 webencodings-0.5.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container c227e86d939a\n ---> 73adff2cc4a6\nStep 11/18 : ENV DCRDOCS_CARDS true\n ---> Running in 1d1cdec8b41b\nRemoving intermediate container 1d1cdec8b41b\n ---> ceeeba2e9c85\nStep 12/18 : RUN ./bin/build_docs.sh\n ---> Running in cd4c8ab12e6c\n\n=========================================\n  Building dcrdocs into directory site/  \n=========================================\n\n\u001b[91mINFO     -  Cleaning site directory\nINFO     -  Building documentation to directory: /root/site\n\u001b[0m\u001b[91mINFO     -  Documentation built in 59.99 seconds\n\u001b[0m\n===================\n  Build complete\n===================\n\nRemoving intermediate container cd4c8ab12e6c\n ---> 903057170e9c\nStep 13/18 : FROM nginx:1.20\n ---> 0584b370e957\nStep 14/18 : LABEL description=\"dcrdocs serve\"\n ---> Running in 73f0a61068e8\nRemoving intermediate container 73f0a61068e8\n ---> 6f4b086d0736\nStep 15/18 : LABEL version=\"1.0\"\n ---> Running in 3d0e729f313c\nRemoving intermediate container 3d0e729f313c\n ---> 5e639a2d4839\nStep 16/18 : LABEL maintainer \"jholdstock@decred.org\"\n ---> Running in cf35371b1672\nRemoving intermediate container cf35371b1672\n ---> 02dd335f64d4\nStep 17/18 : COPY conf/nginx.conf /etc/nginx/conf.d/default.conf\n ---> fdf612be0a4e\nStep 18/18 : COPY --from=0 ./root/site/ /usr/share/nginx/html\n ---> 3df148a88395\nSuccessfully built 3df148a88395\nSuccessfully tagged dcrdocs:latest\n","stderr":"","imageSize":169460938},"endTime":1672169659769}