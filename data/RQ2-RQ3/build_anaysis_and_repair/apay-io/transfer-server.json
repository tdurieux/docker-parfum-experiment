{"repository":"https://github.com/apay-io/transfer-server","dockerfilePath":"Dockerfile","startTime":1672639735534,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/apay-io/transfer-server'...\n","error":null,"commit":"7c7f1aaa8ab0c300e9e539d11c420b27e2076f35"},"originalBuild":{"startTimestamp":1672639736533,"endTimestamp":1672639833105,"error":null,"stdout":"Sending build context to Docker daemon  1.317MB\r\r\nStep 1/16 : FROM node:16.1-alpine As development\n16.1-alpine: Pulling from library/node\n540db60ca938: Pulling fs layer\n2b54d6979bcc: Pulling fs layer\n72b89a422da5: Pulling fs layer\n2aa15c209059: Pulling fs layer\n2aa15c209059: Waiting\n540db60ca938: Verifying Checksum\n540db60ca938: Download complete\n2aa15c209059: Download complete\n72b89a422da5: Download complete\n2b54d6979bcc: Verifying Checksum\n2b54d6979bcc: Download complete\n540db60ca938: Pull complete\n2b54d6979bcc: Pull complete\n72b89a422da5: Pull complete\n2aa15c209059: Pull complete\nDigest: sha256:8704247878fe10eddfcb5c26540112b15e50d21ce8e5c7a7f6caf5cf857de219\nStatus: Downloaded newer image for node:16.1-alpine\n ---> 50389f7769d0\nStep 2/16 : WORKDIR /usr/src/app\n ---> Running in f5fcc72403d1\nRemoving intermediate container f5fcc72403d1\n ---> c6c9f7687835\nStep 3/16 : COPY package*.json ./\n ---> df7258b82140\nStep 4/16 : RUN npm install\n ---> Running in b9e5a2b51699\n\nadded 1369 packages, and audited 1370 packages in 32s\n\n40 vulnerabilities (2 low, 9 moderate, 21 high, 8 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.11.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container b9e5a2b51699\n ---> 6d1852926542\nStep 5/16 : COPY . .\n ---> 8571d63fb792\nStep 6/16 : RUN npm run build\n ---> Running in 4ded966e4432\n\n> transfer-server@0.0.1 prebuild\n> rimraf dist\n\n\n> transfer-server@0.0.1 build\n> nest build\n\n\u001b[91mnpm \u001b[0m\u001b[91mnotice \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 7.11.2 -> 9.2.0\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 4ded966e4432\n ---> ac4f9977f71d\nStep 7/16 : CMD [\"node\", \"dist/main\"]\n ---> Running in c443f5bb853e\nRemoving intermediate container c443f5bb853e\n ---> afc8fef3c356\nStep 8/16 : FROM node:16.1-alpine as production\n ---> 50389f7769d0\nStep 9/16 : WORKDIR /usr/src/app\n ---> Running in 20d0f0038e5f\nRemoving intermediate container 20d0f0038e5f\n ---> 79b0f62397d6\nStep 10/16 : COPY package*.json ./\n ---> 7ba676a48ecf\nStep 11/16 : ARG NODE_ENV=production\n ---> Running in 4f7e9da8af19\nRemoving intermediate container 4f7e9da8af19\n ---> 96dcc1fbda27\nStep 12/16 : ENV NODE_ENV=${NODE_ENV}\n ---> Running in 46b7121f2ac5\nRemoving intermediate container 46b7121f2ac5\n ---> 4c289e3dea08\nStep 13/16 : RUN npm ci --only=production\n ---> Running in 1a3524cb096e\n\nadded 342 packages, and audited 343 packages in 10s\n\n28 vulnerabilities (1 low, 7 moderate, 16 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.11.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container 1a3524cb096e\n ---> e2046eeda4f8\nStep 14/16 : COPY --from=development /usr/src/app/dist ./dist\n ---> 6c41cf98d8dd\nStep 15/16 : COPY --from=development /usr/src/app/views ./views\n ---> 83b25fedcb1e\nStep 16/16 : CMD [\"node\", \"dist/main\"]\n ---> Running in 600f95d6c7c9\nRemoving intermediate container 600f95d6c7c9\n ---> 862d037662b9\nSuccessfully built 862d037662b9\nSuccessfully tagged transfer-server:latest\n","stderr":"","imageSize":235284763},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:16.1-alpine As development\n\nWORKDIR /usr/src/app\n\nCOPY package*.json ./\n\nRUN npm install\n\nCOPY . .\n\nRUN npm run build\n\nCMD [\"node\", \"dist/main\"]\n\n\nFROM node:16.1-alpine as production\n\nWORKDIR /usr/src/app\n\nCOPY package*.json ./\n\nARG NODE_ENV=production\nENV NODE_ENV=${NODE_ENV}\n\nRUN npm ci --only=production\n\nCOPY --from=development /usr/src/app/dist ./dist\nCOPY --from=development /usr/src/app/views ./views\n\nCMD [\"node\", \"dist/main\"]\n"},"repairedBuild":{"startTimestamp":1672639835567,"endTimestamp":1672639923459,"error":null,"stdout":"Sending build context to Docker daemon  1.317MB\r\r\nStep 1/16 : FROM node:16.1-alpine As development\n ---> 50389f7769d0\nStep 2/16 : WORKDIR /usr/src/app\n ---> Running in 4be0b50ad6be\nRemoving intermediate container 4be0b50ad6be\n ---> 28b1686ee56d\nStep 3/16 : COPY package*.json ./\n ---> f5f0ec116c6f\nStep 4/16 : RUN npm install\n ---> Running in 6f8bf7d883c1\n\nadded 1369 packages, and audited 1370 packages in 24s\n\n40 vulnerabilities (2 low, 9 moderate, 21 high, 8 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \n\u001b[0m\u001b[91mnpm notice New major version of npm available! 7.11.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 6f8bf7d883c1\n ---> 3a86e3a1a7ef\nStep 5/16 : COPY . .\n ---> c4c88e1b2b5c\nStep 6/16 : RUN npm run build\n ---> Running in a6c6fd38ddbd\n\n> transfer-server@0.0.1 prebuild\n> rimraf dist\n\n\n> transfer-server@0.0.1 build\n> nest build\n\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 7.11.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container a6c6fd38ddbd\n ---> 50d6b519b42b\nStep 7/16 : CMD [\"node\", \"dist/main\"]\n ---> Running in 1c812bc465ac\nRemoving intermediate container 1c812bc465ac\n ---> 5fccd7492379\nStep 8/16 : FROM node:16.1-alpine as production\n ---> 50389f7769d0\nStep 9/16 : WORKDIR /usr/src/app\n ---> Running in 72095b0b497d\nRemoving intermediate container 72095b0b497d\n ---> 548234a714b4\nStep 10/16 : COPY package*.json ./\n ---> a5d5415a5974\nStep 11/16 : ARG NODE_ENV=production\n ---> Running in 19dd14f00e04\nRemoving intermediate container 19dd14f00e04\n ---> 7378787a0667\nStep 12/16 : ENV NODE_ENV=${NODE_ENV}\n ---> Running in 8682fae4678c\nRemoving intermediate container 8682fae4678c\n ---> d690dfc7e81f\nStep 13/16 : RUN npm ci --only=production\n ---> Running in 632ef729d8d8\n\nadded 342 packages, and audited 343 packages in 9s\n\n28 vulnerabilities (1 low, 7 moderate, 16 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm \u001b[0m\u001b[91mnotice \nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 7.11.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 632ef729d8d8\n ---> 1aa0a08afbf3\nStep 14/16 : COPY --from=development /usr/src/app/dist ./dist\n ---> 7825998b76e1\nStep 15/16 : COPY --from=development /usr/src/app/views ./views\n ---> 6ecc3feb6f96\nStep 16/16 : CMD [\"node\", \"dist/main\"]\n ---> Running in 080b1fc8d92a\nRemoving intermediate container 080b1fc8d92a\n ---> bfcf0c9bfaec\nSuccessfully built bfcf0c9bfaec\nSuccessfully tagged transfer-server:latest\n","stderr":"","imageSize":235284797},"endTime":1672639923971}