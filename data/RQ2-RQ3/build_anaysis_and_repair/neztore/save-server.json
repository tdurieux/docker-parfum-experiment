{"repository":"https://github.com/neztore/save-server","dockerfilePath":"Dockerfile","startTime":1672480908625,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/neztore/save-server'...\n","error":null,"commit":"3d0958b492d760647717fdf399229b0abf672dca"},"originalBuild":{"startTimestamp":1672480909498,"endTimestamp":1672480937331,"error":null,"stdout":"Sending build context to Docker daemon  442.9kB\r\r\nStep 1/15 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/15 : ARG port\n ---> Running in bb0809af900b\nRemoving intermediate container bb0809af900b\n ---> 887692a44335\nStep 3/15 : ARG nameLength\n ---> Running in 586ca599e32f\nRemoving intermediate container 586ca599e32f\n ---> 1dcce2480e50\nStep 4/15 : ENV NODE_ENV=production port=${port:-80} nameLength=$nameLength\n ---> Running in e5b37585eb24\nRemoving intermediate container e5b37585eb24\n ---> 05309e7b0a04\nStep 5/15 : RUN apk add --no-cache python3 make g++\n ---> Running in 84c17fed83a8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.1-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container 84c17fed83a8\n ---> e320982ea96b\nStep 6/15 : RUN npm config set python python3\n ---> Running in 9891d88063c1\nRemoving intermediate container 9891d88063c1\n ---> c34123450ff2\nStep 7/15 : WORKDIR /usr/src/app\n ---> Running in 3dd11fbae669\nRemoving intermediate container 3dd11fbae669\n ---> ddb7cbd74a61\nStep 8/15 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> db5dc94fd3a7\nStep 9/15 : RUN npm install --production --silent && mv node_modules ../\n ---> Running in 512a8245989f\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 512a8245989f\n ---> 2c6b24a4c582\nStep 10/15 : COPY . .\n ---> 9d2f164f2b14\nStep 11/15 : RUN mkdir -p uploads\n ---> Running in cae789316c37\nRemoving intermediate container cae789316c37\n ---> 93e2ea7ea8f7\nStep 12/15 : EXPOSE $port\n ---> Running in d857624cf01f\nRemoving intermediate container d857624cf01f\n ---> a64bae65d3ff\nStep 13/15 : RUN chown -R node /usr/src/app\n ---> Running in cf44d6a2294f\nRemoving intermediate container cf44d6a2294f\n ---> bbaaefd7b7f3\nStep 14/15 : USER node\n ---> Running in c59e5a838303\nRemoving intermediate container c59e5a838303\n ---> 6818b49f419a\nStep 15/15 : CMD [\"npm\", \"start\"]\n ---> Running in e461e7e328d2\nRemoving intermediate container e461e7e328d2\n ---> 275617bb80ad\nSuccessfully built 275617bb80ad\nSuccessfully tagged save-server:latest\n","stderr":"","imageSize":478821995},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":37}}],"repairedDockerfile":"FROM node:lts-alpine\r\nARG port\r\nARG nameLength\r\nENV NODE_ENV=production port=${port:-80} nameLength=$nameLength\r\nRUN apk add --no-cache python3 make g++\r\nRUN npm config set python python3\r\nWORKDIR /usr/src/app\r\nCOPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\r\nRUN npm install --production --silent && mv node_modules ../\r\nCOPY . .\r\nRUN mkdir -p uploads\r\nEXPOSE $port\r\nRUN chown -R node /usr/src/app\r\nUSER node\r\nCMD [\"npm\", \"start\"]\r\n"},"repairedBuild":{"startTimestamp":1672480937845,"endTimestamp":1672480963069,"error":null,"stdout":"Sending build context to Docker daemon  442.9kB\r\r\nStep 1/15 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/15 : ARG port\n ---> Running in d0dfce390d33\nRemoving intermediate container d0dfce390d33\n ---> 7e4cd5b7fdd5\nStep 3/15 : ARG nameLength\n ---> Running in 69bed6f2b95a\nRemoving intermediate container 69bed6f2b95a\n ---> b1bdf27837e2\nStep 4/15 : ENV NODE_ENV=production port=${port:-80} nameLength=$nameLength\n ---> Running in 3435883301df\nRemoving intermediate container 3435883301df\n ---> 966c98d8edaa\nStep 5/15 : RUN apk add --no-cache python3 make g++\n ---> Running in d73fde65d0fb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.1-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container d73fde65d0fb\n ---> 7740b6f88f15\nStep 6/15 : RUN npm config set python python3\n ---> Running in be024cb20618\nRemoving intermediate container be024cb20618\n ---> 46b77004c0ad\nStep 7/15 : WORKDIR /usr/src/app\n ---> Running in 3640d826544a\nRemoving intermediate container 3640d826544a\n ---> fd7e6fdff83d\nStep 8/15 : COPY [\"package.json\", \"package-lock.json*\", \"npm-shrinkwrap.json*\", \"./\"]\n ---> 9a5b10b2e816\nStep 9/15 : RUN npm install --production --silent && mv node_modules ../\n ---> Running in d39cdee398a7\n\u001b[91mnpm\u001b[0m\u001b[91m notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container d39cdee398a7\n ---> 0dd46336e0ce\nStep 10/15 : COPY . .\n ---> 27566af9cc18\nStep 11/15 : RUN mkdir -p uploads\n ---> Running in 13e45af2ba28\nRemoving intermediate container 13e45af2ba28\n ---> 637ee459aced\nStep 12/15 : EXPOSE $port\n ---> Running in b7bddb8cf0d1\nRemoving intermediate container b7bddb8cf0d1\n ---> 1e30f949ee7e\nStep 13/15 : RUN chown -R node /usr/src/app\n ---> Running in e803eaf70c78\nRemoving intermediate container e803eaf70c78\n ---> 59db60ee07e5\nStep 14/15 : USER node\n ---> Running in abe1cebd1e5e\nRemoving intermediate container abe1cebd1e5e\n ---> 72d58164572e\nStep 15/15 : CMD [\"npm\", \"start\"]\n ---> Running in d2783caf4438\nRemoving intermediate container d2783caf4438\n ---> dc5edf51f1cc\nSuccessfully built dc5edf51f1cc\nSuccessfully tagged save-server:latest\n","stderr":"","imageSize":479682979},"endTime":1672480963493}