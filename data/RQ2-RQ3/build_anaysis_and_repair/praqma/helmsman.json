{"repository":"https://github.com/praqma/helmsman","dockerfilePath":"Dockerfile","startTime":1672997017214,"endTime":1672997533582,"clone":{"startTime":1672997017214,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/praqma/helmsman'...\n","error":null,"endTime":1672997018090,"commit":"5c60d510269de821a2644d2095565c58f3c0facd"},"originalBuild":{"startTime":1672997018181,"endTime":1672997533511,"error":{"code":128,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t helmsman:latest -f /tmp/dinghy-analysis/praqma/helmsman/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.293MB\r\r\nStep 1/58 : ARG GO_VERSION=\"1.18.5\"\nStep 2/58 : ARG ALPINE_VERSION=\"3.15\"\nStep 3/58 : ARG GLOBAL_KUBE_VERSION=\"v1.23.6\"\nStep 4/58 : ARG GLOBAL_HELM_VERSION=\"v3.10.2\"\nStep 5/58 : ARG GLOBAL_HELM_DIFF_VERSION=\"v3.6.0\"\nStep 6/58 : ARG GLOBAL_HELM_GCS_VERSION=\"0.3.21\"\nStep 7/58 : ARG GLOBAL_HELM_S3_VERSION=\"v0.10.0\"\nStep 8/58 : ARG GLOBAL_HELM_SECRETS_VERSION=\"v3.13.0\"\nStep 9/58 : ARG GLOBAL_SOPS_VERSION=\"v3.7.3\"\nStep 10/58 : FROM alpine:${ALPINE_VERSION} as helm-installer\n3.15: Pulling from library/alpine\n9621f1afde84: Already exists\nDigest: sha256:cf34c62ee8eb3fe8aa24c1fab45d7e9d12768d945c3f5a6fd6a63d901e898479\nStatus: Downloaded newer image for alpine:3.15\n ---> c4fc93816858\nStep 11/58 : ARG GLOBAL_KUBE_VERSION\n ---> Running in 2c6c1e3c8d8b\nRemoving intermediate container 2c6c1e3c8d8b\n ---> add844fdba05\nStep 12/58 : ARG GLOBAL_HELM_VERSION\n ---> Running in cef3cbcbcd7e\nRemoving intermediate container cef3cbcbcd7e\n ---> 4f3cec23784e\nStep 13/58 : ARG GLOBAL_HELM_DIFF_VERSION\n ---> Running in 7d24df258332\nRemoving intermediate container 7d24df258332\n ---> 54d3a33f5246\nStep 14/58 : ARG GLOBAL_HELM_GCS_VERSION\n ---> Running in 566a10e96dde\nRemoving intermediate container 566a10e96dde\n ---> 71994d568a13\nStep 15/58 : ARG GLOBAL_HELM_S3_VERSION\n ---> Running in 3f95ca038a08\nRemoving intermediate container 3f95ca038a08\n ---> 1c1c662178c3\nStep 16/58 : ARG GLOBAL_HELM_SECRETS_VERSION\n ---> Running in a33636eaa025\nRemoving intermediate container a33636eaa025\n ---> 0f157e2848e2\nStep 17/58 : ARG GLOBAL_SOPS_VERSION\n ---> Running in b3df59f90db9\nRemoving intermediate container b3df59f90db9\n ---> c25d2b3d4494\nStep 18/58 : ENV KUBE_VERSION=$GLOBAL_KUBE_VERSION\n ---> Running in 5895d0ea2464\nRemoving intermediate container 5895d0ea2464\n ---> 2cb1d6291002\nStep 19/58 : ENV HELM_VERSION=$GLOBAL_HELM_VERSION\n ---> Running in 8cd6e9dc4d84\nRemoving intermediate container 8cd6e9dc4d84\n ---> 2c0903fc2fa8\nStep 20/58 : ENV HELM_DIFF_VERSION=$GLOBAL_HELM_DIFF_VERSION\n ---> Running in 3ee2d291b009\nRemoving intermediate container 3ee2d291b009\n ---> 082ce3ed73ed\nStep 21/58 : ENV HELM_GCS_VERSION=$GLOBAL_HELM_GCS_VERSION\n ---> Running in b0d0c38a70dd\nRemoving intermediate container b0d0c38a70dd\n ---> 660b35d02edb\nStep 22/58 : ENV HELM_S3_VERSION=$GLOBAL_HELM_S3_VERSION\n ---> Running in f80246d00f38\nRemoving intermediate container f80246d00f38\n ---> a9320625a8b9\nStep 23/58 : ENV HELM_SECRETS_VERSION=$GLOBAL_HELM_SECRETS_VERSION\n ---> Running in 5480e12b849d\nRemoving intermediate container 5480e12b849d\n ---> b8e1e40c5903\nStep 24/58 : ENV SOPS_VERSION=$GLOBAL_SOPS_VERSION\n ---> Running in 35f79367bbd8\nRemoving intermediate container 35f79367bbd8\n ---> 1d1bd4f50e47\nStep 25/58 : ENV HELM_DIFF_THREE_WAY_MERGE=true\n ---> Running in 0af717101175\nRemoving intermediate container 0af717101175\n ---> 14b0fe22d771\nStep 26/58 : RUN apk add --update --no-cache ca-certificates git openssh openssl ruby curl wget tar gzip make bash\n ---> Running in da7e40bf111b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/36) Installing ncurses-libs (6.3_p20211120-r1)\n(3/36) Installing readline (8.1.1-r0)\n(4/36) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/36) Installing ca-certificates (20220614-r0)\n(6/36) Installing brotli-libs (1.0.9-r5)\n(7/36) Installing nghttp2-libs (1.46.0-r0)\n(8/36) Installing libcurl (7.80.0-r5)\n(9/36) Installing curl (7.80.0-r5)\n(10/36) Installing expat (2.5.0-r0)\n(11/36) Installing pcre2 (10.40-r0)\n(12/36) Installing git (2.34.5-r0)\n(13/36) Installing less (590-r0)\n(14/36) Installing gzip (1.12-r0)\n(15/36) Installing make (4.3-r0)\n(16/36) Installing openssh-keygen (8.8_p1-r1)\n(17/36) Installing libedit (20210910.3.1-r0)\n(18/36) Installing openssh-client-common (8.8_p1-r1)\n(19/36) Installing openssh-client-default (8.8_p1-r1)\n(20/36) Installing openssh-sftp-server (8.8_p1-r1)\n(21/36) Installing openssh-server-common (8.8_p1-r1)\n(22/36) Installing openssh-server (8.8_p1-r1)\n(23/36) Installing openssh (8.8_p1-r1)\n(24/36) Installing openssl (1.1.1s-r1)\n(25/36) Installing gmp (6.2.1-r1)\n(26/36) Installing libffi (3.4.2-r1)\n(27/36) Installing gdbm (1.22-r0)\n(28/36) Installing libucontext (1.1-r0)\n(29/36) Installing yaml (0.2.5-r0)\n(30/36) Installing ruby-libs (3.0.4-r0)\n(31/36) Installing ruby (3.0.4-r0)\n(32/36) Installing libacl (2.2.53-r0)\n(33/36) Installing tar (1.34-r0)\n(34/36) Installing libunistring (0.9.10-r1)\n(35/36) Installing libidn2 (2.3.2-r0)\n(36/36) Installing wget (1.21.2-r2)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 46 MiB in 50 packages\nRemoving intermediate container da7e40bf111b\n ---> fb550a673487\nStep 27/58 : ADD https://github.com/mozilla/sops/releases/download/${SOPS_VERSION}/sops-${SOPS_VERSION}.linux /usr/local/bin/sops\n\n\n ---> e77bf9649f7d\nStep 28/58 : RUN chmod +x /usr/local/bin/sops\n ---> Running in 1aed76c1010b\nRemoving intermediate container 1aed76c1010b\n ---> 36845c1ea0eb\nStep 29/58 : RUN curl --retry 5 -L https://storage.googleapis.com/kubernetes-release/release/${KUBE_VERSION}/bin/linux/amd64/kubectl -o /usr/local/bin/kubectl\n ---> Running in 520daf217c17\n\u001b[91m  % Total    % Received % Xferd  Average Speed \u001b[0m\u001b[91m  Time    Time     Time  Current\n             \u001b[0m\u001b[91m                \u001b[0m\u001b[91m    Dl\u001b[0m\u001b[91moad  Up\u001b[0m\u001b[91mload   Total   Spent    Le\u001b[0m\u001b[91mft  Speed\n\u001b[0m\u001b[91m\r  0     0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:-- -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --:--:--  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r  0 44.4M    0  200k    0    \u001b[0m\u001b[91m 0   605k      0  0:0\u001b[0m\u001b[91m1:1\u001b[0m\u001b[91m5 --:--:--  0:01:15  604k\u001b[0m\u001b[91m\r100 44.4M  100 44.4M    0     0  34.3M      0  0:00:01  0:00:01 --:--:-- 34.3M\n\u001b[0mRemoving intermediate container 520daf217c17\n ---> e6a8a3112051\nStep 30/58 : RUN chmod +x /usr/local/bin/kubectl\n ---> Running in 39ade6500223\nRemoving intermediate container 39ade6500223\n ---> 6d65b6c86c86\nStep 31/58 : RUN curl --retry 5 -Lk https://get.helm.sh/helm-${HELM_VERSION}-linux-amd64.tar.gz | tar zxv -C /tmp\n ---> Running in 846ca5f77fd3\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n     \u001b[0m\u001b[91m                            Dload  Upload   Total   S\u001b[0m\u001b[91mpent    Left  Speed\n\r  0  \u001b[0m\u001b[91m   0    0     0    0   \u001b[0m\u001b[91m  0    \u001b[0m\u001b[91m  0    \u001b[0m\u001b[91m  0 --:-\u001b[0m\u001b[91m-:-- --:--:-- --:--:--   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r  0 13.8M    0     0    0     0\u001b[0m\u001b[91m      0   \u001b[0m\u001b[91m   0 --:--:\u001b[0m\u001b[91m--  0:0\u001b[0m\u001b[91m0:0\u001b[0m\u001b[91m1 --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0\u001b[0mlinux-amd64/\nlinux-amd64/helm\n\u001b[91m\r 56 13.8M   56 7968k    0     0  4496k      \u001b[0m\u001b[91m0  0:00:03  0:00:\u001b[0m\u001b[91m01  \u001b[0m\u001b[91m0:0\u001b[0m\u001b[91m0:02 \u001b[0m\u001b[91m4496k\u001b[0m\u001b[91m\r100 13.8M  100 13.8M    0     0  \u001b[0m\u001b[91m6806k      0\u001b[0m\u001b[91m  \u001b[0m\u001b[91m0:00\u001b[0m\u001b[91m:02 \u001b[0m\u001b[91m 0:0\u001b[0m\u001b[91m0:02 --:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m6808k\u001b[0m\u001b[91m\n\u001b[0mlinux-amd64/LICENSE\nlinux-amd64/README.md\nRemoving intermediate container 846ca5f77fd3\n ---> 5e51bd03bd3c\nStep 32/58 : RUN mv /tmp/linux-amd64/helm /usr/local/bin/helm && rm -rf /tmp/linux-amd64\n ---> Running in cb95984ea7ac\nRemoving intermediate container cb95984ea7ac\n ---> 0dd897c87901\nStep 33/58 : RUN chmod +x /usr/local/bin/helm\n ---> Running in bdb393a610d5\nRemoving intermediate container bdb393a610d5\n ---> c619759c65d2\nStep 34/58 : RUN helm plugin install https://github.com/hypnoglow/helm-s3.git --version ${HELM_S3_VERSION}\n ---> Running in 93e23fbc22c0\nDownloading and installing helm-s3 v0.10.0 ...\nChecksum is valid.\nInstalled plugin: s3\nRemoving intermediate container 93e23fbc22c0\n ---> eeee57bb1da4\nStep 35/58 : RUN helm plugin install https://github.com/nouney/helm-gcs --version ${HELM_GCS_VERSION}\n ---> Running in b75309168c36\nInstalling helm-gcs 0.3.21 ...\nhelm-gcs 0.3.21 is correctly installed.\n\nInit a new repository:\n  helm gcs init gs://bucket/path\n\nAdd your repository to Helm:\n  helm repo add repo-name gs://bucket/path\n\nPush a chart to your repository:\n  helm gcs push chart.tar.gz repo-name\n\nUpdate Helm cache:\n  helm repo update\n\nGet your chart:\n  helm fetch repo-name/chart\n\nInstalled plugin: gcs\nRemoving intermediate container b75309168c36\n ---> 5e928f35f1f4\nStep 36/58 : RUN helm plugin install https://github.com/databus23/helm-diff --version ${HELM_DIFF_VERSION}\n ---> Running in eb861433e7a6\nDownloading https://github.com/databus23/helm-diff/releases/download/v3.6.0/helm-diff-linux-amd64.tgz\nPreparing to install into /root/.local/share/helm/plugins/helm-diff\nhelm-diff installed into /root/.local/share/helm/plugins/helm-diff/helm-diff\n\nThe Helm Diff Plugin\n\n* Shows a diff explaining what a helm upgrade would change:\n    This fetches the currently deployed version of a release\n  and compares it to a local chart plus values. This can be \n  used visualize what changes a helm upgrade will perform.\n\n* Shows a diff explaining what had changed between two revisions:\n    This fetches previously deployed versions of a release\n  and compares them. This can be used visualize what changes \n  were made during revision change.\n\n* Shows a diff explaining what a helm rollback would change:\n    This fetches the currently deployed version of a release\n  and compares it to the previously deployed version of the release, that you \n  want to rollback. This can be used visualize what changes a \n  helm rollback will perform.\n\nUsage:\n  diff [flags]\n  diff [command]\n\nAvailable Commands:\n  completion  Generate the autocompletion script for the specified shell\n  release     Shows diff between release's manifests\n  revision    Shows diff between revision's manifests\n  rollback    Show a diff explaining what a helm rollback could perform\n  upgrade     Show a diff explaining what a helm upgrade would change.\n  version     Show version of the helm diff plugin\n\nFlags:\n      --allow-unreleased             enables diffing of releases that are not yet deployed via Helm\n  -a, --api-versions stringArray     Kubernetes api versions used for Capabilities.APIVersions\n      --color                        color output. You can control the value for this flag via HELM_DIFF_COLOR=[true|false]. If both --no-color and --color are unspecified, coloring enabled only when the stdout is a term and TERM is not \"dumb\"\n  -C, --context int                  output NUM lines of context around changes (default -1)\n      --detailed-exitcode            return a non-zero exit code when there are changes\n      --devel                        use development versions, too. Equivalent to version '>0.0.0-0'. If --version is set, this is ignored.\n      --disable-openapi-validation   disables rendered templates validation against the Kubernetes OpenAPI Schema\n      --disable-validation           disables rendered templates validation against the Kubernetes cluster you are currently pointing to. This is the same validation performed on an install\n      --dry-run                      disables cluster access and show diff as if it was install. Implies --install, --reset-values, and --disable-validation\n  -D, --find-renames float32         Enable rename detection if set to any value greater than 0. If specified, the value denotes the maximum fraction of changed content as lines added + removed compared to total lines in a diff for considering it a rename. Only objects of the same Kind are attempted to be matched\n  -h, --help                         help for diff\n      --include-tests                enable the diffing of the helm test hooks\n      --install                      enables diffing of releases that are not yet deployed via Helm (equivalent to --allow-unreleased, added to match \"helm upgrade --install\" command\n      --kube-version string          Kubernetes version used for Capabilities.KubeVersion\n      --kubeconfig string            This flag is ignored, to allow passing of this top level flag to helm\n      --no-color                     remove colors from the output. If both --no-color and --color are unspecified, coloring enabled only when the stdout is a term and TERM is not \"dumb\"\n      --no-hooks                     disable diffing of hooks\n      --normalize-manifests          normalize manifests before running diff to exclude style differences from the output\n      --output string                Possible values: diff, simple, template. When set to \"template\", use the env var HELM_DIFF_TPL to specify the template. (default \"diff\")\n      --post-renderer string         the path to an executable to be used for post rendering. If it exists in $PATH, the binary will be used, otherwise it will try to look for the executable at the given path\n      --repo string                  specify the chart repository url to locate the requested chart\n      --reset-values                 reset the values to the ones built into the chart and merge in any new values\n      --reuse-values                 reuse the last release's values and merge in any new values. If '--reset-values' is specified, this is ignored\n      --set stringArray              set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)\n      --set-file stringArray         set values from respective files specified via the command line (can specify multiple or separate values with commas: key1=path1,key2=path2)\n      --set-string stringArray       set STRING values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)\n      --show-secrets                 do not redact secret values in the output\n      --strip-trailing-cr            strip trailing carriage return on input\n      --suppress stringArray         allows suppression of the values listed in the diff output\n  -q, --suppress-secrets             suppress secrets in the output\n      --three-way-merge              use three-way-merge to compute patch and generate diff output\n  -f, --values valueFiles            specify values in a YAML file (can specify multiple) (default [])\n      --version string               specify the exact chart version to use. If this is not specified, the latest version is used\n\nAdditional help topics:\n  diff            \n\nUse \"diff [command] --help\" for more information about a command.\nInstalled plugin: diff\nRemoving intermediate container eb861433e7a6\n ---> 7a21af43b489\nStep 37/58 : RUN helm plugin install https://github.com/jkroepke/helm-secrets --version ${HELM_SECRETS_VERSION}\n ---> Running in 8871ad685cd3\nInstalled plugin: secrets\nRemoving intermediate container 8871ad685cd3\n ---> 576d6b89732e\nStep 38/58 : FROM golang:${GO_VERSION}-alpine${ALPINE_VERSION} as builder\n1.18.5-alpine3.15: Pulling from library/golang\n9621f1afde84: Already exists\n5ff166040dee: Pulling fs layer\nd6319d9ddc53: Pulling fs layer\nf9a859284d6b: Pulling fs layer\nb9da9f5252e1: Pulling fs layer\nb9da9f5252e1: Waiting\nd6319d9ddc53: Verifying Checksum\nd6319d9ddc53: Download complete\n5ff166040dee: Verifying Checksum\n5ff166040dee: Download complete\n5ff166040dee: Pull complete\nb9da9f5252e1: Verifying Checksum\nb9da9f5252e1: Download complete\nd6319d9ddc53: Pull complete\nf9a859284d6b: Verifying Checksum\nf9a859284d6b: Download complete\nf9a859284d6b: Pull complete\nb9da9f5252e1: Pull complete\nDigest: sha256:387b102dcb6bd5f5b138cbfd85e8d9ced14f33bbbb7e859610463cc8fa47e8fc\nStatus: Downloaded newer image for golang:1.18.5-alpine3.15\n ---> 397a291acfd6\nStep 39/58 : RUN apk add --update --no-cache ca-certificates git openssh ruby bash make curl\n ---> Running in 3ec7672a4a9e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/27) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/27) Installing ncurses-libs (6.3_p20211120-r1)\n(3/27) Installing readline (8.1.1-r0)\n(4/27) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/27) Installing brotli-libs (1.0.9-r5)\n(6/27) Installing nghttp2-libs (1.46.0-r0)\n(7/27) Installing libcurl (7.80.0-r5)\n(8/27) Installing curl (7.80.0-r5)\n(9/27) Installing expat (2.5.0-r0)\n(10/27) Installing pcre2 (10.40-r0)\n(11/27) Installing git (2.34.5-r0)\n(12/27) Installing make (4.3-r0)\n(13/27) Installing openssh-keygen (8.8_p1-r1)\n(14/27) Installing libedit (20210910.3.1-r0)\n(15/27) Installing openssh-client-common (8.8_p1-r1)\n(16/27) Installing openssh-client-default (8.8_p1-r1)\n(17/27) Installing openssh-sftp-server (8.8_p1-r1)\n(18/27) Installing openssh-server-common (8.8_p1-r1)\n(19/27) Installing openssh-server (8.8_p1-r1)\n(20/27) Installing openssh (8.8_p1-r1)\n(21/27) Installing gmp (6.2.1-r1)\n(22/27) Installing libffi (3.4.2-r1)\n(23/27) Installing gdbm (1.22-r0)\n(24/27) Installing libucontext (1.1-r0)\n(25/27) Installing yaml (0.2.5-r0)\n(26/27) Installing ruby-libs (3.0.4-r0)\n(27/27) Installing ruby (3.0.4-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 42 MiB in 42 packages\nRemoving intermediate container 3ec7672a4a9e\n ---> e1bea7bfe5ee\nStep 40/58 : RUN gem install hiera-eyaml --no-doc\n ---> Running in 11b72ae23bf5\nSuccessfully installed optimist-3.0.1\nSuccessfully installed highline-2.1.0\nSuccessfully installed hiera-eyaml-3.3.0\n3 gems installed\nRemoving intermediate container 11b72ae23bf5\n ---> e9fd0c10dce1\nStep 41/58 : RUN update-ca-certificates\n ---> Running in 373e3f87a5f2\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container 373e3f87a5f2\n ---> 3a707f339bd2\nStep 42/58 : COPY --from=helm-installer /usr/local/bin/kubectl /usr/local/bin/kubectl\n ---> e8a7478bec7f\nStep 43/58 : COPY --from=helm-installer /usr/local/bin/helm /usr/local/bin/helm\n ---> dc59d2d51a40\nStep 44/58 : COPY --from=helm-installer /root/.cache/helm/plugins/ /root/.cache/helm/plugins/\n ---> 90562dfedbd7\nStep 45/58 : COPY --from=helm-installer /root/.local/share/helm/plugins/ /root/.local/share/helm/plugins/\n ---> 2ece14a7d852\nStep 46/58 : WORKDIR /go/src/github.com/Praqma/helmsman\n ---> Running in 29ed78bf4bd4\nRemoving intermediate container 29ed78bf4bd4\n ---> 105af4f9631b\nStep 47/58 : COPY . .\n ---> c7b6bb3da432\nStep 48/58 : RUN make test     && LastTag=$(git describe --abbrev=0 --tags)     && TAG=$LastTag-$(date +\"%d%m%y\")     && LT_SHA=$(git rev-parse ${LastTag}^{})     && LC_SHA=$(git rev-parse HEAD)     && if [ ${LT_SHA} != ${LC_SHA} ]; then TAG=latest-$(date +\"%d%m%y\"); fi     && make build\n ---> Running in d444bb3223da\n\u001b[91mgo: downloading github.com/logrusorgru/aurora v2.0.3+incompatible\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/storage v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/invopop/jsonschema v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.171\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/azure-storage-blob-go v0.15.0\ngo: downloading github.com/Azure/azure-pipeline-go v0.2.3\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/apsdehal/go-logger v0.0.0-20190515212710-b0d6ccfee0e6\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/semver v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.13\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-ieproxy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.105.0\n\u001b[0m\u001b[91mgo: downloading github.com/iancoleman/orderedmap v0.0.0-20190318233801-ac98e3ecb4b0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/iam v0.7.0\ngo: downloading google.golang.org/genproto v0.0.0-20221201164419-0e50fba7f41c\ngo: downloading cloud.google.com/go/compute/metadata v0.2.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20221014153046-6fdb5e3db783\n\u001b[0m\u001b[91mgo: downloading google.golang.org/api v0.103.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\ngo: downloading github.com/googleapis/gax-go/v2 v2.7.0\ngo: downloading google.golang.org/grpc v1.50.1\n\u001b[0m\u001b[91mgo: downloading go.opencensus.io v0.24.0\ngo: downloading golang.org/x/xerrors v0.0.0-20220907171357-04be3eba64a2\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/compute v1.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/enterprise-certificate-proxy v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.9\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0m\u001b[91mfatal: Not a valid object name HEAD^\n\u001b[0m\u001b[91mgo: downloading google.golang.org/appengine v1.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/adal v0.9.18\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath/internal/testify v1.5.1\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/longrunning v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/kr/pretty v0.2.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220312131142-6068a2e6cfdc\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest v14.2.0+incompatible\ngo: downloading github.com/Azure/go-autorest/tracing v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/logger v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/date v0.3.0\ngo: downloading github.com/golang-jwt/jwt/v4 v4.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/kr/text v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/martian/v3 v3.2.1\n\u001b[0m\u001b[91mError: no repositories to show\n\u001b[0m\"prometheus-community\" has been added to your repositories\nHang tight while we grab the latest from your chart repositories...\n...Successfully got an update from the \"prometheus-community\" chart repository\nUpdate Complete. ⎈Happy Helming!⎈\n?   \tgithub.com/Praqma/helmsman\t[no test files]\n?   \tgithub.com/Praqma/helmsman/cmd/helmsman\t[no test files]\n\n _          _ \n| |        | | \n| |__   ___| |_ __ ___  ___ _ __ ___   __ _ _ __\n| '_ \\ / _ \\ | '_ ` _ \\/ __| '_ ` _ \\ / _` | '_ \\ \n| | | |  __/ | | | | | \\__ \\ | | | | | (_| | | | | \n|_| |_|\\___|_|_| |_| |_|___/_| |_| |_|\\__,_|_| |_| version: v3.15.1\nA Helm-Charts-as-Code tool.\n\n=== RUN   Test_readState\n=== RUN   Test_readState/yaml_minimal_example;_no_validation\n\u001b[37m2023-01-06 09:32:06 INFO: Parsed [[ ../../examples/minimal-example.yaml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:06 INFO: Desired state validation is skipped.\u001b[0m\n=== RUN   Test_readState/toml_minimal_example;_no_validation\n\u001b[37m2023-01-06 09:32:06 INFO: Parsed [[ ../../examples/minimal-example.toml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:06 INFO: Desired state validation is skipped.\u001b[0m\n=== RUN   Test_readState/yaml_minimal_example;_no_validation_with_bad_target\n\u001b[37m2023-01-06 09:32:06 INFO: Parsed [[ ../../examples/minimal-example.yaml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:06 INFO: Desired state validation is skipped.\u001b[0m\n=== RUN   Test_readState/yaml_minimal_example;_no_validation;_target_jenkins\n\u001b[37m2023-01-06 09:32:06 INFO: Parsed [[ ../../examples/minimal-example.yaml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:06 INFO: Desired state validation is skipped.\u001b[0m\n=== RUN   Test_readState/yaml_and_toml_minimal_examples_merged;_no_validation\n\u001b[37m2023-01-06 09:32:06 INFO: Parsed [[ ../../examples/minimal-example.yaml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:06 INFO: Parsed [[ ../../examples/minimal-example.toml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:06 INFO: Desired state validation is skipped.\u001b[0m\n--- PASS: Test_readState (0.31s)\n    --- PASS: Test_readState/yaml_minimal_example;_no_validation (0.04s)\n    --- PASS: Test_readState/toml_minimal_example;_no_validation (0.06s)\n    --- PASS: Test_readState/yaml_minimal_example;_no_validation_with_bad_target (0.04s)\n    --- PASS: Test_readState/yaml_minimal_example;_no_validation;_target_jenkins (0.05s)\n    --- PASS: Test_readState/yaml_and_toml_minimal_examples_merged;_no_validation (0.12s)\n=== RUN   TestToolExists\n=== RUN   TestToolExists/test_case_1_--_checking_helm_exists.\n=== RUN   TestToolExists/test_case_2_--_checking_kubectl_exists.\n=== RUN   TestToolExists/test_case_3_--_checking_nonExistingTool_exists.\n--- PASS: TestToolExists (0.00s)\n    --- PASS: TestToolExists/test_case_1_--_checking_helm_exists. (0.00s)\n    --- PASS: TestToolExists/test_case_2_--_checking_kubectl_exists. (0.00s)\n    --- PASS: TestToolExists/test_case_3_--_checking_nonExistingTool_exists. (0.00s)\n=== RUN   TestCommandExec\n=== RUN   TestCommandExec/echo\n=== RUN   TestCommandExec/exitCode\n--- PASS: TestCommandExec (0.00s)\n    --- PASS: TestCommandExec/echo (0.00s)\n    --- PASS: TestCommandExec/exitCode (0.00s)\n=== RUN   TestPipeExec\n=== RUN   TestPipeExec/echo\n=== RUN   TestPipeExec/line_count\n=== RUN   TestPipeExec/grep\n=== RUN   TestPipeExec/grep_no_matches\n\u001b[37m2023-01-06 09:32:06 INFO: call: exit status 1\u001b[0m\n--- PASS: TestPipeExec (0.05s)\n    --- PASS: TestPipeExec/echo (0.05s)\n    --- PASS: TestPipeExec/line_count (0.00s)\n    --- PASS: TestPipeExec/grep (0.00s)\n    --- PASS: TestPipeExec/grep_no_matches (0.00s)\n=== RUN   TestCommand_String\n=== RUN   TestCommand_String/regular\n=== RUN   TestCommand_String/cert-key\n=== RUN   TestCommand_String/password\n=== RUN   TestCommand_String/password2\n=== RUN   TestCommand_String/token\n=== RUN   TestCommand_String/token2\n--- PASS: TestCommand_String (0.00s)\n    --- PASS: TestCommand_String/regular (0.00s)\n    --- PASS: TestCommand_String/cert-key (0.00s)\n    --- PASS: TestCommand_String/password (0.00s)\n    --- PASS: TestCommand_String/password2 (0.00s)\n    --- PASS: TestCommand_String/token (0.00s)\n    --- PASS: TestCommand_String/token2 (0.00s)\n=== RUN   TestNullBool_MarshalJSON\n=== RUN   TestNullBool_MarshalJSON/should_be_false\n=== RUN   TestNullBool_MarshalJSON/should_be_true\n=== RUN   TestNullBool_MarshalJSON/should_be_false_when_HasValue_is_false\n--- PASS: TestNullBool_MarshalJSON (0.00s)\n    --- PASS: TestNullBool_MarshalJSON/should_be_false (0.00s)\n    --- PASS: TestNullBool_MarshalJSON/should_be_true (0.00s)\n    --- PASS: TestNullBool_MarshalJSON/should_be_false_when_HasValue_is_false (0.00s)\n=== RUN   TestNullBool_UnmarshalJSON\n=== RUN   TestNullBool_UnmarshalJSON/should_have_value_set_to_false\n=== RUN   TestNullBool_UnmarshalJSON/should_have_value_set_to_true\n=== RUN   TestNullBool_UnmarshalJSON/should_have_value_unset\n--- PASS: TestNullBool_UnmarshalJSON (0.00s)\n    --- PASS: TestNullBool_UnmarshalJSON/should_have_value_set_to_false (0.00s)\n    --- PASS: TestNullBool_UnmarshalJSON/should_have_value_set_to_true (0.00s)\n    --- PASS: TestNullBool_UnmarshalJSON/should_have_value_unset (0.00s)\n=== RUN   TestNullBool_UnmarshalText\n=== RUN   TestNullBool_UnmarshalText/should_have_the_value_set_to_false\n=== RUN   TestNullBool_UnmarshalText/should_have_the_value_set_to_true\n=== RUN   TestNullBool_UnmarshalText/should_have_the_value_unset\n=== RUN   TestNullBool_UnmarshalText/should_return_an_error_on_wrong_input\n--- PASS: TestNullBool_UnmarshalText (0.00s)\n    --- PASS: TestNullBool_UnmarshalText/should_have_the_value_set_to_false (0.00s)\n    --- PASS: TestNullBool_UnmarshalText/should_have_the_value_set_to_true (0.00s)\n    --- PASS: TestNullBool_UnmarshalText/should_have_the_value_unset (0.00s)\n    --- PASS: TestNullBool_UnmarshalText/should_return_an_error_on_wrong_input (0.00s)\n=== RUN   TestNullBoolTransformer\n=== RUN   TestNullBoolTransformer/should_overwrite_true_to_false_when_the_dst_has_the_value\n=== RUN   TestNullBoolTransformer/shouldn't_overwrite_when_the_value_is_unset\n=== RUN   TestNullBoolTransformer/shouldn_overwrite_when_the_value_is_set_and_equal_true\n--- PASS: TestNullBoolTransformer (0.00s)\n    --- PASS: TestNullBoolTransformer/should_overwrite_true_to_false_when_the_dst_has_the_value (0.00s)\n    --- PASS: TestNullBoolTransformer/shouldn't_overwrite_when_the_value_is_unset (0.00s)\n    --- PASS: TestNullBoolTransformer/shouldn_overwrite_when_the_value_is_set_and_equal_true (0.00s)\n=== RUN   Test_getValuesFiles\n=== RUN   Test_getValuesFiles/test_case_1\n=== RUN   Test_getValuesFiles/test_case_2\n=== RUN   Test_getValuesFiles/test_case_1#01\n--- PASS: Test_getValuesFiles (0.00s)\n    --- PASS: Test_getValuesFiles/test_case_1 (0.00s)\n    --- PASS: Test_getValuesFiles/test_case_2 (0.00s)\n    --- PASS: Test_getValuesFiles/test_case_1#01 (0.00s)\n=== RUN   Test_inspectUpgradeScenario\n=== RUN   Test_inspectUpgradeScenario/inspectUpgradeScenario()_-_local_chart_with_different_chart_name_should_change\n\u001b[37m2023-01-06 09:32:06 INFO: Chart [ ./../../tests/chart-test ] with version [ 1.0.0 ] was found locally.\u001b[0m\n    decision_maker_test.go:119: Release [ release1 ] will be upgraded\n--- PASS: Test_inspectUpgradeScenario (0.04s)\n    --- PASS: Test_inspectUpgradeScenario/inspectUpgradeScenario()_-_local_chart_with_different_chart_name_should_change (0.04s)\n=== RUN   Test_decide\n=== RUN   Test_decide/decide()_-_targetMap_does_not_contain_this_service_-_skip\n    decision_maker_test.go:290: Release [ release1 ] in namespace [ namespace ] ignored\n=== RUN   Test_decide/decide()_-_targetMap_does_not_contain_this_service_either_-_skip\n    decision_maker_test.go:290: Release [ release1 ] in namespace [ namespace ] ignored\n=== RUN   Test_decide/decide()_-_targetMap_is_empty_-_will_install\n    decision_maker_test.go:290: Release [ release4 ] in namespace [ namespace ] will be installed using version [  ]\n=== RUN   Test_decide/decide()_-_targetMap_is_exactly_this_service_-_will_install\n    decision_maker_test.go:290: Release [ thisRelease ] in namespace [ namespace ] will be installed using version [  ]\n=== RUN   Test_decide/decide()_-_targetMap_contains_this_service_-_will_install\n    decision_maker_test.go:290: Release [ thisRelease ] in namespace [ namespace ] will be installed using version [  ]\n=== RUN   Test_decide/decide()_-_targetMap_contains_this_service,_but_it's_excluded_by_name_-_will_not_install\n    decision_maker_test.go:290: Release [ thisRelease ] in namespace [ namespace ] ignored\n=== RUN   Test_decide/decide()_-_targetMap_contains_this_service,_but_its_group_is_excluded_-_will_not_install\n    decision_maker_test.go:290: Release [ thisRelease ] in namespace [ namespace ] ignored\n--- PASS: Test_decide (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_does_not_contain_this_service_-_skip (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_does_not_contain_this_service_either_-_skip (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_is_empty_-_will_install (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_is_exactly_this_service_-_will_install (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_contains_this_service_-_will_install (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_contains_this_service,_but_it's_excluded_by_name_-_will_not_install (0.00s)\n    --- PASS: Test_decide/decide()_-_targetMap_contains_this_service,_but_its_group_is_excluded_-_will_not_install (0.00s)\n=== RUN   Test_decide_skip_ignored_apps\n=== RUN   Test_decide_skip_ignored_apps/decide()_-_skipIgnoredApps_is_defined_and_target_flag_contains_2_app_names_-_plan_should_have_2_decisions\n    decision_maker_test.go:373: [{Release [ service1 ] in namespace [ namespace ] will be installed using version [  ] 0 create} {Release [ service2 ] in namespace [ namespace ] will be installed using version [  ] 0 create}]\n=== RUN   Test_decide_skip_ignored_apps/decide()_-_skipIgnoredApps_is_defined_and_target_flag_contains_just_1_app_name_-_plan_should_have_1_decision_-_one_app_should_be_ignored\n    decision_maker_test.go:373: [{Release [ service1 ] in namespace [ namespace ] will be installed using version [  ] 0 create}]\n--- PASS: Test_decide_skip_ignored_apps (0.00s)\n    --- PASS: Test_decide_skip_ignored_apps/decide()_-_skipIgnoredApps_is_defined_and_target_flag_contains_2_app_names_-_plan_should_have_2_decisions (0.00s)\n    --- PASS: Test_decide_skip_ignored_apps/decide()_-_skipIgnoredApps_is_defined_and_target_flag_contains_just_1_app_name_-_plan_should_have_1_decision_-_one_app_should_be_ignored (0.00s)\n=== RUN   Test_decide_group\n=== RUN   Test_decide_group/decide()_-_groupMap_does_not_contain_this_service_-_skip\n=== RUN   Test_decide_group/decide()_-_groupMap_contains_this_service_-_proceed\n--- PASS: Test_decide_group (0.00s)\n    --- PASS: Test_decide_group/decide()_-_groupMap_does_not_contain_this_service_-_skip (0.00s)\n    --- PASS: Test_decide_group/decide()_-_groupMap_contains_this_service_-_proceed (0.00s)\n=== RUN   Test_getChartInfo\n=== RUN   Test_getChartInfo/getChartInfo_-_local_chart_should_return_given_release_info\n\u001b[37m2023-01-06 09:32:06 INFO: Chart [ ./../../tests/chart-test ] with version [ 1.0.0 ] was found locally.\u001b[0m\n=== RUN   Test_getChartInfo/getChartInfo_-_local_chart_semver_should_return_latest_matching_release\n\u001b[37m2023-01-06 09:32:07 INFO: Chart [ ./../../tests/chart-test ] with version [ 1.0.* ] was found locally.\u001b[0m\n=== RUN   Test_getChartInfo/getChartInfo_-_unknown_chart_should_error\n=== RUN   Test_getChartInfo/getChartInfo_-_wrong_local_version_should_error\n\u001b[37m2023-01-06 09:32:07 INFO: Chart [ ./../../tests/chart-test ] with version [ 0.9.0 ] was found locally.\u001b[0m\n--- PASS: Test_getChartInfo (0.19s)\n    --- PASS: Test_getChartInfo/getChartInfo_-_local_chart_should_return_given_release_info (0.05s)\n    --- PASS: Test_getChartInfo/getChartInfo_-_local_chart_semver_should_return_latest_matching_release (0.05s)\n    --- PASS: Test_getChartInfo/getChartInfo_-_unknown_chart_should_error (0.05s)\n    --- PASS: Test_getChartInfo/getChartInfo_-_wrong_local_version_should_error (0.04s)\n=== RUN   Test_createPlan\n=== RUN   Test_createPlan/test_creating_a_plan\n--- PASS: Test_createPlan (0.00s)\n    --- PASS: Test_createPlan/test_creating_a_plan (0.00s)\n=== RUN   Test_plan_addCommand\n=== RUN   Test_plan_addCommand/testing_command_1\n--- PASS: Test_plan_addCommand (0.00s)\n    --- PASS: Test_plan_addCommand/testing_command_1 (0.00s)\n=== RUN   Test_plan_addDecision\n=== RUN   Test_plan_addDecision/testing_decision_adding\n--- PASS: Test_plan_addDecision (0.00s)\n    --- PASS: Test_plan_addDecision/testing_decision_adding (0.00s)\n=== RUN   Test_release_validate\n=== RUN   Test_release_validate/test_case_1\n=== RUN   Test_release_validate/test_case_2\n=== RUN   Test_release_validate/test_case_3\n=== RUN   Test_release_validate/test_case_4\n=== RUN   Test_release_validate/test_case_5\n=== RUN   Test_release_validate/test_case_6\n=== RUN   Test_release_validate/test_case_7\n=== RUN   Test_release_validate/test_case_8\n=== RUN   Test_release_validate/test_case_9\n=== RUN   Test_release_validate/test_case_10\n=== RUN   Test_release_validate/test_case_11\n=== RUN   Test_release_validate/test_case_12\n=== RUN   Test_release_validate/test_case_13\n=== RUN   Test_release_validate/test_case_14_-_non-existing_hook_file\n=== RUN   Test_release_validate/test_case_15_-_invalid_hook_file_type\n=== RUN   Test_release_validate/test_case_16_-_valid_hook_file_type\n=== RUN   Test_release_validate/test_case_17_-_valid_hook_file_URL\n=== RUN   Test_release_validate/test_case_18_-_invalid_hook_file_URL\n=== RUN   Test_release_validate/test_case_19_-_invalid_hook_type_1\n=== RUN   Test_release_validate/test_case_20_-_invalid_hook_type_2\n=== RUN   Test_release_validate/test_case_21\n=== RUN   Test_release_validate/test_case_22\n=== RUN   Test_release_validate/test_case_23_-_executable_hook_type\n--- PASS: Test_release_validate (0.00s)\n    --- PASS: Test_release_validate/test_case_1 (0.00s)\n    --- PASS: Test_release_validate/test_case_2 (0.00s)\n    --- PASS: Test_release_validate/test_case_3 (0.00s)\n    --- PASS: Test_release_validate/test_case_4 (0.00s)\n    --- PASS: Test_release_validate/test_case_5 (0.00s)\n    --- PASS: Test_release_validate/test_case_6 (0.00s)\n    --- PASS: Test_release_validate/test_case_7 (0.00s)\n    --- PASS: Test_release_validate/test_case_8 (0.00s)\n    --- PASS: Test_release_validate/test_case_9 (0.00s)\n    --- PASS: Test_release_validate/test_case_10 (0.00s)\n    --- PASS: Test_release_validate/test_case_11 (0.00s)\n    --- PASS: Test_release_validate/test_case_12 (0.00s)\n    --- PASS: Test_release_validate/test_case_13 (0.00s)\n    --- PASS: Test_release_validate/test_case_14_-_non-existing_hook_file (0.00s)\n    --- PASS: Test_release_validate/test_case_15_-_invalid_hook_file_type (0.00s)\n    --- PASS: Test_release_validate/test_case_16_-_valid_hook_file_type (0.00s)\n    --- PASS: Test_release_validate/test_case_17_-_valid_hook_file_URL (0.00s)\n    --- PASS: Test_release_validate/test_case_18_-_invalid_hook_file_URL (0.00s)\n    --- PASS: Test_release_validate/test_case_19_-_invalid_hook_type_1 (0.00s)\n    --- PASS: Test_release_validate/test_case_20_-_invalid_hook_type_2 (0.00s)\n    --- PASS: Test_release_validate/test_case_21 (0.00s)\n    --- PASS: Test_release_validate/test_case_22 (0.00s)\n    --- PASS: Test_release_validate/test_case_23_-_executable_hook_type (0.00s)\n=== RUN   Test_release_inheritHooks\n=== RUN   Test_release_inheritHooks/test_case_1\n--- PASS: Test_release_inheritHooks (0.00s)\n    --- PASS: Test_release_inheritHooks/test_case_1 (0.00s)\n=== RUN   Test_release_getChartVersion\n=== RUN   Test_release_getChartVersion/test_case_1:_there_is_a_pre-release_version\n    release_test.go:562: 1.3.0-1\n=== RUN   Test_release_getChartVersion/test_case_2:_normal_case\n    release_test.go:562: 1.3.0\n=== RUN   Test_release_getChartVersion/test_case_3:_there_is_a_hypen_in_the_name\n    release_test.go:562: 1.3.0\n=== RUN   Test_release_getChartVersion/test_case_4:_there_is_meta_information\n    release_test.go:562: 1.3.0+meta.info\n=== RUN   Test_release_getChartVersion/test_case_5:_an_invalid_string\n    release_test.go:562: \n=== RUN   Test_release_getChartVersion/test_case_6:_version_includes_v\n    release_test.go:562: v0.5.2\n--- PASS: Test_release_getChartVersion (0.00s)\n    --- PASS: Test_release_getChartVersion/test_case_1:_there_is_a_pre-release_version (0.00s)\n    --- PASS: Test_release_getChartVersion/test_case_2:_normal_case (0.00s)\n    --- PASS: Test_release_getChartVersion/test_case_3:_there_is_a_hypen_in_the_name (0.00s)\n    --- PASS: Test_release_getChartVersion/test_case_4:_there_is_meta_information (0.00s)\n    --- PASS: Test_release_getChartVersion/test_case_5:_an_invalid_string (0.00s)\n    --- PASS: Test_release_getChartVersion/test_case_6:_version_includes_v (0.00s)\n=== RUN   Test_specFromYAML\n    state_files_test.go:10: setup test case\n=== RUN   Test_specFromYAML/test_case_1_--_Valid_YAML\n=== RUN   Test_specFromYAML/test_case_2_--_Invalid_Yaml\n    spec_state_test.go:51: error unmarshaling JSON: while decoding JSON: json: cannot unmarshal object into Go struct field StateFiles.stateFiles of type []app.StatePath\n=== RUN   Test_specFromYAML/test_case_3_--_Commposition_example\n=== CONT  Test_specFromYAML\n    state_files_test.go:17: teardown test case\n--- PASS: Test_specFromYAML (0.00s)\n    --- PASS: Test_specFromYAML/test_case_1_--_Valid_YAML (0.00s)\n    --- PASS: Test_specFromYAML/test_case_2_--_Invalid_Yaml (0.00s)\n    --- PASS: Test_specFromYAML/test_case_3_--_Commposition_example (0.00s)\n=== RUN   Test_specFileSort\n    state_files_test.go:10: setup test case\n=== RUN   Test_specFileSort/test_case_1_--_Files_sorted_by_priority\n=== CONT  Test_specFileSort\n    state_files_test.go:17: teardown test case\n--- PASS: Test_specFileSort (0.00s)\n    --- PASS: Test_specFileSort/test_case_1_--_Files_sorted_by_priority (0.00s)\n=== RUN   Test_fromTOML\n    state_files_test.go:10: setup test case\n=== RUN   Test_fromTOML/test_case_1_--_invalid_TOML\n=== RUN   Test_fromTOML/test_case_2_--_valid_TOML\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.toml\u001b[0m\n=== CONT  Test_fromTOML\n    state_files_test.go:17: teardown test case\n--- PASS: Test_fromTOML (0.00s)\n    --- PASS: Test_fromTOML/test_case_1_--_invalid_TOML (0.00s)\n    --- PASS: Test_fromTOML/test_case_2_--_valid_TOML (0.00s)\n=== RUN   Test_fromTOML_Expand\n    state_files_test.go:10: setup test case\n=== RUN   Test_fromTOML_Expand/test_case_1_--_valid_TOML_expand_ClusterURI\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.toml\u001b[0m\n=== RUN   Test_fromTOML_Expand/test_case_2_--_valid_TOML_expand_org\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.toml\u001b[0m\n=== CONT  Test_fromTOML_Expand\n    state_files_test.go:17: teardown test case\n--- PASS: Test_fromTOML_Expand (0.00s)\n    --- PASS: Test_fromTOML_Expand/test_case_1_--_valid_TOML_expand_ClusterURI (0.00s)\n    --- PASS: Test_fromTOML_Expand/test_case_2_--_valid_TOML_expand_org (0.00s)\n=== RUN   Test_fromYAML\n    state_files_test.go:10: setup test case\n=== RUN   Test_fromYAML/test_case_1_--_invalid_YAML\n=== RUN   Test_fromYAML/test_case_2_--_valid_TOML\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.yaml\u001b[0m\n=== CONT  Test_fromYAML\n    state_files_test.go:17: teardown test case\n--- PASS: Test_fromYAML (0.00s)\n    --- PASS: Test_fromYAML/test_case_1_--_invalid_YAML (0.00s)\n    --- PASS: Test_fromYAML/test_case_2_--_valid_TOML (0.00s)\n=== RUN   Test_fromYAML_UnsetVars\n    state_files_test.go:10: setup test case\n=== RUN   Test_fromYAML_UnsetVars/test_case_1_--_unset_ORG_PATH_env_var\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.yaml\u001b[0m\n=== RUN   Test_fromYAML_UnsetVars/test_case_2_--_unset_VALUE_var\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.yaml\u001b[0m\n=== CONT  Test_fromYAML_UnsetVars\n    state_files_test.go:17: teardown test case\n--- PASS: Test_fromYAML_UnsetVars (0.00s)\n    --- PASS: Test_fromYAML_UnsetVars/test_case_1_--_unset_ORG_PATH_env_var (0.00s)\n    --- PASS: Test_fromYAML_UnsetVars/test_case_2_--_unset_VALUE_var (0.00s)\n=== RUN   Test_fromYAML_Expand\n    state_files_test.go:10: setup test case\n=== RUN   Test_fromYAML_Expand/test_case_1_--_valid_YAML_expand_ClusterURI\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.yaml\u001b[0m\n=== RUN   Test_fromYAML_Expand/test_case_2_--_valid_YAML_expand_org\n\u001b[37m2023-01-06 09:32:07 INFO: validating environment variables in ../../examples/example.yaml\u001b[0m\n=== CONT  Test_fromYAML_Expand\n    state_files_test.go:17: teardown test case\n--- PASS: Test_fromYAML_Expand (0.00s)\n    --- PASS: Test_fromYAML_Expand/test_case_1_--_valid_YAML_expand_ClusterURI (0.00s)\n    --- PASS: Test_fromYAML_Expand/test_case_2_--_valid_YAML_expand_org (0.00s)\n=== RUN   Test_build\n    state_files_test.go:10: setup test case\n\u001b[37m2023-01-06 09:32:07 INFO: Parsed [[ ../../examples/composition/main.yaml ]] successfully and found [ 0 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:07 INFO: Parsed [[ ../../examples/composition/kyverno.yaml ]] successfully and found [ 3 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:07 INFO: Parsed [[ ../../examples/composition/argo.yaml ]] successfully and found [ 1 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:07 INFO: Parsed [[ ../../examples/composition/artifactory.yaml ]] successfully and found [ 1 ] apps\u001b[0m\n    state_files_test.go:17: teardown test case\n--- PASS: Test_build (0.14s)\n=== RUN   Test_DSFMergeWithOverwrite\n    state_files_test.go:10: setup test case\n\u001b[37m2023-01-06 09:32:07 INFO: Parsed [[ ../../examples/minimal-example.yaml ]] successfully and found [ 2 ] apps\u001b[0m\n\u001b[37m2023-01-06 09:32:07 INFO: Parsed [[ ../../examples/minimal-example-overwrite.yaml ]] successfully and found [ 1 ] apps\u001b[0m\n    state_files_test.go:17: teardown test case\n--- PASS: Test_DSFMergeWithOverwrite (0.08s)\n=== RUN   Test_state_validate\n=== RUN   Test_state_validate/test_case_1\n=== RUN   Test_state_validate/test_case_2_--_settings/empty_context\n\u001b[37m2023-01-06 09:32:07 INFO: Kubectl context is not set\u001b[0m\n=== RUN   Test_state_validate/test_case_3_--_settings/optional_params\n=== RUN   Test_state_validate/test_case_4_--_settings/password-passed-directly\n=== RUN   Test_state_validate/test_case_5_--_settings/clusterURI-empty-env-var\n=== RUN   Test_state_validate/test_case_6_--_settings/clusterURI-invalid\n=== RUN   Test_state_validate/test_case_7_--_certifications/missing_key\n=== RUN   Test_state_validate/test_case_8_--_certifications/nil_value\n=== RUN   Test_state_validate/test_case_9_--_certifications/invalid_s3\n=== RUN   Test_state_validate/test_case_10_--_certifications/nil_value_pass\n=== RUN   Test_state_validate/test_case_11_--_namespaces/nil_value\n=== RUN   Test_state_validate/test_case_12_--_namespaces/empty\n=== RUN   Test_state_validate/test_case_17_--_helmRepos/nil_value\n=== RUN   Test_state_validate/test_case_18_--_helmRepos/empty\n=== RUN   Test_state_validate/test_case_19_--_helmRepos/empty_repo_value\n=== RUN   Test_state_validate/test_case_20_--_helmRepos/invalid_repo_value\n--- PASS: Test_state_validate (0.07s)\n    --- PASS: Test_state_validate/test_case_1 (0.00s)\n    --- PASS: Test_state_validate/test_case_2_--_settings/empty_context (0.07s)\n    --- PASS: Test_state_validate/test_case_3_--_settings/optional_params (0.00s)\n    --- PASS: Test_state_validate/test_case_4_--_settings/password-passed-directly (0.00s)\n    --- PASS: Test_state_validate/test_case_5_--_settings/clusterURI-empty-env-var (0.00s)\n    --- PASS: Test_state_validate/test_case_6_--_settings/clusterURI-invalid (0.00s)\n    --- PASS: Test_state_validate/test_case_7_--_certifications/missing_key (0.00s)\n    --- PASS: Test_state_validate/test_case_8_--_certifications/nil_value (0.00s)\n    --- PASS: Test_state_validate/test_case_9_--_certifications/invalid_s3 (0.00s)\n    --- PASS: Test_state_validate/test_case_10_--_certifications/nil_value_pass (0.00s)\n    --- PASS: Test_state_validate/test_case_11_--_namespaces/nil_value (0.00s)\n    --- PASS: Test_state_validate/test_case_12_--_namespaces/empty (0.00s)\n    --- PASS: Test_state_validate/test_case_17_--_helmRepos/nil_value (0.00s)\n    --- PASS: Test_state_validate/test_case_18_--_helmRepos/empty (0.00s)\n    --- PASS: Test_state_validate/test_case_19_--_helmRepos/empty_repo_value (0.00s)\n    --- PASS: Test_state_validate/test_case_20_--_helmRepos/invalid_repo_value (0.00s)\n=== RUN   Test_state_getReleaseChartsInfo\n    state_test.go:9: setup test case\n=== RUN   Test_state_getReleaseChartsInfo/test_case_1:_valid_local_path_with_no_chart\n\u001b[37m2023-01-06 09:32:07 INFO: Chart [ /tmp/helmsman-tests/myapp ] with version [  ] was found locally.\u001b[0m\n\u001b[31m2023-01-06 09:32:07 ERROR: chart [ /tmp/helmsman-tests/myapp ] version [  ] can't be found. If this is not a local chart, add the repo [ helmsman-tests ] in your helmRepos stanza. Error output: Getting latest non-local chart's version /tmp/helmsman-tests/myapp- failed with non-zero exit code 1: exit status 1\noutput: \n--- stdout ---\n\n--- stderr ---\nError: flag needs an argument: --version\u001b[0m\n=== RUN   Test_state_getReleaseChartsInfo/test_case_2:_invalid_local_path\n\u001b[31m2023-01-06 09:32:07 ERROR: chart [ /tmp/does-not-exist/myapp ] version [  ] can't be found. If this is not a local chart, add the repo [ does-not-exist ] in your helmRepos stanza. Error output: Getting latest non-local chart's version /tmp/does-not-exist/myapp- failed with non-zero exit code 1: exit status 1\noutput: \n--- stdout ---\n\n--- stderr ---\nError: flag needs an argument: --version\u001b[0m\n=== RUN   Test_state_getReleaseChartsInfo/test_case_3:_valid_chart_local_path_with_whitespace\n\u001b[37m2023-01-06 09:32:07 INFO: Chart [ /tmp/helmsman-tests/dir-with space/myapp ] with version [ 0.1.0 ] was found locally.\u001b[0m\n=== RUN   Test_state_getReleaseChartsInfo/test_case_4:_valid_chart_from_repo\n=== RUN   Test_state_getReleaseChartsInfo/test_case_5:_invalid_local_path_for_chart_ignored_with_-target_flag,_while_other_app_was_targeted\n=== RUN   Test_state_getReleaseChartsInfo/test_case_6:_invalid_local_path_for_chart_included_with_-target_flag\n\u001b[31m2023-01-06 09:32:09 ERROR: chart [ /tmp/does-not-exist/myapp ] version [  ] can't be found. If this is not a local chart, add the repo [ does-not-exist ] in your helmRepos stanza. Error output: Getting latest non-local chart's version /tmp/does-not-exist/myapp- failed with non-zero exit code 1: exit status 1\noutput: \n--- stdout ---\n\n--- stderr ---\nError: flag needs an argument: --version\u001b[0m\n=== RUN   Test_state_getReleaseChartsInfo/test_case_7:_multiple_valid_local_apps_with_the_same_chart_version\n=== CONT  Test_state_getReleaseChartsInfo\n    state_test.go:25: teardown test case\n--- PASS: Test_state_getReleaseChartsInfo (1.62s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_1:_valid_local_path_with_no_chart (0.05s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_2:_invalid_local_path (0.05s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_3:_valid_chart_local_path_with_whitespace (0.05s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_4:_valid_chart_from_repo (1.37s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_5:_invalid_local_path_for_chart_ignored_with_-target_flag,_while_other_app_was_targeted (0.00s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_6:_invalid_local_path_for_chart_included_with_-target_flag (0.04s)\n    --- PASS: Test_state_getReleaseChartsInfo/test_case_7:_multiple_valid_local_apps_with_the_same_chart_version (0.00s)\n=== RUN   TestGetEnv\n--- PASS: TestGetEnv (0.00s)\n=== RUN   TestOciRefToFilename\n=== RUN   TestOciRefToFilename/no_repo\n=== RUN   TestOciRefToFilename/two_colons\n=== RUN   TestOciRefToFilename/with_Host\n=== RUN   TestOciRefToFilename/full_url\n--- PASS: TestOciRefToFilename (0.00s)\n    --- PASS: TestOciRefToFilename/no_repo (0.00s)\n    --- PASS: TestOciRefToFilename/two_colons (0.00s)\n    --- PASS: TestOciRefToFilename/with_Host (0.00s)\n    --- PASS: TestOciRefToFilename/full_url (0.00s)\n=== RUN   Test_isOfType\n=== RUN   Test_isOfType/test_case_1_--_valid_xml_check\n=== RUN   Test_isOfType/test_case_2_--_valid_yaml_check\n=== RUN   Test_isOfType/test_case_3_--_valid_(short)_yaml_check\n=== RUN   Test_isOfType/test_case_4_--_invalid_yaml_check\n--- PASS: Test_isOfType (0.00s)\n    --- PASS: Test_isOfType/test_case_1_--_valid_xml_check (0.00s)\n    --- PASS: Test_isOfType/test_case_2_--_valid_yaml_check (0.00s)\n    --- PASS: Test_isOfType/test_case_3_--_valid_(short)_yaml_check (0.00s)\n    --- PASS: Test_isOfType/test_case_4_--_invalid_yaml_check (0.00s)\n=== RUN   Test_readFile\n=== RUN   Test_readFile/test_case_1_--_successful_reading.\n--- PASS: Test_readFile (0.00s)\n    --- PASS: Test_readFile/test_case_1_--_successful_reading. (0.00s)\n=== RUN   Test_eyamlSecrets\n=== RUN   Test_eyamlSecrets/decryptSecrets_-_valid_eyaml-based_secrets_decryption\n    utils_test.go:246: true\n\u001b[37m2023-01-06 09:32:09 INFO: Cleaning up... deleting ./../../tests/secrets/valid_eyaml_secrets.yaml.dec\u001b[0m\n=== RUN   Test_eyamlSecrets/decryptSecrets_-_not_existing_eyaml-based_secrets_file\n    utils_test.go:246: false\n=== RUN   Test_eyamlSecrets/decryptSecrets_-_not_existing_eyaml_key\n    utils_test.go:246: false\n--- PASS: Test_eyamlSecrets (1.30s)\n    --- PASS: Test_eyamlSecrets/decryptSecrets_-_valid_eyaml-based_secrets_decryption (0.63s)\n    --- PASS: Test_eyamlSecrets/decryptSecrets_-_not_existing_eyaml-based_secrets_file (0.33s)\n    --- PASS: Test_eyamlSecrets/decryptSecrets_-_not_existing_eyaml_key (0.34s)\nPASS\ncoverage: 37.3% of statements\nok  \tgithub.com/Praqma/helmsman/internal/app\t4.025s\tcoverage: 37.3% of statements\n?   \tgithub.com/Praqma/helmsman/internal/aws\t[no test files]\n?   \tgithub.com/Praqma/helmsman/internal/azure\t[no test files]\n?   \tgithub.com/Praqma/helmsman/internal/gcs\t[no test files]\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mRemoving intermediate container d444bb3223da\n","stderr":"The command '/bin/sh -c make test     && LastTag=$(git describe --abbrev=0 --tags)     && TAG=$LastTag-$(date +\"%d%m%y\")     && LT_SHA=$(git rev-parse ${LastTag}^{})     && LC_SHA=$(git rev-parse HEAD)     && if [ ${LT_SHA} != ${LC_SHA} ]; then TAG=latest-$(date +\"%d%m%y\"); fi     && make build' returned a non-zero code: 128\n"}}