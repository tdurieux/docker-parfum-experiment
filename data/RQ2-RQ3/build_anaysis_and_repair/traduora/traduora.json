{"repository":"https://github.com/traduora/traduora","dockerfilePath":"Dockerfile","startTime":1672478171631,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/traduora/traduora'...\n","error":null,"commit":"1e1a96d2c94b3c443877932a90c3042dbca4ab7e"},"originalBuild":{"startTimestamp":1672478173538,"endTimestamp":1672478421638,"error":null,"stdout":"Sending build context to Docker daemon   14.8MB\r\r\nStep 1/19 : FROM node:16-alpine3.11 as builder\n16-alpine3.11: Pulling from library/node\n6a428f9f83b0: Pulling fs layer\n3b99c7d83f4e: Pulling fs layer\n7aed112a7386: Pulling fs layer\n8a422bc4b94e: Pulling fs layer\n8a422bc4b94e: Waiting\n7aed112a7386: Verifying Checksum\n7aed112a7386: Download complete\n6a428f9f83b0: Verifying Checksum\n6a428f9f83b0: Download complete\n6a428f9f83b0: Pull complete\n3b99c7d83f4e: Verifying Checksum\n3b99c7d83f4e: Download complete\n8a422bc4b94e: Verifying Checksum\n8a422bc4b94e: Download complete\n3b99c7d83f4e: Pull complete\n7aed112a7386: Pull complete\n8a422bc4b94e: Pull complete\nDigest: sha256:3b2e5a8932729c0dc561c9242c9a3c51d2101bdaff879689678a3d7febe8d08f\nStatus: Downloaded newer image for node:16-alpine3.11\n ---> ef75ab605b08\nStep 2/19 : LABEL maintainer=\"ever@ever.co\"\n ---> Running in bb3cbdd51f4b\nRemoving intermediate container bb3cbdd51f4b\n ---> df43dffda68e\nStep 3/19 : ENV IS_DOCKER=true\n ---> Running in 7fb8f2230da7\nRemoving intermediate container 7fb8f2230da7\n ---> 43b72df9fa02\nStep 4/19 : RUN apk --update add bash &&     apk add --no-cache --virtual build-dependencies libgcc libstdc++ linux-headers dos2unix gcc g++ git make python2 py2-setuptools vips-dev\n ---> Running in 2ee96f879a0e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/4) Installing ncurses-libs (6.1_p20200118-r4)\n(3/4) Installing readline (8.0.1-r0)\n(4/4) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/89) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\n(2/89) Installing linux-headers (4.19.36-r0)\n(3/89) Installing dos2unix (7.4.1-r0)\n(4/89) Installing binutils (2.33.1-r1)\n(5/89) Installing gmp (6.1.2-r1)\n(6/89) Installing isl (0.18-r0)\n(7/89) Installing libgomp (9.3.0-r0)\n(8/89) Installing libatomic (9.3.0-r0)\n(9/89) Installing mpfr4 (4.0.2-r1)\n(10/89) Installing mpc1 (1.1.0-r1)\n(11/89) Installing gcc (9.3.0-r0)\n(12/89) Installing musl-dev (1.1.24-r3)\n(13/89) Installing libc-dev (0.7.2-r0)\n(14/89) Installing g++ (9.3.0-r0)\n(15/89) Installing ca-certificates (20191127-r2)\n(16/89) Installing nghttp2-libs (1.40.0-r1)\n(17/89) Installing libcurl (7.79.1-r0)\n(18/89) Installing expat (2.2.9-r1)\n(19/89) Installing pcre2 (10.34-r1)\n(20/89) Installing git (2.24.4-r0)\n(21/89) Installing make (4.2.1-r2)\n(22/89) Installing libbz2 (1.0.8-r1)\n(23/89) Installing libffi (3.2.1-r6)\n(24/89) Installing gdbm (1.13-r1)\n(25/89) Installing sqlite-libs (3.30.1-r2)\n(26/89) Installing python2 (2.7.18-r0)\n(27/89) Installing py-setuptools (42.0.2-r0)\n(28/89) Installing fftw-double-libs (3.3.8-r0)\n(29/89) Installing fftw-long-double-libs (3.3.8-r0)\n(30/89) Installing fftw-single-libs (3.3.8-r0)\n(31/89) Installing pkgconf (1.6.3-r0)\n(32/89) Installing fftw-dev (3.3.8-r0)\n(33/89) Installing xz-libs (5.2.4-r0)\n(34/89) Installing python3 (3.8.10-r0)\n(35/89) Installing py3-setuptools (42.0.2-r0)\n(36/89) Installing gettext-asprintf (0.20.1-r2)\n(37/89) Installing libintl (0.20.1-r2)\n(38/89) Installing libunistring (0.9.10-r0)\n(39/89) Installing gettext-libs (0.20.1-r2)\n(40/89) Installing libxml2 (2.9.12-r0)\n(41/89) Installing gettext (0.20.1-r2)\n(42/89) Installing gettext-dev (0.20.1-r2)\n(43/89) Installing bzip2-dev (1.0.8-r1)\n(44/89) Installing libxml2-utils (2.9.12-r0)\n(45/89) Installing libgpg-error (1.36-r2)\n(46/89) Installing libgcrypt (1.8.8-r1)\n(47/89) Installing libxslt (1.1.34-r0)\n(48/89) Installing docbook-xml (4.5-r6)\nExecuting docbook-xml-4.5-r6.post-install\n(49/89) Installing docbook-xsl (1.79.2-r2)\nExecuting docbook-xsl-1.79.2-r2.post-install\n(50/89) Installing libblkid (2.34-r1)\n(51/89) Installing libmount (2.34-r1)\n(52/89) Installing pcre (8.43-r1)\n(53/89) Installing glib (2.62.6-r0)\n(54/89) Installing libffi-dev (3.2.1-r6)\n(55/89) Installing libpcre16 (8.43-r1)\n(56/89) Installing libpcre32 (8.43-r1)\n(57/89) Installing libpcrecpp (8.43-r1)\n(58/89) Installing pcre-dev (8.43-r1)\n(59/89) Installing libuuid (2.34-r1)\n(60/89) Installing libfdisk (2.34-r1)\n(61/89) Installing libsmartcols (2.34-r1)\n(62/89) Installing util-linux-dev (2.34-r1)\n(63/89) Installing zlib-dev (1.2.11-r5)\n(64/89) Installing glib-dev (2.62.6-r0)\n(65/89) Installing libjpeg-turbo (2.0.4-r1)\n(66/89) Installing libjpeg-turbo-dev (2.0.4-r1)\n(67/89) Installing tiff (4.1.0-r0)\n(68/89) Installing libtiffxx (4.1.0-r0)\n(69/89) Installing tiff-dev (4.1.0-r0)\n(70/89) Installing lcms2 (2.9-r1)\n(71/89) Installing lcms2-dev (2.9-r1)\n(72/89) Installing libexif (0.6.22-r0)\n(73/89) Installing libexif-dev (0.6.22-r0)\n(74/89) Installing x265-libs (3.2.1-r0)\n(75/89) Installing x265-dev (3.2.1-r0)\n(76/89) Installing libde265 (1.0.3-r0)\n(77/89) Installing libde265-dev (1.0.3-r0)\n(78/89) Installing libheif (1.6.0-r0)\n(79/89) Installing libheif-dev (1.6.0-r0)\n(80/89) Installing libpng (1.6.37-r1)\n(81/89) Installing libpng-dev (1.6.37-r1)\n(82/89) Installing libwebp (1.0.3-r0)\n(83/89) Installing libwebp-dev (1.0.3-r0)\n(84/89) Installing orc (0.4.31-r0)\n(85/89) Installing orc-dev (0.4.31-r0)\n(86/89) Installing giflib (5.2.1-r0)\n(87/89) Installing vips (8.8.4-r0)\n(88/89) Installing vips-dev (8.8.4-r0)\n(89/89) Installing build-dependencies (20221231.091621)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nExecuting glib-2.62.6-r0.trigger\nNo schema files found: doing nothing.\nOK: 383 MiB in 108 packages\nRemoving intermediate container 2ee96f879a0e\n ---> bacab5503172\nStep 5/19 : RUN npm install --quiet node-gyp -g\n ---> Running in 3ac177f93028\n\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\nadded 95 packages, and audited 96 packages in 5s\n\n5 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.1.0 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 3ac177f93028\n ---> 13208bf3a37d\nStep 6/19 : COPY wait docker-entrypoint.compose.sh docker-entrypoint.sh /\n ---> b47c9d2fe082\nStep 7/19 : RUN chmod +x /wait /docker-entrypoint.compose.sh /docker-entrypoint.sh && dos2unix /docker-entrypoint.compose.sh && dos2unix /docker-entrypoint.sh\n ---> Running in 55b184feeb6c\n\u001b[91mdos2unix: converting file /docker-entrypoint.compose.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file /docker-entrypoint.sh to Unix format...\n\u001b[0mRemoving intermediate container 55b184feeb6c\n ---> e2932f794857\nStep 8/19 : WORKDIR /opt/traduora\n ---> Running in 836f69b58760\nRemoving intermediate container 836f69b58760\n ---> aa5597678e83\nStep 9/19 : COPY bin bin\n ---> bb560a5dfb39\nStep 10/19 : COPY api api\n ---> db4bf2a5ba7b\nStep 11/19 : COPY webapp webapp\n ---> 66e7c435212d\nStep 12/19 : RUN dos2unix bin/* && chmod +x bin/*.sh\n ---> Running in 8f0f8a5c97a5\n\u001b[91mdos2unix: converting file bin/build-docker.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/build.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/check.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/check_lint.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/docker-run.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/install-deps.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/release.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/start-dev.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/start.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/test.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/test_e2e.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/test_unit.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/version.sh to Unix format...\n\u001b[0mRemoving intermediate container 8f0f8a5c97a5\n ---> 13e4296090b1\nStep 13/19 : RUN bin/build.sh\n ---> Running in e7fbfb7abdf5\nyarn install v1.22.15\ninfo No lockfile found.\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 0.03s.\nyarn install v1.22.15\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\ninfo fsevents@2.3.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@2.3.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\ninfo fsevents@1.2.13: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.13\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\n\u001b[91mwarning \" > @ng-bootstrap/ng-bootstrap@10.0.0\" has incorrect peer dependency \"rxjs@^6.5.5\".\n\u001b[0m\u001b[91mwarning \" > bootstrap@4.6.0\" has unmet peer dependency \"jquery@1.9.1 - 3\".\nwarning \" > bootstrap@4.6.0\" has unmet peer dependency \"popper.js@^1.16.1\".\n\u001b[0m\u001b[91mwarning \" > karma-jasmine-html-reporter@1.7.0\" has unmet peer dependency \"karma-jasmine@>=1.1\".\n\u001b[0m[5/5] Building fresh packages...\nsuccess Saved lockfile.\n$ ngcc\nCompiling @angular/core : fesm2015 as esm2015\nCompiling @angular/animations : fesm2015 as esm2015\nCompiling @angular/compiler/testing : fesm2015 as esm2015\nCompiling @angular/animations : esm2015 as esm2015\nCompiling @angular/animations : main as umd\nCompiling @angular/compiler/testing : esm2015 as esm2015\nCompiling @angular/compiler/testing : main as umd\nCompiling @angular/common : fesm2015 as esm2015\nCompiling @angular/core/testing : fesm2015 as esm2015\nCompiling @angular/animations/browser : fesm2015 as esm2015\nCompiling @ngxs/store/internals : fesm2015 as esm2015\nCompiling @angular/core : esm2015 as esm2015\nCompiling @ngxs/store : fesm2015 as esm2015\nCompiling @angular/platform-browser : fesm2015 as esm2015\nCompiling @angular/router : fesm2015 as esm2015\nCompiling @angular/common/http : fesm2015 as esm2015\nCompiling @angular/platform-browser-dynamic : fesm2015 as esm2015\nCompiling @angular/platform-browser/testing : fesm2015 as esm2015\nCompiling @angular/common/testing : fesm2015 as esm2015\nCompiling @angular/forms : fesm2015 as esm2015\nCompiling @ngxs/devtools-plugin : fesm2015 as esm2015\nCompiling @ngxs/router-plugin : fesm2015 as esm2015\nCompiling @ngxs/store/operators : fesm2015 as esm2015\nCompiling @angular/animations/browser/testing : fesm2015 as esm2015\nCompiling @angular/common/http/testing : fesm2015 as esm2015\nCompiling @angular/platform-browser/animations : fesm2015 as esm2015\nCompiling @angular/platform-browser-dynamic/testing : fesm2015 as esm2015\nCompiling @angular/router/testing : fesm2015 as esm2015\nCompiling @ng-bootstrap/ng-bootstrap : fesm2015 as esm2015\nCompiling @angular/animations/browser : esm2015 as esm2015\nCompiling @angular/animations/browser : main as umd\nCompiling @angular/core : main as umd\nCompiling @angular/animations/browser/testing : esm2015 as esm2015\nCompiling @angular/animations/browser/testing : main as umd\nCompiling @angular/common : esm2015 as esm2015\nCompiling @angular/common : main as umd\nCompiling @angular/common/http : esm2015 as esm2015\nCompiling @angular/common/http : main as umd\nCompiling @angular/common/http/testing : esm2015 as esm2015\nCompiling @angular/common/http/testing : main as umd\nCompiling @angular/platform-browser : esm2015 as esm2015\nCompiling @angular/platform-browser : main as umd\nCompiling @angular/platform-browser/animations : esm2015 as esm2015\nCompiling @angular/platform-browser/animations : main as umd\nCompiling @angular/core/testing : esm2015 as esm2015\nCompiling @angular/platform-browser-dynamic : esm2015 as esm2015\nCompiling @angular/core/testing : main as umd\nCompiling @angular/platform-browser-dynamic : main as umd\nCompiling @angular/platform-browser/testing : esm2015 as esm2015\nCompiling @angular/platform-browser/testing : main as umd\nCompiling @angular/platform-browser-dynamic/testing : esm2015 as esm2015\nCompiling @angular/platform-browser-dynamic/testing : main as umd\nCompiling @angular/common/testing : esm2015 as esm2015\nCompiling @angular/common/testing : main as umd\nCompiling @angular/router : esm2015 as esm2015\nCompiling @angular/router/testing : esm2015 as esm2015\nCompiling @angular/router/testing : main as umd\nCompiling @angular/router : main as umd\nCompiling @angular/forms : esm2015 as esm2015\nCompiling @ng-bootstrap/ng-bootstrap : esm2015 as esm2015\nCompiling @angular/forms : main as umd\nCompiling @ng-bootstrap/ng-bootstrap : main as umd\nCompiling @ngxs/store/internals : fesm5 as esm5\nCompiling @ngxs/store/internals : esm2015 as esm2015\nCompiling @ngxs/store/internals : esm5 as esm5\nCompiling @ngxs/store/internals : main as umd\nCompiling @ngxs/store : fesm5 as esm5\nCompiling @ngxs/store : esm2015 as esm2015\nCompiling @ngxs/store : esm5 as esm5\nCompiling @ngxs/store : main as umd\nCompiling @ngxs/devtools-plugin : fesm5 as esm5\nCompiling @ngxs/devtools-plugin : esm2015 as esm2015\nCompiling @ngxs/devtools-plugin : esm5 as esm5\nCompiling @ngxs/devtools-plugin : main as umd\nCompiling @ngxs/router-plugin : fesm5 as esm5\nCompiling @ngxs/router-plugin : esm2015 as esm2015\nCompiling @ngxs/router-plugin : esm5 as esm5\nCompiling @ngxs/router-plugin : main as umd\nCompiling @ngxs/store/operators : fesm5 as esm5\nCompiling @ngxs/store/operators : esm2015 as esm2015\nCompiling @ngxs/store/operators : esm5 as esm5\nCompiling @ngxs/store/operators : main as umd\nDone in 44.47s.\nyarn install v1.22.15\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\ninfo fsevents@2.3.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@2.3.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\n\u001b[91mwarning \" > swagger-ui-express@4.3.0\" has unmet peer dependency \"express@>=4.0.0\".\n\u001b[0m[5/5] Building fresh packages...\nDone in 17.86s.\nyarn run v1.22.15\n$ ng build --prod\n\u001b[91mOption \"--prod\" is deprecated: Use \"--configuration production\" instead.\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Generating ES5 bundles for differential loading...\n\u001b[0m\u001b[91m✔ ES5 bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n- Generating index html...\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m1 rules skipped due to selector errors:\n  .custom-file-input:lang(en)~.custom-file-label -> unmatched pseudo-class :lang\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files                      | Names                |      Size\nmain-es5.a45b41e1d02750e5e56e.js         | main                 | 726.55 kB\nmain-es2015.a45b41e1d02750e5e56e.js      | main                 | 644.04 kB\nstyles.01bbf1914c416814cd7b.css          | styles               | 182.21 kB\npolyfills-es5.442bd51a4d5278b0eb27.js    | polyfills-es5        | 138.58 kB\npolyfills-es2015.75c88a06b6b33a0cb9f9.js | polyfills            |  44.74 kB\nruntime-es2015.3ae69b03ece2edffc2ba.js   | runtime              |   3.14 kB\nruntime-es5.3ae69b03ece2edffc2ba.js      | runtime              |   3.14 kB\n\n| Initial ES5 Total    |   1.03 MB\n| Initial ES2015 Total | 874.14 kB\n\nLazy Chunk Files                         | Names                |      Size\n72-es5.5cd208b4d425ced3f9a0.js           | -                    | 164.61 kB\n72-es2015.5cd208b4d425ced3f9a0.js        | -                    | 151.86 kB\n\nBuild at: 2022-12-31T09:18:36.391Z - Hash: 468a8cea732874115e1b - Time: 38181ms\nDone in 41.85s.\nyarn run v1.22.15\n$ tsc && copyfiles src/templates/**/* ../dist\nDone in 6.91s.\nRemoving intermediate container e7fbfb7abdf5\n ---> 9d173965a203\nStep 14/19 : FROM node:16-alpine3.11\n ---> ef75ab605b08\nStep 15/19 : WORKDIR /opt/traduora\n ---> Running in 8695e5e0fbd9\nRemoving intermediate container 8695e5e0fbd9\n ---> c512515f5285\nStep 16/19 : COPY --from=builder /wait /docker-entrypoint.sh /docker-entrypoint.compose.sh ./\n ---> 4625e789ff39\nStep 17/19 : COPY --from=builder /opt/traduora/dist/ /opt/traduora/\n ---> e99b1ece3459\nStep 18/19 : EXPOSE 8080\n ---> Running in 1ffa2e1da0fd\nRemoving intermediate container 1ffa2e1da0fd\n ---> 27e3294a00d0\nStep 19/19 : ENTRYPOINT [ \"./docker-entrypoint.sh\" ]\n ---> Running in 8a6066ab668a\nRemoving intermediate container 8a6066ab668a\n ---> b49eb6152f19\nSuccessfully built b49eb6152f19\nSuccessfully tagged traduora:latest\n","stderr":"","imageSize":388416652},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":35}},{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"# Build stage\nFROM node:16-alpine3.11 as builder\n\nLABEL maintainer=\"ever@ever.co\"\n\nENV IS_DOCKER=true\n\nRUN apk --update --no-cache add bash && \\\n    apk add --no-cache --virtual build-dependencies libgcc libstdc++ linux-headers dos2unix gcc g++ git make python2 py2-setuptools vips-dev\n\nRUN npm install --quiet node-gyp -g\n\nCOPY wait docker-entrypoint.compose.sh docker-entrypoint.sh /\n\nRUN chmod +x /wait /docker-entrypoint.compose.sh /docker-entrypoint.sh && dos2unix /docker-entrypoint.compose.sh && dos2unix /docker-entrypoint.sh\n\nWORKDIR /opt/traduora\n\nCOPY bin bin\nCOPY api api\nCOPY webapp webapp\n\nRUN dos2unix bin/* && chmod +x bin/*.sh\n\nRUN bin/build.sh\n\n# Runtime stage\nFROM node:16-alpine3.11\n\nWORKDIR /opt/traduora\n\nCOPY --from=builder /wait /docker-entrypoint.sh /docker-entrypoint.compose.sh ./\n\nCOPY --from=builder /opt/traduora/dist/ /opt/traduora/\n\nEXPOSE 8080\n\nENTRYPOINT [ \"./docker-entrypoint.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672478422303,"endTimestamp":1672478669391,"error":null,"stdout":"Sending build context to Docker daemon   14.8MB\r\r\nStep 1/19 : FROM node:16-alpine3.11 as builder\n ---> ef75ab605b08\nStep 2/19 : LABEL maintainer=\"ever@ever.co\"\n ---> Running in d047e02480b4\nRemoving intermediate container d047e02480b4\n ---> cef41be003d6\nStep 3/19 : ENV IS_DOCKER=true\n ---> Running in c00f51de611c\nRemoving intermediate container c00f51de611c\n ---> b99dda873dc6\nStep 4/19 : RUN apk --update --no-cache add bash &&     apk add --no-cache --virtual build-dependencies libgcc libstdc++ linux-headers dos2unix gcc g++ git make python2 py2-setuptools vips-dev\n ---> Running in 938133216dc4\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(2/4) Installing ncurses-libs (6.1_p20200118-r4)\n(3/4) Installing readline (8.0.1-r0)\n(4/4) Installing bash (5.0.11-r1)\nExecuting bash-5.0.11-r1.post-install\nExecuting busybox-1.31.1-r10.trigger\nOK: 9 MiB in 20 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/89) Upgrading zlib (1.2.11-r3 -> 1.2.11-r5)\n(2/89) Installing linux-headers (4.19.36-r0)\n(3/89) Installing dos2unix (7.4.1-r0)\n(4/89) Installing binutils (2.33.1-r1)\n(5/89) Installing gmp (6.1.2-r1)\n(6/89) Installing isl (0.18-r0)\n(7/89) Installing libgomp (9.3.0-r0)\n(8/89) Installing libatomic (9.3.0-r0)\n(9/89) Installing mpfr4 (4.0.2-r1)\n(10/89) Installing mpc1 (1.1.0-r1)\n(11/89) Installing gcc (9.3.0-r0)\n(12/89) Installing musl-dev (1.1.24-r3)\n(13/89) Installing libc-dev (0.7.2-r0)\n(14/89) Installing g++ (9.3.0-r0)\n(15/89) Installing ca-certificates (20191127-r2)\n(16/89) Installing nghttp2-libs (1.40.0-r1)\n(17/89) Installing libcurl (7.79.1-r0)\n(18/89) Installing expat (2.2.9-r1)\n(19/89) Installing pcre2 (10.34-r1)\n(20/89) Installing git (2.24.4-r0)\n(21/89) Installing make (4.2.1-r2)\n(22/89) Installing libbz2 (1.0.8-r1)\n(23/89) Installing libffi (3.2.1-r6)\n(24/89) Installing gdbm (1.13-r1)\n(25/89) Installing sqlite-libs (3.30.1-r2)\n(26/89) Installing python2 (2.7.18-r0)\n(27/89) Installing py-setuptools (42.0.2-r0)\n(28/89) Installing fftw-double-libs (3.3.8-r0)\n(29/89) Installing fftw-long-double-libs (3.3.8-r0)\n(30/89) Installing fftw-single-libs (3.3.8-r0)\n(31/89) Installing pkgconf (1.6.3-r0)\n(32/89) Installing fftw-dev (3.3.8-r0)\n(33/89) Installing xz-libs (5.2.4-r0)\n(34/89) Installing python3 (3.8.10-r0)\n(35/89) Installing py3-setuptools (42.0.2-r0)\n(36/89) Installing gettext-asprintf (0.20.1-r2)\n(37/89) Installing libintl (0.20.1-r2)\n(38/89) Installing libunistring (0.9.10-r0)\n(39/89) Installing gettext-libs (0.20.1-r2)\n(40/89) Installing libxml2 (2.9.12-r0)\n(41/89) Installing gettext (0.20.1-r2)\n(42/89) Installing gettext-dev (0.20.1-r2)\n(43/89) Installing bzip2-dev (1.0.8-r1)\n(44/89) Installing libxml2-utils (2.9.12-r0)\n(45/89) Installing libgpg-error (1.36-r2)\n(46/89) Installing libgcrypt (1.8.8-r1)\n(47/89) Installing libxslt (1.1.34-r0)\n(48/89) Installing docbook-xml (4.5-r6)\nExecuting docbook-xml-4.5-r6.post-install\n(49/89) Installing docbook-xsl (1.79.2-r2)\nExecuting docbook-xsl-1.79.2-r2.post-install\n(50/89) Installing libblkid (2.34-r1)\n(51/89) Installing libmount (2.34-r1)\n(52/89) Installing pcre (8.43-r1)\n(53/89) Installing glib (2.62.6-r0)\n(54/89) Installing libffi-dev (3.2.1-r6)\n(55/89) Installing libpcre16 (8.43-r1)\n(56/89) Installing libpcre32 (8.43-r1)\n(57/89) Installing libpcrecpp (8.43-r1)\n(58/89) Installing pcre-dev (8.43-r1)\n(59/89) Installing libuuid (2.34-r1)\n(60/89) Installing libfdisk (2.34-r1)\n(61/89) Installing libsmartcols (2.34-r1)\n(62/89) Installing util-linux-dev (2.34-r1)\n(63/89) Installing zlib-dev (1.2.11-r5)\n(64/89) Installing glib-dev (2.62.6-r0)\n(65/89) Installing libjpeg-turbo (2.0.4-r1)\n(66/89) Installing libjpeg-turbo-dev (2.0.4-r1)\n(67/89) Installing tiff (4.1.0-r0)\n(68/89) Installing libtiffxx (4.1.0-r0)\n(69/89) Installing tiff-dev (4.1.0-r0)\n(70/89) Installing lcms2 (2.9-r1)\n(71/89) Installing lcms2-dev (2.9-r1)\n(72/89) Installing libexif (0.6.22-r0)\n(73/89) Installing libexif-dev (0.6.22-r0)\n(74/89) Installing x265-libs (3.2.1-r0)\n(75/89) Installing x265-dev (3.2.1-r0)\n(76/89) Installing libde265 (1.0.3-r0)\n(77/89) Installing libde265-dev (1.0.3-r0)\n(78/89) Installing libheif (1.6.0-r0)\n(79/89) Installing libheif-dev (1.6.0-r0)\n(80/89) Installing libpng (1.6.37-r1)\n(81/89) Installing libpng-dev (1.6.37-r1)\n(82/89) Installing libwebp (1.0.3-r0)\n(83/89) Installing libwebp-dev (1.0.3-r0)\n(84/89) Installing orc (0.4.31-r0)\n(85/89) Installing orc-dev (0.4.31-r0)\n(86/89) Installing giflib (5.2.1-r0)\n(87/89) Installing vips (8.8.4-r0)\n(88/89) Installing vips-dev (8.8.4-r0)\n(89/89) Installing build-dependencies (20221231.092024)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nExecuting glib-2.62.6-r0.trigger\nNo schema files found: doing nothing.\nOK: 383 MiB in 108 packages\nRemoving intermediate container 938133216dc4\n ---> 6ba4977874a1\nStep 5/19 : RUN npm install --quiet node-gyp -g\n ---> Running in 7197b6c8bd59\n\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\nadded 95 packages, and audited 96 packages in 7s\n\n5 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \n\u001b[0m\u001b[91mnpm notice New major version of npm available! 8.1.0 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 7197b6c8bd59\n ---> 0f66b5eb4cb6\nStep 6/19 : COPY wait docker-entrypoint.compose.sh docker-entrypoint.sh /\n ---> d93724a79a74\nStep 7/19 : RUN chmod +x /wait /docker-entrypoint.compose.sh /docker-entrypoint.sh && dos2unix /docker-entrypoint.compose.sh && dos2unix /docker-entrypoint.sh\n ---> Running in 7fb01c1ce1e8\n\u001b[91mdos2unix: converting file /docker-entrypoint.compose.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file /docker-entrypoint.sh to Unix format...\n\u001b[0mRemoving intermediate container 7fb01c1ce1e8\n ---> ebd268e76ffc\nStep 8/19 : WORKDIR /opt/traduora\n ---> Running in 4891c1e2f46f\nRemoving intermediate container 4891c1e2f46f\n ---> 0dae959976f5\nStep 9/19 : COPY bin bin\n ---> 4c135a7811dc\nStep 10/19 : COPY api api\n ---> 646d402aebaf\nStep 11/19 : COPY webapp webapp\n ---> 2ea42e9cc2a7\nStep 12/19 : RUN dos2unix bin/* && chmod +x bin/*.sh\n ---> Running in a458088a880e\n\u001b[91mdos2unix: converting file bin/build-docker.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/build.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/check.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/check_lint.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/docker-run.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/install-deps.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/release.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/start-dev.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/start.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/test.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/test_e2e.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/test_unit.sh to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file bin/version.sh to Unix format...\n\u001b[0mRemoving intermediate container a458088a880e\n ---> 594340f674c0\nStep 13/19 : RUN bin/build.sh\n ---> Running in 5455ba5f4408\nyarn install v1.22.15\ninfo No lockfile found.\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 0.07s.\nyarn install v1.22.15\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\ninfo fsevents@2.3.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@2.3.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\ninfo fsevents@1.2.13: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.13\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\n\u001b[91mwarning \" > @ng-bootstrap/ng-bootstrap@10.0.0\" has incorrect peer dependency \"rxjs@^6.5.5\".\n\u001b[0m\u001b[91mwarning \" > bootstrap@4.6.0\" has unmet peer dependency \"jquery@1.9.1 - 3\".\nwarning \" > bootstrap@4.6.0\" has unmet peer dependency \"popper.js@^1.16.1\".\n\u001b[0m\u001b[91mwarning \" > karma-jasmine-html-reporter@1.7.0\" has unmet peer dependency \"karma-jasmine@>=1.1\".\n\u001b[0m[5/5] Building fresh packages...\nsuccess Saved lockfile.\n$ ngcc\nCompiling @angular/core : fesm2015 as esm2015\nCompiling @angular/animations : fesm2015 as esm2015\nCompiling @angular/compiler/testing : fesm2015 as esm2015\nCompiling @angular/animations : esm2015 as esm2015\nCompiling @angular/animations : main as umd\nCompiling @angular/compiler/testing : esm2015 as esm2015\nCompiling @angular/compiler/testing : main as umd\nCompiling @angular/core/testing : fesm2015 as esm2015\nCompiling @angular/animations/browser : fesm2015 as esm2015\nCompiling @ngxs/store/internals : fesm2015 as esm2015\nCompiling @angular/common : fesm2015 as esm2015\nCompiling @angular/platform-browser : fesm2015 as esm2015\nCompiling @ngxs/store : fesm2015 as esm2015\nCompiling @angular/router : fesm2015 as esm2015\nCompiling @angular/common/http : fesm2015 as esm2015\nCompiling @angular/platform-browser-dynamic : fesm2015 as esm2015\nCompiling @angular/platform-browser/testing : fesm2015 as esm2015\nCompiling @angular/common/testing : fesm2015 as esm2015\nCompiling @angular/forms : fesm2015 as esm2015\nCompiling @ngxs/devtools-plugin : fesm2015 as esm2015\nCompiling @ngxs/router-plugin : fesm2015 as esm2015\nCompiling @ngxs/store/operators : fesm2015 as esm2015\nCompiling @angular/animations/browser/testing : fesm2015 as esm2015\nCompiling @angular/common/http/testing : fesm2015 as esm2015\nCompiling @angular/platform-browser/animations : fesm2015 as esm2015\nCompiling @angular/platform-browser-dynamic/testing : fesm2015 as esm2015\nCompiling @angular/router/testing : fesm2015 as esm2015\nCompiling @ng-bootstrap/ng-bootstrap : fesm2015 as esm2015\nCompiling @angular/core : esm2015 as esm2015\nCompiling @angular/animations/browser : esm2015 as esm2015\nCompiling @angular/core : main as umd\nCompiling @angular/animations/browser : main as umd\nCompiling @angular/animations/browser/testing : esm2015 as esm2015\nCompiling @angular/animations/browser/testing : main as umd\nCompiling @angular/common : esm2015 as esm2015\nCompiling @angular/common/http : esm2015 as esm2015\nCompiling @angular/common : main as umd\nCompiling @angular/common/http : main as umd\nCompiling @angular/common/http/testing : esm2015 as esm2015\nCompiling @angular/common/http/testing : main as umd\nCompiling @angular/platform-browser : esm2015 as esm2015\nCompiling @angular/platform-browser : main as umd\nCompiling @angular/platform-browser/animations : esm2015 as esm2015\nCompiling @angular/platform-browser/animations : main as umd\nCompiling @angular/core/testing : esm2015 as esm2015\nCompiling @angular/core/testing : main as umd\nCompiling @angular/platform-browser-dynamic : esm2015 as esm2015\nCompiling @angular/platform-browser-dynamic : main as umd\nCompiling @angular/platform-browser/testing : esm2015 as esm2015\nCompiling @angular/platform-browser/testing : main as umd\nCompiling @angular/platform-browser-dynamic/testing : esm2015 as esm2015\nCompiling @angular/platform-browser-dynamic/testing : main as umd\nCompiling @angular/common/testing : esm2015 as esm2015\nCompiling @angular/common/testing : main as umd\nCompiling @angular/router : esm2015 as esm2015\nCompiling @angular/router/testing : esm2015 as esm2015\nCompiling @angular/router/testing : main as umd\nCompiling @angular/router : main as umd\nCompiling @angular/forms : esm2015 as esm2015\nCompiling @ng-bootstrap/ng-bootstrap : esm2015 as esm2015\nCompiling @angular/forms : main as umd\nCompiling @ngxs/store/internals : fesm5 as esm5\nCompiling @ng-bootstrap/ng-bootstrap : main as umd\nCompiling @ngxs/store/internals : esm2015 as esm2015\nCompiling @ngxs/store/internals : esm5 as esm5\nCompiling @ngxs/store/internals : main as umd\nCompiling @ngxs/store : fesm5 as esm5\nCompiling @ngxs/store : esm2015 as esm2015\nCompiling @ngxs/store : esm5 as esm5\nCompiling @ngxs/store : main as umd\nCompiling @ngxs/devtools-plugin : fesm5 as esm5\nCompiling @ngxs/devtools-plugin : esm2015 as esm2015\nCompiling @ngxs/devtools-plugin : esm5 as esm5\nCompiling @ngxs/devtools-plugin : main as umd\nCompiling @ngxs/router-plugin : fesm5 as esm5\nCompiling @ngxs/router-plugin : esm2015 as esm2015\nCompiling @ngxs/router-plugin : esm5 as esm5\nCompiling @ngxs/router-plugin : main as umd\nCompiling @ngxs/store/operators : fesm5 as esm5\nCompiling @ngxs/store/operators : esm2015 as esm2015\nCompiling @ngxs/store/operators : esm5 as esm5\nCompiling @ngxs/store/operators : main as umd\nDone in 43.28s.\nyarn install v1.22.15\n[1/5] Validating package.json...\n[2/5] Resolving packages...\n[3/5] Fetching packages...\ninfo fsevents@2.3.2: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@2.3.2\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\n\u001b[91mwarning \" > swagger-ui-express@4.3.0\" has unmet peer dependency \"express@>=4.0.0\".\n\u001b[0m[5/5] Building fresh packages...\nDone in 11.53s.\nyarn run v1.22.15\n$ ng build --prod\n\u001b[91mOption \"--prod\" is deprecated: Use \"--configuration production\" instead.\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Generating ES5 bundles for differential loading...\n\u001b[0m\u001b[91m✔ ES5 bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m1 rules skipped due to selector errors:\n  .custom-file-input:lang(en)~.custom-file-label -> unmatched pseudo-class :lang\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files                      | Names                |      Size\nmain-es5.a45b41e1d02750e5e56e.js         | main                 | 726.55 kB\nmain-es2015.a45b41e1d02750e5e56e.js      | main                 | 644.04 kB\nstyles.01bbf1914c416814cd7b.css          | styles               | 182.21 kB\npolyfills-es5.442bd51a4d5278b0eb27.js    | polyfills-es5        | 138.58 kB\npolyfills-es2015.75c88a06b6b33a0cb9f9.js | polyfills            |  44.74 kB\nruntime-es2015.3ae69b03ece2edffc2ba.js   | runtime              |   3.14 kB\nruntime-es5.3ae69b03ece2edffc2ba.js      | runtime              |   3.14 kB\n\n| Initial ES5 Total    |   1.03 MB\n| Initial ES2015 Total | 874.14 kB\n\nLazy Chunk Files                         | Names                |      Size\n72-es5.5cd208b4d425ced3f9a0.js           | -                    | 164.61 kB\n72-es2015.5cd208b4d425ced3f9a0.js        | -                    | 151.86 kB\n\nBuild at: 2022-12-31T09:22:32.996Z - Hash: 468a8cea732874115e1b - Time: 38055ms\nDone in 41.79s.\nyarn run v1.22.15\n$ tsc && copyfiles src/templates/**/* ../dist\nDone in 6.89s.\nRemoving intermediate container 5455ba5f4408\n ---> 5195c42f9b1c\nStep 14/19 : FROM node:16-alpine3.11\n ---> ef75ab605b08\nStep 15/19 : WORKDIR /opt/traduora\n ---> Running in 5c4d52930208\nRemoving intermediate container 5c4d52930208\n ---> c9ae7369cb47\nStep 16/19 : COPY --from=builder /wait /docker-entrypoint.sh /docker-entrypoint.compose.sh ./\n ---> 1763904bb6ea\nStep 17/19 : COPY --from=builder /opt/traduora/dist/ /opt/traduora/\n ---> aae7a92a3109\nStep 18/19 : EXPOSE 8080\n ---> Running in fa4a7b6c90d0\nRemoving intermediate container fa4a7b6c90d0\n ---> 583d8da3ca38\nStep 19/19 : ENTRYPOINT [ \"./docker-entrypoint.sh\" ]\n ---> Running in f3a2697878ee\nRemoving intermediate container f3a2697878ee\n ---> 4c31f5740196\nSuccessfully built 4c31f5740196\nSuccessfully tagged traduora:latest\n","stderr":"","imageSize":388416652},"endTime":1672478669969}