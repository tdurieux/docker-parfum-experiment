{"repository":"https://github.com/forceu/gokapi","dockerfilePath":"Dockerfile","startTime":1672881334442,"endTime":1672881509666,"clone":{"startTime":1672881334443,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/forceu/gokapi'...\n","error":null,"endTime":1672881335621,"commit":"74b5d3572a041709fb299ed41a1e17fd5ba4ac87"},"originalBuild":{"startTime":1672881335716,"endTime":1672881429462,"error":null,"stdout":"Sending build context to Docker daemon  16.53MB\r\r\nStep 1/11 : FROM golang:1.19 AS build_base\n1.19: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19\n ---> 6650307efe4a\nStep 2/11 : RUN mkdir /compile\n ---> Running in 41e07da2c929\nRemoving intermediate container 41e07da2c929\n ---> b34fcebeed47\nStep 3/11 : COPY go.mod /compile\n ---> cdd7b8e4da5d\nStep 4/11 : RUN cd /compile && go mod download\n ---> Running in a59df02c5124\nRemoving intermediate container a59df02c5124\n ---> 7bb16862b9d6\nStep 5/11 : COPY . /compile\n ---> 0e4fdba4c210\nStep 6/11 : RUN cd /compile && go generate ./... && CGO_ENABLED=0 go build -ldflags=\"-s -w -X 'github.com/forceu/gokapi/internal/environment.IsDocker=true' -X 'github.com/forceu/gokapi/internal/environment.Builder=Project Docker File' -X 'github.com/forceu/gokapi/internal/environment.BuildTime=$(date)'\" -o /compile/gokapi github.com/forceu/gokapi/cmd/gokapi\n ---> Running in 0e2f2eee7de5\nSet version in web template\nCopied wasm_exec.js\nCompiled Downloader WASM module\nCompiled E2E WASM module\nCopied go.mod to Docker build directory\nCopied openapi.json\nRemoving intermediate container 0e2f2eee7de5\n ---> 14cdc750e80e\nStep 7/11 : FROM alpine:3.13\n3.13: Pulling from library/alpine\n72cfd02ff4d0: Pulling fs layer\n72cfd02ff4d0: Verifying Checksum\n72cfd02ff4d0: Download complete\n72cfd02ff4d0: Pull complete\nDigest: sha256:469b6e04ee185740477efa44ed5bdd64a07bbdd6c7e5f5d169e540889597b911\nStatus: Downloaded newer image for alpine:3.13\n ---> 6b5c5e00213a\nStep 8/11 : RUN apk add ca-certificates && mkdir /app && touch /app/.isdocker\n ---> Running in 8b4fbd328280\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.32.1-r9.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 8b4fbd328280\n ---> c1cb94047817\nStep 9/11 : COPY --from=build_base /compile/gokapi /app/gokapi\n ---> 47643048cf8c\nStep 10/11 : WORKDIR /app\n ---> Running in 0b16dd9454c9\nRemoving intermediate container 0b16dd9454c9\n ---> c0ef4d168428\nStep 11/11 : CMD [\"/app/gokapi\"]\n ---> Running in 481bf5e3d205\nRemoving intermediate container 481bf5e3d205\n ---> d09272271c29\nSuccessfully built d09272271c29\nSuccessfully tagged gokapi:latest\n","stderr":"","imageSize":48226817},"repair":{"startTime":1672881429529,"endTime":1672881429606,"violations":[{"name":"apkAddUseNoCache","position":{"start":17,"end":17,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"FROM golang:1.19 AS build_base\n\n## Usage:\n## docker build . -t gokapi\n## docker run -it -v gokapi-data:/app/data -v gokapi-config:/app/config -p 127.0.0.1:53842:53842 gokapi\n\nRUN mkdir /compile\nCOPY go.mod /compile\nRUN cd /compile && go mod download\n\nCOPY . /compile \n\nRUN cd /compile && go generate ./... && CGO_ENABLED=0 go build -ldflags=\"-s -w -X 'github.com/forceu/gokapi/internal/environment.IsDocker=true' -X 'github.com/forceu/gokapi/internal/environment.Builder=Project Docker File' -X 'github.com/forceu/gokapi/internal/environment.BuildTime=$(date)'\" -o /compile/gokapi github.com/forceu/gokapi/cmd/gokapi\n\nFROM alpine:3.13\n\n\nRUN apk add --no-cache ca-certificates && mkdir /app && touch /app/.isdocker\nCOPY --from=build_base /compile/gokapi /app/gokapi\nWORKDIR /app\n\nCMD [\"/app/gokapi\"]\n"},"repairedBuild":{"startTime":1672881429724,"endTime":1672881509401,"error":null,"stdout":"Sending build context to Docker daemon  16.53MB\r\r\nStep 1/11 : FROM golang:1.19 AS build_base\n ---> 6650307efe4a\nStep 2/11 : RUN mkdir /compile\n ---> Running in a60a1498b283\nRemoving intermediate container a60a1498b283\n ---> c99985c80271\nStep 3/11 : COPY go.mod /compile\n ---> 15583f50f853\nStep 4/11 : RUN cd /compile && go mod download\n ---> Running in be78a84b8526\nRemoving intermediate container be78a84b8526\n ---> 645e9bce5826\nStep 5/11 : COPY . /compile\n ---> 2d24e1d129d1\nStep 6/11 : RUN cd /compile && go generate ./... && CGO_ENABLED=0 go build -ldflags=\"-s -w -X 'github.com/forceu/gokapi/internal/environment.IsDocker=true' -X 'github.com/forceu/gokapi/internal/environment.Builder=Project Docker File' -X 'github.com/forceu/gokapi/internal/environment.BuildTime=$(date)'\" -o /compile/gokapi github.com/forceu/gokapi/cmd/gokapi\n ---> Running in 5c9608d3b6f5\nSet version in web template\nCopied wasm_exec.js\nCompiled Downloader WASM module\nCompiled E2E WASM module\nCopied go.mod to Docker build directory\nCopied openapi.json\nRemoving intermediate container 5c9608d3b6f5\n ---> d8b8182ece0d\nStep 7/11 : FROM alpine:3.13\n ---> 6b5c5e00213a\nStep 8/11 : RUN apk add --no-cache ca-certificates && mkdir /app && touch /app/.isdocker\n ---> Running in 44ceece990c5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r0)\nExecuting busybox-1.32.1-r9.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 44ceece990c5\n ---> 7a22c2dc2915\nStep 9/11 : COPY --from=build_base /compile/gokapi /app/gokapi\n ---> 8ca0a3e5f531\nStep 10/11 : WORKDIR /app\n ---> Running in 7cda3988f064\nRemoving intermediate container 7cda3988f064\n ---> a622b0f49f23\nStep 11/11 : CMD [\"/app/gokapi\"]\n ---> Running in 0aa10b05deec\nRemoving intermediate container 0aa10b05deec\n ---> 5809ae457ad1\nSuccessfully built 5809ae457ad1\nSuccessfully tagged gokapi:latest\n","stderr":"","imageSize":46238608}}