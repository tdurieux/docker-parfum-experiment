{"repository":"https://github.com/webkom/lego-webapp","dockerfilePath":"Dockerfile","startTime":1673167588678,"endTime":1673168036175,"clone":{"startTime":1673167588680,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/webkom/lego-webapp'...\n","error":null,"endTime":1673167590408,"commit":"031ef8d27590b2bdf40e3cfb5472f9b75c9e57a9"},"originalBuild":{"startTime":1673167590492,"endTime":1673168036101,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t lego-webapp:latest -f /tmp/dinghy-analysis/webkom/lego-webapp/Dockerfile ."},"stdout":"Sending build context to Docker daemon  15.23MB\r\r\nStep 1/38 : FROM node:16-alpine as builder\n ---> 610c0494e820\nStep 2/38 : WORKDIR /app/\n ---> Running in e59345da7bfd\nRemoving intermediate container e59345da7bfd\n ---> b4671f92e96a\nStep 3/38 : COPY . /app\n ---> 184d7a3769a3\nStep 4/38 : RUN apk add curl\n ---> Running in 07679c228481\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20220614-r3)\n(2/5) Installing brotli-libs (1.0.9-r9)\n(3/5) Installing nghttp2-libs (1.51.0-r0)\n(4/5) Installing libcurl (7.87.0-r0)\n(5/5) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 12 MiB in 22 packages\nRemoving intermediate container 07679c228481\n ---> 5ff49b7f932d\nStep 5/38 : RUN yarn\n ---> Running in fabbf24caebb\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > @webkom/lego-editor@2.0.3\" has incorrect peer dependency \"react@^18.2.0\".\n\u001b[0m\u001b[91mwarning \" > @webkom/lego-editor@2.0.3\" has incorrect peer dependency \"react-dom@^18.2.0\".\n\u001b[0m\u001b[91mwarning \" > @webkom/react-prepare@1.0.0\" has incorrect peer dependency \"react@^16.8.2 | ^17.0.0 | ^18.0.0\".\nwarning \" > connected-react-router@6.9.3\" has unmet peer dependency \"history@^4.7.2\".\n\u001b[0m\u001b[91mwarning \" > connected-react-router@6.9.3\" has incorrect peer dependency \"react-redux@^6.0.0 || ^7.1.0\".\n\u001b[0m\u001b[91mwarning \" > connected-react-router@6.9.3\" has unmet peer dependency \"react-router@^4.3.1 || ^5.0.0\".\n\u001b[0m\u001b[91mwarning \" > react-turnstile@1.0.6\" has incorrect peer dependency \"react@>= 17.0.0\".\n\u001b[0m\u001b[91mwarning \" > react-turnstile@1.0.6\" has incorrect peer dependency \"react-dom@>= 17.0.0\".\n\u001b[0m\u001b[91mwarning \" > redux-form@8.3.9\" has incorrect peer dependency \"react-redux@^6.0.1 || ^7.0.0\".\n\u001b[0m\u001b[91mwarning \" > @typescript-eslint/eslint-plugin@5.48.0\" has unmet peer dependency \"@typescript-eslint/parser@^5.0.0\".\n\u001b[0m\u001b[91mwarning \"eslint-config-react-app > eslint-plugin-flowtype@8.0.3\" has unmet peer dependency \"@babel/plugin-syntax-flow@^7.14.5\".\nwarning \"eslint-config-react-app > eslint-plugin-flowtype@8.0.3\" has unmet peer dependency \"@babel/plugin-transform-react-jsx@^7.14.9\".\n\u001b[0m\u001b[91mwarning \" > webpack-filter-warnings-plugin@1.2.1\" has incorrect peer dependency \"webpack@^2.0.0 || ^3.0.0 || ^4.0.0\".\n\u001b[0m[4/4] Building fresh packages...\n$ yarn run build:dll\nyarn run v1.22.19\n$ BUILDING_DLL=true webpack --color --config config/webpack.dll.js\nasset \u001b[1m\u001b[32mvendors.dll.js\u001b[39m\u001b[22m 16.2 MiB \u001b[1m\u001b[32m[emitted]\u001b[39m\u001b[22m (name: vendors)\nchunk (runtime: vendors) \u001b[1m\u001b[32mvendors.dll.js\u001b[39m\u001b[22m (vendors) 2.83 KiB (runtime) 12.9 MiB (javascript) \u001b[1m\u001b[33m[entry]\u001b[39m\u001b[22m \u001b[1m\u001b[32m[rendered]\u001b[39m\u001b[22m\n  dependent modules 12.9 MiB \u001b[1m\u001b[36m[dependent]\u001b[39m\u001b[22m 2968 modules\n  runtime modules 2.83 KiB 10 modules\n  \u001b[1mdll vendors\u001b[39m\u001b[22m 12 bytes \u001b[1m\u001b[33m[built]\u001b[39m\u001b[22m \u001b[1m\u001b[33m[code generated]\u001b[39m\u001b[22m\nwebpack 5.75.0 compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 6475 ms\nDone in 7.34s.\nDone in 76.15s.\nRemoving intermediate container fabbf24caebb\n ---> 6781846a15c2\nStep 6/38 : ENV NODE_ENV production\n ---> Running in cb2f339bd27a\nRemoving intermediate container cb2f339bd27a\n ---> 7be1b9956fa2\nStep 7/38 : RUN yarn build\n ---> Running in 95abc72e47c3\nyarn run v1.22.19\n$ concurrently \"yarn run build:server\" \"yarn run build:client\"\n[1] $ webpack --config config/webpack.client.js --mode=production\n[0] $ webpack --config config/webpack.server.js --mode=production\n[0] assets by info 11.3 MiB [immutable]\n[0]   assets by path *.png 1.81 MiB\n[0]     asset fa60fac19a5deb240e84.png 819 KiB [emitted] [immutable] [from: app/assets/logos-donts.png] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]     asset 5c3185a787083623adb4.png 348 KiB [emitted] [immutable] [from: app/assets/frame.png] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]     asset 45b8e04fc7022ab64c11.png 331 KiB [emitted] [immutable] [from: app/assets/om-abakus-banner.png] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]     asset 1f05e281e23936a0dfc8.png 113 KiB [emitted] [immutable] [from: app/assets/om-abakus-banner-dark-mode.png] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]     + 6 assets\n[0]   assets by path *.ttf 8.96 MiB\n[0]     asset a10340ceb228c90cbeb6.ttf 8.95 MiB [emitted] [immutable] [from: app/assets/fonts/NotoColorEmoji.ttf] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]     asset 96e5bb456e45271f5a71.ttf 9.84 KiB [emitted] [immutable] [from: app/assets/fonts/c64.ttf] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]   asset c2bd9cd4b22ff17d91c4.jpg 280 KiB [emitted] [immutable] [from: app/assets/default-album-cover.jpg] (auxiliary name: server) (auxiliary id hint: vendors)\n[0]   asset server.dc4f943ac4fcd2e7f899.css 261 KiB [emitted] [immutable] (name: server) (id hint: vendors) 1 related asset\n[0]   asset 1525631b22a0fc0a086e.mp3 11 KiB [emitted] [immutable] [from: app/assets/good-sound.mp3] (auxiliary name: server) (auxiliary id hint: vendors)\n[0] asset server.js 3.91 MiB [emitted] (name: server) (id hint: vendors) 1 related asset\n[0] asset manifest.json 898 bytes [emitted] [from: app/assets/manifest.json] (auxiliary name: server) (auxiliary id hint: vendors)\n[0] Entrypoint server 4.16 MiB (14.2 MiB) = server.js 3.91 MiB server.dc4f943ac4fcd2e7f899.css 261 KiB 17 auxiliary assets\n[0] orphan modules 2.79 MiB (javascript) 123 bytes (css/mini-extract) 8.95 MiB (asset) 144 KiB (runtime) [orphan] 1371 modules\n[0] runtime modules 2.06 KiB 6 modules\n[0] built modules 3.05 MiB (javascript) 2.1 MiB (asset) 260 KiB (css/mini-extract) [built]\n[0]   modules by path ./app/ 2.97 MiB (javascript) 2.1 MiB (asset) 183 KiB (css/mini-extract) 398 modules\n[0]   modules by path external \"core-js/ 2.87 KiB 70 modules\n[0]   modules by path ./node_modules/ 77.1 KiB 6 modules\n[0]   modules by path external \"@webkom/ 126 bytes 3 modules\n[0]   modules by path ./server/ 58.3 KiB 2 modules\n[0]   modules by path external \"@sentry/ 84 bytes 2 modules\n[0]   modules by path ./config/*.js 10.9 KiB 2 modules\n[0]   modules by path external \"@loadable/ 84 bytes 2 modules\n[0]   + 46 modules\n[0] webpack 5.75.0 compiled successfully in 24426 ms\n[0] yarn run build:server exited with code 0\n[1] (node:56) [DEP_WEBPACK_MODULE_ISSUER] DeprecationWarning: Module.issuer: Use new ModuleGraph API\n[1] (Use `node --trace-deprecation ...` to show where the warning was created)\n[1] assets by path *.js 7.28 MiB\n[1]   assets by chunk 5.44 MiB (id hint: vendors) 20 assets\n[1]   + 51 assets\n[1] assets by path *.png 1.86 MiB 17 assets\n[1] assets by chunk 9.24 MiB (auxiliary name: styles)\n[1]   assets by path *.ttf 9.18 MiB 4 assets\n[1]   + 3 assets\n[1] assets by path *.json 234 KiB\n[1]   asset stats.json 129 KiB [emitted] 1 related asset\n[1]   asset loadable-stats.json 104 KiB [emitted] 1 related asset\n[1]   asset manifest.json 898 bytes [emitted] [from: app/assets/manifest.json] (auxiliary name: app) 1 related asset\n[1] + 5 assets\n[1] Entrypoint app [big] 2.16 MiB (17.2 MiB) = styles.2a345066.js 63.4 KiB styles.a715c83a89157d623d01.css 323 KiB 6153.5383607c.js 1.39 MiB app.e4cf608f.js 401 KiB 28 auxiliary assets\n[1] orphan modules 6.98 MiB (javascript) 123 bytes (css/mini-extract) 9.24 MiB (asset) 148 KiB (runtime) [orphan] 2366 modules\n[1] runtime modules 10.8 KiB 18 modules\n[1] cacheable modules 12.3 MiB (javascript) 959 KiB (css/mini-extract) 2.15 MiB (asset)\n[1]   modules by path ./node_modules/ 9.23 MiB (javascript) 171 KiB (css/mini-extract)\n[1]     javascript modules 9.23 MiB 1228 modules\n[1]     css modules 171 KiB 8 modules\n[1]   modules by path ./app/ 3.02 MiB (javascript) 2.15 MiB (asset) 788 KiB (css/mini-extract)\n[1]     modules by layer 3.02 MiB (javascript) 2.15 MiB (asset)\n[1]       javascript modules 3.02 MiB 375 modules\n[1]       asset modules 924 bytes (javascript) 2.15 MiB (asset) 22 modules\n[1]     css modules 788 KiB 152 modules\n[1]   ./config/env.js 3.99 KiB [built] [code generated]\n[1]   ./util.inspect (ignored) 15 bytes [built] [code generated]\n[1]   crypto (ignored) 15 bytes [optional] [built] [code generated]\n[1] \n[1] WARNING in dom-helpers\n[1]   Multiple versions of dom-helpers found:\n[1]     3.4.0 ./~/react-smooth/~/dom-helpers\n[1]     5.2.1 ./~/dom-helpers\n[1] \n[1] WARNING in eventemitter3\n[1]   Multiple versions of eventemitter3 found:\n[1]     3.1.2 ./~/subscribe-ui-event/~/eventemitter3\n[1]     4.0.7 ./~/eventemitter3\n[1] \n[1] WARNING in react-is\n[1]   Multiple versions of react-is found:\n[1]     16.13.1 ./~/react-is\n[1]     18.2.0 ./~/react-redux/~/react-is\n[1] \n[1] Check how you can resolve duplicate packages: \n[1] https://github.com/darrenscerri/duplicate-package-checker-webpack-plugin#resolving-duplicate-packages-in-your-bundle\n[1] \n[1] WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\n[1] This can impact web performance.\n[1] Assets: \n[1]   a10340ceb228c90cbeb6.ttf (8.95 MiB)\n[1]   app.e4cf608f.js (401 KiB)\n[1]   c2bd9cd4b22ff17d91c4.jpg (280 KiB)\n[1]   45b8e04fc7022ab64c11.png (331 KiB)\n[1]   5c3185a787083623adb4.png (348 KiB)\n[1]   fa60fac19a5deb240e84.png (819 KiB)\n[1]   9961.chunk.1ff63ac9.js (1.82 MiB)\n[1]   zxcvbn.chunk.4cf27080.js (799 KiB)\n[1]   5796.chunk.baae4457.js (353 KiB)\n[1]   7283.chunk.f26a63eb.js (359 KiB)\n[1]   6153.5383607c.js (1.39 MiB)\n[1]   styles.a715c83a89157d623d01.css (323 KiB)\n[1]   zxcvbn.chunk.4cf27080.js.map.gz (404 KiB)\n[1]   zxcvbn.chunk.4cf27080.js.gz (388 KiB)\n[1]   6153.5383607c.js.gz (452 KiB)\n[1]   9961.chunk.1ff63ac9.js.gz (440 KiB)\n[1]   9961.chunk.1ff63ac9.js.map.gz (443 KiB)\n[1]   5796.chunk.baae4457.js.map.gz (343 KiB)\n[1]   6153.5383607c.js.map.gz (1.51 MiB)\n[1] \n[1] WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\n[1] Entrypoints:\n[1]   app (2.16 MiB)\n[1]       styles.2a345066.js\n[1]       styles.a715c83a89157d623d01.css\n[1]       6153.5383607c.js\n[1]       app.e4cf608f.js\n[1] \n[1] webpack 5.75.0 compiled with 5 warnings in 55562 ms\n[1] yarn run build:client exited with code 0\nDone in 57.71s.\nRemoving intermediate container 95abc72e47c3\n ---> 86c98df97889\nStep 8/38 : FROM getsentry/sentry-cli:1.26.1 as sentry\n1.26.1: Pulling from getsentry/sentry-cli\n1160f4abea84: Pulling fs layer\n090cdbc20ee5: Pulling fs layer\nab0a41e6a722: Pulling fs layer\n9636e6d3c667: Pulling fs layer\n9636e6d3c667: Waiting\n1160f4abea84: Verifying Checksum\n090cdbc20ee5: Verifying Checksum\n090cdbc20ee5: Download complete\n1160f4abea84: Pull complete\nab0a41e6a722: Verifying Checksum\nab0a41e6a722: Download complete\n9636e6d3c667: Verifying Checksum\n9636e6d3c667: Download complete\n090cdbc20ee5: Pull complete\nab0a41e6a722: Pull complete\n9636e6d3c667: Pull complete\nDigest: sha256:718fef002d5bdf4f0412cc86583e48dc265c0a1dd533a022261adb36392ab4f8\nStatus: Downloaded newer image for getsentry/sentry-cli:1.26.1\n ---> 10c7ae61f631\nStep 9/38 : WORKDIR /app/\n ---> Running in f74a5b7153d0\nRemoving intermediate container f74a5b7153d0\n ---> 963a71dc8d22\nStep 10/38 : ARG SENTRY_AUTH_TOKEN\n ---> Running in cd71f92c6946\nRemoving intermediate container cd71f92c6946\n ---> 478875f6398e\nStep 11/38 : ARG SENTRY_ORG\n ---> Running in 97bb900813a0\nRemoving intermediate container 97bb900813a0\n ---> e6edf1be4cfb\nStep 12/38 : ARG SENTRY_PROJECT\n ---> Running in 0a02941a7f5c\nRemoving intermediate container 0a02941a7f5c\n ---> 8927e881c0fd\nStep 13/38 : ARG SENTRY_URL\n ---> Running in 93c4bde01b04\nRemoving intermediate container 93c4bde01b04\n ---> d82fc7a23b02\nStep 14/38 : ARG RELEASE\n ---> Running in 4224bd4d34bd\nRemoving intermediate container 4224bd4d34bd\n ---> 379c75c9335b\nStep 15/38 : ARG COMMIT_SHA\n ---> Running in e3db3b9768ee\nRemoving intermediate container e3db3b9768ee\n ---> 7231149d08fc\nStep 16/38 : ENV SENTRY_AUTH_TOKEN ${SENTRY_AUTH_TOKEN}\n ---> Running in 03fde4037130\nRemoving intermediate container 03fde4037130\n ---> c34e4970ca40\nStep 17/38 : ENV SENTRY_ORG ${SENTRY_ORG}\n ---> Running in 104da1caa0fd\nRemoving intermediate container 104da1caa0fd\n ---> b51c5773b178\nStep 18/38 : ENV SENTRY_PROJECT ${SENTRY_PROJECT}\n ---> Running in 00ef2b8d11a3\nRemoving intermediate container 00ef2b8d11a3\n ---> 4e3f32c589f7\nStep 19/38 : ENV SENTRY_URL ${SENTRY_URL}\n ---> Running in c1130f30a192\nRemoving intermediate container c1130f30a192\n ---> 420d60d9aec1\nStep 20/38 : ENV RELEASE ${RELEASE}\n ---> Running in 950779103eea\nRemoving intermediate container 950779103eea\n ---> 598cd25955a0\nStep 21/38 : COPY --from=builder /app/dist dist\n ---> 7a843074698a\nStep 22/38 : COPY --from=builder /app/dist-client dist-client\n ---> ca818dddc004\nStep 23/38 : RUN sentry-cli releases new ${RELEASE}\n ---> Running in bd4cd3f48eff\n\u001b[91merror: The following required arguments were not provided:\n    <VERSION>\n\nUSAGE:\n    sentry-cli releases new [OPTIONS] <VERSION>\n\nFor more information try --help\n\u001b[0mRemoving intermediate container bd4cd3f48eff\n","stderr":"The command '/bin/sh -c sentry-cli releases new ${RELEASE}' returned a non-zero code: 1\n"}}