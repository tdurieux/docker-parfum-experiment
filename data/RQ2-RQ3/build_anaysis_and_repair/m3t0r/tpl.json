{"repository":"https://github.com/m3t0r/tpl","dockerfilePath":"Dockerfile","startTime":1672518509154,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/m3t0r/tpl'...\n","error":null,"commit":"32ee0bb1fc629446a6451f20053c64ce8a860a61"},"originalBuild":{"startTimestamp":1672518510008,"endTimestamp":1672518541197,"error":null,"stdout":"Sending build context to Docker daemon  203.3kB\r\r\nStep 1/9 : FROM python:3-alpine AS zipper\n3-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n877ccf16716c: Download complete\n3cfcd1e4ebae: Verifying Checksum\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3-alpine\n ---> 18ccdc39ea28\nStep 2/9 : RUN apk update && apk add make git\n ---> Running in f1110cb86812\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing pcre2 (10.42-r0)\n(5/6) Installing git (2.38.2-r0)\n(6/6) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 24 MiB in 43 packages\nRemoving intermediate container f1110cb86812\n ---> f698bad1b212\nStep 3/9 : COPY ./ /app\n ---> 18c084f987e4\nStep 4/9 : RUN make -C /app dist/tpl\n ---> Running in 6d4fc5279746\nmake: Entering directory '/app'\nmkdir -p dist\nmkdir -p build\npython -m pip install ./ -t ./build\nProcessing /app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pyyaml>=3.13\n  Downloading PyYAML-6.0.tar.gz (124 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.0/125.0 kB 5.0 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting jinja2>=2.10.1\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 870.9 kB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: tpl, pyyaml, MarkupSafe\n  Building wheel for tpl (setup.py): started\n  Building wheel for tpl (setup.py): finished with status 'done'\n  Created wheel for tpl: filename=tpl-0.0.0-py3-none-any.whl size=5811 sha256=ba3610769d953f7e42e38a2de4a7437c1eb3690d29122c7d7b52de1940075254\n  Stored in directory: /tmp/pip-ephem-wheel-cache-_uw6dwlj/wheels/57/0f/98/bb57b2b57b95807699b822a35c022f139d38a02c27922f27ce\n  Building wheel for pyyaml (pyproject.toml): started\n  Building wheel for pyyaml (pyproject.toml): finished with status 'done'\n  Created wheel for pyyaml: filename=PyYAML-6.0-cp311-cp311-linux_x86_64.whl size=45331 sha256=6760ad330a955727d5a48bf1110cf40b572489050d863e7fccd2fbf516c2b8a6\n  Stored in directory: /root/.cache/pip/wheels/e4/64/08/efad557443d4ad855cd74372fe1906f8c800bcfa611ea50df6\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-py3-none-any.whl size=9650 sha256=70df0dd49ad02ea243540a1a0489d6ba3557048f95b2dd1bea44451e78093c6b\n  Stored in directory: /root/.cache/pip/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\nSuccessfully built tpl pyyaml MarkupSafe\nInstalling collected packages: pyyaml, MarkupSafe, jinja2, tpl\nSuccessfully installed MarkupSafe-2.1.1 jinja2-3.1.2 pyyaml-6.0 tpl-0.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mpython -m zipapp --python \"/usr/bin/env python3\" --main tpl.__main__:_argv_wrapper --output dist/tpl ./build\n\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m ==> Succesfully build dist/tpl, you can now copy it somewhere into your $PATH.\nmake: Leaving directory '/app'\nRemoving intermediate container 6d4fc5279746\n ---> a51f67bb2974\nStep 5/9 : FROM python:3-alpine\n ---> 18ccdc39ea28\nStep 6/9 : LABEL maintainer=\"Simon Brüggen <tpl@m3t0r.de>\"\n ---> Running in ac5b27159fdc\nRemoving intermediate container ac5b27159fdc\n ---> 545a6e636bf0\nStep 7/9 : COPY --from=zipper /app/dist/tpl /usr/bin/tpl\n ---> 0baacb3ceebf\nStep 8/9 : ENTRYPOINT [\"tpl\"]\n ---> Running in f0898305a814\nRemoving intermediate container f0898305a814\n ---> 23d96504f243\nStep 9/9 : CMD [\"--environment\", \"-\",\"-\"]\n ---> Running in 51d1dfe24862\nRemoving intermediate container 51d1dfe24862\n ---> 8d7301b661ab\nSuccessfully built 8d7301b661ab\nSuccessfully tagged tpl:latest\n","stderr":"","imageSize":54198030},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":18,"columnEnd":34}}],"repairedDockerfile":"# builder\nFROM python:3-alpine AS zipper\n\nRUN apk update && apk add --no-cache make git\n\nCOPY ./ /app\nRUN make -C /app dist/tpl\n\n# final image\nFROM python:3-alpine\n\nLABEL maintainer=\"Simon Brüggen <tpl@m3t0r.de>\"\n\nCOPY --from=zipper /app/dist/tpl /usr/bin/tpl\n\nENTRYPOINT [\"tpl\"]\n\nCMD [\"--environment\", \"-\",\"-\"]\n"},"repairedBuild":{"startTimestamp":1672518541459,"endTimestamp":1672518576168,"error":null,"stdout":"Sending build context to Docker daemon  203.3kB\r\r\nStep 1/9 : FROM python:3-alpine AS zipper\n ---> 18ccdc39ea28\nStep 2/9 : RUN apk update && apk add --no-cache make git\n ---> Running in a1547b89d6ba\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing pcre2 (10.42-r0)\n(5/6) Installing git (2.38.2-r0)\n(6/6) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 24 MiB in 43 packages\nRemoving intermediate container a1547b89d6ba\n ---> e50e5f8a6110\nStep 3/9 : COPY ./ /app\n ---> 299201a75d5a\nStep 4/9 : RUN make -C /app dist/tpl\n ---> Running in 752193386f5d\nmake: Entering directory '/app'\nmkdir -p dist\nmkdir -p build\npython -m pip install ./ -t ./build\nProcessing /app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pyyaml>=3.13\n  Downloading PyYAML-6.0.tar.gz (124 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.0/125.0 kB 5.1 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting jinja2>=2.10.1\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 7.2 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: tpl, pyyaml, MarkupSafe\n  Building wheel for tpl (setup.py): started\n  Building wheel for tpl (setup.py): finished with status 'done'\n  Created wheel for tpl: filename=tpl-0.0.0-py3-none-any.whl size=5811 sha256=ac76de6e849f7e68433a03c0296af8f22f2abf2a212c64e841aa8f7645016629\n  Stored in directory: /tmp/pip-ephem-wheel-cache-x8rxry_p/wheels/57/0f/98/bb57b2b57b95807699b822a35c022f139d38a02c27922f27ce\n  Building wheel for pyyaml (pyproject.toml): started\n  Building wheel for pyyaml (pyproject.toml): finished with status 'done'\n  Created wheel for pyyaml: filename=PyYAML-6.0-cp311-cp311-linux_x86_64.whl size=45331 sha256=bbf8a3af63ce9162cc5db1524be0be3bc4ac251a4b32ef18dbbe124d5aef7a33\n  Stored in directory: /root/.cache/pip/wheels/e4/64/08/efad557443d4ad855cd74372fe1906f8c800bcfa611ea50df6\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-py3-none-any.whl size=9650 sha256=925b553e1786903e7988e8c29fb762ca7eebbd7559f597a8f8ab1cd9406fbc93\n  Stored in directory: /root/.cache/pip/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\nSuccessfully built tpl pyyaml MarkupSafe\nInstalling collected packages: pyyaml, MarkupSafe, jinja2, tpl\nSuccessfully installed MarkupSafe-2.1.1 jinja2-3.1.2 pyyaml-6.0 tpl-0.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mpython -m zipapp --python \"/usr/bin/env python3\" --main tpl.__main__:_argv_wrapper --output dist/tpl ./build\n\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m\u001b[91m/bin/sh: tput: not found\n\u001b[0m ==> Succesfully build dist/tpl, you can now copy it somewhere into your $PATH.\nmake: Leaving directory '/app'\nRemoving intermediate container 752193386f5d\n ---> 07d947d3774a\nStep 5/9 : FROM python:3-alpine\n ---> 18ccdc39ea28\nStep 6/9 : LABEL maintainer=\"Simon Brüggen <tpl@m3t0r.de>\"\n ---> Running in 96d9ce4152f1\nRemoving intermediate container 96d9ce4152f1\n ---> 2eeba8f69e5d\nStep 7/9 : COPY --from=zipper /app/dist/tpl /usr/bin/tpl\n ---> 77adfc0113d2\nStep 8/9 : ENTRYPOINT [\"tpl\"]\n ---> Running in 571f45b80454\nRemoving intermediate container 571f45b80454\n ---> 5c6cd03e80d8\nStep 9/9 : CMD [\"--environment\", \"-\",\"-\"]\n ---> Running in 2a9723159845\nRemoving intermediate container 2a9723159845\n ---> da02cef7f4ff\nSuccessfully built da02cef7f4ff\nSuccessfully tagged tpl:latest\n","stderr":"","imageSize":54198030},"endTime":1672518576651}