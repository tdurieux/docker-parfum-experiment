{"repository":"https://github.com/soulchild/logos-api","dockerfilePath":"Dockerfile","startTime":1672852954107,"endTime":1672853284392,"clone":{"startTime":1672852954107,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/soulchild/logos-api'...\n","error":null,"endTime":1672852954859,"commit":"6595ef3e63c6d7f1833282caeb6a1e889c12b030"},"originalBuild":{"startTime":1672852954924,"endTime":1672853070455,"error":null,"stdout":"Sending build context to Docker daemon  563.7kB\r\r\nStep 1/14 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/14 : ENV LOGOSAPI_PORT=8000\n ---> Running in cca65340c6ae\nRemoving intermediate container cca65340c6ae\n ---> 1684f54daadf\nStep 3/14 : ENV APPDIR=/usr/src/app\n ---> Running in e09f10ac3161\nRemoving intermediate container e09f10ac3161\n ---> 713f20cb7de4\nStep 4/14 : WORKDIR $APPDIR\n ---> Running in 53922ed445e5\nRemoving intermediate container 53922ed445e5\n ---> 1c73b4b87917\nStep 5/14 : RUN apk update && apk add bash git\n ---> Running in b2cfcf4b18f5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\n(1/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/11) Installing ncurses-libs (6.3_p20221119-r0)\n(3/11) Installing readline (8.2.0-r0)\n(4/11) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/11) Installing ca-certificates (20220614-r3)\n(6/11) Installing brotli-libs (1.0.9-r9)\n(7/11) Installing nghttp2-libs (1.51.0-r0)\n(8/11) Installing libcurl (7.87.0-r0)\n(9/11) Installing libexpat (2.5.0-r0)\n(10/11) Installing pcre2 (10.42-r0)\n(11/11) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 21 MiB in 28 packages\nRemoving intermediate container b2cfcf4b18f5\n ---> 2dca310eb16e\nStep 6/14 : COPY package.json package-lock.json ./\n ---> 4e57264188cc\nStep 7/14 : RUN npm set-script prepare \"\"\n ---> Running in 8d08dfd12cc6\n\u001b[91mnpm\u001b[0m\u001b[91m WARN set-script set-script is deprecated, use `npm pkg set scripts.scriptname=\"cmd\" instead.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mset-script Script \"prepare\" was overwritten\n\u001b[0mRemoving intermediate container 8d08dfd12cc6\n ---> cf3d79e19601\nStep 8/14 : RUN npm install --production\n ---> Running in 71e1f43d91d2\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 86 packages, and audited 87 packages in 3s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 71e1f43d91d2\n ---> 3895bbcb12c6\nStep 9/14 : COPY bin/update-logos ${APPDIR}/bin/update-logos\n ---> e650f59a0224\nStep 10/14 : RUN npm run update-logos\n ---> Running in c8e319a3e164\n\n> logos-api@0.3.1 update-logos\n> ./bin/update-logos\n\n\u001b[91mCloning into '/usr/src/app/bin/../logos/gilbarbara'...\n\u001b[0m\u001b[91mfatal: 'logos.json' is not a directory; to treat it as a directory anyway, rerun with --skip-checks\n\u001b[0m\u001b[91mCloning into '/usr/src/app/bin/../logos/simpleicons'...\n\u001b[0m\u001b[91mUpdating files:   9% (2/22)\rUpdating files:  13% (3/22)\r\u001b[0m\u001b[91mUpdating files:  18% (4/22)\r\u001b[0m\u001b[91mUpdating files:  22% (5/22)\r\u001b[0m\u001b[91mUpdating files:  27% (6/22)\r\u001b[0m\u001b[91mUpdating files:  31% (7/22)\r\u001b[0m\u001b[91mUpdating files:  36% (8/22)\r\u001b[0m\u001b[91mUpdating files:  40% (9/22)\r\u001b[0m\u001b[91mUpdating files:  45% (10/22)\r\u001b[0m\u001b[91mUpdating files:  50% (11/22)\r\u001b[0m\u001b[91mUpdating files:  54% (12/22)\r\u001b[0m\u001b[91mUpdating files:  59% (13/22)\r\u001b[0m\u001b[91mUpdating files:  63% (14/22)\r\u001b[0m\u001b[91mUpdating files:  68% (15/22)\r\u001b[0m\u001b[91mUpdating files:  72% (16/22)\r\u001b[0m\u001b[91mUpdating files:  77% (17/22)\r\u001b[0m\u001b[91mUpdating files:  81% (18/22)\r\u001b[0m\u001b[91mUpdating files:  86% (19/22)\r\u001b[0m\u001b[91mUpdating files:  90% (20/22)\r\u001b[0m\u001b[91mUpdating files:  95% (21/22)\r\u001b[0m\u001b[91mUpdating files: 100% (22/22)\rUpdating files: 100% (22/22), done.\n\u001b[0m\u001b[91mfatal: '_data/simple-icons.json' is not a directory; to treat it as a directory anyway, rerun with --skip-checks\n\u001b[0m\u001b[91mCloning into '/usr/src/app/bin/../logos/instantlogos'...\n\u001b[0m\u001b[91mCloning into '/usr/src/app/bin/../logos/vectorlogozone'...\n\u001b[0mRemoving intermediate container c8e319a3e164\n ---> 720601a4d124\nStep 11/14 : COPY . .\n ---> 8d42000c9405\nStep 12/14 : EXPOSE ${LOGOSAPI_PORT}\n ---> Running in cd724f8ceb20\nRemoving intermediate container cd724f8ceb20\n ---> b45505547689\nStep 13/14 : USER node\n ---> Running in b9d8124eefea\nRemoving intermediate container b9d8124eefea\n ---> c73471afdb2f\nStep 14/14 : CMD [ \"npm\", \"start\" ]\n ---> Running in df8244079a2b\nRemoving intermediate container df8244079a2b\n ---> 0e6ccf9d5920\nSuccessfully built 0e6ccf9d5920\nSuccessfully tagged logos-api:latest\n","stderr":"","imageSize":197524611},"repair":{"startTime":1672853070528,"endTime":1672853070602,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":28}},{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":18,"columnEnd":34}}],"repairedDockerfile":"FROM node:16-alpine\n\nENV LOGOSAPI_PORT=8000\nENV APPDIR=/usr/src/app\n\nWORKDIR $APPDIR\n\nRUN apk update && apk add --no-cache bash git\n\nCOPY package.json package-lock.json ./\nRUN npm set-script prepare \"\"\nRUN npm install --production && npm cache clean --force;\n\nCOPY bin/update-logos ${APPDIR}/bin/update-logos\nRUN npm run update-logos\n\nCOPY . .\n\nEXPOSE ${LOGOSAPI_PORT}\n\nUSER node\n\nCMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTime":1672853083546,"endTime":1672853282595,"error":null,"stdout":"Sending build context to Docker daemon  563.7kB\r\r\nStep 1/14 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/14 : ENV LOGOSAPI_PORT=8000\n ---> Running in 6705c7db6176\nRemoving intermediate container 6705c7db6176\n ---> 5099ef0307ad\nStep 3/14 : ENV APPDIR=/usr/src/app\n ---> Running in 15d2ff08d933\nRemoving intermediate container 15d2ff08d933\n ---> 7fb9d0e74744\nStep 4/14 : WORKDIR $APPDIR\n ---> Running in f9f8523292f8\nRemoving intermediate container f9f8523292f8\n ---> a66796d14c6e\nStep 5/14 : RUN apk update && apk add --no-cache bash git\n ---> Running in 3d11572ec489\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/11) Installing ncurses-libs (6.3_p20221119-r0)\n(3/11) Installing readline (8.2.0-r0)\n(4/11) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/11) Installing ca-certificates (20220614-r3)\n(6/11) Installing brotli-libs (1.0.9-r9)\n(7/11) Installing nghttp2-libs (1.51.0-r0)\n(8/11) Installing libcurl (7.87.0-r0)\n(9/11) Installing libexpat (2.5.0-r0)\n(10/11) Installing pcre2 (10.42-r0)\n(11/11) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 21 MiB in 28 packages\nRemoving intermediate container 3d11572ec489\n ---> 752b257babf7\nStep 6/14 : COPY package.json package-lock.json ./\n ---> 2c8dfb8d4d5d\nStep 7/14 : RUN npm set-script prepare \"\"\n ---> Running in 2b408f7b2b81\n\u001b[91mnpm\u001b[0m\u001b[91m WARN set-script set-script is deprecated, use `npm pkg set scripts.scriptname=\"cmd\" instead.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN set-script Script \"prepare\" was overwritten\n\u001b[0mRemoving intermediate container 2b408f7b2b81\n ---> 4a5f9b7c9583\nStep 8/14 : RUN npm install --production && npm cache clean --force;\n ---> Running in 224ba075fbb0\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 86 packages, and audited 87 packages in 3s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 224ba075fbb0\n ---> 3a836a3da2eb\nStep 9/14 : COPY bin/update-logos ${APPDIR}/bin/update-logos\n ---> b158c96d895e\nStep 10/14 : RUN npm run update-logos\n ---> Running in 116a884f8c23\n\n> logos-api@0.3.1 update-logos\n> ./bin/update-logos\n\n\u001b[91mCloning into '/usr/src/app/bin/../logos/gilbarbara'...\n\u001b[0m\u001b[91mUpdating files:  40% (2/5)\r\u001b[0m\u001b[91mUpdating files:  60% (3/5)\r\u001b[0m\u001b[91mUpdating files:  80% (4/5)\r\u001b[0m\u001b[91mUpdating files: 100% (5/5)\rUpdating files: 100% (5/5), done.\n\u001b[0m\u001b[91mfatal: 'logos.json' is not a directory; to treat it as a directory anyway, rerun with --skip-checks\n\u001b[0m\u001b[91mCloning into '/usr/src/app/bin/../logos/simpleicons'...\n\u001b[0m\u001b[91mfatal: '_data/simple-icons.json' is not a directory; to treat it as a directory anyway, rerun with --skip-checks\n\u001b[0m\u001b[91mCloning into '/usr/src/app/bin/../logos/instantlogos'...\n\u001b[0m\u001b[91mCloning into '/usr/src/app/bin/../logos/vectorlogozone'...\n\u001b[0mRemoving intermediate container 116a884f8c23\n ---> 719bf01c89a3\nStep 11/14 : COPY . .\n ---> 7883132d8f26\nStep 12/14 : EXPOSE ${LOGOSAPI_PORT}\n ---> Running in 5ef2e5fc9062\nRemoving intermediate container 5ef2e5fc9062\n ---> 372258e1ec5e\nStep 13/14 : USER node\n ---> Running in 1d9d1a98eceb\nRemoving intermediate container 1d9d1a98eceb\n ---> 6eaeca3d71a9\nStep 14/14 : CMD [ \"npm\", \"start\" ]\n ---> Running in 9ae739018a07\nRemoving intermediate container 9ae739018a07\n ---> 2de6344752d1\nSuccessfully built 2de6344752d1\nSuccessfully tagged logos-api:latest\n","stderr":"","imageSize":193956819}}