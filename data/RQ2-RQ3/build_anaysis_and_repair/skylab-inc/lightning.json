{"repository":"https://github.com/skylab-inc/lightning","dockerfilePath":"Dockerfile","startTime":1672623702260,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/skylab-inc/lightning'...\n","error":null,"commit":"e2649af0c70347ee0d4a7d863b8e86e8c98136f8"},"originalBuild":{"startTimestamp":1672623703077,"endTimestamp":1672623781429,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t lightning:latest -f /tmp/dinghy-analysis/skylab-inc/lightning/Dockerfile ."},"stdout":"Sending build context to Docker daemon  544.8kB\r\r\nStep 1/9 : FROM swiftdocker/swift:4.0\n4.0: Pulling from swiftdocker/swift\n7b8b6451c85f: Pulling fs layer\nab4d1096d9ba: Pulling fs layer\ne6797d1788ac: Pulling fs layer\ne25c5c290bde: Pulling fs layer\ne3d2e85e214f: Pulling fs layer\n9e0e0f3491a5: Pulling fs layer\n7b8b6451c85f: Waiting\ne25c5c290bde: Waiting\ne3d2e85e214f: Waiting\n9e0e0f3491a5: Waiting\nab4d1096d9ba: Waiting\ne6797d1788ac: Waiting\nab4d1096d9ba: Download complete\n7b8b6451c85f: Verifying Checksum\n7b8b6451c85f: Download complete\ne6797d1788ac: Verifying Checksum\ne6797d1788ac: Download complete\ne25c5c290bde: Verifying Checksum\ne25c5c290bde: Download complete\n7b8b6451c85f: Pull complete\nab4d1096d9ba: Pull complete\ne6797d1788ac: Pull complete\ne25c5c290bde: Pull complete\ne3d2e85e214f: Verifying Checksum\ne3d2e85e214f: Download complete\n9e0e0f3491a5: Verifying Checksum\n9e0e0f3491a5: Download complete\ne3d2e85e214f: Pull complete\n9e0e0f3491a5: Pull complete\nDigest: sha256:abedd94173dd504bcefa7b6804a6c5efc5e83e90b1909e7882d57d63f245e65d\nStatus: Downloaded newer image for swiftdocker/swift:4.0\n ---> 97b8a6866eef\nStep 2/9 : RUN apt-get update && apt-get install -y       libpq-dev\n ---> Running in b1b4134f9567\nGet:1 http://security.ubuntu.com/ubuntu xenial-security InRelease [99.8 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial InRelease [247 kB]\nGet:3 http://security.ubuntu.com/ubuntu xenial-security/main amd64 Packages [2051 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [99.8 kB]\nGet:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [97.4 kB]\nGet:6 http://security.ubuntu.com/ubuntu xenial-security/restricted amd64 Packages [15.9 kB]\nGet:7 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [984 kB]\nGet:8 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages [8820 B]\nGet:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 Packages [1558 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial/restricted amd64 Packages [14.1 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial/universe amd64 Packages [9827 kB]\nGet:12 http://archive.ubuntu.com/ubuntu xenial/multiverse amd64 Packages [176 kB]\nGet:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [2560 kB]\nGet:14 http://archive.ubuntu.com/ubuntu xenial-updates/restricted amd64 Packages [16.4 kB]\nGet:15 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [1544 kB]\nGet:16 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 Packages [26.2 kB]\nGet:17 http://archive.ubuntu.com/ubuntu xenial-backports/main amd64 Packages [10.9 kB]\nGet:18 http://archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [12.7 kB]\nFetched 19.3 MB in 3s (5475 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  comerr-dev krb5-multidev libcomerr2 libgssapi-krb5-2 libgssrpc4 libk5crypto3\n  libkadm5clnt-mit9 libkadm5srv-mit9 libkdb5-8 libkrb5-3 libkrb5support0\n  libpq5\nSuggested packages:\n  doc-base krb5-doc krb5-user postgresql-doc-9.5\nThe following NEW packages will be installed:\n  comerr-dev krb5-multidev libgssrpc4 libkadm5clnt-mit9 libkadm5srv-mit9\n  libkdb5-8 libpq-dev libpq5\nThe following packages will be upgraded:\n  libcomerr2 libgssapi-krb5-2 libk5crypto3 libkrb5-3 libkrb5support0\n5 upgraded, 8 newly installed, 0 to remove and 119 not upgraded.\nNeed to get 1138 kB of archives.\nAfter this operation, 2811 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libcomerr2 amd64 1.42.13-1ubuntu1.2 [65.8 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libgssapi-krb5-2 amd64 1.13.2+dfsg-5ubuntu2.2 [120 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libkrb5-3 amd64 1.13.2+dfsg-5ubuntu2.2 [273 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libkrb5support0 amd64 1.13.2+dfsg-5ubuntu2.2 [31.2 kB]\nGet:5 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libk5crypto3 amd64 1.13.2+dfsg-5ubuntu2.2 [81.2 kB]\nGet:6 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libgssrpc4 amd64 1.13.2+dfsg-5ubuntu2.2 [54.5 kB]\nGet:7 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libkdb5-8 amd64 1.13.2+dfsg-5ubuntu2.2 [36.9 kB]\nGet:8 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libkadm5srv-mit9 amd64 1.13.2+dfsg-5ubuntu2.2 [51.2 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libkadm5clnt-mit9 amd64 1.13.2+dfsg-5ubuntu2.2 [36.5 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 comerr-dev amd64 2.1-1.42.13-1ubuntu1.2 [38.2 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 krb5-multidev amd64 1.13.2+dfsg-5ubuntu2.2 [114 kB]\nGet:12 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libpq5 amd64 9.5.25-0ubuntu0.16.04.1 [79.2 kB]\nGet:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libpq-dev amd64 9.5.25-0ubuntu0.16.04.1 [156 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1138 kB in 1s (1043 kB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 21176 files and directories currently installed.)\r\nPreparing to unpack .../libcomerr2_1.42.13-1ubuntu1.2_amd64.deb ...\r\nUnpacking libcomerr2:amd64 (1.42.13-1ubuntu1.2) over (1.42.13-1ubuntu1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu10) ...\r\nSetting up libcomerr2:amd64 (1.42.13-1ubuntu1.2) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu10) ...\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 21176 files and directories currently installed.)\r\nPreparing to unpack .../libgssapi-krb5-2_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libgssapi-krb5-2:amd64 (1.13.2+dfsg-5ubuntu2.2) over (1.13.2+dfsg-5ubuntu2) ...\r\nPreparing to unpack .../libkrb5-3_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libkrb5-3:amd64 (1.13.2+dfsg-5ubuntu2.2) over (1.13.2+dfsg-5ubuntu2) ...\r\nPreparing to unpack .../libkrb5support0_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libkrb5support0:amd64 (1.13.2+dfsg-5ubuntu2.2) over (1.13.2+dfsg-5ubuntu2) ...\r\nPreparing to unpack .../libk5crypto3_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libk5crypto3:amd64 (1.13.2+dfsg-5ubuntu2.2) over (1.13.2+dfsg-5ubuntu2) ...\r\nSelecting previously unselected package libgssrpc4:amd64.\r\nPreparing to unpack .../libgssrpc4_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libgssrpc4:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSelecting previously unselected package libkdb5-8:amd64.\r\nPreparing to unpack .../libkdb5-8_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libkdb5-8:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSelecting previously unselected package libkadm5srv-mit9:amd64.\r\nPreparing to unpack .../libkadm5srv-mit9_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libkadm5srv-mit9:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSelecting previously unselected package libkadm5clnt-mit9:amd64.\r\nPreparing to unpack .../libkadm5clnt-mit9_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking libkadm5clnt-mit9:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSelecting previously unselected package comerr-dev.\r\nPreparing to unpack .../comerr-dev_2.1-1.42.13-1ubuntu1.2_amd64.deb ...\r\nUnpacking comerr-dev (2.1-1.42.13-1ubuntu1.2) ...\r\nSelecting previously unselected package krb5-multidev.\r\nPreparing to unpack .../krb5-multidev_1.13.2+dfsg-5ubuntu2.2_amd64.deb ...\r\nUnpacking krb5-multidev (1.13.2+dfsg-5ubuntu2.2) ...\r\nSelecting previously unselected package libpq5:amd64.\r\nPreparing to unpack .../libpq5_9.5.25-0ubuntu0.16.04.1_amd64.deb ...\r\nUnpacking libpq5:amd64 (9.5.25-0ubuntu0.16.04.1) ...\r\nSelecting previously unselected package libpq-dev.\r\nPreparing to unpack .../libpq-dev_9.5.25-0ubuntu0.16.04.1_amd64.deb ...\r\nUnpacking libpq-dev (9.5.25-0ubuntu0.16.04.1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu10) ...\r\nSetting up libkrb5support0:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libk5crypto3:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libkrb5-3:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libgssapi-krb5-2:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libgssrpc4:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libkdb5-8:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libkadm5srv-mit9:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libkadm5clnt-mit9:amd64 (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up comerr-dev (2.1-1.42.13-1ubuntu1.2) ...\r\nSetting up krb5-multidev (1.13.2+dfsg-5ubuntu2.2) ...\r\nSetting up libpq5:amd64 (9.5.25-0ubuntu0.16.04.1) ...\r\nSetting up libpq-dev (9.5.25-0ubuntu0.16.04.1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu10) ...\r\nRemoving intermediate container b1b4134f9567\n ---> 6bf34b294b51\nStep 3/9 : RUN mkdir -p /usr/src\n ---> Running in 8c61773b07cc\nRemoving intermediate container 8c61773b07cc\n ---> fdfc096ae18e\nStep 4/9 : WORKDIR /usr/src\n ---> Running in 3f6db4dfd983\nRemoving intermediate container 3f6db4dfd983\n ---> 426766415fae\nStep 5/9 : ADD Sources Sources/\n ---> 96a1694cd954\nStep 6/9 : ADD Tests Tests/\n ---> 9581bec5ec51\nStep 7/9 : ADD Package.swift .\n ---> a8a54e394faf\nStep 8/9 : RUN chmod o+rw -R /usr/lib/swift/CoreFoundation/\n ---> Running in 22864872b7ab\nRemoving intermediate container 22864872b7ab\n ---> 4f0095b71aab\nStep 9/9 : RUN swift test\n ---> Running in ce0e196cd233\nCompile CHTTPParser http_parser.c\nCompile Swift Module 'POSIX' (3 sources)\nCompile Swift Module 'Result' (2 sources)\nCompile Swift Module 'Regex' (8 sources)\nCompile Swift Module 'PromiseKit' (12 sources)\nCompile Swift Module 'Boilerplate' (24 sources)\nCompile Swift Module 'StreamKit' (8 sources)\nCompile Swift Module 'IOStream' (2 sources)\n/usr/src/.build/checkouts/Boilerplate.git-3386043367414782336/Sources/Boilerplate/Container.swift:68:31: warning: redundant conformance constraint 'E': 'Error'\npublic postfix func ^%<A, E : Error, T : ContainerWithErrorType>(container:T) -> Result<A, E> where T.Value == A, T.Error == E {\n                              ^\n/usr/src/.build/checkouts/Boilerplate.git-3386043367414782336/Sources/Boilerplate/Container.swift:68:42: note: conformance constraint 'E': 'Error' implied here\npublic postfix func ^%<A, E : Error, T : ContainerWithErrorType>(container:T) -> Result<A, E> where T.Value == A, T.Error == E {\n                                         ^\nCompile Swift Module 'PathToRegex' (1 sources)\nCompile Swift Module 'IOStreamTests' (2 sources)\nCompile Swift Module 'TCP' (2 sources)\nCompile Swift Module 'TCPTests' (2 sources)\n/usr/src/.build/checkouts/PathToRegex.git--2432890017370026466/PathToRegex/PathToRegex.swift:81:52: warning: 'characters' is deprecated: Please use String or Substring directly\n            index = self.index(offset, offsetBy: m.characters.count)\n                                                   ^\nCompile Swift Module 'HTTP' (17 sources)\nCompile Swift Module 'RoutingTests' (2 sources)\nCompile Swift Module 'HTTPTests' (8 sources)\nCompile Swift Module 'Lightning' (1 sources)\n/usr/src/Tests/HTTPTests/PerformanceTests.swift:17:9: error: use of unresolved identifier 'SecRandomCopyBytes'\n        SecRandomCopyBytes(kSecRandomDefault, data.count, $0)\n        ^~~~~~~~~~~~~~~~~~\n/usr/src/Tests/HTTPTests/PerformanceTests.swift:17:28: error: use of unresolved identifier 'kSecRandomDefault'\n        SecRandomCopyBytes(kSecRandomDefault, data.count, $0)\n                           ^~~~~~~~~~~~~~~~~\n/usr/src/Tests/HTTPTests/PerformanceTests.swift:19:18: error: use of unresolved identifier 'errSecSuccess'\n    if result == errSecSuccess {\n                 ^~~~~~~~~~~~~\n/usr/src/Tests/HTTPTests/PerformanceTests.swift:102:40: error: function produces expected type '[String]'; did you mean to call it with '()'?\n        self.measureMetrics(XCTestCase.defaultPerformanceMetrics, automaticallyStartMeasuring: false) {\n                            ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                ()\n/usr/src/Tests/HTTPTests/PerformanceTests.swift:132:40: error: function produces expected type '[String]'; did you mean to call it with '()'?\n        self.measureMetrics(XCTestCase.defaultPerformanceMetrics, automaticallyStartMeasuring: false) {\n                            ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                ()\n/usr/src/Tests/HTTPTests/PerformanceTests.swift:161:40: error: function produces expected type '[String]'; did you mean to call it with '()'?\n        self.measureMetrics(XCTestCase.defaultPerformanceMetrics, automaticallyStartMeasuring: false) {\n                            ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~\n                                                                ()\n\u001b[91merror: terminated(1): /usr/bin/swift-build-tool -f /usr/src/.build/debug.yaml test\n\u001b[0mFetching https://github.com/crossroadlabs/Regex.git\nFetching https://github.com/skylab-inc/PathToRegex.git\nFetching https://github.com/skylab-inc/StreamKit.git\nFetching https://github.com/mxcl/PromiseKit.git\nFetching https://github.com/crossroadlabs/Boilerplate.git\nFetching https://github.com/antitypical/Result.git\nCloning https://github.com/antitypical/Result.git\nResolving https://github.com/antitypical/Result.git at 3.2.4\nCloning https://github.com/crossroadlabs/Regex.git\nResolving https://github.com/crossroadlabs/Regex.git at master\nCloning https://github.com/skylab-inc/PathToRegex.git\nResolving https://github.com/skylab-inc/PathToRegex.git at master\nCloning https://github.com/crossroadlabs/Boilerplate.git\nResolving https://github.com/crossroadlabs/Boilerplate.git at 1.1.5\nCloning https://github.com/skylab-inc/StreamKit.git\nResolving https://github.com/skylab-inc/StreamKit.git at master\nCloning https://github.com/mxcl/PromiseKit.git\nResolving https://github.com/mxcl/PromiseKit.git at 4.5.2\nRemoving intermediate container ce0e196cd233\n","stderr":"The command '/bin/sh -c swift test' returned a non-zero code: 1\n"},"endTime":1672623781504}