{"repository":"https://github.com/xfgryujk/blivechat","dockerfilePath":"Dockerfile","startTime":1672999575133,"endTime":1673000233742,"clone":{"startTime":1672999575133,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/xfgryujk/blivechat'...\n","error":null,"endTime":1672999576084,"commit":"9ce1dd21aa4b16dd429f2e4bd409743e5cb23b9a"},"originalBuild":{"startTime":1672999576160,"endTime":1672999858760,"error":null,"stdout":"Sending build context to Docker daemon  1.678MB\r\r\nStep 1/20 : FROM node:16.14.0-bullseye AS builder\n16.14.0-bullseye: Pulling from library/node\ne4d61adff207: Already exists\n4ff1945c672b: Already exists\nff5b10aec998: Already exists\n12de8c754e45: Already exists\nada1762e7602: Already exists\n6d1aaa85aab9: Pulling fs layer\n62a1dd7950e8: Pulling fs layer\n2dc1476df16b: Pulling fs layer\n960d43e4878b: Pulling fs layer\n960d43e4878b: Waiting\n6d1aaa85aab9: Verifying Checksum\n6d1aaa85aab9: Download complete\n2dc1476df16b: Verifying Checksum\n2dc1476df16b: Download complete\n6d1aaa85aab9: Pull complete\n62a1dd7950e8: Verifying Checksum\n62a1dd7950e8: Download complete\n960d43e4878b: Verifying Checksum\n960d43e4878b: Download complete\n62a1dd7950e8: Pull complete\n2dc1476df16b: Pull complete\n960d43e4878b: Pull complete\nDigest: sha256:56a3030a46e1956a8c12725235210db2ef76c18ab5dcdaf3eab3a3fc80b447ee\nStatus: Downloaded newer image for node:16.14.0-bullseye\n ---> 4b1abd9fac16\nStep 2/20 : ARG BASE_PATH='/root/blivechat'\n ---> Running in 994d9206db60\nRemoving intermediate container 994d9206db60\n ---> becaf7c3a17c\nStep 3/20 : WORKDIR \"${BASE_PATH}/frontend\"\n ---> Running in 47a56766025d\nRemoving intermediate container 47a56766025d\n ---> f7843c8ed885\nStep 4/20 : COPY frontend/package.json ./\n ---> a6439f4f735e\nStep 5/20 : RUN npm i --registry=https://registry.npmmirror.com\n ---> Running in 672881115a8a\n\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated html-webpack-plugin@3.2.0: 3.x is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated eslint-loader@2.2.1: This loader has been deprecated. Please use eslint-webpack-plugin\n\u001b[0m\u001b[91mnpm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1387 packages in 57s\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.3.1 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container 672881115a8a\n ---> e4cb66e0414a\nStep 6/20 : COPY frontend ./\n ---> 716eae5d0752\nStep 7/20 : RUN npm run build\n ---> Running in 13abab414a10\n\n> blivechat@1.6.2-beta build\n> vue-cli-service build\n\n\n\u001b[91m-  Building for production...\n\u001b[0m WARNING  Compiled with 2 warnings10:08:51 AM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  js/app.566c3964.js (301 KiB)\n  js/chunk-2d0abfe1.775530b0.js (278 KiB)\n  js/chunk-vendors.20c8fbef.js (727 KiB)\n  static/img/tutorial/tutorial-3.png (266 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (1.22 MiB)\n      css/chunk-vendors.69609929.css\n      js/chunk-vendors.20c8fbef.js\n      css/app.e6d57126.css\n      js/app.566c3964.js\n\n\n  File                                   Size              Gzipped\n\n  dist/js/chunk-vendors.20c8fbef.js      727.46 KiB        217.52 KiB\n  dist/js/app.566c3964.js                300.84 KiB        103.46 KiB\n  dist/js/chunk-2d0abfe1.775530b0.js     278.17 KiB        84.97 KiB\n  dist/js/chunk-2d22576b.c454d638.js     185.62 KiB        80.17 KiB\n  dist/js/chunk-2d0e8f94.9ca66d40.js     5.45 KiB          2.31 KiB\n  dist/js/chunk-2d0c5aea.cf74c9c3.js     4.15 KiB          1.71 KiB\n  dist/css/chunk-vendors.69609929.css    145.36 KiB        21.79 KiB\n  dist/css/app.e6d57126.css              79.67 KiB         10.56 KiB\n\n  Images and other types of assets omitted.\n\n DONE  Build complete. The dist directory is ready to be deployed.\n INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n      \nRemoving intermediate container 13abab414a10\n ---> 3f6e6853a4e8\nStep 8/20 : FROM python:3.8.12-bullseye\n3.8.12-bullseye: Pulling from library/python\ne4d61adff207: Already exists\n4ff1945c672b: Already exists\nff5b10aec998: Already exists\n12de8c754e45: Already exists\nada1762e7602: Already exists\n2f2b2e030155: Already exists\n4169ad44c6d7: Pulling fs layer\n672a77ed36b6: Pulling fs layer\na6d75b62b7e9: Pulling fs layer\na6d75b62b7e9: Verifying Checksum\na6d75b62b7e9: Download complete\n672a77ed36b6: Download complete\n4169ad44c6d7: Verifying Checksum\n4169ad44c6d7: Download complete\n4169ad44c6d7: Pull complete\n672a77ed36b6: Pull complete\na6d75b62b7e9: Pull complete\nDigest: sha256:53cb5152064a7e7b485ad42704ea63c5155b264c82e7f17de99d3aa28e4f8956\nStatus: Downloaded newer image for python:3.8.12-bullseye\n ---> 52bb9574949f\nStep 9/20 : ARG BASE_PATH='/root/blivechat'\n ---> Running in 89516f5ce8d2\nRemoving intermediate container 89516f5ce8d2\n ---> 18f58a5a0da9\nStep 10/20 : ARG EXT_DATA_PATH='/mnt/data'\n ---> Running in 583a3c04df0b\nRemoving intermediate container 583a3c04df0b\n ---> 6889846bc719\nStep 11/20 : WORKDIR \"${BASE_PATH}\"\n ---> Running in 628495a9ddc4\nRemoving intermediate container 628495a9ddc4\n ---> b11b19859577\nStep 12/20 : COPY requirements.txt ./\n ---> 2a70a8eb5eee\nStep 13/20 : RUN pip3 install --no-cache-dir -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt\n ---> Running in 4a1cb04a1216\nLooking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple\nCollecting aiohttp==3.7.4\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/3e/3d/74f069b633289dd015eaacb71eeb9705990e13f1dd1d76175fce5ad6cd94/aiohttp-3.7.4-cp38-cp38-manylinux2014_x86_64.whl (1.5 MB)\nCollecting Brotli==1.0.9\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/68/5f/460520bf0c58ce21653e670635c649bd6e6760d2dbfd3b3ad18ceb8085a6/Brotli-1.0.9-cp38-cp38-manylinux1_x86_64.whl (357 kB)\nCollecting pycryptodome==3.10.1\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/ad/16/9627ab0493894a11c68e46000dbcc82f578c8ff06bc2980dcd016aea9bd3/pycryptodome-3.10.1-cp35-abi3-manylinux2010_x86_64.whl (1.9 MB)\nCollecting sqlalchemy==1.4.31\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/e6/15/739ade8af241b23e60d632d0efb49736bd22aa65f23ec595447085c5bd36/SQLAlchemy-1.4.31-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\nCollecting tornado==6.1.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/7a/4a/4fafa6f032f9e202ce5bc1becacef5588a34fd0f0539fdcc705fa2b5ca4a/tornado-6.1-cp38-cp38-manylinux2010_x86_64.whl (427 kB)\nCollecting yarl<2.0,>=1.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/b3/0d/0ba1f2022b9a36ae670c1f3c579ed08d0958398cb6beaf4687e606ad33d4/yarl-1.8.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (262 kB)\nCollecting typing-extensions>=3.6.5\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/0b/8e/f1a0a5a76cfef77e1eb6004cb49e5f8d72634da638420b9ea492ce8305e8/typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting async-timeout<4.0,>=3.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/e1/1e/5a4441be21b0726c4464f3f23c8b19628372f606755a9d2e46c187e65ec4/async_timeout-3.0.1-py3-none-any.whl (8.2 kB)\nCollecting chardet<4.0,>=2.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl (133 kB)\nCollecting multidict<7.0,>=4.5\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fe/0c/8469202f8f4b0e65816f91c3febc4bda7316c995b59ecdf3b15c574f7a24/multidict-6.0.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (121 kB)\nCollecting attrs>=17.3.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fb/6e/6f83bf616d2becdf333a1640f1d463fef3150e2e926b7010cb0f81c95e88/attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting greenlet!=0.4.17\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/56/fd/756f7f78ba8f307ac90a7883f426aa564eac4e38d6cc53c11cf72879648b/greenlet-2.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (544 kB)\nCollecting idna>=2.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61 kB)\nInstalling collected packages: multidict, idna, yarl, typing-extensions, greenlet, chardet, attrs, async-timeout, tornado, sqlalchemy, pycryptodome, Brotli, aiohttp\nSuccessfully installed Brotli-1.0.9 aiohttp-3.7.4 async-timeout-3.0.1 attrs-22.2.0 chardet-3.0.4 greenlet-2.0.1 idna-3.4 multidict-6.0.4 pycryptodome-3.10.1 sqlalchemy-1.4.31 tornado-6.1 typing-extensions-4.4.0 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 4a1cb04a1216\n ---> 2f05ee1a3bd6\nStep 14/20 : COPY . ./\n ---> e48c01feb333\nStep 15/20 : RUN mkdir -p \"${EXT_DATA_PATH}/frontend/dist\"     && mv data \"${EXT_DATA_PATH}/data\"     && ln -s \"${EXT_DATA_PATH}/data\" data     && mv log \"${EXT_DATA_PATH}/log\"     && ln -s \"${EXT_DATA_PATH}/log\" log     && ln -s \"${EXT_DATA_PATH}/frontend/dist\" frontend/dist\n ---> Running in 2a369cd57310\nRemoving intermediate container 2a369cd57310\n ---> f000bcff9be1\nStep 16/20 : COPY --from=builder \"${BASE_PATH}/frontend/dist\" \"${EXT_DATA_PATH}/frontend/dist/\"\n ---> 5d224fda8b13\nStep 17/20 : VOLUME \"${EXT_DATA_PATH}\"\n ---> Running in c8e725db70f9\nRemoving intermediate container c8e725db70f9\n ---> d177861f4ded\nStep 18/20 : EXPOSE 12450\n ---> Running in 2325c07077af\nRemoving intermediate container 2325c07077af\n ---> c5c09db497eb\nStep 19/20 : ENTRYPOINT [\"python3\", \"main.py\"]\n ---> Running in 7a9c4c5b3577\nRemoving intermediate container 7a9c4c5b3577\n ---> 810c56adbf46\nStep 20/20 : CMD [\"--host\", \"0.0.0.0\", \"--port\", \"12450\"]\n ---> Running in 2a8f0a56e9c7\nRemoving intermediate container 2a8f0a56e9c7\n ---> a1cf4b8a4118\nSuccessfully built a1cf4b8a4118\nSuccessfully tagged blivechat:latest\n","stderr":"","imageSize":958330813},"repair":{"startTime":1672999858813,"endTime":1672999858928,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":51}}],"repairedDockerfile":"#\n# 构建前端\n#\n\nFROM node:16.14.0-bullseye AS builder\nARG BASE_PATH='/root/blivechat'\nWORKDIR \"${BASE_PATH}/frontend\"\n\n# 前端依赖\nCOPY frontend/package.json ./\nRUN npm i --registry=https://registry.npmmirror.com && npm cache clean --force;\n\n# 编译前端\nCOPY frontend ./\nRUN npm run build\n\n#\n# 准备后端\n#\n\nFROM python:3.8.12-bullseye\nARG BASE_PATH='/root/blivechat'\nARG EXT_DATA_PATH='/mnt/data'\nWORKDIR \"${BASE_PATH}\"\n\n# 后端依赖\nCOPY requirements.txt ./\nRUN pip3 install --no-cache-dir -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt\n\n# 数据目录\nCOPY . ./\nRUN mkdir -p \"${EXT_DATA_PATH}/frontend/dist\" \\\n    && mv data \"${EXT_DATA_PATH}/data\" \\\n    && ln -s \"${EXT_DATA_PATH}/data\" data \\\n    && mv log \"${EXT_DATA_PATH}/log\" \\\n    && ln -s \"${EXT_DATA_PATH}/log\" log \\\n    && ln -s \"${EXT_DATA_PATH}/frontend/dist\" frontend/dist\n\n# 编译好的前端\nCOPY --from=builder \"${BASE_PATH}/frontend/dist\" \"${EXT_DATA_PATH}/frontend/dist/\"\n\n# 运行\nVOLUME \"${EXT_DATA_PATH}\"\nEXPOSE 12450\nENTRYPOINT [\"python3\", \"main.py\"]\nCMD [\"--host\", \"0.0.0.0\", \"--port\", \"12450\"]\n"},"repairedBuild":{"startTime":1672999859501,"endTime":1673000233421,"error":null,"stdout":"Sending build context to Docker daemon  1.678MB\r\r\nStep 1/20 : FROM node:16.14.0-bullseye AS builder\n ---> 4b1abd9fac16\nStep 2/20 : ARG BASE_PATH='/root/blivechat'\n ---> Running in 51d02815c5ec\nRemoving intermediate container 51d02815c5ec\n ---> bf850b6c7b70\nStep 3/20 : WORKDIR \"${BASE_PATH}/frontend\"\n ---> Running in 8c7393c50c9c\nRemoving intermediate container 8c7393c50c9c\n ---> a8b283681460\nStep 4/20 : COPY frontend/package.json ./\n ---> 7124261fda98\nStep 5/20 : RUN npm i --registry=https://registry.npmmirror.com && npm cache clean --force;\n ---> Running in 3d50fb7658a8\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated eslint-loader@2.2.1: This loader has been deprecated. Please use eslint-webpack-plugin\n\u001b[0m\u001b[91mnpm WARN deprecated html-webpack-plugin@3.2.0: 3.x is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1387 packages in 1m\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.3.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m Recommended protections disabled.\n\u001b[0mRemoving intermediate container 3d50fb7658a8\n ---> 0c0deecb1d10\nStep 6/20 : COPY frontend ./\n ---> ff5750ddc0d8\nStep 7/20 : RUN npm run build\n ---> Running in b4d3ee726995\n\n> blivechat@1.6.2-beta build\n> vue-cli-service build\n\n\n\u001b[91m-  Building for production...\n\u001b[0m WARNING  Compiled with 2 warnings10:14:13 AM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  js/app.566c3964.js (301 KiB)\n  js/chunk-2d0abfe1.775530b0.js (278 KiB)\n  js/chunk-vendors.20c8fbef.js (727 KiB)\n  static/img/tutorial/tutorial-3.png (266 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (1.22 MiB)\n      css/chunk-vendors.69609929.css\n      js/chunk-vendors.20c8fbef.js\n      css/app.e6d57126.css\n      js/app.566c3964.js\n\n\n  File                                   Size              Gzipped\n\n  dist/js/chunk-vendors.20c8fbef.js      727.46 KiB        217.52 KiB\n  dist/js/app.566c3964.js                300.84 KiB        103.46 KiB\n  dist/js/chunk-2d0abfe1.775530b0.js     278.17 KiB        84.97 KiB\n  dist/js/chunk-2d22576b.c454d638.js     185.62 KiB        80.17 KiB\n  dist/js/chunk-2d0e8f94.9ca66d40.js     5.45 KiB          2.31 KiB\n  dist/js/chunk-2d0c5aea.cf74c9c3.js     4.15 KiB          1.71 KiB\n  dist/css/chunk-vendors.69609929.css    145.36 KiB        21.79 KiB\n  dist/css/app.e6d57126.css              79.67 KiB         10.56 KiB\n\n  Images and other types of assets omitted.\n\n DONE  Build complete. The dist directory is ready to be deployed.\n INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n      \nRemoving intermediate container b4d3ee726995\n ---> 0d075cf27eb5\nStep 8/20 : FROM python:3.8.12-bullseye\n ---> 52bb9574949f\nStep 9/20 : ARG BASE_PATH='/root/blivechat'\n ---> Running in 5982a986c93e\nRemoving intermediate container 5982a986c93e\n ---> 0bd946ba82b3\nStep 10/20 : ARG EXT_DATA_PATH='/mnt/data'\n ---> Running in 415549fcddd8\nRemoving intermediate container 415549fcddd8\n ---> 097ee39be589\nStep 11/20 : WORKDIR \"${BASE_PATH}\"\n ---> Running in 02306b6e83cd\nRemoving intermediate container 02306b6e83cd\n ---> 81d8ed765278\nStep 12/20 : COPY requirements.txt ./\n ---> bd783c94381d\nStep 13/20 : RUN pip3 install --no-cache-dir -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt\n ---> Running in eb901ef9cea4\nLooking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple\nCollecting aiohttp==3.7.4\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/3e/3d/74f069b633289dd015eaacb71eeb9705990e13f1dd1d76175fce5ad6cd94/aiohttp-3.7.4-cp38-cp38-manylinux2014_x86_64.whl (1.5 MB)\nCollecting Brotli==1.0.9\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/68/5f/460520bf0c58ce21653e670635c649bd6e6760d2dbfd3b3ad18ceb8085a6/Brotli-1.0.9-cp38-cp38-manylinux1_x86_64.whl (357 kB)\nCollecting pycryptodome==3.10.1\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/ad/16/9627ab0493894a11c68e46000dbcc82f578c8ff06bc2980dcd016aea9bd3/pycryptodome-3.10.1-cp35-abi3-manylinux2010_x86_64.whl (1.9 MB)\nCollecting sqlalchemy==1.4.31\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/e6/15/739ade8af241b23e60d632d0efb49736bd22aa65f23ec595447085c5bd36/SQLAlchemy-1.4.31-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\nCollecting tornado==6.1.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/7a/4a/4fafa6f032f9e202ce5bc1becacef5588a34fd0f0539fdcc705fa2b5ca4a/tornado-6.1-cp38-cp38-manylinux2010_x86_64.whl (427 kB)\nCollecting yarl<2.0,>=1.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/b3/0d/0ba1f2022b9a36ae670c1f3c579ed08d0958398cb6beaf4687e606ad33d4/yarl-1.8.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (262 kB)\nCollecting multidict<7.0,>=4.5\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fe/0c/8469202f8f4b0e65816f91c3febc4bda7316c995b59ecdf3b15c574f7a24/multidict-6.0.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (121 kB)\nCollecting chardet<4.0,>=2.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl (133 kB)\nCollecting attrs>=17.3.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fb/6e/6f83bf616d2becdf333a1640f1d463fef3150e2e926b7010cb0f81c95e88/attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting typing-extensions>=3.6.5\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/0b/8e/f1a0a5a76cfef77e1eb6004cb49e5f8d72634da638420b9ea492ce8305e8/typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting async-timeout<4.0,>=3.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/e1/1e/5a4441be21b0726c4464f3f23c8b19628372f606755a9d2e46c187e65ec4/async_timeout-3.0.1-py3-none-any.whl (8.2 kB)\nCollecting greenlet!=0.4.17\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/56/fd/756f7f78ba8f307ac90a7883f426aa564eac4e38d6cc53c11cf72879648b/greenlet-2.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (544 kB)\nCollecting idna>=2.0\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61 kB)\nInstalling collected packages: multidict, idna, yarl, typing-extensions, greenlet, chardet, attrs, async-timeout, tornado, sqlalchemy, pycryptodome, Brotli, aiohttp\nSuccessfully installed Brotli-1.0.9 aiohttp-3.7.4 async-timeout-3.0.1 attrs-22.2.0 chardet-3.0.4 greenlet-2.0.1 idna-3.4 multidict-6.0.4 pycryptodome-3.10.1 sqlalchemy-1.4.31 tornado-6.1 typing-extensions-4.4.0 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container eb901ef9cea4\n ---> 6429d8cd1f4c\nStep 14/20 : COPY . ./\n ---> 312f3d15e40b\nStep 15/20 : RUN mkdir -p \"${EXT_DATA_PATH}/frontend/dist\"     && mv data \"${EXT_DATA_PATH}/data\"     && ln -s \"${EXT_DATA_PATH}/data\" data     && mv log \"${EXT_DATA_PATH}/log\"     && ln -s \"${EXT_DATA_PATH}/log\" log     && ln -s \"${EXT_DATA_PATH}/frontend/dist\" frontend/dist\n ---> Running in daf2888d40d3\nRemoving intermediate container daf2888d40d3\n ---> 084b33f7f3c6\nStep 16/20 : COPY --from=builder \"${BASE_PATH}/frontend/dist\" \"${EXT_DATA_PATH}/frontend/dist/\"\n ---> 50c3b645a90c\nStep 17/20 : VOLUME \"${EXT_DATA_PATH}\"\n ---> Running in d4c59e008083\nRemoving intermediate container d4c59e008083\n ---> d26c853cbba4\nStep 18/20 : EXPOSE 12450\n ---> Running in ff9d87ff5d00\nRemoving intermediate container ff9d87ff5d00\n ---> 1e6ecad732c5\nStep 19/20 : ENTRYPOINT [\"python3\", \"main.py\"]\n ---> Running in c32bb79f8418\nRemoving intermediate container c32bb79f8418\n ---> 9bd53133adf6\nStep 20/20 : CMD [\"--host\", \"0.0.0.0\", \"--port\", \"12450\"]\n ---> Running in 17fb822d85c6\nRemoving intermediate container 17fb822d85c6\n ---> f5cbde9d447b\nSuccessfully built f5cbde9d447b\nSuccessfully tagged blivechat:latest\n","stderr":"","imageSize":958330841}}