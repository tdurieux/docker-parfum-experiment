{"repository":"https://github.com/sgreben/yeetgif","dockerfilePath":"Dockerfile","startTime":1672952515479,"endTime":1672952794501,"clone":{"startTime":1672952515479,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sgreben/yeetgif'...\n","error":null,"endTime":1672952517126,"commit":"5d2067b9832898c2b1ac51bf6a5f107619038270"},"originalBuild":{"startTime":1672952517210,"endTime":1672952594219,"error":null,"stdout":"Sending build context to Docker daemon  11.43MB\r\r\nStep 1/17 : FROM alpine:3.8 AS build-giflossy\n ---> c8bccc0af957\nStep 2/17 : RUN apk add --no-cache curl autoconf automake make build-base\n ---> Running in a1c9b4f0015e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing m4 (1.4.18-r1)\n(2/29) Installing libbz2 (1.0.6-r7)\n(3/29) Installing perl (5.26.3-r0)\n(4/29) Installing autoconf (2.69-r2)\n(5/29) Installing automake (1.16.1-r0)\n(6/29) Installing binutils (2.30-r6)\n(7/29) Installing libmagic (5.32-r2)\n(8/29) Installing file (5.32-r2)\n(9/29) Installing gmp (6.1.2-r1)\n(10/29) Installing isl (0.18-r0)\n(11/29) Installing libgomp (6.4.0-r9)\n(12/29) Installing libatomic (6.4.0-r9)\n(13/29) Installing pkgconf (1.5.3-r0)\n(14/29) Installing libgcc (6.4.0-r9)\n(15/29) Installing mpfr3 (3.1.5-r1)\n(16/29) Installing mpc1 (1.0.3-r1)\n(17/29) Installing libstdc++ (6.4.0-r9)\n(18/29) Installing gcc (6.4.0-r9)\n(19/29) Installing musl-dev (1.1.19-r11)\n(20/29) Installing libc-dev (0.7.1-r0)\n(21/29) Installing g++ (6.4.0-r9)\n(22/29) Installing make (4.2.1-r2)\n(23/29) Installing fortify-headers (0.9-r0)\n(24/29) Installing build-base (0.5-r1)\n(25/29) Installing ca-certificates (20191127-r2)\n(26/29) Installing nghttp2-libs (1.39.2-r0)\n(27/29) Installing libssh2 (1.9.0-r1)\n(28/29) Installing libcurl (7.61.1-r3)\n(29/29) Installing curl (7.61.1-r3)\nExecuting busybox-1.28.4-r3.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 207 MiB in 42 packages\nRemoving intermediate container a1c9b4f0015e\n ---> 36b81fe02813\nStep 3/17 : RUN curl -SL https://github.com/kornelski/giflossy/archive/1.91.tar.gz | tar xzv\n ---> Running in 1a59e3200ba4\n\u001b[91m  % Total    % Received % Xferd \u001b[0m\u001b[91m Average Speed   Time    Time\u001b[0m\u001b[91m   \u001b[0m\u001b[91m  Ti\u001b[0m\u001b[91mme  Current\n      \u001b[0m\u001b[91m               \u001b[0m\u001b[91m       \u001b[0m\u001b[91m     Dload  \u001b[0m\u001b[91mUpload   \u001b[0m\u001b[91mTot\u001b[0m\u001b[91mal \u001b[0m\u001b[91m  S\u001b[0m\u001b[91mpent    Left \u001b[0m\u001b[91m Spee\u001b[0m\u001b[91md\n\u001b[0m\u001b[91m\r  0   \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m 0     0    0  \u001b[0m\u001b[91m   0     \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m     0 --:--:-- -\u001b[0m\u001b[91m-:--:-- --:-\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n\u001b[0mgiflossy-1.91/\ngiflossy-1.91/.appveyor.yml\ngiflossy-1.91/.gitignore\ngiflossy-1.91/.travis.yml\ngiflossy-1.91/COPYING\ngiflossy-1.91/INSTALL\ngiflossy-1.91/Makefile.am\ngiflossy-1.91/NEWS.md\ngiflossy-1.91/README.md\ngiflossy-1.91/bootstrap.sh\ngiflossy-1.91/configure.ac\ngiflossy-1.91/gifdiff.1\ngiflossy-1.91/gifsicle.1\ngiflossy-1.91/gifview.1\ngiflossy-1.91/include/\ngiflossy-1.91/include/lcdf/\ngiflossy-1.91/include/lcdf/clp.h\ngiflossy-1.91/include/lcdf/inttypes.h\ngiflossy-1.91/include/lcdfgif/\ngiflossy-1.91/include/lcdfgif/gif.h\ngiflossy-1.91/include/lcdfgif/gifx.h\ngiflossy-1.91/logo.gif\ngiflossy-1.91/logo1.gif\ngiflossy-1.91/src/\ngiflossy-1.91/src/Makefile.am\ngiflossy-1.91/src/Makefile.bcc\ngiflossy-1.91/src/Makefile.mingw\ngiflossy-1.91/src/Makefile.w32\ngiflossy-1.91/src/clp.c\ngiflossy-1.91/src/fmalloc.c\ngiflossy-1.91/src/gifdiff.c\ngiflossy-1.91/src/giffunc.c\ngiflossy-1.91/src/gifread.c\ngiflossy-1.91/src/gifsicle.c\ngiflossy-1.91/src/gifsicle.h\ngiflossy-1.91/src/giftoc.c\ngiflossy-1.91/src/gifunopt.c\ngiflossy-1.91/src/gifview.c\ngiflossy-1.91/src/gifwrite.c\u001b[91m\r100  450k    0  450k    0     0   640k     \u001b[0m\u001b[91m 0 --:--:-- --:--:-- --:--:-- \u001b[0m\u001b[91m 640k\u001b[0m\u001b[91m\r100  467k    0  4\u001b[0m\u001b[91m67k    0     0   662k\u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0 -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --:--:-- \u001b[0m\u001b[91m16.1M\n\u001b[0m\ngiflossy-1.91/src/gifx.c\ngiflossy-1.91/src/kcolor.h\ngiflossy-1.91/src/merge.c\ngiflossy-1.91/src/optimize.c\ngiflossy-1.91/src/opttemplate.c\ngiflossy-1.91/src/quantize.c\ngiflossy-1.91/src/strerror.c\ngiflossy-1.91/src/support.c\ngiflossy-1.91/src/ungifwrt.c\ngiflossy-1.91/src/win32cfg.h\ngiflossy-1.91/src/xform.c\ngiflossy-1.91/test/\ngiflossy-1.91/test/001-transexpand.testie\ngiflossy-1.91/test/002-cropresize.testie\ngiflossy-1.91/test/003-bgopt.testie\ngiflossy-1.91/test/004-careful.testie\ngiflossy-1.91/test/005-resize.testie\ngiflossy-1.91/test/006-unoptdisposal.testie\ngiflossy-1.91/test/007-alltransp.testie\ngiflossy-1.91/test/008-resizemix.testie\ngiflossy-1.91/test/009-zerowidth.testie\ngiflossy-1.91/test/010-warnings.testie\ngiflossy-1.91/test/011-resizemix.testie\ngiflossy-1.91/test/testie\nRemoving intermediate container 1a59e3200ba4\n ---> 8509c131c392\nStep 4/17 : RUN cd giflossy-1.91 && autoreconf -i && ./configure && make install\n ---> Running in 6ca531d34497\n\u001b[91mconfigure.ac:9: installing './compile'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './install-sh'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './missing'\n\u001b[0m\u001b[91msrc/Makefile.am: installing './depcomp'\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a thread-safe mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make sets $(MAKE)... (cached) yes\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of gcc... gcc3\nchecking how to run the C preprocessor... gcc -E\nchecking for an ANSI C-conforming const... yes\nchecking for inline... inline\nchecking for X... no\n\u001b[91mconfigure: WARNING: Not compiling gifview since X is not available.\n\u001b[0mchecking for random... yes\nchecking for strerror... yes\nchecking for strtoul... yes\nchecking for mkstemp... yes\nchecking for library containing pow... none required\nchecking sys/select.h usability... yes\nchecking sys/select.h presence... yes\nchecking for sys/select.h... yes\nchecking sys/stat.h usability... yes\nchecking sys/stat.h presence... yes\nchecking for sys/stat.h... yes\nchecking inttypes.h usability... yes\nchecking inttypes.h presence... yes\nchecking for inttypes.h... yes\nchecking unistd.h usability... yes\nchecking unistd.h presence... yes\nchecking for unistd.h... yes\nchecking for inttypes.h... (cached) yes\nchecking sys/types.h usability... yes\nchecking sys/types.h presence... yes\nchecking for sys/types.h... yes\nchecking for uintptr_t... yes\nchecking for int64_t... yes\nchecking for uint64_t... yes\nchecking size of float... 4\nchecking size of unsigned int... 4\nchecking size of unsigned long... 8\nchecking size of void *... 8\nchecking for usable vector_size vector types... yes\nchecking for usable ext_vector_type vector types... no\nchecking for __builtin_shufflevector... no\nchecking for library containing pthread_create... none required\nchecking for __sync_add_and_fetch... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nMaking install in src\nmake[1]: Entering directory '/giflossy-1.91/src'\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT clp.o -MD -MP -MF .deps/clp.Tpo -c -o clp.o clp.c\nmv -f .deps/clp.Tpo .deps/clp.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT fmalloc.o -MD -MP -MF .deps/fmalloc.Tpo -c -o fmalloc.o fmalloc.c\nmv -f .deps/fmalloc.Tpo .deps/fmalloc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT giffunc.o -MD -MP -MF .deps/giffunc.Tpo -c -o giffunc.o giffunc.c\nmv -f .deps/giffunc.Tpo .deps/giffunc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifread.o -MD -MP -MF .deps/gifread.Tpo -c -o gifread.o gifread.c\nmv -f .deps/gifread.Tpo .deps/gifread.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifunopt.o -MD -MP -MF .deps/gifunopt.Tpo -c -o gifunopt.o gifunopt.c\nmv -f .deps/gifunopt.Tpo .deps/gifunopt.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT merge.o -MD -MP -MF .deps/merge.Tpo -c -o merge.o merge.c\nmv -f .deps/merge.Tpo .deps/merge.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT optimize.o -MD -MP -MF .deps/optimize.Tpo -c -o optimize.o optimize.c\nmv -f .deps/optimize.Tpo .deps/optimize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT quantize.o -MD -MP -MF .deps/quantize.Tpo -c -o quantize.o quantize.c\nmv -f .deps/quantize.Tpo .deps/quantize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT support.o -MD -MP -MF .deps/support.Tpo -c -o support.o support.c\nmv -f .deps/support.Tpo .deps/support.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT xform.o -MD -MP -MF .deps/xform.Tpo -c -o xform.o xform.c\nmv -f .deps/xform.Tpo .deps/xform.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifsicle.o -MD -MP -MF .deps/gifsicle.Tpo -c -o gifsicle.o gifsicle.c\nmv -f .deps/gifsicle.Tpo .deps/gifsicle.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifwrite.o -MD -MP -MF .deps/gifwrite.Tpo -c -o gifwrite.o gifwrite.c\n\u001b[91mgifwrite.c: In function 'write_compressed_data.isra.8':\ngifwrite.c:530:28: warning: 'gfcm' may be used uninitialized in this function [-Wmaybe-uninitialized]\n       struct selected_node t = gfc_lookup_lossy(gfc, gfcm, gfi, pos, NULL, 0, (gfc_rgbdiff){0,0,0}, grr->gcinfo.loss * 10);\n                            ^\n\u001b[0m\u001b[91mgifwrite.c:596:18: warning: 'imageline' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         imageline++;\n         ~~~~~~~~~^~\n\u001b[0m\u001b[91mgifwrite.c:549:22: warning: 'image_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             unsigned pixels_left = image_endpos - pos - 1;\n                      ^~~~~~~~~~~\n\u001b[0m\u001b[91mgifwrite.c:600:23: warning: 'line_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n           line_endpos += gfi->width;\n           ~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0mmv -f .deps/gifwrite.Tpo .deps/gifwrite.Po\ngcc -W -Wall  -g -O2   -o gifsicle clp.o fmalloc.o giffunc.o gifread.o gifunopt.o merge.o optimize.o quantize.o support.o xform.o gifsicle.o  gifwrite.o \ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifdiff.o -MD -MP -MF .deps/gifdiff.Tpo -c -o gifdiff.o gifdiff.c\nmv -f .deps/gifdiff.Tpo .deps/gifdiff.Po\ngcc -W -Wall  -g -O2   -o gifdiff clp.o fmalloc.o giffunc.o gifread.o gifdiff.o  \nmake[2]: Entering directory '/giflossy-1.91/src'\n .././install-sh -c -d '/usr/local/bin'\n  /usr/bin/install -c gifsicle gifdiff '/usr/local/bin'\nmake[2]: Nothing to be done for 'install-data-am'.\nmake[2]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Entering directory '/giflossy-1.91'\nmake[2]: Entering directory '/giflossy-1.91'\nmake[2]: Nothing to be done for 'install-exec-am'.\n ./install-sh -c -d '/usr/local/share/man/man1'\n /usr/bin/install -c -m 644 gifsicle.1 gifdiff.1 '/usr/local/share/man/man1'\nmake[2]: Leaving directory '/giflossy-1.91'\nmake[1]: Leaving directory '/giflossy-1.91'\nRemoving intermediate container 6ca531d34497\n ---> 43ba30d01d32\nStep 5/17 : RUN cp \"$(which gifsicle)\" /gifsicle\n ---> Running in 6f0e25f5c033\nRemoving intermediate container 6f0e25f5c033\n ---> d77be3e4ec47\nStep 6/17 : FROM golang:1.11-alpine3.8 AS build-app\n1.11-alpine3.8: Pulling from library/golang\nc87736221ed0: Pulling fs layer\n4fb36876c91c: Pulling fs layer\n6379ffb8b486: Pulling fs layer\nf23eb4b9cba1: Pulling fs layer\n1497eb3971ee: Pulling fs layer\nf23eb4b9cba1: Waiting\n1497eb3971ee: Waiting\nc87736221ed0: Verifying Checksum\nc87736221ed0: Download complete\n6379ffb8b486: Verifying Checksum\n6379ffb8b486: Download complete\n4fb36876c91c: Verifying Checksum\n4fb36876c91c: Download complete\n1497eb3971ee: Verifying Checksum\n1497eb3971ee: Download complete\nc87736221ed0: Pull complete\n4fb36876c91c: Pull complete\n6379ffb8b486: Pull complete\nf23eb4b9cba1: Verifying Checksum\nf23eb4b9cba1: Download complete\nf23eb4b9cba1: Pull complete\n1497eb3971ee: Pull complete\nDigest: sha256:6f840f22327fcb912704687e3e87fc7ef8fb2af148b8581b301f5a9a7f303727\nStatus: Downloaded newer image for golang:1.11-alpine3.8\n ---> 9efe4a5a61c1\nStep 7/17 : RUN apk add --no-cache git\n ---> Running in 09bca874b7a3\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.39.2-r0)\n(2/6) Installing libssh2 (1.9.0-r1)\n(3/6) Installing libcurl (7.61.1-r3)\n(4/6) Installing expat (2.2.8-r0)\n(5/6) Installing pcre2 (10.31-r0)\n(6/6) Installing git (2.18.4-r0)\nExecuting busybox-1.28.4-r3.trigger\nOK: 19 MiB in 20 packages\nRemoving intermediate container 09bca874b7a3\n ---> 99aedb0da6ac\nStep 8/17 : WORKDIR ${GOPATH}/src/github.com/sgreben/yeetgif\n ---> Running in 2ad4d2d0fc13\nRemoving intermediate container 2ad4d2d0fc13\n ---> b40f280223a3\nStep 9/17 : COPY vendor/ vendor/\n ---> 125a0a51fbb3\nStep 10/17 : COPY pkg/ pkg/\n ---> a4a8758e5bb6\nStep 11/17 : COPY cmd/ cmd/\n ---> dea085656045\nStep 12/17 : RUN go build ./cmd/gif && mv gif /app\n ---> Running in b20456392899\nRemoving intermediate container b20456392899\n ---> a4ce34f3c887\nStep 13/17 : FROM scratch\n ---> \nStep 14/17 : COPY --from=build-app /app /gif\n ---> 54f26d1f1813\nStep 15/17 : COPY --from=build-giflossy /gifsicle /gifsicle\n ---> 8dcd8d699725\nStep 16/17 : ENV PATH /\n ---> Running in 9acd233f801e\nRemoving intermediate container 9acd233f801e\n ---> 11a10dc68635\nStep 17/17 : ENTRYPOINT [\"/gif\"]\n ---> Running in 5714782235e8\nRemoving intermediate container 5714782235e8\n ---> 5ce569625175\nSuccessfully built 5ce569625175\nSuccessfully tagged yeetgif:latest\n","stderr":"","imageSize":19104114},"repair":{"startTime":1672952594282,"endTime":1672952594363,"violations":[{"name":"curlUseFlagF","position":{"start":3,"end":3,"columnStart":4,"columnEnd":70}},{"name":"configureShouldUseBuildFlag","position":{"start":4,"end":4,"columnStart":41,"columnEnd":52}}],"repairedDockerfile":"# download and build giflossy\nFROM alpine:3.8 AS build-giflossy\nRUN apk add --no-cache curl autoconf automake make build-base\nRUN curl -f -SL https://github.com/kornelski/giflossy/archive/1.91.tar.gz | tar xzv\nRUN cd giflossy-1.91 && autoreconf -i && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make install\nRUN cp \"$(which gifsicle)\" /gifsicle\n\n# build gif\nFROM golang:1.11-alpine3.8 AS build-app\nRUN apk add --no-cache git\nWORKDIR ${GOPATH}/src/github.com/sgreben/yeetgif\nCOPY vendor/ vendor/\nCOPY pkg/ pkg/\nCOPY cmd/ cmd/\nRUN go build ./cmd/gif && mv gif /app\n\n# app image\nFROM scratch\nCOPY --from=build-app /app /gif\nCOPY --from=build-giflossy /gifsicle /gifsicle\nENV PATH /\nENTRYPOINT [\"/gif\"]\n"},"repairedBuild":{"startTime":1672952594496,"endTime":1672952784194,"error":null,"stdout":"Sending build context to Docker daemon  11.43MB\r\r\nStep 1/17 : FROM alpine:3.8 AS build-giflossy\n ---> c8bccc0af957\nStep 2/17 : RUN apk add --no-cache curl autoconf automake make build-base\n ---> Running in 967f129e53e5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing m4 (1.4.18-r1)\n(2/29) Installing libbz2 (1.0.6-r7)\n(3/29) Installing perl (5.26.3-r0)\n(4/29) Installing autoconf (2.69-r2)\n(5/29) Installing automake (1.16.1-r0)\n(6/29) Installing binutils (2.30-r6)\n(7/29) Installing libmagic (5.32-r2)\n(8/29) Installing file (5.32-r2)\n(9/29) Installing gmp (6.1.2-r1)\n(10/29) Installing isl (0.18-r0)\n(11/29) Installing libgomp (6.4.0-r9)\n(12/29) Installing libatomic (6.4.0-r9)\n(13/29) Installing pkgconf (1.5.3-r0)\n(14/29) Installing libgcc (6.4.0-r9)\n(15/29) Installing mpfr3 (3.1.5-r1)\n(16/29) Installing mpc1 (1.0.3-r1)\n(17/29) Installing libstdc++ (6.4.0-r9)\n(18/29) Installing gcc (6.4.0-r9)\n(19/29) Installing musl-dev (1.1.19-r11)\n(20/29) Installing libc-dev (0.7.1-r0)\n(21/29) Installing g++ (6.4.0-r9)\n(22/29) Installing make (4.2.1-r2)\n(23/29) Installing fortify-headers (0.9-r0)\n(24/29) Installing build-base (0.5-r1)\n(25/29) Installing ca-certificates (20191127-r2)\n(26/29) Installing nghttp2-libs (1.39.2-r0)\n(27/29) Installing libssh2 (1.9.0-r1)\n(28/29) Installing libcurl (7.61.1-r3)\n(29/29) Installing curl (7.61.1-r3)\nExecuting busybox-1.28.4-r3.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 207 MiB in 42 packages\nRemoving intermediate container 967f129e53e5\n ---> bf15f43bfc4a\nStep 3/17 : RUN curl -f -SL https://github.com/kornelski/giflossy/archive/1.91.tar.gz | tar xzv\n ---> Running in 8f764f15cbae\n\u001b[91m  % Total    % Recei\u001b[0m\u001b[91mved % \u001b[0m\u001b[91mXferd  Avera\u001b[0m\u001b[91mge Sp\u001b[0m\u001b[91meed   Ti\u001b[0m\u001b[91mme    Time     Ti\u001b[0m\u001b[91mme  Current\n \u001b[0m\u001b[91m            \u001b[0m\u001b[91m                \u001b[0m\u001b[91m    Dload  Uplo\u001b[0m\u001b[91mad   Tot\u001b[0m\u001b[91mal   S\u001b[0m\u001b[91mpent    \u001b[0m\u001b[91mLeft \u001b[0m\u001b[91m Spe\u001b[0m\u001b[91med\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r\u001b[0m\u001b[91m  \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m    0  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m    0    0     0\u001b[0m\u001b[91m      0     \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m --:-\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m --:--:--\u001b[0m\u001b[91m --:--:--     \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:\u001b[0m\u001b[91m--:-- --:--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    \u001b[0m\u001b[91m0     0      0  \u001b[0m\u001b[91m    0 --:--:-- --\u001b[0m\u001b[91m:--:-- --:--:-- \u001b[0m\u001b[91m    0\n\u001b[0mgiflossy-1.91/\ngiflossy-1.91/.appveyor.yml\ngiflossy-1.91/.gitignore\ngiflossy-1.91/.travis.yml\ngiflossy-1.91/COPYING\ngiflossy-1.91/INSTALL\ngiflossy-1.91/Makefile.am\ngiflossy-1.91/NEWS.md\ngiflossy-1.91/README.md\ngiflossy-1.91/bootstrap.sh\ngiflossy-1.91/configure.ac\ngiflossy-1.91/gifdiff.1\ngiflossy-1.91/gifsicle.1\ngiflossy-1.91/gifview.1\ngiflossy-1.91/include/\ngiflossy-1.91/include/lcdf/\ngiflossy-1.91/include/lcdf/clp.h\ngiflossy-1.91/include/lcdf/inttypes.h\ngiflossy-1.91/include/lcdfgif/\ngiflossy-1.91/include/lcdfgif/gif.h\ngiflossy-1.91/include/lcdfgif/gifx.h\ngiflossy-1.91/logo.gif\ngiflossy-1.91/logo1.gif\ngiflossy-1.91/src/\ngiflossy-1.91/src/Makefile.am\ngiflossy-1.91/src/Makefile.bcc\ngiflossy-1.91/src/Makefile.mingw\ngiflossy-1.91/src/Makefile.w32\ngiflossy-1.91/src/clp.c\ngiflossy-1.91/src/fmalloc.c\ngiflossy-1.91/src/gifdiff.c\ngiflossy-1.91/src/giffunc.c\ngiflossy-1.91/src/gifread.c\ngiflossy-1.91/src/gifsicle.c\ngiflossy-1.91/src/gifsicle.h\ngiflossy-1.91/src/giftoc.c\ngiflossy-1.91/src/gifunopt.c\ngiflossy-1.91/src/gifview.c\ngiflossy-1.91/src/gifwrite.c\u001b[91m\r100  467k    0  467k    0     0   844k      0\u001b[0m\u001b[91m --:--:-- --:--:-- \u001b[0m\u001b[91m--:--:-\u001b[0m\u001b[91m- \u001b[0m\u001b[91m 844k\n\u001b[0m\ngiflossy-1.91/src/gifx.c\ngiflossy-1.91/src/kcolor.h\ngiflossy-1.91/src/merge.c\ngiflossy-1.91/src/optimize.c\ngiflossy-1.91/src/opttemplate.c\ngiflossy-1.91/src/quantize.c\ngiflossy-1.91/src/strerror.c\ngiflossy-1.91/src/support.c\ngiflossy-1.91/src/ungifwrt.c\ngiflossy-1.91/src/win32cfg.h\ngiflossy-1.91/src/xform.c\ngiflossy-1.91/test/\ngiflossy-1.91/test/001-transexpand.testie\ngiflossy-1.91/test/002-cropresize.testie\ngiflossy-1.91/test/003-bgopt.testie\ngiflossy-1.91/test/004-careful.testie\ngiflossy-1.91/test/005-resize.testie\ngiflossy-1.91/test/006-unoptdisposal.testie\ngiflossy-1.91/test/007-alltransp.testie\ngiflossy-1.91/test/008-resizemix.testie\ngiflossy-1.91/test/009-zerowidth.testie\ngiflossy-1.91/test/010-warnings.testie\ngiflossy-1.91/test/011-resizemix.testie\ngiflossy-1.91/test/testie\nRemoving intermediate container 8f764f15cbae\n ---> c2e450102dd1\nStep 4/17 : RUN cd giflossy-1.91 && autoreconf -i && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make install\n ---> Running in c6da8384c65d\n\u001b[91mconfigure.ac:9: installing './compile'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './install-sh'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './missing'\n\u001b[0m\u001b[91msrc/Makefile.am: installing './depcomp'\n\u001b[0m\u001b[91m/bin/sh: dpkg-architecture: not found\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a thread-safe mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make sets $(MAKE)... (cached) yes\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of gcc... gcc3\nchecking how to run the C preprocessor... gcc -E\nchecking for an ANSI C-conforming const... yes\nchecking for inline... inline\nchecking for X... no\n\u001b[91mconfigure: WARNING: Not compiling gifview since X is not available.\n\u001b[0mchecking for random... yes\nchecking for strerror... yes\nchecking for strtoul... yes\nchecking for mkstemp... yes\nchecking for library containing pow... none required\nchecking sys/select.h usability... yes\nchecking sys/select.h presence... yes\nchecking for sys/select.h... yes\nchecking sys/stat.h usability... yes\nchecking sys/stat.h presence... yes\nchecking for sys/stat.h... yes\nchecking inttypes.h usability... yes\nchecking inttypes.h presence... yes\nchecking for inttypes.h... yes\nchecking unistd.h usability... yes\nchecking unistd.h presence... yes\nchecking for unistd.h... yes\nchecking for inttypes.h... (cached) yes\nchecking sys/types.h usability... yes\nchecking sys/types.h presence... yes\nchecking for sys/types.h... yes\nchecking for uintptr_t... yes\nchecking for int64_t... yes\nchecking for uint64_t... yes\nchecking size of float... 4\nchecking size of unsigned int... 4\nchecking size of unsigned long... 8\nchecking size of void *... 8\nchecking for usable vector_size vector types... yes\nchecking for usable ext_vector_type vector types... no\nchecking for __builtin_shufflevector... no\nchecking for library containing pthread_create... none required\nchecking for __sync_add_and_fetch... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nMaking install in src\nmake[1]: Entering directory '/giflossy-1.91/src'\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT clp.o -MD -MP -MF .deps/clp.Tpo -c -o clp.o clp.c\nmv -f .deps/clp.Tpo .deps/clp.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT fmalloc.o -MD -MP -MF .deps/fmalloc.Tpo -c -o fmalloc.o fmalloc.c\nmv -f .deps/fmalloc.Tpo .deps/fmalloc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT giffunc.o -MD -MP -MF .deps/giffunc.Tpo -c -o giffunc.o giffunc.c\nmv -f .deps/giffunc.Tpo .deps/giffunc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifread.o -MD -MP -MF .deps/gifread.Tpo -c -o gifread.o gifread.c\nmv -f .deps/gifread.Tpo .deps/gifread.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifunopt.o -MD -MP -MF .deps/gifunopt.Tpo -c -o gifunopt.o gifunopt.c\nmv -f .deps/gifunopt.Tpo .deps/gifunopt.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT merge.o -MD -MP -MF .deps/merge.Tpo -c -o merge.o merge.c\nmv -f .deps/merge.Tpo .deps/merge.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT optimize.o -MD -MP -MF .deps/optimize.Tpo -c -o optimize.o optimize.c\nmv -f .deps/optimize.Tpo .deps/optimize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT quantize.o -MD -MP -MF .deps/quantize.Tpo -c -o quantize.o quantize.c\nmv -f .deps/quantize.Tpo .deps/quantize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT support.o -MD -MP -MF .deps/support.Tpo -c -o support.o support.c\nmv -f .deps/support.Tpo .deps/support.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT xform.o -MD -MP -MF .deps/xform.Tpo -c -o xform.o xform.c\nmv -f .deps/xform.Tpo .deps/xform.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifsicle.o -MD -MP -MF .deps/gifsicle.Tpo -c -o gifsicle.o gifsicle.c\nmv -f .deps/gifsicle.Tpo .deps/gifsicle.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifwrite.o -MD -MP -MF .deps/gifwrite.Tpo -c -o gifwrite.o gifwrite.c\n\u001b[91mgifwrite.c: In function 'write_compressed_data.isra.8':\ngifwrite.c:530:28: warning: 'gfcm' may be used uninitialized in this function [-Wmaybe-uninitialized]\n       struct selected_node t = gfc_lookup_lossy(gfc, gfcm, gfi, pos, NULL, 0, (gfc_rgbdiff){0,0,0}, grr->gcinfo.loss * 10);\n                            ^\ngifwrite.c:596:18: warning: 'imageline' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         imageline++;\n         ~~~~~~~~~^~\n\u001b[0m\u001b[91mgifwrite.c:549:22: warning: 'image_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             unsigned pixels_left = image_endpos - pos - 1;\n                      ^~~~~~~~~~~\n\u001b[0m\u001b[91mgifwrite.c:600:23: warning: 'line_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n           line_endpos += gfi->width;\n           ~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0mmv -f .deps/gifwrite.Tpo .deps/gifwrite.Po\ngcc -W -Wall  -g -O2   -o gifsicle clp.o fmalloc.o giffunc.o gifread.o gifunopt.o merge.o optimize.o quantize.o support.o xform.o gifsicle.o  gifwrite.o \ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifdiff.o -MD -MP -MF .deps/gifdiff.Tpo -c -o gifdiff.o gifdiff.c\nmv -f .deps/gifdiff.Tpo .deps/gifdiff.Po\ngcc -W -Wall  -g -O2   -o gifdiff clp.o fmalloc.o giffunc.o gifread.o gifdiff.o  \nmake[2]: Entering directory '/giflossy-1.91/src'\n .././install-sh -c -d '/usr/local/bin'\n  /usr/bin/install -c gifsicle gifdiff '/usr/local/bin'\nmake[2]: Nothing to be done for 'install-data-am'.\nmake[2]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Entering directory '/giflossy-1.91'\nmake[2]: Entering directory '/giflossy-1.91'\nmake[2]: Nothing to be done for 'install-exec-am'.\n ./install-sh -c -d '/usr/local/share/man/man1'\n /usr/bin/install -c -m 644 gifsicle.1 gifdiff.1 '/usr/local/share/man/man1'\nmake[2]: Leaving directory '/giflossy-1.91'\nmake[1]: Leaving directory '/giflossy-1.91'\nRemoving intermediate container c6da8384c65d\n ---> 9a652bed751c\nStep 5/17 : RUN cp \"$(which gifsicle)\" /gifsicle\n ---> Running in bc534319f1f5\nRemoving intermediate container bc534319f1f5\n ---> 96ee8c50ad20\nStep 6/17 : FROM golang:1.11-alpine3.8 AS build-app\n ---> 9efe4a5a61c1\nStep 7/17 : RUN apk add --no-cache git\n ---> Running in 4da522173f0e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.39.2-r0)\n(2/6) Installing libssh2 (1.9.0-r1)\n(3/6) Installing libcurl (7.61.1-r3)\n(4/6) Installing expat (2.2.8-r0)\n(5/6) Installing pcre2 (10.31-r0)\n(6/6) Installing git (2.18.4-r0)\nExecuting busybox-1.28.4-r3.trigger\nOK: 19 MiB in 20 packages\nRemoving intermediate container 4da522173f0e\n ---> b217a326a13b\nStep 8/17 : WORKDIR ${GOPATH}/src/github.com/sgreben/yeetgif\n ---> Running in 58624aeaec97\nRemoving intermediate container 58624aeaec97\n ---> 292b4a1ec08d\nStep 9/17 : COPY vendor/ vendor/\n ---> 884d4c8128c5\nStep 10/17 : COPY pkg/ pkg/\n ---> 2f5943c6b3f8\nStep 11/17 : COPY cmd/ cmd/\n ---> 4cd9a9445dca\nStep 12/17 : RUN go build ./cmd/gif && mv gif /app\n ---> Running in b63c16bb94d8\nRemoving intermediate container b63c16bb94d8\n ---> b1989b0aee17\nStep 13/17 : FROM scratch\n ---> \nStep 14/17 : COPY --from=build-app /app /gif\n ---> c4d129c9d9c3\nStep 15/17 : COPY --from=build-giflossy /gifsicle /gifsicle\n ---> e01c73aab854\nStep 16/17 : ENV PATH /\n ---> Running in 75b60c6c7fa0\nRemoving intermediate container 75b60c6c7fa0\n ---> 2010d77ffaf0\nStep 17/17 : ENTRYPOINT [\"/gif\"]\n ---> Running in 49a5c6267503\nRemoving intermediate container 49a5c6267503\n ---> 1998e0923ba1\nSuccessfully built 1998e0923ba1\nSuccessfully tagged yeetgif:latest\n","stderr":"","imageSize":19104114}}