{"repository":"https://github.com/sgreben/ezrgif","dockerfilePath":"Dockerfile","startTime":1672391613831,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sgreben/ezrgif'...\n","error":null,"commit":"735ece583b793440b7311a19617d3d0adbb8968a"},"originalBuild":{"startTimestamp":1672391614779,"endTimestamp":1672391654805,"error":null,"stdout":"Sending build context to Docker daemon  1.049MB\r\r\nStep 1/10 : FROM alpine:3.8 AS build\n ---> c8bccc0af957\nStep 2/10 : RUN apk add --no-cache curl autoconf automake make build-base\n ---> Running in 893af84cf378\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing m4 (1.4.18-r1)\n(2/29) Installing libbz2 (1.0.6-r7)\n(3/29) Installing perl (5.26.3-r0)\n(4/29) Installing autoconf (2.69-r2)\n(5/29) Installing automake (1.16.1-r0)\n(6/29) Installing binutils (2.30-r6)\n(7/29) Installing libmagic (5.32-r2)\n(8/29) Installing file (5.32-r2)\n(9/29) Installing gmp (6.1.2-r1)\n(10/29) Installing isl (0.18-r0)\n(11/29) Installing libgomp (6.4.0-r9)\n(12/29) Installing libatomic (6.4.0-r9)\n(13/29) Installing pkgconf (1.5.3-r0)\n(14/29) Installing libgcc (6.4.0-r9)\n(15/29) Installing mpfr3 (3.1.5-r1)\n(16/29) Installing mpc1 (1.0.3-r1)\n(17/29) Installing libstdc++ (6.4.0-r9)\n(18/29) Installing gcc (6.4.0-r9)\n(19/29) Installing musl-dev (1.1.19-r11)\n(20/29) Installing libc-dev (0.7.1-r0)\n(21/29) Installing g++ (6.4.0-r9)\n(22/29) Installing make (4.2.1-r2)\n(23/29) Installing fortify-headers (0.9-r0)\n(24/29) Installing build-base (0.5-r1)\n(25/29) Installing ca-certificates (20191127-r2)\n(26/29) Installing nghttp2-libs (1.39.2-r0)\n(27/29) Installing libssh2 (1.9.0-r1)\n(28/29) Installing libcurl (7.61.1-r3)\n(29/29) Installing curl (7.61.1-r3)\nExecuting busybox-1.28.4-r3.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 207 MiB in 42 packages\nRemoving intermediate container 893af84cf378\n ---> 3f1256ae4542\nStep 3/10 : RUN curl -SL https://github.com/kornelski/giflossy/archive/1.91.tar.gz | tar xzv\n ---> Running in 4430f9130452\n\u001b[91m  % Total    % Received \u001b[0m\u001b[91m% Xferd  Average Speed   Time    Time   \u001b[0m\u001b[91m  Time  Curr\u001b[0m\u001b[91ment\n  \u001b[0m\u001b[91m                      \u001b[0m\u001b[91m         Dload  Uploa\u001b[0m\u001b[91md   Total\u001b[0m\u001b[91m   Sp\u001b[0m\u001b[91ment    Left  Spe\u001b[0m\u001b[91med\n\r\u001b[0m\u001b[91m  0  \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m    0      0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0 -\u001b[0m\u001b[91m-:--:-- \u001b[0m\u001b[91m--:--:-- \u001b[0m\u001b[91m--:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m\r  0     0    0     0    0 \u001b[0m\u001b[91m    0      \u001b[0m\u001b[91m0      \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m-- -\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m-- --:--:--   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n\u001b[0mgiflossy-1.91/\ngiflossy-1.91/.appveyor.yml\ngiflossy-1.91/.gitignore\ngiflossy-1.91/.travis.yml\ngiflossy-1.91/COPYING\ngiflossy-1.91/INSTALL\ngiflossy-1.91/Makefile.am\ngiflossy-1.91/NEWS.md\ngiflossy-1.91/README.md\ngiflossy-1.91/bootstrap.sh\ngiflossy-1.91/configure.ac\ngiflossy-1.91/gifdiff.1\ngiflossy-1.91/gifsicle.1\ngiflossy-1.91/gifview.1\ngiflossy-1.91/include/\ngiflossy-1.91/include/lcdf/\ngiflossy-1.91/include/lcdf/clp.h\ngiflossy-1.91/include/lcdf/inttypes.h\ngiflossy-1.91/include/lcdfgif/\ngiflossy-1.91/include/lcdfgif/gif.h\ngiflossy-1.91/include/lcdfgif/gifx.h\ngiflossy-1.91/logo.gif\ngiflossy-1.91/logo1.gif\ngiflossy-1.91/src/\ngiflossy-1.91/src/Makefile.am\ngiflossy-1.91/src/Makefile.bcc\ngiflossy-1.91/src/Makefile.mingw\ngiflossy-1.91/src/Makefile.w32\ngiflossy-1.91/src/clp.c\ngiflossy-1.91/src/fmalloc.c\ngiflossy-1.91/src/gifdiff.c\ngiflossy-1.91/src/giffunc.c\ngiflossy-1.91/src/gifread.c\ngiflossy-1.91/src/gifsicle.c\ngiflossy-1.91/src/gifsicle.h\ngiflossy-1.91/src/giftoc.c\ngiflossy-1.91/src/gifunopt.c\ngiflossy-1.91/src/gifview.c\ngiflossy-1.91/src/gifwrite.c\u001b[91m\r100  467k    0  467k    0     0   660k      0 --:--:-- -\u001b[0m\u001b[91m-:--:-- --:--:--  660k\n\u001b[0m\ngiflossy-1.91/src/gifx.c\ngiflossy-1.91/src/kcolor.h\ngiflossy-1.91/src/merge.c\ngiflossy-1.91/src/optimize.c\ngiflossy-1.91/src/opttemplate.c\ngiflossy-1.91/src/quantize.c\ngiflossy-1.91/src/strerror.c\ngiflossy-1.91/src/support.c\ngiflossy-1.91/src/ungifwrt.c\ngiflossy-1.91/src/win32cfg.h\ngiflossy-1.91/src/xform.c\ngiflossy-1.91/test/\ngiflossy-1.91/test/001-transexpand.testie\ngiflossy-1.91/test/002-cropresize.testie\ngiflossy-1.91/test/003-bgopt.testie\ngiflossy-1.91/test/004-careful.testie\ngiflossy-1.91/test/005-resize.testie\ngiflossy-1.91/test/006-unoptdisposal.testie\ngiflossy-1.91/test/007-alltransp.testie\ngiflossy-1.91/test/008-resizemix.testie\ngiflossy-1.91/test/009-zerowidth.testie\ngiflossy-1.91/test/010-warnings.testie\ngiflossy-1.91/test/011-resizemix.testie\ngiflossy-1.91/test/testie\nRemoving intermediate container 4430f9130452\n ---> 837ec008946a\nStep 4/10 : RUN cd giflossy-1.91 && autoreconf -i && ./configure && make install\n ---> Running in dbe62ba76dd7\n\u001b[91mconfigure.ac:9: installing './compile'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './install-sh'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './missing'\n\u001b[0m\u001b[91msrc/Makefile.am: installing './depcomp'\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a thread-safe mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make sets $(MAKE)... (cached) yes\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of gcc... gcc3\nchecking how to run the C preprocessor... gcc -E\nchecking for an ANSI C-conforming const... yes\nchecking for inline... inline\nchecking for X... no\n\u001b[91mconfigure: WARNING: Not compiling gifview since X is not available.\n\u001b[0mchecking for random... yes\nchecking for strerror... yes\nchecking for strtoul... yes\nchecking for mkstemp... yes\nchecking for library containing pow... none required\nchecking sys/select.h usability... yes\nchecking sys/select.h presence... yes\nchecking for sys/select.h... yes\nchecking sys/stat.h usability... yes\nchecking sys/stat.h presence... yes\nchecking for sys/stat.h... yes\nchecking inttypes.h usability... yes\nchecking inttypes.h presence... yes\nchecking for inttypes.h... yes\nchecking unistd.h usability... yes\nchecking unistd.h presence... yes\nchecking for unistd.h... yes\nchecking for inttypes.h... (cached) yes\nchecking sys/types.h usability... yes\nchecking sys/types.h presence... yes\nchecking for sys/types.h... yes\nchecking for uintptr_t... yes\nchecking for int64_t... yes\nchecking for uint64_t... yes\nchecking size of float... 4\nchecking size of unsigned int... 4\nchecking size of unsigned long... 8\nchecking size of void *... 8\nchecking for usable vector_size vector types... yes\nchecking for usable ext_vector_type vector types... no\nchecking for __builtin_shufflevector... no\nchecking for library containing pthread_create... none required\nchecking for __sync_add_and_fetch... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nMaking install in src\nmake[1]: Entering directory '/giflossy-1.91/src'\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT clp.o -MD -MP -MF .deps/clp.Tpo -c -o clp.o clp.c\nmv -f .deps/clp.Tpo .deps/clp.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT fmalloc.o -MD -MP -MF .deps/fmalloc.Tpo -c -o fmalloc.o fmalloc.c\nmv -f .deps/fmalloc.Tpo .deps/fmalloc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT giffunc.o -MD -MP -MF .deps/giffunc.Tpo -c -o giffunc.o giffunc.c\nmv -f .deps/giffunc.Tpo .deps/giffunc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifread.o -MD -MP -MF .deps/gifread.Tpo -c -o gifread.o gifread.c\nmv -f .deps/gifread.Tpo .deps/gifread.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifunopt.o -MD -MP -MF .deps/gifunopt.Tpo -c -o gifunopt.o gifunopt.c\nmv -f .deps/gifunopt.Tpo .deps/gifunopt.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT merge.o -MD -MP -MF .deps/merge.Tpo -c -o merge.o merge.c\nmv -f .deps/merge.Tpo .deps/merge.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT optimize.o -MD -MP -MF .deps/optimize.Tpo -c -o optimize.o optimize.c\nmv -f .deps/optimize.Tpo .deps/optimize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT quantize.o -MD -MP -MF .deps/quantize.Tpo -c -o quantize.o quantize.c\nmv -f .deps/quantize.Tpo .deps/quantize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT support.o -MD -MP -MF .deps/support.Tpo -c -o support.o support.c\nmv -f .deps/support.Tpo .deps/support.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT xform.o -MD -MP -MF .deps/xform.Tpo -c -o xform.o xform.c\nmv -f .deps/xform.Tpo .deps/xform.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifsicle.o -MD -MP -MF .deps/gifsicle.Tpo -c -o gifsicle.o gifsicle.c\nmv -f .deps/gifsicle.Tpo .deps/gifsicle.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifwrite.o -MD -MP -MF .deps/gifwrite.Tpo -c -o gifwrite.o gifwrite.c\n\u001b[91mgifwrite.c: In function 'write_compressed_data.isra.8':\ngifwrite.c:530:28: warning: 'gfcm' may be used uninitialized in this function [-Wmaybe-uninitialized]\n       struct selected_node t = gfc_lookup_lossy(gfc, gfcm, gfi, pos, NULL, 0, (gfc_rgbdiff){0,0,0}, grr->gcinfo.loss * 10);\n                            ^\ngifwrite.c:596:18: warning: 'imageline' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         imageline++;\n         ~~~~~~~~~^~\ngifwrite.c:549:22: warning: 'image_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             unsigned pixels_left = image_endpos - pos - 1;\n                      ^~~~~~~~~~~\n\u001b[0m\u001b[91mgifwrite.c:600:23: warning: 'line_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n           line_endpos += gfi->width;\n           ~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0mmv -f .deps/gifwrite.Tpo .deps/gifwrite.Po\ngcc -W -Wall  -g -O2   -o gifsicle clp.o fmalloc.o giffunc.o gifread.o gifunopt.o merge.o optimize.o quantize.o support.o xform.o gifsicle.o  gifwrite.o \ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifdiff.o -MD -MP -MF .deps/gifdiff.Tpo -c -o gifdiff.o gifdiff.c\nmv -f .deps/gifdiff.Tpo .deps/gifdiff.Po\ngcc -W -Wall  -g -O2   -o gifdiff clp.o fmalloc.o giffunc.o gifread.o gifdiff.o  \nmake[2]: Entering directory '/giflossy-1.91/src'\n .././install-sh -c -d '/usr/local/bin'\n  /usr/bin/install -c gifsicle gifdiff '/usr/local/bin'\nmake[2]: Nothing to be done for 'install-data-am'.\nmake[2]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Entering directory '/giflossy-1.91'\nmake[2]: Entering directory '/giflossy-1.91'\nmake[2]: Nothing to be done for 'install-exec-am'.\n ./install-sh -c -d '/usr/local/share/man/man1'\n /usr/bin/install -c -m 644 gifsicle.1 gifdiff.1 '/usr/local/share/man/man1'\nmake[2]: Leaving directory '/giflossy-1.91'\nmake[1]: Leaving directory '/giflossy-1.91'\nRemoving intermediate container dbe62ba76dd7\n ---> 14551c8c6a14\nStep 5/10 : RUN cp \"$(which gifsicle)\" /gifsicle\n ---> Running in 18069e04c061\nRemoving intermediate container 18069e04c061\n ---> 6bc4e8927f0f\nStep 6/10 : FROM alpine:3.8\n ---> c8bccc0af957\nStep 7/10 : RUN apk add --no-cache \"imagemagick>=7.0.7.32-r0\"\n ---> Running in a04bbdcb6097\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/48) Installing libxau (1.0.8-r2)\n(2/48) Installing libbsd (0.8.6-r2)\n(3/48) Installing libxdmcp (1.1.2-r4)\n(4/48) Installing libxcb (1.13-r2)\n(5/48) Installing libx11 (1.6.6-r0)\n(6/48) Installing libxext (1.3.3-r2)\n(7/48) Installing libbz2 (1.0.6-r7)\n(8/48) Installing expat (2.2.8-r0)\n(9/48) Installing libpng (1.6.37-r0)\n(10/48) Installing freetype (2.9.1-r1)\n(11/48) Installing fontconfig (2.12.6-r1)\n(12/48) Installing lcms2 (2.9-r1)\n(13/48) Installing libltdl (2.4.6-r5)\n(14/48) Installing libxml2 (2.9.8-r2)\n(15/48) Installing imagemagick-libs (7.0.8.68-r0)\n(16/48) Installing libxrender (0.9.10-r2)\n(17/48) Installing pixman (0.34.0-r5)\n(18/48) Installing cairo (1.14.12-r2)\n(19/48) Installing libffi (3.2.1-r4)\n(20/48) Installing libintl (0.19.8.1-r2)\n(21/48) Installing libuuid (2.32-r0)\n(22/48) Installing libblkid (2.32-r0)\n(23/48) Installing libmount (2.32-r0)\n(24/48) Installing pcre (8.42-r0)\n(25/48) Installing glib (2.56.1-r1)\n(26/48) Installing dbus-libs (1.10.28-r0)\n(27/48) Installing avahi-libs (0.7-r2)\n(28/48) Installing gmp (6.1.2-r1)\n(29/48) Installing nettle (3.4.1-r0)\n(30/48) Installing p11-kit (0.23.10-r0)\n(31/48) Installing libtasn1 (4.14-r0)\n(32/48) Installing libunistring (0.9.7-r0)\n(33/48) Installing gnutls (3.6.14-r0)\n(34/48) Installing cups-libs (2.2.12-r0)\n(35/48) Installing jbig2dec (0.14-r0)\n(36/48) Installing libjpeg-turbo (1.5.3-r6)\n(37/48) Installing tiff (4.0.10-r3)\n(38/48) Installing ghostscript (9.26-r4)\n(39/48) Installing libxft (2.3.2-r2)\n(40/48) Installing graphite2 (1.3.11-r1)\n(41/48) Installing harfbuzz (1.7.6-r1)\n(42/48) Installing pango (1.40.14-r1)\n(43/48) Installing libcroco (0.6.12-r2)\n(44/48) Installing shared-mime-info (1.9-r0)\n(45/48) Installing gdk-pixbuf (2.36.11-r2)\n(46/48) Installing librsvg (2.40.21-r0)\n(47/48) Installing libwebp (1.0.0-r0)\n(48/48) Installing imagemagick (7.0.8.68-r0)\nExecuting busybox-1.28.4-r3.trigger\nExecuting fontconfig-2.12.6-r1.trigger\nExecuting glib-2.56.1-r1.trigger\nExecuting shared-mime-info-1.9-r0.trigger\nExecuting gdk-pixbuf-2.36.11-r2.trigger\nOK: 88 MiB in 61 packages\nRemoving intermediate container a04bbdcb6097\n ---> cc4f1afe1886\nStep 8/10 : COPY --from=build /gifsicle /bin/gifsicle\n ---> 26fb36d3dafc\nStep 9/10 : COPY gif.sh /ezrgif\n ---> 32fa63de07c2\nStep 10/10 : ENTRYPOINT [\"/ezrgif\"]\n ---> Running in 4c71f16ff6c2\nRemoving intermediate container 4c71f16ff6c2\n ---> f020e819ee25\nSuccessfully built f020e819ee25\nSuccessfully tagged ezrgif:latest\n","stderr":"","imageSize":91431691},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":3,"end":3,"columnStart":4,"columnEnd":70}},{"name":"configureShouldUseBuildFlag","position":{"start":4,"end":4,"columnStart":41,"columnEnd":52}}],"repairedDockerfile":"# download and build giflossy\nFROM alpine:3.8 AS build\nRUN apk add --no-cache curl autoconf automake make build-base\nRUN curl -f -SL https://github.com/kornelski/giflossy/archive/1.91.tar.gz | tar xzv\nRUN cd giflossy-1.91 && autoreconf -i && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make install\nRUN cp \"$(which gifsicle)\" /gifsicle\n\n# app image\nFROM alpine:3.8\nRUN apk add --no-cache \"imagemagick>=7.0.7.32-r0\"\nCOPY --from=build /gifsicle /bin/gifsicle\nCOPY gif.sh /ezrgif\nENTRYPOINT [\"/ezrgif\"]\n"},"repairedBuild":{"startTimestamp":1672391655133,"endTimestamp":1672391696593,"error":null,"stdout":"Sending build context to Docker daemon  1.049MB\r\r\nStep 1/10 : FROM alpine:3.8 AS build\n ---> c8bccc0af957\nStep 2/10 : RUN apk add --no-cache curl autoconf automake make build-base\n ---> Running in 4fef3c0064b4\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/29) Installing m4 (1.4.18-r1)\n(2/29) Installing libbz2 (1.0.6-r7)\n(3/29) Installing perl (5.26.3-r0)\n(4/29) Installing autoconf (2.69-r2)\n(5/29) Installing automake (1.16.1-r0)\n(6/29) Installing binutils (2.30-r6)\n(7/29) Installing libmagic (5.32-r2)\n(8/29) Installing file (5.32-r2)\n(9/29) Installing gmp (6.1.2-r1)\n(10/29) Installing isl (0.18-r0)\n(11/29) Installing libgomp (6.4.0-r9)\n(12/29) Installing libatomic (6.4.0-r9)\n(13/29) Installing pkgconf (1.5.3-r0)\n(14/29) Installing libgcc (6.4.0-r9)\n(15/29) Installing mpfr3 (3.1.5-r1)\n(16/29) Installing mpc1 (1.0.3-r1)\n(17/29) Installing libstdc++ (6.4.0-r9)\n(18/29) Installing gcc (6.4.0-r9)\n(19/29) Installing musl-dev (1.1.19-r11)\n(20/29) Installing libc-dev (0.7.1-r0)\n(21/29) Installing g++ (6.4.0-r9)\n(22/29) Installing make (4.2.1-r2)\n(23/29) Installing fortify-headers (0.9-r0)\n(24/29) Installing build-base (0.5-r1)\n(25/29) Installing ca-certificates (20191127-r2)\n(26/29) Installing nghttp2-libs (1.39.2-r0)\n(27/29) Installing libssh2 (1.9.0-r1)\n(28/29) Installing libcurl (7.61.1-r3)\n(29/29) Installing curl (7.61.1-r3)\nExecuting busybox-1.28.4-r3.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 207 MiB in 42 packages\nRemoving intermediate container 4fef3c0064b4\n ---> 1b7d72ad42a9\nStep 3/10 : RUN curl -f -SL https://github.com/kornelski/giflossy/archive/1.91.tar.gz | tar xzv\n ---> Running in 1a46183a583b\n\u001b[91m  % Total    % Received % Xf\u001b[0m\u001b[91merd  Average Spe\u001b[0m\u001b[91med   Time    Time\u001b[0m\u001b[91m     T\u001b[0m\u001b[91mime  Current\n\u001b[0m\u001b[91m                      \u001b[0m\u001b[91m           Dload\u001b[0m\u001b[91m  Uplo\u001b[0m\u001b[91mad   T\u001b[0m\u001b[91mota\u001b[0m\u001b[91ml   \u001b[0m\u001b[91mSpent \u001b[0m\u001b[91m   Left  Sp\u001b[0m\u001b[91meed\n\r  0  \u001b[0m\u001b[91m   0    0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m  0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m    \u001b[0m\u001b[91m  0 \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:-- \u001b[0m\u001b[91m--:--\u001b[0m\u001b[91m:-- -\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m--:--    \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:-- \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m\r  0     0    0     0    0     0    \u001b[0m\u001b[91m  0      0 \u001b[0m\u001b[91m--:--:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:-- --:--:--\u001b[0m\u001b[91m     0\u001b[0mgiflossy-1.91/\ngiflossy-1.91/.appveyor.yml\ngiflossy-1.91/.gitignore\ngiflossy-1.91/.travis.yml\ngiflossy-1.91/COPYING\ngiflossy-1.91/INSTALL\ngiflossy-1.91/Makefile.am\ngiflossy-1.91/NEWS.md\ngiflossy-1.91/README.md\ngiflossy-1.91/bootstrap.sh\ngiflossy-1.91/configure.ac\ngiflossy-1.91/gifdiff.1\ngiflossy-1.91/gifsicle.1\ngiflossy-1.91/gifview.1\ngiflossy-1.91/include/\ngiflossy-1.91/include/lcdf/\ngiflossy-1.91/include/lcdf/clp.h\ngiflossy-1.91/include/lcdf/inttypes.h\ngiflossy-1.91/include/lcdfgif/\ngiflossy-1.91/include/lcdfgif/gif.h\ngiflossy-1.91/include/lcdfgif/gifx.h\ngiflossy-1.91/logo.gif\ngiflossy-1.91/logo1.gif\ngiflossy-1.91/src/\ngiflossy-1.91/src/Makefile.am\ngiflossy-1.91/src/Makefile.bcc\ngiflossy-1.91/src/Makefile.mingw\ngiflossy-1.91/src/Makefile.w32\ngiflossy-1.91/src/clp.c\ngiflossy-1.91/src/fmalloc.c\ngiflossy-1.91/src/gifdiff.c\ngiflossy-1.91/src/giffunc.c\ngiflossy-1.91/src/gifread.c\ngiflossy-1.91/src/gifsicle.c\ngiflossy-1.91/src/gifsicle.h\ngiflossy-1.91/src/giftoc.c\ngiflossy-1.91/src/gifunopt.c\ngiflossy-1.91/src/gifview.c\ngiflossy-1.91/src/gifwrite.c\u001b[91m\r100  467k    0  467k    0     0   996\u001b[0m\u001b[91mk      0 --:--:-- --:--:-- --:--\u001b[0m\u001b[91m:-- 3178k\n\u001b[0m\ngiflossy-1.91/src/gifx.c\ngiflossy-1.91/src/kcolor.h\ngiflossy-1.91/src/merge.c\ngiflossy-1.91/src/optimize.c\ngiflossy-1.91/src/opttemplate.c\ngiflossy-1.91/src/quantize.c\ngiflossy-1.91/src/strerror.c\ngiflossy-1.91/src/support.c\ngiflossy-1.91/src/ungifwrt.c\ngiflossy-1.91/src/win32cfg.h\ngiflossy-1.91/src/xform.c\ngiflossy-1.91/test/\ngiflossy-1.91/test/001-transexpand.testie\ngiflossy-1.91/test/002-cropresize.testie\ngiflossy-1.91/test/003-bgopt.testie\ngiflossy-1.91/test/004-careful.testie\ngiflossy-1.91/test/005-resize.testie\ngiflossy-1.91/test/006-unoptdisposal.testie\ngiflossy-1.91/test/007-alltransp.testie\ngiflossy-1.91/test/008-resizemix.testie\ngiflossy-1.91/test/009-zerowidth.testie\ngiflossy-1.91/test/010-warnings.testie\ngiflossy-1.91/test/011-resizemix.testie\ngiflossy-1.91/test/testie\nRemoving intermediate container 1a46183a583b\n ---> a12959152a64\nStep 4/10 : RUN cd giflossy-1.91 && autoreconf -i && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make install\n ---> Running in 9c2af6edec76\n\u001b[91mconfigure.ac:9: installing './compile'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './install-sh'\n\u001b[0m\u001b[91mconfigure.ac:5: installing './missing'\n\u001b[0m\u001b[91msrc/Makefile.am: installing './depcomp'\n\u001b[0m\u001b[91m/bin/sh: dpkg-architecture: not found\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a thread-safe mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make sets $(MAKE)... (cached) yes\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of gcc... gcc3\nchecking how to run the C preprocessor... gcc -E\nchecking for an ANSI C-conforming const... yes\nchecking for inline... inline\nchecking for X... no\n\u001b[91mconfigure: WARNING: Not compiling gifview since X is not available.\n\u001b[0mchecking for random... yes\nchecking for strerror... yes\nchecking for strtoul... yes\nchecking for mkstemp... yes\nchecking for library containing pow... none required\nchecking sys/select.h usability... yes\nchecking sys/select.h presence... yes\nchecking for sys/select.h... yes\nchecking sys/stat.h usability... yes\nchecking sys/stat.h presence... yes\nchecking for sys/stat.h... yes\nchecking inttypes.h usability... yes\nchecking inttypes.h presence... yes\nchecking for inttypes.h... yes\nchecking unistd.h usability... yes\nchecking unistd.h presence... yes\nchecking for unistd.h... yes\nchecking for inttypes.h... (cached) yes\nchecking sys/types.h usability... yes\nchecking sys/types.h presence... yes\nchecking for sys/types.h... yes\nchecking for uintptr_t... yes\nchecking for int64_t... yes\nchecking for uint64_t... yes\nchecking size of float... 4\nchecking size of unsigned int... 4\nchecking size of unsigned long... 8\nchecking size of void *... 8\nchecking for usable vector_size vector types... yes\nchecking for usable ext_vector_type vector types... no\nchecking for __builtin_shufflevector... no\nchecking for library containing pthread_create... none required\nchecking for __sync_add_and_fetch... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nMaking install in src\nmake[1]: Entering directory '/giflossy-1.91/src'\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT clp.o -MD -MP -MF .deps/clp.Tpo -c -o clp.o clp.c\nmv -f .deps/clp.Tpo .deps/clp.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT fmalloc.o -MD -MP -MF .deps/fmalloc.Tpo -c -o fmalloc.o fmalloc.c\nmv -f .deps/fmalloc.Tpo .deps/fmalloc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT giffunc.o -MD -MP -MF .deps/giffunc.Tpo -c -o giffunc.o giffunc.c\nmv -f .deps/giffunc.Tpo .deps/giffunc.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifread.o -MD -MP -MF .deps/gifread.Tpo -c -o gifread.o gifread.c\nmv -f .deps/gifread.Tpo .deps/gifread.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifunopt.o -MD -MP -MF .deps/gifunopt.Tpo -c -o gifunopt.o gifunopt.c\nmv -f .deps/gifunopt.Tpo .deps/gifunopt.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT merge.o -MD -MP -MF .deps/merge.Tpo -c -o merge.o merge.c\nmv -f .deps/merge.Tpo .deps/merge.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT optimize.o -MD -MP -MF .deps/optimize.Tpo -c -o optimize.o optimize.c\nmv -f .deps/optimize.Tpo .deps/optimize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT quantize.o -MD -MP -MF .deps/quantize.Tpo -c -o quantize.o quantize.c\nmv -f .deps/quantize.Tpo .deps/quantize.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT support.o -MD -MP -MF .deps/support.Tpo -c -o support.o support.c\nmv -f .deps/support.Tpo .deps/support.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT xform.o -MD -MP -MF .deps/xform.Tpo -c -o xform.o xform.c\nmv -f .deps/xform.Tpo .deps/xform.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifsicle.o -MD -MP -MF .deps/gifsicle.Tpo -c -o gifsicle.o gifsicle.c\nmv -f .deps/gifsicle.Tpo .deps/gifsicle.Po\ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifwrite.o -MD -MP -MF .deps/gifwrite.Tpo -c -o gifwrite.o gifwrite.c\n\u001b[91mgifwrite.c: In function 'write_compressed_data.isra.8':\ngifwrite.c:530:28: warning: 'gfcm' may be used uninitialized in this function [-Wmaybe-uninitialized]\n       struct selected_node t = gfc_lookup_lossy(gfc, gfcm, gfi, pos, NULL, 0, (gfc_rgbdiff){0,0,0}, grr->gcinfo.loss * 10);\n                            ^\ngifwrite.c:596:18: warning: 'imageline' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         imageline++;\n         ~~~~~~~~~^~\n\u001b[0m\u001b[91mgifwrite.c:549:22: warning: 'image_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             unsigned pixels_left = image_endpos - pos - 1;\n                      ^~~~~~~~~~~\n\u001b[0m\u001b[91mgifwrite.c:600:23: warning: 'line_endpos' may be used uninitialized in this function [-Wmaybe-uninitialized]\n           line_endpos += gfi->width;\n           ~~~~~~~~~~~~^~~~~~~~~~~~~\n\u001b[0mmv -f .deps/gifwrite.Tpo .deps/gifwrite.Po\ngcc -W -Wall  -g -O2   -o gifsicle clp.o fmalloc.o giffunc.o gifread.o gifunopt.o merge.o optimize.o quantize.o support.o xform.o gifsicle.o  gifwrite.o \ngcc -W -Wall -DHAVE_CONFIG_H -I. -I..    -I../include   -g -O2 -MT gifdiff.o -MD -MP -MF .deps/gifdiff.Tpo -c -o gifdiff.o gifdiff.c\nmv -f .deps/gifdiff.Tpo .deps/gifdiff.Po\ngcc -W -Wall  -g -O2   -o gifdiff clp.o fmalloc.o giffunc.o gifread.o gifdiff.o  \nmake[2]: Entering directory '/giflossy-1.91/src'\n .././install-sh -c -d '/usr/local/bin'\n  /usr/bin/install -c gifsicle gifdiff '/usr/local/bin'\nmake[2]: Nothing to be done for 'install-data-am'.\nmake[2]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Leaving directory '/giflossy-1.91/src'\nmake[1]: Entering directory '/giflossy-1.91'\nmake[2]: Entering directory '/giflossy-1.91'\nmake[2]: Nothing to be done for 'install-exec-am'.\n ./install-sh -c -d '/usr/local/share/man/man1'\n /usr/bin/install -c -m 644 gifsicle.1 gifdiff.1 '/usr/local/share/man/man1'\nmake[2]: Leaving directory '/giflossy-1.91'\nmake[1]: Leaving directory '/giflossy-1.91'\nRemoving intermediate container 9c2af6edec76\n ---> cf53f5a657bc\nStep 5/10 : RUN cp \"$(which gifsicle)\" /gifsicle\n ---> Running in 9573cd71d73a\nRemoving intermediate container 9573cd71d73a\n ---> 7d7ffcc045f1\nStep 6/10 : FROM alpine:3.8\n ---> c8bccc0af957\nStep 7/10 : RUN apk add --no-cache \"imagemagick>=7.0.7.32-r0\"\n ---> Running in 4e443fcc7618\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/48) Installing libxau (1.0.8-r2)\n(2/48) Installing libbsd (0.8.6-r2)\n(3/48) Installing libxdmcp (1.1.2-r4)\n(4/48) Installing libxcb (1.13-r2)\n(5/48) Installing libx11 (1.6.6-r0)\n(6/48) Installing libxext (1.3.3-r2)\n(7/48) Installing libbz2 (1.0.6-r7)\n(8/48) Installing expat (2.2.8-r0)\n(9/48) Installing libpng (1.6.37-r0)\n(10/48) Installing freetype (2.9.1-r1)\n(11/48) Installing fontconfig (2.12.6-r1)\n(12/48) Installing lcms2 (2.9-r1)\n(13/48) Installing libltdl (2.4.6-r5)\n(14/48) Installing libxml2 (2.9.8-r2)\n(15/48) Installing imagemagick-libs (7.0.8.68-r0)\n(16/48) Installing libxrender (0.9.10-r2)\n(17/48) Installing pixman (0.34.0-r5)\n(18/48) Installing cairo (1.14.12-r2)\n(19/48) Installing libffi (3.2.1-r4)\n(20/48) Installing libintl (0.19.8.1-r2)\n(21/48) Installing libuuid (2.32-r0)\n(22/48) Installing libblkid (2.32-r0)\n(23/48) Installing libmount (2.32-r0)\n(24/48) Installing pcre (8.42-r0)\n(25/48) Installing glib (2.56.1-r1)\n(26/48) Installing dbus-libs (1.10.28-r0)\n(27/48) Installing avahi-libs (0.7-r2)\n(28/48) Installing gmp (6.1.2-r1)\n(29/48) Installing nettle (3.4.1-r0)\n(30/48) Installing p11-kit (0.23.10-r0)\n(31/48) Installing libtasn1 (4.14-r0)\n(32/48) Installing libunistring (0.9.7-r0)\n(33/48) Installing gnutls (3.6.14-r0)\n(34/48) Installing cups-libs (2.2.12-r0)\n(35/48) Installing jbig2dec (0.14-r0)\n(36/48) Installing libjpeg-turbo (1.5.3-r6)\n(37/48) Installing tiff (4.0.10-r3)\n(38/48) Installing ghostscript (9.26-r4)\n(39/48) Installing libxft (2.3.2-r2)\n(40/48) Installing graphite2 (1.3.11-r1)\n(41/48) Installing harfbuzz (1.7.6-r1)\n(42/48) Installing pango (1.40.14-r1)\n(43/48) Installing libcroco (0.6.12-r2)\n(44/48) Installing shared-mime-info (1.9-r0)\n(45/48) Installing gdk-pixbuf (2.36.11-r2)\n(46/48) Installing librsvg (2.40.21-r0)\n(47/48) Installing libwebp (1.0.0-r0)\n(48/48) Installing imagemagick (7.0.8.68-r0)\nExecuting busybox-1.28.4-r3.trigger\nExecuting fontconfig-2.12.6-r1.trigger\nExecuting glib-2.56.1-r1.trigger\nExecuting shared-mime-info-1.9-r0.trigger\nExecuting gdk-pixbuf-2.36.11-r2.trigger\nOK: 88 MiB in 61 packages\nRemoving intermediate container 4e443fcc7618\n ---> 01d4c8e5220a\nStep 8/10 : COPY --from=build /gifsicle /bin/gifsicle\n ---> 42e6938c94f7\nStep 9/10 : COPY gif.sh /ezrgif\n ---> 3ba4b51c3afd\nStep 10/10 : ENTRYPOINT [\"/ezrgif\"]\n ---> Running in 49b94a334835\nRemoving intermediate container 49b94a334835\n ---> da66a4baad73\nSuccessfully built da66a4baad73\nSuccessfully tagged ezrgif:latest\n","stderr":"","imageSize":91431691},"endTime":1672391696886}