{"repository":"https://github.com/involutehell/pallas-bot","dockerfilePath":"Dockerfile","startTime":1672169649539,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/involutehell/pallas-bot'...\n","error":null,"commit":"2c41837685132ce9ae67ef4b51736a890172167d"},"originalBuild":{"startTimestamp":1672169657287,"endTimestamp":1672169788082,"error":null,"stdout":"Sending build context to Docker daemon  60.95MB\r\r\nStep 1/14 : FROM python:3.9 as requirements-stage\n ---> 68cf04410baf\nStep 2/14 : WORKDIR /tmp\n ---> Running in 6df47f101c8f\nRemoving intermediate container 6df47f101c8f\n ---> d2e38a5f447d\nStep 3/14 : COPY ./pyproject.toml ./poetry.lock* /tmp/\n ---> 30085b0bce59\nStep 4/14 : RUN curl -sSL https://install.python-poetry.org -o install-poetry.py\n ---> Running in 493e8978c6f6\nRemoving intermediate container 493e8978c6f6\n ---> 6ecfdb50c7b7\nStep 5/14 : RUN python install-poetry.py --yes\n ---> Running in 5c48703d5dea\nRetrieving Poetry metadata\n\n# Welcome to Poetry!\n\nThis will download and install the latest version of Poetry,\na dependency and package manager for Python.\n\nIt will add the `poetry` command to Poetry's bin directory, located at:\n\n/root/.local/bin\n\nYou can uninstall at any time by executing this script with the --uninstall option,\nand these changes will be reverted.\n\nInstalling Poetry (1.3.1)\nInstalling Poetry (1.3.1): Creating environment\nInstalling Poetry (1.3.1): Installing Poetry\nInstalling Poetry (1.3.1): Creating script\nInstalling Poetry (1.3.1): Done\n\nPoetry (1.3.1) is installed now. Great!\n\nTo get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`\nenvironment variable.\n\nAdd `export PATH=\"/root/.local/bin:$PATH\"` to your shell configuration file.\n\nAlternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.\n\nYou can test that everything is set up by executing:\n\n`poetry --version`\n\nRemoving intermediate container 5c48703d5dea\n ---> 47d131c220a3\nStep 6/14 : ENV PATH=\"${PATH}:/root/.local/bin\"\n ---> Running in 116232d12cf1\nRemoving intermediate container 116232d12cf1\n ---> b8353fbd863f\nStep 7/14 : RUN poetry export -f requirements.txt --output requirements.txt --without-hashes\n ---> Running in af8efbe78bfa\n\u001b[91mThe lock file does not exist. Locking.\n\u001b[0m\u001b[91mCreating virtualenv pallas-bot-6WcazSRI-py3.9 in /root/.cache/pypoetry/virtualenvs\n\u001b[0mUpdating dependencies\nResolving dependencies...\n\nWriting lock file\nRemoving intermediate container af8efbe78bfa\n ---> 93d5fd344a3a\nStep 8/14 : FROM tiangolo/uvicorn-gunicorn-fastapi:python3.9\npython3.9: Pulling from tiangolo/uvicorn-gunicorn-fastapi\nf2f58072e9ed: Already exists\n5c8cfbf51e6e: Already exists\naa3a609d1579: Already exists\n094e7d9bb04e: Pulling fs layer\n2cbfd734f382: Pulling fs layer\naa86ac293d0f: Pulling fs layer\nea442e3d4174: Pulling fs layer\nc662908b49d7: Pulling fs layer\nf7e80cce9b62: Pulling fs layer\n582d8a6ebc7f: Pulling fs layer\n80d6cb69151f: Pulling fs layer\n73c099e2d8d3: Pulling fs layer\nc8a8f008e48e: Pulling fs layer\n14d9f3b00ff1: Pulling fs layer\n6e8688aadfe8: Pulling fs layer\n7c054c995e1d: Pulling fs layer\ne4ffb68bc304: Pulling fs layer\n92b2bce91d4c: Pulling fs layer\n13f3bcd84ce5: Pulling fs layer\n06eb26dd17da: Pulling fs layer\nea442e3d4174: Waiting\n6e8688aadfe8: Waiting\n7c054c995e1d: Waiting\nc662908b49d7: Waiting\ne4ffb68bc304: Waiting\nf7e80cce9b62: Waiting\n92b2bce91d4c: Waiting\n06eb26dd17da: Waiting\n13f3bcd84ce5: Waiting\n582d8a6ebc7f: Waiting\nc8a8f008e48e: Waiting\n14d9f3b00ff1: Waiting\n73c099e2d8d3: Waiting\n80d6cb69151f: Waiting\naa86ac293d0f: Verifying Checksum\naa86ac293d0f: Download complete\nea442e3d4174: Download complete\n094e7d9bb04e: Verifying Checksum\n094e7d9bb04e: Download complete\nc662908b49d7: Download complete\nf7e80cce9b62: Verifying Checksum\nf7e80cce9b62: Download complete\n582d8a6ebc7f: Verifying Checksum\n582d8a6ebc7f: Download complete\n73c099e2d8d3: Download complete\n80d6cb69151f: Verifying Checksum\n80d6cb69151f: Download complete\nc8a8f008e48e: Download complete\n14d9f3b00ff1: Download complete\n6e8688aadfe8: Verifying Checksum\n6e8688aadfe8: Download complete\n2cbfd734f382: Verifying Checksum\n2cbfd734f382: Download complete\n7c054c995e1d: Verifying Checksum\n7c054c995e1d: Download complete\ne4ffb68bc304: Download complete\n92b2bce91d4c: Verifying Checksum\n92b2bce91d4c: Download complete\n06eb26dd17da: Verifying Checksum\n06eb26dd17da: Download complete\n094e7d9bb04e: Pull complete\n13f3bcd84ce5: Verifying Checksum\n13f3bcd84ce5: Download complete\n2cbfd734f382: Pull complete\naa86ac293d0f: Pull complete\nea442e3d4174: Pull complete\nc662908b49d7: Pull complete\nf7e80cce9b62: Pull complete\n582d8a6ebc7f: Pull complete\n80d6cb69151f: Pull complete\n73c099e2d8d3: Pull complete\nc8a8f008e48e: Pull complete\n14d9f3b00ff1: Pull complete\n6e8688aadfe8: Pull complete\n7c054c995e1d: Pull complete\ne4ffb68bc304: Pull complete\n92b2bce91d4c: Pull complete\n13f3bcd84ce5: Pull complete\n06eb26dd17da: Pull complete\nDigest: sha256:6312364cc45cbe8b4a6017edf8aa6da7f5d80d7346ffb3fa1af55157ba43714e\nStatus: Downloaded newer image for tiangolo/uvicorn-gunicorn-fastapi:python3.9\n ---> 4eb5c7e787b5\nStep 9/14 : WORKDIR /app\n ---> Running in ad6511ecfdf3\nRemoving intermediate container ad6511ecfdf3\n ---> 431f6550f6c2\nStep 10/14 : COPY --from=requirements-stage /tmp/requirements.txt /app/requirements.txt\n ---> 4e6e795021af\nStep 11/14 : RUN pip install --no-cache-dir --upgrade -r requirements.txt\n ---> Running in d5b078bd879e\nIgnoring colorama: markers 'python_full_version >= \"3.7.3\" and python_full_version < \"4.0.0\" and sys_platform == \"win32\" or python_full_version >= \"3.7.3\" and python_full_version < \"4.0.0\" and platform_system == \"Windows\"' don't match your environment\nIgnoring importlib-metadata: markers 'python_full_version >= \"3.7.3\" and python_version < \"3.8\"' don't match your environment\nIgnoring win32-setctime: markers 'python_full_version >= \"3.7.3\" and python_full_version < \"4.0.0\" and sys_platform == \"win32\"' don't match your environment\nIgnoring zipp: markers 'python_full_version >= \"3.7.3\" and python_version < \"3.8\"' don't match your environment\nRequirement already satisfied: anyio==3.6.2 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 1)) (3.6.2)\nRequirement already satisfied: click==8.1.3 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 2)) (8.1.3)\nCollecting fastapi==0.79.1\n  Downloading fastapi-0.79.1-py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.7/54.7 KB 21.2 MB/s eta 0:00:00\nRequirement already satisfied: h11==0.14.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 5)) (0.14.0)\nRequirement already satisfied: httptools==0.5.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 6)) (0.5.0)\nRequirement already satisfied: idna==3.4 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 7)) (3.4)\nCollecting loguru==0.6.0\n  Downloading loguru-0.6.0-py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.3/58.3 KB 145.1 MB/s eta 0:00:00\nCollecting multidict==6.0.4\n  Downloading multidict-6.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (114 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 114.2/114.2 KB 275.0 MB/s eta 0:00:00\nCollecting nonebot2==2.0.0b5\n  Downloading nonebot2-2.0.0b5-py3-none-any.whl (87 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.1/87.1 KB 88.7 MB/s eta 0:00:00\nCollecting pydantic==1.9.2\n  Downloading pydantic-1.9.2-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.4/12.4 MB 117.0 MB/s eta 0:00:00\nCollecting pygtrie==2.5.0\n  Downloading pygtrie-2.5.0-py3-none-any.whl (25 kB)\nRequirement already satisfied: python-dotenv==0.21.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 15)) (0.21.0)\nRequirement already satisfied: pyyaml==6.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 16)) (6.0)\nRequirement already satisfied: sniffio==1.3.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 17)) (1.3.0)\nCollecting starlette==0.19.1\n  Downloading starlette-0.19.1-py3-none-any.whl (63 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.3/63.3 KB 211.9 MB/s eta 0:00:00\nCollecting tomlkit==0.10.2\n  Downloading tomlkit-0.10.2-py3-none-any.whl (34 kB)\nRequirement already satisfied: typing-extensions==4.4.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 20)) (4.4.0)\nCollecting uvicorn[standard]==0.18.3\n  Downloading uvicorn-0.18.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.4/57.4 KB 249.0 MB/s eta 0:00:00\nRequirement already satisfied: uvloop==0.17.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 22)) (0.17.0)\nRequirement already satisfied: watchfiles==0.18.1 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 23)) (0.18.1)\nRequirement already satisfied: websockets==10.4 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 24)) (10.4)\nCollecting yarl==1.8.2\n  Downloading yarl-1.8.2-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (264 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 264.6/264.6 KB 272.0 MB/s eta 0:00:00\nInstalling collected packages: pygtrie, uvicorn, tomlkit, pydantic, multidict, loguru, yarl, starlette, fastapi, nonebot2\n  Attempting uninstall: uvicorn\n    Found existing installation: uvicorn 0.20.0\n    Uninstalling uvicorn-0.20.0:\n      Successfully uninstalled uvicorn-0.20.0\n  Attempting uninstall: pydantic\n    Found existing installation: pydantic 1.10.2\n    Uninstalling pydantic-1.10.2:\n      Successfully uninstalled pydantic-1.10.2\n  Attempting uninstall: starlette\n    Found existing installation: starlette 0.22.0\n    Uninstalling starlette-0.22.0:\n      Successfully uninstalled starlette-0.22.0\n  Attempting uninstall: fastapi\n    Found existing installation: fastapi 0.88.0\n    Uninstalling fastapi-0.88.0:\n      Successfully uninstalled fastapi-0.88.0\nSuccessfully installed fastapi-0.79.1 loguru-0.6.0 multidict-6.0.4 nonebot2-2.0.0b5 pydantic-1.9.2 pygtrie-2.5.0 starlette-0.19.1 tomlkit-0.10.2 uvicorn-0.18.3 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container d5b078bd879e\n ---> 4dbcd96c5c0c\nStep 12/14 : RUN rm requirements.txt\n ---> Running in e63a54771076\nRemoving intermediate container e63a54771076\n ---> 8119b2a740b8\nStep 13/14 : RUN pip install nonebot-adapter-onebot\n ---> Running in e0330ab4c006\nCollecting nonebot-adapter-onebot\n  Downloading nonebot_adapter_onebot-2.2.0-py3-none-any.whl (46 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.2/46.2 KB 3.2 MB/s eta 0:00:00\nCollecting msgpack<2.0.0,>=1.0.3\n  Downloading msgpack-1.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 322.4/322.4 KB 18.8 MB/s eta 0:00:00\nRequirement already satisfied: nonebot2<3.0.0,>=2.0.0-beta.3 in /usr/local/lib/python3.9/site-packages (from nonebot-adapter-onebot) (2.0.0b5)\nRequirement already satisfied: yarl<2.0.0,>=1.7.2 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (1.8.2)\nRequirement already satisfied: typing-extensions<5.0.0,>=3.10.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (4.4.0)\nRequirement already satisfied: uvicorn[standard]<0.19.0,>=0.18.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.18.3)\nRequirement already satisfied: pydantic[dotenv]<1.10.0,>=1.9.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (1.9.2)\nRequirement already satisfied: pygtrie<3.0.0,>=2.4.1 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (2.5.0)\nRequirement already satisfied: tomlkit<1.0.0,>=0.10.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.10.2)\nRequirement already satisfied: loguru<0.7.0,>=0.6.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.6.0)\nRequirement already satisfied: fastapi<0.80.0,>=0.79.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.79.1)\nRequirement already satisfied: starlette==0.19.1 in /usr/local/lib/python3.9/site-packages (from fastapi<0.80.0,>=0.79.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.19.1)\nRequirement already satisfied: anyio<5,>=3.4.0 in /usr/local/lib/python3.9/site-packages (from starlette==0.19.1->fastapi<0.80.0,>=0.79.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (3.6.2)\nRequirement already satisfied: python-dotenv>=0.10.4 in /usr/local/lib/python3.9/site-packages (from pydantic[dotenv]<1.10.0,>=1.9.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.21.0)\nRequirement already satisfied: h11>=0.8 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.14.0)\nRequirement already satisfied: click>=7.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (8.1.3)\nRequirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.17.0)\nRequirement already satisfied: watchfiles>=0.13 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.18.1)\nRequirement already satisfied: httptools>=0.4.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.5.0)\nRequirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (6.0)\nRequirement already satisfied: websockets>=10.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (10.4)\nRequirement already satisfied: idna>=2.0 in /usr/local/lib/python3.9/site-packages (from yarl<2.0.0,>=1.7.2->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (3.4)\nRequirement already satisfied: multidict>=4.0 in /usr/local/lib/python3.9/site-packages (from yarl<2.0.0,>=1.7.2->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (6.0.4)\nRequirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.9/site-packages (from anyio<5,>=3.4.0->starlette==0.19.1->fastapi<0.80.0,>=0.79.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (1.3.0)\nInstalling collected packages: msgpack, nonebot-adapter-onebot\nSuccessfully installed msgpack-1.0.4 nonebot-adapter-onebot-2.2.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e0330ab4c006\n ---> 4dda83f6adbc\nStep 14/14 : COPY ./ /app/\n ---> c20ed20875cd\nSuccessfully built c20ed20875cd\nSuccessfully tagged pallas-bot:latest\n","stderr":"","imageSize":1118689630},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":6,"end":6,"columnStart":4,"columnEnd":68}},{"name":"pipUseNoCacheDir","position":{"start":24,"end":24,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"FROM python:3.9 as requirements-stage\n\nWORKDIR /tmp\n\nCOPY ./pyproject.toml ./poetry.lock* /tmp/\n\nRUN curl -f -sSL https://install.python-poetry.org -o install-poetry.py\n\nRUN python install-poetry.py --yes\n\nENV PATH=\"${PATH}:/root/.local/bin\"\n\nRUN poetry export -f requirements.txt --output requirements.txt --without-hashes\n\nFROM tiangolo/uvicorn-gunicorn-fastapi:python3.9\n\nWORKDIR /app\n\nCOPY --from=requirements-stage /tmp/requirements.txt /app/requirements.txt\n\nRUN pip install --no-cache-dir --upgrade -r requirements.txt\n\nRUN rm requirements.txt\n\nRUN pip install --no-cache-dir nonebot-adapter-onebot\n\nCOPY ./ /app/\n"},"repairedBuild":{"startTimestamp":1672169788972,"endTimestamp":1672169849494,"error":null,"stdout":"Sending build context to Docker daemon  60.95MB\r\r\nStep 1/14 : FROM python:3.9 as requirements-stage\n ---> 68cf04410baf\nStep 2/14 : WORKDIR /tmp\n ---> Running in a79f49159f81\nRemoving intermediate container a79f49159f81\n ---> 9362b3ba1b94\nStep 3/14 : COPY ./pyproject.toml ./poetry.lock* /tmp/\n ---> 4e47deaff4e8\nStep 4/14 : RUN curl -f -sSL https://install.python-poetry.org -o install-poetry.py\n ---> Running in 479398f02965\nRemoving intermediate container 479398f02965\n ---> e846df611c2d\nStep 5/14 : RUN python install-poetry.py --yes\n ---> Running in c2ca15460865\nRetrieving Poetry metadata\n\n# Welcome to Poetry!\n\nThis will download and install the latest version of Poetry,\na dependency and package manager for Python.\n\nIt will add the `poetry` command to Poetry's bin directory, located at:\n\n/root/.local/bin\n\nYou can uninstall at any time by executing this script with the --uninstall option,\nand these changes will be reverted.\n\nInstalling Poetry (1.3.1)\nInstalling Poetry (1.3.1): Creating environment\nInstalling Poetry (1.3.1): Installing Poetry\nInstalling Poetry (1.3.1): Creating script\nInstalling Poetry (1.3.1): Done\n\nPoetry (1.3.1) is installed now. Great!\n\nTo get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`\nenvironment variable.\n\nAdd `export PATH=\"/root/.local/bin:$PATH\"` to your shell configuration file.\n\nAlternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.\n\nYou can test that everything is set up by executing:\n\n`poetry --version`\n\nRemoving intermediate container c2ca15460865\n ---> db72cc9fab71\nStep 6/14 : ENV PATH=\"${PATH}:/root/.local/bin\"\n ---> Running in 85f0715352f7\nRemoving intermediate container 85f0715352f7\n ---> a033dde2c2e5\nStep 7/14 : RUN poetry export -f requirements.txt --output requirements.txt --without-hashes\n ---> Running in e46ea7241f89\n\u001b[91mThe lock file does not exist. Locking.\n\u001b[0m\u001b[91mCreating virtualenv pallas-bot-6WcazSRI-py3.9 in /root/.cache/pypoetry/virtualenvs\n\u001b[0mUpdating dependencies\nResolving dependencies...\n\nWriting lock file\nRemoving intermediate container e46ea7241f89\n ---> 73df1dd5d311\nStep 8/14 : FROM tiangolo/uvicorn-gunicorn-fastapi:python3.9\n ---> 4eb5c7e787b5\nStep 9/14 : WORKDIR /app\n ---> Running in d53e17721c7b\nRemoving intermediate container d53e17721c7b\n ---> 84fd8701b35d\nStep 10/14 : COPY --from=requirements-stage /tmp/requirements.txt /app/requirements.txt\n ---> 377edc7c121b\nStep 11/14 : RUN pip install --no-cache-dir --upgrade -r requirements.txt\n ---> Running in 342d8fd07eb5\nIgnoring colorama: markers 'python_full_version >= \"3.7.3\" and python_full_version < \"4.0.0\" and sys_platform == \"win32\" or python_full_version >= \"3.7.3\" and python_full_version < \"4.0.0\" and platform_system == \"Windows\"' don't match your environment\nIgnoring importlib-metadata: markers 'python_full_version >= \"3.7.3\" and python_version < \"3.8\"' don't match your environment\nIgnoring win32-setctime: markers 'python_full_version >= \"3.7.3\" and python_full_version < \"4.0.0\" and sys_platform == \"win32\"' don't match your environment\nIgnoring zipp: markers 'python_full_version >= \"3.7.3\" and python_version < \"3.8\"' don't match your environment\nRequirement already satisfied: anyio==3.6.2 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 1)) (3.6.2)\nRequirement already satisfied: click==8.1.3 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 2)) (8.1.3)\nCollecting fastapi==0.79.1\n  Downloading fastapi-0.79.1-py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.7/54.7 KB 36.7 MB/s eta 0:00:00\nRequirement already satisfied: h11==0.14.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 5)) (0.14.0)\nRequirement already satisfied: httptools==0.5.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 6)) (0.5.0)\nRequirement already satisfied: idna==3.4 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 7)) (3.4)\nCollecting loguru==0.6.0\n  Downloading loguru-0.6.0-py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.3/58.3 KB 83.4 MB/s eta 0:00:00\nCollecting multidict==6.0.4\n  Downloading multidict-6.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (114 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 114.2/114.2 KB 273.0 MB/s eta 0:00:00\nCollecting nonebot2==2.0.0b5\n  Downloading nonebot2-2.0.0b5-py3-none-any.whl (87 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.1/87.1 KB 90.1 MB/s eta 0:00:00\nCollecting pydantic==1.9.2\n  Downloading pydantic-1.9.2-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.4/12.4 MB 108.6 MB/s eta 0:00:00\nCollecting pygtrie==2.5.0\n  Downloading pygtrie-2.5.0-py3-none-any.whl (25 kB)\nRequirement already satisfied: python-dotenv==0.21.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 15)) (0.21.0)\nRequirement already satisfied: pyyaml==6.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 16)) (6.0)\nRequirement already satisfied: sniffio==1.3.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 17)) (1.3.0)\nCollecting starlette==0.19.1\n  Downloading starlette-0.19.1-py3-none-any.whl (63 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.3/63.3 KB 85.1 MB/s eta 0:00:00\nCollecting tomlkit==0.10.2\n  Downloading tomlkit-0.10.2-py3-none-any.whl (34 kB)\nRequirement already satisfied: typing-extensions==4.4.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 20)) (4.4.0)\nCollecting uvicorn[standard]==0.18.3\n  Downloading uvicorn-0.18.3-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.4/57.4 KB 212.4 MB/s eta 0:00:00\nRequirement already satisfied: uvloop==0.17.0 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 22)) (0.17.0)\nRequirement already satisfied: watchfiles==0.18.1 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 23)) (0.18.1)\nRequirement already satisfied: websockets==10.4 in /usr/local/lib/python3.9/site-packages (from -r requirements.txt (line 24)) (10.4)\nCollecting yarl==1.8.2\n  Downloading yarl-1.8.2-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (264 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 264.6/264.6 KB 122.8 MB/s eta 0:00:00\nInstalling collected packages: pygtrie, uvicorn, tomlkit, pydantic, multidict, loguru, yarl, starlette, fastapi, nonebot2\n  Attempting uninstall: uvicorn\n    Found existing installation: uvicorn 0.20.0\n    Uninstalling uvicorn-0.20.0:\n      Successfully uninstalled uvicorn-0.20.0\n  Attempting uninstall: pydantic\n    Found existing installation: pydantic 1.10.2\n    Uninstalling pydantic-1.10.2:\n      Successfully uninstalled pydantic-1.10.2\n  Attempting uninstall: starlette\n    Found existing installation: starlette 0.22.0\n    Uninstalling starlette-0.22.0:\n      Successfully uninstalled starlette-0.22.0\n  Attempting uninstall: fastapi\n    Found existing installation: fastapi 0.88.0\n    Uninstalling fastapi-0.88.0:\n      Successfully uninstalled fastapi-0.88.0\nSuccessfully installed fastapi-0.79.1 loguru-0.6.0 multidict-6.0.4 nonebot2-2.0.0b5 pydantic-1.9.2 pygtrie-2.5.0 starlette-0.19.1 tomlkit-0.10.2 uvicorn-0.18.3 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 342d8fd07eb5\n ---> 97d0c749621c\nStep 12/14 : RUN rm requirements.txt\n ---> Running in 61204cba24cb\nRemoving intermediate container 61204cba24cb\n ---> 3c31a4cd4234\nStep 13/14 : RUN pip install --no-cache-dir nonebot-adapter-onebot\n ---> Running in b3f102adba31\nCollecting nonebot-adapter-onebot\n  Downloading nonebot_adapter_onebot-2.2.0-py3-none-any.whl (46 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.2/46.2 KB 60.2 MB/s eta 0:00:00\nCollecting msgpack<2.0.0,>=1.0.3\n  Downloading msgpack-1.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 322.4/322.4 KB 198.7 MB/s eta 0:00:00\nRequirement already satisfied: nonebot2<3.0.0,>=2.0.0-beta.3 in /usr/local/lib/python3.9/site-packages (from nonebot-adapter-onebot) (2.0.0b5)\nRequirement already satisfied: pygtrie<3.0.0,>=2.4.1 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (2.5.0)\nRequirement already satisfied: uvicorn[standard]<0.19.0,>=0.18.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.18.3)\nRequirement already satisfied: typing-extensions<5.0.0,>=3.10.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (4.4.0)\nRequirement already satisfied: tomlkit<1.0.0,>=0.10.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.10.2)\nRequirement already satisfied: fastapi<0.80.0,>=0.79.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.79.1)\nRequirement already satisfied: loguru<0.7.0,>=0.6.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.6.0)\nRequirement already satisfied: yarl<2.0.0,>=1.7.2 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (1.8.2)\nRequirement already satisfied: pydantic[dotenv]<1.10.0,>=1.9.0 in /usr/local/lib/python3.9/site-packages (from nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (1.9.2)\nRequirement already satisfied: starlette==0.19.1 in /usr/local/lib/python3.9/site-packages (from fastapi<0.80.0,>=0.79.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.19.1)\nRequirement already satisfied: anyio<5,>=3.4.0 in /usr/local/lib/python3.9/site-packages (from starlette==0.19.1->fastapi<0.80.0,>=0.79.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (3.6.2)\nRequirement already satisfied: python-dotenv>=0.10.4 in /usr/local/lib/python3.9/site-packages (from pydantic[dotenv]<1.10.0,>=1.9.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.21.0)\nRequirement already satisfied: click>=7.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (8.1.3)\nRequirement already satisfied: h11>=0.8 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.14.0)\nRequirement already satisfied: websockets>=10.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (10.4)\nRequirement already satisfied: watchfiles>=0.13 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.18.1)\nRequirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.17.0)\nRequirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (6.0)\nRequirement already satisfied: httptools>=0.4.0 in /usr/local/lib/python3.9/site-packages (from uvicorn[standard]<0.19.0,>=0.18.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (0.5.0)\nRequirement already satisfied: multidict>=4.0 in /usr/local/lib/python3.9/site-packages (from yarl<2.0.0,>=1.7.2->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (6.0.4)\nRequirement already satisfied: idna>=2.0 in /usr/local/lib/python3.9/site-packages (from yarl<2.0.0,>=1.7.2->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (3.4)\nRequirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.9/site-packages (from anyio<5,>=3.4.0->starlette==0.19.1->fastapi<0.80.0,>=0.79.0->nonebot2<3.0.0,>=2.0.0-beta.3->nonebot-adapter-onebot) (1.3.0)\nInstalling collected packages: msgpack, nonebot-adapter-onebot\nSuccessfully installed msgpack-1.0.4 nonebot-adapter-onebot-2.2.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container b3f102adba31\n ---> faf8092b1a16\nStep 14/14 : COPY ./ /app/\n ---> 2bbe97e1ce10\nSuccessfully built 2bbe97e1ce10\nSuccessfully tagged pallas-bot:latest\n","stderr":"","imageSize":1118256084},"endTime":1672169849816}