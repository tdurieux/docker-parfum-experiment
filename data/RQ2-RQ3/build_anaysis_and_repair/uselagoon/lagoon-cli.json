{"repository":"https://github.com/uselagoon/lagoon-cli","dockerfilePath":"Dockerfile","startTime":1673171631166,"endTime":1673171811974,"clone":{"startTime":1673171631167,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/uselagoon/lagoon-cli'...\n","error":null,"endTime":1673171632034,"commit":"b6829b1c951f24899e9b832b5d9bc0d7058bc64e"},"originalBuild":{"startTime":1673171632144,"endTime":1673171732740,"error":null,"stdout":"Sending build context to Docker daemon  1.513MB\r\r\nStep 1/11 : FROM golang:1.16-alpine3.14 as build\n1.16-alpine3.14: Pulling from library/golang\n97518928ae5f: Pulling fs layer\nb78c28b3bbf7: Pulling fs layer\n248309d37e25: Pulling fs layer\nb4bd862365f0: Pulling fs layer\n20099020d2ed: Pulling fs layer\nb4bd862365f0: Waiting\n20099020d2ed: Waiting\n248309d37e25: Download complete\nb78c28b3bbf7: Download complete\n97518928ae5f: Verifying Checksum\n97518928ae5f: Download complete\n97518928ae5f: Pull complete\n20099020d2ed: Download complete\nb78c28b3bbf7: Pull complete\n248309d37e25: Pull complete\nb4bd862365f0: Download complete\nb4bd862365f0: Pull complete\n20099020d2ed: Pull complete\nDigest: sha256:7d3ff18f693e2d4d7f2377f03efaba8b8d8884837debc8db475f07500749276e\nStatus: Downloaded newer image for golang:1.16-alpine3.14\n ---> 6a77340bf52b\nStep 2/11 : WORKDIR /go/src/github.com/uselagoon/lagoon-cli/\n ---> Running in 9296aea39a04\nRemoving intermediate container 9296aea39a04\n ---> 677ce240cd2c\nStep 3/11 : COPY . .\n ---> ad6e9d803d55\nStep 4/11 : ARG VERSION\n ---> Running in 14d1ef8376c7\nRemoving intermediate container 14d1ef8376c7\n ---> b9739a65ab61\nStep 5/11 : RUN apk update && apk add git\n ---> Running in adcff5b6a1e1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14967 distinct packages available\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.43.0-r0)\n(3/6) Installing libcurl (7.79.1-r4)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r6.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container adcff5b6a1e1\n ---> 3e06a1ebb783\nStep 6/11 : RUN VERSION=${VERSION:-\"$(echo $(git describe --abbrev=0 --tags)+$(git rev-parse --short=8 HEAD))\"} \t&& BUILD=$(date +%FT%T%z)   && CGO_ENABLED=0 GOOS=linux go build \t-ldflags \"-w -s -X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIVersion=$VERSION \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuild=$BUILD \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuildGoVersion=go$GOLANG_VERSION\" -o lagoon .\n ---> Running in f439407f22a9\n\u001b[91mgo: downloading github.com/manifoldco/promptui v0.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/guregu/null v4.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.8\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/browser v0.0.0-20180916011732-0a3d74bf9ce4\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-version v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/machinebox/graphql v0.2.3-0.20181106130121-3a9253180225\n\u001b[0m\u001b[91mgo: downloading github.com/integralist/go-findroot v0.0.0-20160518114804-ac90681525dc\ngo: downloading github.com/logrusorgru/aurora v0.0.0-20191017060258-dc85c304c434\ngo: downloading github.com/shreddedbacon/tablewriter v0.0.2-0.20200114082015-d810c4a558bf\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/semver v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github v0.0.0-20180716180158-c0b63e2f9bb1\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.1.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man v1.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e\ngo: downloading github.com/juju/ansiterm v0.0.0-20180109212912-720a0952cc2a\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.4\ngo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/lunixbochs/vtclean v0.0.0-20180621232353-2d01aacdc34a\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220412211240-33da011f77ad\n\u001b[0mRemoving intermediate container f439407f22a9\n ---> c76f6fb02f96\nStep 7/11 : FROM alpine:3.14\n3.14: Pulling from library/alpine\nc7ed990a2339: Pulling fs layer\nc7ed990a2339: Verifying Checksum\nc7ed990a2339: Download complete\nc7ed990a2339: Pull complete\nDigest: sha256:4c869a63e1b7c0722fed1e402a6466610327c3b83bdddb94bd94fb71da7f638a\nStatus: Downloaded newer image for alpine:3.14\n ---> dd53f409bf0b\nStep 8/11 : WORKDIR /root/\n ---> Running in 7f15d00b7001\nRemoving intermediate container 7f15d00b7001\n ---> f12236a9b238\nStep 9/11 : COPY --from=build /go/src/github.com/uselagoon/lagoon-cli/lagoon /lagoon\n ---> a6093e39228c\nStep 10/11 : RUN touch ~/.lagoon.yml\n ---> Running in 5560e83db4ad\nRemoving intermediate container 5560e83db4ad\n ---> 41e272b4e10e\nStep 11/11 : ENTRYPOINT [\"/lagoon\"]\n ---> Running in 939fd14b4f61\nRemoving intermediate container 939fd14b4f61\n ---> 328d9ecd8cca\nSuccessfully built 328d9ecd8cca\nSuccessfully tagged lagoon-cli:latest\n","stderr":"","imageSize":14842048},"repair":{"startTime":1673171732801,"endTime":1673171732879,"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":18,"columnEnd":29}}],"repairedDockerfile":"FROM golang:1.16-alpine3.14 as build\n\nWORKDIR /go/src/github.com/uselagoon/lagoon-cli/\nCOPY . .\n\nARG VERSION\n\nRUN apk update && apk add --no-cache git\n\nRUN VERSION=${VERSION:-\"$(echo $(git describe --abbrev=0 --tags)+$(git rev-parse --short=8 HEAD))\"} \\\n\t&& BUILD=$(date +%FT%T%z) \\\n  && CGO_ENABLED=0 GOOS=linux go build \\\n\t-ldflags \"-w -s -X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIVersion=$VERSION \\\n\t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuild=$BUILD \\\n\t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuildGoVersion=go$GOLANG_VERSION\" -o lagoon .\n\nFROM alpine:3.14\n\nWORKDIR /root/\nCOPY --from=build /go/src/github.com/uselagoon/lagoon-cli/lagoon /lagoon\n\nRUN touch ~/.lagoon.yml\n\nENTRYPOINT [\"/lagoon\"]\n"},"repairedBuild":{"startTime":1673171733217,"endTime":1673171811784,"error":null,"stdout":"Sending build context to Docker daemon  1.513MB\r\r\nStep 1/11 : FROM golang:1.16-alpine3.14 as build\n ---> 6a77340bf52b\nStep 2/11 : WORKDIR /go/src/github.com/uselagoon/lagoon-cli/\n ---> Running in 4a33690d1abd\nRemoving intermediate container 4a33690d1abd\n ---> 6fe8e0617d16\nStep 3/11 : COPY . .\n ---> 0498d5bffd71\nStep 4/11 : ARG VERSION\n ---> Running in 3c0e28b8697c\nRemoving intermediate container 3c0e28b8697c\n ---> b75b2408b514\nStep 5/11 : RUN apk update && apk add --no-cache git\n ---> Running in fb6bf1e57029\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14967 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.43.0-r0)\n(3/6) Installing libcurl (7.79.1-r4)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r6.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container fb6bf1e57029\n ---> 6f87ee826a58\nStep 6/11 : RUN VERSION=${VERSION:-\"$(echo $(git describe --abbrev=0 --tags)+$(git rev-parse --short=8 HEAD))\"} \t&& BUILD=$(date +%FT%T%z)   && CGO_ENABLED=0 GOOS=linux go build \t-ldflags \"-w -s -X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIVersion=$VERSION \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuild=$BUILD \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuildGoVersion=go$GOLANG_VERSION\" -o lagoon .\n ---> Running in 8d0097470fac\n\u001b[91mgo: downloading github.com/spf13/cobra v0.0.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.8\ngo: downloading github.com/spf13/pflag v1.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/manifoldco/promptui v0.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/browser v0.0.0-20180916011732-0a3d74bf9ce4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github v0.0.0-20180716180158-c0b63e2f9bb1\n\u001b[0m\u001b[91mgo: downloading github.com/guregu/null v4.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/semver v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.1.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/logrusorgru/aurora v0.0.0-20191017060258-dc85c304c434\n\u001b[0m\u001b[91mgo: downloading github.com/shreddedbacon/tablewriter v0.0.2-0.20200114082015-d810c4a558bf\n\u001b[0m\u001b[91mgo: downloading github.com/integralist/go-findroot v0.0.0-20160518114804-ac90681525dc\ngo: downloading github.com/machinebox/graphql v0.2.3-0.20181106130121-3a9253180225\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-version v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e\ngo: downloading github.com/juju/ansiterm v0.0.0-20180109212912-720a0952cc2a\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man v1.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/lunixbochs/vtclean v0.0.0-20180621232353-2d01aacdc34a\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220412211240-33da011f77ad\n\u001b[0mRemoving intermediate container 8d0097470fac\n ---> e07b3e26c3f1\nStep 7/11 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 8/11 : WORKDIR /root/\n ---> Running in 1488e8ff3f77\nRemoving intermediate container 1488e8ff3f77\n ---> 7e88be3b06b8\nStep 9/11 : COPY --from=build /go/src/github.com/uselagoon/lagoon-cli/lagoon /lagoon\n ---> 0e9c207c9ac8\nStep 10/11 : RUN touch ~/.lagoon.yml\n ---> Running in d56b16c507cc\nRemoving intermediate container d56b16c507cc\n ---> a832914f687d\nStep 11/11 : ENTRYPOINT [\"/lagoon\"]\n ---> Running in a28ef561287e\nRemoving intermediate container a28ef561287e\n ---> 11c1bc7937ad\nSuccessfully built 11c1bc7937ad\nSuccessfully tagged lagoon-cli:latest\n","stderr":"","imageSize":14842048}}