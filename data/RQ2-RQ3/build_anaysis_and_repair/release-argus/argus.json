{"repository":"https://github.com/release-argus/argus","dockerfilePath":"Dockerfile","startTime":1672299276004,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/release-argus/argus'...\n","error":null,"commit":"ab0971d3a5f19a386362fdf7ccb5d040ec508f93"},"originalBuild":{"startTimestamp":1672299277744,"endTimestamp":1672299381256,"error":null,"stdout":"Sending build context to Docker daemon  10.12MB\r\r\nStep 1/25 : ARG DEBIAN_VERSION=\"bullseye\"\nStep 2/25 : ARG GO_VERSION=\"1.19\"\nStep 3/25 : FROM golang:${GO_VERSION}-${DEBIAN_VERSION}\n1.19-bullseye: Pulling from library/golang\nDigest: sha256:9d235ae41bff699b44255bf912e77acac5046b06e61b018561239a35d9bd2ebb\nStatus: Downloaded newer image for golang:1.19-bullseye\n ---> 6650307efe4a\nStep 4/25 : COPY . /build/\n ---> a554dee18c5e\nStep 5/25 : WORKDIR /build/\n ---> Running in 44e1bee0fe12\nRemoving intermediate container 44e1bee0fe12\n ---> f19e2290e105\nStep 6/25 : ARG BUILD_VERSION=\"development\"\n ---> Running in 3b0547b5ab9b\nRemoving intermediate container 3b0547b5ab9b\n ---> 9abb38ef06db\nStep 7/25 : RUN make BUILD_VERSION=${BUILD_VERSION} go-build\n ---> Running in bfe8455c612c\n>> compressing assets\n>> building binaries\n\u001b[91mgo: downloading modernc.org/sqlite v1.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/containrrr/shoutrrr v0.6.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/flosch/pongo2/v5 v5.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/vearutop/statigz v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-semver v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\ngo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/brotli v1.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220811171246-fbc7d0a398ab\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\ngo: downloading github.com/mattn/go-colorable v0.1.8\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.21.5\n\u001b[0m\u001b[91mgo: downloading modernc.org/memory v1.4.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0\n\u001b[0m>> restoring assets\nRemoving intermediate container bfe8455c612c\n ---> 3f862ff4b68d\nStep 8/25 : RUN chmod 755 /build/argus\n ---> Running in 0ac3f371abf3\nRemoving intermediate container 0ac3f371abf3\n ---> c2ec100cac6d\nStep 9/25 : WORKDIR /build/_healthcheck/\n ---> Running in f85d55f12ec1\nRemoving intermediate container f85d55f12ec1\n ---> ab3a50ad16ed\nStep 10/25 : RUN go build -o ../healthcheck\n ---> Running in a9be83f55117\nRemoving intermediate container a9be83f55117\n ---> eaac2584ebb0\nStep 11/25 : RUN chmod 755 /build/healthcheck\n ---> Running in 7495bb2d2546\nRemoving intermediate container 7495bb2d2546\n ---> 34a62793b277\nStep 12/25 : ARG DEBIAN_VERSION=\"bullseye\"\n ---> Running in 79b63f8b2d72\nRemoving intermediate container 79b63f8b2d72\n ---> f334bd1433ac\nStep 13/25 : FROM debian:${DEBIAN_VERSION}-slim\n ---> dd94cb611937\nStep 14/25 : LABEL maintainer=\"The Argus Authors <developers@release-argus.io>\"\n ---> Running in 1f4fb994a1fe\nRemoving intermediate container 1f4fb994a1fe\n ---> 3f262f3e1c57\nStep 15/25 : RUN     apt-get update &&     apt-get install ca-certificates -y &&     apt-get clean\n ---> Running in 97839faac37f\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (5901 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (32.8 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 97839faac37f\n ---> c8fdf5ec0161\nStep 16/25 : COPY entrypoint.sh /entrypoint.sh\n ---> 9cc97891f6fa\nStep 17/25 : COPY --from=0 /build/argus               /usr/bin/argus\n ---> f087c020a891\nStep 18/25 : COPY --from=0 /build/healthcheck         /healthcheck\n ---> 181a1278571d\nStep 19/25 : COPY --from=0 /build/config.yml.example  /app/config.yml\n ---> 9336d0b005a4\nStep 20/25 : COPY --from=0 /build/LICENSE             /LICENSE\n ---> cb3621126f5e\nStep 21/25 : RUN     useradd -u 911 -U -d /app -s /bin/false argus &&     mkdir -p         /app         /app/data\n ---> Running in 4f1278491a02\nRemoving intermediate container 4f1278491a02\n ---> 91a3f661b38a\nStep 22/25 : WORKDIR /app\n ---> Running in 304984375a50\nRemoving intermediate container 304984375a50\n ---> 0d3e076c922d\nStep 23/25 : EXPOSE     8080\n ---> Running in e7756d623cc0\nRemoving intermediate container e7756d623cc0\n ---> b6314b8c8c6f\nStep 24/25 : VOLUME     [ \"/app/data\" ]\n ---> Running in aff956967a24\nRemoving intermediate container aff956967a24\n ---> 003da98c0f3d\nStep 25/25 : ENTRYPOINT [ \"/entrypoint.sh\" ]\n ---> Running in 6a55d99770cc\nRemoving intermediate container 6a55d99770cc\n ---> c229f8de2d01\nSuccessfully built c229f8de2d01\nSuccessfully tagged argus:latest\n","stderr":"","imageSize":132856960},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":27,"end":27,"columnStart":4,"columnEnd":38}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":27,"end":27,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"########\n# BASE #\n########\nARG DEBIAN_VERSION=\"bullseye\"\nARG GO_VERSION=\"1.19\"\nFROM golang:${GO_VERSION}-${DEBIAN_VERSION}\n\nCOPY . /build/\nWORKDIR /build/\n\nARG BUILD_VERSION=\"development\"\nRUN make BUILD_VERSION=${BUILD_VERSION} go-build\nRUN chmod 755 /build/argus\n\nWORKDIR /build/_healthcheck/\nRUN go build -o ../healthcheck\nRUN chmod 755 /build/healthcheck\n\n\n#########\n# ARGUS #\n#########\nARG DEBIAN_VERSION=\"bullseye\"\nFROM debian:${DEBIAN_VERSION}-slim\nLABEL maintainer=\"The Argus Authors <developers@release-argus.io>\"\nRUN \\\n    apt-get update && \\\n    apt-get install --no-install-recommends ca-certificates -y && \\\n    apt-get clean\n\nCOPY entrypoint.sh /entrypoint.sh\nCOPY --from=0 /build/argus               /usr/bin/argus\nCOPY --from=0 /build/healthcheck         /healthcheck\nCOPY --from=0 /build/config.yml.example  /app/config.yml\nCOPY --from=0 /build/LICENSE             /LICENSE\n\nRUN \\\n    useradd -u 911 -U -d /app -s /bin/false argus && \\\n    mkdir -p \\\n        /app \\\n        /app/data\nWORKDIR /app\n\nEXPOSE     8080\nVOLUME     [ \"/app/data\" ]\nENTRYPOINT [ \"/entrypoint.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672299381677,"endTimestamp":1672299508154,"error":null,"stdout":"Sending build context to Docker daemon  10.12MB\r\r\nStep 1/25 : ARG DEBIAN_VERSION=\"bullseye\"\nStep 2/25 : ARG GO_VERSION=\"1.19\"\nStep 3/25 : FROM golang:${GO_VERSION}-${DEBIAN_VERSION}\n ---> 6650307efe4a\nStep 4/25 : COPY . /build/\n ---> 5158029a4770\nStep 5/25 : WORKDIR /build/\n ---> Running in d581d6bc5e54\nRemoving intermediate container d581d6bc5e54\n ---> 34d2e7df7c09\nStep 6/25 : ARG BUILD_VERSION=\"development\"\n ---> Running in 47a3c9b5d273\nRemoving intermediate container 47a3c9b5d273\n ---> aa02a5a01041\nStep 7/25 : RUN make BUILD_VERSION=${BUILD_VERSION} go-build\n ---> Running in a888e07dd0dc\n>> compressing assets\n>> building binaries\n\u001b[91mgo: downloading modernc.org/sqlite v1.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/flosch/pongo2/v5 v5.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/containrrr/shoutrrr v0.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-semver v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/vearutop/statigz v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/brotli v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\ngo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\ngo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220811171246-fbc7d0a398ab\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\ngo: downloading github.com/mattn/go-colorable v0.1.8\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.21.5\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\ngo: downloading modernc.org/memory v1.4.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0\n\u001b[0m>> restoring assets\nRemoving intermediate container a888e07dd0dc\n ---> ffa01cbc4d85\nStep 8/25 : RUN chmod 755 /build/argus\n ---> Running in 41a157b3555b\nRemoving intermediate container 41a157b3555b\n ---> 8ae0912fabea\nStep 9/25 : WORKDIR /build/_healthcheck/\n ---> Running in 1a961d3b5226\nRemoving intermediate container 1a961d3b5226\n ---> e89557592744\nStep 10/25 : RUN go build -o ../healthcheck\n ---> Running in 8bea91d5fbf5\nRemoving intermediate container 8bea91d5fbf5\n ---> 89b9260658a8\nStep 11/25 : RUN chmod 755 /build/healthcheck\n ---> Running in c803af60b6ee\nRemoving intermediate container c803af60b6ee\n ---> 273be1507066\nStep 12/25 : ARG DEBIAN_VERSION=\"bullseye\"\n ---> Running in 8570debb2417\nRemoving intermediate container 8570debb2417\n ---> 59e3b62c7af9\nStep 13/25 : FROM debian:${DEBIAN_VERSION}-slim\n ---> dd94cb611937\nStep 14/25 : LABEL maintainer=\"The Argus Authors <developers@release-argus.io>\"\n ---> Running in dba843e98964\nRemoving intermediate container dba843e98964\n ---> b1c220a45dc6\nStep 15/25 : RUN     apt-get update &&     apt-get install --no-install-recommends ca-certificates -y &&     apt-get clean\n ---> Running in 5c12d49d739d\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6476 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (28.1 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 5c12d49d739d\n ---> 320d915ac7ab\nStep 16/25 : COPY entrypoint.sh /entrypoint.sh\n ---> 46850f860501\nStep 17/25 : COPY --from=0 /build/argus               /usr/bin/argus\n ---> 67377093d44b\nStep 18/25 : COPY --from=0 /build/healthcheck         /healthcheck\n ---> a7163b463cee\nStep 19/25 : COPY --from=0 /build/config.yml.example  /app/config.yml\n ---> f7b9028c02c3\nStep 20/25 : COPY --from=0 /build/LICENSE             /LICENSE\n ---> 238886680605\nStep 21/25 : RUN     useradd -u 911 -U -d /app -s /bin/false argus &&     mkdir -p         /app         /app/data\n ---> Running in 5447165a7557\nRemoving intermediate container 5447165a7557\n ---> c6f57ae34724\nStep 22/25 : WORKDIR /app\n ---> Running in 789edddf31ea\nRemoving intermediate container 789edddf31ea\n ---> 98ccf26f0884\nStep 23/25 : EXPOSE     8080\n ---> Running in 62ec4d058262\nRemoving intermediate container 62ec4d058262\n ---> 1ad0b55eea02\nStep 24/25 : VOLUME     [ \"/app/data\" ]\n ---> Running in 89731591e90d\nRemoving intermediate container 89731591e90d\n ---> 84eaafa91981\nStep 25/25 : ENTRYPOINT [ \"/entrypoint.sh\" ]\n ---> Running in 6a88ce33198e\nRemoving intermediate container 6a88ce33198e\n ---> d982092f71f5\nSuccessfully built d982092f71f5\nSuccessfully tagged argus:latest\n","stderr":"","imageSize":132856984},"endTime":1672299508455}