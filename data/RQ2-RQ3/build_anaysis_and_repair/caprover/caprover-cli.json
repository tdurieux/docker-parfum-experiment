{"repository":"https://github.com/caprover/caprover-cli","dockerfilePath":"Dockerfile","startTime":1672012747227,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/caprover/caprover-cli'...\n","error":null,"commit":"3f93fb79e3fba0afc7bbc48a01edb69103db3f05"},"originalBuild":{"startTimestamp":1672012748167,"endTimestamp":1672012786954,"error":null,"stdout":"Sending build context to Docker daemon    405kB\r\r\nStep 1/11 : FROM node:14-alpine\n14-alpine: Pulling from library/node\nc158987b0551: Already exists\n859c8d0e9faf: Pulling fs layer\n69c317f5cbe1: Pulling fs layer\nd0c4a6a4173f: Pulling fs layer\nd0c4a6a4173f: Verifying Checksum\nd0c4a6a4173f: Download complete\n69c317f5cbe1: Verifying Checksum\n69c317f5cbe1: Download complete\n859c8d0e9faf: Verifying Checksum\n859c8d0e9faf: Download complete\n859c8d0e9faf: Pull complete\n69c317f5cbe1: Pull complete\nd0c4a6a4173f: Pull complete\nDigest: sha256:80e825b1f5ab859498a2f0f98f8197131a562906e5f8c95977057502e68ca05a\nStatus: Downloaded newer image for node:14-alpine\n ---> fb7170aa2b9b\nStep 2/11 : RUN apk update && apk upgrade &&     apk add --no-cache bash git openssh\n ---> Running in a01814908683\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-298-g2104b16d70 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-299-gc0880a1380 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 9 MiB in 17 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/19) Installing ncurses-libs (6.3_p20221119-r0)\n(3/19) Installing readline (8.2.0-r0)\n(4/19) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/19) Installing ca-certificates (20220614-r3)\n(6/19) Installing brotli-libs (1.0.9-r9)\n(7/19) Installing nghttp2-libs (1.51.0-r0)\n(8/19) Installing libcurl (7.87.0-r0)\n(9/19) Installing libexpat (2.5.0-r0)\n(10/19) Installing pcre2 (10.42-r0)\n(11/19) Installing git (2.38.2-r0)\n(12/19) Installing openssh-keygen (9.1_p1-r1)\n(13/19) Installing libedit (20221030.3.1-r0)\n(14/19) Installing openssh-client-common (9.1_p1-r1)\n(15/19) Installing openssh-client-default (9.1_p1-r1)\n(16/19) Installing openssh-sftp-server (9.1_p1-r1)\n(17/19) Installing openssh-server-common (9.1_p1-r1)\n(18/19) Installing openssh-server (9.1_p1-r1)\n(19/19) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 27 MiB in 36 packages\nRemoving intermediate container a01814908683\n ---> d1b7f13181c8\nStep 3/11 : RUN mkdir -p /usr/src/app\n ---> Running in d71b9084db2a\nRemoving intermediate container d71b9084db2a\n ---> e9e83a2badcb\nStep 4/11 : WORKDIR /usr/src/app\n ---> Running in d6b2e3249660\nRemoving intermediate container d6b2e3249660\n ---> 780411c63671\nStep 5/11 : COPY . /usr/src/app\n ---> a950b40a2028\nStep 6/11 : RUN npm install &&      npm cache clean --force &&      npm run build\n ---> Running in 72f045322d49\n\u001b[91mnpm WARN The package typescript is included as both a dev and production dependency.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 642 packages from 510 contributors and audited 711 packages in 10.888s\nfound 301 vulnerabilities (14 low, 79 moderate, 162 high, 46 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm WARN using --force I sure hope you know what you are doing.\n\u001b[0m\n> caprover@2.2.3 build /usr/src/app\n> npm run tslint && rm -rf ./built && npx tsc && chmod +x ./built -R\n\n\n> caprover@2.2.3 tslint /usr/src/app\n> tslint -c tslint.json -p tsconfig.json\n\nRemoving intermediate container 72f045322d49\n ---> 04a156a12b04\nStep 7/11 : ENV NODE_ENV production\n ---> Running in 3220fc9e3aef\nRemoving intermediate container 3220fc9e3aef\n ---> 1cb68cb322f3\nStep 8/11 : WORKDIR /usr/src/app/built/commands\n ---> Running in 06b9f5ad39ac\nRemoving intermediate container 06b9f5ad39ac\n ---> efb690197678\nStep 9/11 : ENV PATH=\"/usr/src/app/built/commands:${PATH}\"\n ---> Running in 03b26958ac8f\nRemoving intermediate container 03b26958ac8f\n ---> e04d878bacfd\nStep 10/11 : RUN mv caprover.js caprover\n ---> Running in aa6956a98255\nRemoving intermediate container aa6956a98255\n ---> ca5f5e3eff1b\nStep 11/11 : CMD [\"echo\" , \"'Usage: docker run -it caprover/cli-caprover:VERSION_HERE caprover serversetup'\"]\n ---> Running in da453491a7ce\nRemoving intermediate container da453491a7ce\n ---> c4a2e0338777\nSuccessfully built c4a2e0338777\nSuccessfully tagged caprover-cli:latest\n","stderr":"","imageSize":251433401},"repair":{"violations":[],"repairedDockerfile":"FROM node:14-alpine\nRUN apk update && apk upgrade && \\\n    apk add --no-cache bash git openssh\n\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\nCOPY . /usr/src/app\n\nRUN npm install && \\\n     npm cache clean --force && \\\n     npm run build\n\nENV NODE_ENV production\n\nWORKDIR /usr/src/app/built/commands\nENV PATH=\"/usr/src/app/built/commands:${PATH}\"\n\nRUN mv caprover.js caprover\n\n\n\nCMD [\"echo\" , \"'Usage: docker run -it caprover/cli-caprover:VERSION_HERE caprover serversetup'\"]\n"},"endTime":1672012787433}