{"repository":"https://github.com/d3473r/jitsi-keycloak","dockerfilePath":"Dockerfile","startTime":1672096545807,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/d3473r/jitsi-keycloak'...\n","error":null,"commit":"004aa3bda4c7171ef8a834ba449db334b5d7cbc2"},"originalBuild":{"startTimestamp":1672096546826,"endTimestamp":1672096733960,"error":null,"stdout":"Sending build context to Docker daemon  2.204MB\r\r\nStep 1/20 : FROM alpine:3.16 as build-client\n3.16: Pulling from library/alpine\nca7dd9ec2225: Pulling fs layer\nca7dd9ec2225: Verifying Checksum\nca7dd9ec2225: Download complete\nca7dd9ec2225: Pull complete\nDigest: sha256:b95359c2505145f16c6aa384f9cc74eeff78eb36d308ca4fd902eeeb0a0b161b\nStatus: Downloaded newer image for alpine:3.16\n ---> bfe296a52501\nStep 2/20 : RUN apk add --no-cache npm python3 make gcc g++\n ---> Running in 39bca466c9a8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/35) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/35) Installing libgcc (11.2.1_git20220219-r2)\n(3/35) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/35) Installing binutils (2.38-r3)\n(5/35) Installing libgomp (11.2.1_git20220219-r2)\n(6/35) Installing libatomic (11.2.1_git20220219-r2)\n(7/35) Installing gmp (6.2.1-r2)\n(8/35) Installing isl22 (0.22-r0)\n(9/35) Installing mpfr4 (4.1.0-r0)\n(10/35) Installing mpc1 (1.2.1-r0)\n(11/35) Installing gcc (11.2.1_git20220219-r2)\n(12/35) Installing musl-dev (1.2.3-r2)\n(13/35) Installing libc-dev (0.7.2-r3)\n(14/35) Installing g++ (11.2.1_git20220219-r2)\n(15/35) Installing make (4.3-r0)\n(16/35) Installing ca-certificates (20220614-r0)\n(17/35) Installing brotli-libs (1.0.9-r6)\n(18/35) Installing c-ares (1.18.1-r0)\n(19/35) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(20/35) Installing icu-libs (71.1-r2)\n(21/35) Installing nghttp2-libs (1.47.0-r0)\n(22/35) Installing libuv (1.44.1-r0)\n(23/35) Installing nodejs-current (18.9.1-r0)\n(24/35) Installing npm (8.10.0-r0)\n(25/35) Installing libbz2 (1.0.8-r1)\n(26/35) Installing expat (2.5.0-r0)\n(27/35) Installing libffi (3.4.2-r1)\n(28/35) Installing gdbm (1.23-r0)\n(29/35) Installing xz-libs (5.2.5-r1)\n(30/35) Installing mpdecimal (2.5.1-r1)\n(31/35) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(32/35) Installing ncurses-libs (6.3_p20220521-r0)\n(33/35) Installing readline (8.1.2-r0)\n(34/35) Installing sqlite-libs (3.38.5-r0)\n(35/35) Installing python3 (3.10.9-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 288 MiB in 48 packages\nRemoving intermediate container 39bca466c9a8\n ---> 764844f44766\nStep 3/20 : WORKDIR /build\n ---> Running in 686c3f92bbfb\nRemoving intermediate container 686c3f92bbfb\n ---> d40b85884a0f\nStep 4/20 : COPY client/package*.json ./\n ---> 998960452907\nStep 5/20 : RUN npm ci\n ---> Running in ef06f7685456\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated subscriptions-transport-ws@0.11.0: The `subscriptions-transport-ws` package is no longer maintained. We recommend you use `graphql-ws` instead. For help migrating Apollo software to `graphql-ws`, see https://www.apollographql.com/docs/apollo-server/data/subscriptions/#switching-from-subscriptions-transport-ws    For general help using `graphql-ws`, see https://github.com/enisdenjo/graphql-ws/blob/master/README.md\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\nadded 1381 packages, and audited 1382 packages in 26s\n\n125 packages are looking for funding\n  run `npm fund` for details\n\n5 vulnerabilities (2 moderate, 3 high)\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container ef06f7685456\n ---> cd10548227e1\nStep 6/20 : COPY client .\n ---> c2307fc75358\nStep 7/20 : RUN npm run build\n ---> Running in 28bd68adb7d2\n\n> client@1.0.0 build\n> vue-cli-service build\n\n\n\u001b[91m-  Building legacy bundle for production...\n\u001b[0m WARNING  Compiled with 3 warnings11:17:48 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.ca663fa7.css (392 KiB)\n  js/chunk-vendors-legacy.837f8b5e.js (372 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (770 KiB)\n      css/chunk-vendors.ca663fa7.css\n      js/chunk-vendors-legacy.837f8b5e.js\n      css/app.e2888b30.css\n      js/app-legacy.8118189e.js\n\n\n warning  \n\nwebpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\n  File                                      Size             Gzipped\n\n  dist/js/chunk-vendors-legacy.837f8b5e.    371.94 KiB       118.65 KiB\n  js\n  dist/js/app-legacy.8118189e.js            5.70 KiB         2.63 KiB\n  dist/css/chunk-vendors.ca663fa7.css       392.39 KiB       44.96 KiB\n  dist/css/app.e2888b30.css                 0.03 KiB         0.05 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:17:48.301Z - Hash: cf7b10b8d737a54d - Time: 29211ms\n\n\n\u001b[91m-  Building module bundle for production...\n\u001b[0m WARNING  Compiled with 3 warnings11:18:10 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.ca663fa7.css (392 KiB)\n  js/chunk-vendors.9a758a14.js (267 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (664 KiB)\n      css/chunk-vendors.ca663fa7.css\n      js/chunk-vendors.9a758a14.js\n      css/app.e2888b30.css\n      js/app.bc85b861.js\n\n\n warning  \n\nwebpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\n  File                                   Size              Gzipped\n\n  dist/js/chunk-vendors.9a758a14.js      266.67 KiB        84.48 KiB\n  dist/js/app.bc85b861.js                5.22 KiB          2.46 KiB\n  dist/css/chunk-vendors.ca663fa7.css    392.39 KiB        44.96 KiB\n  dist/css/app.e2888b30.css              0.03 KiB          0.05 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:18:10.863Z - Hash: 8a854f279c94b46d - Time: 20648ms\n\n DONE  Build complete. The dist directory is ready to be deployed.\n INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n       \nRemoving intermediate container 28bd68adb7d2\n ---> 024f8b1f78d7\nStep 8/20 : FROM alpine:3.16 as build-server\n ---> bfe296a52501\nStep 9/20 : RUN apk add --no-cache npm\n ---> Running in f4ba46ed9bec\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ca-certificates (20220614-r0)\n(2/11) Installing brotli-libs (1.0.9-r6)\n(3/11) Installing c-ares (1.18.1-r0)\n(4/11) Installing libgcc (11.2.1_git20220219-r2)\n(5/11) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(6/11) Installing libstdc++ (11.2.1_git20220219-r2)\n(7/11) Installing icu-libs (71.1-r2)\n(8/11) Installing nghttp2-libs (1.47.0-r0)\n(9/11) Installing libuv (1.44.1-r0)\n(10/11) Installing nodejs-current (18.9.1-r0)\n(11/11) Installing npm (8.10.0-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 67 MiB in 25 packages\nRemoving intermediate container f4ba46ed9bec\n ---> 7f4aa5c3b076\nStep 10/20 : WORKDIR /build\n ---> Running in 4dfd407ceacf\nRemoving intermediate container 4dfd407ceacf\n ---> 1286a51f6b2e\nStep 11/20 : COPY server .\n ---> 8616b6412014\nStep 12/20 : RUN npm i --omit=dev\n ---> Running in 545fa541bb32\n\u001b[91mnpm WARN deprecated keycloak-connect@20.0.1: This package is deprecated and will be removed in the future. We will shortly provide more details on removal date, and recommended alternatives.\n\u001b[0m\nadded 126 packages, and audited 127 packages in 4s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 545fa541bb32\n ---> 1144fd8d666d\nStep 13/20 : FROM alpine:3.16\n ---> bfe296a52501\nStep 14/20 : RUN apk add --no-cache nodejs\n ---> Running in 7235efa3a963\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing ca-certificates (20220614-r0)\n(2/9) Installing nghttp2-libs (1.47.0-r0)\n(3/9) Installing brotli-libs (1.0.9-r6)\n(4/9) Installing c-ares (1.18.1-r0)\n(5/9) Installing libgcc (11.2.1_git20220219-r2)\n(6/9) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(7/9) Installing libstdc++ (11.2.1_git20220219-r2)\n(8/9) Installing icu-libs (71.1-r2)\n(9/9) Installing nodejs (16.17.1-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 49 MiB in 23 packages\nRemoving intermediate container 7235efa3a963\n ---> dcff06fce85f\nStep 15/20 : WORKDIR /app\n ---> Running in 5e859d5100d0\nRemoving intermediate container 5e859d5100d0\n ---> 12fdd9139aac\nStep 16/20 : ENV NODE_ENV=production\n ---> Running in 1c07c4d5c343\nRemoving intermediate container 1c07c4d5c343\n ---> cf83fcb9c4d1\nStep 17/20 : EXPOSE 3000\n ---> Running in ed1a401da366\nRemoving intermediate container ed1a401da366\n ---> f8ca3d547bbc\nStep 18/20 : CMD [ \"node\", \"src/app.js\" ]\n ---> Running in fdc11a960936\nRemoving intermediate container fdc11a960936\n ---> db545449726a\nStep 19/20 : COPY --from=build-server /build .\n ---> 17edbe068a8c\nStep 20/20 : COPY --from=build-client /build/dist ./public\n ---> 70a33ed91408\nSuccessfully built 70a33ed91408\nSuccessfully tagged jitsi-keycloak:latest\n","stderr":"","imageSize":80579569},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"FROM alpine:3.16 as build-client\nRUN apk add --no-cache npm python3 make gcc g++\nWORKDIR /build\nCOPY client/package*.json ./\nRUN npm ci\nCOPY client .\nRUN npm run build\n\nFROM alpine:3.16 as build-server\nRUN apk add --no-cache npm\nWORKDIR /build\nCOPY server .\nRUN npm i --omit=dev\n\nFROM alpine:3.16\nRUN apk add --no-cache nodejs\nWORKDIR /app\nENV NODE_ENV=production\nEXPOSE 3000\nCMD [ \"node\", \"src/app.js\" ]\nCOPY --from=build-server /build .\nCOPY --from=build-client /build/dist ./public\n"},"repairedBuild":{"startTimestamp":1672096734368,"endTimestamp":1672096950644,"error":null,"stdout":"Sending build context to Docker daemon  2.204MB\r\r\nStep 1/20 : FROM alpine:3.16 as build-client\n ---> bfe296a52501\nStep 2/20 : RUN apk add --no-cache npm python3 make gcc g++\n ---> Running in b2c2c4881c40\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/35) Upgrading musl (1.2.3-r1 -> 1.2.3-r2)\n(2/35) Installing libgcc (11.2.1_git20220219-r2)\n(3/35) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/35) Installing binutils (2.38-r3)\n(5/35) Installing libgomp (11.2.1_git20220219-r2)\n(6/35) Installing libatomic (11.2.1_git20220219-r2)\n(7/35) Installing gmp (6.2.1-r2)\n(8/35) Installing isl22 (0.22-r0)\n(9/35) Installing mpfr4 (4.1.0-r0)\n(10/35) Installing mpc1 (1.2.1-r0)\n(11/35) Installing gcc (11.2.1_git20220219-r2)\n(12/35) Installing musl-dev (1.2.3-r2)\n(13/35) Installing libc-dev (0.7.2-r3)\n(14/35) Installing g++ (11.2.1_git20220219-r2)\n(15/35) Installing make (4.3-r0)\n(16/35) Installing ca-certificates (20220614-r0)\n(17/35) Installing brotli-libs (1.0.9-r6)\n(18/35) Installing c-ares (1.18.1-r0)\n(19/35) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(20/35) Installing icu-libs (71.1-r2)\n(21/35) Installing nghttp2-libs (1.47.0-r0)\n(22/35) Installing libuv (1.44.1-r0)\n(23/35) Installing nodejs-current (18.9.1-r0)\n(24/35) Installing npm (8.10.0-r0)\n(25/35) Installing libbz2 (1.0.8-r1)\n(26/35) Installing expat (2.5.0-r0)\n(27/35) Installing libffi (3.4.2-r1)\n(28/35) Installing gdbm (1.23-r0)\n(29/35) Installing xz-libs (5.2.5-r1)\n(30/35) Installing mpdecimal (2.5.1-r1)\n(31/35) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(32/35) Installing ncurses-libs (6.3_p20220521-r0)\n(33/35) Installing readline (8.1.2-r0)\n(34/35) Installing sqlite-libs (3.38.5-r0)\n(35/35) Installing python3 (3.10.9-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 288 MiB in 48 packages\nRemoving intermediate container b2c2c4881c40\n ---> a64f207cd9d6\nStep 3/20 : WORKDIR /build\n ---> Running in f01e08cb8290\nRemoving intermediate container f01e08cb8290\n ---> 04d24ca0dfed\nStep 4/20 : COPY client/package*.json ./\n ---> 74352ec15d1d\nStep 5/20 : RUN npm ci\n ---> Running in a3cf023e7d98\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated subscriptions-transport-ws@0.11.0: The `subscriptions-transport-ws` package is no longer maintained. We recommend you use `graphql-ws` instead. For help migrating Apollo software to `graphql-ws`, see https://www.apollographql.com/docs/apollo-server/data/subscriptions/#switching-from-subscriptions-transport-ws    For general help using `graphql-ws`, see https://github.com/enisdenjo/graphql-ws/blob/master/README.md\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\nadded 1381 packages, and audited 1382 packages in 28s\n\n125 packages are looking for funding\n  run `npm fund` for details\n\n5 vulnerabilities (2 moderate, 3 high)\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container a3cf023e7d98\n ---> e457dedddd46\nStep 6/20 : COPY client .\n ---> 5ac5431c289b\nStep 7/20 : RUN npm run build\n ---> Running in d312dc4626f3\n\n> client@1.0.0 build\n> vue-cli-service build\n\n\n\u001b[91m-  Building legacy bundle for production...\n\u001b[0m WARNING  Compiled with 3 warnings11:21:17 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.ca663fa7.css (392 KiB)\n  js/chunk-vendors-legacy.837f8b5e.js (372 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (770 KiB)\n      css/chunk-vendors.ca663fa7.css\n      js/chunk-vendors-legacy.837f8b5e.js\n      css/app.e2888b30.css\n      js/app-legacy.8118189e.js\n\n\n warning  \n\nwebpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\n  File                                      Size             Gzipped\n\n  dist/js/chunk-vendors-legacy.837f8b5e.    371.94 KiB       118.65 KiB\n  js\n  dist/js/app-legacy.8118189e.js            5.70 KiB         2.63 KiB\n  dist/css/chunk-vendors.ca663fa7.css       392.39 KiB       44.96 KiB\n  dist/css/app.e2888b30.css                 0.03 KiB         0.05 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:21:17.662Z - Hash: cf7b10b8d737a54d - Time: 26566ms\n\n\n\u001b[91m-  Building module bundle for production...\n\u001b[0m WARNING  Compiled with 3 warnings11:21:41 PM\n\n warning  \n\nasset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  css/chunk-vendors.ca663fa7.css (392 KiB)\n  js/chunk-vendors.9a758a14.js (267 KiB)\n\n warning  \n\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (664 KiB)\n      css/chunk-vendors.ca663fa7.css\n      js/chunk-vendors.9a758a14.js\n      css/app.e2888b30.css\n      js/app.bc85b861.js\n\n\n warning  \n\nwebpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n\n  File                                   Size              Gzipped\n\n  dist/js/chunk-vendors.9a758a14.js      266.67 KiB        84.48 KiB\n  dist/js/app.bc85b861.js                5.22 KiB          2.46 KiB\n  dist/css/chunk-vendors.ca663fa7.css    392.39 KiB        44.96 KiB\n  dist/css/app.e2888b30.css              0.03 KiB          0.05 KiB\n\n  Images and other types of assets omitted.\n  Build at: 2022-12-26T23:21:42.039Z - Hash: 8a854f279c94b46d - Time: 22308ms\n\n DONE  Build complete. The dist directory is ready to be deployed.\n INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html\n       \nRemoving intermediate container d312dc4626f3\n ---> e7928d971cf4\nStep 8/20 : FROM alpine:3.16 as build-server\n ---> bfe296a52501\nStep 9/20 : RUN apk add --no-cache npm\n ---> Running in f3c172307ab3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ca-certificates (20220614-r0)\n(2/11) Installing brotli-libs (1.0.9-r6)\n(3/11) Installing c-ares (1.18.1-r0)\n(4/11) Installing libgcc (11.2.1_git20220219-r2)\n(5/11) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(6/11) Installing libstdc++ (11.2.1_git20220219-r2)\n(7/11) Installing icu-libs (71.1-r2)\n(8/11) Installing nghttp2-libs (1.47.0-r0)\n(9/11) Installing libuv (1.44.1-r0)\n(10/11) Installing nodejs-current (18.9.1-r0)\n(11/11) Installing npm (8.10.0-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 67 MiB in 25 packages\nRemoving intermediate container f3c172307ab3\n ---> 18c3369454a1\nStep 10/20 : WORKDIR /build\n ---> Running in 41d41c596827\nRemoving intermediate container 41d41c596827\n ---> 6df750fcdc49\nStep 11/20 : COPY server .\n ---> fdb84d073156\nStep 12/20 : RUN npm i --omit=dev\n ---> Running in 5807eae946b5\n\u001b[91mnpm WARN deprecated keycloak-connect@20.0.1: This package is deprecated and will be removed in the future. We will shortly provide more details on removal date, and recommended alternatives.\n\u001b[0m\nadded 126 packages, and audited 127 packages in 4s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 5807eae946b5\n ---> b972bdf962ed\nStep 13/20 : FROM alpine:3.16\n ---> bfe296a52501\nStep 14/20 : RUN apk add --no-cache nodejs\n ---> Running in d9a11c18d96e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing ca-certificates (20220614-r0)\n(2/9) Installing nghttp2-libs (1.47.0-r0)\n(3/9) Installing brotli-libs (1.0.9-r6)\n(4/9) Installing c-ares (1.18.1-r0)\n(5/9) Installing libgcc (11.2.1_git20220219-r2)\n(6/9) Installing icu-data-en (71.1-r2)\nExecuting icu-data-en-71.1-r2.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(7/9) Installing libstdc++ (11.2.1_git20220219-r2)\n(8/9) Installing icu-libs (71.1-r2)\n(9/9) Installing nodejs (16.17.1-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 49 MiB in 23 packages\nRemoving intermediate container d9a11c18d96e\n ---> 4a4fc1edcb38\nStep 15/20 : WORKDIR /app\n ---> Running in 949a7af24041\nRemoving intermediate container 949a7af24041\n ---> 3727d090e57e\nStep 16/20 : ENV NODE_ENV=production\n ---> Running in d359448c662d\nRemoving intermediate container d359448c662d\n ---> 8e02580f3f4c\nStep 17/20 : EXPOSE 3000\n ---> Running in 39267036c31e\nRemoving intermediate container 39267036c31e\n ---> d802f3804ffc\nStep 18/20 : CMD [ \"node\", \"src/app.js\" ]\n ---> Running in 14e41cd312bc\nRemoving intermediate container 14e41cd312bc\n ---> 30a7610220eb\nStep 19/20 : COPY --from=build-server /build .\n ---> 8914a9125ae5\nStep 20/20 : COPY --from=build-client /build/dist ./public\n ---> 83a7a32e37e2\nSuccessfully built 83a7a32e37e2\nSuccessfully tagged jitsi-keycloak:latest\n","stderr":"","imageSize":80579569},"endTime":1672096951311}