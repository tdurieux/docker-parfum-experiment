{"repository":"https://github.com/codefordc/ancfinder","dockerfilePath":"Dockerfile","startTime":1672585121675,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/codefordc/ancfinder'...\n","error":null,"commit":"66938842bb9a5057875143345f744daf9151a6f8"},"originalBuild":{"startTimestamp":1672585122621,"endTimestamp":1672585317110,"error":null,"stdout":"Sending build context to Docker daemon  1.147MB\r\r\nStep 1/12 : FROM codefordc2/ancfinder-base:1.0\n1.0: Pulling from codefordc2/ancfinder-base\nbc9ab73e5b14: Pulling fs layer\n193a6306c92a: Pulling fs layer\ne5c3f8c317dc: Pulling fs layer\na587a86c9dcb: Pulling fs layer\n72744d0a318b: Pulling fs layer\n3493e487c18d: Pulling fs layer\nff536859af1d: Pulling fs layer\n3427540e9cce: Pulling fs layer\nddc423e256e5: Pulling fs layer\nad805dd8153a: Pulling fs layer\n00da0baa00e2: Pulling fs layer\n4caa84eec7db: Pulling fs layer\na587a86c9dcb: Waiting\nad805dd8153a: Waiting\nddc423e256e5: Waiting\n72744d0a318b: Waiting\n00da0baa00e2: Waiting\nff536859af1d: Waiting\n4caa84eec7db: Waiting\n3493e487c18d: Waiting\ne5c3f8c317dc: Waiting\n193a6306c92a: Verifying Checksum\n193a6306c92a: Download complete\ne5c3f8c317dc: Verifying Checksum\ne5c3f8c317dc: Download complete\nbc9ab73e5b14: Verifying Checksum\nbc9ab73e5b14: Download complete\n3493e487c18d: Verifying Checksum\n3493e487c18d: Download complete\na587a86c9dcb: Verifying Checksum\na587a86c9dcb: Download complete\nff536859af1d: Verifying Checksum\nff536859af1d: Download complete\n3427540e9cce: Verifying Checksum\n3427540e9cce: Download complete\nbc9ab73e5b14: Pull complete\nddc423e256e5: Verifying Checksum\nddc423e256e5: Download complete\n193a6306c92a: Pull complete\ne5c3f8c317dc: Pull complete\n00da0baa00e2: Download complete\n72744d0a318b: Verifying Checksum\n72744d0a318b: Download complete\nad805dd8153a: Verifying Checksum\nad805dd8153a: Download complete\n4caa84eec7db: Verifying Checksum\n4caa84eec7db: Download complete\na587a86c9dcb: Pull complete\n72744d0a318b: Pull complete\n3493e487c18d: Pull complete\nff536859af1d: Pull complete\n3427540e9cce: Pull complete\nddc423e256e5: Pull complete\nad805dd8153a: Pull complete\n00da0baa00e2: Pull complete\n4caa84eec7db: Pull complete\nDigest: sha256:89adea242ccb671bd66047c7c906cbcfcd89a23985a5a3bfd263f4acdafaf7c1\nStatus: Downloaded newer image for codefordc2/ancfinder-base:1.0\n ---> 569255d8a34c\nStep 2/12 : RUN apt-get update &&     apt-get install -y &&     pip3 install uwsgi\n ---> Running in a3aa0bc843da\nGet:1 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nIgn:2 http://deb.debian.org/debian stretch InRelease\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (5370 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\n0 upgraded, 0 newly installed, 0 to remove and 178 not upgraded.\nRequirement already satisfied: uwsgi in /usr/local/lib/python3.7/site-packages (2.0.18)\n\u001b[91mYou are using pip version 18.1, however version 22.3.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container a3aa0bc843da\n ---> e3cbf6d3f9d7\nStep 3/12 : WORKDIR /srv/app\n ---> Running in eebdbf83506f\nRemoving intermediate container eebdbf83506f\n ---> 3015faae6fe2\nStep 4/12 : COPY . /srv/app\n ---> 7d6eaddba817\nStep 5/12 : ENV DJANGO_ENV=test\n ---> Running in e1e447ecd1e9\nRemoving intermediate container e1e447ecd1e9\n ---> 5dc581e73425\nStep 6/12 : ENV STATIC_ROOT=/srv/app/static\n ---> Running in 64c0ce09746a\nRemoving intermediate container 64c0ce09746a\n ---> df2d3eae951d\nStep 7/12 : VOLUME /srv/app/static\n ---> Running in f2b1e87edc45\nRemoving intermediate container f2b1e87edc45\n ---> a9cd74b80535\nStep 8/12 : EXPOSE 8000\n ---> Running in 7690146fea8b\nRemoving intermediate container 7690146fea8b\n ---> e30b34b61c40\nStep 9/12 : RUN python3 manage.py makemigrations\n ---> Running in 60f7efd23dfb\nRunning development deployment...\nNo changes detected\nRemoving intermediate container 60f7efd23dfb\n ---> a154075f5678\nStep 10/12 : RUN python3 manage.py migrate\n ---> Running in c5bbb9e29aab\nRunning development deployment...\nOperations to perform:\n  Apply all migrations: admin, ancfinder_site, auth, contenttypes, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying admin.0003_logentry_add_action_flag_choices... OK\n  Applying ancfinder_site.0001_initial... OK\n  Applying ancfinder_site.0002_auto_20181007_2041... OK\n  Applying ancfinder_site.0003_anc_boundries... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying auth.0008_alter_user_username_max_length... OK\n  Applying auth.0009_alter_user_last_name_max_length... OK\n  Applying auth.0010_alter_group_name_max_length... OK\n  Applying auth.0011_update_proxy_permissions... OK\n  Applying sessions.0001_initial... OK\nRemoving intermediate container c5bbb9e29aab\n ---> a304d3a41aa4\nStep 11/12 : RUN python manage.py collectstatic --noinput\n ---> Running in 0416eb635689\nRunning development deployment...\n\n141 static files copied to '/srv/app/static'.\nRemoving intermediate container 0416eb635689\n ---> dec4c3d030df\nStep 12/12 : CMD [\"uwsgi\", \"--ini\", \"/srv/app/uwsgi.ini\"]\n ---> Running in 2ce64caf68e7\nRemoving intermediate container 2ce64caf68e7\n ---> 0b0d2ed8ca95\nSuccessfully built 0b0d2ed8ca95\nSuccessfully tagged ancfinder:latest\n","stderr":"","imageSize":1042484077},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":4,"end":4,"columnStart":4,"columnEnd":22}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":3,"end":3,"columnStart":4,"columnEnd":22}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":3,"end":3,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM codefordc2/ancfinder-base:1.0\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y && \\\n    pip3 install --no-cache-dir uwsgi\n\n# create working directory and move our app there\nWORKDIR /srv/app\nCOPY . /srv/app\n\n# set environment Vars\nENV DJANGO_ENV=test\nENV STATIC_ROOT=/srv/app/static\n\n# create a space for our static static\n# collectstatic below will copy files to this location\nVOLUME /srv/app/static\n\n# expose port and start app\nEXPOSE 8000\nRUN python3 manage.py makemigrations\nRUN python3 manage.py migrate\nRUN python manage.py collectstatic --noinput\nCMD [\"uwsgi\", \"--ini\", \"/srv/app/uwsgi.ini\"]\n"},"repairedBuild":{"startTimestamp":1672585350316,"endTimestamp":1672585388182,"error":null,"stdout":"Sending build context to Docker daemon  1.147MB\r\r\nStep 1/12 : FROM codefordc2/ancfinder-base:1.0\n ---> 569255d8a34c\nStep 2/12 : RUN apt-get update &&     apt-get install --no-install-recommends -y &&     pip3 install --no-cache-dir uwsgi\n ---> Running in 5233749a1383\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (5516 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\n0 upgraded, 0 newly installed, 0 to remove and 178 not upgraded.\nRequirement already satisfied: uwsgi in /usr/local/lib/python3.7/site-packages (2.0.18)\n\u001b[91mYou are using pip version 18.1, however version 22.3.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 5233749a1383\n ---> 30cba80e40b7\nStep 3/12 : WORKDIR /srv/app\n ---> Running in 0e5560f4aba8\nRemoving intermediate container 0e5560f4aba8\n ---> bedb582ed585\nStep 4/12 : COPY . /srv/app\n ---> 2c7d0d72a322\nStep 5/12 : ENV DJANGO_ENV=test\n ---> Running in c4091007743e\nRemoving intermediate container c4091007743e\n ---> 409f0d605936\nStep 6/12 : ENV STATIC_ROOT=/srv/app/static\n ---> Running in e32fc4ac42ab\nRemoving intermediate container e32fc4ac42ab\n ---> 28173bfd1d73\nStep 7/12 : VOLUME /srv/app/static\n ---> Running in e4358407500f\nRemoving intermediate container e4358407500f\n ---> 8c1303de3b5e\nStep 8/12 : EXPOSE 8000\n ---> Running in e84fa2fdcb3b\nRemoving intermediate container e84fa2fdcb3b\n ---> 1dd486e8ccce\nStep 9/12 : RUN python3 manage.py makemigrations\n ---> Running in 33c4165b5702\nRunning development deployment...\nNo changes detected\nRemoving intermediate container 33c4165b5702\n ---> 3ad506b78125\nStep 10/12 : RUN python3 manage.py migrate\n ---> Running in 5fab0f231831\nRunning development deployment...\nOperations to perform:\n  Apply all migrations: admin, ancfinder_site, auth, contenttypes, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying admin.0003_logentry_add_action_flag_choices... OK\n  Applying ancfinder_site.0001_initial... OK\n  Applying ancfinder_site.0002_auto_20181007_2041... OK\n  Applying ancfinder_site.0003_anc_boundries... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying auth.0008_alter_user_username_max_length... OK\n  Applying auth.0009_alter_user_last_name_max_length... OK\n  Applying auth.0010_alter_group_name_max_length... OK\n  Applying auth.0011_update_proxy_permissions... OK\n  Applying sessions.0001_initial... OK\nRemoving intermediate container 5fab0f231831\n ---> bdc77d9a7b73\nStep 11/12 : RUN python manage.py collectstatic --noinput\n ---> Running in b4023e6545f3\nRunning development deployment...\n\n141 static files copied to '/srv/app/static'.\nRemoving intermediate container b4023e6545f3\n ---> 70a60ade01f4\nStep 12/12 : CMD [\"uwsgi\", \"--ini\", \"/srv/app/uwsgi.ini\"]\n ---> Running in 5e82ca6184b4\nRemoving intermediate container 5e82ca6184b4\n ---> 30f222121538\nSuccessfully built 30f222121538\nSuccessfully tagged ancfinder:latest\n","stderr":"","imageSize":1042462596},"endTime":1672585388724}