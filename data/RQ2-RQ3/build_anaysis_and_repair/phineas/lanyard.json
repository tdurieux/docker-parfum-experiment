{"repository":"https://github.com/phineas/lanyard","dockerfilePath":"Dockerfile","startTime":1672972122060,"endTime":1672972247909,"clone":{"startTime":1672972122061,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/phineas/lanyard'...\n","error":null,"endTime":1672972122816,"commit":"e7c3ec0a937d6503d0c2d5f784ce7a4e5d137de1"},"originalBuild":{"startTime":1672972122899,"endTime":1672972193172,"error":null,"stdout":"Sending build context to Docker daemon  301.1kB\r\r\nStep 1/11 : FROM elixir:1.12.3-alpine AS build\n1.12.3-alpine: Pulling from library/elixir\nca7dd9ec2225: Already exists\n98b6b89ef89c: Pulling fs layer\na60d8f211312: Pulling fs layer\na60d8f211312: Verifying Checksum\na60d8f211312: Download complete\n98b6b89ef89c: Verifying Checksum\n98b6b89ef89c: Download complete\n98b6b89ef89c: Pull complete\na60d8f211312: Pull complete\nDigest: sha256:9408384ce75c9d2e2c1226ecd1774124387d174f66280c66cd50e9b0a64d1a97\nStatus: Downloaded newer image for elixir:1.12.3-alpine\n ---> b641d7a585d1\nStep 2/11 : ENV MIX_ENV=prod\n ---> Running in 4d44d73be1af\nRemoving intermediate container 4d44d73be1af\n ---> 8b02e848b4c1\nStep 3/11 : WORKDIR /app\n ---> Running in 168ec4873799\nRemoving intermediate container 168ec4873799\n ---> 861891bfee74\nStep 4/11 : ADD mix.exs mix.lock /app/\n ---> 4236d97976da\nStep 5/11 : RUN \tcd /app && \tmix local.hex --force && \tmix local.rebar --force && \tmix deps.get\n ---> Running in fcd8a4c46122\n* creating /root/.mix/archives/hex-2.0.0\n* creating /root/.mix/rebar\n* creating /root/.mix/rebar3\nResolving Hex dependencies...\nResolution completed in 0.076s\nUnchanged:\n  accept 0.3.5\n  certifi 2.8.0\n  corsica 1.1.3\n  cowboy 2.8.0\n  cowboy_telemetry 0.3.1\n  cowlib 2.9.1\n  gen_registry 1.0.2\n  hackney 1.18.0\n  httpoison 1.8.0\n  idna 6.1.1\n  manifold 1.4.0\n  metrics 1.0.1\n  mime 1.5.0\n  mimerl 1.2.0\n  parse_trans 3.3.1\n  plug 1.11.1\n  plug_cowboy 2.4.1\n  plug_crypto 1.2.1\n  poison 4.0.1\n  prometheus 4.8.2\n  prometheus_ex 3.0.5\n  prometheus_plugs 1.1.5\n  quantile_estimator 0.2.1\n  ranch 1.7.1\n  redix 1.1.5\n  ssl_verify_fun 1.1.6\n  telemetry 0.4.2\n  unicode_util_compat 0.7.0\n  websocket_client 1.2.4\n* Getting plug_cowboy (Hex package)\n* Getting prometheus_plugs (Hex package)\n* Getting prometheus_ex (Hex package)\n* Getting websocket_client (Hex package)\n* Getting poison (Hex package)\n* Getting gen_registry (Hex package)\n* Getting corsica (Hex package)\n* Getting manifold (Hex package)\n* Getting httpoison (Hex package)\n* Getting redix (Hex package)\n* Getting telemetry (Hex package)\n* Getting hackney (Hex package)\n* Getting certifi (Hex package)\n* Getting idna (Hex package)\n* Getting metrics (Hex package)\n* Getting mimerl (Hex package)\n* Getting parse_trans (Hex package)\n* Getting ssl_verify_fun (Hex package)\n* Getting unicode_util_compat (Hex package)\n* Getting plug (Hex package)\n* Getting mime (Hex package)\n* Getting plug_crypto (Hex package)\n* Getting prometheus (Hex package)\n* Getting quantile_estimator (Hex package)\n* Getting accept (Hex package)\n* Getting cowboy (Hex package)\n* Getting cowboy_telemetry (Hex package)\n* Getting cowlib (Hex package)\n* Getting ranch (Hex package)\nRemoving intermediate container fcd8a4c46122\n ---> abea9ccbb6b7\nStep 6/11 : ADD . /app/\n ---> 27cd3aaa4ca9\nStep 7/11 : RUN \tmix compile && \tmix release\n ---> Running in f0eaee14fb88\n===> Analyzing applications...\n===> Compiling parse_trans\n===> Analyzing applications...\n===> Compiling websocket_client\nsrc/wsc_lib.erl:7:2: Warning: export_all flag enabled - all functions will be exported\n\nsrc/websocket_client.erl:136:10: Warning: http_uri:parse/2 is deprecated and will be removed in OTP 25; use uri_string functions instead\nsrc/websocket_client.erl:147:5: Warning: gen_fsm:start_link/3 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:149:5: Warning: gen_fsm:start_link/4 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:152:5: Warning: gen_fsm:sync_send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:157:5: Warning: gen_fsm:send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:192:21: Warning: gen_fsm:send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:281:18: Warning: gen_fsm:send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:438:12: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\nsrc/websocket_client.erl:492:19: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\nsrc/websocket_client.erl:555:11: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\n\n===> \"/app/deps/websocket_client/ebin/websocket_client.app\" is missing kernel from applications list\n===> \"/app/deps/websocket_client/ebin/websocket_client.app\" is missing stdlib from applications list\n===> Analyzing applications...\n===> Compiling mimerl\n===> Analyzing applications...\n===> Compiling metrics\n==> manifold\nCompiling 4 files (.ex)\n\u001b[91mwarning: Supervisor.Spec.supervisor/3 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/manifold/partitioner.ex:15: Manifold.Partitioner.child_spec/2\n\n\u001b[0mGenerated manifold app\n===> Analyzing applications...\n===> Compiling unicode_util_compat\n===> Analyzing applications...\n===> Compiling idna\n===> Analyzing applications...\n===> Compiling ranch\nsrc/ranch_ssl.erl:142:7: Warning: ssl:ssl_accept/3 is removed; use ssl_handshake/1,2,3 instead\n\n==> gen_registry\nCompiling 4 files (.ex)\n\u001b[91mwarning: Supervisor.Spec.supervisor/3 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/spec.ex:18: GenRegistry.Spec.child_spec/2\n\n\u001b[0mGenerated gen_registry app\n===> Analyzing applications...\n===> Compiling telemetry\n==> redix\nCompiling 12 files (.ex)\nGenerated redix app\n==> poison\nCompiling 4 files (.ex)\nGenerated poison app\n==> ssl_verify_fun\nCompiling 7 files (.erl)\nGenerated ssl_verify_fun app\n===> Fetching rebar3_hex v7.0.2\n===> Fetching hex_core v0.8.4\n===> Fetching verl v1.1.1\n===> Analyzing applications...\n===> Compiling verl\n===> Compiling hex_core\n===> Compiling rebar3_hex\n===> Analyzing applications...\n===> Compiling quantile_estimator\nsrc/quantile.erl:54:5: Warning: ambiguous call of overridden auto-imported BIF ceil/1\n - use erlang:ceil/1 or \"-compile({no_auto_import,[ceil/1]}).\" to resolve name clash\n\nsrc/quantile_estimator.erl:97:49: Warning: ambiguous call of overridden auto-imported BIF floor/1\n - use erlang:floor/1 or \"-compile({no_auto_import,[floor/1]}).\" to resolve name clash\n\n==> prometheus\nCompiling 30 files (.erl)\nGenerated prometheus app\n==> prometheus_ex\nCompiling 19 files (.ex)\n\u001b[91mwarning: :mnesia.system_info/1 defined in application :mnesia is used by the current application but the current application does not depend on :mnesia. To fix this, you must do one of:\n\n  1. If :mnesia is part of Erlang/Elixir, you must include it under :extra_applications inside \"def application\" in your mix.exs\n\n  2. If :mnesia is a dependency, make sure it is listed under \"def deps\" in your mix.exs\n\n  3. In case you don't want to add a requirement to :mnesia, you may optionally skip this warning by adding [xref: [exclude: [:mnesia]]] to your \"def project\" in mix.exs\n\n  lib/prometheus/contrib/mnesia.ex:22: Prometheus.Contrib.Mnesia.table_disk_size/2\n\n\u001b[0mGenerated prometheus_ex app\n===> Analyzing applications...\n===> Compiling certifi\n===> Analyzing applications...\n===> Compiling hackney\n==> httpoison\nCompiling 3 files (.ex)\nGenerated httpoison app\n===> Analyzing applications...\n===> Compiling cowlib\n===> Analyzing applications...\n===> Compiling cowboy\n===> Analyzing applications...\n===> Compiling cowboy_telemetry\n===> Fetching rebar3_archive_plugin v0.0.2\n===> Fetching rebar3_elvis_plugin (from {git,\"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                               \"master\"})\n===> Errors loading plugin {rebar3_elvis_plugin,\n                               {git,\n                                   \"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                                   \"master\"}}. Run rebar3 with DEBUG=1 set to see errors.\n===> Analyzing applications...\n===> Compiling rebar3_archive_plugin\n===> Fetching rebar3_elvis_plugin (from {git,\"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                               \"master\"})\n===> Errors loading plugin {rebar3_elvis_plugin,\n                               {git,\n                                   \"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                                   \"master\"}}. Run rebar3 with DEBUG=1 set to see errors.\n===> Analyzing applications...\n===> Compiling accept\n==> mime\nCompiling 2 files (.ex)\nGenerated mime app\n==> plug_crypto\nCompiling 5 files (.ex)\n\u001b[91mwarning: ^^^ is deprecated. It is typically used as xor but it has the wrong precedence, use Bitwise.bxor/2 instead\n  lib/plug/crypto.ex:126\n\nwarning: ^^^ is deprecated. It is typically used as xor but it has the wrong precedence, use Bitwise.bxor/2 instead\n  lib/plug/crypto.ex:126\n\n\u001b[0m\u001b[91mwarning: ^^^ is deprecated. It is typically used as xor but it has the wrong precedence, use Bitwise.bxor/2 instead\n  lib/plug/crypto.ex:145\n\n\u001b[0mGenerated plug_crypto app\n==> plug\nCompiling 1 file (.erl)\nCompiling 41 files (.ex)\n\u001b[91mwarning: System.stacktrace/0 is deprecated. Use __STACKTRACE__ instead\n  lib/plug/conn/wrapper_error.ex:23: Plug.Conn.WrapperError.reraise/3\n\n\u001b[0mGenerated plug app\n==> plug_cowboy\nCompiling 5 files (.ex)\nGenerated plug_cowboy app\n==> prometheus_plugs\nCompiling 3 files (.ex)\n\u001b[91mwarning: Plug.Builder.compile/3 defined in application :plug is used by the current application but the current application does not depend on :plug. To fix this, you must do one of:\n\n  1. If :plug is part of Erlang/Elixir, you must include it under :extra_applications inside \"def application\" in your mix.exs\n\n  2. If :plug is a dependency, make sure it is listed under \"def deps\" in your mix.exs\n\n  3. In case you don't want to add a requirement to :plug, you may optionally skip this warning by adding [xref: [exclude: [Plug.Builder]]] to your \"def project\" in mix.exs\n\n  lib/prometheus/plug_instrumenter.ex:227: Prometheus.PlugInstrumenter.__before_compile__/1\n\n\u001b[0m\u001b[91mwarning: Plug.Router.Utils.split/1 defined in application :plug is used by the current application but the current application does not depend on :plug. To fix this, you must do one of:\n\n  1. If :plug is part of Erlang/Elixir, you must include it under :extra_applications inside \"def application\" in your mix.exs\n\n  2. If :plug is a dependency, make sure it is listed under \"def deps\" in your mix.exs\n\n  3. In case you don't want to add a requirement to :plug, you may optionally skip this warning by adding [xref: [exclude: [Plug.Router.Utils]]] to your \"def project\" in mix.exs\n\n  lib/prometheus/plug_exporter.ex:73: Prometheus.PlugExporter.__using__/1\n\n\u001b[0mGenerated prometheus_plugs app\n==> corsica\nCompiling 2 files (.ex)\nGenerated corsica app\n==> lanyard\nCompiling 30 files (.ex)\n\u001b[91mwarning: variable \"p\" is unused (if the variable is not meant to be used, prefix it with an underscore)\n  lib/bot/commands/api_key.ex:5: Lanyard.DiscordBot.Commands.ApiKey.handle/2\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 29.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def payload_decode(...)\n\n  lib/gateway/utility.ex:42: Lanyard.Gateway.Utility.payload_decode/2\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 55.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def opcode(...)\n\n  lib/gateway/utility.ex:61: Lanyard.Gateway.Utility.opcode/2\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 126.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def websocket_info(...)\n\n  lib/gateway/client.ex:136: Lanyard.Gateway.Client.websocket_info/3\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 126.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def websocket_info(...)\n\n  lib/gateway/client.ex:141: Lanyard.Gateway.Client.websocket_info/3\n\n\u001b[0m\u001b[91mwarning: clauses with the same name and arity (number of arguments) should be grouped together, \"def handle_info/2\" was previously defined (lib/presence/presence.ex:53)\n  lib/presence/presence.ex:105\n\n\u001b[0m\u001b[91mwarning: :crypto.rand_uniform/2 is deprecated. Use rand:uniform/1 instead\n  lib/bot/commands/api_key.ex:71: Lanyard.DiscordBot.Commands.ApiKey.generate_api_key/0\n\n\u001b[0mGenerated lanyard app\n* assembling lanyard-0.1.0 on MIX_ENV=prod\n* using config/runtime.exs to configure the release at runtime\n* skipping elixir.bat for windows (bin/elixir.bat not found in the Elixir installation)\n* skipping iex.bat for windows (bin/iex.bat not found in the Elixir installation)\n\nRelease created at _build/prod/rel/lanyard!\n\n    # To start your system\n    _build/prod/rel/lanyard/bin/lanyard start\n\nOnce the release is running:\n\n    # To connect to it remotely\n    _build/prod/rel/lanyard/bin/lanyard remote\n\n    # To stop it gracefully (you may also send SIGINT/SIGTERM)\n    _build/prod/rel/lanyard/bin/lanyard stop\n\nTo list all commands:\n\n    _build/prod/rel/lanyard/bin/lanyard\n\nRemoving intermediate container f0eaee14fb88\n ---> 7eaa19b768b6\nStep 8/11 : FROM elixir:1.12.3-alpine\n ---> b641d7a585d1\nStep 9/11 : RUN apk add redis\n ---> Running in 9172d5bd207f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing redis (7.0.5-r0)\nExecuting redis-7.0.5-r0.pre-install\nExecuting redis-7.0.5-r0.post-install\nExecuting busybox-1.35.0-r17.trigger\nOK: 13 MiB in 25 packages\nRemoving intermediate container 9172d5bd207f\n ---> 74d7403501fb\nStep 10/11 : COPY --from=build /app/_build/prod/rel/lanyard /opt/lanyard\n ---> 0245d89e4a04\nStep 11/11 : CMD [ \"/opt/lanyard/bin/lanyard\", \"start\" ]\n ---> Running in 4651203b62da\nRemoving intermediate container 4651203b62da\n ---> 6c2390bc9eb6\nSuccessfully built 6c2390bc9eb6\nSuccessfully tagged lanyard:latest\n","stderr":"","imageSize":99910437},"repair":{"startTime":1672972193235,"endTime":1672972193281,"violations":[{"name":"apkAddUseNoCache","position":{"start":22,"end":22,"columnStart":4,"columnEnd":17}}],"repairedDockerfile":"FROM elixir:1.12.3-alpine AS build\n\nENV MIX_ENV=prod\n\nWORKDIR /app\n\n# get deps first so we have a cache\nADD mix.exs mix.lock /app/\nRUN \\\r\n\tcd /app && \\\r\n\tmix local.hex --force && \\\r\n\tmix local.rebar --force && \\\r\n\tmix deps.get\n\n# then make a release build\nADD . /app/\nRUN \\\r\n\tmix compile && \\\r\n\tmix release\n\nFROM elixir:1.12.3-alpine\n\nRUN apk add --no-cache redis\n\nCOPY --from=build /app/_build/prod/rel/lanyard /opt/lanyard\n\nCMD [ \"/opt/lanyard/bin/lanyard\", \"start\" ]\n"},"repairedBuild":{"startTime":1672972193461,"endTime":1672972247651,"error":null,"stdout":"Sending build context to Docker daemon  301.1kB\r\r\nStep 1/11 : FROM elixir:1.12.3-alpine AS build\n ---> b641d7a585d1\nStep 2/11 : ENV MIX_ENV=prod\n ---> Running in a1428a9a3eff\nRemoving intermediate container a1428a9a3eff\n ---> 8ec80bd04aa3\nStep 3/11 : WORKDIR /app\n ---> Running in f289d9bfa4bc\nRemoving intermediate container f289d9bfa4bc\n ---> 363fa834e186\nStep 4/11 : ADD mix.exs mix.lock /app/\n ---> ca9613bbabc9\nStep 5/11 : RUN \tcd /app && \tmix local.hex --force && \tmix local.rebar --force && \tmix deps.get\n ---> Running in 7050b5d0b2d8\n* creating /root/.mix/archives/hex-2.0.0\n* creating /root/.mix/rebar\n* creating /root/.mix/rebar3\nResolving Hex dependencies...\nResolution completed in 0.08s\nUnchanged:\n  accept 0.3.5\n  certifi 2.8.0\n  corsica 1.1.3\n  cowboy 2.8.0\n  cowboy_telemetry 0.3.1\n  cowlib 2.9.1\n  gen_registry 1.0.2\n  hackney 1.18.0\n  httpoison 1.8.0\n  idna 6.1.1\n  manifold 1.4.0\n  metrics 1.0.1\n  mime 1.5.0\n  mimerl 1.2.0\n  parse_trans 3.3.1\n  plug 1.11.1\n  plug_cowboy 2.4.1\n  plug_crypto 1.2.1\n  poison 4.0.1\n  prometheus 4.8.2\n  prometheus_ex 3.0.5\n  prometheus_plugs 1.1.5\n  quantile_estimator 0.2.1\n  ranch 1.7.1\n  redix 1.1.5\n  ssl_verify_fun 1.1.6\n  telemetry 0.4.2\n  unicode_util_compat 0.7.0\n  websocket_client 1.2.4\n* Getting plug_cowboy (Hex package)\n* Getting prometheus_plugs (Hex package)\n* Getting prometheus_ex (Hex package)\n* Getting websocket_client (Hex package)\n* Getting poison (Hex package)\n* Getting gen_registry (Hex package)\n* Getting corsica (Hex package)\n* Getting manifold (Hex package)\n* Getting httpoison (Hex package)\n* Getting redix (Hex package)\n* Getting telemetry (Hex package)\n* Getting hackney (Hex package)\n* Getting certifi (Hex package)\n* Getting idna (Hex package)\n* Getting metrics (Hex package)\n* Getting mimerl (Hex package)\n* Getting parse_trans (Hex package)\n* Getting ssl_verify_fun (Hex package)\n* Getting unicode_util_compat (Hex package)\n* Getting plug (Hex package)\n* Getting mime (Hex package)\n* Getting plug_crypto (Hex package)\n* Getting prometheus (Hex package)\n* Getting quantile_estimator (Hex package)\n* Getting accept (Hex package)\n* Getting cowboy (Hex package)\n* Getting cowboy_telemetry (Hex package)\n* Getting cowlib (Hex package)\n* Getting ranch (Hex package)\nRemoving intermediate container 7050b5d0b2d8\n ---> a67bde488b9f\nStep 6/11 : ADD . /app/\n ---> 7464ec2c2bb5\nStep 7/11 : RUN \tmix compile && \tmix release\n ---> Running in 7f3ee87a571e\n===> Analyzing applications...\n===> Compiling parse_trans\n===> Analyzing applications...\n===> Compiling websocket_client\nsrc/wsc_lib.erl:7:2: Warning: export_all flag enabled - all functions will be exported\n\nsrc/websocket_client.erl:136:10: Warning: http_uri:parse/2 is deprecated and will be removed in OTP 25; use uri_string functions instead\nsrc/websocket_client.erl:147:5: Warning: gen_fsm:start_link/3 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:149:5: Warning: gen_fsm:start_link/4 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:152:5: Warning: gen_fsm:sync_send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:157:5: Warning: gen_fsm:send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:192:21: Warning: gen_fsm:send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:281:18: Warning: gen_fsm:send_event/2 is deprecated; use the 'gen_statem' module instead\nsrc/websocket_client.erl:438:12: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\nsrc/websocket_client.erl:492:19: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\nsrc/websocket_client.erl:555:11: Warning: erlang:get_stacktrace/0 is removed; use the new try/catch syntax for retrieving the stack backtrace\n\n===> \"/app/deps/websocket_client/ebin/websocket_client.app\" is missing kernel from applications list\n===> \"/app/deps/websocket_client/ebin/websocket_client.app\" is missing stdlib from applications list\n===> Analyzing applications...\n===> Compiling mimerl\n===> Analyzing applications...\n===> Compiling metrics\n==> manifold\nCompiling 4 files (.ex)\n\u001b[91mwarning: Supervisor.Spec.supervisor/3 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/manifold/partitioner.ex:15: Manifold.Partitioner.child_spec/2\n\n\u001b[0mGenerated manifold app\n===> Analyzing applications...\n===> Compiling unicode_util_compat\n===> Analyzing applications...\n===> Compiling idna\n===> Analyzing applications...\n===> Compiling ranch\nsrc/ranch_ssl.erl:142:7: Warning: ssl:ssl_accept/3 is removed; use ssl_handshake/1,2,3 instead\n\n==> gen_registry\nCompiling 4 files (.ex)\n\u001b[91mwarning: Supervisor.Spec.supervisor/3 is deprecated. Use the new child specifications outlined in the Supervisor module instead\n  lib/spec.ex:18: GenRegistry.Spec.child_spec/2\n\n\u001b[0mGenerated gen_registry app\n===> Analyzing applications...\n===> Compiling telemetry\n==> redix\nCompiling 12 files (.ex)\nGenerated redix app\n==> poison\nCompiling 4 files (.ex)\nGenerated poison app\n==> ssl_verify_fun\nCompiling 7 files (.erl)\nGenerated ssl_verify_fun app\n===> Fetching rebar3_hex v7.0.2\n===> Fetching hex_core v0.8.4\n===> Fetching verl v1.1.1\n===> Analyzing applications...\n===> Compiling verl\n===> Compiling hex_core\n===> Compiling rebar3_hex\n===> Analyzing applications...\n===> Compiling quantile_estimator\nsrc/quantile.erl:54:5: Warning: ambiguous call of overridden auto-imported BIF ceil/1\n - use erlang:ceil/1 or \"-compile({no_auto_import,[ceil/1]}).\" to resolve name clash\n\nsrc/quantile_estimator.erl:97:49: Warning: ambiguous call of overridden auto-imported BIF floor/1\n - use erlang:floor/1 or \"-compile({no_auto_import,[floor/1]}).\" to resolve name clash\n\n==> prometheus\nCompiling 30 files (.erl)\nGenerated prometheus app\n==> prometheus_ex\nCompiling 19 files (.ex)\n\u001b[91mwarning: :mnesia.system_info/1 defined in application :mnesia is used by the current application but the current application does not depend on :mnesia. To fix this, you must do one of:\n\n  1. If :mnesia is part of Erlang/Elixir, you must include it under :extra_applications inside \"def application\" in your mix.exs\n\n  2. If :mnesia is a dependency, make sure it is listed under \"def deps\" in your mix.exs\n\n  3. In case you don't want to add a requirement to :mnesia, you may optionally skip this warning by adding [xref: [exclude: [:mnesia]]] to your \"def project\" in mix.exs\n\n  lib/prometheus/contrib/mnesia.ex:22: Prometheus.Contrib.Mnesia.table_disk_size/2\n\n\u001b[0mGenerated prometheus_ex app\n===> Analyzing applications...\n===> Compiling certifi\n===> Analyzing applications...\n===> Compiling hackney\n==> httpoison\nCompiling 3 files (.ex)\nGenerated httpoison app\n===> Analyzing applications...\n===> Compiling cowlib\n===> Analyzing applications...\n===> Compiling cowboy\n===> Analyzing applications...\n===> Compiling cowboy_telemetry\n===> Fetching rebar3_archive_plugin v0.0.2\n===> Fetching rebar3_elvis_plugin (from {git,\"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                               \"master\"})\n===> Errors loading plugin {rebar3_elvis_plugin,\n                               {git,\n                                   \"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                                   \"master\"}}. Run rebar3 with DEBUG=1 set to see errors.\n===> Analyzing applications...\n===> Compiling rebar3_archive_plugin\n===> Fetching rebar3_elvis_plugin (from {git,\"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                               \"master\"})\n===> Errors loading plugin {rebar3_elvis_plugin,\n                               {git,\n                                   \"https://github.com/deadtrickster/rebar3_elvis_plugin.git\",\n                                   \"master\"}}. Run rebar3 with DEBUG=1 set to see errors.\n===> Analyzing applications...\n===> Compiling accept\n==> mime\nCompiling 2 files (.ex)\nGenerated mime app\n==> plug_crypto\nCompiling 5 files (.ex)\n\u001b[91mwarning: ^^^ is deprecated. It is typically used as xor but it has the wrong precedence, use Bitwise.bxor/2 instead\n  lib/plug/crypto.ex:126\n\nwarning: ^^^ is deprecated. It is typically used as xor but it has the wrong precedence, use Bitwise.bxor/2 instead\n  lib/plug/crypto.ex:126\n\n\u001b[0m\u001b[91mwarning: ^^^ is deprecated. It is typically used as xor but it has the wrong precedence, use Bitwise.bxor/2 instead\n  lib/plug/crypto.ex:145\n\n\u001b[0mGenerated plug_crypto app\n==> plug\nCompiling 1 file (.erl)\nCompiling 41 files (.ex)\n\u001b[91mwarning: System.stacktrace/0 is deprecated. Use __STACKTRACE__ instead\n  lib/plug/conn/wrapper_error.ex:23: Plug.Conn.WrapperError.reraise/3\n\n\u001b[0mGenerated plug app\n==> plug_cowboy\nCompiling 5 files (.ex)\nGenerated plug_cowboy app\n==> prometheus_plugs\nCompiling 3 files (.ex)\n\u001b[91mwarning: Plug.Builder.compile/3 defined in application :plug is used by the current application but the current application does not depend on :plug. To fix this, you must do one of:\n\n  1. If :plug is part of Erlang/Elixir, you must include it under :extra_applications inside \"def application\" in your mix.exs\n\n  2. If :plug is a dependency, make sure it is listed under \"def deps\" in your mix.exs\n\n  3. In case you don't want to add a requirement to :plug, you may optionally skip this warning by adding [xref: [exclude: [Plug.Builder]]] to your \"def project\" in mix.exs\n\n  lib/prometheus/plug_instrumenter.ex:227: Prometheus.PlugInstrumenter.__before_compile__/1\n\nwarning: Plug.Router.Utils.split/1 defined in application :plug is used by the current application but the current application does not depend on :plug. To fix this, you must do one of:\n\n  1. If :plug is part of Erlang/Elixir, you must include it under :extra_applications inside \"def application\" in your mix.exs\n\n  2. If :plug is a dependency, make sure it is listed under \"def deps\" in your mix.exs\n\n  3. In case you don't want to add a requirement to :plug, you may optionally skip this warning by adding [xref: [exclude: [Plug.Router.Utils]]] to your \"def project\" in mix.exs\n\n  lib/prometheus/plug_exporter.ex:73: Prometheus.PlugExporter.__using__/1\n\n\u001b[0mGenerated prometheus_plugs app\n==> corsica\nCompiling 2 files (.ex)\nGenerated corsica app\n==> lanyard\nCompiling 30 files (.ex)\n\u001b[91mwarning: variable \"p\" is unused (if the variable is not meant to be used, prefix it with an underscore)\n  lib/bot/commands/api_key.ex:5: Lanyard.DiscordBot.Commands.ApiKey.handle/2\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 29.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def payload_decode(...)\n\n  lib/gateway/utility.ex:42: Lanyard.Gateway.Utility.payload_decode/2\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 55.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def opcode(...)\n\n  lib/gateway/utility.ex:61: Lanyard.Gateway.Utility.opcode/2\n\n\u001b[0m\u001b[91mwarning: redefining @doc attribute previously set at line 126.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def websocket_info(...)\n\n  lib/gateway/client.ex:136: Lanyard.Gateway.Client.websocket_info/3\n\nwarning: redefining @doc attribute previously set at line 126.\n\nPlease remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:\n\n    @doc \"\"\"\n    new docs\n    \"\"\"\n    def websocket_info(...)\n\n  lib/gateway/client.ex:141: Lanyard.Gateway.Client.websocket_info/3\n\n\u001b[0m\u001b[91mwarning: clauses with the same name and arity (number of arguments) should be grouped together, \"def handle_info/2\" was previously defined (lib/presence/presence.ex:53)\n  lib/presence/presence.ex:105\n\n\u001b[0m\u001b[91mwarning: :crypto.rand_uniform/2 is deprecated. Use rand:uniform/1 instead\n  lib/bot/commands/api_key.ex:71: Lanyard.DiscordBot.Commands.ApiKey.generate_api_key/0\n\n\u001b[0mGenerated lanyard app\n* assembling lanyard-0.1.0 on MIX_ENV=prod\n* using config/runtime.exs to configure the release at runtime\n* skipping elixir.bat for windows (bin/elixir.bat not found in the Elixir installation)\n* skipping iex.bat for windows (bin/iex.bat not found in the Elixir installation)\n\nRelease created at _build/prod/rel/lanyard!\n\n    # To start your system\n    _build/prod/rel/lanyard/bin/lanyard start\n\nOnce the release is running:\n\n    # To connect to it remotely\n    _build/prod/rel/lanyard/bin/lanyard remote\n\n    # To stop it gracefully (you may also send SIGINT/SIGTERM)\n    _build/prod/rel/lanyard/bin/lanyard stop\n\nTo list all commands:\n\n    _build/prod/rel/lanyard/bin/lanyard\n\nRemoving intermediate container 7f3ee87a571e\n ---> ffa48877c170\nStep 8/11 : FROM elixir:1.12.3-alpine\n ---> b641d7a585d1\nStep 9/11 : RUN apk add --no-cache redis\n ---> Running in 905a73e7a0b9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing redis (7.0.5-r0)\nExecuting redis-7.0.5-r0.pre-install\nExecuting redis-7.0.5-r0.post-install\nExecuting busybox-1.35.0-r17.trigger\nOK: 13 MiB in 25 packages\nRemoving intermediate container 905a73e7a0b9\n ---> 5e8618ad4468\nStep 10/11 : COPY --from=build /app/_build/prod/rel/lanyard /opt/lanyard\n ---> a1ea62b87043\nStep 11/11 : CMD [ \"/opt/lanyard/bin/lanyard\", \"start\" ]\n ---> Running in ae2194395c7f\nRemoving intermediate container ae2194395c7f\n ---> e843e8ec2163\nSuccessfully built e843e8ec2163\nSuccessfully tagged lanyard:latest\n","stderr":"","imageSize":97444100}}