{"repository":"https://github.com/sdslabs/pinger","dockerfilePath":"Dockerfile","startTime":1672420711945,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sdslabs/pinger'...\n","error":null,"commit":"16180a81846092aec7896fc0c5be5cd255aa3e6e"},"originalBuild":{"startTimestamp":1672420713764,"endTimestamp":1672420756556,"error":null,"stdout":"Sending build context to Docker daemon  26.46MB\r\r\nStep 1/10 : FROM golang:1.16.0-alpine3.13 AS builder\n1.16.0-alpine3.13: Pulling from library/golang\nba3557a56b15: Already exists\n448433d692de: Pulling fs layer\n7c2a3d42746f: Pulling fs layer\nc94fa40b84cd: Pulling fs layer\nb8044137faa0: Pulling fs layer\nb8044137faa0: Waiting\n448433d692de: Download complete\n7c2a3d42746f: Verifying Checksum\n7c2a3d42746f: Download complete\n448433d692de: Pull complete\nb8044137faa0: Download complete\n7c2a3d42746f: Pull complete\nc94fa40b84cd: Download complete\nc94fa40b84cd: Pull complete\nb8044137faa0: Pull complete\nDigest: sha256:6c4d5e6ea7b6e3f28a2218424b011fcdfddcdd721f9693c9e2d2644c67a4b827\nStatus: Downloaded newer image for golang:1.16.0-alpine3.13\n ---> 696265badec1\nStep 2/10 : WORKDIR /go/src/github.com/sdslabs/pinger\n ---> Running in d08cc9e51e68\nRemoving intermediate container d08cc9e51e68\n ---> a89826897199\nStep 3/10 : COPY . .\n ---> 093c8e1ce645\nStep 4/10 : ARG vers\n ---> Running in 626275ed8904\nRemoving intermediate container 626275ed8904\n ---> ce310226b14d\nStep 5/10 : RUN apk update &&   apk add make &&   apk add bash\n ---> Running in bd8514a389da\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13908 distinct packages available\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.32.1-r3.trigger\nOK: 7 MiB in 16 packages\n(1/4) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/4) Installing ncurses-libs (6.2_p20210109-r1)\n(3/4) Installing readline (8.1.0-r0)\n(4/4) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\nExecuting busybox-1.32.1-r3.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container bd8514a389da\n ---> 255bee93370e\nStep 6/10 : RUN make build VERSION=$vers\n ---> Running in 83cd636ef886\nDEV= VERSION= ./build/build.sh\n\u001b[91m+ IMPORT_PATH=github.com/sdslabs/pinger\n+ TARGET_DIR=.\n+ BIN_NAME=pinger\n\u001b[0m\u001b[91m+ '[' -z ']'\n\u001b[0m\u001b[91m+ CURRENT_TAG=undefined\n\u001b[0m\u001b[91m+ LDFLAGS='-X '\\''github.com/sdslabs/pinger/cmd.version=undefined'\\'''\n\u001b[0m\u001b[91m+ '[' '' = on ']'\n\u001b[0m\u001b[91m+ test -d .\n\u001b[0m\u001b[91m+ go build -v -tags '' -ldflags '-X '\\''github.com/sdslabs/pinger/cmd.version=undefined'\\''' -o ./pinger github.com/sdslabs/pinger/cmd/pinger\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/set\n\u001b[0m\u001b[91mgolang.org/x/sys/internal/unsafeheader\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/http\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/serviceconfig\n\u001b[0m\u001b[91mgolang.org/x/xerrors/internal\ngolang.org/x/net/internal/iana\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/flags\n\u001b[0m\u001b[91mgithub.com/go-playground/locales/currency\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/pragma\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/strconv\ngoogle.golang.org/grpc/internal/grpcsync\ngolang.org/x/text/internal/tag\ngoogle.golang.org/grpc/internal/buffer\n\u001b[0m\u001b[91mgithub.com/jackc/chunkreader/v2\n\u001b[0m\u001b[91mgithub.com/wangjia184/sortedset\n\u001b[0m\u001b[91mgolang.org/x/crypto/pbkdf2\n\u001b[0m\u001b[91mgolang.org/x/text/transform\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/encoding\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin/internal/bytesconv\n\u001b[0m\u001b[91mgithub.com/jinzhu/inflection\n\u001b[0m\u001b[91mgithub.com/jackc/pgio\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/grpcrand\ngoogle.golang.org/grpc/keepalive\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/backoff\ngithub.com/go-playground/locales\ngoogle.golang.org/grpc/tap\n\u001b[0m\u001b[91mgithub.com/jackc/pgconn/internal/ctxwatch\n\u001b[0m\u001b[91mgithub.com/jinzhu/now\n\u001b[0m\u001b[91mgithub.com/jackc/puddle\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent/ui\ngithub.com/sdslabs/pinger/pkg/components/agent/ui/static\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/detrand\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/envconfig\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/controller\n\u001b[0m\u001b[91mgithub.com/leodido/go-urn\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/version\n\u001b[0m\u001b[91mgolang.org/x/sys/unix\n\u001b[0m\u001b[91mgolang.org/x/net/internal/timeseries\ngoogle.golang.org/grpc/internal/grpclog\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/attributes\n\u001b[0m\u001b[91mgopkg.in/yaml.v2\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/metadata\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/codes\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin/internal/json\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi\n\u001b[0m\u001b[91mgolang.org/x/net/http2/hpack\n\u001b[0m\u001b[91mgithub.com/jackc/pgpassfile\ngolang.org/x/text/unicode/bidi\n\u001b[0m\u001b[91mgithub.com/jackc/pgservicefile\n\u001b[0m\u001b[91mgolang.org/x/xerrors\n\u001b[0m\u001b[91mgithub.com/jackc/pgproto3/v2\n\u001b[0m\u001b[91mgorm.io/gorm/utils\n\u001b[0m\u001b[91mgorm.io/gorm/clause\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/backoff\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/token\ngithub.com/spf13/pflag\n\u001b[0m\u001b[91mgithub.com/gin-contrib/sse\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/errors\n\u001b[0m\u001b[91mgithub.com/magiconair/properties\n\u001b[0m\u001b[91mgithub.com/mitchellh/mapstructure\n\u001b[0m\u001b[91mgithub.com/ugorji/go/codec\n\u001b[0m\u001b[91mgithub.com/pelletier/go-toml\n\u001b[0m\u001b[91mgithub.com/spf13/afero/mem\n\u001b[0m\u001b[91mgithub.com/spf13/cast\n\u001b[0m\u001b[91mgithub.com/spf13/jwalterweatherman\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker\n\u001b[0m\u001b[91mgolang.org/x/text/runes\n\u001b[0m\u001b[91mgithub.com/subosito/gotenv\ngolang.org/x/text/unicode/norm\n\u001b[0m\u001b[91mgolang.org/x/text/width\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/balancerload\ngithub.com/go-playground/universal-translator\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/grpclog\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/stats\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/hash\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/list\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/set\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/str\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/zset\n\u001b[0m\u001b[91mgolang.org/x/net/trace\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/encoding/protowire\n\u001b[0m\u001b[91mgopkg.in/ini.v1\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/ast\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/scanner\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/json/token\n\u001b[0m\u001b[91mgorm.io/gorm/logger\n\u001b[0m\u001b[91mgithub.com/jackc/pgtype\n\u001b[0m\u001b[91mgolang.org/x/text/secure/bidirule\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4/internal/sanitize\n\u001b[0m\u001b[91mgopkg.in/mail.v2\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/dns\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/http\n\u001b[0m\u001b[91mgolang.org/x/net/bpf\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/tcp\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/json/scanner\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/udp\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/log\n\u001b[0m\u001b[91mgorm.io/gorm/schema\n\u001b[0m\u001b[91mgithub.com/gorilla/websocket\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api/query\n\u001b[0m\u001b[91mgithub.com/influxdata/line-protocol\n\u001b[0m\u001b[91mgithub.com/deepmap/oapi-codegen/pkg/types\n\u001b[0m\u001b[91mgithub.com/pkg/errors\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/gzip\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/connectivity\n\u001b[0m\u001b[91mgolang.org/x/net/publicsuffix\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/credentials\n\u001b[0m\u001b[91mgithub.com/go-playground/validator/v10\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/stdkiwi\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language/compact\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/reflect/protoreflect\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/parser\n\u001b[0m\u001b[91mgithub.com/spf13/afero\n\u001b[0m\u001b[91mgolang.org/x/net/idna\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/json/parser\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/log\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal\n\u001b[0m\u001b[91mgithub.com/spf13/cobra\n\u001b[0m\u001b[91mgithub.com/deepmap/oapi-codegen/pkg/runtime\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api/http\n\u001b[0m\u001b[91mgolang.org/x/text/language\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/printer\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/syscall\ngithub.com/mattn/go-isatty\n\u001b[0m\u001b[91mgithub.com/fsnotify/fsnotify\n\u001b[0m\u001b[91mgithub.com/sirupsen/logrus\n\u001b[0m\u001b[91mgolang.org/x/net/internal/socket\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/domain\n\u001b[0m\u001b[91mgolang.org/x/net/http/httpguts\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/ws\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/descopts\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/runtime/protoiface\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/reflect/protoregistry\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/mapsort\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/strs\ngoogle.golang.org/protobuf/internal/fieldsort\ngoogle.golang.org/protobuf/internal/descfmt\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/genid\n\u001b[0m\u001b[91mgorm.io/gorm\n\u001b[0m\u001b[91mgolang.org/x/net/http2\n\u001b[0m\u001b[91mgolang.org/x/text/internal\n\u001b[0m\u001b[91mgithub.com/spf13/viper\n\u001b[0m\u001b[91mgolang.org/x/net/ipv6\ngolang.org/x/net/ipv4\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/encoding/messageset\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/encoding/text\n\u001b[0m\u001b[91mgolang.org/x/text/cases\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/appcontext\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/proto\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter\ngithub.com/sdslabs/pinger/pkg/exporter\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter/discord\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter/mail\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter/slack\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/encoding/defval\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/log\n\u001b[0m\u001b[91mgolang.org/x/text/secure/precis\n\u001b[0m\u001b[91mgolang.org/x/net/icmp\n\u001b[0m\u001b[91mgorm.io/gorm/migrator\n\u001b[0m\u001b[91mgorm.io/gorm/callbacks\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/encoding/prototext\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/filedesc\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/icmp\n\u001b[0m\u001b[91mgithub.com/jackc/pgconn\n\u001b[0m\u001b[91mgithub.com/jackc/pgconn/stmtcache\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/encoding/tag\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/impl\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4/stdlib\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4/pgxpool\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/questdb\n\u001b[0m\u001b[91mgorm.io/driver/postgres\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/timescale\ngithub.com/sdslabs/pinger/pkg/database\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/filetype\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/runtime/protoimpl\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/types/known/timestamppb\ngoogle.golang.org/protobuf/types/known/anypb\ngoogle.golang.org/protobuf/types/known/durationpb\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/proto\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes/duration\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes/timestamp\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes/any\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/encoding/proto\ngithub.com/golang/protobuf/ptypes\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/credentials\n\u001b[0m\u001b[91mgoogle.golang.org/genproto/googleapis/rpc/status\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin/binding\ngoogle.golang.org/grpc/binarylog/grpc_binarylog_v1\ngithub.com/gin-gonic/gin/render\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/status\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/peer\ngoogle.golang.org/grpc/resolver\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/channelz\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/status\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer\ngoogle.golang.org/grpc/internal/transport/networktype\ngoogle.golang.org/grpc/internal/resolver/passthrough\ngoogle.golang.org/grpc/internal/grpcutil\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer/grpclb/state\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/resolver/unix\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/resolver/dns\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/binarylog\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/serviceconfig\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer/base\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/resolver\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer/roundrobin\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/transport\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/oauther\n\u001b[0m\u001b[91mgithub.com/gin-contrib/cors\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/httpserver\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/metrics\n\u001b[0m\u001b[91mgoogle.golang.org/grpc\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent/proto\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/config\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/config/configfile\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/cmd\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api/write\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/write\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/influxdb\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/plugins\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/cmd/pinger\n\u001b[0m\u001b[91m+ finally 'Built as '\\''./pinger'\\'''\n+ set +x\n\u001b[0m\n\u001b[1mBuilt as './pinger'\u001b[0m\n\nRemoving intermediate container 83cd636ef886\n ---> c52f21ad5946\nStep 7/10 : FROM alpine:3.12.0\n3.12.0: Pulling from library/alpine\ndf20fa9351a1: Pulling fs layer\ndf20fa9351a1: Verifying Checksum\ndf20fa9351a1: Download complete\ndf20fa9351a1: Pull complete\nDigest: sha256:185518070891758909c9f839cf4ca393ee977ac378609f700f60a771a2dfe321\nStatus: Downloaded newer image for alpine:3.12.0\n ---> a24bb4013296\nStep 8/10 : WORKDIR /go/bin\n ---> Running in 2b738dff895a\nRemoving intermediate container 2b738dff895a\n ---> 07a2e16f3847\nStep 9/10 : COPY --from=builder /go/src/github.com/sdslabs/pinger/pinger .\n ---> a37709388213\nStep 10/10 : CMD [ \"./pinger\", \"version\" ]\n ---> Running in 44218f0e2cfe\nRemoving intermediate container 44218f0e2cfe\n ---> 36c1486b922f\nSuccessfully built 36c1486b922f\nSuccessfully tagged pinger:latest\n","stderr":"","imageSize":33879815},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":11,"end":11,"columnStart":2,"columnEnd":14}},{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":2,"columnEnd":14}}],"repairedDockerfile":"# Build Pinger binary\n\nFROM golang:1.16.0-alpine3.13 AS builder\n\nWORKDIR /go/src/github.com/sdslabs/pinger\n\nCOPY . .\n\nARG vers\n\nRUN apk update && \\\n  apk add --no-cache make && \\\n  apk add --no-cache bash\nRUN make build VERSION=$vers\n\n# Copy binary into actual image\n\nFROM alpine:3.12.0\n\nWORKDIR /go/bin\n\nCOPY --from=builder /go/src/github.com/sdslabs/pinger/pinger .\n\nCMD [ \"./pinger\", \"version\" ]\n"},"repairedBuild":{"startTimestamp":1672420756835,"endTimestamp":1672420782076,"error":null,"stdout":"Sending build context to Docker daemon  26.46MB\r\r\nStep 1/10 : FROM golang:1.16.0-alpine3.13 AS builder\n ---> 696265badec1\nStep 2/10 : WORKDIR /go/src/github.com/sdslabs/pinger\n ---> Running in 9f1f40f6c689\nRemoving intermediate container 9f1f40f6c689\n ---> e7490d2e9412\nStep 3/10 : COPY . .\n ---> 1c9e026acd17\nStep 4/10 : ARG vers\n ---> Running in cd0f902893b7\nRemoving intermediate container cd0f902893b7\n ---> 383daaa7e9fa\nStep 5/10 : RUN apk update &&   apk add --no-cache make &&   apk add --no-cache bash\n ---> Running in 31db8e1a0f5c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13908 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.32.1-r3.trigger\nOK: 7 MiB in 16 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/4) Installing ncurses-libs (6.2_p20210109-r1)\n(3/4) Installing readline (8.1.0-r0)\n(4/4) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\nExecuting busybox-1.32.1-r3.trigger\nOK: 9 MiB in 20 packages\nRemoving intermediate container 31db8e1a0f5c\n ---> 474bf3c37554\nStep 6/10 : RUN make build VERSION=$vers\n ---> Running in 2db0d574f80d\nDEV= VERSION= ./build/build.sh\n\u001b[91m+ IMPORT_PATH=github.com/sdslabs/pinger\n+ TARGET_DIR=.\n+ BIN_NAME=pinger\n+ '[' -z ']'\n+ CURRENT_TAG=undefined\n\u001b[0m\u001b[91m+ LDFLAGS='-X '\\''github.com/sdslabs/pinger/cmd.version=undefined'\\'''\n\u001b[0m\u001b[91m+ '[' '' = \u001b[0m\u001b[91mon ']'\n\u001b[0m\u001b[91m+ test -d .\n\u001b[0m\u001b[91m+ go build -v -tags '' -ldflags '-X '\\''github.com/sdslabs/pinger/cmd.version=undefined'\\''' -o ./pinger github.com/sdslabs/pinger/cmd/pinger\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/serviceconfig\n\u001b[0m\u001b[91mgolang.org/x/xerrors/internal\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/flags\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/http\n\u001b[0m\u001b[91mgolang.org/x/net/internal/iana\n\u001b[0m\u001b[91mgolang.org/x/sys/internal/unsafeheader\n\u001b[0m\u001b[91mgithub.com/go-playground/locales/currency\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/set\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/strconv\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/buffer\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/pragma\ngolang.org/x/text/internal/tag\n\u001b[0m\u001b[91mgithub.com/jackc/chunkreader/v2\ngoogle.golang.org/grpc/internal/grpcsync\n\u001b[0m\u001b[91mgithub.com/wangjia184/sortedset\n\u001b[0m\u001b[91mgolang.org/x/crypto/pbkdf2\n\u001b[0m\u001b[91mgolang.org/x/text/transform\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin/internal/bytesconv\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/encoding\n\u001b[0m\u001b[91mgithub.com/jackc/pgio\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/backoff\ngoogle.golang.org/grpc/internal/grpcrand\ngithub.com/go-playground/locales\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/keepalive\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/tap\n\u001b[0m\u001b[91mgithub.com/jackc/pgconn/internal/ctxwatch\n\u001b[0m\u001b[91mgithub.com/jinzhu/inflection\ngithub.com/jinzhu/now\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent/ui\n\u001b[0m\u001b[91mgithub.com/jackc/puddle\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent/ui/static\n\u001b[0m\u001b[91mgolang.org/x/sys/unix\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/envconfig\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/detrand\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/controller\n\u001b[0m\u001b[91mgithub.com/jackc/pgpassfile\ngithub.com/gin-gonic/gin/internal/json\n\u001b[0m\u001b[91mgithub.com/leodido/go-urn\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/version\n\u001b[0m\u001b[91mgopkg.in/yaml.v2\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi\n\u001b[0m\u001b[91mgolang.org/x/net/internal/timeseries\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/grpclog\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/attributes\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/metadata\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/codes\n\u001b[0m\u001b[91mgolang.org/x/net/http2/hpack\n\u001b[0m\u001b[91mgithub.com/jackc/pgservicefile\n\u001b[0m\u001b[91mgolang.org/x/text/unicode/bidi\n\u001b[0m\u001b[91mgolang.org/x/xerrors\n\u001b[0m\u001b[91mgorm.io/gorm/clause\n\u001b[0m\u001b[91mgorm.io/gorm/utils\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language\n\u001b[0m\u001b[91mgithub.com/spf13/pflag\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/token\n\u001b[0m\u001b[91mgithub.com/mitchellh/mapstructure\ngithub.com/gin-contrib/sse\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/backoff\n\u001b[0m\u001b[91mgithub.com/jackc/pgproto3/v2\n\u001b[0m\u001b[91mgithub.com/go-playground/universal-translator\n\u001b[0m\u001b[91mgithub.com/ugorji/go/codec\n\u001b[0m\u001b[91mgithub.com/magiconair/properties\n\u001b[0m\u001b[91mgithub.com/pelletier/go-toml\n\u001b[0m\u001b[91mgithub.com/spf13/afero/mem\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/errors\n\u001b[0m\u001b[91mgithub.com/spf13/cast\n\u001b[0m\u001b[91mgithub.com/spf13/jwalterweatherman\n\u001b[0m\u001b[91mgolang.org/x/text/runes\n\u001b[0m\u001b[91mgolang.org/x/text/unicode/norm\n\u001b[0m\u001b[91mgolang.org/x/text/width\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker\n\u001b[0m\u001b[91mgithub.com/subosito/gotenv\n\u001b[0m\u001b[91mgopkg.in/ini.v1\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/grpclog\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/balancerload\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/stats\n\u001b[0m\u001b[91mgopkg.in/mail.v2\n\u001b[0m\u001b[91mgolang.org/x/net/bpf\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/ast\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/hash\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/list\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/set\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/str\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/values/zset\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4/internal/sanitize\n\u001b[0m\u001b[91mgithub.com/jackc/pgtype\n\u001b[0m\u001b[91mgolang.org/x/net/trace\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/encoding/protowire\n\u001b[0m\u001b[91mgorm.io/gorm/logger\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/scanner\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/json/token\n\u001b[0m\u001b[91mgolang.org/x/text/secure/bidirule\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/dns\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/http\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/tcp\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/udp\n\u001b[0m\u001b[91mgithub.com/gorilla/websocket\n\u001b[0m\u001b[91mgithub.com/go-playground/validator/v10\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/log\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api/query\n\u001b[0m\u001b[91mgolang.org/x/text/internal/language/compact\n\u001b[0m\u001b[91mgithub.com/influxdata/line-protocol\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/connectivity\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/credentials\n\u001b[0m\u001b[91mgithub.com/deepmap/oapi-codegen/pkg/types\n\u001b[0m\u001b[91mgithub.com/pkg/errors\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/gzip\n\u001b[0m\u001b[91mgolang.org/x/net/publicsuffix\n\u001b[0m\u001b[91mgithub.com/sdslabs/kiwi/stdkiwi\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/reflect/protoreflect\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/json/scanner\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/parser\n\u001b[0m\u001b[91mgithub.com/spf13/afero\n\u001b[0m\u001b[91mgithub.com/spf13/cobra\n\u001b[0m\u001b[91mgolang.org/x/net/idna\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/log\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal\n\u001b[0m\u001b[91mgorm.io/gorm/schema\n\u001b[0m\u001b[91mgolang.org/x/text/language\n\u001b[0m\u001b[91mgithub.com/deepmap/oapi-codegen/pkg/runtime\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/json/parser\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl/hcl/printer\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api/http\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/syscall\ngithub.com/mattn/go-isatty\ngithub.com/fsnotify/fsnotify\n\u001b[0m\u001b[91mgithub.com/sirupsen/logrus\n\u001b[0m\u001b[91mgolang.org/x/net/internal/socket\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/ws\n\u001b[0m\u001b[91mgithub.com/hashicorp/hcl\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/strs\ngoogle.golang.org/protobuf/internal/descfmt\ngoogle.golang.org/protobuf/internal/mapsort\ngoogle.golang.org/protobuf/runtime/protoiface\ngoogle.golang.org/protobuf/reflect/protoregistry\ngoogle.golang.org/protobuf/internal/fieldsort\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/descopts\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/genid\n\u001b[0m\u001b[91mgolang.org/x/net/http/httpguts\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/domain\n\u001b[0m\u001b[91mgolang.org/x/text/internal\n\u001b[0m\u001b[91mgolang.org/x/net/ipv4\ngolang.org/x/net/ipv6\ngoogle.golang.org/protobuf/internal/encoding/messageset\ngolang.org/x/net/http2\ngoogle.golang.org/protobuf/internal/encoding/text\n\u001b[0m\u001b[91mgolang.org/x/text/cases\n\u001b[0m\u001b[91mgorm.io/gorm\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/proto\n\u001b[0m\u001b[91mgithub.com/spf13/viper\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/appcontext\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/encoding/defval\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/log\n\u001b[0m\u001b[91mgolang.org/x/text/secure/precis\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter/discord\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter/slack\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/alerter/mail\n\u001b[0m\u001b[91mgolang.org/x/net/icmp\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/filedesc\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/encoding/prototext\n\u001b[0m\u001b[91mgithub.com/jackc/pgconn\n\u001b[0m\u001b[91mgorm.io/gorm/migrator\n\u001b[0m\u001b[91mgorm.io/gorm/callbacks\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/checker/icmp\n\u001b[0m\u001b[91mgithub.com/jackc/pgconn/stmtcache\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/encoding/tag\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/impl\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4/stdlib\n\u001b[0m\u001b[91mgithub.com/jackc/pgx/v4/pgxpool\n\u001b[0m\u001b[91mgorm.io/driver/postgres\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/questdb\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/timescale\ngithub.com/sdslabs/pinger/pkg/database\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/internal/filetype\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/runtime/protoimpl\n\u001b[0m\u001b[91mgoogle.golang.org/protobuf/types/known/durationpb\ngoogle.golang.org/protobuf/types/known/anypb\ngoogle.golang.org/protobuf/types/known/timestamppb\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/proto\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes/timestamp\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes/any\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes/duration\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/encoding/proto\n\u001b[0m\u001b[91mgoogle.golang.org/genproto/googleapis/rpc/status\n\u001b[0m\u001b[91mgithub.com/golang/protobuf/ptypes\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/credentials\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin/binding\ngoogle.golang.org/grpc/binarylog/grpc_binarylog_v1\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin/render\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/peer\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/resolver\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/channelz\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/status\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/transport/networktype\ngoogle.golang.org/grpc/internal/resolver/passthrough\ngoogle.golang.org/grpc/balancer/grpclb/state\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer\ngoogle.golang.org/grpc/internal/grpcutil\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/resolver/dns\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/resolver/unix\n\u001b[0m\u001b[91mgithub.com/gin-gonic/gin\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/status\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer/base\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/serviceconfig\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/binarylog\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/resolver\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/balancer/roundrobin\n\u001b[0m\u001b[91mgoogle.golang.org/grpc/internal/transport\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/oauther\ngithub.com/gin-contrib/cors\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/httpserver\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/util/metrics\n\u001b[0m\u001b[91mgoogle.golang.org/grpc\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent/proto\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/config\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/config/configfile\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/components/agent\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/cmd\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api/write\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/internal/write\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2/api\n\u001b[0m\u001b[91mgithub.com/influxdata/influxdb-client-go/v2\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/exporter/influxdb\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/pkg/plugins\n\u001b[0m\u001b[91mgithub.com/sdslabs/pinger/cmd/pinger\n\u001b[0m\n\u001b[1mBuilt as './pinger'\u001b[0m\n\n\u001b[91m+ finally 'Built as '\\''./pinger'\\'''\n+ set +x\n\u001b[0mRemoving intermediate container 2db0d574f80d\n ---> 638d7a617345\nStep 7/10 : FROM alpine:3.12.0\n ---> a24bb4013296\nStep 8/10 : WORKDIR /go/bin\n ---> Running in 0b208b484d00\nRemoving intermediate container 0b208b484d00\n ---> ab444045d996\nStep 9/10 : COPY --from=builder /go/src/github.com/sdslabs/pinger/pinger .\n ---> b08eb9d26ae6\nStep 10/10 : CMD [ \"./pinger\", \"version\" ]\n ---> Running in 7ea58ee2c9c7\nRemoving intermediate container 7ea58ee2c9c7\n ---> f43b48f35951\nSuccessfully built f43b48f35951\nSuccessfully tagged pinger:latest\n","stderr":"","imageSize":33879815},"endTime":1672420782395}