{"repository":"https://github.com/gohttpproxy/gohttpproxy","dockerfilePath":"Dockerfile","startTime":1672211907806,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gohttpproxy/gohttpproxy'...\n","error":null,"commit":"90bae073230e6c83dd0f0e376470da441519d512"},"originalBuild":{"startTimestamp":1672211908796,"endTimestamp":1672211958083,"error":null,"stdout":"Sending build context to Docker daemon  1.585MB\r\r\nStep 1/10 : FROM alpine as builder\n ---> 49176f190c7e\nStep 2/10 : RUN apk update ;         apk add git go;        export GOPATH=/opt/go;         mkdir -p /opt/gohttpproxy\n ---> Running in b5ae0d6fc791\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-303-g79ed0d63ee [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-302-g55f6d884d7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/19) Installing ca-certificates (20220614-r3)\n(2/19) Installing brotli-libs (1.0.9-r9)\n(3/19) Installing nghttp2-libs (1.51.0-r0)\n(4/19) Installing libcurl (7.87.0-r0)\n(5/19) Installing libexpat (2.5.0-r0)\n(6/19) Installing pcre2 (10.42-r0)\n(7/19) Installing git (2.38.2-r0)\n(8/19) Installing libgcc (12.2.1_git20220924-r4)\n(9/19) Installing libstdc++ (12.2.1_git20220924-r4)\n(10/19) Installing binutils (2.39-r2)\n(11/19) Installing libgomp (12.2.1_git20220924-r4)\n(12/19) Installing libatomic (12.2.1_git20220924-r4)\n(13/19) Installing gmp (6.2.1-r2)\n(14/19) Installing isl25 (0.25-r0)\n(15/19) Installing mpfr4 (4.1.0-r0)\n(16/19) Installing mpc1 (1.2.1-r1)\n(17/19) Installing gcc (12.2.1_git20220924-r4)\n(18/19) Installing musl-dev (1.2.3-r4)\n(19/19) Installing go (1.19.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 568 MiB in 34 packages\nRemoving intermediate container b5ae0d6fc791\n ---> b2f424117ab0\nStep 3/10 : COPY . /opt/gohttpproxy\n ---> 81ceb4b17e90\nStep 4/10 : RUN cd /opt/gohttpproxy &&  ls -al  && go mod download &&  go build .  && ls -al\n ---> Running in 6b61c0bdb5c2\ntotal 112\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:18 .\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:18 ..\ndrwxrwxr-x    8 root     root          4096 Dec 28 07:18 .git\n-rw-rw-r--    1 root     root            52 Dec 28 07:18 .gitignore\n-rw-rw-r--    1 root     root           709 Dec 28 07:18 .goreleaser.yaml\n-rw-rw-r--    1 root     root            83 Dec 28 07:18 .travis.yml\n-rw-rw-r--    1 root     root           613 Dec 28 07:18 Dockerfile\n-rw-rw-r--    1 root     root          1301 Dec 28 07:18 go.mod\n-rw-rw-r--    1 root     root         21452 Dec 28 07:18 go.sum\n-rw-rw-r--    1 root     root         34523 Dec 28 07:18 license.md\n-rw-rw-r--    1 root     root          2708 Dec 28 07:18 main.go\ndrwxrwxr-x   44 root     root          4096 Dec 28 07:18 martian\n-rw-rw-r--    1 root     root          1230 Dec 28 07:18 readme.md\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 signal\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 test_cases\ntotal 17700\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:19 .\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:18 ..\ndrwxrwxr-x    1 root     root          4096 Dec 28 07:18 .git\n-rw-rw-r--    1 root     root            52 Dec 28 07:18 .gitignore\n-rw-rw-r--    1 root     root           709 Dec 28 07:18 .goreleaser.yaml\n-rw-rw-r--    1 root     root            83 Dec 28 07:18 .travis.yml\n-rw-rw-r--    1 root     root           613 Dec 28 07:18 Dockerfile\n-rw-rw-r--    1 root     root          1301 Dec 28 07:18 go.mod\n-rw-rw-r--    1 root     root         21452 Dec 28 07:18 go.sum\n-rwxr-xr-x    1 root     root      17998475 Dec 28 07:19 gohttpproxy\n-rw-rw-r--    1 root     root         34523 Dec 28 07:18 license.md\n-rw-rw-r--    1 root     root          2708 Dec 28 07:18 main.go\ndrwxrwxr-x   44 root     root          4096 Dec 28 07:18 martian\n-rw-rw-r--    1 root     root          1230 Dec 28 07:18 readme.md\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 signal\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 test_cases\nRemoving intermediate container 6b61c0bdb5c2\n ---> e5c6fb99db6b\nStep 5/10 : RUN wget -O /usr/bin/dumb-init https://github.com/Yelp/dumb-init/releases/download/v1.2.5/dumb-init_1.2.5_x86_64  && chmod +x /usr/bin/dumb-init\n ---> Running in 824c2ec8b0b9\n\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.111.133:443)\n\u001b[0m\u001b[91msaving to '/usr/bin/dumb-init'\n\u001b[0m\u001b[91mdumb-init             25% |********                        | 15765  0:00:02 ETA\n\u001b[0m\u001b[91mdumb-init            100% |********************************| 63024  0:00:00 ETA\n'/usr/bin/dumb-init' saved\n\u001b[0mRemoving intermediate container 824c2ec8b0b9\n ---> 4c7bb2cf007d\nStep 6/10 : FROM alpine\n ---> 49176f190c7e\nStep 7/10 : COPY --from=builder /opt/gohttpproxy/gohttpproxy /usr/bin/gohttpproxy\n ---> 53526a236ec4\nStep 8/10 : COPY --from=builder /usr/bin/dumb-init /usr/bin/dumb-init\n ---> 67d99dc6ac41\nStep 9/10 : ENTRYPOINT [ \"/usr/bin/dumb-init\" , \"--\" ]\n ---> Running in a1b04425e6ce\nRemoving intermediate container a1b04425e6ce\n ---> 6c6213bf54c3\nStep 10/10 : CMD [\"gohttpproxy\", \"--addr\", \":8123\"]\n ---> Running in 6cf8ed78edb7\nRemoving intermediate container 6cf8ed78edb7\n ---> 6bbb84696c1f\nSuccessfully built 6bbb84696c1f\nSuccessfully tagged gohttpproxy:latest\n","stderr":"","imageSize":25111187},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":8,"columnEnd":23}}],"repairedDockerfile":"FROM alpine as builder\nRUN apk update ; \\\n        apk add --no-cache git go; \\\n        export GOPATH=/opt/go; \\\n        mkdir -p /opt/gohttpproxy\nCOPY . /opt/gohttpproxy\nRUN cd /opt/gohttpproxy &&  ls -al  && go mod download &&  go build .  && ls -al\n\nRUN wget -O /usr/bin/dumb-init https://github.com/Yelp/dumb-init/releases/download/v1.2.5/dumb-init_1.2.5_x86_64 \\\n && chmod +x /usr/bin/dumb-init\n\nFROM alpine\nCOPY --from=builder /opt/gohttpproxy/gohttpproxy /usr/bin/gohttpproxy\nCOPY --from=builder /usr/bin/dumb-init /usr/bin/dumb-init\n\nENTRYPOINT [ \"/usr/bin/dumb-init\" , \"--\" ]\n\nCMD [\"gohttpproxy\", \"--addr\", \":8123\"]"},"repairedBuild":{"startTimestamp":1672211958380,"endTimestamp":1672212007259,"error":null,"stdout":"Sending build context to Docker daemon  1.585MB\r\r\nStep 1/10 : FROM alpine as builder\n ---> 49176f190c7e\nStep 2/10 : RUN apk update ;         apk add --no-cache git go;         export GOPATH=/opt/go;         mkdir -p /opt/gohttpproxy\n ---> Running in d778fed40dd8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-303-g79ed0d63ee [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-302-g55f6d884d7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ca-certificates (20220614-r3)\n(2/19) Installing brotli-libs (1.0.9-r9)\n(3/19) Installing nghttp2-libs (1.51.0-r0)\n(4/19) Installing libcurl (7.87.0-r0)\n(5/19) Installing libexpat (2.5.0-r0)\n(6/19) Installing pcre2 (10.42-r0)\n(7/19) Installing git (2.38.2-r0)\n(8/19) Installing libgcc (12.2.1_git20220924-r4)\n(9/19) Installing libstdc++ (12.2.1_git20220924-r4)\n(10/19) Installing binutils (2.39-r2)\n(11/19) Installing libgomp (12.2.1_git20220924-r4)\n(12/19) Installing libatomic (12.2.1_git20220924-r4)\n(13/19) Installing gmp (6.2.1-r2)\n(14/19) Installing isl25 (0.25-r0)\n(15/19) Installing mpfr4 (4.1.0-r0)\n(16/19) Installing mpc1 (1.2.1-r1)\n(17/19) Installing gcc (12.2.1_git20220924-r4)\n(18/19) Installing musl-dev (1.2.3-r4)\n(19/19) Installing go (1.19.4-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 568 MiB in 34 packages\nRemoving intermediate container d778fed40dd8\n ---> 51a18c64601b\nStep 3/10 : COPY . /opt/gohttpproxy\n ---> b127c76b0f51\nStep 4/10 : RUN cd /opt/gohttpproxy &&  ls -al  && go mod download &&  go build .  && ls -al\n ---> Running in 20e1c4cce586\ntotal 112\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:19 .\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:19 ..\ndrwxrwxr-x    8 root     root          4096 Dec 28 07:18 .git\n-rw-rw-r--    1 root     root            52 Dec 28 07:18 .gitignore\n-rw-rw-r--    1 root     root           709 Dec 28 07:18 .goreleaser.yaml\n-rw-rw-r--    1 root     root            83 Dec 28 07:18 .travis.yml\n-rw-rw-r--    1 root     root           623 Dec 28 07:19 Dockerfile\n-rw-rw-r--    1 root     root          1301 Dec 28 07:18 go.mod\n-rw-rw-r--    1 root     root         21452 Dec 28 07:18 go.sum\n-rw-rw-r--    1 root     root         34523 Dec 28 07:18 license.md\n-rw-rw-r--    1 root     root          2708 Dec 28 07:18 main.go\ndrwxrwxr-x   44 root     root          4096 Dec 28 07:18 martian\n-rw-rw-r--    1 root     root          1230 Dec 28 07:18 readme.md\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 signal\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 test_cases\ntotal 17700\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:19 .\ndrwxr-xr-x    1 root     root          4096 Dec 28 07:19 ..\ndrwxrwxr-x    1 root     root          4096 Dec 28 07:19 .git\n-rw-rw-r--    1 root     root            52 Dec 28 07:18 .gitignore\n-rw-rw-r--    1 root     root           709 Dec 28 07:18 .goreleaser.yaml\n-rw-rw-r--    1 root     root            83 Dec 28 07:18 .travis.yml\n-rw-rw-r--    1 root     root           623 Dec 28 07:19 Dockerfile\n-rw-rw-r--    1 root     root          1301 Dec 28 07:18 go.mod\n-rw-rw-r--    1 root     root         21452 Dec 28 07:18 go.sum\n-rwxr-xr-x    1 root     root      17998475 Dec 28 07:19 gohttpproxy\n-rw-rw-r--    1 root     root         34523 Dec 28 07:18 license.md\n-rw-rw-r--    1 root     root          2708 Dec 28 07:18 main.go\ndrwxrwxr-x   44 root     root          4096 Dec 28 07:18 martian\n-rw-rw-r--    1 root     root          1230 Dec 28 07:18 readme.md\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 signal\ndrwxrwxr-x    2 root     root          4096 Dec 28 07:18 test_cases\nRemoving intermediate container 20e1c4cce586\n ---> 7f7ad9b08d98\nStep 5/10 : RUN wget -O /usr/bin/dumb-init https://github.com/Yelp/dumb-init/releases/download/v1.2.5/dumb-init_1.2.5_x86_64  && chmod +x /usr/bin/dumb-init\n ---> Running in ab9993ac91b1\n\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.111.133:443)\n\u001b[0m\u001b[91msaving to '/usr/bin/dumb-init'\n\u001b[0m\u001b[91mdumb-init            100% |********************************| 63024  0:00:00 ETA\n'/usr/bin/dumb-init' saved\n\u001b[0mRemoving intermediate container ab9993ac91b1\n ---> 693557f86161\nStep 6/10 : FROM alpine\n ---> 49176f190c7e\nStep 7/10 : COPY --from=builder /opt/gohttpproxy/gohttpproxy /usr/bin/gohttpproxy\n ---> 97d0fe500301\nStep 8/10 : COPY --from=builder /usr/bin/dumb-init /usr/bin/dumb-init\n ---> 19e34cbd8d0d\nStep 9/10 : ENTRYPOINT [ \"/usr/bin/dumb-init\" , \"--\" ]\n ---> Running in 708dc6a20140\nRemoving intermediate container 708dc6a20140\n ---> 762d597a76c7\nStep 10/10 : CMD [\"gohttpproxy\", \"--addr\", \":8123\"]\n ---> Running in 082118c12e0a\nRemoving intermediate container 082118c12e0a\n ---> 239c64cafe29\nSuccessfully built 239c64cafe29\nSuccessfully tagged gohttpproxy:latest\n","stderr":"","imageSize":25111187},"endTime":1672212007501}