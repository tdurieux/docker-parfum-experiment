{"repository":"https://github.com/opuscapita/fsm-workflow","dockerfilePath":"Dockerfile","startTime":1672766408349,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/opuscapita/fsm-workflow'...\n","error":null,"commit":"49e689ff2bc7da9356be137aae5e4df0f3d1e594"},"originalBuild":{"startTimestamp":1672766410604,"endTimestamp":1672766584831,"error":null,"stdout":"Sending build context to Docker daemon  2.697MB\r\r\nStep 1/10 : FROM node:8-alpine\n8-alpine: Pulling from library/node\ne6b0cf9c0882: Pulling fs layer\n93f9cf0467ca: Pulling fs layer\na564402f98da: Pulling fs layer\nb68680f1d28f: Pulling fs layer\nb68680f1d28f: Waiting\ne6b0cf9c0882: Verifying Checksum\ne6b0cf9c0882: Download complete\na564402f98da: Verifying Checksum\na564402f98da: Download complete\n93f9cf0467ca: Verifying Checksum\n93f9cf0467ca: Download complete\ne6b0cf9c0882: Pull complete\nb68680f1d28f: Verifying Checksum\nb68680f1d28f: Download complete\n93f9cf0467ca: Pull complete\na564402f98da: Pull complete\nb68680f1d28f: Pull complete\nDigest: sha256:38f7bf07ffd72ac612ec8c829cb20ad416518dbb679768d7733c93175453f4d4\nStatus: Downloaded newer image for node:8-alpine\n ---> 2b8fcdc6230a\nStep 2/10 : LABEL maintainer=\"OpusCapita\"\n ---> Running in e9c04565139e\nRemoving intermediate container e9c04565139e\n ---> ad4816054df5\nStep 3/10 : ENV HOST 0.0.0.0\n ---> Running in 0127c19d5c16\nRemoving intermediate container 0127c19d5c16\n ---> 7ed29e6e12f8\nStep 4/10 : ENV PORT 3020\n ---> Running in a94f8a56dcc3\nRemoving intermediate container a94f8a56dcc3\n ---> 2f166a8549d9\nStep 5/10 : COPY ./ /demo\n ---> bc529571ba14\nStep 6/10 : WORKDIR /demo\n ---> Running in b46fe3fdc134\nRemoving intermediate container b46fe3fdc134\n ---> 141635b9a8fe\nStep 7/10 : RUN npm i --unsafe-perm &&   cd ./packages/examples/complete-demo &&   npm run demo:build\n ---> Running in 1851f5fd69f8\n\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> command-join@2.0.1 postinstall /demo/node_modules/command-join\n> npx -p @seangenabe/tnx tnx || exit 0\n\n\u001b[91mnpx: installed 1 in 3.369s\n\u001b[0m\n    Thanks for installing command-join!\n\n    If you like this package, be sure to star its repo,\n    and please consider donating:\n\n        https://seangenabe.netlify.com/donate\n\n\n> @opuscapita/fsm-workflow@ postinstall /demo\n> npm run bootstrap\n\n\n> @opuscapita/fsm-workflow@ bootstrap /demo\n> lerna bootstrap\n\n\u001b[91mlerna\u001b[0m\u001b[91m info version\u001b[0m\u001b[91m 2.8.0\n\u001b[0m\u001b[91mlerna info Bootstrapping 8 packages\n\u001b[0m\u001b[91mlerna info lifecycle preinstall\n\u001b[0m\u001b[91mlerna info Installing external dependencies\n\u001b[0m\u001b[91mlerna info Symlinking packages and binaries\n\u001b[0m\u001b[91mlerna info lifecycle\u001b[0m\u001b[91m postinstall\n\u001b[0m\u001b[91mlerna \u001b[0m\u001b[91minfo \u001b[0m\u001b[91mlifecycle\u001b[0m\u001b[91m prepublish\n\u001b[0m\u001b[91mlerna \u001b[0m\u001b[91minfo \u001b[0m\u001b[91mlifecycle prepare\n\u001b[0m\u001b[91mlerna success\u001b[0m\u001b[91m Bootstrapped 8 packages\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0madded 330 packages from 178 contributors and audited 332 packages in 57.669s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 17 vulnerabilities (6 moderate, 8 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> @opuscapita/fsm-workflow-demo@3.0.2 demo:build /demo/packages/examples/complete-demo\n> rimraf build && cross-env NODE_ENV=production webpack --config config/webpack.config.js && rimraf src/compiled-server && babel src/server -s -D -d src/compiled-server\n\nHash: 321f1471844dd738eab0\nVersion: webpack 3.4.1\nTime: 45789ms\n                                Asset     Size  Chunks                    Chunk Names\n c0d3c94cd6112550c51d7d1ed13b9da1.eot  2.09 kB          [emitted]         \n651771e1df95c807c99608188d0a4287.woff  1.98 kB          [emitted]         \n 0b4ac1dc75df35e169b70d7719afe4cc.ttf  1.91 kB          [emitted]         \n                            bundle.js  4.28 MB       0  [emitted]  [big]  main\n [132] ./src/client/constants.js 207 bytes {0} [built]\n [453] /demo/packages/editor/lib/index.js 379 kB {0} [built]\n [671] ./src/client/index.js 704 bytes {0} [built]\n [794] ./node_modules/moment/locale ^\\.\\/.*$ 2.63 kB {0} [optional] [built]\n [802] ./src/client/uiGlobalComponents/index.js 160 bytes {0} [built]\n [803] ./src/client/uiGlobalComponents/uiMessageNotifications/index.js 333 bytes {0} [built]\n [804] ./src/client/uiGlobalComponents/uiMessageNotifications/Notifications.js 2.82 kB {0} [built]\n [831] ./src/client/uiGlobalComponents/uiMessageNotifications/styles.css 1.11 kB {0} [built]\n [832] ./node_modules/css-loader!./src/client/uiGlobalComponents/uiMessageNotifications/styles.css 625 bytes {0} [built]\n [941] ./src/common.js 181 bytes {0} [built]\n[1185] (webpack)/buildin/amd-define.js 88 bytes {0} [built]\n[1186] (webpack)/buildin/amd-options.js 82 bytes {0} [built]\n[1378] /demo/packages/editor/node_modules/moment/locale ^\\.\\/.*$ 2.79 kB {0} [optional] [built]\n[1409] ./src/client/customComponentsRegistry/index.js 330 bytes {0} [built]\n[1410] ./src/client/customComponentsRegistry/FullName.react.js 7.07 kB {0} [built]\n    + 1407 hidden modules\nsrc/server/data/actions/index.js -> src/compiled-server/data/actions/index.js\nsrc/server/data/actions/sendMail.js -> src/compiled-server/data/actions/sendMail.js\nsrc/server/data/actions/testAction.js -> src/compiled-server/data/actions/testAction.js\nsrc/server/data/actions/updateProcessedBy.js -> src/compiled-server/data/actions/updateProcessedBy.js\nsrc/server/data/conditions/index.js -> src/compiled-server/data/conditions/index.js\nsrc/server/data/conditions/userHasRoles.js -> src/compiled-server/data/conditions/userHasRoles.js\nsrc/server/fsm/fsm.js -> src/compiled-server/fsm/fsm.js\nsrc/server/fsm/index.js -> src/compiled-server/fsm/index.js\nsrc/server/index.js -> src/compiled-server/index.js\nsrc/server/objectConfig/index.js -> src/compiled-server/objectConfig/index.js\nsrc/server/objectConfig/objectConfig.js -> src/compiled-server/objectConfig/objectConfig.js\nsrc/server/routes/availableTransitions.js -> src/compiled-server/routes/availableTransitions.js\nsrc/server/routes/editorData.js -> src/compiled-server/routes/editorData.js\nsrc/server/routes/history.js -> src/compiled-server/routes/history.js\nsrc/server/routes/objects.js -> src/compiled-server/routes/objects.js\nsrc/server/routes/sendEvent.js -> src/compiled-server/routes/sendEvent.js\nsrc/server/routes/states.js -> src/compiled-server/routes/states.js\nsrc/server/schema/index.js -> src/compiled-server/schema/index.js\nsrc/server/schema/schema.js -> src/compiled-server/schema/schema.js\nsrc/server/storage/index.js -> src/compiled-server/storage/index.js\nsrc/server/storage/storage.js -> src/compiled-server/storage/storage.js\nsrc/server/utils.js -> src/compiled-server/utils.js\nsrc/server/utils.spec.js -> src/compiled-server/utils.spec.js\nRemoving intermediate container 1851f5fd69f8\n ---> c30a3bcfd928\nStep 8/10 : WORKDIR /demo/packages/examples/complete-demo\n ---> Running in c1a16600fa68\nRemoving intermediate container c1a16600fa68\n ---> 42b4a927ad98\nStep 9/10 : CMD [\"npm\", \"run\", \"demo:start\"]\n ---> Running in 288b77372974\nRemoving intermediate container 288b77372974\n ---> de9365697543\nStep 10/10 : EXPOSE $PORT\n ---> Running in 1f28ac69696e\nRemoving intermediate container 1f28ac69696e\n ---> 21746dc32a16\nSuccessfully built 21746dc32a16\nSuccessfully tagged fsm-workflow:latest\n","stderr":"","imageSize":859396995},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":23}}],"repairedDockerfile":"# Docker context should be \"<repo-root>\"\n\nFROM node:8-alpine\nLABEL maintainer=\"OpusCapita\"\n\nENV HOST 0.0.0.0\nENV PORT 3020\n\nCOPY ./ /demo\n\nWORKDIR /demo\n\nRUN npm i --unsafe-perm && \\\n  cd ./packages/examples/complete-demo && \\\n  npm run demo:build\n\nWORKDIR /demo/packages/examples/complete-demo\n\nCMD [\"npm\", \"run\", \"demo:start\"]\n\nEXPOSE $PORT"},"repairedBuild":{"startTimestamp":1672766587250,"endTimestamp":1672766742167,"error":null,"stdout":"Sending build context to Docker daemon  2.697MB\r\r\nStep 1/10 : FROM node:8-alpine\n ---> 2b8fcdc6230a\nStep 2/10 : LABEL maintainer=\"OpusCapita\"\n ---> Running in 09e6e9f1238f\nRemoving intermediate container 09e6e9f1238f\n ---> 8acedcefc371\nStep 3/10 : ENV HOST 0.0.0.0\n ---> Running in e41f1f4337fc\nRemoving intermediate container e41f1f4337fc\n ---> 604be4329528\nStep 4/10 : ENV PORT 3020\n ---> Running in 11c206ebfe5f\nRemoving intermediate container 11c206ebfe5f\n ---> f428c291672a\nStep 5/10 : COPY ./ /demo\n ---> 90710f88bfb0\nStep 6/10 : WORKDIR /demo\n ---> Running in 93f526e006e3\nRemoving intermediate container 93f526e006e3\n ---> 750bb2f45ca9\nStep 7/10 : RUN npm i --unsafe-perm &&   cd ./packages/examples/complete-demo &&   npm run demo:build\n ---> Running in fb81074a5129\n\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> command-join@2.0.1 postinstall /demo/node_modules/command-join\n> npx -p @seangenabe/tnx tnx || exit 0\n\n\u001b[91mnpx: installed 1 in 0.879s\n\u001b[0m\n    Thanks for installing command-join!\n\n    If you like this package, be sure to star its repo,\n    and please consider donating:\n\n        https://seangenabe.netlify.com/donate\n\n\n> @opuscapita/fsm-workflow@ postinstall /demo\n> npm run bootstrap\n\n\n> @opuscapita/fsm-workflow@ bootstrap /demo\n> lerna bootstrap\n\n\u001b[91mlerna\u001b[0m\u001b[91m info version\u001b[0m\u001b[91m 2.8.0\n\u001b[0m\u001b[91mlerna info Bootstrapping 8 packages\n\u001b[0m\u001b[91mlerna info lifecycle preinstall\n\u001b[0m\u001b[91mlerna info Installing external dependencies\n\u001b[0m\u001b[91mlerna info Symlinking packages and binaries\n\u001b[0m\u001b[91mlerna info lifecycle postinstall\n\u001b[0m\u001b[91mlerna info lifecycle\u001b[0m\u001b[91m prepublish\n\u001b[0m\u001b[91mlerna info lifecycle\u001b[0m\u001b[91m prepare\n\u001b[0m\u001b[91mlerna success\u001b[0m\u001b[91m Bootstrapped 8 packages\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0madded 330 packages from 178 contributors and audited 332 packages in 50.4s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 17 vulnerabilities (6 moderate, 8 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> @opuscapita/fsm-workflow-demo@3.0.2 demo:build /demo/packages/examples/complete-demo\n> rimraf build && cross-env NODE_ENV=production webpack --config config/webpack.config.js && rimraf src/compiled-server && babel src/server -s -D -d src/compiled-server\n\nHash: 321f1471844dd738eab0\nVersion: webpack 3.4.1\nTime: 43800ms\n                                Asset     Size  Chunks                    Chunk Names\n c0d3c94cd6112550c51d7d1ed13b9da1.eot  2.09 kB          [emitted]         \n651771e1df95c807c99608188d0a4287.woff  1.98 kB          [emitted]         \n 0b4ac1dc75df35e169b70d7719afe4cc.ttf  1.91 kB          [emitted]         \n                            bundle.js  4.28 MB       0  [emitted]  [big]  main\n [132] ./src/client/constants.js 207 bytes {0} [built]\n [453] /demo/packages/editor/lib/index.js 379 kB {0} [built]\n [671] ./src/client/index.js 704 bytes {0} [built]\n [794] ./node_modules/moment/locale ^\\.\\/.*$ 2.63 kB {0} [optional] [built]\n [802] ./src/client/uiGlobalComponents/index.js 160 bytes {0} [built]\n [803] ./src/client/uiGlobalComponents/uiMessageNotifications/index.js 333 bytes {0} [built]\n [804] ./src/client/uiGlobalComponents/uiMessageNotifications/Notifications.js 2.82 kB {0} [built]\n [831] ./src/client/uiGlobalComponents/uiMessageNotifications/styles.css 1.11 kB {0} [built]\n [832] ./node_modules/css-loader!./src/client/uiGlobalComponents/uiMessageNotifications/styles.css 625 bytes {0} [built]\n [941] ./src/common.js 181 bytes {0} [built]\n[1185] (webpack)/buildin/amd-define.js 88 bytes {0} [built]\n[1186] (webpack)/buildin/amd-options.js 82 bytes {0} [built]\n[1378] /demo/packages/editor/node_modules/moment/locale ^\\.\\/.*$ 2.79 kB {0} [optional] [built]\n[1409] ./src/client/customComponentsRegistry/index.js 330 bytes {0} [built]\n[1410] ./src/client/customComponentsRegistry/FullName.react.js 7.07 kB {0} [built]\n    + 1407 hidden modules\nsrc/server/data/actions/index.js -> src/compiled-server/data/actions/index.js\nsrc/server/data/actions/sendMail.js -> src/compiled-server/data/actions/sendMail.js\nsrc/server/data/actions/testAction.js -> src/compiled-server/data/actions/testAction.js\nsrc/server/data/actions/updateProcessedBy.js -> src/compiled-server/data/actions/updateProcessedBy.js\nsrc/server/data/conditions/index.js -> src/compiled-server/data/conditions/index.js\nsrc/server/data/conditions/userHasRoles.js -> src/compiled-server/data/conditions/userHasRoles.js\nsrc/server/fsm/fsm.js -> src/compiled-server/fsm/fsm.js\nsrc/server/fsm/index.js -> src/compiled-server/fsm/index.js\nsrc/server/index.js -> src/compiled-server/index.js\nsrc/server/objectConfig/index.js -> src/compiled-server/objectConfig/index.js\nsrc/server/objectConfig/objectConfig.js -> src/compiled-server/objectConfig/objectConfig.js\nsrc/server/routes/availableTransitions.js -> src/compiled-server/routes/availableTransitions.js\nsrc/server/routes/editorData.js -> src/compiled-server/routes/editorData.js\nsrc/server/routes/history.js -> src/compiled-server/routes/history.js\nsrc/server/routes/objects.js -> src/compiled-server/routes/objects.js\nsrc/server/routes/sendEvent.js -> src/compiled-server/routes/sendEvent.js\nsrc/server/routes/states.js -> src/compiled-server/routes/states.js\nsrc/server/schema/index.js -> src/compiled-server/schema/index.js\nsrc/server/schema/schema.js -> src/compiled-server/schema/schema.js\nsrc/server/storage/index.js -> src/compiled-server/storage/index.js\nsrc/server/storage/storage.js -> src/compiled-server/storage/storage.js\nsrc/server/utils.js -> src/compiled-server/utils.js\nsrc/server/utils.spec.js -> src/compiled-server/utils.spec.js\nRemoving intermediate container fb81074a5129\n ---> cae0a9e32e48\nStep 8/10 : WORKDIR /demo/packages/examples/complete-demo\n ---> Running in a78c7546274c\nRemoving intermediate container a78c7546274c\n ---> dd2913d49634\nStep 9/10 : CMD [\"npm\", \"run\", \"demo:start\"]\n ---> Running in 0e89d1fa47e4\nRemoving intermediate container 0e89d1fa47e4\n ---> 66b67c116830\nStep 10/10 : EXPOSE $PORT\n ---> Running in e9bb1cbe0611\nRemoving intermediate container e9bb1cbe0611\n ---> 330d3d12eebb\nSuccessfully built 330d3d12eebb\nSuccessfully tagged fsm-workflow:latest\n","stderr":"","imageSize":859491223},"endTime":1672766744699}