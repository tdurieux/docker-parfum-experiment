{"repository":"https://github.com/sdetautomation/flask-api","dockerfilePath":"Dockerfile","startTime":1672559053069,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sdetautomation/flask-api'...\n","error":null,"commit":"7b31ab45550f108575f7f2c6adfbe38838e34b7e"},"originalBuild":{"startTimestamp":1672559053927,"endTimestamp":1672559194124,"error":null,"stdout":"Sending build context to Docker daemon  289.8kB\r\r\nStep 1/8 : FROM python:3.7-alpine\n ---> 23de60bcccb1\nStep 2/8 : EXPOSE 5000\n ---> Running in 5e6856cfba10\nRemoving intermediate container 5e6856cfba10\n ---> ab483e6c4e68\nStep 3/8 : ENTRYPOINT [\"gunicorn\"]\n ---> Running in bd103164814b\nRemoving intermediate container bd103164814b\n ---> d6a337d9661f\nStep 4/8 : CMD [\"--workers=4\", \"--bind=0.0.0.0:5000\", \"app:my_app\"]\n ---> Running in 49362fa29daa\nRemoving intermediate container 49362fa29daa\n ---> a08fc99c26be\nStep 5/8 : RUN mkdir /flask_api &&     apk upgrade --update &&     apk add --no-cache postgresql-dev gcc python3-dev musl-dev &&     pip install pipenv\n ---> Running in 618e6e273b1e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading sqlite-libs (3.40.0-r0 -> 3.40.1-r0)\n(2/3) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(3/3) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 16 MiB in 37 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing libgcc (12.2.1_git20220924-r4)\n(2/36) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/36) Installing binutils (2.39-r2)\n(4/36) Installing libgomp (12.2.1_git20220924-r4)\n(5/36) Installing libatomic (12.2.1_git20220924-r4)\n(6/36) Installing gmp (6.2.1-r2)\n(7/36) Installing isl25 (0.25-r0)\n(8/36) Installing mpfr4 (4.1.0-r0)\n(9/36) Installing mpc1 (1.2.1-r1)\n(10/36) Installing gcc (12.2.1_git20220924-r4)\n(11/36) Installing musl-dev (1.2.3-r4)\n(12/36) Installing libpq (15.1-r0)\n(13/36) Installing pkgconf (1.9.3-r0)\n(14/36) Installing openssl-dev (3.0.7-r0)\n(15/36) Installing libpq-dev (15.1-r0)\n(16/36) Installing libecpg (15.1-r0)\n(17/36) Installing libecpg-dev (15.1-r0)\n(18/36) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(19/36) Installing libxml2 (2.10.3-r1)\n(20/36) Installing llvm14-libs (14.0.6-r7)\n(21/36) Installing clang14-libs (14.0.6-r1)\n(22/36) Installing clang14-libclang (14.0.6-r1)\n(23/36) Installing clang14 (14.0.6-r1)\n(24/36) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(25/36) Installing icu-libs (72.1-r1)\n(26/36) Installing icu (72.1-r1)\n(27/36) Installing icu-dev (72.1-r1)\n(28/36) Installing llvm14 (14.0.6-r7)\n(29/36) Installing lz4-libs (1.9.4-r1)\n(30/36) Installing lz4-dev (1.9.4-r1)\n(31/36) Installing zstd-libs (1.5.2-r9)\n(32/36) Installing zstd-dev (1.5.2-r9)\n(33/36) Installing postgresql15-dev (15.1-r0)\n(34/36) Installing mpdecimal (2.5.1-r1)\n(35/36) Installing python3 (3.10.9-r1)\n(36/36) Installing python3-dev (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 645 MiB in 73 packages\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 26.5 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 1.8 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 29.8 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.7/site-packages (from pipenv) (57.5.0)\nCollecting importlib-metadata>=4.8.3\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 2.2 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nInstalling collected packages: distlib, zipp, virtualenv-clone, typing-extensions, filelock, certifi, platformdirs, importlib-metadata, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 importlib-metadata-5.2.0 pipenv-2022.12.19 platformdirs-2.6.2 typing-extensions-4.4.0 virtualenv-20.17.1 virtualenv-clone-0.5.7 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 618e6e273b1e\n ---> 9314d033370a\nStep 6/8 : COPY . /flask_api\n ---> d0bd46431f07\nStep 7/8 : WORKDIR /flask_api\n ---> Running in 17d9bd3a6dff\nRemoving intermediate container 17d9bd3a6dff\n ---> 327cdf3bd35f\nStep 8/8 : RUN pipenv install --system --deploy\n ---> Running in d6664976e73d\nInstalling dependencies from Pipfile.lock (8fdd52)...\nRemoving intermediate container d6664976e73d\n ---> b55701429649\nSuccessfully built b55701429649\nSuccessfully tagged flask-api:latest\n","stderr":"","imageSize":829193605},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":11,"end":11,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM python:3.7-alpine\n\nEXPOSE 5000\n\nENTRYPOINT [\"gunicorn\"]\n\nCMD [\"--workers=4\", \"--bind=0.0.0.0:5000\", \"app:my_app\"]\n\nRUN mkdir /flask_api && \\\n    apk upgrade --update && \\\n    apk add --no-cache postgresql-dev gcc python3-dev musl-dev && \\\n    pip install --no-cache-dir pipenv\n\nCOPY . /flask_api\nWORKDIR /flask_api\n\nRUN pipenv install --system --deploy\n"},"repairedBuild":{"startTimestamp":1672559196651,"endTimestamp":1672559307376,"error":null,"stdout":"Sending build context to Docker daemon  289.8kB\r\r\nStep 1/8 : FROM python:3.7-alpine\n ---> 23de60bcccb1\nStep 2/8 : EXPOSE 5000\n ---> Running in a65feda38a5c\nRemoving intermediate container a65feda38a5c\n ---> 3a6336900a24\nStep 3/8 : ENTRYPOINT [\"gunicorn\"]\n ---> Running in dd8228ff05d1\nRemoving intermediate container dd8228ff05d1\n ---> 2a61f8f96707\nStep 4/8 : CMD [\"--workers=4\", \"--bind=0.0.0.0:5000\", \"app:my_app\"]\n ---> Running in 764d4a0e27e3\nRemoving intermediate container 764d4a0e27e3\n ---> 958b481d18b3\nStep 5/8 : RUN mkdir /flask_api &&     apk upgrade --update &&     apk add --no-cache postgresql-dev gcc python3-dev musl-dev &&     pip install --no-cache-dir pipenv\n ---> Running in ba35f852002a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/3) Upgrading sqlite-libs (3.40.0-r0 -> 3.40.1-r0)\n(2/3) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(3/3) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 16 MiB in 37 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing libgcc (12.2.1_git20220924-r4)\n(2/36) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/36) Installing binutils (2.39-r2)\n(4/36) Installing libgomp (12.2.1_git20220924-r4)\n(5/36) Installing libatomic (12.2.1_git20220924-r4)\n(6/36) Installing gmp (6.2.1-r2)\n(7/36) Installing isl25 (0.25-r0)\n(8/36) Installing mpfr4 (4.1.0-r0)\n(9/36) Installing mpc1 (1.2.1-r1)\n(10/36) Installing gcc (12.2.1_git20220924-r4)\n(11/36) Installing musl-dev (1.2.3-r4)\n(12/36) Installing libpq (15.1-r0)\n(13/36) Installing pkgconf (1.9.3-r0)\n(14/36) Installing openssl-dev (3.0.7-r0)\n(15/36) Installing libpq-dev (15.1-r0)\n(16/36) Installing libecpg (15.1-r0)\n(17/36) Installing libecpg-dev (15.1-r0)\n(18/36) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(19/36) Installing libxml2 (2.10.3-r1)\n(20/36) Installing llvm14-libs (14.0.6-r7)\n(21/36) Installing clang14-libs (14.0.6-r1)\n(22/36) Installing clang14-libclang (14.0.6-r1)\n(23/36) Installing clang14 (14.0.6-r1)\n(24/36) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(25/36) Installing icu-libs (72.1-r1)\n(26/36) Installing icu (72.1-r1)\n(27/36) Installing icu-dev (72.1-r1)\n(28/36) Installing llvm14 (14.0.6-r7)\n(29/36) Installing lz4-libs (1.9.4-r1)\n(30/36) Installing lz4-dev (1.9.4-r1)\n(31/36) Installing zstd-libs (1.5.2-r9)\n(32/36) Installing zstd-dev (1.5.2-r9)\n(33/36) Installing postgresql15-dev (15.1-r0)\n(34/36) Installing mpdecimal (2.5.1-r1)\n(35/36) Installing python3 (3.10.9-r1)\n(36/36) Installing python3-dev (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 645 MiB in 73 packages\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 60.8 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 190.7 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.7/site-packages (from pipenv) (57.5.0)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 118.8 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 188.7 MB/s eta 0:00:00\nCollecting importlib-metadata>=4.8.3\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nInstalling collected packages: distlib, zipp, virtualenv-clone, typing-extensions, filelock, certifi, platformdirs, importlib-metadata, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 importlib-metadata-5.2.0 pipenv-2022.12.19 platformdirs-2.6.2 typing-extensions-4.4.0 virtualenv-20.17.1 virtualenv-clone-0.5.7 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container ba35f852002a\n ---> c847cb48b0c9\nStep 6/8 : COPY . /flask_api\n ---> 7151618b43bc\nStep 7/8 : WORKDIR /flask_api\n ---> Running in 89c6e6b9d4d8\nRemoving intermediate container 89c6e6b9d4d8\n ---> fec4aa6d586f\nStep 8/8 : RUN pipenv install --system --deploy\n ---> Running in ecdfb06e183b\nInstalling dependencies from Pipfile.lock (8fdd52)...\nRemoving intermediate container ecdfb06e183b\n ---> 7b216ac47e6b\nSuccessfully built 7b216ac47e6b\nSuccessfully tagged flask-api:latest\n","stderr":"","imageSize":816590889},"endTime":1672559308431}