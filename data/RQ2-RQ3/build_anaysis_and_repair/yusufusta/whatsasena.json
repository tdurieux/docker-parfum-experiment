{"repository":"https://github.com/yusufusta/whatsasena","dockerfilePath":"Dockerfile","startTime":1673165349912,"endTime":1673165959615,"clone":{"startTime":1673165349913,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/yusufusta/whatsasena'...\n","error":null,"endTime":1673165350686,"commit":"32e7b8c00ca62fc219f4967a375c9a405ea806f0"},"originalBuild":{"startTime":1673165350779,"endTime":1673165742192,"error":null,"stdout":"Sending build context to Docker daemon  512.5kB\r\r\nStep 1/8 : FROM fusuf/whatsasena:latest\nlatest: Pulling from fusuf/whatsasena\n21c83c524219: Already exists\n99d18f511752: Pulling fs layer\nb5420812b5e8: Pulling fs layer\n1f22bc192998: Pulling fs layer\n6f02efe26746: Pulling fs layer\ndbd655ae9db9: Pulling fs layer\n4979d9df075d: Pulling fs layer\n53e43ac8e9b5: Pulling fs layer\n4979d9df075d: Waiting\n6f02efe26746: Waiting\n53e43ac8e9b5: Waiting\n1f22bc192998: Verifying Checksum\n1f22bc192998: Download complete\n6f02efe26746: Download complete\nb5420812b5e8: Verifying Checksum\nb5420812b5e8: Download complete\n99d18f511752: Verifying Checksum\n99d18f511752: Download complete\n4979d9df075d: Verifying Checksum\n4979d9df075d: Download complete\n99d18f511752: Pull complete\nb5420812b5e8: Pull complete\n1f22bc192998: Pull complete\ndbd655ae9db9: Verifying Checksum\ndbd655ae9db9: Download complete\n6f02efe26746: Pull complete\n53e43ac8e9b5: Verifying Checksum\n53e43ac8e9b5: Download complete\ndbd655ae9db9: Pull complete\n4979d9df075d: Pull complete\n53e43ac8e9b5: Pull complete\nDigest: sha256:9de670079009c30cd7f5a1080154f5cbf67111f7fae0ceaf2c88a652f65c1ff9\nStatus: Downloaded newer image for fusuf/whatsasena:latest\n ---> f5971f7f7611\nStep 2/8 : RUN git clone $GITHUB_REPO_URL /root/WhatsAsena\n ---> Running in 407afbe1a071\n\u001b[91mCloning into '/root/WhatsAsena'...\n\u001b[0mRemoving intermediate container 407afbe1a071\n ---> 886613bf4f3b\nStep 3/8 : WORKDIR /root/WhatsAsena/\n ---> Running in 22c14f12bed6\nRemoving intermediate container 22c14f12bed6\n ---> e41c3f0d269c\nStep 4/8 : ENV TZ=Europe/Istanbul\n ---> Running in 6b162839f96e\nRemoving intermediate container 6b162839f96e\n ---> df263663f319\nStep 5/8 : RUN npm install supervisor -g\n ---> Running in cef8bb8283bb\n\nadded 1 package, and audited 1 package in 796ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 7.0.8 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container cef8bb8283bb\n ---> 14aec158d518\nStep 6/8 : RUN apk --no-cache --virtual build-dependencies add     python     make     g++     && npm install     && apk del build-dependencies\n ---> Running in 69690084535c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing python2 (2.7.18-r0)\n(2/2) Installing build-dependencies (20230108.111223)\nExecuting busybox-1.30.1-r4.trigger\nOK: 1613 MiB in 273 packages\n\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@6.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 725 packages, and audited 725 packages in 2m\n\n56 packages are looking for funding\n  run `npm fund` for details\n\n15 vulnerabilities (2 low, 6 moderate, 7 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 7.0.8 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mWARNING: Ignoring APKINDEX.00740ba1.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.d8b2a6f4.tar.gz: No such file or directory\n\u001b[0m(1/2) Purging build-dependencies (20230108.111223)\n(2/2) Purging python2 (2.7.18-r0)\nExecuting busybox-1.30.1-r4.trigger\nOK: 1575 MiB in 271 packages\nRemoving intermediate container 69690084535c\n ---> 8fe0810df5c3\nStep 7/8 : RUN npm install\n ---> Running in c66ae64a0d05\n\nup to date, audited 725 packages in 3s\n\n56 packages are looking for funding\n  run `npm fund` for details\n\n15 vulnerabilities (2 low, 6 moderate, 7 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container c66ae64a0d05\n ---> 47e7735157a4\nStep 8/8 : CMD [\"node\", \"bot.js\"]\n ---> Running in e3ef908cd094\nRemoving intermediate container e3ef908cd094\n ---> 30a552e88126\nSuccessfully built 30a552e88126\nSuccessfully tagged whatsasena:latest\n","stderr":"","imageSize":2011145249},"repair":{"startTime":1673165742271,"endTime":1673165742390,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":29}},{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":7,"columnEnd":18}},{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM fusuf/whatsasena:latest\n\nRUN git clone $GITHUB_REPO_URL /root/WhatsAsena\nWORKDIR /root/WhatsAsena/\nENV TZ=Europe/Istanbul\nRUN npm install supervisor -g && npm cache clean --force;\nRUN apk --no-cache --virtual build-dependencies add \\\n    python \\\n    make \\\n    g++ \\\n    && npm install \\\n    && apk del build-dependencies && npm cache clean --force;\nRUN npm install && npm cache clean --force;\n\nCMD [\"node\", \"bot.js\"]\n"},"repairedBuild":{"startTime":1673165746450,"endTime":1673165956886,"error":null,"stdout":"Sending build context to Docker daemon  512.5kB\r\r\nStep 1/8 : FROM fusuf/whatsasena:latest\n ---> f5971f7f7611\nStep 2/8 : RUN git clone $GITHUB_REPO_URL /root/WhatsAsena\n ---> Running in 2c36f04259d7\n\u001b[91mCloning into '/root/WhatsAsena'...\n\u001b[0mRemoving intermediate container 2c36f04259d7\n ---> 8ef29260b36e\nStep 3/8 : WORKDIR /root/WhatsAsena/\n ---> Running in 257cb44d3e25\nRemoving intermediate container 257cb44d3e25\n ---> 61b2b1581e2c\nStep 4/8 : ENV TZ=Europe/Istanbul\n ---> Running in 251269ec188c\nRemoving intermediate container 251269ec188c\n ---> bb01367a52a6\nStep 5/8 : RUN npm install supervisor -g && npm cache clean --force;\n ---> Running in 9501e05595d2\n\nadded 1 package, and audited 1 package in 545ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 7.0.8 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91musing --force\u001b[0m\u001b[91m Recommended protections disabled.\n\u001b[0m\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 7.0.8 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 9501e05595d2\n ---> 31bafc07c1e7\nStep 6/8 : RUN apk --no-cache --virtual build-dependencies add     python     make     g++     && npm install     && apk del build-dependencies && npm cache clean --force;\n ---> Running in 0b023f216375\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing python2 (2.7.18-r0)\n(2/2) Installing build-dependencies (20230108.111706)\nExecuting busybox-1.30.1-r4.trigger\nOK: 1613 MiB in 273 packages\n\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m superagent@6.1.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\nadded 725 packages, and audited 725 packages in 2m\n\n56 packages are looking for funding\n  run `npm fund` for details\n\n15 vulnerabilities (2 low, 6 moderate, 7 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mWARNING: Ignoring APKINDEX.00740ba1.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.d8b2a6f4.tar.gz: No such file or directory\n\u001b[0m(1/2) Purging build-dependencies (20230108.111706)\n(2/2) Purging python2 (2.7.18-r0)\nExecuting busybox-1.30.1-r4.trigger\nOK: 1575 MiB in 271 packages\n\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 0b023f216375\n ---> ea9fa8779b70\nStep 7/8 : RUN npm install && npm cache clean --force;\n ---> Running in df7a795e7af5\n\nup to date, audited 725 packages in 3s\n\n56 packages are looking for funding\n  run `npm fund` for details\n\n15 vulnerabilities (2 low, 6 moderate, 7 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container df7a795e7af5\n ---> fa34dd5f0b44\nStep 8/8 : CMD [\"node\", \"bot.js\"]\n ---> Running in 7eccb473df61\nRemoving intermediate container 7eccb473df61\n ---> 728119f1def4\nSuccessfully built 728119f1def4\nSuccessfully tagged whatsasena:latest\n","stderr":"","imageSize":1943820286}}