{"repository":"https://github.com/soketi/echo-server","dockerfilePath":"Dockerfile","startTime":1672901199163,"endTime":1672901332967,"clone":{"startTime":1672901199164,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/soketi/echo-server'...\n","error":null,"endTime":1672901200045,"commit":"acbe86be37bc344208987c581c2fed26f1070784"},"originalBuild":{"startTime":1672901200136,"endTime":1672901280671,"error":null,"stdout":"Sending build context to Docker daemon  527.4kB\r\r\nStep 1/8 : ARG VERSION=lts\nStep 2/8 : FROM node:$VERSION\n ---> 7b2a09676e2c\nStep 3/8 : LABEL maintainer=\"Renoki Co. <alex@renoki.org>\"\n ---> Running in f44ad3ce6abe\nRemoving intermediate container f44ad3ce6abe\n ---> 5736d2437fee\nStep 4/8 : COPY . /app\n ---> ab71f0d37904\nStep 5/8 : RUN cd /app &&     mkdir stats &&     npm install &&     npm run lint &&     npm run build &&     npm install modclean -g &&     rm -rf docs/ coverage/ src/ tests/ typings/ .git/ .github/ *.md &&     rm -rf node_modules/*/test/ node_modules/*/tests/ &&     npm prune &&     modclean -n default:safe --run &&     npm uninstall -g modclean\n ---> Running in 2b2838e4154c\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated socket.io-redis@6.1.1: This package has been renamed to '@socket.io/redis-adapter', please see the migration guide here: https://socket.io/docs/v4/redis-adapter/#migrating-from-socketio-redis\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-client@3.0.0: This is a stub types definition. socket.io-client provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> @soketi/echo-server@0.0.0-dev prepublish\n> npm run build\n\n\n> @soketi/echo-server@0.0.0-dev build\n> ./node_modules/.bin/tsc\n\n\nadded 1063 packages, and audited 1064 packages in 43s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n> @soketi/echo-server@0.0.0-dev lint\n> eslint --ext .js,.ts ./src ./tests\n\n\n/app/src/api/http-api.ts\n  430:68  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app-managers/mysql-app-manager.ts\n  14:57  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app-managers/postgres-app-manager.ts\n  14:57  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app-managers/sql-app-manager.ts\n  66:39  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  75:41  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  89:67  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app.ts\n  65:39  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/channels/channel.ts\n  107:55  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/channels/presence-channel.ts\n  16:24  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/cli/cli.ts\n  130:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  130:32  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/echo-server.ts\n   24:24  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   30:28  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  275:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/log.ts\n  22:27  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  29:30  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  36:26  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  43:29  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  50:27  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  57:29  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/options.ts\n  125:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/prometheus.ts\n  134:70  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  143:62  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/socket-http-client.ts\n  18:38  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  18:69  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  69:82  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/socket.ts\n  9:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/utils.ts\n   7:33  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  22:37  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/tests/connector.ts\n   20:43  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   54:61  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   58:62  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   62:71  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   66:63  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   94:77  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   94:83  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  100:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  111:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  112:22  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\nâœ– 39 problems (0 errors, 39 warnings)\n\n\n> @soketi/echo-server@0.0.0-dev build\n> ./node_modules/.bin/tsc\n\n\nadded 41 packages, and audited 42 packages in 3s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\nup to date, audited 1064 packages in 2s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\n\nMODCLEAN  Version 3.0.0-beta.1\n\nDeleting files, please wait...\nDeleting empty directories, please wait...\n\nFILES/FOLDERS DELETED\n    Total:    5969\n    Skipped:  0\n    Empty:    2388\n\n\nremoved 41 packages, and audited 1 package in 234ms\n\nfound 0 vulnerabilities\nRemoving intermediate container 2b2838e4154c\n ---> c0a73b02458e\nStep 6/8 : EXPOSE 6001\n ---> Running in 12fa4c16335e\nRemoving intermediate container 12fa4c16335e\n ---> cfbe06e27346\nStep 7/8 : WORKDIR /app\n ---> Running in 87dc4cbb797d\nRemoving intermediate container 87dc4cbb797d\n ---> 534d806809be\nStep 8/8 : ENTRYPOINT [\"node\", \"/app/bin/server.js\", \"start\"]\n ---> Running in f1338ed26a00\nRemoving intermediate container f1338ed26a00\n ---> 257630dd9e46\nSuccessfully built 257630dd9e46\nSuccessfully tagged echo-server:latest\n","stderr":"","imageSize":1233138309},"repair":{"startTime":1672901280731,"endTime":1672901280880,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":13,"end":13,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"ARG VERSION=lts\n\nFROM node:$VERSION\n\nLABEL maintainer=\"Renoki Co. <alex@renoki.org>\"\n\nCOPY . /app\n\nRUN cd /app && \\\n    mkdir stats && \\\n    npm install && \\\n    npm run lint && \\\n    npm run build && \\\n    npm install modclean -g && \\\n    rm -rf docs/ coverage/ src/ tests/ typings/ .git/ .github/ *.md && \\\n    rm -rf node_modules/*/test/ node_modules/*/tests/ && \\\n    npm prune && \\\n    modclean -n default:safe --run && \\\n    npm uninstall -g modclean && npm cache clean --force;\n\nEXPOSE 6001\n\nWORKDIR /app\n\nENTRYPOINT [\"node\", \"/app/bin/server.js\", \"start\"]\n"},"repairedBuild":{"startTime":1672901281362,"endTime":1672901332468,"error":null,"stdout":"Sending build context to Docker daemon  527.4kB\r\r\nStep 1/8 : ARG VERSION=lts\nStep 2/8 : FROM node:$VERSION\n ---> 7b2a09676e2c\nStep 3/8 : LABEL maintainer=\"Renoki Co. <alex@renoki.org>\"\n ---> Running in 5c9ff60d42e3\nRemoving intermediate container 5c9ff60d42e3\n ---> d73b3086abf2\nStep 4/8 : COPY . /app\n ---> d47b8ee178ed\nStep 5/8 : RUN cd /app &&     mkdir stats &&     npm install &&     npm run lint &&     npm run build &&     npm install modclean -g &&     rm -rf docs/ coverage/ src/ tests/ typings/ .git/ .github/ *.md &&     rm -rf node_modules/*/test/ node_modules/*/tests/ &&     npm prune &&     modclean -n default:safe --run &&     npm uninstall -g modclean && npm cache clean --force;\n ---> Running in 9824a563478f\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated socket.io-redis@6.1.1: This package has been renamed to '@socket.io/redis-adapter', please see the migration guide here: https://socket.io/docs/v4/redis-adapter/#migrating-from-socketio-redis\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-client@3.0.0: This is a stub types definition. socket.io-client provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> @soketi/echo-server@0.0.0-dev prepublish\n> npm run build\n\n\n> @soketi/echo-server@0.0.0-dev build\n> ./node_modules/.bin/tsc\n\n\nadded 1063 packages, and audited 1064 packages in 28s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\n> @soketi/echo-server@0.0.0-dev lint\n> eslint --ext .js,.ts ./src ./tests\n\n\n/app/src/api/http-api.ts\n  430:68  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app-managers/mysql-app-manager.ts\n  14:57  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app-managers/postgres-app-manager.ts\n  14:57  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app-managers/sql-app-manager.ts\n  66:39  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  75:41  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  89:67  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/app.ts\n  65:39  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/channels/channel.ts\n  107:55  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/channels/presence-channel.ts\n  16:24  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/cli/cli.ts\n  130:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  130:32  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/echo-server.ts\n   24:24  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   30:28  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  275:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/log.ts\n  22:27  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  29:30  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  36:26  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  43:29  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  50:27  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  57:29  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/options.ts\n  125:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/prometheus.ts\n  134:70  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  143:62  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/socket-http-client.ts\n  18:38  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  18:69  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  69:82  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/socket.ts\n  9:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/src/utils.ts\n   7:33  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  22:37  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\n/app/tests/connector.ts\n   20:43  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   54:61  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   58:62  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   62:71  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   66:63  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   94:77  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n   94:83  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  100:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  111:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n  112:22  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any\n\nâœ– 39 problems (0 errors, 39 warnings)\n\n\n> @soketi/echo-server@0.0.0-dev build\n> ./node_modules/.bin/tsc\n\n\nadded 41 packages, and audited 42 packages in 727ms\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\nup to date, audited 1064 packages in 3s\n\n63 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\n\nMODCLEAN  Version 3.0.0-beta.1\n\nDeleting files, please wait...\nDeleting empty directories, please wait...\n\nFILES/FOLDERS DELETED\n    Total:    5969\n    Skipped:  0\n    Empty:    2388\n\n\nremoved 41 packages, and audited 1 package in 186ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 9824a563478f\n ---> 37a745fd973d\nStep 6/8 : EXPOSE 6001\n ---> Running in 9fae11c8b73b\nRemoving intermediate container 9fae11c8b73b\n ---> 6e16db6d7c69\nStep 7/8 : WORKDIR /app\n ---> Running in 12ce1d2eea90\nRemoving intermediate container 12ce1d2eea90\n ---> e78214306b43\nStep 8/8 : ENTRYPOINT [\"node\", \"/app/bin/server.js\", \"start\"]\n ---> Running in 23716f918c6c\nRemoving intermediate container 23716f918c6c\n ---> 435a045d9249\nSuccessfully built 435a045d9249\nSuccessfully tagged echo-server:latest\n","stderr":"","imageSize":1118794216}}