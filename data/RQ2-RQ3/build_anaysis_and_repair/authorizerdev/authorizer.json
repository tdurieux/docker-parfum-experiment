{"repository":"https://github.com/authorizerdev/authorizer","dockerfilePath":"Dockerfile","startTime":1672832055776,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/authorizerdev/authorizer'...\n","error":null,"commit":"4f810d2f8bc516a6adffe9508bb2e4bf808092f0"},"originalBuild":{"startTimestamp":1672832056867,"endTimestamp":1672832226133,"error":null,"stdout":"Sending build context to Docker daemon  2.539MB\r\r\nStep 1/27 : FROM golang:1.19.1-alpine as go-builder\n1.19.1-alpine: Pulling from library/golang\n213ec9aee27d: Already exists\n5299e6f78605: Pulling fs layer\n1cab0e43db0a: Pulling fs layer\n6569e6eb40cd: Pulling fs layer\n601c7710d0ea: Pulling fs layer\n601c7710d0ea: Waiting\n1cab0e43db0a: Download complete\n5299e6f78605: Verifying Checksum\n5299e6f78605: Download complete\n5299e6f78605: Pull complete\n1cab0e43db0a: Pull complete\n601c7710d0ea: Verifying Checksum\n601c7710d0ea: Download complete\n6569e6eb40cd: Verifying Checksum\n6569e6eb40cd: Download complete\n6569e6eb40cd: Pull complete\n601c7710d0ea: Pull complete\nDigest: sha256:d475cef843a02575ebdcb1416d98cd76bab90a5ae8bc2cd15f357fc08b6a329f\nStatus: Downloaded newer image for golang:1.19.1-alpine\n ---> 5dd973625d31\nStep 2/27 : WORKDIR /authorizer\n ---> Running in da7b36072665\nRemoving intermediate container da7b36072665\n ---> 40da3b952dd6\nStep 3/27 : COPY server server\n ---> 951f5b1fc98d\nStep 4/27 : COPY Makefile .\n ---> 9c98847f4486\nStep 5/27 : ARG VERSION=\"latest\"\n ---> Running in 3e91f0ba8fda\nRemoving intermediate container 3e91f0ba8fda\n ---> efb4bb4dc6be\nStep 6/27 : ENV VERSION=\"$VERSION\"\n ---> Running in d750dc51414f\nRemoving intermediate container d750dc51414f\n ---> dd5b5e142156\nStep 7/27 : RUN echo \"$VERSION\"\n ---> Running in 2489ce4a3de3\nlatest\nRemoving intermediate container 2489ce4a3de3\n ---> 1097f75aab67\nStep 8/27 : RUN apk add build-base &&    make clean && make &&     chmod 777 build/server\n ---> Running in 4982efcf3f69\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/20) Installing libgcc (11.2.1_git20220219-r2)\n(3/20) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/20) Installing binutils (2.38-r3)\n(5/20) Installing libmagic (5.41-r0)\n(6/20) Installing file (5.41-r0)\n(7/20) Installing libgomp (11.2.1_git20220219-r2)\n(8/20) Installing libatomic (11.2.1_git20220219-r2)\n(9/20) Installing gmp (6.2.1-r2)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (11.2.1_git20220219-r2)\n(14/20) Installing musl-dev (1.2.3-r2)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (11.2.1_git20220219-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.35.0-r17.trigger\nOK: 187 MiB in 34 packages\nrm -rf build\ncd server && go build -ldflags \"-w -X main.VERSION=latest\" -o '../build/server'\n\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/coreos/go-oidc/v3 v3.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20210628180205-a41e5a781914\n\u001b[0m\u001b[91mgo: downloading github.com/joho/godotenv v1.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.3.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/square/go-jose.v2 v2.6.0\n\u001b[0m\u001b[91mgo: downloading go.mongodb.org/mongo-driver v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.109\n\u001b[0m\u001b[91mgo: downloading github.com/go-redis/redis/v8 v8.11.0\ngo: downloading github.com/guregu/dynamo v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/sqlite v1.5.0\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/mysql v1.4.3\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/postgres v1.4.5\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/sqlserver v1.4.1\n\u001b[0m\u001b[91mgo: downloading gorm.io/gorm v1.24.1\n\u001b[0m\u001b[91mgo: downloading github.com/gocql/gocql v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/99designs/gqlgen v0.17.20\n\u001b[0m\u001b[91mgo: downloading github.com/arangodb/go-driver v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgx/v4 v4.17.2\n\u001b[0m\u001b[91mgo: downloading github.com/vektah/gqlparser/v2 v2.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang-jwt/jwt v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/robertkrimen/otto v0.0.0-20211024170158-b87d35c0b86f\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/go-sqlite v1.19.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v1.0.0\ngo: downloading github.com/jinzhu/now v1.1.5\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/mail.v2 v2.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.2.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.19.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/sqlite v1.19.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.11.1\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.7\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/microsoft/go-mssqldb v0.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/hailocab/go-hostpool v0.0.0-20160125115350-e80d13ce29ed\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3/v2 v2.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go v1.2.7\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgtype v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/cenkalti/backoff/v4 v4.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/gofrs/uuid v4.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3 v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/agnivade/levenshtein v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.18.0\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/dgryski/go-rendezvous v0.0.0-20200823014737-9f7001d12a5f\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.14.0\ngo: downloading github.com/arangodb/go-velocypack v0.0.0-20200318135517-5af53c29c67e\ngo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/sourcemap.v1 v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/golang-sql/civil v0.0.0-20220223132316-b832511892a9\ngo: downloading github.com/golang-sql/sqlexp v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\ngo: downloading github.com/hashicorp/golang-lru v0.5.4\ngo: downloading github.com/mitchellh/mapstructure v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/youmark/pkcs8 v0.0.0-20181117223130-1be2e3e5546d\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/scram v1.0.2\ngo: downloading github.com/xdg-go/stringprep v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20220722155255-886fb9371eb4\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/pbkdf2 v1.0.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.5.0\ngo: downloading modernc.org/memory v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0mRemoving intermediate container 4982efcf3f69\n ---> 6a712140b334\nStep 9/27 : FROM node:17-alpine3.12 as node-builder\n17-alpine3.12: Pulling from library/node\n8572bc8fb8a3: Pulling fs layer\ncbd81bf0a55c: Pulling fs layer\nd0e33d6f628a: Pulling fs layer\n42d55febe769: Pulling fs layer\n42d55febe769: Waiting\n8572bc8fb8a3: Verifying Checksum\n8572bc8fb8a3: Download complete\n8572bc8fb8a3: Pull complete\nd0e33d6f628a: Verifying Checksum\nd0e33d6f628a: Download complete\n42d55febe769: Download complete\ncbd81bf0a55c: Verifying Checksum\ncbd81bf0a55c: Download complete\ncbd81bf0a55c: Pull complete\nd0e33d6f628a: Pull complete\n42d55febe769: Pull complete\nDigest: sha256:754a877e2061f434ab066e162634aa08f491804b912a1b7d13df3be9251c24a5\nStatus: Downloaded newer image for node:17-alpine3.12\n ---> 9c73a3e8baaf\nStep 10/27 : WORKDIR /authorizer\n ---> Running in 506924abf821\nRemoving intermediate container 506924abf821\n ---> 7ad06001b379\nStep 11/27 : COPY app app\n ---> 29bf43367e4d\nStep 12/27 : COPY dashboard dashboard\n ---> 29ed3c3b5356\nStep 13/27 : COPY Makefile .\n ---> 09bbf1c1de67\nStep 14/27 : RUN apk add build-base &&    make build-app &&     make build-dashboard\n ---> Running in 3f7f5bf2c741\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing binutils (2.34-r2)\n(2/18) Installing libmagic (5.38-r0)\n(3/18) Installing file (5.38-r0)\n(4/18) Installing gmp (6.2.1-r1)\n(5/18) Installing isl (0.18-r0)\n(6/18) Installing libgomp (9.3.0-r2)\n(7/18) Installing libatomic (9.3.0-r2)\n(8/18) Installing libgphobos (9.3.0-r2)\n(9/18) Installing mpfr4 (4.0.2-r4)\n(10/18) Installing mpc1 (1.1.0-r1)\n(11/18) Installing gcc (9.3.0-r2)\n(12/18) Installing musl-dev (1.1.24-r10)\n(13/18) Installing libc-dev (0.7.2-r3)\n(14/18) Installing g++ (9.3.0-r2)\n(15/18) Installing make (4.3-r0)\n(16/18) Installing fortify-headers (1.1-r0)\n(17/18) Installing patch (2.7.6-r7)\n(18/18) Installing build-base (0.5-r2)\nExecuting busybox-1.31.1-r21.trigger\nOK: 206 MiB in 34 packages\ncd app && npm i && npm run build\n\nadded 85 packages, and audited 86 packages in 4s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.3.0 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n> app@1.0.0 build\n> rm -rf build && NODE_ENV=production node ./esbuild.config.js\n\ncd dashboard && npm i && npm run build\n\nadded 202 packages, and audited 203 packages in 6s\n\n8 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\n> dashboard@1.0.0 build\n> rm -rf build && NODE_ENV=production node ./esbuild.config.js\n\n\u001b[91m\n  build/chunk-I2F2WLKQ.js        588.7kb\n  build/chunk-WTHF5CUI.js        135.8kb\n  build/Users-3IRTOMJF.js         39.8kb\n  build/Environment-ZMM4SEKH.js   31.8kb\n  build/index.js                  31.4kb\n  build/Webhooks-TSCPPQ3T.js      20.0kb\n  build/chunk-D6FNWELL.js         18.9kb\n  build/chunk-NH2EJ7JC.js         11.3kb\n  build/chunk-57YI3JGM.js          6.4kb\n  build/chunk-VMRCUFRZ.js          5.4kb\n  build/Auth-EHYUHUKR.js           3.1kb\n  build/chunk-BH7XUJGY.js          1.5kb\n  build/chunk-O6NJQKOJ.js          639b \n  build/Home-7UFHZLMJ.js           518b \n\n⚡ Done in 251ms\n\u001b[0mRemoving intermediate container 3f7f5bf2c741\n ---> bfb334425b2e\nStep 15/27 : FROM alpine:latest\n ---> 49176f190c7e\nStep 16/27 : RUN adduser -D -h /authorizer -u 1000 -k /dev/null authorizer\n ---> Running in 74b318ebf090\n\u001b[91madduser: can't create '/authorizer': File exists\n\u001b[0mRemoving intermediate container 74b318ebf090\n ---> 7bf36375a618\nStep 17/27 : WORKDIR /authorizer\n ---> Running in a28b3cb93a2b\nRemoving intermediate container a28b3cb93a2b\n ---> 1affbae3b9ce\nStep 18/27 : RUN mkdir app dashboard\n ---> Running in 45bd279b201a\nRemoving intermediate container 45bd279b201a\n ---> 8af05ef3dec6\nStep 19/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/app/build app/build\n ---> 0b129b76aa23\nStep 20/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/app/favicon_io app/favicon_io\n ---> 0fd0e68cfbab\nStep 21/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/dashboard/build dashboard/build\n ---> 129c69e96114\nStep 22/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/dashboard/favicon_io dashboard/favicon_io\n ---> 0d66b506b50e\nStep 23/27 : COPY --from=go-builder --chown=nobody:nobody /authorizer/build build\n ---> c7b9ac40d9e7\nStep 24/27 : COPY templates templates\n ---> ed814f282583\nStep 25/27 : EXPOSE 8080\n ---> Running in a5290c6c47ac\nRemoving intermediate container a5290c6c47ac\n ---> 4ebfd5ab1b9a\nStep 26/27 : USER authorizer\n ---> Running in fc484f118bfa\nRemoving intermediate container fc484f118bfa\n ---> 657774d0b25f\nStep 27/27 : CMD [ \"./build/server\" ]\n ---> Running in 017151d43358\nRemoving intermediate container 017151d43358\n ---> 554bc2b5605d\nSuccessfully built 554bc2b5605d\nSuccessfully tagged authorizer:latest\n","stderr":"","imageSize":50520149},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":4,"columnEnd":22}},{"name":"apkAddUseNoCache","position":{"start":18,"end":18,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM golang:1.19.1-alpine as go-builder\nWORKDIR /authorizer\nCOPY server server\nCOPY Makefile .\n\nARG VERSION=\"latest\"\nENV VERSION=\"$VERSION\"\n\nRUN echo \"$VERSION\"\nRUN apk add --no-cache build-base && \\\n    make clean && make && \\\n    chmod 777 build/server\n\nFROM node:17-alpine3.12 as node-builder\nWORKDIR /authorizer\nCOPY app app\nCOPY dashboard dashboard\nCOPY Makefile .\nRUN apk add --no-cache build-base && \\\n    make build-app && \\\n    make build-dashboard\n\nFROM alpine:latest\nRUN adduser -D -h /authorizer -u 1000 -k /dev/null authorizer\nWORKDIR /authorizer\nRUN mkdir app dashboard\nCOPY --from=node-builder --chown=nobody:nobody /authorizer/app/build app/build\nCOPY --from=node-builder --chown=nobody:nobody /authorizer/app/favicon_io app/favicon_io\nCOPY --from=node-builder --chown=nobody:nobody /authorizer/dashboard/build dashboard/build\nCOPY --from=node-builder --chown=nobody:nobody /authorizer/dashboard/favicon_io dashboard/favicon_io\nCOPY --from=go-builder --chown=nobody:nobody /authorizer/build build\nCOPY templates templates\nEXPOSE 8080\nUSER authorizer\nCMD [ \"./build/server\" ]\n"},"repairedBuild":{"startTimestamp":1672832229213,"endTimestamp":1672832374502,"error":null,"stdout":"Sending build context to Docker daemon  2.539MB\r\r\nStep 1/27 : FROM golang:1.19.1-alpine as go-builder\n ---> 5dd973625d31\nStep 2/27 : WORKDIR /authorizer\n ---> Running in c79fbb3890df\nRemoving intermediate container c79fbb3890df\n ---> 05e2588ba985\nStep 3/27 : COPY server server\n ---> 155c7ccdf58d\nStep 4/27 : COPY Makefile .\n ---> c3318de2cd18\nStep 5/27 : ARG VERSION=\"latest\"\n ---> Running in 8b28e9e9eebb\nRemoving intermediate container 8b28e9e9eebb\n ---> 17f99d9dfabe\nStep 6/27 : ENV VERSION=\"$VERSION\"\n ---> Running in c5b1be4028dd\nRemoving intermediate container c5b1be4028dd\n ---> 1f0a4ed77bd7\nStep 7/27 : RUN echo \"$VERSION\"\n ---> Running in 8da1eadf995f\nlatest\nRemoving intermediate container 8da1eadf995f\n ---> f3c1fd4a0979\nStep 8/27 : RUN apk add --no-cache build-base &&     make clean && make &&     chmod 777 build/server\n ---> Running in 5bebe988c703\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.2.3-r0 -> 1.2.3-r2)\n(2/20) Installing libgcc (11.2.1_git20220219-r2)\n(3/20) Installing libstdc++ (11.2.1_git20220219-r2)\n(4/20) Installing binutils (2.38-r3)\n(5/20) Installing libmagic (5.41-r0)\n(6/20) Installing file (5.41-r0)\n(7/20) Installing libgomp (11.2.1_git20220219-r2)\n(8/20) Installing libatomic (11.2.1_git20220219-r2)\n(9/20) Installing gmp (6.2.1-r2)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (11.2.1_git20220219-r2)\n(14/20) Installing musl-dev (1.2.3-r2)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (11.2.1_git20220219-r2)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.35.0-r17.trigger\nOK: 187 MiB in 34 packages\nrm -rf build\ncd server && go build -ldflags \"-w -X main.VERSION=latest\" -o '../build/server'\n\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.8.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20210628180205-a41e5a781914\ngo: downloading github.com/coreos/go-oidc/v3 v3.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/joho/godotenv v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-redis/redis/v8 v8.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/99designs/gqlgen v0.17.20\n\u001b[0m\u001b[91mgo: downloading github.com/glebarez/sqlite v1.5.0\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/mysql v1.4.3\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/postgres v1.4.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/square/go-jose.v2 v2.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/gocql/gocql v1.2.0\n\u001b[0m\u001b[91mgo: downloading gorm.io/driver/sqlserver v1.4.1\n\u001b[0m\u001b[91mgo: downloading gorm.io/gorm v1.24.1\n\u001b[0m\u001b[91mgo: downloading github.com/arangodb/go-driver v1.2.1\n\u001b[0m\u001b[91mgo: downloading go.mongodb.org/mongo-driver v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.109\n\u001b[0m\u001b[91mgo: downloading github.com/guregu/dynamo v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/vektah/gqlparser/v2 v2.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang-jwt/jwt v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/robertkrimen/otto v0.0.0-20211024170158-b87d35c0b86f\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgx/v4 v4.17.2\ngo: downloading github.com/glebarez/go-sqlite v1.19.1\n\u001b[0m\u001b[91mgo: downloading github.com/microsoft/go-mssqldb v0.17.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cenkalti/backoff/v4 v4.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/gofrs/uuid v4.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/dgryski/go-rendezvous v0.0.0-20200823014737-9f7001d12a5f\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/inflection v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jinzhu/now v1.1.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/mail.v2 v2.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.19.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/sqlite v1.19.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/hailocab/go-hostpool v0.0.0-20160125115350-e80d13ce29ed\ngo: downloading gopkg.in/inf.v0 v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.11.1\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.7\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgconn v1.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgio v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3/v2 v2.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgtype v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/agnivade/levenshtein v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/arangodb/go-velocypack v0.0.0-20200318135517-5af53c29c67e\ngo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/sourcemap.v1 v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader/v2 v2.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgpassfile v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgproto3 v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/chunkreader v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go v1.2.7\n\u001b[0m\u001b[91mgo: downloading github.com/jackc/pgservicefile v0.0.0-20200714003250-2b9c44734f2b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.18.0\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang-sql/civil v0.0.0-20220223132316-b832511892a9\n\u001b[0m\u001b[91mgo: downloading github.com/golang-sql/sqlexp v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\ngo: downloading github.com/mitchellh/mapstructure v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/youmark/pkcs8 v0.0.0-20181117223130-1be2e3e5546d\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/scram v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/stringprep v1.0.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20220722155255-886fb9371eb4\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/pbkdf2 v1.0.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/memory v1.4.0\ngo: downloading modernc.org/mathutil v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0mRemoving intermediate container 5bebe988c703\n ---> 11612ca0db07\nStep 9/27 : FROM node:17-alpine3.12 as node-builder\n ---> 9c73a3e8baaf\nStep 10/27 : WORKDIR /authorizer\n ---> Running in 3ebddfb10806\nRemoving intermediate container 3ebddfb10806\n ---> 9c941f5afdb8\nStep 11/27 : COPY app app\n ---> bd08a912f42b\nStep 12/27 : COPY dashboard dashboard\n ---> 80d21841287b\nStep 13/27 : COPY Makefile .\n ---> d9fc6c088f01\nStep 14/27 : RUN apk add --no-cache build-base &&     make build-app &&     make build-dashboard\n ---> Running in 20e8deacab74\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing binutils (2.34-r2)\n(2/18) Installing libmagic (5.38-r0)\n(3/18) Installing file (5.38-r0)\n(4/18) Installing gmp (6.2.1-r1)\n(5/18) Installing isl (0.18-r0)\n(6/18) Installing libgomp (9.3.0-r2)\n(7/18) Installing libatomic (9.3.0-r2)\n(8/18) Installing libgphobos (9.3.0-r2)\n(9/18) Installing mpfr4 (4.0.2-r4)\n(10/18) Installing mpc1 (1.1.0-r1)\n(11/18) Installing gcc (9.3.0-r2)\n(12/18) Installing musl-dev (1.1.24-r10)\n(13/18) Installing libc-dev (0.7.2-r3)\n(14/18) Installing g++ (9.3.0-r2)\n(15/18) Installing make (4.3-r0)\n(16/18) Installing fortify-headers (1.1-r0)\n(17/18) Installing patch (2.7.6-r7)\n(18/18) Installing build-base (0.5-r2)\nExecuting busybox-1.31.1-r21.trigger\nOK: 206 MiB in 34 packages\ncd app && npm i && npm run build\n\nadded 85 packages, and audited 86 packages in 4s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 8.3.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0m\n> app@1.0.0 build\n> rm -rf build && NODE_ENV=production node ./esbuild.config.js\n\ncd dashboard && npm i && npm run build\n\nadded 202 packages, and audited 203 packages in 5s\n\n8 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\n> dashboard@1.0.0 build\n> rm -rf build && NODE_ENV=production node ./esbuild.config.js\n\n\u001b[91m\n  build/chunk-I2F2WLKQ.js        588.7kb\n  build/chunk-WTHF5CUI.js        135.8kb\n  build/Users-3IRTOMJF.js         39.8kb\n  build/Environment-ZMM4SEKH.js   31.8kb\n  build/index.js                  31.4kb\n  build/Webhooks-TSCPPQ3T.js      20.0kb\n  build/chunk-D6FNWELL.js         18.9kb\n  build/chunk-NH2EJ7JC.js         11.3kb\n  build/chunk-57YI3JGM.js          6.4kb\n  build/chunk-VMRCUFRZ.js          5.4kb\n  build/Auth-EHYUHUKR.js           3.1kb\n  build/chunk-BH7XUJGY.js          1.5kb\n  build/chunk-O6NJQKOJ.js          639b \n  build/Home-7UFHZLMJ.js           518b \n\n⚡ Done in 251ms\n\u001b[0mRemoving intermediate container 20e8deacab74\n ---> 5bccecc5f4ea\nStep 15/27 : FROM alpine:latest\n ---> 49176f190c7e\nStep 16/27 : RUN adduser -D -h /authorizer -u 1000 -k /dev/null authorizer\n ---> Running in b4a4bdbaa738\n\u001b[91madduser: can't create '/authorizer': File exists\n\u001b[0mRemoving intermediate container b4a4bdbaa738\n ---> 81f3c4df98f9\nStep 17/27 : WORKDIR /authorizer\n ---> Running in f2ea77e96440\nRemoving intermediate container f2ea77e96440\n ---> a6c3e2b1fa09\nStep 18/27 : RUN mkdir app dashboard\n ---> Running in 5bdb838b4c67\nRemoving intermediate container 5bdb838b4c67\n ---> df2b5a2217f0\nStep 19/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/app/build app/build\n ---> a233c2527522\nStep 20/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/app/favicon_io app/favicon_io\n ---> 0a24cfb6aaa5\nStep 21/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/dashboard/build dashboard/build\n ---> b4e1525564dd\nStep 22/27 : COPY --from=node-builder --chown=nobody:nobody /authorizer/dashboard/favicon_io dashboard/favicon_io\n ---> 29a72a80dc9e\nStep 23/27 : COPY --from=go-builder --chown=nobody:nobody /authorizer/build build\n ---> f636a2fbaf9e\nStep 24/27 : COPY templates templates\n ---> 22a8420e8721\nStep 25/27 : EXPOSE 8080\n ---> Running in 17e18fcd8087\nRemoving intermediate container 17e18fcd8087\n ---> 624c5106f31a\nStep 26/27 : USER authorizer\n ---> Running in 9405e567c5d4\nRemoving intermediate container 9405e567c5d4\n ---> 6c02ca7f6448\nStep 27/27 : CMD [ \"./build/server\" ]\n ---> Running in 58a385bad6dd\nRemoving intermediate container 58a385bad6dd\n ---> 550218f20890\nSuccessfully built 550218f20890\nSuccessfully tagged authorizer:latest\n","stderr":"","imageSize":50520149},"endTime":1672832374932}