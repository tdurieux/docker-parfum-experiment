{"repository":"https://github.com/matheuslc/shorts","dockerfilePath":"Dockerfile","startTime":1672435787443,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/matheuslc/shorts'...\n","error":null,"commit":"1721b2ef8fdd7ed2ca2c7aa4952454b86146b479"},"originalBuild":{"startTimestamp":1672435788268,"endTimestamp":1672435813003,"error":null,"stdout":"Sending build context to Docker daemon  569.9kB\r\r\nStep 1/12 : FROM node:7.3.0\n7.3.0: Pulling from library/node\n75a822cd7888: Already exists\n57de64c72267: Already exists\n4306be1e8943: Already exists\n871436ab7225: Already exists\n0110c26a367a: Pulling fs layer\n1f04fe713f1b: Pulling fs layer\nd8daeae79eeb: Pulling fs layer\n0110c26a367a: Download complete\n1f04fe713f1b: Download complete\n0110c26a367a: Pull complete\n1f04fe713f1b: Pull complete\nd8daeae79eeb: Verifying Checksum\nd8daeae79eeb: Download complete\nd8daeae79eeb: Pull complete\nDigest: sha256:d63c3b05c7fc033b55698dce010922f6714ba44949521ddf5ab6bd69f22180b5\nStatus: Downloaded newer image for node:7.3.0\n ---> d1699fb7d2bf\nStep 2/12 : MAINTAINER Matheus Lucca do Carmo <mematheuslc@gmail.com>\n ---> Running in c55a27d336ac\nRemoving intermediate container c55a27d336ac\n ---> 488e266e08f9\nStep 3/12 : RUN mkdir /usr/src/shorts\n ---> Running in 19faa1bc292d\nRemoving intermediate container 19faa1bc292d\n ---> 8d74ceccdd40\nStep 4/12 : ADD . /usr/src/shorts\n ---> b939e82c6fe8\nStep 5/12 : RUN cd /usr/src/shorts\n ---> Running in 2cc1d62c79bb\nRemoving intermediate container 2cc1d62c79bb\n ---> 557790f283df\nStep 6/12 : RUN chmod +xr /usr/src/shorts/bin/www\n ---> Running in d7aca10d907e\nRemoving intermediate container d7aca10d907e\n ---> 74129623bc58\nStep 7/12 : RUN npm install -g yarn\n ---> Running in ffc602a2088e\n\u001b[91mnpm\u001b[0m\u001b[91m info it worked if it ends with ok\n\u001b[0m\u001b[91mnpm info using npm@3.10.10\nnpm \u001b[0m\u001b[91minfo using\u001b[0m\u001b[91m node@v7.3.0\n\u001b[0m\u001b[91mnpm info\u001b[0m\u001b[91m attempt\u001b[0m\u001b[91m registry request try #1 at 9:30:00 PM\n\u001b[0m\u001b[91mnpm http \u001b[0m\u001b[91mrequest GET https://registry.npmjs.org/yarn\n\u001b[0m\u001b[91mnpm http 200 https://registry.npmjs.org/yarn\n\u001b[0m\u001b[91mnpm info addNameTag [ 'yarn', 'latest' ]\n\u001b[0m\u001b[91mnpm info retry fetch attempt 1 at 9:30:01 PM\n\u001b[0m\u001b[91mnpm info attempt registry request try #1 at 9:30:01 PM\n\u001b[0m\u001b[91mnpm http fetch GET https://registry.npmjs.org/yarn/-/yarn-1.22.19.tgz\n\u001b[0m\u001b[91mnpm http \u001b[0m\u001b[91mfetch 200 https://registry.npmjs.org/yarn/-/yarn-1.22.19.tgz\n\u001b[0m\u001b[91mnpm info \u001b[0m\u001b[91mlifecycle yarn@1.22.19~preinstall: yarn@1.22.19\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m lifecycle yarn@1.22.19~preinstall: cannot run in wd %s %s (wd=%s) yarn@1.22.19 :; (node ./preinstall.js > /dev/null 2>&1 || true) /usr/local/lib/node_modules/.staging/yarn-53412bb0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91minfo linkStuff\u001b[0m\u001b[91m yarn@1.22.19\n\u001b[0m/usr/local/bin/yarnpkg -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n/usr/local/bin/yarn -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n\u001b[91mnpm info lifecycle yarn@1.22.19~install: yarn@1.22.19\n\u001b[0m\u001b[91mnpm info lifecycle yarn@1.22.19~postinstall: yarn@1.22.19\n\u001b[0m/usr/local/lib\n`-- yarn@1.22.19 \n\n\u001b[91mnpm info ok \n\u001b[0mRemoving intermediate container ffc602a2088e\n ---> faa55b29b20b\nStep 8/12 : RUN yarn\n ---> Running in 4aa730a2ee84\nyarn install v1.22.19\n\u001b[91mwarning You are using Node \"7.3.0\" which is not supported and may encounter bugs or unexpected behavior. Yarn supports the following semver range: \"^4.8.0 || ^5.7.0 || ^6.2.2 || >=8.0.0\"\n\u001b[0minfo No lockfile found.\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 0.04s.\nRemoving intermediate container 4aa730a2ee84\n ---> b09691063b75\nStep 9/12 : EXPOSE 3000\n ---> Running in e70a05b3458a\nRemoving intermediate container e70a05b3458a\n ---> 87a42d7fa5c4\nStep 10/12 : VOLUME /usr/src/shorts\n ---> Running in e20fc4e830da\nRemoving intermediate container e20fc4e830da\n ---> 6afda3034249\nStep 11/12 : WORKDIR /usr/src/shorts\n ---> Running in 9314c72ca240\nRemoving intermediate container 9314c72ca240\n ---> 5cd6b40849dd\nStep 12/12 : CMD yarn run start\n ---> Running in ed5d35d5afcc\nRemoving intermediate container ed5d35d5afcc\n ---> b8abc9d115bd\nSuccessfully built b8abc9d115bd\nSuccessfully tagged shorts:latest\n","stderr":"","imageSize":672193729},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":23}},{"name":"mkdirUsrSrcThenRemove","position":{"start":4,"end":4,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:7.3.0\n\nMAINTAINER Matheus Lucca do Carmo <mematheuslc@gmail.com>\n\nRUN mkdir /usr/src/shorts\n\nADD . /usr/src/shorts\n\nRUN cd /usr/src/shorts\n\nRUN chmod +xr /usr/src/shorts/bin/www\n\nRUN npm install -g yarn\n\nRUN yarn\n\nEXPOSE 3000\n\nVOLUME /usr/src/shorts\n\nWORKDIR /usr/src/shorts\n\nCMD yarn run start"},"repairedBuild":{"startTimestamp":1672435813397,"endTimestamp":1672435836138,"error":null,"stdout":"Sending build context to Docker daemon  569.9kB\r\r\nStep 1/12 : FROM node:7.3.0\n ---> d1699fb7d2bf\nStep 2/12 : MAINTAINER Matheus Lucca do Carmo <mematheuslc@gmail.com>\n ---> Running in bc1ccfcad50b\nRemoving intermediate container bc1ccfcad50b\n ---> 6d01cafff85b\nStep 3/12 : RUN mkdir /usr/src/shorts\n ---> Running in 9223b69b667f\nRemoving intermediate container 9223b69b667f\n ---> 0188f5012018\nStep 4/12 : ADD . /usr/src/shorts\n ---> 36ec20df76cd\nStep 5/12 : RUN cd /usr/src/shorts\n ---> Running in 92632a02ac72\nRemoving intermediate container 92632a02ac72\n ---> 6ad38a937020\nStep 6/12 : RUN chmod +xr /usr/src/shorts/bin/www\n ---> Running in 8b57b0658832\nRemoving intermediate container 8b57b0658832\n ---> 87c12f72babf\nStep 7/12 : RUN npm install -g yarn\n ---> Running in 4e35fa769f87\n\u001b[91mnpm\u001b[0m\u001b[91m info it worked if it ends with\u001b[0m\u001b[91m ok\n\u001b[0m\u001b[91mnpm info using\u001b[0m\u001b[91m npm@3.10.10\nnpm info\u001b[0m\u001b[91m using\u001b[0m\u001b[91m node@v7.3.0\n\u001b[0m\u001b[91mnpm info \u001b[0m\u001b[91mattempt\u001b[0m\u001b[91m registry request try #1 at 9:30:29 PM\n\u001b[0m\u001b[91mnpm http request GET https://registry.npmjs.org/yarn\n\u001b[0m\u001b[91mnpm http 200 https://registry.npmjs.org/yarn\n\u001b[0m\u001b[91mnpm info addNameTag [ 'yarn', 'latest' ]\n\u001b[0m\u001b[91mnpm info retry fetch attempt 1 at 9:30:29 PM\n\u001b[0m\u001b[91mnpm info\u001b[0m\u001b[91m attempt registry request try #1 at 9:30:29 PM\n\u001b[0m\u001b[91mnpm http\u001b[0m\u001b[91m \u001b[0m\u001b[91mfetch\u001b[0m\u001b[91m GET https://registry.npmjs.org/yarn/-/yarn-1.22.19.tgz\n\u001b[0m\u001b[91mnpm http \u001b[0m\u001b[91mfetch 200 https://registry.npmjs.org/yarn/-/yarn-1.22.19.tgz\n\u001b[0m\u001b[91mnpm info lifecycle yarn@1.22.19~preinstall: yarn@1.22.19\n\u001b[0m\u001b[91mnpm WARN lifecycle yarn@1.22.19~preinstall: cannot run in wd %s %s (wd=%s) yarn@1.22.19 :; (node ./preinstall.js > /dev/null 2>&1 || true) /usr/local/lib/node_modules/.staging/yarn-53412bb0\n\u001b[0m\u001b[91mnpm info linkStuff yarn@1.22.19\n\u001b[0m/usr/local/bin/yarnpkg -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n/usr/local/bin/yarn -> /usr/local/lib/node_modules/yarn/bin/yarn.js\n\u001b[91mnpm info lifecycle yarn@1.22.19~install: yarn@1.22.19\n\u001b[0m\u001b[91mnpm info lifecycle yarn@1.22.19~postinstall: yarn@1.22.19\n\u001b[0m/usr/local/lib\n`-- yarn@1.22.19 \n\n\u001b[91mnpm info ok \n\u001b[0mRemoving intermediate container 4e35fa769f87\n ---> 2688314ef06b\nStep 8/12 : RUN yarn\n ---> Running in fab14f32ba46\nyarn install v1.22.19\n\u001b[91mwarning You are using Node \"7.3.0\" which is not supported and may encounter bugs or unexpected behavior. Yarn supports the following semver range: \"^4.8.0 || ^5.7.0 || ^6.2.2 || >=8.0.0\"\n\u001b[0minfo No lockfile found.\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 0.07s.\nRemoving intermediate container fab14f32ba46\n ---> 1d1687a8fb8e\nStep 9/12 : EXPOSE 3000\n ---> Running in d4a924a27de3\nRemoving intermediate container d4a924a27de3\n ---> d5267ebbf960\nStep 10/12 : VOLUME /usr/src/shorts\n ---> Running in 49eaeb44bba3\nRemoving intermediate container 49eaeb44bba3\n ---> 3f851ec803c9\nStep 11/12 : WORKDIR /usr/src/shorts\n ---> Running in 68e6cd0306c9\nRemoving intermediate container 68e6cd0306c9\n ---> fe69517a3da7\nStep 12/12 : CMD yarn run start\n ---> Running in d8aad57c9ed4\nRemoving intermediate container d8aad57c9ed4\n ---> 5c4de777f875\nSuccessfully built 5c4de777f875\nSuccessfully tagged shorts:latest\n","stderr":"","imageSize":672193729},"endTime":1672435836416}