{"repository":"https://github.com/everpeace/kube-throttler","dockerfilePath":"Dockerfile","startTime":1672560657470,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/everpeace/kube-throttler'...\n","error":null,"commit":"c2394bee0777c80fdec53d469345a7bbb8bd41a0"},"originalBuild":{"startTimestamp":1672560658525,"endTimestamp":1672560878245,"error":null,"stdout":"Sending build context to Docker daemon  722.4kB\r\r\nStep 1/15 : FROM golang:1.18 as builder\n1.18: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Already exists\n160a777925fe: Pulling fs layer\n1be94824532a: Pulling fs layer\n1be94824532a: Verifying Checksum\n1be94824532a: Download complete\n160a777925fe: Download complete\n160a777925fe: Pull complete\n1be94824532a: Pull complete\nDigest: sha256:00d63686b480f6dc866e93ddc4b29efa2db03274a687e6495c2cfbfe615d638e\nStatus: Downloaded newer image for golang:1.18\n ---> fffd0d9a59da\nStep 2/15 : ARG RELEASE\n ---> Running in 71c6a2de02c6\nRemoving intermediate container 71c6a2de02c6\n ---> ea4f458d57f7\nStep 3/15 : ARG VERSION\n ---> Running in a240e5db36de\nRemoving intermediate container a240e5db36de\n ---> 9fb96397ab40\nStep 4/15 : WORKDIR /workspace\n ---> Running in d5b108c0d2f3\nRemoving intermediate container d5b108c0d2f3\n ---> 4764fc928f07\nStep 5/15 : COPY go.mod go.mod\n ---> 77a8ad228fc6\nStep 6/15 : COPY go.sum go.sum\n ---> 29bc87ba0d03\nStep 7/15 : RUN go mod download\n ---> Running in 922399e330c8\nRemoving intermediate container 922399e330c8\n ---> 09b8b3491963\nStep 8/15 : COPY . /workspace\n ---> d6e7e77fb74c\nStep 9/15 : RUN make build-only\n ---> Running in 78c4446b24c3\ngo build -tags netgo -installsuffix netgo -ldflags=\"-s -w -X github.com/everpeace/kube-throttler/cmd.Revision=c2394be -extldflags \\\"-static\\\"\" -o ./dist/kube-throttler .\nRemoving intermediate container 78c4446b24c3\n ---> 2810f83d85a1\nStep 10/15 : FROM ubuntu:18.04 as runtime\n ---> 251b86c83674\nStep 11/15 : RUN apt-get update && apt-get install -y ca-certificates && apt-get clean && rm -rf /var/lib/apt/lists/*\n ---> Running in aca991e77dfe\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\nGet:3 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [1311 kB]\nGet:4 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [3099 kB]\nGet:5 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [22.9 kB]\nGet:6 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [1568 kB]\nGet:7 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\nGet:8 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [83.3 kB]\nGet:9 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\nGet:10 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\nGet:11 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\nGet:12 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [2342 kB]\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [3524 kB]\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [1352 kB]\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [30.0 kB]\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [64.0 kB]\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [20.5 kB]\nFetched 26.7 MB in 3s (8505 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2056 kB of archives.\nAfter this operation, 5657 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libssl1.1 amd64 1.1.1-1ubuntu2.1~18.04.20 [1302 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 openssl amd64 1.1.1-1ubuntu2.1~18.04.20 [614 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 ca-certificates all 20211016ubuntu0.18.04.1 [140 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2056 kB in 0s (6953 kB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4051 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20211016ubuntu0.18.04.1_all.deb ...\r\nUnpacking ca-certificates (20211016ubuntu0.18.04.1) ...\r\nSetting up libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSetting up ca-certificates (20211016ubuntu0.18.04.1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n124 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.27-3ubuntu1.6) ...\r\nProcessing triggers for ca-certificates (20211016ubuntu0.18.04.1) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container aca991e77dfe\n ---> 208b4a38c3c5\nStep 12/15 : WORKDIR /\n ---> Running in ad0b49e1f150\nRemoving intermediate container ad0b49e1f150\n ---> 2f571904ec95\nStep 13/15 : COPY --from=builder /workspace/dist/kube-throttler /usr/local/bin/kube-throttler\n ---> fec3d030d8df\nStep 14/15 : ENTRYPOINT [\"/usr/local/bin/kube-throttler\"]\n ---> Running in 3b64d7859801\nRemoving intermediate container 3b64d7859801\n ---> 816dd9cfedf1\nStep 15/15 : CMD [\"kube-scheduler\"]\n ---> Running in 8d540db06178\nRemoving intermediate container 8d540db06178\n ---> 9d716fa0766a\nSuccessfully built 9d716fa0766a\nSuccessfully tagged kube-throttler:latest\n","stderr":"","imageSize":116370968},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":12,"end":12,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"FROM golang:1.18 as builder\nARG RELEASE\nARG VERSION\nWORKDIR /workspace\nCOPY go.mod go.mod\nCOPY go.sum go.sum\nRUN go mod download\n\nCOPY . /workspace\nRUN make build-only\n\nFROM ubuntu:18.04 as runtime\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get clean && rm -rf /var/lib/apt/lists/*\nWORKDIR /\nCOPY --from=builder /workspace/dist/kube-throttler /usr/local/bin/kube-throttler\nENTRYPOINT [\"/usr/local/bin/kube-throttler\"]\nCMD [\"kube-scheduler\"]\n"},"repairedBuild":{"startTimestamp":1672560878557,"endTimestamp":1672561023081,"error":null,"stdout":"Sending build context to Docker daemon  722.4kB\r\r\nStep 1/15 : FROM golang:1.18 as builder\n ---> fffd0d9a59da\nStep 2/15 : ARG RELEASE\n ---> Running in 0464cefbbd1b\nRemoving intermediate container 0464cefbbd1b\n ---> 43d6b5e94c54\nStep 3/15 : ARG VERSION\n ---> Running in c723d461784b\nRemoving intermediate container c723d461784b\n ---> 4bae739892cf\nStep 4/15 : WORKDIR /workspace\n ---> Running in a4d9af2974ef\nRemoving intermediate container a4d9af2974ef\n ---> d2455b450c78\nStep 5/15 : COPY go.mod go.mod\n ---> 3befc2128bd3\nStep 6/15 : COPY go.sum go.sum\n ---> e8b44bc73a60\nStep 7/15 : RUN go mod download\n ---> Running in 04a52509e832\nRemoving intermediate container 04a52509e832\n ---> afe33408112b\nStep 8/15 : COPY . /workspace\n ---> c0cbd3d2bdac\nStep 9/15 : RUN make build-only\n ---> Running in 928b834c0956\ngo build -tags netgo -installsuffix netgo -ldflags=\"-s -w -X github.com/everpeace/kube-throttler/cmd.Revision=c2394be -extldflags \\\"-static\\\"\" -o ./dist/kube-throttler .\nRemoving intermediate container 928b834c0956\n ---> e6601c4b684d\nStep 10/15 : FROM ubuntu:18.04 as runtime\n ---> 251b86c83674\nStep 11/15 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get clean && rm -rf /var/lib/apt/lists/*\n ---> Running in ff2e743654ea\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\nGet:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [83.3 kB]\nGet:5 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [22.9 kB]\nGet:6 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [1311 kB]\nGet:7 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [3099 kB]\nGet:8 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [1568 kB]\nGet:9 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\nGet:10 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\nGet:11 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\nGet:12 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [30.0 kB]\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [2342 kB]\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [1352 kB]\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [3524 kB]\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [20.5 kB]\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [64.0 kB]\nFetched 26.7 MB in 4s (7048 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libssl1.1 openssl\nThe following NEW packages will be installed:\n  ca-certificates libssl1.1 openssl\n0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 2056 kB of archives.\nAfter this operation, 5657 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libssl1.1 amd64 1.1.1-1ubuntu2.1~18.04.20 [1302 kB]\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 openssl amd64 1.1.1-1ubuntu2.1~18.04.20 [614 kB]\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 ca-certificates all 20211016ubuntu0.18.04.1 [140 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2056 kB in 0s (7275 kB/s)\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 4051 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.1_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../openssl_1.1.1-1ubuntu2.1~18.04.20_amd64.deb ...\r\nUnpacking openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20211016ubuntu0.18.04.1_all.deb ...\r\nUnpacking ca-certificates (20211016ubuntu0.18.04.1) ...\r\nSetting up libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.20) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up openssl (1.1.1-1ubuntu2.1~18.04.20) ...\r\nSetting up ca-certificates (20211016ubuntu0.18.04.1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n124 added, 0 removed; done.\r\nProcessing triggers for libc-bin (2.27-3ubuntu1.6) ...\r\nProcessing triggers for ca-certificates (20211016ubuntu0.18.04.1) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container ff2e743654ea\n ---> e63f6a168094\nStep 12/15 : WORKDIR /\n ---> Running in 5bf67fe2b615\nRemoving intermediate container 5bf67fe2b615\n ---> 4a2fde64aeba\nStep 13/15 : COPY --from=builder /workspace/dist/kube-throttler /usr/local/bin/kube-throttler\n ---> 0b7390f885fa\nStep 14/15 : ENTRYPOINT [\"/usr/local/bin/kube-throttler\"]\n ---> Running in 6e01904e47e6\nRemoving intermediate container 6e01904e47e6\n ---> e3ffceaf466e\nStep 15/15 : CMD [\"kube-scheduler\"]\n ---> Running in f39a78f4a3fe\nRemoving intermediate container f39a78f4a3fe\n ---> dbe4ee3fac80\nSuccessfully built dbe4ee3fac80\nSuccessfully tagged kube-throttler:latest\n","stderr":"","imageSize":116370992},"endTime":1672561023414}