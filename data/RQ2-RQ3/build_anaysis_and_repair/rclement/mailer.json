{"repository":"https://github.com/rclement/mailer","dockerfilePath":"Dockerfile","startTime":1672141398815,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/rclement/mailer'...\n","error":null,"commit":"fdac4657ac50f6e77161eb379640d28f2a4a81af"},"originalBuild":{"startTimestamp":1672141399810,"endTimestamp":1672141490767,"error":null,"stdout":"Sending build context to Docker daemon  168.4kB\r\r\nStep 1/19 : FROM python:3.10.8-slim\n3.10.8-slim: Pulling from library/python\n025c56f98b67: Pulling fs layer\n778656c04542: Pulling fs layer\n85485c9f43dd: Pulling fs layer\n23b3c91f0de2: Pulling fs layer\nfd19b936aab8: Pulling fs layer\n23b3c91f0de2: Waiting\nfd19b936aab8: Waiting\n778656c04542: Verifying Checksum\n778656c04542: Download complete\n85485c9f43dd: Verifying Checksum\n85485c9f43dd: Download complete\n23b3c91f0de2: Download complete\n025c56f98b67: Verifying Checksum\n025c56f98b67: Download complete\nfd19b936aab8: Verifying Checksum\nfd19b936aab8: Download complete\n025c56f98b67: Pull complete\n778656c04542: Pull complete\n85485c9f43dd: Pull complete\n23b3c91f0de2: Pull complete\nfd19b936aab8: Pull complete\nDigest: sha256:abf96998af340975c26177b900c10cfb40716c985325303c063736f0f5cf3171\nStatus: Downloaded newer image for python:3.10.8-slim\n ---> a13ecd100973\nStep 2/19 : ENV APP_USER=app\n ---> Running in da0a4e5463e7\nRemoving intermediate container da0a4e5463e7\n ---> 1ec505320214\nStep 3/19 : ENV APP_GROUP=app\n ---> Running in 90986bef8fe2\nRemoving intermediate container 90986bef8fe2\n ---> 14dd0e1e4cff\nStep 4/19 : ENV APP_ROOT=/home/${APP_USER}\n ---> Running in d1f1c745277b\nRemoving intermediate container d1f1c745277b\n ---> 2338cd8ff35b\nStep 5/19 : RUN mkdir -p ${APP_ROOT}\n ---> Running in e5eb18201cb7\nRemoving intermediate container e5eb18201cb7\n ---> d388454516f8\nStep 6/19 : WORKDIR ${APP_ROOT}\n ---> Running in 0482f632a83d\nRemoving intermediate container 0482f632a83d\n ---> 1db771a2b5a9\nStep 7/19 : RUN set -ex && pip install --upgrade pip && pip install pipenv\n ---> Running in 6c03a41d5dc8\n\u001b[91m+ pip install --upgrade pip\n\u001b[0mRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.2.2)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 24.1 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.2.2\n    Uninstalling pip-22.2.2:\n      Successfully uninstalled pip-22.2.2\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91m+ pip install pipenv\n\u001b[0mCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 34.8 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 39.4 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 9.2 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.10/site-packages (from pipenv) (63.2.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.0-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 23.1 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.8.2-py3-none-any.whl (10 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.8.2 pipenv-2022.12.19 platformdirs-2.6.0 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 6c03a41d5dc8\n ---> 252dfefe7a5b\nStep 8/19 : COPY Pipfile Pipfile\n ---> 495ec662161e\nStep 9/19 : COPY Pipfile.lock Pipfile.lock\n ---> 28b2c4ab286f\nStep 10/19 : RUN set -ex && pipenv install --deploy --system\n ---> Running in 244d298da509\n\u001b[91m+ pipenv install --deploy --system\n\u001b[0mInstalling dependencies from Pipfile.lock (7f722d)...\nRemoving intermediate container 244d298da509\n ---> 88045a5b44a8\nStep 11/19 : RUN groupadd -r ${APP_GROUP} && useradd --no-log-init -r -g ${APP_GROUP} ${APP_USER}\n ---> Running in cbeae0f27841\nRemoving intermediate container cbeae0f27841\n ---> b3eb874792ea\nStep 12/19 : RUN chown -R ${APP_USER}:${APP_GROUP} ${APP_ROOT}\n ---> Running in e41576fcfc1f\nRemoving intermediate container e41576fcfc1f\n ---> 37e913db49b8\nStep 13/19 : USER ${APP_USER}\n ---> Running in 710e3f66e467\nRemoving intermediate container 710e3f66e467\n ---> ffe71925b710\nStep 14/19 : COPY --chown=app:app . ${APP_ROOT}\n ---> c5e787eb1d5f\nStep 15/19 : ENV HOST 0.0.0.0\n ---> Running in ece2eacc2b5a\nRemoving intermediate container ece2eacc2b5a\n ---> fafcbfddf04b\nStep 16/19 : ENV PORT 5000\n ---> Running in febce87a8815\nRemoving intermediate container febce87a8815\n ---> 9715d8f76c65\nStep 17/19 : EXPOSE ${PORT}\n ---> Running in edf84959ef63\nRemoving intermediate container edf84959ef63\n ---> e8a350ff3af5\nStep 18/19 : ENTRYPOINT [\"honcho\", \"start\"]\n ---> Running in 937646f20823\nRemoving intermediate container 937646f20823\n ---> 25321061081f\nStep 19/19 : CMD [\"web\"]\n ---> Running in ba7c7bad819b\nRemoving intermediate container ba7c7bad819b\n ---> 40dab3ca5039\nSuccessfully built 40dab3ca5039\nSuccessfully tagged mailer:latest\n","stderr":"","imageSize":323672014},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":9,"end":9,"columnStart":15,"columnEnd":40}},{"name":"pipUseNoCacheDir","position":{"start":9,"end":9,"columnStart":44,"columnEnd":62}}],"repairedDockerfile":"FROM python:3.10.8-slim\n\nENV APP_USER=app\nENV APP_GROUP=app\nENV APP_ROOT=/home/${APP_USER}\n\nRUN mkdir -p ${APP_ROOT}\nWORKDIR ${APP_ROOT}\n\nRUN set -ex && pip install --no-cache-dir --upgrade pip && pip install --no-cache-dir pipenv\n\nCOPY Pipfile Pipfile\nCOPY Pipfile.lock Pipfile.lock\n\nRUN set -ex && pipenv install --deploy --system\n\nRUN groupadd -r ${APP_GROUP} && useradd --no-log-init -r -g ${APP_GROUP} ${APP_USER}\nRUN chown -R ${APP_USER}:${APP_GROUP} ${APP_ROOT}\nUSER ${APP_USER}\n\nCOPY --chown=app:app . ${APP_ROOT}\n\nENV HOST 0.0.0.0\nENV PORT 5000\n\nEXPOSE ${PORT}\n\nENTRYPOINT [\"honcho\", \"start\"]\nCMD [\"web\"]\n"},"repairedBuild":{"startTimestamp":1672141491356,"endTimestamp":1672141557803,"error":null,"stdout":"Sending build context to Docker daemon  168.4kB\r\r\nStep 1/19 : FROM python:3.10.8-slim\n ---> a13ecd100973\nStep 2/19 : ENV APP_USER=app\n ---> Running in 34ea96ef4e0d\nRemoving intermediate container 34ea96ef4e0d\n ---> 97fe12ea29a6\nStep 3/19 : ENV APP_GROUP=app\n ---> Running in 910edd34b00c\nRemoving intermediate container 910edd34b00c\n ---> 3403d6eaa675\nStep 4/19 : ENV APP_ROOT=/home/${APP_USER}\n ---> Running in cf88dd920353\nRemoving intermediate container cf88dd920353\n ---> 20ccff5033eb\nStep 5/19 : RUN mkdir -p ${APP_ROOT}\n ---> Running in 8155f2f7fe4b\nRemoving intermediate container 8155f2f7fe4b\n ---> 6b24d2a8f7b3\nStep 6/19 : WORKDIR ${APP_ROOT}\n ---> Running in 1eba84630c5e\nRemoving intermediate container 1eba84630c5e\n ---> 94177df859cf\nStep 7/19 : RUN set -ex && pip install --no-cache-dir --upgrade pip && pip install --no-cache-dir pipenv\n ---> Running in 8f6418d7c84a\n\u001b[91m+ pip install --no-cache-dir --upgrade pip\n\u001b[0mRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.2.2)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 112.1 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.2.2\n    Uninstalling pip-22.2.2:\n      Successfully uninstalled pip-22.2.2\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91m+ pip install --no-cache-dir pipenv\n\u001b[0mCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 111.7 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.10/site-packages (from pipenv) (63.2.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 336.5 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 116.1 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.8.2-py3-none-any.whl (10 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.0-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 181.4 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.8.2 pipenv-2022.12.19 platformdirs-2.6.0 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 8f6418d7c84a\n ---> 8f454009f116\nStep 8/19 : COPY Pipfile Pipfile\n ---> 1945118647dc\nStep 9/19 : COPY Pipfile.lock Pipfile.lock\n ---> f956a6c1608a\nStep 10/19 : RUN set -ex && pipenv install --deploy --system\n ---> Running in f72abeab7cf0\n\u001b[91m+ pipenv install --deploy --system\n\u001b[0mInstalling dependencies from Pipfile.lock (7f722d)...\nRemoving intermediate container f72abeab7cf0\n ---> d619d90b0ebe\nStep 11/19 : RUN groupadd -r ${APP_GROUP} && useradd --no-log-init -r -g ${APP_GROUP} ${APP_USER}\n ---> Running in 949a4bd02c65\nRemoving intermediate container 949a4bd02c65\n ---> f88ff4697baa\nStep 12/19 : RUN chown -R ${APP_USER}:${APP_GROUP} ${APP_ROOT}\n ---> Running in d6b94f71808e\nRemoving intermediate container d6b94f71808e\n ---> 720af6ade716\nStep 13/19 : USER ${APP_USER}\n ---> Running in 733d6d1814b1\nRemoving intermediate container 733d6d1814b1\n ---> cb720c987e34\nStep 14/19 : COPY --chown=app:app . ${APP_ROOT}\n ---> 9744142ae5bb\nStep 15/19 : ENV HOST 0.0.0.0\n ---> Running in b94441b68b20\nRemoving intermediate container b94441b68b20\n ---> efb96d333532\nStep 16/19 : ENV PORT 5000\n ---> Running in 1b6fd90bc7a7\nRemoving intermediate container 1b6fd90bc7a7\n ---> 6c0e663d41c1\nStep 17/19 : EXPOSE ${PORT}\n ---> Running in bb493ca40a33\nRemoving intermediate container bb493ca40a33\n ---> f35fae2e96c3\nStep 18/19 : ENTRYPOINT [\"honcho\", \"start\"]\n ---> Running in ab7fc7408bbf\nRemoving intermediate container ab7fc7408bbf\n ---> 7c6778b3fdfd\nStep 19/19 : CMD [\"web\"]\n ---> Running in 457bee277686\nRemoving intermediate container 457bee277686\n ---> af563e1b7ae7\nSuccessfully built af563e1b7ae7\nSuccessfully tagged mailer:latest\n","stderr":"","imageSize":309090296},"endTime":1672141558249}