{"repository":"https://github.com/pololacoste/r6-api","dockerfilePath":"Dockerfile","startTime":1672369273027,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pololacoste/r6-api'...\n","error":null,"commit":"da8a75e76c0e214038d471794f584889b4624535"},"originalBuild":{"startTimestamp":1672369273938,"endTimestamp":1672369441538,"error":null,"stdout":"Sending build context to Docker daemon   1.01MB\r\r\nStep 1/11 : FROM node:16.15.0-alpine as builder\n16.15.0-alpine: Pulling from library/node\ndf9b9388f04a: Already exists\n70c90f7de7cb: Pulling fs layer\nf83937c3ce37: Pulling fs layer\n98b78bba1d70: Pulling fs layer\n98b78bba1d70: Verifying Checksum\n98b78bba1d70: Download complete\nf83937c3ce37: Verifying Checksum\nf83937c3ce37: Download complete\n70c90f7de7cb: Verifying Checksum\n70c90f7de7cb: Download complete\n70c90f7de7cb: Pull complete\nf83937c3ce37: Pull complete\n98b78bba1d70: Pull complete\nDigest: sha256:1a9a71ea86aad332aa7740316d4111ee1bd4e890df47d3b5eff3e5bded3b3d10\nStatus: Downloaded newer image for node:16.15.0-alpine\n ---> e5065cc78074\nStep 2/11 : WORKDIR /usr/src/app\n ---> Running in a7fc9217352a\nRemoving intermediate container a7fc9217352a\n ---> 95e75bd8028e\nStep 3/11 : COPY . .\n ---> 1f64766e587f\nStep 4/11 : RUN npm install\n ---> Running in 6fa7236c632b\n\nadded 775 packages, and audited 776 packages in 16s\n\n85 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.5 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container 6fa7236c632b\n ---> 0d5c87f2adfa\nStep 5/11 : RUN npm run build\n ---> Running in 8e5f1012535b\n\n> r6-api@1.5.0 prebuild\n> rimraf dist\n\n\n> r6-api@1.5.0 build\n> nest build\n\n\u001b[91mDeprecationWarning: 'getMutableClone' has been deprecated since v4.0.0. Use an appropriate `factory.update...` method instead, use `setCommentRange` or `setSourceMapRange`, and avoid setting `parent`.\n\u001b[0m\u001b[91mDeprecationWarning: 'createLiteral' has been deprecated since v4.0.0. Use `factory.createStringLiteral`, `factory.createStringLiteralFromNode`, `factory.createNumericLiteral`, `factory.createBigIntLiteral`, `factory.createTrue`, `factory.createFalse`, or the factory supplied by your transformation context instead.\n\u001b[0mRemoving intermediate container 8e5f1012535b\n ---> ca6712d8a5ea\nStep 6/11 : FROM node:16.15.0-alpine as production\n ---> e5065cc78074\nStep 7/11 : WORKDIR /usr/src/app\n ---> Running in ea6df7b70fda\nRemoving intermediate container ea6df7b70fda\n ---> 93cb315cb86c\nStep 8/11 : COPY ./package.json ./\n ---> bc2ec037c85b\nStep 9/11 : RUN npm install --only=production\n ---> Running in 8fd1e0640c0c\n\nadded 248 packages, and audited 249 packages in 1m\n\n18 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.5 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 8fd1e0640c0c\n ---> d966c2667e79\nStep 10/11 : COPY --from=builder /usr/src/app/dist ./dist\n ---> 399ef6ac6b75\nStep 11/11 : CMD [\"node\", \"dist/main\"]\n ---> Running in 54d0860f22b4\nRemoving intermediate container 54d0860f22b4\n ---> 949074281f42\nSuccessfully built 949074281f42\nSuccessfully tagged r6-api:latest\n","stderr":"","imageSize":281119792},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":4,"columnEnd":33}}],"repairedDockerfile":"FROM node:16.15.0-alpine as builder\n\nWORKDIR /usr/src/app\n\nCOPY . .\n\nRUN npm install\n\nRUN npm run build\n\nFROM node:16.15.0-alpine as production\n\nWORKDIR /usr/src/app\n\nCOPY ./package.json ./\n\nRUN npm install --only=production\n\nCOPY --from=builder /usr/src/app/dist ./dist\n\nCMD [\"node\", \"dist/main\"]"},"repairedBuild":{"startTimestamp":1672369442237,"endTimestamp":1672369556452,"error":null,"stdout":"Sending build context to Docker daemon   1.01MB\r\r\nStep 1/11 : FROM node:16.15.0-alpine as builder\n ---> e5065cc78074\nStep 2/11 : WORKDIR /usr/src/app\n ---> Running in b2f81df72940\nRemoving intermediate container b2f81df72940\n ---> 9c1da6b00403\nStep 3/11 : COPY . .\n ---> 707f2c03342c\nStep 4/11 : RUN npm install\n ---> Running in f2f9f48216ac\n\nadded 775 packages, and audited 776 packages in 17s\n\n85 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (2 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.5 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container f2f9f48216ac\n ---> da11e31a80a1\nStep 5/11 : RUN npm run build\n ---> Running in bcf26f23106c\n\n> r6-api@1.5.0 prebuild\n> rimraf dist\n\n\n> r6-api@1.5.0 build\n> nest build\n\n\u001b[91mDeprecationWarning: 'getMutableClone' has been deprecated since v4.0.0. Use an appropriate `factory.update...` method instead, use `setCommentRange` or `setSourceMapRange`, and avoid setting `parent`.\n\u001b[0m\u001b[91mDeprecationWarning: 'createLiteral' has been deprecated since v4.0.0. Use `factory.createStringLiteral`, `factory.createStringLiteralFromNode`, `factory.createNumericLiteral`, `factory.createBigIntLiteral`, `factory.createTrue`, `factory.createFalse`, or the factory supplied by your transformation context instead.\n\u001b[0mRemoving intermediate container bcf26f23106c\n ---> 150784577a86\nStep 6/11 : FROM node:16.15.0-alpine as production\n ---> e5065cc78074\nStep 7/11 : WORKDIR /usr/src/app\n ---> Running in d7dfbd7455ae\nRemoving intermediate container d7dfbd7455ae\n ---> d025dce26f45\nStep 8/11 : COPY ./package.json ./\n ---> 77feff1d1208\nStep 9/11 : RUN npm install --only=production\n ---> Running in 1b024d717b71\n\nadded 248 packages, and audited 249 packages in 39s\n\n18 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.5.5 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 1b024d717b71\n ---> a457c463822f\nStep 10/11 : COPY --from=builder /usr/src/app/dist ./dist\n ---> 9abae1bc5869\nStep 11/11 : CMD [\"node\", \"dist/main\"]\n ---> Running in e7151c9ee55f\nRemoving intermediate container e7151c9ee55f\n ---> 7e0eea7e5695\nSuccessfully built 7e0eea7e5695\nSuccessfully tagged r6-api:latest\n","stderr":"","imageSize":281119621},"endTime":1672369557035}