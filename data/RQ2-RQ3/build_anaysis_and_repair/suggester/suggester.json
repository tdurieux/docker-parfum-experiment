{"repository":"https://github.com/suggester/suggester","dockerfilePath":"Dockerfile","startTime":1672746261251,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/suggester/suggester'...\n","error":null,"commit":"71b532cdf8e0477863ebe8d4cdf195f4613743ef"},"originalBuild":{"startTimestamp":1672746262336,"endTimestamp":1672746284356,"error":null,"stdout":"Sending build context to Docker daemon  3.792MB\r\r\nStep 1/11 : FROM node:lts-alpine\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/11 : WORKDIR /usr/src/app\n ---> Running in 3b81203b8edd\nRemoving intermediate container 3b81203b8edd\n ---> 8520bae2faf4\nStep 3/11 : RUN apk add git\n ---> Running in 094eca452c28\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nRemoving intermediate container 094eca452c28\n ---> e2f371b0070e\nStep 4/11 : RUN git init\n ---> Running in de4a13a0b067\n\u001b[91mhint: Using 'master' as the name for the initial branch. This default branch name\nhint: is subject to change. To configure the initial branch name to use in all\nhint: of your new repositories, which will suppress this warning, call:\nhint: \nhint: \tgit config --global init.defaultBranch <name>\nhint: \nhint: Names commonly chosen instead of 'master' are 'main', 'trunk' and\nhint: 'development'. The just-created branch can be renamed via this command:\nhint: \nhint: \tgit branch -m <name>\n\u001b[0mInitialized empty Git repository in /usr/src/app/.git/\nRemoving intermediate container de4a13a0b067\n ---> 54d26aba036f\nStep 5/11 : COPY --chown=node:node package.json package-lock.json ./\n ---> 21ec5d381f10\nStep 6/11 : RUN npm ci\n ---> Running in cf7b4192fcad\n\u001b[91mnpm WARN deprecated discord.js@12.5.1: no longer supported\n\u001b[0m\nadded 299 packages, and audited 300 packages in 6s\n\n25 packages are looking for funding\n  run `npm fund` for details\n\n18 vulnerabilities (6 moderate, 9 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container cf7b4192fcad\n ---> 12718f8df2e0\nStep 7/11 : COPY . .\n ---> b16833c26bf5\nStep 8/11 : RUN git submodule add https://github.com/suggester/i18n.git i18n\n ---> Running in d8ee23e871f9\n\u001b[91mCloning into '/usr/src/app/i18n'...\n\u001b[0mRemoving intermediate container d8ee23e871f9\n ---> b59a90a99f0c\nStep 9/11 : RUN git submodule update --init --recursive\n ---> Running in 4f75ad841e9e\nRemoving intermediate container 4f75ad841e9e\n ---> 6a744ca9d44b\nStep 10/11 : USER node\n ---> Running in 472595c7d16b\nRemoving intermediate container 472595c7d16b\n ---> 43801ae35166\nStep 11/11 : CMD npm run start\n ---> Running in 91699d75c3b7\nRemoving intermediate container 91699d75c3b7\n ---> c647ea8b25f3\nSuccessfully built c647ea8b25f3\nSuccessfully tagged suggester:latest\n","stderr":"","imageSize":234905728},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:lts-alpine\n\nWORKDIR /usr/src/app\n\nRUN apk add --no-cache git\nRUN git init\n\nCOPY --chown=node:node package.json package-lock.json ./\nRUN npm ci\n\nCOPY . .\n\nRUN git submodule add https://github.com/suggester/i18n.git i18n\nRUN git submodule update --init --recursive\n\nUSER node\n\nCMD npm run start\n"},"repairedBuild":{"startTimestamp":1672746284810,"endTimestamp":1672746304358,"error":null,"stdout":"Sending build context to Docker daemon  3.792MB\r\r\nStep 1/11 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/11 : WORKDIR /usr/src/app\n ---> Running in a1956960643e\nRemoving intermediate container a1956960643e\n ---> 0aab007bd08a\nStep 3/11 : RUN apk add --no-cache git\n ---> Running in ecff3bf906a3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nRemoving intermediate container ecff3bf906a3\n ---> f659e3e7c681\nStep 4/11 : RUN git init\n ---> Running in fc41d019a7cb\n\u001b[91mhint: Using 'master' as the name for the initial branch. This default branch name\nhint: is subject to change. To configure the initial branch name to use in all\nhint: of your new repositories, which will suppress this warning, call:\nhint: \nhint: \tgit config --global init.defaultBranch <name>\nhint: \nhint: Names commonly chosen instead of 'master' are 'main', 'trunk' and\nhint: 'development'. The just-created branch can be renamed via this command:\nhint: \nhint: \tgit branch -m <name>\n\u001b[0mInitialized empty Git repository in /usr/src/app/.git/\nRemoving intermediate container fc41d019a7cb\n ---> be94f7ca2cf7\nStep 5/11 : COPY --chown=node:node package.json package-lock.json ./\n ---> 2ff9080e9658\nStep 6/11 : RUN npm ci\n ---> Running in fd3caa24c286\n\u001b[91mnpm WARN deprecated discord.js@12.5.1: no longer supported\n\u001b[0m\nadded 299 packages, and audited 300 packages in 6s\n\n25 packages are looking for funding\n  run `npm fund` for details\n\n18 vulnerabilities (6 moderate, 9 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container fd3caa24c286\n ---> c49d2576a09c\nStep 7/11 : COPY . .\n ---> ca4823900d3d\nStep 8/11 : RUN git submodule add https://github.com/suggester/i18n.git i18n\n ---> Running in 2a413055079b\n\u001b[91mCloning into '/usr/src/app/i18n'...\n\u001b[0mRemoving intermediate container 2a413055079b\n ---> 051e7cff9bd0\nStep 9/11 : RUN git submodule update --init --recursive\n ---> Running in a164352a23fa\nRemoving intermediate container a164352a23fa\n ---> f331edabc383\nStep 10/11 : USER node\n ---> Running in 508d2d84f27b\nRemoving intermediate container 508d2d84f27b\n ---> 705b2096e1d9\nStep 11/11 : CMD npm run start\n ---> Running in d4104ced4bcb\nRemoving intermediate container d4104ced4bcb\n ---> 92ff421d39a2\nSuccessfully built 92ff421d39a2\nSuccessfully tagged suggester:latest\n","stderr":"","imageSize":232322817},"endTime":1672746304731}