{"repository":"https://github.com/youpin-city/youpin-bot","dockerfilePath":"Dockerfile","startTime":1672995678324,"endTime":1672995902871,"clone":{"startTime":1672995678324,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/youpin-city/youpin-bot'...\n","error":null,"endTime":1672995679175,"commit":"4509888ff19643c9a0102b7b91240835657c7c55"},"originalBuild":{"startTime":1672995679248,"endTime":1672995769743,"error":null,"stdout":"Sending build context to Docker daemon  1.069MB\r\r\nStep 1/10 : FROM showpiper/alpine-node-yarn\nlatest: Pulling from showpiper/alpine-node-yarn\n3690ec4760f9: Pulling fs layer\nb07b50639519: Pulling fs layer\nb7609cea267f: Pulling fs layer\n3690ec4760f9: Verifying Checksum\n3690ec4760f9: Download complete\n3690ec4760f9: Pull complete\nb07b50639519: Verifying Checksum\nb07b50639519: Download complete\nb7609cea267f: Verifying Checksum\nb7609cea267f: Download complete\nb07b50639519: Pull complete\nb7609cea267f: Pull complete\nDigest: sha256:79bf647eeaafa5ea6eb4ee5c069c4a1567e4afec7292693c56fead1ea43f3cef\nStatus: Downloaded newer image for showpiper/alpine-node-yarn:latest\n ---> f8a5595aa9de\nStep 2/10 : MAINTAINER YouPin Team <dev@youpin.city>\n ---> Running in 59d9cd21807e\nRemoving intermediate container 59d9cd21807e\n ---> cc26d5624a1c\nStep 3/10 : RUN apk add --update g++ make python\n ---> Running in 241e6f8830a1\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\n(1/27) Upgrading musl (1.1.14-r13 -> 1.1.14-r16)\n(2/27) Installing binutils-libs (2.26-r1)\n(3/27) Installing binutils (2.26-r1)\n(4/27) Installing gmp (6.1.0-r0)\n(5/27) Installing isl (0.14.1-r0)\n(6/27) Installing libgomp (5.3.0-r0)\n(7/27) Installing libatomic (5.3.0-r0)\n(8/27) Installing pkgconf (0.9.12-r0)\n(9/27) Installing pkgconfig (0.25-r1)\n(10/27) Installing mpfr3 (3.1.2-r0)\n(11/27) Installing mpc1 (1.0.3-r0)\n(12/27) Installing gcc (5.3.0-r0)\n(13/27) Installing musl-dev (1.1.14-r16)\n(14/27) Installing libc-dev (0.7-r0)\n(15/27) Installing g++ (5.3.0-r0)\n(16/27) Upgrading musl-utils (1.1.14-r13 -> 1.1.14-r16)\n(17/27) Installing make (4.1-r1)\n(18/27) Installing libbz2 (1.0.6-r5)\n(19/27) Installing expat (2.2.0-r1)\n(20/27) Installing libffi (3.2.1-r2)\n(21/27) Installing gdbm (1.11-r1)\n(22/27) Installing ncurses-terminfo-base (6.0_p20171125-r0)\n(23/27) Installing ncurses-terminfo (6.0_p20171125-r0)\n(24/27) Installing ncurses-libs (6.0_p20171125-r0)\n(25/27) Installing readline (6.3.008-r4)\n(26/27) Installing sqlite-libs (3.13.0-r2)\n(27/27) Installing python (2.7.14-r0)\nExecuting busybox-1.24.2-r11.trigger\nOK: 203 MiB in 38 packages\nRemoving intermediate container 241e6f8830a1\n ---> 96cb4a185467\nStep 4/10 : RUN npm install -g pm2\n ---> Running in d40a2803ce81\n\u001b[91mError: could not get uid/gid\n[ 'nobody', 0 ]\n\n    at /usr/lib/node_modules/npm/node_modules/uid-number/uid-number.js:37:16\n    at ChildProcess.exithandler (child_process.js:213:5)\n    at emitTwo (events.js:106:13)\n    at ChildProcess.emit (events.js:191:7)\n    at maybeClose (internal/child_process.js:877:16)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5)\n\u001b[0m\u001b[91m\n\u001b[0mRemoving intermediate container d40a2803ce81\n ---> a3002e97a656\nStep 5/10 : COPY package.json /code/package.json\n ---> 43a2dfa90151\nStep 6/10 : COPY yarn.lock /code/yarn.lock\n ---> 598bceb8cafc\nStep 7/10 : RUN cd /code && yarn\n ---> Running in 7ddb34e32d61\nyarn install v0.17.6\n\u001b[91mwarning youpin@1.0.0: \"dependencies\" has dependency \"bluebird\" with range \"^3.4.3\" that collides with a dependency in \"devDependencies\" of the same name with version \"^3.4.6\"\n\u001b[0m[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 8.26s.\nRemoving intermediate container 7ddb34e32d61\n ---> cdf3641a8f1f\nStep 8/10 : COPY . /code\n ---> 0edd98804caf\nStep 9/10 : WORKDIR /code\n ---> Running in 849f03c61af0\nRemoving intermediate container 849f03c61af0\n ---> fae04354dd17\nStep 10/10 : CMD [\"node\", \"app.js\"]\n ---> Running in 8ae127d79870\nRemoving intermediate container 8ae127d79870\n ---> de236c6699e4\nSuccessfully built de236c6699e4\nSuccessfully tagged youpin-bot:latest\n","stderr":"","imageSize":328399138},"repair":{"startTime":1672995769805,"endTime":1672995769905,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":22}},{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM showpiper/alpine-node-yarn\n\nMAINTAINER YouPin Team <dev@youpin.city>\n\nRUN apk add --no-cache --update g++ make python\n\nRUN npm install -g pm2 && npm cache clean --force;\n\nCOPY package.json /code/package.json\nCOPY yarn.lock /code/yarn.lock\nRUN cd /code && yarn\n\nCOPY . /code\n\nWORKDIR /code\n\nCMD [\"node\", \"app.js\"]\n"},"repairedBuild":{"startTime":1672995773111,"endTime":1672995901745,"error":null,"stdout":"Sending build context to Docker daemon  1.069MB\r\r\nStep 1/10 : FROM showpiper/alpine-node-yarn\n ---> f8a5595aa9de\nStep 2/10 : MAINTAINER YouPin Team <dev@youpin.city>\n ---> Running in b6211d4f50bc\nRemoving intermediate container b6211d4f50bc\n ---> b985b2f25f2a\nStep 3/10 : RUN apk add --no-cache --update g++ make python\n ---> Running in e06573d0e8c2\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.4/community/x86_64/APKINDEX.tar.gz\n(1/27) Upgrading musl (1.1.14-r13 -> 1.1.14-r16)\n(2/27) Installing binutils-libs (2.26-r1)\n(3/27) Installing binutils (2.26-r1)\n(4/27) Installing gmp (6.1.0-r0)\n(5/27) Installing isl (0.14.1-r0)\n(6/27) Installing libgomp (5.3.0-r0)\n(7/27) Installing libatomic (5.3.0-r0)\n(8/27) Installing pkgconf (0.9.12-r0)\n(9/27) Installing pkgconfig (0.25-r1)\n(10/27) Installing mpfr3 (3.1.2-r0)\n(11/27) Installing mpc1 (1.0.3-r0)\n(12/27) Installing gcc (5.3.0-r0)\n(13/27) Installing musl-dev (1.1.14-r16)\n(14/27) Installing libc-dev (0.7-r0)\n(15/27) Installing g++ (5.3.0-r0)\n(16/27) Upgrading musl-utils (1.1.14-r13 -> 1.1.14-r16)\n(17/27) Installing make (4.1-r1)\n(18/27) Installing libbz2 (1.0.6-r5)\n(19/27) Installing expat (2.2.0-r1)\n(20/27) Installing libffi (3.2.1-r2)\n(21/27) Installing gdbm (1.11-r1)\n(22/27) Installing ncurses-terminfo-base (6.0_p20171125-r0)\n(23/27) Installing ncurses-terminfo (6.0_p20171125-r0)\n(24/27) Installing ncurses-libs (6.0_p20171125-r0)\n(25/27) Installing readline (6.3.008-r4)\n(26/27) Installing sqlite-libs (3.13.0-r2)\n(27/27) Installing python (2.7.14-r0)\nExecuting busybox-1.24.2-r11.trigger\nOK: 203 MiB in 38 packages\nRemoving intermediate container e06573d0e8c2\n ---> 175f2c801b8a\nStep 4/10 : RUN npm install -g pm2 && npm cache clean --force;\n ---> Running in fc7fdfba7f24\n\u001b[91mError: could not get uid/gid\n[ 'nobody', 0 ]\n\n    at /usr/lib/node_modules/npm/node_modules/uid-number/uid-number.js:37:16\n    at ChildProcess.exithandler (child_process.js:213:5)\n    at emitTwo (events.js:106:13)\n    at ChildProcess.emit (events.js:191:7)\n    at maybeClose (internal/child_process.js:877:16)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5)\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container fc7fdfba7f24\n ---> 4cd9951be629\nStep 5/10 : COPY package.json /code/package.json\n ---> d6cfea31b09c\nStep 6/10 : COPY yarn.lock /code/yarn.lock\n ---> 06f285b9aae1\nStep 7/10 : RUN cd /code && yarn\n ---> Running in 7de033df5859\nyarn install v0.17.6\n\u001b[91mwarning youpin@1.0.0: \"dependencies\" has dependency \"bluebird\" with range \"^3.4.3\" that collides with a dependency in \"devDependencies\" of the same name with version \"^3.4.6\"\n\u001b[0m[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 9.28s.\nRemoving intermediate container 7de033df5859\n ---> 8c660909f59f\nStep 8/10 : COPY . /code\n ---> c7125a058d2c\nStep 9/10 : WORKDIR /code\n ---> Running in 12f1fc5ab786\nRemoving intermediate container 12f1fc5ab786\n ---> 3f6a3a27bb57\nStep 10/10 : CMD [\"node\", \"app.js\"]\n ---> Running in 4158b0d64da3\nRemoving intermediate container 4158b0d64da3\n ---> 3027faf78778\nSuccessfully built 3027faf78778\nSuccessfully tagged youpin-bot:latest\n","stderr":"","imageSize":328396926}}