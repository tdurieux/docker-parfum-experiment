{"repository":"https://github.com/agarbato/unicloud","dockerfilePath":"Dockerfile","startTime":1672061065194,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/agarbato/unicloud'...\n","error":null,"commit":"1786cabd834214be80bf73b390e4b7756f82e9ec"},"originalBuild":{"startTimestamp":1672061066132,"endTimestamp":1672061136513,"error":null,"stdout":"Sending build context to Docker daemon  1.538MB\r\r\nStep 1/20 : FROM alpine:3.17.0\n3.17.0: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:3.17.0\n ---> 49176f190c7e\nStep 2/20 : MAINTAINER andrea.garbato@gmail.com\n ---> Running in a9ad9442dede\nRemoving intermediate container a9ad9442dede\n ---> 8da250933f42\nStep 3/20 : ENV TZ=Europe/Rome\n ---> Running in 7369587172f2\nRemoving intermediate container 7369587172f2\n ---> 54ee2e363bce\nStep 4/20 : RUN apk add --no-cache     bash     procps     openssh     ssmtp     supervisor     mutt     shadow     sqlite     pwgen     nginx     fcgiwrap     tzdata     gcc     libc-dev     linux-headers     dumb-init     python3     g++     py3-pip     logrotate     python3-dev     unison     && pip3 install flask flask_restful uwsgi requests  flask-basicAuth flask-autoindex psutil apscheduler sqlalchemy     && apk del libc-dev linux-headers gcc g++ python3-dev\n ---> Running in a91b79ea9b63\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/83) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/83) Installing ncurses-libs (6.3_p20221119-r0)\n(3/83) Installing readline (8.2.0-r0)\n(4/83) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/83) Installing dumb-init (1.2.5-r2)\n(6/83) Installing fcgi (2.4.2-r2)\n(7/83) Installing fcgiwrap (1.1.0-r6)\nExecuting fcgiwrap-1.1.0-r6.pre-install\n(8/83) Installing libgcc (12.2.1_git20220924-r4)\n(9/83) Installing libstdc++ (12.2.1_git20220924-r4)\n(10/83) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(11/83) Installing binutils (2.39-r2)\n(12/83) Installing libgomp (12.2.1_git20220924-r4)\n(13/83) Installing libatomic (12.2.1_git20220924-r4)\n(14/83) Installing gmp (6.2.1-r2)\n(15/83) Installing isl25 (0.25-r0)\n(16/83) Installing mpfr4 (4.1.0-r0)\n(17/83) Installing mpc1 (1.2.1-r1)\n(18/83) Installing gcc (12.2.1_git20220924-r4)\n(19/83) Installing musl-dev (1.2.3-r4)\n(20/83) Installing libc-dev (0.7.2-r3)\n(21/83) Installing g++ (12.2.1_git20220924-r4)\n(22/83) Installing linux-headers (5.19.5-r0)\n(23/83) Installing libacl (2.3.1-r1)\n(24/83) Installing popt (1.19-r0)\n(25/83) Installing logrotate (3.20.1-r3)\n(26/83) Installing gdbm (1.23-r0)\n(27/83) Installing libgpg-error (1.46-r1)\n(28/83) Installing libassuan (2.5.5-r1)\n(29/83) Installing pinentry (1.2.1-r0)\nExecuting pinentry-1.2.1-r0.post-install\n(30/83) Installing libgcrypt (1.10.1-r0)\n(31/83) Installing gnupg-gpgconf (2.2.40-r0)\n(32/83) Installing libbz2 (1.0.8-r4)\n(33/83) Installing sqlite-libs (3.40.0-r0)\n(34/83) Installing gpg (2.2.40-r0)\n(35/83) Installing npth (1.6-r2)\n(36/83) Installing gpg-agent (2.2.40-r0)\n(37/83) Installing libksba (1.6.3-r0)\n(38/83) Installing gpgsm (2.2.40-r0)\n(39/83) Installing gpgme (1.18.0-r0)\n(40/83) Installing krb5-conf (1.0-r2)\n(41/83) Installing libcom_err (1.46.5-r4)\n(42/83) Installing keyutils-libs (1.6.3-r1)\n(43/83) Installing libverto (0.3.2-r1)\n(44/83) Installing krb5-libs (1.20.1-r0)\n(45/83) Installing libidn (1.41-r0)\n(46/83) Installing libgsasl (2.2.0-r0)\n(47/83) Installing libunistring (1.1-r0)\n(48/83) Installing libidn2 (2.3.4-r0)\n(49/83) Installing libintl (0.21.1-r1)\n(50/83) Installing mutt (2.2.9-r0)\n(51/83) Installing pcre (8.45-r2)\n(52/83) Installing nginx (1.22.1-r0)\nExecuting nginx-1.22.1-r0.pre-install\nExecuting nginx-1.22.1-r0.post-install\n(53/83) Installing openssh-keygen (9.1_p1-r1)\n(54/83) Installing libedit (20221030.3.1-r0)\n(55/83) Installing openssh-client-common (9.1_p1-r1)\n(56/83) Installing openssh-client-default (9.1_p1-r1)\n(57/83) Installing openssh-sftp-server (9.1_p1-r1)\n(58/83) Installing openssh-server-common (9.1_p1-r1)\n(59/83) Installing openssh-server (9.1_p1-r1)\n(60/83) Installing openssh (9.1_p1-r1)\n(61/83) Installing libproc (3.3.17-r2)\n(62/83) Installing procps (3.3.17-r2)\n(63/83) Installing pwgen (2.08-r2)\n(64/83) Installing libexpat (2.5.0-r0)\n(65/83) Installing libffi (3.4.4-r0)\n(66/83) Installing xz-libs (5.2.9-r0)\n(67/83) Installing mpdecimal (2.5.1-r1)\n(68/83) Installing python3 (3.10.9-r1)\n(69/83) Installing py3-six (1.16.0-r3)\n(70/83) Installing py3-retrying (1.3.3-r3)\n(71/83) Installing py3-parsing (3.0.9-r0)\n(72/83) Installing py3-packaging (21.3-r2)\n(73/83) Installing py3-setuptools (65.6.0-r0)\n(74/83) Installing py3-pip (22.3.1-r1)\n(75/83) Installing pkgconf (1.9.3-r0)\n(76/83) Installing python3-dev (3.10.9-r1)\n(77/83) Installing linux-pam (1.5.2-r1)\n(78/83) Installing shadow (4.13-r0)\n(79/83) Installing sqlite (3.40.0-r0)\n(80/83) Installing ssmtp (2.64-r18)\n(81/83) Installing supervisor (4.2.4-r0)\n(82/83) Installing tzdata (2022f-r1)\n(83/83) Installing unison (2.53.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 399 MiB in 98 packages\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 412.7 kB/s eta 0:00:00\nCollecting flask_restful\n  Downloading Flask_RESTful-0.3.9-py2.py3-none-any.whl (25 kB)\nCollecting uwsgi\n  Downloading uwsgi-2.0.21.tar.gz (808 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 808.5/808.5 kB 3.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 1.1 MB/s eta 0:00:00\nCollecting flask-basicAuth\n  Downloading Flask-BasicAuth-0.2.0.tar.gz (16 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting flask-autoindex\n  Downloading Flask-AutoIndex-0.6.6.tar.gz (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.1/52.1 kB 413.7 kB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting psutil\n  Downloading psutil-5.9.4.tar.gz (485 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 485.8/485.8 kB 1.4 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting apscheduler\n  Downloading APScheduler-3.9.1.post1-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.6/59.6 kB 4.7 MB/s eta 0:00:00\nCollecting sqlalchemy\n  Downloading SQLAlchemy-1.4.45.tar.gz (8.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.5/8.5 MB 44.9 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 10.4 MB/s eta 0:00:00\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 11.1 MB/s eta 0:00:00\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 24.9 MB/s eta 0:00:00\nCollecting aniso8601>=0.82\n  Downloading aniso8601-9.0.1-py2.py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 kB 5.0 MB/s eta 0:00:00\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 36.4 MB/s eta 0:00:00\nRequirement already satisfied: six>=1.3.0 in /usr/lib/python3.10/site-packages (from flask_restful) (1.16.0)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 13.4 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 6.0 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 16.1 MB/s eta 0:00:00\nCollecting Flask-Silk>=0.2\n  Downloading Flask-Silk-0.2.tar.gz (627 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 627.2/627.2 kB 36.2 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting future>=0.13.0\n  Downloading future-0.18.2.tar.gz (829 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 829.2/829.2 kB 32.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting tzlocal!=3.*,>=2.0\n  Downloading tzlocal-4.2-py3-none-any.whl (19 kB)\nRequirement already satisfied: setuptools>=0.7 in /usr/lib/python3.10/site-packages (from apscheduler) (65.6.0)\nCollecting greenlet!=0.4.17\n  Downloading greenlet-2.0.1-cp310-cp310-musllinux_1_1_x86_64.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 45.1 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp310-cp310-musllinux_1_1_x86_64.whl (29 kB)\nCollecting pytz-deprecation-shim\n  Downloading pytz_deprecation_shim-0.1.0.post0-py2.py3-none-any.whl (15 kB)\nCollecting tzdata\n  Downloading tzdata-2022.7-py2.py3-none-any.whl (340 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 340.1/340.1 kB 17.9 MB/s eta 0:00:00\nBuilding wheels for collected packages: psutil\n  Building wheel for psutil (pyproject.toml): started\n  Building wheel for psutil (pyproject.toml): finished with status 'done'\n  Created wheel for psutil: filename=psutil-5.9.4-cp310-abi3-linux_x86_64.whl size=266713 sha256=c946b94e4ba3a9211bdb77d77fd29573348be71a97092c2f79c8aea77afd6fe3\n  Stored in directory: /root/.cache/pip/wheels/54/8f/fb/a70448250cac755f3a27cbfdfeb785ca81ab71ac3f7e188f96\nSuccessfully built psutil\nInstalling collected packages: uwsgi, pytz, aniso8601, urllib3, tzdata, psutil, MarkupSafe, itsdangerous, idna, greenlet, future, click, charset-normalizer, certifi, Werkzeug, sqlalchemy, requests, pytz-deprecation-shim, Jinja2, tzlocal, flask, Flask-Silk, flask_restful, flask-basicAuth, apscheduler, flask-autoindex\n\u001b[91m  DEPRECATION: uwsgi is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for uwsgi: started\n  Running setup.py install for uwsgi: finished with status 'done'\n\u001b[91m  DEPRECATION: future is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for future: started\n  Running setup.py install for future: finished with status 'done'\n\u001b[91m  DEPRECATION: sqlalchemy is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for sqlalchemy: started\n  Running setup.py install for sqlalchemy: finished with status 'done'\n\u001b[91m  DEPRECATION: Flask-Silk is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for Flask-Silk: started\n  Running setup.py install for Flask-Silk: finished with status 'done'\n\u001b[91m  DEPRECATION: flask-basicAuth is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for flask-basicAuth: started\n  Running setup.py install for flask-basicAuth: finished with status 'done'\n\u001b[91m  DEPRECATION: flask-autoindex is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for flask-autoindex: started\n  Running setup.py install for flask-autoindex: finished with status 'done'\nSuccessfully installed Flask-Silk-0.2 Jinja2-3.1.2 MarkupSafe-2.1.1 Werkzeug-2.2.2 aniso8601-9.0.1 apscheduler-3.9.1.post1 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 flask-2.2.2 flask-autoindex-0.6.6 flask-basicAuth-0.2.0 flask_restful-0.3.9 future-0.18.2 greenlet-2.0.1 idna-3.4 itsdangerous-2.1.2 psutil-5.9.4 pytz-2022.7 pytz-deprecation-shim-0.1.0.post0 requests-2.28.1 sqlalchemy-1.4.45 tzdata-2022.7 tzlocal-4.2 urllib3-1.26.13 uwsgi-2.0.21\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/15) Purging g++ (12.2.1_git20220924-r4)\n(2/15) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(3/15) Purging gcc (12.2.1_git20220924-r4)\n(4/15) Purging binutils (2.39-r2)\n(5/15) Purging libatomic (12.2.1_git20220924-r4)\n(6/15) Purging libgomp (12.2.1_git20220924-r4)\n(7/15) Purging libc-dev (0.7.2-r3)\n(8/15) Purging musl-dev (1.2.3-r4)\n(9/15) Purging linux-headers (5.19.5-r0)\n(10/15) Purging python3-dev (3.10.9-r1)\n(11/15) Purging isl25 (0.25-r0)\n(12/15) Purging mpc1 (1.2.1-r1)\n(13/15) Purging mpfr4 (4.1.0-r0)\n(14/15) Purging gmp (6.2.1-r2)\n(15/15) Purging pkgconf (1.9.3-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 118 MiB in 83 packages\nRemoving intermediate container a91b79ea9b63\n ---> 2724f1da2979\nStep 5/20 : RUN mkdir -p /var/run/sshd /run/nginx /usr/local/unicloud\n ---> Running in fa25f3e3bfc0\nRemoving intermediate container fa25f3e3bfc0\n ---> 1bf2bb48e296\nStep 6/20 : ADD app/    /usr/local/unicloud/\n ---> 85d99de9781a\nStep 7/20 : ADD app_client/    /usr/local/unicloud_client/\n ---> 234e50ba3986\nStep 8/20 : ADD conf/sshd/sshd_config_alpine /etc/sshd_config\n ---> a752ca773f32\nStep 9/20 : ADD conf/sshd/sshd_config_alpine_debug /etc/sshd_config_debug\n ---> 4516709eaca1\nStep 10/20 : RUN mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf.install\n ---> Running in 0f49c9f554a7\nRemoving intermediate container 0f49c9f554a7\n ---> ddb6f2f425d7\nStep 11/20 : RUN rm -f /etc/logrotate.d/*\n ---> Running in 329d3b47ecf3\nRemoving intermediate container 329d3b47ecf3\n ---> 8ae1cc4f208f\nStep 12/20 : ADD conf/nginx/default.conf /etc/nginx/http.d/default.conf\n ---> b2206e9c94d5\nStep 13/20 : ADD conf/logrotate.d/ /etc/logrotate.d/\n ---> 49f752a9440c\nStep 14/20 : ADD start/ /start/\n ---> f259c14426fb\nStep 15/20 : WORKDIR \"/start\"\n ---> Running in d3e3ac1f0675\nRemoving intermediate container d3e3ac1f0675\n ---> ce49be6cbc8b\nStep 16/20 : EXPOSE 22\n ---> Running in 36313763aa9b\nRemoving intermediate container 36313763aa9b\n ---> 442d1582ac00\nStep 17/20 : EXPOSE 80\n ---> Running in e7d77ad7a828\nRemoving intermediate container e7d77ad7a828\n ---> 481dd6cdca4f\nStep 18/20 : VOLUME [\"/data\"]\n ---> Running in 0fa61803ba84\nRemoving intermediate container 0fa61803ba84\n ---> 13cf78d7e3f5\nStep 19/20 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in f1d33e43008d\nRemoving intermediate container f1d33e43008d\n ---> 8cac8a603eef\nStep 20/20 : CMD [\"python3\",\"-u\",\"start.py\"]\n ---> Running in e089c65d18b8\nRemoving intermediate container e089c65d18b8\n ---> d80310530005\nSuccessfully built d80310530005\nSuccessfully tagged unicloud:latest\n","stderr":"","imageSize":157584347},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":32,"end":32,"columnStart":7,"columnEnd":117}}],"repairedDockerfile":"FROM alpine:3.17.0\n\nMAINTAINER andrea.garbato@gmail.com\n\n# Install packages\n\nENV TZ=Europe/Rome\n\nRUN apk add --no-cache \\\n    bash \\\n    procps \\\n    openssh \\\n    ssmtp \\\n    supervisor \\\n    mutt \\\n    shadow \\\n    sqlite \\\n    pwgen \\\n    nginx \\\n    fcgiwrap \\\n    tzdata \\\n    gcc \\\n    libc-dev \\\n    linux-headers \\\n    dumb-init \\\n    python3 \\\n    g++ \\\n    py3-pip \\\n    logrotate \\\n    python3-dev \\\n    unison \\\n    #&& apk add --no-cache --repository http://dl-cdn.alpinelinux.org/alpine/edge/community unison==2.53.0-r0  \\\n    && pip3 install --no-cache-dir flask flask_restful uwsgi requests flask-basicAuth flask-autoindex psutil apscheduler sqlalchemy \\\n    && apk del libc-dev linux-headers gcc g++ python3-dev\n\nRUN mkdir -p /var/run/sshd /run/nginx /usr/local/unicloud\nADD app/    /usr/local/unicloud/\nADD app_client/    /usr/local/unicloud_client/\nADD conf/sshd/sshd_config_alpine /etc/sshd_config\nADD conf/sshd/sshd_config_alpine_debug /etc/sshd_config_debug\nRUN mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf.install\nRUN rm -f /etc/logrotate.d/*\nADD conf/nginx/default.conf /etc/nginx/http.d/default.conf\nADD conf/logrotate.d/ /etc/logrotate.d/\nADD start/ /start/\nWORKDIR \"/start\"\n\nEXPOSE 22\nEXPOSE 80\nVOLUME [\"/data\"]\n\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nCMD [\"python3\",\"-u\",\"start.py\"]\n"},"repairedBuild":{"startTimestamp":1672061137417,"endTimestamp":1672061220841,"error":null,"stdout":"Sending build context to Docker daemon  1.538MB\r\r\nStep 1/20 : FROM alpine:3.17.0\n ---> 49176f190c7e\nStep 2/20 : MAINTAINER andrea.garbato@gmail.com\n ---> Running in 5d0f9f5ff155\nRemoving intermediate container 5d0f9f5ff155\n ---> 311a101f7e15\nStep 3/20 : ENV TZ=Europe/Rome\n ---> Running in 94bc5e183c2f\nRemoving intermediate container 94bc5e183c2f\n ---> 73d9c7e5c903\nStep 4/20 : RUN apk add --no-cache     bash     procps     openssh     ssmtp     supervisor     mutt     shadow     sqlite     pwgen     nginx     fcgiwrap     tzdata     gcc     libc-dev     linux-headers     dumb-init     python3     g++     py3-pip     logrotate     python3-dev     unison     && pip3 install --no-cache-dir flask flask_restful uwsgi requests flask-basicAuth flask-autoindex psutil apscheduler sqlalchemy     && apk del libc-dev linux-headers gcc g++ python3-dev\n ---> Running in 2b0ed944dd4d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/83) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/83) Installing ncurses-libs (6.3_p20221119-r0)\n(3/83) Installing readline (8.2.0-r0)\n(4/83) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/83) Installing dumb-init (1.2.5-r2)\n(6/83) Installing fcgi (2.4.2-r2)\n(7/83) Installing fcgiwrap (1.1.0-r6)\nExecuting fcgiwrap-1.1.0-r6.pre-install\n(8/83) Installing libgcc (12.2.1_git20220924-r4)\n(9/83) Installing libstdc++ (12.2.1_git20220924-r4)\n(10/83) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(11/83) Installing binutils (2.39-r2)\n(12/83) Installing libgomp (12.2.1_git20220924-r4)\n(13/83) Installing libatomic (12.2.1_git20220924-r4)\n(14/83) Installing gmp (6.2.1-r2)\n(15/83) Installing isl25 (0.25-r0)\n(16/83) Installing mpfr4 (4.1.0-r0)\n(17/83) Installing mpc1 (1.2.1-r1)\n(18/83) Installing gcc (12.2.1_git20220924-r4)\n(19/83) Installing musl-dev (1.2.3-r4)\n(20/83) Installing libc-dev (0.7.2-r3)\n(21/83) Installing g++ (12.2.1_git20220924-r4)\n(22/83) Installing linux-headers (5.19.5-r0)\n(23/83) Installing libacl (2.3.1-r1)\n(24/83) Installing popt (1.19-r0)\n(25/83) Installing logrotate (3.20.1-r3)\n(26/83) Installing gdbm (1.23-r0)\n(27/83) Installing libgpg-error (1.46-r1)\n(28/83) Installing libassuan (2.5.5-r1)\n(29/83) Installing pinentry (1.2.1-r0)\nExecuting pinentry-1.2.1-r0.post-install\n(30/83) Installing libgcrypt (1.10.1-r0)\n(31/83) Installing gnupg-gpgconf (2.2.40-r0)\n(32/83) Installing libbz2 (1.0.8-r4)\n(33/83) Installing sqlite-libs (3.40.0-r0)\n(34/83) Installing gpg (2.2.40-r0)\n(35/83) Installing npth (1.6-r2)\n(36/83) Installing gpg-agent (2.2.40-r0)\n(37/83) Installing libksba (1.6.3-r0)\n(38/83) Installing gpgsm (2.2.40-r0)\n(39/83) Installing gpgme (1.18.0-r0)\n(40/83) Installing krb5-conf (1.0-r2)\n(41/83) Installing libcom_err (1.46.5-r4)\n(42/83) Installing keyutils-libs (1.6.3-r1)\n(43/83) Installing libverto (0.3.2-r1)\n(44/83) Installing krb5-libs (1.20.1-r0)\n(45/83) Installing libidn (1.41-r0)\n(46/83) Installing libgsasl (2.2.0-r0)\n(47/83) Installing libunistring (1.1-r0)\n(48/83) Installing libidn2 (2.3.4-r0)\n(49/83) Installing libintl (0.21.1-r1)\n(50/83) Installing mutt (2.2.9-r0)\n(51/83) Installing pcre (8.45-r2)\n(52/83) Installing nginx (1.22.1-r0)\nExecuting nginx-1.22.1-r0.pre-install\nExecuting nginx-1.22.1-r0.post-install\n(53/83) Installing openssh-keygen (9.1_p1-r1)\n(54/83) Installing libedit (20221030.3.1-r0)\n(55/83) Installing openssh-client-common (9.1_p1-r1)\n(56/83) Installing openssh-client-default (9.1_p1-r1)\n(57/83) Installing openssh-sftp-server (9.1_p1-r1)\n(58/83) Installing openssh-server-common (9.1_p1-r1)\n(59/83) Installing openssh-server (9.1_p1-r1)\n(60/83) Installing openssh (9.1_p1-r1)\n(61/83) Installing libproc (3.3.17-r2)\n(62/83) Installing procps (3.3.17-r2)\n(63/83) Installing pwgen (2.08-r2)\n(64/83) Installing libexpat (2.5.0-r0)\n(65/83) Installing libffi (3.4.4-r0)\n(66/83) Installing xz-libs (5.2.9-r0)\n(67/83) Installing mpdecimal (2.5.1-r1)\n(68/83) Installing python3 (3.10.9-r1)\n(69/83) Installing py3-six (1.16.0-r3)\n(70/83) Installing py3-retrying (1.3.3-r3)\n(71/83) Installing py3-parsing (3.0.9-r0)\n(72/83) Installing py3-packaging (21.3-r2)\n(73/83) Installing py3-setuptools (65.6.0-r0)\n(74/83) Installing py3-pip (22.3.1-r1)\n(75/83) Installing pkgconf (1.9.3-r0)\n(76/83) Installing python3-dev (3.10.9-r1)\n(77/83) Installing linux-pam (1.5.2-r1)\n(78/83) Installing shadow (4.13-r0)\n(79/83) Installing sqlite (3.40.0-r0)\n(80/83) Installing ssmtp (2.64-r18)\n(81/83) Installing supervisor (4.2.4-r0)\n(82/83) Installing tzdata (2022f-r1)\n(83/83) Installing unison (2.53.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 399 MiB in 98 packages\nCollecting flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 8.0 MB/s eta 0:00:00\nCollecting flask_restful\n  Downloading Flask_RESTful-0.3.9-py2.py3-none-any.whl (25 kB)\nCollecting uwsgi\n  Downloading uwsgi-2.0.21.tar.gz (808 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 808.5/808.5 kB 92.9 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 74.9 MB/s eta 0:00:00\nCollecting flask-basicAuth\n  Downloading Flask-BasicAuth-0.2.0.tar.gz (16 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting flask-autoindex\n  Downloading Flask-AutoIndex-0.6.6.tar.gz (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.1/52.1 kB 85.9 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting psutil\n  Downloading psutil-5.9.4.tar.gz (485 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 485.8/485.8 kB 173.5 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting apscheduler\n  Downloading APScheduler-3.9.1.post1-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.6/59.6 kB 179.5 MB/s eta 0:00:00\nCollecting sqlalchemy\n  Downloading SQLAlchemy-1.4.45.tar.gz (8.5 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.5/8.5 MB 109.9 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 235.2 MB/s eta 0:00:00\nCollecting click>=8.0\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 85.5 MB/s eta 0:00:00\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 218.7 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nRequirement already satisfied: six>=1.3.0 in /usr/lib/python3.10/site-packages (from flask_restful) (1.16.0)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 166.5 MB/s eta 0:00:00\nCollecting aniso8601>=0.82\n  Downloading aniso8601-9.0.1-py2.py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 kB 131.9 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 207.9 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 101.9 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 245.8 MB/s eta 0:00:00\nCollecting Flask-Silk>=0.2\n  Downloading Flask-Silk-0.2.tar.gz (627 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 627.2/627.2 kB 136.6 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting future>=0.13.0\n  Downloading future-0.18.2.tar.gz (829 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 829.2/829.2 kB 123.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: setuptools>=0.7 in /usr/lib/python3.10/site-packages (from apscheduler) (65.6.0)\nCollecting tzlocal!=3.*,>=2.0\n  Downloading tzlocal-4.2-py3-none-any.whl (19 kB)\nCollecting greenlet!=0.4.17\n  Downloading greenlet-2.0.1-cp310-cp310-musllinux_1_1_x86_64.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 100.9 MB/s eta 0:00:00\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp310-cp310-musllinux_1_1_x86_64.whl (29 kB)\nCollecting pytz-deprecation-shim\n  Downloading pytz_deprecation_shim-0.1.0.post0-py2.py3-none-any.whl (15 kB)\nCollecting tzdata\n  Downloading tzdata-2022.7-py2.py3-none-any.whl (340 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 340.1/340.1 kB 226.2 MB/s eta 0:00:00\nBuilding wheels for collected packages: psutil\n  Building wheel for psutil (pyproject.toml): started\n  Building wheel for psutil (pyproject.toml): finished with status 'done'\n  Created wheel for psutil: filename=psutil-5.9.4-cp310-abi3-linux_x86_64.whl size=266706 sha256=8d132219ab03a7115cfad7b2473508de11f26d23258078f494ad71ad88b804e2\n  Stored in directory: /tmp/pip-ephem-wheel-cache-az4l_u01/wheels/54/8f/fb/a70448250cac755f3a27cbfdfeb785ca81ab71ac3f7e188f96\nSuccessfully built psutil\nInstalling collected packages: uwsgi, pytz, aniso8601, urllib3, tzdata, psutil, MarkupSafe, itsdangerous, idna, greenlet, future, click, charset-normalizer, certifi, Werkzeug, sqlalchemy, requests, pytz-deprecation-shim, Jinja2, tzlocal, flask, Flask-Silk, flask_restful, flask-basicAuth, apscheduler, flask-autoindex\n\u001b[91m  DEPRECATION: uwsgi is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for uwsgi: started\n  Running setup.py install for uwsgi: finished with status 'done'\n\u001b[91m  DEPRECATION: future is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for future: started\n  Running setup.py install for future: finished with status 'done'\n\u001b[91m  DEPRECATION: sqlalchemy is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for sqlalchemy: started\n  Running setup.py install for sqlalchemy: finished with status 'done'\n\u001b[91m  DEPRECATION: Flask-Silk is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for Flask-Silk: started\n  Running setup.py install for Flask-Silk: finished with status 'done'\n\u001b[91m  DEPRECATION: flask-basicAuth is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for flask-basicAuth: started\n  Running setup.py install for flask-basicAuth: finished with status 'done'\n\u001b[91m  DEPRECATION: flask-autoindex is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559\n\u001b[0m  Running setup.py install for flask-autoindex: started\n  Running setup.py install for flask-autoindex: finished with status 'done'\nSuccessfully installed Flask-Silk-0.2 Jinja2-3.1.2 MarkupSafe-2.1.1 Werkzeug-2.2.2 aniso8601-9.0.1 apscheduler-3.9.1.post1 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 flask-2.2.2 flask-autoindex-0.6.6 flask-basicAuth-0.2.0 flask_restful-0.3.9 future-0.18.2 greenlet-2.0.1 idna-3.4 itsdangerous-2.1.2 psutil-5.9.4 pytz-2022.7 pytz-deprecation-shim-0.1.0.post0 requests-2.28.1 sqlalchemy-1.4.45 tzdata-2022.7 tzlocal-4.2 urllib3-1.26.13 uwsgi-2.0.21\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/15) Purging g++ (12.2.1_git20220924-r4)\n(2/15) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(3/15) Purging gcc (12.2.1_git20220924-r4)\n(4/15) Purging binutils (2.39-r2)\n(5/15) Purging libatomic (12.2.1_git20220924-r4)\n(6/15) Purging libgomp (12.2.1_git20220924-r4)\n(7/15) Purging libc-dev (0.7.2-r3)\n(8/15) Purging musl-dev (1.2.3-r4)\n(9/15) Purging linux-headers (5.19.5-r0)\n(10/15) Purging python3-dev (3.10.9-r1)\n(11/15) Purging isl25 (0.25-r0)\n(12/15) Purging mpc1 (1.2.1-r1)\n(13/15) Purging mpfr4 (4.1.0-r0)\n(14/15) Purging gmp (6.2.1-r2)\n(15/15) Purging pkgconf (1.9.3-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 118 MiB in 83 packages\nRemoving intermediate container 2b0ed944dd4d\n ---> 87fe82924b33\nStep 5/20 : RUN mkdir -p /var/run/sshd /run/nginx /usr/local/unicloud\n ---> Running in 5925f2d0b840\nRemoving intermediate container 5925f2d0b840\n ---> 1e8f6afc96ee\nStep 6/20 : ADD app/    /usr/local/unicloud/\n ---> 25fffd358ce5\nStep 7/20 : ADD app_client/    /usr/local/unicloud_client/\n ---> 8d05f7aeb1cb\nStep 8/20 : ADD conf/sshd/sshd_config_alpine /etc/sshd_config\n ---> 6a2d1be80c5c\nStep 9/20 : ADD conf/sshd/sshd_config_alpine_debug /etc/sshd_config_debug\n ---> 00e83b6b5022\nStep 10/20 : RUN mv /etc/nginx/http.d/default.conf /etc/nginx/http.d/default.conf.install\n ---> Running in 6955ab35dd41\nRemoving intermediate container 6955ab35dd41\n ---> 2f849258f402\nStep 11/20 : RUN rm -f /etc/logrotate.d/*\n ---> Running in 9794474004ba\nRemoving intermediate container 9794474004ba\n ---> a99337ec5f0e\nStep 12/20 : ADD conf/nginx/default.conf /etc/nginx/http.d/default.conf\n ---> aefd538f0fc5\nStep 13/20 : ADD conf/logrotate.d/ /etc/logrotate.d/\n ---> 7b0f01095cef\nStep 14/20 : ADD start/ /start/\n ---> 70bdd0a75186\nStep 15/20 : WORKDIR \"/start\"\n ---> Running in 82865908df82\nRemoving intermediate container 82865908df82\n ---> f3cf149dde57\nStep 16/20 : EXPOSE 22\n ---> Running in 7d300690cab0\nRemoving intermediate container 7d300690cab0\n ---> 6ee28e720822\nStep 17/20 : EXPOSE 80\n ---> Running in 3c3cadc7dc71\nRemoving intermediate container 3c3cadc7dc71\n ---> e16b95450d34\nStep 18/20 : VOLUME [\"/data\"]\n ---> Running in c5ea356e475e\nRemoving intermediate container c5ea356e475e\n ---> 94f30cf0e686\nStep 19/20 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in a4aa27e92bda\nRemoving intermediate container a4aa27e92bda\n ---> 72be8c724373\nStep 20/20 : CMD [\"python3\",\"-u\",\"start.py\"]\n ---> Running in 221e89154e91\nRemoving intermediate container 221e89154e91\n ---> ac0d3f9eb32a\nSuccessfully built ac0d3f9eb32a\nSuccessfully tagged unicloud:latest\n","stderr":"","imageSize":142048364},"endTime":1672061222047}