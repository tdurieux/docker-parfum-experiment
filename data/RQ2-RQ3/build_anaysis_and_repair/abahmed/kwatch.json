{"repository":"https://github.com/abahmed/kwatch","dockerfilePath":"Dockerfile","startTime":1673176084478,"endTime":1673176388865,"clone":{"startTime":1673176084478,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/abahmed/kwatch'...\n","error":null,"endTime":1673176085431,"commit":"edc09e5bdcc02c488f626dc59397ac449b05ee59"},"originalBuild":{"startTime":1673176085506,"endTime":1673176233157,"error":null,"stdout":"Sending build context to Docker daemon  5.607MB\r\r\nStep 1/14 : FROM golang:alpine AS builder\n ---> cae57157ceaa\nStep 2/14 : ARG RELEASE_VERSION=\"nothing\"\n ---> Running in 33e4a51081dc\nRemoving intermediate container 33e4a51081dc\n ---> 6d752ec9c5a0\nStep 3/14 : LABEL maintainer=\"Abdelrahman Ahmed <a.ahmed1026@gmail.com\"\n ---> Running in 46f2651fd8df\nRemoving intermediate container 46f2651fd8df\n ---> 26022a88ee4d\nStep 4/14 : RUN apk update &&     apk add git build-base &&     rm -rf /var/cache/apk/* &&     mkdir -p \"/build\"\n ---> Running in 0c77b4ee810a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-347-g4a0616d66c [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\n(1/26) Installing libgcc (12.2.1_git20220924-r4)\n(2/26) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/26) Installing binutils (2.39-r2)\n(4/26) Installing libmagic (5.43-r0)\n(5/26) Installing file (5.43-r0)\n(6/26) Installing libgomp (12.2.1_git20220924-r4)\n(7/26) Installing libatomic (12.2.1_git20220924-r4)\n(8/26) Installing gmp (6.2.1-r2)\n(9/26) Installing isl25 (0.25-r0)\n(10/26) Installing mpfr4 (4.1.0-r0)\n(11/26) Installing mpc1 (1.2.1-r1)\n(12/26) Installing gcc (12.2.1_git20220924-r4)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing musl-dev (1.2.3-r4)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (12.2.1_git20220924-r4)\n(17/26) Installing make (4.3-r1)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r8)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r9)\n(22/26) Installing nghttp2-libs (1.51.0-r0)\n(23/26) Installing libcurl (7.87.0-r0)\n(24/26) Installing libexpat (2.5.0-r0)\n(25/26) Installing pcre2 (10.42-r0)\n(26/26) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 253 MiB in 42 packages\nRemoving intermediate container 0c77b4ee810a\n ---> 20571809ea01\nStep 5/14 : WORKDIR /build\n ---> Running in d608ba23da36\nRemoving intermediate container d608ba23da36\n ---> 4d56a55fbbbd\nStep 6/14 : COPY go.mod go.sum /build/\n ---> ef96c066d467\nStep 7/14 : RUN go mod download\n ---> Running in 4566789db6f4\nRemoving intermediate container 4566789db6f4\n ---> b828d7420c44\nStep 8/14 : COPY . /build/\n ---> f7b93662c778\nStep 9/14 : RUN sed -i 's/dev/'\"${RELEASE_VERSION}\"'/g' version/version.go\n ---> Running in ce3b53a285f6\nRemoving intermediate container ce3b53a285f6\n ---> 35a74dad2cf4\nStep 10/14 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a --installsuffix cgo --ldflags=\"-s\"\n ---> Running in bd182ec9ac8f\nRemoving intermediate container bd182ec9ac8f\n ---> 2608d15dd65c\nStep 11/14 : FROM alpine:latest\n ---> 49176f190c7e\nStep 12/14 : RUN apk add --update ca-certificates\n ---> Running in e6163ed9c235\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container e6163ed9c235\n ---> 154ddf91e6ab\nStep 13/14 : COPY --from=builder /build/kwatch /bin/kwatch\n ---> 871c3a68c8d5\nStep 14/14 : ENTRYPOINT [\"/bin/kwatch\"]\n ---> Running in b73123a04941\nRemoving intermediate container b73123a04941\n ---> 93f965f2ef68\nSuccessfully built 93f965f2ef68\nSuccessfully tagged kwatch:latest\n","stderr":"","imageSize":45960496},"repair":{"startTime":1673176233265,"endTime":1673176233351,"violations":[{"name":"apkAddUseNoCache","position":{"start":18,"end":18,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:alpine AS builder\nARG RELEASE_VERSION=\"nothing\"\nLABEL maintainer=\"Abdelrahman Ahmed <a.ahmed1026@gmail.com\"\n\nRUN apk update && \\\n    apk add git build-base && \\\n    rm -rf /var/cache/apk/* && \\\n    mkdir -p \"/build\"\n\nWORKDIR /build\nCOPY go.mod go.sum /build/\nRUN go mod download\n\nCOPY . /build/\nRUN sed -i 's/dev/'\"${RELEASE_VERSION}\"'/g' version/version.go\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a --installsuffix cgo --ldflags=\"-s\"\n\nFROM alpine:latest\nRUN apk add --no-cache --update ca-certificates\nCOPY --from=builder /build/kwatch /bin/kwatch\nENTRYPOINT [\"/bin/kwatch\"]\n"},"repairedBuild":{"startTime":1673176233955,"endTime":1673176388341,"error":null,"stdout":"Sending build context to Docker daemon  5.607MB\r\r\nStep 1/14 : FROM golang:alpine AS builder\n ---> cae57157ceaa\nStep 2/14 : ARG RELEASE_VERSION=\"nothing\"\n ---> Running in de6e02664642\nRemoving intermediate container de6e02664642\n ---> b45ad29151da\nStep 3/14 : LABEL maintainer=\"Abdelrahman Ahmed <a.ahmed1026@gmail.com\"\n ---> Running in 702b09070004\nRemoving intermediate container 702b09070004\n ---> 7bd238ee939a\nStep 4/14 : RUN apk update &&     apk add git build-base &&     rm -rf /var/cache/apk/* &&     mkdir -p \"/build\"\n ---> Running in c1741ad2b38d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-347-g4a0616d66c [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\n(1/26) Installing libgcc (12.2.1_git20220924-r4)\n(2/26) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/26) Installing binutils (2.39-r2)\n(4/26) Installing libmagic (5.43-r0)\n(5/26) Installing file (5.43-r0)\n(6/26) Installing libgomp (12.2.1_git20220924-r4)\n(7/26) Installing libatomic (12.2.1_git20220924-r4)\n(8/26) Installing gmp (6.2.1-r2)\n(9/26) Installing isl25 (0.25-r0)\n(10/26) Installing mpfr4 (4.1.0-r0)\n(11/26) Installing mpc1 (1.2.1-r1)\n(12/26) Installing gcc (12.2.1_git20220924-r4)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing musl-dev (1.2.3-r4)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (12.2.1_git20220924-r4)\n(17/26) Installing make (4.3-r1)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r8)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r9)\n(22/26) Installing nghttp2-libs (1.51.0-r0)\n(23/26) Installing libcurl (7.87.0-r0)\n(24/26) Installing libexpat (2.5.0-r0)\n(25/26) Installing pcre2 (10.42-r0)\n(26/26) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 253 MiB in 42 packages\nRemoving intermediate container c1741ad2b38d\n ---> e9de893dfef8\nStep 5/14 : WORKDIR /build\n ---> Running in 91dd10c6638c\nRemoving intermediate container 91dd10c6638c\n ---> ceeb8fd7b26d\nStep 6/14 : COPY go.mod go.sum /build/\n ---> 861a1ed95c15\nStep 7/14 : RUN go mod download\n ---> Running in eb35ad38703b\nRemoving intermediate container eb35ad38703b\n ---> 017441dc87da\nStep 8/14 : COPY . /build/\n ---> 0dc01e4fe6ce\nStep 9/14 : RUN sed -i 's/dev/'\"${RELEASE_VERSION}\"'/g' version/version.go\n ---> Running in ecf07258e556\nRemoving intermediate container ecf07258e556\n ---> 8df56c0fef6f\nStep 10/14 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a --installsuffix cgo --ldflags=\"-s\"\n ---> Running in b283f948e5f1\nRemoving intermediate container b283f948e5f1\n ---> 5110b6be034a\nStep 11/14 : FROM alpine:latest\n ---> 49176f190c7e\nStep 12/14 : RUN apk add --no-cache --update ca-certificates\n ---> Running in 8b87a421864e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 8b87a421864e\n ---> 1021afd6f434\nStep 13/14 : COPY --from=builder /build/kwatch /bin/kwatch\n ---> 5dcea6922ea3\nStep 14/14 : ENTRYPOINT [\"/bin/kwatch\"]\n ---> Running in 392a527cae08\nRemoving intermediate container 392a527cae08\n ---> 978552b8ea30\nSuccessfully built 978552b8ea30\nSuccessfully tagged kwatch:latest\n","stderr":"","imageSize":43376505}}