{"repository":"https://github.com/appwrite/appwrite","dockerfilePath":"Dockerfile","startTime":1672235629661,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/appwrite/appwrite'...\n","error":null,"commit":"76cc9af5a39e8758d7ddbb61395383fb9441e3a0"},"originalBuild":{"startTimestamp":1672235634828,"endTimestamp":1672235690399,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t appwrite:latest -f /tmp/dinghy-analysis/appwrite/appwrite/Dockerfile ."},"stdout":"Sending build context to Docker daemon  121.4MB\r\r\nStep 1/97 : FROM composer:2.0 as composer\n2.0: Pulling from library/composer\n540db60ca938: Pulling fs layer\n933cf2f4a68f: Pulling fs layer\n93c5cc202a60: Pulling fs layer\n74403c16157d: Pulling fs layer\nccb9776fa7b0: Pulling fs layer\n5f4ca0d03106: Pulling fs layer\nbd76023543a8: Pulling fs layer\n77d0b61488f4: Pulling fs layer\n57e642ce993f: Pulling fs layer\n745f1fb625c7: Pulling fs layer\n98305a6b0e56: Pulling fs layer\n2ea4b72eed90: Pulling fs layer\n90e73a6f52a3: Pulling fs layer\nb61f55351627: Pulling fs layer\n35f0c900ccdf: Pulling fs layer\n74403c16157d: Waiting\n745f1fb625c7: Waiting\n98305a6b0e56: Waiting\n2ea4b72eed90: Waiting\n90e73a6f52a3: Waiting\nccb9776fa7b0: Waiting\n5f4ca0d03106: Waiting\nbd76023543a8: Waiting\n77d0b61488f4: Waiting\n57e642ce993f: Waiting\nb61f55351627: Waiting\n35f0c900ccdf: Waiting\n93c5cc202a60: Verifying Checksum\n93c5cc202a60: Download complete\n540db60ca938: Verifying Checksum\n540db60ca938: Download complete\n933cf2f4a68f: Verifying Checksum\n933cf2f4a68f: Download complete\n540db60ca938: Pull complete\n74403c16157d: Verifying Checksum\n74403c16157d: Download complete\n5f4ca0d03106: Verifying Checksum\n5f4ca0d03106: Download complete\nccb9776fa7b0: Verifying Checksum\nccb9776fa7b0: Download complete\n933cf2f4a68f: Pull complete\n93c5cc202a60: Pull complete\n77d0b61488f4: Download complete\n57e642ce993f: Download complete\nbd76023543a8: Verifying Checksum\nbd76023543a8: Download complete\n74403c16157d: Pull complete\n98305a6b0e56: Verifying Checksum\n2ea4b72eed90: Verifying Checksum\n2ea4b72eed90: Download complete\n90e73a6f52a3: Verifying Checksum\n90e73a6f52a3: Download complete\nccb9776fa7b0: Pull complete\nb61f55351627: Verifying Checksum\nb61f55351627: Download complete\n5f4ca0d03106: Pull complete\n35f0c900ccdf: Download complete\n745f1fb625c7: Verifying Checksum\n745f1fb625c7: Download complete\nbd76023543a8: Pull complete\n77d0b61488f4: Pull complete\n57e642ce993f: Pull complete\n745f1fb625c7: Pull complete\n98305a6b0e56: Pull complete\n2ea4b72eed90: Pull complete\n90e73a6f52a3: Pull complete\nb61f55351627: Pull complete\n35f0c900ccdf: Pull complete\nDigest: sha256:b3703ad1ca8e91a301c2653844633a9aa91734f3fb278c56e2745f58965713f3\nStatus: Downloaded newer image for composer:2.0\n ---> fe6cf3a9d826\nStep 2/97 : ARG TESTING=false\n ---> Running in 6d8a0e8d6ddc\nRemoving intermediate container 6d8a0e8d6ddc\n ---> ff5867f7a2df\nStep 3/97 : ENV TESTING=$TESTING\n ---> Running in 04df91beaed5\nRemoving intermediate container 04df91beaed5\n ---> 0a4d4e73af04\nStep 4/97 : WORKDIR /usr/local/src/\n ---> Running in b31d23432b4f\nRemoving intermediate container b31d23432b4f\n ---> 061735a6b2fa\nStep 5/97 : COPY composer.lock /usr/local/src/\n ---> 89703c3d5599\nStep 6/97 : COPY composer.json /usr/local/src/\n ---> 84fc163450e7\nStep 7/97 : RUN composer install --ignore-platform-reqs --optimize-autoloader     --no-plugins --no-scripts --prefer-dist     `if [ \"$TESTING\" != \"true\" ]; then echo \"--no-dev\"; fi`\n ---> Running in 048d770ac5af\n\u001b[91mInstalling dependencies from lock file\n\u001b[0m\u001b[91mVerifying lock file contents can be installed on current platform.\n\u001b[0m\u001b[91mPackage operations: 45 installs, 0 updates, 0 removals\n\u001b[0m\u001b[91m  - Downloading adhocore/jwt (1.1.2)\n\u001b[0m\u001b[91m  - Downloading appwrite/php-clamav (1.1.0)\n\u001b[0m\u001b[91m  - Downloading laravel/pint (v1.2.1)\n\u001b[0m\u001b[91m  - Downloading utopia-php/system (0.6.0)\n\u001b[0m\u001b[91m  - Syncing appwrite/php-runtimes (0.11.1) into cache\n\u001b[0m\u001b[91m  - Downloading chillerlan/php-settings-container (2.1.4)\n\u001b[0m\u001b[91m  - Downloading chillerlan/php-qrcode (4.3.3)\n\u001b[0m\u001b[91m  - Downloading webmozart/assert (1.11.0)\n\u001b[0m\u001b[91m  - Downloading dragonmantank/cron-expression (v3.3.1)\n\u001b[0m\u001b[91m  - Downloading guzzlehttp/promises (1.5.2)\n\u001b[0m\u001b[91m  - Downloading ralouphie/getallheaders (3.0.3)\n\u001b[0m\u001b[91m  - Downloading psr/http-message (1.0.1)\n\u001b[0m\u001b[91m  - Downloading psr/http-factory (1.0.1)\n\u001b[0m\u001b[91m  - Downloading guzzlehttp/psr7 (2.4.3)\n\u001b[0m\u001b[91m  - Downloading symfony/deprecation-contracts (v3.2.0)\n\u001b[0m\u001b[91m  - Downloading psr/http-client (1.0.1)\n\u001b[0m\u001b[91m  - Downloading guzzlehttp/guzzle (7.5.0)\n\u001b[0m\u001b[91m  - Downloading influxdb/influxdb-php (1.15.2)\n\u001b[0m\u001b[91m  - Downloading mustangostang/spyc (0.6.3)\n\u001b[0m\u001b[91m  - Downloading matomo/device-detector (6.0.0)\n\u001b[0m\u001b[91m  - Downloading phpmailer/phpmailer (v6.6.0)\n\u001b[0m\u001b[91m  - Downloading psr/log (1.1.4)\n\u001b[0m\u001b[91m  - Downloading colinmollenhour/credis (v1.14.0)\n\u001b[0m\u001b[91m  - Downloading resque/php-resque (v1.3.6)\n\u001b[0m\u001b[91m  - Downloading slickdeals/statsd (3.1.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/framework (0.25.1)\n\u001b[0m\u001b[91m  - Downloading utopia-php/cache (0.8.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/database (0.28.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/abuse (0.16.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/analytics (0.2.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/audit (0.17.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/config (0.2.2)\n\u001b[0m\u001b[91m  - Downloading utopia-php/domains (v1.1.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/image (0.5.4)\n\u001b[0m\u001b[91m  - Downloading utopia-php/locale (0.4.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/logger (0.3.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/messaging (0.1.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/cli (0.13.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/orchestration (0.6.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/preloader (0.2.4)\n\u001b[0m\u001b[91m  - Downloading utopia-php/registry (0.5.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/storage (0.11.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/swoole (0.5.0)\n\u001b[0m\u001b[91m  - Downloading utopia-php/websocket (0.1.0)\n\u001b[0m\u001b[91m  - Downloading webonyx/graphql-php (v14.11.8)\n\u001b[0m\u001b[91m  0/44 [>---------------------------]   0%\u001b[0m\u001b[91m\n  7/44 [====>-----------------------]  15%\u001b[0m\u001b[91m\n 15/44 [=========>------------------]  34%\u001b[0m\u001b[91m\n 16/44 [==========>-----------------]  36%\u001b[0m\u001b[91m\n 17/44 [==========>-----------------]  38%\u001b[0m\u001b[91m\n 21/44 [=============>--------------]  47%\u001b[0m\u001b[91m\n 26/44 [================>-----------]  59%\u001b[0m\u001b[91m\n 28/44 [=================>----------]  63%\u001b[0m\u001b[91m\n 30/44 [===================>--------]  68%\u001b[0m\u001b[91m\n 35/44 [======================>-----]  79%\u001b[0m\u001b[91m\n 37/44 [=======================>----]  84%\u001b[0m\u001b[91m\n 40/44 [=========================>--]  90%\u001b[0m\u001b[91m\n 42/44 [==========================>-]  95%\u001b[0m\u001b[91m\n 43/44 [===========================>]  97%\u001b[0m\u001b[91m\n 44/44 [============================] 100%\n\u001b[0m\u001b[91m  - Installing adhocore/jwt (1.1.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing appwrite/php-clamav (1.1.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing laravel/pint (v1.2.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/system (0.6.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing appwrite/php-runtimes (0.11.1): \u001b[0m\u001b[91mCloning 9d74a477ba from cache\n\u001b[0m\u001b[91m  - Installing chillerlan/php-settings-container (2.1.4): Extracting archive\n\u001b[0m\u001b[91m  - Installing chillerlan/php-qrcode (4.3.3): Extracting archive\n\u001b[0m\u001b[91m  - Installing webmozart/assert (1.11.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing dragonmantank/cron-expression (v3.3.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing guzzlehttp/promises (1.5.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing ralouphie/getallheaders (3.0.3): Extracting archive\n\u001b[0m\u001b[91m  - Installing psr/http-message (1.0.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing psr/http-factory (1.0.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing guzzlehttp/psr7 (2.4.3): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/deprecation-contracts (v3.2.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing psr/http-client (1.0.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing guzzlehttp/guzzle (7.5.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing influxdb/influxdb-php (1.15.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing mustangostang/spyc (0.6.3): Extracting archive\n\u001b[0m\u001b[91m  - Installing matomo/device-detector (6.0.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing phpmailer/phpmailer (v6.6.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing psr/log (1.1.4): Extracting archive\n\u001b[0m\u001b[91m  - Installing colinmollenhour/credis (v1.14.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing resque/php-resque (v1.3.6): Extracting archive\n\u001b[0m\u001b[91m  - Installing slickdeals/statsd (3.1.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/framework (0.25.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/cache (0.8.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/database (0.28.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/abuse (0.16.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/analytics (0.2.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/audit (0.17.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/config (0.2.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/domains (v1.1.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/image (0.5.4): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/locale (0.4.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/logger (0.3.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/messaging (0.1.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/cli (0.13.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/orchestration (0.6.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/preloader (0.2.4): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/registry (0.5.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/storage (0.11.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/swoole (0.5.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing utopia-php/websocket (0.1.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing webonyx/graphql-php (v14.11.8): Extracting archive\n\u001b[0m\u001b[91m  0/34 [>---------------------------]   0%\u001b[0m\u001b[91m\n 10/34 [========>-------------------]  29%\u001b[0m\u001b[91m\n 20/34 [================>-----------]  58%\u001b[0m\u001b[91m\n 29/34 [=======================>----]  85%\u001b[0m\u001b[91m\n 33/34 [===========================>]  97%\u001b[0m\u001b[91m\n 34/34 [============================] 100%\n\u001b[0m\u001b[91mPackage influxdb/influxdb-php is abandoned, you should avoid using it. No replacement was suggested.\nGenerating optimized autoload files\n\u001b[0m\u001b[91m10 packages you are using are looking for funding.\nUse the `composer fund` command to find out more!\n\u001b[0mRemoving intermediate container 048d770ac5af\n ---> 910773f697df\nStep 8/97 : FROM node:16.14.2-alpine3.15 as node\n16.14.2-alpine3.15: Pulling from library/node\ndf9b9388f04a: Already exists\n622e2b598d8a: Pulling fs layer\nf7c8a32a53f2: Pulling fs layer\n7da04ed7d1ef: Pulling fs layer\n7da04ed7d1ef: Verifying Checksum\n7da04ed7d1ef: Download complete\nf7c8a32a53f2: Verifying Checksum\nf7c8a32a53f2: Download complete\n622e2b598d8a: Verifying Checksum\n622e2b598d8a: Download complete\n622e2b598d8a: Pull complete\nf7c8a32a53f2: Pull complete\n7da04ed7d1ef: Pull complete\nDigest: sha256:28bed508446db2ee028d08e76fb47b935defa26a84986ca050d2596ea67fd506\nStatus: Downloaded newer image for node:16.14.2-alpine3.15\n ---> 59b389513e8a\nStep 9/97 : COPY app/console /usr/local/src/console\n ---> 03ca88896e45\nStep 10/97 : WORKDIR /usr/local/src/console\n ---> Running in c94698156448\nRemoving intermediate container c94698156448\n ---> d48e25de8015\nStep 11/97 : ARG VITE_GA_PROJECT\n ---> Running in 0557addf39d1\nRemoving intermediate container 0557addf39d1\n ---> 49af17deccc8\nStep 12/97 : ARG VITE_CONSOLE_MODE\n ---> Running in 0404773093c0\nRemoving intermediate container 0404773093c0\n ---> ece3aaf2e595\nStep 13/97 : ENV VITE_GA_PROJECT=$VITE_GA_PROJECT\n ---> Running in af26ef607967\nRemoving intermediate container af26ef607967\n ---> 583ef25722a4\nStep 14/97 : ENV VITE_CONSOLE_MODE=$VITE_CONSOLE_MODE\n ---> Running in a97f1cb37e96\nRemoving intermediate container a97f1cb37e96\n ---> ed18e48732f9\nStep 15/97 : RUN npm ci\n ---> Running in a5aaf0dd0422\n\u001b[91mnpm\u001b[0m\u001b[91m ERR! The `npm ci` command can only install with an existing package-lock.json or\nnpm ERR!\u001b[0m\u001b[91m npm-shrinkwrap.json with lockfileVersion >= 1. Run an install with npm@5 or\nnpm ERR!\u001b[0m\u001b[91m later to generate a package-lock.json file, then try again.\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR! A complete log of this run can be found in:\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!     /root/.npm/_logs/2022-12-28T13_54_47_655Z-debug-0.log\n\u001b[0mRemoving intermediate container a5aaf0dd0422\n","stderr":"The command '/bin/sh -c npm ci' returned a non-zero code: 1\n"},"endTime":1672235690857}