{"repository":"https://github.com/hifi/heisenbridge","dockerfilePath":"Dockerfile","startTime":1673052702317,"endTime":1673052745110,"clone":{"startTime":1673052702318,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/hifi/heisenbridge'...\n","error":null,"endTime":1673052703052,"commit":"2171ee21a064e5c027574bb59aca59894e1ba793"},"originalBuild":{"startTime":1673052703147,"endTime":1673052725602,"error":null,"stdout":"Sending build context to Docker daemon  505.3kB\r\r\nStep 1/8 : FROM docker.io/alpine:3.17.0\n3.17.0: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:3.17.0\n ---> 49176f190c7e\nStep 2/8 : RUN apk add --no-cache python3 py3-ruamel.yaml.clib\n ---> Running in 2a7a61ccbea2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing libbz2 (1.0.8-r4)\n(2/14) Installing libexpat (2.5.0-r0)\n(3/14) Installing libffi (3.4.4-r0)\n(4/14) Installing gdbm (1.23-r0)\n(5/14) Installing xz-libs (5.2.9-r0)\n(6/14) Installing libgcc (12.2.1_git20220924-r4)\n(7/14) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/14) Installing mpdecimal (2.5.1-r1)\n(9/14) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(10/14) Installing ncurses-libs (6.3_p20221119-r0)\n(11/14) Installing readline (8.2.0-r0)\n(12/14) Installing sqlite-libs (3.40.1-r0)\n(13/14) Installing python3 (3.10.9-r1)\n(14/14) Installing py3-ruamel.yaml.clib (0.2.7-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 60 MiB in 29 packages\nRemoving intermediate container 2a7a61ccbea2\n ---> eb0654c7c809\nStep 3/8 : WORKDIR /opt/heisenbridge\n ---> Running in 97287c45ed1b\nRemoving intermediate container 97287c45ed1b\n ---> 9cb960dc38b8\nStep 4/8 : COPY . .\n ---> 33a722b1ba25\nStep 5/8 : RUN apk add --no-cache --virtual build-dependencies py3-setuptools py3-pip python3-dev gcc musl-dev &&     python setup.py gen_version &&     rm -rf .git &&     pip install -e . &&     apk del build-dependencies &&     python -m heisenbridge  -h\n ---> Running in 5a5ca6bd8d57\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing py3-parsing (3.0.9-r0)\n(2/18) Installing py3-packaging (21.3-r2)\n(3/18) Installing py3-setuptools (65.6.0-r0)\n(4/18) Installing py3-six (1.16.0-r3)\n(5/18) Installing py3-retrying (1.3.3-r3)\n(6/18) Installing py3-pip (22.3.1-r1)\n(7/18) Installing pkgconf (1.9.3-r0)\n(8/18) Installing python3-dev (3.10.9-r1)\n(9/18) Installing binutils (2.39-r2)\n(10/18) Installing libgomp (12.2.1_git20220924-r4)\n(11/18) Installing libatomic (12.2.1_git20220924-r4)\n(12/18) Installing gmp (6.2.1-r2)\n(13/18) Installing isl25 (0.25-r0)\n(14/18) Installing mpfr4 (4.1.0-r0)\n(15/18) Installing mpc1 (1.2.1-r1)\n(16/18) Installing gcc (12.2.1_git20220924-r4)\n(17/18) Installing musl-dev (1.2.3-r4)\n(18/18) Installing build-dependencies (20230107.005151)\nExecuting busybox-1.35.0-r29.trigger\nOK: 272 MiB in 47 packages\n\u001b[91m/usr/lib/python3.10/site-packages/setuptools/config/setupcfg.py:508: SetuptoolsDeprecationWarning: The license_file parameter is deprecated, use license_files instead.\n  warnings.warn(msg, warning_class)\n\u001b[0mrunning gen_version\nObtaining file:///opt/heisenbridge\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting irc<21.0,>=19.0.0\n  Downloading irc-20.1.0-py3-none-any.whl (83 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 83.8/83.8 kB 4.2 MB/s eta 0:00:00\nCollecting ruamel.yaml<0.18,>=0.15.35\n  Downloading ruamel.yaml-0.17.21-py3-none-any.whl (109 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 109.5/109.5 kB 7.8 MB/s eta 0:00:00\nCollecting mautrix<0.17,>=0.15.0\n  Downloading mautrix-0.16.11-py3-none-any.whl (297 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 297.1/297.1 kB 18.1 MB/s eta 0:00:00\nCollecting python-socks[asyncio]>=1.2.4\n  Downloading python_socks-2.1.1-py3-none-any.whl (49 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.7/49.7 kB 3.9 MB/s eta 0:00:00\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 34.3 MB/s eta 0:00:00\nCollecting jaraco.collections\n  Downloading jaraco.collections-3.8.0-py3-none-any.whl (10 kB)\nCollecting jaraco.functools>=1.20\n  Downloading jaraco.functools-3.5.2-py3-none-any.whl (7.3 kB)\nCollecting tempora>=1.6\n  Downloading tempora-5.2.0-py3-none-any.whl (13 kB)\nCollecting jaraco.logging\n  Downloading jaraco.logging-3.1.2-py3-none-any.whl (4.8 kB)\nCollecting jaraco.text\n  Downloading jaraco.text-3.11.0-py3-none-any.whl (11 kB)\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 kB 5.5 MB/s eta 0:00:00\nCollecting jaraco.stream\n  Downloading jaraco.stream-3.0.3-py3-none-any.whl (6.0 kB)\nCollecting attrs>=18.1.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 5.8 MB/s eta 0:00:00\nCollecting yarl<2,>=1.5\n  Downloading yarl-1.8.2-cp310-cp310-musllinux_1_1_x86_64.whl (248 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 248.1/248.1 kB 22.3 MB/s eta 0:00:00\nCollecting aiohttp<4,>=3\n  Downloading aiohttp-3.8.3-cp310-cp310-musllinux_1_1_x86_64.whl (1.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 46.8 MB/s eta 0:00:00\nCollecting async-timeout>=3.0.1\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nRequirement already satisfied: ruamel.yaml.clib>=0.2.6 in /usr/lib/python3.10/site-packages (from ruamel.yaml<0.18,>=0.15.35->heisenbridge==0.0.0) (0.2.7)\nCollecting aiosignal>=1.1.2\n  Downloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)\nCollecting charset-normalizer<3.0,>=2.0\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting multidict<7.0,>=4.5\n  Downloading multidict-6.0.4-cp310-cp310-musllinux_1_1_x86_64.whl (134 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.8/134.8 kB 12.2 MB/s eta 0:00:00\nCollecting frozenlist>=1.1.1\n  Downloading frozenlist-1.3.3-cp310-cp310-musllinux_1_1_x86_64.whl (152 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 152.5/152.5 kB 12.1 MB/s eta 0:00:00\nCollecting idna>=2.0\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 5.9 MB/s eta 0:00:00\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting inflect\n  Downloading inflect-6.0.2-py3-none-any.whl (34 kB)\nCollecting autocommand\n  Downloading autocommand-2.2.2-py3-none-any.whl (19 kB)\nCollecting jaraco.context>=4.1\n  Downloading jaraco.context-4.2.0-py3-none-any.whl (5.0 kB)\nCollecting pydantic>=1.9.1\n  Downloading pydantic-1.10.4-cp310-cp310-musllinux_1_1_x86_64.whl (3.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 43.6 MB/s eta 0:00:00\nCollecting typing-extensions>=4.2.0\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nInstalling collected packages: pytz, python-socks, typing-extensions, tempora, ruamel.yaml, multidict, more-itertools, jaraco.stream, jaraco.context, idna, frozenlist, charset-normalizer, autocommand, attrs, async-timeout, yarl, pydantic, jaraco.logging, jaraco.functools, jaraco.classes, aiosignal, inflect, aiohttp, mautrix, jaraco.text, jaraco.collections, irc, heisenbridge\n  Running setup.py develop for heisenbridge\nSuccessfully installed aiohttp-3.8.3 aiosignal-1.3.1 async-timeout-4.0.2 attrs-22.2.0 autocommand-2.2.2 charset-normalizer-2.1.1 frozenlist-1.3.3 heisenbridge-0.0.0 idna-3.4 inflect-6.0.2 irc-20.1.0 jaraco.classes-3.2.3 jaraco.collections-3.8.0 jaraco.context-4.2.0 jaraco.functools-3.5.2 jaraco.logging-3.1.2 jaraco.stream-3.0.3 jaraco.text-3.11.0 mautrix-0.16.11 more-itertools-9.0.0 multidict-6.0.4 pydantic-1.10.4 python-socks-2.1.1 pytz-2022.7 ruamel.yaml-0.17.21 tempora-5.2.0 typing-extensions-4.4.0 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/18) Purging build-dependencies (20230107.005151)\n(2/18) Purging py3-pip (22.3.1-r1)\n(3/18) Purging py3-retrying (1.3.3-r3)\n(4/18) Purging py3-six (1.16.0-r3)\n(5/18) Purging py3-setuptools (65.6.0-r0)\n(6/18) Purging py3-packaging (21.3-r2)\n(7/18) Purging py3-parsing (3.0.9-r0)\n(8/18) Purging python3-dev (3.10.9-r1)\n(9/18) Purging gcc (12.2.1_git20220924-r4)\n(10/18) Purging binutils (2.39-r2)\n(11/18) Purging libatomic (12.2.1_git20220924-r4)\n(12/18) Purging libgomp (12.2.1_git20220924-r4)\n(13/18) Purging musl-dev (1.2.3-r4)\n(14/18) Purging pkgconf (1.9.3-r0)\n(15/18) Purging isl25 (0.25-r0)\n(16/18) Purging mpc1 (1.2.1-r1)\n(17/18) Purging mpfr4 (4.1.0-r0)\n(18/18) Purging gmp (6.2.1-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 60 MiB in 29 packages\nusage: python -m heisenbridge [-h] [-v] (-c CONFIG | --version)\n                              [-l LISTEN_ADDRESS] [-p LISTEN_PORT] [-u UID]\n                              [-g GID] [-i] [--identd-port IDENTD_PORT]\n                              [--generate] [--generate-compat] [--reset]\n                              [--safe-mode] [-o OWNER]\n                              [homeserver]\n\na bouncer-style Matrix IRC bridge (v0.0.0)\n\npositional arguments:\n  homeserver            URL of Matrix homeserver (default:\n                        http://localhost:8008)\n\noptions:\n  -h, --help            show this help message and exit\n  -v, --verbose         logging verbosity level: once is info, twice is debug\n                        (default: 0)\n  -c CONFIG, --config CONFIG\n                        registration YAML file path, must be writable if\n                        generating (default: None)\n  --version             show bridge version\n  -l LISTEN_ADDRESS, --listen-address LISTEN_ADDRESS\n                        bridge listen address (default: as specified in url in\n                        config, 127.0.0.1 otherwise) (default: None)\n  -p LISTEN_PORT, --listen-port LISTEN_PORT\n                        bridge listen port (default: as specified in url in\n                        config, 9898 otherwise) (default: None)\n  -u UID, --uid UID     user id to run as (default: None)\n  -g GID, --gid GID     group id to run as (default: None)\n  -i, --identd          enable identd service (default: False)\n  --identd-port IDENTD_PORT\n                        identd listen port (default: 113)\n  --generate            generate registration YAML for Matrix homeserver\n                        (Synapse)\n  --generate-compat     generate registration YAML for Matrix homeserver\n                        (Dendrite and Conduit)\n  --reset               reset ALL bridge configuration from homeserver and\n                        exit\n  --safe-mode           prevent appservice from leaving invalid rooms on\n                        startup (for debugging) (default: False)\n  -o OWNER, --owner OWNER\n                        set owner MXID (eg: @user:homeserver) or first talking\n                        local user will claim the bridge (default: None)\nRemoving intermediate container 5a5ca6bd8d57\n ---> 5c580366c703\nStep 6/8 : EXPOSE 9898/tcp 113/tcp\n ---> Running in ab0473580c92\nRemoving intermediate container ab0473580c92\n ---> ec551b026170\nStep 7/8 : ENTRYPOINT [\"heisenbridge\", \"-l\", \"0.0.0.0\"]\n ---> Running in 9476bb0fd485\nRemoving intermediate container 9476bb0fd485\n ---> 3fbcb97f891c\nStep 8/8 : CMD []\n ---> Running in 5e7c6d2048a6\nRemoving intermediate container 5e7c6d2048a6\n ---> b913c7ff6339\nSuccessfully built b913c7ff6339\nSuccessfully tagged heisenbridge:latest\n","stderr":"","imageSize":86962070},"repair":{"startTime":1673052725668,"endTime":1673052725752,"violations":[{"name":"pipUseNoCacheDir","position":{"start":15,"end":15,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"FROM docker.io/alpine:3.17.0\n\n# install runtime dependencies\nRUN apk add --no-cache python3 py3-ruamel.yaml.clib\n\nWORKDIR /opt/heisenbridge\nCOPY . .\n\n# install deps and run a sanity check\n#\n# `python3-dev gcc musl-dev` are installed because building `multidict`\n# on armv7l fails otherwise. amd64 and aarch64 don't need this.\nRUN apk add --no-cache --virtual build-dependencies py3-setuptools py3-pip python3-dev gcc musl-dev && \\\n    python setup.py gen_version && \\\n    rm -rf .git && \\\n    pip install --no-cache-dir -e . && \\\n    apk del build-dependencies && \\\n    python -m heisenbridge  -h\n\n# identd also needs to be enabled with --identd in CMD\nEXPOSE 9898/tcp 113/tcp\nENTRYPOINT [\"heisenbridge\", \"-l\", \"0.0.0.0\"]\nCMD []\n"},"repairedBuild":{"startTime":1673052725989,"endTime":1673052744779,"error":null,"stdout":"Sending build context to Docker daemon  505.3kB\r\r\nStep 1/8 : FROM docker.io/alpine:3.17.0\n ---> 49176f190c7e\nStep 2/8 : RUN apk add --no-cache python3 py3-ruamel.yaml.clib\n ---> Running in 9e8964bb7bf7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing libbz2 (1.0.8-r4)\n(2/14) Installing libexpat (2.5.0-r0)\n(3/14) Installing libffi (3.4.4-r0)\n(4/14) Installing gdbm (1.23-r0)\n(5/14) Installing xz-libs (5.2.9-r0)\n(6/14) Installing libgcc (12.2.1_git20220924-r4)\n(7/14) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/14) Installing mpdecimal (2.5.1-r1)\n(9/14) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(10/14) Installing ncurses-libs (6.3_p20221119-r0)\n(11/14) Installing readline (8.2.0-r0)\n(12/14) Installing sqlite-libs (3.40.1-r0)\n(13/14) Installing python3 (3.10.9-r1)\n(14/14) Installing py3-ruamel.yaml.clib (0.2.7-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 60 MiB in 29 packages\nRemoving intermediate container 9e8964bb7bf7\n ---> a499e1eb09f1\nStep 3/8 : WORKDIR /opt/heisenbridge\n ---> Running in 8add591f4749\nRemoving intermediate container 8add591f4749\n ---> 8c4c1e40379f\nStep 4/8 : COPY . .\n ---> 0070b47e0b09\nStep 5/8 : RUN apk add --no-cache --virtual build-dependencies py3-setuptools py3-pip python3-dev gcc musl-dev &&     python setup.py gen_version &&     rm -rf .git &&     pip install --no-cache-dir -e . &&     apk del build-dependencies &&     python -m heisenbridge  -h\n ---> Running in 3dd47b1f3060\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/18) Installing py3-parsing (3.0.9-r0)\n(2/18) Installing py3-packaging (21.3-r2)\n(3/18) Installing py3-setuptools (65.6.0-r0)\n(4/18) Installing py3-six (1.16.0-r3)\n(5/18) Installing py3-retrying (1.3.3-r3)\n(6/18) Installing py3-pip (22.3.1-r1)\n(7/18) Installing pkgconf (1.9.3-r0)\n(8/18) Installing python3-dev (3.10.9-r1)\n(9/18) Installing binutils (2.39-r2)\n(10/18) Installing libgomp (12.2.1_git20220924-r4)\n(11/18) Installing libatomic (12.2.1_git20220924-r4)\n(12/18) Installing gmp (6.2.1-r2)\n(13/18) Installing isl25 (0.25-r0)\n(14/18) Installing mpfr4 (4.1.0-r0)\n(15/18) Installing mpc1 (1.2.1-r1)\n(16/18) Installing gcc (12.2.1_git20220924-r4)\n(17/18) Installing musl-dev (1.2.3-r4)\n(18/18) Installing build-dependencies (20230107.005212)\nExecuting busybox-1.35.0-r29.trigger\nOK: 272 MiB in 47 packages\n\u001b[91m/usr/lib/python3.10/site-packages/setuptools/config/setupcfg.py:508: SetuptoolsDeprecationWarning: The license_file parameter is deprecated, use license_files instead.\n  warnings.warn(msg, warning_class)\n\u001b[0mrunning gen_version\nObtaining file:///opt/heisenbridge\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting irc<21.0,>=19.0.0\n  Downloading irc-20.1.0-py3-none-any.whl (83 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 83.8/83.8 kB 5.5 MB/s eta 0:00:00\nCollecting ruamel.yaml<0.18,>=0.15.35\n  Downloading ruamel.yaml-0.17.21-py3-none-any.whl (109 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 109.5/109.5 kB 82.8 MB/s eta 0:00:00\nCollecting mautrix<0.17,>=0.15.0\n  Downloading mautrix-0.16.11-py3-none-any.whl (297 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 297.1/297.1 kB 248.4 MB/s eta 0:00:00\nCollecting python-socks[asyncio]>=1.2.4\n  Downloading python_socks-2.1.1-py3-none-any.whl (49 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.7/49.7 kB 204.2 MB/s eta 0:00:00\nCollecting jaraco.functools>=1.20\n  Downloading jaraco.functools-3.5.2-py3-none-any.whl (7.3 kB)\nCollecting jaraco.logging\n  Downloading jaraco.logging-3.1.2-py3-none-any.whl (4.8 kB)\nCollecting jaraco.collections\n  Downloading jaraco.collections-3.8.0-py3-none-any.whl (10 kB)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 173.6 MB/s eta 0:00:00\nCollecting tempora>=1.6\n  Downloading tempora-5.2.0-py3-none-any.whl (13 kB)\nCollecting jaraco.stream\n  Downloading jaraco.stream-3.0.3-py3-none-any.whl (6.0 kB)\nCollecting jaraco.text\n  Downloading jaraco.text-3.11.0-py3-none-any.whl (11 kB)\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.8/52.8 kB 162.5 MB/s eta 0:00:00\nCollecting aiohttp<4,>=3\n  Downloading aiohttp-3.8.3-cp310-cp310-musllinux_1_1_x86_64.whl (1.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 169.7 MB/s eta 0:00:00\nCollecting attrs>=18.1.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 131.4 MB/s eta 0:00:00\nCollecting yarl<2,>=1.5\n  Downloading yarl-1.8.2-cp310-cp310-musllinux_1_1_x86_64.whl (248 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 248.1/248.1 kB 235.9 MB/s eta 0:00:00\nCollecting async-timeout>=3.0.1\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nRequirement already satisfied: ruamel.yaml.clib>=0.2.6 in /usr/lib/python3.10/site-packages (from ruamel.yaml<0.18,>=0.15.35->heisenbridge==0.0.0) (0.2.7)\nCollecting charset-normalizer<3.0,>=2.0\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting aiosignal>=1.1.2\n  Downloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)\nCollecting multidict<7.0,>=4.5\n  Downloading multidict-6.0.4-cp310-cp310-musllinux_1_1_x86_64.whl (134 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.8/134.8 kB 54.0 MB/s eta 0:00:00\nCollecting frozenlist>=1.1.1\n  Downloading frozenlist-1.3.3-cp310-cp310-musllinux_1_1_x86_64.whl (152 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 152.5/152.5 kB 79.4 MB/s eta 0:00:00\nCollecting idna>=2.0\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 173.3 MB/s eta 0:00:00\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting inflect\n  Downloading inflect-6.0.2-py3-none-any.whl (34 kB)\nCollecting autocommand\n  Downloading autocommand-2.2.2-py3-none-any.whl (19 kB)\nCollecting jaraco.context>=4.1\n  Downloading jaraco.context-4.2.0-py3-none-any.whl (5.0 kB)\nCollecting pydantic>=1.9.1\n  Downloading pydantic-1.10.4-cp310-cp310-musllinux_1_1_x86_64.whl (3.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 109.5 MB/s eta 0:00:00\nCollecting typing-extensions>=4.2.0\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nInstalling collected packages: pytz, python-socks, typing-extensions, tempora, ruamel.yaml, multidict, more-itertools, jaraco.stream, jaraco.context, idna, frozenlist, charset-normalizer, autocommand, attrs, async-timeout, yarl, pydantic, jaraco.logging, jaraco.functools, jaraco.classes, aiosignal, inflect, aiohttp, mautrix, jaraco.text, jaraco.collections, irc, heisenbridge\n  Running setup.py develop for heisenbridge\nSuccessfully installed aiohttp-3.8.3 aiosignal-1.3.1 async-timeout-4.0.2 attrs-22.2.0 autocommand-2.2.2 charset-normalizer-2.1.1 frozenlist-1.3.3 heisenbridge-0.0.0 idna-3.4 inflect-6.0.2 irc-20.1.0 jaraco.classes-3.2.3 jaraco.collections-3.8.0 jaraco.context-4.2.0 jaraco.functools-3.5.2 jaraco.logging-3.1.2 jaraco.stream-3.0.3 jaraco.text-3.11.0 mautrix-0.16.11 more-itertools-9.0.0 multidict-6.0.4 pydantic-1.10.4 python-socks-2.1.1 pytz-2022.7 ruamel.yaml-0.17.21 tempora-5.2.0 typing-extensions-4.4.0 yarl-1.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/18) Purging build-dependencies (20230107.005212)\n(2/18) Purging py3-pip (22.3.1-r1)\n(3/18) Purging py3-retrying (1.3.3-r3)\n(4/18) Purging py3-six (1.16.0-r3)\n(5/18) Purging py3-setuptools (65.6.0-r0)\n(6/18) Purging py3-packaging (21.3-r2)\n(7/18) Purging py3-parsing (3.0.9-r0)\n(8/18) Purging python3-dev (3.10.9-r1)\n(9/18) Purging gcc (12.2.1_git20220924-r4)\n(10/18) Purging binutils (2.39-r2)\n(11/18) Purging libatomic (12.2.1_git20220924-r4)\n(12/18) Purging libgomp (12.2.1_git20220924-r4)\n(13/18) Purging musl-dev (1.2.3-r4)\n(14/18) Purging pkgconf (1.9.3-r0)\n(15/18) Purging isl25 (0.25-r0)\n(16/18) Purging mpc1 (1.2.1-r1)\n(17/18) Purging mpfr4 (4.1.0-r0)\n(18/18) Purging gmp (6.2.1-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 60 MiB in 29 packages\nusage: python -m heisenbridge [-h] [-v] (-c CONFIG | --version)\n                              [-l LISTEN_ADDRESS] [-p LISTEN_PORT] [-u UID]\n                              [-g GID] [-i] [--identd-port IDENTD_PORT]\n                              [--generate] [--generate-compat] [--reset]\n                              [--safe-mode] [-o OWNER]\n                              [homeserver]\n\na bouncer-style Matrix IRC bridge (v0.0.0)\n\npositional arguments:\n  homeserver            URL of Matrix homeserver (default:\n                        http://localhost:8008)\n\noptions:\n  -h, --help            show this help message and exit\n  -v, --verbose         logging verbosity level: once is info, twice is debug\n                        (default: 0)\n  -c CONFIG, --config CONFIG\n                        registration YAML file path, must be writable if\n                        generating (default: None)\n  --version             show bridge version\n  -l LISTEN_ADDRESS, --listen-address LISTEN_ADDRESS\n                        bridge listen address (default: as specified in url in\n                        config, 127.0.0.1 otherwise) (default: None)\n  -p LISTEN_PORT, --listen-port LISTEN_PORT\n                        bridge listen port (default: as specified in url in\n                        config, 9898 otherwise) (default: None)\n  -u UID, --uid UID     user id to run as (default: None)\n  -g GID, --gid GID     group id to run as (default: None)\n  -i, --identd          enable identd service (default: False)\n  --identd-port IDENTD_PORT\n                        identd listen port (default: 113)\n  --generate            generate registration YAML for Matrix homeserver\n                        (Synapse)\n  --generate-compat     generate registration YAML for Matrix homeserver\n                        (Dendrite and Conduit)\n  --reset               reset ALL bridge configuration from homeserver and\n                        exit\n  --safe-mode           prevent appservice from leaving invalid rooms on\n                        startup (for debugging) (default: False)\n  -o OWNER, --owner OWNER\n                        set owner MXID (eg: @user:homeserver) or first talking\n                        local user will claim the bridge (default: None)\nRemoving intermediate container 3dd47b1f3060\n ---> 2f46c8de8969\nStep 6/8 : EXPOSE 9898/tcp 113/tcp\n ---> Running in 3e135cd59b3e\nRemoving intermediate container 3e135cd59b3e\n ---> d5713746410b\nStep 7/8 : ENTRYPOINT [\"heisenbridge\", \"-l\", \"0.0.0.0\"]\n ---> Running in 00b51d583e8f\nRemoving intermediate container 00b51d583e8f\n ---> 89ba66397591\nStep 8/8 : CMD []\n ---> Running in 54dec926272b\nRemoving intermediate container 54dec926272b\n ---> 573a4ddbba81\nSuccessfully built 573a4ddbba81\nSuccessfully tagged heisenbridge:latest\n","stderr":"","imageSize":79661379}}