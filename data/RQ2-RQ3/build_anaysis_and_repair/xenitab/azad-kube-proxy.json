{"repository":"https://github.com/xenitab/azad-kube-proxy","dockerfilePath":"Dockerfile","startTime":1672990984703,"endTime":1672991212749,"clone":{"startTime":1672990984703,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/xenitab/azad-kube-proxy'...\n","error":null,"endTime":1672990986092,"commit":"3761624bed71f23549b2d20b170c316f6d4c2847"},"originalBuild":{"startTime":1672990986176,"endTime":1672991125517,"error":null,"stdout":"Sending build context to Docker daemon  14.33MB\r\r\nStep 1/26 : FROM golang:1.19.4-bullseye as builder\n1.19.4-bullseye: Pulling from library/golang\nDigest: sha256:9d235ae41bff699b44255bf912e77acac5046b06e61b018561239a35d9bd2ebb\nStatus: Downloaded newer image for golang:1.19.4-bullseye\n ---> 6650307efe4a\nStep 2/26 : WORKDIR /workspace\n ---> Running in 3c15ea6efa2e\nRemoving intermediate container 3c15ea6efa2e\n ---> e30027f71dd1\nStep 3/26 : ARG VERSION\n ---> Running in 961f4f4eaf95\nRemoving intermediate container 961f4f4eaf95\n ---> 1beb51cbf992\nStep 4/26 : ARG REVISION\n ---> Running in 8214148d120b\nRemoving intermediate container 8214148d120b\n ---> 201fd4b63f5b\nStep 5/26 : ARG CREATED\n ---> Running in 684dd1f9eb62\nRemoving intermediate container 684dd1f9eb62\n ---> 65c6576e3d31\nStep 6/26 : ENV VERSION=$VERSION\n ---> Running in 55be425e591d\nRemoving intermediate container 55be425e591d\n ---> f3a513bd5608\nStep 7/26 : ENV REVISION=$REVISION\n ---> Running in 2ada3f9f857f\nRemoving intermediate container 2ada3f9f857f\n ---> c4752ce748f6\nStep 8/26 : ENV CREATED=$CREATED\n ---> Running in 431d22c852d1\nRemoving intermediate container 431d22c852d1\n ---> 78efe03063eb\nStep 9/26 : COPY go.mod go.mod\n ---> ddbea2cef912\nStep 10/26 : COPY go.sum go.sum\n ---> 7f240475ec00\nStep 11/26 : RUN go mod download\n ---> Running in 4d9c8f29cb68\nRemoving intermediate container 4d9c8f29cb68\n ---> 24d4b9e631df\nStep 12/26 : COPY Makefile Makefile\n ---> 3a48b9ec2ef0\nStep 13/26 : COPY cmd/ cmd/\n ---> ebb0d4e8586c\nStep 14/26 : COPY pkg/ pkg/\n ---> e79b81cc4e36\nStep 15/26 : RUN make build\n ---> Running in c13370000ca5\nRemoving intermediate container c13370000ca5\n ---> 79cb1239330c\nStep 16/26 : ENV TINI_VERSION v0.19.0\n ---> Running in e49f26ded5bb\nRemoving intermediate container e49f26ded5bb\n ---> 63fdf6bec7bc\nStep 17/26 : ADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static /tini\n\n\n ---> 5cf2f385f8fc\nStep 18/26 : RUN chmod +x /tini\n ---> Running in 4720cc92e33c\nRemoving intermediate container 4720cc92e33c\n ---> 50aa1a7b3497\nStep 19/26 : RUN apt-get update &&     apt-get -y --no-install-recommends install ca-certificates &&     update-ca-certificates\n ---> Running in b35e53f1d1ac\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (3808 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nUpdating certificates in /etc/ssl/certs...\n0 added, 0 removed; done.\nRunning hooks in /etc/ca-certificates/update.d...\ndone.\nRemoving intermediate container b35e53f1d1ac\n ---> 469eb21f9001\nStep 20/26 : FROM gcr.io/distroless/static-debian11:nonroot\nnonroot: Pulling from distroless/static-debian11\nfc251a6e7981: Pulling fs layer\nfc251a6e7981: Download complete\nfc251a6e7981: Pull complete\nDigest: sha256:cacb3d85a593c44e2f3998175164f0c694e475b40e639294f224062842e90724\nStatus: Downloaded newer image for gcr.io/distroless/static-debian11:nonroot\n ---> a65c2e382650\nStep 21/26 : LABEL org.opencontainers.image.source=\"https://github.com/XenitAB/azad-kube-proxy\"\n ---> Running in 6560f1cae6a2\nRemoving intermediate container 6560f1cae6a2\n ---> 713a8479279f\nStep 22/26 : WORKDIR /\n ---> Running in 19ad00ca2d8e\nRemoving intermediate container 19ad00ca2d8e\n ---> 5b4e6aa30248\nStep 23/26 : COPY --from=builder /workspace/bin/azad-kube-proxy /azad-kube-proxy\n ---> f621696c39da\nStep 24/26 : COPY --from=builder /tini /tini\n ---> 80ee5e65dac7\nStep 25/26 : COPY --from=builder /etc/ssl/certs /etc/ssl/certs\n ---> 4a824bae595e\nStep 26/26 : ENTRYPOINT [ \"/tini\", \"--\", \"/azad-kube-proxy\"]\n ---> Running in 755d02c0d801\nRemoving intermediate container 755d02c0d801\n ---> 80adb5b61f94\nSuccessfully built 80adb5b61f94\nSuccessfully tagged azad-kube-proxy:latest\n","stderr":"","imageSize":42011603},"repair":{"startTime":1672991125588,"endTime":1672991125683,"violations":[{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":28,"end":28,"columnStart":4,"columnEnd":62}}],"repairedDockerfile":"# BUILDER\nFROM golang:1.19.4-bullseye as builder\nWORKDIR /workspace\n\nARG VERSION\nARG REVISION\nARG CREATED\n\nENV VERSION=$VERSION\nENV REVISION=$REVISION\nENV CREATED=$CREATED\n\nCOPY go.mod go.mod\nCOPY go.sum go.sum\nRUN go mod download\n\nCOPY Makefile Makefile\nCOPY cmd/ cmd/\nCOPY pkg/ pkg/\n\nRUN make build\n\nENV TINI_VERSION v0.19.0\nADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static /tini\nRUN chmod +x /tini\n\n# hadolint ignore=DL3008\nRUN apt-get update && \\\n    apt-get -y --no-install-recommends install ca-certificates && \\\n    update-ca-certificates && rm -rf /var/lib/apt/lists/*;\n\n# RUNTIME\nFROM gcr.io/distroless/static-debian11:nonroot\nLABEL org.opencontainers.image.source=\"https://github.com/XenitAB/azad-kube-proxy\"\n\nWORKDIR /\nCOPY --from=builder /workspace/bin/azad-kube-proxy /azad-kube-proxy\nCOPY --from=builder /tini /tini\nCOPY --from=builder /etc/ssl/certs /etc/ssl/certs\n\nENTRYPOINT [ \"/tini\", \"--\", \"/azad-kube-proxy\"]"},"repairedBuild":{"startTime":1672991126043,"endTime":1672991212496,"error":null,"stdout":"Sending build context to Docker daemon  14.33MB\r\r\nStep 1/26 : FROM golang:1.19.4-bullseye as builder\n ---> 6650307efe4a\nStep 2/26 : WORKDIR /workspace\n ---> Running in b3fb18739332\nRemoving intermediate container b3fb18739332\n ---> 467816bcdd52\nStep 3/26 : ARG VERSION\n ---> Running in a7d26ecd9027\nRemoving intermediate container a7d26ecd9027\n ---> eb2e8847d85f\nStep 4/26 : ARG REVISION\n ---> Running in 4050ae17cbe7\nRemoving intermediate container 4050ae17cbe7\n ---> 079c8a85c49a\nStep 5/26 : ARG CREATED\n ---> Running in 137131db4f3a\nRemoving intermediate container 137131db4f3a\n ---> d3545a55d81f\nStep 6/26 : ENV VERSION=$VERSION\n ---> Running in 934989bf9cca\nRemoving intermediate container 934989bf9cca\n ---> 454bd2ad93db\nStep 7/26 : ENV REVISION=$REVISION\n ---> Running in 60f76e9e24a1\nRemoving intermediate container 60f76e9e24a1\n ---> ecf55cbb451c\nStep 8/26 : ENV CREATED=$CREATED\n ---> Running in 9fe1a12111cc\nRemoving intermediate container 9fe1a12111cc\n ---> f3a8308b7349\nStep 9/26 : COPY go.mod go.mod\n ---> 45c52854c0cb\nStep 10/26 : COPY go.sum go.sum\n ---> 72ede3c19f87\nStep 11/26 : RUN go mod download\n ---> Running in 1101c18e13f1\nRemoving intermediate container 1101c18e13f1\n ---> 72e5bda4df24\nStep 12/26 : COPY Makefile Makefile\n ---> 1ede9deb7047\nStep 13/26 : COPY cmd/ cmd/\n ---> aadf6c5ca98d\nStep 14/26 : COPY pkg/ pkg/\n ---> b9c9238c30ac\nStep 15/26 : RUN make build\n ---> Running in 0bf7214799b5\nRemoving intermediate container 0bf7214799b5\n ---> 25e9c4f4c479\nStep 16/26 : ENV TINI_VERSION v0.19.0\n ---> Running in 90d6758cdf3f\nRemoving intermediate container 90d6758cdf3f\n ---> 25eddedc7a49\nStep 17/26 : ADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static /tini\n\n\n ---> abf4e06cfd36\nStep 18/26 : RUN chmod +x /tini\n ---> Running in 49a5a400becf\nRemoving intermediate container 49a5a400becf\n ---> 1da10d37ab7f\nStep 19/26 : RUN apt-get update &&     apt-get -y --no-install-recommends install ca-certificates &&     update-ca-certificates && rm -rf /var/lib/apt/lists/*;\n ---> Running in ca0c8327b6ee\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5291 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nUpdating certificates in /etc/ssl/certs...\n0 added, 0 removed; done.\nRunning hooks in /etc/ca-certificates/update.d...\ndone.\nRemoving intermediate container ca0c8327b6ee\n ---> e854e2b55f99\nStep 20/26 : FROM gcr.io/distroless/static-debian11:nonroot\n ---> a65c2e382650\nStep 21/26 : LABEL org.opencontainers.image.source=\"https://github.com/XenitAB/azad-kube-proxy\"\n ---> Running in 59ed6987e96f\nRemoving intermediate container 59ed6987e96f\n ---> b3b99d557a1a\nStep 22/26 : WORKDIR /\n ---> Running in 3b24306b0409\nRemoving intermediate container 3b24306b0409\n ---> d68f39542f5f\nStep 23/26 : COPY --from=builder /workspace/bin/azad-kube-proxy /azad-kube-proxy\n ---> 50dadfab6468\nStep 24/26 : COPY --from=builder /tini /tini\n ---> 9a6740ab6ce7\nStep 25/26 : COPY --from=builder /etc/ssl/certs /etc/ssl/certs\n ---> 6793f9273b2d\nStep 26/26 : ENTRYPOINT [ \"/tini\", \"--\", \"/azad-kube-proxy\"]\n ---> Running in b7f415fffb64\nRemoving intermediate container b7f415fffb64\n ---> e0e9a81cc66f\nSuccessfully built e0e9a81cc66f\nSuccessfully tagged azad-kube-proxy:latest\n","stderr":"","imageSize":42011603}}