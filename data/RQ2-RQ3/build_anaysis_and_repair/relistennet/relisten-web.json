{"repository":"https://github.com/relistennet/relisten-web","dockerfilePath":"Dockerfile","startTime":1672168178726,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/relistennet/relisten-web'...\n","error":null,"commit":"46b09af2ffa4f3da25b3bd47147e47e0bebef955"},"originalBuild":{"startTimestamp":1672168179648,"endTimestamp":1672168278091,"error":null,"stdout":"Sending build context to Docker daemon  722.9kB\r\r\nStep 1/12 : FROM node:12-alpine\n12-alpine: Pulling from library/node\ndf9b9388f04a: Already exists\n3bf6d7380205: Pulling fs layer\n7939e601ee5e: Pulling fs layer\n31f0fb9de071: Pulling fs layer\n31f0fb9de071: Verifying Checksum\n31f0fb9de071: Download complete\n7939e601ee5e: Verifying Checksum\n7939e601ee5e: Download complete\n3bf6d7380205: Verifying Checksum\n3bf6d7380205: Download complete\n3bf6d7380205: Pull complete\n7939e601ee5e: Pull complete\n31f0fb9de071: Pull complete\nDigest: sha256:d4b15b3d48f42059a15bd659be60afe21762aae9d6cbea6f124440895c27db68\nStatus: Downloaded newer image for node:12-alpine\n ---> bb6d28039b8c\nStep 2/12 : RUN mkdir -p /usr/src/app\n ---> Running in 86588facb8c3\nRemoving intermediate container 86588facb8c3\n ---> 836caf8ad0c9\nStep 3/12 : WORKDIR /usr/src/app\n ---> Running in 8aa27d5cd387\nRemoving intermediate container 8aa27d5cd387\n ---> 1fcf26e3894a\nStep 4/12 : RUN yarn global add node-gyp\n ---> Running in 60a4be765adf\nyarn global v1.22.18\n[1/4] Resolving packages...\n\u001b[91mwarning node-gyp > make-fetch-happen > cacache > @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Installed \"node-gyp@9.3.1\" with binaries:\n      - node-gyp\nDone in 5.02s.\nRemoving intermediate container 60a4be765adf\n ---> cc4803925662\nStep 5/12 : COPY package.json /usr/src/app\n ---> d88125b89f44\nStep 6/12 : COPY yarn.lock /usr/src/app\n ---> 4771aeb158e5\nStep 7/12 : RUN yarn install --immutable --immutable-cache --check-cache\n ---> Running in be8f5b0b7ac5\nyarn install v1.22.18\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@switz/eslint-config > @typescript-eslint/eslint-plugin > tsutils@3.21.0\" has unmet peer dependency \"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 19.15s.\nRemoving intermediate container be8f5b0b7ac5\n ---> 069f40a94e9f\nStep 8/12 : COPY . /usr/src/app\n ---> 25c86cf8b226\nStep 9/12 : RUN npm run bands\n ---> Running in d15993893539\n\n> relisten-web@1.0.0 bands /usr/src/app\n> node src/lib/generateSlugs.js\n\nRemoving intermediate container d15993893539\n ---> ba0b62399dd9\nStep 10/12 : RUN npm run build && yarn cache clean\n ---> Running in e6093c73cb60\n\n> relisten-web@1.0.0 build /usr/src/app\n> next build\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Checking validity of types...\ninfo  - Creating an optimized production build...\n[styled-jsx] Loading plugin from path: /usr/src/app/node_modules/styled-jsx-plugin-stylus/index.js\ninfo  - Compiled successfully\ninfo  - Collecting page data...\n\u001b[91mWarning: You have opted-out of Automatic Static Optimization due to `getInitialProps` in `pages/_app`. This does not opt-out pages with `getStaticProps`\nRead more: https://nextjs.org/docs/messages/opt-out-auto-static-optimization\n\n\u001b[0mPage                              Size     First Load JS\n┌ λ /                             16.2 kB         131 kB\n├   /_app                         0 B             101 kB\n├ λ /404                          1.36 kB         102 kB\n├ λ /about                        1.54 kB         116 kB\n├ λ /chat                         882 B           116 kB\n├ λ /ios                          870 B           116 kB\n├ λ /live                         3.29 kB         118 kB\n├ λ /sonos                        734 B           116 kB\n└ λ /today                        1.74 kB         117 kB\n+ First Load JS shared by all     101 kB\n  ├ chunks/framework.2191d1.js    42.4 kB\n  ├ chunks/main.588261.js         20.3 kB\n  ├ chunks/pages/_app.bf6c83.js   37.3 kB\n  ├ chunks/webpack.6aa242.js      812 B\n  └ css/953484319013650d71e2.css  13.1 kB\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\n   (ISR)     incremental static regeneration (uses revalidate in getStaticProps)\n\nyarn cache v1.22.18\nsuccess Cleared cache.\nDone in 2.94s.\nRemoving intermediate container e6093c73cb60\n ---> 0049df2c64bc\nStep 11/12 : EXPOSE 3000\n ---> Running in bc9180f5fddb\nRemoving intermediate container bc9180f5fddb\n ---> 8c7b6d426a5e\nStep 12/12 : CMD [\"npm\", \"run\", \"production\"]\n ---> Running in 4f90df24a7e3\nRemoving intermediate container 4f90df24a7e3\n ---> a8619b8f5d57\nSuccessfully built a8619b8f5d57\nSuccessfully tagged relisten-web:latest\n","stderr":"","imageSize":506810899},"repair":{"violations":[{"name":"mkdirUsrSrcThenRemove","position":{"start":2,"end":2,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:12-alpine\n\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\nRUN yarn global add node-gyp\n\nCOPY package.json /usr/src/app\nCOPY yarn.lock /usr/src/app\n\nRUN yarn install --immutable --immutable-cache --check-cache\n\nCOPY . /usr/src/app\n\nRUN npm run bands\n\nRUN npm run build && yarn cache clean\n\nEXPOSE 3000\n\nCMD [\"npm\", \"run\", \"production\"]\n"},"repairedBuild":{"startTimestamp":1672168279082,"endTimestamp":1672168366301,"error":null,"stdout":"Sending build context to Docker daemon  722.9kB\r\r\nStep 1/12 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 2/12 : RUN mkdir -p /usr/src/app\n ---> Running in 766ccd832d33\nRemoving intermediate container 766ccd832d33\n ---> 408ad1361b68\nStep 3/12 : WORKDIR /usr/src/app\n ---> Running in 264468ec7a70\nRemoving intermediate container 264468ec7a70\n ---> a04da5aeb8c6\nStep 4/12 : RUN yarn global add node-gyp\n ---> Running in adbd1434c67b\nyarn global v1.22.18\n[1/4] Resolving packages...\n\u001b[91mwarning node-gyp > make-fetch-happen > cacache > @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Installed \"node-gyp@9.3.1\" with binaries:\n      - node-gyp\nDone in 1.86s.\nRemoving intermediate container adbd1434c67b\n ---> 5e264d4dc90f\nStep 5/12 : COPY package.json /usr/src/app\n ---> ff5214bf2d7b\nStep 6/12 : COPY yarn.lock /usr/src/app\n ---> 259eb0c7b28a\nStep 7/12 : RUN yarn install --immutable --immutable-cache --check-cache\n ---> Running in c1beb86d5d68\nyarn install v1.22.18\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \"@switz/eslint-config > @typescript-eslint/eslint-plugin > tsutils@3.21.0\" has unmet peer dependency \"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 22.70s.\nRemoving intermediate container c1beb86d5d68\n ---> 614d5fe9d7bd\nStep 8/12 : COPY . /usr/src/app\n ---> 79928d54bfa7\nStep 9/12 : RUN npm run bands\n ---> Running in 4f59a6d44d79\n\n> relisten-web@1.0.0 bands /usr/src/app\n> node src/lib/generateSlugs.js\n\nRemoving intermediate container 4f59a6d44d79\n ---> f6363bd70da0\nStep 10/12 : RUN npm run build && yarn cache clean\n ---> Running in 2198975dada6\n\n> relisten-web@1.0.0 build /usr/src/app\n> next build\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Checking validity of types...\ninfo  - Creating an optimized production build...\n[styled-jsx] Loading plugin from path: /usr/src/app/node_modules/styled-jsx-plugin-stylus/index.js\ninfo  - Compiled successfully\ninfo  - Collecting page data...\n\u001b[91mWarning: You have opted-out of Automatic Static Optimization due to `getInitialProps` in `pages/_app`. This does not opt-out pages with `getStaticProps`\n\u001b[0m\u001b[91mRead more: https://nextjs.org/docs/messages/opt-out-auto-static-optimization\n\n\u001b[0mPage                              Size     First Load JS\n┌ λ /                             16.2 kB         131 kB\n├   /_app                         0 B             101 kB\n├ λ /404                          1.36 kB         102 kB\n├ λ /about                        1.54 kB         116 kB\n├ λ /chat                         882 B           116 kB\n├ λ /ios                          870 B           116 kB\n├ λ /live                         3.29 kB         118 kB\n├ λ /sonos                        734 B           116 kB\n└ λ /today                        1.74 kB         117 kB\n+ First Load JS shared by all     101 kB\n  ├ chunks/framework.2191d1.js    42.4 kB\n  ├ chunks/main.588261.js         20.3 kB\n  ├ chunks/pages/_app.bf6c83.js   37.3 kB\n  ├ chunks/webpack.6aa242.js      812 B\n  └ css/953484319013650d71e2.css  13.1 kB\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\n   (ISR)     incremental static regeneration (uses revalidate in getStaticProps)\n\nyarn cache v1.22.18\nsuccess Cleared cache.\nDone in 2.03s.\nRemoving intermediate container 2198975dada6\n ---> 0d8bcfd3b080\nStep 11/12 : EXPOSE 3000\n ---> Running in da7092a4810b\nRemoving intermediate container da7092a4810b\n ---> 2a458c157fb4\nStep 12/12 : CMD [\"npm\", \"run\", \"production\"]\n ---> Running in ecd3767cd38d\nRemoving intermediate container ecd3767cd38d\n ---> eb4ec193ef18\nSuccessfully built eb4ec193ef18\nSuccessfully tagged relisten-web:latest\n","stderr":"","imageSize":506810812},"endTime":1672168367472}