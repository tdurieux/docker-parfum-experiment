{"repository":"https://github.com/adonisjs/redis","dockerfilePath":"Dockerfile","startTime":1672111622665,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/adonisjs/redis'...\n","error":null,"commit":"ca24b5917b10f491fbc19914b4151dc2164c707c"},"originalBuild":{"startTimestamp":1672111623620,"endTimestamp":1672111725333,"error":null,"stdout":"Sending build context to Docker daemon  312.3kB\r\r\nStep 1/8 : FROM node:14-alpine as build-deps\n ---> fb7170aa2b9b\nStep 2/8 : RUN apk update && apk upgrade &&   apk add --update git &&   apk add --update openssh &&   apk add --update bash &&   apk add --update wget\n ---> Running in e0df0a62312f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-298-g2104b16d70 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-300-g2dc109ce15 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 9 MiB in 17 packages\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\n(1/10) Installing openssh-keygen (9.1_p1-r1)\n(2/10) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(3/10) Installing ncurses-libs (6.3_p20221119-r0)\n(4/10) Installing libedit (20221030.3.1-r0)\n(5/10) Installing openssh-client-common (9.1_p1-r1)\n(6/10) Installing openssh-client-default (9.1_p1-r1)\n(7/10) Installing openssh-sftp-server (9.1_p1-r1)\n(8/10) Installing openssh-server-common (9.1_p1-r1)\n(9/10) Installing openssh-server (9.1_p1-r1)\n(10/10) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 25 MiB in 34 packages\n(1/2) Installing readline (8.2.0-r0)\n(2/2) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 27 MiB in 36 packages\n(1/3) Installing libunistring (1.1-r0)\n(2/3) Installing libidn2 (2.3.4-r0)\n(3/3) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 29 MiB in 39 packages\nRemoving intermediate container e0df0a62312f\n ---> b2e30e668ae5\nStep 3/8 : ADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.9.0/wait /wait\n\n\n ---> 5ba6c4a02392\nStep 4/8 : RUN chmod +x /wait\n ---> Running in e17a3eae8c2a\nRemoving intermediate container e17a3eae8c2a\n ---> ade6e46c27f8\nStep 5/8 : WORKDIR /usr/src/app\n ---> Running in 45f8bfd5e220\nRemoving intermediate container 45f8bfd5e220\n ---> 85cd9fd7069c\nStep 6/8 : COPY package*.json ./\n ---> 6367535b069c\nStep 7/8 : RUN npm install\n ---> Running in c1295cd0033c\n\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated\u001b[0m\u001b[91m request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-std-serializers@4.0.0: This is a stub types definition. pino-std-serializers provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-pretty@5.0.0: This is a stub types definition. pino-pretty provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN @apidevtools/swagger-parser@10.0.3 requires a peer of openapi-types@>=7 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91m\n\u001b[0madded 1230 packages from 631 contributors and audited 1233 packages in 42.064s\n\n156 packages are looking for funding\n  run `npm fund` for details\n\nfound 4 moderate severity vulnerabilities\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container c1295cd0033c\n ---> 4eb4f2389eb7\nStep 8/8 : COPY . .\n ---> 0fd59297a025\nSuccessfully built 0fd59297a025\nSuccessfully tagged redis:latest\n","stderr":"","imageSize":422698827},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":2,"columnEnd":22}},{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":2,"columnEnd":26}},{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":2,"columnEnd":23}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":2,"columnEnd":23}}],"repairedDockerfile":"FROM node:14-alpine as build-deps\n\nRUN apk update && apk upgrade && \\\n  apk add --no-cache --update git && \\\n  apk add --no-cache --update openssh && \\\n  apk add --no-cache --update bash && \\\n  apk add --no-cache --update wget\n\nADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.9.0/wait /wait\nRUN chmod +x /wait\n\nWORKDIR /usr/src/app\n\nCOPY package*.json ./\nRUN npm install\n\nCOPY . .\n"},"repairedBuild":{"startTimestamp":1672111726675,"endTimestamp":1672111903882,"error":null,"stdout":"Sending build context to Docker daemon  312.3kB\r\r\nStep 1/8 : FROM node:14-alpine as build-deps\n ---> fb7170aa2b9b\nStep 2/8 : RUN apk update && apk upgrade &&   apk add --no-cache --update git &&   apk add --no-cache --update openssh &&   apk add --no-cache --update bash &&   apk add --no-cache --update wget\n ---> Running in 4cd34a4f9bdd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-298-g2104b16d70 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-300-g2dc109ce15 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\nOK: 9 MiB in 17 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing openssh-keygen (9.1_p1-r1)\n(2/10) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(3/10) Installing ncurses-libs (6.3_p20221119-r0)\n(4/10) Installing libedit (20221030.3.1-r0)\n(5/10) Installing openssh-client-common (9.1_p1-r1)\n(6/10) Installing openssh-client-default (9.1_p1-r1)\n(7/10) Installing openssh-sftp-server (9.1_p1-r1)\n(8/10) Installing openssh-server-common (9.1_p1-r1)\n(9/10) Installing openssh-server (9.1_p1-r1)\n(10/10) Installing openssh (9.1_p1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 25 MiB in 34 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing readline (8.2.0-r0)\n(2/2) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 27 MiB in 36 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libunistring (1.1-r0)\n(2/3) Installing libidn2 (2.3.4-r0)\n(3/3) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 29 MiB in 39 packages\nRemoving intermediate container 4cd34a4f9bdd\n ---> 5e03357886ec\nStep 3/8 : ADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.9.0/wait /wait\n\n\n ---> 795fbbd1a715\nStep 4/8 : RUN chmod +x /wait\n ---> Running in ec4b934bbe25\nRemoving intermediate container ec4b934bbe25\n ---> 2f2a80704062\nStep 5/8 : WORKDIR /usr/src/app\n ---> Running in bc1505fed64c\nRemoving intermediate container bc1505fed64c\n ---> ac4acf616e6c\nStep 6/8 : COPY package*.json ./\n ---> 40ae4ef14fd4\nStep 7/8 : RUN npm install\n ---> Running in b621c9d5fc1a\n\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-std-serializers@4.0.0: This is a stub types definition. pino-std-serializers provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/pino-pretty@5.0.0: This is a stub types definition. pino-pretty provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN @apidevtools/swagger-parser@10.0.3 requires a peer of openapi-types@>=7 but none is installed. You must install peer dependencies yourself.\n\u001b[0m\u001b[91m\n\u001b[0madded 1230 packages from 631 contributors and audited 1233 packages in 32.535s\n\n156 packages are looking for funding\n  run `npm fund` for details\n\nfound 4 moderate severity vulnerabilities\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container b621c9d5fc1a\n ---> 27f0fb50ff4c\nStep 8/8 : COPY . .\n ---> 6d105c2d357d\nSuccessfully built 6d105c2d357d\nSuccessfully tagged redis:latest\n","stderr":"","imageSize":422714908},"endTime":1672111910166}