{"repository":"https://github.com/cloudworkz/kube-eagle","dockerfilePath":"Dockerfile","startTime":1672858871971,"endTime":1672859042567,"clone":{"startTime":1672858871971,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cloudworkz/kube-eagle'...\n","error":null,"endTime":1672858872944,"commit":"bb20cd8d50d3e3f0b6761494f4cfda11b8e2f327"},"originalBuild":{"startTime":1672858873039,"endTime":1672859000414,"error":null,"stdout":"Sending build context to Docker daemon  69.12kB\r\r\nStep 1/9 : FROM golang:1.14-alpine as builder\n1.14-alpine: Pulling from library/golang\n4c0d98bf9879: Pulling fs layer\n9e181322f1e7: Pulling fs layer\n6422294da7d3: Pulling fs layer\neb57f1833670: Pulling fs layer\nbd57f1a80d4e: Pulling fs layer\neb57f1833670: Waiting\nbd57f1a80d4e: Waiting\n9e181322f1e7: Verifying Checksum\n9e181322f1e7: Download complete\n6422294da7d3: Verifying Checksum\n6422294da7d3: Download complete\n4c0d98bf9879: Verifying Checksum\n4c0d98bf9879: Download complete\nbd57f1a80d4e: Verifying Checksum\nbd57f1a80d4e: Download complete\n4c0d98bf9879: Pull complete\neb57f1833670: Verifying Checksum\neb57f1833670: Download complete\n9e181322f1e7: Pull complete\n6422294da7d3: Pull complete\neb57f1833670: Pull complete\nbd57f1a80d4e: Pull complete\nDigest: sha256:e196a762bd349b188d66c539354fc23f0e5a0178c214e6dfe4d7894c3c2753f1\nStatus: Downloaded newer image for golang:1.14-alpine\n ---> 32dc91e030ac\nStep 2/9 : RUN apk update && apk add git ca-certificates\n ---> Running in 428d0a098d1a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13908 distinct packages available\n(1/6) Installing brotli-libs (1.0.9-r3)\n(2/6) Installing nghttp2-libs (1.42.0-r1)\n(3/6) Installing libcurl (7.79.1-r3)\n(4/6) Installing expat (2.2.10-r8)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.30.6-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container 428d0a098d1a\n ---> 5efc93f6fac3\nStep 3/9 : WORKDIR /app\n ---> Running in 5259c2303ebb\nRemoving intermediate container 5259c2303ebb\n ---> 7679a5402045\nStep 4/9 : COPY . .\n ---> b418fa161414\nStep 5/9 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a -installsuffix cgo -o /go/bin/kube-eagle\n ---> Running in e2e6f805aa42\n\u001b[91mgo: downloading github.com/sirupsen/logrus v1.4.2\ngo: downloading github.com/prometheus/client_golang v1.2.1\ngo: downloading github.com/kelseyhightower/envconfig v1.4.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/client-go v0.0.0-20191026065934-0bdba2f91880\n\u001b[0m\u001b[91mgo: downloading k8s.io/apimachinery v0.0.0-20191030190112-bb31b70367b7\n\u001b[0m\u001b[91mgo: downloading k8s.io/metrics v0.0.0-20191026071343-a166cc0bce8f\n\u001b[0m\u001b[91mgo: downloading k8s.io/api v0.0.0-20191025225708-5524a3672fbb\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20191010194322-b09406accb47\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.0.5\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.1.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/utils v0.0.0-20191030222137-2b95a09bc58d\n\u001b[0m\u001b[91mgo: downloading github.com/gophercloud/gophercloud v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.8\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.3\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20190813141303-74dc4d7220e7\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.7\ngo: downloading gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20191024005414-555d28b269f0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest v0.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gnostic v0.0.0-20170729233727-0c5108395e2d\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/adal v0.5.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20190611184440-5c40567a22f8\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/tracing v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/logger v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\ngo: downloading github.com/Azure/go-autorest/autorest/date v0.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.2\n\u001b[0mRemoving intermediate container e2e6f805aa42\n ---> 34c74393c1ec\nStep 6/9 : FROM scratch\n ---> \nStep 7/9 : COPY --from=builder /go/bin/kube-eagle /go/bin/kube-eagle\n ---> db2fb9e3e15d\nStep 8/9 : ENV VERSION 1.1.4\n ---> Running in 85110ea1b9df\nRemoving intermediate container 85110ea1b9df\n ---> 9c70e9855df8\nStep 9/9 : ENTRYPOINT [\"/go/bin/kube-eagle\"]\n ---> Running in 485be0e45a0b\nRemoving intermediate container 485be0e45a0b\n ---> cf8a2da9599e\nSuccessfully built cf8a2da9599e\nSuccessfully tagged kube-eagle:latest\n","stderr":"","imageSize":39164708},"repair":{"startTime":1672859000469,"endTime":1672859000528,"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":18,"columnEnd":45}}],"repairedDockerfile":"# build image\nFROM golang:1.14-alpine as builder\nRUN apk update && apk add --no-cache git ca-certificates\n\nWORKDIR /app\nCOPY . .\n\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a -installsuffix cgo -o /go/bin/kube-eagle\n\n# executable image\nFROM scratch\nCOPY --from=builder /go/bin/kube-eagle /go/bin/kube-eagle\n\nENV VERSION 1.1.4\nENTRYPOINT [\"/go/bin/kube-eagle\"]\n"},"repairedBuild":{"startTime":1672859000802,"endTime":1672859042306,"error":null,"stdout":"Sending build context to Docker daemon  69.12kB\r\r\nStep 1/9 : FROM golang:1.14-alpine as builder\n ---> 32dc91e030ac\nStep 2/9 : RUN apk update && apk add --no-cache git ca-certificates\n ---> Running in d1bc1fd29ba5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13908 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r3)\n(2/6) Installing nghttp2-libs (1.42.0-r1)\n(3/6) Installing libcurl (7.79.1-r3)\n(4/6) Installing expat (2.2.10-r8)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.30.6-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container d1bc1fd29ba5\n ---> 884d24764e0a\nStep 3/9 : WORKDIR /app\n ---> Running in 8f2530be203a\nRemoving intermediate container 8f2530be203a\n ---> ec82e1d34bbe\nStep 4/9 : COPY . .\n ---> f855d78fbf2a\nStep 5/9 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a -installsuffix cgo -o /go/bin/kube-eagle\n ---> Running in 7fa3af5890ac\n\u001b[91mgo: downloading github.com/kelseyhightower/envconfig v1.4.0\ngo: downloading github.com/prometheus/client_golang v1.2.1\ngo: downloading github.com/sirupsen/logrus v1.4.2\n\u001b[0m\u001b[91mgo: downloading k8s.io/api v0.0.0-20191025225708-5524a3672fbb\n\u001b[0m\u001b[91mgo: downloading k8s.io/metrics v0.0.0-20191026071343-a166cc0bce8f\n\u001b[0m\u001b[91mgo: downloading k8s.io/client-go v0.0.0-20191026065934-0bdba2f91880\n\u001b[0m\u001b[91mgo: downloading k8s.io/apimachinery v0.0.0-20191030190112-bb31b70367b7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20191010194322-b09406accb47\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20190813141303-74dc4d7220e7\n\u001b[0m\u001b[91mgo: downloading k8s.io/utils v0.0.0-20191030222137-2b95a09bc58d\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.8\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest v0.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/logger v0.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20191024005414-555d28b269f0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/tracing v0.5.0\ngo: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20190611184440-5c40567a22f8\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gnostic v0.0.0-20170729233727-0c5108395e2d\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.3\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/gophercloud/gophercloud v0.6.0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.38.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/adal v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\ngo: downloading github.com/Azure/go-autorest/autorest/date v0.1.0\n\u001b[0mRemoving intermediate container 7fa3af5890ac\n ---> e9a7662b0969\nStep 6/9 : FROM scratch\n ---> \nStep 7/9 : COPY --from=builder /go/bin/kube-eagle /go/bin/kube-eagle\n ---> 6b20955b7076\nStep 8/9 : ENV VERSION 1.1.4\n ---> Running in 834df50e94b3\nRemoving intermediate container 834df50e94b3\n ---> 36600d893b3c\nStep 9/9 : ENTRYPOINT [\"/go/bin/kube-eagle\"]\n ---> Running in 6274e515c326\nRemoving intermediate container 6274e515c326\n ---> b51c46585aa0\nSuccessfully built b51c46585aa0\nSuccessfully tagged kube-eagle:latest\n","stderr":"","imageSize":39164708}}