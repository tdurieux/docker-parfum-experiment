{"repository":"https://github.com/gonelist/gonelist","dockerfilePath":"Dockerfile","startTime":1672572039574,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gonelist/gonelist'...\n","error":null,"commit":"ae0c28dc7a463b8c0e618cd1acf5062b9a3444b2"},"originalBuild":{"startTimestamp":1672572040447,"endTimestamp":1672572520071,"error":null,"stdout":"Sending build context to Docker daemon  515.1kB\r\r\nStep 1/16 : FROM golang:1.17.7 as builder\n1.17.7: Pulling from library/golang\ne4d61adff207: Already exists\n4ff1945c672b: Already exists\nff5b10aec998: Already exists\n12de8c754e45: Already exists\n8c86ff77a317: Already exists\n5d440ea1ae12: Pulling fs layer\n450a2e80688e: Pulling fs layer\n450a2e80688e: Download complete\n5d440ea1ae12: Download complete\n5d440ea1ae12: Pull complete\n450a2e80688e: Pull complete\nDigest: sha256:b983574376a29f21ccba0a90f1e1f31864d084cee73295b774305b792b31b8bd\nStatus: Downloaded newer image for golang:1.17.7\n ---> 73fa8a9cf041\nStep 2/16 : WORKDIR /root/myapp/\n ---> Running in febcf227dc6a\nRemoving intermediate container febcf227dc6a\n ---> 2bcde0063217\nStep 3/16 : ARG GOPROXY=https://goproxy.cn,https://mirrors.aliyun.com/goproxy/,https://goproxy.io,direct\n ---> Running in f8bdb10546ab\nRemoving intermediate container f8bdb10546ab\n ---> b87697b711e5\nStep 4/16 : ARG LDFLAGS\n ---> Running in aa5f7b39cc23\nRemoving intermediate container aa5f7b39cc23\n ---> 7ccd23605ab7\nStep 5/16 : ARG GOARCH\n ---> Running in f081cd9bf830\nRemoving intermediate container f081cd9bf830\n ---> 8bb492d0e4cb\nStep 6/16 : COPY ./ ./\n ---> 31376dfa424c\nStep 7/16 : RUN go mod download\n ---> Running in 822c21b0005f\nRemoving intermediate container 822c21b0005f\n ---> f4c7e634ac2f\nStep 8/16 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=${GOARCH} go build -o gonelist -ldflags \"${LDFLAGS}\" main.go\n ---> Running in c3bc8747742e\nRemoving intermediate container c3bc8747742e\n ---> b803288ada10\nStep 9/16 : FROM alpine:3.12\n ---> 24c8ece58a1a\nStep 10/16 : WORKDIR /opt\n ---> Running in c1608c7c7ae0\nRemoving intermediate container c1608c7c7ae0\n ---> db8d2f60aa9a\nStep 11/16 : ARG VERSION=v0.5.3\n ---> Running in 3add5f3307e3\nRemoving intermediate container 3add5f3307e3\n ---> a193857bfc70\nStep 12/16 : ARG TZ=\"Asia/Shanghai\"\n ---> Running in e276d8bb655e\nRemoving intermediate container e276d8bb655e\n ---> b3a464a69f42\nStep 13/16 : COPY --from=builder /root/myapp/gonelist /bin/gonelist\n ---> bf8dcdfce81f\nStep 14/16 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories &&     apk add curl wget tzdata bind-tools busybox-extras ca-certificates bash strace &&     ln -sf /usr/share/zoneinfo/${TZ} /etc/localtime &&     echo ${TZ} > /etc/timezone &&     cd /opt && curl -sL https://github.com/gonelist/gonelist-web/releases/download/${VERSION}/dist.tar.gz | tar -zxvf - &&     rm -rf /var/cache/apk/*\n ---> Running in 5750ce7eed58\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/31) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/31) Installing ncurses-libs (6.2_p20200523-r1)\n(3/31) Installing readline (8.0.4-r0)\n(4/31) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/31) Installing fstrm (0.6.0-r1)\n(6/31) Installing krb5-conf (1.0-r2)\n(7/31) Installing libcom_err (1.45.6-r0)\n(8/31) Installing keyutils-libs (1.6.1-r1)\n(9/31) Installing libverto (0.3.1-r1)\n(10/31) Installing krb5-libs (1.18.5-r0)\n(11/31) Installing json-c (0.14-r1)\n(12/31) Installing libgcc (9.3.0-r2)\n(13/31) Installing libstdc++ (9.3.0-r2)\n(14/31) Installing libprotobuf (3.12.2-r0)\n(15/31) Installing libprotoc (3.12.2-r0)\n(16/31) Installing protobuf-c (1.3.3-r1)\n(17/31) Installing libuv (1.38.1-r0)\n(18/31) Installing xz-libs (5.2.5-r1)\n(19/31) Installing libxml2 (2.9.14-r0)\n(20/31) Installing bind-libs (9.16.27-r1)\n(21/31) Installing bind-tools (9.16.27-r1)\n(22/31) Installing busybox-extras (1.31.1-r22)\nExecuting busybox-extras-1.31.1-r22.post-install\n(23/31) Installing ca-certificates (20220614-r0)\n(24/31) Installing nghttp2-libs (1.41.0-r0)\n(25/31) Installing libcurl (7.79.1-r1)\n(26/31) Installing curl (7.79.1-r1)\n(27/31) Installing strace (5.6-r0)\n(28/31) Installing tzdata (2022a-r0)\n(29/31) Installing libunistring (0.9.10-r0)\n(30/31) Installing libidn2 (2.3.0-r0)\n(31/31) Installing wget (1.20.3-r1)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 29 MiB in 45 packages\ndist/\ndist/favicon.ico\ndist/serverconfig.json\ndist/index.html\ndist/css/\ndist/js/\ndist/img/\ndist/fonts/\ndist/fonts/ionicons.143146fa.woff2\ndist/fonts/fontawesome-webfont.674f50d2.eot\ndist/fonts/fontawesome-webfont.fee66e71.woff\ndist/fonts/ionicons.99ac3308.woff\ndist/fonts/fontawesome-webfont.b06871f2.ttf\ndist/fonts/fontawesome-webfont.af7ae505.woff2\ndist/fonts/ionicons.d535a25a.ttf\ndist/img/ionicons.a2c4a261.svg\ndist/img/fontawesome-webfont.912ec66d.svg\ndist/js/index.6c6d9eb8.js\ndist/js/chunk-vendors.7c827fd5.js\ndist/css/index.1fc08690.css\ndist/css/chunk-vendors.d4638695.css\nRemoving intermediate container 5750ce7eed58\n ---> 5abceee7c068\nStep 15/16 : EXPOSE 8000\n ---> Running in 92075a5c0614\nRemoving intermediate container 92075a5c0614\n ---> 1f2399228277\nStep 16/16 : ENTRYPOINT [\"/bin/gonelist\"]\n ---> Running in 415f5f4aaa67\nRemoving intermediate container 415f5f4aaa67\n ---> f8b0ba21f40c\nSuccessfully built f8b0ba21f40c\nSuccessfully tagged gonelist:latest\n","stderr":"","imageSize":50524170},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":28,"end":28,"columnStart":15,"columnEnd":105}},{"name":"apkAddUseNoCache","position":{"start":25,"end":25,"columnStart":4,"columnEnd":82}}],"repairedDockerfile":"#https://basefas.github.io/2019/09/24/%E4%BD%BF%E7%94%A8%20Docker%20%E6%9E%84%E5%BB%BA%20Go%20%E5%BA%94%E7%94%A8/\nFROM golang:1.17.7 as builder\n\n\nWORKDIR /root/myapp/\n\nARG GOPROXY=https://goproxy.cn,https://mirrors.aliyun.com/goproxy/,https://goproxy.io,direct\nARG LDFLAGS\nARG GOARCH\n\nCOPY ./ ./\nRUN go mod download\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=${GOARCH} go build -o gonelist -ldflags \"${LDFLAGS}\" main.go\n\n\nFROM alpine:3.12\n\nWORKDIR /opt\n\nARG VERSION=v0.5.3\nARG TZ=\"Asia/Shanghai\"\n\nCOPY --from=builder /root/myapp/gonelist /bin/gonelist\n\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories && \\\n    apk add --no-cache curl wget tzdata bind-tools busybox-extras ca-certificates bash strace && \\\n    ln -sf /usr/share/zoneinfo/${TZ} /etc/localtime && \\\n    echo ${TZ} > /etc/timezone && \\\n    cd /opt && curl -f -sL https://github.com/gonelist/gonelist-web/releases/download/${VERSION}/dist.tar.gz | tar -zxvf - && \\\n    rm -rf /var/cache/apk/*\n\nEXPOSE 8000\n\nENTRYPOINT [\"/bin/gonelist\"]\n"},"repairedBuild":{"startTimestamp":1672572520445,"endTimestamp":1672572634150,"error":null,"stdout":"Sending build context to Docker daemon  515.1kB\r\r\nStep 1/16 : FROM golang:1.17.7 as builder\n ---> 73fa8a9cf041\nStep 2/16 : WORKDIR /root/myapp/\n ---> Running in 55105c3e01d4\nRemoving intermediate container 55105c3e01d4\n ---> 07d37ef9750c\nStep 3/16 : ARG GOPROXY=https://goproxy.cn,https://mirrors.aliyun.com/goproxy/,https://goproxy.io,direct\n ---> Running in e8b787dead29\nRemoving intermediate container e8b787dead29\n ---> ca265e0a80aa\nStep 4/16 : ARG LDFLAGS\n ---> Running in d9020ecadb59\nRemoving intermediate container d9020ecadb59\n ---> 2998c74bb170\nStep 5/16 : ARG GOARCH\n ---> Running in 4c91f38930cc\nRemoving intermediate container 4c91f38930cc\n ---> 59d8182cd199\nStep 6/16 : COPY ./ ./\n ---> 3c5f9a04347c\nStep 7/16 : RUN go mod download\n ---> Running in bec7fab454a1\nRemoving intermediate container bec7fab454a1\n ---> 87af64f0eef8\nStep 8/16 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=${GOARCH} go build -o gonelist -ldflags \"${LDFLAGS}\" main.go\n ---> Running in e731cabc8509\nRemoving intermediate container e731cabc8509\n ---> e5d3555f2b01\nStep 9/16 : FROM alpine:3.12\n ---> 24c8ece58a1a\nStep 10/16 : WORKDIR /opt\n ---> Running in a59b584423a4\nRemoving intermediate container a59b584423a4\n ---> 6b22375a40c1\nStep 11/16 : ARG VERSION=v0.5.3\n ---> Running in ce39e5abc574\nRemoving intermediate container ce39e5abc574\n ---> 602ec29a0e83\nStep 12/16 : ARG TZ=\"Asia/Shanghai\"\n ---> Running in 1c693e4945a0\nRemoving intermediate container 1c693e4945a0\n ---> 697a5576ec1a\nStep 13/16 : COPY --from=builder /root/myapp/gonelist /bin/gonelist\n ---> 716dd426ea3b\nStep 14/16 : RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories &&     apk add --no-cache curl wget tzdata bind-tools busybox-extras ca-certificates bash strace &&     ln -sf /usr/share/zoneinfo/${TZ} /etc/localtime &&     echo ${TZ} > /etc/timezone &&     cd /opt && curl -f -sL https://github.com/gonelist/gonelist-web/releases/download/${VERSION}/dist.tar.gz | tar -zxvf - &&     rm -rf /var/cache/apk/*\n ---> Running in 292a3c19fbcc\nfetch http://mirrors.aliyun.com/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://mirrors.aliyun.com/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/31) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(2/31) Installing ncurses-libs (6.2_p20200523-r1)\n(3/31) Installing readline (8.0.4-r0)\n(4/31) Installing bash (5.0.17-r0)\nExecuting bash-5.0.17-r0.post-install\n(5/31) Installing fstrm (0.6.0-r1)\n(6/31) Installing krb5-conf (1.0-r2)\n(7/31) Installing libcom_err (1.45.6-r0)\n(8/31) Installing keyutils-libs (1.6.1-r1)\n(9/31) Installing libverto (0.3.1-r1)\n(10/31) Installing krb5-libs (1.18.5-r0)\n(11/31) Installing json-c (0.14-r1)\n(12/31) Installing libgcc (9.3.0-r2)\n(13/31) Installing libstdc++ (9.3.0-r2)\n(14/31) Installing libprotobuf (3.12.2-r0)\n(15/31) Installing libprotoc (3.12.2-r0)\n(16/31) Installing protobuf-c (1.3.3-r1)\n(17/31) Installing libuv (1.38.1-r0)\n(18/31) Installing xz-libs (5.2.5-r1)\n(19/31) Installing libxml2 (2.9.14-r0)\n(20/31) Installing bind-libs (9.16.27-r1)\n(21/31) Installing bind-tools (9.16.27-r1)\n(22/31) Installing busybox-extras (1.31.1-r22)\nExecuting busybox-extras-1.31.1-r22.post-install\n(23/31) Installing ca-certificates (20220614-r0)\n(24/31) Installing nghttp2-libs (1.41.0-r0)\n(25/31) Installing libcurl (7.79.1-r1)\n(26/31) Installing curl (7.79.1-r1)\n(27/31) Installing strace (5.6-r0)\n(28/31) Installing tzdata (2022a-r0)\n(29/31) Installing libunistring (0.9.10-r0)\n(30/31) Installing libidn2 (2.3.0-r0)\n(31/31) Installing wget (1.20.3-r1)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 29 MiB in 45 packages\ndist/\ndist/favicon.ico\ndist/serverconfig.json\ndist/index.html\ndist/css/\ndist/js/\ndist/img/\ndist/fonts/\ndist/fonts/ionicons.143146fa.woff2\ndist/fonts/fontawesome-webfont.674f50d2.eot\ndist/fonts/fontawesome-webfont.fee66e71.woff\ndist/fonts/ionicons.99ac3308.woff\ndist/fonts/fontawesome-webfont.b06871f2.ttf\ndist/fonts/fontawesome-webfont.af7ae505.woff2\ndist/fonts/ionicons.d535a25a.ttf\ndist/img/ionicons.a2c4a261.svg\ndist/img/fontawesome-webfont.912ec66d.svg\ndist/js/index.6c6d9eb8.js\ndist/js/chunk-vendors.7c827fd5.js\ndist/css/index.1fc08690.css\ndist/css/chunk-vendors.d4638695.css\nRemoving intermediate container 292a3c19fbcc\n ---> 9b58fbdff415\nStep 15/16 : EXPOSE 8000\n ---> Running in ecacfc171ce4\nRemoving intermediate container ecacfc171ce4\n ---> 495bc642b7be\nStep 16/16 : ENTRYPOINT [\"/bin/gonelist\"]\n ---> Running in b9fe52e3d40b\nRemoving intermediate container b9fe52e3d40b\n ---> 46c437316049\nSuccessfully built 46c437316049\nSuccessfully tagged gonelist:latest\n","stderr":"","imageSize":50524170},"endTime":1672572639037}