{"repository":"https://github.com/sidewalklabs/totx","dockerfilePath":"Dockerfile","startTime":1672040837819,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sidewalklabs/totx'...\n","error":null,"commit":"3838fb75d80fe800d5db463176856f55cfd2f539"},"originalBuild":{"startTimestamp":1672040838756,"endTimestamp":1672040891805,"error":null,"stdout":"Sending build context to Docker daemon  1.452MB\r\r\nStep 1/12 : FROM node:12.1.0 as builder\n12.1.0: Pulling from library/node\nc5e155d5a1d1: Already exists\n221d80d00ae9: Already exists\n4250b3117dca: Already exists\n3b7ca19181b2: Already exists\n425d7b2a5bcc: Already exists\n69df12c70287: Already exists\n243a01f2e07a: Pulling fs layer\nd646a369f6e8: Pulling fs layer\nd646a369f6e8: Download complete\n243a01f2e07a: Verifying Checksum\n243a01f2e07a: Download complete\n243a01f2e07a: Pull complete\nd646a369f6e8: Pull complete\nDigest: sha256:6349241f3578f8f6f16f5c2dcc86e51ad208a680b02f03af3a5be620cec570fc\nStatus: Downloaded newer image for node:12.1.0\n ---> c77f0d290562\nStep 2/12 : RUN mkdir -p /usr/src/app\n ---> Running in dc1e7fae9f28\nRemoving intermediate container dc1e7fae9f28\n ---> b95c7876e897\nStep 3/12 : WORKDIR /usr/src/app\n ---> Running in 2a607f244539\nRemoving intermediate container 2a607f244539\n ---> fc890ae55261\nStep 4/12 : COPY package.json /usr/src/app/package.json\n ---> 605241a3b233\nStep 5/12 : COPY yarn.lock /usr/src/app/yarn.lock\n ---> 66715573288e\nStep 6/12 : COPY . /usr/src/app\n ---> 4c651acdbc6e\nStep 7/12 : RUN yarn install --production\n ---> Running in 81ab7e213ca7\nyarn install v1.15.2\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.2.4: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.4\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > react-addons-test-utils@15.6.2\" has incorrect peer dependency \"react-dom@^15.4.2\".\n\u001b[0m\u001b[91mwarning \" > react-mapbox-gl@3.8.0\" has incorrect peer dependency \"mapbox-gl@0.44.0\".\n\u001b[0m\u001b[91mwarning \" > slick-carousel@1.8.1\" has unmet peer dependency \"jquery@>=1.8.0\".\n\u001b[0m[4/4] Building fresh packages...\nDone in 15.84s.\nRemoving intermediate container 81ab7e213ca7\n ---> a1ea8668aa32\nStep 8/12 : ENV NODE_ENV production\n ---> Running in bdfac724f805\nRemoving intermediate container bdfac724f805\n ---> 2e83fdee1044\nStep 9/12 : RUN yarn webpack\n ---> Running in a23fabc08c78\nyarn run v1.15.2\n$ webpack --config packages/transit/webpack.config.js\n\n[at-loader] Using typescript@2.9.2 from typescript and \"tsconfig.json\" from /usr/src/app/tsconfig.json.\n\nHash: 2a085d4cb34b0333b374\nVersion: webpack 1.15.0\nTime: 10028ms\n                             Asset       Size  Chunks             Chunk Names\n                    view.bundle.js    1.04 MB       0  [emitted]  view\n                view.bundle.js.map  334 bytes       0  [emitted]  view\n                arrow-right-1x.png  128 bytes          [emitted]  \n                     nextarrow.png  722 bytes          [emitted]  \n                   blue-marker.svg  859 bytes          [emitted]  \n              pin-blue-A-24x34.png    1.17 kB          [emitted]  \n                         about.pdf    53.9 kB          [emitted]  \n                       ex-grey.png  475 bytes          [emitted]  \n          pin-blue-blank-18x26.png  586 bytes          [emitted]  \n              pin-blue-A-18x26.png  852 bytes          [emitted]  \n            pin-orange-B-24x34.png    1.14 kB          [emitted]  \n          pin-blue-blank-24x34.png  902 bytes          [emitted]  \n                   search-grey.png    1.04 kB          [emitted]  \n          pin-gray-blank-24x34.png  994 bytes          [emitted]  \n                          walk.png  214 bytes          [emitted]  \n                          plus.svg    2.33 kB          [emitted]  \nsidewalklabs_logo_primary_grey.png      17 kB          [emitted]  \n                   style/fonts.css    3.02 kB          [emitted]  \n            pin-orange-B-18x26.png  749 bytes          [emitted]  \n                   travel-mode.png    36.4 kB          [emitted]  \n                   style/slick.css    1.64 kB          [emitted]  \n                 style/transit.css    12.4 kB          [emitted]  \n                         terms.pdf     159 kB          [emitted]  \n                        index.html    1.43 kB          [emitted]  \n    + 104 hidden modules\n\nWARNING in view.bundle.js from UglifyJs\nCondition always true [./~/source-map-loader!./~/react/index.js:3,0]\nDropping unreachable code [./~/source-map-loader!./~/react/index.js:6,0]\nCondition always false [./~/source-map-loader!./~/fbjs/lib/invariant.js:24,0]\nDropping unreachable code [./~/source-map-loader!./~/fbjs/lib/invariant.js:25,0]\nCondition always false [./~/source-map-loader!./~/fbjs/lib/emptyObject.js:13,0]\nDropping unreachable code [./~/source-map-loader!./~/fbjs/lib/emptyObject.js:14,0]\nCondition always false [./~/source-map-loader!./~/react-dom/index.js:11,0]\nDropping unreachable code [./~/source-map-loader!./~/react-dom/index.js:19,0]\nCondition always true [./~/source-map-loader!./~/react-dom/index.js:31,0]\nDropping unreachable code [./~/source-map-loader!./~/react-dom/index.js:37,0]\nCondition always true [./~/source-map-loader!./~/scheduler/index.js:3,0]\nDropping unreachable code [./~/source-map-loader!./~/scheduler/index.js:6,0]\nCondition always true [./~/source-map-loader!./~/js-cookie/src/js.cookie.js:10,0]\nCondition always true [./~/source-map-loader!./~/js-cookie/src/js.cookie.js:14,0]\nCondition always true [./~/source-map-loader!./~/underscore/underscore.js:1687,0]\nDropping unused variable cx [./~/source-map-loader!./~/jsonify/lib/stringify.js:1,0]\nCondition always true [./~/source-map-loader!./~/sprintf-js/src/sprintf.js:200,0]\nCondition left of && always true [./~/source-map-loader!./~/sprintf-js/src/sprintf.js:208,0]\nCondition always true [./~/source-map-loader!./~/classnames/index.js:44,2]\nDropping unreachable code [./~/source-map-loader!./~/classnames/index.js:50,0]\nCondition always true [./~/source-map-loader!./~/d3-scale/build/d3-scale.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-array/build/d3-array.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-collection/build/d3-collection.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-interpolate/build/d3-interpolate.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-color/build/d3-color.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-format/build/d3-format.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-time/build/d3-time.js:3,0]\nCondition always true [./~/source-map-loader!./~/d3-time-format/build/d3-time-format.js:3,0]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/assertion.js:77,55]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/assertion.js:77,55]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/coercion.js:94,55]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/coercion.js:94,55]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/step.js:109,64]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/step.js:109,64]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/interpolate.js:179,64]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/interpolate.js:179,64]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/coalesce.js:67,55]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/coalesce.js:67,55]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/match.js:117,35]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/match.js:117,35]\nDropping unreachable code [../rollup/build/mapboxgl/src/style-spec/expression/definitions/case.js:77,35]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/style-spec/expression/definitions/case.js:77,35]\nSide effects in initialization of unused variable e [../rollup/build/mapboxgl/~/gl-matrix/src/gl-matrix/vec2.js:597,6]\nDropping unused function Si [../rollup/build/mapboxgl/~/gl-matrix/src/gl-matrix/quat.js:197,16]\nDropping unused variable Ti [../rollup/build/mapboxgl/~/gl-matrix/src/gl-matrix/quat.js:492,13]\nDropping unreachable code [../rollup/build/mapboxgl/~/supercluster/index.js:348,0]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/~/supercluster/index.js:348,0]\nDropping unreachable code [../rollup/build/mapboxgl/src/ui/camera.js:829,8]\nDeclarations in unreachable code! [../rollup/build/mapboxgl/src/ui/camera.js:829,8]\nCondition always false [./~/source-map-loader!./~/prop-types/index.js:8,0]\nDropping unreachable code [./~/source-map-loader!./~/prop-types/index.js:8,0]\nDeclarations in unreachable code! [./~/source-map-loader!./~/prop-types/index.js:9,0]\nDropping unused variable REACT_ELEMENT_TYPE [./~/source-map-loader!./~/prop-types/index.js:9,0]\nDropping unused variable isValidElement [./~/source-map-loader!./~/prop-types/index.js:14,0]\nDropping unused variable throwOnDirectAccess [./~/source-map-loader!./~/prop-types/index.js:22,0]\nSide effects in initialization of unused variable rest [./~/react-mapbox-gl/src/layer.ts:231,20]\nBoolean && always false [./~/source-map-loader!./~/react-slick/lib/slider.js:148,0]\nCondition left of || always true [./~/source-map-loader!./~/react-slick/lib/slider.js:148,0]\nBoolean && always false [./~/source-map-loader!./~/react-slick/lib/slider.js:155,0]\nCondition left of || always true [./~/source-map-loader!./~/react-slick/lib/slider.js:155,0]\nBoolean && always false [./~/source-map-loader!./~/react-slick/lib/slider.js:158,0]\nCondition left of || always true [./~/source-map-loader!./~/react-slick/lib/slider.js:158,0]\nSide effects in initialization of unused variable InnerSlider [./~/source-map-loader!./~/react-slick/lib/inner-slider.js:52,0]\nSide effects in initialization of unused variable getRequiredLazySlides [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:31,0]\nSide effects in initialization of unused variable extractObject [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:104,0]\nSide effects in initialization of unused variable initializedState [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:113,0]\nSide effects in initialization of unused variable slideHandler [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:156,0]\nSide effects in initialization of unused variable changeSlide [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:239,0]\nSide effects in initialization of unused variable keyHandler [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:292,0]\nSide effects in initialization of unused variable swipeStart [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:299,0]\nSide effects in initialization of unused variable swipeMove [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:312,0]\nSide effects in initialization of unused variable swipeEnd [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:393,0]\nSide effects in initialization of unused variable canUseDOM [./~/source-map-loader!./~/react-slick/lib/utils/innerSliderUtils.js:740,0]\nSide effects in initialization of unused variable Track [./~/source-map-loader!./~/react-slick/lib/track.js:181,0]\nSide effects in initialization of unused variable Dots [./~/source-map-loader!./~/react-slick/lib/dots.js:36,0]\nSide effects in initialization of unused variable PrevArrow [./~/source-map-loader!./~/react-slick/lib/arrows.js:26,0]\nSide effects in initialization of unused variable NextArrow [./~/source-map-loader!./~/react-slick/lib/arrows.js:81,0]\nCondition always true [./~/source-map-loader!./~/resize-observer-polyfill/dist/ResizeObserver.js:2,0]\nDropping unreachable code [./~/source-map-loader!./~/resize-observer-polyfill/dist/ResizeObserver.js:1017,0]\nDeclarations in unreachable code! [./~/source-map-loader!./~/resize-observer-polyfill/dist/ResizeObserver.js:1017,0]\nChild html-webpack-plugin for \"index.html\":\n        + 3 hidden modules\nDone in 10.40s.\nRemoving intermediate container a23fabc08c78\n ---> f43b3e460f45\nStep 10/12 : RUN ./scripts/compress-all.sh\n ---> Running in e27eaa8566a3\nCompressing view.bundle.js\n\u001b[91mview.bundle.js:\t\u001b[0m\u001b[91m 72.6% -- replaced with view.bundle.js.gz\n\u001b[0mCompressing index.html\n\u001b[91mindex.html:\t\u001b[0m\u001b[91m 52.3% -- replaced with index.html.gz\n\u001b[0mCompressing style/fonts.css\n\u001b[91mstyle/fonts.css:\t\u001b[0m\u001b[91m 78.3% -- replaced with style/fonts.css.gz\n\u001b[0mCompressing style/slick.css\n\u001b[91mstyle/slick.css:\t\u001b[0m\u001b[91m 67.7% -- replaced with style/slick.css.gz\n\u001b[0mCompressing style/transit.css\n\u001b[91mstyle/transit.css:\t\u001b[0m\u001b[91m 73.6% -- replaced with style/transit.css.gz\n\u001b[0mRemoving intermediate container e27eaa8566a3\n ---> 817285e3498d\nStep 11/12 : EXPOSE 1337\n ---> Running in eab49b69a34b\nRemoving intermediate container eab49b69a34b\n ---> 02a9fc88d319\nStep 12/12 : CMD [\"yarn\", \"serve\", \"--router-url\", \"http://localhost:8080\" ]\n ---> Running in 2522c8a5728a\nRemoving intermediate container 2522c8a5728a\n ---> 376ec3d99d59\nSuccessfully built 376ec3d99d59\nSuccessfully tagged totx:latest\n","stderr":"","imageSize":1174514746},"repair":{"violations":[],"repairedDockerfile":"FROM node:12.1.0 as builder\n\n# Create app directory\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\n# Install dependencies (but not devDependencies)\n# So long as no dependencies have changed, this step will be cached.\nCOPY package.json /usr/src/app/package.json\nCOPY yarn.lock /usr/src/app/yarn.lock\n\nCOPY . /usr/src/app\n\nRUN yarn install --production\n\n# Tell node and webpack that this is a production setting.\n# This will enable caching and produce minified JS.\nENV NODE_ENV production\n\nRUN yarn webpack\nRUN ./scripts/compress-all.sh\n\nEXPOSE 1337\n\nCMD [\"yarn\", \"serve\", \"--router-url\", \"http://localhost:8080\" ]\n"},"endTime":1672040892475}