{"repository":"https://github.com/odpf/enigma","dockerfilePath":"Dockerfile","startTime":1672247222011,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/odpf/enigma'...\n","error":null,"commit":"199ca28b8362b76587e25d994829fb14f7463159"},"originalBuild":{"startTimestamp":1672247223844,"endTimestamp":1672247398227,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t enigma:latest -f /tmp/dinghy-analysis/odpf/enigma/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.302MB\r\r\nStep 1/15 : FROM node:16.3.0-alpine AS builder\n16.3.0-alpine: Pulling from library/node\n540db60ca938: Already exists\nfdd4ce4fd760: Pulling fs layer\nb78962e1a5c8: Pulling fs layer\n0040dd60b7a4: Pulling fs layer\n0040dd60b7a4: Verifying Checksum\n0040dd60b7a4: Download complete\nb78962e1a5c8: Verifying Checksum\nb78962e1a5c8: Download complete\nfdd4ce4fd760: Verifying Checksum\nfdd4ce4fd760: Download complete\nfdd4ce4fd760: Pull complete\nb78962e1a5c8: Pull complete\n0040dd60b7a4: Pull complete\nDigest: sha256:2eee2f439d3b3509bbe40faff6584bd31b5745b4c137e93e2d795899a2927762\nStatus: Downloaded newer image for node:16.3.0-alpine\n ---> 48de5d16038c\nStep 2/15 : WORKDIR /app\n ---> Running in 291c6b407cf2\nRemoving intermediate container 291c6b407cf2\n ---> 6035688b386a\nStep 3/15 : COPY package*.json ./\n ---> 40282a27359b\nStep 4/15 : RUN npm install\n ---> Running in b3d8d0bc539c\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN Found: @types/jest@26.0.24\nnpm WARN node_modules/@types/jest\nnpm WARN   dev @types/jest@\"^26.0.23\" from the root project\nnpm \u001b[0m\u001b[91mWARN \nnpm WARN Could not resolve dependency:\nnpm WARN peerOptional @types/jest@\"^27.0.0\" from ts-jest@27.1.5\n\u001b[0m\u001b[91mnpm WARN node_modules/ts-jest\nnpm\u001b[0m\u001b[91m WARN   dev ts-jest@\"^27.0.3\" from the root project\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @types/mongoose@5.11.97: Mongoose publishes its own types, so you do not need to install this package.\n\u001b[0m\u001b[91mnpm WARN deprecated json-schema-ref-parser@6.1.0: Please switch to @apidevtools/json-schema-ref-parser\n\u001b[0m\u001b[91mnpm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 1407 packages, and audited 1408 packages in 2m\n\n110 packages are looking for funding\n  run `npm fund` for details\n\n4 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 7.15.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container b3d8d0bc539c\n ---> 9f3ed29ef3ca\nStep 5/15 : COPY . .\n ---> 6e71f5ecfe44\nStep 6/15 : RUN npm run build\n ---> Running in d469f5af93e3\n\n> cosmos@0.1.2 prebuild\n> npm run clean\n\n\n> cosmos@0.1.2 clean\n> rm -rf ./build\n\n\n> cosmos@0.1.2 build\n> ttsc -p tsconfig.build.json\n\nDeprecationWarning: 'updateImportDeclaration' has been deprecated since v4.8.0. Decorators are no longer supported for this function. Callers should switch to an overload that does not accept a 'decorators' parameter.\nsrc/app/cube-proxy/index.ts(25,28): error TS7006: Parameter 'request' implicitly has an 'any' type.\nsrc/config/composer.ts(70,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\n              The types of 'auth.scheme' are incompatible between these types.\n                Types of parameters 'scheme' and 'scheme' are incompatible.\n                  Call signature return types 'ServerAuthSchemeObject<Refs>' and 'ServerAuthSchemeObject<MergeRefs<Refs>>' are incompatible.\n                    The types of 'authenticate' are incompatible between these types.\n                      Type '(request: Request<Refs>, h: ResponseToolkit<Refs>) => ReturnValue<Refs>' is not assignable to type '(request: Request<MergeRefs<Refs>>, h: ResponseToolkit<MergeRefs<Refs>>) => ReturnValue<MergeRefs<Refs>>'.\n                        Types of parameters 'request' and 'request' are incompatible.\n                          Property 'registerPodium' is missing in type 'Request<MergeRefs<Refs>>' but required in type 'Request<Refs>'.\nsrc/config/composer.ts(76,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(82,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(88,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(94,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(100,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(106,9): error TS2322: Type '{ name: string; version: string; register: (server: Hapi.Server, options: ICubeProxyOptions) => void; }' is not assignable to type 'string | Plugin<any>'.\n  Type '{ name: string; version: string; register: (server: Hapi.Server, options: ICubeProxyOptions) => void; }' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n    Type '{ name: string; version: string; register: (server: Hapi.Server, options: ICubeProxyOptions) => void; }' is not assignable to type 'PluginBase<any>'.\n      Types of property 'register' are incompatible.\n        Type '(server: Hapi.Server, options: ICubeProxyOptions) => void' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n          Types of parameters 'server' and 'server' are incompatible.\n            Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(118,9): error TS2322: Type 'Plugin<RegisterOptions>' is not assignable to type 'string | Plugin<any>'.\n  Type 'PluginBase<RegisterOptions> & PluginNameVersion' is not assignable to type 'string | Plugin<any>'.\n    Type 'PluginBase<RegisterOptions> & PluginNameVersion' is not assignable to type 'PluginBase<any> & PluginNameVersion'.\n      Type 'PluginBase<RegisterOptions> & PluginNameVersion' is not assignable to type 'PluginBase<any>'.\n        Types of property 'register' are incompatible.\n          Type '(server: Server, options: RegisterOptions) => void | Promise<void>' is not assignable to type '(server: Server, options: any) => void | Promise<void>'.\n            Types of parameters 'server' and 'server' are incompatible.\n              Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\nsrc/config/composer.ts(132,3): error TS2322: Type 'import(\"/app/node_modules/@types/hapi__glue/node_modules/@hapi/hapi/lib/index\").Server' is not assignable to type 'import(\"/app/node_modules/@types/hapi__hapi/index\").Server'.\n\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 7.15.1 -> 9.2.0\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container d469f5af93e3\n","stderr":"The command '/bin/sh -c npm run build' returned a non-zero code: 2\n"},"endTime":1672247398309}