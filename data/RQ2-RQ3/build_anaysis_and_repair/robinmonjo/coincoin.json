{"repository":"https://github.com/robinmonjo/coincoin","dockerfilePath":"Dockerfile","startTime":1672520613061,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/robinmonjo/coincoin'...\n","error":null,"commit":"3847d1410cdbc61cfb9bb7a2b323a95a8c2c1bea"},"originalBuild":{"startTimestamp":1672520613947,"endTimestamp":1672520672282,"error":null,"stdout":"Sending build context to Docker daemon    638kB\r\r\nStep 1/6 : FROM elixir:1.6.1-alpine\n1.6.1-alpine: Pulling from library/elixir\nff3a5c916c92: Pulling fs layer\n2a924500f920: Pulling fs layer\n7b88f59524b9: Pulling fs layer\n7b88f59524b9: Verifying Checksum\n7b88f59524b9: Download complete\nff3a5c916c92: Verifying Checksum\nff3a5c916c92: Download complete\n2a924500f920: Verifying Checksum\n2a924500f920: Download complete\nff3a5c916c92: Pull complete\n2a924500f920: Pull complete\n7b88f59524b9: Pull complete\nDigest: sha256:6d2264d66e9a70b3ae6a44c92902a3fd51c7176b196f13d8c78169db5e8635c5\nStatus: Downloaded newer image for elixir:1.6.1-alpine\n ---> 4912dcd6afc7\nStep 2/6 : RUN apk update && apk add bash make git\n ---> Running in d38a4722f906\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz\nv3.7.3-184-gffd32bfd09 [http://dl-cdn.alpinelinux.org/alpine/v3.7/main]\nv3.7.3-194-gcddd1b2302 [http://dl-cdn.alpinelinux.org/alpine/v3.7/community]\nOK: 9063 distinct packages available\n(1/9) Installing pkgconf (1.3.10-r0)\n(2/9) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(3/9) Installing ca-certificates (20190108-r0)\n(4/9) Installing libssh2 (1.9.0-r1)\n(5/9) Installing libcurl (7.61.1-r3)\n(6/9) Installing expat (2.2.8-r0)\n(7/9) Installing pcre2 (10.30-r0)\n(8/9) Installing git (2.15.4-r0)\n(9/9) Installing make (4.2.1-r0)\nExecuting busybox-1.27.2-r7.trigger\nExecuting ca-certificates-20190108-r0.trigger\nOK: 31 MiB in 28 packages\nRemoving intermediate container d38a4722f906\n ---> 232f29bfbfa3\nStep 3/6 : ADD . /app\n ---> 41a80fd75152\nStep 4/6 : WORKDIR /app\n ---> Running in c510a73cba22\nRemoving intermediate container c510a73cba22\n ---> f44fb802a39f\nStep 5/6 : RUN make release\n ---> Running in ddceccf5a1ab\nmix local.hex --force\n* creating /root/.mix/archives/hex-2.0.0\nmix local.rebar --force\n* creating /root/.mix/rebar\n* creating /root/.mix/rebar3\nmix deps.get\nResolving Hex dependencies...\nResolution completed in 0.15s\nUnchanged:\n  bunt 0.2.0\n  cowboy 1.1.2\n  cowlib 1.0.2\n  credo 0.8.10\n  dialyxir 0.5.1\n  distillery 1.5.2\n  fs 0.9.2\n  gettext 0.13.1\n  mime 1.1.0\n  pane 0.1.1\n  phoenix 1.3.0\n  phoenix_html 2.9.3\n  phoenix_live_reload 1.0.8\n  phoenix_pubsub 1.0.2\n  plug 1.4.3\n  poison 3.1.0\n  ranch 1.3.2\n  scribe 0.4.1\n* Getting dialyxir (Hex package)\n* Getting credo (Hex package)\n* Getting distillery (Hex package)\n* Getting phoenix (Hex package)\n* Getting phoenix_pubsub (Hex package)\n* Getting phoenix_html (Hex package)\n* Getting phoenix_live_reload (Hex package)\n* Getting gettext (Hex package)\n* Getting cowboy (Hex package)\n* Getting cowlib (Hex package)\n* Getting ranch (Hex package)\n* Getting fs (Hex package)\n* Getting plug (Hex package)\n* Getting mime (Hex package)\n* Getting poison (Hex package)\n* Getting scribe (Hex package)\n* Getting pane (Hex package)\n* Getting bunt (Hex package)\ncd apps/blockchain_web && MIX_ENV=prod mix phx.digest\n==> pane\nCompiling 3 files (.ex)\nGenerated pane app\n==> scribe\nCompiling 2 files (.ex)\nGenerated scribe app\n==> gettext\nCompiling 1 file (.yrl)\nCompiling 1 file (.erl)\nCompiling 20 files (.ex)\n\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/gettext/extractor_agent.ex:64\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/gettext/po/parser.ex:44\n\n\u001b[0m\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  lib/gettext/po/parser.ex:47\n\n\u001b[0m\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  lib/gettext/po/parser.ex:55\n\n\u001b[0m\u001b[91mwarning: String.lstrip/1 is deprecated, use String.trim_leading/1\n  lib/gettext/po/parser.ex:65\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/gettext/po/parser.ex:71\n\n\u001b[0m\u001b[91mwarning: String.to_char_list/1 is deprecated, use String.to_charlist/1\n  lib/gettext/po/tokenizer.ex:147\n\n\u001b[0mGenerated gettext app\n===> Compiling ranch\n\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  /app/deps/poison/mix.exs:4\n\n\u001b[0m==> poison\nCompiling 4 files (.ex)\n\u001b[91mwarning: Integer.to_char_list/2 is deprecated, use Integer.to_charlist/2\n  lib/poison/encoder.ex:173\n\n\u001b[0mGenerated poison app\n==> blockchain\nCompiling 15 files (.ex)\n\u001b[91mwarning: redefining module Poison.Encoder.Blockchain.Block (current version loaded from /app/_build/prod/lib/blockchain/ebin/Elixir.Poison.Encoder.Blockchain.Block.beam)\n  lib/blockchain/p2p/payload.ex:73\n\n\u001b[0m\u001b[91mwarning: redefining module Poison.Encoder.Blockchain.P2P.Payload (current version loaded from /app/_build/prod/lib/blockchain/ebin/Elixir.Poison.Encoder.Blockchain.P2P.Payload.beam)\n  lib/blockchain/p2p/payload.ex:73\n\n\u001b[0mGenerated blockchain app\n==> phoenix_pubsub\nCompiling 12 files (.ex)\nGenerated phoenix_pubsub app\n===> Compiling cowlib\nsrc/cow_multipart.erl:392: Warning: call to crypto:rand_bytes/1 will fail, since it was removed in 20.0; use crypto:strong_rand_bytes/1\n\n===> Compiling cowboy\n==> mime\nCompiling 1 file (.ex)\n\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  lib/mime.ex:28\n\n\u001b[0mGenerated mime app\n==> plug\nCompiling 1 file (.erl)\nCompiling 44 files (.ex)\n\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/plug/adapters/cowboy.ex:46\n\n\u001b[0mGenerated plug app\n==> phoenix_html\nCompiling 8 files (.ex)\n\u001b[91mwarning: Enum.filter_map/3 is deprecated, use Enum.filter/2 + Enum.map/2 or for comprehensions\n  lib/phoenix_html/format.ex:43\n\n\u001b[0m\u001b[91mwarning: String.rjust/3 is deprecated, use String.pad_leading/3 with a binary padding\n  lib/phoenix_html/form.ex:1102\n\n\u001b[0mGenerated phoenix_html app\n==> phoenix\nCompiling 74 files (.ex)\n\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/phoenix/endpoint/handler.ex:39\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/mix/tasks/phoenix.gen.model.ex:155\n\n\u001b[0m\u001b[91mwarning: function init/1 required by behaviour GenServer is not implemented (in module Phoenix.CodeReloader.Proxy).\n\nWe will inject a default implementation for now:\n\n    def init(args) do\n      {:ok, args}\n    end\n\nBut you want to define your own implementation that converts the arguments given to GenServer.start_link/3 to the server state\n\n  lib/phoenix/code_reloader/proxy.ex:3\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/mix/phoenix/schema.ex:235\n\n\u001b[0mGenerated phoenix app\n==> blockchain_web\n\u001b[91mThe input path \"priv/static\" does not exist\n\u001b[0mMIX_ENV=prod mix release --env=prod --executable\n==> distillery\nCompiling 19 files (.ex)\nGenerated distillery app\n==> blockchain_web\nCompiling 15 files (.ex)\nGenerated blockchain_web app\n==> token\nCompiling 8 files (.ex)\nGenerated token app\n\u001b[1m\u001b[36m==> Assembling release..\u001b[0m\n\u001b[1m\u001b[36m==> Building release coincoin:0.1.0 using environment prod\u001b[0m\n\u001b[1m\u001b[36m==> Including ERTS 9.2.1 from /usr/local/lib/erlang/erts-9.2.1\u001b[0m\n\u001b[1m\u001b[36m==> Packaging release..\u001b[0m\n\u001b[1m\u001b[32m==> Release successfully built!\n    You can run it in one of the following ways:\n      Interactive: _build/prod/rel/coincoin/bin/coincoin.run console\n      Foreground: _build/prod/rel/coincoin/bin/coincoin.run foreground\n      Daemon: _build/prod/rel/coincoin/bin/coincoin.run start\u001b[0m\nRemoving intermediate container ddceccf5a1ab\n ---> bd3b29629e82\nStep 6/6 : CMD _build/prod/rel/coincoin/bin/coincoin console\n ---> Running in 334bac241f7f\nRemoving intermediate container 334bac241f7f\n ---> f7013435d1a0\nSuccessfully built f7013435d1a0\nSuccessfully tagged coincoin:latest\n","stderr":"","imageSize":150174983},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":18,"columnEnd":39}}],"repairedDockerfile":"FROM elixir:1.6.1-alpine\n\nRUN apk update && apk add --no-cache bash make git\n\nADD . /app\nWORKDIR /app\nRUN make release\nCMD _build/prod/rel/coincoin/bin/coincoin console\n"},"repairedBuild":{"startTimestamp":1672520672625,"endTimestamp":1672520720472,"error":null,"stdout":"Sending build context to Docker daemon    638kB\r\r\nStep 1/6 : FROM elixir:1.6.1-alpine\n ---> 4912dcd6afc7\nStep 2/6 : RUN apk update && apk add --no-cache bash make git\n ---> Running in ebb69c06b48e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz\nv3.7.3-184-gffd32bfd09 [http://dl-cdn.alpinelinux.org/alpine/v3.7/main]\nv3.7.3-194-gcddd1b2302 [http://dl-cdn.alpinelinux.org/alpine/v3.7/community]\nOK: 9063 distinct packages available\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing pkgconf (1.3.10-r0)\n(2/9) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(3/9) Installing ca-certificates (20190108-r0)\n(4/9) Installing libssh2 (1.9.0-r1)\n(5/9) Installing libcurl (7.61.1-r3)\n(6/9) Installing expat (2.2.8-r0)\n(7/9) Installing pcre2 (10.30-r0)\n(8/9) Installing git (2.15.4-r0)\n(9/9) Installing make (4.2.1-r0)\nExecuting busybox-1.27.2-r7.trigger\nExecuting ca-certificates-20190108-r0.trigger\nOK: 31 MiB in 28 packages\nRemoving intermediate container ebb69c06b48e\n ---> 8fda5f669070\nStep 3/6 : ADD . /app\n ---> 09214ab8111f\nStep 4/6 : WORKDIR /app\n ---> Running in 20398b8df4b7\nRemoving intermediate container 20398b8df4b7\n ---> bda2216d3115\nStep 5/6 : RUN make release\n ---> Running in 01a01649e1de\nmix local.hex --force\n* creating /root/.mix/archives/hex-2.0.0\nmix local.rebar --force\n* creating /root/.mix/rebar\n* creating /root/.mix/rebar3\nmix deps.get\nResolving Hex dependencies...\nResolution completed in 0.129s\nUnchanged:\n  bunt 0.2.0\n  cowboy 1.1.2\n  cowlib 1.0.2\n  credo 0.8.10\n  dialyxir 0.5.1\n  distillery 1.5.2\n  fs 0.9.2\n  gettext 0.13.1\n  mime 1.1.0\n  pane 0.1.1\n  phoenix 1.3.0\n  phoenix_html 2.9.3\n  phoenix_live_reload 1.0.8\n  phoenix_pubsub 1.0.2\n  plug 1.4.3\n  poison 3.1.0\n  ranch 1.3.2\n  scribe 0.4.1\n* Getting dialyxir (Hex package)\n* Getting credo (Hex package)\n* Getting distillery (Hex package)\n* Getting phoenix (Hex package)\n* Getting phoenix_pubsub (Hex package)\n* Getting phoenix_html (Hex package)\n* Getting phoenix_live_reload (Hex package)\n* Getting gettext (Hex package)\n* Getting cowboy (Hex package)\n* Getting cowlib (Hex package)\n* Getting ranch (Hex package)\n* Getting fs (Hex package)\n* Getting plug (Hex package)\n* Getting mime (Hex package)\n* Getting poison (Hex package)\n* Getting scribe (Hex package)\n* Getting pane (Hex package)\n* Getting bunt (Hex package)\ncd apps/blockchain_web && MIX_ENV=prod mix phx.digest\n==> pane\nCompiling 3 files (.ex)\nGenerated pane app\n==> scribe\nCompiling 2 files (.ex)\nGenerated scribe app\n==> gettext\nCompiling 1 file (.yrl)\nCompiling 1 file (.erl)\nCompiling 20 files (.ex)\n\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/gettext/po/parser.ex:44\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/gettext/extractor_agent.ex:64\n\n\u001b[0m\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  lib/gettext/po/parser.ex:47\n\n\u001b[0m\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  lib/gettext/po/parser.ex:55\n\n\u001b[0m\u001b[91mwarning: String.lstrip/1 is deprecated, use String.trim_leading/1\n  lib/gettext/po/parser.ex:65\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/gettext/po/parser.ex:71\n\n\u001b[0m\u001b[91mwarning: String.to_char_list/1 is deprecated, use String.to_charlist/1\n  lib/gettext/po/tokenizer.ex:147\n\n\u001b[0mGenerated gettext app\n===> Compiling ranch\n\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  /app/deps/poison/mix.exs:4\n\n\u001b[0m==> poison\nCompiling 4 files (.ex)\n\u001b[91mwarning: Integer.to_char_list/2 is deprecated, use Integer.to_charlist/2\n  lib/poison/encoder.ex:173\n\n\u001b[0mGenerated poison app\n==> blockchain\nCompiling 15 files (.ex)\n\u001b[91mwarning: redefining module Poison.Encoder.Blockchain.Block (current version loaded from /app/_build/prod/lib/blockchain/ebin/Elixir.Poison.Encoder.Blockchain.Block.beam)\n  lib/blockchain/p2p/payload.ex:73\n\n\u001b[0m\u001b[91mwarning: redefining module Poison.Encoder.Blockchain.P2P.Payload (current version loaded from /app/_build/prod/lib/blockchain/ebin/Elixir.Poison.Encoder.Blockchain.P2P.Payload.beam)\n  lib/blockchain/p2p/payload.ex:73\n\n\u001b[0mGenerated blockchain app\n==> phoenix_pubsub\nCompiling 12 files (.ex)\nGenerated phoenix_pubsub app\n===> Compiling cowlib\nsrc/cow_multipart.erl:392: Warning: call to crypto:rand_bytes/1 will fail, since it was removed in 20.0; use crypto:strong_rand_bytes/1\n\n===> Compiling cowboy\n==> mime\nCompiling 1 file (.ex)\n\u001b[91mwarning: String.strip/1 is deprecated, use String.trim/1\n  lib/mime.ex:28\n\n\u001b[0mGenerated mime app\n==> plug\nCompiling 1 file (.erl)\nCompiling 44 files (.ex)\n\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/plug/adapters/cowboy.ex:46\n\n\u001b[0mGenerated plug app\n==> phoenix_html\nCompiling 8 files (.ex)\n\u001b[91mwarning: Enum.filter_map/3 is deprecated, use Enum.filter/2 + Enum.map/2 or for comprehensions\n  lib/phoenix_html/format.ex:43\n\n\u001b[0m\u001b[91mwarning: String.rjust/3 is deprecated, use String.pad_leading/3 with a binary padding\n  lib/phoenix_html/form.ex:1102\n\n\u001b[0mGenerated phoenix_html app\n==> phoenix\nCompiling 74 files (.ex)\n\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/phoenix/endpoint/handler.ex:39\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/mix/tasks/phoenix.gen.model.ex:155\n\n\u001b[0m\u001b[91mwarning: function init/1 required by behaviour GenServer is not implemented (in module Phoenix.CodeReloader.Proxy).\n\nWe will inject a default implementation for now:\n\n    def init(args) do\n      {:ok, args}\n    end\n\nBut you want to define your own implementation that converts the arguments given to GenServer.start_link/3 to the server state\n\n  lib/phoenix/code_reloader/proxy.ex:3\n\n\u001b[0m\u001b[91mwarning: Enum.partition/2 is deprecated, use Enum.split_with/2\n  lib/mix/phoenix/schema.ex:235\n\n\u001b[0mGenerated phoenix app\n==> blockchain_web\n\u001b[91mThe input path \"priv/static\" does not exist\n\u001b[0mMIX_ENV=prod mix release --env=prod --executable\n==> distillery\nCompiling 19 files (.ex)\nGenerated distillery app\n==> blockchain_web\nCompiling 15 files (.ex)\nGenerated blockchain_web app\n==> token\nCompiling 8 files (.ex)\nGenerated token app\n\u001b[1m\u001b[36m==> Assembling release..\u001b[0m\n\u001b[1m\u001b[36m==> Building release coincoin:0.1.0 using environment prod\u001b[0m\n\u001b[1m\u001b[36m==> Including ERTS 9.2.1 from /usr/local/lib/erlang/erts-9.2.1\u001b[0m\n\u001b[1m\u001b[36m==> Packaging release..\u001b[0m\n\u001b[1m\u001b[32m==> Release successfully built!\n    You can run it in one of the following ways:\n      Interactive: _build/prod/rel/coincoin/bin/coincoin.run console\n      Foreground: _build/prod/rel/coincoin/bin/coincoin.run foreground\n      Daemon: _build/prod/rel/coincoin/bin/coincoin.run start\u001b[0m\nRemoving intermediate container 01a01649e1de\n ---> 229924b34058\nStep 6/6 : CMD _build/prod/rel/coincoin/bin/coincoin console\n ---> Running in 4aa26d81d8b8\nRemoving intermediate container 4aa26d81d8b8\n ---> 8324d063fe33\nSuccessfully built 8324d063fe33\nSuccessfully tagged coincoin:latest\n","stderr":"","imageSize":150174958},"endTime":1672520721253}