{"repository":"https://github.com/ansible/ansible-hub-ui","dockerfilePath":"Dockerfile","startTime":1672341168298,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ansible/ansible-hub-ui'...\n","error":null,"commit":"31ff4e1a6dcba9dc58e008cc89f94515c9809d3b"},"originalBuild":{"startTimestamp":1672341169921,"endTimestamp":1672341338450,"error":null,"stdout":"Sending build context to Docker daemon  5.495MB\r\r\nStep 1/9 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/9 : WORKDIR /hub/\n ---> Running in e1ed7bdad30a\nRemoving intermediate container e1ed7bdad30a\n ---> b01e81e34d35\nStep 3/9 : RUN mkdir -p /hub/app/ &&     apk add --no-cache git\n ---> Running in e1101c152b6e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nRemoving intermediate container e1101c152b6e\n ---> 7bbfb620c9ae\nStep 4/9 : COPY docker package.json package-lock.json /hub/\n ---> 651d506a84b2\nStep 5/9 : RUN chmod +x /hub/entrypoint.sh &&     npm install\n ---> Running in 1f8d7423abbf\n\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1358 packages, and audited 1359 packages in 49s\n\n232 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container 1f8d7423abbf\n ---> 83ee5af91d89\nStep 6/9 : ENV PATH /hub/node_modules/.bin:$PATH\n ---> Running in a26f57c60ee1\nRemoving intermediate container a26f57c60ee1\n ---> 114d044dafa6\nStep 7/9 : WORKDIR /hub/app\n ---> Running in 4bb42966b825\nRemoving intermediate container 4bb42966b825\n ---> 8a528960307b\nStep 8/9 : EXPOSE 8002\n ---> Running in deb67974565d\nRemoving intermediate container deb67974565d\n ---> 27fc20b3dbc0\nStep 9/9 : CMD [\"/hub/entrypoint.sh\"]\n ---> Running in da79b5c0c8fd\nRemoving intermediate container da79b5c0c8fd\n ---> 9b2e282731de\nSuccessfully built 9b2e282731de\nSuccessfully tagged ansible-hub-ui:latest\n","stderr":"","imageSize":1116051828},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":13,"end":13,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# WARNING\n# This Dockerfile is intended for development purposes only. Do not use it for production deployments\n\nFROM node:16-alpine\nWORKDIR /hub/\n\nRUN mkdir -p /hub/app/ && \\\n    apk add --no-cache git\n\n# install npm in /hub and mount the app in /hub/app so that the installed node_modules\n# doesn't trample node_modules on your computer. see https://www.docker.com/blog/keep-nodejs-rockin-in-docker/ for details\nCOPY docker package.json package-lock.json /hub/\nRUN chmod +x /hub/entrypoint.sh && \\\n    npm install\n\n# make webpack-dev-sever and other node packages executable\nENV PATH /hub/node_modules/.bin:$PATH\n\nWORKDIR /hub/app\nEXPOSE 8002\nCMD [\"/hub/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672341340929,"endTimestamp":1672341655815,"error":null,"stdout":"Sending build context to Docker daemon  5.495MB\r\r\nStep 1/9 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/9 : WORKDIR /hub/\n ---> Running in 75aa6bab3691\nRemoving intermediate container 75aa6bab3691\n ---> c3c6bae7fc75\nStep 3/9 : RUN mkdir -p /hub/app/ &&     apk add --no-cache git\n ---> Running in 478bd34fe6b1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nRemoving intermediate container 478bd34fe6b1\n ---> b3f97c2835e6\nStep 4/9 : COPY docker package.json package-lock.json /hub/\n ---> 71f281760d3d\nStep 5/9 : RUN chmod +x /hub/entrypoint.sh &&     npm install\n ---> Running in f233056fd71a\n\u001b[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1358 packages, and audited 1359 packages in 55s\n\n232 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container f233056fd71a\n ---> f77797294dbe\nStep 6/9 : ENV PATH /hub/node_modules/.bin:$PATH\n ---> Running in 2c273eef42d8\nRemoving intermediate container 2c273eef42d8\n ---> d86831fae53b\nStep 7/9 : WORKDIR /hub/app\n ---> Running in b8ccf71dc1a8\nRemoving intermediate container b8ccf71dc1a8\n ---> edd694b2f44e\nStep 8/9 : EXPOSE 8002\n ---> Running in 3979866529de\nRemoving intermediate container 3979866529de\n ---> 27b91ef07ea4\nStep 9/9 : CMD [\"/hub/entrypoint.sh\"]\n ---> Running in fbab3f455b73\nRemoving intermediate container fbab3f455b73\n ---> 809ab8664ab9\nSuccessfully built 809ab8664ab9\nSuccessfully tagged ansible-hub-ui:latest\n","stderr":"","imageSize":1116051746},"endTime":1672341658930}