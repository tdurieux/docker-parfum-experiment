{"repository":"https://github.com/troessner/reek","dockerfilePath":"Dockerfile","startTime":1672962117184,"endTime":1672962206236,"clone":{"startTime":1672962117187,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/troessner/reek'...\n","error":null,"endTime":1672962118159,"commit":"dbd31bb299e52e36a72b8c08b8a516ba7bc339cc"},"originalBuild":{"startTime":1672962118236,"endTime":1672962172330,"error":null,"stdout":"Sending build context to Docker daemon    554kB\r\r\nStep 1/17 : FROM ruby:2.6.0-alpine\n2.6.0-alpine: Pulling from library/ruby\n169185f82c45: Already exists\n222c39e7aa7a: Pulling fs layer\n07546bd8601e: Pulling fs layer\n7614965d2143: Pulling fs layer\n7614965d2143: Download complete\n222c39e7aa7a: Verifying Checksum\n222c39e7aa7a: Download complete\n222c39e7aa7a: Pull complete\n07546bd8601e: Verifying Checksum\n07546bd8601e: Download complete\n07546bd8601e: Pull complete\n7614965d2143: Pull complete\nDigest: sha256:3e3e25d53934c6e9fc2401738d1ddd3b1edbdb13d5509bbbd061b2b1f3c30f76\nStatus: Downloaded newer image for ruby:2.6.0-alpine\n ---> 04a129682918\nStep 2/17 : MAINTAINER The Reek core team\n ---> Running in 4d1796b042f0\nRemoving intermediate container 4d1796b042f0\n ---> b48f447e8cb0\nStep 3/17 : ENV code_dir /code\n ---> Running in fdf923edfdbb\nRemoving intermediate container fdf923edfdbb\n ---> e81e326c92d0\nStep 4/17 : ENV app_dir /usr/src/app\n ---> Running in 2d62e3a9c3a7\nRemoving intermediate container 2d62e3a9c3a7\n ---> 454024cc0177\nStep 5/17 : ENV user app\n ---> Running in 9e2af58d3cbe\nRemoving intermediate container 9e2af58d3cbe\n ---> 5e7a631ed0c2\nStep 6/17 : RUN apk --update add git build-base\n ---> Running in 0c6456cbb936\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/26) Upgrading musl (1.1.19-r10 -> 1.1.19-r11)\n(2/26) Installing binutils (2.30-r6)\n(3/26) Installing libmagic (5.32-r2)\n(4/26) Installing file (5.32-r2)\n(5/26) Installing gmp (6.1.2-r1)\n(6/26) Installing isl (0.18-r0)\n(7/26) Installing libgomp (6.4.0-r9)\n(8/26) Installing libatomic (6.4.0-r9)\n(9/26) Installing libgcc (6.4.0-r9)\n(10/26) Installing mpfr3 (3.1.5-r1)\n(11/26) Installing mpc1 (1.0.3-r1)\n(12/26) Installing libstdc++ (6.4.0-r9)\n(13/26) Installing gcc (6.4.0-r9)\n(14/26) Installing musl-dev (1.1.19-r11)\n(15/26) Installing libc-dev (0.7.1-r0)\n(16/26) Installing g++ (6.4.0-r9)\n(17/26) Installing make (4.2.1-r2)\n(18/26) Installing fortify-headers (0.9-r0)\n(19/26) Installing build-base (0.5-r1)\n(20/26) Installing nghttp2-libs (1.39.2-r0)\n(21/26) Installing libssh2 (1.9.0-r1)\n(22/26) Installing libcurl (7.61.1-r3)\n(23/26) Installing expat (2.2.8-r0)\n(24/26) Installing pcre2 (10.31-r0)\n(25/26) Installing git (2.18.4-r0)\n(26/26) Upgrading musl-utils (1.1.19-r10 -> 1.1.19-r11)\nExecuting busybox-1.28.4-r3.trigger\nOK: 190 MiB in 54 packages\nRemoving intermediate container 0c6456cbb936\n ---> ccbe1359d1e4\nStep 7/17 : ADD . ${app_dir}\n ---> 23cb3bbea495\nStep 8/17 : RUN adduser -u 9000 -D ${user}\n ---> Running in 276c45863355\nRemoving intermediate container 276c45863355\n ---> a6c0dbab4645\nStep 9/17 : RUN chown -R ${user}:${user} ${app_dir}\n ---> Running in ef9aeea995a5\nRemoving intermediate container ef9aeea995a5\n ---> cd3058d9652a\nStep 10/17 : USER ${user}\n ---> Running in 1b2abde9bf9d\nRemoving intermediate container 1b2abde9bf9d\n ---> 5e150c5705cb\nStep 11/17 : WORKDIR ${app_dir}\n ---> Running in 800e4083bae3\nRemoving intermediate container 800e4083bae3\n ---> cb20fccaaef1\nStep 12/17 : RUN gem install rake\n ---> Running in 662498e0eb96\nSuccessfully installed rake-13.0.6\n1 gem installed\nRemoving intermediate container 662498e0eb96\n ---> e31366152bb2\nStep 13/17 : RUN bundle install --without debugging development\n ---> Running in f0f9b7b549db\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mFetching gem metadata from https://rubygems.org/.......\nFetching gem metadata from https://rubygems.org/.\nResolving dependencies...\nFetching ast 2.4.2\nInstalling ast 2.4.2\nUsing bundler 1.17.2\nFetching kwalify 0.7.2\nInstalling kwalify 0.7.2\nFetching parser 3.1.3.0\nInstalling parser 3.1.3.0\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nUsing reek 6.1.3 from source at `.`\nBundle complete! 16 Gemfile dependencies, 6 gems now installed.\nGems in the groups debugging and development were not installed.\nBundled gems are installed into `/usr/local/bundle`\nRemoving intermediate container f0f9b7b549db\n ---> 29fefae8eb08\nStep 14/17 : RUN gem install codeclimate-engine-rb\n ---> Running in b56500dbcbc6\nSuccessfully installed codeclimate-engine-rb-0.4.2\n1 gem installed\nRemoving intermediate container b56500dbcbc6\n ---> 2adfe8780cb6\nStep 15/17 : VOLUME ${code_dir}\n ---> Running in 5e03eaae0b33\nRemoving intermediate container 5e03eaae0b33\n ---> 73f6901e0194\nStep 16/17 : WORKDIR ${code_dir}\n ---> Running in 4565d09bc08b\nRemoving intermediate container 4565d09bc08b\n ---> 3c79594a05f1\nStep 17/17 : CMD [ \"/usr/src/app/bin/code_climate_reek\" ]\n ---> Running in 053c8cd93691\nRemoving intermediate container 053c8cd93691\n ---> 5f6382cdc4ac\nSuccessfully built 5f6382cdc4ac\nSuccessfully tagged reek:latest\n","stderr":"","imageSize":241317947},"repair":{"startTime":1672962172385,"endTime":1672962172456,"violations":[{"name":"apkAddUseNoCache","position":{"start":13,"end":13,"columnStart":4,"columnEnd":35}}],"repairedDockerfile":"# CodeClimate specification: https://github.com/codeclimate/spec/blob/master/SPEC.md\n#\n# Build and run via:\n#   docker build -t codeclimate/codeclimate-reek . && docker run codeclimate/codeclimate-reek\n\nFROM ruby:2.6.0-alpine\n\nMAINTAINER The Reek core team\n\nENV code_dir /code\nENV app_dir /usr/src/app\nENV user app\n\nRUN apk --update --no-cache add git build-base\nADD . ${app_dir}\n\nRUN adduser -u 9000 -D ${user}\nRUN chown -R ${user}:${user} ${app_dir}\nUSER ${user}\n\nWORKDIR ${app_dir}\n\nRUN gem install rake\nRUN bundle install --without debugging development\nRUN gem install codeclimate-engine-rb\n\nVOLUME ${code_dir}\nWORKDIR ${code_dir}\n\nCMD [ \"/usr/src/app/bin/code_climate_reek\" ]\n"},"repairedBuild":{"startTime":1672962172930,"endTime":1672962205816,"error":null,"stdout":"Sending build context to Docker daemon    554kB\r\r\nStep 1/17 : FROM ruby:2.6.0-alpine\n ---> 04a129682918\nStep 2/17 : MAINTAINER The Reek core team\n ---> Running in 0b3ec07a6428\nRemoving intermediate container 0b3ec07a6428\n ---> a465906b52e2\nStep 3/17 : ENV code_dir /code\n ---> Running in 16c376354723\nRemoving intermediate container 16c376354723\n ---> 360348943222\nStep 4/17 : ENV app_dir /usr/src/app\n ---> Running in 53b23b2026e3\nRemoving intermediate container 53b23b2026e3\n ---> dbe095ac297f\nStep 5/17 : ENV user app\n ---> Running in 93e933a47cb1\nRemoving intermediate container 93e933a47cb1\n ---> 95376a8f961c\nStep 6/17 : RUN apk --update --no-cache add git build-base\n ---> Running in d539f9775ce2\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n(1/26) Upgrading musl (1.1.19-r10 -> 1.1.19-r11)\n(2/26) Installing binutils (2.30-r6)\n(3/26) Installing libmagic (5.32-r2)\n(4/26) Installing file (5.32-r2)\n(5/26) Installing gmp (6.1.2-r1)\n(6/26) Installing isl (0.18-r0)\n(7/26) Installing libgomp (6.4.0-r9)\n(8/26) Installing libatomic (6.4.0-r9)\n(9/26) Installing libgcc (6.4.0-r9)\n(10/26) Installing mpfr3 (3.1.5-r1)\n(11/26) Installing mpc1 (1.0.3-r1)\n(12/26) Installing libstdc++ (6.4.0-r9)\n(13/26) Installing gcc (6.4.0-r9)\n(14/26) Installing musl-dev (1.1.19-r11)\n(15/26) Installing libc-dev (0.7.1-r0)\n(16/26) Installing g++ (6.4.0-r9)\n(17/26) Installing make (4.2.1-r2)\n(18/26) Installing fortify-headers (0.9-r0)\n(19/26) Installing build-base (0.5-r1)\n(20/26) Installing nghttp2-libs (1.39.2-r0)\n(21/26) Installing libssh2 (1.9.0-r1)\n(22/26) Installing libcurl (7.61.1-r3)\n(23/26) Installing expat (2.2.8-r0)\n(24/26) Installing pcre2 (10.31-r0)\n(25/26) Installing git (2.18.4-r0)\n(26/26) Upgrading musl-utils (1.1.19-r10 -> 1.1.19-r11)\nExecuting busybox-1.28.4-r3.trigger\nOK: 190 MiB in 54 packages\nRemoving intermediate container d539f9775ce2\n ---> e54bf599a394\nStep 7/17 : ADD . ${app_dir}\n ---> 85d4935d779b\nStep 8/17 : RUN adduser -u 9000 -D ${user}\n ---> Running in ae7ea94f16e4\nRemoving intermediate container ae7ea94f16e4\n ---> dab0341a0c71\nStep 9/17 : RUN chown -R ${user}:${user} ${app_dir}\n ---> Running in 4a9f826d7646\nRemoving intermediate container 4a9f826d7646\n ---> 9156a6deadb1\nStep 10/17 : USER ${user}\n ---> Running in a0225354732d\nRemoving intermediate container a0225354732d\n ---> a3dadcaa2fbc\nStep 11/17 : WORKDIR ${app_dir}\n ---> Running in 06738f84d4ea\nRemoving intermediate container 06738f84d4ea\n ---> 7bf4002ad77e\nStep 12/17 : RUN gem install rake\n ---> Running in 5a8c262a1f3b\nSuccessfully installed rake-13.0.6\n1 gem installed\nRemoving intermediate container 5a8c262a1f3b\n ---> 2100971cfc39\nStep 13/17 : RUN bundle install --without debugging development\n ---> Running in af284a153a1a\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0mFetching gem metadata from https://rubygems.org/.......\nFetching gem metadata from https://rubygems.org/.\nResolving dependencies...\nFetching ast 2.4.2\nInstalling ast 2.4.2\nUsing bundler 1.17.2\nFetching kwalify 0.7.2\nInstalling kwalify 0.7.2\nFetching parser 3.1.3.0\nInstalling parser 3.1.3.0\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nUsing reek 6.1.3 from source at `.`\nBundle complete! 16 Gemfile dependencies, 6 gems now installed.\nGems in the groups debugging and development were not installed.\nBundled gems are installed into `/usr/local/bundle`\nRemoving intermediate container af284a153a1a\n ---> c507caaa51e9\nStep 14/17 : RUN gem install codeclimate-engine-rb\n ---> Running in 7581e427e7e0\nSuccessfully installed codeclimate-engine-rb-0.4.2\n1 gem installed\nRemoving intermediate container 7581e427e7e0\n ---> b8bf5ee5ff86\nStep 15/17 : VOLUME ${code_dir}\n ---> Running in 56f7b5c2a07c\nRemoving intermediate container 56f7b5c2a07c\n ---> 7749d2c759c5\nStep 16/17 : WORKDIR ${code_dir}\n ---> Running in 24013dd160d7\nRemoving intermediate container 24013dd160d7\n ---> cf620010b211\nStep 17/17 : CMD [ \"/usr/src/app/bin/code_climate_reek\" ]\n ---> Running in 8e2bb3131f33\nRemoving intermediate container 8e2bb3131f33\n ---> 2e27095a0ec3\nSuccessfully built 2e27095a0ec3\nSuccessfully tagged reek:latest\n","stderr":"","imageSize":240035469}}