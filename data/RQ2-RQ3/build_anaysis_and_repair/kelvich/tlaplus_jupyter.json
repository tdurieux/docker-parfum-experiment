{"repository":"https://github.com/kelvich/tlaplus_jupyter","dockerfilePath":"Dockerfile","startTime":1672013544956,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kelvich/tlaplus_jupyter'...\n","error":null,"commit":"87db8499a6bf25b77ba299a60bd36d5d881665f2"},"originalBuild":{"startTimestamp":1672013545760,"endTimestamp":1672013630100,"error":null,"stdout":"Sending build context to Docker daemon  152.6kB\r\r\nStep 1/14 : FROM openjdk:13-alpine3.10\n13-alpine3.10: Pulling from library/openjdk\n050382585609: Pulling fs layer\na8c71082b2bb: Pulling fs layer\n050382585609: Verifying Checksum\n050382585609: Download complete\n050382585609: Pull complete\na8c71082b2bb: Download complete\na8c71082b2bb: Pull complete\nDigest: sha256:ead7b96fe3556b38c15c7b913b5bb125ad039f372293393554e9574e41fd91e5\nStatus: Downloaded newer image for openjdk:13-alpine3.10\n ---> c4b0433a01ac\nStep 2/14 : RUN apk add --update gcc libc-dev zeromq-dev python3-dev linux-headers libffi-dev\n ---> Running in a5b28e06a55d\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/31) Upgrading musl (1.1.22-r2 -> 1.1.22-r4)\n(2/31) Installing binutils (2.32-r1)\n(3/31) Installing gmp (6.1.2-r1)\n(4/31) Installing isl (0.18-r0)\n(5/31) Installing libgomp (8.3.0-r0)\n(6/31) Installing libatomic (8.3.0-r0)\n(7/31) Installing libgcc (8.3.0-r0)\n(8/31) Installing mpfr3 (3.1.5-r1)\n(9/31) Installing mpc1 (1.1.0-r0)\n(10/31) Installing libstdc++ (8.3.0-r0)\n(11/31) Installing gcc (8.3.0-r0)\n(12/31) Installing musl-dev (1.1.22-r4)\n(13/31) Installing libc-dev (0.7.1-r0)\n(14/31) Installing linux-headers (4.19.36-r0)\n(15/31) Installing libffi (3.2.1-r6)\n(16/31) Installing pkgconf (1.6.1-r1)\n(17/31) Installing libffi-dev (3.2.1-r6)\n(18/31) Installing libbz2 (1.0.6-r7)\n(19/31) Installing expat (2.2.8-r0)\n(20/31) Installing gdbm (1.13-r1)\n(21/31) Installing xz-libs (5.2.4-r0)\n(22/31) Installing ncurses-terminfo-base (6.1_p20190518-r2)\n(23/31) Installing ncurses-libs (6.1_p20190518-r2)\n(24/31) Installing readline (8.0.0-r0)\n(25/31) Installing sqlite-libs (3.28.0-r3)\n(26/31) Installing python3 (3.7.10-r0)\n(27/31) Installing python3-dev (3.7.10-r0)\n(28/31) Installing libsodium (1.0.18-r0)\n(29/31) Installing libzmq (4.3.3-r0)\n(30/31) Installing libsodium-dev (1.0.18-r0)\n(31/31) Installing zeromq-dev (4.3.3-r0)\nExecuting busybox-1.30.1-r2.trigger\nOK: 215 MiB in 44 packages\nRemoving intermediate container a5b28e06a55d\n ---> 0c5e0eefaf1e\nStep 3/14 : ARG NB_USER=leslie\n ---> Running in a50e263682c9\nRemoving intermediate container a50e263682c9\n ---> 31f0ff7c9b5e\nStep 4/14 : ARG NB_UID=1000\n ---> Running in 8f31e8736347\nRemoving intermediate container 8f31e8736347\n ---> 55fdf9861c92\nStep 5/14 : ENV NB_USER ${NB_USER}\n ---> Running in 86a366c6ecf0\nRemoving intermediate container 86a366c6ecf0\n ---> b61e15bbdc16\nStep 6/14 : ENV NB_UID ${NB_UID}\n ---> Running in 4bbf75438da5\nRemoving intermediate container 4bbf75438da5\n ---> 31a86289deca\nStep 7/14 : RUN addgroup ${NB_USER} && adduser -D -G ${NB_USER} -u ${NB_UID} ${NB_USER}\n ---> Running in 3d999f2b1404\nRemoving intermediate container 3d999f2b1404\n ---> 3992226c7ae7\nStep 8/14 : COPY ./examples /home/${NB_USER}\n ---> c730c7caaa30\nStep 9/14 : RUN chown -R ${NB_USER} /home/${NB_USER}\n ---> Running in 8368601ca6c1\nRemoving intermediate container 8368601ca6c1\n ---> 7c5df52c8d88\nStep 10/14 : RUN pip3 install tlaplus_jupyter\n ---> Running in 976a37442cfa\nCollecting tlaplus_jupyter\n  Downloading tlaplus_jupyter-0.1.1-py3-none-any.whl (11 kB)\nCollecting future>=0.16\n  Downloading future-0.18.2.tar.gz (829 kB)\nCollecting notebook>=5\n  Downloading notebook-6.5.2-py3-none-any.whl (439 kB)\nCollecting ipykernel>=4.10\n  Downloading ipykernel-6.16.2-py3-none-any.whl (138 kB)\nCollecting psutil>=4\n  Downloading psutil-5.9.4.tar.gz (485 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting ipython-genutils\n  Downloading ipython_genutils-0.2.0-py2.py3-none-any.whl (26 kB)\nCollecting terminado>=0.8.3\n  Downloading terminado-0.17.1-py3-none-any.whl (17 kB)\nCollecting nbformat\n  Downloading nbformat-5.7.1-py3-none-any.whl (77 kB)\nCollecting prometheus-client\n  Downloading prometheus_client-0.15.0-py3-none-any.whl (60 kB)\nCollecting jupyter-client>=5.3.4\n  Downloading jupyter_client-7.4.8-py3-none-any.whl (133 kB)\nCollecting nest-asyncio>=1.5\n  Downloading nest_asyncio-1.5.6-py3-none-any.whl (5.2 kB)\nCollecting tornado>=6.1\n  Downloading tornado-6.2.tar.gz (504 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting nbclassic>=0.4.7\n  Downloading nbclassic-0.4.8-py3-none-any.whl (9.8 MB)\nCollecting traitlets>=4.2.1\n  Downloading traitlets-5.8.0-py3-none-any.whl (116 kB)\nCollecting nbconvert>=5\n  Downloading nbconvert-7.2.7-py3-none-any.whl (273 kB)\nCollecting jinja2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\nCollecting Send2Trash>=1.8.0\n  Downloading Send2Trash-1.8.0-py3-none-any.whl (18 kB)\nCollecting argon2-cffi\n  Downloading argon2_cffi-21.3.0-py3-none-any.whl (14 kB)\nCollecting pyzmq>=17\n  Downloading pyzmq-24.0.1.tar.gz (1.2 MB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting jupyter-core>=4.6.1\n  Downloading jupyter_core-4.12.0-py3-none-any.whl (89 kB)\nCollecting packaging\n  Using cached packaging-22.0-py3-none-any.whl (42 kB)\nCollecting debugpy>=1.0\n  Downloading debugpy-1.6.4-py2.py3-none-any.whl (4.9 MB)\nCollecting matplotlib-inline>=0.1\n  Downloading matplotlib_inline-0.1.6-py3-none-any.whl (9.4 kB)\nCollecting ipython>=7.23.1\n  Downloading ipython-7.34.0-py3-none-any.whl (793 kB)\nCollecting ptyprocess; os_name != \"nt\"\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting fastjsonschema\n  Downloading fastjsonschema-2.16.2-py3-none-any.whl (22 kB)\nCollecting jsonschema>=2.6\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\nCollecting importlib-metadata>=3.6; python_version < \"3.8\"\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting entrypoints\n  Downloading entrypoints-0.4-py3-none-any.whl (5.3 kB)\nCollecting python-dateutil>=2.8.2\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting jupyter-server>=1.8\n  Downloading jupyter_server-1.23.4-py3-none-any.whl (346 kB)\nCollecting notebook-shim>=0.1.0\n  Downloading notebook_shim-0.2.2-py3-none-any.whl (13 kB)\nCollecting pygments>=2.4.1\n  Downloading Pygments-2.13.0-py3-none-any.whl (1.1 MB)\nCollecting jupyterlab-pygments\n  Downloading jupyterlab_pygments-0.2.2-py2.py3-none-any.whl (21 kB)\nCollecting beautifulsoup4\n  Downloading beautifulsoup4-4.11.1-py3-none-any.whl (128 kB)\nCollecting mistune<3,>=2.0.3\n  Downloading mistune-2.0.4-py2.py3-none-any.whl (24 kB)\nCollecting markupsafe>=2.0\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\nCollecting tinycss2\n  Downloading tinycss2-1.2.1-py3-none-any.whl (21 kB)\nCollecting bleach\n  Downloading bleach-5.0.1-py3-none-any.whl (160 kB)\nCollecting pandocfilters>=1.4.1\n  Downloading pandocfilters-1.5.0-py2.py3-none-any.whl (8.7 kB)\nCollecting defusedxml\n  Downloading defusedxml-0.7.1-py2.py3-none-any.whl (25 kB)\nCollecting nbclient>=0.5.0\n  Downloading nbclient-0.7.2-py3-none-any.whl (71 kB)\nCollecting typing-extensions; python_version < \"3.8\"\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting argon2-cffi-bindings\n  Downloading argon2-cffi-bindings-21.2.0.tar.gz (1.8 MB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nRequirement already satisfied: setuptools>=18.5 in /usr/lib/python3.7/site-packages (from ipython>=7.23.1->ipykernel>=4.10->tlaplus_jupyter) (47.1.0)\nCollecting prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0\n  Downloading prompt_toolkit-3.0.36-py3-none-any.whl (386 kB)\nCollecting pickleshare\n  Downloading pickleshare-0.7.5-py2.py3-none-any.whl (6.9 kB)\nCollecting backcall\n  Downloading backcall-0.2.0-py2.py3-none-any.whl (11 kB)\nCollecting jedi>=0.16\n  Downloading jedi-0.18.2-py2.py3-none-any.whl (1.6 MB)\nCollecting pexpect>4.3; sys_platform != \"win32\"\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\nCollecting decorator\n  Downloading decorator-5.1.1-py3-none-any.whl (9.1 kB)\nCollecting pkgutil-resolve-name>=1.3.10; python_version < \"3.9\"\n  Downloading pkgutil_resolve_name-1.3.10-py3-none-any.whl (4.7 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting importlib-resources>=1.4.0; python_version < \"3.9\"\n  Downloading importlib_resources-5.10.1-py3-none-any.whl (34 kB)\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.2-py3-none-any.whl (57 kB)\nCollecting zipp>=0.5\n  Using cached zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting anyio<4,>=3.1.0\n  Downloading anyio-3.6.2-py3-none-any.whl (80 kB)\nCollecting websocket-client\n  Downloading websocket_client-1.4.2-py3-none-any.whl (55 kB)\nCollecting soupsieve>1.2\n  Downloading soupsieve-2.3.2.post1-py3-none-any.whl (37 kB)\nCollecting webencodings>=0.4\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting cffi>=1.0.1\n  Using cached cffi-1.15.1.tar.gz (508 kB)\nCollecting wcwidth\n  Downloading wcwidth-0.2.5-py2.py3-none-any.whl (30 kB)\nCollecting parso<0.9.0,>=0.8.0\n  Downloading parso-0.8.3-py2.py3-none-any.whl (100 kB)\nCollecting idna>=2.8\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting sniffio>=1.1\n  Downloading sniffio-1.3.0-py3-none-any.whl (10 kB)\nCollecting pycparser\n  Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB)\nUsing legacy setup.py install for future, since package 'wheel' is not installed.\nUsing legacy setup.py install for markupsafe, since package 'wheel' is not installed.\nUsing legacy setup.py install for cffi, since package 'wheel' is not installed.\nBuilding wheels for collected packages: psutil, tornado, pyzmq, argon2-cffi-bindings\n  Building wheel for psutil (PEP 517): started\n  Building wheel for psutil (PEP 517): finished with status 'done'\n  Created wheel for psutil: filename=psutil-5.9.4-cp37-abi3-linux_x86_64.whl size=268318 sha256=97d4ebdfc7c2e6c4f387dc4fc7251215b38e54972d57fb7d085c0d5fe08324d5\n  Stored in directory: /root/.cache/pip/wheels/96/d4/33/0f1cc243d4ff999bc69eb6d663651e4f8c8ba9c3ff5eb94fde\n  Building wheel for tornado (PEP 517): started\n  Building wheel for tornado (PEP 517): finished with status 'done'\n  Created wheel for tornado: filename=tornado-6.2-cp37-abi3-linux_x86_64.whl size=424945 sha256=d40e6cec9d474cc12c413d093b8ac49d11b320aa3be6b8a75be945f0e6c5edc3\n  Stored in directory: /root/.cache/pip/wheels/b8/0e/d8/18f1dc68a5de90daa4706d7f1d6222747b443fca224b7b94e8\n  Building wheel for pyzmq (PEP 517): started\n  Building wheel for pyzmq (PEP 517): finished with status 'done'\n  Created wheel for pyzmq: filename=pyzmq-24.0.1-cp37-cp37m-linux_x86_64.whl size=1102088 sha256=52e591da81c88479e7309bd3e2ad6312c31240db97e7500f76014cfade127547\n  Stored in directory: /root/.cache/pip/wheels/4b/f9/dd/27e6f399f57f4821e256b4b5be611bd87f70df42ea808d2944\n  Building wheel for argon2-cffi-bindings (PEP 517): started\n  Building wheel for argon2-cffi-bindings (PEP 517): finished with status 'done'\n  Created wheel for argon2-cffi-bindings: filename=argon2_cffi_bindings-21.2.0-cp37-abi3-linux_x86_64.whl size=79910 sha256=a42b73ee2d4eded89f109784697e5babd7be329fa9a0c773e0d60f42475a9fa8\n  Stored in directory: /root/.cache/pip/wheels/62/24/7d/56d782c435a94a32543b56784eba4c842ece3d028e184dfb48\nSuccessfully built psutil tornado pyzmq argon2-cffi-bindings\nInstalling collected packages: future, ipython-genutils, psutil, packaging, traitlets, debugpy, tornado, nest-asyncio, entrypoints, six, python-dateutil, pyzmq, jupyter-core, jupyter-client, matplotlib-inline, wcwidth, prompt-toolkit, pickleshare, backcall, parso, jedi, ptyprocess, pexpect, decorator, pygments, ipython, ipykernel, terminado, fastjsonschema, pkgutil-resolve-name, attrs, zipp, importlib-resources, pyrsistent, typing-extensions, importlib-metadata, jsonschema, nbformat, prometheus-client, idna, sniffio, anyio, websocket-client, Send2Trash, jupyterlab-pygments, soupsieve, beautifulsoup4, mistune, markupsafe, jinja2, webencodings, tinycss2, bleach, pandocfilters, defusedxml, nbclient, nbconvert, pycparser, cffi, argon2-cffi-bindings, argon2-cffi, jupyter-server, notebook-shim, nbclassic, notebook, tlaplus-jupyter\n    Running setup.py install for future: started\n    Running setup.py install for future: finished with status 'done'\n    Running setup.py install for markupsafe: started\n    Running setup.py install for markupsafe: finished with status 'done'\n    Running setup.py install for cffi: started\n    Running setup.py install for cffi: finished with status 'done'\nSuccessfully installed Send2Trash-1.8.0 anyio-3.6.2 argon2-cffi-21.3.0 argon2-cffi-bindings-21.2.0 attrs-22.2.0 backcall-0.2.0 beautifulsoup4-4.11.1 bleach-5.0.1 cffi-1.15.1 debugpy-1.6.4 decorator-5.1.1 defusedxml-0.7.1 entrypoints-0.4 fastjsonschema-2.16.2 future-0.18.2 idna-3.4 importlib-metadata-5.2.0 importlib-resources-5.10.1 ipykernel-6.16.2 ipython-7.34.0 ipython-genutils-0.2.0 jedi-0.18.2 jinja2-3.1.2 jsonschema-4.17.3 jupyter-client-7.4.8 jupyter-core-4.12.0 jupyter-server-1.23.4 jupyterlab-pygments-0.2.2 markupsafe-2.1.1 matplotlib-inline-0.1.6 mistune-2.0.4 nbclassic-0.4.8 nbclient-0.7.2 nbconvert-7.2.7 nbformat-5.7.1 nest-asyncio-1.5.6 notebook-6.5.2 notebook-shim-0.2.2 packaging-22.0 pandocfilters-1.5.0 parso-0.8.3 pexpect-4.8.0 pickleshare-0.7.5 pkgutil-resolve-name-1.3.10 prometheus-client-0.15.0 prompt-toolkit-3.0.36 psutil-5.9.4 ptyprocess-0.7.0 pycparser-2.21 pygments-2.13.0 pyrsistent-0.19.2 python-dateutil-2.8.2 pyzmq-24.0.1 six-1.16.0 sniffio-1.3.0 soupsieve-2.3.2.post1 terminado-0.17.1 tinycss2-1.2.1 tlaplus-jupyter-0.1.1 tornado-6.2 traitlets-5.8.0 typing-extensions-4.4.0 wcwidth-0.2.5 webencodings-0.5.1 websocket-client-1.4.2 zipp-3.11.0\n\u001b[91mWARNING: You are using pip version 20.1.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/bin/python3.7 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 976a37442cfa\n ---> d00929b7ee63\nStep 11/14 : RUN python3 -m tlaplus_jupyter.install\n ---> Running in ac2ce381c904\nInstalling Jupyter kernel spec\nDownloading tla2tools.jar to /usr/lib/python3.7/site-packages/tlaplus_jupyter/vendor/tla2tools.jar\nRemoving intermediate container ac2ce381c904\n ---> 1c655dc2ba27\nStep 12/14 : USER ${NB_USER}\n ---> Running in 049eb6d6766c\nRemoving intermediate container 049eb6d6766c\n ---> 1239b6e08dac\nStep 13/14 : WORKDIR /home/${NB_USER}\n ---> Running in 687ff4ce12b8\nRemoving intermediate container 687ff4ce12b8\n ---> c75d6c855eef\nStep 14/14 : CMD [\"jupyter\", \"notebook\", \"--ip\", \"0.0.0.0\"]\n ---> Running in f98a90f50292\nRemoving intermediate container f98a90f50292\n ---> b172984c3ca4\nSuccessfully built b172984c3ca4\nSuccessfully tagged tlaplus_jupyter:latest\n","stderr":"","imageSize":694591299},"repair":{"violations":[],"repairedDockerfile":"FROM openjdk:13-alpine3.10\n\nRUN apk add --update gcc libc-dev zeromq-dev python3-dev linux-headers libffi-dev\n\nARG NB_USER=leslie\nARG NB_UID=1000\nENV NB_USER ${NB_USER}\nENV NB_UID ${NB_UID}\nRUN addgroup ${NB_USER} && adduser -D -G ${NB_USER} -u ${NB_UID} ${NB_USER}\nCOPY ./examples /home/${NB_USER}\nRUN chown -R ${NB_USER} /home/${NB_USER}\n\nRUN pip3 install tlaplus_jupyter\nRUN python3 -m tlaplus_jupyter.install\n\nUSER ${NB_USER}\nWORKDIR /home/${NB_USER}\nCMD [\"jupyter\", \"notebook\", \"--ip\", \"0.0.0.0\"]\n"},"endTime":1672013630640}