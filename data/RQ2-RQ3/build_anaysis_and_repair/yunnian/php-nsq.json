{"repository":"https://github.com/yunnian/php-nsq","dockerfilePath":"Dockerfile","startTime":1673021701032,"endTime":1673021807245,"clone":{"startTime":1673021701032,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/yunnian/php-nsq'...\n","error":null,"endTime":1673021702778,"commit":"139e93eacdb42aaea7659e49bf7acde6338d3d41"},"originalBuild":{"startTime":1673021702859,"endTime":1673021807195,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t php-nsq:latest -f /tmp/dinghy-analysis/yunnian/php-nsq/Dockerfile ."},"stdout":"Sending build context to Docker daemon  255.5kB\r\r\nStep 1/13 : FROM php:alpine AS builder\nalpine: Pulling from library/php\nc158987b0551: Already exists\na2b6029f6920: Pulling fs layer\n55761811b31b: Pulling fs layer\n9750fd99fe83: Pulling fs layer\n8a26e12d2877: Pulling fs layer\nac17728cfa13: Pulling fs layer\na31524880183: Pulling fs layer\nfe98dfc59028: Pulling fs layer\n44153a4fd928: Pulling fs layer\n8a26e12d2877: Waiting\nac17728cfa13: Waiting\nfe98dfc59028: Waiting\n44153a4fd928: Waiting\na31524880183: Waiting\n55761811b31b: Verifying Checksum\n55761811b31b: Download complete\n9750fd99fe83: Verifying Checksum\n9750fd99fe83: Download complete\na2b6029f6920: Verifying Checksum\na2b6029f6920: Download complete\na2b6029f6920: Pull complete\nac17728cfa13: Download complete\n55761811b31b: Pull complete\n8a26e12d2877: Verifying Checksum\n8a26e12d2877: Download complete\n9750fd99fe83: Pull complete\na31524880183: Verifying Checksum\na31524880183: Download complete\nfe98dfc59028: Verifying Checksum\nfe98dfc59028: Download complete\n44153a4fd928: Verifying Checksum\n44153a4fd928: Download complete\n8a26e12d2877: Pull complete\nac17728cfa13: Pull complete\na31524880183: Pull complete\nfe98dfc59028: Pull complete\n44153a4fd928: Pull complete\nDigest: sha256:e7c88e58b9e9d6190f56b027eb77f02b2ea96a06b73db8ddae00dfbcf72d8fb8\nStatus: Downloaded newer image for php:alpine\n ---> 4b659d5d6934\nStep 2/13 : ENV PHP_NSQ_VERSION=3.1.0\n ---> Running in 068bc6d615d7\nRemoving intermediate container 068bc6d615d7\n ---> 805c824f1602\nStep 3/13 : RUN apk add libevent-dev autoconf alpine-sdk\n ---> Running in 350cd2694613\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/42) Installing fakeroot (1.29-r0)\n(2/42) Installing libattr (2.5.1-r2)\n(3/42) Installing attr (2.5.1-r2)\n(4/42) Installing pkgconf (1.9.3-r0)\n(5/42) Installing patch (2.7.6-r8)\n(6/42) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/42) Installing lzip (1.23-r0)\n(8/42) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(9/42) Installing binutils (2.39-r2)\n(10/42) Installing libmagic (5.43-r0)\n(11/42) Installing file (5.43-r0)\n(12/42) Installing libgomp (12.2.1_git20220924-r4)\n(13/42) Installing libatomic (12.2.1_git20220924-r4)\n(14/42) Installing gmp (6.2.1-r2)\n(15/42) Installing isl25 (0.25-r0)\n(16/42) Installing mpfr4 (4.1.0-r0)\n(17/42) Installing mpc1 (1.2.1-r1)\n(18/42) Installing gcc (12.2.1_git20220924-r4)\n(19/42) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(20/42) Installing musl-dev (1.2.3-r4)\n(21/42) Installing libc-dev (0.7.2-r3)\n(22/42) Installing g++ (12.2.1_git20220924-r4)\n(23/42) Installing make (4.3-r1)\n(24/42) Installing fortify-headers (1.1-r1)\n(25/42) Installing build-base (0.5-r3)\n(26/42) Installing libexpat (2.5.0-r0)\n(27/42) Installing pcre2 (10.42-r0)\n(28/42) Installing git (2.38.2-r0)\n(29/42) Installing alpine-sdk (1.0-r1)\n(30/42) Installing m4 (1.4.19-r1)\n(31/42) Installing libbz2 (1.0.8-r4)\n(32/42) Installing perl (5.36.0-r0)\n(33/42) Installing perl-error (0.17029-r1)\n(34/42) Installing perl-git (2.38.2-r0)\n(35/42) Installing git-perl (2.38.2-r0)\n(36/42) Installing autoconf (2.71-r1)\n(37/42) Installing libffi (3.4.4-r0)\n(38/42) Installing gdbm (1.23-r0)\n(39/42) Installing mpdecimal (2.5.1-r1)\n(40/42) Installing python3 (3.10.9-r1)\n(41/42) Installing libevent (2.1.12-r5)\n(42/42) Installing libevent-dev (2.1.12-r5)\nExecuting busybox-1.35.0-r29.trigger\nOK: 351 MiB in 77 packages\nRemoving intermediate container 350cd2694613\n ---> 49b9f2613a11\nStep 4/13 : RUN wget \"https://github.com/yunnian/php-nsq/archive/v${PHP_NSQ_VERSION}.tar.gz\"\n ---> Running in 793ade9cd565\n\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to codeload.github.com (140.82.121.10:443)\n\u001b[0m\u001b[91msaving to 'v3.1.0.tar.gz'\n\u001b[0m\u001b[91mv3.1.0.tar.gz        100% |********************************| 19688  0:00:00 ETA\n'v3.1.0.tar.gz' saved\n\u001b[0mRemoving intermediate container 793ade9cd565\n ---> 92736941c638\nStep 5/13 : RUN tar xvzf \"v${PHP_NSQ_VERSION}.tar.gz\"\n ---> Running in 2a12fbc9259d\nphp-nsq-3.1.0/\nphp-nsq-3.1.0/.gitignore\nphp-nsq-3.1.0/CMakeLists.txt\nphp-nsq-3.1.0/CREDITS\nphp-nsq-3.1.0/EXPERIMENTAL\nphp-nsq-3.1.0/LICENSE\nphp-nsq-3.1.0/README.md\nphp-nsq-3.1.0/command.c\nphp-nsq-3.1.0/command.h\nphp-nsq-3.1.0/common.c\nphp-nsq-3.1.0/common.h\nphp-nsq-3.1.0/config.m4\nphp-nsq-3.1.0/config.w32\nphp-nsq-3.1.0/examples/\nphp-nsq-3.1.0/examples/deferredPub.php\nphp-nsq-3.1.0/examples/identify_pub.php\nphp-nsq-3.1.0/examples/identify_sub.php\nphp-nsq-3.1.0/examples/pub.php\nphp-nsq-3.1.0/examples/sub.php\nphp-nsq-3.1.0/message.c\nphp-nsq-3.1.0/nsq.c\nphp-nsq-3.1.0/nsq.php\nphp-nsq-3.1.0/nsq_lookupd.c\nphp-nsq-3.1.0/nsq_lookupd.h\nphp-nsq-3.1.0/package.xml\nphp-nsq-3.1.0/php_nsq.h\nphp-nsq-3.1.0/pub.c\nphp-nsq-3.1.0/pub.h\nphp-nsq-3.1.0/sub.c\nphp-nsq-3.1.0/sub.h\nphp-nsq-3.1.0/tests/\nphp-nsq-3.1.0/tests/001.phpt\nRemoving intermediate container 2a12fbc9259d\n ---> 0fe43c76df62\nStep 6/13 : WORKDIR \"/php-nsq-${PHP_NSQ_VERSION}\"\n ---> Running in a01c0a6c6409\nRemoving intermediate container a01c0a6c6409\n ---> 30345b3f3b62\nStep 7/13 : RUN phpize\n ---> Running in e7078809f94a\nConfiguring for:\nPHP Api Version:         20220829\nZend Module Api No:      20220829\nZend Extension Api No:   420220829\n\u001b[91mconfigure.ac:161: warning: The macro `AC_LANG_C' is obsolete.\nconfigure.ac:161: You should run autoupdate.\n./lib/autoconf/c.m4:72: AC_LANG_C is expanded from...\nbuild/libtool.m4:2739: _LT_AC_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:2738: AC_LIBTOOL_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: The macro `AC_LANG_C' is obsolete.\nconfigure.ac:161: You should run autoupdate.\n./lib/autoconf/c.m4:72: AC_LANG_C is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\n./lib/autoconf/general.m4:2249: AC_CACHE_VAL is expanded from...\n./lib/autoconf/general.m4:2270: AC_CACHE_CHECK is expanded from...\nbuild/libtool.m4:561: _LT_AC_LOCK is expanded from...\nbuild/libtool.m4:1185: AC_LIBTOOL_SYS_HARD_LINK_LOCKS is expanded from...\nbuild/libtool.m4:2739: _LT_AC_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:2738: AC_LIBTOOL_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: The macro `AC_TRY_LINK' is obsolete.\nconfigure.ac:161: You should run autoupdate.\n./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...\nlib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...\nlib/m4sugar/m4sh.m4:699: AS_IF is expanded from...\n./lib/autoconf/general.m4:2249: AC_CACHE_VAL is expanded from...\n./lib/autoconf/general.m4:2270: AC_CACHE_CHECK is expanded from...\nbuild/libtool.m4:561: _LT_AC_LOCK is expanded from...\nbuild/libtool.m4:1185: AC_LIBTOOL_SYS_HARD_LINK_LOCKS is expanded from...\nbuild/libtool.m4:2739: _LT_AC_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:2738: AC_LIBTOOL_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me:${as_lineno-$LINENO}: WARNING: \\`$CC' does not support \\`-c -o', so \\`make -j' may be unsafe\nbuild/libtool.m4:1185: AC_LIBTOOL_SYS_HARD_LINK_LOCKS is expanded from...\nbuild/libtool.m4:2739: _LT_AC_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:2738: AC_LIBTOOL_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me: WARNING: \\`$CC' does not support \\`-c -o', so \\`make -j' may be unsafe\nbuild/libtool.m4:1185: AC_LIBTOOL_SYS_HARD_LINK_LOCKS is expanded from...\nbuild/libtool.m4:2739: _LT_AC_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:2738: AC_LIBTOOL_LANG_C_CONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me:${as_lineno-$LINENO}: WARNING: output file \\`$ofile' does not exist\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me: WARNING: output file \\`$ofile' does not exist\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me:${as_lineno-$LINENO}: WARNING: output file \\`$ofile' does not look like a libtool script\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me: WARNING: output file \\`$ofile' does not look like a libtool script\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me:${as_lineno-$LINENO}: WARNING: using \\`LTCC=$LTCC', extracted from \\`$ofile'\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me: WARNING: using \\`LTCC=$LTCC', extracted from \\`$ofile'\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: tag name \\\"$tagname\\\" already exists\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: The macro `AC_LANG_CPLUSPLUS' is obsolete.\nconfigure.ac:161: You should run autoupdate.\n./lib/autoconf/c.m4:262: AC_LANG_CPLUSPLUS is expanded from...\nbuild/libtool.m4:2821: _LT_AC_LANG_CXX_CONFIG is expanded from...\nbuild/libtool.m4:2820: AC_LIBTOOL_LANG_CXX_CONFIG is expanded from...\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me:${as_lineno-$LINENO}: WARNING: \\`$CC' does not support \\`-c -o', so \\`make -j' may be unsafe\nbuild/libtool.m4:1185: AC_LIBTOOL_SYS_HARD_LINK_LOCKS is expanded from...\nbuild/libtool.m4:2821: _LT_AC_LANG_CXX_CONFIG is expanded from...\nbuild/libtool.m4:2820: AC_LIBTOOL_LANG_CXX_CONFIG is expanded from...\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0m\u001b[91mconfigure.ac:161: warning: back quotes and double quotes must not be escaped in: $as_me: WARNING: \\`$CC' does not support \\`-c -o', so \\`make -j' may be unsafe\nbuild/libtool.m4:1185: AC_LIBTOOL_SYS_HARD_LINK_LOCKS is expanded from...\nbuild/libtool.m4:2821: _LT_AC_LANG_CXX_CONFIG is expanded from...\nbuild/libtool.m4:2820: AC_LIBTOOL_LANG_CXX_CONFIG is expanded from...\nbuild/libtool.m4:1929: _LT_AC_TAGCONFIG is expanded from...\nbuild/libtool.m4:70: AC_LIBTOOL_SETUP is expanded from...\nbuild/libtool.m4:52: _AC_PROG_LIBTOOL is expanded from...\nbuild/libtool.m4:39: AC_PROG_LIBTOOL is expanded from...\nconfigure.ac:161: the top level\n\u001b[0mRemoving intermediate container e7078809f94a\n ---> ff1fe2516f89\nStep 8/13 : RUN ./configure\n ---> Running in b20dc0a2ab02\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for a sed that does not truncate output... /bin/sed\nchecking for pkg-config... /usr/bin/pkg-config\nchecking pkg-config is at least version 0.9.0... yes\nchecking for cc... cc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether the compiler supports GNU C... yes\nchecking whether cc accepts -g... yes\nchecking for cc option to enable C11 features... none needed\nchecking how to run the C preprocessor... cc -E\nchecking for icc... no\nchecking for suncc... no\nchecking for system library directory... lib\nchecking if compiler supports -Wl,-rpath,... yes\nchecking build system type... x86_64-pc-linux-musl\nchecking host system type... x86_64-pc-linux-musl\nchecking target system type... x86_64-pc-linux-musl\nchecking for PHP prefix... /usr/local\nchecking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib\nchecking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20220829\nchecking for PHP installed headers prefix... /usr/local/include/php\nchecking if debug is enabled... no\nchecking if zts is enabled... no\nchecking for gawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking if awk is broken... no\nchecking for nsq support... yes, shared\nchecking for libevent support... no\nchecking for libevent headers in default path... found in /usr\nlibevent-path:/usr\nchecking for event_base_new in -levent... yes\nchecking for stdio.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for strings.h... yes\nchecking for sys/stat.h... yes\nchecking for sys/types.h... yes\nchecking for unistd.h... yes\nchecking for sys/wait.h... yes\nchecking for a sed that does not truncate output... /bin/sed\nchecking for ld used by cc... /usr/x86_64-alpine-linux-musl/bin/ld\nchecking if the linker (/usr/x86_64-alpine-linux-musl/bin/ld) is GNU ld... yes\nchecking for /usr/x86_64-alpine-linux-musl/bin/ld option to reload object files... -r\nchecking for BSD-compatible nm... /usr/bin/nm -B\nchecking whether ln -s works... yes\nchecking how to recognize dependent libraries... pass_all\nchecking for dlfcn.h... yes\nchecking the maximum length of command line arguments... 98304\nchecking command to parse /usr/bin/nm -B output from cc object... ok\nchecking for objdir... .libs\nchecking for ar... ar\nchecking for ranlib... ranlib\nchecking for strip... strip\nchecking if cc supports -fno-rtti -fno-exceptions... no\nchecking for cc option to produce PIC... -fPIC\nchecking if cc PIC flag -fPIC works... yes\nchecking if cc static flag -static works... yes\nchecking if cc supports -c -o file.o... yes\nchecking whether the cc linker (/usr/x86_64-alpine-linux-musl/bin/ld -m elf_x86_64) supports shared libraries... yes\nchecking whether -lc should be explicitly linked in... no\nchecking dynamic linker characteristics... GNU/Linux ld.so\nchecking how to hardcode library paths into programs... immediate\nchecking whether stripping libraries is possible... yes\nchecking if libtool supports shared libraries... yes\nchecking whether to build shared libraries... yes\nchecking whether to build static libraries... no\n\ncreating libtool\nappending configuration tag \"CXX\" to libtool\nconfigure: patching config.h.in\nconfigure: creating ./config.status\nconfig.status: creating config.h\nRemoving intermediate container b20dc0a2ab02\n ---> 06ae5be77b67\nStep 9/13 : RUN make\n ---> Running in 5d0a36c5507a\n/bin/sh /php-nsq-3.1.0/libtool --mode=compile cc -I. -I/php-nsq-3.1.0 -I/php-nsq-3.1.0/include -I/php-nsq-3.1.0/main -I/php-nsq-3.1.0 -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2 -D_GNU_SOURCE    -DZEND_COMPILE_DL_EXT=1 -c /php-nsq-3.1.0/nsq.c -o nsq.lo  -MMD -MF nsq.dep -MT nsq.lo\nmkdir .libs\n cc -I. -I/php-nsq-3.1.0 -I/php-nsq-3.1.0/include -I/php-nsq-3.1.0/main -I/php-nsq-3.1.0 -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -D_GNU_SOURCE -DZEND_COMPILE_DL_EXT=1 -c /php-nsq-3.1.0/nsq.c -MMD -MF nsq.dep -MT nsq.lo  -fPIC -DPIC -o .libs/nsq.o\n\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq___construct':\n/php-nsq-3.1.0/nsq.c:84:85: error: expected ')' before 'TSRMLS_CC'\n   84 |         zend_update_property(Z_OBJCE_P(self),self,ZEND_STRL(\"nsqConfig\"), nsq_config TSRMLS_CC);\n      |                             ~                                                       ^~~~~~~~~~\n      |                                                                                     )\n/php-nsq-3.1.0/nsq.c:84:46: warning: passing argument 2 of 'zend_update_property' from incompatible pointer type [-Wincompatible-pointer-types]\n   84 |         zend_update_property(Z_OBJCE_P(self),self,ZEND_STRL(\"nsqConfig\"), nsq_config TSRMLS_CC);\n      |                                              ^~~~\n      |                                              |\n      |                                              zval * {aka struct _zval_struct *}\n\u001b[0m\u001b[91mIn file included from /usr/local/include/php/main/php.h:35,\n                 from /php-nsq-3.1.0/nsq.c:25:\n/usr/local/include/php/Zend/zend_API.h:478:74: note: expected 'zend_object *' {aka 'struct _zend_object *'} but argument is of type 'zval *' {aka 'struct _zval_struct *'}\n  478 | ZEND_API void zend_update_property(zend_class_entry *scope, zend_object *object, const char *name, size_t name_length, zval *value);\n      |                                                             ~~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_closeNsqdConnection':\n\u001b[0m\u001b[91m/usr/local/include/php/Zend/zend_API.h:507:121: warning: passing argument 2 of 'zend_read_property' from incompatible pointer type [-Wincompatible-pointer-types]\n  507 | #define getThis()                                                       ((Z_TYPE_P(ZEND_THIS) == IS_OBJECT) ? ZEND_THIS : NULL)\n      |                                                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~\n      |                                                                                                                         |\n      |                                                                                                                         zval * {aka struct _zval_struct *}\n/php-nsq-3.1.0/nsq.c:157:63: note: in expansion of macro 'getThis'\n  157 |     connection_fds = zend_read_property(Z_OBJCE_P(getThis()), getThis(), \"nsqd_connection_fds\", sizeof(\"nsqd_connection_fds\") - 1,\n      |                                                               ^~~~~~~\n\u001b[0m\u001b[91m/usr/local/include/php/Zend/zend_API.h:498:73: note: expected 'zend_object *' {aka 'struct _zend_object *'} but argument is of type 'zval *' {aka 'struct _zval_struct *'}\n  498 | ZEND_API zval *zend_read_property(zend_class_entry *scope, zend_object *object, const char *name, size_t name_length, bool silent, zval *rv);\n      |                                                            ~~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_publish':\n\u001b[0m\u001b[91m/usr/local/include/php/Zend/zend_API.h:507:121: warning: passing argument 2 of 'zend_read_property' from incompatible pointer type [-Wincompatible-pointer-types]\n  507 | #define getThis()                                                       ((Z_TYPE_P(ZEND_THIS) == IS_OBJECT) ? ZEND_THIS : NULL)\n      |                                                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~\n      |                                                                                                                         |\n      |                                                                                                                         zval * {aka struct _zval_struct *}\n/php-nsq-3.1.0/nsq.c:194:52: note: in expansion of macro 'getThis'\n  194 |     val = zend_read_property(Z_OBJCE_P(getThis()), getThis(), \"nsqd_connection_fds\", sizeof(\"nsqd_connection_fds\") - 1,\n      |                                                    ^~~~~~~\n/usr/local/include/php/Zend/zend_API.h:498:73: note: expected 'zend_object *' {aka 'struct _zend_object *'} but argument is of type 'zval *' {aka 'struct _zval_struct *'}\n  498 | ZEND_API zval *zend_read_property(zend_class_entry *scope, zend_object *object, const char *name, size_t name_length, bool silent, zval *rv);\n      |                                                            ~~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:210:5: error: expected ';' before '}' token\n  210 |     } else {\n      |     ^\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:210:7: error: expected '}' before 'else'\n  210 |     } else {\n      |       ^~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:213:5: error: expected ';' before '}' token\n  213 |     }\n      |     ^\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_deferredPublish':\n\u001b[0m\u001b[91m/usr/local/include/php/Zend/zend_API.h:507:121: warning: passing argument 2 of 'zend_read_property' from incompatible pointer type [-Wincompatible-pointer-types]\n  507 | #define getThis()                                                       ((Z_TYPE_P(ZEND_THIS) == IS_OBJECT) ? ZEND_THIS : NULL)\n      |                                                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~\n      |                                                                                                                         |\n      |                                                                                                                         zval * {aka struct _zval_struct *}\n/php-nsq-3.1.0/nsq.c:230:52: note: in expansion of macro 'getThis'\n  230 |     val = zend_read_property(Z_OBJCE_P(getThis()), getThis(), \"nsqd_connection_fds\", sizeof(\"nsqd_connection_fds\") - 1,\n      |                                                    ^~~~~~~\n/usr/local/include/php/Zend/zend_API.h:498:73: note: expected 'zend_object *' {aka 'struct _zend_object *'} but argument is of type 'zval *' {aka 'struct _zval_struct *'}\n  498 | ZEND_API zval *zend_read_property(zend_class_entry *scope, zend_object *object, const char *name, size_t name_length, bool silent, zval *rv);\n      |                                                            ~~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:238:5: error: expected ';' before '}' token\n  238 |     } else {\n      |     ^\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:238:7: error: expected '}' before 'else'\n  238 |     } else {\n      |       ^~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:241:5: error: expected ';' before '}' token\n  241 |     }\n      |     ^\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_subscribe':\n/php-nsq-3.1.0/nsq.c:260:65: warning: passing argument 2 of 'zend_read_property' from incompatible pointer type [-Wincompatible-pointer-types]\n  260 |     lookupd_addr = zend_read_property(Z_OBJCE_P(class_lookupd), class_lookupd, \"address\", sizeof(\"address\") - 1, 1,\n      |                                                                 ^~~~~~~~~~~~~\n      |                                                                 |\n      |                                                                 zval * {aka struct _zval_struct *}\n\u001b[0m\u001b[91m/usr/local/include/php/Zend/zend_API.h:498:73: note: expected 'zend_object *' {aka 'struct _zend_object *'} but argument is of type 'zval *' {aka 'struct _zval_struct *'}\n  498 | ZEND_API zval *zend_read_property(zend_class_entry *scope, zend_object *object, const char *name, size_t name_length, bool silent, zval *rv);\n      |                                                            ~~~~~~~~~~~~~^~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_deferredPublish':\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:399:55: error: expected ';', ',' or ')' before 'TSRMLS_DC'\n  399 | static void _php_bufferevent_dtor(zend_resource *rsrc TSRMLS_DC) /* {{{ */ {\n      |                                                       ^~~~~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zm_startup_nsq':\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:482:47: error: expected ')' before 'TSRMLS_CC'\n  482 |     nsq_ce = zend_register_internal_class(&nsq TSRMLS_CC);\n      |                                          ~    ^~~~~~~~~~\n      |                                               )\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:483:78: error: expected ')' before 'TSRMLS_CC'\n  483 |     zend_declare_property_null(nsq_ce,ZEND_STRL(\"nsqConfig\"),ZEND_ACC_PUBLIC TSRMLS_CC);\n      |                               ~                                              ^~~~~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:484:90: error: expected ')' before 'TSRMLS_CC'\n  484 |     zend_declare_property_null(nsq_ce, ZEND_STRL(\"nsqd_connection_fds\"), ZEND_ACC_PUBLIC TSRMLS_CC);\n      |                               ~                                                          ^~~~~~~~~\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:485:56: error: '_php_bufferevent_dtor' undeclared (first use in this function)\n  485 |     le_bufferevent = zend_register_list_destructors_ex(_php_bufferevent_dtor, NULL, \"buffer event\", module_number);\n      |                                                        ^~~~~~~~~~~~~~~~~~~~~\n/php-nsq-3.1.0/nsq.c:485:56: note: each undeclared identifier is reported only once for each function it appears in\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_deferredPublish':\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:569:1: warning: 'visibility' attribute ignored [-Wattributes]\n  569 | ZEND_GET_MODULE(nsq)\n      | ^~~~~~~~~~~~~~~\n/php-nsq-3.1.0/nsq.c:569:1: error: expected declaration or statement at end of input\n/php-nsq-3.1.0/nsq.c: In function 'zim_Nsq_publish':\n\u001b[0m\u001b[91m/php-nsq-3.1.0/nsq.c:569:1: error: expected declaration or statement at end of input\n\u001b[0m\u001b[91mmake: *** [Makefile:210: nsq.lo] Error 1\n\u001b[0mRemoving intermediate container 5d0a36c5507a\n","stderr":"The command '/bin/sh -c make' returned a non-zero code: 2\n"}}