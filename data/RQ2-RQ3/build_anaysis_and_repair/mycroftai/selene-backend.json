{"repository":"https://github.com/mycroftai/selene-backend","dockerfilePath":"Dockerfile","startTime":1672521345280,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mycroftai/selene-backend'...\n","error":null,"commit":"e10ac91cde6bf6097ae7eafe3fcb6c1b1d292f70"},"originalBuild":{"startTimestamp":1672521346426,"endTimestamp":1672521704806,"error":{"code":128,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t selene-backend:latest -f /tmp/dinghy-analysis/mycroftai/selene-backend/Dockerfile ."},"stdout":"Sending build context to Docker daemon  2.849MB\r\r\nStep 1/87 : FROM python:3.9 as base-build\n3.9: Pulling from library/python\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n0f67f32c26d3: Already exists\n4571fc720a51: Pulling fs layer\nf938eb1c6191: Pulling fs layer\n61498f7c3a63: Pulling fs layer\nf938eb1c6191: Verifying Checksum\nf938eb1c6191: Download complete\n61498f7c3a63: Verifying Checksum\n61498f7c3a63: Download complete\n4571fc720a51: Verifying Checksum\n4571fc720a51: Download complete\n4571fc720a51: Pull complete\nf938eb1c6191: Pull complete\n61498f7c3a63: Pull complete\nDigest: sha256:b8ddeb68904299c09a39aff59d4a713862253b137fdd7ace3a3b7ba0391971b1\nStatus: Downloaded newer image for python:3.9\n ---> 68cf04410baf\nStep 2/87 : RUN apt-get update && apt-get -y install gcc git libsndfile-dev\n ---> Running in 38c39e720e01\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (3621 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngcc is already the newest version (4:10.2.1-1).\ngit is already the newest version (1:2.30.2-1).\nThe following additional packages will be installed:\n  libflac-dev libflac8 libogg-dev libogg0 libopus-dev libopus0 libsndfile1\n  libvorbis-dev libvorbis0a libvorbisenc2 libvorbisfile3\nSuggested packages:\n  opus-tools\nThe following NEW packages will be installed:\n  libflac-dev libflac8 libogg-dev libogg0 libopus-dev libopus0 libsndfile1\n  libsndfile1-dev libvorbis-dev libvorbis0a libvorbisenc2 libvorbisfile3\n0 upgraded, 12 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 2174 kB of archives.\nAfter this operation, 9121 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libogg0 amd64 1.3.4-0.1 [27.3 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libflac8 amd64 1.3.3-2+deb11u1 [112 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libogg-dev amd64 1.3.4-0.1 [204 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libflac-dev amd64 1.3.3-2+deb11u1 [161 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libopus0 amd64 1.3.1-0.1 [190 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libopus-dev amd64 1.3.1-0.1 [238 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libvorbis0a amd64 1.3.7-1 [93.0 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libvorbisenc2 amd64 1.3.7-1 [80.6 kB]\nGet:9 http://deb.debian.org/debian bullseye/main amd64 libsndfile1 amd64 1.0.31-2 [188 kB]\nGet:10 http://deb.debian.org/debian bullseye/main amd64 libvorbisfile3 amd64 1.3.7-1 [26.1 kB]\nGet:11 http://deb.debian.org/debian bullseye/main amd64 libvorbis-dev amd64 1.3.7-1 [327 kB]\nGet:12 http://deb.debian.org/debian bullseye/main amd64 libsndfile1-dev amd64 1.0.31-2 [527 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2174 kB in 0s (51.6 MB/s)\nSelecting previously unselected package libogg0:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../00-libogg0_1.3.4-0.1_amd64.deb ...\r\nUnpacking libogg0:amd64 (1.3.4-0.1) ...\r\nSelecting previously unselected package libflac8:amd64.\r\nPreparing to unpack .../01-libflac8_1.3.3-2+deb11u1_amd64.deb ...\r\nUnpacking libflac8:amd64 (1.3.3-2+deb11u1) ...\r\nSelecting previously unselected package libogg-dev:amd64.\r\nPreparing to unpack .../02-libogg-dev_1.3.4-0.1_amd64.deb ...\r\nUnpacking libogg-dev:amd64 (1.3.4-0.1) ...\r\nSelecting previously unselected package libflac-dev:amd64.\r\nPreparing to unpack .../03-libflac-dev_1.3.3-2+deb11u1_amd64.deb ...\r\nUnpacking libflac-dev:amd64 (1.3.3-2+deb11u1) ...\r\nSelecting previously unselected package libopus0:amd64.\r\nPreparing to unpack .../04-libopus0_1.3.1-0.1_amd64.deb ...\r\nUnpacking libopus0:amd64 (1.3.1-0.1) ...\r\nSelecting previously unselected package libopus-dev:amd64.\r\nPreparing to unpack .../05-libopus-dev_1.3.1-0.1_amd64.deb ...\r\nUnpacking libopus-dev:amd64 (1.3.1-0.1) ...\r\nSelecting previously unselected package libvorbis0a:amd64.\r\nPreparing to unpack .../06-libvorbis0a_1.3.7-1_amd64.deb ...\r\nUnpacking libvorbis0a:amd64 (1.3.7-1) ...\r\nSelecting previously unselected package libvorbisenc2:amd64.\r\nPreparing to unpack .../07-libvorbisenc2_1.3.7-1_amd64.deb ...\r\nUnpacking libvorbisenc2:amd64 (1.3.7-1) ...\r\nSelecting previously unselected package libsndfile1:amd64.\r\nPreparing to unpack .../08-libsndfile1_1.0.31-2_amd64.deb ...\r\nUnpacking libsndfile1:amd64 (1.0.31-2) ...\r\nSelecting previously unselected package libvorbisfile3:amd64.\r\nPreparing to unpack .../09-libvorbisfile3_1.3.7-1_amd64.deb ...\r\nUnpacking libvorbisfile3:amd64 (1.3.7-1) ...\r\nSelecting previously unselected package libvorbis-dev:amd64.\r\nPreparing to unpack .../10-libvorbis-dev_1.3.7-1_amd64.deb ...\r\nUnpacking libvorbis-dev:amd64 (1.3.7-1) ...\r\nSelecting previously unselected package libsndfile1-dev:amd64.\r\nPreparing to unpack .../11-libsndfile1-dev_1.0.31-2_amd64.deb ...\r\nUnpacking libsndfile1-dev:amd64 (1.0.31-2) ...\r\nSetting up libogg0:amd64 (1.3.4-0.1) ...\r\nSetting up libogg-dev:amd64 (1.3.4-0.1) ...\r\nSetting up libflac8:amd64 (1.3.3-2+deb11u1) ...\r\nSetting up libopus0:amd64 (1.3.1-0.1) ...\r\nSetting up libvorbis0a:amd64 (1.3.7-1) ...\r\nSetting up libvorbisenc2:amd64 (1.3.7-1) ...\r\nSetting up libflac-dev:amd64 (1.3.3-2+deb11u1) ...\r\nSetting up libopus-dev:amd64 (1.3.1-0.1) ...\r\nSetting up libvorbisfile3:amd64 (1.3.7-1) ...\r\nSetting up libsndfile1:amd64 (1.0.31-2) ...\r\nSetting up libvorbis-dev:amd64 (1.3.7-1) ...\r\nSetting up libsndfile1-dev:amd64 (1.0.31-2) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 38c39e720e01\n ---> b44b7931f2f4\nStep 3/87 : RUN curl -sSL https://install.python-poetry.org | python3 -\n ---> Running in 90cac91dd755\nRetrieving Poetry metadata\n\n# Welcome to Poetry!\n\nThis will download and install the latest version of Poetry,\na dependency and package manager for Python.\n\nIt will add the `poetry` command to Poetry's bin directory, located at:\n\n/root/.local/bin\n\nYou can uninstall at any time by executing this script with the --uninstall option,\nand these changes will be reverted.\n\nInstalling Poetry (1.3.1)\nInstalling Poetry (1.3.1): Creating environment\nInstalling Poetry (1.3.1): Installing Poetry\nInstalling Poetry (1.3.1): Creating script\nInstalling Poetry (1.3.1): Done\n\nPoetry (1.3.1) is installed now. Great!\n\nTo get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`\nenvironment variable.\n\nAdd `export PATH=\"/root/.local/bin:$PATH\"` to your shell configuration file.\n\nAlternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.\n\nYou can test that everything is set up by executing:\n\n`poetry --version`\n\nRemoving intermediate container 90cac91dd755\n ---> ca10436d8dae\nStep 4/87 : ENV PATH ${PATH}:/root/.local/bin\n ---> Running in a1ab476672fd\nRemoving intermediate container a1ab476672fd\n ---> e7bd7fce0441\nStep 5/87 : RUN poetry --version\n ---> Running in 6356b4d77d30\nPoetry (version 1.3.1)\nRemoving intermediate container 6356b4d77d30\n ---> 0914a39c0714\nStep 6/87 : RUN mkdir -p /root/allure /opt/selene/selene-backend /root/code-quality /var/log/mycroft\n ---> Running in 982ba4ef13ef\nRemoving intermediate container 982ba4ef13ef\n ---> 09fdeb07431c\nStep 7/87 : WORKDIR /opt/selene/selene-backend\n ---> Running in 1d9f4a1712bb\nRemoving intermediate container 1d9f4a1712bb\n ---> 8de54e45ec6f\nStep 8/87 : ENV DB_HOST selene-db\n ---> Running in c9306e1fab68\nRemoving intermediate container c9306e1fab68\n ---> d5c1caf4f981\nStep 9/87 : ENV DB_NAME mycroft\n ---> Running in 88bfbfa5a61c\nRemoving intermediate container 88bfbfa5a61c\n ---> dba9c3383d0a\nStep 10/87 : ENV DB_PASSWORD adam\n ---> Running in 858a4b0b5a53\nRemoving intermediate container 858a4b0b5a53\n ---> f212dc3969b9\nStep 11/87 : ENV DB_USER selene\n ---> Running in dba5173fc83e\nRemoving intermediate container dba5173fc83e\n ---> 094f644db70f\nStep 12/87 : ENV JWT_ACCESS_SECRET access-secret\n ---> Running in d90593c55246\nRemoving intermediate container d90593c55246\n ---> abf034d6957a\nStep 13/87 : ENV JWT_REFRESH_SECRET refresh-secret\n ---> Running in e21fb62e71e3\nRemoving intermediate container e21fb62e71e3\n ---> 9fa3dd37696f\nStep 14/87 : ENV REDIS_HOST selene-cache\n ---> Running in 31a1a5776f63\nRemoving intermediate container 31a1a5776f63\n ---> c06b53a97581\nStep 15/87 : ENV REDIS_PORT 6379\n ---> Running in e085ab8314f1\nRemoving intermediate container e085ab8314f1\n ---> c486a7e511fa\nStep 16/87 : ENV SALT testsalt\n ---> Running in a2087e3f7bb3\nRemoving intermediate container a2087e3f7bb3\n ---> 0d1ab0ea65fe\nStep 17/87 : ENV SELENE_ENVIRONMENT dev\n ---> Running in 1225bc19a806\nRemoving intermediate container 1225bc19a806\n ---> a428d14d4b12\nStep 18/87 : FROM base-build as selene-base\n ---> a428d14d4b12\nStep 19/87 : COPY shared shared\n ---> 83bad0af4470\nStep 20/87 : FROM selene-base as devops-build\n ---> 83bad0af4470\nStep 21/87 : ARG github_api_key\n ---> Running in e15a37d373a5\nRemoving intermediate container e15a37d373a5\n ---> 8f57520c4a37\nStep 22/87 : ENV GITHUB_API_KEY=$github_api_key\n ---> Running in b3f62f26f08e\nRemoving intermediate container b3f62f26f08e\n ---> f4b324be5842\nStep 23/87 : RUN mkdir -p /opt/mycroft\n ---> Running in df7ba0700788\nRemoving intermediate container df7ba0700788\n ---> bf969c94928f\nStep 24/87 : WORKDIR /opt/mycroft\n ---> Running in d9c177def855\nRemoving intermediate container d9c177def855\n ---> 97b80e01377d\nStep 25/87 : RUN git clone https://${github_api_key}@github.com/MycroftAI/devops.git\n ---> Running in f9cc71d6a38e\n\u001b[91mCloning into 'devops'...\n\u001b[0m\u001b[91mfatal: could not read Username for 'https://github.com': No such device or address\n\u001b[0mRemoving intermediate container f9cc71d6a38e\n","stderr":"The command '/bin/sh -c git clone https://${github_api_key}@github.com/MycroftAI/devops.git' returned a non-zero code: 128\n"},"endTime":1672521704912}