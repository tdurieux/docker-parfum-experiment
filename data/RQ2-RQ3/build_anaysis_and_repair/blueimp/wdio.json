{"repository":"https://github.com/blueimp/wdio","dockerfilePath":"Dockerfile","startTime":1672495110708,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/blueimp/wdio'...\n","error":null,"commit":"77b7c9518bc377334ac497e83ce0e7265c682ca9"},"originalBuild":{"startTimestamp":1672495111583,"endTimestamp":1672495247458,"error":null,"stdout":"Sending build context to Docker daemon  356.9kB\r\r\nStep 1/12 : FROM alpine:3.14\n3.14: Pulling from library/alpine\nc7ed990a2339: Already exists\nDigest: sha256:4c869a63e1b7c0722fed1e402a6466610327c3b83bdddb94bd94fb71da7f638a\nStatus: Downloaded newer image for alpine:3.14\n ---> dd53f409bf0b\nStep 2/12 : RUN apk --no-cache add   tini   nodejs   npm   ffmpeg   android-tools   && npm install -g   npm@latest   && rm -rf   /tmp/*   /root/.npm\n ---> Running in be97305874fb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/75) Installing brotli-libs (1.0.9-r5)\n(2/75) Installing libgcc (10.3.1_git20210424-r2)\n(3/75) Installing lz4-libs (1.9.3-r1)\n(4/75) Installing libstdc++ (10.3.1_git20210424-r2)\n(5/75) Installing libprotobuf (3.15.7-r1)\n(6/75) Installing libusb (1.0.24-r2)\n(7/75) Installing zstd-libs (1.4.9-r1)\n(8/75) Installing android-tools (31.0.0p1-r2)\n(9/75) Installing sdl2 (2.0.14-r1)\n(10/75) Installing libxau (1.0.9-r0)\n(11/75) Installing libmd (1.0.3-r0)\n(12/75) Installing libbsd (0.11.3-r0)\n(13/75) Installing libxdmcp (1.1.3-r0)\n(14/75) Installing libxcb (1.14-r2)\n(15/75) Installing libx11 (1.7.3.1-r0)\n(16/75) Installing aom-libs (1.0.0-r3)\n(17/75) Installing alsa-lib (1.2.5-r2)\n(18/75) Installing expat (2.5.0-r0)\n(19/75) Installing libbz2 (1.0.8-r1)\n(20/75) Installing libpng (1.6.37-r1)\n(21/75) Installing freetype (2.10.4-r3)\n(22/75) Installing libuuid (2.37.4-r0)\n(23/75) Installing fontconfig (2.13.1-r4)\n(24/75) Installing fribidi (1.0.10-r0)\n(25/75) Installing libffi (3.3-r2)\n(26/75) Installing libintl (0.21-r0)\n(27/75) Installing libblkid (2.37.4-r0)\n(28/75) Installing libmount (2.37.4-r0)\n(29/75) Installing pcre (8.44-r0)\n(30/75) Installing glib (2.68.3-r0)\n(31/75) Installing graphite2 (1.3.14-r0)\n(32/75) Installing harfbuzz (2.8.1-r0)\n(33/75) Installing libass (0.15.1-r0)\n(34/75) Installing libdav1d (0.9.0-r0)\n(35/75) Installing gmp (6.2.1-r1)\n(36/75) Installing nettle (3.7.3-r0)\n(37/75) Installing p11-kit (0.23.22-r0)\n(38/75) Installing libtasn1 (4.17.0-r1)\n(39/75) Installing libunistring (0.9.10-r1)\n(40/75) Installing gnutls (3.7.1-r1)\n(41/75) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(42/75) Installing ncurses-libs (6.2_p20210612-r1)\n(43/75) Installing lame (3.100-r0)\n(44/75) Installing opus (1.3.1-r1)\n(45/75) Installing libgomp (10.3.1_git20210424-r2)\n(46/75) Installing soxr (0.1.3-r2)\n(47/75) Installing libsrt (1.4.2-r0)\n(48/75) Installing libssh (0.9.6-r0)\n(49/75) Installing libogg (1.3.5-r0)\n(50/75) Installing libtheora (1.1.1-r16)\n(51/75) Installing libjpeg-turbo (2.1.0-r0)\n(52/75) Installing v4l-utils-libs (1.20.0-r0)\n(53/75) Installing libxext (1.3.4-r0)\n(54/75) Installing libxfixes (6.0.0-r0)\n(55/75) Installing libpciaccess (0.16-r0)\n(56/75) Installing libdrm (2.4.106-r0)\n(57/75) Installing wayland-libs-client (1.19.0-r0)\n(58/75) Installing libva (2.11.0-r0)\n(59/75) Installing libvdpau (1.4-r0)\n(60/75) Installing vidstab (1.1.0-r1)\n(61/75) Installing libvorbis (1.3.7-r0)\n(62/75) Installing libvpx (1.10.0-r0)\n(63/75) Installing vulkan-loader (1.2.170-r1)\n(64/75) Installing libwebp (1.2.0-r2)\n(65/75) Installing x264-libs (20210211-r0)\n(66/75) Installing x265-libs (3.4-r0)\n(67/75) Installing xvidcore (1.3.7-r1)\n(68/75) Installing ffmpeg-libs (4.4.1-r0)\n(69/75) Installing ffmpeg (4.4.1-r0)\n(70/75) Installing ca-certificates (20220614-r0)\n(71/75) Installing nghttp2-libs (1.43.0-r0)\n(72/75) Installing c-ares (1.17.2-r0)\n(73/75) Installing nodejs (14.20.1-r0)\n(74/75) Installing npm (7.17.0-r0)\n(75/75) Installing tini (0.19.0-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 130 MiB in 89 packages\n\nadded 1 package, and audited 232 packages in 2s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container be97305874fb\n ---> 09589e32c495\nStep 3/12 : WORKDIR /usr/lib/wdio\n ---> Running in 690eba30478b\nRemoving intermediate container 690eba30478b\n ---> 9add9d16574a\nStep 4/12 : COPY package.json package-lock.json ./\n ---> 5837182eaa18\nStep 5/12 : RUN npm install --production   && rm -rf   /tmp/*   /root/.npm\n ---> Running in f026810ac472\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config\u001b[0m\u001b[91m production Use `--omit=dev` instead.\n\u001b[0m\nadded 394 packages, and audited 395 packages in 16s\n\n50 packages are looking for funding\n  run `npm fund` for details\n\n15 vulnerabilities (2 moderate, 11 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container f026810ac472\n ---> 74dc8d413baf\nStep 6/12 : ENV NODE_PATH=/usr/lib/wdio/node_modules\n ---> Running in 1da247e345e8\nRemoving intermediate container 1da247e345e8\n ---> b5351098f42f\nStep 7/12 : ENV PATH=$PATH:/usr/lib/wdio/node_modules/.bin\n ---> Running in 36fdcdf39d80\nRemoving intermediate container 36fdcdf39d80\n ---> 18cd7b0975d4\nStep 8/12 : COPY bin/wait-for-hosts.sh /usr/local/bin/wait-for-hosts\n ---> 3ca92ebdd335\nStep 9/12 : WORKDIR /app\n ---> Running in 76f8bd6ce585\nRemoving intermediate container 76f8bd6ce585\n ---> 935d4ef7fd02\nStep 10/12 : RUN adduser -D -u 1000 wdio\n ---> Running in 125de108bb32\nRemoving intermediate container 125de108bb32\n ---> 9c3917d24cf0\nStep 11/12 : USER wdio\n ---> Running in 32294ee03748\nRemoving intermediate container 32294ee03748\n ---> c58ebddaa468\nStep 12/12 : ENTRYPOINT [\"tini\", \"-g\", \"--\", \"wait-for-hosts\", \"--\", \"wdio\"]\n ---> Running in e09c078809d7\nRemoving intermediate container e09c078809d7\n ---> 4a344a4efdf7\nSuccessfully built 4a344a4efdf7\nSuccessfully tagged wdio:latest\n","stderr":"","imageSize":179041284},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":9,"columnStart":5,"columnEnd":12}},{"name":"npmCacheCleanAfterInstall","position":{"start":17,"end":17,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM alpine:3.14\n\nRUN apk --no-cache add \\\n  tini \\\n  nodejs \\\n  npm \\\n  ffmpeg \\\n  android-tools \\\n  && npm install -g \\\n  npm@latest \\\n  # Clean up obsolete files:\n  && rm -rf \\\n  /tmp/* \\\n  /root/.npm\n\nWORKDIR /usr/lib/wdio\nCOPY package.json package-lock.json ./\nRUN npm install --production \\\n  # Clean up obsolete files:\n  && rm -rf \\\n  /tmp/* \\\n  /root/.npm\n# Set NODE_PATH to be able to require installed packages:\nENV NODE_PATH=/usr/lib/wdio/node_modules\n# Extend path to be able to run installed binaries:\nENV PATH=$PATH:/usr/lib/wdio/node_modules/.bin\n\nCOPY bin/wait-for-hosts.sh /usr/local/bin/wait-for-hosts\n\nWORKDIR /app\n\n# Avoid permission issues with host mounts by assigning a user/group with\n# uid/gid 1000 (usually the ID of the first user account on GNU/Linux):\nRUN adduser -D -u 1000 wdio\nUSER wdio\n\nENTRYPOINT [\"tini\", \"-g\", \"--\", \"wait-for-hosts\", \"--\", \"wdio\"]\n"},"repairedBuild":{"startTimestamp":1672495258228,"endTimestamp":1672495301513,"error":null,"stdout":"Sending build context to Docker daemon  356.9kB\r\r\nStep 1/12 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 2/12 : RUN apk --no-cache add   tini   nodejs   npm   ffmpeg   android-tools   && npm install -g   npm@latest   && rm -rf   /tmp/*   /root/.npm\n ---> Running in b10ed4f321d0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/75) Installing brotli-libs (1.0.9-r5)\n(2/75) Installing libgcc (10.3.1_git20210424-r2)\n(3/75) Installing lz4-libs (1.9.3-r1)\n(4/75) Installing libstdc++ (10.3.1_git20210424-r2)\n(5/75) Installing libprotobuf (3.15.7-r1)\n(6/75) Installing libusb (1.0.24-r2)\n(7/75) Installing zstd-libs (1.4.9-r1)\n(8/75) Installing android-tools (31.0.0p1-r2)\n(9/75) Installing sdl2 (2.0.14-r1)\n(10/75) Installing libxau (1.0.9-r0)\n(11/75) Installing libmd (1.0.3-r0)\n(12/75) Installing libbsd (0.11.3-r0)\n(13/75) Installing libxdmcp (1.1.3-r0)\n(14/75) Installing libxcb (1.14-r2)\n(15/75) Installing libx11 (1.7.3.1-r0)\n(16/75) Installing aom-libs (1.0.0-r3)\n(17/75) Installing alsa-lib (1.2.5-r2)\n(18/75) Installing expat (2.5.0-r0)\n(19/75) Installing libbz2 (1.0.8-r1)\n(20/75) Installing libpng (1.6.37-r1)\n(21/75) Installing freetype (2.10.4-r3)\n(22/75) Installing libuuid (2.37.4-r0)\n(23/75) Installing fontconfig (2.13.1-r4)\n(24/75) Installing fribidi (1.0.10-r0)\n(25/75) Installing libffi (3.3-r2)\n(26/75) Installing libintl (0.21-r0)\n(27/75) Installing libblkid (2.37.4-r0)\n(28/75) Installing libmount (2.37.4-r0)\n(29/75) Installing pcre (8.44-r0)\n(30/75) Installing glib (2.68.3-r0)\n(31/75) Installing graphite2 (1.3.14-r0)\n(32/75) Installing harfbuzz (2.8.1-r0)\n(33/75) Installing libass (0.15.1-r0)\n(34/75) Installing libdav1d (0.9.0-r0)\n(35/75) Installing gmp (6.2.1-r1)\n(36/75) Installing nettle (3.7.3-r0)\n(37/75) Installing p11-kit (0.23.22-r0)\n(38/75) Installing libtasn1 (4.17.0-r1)\n(39/75) Installing libunistring (0.9.10-r1)\n(40/75) Installing gnutls (3.7.1-r1)\n(41/75) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(42/75) Installing ncurses-libs (6.2_p20210612-r1)\n(43/75) Installing lame (3.100-r0)\n(44/75) Installing opus (1.3.1-r1)\n(45/75) Installing libgomp (10.3.1_git20210424-r2)\n(46/75) Installing soxr (0.1.3-r2)\n(47/75) Installing libsrt (1.4.2-r0)\n(48/75) Installing libssh (0.9.6-r0)\n(49/75) Installing libogg (1.3.5-r0)\n(50/75) Installing libtheora (1.1.1-r16)\n(51/75) Installing libjpeg-turbo (2.1.0-r0)\n(52/75) Installing v4l-utils-libs (1.20.0-r0)\n(53/75) Installing libxext (1.3.4-r0)\n(54/75) Installing libxfixes (6.0.0-r0)\n(55/75) Installing libpciaccess (0.16-r0)\n(56/75) Installing libdrm (2.4.106-r0)\n(57/75) Installing wayland-libs-client (1.19.0-r0)\n(58/75) Installing libva (2.11.0-r0)\n(59/75) Installing libvdpau (1.4-r0)\n(60/75) Installing vidstab (1.1.0-r1)\n(61/75) Installing libvorbis (1.3.7-r0)\n(62/75) Installing libvpx (1.10.0-r0)\n(63/75) Installing vulkan-loader (1.2.170-r1)\n(64/75) Installing libwebp (1.2.0-r2)\n(65/75) Installing x264-libs (20210211-r0)\n(66/75) Installing x265-libs (3.4-r0)\n(67/75) Installing xvidcore (1.3.7-r1)\n(68/75) Installing ffmpeg-libs (4.4.1-r0)\n(69/75) Installing ffmpeg (4.4.1-r0)\n(70/75) Installing ca-certificates (20220614-r0)\n(71/75) Installing nghttp2-libs (1.43.0-r0)\n(72/75) Installing c-ares (1.17.2-r0)\n(73/75) Installing nodejs (14.20.1-r0)\n(74/75) Installing npm (7.17.0-r0)\n(75/75) Installing tini (0.19.0-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 130 MiB in 89 packages\n\nadded 1 package, and audited 232 packages in 3s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container b10ed4f321d0\n ---> 7b3e68a82faa\nStep 3/12 : WORKDIR /usr/lib/wdio\n ---> Running in ca23fab4d4f7\nRemoving intermediate container ca23fab4d4f7\n ---> 2548fa8c0e37\nStep 4/12 : COPY package.json package-lock.json ./\n ---> 232c9ae984f6\nStep 5/12 : RUN npm install --production   && rm -rf   /tmp/*   /root/.npm\n ---> Running in c1cf876b3fbc\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config\u001b[0m\u001b[91m production Use `--omit=dev` instead.\n\u001b[0m\nadded 394 packages, and audited 395 packages in 6s\n\n50 packages are looking for funding\n  run `npm fund` for details\n\n15 vulnerabilities (2 moderate, 11 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container c1cf876b3fbc\n ---> 72b3592ca130\nStep 6/12 : ENV NODE_PATH=/usr/lib/wdio/node_modules\n ---> Running in b5bcc6a53eb2\nRemoving intermediate container b5bcc6a53eb2\n ---> d16352272ded\nStep 7/12 : ENV PATH=$PATH:/usr/lib/wdio/node_modules/.bin\n ---> Running in 37acd1e72a1c\nRemoving intermediate container 37acd1e72a1c\n ---> 8df2d89dc4e0\nStep 8/12 : COPY bin/wait-for-hosts.sh /usr/local/bin/wait-for-hosts\n ---> 71a0b0fdca1c\nStep 9/12 : WORKDIR /app\n ---> Running in d4c0c156e17d\nRemoving intermediate container d4c0c156e17d\n ---> de9d3e1a0aa8\nStep 10/12 : RUN adduser -D -u 1000 wdio\n ---> Running in e85bd3f0399e\nRemoving intermediate container e85bd3f0399e\n ---> 76ae2a503be5\nStep 11/12 : USER wdio\n ---> Running in 2d4ab27945cf\nRemoving intermediate container 2d4ab27945cf\n ---> f0706d2c44bd\nStep 12/12 : ENTRYPOINT [\"tini\", \"-g\", \"--\", \"wait-for-hosts\", \"--\", \"wdio\"]\n ---> Running in df84e111c00b\nRemoving intermediate container df84e111c00b\n ---> 29610997c3e4\nSuccessfully built 29610997c3e4\nSuccessfully tagged wdio:latest\n","stderr":"","imageSize":179041284},"endTime":1672495302126}