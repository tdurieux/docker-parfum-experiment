{"repository":"https://github.com/mayudev/revcord","dockerfilePath":"Dockerfile","startTime":1672872934273,"endTime":1672873244823,"clone":{"startTime":1672872934274,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mayudev/revcord'...\n","error":null,"endTime":1672872935111,"commit":"d9e0ff0e3eaf4c1843b1d7e6741cb79f39c3f2e6"},"originalBuild":{"startTime":1672872935207,"endTime":1672873091332,"error":null,"stdout":"Sending build context to Docker daemon  770.6kB\r\r\nStep 1/12 : FROM node:17-alpine AS build\n ---> 57488723f087\nStep 2/12 : RUN apk add --no-cache python3 g++ make\n ---> Running in 285fa7378117\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing binutils (2.37-r3)\n(2/24) Installing libgomp (10.3.1_git20211027-r0)\n(3/24) Installing libatomic (10.3.1_git20211027-r0)\n(4/24) Installing libgphobos (10.3.1_git20211027-r0)\n(5/24) Installing gmp (6.2.1-r1)\n(6/24) Installing isl22 (0.22-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r0)\n(9/24) Installing gcc (10.3.1_git20211027-r0)\n(10/24) Installing musl-dev (1.2.2-r7)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (10.3.1_git20211027-r0)\n(13/24) Installing make (4.3-r0)\n(14/24) Installing libbz2 (1.0.8-r1)\n(15/24) Installing expat (2.5.0-r0)\n(16/24) Installing libffi (3.4.2-r1)\n(17/24) Installing gdbm (1.22-r0)\n(18/24) Installing xz-libs (5.2.5-r1)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(21/24) Installing ncurses-libs (6.3_p20211120-r1)\n(22/24) Installing readline (8.1.1-r0)\n(23/24) Installing sqlite-libs (3.36.0-r0)\n(24/24) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 238 MiB in 40 packages\nRemoving intermediate container 285fa7378117\n ---> d24a6024d823\nStep 3/12 : RUN ln -s /usr/bin/python3 /usr/bin/python\n ---> Running in f1e4f1951c3b\nRemoving intermediate container f1e4f1951c3b\n ---> bf4402237023\nStep 4/12 : WORKDIR /build/\n ---> Running in 438ec4cd890c\nRemoving intermediate container 438ec4cd890c\n ---> 0142f1474b1b\nStep 5/12 : COPY package* ./\n ---> 921b23afbcc5\nStep 6/12 : RUN npm install\n ---> Running in b845497185f3\n\u001b[91mnpm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated @discordjs/builders@0.11.0: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated discord.js@13.6.0: no longer supported\n\u001b[0m\nadded 178 packages, and audited 179 packages in 2m\n\n8 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container b845497185f3\n ---> 05f125c5f2fc\nStep 7/12 : COPY . .\n ---> ef7f84d63858\nStep 8/12 : RUN npm run build\n ---> Running in 98cd38b59c29\n\n> revcord@1.1.1 build\n> tsc\n\nRemoving intermediate container 98cd38b59c29\n ---> d65f29a9503b\nStep 9/12 : FROM node:17-alpine AS prod\n ---> 57488723f087\nStep 10/12 : WORKDIR /app\n ---> Running in 25a022cd2dbb\nRemoving intermediate container 25a022cd2dbb\n ---> 0a01fff9b211\nStep 11/12 : COPY --from=build /build .\n ---> 3a688f7499fe\nStep 12/12 : CMD [\"npm\", \"start\"]\n ---> Running in 202b2f5d72b1\nRemoving intermediate container 202b2f5d72b1\n ---> 9e8d8f24909b\nSuccessfully built 9e8d8f24909b\nSuccessfully tagged revcord:latest\n","stderr":"","imageSize":306926414},"repair":{"startTime":1672873091403,"endTime":1672873091461,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:17-alpine AS build\nRUN apk add --no-cache python3 g++ make\nRUN ln -s /usr/bin/python3 /usr/bin/python\nWORKDIR /build/\nCOPY package* ./\nRUN npm install && npm cache clean --force;\nCOPY . .\nRUN npm run build\n\nFROM node:17-alpine AS prod\nWORKDIR /app\nCOPY --from=build /build .\nCMD [\"npm\", \"start\"]"},"repairedBuild":{"startTime":1672873091758,"endTime":1672873244490,"error":null,"stdout":"Sending build context to Docker daemon  770.6kB\r\r\nStep 1/12 : FROM node:17-alpine AS build\n ---> 57488723f087\nStep 2/12 : RUN apk add --no-cache python3 g++ make\n ---> Running in 1b36df1f9732\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing binutils (2.37-r3)\n(2/24) Installing libgomp (10.3.1_git20211027-r0)\n(3/24) Installing libatomic (10.3.1_git20211027-r0)\n(4/24) Installing libgphobos (10.3.1_git20211027-r0)\n(5/24) Installing gmp (6.2.1-r1)\n(6/24) Installing isl22 (0.22-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r0)\n(9/24) Installing gcc (10.3.1_git20211027-r0)\n(10/24) Installing musl-dev (1.2.2-r7)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (10.3.1_git20211027-r0)\n(13/24) Installing make (4.3-r0)\n(14/24) Installing libbz2 (1.0.8-r1)\n(15/24) Installing expat (2.5.0-r0)\n(16/24) Installing libffi (3.4.2-r1)\n(17/24) Installing gdbm (1.22-r0)\n(18/24) Installing xz-libs (5.2.5-r1)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(21/24) Installing ncurses-libs (6.3_p20211120-r1)\n(22/24) Installing readline (8.1.1-r0)\n(23/24) Installing sqlite-libs (3.36.0-r0)\n(24/24) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 238 MiB in 40 packages\nRemoving intermediate container 1b36df1f9732\n ---> 0bbd286bf6ee\nStep 3/12 : RUN ln -s /usr/bin/python3 /usr/bin/python\n ---> Running in 5c4098cb4b76\nRemoving intermediate container 5c4098cb4b76\n ---> 10481e6c707a\nStep 4/12 : WORKDIR /build/\n ---> Running in f2189580ec5b\nRemoving intermediate container f2189580ec5b\n ---> 408512ab070e\nStep 5/12 : COPY package* ./\n ---> 5b4c037c36aa\nStep 6/12 : RUN npm install && npm cache clean --force;\n ---> Running in bacab39ec990\n\u001b[91mnpm WARN deprecated @discordjs/builders@0.11.0: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m discord.js@13.6.0: no longer supported\n\u001b[0m\nadded 178 packages, and audited 179 packages in 2m\n\n8 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container bacab39ec990\n ---> cafeb6471957\nStep 7/12 : COPY . .\n ---> d87d99adafbd\nStep 8/12 : RUN npm run build\n ---> Running in 4d4b9267dd43\n\n> revcord@1.1.1 build\n> tsc\n\nRemoving intermediate container 4d4b9267dd43\n ---> c0ac6514fa19\nStep 9/12 : FROM node:17-alpine AS prod\n ---> 57488723f087\nStep 10/12 : WORKDIR /app\n ---> Running in edb0eb18c9e1\nRemoving intermediate container edb0eb18c9e1\n ---> 9c8bbd4b88dc\nStep 11/12 : COPY --from=build /build .\n ---> 0974dc213eb3\nStep 12/12 : CMD [\"npm\", \"start\"]\n ---> Running in d57346d14f22\nRemoving intermediate container d57346d14f22\n ---> fa6011194d12\nSuccessfully built fa6011194d12\nSuccessfully tagged revcord:latest\n","stderr":"","imageSize":306926442}}