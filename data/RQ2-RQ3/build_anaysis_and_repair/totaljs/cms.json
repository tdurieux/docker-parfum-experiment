{"repository":"https://github.com/totaljs/cms","dockerfilePath":"Dockerfile","startTime":1673002690803,"endTime":1673003653526,"clone":{"startTime":1673002690803,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/totaljs/cms'...\n","error":null,"endTime":1673002691752,"commit":"8c2c8909bf23a9daece47bd4fd9537ad52c03b0e"},"originalBuild":{"startTime":1673002691853,"endTime":1673003501062,"error":null,"stdout":"Sending build context to Docker daemon  2.562MB\r\r\nStep 1/14 : FROM node:16\n16: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n8f331a0ab6eb: Pulling fs layer\n1b7fba8c2ddb: Pulling fs layer\n138e31cf9c76: Pulling fs layer\n138e31cf9c76: Download complete\n1b7fba8c2ddb: Verifying Checksum\n1b7fba8c2ddb: Download complete\n8f331a0ab6eb: Download complete\n8f331a0ab6eb: Pull complete\n1b7fba8c2ddb: Pull complete\n138e31cf9c76: Pull complete\nDigest: sha256:64e8bcdfdad6718050801a2639f7e6645fdaf85ec37a98cdb61f6a5331217618\nStatus: Downloaded newer image for node:16\n ---> c910109adbfd\nStep 2/14 : MAINTAINER totaljs \"info@totaljs.com\"\n ---> Running in 36572177c973\nRemoving intermediate container 36572177c973\n ---> 59787e333dc6\nStep 3/14 : RUN apt-get update\n ---> Running in 3274307f9738\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (3725 kB/s)\nReading package lists...\nRemoving intermediate container 3274307f9738\n ---> 944ee5b2ded1\nStep 4/14 : RUN apt-get install -y --no-install-recommends graphicsmagick && rm -rf /var/lib/apt/lists/*\n ---> Running in e6b538c3facf\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libgraphicsmagick-q16-3\nSuggested packages:\n  graphicsmagick-dbg\nRecommended packages:\n  ghostscript gsfonts\nThe following NEW packages will be installed:\n  graphicsmagick libgraphicsmagick-q16-3\n0 upgraded, 2 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 2143 kB of archives.\nAfter this operation, 8565 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 libgraphicsmagick-q16-3 amd64 1.4+really1.3.35-1~deb10u3 [1161 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates/main amd64 graphicsmagick amd64 1.4+really1.3.35-1~deb10u3 [982 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2143 kB in 0s (15.2 MB/s)\nSelecting previously unselected package libgraphicsmagick-q16-3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../libgraphicsmagick-q16-3_1.4+really1.3.35-1~deb10u3_amd64.deb ...\r\nUnpacking libgraphicsmagick-q16-3 (1.4+really1.3.35-1~deb10u3) ...\r\nSelecting previously unselected package graphicsmagick.\r\nPreparing to unpack .../graphicsmagick_1.4+really1.3.35-1~deb10u3_amd64.deb ...\r\nUnpacking graphicsmagick (1.4+really1.3.35-1~deb10u3) ...\r\nSetting up libgraphicsmagick-q16-3 (1.4+really1.3.35-1~deb10u3) ...\r\nSetting up graphicsmagick (1.4+really1.3.35-1~deb10u3) ...\r\nProcessing triggers for mime-support (3.62) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container e6b538c3facf\n ---> f9bbeb1e61fc\nStep 5/14 : VOLUME /www\n ---> Running in e051bf4304ec\nRemoving intermediate container e051bf4304ec\n ---> b5d9c8564ede\nStep 6/14 : WORKDIR /www\n ---> Running in d40a87a69d0f\nRemoving intermediate container d40a87a69d0f\n ---> 6cb9dfae281d\nStep 7/14 : RUN mkdir -p /www/bundles\n ---> Running in 61ea9f84c268\nRemoving intermediate container 61ea9f84c268\n ---> a6a0d470b3ce\nStep 8/14 : COPY index.js .\n ---> 0c8573ab64f3\nStep 9/14 : COPY config .\n ---> 3d488c26c4c5\nStep 10/14 : COPY package.json .\n ---> e1e79502df6d\nStep 11/14 : COPY cms.bundle ./bundles/\n ---> 4c3b051f7824\nStep 12/14 : RUN npm install\n ---> Running in 5576674a696b\n\nadded 1 package, and audited 2 packages in 5s\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 5576674a696b\n ---> 2053908b160c\nStep 13/14 : EXPOSE 8000\n ---> Running in 3a0a6cbdda9b\nRemoving intermediate container 3a0a6cbdda9b\n ---> 4265404a66e6\nStep 14/14 : CMD [ \"npm\", \"start\" ]\n ---> Running in 6c27233a83cd\nRemoving intermediate container 6c27233a83cd\n ---> de0b4d3134bc\nSuccessfully built de0b4d3134bc\nSuccessfully tagged cms:latest\n","stderr":"","imageSize":941924090},"repair":{"startTime":1673003501133,"endTime":1673003501210,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":15,"end":15,"columnStart":4,"columnEnd":15}},{"name":"aptGetUpdatePrecedesInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":61}}],"repairedDockerfile":"FROM node:16\nMAINTAINER totaljs \"info@totaljs.com\"\n\n\nRUN apt-get update && \\\napt-get install -y --no-install-recommends graphicsmagick && rm -rf /var/lib/apt/lists/*\n\nVOLUME /www\nWORKDIR /www\nRUN mkdir -p /www/bundles\n\nCOPY index.js .\nCOPY config .\nCOPY package.json .\nCOPY cms.bundle ./bundles/\n\nRUN npm install && npm cache clean --force;\nEXPOSE 8000\n\nCMD [ \"npm\", \"start\" ]"},"repairedBuild":{"startTime":1673003525207,"endTime":1673003653240,"error":null,"stdout":"Sending build context to Docker daemon  2.562MB\r\r\nStep 1/13 : FROM node:16\n ---> c910109adbfd\nStep 2/13 : MAINTAINER totaljs \"info@totaljs.com\"\n ---> Running in c2be907ea225\nRemoving intermediate container c2be907ea225\n ---> daefc953c0cc\nStep 3/13 : RUN apt-get update && apt-get install -y --no-install-recommends graphicsmagick && rm -rf /var/lib/apt/lists/*\n ---> Running in 85375441de51\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (3597 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libgraphicsmagick-q16-3\nSuggested packages:\n  graphicsmagick-dbg\nRecommended packages:\n  ghostscript gsfonts\nThe following NEW packages will be installed:\n  graphicsmagick libgraphicsmagick-q16-3\n0 upgraded, 2 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 2143 kB of archives.\nAfter this operation, 8565 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 libgraphicsmagick-q16-3 amd64 1.4+really1.3.35-1~deb10u3 [1161 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates/main amd64 graphicsmagick amd64 1.4+really1.3.35-1~deb10u3 [982 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 2143 kB in 0s (36.3 MB/s)\nSelecting previously unselected package libgraphicsmagick-q16-3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../libgraphicsmagick-q16-3_1.4+really1.3.35-1~deb10u3_amd64.deb ...\r\nUnpacking libgraphicsmagick-q16-3 (1.4+really1.3.35-1~deb10u3) ...\r\nSelecting previously unselected package graphicsmagick.\r\nPreparing to unpack .../graphicsmagick_1.4+really1.3.35-1~deb10u3_amd64.deb ...\r\nUnpacking graphicsmagick (1.4+really1.3.35-1~deb10u3) ...\r\nSetting up libgraphicsmagick-q16-3 (1.4+really1.3.35-1~deb10u3) ...\r\nSetting up graphicsmagick (1.4+really1.3.35-1~deb10u3) ...\r\nProcessing triggers for mime-support (3.62) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container 85375441de51\n ---> a06d16e38985\nStep 4/13 : VOLUME /www\n ---> Running in 54cf8c9aa250\nRemoving intermediate container 54cf8c9aa250\n ---> 0dc213c32a32\nStep 5/13 : WORKDIR /www\n ---> Running in e49805f88e12\nRemoving intermediate container e49805f88e12\n ---> c1673d59bc27\nStep 6/13 : RUN mkdir -p /www/bundles\n ---> Running in 9d3ce87550c5\nRemoving intermediate container 9d3ce87550c5\n ---> 00628ab50e59\nStep 7/13 : COPY index.js .\n ---> 012ebb46fdce\nStep 8/13 : COPY config .\n ---> b45fc3816fa0\nStep 9/13 : COPY package.json .\n ---> 610d468eca33\nStep 10/13 : COPY cms.bundle ./bundles/\n ---> 8a250ffeed15\nStep 11/13 : RUN npm install && npm cache clean --force;\n ---> Running in af87d437c36c\n\nadded 1 package, and audited 2 packages in 423ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container af87d437c36c\n ---> 9e782c407115\nStep 12/13 : EXPOSE 8000\n ---> Running in 8e06b68e2a16\nRemoving intermediate container 8e06b68e2a16\n ---> a16e6a93afa7\nStep 13/13 : CMD [ \"npm\", \"start\" ]\n ---> Running in 82a21fe86930\nRemoving intermediate container 82a21fe86930\n ---> a685906122e4\nSuccessfully built a685906122e4\nSuccessfully tagged cms:latest\n","stderr":"","imageSize":921368283}}