{"repository":"https://github.com/gokins-main/gokins","dockerfilePath":"Dockerfile","startTime":1672950058195,"endTime":1672950319681,"clone":{"startTime":1672950058195,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gokins-main/gokins'...\n","error":null,"endTime":1672950059930,"commit":"478e67912c18e2c6105c238e6d5baa9eeda4dee6"},"originalBuild":{"startTime":1672950060036,"endTime":1672950126211,"error":null,"stdout":"Sending build context to Docker daemon  6.978MB\r\r\nStep 1/10 : FROM golang:1.16.15-alpine3.15 AS builder\n1.16.15-alpine3.15: Pulling from library/golang\nDigest: sha256:5616dca835fa90ef13a843824ba58394dad356b7d56198fb7c93cbe76d7d67fe\nStatus: Downloaded newer image for golang:1.16.15-alpine3.15\n ---> 7642119cd161\nStep 2/10 : RUN apk add git build-base && git clone https://github.com/gokins/gokins.git /build\n ---> Running in 1751c78e4abe\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libgcc (10.3.1_git20211027-r0)\n(2/26) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/26) Installing binutils (2.37-r3)\n(4/26) Installing libmagic (5.41-r0)\n(5/26) Installing file (5.41-r0)\n(6/26) Installing libgomp (10.3.1_git20211027-r0)\n(7/26) Installing libatomic (10.3.1_git20211027-r0)\n(8/26) Installing libgphobos (10.3.1_git20211027-r0)\n(9/26) Installing gmp (6.2.1-r1)\n(10/26) Installing isl22 (0.22-r0)\n(11/26) Installing mpfr4 (4.1.0-r0)\n(12/26) Installing mpc1 (1.2.1-r0)\n(13/26) Installing gcc (10.3.1_git20211027-r0)\n(14/26) Installing musl-dev (1.2.2-r7)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (10.3.1_git20211027-r0)\n(17/26) Installing make (4.3-r0)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r7)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r5)\n(22/26) Installing nghttp2-libs (1.46.0-r0)\n(23/26) Installing libcurl (7.80.0-r5)\n(24/26) Installing expat (2.5.0-r0)\n(25/26) Installing pcre2 (10.40-r0)\n(26/26) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r3.trigger\nOK: 210 MiB in 41 packages\n\u001b[91mCloning into '/build'...\n\u001b[0mRemoving intermediate container 1751c78e4abe\n ---> d31c282d2b33\nStep 3/10 : WORKDIR /build\n ---> Running in 0b0bc9e268ce\nRemoving intermediate container 0b0bc9e268ce\n ---> 4d567036ad0c\nStep 4/10 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/gokins main.go\n ---> Running in 26bcaf5fa587\n\u001b[91mgo: downloading github.com/mgr9525/HyperByte-Transfer-Protocol v1.1.6-0.20221010061341-5cadd93a6fab\ngo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/gokins/core v0.0.0-20220802013657-abe943553934\n\u001b[0m\u001b[91mgo: downloading xorm.io/xorm v1.1.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\ngo: downloading github.com/boltdb/bolt v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.5.0\ngo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading xorm.io/builder v0.3.8\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/go-git/v5 v5.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang-migrate/migrate/v4 v4.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/gokins/runner v0.0.0-20221111090316-616dbb5448bc\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/units v0.0.0-20210208195552-ff826a37aa15\ngo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211216021012-1d35b9e2eb4e\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/sftp v1.13.5\ngo: downloading golang.org/x/crypto v0.0.0-20211215153901-e495a2d5b3d3\n\u001b[0m\u001b[91mgo: downloading github.com/mgr9525/logrus-file-hook v0.0.0-20210315103109-42681d084c3b\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/kr/fs v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-sqlite3 v1.14.6\n\u001b[0m\u001b[91mgo: downloading github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99\n\u001b[0m\u001b[91mgo: downloading github.com/ProtonMail/go-crypto v0.0.0-20210428141323-04723f9f07d7\n\u001b[0m\u001b[91mgo: downloading github.com/emirpasic/gods v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/sergi/go-diff v1.1.0\ngo: downloading github.com/go-git/go-billy/v5 v5.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.12\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211112202133-69e39bad7dc2\n\u001b[0m\u001b[91mgo: downloading github.com/xanzy/ssh-agent v0.3.0\ngo: downloading github.com/kevinburke/ssh_config v0.0.0-20201106050909-4977a11b4351\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/gcfg v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\ngo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.3\ngo: downloading gopkg.in/yaml.v2 v2.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.1.7\n\u001b[0m\u001b[91mgo: downloading gopkg.in/warnings.v0 v0.1.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.17.0\ngo: downloading github.com/leodido/go-urn v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.13.0\n\u001b[0mRemoving intermediate container 26bcaf5fa587\n ---> 0479cb495beb\nStep 5/10 : FROM alpine:latest AS final\n ---> 49176f190c7e\nStep 6/10 : ENV GOKINS_WORKPATH=/data/gokins\n ---> Running in 467fe302e304\nRemoving intermediate container 467fe302e304\n ---> 90f167bb7094\nStep 7/10 : RUN apk --no-cache add openssl ca-certificates curl git wget     && rm -rf /var/cache/apk     && mkdir -p /app /data/gokins\n ---> Running in 67edd4898759\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ca-certificates (20220614-r3)\n(2/12) Installing brotli-libs (1.0.9-r9)\n(3/12) Installing nghttp2-libs (1.51.0-r0)\n(4/12) Installing libcurl (7.87.0-r0)\n(5/12) Installing curl (7.87.0-r0)\n(6/12) Installing libexpat (2.5.0-r0)\n(7/12) Installing pcre2 (10.42-r0)\n(8/12) Installing git (2.38.2-r0)\n(9/12) Installing openssl (3.0.7-r2)\n(10/12) Installing libunistring (1.1-r0)\n(11/12) Installing libidn2 (2.3.4-r0)\n(12/12) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 19 MiB in 27 packages\nRemoving intermediate container 67edd4898759\n ---> 6c4a0e670d26\nStep 8/10 : COPY --from=builder /build/bin/gokins /app\n ---> 7aec54a05716\nStep 9/10 : WORKDIR /app\n ---> Running in 3aeeda2fdfc9\nRemoving intermediate container 3aeeda2fdfc9\n ---> 57e9f81889c7\nStep 10/10 : ENTRYPOINT [\"/app/gokins\"]\n ---> Running in 01c29ded7cb9\nRemoving intermediate container 01c29ded7cb9\n ---> bee92848337d\nSuccessfully built bee92848337d\nSuccessfully tagged gokins:latest\n","stderr":"","imageSize":49099286},"repair":{"startTime":1672950126259,"endTime":1672950126309,"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM golang:1.16.15-alpine3.15 AS builder\n# ENV GOPROXY=https://goproxy.cn,direct\n# RUN apk add git build-base && git clone https://gitee.com/gokins/gokins.git /build\nRUN apk add --no-cache git build-base && git clone https://github.com/gokins/gokins.git /build\nWORKDIR /build\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/gokins main.go\n\n\nFROM alpine:latest AS final\n\nENV GOKINS_WORKPATH=/data/gokins\n\nRUN apk --no-cache add openssl ca-certificates curl git wget \\\n    && rm -rf /var/cache/apk \\\n    && mkdir -p /app /data/gokins\n\nCOPY --from=builder /build/bin/gokins /app\nWORKDIR /app\nENTRYPOINT [\"/app/gokins\"]\n"},"repairedBuild":{"startTime":1672950126478,"endTime":1672950317384,"error":null,"stdout":"Sending build context to Docker daemon  6.978MB\r\r\nStep 1/10 : FROM golang:1.16.15-alpine3.15 AS builder\n ---> 7642119cd161\nStep 2/10 : RUN apk add --no-cache git build-base && git clone https://github.com/gokins/gokins.git /build\n ---> Running in d0a7b5eb2366\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libgcc (10.3.1_git20211027-r0)\n(2/26) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/26) Installing binutils (2.37-r3)\n(4/26) Installing libmagic (5.41-r0)\n(5/26) Installing file (5.41-r0)\n(6/26) Installing libgomp (10.3.1_git20211027-r0)\n(7/26) Installing libatomic (10.3.1_git20211027-r0)\n(8/26) Installing libgphobos (10.3.1_git20211027-r0)\n(9/26) Installing gmp (6.2.1-r1)\n(10/26) Installing isl22 (0.22-r0)\n(11/26) Installing mpfr4 (4.1.0-r0)\n(12/26) Installing mpc1 (1.2.1-r0)\n(13/26) Installing gcc (10.3.1_git20211027-r0)\n(14/26) Installing musl-dev (1.2.2-r7)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (10.3.1_git20211027-r0)\n(17/26) Installing make (4.3-r0)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r7)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r5)\n(22/26) Installing nghttp2-libs (1.46.0-r0)\n(23/26) Installing libcurl (7.80.0-r5)\n(24/26) Installing expat (2.5.0-r0)\n(25/26) Installing pcre2 (10.40-r0)\n(26/26) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r3.trigger\nOK: 210 MiB in 41 packages\n\u001b[91mCloning into '/build'...\n\u001b[0mRemoving intermediate container d0a7b5eb2366\n ---> dfd3d9229098\nStep 3/10 : WORKDIR /build\n ---> Running in 152574d848d4\nRemoving intermediate container 152574d848d4\n ---> b890c6c63d0e\nStep 4/10 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/gokins main.go\n ---> Running in ab5033f52f86\n\u001b[91mgo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/mgr9525/HyperByte-Transfer-Protocol v1.1.6-0.20221010061341-5cadd93a6fab\ngo: downloading github.com/gokins/core v0.0.0-20220802013657-abe943553934\n\u001b[0m\u001b[91mgo: downloading xorm.io/xorm v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.2\ngo: downloading xorm.io/builder v0.3.8\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/boltdb/bolt v1.3.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\ngo: downloading github.com/golang-migrate/migrate/v4 v4.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/go-git/v5 v5.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/gokins/runner v0.0.0-20221111090316-616dbb5448bc\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/mgr9525/logrus-file-hook v0.0.0-20210315103109-42681d084c3b\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/units v0.0.0-20210208195552-ff826a37aa15\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/sftp v1.13.5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20211215153901-e495a2d5b3d3\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211216021012-1d35b9e2eb4e\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.3\ngo: downloading github.com/ugorji/go v1.1.7\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-sqlite3 v1.14.6\ngo: downloading github.com/lib/pq v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/kr/fs v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/leodido/go-urn v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.17.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.25.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/go-billy/v5 v5.3.1\ngo: downloading github.com/ProtonMail/go-crypto v0.0.0-20210428141323-04723f9f07d7\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.12\ngo: downloading github.com/sergi/go-diff v1.1.0\ngo: downloading github.com/emirpasic/gods v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/kevinburke/ssh_config v0.0.0-20201106050909-4977a11b4351\ngo: downloading github.com/xanzy/ssh-agent v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20211112202133-69e39bad7dc2\n\u001b[0m\u001b[91mgo: downloading github.com/go-git/gcfg v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.13.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/warnings.v0 v0.1.2\n\u001b[0mRemoving intermediate container ab5033f52f86\n ---> e3270bb2acfd\nStep 5/10 : FROM alpine:latest AS final\n ---> 49176f190c7e\nStep 6/10 : ENV GOKINS_WORKPATH=/data/gokins\n ---> Running in 15a987f5f141\nRemoving intermediate container 15a987f5f141\n ---> 1099e20b8d4c\nStep 7/10 : RUN apk --no-cache add openssl ca-certificates curl git wget     && rm -rf /var/cache/apk     && mkdir -p /app /data/gokins\n ---> Running in 3fce5f0decc2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ca-certificates (20220614-r3)\n(2/12) Installing brotli-libs (1.0.9-r9)\n(3/12) Installing nghttp2-libs (1.51.0-r0)\n(4/12) Installing libcurl (7.87.0-r0)\n(5/12) Installing curl (7.87.0-r0)\n(6/12) Installing libexpat (2.5.0-r0)\n(7/12) Installing pcre2 (10.42-r0)\n(8/12) Installing git (2.38.2-r0)\n(9/12) Installing openssl (3.0.7-r2)\n(10/12) Installing libunistring (1.1-r0)\n(11/12) Installing libidn2 (2.3.4-r0)\n(12/12) Installing wget (1.21.3-r2)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 19 MiB in 27 packages\nRemoving intermediate container 3fce5f0decc2\n ---> d541a210287a\nStep 8/10 : COPY --from=builder /build/bin/gokins /app\n ---> c6a7cbbe7658\nStep 9/10 : WORKDIR /app\n ---> Running in 80ade8f43a5d\nRemoving intermediate container 80ade8f43a5d\n ---> 88f9553cbc64\nStep 10/10 : ENTRYPOINT [\"/app/gokins\"]\n ---> Running in bb8d6990f6ba\nRemoving intermediate container bb8d6990f6ba\n ---> 475e5e38816b\nSuccessfully built 475e5e38816b\nSuccessfully tagged gokins:latest\n","stderr":"","imageSize":49099286}}