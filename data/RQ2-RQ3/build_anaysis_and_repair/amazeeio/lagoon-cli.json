{"repository":"https://github.com/amazeeio/lagoon-cli","dockerfilePath":"Dockerfile","startTime":1672619786342,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/amazeeio/lagoon-cli'...\n","error":null,"commit":"b6829b1c951f24899e9b832b5d9bc0d7058bc64e"},"originalBuild":{"startTimestamp":1672619787301,"endTimestamp":1672619816901,"error":null,"stdout":"Sending build context to Docker daemon  1.513MB\r\r\nStep 1/11 : FROM golang:1.16-alpine3.14 as build\n1.16-alpine3.14: Pulling from library/golang\n97518928ae5f: Pulling fs layer\nb78c28b3bbf7: Pulling fs layer\n248309d37e25: Pulling fs layer\nb4bd862365f0: Pulling fs layer\n20099020d2ed: Pulling fs layer\nb4bd862365f0: Waiting\n20099020d2ed: Waiting\n97518928ae5f: Verifying Checksum\n97518928ae5f: Download complete\n248309d37e25: Verifying Checksum\n248309d37e25: Download complete\nb78c28b3bbf7: Verifying Checksum\nb78c28b3bbf7: Download complete\n97518928ae5f: Pull complete\nb78c28b3bbf7: Pull complete\n20099020d2ed: Download complete\n248309d37e25: Pull complete\nb4bd862365f0: Verifying Checksum\nb4bd862365f0: Download complete\nb4bd862365f0: Pull complete\n20099020d2ed: Pull complete\nDigest: sha256:7d3ff18f693e2d4d7f2377f03efaba8b8d8884837debc8db475f07500749276e\nStatus: Downloaded newer image for golang:1.16-alpine3.14\n ---> 6a77340bf52b\nStep 2/11 : WORKDIR /go/src/github.com/uselagoon/lagoon-cli/\n ---> Running in 5ae0779b22cf\nRemoving intermediate container 5ae0779b22cf\n ---> 54c24157e0bd\nStep 3/11 : COPY . .\n ---> f48fe436e255\nStep 4/11 : ARG VERSION\n ---> Running in 4e5a1f7fdd54\nRemoving intermediate container 4e5a1f7fdd54\n ---> e7d7212ffdb0\nStep 5/11 : RUN apk update && apk add git\n ---> Running in 3d75dcd18336\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14967 distinct packages available\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.43.0-r0)\n(3/6) Installing libcurl (7.79.1-r4)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r6.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container 3d75dcd18336\n ---> c01166f7e330\nStep 6/11 : RUN VERSION=${VERSION:-\"$(echo $(git describe --abbrev=0 --tags)+$(git rev-parse --short=8 HEAD))\"} \t&& BUILD=$(date +%FT%T%z)   && CGO_ENABLED=0 GOOS=linux go build \t-ldflags \"-w -s -X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIVersion=$VERSION \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuild=$BUILD \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuildGoVersion=go$GOLANG_VERSION\" -o lagoon .\n ---> Running in 6353d573f564\n\u001b[91mgo: downloading github.com/pkg/browser v0.0.0-20180916011732-0a3d74bf9ce4\n\u001b[0m\u001b[91mgo: downloading github.com/manifoldco/promptui v0.3.2\ngo: downloading github.com/guregu/null v4.0.0+incompatible\ngo: downloading gopkg.in/yaml.v2 v2.2.8\ngo: downloading github.com/spf13/pflag v1.0.3\ngo: downloading github.com/spf13/cobra v0.0.5\ngo: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\ngo: downloading github.com/Masterminds/semver v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/logrusorgru/aurora v0.0.0-20191017060258-dc85c304c434\ngo: downloading github.com/google/go-github v0.0.0-20180716180158-c0b63e2f9bb1\n\u001b[0m\u001b[91mgo: downloading github.com/shreddedbacon/tablewriter v0.0.2-0.20200114082015-d810c4a558bf\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.1.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/machinebox/graphql v0.2.3-0.20181106130121-3a9253180225\ngo: downloading github.com/hashicorp/go-version v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/integralist/go-findroot v0.0.0-20160518114804-ac90681525dc\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man v1.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e\n\u001b[0m\u001b[91mgo: downloading github.com/juju/ansiterm v0.0.0-20180109212912-720a0952cc2a\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/lunixbochs/vtclean v0.0.0-20180621232353-2d01aacdc34a\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220412211240-33da011f77ad\n\u001b[0mRemoving intermediate container 6353d573f564\n ---> 9b9a79573e5c\nStep 7/11 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 8/11 : WORKDIR /root/\n ---> Running in da13d72bc073\nRemoving intermediate container da13d72bc073\n ---> 3f26a08a25b5\nStep 9/11 : COPY --from=build /go/src/github.com/uselagoon/lagoon-cli/lagoon /lagoon\n ---> e41754a9360f\nStep 10/11 : RUN touch ~/.lagoon.yml\n ---> Running in 88cdbed169b8\nRemoving intermediate container 88cdbed169b8\n ---> 60d204309c8d\nStep 11/11 : ENTRYPOINT [\"/lagoon\"]\n ---> Running in b42d67285cef\nRemoving intermediate container b42d67285cef\n ---> f60d975c29e5\nSuccessfully built f60d975c29e5\nSuccessfully tagged lagoon-cli:latest\n","stderr":"","imageSize":14842048},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":18,"columnEnd":29}}],"repairedDockerfile":"FROM golang:1.16-alpine3.14 as build\n\nWORKDIR /go/src/github.com/uselagoon/lagoon-cli/\nCOPY . .\n\nARG VERSION\n\nRUN apk update && apk add --no-cache git\n\nRUN VERSION=${VERSION:-\"$(echo $(git describe --abbrev=0 --tags)+$(git rev-parse --short=8 HEAD))\"} \\\n\t&& BUILD=$(date +%FT%T%z) \\\n  && CGO_ENABLED=0 GOOS=linux go build \\\n\t-ldflags \"-w -s -X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIVersion=$VERSION \\\n\t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuild=$BUILD \\\n\t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuildGoVersion=go$GOLANG_VERSION\" -o lagoon .\n\nFROM alpine:3.14\n\nWORKDIR /root/\nCOPY --from=build /go/src/github.com/uselagoon/lagoon-cli/lagoon /lagoon\n\nRUN touch ~/.lagoon.yml\n\nENTRYPOINT [\"/lagoon\"]\n"},"repairedBuild":{"startTimestamp":1672619817313,"endTimestamp":1672619835007,"error":null,"stdout":"Sending build context to Docker daemon  1.513MB\r\r\nStep 1/11 : FROM golang:1.16-alpine3.14 as build\n ---> 6a77340bf52b\nStep 2/11 : WORKDIR /go/src/github.com/uselagoon/lagoon-cli/\n ---> Running in f8e76763fe8c\nRemoving intermediate container f8e76763fe8c\n ---> 9714868f97c8\nStep 3/11 : COPY . .\n ---> f04cbeced7c3\nStep 4/11 : ARG VERSION\n ---> Running in 5a1c3557796f\nRemoving intermediate container 5a1c3557796f\n ---> 42a7e5112c3c\nStep 5/11 : RUN apk update && apk add --no-cache git\n ---> Running in cada011bc03b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14967 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.43.0-r0)\n(3/6) Installing libcurl (7.79.1-r4)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.36-r1)\n(6/6) Installing git (2.32.4-r0)\nExecuting busybox-1.33.1-r6.trigger\nOK: 19 MiB in 21 packages\nRemoving intermediate container cada011bc03b\n ---> 8205ba0fb2a4\nStep 6/11 : RUN VERSION=${VERSION:-\"$(echo $(git describe --abbrev=0 --tags)+$(git rev-parse --short=8 HEAD))\"} \t&& BUILD=$(date +%FT%T%z)   && CGO_ENABLED=0 GOOS=linux go build \t-ldflags \"-w -s -X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIVersion=$VERSION \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuild=$BUILD \t-X github.com/uselagoon/lagoon-cli/cmd.lagoonCLIBuildGoVersion=go$GOLANG_VERSION\" -o lagoon .\n ---> Running in cb630cad6a12\n\u001b[91mgo: downloading github.com/spf13/cobra v0.0.5\ngo: downloading github.com/guregu/null v4.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\ngo: downloading gopkg.in/yaml.v2 v2.2.8\n\u001b[0m\u001b[91mgo: downloading github.com/manifoldco/promptui v0.3.2\ngo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/integralist/go-findroot v0.0.0-20160518114804-ac90681525dc\ngo: downloading github.com/pkg/browser v0.0.0-20180916011732-0a3d74bf9ce4\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/semver v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/logrusorgru/aurora v0.0.0-20191017060258-dc85c304c434\ngo: downloading github.com/google/go-github v0.0.0-20180716180158-c0b63e2f9bb1\n\u001b[0m\u001b[91mgo: downloading github.com/shreddedbacon/tablewriter v0.0.2-0.20200114082015-d810c4a558bf\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-version v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/machinebox/graphql v0.2.3-0.20181106130121-3a9253180225\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.1.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e\ngo: downloading github.com/juju/ansiterm v0.0.0-20180109212912-720a0952cc2a\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man v1.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.4\ngo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/lunixbochs/vtclean v0.0.0-20180621232353-2d01aacdc34a\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220412211240-33da011f77ad\n\u001b[0mRemoving intermediate container cb630cad6a12\n ---> e0e5f8d8bec5\nStep 7/11 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 8/11 : WORKDIR /root/\n ---> Running in 1d34c80c1dab\nRemoving intermediate container 1d34c80c1dab\n ---> d3d5a9b1f775\nStep 9/11 : COPY --from=build /go/src/github.com/uselagoon/lagoon-cli/lagoon /lagoon\n ---> 9d628675b3e4\nStep 10/11 : RUN touch ~/.lagoon.yml\n ---> Running in 2913c9dc4643\nRemoving intermediate container 2913c9dc4643\n ---> f2a590febb9a\nStep 11/11 : ENTRYPOINT [\"/lagoon\"]\n ---> Running in 0538f38b7b92\nRemoving intermediate container 0538f38b7b92\n ---> 5659ae903cad\nSuccessfully built 5659ae903cad\nSuccessfully tagged lagoon-cli:latest\n","stderr":"","imageSize":14842048},"endTime":1672619835235}