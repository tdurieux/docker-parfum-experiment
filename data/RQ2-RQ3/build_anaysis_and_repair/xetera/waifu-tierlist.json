{"repository":"https://github.com/xetera/waifu-tierlist","dockerfilePath":"Dockerfile","startTime":1673176558938,"endTime":1673176651395,"clone":{"startTime":1673176558938,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/xetera/waifu-tierlist'...\n","error":null,"endTime":1673176559812,"commit":"f6f4b04334b6c6894b239d6eda8ed876b3b85908"},"originalBuild":{"startTime":1673176559902,"endTime":1673176651344,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t waifu-tierlist:latest -f /tmp/dinghy-analysis/xetera/waifu-tierlist/Dockerfile ."},"stdout":"Sending build context to Docker daemon  2.383MB\r\r\nStep 1/10 : FROM node:10-alpine\n10-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\nde915e575d22: Pulling fs layer\n7150aa69525b: Pulling fs layer\nd7aa47be044e: Pulling fs layer\nd7aa47be044e: Waiting\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\n7150aa69525b: Verifying Checksum\n7150aa69525b: Download complete\nddad3d7c1e96: Pull complete\nde915e575d22: Verifying Checksum\nde915e575d22: Download complete\nd7aa47be044e: Verifying Checksum\nd7aa47be044e: Download complete\nde915e575d22: Pull complete\n7150aa69525b: Pull complete\nd7aa47be044e: Pull complete\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/10 : WORKDIR /opt/app\n ---> Running in 01581d02b842\nRemoving intermediate container 01581d02b842\n ---> 8f0b9b4771fa\nStep 3/10 : COPY package*.json ./\n ---> ab2409a1b400\nStep 4/10 : RUN npm install\n ---> Running in 656a5c8b4bcd\n\n> node-sass@4.13.1 install /opt/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.13.1/linux_musl-x64-64_binding.node\nDownload complete\nBinary saved to /opt/app/node_modules/node-sass/vendor/linux_musl-x64-64/binding.node\nCaching binary to /root/.npm/node-sass/4.13.1/linux_musl-x64-64_binding.node\n\n> core-js@2.6.9 postinstall /opt/app/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-sass@4.13.1 postinstall /opt/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /opt/app/node_modules/node-sass/vendor/linux_musl-x64-64/binding.node\nTesting binary\nBinary is fine\n\n> nodemon@1.19.1 postinstall /opt/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN\u001b[0m\u001b[91m custom-server-typescript@1.0.0 No description\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m custom-server-typescript@1.0.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN custom-server-typescript@1.0.0 No license field.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/next/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\n\u001b[0madded 1143 packages from 748 contributors and audited 1215 packages in 17.855s\n\n47 packages are looking for funding\n  run `npm fund` for details\n\nfound 170 vulnerabilities (7 low, 33 moderate, 93 high, 37 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 656a5c8b4bcd\n ---> 043a94613c3f\nStep 5/10 : COPY . .\n ---> 78ec5809bdf7\nStep 6/10 : ENV WAIFU_TIERLIST_URL=https://waifu.hifumi.io\n ---> Running in fa3e85ee30a5\nRemoving intermediate container fa3e85ee30a5\n ---> 1ea3e66a20af\nStep 7/10 : ARG DATABASE_URL\n ---> Running in 0b54e339a1f8\nRemoving intermediate container 0b54e339a1f8\n ---> d59a3f088a67\nStep 8/10 : ENV WAIFU_TIERLIST_DATABASE_URL=$DATABASE_URL\n ---> Running in 3678e15ed066\nRemoving intermediate container 3678e15ed066\n ---> 36d1ef9415ed\nStep 9/10 : RUN npm run build\n ---> Running in c949d1ff6118\n\n> custom-server-typescript@1.0.0 build /opt/app\n> next build && tsc --project tsconfig.server.json\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Checking validity of types...\n\u001b[91mwarn  - Minimum recommended TypeScript version is v4.3.2, older versions can potentially be incompatible with Next.js. Detected: 3.5.1\n\u001b[0mWe detected TypeScript in your project and reconfigured your tsconfig.json file for you. Strict-mode is set to false by default.\n\nThe following suggested values were added to your tsconfig.json. These values can be changed to fit your project's needs:\n\n\t- forceConsistentCasingInFileNames was set to true\n\n\u001b[91mwarn  - No ESLint configuration detected. Run next lint to begin setup\n\u001b[0minfo  - Creating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mWarning: Built-in CSS support is being disabled due to custom CSS configuration being detected.\nSee here for more info: https://nextjs.org/docs/messages/built-in-css-disabled\n\n\u001b[0m\u001b[91m\n@zeit/next-typescript is no longer needed since Next.js has built-in support for TypeScript now. Please remove it from your next.config.js and your .babelrc\n\n\u001b[0m\u001b[91m(node:18) [DEP_WEBPACK_COMPILATION_NORMAL_MODULE_LOADER_HOOK] DeprecationWarning: Compilation.hooks.normalModuleLoader was moved to NormalModule.getCompilationHooks(compilation).loader\n(node:18) [DEP_WEBPACK_MAIN_TEMPLATE_RENDER_MANIFEST] DeprecationWarning: MainTemplate.hooks.renderManifest is deprecated (use Compilation.hooks.renderManifest instead)\n\u001b[0m\u001b[91m(node:18) [DEP_WEBPACK_CHUNK_TEMPLATE_RENDER_MANIFEST] DeprecationWarning: ChunkTemplate.hooks.renderManifest is deprecated (use Compilation.hooks.renderManifest instead)\n(node:18) [DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK] DeprecationWarning: MainTemplate.hooks.hashForChunk is deprecated (use JavascriptModulesPlugin.getCompilationHooks().chunkHash instead)\n\u001b[0minfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\ninfo  - Using external babel configuration from /opt/app/.babelrc\n\u001b[91m(node:18) [DEP_WEBPACK_CHUNK_MODULES_ITERABLE] DeprecationWarning: Chunk.modulesIterable: Use new ChunkGraph API\n\u001b[0m\u001b[91m(node:18) [DEP_WEBPACK_COMPILATION_ASSETS] DeprecationWarning: Compilation.assets will be frozen in future, all modifications are deprecated.\nBREAKING CHANGE: No more changes should happen to Compilation.assets after sealing the Compilation.\n\tDo changes to assets earlier, e. g. in Compilation.hooks.processAssets.\n\tMake sure to select an appropriate stage from Compilation.PROCESS_ASSETS_STAGE_*.\n\u001b[0m\u001b[91mFailed to compile.\n\n./pages/_app.tsx\nError: [BABEL] /opt/app/pages/_app.tsx: Cannot find module '@babel/core' (While processing: \"/opt/app/node_modules/@zeit/next-typescript/babel.js$0\")\n\n\u001b[0m\u001b[91m\n> Build error occurred\n\u001b[0m\u001b[91mError: > Build failed because of webpack errors\n    at nextBuildSpan.traceAsyncFn (/opt/app/node_modules/next/dist/build/index.js:390:19)\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR! \u001b[0m\u001b[91mcode ELIFECYCLE\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR! \u001b[0m\u001b[91merrno 1\n\u001b[0m\u001b[91mnpm ERR! custom-server-typescript@1.0.0 build: `next build && tsc --project tsconfig.server.json`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the custom-server-typescript@1.0.0 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m A complete log of this run can be found in:\nnpm \u001b[0m\u001b[91mERR!     /root/.npm/_logs/2023-01-08T11_17_29_497Z-debug.log\n\u001b[0mRemoving intermediate container c949d1ff6118\n","stderr":"The command '/bin/sh -c npm run build' returned a non-zero code: 1\n"}}