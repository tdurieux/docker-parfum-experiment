{"repository":"https://github.com/lsegal/samus","dockerfilePath":"Dockerfile","startTime":1672872133705,"endTime":1672872380380,"clone":{"startTime":1672872133705,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lsegal/samus'...\n","error":null,"endTime":1672872134446,"commit":"48a3fd8b2091d73c6e5f78eb4309ee1ca4da7220"},"originalBuild":{"startTime":1672872134539,"endTime":1672872314849,"error":null,"stdout":"Sending build context to Docker daemon  334.8kB\r\r\nStep 1/16 : FROM python:3.7-alpine\n ---> 23de60bcccb1\nStep 2/16 : RUN apk add -U --no-cache openssh ruby ruby-json nodejs git curl\n ---> Running in b3f9e293dc93\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing brotli-libs (1.0.9-r9)\n(2/25) Installing nghttp2-libs (1.51.0-r0)\n(3/25) Installing libcurl (7.87.0-r0)\n(4/25) Installing curl (7.87.0-r0)\n(5/25) Installing pcre2 (10.42-r0)\n(6/25) Installing git (2.38.2-r0)\n(7/25) Installing c-ares (1.18.1-r1)\n(8/25) Installing libgcc (12.2.1_git20220924-r4)\n(9/25) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(10/25) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/25) Installing icu-libs (72.1-r1)\n(12/25) Installing nodejs (18.12.1-r0)\n(13/25) Installing openssh-keygen (9.1_p1-r1)\n(14/25) Installing libedit (20221030.3.1-r0)\n(15/25) Installing openssh-client-common (9.1_p1-r1)\n(16/25) Installing openssh-client-default (9.1_p1-r1)\n(17/25) Installing openssh-sftp-server (9.1_p1-r1)\n(18/25) Installing openssh-server-common (9.1_p1-r1)\n(19/25) Installing openssh-server (9.1_p1-r1)\n(20/25) Installing openssh (9.1_p1-r1)\n(21/25) Installing gmp (6.2.1-r2)\n(22/25) Installing yaml (0.2.5-r0)\n(23/25) Installing ruby-libs (3.1.3-r0)\n(24/25) Installing libucontext (1.2-r0)\n(25/25) Installing ruby (3.1.3-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 90 MiB in 62 packages\nRemoving intermediate container b3f9e293dc93\n ---> 5872ba605e36\nStep 3/16 : RUN pip install awscli\n ---> Running in d2da30a35ccc\nCollecting awscli\n  Downloading awscli-1.27.43-py3-none-any.whl (4.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.0/4.0 MB 19.5 MB/s eta 0:00:00\nCollecting colorama<0.4.5,>=0.2.5\n  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)\nCollecting docutils<0.17,>=0.10\n  Downloading docutils-0.16-py2.py3-none-any.whl (548 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 548.2/548.2 KB 24.0 MB/s eta 0:00:00\nCollecting botocore==1.29.43\n  Downloading botocore-1.29.43-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 25.6 MB/s eta 0:00:00\nCollecting rsa<4.8,>=3.1.2\n  Downloading rsa-4.7.2-py3-none-any.whl (34 kB)\nCollecting PyYAML<5.5,>=3.10\n  Downloading PyYAML-5.4.1.tar.gz (175 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 175.1/175.1 KB 11.9 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 KB 6.6 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 KB 15.0 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 12.0 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting pyasn1>=0.1.3\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.1/77.1 KB 7.5 MB/s eta 0:00:00\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (pyproject.toml): started\n  Building wheel for PyYAML (pyproject.toml): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.4.1-cp37-cp37m-linux_x86_64.whl size=45659 sha256=25fcef9573d4551e7ce5887a076f6125489767b08dad4ec6d292843aa7dd4cf0\n  Stored in directory: /root/.cache/pip/wheels/f4/51/cc/858604f7bb9cab887106ff266a541546ad783b4fa20875051d\nSuccessfully built PyYAML\nInstalling collected packages: pyasn1, urllib3, six, rsa, PyYAML, jmespath, docutils, colorama, python-dateutil, botocore, s3transfer, awscli\nSuccessfully installed PyYAML-5.4.1 awscli-1.27.43 botocore-1.29.43 colorama-0.4.4 docutils-0.16 jmespath-1.0.1 pyasn1-0.4.8 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container d2da30a35ccc\n ---> 35d37bb55010\nStep 4/16 : RUN gem install bundler --no-document\n ---> Running in eebfb10d1ca6\nSuccessfully installed bundler-2.4.2\n1 gem installed\nRemoving intermediate container eebfb10d1ca6\n ---> 27615a35553b\nStep 5/16 : RUN gem install rake --no-document\n ---> Running in 7d82ebd49ff0\nSuccessfully installed rake-13.0.6\n1 gem installed\nRemoving intermediate container 7d82ebd49ff0\n ---> dcf4458ae924\nStep 6/16 : RUN mkdir -p ~/.ssh\n ---> Running in a348f4490293\nRemoving intermediate container a348f4490293\n ---> 6bbef226c21b\nStep 7/16 : RUN echo \"Host *\" > ~/.ssh/config\n ---> Running in a9248af54af7\nRemoving intermediate container a9248af54af7\n ---> d9b2b3c7a850\nStep 8/16 : RUN echo \"    StrictHostKeyChecking no\" >> ~/.ssh/config\n ---> Running in c06f0a169c90\nRemoving intermediate container c06f0a169c90\n ---> cbb76ddbaa19\nStep 9/16 : RUN chmod 400 ~/.ssh/config\n ---> Running in d18a3f0246ed\nRemoving intermediate container d18a3f0246ed\n ---> 90de45e75c94\nStep 10/16 : RUN git config --global user.email \"bot@not.human\"\n ---> Running in f93b33a2908f\nRemoving intermediate container f93b33a2908f\n ---> 06482a6fa43b\nStep 11/16 : RUN git config --global user.name \"Samus Release Bot\"\n ---> Running in 9d21af94a15a\nRemoving intermediate container 9d21af94a15a\n ---> 37090c29bfe5\nStep 12/16 : COPY . /samus\n ---> 26ee44318570\nStep 13/16 : RUN chmod 755 /samus/commands/build/* /samus/commands/publish/*\n ---> Running in 7ea1c6e60512\nRemoving intermediate container 7ea1c6e60512\n ---> 7b931651b109\nStep 14/16 : ENV PATH=$PATH:/samus/bin\n ---> Running in 8f927e4700f0\nRemoving intermediate container 8f927e4700f0\n ---> fe070dd6afe3\nStep 15/16 : WORKDIR /build\n ---> Running in 4ffa68ce7578\nRemoving intermediate container 4ffa68ce7578\n ---> bcf0870d7c59\nStep 16/16 : ENTRYPOINT [ \"/samus/entrypoint.sh\" ]\n ---> Running in fe655b6f56df\nRemoving intermediate container fe655b6f56df\n ---> 2f67339bf58e\nSuccessfully built 2f67339bf58e\nSuccessfully tagged samus:latest\n","stderr":"","imageSize":241357970},"repair":{"startTime":1672872314912,"endTime":1672872315048,"violations":[{"name":"pipUseNoCacheDir","position":{"start":3,"end":3,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM python:3.7-alpine\n\nRUN apk add -U --no-cache openssh ruby ruby-json nodejs git curl\nRUN pip install --no-cache-dir awscli\nRUN gem install bundler --no-document\nRUN gem install rake --no-document\nRUN mkdir -p ~/.ssh\nRUN echo \"Host *\" > ~/.ssh/config\nRUN echo \"    StrictHostKeyChecking no\" >> ~/.ssh/config\nRUN chmod 400 ~/.ssh/config\n\nRUN git config --global user.email \"bot@not.human\"\nRUN git config --global user.name \"Samus Release Bot\"\n\nCOPY . /samus\nRUN chmod 755 /samus/commands/build/* /samus/commands/publish/*\nENV PATH=$PATH:/samus/bin\n\nWORKDIR /build\nENTRYPOINT [ \"/samus/entrypoint.sh\" ]\n"},"repairedBuild":{"startTime":1672872315508,"endTime":1672872379861,"error":null,"stdout":"Sending build context to Docker daemon  334.8kB\r\r\nStep 1/16 : FROM python:3.7-alpine\n ---> 23de60bcccb1\nStep 2/16 : RUN apk add -U --no-cache openssh ruby ruby-json nodejs git curl\n ---> Running in c2f7b4048b34\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing brotli-libs (1.0.9-r9)\n(2/25) Installing nghttp2-libs (1.51.0-r0)\n(3/25) Installing libcurl (7.87.0-r0)\n(4/25) Installing curl (7.87.0-r0)\n(5/25) Installing pcre2 (10.42-r0)\n(6/25) Installing git (2.38.2-r0)\n(7/25) Installing c-ares (1.18.1-r1)\n(8/25) Installing libgcc (12.2.1_git20220924-r4)\n(9/25) Installing icu-data-en (72.1-r1)\nExecuting icu-data-en-72.1-r1.post-install\n\u001b[91m*\n* If you need ICU with non-English locales and legacy charset support, install\n* package icu-data-full.\n*\n\u001b[0m(10/25) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/25) Installing icu-libs (72.1-r1)\n(12/25) Installing nodejs (18.12.1-r0)\n(13/25) Installing openssh-keygen (9.1_p1-r1)\n(14/25) Installing libedit (20221030.3.1-r0)\n(15/25) Installing openssh-client-common (9.1_p1-r1)\n(16/25) Installing openssh-client-default (9.1_p1-r1)\n(17/25) Installing openssh-sftp-server (9.1_p1-r1)\n(18/25) Installing openssh-server-common (9.1_p1-r1)\n(19/25) Installing openssh-server (9.1_p1-r1)\n(20/25) Installing openssh (9.1_p1-r1)\n(21/25) Installing gmp (6.2.1-r2)\n(22/25) Installing yaml (0.2.5-r0)\n(23/25) Installing ruby-libs (3.1.3-r0)\n(24/25) Installing libucontext (1.2-r0)\n(25/25) Installing ruby (3.1.3-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 90 MiB in 62 packages\nRemoving intermediate container c2f7b4048b34\n ---> 3366010adf78\nStep 3/16 : RUN pip install --no-cache-dir awscli\n ---> Running in e30b0f7590eb\nCollecting awscli\n  Downloading awscli-1.27.43-py3-none-any.whl (4.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.0/4.0 MB 40.3 MB/s eta 0:00:00\nCollecting rsa<4.8,>=3.1.2\n  Downloading rsa-4.7.2-py3-none-any.whl (34 kB)\nCollecting colorama<0.4.5,>=0.2.5\n  Downloading colorama-0.4.4-py2.py3-none-any.whl (16 kB)\nCollecting PyYAML<5.5,>=3.10\n  Downloading PyYAML-5.4.1.tar.gz (175 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 175.1/175.1 KB 212.9 MB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting botocore==1.29.43\n  Downloading botocore-1.29.43-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 108.5 MB/s eta 0:00:00\nCollecting docutils<0.17,>=0.10\n  Downloading docutils-0.16-py2.py3-none-any.whl (548 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 548.2/548.2 KB 185.2 MB/s eta 0:00:00\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 KB 199.5 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 214.8 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 KB 219.9 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting pyasn1>=0.1.3\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.1/77.1 KB 180.9 MB/s eta 0:00:00\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nBuilding wheels for collected packages: PyYAML\n  Building wheel for PyYAML (pyproject.toml): started\n  Building wheel for PyYAML (pyproject.toml): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.4.1-cp37-cp37m-linux_x86_64.whl size=45659 sha256=5e622c6a5e6f4b2e121db1c67c469b39d9502f23f1b6f85af368b1b8e00f6cb3\n  Stored in directory: /tmp/pip-ephem-wheel-cache-huaudizd/wheels/f4/51/cc/858604f7bb9cab887106ff266a541546ad783b4fa20875051d\nSuccessfully built PyYAML\nInstalling collected packages: pyasn1, urllib3, six, rsa, PyYAML, jmespath, docutils, colorama, python-dateutil, botocore, s3transfer, awscli\nSuccessfully installed PyYAML-5.4.1 awscli-1.27.43 botocore-1.29.43 colorama-0.4.4 docutils-0.16 jmespath-1.0.1 pyasn1-0.4.8 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.6.0 six-1.16.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e30b0f7590eb\n ---> f7581599ee87\nStep 4/16 : RUN gem install bundler --no-document\n ---> Running in 093787b75217\nSuccessfully installed bundler-2.4.2\n1 gem installed\nRemoving intermediate container 093787b75217\n ---> 6413846c7814\nStep 5/16 : RUN gem install rake --no-document\n ---> Running in c92d962c619d\nSuccessfully installed rake-13.0.6\n1 gem installed\nRemoving intermediate container c92d962c619d\n ---> 013ee88531fc\nStep 6/16 : RUN mkdir -p ~/.ssh\n ---> Running in 1ca7c5f620d4\nRemoving intermediate container 1ca7c5f620d4\n ---> d0d997004f4b\nStep 7/16 : RUN echo \"Host *\" > ~/.ssh/config\n ---> Running in da96eee46859\nRemoving intermediate container da96eee46859\n ---> 486650c9945d\nStep 8/16 : RUN echo \"    StrictHostKeyChecking no\" >> ~/.ssh/config\n ---> Running in 2f131182c7aa\nRemoving intermediate container 2f131182c7aa\n ---> 62cd6297e0b5\nStep 9/16 : RUN chmod 400 ~/.ssh/config\n ---> Running in 266f6dfb5aa5\nRemoving intermediate container 266f6dfb5aa5\n ---> 03f011c951ab\nStep 10/16 : RUN git config --global user.email \"bot@not.human\"\n ---> Running in 5727fee0aa27\nRemoving intermediate container 5727fee0aa27\n ---> 0b8623a9c6f6\nStep 11/16 : RUN git config --global user.name \"Samus Release Bot\"\n ---> Running in 17a944e7943a\nRemoving intermediate container 17a944e7943a\n ---> ae959a9c29e7\nStep 12/16 : COPY . /samus\n ---> 2a715bc42c39\nStep 13/16 : RUN chmod 755 /samus/commands/build/* /samus/commands/publish/*\n ---> Running in fff90886e1c8\nRemoving intermediate container fff90886e1c8\n ---> de47f4ba7d41\nStep 14/16 : ENV PATH=$PATH:/samus/bin\n ---> Running in 36f591608de3\nRemoving intermediate container 36f591608de3\n ---> 4ff4f2b812fe\nStep 15/16 : WORKDIR /build\n ---> Running in beb97380d0d3\nRemoving intermediate container beb97380d0d3\n ---> 1dcbaf7328f9\nStep 16/16 : ENTRYPOINT [ \"/samus/entrypoint.sh\" ]\n ---> Running in 9e29526bc0ae\nRemoving intermediate container 9e29526bc0ae\n ---> 25a90752ae06\nSuccessfully built 25a90752ae06\nSuccessfully tagged samus:latest\n","stderr":"","imageSize":224991034}}