{"repository":"https://github.com/tardisx/gropple","dockerfilePath":"Dockerfile","startTime":1672924817132,"endTime":1672924973937,"clone":{"startTime":1672924817132,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tardisx/gropple'...\n","error":null,"endTime":1672924818388,"commit":"c1c1fc1866bce4b499d6a1cc442210534f4d207c"},"originalBuild":{"startTime":1672924818460,"endTime":1672924926092,"error":null,"stdout":"Sending build context to Docker daemon  10.53MB\r\r\nStep 1/15 : FROM golang:1.18.2-alpine3.15 as builder\n1.18.2-alpine3.15: Pulling from library/golang\ndf9b9388f04a: Already exists\n52dc419b0ee2: Pulling fs layer\n25bc292e5bac: Pulling fs layer\nff2b56b5d835: Pulling fs layer\n3a39e6bc8123: Pulling fs layer\n3a39e6bc8123: Waiting\n25bc292e5bac: Verifying Checksum\n25bc292e5bac: Download complete\n52dc419b0ee2: Verifying Checksum\n52dc419b0ee2: Download complete\n52dc419b0ee2: Pull complete\n25bc292e5bac: Pull complete\n3a39e6bc8123: Verifying Checksum\n3a39e6bc8123: Download complete\nff2b56b5d835: Verifying Checksum\nff2b56b5d835: Download complete\nff2b56b5d835: Pull complete\n3a39e6bc8123: Pull complete\nDigest: sha256:e6b729ae22a2f7b6afcc237f7b9da3a27151ecbdcd109f7ab63a42e52e750262\nStatus: Downloaded newer image for golang:1.18.2-alpine3.15\n ---> 04a96eefde03\nStep 2/15 : RUN apk update && apk add --no-cache git curl\n ---> Running in fc23edf0b5d9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15864 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r5)\n(2/7) Installing nghttp2-libs (1.46.0-r0)\n(3/7) Installing libcurl (7.80.0-r5)\n(4/7) Installing curl (7.80.0-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 19 MiB in 22 packages\nRemoving intermediate container fc23edf0b5d9\n ---> 5c51cbd14892\nStep 3/15 : WORKDIR /app\n ---> Running in da2cbadaefe7\nRemoving intermediate container da2cbadaefe7\n ---> ea6fd9a8a731\nStep 4/15 : RUN curl -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /app/yt-dlp\n ---> Running in 177752f26869\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time  \u001b[0m\u001b[91m  Time \u001b[0m\u001b[91m    Time  Current\n               \u001b[0m\u001b[91m         \u001b[0m\u001b[91m        \u001b[0m\u001b[91m Dloa\u001b[0m\u001b[91md  Uploa\u001b[0m\u001b[91md   Total   Spent    Left  Speed\n\r  \u001b[0m\u001b[91m0     0 \u001b[0m\u001b[91m   0     0  \u001b[0m\u001b[91m  0    \u001b[0m\u001b[91m 0    \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m      0 \u001b[0m\u001b[91m--:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--   \u001b[0m\u001b[91m  0\n\u001b[0m\u001b[91m\r  0     0    0     0    0     0\u001b[0m\u001b[91m      0     \u001b[0m\u001b[91m 0 --:--:-- --:--:-- --:--:\u001b[0m\u001b[91m--     0\n\u001b[0m\u001b[91m\r100 2629k  100 2629k    0     0  5291k      0\u001b[0m\u001b[91m --:--:-- --:--:-- --:--:-- 5291k\n\u001b[0mRemoving intermediate container 177752f26869\n ---> 117bc1bfeca1\nStep 5/15 : RUN chmod a+x /app/yt-dlp\n ---> Running in 7be72fbb3020\nRemoving intermediate container 7be72fbb3020\n ---> 9898919e07ad\nStep 6/15 : COPY go.mod ./\n ---> ca3c5211f30c\nStep 7/15 : COPY go.sum ./\n ---> d42ea7ee9678\nStep 8/15 : RUN go mod download\n ---> Running in b104c4c04d1e\nRemoving intermediate container b104c4c04d1e\n ---> cfdba0760f85\nStep 9/15 : COPY . .\n ---> b3d8bb256847\nStep 10/15 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o ./bin/gropple .\n ---> Running in c36045922b88\nRemoving intermediate container c36045922b88\n ---> 34b89fb072a8\nStep 11/15 : FROM alpine:3.15.4\n3.15.4: Pulling from library/alpine\ndf9b9388f04a: Already exists\nDigest: sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454\nStatus: Downloaded newer image for alpine:3.15.4\n ---> 0ac33e5f5afa\nStep 12/15 : COPY --from=builder /app/bin/gropple .\n ---> 4e624e90d908\nStep 13/15 : COPY --from=builder /app/yt-dlp /bin/\n ---> 4a327478d481\nStep 14/15 : RUN apk update && apk add --no-cache python3 ffmpeg\n ---> Running in 193f8c149670\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/70) Installing sdl2 (2.0.16-r4)\n(2/70) Installing libxau (1.0.9-r0)\n(3/70) Installing libmd (1.0.3-r0)\n(4/70) Installing libbsd (0.11.3-r1)\n(5/70) Installing libxdmcp (1.1.3-r0)\n(6/70) Installing libxcb (1.14-r2)\n(7/70) Installing libx11 (1.7.3.1-r0)\n(8/70) Installing aom-libs (3.2.0-r0)\n(9/70) Installing alsa-lib (1.2.5.1-r1)\n(10/70) Installing expat (2.5.0-r0)\n(11/70) Installing brotli-libs (1.0.9-r5)\n(12/70) Installing libbz2 (1.0.8-r1)\n(13/70) Installing libpng (1.6.37-r1)\n(14/70) Installing freetype (2.11.1-r2)\n(15/70) Installing libuuid (2.37.4-r0)\n(16/70) Installing fontconfig (2.13.1-r4)\n(17/70) Installing fribidi (1.0.11-r0)\n(18/70) Installing libffi (3.4.2-r1)\n(19/70) Installing libintl (0.21-r0)\n(20/70) Installing libblkid (2.37.4-r0)\n(21/70) Installing libmount (2.37.4-r0)\n(22/70) Installing pcre (8.45-r1)\n(23/70) Installing glib (2.70.1-r0)\n(24/70) Installing graphite2 (1.3.14-r0)\n(25/70) Installing harfbuzz (3.0.0-r2)\n(26/70) Installing libass (0.15.2-r0)\n(27/70) Installing libdav1d (0.9.2-r0)\n(28/70) Installing gmp (6.2.1-r1)\n(29/70) Installing nettle (3.7.3-r0)\n(30/70) Installing p11-kit (0.24.0-r1)\n(31/70) Installing libtasn1 (4.18.0-r1)\n(32/70) Installing libunistring (0.9.10-r1)\n(33/70) Installing gnutls (3.7.1-r1)\n(34/70) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(35/70) Installing ncurses-libs (6.3_p20211120-r1)\n(36/70) Installing lame (3.100-r0)\n(37/70) Installing opus (1.3.1-r1)\n(38/70) Installing libgomp (10.3.1_git20211027-r0)\n(39/70) Installing soxr (0.1.3-r2)\n(40/70) Installing libgcc (10.3.1_git20211027-r0)\n(41/70) Installing libstdc++ (10.3.1_git20211027-r0)\n(42/70) Installing libsrt (1.4.2-r1)\n(43/70) Installing libssh (0.9.6-r1)\n(44/70) Installing libogg (1.3.5-r0)\n(45/70) Installing libtheora (1.1.1-r16)\n(46/70) Installing libjpeg-turbo (2.1.2-r0)\n(47/70) Installing v4l-utils-libs (1.22.1-r1)\n(48/70) Installing libxext (1.3.4-r0)\n(49/70) Installing libxfixes (6.0.0-r0)\n(50/70) Installing libpciaccess (0.16-r0)\n(51/70) Installing libdrm (2.4.109-r0)\n(52/70) Installing wayland-libs-client (1.19.0-r1)\n(53/70) Installing libva (2.13.0-r0)\n(54/70) Installing libvdpau (1.4-r0)\n(55/70) Installing vidstab (1.1.0-r1)\n(56/70) Installing libvorbis (1.3.7-r0)\n(57/70) Installing libvpx (1.10.0-r0)\n(58/70) Installing vulkan-loader (1.2.196-r0)\n(59/70) Installing libwebp (1.2.2-r0)\n(60/70) Installing x264-libs (20210613-r0)\n(61/70) Installing x265-libs (3.5-r0)\n(62/70) Installing xvidcore (1.3.7-r1)\n(63/70) Installing ffmpeg-libs (4.4.1-r2)\n(64/70) Installing ffmpeg (4.4.1-r2)\n(65/70) Installing gdbm (1.22-r0)\n(66/70) Installing xz-libs (5.2.5-r1)\n(67/70) Installing mpdecimal (2.5.1-r1)\n(68/70) Installing readline (8.1.1-r0)\n(69/70) Installing sqlite-libs (3.36.0-r0)\n(70/70) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 123 MiB in 84 packages\nRemoving intermediate container 193f8c149670\n ---> a04dc61b117c\nStep 15/15 : CMD [\"./gropple\", \"--config-path\", \"/config/gropple.json\"]\n ---> Running in 22959bfae765\nRemoving intermediate container 22959bfae765\n ---> f4100f409701\nSuccessfully built f4100f409701\nSuccessfully tagged gropple:latest\n","stderr":"","imageSize":134894694},"repair":{"startTime":1672924926147,"endTime":1672924926216,"violations":[{"name":"curlUseFlagF","position":{"start":9,"end":9,"columnStart":4,"columnEnd":91}}],"repairedDockerfile":"# Start from golang base image\nFROM golang:1.18.2-alpine3.15 as builder\n\n# Install git. (alpine image does not have git in it)\nRUN apk update && apk add --no-cache git curl\n\n# Set current working directory\nWORKDIR /app\n\nRUN curl -f -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /app/yt-dlp\nRUN chmod a+x /app/yt-dlp\n\n# Note here: To avoid downloading dependencies every time we\n# build image. Here, we are caching all the dependencies by\n# first copying go.mod and go.sum files and downloading them,\n# to be used every time we build the image if the dependencies\n# are not changed.\n\n# Copy go mod and sum files\nCOPY go.mod ./\nCOPY go.sum ./\n\n# Download all dependencies.\nRUN go mod download\n\n# Now, copy the source code\nCOPY . .\n\n# Note here: CGO_ENABLED is disabled for cross system compilation\n# It is also a common best practise.\n\n# Build the application.\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o ./bin/gropple .\n\n# Finally our multi-stage to build a small image\n# Start a new stage from scratch\nFROM alpine:3.15.4\n\n# Copy the Pre-built binary file\nCOPY --from=builder /app/bin/gropple .\nCOPY --from=builder /app/yt-dlp /bin/\n\n# Install things we need to support yt-dlp\nRUN apk update && apk add --no-cache python3 ffmpeg\n\n# Run executable\nCMD [\"./gropple\", \"--config-path\", \"/config/gropple.json\"]\n"},"repairedBuild":{"startTime":1672924926588,"endTime":1672924973380,"error":null,"stdout":"Sending build context to Docker daemon  10.53MB\r\r\nStep 1/15 : FROM golang:1.18.2-alpine3.15 as builder\n ---> 04a96eefde03\nStep 2/15 : RUN apk update && apk add --no-cache git curl\n ---> Running in a0d07921bd33\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15864 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r5)\n(2/7) Installing nghttp2-libs (1.46.0-r0)\n(3/7) Installing libcurl (7.80.0-r5)\n(4/7) Installing curl (7.80.0-r5)\n(5/7) Installing expat (2.5.0-r0)\n(6/7) Installing pcre2 (10.40-r0)\n(7/7) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 19 MiB in 22 packages\nRemoving intermediate container a0d07921bd33\n ---> d9d6b2b4e540\nStep 3/15 : WORKDIR /app\n ---> Running in 157d22dfa6dd\nRemoving intermediate container 157d22dfa6dd\n ---> e62ea3a4573b\nStep 4/15 : RUN curl -f -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /app/yt-dlp\n ---> Running in 1c982158cf30\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dl\u001b[0m\u001b[91moad  Upload   Total   Spent    \u001b[0m\u001b[91mLeft  Speed\u001b[0m\u001b[91m\n\r\u001b[0m\u001b[91m  0     0\u001b[0m\u001b[91m    0     0    0     \u001b[0m\u001b[91m0      0      0 --:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- --:--\u001b[0m\u001b[91m:-- --:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:\u001b[0m\u001b[91m--:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-\u001b[0m\u001b[91m- --:--:--  \u001b[0m\u001b[91m   0\n\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- \u001b[0m\u001b[91m--:--:-- --:--:--\u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0\n\u001b[0m\u001b[91m\r100 2629k  100 2629k    0     0  6\u001b[0m\u001b[91m068k      0\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:-\u001b[0m\u001b[91m- -\u001b[0m\u001b[91m-:--:-\u001b[0m\u001b[91m- 6068k\n\u001b[0mRemoving intermediate container 1c982158cf30\n ---> 302507825325\nStep 5/15 : RUN chmod a+x /app/yt-dlp\n ---> Running in 85f6bec3d526\nRemoving intermediate container 85f6bec3d526\n ---> 79c096e65e1f\nStep 6/15 : COPY go.mod ./\n ---> 601602f4720e\nStep 7/15 : COPY go.sum ./\n ---> 5d5fdaccccce\nStep 8/15 : RUN go mod download\n ---> Running in 9c0825db8d82\nRemoving intermediate container 9c0825db8d82\n ---> 72f1e2bc83bb\nStep 9/15 : COPY . .\n ---> c2561d35e4f0\nStep 10/15 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o ./bin/gropple .\n ---> Running in ab8a60b364da\nRemoving intermediate container ab8a60b364da\n ---> 02460e6bc9ac\nStep 11/15 : FROM alpine:3.15.4\n ---> 0ac33e5f5afa\nStep 12/15 : COPY --from=builder /app/bin/gropple .\n ---> 8e5e45a67b40\nStep 13/15 : COPY --from=builder /app/yt-dlp /bin/\n ---> 06d6fb28e9e4\nStep 14/15 : RUN apk update && apk add --no-cache python3 ffmpeg\n ---> Running in 8f243f45f555\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-237-g9ae8855cb5 [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/70) Installing sdl2 (2.0.16-r4)\n(2/70) Installing libxau (1.0.9-r0)\n(3/70) Installing libmd (1.0.3-r0)\n(4/70) Installing libbsd (0.11.3-r1)\n(5/70) Installing libxdmcp (1.1.3-r0)\n(6/70) Installing libxcb (1.14-r2)\n(7/70) Installing libx11 (1.7.3.1-r0)\n(8/70) Installing aom-libs (3.2.0-r0)\n(9/70) Installing alsa-lib (1.2.5.1-r1)\n(10/70) Installing expat (2.5.0-r0)\n(11/70) Installing brotli-libs (1.0.9-r5)\n(12/70) Installing libbz2 (1.0.8-r1)\n(13/70) Installing libpng (1.6.37-r1)\n(14/70) Installing freetype (2.11.1-r2)\n(15/70) Installing libuuid (2.37.4-r0)\n(16/70) Installing fontconfig (2.13.1-r4)\n(17/70) Installing fribidi (1.0.11-r0)\n(18/70) Installing libffi (3.4.2-r1)\n(19/70) Installing libintl (0.21-r0)\n(20/70) Installing libblkid (2.37.4-r0)\n(21/70) Installing libmount (2.37.4-r0)\n(22/70) Installing pcre (8.45-r1)\n(23/70) Installing glib (2.70.1-r0)\n(24/70) Installing graphite2 (1.3.14-r0)\n(25/70) Installing harfbuzz (3.0.0-r2)\n(26/70) Installing libass (0.15.2-r0)\n(27/70) Installing libdav1d (0.9.2-r0)\n(28/70) Installing gmp (6.2.1-r1)\n(29/70) Installing nettle (3.7.3-r0)\n(30/70) Installing p11-kit (0.24.0-r1)\n(31/70) Installing libtasn1 (4.18.0-r1)\n(32/70) Installing libunistring (0.9.10-r1)\n(33/70) Installing gnutls (3.7.1-r1)\n(34/70) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(35/70) Installing ncurses-libs (6.3_p20211120-r1)\n(36/70) Installing lame (3.100-r0)\n(37/70) Installing opus (1.3.1-r1)\n(38/70) Installing libgomp (10.3.1_git20211027-r0)\n(39/70) Installing soxr (0.1.3-r2)\n(40/70) Installing libgcc (10.3.1_git20211027-r0)\n(41/70) Installing libstdc++ (10.3.1_git20211027-r0)\n(42/70) Installing libsrt (1.4.2-r1)\n(43/70) Installing libssh (0.9.6-r1)\n(44/70) Installing libogg (1.3.5-r0)\n(45/70) Installing libtheora (1.1.1-r16)\n(46/70) Installing libjpeg-turbo (2.1.2-r0)\n(47/70) Installing v4l-utils-libs (1.22.1-r1)\n(48/70) Installing libxext (1.3.4-r0)\n(49/70) Installing libxfixes (6.0.0-r0)\n(50/70) Installing libpciaccess (0.16-r0)\n(51/70) Installing libdrm (2.4.109-r0)\n(52/70) Installing wayland-libs-client (1.19.0-r1)\n(53/70) Installing libva (2.13.0-r0)\n(54/70) Installing libvdpau (1.4-r0)\n(55/70) Installing vidstab (1.1.0-r1)\n(56/70) Installing libvorbis (1.3.7-r0)\n(57/70) Installing libvpx (1.10.0-r0)\n(58/70) Installing vulkan-loader (1.2.196-r0)\n(59/70) Installing libwebp (1.2.2-r0)\n(60/70) Installing x264-libs (20210613-r0)\n(61/70) Installing x265-libs (3.5-r0)\n(62/70) Installing xvidcore (1.3.7-r1)\n(63/70) Installing ffmpeg-libs (4.4.1-r2)\n(64/70) Installing ffmpeg (4.4.1-r2)\n(65/70) Installing gdbm (1.22-r0)\n(66/70) Installing xz-libs (5.2.5-r1)\n(67/70) Installing mpdecimal (2.5.1-r1)\n(68/70) Installing readline (8.1.1-r0)\n(69/70) Installing sqlite-libs (3.36.0-r0)\n(70/70) Installing python3 (3.9.16-r0)\nExecuting busybox-1.34.1-r5.trigger\nOK: 123 MiB in 84 packages\nRemoving intermediate container 8f243f45f555\n ---> 6278a1c80534\nStep 15/15 : CMD [\"./gropple\", \"--config-path\", \"/config/gropple.json\"]\n ---> Running in 9e67dc8d1151\nRemoving intermediate container 9e67dc8d1151\n ---> 8d73a6488812\nSuccessfully built 8d73a6488812\nSuccessfully tagged gropple:latest\n","stderr":"","imageSize":134894694}}