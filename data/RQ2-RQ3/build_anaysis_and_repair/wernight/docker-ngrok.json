{"repository":"https://github.com/wernight/docker-ngrok","dockerfilePath":"Dockerfile","startTime":1672633932370,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wernight/docker-ngrok'...\n","error":null,"commit":"7fc977ff0458adc955dec7ec38d1906a22e0431c"},"originalBuild":{"startTimestamp":1672633933111,"endTimestamp":1672633953116,"error":null,"stdout":"Sending build context to Docker daemon  90.11kB\r\r\nStep 1/12 : FROM alpine:3.12\n3.12: Pulling from library/alpine\n1b7ca6aea1dd: Pulling fs layer\n1b7ca6aea1dd: Verifying Checksum\n1b7ca6aea1dd: Download complete\n1b7ca6aea1dd: Pull complete\nDigest: sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69\nStatus: Downloaded newer image for alpine:3.12\n ---> 24c8ece58a1a\nStep 2/12 : MAINTAINER Werner Beroux <werner@beroux.com>\n ---> Running in 4bbbc357c1dd\nRemoving intermediate container 4bbbc357c1dd\n ---> da9d6e9b419d\nStep 3/12 : ARG GLIBC_VERSION=2.31-r0\n ---> Running in 1decd36445b6\nRemoving intermediate container 1decd36445b6\n ---> c40d089fa774\nStep 4/12 : RUN set -x  && apk add --no-cache -t .deps ca-certificates  && wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub  && wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-${GLIBC_VERSION}.apk  && apk add glibc-${GLIBC_VERSION}.apk  && rm glibc-${GLIBC_VERSION}.apk  && apk del --purge .deps\n ---> Running in bbe136c31d11\n\u001b[91m+ apk add --no-cache -t .deps ca-certificates\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing ca-certificates (20220614-r0)\n(2/2) Installing .deps (20230102.043219)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 16 packages\n\u001b[91m+ wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\n\u001b[0m\u001b[91m+ wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.31-r0/glibc-2.31-r0.apk\n\u001b[0m\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.108.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-2.31-r0.apk'\n\u001b[0m\u001b[91mglibc-2.31-r0.apk      3% |*                               |  159k  0:00:26 ETA\n\u001b[0m\u001b[91mglibc-2.31-r0.apk    100% |********************************| 4308k  0:00:00 ETA\n'glibc-2.31-r0.apk' saved\n\u001b[0m\u001b[91m+ apk add glibc-2.31-r0.apk\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing glibc (2.31-r0)\nOK: 15 MiB in 17 packages\n\u001b[91m+ rm glibc-2.31-r0.apk\n\u001b[0m\u001b[91m+ apk del --purge .deps\n\u001b[0m(1/2) Purging .deps (20230102.043219)\n(2/2) Purging ca-certificates (20220614-r0)\nExecuting ca-certificates-20220614-r0.post-deinstall\nExecuting busybox-1.31.1-r22.trigger\nOK: 14 MiB in 15 packages\nRemoving intermediate container bbe136c31d11\n ---> 84bb621cd28f\nStep 5/12 : RUN set -x  && apk add --no-cache curl  && APKARCH=\"$(apk --print-arch)\"  && case \"$APKARCH\" in       armhf)   NGROKARCH=\"arm\" ;;       armv7)   NGROKARCH=\"arm\" ;;       armel)   NGROKARCH=\"arm\" ;;       x86)     NGROKARCH=\"386\" ;;       x86_64)  NGROKARCH=\"amd64\" ;;     esac  && curl -Lo /ngrok.zip https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-$NGROKARCH.zip  && unzip -o /ngrok.zip -d /bin  && rm -f /ngrok.zip  && adduser -h /home/ngrok -D -u 6737 ngrok\n ---> Running in 51cd46683c0f\n\u001b[91m+ apk add --no-cache curl\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20220614-r0)\n(2/4) Installing nghttp2-libs (1.41.0-r0)\n(3/4) Installing libcurl (7.79.1-r1)\n(4/4) Installing curl (7.79.1-r1)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 16 MiB in 19 packages\n\u001b[91m+ apk --print-arch\n\u001b[0m\u001b[91m+ APKARCH=x86_64\n+ NGROKARCH=amd64\n+ curl -Lo /ngrok.zip https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip\n\u001b[0m\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n        \u001b[0m\u001b[91m                         Dload  Upload   \u001b[0m\u001b[91mTotal   Sp\u001b[0m\u001b[91ment    Left  Speed\n\u001b[0m\u001b[91m\r  0     0    0     0 \u001b[0m\u001b[91m   0     0\u001b[0m\u001b[91m      0  \u001b[0m\u001b[91m    0 --:--\u001b[0m\u001b[91m:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r  0 13.1M    0  102k    0     0   130k \u001b[0m\u001b[91m     0  0:01:43 --:--:--  \u001b[0m\u001b[91m0:01:43  130\u001b[0m\u001b[91mk\u001b[0m\u001b[91m\r 55 13.1M   55 7470k    0     0  4078k      0  0:0\u001b[0m\u001b[91m0:03  0:00:01  0:00:0\u001b[0m\u001b[91m2 4077k\u001b[0m\u001b[91m\r100 13.1M  100 13.1M    0     0  6144k      0  0:00:02  0:0\u001b[0m\u001b[91m0:02 --:--:-- 6145k\n\u001b[0m\u001b[91m+ unzip -o /ngrok.zip -d /bin\n\u001b[0mArchive:  /ngrok.zip\n  inflating: ngrok\n\u001b[91m+ rm -f /ngrok.zip\n\u001b[0m\u001b[91m+ adduser -h /home/ngrok -D -u 6737 ngrok\n\u001b[0mRemoving intermediate container 51cd46683c0f\n ---> 640b713267b3\nStep 6/12 : COPY --chown=ngrok ngrok.yml /home/ngrok/.ngrok2/\n ---> ab499ebfbb42\nStep 7/12 : COPY entrypoint.sh /\n ---> 4ab048a4762e\nStep 8/12 : USER ngrok\n ---> Running in 4569540495e9\nRemoving intermediate container 4569540495e9\n ---> 1d5a2eb29ad1\nStep 9/12 : ENV USER=ngrok\n ---> Running in 4d722df36826\nRemoving intermediate container 4d722df36826\n ---> fd96c147f912\nStep 10/12 : RUN ngrok --version\n ---> Running in 41b2fbac3eee\nngrok version 2.3.40\nRemoving intermediate container 41b2fbac3eee\n ---> 76ff2cab57e7\nStep 11/12 : EXPOSE 4040\n ---> Running in 94d74cd7c67e\nRemoving intermediate container 94d74cd7c67e\n ---> 26bba0ba66e1\nStep 12/12 : CMD [\"/entrypoint.sh\"]\n ---> Running in 149540b228ce\nRemoving intermediate container 149540b228ce\n ---> 073d9c88826b\nSuccessfully built 073d9c88826b\nSuccessfully tagged docker-ngrok:latest\n","stderr":"","imageSize":48189186},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":27,"end":27,"columnStart":4,"columnEnd":94}},{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":38}}],"repairedDockerfile":"FROM alpine:3.12\nMAINTAINER Werner Beroux <werner@beroux.com>\n\n# https://github.com/sgerrand/alpine-pkg-glibc\nARG GLIBC_VERSION=2.31-r0\n\nRUN set -x \\\n && apk add --no-cache -t .deps ca-certificates \\\n    # Install glibc on Alpine (required by docker-compose)\n    # See also https://github.com/gliderlabs/docker-alpine/issues/11\n && wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub \\\n && wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-${GLIBC_VERSION}.apk \\\n && apk add --no-cache glibc-${GLIBC_VERSION}.apk \\\n && rm glibc-${GLIBC_VERSION}.apk \\\n && apk del --purge .deps\n\nRUN set -x \\\n    # Install ngrok (latest official stable from https://ngrok.com/download).\n && apk add --no-cache curl \\\n && APKARCH=\"$(apk --print-arch)\" \\\n && case \"$APKARCH\" in \\\n      armhf)   NGROKARCH=\"arm\" ;; \\ \n      armv7)   NGROKARCH=\"arm\" ;; \\\n      armel)   NGROKARCH=\"arm\" ;; \\\n      x86)     NGROKARCH=\"386\" ;; \\\n      x86_64)  NGROKARCH=\"amd64\" ;; \\\n    esac \\\n && curl -f -Lo /ngrok.zip https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-$NGROKARCH.zip \\\n && unzip -o /ngrok.zip -d /bin \\\n && rm -f /ngrok.zip \\\n    # Create non-root user.\n && adduser -h /home/ngrok -D -u 6737 ngrok\n\n# Add config script.\nCOPY --chown=ngrok ngrok.yml /home/ngrok/.ngrok2/\nCOPY entrypoint.sh /\n\nUSER ngrok\nENV USER=ngrok\n\n# Basic sanity check.\nRUN ngrok --version\n\nEXPOSE 4040\n\nCMD [\"/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672633953525,"endTimestamp":1672633966480,"error":null,"stdout":"Sending build context to Docker daemon  90.11kB\r\r\nStep 1/12 : FROM alpine:3.12\n ---> 24c8ece58a1a\nStep 2/12 : MAINTAINER Werner Beroux <werner@beroux.com>\n ---> Running in 143e1ca44ddf\nRemoving intermediate container 143e1ca44ddf\n ---> 351b02720899\nStep 3/12 : ARG GLIBC_VERSION=2.31-r0\n ---> Running in 12519f206564\nRemoving intermediate container 12519f206564\n ---> ba53eedecccf\nStep 4/12 : RUN set -x  && apk add --no-cache -t .deps ca-certificates  && wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub  && wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-${GLIBC_VERSION}.apk  && apk add --no-cache glibc-${GLIBC_VERSION}.apk  && rm glibc-${GLIBC_VERSION}.apk  && apk del --purge .deps\n ---> Running in f76de45109bc\n\u001b[91m+ apk add --no-cache -t .deps ca-certificates\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing ca-certificates (20220614-r0)\n(2/2) Installing .deps (20230102.043234)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 6 MiB in 16 packages\n\u001b[91m+ wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\n\u001b[0m\u001b[91m+ wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.31-r0/glibc-2.31-r0.apk\n\u001b[0m\u001b[91mConnecting to github.com (140.82.121.4:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.110.133:443)\n\u001b[0m\u001b[91msaving to 'glibc-2.31-r0.apk'\n\u001b[0m\u001b[91mglibc-2.31-r0.apk    100% |********************************| 4308k  0:00:00 ETA\n'glibc-2.31-r0.apk' saved\n\u001b[0m\u001b[91m+ apk add --no-cache glibc-2.31-r0.apk\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing glibc (2.31-r0)\nOK: 15 MiB in 17 packages\n\u001b[91m+ rm glibc-2.31-r0.apk\n\u001b[0m\u001b[91m+ apk del --purge .deps\n\u001b[0m\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.12/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.12/community: No such file or directory\n\u001b[0m(1/2) Purging .deps (20230102.043234)\n(2/2) Purging ca-certificates (20220614-r0)\nExecuting ca-certificates-20220614-r0.post-deinstall\nExecuting busybox-1.31.1-r22.trigger\nOK: 14 MiB in 15 packages\nRemoving intermediate container f76de45109bc\n ---> 04a93651dae4\nStep 5/12 : RUN set -x  && apk add --no-cache curl  && APKARCH=\"$(apk --print-arch)\"  && case \"$APKARCH\" in       armhf)   NGROKARCH=\"arm\" ;;       armv7)   NGROKARCH=\"arm\" ;;       armel)   NGROKARCH=\"arm\" ;;       x86)     NGROKARCH=\"386\" ;;       x86_64)  NGROKARCH=\"amd64\" ;;     esac  && curl -f -Lo /ngrok.zip https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-$NGROKARCH.zip  && unzip -o /ngrok.zip -d /bin  && rm -f /ngrok.zip  && adduser -h /home/ngrok -D -u 6737 ngrok\n ---> Running in 44293f91a930\n\u001b[91m+ apk add --no-cache curl\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ca-certificates (20220614-r0)\n(2/4) Installing nghttp2-libs (1.41.0-r0)\n(3/4) Installing libcurl (7.79.1-r1)\n(4/4) Installing curl (7.79.1-r1)\nExecuting busybox-1.31.1-r22.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 16 MiB in 19 packages\n\u001b[91m+ apk --print-arch\n\u001b[0m\u001b[91m+ APKARCH=x86_64\n+ NGROKARCH=amd64\n+ curl -f -Lo /ngrok.zip https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip\n\u001b[0m\u001b[91m  % Total    % Receiv\u001b[0m\u001b[91med % Xferd  \u001b[0m\u001b[91mAverage Speed   Time\u001b[0m\u001b[91m    Time \u001b[0m\u001b[91m    Time \u001b[0m\u001b[91m Current\n  \u001b[0m\u001b[91m      \u001b[0m\u001b[91m      \u001b[0m\u001b[91m   \u001b[0m\u001b[91m    \u001b[0m\u001b[91m    \u001b[0m\u001b[91m   \u001b[0m\u001b[91m     Dlo\u001b[0m\u001b[91mad \u001b[0m\u001b[91m Up\u001b[0m\u001b[91mload\u001b[0m\u001b[91m   T\u001b[0m\u001b[91mota\u001b[0m\u001b[91ml  \u001b[0m\u001b[91m Spen\u001b[0m\u001b[91mt   \u001b[0m\u001b[91m Left  Spee\u001b[0m\u001b[91md\n\r  0   \u001b[0m\u001b[91m  0    0\u001b[0m\u001b[91m     0    \u001b[0m\u001b[91m0     \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m      0 \u001b[0m\u001b[91m--:--:-- --:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m:-- --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--     0\u001b[0m\u001b[91m\r  0 13.1M    0     0    0     0      0    \u001b[0m\u001b[91m  0 --:--:-- --:--:-\u001b[0m\u001b[91m- --:-\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m     0\u001b[0m\u001b[91m\r  9 13.1M    9 1219k    0     0   890k      \u001b[0m\u001b[91m0  0:00:15  0:00:01  0:00:14 \u001b[0m\u001b[91m 890k\u001b[0m\u001b[91m\r 66 13.1M   66 9027k    0    \u001b[0m\u001b[91m 0  3929k      0  0:00:03  0:00:\u001b[0m\u001b[91m02  0:00:\u001b[0m\u001b[91m01 3928k\u001b[0m\u001b[91m\r100 13.1M  100 13.1M    0    \u001b[0m\u001b[91m 0  4480k      \u001b[0m\u001b[91m0  0\u001b[0m\u001b[91m:00:\u001b[0m\u001b[91m03  \u001b[0m\u001b[91m0:00\u001b[0m\u001b[91m:03 \u001b[0m\u001b[91m--:--:-- \u001b[0m\u001b[91m4480k\n\u001b[0m\u001b[91m+ unzip -o /ngrok.zip -d /bin\n\u001b[0mArchive:  /ngrok.zip\n  inflating: ngrok\n\u001b[91m+ rm -f /ngrok.zip\n\u001b[0m\u001b[91m+ adduser -h /home/ngrok -D -u 6737 ngrok\n\u001b[0mRemoving intermediate container 44293f91a930\n ---> b32e862641f3\nStep 6/12 : COPY --chown=ngrok ngrok.yml /home/ngrok/.ngrok2/\n ---> dcc804f832c9\nStep 7/12 : COPY entrypoint.sh /\n ---> 4432d485c129\nStep 8/12 : USER ngrok\n ---> Running in c866c576e529\nRemoving intermediate container c866c576e529\n ---> cf7a8931b6da\nStep 9/12 : ENV USER=ngrok\n ---> Running in bded7c34e3de\nRemoving intermediate container bded7c34e3de\n ---> 94fcee115db8\nStep 10/12 : RUN ngrok --version\n ---> Running in fa34245b1263\nngrok version 2.3.40\nRemoving intermediate container fa34245b1263\n ---> fcd5fa569b4e\nStep 11/12 : EXPOSE 4040\n ---> Running in a21d5ba05bfd\nRemoving intermediate container a21d5ba05bfd\n ---> d283df22431e\nStep 12/12 : CMD [\"/entrypoint.sh\"]\n ---> Running in 521b9adf8cc4\nRemoving intermediate container 521b9adf8cc4\n ---> 84e5067268e0\nSuccessfully built 84e5067268e0\nSuccessfully tagged docker-ngrok:latest\n","stderr":"","imageSize":46401425},"endTime":1672633966761}