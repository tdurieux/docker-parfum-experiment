{"repository":"https://github.com/lensapp/bored","dockerfilePath":"Dockerfile","startTime":1672247601753,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lensapp/bored'...\n","error":null,"commit":"455588193f7ac9094bb61b8b1b32de0f14268574"},"originalBuild":{"startTimestamp":1672247602712,"endTimestamp":1672247684424,"error":null,"stdout":"Sending build context to Docker daemon  953.3kB\r\r\nStep 1/14 : FROM node:16-alpine as build\n16-alpine: Pulling from library/node\nc158987b0551: Already exists\ne15b2da73907: Pulling fs layer\n90461d7cfbbe: Pulling fs layer\n06b1a47b9f99: Pulling fs layer\n06b1a47b9f99: Download complete\n90461d7cfbbe: Verifying Checksum\n90461d7cfbbe: Download complete\ne15b2da73907: Verifying Checksum\ne15b2da73907: Download complete\ne15b2da73907: Pull complete\n90461d7cfbbe: Pull complete\n06b1a47b9f99: Pull complete\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16-alpine\n ---> 610c0494e820\nStep 2/14 : RUN mkdir /app\n ---> Running in 161f56c84c33\nRemoving intermediate container 161f56c84c33\n ---> 553bd03d9212\nStep 3/14 : WORKDIR /app\n ---> Running in 65ac8fad4606\nRemoving intermediate container 65ac8fad4606\n ---> b57cce505a13\nStep 4/14 : COPY . /app\n ---> cf73581acec7\nStep 5/14 : RUN apk add --update python3 gcc g++ make &&     yarn install --frozen-lockfile &&     yarn dist &&     yarn install --frozen-lockfile --prod\n ---> Running in 67d5e982f7fa\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.0-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 20.90s.\nyarn run v1.22.19\n$ yarn tsc\n$ /app/node_modules/.bin/tsc\nDone in 2.96s.\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 2.04s.\nRemoving intermediate container 67d5e982f7fa\n ---> 4f2daa46c835\nStep 6/14 : FROM node:16-alpine\n ---> 610c0494e820\nStep 7/14 : RUN mkdir /app   && addgroup -S bored && adduser -S bored -G bored\n ---> Running in 5707a8afafdb\nRemoving intermediate container 5707a8afafdb\n ---> f5115b0a302c\nStep 8/14 : WORKDIR /app\n ---> Running in 2f7ebc80ad27\nRemoving intermediate container 2f7ebc80ad27\n ---> fc68b64e2de9\nStep 9/14 : COPY package.json yarn.lock ./\n ---> 9b7c83e20b3c\nStep 10/14 : COPY --from=build /app/node_modules /app/node_modules\n ---> b5219ef467cb\nStep 11/14 : COPY --from=build /app/dist /app/dist\n ---> 81a7e4ead7ac\nStep 12/14 : USER bored\n ---> Running in 327d9c46db2f\nRemoving intermediate container 327d9c46db2f\n ---> 626073de7b66\nStep 13/14 : ENTRYPOINT [ \"/usr/local/bin/node\" ]\n ---> Running in a54a36897685\nRemoving intermediate container a54a36897685\n ---> 7f64305b94ed\nStep 14/14 : CMD [\"/app/dist/index.js\"]\n ---> Running in 53a7d68c4f4f\nRemoving intermediate container 53a7d68c4f4f\n ---> 5da0600f4a8d\nSuccessfully built 5da0600f4a8d\nSuccessfully tagged bored:latest\n","stderr":"","imageSize":127458195},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":41}}],"repairedDockerfile":"FROM node:16-alpine as build\n\nRUN mkdir /app\nWORKDIR /app\n\nCOPY . /app\nRUN apk add --no-cache --update python3 gcc g++ make && \\\n    yarn install --frozen-lockfile && \\\n    yarn dist && \\\n    yarn install --frozen-lockfile --prod\n\nFROM node:16-alpine\n\nRUN mkdir /app \\\n  && addgroup -S bored && adduser -S bored -G bored\nWORKDIR /app\n\nCOPY package.json yarn.lock ./\nCOPY --from=build /app/node_modules /app/node_modules\nCOPY --from=build /app/dist /app/dist\n\nUSER bored\nENTRYPOINT [ \"/usr/local/bin/node\" ]\nCMD [\"/app/dist/index.js\"]\n"},"repairedBuild":{"startTimestamp":1672247685026,"endTimestamp":1672247780719,"error":null,"stdout":"Sending build context to Docker daemon  953.3kB\r\r\nStep 1/14 : FROM node:16-alpine as build\n ---> 610c0494e820\nStep 2/14 : RUN mkdir /app\n ---> Running in 4c87d1455842\nRemoving intermediate container 4c87d1455842\n ---> 8281a0b30e6a\nStep 3/14 : WORKDIR /app\n ---> Running in 59553b496da2\nRemoving intermediate container 59553b496da2\n ---> 6c02c29b5ca7\nStep 4/14 : COPY . /app\n ---> 10a5c6897223\nStep 5/14 : RUN apk add --no-cache --update python3 gcc g++ make &&     yarn install --frozen-lockfile &&     yarn dist &&     yarn install --frozen-lockfile --prod\n ---> Running in 6bc71f34c7dd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.0-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 17.44s.\nyarn run v1.22.19\n$ yarn tsc\n$ /app/node_modules/.bin/tsc\nDone in 2.39s.\nyarn install v1.22.19\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nDone in 1.87s.\nRemoving intermediate container 6bc71f34c7dd\n ---> e34a9151d98e\nStep 6/14 : FROM node:16-alpine\n ---> 610c0494e820\nStep 7/14 : RUN mkdir /app   && addgroup -S bored && adduser -S bored -G bored\n ---> Running in 05c99d2068b8\nRemoving intermediate container 05c99d2068b8\n ---> 51cf73c7bcff\nStep 8/14 : WORKDIR /app\n ---> Running in fe9c839c3195\nRemoving intermediate container fe9c839c3195\n ---> e739788f3485\nStep 9/14 : COPY package.json yarn.lock ./\n ---> 63075203e335\nStep 10/14 : COPY --from=build /app/node_modules /app/node_modules\n ---> 45e858b87127\nStep 11/14 : COPY --from=build /app/dist /app/dist\n ---> 7d919a6a0ea9\nStep 12/14 : USER bored\n ---> Running in c9b3aedee7b5\nRemoving intermediate container c9b3aedee7b5\n ---> 3f57e8e81b0d\nStep 13/14 : ENTRYPOINT [ \"/usr/local/bin/node\" ]\n ---> Running in e919497e408a\nRemoving intermediate container e919497e408a\n ---> 995b5f6c6d07\nStep 14/14 : CMD [\"/app/dist/index.js\"]\n ---> Running in 4bac164db275\nRemoving intermediate container 4bac164db275\n ---> 3d08dd73736a\nSuccessfully built 3d08dd73736a\nSuccessfully tagged bored:latest\n","stderr":"","imageSize":127458195},"endTime":1672247780952}