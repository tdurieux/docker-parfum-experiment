{"repository":"https://github.com/kartuludus/poraclejs","dockerfilePath":"Dockerfile","startTime":1672550594931,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kartuludus/poraclejs'...\n","error":null,"commit":"e64dc9a6b5b864f53a50144a141c82be12cb60b5"},"originalBuild":{"startTimestamp":1672550596138,"endTimestamp":1672550698761,"error":null,"stdout":"Sending build context to Docker daemon   3.49MB\r\r\nStep 1/7 : FROM node:16-alpine\n16-alpine: Pulling from library/node\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16-alpine\n ---> 610c0494e820\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 215510134bd3\nRemoving intermediate container 215510134bd3\n ---> f7b18927b9bd\nStep 3/7 : ADD . ./\n ---> 5620ae50debe\nStep 4/7 : ENV HUSKY_SKIP_INSTALL=1\n ---> Running in aeaa58ac1c32\nRemoving intermediate container aeaa58ac1c32\n ---> 501bcf11d29c\nStep 5/7 : RUN apk add git     && apk add --no-cache --virtual .gyp         python3         make         g++     && npm install     && apk del .gyp\n ---> Running in 58155f348c92\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libbz2 (1.0.8-r4)\n(2/24) Installing libffi (3.4.4-r0)\n(3/24) Installing gdbm (1.23-r0)\n(4/24) Installing xz-libs (5.2.9-r0)\n(5/24) Installing mpdecimal (2.5.1-r1)\n(6/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(7/24) Installing ncurses-libs (6.3_p20221119-r0)\n(8/24) Installing readline (8.2.0-r0)\n(9/24) Installing sqlite-libs (3.40.1-r0)\n(10/24) Installing python3 (3.10.9-r1)\n(11/24) Installing make (4.3-r1)\n(12/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(13/24) Installing binutils (2.39-r2)\n(14/24) Installing libgomp (12.2.1_git20220924-r4)\n(15/24) Installing libatomic (12.2.1_git20220924-r4)\n(16/24) Installing gmp (6.2.1-r2)\n(17/24) Installing isl25 (0.25-r0)\n(18/24) Installing mpfr4 (4.1.0-r0)\n(19/24) Installing mpc1 (1.2.1-r1)\n(20/24) Installing gcc (12.2.1_git20220924-r4)\n(21/24) Installing musl-dev (1.2.3-r4)\n(22/24) Installing libc-dev (0.7.2-r3)\n(23/24) Installing g++ (12.2.1_git20220924-r4)\n(24/24) Installing .gyp (20230101.052337)\nExecuting busybox-1.35.0-r29.trigger\nOK: 295 MiB in 48 packages\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated gulp-header@1.8.12: Removed event-stream from gulp-header\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated text-encoding@0.6.4: no longer maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/collection@0.7.0: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/builders@0.16.0: no longer supported\n\u001b[0m\n> poracle@4.5.6 prepare\n> husky install\n\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\nadded 689 packages, and audited 690 packages in 60s\n\n88 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (3 moderate, 8 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0m(1/24) Purging .gyp (20230101.052337)\n(2/24) Purging python3 (3.10.9-r1)\n(3/24) Purging make (4.3-r1)\n(4/24) Purging g++ (12.2.1_git20220924-r4)\n(5/24) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(6/24) Purging gcc (12.2.1_git20220924-r4)\n(7/24) Purging binutils (2.39-r2)\n(8/24) Purging libatomic (12.2.1_git20220924-r4)\n(9/24) Purging libgomp (12.2.1_git20220924-r4)\n(10/24) Purging libc-dev (0.7.2-r3)\n(11/24) Purging musl-dev (1.2.3-r4)\n(12/24) Purging libbz2 (1.0.8-r4)\n(13/24) Purging libffi (3.4.4-r0)\n(14/24) Purging gdbm (1.23-r0)\n(15/24) Purging xz-libs (5.2.9-r0)\n(16/24) Purging mpdecimal (2.5.1-r1)\n(17/24) Purging readline (8.2.0-r0)\n(18/24) Purging ncurses-libs (6.3_p20221119-r0)\n(19/24) Purging ncurses-terminfo-base (6.3_p20221119-r0)\n(20/24) Purging sqlite-libs (3.40.1-r0)\n(21/24) Purging isl25 (0.25-r0)\n(22/24) Purging mpc1 (1.2.1-r1)\n(23/24) Purging mpfr4 (4.1.0-r0)\n(24/24) Purging gmp (6.2.1-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 18 MiB in 24 packages\nRemoving intermediate container 58155f348c92\n ---> 61ff12ad9ce7\nStep 6/7 : EXPOSE 3030\n ---> Running in 8574e954a321\nRemoving intermediate container 8574e954a321\n ---> 7c63afc2d5a7\nStep 7/7 : CMD npm start\n ---> Running in b3e5dda04b86\nRemoving intermediate container b3e5dda04b86\n ---> 1a42a2192cfb\nSuccessfully built 1a42a2192cfb\nSuccessfully tagged poraclejs:latest\n","stderr":"","imageSize":331143279},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":7,"columnEnd":18}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:16-alpine\n\nWORKDIR /usr/src/app\nADD . ./\n# DEPS\nENV HUSKY_SKIP_INSTALL=1\nRUN apk add --no-cache git \\\n    && apk add --no-cache --virtual .gyp \\\n        python3 \\\n        make \\\n        g++ \\\n    && npm install \\\n    && apk del .gyp\nEXPOSE 3030\nCMD npm start\n"},"repairedBuild":{"startTimestamp":1672550699676,"endTimestamp":1672550791197,"error":null,"stdout":"Sending build context to Docker daemon   3.49MB\r\r\nStep 1/7 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 67df5b95c27a\nRemoving intermediate container 67df5b95c27a\n ---> d951d69faec8\nStep 3/7 : ADD . ./\n ---> ce78f6c44b4d\nStep 4/7 : ENV HUSKY_SKIP_INSTALL=1\n ---> Running in d7862d95c733\nRemoving intermediate container d7862d95c733\n ---> c45fffad5306\nStep 5/7 : RUN apk add --no-cache git     && apk add --no-cache --virtual .gyp         python3         make         g++     && npm install     && apk del .gyp\n ---> Running in 3b394521c083\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r3)\n(2/7) Installing brotli-libs (1.0.9-r9)\n(3/7) Installing nghttp2-libs (1.51.0-r0)\n(4/7) Installing libcurl (7.87.0-r0)\n(5/7) Installing libexpat (2.5.0-r0)\n(6/7) Installing pcre2 (10.42-r0)\n(7/7) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 18 MiB in 24 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libbz2 (1.0.8-r4)\n(2/24) Installing libffi (3.4.4-r0)\n(3/24) Installing gdbm (1.23-r0)\n(4/24) Installing xz-libs (5.2.9-r0)\n(5/24) Installing mpdecimal (2.5.1-r1)\n(6/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(7/24) Installing ncurses-libs (6.3_p20221119-r0)\n(8/24) Installing readline (8.2.0-r0)\n(9/24) Installing sqlite-libs (3.40.1-r0)\n(10/24) Installing python3 (3.10.9-r1)\n(11/24) Installing make (4.3-r1)\n(12/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(13/24) Installing binutils (2.39-r2)\n(14/24) Installing libgomp (12.2.1_git20220924-r4)\n(15/24) Installing libatomic (12.2.1_git20220924-r4)\n(16/24) Installing gmp (6.2.1-r2)\n(17/24) Installing isl25 (0.25-r0)\n(18/24) Installing mpfr4 (4.1.0-r0)\n(19/24) Installing mpc1 (1.2.1-r1)\n(20/24) Installing gcc (12.2.1_git20220924-r4)\n(21/24) Installing musl-dev (1.2.3-r4)\n(22/24) Installing libc-dev (0.7.2-r3)\n(23/24) Installing g++ (12.2.1_git20220924-r4)\n(24/24) Installing .gyp (20230101.052507)\nExecuting busybox-1.35.0-r29.trigger\nOK: 295 MiB in 48 packages\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated gulp-header@1.8.12: Removed event-stream from gulp-header\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/collection@0.7.0: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated text-encoding@0.6.4: no longer maintained\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/builders@0.16.0: no longer supported\n\u001b[0m\n> poracle@4.5.6 prepare\n> husky install\n\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\nadded 689 packages, and audited 690 packages in 27s\n\n88 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (3 moderate, 8 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/24) Purging .gyp (20230101.052507)\n(2/24) Purging python3 (3.10.9-r1)\n(3/24) Purging make (4.3-r1)\n(4/24) Purging g++ (12.2.1_git20220924-r4)\n(5/24) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(6/24) Purging gcc (12.2.1_git20220924-r4)\n(7/24) Purging binutils (2.39-r2)\n(8/24) Purging libatomic (12.2.1_git20220924-r4)\n(9/24) Purging libgomp (12.2.1_git20220924-r4)\n(10/24) Purging libc-dev (0.7.2-r3)\n(11/24) Purging musl-dev (1.2.3-r4)\n(12/24) Purging libbz2 (1.0.8-r4)\n(13/24) Purging libffi (3.4.4-r0)\n(14/24) Purging gdbm (1.23-r0)\n(15/24) Purging xz-libs (5.2.9-r0)\n(16/24) Purging mpdecimal (2.5.1-r1)\n(17/24) Purging readline (8.2.0-r0)\n(18/24) Purging ncurses-libs (6.3_p20221119-r0)\n(19/24) Purging ncurses-terminfo-base (6.3_p20221119-r0)\n(20/24) Purging sqlite-libs (3.40.1-r0)\n(21/24) Purging isl25 (0.25-r0)\n(22/24) Purging mpc1 (1.2.1-r1)\n(23/24) Purging mpfr4 (4.1.0-r0)\n(24/24) Purging gmp (6.2.1-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 18 MiB in 24 packages\nRemoving intermediate container 3b394521c083\n ---> f946866efd21\nStep 6/7 : EXPOSE 3030\n ---> Running in a241684b299b\nRemoving intermediate container a241684b299b\n ---> be1b21df4836\nStep 7/7 : CMD npm start\n ---> Running in 30ed6748312a\nRemoving intermediate container 30ed6748312a\n ---> bcbb4ae5b892\nSuccessfully built bcbb4ae5b892\nSuccessfully tagged poraclejs:latest\n","stderr":"","imageSize":328560549},"endTime":1672550798263}