{"repository":"https://github.com/luisalejandro/movie-box","dockerfilePath":"Dockerfile","startTime":1672214005119,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/luisalejandro/movie-box'...\n","error":null,"commit":"c37763eaa639f2c21da59822c8112d8a7f2eae6e"},"originalBuild":{"startTimestamp":1672214005993,"endTimestamp":1672214038942,"error":null,"stdout":"Sending build context to Docker daemon  1.205MB\r\r\nStep 1/13 : FROM dockershelf/node:14\n14: Pulling from dockershelf/node\n4d367356a931: Pulling fs layer\n02933595bdc2: Pulling fs layer\nfebf74f461a7: Pulling fs layer\n02933595bdc2: Download complete\nfebf74f461a7: Verifying Checksum\nfebf74f461a7: Download complete\n4d367356a931: Verifying Checksum\n4d367356a931: Download complete\n4d367356a931: Pull complete\n02933595bdc2: Pull complete\nfebf74f461a7: Pull complete\nDigest: sha256:0e654a0a8073bfa8e64f447401337428bc9ee7647df504ddd46b7baf4411f800\nStatus: Downloaded newer image for dockershelf/node:14\n ---> 2b7120dad9c2\nStep 2/13 : LABEL maintainer \"Luis Alejandro Martínez Faneyth <luis@collagelabs.org>\"\n ---> Running in d699a7d76aac\nRemoving intermediate container d699a7d76aac\n ---> 1f88e96f69fa\nStep 3/13 : RUN apt-get update &&     apt-get install gnupg dirmngr sudo\n ---> Running in b9908822688e\nGet:1 http://deb.debian.org/debian sid InRelease [161 kB]\nGet:2 http://deb.debian.org/debian sid/main amd64 Packages [9,382 kB]\nGet:3 https://deb.nodesource.com/node_14.x sid InRelease [4,581 B]\nGet:4 https://deb.nodesource.com/node_14.x sid/main amd64 Packages [772 B]\nFetched 9,548 kB in 1s (7,489 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngnupg is already the newest version (2.2.40-1).\ndirmngr is already the newest version (2.2.40-1).\nsudo is already the newest version (1.9.11p3-2).\n0 upgraded, 0 newly installed, 0 to remove and 23 not upgraded.\nRemoving intermediate container b9908822688e\n ---> 92cb36487b13\nStep 4/13 : RUN dirmngr --debug-level guru\n ---> Running in fb81b551b8ad\n\u001b[91mdirmngr[7]: enabled debug flags: x509 crypto memory cache memstat hashing ipc dns network lookup extprog\n\u001b[0m\u001b[91mdirmngr[7.0]: error loading certificate '/etc/ssl/certs/ca-certificates.crt': Certificate expired\n\u001b[0m\u001b[91mdirmngr[7.0]: error loading certificate '/etc/ssl/certs/ca-certificates.crt': Certificate expired\n\u001b[0m\u001b[91mdirmngr[7.0]: error loading certificate '/etc/ssl/certs/ca-certificates.crt': Certificate expired\n\u001b[0m\u001b[91mdirmngr[7.0]: permanently loaded certificates: 124\ndirmngr[7.0]:     runtime cached certificates: 0\ndirmngr[7.0]:            trusted certificates: 124 (124,0,0,0)\n\u001b[0m\u001b[91mdirmngr[7.0]: DBG: chan_3 -> # Home: /root/.gnupg\ndirmngr[7.0]: DBG: chan_3 -> # Config: /root/.gnupg/dirmngr.conf\ndirmngr[7.0]: DBG: chan_3 -> OK Dirmngr 2.2.40 at your service\n\u001b[0m\u001b[91mdirmngr[7.0]: DBG: chan_3 <- [eof]\n\u001b[0m# Home: /root/.gnupg\n# Config: /root/.gnupg/dirmngr.conf\nOK Dirmngr 2.2.40 at your service\nRemoving intermediate container fb81b551b8ad\n ---> 75219b378131\nStep 5/13 : RUN gpg --lock-never --no-default-keyring         --keyring /usr/share/keyrings/yarn.gpg         --keyserver hkp://keyserver.ubuntu.com:80         --recv-keys 23E7166788B63E1E\n ---> Running in e98ed2cddb69\n\u001b[91mgpg: keybox '/usr/share/keyrings/yarn.gpg' created\n\u001b[0m\u001b[91mgpg: key 1646B01B86E50310: 7 duplicate signatures removed\n\u001b[0m\u001b[91mgpg: key 1646B01B86E50310: public key \"Yarn Packaging <yarn@dan.cx>\" imported\n\u001b[0m\u001b[91mgpg: Total number processed: 1\ngpg:               imported: 1\n\u001b[0mRemoving intermediate container e98ed2cddb69\n ---> e82f19182c23\nStep 6/13 : RUN echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/yarn.gpg] https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list\n ---> Running in 03a0fb1dc365\ndeb [arch=amd64 signed-by=/usr/share/keyrings/yarn.gpg] https://dl.yarnpkg.com/debian/ stable main\nRemoving intermediate container 03a0fb1dc365\n ---> 473b3de119f4\nStep 7/13 : RUN apt-get update &&     apt-get install yarn\n ---> Running in 4677268f7c9a\nHit:1 http://deb.debian.org/debian sid InRelease\nHit:2 https://deb.nodesource.com/node_14.x sid InRelease\nGet:3 https://dl.yarnpkg.com/debian stable InRelease [17.1 kB]\nGet:4 https://dl.yarnpkg.com/debian stable/main amd64 Packages [10.9 kB]\nGet:5 https://dl.yarnpkg.com/debian stable/main all Packages [10.9 kB]\nFetched 38.9 kB in 1s (75.0 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  yarn\n0 upgraded, 1 newly installed, 0 to remove and 23 not upgraded.\nNeed to get 893 kB of archives.\nAfter this operation, 5,415 kB of additional disk space will be used.\nGet:1 https://dl.yarnpkg.com/debian stable/main amd64 yarn all 1.22.19-1 [893 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 893 kB in 0s (4,286 kB/s)\nSelecting previously unselected package yarn.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 16670 files and directories currently installed.)\r\nPreparing to unpack .../yarn_1.22.19-1_all.deb ...\r\nUnpacking yarn (1.22.19-1) ...\r\nSetting up yarn (1.22.19-1) ...\r\nRemoving intermediate container 4677268f7c9a\n ---> 8741c6b1abad\nStep 8/13 : RUN useradd -ms /bin/bash moviebox\n ---> Running in 6179c681b476\nRemoving intermediate container 6179c681b476\n ---> 25bf10bec1fb\nStep 9/13 : RUN echo \"moviebox ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/moviebox\n ---> Running in e1c8066cf57b\nRemoving intermediate container e1c8066cf57b\n ---> 80007fd36fe5\nStep 10/13 : USER moviebox\n ---> Running in 7dbc78ad8d50\nRemoving intermediate container 7dbc78ad8d50\n ---> 5f2dea19f0dd\nStep 11/13 : RUN mkdir -p /home/moviebox/app\n ---> Running in 744fa153660f\nRemoving intermediate container 744fa153660f\n ---> 2bed8dfd9b66\nStep 12/13 : WORKDIR /home/moviebox/app\n ---> Running in fb286432cf33\nRemoving intermediate container fb286432cf33\n ---> 6bdbe07831fd\nStep 13/13 : CMD tail -f /dev/null\n ---> Running in ea3dea08cacc\nRemoving intermediate container ea3dea08cacc\n ---> 0647ca94cd3c\nSuccessfully built 0647ca94cd3c\nSuccessfully tagged movie-box:latest\n","stderr":"","imageSize":309638102},"repair":{"violations":[{"name":"gpgUseBatchFlag","position":{"start":8,"end":11,"columnStart":4,"columnEnd":36}},{"name":"ruleAptGetInstallUseY","position":{"start":4,"end":4,"columnStart":4,"columnEnd":38}},{"name":"ruleAptGetInstallUseY","position":{"start":15,"end":15,"columnStart":4,"columnEnd":24}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":4,"columnEnd":38}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":15,"end":15,"columnStart":4,"columnEnd":24}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":4,"columnStart":4,"columnEnd":38}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":15,"end":15,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"FROM dockershelf/node:14\nLABEL maintainer \"Luis Alejandro Martínez Faneyth <luis@collagelabs.org>\"\n\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends gnupg dirmngr sudo\n\nRUN dirmngr --debug-level guru\n\nRUN gpg --batch --lock-never --no-default-keyring \\\n        --keyring /usr/share/keyrings/yarn.gpg \\\n        --keyserver hkp://keyserver.ubuntu.com:80 \\\n        --recv-keys 23E7166788B63E1E\nRUN echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/yarn.gpg] https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list\n\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends yarn\n\nRUN useradd -ms /bin/bash moviebox\nRUN echo \"moviebox ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/moviebox\n\nUSER moviebox\n\nRUN mkdir -p /home/moviebox/app\n\nWORKDIR /home/moviebox/app\n\nCMD tail -f /dev/null\n"},"repairedBuild":{"startTimestamp":1672214039312,"endTimestamp":1672214070391,"error":null,"stdout":"Sending build context to Docker daemon  1.205MB\r\r\nStep 1/13 : FROM dockershelf/node:14\n ---> 2b7120dad9c2\nStep 2/13 : LABEL maintainer \"Luis Alejandro Martínez Faneyth <luis@collagelabs.org>\"\n ---> Running in 5403cd5bf4af\nRemoving intermediate container 5403cd5bf4af\n ---> 1076366a69dd\nStep 3/13 : RUN apt-get update &&     apt-get install -y --no-install-recommends gnupg dirmngr sudo\n ---> Running in ac3875b4b555\nGet:1 http://deb.debian.org/debian sid InRelease [161 kB]\nGet:2 https://deb.nodesource.com/node_14.x sid InRelease [4,581 B]\nGet:3 http://deb.debian.org/debian sid/main amd64 Packages [9,382 kB]\nGet:4 https://deb.nodesource.com/node_14.x sid/main amd64 Packages [772 B]\nFetched 9,548 kB in 2s (5,488 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngnupg is already the newest version (2.2.40-1).\ndirmngr is already the newest version (2.2.40-1).\nsudo is already the newest version (1.9.11p3-2).\n0 upgraded, 0 newly installed, 0 to remove and 23 not upgraded.\nRemoving intermediate container ac3875b4b555\n ---> da1b96809de4\nStep 4/13 : RUN dirmngr --debug-level guru\n ---> Running in 6bb4885a2aea\n\u001b[91mdirmngr[7]: enabled debug flags: x509 crypto memory cache memstat hashing ipc dns network lookup extprog\n\u001b[0m\u001b[91mdirmngr[7.0]: error loading certificate '/etc/ssl/certs/ca-certificates.crt': Certificate expired\n\u001b[0m\u001b[91mdirmngr[7.0]: error loading certificate '/etc/ssl/certs/ca-certificates.crt': Certificate expired\n\u001b[0m\u001b[91mdirmngr[7.0]: error loading certificate '/etc/ssl/certs/ca-certificates.crt': Certificate expired\n\u001b[0m\u001b[91mdirmngr[7.0]: permanently loaded certificates: 124\ndirmngr[7.0]:     runtime cached certificates: 0\ndirmngr[7.0]:            trusted certificates: 124 (124,0,0,0)\ndirmngr[7.0]: DBG: chan_3 -> # Home: /root/.gnupg\ndirmngr[7.0]: DBG: chan_3 -> # Config: /root/.gnupg/dirmngr.conf\ndirmngr[7.0]: DBG: chan_3 -> OK Dirmngr 2.2.40 at your service\ndirmngr[7.0]: DBG: chan_3 <- [eof]\n\u001b[0m# Home: /root/.gnupg\n# Config: /root/.gnupg/dirmngr.conf\nOK Dirmngr 2.2.40 at your service\nRemoving intermediate container 6bb4885a2aea\n ---> 8031e116cedc\nStep 5/13 : RUN gpg --batch --lock-never --no-default-keyring         --keyring /usr/share/keyrings/yarn.gpg         --keyserver hkp://keyserver.ubuntu.com:80         --recv-keys 23E7166788B63E1E\n ---> Running in 5c2a23437a56\n\u001b[91mgpg: keybox '/usr/share/keyrings/yarn.gpg' created\n\u001b[0m\u001b[91mgpg: key 1646B01B86E50310: 7 duplicate signatures removed\n\u001b[0m\u001b[91mgpg: key 1646B01B86E50310: public key \"Yarn Packaging <yarn@dan.cx>\" imported\n\u001b[0m\u001b[91mgpg: Total number processed: 1\ngpg:               imported: 1\n\u001b[0mRemoving intermediate container 5c2a23437a56\n ---> ada6fb9fe6cc\nStep 6/13 : RUN echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/yarn.gpg] https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list\n ---> Running in e72f91bfa57f\ndeb [arch=amd64 signed-by=/usr/share/keyrings/yarn.gpg] https://dl.yarnpkg.com/debian/ stable main\nRemoving intermediate container e72f91bfa57f\n ---> 3d6a8f3e26c0\nStep 7/13 : RUN apt-get update &&     apt-get install -y --no-install-recommends yarn\n ---> Running in bed7a5a7d1ea\nHit:1 http://deb.debian.org/debian sid InRelease\nHit:2 https://deb.nodesource.com/node_14.x sid InRelease\nGet:3 https://dl.yarnpkg.com/debian stable InRelease [17.1 kB]\nGet:4 https://dl.yarnpkg.com/debian stable/main all Packages [10.9 kB]\nGet:5 https://dl.yarnpkg.com/debian stable/main amd64 Packages [10.9 kB]\nFetched 38.9 kB in 0s (78.6 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  yarn\n0 upgraded, 1 newly installed, 0 to remove and 23 not upgraded.\nNeed to get 893 kB of archives.\nAfter this operation, 5,415 kB of additional disk space will be used.\nGet:1 https://dl.yarnpkg.com/debian stable/main amd64 yarn all 1.22.19-1 [893 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 893 kB in 0s (10.6 MB/s)\nSelecting previously unselected package yarn.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 16670 files and directories currently installed.)\r\nPreparing to unpack .../yarn_1.22.19-1_all.deb ...\r\nUnpacking yarn (1.22.19-1) ...\r\nSetting up yarn (1.22.19-1) ...\r\nRemoving intermediate container bed7a5a7d1ea\n ---> 0cc287b3e72a\nStep 8/13 : RUN useradd -ms /bin/bash moviebox\n ---> Running in 7fcbe7d7350b\nRemoving intermediate container 7fcbe7d7350b\n ---> 845115274966\nStep 9/13 : RUN echo \"moviebox ALL=(ALL) NOPASSWD: ALL\" > /etc/sudoers.d/moviebox\n ---> Running in 0bf41a9d5df9\nRemoving intermediate container 0bf41a9d5df9\n ---> 225c81330b4e\nStep 10/13 : USER moviebox\n ---> Running in 03b59d653590\nRemoving intermediate container 03b59d653590\n ---> 9025bf5f034d\nStep 11/13 : RUN mkdir -p /home/moviebox/app\n ---> Running in 6ba7f48be3ed\nRemoving intermediate container 6ba7f48be3ed\n ---> d1b2566f8a27\nStep 12/13 : WORKDIR /home/moviebox/app\n ---> Running in e9cd288b97af\nRemoving intermediate container e9cd288b97af\n ---> 38f9b3ff41e9\nStep 13/13 : CMD tail -f /dev/null\n ---> Running in b6182218cf24\nRemoving intermediate container b6182218cf24\n ---> 334d9a1b0e11\nSuccessfully built 334d9a1b0e11\nSuccessfully tagged movie-box:latest\n","stderr":"","imageSize":309638129},"endTime":1672214070647}