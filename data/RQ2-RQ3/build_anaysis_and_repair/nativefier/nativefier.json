{"repository":"https://github.com/nativefier/nativefier","dockerfilePath":"Dockerfile","startTime":1672361653977,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nativefier/nativefier'...\n","error":null,"commit":"8d3396acc354e75a3813bddd221fe5d26c49f8fe"},"originalBuild":{"startTimestamp":1672361655125,"endTimestamp":1672361791381,"error":{"code":127,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t nativefier:latest -f /tmp/dinghy-analysis/nativefier/nativefier/Dockerfile ."},"stdout":"Sending build context to Docker daemon  993.8kB\r\r\nStep 1/16 : FROM node:lts-alpine\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/16 : LABEL description=\"Alpine image to build Nativefier apps\"\n ---> Running in 90a11c0dfe2c\nRemoving intermediate container 90a11c0dfe2c\n ---> e315c2b3aaf2\nStep 3/16 : RUN apk update     && apk add bash wine imagemagick dos2unix     && rm -rf /var/cache/apk/*     && mkdir /nativefier && chown node:node /nativefier\n ---> Running in 31738c3f93e2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/107) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/107) Installing ncurses-libs (6.3_p20221119-r0)\n(3/107) Installing readline (8.2.0-r0)\n(4/107) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/107) Installing dos2unix (7.4.3-r1)\n(6/107) Installing libxau (1.0.10-r0)\n(7/107) Installing libmd (1.0.4-r0)\n(8/107) Installing libbsd (0.11.7-r0)\n(9/107) Installing libxdmcp (1.1.4-r0)\n(10/107) Installing libxcb (1.15-r0)\n(11/107) Installing libx11 (1.8.3-r0)\n(12/107) Installing libxext (1.3.5-r0)\n(13/107) Installing libbz2 (1.0.8-r4)\n(14/107) Installing libexpat (2.5.0-r0)\n(15/107) Installing brotli-libs (1.0.9-r9)\n(16/107) Installing libpng (1.6.38-r0)\n(17/107) Installing freetype (2.12.1-r0)\n(18/107) Installing fontconfig (2.14.1-r0)\n(19/107) Installing lcms2 (2.14-r0)\n(20/107) Installing libltdl (2.4.7-r0)\n(21/107) Installing xz-libs (5.2.9-r0)\n(22/107) Installing libxml2 (2.10.3-r1)\n(23/107) Installing imagemagick-libs (7.1.0.52-r0)\n(24/107) Installing libxrender (0.9.11-r0)\n(25/107) Installing pixman (0.42.2-r0)\n(26/107) Installing cairo (1.17.6-r3)\n(27/107) Installing libffi (3.4.4-r0)\n(28/107) Installing libintl (0.21.1-r1)\n(29/107) Installing libblkid (2.38.1-r0)\n(30/107) Installing libmount (2.38.1-r0)\n(31/107) Installing pcre2 (10.42-r0)\n(32/107) Installing glib (2.74.4-r0)\n(33/107) Installing dbus-libs (1.14.4-r0)\n(34/107) Installing avahi-libs (0.8-r6)\n(35/107) Installing gmp (6.2.1-r2)\n(36/107) Installing nettle (3.8.1-r0)\n(37/107) Installing p11-kit (0.24.1-r1)\n(38/107) Installing libtasn1 (4.19.0-r0)\n(39/107) Installing libunistring (1.1-r0)\n(40/107) Installing gnutls (3.7.8-r2)\n(41/107) Installing cups-libs (2.4.2-r1)\n(42/107) Installing jbig2dec (0.19-r1)\n(43/107) Installing libjpeg-turbo (2.1.4-r0)\n(44/107) Installing libwebp (1.2.4-r1)\n(45/107) Installing zstd-libs (1.5.2-r9)\n(46/107) Installing tiff (4.4.0-r1)\n(47/107) Installing ghostscript (10.0.0-r0)\n(48/107) Installing aom-libs (3.5.0-r0)\n(49/107) Installing libde265 (1.0.9-r0)\n(50/107) Installing numactl (2.0.16-r0)\n(51/107) Installing x265-libs (3.5-r3)\n(52/107) Installing libheif (1.13.0-r0)\n(53/107) Installing libjxl (0.7.0-r0)\n(54/107) Installing cairo-gobject (1.17.6-r3)\n(55/107) Installing pkgconf (1.9.3-r0)\n(56/107) Installing shared-mime-info (2.2-r2)\n(57/107) Installing gdk-pixbuf (2.42.10-r0)\n(58/107) Installing libxft (2.3.7-r0)\n(59/107) Installing fribidi (1.0.12-r0)\n(60/107) Installing graphite2 (1.3.14-r2)\n(61/107) Installing harfbuzz (5.3.1-r1)\n(62/107) Installing pango (1.50.12-r0)\n(63/107) Installing librsvg (2.55.1-r0)\n(64/107) Installing imagemagick (7.1.0.52-r0)\n(65/107) Installing opencl (2022.09.30-r0)\n(66/107) Installing alsa-lib (1.2.8-r0)\n(67/107) Installing libexif (0.6.24-r0)\n(68/107) Installing libusb (1.0.26-r0)\n(69/107) Installing libgphoto2 (2.5.30-r0)\nExecuting libgphoto2-2.5.30-r0.pre-install\n(70/107) Installing mesa (22.2.5-r0)\n(71/107) Installing hwdata-pci (0.364-r0)\n(72/107) Installing libpciaccess (0.17-r0)\n(73/107) Installing libdrm (2.4.114-r0)\n(74/107) Installing wayland-libs-server (1.21.0-r1)\n(75/107) Installing mesa-gbm (22.2.5-r0)\n(76/107) Installing mesa-glapi (22.2.5-r0)\n(77/107) Installing wayland-libs-client (1.21.0-r1)\n(78/107) Installing libxshmfence (1.3.1-r0)\n(79/107) Installing mesa-egl (22.2.5-r0)\n(80/107) Installing libxfixes (6.0.0-r0)\n(81/107) Installing libxxf86vm (1.1.5-r0)\n(82/107) Installing mesa-gl (22.2.5-r0)\n(83/107) Installing libxv (1.0.11-r3)\n(84/107) Installing cdparanoia-libs (10.2-r11)\n(85/107) Installing graphene (1.10.8-r1)\n(86/107) Installing libcap2 (2.66-r0)\n(87/107) Installing gstreamer (1.20.5-r0)\n(88/107) Installing libogg (1.3.5-r2)\n(89/107) Installing opus (1.3.1-r1)\n(90/107) Installing orc (0.4.33-r0)\n(91/107) Installing libtheora (1.1.1-r16)\n(92/107) Installing libvorbis (1.3.7-r0)\n(93/107) Installing wayland-libs-cursor (1.21.0-r1)\n(94/107) Installing wayland-libs-egl (1.21.0-r1)\n(95/107) Installing gst-plugins-base (1.20.5-r0)\n(96/107) Installing libpcap (1.10.1-r1)\n(97/107) Installing libasyncns (0.8-r1)\n(98/107) Installing flac-libs (1.4.2-r0)\n(99/107) Installing libsndfile (1.1.0-r2)\n(100/107) Installing libgomp (12.2.1_git20220924-r4)\n(101/107) Installing soxr (0.1.3-r3)\n(102/107) Installing speexdsp (1.2.1-r0)\n(103/107) Installing tdb-libs (1.4.7-r0)\n(104/107) Installing libpulse (16.1-r6)\n(105/107) Installing sane (1.1.1-r0)\nExecuting sane-1.1.1-r0.pre-install\n(106/107) Installing eudev-libs (3.2.11-r4)\n(107/107) Installing wine (7.21-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting fontconfig-2.14.1-r0.trigger\nExecuting shared-mime-info-2.2-r2.trigger\nExecuting gdk-pixbuf-2.42.10-r0.trigger\nOK: 372 MiB in 124 packages\nRemoving intermediate container 31738c3f93e2\n ---> 92fe88e74e6b\nStep 4/16 : USER node\n ---> Running in 2250b18f45a4\nRemoving intermediate container 2250b18f45a4\n ---> e70bf63dd9f4\nStep 5/16 : ENV NPM_PACKAGES=\"/home/node/npm-packages\"\n ---> Running in cfbd64280bba\nRemoving intermediate container cfbd64280bba\n ---> 63d06b5af5d1\nStep 6/16 : ENV PATH=\"$PATH:$NPM_PACKAGES/bin\"\n ---> Running in e9076bbed0e5\nRemoving intermediate container e9076bbed0e5\n ---> fc4fe6b0401c\nStep 7/16 : ENV MANPATH=\"$MANPATH:$NPM_PACKAGES/share/man\"\n ---> Running in e52d9cf5edbe\nRemoving intermediate container e52d9cf5edbe\n ---> 254c5c8875b2\nStep 8/16 : RUN mkdir $NPM_PACKAGES     && npm config set prefix $NPM_PACKAGES\n ---> Running in c3ae22df4a42\nRemoving intermediate container c3ae22df4a42\n ---> 54ba272c1628\nStep 9/16 : WORKDIR /nativefier\n ---> Running in 017b18b47a89\nRemoving intermediate container 017b18b47a89\n ---> 633801838eba\nStep 10/16 : COPY --chown=node:node . .\n ---> 86b70736d5a9\nStep 11/16 : RUN find ./icon-scripts ./src ./app -type f -print0 | xargs -0 dos2unix\n ---> Running in 42f7be4f9674\n\u001b[91mdos2unix: converting file ./icon-scripts/convertToIcns to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./icon-scripts/convertToPng to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./icon-scripts/convertToIco to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./icon-scripts/convertToTrayIcon to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./icon-scripts/convertToIconset to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/playwright-test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/normalizeUrl.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/asyncConfig.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/normalizeUrl.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/optionsMain.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/optionsMain.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/name.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/fields.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/userAgent.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/name.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/icon.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/userAgent.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/fields.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/options/fields/icon.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/cli.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/utils/sanitizeFilename.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/utils/parseUtils.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/utils/parseUtils.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/utils/sanitizeFilename.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/tsconfig.json to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/jestSetupFiles.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/fsHelpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/upgrade/plistInfoXMLHelpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/upgrade/upgrade.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/upgrade/rceditGet.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/upgrade/executableHelpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/helpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/helpers/iconShellHelpers.ts to Unix format...\ndos2unix: converting file ./src/helpers/helpers.test.ts to Unix format...\ndos2unix: converting file ./src/main.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/inferTitle.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/browsers/inferSafariVersion.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/browsers/inferChromeVersion.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/browsers/inferFirefoxVersion.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/inferIcon.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/inferTitle.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/infer/inferOs.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/integration-test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/constants.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/.eslintrc.js to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/build/prepareElectronApp.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/build/buildNativefierApp.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/build/prepareElectronApp.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/build/buildIcon.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./src/cli.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/components/menu.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/components/mainWindow.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/components/contextMenu.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/components/loginWindow.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/components/trayIcon.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/components/menu.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/inferFlash.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/windowEvents.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/windowHelpers.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/windowHelpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/playwrightHelpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/helpers.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/loggingHelper.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/windowEvents.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/helpers/helpers.test.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/main.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/mocks/electron.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/preload.ts to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/static/.eslintrc.yml to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/static/login.js to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/static/login.html to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/src/static/login.css to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/tsconfig.json to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/npm-shrinkwrap.json to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/nativefier.json to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/package.json to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/.eslintrc.js to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/inject/_placeholder to Unix format...\n\u001b[0m\u001b[91mdos2unix: converting file ./app/webpack.config.js to Unix format...\n\u001b[0mRemoving intermediate container 42f7be4f9674\n ---> 28b2083ff202\nStep 12/16 : RUN npm link     && npm run test:noplaywright     && rm -rf /tmp/nativefier* ~/.npm/_cacache ~/.cache/electron     && chmod +x $NPM_PACKAGES/bin/nativefier\n ---> Running in b666494cacb7\n\u001b[91mnpm notice \n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm ERR! code 127\n\u001b[0m\u001b[91mnpm ERR! path /nativefier\n\u001b[0m\u001b[91mnpm ERR! command failed\n\u001b[0m\u001b[91mnpm ERR! command\u001b[0m\u001b[91m sh -c -- cd app && npm ci && cd .. && npm run build\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m added 123 packages, and audited 124 packages in 12s\nnpm ERR! \nnpm\u001b[0m\u001b[91m ERR! 17 packages are looking for funding\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m   run `npm fund` for details\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m 3 vulnerabilities (2 moderate, 1 critical)\nnpm ERR! \nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m To address all issues, run:\nnpm ERR!   npm audit fix\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m Run `npm audit` for details.\nnpm \u001b[0m\u001b[91mERR! \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR! > nativefier@50.0.1 build\nnpm ERR! > npm run clean && tsc --build shared src app && npm run build-app && npm run build-app-static\nnpm\u001b[0m\u001b[91m ERR! \nnpm \u001b[0m\u001b[91mERR! \nnpm \u001b[0m\u001b[91mERR! > nativefier@50.0.1 clean\nnpm ERR! > rimraf coverage/ lib/ app/lib/ app/dist/ shared/lib\n\u001b[0m\u001b[91mnpm ERR! sh: rimraf: not found\n\u001b[0m\u001b[91m\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/node/.npm/_logs/2022-12-30T00_56_10_935Z-debug-0.log\n\u001b[0mRemoving intermediate container b666494cacb7\n","stderr":"The command '/bin/sh -c npm link     && npm run test:noplaywright     && rm -rf /tmp/nativefier* ~/.npm/_cacache ~/.cache/electron     && chmod +x $NPM_PACKAGES/bin/nativefier' returned a non-zero code: 127\n"},"endTime":1672361791443}