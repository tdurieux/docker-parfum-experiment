{"repository":"https://github.com/troglobit/netcalc","dockerfilePath":"Dockerfile","startTime":1672362947193,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/troglobit/netcalc'...\n","error":null,"commit":"af4a363885af5d6bf367fa8944e2f69b8aba4187"},"originalBuild":{"startTimestamp":1672362948012,"endTimestamp":1672362975255,"error":null,"stdout":"Sending build context to Docker daemon  424.4kB\r\r\nStep 1/9 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/9 : RUN apk --no-cache add musl-dev git automake autoconf gcc make\n ---> Running in 75eb5636c076\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/27) Installing m4 (1.4.19-r1)\n(2/27) Installing libbz2 (1.0.8-r4)\n(3/27) Installing perl (5.36.0-r0)\n(4/27) Installing autoconf (2.71-r1)\n(5/27) Installing automake (1.16.5-r1)\n(6/27) Installing libgcc (12.2.1_git20220924-r4)\n(7/27) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/27) Installing binutils (2.39-r2)\n(9/27) Installing libgomp (12.2.1_git20220924-r4)\n(10/27) Installing libatomic (12.2.1_git20220924-r4)\n(11/27) Installing gmp (6.2.1-r2)\n(12/27) Installing isl25 (0.25-r0)\n(13/27) Installing mpfr4 (4.1.0-r0)\n(14/27) Installing mpc1 (1.2.1-r1)\n(15/27) Installing gcc (12.2.1_git20220924-r4)\n(16/27) Installing ca-certificates (20220614-r3)\n(17/27) Installing brotli-libs (1.0.9-r9)\n(18/27) Installing nghttp2-libs (1.51.0-r0)\n(19/27) Installing libcurl (7.87.0-r0)\n(20/27) Installing libexpat (2.5.0-r0)\n(21/27) Installing pcre2 (10.42-r0)\n(22/27) Installing git (2.38.2-r0)\n(23/27) Installing perl-error (0.17029-r1)\n(24/27) Installing perl-git (2.38.2-r0)\n(25/27) Installing git-perl (2.38.2-r0)\n(26/27) Installing make (4.3-r1)\n(27/27) Installing musl-dev (1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 203 MiB in 42 packages\nRemoving intermediate container 75eb5636c076\n ---> 44aa5106ccba\nStep 3/9 : COPY . /tmp/netcalc\n ---> fc6a98fec87a\nStep 4/9 : RUN git clone --depth=1 file:///tmp/netcalc /root/netcalc\n ---> Running in 10fc7ee7131f\n\u001b[91mCloning into '/root/netcalc'...\n\u001b[0mRemoving intermediate container 10fc7ee7131f\n ---> 96f24a644726\nStep 5/9 : WORKDIR /root/netcalc\n ---> Running in 381751196b10\nRemoving intermediate container 381751196b10\n ---> f741c867206e\nStep 6/9 : RUN ./autogen.sh && ./configure --prefix=/usr --disable-ipcalc-symlink && make -j5 && make install-strip\n ---> Running in 83bbd8eff20f\n\u001b[91mautoreconf: export WARNINGS=portability\n\u001b[0m\u001b[91mautoreconf: Entering directory '.'\n\u001b[0m\u001b[91mautoreconf: configure.ac: not using Gettext\n\u001b[0m\u001b[91mautoreconf: running: aclocal --force \n\u001b[0m\u001b[91mautoreconf: configure.ac: tracing\n\u001b[0m\u001b[91mautoreconf: configure.ac: not using Libtool\nautoreconf: configure.ac: not using Intltool\n\u001b[0m\u001b[91mautoreconf: configure.ac: not using Gtkdoc\n\u001b[0m\u001b[91mautoreconf: running: /usr/bin/autoconf --force\n\u001b[0m\u001b[91mconfigure.ac:6: warning: The macro `AC_CONFIG_HEADER' is obsolete.\nconfigure.ac:6: You should run autoupdate.\n./lib/autoconf/status.m4:719: AC_CONFIG_HEADER is expanded from...\nconfigure.ac:6: the top level\n\u001b[0m\u001b[91mconfigure.ac:14: warning: The macro `AC_HEADER_STDC' is obsolete.\nconfigure.ac:14: You should run autoupdate.\n./lib/autoconf/headers.m4:704: AC_HEADER_STDC is expanded from...\nconfigure.ac:14: the top level\n\u001b[0m\u001b[91mautoreconf: running: /usr/bin/autoheader --force\n\u001b[0m\u001b[91mautoreconf: running: automake --add-missing --force-missing\n\u001b[0m\u001b[91mconfigure.ac:9: installing './compile'\n\u001b[0m\u001b[91mconfigure.ac:2: installing './install-sh'\n\u001b[0m\u001b[91mconfigure.ac:2: installing './missing'\n\u001b[0m\u001b[91msrc/Makefile.am: installing './depcomp'\n\u001b[0m\u001b[91mparallel-tests: installing './test-driver'\n\u001b[0m\u001b[91mautoreconf: no config.status: cannot re-make\nautoreconf: Leaving directory '.'\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a race-free mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make supports nested variables... (cached) yes\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether the compiler supports GNU C... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to enable C11 features... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of gcc... gcc3\nchecking whether ln -s works... yes\nchecking for stdio.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for strings.h... yes\nchecking for sys/stat.h... yes\nchecking for sys/types.h... yes\nchecking for unistd.h... yes\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for uint8_t... yes\nchecking for uint16_t... yes\nchecking for uint32_t... yes\nchecking for strlcat... yes\nchecking for strlcpy... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating tests/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nmake  all-recursive\nmake[1]: Entering directory '/root/netcalc'\nMaking all in src\nmake[2]: Entering directory '/root/netcalc/src'\n  CC       netcalc-netcalc.o\n  CC       netcalc-output.o\n  CC       netcalc-misc.o\n  CC       netcalc-cprintf.o\n  CCLD     netcalc\nmake[2]: Leaving directory '/root/netcalc/src'\nMaking all in tests\nmake[2]: Entering directory '/root/netcalc/tests'\nmake[2]: Nothing to be done for 'all'.\nmake[2]: Leaving directory '/root/netcalc/tests'\nmake[2]: Entering directory '/root/netcalc'\nmake[2]: Leaving directory '/root/netcalc'\nmake[1]: Leaving directory '/root/netcalc'\nif test -z ''; then \\\n  make  INSTALL_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" \\\n    install_sh_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" INSTALL_STRIP_FLAG=-s \\\n      install; \\\nelse \\\n  make  INSTALL_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" \\\n    install_sh_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" INSTALL_STRIP_FLAG=-s \\\n    \"INSTALL_PROGRAM_ENV=STRIPPROG=''\" install; \\\nfi\nmake[1]: Entering directory '/root/netcalc'\nMaking install in src\nmake[2]: Entering directory '/root/netcalc/src'\nmake[3]: Entering directory '/root/netcalc/src'\n .././install-sh -c -d '/usr/bin'\n  /bin/sh /root/netcalc/install-sh -c -s netcalc '/usr/bin'\nmake  install-exec-hook\nmake[4]: Entering directory '/root/netcalc/src'\nmake[4]: Nothing to be done for 'install-exec-hook'.\nmake[4]: Leaving directory '/root/netcalc/src'\nmake[3]: Nothing to be done for 'install-data-am'.\nmake[3]: Leaving directory '/root/netcalc/src'\nmake[2]: Leaving directory '/root/netcalc/src'\nMaking install in tests\nmake[2]: Entering directory '/root/netcalc/tests'\nmake[3]: Entering directory '/root/netcalc/tests'\nmake[3]: Nothing to be done for 'install-exec-am'.\nmake[3]: Nothing to be done for 'install-data-am'.\nmake[3]: Leaving directory '/root/netcalc/tests'\nmake[2]: Leaving directory '/root/netcalc/tests'\nmake[2]: Entering directory '/root/netcalc'\nmake[3]: Entering directory '/root/netcalc'\nmake[3]: Nothing to be done for 'install-exec-am'.\n ./install-sh -c -d '/usr/share/doc/netcalc'\n /usr/bin/install -c -m 644 README.md LICENSE '/usr/share/doc/netcalc'\n ./install-sh -c -d '/usr/share/man/man1'\n /usr/bin/install -c -m 644 netcalc.1 '/usr/share/man/man1'\nmake[3]: Leaving directory '/root/netcalc'\nmake[2]: Leaving directory '/root/netcalc'\nmake[1]: Leaving directory '/root/netcalc'\nRemoving intermediate container 83bbd8eff20f\n ---> c707159de90e\nStep 7/9 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/9 : COPY --from=0 /usr/bin/netcalc /usr/bin/netcalc\n ---> 97c5b9228270\nStep 9/9 : CMD [ \"/usr/bin/netcalc\" ]\n ---> Running in b34734b2eabd\nRemoving intermediate container b34734b2eabd\n ---> 3d63a536e70a\nSuccessfully built 3d63a536e70a\nSuccessfully tagged netcalc:latest\n","stderr":"","imageSize":7088360},"repair":{"violations":[{"name":"configureShouldUseBuildFlag","position":{"start":7,"end":7,"columnStart":20,"columnEnd":70}}],"repairedDockerfile":"FROM alpine:latest\nRUN apk --no-cache add musl-dev git automake autoconf gcc make\n\nCOPY . /tmp/netcalc\nRUN git clone --depth=1 file:///tmp/netcalc /root/netcalc\nWORKDIR /root/netcalc\n\nRUN ./autogen.sh && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/usr --disable-ipcalc-symlink && make -j5 && make install-strip\n\nFROM alpine:latest\nCOPY --from=0 /usr/bin/netcalc /usr/bin/netcalc\n\nCMD [ \"/usr/bin/netcalc\" ]\n"},"repairedBuild":{"startTimestamp":1672362975529,"endTimestamp":1672363004739,"error":null,"stdout":"Sending build context to Docker daemon  424.4kB\r\r\nStep 1/9 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/9 : RUN apk --no-cache add musl-dev git automake autoconf gcc make\n ---> Running in e4da1fbe30bd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/27) Installing m4 (1.4.19-r1)\n(2/27) Installing libbz2 (1.0.8-r4)\n(3/27) Installing perl (5.36.0-r0)\n(4/27) Installing autoconf (2.71-r1)\n(5/27) Installing automake (1.16.5-r1)\n(6/27) Installing libgcc (12.2.1_git20220924-r4)\n(7/27) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/27) Installing binutils (2.39-r2)\n(9/27) Installing libgomp (12.2.1_git20220924-r4)\n(10/27) Installing libatomic (12.2.1_git20220924-r4)\n(11/27) Installing gmp (6.2.1-r2)\n(12/27) Installing isl25 (0.25-r0)\n(13/27) Installing mpfr4 (4.1.0-r0)\n(14/27) Installing mpc1 (1.2.1-r1)\n(15/27) Installing gcc (12.2.1_git20220924-r4)\n(16/27) Installing ca-certificates (20220614-r3)\n(17/27) Installing brotli-libs (1.0.9-r9)\n(18/27) Installing nghttp2-libs (1.51.0-r0)\n(19/27) Installing libcurl (7.87.0-r0)\n(20/27) Installing libexpat (2.5.0-r0)\n(21/27) Installing pcre2 (10.42-r0)\n(22/27) Installing git (2.38.2-r0)\n(23/27) Installing perl-error (0.17029-r1)\n(24/27) Installing perl-git (2.38.2-r0)\n(25/27) Installing git-perl (2.38.2-r0)\n(26/27) Installing make (4.3-r1)\n(27/27) Installing musl-dev (1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 203 MiB in 42 packages\nRemoving intermediate container e4da1fbe30bd\n ---> 5e3ca273a977\nStep 3/9 : COPY . /tmp/netcalc\n ---> cf3f5b354056\nStep 4/9 : RUN git clone --depth=1 file:///tmp/netcalc /root/netcalc\n ---> Running in 548c0cd7b6d4\n\u001b[91mCloning into '/root/netcalc'...\n\u001b[0mRemoving intermediate container 548c0cd7b6d4\n ---> d938247d03c6\nStep 5/9 : WORKDIR /root/netcalc\n ---> Running in 9ff0d162d954\nRemoving intermediate container 9ff0d162d954\n ---> e8878a843299\nStep 6/9 : RUN ./autogen.sh && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/usr --disable-ipcalc-symlink && make -j5 && make install-strip\n ---> Running in c638b55857b8\n\u001b[91mautoreconf: export WARNINGS=portability\n\u001b[0m\u001b[91mautoreconf: Entering directory '.'\n\u001b[0m\u001b[91mautoreconf: configure.ac: not using Gettext\n\u001b[0m\u001b[91mautoreconf: running: aclocal --force \n\u001b[0m\u001b[91mautoreconf: configure.ac: tracing\n\u001b[0m\u001b[91mautoreconf: configure.ac: not using Libtool\nautoreconf: configure.ac: not using Intltool\nautoreconf: configure.ac: not using Gtkdoc\nautoreconf: running: /usr/bin/autoconf --force\n\u001b[0m\u001b[91mconfigure.ac:6: warning: The macro `AC_CONFIG_HEADER' is obsolete.\nconfigure.ac:6: You should run autoupdate.\n./lib/autoconf/status.m4:719: AC_CONFIG_HEADER is expanded from...\nconfigure.ac:6: the top level\nconfigure.ac:14: warning: The macro `AC_HEADER_STDC' is obsolete.\nconfigure.ac:14: You should run autoupdate.\n./lib/autoconf/headers.m4:704: AC_HEADER_STDC is expanded from...\nconfigure.ac:14: the top level\n\u001b[0m\u001b[91mautoreconf: running: /usr/bin/autoheader --force\n\u001b[0m\u001b[91mautoreconf: running: automake --add-missing --force-missing\n\u001b[0m\u001b[91mconfigure.ac:9: installing './compile'\nconfigure.ac:2: installing './install-sh'\n\u001b[0m\u001b[91mconfigure.ac:2: installing './missing'\n\u001b[0m\u001b[91msrc/Makefile.am: installing './depcomp'\n\u001b[0m\u001b[91mparallel-tests: installing './test-driver'\n\u001b[0m\u001b[91mautoreconf: no config.status: cannot re-make\nautoreconf: Leaving directory '.'\n\u001b[0m\u001b[91m/bin/sh: dpkg-architecture: not found\n\u001b[0mchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a race-free mkdir -p... ./install-sh -c -d\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... no\nchecking for awk... awk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make supports nested variables... (cached) yes\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether the compiler supports GNU C... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to enable C11 features... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking whether make supports the include directive... yes (GNU style)\nchecking dependency style of gcc... gcc3\nchecking whether ln -s works... yes\nchecking for stdio.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for strings.h... yes\nchecking for sys/stat.h... yes\nchecking for sys/types.h... yes\nchecking for unistd.h... yes\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for uint8_t... yes\nchecking for uint16_t... yes\nchecking for uint32_t... yes\nchecking for strlcat... yes\nchecking for strlcpy... yes\nchecking that generated files are newer than configure... done\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/Makefile\nconfig.status: creating tests/Makefile\nconfig.status: creating config.h\nconfig.status: executing depfiles commands\nmake  all-recursive\nmake[1]: Entering directory '/root/netcalc'\nMaking all in src\nmake[2]: Entering directory '/root/netcalc/src'\n  CC       netcalc-netcalc.o\n  CC       netcalc-output.o\n  CC       netcalc-misc.o\n  CC       netcalc-cprintf.o\n  CCLD     netcalc\nmake[2]: Leaving directory '/root/netcalc/src'\nMaking all in tests\nmake[2]: Entering directory '/root/netcalc/tests'\nmake[2]: Nothing to be done for 'all'.\nmake[2]: Leaving directory '/root/netcalc/tests'\nmake[2]: Entering directory '/root/netcalc'\nmake[2]: Leaving directory '/root/netcalc'\nmake[1]: Leaving directory '/root/netcalc'\nif test -z ''; then \\\n  make  INSTALL_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" \\\n    install_sh_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" INSTALL_STRIP_FLAG=-s \\\n      install; \\\nelse \\\n  make  INSTALL_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" \\\n    install_sh_PROGRAM=\"/bin/sh /root/netcalc/install-sh -c -s\" INSTALL_STRIP_FLAG=-s \\\n    \"INSTALL_PROGRAM_ENV=STRIPPROG=''\" install; \\\nfi\nmake[1]: Entering directory '/root/netcalc'\nMaking install in src\nmake[2]: Entering directory '/root/netcalc/src'\nmake[3]: Entering directory '/root/netcalc/src'\n .././install-sh -c -d '/usr/bin'\n  /bin/sh /root/netcalc/install-sh -c -s netcalc '/usr/bin'\nmake  install-exec-hook\nmake[4]: Entering directory '/root/netcalc/src'\nmake[4]: Nothing to be done for 'install-exec-hook'.\nmake[4]: Leaving directory '/root/netcalc/src'\nmake[3]: Nothing to be done for 'install-data-am'.\nmake[3]: Leaving directory '/root/netcalc/src'\nmake[2]: Leaving directory '/root/netcalc/src'\nMaking install in tests\nmake[2]: Entering directory '/root/netcalc/tests'\nmake[3]: Entering directory '/root/netcalc/tests'\nmake[3]: Nothing to be done for 'install-exec-am'.\nmake[3]: Nothing to be done for 'install-data-am'.\nmake[3]: Leaving directory '/root/netcalc/tests'\nmake[2]: Leaving directory '/root/netcalc/tests'\nmake[2]: Entering directory '/root/netcalc'\nmake[3]: Entering directory '/root/netcalc'\nmake[3]: Nothing to be done for 'install-exec-am'.\n ./install-sh -c -d '/usr/share/doc/netcalc'\n /usr/bin/install -c -m 644 README.md LICENSE '/usr/share/doc/netcalc'\n ./install-sh -c -d '/usr/share/man/man1'\n /usr/bin/install -c -m 644 netcalc.1 '/usr/share/man/man1'\nmake[3]: Leaving directory '/root/netcalc'\nmake[2]: Leaving directory '/root/netcalc'\nmake[1]: Leaving directory '/root/netcalc'\nRemoving intermediate container c638b55857b8\n ---> 9ba8b2db52a3\nStep 7/9 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/9 : COPY --from=0 /usr/bin/netcalc /usr/bin/netcalc\n ---> 758e3442e704\nStep 9/9 : CMD [ \"/usr/bin/netcalc\" ]\n ---> Running in 4c3edc68809a\nRemoving intermediate container 4c3edc68809a\n ---> eb7e792aa179\nSuccessfully built eb7e792aa179\nSuccessfully tagged netcalc:latest\n","stderr":"","imageSize":7088360},"endTime":1672363005004}