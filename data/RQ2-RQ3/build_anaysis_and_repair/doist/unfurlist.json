{"repository":"https://github.com/doist/unfurlist","dockerfilePath":"Dockerfile","startTime":1672677051893,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/doist/unfurlist'...\n","error":null,"commit":"b313b9dab5182ab4f4651176111bd0bd367ab5be"},"originalBuild":{"startTimestamp":1672677052836,"endTimestamp":1672677082559,"error":null,"stdout":"Sending build context to Docker daemon   1.72MB\r\r\nStep 1/13 : FROM public.ecr.aws/docker/library/golang:alpine AS builder\nalpine: Pulling from docker/library/golang\nc158987b0551: Already exists\n019cfb932eb0: Already exists\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\n3c6f08178a17: Download complete\na3a161a37303: Verifying Checksum\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for public.ecr.aws/docker/library/golang:alpine\n ---> cae57157ceaa\nStep 2/13 : RUN apk add git\n ---> Running in 438336336c59\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\nRemoving intermediate container 438336336c59\n ---> 7784e5409d3c\nStep 3/13 : WORKDIR /app\n ---> Running in 8e2a929c14dd\nRemoving intermediate container 8e2a929c14dd\n ---> 59befe268e47\nStep 4/13 : ENV GOPROXY=https://proxy.golang.org CGO_ENABLED=0\n ---> Running in 727ec5db1386\nRemoving intermediate container 727ec5db1386\n ---> 9ce61e9227e6\nStep 5/13 : COPY go.mod go.sum ./\n ---> 66c136b8584e\nStep 6/13 : RUN go mod download\n ---> Running in 1cbda69c6fab\nRemoving intermediate container 1cbda69c6fab\n ---> 768227c917fa\nStep 7/13 : COPY . ./\n ---> 6ce0f1bbacc5\nStep 8/13 : RUN go build -ldflags='-s -w' -o main ./cmd/unfurlist\n ---> Running in d684c55936b6\nRemoving intermediate container d684c55936b6\n ---> 4468b91904e8\nStep 9/13 : FROM scratch\n ---> \nStep 10/13 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 570c121a1c09\nStep 11/13 : COPY --from=builder /app/main /bin/main\n ---> d81719ed37d1\nStep 12/13 : EXPOSE :8080\n ---> Running in 2fa46801748c\nRemoving intermediate container 2fa46801748c\n ---> ad5235ce3307\nStep 13/13 : CMD [\"/bin/main\", \"-pprof=''\", \"-listen=:8080\"]\n ---> Running in b6b7e573970a\nRemoving intermediate container b6b7e573970a\n ---> 8e1f0005c5a3\nSuccessfully built 8e1f0005c5a3\nSuccessfully tagged unfurlist:latest\n","stderr":"","imageSize":8148174},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":1,"end":1,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM public.ecr.aws/docker/library/golang:alpine AS builder\nRUN apk add --no-cache git\nWORKDIR /app\nENV GOPROXY=https://proxy.golang.org CGO_ENABLED=0\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . ./\nRUN go build -ldflags='-s -w' -o main ./cmd/unfurlist\n\nFROM scratch\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /app/main /bin/main\nEXPOSE :8080\nCMD [\"/bin/main\", \"-pprof=''\", \"-listen=:8080\"]\n"},"repairedBuild":{"startTimestamp":1672677082837,"endTimestamp":1672677097332,"error":null,"stdout":"Sending build context to Docker daemon   1.72MB\r\r\nStep 1/13 : FROM public.ecr.aws/docker/library/golang:alpine AS builder\n ---> cae57157ceaa\nStep 2/13 : RUN apk add --no-cache git\n ---> Running in 351e2e69343b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\nRemoving intermediate container 351e2e69343b\n ---> 5c1974111790\nStep 3/13 : WORKDIR /app\n ---> Running in 390e7a3e2f46\nRemoving intermediate container 390e7a3e2f46\n ---> fd224e9368d6\nStep 4/13 : ENV GOPROXY=https://proxy.golang.org CGO_ENABLED=0\n ---> Running in 41716db17009\nRemoving intermediate container 41716db17009\n ---> b2a9a5fd1c29\nStep 5/13 : COPY go.mod go.sum ./\n ---> e7ffe889513d\nStep 6/13 : RUN go mod download\n ---> Running in 190c65f60c9b\nRemoving intermediate container 190c65f60c9b\n ---> fb7b8f24b4ea\nStep 7/13 : COPY . ./\n ---> 04883df5da21\nStep 8/13 : RUN go build -ldflags='-s -w' -o main ./cmd/unfurlist\n ---> Running in 9b3f90c37a9c\nRemoving intermediate container 9b3f90c37a9c\n ---> e0186c441b19\nStep 9/13 : FROM scratch\n ---> \nStep 10/13 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> e079d43936b1\nStep 11/13 : COPY --from=builder /app/main /bin/main\n ---> b44bc0ff8824\nStep 12/13 : EXPOSE :8080\n ---> Running in 83a15a268733\nRemoving intermediate container 83a15a268733\n ---> e8ebf25c1b9a\nStep 13/13 : CMD [\"/bin/main\", \"-pprof=''\", \"-listen=:8080\"]\n ---> Running in 4eb756009dfa\nRemoving intermediate container 4eb756009dfa\n ---> ebb78c997a07\nSuccessfully built ebb78c997a07\nSuccessfully tagged unfurlist:latest\n","stderr":"","imageSize":8148174},"endTime":1672677097556}