{"repository":"https://github.com/balderdashy/sails-mysql","dockerfilePath":"Dockerfile","startTime":1672236698621,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/balderdashy/sails-mysql'...\n","error":null,"commit":"be6fe0227bc152d1f424f23dc49534302107d014"},"originalBuild":{"startTimestamp":1672236699510,"endTimestamp":1672236786516,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t sails-mysql:latest -f /tmp/dinghy-analysis/balderdashy/sails-mysql/Dockerfile ."},"stdout":"Sending build context to Docker daemon  564.7kB\r\r\nStep 1/5 : FROM nodesource/node:4.2\n4.2: Pulling from nodesource/node\n5c90d4a2d1a8: Pulling fs layer\n9c58b7364799: Pulling fs layer\n0fb773fe1413: Pulling fs layer\n2bbc89baf43e: Pulling fs layer\n3a4a04068563: Pulling fs layer\n3d37f3da35c8: Pulling fs layer\n9c58b7364799: Waiting\n0fb773fe1413: Waiting\n2bbc89baf43e: Waiting\n3d37f3da35c8: Waiting\n3a4a04068563: Waiting\n5c90d4a2d1a8: Verifying Checksum\n5c90d4a2d1a8: Download complete\n0fb773fe1413: Verifying Checksum\n0fb773fe1413: Download complete\n9c58b7364799: Verifying Checksum\n9c58b7364799: Download complete\n2bbc89baf43e: Verifying Checksum\n2bbc89baf43e: Download complete\n3a4a04068563: Verifying Checksum\n3a4a04068563: Download complete\n5c90d4a2d1a8: Pull complete\n3d37f3da35c8: Verifying Checksum\n3d37f3da35c8: Download complete\n9c58b7364799: Pull complete\n0fb773fe1413: Pull complete\n2bbc89baf43e: Pull complete\n3a4a04068563: Pull complete\n3d37f3da35c8: Pull complete\nDigest: sha256:183cc43bb6a8328ed3148fb448e66478371216f80559e240dbdb092539aa6407\nStatus: Downloaded newer image for nodesource/node:4.2\n ---> 2d21de33a108\nStep 2/5 : ADD package.json package.json\n ---> 109dd3152c0b\nStep 3/5 : RUN npm install\n ---> Running in da0ceec9ec66\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mpackage.json sails-mysql@3.0.0 No README data\n\u001b[0m\u001b[91mWARN engine knex@0.21.1: wanted: {\"node\":\">=10\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mnpm WARN peerDependencies The peer dependency mssql@^6.2.0 included from knex will no\n\u001b[0m\u001b[91mnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency \n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mpeerDependencies in npm 3+. Your application will need to depend on it explicitly.\n\u001b[0m\u001b[91mnpm WARN peerDependencies The peer dependency mysql@^2.18.1 included from knex will no\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN peerDependencies longer be automatically installed to fulfill the peerDependency \nnpm WARN \u001b[0m\u001b[91mpeerDependencies in npm 3+. Your application will need to depend on it explicitly.\n\u001b[0m\u001b[91mnpm WARN peerDependencies\u001b[0m\u001b[91m The peer dependency mysql2@^2.1.0 included from knex will no\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mpeerDependencies longer be automatically installed to fulfill the peerDependency \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mpeerDependencies\u001b[0m\u001b[91m in npm 3+. Your application will need to depend on it explicitly.\nnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mpeerDependencies The peer dependency pg@^8.0.3 included from knex will no\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m peerDependencies\u001b[0m\u001b[91m longer be automatically installed to fulfill the peerDependency \nnpm WARN\u001b[0m\u001b[91m peerDependencies in npm 3+. Your application will need to depend on it explicitly.\n\u001b[0m\u001b[91mnpm WARN peerDependencies The peer dependency sqlite3@^4.1.1 included from knex will no\nnpm\u001b[0m\u001b[91m WARN peerDependencies longer be automatically installed to fulfill the peerDependency \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mengine tildify@2.0.0: wanted: {\"node\":\">=8\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine\u001b[0m\u001b[91m mkdirp@1.0.4: wanted: {\"node\":\">=10\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine\u001b[0m\u001b[91m esm@3.2.25: wanted: {\"node\":\">=6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m engine\u001b[0m\u001b[91m commander@5.1.0: wanted: {\"node\":\">= 6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mengine tarn@3.0.2: wanted: {\"node\":\">=8.0.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated\u001b[0m\u001b[91m urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mWARN engine atob@2.1.2: wanted: {\"node\":\">= 4.5.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine pg@8.8.0: wanted: {\"node\":\">= 8.0.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mengine mysql2@2.3.3: wanted: {\"node\":\">= 8.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine mssql@6.4.1: wanted: {\"node\":\">=6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mnpm WARN peerDependencies The peer dependency pg-native@>=3.0.1 included from pg will no\n\u001b[0m\u001b[91mnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m peerDependencies\u001b[0m\u001b[91m in npm 3+. Your application will need to depend on it explicitly.\n\u001b[0m\u001b[91mWARN engine debug@4.3.4: wanted: {\"node\":\">=6.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine tedious@6.7.1: wanted: {\"node\":\">= 6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mWARN engine needle@2.9.1: wanted: {\"node\":\">= 4.4.x\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine tar@4.4.19: wanted: {\"node\":\">=4.5\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine lru-cache@6.0.0: wanted: {\"node\":\">=10\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\nWARN engine named-placeholders@1.1.2: wanted: {\"node\":\">=6.0.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine readable-stream@3.6.0: wanted: {\"node\":\">= 6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine punycode@2.1.1: wanted: {\"node\":\">=6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine split2@4.1.0: wanted: {\"node\":\">= 10.x\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\n> sqlite3@4.2.0 install /usr/src/app/node_modules/machinepack-mysql/node_modules/waterline-sql-builder/node_modules/sqlite3\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN Using needle for node-pre-gyp https download \n\u001b[0m\u001b[91mnode-pre-gyp ERR! UNCAUGHT EXCEPTION \n\u001b[0m\u001b[91mnode-pre-gyp ERR! stack SyntaxError: Unexpected token ...\nnode-pre-gyp ERR! stack     at exports.runInThisContext (vm.js:53:16)\n\u001b[0m\u001b[91mnode-pre-gyp ERR! stack     at Module._compile (module.js:374:25)\nnode-pre-gyp \u001b[0m\u001b[91mERR! \u001b[0m\u001b[91mstack     at Object.Module._extensions..js (module.js:417:10)\nnode-pre-gyp\u001b[0m\u001b[91m ERR! \u001b[0m\u001b[91mstack     at Module.load (module.js:344:32)\nnode-pre-gyp\u001b[0m\u001b[91m ERR! \u001b[0m\u001b[91mstack     at Function.Module._load (module.js:301:12)\nnode-pre-gyp ERR! stack     at Module.require (module.js:354:17)\nnode-pre-gyp\u001b[0m\u001b[91m ERR! stack     at require (internal/module.js:12:17)\nnode-pre-gyp\u001b[0m\u001b[91m ERR! stack     at Object.<anonymous> (/usr/src/app/node_modules/machinepack-mysql/node_modules/waterline-sql-builder/node_modules/sqlite3/node_modules/node-pre-gyp/node_modules/tar/lib/pack.js:30:20)\n\u001b[0m\u001b[91mnode-pre-gyp \u001b[0m\u001b[91mERR! stack\u001b[0m\u001b[91m     at Module._compile (module.js:410:26)\nnode-pre-gyp ERR! stack\u001b[0m\u001b[91m     at Object.Module._extensions..js (module.js:417:10)\n\u001b[0m\u001b[91mnode-pre-gyp ERR! System Linux 5.4.0-113-generic\n\u001b[0m\u001b[91mnode-pre-gyp ERR! command \"/usr/bin/nodejs\" \"/usr/src/app/node_modules/machinepack-mysql/node_modules/waterline-sql-builder/node_modules/sqlite3/node_modules/.bin/node-pre-gyp\" \"install\" \"--fallback-to-build\"\nnode-pre-gyp ERR! \u001b[0m\u001b[91mcwd /usr/src/app/node_modules/machinepack-mysql/node_modules/waterline-sql-builder/node_modules/sqlite3\nnode-pre-gyp ERR! \u001b[0m\u001b[91mnode -v v4.2.6\n\u001b[0m\u001b[91mnode-pre-gyp ERR! node-pre-gyp -v v0.11.0\n\u001b[0m\u001b[91mnode-pre-gyp ERR! This is a bug in `node-pre-gyp`.\nnode-pre-gyp \u001b[0m\u001b[91mERR! Try to update node-pre-gyp and file an issue if it does not help:\n\u001b[0m\u001b[91mnode-pre-gyp ERR!     <https://github.com/mapbox/node-pre-gyp/issues>\n\u001b[0m\n> libpq@1.8.12 install /usr/src/app/node_modules/machinepack-mysql/node_modules/waterline-sql-builder/node_modules/pg-native/node_modules/libpq\n> node-gyp rebuild\n\n\u001b[91mfind: `/usr/pg*': No such file or directory\ngyp: Call to 'which pg_config || find /usr/bin /usr/local/bin /usr/pg* /opt -executable -name pg_config -print -quit' returned exit status 1. while trying to load binding.gyp\n\u001b[0m\u001b[91mgyp\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR! configure error\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mgyp ERR! stack\u001b[0m\u001b[91m Error: `gyp` failed with exit code: 1\n\u001b[0m\u001b[91mgyp ERR!\u001b[0m\u001b[91m stack     at ChildProcess.onCpExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:355:16)\n\u001b[0m\u001b[91mgyp ERR! stack     at emitTwo (events.js:87:13)\n\u001b[0m\u001b[91mgyp ERR! stack\u001b[0m\u001b[91m     at ChildProcess.emit (events.js:172:7)\ngyp \u001b[0m\u001b[91mERR! \u001b[0m\u001b[91mstack\u001b[0m\u001b[91m     at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)\n\u001b[0m\u001b[91mgyp ERR! System Linux 5.4.0-113-generic\n\u001b[0m\u001b[91mgyp\u001b[0m\u001b[91m ERR! command \"/usr/bin/nodejs\" \"/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\n\u001b[0m\u001b[91mgyp ERR! \u001b[0m\u001b[91mcwd /usr/src/app/node_modules/machinepack-mysql/node_modules/waterline-sql-builder/node_modules/pg-native/node_modules/libpq\n\u001b[0m\u001b[91mgyp ERR! \u001b[0m\u001b[91mnode -v\u001b[0m\u001b[91m v4.2.6\n\u001b[0m\u001b[91mgyp ERR! node-gyp -v v3.0.3\n\u001b[0m\u001b[91mgyp \u001b[0m\u001b[91mERR! not ok \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mWARN engine @xmldom/xmldom@0.8.6: wanted: {\"node\":\">=10.0.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine abort-controller@3.0.0: wanted: {\"node\":\">=6.5\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine tough-cookie@3.0.1: wanted: {\"node\":\">=6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine @azure/core-auth@1.4.0: wanted: {\"node\":\">=12.0.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mnpm WARN peerDependencies The peer dependency encoding@^0.1.0 included from node-fetch will no\nnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency \nnpm \u001b[0m\u001b[91mWARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\n\u001b[0m\u001b[91mWARN engine event-target-shim@5.0.1: wanted: {\"node\":\">=6\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mWARN engine @azure/abort-controller@1.1.0: wanted: {\"node\":\">=12.0.0\"} (current: {\"node\":\"4.2.6\",\"npm\":\"2.14.12\"})\n\u001b[0m\u001b[91mnpm ERR! Linux 5.4.0-113-generic\nnpm ERR! argv \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"install\"\n\u001b[0m\u001b[91mnpm ERR! node\u001b[0m\u001b[91m v4.2.6\n\u001b[0m\u001b[91mnpm ERR! npm  v2.14.12\n\u001b[0m\u001b[91mnpm ERR! code ELIFECYCLE\n\u001b[0m\u001b[91m\nnpm ERR! sqlite3@4.2.0 install: `node-pre-gyp install --fallback-to-build`\nnpm \u001b[0m\u001b[91mERR! Exit status 7\n\u001b[0m\u001b[91mnpm ERR! \nnpm ERR!\u001b[0m\u001b[91m Failed at the sqlite3@4.2.0 install script 'node-pre-gyp install --fallback-to-build'.\nnpm \u001b[0m\u001b[91mERR! This is most likely a problem with the sqlite3 package,\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m not with npm itself.\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m Tell the author that this fails on your system:\nnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m     node-pre-gyp install --fallback-to-build\nnpm ERR!\u001b[0m\u001b[91m You can get their info via:\nnpm ERR!     npm owner ls sqlite3\nnpm ERR!\u001b[0m\u001b[91m There is likely additional logging output above.\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR! Please include the following file with any support request:\nnpm ERR!     /usr/src/app/npm-debug.log\n\u001b[0mRemoving intermediate container da0ceec9ec66\n","stderr":"The command '/bin/sh -c npm install' returned a non-zero code: 1\n"},"endTime":1672236786587}