{"repository":"https://github.com/exercism/ruby-analyzer","dockerfilePath":"Dockerfile","startTime":1672490404523,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/exercism/ruby-analyzer'...\n","error":null,"commit":"5956a0f013af3133d884f423a6ad1c748a18448c"},"originalBuild":{"startTimestamp":1672490406152,"endTimestamp":1672490494914,"error":null,"stdout":"Sending build context to Docker daemon  116.2kB\r\r\nStep 1/7 : FROM ruby:2.5-alpine\n2.5-alpine: Pulling from library/ruby\n540db60ca938: Pulling fs layer\n98a867505730: Pulling fs layer\n69c77620f610: Pulling fs layer\ncd2d3ba0a1da: Pulling fs layer\ncdd230048a01: Pulling fs layer\ncd2d3ba0a1da: Waiting\ncdd230048a01: Waiting\n69c77620f610: Download complete\n540db60ca938: Verifying Checksum\n98a867505730: Verifying Checksum\n98a867505730: Download complete\n540db60ca938: Pull complete\ncdd230048a01: Download complete\n98a867505730: Pull complete\n69c77620f610: Pull complete\ncd2d3ba0a1da: Verifying Checksum\ncd2d3ba0a1da: Download complete\ncd2d3ba0a1da: Pull complete\ncdd230048a01: Pull complete\nDigest: sha256:1aa1dbab746b3dc5d102567a3f91b04023bc61da29bbb36efe1280e9d90074f7\nStatus: Downloaded newer image for ruby:2.5-alpine\n ---> 67ca994ddbc8\nStep 2/7 : RUN apk update && apk upgrade &&     apk add --no-cache bash git openssh &&     apk add build-base gcc wget git\n ---> Running in ebd93601d574\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13915 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.12.5-r0 -> 2.12.7-r0)\nExecuting busybox-1.32.1-r6.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/16) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/16) Upgrading libcrypto1.1 (1.1.1k-r0 -> 1.1.1s-r0)\n(3/16) Upgrading gmp (6.2.1-r0 -> 6.2.1-r1)\n(4/16) Upgrading ncurses-terminfo-base (6.2_p20210109-r0 -> 6.2_p20210109-r1)\n(5/16) Upgrading ncurses-libs (6.2_p20210109-r0 -> 6.2_p20210109-r1)\n(6/16) Upgrading libssl1.1 (1.1.1k-r0 -> 1.1.1s-r0)\n(7/16) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(8/16) Upgrading busybox (1.32.1-r6 -> 1.32.1-r9)\nExecuting busybox-1.32.1-r9.post-upgrade\n(9/16) Upgrading ca-certificates-bundle (20191127-r5 -> 20220614-r0)\n(10/16) Upgrading ssl_client (1.32.1-r6 -> 1.32.1-r9)\n(11/16) Upgrading ca-certificates (20191127-r5 -> 20220614-r0)\n(12/16) Upgrading zlib-dev (1.2.11-r3 -> 1.2.12-r3)\n(13/16) Upgrading alpine-keys (2.2-r0 -> 2.4-r0)\n(14/16) Upgrading libgmpxx (6.2.1-r0 -> 6.2.1-r1)\n(15/16) Upgrading gmp-dev (6.2.1-r0 -> 6.2.1-r1)\n(16/16) Upgrading musl-utils (1.2.2-r0 -> 1.2.2-r1)\nExecuting busybox-1.32.1-r9.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 20 MiB in 36 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(2/14) Installing brotli-libs (1.0.9-r3)\n(3/14) Installing nghttp2-libs (1.42.0-r1)\n(4/14) Installing libcurl (7.79.1-r3)\n(5/14) Installing expat (2.2.10-r8)\n(6/14) Installing pcre2 (10.36-r1)\n(7/14) Installing git (2.30.6-r0)\n(8/14) Installing openssh-keygen (8.4_p1-r4)\n(9/14) Installing libedit (20191231.3.1-r1)\n(10/14) Installing openssh-client (8.4_p1-r4)\n(11/14) Installing openssh-sftp-server (8.4_p1-r4)\n(12/14) Installing openssh-server-common (8.4_p1-r4)\n(13/14) Installing openssh-server (8.4_p1-r4)\n(14/14) Installing openssh (8.4_p1-r4)\nExecuting busybox-1.32.1-r9.trigger\nOK: 39 MiB in 50 packages\n(1/20) Installing binutils (2.35.2-r1)\n(2/20) Installing libmagic (5.39-r0)\n(3/20) Installing file (5.39-r0)\n(4/20) Installing libgomp (10.2.1_pre1-r3)\n(5/20) Installing libatomic (10.2.1_pre1-r3)\n(6/20) Installing libgphobos (10.2.1_pre1-r3)\n(7/20) Installing isl22 (0.22-r0)\n(8/20) Installing mpfr4 (4.1.0-r0)\n(9/20) Installing mpc1 (1.2.0-r0)\n(10/20) Installing gcc (10.2.1_pre1-r3)\n(11/20) Installing musl-dev (1.2.2-r1)\n(12/20) Installing libc-dev (0.7.2-r3)\n(13/20) Installing g++ (10.2.1_pre1-r3)\n(14/20) Installing make (4.3-r0)\n(15/20) Installing fortify-headers (1.1-r0)\n(16/20) Installing patch (2.7.6-r7)\n(17/20) Installing build-base (0.5-r3)\n(18/20) Installing libunistring (0.9.10-r0)\n(19/20) Installing libidn2 (2.3.0-r0)\n(20/20) Installing wget (1.21.1-r1)\nExecuting busybox-1.32.1-r9.trigger\nOK: 228 MiB in 70 packages\nRemoving intermediate container ebd93601d574\n ---> a01e79b62682\nStep 3/7 : RUN gem install bundler -v 2.1.4\n ---> Running in 4a51577278e3\nSuccessfully installed bundler-2.1.4\n1 gem installed\nRemoving intermediate container 4a51577278e3\n ---> 405ffff0bc5a\nStep 4/7 : WORKDIR /opt/analyzer\n ---> Running in e9633b7f50f0\nRemoving intermediate container e9633b7f50f0\n ---> 07d4ce236656\nStep 5/7 : COPY . .\n ---> 715784bbbb20\nStep 6/7 : RUN bundle install\n ---> Running in e3aed0716a41\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 13.0.1\nInstalling rake 13.0.1\nFetching concurrent-ruby 1.1.7\nInstalling concurrent-ruby 1.1.7\nFetching i18n 1.8.5\nInstalling i18n 1.8.5\nFetching minitest 5.14.1\nInstalling minitest 5.14.1\nFetching thread_safe 0.3.6\nInstalling thread_safe 0.3.6\nFetching tzinfo 1.2.7\nInstalling tzinfo 1.2.7\nFetching zeitwerk 2.4.0\nInstalling zeitwerk 2.4.0\nFetching activesupport 6.0.3.2\nInstalling activesupport 6.0.3.2\nFetching ast 2.4.1\nInstalling ast 2.4.1\nUsing bundler 1.17.3\nFetching coderay 1.1.3\nInstalling coderay 1.1.3\nFetching docile 1.3.2\nInstalling docile 1.3.2\nFetching json 2.3.1\nInstalling json 2.3.1 with native extensions\nFetching mandate 0.3.0\nInstalling mandate 0.3.0\nFetching method_source 1.0.0\nInstalling method_source 1.0.0\nFetching minitest-stub-const 0.6\nInstalling minitest-stub-const 0.6\nFetching mocha 1.11.2\nInstalling mocha 1.11.2\nFetching parallel 1.19.2\nInstalling parallel 1.19.2\nFetching parser 2.7.1.4\nInstalling parser 2.7.1.4\nFetching pry 0.13.1\nInstalling pry 0.13.1\nFetching rainbow 3.0.0\nInstalling rainbow 3.0.0\nFetching regexp_parser 1.7.1\nInstalling regexp_parser 1.7.1\nFetching rexml 3.2.4\nInstalling rexml 3.2.4\nFetching rubocop-ast 0.3.0\nInstalling rubocop-ast 0.3.0\nFetching ruby-progressbar 1.10.1\nInstalling ruby-progressbar 1.10.1\nFetching unicode-display_width 1.7.0\nInstalling unicode-display_width 1.7.0\nFetching rubocop 0.89.1\nInstalling rubocop 0.89.1\nFetching rubocop-minitest 0.10.1\nInstalling rubocop-minitest 0.10.1\nFetching rubocop-performance 1.7.1\nInstalling rubocop-performance 1.7.1\nFetching simplecov-html 0.10.2\nInstalling simplecov-html 0.10.2\nFetching simplecov 0.17.1\nInstalling simplecov 0.17.1\nBundle complete! 13 Gemfile dependencies, 31 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nPost-install message from i18n:\n\nHEADS UP! i18n 1.1 changed fallbacks to exclude default locale.\nBut that may break your application.\n\nIf you are upgrading your Rails application from an older version of Rails:\n\nPlease check your Rails app for 'config.i18n.fallbacks = true'.\nIf you're using I18n (>= 1.1.0) and Rails (< 5.2.2), this should be\n'config.i18n.fallbacks = [I18n.default_locale]'.\nIf not, fallbacks will be broken in your app by I18n 1.1.x.\n\nIf you are starting a NEW Rails application, you can ignore this notice.\n\nFor more info see:\nhttps://github.com/svenfuchs/i18n/releases/tag/v1.1.0\n\nRemoving intermediate container e3aed0716a41\n ---> 50c2ca494ffe\nStep 7/7 : ENTRYPOINT [\"sh\", \"/opt/analyzer/bin/run.sh\"]\n ---> Running in 6f4b1abe6a72\nRemoving intermediate container 6f4b1abe6a72\n ---> 910ce14996eb\nSuccessfully built 910ce14996eb\nSuccessfully tagged ruby-analyzer:latest\n","stderr":"","imageSize":320060061},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":35}}],"repairedDockerfile":"FROM ruby:2.5-alpine\n\nRUN apk update && apk upgrade && \\\n    apk add --no-cache bash git openssh && \\\n    apk add --no-cache build-base gcc wget git\n\nRUN gem install bundler -v 2.1.4\n\nWORKDIR /opt/analyzer\n\nCOPY . .\n\nRUN bundle install\n\nENTRYPOINT [\"sh\", \"/opt/analyzer/bin/run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672490495451,"endTimestamp":1672490641517,"error":null,"stdout":"Sending build context to Docker daemon  116.2kB\r\r\nStep 1/7 : FROM ruby:2.5-alpine\n ---> 67ca994ddbc8\nStep 2/7 : RUN apk update && apk upgrade &&     apk add --no-cache bash git openssh &&     apk add --no-cache build-base gcc wget git\n ---> Running in 6c97728fcd90\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13915 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.12.5-r0 -> 2.12.7-r0)\nExecuting busybox-1.32.1-r6.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/16) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)\n(2/16) Upgrading libcrypto1.1 (1.1.1k-r0 -> 1.1.1s-r0)\n(3/16) Upgrading gmp (6.2.1-r0 -> 6.2.1-r1)\n(4/16) Upgrading ncurses-terminfo-base (6.2_p20210109-r0 -> 6.2_p20210109-r1)\n(5/16) Upgrading ncurses-libs (6.2_p20210109-r0 -> 6.2_p20210109-r1)\n(6/16) Upgrading libssl1.1 (1.1.1k-r0 -> 1.1.1s-r0)\n(7/16) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(8/16) Upgrading busybox (1.32.1-r6 -> 1.32.1-r9)\nExecuting busybox-1.32.1-r9.post-upgrade\n(9/16) Upgrading ca-certificates-bundle (20191127-r5 -> 20220614-r0)\n(10/16) Upgrading ssl_client (1.32.1-r6 -> 1.32.1-r9)\n(11/16) Upgrading ca-certificates (20191127-r5 -> 20220614-r0)\n(12/16) Upgrading zlib-dev (1.2.11-r3 -> 1.2.12-r3)\n(13/16) Upgrading alpine-keys (2.2-r0 -> 2.4-r0)\n(14/16) Upgrading libgmpxx (6.2.1-r0 -> 6.2.1-r1)\n(15/16) Upgrading gmp-dev (6.2.1-r0 -> 6.2.1-r1)\n(16/16) Upgrading musl-utils (1.2.2-r0 -> 1.2.2-r1)\nExecuting busybox-1.32.1-r9.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 20 MiB in 36 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/14) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(2/14) Installing brotli-libs (1.0.9-r3)\n(3/14) Installing nghttp2-libs (1.42.0-r1)\n(4/14) Installing libcurl (7.79.1-r3)\n(5/14) Installing expat (2.2.10-r8)\n(6/14) Installing pcre2 (10.36-r1)\n(7/14) Installing git (2.30.6-r0)\n(8/14) Installing openssh-keygen (8.4_p1-r4)\n(9/14) Installing libedit (20191231.3.1-r1)\n(10/14) Installing openssh-client (8.4_p1-r4)\n(11/14) Installing openssh-sftp-server (8.4_p1-r4)\n(12/14) Installing openssh-server-common (8.4_p1-r4)\n(13/14) Installing openssh-server (8.4_p1-r4)\n(14/14) Installing openssh (8.4_p1-r4)\nExecuting busybox-1.32.1-r9.trigger\nOK: 39 MiB in 50 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing binutils (2.35.2-r1)\n(2/20) Installing libmagic (5.39-r0)\n(3/20) Installing file (5.39-r0)\n(4/20) Installing libgomp (10.2.1_pre1-r3)\n(5/20) Installing libatomic (10.2.1_pre1-r3)\n(6/20) Installing libgphobos (10.2.1_pre1-r3)\n(7/20) Installing isl22 (0.22-r0)\n(8/20) Installing mpfr4 (4.1.0-r0)\n(9/20) Installing mpc1 (1.2.0-r0)\n(10/20) Installing gcc (10.2.1_pre1-r3)\n(11/20) Installing musl-dev (1.2.2-r1)\n(12/20) Installing libc-dev (0.7.2-r3)\n(13/20) Installing g++ (10.2.1_pre1-r3)\n(14/20) Installing make (4.3-r0)\n(15/20) Installing fortify-headers (1.1-r0)\n(16/20) Installing patch (2.7.6-r7)\n(17/20) Installing build-base (0.5-r3)\n(18/20) Installing libunistring (0.9.10-r0)\n(19/20) Installing libidn2 (2.3.0-r0)\n(20/20) Installing wget (1.21.1-r1)\nExecuting busybox-1.32.1-r9.trigger\nOK: 228 MiB in 70 packages\nRemoving intermediate container 6c97728fcd90\n ---> 13027db487ab\nStep 3/7 : RUN gem install bundler -v 2.1.4\n ---> Running in 9442cdcffff3\nSuccessfully installed bundler-2.1.4\n1 gem installed\nRemoving intermediate container 9442cdcffff3\n ---> 21593f2e009d\nStep 4/7 : WORKDIR /opt/analyzer\n ---> Running in 0bfb8f8d4510\nRemoving intermediate container 0bfb8f8d4510\n ---> f39937a97d79\nStep 5/7 : COPY . .\n ---> 945720034e62\nStep 6/7 : RUN bundle install\n ---> Running in cf747f659502\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 13.0.1\nInstalling rake 13.0.1\nFetching concurrent-ruby 1.1.7\nInstalling concurrent-ruby 1.1.7\nFetching i18n 1.8.5\nInstalling i18n 1.8.5\nFetching minitest 5.14.1\nInstalling minitest 5.14.1\nFetching thread_safe 0.3.6\nInstalling thread_safe 0.3.6\nFetching tzinfo 1.2.7\nInstalling tzinfo 1.2.7\nFetching zeitwerk 2.4.0\nInstalling zeitwerk 2.4.0\nFetching activesupport 6.0.3.2\nInstalling activesupport 6.0.3.2\nFetching ast 2.4.1\nInstalling ast 2.4.1\nUsing bundler 1.17.3\nFetching coderay 1.1.3\nInstalling coderay 1.1.3\nFetching docile 1.3.2\nInstalling docile 1.3.2\nFetching json 2.3.1\nInstalling json 2.3.1 with native extensions\nFetching mandate 0.3.0\nInstalling mandate 0.3.0\nFetching method_source 1.0.0\nInstalling method_source 1.0.0\nFetching minitest-stub-const 0.6\nInstalling minitest-stub-const 0.6\nFetching mocha 1.11.2\nInstalling mocha 1.11.2\nFetching parallel 1.19.2\nInstalling parallel 1.19.2\nFetching parser 2.7.1.4\nInstalling parser 2.7.1.4\nFetching pry 0.13.1\nInstalling pry 0.13.1\nFetching rainbow 3.0.0\nInstalling rainbow 3.0.0\nFetching regexp_parser 1.7.1\nInstalling regexp_parser 1.7.1\nFetching rexml 3.2.4\nInstalling rexml 3.2.4\nFetching rubocop-ast 0.3.0\nInstalling rubocop-ast 0.3.0\nFetching ruby-progressbar 1.10.1\nInstalling ruby-progressbar 1.10.1\nFetching unicode-display_width 1.7.0\nInstalling unicode-display_width 1.7.0\nFetching rubocop 0.89.1\nInstalling rubocop 0.89.1\nFetching rubocop-minitest 0.10.1\nInstalling rubocop-minitest 0.10.1\nFetching rubocop-performance 1.7.1\nInstalling rubocop-performance 1.7.1\nFetching simplecov-html 0.10.2\nInstalling simplecov-html 0.10.2\nFetching simplecov 0.17.1\nInstalling simplecov 0.17.1\nBundle complete! 13 Gemfile dependencies, 31 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nPost-install message from i18n:\n\nHEADS UP! i18n 1.1 changed fallbacks to exclude default locale.\nBut that may break your application.\n\nIf you are upgrading your Rails application from an older version of Rails:\n\nPlease check your Rails app for 'config.i18n.fallbacks = true'.\nIf you're using I18n (>= 1.1.0) and Rails (< 5.2.2), this should be\n'config.i18n.fallbacks = [I18n.default_locale]'.\nIf not, fallbacks will be broken in your app by I18n 1.1.x.\n\nIf you are starting a NEW Rails application, you can ignore this notice.\n\nFor more info see:\nhttps://github.com/svenfuchs/i18n/releases/tag/v1.1.0\n\nRemoving intermediate container cf747f659502\n ---> e9072158b09d\nStep 7/7 : ENTRYPOINT [\"sh\", \"/opt/analyzer/bin/run.sh\"]\n ---> Running in 60383b4d18d4\nRemoving intermediate container 60383b4d18d4\n ---> 3fe9fbbefc40\nSuccessfully built 3fe9fbbefc40\nSuccessfully tagged ruby-analyzer:latest\n","stderr":"","imageSize":320060062},"endTime":1672490642127}