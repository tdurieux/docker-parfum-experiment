{"repository":"https://github.com/bmswens/kelp","dockerfilePath":"Dockerfile","startTime":1672728532503,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/bmswens/kelp'...\n","error":null,"commit":"e74f77cbdbe12c17882a92eb70e1f5a881593246"},"originalBuild":{"startTimestamp":1672728533596,"endTimestamp":1672728708625,"error":null,"stdout":"Sending build context to Docker daemon  2.364MB\r\r\nStep 1/17 : FROM node:16 as build\n ---> c910109adbfd\nStep 2/17 : ARG VERSION_INFO=DEV\n ---> Running in 42259dcbe5da\nRemoving intermediate container 42259dcbe5da\n ---> fb8eb697cdf0\nStep 3/17 : ENV REACT_APP_FILER_PATH=/filer     REACT_APP_MASTER_PATH=/master     REACT_APP_KELP_VERSION=${VERSION_INFO}\n ---> Running in a7a618c00cef\nRemoving intermediate container a7a618c00cef\n ---> 92ac36df46c5\nStep 4/17 : WORKDIR /app\n ---> Running in 1611b2789e1f\nRemoving intermediate container 1611b2789e1f\n ---> ad75216aa686\nStep 5/17 : COPY ./package.json ./\n ---> 8031cdaa4e1a\nStep 6/17 : COPY ./package-lock.json ./\n ---> b98d87af36dc\nStep 7/17 : RUN npm config set fetch-retry-maxtimeout=300000\n ---> Running in 44fea3f1882b\nRemoving intermediate container 44fea3f1882b\n ---> 9fc3a4fda201\nStep 8/17 : RUN npm install\n ---> Running in cf9aafb66cde\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.6.0: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\nadded 1591 packages, and audited 1592 packages in 19s\n\n179 packages are looking for funding\n  run `npm fund` for details\n\n19 vulnerabilities (1 low, 15 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container cf9aafb66cde\n ---> 56f2a4a64b6f\nStep 9/17 : COPY . ./\n ---> 0f7cc92f937d\nStep 10/17 : RUN npm run build\n ---> Running in 6c74018492af\n\n> kelp@0.1.0 build\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  273.92 kB  build/static/js/main.2d8bdc4e.js\n  1.67 kB    build/static/js/787.74aa2727.chunk.js\n  281 B      build/static/css/main.92c6ad9a.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 6c74018492af\n ---> cf614fd1676e\nStep 11/17 : FROM node:14\n14: Pulling from library/node\nDigest: sha256:b6ab85c15f1c372bca3bde8585fbf5739b679aa9119f46e7d2bd41c1dcc05959\nStatus: Downloaded newer image for node:14\n ---> 0f2c7f307e4d\nStep 12/17 : LABEL maintainer=\"bmswens@gmail.com\"\n ---> Running in 8881fbe27111\nRemoving intermediate container 8881fbe27111\n ---> 780b8ac41e9a\nStep 13/17 : EXPOSE 5000\n ---> Running in 1328fbbc5c84\nRemoving intermediate container 1328fbbc5c84\n ---> d94435dae621\nStep 14/17 : WORKDIR /app\n ---> Running in cc4711a2b1c3\nRemoving intermediate container cc4711a2b1c3\n ---> 83f10cc2e861\nStep 15/17 : COPY --from=build /app/build ./build\n ---> c15f0ebed341\nStep 16/17 : RUN npm install -g serve\n ---> Running in 2a196a5f1968\n/usr/local/bin/serve -> /usr/local/lib/node_modules/serve/build/main.js\n+ serve@14.1.2\nadded 91 packages from 43 contributors in 4.376s\nRemoving intermediate container 2a196a5f1968\n ---> 01f7093a87df\nStep 17/17 : ENTRYPOINT [\"serve\", \"-s\", \"build\"]\n ---> Running in 4b7842286e7c\nRemoving intermediate container 4b7842286e7c\n ---> 879a7f7093ba\nSuccessfully built 879a7f7093ba\nSuccessfully tagged kelp:latest\n","stderr":"","imageSize":928499849},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":27,"end":27,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"# build stage\nFROM node:16 as build\n\nARG VERSION_INFO=DEV\n\n# default env\nENV REACT_APP_FILER_PATH=/filer \\\n    REACT_APP_MASTER_PATH=/master \\\n    REACT_APP_KELP_VERSION=${VERSION_INFO}\n\nWORKDIR /app\nCOPY ./package.json ./\nCOPY ./package-lock.json ./\nRUN npm config set fetch-retry-maxtimeout=300000\nRUN npm install\nCOPY . ./\nRUN npm run build\n\n# final stage\nFROM node:14\n\nLABEL maintainer=\"bmswens@gmail.com\"\nEXPOSE 5000\n\nWORKDIR /app\n\nCOPY --from=build /app/build ./build\nRUN npm install -g serve\n\nENTRYPOINT [\"serve\", \"-s\", \"build\"]\n"},"repairedBuild":{"startTimestamp":1672728708982,"endTimestamp":1672728889826,"error":null,"stdout":"Sending build context to Docker daemon  2.364MB\r\r\nStep 1/17 : FROM node:16 as build\n ---> c910109adbfd\nStep 2/17 : ARG VERSION_INFO=DEV\n ---> Running in ff6ac46b7768\nRemoving intermediate container ff6ac46b7768\n ---> d3a244f67ea0\nStep 3/17 : ENV REACT_APP_FILER_PATH=/filer     REACT_APP_MASTER_PATH=/master     REACT_APP_KELP_VERSION=${VERSION_INFO}\n ---> Running in 59afc178661d\nRemoving intermediate container 59afc178661d\n ---> 3350d51808da\nStep 4/17 : WORKDIR /app\n ---> Running in 282bc41b5edf\nRemoving intermediate container 282bc41b5edf\n ---> bd12301fff99\nStep 5/17 : COPY ./package.json ./\n ---> c308137be838\nStep 6/17 : COPY ./package-lock.json ./\n ---> 069eb39f6417\nStep 7/17 : RUN npm config set fetch-retry-maxtimeout=300000\n ---> Running in 997f2d3d9428\nRemoving intermediate container 997f2d3d9428\n ---> c3ec50667284\nStep 8/17 : RUN npm install\n ---> Running in a7b8ee72434a\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.6.0: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\nadded 1591 packages, and audited 1592 packages in 19s\n\n179 packages are looking for funding\n  run `npm fund` for details\n\n19 vulnerabilities (1 low, 15 high, 3 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container a7b8ee72434a\n ---> 8e824d7294e9\nStep 9/17 : COPY . ./\n ---> f7128681e40b\nStep 10/17 : RUN npm run build\n ---> Running in 92ceb28f1750\n\n> kelp@0.1.0 build\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  273.92 kB  build/static/js/main.2d8bdc4e.js\n  1.67 kB    build/static/js/787.74aa2727.chunk.js\n  281 B      build/static/css/main.92c6ad9a.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container 92ceb28f1750\n ---> 012399850cae\nStep 11/17 : FROM node:14\n ---> 0f2c7f307e4d\nStep 12/17 : LABEL maintainer=\"bmswens@gmail.com\"\n ---> Running in 45530be7ad51\nRemoving intermediate container 45530be7ad51\n ---> 0872458cdcc9\nStep 13/17 : EXPOSE 5000\n ---> Running in 6fd272d8ef3d\nRemoving intermediate container 6fd272d8ef3d\n ---> be5b09e7eb58\nStep 14/17 : WORKDIR /app\n ---> Running in 00d3d453555e\nRemoving intermediate container 00d3d453555e\n ---> bdbd4fe0f1c3\nStep 15/17 : COPY --from=build /app/build ./build\n ---> 30c8ad89f3eb\nStep 16/17 : RUN npm install -g serve\n ---> Running in 574c3f90df8b\n/usr/local/bin/serve -> /usr/local/lib/node_modules/serve/build/main.js\n+ serve@14.1.2\nadded 91 packages from 43 contributors in 4.617s\nRemoving intermediate container 574c3f90df8b\n ---> 8540fb5e2c64\nStep 17/17 : ENTRYPOINT [\"serve\", \"-s\", \"build\"]\n ---> Running in 2a334ded2193\nRemoving intermediate container 2a334ded2193\n ---> da2536b37b62\nSuccessfully built da2536b37b62\nSuccessfully tagged kelp:latest\n","stderr":"","imageSize":928499847},"endTime":1672728890121}