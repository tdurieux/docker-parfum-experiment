{"repository":"https://github.com/sorunome/mx-puppet-slack","dockerfilePath":"Dockerfile","startTime":1672190558004,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sorunome/mx-puppet-slack'...\n","error":null,"commit":"b61193596163cdb8ab093c49a5008b8e6d5acd7c"},"originalBuild":{"startTimestamp":1672190558964,"endTimestamp":1672190716159,"error":null,"stdout":"Sending build context to Docker daemon  565.8kB\r\r\nStep 1/20 : FROM node:15.0-alpine3.12 AS builder\n15.0-alpine3.12: Pulling from library/node\n188c0c94c7c5: Pulling fs layer\ndc2d43985fa6: Pulling fs layer\n6bf76fb63a58: Pulling fs layer\ned5a8f74ead6: Pulling fs layer\ned5a8f74ead6: Waiting\n188c0c94c7c5: Verifying Checksum\n188c0c94c7c5: Download complete\n188c0c94c7c5: Pull complete\n6bf76fb63a58: Verifying Checksum\n6bf76fb63a58: Download complete\ned5a8f74ead6: Verifying Checksum\ndc2d43985fa6: Verifying Checksum\ndc2d43985fa6: Download complete\ndc2d43985fa6: Pull complete\n6bf76fb63a58: Pull complete\ned5a8f74ead6: Pull complete\nDigest: sha256:4de66fe823a364ba2199a3c81d2a6bb116b1f48ee56ab748c4e93e737d746f0b\nStatus: Downloaded newer image for node:15.0-alpine3.12\n ---> 67c2b243ddba\nStep 2/20 : WORKDIR /opt/mx-puppet-slack\n ---> Running in 2f49bd837238\nRemoving intermediate container 2f49bd837238\n ---> ea554e066eb7\nStep 3/20 : RUN apk --no-cache add git python2 make g++ pkgconfig     build-base     cairo-dev     jpeg-dev     pango-dev     musl-dev     giflib-dev     pixman-dev     pangomm-dev     libjpeg-turbo-dev     freetype-dev\n ---> Running in 47be42cee7dd\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/139) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/139) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(3/139) Installing binutils (2.34-r2)\n(4/139) Installing libmagic (5.38-r0)\n(5/139) Installing file (5.38-r0)\n(6/139) Installing gmp (6.2.1-r1)\n(7/139) Installing isl (0.18-r0)\n(8/139) Installing libgomp (9.3.0-r2)\n(9/139) Installing libatomic (9.3.0-r2)\n(10/139) Installing libgphobos (9.3.0-r2)\n(11/139) Installing mpfr4 (4.0.2-r4)\n(12/139) Installing mpc1 (1.1.0-r1)\n(13/139) Installing gcc (9.3.0-r2)\n(14/139) Installing musl-dev (1.1.24-r10)\n(15/139) Installing libc-dev (0.7.2-r3)\n(16/139) Installing g++ (9.3.0-r2)\n(17/139) Installing make (4.3-r0)\n(18/139) Installing fortify-headers (1.1-r0)\n(19/139) Installing patch (2.7.6-r7)\n(20/139) Installing build-base (0.5-r2)\n(21/139) Installing expat (2.2.10-r4)\n(22/139) Installing brotli-libs (1.0.9-r1)\n(23/139) Installing libbz2 (1.0.8-r1)\n(24/139) Installing libpng (1.6.37-r1)\n(25/139) Installing freetype (2.10.4-r2)\n(26/139) Installing libuuid (2.37.4-r0)\n(27/139) Installing fontconfig (2.13.1-r2)\n(28/139) Installing pkgconf (1.7.2-r0)\n(29/139) Installing expat-dev (2.2.10-r4)\n(30/139) Installing brotli-dev (1.0.9-r1)\n(31/139) Installing zlib-dev (1.2.12-r3)\n(32/139) Installing libpng-dev (1.6.37-r1)\n(33/139) Installing freetype-dev (2.10.4-r2)\n(34/139) Installing libblkid (2.37.4-r0)\n(35/139) Installing blkid (2.37.4-r0)\n(36/139) Installing libcap-ng (0.7.10-r1)\n(37/139) Installing setpriv (2.37.4-r0)\n(38/139) Installing libmount (2.37.4-r0)\n(39/139) Installing libsmartcols (2.37.4-r0)\n(40/139) Installing findmnt (2.37.4-r0)\n(41/139) Installing mcookie (2.37.4-r0)\n(42/139) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(43/139) Installing ncurses-libs (6.2_p20200523-r1)\n(44/139) Installing hexdump (2.37.4-r0)\n(45/139) Installing lsblk (2.37.4-r0)\n(46/139) Installing libfdisk (2.37.4-r0)\n(47/139) Installing sfdisk (2.37.4-r0)\n(48/139) Installing cfdisk (2.37.4-r0)\n(49/139) Installing util-linux (2.37.4-r0)\n(50/139) Installing util-linux-dev (2.37.4-r0)\n(51/139) Installing fontconfig-dev (2.13.1-r2)\n(52/139) Installing libxau (1.0.9-r0)\n(53/139) Installing libbsd (0.10.0-r0)\n(54/139) Installing libxdmcp (1.1.3-r0)\n(55/139) Installing libxcb (1.14-r1)\n(56/139) Installing libx11 (1.6.12-r1)\n(57/139) Installing libxrender (0.9.10-r3)\n(58/139) Installing xorgproto (2020.1-r0)\n(59/139) Installing libxau-dev (1.0.9-r0)\n(60/139) Installing xcb-proto (1.14-r0)\n(61/139) Installing libxdmcp-dev (1.1.3-r0)\n(62/139) Installing libxcb-dev (1.14-r1)\n(63/139) Installing xtrans (1.4.0-r1)\n(64/139) Installing libx11-dev (1.6.12-r1)\n(65/139) Installing libxrender-dev (0.9.10-r3)\n(66/139) Installing pixman (0.40.0-r2)\n(67/139) Installing pixman-dev (0.40.0-r2)\n(68/139) Installing util-macros (1.19.2-r1)\n(69/139) Installing xcb-util (0.4.0-r3)\n(70/139) Installing xcb-util-dev (0.4.0-r3)\n(71/139) Installing libxext (1.3.4-r0)\n(72/139) Installing libxext-dev (1.3.4-r0)\n(73/139) Installing cairo (1.16.0-r5)\n(74/139) Installing libffi (3.3-r2)\n(75/139) Installing libintl (0.20.2-r0)\n(76/139) Installing pcre (8.44-r0)\n(77/139) Installing glib (2.64.6-r0)\n(78/139) Installing cairo-tools (1.16.0-r5)\n(79/139) Installing cairo-gobject (1.16.0-r5)\n(80/139) Installing gdbm (1.13-r1)\n(81/139) Installing xz-libs (5.2.5-r1)\n(82/139) Installing readline (8.0.4-r0)\n(83/139) Installing sqlite-libs (3.32.1-r1)\n(84/139) Installing python3 (3.8.10-r0)\n(85/139) Installing gettext-asprintf (0.20.2-r0)\n(86/139) Installing libunistring (0.9.10-r0)\n(87/139) Installing gettext-libs (0.20.2-r0)\n(88/139) Installing libxml2 (2.9.14-r0)\n(89/139) Installing gettext (0.20.2-r0)\n(90/139) Installing gettext-dev (0.20.2-r0)\n(91/139) Installing bzip2-dev (1.0.8-r1)\n(92/139) Installing libxml2-utils (2.9.14-r0)\n(93/139) Installing libgpg-error (1.37-r0)\n(94/139) Installing libgcrypt (1.8.8-r1)\n(95/139) Installing libxslt (1.1.35-r0)\n(96/139) Installing docbook-xml (4.5-r6)\nExecuting docbook-xml-4.5-r6.post-install\n(97/139) Installing docbook-xsl (1.79.2-r2)\nExecuting docbook-xsl-1.79.2-r2.post-install\n(98/139) Installing linux-headers (5.4.5-r1)\n(99/139) Installing libffi-dev (3.3-r2)\n(100/139) Installing libpcre16 (8.44-r0)\n(101/139) Installing libpcre32 (8.44-r0)\n(102/139) Installing libpcrecpp (8.44-r0)\n(103/139) Installing pcre-dev (8.44-r0)\n(104/139) Installing glib-dev (2.64.6-r0)\n(105/139) Installing cairo-dev (1.16.0-r5)\n(106/139) Installing giflib (5.2.1-r0)\n(107/139) Installing giflib-dev (5.2.1-r0)\n(108/139) Installing ca-certificates (20220614-r0)\n(109/139) Installing nghttp2-libs (1.41.0-r0)\n(110/139) Installing libcurl (7.79.1-r1)\n(111/139) Installing pcre2 (10.35-r0)\n(112/139) Installing git (2.26.3-r1)\n(113/139) Installing libjpeg-turbo (2.1.0-r0)\n(114/139) Installing libjpeg-turbo-dev (2.1.0-r0)\n(115/139) Installing jpeg-dev (9d-r0)\n(116/139) Installing libxft (2.3.3-r0)\n(117/139) Installing graphite2 (1.3.14-r0)\n(118/139) Installing harfbuzz (2.6.6-r0)\n(119/139) Installing fribidi (1.0.9-r0)\n(120/139) Installing pango (1.44.7-r2)\n(121/139) Installing pango-tools (1.44.7-r2)\n(122/139) Installing fribidi-dev (1.0.9-r0)\n(123/139) Installing icu-libs (67.1-r0)\n(124/139) Installing harfbuzz-icu (2.6.6-r0)\n(125/139) Installing graphite2-dev (1.3.14-r0)\n(126/139) Installing icu (67.1-r0)\n(127/139) Installing icu-dev (67.1-r0)\n(128/139) Installing harfbuzz-dev (2.6.6-r0)\n(129/139) Installing libxft-dev (2.3.3-r0)\n(130/139) Installing pango-dev (1.44.7-r2)\n(131/139) Installing libsigc++ (2.10.3-r0)\n(132/139) Installing cairomm (1.12.2-r1)\n(133/139) Installing glibmm (2.64.2-r0)\n(134/139) Installing pangomm (2.42.1-r0)\n(135/139) Installing libsigc++-dev (2.10.3-r0)\n(136/139) Installing cairomm-dev (1.12.2-r1)\n(137/139) Installing glibmm-dev (2.64.2-r0)\n(138/139) Installing pangomm-dev (2.42.1-r0)\n(139/139) Installing python2 (2.7.18-r0)\nExecuting busybox-1.31.1-r19.trigger\nExecuting glib-2.64.6-r0.trigger\nNo schema files found: doing nothing.\nExecuting ca-certificates-20220614-r0.trigger\nOK: 430 MiB in 153 packages\nRemoving intermediate container 47be42cee7dd\n ---> ad2bdb2753b2\nStep 4/20 : RUN chown -R node:node /opt/mx-puppet-slack\n ---> Running in 0d3f746b5c38\nRemoving intermediate container 0d3f746b5c38\n ---> 5a0bd22793f2\nStep 5/20 : USER node\n ---> Running in c900eabe7e8e\nRemoving intermediate container c900eabe7e8e\n ---> df031eff2fa1\nStep 6/20 : COPY --chown=node:node package.json package-lock.json ./\n ---> 1dd8318332df\nStep 7/20 : RUN npm install\n ---> Running in 8aaf259b4ef4\n\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm\u001b[0m\u001b[91m WARN EBADENGINE   package: '@sorunome/matrix-bot-sdk@0.5.13',\nnpm WARN EBADENGINE   required: { node: '>=10.0.0', npm: '^6.0.0', yarn: '^1.19.0' },\n\u001b[0m\u001b[91mnpm WARN EBADENGINE   current: { node: 'v15.0.1', npm: '7.0.3' }\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m EBADENGINE }\n\u001b[0m\nadded 430 packages, and audited 430 packages in 1m\n\n19 packages are looking for funding\n  run `npm fund` for details\n\n19 vulnerabilities (7 moderate, 11 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 7.0.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0mRemoving intermediate container 8aaf259b4ef4\n ---> 98ea97f271f2\nStep 8/20 : COPY --chown=node:node tsconfig.json ./\n ---> 3ad6a4e3731f\nStep 9/20 : COPY --chown=node:node src/ ./src/\n ---> 74ff54b0004e\nStep 10/20 : RUN npm run build\n ---> Running in 9c1f2eba84ff\n\n> mx-puppet-slack@0.0.0 build\n> tsc\n\nRemoving intermediate container 9c1f2eba84ff\n ---> 7406f31a2d49\nStep 11/20 : FROM node:15.0-alpine3.12\n ---> 67c2b243ddba\nStep 12/20 : VOLUME /data\n ---> Running in d7c9b1cab60f\nRemoving intermediate container d7c9b1cab60f\n ---> 58bcb9d58488\nStep 13/20 : ENV CONFIG_PATH=/data/config.yaml     REGISTRATION_PATH=/data/slack-registration.yaml\n ---> Running in f4eb0eefbd3c\nRemoving intermediate container f4eb0eefbd3c\n ---> dfb239e47da0\nStep 14/20 : RUN apk add --no-cache su-exec     cairo     jpeg     pango     musl     giflib     pixman     pangomm     libjpeg-turbo     freetype\n ---> Running in 66adb32c5747\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing libxau (1.0.9-r0)\n(2/36) Installing libbsd (0.10.0-r0)\n(3/36) Installing libxdmcp (1.1.3-r0)\n(4/36) Installing libxcb (1.14-r1)\n(5/36) Installing libx11 (1.6.12-r1)\n(6/36) Installing libxext (1.3.4-r0)\n(7/36) Installing libxrender (0.9.10-r3)\n(8/36) Installing expat (2.2.10-r4)\n(9/36) Installing brotli-libs (1.0.9-r1)\n(10/36) Installing libbz2 (1.0.8-r1)\n(11/36) Installing libpng (1.6.37-r1)\n(12/36) Installing freetype (2.10.4-r2)\n(13/36) Installing libuuid (2.37.4-r0)\n(14/36) Installing fontconfig (2.13.1-r2)\n(15/36) Installing pixman (0.40.0-r2)\n(16/36) Installing cairo (1.16.0-r5)\n(17/36) Installing giflib (5.2.1-r0)\n(18/36) Installing libjpeg-turbo (2.1.0-r0)\n(19/36) Installing libjpeg-turbo-utils (2.1.0-r0)\n(20/36) Installing jpeg (9d-r0)\n(21/36) Installing libxft (2.3.3-r0)\n(22/36) Installing fribidi (1.0.9-r0)\n(23/36) Installing libffi (3.3-r2)\n(24/36) Installing libintl (0.20.2-r0)\n(25/36) Installing libblkid (2.37.4-r0)\n(26/36) Installing libmount (2.37.4-r0)\n(27/36) Installing pcre (8.44-r0)\n(28/36) Installing glib (2.64.6-r0)\n(29/36) Installing graphite2 (1.3.14-r0)\n(30/36) Installing harfbuzz (2.6.6-r0)\n(31/36) Installing pango (1.44.7-r2)\n(32/36) Installing libsigc++ (2.10.3-r0)\n(33/36) Installing cairomm (1.12.2-r1)\n(34/36) Installing glibmm (2.64.2-r0)\n(35/36) Installing pangomm (2.42.1-r0)\n(36/36) Installing su-exec (0.2-r1)\nExecuting busybox-1.31.1-r19.trigger\nOK: 27 MiB in 52 packages\nRemoving intermediate container 66adb32c5747\n ---> 296f5b3101cd\nStep 15/20 : WORKDIR /opt/mx-puppet-slack\n ---> Running in 0e78db610612\nRemoving intermediate container 0e78db610612\n ---> a303b79820ce\nStep 16/20 : COPY docker-run.sh ./\n ---> 65f9bf3f18e7\nStep 17/20 : COPY --from=builder /opt/mx-puppet-slack/node_modules/ ./node_modules/\n ---> 0c26f21dd7bd\nStep 18/20 : COPY --from=builder /opt/mx-puppet-slack/build/ ./build/\n ---> d7d747aa04b7\nStep 19/20 : WORKDIR /data\n ---> Running in 6fdd6d3aee7d\nRemoving intermediate container 6fdd6d3aee7d\n ---> a3bfeb555763\nStep 20/20 : ENTRYPOINT [\"/opt/mx-puppet-slack/docker-run.sh\"]\n ---> Running in f7e7f1fd2594\nRemoving intermediate container f7e7f1fd2594\n ---> f09bd1437843\nSuccessfully built f09bd1437843\nSuccessfully tagged mx-puppet-slack:latest\n","stderr":"","imageSize":239464360},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":22,"end":22,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:15.0-alpine3.12 AS builder\n\nWORKDIR /opt/mx-puppet-slack\n\nRUN apk --no-cache add git python2 make g++ pkgconfig \\\n    build-base \\\n    cairo-dev \\\n    jpeg-dev \\\n    pango-dev \\\n    musl-dev \\\n    giflib-dev \\\n    pixman-dev \\\n    pangomm-dev \\\n    libjpeg-turbo-dev \\\n    freetype-dev\n\n# run build process as user in case of npm pre hooks\n# pre hooks are not executed while running as root\nRUN chown -R node:node /opt/mx-puppet-slack\nUSER node\n\nCOPY --chown=node:node package.json package-lock.json ./\nRUN npm install\n\nCOPY --chown=node:node tsconfig.json ./\nCOPY --chown=node:node src/ ./src/\nRUN npm run build\n\n\nFROM node:15.0-alpine3.12\n\nVOLUME /data\n\nENV CONFIG_PATH=/data/config.yaml \\\n    REGISTRATION_PATH=/data/slack-registration.yaml\n\nRUN apk add --no-cache su-exec \\\n    cairo \\\n    jpeg \\\n    pango \\\n    musl \\\n    giflib \\\n    pixman \\\n    pangomm \\\n    libjpeg-turbo \\\n    freetype\n\nWORKDIR /opt/mx-puppet-slack\nCOPY docker-run.sh ./\nCOPY --from=builder /opt/mx-puppet-slack/node_modules/ ./node_modules/\nCOPY --from=builder /opt/mx-puppet-slack/build/ ./build/\n\n# change workdir to /data so relative paths in the config.yaml\n# point to the persisten volume\nWORKDIR /data\nENTRYPOINT [\"/opt/mx-puppet-slack/docker-run.sh\"]\n"},"repairedBuild":{"startTimestamp":1672190716961,"endTimestamp":1672190903217,"error":null,"stdout":"Sending build context to Docker daemon  565.8kB\r\r\nStep 1/20 : FROM node:15.0-alpine3.12 AS builder\n ---> 67c2b243ddba\nStep 2/20 : WORKDIR /opt/mx-puppet-slack\n ---> Running in c7be51aedbbf\nRemoving intermediate container c7be51aedbbf\n ---> 0d933434ae12\nStep 3/20 : RUN apk --no-cache add git python2 make g++ pkgconfig     build-base     cairo-dev     jpeg-dev     pango-dev     musl-dev     giflib-dev     pixman-dev     pangomm-dev     libjpeg-turbo-dev     freetype-dev\n ---> Running in 16071d9dc4d7\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/139) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/139) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(3/139) Installing binutils (2.34-r2)\n(4/139) Installing libmagic (5.38-r0)\n(5/139) Installing file (5.38-r0)\n(6/139) Installing gmp (6.2.1-r1)\n(7/139) Installing isl (0.18-r0)\n(8/139) Installing libgomp (9.3.0-r2)\n(9/139) Installing libatomic (9.3.0-r2)\n(10/139) Installing libgphobos (9.3.0-r2)\n(11/139) Installing mpfr4 (4.0.2-r4)\n(12/139) Installing mpc1 (1.1.0-r1)\n(13/139) Installing gcc (9.3.0-r2)\n(14/139) Installing musl-dev (1.1.24-r10)\n(15/139) Installing libc-dev (0.7.2-r3)\n(16/139) Installing g++ (9.3.0-r2)\n(17/139) Installing make (4.3-r0)\n(18/139) Installing fortify-headers (1.1-r0)\n(19/139) Installing patch (2.7.6-r7)\n(20/139) Installing build-base (0.5-r2)\n(21/139) Installing expat (2.2.10-r4)\n(22/139) Installing brotli-libs (1.0.9-r1)\n(23/139) Installing libbz2 (1.0.8-r1)\n(24/139) Installing libpng (1.6.37-r1)\n(25/139) Installing freetype (2.10.4-r2)\n(26/139) Installing libuuid (2.37.4-r0)\n(27/139) Installing fontconfig (2.13.1-r2)\n(28/139) Installing pkgconf (1.7.2-r0)\n(29/139) Installing expat-dev (2.2.10-r4)\n(30/139) Installing brotli-dev (1.0.9-r1)\n(31/139) Installing zlib-dev (1.2.12-r3)\n(32/139) Installing libpng-dev (1.6.37-r1)\n(33/139) Installing freetype-dev (2.10.4-r2)\n(34/139) Installing libblkid (2.37.4-r0)\n(35/139) Installing blkid (2.37.4-r0)\n(36/139) Installing libcap-ng (0.7.10-r1)\n(37/139) Installing setpriv (2.37.4-r0)\n(38/139) Installing libmount (2.37.4-r0)\n(39/139) Installing libsmartcols (2.37.4-r0)\n(40/139) Installing findmnt (2.37.4-r0)\n(41/139) Installing mcookie (2.37.4-r0)\n(42/139) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n(43/139) Installing ncurses-libs (6.2_p20200523-r1)\n(44/139) Installing hexdump (2.37.4-r0)\n(45/139) Installing lsblk (2.37.4-r0)\n(46/139) Installing libfdisk (2.37.4-r0)\n(47/139) Installing sfdisk (2.37.4-r0)\n(48/139) Installing cfdisk (2.37.4-r0)\n(49/139) Installing util-linux (2.37.4-r0)\n(50/139) Installing util-linux-dev (2.37.4-r0)\n(51/139) Installing fontconfig-dev (2.13.1-r2)\n(52/139) Installing libxau (1.0.9-r0)\n(53/139) Installing libbsd (0.10.0-r0)\n(54/139) Installing libxdmcp (1.1.3-r0)\n(55/139) Installing libxcb (1.14-r1)\n(56/139) Installing libx11 (1.6.12-r1)\n(57/139) Installing libxrender (0.9.10-r3)\n(58/139) Installing xorgproto (2020.1-r0)\n(59/139) Installing libxau-dev (1.0.9-r0)\n(60/139) Installing xcb-proto (1.14-r0)\n(61/139) Installing libxdmcp-dev (1.1.3-r0)\n(62/139) Installing libxcb-dev (1.14-r1)\n(63/139) Installing xtrans (1.4.0-r1)\n(64/139) Installing libx11-dev (1.6.12-r1)\n(65/139) Installing libxrender-dev (0.9.10-r3)\n(66/139) Installing pixman (0.40.0-r2)\n(67/139) Installing pixman-dev (0.40.0-r2)\n(68/139) Installing util-macros (1.19.2-r1)\n(69/139) Installing xcb-util (0.4.0-r3)\n(70/139) Installing xcb-util-dev (0.4.0-r3)\n(71/139) Installing libxext (1.3.4-r0)\n(72/139) Installing libxext-dev (1.3.4-r0)\n(73/139) Installing cairo (1.16.0-r5)\n(74/139) Installing libffi (3.3-r2)\n(75/139) Installing libintl (0.20.2-r0)\n(76/139) Installing pcre (8.44-r0)\n(77/139) Installing glib (2.64.6-r0)\n(78/139) Installing cairo-tools (1.16.0-r5)\n(79/139) Installing cairo-gobject (1.16.0-r5)\n(80/139) Installing gdbm (1.13-r1)\n(81/139) Installing xz-libs (5.2.5-r1)\n(82/139) Installing readline (8.0.4-r0)\n(83/139) Installing sqlite-libs (3.32.1-r1)\n(84/139) Installing python3 (3.8.10-r0)\n(85/139) Installing gettext-asprintf (0.20.2-r0)\n(86/139) Installing libunistring (0.9.10-r0)\n(87/139) Installing gettext-libs (0.20.2-r0)\n(88/139) Installing libxml2 (2.9.14-r0)\n(89/139) Installing gettext (0.20.2-r0)\n(90/139) Installing gettext-dev (0.20.2-r0)\n(91/139) Installing bzip2-dev (1.0.8-r1)\n(92/139) Installing libxml2-utils (2.9.14-r0)\n(93/139) Installing libgpg-error (1.37-r0)\n(94/139) Installing libgcrypt (1.8.8-r1)\n(95/139) Installing libxslt (1.1.35-r0)\n(96/139) Installing docbook-xml (4.5-r6)\nExecuting docbook-xml-4.5-r6.post-install\n(97/139) Installing docbook-xsl (1.79.2-r2)\nExecuting docbook-xsl-1.79.2-r2.post-install\n(98/139) Installing linux-headers (5.4.5-r1)\n(99/139) Installing libffi-dev (3.3-r2)\n(100/139) Installing libpcre16 (8.44-r0)\n(101/139) Installing libpcre32 (8.44-r0)\n(102/139) Installing libpcrecpp (8.44-r0)\n(103/139) Installing pcre-dev (8.44-r0)\n(104/139) Installing glib-dev (2.64.6-r0)\n(105/139) Installing cairo-dev (1.16.0-r5)\n(106/139) Installing giflib (5.2.1-r0)\n(107/139) Installing giflib-dev (5.2.1-r0)\n(108/139) Installing ca-certificates (20220614-r0)\n(109/139) Installing nghttp2-libs (1.41.0-r0)\n(110/139) Installing libcurl (7.79.1-r1)\n(111/139) Installing pcre2 (10.35-r0)\n(112/139) Installing git (2.26.3-r1)\n(113/139) Installing libjpeg-turbo (2.1.0-r0)\n(114/139) Installing libjpeg-turbo-dev (2.1.0-r0)\n(115/139) Installing jpeg-dev (9d-r0)\n(116/139) Installing libxft (2.3.3-r0)\n(117/139) Installing graphite2 (1.3.14-r0)\n(118/139) Installing harfbuzz (2.6.6-r0)\n(119/139) Installing fribidi (1.0.9-r0)\n(120/139) Installing pango (1.44.7-r2)\n(121/139) Installing pango-tools (1.44.7-r2)\n(122/139) Installing fribidi-dev (1.0.9-r0)\n(123/139) Installing icu-libs (67.1-r0)\n(124/139) Installing harfbuzz-icu (2.6.6-r0)\n(125/139) Installing graphite2-dev (1.3.14-r0)\n(126/139) Installing icu (67.1-r0)\n(127/139) Installing icu-dev (67.1-r0)\n(128/139) Installing harfbuzz-dev (2.6.6-r0)\n(129/139) Installing libxft-dev (2.3.3-r0)\n(130/139) Installing pango-dev (1.44.7-r2)\n(131/139) Installing libsigc++ (2.10.3-r0)\n(132/139) Installing cairomm (1.12.2-r1)\n(133/139) Installing glibmm (2.64.2-r0)\n(134/139) Installing pangomm (2.42.1-r0)\n(135/139) Installing libsigc++-dev (2.10.3-r0)\n(136/139) Installing cairomm-dev (1.12.2-r1)\n(137/139) Installing glibmm-dev (2.64.2-r0)\n(138/139) Installing pangomm-dev (2.42.1-r0)\n(139/139) Installing python2 (2.7.18-r0)\nExecuting busybox-1.31.1-r19.trigger\nExecuting glib-2.64.6-r0.trigger\nNo schema files found: doing nothing.\nExecuting ca-certificates-20220614-r0.trigger\nOK: 430 MiB in 153 packages\nRemoving intermediate container 16071d9dc4d7\n ---> 28c8e4a4c4a1\nStep 4/20 : RUN chown -R node:node /opt/mx-puppet-slack\n ---> Running in ae7c5f103983\nRemoving intermediate container ae7c5f103983\n ---> 8a99c83f328e\nStep 5/20 : USER node\n ---> Running in ca3fa829a648\nRemoving intermediate container ca3fa829a648\n ---> 4e91dbf788f2\nStep 6/20 : COPY --chown=node:node package.json package-lock.json ./\n ---> 64813c4f9489\nStep 7/20 : RUN npm install\n ---> Running in a5859902a42f\n\u001b[91mnpm WARN EBADENGINE Unsupported engine {\nnpm \u001b[0m\u001b[91mWARN EBADENGINE   package: '@sorunome/matrix-bot-sdk@0.5.13',\nnpm WARN EBADENGINE   required: { node: '>=10.0.0', npm: '^6.0.0', yarn: '^1.19.0' },\nnpm WARN EBADENGINE\u001b[0m\u001b[91m   current: { node: 'v15.0.1', npm: '7.0.3' }\nnpm WARN EBADENGINE }\n\u001b[0m\nadded 430 packages, and audited 430 packages in 1m\n\n19 packages are looking for funding\n  run `npm fund` for details\n\n19 vulnerabilities (7 moderate, 11 high, 1 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 7.0.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container a5859902a42f\n ---> 57944c160380\nStep 8/20 : COPY --chown=node:node tsconfig.json ./\n ---> f5b330ee1656\nStep 9/20 : COPY --chown=node:node src/ ./src/\n ---> 61e80988e1cf\nStep 10/20 : RUN npm run build\n ---> Running in b9c882dcf939\n\n> mx-puppet-slack@0.0.0 build\n> tsc\n\nRemoving intermediate container b9c882dcf939\n ---> d63ae62c32bb\nStep 11/20 : FROM node:15.0-alpine3.12\n ---> 67c2b243ddba\nStep 12/20 : VOLUME /data\n ---> Running in 9f11ba3dc9bf\nRemoving intermediate container 9f11ba3dc9bf\n ---> 1ed802fe5bfc\nStep 13/20 : ENV CONFIG_PATH=/data/config.yaml     REGISTRATION_PATH=/data/slack-registration.yaml\n ---> Running in df8860bc306f\nRemoving intermediate container df8860bc306f\n ---> 3d6a161db06a\nStep 14/20 : RUN apk add --no-cache su-exec     cairo     jpeg     pango     musl     giflib     pixman     pangomm     libjpeg-turbo     freetype\n ---> Running in b61482772904\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing libxau (1.0.9-r0)\n(2/36) Installing libbsd (0.10.0-r0)\n(3/36) Installing libxdmcp (1.1.3-r0)\n(4/36) Installing libxcb (1.14-r1)\n(5/36) Installing libx11 (1.6.12-r1)\n(6/36) Installing libxext (1.3.4-r0)\n(7/36) Installing libxrender (0.9.10-r3)\n(8/36) Installing expat (2.2.10-r4)\n(9/36) Installing brotli-libs (1.0.9-r1)\n(10/36) Installing libbz2 (1.0.8-r1)\n(11/36) Installing libpng (1.6.37-r1)\n(12/36) Installing freetype (2.10.4-r2)\n(13/36) Installing libuuid (2.37.4-r0)\n(14/36) Installing fontconfig (2.13.1-r2)\n(15/36) Installing pixman (0.40.0-r2)\n(16/36) Installing cairo (1.16.0-r5)\n(17/36) Installing giflib (5.2.1-r0)\n(18/36) Installing libjpeg-turbo (2.1.0-r0)\n(19/36) Installing libjpeg-turbo-utils (2.1.0-r0)\n(20/36) Installing jpeg (9d-r0)\n(21/36) Installing libxft (2.3.3-r0)\n(22/36) Installing fribidi (1.0.9-r0)\n(23/36) Installing libffi (3.3-r2)\n(24/36) Installing libintl (0.20.2-r0)\n(25/36) Installing libblkid (2.37.4-r0)\n(26/36) Installing libmount (2.37.4-r0)\n(27/36) Installing pcre (8.44-r0)\n(28/36) Installing glib (2.64.6-r0)\n(29/36) Installing graphite2 (1.3.14-r0)\n(30/36) Installing harfbuzz (2.6.6-r0)\n(31/36) Installing pango (1.44.7-r2)\n(32/36) Installing libsigc++ (2.10.3-r0)\n(33/36) Installing cairomm (1.12.2-r1)\n(34/36) Installing glibmm (2.64.2-r0)\n(35/36) Installing pangomm (2.42.1-r0)\n(36/36) Installing su-exec (0.2-r1)\nExecuting busybox-1.31.1-r19.trigger\nOK: 27 MiB in 52 packages\nRemoving intermediate container b61482772904\n ---> 2fa662dca10e\nStep 15/20 : WORKDIR /opt/mx-puppet-slack\n ---> Running in 3fb3ddcf6c3b\nRemoving intermediate container 3fb3ddcf6c3b\n ---> 9384ba40a994\nStep 16/20 : COPY docker-run.sh ./\n ---> b712778cb226\nStep 17/20 : COPY --from=builder /opt/mx-puppet-slack/node_modules/ ./node_modules/\n ---> ba6f9fd67b90\nStep 18/20 : COPY --from=builder /opt/mx-puppet-slack/build/ ./build/\n ---> 072f51d0c914\nStep 19/20 : WORKDIR /data\n ---> Running in 16bd6223b04f\nRemoving intermediate container 16bd6223b04f\n ---> 406422ee4e89\nStep 20/20 : ENTRYPOINT [\"/opt/mx-puppet-slack/docker-run.sh\"]\n ---> Running in 1c8d5d403fa5\nRemoving intermediate container 1c8d5d403fa5\n ---> 4d5eab22a95b\nSuccessfully built 4d5eab22a95b\nSuccessfully tagged mx-puppet-slack:latest\n","stderr":"","imageSize":239464360},"endTime":1672190903681}