{"repository":"https://github.com/darrenofficial/dpaste","dockerfilePath":"Dockerfile","startTime":1672366033015,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/darrenofficial/dpaste'...\n","error":null,"commit":"2c52c96b55b4c226db913acd9f7851aebdd6e028"},"originalBuild":{"startTimestamp":1672366033867,"endTimestamp":1672366147727,"error":null,"stdout":"Sending build context to Docker daemon  471.6kB\r\r\nStep 1/24 : FROM node:lts as staticfiles\nlts: Pulling from library/node\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n9537c7a3988e: Already exists\nfd36cab452a2: Pulling fs layer\n2d0da1e46288: Pulling fs layer\n1815baed2c16: Pulling fs layer\n1815baed2c16: Download complete\n2d0da1e46288: Verifying Checksum\n2d0da1e46288: Download complete\nfd36cab452a2: Verifying Checksum\nfd36cab452a2: Download complete\nfd36cab452a2: Pull complete\n2d0da1e46288: Pull complete\n1815baed2c16: Pull complete\nDigest: sha256:e9ad817b0d42b4d177a4bef8a0aff97c352468a008c3fdb2b4a82533425480df\nStatus: Downloaded newer image for node:lts\n ---> 7b2a09676e2c\nStep 2/24 : ARG BUILD_EXTRAS=production\n ---> Running in a5bca2565f12\nRemoving intermediate container a5bca2565f12\n ---> 62f2801aed50\nStep 3/24 : RUN echo \"\\nℹ️  Building staticfiles with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in c2f662196775\n\nℹ️  Building staticfiles with production dependencies.\n\nRemoving intermediate container c2f662196775\n ---> 8bac46ad8080\nStep 4/24 : WORKDIR /app\n ---> Running in 9e3cbca621df\nRemoving intermediate container 9e3cbca621df\n ---> bbaf0af50004\nStep 5/24 : COPY package.json package-lock.json Makefile ./\n ---> 0ba88f0909cc\nStep 6/24 : RUN if [ \"$BUILD_EXTRAS\" = \"dev\" ] ; then npm install --ignore-scripts ; else npm ci --ignore-scripts ; fi\n ---> Running in bc269904e329\n\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated uglify-es@3.3.10: support for ECMAScript is superseded by `uglify-js` as of v3.13.0\n\u001b[0m\nadded 20 packages, and audited 21 packages in 499ms\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0mRemoving intermediate container bc269904e329\n ---> a5f1ebae31b2\nStep 7/24 : COPY client ./client\n ---> 935e1f798d8b\nStep 8/24 : RUN mkdir -p dpaste/static\n ---> Running in ad807b371929\nRemoving intermediate container ad807b371929\n ---> 959f747308cf\nStep 9/24 : RUN make css\n ---> Running in aeb62dd889c3\nnpx sass --no-source-map --style=compressed client/scss/dpaste.scss:dpaste/static/dpaste.css\nRemoving intermediate container aeb62dd889c3\n ---> 0bce73c3d8db\nStep 10/24 : RUN make js\n ---> Running in a5f8a2d50098\nnpx uglifyjs --compress=\"drop_console=true,ecma=6\" --mangle=\"toplevel\" --output=dpaste/static/dpaste.js client/js/dpaste.js\nRemoving intermediate container a5f8a2d50098\n ---> 8887942e23d2\nStep 11/24 : FROM python:3.10 as build\n3.10: Pulling from library/python\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n0f67f32c26d3: Already exists\n3dd123b388af: Pulling fs layer\n486bcd00fb03: Pulling fs layer\n8cc4d42c9476: Pulling fs layer\n486bcd00fb03: Download complete\n8cc4d42c9476: Verifying Checksum\n8cc4d42c9476: Download complete\n3dd123b388af: Verifying Checksum\n3dd123b388af: Download complete\n3dd123b388af: Pull complete\n486bcd00fb03: Pull complete\n8cc4d42c9476: Pull complete\nDigest: sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6\nStatus: Downloaded newer image for python:3.10\n ---> 3aae3bded9cf\nStep 12/24 : ARG BUILD_EXTRAS=production\n ---> Running in 8fc3bf0d6732\nRemoving intermediate container 8fc3bf0d6732\n ---> a96f02b9b92b\nStep 13/24 : ENV PORT=8000\n ---> Running in 4834fa820b4e\nRemoving intermediate container 4834fa820b4e\n ---> 75d63b22b3ba\nStep 14/24 : RUN echo \"\\nℹ️  Building Django project with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in 3fa8958ed17f\n\nℹ️  Building Django project with production dependencies.\n\nRemoving intermediate container 3fa8958ed17f\n ---> 19d53de3a547\nStep 15/24 : WORKDIR /app\n ---> Running in bd485af7815a\nRemoving intermediate container bd485af7815a\n ---> 3567ba66f3f1\nStep 16/24 : RUN pip install -U pip\n ---> Running in 0aff1fa62046\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 0aff1fa62046\n ---> 240db0fae70f\nStep 17/24 : COPY --from=staticfiles /app /app/\n ---> 6a508c053000\nStep 18/24 : COPY setup.py setup.cfg ./\n ---> abd258cbda54\nStep 19/24 : COPY dpaste/__init__.py dpaste/\n ---> 070edbc22da6\nStep 20/24 : RUN pip install -e .[${BUILD_EXTRAS}]\n ---> Running in 5af19ba63831\nObtaining file:///app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django>=3.2\n  Downloading Django-4.1.4-py3-none-any.whl (8.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.1/8.1 MB 11.2 MB/s eta 0:00:00\nCollecting pygments<=2.11.2\n  Downloading Pygments-2.11.2-py3-none-any.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 35.3 MB/s eta 0:00:00\nCollecting django-staticinline>=1.0\n  Downloading django_staticinline-1.3.1-py2.py3-none-any.whl (23 kB)\nCollecting django-csp>=3.6\n  Downloading django_csp-3.7-py2.py3-none-any.whl (17 kB)\nCollecting dj_database_url>=0.5.0\n  Downloading dj_database_url-1.2.0-py3-none-any.whl (7.1 kB)\nCollecting ratelimiter>=1.2\n  Downloading ratelimiter-1.2.0.post0-py3-none-any.whl (6.6 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-2.0.0-py2.py3-none-any.whl (4.1 kB)\nCollecting misaka>=2.1.0\n  Downloading misaka-2.1.1.tar.gz (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.2/125.2 kB 8.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting docutils\n  Downloading docutils-0.19-py3-none-any.whl (570 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 570.5/570.5 kB 27.4 MB/s eta 0:00:00\nCollecting tox\n  Downloading tox-4.1.1-py3-none-any.whl (144 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 144.3/144.3 kB 14.9 MB/s eta 0:00:00\nCollecting pytest\n  Downloading pytest-7.2.0-py3-none-any.whl (316 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 316.8/316.8 kB 27.2 MB/s eta 0:00:00\nCollecting pytest-cov\n  Downloading pytest_cov-4.0.0-py3-none-any.whl (21 kB)\nCollecting pytest-django\n  Downloading pytest_django-4.5.2-py3-none-any.whl (20 kB)\nCollecting psycopg2-binary==2.9.3\n  Downloading psycopg2_binary-2.9.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 3.9 MB/s eta 0:00:00\nCollecting django-webserver[pyuwsgi]==1.2.0\n  Downloading django_webserver-1.2.0-py2.py3-none-any.whl (10 kB)\nCollecting pyuwsgi\n  Downloading pyuwsgi-2.0.21-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (928 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 928.4/928.4 kB 42.4 MB/s eta 0:00:00\nCollecting asgiref<4,>=3.5.2\n  Downloading asgiref-3.6.0-py3-none-any.whl (23 kB)\nCollecting sqlparse>=0.2.2\n  Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.8/42.8 kB 4.3 MB/s eta 0:00:00\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-1.0.0-py2.py3-none-any.whl (3.9 kB)\nCollecting cffi>=1.0.0\n  Using cached cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting attrs>=19.2.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 6.7 MB/s eta 0:00:00\nCollecting tomli>=1.0.0\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting pluggy<2.0,>=0.12\n  Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)\nCollecting packaging\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 3.7 MB/s eta 0:00:00\nCollecting iniconfig\n  Downloading iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)\nCollecting exceptiongroup>=1.0.0rc8\n  Downloading exceptiongroup-1.1.0-py3-none-any.whl (14 kB)\nCollecting coverage[toml]>=5.2.1\n  Downloading coverage-7.0.1-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (216 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 216.0/216.0 kB 24.7 MB/s eta 0:00:00\nCollecting virtualenv>=20.17.1\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 46.2 MB/s eta 0:00:00\nCollecting colorama>=0.4.6\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nCollecting platformdirs>=2.6\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting cachetools>=5.2\n  Downloading cachetools-5.2.0-py3-none-any.whl (9.3 kB)\nCollecting chardet>=5.1\n  Downloading chardet-5.1.0-py3-none-any.whl (199 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 199.1/199.1 kB 16.8 MB/s eta 0:00:00\nCollecting filelock>=3.8.2\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting pyproject-api>=1.2.1\n  Downloading pyproject_api-1.2.1-py3-none-any.whl (11 kB)\nCollecting pycparser\n  Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 18.1 MB/s eta 0:00:00\nBuilding wheels for collected packages: misaka\n  Building wheel for misaka (setup.py): started\n  Building wheel for misaka (setup.py): finished with status 'done'\n  Created wheel for misaka: filename=misaka-2.1.1-cp310-cp310-linux_x86_64.whl size=154075 sha256=3a25fc10d69e331c44c712518be96acbcee861341f0570dacb4c413a935972b9\n  Stored in directory: /root/.cache/pip/wheels/28/e0/ab/fbbaf43f2bee56d70d6ed11ee3311b8c3d470c2710fafd6006\nSuccessfully built misaka\nInstalling collected packages: ratelimiter, pyuwsgi, iniconfig, distlib, tomli, sqlparse, pygments, pycparser, psycopg2-binary, pluggy, platformdirs, packaging, filelock, exceptiongroup, docutils, coverage, colorama, chardet, cachetools, attrs, asgiref, virtualenv, pytest, pyproject-api, jsx-lexer, django, cffi, tox, pytest-django, pytest-cov, misaka, django-webserver, django-staticinline, django-csp, dj_database_url, dpaste\n  Running setup.py develop for dpaste\nSuccessfully installed asgiref-3.6.0 attrs-22.2.0 cachetools-5.2.0 cffi-1.15.1 chardet-5.1.0 colorama-0.4.6 coverage-7.0.1 distlib-0.3.6 dj_database_url-1.2.0 django-4.1.4 django-csp-3.7 django-staticinline-1.3.1 django-webserver-1.2.0 docutils-0.19 dpaste-3.5 exceptiongroup-1.1.0 filelock-3.9.0 iniconfig-1.1.1 jsx-lexer-1.0.0 misaka-2.1.1 packaging-22.0 platformdirs-2.6.2 pluggy-1.0.0 psycopg2-binary-2.9.3 pycparser-2.21 pygments-2.11.2 pyproject-api-1.2.1 pytest-7.2.0 pytest-cov-4.0.0 pytest-django-4.5.2 pyuwsgi-2.0.21 ratelimiter-1.2.0.post0 sqlparse-0.4.3 tomli-2.0.1 tox-4.1.1 virtualenv-20.17.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 5af19ba63831\n ---> bdcb90ea82e4\nStep 21/24 : COPY . .\n ---> 37d66997963d\nStep 22/24 : RUN ./manage.py collectstatic --noinput\n ---> Running in a7336504e160\n\n⚠️  local.py settings not found. Using default settings file.\n\n🐘  Database URL is: None\n\n🚀  Production webserver installed. Will run on port 8000\n\n2 static files copied to '/app/.static', 2 post-processed.\nRemoving intermediate container a7336504e160\n ---> a814ef692bf6\nStep 23/24 : CMD ./manage.py migrate --noinput && ./manage.py pyuwsgi --http=:${PORT} --logger file:/var/log/uwsgi.log\n ---> Running in 8d466e3301b9\nRemoving intermediate container 8d466e3301b9\n ---> af31af7c78ee\nStep 24/24 : EXPOSE ${PORT}\n ---> Running in d60586e1742f\nRemoving intermediate container d60586e1742f\n ---> a024205dee61\nSuccessfully built a024205dee61\nSuccessfully tagged dpaste:latest\n","stderr":"","imageSize":1032455401},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":42,"columnEnd":72}},{"name":"pipUseNoCacheDir","position":{"start":34,"end":34,"columnStart":4,"columnEnd":22}},{"name":"pipUseNoCacheDir","position":{"start":43,"end":43,"columnStart":4,"columnEnd":37}}],"repairedDockerfile":"FROM node:lts as staticfiles\n\nARG BUILD_EXTRAS=production\n\nRUN echo \"\\nℹ️  Building staticfiles with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n\nWORKDIR /app\n\n# Install the JS dependencies\nCOPY package.json package-lock.json Makefile ./\n\nRUN if [ \"$BUILD_EXTRAS\" = \"dev\" ] ; then npm install --ignore-scripts ; else npm ci --ignore-scripts ; fi\n\n# Copy the client/ directory and compile them. The Python application\n# doesn't need to exist yet.\nCOPY client ./client\n\nRUN mkdir -p dpaste/static\nRUN make css\nRUN make js\n\n# ------------------------------------------------\n\nFROM python:3.10 as build\n\nARG BUILD_EXTRAS=production\n\nENV PORT=8000\n\nRUN echo \"\\nℹ️  Building Django project with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n\nWORKDIR /app\n\n# Upgrade pip, the Image one is quite old.\nRUN pip install --no-cache-dir -U pip\n\n# Copy the dpaste staticfiles to this image\nCOPY --from=staticfiles /app /app/\n\n# Copy only the files necessary to install the dpaste project as an editable\n# package. This improves caching.\nCOPY setup.py setup.cfg ./\nCOPY dpaste/__init__.py dpaste/\nRUN pip install --no-cache-dir -e .[${BUILD_EXTRAS}]\n\n# Copy the rest of the application code\nCOPY . .\n\n# Collect all static files once.\nRUN ./manage.py collectstatic --noinput\n\n# By default run it with pyuwsgi, which is a great production ready\n# server. For development, docker-compose will override it to use the\n# regular Django runserver.\nCMD ./manage.py migrate --noinput && ./manage.py pyuwsgi --http=:${PORT} --logger file:/var/log/uwsgi.log\n\nEXPOSE ${PORT}\n"},"repairedBuild":{"startTimestamp":1672366148317,"endTimestamp":1672366249542,"error":null,"stdout":"Sending build context to Docker daemon  471.6kB\r\r\nStep 1/24 : FROM node:lts as staticfiles\n ---> 7b2a09676e2c\nStep 2/24 : ARG BUILD_EXTRAS=production\n ---> Running in 54adb5dae817\nRemoving intermediate container 54adb5dae817\n ---> 5ae28b22d075\nStep 3/24 : RUN echo \"\\nℹ️  Building staticfiles with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in 6e1e9b348f61\n\nℹ️  Building staticfiles with production dependencies.\n\nRemoving intermediate container 6e1e9b348f61\n ---> 10bcd1174a5e\nStep 4/24 : WORKDIR /app\n ---> Running in 8e023f402c1c\nRemoving intermediate container 8e023f402c1c\n ---> 743fde5eb871\nStep 5/24 : COPY package.json package-lock.json Makefile ./\n ---> 7758e16edfca\nStep 6/24 : RUN if [ \"$BUILD_EXTRAS\" = \"dev\" ] ; then npm install --ignore-scripts ; else npm ci --ignore-scripts ; fi\n ---> Running in 8f01d594d22f\n\u001b[91mnpm WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mdeprecated uglify-es@3.3.10: support for ECMAScript is superseded by `uglify-js` as of v3.13.0\n\u001b[0m\nadded 20 packages, and audited 21 packages in 570ms\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 8f01d594d22f\n ---> f4832a41e557\nStep 7/24 : COPY client ./client\n ---> af8ee98ccfe9\nStep 8/24 : RUN mkdir -p dpaste/static\n ---> Running in c84c80295b38\nRemoving intermediate container c84c80295b38\n ---> 80d6508260c7\nStep 9/24 : RUN make css\n ---> Running in 1c9014f0c267\nnpx sass --no-source-map --style=compressed client/scss/dpaste.scss:dpaste/static/dpaste.css\nRemoving intermediate container 1c9014f0c267\n ---> b61ae4ea6832\nStep 10/24 : RUN make js\n ---> Running in 8095462249b7\nnpx uglifyjs --compress=\"drop_console=true,ecma=6\" --mangle=\"toplevel\" --output=dpaste/static/dpaste.js client/js/dpaste.js\nRemoving intermediate container 8095462249b7\n ---> 3fbbaa0e042b\nStep 11/24 : FROM python:3.10 as build\n ---> 3aae3bded9cf\nStep 12/24 : ARG BUILD_EXTRAS=production\n ---> Running in 5ea2667469fd\nRemoving intermediate container 5ea2667469fd\n ---> 78707d23bdab\nStep 13/24 : ENV PORT=8000\n ---> Running in 13e03c2205d8\nRemoving intermediate container 13e03c2205d8\n ---> 02fb2deeb4e1\nStep 14/24 : RUN echo \"\\nℹ️  Building Django project with \"${BUILD_EXTRAS}\" dependencies.\\n\"\n ---> Running in 65b528ae8a49\n\nℹ️  Building Django project with production dependencies.\n\nRemoving intermediate container 65b528ae8a49\n ---> ff7073fad0ff\nStep 15/24 : WORKDIR /app\n ---> Running in f295637836a7\nRemoving intermediate container f295637836a7\n ---> 168aba59f553\nStep 16/24 : RUN pip install --no-cache-dir -U pip\n ---> Running in 937ceed9275b\nRequirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (22.3.1)\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 937ceed9275b\n ---> 5412d6d8871d\nStep 17/24 : COPY --from=staticfiles /app /app/\n ---> c6807ffd32a5\nStep 18/24 : COPY setup.py setup.cfg ./\n ---> 70f2dbafd7a4\nStep 19/24 : COPY dpaste/__init__.py dpaste/\n ---> cd816ebff499\nStep 20/24 : RUN pip install --no-cache-dir -e .[${BUILD_EXTRAS}]\n ---> Running in bf2be1d9ec08\nObtaining file:///app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting django>=3.2\n  Downloading Django-4.1.4-py3-none-any.whl (8.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.1/8.1 MB 115.4 MB/s eta 0:00:00\nCollecting pygments<=2.11.2\n  Downloading Pygments-2.11.2-py3-none-any.whl (1.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 132.6 MB/s eta 0:00:00\nCollecting django-staticinline>=1.0\n  Downloading django_staticinline-1.3.1-py2.py3-none-any.whl (23 kB)\nCollecting django-csp>=3.6\n  Downloading django_csp-3.7-py2.py3-none-any.whl (17 kB)\nCollecting dj_database_url>=0.5.0\n  Downloading dj_database_url-1.2.0-py3-none-any.whl (7.1 kB)\nCollecting ratelimiter>=1.2\n  Downloading ratelimiter-1.2.0.post0-py3-none-any.whl (6.6 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-2.0.0-py2.py3-none-any.whl (4.1 kB)\nCollecting misaka>=2.1.0\n  Downloading misaka-2.1.1.tar.gz (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.2/125.2 kB 325.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting docutils\n  Downloading docutils-0.19-py3-none-any.whl (570 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 570.5/570.5 kB 158.8 MB/s eta 0:00:00\nCollecting tox\n  Downloading tox-4.1.1-py3-none-any.whl (144 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 144.3/144.3 kB 122.2 MB/s eta 0:00:00\nCollecting pytest\n  Downloading pytest-7.2.0-py3-none-any.whl (316 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 316.8/316.8 kB 173.2 MB/s eta 0:00:00\nCollecting pytest-cov\n  Downloading pytest_cov-4.0.0-py3-none-any.whl (21 kB)\nCollecting pytest-django\n  Downloading pytest_django-4.5.2-py3-none-any.whl (20 kB)\nCollecting psycopg2-binary==2.9.3\n  Downloading psycopg2_binary-2.9.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 122.6 MB/s eta 0:00:00\nCollecting django-webserver[pyuwsgi]==1.2.0\n  Downloading django_webserver-1.2.0-py2.py3-none-any.whl (10 kB)\nCollecting pyuwsgi\n  Downloading pyuwsgi-2.0.21-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (928 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 928.4/928.4 kB 90.8 MB/s eta 0:00:00\nCollecting sqlparse>=0.2.2\n  Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.8/42.8 kB 276.5 MB/s eta 0:00:00\nCollecting asgiref<4,>=3.5.2\n  Downloading asgiref-3.6.0-py3-none-any.whl (23 kB)\nCollecting jsx-lexer>=0.0.8\n  Downloading jsx_lexer-1.0.0-py2.py3-none-any.whl (3.9 kB)\nCollecting cffi>=1.0.0\n  Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 441.8/441.8 kB 179.9 MB/s eta 0:00:00\nCollecting pluggy<2.0,>=0.12\n  Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)\nCollecting iniconfig\n  Downloading iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)\nCollecting packaging\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 284.8 MB/s eta 0:00:00\nCollecting attrs>=19.2.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.0/60.0 kB 331.8 MB/s eta 0:00:00\nCollecting exceptiongroup>=1.0.0rc8\n  Downloading exceptiongroup-1.1.0-py3-none-any.whl (14 kB)\nCollecting tomli>=1.0.0\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting coverage[toml]>=5.2.1\n  Downloading coverage-7.0.1-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (216 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 216.0/216.0 kB 259.7 MB/s eta 0:00:00\nCollecting pyproject-api>=1.2.1\n  Downloading pyproject_api-1.2.1-py3-none-any.whl (11 kB)\nCollecting platformdirs>=2.6\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting chardet>=5.1\n  Downloading chardet-5.1.0-py3-none-any.whl (199 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 199.1/199.1 kB 306.8 MB/s eta 0:00:00\nCollecting filelock>=3.8.2\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting colorama>=0.4.6\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nCollecting cachetools>=5.2\n  Downloading cachetools-5.2.0-py3-none-any.whl (9.3 kB)\nCollecting virtualenv>=20.17.1\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 114.7 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 332.8 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 165.2 MB/s eta 0:00:00\nBuilding wheels for collected packages: misaka\n  Building wheel for misaka (setup.py): started\n  Building wheel for misaka (setup.py): finished with status 'done'\n  Created wheel for misaka: filename=misaka-2.1.1-cp310-cp310-linux_x86_64.whl size=154073 sha256=14149a7977df85cb4b28435e634795fae5dd712124273a1ee860a9cf405feb09\n  Stored in directory: /tmp/pip-ephem-wheel-cache-vv6uj0c0/wheels/28/e0/ab/fbbaf43f2bee56d70d6ed11ee3311b8c3d470c2710fafd6006\nSuccessfully built misaka\nInstalling collected packages: ratelimiter, pyuwsgi, iniconfig, distlib, tomli, sqlparse, pygments, pycparser, psycopg2-binary, pluggy, platformdirs, packaging, filelock, exceptiongroup, docutils, coverage, colorama, chardet, cachetools, attrs, asgiref, virtualenv, pytest, pyproject-api, jsx-lexer, django, cffi, tox, pytest-django, pytest-cov, misaka, django-webserver, django-staticinline, django-csp, dj_database_url, dpaste\n  Running setup.py develop for dpaste\nSuccessfully installed asgiref-3.6.0 attrs-22.2.0 cachetools-5.2.0 cffi-1.15.1 chardet-5.1.0 colorama-0.4.6 coverage-7.0.1 distlib-0.3.6 dj_database_url-1.2.0 django-4.1.4 django-csp-3.7 django-staticinline-1.3.1 django-webserver-1.2.0 docutils-0.19 dpaste-3.5 exceptiongroup-1.1.0 filelock-3.9.0 iniconfig-1.1.1 jsx-lexer-1.0.0 misaka-2.1.1 packaging-22.0 platformdirs-2.6.2 pluggy-1.0.0 psycopg2-binary-2.9.3 pycparser-2.21 pygments-2.11.2 pyproject-api-1.2.1 pytest-7.2.0 pytest-cov-4.0.0 pytest-django-4.5.2 pyuwsgi-2.0.21 ratelimiter-1.2.0.post0 sqlparse-0.4.3 tomli-2.0.1 tox-4.1.1 virtualenv-20.17.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container bf2be1d9ec08\n ---> 5e4301ef1be5\nStep 21/24 : COPY . .\n ---> 6fd08cb9938a\nStep 22/24 : RUN ./manage.py collectstatic --noinput\n ---> Running in 4f8d3236c43e\n\n⚠️  local.py settings not found. Using default settings file.\n\n🐘  Database URL is: None\n\n🚀  Production webserver installed. Will run on port 8000\n\n2 static files copied to '/app/.static', 2 post-processed.\nRemoving intermediate container 4f8d3236c43e\n ---> 15e333007eb9\nStep 23/24 : CMD ./manage.py migrate --noinput && ./manage.py pyuwsgi --http=:${PORT} --logger file:/var/log/uwsgi.log\n ---> Running in b159e2ed6edc\nRemoving intermediate container b159e2ed6edc\n ---> 4ed821466c0c\nStep 24/24 : EXPOSE ${PORT}\n ---> Running in a7ff002c24a9\nRemoving intermediate container a7ff002c24a9\n ---> 911bfb89ef18\nSuccessfully built 911bfb89ef18\nSuccessfully tagged dpaste:latest\n","stderr":"","imageSize":1007226483},"endTime":1672366250010}