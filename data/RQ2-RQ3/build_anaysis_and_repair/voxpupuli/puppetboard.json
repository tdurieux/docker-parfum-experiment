{"repository":"https://github.com/voxpupuli/puppetboard","dockerfilePath":"Dockerfile","startTime":1672450949805,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/voxpupuli/puppetboard'...\n","error":null,"commit":"22036142c409ebd8ce0b3ec7c3311bb0d000ca2d"},"originalBuild":{"startTimestamp":1672450951318,"endTimestamp":1672450976449,"error":null,"stdout":"Sending build context to Docker daemon  6.602MB\r\r\nStep 1/12 : FROM python:3.11-alpine\n3.11-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Pulling fs layer\nc89fd98887b3: Pulling fs layer\n877ccf16716c: Pulling fs layer\n3cfcd1e4ebae: Pulling fs layer\n877ccf16716c: Waiting\n3cfcd1e4ebae: Waiting\n7ec3a91b66d9: Verifying Checksum\n7ec3a91b66d9: Download complete\n7ec3a91b66d9: Pull complete\n877ccf16716c: Verifying Checksum\n877ccf16716c: Download complete\nc89fd98887b3: Verifying Checksum\nc89fd98887b3: Download complete\n3cfcd1e4ebae: Verifying Checksum\n3cfcd1e4ebae: Download complete\nc89fd98887b3: Pull complete\n877ccf16716c: Pull complete\n3cfcd1e4ebae: Pull complete\nDigest: sha256:af8fef83397b3886ed93d2c81bf3b4e70d39c0789c1c6feb1ecb86ca9bc42a0a\nStatus: Downloaded newer image for python:3.11-alpine\n ---> 18ccdc39ea28\nStep 2/12 : ENV PUPPETBOARD_PORT 80\n ---> Running in 9f74aa121cfe\nRemoving intermediate container 9f74aa121cfe\n ---> d5b38a24b109\nStep 3/12 : ENV PUPPETBOARD_HOST 0.0.0.0\n ---> Running in 258ddb604cd8\nRemoving intermediate container 258ddb604cd8\n ---> 564e311a729b\nStep 4/12 : ENV PUPPETBOARD_STATUS_ENDPOINT /status\n ---> Running in ce2a64edfcd1\nRemoving intermediate container ce2a64edfcd1\n ---> 4b4fba5c1bc8\nStep 5/12 : ENV PUPPETBOARD_SETTINGS docker_settings.py\n ---> Running in 2f0e10352d30\nRemoving intermediate container 2f0e10352d30\n ---> 2222b3f4b1b2\nStep 6/12 : EXPOSE 80\n ---> Running in 05236c2623ac\nRemoving intermediate container 05236c2623ac\n ---> 653dc23da35a\nStep 7/12 : HEALTHCHECK --interval=1m --timeout=5s --start-period=10s CMD python3 -c \"import requests; import sys; rc = 0 if requests.get('http://localhost:${PUPPETBOARD_PORT}${PUPPETBOARD_URL_PREFIX:-}${PUPPETBOARD_STATUS_ENDPOINT}').ok else 255; sys.exit(rc)\"\n ---> Running in 6155702d2f8d\nRemoving intermediate container 6155702d2f8d\n ---> 96276206eaa9\nStep 8/12 : RUN mkdir -p /usr/src/app/\n ---> Running in 490f1fffd38e\nRemoving intermediate container 490f1fffd38e\n ---> d9914fe8ef8a\nStep 9/12 : WORKDIR /usr/src/app/\n ---> Running in 106467379ab3\nRemoving intermediate container 106467379ab3\n ---> 92b043537481\nStep 10/12 : COPY . /usr/src/app\n ---> 2f49ee7cab10\nStep 11/12 : RUN pip install --no-cache-dir -r requirements-docker.txt .\n ---> Running in 188c7214a57c\nProcessing /usr/src/app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting certifi==2022.12.7\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 16.4 MB/s eta 0:00:00\nCollecting charset-normalizer==2.1.1\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting click==8.1.3\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 298.7 MB/s eta 0:00:00\nCollecting commonmark==0.9.1\n  Downloading commonmark-0.9.1-py2.py3-none-any.whl (51 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 51.1/51.1 kB 229.1 MB/s eta 0:00:00\nCollecting Flask==2.2.2\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 253.6 MB/s eta 0:00:00\nCollecting Flask-WTF==1.0.1\n  Downloading Flask_WTF-1.0.1-py3-none-any.whl (12 kB)\nCollecting idna==3.4\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 68.0 MB/s eta 0:00:00\nCollecting itsdangerous==2.1.2\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting Jinja2==3.1.2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 172.6 MB/s eta 0:00:00\nCollecting MarkupSafe==2.1.1\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting packaging==22\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 78.6 MB/s eta 0:00:00\nCollecting pyparsing==3.0.9\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.3/98.3 kB 312.0 MB/s eta 0:00:00\nCollecting pypuppetdb==3.1.0\n  Downloading pypuppetdb-3.1.0-py2.py3-none-any.whl (38 kB)\nCollecting requests==2.28.1\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 196.7 MB/s eta 0:00:00\nCollecting typing_extensions==4.4.0\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting urllib3==1.26.13\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 88.2 MB/s eta 0:00:00\nCollecting Werkzeug==2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 151.0 MB/s eta 0:00:00\nCollecting WTForms==3.0.1\n  Downloading WTForms-3.0.1-py3-none-any.whl (136 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 136.5/136.5 kB 99.0 MB/s eta 0:00:00\nCollecting zipp==3.11.0\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 230.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.11/site-packages (from gunicorn==20.1.0->-r requirements-docker.txt (line 2)) (65.5.0)\nBuilding wheels for collected packages: MarkupSafe, puppetboard\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-py3-none-any.whl size=9650 sha256=3f8d7a22ced03941e5df25e089f8d3e58df74153d294e59a59966ee9dea6054f\n  Stored in directory: /tmp/pip-ephem-wheel-cache-v_ilcsrz/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\n  Building wheel for puppetboard (setup.py): started\n  Building wheel for puppetboard (setup.py): finished with status 'done'\n  Created wheel for puppetboard: filename=puppetboard-4.2.3-py2.py3-none-any.whl size=2413817 sha256=973e9e20081a1a0471698e7c9aee7b8682d9a3e59a934caec82c183fb727835d\n  Stored in directory: /tmp/pip-ephem-wheel-cache-v_ilcsrz/wheels/b2/b1/15/2c9bda2c3541a2c801333072ca58af321ab8c269a465a4a43e\nSuccessfully built MarkupSafe puppetboard\nInstalling collected packages: commonmark, zipp, urllib3, typing_extensions, pyparsing, packaging, MarkupSafe, itsdangerous, idna, gunicorn, click, charset-normalizer, certifi, WTForms, Werkzeug, requests, Jinja2, pypuppetdb, Flask, Flask-WTF, puppetboard\nSuccessfully installed Flask-2.2.2 Flask-WTF-1.0.1 Jinja2-3.1.2 MarkupSafe-2.1.1 WTForms-3.0.1 Werkzeug-2.2.2 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 commonmark-0.9.1 gunicorn-20.1.0 idna-3.4 itsdangerous-2.1.2 packaging-22.0 puppetboard-4.2.3 pyparsing-3.0.9 pypuppetdb-3.1.0 requests-2.28.1 typing_extensions-4.4.0 urllib3-1.26.13 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 188c7214a57c\n ---> 82c8e58caa9a\nStep 12/12 : CMD gunicorn -b ${PUPPETBOARD_HOST}:${PUPPETBOARD_PORT} --workers=\"${PUPPETBOARD_WORKERS:-1}\" -e SCRIPT_NAME=\"${PUPPETBOARD_URL_PREFIX:-}\" --access-logfile=- puppetboard.app:app\n ---> Running in 48e7003dcc67\nRemoving intermediate container 48e7003dcc67\n ---> 68f0e85f3b73\nSuccessfully built 68f0e85f3b73\nSuccessfully tagged puppetboard:latest\n","stderr":"","imageSize":96771977},"repair":{"violations":[{"name":"mkdirUsrSrcThenRemove","position":{"start":10,"end":10,"columnStart":4,"columnEnd":26}}],"repairedDockerfile":"FROM python:3.11-alpine\n\nENV PUPPETBOARD_PORT 80\nENV PUPPETBOARD_HOST 0.0.0.0\nENV PUPPETBOARD_STATUS_ENDPOINT /status\nENV PUPPETBOARD_SETTINGS docker_settings.py\nEXPOSE 80\n\nHEALTHCHECK --interval=1m --timeout=5s --start-period=10s CMD python3 -c \"import requests; import sys; rc = 0 if requests.get('http://localhost:${PUPPETBOARD_PORT}${PUPPETBOARD_URL_PREFIX:-}${PUPPETBOARD_STATUS_ENDPOINT}').ok else 255; sys.exit(rc)\"\n\nRUN mkdir -p /usr/src/app/\nWORKDIR /usr/src/app/\nCOPY . /usr/src/app\nRUN pip install --no-cache-dir -r requirements-docker.txt .\n\nCMD gunicorn -b ${PUPPETBOARD_HOST}:${PUPPETBOARD_PORT} --workers=\"${PUPPETBOARD_WORKERS:-1}\" -e SCRIPT_NAME=\"${PUPPETBOARD_URL_PREFIX:-}\" --access-logfile=- puppetboard.app:app\n"},"repairedBuild":{"startTimestamp":1672450976831,"endTimestamp":1672450994016,"error":null,"stdout":"Sending build context to Docker daemon  6.602MB\r\r\nStep 1/12 : FROM python:3.11-alpine\n ---> 18ccdc39ea28\nStep 2/12 : ENV PUPPETBOARD_PORT 80\n ---> Running in 40355db174c8\nRemoving intermediate container 40355db174c8\n ---> 5cb8eaa5bbb8\nStep 3/12 : ENV PUPPETBOARD_HOST 0.0.0.0\n ---> Running in 202692e2b6eb\nRemoving intermediate container 202692e2b6eb\n ---> 3b37c8675c5d\nStep 4/12 : ENV PUPPETBOARD_STATUS_ENDPOINT /status\n ---> Running in ea0fd8e1060d\nRemoving intermediate container ea0fd8e1060d\n ---> b938797cdbaa\nStep 5/12 : ENV PUPPETBOARD_SETTINGS docker_settings.py\n ---> Running in f0d821eae2c5\nRemoving intermediate container f0d821eae2c5\n ---> 4db9d8cbbb4b\nStep 6/12 : EXPOSE 80\n ---> Running in 10d6c1cbbf38\nRemoving intermediate container 10d6c1cbbf38\n ---> f72deaffa4f5\nStep 7/12 : HEALTHCHECK --interval=1m --timeout=5s --start-period=10s CMD python3 -c \"import requests; import sys; rc = 0 if requests.get('http://localhost:${PUPPETBOARD_PORT}${PUPPETBOARD_URL_PREFIX:-}${PUPPETBOARD_STATUS_ENDPOINT}').ok else 255; sys.exit(rc)\"\n ---> Running in 4b18f61c02fd\nRemoving intermediate container 4b18f61c02fd\n ---> 2ba09f9713f9\nStep 8/12 : RUN mkdir -p /usr/src/app/\n ---> Running in 349e313ba6f4\nRemoving intermediate container 349e313ba6f4\n ---> b4be6ff41366\nStep 9/12 : WORKDIR /usr/src/app/\n ---> Running in 426aa5e291a5\nRemoving intermediate container 426aa5e291a5\n ---> e7516bbf6f4f\nStep 10/12 : COPY . /usr/src/app\n ---> 99d5e8e4b38d\nStep 11/12 : RUN pip install --no-cache-dir -r requirements-docker.txt .\n ---> Running in 024efa0ddedc\nProcessing /usr/src/app\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting certifi==2022.12.7\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 13.2 MB/s eta 0:00:00\nCollecting charset-normalizer==2.1.1\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting click==8.1.3\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 285.0 MB/s eta 0:00:00\nCollecting commonmark==0.9.1\n  Downloading commonmark-0.9.1-py2.py3-none-any.whl (51 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 51.1/51.1 kB 232.0 MB/s eta 0:00:00\nCollecting Flask==2.2.2\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 279.1 MB/s eta 0:00:00\nCollecting Flask-WTF==1.0.1\n  Downloading Flask_WTF-1.0.1-py3-none-any.whl (12 kB)\nCollecting idna==3.4\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 218.4 MB/s eta 0:00:00\nCollecting itsdangerous==2.1.2\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting Jinja2==3.1.2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 129.8 MB/s eta 0:00:00\nCollecting MarkupSafe==2.1.1\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting packaging==22\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.6/42.6 kB 188.8 MB/s eta 0:00:00\nCollecting pyparsing==3.0.9\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.3/98.3 kB 233.7 MB/s eta 0:00:00\nCollecting pypuppetdb==3.1.0\n  Downloading pypuppetdb-3.1.0-py2.py3-none-any.whl (38 kB)\nCollecting requests==2.28.1\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 126.4 MB/s eta 0:00:00\nCollecting typing_extensions==4.4.0\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting urllib3==1.26.13\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 88.4 MB/s eta 0:00:00\nCollecting Werkzeug==2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 129.4 MB/s eta 0:00:00\nCollecting WTForms==3.0.1\n  Downloading WTForms-3.0.1-py3-none-any.whl (136 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 136.5/136.5 kB 152.2 MB/s eta 0:00:00\nCollecting zipp==3.11.0\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 145.5 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.11/site-packages (from gunicorn==20.1.0->-r requirements-docker.txt (line 2)) (65.5.0)\nBuilding wheels for collected packages: MarkupSafe, puppetboard\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-py3-none-any.whl size=9650 sha256=c42946110b1e74465f1b937e766fffb485afe35e269d450578551c9f7c5dc2e1\n  Stored in directory: /tmp/pip-ephem-wheel-cache-rjnm28yp/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\n  Building wheel for puppetboard (setup.py): started\n  Building wheel for puppetboard (setup.py): finished with status 'done'\n  Created wheel for puppetboard: filename=puppetboard-4.2.3-py2.py3-none-any.whl size=2413817 sha256=9423442fabca0162c1bb9ad769079010b5c6082d1fedba0880eb9c75772180f1\n  Stored in directory: /tmp/pip-ephem-wheel-cache-rjnm28yp/wheels/b2/b1/15/2c9bda2c3541a2c801333072ca58af321ab8c269a465a4a43e\nSuccessfully built MarkupSafe puppetboard\nInstalling collected packages: commonmark, zipp, urllib3, typing_extensions, pyparsing, packaging, MarkupSafe, itsdangerous, idna, gunicorn, click, charset-normalizer, certifi, WTForms, Werkzeug, requests, Jinja2, pypuppetdb, Flask, Flask-WTF, puppetboard\nSuccessfully installed Flask-2.2.2 Flask-WTF-1.0.1 Jinja2-3.1.2 MarkupSafe-2.1.1 WTForms-3.0.1 Werkzeug-2.2.2 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 commonmark-0.9.1 gunicorn-20.1.0 idna-3.4 itsdangerous-2.1.2 packaging-22.0 puppetboard-4.2.3 pyparsing-3.0.9 pypuppetdb-3.1.0 requests-2.28.1 typing_extensions-4.4.0 urllib3-1.26.13 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 024efa0ddedc\n ---> a5238550410f\nStep 12/12 : CMD gunicorn -b ${PUPPETBOARD_HOST}:${PUPPETBOARD_PORT} --workers=\"${PUPPETBOARD_WORKERS:-1}\" -e SCRIPT_NAME=\"${PUPPETBOARD_URL_PREFIX:-}\" --access-logfile=- puppetboard.app:app\n ---> Running in 236e217514da\nRemoving intermediate container 236e217514da\n ---> 9b16608f3bd1\nSuccessfully built 9b16608f3bd1\nSuccessfully tagged puppetboard:latest\n","stderr":"","imageSize":96771977},"endTime":1672450994304}