{"repository":"https://github.com/thedevs-network/kutt","dockerfilePath":"Dockerfile","startTime":1672563284047,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/thedevs-network/kutt'...\n","error":null,"commit":"041aed5ad6d9c049aaefa9f150e93bf8835f2203"},"originalBuild":{"startTimestamp":1672563285148,"endTimestamp":1672563490590,"error":null,"stdout":"Sending build context to Docker daemon   1.97MB\r\r\nStep 1/10 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 2/10 : RUN apk add --update bash\n ---> Running in 68d705341469\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/4) Installing ncurses-libs (6.3_p20211120-r1)\n(3/4) Installing readline (8.1.1-r0)\n(4/4) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\nExecuting busybox-1.34.1-r5.trigger\nOK: 10 MiB in 20 packages\nRemoving intermediate container 68d705341469\n ---> f30b4ae28cda\nStep 3/10 : WORKDIR /usr/src/app\n ---> Running in 5fd1596399eb\nRemoving intermediate container 5fd1596399eb\n ---> 2a98bc32af52\nStep 4/10 : COPY package*.json ./\n ---> 940af909e409\nStep 5/10 : RUN npm install\n ---> Running in b1a31c60242c\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> re2@1.17.8 install /usr/src/app/node_modules/re2\n> install-from-cache --artifact build/Release/re2.node --host-var RE2_DOWNLOAD_MIRROR --skip-path-var RE2_DOWNLOAD_SKIP_PATH --skip-ver-var RE2_DOWNLOAD_SKIP_VER || npm run rebuild\n\nTrying https://github.com/uhop/node-re2/releases/download/1.17.8/linux-musl-x64-72.br ...\nTrying https://github.com/uhop/node-re2/releases/download/1.17.8/linux-musl-x64-72.gz ...\nBuilding locally ...\n\n> re2@1.17.8 rebuild /usr/src/app/node_modules/re2\n> node-gyp rebuild\n\n\u001b[91mgyp\u001b[0m\u001b[91m ERR! find Python \ngyp ERR! \u001b[0m\u001b[91mfind Python Python is not set from command line or npm configuration\ngyp ERR! find Python Python is not set from environment variable PYTHON\ngyp\u001b[0m\u001b[91m ERR! find Python checking if \"python\" can be used\ngyp ERR! \u001b[0m\u001b[91mfind Python - \"python\" is not in PATH or produced an error\ngyp ERR! find Python checking if \"python2\" can be used\ngyp \u001b[0m\u001b[91mERR! find Python - \"python2\" is not in PATH or produced an error\ngyp ERR! find Python\u001b[0m\u001b[91m checking if \"python3\" can be used\ngyp ERR! find Python - \"python3\" is not in PATH or produced an error\ngyp ERR! \u001b[0m\u001b[91mfind Python \ngyp ERR! find Python **********************************************************\ngyp \u001b[0m\u001b[91mERR! find Python You need to install the latest version of Python.\ngyp ERR! find Python\u001b[0m\u001b[91m Node-gyp should be able to find and use Python. If not,\ngyp ERR! find Python you can try one of the following options:\ngyp ERR! find Python\u001b[0m\u001b[91m - Use the switch --python=\"/path/to/pythonexecutable\"\ngyp ERR! find Python   (accepted by both node-gyp and npm)\ngyp ERR! find Python - Set the environment variable PYTHON\n\u001b[0m\u001b[91mgyp ERR! find Python - Set the npm configuration variable python:\ngyp ERR! find Python   npm config set python \"/path/to/pythonexecutable\"\n\u001b[0m\u001b[91mgyp ERR! find Python For more information consult the documentation at:\ngyp ERR! \u001b[0m\u001b[91mfind Python https://github.com/nodejs/node-gyp#installation\ngyp ERR! find Python **********************************************************\ngyp ERR!\u001b[0m\u001b[91m find Python \n\u001b[0m\u001b[91mgyp\u001b[0m\u001b[91m ERR! configure error \n\u001b[0m\u001b[91mgyp \u001b[0m\u001b[91mERR! stack Error: Could not find any Python installation to use\ngyp ERR! stack     at PythonFinder.fail (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:307:47)\ngyp\u001b[0m\u001b[91m ERR! stack     at PythonFinder.runChecks (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:136:21)\ngyp ERR! stack     at PythonFinder.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:179:16)\n\u001b[0m\u001b[91mgyp ERR! stack     at PythonFinder.execFileCallback (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:271:16)\ngyp ERR! \u001b[0m\u001b[91mstack     at exithandler (child_process.js:315:5)\ngyp ERR! stack     at ChildProcess.errorhandler (child_process.js:327:5)\ngyp\u001b[0m\u001b[91m ERR! stack     at ChildProcess.emit (events.js:314:20)\ngyp ERR!\u001b[0m\u001b[91m stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:274:12)\ngyp ERR! stack\u001b[0m\u001b[91m     at onErrorNT (internal/child_process.js:470:16)\ngyp ERR! stack     at processTicksAndRejections (internal/process/task_queues.js:84:21)\n\u001b[0m\u001b[91mgyp \u001b[0m\u001b[91mERR! System Linux 5.4.0-113-generic\ngyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\n\u001b[0m\u001b[91mgyp ERR! cwd /usr/src/app/node_modules/re2\ngyp\u001b[0m\u001b[91m ERR! node -v v12.22.12\ngyp ERR!\u001b[0m\u001b[91m node-gyp -v v5.1.0\ngyp ERR! not ok\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR! code ELIFECYCLE\nnpm ERR! errno 1\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m re2@1.17.8 rebuild: `node-gyp rebuild`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the re2@1.17.8 rebuild script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN Local package.json exists, but node_modules missing, did you mean to install?\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR! A complete log of this run can be found in:\nnpm \u001b[0m\u001b[91mERR!     /root/.npm/_logs/2023-01-01T08_55_53_513Z-debug.log\n\u001b[0m\u001b[91m(node:17) UnhandledPromiseRejectionWarning: 1\n(node:17) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)\n(node:17) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n\u001b[0m\n> core-js-pure@3.26.0 postinstall /usr/src/app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> styled-components@5.3.6 postinstall /usr/src/app/node_modules/styled-components\n> node ./postinstall.js\n\n\u001b[91mnpm WARN \u001b[0m\u001b[91mlifecycle\u001b[0m\u001b[91m kutt@2.7.4~prepare: cannot run in wd kutt@2.7.4 husky install (wd=/usr/src/app)\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-darwin-x64@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-darwin-x64):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-darwin-x64@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-win32-x64@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-win32-x64):\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-win32-x64@2.1.2: wanted {\"os\":\"win32\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-linux-arm@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-linux-arm):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-linux-arm@2.1.2: wanted {\"os\":\"linux\",\"arch\":\"arm\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-linux-arm64@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-linux-arm64):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-linux-arm64@2.1.2: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-win32-x64-msvc@12.3.3 (node_modules/@next/swc-win32-x64-msvc):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-win32-x64-msvc@12.3.3: wanted {\"os\":\"win32\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-win32-ia32-msvc@12.3.3 (node_modules/@next/swc-win32-ia32-msvc):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-win32-ia32-msvc@12.3.3: wanted {\"os\":\"win32\",\"arch\":\"ia32\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-win32-arm64-msvc@12.3.3 (node_modules/@next/swc-win32-arm64-msvc):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-win32-arm64-msvc@12.3.3: wanted {\"os\":\"win32\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-linux-arm64-musl@12.3.3 (node_modules/@next/swc-linux-arm64-musl):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-linux-arm64-musl@12.3.3: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-linux-arm64-gnu@12.3.3 (node_modules/@next/swc-linux-arm64-gnu):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-linux-arm64-gnu@12.3.3: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-linux-arm-gnueabihf@12.3.3 (node_modules/@next/swc-linux-arm-gnueabihf):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-linux-arm-gnueabihf@12.3.3: wanted {\"os\":\"linux\",\"arch\":\"arm\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-freebsd-x64@12.3.3 (node_modules/@next/swc-freebsd-x64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-freebsd-x64@12.3.3: wanted {\"os\":\"freebsd\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-darwin-arm64@12.3.3 (node_modules/@next/swc-darwin-arm64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-darwin-arm64@12.3.3: wanted {\"os\":\"darwin\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-darwin-x64@12.3.3 (node_modules/@next/swc-darwin-x64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-darwin-x64@12.3.3: wanted {\"os\":\"darwin\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-android-arm64@12.3.3 (node_modules/@next/swc-android-arm64):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-android-arm64@12.3.3: wanted {\"os\":\"android\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-android-arm-eabi@12.3.3 (node_modules/@next/swc-android-arm-eabi):\nnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-android-arm-eabi@12.3.3: wanted {\"os\":\"android\",\"arch\":\"arm\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-darwin-arm64@2.1.2 (node_modules/@msgpackr-extract/msgpackr-extract-darwin-arm64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-darwin-arm64@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1308 packages from 846 contributors and audited 1331 packages in 48.824s\n\n128 packages are looking for funding\n  run `npm fund` for details\n\nfound 23 vulnerabilities (1 low, 6 moderate, 16 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container b1a31c60242c\n ---> e37ed43700d4\nStep 6/10 : COPY . .\n ---> d75ab06881af\nStep 7/10 : RUN chmod +x ./wait-for-it.sh\n ---> Running in 13e15d40b650\nRemoving intermediate container 13e15d40b650\n ---> e8c9125c6bb0\nStep 8/10 : RUN npm run build\n ---> Running in 8ca7843f32ab\n\n> kutt@2.7.4 build /usr/src/app\n> rimraf production-server && tsc --project tsconfig.json && copyfiles -f \"server/mail/*.html\" production-server/mail && next build client/ \n\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Linting and checking validity of types...\ninfo  - Creating an optimized production build...\ninfo  - Compiled successfully\ninfo  - Collecting page data...\n\u001b[91mWarning: You have opted-out of Automatic Static Optimization due to `getInitialProps` in `pages/_app`. This does not opt-out pages with `getStaticProps`\nRead more: https://nextjs.org/docs/messages/opt-out-auto-static-optimization\n\n\u001b[0mRoute (pages)                              Size     First Load JS\n┌ λ /                                      24 kB           188 kB\n├   /_app                                  0 B             108 kB\n├ λ /404                                   197 B           108 kB\n├ λ /banned                                1.59 kB         141 kB\n├ λ /login                                 3.75 kB         147 kB\n├ λ /logout                                341 B           108 kB\n├ λ /protected/[id]                        2.9 kB          146 kB\n├ λ /report                                3.16 kB         146 kB\n├ λ /reset-password                        3.24 kB         146 kB\n├ λ /settings                              10.6 kB         157 kB\n├ λ /stats                                 161 kB          318 kB\n├ λ /terms                                 1.24 kB         141 kB\n├ λ /url-info                              1.49 kB         141 kB\n├ λ /verify                                957 B           141 kB\n└ λ /verify-email                          1.74 kB         142 kB\n+ First Load JS shared by all              108 kB\n  ├ chunks/framework-07ba49083a3e026b.js   42.1 kB\n  ├ chunks/main-be2057cc0ef2ec3b.js        31.1 kB\n  ├ chunks/pages/_app-b7d17a9f6fede571.js  33.6 kB\n  └ chunks/webpack-22d36c86917dfe44.js     888 B\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n\nRemoving intermediate container 8ca7843f32ab\n ---> 649d72c0bd09\nStep 9/10 : EXPOSE 3000\n ---> Running in e22cba139785\nRemoving intermediate container e22cba139785\n ---> 9289f0410482\nStep 10/10 : CMD [ \"npm\", \"start\" ]\n ---> Running in 897503ab28fa\nRemoving intermediate container 897503ab28fa\n ---> 0c283999cb03\nSuccessfully built 0c283999cb03\nSuccessfully tagged kutt:latest\n","stderr":"","imageSize":911201265},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:12-alpine\n\nRUN apk add --no-cache --update bash\n\n# Setting working directory.\nWORKDIR /usr/src/app\n\n# Installing dependencies\nCOPY package*.json ./\nRUN npm install\n\n# Copying source files\nCOPY . .\n\n# Give permission to run script\nRUN chmod +x ./wait-for-it.sh\n\n# Build files\nRUN npm run build\n\nEXPOSE 3000\n\n# Running the app\nCMD [ \"npm\", \"start\" ]"},"repairedBuild":{"startTimestamp":1672563492891,"endTimestamp":1672563669890,"error":null,"stdout":"Sending build context to Docker daemon   1.97MB\r\r\nStep 1/10 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 2/10 : RUN apk add --no-cache --update bash\n ---> Running in 87b84b97ce5c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/4) Installing ncurses-libs (6.3_p20211120-r1)\n(3/4) Installing readline (8.1.1-r0)\n(4/4) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\nExecuting busybox-1.34.1-r5.trigger\nOK: 10 MiB in 20 packages\nRemoving intermediate container 87b84b97ce5c\n ---> d7a08f28bb56\nStep 3/10 : WORKDIR /usr/src/app\n ---> Running in d6bc543196c6\nRemoving intermediate container d6bc543196c6\n ---> a9c76efa939f\nStep 4/10 : COPY package*.json ./\n ---> ef7700927569\nStep 5/10 : RUN npm install\n ---> Running in b2849eefd95b\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> re2@1.17.8 install /usr/src/app/node_modules/re2\n> install-from-cache --artifact build/Release/re2.node --host-var RE2_DOWNLOAD_MIRROR --skip-path-var RE2_DOWNLOAD_SKIP_PATH --skip-ver-var RE2_DOWNLOAD_SKIP_VER || npm run rebuild\n\nTrying https://github.com/uhop/node-re2/releases/download/1.17.8/linux-musl-x64-72.br ...\nTrying https://github.com/uhop/node-re2/releases/download/1.17.8/linux-musl-x64-72.gz ...\nBuilding locally ...\n\n> re2@1.17.8 rebuild /usr/src/app/node_modules/re2\n> node-gyp rebuild\n\n\u001b[91mgyp \u001b[0m\u001b[91mERR! find Python \ngyp ERR! find Python Python is not set from command line or npm configuration\ngyp ERR! find Python Python is not set from environment variable PYTHON\ngyp ERR! find Python checking if \"python\" can be used\ngyp ERR! find Python - \"python\" is not in PATH or produced an error\ngyp ERR! find Python checking if \"python2\" can be used\ngyp ERR! find Python - \"python2\" is not in PATH or produced an error\ngyp ERR! find Python checking if \"python3\" can be used\ngyp ERR! find Python - \"python3\" is not in PATH or produced an error\ngyp ERR! find Python \ngyp ERR! find Python **********************************************************\ngyp ERR! find Python You need to install the latest version of Python.\ngyp ERR! find Python Node-gyp should be able to find and use Python. If not,\ngyp ERR! find Python you can try one of the following options:\ngyp ERR! find Python - Use the switch --python=\"/path/to/pythonexecutable\"\ngyp ERR! find Python   (accepted by both node-gyp and npm)\ngyp ERR! find Python - Set the environment variable PYTHON\ngyp ERR! find Python - Set the npm configuration variable python:\ngyp ERR! find Python   npm config set python \"/path/to/pythonexecutable\"\ngyp ERR! find Python For more information consult the documentation at:\ngyp ERR! find Python https://github.com/nodejs/node-gyp#installation\ngyp ERR!\u001b[0m\u001b[91m find Python **********************************************************\ngyp ERR! find Python \n\u001b[0m\u001b[91mgyp ERR! configure error \n\u001b[0m\u001b[91mgyp ERR! stack Error: Could not find any Python installation to use\ngyp ERR! stack     at PythonFinder.fail (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:307:47)\ngyp ERR! stack     at PythonFinder.runChecks (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:136:21)\ngyp ERR!\u001b[0m\u001b[91m stack     at PythonFinder.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:179:16)\ngyp ERR! stack     at PythonFinder.execFileCallback (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/find-python.js:271:16)\ngyp ERR! stack     at exithandler (child_process.js:315:5)\ngyp ERR! stack     at ChildProcess.errorhandler (child_process.js:327:5)\ngyp ERR! stack     at ChildProcess.emit (events.js:314:20)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:274:12)\ngyp ERR! stack     at onErrorNT (internal/child_process.js:470:16)\ngyp \u001b[0m\u001b[91mERR! stack     at processTicksAndRejections (internal/process/task_queues.js:84:21)\ngyp ERR! System Linux 5.4.0-113-generic\n\u001b[0m\u001b[91mgyp ERR! command \"/usr/local/bin/node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /usr/src/app/node_modules/re2\ngyp ERR! node -v v12.22.12\ngyp ERR! node-gyp -v v5.1.0\ngyp ERR! not ok \n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mERR! code ELIFECYCLE\nnpm ERR! errno 1\n\u001b[0m\u001b[91mnpm ERR!\u001b[0m\u001b[91m re2@1.17.8 rebuild: `node-gyp rebuild`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the re2@1.17.8 rebuild script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN Local package.json exists, but node_modules missing, did you mean to install?\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2023-01-01T08_59_08_736Z-debug.log\n\u001b[0m\u001b[91m(node:18) UnhandledPromiseRejectionWarning: 1\n\u001b[0m\u001b[91m(node:18) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)\n\u001b[0m\u001b[91m(node:18) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n\u001b[0m\n> core-js-pure@3.26.0 postinstall /usr/src/app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> styled-components@5.3.6 postinstall /usr/src/app/node_modules/styled-components\n> node ./postinstall.js\n\n\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mlifecycle kutt@2.7.4~prepare: cannot run in wd kutt@2.7.4 husky install (wd=/usr/src/app)\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-linux-arm64@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-linux-arm64):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-linux-arm64@2.1.2: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-win32-x64@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-win32-x64):\nnpm \u001b[0m\u001b[91mWARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-win32-x64@2.1.2: wanted {\"os\":\"win32\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-darwin-x64@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-darwin-x64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-darwin-x64@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-linux-arm@2.1.2 (node_modules/msgpackr-extract/node_modules/@msgpackr-extract/msgpackr-extract-linux-arm):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-linux-arm@2.1.2: wanted {\"os\":\"linux\",\"arch\":\"arm\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-win32-x64-msvc@12.3.3 (node_modules/@next/swc-win32-x64-msvc):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-win32-x64-msvc@12.3.3: wanted {\"os\":\"win32\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-win32-ia32-msvc@12.3.3 (node_modules/@next/swc-win32-ia32-msvc):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-win32-ia32-msvc@12.3.3: wanted {\"os\":\"win32\",\"arch\":\"ia32\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-win32-arm64-msvc@12.3.3 (node_modules/@next/swc-win32-arm64-msvc):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-win32-arm64-msvc@12.3.3: wanted {\"os\":\"win32\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-linux-arm64-musl@12.3.3 (node_modules/@next/swc-linux-arm64-musl):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-linux-arm64-musl@12.3.3: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-linux-arm64-gnu@12.3.3 (node_modules/@next/swc-linux-arm64-gnu):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-linux-arm64-gnu@12.3.3: wanted {\"os\":\"linux\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-linux-arm-gnueabihf@12.3.3 (node_modules/@next/swc-linux-arm-gnueabihf):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-linux-arm-gnueabihf@12.3.3: wanted {\"os\":\"linux\",\"arch\":\"arm\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-freebsd-x64@12.3.3 (node_modules/@next/swc-freebsd-x64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-freebsd-x64@12.3.3: wanted {\"os\":\"freebsd\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-darwin-x64@12.3.3 (node_modules/@next/swc-darwin-x64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-darwin-x64@12.3.3: wanted {\"os\":\"darwin\",\"arch\":\"x64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-darwin-arm64@12.3.3 (node_modules/@next/swc-darwin-arm64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-darwin-arm64@12.3.3: wanted {\"os\":\"darwin\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-android-arm64@12.3.3 (node_modules/@next/swc-android-arm64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-android-arm64@12.3.3: wanted {\"os\":\"android\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @next/swc-android-arm-eabi@12.3.3 (node_modules/@next/swc-android-arm-eabi):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @next/swc-android-arm-eabi@12.3.3: wanted {\"os\":\"android\",\"arch\":\"arm\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: @msgpackr-extract/msgpackr-extract-darwin-arm64@2.1.2 (node_modules/@msgpackr-extract/msgpackr-extract-darwin-arm64):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for @msgpackr-extract/msgpackr-extract-darwin-arm64@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"arm64\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1308 packages from 846 contributors and audited 1331 packages in 44.115s\n\n128 packages are looking for funding\n  run `npm fund` for details\n\nfound 23 vulnerabilities (1 low, 6 moderate, 16 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container b2849eefd95b\n ---> f7506ebb1ba7\nStep 6/10 : COPY . .\n ---> 3321aac22c6e\nStep 7/10 : RUN chmod +x ./wait-for-it.sh\n ---> Running in f5221dc37b5a\nRemoving intermediate container f5221dc37b5a\n ---> e5b89687654d\nStep 8/10 : RUN npm run build\n ---> Running in 29ae63c12688\n\n> kutt@2.7.4 build /usr/src/app\n> rimraf production-server && tsc --project tsconfig.json && copyfiles -f \"server/mail/*.html\" production-server/mail && next build client/ \n\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\ninfo  - Linting and checking validity of types...\ninfo  - Creating an optimized production build...\ninfo  - Compiled successfully\ninfo  - Collecting page data...\n\u001b[91mWarning: You have opted-out of Automatic Static Optimization due to `getInitialProps` in `pages/_app`. This does not opt-out pages with `getStaticProps`\nRead more: https://nextjs.org/docs/messages/opt-out-auto-static-optimization\n\n\u001b[0mRoute (pages)                              Size     First Load JS\n┌ λ /                                      24 kB           188 kB\n├   /_app                                  0 B             108 kB\n├ λ /404                                   197 B           108 kB\n├ λ /banned                                1.59 kB         141 kB\n├ λ /login                                 3.75 kB         147 kB\n├ λ /logout                                341 B           108 kB\n├ λ /protected/[id]                        2.9 kB          146 kB\n├ λ /report                                3.16 kB         146 kB\n├ λ /reset-password                        3.24 kB         146 kB\n├ λ /settings                              10.6 kB         157 kB\n├ λ /stats                                 161 kB          318 kB\n├ λ /terms                                 1.24 kB         141 kB\n├ λ /url-info                              1.49 kB         141 kB\n├ λ /verify                                957 B           141 kB\n└ λ /verify-email                          1.74 kB         142 kB\n+ First Load JS shared by all              108 kB\n  ├ chunks/framework-07ba49083a3e026b.js   42.1 kB\n  ├ chunks/main-be2057cc0ef2ec3b.js        31.1 kB\n  ├ chunks/pages/_app-b7d17a9f6fede571.js  33.6 kB\n  └ chunks/webpack-22d36c86917dfe44.js     888 B\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n\nRemoving intermediate container 29ae63c12688\n ---> f24aa51cd140\nStep 9/10 : EXPOSE 3000\n ---> Running in aa4d5c903e4a\nRemoving intermediate container aa4d5c903e4a\n ---> 81d123c65373\nStep 10/10 : CMD [ \"npm\", \"start\" ]\n ---> Running in 7f0bbeb47881\nRemoving intermediate container 7f0bbeb47881\n ---> 74f2ec03e47e\nSuccessfully built 74f2ec03e47e\nSuccessfully tagged kutt:latest\n","stderr":"","imageSize":908897838},"endTime":1672563672332}