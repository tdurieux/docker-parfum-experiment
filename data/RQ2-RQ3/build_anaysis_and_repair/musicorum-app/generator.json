{"repository":"https://github.com/musicorum-app/generator","dockerfilePath":"Dockerfile","startTime":1672969122004,"endTime":1672969427940,"clone":{"startTime":1672969122005,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/musicorum-app/generator'...\n","error":null,"endTime":1672969123997,"commit":"3c8223ac6bbabaaca5c1d550f23458e3963a7269"},"originalBuild":{"startTime":1672969124070,"endTime":1672969239368,"error":null,"stdout":"Sending build context to Docker daemon  29.91MB\r\r\nStep 1/8 : FROM node:13\n13: Pulling from library/node\n1c6172af85ee: Pulling fs layer\nb194b0e3c928: Pulling fs layer\n1f5ec00f35d5: Pulling fs layer\n93b1353672b6: Pulling fs layer\n3d7f38db3cca: Pulling fs layer\n21e102f9fe89: Pulling fs layer\nd5431b24825a: Pulling fs layer\nf780e3352c18: Pulling fs layer\n4d28937582d0: Pulling fs layer\nd5431b24825a: Waiting\n3d7f38db3cca: Waiting\nf780e3352c18: Waiting\n21e102f9fe89: Waiting\n4d28937582d0: Waiting\n93b1353672b6: Waiting\n1f5ec00f35d5: Verifying Checksum\n1f5ec00f35d5: Download complete\nb194b0e3c928: Verifying Checksum\nb194b0e3c928: Download complete\n1c6172af85ee: Verifying Checksum\n1c6172af85ee: Download complete\n21e102f9fe89: Download complete\n93b1353672b6: Verifying Checksum\n93b1353672b6: Download complete\nf780e3352c18: Verifying Checksum\nf780e3352c18: Download complete\nd5431b24825a: Verifying Checksum\nd5431b24825a: Download complete\n4d28937582d0: Verifying Checksum\n4d28937582d0: Download complete\n1c6172af85ee: Pull complete\nb194b0e3c928: Pull complete\n1f5ec00f35d5: Pull complete\n3d7f38db3cca: Verifying Checksum\n3d7f38db3cca: Download complete\n93b1353672b6: Pull complete\n3d7f38db3cca: Pull complete\n21e102f9fe89: Pull complete\nd5431b24825a: Pull complete\nf780e3352c18: Pull complete\n4d28937582d0: Pull complete\nDigest: sha256:70d4fffcab39a1f9f7161d58e674ddcc56c7f0724196b68d52a87bab15cb4a04\nStatus: Downloaded newer image for node:13\n ---> 2b9604a36e49\nStep 2/8 : ENV NODE_ENV production\n ---> Running in 4325f0f4b41a\nRemoving intermediate container 4325f0f4b41a\n ---> 6415a53d1566\nStep 3/8 : WORKDIR /usr/src/app\n ---> Running in e46ba7be1099\nRemoving intermediate container e46ba7be1099\n ---> 37ac34c552d1\nStep 4/8 : COPY package*.json ./\n ---> 708a47392737\nStep 5/8 : RUN npm install --production\n ---> Running in 7a460ecf5996\n\u001b[91mnpm WARN deprecated axios@0.19.2: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated gentle-fs@2.3.1: This package is deprecated and will not be receiving further updates\n\u001b[0m\u001b[91mnpm WARN deprecated libcipm@4.0.8: This module is no longer used. Please see @npmcli/arborist if you would like to build and reify package trees programmatically.\n\u001b[0m\u001b[91mnpm WARN deprecated read-package-tree@5.3.1: The functionality that this package provided is now in @npmcli/arborist\n\u001b[0m\u001b[91mnpm WARN deprecated readdir-scoped-modules@1.1.0: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated node-fetch-npm@2.0.4: This module is not used anymore, npm uses minipass-fetch for its fetch implementation now\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\n> canvas@2.11.0 install /usr/src/app/node_modules/canvas\n> node-pre-gyp install --fallback-to-build --update-binary\n\n[canvas] Success: \"/usr/src/app/node_modules/canvas/build/Release/canvas.node\" is installed via remote\n\n> sharp@0.23.4 install /usr/src/app/node_modules/sharp\n> (node install/libvips && node install/dll-copy && prebuild-install) || (node-gyp rebuild && node install/dll-copy)\n\n\u001b[91minfo\u001b[0m\u001b[91m sharp Downloading https://github.com/lovell/sharp-libvips/releases/download/v8.8.1/libvips-8.8.1-linux-x64.tar.gz\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 831 packages from 1164 contributors and audited 1197 packages in 37.208s\n\n23 packages are looking for funding\n  run `npm fund` for details\n\nfound 18 vulnerabilities (6 moderate, 12 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 7a460ecf5996\n ---> 13ea8f73025f\nStep 6/8 : COPY . .\n ---> eb4ec7b74b09\nStep 7/8 : EXPOSE 5000\n ---> Running in 1288068576a2\nRemoving intermediate container 1288068576a2\n ---> 7c74237e34f2\nStep 8/8 : CMD npm start\n ---> Running in 4ee16dea57de\nRemoving intermediate container 4ee16dea57de\n ---> 9bc5011dc2e7\nSuccessfully built 9bc5011dc2e7\nSuccessfully tagged generator:latest\n","stderr":"","imageSize":1310643596},"repair":{"startTime":1672969239429,"endTime":1672969239476,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:13\nENV NODE_ENV production\nWORKDIR /usr/src/app\nCOPY package*.json ./\nRUN npm install --production && npm cache clean --force;\nCOPY . .\nEXPOSE 5000\nCMD npm start"},"repairedBuild":{"startTime":1672969240226,"endTime":1672969427433,"error":null,"stdout":"Sending build context to Docker daemon  29.91MB\r\r\nStep 1/8 : FROM node:13\n ---> 2b9604a36e49\nStep 2/8 : ENV NODE_ENV production\n ---> Running in 0ada212d1ef4\nRemoving intermediate container 0ada212d1ef4\n ---> 5b1033009082\nStep 3/8 : WORKDIR /usr/src/app\n ---> Running in 43ceba3e80ba\nRemoving intermediate container 43ceba3e80ba\n ---> 7a22c4c97c80\nStep 4/8 : COPY package*.json ./\n ---> cc644a99ec0c\nStep 5/8 : RUN npm install --production && npm cache clean --force;\n ---> Running in 11eb33c6799a\n\u001b[91mnpm WARN deprecated axios@0.19.2: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated gentle-fs@2.3.1: This package is deprecated and will not be receiving further updates\n\u001b[0m\u001b[91mnpm WARN deprecated libcipm@4.0.8: This module is no longer used. Please see @npmcli/arborist if you would like to build and reify package trees programmatically.\n\u001b[0m\u001b[91mnpm WARN deprecated read-package-tree@5.3.1: The functionality that this package provided is now in @npmcli/arborist\n\u001b[0m\u001b[91mnpm WARN deprecated readdir-scoped-modules@1.1.0: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config\n\u001b[0m\u001b[91mnpm WARN deprecated node-fetch-npm@2.0.4: This module is not used anymore, npm uses minipass-fetch for its fetch implementation now\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\n> canvas@2.11.0 install /usr/src/app/node_modules/canvas\n> node-pre-gyp install --fallback-to-build --update-binary\n\n[canvas] Success: \"/usr/src/app/node_modules/canvas/build/Release/canvas.node\" is installed via remote\n\n> sharp@0.23.4 install /usr/src/app/node_modules/sharp\n> (node install/libvips && node install/dll-copy && prebuild-install) || (node-gyp rebuild && node install/dll-copy)\n\n\u001b[91minfo\u001b[0m\u001b[91m sharp Downloading https://github.com/lovell/sharp-libvips/releases/download/v8.8.1/libvips-8.8.1-linux-x64.tar.gz\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 831 packages from 1164 contributors and audited 1197 packages in 30.478s\n\n23 packages are looking for funding\n  run `npm fund` for details\n\nfound 18 vulnerabilities (6 moderate, 12 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 11eb33c6799a\n ---> 57c6272203ac\nStep 6/8 : COPY . .\n ---> ea95cdbf82aa\nStep 7/8 : EXPOSE 5000\n ---> Running in e5fd562b380f\nRemoving intermediate container e5fd562b380f\n ---> 4ee4490c4884\nStep 8/8 : CMD npm start\n ---> Running in 5dbe2a77c6aa\nRemoving intermediate container 5dbe2a77c6aa\n ---> 137a82c3f9e5\nSuccessfully built 137a82c3f9e5\nSuccessfully tagged generator:latest\n","stderr":"","imageSize":1250549706}}