{"repository":"https://github.com/airnotifier/airnotifier","dockerfilePath":"Dockerfile","startTime":1672361891204,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/airnotifier/airnotifier'...\n","error":null,"commit":"27207bc9e8ee8f3ac9db428a456020d9e55eabda"},"originalBuild":{"startTimestamp":1672361892136,"endTimestamp":1672362062862,"error":null,"stdout":"Sending build context to Docker daemon    980kB\r\r\nStep 1/15 : FROM python:3.6\n3.6: Pulling from library/python\n0e29546d541c: Pulling fs layer\n9b829c73b52b: Pulling fs layer\ncb5b7ae36172: Pulling fs layer\n6494e4811622: Pulling fs layer\n6f9f74896dfa: Pulling fs layer\n5e3b1213efc5: Pulling fs layer\n9fddfdc56334: Pulling fs layer\n404f02044bac: Pulling fs layer\nc4f42be2be53: Pulling fs layer\n6494e4811622: Waiting\n6f9f74896dfa: Waiting\n5e3b1213efc5: Waiting\nc4f42be2be53: Waiting\n9fddfdc56334: Waiting\n404f02044bac: Waiting\n9b829c73b52b: Verifying Checksum\n9b829c73b52b: Download complete\ncb5b7ae36172: Verifying Checksum\ncb5b7ae36172: Download complete\n0e29546d541c: Download complete\n5e3b1213efc5: Verifying Checksum\n5e3b1213efc5: Download complete\n6494e4811622: Verifying Checksum\n6494e4811622: Download complete\n404f02044bac: Verifying Checksum\n404f02044bac: Download complete\n9fddfdc56334: Verifying Checksum\n9fddfdc56334: Download complete\nc4f42be2be53: Verifying Checksum\nc4f42be2be53: Download complete\n6f9f74896dfa: Verifying Checksum\n6f9f74896dfa: Download complete\n0e29546d541c: Pull complete\n9b829c73b52b: Pull complete\ncb5b7ae36172: Pull complete\n6494e4811622: Pull complete\n6f9f74896dfa: Pull complete\n5e3b1213efc5: Pull complete\n9fddfdc56334: Pull complete\n404f02044bac: Pull complete\nc4f42be2be53: Pull complete\nDigest: sha256:f8652afaf88c25f0d22354d547d892591067aa4026a7fa9a6819df9f300af6fc\nStatus: Downloaded newer image for python:3.6\n ---> 54260638d07c\nStep 2/15 : ENV LANG C.UTF-8\n ---> Running in e82aeaf8099c\nRemoving intermediate container e82aeaf8099c\n ---> ab87521ed1b7\nStep 3/15 : ENV LC_ALL C.UTF-8\n ---> Running in 0ab63dcfb75b\nRemoving intermediate container 0ab63dcfb75b\n ---> 210ebf2935bc\nStep 4/15 : ENV DEBIAN_FRONTEND=noninteractive TERM=linux\n ---> Running in 05872e5cd9e6\nRemoving intermediate container 05872e5cd9e6\n ---> 819d8154c57a\nStep 5/15 : EXPOSE 8801\n ---> Running in a7a80a2ff7ee\nRemoving intermediate container a7a80a2ff7ee\n ---> 64bc339f63af\nStep 6/15 : RUN apt-get update &&     apt-get install -y --no-install-recommends git ca-certificates\n ---> Running in d19dc5c9b883\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6167 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\ngit is already the newest version (1:2.30.2-1).\n0 upgraded, 0 newly installed, 0 to remove and 104 not upgraded.\nRemoving intermediate container d19dc5c9b883\n ---> 6c749e93d81d\nStep 7/15 : RUN pip3 install pipenv\n ---> Running in db6859ff5a9e\nCollecting pipenv\n  Downloading pipenv-2022.4.8-py2.py3-none-any.whl (3.6 MB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\nRequirement already satisfied: pip>=18.0 in /usr/local/lib/python3.6/site-packages (from pipenv) (21.2.4)\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.6/site-packages (from pipenv) (57.5.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.4.1-py3-none-any.whl (9.9 kB)\nCollecting importlib-metadata>=4.8.3\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.4.0-py3-none-any.whl (14 kB)\nCollecting importlib-resources>=5.4\n  Downloading importlib_resources-5.4.0-py3-none-any.whl (28 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nInstalling collected packages: zipp, typing-extensions, platformdirs, importlib-resources, importlib-metadata, filelock, distlib, virtualenv-clone, virtualenv, certifi, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.4.1 importlib-metadata-4.8.3 importlib-resources-5.4.0 pipenv-2022.4.8 platformdirs-2.4.0 typing-extensions-4.1.1 virtualenv-20.17.1 virtualenv-clone-0.5.7 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container db6859ff5a9e\n ---> 9f2d23c7b74f\nStep 8/15 : RUN git clone -b 2.x https://github.com/airnotifier/airnotifier.git /airnotifier\n ---> Running in bcf180c20ea8\n\u001b[91mCloning into '/airnotifier'...\n\u001b[0mRemoving intermediate container bcf180c20ea8\n ---> cd8ae6251c03\nStep 9/15 : RUN mkdir -p /var/airnotifier/pemdir &&     mkdir -p /var/log/airnotifier\n ---> Running in dd9dfe5cac34\nRemoving intermediate container dd9dfe5cac34\n ---> 4d9978abd033\nStep 10/15 : VOLUME [\"/airnotifier\", \"/var/log/airnotifier\", \"/var/airnotifier/pemdir\"]\n ---> Running in f21c43d571c3\nRemoving intermediate container f21c43d571c3\n ---> bc4b59b88e98\nStep 11/15 : WORKDIR /airnotifier\n ---> Running in 2f3039c317cc\nRemoving intermediate container 2f3039c317cc\n ---> f33b18e6d0d0\nStep 12/15 : RUN pipenv install --deploy\n ---> Running in c62cec6069cb\n\u001b[91mCreating a virtualenv for this project...\n\u001b[0m\u001b[91mPipfile: /airnotifier/Pipfile\n\u001b[0m\u001b[91mUsing /usr/local/bin/python3.6m (3.6.15) to create virtualenv...\n\u001b[0m\u001b[91m\r⠋\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠸ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠼ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠴\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠦ Creating virtual environment...\u001b[0m\u001b[91mcreated virtual environment CPython3.6.15.final.0-64 in 410ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/airnotifier-VNC5CTQn, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==21.3.1, setuptools==59.6.0, wheel==0.37.1\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m✔ Successfully created virtual environment! \n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/airnotifier-VNC5CTQn\n\u001b[0mInstalling dependencies from Pipfile.lock (eae79c)...\nRemoving intermediate container c62cec6069cb\n ---> 069398f7d4fa\nStep 13/15 : ADD start.sh /airnotifier\n ---> a69d8205e5f9\nStep 14/15 : RUN chmod a+x /airnotifier/start.sh\n ---> Running in d0feb6d78cc7\nRemoving intermediate container d0feb6d78cc7\n ---> 5134bdef0c92\nStep 15/15 : ENTRYPOINT /airnotifier/start.sh\n ---> Running in 8a8fee8ba0b6\nRemoving intermediate container 8a8fee8ba0b6\n ---> 882170426726\nSuccessfully built 882170426726\nSuccessfully tagged airnotifier:latest\n","stderr":"","imageSize":1014790899},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":4,"columnEnd":23}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":8,"end":8,"columnStart":4,"columnEnd":66}}],"repairedDockerfile":"FROM python:3.6\nENV LANG C.UTF-8\nENV LC_ALL C.UTF-8\nENV DEBIAN_FRONTEND=noninteractive TERM=linux\n\nEXPOSE 8801\n\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends git ca-certificates\n\nRUN pip3 install --no-cache-dir pipenv\n\nRUN git clone -b 2.x https://github.com/airnotifier/airnotifier.git /airnotifier\nRUN mkdir -p /var/airnotifier/pemdir && \\\n    mkdir -p /var/log/airnotifier\n\nVOLUME [\"/airnotifier\", \"/var/log/airnotifier\", \"/var/airnotifier/pemdir\"]\nWORKDIR /airnotifier\n\nRUN pipenv install --deploy\n\nADD start.sh /airnotifier\nRUN chmod a+x /airnotifier/start.sh\nENTRYPOINT /airnotifier/start.sh\n"},"repairedBuild":{"startTimestamp":1672362063299,"endTimestamp":1672362181330,"error":null,"stdout":"Sending build context to Docker daemon    980kB\r\r\nStep 1/15 : FROM python:3.6\n ---> 54260638d07c\nStep 2/15 : ENV LANG C.UTF-8\n ---> Running in e7416ad0f7db\nRemoving intermediate container e7416ad0f7db\n ---> c9938bba4e35\nStep 3/15 : ENV LC_ALL C.UTF-8\n ---> Running in 2a734015dedc\nRemoving intermediate container 2a734015dedc\n ---> c3b841319f1a\nStep 4/15 : ENV DEBIAN_FRONTEND=noninteractive TERM=linux\n ---> Running in fa74d087e793\nRemoving intermediate container fa74d087e793\n ---> 71ab6eb744c6\nStep 5/15 : EXPOSE 8801\n ---> Running in 5ca247a5cd66\nRemoving intermediate container 5ca247a5cd66\n ---> 5186818b9160\nStep 6/15 : RUN apt-get update &&     apt-get install -y --no-install-recommends git ca-certificates\n ---> Running in 3d6e273f77a6\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6752 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\ngit is already the newest version (1:2.30.2-1).\n0 upgraded, 0 newly installed, 0 to remove and 104 not upgraded.\nRemoving intermediate container 3d6e273f77a6\n ---> eb4d3e84ac18\nStep 7/15 : RUN pip3 install --no-cache-dir pipenv\n ---> Running in 36eea77ba6a0\nCollecting pipenv\n  Downloading pipenv-2022.4.8-py2.py3-none-any.whl (3.6 MB)\nRequirement already satisfied: pip>=18.0 in /usr/local/lib/python3.6/site-packages (from pipenv) (21.2.4)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.6/site-packages (from pipenv) (57.5.0)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.4.0-py3-none-any.whl (14 kB)\nCollecting importlib-metadata>=4.8.3\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting importlib-resources>=5.4\n  Downloading importlib_resources-5.4.0-py3-none-any.whl (28 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.4.1-py3-none-any.whl (9.9 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nInstalling collected packages: zipp, typing-extensions, platformdirs, importlib-resources, importlib-metadata, filelock, distlib, virtualenv-clone, virtualenv, certifi, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.4.1 importlib-metadata-4.8.3 importlib-resources-5.4.0 pipenv-2022.4.8 platformdirs-2.4.0 typing-extensions-4.1.1 virtualenv-20.17.1 virtualenv-clone-0.5.7 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 36eea77ba6a0\n ---> ebbddeb61fa7\nStep 8/15 : RUN git clone -b 2.x https://github.com/airnotifier/airnotifier.git /airnotifier\n ---> Running in e25599e1305f\n\u001b[91mCloning into '/airnotifier'...\n\u001b[0mRemoving intermediate container e25599e1305f\n ---> 9aa7eecee45f\nStep 9/15 : RUN mkdir -p /var/airnotifier/pemdir &&     mkdir -p /var/log/airnotifier\n ---> Running in fbe36ebed4ed\nRemoving intermediate container fbe36ebed4ed\n ---> b014d1c7076a\nStep 10/15 : VOLUME [\"/airnotifier\", \"/var/log/airnotifier\", \"/var/airnotifier/pemdir\"]\n ---> Running in bab80a088266\nRemoving intermediate container bab80a088266\n ---> fee719289bdc\nStep 11/15 : WORKDIR /airnotifier\n ---> Running in 9b881aa30fbe\nRemoving intermediate container 9b881aa30fbe\n ---> 7875d3d70311\nStep 12/15 : RUN pipenv install --deploy\n ---> Running in b4078d5aae32\n\u001b[91mCreating a virtualenv for this project...\nPipfile: /airnotifier/Pipfile\n\u001b[0m\u001b[91mUsing /usr/local/bin/python3.6m (3.6.15) to create virtualenv...\n\u001b[0m\u001b[91m\r⠋\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠸ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠼\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠴ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠦ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠧\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠇ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠏ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠋ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠸ Creating virtual environment...\u001b[0m\u001b[91mcreated virtual environment CPython3.6.15.final.0-64 in 881ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/airnotifier-VNC5CTQn, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==21.3.1, setuptools==59.6.0, wheel==0.37.1\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m✔ Successfully created virtual environment! \n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/airnotifier-VNC5CTQn\n\u001b[0mInstalling dependencies from Pipfile.lock (eae79c)...\nRemoving intermediate container b4078d5aae32\n ---> 9da534cf0f3b\nStep 13/15 : ADD start.sh /airnotifier\n ---> 9730bc7213ac\nStep 14/15 : RUN chmod a+x /airnotifier/start.sh\n ---> Running in d94caa2c8da4\nRemoving intermediate container d94caa2c8da4\n ---> c367d9d384f9\nStep 15/15 : ENTRYPOINT /airnotifier/start.sh\n ---> Running in 27b2568037df\nRemoving intermediate container 27b2568037df\n ---> 2796b537c2d5\nSuccessfully built 2796b537c2d5\nSuccessfully tagged airnotifier:latest\n","stderr":"","imageSize":1001411301},"endTime":1672362182500}