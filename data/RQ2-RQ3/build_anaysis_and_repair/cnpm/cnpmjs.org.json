{"repository":"https://github.com/cnpm/cnpmjs.org","dockerfilePath":"Dockerfile","startTime":1673199529413,"endTime":1673199715538,"clone":{"startTime":1673199529434,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cnpm/cnpmjs.org'...\n","error":null,"endTime":1673199530570,"commit":"922aa8ff1b406da49f29c0764a365be1db30d27a"},"originalBuild":{"startTime":1673199530669,"endTime":1673199637784,"error":null,"stdout":"Sending build context to Docker daemon  2.355MB\r\r\nStep 1/13 : FROM node:12\n12: Pulling from library/node\nf5196cdf2518: Pulling fs layer\n9bed1e86f01e: Pulling fs layer\nf44e4bdb3a6c: Pulling fs layer\n2f75d131f406: Pulling fs layer\n07dff4ad21eb: Pulling fs layer\ne0ac4f13b766: Pulling fs layer\ndf2c3b2eb7cc: Pulling fs layer\nefe636eac583: Pulling fs layer\nfe17849545bb: Pulling fs layer\n2f75d131f406: Waiting\n07dff4ad21eb: Waiting\ne0ac4f13b766: Waiting\ndf2c3b2eb7cc: Waiting\nefe636eac583: Waiting\nfe17849545bb: Waiting\n9bed1e86f01e: Verifying Checksum\n9bed1e86f01e: Download complete\nf44e4bdb3a6c: Verifying Checksum\nf44e4bdb3a6c: Download complete\nf5196cdf2518: Verifying Checksum\nf5196cdf2518: Download complete\ne0ac4f13b766: Download complete\ndf2c3b2eb7cc: Verifying Checksum\ndf2c3b2eb7cc: Download complete\n2f75d131f406: Verifying Checksum\n2f75d131f406: Download complete\nefe636eac583: Verifying Checksum\nefe636eac583: Download complete\nfe17849545bb: Verifying Checksum\nfe17849545bb: Download complete\nf5196cdf2518: Pull complete\n07dff4ad21eb: Verifying Checksum\n07dff4ad21eb: Download complete\n9bed1e86f01e: Pull complete\nf44e4bdb3a6c: Pull complete\n2f75d131f406: Pull complete\n07dff4ad21eb: Pull complete\ne0ac4f13b766: Pull complete\ndf2c3b2eb7cc: Pull complete\nefe636eac583: Pull complete\nfe17849545bb: Pull complete\nDigest: sha256:01627afeb110b3054ba4a1405541ca095c8bfca1cb6f2be9479c767a2711879e\nStatus: Downloaded newer image for node:12\n ---> 6c8de432fc7f\nStep 2/13 : MAINTAINER Bono Lv <lvscar  {aT} gmail.com>\n ---> Running in 6fd620beaca5\nRemoving intermediate container 6fd620beaca5\n ---> e510ff468999\nStep 3/13 : ENV     CNPM_DIR=\"/var/app/cnpmjs.org\"     CNPM_DATA_DIR=\"/var/data/cnpm_data\"\n ---> Running in dfb150ad3454\nRemoving intermediate container dfb150ad3454\n ---> 9a1be6e6165e\nStep 4/13 : RUN mkdir  -p ${CNPM_DIR}\n ---> Running in c9b8bb79a5da\nRemoving intermediate container c9b8bb79a5da\n ---> 78c043f370ac\nStep 5/13 : WORKDIR ${CNPM_DIR}\n ---> Running in 7fb1d45d9588\nRemoving intermediate container 7fb1d45d9588\n ---> fbe9680c47fe\nStep 6/13 : COPY package.json ${CNPM_DIR}\n ---> 6fc26c6f1c54\nStep 7/13 : RUN npm set registry https://registry.npmmirror.com\n ---> Running in 6b43064f5914\nRemoving intermediate container 6b43064f5914\n ---> d7ba36727913\nStep 8/13 : RUN npm install --production\n ---> Running in 553a14ded507\n\u001b[91mnpm WARN deprecated istanbul@0.4.5: This module is no longer maintained, try this instead:\nnpm WARN deprecated   npm i nyc\nnpm WARN\u001b[0m\u001b[91m deprecated Visit https://istanbul.js.org/integrations for other alternatives.\n\u001b[0m\u001b[91mnpm WARN deprecated nodemailer@1.11.0: All versions below 4.0.1 of Nodemailer are deprecated. See https://nodemailer.com/status/\n\u001b[0m\u001b[91mnpm WARN deprecated sequelize@3.35.1: Please update to v6 or higher! A migration guide can be found here: https://sequelize.org/v6/manual/upgrade-to-v6.html\n\u001b[0m\u001b[91mnpm WARN deprecated treekill@1.0.0: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@2.3.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated json3@3.3.2: Please use the native JSON object instead of JSON 3\n\u001b[0m\u001b[91mnpm WARN deprecated mailcomposer@2.1.0: This project is unmaintained\n\u001b[0m\u001b[91mnpm WARN deprecated koa-csrf@2.1.3: Please use SameSite lax or strict see <https://scotthelme.co.uk/csrf-is-dead/> and example usage of in @forwardemail codebase <https://github.com/forwardemail/forwardemail.net/blob/040c07f076642ddd3a1a09c63c4252609a4bc52e/config/cookies.js\\#L12-L16>\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated koa-static-cache@3.0.3: this version has critical security issue, please upgrade to >=4.1.1\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m terraformer-wkt-parser@1.2.1: terraformer-wkt-parser is deprecated and no longer supported. Please use @terraformer/wkt.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated\u001b[0m\u001b[91m core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated\u001b[0m\u001b[91m buildmail@2.0.0: This project is unmaintained\n\u001b[0m\u001b[91mnpm WARN deprecated ejs@1.0.0: Critical security bugs fixed in 2.5.5\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated terraformer@1.0.12: terraformer is deprecated and no longer supported. Please use @terraformer/arcgis.\n\u001b[0m\u001b[91mnpm WARN deprecated swig@1.4.2: This package is no longer maintained\n\u001b[0m\u001b[91mnpm WARN deprecated lingo@0.0.5: This project is abandoned\n\u001b[0m\u001b[91mnpm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.\n\u001b[0m\u001b[91mnpm WARN deprecated native-or-bluebird@1.2.0: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.\n\u001b[0m\u001b[91mnpm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for back@0.1.5: wanted: {\"node\":\"0.10.x || 0.8.x\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: back@0.1.5\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for node-dev@8.0.0: wanted: {\"node\":\">=14\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: node-dev@8.0.0\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for mm@3.2.1: wanted: {\"node\":\">=14.0.0\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN notsup Not compatible with your version of node/npm: mm@3.2.1\n\u001b[0m\u001b[91m\n\u001b[0madded 438 packages from 310 contributors in 31.094s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\nRemoving intermediate container 553a14ded507\n ---> d41400900ec2\nStep 9/13 : COPY .  ${CNPM_DIR}\n ---> b1cb9913444e\nStep 10/13 : COPY docs/dockerize/config.js  ${CNPM_DIR}/config/\n ---> d22158642007\nStep 11/13 : EXPOSE 7001/tcp 7002/tcp\n ---> Running in 16136ce506a3\nRemoving intermediate container 16136ce506a3\n ---> 6ed9c3b88d21\nStep 12/13 : VOLUME [\"/var/data/cnpm_data\"]\n ---> Running in bb5dd0b8c911\nRemoving intermediate container bb5dd0b8c911\n ---> f21c66a58b37\nStep 13/13 : CMD [\"node\", \"dispatch.js\"]\n ---> Running in 24941c50e367\nRemoving intermediate container 24941c50e367\n ---> 394e60f87da4\nSuccessfully built 394e60f87da4\nSuccessfully tagged cnpmjs.org:latest\n","stderr":"","imageSize":977463754},"repair":{"startTime":1673199637843,"endTime":1673199637889,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:12\nMAINTAINER Bono Lv <lvscar  {aT} gmail.com>\n\n# Working enviroment\nENV \\\n    CNPM_DIR=\"/var/app/cnpmjs.org\" \\\n    CNPM_DATA_DIR=\"/var/data/cnpm_data\"\n\nRUN mkdir  -p ${CNPM_DIR}\n\nWORKDIR ${CNPM_DIR}\n\nCOPY package.json ${CNPM_DIR}\n\nRUN npm set registry https://registry.npmmirror.com\n\nRUN npm install --production && npm cache clean --force;\n\nCOPY .  ${CNPM_DIR}\nCOPY docs/dockerize/config.js  ${CNPM_DIR}/config/\n\nEXPOSE 7001/tcp 7002/tcp\n\nVOLUME [\"/var/data/cnpm_data\"]\n\n# Entrypoint\nCMD [\"node\", \"dispatch.js\"]\n\n"},"repairedBuild":{"startTime":1673199638851,"endTime":1673199714897,"error":null,"stdout":"Sending build context to Docker daemon  2.355MB\r\r\nStep 1/13 : FROM node:12\n ---> 6c8de432fc7f\nStep 2/13 : MAINTAINER Bono Lv <lvscar  {aT} gmail.com>\n ---> Running in 4e50ed4b6fbc\nRemoving intermediate container 4e50ed4b6fbc\n ---> e136f0cdf0ed\nStep 3/13 : ENV     CNPM_DIR=\"/var/app/cnpmjs.org\"     CNPM_DATA_DIR=\"/var/data/cnpm_data\"\n ---> Running in 58901761c046\nRemoving intermediate container 58901761c046\n ---> 323723efa044\nStep 4/13 : RUN mkdir  -p ${CNPM_DIR}\n ---> Running in 9a5b059e82f2\nRemoving intermediate container 9a5b059e82f2\n ---> 733bf133066f\nStep 5/13 : WORKDIR ${CNPM_DIR}\n ---> Running in bad45432554f\nRemoving intermediate container bad45432554f\n ---> 317c48cedb33\nStep 6/13 : COPY package.json ${CNPM_DIR}\n ---> f2f9ff9d4669\nStep 7/13 : RUN npm set registry https://registry.npmmirror.com\n ---> Running in 7590038e276c\nRemoving intermediate container 7590038e276c\n ---> b271e2f7be35\nStep 8/13 : RUN npm install --production && npm cache clean --force;\n ---> Running in 41f1a30c7d55\n\u001b[91mnpm WARN deprecated istanbul@0.4.5: This module is no longer maintained, try this instead:\nnpm WARN deprecated   npm i nyc\nnpm WARN deprecated Visit https://istanbul.js.org/integrations for other alternatives.\n\u001b[0m\u001b[91mnpm WARN deprecated nodemailer@1.11.0: All versions below 4.0.1 of Nodemailer are deprecated. See https://nodemailer.com/status/\n\u001b[0m\u001b[91mnpm WARN deprecated treekill@1.0.0: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated sequelize@3.35.1: Please update to v6 or higher! A migration guide can be found here: https://sequelize.org/v6/manual/upgrade-to-v6.html\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise@4.2.6: request-promise has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated koa-csrf@2.1.3: Please use SameSite lax or strict see <https://scotthelme.co.uk/csrf-is-dead/> and example usage of in @forwardemail codebase <https://github.com/forwardemail/forwardemail.net/blob/040c07f076642ddd3a1a09c63c4252609a4bc52e/config/cookies.js\\#L12-L16>\n\u001b[0m\u001b[91mnpm WARN deprecated koa-static-cache@3.0.3: this version has critical security issue, please upgrade to >=4.1.1\n\u001b[0m\u001b[91mnpm WARN deprecated mailcomposer@2.1.0: This project is unmaintained\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated terraformer-wkt-parser@1.2.1: terraformer-wkt-parser is deprecated and no longer supported. Please use @terraformer/wkt.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@2.3.0: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated json3@3.3.2: Please use the native JSON object instead of JSON 3\n\u001b[0m\u001b[91mnpm WARN deprecated ejs@1.0.0: Critical security bugs fixed in 2.5.5\n\u001b[0m\u001b[91mnpm WARN deprecated swig@1.4.2: This package is no longer maintained\n\u001b[0m\u001b[91mnpm WARN deprecated buildmail@2.0.0: This project is unmaintained\n\u001b[0m\u001b[91mnpm WARN deprecated terraformer@1.0.12: terraformer is deprecated and no longer supported. Please use @terraformer/arcgis.\n\u001b[0m\u001b[91mnpm WARN deprecated lingo@0.0.5: This project is abandoned\n\u001b[0m\u001b[91mnpm WARN deprecated native-or-bluebird@1.2.0: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.\n\u001b[0m\u001b[91mnpm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0\n\u001b[0m\u001b[91mnpm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for back@0.1.5: wanted: {\"node\":\"0.10.x || 0.8.x\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: back@0.1.5\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for mm@3.2.1: wanted: {\"node\":\">=14.0.0\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\nnpm \u001b[0m\u001b[91mWARN notsup Not compatible with your version of node/npm: mm@3.2.1\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for node-dev@8.0.0: wanted: {\"node\":\">=14\"} (current: {\"node\":\"12.22.12\",\"npm\":\"6.14.16\"})\n\u001b[0m\u001b[91mnpm WARN notsup Not compatible with your version of node/npm: node-dev@8.0.0\n\u001b[0m\u001b[91m\n\u001b[0madded 438 packages from 310 contributors in 12.622s\n\n14 packages are looking for funding\n  run `npm fund` for details\n\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 41f1a30c7d55\n ---> 9456154f27c8\nStep 9/13 : COPY .  ${CNPM_DIR}\n ---> cb81661278c9\nStep 10/13 : COPY docs/dockerize/config.js  ${CNPM_DIR}/config/\n ---> 81587459a349\nStep 11/13 : EXPOSE 7001/tcp 7002/tcp\n ---> Running in 6f7a0414ff2f\nRemoving intermediate container 6f7a0414ff2f\n ---> 459a16b23503\nStep 12/13 : VOLUME [\"/var/data/cnpm_data\"]\n ---> Running in 26faa051d31e\nRemoving intermediate container 26faa051d31e\n ---> cf8d7a0022a3\nStep 13/13 : CMD [\"node\", \"dispatch.js\"]\n ---> Running in 72688ecb7bed\nRemoving intermediate container 72688ecb7bed\n ---> 5765dfa7bf4f\nSuccessfully built 5765dfa7bf4f\nSuccessfully tagged cnpmjs.org:latest\n","stderr":"","imageSize":950811276}}