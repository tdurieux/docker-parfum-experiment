{"repository":"https://github.com/naval-base/akashi","dockerfilePath":"Dockerfile","startTime":1672088949461,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/naval-base/akashi'...\n","error":null,"commit":"c82f870624b854eace3d88d1b11bce01955d4626"},"originalBuild":{"startTimestamp":1672088950327,"endTimestamp":1672088990212,"error":null,"stdout":"Sending build context to Docker daemon  300.5kB\r\r\nStep 1/11 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 2/11 : LABEL name \"akashi\"\n ---> Running in 021144524fd4\nRemoving intermediate container 021144524fd4\n ---> 4fe5720bfc0e\nStep 3/11 : LABEL version \"0.1.0\"\n ---> Running in 16d1390fd671\nRemoving intermediate container 16d1390fd671\n ---> ef918944b53b\nStep 4/11 : LABEL maintainer \"iCrawl <icrawltogo@gmail.com>\"\n ---> Running in 67c1304e5e2c\nRemoving intermediate container 67c1304e5e2c\n ---> e2eee8b80995\nStep 5/11 : WORKDIR /usr/src/akashi\n ---> Running in 095142819dbf\nRemoving intermediate container 095142819dbf\n ---> 78be5aa0d94c\nStep 6/11 : COPY package.json pnpm-lock.yaml ./\n ---> 3e051819d67c\nStep 7/11 : RUN apk add --update && apk add --no-cache --virtual .build-deps git curl && curl -L https://unpkg.com/@pnpm/self-installer | node && pnpm i && apk del .build-deps\n ---> Running in 6a3c5a048068\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nOK: 7 MiB in 16 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ca-certificates (20191127-r2)\n(2/8) Installing nghttp2-libs (1.40.0-r1)\n(3/8) Installing libcurl (7.79.1-r0)\n(4/8) Installing expat (2.2.9-r1)\n(5/8) Installing pcre2 (10.34-r1)\n(6/8) Installing git (2.24.4-r0)\n(7/8) Installing curl (7.79.1-r0)\n(8/8) Installing .build-deps (20221226.210912)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 24 MiB in 24 packages\n\u001b[91m  % Total    % Received % Xferd  Average Spee\u001b[0m\u001b[91md   Time    Time     Time  \u001b[0m\u001b[91mCurren\u001b[0m\u001b[91mt\n          \u001b[0m\u001b[91m    \u001b[0m\u001b[91m  \u001b[0m\u001b[91m                 D\u001b[0m\u001b[91mloa\u001b[0m\u001b[91md  Up\u001b[0m\u001b[91mload\u001b[0m\u001b[91m   To\u001b[0m\u001b[91mtal   Spent \u001b[0m\u001b[91m   Left  Speed\n\u001b[0m\u001b[91m\r\u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m  0    0    \u001b[0m\u001b[91m 0    0     0    \u001b[0m\u001b[91m  0      \u001b[0m\u001b[91m0 --:--:-- \u001b[0m\u001b[91m--:--:\u001b[0m\u001b[91m-- -\u001b[0m\u001b[91m-:--:--    \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m\r100    49    0    49    0    \u001b[0m\u001b[91m 0     54      0 -\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-:-- --:--:-- --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m--  \u001b[0m\u001b[91m  5\u001b[0m\u001b[91m4\r100  \u001b[0m\u001b[91m  49    0    49    0     0     54 \u001b[0m\u001b[91m     0 --:--:-- --:-\u001b[0m\u001b[91m-:-- --:-\u001b[0m\u001b[91m-:--   \u001b[0m\u001b[91m 54\n\u001b[0m\u001b[91m\r100    60    0    60    0     0     65    \u001b[0m\u001b[91m  0 --:--:-- --\u001b[0m\u001b[91m:--:--\u001b[0m\u001b[91m --:\u001b[0m\u001b[91m--:-\u001b[0m\u001b[91m-   \u001b[0m\u001b[91m 65\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r100 1186k    0 1186k    0     0  1252k    \u001b[0m\u001b[91m  0 --:--:-- --\u001b[0m\u001b[91m:--:-- --:--:-- 1252k\n\u001b[0mDownloading https://registry.npmjs.org/pnpm/-/pnpm-5.18.10.tgz\nProgress: resolved 1, reused 0, downloaded 0, added 0\nProgress: resolved 12, reused 0, downloaded 12, added 0\nProgress: resolved 13, reused 0, downloaded 12, added 0\nProgress: resolved 136, reused 0, downloaded 121, added 0\nProgress: resolved 136, reused 0, downloaded 122, added 0\nProgress: resolved 207, reused 0, downloaded 184, added 0\nProgress: resolved 207, reused 0, downloaded 185, added 0\nProgress: resolved 250, reused 0, downloaded 236, added 0\nProgress: resolved 251, reused 0, downloaded 236, added 0\nProgress: resolved 324, reused 0, downloaded 299, added 0\nProgress: resolved 324, reused 0, downloaded 300, added 0\nProgress: resolved 438, reused 0, downloaded 403, added 0\nProgress: resolved 438, reused 0, downloaded 404, added 0\nPackages: +498\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nPackages are hard linked from the content-addressable store to the virtual store.\n  Content-addressable store is at: /root/.pnpm-store/v3\n  Virtual store is at:             node_modules/.pnpm\nProgress: resolved 499, reused 0, downloaded 498, added 196\nProgress: resolved 499, reused 0, downloaded 498, added 197\nProgress: resolved 499, reused 0, downloaded 499, added 498, done\n WARN  Failed to find \"/fsevents/2.3.2\" in lockfile during hoisting. Next aliases will not be hoisted: fsevents\n\ndependencies:\n+ @polka/send-type 0.5.2\n+ @spectacles/rest 0.8.3\n+ body-parser 1.19.0\n+ compression 1.7.4\n+ cors 2.8.5\n+ dotenv 14.3.2 (16.0.3 is available)\n+ helmet 4.6.0 (6.0.1 is available)\n+ polka 0.5.2\n+ winston 3.2.1\n\ndevDependencies:\n+ eslint 8.30.0\n+ eslint-config-aqua 9.2.1\n+ jest 27.5.1 (29.3.1 is available)\n+ node-fetch 3.3.0\n\n(1/8) Purging .build-deps (20221226.210912)\n(2/8) Purging git (2.24.4-r0)\n(3/8) Purging curl (7.79.1-r0)\n(4/8) Purging libcurl (7.79.1-r0)\n(5/8) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(6/8) Purging nghttp2-libs (1.40.0-r1)\n(7/8) Purging expat (2.2.9-r1)\n(8/8) Purging pcre2 (10.34-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 7 MiB in 16 packages\nRemoving intermediate container 6a3c5a048068\n ---> de2f58163470\nStep 8/11 : COPY . .\n ---> 383a596f5dcf\nStep 9/11 : EXPOSE 9901\n ---> Running in 1099759bae47\nRemoving intermediate container 1099759bae47\n ---> 12eff3cb2568\nStep 10/11 : ENV NODE_ENV= \tPORT= \tDISCORD_TOKEN=\n ---> Running in b905e75dcac1\nRemoving intermediate container b905e75dcac1\n ---> ddb54a40331b\nStep 11/11 : CMD [\"node\", \"src/index.js\"]\n ---> Running in 68db0c2ad6a4\nRemoving intermediate container 68db0c2ad6a4\n ---> 099ba2f4e267\nSuccessfully built 099ba2f4e267\nSuccessfully tagged akashi:latest\n","stderr":"","imageSize":183175419},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":8,"end":8,"columnStart":3,"columnEnd":49}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"FROM node:10-alpine\nLABEL name \"akashi\"\nLABEL version \"0.1.0\"\nLABEL maintainer \"iCrawl <icrawltogo@gmail.com>\"\nWORKDIR /usr/src/akashi\nCOPY package.json pnpm-lock.yaml ./\nRUN apk add --no-cache --update \\\n&& apk add --no-cache --virtual .build-deps git curl \\\n&& curl -f -L https://unpkg.com/@pnpm/self-installer | node \\\n&& pnpm i \\\n&& apk del .build-deps\nCOPY . .\nEXPOSE 9901\nENV NODE_ENV= \\\n\tPORT= \\\n\tDISCORD_TOKEN=\nCMD [\"node\", \"src/index.js\"]\n"},"repairedBuild":{"startTimestamp":1672088990904,"endTimestamp":1672089018072,"error":null,"stdout":"Sending build context to Docker daemon  300.5kB\r\r\nStep 1/11 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 2/11 : LABEL name \"akashi\"\n ---> Running in d7dd1aa8ad7a\nRemoving intermediate container d7dd1aa8ad7a\n ---> 36755172b28b\nStep 3/11 : LABEL version \"0.1.0\"\n ---> Running in 0c76c43c3a28\nRemoving intermediate container 0c76c43c3a28\n ---> fbb5bc3b7213\nStep 4/11 : LABEL maintainer \"iCrawl <icrawltogo@gmail.com>\"\n ---> Running in f4b3be466bb4\nRemoving intermediate container f4b3be466bb4\n ---> ef6ff1211556\nStep 5/11 : WORKDIR /usr/src/akashi\n ---> Running in 166bbb7a050c\nRemoving intermediate container 166bbb7a050c\n ---> 6df799244e8b\nStep 6/11 : COPY package.json pnpm-lock.yaml ./\n ---> 9e89f5d7729b\nStep 7/11 : RUN apk add --no-cache --update && apk add --no-cache --virtual .build-deps git curl && curl -f -L https://unpkg.com/@pnpm/self-installer | node && pnpm i && apk del .build-deps\n ---> Running in 10a0d7a6c86f\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nOK: 7 MiB in 16 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/8) Installing ca-certificates (20191127-r2)\n(2/8) Installing nghttp2-libs (1.40.0-r1)\n(3/8) Installing libcurl (7.79.1-r0)\n(4/8) Installing expat (2.2.9-r1)\n(5/8) Installing pcre2 (10.34-r1)\n(6/8) Installing git (2.24.4-r0)\n(7/8) Installing curl (7.79.1-r0)\n(8/8) Installing .build-deps (20221226.210954)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 24 MiB in 24 packages\n\u001b[91m  % Total    % Received % Xferd  Average \u001b[0m\u001b[91mSpeed   Tim\u001b[0m\u001b[91me    Time     Time  C\u001b[0m\u001b[91murren\u001b[0m\u001b[91mt\n        \u001b[0m\u001b[91m \u001b[0m\u001b[91m      \u001b[0m\u001b[91m  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m    \u001b[0m\u001b[91m    \u001b[0m\u001b[91m    \u001b[0m\u001b[91m  D\u001b[0m\u001b[91mloa\u001b[0m\u001b[91md  U\u001b[0m\u001b[91mpload\u001b[0m\u001b[91m   T\u001b[0m\u001b[91motal\u001b[0m\u001b[91m   \u001b[0m\u001b[91mSpen\u001b[0m\u001b[91mt \u001b[0m\u001b[91m   \u001b[0m\u001b[91mLeft\u001b[0m\u001b[91m  S\u001b[0m\u001b[91mp\u001b[0m\u001b[91meed\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m  \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m  \u001b[0m\u001b[91m  0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0  \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- -\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m-:-- --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r100    49    0    49    0\u001b[0m\u001b[91m     0   1069 \u001b[0m\u001b[91m    \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m--\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- -\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --:--:--  1\u001b[0m\u001b[91m088\n\u001b[0m\u001b[91m\r100    60    0    60    0     0    998      0 --\u001b[0m\u001b[91m:--:-- --:--:\u001b[0m\u001b[91m-- --:\u001b[0m\u001b[91m--:-- \u001b[0m\u001b[91m  998\n\u001b[0m\u001b[91m\r100 1186k    0 1186k    \u001b[0m\u001b[91m0     0  \u001b[0m\u001b[91m7313k\u001b[0m\u001b[91m   \u001b[0m\u001b[91m   0 --:--:-\u001b[0m\u001b[91m- --:-\u001b[0m\u001b[91m-:-- --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m 73\u001b[0m\u001b[91m13k\n\u001b[0mDownloading https://registry.npmjs.org/pnpm/-/pnpm-5.18.10.tgz\nProgress: resolved 1, reused 0, downloaded 0, added 0\nProgress: resolved 72, reused 0, downloaded 49, added 0\nProgress: resolved 72, reused 0, downloaded 50, added 0\nProgress: resolved 164, reused 0, downloaded 98, added 0\nProgress: resolved 165, reused 0, downloaded 98, added 0\nProgress: resolved 216, reused 0, downloaded 179, added 0\nProgress: resolved 216, reused 0, downloaded 180, added 0\nProgress: resolved 341, reused 0, downloaded 306, added 0\nProgress: resolved 341, reused 0, downloaded 307, added 0\nProgress: resolved 471, reused 0, downloaded 458, added 0\nProgress: resolved 471, reused 0, downloaded 459, added 0\nProgress: resolved 492, reused 0, downloaded 492, added 0\nProgress: resolved 493, reused 0, downloaded 492, added 0\nPackages: +500\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nProgress: resolved 501, reused 0, downloaded 499, added 0\nPackages are hard linked from the content-addressable store to the virtual store.\n  Content-addressable store is at: /root/.pnpm-store/v3\n  Virtual store is at:             node_modules/.pnpm\nProgress: resolved 501, reused 0, downloaded 499, added 1\nProgress: resolved 501, reused 0, downloaded 501, added 500, done\n WARN  Failed to find \"/fsevents/2.3.2\" in lockfile during hoisting. Next aliases will not be hoisted: fsevents\n\ndependencies:\n+ @polka/send-type 0.5.2\n+ @spectacles/rest 0.8.3\n+ body-parser 1.19.0\n+ compression 1.7.4\n+ cors 2.8.5\n+ dotenv 14.3.2 (16.0.3 is available)\n+ helmet 4.6.0 (6.0.1 is available)\n+ polka 0.5.2\n+ winston 3.2.1\n\ndevDependencies:\n+ eslint 8.30.0\n+ eslint-config-aqua 9.2.1\n+ jest 27.5.1 (29.3.1 is available)\n+ node-fetch 3.3.0\n\n\u001b[91mWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/main: No such file or directory\nWARNING: Ignoring http://dl-cdn.alpinelinux.org/alpine/v3.11/community: No such file or directory\n\u001b[0m(1/8) Purging .build-deps (20221226.210954)\n(2/8) Purging git (2.24.4-r0)\n(3/8) Purging curl (7.79.1-r0)\n(4/8) Purging libcurl (7.79.1-r0)\n(5/8) Purging ca-certificates (20191127-r2)\nExecuting ca-certificates-20191127-r2.post-deinstall\n(6/8) Purging nghttp2-libs (1.40.0-r1)\n(7/8) Purging expat (2.2.9-r1)\n(8/8) Purging pcre2 (10.34-r1)\nExecuting busybox-1.31.1-r10.trigger\nOK: 7 MiB in 16 packages\nRemoving intermediate container 10a0d7a6c86f\n ---> 150faa246d31\nStep 8/11 : COPY . .\n ---> f987a62a054f\nStep 9/11 : EXPOSE 9901\n ---> Running in 91738c8c53ea\nRemoving intermediate container 91738c8c53ea\n ---> b21e20fe4f11\nStep 10/11 : ENV NODE_ENV= \tPORT= \tDISCORD_TOKEN=\n ---> Running in 2078f05a335b\nRemoving intermediate container 2078f05a335b\n ---> d0131d55c7ba\nStep 11/11 : CMD [\"node\", \"src/index.js\"]\n ---> Running in 4f3c8e9f0d4a\nRemoving intermediate container 4f3c8e9f0d4a\n ---> 42f9686a5bb1\nSuccessfully built 42f9686a5bb1\nSuccessfully tagged akashi:latest\n","stderr":"","imageSize":181616319},"endTime":1672089018537}