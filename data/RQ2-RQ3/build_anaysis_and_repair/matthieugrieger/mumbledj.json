{"repository":"https://github.com/matthieugrieger/mumbledj","dockerfilePath":"Dockerfile","startTime":1672496190183,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/matthieugrieger/mumbledj'...\n","error":null,"commit":"dff929ddc9b3ef1c9906d9c687cac592d52936cd"},"originalBuild":{"startTimestamp":1672496191250,"endTimestamp":1672496326322,"error":null,"stdout":"Sending build context to Docker daemon  16.16MB\r\r\nStep 1/12 : FROM alpine:3.3\n3.3: Pulling from library/alpine\n207e252fc310: Pulling fs layer\n207e252fc310: Verifying Checksum\n207e252fc310: Download complete\n207e252fc310: Pull complete\nDigest: sha256:6bff6f65597a69246f79233ef37ff0dc50d97eaecbabbe4f8a885bf358be1ecf\nStatus: Downloaded newer image for alpine:3.3\n ---> a6fc1dbfa81a\nStep 2/12 : ENV GOPATH=/\n ---> Running in 362d35ea8b75\nRemoving intermediate container 362d35ea8b75\n ---> cd860153c00e\nStep 3/12 : RUN apk add --update ca-certificates go ffmpeg make build-base opus-dev python aria2\n ---> Running in 2b1722b5f8e3\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.3/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.3/community/x86_64/APKINDEX.tar.gz\n(1/74) Installing openssl (1.0.2q-r0)\n(2/74) Installing ca-certificates (20161130-r0)\n(3/74) Installing c-ares (1.12.0-r1)\n(4/74) Installing libgcc (5.3.0-r0)\n(5/74) Installing gmp (6.1.0-r0)\n(6/74) Installing nettle (3.2-r0)\n(7/74) Installing libffi (3.2.1-r2)\n(8/74) Installing libtasn1 (4.7-r3)\n(9/74) Installing p11-kit (0.23.1-r1)\n(10/74) Installing gnutls (3.4.17-r0)\n(11/74) Installing sqlite-libs (3.9.2-r1)\n(12/74) Installing libstdc++ (5.3.0-r0)\n(13/74) Installing libxml2 (2.9.4-r3)\n(14/74) Installing aria2 (1.19.3-r0)\n(15/74) Installing binutils-libs (2.25.1-r0)\n(16/74) Installing binutils (2.25.1-r0)\n(17/74) Installing isl (0.14.1-r0)\n(18/74) Installing libgomp (5.3.0-r0)\n(19/74) Installing libatomic (5.3.0-r0)\n(20/74) Installing pkgconf (0.9.12-r0)\n(21/74) Installing pkgconfig (0.25-r1)\n(22/74) Installing mpfr3 (3.1.2-r0)\n(23/74) Installing mpc1 (1.0.3-r0)\n(24/74) Installing gcc (5.3.0-r0)\n(25/74) Installing make (4.1-r0)\n(26/74) Installing musl-dev (1.1.12-r8)\n(27/74) Installing libc-dev (0.7-r0)\n(28/74) Installing fortify-headers (0.7-r0)\n(29/74) Installing g++ (5.3.0-r0)\n(30/74) Installing build-base (0.4-r1)\n(31/74) Installing sdl (1.2.15-r7)\n(32/74) Installing alsa-lib (1.1.0-r1)\n(33/74) Installing libbz2 (1.0.6-r4)\n(34/74) Installing ncurses-terminfo-base (6.0_p20170701-r0)\n(35/74) Installing ncurses-terminfo (6.0_p20170701-r0)\n(36/74) Installing ncurses-libs (6.0_p20170701-r0)\n(37/74) Installing lame (3.99.5-r6)\n(38/74) Installing opus (1.1.1-r0)\n(39/74) Installing librtmp (2.4_git20141231-r1)\n(40/74) Installing libogg (1.3.2-r1)\n(41/74) Installing libtheora (1.1.1-r10)\n(42/74) Installing libintl (0.19.6-r3)\n(43/74) Installing libjpeg-turbo (1.4.2-r0)\n(44/74) Installing v4l-utils-libs (1.8.1-r3)\n(45/74) Installing libxau (1.0.8-r1)\n(46/74) Installing libxdmcp (1.1.2-r1)\n(47/74) Installing libxcb (1.11.1-r0)\n(48/74) Installing libx11 (1.6.3-r3)\n(49/74) Installing libpciaccess (0.13.4-r0)\n(50/74) Installing libdrm (2.4.65-r0)\n(51/74) Installing expat (2.2.0-r0)\n(52/74) Installing wayland (1.9.0-r0)\n(53/74) Installing mesa-gbm (11.0.7-r0)\n(54/74) Installing mesa-egl (11.0.7-r0)\n(55/74) Installing libxfixes (5.0.1-r2)\n(56/74) Installing libxdamage (1.1.4-r0)\n(57/74) Installing libxext (1.3.3-r1)\n(58/74) Installing libxxf86vm (1.1.4-r0)\n(59/74) Installing mesa-glapi (11.0.7-r0)\n(60/74) Installing libxshmfence (1.2-r0)\n(61/74) Installing mesa-gl (11.0.7-r0)\n(62/74) Installing libva (1.6.1-r0)\n(63/74) Installing libvorbis (1.3.5-r2)\n(64/74) Installing libvpx (1.4.0-r1)\n(65/74) Installing x264-libs (20140625-r1)\n(66/74) Installing x265 (1.8-r0)\n(67/74) Installing xvidcore (1.3.4-r0)\n(68/74) Installing ffmpeg-libs (2.8.11-r0)\n(69/74) Installing ffmpeg (2.8.11-r0)\n(70/74) Installing go (1.5.4-r0)\n(71/74) Installing opus-dev (1.1.1-r0)\n(72/74) Installing gdbm (1.11-r1)\n(73/74) Installing readline (6.3.008-r4)\n(74/74) Installing python (2.7.12-r0)\nExecuting busybox-1.24.2-r2.trigger\nExecuting ca-certificates-20161130-r0.trigger\nOK: 419 MiB in 85 packages\nRemoving intermediate container 2b1722b5f8e3\n ---> 2f922bb9a4d3\nStep 4/12 : RUN apk upgrade\n ---> Running in ca38d5e8fda8\nOK: 419 MiB in 85 packages\nRemoving intermediate container ca38d5e8fda8\n ---> 333245554de7\nStep 5/12 : RUN wget https://yt-dl.org/downloads/latest/youtube-dl -O /bin/youtube-dl && chmod a+x /bin/youtube-dl\n ---> Running in 366eea932554\n\u001b[91mConnecting to yt-dl.org (95.143.172.170:443)\n\u001b[0m\u001b[91mConnecting to yt-dl.org (95.143.172.170:443)\n\u001b[0m\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.108.133:443)\n\u001b[0m\u001b[91m\ryoutube-dl           100% |*******************************|  1794k  0:00:00 ETA\n\u001b[0mRemoving intermediate container 366eea932554\n ---> cfdaef026ace\nStep 6/12 : COPY . /src/github.com/matthieugrieger/mumbledj\n ---> 263f77c20d67\nStep 7/12 : COPY config.yaml /root/.config/mumbledj/config.yaml\n ---> 64ab72177d89\nStep 8/12 : WORKDIR /src/github.com/matthieugrieger/mumbledj\n ---> Running in 5a4bd6e9766e\nRemoving intermediate container 5a4bd6e9766e\n ---> 3163e4c2e0c8\nStep 9/12 : RUN make\n ---> Running in 27598f34f673\nRemoving intermediate container 27598f34f673\n ---> 89a8e4ad830b\nStep 10/12 : RUN make install\n ---> Running in 3fefd535cee8\nRemoving intermediate container 3fefd535cee8\n ---> 8d5dd0eb493e\nStep 11/12 : RUN apk del go make build-base && rm -rf /var/cache/apk/*\n ---> Running in 4138aaf2769d\n(1/15) Purging build-base (0.4-r1)\n(2/15) Purging make (4.1-r0)\n(3/15) Purging fortify-headers (0.7-r0)\n(4/15) Purging g++ (5.3.0-r0)\n(5/15) Purging gcc (5.3.0-r0)\n(6/15) Purging binutils (2.25.1-r0)\n(7/15) Purging isl (0.14.1-r0)\n(8/15) Purging libatomic (5.3.0-r0)\n(9/15) Purging libc-dev (0.7-r0)\n(10/15) Purging musl-dev (1.1.12-r8)\n(11/15) Purging go (1.5.4-r0)\n(12/15) Purging binutils-libs (2.25.1-r0)\n(13/15) Purging libgomp (5.3.0-r0)\n(14/15) Purging mpc1 (1.0.3-r0)\n(15/15) Purging mpfr3 (3.1.2-r0)\nExecuting busybox-1.24.2-r2.trigger\nOK: 97 MiB in 70 packages\nRemoving intermediate container 4138aaf2769d\n ---> bd530911d77c\nStep 12/12 : ENTRYPOINT [\"/usr/local/bin/mumbledj\"]\n ---> Running in 4fc15ef6f4f7\nRemoving intermediate container 4fc15ef6f4f7\n ---> fcfab2fb1d21\nSuccessfully built fcfab2fb1d21\nSuccessfully tagged mumbledj:latest\n","stderr":"","imageSize":458071667},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":84}}],"repairedDockerfile":"FROM alpine:3.3\n\nENV GOPATH=/\n\nRUN apk add --no-cache --update ca-certificates go ffmpeg make build-base opus-dev python aria2\nRUN apk upgrade\n\nRUN wget https://yt-dl.org/downloads/latest/youtube-dl -O /bin/youtube-dl && chmod a+x /bin/youtube-dl\n\nCOPY . /src/github.com/matthieugrieger/mumbledj\nCOPY config.yaml /root/.config/mumbledj/config.yaml\n\nWORKDIR /src/github.com/matthieugrieger/mumbledj\n\nRUN make\nRUN make install\nRUN apk del go make build-base && rm -rf /var/cache/apk/*\n\nENTRYPOINT [\"/usr/local/bin/mumbledj\"]\n"},"repairedBuild":{"startTimestamp":1672496327005,"endTimestamp":1672496439562,"error":null,"stdout":"Sending build context to Docker daemon  16.16MB\r\r\nStep 1/12 : FROM alpine:3.3\n ---> a6fc1dbfa81a\nStep 2/12 : ENV GOPATH=/\n ---> Running in a391af408ca9\nRemoving intermediate container a391af408ca9\n ---> 241cc6cb3bbe\nStep 3/12 : RUN apk add --no-cache --update ca-certificates go ffmpeg make build-base opus-dev python aria2\n ---> Running in 69f0653c1a56\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.3/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.3/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.3/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.3/community/x86_64/APKINDEX.tar.gz\n(1/74) Installing openssl (1.0.2q-r0)\n(2/74) Installing ca-certificates (20161130-r0)\n(3/74) Installing c-ares (1.12.0-r1)\n(4/74) Installing libgcc (5.3.0-r0)\n(5/74) Installing gmp (6.1.0-r0)\n(6/74) Installing nettle (3.2-r0)\n(7/74) Installing libffi (3.2.1-r2)\n(8/74) Installing libtasn1 (4.7-r3)\n(9/74) Installing p11-kit (0.23.1-r1)\n(10/74) Installing gnutls (3.4.17-r0)\n(11/74) Installing sqlite-libs (3.9.2-r1)\n(12/74) Installing libstdc++ (5.3.0-r0)\n(13/74) Installing libxml2 (2.9.4-r3)\n(14/74) Installing aria2 (1.19.3-r0)\n(15/74) Installing binutils-libs (2.25.1-r0)\n(16/74) Installing binutils (2.25.1-r0)\n(17/74) Installing isl (0.14.1-r0)\n(18/74) Installing libgomp (5.3.0-r0)\n(19/74) Installing libatomic (5.3.0-r0)\n(20/74) Installing pkgconf (0.9.12-r0)\n(21/74) Installing pkgconfig (0.25-r1)\n(22/74) Installing mpfr3 (3.1.2-r0)\n(23/74) Installing mpc1 (1.0.3-r0)\n(24/74) Installing gcc (5.3.0-r0)\n(25/74) Installing make (4.1-r0)\n(26/74) Installing musl-dev (1.1.12-r8)\n(27/74) Installing libc-dev (0.7-r0)\n(28/74) Installing fortify-headers (0.7-r0)\n(29/74) Installing g++ (5.3.0-r0)\n(30/74) Installing build-base (0.4-r1)\n(31/74) Installing sdl (1.2.15-r7)\n(32/74) Installing alsa-lib (1.1.0-r1)\n(33/74) Installing libbz2 (1.0.6-r4)\n(34/74) Installing ncurses-terminfo-base (6.0_p20170701-r0)\n(35/74) Installing ncurses-terminfo (6.0_p20170701-r0)\n(36/74) Installing ncurses-libs (6.0_p20170701-r0)\n(37/74) Installing lame (3.99.5-r6)\n(38/74) Installing opus (1.1.1-r0)\n(39/74) Installing librtmp (2.4_git20141231-r1)\n(40/74) Installing libogg (1.3.2-r1)\n(41/74) Installing libtheora (1.1.1-r10)\n(42/74) Installing libintl (0.19.6-r3)\n(43/74) Installing libjpeg-turbo (1.4.2-r0)\n(44/74) Installing v4l-utils-libs (1.8.1-r3)\n(45/74) Installing libxau (1.0.8-r1)\n(46/74) Installing libxdmcp (1.1.2-r1)\n(47/74) Installing libxcb (1.11.1-r0)\n(48/74) Installing libx11 (1.6.3-r3)\n(49/74) Installing libpciaccess (0.13.4-r0)\n(50/74) Installing libdrm (2.4.65-r0)\n(51/74) Installing expat (2.2.0-r0)\n(52/74) Installing wayland (1.9.0-r0)\n(53/74) Installing mesa-gbm (11.0.7-r0)\n(54/74) Installing mesa-egl (11.0.7-r0)\n(55/74) Installing libxfixes (5.0.1-r2)\n(56/74) Installing libxdamage (1.1.4-r0)\n(57/74) Installing libxext (1.3.3-r1)\n(58/74) Installing libxxf86vm (1.1.4-r0)\n(59/74) Installing mesa-glapi (11.0.7-r0)\n(60/74) Installing libxshmfence (1.2-r0)\n(61/74) Installing mesa-gl (11.0.7-r0)\n(62/74) Installing libva (1.6.1-r0)\n(63/74) Installing libvorbis (1.3.5-r2)\n(64/74) Installing libvpx (1.4.0-r1)\n(65/74) Installing x264-libs (20140625-r1)\n(66/74) Installing x265 (1.8-r0)\n(67/74) Installing xvidcore (1.3.4-r0)\n(68/74) Installing ffmpeg-libs (2.8.11-r0)\n(69/74) Installing ffmpeg (2.8.11-r0)\n(70/74) Installing go (1.5.4-r0)\n(71/74) Installing opus-dev (1.1.1-r0)\n(72/74) Installing gdbm (1.11-r1)\n(73/74) Installing readline (6.3.008-r4)\n(74/74) Installing python (2.7.12-r0)\nExecuting busybox-1.24.2-r2.trigger\nExecuting ca-certificates-20161130-r0.trigger\nOK: 419 MiB in 85 packages\nRemoving intermediate container 69f0653c1a56\n ---> 486610358d4b\nStep 4/12 : RUN apk upgrade\n ---> Running in bb47efae009a\nOK: 419 MiB in 85 packages\nRemoving intermediate container bb47efae009a\n ---> 2a48dc6a7ddc\nStep 5/12 : RUN wget https://yt-dl.org/downloads/latest/youtube-dl -O /bin/youtube-dl && chmod a+x /bin/youtube-dl\n ---> Running in eca3420fdbac\n\u001b[91mConnecting to yt-dl.org (95.143.172.170:443)\n\u001b[0m\u001b[91mConnecting to yt-dl.org (95.143.172.170:443)\n\u001b[0m\u001b[91mConnecting to github.com (140.82.121.3:443)\n\u001b[0m\u001b[91mConnecting to objects.githubusercontent.com (185.199.110.133:443)\n\u001b[0m\u001b[91m\ryoutube-dl           100% |*******************************|  1794k  0:00:00 ETA\n\u001b[0mRemoving intermediate container eca3420fdbac\n ---> 3a5c6f5986b8\nStep 6/12 : COPY . /src/github.com/matthieugrieger/mumbledj\n ---> 8765fc84264c\nStep 7/12 : COPY config.yaml /root/.config/mumbledj/config.yaml\n ---> f38106861851\nStep 8/12 : WORKDIR /src/github.com/matthieugrieger/mumbledj\n ---> Running in bb19d0478386\nRemoving intermediate container bb19d0478386\n ---> 3e4b3708b204\nStep 9/12 : RUN make\n ---> Running in 06c2ff7a72f3\nRemoving intermediate container 06c2ff7a72f3\n ---> 767e988e5289\nStep 10/12 : RUN make install\n ---> Running in 6153d6d55f02\nRemoving intermediate container 6153d6d55f02\n ---> b1e68d5241c8\nStep 11/12 : RUN apk del go make build-base && rm -rf /var/cache/apk/*\n ---> Running in e695c989f0b6\n(1/15) Purging build-base (0.4-r1)\n(2/15) Purging make (4.1-r0)\n(3/15) Purging fortify-headers (0.7-r0)\n(4/15) Purging g++ (5.3.0-r0)\n(5/15) Purging gcc (5.3.0-r0)\n(6/15) Purging binutils (2.25.1-r0)\n(7/15) Purging isl (0.14.1-r0)\n(8/15) Purging libatomic (5.3.0-r0)\n(9/15) Purging libc-dev (0.7-r0)\n(10/15) Purging musl-dev (1.1.12-r8)\n(11/15) Purging go (1.5.4-r0)\n(12/15) Purging binutils-libs (2.25.1-r0)\n(13/15) Purging libgomp (5.3.0-r0)\n(14/15) Purging mpc1 (1.0.3-r0)\n(15/15) Purging mpfr3 (3.1.2-r0)\nExecuting busybox-1.24.2-r2.trigger\nOK: 97 MiB in 70 packages\nRemoving intermediate container e695c989f0b6\n ---> 918cfbdc5b3e\nStep 12/12 : ENTRYPOINT [\"/usr/local/bin/mumbledj\"]\n ---> Running in f45c59cbb643\nRemoving intermediate container f45c59cbb643\n ---> 4eb222de6d1e\nSuccessfully built 4eb222de6d1e\nSuccessfully tagged mumbledj:latest\n","stderr":"","imageSize":458071678},"endTime":1672496440504}