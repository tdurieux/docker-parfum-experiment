{"repository":"https://github.com/unitech/gridcontrol","dockerfilePath":"Dockerfile","startTime":1672611307553,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/unitech/gridcontrol'...\n","error":null,"commit":"b3f5cc27c5fb24df010133cc34ba101d1561c9e0"},"originalBuild":{"startTimestamp":1672611308898,"endTimestamp":1672611436696,"error":null,"stdout":"Sending build context to Docker daemon  17.24MB\r\r\nStep 1/10 : FROM mhart/alpine-node:latest\nlatest: Pulling from mhart/alpine-node\n2b7421b2895f: Pulling fs layer\n2b7421b2895f: Download complete\n2b7421b2895f: Pull complete\nDigest: sha256:c9014e9e5b33f29d47c867ea548edc0235ba71677f40456409a44c278d8a8e01\nStatus: Downloaded newer image for mhart/alpine-node:latest\n ---> 40c8537c85c4\nStep 2/10 : RUN apk update && apk add git && rm -rf /var/cache/apk/*\n ---> Running in f22b9fdd4b6a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13905 distinct packages available\n(1/7) Installing ca-certificates (20220614-r0)\n(2/7) Installing brotli-libs (1.0.9-r3)\n(3/7) Installing nghttp2-libs (1.42.0-r1)\n(4/7) Installing libcurl (7.79.1-r3)\n(5/7) Installing expat (2.2.10-r8)\n(6/7) Installing pcre2 (10.36-r1)\n(7/7) Installing git (2.30.6-r0)\nExecuting busybox-1.32.1-r6.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 20 MiB in 23 packages\nRemoving intermediate container f22b9fdd4b6a\n ---> 9280ee8ab396\nStep 3/10 : RUN npm install pm2@next -g\n ---> Running in 68d3815c3a58\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@1.7.0: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\nadded 269 packages, and audited 270 packages in 12s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (2 low, 1 moderate, 7 high, 1 critical)\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 7.19.1 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 68d3815c3a58\n ---> ada6c176f2ef\nStep 4/10 : RUN mkdir -p /var/app\n ---> Running in 91653e7914c7\nRemoving intermediate container 91653e7914c7\n ---> e46960e510b0\nStep 5/10 : WORKDIR /var/app\n ---> Running in 8cd45a627cff\nRemoving intermediate container 8cd45a627cff\n ---> bffd8a264db8\nStep 6/10 : COPY ./package.json /var/app\n ---> 22ac92c2af05\nStep 7/10 : RUN npm install\n ---> Running in 7edc8fe8bb95\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 755 packages, and audited 768 packages in 54s\n\n167 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container 7edc8fe8bb95\n ---> 30a38a6556ee\nStep 8/10 : ENV NODE_ENV=production\n ---> Running in 990a7544dba9\nRemoving intermediate container 990a7544dba9\n ---> 619903921b26\nStep 9/10 : COPY . /var/app/\n ---> 302b72339130\nStep 10/10 : CMD [\"pm2-docker\", \"start\", \"--auto-exit\", \"index.js\"]\n ---> Running in 1a91968850ec\nRemoving intermediate container 1a91968850ec\n ---> d9b5b66b7a38\nSuccessfully built d9b5b66b7a38\nSuccessfully tagged gridcontrol:latest\n","stderr":"","imageSize":349598161},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":27}},{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":18,"columnEnd":29}}],"repairedDockerfile":"FROM mhart/alpine-node:latest\n\nRUN apk update && apk add --no-cache git && rm -rf /var/cache/apk/*\nRUN npm install pm2@next -g\nRUN mkdir -p /var/app\n\nWORKDIR /var/app\n\nCOPY ./package.json /var/app\nRUN npm install\nENV NODE_ENV=production\nCOPY . /var/app/\nCMD [\"pm2-docker\", \"start\", \"--auto-exit\", \"index.js\"]"},"repairedBuild":{"startTimestamp":1672611437418,"endTimestamp":1672611560956,"error":null,"stdout":"Sending build context to Docker daemon  17.24MB\r\r\nStep 1/10 : FROM mhart/alpine-node:latest\n ---> 40c8537c85c4\nStep 2/10 : RUN apk update && apk add --no-cache git && rm -rf /var/cache/apk/*\n ---> Running in c9c760bc0c91\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13905 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ca-certificates (20220614-r0)\n(2/7) Installing brotli-libs (1.0.9-r3)\n(3/7) Installing nghttp2-libs (1.42.0-r1)\n(4/7) Installing libcurl (7.79.1-r3)\n(5/7) Installing expat (2.2.10-r8)\n(6/7) Installing pcre2 (10.36-r1)\n(7/7) Installing git (2.30.6-r0)\nExecuting busybox-1.32.1-r6.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 20 MiB in 23 packages\nRemoving intermediate container c9c760bc0c91\n ---> a6fa3c2ac757\nStep 3/10 : RUN npm install pm2@next -g\n ---> Running in c6835ca59c13\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@1.7.0: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\nadded 269 packages, and audited 270 packages in 13s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (2 low, 1 moderate, 7 high, 1 critical)\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.19.1 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container c6835ca59c13\n ---> 72316cdf0d04\nStep 4/10 : RUN mkdir -p /var/app\n ---> Running in 919daaeee196\nRemoving intermediate container 919daaeee196\n ---> 8628d626fc3b\nStep 5/10 : WORKDIR /var/app\n ---> Running in cd7a01a0690f\nRemoving intermediate container cd7a01a0690f\n ---> 6c5040349d1a\nStep 6/10 : COPY ./package.json /var/app\n ---> d3a2511fbabf\nStep 7/10 : RUN npm install\n ---> Running in e329428baa09\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 755 packages, and audited 768 packages in 31s\n\n167 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container e329428baa09\n ---> 7c50893106d8\nStep 8/10 : ENV NODE_ENV=production\n ---> Running in e769869ed9ff\nRemoving intermediate container e769869ed9ff\n ---> 8608eabb0802\nStep 9/10 : COPY . /var/app/\n ---> 3e312bf11299\nStep 10/10 : CMD [\"pm2-docker\", \"start\", \"--auto-exit\", \"index.js\"]\n ---> Running in 890ae0d4dda2\nRemoving intermediate container 890ae0d4dda2\n ---> 057ca96926f0\nSuccessfully built 057ca96926f0\nSuccessfully tagged gridcontrol:latest\n","stderr":"","imageSize":349598172},"endTime":1672611561703}