{"repository":"https://github.com/glacambre/firenvim","dockerfilePath":"Dockerfile","startTime":1672501950799,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/glacambre/firenvim'...\n","error":null,"commit":"17a189f0f1e2d4197e00cd56dbeaed8c268bac8c"},"originalBuild":{"startTimestamp":1672501951744,"endTimestamp":1672502046916,"error":null,"stdout":"Sending build context to Docker daemon   1.33MB\r\r\nStep 1/10 : FROM node:lts-alpine AS build-stage\n ---> 6d7b7852bcd3\nStep 2/10 : SHELL [\"/bin/sh\", \"-o\", \"pipefail\", \"-c\"]\n ---> Running in 085587cffb57\nRemoving intermediate container 085587cffb57\n ---> 2f3d4de2217b\nStep 3/10 : RUN apk add --no-cache neovim\n ---> Running in bc924e5b2212\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing libintl (0.21.1-r1)\n(2/10) Installing luajit (2.1_p20210510-r3)\n(3/10) Installing libuv (1.44.2-r0)\n(4/10) Installing libluv (1.44.2.1-r0)\n(5/10) Installing msgpack-c (4.0.0-r0)\n(6/10) Installing unibilium (2.1.1-r0)\n(7/10) Installing libtermkey (0.22-r0)\n(8/10) Installing tree-sitter (0.20.7-r0)\n(9/10) Installing libvterm (0.3-r0)\n(10/10) Installing neovim (0.8.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 31 MiB in 27 packages\nRemoving intermediate container bc924e5b2212\n ---> d84c98629184\nStep 4/10 : COPY . /firenvim\n ---> 8af4cb5e0dea\nStep 5/10 : WORKDIR /firenvim\n ---> Running in 5cdbb51a6520\nRemoving intermediate container 5cdbb51a6520\n ---> 6cbed7c74da7\nStep 6/10 : RUN npm install\n ---> Running in 1307e7977556\n\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\nadded 1079 packages, and audited 1080 packages in 19s\n\n124 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (5 moderate, 2 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 1307e7977556\n ---> a145205905e9\nStep 7/10 : RUN npm run build\n ---> Running in 64e2f9baeb84\n\n> Firenvim@0.2.14 build\n> webpack && web-ext build --source-dir target/firefox --artifacts-dir target/xpi --overwrite-dest -n firefox-latest.xpi\n\nCould not delete output dir (ENOENT: no such file or directory, stat '/firenvim/target/chrome')\nCould not delete output dir (ENOENT: no such file or directory, stat '/firenvim/target/firefox')\n\u001b[91m(node:18) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead\n(Use `node --trace-deprecation ...` to show where the warning was created)\n\u001b[0massets by path *.js 1.3 MiB\n  asset index.js 624 KiB [emitted] (name: index)\n  asset content.js 394 KiB [emitted] (name: content)\n  + 2 assets\nassets by path *.png 6.67 KiB\n  asset firenvim128.png 4.68 KiB [emitted] [from: static/firenvim.svg] [copied]\n  asset firenvim48.png 1.53 KiB [emitted] [from: static/firenvim.svg] [copied]\n  asset firenvim16.png 477 bytes [emitted] [from: static/firenvim.svg] [copied]\nassets by path *.html 2.01 KiB\n  asset index.html 1 KiB [emitted] [from: src/index.html] [copied]\n  asset browserAction.html 700 bytes [emitted] [from: src/browserAction.html] [copied]\n  asset options.html 327 bytes [emitted] [from: src/options.html] [copied]\nasset firenvim.svg 8.85 KiB [emitted] [from: static/firenvim.svg] [copied]\nasset manifest.json 1.87 KiB [emitted] [from: src/manifest.json] [copied]\nasset ISSUE_TEMPLATE.md 366 bytes [emitted] [from: .github/ISSUE_TEMPLATE.md] [copied]\nruntime modules 1.96 KiB 9 modules\nmodules by path ./node_modules/ 120 KiB\n  modules by path ./node_modules/msgpack-lite/lib/*.js 49.6 KiB 28 modules\n  + 6 modules\nmodules by path ./src/ 135 KiB\n  modules by path ./src/*.ts 115 KiB\n    ./src/background.ts 12.5 KiB [built] [code generated]\n    + 12 modules\n  modules by path ./src/utils/*.ts 20.6 KiB\n    ./src/utils/configuration.ts 4.5 KiB [built] [code generated]\n    ./src/utils/utils.ts 11.6 KiB [built] [code generated]\n    ./src/utils/keys.ts 4.45 KiB [built] [code generated]\nwebpack 5.74.0 compiled successfully in 4600 ms\n\nassets by path *.js 950 KiB\n  asset index.js 528 KiB [emitted] (name: index)\n  asset content.js 299 KiB [emitted] (name: content)\n  asset background.js 116 KiB [emitted] (name: background)\n  asset browserAction.js 7.04 KiB [emitted] (name: browserAction)\nassets by path *.html 2.01 KiB\n  asset index.html 1 KiB [emitted] [from: src/index.html] [copied]\n  asset browserAction.html 700 bytes [emitted] [from: src/browserAction.html] [copied]\n  asset options.html 327 bytes [emitted] [from: src/options.html] [copied]\nasset firenvim.svg 8.85 KiB [emitted] [from: static/firenvim.svg] [copied]\nasset manifest.json 1.54 KiB [emitted] [from: src/manifest.json] [copied]\nasset ISSUE_TEMPLATE.md 366 bytes [emitted] [from: .github/ISSUE_TEMPLATE.md] [copied]\nruntime modules 1.96 KiB 9 modules\nmodules by path ./node_modules/ 81.4 KiB\n  modules by path ./node_modules/msgpack-lite/lib/*.js 49.6 KiB\n    ./node_modules/msgpack-lite/lib/browser.js 297 bytes [built] [code generated]\n    + 27 modules\n  + 5 modules\nmodules by path ./src/ 135 KiB\n  modules by path ./src/*.ts 115 KiB\n    ./src/background.ts 12.5 KiB [built] [code generated]\n    ./src/browserAction.ts 1.73 KiB [built] [code generated]\n    + 11 modules\n  modules by path ./src/utils/*.ts 20.6 KiB\n    ./src/utils/configuration.ts 4.5 KiB [built] [code generated]\n    ./src/utils/utils.ts 11.6 KiB [built] [code generated]\n    ./src/utils/keys.ts 4.45 KiB [built] [code generated]\nwebpack 5.74.0 compiled successfully in 4559 ms\nApplying config file: ./package.json\nBuilding web extension from /firenvim/target/firefox\nYour web extension is ready: target/xpi/firefox-latest.xpi\nRemoving intermediate container 64e2f9baeb84\n ---> 8949cf316368\nStep 8/10 : RUN npm run install_manifests\n ---> Running in e96a3036295a\n\n> Firenvim@0.2.14 install_manifests\n> nvim --headless -u NORC -i NONE -n -c \":set rtp+=.\" -c \"call firenvim#install(1)\" -c \"quit\"\n\n\u001b[91mInstalled native manifest for chromium.\u001b[0m\u001b[91m\r\nInstalled native manifest for ungoogled-chromium.\u001b[0m\u001b[91m\r\nInstalled native manifest for librewolf.\u001b[0m\u001b[91m\r\nInstalled native manifest for opera.\u001b[0m\u001b[91m\r\nInstalled native manifest for brave.\u001b[0m\u001b[91m\r\nInstalled native manifest for vivaldi.\u001b[0m\u001b[91m\r\nInstalled native manifest for chrome-dev.\u001b[0m\u001b[91m\r\nInstalled native manifest for firefox.\u001b[0m\u001b[91m\r\nAborting installation for chrome-canary. Chrome Cana\u001b[0m\u001b[91mry doesn't exist on Lin\u001b[0m\u001b[91mux\u001b[0m\u001b[91m\r\nInstalled native manifest for chrome.\u001b[0m\u001b[91m\r\nInstalled native manifest for edge.\u001b[0mRemoving intermediate container e96a3036295a\n ---> 5ce8806a003f\nStep 9/10 : FROM scratch AS export-stage\n ---> \nStep 10/10 : COPY --from=build-stage /firenvim/target /\n ---> c6fa781d59eb\nSuccessfully built c6fa781d59eb\nSuccessfully tagged firenvim:latest\n","stderr":"","imageSize":2615118},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:lts-alpine AS build-stage\nSHELL [\"/bin/sh\", \"-o\", \"pipefail\", \"-c\"]\n\nRUN apk add --no-cache neovim\n\nCOPY . /firenvim\nWORKDIR /firenvim\nRUN npm install\nRUN npm run build\nRUN npm run install_manifests\n\nFROM scratch AS export-stage\nCOPY --from=build-stage /firenvim/target /\n"},"repairedBuild":{"startTimestamp":1672502047187,"endTimestamp":1672502197229,"error":null,"stdout":"Sending build context to Docker daemon   1.33MB\r\r\nStep 1/10 : FROM node:lts-alpine AS build-stage\n ---> 6d7b7852bcd3\nStep 2/10 : SHELL [\"/bin/sh\", \"-o\", \"pipefail\", \"-c\"]\n ---> Running in 086eca48035f\nRemoving intermediate container 086eca48035f\n ---> c59f50b79e25\nStep 3/10 : RUN apk add --no-cache neovim\n ---> Running in 9bd87a527d28\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing libintl (0.21.1-r1)\n(2/10) Installing luajit (2.1_p20210510-r3)\n(3/10) Installing libuv (1.44.2-r0)\n(4/10) Installing libluv (1.44.2.1-r0)\n(5/10) Installing msgpack-c (4.0.0-r0)\n(6/10) Installing unibilium (2.1.1-r0)\n(7/10) Installing libtermkey (0.22-r0)\n(8/10) Installing tree-sitter (0.20.7-r0)\n(9/10) Installing libvterm (0.3-r0)\n(10/10) Installing neovim (0.8.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 31 MiB in 27 packages\nRemoving intermediate container 9bd87a527d28\n ---> 9433143300ce\nStep 4/10 : COPY . /firenvim\n ---> bb93e9311abb\nStep 5/10 : WORKDIR /firenvim\n ---> Running in df7a82cc8d00\nRemoving intermediate container df7a82cc8d00\n ---> c2ea2ebc349c\nStep 6/10 : RUN npm install\n ---> Running in 3af4f523122f\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\nadded 1079 packages, and audited 1080 packages in 16s\n\n124 packages are looking for funding\n  run `npm fund` for details\n\n7 vulnerabilities (5 moderate, 2 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 3af4f523122f\n ---> 0eba3af943c7\nStep 7/10 : RUN npm run build\n ---> Running in 58e6289cfee3\n\n> Firenvim@0.2.14 build\n> webpack && web-ext build --source-dir target/firefox --artifacts-dir target/xpi --overwrite-dest -n firefox-latest.xpi\n\nCould not delete output dir (ENOENT: no such file or directory, stat '/firenvim/target/chrome')\nCould not delete output dir (ENOENT: no such file or directory, stat '/firenvim/target/firefox')\n\u001b[91m(node:18) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead\n(Use `node --trace-deprecation ...` to show where the warning was created)\n\u001b[0massets by path *.js 1.3 MiB\n  asset index.js 624 KiB [emitted] (name: index)\n  asset content.js 394 KiB [emitted] (name: content)\n  + 2 assets\nassets by path *.png 6.67 KiB\n  asset firenvim128.png 4.68 KiB [emitted] [from: static/firenvim.svg] [copied]\n  asset firenvim48.png 1.53 KiB [emitted] [from: static/firenvim.svg] [copied]\n  asset firenvim16.png 477 bytes [emitted] [from: static/firenvim.svg] [copied]\nassets by path *.html 2.01 KiB\n  asset index.html 1 KiB [emitted] [from: src/index.html] [copied]\n  asset browserAction.html 700 bytes [emitted] [from: src/browserAction.html] [copied]\n  asset options.html 327 bytes [emitted] [from: src/options.html] [copied]\nasset firenvim.svg 8.85 KiB [emitted] [from: static/firenvim.svg] [copied]\nasset manifest.json 1.87 KiB [emitted] [from: src/manifest.json] [copied]\nasset ISSUE_TEMPLATE.md 366 bytes [emitted] [from: .github/ISSUE_TEMPLATE.md] [copied]\nruntime modules 1.96 KiB 9 modules\nmodules by path ./node_modules/ 120 KiB\n  modules by path ./node_modules/msgpack-lite/lib/*.js 49.6 KiB 28 modules\n  + 6 modules\nmodules by path ./src/ 135 KiB\n  modules by path ./src/*.ts 115 KiB\n    ./src/background.ts 12.5 KiB [built] [code generated]\n    + 12 modules\n  modules by path ./src/utils/*.ts 20.6 KiB\n    ./src/utils/configuration.ts 4.5 KiB [built] [code generated]\n    ./src/utils/utils.ts 11.6 KiB [built] [code generated]\n    ./src/utils/keys.ts 4.45 KiB [built] [code generated]\nwebpack 5.74.0 compiled successfully in 4536 ms\n\nassets by path *.js 950 KiB\n  asset index.js 528 KiB [emitted] (name: index)\n  asset content.js 299 KiB [emitted] (name: content)\n  asset background.js 116 KiB [emitted] (name: background)\n  asset browserAction.js 7.04 KiB [emitted] (name: browserAction)\nassets by path *.html 2.01 KiB\n  asset index.html 1 KiB [emitted] [from: src/index.html] [copied]\n  asset browserAction.html 700 bytes [emitted] [from: src/browserAction.html] [copied]\n  asset options.html 327 bytes [emitted] [from: src/options.html] [copied]\nasset firenvim.svg 8.85 KiB [emitted] [from: static/firenvim.svg] [copied]\nasset manifest.json 1.54 KiB [emitted] [from: src/manifest.json] [copied]\nasset ISSUE_TEMPLATE.md 366 bytes [emitted] [from: .github/ISSUE_TEMPLATE.md] [copied]\nruntime modules 1.96 KiB 9 modules\nmodules by path ./node_modules/ 81.4 KiB\n  modules by path ./node_modules/msgpack-lite/lib/*.js 49.6 KiB\n    ./node_modules/msgpack-lite/lib/browser.js 297 bytes [built] [code generated]\n    + 27 modules\n  + 5 modules\nmodules by path ./src/ 135 KiB\n  modules by path ./src/*.ts 115 KiB\n    ./src/background.ts 12.5 KiB [built] [code generated]\n    ./src/browserAction.ts 1.73 KiB [built] [code generated]\n    + 11 modules\n  modules by path ./src/utils/*.ts 20.6 KiB\n    ./src/utils/configuration.ts 4.5 KiB [built] [code generated]\n    ./src/utils/utils.ts 11.6 KiB [built] [code generated]\n    ./src/utils/keys.ts 4.45 KiB [built] [code generated]\nwebpack 5.74.0 compiled successfully in 4492 ms\nApplying config file: ./package.json\nBuilding web extension from /firenvim/target/firefox\nYour web extension is ready: target/xpi/firefox-latest.xpi\nRemoving intermediate container 58e6289cfee3\n ---> 9cb521edc3c9\nStep 8/10 : RUN npm run install_manifests\n ---> Running in becb9767931d\n\n> Firenvim@0.2.14 install_manifests\n> nvim --headless -u NORC -i NONE -n -c \":set rtp+=.\" -c \"call firenvim#install(1)\" -c \"quit\"\n\n\u001b[91mInstalled native manifest for chromium.\u001b[0m\u001b[91m\r\nInstalled native manifest for ungoogled-chromium.\u001b[0m\u001b[91m\r\nInstalled native manifest for librewol\u001b[0m\u001b[91mf.\u001b[0m\u001b[91m\r\nInstalled native manifest for opera.\u001b[0m\u001b[91m\r\nInstalled native manifest for brave.\u001b[0m\u001b[91m\r\nInstalled native manifest for vivaldi.\u001b[0m\u001b[91m\r\nInstalled native manifest for chrome-dev\u001b[0m\u001b[91m.\u001b[0m\u001b[91m\r\nInstalled native manifest for firefox.\u001b[0m\u001b[91m\r\nAborting installation for chrome-canary.\u001b[0m\u001b[91m Chrome Canary d\u001b[0m\u001b[91moesn't exist on L\u001b[0m\u001b[91minux\u001b[0m\u001b[91m\r\nInstalled native manifest for ch\u001b[0m\u001b[91mrome.\u001b[0m\u001b[91m\r\nInstalled native manifest for edge.\u001b[0mRemoving intermediate container becb9767931d\n ---> 8882cb5c4002\nStep 9/10 : FROM scratch AS export-stage\n ---> \nStep 10/10 : COPY --from=build-stage /firenvim/target /\n ---> cdce0da7c5c4\nSuccessfully built cdce0da7c5c4\nSuccessfully tagged firenvim:latest\n","stderr":"","imageSize":2615118},"endTime":1672502197486}