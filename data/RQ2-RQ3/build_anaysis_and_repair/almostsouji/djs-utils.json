{"repository":"https://github.com/almostsouji/djs-utils","dockerfilePath":"Dockerfile","startTime":1672104480078,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/almostsouji/djs-utils'...\n","error":null,"commit":"c0e4c7c63780177a02d379c8283bbeb839499260"},"originalBuild":{"startTimestamp":1672104480931,"endTimestamp":1672104541016,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t djs-utils:latest -f /tmp/dinghy-analysis/almostsouji/djs-utils/Dockerfile ."},"stdout":"Sending build context to Docker daemon  187.9kB\r\r\nStep 1/11 : FROM node:15-alpine\n15-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\n0e18143e8d4d: Pulling fs layer\n377ad682a98b: Pulling fs layer\n99b3e0ba5237: Pulling fs layer\n99b3e0ba5237: Waiting\nddad3d7c1e96: Download complete\n377ad682a98b: Verifying Checksum\n377ad682a98b: Download complete\nddad3d7c1e96: Pull complete\n0e18143e8d4d: Verifying Checksum\n0e18143e8d4d: Download complete\n99b3e0ba5237: Verifying Checksum\n99b3e0ba5237: Download complete\n0e18143e8d4d: Pull complete\n377ad682a98b: Pull complete\n99b3e0ba5237: Pull complete\nDigest: sha256:6edd37368174c15d4cc59395ca2643be8e2a1c9846714bc92c5f5c5a92fb8929\nStatus: Downloaded newer image for node:15-alpine\n ---> 75631da67663\nStep 2/11 : LABEL name \"djs-utils\"\n ---> Running in 40647ac14a9c\nRemoving intermediate container 40647ac14a9c\n ---> 10aa49d927de\nStep 3/11 : LABEL version \"0.3.0\"\n ---> Running in 01952d904e60\nRemoving intermediate container 01952d904e60\n ---> a4d019901334\nStep 4/11 : LABEL maintainer \"almostSouji <https://github.com/almostSouji>\"\n ---> Running in 929152c286a6\nRemoving intermediate container 929152c286a6\n ---> 90779c3d69ab\nStep 5/11 : ENV FORCE_COLOR=1\n ---> Running in d37fb2e385da\nRemoving intermediate container d37fb2e385da\n ---> f9c57e4733e4\nStep 6/11 : WORKDIR /usr/djs-utils\n ---> Running in 573fc7cd3616\nRemoving intermediate container 573fc7cd3616\n ---> f8da6871a418\nStep 7/11 : COPY package.json ./\n ---> 652d803ca8f0\nStep 8/11 : RUN apk add --update && apk add --no-cache ca-certificates && apk add --no-cache --virtual .build-deps git curl build-base python g++ make && npm i && apk del .build-deps\n ---> Running in f2e49cf48af9\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\nOK: 7 MiB in 16 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20191127-r2)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 8 MiB in 17 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/31) Installing nghttp2-libs (1.40.0-r1)\n(2/31) Installing libcurl (7.79.1-r0)\n(3/31) Installing expat (2.2.9-r1)\n(4/31) Installing pcre2 (10.34-r1)\n(5/31) Installing git (2.24.4-r0)\n(6/31) Installing curl (7.79.1-r0)\n(7/31) Installing binutils (2.33.1-r1)\n(8/31) Installing libmagic (5.37-r1)\n(9/31) Installing file (5.37-r1)\n(10/31) Installing gmp (6.1.2-r1)\n(11/31) Installing isl (0.18-r0)\n(12/31) Installing libgomp (9.3.0-r0)\n(13/31) Installing libatomic (9.3.0-r0)\n(14/31) Installing mpfr4 (4.0.2-r1)\n(15/31) Installing mpc1 (1.1.0-r1)\n(16/31) Installing gcc (9.3.0-r0)\n(17/31) Installing musl-dev (1.1.24-r3)\n(18/31) Installing libc-dev (0.7.2-r0)\n(19/31) Installing g++ (9.3.0-r0)\n(20/31) Installing make (4.2.1-r2)\n(21/31) Installing fortify-headers (1.1-r0)\n(22/31) Installing build-base (0.5-r1)\n(23/31) Installing libbz2 (1.0.8-r1)\n(24/31) Installing libffi (3.2.1-r6)\n(25/31) Installing gdbm (1.13-r1)\n(26/31) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(27/31) Installing ncurses-libs (6.1_p20200118-r4)\n(28/31) Installing readline (8.0.1-r0)\n(29/31) Installing sqlite-libs (3.30.1-r2)\n(30/31) Installing python2 (2.7.18-r0)\n(31/31) Installing .build-deps (20221227.012809)\nExecuting busybox-1.31.1-r10.trigger\nOK: 234 MiB in 48 packages\n\u001b[91mnpm WARN deprecated @discordjs/collection@0.1.6: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/form-data@3.0.1: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated discord.js@12.5.3: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @types/html-entities@1.3.4: This is a stub types definition. html-entities provides its own type definitions, so you do not need this installed.\n\u001b[0m\nadded 266 packages, and audited 267 packages in 27s\n\n35 packages are looking for funding\n  run `npm fund` for details\n\nfound \u001b[32m\u001b[1m0\u001b[22m\u001b[39m vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.7.6 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0m(1/31) Purging .build-deps (20221227.012809)\n(2/31) Purging git (2.24.4-r0)\n(3/31) Purging curl (7.79.1-r0)\n(4/31) Purging build-base (0.5-r1)\n(5/31) Purging file (5.37-r1)\n(6/31) Purging fortify-headers (1.1-r0)\n(7/31) Purging g++ (9.3.0-r0)\n(8/31) Purging gcc (9.3.0-r0)\n(9/31) Purging binutils (2.33.1-r1)\n(10/31) Purging libatomic (9.3.0-r0)\n(11/31) Purging libgomp (9.3.0-r0)\n(12/31) Purging libc-dev (0.7.2-r0)\n(13/31) Purging musl-dev (1.1.24-r3)\n(14/31) Purging make (4.2.1-r2)\n(15/31) Purging libcurl (7.79.1-r0)\n(16/31) Purging nghttp2-libs (1.40.0-r1)\n(17/31) Purging python2 (2.7.18-r0)\n(18/31) Purging expat (2.2.9-r1)\n(19/31) Purging pcre2 (10.34-r1)\n(20/31) Purging libmagic (5.37-r1)\n(21/31) Purging isl (0.18-r0)\n(22/31) Purging mpc1 (1.1.0-r1)\n(23/31) Purging mpfr4 (4.0.2-r1)\n(24/31) Purging gmp (6.1.2-r1)\n(25/31) Purging libbz2 (1.0.8-r1)\n(26/31) Purging libffi (3.2.1-r6)\n(27/31) Purging gdbm (1.13-r1)\n(28/31) Purging readline (8.0.1-r0)\n(29/31) Purging ncurses-libs (6.1_p20200118-r4)\n(30/31) Purging ncurses-terminfo-base (6.1_p20200118-r4)\n(31/31) Purging sqlite-libs (3.30.1-r2)\nExecuting busybox-1.31.1-r10.trigger\nOK: 8 MiB in 17 packages\nRemoving intermediate container f2e49cf48af9\n ---> da99faf64486\nStep 9/11 : COPY . .\n ---> 3762e300977f\nStep 10/11 : RUN npm run build\n ---> Running in 510f583c837f\n\n> djs-utils@0.3.0 build\n> tsc\n\n\u001b[96msrc/server.ts\u001b[0m:\u001b[93m36\u001b[0m:\u001b[93m2\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n  Overload 1 of 2, '(pattern: string | RegExp, ...handlers: (Polka<Request> | Middleware<Request>)[]): Polka<Request>', gave the following error.\n    Argument of type '(req: Request, _: Response, next: NextHandler) => Promise<void>' is not assignable to parameter of type 'string | RegExp'.\n  Overload 2 of 2, '(...handlers: (Polka<Request> | Middleware<Request>)[]): Polka<Request>', gave the following error.\n    Argument of type '(req: Request, res: ServerResponse, next: NextHandler) => ServerResponse | undefined' is not assignable to parameter of type 'Polka<Request> | Middleware<Request>'.\n      Type '(req: Request, res: ServerResponse, next: NextHandler) => ServerResponse | undefined' is not assignable to type 'Middleware<Request>'.\n        Type 'ServerResponse | undefined' is not assignable to type 'Promisable<void>'.\n          Type 'ServerResponse' is not assignable to type 'Promisable<void>'.\n\n\u001b[7m36\u001b[0m  polka()\n\u001b[7m  \u001b[0m \u001b[91m ~~~~~~~\u001b[0m\n\u001b[7m37\u001b[0m   .use(jsonParser(), verify)\n\u001b[7m  \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n\n\u001b[96msrc/server.ts\u001b[0m:\u001b[93m38\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '(req: Request, res: ServerResponse) => Promise<ServerResponse | undefined>' is not assignable to parameter of type 'Middleware<Request>'.\n  Type 'Promise<ServerResponse | undefined>' is not assignable to type 'Promisable<void>'.\n    Type 'Promise<ServerResponse | undefined>' is not assignable to type 'Promise<void>'.\n      Type 'ServerResponse | undefined' is not assignable to type 'void'.\n        Type 'ServerResponse' is not assignable to type 'void'.\n\n\u001b[7m38\u001b[0m   .post('/interactions', async (req, res) => {\n\u001b[7m  \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n\nFound 2 errors in the same file, starting at: src/server.ts\u001b[90m:36\u001b[0m\n\n\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 7.7.6 -> 9.2.0\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 510f583c837f\n","stderr":"The command '/bin/sh -c npm run build' returned a non-zero code: 2\n"},"endTime":1672104541091}