{"repository":"https://github.com/sampointer/digaws","dockerfilePath":"Dockerfile","startTime":1672144373301,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sampointer/digaws'...\n","error":null,"commit":"5d7b04975cf02acec44420da39f619832ebe21d4"},"originalBuild":{"startTimestamp":1672144374133,"endTimestamp":1672144494884,"error":null,"stdout":"Sending build context to Docker daemon   1.01MB\r\r\nStep 1/11 : FROM golang:latest as build\nlatest: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Pulling fs layer\n3a3324c1d283: Pulling fs layer\nea43a17566db: Pulling fs layer\nea43a17566db: Download complete\n3a3324c1d283: Verifying Checksum\n3a3324c1d283: Download complete\nc768848b86a2: Verifying Checksum\nc768848b86a2: Download complete\nc768848b86a2: Pull complete\n3a3324c1d283: Pull complete\nea43a17566db: Pull complete\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:latest\n ---> 6650307efe4a\nStep 2/11 : RUN apt-get update && apt-get install ca-certificates -yq\n ---> Running in b4105c47fcd4\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6575 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nRemoving intermediate container b4105c47fcd4\n ---> 6a61d0e61fb8\nStep 3/11 : WORKDIR /app\n ---> Running in 63aff0b9467e\nRemoving intermediate container 63aff0b9467e\n ---> 0ba9ec9272d0\nStep 4/11 : COPY go.mod go.sum ./\n ---> ea6369d4b24d\nStep 5/11 : RUN go mod download\n ---> Running in 1cc9235b2588\nRemoving intermediate container 1cc9235b2588\n ---> c302b5114779\nStep 6/11 : COPY . .\n ---> 2640a8e71bf7\nStep 7/11 : RUN go build -ldflags \"-linkmode external -extldflags -static\" -o digaws .\n ---> Running in 15ae942e6c6c\n\u001b[91m# github.com/sampointer/digaws\n/usr/bin/ld: /tmp/go-link-2169639087/000004.o: in function `_cgo_2ac87069779a_C2func_getaddrinfo':\n/tmp/go-build/cgo-gcc-prolog:58: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n\u001b[0mRemoving intermediate container 15ae942e6c6c\n ---> 8d7b5fc7c85d\nStep 8/11 : FROM scratch\n ---> \nStep 9/11 : COPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> 9f88a7acd5e9\nStep 10/11 : COPY --from=build /app/digaws /digaws\n ---> a54e75ebdbf5\nStep 11/11 : ENTRYPOINT [\"/digaws\"]\n ---> Running in 865d846f4809\nRemoving intermediate container 865d846f4809\n ---> 730acadc49a9\nSuccessfully built 730acadc49a9\nSuccessfully tagged digaws:latest\n","stderr":"","imageSize":12357761},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":1,"end":1,"columnStart":22,"columnEnd":57}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":1,"end":1,"columnStart":22,"columnEnd":57}}],"repairedDockerfile":"FROM golang:latest as build\nRUN apt-get update && apt-get install --no-install-recommends ca-certificates -yq\nWORKDIR /app\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . .\nRUN go build -ldflags \"-linkmode external -extldflags -static\" -o digaws .\n\nFROM scratch\nCOPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\nCOPY --from=build /app/digaws /digaws\nENTRYPOINT [\"/digaws\"]\n"},"repairedBuild":{"startTimestamp":1672144495183,"endTimestamp":1672144597273,"error":null,"stdout":"Sending build context to Docker daemon   1.01MB\r\r\nStep 1/11 : FROM golang:latest as build\n ---> 6650307efe4a\nStep 2/11 : RUN apt-get update && apt-get install --no-install-recommends ca-certificates -yq\n ---> Running in 64a7027ae19f\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (5855 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nRemoving intermediate container 64a7027ae19f\n ---> 916cbbe06614\nStep 3/11 : WORKDIR /app\n ---> Running in 15c83e6ab64b\nRemoving intermediate container 15c83e6ab64b\n ---> b22ba474da6f\nStep 4/11 : COPY go.mod go.sum ./\n ---> e92c1285ee44\nStep 5/11 : RUN go mod download\n ---> Running in e7920efcc266\nRemoving intermediate container e7920efcc266\n ---> 1409fec47a91\nStep 6/11 : COPY . .\n ---> ba701e738489\nStep 7/11 : RUN go build -ldflags \"-linkmode external -extldflags -static\" -o digaws .\n ---> Running in 646826c3b306\n\u001b[91m# github.com/sampointer/digaws\n/usr/bin/ld: /tmp/go-link-2498881538/000004.o: in function `_cgo_2ac87069779a_C2func_getaddrinfo':\n/tmp/go-build/cgo-gcc-prolog:58: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n\u001b[0mRemoving intermediate container 646826c3b306\n ---> c60bb0fda4df\nStep 8/11 : FROM scratch\n ---> \nStep 9/11 : COPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> c62d8e6a0120\nStep 10/11 : COPY --from=build /app/digaws /digaws\n ---> 951c343844c1\nStep 11/11 : ENTRYPOINT [\"/digaws\"]\n ---> Running in dc2596b08579\nRemoving intermediate container dc2596b08579\n ---> 59c0eb81cd62\nSuccessfully built 59c0eb81cd62\nSuccessfully tagged digaws:latest\n","stderr":"","imageSize":12357761},"endTime":1672144597520}