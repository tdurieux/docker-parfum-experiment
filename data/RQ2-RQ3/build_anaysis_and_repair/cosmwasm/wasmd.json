{"repository":"https://github.com/cosmwasm/wasmd","dockerfilePath":"Dockerfile","startTime":1673180693321,"endTime":1673180998464,"clone":{"startTime":1673180693322,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cosmwasm/wasmd'...\n","error":null,"endTime":1673180694450,"commit":"1037ceed52a9784b59e86a08f5edc663ea586f06"},"originalBuild":{"startTime":1673180694535,"endTime":1673180874611,"error":null,"stdout":"Sending build context to Docker daemon  8.713MB\r\r\nStep 1/22 : FROM golang:1.19-alpine3.15 AS go-builder\n1.19-alpine3.15: Pulling from library/golang\n9621f1afde84: Already exists\na2b0fab95789: Pulling fs layer\n77b50bae27c3: Pulling fs layer\n0db8ea67ad28: Pulling fs layer\nb6cdea77761c: Pulling fs layer\nb6cdea77761c: Waiting\na2b0fab95789: Download complete\n77b50bae27c3: Download complete\nb6cdea77761c: Verifying Checksum\nb6cdea77761c: Download complete\na2b0fab95789: Pull complete\n77b50bae27c3: Pull complete\n0db8ea67ad28: Verifying Checksum\n0db8ea67ad28: Download complete\n0db8ea67ad28: Pull complete\nb6cdea77761c: Pull complete\nDigest: sha256:eabc3aca6f6c4386369b5b067c9c210aeccd39e76907fa2f8f774fd59d83425a\nStatus: Downloaded newer image for golang:1.19-alpine3.15\n ---> 1112d5482da3\nStep 2/22 : ARG arch=x86_64\n ---> Running in 5ec41f5d5ecb\nRemoving intermediate container 5ec41f5d5ecb\n ---> 26e7b83bd777\nStep 3/22 : RUN set -eux; apk add --no-cache ca-certificates build-base;\n ---> Running in c020be2dfba7\n\u001b[91m+ apk add --no-cache ca-certificates build-base\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing libgcc (10.3.1_git20211027-r0)\n(2/20) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/20) Installing binutils (2.37-r3)\n(4/20) Installing libmagic (5.41-r0)\n(5/20) Installing file (5.41-r0)\n(6/20) Installing libgomp (10.3.1_git20211027-r0)\n(7/20) Installing libatomic (10.3.1_git20211027-r0)\n(8/20) Installing libgphobos (10.3.1_git20211027-r0)\n(9/20) Installing gmp (6.2.1-r1)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (10.3.1_git20211027-r0)\n(14/20) Installing musl-dev (1.2.2-r7)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (10.3.1_git20211027-r0)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 197 MiB in 35 packages\nRemoving intermediate container c020be2dfba7\n ---> 50e19eb480fc\nStep 4/22 : RUN apk add git\n ---> Running in 72ad39dc9468\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.46.0-r0)\n(3/6) Installing libcurl (7.80.0-r5)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.40-r0)\n(6/6) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 210 MiB in 41 packages\nRemoving intermediate container 72ad39dc9468\n ---> 382f25d79332\nStep 5/22 : WORKDIR /code\n ---> Running in 8fc7d599ac3a\nRemoving intermediate container 8fc7d599ac3a\n ---> 4485fe3aea16\nStep 6/22 : COPY . /code/\n ---> 48b14d0220d1\nStep 7/22 : ADD https://github.com/CosmWasm/wasmvm/releases/download/v1.1.1/libwasmvm_muslc.aarch64.a /lib/libwasmvm_muslc.aarch64.a\n\n\n ---> a4d3cca0a4dd\nStep 8/22 : ADD https://github.com/CosmWasm/wasmvm/releases/download/v1.1.1/libwasmvm_muslc.x86_64.a /lib/libwasmvm_muslc.x86_64.a\n\n\n ---> 625c5146304e\nStep 9/22 : RUN sha256sum /lib/libwasmvm_muslc.aarch64.a | grep 9ecb037336bd56076573dc18c26631a9d2099a7f2b40dc04b6cae31ffb4c8f9a\n ---> Running in 409b224f571b\n9ecb037336bd56076573dc18c26631a9d2099a7f2b40dc04b6cae31ffb4c8f9a  /lib/libwasmvm_muslc.aarch64.a\nRemoving intermediate container 409b224f571b\n ---> 0c2c1d2e5608\nStep 10/22 : RUN sha256sum /lib/libwasmvm_muslc.x86_64.a | grep 6e4de7ba9bad4ae9679c7f9ecf7e283dd0160e71567c6a7be6ae47c81ebe7f32\n ---> Running in b7995b31645d\n6e4de7ba9bad4ae9679c7f9ecf7e283dd0160e71567c6a7be6ae47c81ebe7f32  /lib/libwasmvm_muslc.x86_64.a\nRemoving intermediate container b7995b31645d\n ---> af17b17f9b27\nStep 11/22 : RUN cp /lib/libwasmvm_muslc.${arch}.a /lib/libwasmvm_muslc.a\n ---> Running in 10cbfd675855\nRemoving intermediate container 10cbfd675855\n ---> c7c62d0ba547\nStep 12/22 : RUN LEDGER_ENABLED=false BUILD_TAGS=muslc LINK_STATICALLY=true make build\n ---> Running in 8e0f1aac1f2a\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mgo build -mod=readonly -tags \"netgo,muslc\" -ldflags '-X github.com/cosmos/cosmos-sdk/version.Name=wasm -X github.com/cosmos/cosmos-sdk/version.AppName=wasmd -X github.com/cosmos/cosmos-sdk/version.Version= -X github.com/cosmos/cosmos-sdk/version.Commit=1037ceed52a9784b59e86a08f5edc663ea586f06 -X github.com/CosmWasm/wasmd/app.Bech32Prefix=wasm -X \"github.com/cosmos/cosmos-sdk/version.BuildTags=netgo,muslc\" -linkmode=external -extldflags \"-Wl,-z,muldefs -static\"' -trimpath -o build/wasmd ./cmd/wasmd\n\u001b[91mgo: downloading github.com/tendermint/tendermint v0.34.23\ngo: downloading github.com/cosmos/cosmos-sdk v0.45.11\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/tm-db v0.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/CosmWasm/wasmvm v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ibc-go/v4 v4.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\ngo: downloading github.com/grpc-ecosystem/grpc-gateway v1.16.0\ngo: downloading github.com/regen-network/protobuf v1.3.3-alpha.regen.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/interchain-accounts v0.2.4\n\u001b[0m\u001b[91mgo: downloading github.com/rakyll/statik v0.1.7\ngo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/cosmos-proto v1.0.0-beta.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/gogoproto v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/docker/distribution v2.8.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading google.golang.org/genproto v0.0.0-20221024183307-1bc688fe9f3e\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.33.2\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\ngo: downloading google.golang.org/protobuf v1.28.2-0.20220831092852-f930b1dc76e8\n\u001b[0m\u001b[91mgo: downloading github.com/google/btree v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.1-0.20210819022825-2ae1ddf74ef7\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/cosmos-sdk/ics23/go v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.1.0\ngo: downloading github.com/rs/zerolog v1.27.0\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/cosmos-proto v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/armon/go-metrics v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/go-bip39 v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/exp v0.0.0-20220722155223-a9213eeb770e\n\u001b[0m\u001b[91mgo: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/99designs/keyring v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/crypto v0.0.0-20191022145703-50d29ede1e15\n\u001b[0m\u001b[91mgo: downloading github.com/hdevalence/ed25519consensus v0.0.0-20210204194344-59a8610d2b87\ngo: downloading github.com/tendermint/go-amino v0.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/gateway v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/handlers v1.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcd v0.22.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/bgentry/speakeasy v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/btcutil v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/iavl v0.19.4\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.2-0.20181231171920-c182affec369\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\ngo: downloading github.com/spf13/afero v1.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/btcd v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/ChainSafe/go-schnorrkel v0.0.0-20200405005733-88cbf1b4c40d\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/improbable-eng/grpc-web v0.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/coinbase/rosetta-sdk-go v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/felixge/httpsnoop v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.6\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.8.2\n\u001b[0m\u001b[91mgo: downloading github.com/dvsekhvalnov/jose2go v1.5.0\ngo: downloading github.com/mtibben/percent v0.2.1\ngo: downloading golang.org/x/term v0.1.0\ngo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/gsterjov/go-libsecret v0.0.0-20161001094733-a6f4afe4910c\n\u001b[0m\u001b[91mgo: downloading github.com/godbus/dbus v0.0.0-20190726142602-4481cbc300e2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.13\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-immutable-radix v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/opencontainers/go-digest v1.0.0\n\u001b[0m\u001b[91mgo: downloading filippo.io/edwards25519 v1.0.0-beta.2\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/merlin v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/libp2p/go-buffer-pool v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20201227073835-cf1acfcdf475\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.67.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.6\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/orderedcode v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/Workiva/go-datastructures v1.0.53\n\u001b[0m\u001b[91mgo: downloading github.com/minio/highwayhash v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/creachadair/taskgroup v0.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/ristretto255 v0.1.2\ngo: downloading github.com/mimoo/StrobeGo v0.0.0-20210601165009-122bf33a46e0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading nhooyr.io/websocket v1.8.6\ngo: downloading github.com/desertbit/timer v0.0.0-20180107155436-c41aec40b27f\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.15.11\n\u001b[0mRemoving intermediate container 8e0f1aac1f2a\n ---> bf9b9ba50e4a\nStep 13/22 : RUN echo \"Ensuring binary is statically linked ...\"   && (file /code/build/wasmd | grep \"statically linked\")\n ---> Running in 40cdae228822\nEnsuring binary is statically linked ...\n/code/build/wasmd: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, Go BuildID=lHAzJIB9hK4ddI4wntnQ/8o-AbAjQuBfRX6e2zS0o/GuwNGk6s_1Uu-Pd81glT/_Tanpokmt_JvZNgEWq3x, with debug_info, not stripped\nRemoving intermediate container 40cdae228822\n ---> 00ab7ac70e35\nStep 14/22 : FROM alpine:3.15\n3.15: Pulling from library/alpine\n9621f1afde84: Already exists\nDigest: sha256:cf34c62ee8eb3fe8aa24c1fab45d7e9d12768d945c3f5a6fd6a63d901e898479\nStatus: Downloaded newer image for alpine:3.15\n ---> c4fc93816858\nStep 15/22 : COPY --from=go-builder /code/build/wasmd /usr/bin/wasmd\n ---> 7efb9af8d10c\nStep 16/22 : COPY docker/* /opt/\n ---> 504ccfae75a5\nStep 17/22 : RUN chmod +x /opt/*.sh\n ---> Running in 85cc4aa677c2\nRemoving intermediate container 85cc4aa677c2\n ---> 898c402cb4e5\nStep 18/22 : WORKDIR /opt\n ---> Running in 0c8f77f691cb\nRemoving intermediate container 0c8f77f691cb\n ---> b0b4dac9328d\nStep 19/22 : EXPOSE 1317\n ---> Running in f515639ab348\nRemoving intermediate container f515639ab348\n ---> 71338adf80b7\nStep 20/22 : EXPOSE 26656\n ---> Running in 3712cca1ee2a\nRemoving intermediate container 3712cca1ee2a\n ---> f8ceceab5617\nStep 21/22 : EXPOSE 26657\n ---> Running in b07811b21c07\nRemoving intermediate container b07811b21c07\n ---> 12fde8089998\nStep 22/22 : CMD [\"/usr/bin/wasmd\", \"version\"]\n ---> Running in 22eb693b9200\nRemoving intermediate container 22eb693b9200\n ---> 808cab263f1a\nSuccessfully built 808cab263f1a\nSuccessfully tagged wasmd:latest\n","stderr":"","imageSize":90316015},"repair":{"startTime":1673180874677,"endTime":1673180874763,"violations":[{"name":"apkAddUseNoCache","position":{"start":10,"end":10,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# docker build . -t cosmwasm/wasmd:latest\n# docker run --rm -it cosmwasm/wasmd:latest /bin/sh\nFROM golang:1.19-alpine3.15 AS go-builder\nARG arch=x86_64\n\n# this comes from standard alpine nightly file\n#  https://github.com/rust-lang/docker-rust-nightly/blob/master/alpine3.12/Dockerfile\n# with some changes to support our toolchain, etc\nRUN set -eux; apk add --no-cache ca-certificates build-base;\n\nRUN apk add --no-cache git\n# NOTE: add these to run with LEDGER_ENABLED=true\n# RUN apk add libusb-dev linux-headers\n\nWORKDIR /code\nCOPY . /code/\n\n# See https://github.com/CosmWasm/wasmvm/releases\nADD https://github.com/CosmWasm/wasmvm/releases/download/v1.1.1/libwasmvm_muslc.aarch64.a /lib/libwasmvm_muslc.aarch64.a\nADD https://github.com/CosmWasm/wasmvm/releases/download/v1.1.1/libwasmvm_muslc.x86_64.a /lib/libwasmvm_muslc.x86_64.a\nRUN sha256sum /lib/libwasmvm_muslc.aarch64.a | grep 9ecb037336bd56076573dc18c26631a9d2099a7f2b40dc04b6cae31ffb4c8f9a\nRUN sha256sum /lib/libwasmvm_muslc.x86_64.a | grep 6e4de7ba9bad4ae9679c7f9ecf7e283dd0160e71567c6a7be6ae47c81ebe7f32\n\n# Copy the library you want to the final location that will be found by the linker flag `-lwasmvm_muslc`\nRUN cp /lib/libwasmvm_muslc.${arch}.a /lib/libwasmvm_muslc.a\n\n# force it to use static lib (from above) not standard libgo_cosmwasm.so file\nRUN LEDGER_ENABLED=false BUILD_TAGS=muslc LINK_STATICALLY=true make build\nRUN echo \"Ensuring binary is statically linked ...\" \\\n  && (file /code/build/wasmd | grep \"statically linked\")\n\n# --------------------------------------------------------\nFROM alpine:3.15\n\nCOPY --from=go-builder /code/build/wasmd /usr/bin/wasmd\n\nCOPY docker/* /opt/\nRUN chmod +x /opt/*.sh\n\nWORKDIR /opt\n\n# rest server\nEXPOSE 1317\n# tendermint p2p\nEXPOSE 26656\n# tendermint rpc\nEXPOSE 26657\n\nCMD [\"/usr/bin/wasmd\", \"version\"]"},"repairedBuild":{"startTime":1673180874925,"endTime":1673180998203,"error":null,"stdout":"Sending build context to Docker daemon  8.713MB\r\r\nStep 1/22 : FROM golang:1.19-alpine3.15 AS go-builder\n ---> 1112d5482da3\nStep 2/22 : ARG arch=x86_64\n ---> Running in 2226922898fb\nRemoving intermediate container 2226922898fb\n ---> 223eb17e284c\nStep 3/22 : RUN set -eux; apk add --no-cache ca-certificates build-base;\n ---> Running in 475a11ad423e\n\u001b[91m+ apk add --no-cache ca-certificates build-base\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing libgcc (10.3.1_git20211027-r0)\n(2/20) Installing libstdc++ (10.3.1_git20211027-r0)\n(3/20) Installing binutils (2.37-r3)\n(4/20) Installing libmagic (5.41-r0)\n(5/20) Installing file (5.41-r0)\n(6/20) Installing libgomp (10.3.1_git20211027-r0)\n(7/20) Installing libatomic (10.3.1_git20211027-r0)\n(8/20) Installing libgphobos (10.3.1_git20211027-r0)\n(9/20) Installing gmp (6.2.1-r1)\n(10/20) Installing isl22 (0.22-r0)\n(11/20) Installing mpfr4 (4.1.0-r0)\n(12/20) Installing mpc1 (1.2.1-r0)\n(13/20) Installing gcc (10.3.1_git20211027-r0)\n(14/20) Installing musl-dev (1.2.2-r7)\n(15/20) Installing libc-dev (0.7.2-r3)\n(16/20) Installing g++ (10.3.1_git20211027-r0)\n(17/20) Installing make (4.3-r0)\n(18/20) Installing fortify-headers (1.1-r1)\n(19/20) Installing patch (2.7.6-r7)\n(20/20) Installing build-base (0.5-r3)\nExecuting busybox-1.34.1-r7.trigger\nOK: 197 MiB in 35 packages\nRemoving intermediate container 475a11ad423e\n ---> 8846164b3501\nStep 4/22 : RUN apk add --no-cache git\n ---> Running in b2e864833e6b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r5)\n(2/6) Installing nghttp2-libs (1.46.0-r0)\n(3/6) Installing libcurl (7.80.0-r5)\n(4/6) Installing expat (2.5.0-r0)\n(5/6) Installing pcre2 (10.40-r0)\n(6/6) Installing git (2.34.5-r0)\nExecuting busybox-1.34.1-r7.trigger\nOK: 210 MiB in 41 packages\nRemoving intermediate container b2e864833e6b\n ---> bb9f3e84b473\nStep 5/22 : WORKDIR /code\n ---> Running in c3fac70b70e7\nRemoving intermediate container c3fac70b70e7\n ---> d0e6c0937694\nStep 6/22 : COPY . /code/\n ---> 0bdc17010057\nStep 7/22 : ADD https://github.com/CosmWasm/wasmvm/releases/download/v1.1.1/libwasmvm_muslc.aarch64.a /lib/libwasmvm_muslc.aarch64.a\n\n\n ---> 942fb417b508\nStep 8/22 : ADD https://github.com/CosmWasm/wasmvm/releases/download/v1.1.1/libwasmvm_muslc.x86_64.a /lib/libwasmvm_muslc.x86_64.a\n\n\n ---> b891d59ab2c5\nStep 9/22 : RUN sha256sum /lib/libwasmvm_muslc.aarch64.a | grep 9ecb037336bd56076573dc18c26631a9d2099a7f2b40dc04b6cae31ffb4c8f9a\n ---> Running in f96b207afa81\n9ecb037336bd56076573dc18c26631a9d2099a7f2b40dc04b6cae31ffb4c8f9a  /lib/libwasmvm_muslc.aarch64.a\nRemoving intermediate container f96b207afa81\n ---> d1c3e71db01e\nStep 10/22 : RUN sha256sum /lib/libwasmvm_muslc.x86_64.a | grep 6e4de7ba9bad4ae9679c7f9ecf7e283dd0160e71567c6a7be6ae47c81ebe7f32\n ---> Running in cd0c72f06923\n6e4de7ba9bad4ae9679c7f9ecf7e283dd0160e71567c6a7be6ae47c81ebe7f32  /lib/libwasmvm_muslc.x86_64.a\nRemoving intermediate container cd0c72f06923\n ---> 6ec5c33e6878\nStep 11/22 : RUN cp /lib/libwasmvm_muslc.${arch}.a /lib/libwasmvm_muslc.a\n ---> Running in 96f2d480b698\nRemoving intermediate container 96f2d480b698\n ---> 2c7a745a1644\nStep 12/22 : RUN LEDGER_ENABLED=false BUILD_TAGS=muslc LINK_STATICALLY=true make build\n ---> Running in e4b7b847706d\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mgo build -mod=readonly -tags \"netgo,muslc\" -ldflags '-X github.com/cosmos/cosmos-sdk/version.Name=wasm -X github.com/cosmos/cosmos-sdk/version.AppName=wasmd -X github.com/cosmos/cosmos-sdk/version.Version= -X github.com/cosmos/cosmos-sdk/version.Commit=1037ceed52a9784b59e86a08f5edc663ea586f06 -X github.com/CosmWasm/wasmd/app.Bech32Prefix=wasm -X \"github.com/cosmos/cosmos-sdk/version.BuildTags=netgo,muslc\" -linkmode=external -extldflags \"-Wl,-z,muldefs -static\"' -trimpath -o build/wasmd ./cmd/wasmd\n\u001b[91mgo: downloading github.com/tendermint/tendermint v0.34.23\ngo: downloading github.com/cosmos/cosmos-sdk v0.45.11\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/tm-db v0.6.7\n\u001b[0m\u001b[91mgo: downloading github.com/CosmWasm/wasmvm v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/ibc-go/v4 v4.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/protobuf v1.3.3-alpha.regen.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/grpc-ecosystem/grpc-gateway v1.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/interchain-accounts v0.2.4\n\u001b[0m\u001b[91mgo: downloading github.com/rakyll/statik v0.1.7\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/cosmos-proto v1.0.0-beta.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/gogoproto v1.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/docker/distribution v2.8.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20221024183307-1bc688fe9f3e\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.33.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/btree v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/syndtr/goleveldb v1.0.1-0.20210819022825-2ae1ddf74ef7\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\ngo: downloading google.golang.org/protobuf v1.28.2-0.20220831092852-f930b1dc76e8\ngo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\ngo: downloading github.com/tendermint/go-amino v0.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/rs/zerolog v1.27.0\n\u001b[0m\u001b[91mgo: downloading github.com/armon/go-metrics v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/regen-network/cosmos-proto v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/exp v0.0.0-20220722155223-a9213eeb770e\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/go-bip39 v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/grpc-ecosystem/go-grpc-middleware v1.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/99designs/keyring v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/crypto v0.0.0-20191022145703-50d29ede1e15\n\u001b[0m\u001b[91mgo: downloading github.com/hdevalence/ed25519consensus v0.0.0-20210204194344-59a8610d2b87\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/gateway v1.1.0\ngo: downloading github.com/gorilla/handlers v1.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/opencontainers/go-digest v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/cosmos-sdk/ics23/go v0.8.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/btcsuite/btcd v0.22.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.2-0.20181231171920-c182affec369\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/iavl v0.19.4\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-immutable-radix v1.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/cosmos/btcutil v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/improbable-eng/grpc-web v0.14.1\n\u001b[0m\u001b[91mgo: downloading github.com/bgentry/speakeasy v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/coinbase/rosetta-sdk-go v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.6\n\u001b[0m\u001b[91mgo: downloading github.com/rs/cors v1.8.2\n\u001b[0m\u001b[91mgo: downloading github.com/tendermint/btcd v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/ChainSafe/go-schnorrkel v0.0.0-20200405005733-88cbf1b4c40d\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading filippo.io/edwards25519 v1.0.0-beta.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/felixge/httpsnoop v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/ini.v1 v1.67.0\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.6\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/dvsekhvalnov/jose2go v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/godbus/dbus v0.0.0-20190726142602-4481cbc300e2\n\u001b[0m\u001b[91mgo: downloading github.com/gsterjov/go-libsecret v0.0.0-20161001094733-a6f4afe4910c\n\u001b[0m\u001b[91mgo: downloading github.com/mtibben/percent v0.2.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.13\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/merlin v0.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/libp2p/go-buffer-pool v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20201227073835-cf1acfcdf475\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/Workiva/go-datastructures v1.0.53\n\u001b[0m\u001b[91mgo: downloading github.com/creachadair/taskgroup v0.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/minio/highwayhash v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/orderedcode v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/gtank/ristretto255 v0.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/desertbit/timer v0.0.0-20180107155436-c41aec40b27f\n\u001b[0m\u001b[91mgo: downloading nhooyr.io/websocket v1.8.6\n\u001b[0m\u001b[91mgo: downloading github.com/mimoo/StrobeGo v0.0.0-20210601165009-122bf33a46e0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.15.11\n\u001b[0mRemoving intermediate container e4b7b847706d\n ---> fa53d3966315\nStep 13/22 : RUN echo \"Ensuring binary is statically linked ...\"   && (file /code/build/wasmd | grep \"statically linked\")\n ---> Running in 28cd558f3164\nEnsuring binary is statically linked ...\n/code/build/wasmd: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, Go BuildID=7fMnOnWxK8Ppn5kHHB2D/qmwCrx_Tcau6nQJC0uGM/GuwNGk6s_1Uu-Pd81glT/gQaknrwNu3KsYw6QLG-B, with debug_info, not stripped\nRemoving intermediate container 28cd558f3164\n ---> f236343ecda3\nStep 14/22 : FROM alpine:3.15\n ---> c4fc93816858\nStep 15/22 : COPY --from=go-builder /code/build/wasmd /usr/bin/wasmd\n ---> 9a3516b109d9\nStep 16/22 : COPY docker/* /opt/\n ---> d61083f20ab1\nStep 17/22 : RUN chmod +x /opt/*.sh\n ---> Running in 812ed09b36d0\nRemoving intermediate container 812ed09b36d0\n ---> e7c7327c91b9\nStep 18/22 : WORKDIR /opt\n ---> Running in ae3c85555669\nRemoving intermediate container ae3c85555669\n ---> 182a6c31270c\nStep 19/22 : EXPOSE 1317\n ---> Running in a8a1def0fad5\nRemoving intermediate container a8a1def0fad5\n ---> 8e85a5a1a235\nStep 20/22 : EXPOSE 26656\n ---> Running in 9b3a7714fd4e\nRemoving intermediate container 9b3a7714fd4e\n ---> 5bee7af6e234\nStep 21/22 : EXPOSE 26657\n ---> Running in 01938a672256\nRemoving intermediate container 01938a672256\n ---> 375df1c4ef35\nStep 22/22 : CMD [\"/usr/bin/wasmd\", \"version\"]\n ---> Running in 3f1697d0e18d\nRemoving intermediate container 3f1697d0e18d\n ---> fdf173c70be8\nSuccessfully built fdf173c70be8\nSuccessfully tagged wasmd:latest\n","stderr":"","imageSize":90316015}}