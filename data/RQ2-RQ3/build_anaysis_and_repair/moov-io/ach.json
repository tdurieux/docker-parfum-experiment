{"repository":"https://github.com/moov-io/ach","dockerfilePath":"Dockerfile","startTime":1672194444677,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/moov-io/ach'...\n","error":null,"commit":"035a0106036b6c71bc545f12c744cd202921cd4f"},"originalBuild":{"startTimestamp":1672194446131,"endTimestamp":1672194477134,"error":null,"stdout":"Sending build context to Docker daemon  17.59MB\r\r\nStep 1/16 : FROM golang:1.19-alpine as builder\n1.19-alpine: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19-alpine\n ---> cae57157ceaa\nStep 2/16 : WORKDIR /go/src/github.com/moov-io/ach\n ---> Running in 9470bc27a0af\nRemoving intermediate container 9470bc27a0af\n ---> bf9d05ccd7ad\nStep 3/16 : RUN apk add -U git make\n ---> Running in 3999813597c9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing libexpat (2.5.0-r0)\n(5/7) Installing pcre2 (10.42-r0)\n(6/7) Installing git (2.38.2-r0)\n(7/7) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container 3999813597c9\n ---> 515fe9c6985d\nStep 4/16 : RUN adduser -D -g '' --shell /bin/false moov\n ---> Running in 604202def86b\nRemoving intermediate container 604202def86b\n ---> 25b26ac0d700\nStep 5/16 : COPY . .\n ---> 78b013973b39\nStep 6/16 : RUN make build\n ---> Running in 7ee29f8842e2\ngo fmt ./...\n\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/Pallinder/go-randomdata v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/moov-io/base v0.38.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\ngo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/juju/ansiterm v0.0.0-20210929141451-8b71cc96ebdc\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading google.golang.org/protobuf v1.28.1\ngo: downloading github.com/prometheus/common v0.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.12\ngo: downloading github.com/lunixbochs/vtclean v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/rickar/cal/v2 v2.1.9\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0mgo build github.com/moov-io/ach\ngo build -o bin/examples-http github.com/moov-io/ach/examples/http\nCGO_ENABLED=0 go build -o ./bin/server github.com/moov-io/ach/cmd/server\nRemoving intermediate container 7ee29f8842e2\n ---> 2feb8e602076\nStep 7/16 : USER moov\n ---> Running in e5dc5183a076\nRemoving intermediate container e5dc5183a076\n ---> ce79788a7ff7\nStep 8/16 : FROM scratch\n ---> \nStep 9/16 : LABEL maintainer=\"Moov <oss@moov.io>\"\n ---> Running in 7eef03049941\nRemoving intermediate container 7eef03049941\n ---> 50048310552d\nStep 10/16 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> 4f6456c2c022\nStep 11/16 : COPY --from=builder /go/src/github.com/moov-io/ach/bin/server /bin/server\n ---> e71071920951\nStep 12/16 : COPY --from=builder /etc/passwd /etc/passwd\n ---> 7af8e01b996a\nStep 13/16 : USER moov\n ---> Running in e0cd2eb7cbd1\nRemoving intermediate container e0cd2eb7cbd1\n ---> 2cbad1f249df\nStep 14/16 : EXPOSE 8080\n ---> Running in b1c007b8d2ba\nRemoving intermediate container b1c007b8d2ba\n ---> 54339125620d\nStep 15/16 : EXPOSE 9090\n ---> Running in a888e31f93ed\nRemoving intermediate container a888e31f93ed\n ---> 7ae04092b419\nStep 16/16 : ENTRYPOINT [\"/bin/server\"]\n ---> Running in e92e8098a31a\nRemoving intermediate container e92e8098a31a\n ---> 467f059296fd\nSuccessfully built 467f059296fd\nSuccessfully tagged ach:latest\n","stderr":"","imageSize":14857131},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":23}}],"repairedDockerfile":"FROM golang:1.19-alpine as builder\nWORKDIR /go/src/github.com/moov-io/ach\nRUN apk add --no-cache -U git make\nRUN adduser -D -g '' --shell /bin/false moov\nCOPY . .\nRUN make build\nUSER moov\n\nFROM scratch\nLABEL maintainer=\"Moov <oss@moov.io>\"\n\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\nCOPY --from=builder /go/src/github.com/moov-io/ach/bin/server /bin/server\nCOPY --from=builder /etc/passwd /etc/passwd\n\nUSER moov\nEXPOSE 8080\nEXPOSE 9090\nENTRYPOINT [\"/bin/server\"]\n"},"repairedBuild":{"startTimestamp":1672194477399,"endTimestamp":1672194502949,"error":null,"stdout":"Sending build context to Docker daemon  17.59MB\r\r\nStep 1/16 : FROM golang:1.19-alpine as builder\n ---> cae57157ceaa\nStep 2/16 : WORKDIR /go/src/github.com/moov-io/ach\n ---> Running in 6847e5f0ba34\nRemoving intermediate container 6847e5f0ba34\n ---> 2cdbc6a8b923\nStep 3/16 : RUN apk add --no-cache -U git make\n ---> Running in 9fb1cd4398dd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing libexpat (2.5.0-r0)\n(5/7) Installing pcre2 (10.42-r0)\n(6/7) Installing git (2.38.2-r0)\n(7/7) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container 9fb1cd4398dd\n ---> 3296bd9274b0\nStep 4/16 : RUN adduser -D -g '' --shell /bin/false moov\n ---> Running in 5ef88c63c763\nRemoving intermediate container 5ef88c63c763\n ---> 2726da0a5178\nStep 5/16 : COPY . .\n ---> 47af99fabd95\nStep 6/16 : RUN make build\n ---> Running in ce8412ef03d5\ngo fmt ./...\n\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/moov-io/base v0.38.1\n\u001b[0m\u001b[91mgo: downloading github.com/juju/ansiterm v0.0.0-20210929141451-8b71cc96ebdc\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\ngo: downloading github.com/Pallinder/go-randomdata v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.12\ngo: downloading github.com/lunixbochs/vtclean v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/rickar/cal/v2 v2.1.9\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\ngo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/cespare/xxhash/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0mgo build github.com/moov-io/ach\ngo build -o bin/examples-http github.com/moov-io/ach/examples/http\nCGO_ENABLED=0 go build -o ./bin/server github.com/moov-io/ach/cmd/server\nRemoving intermediate container ce8412ef03d5\n ---> 6077b8642aae\nStep 7/16 : USER moov\n ---> Running in b6627b6fdfbb\nRemoving intermediate container b6627b6fdfbb\n ---> e338e36535ba\nStep 8/16 : FROM scratch\n ---> \nStep 9/16 : LABEL maintainer=\"Moov <oss@moov.io>\"\n ---> Running in 147542b34323\nRemoving intermediate container 147542b34323\n ---> 2dc2b8090f4e\nStep 10/16 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> c5acce271ea1\nStep 11/16 : COPY --from=builder /go/src/github.com/moov-io/ach/bin/server /bin/server\n ---> fa10f4e0551f\nStep 12/16 : COPY --from=builder /etc/passwd /etc/passwd\n ---> 3af0f854eaf8\nStep 13/16 : USER moov\n ---> Running in af83ba62ca35\nRemoving intermediate container af83ba62ca35\n ---> a2410b354187\nStep 14/16 : EXPOSE 8080\n ---> Running in 55515213ce19\nRemoving intermediate container 55515213ce19\n ---> 9f3a6f3b5c79\nStep 15/16 : EXPOSE 9090\n ---> Running in 60de4a8a4517\nRemoving intermediate container 60de4a8a4517\n ---> 7c7225748aa6\nStep 16/16 : ENTRYPOINT [\"/bin/server\"]\n ---> Running in 73ce85630663\nRemoving intermediate container 73ce85630663\n ---> eaec5a8137ac\nSuccessfully built eaec5a8137ac\nSuccessfully tagged ach:latest\n","stderr":"","imageSize":14857131},"endTime":1672194503201}