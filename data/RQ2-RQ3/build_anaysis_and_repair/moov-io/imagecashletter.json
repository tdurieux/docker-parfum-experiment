{"repository":"https://github.com/moov-io/imagecashletter","dockerfilePath":"Dockerfile","startTime":1672513527691,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/moov-io/imagecashletter'...\n","error":null,"commit":"d6e4d0cca980bfa0a763e1c1a7a4f7a8fed6f266"},"originalBuild":{"startTimestamp":1672513528741,"endTimestamp":1672513605936,"error":null,"stdout":"Sending build context to Docker daemon   3.31MB\r\r\nStep 1/12 : FROM golang:1.19 as builder\n1.19: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19\n ---> 6650307efe4a\nStep 2/12 : WORKDIR /go/src/github.com/moov-io/imagecashletter\n ---> Running in f23f12d991c0\nRemoving intermediate container f23f12d991c0\n ---> 1c840ebba9e9\nStep 3/12 : RUN apt-get update && apt-get install make gcc g++\n ---> Running in a8e92cb89217\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6268 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:10.2.1-1).\ngcc is already the newest version (4:10.2.1-1).\nmake is already the newest version (4.3-4.1).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nRemoving intermediate container a8e92cb89217\n ---> b6588a15cfd7\nStep 4/12 : COPY . .\n ---> b4caa831e9c8\nStep 5/12 : RUN make build-server\n ---> Running in 1d9a6e7a50d3\nCGO_ENABLED=1 go build -o ./bin/server github.com/moov-io/imagecashletter/cmd/server\n\u001b[91mgo: downloading github.com/moov-io/base v0.38.1\ngo: downloading github.com/go-kit/kit v0.12.0\ngo: downloading github.com/gorilla/mux v1.8.0\ngo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/gdamore/encoding v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\ngo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/rickar/cal/v2 v2.1.9\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0mRemoving intermediate container 1d9a6e7a50d3\n ---> adceeacb39b2\nStep 6/12 : FROM debian:stable-slim\n ---> c722f32959f0\nStep 7/12 : LABEL maintainer=\"Moov <oss@moov.io>\"\n ---> Running in 2a99c09d8e85\nRemoving intermediate container 2a99c09d8e85\n ---> 1ca0f1f9ed02\nStep 8/12 : RUN apt-get update && apt-get install -y ca-certificates\n ---> Running in c29f13ec6bfb\nGet:1 http://deb.debian.org/debian stable InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security stable-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian stable-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian stable/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security stable-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian stable-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5517 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stable/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian stable/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (21.7 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container c29f13ec6bfb\n ---> b7dc765aeea3\nStep 9/12 : COPY --from=builder /go/src/github.com/moov-io/imagecashletter/bin/server /bin/server\n ---> ef757419f37a\nStep 10/12 : EXPOSE 8080\n ---> Running in a20b4412702d\nRemoving intermediate container a20b4412702d\n ---> 0767de4ef988\nStep 11/12 : EXPOSE 9090\n ---> Running in dd31489fa888\nRemoving intermediate container dd31489fa888\n ---> 4db23113c8e0\nStep 12/12 : ENTRYPOINT [\"/bin/server\"]\n ---> Running in a944a25e0714\nRemoving intermediate container a944a25e0714\n ---> 7147bc917c62\nSuccessfully built 7147bc917c62\nSuccessfully tagged imagecashletter:latest\n","stderr":"","imageSize":115623176},"repair":{"violations":[{"name":"ruleAptGetInstallUseY","position":{"start":2,"end":2,"columnStart":22,"columnEnd":50}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":2,"end":2,"columnStart":22,"columnEnd":50}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":8,"end":8,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":2,"columnStart":22,"columnEnd":50}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":8,"end":8,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"FROM golang:1.19 as builder\nWORKDIR /go/src/github.com/moov-io/imagecashletter\nRUN apt-get update && apt-get install -y --no-install-recommends make gcc g++\nCOPY . .\nRUN make build-server\n\nFROM debian:stable-slim\nLABEL maintainer=\"Moov <oss@moov.io>\"\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates\n\nCOPY --from=builder /go/src/github.com/moov-io/imagecashletter/bin/server /bin/server\n# USER moov\n\nEXPOSE 8080\nEXPOSE 9090\nENTRYPOINT [\"/bin/server\"]\n"},"repairedBuild":{"startTimestamp":1672513607357,"endTimestamp":1672513672740,"error":null,"stdout":"Sending build context to Docker daemon   3.31MB\r\r\nStep 1/12 : FROM golang:1.19 as builder\n ---> 6650307efe4a\nStep 2/12 : WORKDIR /go/src/github.com/moov-io/imagecashletter\n ---> Running in 5b59f9088403\nRemoving intermediate container 5b59f9088403\n ---> a1b810d809f4\nStep 3/12 : RUN apt-get update && apt-get install -y --no-install-recommends make gcc g++\n ---> Running in 4bcae9c67379\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6165 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:10.2.1-1).\ngcc is already the newest version (4:10.2.1-1).\nmake is already the newest version (4.3-4.1).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nRemoving intermediate container 4bcae9c67379\n ---> 8ae1fc7f2b86\nStep 4/12 : COPY . .\n ---> 7517a3d85a2c\nStep 5/12 : RUN make build-server\n ---> Running in e34b5cf2e106\nCGO_ENABLED=1 go build -o ./bin/server github.com/moov-io/imagecashletter/cmd/server\n\u001b[91mgo: downloading github.com/moov-io/base v0.38.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/gdamore/encoding v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/rickar/cal/v2 v2.1.9\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\ngo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0mRemoving intermediate container e34b5cf2e106\n ---> 7b3bef6c5014\nStep 6/12 : FROM debian:stable-slim\n ---> c722f32959f0\nStep 7/12 : LABEL maintainer=\"Moov <oss@moov.io>\"\n ---> Running in 3335906e4466\nRemoving intermediate container 3335906e4466\n ---> 353797d1db0a\nStep 8/12 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates\n ---> Running in 81557b4d66bf\nGet:1 http://deb.debian.org/debian stable InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security stable-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian stable-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian stable/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security stable-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian stable-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5691 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stable/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian stable/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (30.7 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 81557b4d66bf\n ---> 5df7f03132be\nStep 9/12 : COPY --from=builder /go/src/github.com/moov-io/imagecashletter/bin/server /bin/server\n ---> 7e58600a4524\nStep 10/12 : EXPOSE 8080\n ---> Running in c663b99430d9\nRemoving intermediate container c663b99430d9\n ---> d3f9ec9715a3\nStep 11/12 : EXPOSE 9090\n ---> Running in f4b6010cdae2\nRemoving intermediate container f4b6010cdae2\n ---> c6afe9e88536\nStep 12/12 : ENTRYPOINT [\"/bin/server\"]\n ---> Running in 29192fc9a6fb\nRemoving intermediate container 29192fc9a6fb\n ---> e992c79db5d5\nSuccessfully built e992c79db5d5\nSuccessfully tagged imagecashletter:latest\n","stderr":"","imageSize":115623200},"endTime":1672513673081}