{"repository":"https://github.com/moov-io/fed","dockerfilePath":"Dockerfile","startTime":1672307439102,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/moov-io/fed'...\n","error":null,"commit":"341af60dbfca48df2f1df289e5bd503b7e119256"},"originalBuild":{"startTimestamp":1672307440197,"endTimestamp":1672307482832,"error":null,"stdout":"Sending build context to Docker daemon  4.988MB\r\r\nStep 1/18 : FROM golang:1.19 as builder\n ---> 6650307efe4a\nStep 2/18 : WORKDIR /go/src/github.com/moov-io/fed\n ---> Running in 742feb3a0f23\nRemoving intermediate container 742feb3a0f23\n ---> 3748cdca7e83\nStep 3/18 : RUN apt-get update && apt-get install make gcc g++\n ---> Running in ad9c14f9287f\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6769 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:10.2.1-1).\ngcc is already the newest version (4:10.2.1-1).\nmake is already the newest version (4.3-4.1).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nRemoving intermediate container ad9c14f9287f\n ---> 2424cab68231\nStep 4/18 : COPY . .\n ---> a1e5668f0395\nStep 5/18 : RUN make build\n ---> Running in 12554eaeb6fd\nCGO_ENABLED=0 go build -o ./bin/server github.com/moov-io/fed/cmd/server\n\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/moov-io/base v0.38.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/clearbit/clearbit-go v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/xrash/smetrics v0.0.0-20201216005158-039620a65673\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/prometheus/common v0.38.0\ngo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/dghubble/sling v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/rickar/cal/v2 v2.1.9\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0mCGO_ENABLED=0 go build -o bin/fedtest ./cmd/fedtest\n\u001b[91mgo: downloading github.com/antihax/optional v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.4.0\n\u001b[0mRemoving intermediate container 12554eaeb6fd\n ---> 416055a0ec25\nStep 6/18 : RUN useradd --shell /bin/false moov\n ---> Running in a102a14f97cb\nRemoving intermediate container a102a14f97cb\n ---> 813883b51dce\nStep 7/18 : FROM scratch\n ---> \nStep 8/18 : LABEL maintainer=\"Moov <oss@moov.io>\"\n ---> Running in ca17944171c4\nRemoving intermediate container ca17944171c4\n ---> 62ece8887058\nStep 9/18 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> b8048c9eb1cc\nStep 10/18 : COPY --from=builder /go/src/github.com/moov-io/fed/bin/server /bin/server\n ---> 766321dd5499\nStep 11/18 : COPY --from=builder /etc/passwd /etc/passwd\n ---> 7da67d846eef\nStep 12/18 : COPY data/*.txt /data/fed/\n ---> 1e27e2f1b537\nStep 13/18 : ENV FEDACH_DATA_PATH=/data/fed/FedACHdir.txt\n ---> Running in 8d53d794de10\nRemoving intermediate container 8d53d794de10\n ---> 2f63bd88e324\nStep 14/18 : ENV FEDWIRE_DATA_PATH=/data/fed/fpddir.txt\n ---> Running in eaf5027305b9\nRemoving intermediate container eaf5027305b9\n ---> 4630940922d9\nStep 15/18 : USER moov\n ---> Running in fa2c0c18e595\nRemoving intermediate container fa2c0c18e595\n ---> f47fd804cb27\nStep 16/18 : EXPOSE 8086\n ---> Running in 7448b438ddae\nRemoving intermediate container 7448b438ddae\n ---> 58cdb061ffae\nStep 17/18 : EXPOSE 9096\n ---> Running in d63957d161a5\nRemoving intermediate container d63957d161a5\n ---> a31946d1feef\nStep 18/18 : ENTRYPOINT [\"/bin/server\"]\n ---> Running in 7e69c3c8b217\nRemoving intermediate container 7e69c3c8b217\n ---> 7d8684027eeb\nSuccessfully built 7d8684027eeb\nSuccessfully tagged fed:latest\n","stderr":"","imageSize":18246152},"repair":{"violations":[{"name":"ruleAptGetInstallUseY","position":{"start":2,"end":2,"columnStart":22,"columnEnd":50}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":2,"end":2,"columnStart":22,"columnEnd":50}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":2,"columnStart":22,"columnEnd":50}}],"repairedDockerfile":"FROM golang:1.19 as builder\nWORKDIR /go/src/github.com/moov-io/fed\nRUN apt-get update && apt-get install -y --no-install-recommends make gcc g++\nCOPY . .\nRUN make build\nRUN useradd --shell /bin/false moov\n\nFROM scratch\nLABEL maintainer=\"Moov <oss@moov.io>\"\n\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\nCOPY --from=builder /go/src/github.com/moov-io/fed/bin/server /bin/server\nCOPY --from=builder /etc/passwd /etc/passwd\n\nCOPY data/*.txt /data/fed/\n\nENV FEDACH_DATA_PATH=/data/fed/FedACHdir.txt\nENV FEDWIRE_DATA_PATH=/data/fed/fpddir.txt\n\nUSER moov\nEXPOSE 8086\nEXPOSE 9096\nENTRYPOINT [\"/bin/server\"]\n"},"repairedBuild":{"startTimestamp":1672307483146,"endTimestamp":1672307542076,"error":null,"stdout":"Sending build context to Docker daemon  4.988MB\r\r\nStep 1/18 : FROM golang:1.19 as builder\n ---> 6650307efe4a\nStep 2/18 : WORKDIR /go/src/github.com/moov-io/fed\n ---> Running in 67c0004f59fa\nRemoving intermediate container 67c0004f59fa\n ---> 25ecc464c5e5\nStep 3/18 : RUN apt-get update && apt-get install -y --no-install-recommends make gcc g++\n ---> Running in fee4d59bf88b\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (3790 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:10.2.1-1).\ngcc is already the newest version (4:10.2.1-1).\nmake is already the newest version (4.3-4.1).\n0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.\nRemoving intermediate container fee4d59bf88b\n ---> b9ca3807a343\nStep 4/18 : COPY . .\n ---> da808c6018d6\nStep 5/18 : RUN make build\n ---> Running in 58d6d4c17fd2\nCGO_ENABLED=0 go build -o ./bin/server github.com/moov-io/fed/cmd/server\n\u001b[91mgo: downloading github.com/moov-io/base v0.38.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.12.0\ngo: downloading github.com/gorilla/mux v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/clearbit/clearbit-go v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/xrash/smetrics v0.0.0-20201216005158-039620a65673\n\u001b[0m\u001b[91mgo: downloading github.com/dghubble/sling v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/rickar/cal/v2 v2.1.9\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\ngo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0mCGO_ENABLED=0 go build -o bin/fedtest ./cmd/fedtest\n\u001b[91mgo: downloading github.com/antihax/optional v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.3.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.4.0\n\u001b[0mRemoving intermediate container 58d6d4c17fd2\n ---> 930310649f93\nStep 6/18 : RUN useradd --shell /bin/false moov\n ---> Running in 4b9d79412cde\nRemoving intermediate container 4b9d79412cde\n ---> 287bd24653fc\nStep 7/18 : FROM scratch\n ---> \nStep 8/18 : LABEL maintainer=\"Moov <oss@moov.io>\"\n ---> Running in 461d58a6c866\nRemoving intermediate container 461d58a6c866\n ---> 674ffe5ef6c7\nStep 9/18 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> 244ea0d942ce\nStep 10/18 : COPY --from=builder /go/src/github.com/moov-io/fed/bin/server /bin/server\n ---> 3028453c8d06\nStep 11/18 : COPY --from=builder /etc/passwd /etc/passwd\n ---> ed364026c002\nStep 12/18 : COPY data/*.txt /data/fed/\n ---> 61fca94e4746\nStep 13/18 : ENV FEDACH_DATA_PATH=/data/fed/FedACHdir.txt\n ---> Running in a26273d3b730\nRemoving intermediate container a26273d3b730\n ---> 7a69170e9278\nStep 14/18 : ENV FEDWIRE_DATA_PATH=/data/fed/fpddir.txt\n ---> Running in fe4ecfa4640e\nRemoving intermediate container fe4ecfa4640e\n ---> 889ad680758c\nStep 15/18 : USER moov\n ---> Running in 3e0c6057eedb\nRemoving intermediate container 3e0c6057eedb\n ---> 99d03668b0d0\nStep 16/18 : EXPOSE 8086\n ---> Running in 1c30dd3c4540\nRemoving intermediate container 1c30dd3c4540\n ---> 724a81c0edf9\nStep 17/18 : EXPOSE 9096\n ---> Running in 5294df8b1f41\nRemoving intermediate container 5294df8b1f41\n ---> c9d59a1fcdc5\nStep 18/18 : ENTRYPOINT [\"/bin/server\"]\n ---> Running in d6726a03ae60\nRemoving intermediate container d6726a03ae60\n ---> 53906652c3e6\nSuccessfully built 53906652c3e6\nSuccessfully tagged fed:latest\n","stderr":"","imageSize":18246152},"endTime":1672307542346}