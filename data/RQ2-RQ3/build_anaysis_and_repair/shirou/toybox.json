{"repository":"https://github.com/shirou/toybox","dockerfilePath":"Dockerfile","startTime":1672166661826,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/shirou/toybox'...\n","error":null,"commit":"d1acbafdd413d0f9e43e2eb347fbc1e86d9bb471"},"originalBuild":{"startTimestamp":1672166662699,"endTimestamp":1672166701298,"error":null,"stdout":"Sending build context to Docker daemon  657.9kB\r\r\nStep 1/13 : FROM golang:alpine AS build-env\n ---> cae57157ceaa\nStep 2/13 : RUN apk add --update git make\n ---> Running in aa2f9dd3f8dc\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing libexpat (2.5.0-r0)\n(5/7) Installing pcre2 (10.42-r0)\n(6/7) Installing git (2.38.2-r0)\n(7/7) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container aa2f9dd3f8dc\n ---> 7f9a0fc3a455\nStep 3/13 : ADD . /work\n ---> 51e3caea756b\nStep 4/13 : WORKDIR /work\n ---> Running in 7ca75a774850\nRemoving intermediate container 7ca75a774850\n ---> 4f18ea19226e\nStep 5/13 : RUN make build_strip\n ---> Running in 72b85e868b36\nCGO_ENABLED=0 go build -ldflags '-extldflags \"-static\" -s -w'\n\u001b[91mgo: downloading github.com/shirou/goash v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211216021012-1d35b9e2eb4e\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-shellwords v1.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e\n\u001b[0mRemoving intermediate container 72b85e868b36\n ---> 1d0d14b06164\nStep 6/13 : FROM scratch\n ---> \nStep 7/13 : COPY --from=build-env /work/toybox /\n ---> d821a50a0178\nStep 8/13 : RUN [\"/toybox\", \"--install\", \"-s\", \"/\"]\n ---> Running in 061536f0edcf\nRemoving intermediate container 061536f0edcf\n ---> cb834322fab5\nStep 9/13 : RUN [\"/toybox\", \"mv\", \"/toybox\", \"/usr/sbin/toybox\"]\n ---> Running in 66b4f2364f04\nRemoving intermediate container 66b4f2364f04\n ---> 87d643cd76f9\nStep 10/13 : ENV PATH \"/usr/bin:/usr/sbin\"\n ---> Running in 1766b6c5a92a\nRemoving intermediate container 1766b6c5a92a\n ---> c453785234ef\nStep 11/13 : RUN [\"mkdir\", \"-p\", \"/etc/ssl/certs\"]\n ---> Running in 3db9979e8113\nRemoving intermediate container 3db9979e8113\n ---> d2b033da8a62\nStep 12/13 : ADD cacert.pem /etc/ssl/certs/ca-certificates.crt\n ---> 6e71d181652c\nStep 13/13 : CMD [\"/usr/bin/sh\"]\n ---> Running in 112c4471f99f\nRemoving intermediate container 112c4471f99f\n ---> da5f2664dffb\nSuccessfully built da5f2664dffb\nSuccessfully tagged toybox:latest\n","stderr":"","imageSize":10628276},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":29}}],"repairedDockerfile":"# build env\n#----\nFROM golang:alpine AS build-env\n\nRUN apk add --no-cache --update git make\n\nADD . /work\nWORKDIR /work\nRUN make build_strip\n\n# toybox\n#----\nFROM scratch\n\n# COPY --from=build-env /work/toybox /\nCOPY --from=build-env /work/toybox /\n\n# create directories and sym links\nRUN [\"/toybox\", \"--install\", \"-s\", \"/\"]\n# move toybox itself\nRUN [\"/toybox\", \"mv\", \"/toybox\", \"/usr/sbin/toybox\"]\n\nENV PATH \"/usr/bin:/usr/sbin\"\n\nRUN [\"mkdir\", \"-p\", \"/etc/ssl/certs\"]\nADD cacert.pem /etc/ssl/certs/ca-certificates.crt\n\nCMD [\"/usr/bin/sh\"]\n"},"repairedBuild":{"startTimestamp":1672166701667,"endTimestamp":1672166724029,"error":null,"stdout":"Sending build context to Docker daemon  657.9kB\r\r\nStep 1/13 : FROM golang:alpine AS build-env\n ---> cae57157ceaa\nStep 2/13 : RUN apk add --no-cache --update git make\n ---> Running in b2b042bb0b21\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing libexpat (2.5.0-r0)\n(5/7) Installing pcre2 (10.42-r0)\n(6/7) Installing git (2.38.2-r0)\n(7/7) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container b2b042bb0b21\n ---> 6f536ae2d64f\nStep 3/13 : ADD . /work\n ---> a927b885d7ce\nStep 4/13 : WORKDIR /work\n ---> Running in db7cf1e63d79\nRemoving intermediate container db7cf1e63d79\n ---> 6a9212378454\nStep 5/13 : RUN make build_strip\n ---> Running in cf11fbe5fbf7\nCGO_ENABLED=0 go build -ldflags '-extldflags \"-static\" -s -w'\n\u001b[91mgo: downloading github.com/shirou/goash v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211216021012-1d35b9e2eb4e\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-shellwords v1.0.12\ngo: downloading github.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e\n\u001b[0mRemoving intermediate container cf11fbe5fbf7\n ---> 8487da6e839e\nStep 6/13 : FROM scratch\n ---> \nStep 7/13 : COPY --from=build-env /work/toybox /\n ---> 5c4ba7eb3351\nStep 8/13 : RUN [\"/toybox\", \"--install\", \"-s\", \"/\"]\n ---> Running in f0cdc43ebb45\nRemoving intermediate container f0cdc43ebb45\n ---> 747d7ca6d240\nStep 9/13 : RUN [\"/toybox\", \"mv\", \"/toybox\", \"/usr/sbin/toybox\"]\n ---> Running in 5f1013387d55\nRemoving intermediate container 5f1013387d55\n ---> e86e8ac147f1\nStep 10/13 : ENV PATH \"/usr/bin:/usr/sbin\"\n ---> Running in 727a5b8b4c9b\nRemoving intermediate container 727a5b8b4c9b\n ---> faadae875511\nStep 11/13 : RUN [\"mkdir\", \"-p\", \"/etc/ssl/certs\"]\n ---> Running in efac1b78d65b\nRemoving intermediate container efac1b78d65b\n ---> 7ada61e36ccc\nStep 12/13 : ADD cacert.pem /etc/ssl/certs/ca-certificates.crt\n ---> 04ea3fab11e6\nStep 13/13 : CMD [\"/usr/bin/sh\"]\n ---> Running in 5bddec9f885a\nRemoving intermediate container 5bddec9f885a\n ---> f5369e5f939f\nSuccessfully built f5369e5f939f\nSuccessfully tagged toybox:latest\n","stderr":"","imageSize":10628276},"endTime":1672166724285}