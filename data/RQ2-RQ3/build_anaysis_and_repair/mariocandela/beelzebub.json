{"repository":"https://github.com/mariocandela/beelzebub","dockerfilePath":"Dockerfile","startTime":1672485117912,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mariocandela/beelzebub'...\n","error":null,"commit":"c6855e85119e9f0dc87330bf504843576af592f7"},"originalBuild":{"startTimestamp":1672485118769,"endTimestamp":1672485152933,"error":null,"stdout":"Sending build context to Docker daemon  400.4kB\r\r\nStep 1/15 : FROM golang:alpine AS builder\nalpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\n3c6f08178a17: Verifying Checksum\n3c6f08178a17: Download complete\n019cfb932eb0: Verifying Checksum\n019cfb932eb0: Download complete\n019cfb932eb0: Pull complete\na3a161a37303: Verifying Checksum\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 2/15 : ENV GO111MODULE=on     CGO_ENABLED=0     GOOS=linux     GOARCH=amd64\n ---> Running in e33f2aa41fba\nRemoving intermediate container e33f2aa41fba\n ---> 191b3651766b\nStep 3/15 : RUN apk add git\n ---> Running in f2b6eaee9e90\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\nRemoving intermediate container f2b6eaee9e90\n ---> 2444e412d6a9\nStep 4/15 : WORKDIR /build\n ---> Running in 366992f1bbc6\nRemoving intermediate container 366992f1bbc6\n ---> 30e855194eea\nStep 5/15 : COPY go.mod .\n ---> 1676d64e511d\nStep 6/15 : COPY go.sum .\n ---> 834f39f85c4f\nStep 7/15 : RUN go mod download\n ---> Running in 4dbbfaa44b9d\nRemoving intermediate container 4dbbfaa44b9d\n ---> 3f31ceabb6c6\nStep 8/15 : COPY . .\n ---> 6675e438e74a\nStep 9/15 : RUN go build -o main .\n ---> Running in 260e593a150b\nRemoving intermediate container 260e593a150b\n ---> a1aee5e0542d\nStep 10/15 : WORKDIR /dist\n ---> Running in c9387efb8509\nRemoving intermediate container c9387efb8509\n ---> e6e8e79f6631\nStep 11/15 : RUN cp /build/main .\n ---> Running in 16ea1a0fc5d0\nRemoving intermediate container 16ea1a0fc5d0\n ---> 42300fd853dd\nStep 12/15 : FROM scratch\n ---> \nStep 13/15 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 45fba695c1e6\nStep 14/15 : COPY --from=builder /dist/main /\n ---> 32dc19536fb3\nStep 15/15 : ENTRYPOINT [\"/main\"]\n ---> Running in 4e00944acd6d\nRemoving intermediate container 4e00944acd6d\n ---> 79a57ddade9e\nSuccessfully built 79a57ddade9e\nSuccessfully tagged beelzebub:latest\n","stderr":"","imageSize":10307772},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM golang:alpine AS builder\n\nENV GO111MODULE=on \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\nRUN apk add --no-cache git\n\nWORKDIR /build\n\n# Copy and download dependency using go mod\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n\n# Copy the code into the container\nCOPY . .\n\n# Build the application\nRUN go build -o main .\n\n# Move to /dist directory as the place for resulting binary folder\nWORKDIR /dist\n\n# Copy binary from build to main folder\nRUN cp /build/main .\n\n# Build a small image\nFROM scratch\n\n# copy the ca-certificate.crt from the builder stage\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /dist/main /\n\nENTRYPOINT [\"/main\"]"},"repairedBuild":{"startTimestamp":1672485153227,"endTimestamp":1672485172074,"error":null,"stdout":"Sending build context to Docker daemon  400.4kB\r\r\nStep 1/15 : FROM golang:alpine AS builder\n ---> cae57157ceaa\nStep 2/15 : ENV GO111MODULE=on     CGO_ENABLED=0     GOOS=linux     GOARCH=amd64\n ---> Running in 2325cdcba320\nRemoving intermediate container 2325cdcba320\n ---> 86c8f15c7f32\nStep 3/15 : RUN apk add --no-cache git\n ---> Running in 6faca4ae6c5e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\nRemoving intermediate container 6faca4ae6c5e\n ---> 90b3b9fa03f7\nStep 4/15 : WORKDIR /build\n ---> Running in ca177c77d430\nRemoving intermediate container ca177c77d430\n ---> 1c8edc97dd15\nStep 5/15 : COPY go.mod .\n ---> 7c3cac86b50d\nStep 6/15 : COPY go.sum .\n ---> 173f63953e50\nStep 7/15 : RUN go mod download\n ---> Running in 205e02ebd01d\nRemoving intermediate container 205e02ebd01d\n ---> cbf5b88d0778\nStep 8/15 : COPY . .\n ---> e5669a60678f\nStep 9/15 : RUN go build -o main .\n ---> Running in 633ebbd692f3\nRemoving intermediate container 633ebbd692f3\n ---> e14e4024501b\nStep 10/15 : WORKDIR /dist\n ---> Running in c9a8460d0b83\nRemoving intermediate container c9a8460d0b83\n ---> 70e5c6cc38b8\nStep 11/15 : RUN cp /build/main .\n ---> Running in 1af810edcaf9\nRemoving intermediate container 1af810edcaf9\n ---> 8bf089a1e83e\nStep 12/15 : FROM scratch\n ---> \nStep 13/15 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> af18cd3faa10\nStep 14/15 : COPY --from=builder /dist/main /\n ---> 0770e19193a3\nStep 15/15 : ENTRYPOINT [\"/main\"]\n ---> Running in a1e073d7757b\nRemoving intermediate container a1e073d7757b\n ---> 0f5861d994d4\nSuccessfully built 0f5861d994d4\nSuccessfully tagged beelzebub:latest\n","stderr":"","imageSize":10307772},"endTime":1672485172326}