{"repository":"https://github.com/matrix-org/matrix-static","dockerfilePath":"Dockerfile","startTime":1672316326598,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/matrix-org/matrix-static'...\n","error":null,"commit":"37dcbb9ff39f2feb21268ad14562fe298d9944c7"},"originalBuild":{"startTimestamp":1672316327555,"endTimestamp":1672316408832,"error":null,"stdout":"Sending build context to Docker daemon  1.116MB\r\r\nStep 1/14 : FROM golang:1.13-alpine\n1.13-alpine: Pulling from library/golang\ndf20fa9351a1: Pulling fs layer\ned8968b2872e: Pulling fs layer\na92cc7c5fd73: Pulling fs layer\ndd0b68742591: Pulling fs layer\nfb4ae7ba1102: Pulling fs layer\nfb4ae7ba1102: Waiting\ndd0b68742591: Waiting\na92cc7c5fd73: Verifying Checksum\na92cc7c5fd73: Download complete\ned8968b2872e: Download complete\ndf20fa9351a1: Verifying Checksum\ndf20fa9351a1: Download complete\ndf20fa9351a1: Pull complete\nfb4ae7ba1102: Verifying Checksum\nfb4ae7ba1102: Download complete\ned8968b2872e: Pull complete\na92cc7c5fd73: Pull complete\ndd0b68742591: Verifying Checksum\ndd0b68742591: Download complete\ndd0b68742591: Pull complete\nfb4ae7ba1102: Pull complete\nDigest: sha256:e74b83b94d499cb34c7edf55fbdff9d3cfabd238a35f9cb1b59d0e74f50b1ddd\nStatus: Downloaded newer image for golang:1.13-alpine\n ---> 5863598a981a\nStep 2/14 : RUN apk --update add git gcc musl-dev\n ---> Running in 9b71c2fec67e\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/18) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/18) Installing libgcc (9.3.0-r2)\n(3/18) Installing libstdc++ (9.3.0-r2)\n(4/18) Installing binutils (2.34-r2)\n(5/18) Installing gmp (6.2.1-r1)\n(6/18) Installing isl (0.18-r0)\n(7/18) Installing libgomp (9.3.0-r2)\n(8/18) Installing libatomic (9.3.0-r2)\n(9/18) Installing libgphobos (9.3.0-r2)\n(10/18) Installing mpfr4 (4.0.2-r4)\n(11/18) Installing mpc1 (1.1.0-r1)\n(12/18) Installing gcc (9.3.0-r2)\n(13/18) Installing nghttp2-libs (1.41.0-r0)\n(14/18) Installing libcurl (7.79.1-r1)\n(15/18) Installing expat (2.2.10-r4)\n(16/18) Installing pcre2 (10.35-r0)\n(17/18) Installing git (2.26.3-r1)\n(18/18) Installing musl-dev (1.1.24-r10)\nExecuting busybox-1.31.1-r16.trigger\nOK: 156 MiB in 32 packages\nRemoving intermediate container 9b71c2fec67e\n ---> fa55c26a92ed\nStep 3/14 : RUN go get github.com/valyala/quicktemplate/qtc\n ---> Running in 672e6de00ee7\nRemoving intermediate container 672e6de00ee7\n ---> 3e294a565896\nStep 4/14 : WORKDIR /src\n ---> Running in b6ec2d367310\nRemoving intermediate container b6ec2d367310\n ---> 727f52c3a027\nStep 5/14 : COPY . /src\n ---> d068b5c89b3c\nStep 6/14 : RUN qtc\n ---> Running in 8df3b8e985c5\n\u001b[91mqtc: 2022/12/29 12:19:36 Compiling *.qtpl template files in directory \".\"\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/basepage.qtpl\" to \"templates/basepage.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/common-error.qtpl\" to \"templates/common-error.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/pagination-common.qtpl\" to \"templates/pagination-common.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-aliases.qtpl\" to \"templates/room-aliases.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-chat.qtpl\" to \"templates/room-chat.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-common.qtpl\" to \"templates/room-common.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-error.qtpl\" to \"templates/room-error.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-memberinfo.qtpl\" to \"templates/room-memberinfo.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-members.qtpl\" to \"templates/room-members.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-powerlevels.qtpl\" to \"templates/room-powerlevels.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/room-servers.qtpl\" to \"templates/room-servers.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Compiling \"templates/rooms.qtpl\" to \"templates/rooms.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:19:36 Total files compiled: 12\n\u001b[0mRemoving intermediate container 8df3b8e985c5\n ---> a0149f7f2367\nStep 7/14 : RUN go build ./cmd/matrix-static\n ---> Running in 6a264443a7b4\n\u001b[91mgo: downloading github.com/matrix-org/dugong v0.0.0-20161101134353-193b8f88e381\ngo: downloading github.com/Sirupsen/logrus v0.0.0-20170821073101-84573d5f03ab\ngo: downloading github.com/matrix-org/gomatrix v0.0.0-20200125115505-49bed8e0e431\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/cache v0.0.0-20170711165042-bc56748ee71c\ngo: downloading github.com/disintegration/letteravatar v0.0.0-20160912210445-1a457b860450\n\u001b[0m\u001b[91mgo: downloading github.com/gin-gonic/gin v0.0.0-20170428105923-d5b353c5d5a5\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/pprof v0.0.0-20170722141647-c16e1831d0a5\n\u001b[0m\u001b[91mgo: downloading github.com/microcosm-cc/bluemonday v0.0.0-20161202143824-e79763773ab6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20200114155413-6afb5195e5aa\n\u001b[0m\u001b[91mgo: extracting github.com/gin-contrib/cache v0.0.0-20170711165042-bc56748ee71c\n\u001b[0m\u001b[91mgo: downloading github.com/garyburd/redigo v0.0.0-20170718224324-9e66b83d15a2\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/quicktemplate v1.4.1\n\u001b[0m\u001b[91mgo: extracting github.com/gin-contrib/pprof v0.0.0-20170722141647-c16e1831d0a5\n\u001b[0m\u001b[91mgo: downloading github.com/t3chguy/go-gin-prometheus v0.0.0-20170724180305-438209f97511\n\u001b[0m\u001b[91mgo: extracting github.com/matrix-org/dugong v0.0.0-20161101134353-193b8f88e381\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/go-cache v0.0.0-20130306151617-9fc39e0dbf62\n\u001b[0m\u001b[91mgo: extracting github.com/matrix-org/gomatrix v0.0.0-20200125115505-49bed8e0e431\n\u001b[0m\u001b[91mgo: downloading github.com/bradfitz/gomemcache v0.0.0-20170208213004-1952afaa557d\n\u001b[0m\u001b[91mgo: extracting github.com/Sirupsen/logrus v0.0.0-20170821073101-84573d5f03ab\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200113162924-86b910548bc1\n\u001b[0m\u001b[91mgo: extracting github.com/robfig/go-cache v0.0.0-20130306151617-9fc39e0dbf62\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: extracting github.com/garyburd/redigo v0.0.0-20170718224324-9e66b83d15a2\n\u001b[0m\u001b[91mgo: extracting github.com/bradfitz/gomemcache v0.0.0-20170208213004-1952afaa557d\n\u001b[0m\u001b[91mgo: extracting github.com/t3chguy/go-gin-prometheus v0.0.0-20170724180305-438209f97511\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v0.0.0-20170724081313-94ff84a9a6eb\n\u001b[0m\u001b[91mgo: extracting github.com/valyala/quicktemplate v1.4.1\n\u001b[0m\u001b[91mgo: extracting github.com/microcosm-cc/bluemonday v0.0.0-20161202143824-e79763773ab6\n\u001b[0m\u001b[91mgo: extracting github.com/gin-gonic/gin v0.0.0-20170428105923-d5b353c5d5a5\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: extracting github.com/disintegration/letteravatar v0.0.0-20160912210445-1a457b860450\n\u001b[0m\u001b[91mgo: downloading github.com/manucorporat/sse v0.0.0-20160126180136-ee05b128a739\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: downloading gopkg.in/go-playground/validator.v8 v8.18.1\n\u001b[0m\u001b[91mgo: extracting github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.2\n\u001b[0m\u001b[91mgo: extracting github.com/manucorporat/sse v0.0.0-20160126180136-ee05b128a739\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.3.3\n\u001b[0m\u001b[91mgo: extracting github.com/mattn/go-isatty v0.0.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/image v0.0.0-20190910094157-69e4b8554b2a\n\u001b[0m\u001b[91mgo: extracting gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: extracting golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: downloading github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_golang v0.0.0-20170724081313-94ff84a9a6eb\n\u001b[0m\u001b[91mgo: extracting gopkg.in/go-playground/validator.v8 v8.18.1\n\u001b[0m\u001b[91mgo: extracting github.com/golang/protobuf v1.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v0.0.0-20160804104726-4c0e84591b9a\n\u001b[0m\u001b[91mgo: extracting golang.org/x/net v0.0.0-20200114155413-6afb5195e5aa\n\u001b[0m\u001b[91mgo: extracting github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\ngo: extracting github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.0.0-20170707053319-3e6a7635bac6\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.0.0-20170703101242-e645f4e5aaa8\n\u001b[0m\u001b[91mgo: extracting github.com/beorn7/perks v0.0.0-20160804104726-4c0e84591b9a\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/common v0.0.0-20170707053319-3e6a7635bac6\ngo: extracting github.com/prometheus/procfs v0.0.0-20170703101242-e645f4e5aaa8\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: extracting golang.org/x/sys v0.0.0-20200113162924-86b910548bc1\n\u001b[0m\u001b[91mgo: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: extracting golang.org/x/image v0.0.0-20190910094157-69e4b8554b2a\n\u001b[0m\u001b[91mgo: finding github.com/t3chguy/go-gin-prometheus v0.0.0-20170724180305-438209f97511\ngo: finding github.com/matrix-org/dugong v0.0.0-20161101134353-193b8f88e381\n\u001b[0m\u001b[91mgo: finding github.com/matrix-org/gomatrix v0.0.0-20200125115505-49bed8e0e431\n\u001b[0m\u001b[91mgo: finding github.com/disintegration/letteravatar v0.0.0-20160912210445-1a457b860450\n\u001b[0m\u001b[91mgo: finding github.com/gin-gonic/gin v0.0.0-20170428105923-d5b353c5d5a5\n\u001b[0m\u001b[91mgo: finding github.com/gin-contrib/pprof v0.0.0-20170722141647-c16e1831d0a5\n\u001b[0m\u001b[91mgo: finding github.com/gin-contrib/cache v0.0.0-20170711165042-bc56748ee71c\n\u001b[0m\u001b[91mgo: finding github.com/Sirupsen/logrus v0.0.0-20170821073101-84573d5f03ab\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20200114155413-6afb5195e5aa\n\u001b[0m\u001b[91mgo: finding github.com/microcosm-cc/bluemonday v0.0.0-20161202143824-e79763773ab6\n\u001b[0m\u001b[91mgo: finding github.com/valyala/quicktemplate v1.4.1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_golang v0.0.0-20170724081313-94ff84a9a6eb\n\u001b[0m\u001b[91mgo: finding github.com/mattn/go-isatty v0.0.2\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: finding github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\n\u001b[0m\u001b[91mgo: finding golang.org/x/image v0.0.0-20190910094157-69e4b8554b2a\n\u001b[0m\u001b[91mgo: finding github.com/robfig/go-cache v0.0.0-20130306151617-9fc39e0dbf62\n\u001b[0m\u001b[91mgo: finding github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/bradfitz/gomemcache v0.0.0-20170208213004-1952afaa557d\n\u001b[0m\u001b[91mgo: finding github.com/manucorporat/sse v0.0.0-20160126180136-ee05b128a739\n\u001b[0m\u001b[91mgo: finding github.com/garyburd/redigo v0.0.0-20170718224324-9e66b83d15a2\n\u001b[0m\u001b[91mgo: finding gopkg.in/go-playground/validator.v8 v8.18.1\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.3.3\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20200113162924-86b910548bc1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: finding github.com/beorn7/perks v0.0.0-20160804104726-4c0e84591b9a\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/common v0.0.0-20170707053319-3e6a7635bac6\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/procfs v0.0.0-20170703101242-e645f4e5aaa8\n\u001b[0m\u001b[91mgo: finding github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0mRemoving intermediate container 6a264443a7b4\n ---> 3fd59ef2daab\nStep 8/14 : FROM alpine\n ---> 49176f190c7e\nStep 9/14 : RUN apk --update add ca-certificates && mkdir /opt/matrix-static\n ---> Running in 7de3bea2633a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 7de3bea2633a\n ---> 29f1368eaca4\nStep 10/14 : WORKDIR /opt/matrix-static/\n ---> Running in d301c99a31a7\nRemoving intermediate container d301c99a31a7\n ---> 8ee7330dd5a5\nStep 11/14 : COPY --from=0 /src/matrix-static /bin/\n ---> aa3f7b283c35\nStep 12/14 : COPY ./assets/ ./assets\n ---> f0d60c00a396\nStep 13/14 : EXPOSE 8000\n ---> Running in 0ffb3c2a6116\nRemoving intermediate container 0ffb3c2a6116\n ---> 35175dd5a92d\nStep 14/14 : ENTRYPOINT matrix-static\n ---> Running in f9be1bfdd3ba\nRemoving intermediate container f9be1bfdd3ba\n ---> 04270d1e9953\nSuccessfully built 04270d1e9953\nSuccessfully tagged matrix-static:latest\n","stderr":"","imageSize":26632996},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":37}},{"name":"apkAddUseNoCache","position":{"start":14,"end":14,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.13-alpine\n\nRUN apk --update --no-cache add git gcc musl-dev\nRUN go get github.com/valyala/quicktemplate/qtc\n\nWORKDIR /src\nCOPY . /src\n\nRUN qtc\nRUN go build ./cmd/matrix-static\n\nFROM alpine\n\n# We need this otherwise we don't have a good list of CAs\nRUN apk --update --no-cache add ca-certificates && mkdir /opt/matrix-static\n\nWORKDIR /opt/matrix-static/\nCOPY --from=0 /src/matrix-static /bin/\nCOPY ./assets/ ./assets\n\nEXPOSE 8000\n\nENTRYPOINT matrix-static\n"},"repairedBuild":{"startTimestamp":1672316409440,"endTimestamp":1672316474686,"error":null,"stdout":"Sending build context to Docker daemon  1.116MB\r\r\nStep 1/14 : FROM golang:1.13-alpine\n ---> 5863598a981a\nStep 2/14 : RUN apk --update --no-cache add git gcc musl-dev\n ---> Running in bf9e363a88c5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/18) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/18) Installing libgcc (9.3.0-r2)\n(3/18) Installing libstdc++ (9.3.0-r2)\n(4/18) Installing binutils (2.34-r2)\n(5/18) Installing gmp (6.2.1-r1)\n(6/18) Installing isl (0.18-r0)\n(7/18) Installing libgomp (9.3.0-r2)\n(8/18) Installing libatomic (9.3.0-r2)\n(9/18) Installing libgphobos (9.3.0-r2)\n(10/18) Installing mpfr4 (4.0.2-r4)\n(11/18) Installing mpc1 (1.1.0-r1)\n(12/18) Installing gcc (9.3.0-r2)\n(13/18) Installing nghttp2-libs (1.41.0-r0)\n(14/18) Installing libcurl (7.79.1-r1)\n(15/18) Installing expat (2.2.10-r4)\n(16/18) Installing pcre2 (10.35-r0)\n(17/18) Installing git (2.26.3-r1)\n(18/18) Installing musl-dev (1.1.24-r10)\nExecuting busybox-1.31.1-r16.trigger\nOK: 156 MiB in 32 packages\nRemoving intermediate container bf9e363a88c5\n ---> abe7c31bfd4e\nStep 3/14 : RUN go get github.com/valyala/quicktemplate/qtc\n ---> Running in b0adfad3a2ac\nRemoving intermediate container b0adfad3a2ac\n ---> babe68edbeca\nStep 4/14 : WORKDIR /src\n ---> Running in 7547dce99fa4\nRemoving intermediate container 7547dce99fa4\n ---> e0b43a64e5b4\nStep 5/14 : COPY . /src\n ---> 9b0ce0ebd95f\nStep 6/14 : RUN qtc\n ---> Running in 95745c4eae5b\n\u001b[91mqtc: 2022/12/29 12:20:47 Compiling *.qtpl template files in directory \".\"\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/basepage.qtpl\" to \"templates/basepage.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/common-error.qtpl\" to \"templates/common-error.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/pagination-common.qtpl\" to \"templates/pagination-common.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-aliases.qtpl\" to \"templates/room-aliases.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-chat.qtpl\" to \"templates/room-chat.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-common.qtpl\" to \"templates/room-common.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-error.qtpl\" to \"templates/room-error.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-memberinfo.qtpl\" to \"templates/room-memberinfo.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-members.qtpl\" to \"templates/room-members.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-powerlevels.qtpl\" to \"templates/room-powerlevels.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/room-servers.qtpl\" to \"templates/room-servers.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Compiling \"templates/rooms.qtpl\" to \"templates/rooms.qtpl.go\"...\n\u001b[0m\u001b[91mqtc: 2022/12/29 12:20:47 Total files compiled: 12\n\u001b[0mRemoving intermediate container 95745c4eae5b\n ---> f93a42f43dc6\nStep 7/14 : RUN go build ./cmd/matrix-static\n ---> Running in d54006f37238\n\u001b[91mgo: downloading github.com/gin-gonic/gin v0.0.0-20170428105923-d5b353c5d5a5\ngo: downloading github.com/disintegration/letteravatar v0.0.0-20160912210445-1a457b860450\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/cache v0.0.0-20170711165042-bc56748ee71c\n\u001b[0m\u001b[91mgo: downloading github.com/Sirupsen/logrus v0.0.0-20170821073101-84573d5f03ab\n\u001b[0m\u001b[91mgo: downloading github.com/matrix-org/dugong v0.0.0-20161101134353-193b8f88e381\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/pprof v0.0.0-20170722141647-c16e1831d0a5\n\u001b[0m\u001b[91mgo: downloading github.com/matrix-org/gomatrix v0.0.0-20200125115505-49bed8e0e431\n\u001b[0m\u001b[91mgo: downloading github.com/microcosm-cc/bluemonday v0.0.0-20161202143824-e79763773ab6\n\u001b[0m\u001b[91mgo: extracting github.com/gin-contrib/cache v0.0.0-20170711165042-bc56748ee71c\n\u001b[0m\u001b[91mgo: extracting github.com/matrix-org/dugong v0.0.0-20161101134353-193b8f88e381\n\u001b[0m\u001b[91mgo: extracting github.com/gin-contrib/pprof v0.0.0-20170722141647-c16e1831d0a5\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/go-cache v0.0.0-20130306151617-9fc39e0dbf62\n\u001b[0m\u001b[91mgo: extracting github.com/matrix-org/gomatrix v0.0.0-20200125115505-49bed8e0e431\n\u001b[0m\u001b[91mgo: extracting github.com/Sirupsen/logrus v0.0.0-20170821073101-84573d5f03ab\n\u001b[0m\u001b[91mgo: extracting github.com/gin-gonic/gin v0.0.0-20170428105923-d5b353c5d5a5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20200114155413-6afb5195e5aa\n\u001b[0m\u001b[91mgo: downloading github.com/garyburd/redigo v0.0.0-20170718224324-9e66b83d15a2\ngo: extracting github.com/microcosm-cc/bluemonday v0.0.0-20161202143824-e79763773ab6\ngo: extracting github.com/disintegration/letteravatar v0.0.0-20160912210445-1a457b860450\n\u001b[0m\u001b[91mgo: downloading github.com/t3chguy/go-gin-prometheus v0.0.0-20170724180305-438209f97511\n\u001b[0m\u001b[91mgo: downloading github.com/bradfitz/gomemcache v0.0.0-20170208213004-1952afaa557d\n\u001b[0m\u001b[91mgo: extracting github.com/robfig/go-cache v0.0.0-20130306151617-9fc39e0dbf62\ngo: downloading golang.org/x/sys v0.0.0-20200113162924-86b910548bc1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/quicktemplate v1.4.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/image v0.0.0-20190910094157-69e4b8554b2a\n\u001b[0m\u001b[91mgo: downloading github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.2\n\u001b[0m\u001b[91mgo: extracting github.com/t3chguy/go-gin-prometheus v0.0.0-20170724180305-438209f97511\ngo: extracting github.com/garyburd/redigo v0.0.0-20170718224324-9e66b83d15a2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v0.0.0-20170724081313-94ff84a9a6eb\n\u001b[0m\u001b[91mgo: extracting github.com/bradfitz/gomemcache v0.0.0-20170208213004-1952afaa557d\n\u001b[0m\u001b[91mgo: downloading github.com/manucorporat/sse v0.0.0-20160126180136-ee05b128a739\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: extracting github.com/valyala/quicktemplate v1.4.1\n\u001b[0m\u001b[91mgo: extracting github.com/mattn/go-isatty v0.0.2\n\u001b[0m\u001b[91mgo: extracting gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: extracting github.com/manucorporat/sse v0.0.0-20160126180136-ee05b128a739\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_golang v0.0.0-20170724081313-94ff84a9a6eb\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.0.0-20170707053319-3e6a7635bac6\n\u001b[0m\u001b[91mgo: downloading gopkg.in/go-playground/validator.v8 v8.18.1\n\u001b[0m\u001b[91mgo: extracting github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v0.0.0-20160804104726-4c0e84591b9a\n\u001b[0m\u001b[91mgo: extracting github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.0.0-20170703101242-e645f4e5aaa8\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.3.3\n\u001b[0m\u001b[91mgo: extracting github.com/beorn7/perks v0.0.0-20160804104726-4c0e84591b9a\ngo: extracting golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/common v0.0.0-20170707053319-3e6a7635bac6\n\u001b[0m\u001b[91mgo: extracting gopkg.in/go-playground/validator.v8 v8.18.1\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/procfs v0.0.0-20170703101242-e645f4e5aaa8\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: extracting github.com/golang/protobuf v1.3.3\n\u001b[0m\u001b[91mgo: extracting golang.org/x/sys v0.0.0-20200113162924-86b910548bc1\n\u001b[0m\u001b[91mgo: extracting golang.org/x/net v0.0.0-20200114155413-6afb5195e5aa\n\u001b[0m\u001b[91mgo: extracting golang.org/x/image v0.0.0-20190910094157-69e4b8554b2a\n\u001b[0m\u001b[91mgo: finding github.com/t3chguy/go-gin-prometheus v0.0.0-20170724180305-438209f97511\ngo: finding github.com/gin-contrib/pprof v0.0.0-20170722141647-c16e1831d0a5\ngo: finding github.com/gin-contrib/cache v0.0.0-20170711165042-bc56748ee71c\n\u001b[0m\u001b[91mgo: finding github.com/matrix-org/dugong v0.0.0-20161101134353-193b8f88e381\ngo: finding github.com/disintegration/letteravatar v0.0.0-20160912210445-1a457b860450\n\u001b[0m\u001b[91mgo: finding github.com/matrix-org/gomatrix v0.0.0-20200125115505-49bed8e0e431\n\u001b[0m\u001b[91mgo: finding github.com/microcosm-cc/bluemonday v0.0.0-20161202143824-e79763773ab6\ngo: finding github.com/Sirupsen/logrus v0.0.0-20170821073101-84573d5f03ab\ngo: finding github.com/gin-gonic/gin v0.0.0-20170428105923-d5b353c5d5a5\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20200114155413-6afb5195e5aa\n\u001b[0m\u001b[91mgo: finding github.com/valyala/quicktemplate v1.4.1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_golang v0.0.0-20170724081313-94ff84a9a6eb\n\u001b[0m\u001b[91mgo: finding github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\n\u001b[0m\u001b[91mgo: finding github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/robfig/go-cache v0.0.0-20130306151617-9fc39e0dbf62\n\u001b[0m\u001b[91mgo: finding github.com/bradfitz/gomemcache v0.0.0-20170208213004-1952afaa557d\n\u001b[0m\u001b[91mgo: finding golang.org/x/image v0.0.0-20190910094157-69e4b8554b2a\ngo: finding golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\u001b[0m\u001b[91mgo: finding github.com/manucorporat/sse v0.0.0-20160126180136-ee05b128a739\n\u001b[0m\u001b[91mgo: finding github.com/mattn/go-isatty v0.0.2\ngo: finding github.com/garyburd/redigo v0.0.0-20170718224324-9e66b83d15a2\n\u001b[0m\u001b[91mgo: finding gopkg.in/go-playground/validator.v8 v8.18.1\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.4\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.3.3\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20200113162924-86b910548bc1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n\u001b[0m\u001b[91mgo: finding github.com/beorn7/perks v0.0.0-20160804104726-4c0e84591b9a\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/common v0.0.0-20170707053319-3e6a7635bac6\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/procfs v0.0.0-20170703101242-e645f4e5aaa8\n\u001b[0m\u001b[91mgo: finding github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0mRemoving intermediate container d54006f37238\n ---> 7348865a1ef2\nStep 8/14 : FROM alpine\n ---> 49176f190c7e\nStep 9/14 : RUN apk --update --no-cache add ca-certificates && mkdir /opt/matrix-static\n ---> Running in dfdc6b16d756\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container dfdc6b16d756\n ---> d34da751df40\nStep 10/14 : WORKDIR /opt/matrix-static/\n ---> Running in b738ff0e835c\nRemoving intermediate container b738ff0e835c\n ---> a5ff02173b7d\nStep 11/14 : COPY --from=0 /src/matrix-static /bin/\n ---> e4e46420d58e\nStep 12/14 : COPY ./assets/ ./assets\n ---> 81c43bd7c8cd\nStep 13/14 : EXPOSE 8000\n ---> Running in 0a07d0c1fee2\nRemoving intermediate container 0a07d0c1fee2\n ---> 802a5a30a1b6\nStep 14/14 : ENTRYPOINT matrix-static\n ---> Running in 38ae4a58ce19\nRemoving intermediate container 38ae4a58ce19\n ---> f78441faeb06\nSuccessfully built f78441faeb06\nSuccessfully tagged matrix-static:latest\n","stderr":"","imageSize":24050253},"endTime":1672316475095}