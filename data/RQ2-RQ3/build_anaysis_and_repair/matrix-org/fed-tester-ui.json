{"repository":"https://github.com/matrix-org/fed-tester-ui","dockerfilePath":"Dockerfile","startTime":1672800444781,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/matrix-org/fed-tester-ui'...\n","error":null,"commit":"98043b78989b0335d7347306615f10bbfe00a7e2"},"originalBuild":{"startTimestamp":1672800445688,"endTimestamp":1672800615162,"error":null,"stdout":"Sending build context to Docker daemon  447.5kB\r\r\nStep 1/8 : FROM node:16\n16: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n8f331a0ab6eb: Pulling fs layer\n1b7fba8c2ddb: Pulling fs layer\n138e31cf9c76: Pulling fs layer\n8f331a0ab6eb: Waiting\n1b7fba8c2ddb: Waiting\n1b7fba8c2ddb: Verifying Checksum\n1b7fba8c2ddb: Download complete\n138e31cf9c76: Verifying Checksum\n138e31cf9c76: Download complete\n8f331a0ab6eb: Download complete\n8f331a0ab6eb: Pull complete\n1b7fba8c2ddb: Pull complete\n138e31cf9c76: Pull complete\nDigest: sha256:64e8bcdfdad6718050801a2639f7e6645fdaf85ec37a98cdb61f6a5331217618\nStatus: Downloaded newer image for node:16\n ---> c910109adbfd\nStep 2/8 : COPY . /src\n ---> 4a3fb5e55d40\nStep 3/8 : WORKDIR /src\n ---> Running in ed6a6f2f383a\nRemoving intermediate container ed6a6f2f383a\n ---> 8a2f1e529416\nStep 4/8 : RUN npm install --global gulp-cli\n ---> Running in 3e32c334c6d0\n\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\nadded 267 packages, and audited 268 packages in 17s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 3e32c334c6d0\n ---> 8c53a5156182\nStep 5/8 : RUN npm install\n ---> Running in b39b8bcfce09\n\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\nadded 1295 packages, and audited 1296 packages in 1m\n\n76 packages are looking for funding\n  run `npm fund` for details\n\n39 vulnerabilities (2 low, 9 moderate, 26 high, 2 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container b39b8bcfce09\n ---> becf3b18e963\nStep 6/8 : RUN gulp build\n ---> Running in 6eae2c1b570f\n[02:50:05] Using gulpfile /src/gulpfile.js\n[02:50:05] Starting 'build'...\n[02:50:05] Starting 'clean'...\n[02:50:05] Starting 'assets'...\n[02:50:05] Starting 'js'...\n[02:50:05] Starting 'sass'...\n[02:50:05] Starting '<anonymous>'...\n[02:50:05] Finished 'clean' after 1.87 ms\n[02:50:05] Finished '<anonymous>' after 12 ms\n[02:50:05] Finished 'sass' after 173 ms\n[02:50:07] Finished 'js' after 1.44 s\n[02:50:09] gulp-imagemin: Minified 1 image (saved 13 kB - 13.1%)\n[02:50:09] Finished 'assets' after 4.24 s\n[02:50:09] Finished 'build' after 4.24 s\nRemoving intermediate container 6eae2c1b570f\n ---> 82f02ace7347\nStep 7/8 : FROM nginx:1-alpine\n1-alpine: Pulling from library/nginx\nDigest: sha256:dd8a054d7ef030e94a6449783605d6c306c1f69c10c2fa06b66a030e0d1db793\nStatus: Downloaded newer image for nginx:1-alpine\n ---> 1e415454686a\nStep 8/8 : COPY --from=0 /src/build /usr/share/nginx/html\n ---> 314f2755af02\nSuccessfully built 314f2755af02\nSuccessfully tagged fed-tester-ui:latest\n","stderr":"","imageSize":42233503},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":33}},{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:16\n\nCOPY . /src\nWORKDIR /src\n\nRUN npm install --global gulp-cli\nRUN npm install\nRUN gulp build\n\nFROM nginx:1-alpine\nCOPY --from=0 /src/build /usr/share/nginx/html\n"},"repairedBuild":{"startTimestamp":1672800615617,"endTimestamp":1672800743318,"error":null,"stdout":"Sending build context to Docker daemon  447.5kB\r\r\nStep 1/8 : FROM node:16\n ---> c910109adbfd\nStep 2/8 : COPY . /src\n ---> 292fd982e8e4\nStep 3/8 : WORKDIR /src\n ---> Running in e610b8704bbc\nRemoving intermediate container e610b8704bbc\n ---> c5beb36eef02\nStep 4/8 : RUN npm install --global gulp-cli\n ---> Running in 4f330a33cb73\n\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\nnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\nnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\nadded 267 packages, and audited 268 packages in 16s\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container 4f330a33cb73\n ---> 47e58083a95a\nStep 5/8 : RUN npm install\n ---> Running in 838e21c63c04\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\nadded 1295 packages, and audited 1296 packages in 56s\n\n76 packages are looking for funding\n  run `npm fund` for details\n\n39 vulnerabilities (2 low, 9 moderate, 26 high, 2 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 838e21c63c04\n ---> 3fef1a59c196\nStep 6/8 : RUN gulp build\n ---> Running in d7b2911ba7ae\n[02:52:15] Using gulpfile /src/gulpfile.js\n[02:52:15] Starting 'build'...\n[02:52:15] Starting 'clean'...\n[02:52:15] Starting 'assets'...\n[02:52:15] Starting 'js'...\n[02:52:15] Starting 'sass'...\n[02:52:15] Starting '<anonymous>'...\n[02:52:15] Finished 'clean' after 2.03 ms\n[02:52:15] Finished '<anonymous>' after 9.55 ms\n[02:52:16] Finished 'sass' after 204 ms\n[02:52:17] Finished 'js' after 1.43 s\n[02:52:20] gulp-imagemin: Minified 1 image (saved 13 kB - 13.1%)\n[02:52:20] Finished 'assets' after 4.17 s\n[02:52:20] Finished 'build' after 4.18 s\nRemoving intermediate container d7b2911ba7ae\n ---> e5dc13ea3086\nStep 7/8 : FROM nginx:1-alpine\n ---> 1e415454686a\nStep 8/8 : COPY --from=0 /src/build /usr/share/nginx/html\n ---> fe7c0de1d82a\nSuccessfully built fe7c0de1d82a\nSuccessfully tagged fed-tester-ui:latest\n","stderr":"","imageSize":42233503},"endTime":1672800743528}