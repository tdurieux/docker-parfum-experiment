{"repository":"https://github.com/matrix-org/sydent","dockerfilePath":"Dockerfile","startTime":1672190945932,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/matrix-org/sydent'...\n","error":null,"commit":"3830fa5cc52e8453b47da01ef99fa5f32b67c6c4"},"originalBuild":{"startTimestamp":1672190947023,"endTimestamp":1672191052341,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t sydent:latest -f /tmp/dinghy-analysis/matrix-org/sydent/Dockerfile ."},"stdout":"Sending build context to Docker daemon  889.3kB\r\r\nStep 1/25 : FROM docker.io/python:3.8-slim as builder\n ---> 61afbf515f15\nStep 2/25 : RUN addgroup --system --gid 993 sydent     && adduser --disabled-login --system --uid 993 --gecos sydent sydent\n ---> Running in 4fcde5129060\nAdding group `sydent' (GID 993) ...\nDone.\nAdding system user `sydent' (UID 993) ...\nAdding new user `sydent' (UID 993) with group `nogroup' ...\nCreating home directory `/home/sydent' ...\nRemoving intermediate container 4fcde5129060\n ---> c95dca92dadf\nStep 3/25 : USER sydent:sydent\n ---> Running in bdbb9b22b690\nRemoving intermediate container bdbb9b22b690\n ---> 5b9aad0e62fc\nStep 4/25 : RUN pip install --user poetry==1.1.12\n ---> Running in 44d063463175\nCollecting poetry==1.1.12\n  Downloading poetry-1.1.12-py2.py3-none-any.whl (175 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 175.0/175.0 KB 11.2 MB/s eta 0:00:00\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 KB 4.1 MB/s eta 0:00:00\nCollecting virtualenv<21.0.0,>=20.0.26\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 43.5 MB/s eta 0:00:00\nCollecting keyring<22.0.0,>=21.2.0\n  Downloading keyring-21.8.0-py3-none-any.whl (32 kB)\nCollecting requests-toolbelt<0.10.0,>=0.9.1\n  Downloading requests_toolbelt-0.9.1-py2.py3-none-any.whl (54 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.3/54.3 KB 6.2 MB/s eta 0:00:00\nCollecting tomlkit<1.0.0,>=0.7.0\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 5.1 MB/s eta 0:00:00\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting crashtest<0.4.0,>=0.3.0\n  Downloading crashtest-0.3.1-py3-none-any.whl (7.0 kB)\nCollecting cachy<0.4.0,>=0.3.0\n  Downloading cachy-0.3.0-py2.py3-none-any.whl (20 kB)\nCollecting packaging<21.0,>=20.4\n  Downloading packaging-20.9-py2.py3-none-any.whl (40 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.9/40.9 KB 2.0 MB/s eta 0:00:00\nCollecting clikit<0.7.0,>=0.6.2\n  Downloading clikit-0.6.2-py2.py3-none-any.whl (91 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 91.8/91.8 KB 8.4 MB/s eta 0:00:00\nCollecting shellingham<2.0,>=1.1\n  Downloading shellingham-1.5.0-py2.py3-none-any.whl (9.3 kB)\nCollecting poetry-core<1.1.0,>=1.0.7\n  Downloading poetry_core-1.0.8-py2.py3-none-any.whl (425 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 425.0/425.0 KB 26.9 MB/s eta 0:00:00\nCollecting cleo<0.9.0,>=0.8.1\n  Downloading cleo-0.8.1-py2.py3-none-any.whl (21 kB)\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 KB 9.7 MB/s eta 0:00:00\nCollecting pkginfo<2.0,>=1.4\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 322.5/322.5 KB 25.6 MB/s eta 0:00:00\nCollecting lockfile>=0.9\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting pylev<2.0,>=1.3\n  Downloading pylev-1.4.0-py2.py3-none-any.whl (6.1 kB)\nCollecting pastel<0.3.0,>=0.2.0\n  Downloading pastel-0.2.1-py2.py3-none-any.whl (6.0 kB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 KB 3.4 MB/s eta 0:00:00\nCollecting pyparsing>=2.0.2\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.3/98.3 KB 11.0 MB/s eta 0:00:00\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 11.8 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 17.6 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 3.8 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.8.2-py3-none-any.whl (10 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 36.0 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.0-py3-none-any.whl (14 kB)\nCollecting cryptography>=2.0\n  Downloading cryptography-38.0.4-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 43.2 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (442 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 442.7/442.7 KB 17.7 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 KB 9.1 MB/s eta 0:00:00\nInstalling collected packages: webencodings, pylev, ptyprocess, msgpack, lockfile, distlib, urllib3, tomlkit, six, shellingham, pyparsing, pycparser, poetry-core, platformdirs, pkginfo, pexpect, pastel, jeepney, idna, filelock, crashtest, charset-normalizer, certifi, cachy, virtualenv, requests, packaging, html5lib, clikit, cffi, requests-toolbelt, cryptography, cleo, cachecontrol, SecretStorage, keyring, poetry\n\u001b[91m  WARNING: The script pkginfo is installed in '/home/sydent/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script normalizer is installed in '/home/sydent/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script virtualenv is installed in '/home/sydent/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script doesitcache is installed in '/home/sydent/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script keyring is installed in '/home/sydent/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script poetry is installed in '/home/sydent/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0mSuccessfully installed SecretStorage-3.3.3 cachecontrol-0.12.11 cachy-0.3.0 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-0.8.1 clikit-0.6.2 crashtest-0.3.1 cryptography-38.0.4 distlib-0.3.6 filelock-3.8.2 html5lib-1.1 idna-3.4 jeepney-0.8.0 keyring-21.8.0 lockfile-0.12.2 msgpack-1.0.4 packaging-20.9 pastel-0.2.1 pexpect-4.8.0 pkginfo-1.9.2 platformdirs-2.6.0 poetry-1.1.12 poetry-core-1.0.8 ptyprocess-0.7.0 pycparser-2.21 pylev-1.4.0 pyparsing-3.0.9 requests-2.28.1 requests-toolbelt-0.9.1 shellingham-1.5.0 six-1.16.0 tomlkit-0.11.6 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1\n\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 44d063463175\n ---> eaa39c6b1cf7\nStep 5/25 : WORKDIR /home/sydent/src\n ---> Running in cc306bb667b6\nRemoving intermediate container cc306bb667b6\n ---> e796155cc38f\nStep 6/25 : COPY --chown=sydent:sydent [\"res\", \"res\"]\n ---> 7a18617c2543\nStep 7/25 : COPY --chown=sydent:sydent [\"scripts\", \"scripts\"]\n ---> 1ab8db65da93\nStep 8/25 : COPY --chown=sydent:sydent [\"sydent\", \"sydent\"]\n ---> 67482b6c1c00\nStep 9/25 : COPY --chown=sydent:sydent [\"README.rst\", \"pyproject.toml\", \"poetry.lock\", \"./\"]\n ---> f7bce8a21a65\nStep 10/25 : RUN python -m poetry install --no-dev --no-interaction --extras \"prometheus sentry\"\n ---> Running in f765bac7ec7a\nCreating virtualenv matrix-sydent-3aWsWN4x-py3.8 in /home/sydent/.cache/pypoetry/virtualenvs\nInstalling dependencies from lock file\n\nPackage operations: 36 installs, 0 updates, 1 removal\n\n  • Removing setuptools (65.5.1)\n  • Installing pycparser (2.21)\n  • Installing attrs (21.4.0)\n  • Installing cffi (1.15.0)\n  • Installing idna (3.3)\n  • Installing pyasn1 (0.4.8)\n  • Installing frozendict (2.2.0)\n  • Installing simplejson (3.17.6)\n  • Installing six (1.16.0)\n  • Installing zipp (3.7.0)\n  • Installing automat (20.2.0)\n  • Installing canonicaljson (1.5.0)\n  • Installing constantly (15.1.0)\n  • Installing certifi (2022.12.7)\n  • Installing hyperlink (21.0.0)\n  • Installing incremental (21.3.0)\n  • Installing cryptography (36.0.1)\n  • Installing markupsafe (2.0.1)\n  • Installing pynacl (1.5.0)\n  • Installing typing-extensions (4.0.1)\n  • Installing importlib-metadata (4.10.1)\n  • Installing urllib3 (1.26.8)\n  • Installing zope.interface (5.4.0)\n  • Installing unpaddedbase64 (2.1.0)\n  • Installing pyasn1-modules (0.2.8)\n  • Installing jinja2 (3.0.3)\n  • Installing matrix-common (1.1.0)\n  • Installing netaddr (0.8.0)\n  • Installing phonenumbers (8.12.41)\n  • Installing pyopenssl (21.0.0)\n  • Installing prometheus-client (0.15.0)\n  • Installing sentry-sdk (1.5.5)\n  • Installing signedjson (1.1.1)\n  • Installing service-identity (21.1.0)\n  • Installing twisted (22.4.0)\n  • Installing sortedcontainers (2.4.0)\n  • Installing pyyaml (6.0)\n\nInstalling the current project: matrix-sydent (2.5.2)\nRemoving intermediate container f765bac7ec7a\n ---> 9d7dc39efd7b\nStep 11/25 : RUN python -m poetry export -o requirements.txt\n ---> Running in 79090e442005\n\n  PermissionError\n\n  [Errno 13] Permission denied: '/home/sydent/src/requirements.txt'\n\n  at /usr/local/lib/python3.8/pathlib.py:1078 in _opener\n      1074│         raise ValueError(\"I/O operation on closed path\")\n      1075│ \n      1076│     def _opener(self, name, flags, mode=0o666):\n      1077│         # A stub for the opener argument to built-in open()\n    → 1078│         return self._accessor.open(self, flags, mode)\n      1079│ \n      1080│     def _raw_open(self, flags, mode=0o777):\n      1081│         \n      1082│         Open the file pointed by this path and return a file descriptor,\nRemoving intermediate container 79090e442005\n","stderr":"The command '/bin/sh -c python -m poetry export -o requirements.txt' returned a non-zero code: 1\n"},"endTime":1672191052419}