{"repository":"https://github.com/leapfe/luban","dockerfilePath":"Dockerfile","startTime":1672621166382,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/leapfe/luban'...\n","error":null,"commit":"2307292d614f077b225dbac0405d75c6950d00f9"},"originalBuild":{"startTimestamp":1672621167442,"endTimestamp":1672621235559,"error":null,"stdout":"Sending build context to Docker daemon  3.515MB\r\r\nStep 1/17 : FROM node:10-alpine as client_builder\n ---> aa67ba258e18\nStep 2/17 : ENV LERNA_PATH=./lerna.json\n ---> Running in e153cb4da5c3\nRemoving intermediate container e153cb4da5c3\n ---> e9a4b3d541ee\nStep 3/17 : WORKDIR /client\n ---> Running in e6f87f141979\nRemoving intermediate container e6f87f141979\n ---> cf9d88a4dc3b\nStep 4/17 : COPY doc/package.json doc/package-lock.json /client/\n ---> 1491cb4d08e7\nStep 5/17 : RUN npm ci\n ---> Running in e09c38127617\n\n> core-js@2.6.12 postinstall /client/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.14.0 postinstall /client/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ant-design-vue@1.7.5 postinstall /client/node_modules/ant-design-vue\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using ant-design-vue (\u001b[94m https://github.com/vueComponent/ant-design-vue \u001b[96m)!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of ant-design-vue on Open Collective or Patreon: 🙏\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/ant-design-vue \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/tangjinzhou \u001b[0m\n\n\u001b[96m更多赞助方式(支付宝、微信、Paypal)请查看如下链接: 🙏\u001b[0m\n\u001b[96m>\u001b[94m https://www.antdv.com/docs/vue/sponsor-cn \u001b[0m\n\n\u001b[96mAnt Design Vue 官方网站: \u001b[0m\n\u001b[96m>\u001b[94m https://www.antdv.com/ \u001b[0m\n\n\n> fsevents@1.2.13 install /client/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> vuepress@1.8.2 postinstall /client/node_modules/vuepress\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using vuepress!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/vuepress/donate\u001b[0m\n\nadded 1323 packages in 10.318s\nRemoving intermediate container e09c38127617\n ---> d674c005de64\nStep 6/17 : COPY doc /client/\n ---> 9cf072148390\nStep 7/17 : COPY lerna.json /client/\n ---> 222752bac454\nStep 8/17 : RUN npm run doc:build\n ---> Running in 1c2b9581b0c8\n\n> doc@ doc:build /client\n> node start.js build . --temp .temp\n\nwait Extracting site metadata...\ntip Apply theme vuepress-theme-antdocs ...\ntip Apply plugin container (i.e. \"vuepress-plugin-container\") ...\ntip Apply plugin @vuepress/register-components (i.e. \"@vuepress/plugin-register-components\") ...\ntip Apply plugin @vuepress/search (i.e. \"@vuepress/plugin-search\") ...\ntip Apply plugin smooth-scroll (i.e. \"vuepress-plugin-smooth-scroll\") ...\ntip Apply plugin @vuepress/back-to-top (i.e. \"@vuepress/plugin-back-to-top\") ...\ntip Apply plugin @vuepress/medium-zoom (i.e. \"@vuepress/plugin-medium-zoom\") ...\ntip Apply plugin @vuepress/active-header-links (i.e. \"@vuepress/plugin-active-header-links\") ...\ntip Apply plugin @vuepress/last-updated (i.e. \"@vuepress/plugin-last-updated\") ...\ntip Apply plugin @vuepress/nprogress (i.e. \"@vuepress/plugin-nprogress\") ...\nℹ Compiling Client\nℹ Compiling Server\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mLanguage does not exist: package.json\n\u001b[0m\u001b[91mLanguage does not exist: text\n\u001b[0m\u001b[91mLanguage does not exist: env\n\u001b[0m\u001b[91mLanguage does not exist: text\n\u001b[0m✔ Server: Compiled successfully in 16.55s\n✔ Client: Compiled successfully in 28.40s\nwait Rendering static HTML...\n\u001b[2K\u001b[1Gsuccess Generated static files in .vuepress/dist.\n\nRemoving intermediate container 1c2b9581b0c8\n ---> 79b35b611503\nStep 9/17 : FROM node:10-alpine as server_builder\n ---> aa67ba258e18\nStep 10/17 : WORKDIR /server\n ---> Running in 5737573ebe62\nRemoving intermediate container 5737573ebe62\n ---> 78f8a640bb62\nStep 11/17 : COPY doc/server/package.json doc/server/package-lock.json /server/\n ---> e920c6ee26e7\nStep 12/17 : RUN npm install\n ---> Running in cf43212bc1b3\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mread-shrinkwrap\u001b[0m\u001b[91m This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN document-server@ No description\n\u001b[0m\u001b[91mnpm WARN document-server@ No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 30 packages from 40 contributors and audited 30 packages in 0.864s\n\n7 packages are looking for funding\n  run `npm fund` for details\n\nfound 8 vulnerabilities (2 moderate, 3 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container cf43212bc1b3\n ---> 65c1062447f4\nStep 13/17 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 14/17 : WORKDIR /app\n ---> Running in 56d165bb40dc\nRemoving intermediate container 56d165bb40dc\n ---> 921f09454b2f\nStep 15/17 : COPY doc/server/package.json /app/\n ---> bd350159fa67\nStep 16/17 : COPY --from=client_builder client/.vuepress/dist /app/dist\n ---> 44f98c06300d\nStep 17/17 : COPY --from=server_builder server/node_modules /app/node_modules\n ---> a7252c0dd872\nSuccessfully built a7252c0dd872\nSuccessfully tagged luban:latest\n","stderr":"","imageSize":90024160},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:10-alpine as client_builder\nENV LERNA_PATH=./lerna.json\nWORKDIR /client\nCOPY doc/package.json doc/package-lock.json /client/\nRUN npm ci\nCOPY doc /client/\nCOPY lerna.json /client/\nRUN npm run doc:build\n\nFROM node:10-alpine as server_builder\nWORKDIR /server\nCOPY doc/server/package.json doc/server/package-lock.json /server/\nRUN npm install\n\nFROM node:10-alpine\nWORKDIR /app\nCOPY doc/server/package.json /app/\nCOPY --from=client_builder client/.vuepress/dist /app/dist\nCOPY --from=server_builder server/node_modules /app/node_modules\n"},"repairedBuild":{"startTimestamp":1672621235886,"endTimestamp":1672621306870,"error":null,"stdout":"Sending build context to Docker daemon  3.515MB\r\r\nStep 1/17 : FROM node:10-alpine as client_builder\n ---> aa67ba258e18\nStep 2/17 : ENV LERNA_PATH=./lerna.json\n ---> Running in c6acf45bb4d4\nRemoving intermediate container c6acf45bb4d4\n ---> e56700afc057\nStep 3/17 : WORKDIR /client\n ---> Running in 39472c335222\nRemoving intermediate container 39472c335222\n ---> 61f8e145b5b4\nStep 4/17 : COPY doc/package.json doc/package-lock.json /client/\n ---> d31a31297e9a\nStep 5/17 : RUN npm ci\n ---> Running in e5f6a087c3de\n\n> core-js@2.6.12 postinstall /client/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.14.0 postinstall /client/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> ant-design-vue@1.7.5 postinstall /client/node_modules/ant-design-vue\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using ant-design-vue (\u001b[94m https://github.com/vueComponent/ant-design-vue \u001b[96m)!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of ant-design-vue on Open Collective or Patreon: 🙏\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/ant-design-vue \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/tangjinzhou \u001b[0m\n\n\u001b[96m更多赞助方式(支付宝、微信、Paypal)请查看如下链接: 🙏\u001b[0m\n\u001b[96m>\u001b[94m https://www.antdv.com/docs/vue/sponsor-cn \u001b[0m\n\n\u001b[96mAnt Design Vue 官方网站: \u001b[0m\n\u001b[96m>\u001b[94m https://www.antdv.com/ \u001b[0m\n\n\n> fsevents@1.2.13 install /client/node_modules/fsevents\n> node install.js\n\n\nSkipping 'fsevents' build as platform linux is not supported\n\n> vuepress@1.8.2 postinstall /client/node_modules/vuepress\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using vuepress!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/vuepress/donate\u001b[0m\n\nadded 1323 packages in 7.957s\nRemoving intermediate container e5f6a087c3de\n ---> 0a8c59451477\nStep 6/17 : COPY doc /client/\n ---> 131cd7c322f0\nStep 7/17 : COPY lerna.json /client/\n ---> eeab41bb4406\nStep 8/17 : RUN npm run doc:build\n ---> Running in 19a01f9460a4\n\n> doc@ doc:build /client\n> node start.js build . --temp .temp\n\nwait Extracting site metadata...\ntip Apply theme vuepress-theme-antdocs ...\ntip Apply plugin container (i.e. \"vuepress-plugin-container\") ...\ntip Apply plugin @vuepress/register-components (i.e. \"@vuepress/plugin-register-components\") ...\ntip Apply plugin @vuepress/search (i.e. \"@vuepress/plugin-search\") ...\ntip Apply plugin smooth-scroll (i.e. \"vuepress-plugin-smooth-scroll\") ...\ntip Apply plugin @vuepress/back-to-top (i.e. \"@vuepress/plugin-back-to-top\") ...\ntip Apply plugin @vuepress/medium-zoom (i.e. \"@vuepress/plugin-medium-zoom\") ...\ntip Apply plugin @vuepress/active-header-links (i.e. \"@vuepress/plugin-active-header-links\") ...\ntip Apply plugin @vuepress/last-updated (i.e. \"@vuepress/plugin-last-updated\") ...\ntip Apply plugin @vuepress/nprogress (i.e. \"@vuepress/plugin-nprogress\") ...\nℹ Compiling Client\nℹ Compiling Server\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mLanguage does not exist: package.json\n\u001b[0m\u001b[91mLanguage does not exist: text\n\u001b[0m\u001b[91mLanguage does not exist: env\n\u001b[0m\u001b[91mLanguage does not exist: text\n\u001b[0m✔ Server: Compiled successfully in 19.62s\n✔ Client: Compiled successfully in 28.06s\nwait Rendering static HTML...\n\u001b[2K\u001b[1Gsuccess Generated static files in .vuepress/dist.\n\nRemoving intermediate container 19a01f9460a4\n ---> 64b7d31a88e8\nStep 9/17 : FROM node:10-alpine as server_builder\n ---> aa67ba258e18\nStep 10/17 : WORKDIR /server\n ---> Running in 19c03b2dcbc0\nRemoving intermediate container 19c03b2dcbc0\n ---> 0f6be6a4b64f\nStep 11/17 : COPY doc/server/package.json doc/server/package-lock.json /server/\n ---> 6b08f60025d7\nStep 12/17 : RUN npm install\n ---> Running in 7974f3f3c335\n\u001b[91mnpm WARN\u001b[0m\u001b[91m read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN document-server@ No description\n\u001b[0m\u001b[91mnpm WARN document-server@ No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 30 packages from 40 contributors and audited 30 packages in 0.913s\n\n7 packages are looking for funding\n  run `npm fund` for details\n\nfound 8 vulnerabilities (2 moderate, 3 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 7974f3f3c335\n ---> efb9c04d0669\nStep 13/17 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 14/17 : WORKDIR /app\n ---> Running in ed5992e8fafe\nRemoving intermediate container ed5992e8fafe\n ---> d9f6c25777b6\nStep 15/17 : COPY doc/server/package.json /app/\n ---> 87ff0ab0313e\nStep 16/17 : COPY --from=client_builder client/.vuepress/dist /app/dist\n ---> e6bd5fcab0d3\nStep 17/17 : COPY --from=server_builder server/node_modules /app/node_modules\n ---> 0b3dbe5ff86f\nSuccessfully built 0b3dbe5ff86f\nSuccessfully tagged luban:latest\n","stderr":"","imageSize":90024141},"endTime":1672621307162}