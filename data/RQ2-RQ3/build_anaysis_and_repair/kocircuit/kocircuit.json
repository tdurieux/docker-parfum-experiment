{"repository":"https://github.com/kocircuit/kocircuit","dockerfilePath":"Dockerfile","startTime":1672634638765,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kocircuit/kocircuit'...\n","error":null,"commit":"dc6f9f82b574edb77e412b7c4d3ad34650d60262"},"originalBuild":{"startTimestamp":1672634640310,"endTimestamp":1672634675673,"error":null,"stdout":"Sending build context to Docker daemon  48.68MB\r\r\nStep 1/11 : FROM golang:1.11-alpine\n1.11-alpine: Pulling from library/golang\n9d48c3bd43c5: Pulling fs layer\n7f94eaf8af20: Pulling fs layer\n9fe9984849c1: Pulling fs layer\nec448270508e: Pulling fs layer\n65ba82af53f7: Pulling fs layer\nec448270508e: Waiting\n65ba82af53f7: Waiting\n9fe9984849c1: Verifying Checksum\n9fe9984849c1: Download complete\n7f94eaf8af20: Download complete\n9d48c3bd43c5: Verifying Checksum\n9d48c3bd43c5: Download complete\n9d48c3bd43c5: Pull complete\n7f94eaf8af20: Pull complete\n65ba82af53f7: Verifying Checksum\n65ba82af53f7: Download complete\n9fe9984849c1: Pull complete\nec448270508e: Verifying Checksum\nec448270508e: Download complete\nec448270508e: Pull complete\n65ba82af53f7: Pull complete\nDigest: sha256:09e47edb668c2cac8c0bbce113f2f72c97b1555d70546dff569c8b9b27fcebd3\nStatus: Downloaded newer image for golang:1.11-alpine\n ---> e116d2efa2ab\nStep 2/11 : RUN apk add -U git\n ---> Running in 38329f966e76\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing nghttp2-libs (1.39.2-r1)\n(2/5) Installing libcurl (7.66.0-r4)\n(3/5) Installing expat (2.2.8-r0)\n(4/5) Installing pcre2 (10.33-r0)\n(5/5) Installing git (2.22.5-r0)\nExecuting busybox-1.30.1-r2.trigger\nOK: 21 MiB in 20 packages\nRemoving intermediate container 38329f966e76\n ---> d7f08303b6e4\nStep 3/11 : ENV GO111MODULES=auto\n ---> Running in 818cfa59808f\nRemoving intermediate container 818cfa59808f\n ---> f7f36fc7db9c\nStep 4/11 : COPY . /go/src/github.com/kocircuit/kocircuit/\n ---> b6ae61ac42e1\nStep 5/11 : RUN     go get github.com/golang/protobuf/proto &&     go get github.com/golang/protobuf/protoc-gen-go/descriptor &&     go build -o /go/bin/ko github.com/kocircuit/kocircuit/lang/ko\n ---> Running in faebd8f01b17\nRemoving intermediate container faebd8f01b17\n ---> 9ceebcce83c0\nStep 6/11 : FROM alpine\n ---> 49176f190c7e\nStep 7/11 : ENV GOPATH=/ko\n ---> Running in 70fab040fb0e\nRemoving intermediate container 70fab040fb0e\n ---> 61af070bc50e\nStep 8/11 : WORKDIR $GOPATH\n ---> Running in 99685b71305d\nRemoving intermediate container 99685b71305d\n ---> ccd496d74df7\nStep 9/11 : COPY --from=0 /go/bin/ko /usr/bin/\n ---> 433d70161a81\nStep 10/11 : COPY ./lib/ /ko/src/github.com/kocircuit/kocircuit/lib/\n ---> 79e5a6d01d1f\nStep 11/11 : ENTRYPOINT [ \"/usr/bin/ko\" ]\n ---> Running in 01cbc113fdab\nRemoving intermediate container 01cbc113fdab\n ---> 0cb1bc72f4a0\nSuccessfully built 0cb1bc72f4a0\nSuccessfully tagged kocircuit:latest\n","stderr":"","imageSize":25434436},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":18}}],"repairedDockerfile":"FROM golang:1.11-alpine\n\n# Prepare dependencies\nRUN apk add --no-cache -U git\n\nENV GO111MODULES=auto\n\n# Include sources\nCOPY . /go/src/github.com/kocircuit/kocircuit/\n\n# Build ko\nRUN \\\n    go get github.com/golang/protobuf/proto && \\\n    go get github.com/golang/protobuf/protoc-gen-go/descriptor && \\\n    go build -o /go/bin/ko github.com/kocircuit/kocircuit/lang/ko\n\n# Package ko container\nFROM alpine\n\nENV GOPATH=/ko\nWORKDIR $GOPATH\n\n# Copy binary\nCOPY --from=0 /go/bin/ko /usr/bin/\n\n# Copy library sources\nCOPY ./lib/ /ko/src/github.com/kocircuit/kocircuit/lib/\n\nENTRYPOINT [ \"/usr/bin/ko\" ]\n"},"repairedBuild":{"startTimestamp":1672634675949,"endTimestamp":1672634699312,"error":null,"stdout":"Sending build context to Docker daemon  48.68MB\r\r\nStep 1/11 : FROM golang:1.11-alpine\n ---> e116d2efa2ab\nStep 2/11 : RUN apk add --no-cache -U git\n ---> Running in 6bd0c5fccafe\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing nghttp2-libs (1.39.2-r1)\n(2/5) Installing libcurl (7.66.0-r4)\n(3/5) Installing expat (2.2.8-r0)\n(4/5) Installing pcre2 (10.33-r0)\n(5/5) Installing git (2.22.5-r0)\nExecuting busybox-1.30.1-r2.trigger\nOK: 21 MiB in 20 packages\nRemoving intermediate container 6bd0c5fccafe\n ---> f2fc113aa252\nStep 3/11 : ENV GO111MODULES=auto\n ---> Running in 0c1b3f6c45e4\nRemoving intermediate container 0c1b3f6c45e4\n ---> 4091ee21e7fa\nStep 4/11 : COPY . /go/src/github.com/kocircuit/kocircuit/\n ---> deaaf26a7434\nStep 5/11 : RUN     go get github.com/golang/protobuf/proto &&     go get github.com/golang/protobuf/protoc-gen-go/descriptor &&     go build -o /go/bin/ko github.com/kocircuit/kocircuit/lang/ko\n ---> Running in 2fee86b43acc\nRemoving intermediate container 2fee86b43acc\n ---> c9e9ebd2b4f7\nStep 6/11 : FROM alpine\n ---> 49176f190c7e\nStep 7/11 : ENV GOPATH=/ko\n ---> Running in 49b11fabd6a3\nRemoving intermediate container 49b11fabd6a3\n ---> 6af476b87c06\nStep 8/11 : WORKDIR $GOPATH\n ---> Running in d9c0306749f2\nRemoving intermediate container d9c0306749f2\n ---> b43f2472c4af\nStep 9/11 : COPY --from=0 /go/bin/ko /usr/bin/\n ---> 3b83aa5da310\nStep 10/11 : COPY ./lib/ /ko/src/github.com/kocircuit/kocircuit/lib/\n ---> e65f2b9a24f2\nStep 11/11 : ENTRYPOINT [ \"/usr/bin/ko\" ]\n ---> Running in 9508e3954473\nRemoving intermediate container 9508e3954473\n ---> 61b0b9c3f738\nSuccessfully built 61b0b9c3f738\nSuccessfully tagged kocircuit:latest\n","stderr":"","imageSize":25434436},"endTime":1672634699601}