{"repository":"https://github.com/fsd-nodejs/service-mw2","dockerfilePath":"Dockerfile","startTime":1672522226298,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/fsd-nodejs/service-mw2'...\n","error":null,"commit":"52dae03f3342b9288c65281c86cc592e60f84cef"},"originalBuild":{"startTimestamp":1672522227100,"endTimestamp":1672522372490,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t service-mw2:latest -f /tmp/dinghy-analysis/fsd-nodejs/service-mw2/Dockerfile ."},"stdout":"Sending build context to Docker daemon  250.4kB\r\r\nStep 1/9 : FROM node:14.17.3-buster-slim AS BUILD_IMAGE\n14.17.3-buster-slim: Pulling from library/node\n33847f680f63: Pulling fs layer\n9433a176a005: Pulling fs layer\n7b54ffbdfdbc: Pulling fs layer\n0627578f1714: Pulling fs layer\n85b6837a690f: Pulling fs layer\n0627578f1714: Waiting\n85b6837a690f: Waiting\n9433a176a005: Download complete\n33847f680f63: Download complete\n7b54ffbdfdbc: Verifying Checksum\n7b54ffbdfdbc: Download complete\n0627578f1714: Verifying Checksum\n0627578f1714: Download complete\n85b6837a690f: Verifying Checksum\n85b6837a690f: Download complete\n33847f680f63: Pull complete\n9433a176a005: Pull complete\n7b54ffbdfdbc: Pull complete\n0627578f1714: Pull complete\n85b6837a690f: Pull complete\nDigest: sha256:97e3aeb93d58df6dfd33e8a3fe016c111deb5aa149dccfdde989a6e6923bc4b9\nStatus: Downloaded newer image for node:14.17.3-buster-slim\n ---> 6f2733881569\nStep 2/9 : WORKDIR /home\n ---> Running in 4567f727bac6\nRemoving intermediate container 4567f727bac6\n ---> 1dc3e2b7aa55\nStep 3/9 : COPY . .\n ---> fbad5fa42ad5\nStep 4/9 : RUN npm install --registry=https://registry.npm.taobao.org &&     npm run build &&     npm prune --production\n ---> Running in 6deacdbc4021\n\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\n> core-js@2.6.12 postinstall /home/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> es5-ext@0.10.62 postinstall /home/node_modules/es5-ext\n>  node -e \"try{require('./_postinstall')}catch(e){}\" || exit 0\n\n\n> @midwayjs/cli@1.3.21 postinstall /home/node_modules/@midwayjs/cli\n> node ./postinstall\n\n[midway] auto install complete\n\n> @midwayjs/fcli-plugin-fc@1.3.20 postinstall /home/node_modules/@midwayjs/fcli-plugin-fc\n> node ./postinstall\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for @mw-components/jaeger@9.0.4: wanted: {\"node\":\">=16.13.0\"} (current: {\"node\":\"14.17.3\",\"npm\":\"6.14.13\"})\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: @mw-components/jaeger@9.0.4\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for @mw-components/jwt@9.2.2: wanted: {\"node\":\">=16.13.0\"} (current: {\"node\":\"14.17.3\",\"npm\":\"6.14.13\"})\nnpm WARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: @mw-components/jwt@9.2.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for @waiting/shared-core@15.3.0: wanted: {\"node\":\">=16.13.0\"} (current: {\"node\":\"14.17.3\",\"npm\":\"6.14.13\"})\nnpm WARN notsup Not compatible with your version of node/npm: @waiting/shared-core@15.3.0\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 2209 packages from 1061 contributors in 72.26s\n\n139 packages are looking for funding\n  run `npm fund` for details\n\n\n> service-mw2@1.3.0 build /home\n> midway-bin build -c\n\n[ Midway ] Read TsConfig Error Unexpected token / in JSON at position 565\n\n\n\n\nError! You can try adding the -V parameter for more information output.\n\n\n\n\n\u001b[91mSyntaxError: Unexpected token / in JSON at position 565\n    at JSON.parse (<anonymous>)\n    at BuildPlugin.getTsConfig (/home/node_modules/@midwayjs/cli-plugin-build/src/index.ts:277:31)\n    at BuildPlugin.getOutDir (/home/node_modules/@midwayjs/cli-plugin-build/src/index.ts:110:27)\n    at BuildPlugin.clean (/home/node_modules/@midwayjs/cli-plugin-build/src/index.ts:100:25)\n    at CommandCore.execLifecycle (/home/node_modules/@midwayjs/command-core/src/core.ts:216:17)\n    at CommandCore.invoke (/home/node_modules/@midwayjs/command-core/src/core.ts:182:5)\n    at CLI.start (/home/node_modules/@midwayjs/command-core/src/cli.ts:191:5)\n\u001b[0m\u001b[91mnpm ERR! code ELIFECYCLE\n\u001b[0m\u001b[91mnpm ERR! errno 1\n\u001b[0m\u001b[91mnpm ERR! service-mw2@1.3.0 build: `midway-bin build -c`\nnpm \u001b[0m\u001b[91mERR! Exit status 1\n\u001b[0m\u001b[91mnpm ERR! \nnpm ERR!\u001b[0m\u001b[91m Failed at the service-mw2@1.3.0 build script.\nnpm ERR!\u001b[0m\u001b[91m This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m ERR!\u001b[0m\u001b[91m A complete log of this run can be found in:\nnpm \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m     /root/.npm/_logs/2022-12-31T21_32_47_588Z-debug.log\n\u001b[0mRemoving intermediate container 6deacdbc4021\n","stderr":"The command '/bin/sh -c npm install --registry=https://registry.npm.taobao.org &&     npm run build &&     npm prune --production' returned a non-zero code: 1\n"},"endTime":1672522372551}