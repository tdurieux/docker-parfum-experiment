{"repository":"https://github.com/rakyll/hey","dockerfilePath":"Dockerfile","startTime":1673259446105,"endTime":1673259591999,"clone":{"startTime":1673259446105,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/rakyll/hey'...\n","error":null,"endTime":1673259447038,"commit":"898582754e00405372f0686641441168f4e2f489"},"originalBuild":{"startTime":1673259447119,"endTime":1673259541809,"error":null,"stdout":"Sending build context to Docker daemon  2.392MB\r\r\nStep 1/20 : FROM golang:1.15 as build\n1.15: Pulling from library/golang\n627b765e08d1: Pulling fs layer\nc040670e5e55: Pulling fs layer\n073a180f4992: Pulling fs layer\nbf76209566d0: Pulling fs layer\n6182a456504b: Pulling fs layer\n73e3d3d88c3c: Pulling fs layer\n5946d17734ce: Pulling fs layer\nbf76209566d0: Waiting\n6182a456504b: Waiting\n73e3d3d88c3c: Waiting\n5946d17734ce: Waiting\nc040670e5e55: Verifying Checksum\nc040670e5e55: Download complete\n073a180f4992: Verifying Checksum\n073a180f4992: Download complete\n627b765e08d1: Download complete\nbf76209566d0: Verifying Checksum\nbf76209566d0: Download complete\n6182a456504b: Verifying Checksum\n6182a456504b: Download complete\n5946d17734ce: Verifying Checksum\n5946d17734ce: Download complete\n73e3d3d88c3c: Verifying Checksum\n73e3d3d88c3c: Download complete\n627b765e08d1: Pull complete\nc040670e5e55: Pull complete\n073a180f4992: Pull complete\nbf76209566d0: Pull complete\n6182a456504b: Pull complete\n73e3d3d88c3c: Pull complete\n5946d17734ce: Pull complete\nDigest: sha256:ea080cc817b02a946461d42c02891bf750e3916c52f7ea8187bccde8f312b59f\nStatus: Downloaded newer image for golang:1.15\n ---> 40349a2425ef\nStep 2/20 : ENV USER=appuser\n ---> Running in 2c01fb993b64\nRemoving intermediate container 2c01fb993b64\n ---> 870fc6e02766\nStep 3/20 : ENV UID=10001\n ---> Running in 0a759b95d49a\nRemoving intermediate container 0a759b95d49a\n ---> e30ac3fa916d\nStep 4/20 : RUN adduser     --disabled-password     --gecos \"\"     --home \"/nonexistent\"     --shell \"/sbin/nologin\"     --no-create-home     --uid \"${UID}\"     \"${USER}\"\n ---> Running in dc5ccd4c8afa\nWarning: The home dir /nonexistent you specified can't be accessed: No such file or directory\nAdding user `appuser' ...\nAdding new group `appuser' (10001) ...\nAdding new user `appuser' (10001) with group `appuser' ...\nNot creating home directory `/nonexistent'.\nRemoving intermediate container dc5ccd4c8afa\n ---> 0cd0ba36404f\nStep 5/20 : RUN apt-get update && apt-get install -y ca-certificates\n ---> Running in c5f6c9ec78fd\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (4893 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20200601~deb10u2).\n0 upgraded, 0 newly installed, 0 to remove and 53 not upgraded.\nRemoving intermediate container c5f6c9ec78fd\n ---> 3b23eefe1c4c\nStep 6/20 : RUN go get github.com/rakyll/hey\n ---> Running in 1c0bc5068135\nRemoving intermediate container 1c0bc5068135\n ---> 243cf11caf65\nStep 7/20 : WORKDIR /go/src/github.com/rakyll/hey\n ---> Running in 88374ab9d788\nRemoving intermediate container 88374ab9d788\n ---> a30b2f158c8a\nStep 8/20 : RUN go mod download\n ---> Running in 17e91240f1b0\nRemoving intermediate container 17e91240f1b0\n ---> 2b598c45d467\nStep 9/20 : RUN CGO_ENABLED=0 GOOS=linux go build -o /go/bin/hey hey.go\n ---> Running in 140f7edfd57d\nRemoving intermediate container 140f7edfd57d\n ---> a832f0ea79e6\nStep 10/20 : FROM scratch\n ---> \nStep 11/20 : COPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 3f5e0d201ab9\nStep 12/20 : COPY --from=build /etc/passwd /etc/passwd\n ---> ea97262da41e\nStep 13/20 : COPY --from=build /etc/group /etc/group\n ---> 5d0472bdfda0\nStep 14/20 : USER appuser:appuser\n ---> Running in d32b7173a8dd\nRemoving intermediate container d32b7173a8dd\n ---> 7ce337dc9977\nStep 15/20 : ARG APPLICATION=\"hey\"\n ---> Running in 8ed01718b489\nRemoving intermediate container 8ed01718b489\n ---> 0af949acb5f2\nStep 16/20 : ARG DESCRIPTION=\"HTTP load generator, ApacheBench (ab) replacement, formerly known as rakyll/boom\"\n ---> Running in ac87bbddf7f7\nRemoving intermediate container ac87bbddf7f7\n ---> 46ec9a0c0638\nStep 17/20 : ARG PACKAGE=\"rakyll/hey\"\n ---> Running in 595aff067b76\nRemoving intermediate container 595aff067b76\n ---> 06290edbc49a\nStep 18/20 : LABEL org.opencontainers.image.ref.name=\"${PACKAGE}\"     org.opencontainers.image.authors=\"Jaana Dogan <@rakyll>\"     org.opencontainers.image.documentation=\"https://github.com/${PACKAGE}/README.md\"     org.opencontainers.image.description=\"${DESCRIPTION}\"     org.opencontainers.image.licenses=\"Apache 2.0\"     org.opencontainers.image.source=\"https://github.com/${PACKAGE}\"\n ---> Running in 507606b3a197\nRemoving intermediate container 507606b3a197\n ---> d6045adc33c8\nStep 19/20 : COPY --from=build /go/bin/${APPLICATION} /hey\n ---> 9300b0f58b60\nStep 20/20 : ENTRYPOINT [\"/hey\"]\n ---> Running in 4e32c10b871e\nRemoving intermediate container 4e32c10b871e\n ---> af6a9f91fb41\nSuccessfully built af6a9f91fb41\nSuccessfully tagged hey:latest\n","stderr":"","imageSize":9576592},"repair":{"startTime":1673259541877,"endTime":1673259541987,"violations":[{"name":"aptGetInstallUseNoRec","position":{"start":15,"end":15,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":15,"end":15,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"FROM golang:1.15 as build\n\n# Create appuser.\n# See https://stackoverflow.com/a/55757473/12429735\nENV USER=appuser\nENV UID=10001\nRUN adduser \\\n    --disabled-password \\\n    --gecos \"\" \\\n    --home \"/nonexistent\" \\\n    --shell \"/sbin/nologin\" \\\n    --no-create-home \\\n    --uid \"${UID}\" \\\n    \"${USER}\"\n\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && rm -rf /var/lib/apt/lists/*;\nRUN go get github.com/rakyll/hey\n\n# Build\nWORKDIR /go/src/github.com/rakyll/hey\nRUN go mod download\nRUN CGO_ENABLED=0 GOOS=linux go build -o /go/bin/hey hey.go\n\n###############################################################################\n# final stage\nFROM scratch\nCOPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=build /etc/passwd /etc/passwd\nCOPY --from=build /etc/group /etc/group\nUSER appuser:appuser\n\nARG APPLICATION=\"hey\"\nARG DESCRIPTION=\"HTTP load generator, ApacheBench (ab) replacement, formerly known as rakyll/boom\"\nARG PACKAGE=\"rakyll/hey\"\n\nLABEL org.opencontainers.image.ref.name=\"${PACKAGE}\" \\\n    org.opencontainers.image.authors=\"Jaana Dogan <@rakyll>\" \\\n    org.opencontainers.image.documentation=\"https://github.com/${PACKAGE}/README.md\" \\\n    org.opencontainers.image.description=\"${DESCRIPTION}\" \\\n    org.opencontainers.image.licenses=\"Apache 2.0\" \\\n    org.opencontainers.image.source=\"https://github.com/${PACKAGE}\"\n\nCOPY --from=build /go/bin/${APPLICATION} /hey\nENTRYPOINT [\"/hey\"]\n"},"repairedBuild":{"startTime":1673259543308,"endTime":1673259591436,"error":null,"stdout":"Sending build context to Docker daemon  2.392MB\r\r\nStep 1/20 : FROM golang:1.15 as build\n ---> 40349a2425ef\nStep 2/20 : ENV USER=appuser\n ---> Running in 17216cc02acf\nRemoving intermediate container 17216cc02acf\n ---> 3e33254bc4b6\nStep 3/20 : ENV UID=10001\n ---> Running in 406ee906917b\nRemoving intermediate container 406ee906917b\n ---> 920e350baa8e\nStep 4/20 : RUN adduser     --disabled-password     --gecos \"\"     --home \"/nonexistent\"     --shell \"/sbin/nologin\"     --no-create-home     --uid \"${UID}\"     \"${USER}\"\n ---> Running in c9ed17a0d2a4\nWarning: The home dir /nonexistent you specified can't be accessed: No such file or directory\nAdding user `appuser' ...\nAdding new group `appuser' (10001) ...\nAdding new user `appuser' (10001) with group `appuser' ...\nNot creating home directory `/nonexistent'.\nRemoving intermediate container c9ed17a0d2a4\n ---> 728bc4de3537\nStep 5/20 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && rm -rf /var/lib/apt/lists/*;\n ---> Running in 0c0b05bf18af\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (4278 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20200601~deb10u2).\n0 upgraded, 0 newly installed, 0 to remove and 53 not upgraded.\nRemoving intermediate container 0c0b05bf18af\n ---> 2579bfc7348d\nStep 6/20 : RUN go get github.com/rakyll/hey\n ---> Running in 4bb9ae998c2b\nRemoving intermediate container 4bb9ae998c2b\n ---> 4f07e810ab7d\nStep 7/20 : WORKDIR /go/src/github.com/rakyll/hey\n ---> Running in eaca4d36d3fd\nRemoving intermediate container eaca4d36d3fd\n ---> 15186cface74\nStep 8/20 : RUN go mod download\n ---> Running in b4fceb3a9d4a\nRemoving intermediate container b4fceb3a9d4a\n ---> a0ab4ad004c7\nStep 9/20 : RUN CGO_ENABLED=0 GOOS=linux go build -o /go/bin/hey hey.go\n ---> Running in a710a2e44476\nRemoving intermediate container a710a2e44476\n ---> 0b7accc8fb62\nStep 10/20 : FROM scratch\n ---> \nStep 11/20 : COPY --from=build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 63cad979bab3\nStep 12/20 : COPY --from=build /etc/passwd /etc/passwd\n ---> eea63419a8f2\nStep 13/20 : COPY --from=build /etc/group /etc/group\n ---> b968b20d20a0\nStep 14/20 : USER appuser:appuser\n ---> Running in e9f5e9c6e926\nRemoving intermediate container e9f5e9c6e926\n ---> 643ea28e78b3\nStep 15/20 : ARG APPLICATION=\"hey\"\n ---> Running in 3c8135ade28c\nRemoving intermediate container 3c8135ade28c\n ---> 60eced506475\nStep 16/20 : ARG DESCRIPTION=\"HTTP load generator, ApacheBench (ab) replacement, formerly known as rakyll/boom\"\n ---> Running in 46f6eb73903d\nRemoving intermediate container 46f6eb73903d\n ---> 5a2ec338038c\nStep 17/20 : ARG PACKAGE=\"rakyll/hey\"\n ---> Running in 32364af0e188\nRemoving intermediate container 32364af0e188\n ---> 9a0ea4283df0\nStep 18/20 : LABEL org.opencontainers.image.ref.name=\"${PACKAGE}\"     org.opencontainers.image.authors=\"Jaana Dogan <@rakyll>\"     org.opencontainers.image.documentation=\"https://github.com/${PACKAGE}/README.md\"     org.opencontainers.image.description=\"${DESCRIPTION}\"     org.opencontainers.image.licenses=\"Apache 2.0\"     org.opencontainers.image.source=\"https://github.com/${PACKAGE}\"\n ---> Running in f229598418d3\nRemoving intermediate container f229598418d3\n ---> 50125e06ddd5\nStep 19/20 : COPY --from=build /go/bin/${APPLICATION} /hey\n ---> c3bcd7ddf129\nStep 20/20 : ENTRYPOINT [\"/hey\"]\n ---> Running in 83a43a3aea68\nRemoving intermediate container 83a43a3aea68\n ---> b4ede43d5939\nSuccessfully built b4ede43d5939\nSuccessfully tagged hey:latest\n","stderr":"","imageSize":9576592}}