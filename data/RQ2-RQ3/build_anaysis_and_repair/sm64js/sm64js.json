{"repository":"https://github.com/sm64js/sm64js","dockerfilePath":"Dockerfile","startTime":1672283805484,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sm64js/sm64js'...\n","error":null,"commit":"de8c6d0ab0211aa66c62d66dc3fd0fe78df39733"},"originalBuild":{"startTimestamp":1672283807525,"endTimestamp":1672284072765,"error":null,"stdout":"Sending build context to Docker daemon   25.7MB\r\r\nStep 1/10 : FROM node:13-alpine as build\n13-alpine: Pulling from library/node\ncbdbe7a5bc2a: Already exists\n780514bed1ad: Pulling fs layer\n5d74fb112a7d: Pulling fs layer\n4b9536424fa1: Pulling fs layer\n4b9536424fa1: Download complete\n5d74fb112a7d: Verifying Checksum\n5d74fb112a7d: Download complete\n780514bed1ad: Verifying Checksum\n780514bed1ad: Download complete\n780514bed1ad: Pull complete\n5d74fb112a7d: Pull complete\n4b9536424fa1: Pull complete\nDigest: sha256:527c70f74817f6f6b5853588c28de33459178ab72421f1fb7b63a281ab670258\nStatus: Downloaded newer image for node:13-alpine\n ---> 8216bf4583a5\nStep 2/10 : RUN mkdir -p /usr/src/app\n ---> Running in 8b9f2c903967\nRemoving intermediate container 8b9f2c903967\n ---> 9b73fd6ca600\nStep 3/10 : WORKDIR /usr/src/app\n ---> Running in 50490d76bac2\nRemoving intermediate container 50490d76bac2\n ---> 645daea63276\nStep 4/10 : COPY package.json ./\n ---> a24f912c89c2\nStep 5/10 : RUN npm install\n ---> Running in fee47a7be2b6\n\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for auto-bind@5.0.1: wanted: {\"node\":\"^12.20.0 || ^14.13.1 || >=16.0.0\"} (current: {\"node\":\"13.14.0\",\"npm\":\"6.14.4\"})\nnpm WARN notsup Not compatible with your version of node/npm: auto-bind@5.0.1\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/watchpack-chokidar2/node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/webpack-dev-server/node_modules/chokidar/node_modules/fsevents):\nnpm WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN sm64js@0.0.0 No repository field.\nnpm\u001b[0m\u001b[91m WARN sm64js@0.0.0 No license field.\n\u001b[0m\u001b[91m\n\u001b[0madded 1018 packages from 485 contributors and audited 1021 packages in 24.452s\n\n90 packages are looking for funding\n  run `npm fund` for details\n\nfound 10 vulnerabilities (2 low, 2 moderate, 6 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container fee47a7be2b6\n ---> 67acf86691f0\nStep 6/10 : COPY . ./\n ---> faed1d92c1c1\nStep 7/10 : RUN npm run build\n ---> Running in 81d1f73ad1db\n\n> sm64js@0.0.0 build /usr/src/app\n> webpack --mode production\n\n\u001b[91m[BABEL] Note: The code generator has deoptimised the styling of /usr/src/app/src/actors/mario/marioAnimData.js as it exceeds the max of 500KB.\n\u001b[0mHash: 7f1cc0ad42c8bc961b87\nVersion: webpack 4.46.0\nTime: 189724ms\nBuilt at: 12/29/2022 3:20:51 AM\n                                   Asset       Size  Chunks                                Chunk Names\n                            ./index.html   17.1 KiB          [emitted]                     \n            main-7f1cc0ad42c8bc961b87.js   10.4 MiB       0  [emitted] [immutable]  [big]  main\nmain-7f1cc0ad42c8bc961b87.js.LICENSE.txt   7.72 KiB          [emitted]                     \n                            template.css  925 bytes       0  [emitted]                     main\nEntrypoint main [big] = template.css main-7f1cc0ad42c8bc961b87.js\n  [0] ./src/include/gbi.js 29.7 KiB {0} [built]\n  [4] ./src/actors/mario/model.inc.js 292 KiB {0} [built]\n  [5] ./src/bin/segment2.js 25.5 KiB {0} [built]\n  [6] ./src/textures/grass.js 815 bytes {0} [built]\n  [7] ./src/textures/inside.js 2.08 KiB {0} [built]\n  [8] ./src/levels/castle_inside/texture.inc.js 4.86 KiB {0} [built]\n  [9] ./src/textures/spooky.js 594 bytes {0} [built]\n [10] ./src/textures/sky.js 1.41 KiB {0} [built]\n [11] ./src/textures/mountain.js 776 bytes {0} [built]\n [12] ./src/textures/cave.js 1.2 KiB {0} [built]\n [13] ./src/textures/fire.js 2.31 KiB {0} [built]\n [14] ./src/textures/snow.js 593 bytes {0} [built]\n[190] ./src/romTextureLoader.js 146 KiB {0} [built]\n[204] ./src/template.css 39 bytes {0} [built]\n[221] ./src/index.js + 1141 modules 13.3 MiB {0} [built]\n      | ./src/index.js 5.59 KiB [built]\n      | ./src/game/Game.js 3.27 KiB [built]\n      | ./src/player_input_manager.js 12.1 KiB [built]\n      | ./src/graphics/n64GfxProcessor.js 36.9 KiB [built]\n      | ./src/game/Area.js 10.6 KiB [built]\n      | ./src/game/LevelUpdate.js 40.5 KiB [built]\n      | ./src/engine/LevelCommands.js 24.7 KiB [built]\n      | ./src/levels/main_entry/entry.js 749 bytes [built]\n      | ./src/graphics/WebGL.js 15 KiB [built]\n      | ./src/include/course_table.js 1020 bytes [built]\n      | ./src/levels/course_defines.js 2.9 KiB [built]\n      | ./src/game/SaveFile.js 10.2 KiB [built]\n      | ./src/game/ScreenTransition.js 11.5 KiB [built]\n      | ./src/game/SoundInit.js 271 bytes [built]\n      | ./src/include/object_constants.js 43 KiB [built]\n      |     + 1127 hidden modules\n    + 826 hidden modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  main-7f1cc0ad42c8bc961b87.js (10.4 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (10.4 MiB)\n      template.css\n      main-7f1cc0ad42c8bc961b87.js\n\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\nChild HtmlWebpackCompiler:\n     1 asset\n    Entrypoint HtmlWebpackPlugin_0 = __child-HtmlWebpackPlugin_0\n    [0] ./node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 18.2 KiB {0} [built]\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!src/template.css:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./src/template.css 1.71 KiB {0} [built]\n        + 1 hidden module\nRemoving intermediate container 81d1f73ad1db\n ---> f2724689b9a2\nStep 8/10 : COPY src/favicon.ico ./dist/\n ---> 26197de51b31\nStep 9/10 : FROM nginx:stable-alpine\nstable-alpine: Pulling from library/nginx\nca7dd9ec2225: Already exists\n33c6b9f4e775: Pulling fs layer\n41718ec56cb6: Pulling fs layer\n9a2b3c874906: Pulling fs layer\n71a3f979d23b: Pulling fs layer\na2f02aac7fab: Pulling fs layer\n71a3f979d23b: Waiting\na2f02aac7fab: Waiting\n41718ec56cb6: Verifying Checksum\n41718ec56cb6: Download complete\n9a2b3c874906: Download complete\n33c6b9f4e775: Verifying Checksum\n33c6b9f4e775: Download complete\n71a3f979d23b: Verifying Checksum\n71a3f979d23b: Download complete\na2f02aac7fab: Verifying Checksum\na2f02aac7fab: Download complete\n33c6b9f4e775: Pull complete\n41718ec56cb6: Pull complete\n9a2b3c874906: Pull complete\n71a3f979d23b: Pull complete\na2f02aac7fab: Pull complete\nDigest: sha256:2366ede62d2e26a20f7ce7d0294694fe52b166107fd346894e4658dfb5273f9c\nStatus: Downloaded newer image for nginx:stable-alpine\n ---> c31fe73098ae\nStep 10/10 : COPY --from=build /usr/src/app/dist /usr/share/nginx/html\n ---> 9a0d2e8291ef\nSuccessfully built 9a0d2e8291ef\nSuccessfully tagged sm64js:latest\n","stderr":"","imageSize":34746059},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}},{"name":"mkdirUsrSrcThenRemove","position":{"start":2,"end":2,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:13-alpine as build\n\nRUN mkdir -p /usr/src/app\n\nWORKDIR /usr/src/app\n\nCOPY package.json ./\nRUN npm install\nCOPY . ./\n\nRUN npm run build\n\nCOPY src/favicon.ico ./dist/\n\nFROM nginx:stable-alpine\n\nCOPY --from=build /usr/src/app/dist /usr/share/nginx/html\n\n"},"repairedBuild":{"startTimestamp":1672284073334,"endTimestamp":1672284353238,"error":null,"stdout":"Sending build context to Docker daemon   25.7MB\r\r\nStep 1/10 : FROM node:13-alpine as build\n ---> 8216bf4583a5\nStep 2/10 : RUN mkdir -p /usr/src/app\n ---> Running in d0c16a3e5ad6\nRemoving intermediate container d0c16a3e5ad6\n ---> 2190d118bcb6\nStep 3/10 : WORKDIR /usr/src/app\n ---> Running in 9d4f17c5f962\nRemoving intermediate container 9d4f17c5f962\n ---> 40e699d99714\nStep 4/10 : COPY package.json ./\n ---> d4aa19ec4a0d\nStep 5/10 : RUN npm install\n ---> Running in fd1fc5523f8c\n\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated\u001b[0m\u001b[91m chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN notsup\u001b[0m\u001b[91m Unsupported engine for auto-bind@5.0.1: wanted: {\"node\":\"^12.20.0 || ^14.13.1 || >=16.0.0\"} (current: {\"node\":\"13.14.0\",\"npm\":\"6.14.4\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: auto-bind@5.0.1\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91moptional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91moptional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/watchpack-chokidar2/node_modules/chokidar/node_modules/fsevents):\nnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/webpack-dev-server/node_modules/chokidar/node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m sm64js@0.0.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m sm64js@0.0.0 No license field.\n\u001b[0m\u001b[91m\n\u001b[0madded 1018 packages from 485 contributors and audited 1021 packages in 20.158s\n\n90 packages are looking for funding\n  run `npm fund` for details\n\nfound 10 vulnerabilities (2 low, 2 moderate, 6 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container fd1fc5523f8c\n ---> 59726d2142ca\nStep 6/10 : COPY . ./\n ---> d25bf9167c16\nStep 7/10 : RUN npm run build\n ---> Running in d84348292b60\n\n> sm64js@0.0.0 build /usr/src/app\n> webpack --mode production\n\n\u001b[91m[BABEL] Note: The code generator has deoptimised the styling of /usr/src/app/src/actors/mario/marioAnimData.js as it exceeds the max of 500KB.\n\u001b[0mHash: 7f1cc0ad42c8bc961b87\nVersion: webpack 4.46.0\nTime: 195945ms\nBuilt at: 12/29/2022 3:25:46 AM\n                                   Asset       Size  Chunks                                Chunk Names\n                            ./index.html   17.1 KiB          [emitted]                     \n            main-7f1cc0ad42c8bc961b87.js   10.4 MiB       0  [emitted] [immutable]  [big]  main\nmain-7f1cc0ad42c8bc961b87.js.LICENSE.txt   7.72 KiB          [emitted]                     \n                            template.css  925 bytes       0  [emitted]                     main\nEntrypoint main [big] = template.css main-7f1cc0ad42c8bc961b87.js\n  [0] ./src/include/gbi.js 29.7 KiB {0} [built]\n  [4] ./src/actors/mario/model.inc.js 292 KiB {0} [built]\n  [5] ./src/bin/segment2.js 25.5 KiB {0} [built]\n  [6] ./src/textures/grass.js 815 bytes {0} [built]\n  [7] ./src/textures/inside.js 2.08 KiB {0} [built]\n  [8] ./src/levels/castle_inside/texture.inc.js 4.86 KiB {0} [built]\n  [9] ./src/textures/spooky.js 594 bytes {0} [built]\n [10] ./src/textures/sky.js 1.41 KiB {0} [built]\n [11] ./src/textures/mountain.js 776 bytes {0} [built]\n [12] ./src/textures/cave.js 1.2 KiB {0} [built]\n [13] ./src/textures/fire.js 2.31 KiB {0} [built]\n [14] ./src/textures/snow.js 593 bytes {0} [built]\n[190] ./src/romTextureLoader.js 146 KiB {0} [built]\n[204] ./src/template.css 39 bytes {0} [built]\n[221] ./src/index.js + 1141 modules 13.3 MiB {0} [built]\n      | ./src/index.js 5.59 KiB [built]\n      | ./src/game/Game.js 3.27 KiB [built]\n      | ./src/player_input_manager.js 12.1 KiB [built]\n      | ./src/graphics/n64GfxProcessor.js 36.9 KiB [built]\n      | ./src/game/Area.js 10.6 KiB [built]\n      | ./src/game/LevelUpdate.js 40.5 KiB [built]\n      | ./src/engine/LevelCommands.js 24.7 KiB [built]\n      | ./src/levels/main_entry/entry.js 749 bytes [built]\n      | ./src/graphics/WebGL.js 15 KiB [built]\n      | ./src/include/course_table.js 1020 bytes [built]\n      | ./src/levels/course_defines.js 2.9 KiB [built]\n      | ./src/game/SaveFile.js 10.2 KiB [built]\n      | ./src/game/ScreenTransition.js 11.5 KiB [built]\n      | ./src/game/SoundInit.js 271 bytes [built]\n      | ./src/include/object_constants.js 43 KiB [built]\n      |     + 1127 hidden modules\n    + 826 hidden modules\n\nWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  main-7f1cc0ad42c8bc961b87.js (10.4 MiB)\n\nWARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  main (10.4 MiB)\n      template.css\n      main-7f1cc0ad42c8bc961b87.js\n\n\nWARNING in webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\nChild HtmlWebpackCompiler:\n     1 asset\n    Entrypoint HtmlWebpackPlugin_0 = __child-HtmlWebpackPlugin_0\n    [0] ./node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 18.2 KiB {0} [built]\nChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!src/template.css:\n    Entrypoint mini-css-extract-plugin = *\n    [0] ./node_modules/css-loader/dist/cjs.js!./src/template.css 1.71 KiB {0} [built]\n        + 1 hidden module\nRemoving intermediate container d84348292b60\n ---> 62379fe30e5b\nStep 8/10 : COPY src/favicon.ico ./dist/\n ---> 47585f300b45\nStep 9/10 : FROM nginx:stable-alpine\n ---> c31fe73098ae\nStep 10/10 : COPY --from=build /usr/src/app/dist /usr/share/nginx/html\n ---> 834c5b8fba34\nSuccessfully built 834c5b8fba34\nSuccessfully tagged sm64js:latest\n","stderr":"","imageSize":34746059},"endTime":1672284353774}