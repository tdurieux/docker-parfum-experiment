{"repository":"https://github.com/gelbpunkt/gateway-proxy","dockerfilePath":"Dockerfile","startTime":1672469627952,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gelbpunkt/gateway-proxy'...\n","error":null,"commit":"c9b630ff76f9c2837cc012e73c8d440eaf85be04"},"originalBuild":{"startTimestamp":1672469628797,"endTimestamp":1672469974439,"error":null,"stdout":"Sending build context to Docker daemon  536.1kB\r\r\nStep 1/18 : ARG TARGET_CPU=\"haswell\"\nStep 2/18 : FROM docker.io/library/alpine:edge AS builder\nedge: Pulling from library/alpine\na71ff8a5264a: Pulling fs layer\na71ff8a5264a: Verifying Checksum\na71ff8a5264a: Download complete\na71ff8a5264a: Pull complete\nDigest: sha256:c223f84e05c23c0571ce8decefef818864869187e1a3ea47719412e205c8c64e\nStatus: Downloaded newer image for alpine:edge\n ---> 121d0da75751\nStep 3/18 : ARG TARGET_CPU\n ---> Running in dedba4bd0d50\nRemoving intermediate container dedba4bd0d50\n ---> e778d88cc592\nStep 4/18 : ENV RUST_TARGET \"x86_64-unknown-linux-musl\"\n ---> Running in 62d002142a11\nRemoving intermediate container 62d002142a11\n ---> ff5589aacfbf\nStep 5/18 : ENV RUSTFLAGS \"-Lnative=/usr/lib -Z mir-opt-level=3 -C target-cpu=${TARGET_CPU}\"\n ---> Running in b92fa39f8637\nRemoving intermediate container b92fa39f8637\n ---> a2758f704e41\nStep 6/18 : RUN apk upgrade &&     apk add curl gcc g++ musl-dev cmake make &&     curl -sSf https://sh.rustup.rs | sh -s -- --profile minimal --component rust-src --default-toolchain nightly -y\n ---> Running in faf34d0e3d50\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/8) Upgrading musl (1.2.3-r3 -> 1.2.3-r4)\n(2/8) Upgrading busybox (1.35.0-r27 -> 1.35.0-r29)\nExecuting busybox-1.35.0-r29.post-upgrade\n(3/8) Upgrading busybox-binsh (1.35.0-r27 -> 1.35.0-r29)\n(4/8) Upgrading ca-certificates-bundle (20220614-r2 -> 20221203-r1)\n(5/8) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r1)\n(6/8) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r1)\n(7/8) Upgrading ssl_client (1.35.0-r27 -> 1.35.0-r29)\n(8/8) Upgrading musl-utils (1.2.3-r3 -> 1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nOK: 7 MiB in 15 packages\n(1/32) Installing libacl (2.3.1-r1)\n(2/32) Installing libbz2 (1.0.8-r4)\n(3/32) Installing libexpat (2.5.0-r0)\n(4/32) Installing lz4-libs (1.9.4-r1)\n(5/32) Installing xz-libs (5.4.0-r0)\n(6/32) Installing zstd-libs (1.5.2-r9)\n(7/32) Installing libarchive (3.6.2-r1)\n(8/32) Installing ca-certificates (20221203-r1)\n(9/32) Installing brotli-libs (1.0.9-r10)\n(10/32) Installing nghttp2-libs (1.51.0-r0)\n(11/32) Installing libcurl (7.87.0-r1)\n(12/32) Installing ncurses-terminfo-base (6.3_p20221224-r0)\n(13/32) Installing ncurses-libs (6.3_p20221224-r0)\n(14/32) Installing libgcc (12.2.1_git20220924-r6)\n(15/32) Installing rhash-libs (1.4.3-r1)\n(16/32) Installing libstdc++ (12.2.1_git20220924-r6)\n(17/32) Installing libuv (1.44.2-r0)\n(18/32) Installing cmake (3.25.1-r0)\n(19/32) Installing curl (7.87.0-r1)\n(20/32) Installing libstdc++-dev (12.2.1_git20220924-r6)\n(21/32) Installing binutils (2.39-r2)\n(22/32) Installing libgomp (12.2.1_git20220924-r6)\n(23/32) Installing libatomic (12.2.1_git20220924-r6)\n(24/32) Installing gmp (6.2.1-r2)\n(25/32) Installing isl25 (0.25-r0)\n(26/32) Installing mpfr4 (4.1.1-r1)\n(27/32) Installing mpc1 (1.3.1-r0)\n(28/32) Installing gcc (12.2.1_git20220924-r6)\n(29/32) Installing musl-dev (1.2.3-r4)\n(30/32) Installing libc-dev (0.7.2-r3)\n(31/32) Installing g++ (12.2.1_git20220924-r6)\n(32/32) Installing make (4.4-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 294 MiB in 47 packages\n\u001b[91minfo: downloading installer\n\u001b[0m\u001b[91minfo: profile set to 'minimal'\ninfo: default host triple is x86_64-unknown-linux-musl\n\u001b[0m\u001b[91minfo: syncing channel updates for 'nightly-x86_64-unknown-linux-musl'\n\u001b[0m\u001b[91minfo: latest update on 2022-12-31, rust version 1.68.0-nightly (ce85c9857 2022-12-30)\ninfo: downloading component 'cargo'\n\u001b[0m\u001b[91minfo: downloading component 'rust-src'\n\u001b[0m\u001b[91minfo: downloading component 'rust-std'\n\u001b[0m\u001b[91minfo: downloading component 'rustc'\n\u001b[0m\u001b[91minfo: installing component 'cargo'\n\u001b[0m\u001b[91minfo: installing component 'rust-src'\n\u001b[0m\u001b[91minfo: installing component 'rust-std'\n\u001b[0m\u001b[91minfo: installing component 'rustc'\n\u001b[0m\n\u001b[91minfo: default toolchain set to 'nightly-x86_64-unknown-linux-musl'\n\u001b[0m  nightly-x86_64-unknown-linux-musl installed - rustc 1.68.0-nightly (ce85c9857 2022-12-30)\n\n\nRust is installed now. Great!\n\nTo get started you may need to restart your current shell.\nThis would reload your PATH environment variable to include\nCargo's bin directory ($HOME/.cargo/bin).\n\nTo configure your current shell, run:\nsource \"$HOME/.cargo/env\"\nRemoving intermediate container faf34d0e3d50\n ---> 369504aa3d11\nStep 7/18 : WORKDIR /build\n ---> Running in 7cfdf7c12a19\nRemoving intermediate container 7cfdf7c12a19\n ---> 8787e2a47726\nStep 8/18 : COPY Cargo.toml Cargo.lock ./\n ---> 3b53598b4c01\nStep 9/18 : COPY .cargo ./.cargo/\n ---> f5ecb903729a\nStep 10/18 : RUN mkdir src/\n ---> Running in 12f677063281\nRemoving intermediate container 12f677063281\n ---> 9e91cce6f3fb\nStep 11/18 : RUN echo 'fn main() {}' > ./src/main.rs\n ---> Running in 80e3ab80fa15\nRemoving intermediate container 80e3ab80fa15\n ---> 88f450fa308d\nStep 12/18 : RUN source $HOME/.cargo/env &&     if [ \"$TARGET_CPU\" == 'x86-64' ]; then         cargo build --release --target=\"$RUST_TARGET\" --no-default-features --features no-simd;     else         cargo build --release --target=\"$RUST_TARGET\";     fi\n ---> Running in 9d12defcf320\n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m    Updating git repository `https://github.com/Gelbpunkt/twilight.git`\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded digest v0.10.5\n\u001b[0m\u001b[91m  Downloaded ordered-float v2.10.0\n\u001b[0m\u001b[91m  Downloaded parking_lot_core v0.9.3\n\u001b[0m\u001b[91m  Downloaded rustls v0.20.6\n\u001b[0m\u001b[91m  Downloaded serde v1.0.144\n\u001b[0m\u001b[91m  Downloaded serde-value v0.7.0\n\u001b[0m\u001b[91m  Downloaded serde_repr v0.1.9\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.144\n\u001b[0m\u001b[91m  Downloaded percent-encoding v2.2.0\n\u001b[0m\u001b[91m  Downloaded sharded-slab v0.1.4\n\u001b[0m\u001b[91m  Downloaded tokio-tungstenite v0.17.2\n\u001b[0m\u001b[91m  Downloaded tungstenite v0.17.3\n\u001b[0m\u001b[91m  Downloaded utf-8 v0.7.6\n\u001b[0m\u001b[91m  Downloaded unicode-ident v1.0.4\n\u001b[0m\u001b[91m  Downloaded value-trait v0.4.0\n\u001b[0m\u001b[91m  Downloaded cpufeatures v0.2.5\n\u001b[0m\u001b[91m  Downloaded webpki-roots v0.22.4\n\u001b[0m\u001b[91m  Downloaded httparse v1.8.0\n\u001b[0m\u001b[91m  Downloaded memoffset v0.6.5\n\u001b[0m\u001b[91m  Downloaded lock_api v0.4.8\n\u001b[0m\u001b[91m  Downloaded sct v0.7.0\n\u001b[0m\u001b[91m  Downloaded metrics v0.20.1\n\u001b[0m\u001b[91m  Downloaded untrusted v0.7.1\n\u001b[0m\u001b[91m  Downloaded tokio v1.21.1\n\u001b[0m\u001b[91m  Downloaded mimalloc v0.1.29\n\u001b[0m\u001b[91m  Downloaded webpki v0.22.0\n\u001b[0m\u001b[91m  Downloaded url v2.3.1\n\u001b[0m\u001b[91m  Downloaded simd-json v0.6.0\n\u001b[0m\u001b[91m  Downloaded libc v0.2.132\n\u001b[0m\u001b[91m  Downloaded spin v0.5.2\n\u001b[0m\u001b[91m  Downloaded halfbrown v0.1.15\n\u001b[0m\u001b[91m  Downloaded idna v0.3.0\n\u001b[0m\u001b[91m  Downloaded unicode-normalization v0.1.22\n\u001b[0m\u001b[91m  Downloaded libmimalloc-sys v0.1.25\n\u001b[0m\u001b[91m  Downloaded metrics-exporter-prometheus v0.11.0\n\u001b[0m\u001b[91m  Downloaded futures-channel v0.3.24\n\u001b[0m\u001b[91m  Downloaded dashmap v5.4.0\n\u001b[0m\u001b[91m  Downloaded libz-ng-sys v1.1.8\n\u001b[0m\u001b[91m  Downloaded ring v0.16.20\n\u001b[0m\u001b[91m  Downloaded byteorder v1.4.3\n\u001b[0m\u001b[91m  Downloaded crossbeam-utils v0.8.11\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded tracing-core v0.1.29\n\u001b[0m\u001b[91m  Downloaded typenum v1.15.0\n\u001b[0m\u001b[91m  Downloaded tower-service v0.3.2\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.43\n\u001b[0m\u001b[91m  Downloaded sha-1 v0.10.0\n\u001b[0m\u001b[91m  Downloaded fnv v1.0.7\n\u001b[0m\u001b[91m  Downloaded http-body v0.4.5\n\u001b[0m\u001b[91m  Downloaded pin-project-lite v0.2.9\n\u001b[0m\u001b[91m  Downloaded num_threads v0.1.6\n\u001b[0m\u001b[91m  Downloaded smallvec v1.9.0\n\u001b[0m\u001b[91m  Downloaded memchr v2.5.0\n\u001b[0m\u001b[91m  Downloaded want v0.3.0\n\u001b[0m\u001b[91m  Downloaded tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded unicode-bidi v0.3.8\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.3\n\u001b[0m\u001b[91m  Downloaded flate2 v1.0.24\n\u001b[0m\u001b[91m  Downloaded tinyvec v1.6.0\n\u001b[0m\u001b[91m  Downloaded tracing v0.1.36\n\u001b[0m\u001b[91m  Downloaded http v0.2.8\n\u001b[0m\u001b[91m  Downloaded lazy_static v1.4.0\n\u001b[0m\u001b[91m  Downloaded crc32fast v1.3.2\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded scopeguard v1.1.0\n\u001b[0m\u001b[91m  Downloaded try-lock v0.2.3\n\u001b[0m\u001b[91m  Downloaded syn v1.0.99\n\u001b[0m\u001b[91m  Downloaded slab v0.4.7\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.11\n\u001b[0m\u001b[91m  Downloaded rand_chacha v0.3.1\n\u001b[0m\u001b[91m  Downloaded rand v0.8.5\n\u001b[0m\u001b[91m  Downloaded ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m  Downloaded pin-utils v0.1.0\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.12.3\n\u001b[0m\u001b[91m  Downloaded num_cpus v1.13.1\n\u001b[0m\u001b[91m  Downloaded mio v0.8.4\n\u001b[0m\u001b[91m  Downloaded httpdate v1.0.2\n\u001b[0m\u001b[91m  Downloaded getrandom v0.2.7\n\u001b[0m\u001b[91m  Downloaded generic-array v0.14.6\n\u001b[0m\u001b[91m  Downloaded crypto-common v0.1.6\n\u001b[0m\u001b[91m  Downloaded cc v1.0.73\n\u001b[0m\u001b[91m  Downloaded bytes v1.2.1\n\u001b[0m\u001b[91m  Downloaded base64 v0.13.0\n\u001b[0m\u001b[91m  Downloaded quote v1.0.21\n\u001b[0m\u001b[91m  Downloaded log v0.4.17\n\u001b[0m\u001b[91m  Downloaded hyper v0.14.20\n\u001b[0m\u001b[91m  Downloaded num-traits v0.2.15\n\u001b[0m\u001b[91m  Downloaded thread_local v1.1.4\n\u001b[0m\u001b[91m  Downloaded indexmap v1.9.1\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded cmake v0.1.48\n\u001b[0m\u001b[91m  Downloaded time v0.3.14\n\u001b[0m\u001b[91m  Downloaded form_urlencoded v1.1.0\n\u001b[0m\u001b[91m  Downloaded leaky-bucket-lite v0.5.2\n\u001b[0m\u001b[91m  Downloaded hyper-rustls v0.23.0\n\u001b[0m\u001b[91m  Downloaded h2 v0.3.14\n\u001b[0m\u001b[91m  Downloaded futures-util v0.3.24\n\u001b[0m\u001b[91m  Downloaded futures-task v0.3.24\n\u001b[0m\u001b[91m  Downloaded futures-core v0.3.24\n\u001b[0m\u001b[91m  Downloaded crossbeam-epoch v0.9.10\n\u001b[0m\u001b[91m  Downloaded float-cmp v0.9.0\n\u001b[0m\u001b[91m  Downloaded block-buffer v0.10.3\n\u001b[0m\u001b[91m  Downloaded ahash v0.7.6\n\u001b[0m\u001b[91m  Downloaded tracing-subscriber v0.3.15\n\u001b[0m\u001b[91m  Downloaded tracing-attributes v0.1.22\n\u001b[0m\u001b[91m  Downloaded tokio-rustls v0.23.4\n\u001b[0m\u001b[91m  Downloaded tokio-util v0.7.4\n\u001b[0m\u001b[91m  Downloaded thiserror-impl v1.0.35\n\u001b[0m\u001b[91m  Downloaded thiserror v1.0.35\n\u001b[0m\u001b[91m  Downloaded socket2 v0.4.7\n\u001b[0m\u001b[91m  Downloaded sketches-ddsketch v0.2.0\n\u001b[0m\u001b[91m  Downloaded simdutf8 v0.1.4\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.85\n\u001b[0m\u001b[91m  Downloaded portable-atomic v0.3.15\n\u001b[0m\u001b[91m  Downloaded raw-cpuid v10.6.0\n\u001b[0m\u001b[91m  Downloaded futures-sink v0.3.24\n\u001b[0m\u001b[91m  Downloaded rand_core v0.6.4\n\u001b[0m\u001b[91m  Downloaded quanta v0.10.1\n\u001b[0m\u001b[91m  Downloaded parking_lot v0.12.1\n\u001b[0m\u001b[91m  Downloaded once_cell v1.14.0\n\u001b[0m\u001b[91m  Downloaded metrics-util v0.14.0\n\u001b[0m\u001b[91m  Downloaded metrics-macros v0.6.0\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded getopts v0.2.21\n\u001b[0m\u001b[91m  Downloaded cc v1.0.76\n\u001b[0m\u001b[91m  Downloaded addr2line v0.17.0\n\u001b[0m\u001b[91m  Downloaded unicode-width v0.1.10\n\u001b[0m\u001b[91m  Downloaded rustc-demangle v0.1.21\n\u001b[0m\u001b[91m  Downloaded miniz_oxide v0.5.3\n\u001b[0m\u001b[91m  Downloaded adler v1.0.2\n\u001b[0m\u001b[91m  Downloaded object v0.29.0\n\u001b[0m\u001b[91m  Downloaded libc v0.2.138\n\u001b[0m\u001b[91m  Downloaded gimli v0.26.1\n\u001b[0m\u001b[91m  Downloaded compiler_builtins v0.1.85\n\u001b[0m\u001b[91m   Compiling compiler_builtins v0.1.85\n   Compiling core v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/core)\n   Compiling libc v0.2.138\n   Compiling cc v1.0.76\n   Compiling memchr v2.5.0\n\u001b[0m\u001b[91m   Compiling std v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/std)\n\u001b[0m\u001b[91m   Compiling libc v0.2.132\n\u001b[0m\u001b[91m   Compiling autocfg v1.1.0\n\u001b[0m\u001b[91m   Compiling proc-macro2 v1.0.43\n\u001b[0m\u001b[91m   Compiling quote v1.0.21\n\u001b[0m\u001b[91m   Compiling unicode-ident v1.0.4\n\u001b[0m\u001b[91m   Compiling syn v1.0.99\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling cc v1.0.73\n\u001b[0m\u001b[91m   Compiling log v0.4.17\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.144\n\u001b[0m\u001b[91m   Compiling serde v1.0.144\n\u001b[0m\u001b[91m   Compiling futures-core v0.3.24\n\u001b[0m\u001b[91m   Compiling futures-task v0.3.\u001b[0m\u001b[91m24\n\u001b[0m\u001b[91m   Compiling futures-util v0.3.24\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling typenum v1.15.0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling rustls v0.20.6\n\u001b[0m\u001b[91m   Compiling httparse v1.8.0\n\u001b[0m\u001b[91m   Compiling futures-channel v0.3.24\n\u001b[0m\u001b[91m   Compiling parking_lot_core v0.9.3\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling serde_json v1.0.85\n\u001b[0m\u001b[91m   Compiling thiserror v1.0.35\n\u001b[0m\u001b[91m   Compiling crossbeam-utils v0.8.11\n\u001b[0m\u001b[91m   Compiling portable-atomic v0.3.15\n\u001b[0m\u001b[91m   Compiling crc32fast v\u001b[0m\u001b[91m1.3.2\n\u001b[0m\u001b[91m   Compiling metrics v0.20.1\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling tokio v1.21.1\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m \u001b[0m\u001b[91mCompiling num-traits v0.2.15\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91m Compiling slab v0\u001b[0m\u001b[91m.4.7\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mindexmap\u001b[0m\u001b[91m v1.9.1\n\u001b[0m\u001b[91m   Compiling lock_api v0\u001b[0m\u001b[91m.4.8\n\u001b[0m\u001b[91m   Compiling memoffset v0.6.5\n\u001b[0m\u001b[91m   Compiling crossbeam-epoch v0.9.10\n\u001b[0m\u001b[91m   Compiling ahash v0.7.6\n\u001b[0m\u001b[91m   Compiling generic-array v0.14.6\n\u001b[0m\u001b[91m   Compiling cmake v0.1.48\n\u001b[0m\u001b[91m   Compiling ring v0.16.20\n\u001b[0m\u001b[91m   Compiling libz-ng-sys v1.\u001b[0m\u001b[91m1.8\n\u001b[0m\u001b[91m   Compiling libmimalloc-sys v0.1\u001b[0m\u001b[91m.25\n\u001b[0m\u001b[91m   Compiling unwind v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/unwind)\n\u001b[0m\u001b[91m   Compiling tracing-attributes v0.1.22\n\u001b[0m\u001b[91m   Compiling serde_repr v0.1.9\n\u001b[0m\u001b[91m   Compiling thiserror-impl v1.0\u001b[0m\u001b[91m.35\n\u001b[0m\u001b[91m   Compiling metrics-macros v0.6.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling rustc-std-workspace-core v1.99.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/rustc-std-workspace-core)\n\u001b[0m\u001b[91m   Compiling alloc v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/alloc)\n\u001b[0m\u001b[91m   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling adler v1.0.2\n\u001b[0m\u001b[91m   Compiling rustc-demangle\u001b[0m\u001b[91m v0.1.21\n\u001b[0m\u001b[91m   Compiling rustc-std-workspace-alloc v1.99.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/rustc-std-workspace-alloc)\n\u001b[0m\u001b[91m   Compiling panic_unwind v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/panic_unwind)\n\u001b[0m\u001b[91m   Compiling panic_abort v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/panic_abort)\n\u001b[0m\u001b[91m   Compiling gimli v0.26.1\n   Compiling object v0.29.0\n\u001b[0m\u001b[91m   Compiling std_detect v0.1.5 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/stdarch/crates/std_detect)\n   Compiling hashbrown v0.12.3\n\u001b[0m\u001b[91m   Compiling miniz_oxide v0.5.3\n\u001b[0m\u001b[91m   Compiling addr2line v0.17.0\n\u001b[0m\u001b[91m   Compiling proc_macro v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/proc_macro)\n\u001b[0m\u001b[91m   Compiling once_cell v1.14.0\n   Compiling pin-project-lite\u001b[0m\u001b[91m v0.2.9\n\u001b[0m\u001b[91m   Compiling bytes v1.2.1\n\u001b[0m\u001b[91m   Compiling itoa v1.0.3\n\u001b[0m\u001b[91m   Compiling spin v0.5.2\n\u001b[0m\u001b[91m   Compiling untrusted v0.7.1\n\u001b[0m\u001b[91m   Compiling fnv v1.0.7\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\n\u001b[0m\u001b[91m   Compiling futures-sink v0.3.24\n\u001b[0m\u001b[91m   Compiling pin-utils v0.1.0\n\u001b[0m\u001b[91m   Compiling scopeguard v1.1.0\n\u001b[0m\u001b[91m   Compiling ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m   Compiling percent-encoding v2.2.0\n\u001b[0m\u001b[91m   Compiling num_threads v0.1.6\n\u001b[0m\u001b[91m   Compiling tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m   Compiling smallvec v1.9.0\n\u001b[0m\u001b[91m   Compiling try-lock v0.2.3\n\u001b[0m\u001b[91m   Compiling ryu v1.0.11\n\u001b[0m\u001b[91m   Compiling tower-service v0.3.2\n\u001b[0m\u001b[91m   Compiling httpdate v1.0.2\n\u001b[0m\u001b[91m   Compiling unicode-bidi v0.3.8\n\u001b[0m\u001b[91m   Compiling cpufeatures v0.2.5\n\u001b[0m\u001b[91m   Compiling simdutf8 v0.1.4\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling \u001b[0m\u001b[91mraw-cpuid v\u001b[0m\u001b[91m10\u001b[0m\u001b[91m.\u001b[0m\u001b[91m6.0\n\u001b[0m\u001b[91m   Compiling utf-8 v0.7.6\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling\u001b[0m\u001b[91m base64\u001b[0m\u001b[91m v0\u001b[0m\u001b[91m.13\u001b[0m\u001b[91m.\u001b[0m\u001b[91m0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling tinyvec v1.6.0\n\u001b[0m\u001b[91m   Compiling byteorder v1.4.3\n\u001b[0m\u001b[91m   Compiling sketches-ddsketch v0.2.0\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91m Compiling\u001b[0m\u001b[91m lazy_static\u001b[0m\u001b[91m v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m4\u001b[0m\u001b[91m.0\n\u001b[0m\u001b[91m   Compiling form_urlencoded v1.1.0\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m tracing-core\u001b[0m\u001b[91m v0.1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m29\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling thread_local v1.1.4\n\u001b[0m\u001b[91m   Compiling sharded-slab v0.1.4\n\u001b[0m\u001b[91m   Compiling mimalloc v0.1.29\n\u001b[0m\u001b[91m   Compiling want v0.3.0\n\u001b[0m\u001b[91m   Compiling http v0.2.8\n\u001b[0m\u001b[91m   Compiling tracing v0.1.36\n\u001b[0m\u001b[91m   Compiling getrandom v0.2.7\n\u001b[0m\u001b[91m   Compiling num_cpus v1.13.1\n\u001b[0m\u001b[91m   Compiling mio v0\u001b[0m\u001b[91m.8.4\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling socket2 v0.4.7\n\u001b[0m\u001b[91m   Compiling time v0.3\u001b[0m\u001b[91m.14\n\u001b[0m\u001b[91m   Compiling flate2 v1.0.24\n\u001b[0m\u001b[91m   Compiling rand_core v0.6.4\n\u001b[0m\u001b[91m   Compiling parking_lot v0.12.1\n\u001b[0m\u001b[91m   Compiling ordered-float v2.10.0\n   Compiling float-cmp v0.9.0\n\u001b[0m\u001b[91m   Compiling rand_chacha v0.3.1\n\u001b[0m\u001b[91m   Compiling unicode-normalization v0.1.22\n\u001b[0m\u001b[91m   Compiling tracing-subscriber v0.3.15\n\u001b[0m\u001b[91m   Compiling rand v0.8.5\n\u001b[0m\u001b[91m   Compiling quanta v0.10.1\n\u001b[0m\u001b[91m   Compiling http-body v0.4.5\n\u001b[0m\u001b[91m   Compiling crypto-common v0.1.6\n\u001b[0m\u001b[91m   Compiling block-buffer v0.10.3\n\u001b[0m\u001b[91m   Compiling idna v0.3.0\n\u001b[0m\u001b[91m   Compiling webpki v0.22.0\n\u001b[0m\u001b[91m   Compiling sct v0.7.0\n\u001b[0m\u001b[91m   Compiling digest v0.10.5\n\u001b[0m\u001b[91m   Compiling dashmap v5.4.0\n   Compiling metrics-util v0.14.0\n\u001b[0m\u001b[91m   Compiling sha-1 v0.10.0\n\u001b[0m\u001b[91m   Compiling webpki-roots v0.22.4\n\u001b[0m\u001b[91m   Compiling url v2.3.1\n\u001b[0m\u001b[91m   Compiling metrics-exporter-prometheus v0.11.0\n\u001b[0m\u001b[91m   Compiling serde-value v0.7.0\n\u001b[0m\u001b[91m   Compiling halfbrown v0.1.15\n\u001b[0m\u001b[91m   Compiling tungstenite v0.17.3\n\u001b[0m\u001b[91m   Compiling twilight-model v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling value-trait v0.4.0\n\u001b[0m\u001b[91m   Compiling tokio-util v0.7.4\n\u001b[0m\u001b[91m   Compiling tokio-rustls v0.23.4\n\u001b[0m\u001b[91m   Compiling twilight-http-ratelimiting v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling leaky-bucket-lite v0.5\u001b[0m\u001b[91m.2\n\u001b[0m\u001b[91m   Compiling simd-json v0.6.0\n\u001b[0m\u001b[91m   Compiling tokio-tungstenite v0.17.2\n\u001b[0m\u001b[91m   Compiling h2 v0.3.14\n\u001b[0m\u001b[91m   Compiling hyper v0.14.20\n\u001b[0m\u001b[91m   Compiling hyper-rustls v0.23.0\n\u001b[0m\u001b[91m   Compiling twilight-validate v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-cache-inmemory v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new\u001b[0m\u001b[91m#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-http v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-gateway-queue v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-gateway v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling gateway-proxy v0.1.0 (/build)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 2m 23s\n\u001b[0mRemoving intermediate container 9d12defcf320\n ---> f05abde4e212\nStep 13/18 : RUN rm -f target/$RUST_TARGET/release/deps/gateway_proxy*\n ---> Running in f0d4f2372ded\nRemoving intermediate container f0d4f2372ded\n ---> 679df9c942d4\nStep 14/18 : COPY ./src ./src\n ---> af5f5b173e82\nStep 15/18 : RUN source $HOME/.cargo/env &&     if [ \"$TARGET_CPU\" == 'x86-64' ]; then         cargo build --release --target=\"$RUST_TARGET\" --no-default-features --features no-simd;     else         cargo build --release --target=\"$RUST_TARGET\";     fi &&     cp target/$RUST_TARGET/release/gateway-proxy /gateway-proxy &&     strip /gateway-proxy\n ---> Running in e22847677675\n\u001b[91m   Compiling gateway-proxy v0.1.0 (/build)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 1m 53s\n\u001b[0mRemoving intermediate container e22847677675\n ---> 8829beb977c2\nStep 16/18 : FROM scratch\n ---> \nStep 17/18 : COPY --from=builder /gateway-proxy /gateway-proxy\n ---> a99de6d10cd3\nStep 18/18 : CMD [\"./gateway-proxy\"]\n ---> Running in a52a2209d416\nRemoving intermediate container a52a2209d416\n ---> a20b404fa902\nSuccessfully built a20b404fa902\nSuccessfully tagged gateway-proxy:latest\n","stderr":"","imageSize":6463024},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":10,"end":10,"columnStart":4,"columnEnd":44}}],"repairedDockerfile":"# I will only support x86_64 hosts because this allows for best hardware optimizations.\n# Compiling a Dockerfile for aarch64 should work but I won't support it myself.\nARG TARGET_CPU=\"haswell\"\n\nFROM docker.io/library/alpine:edge AS builder\nARG TARGET_CPU\nENV RUST_TARGET \"x86_64-unknown-linux-musl\"\nENV RUSTFLAGS \"-Lnative=/usr/lib -Z mir-opt-level=3 -C target-cpu=${TARGET_CPU}\"\n\nRUN apk upgrade && \\\n    apk add --no-cache curl gcc g++ musl-dev cmake make && \\\n    curl -sSf https://sh.rustup.rs | sh -s -- --profile minimal --component rust-src --default-toolchain nightly -y\n\nWORKDIR /build\n\nCOPY Cargo.toml Cargo.lock ./\nCOPY .cargo ./.cargo/\n\nRUN mkdir src/\nRUN echo 'fn main() {}' > ./src/main.rs\nRUN source $HOME/.cargo/env && \\\n    if [ \"$TARGET_CPU\" == 'x86-64' ]; then \\\n        cargo build --release --target=\"$RUST_TARGET\" --no-default-features --features no-simd; \\\n    else \\\n        cargo build --release --target=\"$RUST_TARGET\"; \\\n    fi\n\nRUN rm -f target/$RUST_TARGET/release/deps/gateway_proxy*\nCOPY ./src ./src\n\nRUN source $HOME/.cargo/env && \\\n    if [ \"$TARGET_CPU\" == 'x86-64' ]; then \\\n        cargo build --release --target=\"$RUST_TARGET\" --no-default-features --features no-simd; \\\n    else \\\n        cargo build --release --target=\"$RUST_TARGET\"; \\\n    fi && \\\n    cp target/$RUST_TARGET/release/gateway-proxy /gateway-proxy && \\\n    strip /gateway-proxy\n\nFROM scratch\n\nCOPY --from=builder /gateway-proxy /gateway-proxy\n\nCMD [\"./gateway-proxy\"]\n"},"repairedBuild":{"startTimestamp":1672469974785,"endTimestamp":1672470314066,"error":null,"stdout":"Sending build context to Docker daemon  536.1kB\r\r\nStep 1/18 : ARG TARGET_CPU=\"haswell\"\nStep 2/18 : FROM docker.io/library/alpine:edge AS builder\n ---> 121d0da75751\nStep 3/18 : ARG TARGET_CPU\n ---> Running in 7c877757467d\nRemoving intermediate container 7c877757467d\n ---> d24ba28debc1\nStep 4/18 : ENV RUST_TARGET \"x86_64-unknown-linux-musl\"\n ---> Running in 58a34c286923\nRemoving intermediate container 58a34c286923\n ---> 8638fe7f8b77\nStep 5/18 : ENV RUSTFLAGS \"-Lnative=/usr/lib -Z mir-opt-level=3 -C target-cpu=${TARGET_CPU}\"\n ---> Running in faeb7cadb067\nRemoving intermediate container faeb7cadb067\n ---> a305ea6fca3a\nStep 6/18 : RUN apk upgrade &&     apk add --no-cache curl gcc g++ musl-dev cmake make &&     curl -sSf https://sh.rustup.rs | sh -s -- --profile minimal --component rust-src --default-toolchain nightly -y\n ---> Running in cb1248d25edc\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/8) Upgrading musl (1.2.3-r3 -> 1.2.3-r4)\n(2/8) Upgrading busybox (1.35.0-r27 -> 1.35.0-r29)\nExecuting busybox-1.35.0-r29.post-upgrade\n(3/8) Upgrading busybox-binsh (1.35.0-r27 -> 1.35.0-r29)\n(4/8) Upgrading ca-certificates-bundle (20220614-r2 -> 20221203-r1)\n(5/8) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r1)\n(6/8) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r1)\n(7/8) Upgrading ssl_client (1.35.0-r27 -> 1.35.0-r29)\n(8/8) Upgrading musl-utils (1.2.3-r3 -> 1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nOK: 7 MiB in 15 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/32) Installing libacl (2.3.1-r1)\n(2/32) Installing libbz2 (1.0.8-r4)\n(3/32) Installing libexpat (2.5.0-r0)\n(4/32) Installing lz4-libs (1.9.4-r1)\n(5/32) Installing xz-libs (5.4.0-r0)\n(6/32) Installing zstd-libs (1.5.2-r9)\n(7/32) Installing libarchive (3.6.2-r1)\n(8/32) Installing ca-certificates (20221203-r1)\n(9/32) Installing brotli-libs (1.0.9-r10)\n(10/32) Installing nghttp2-libs (1.51.0-r0)\n(11/32) Installing libcurl (7.87.0-r1)\n(12/32) Installing ncurses-terminfo-base (6.3_p20221224-r0)\n(13/32) Installing ncurses-libs (6.3_p20221224-r0)\n(14/32) Installing libgcc (12.2.1_git20220924-r6)\n(15/32) Installing rhash-libs (1.4.3-r1)\n(16/32) Installing libstdc++ (12.2.1_git20220924-r6)\n(17/32) Installing libuv (1.44.2-r0)\n(18/32) Installing cmake (3.25.1-r0)\n(19/32) Installing curl (7.87.0-r1)\n(20/32) Installing libstdc++-dev (12.2.1_git20220924-r6)\n(21/32) Installing binutils (2.39-r2)\n(22/32) Installing libgomp (12.2.1_git20220924-r6)\n(23/32) Installing libatomic (12.2.1_git20220924-r6)\n(24/32) Installing gmp (6.2.1-r2)\n(25/32) Installing isl25 (0.25-r0)\n(26/32) Installing mpfr4 (4.1.1-r1)\n(27/32) Installing mpc1 (1.3.1-r0)\n(28/32) Installing gcc (12.2.1_git20220924-r6)\n(29/32) Installing musl-dev (1.2.3-r4)\n(30/32) Installing libc-dev (0.7.2-r3)\n(31/32) Installing g++ (12.2.1_git20220924-r6)\n(32/32) Installing make (4.4-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 294 MiB in 47 packages\n\u001b[91minfo: downloading installer\n\u001b[0m\u001b[91minfo: profile set to 'minimal'\ninfo: default host triple is x86_64-unknown-linux-musl\n\u001b[0m\u001b[91minfo: syncing channel updates for 'nightly-x86_64-unknown-linux-musl'\n\u001b[0m\u001b[91minfo: latest update on 2022-12-31, rust version 1.68.0-nightly (ce85c9857 2022-12-30)\ninfo: downloading component 'cargo'\n\u001b[0m\u001b[91minfo: downloading component 'rust-src'\n\u001b[0m\u001b[91minfo: downloading component 'rust-std'\n\u001b[0m\u001b[91minfo: downloading component 'rustc'\n\u001b[0m\u001b[91minfo: installing component 'cargo'\n\u001b[0m\u001b[91minfo: installing component 'rust-src'\n\u001b[0m\u001b[91minfo: installing component 'rust-std'\n\u001b[0m\u001b[91minfo: installing component 'rustc'\n\u001b[0m\u001b[91minfo: default toolchain set to 'nightly-x86_64-unknown-linux-musl'\n\u001b[0m\n  nightly-x86_64-unknown-linux-musl installed - rustc 1.68.0-nightly (ce85c9857 2022-12-30)\n\n\nRust is installed now. Great!\n\nTo get started you may need to restart your current shell.\nThis would reload your PATH environment variable to include\nCargo's bin directory ($HOME/.cargo/bin).\n\nTo configure your current shell, run:\nsource \"$HOME/.cargo/env\"\nRemoving intermediate container cb1248d25edc\n ---> b8db0327563d\nStep 7/18 : WORKDIR /build\n ---> Running in 4334c345daa1\nRemoving intermediate container 4334c345daa1\n ---> 48bd3f2fb4b1\nStep 8/18 : COPY Cargo.toml Cargo.lock ./\n ---> 2dea8b97a39a\nStep 9/18 : COPY .cargo ./.cargo/\n ---> 212d5f8abfe3\nStep 10/18 : RUN mkdir src/\n ---> Running in 823cc21ceebc\nRemoving intermediate container 823cc21ceebc\n ---> 294e782e9dd2\nStep 11/18 : RUN echo 'fn main() {}' > ./src/main.rs\n ---> Running in 58c312c2bae3\nRemoving intermediate container 58c312c2bae3\n ---> 6461396f1245\nStep 12/18 : RUN source $HOME/.cargo/env &&     if [ \"$TARGET_CPU\" == 'x86-64' ]; then         cargo build --release --target=\"$RUST_TARGET\" --no-default-features --features no-simd;     else         cargo build --release --target=\"$RUST_TARGET\";     fi\n ---> Running in a7a6c1dfbbea\n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m    Updating git repository `https://github.com/Gelbpunkt/twilight.git`\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded byteorder v1.4.3\n\u001b[0m\u001b[91m  Downloaded simd-json v0.6.0\n\u001b[0m\u001b[91m  Downloaded smallvec v1.9.0\n\u001b[0m\u001b[91m  Downloaded thiserror v1.0.35\n\u001b[0m\u001b[91m  Downloaded thiserror-impl v1.0.35\n\u001b[0m\u001b[91m  Downloaded tracing v0.1.36\n\u001b[0m\u001b[91m  Downloaded webpki-roots v0.22.4\n\u001b[0m\u001b[91m  Downloaded webpki v0.22.0\n\u001b[0m\u001b[91m  Downloaded tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m  Downloaded want v0.3.0\n\u001b[0m\u001b[91m  Downloaded block-buffer v0.10.3\n\u001b[0m\u001b[91m  Downloaded form_urlencoded v1.1.0\n\u001b[0m\u001b[91m  Downloaded tracing-attributes v0.1.22\n\u001b[0m\u001b[91m  Downloaded httpdate v1.0.2\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.3\n\u001b[0m\u001b[91m  Downloaded indexmap v1.9.1\n\u001b[0m\u001b[91m  Downloaded metrics-macros v0.6.0\n\u001b[0m\u001b[91m  Downloaded metrics-util v0.14.0\n\u001b[0m\u001b[91m  Downloaded ordered-float v2.10.0\n\u001b[0m\u001b[91m  Downloaded raw-cpuid v10.6.0\n\u001b[0m\u001b[91m  Downloaded rustls v0.20.6\n\u001b[0m\u001b[91m  Downloaded sha-1 v0.10.0\n\u001b[0m\u001b[91m  Downloaded unicode-ident v1.0.4\n\u001b[0m\u001b[91m  Downloaded url v2.3.1\n\u001b[0m\u001b[91m  Downloaded unicode-normalization v0.1.22\n\u001b[0m\u001b[91m  Downloaded scopeguard v1.1.0\n\u001b[0m\u001b[91m  Downloaded lazy_static v1.4.0\n\u001b[0m\u001b[91m  Downloaded tower-service v0.3.2\n\u001b[0m\u001b[91m  Downloaded try-lock v0.2.3\n\u001b[0m\u001b[91m  Downloaded quote v1.0.21\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.85\n\u001b[0m\u001b[91m  Downloaded tracing-subscriber v0.3.15\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded utf-8 v0.7.6\n\u001b[0m\u001b[91m  Downloaded sharded-slab v0.1.4\n\u001b[0m\u001b[91m  Downloaded tungstenite v0.17.3\n\u001b[0m\u001b[91m  Downloaded memchr v2.5.0\n\u001b[0m\u001b[91m  Downloaded idna v0.3.0\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.12.3\n\u001b[0m\u001b[91m  Downloaded libmimalloc-sys v0.1.25\n\u001b[0m\u001b[91m  Downloaded quanta v0.10.1\n\u001b[0m\u001b[91m  Downloaded num_cpus v1.13.1\n\u001b[0m\u001b[91m  Downloaded num-traits v0.2.15\n\u001b[0m\u001b[91m  Downloaded serde-value v0.7.0\n\u001b[0m\u001b[91m  Downloaded thread_local v1.1.4\n\u001b[0m\u001b[91m  Downloaded h2 v0.3.14\n\u001b[0m\u001b[91m  Downloaded tinyvec v1.6.0\n\u001b[0m\u001b[91m  Downloaded ahash v0.7.6\n\u001b[0m\u001b[91m  Downloaded typenum v1.15.0\n\u001b[0m\u001b[91m  Downloaded value-trait v0.4.0\n\u001b[0m\u001b[91m  Downloaded untrusted v0.7.1\n\u001b[0m\u001b[91m  Downloaded tokio-util v0.7.4\n\u001b[0m\u001b[91m  Downloaded tokio v1.21.1\n\u001b[0m\u001b[91m  Downloaded libc v0.2.132\n\u001b[0m\u001b[91m  Downloaded tokio-rustls v0.23.4\n\u001b[0m\u001b[91m  Downloaded tracing-core v0.1.29\n\u001b[0m\u001b[91m  Downloaded parking_lot_core v0.9.3\n\u001b[0m\u001b[91m  Downloaded spin v0.5.2\n\u001b[0m\u001b[91m  Downloaded crypto-common v0.1.6\n\u001b[0m\u001b[91m  Downloaded serde v1.0.144\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.11\n\u001b[0m\u001b[91m  Downloaded crc32fast v1.3.2\n\u001b[0m\u001b[91m  Downloaded futures-task v0.3.24\n\u001b[0m\u001b[91m  Downloaded futures-sink v0.3.24\n\u001b[0m\u001b[91m  Downloaded log v0.4.17\n\u001b[0m\u001b[91m  Downloaded pin-project-lite v0.2.9\n\u001b[0m\u001b[91m  Downloaded libz-ng-sys v1.1.8\n\u001b[0m\u001b[91m  Downloaded parking_lot v0.12.1\n\u001b[0m\u001b[91m  Downloaded httparse v1.8.0\n\u001b[0m\u001b[91m  Downloaded rand v0.8.5\n\u001b[0m\u001b[91m  Downloaded portable-atomic v0.3.15\n\u001b[0m\u001b[91m  Downloaded num_threads v0.1.6\n\u001b[0m\u001b[91m  Downloaded mimalloc v0.1.29\n\u001b[0m\u001b[91m  Downloaded leaky-bucket-lite v0.5.2\n\u001b[0m\u001b[91m  Downloaded percent-encoding v2.2.0\n\u001b[0m\u001b[91m  Downloaded tokio-tungstenite v0.17.2\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded unicode-bidi v0.3.8\n\u001b[0m\u001b[91m  Downloaded serde_repr v0.1.9\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.144\n\u001b[0m\u001b[91m  Downloaded sct v0.7.0\n\u001b[0m\u001b[91m  Downloaded rand_core v0.6.4\n\u001b[0m\u001b[91m  Downloaded ring v0.16.20\n\u001b[0m\u001b[91m  Downloaded rand_chacha v0.3.1\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.43\n\u001b[0m\u001b[91m  Downloaded ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m  Downloaded pin-utils v0.1.0\n\u001b[0m\u001b[91m  Downloaded once_cell v1.14.0\n\u001b[0m\u001b[91m  Downloaded mio v0.8.4\n\u001b[0m\u001b[91m  Downloaded metrics-exporter-prometheus v0.11.0\n\u001b[0m\u001b[91m  Downloaded metrics v0.20.1\n\u001b[0m\u001b[91m  Downloaded memoffset v0.6.5\n\u001b[0m\u001b[91m  Downloaded lock_api v0.4.8\n\u001b[0m\u001b[91m  Downloaded hyper-rustls v0.23.0\n\u001b[0m\u001b[91m  Downloaded hyper v0.14.20\n\u001b[0m\u001b[91m  Downloaded http-body v0.4.5\n\u001b[0m\u001b[91m  Downloaded http v0.2.8\n\u001b[0m\u001b[91m  Downloaded halfbrown v0.1.15\n\u001b[0m\u001b[91m  Downloaded getrandom v0.2.7\n\u001b[0m\u001b[91m  Downloaded generic-array v0.14.6\n\u001b[0m\u001b[91m  Downloaded futures-util v0.3.24\n\u001b[0m\u001b[91m  Downloaded futures-core v0.3.24\n\u001b[0m\u001b[91m  Downloaded float-cmp v0.9.0\n\u001b[0m\u001b[91m  Downloaded fnv v1.0.7\n\u001b[0m\u001b[91m  Downloaded cpufeatures v0.2.5\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded futures-channel v0.3.24\n\u001b[0m\u001b[91m  Downloaded flate2 v1.0.24\n\u001b[0m\u001b[91m  Downloaded digest v0.10.5\n\u001b[0m\u001b[91m  Downloaded dashmap v5.4.0\n\u001b[0m\u001b[91m  Downloaded crossbeam-utils v0.8.11\n\u001b[0m\u001b[91m  Downloaded crossbeam-epoch v0.9.10\n\u001b[0m\u001b[91m  Downloaded cmake v0.1.48\n\u001b[0m\u001b[91m  Downloaded cc v1.0.73\n\u001b[0m\u001b[91m  Downloaded bytes v1.2.1\n\u001b[0m\u001b[91m  Downloaded base64 v0.13.0\n\u001b[0m\u001b[91m  Downloaded time v0.3.14\n\u001b[0m\u001b[91m  Downloaded syn v1.0.99\n\u001b[0m\u001b[91m  Downloaded socket2 v0.4.7\n\u001b[0m\u001b[91m  Downloaded slab v0.4.7\n\u001b[0m\u001b[91m  Downloaded sketches-ddsketch v0.2.0\n\u001b[0m\u001b[91m  Downloaded simdutf8 v0.1.4\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded adler v1.0.2\n\u001b[0m\u001b[91m  Downloaded cc v1.0.76\n\u001b[0m\u001b[91m  Downloaded compiler_builtins v0.1.85\n\u001b[0m\u001b[91m  Downloaded getopts v0.2.21\n\u001b[0m\u001b[91m  Downloaded unicode-width v0.1.10\n\u001b[0m\u001b[91m  Downloaded rustc-demangle v0.1.21\n\u001b[0m\u001b[91m  Downloaded gimli v0.26.1\n\u001b[0m\u001b[91m  Downloaded object v0.29.0\n\u001b[0m\u001b[91m  Downloaded libc v0.2.138\n\u001b[0m\u001b[91m  Downloaded miniz_oxide v0.5.3\n\u001b[0m\u001b[91m  Downloaded addr2line v0.17.0\n\u001b[0m\u001b[91m   Compiling compiler_builtins v0.1.85\n   Compiling core v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/core)\n   Compiling libc v0.2.138\n\u001b[0m\u001b[91m   Compiling cc v1.0.76\n   Compiling memchr v2.5.0\n\u001b[0m\u001b[91m   Compiling std v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/std)\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling libc v0.2\u001b[0m\u001b[91m.132\n\u001b[0m\u001b[91m   Compiling autocfg v1.1.0\n   Compiling proc-macro2 v1.0.43\n\u001b[0m\u001b[91m   Compiling quote v1.0.21\n\u001b[0m\u001b[91m   Compiling unicode-ident v1.0.4\n\u001b[0m\u001b[91m   Compiling syn v1.0.99\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling cc v1.0.73\n\u001b[0m\u001b[91m   Compiling log v0.4.17\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.144\n\u001b[0m\u001b[91m   Compiling serde v1.0.144\n\u001b[0m\u001b[91m   Compiling futures-core v0.3.\u001b[0m\u001b[91m24\n\u001b[0m\u001b[91m   Compiling futures-task v0\u001b[0m\u001b[91m.3.24\n\u001b[0m\u001b[91m   Compiling typenum v1.15.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling \u001b[0m\u001b[91mfutures-util\u001b[0m\u001b[91m v0.3.24\n\u001b[0m\u001b[91m   Compiling httparse v1.8.0\n\u001b[0m\u001b[91m   Compiling rustls v0.20.6\n\u001b[0m\u001b[91m   Compiling parking_lot_core v0.9\u001b[0m\u001b[91m.3\n\u001b[0m\u001b[91m   Compiling futures-channel v0.3.24\n\u001b[0m\u001b[91m   Compiling serde_json v1.0.85\n\u001b[0m\u001b[91m   Compiling crossbeam-utils v0.8.11\n\u001b[0m\u001b[91m   Compiling thiserror v1.0.35\n\u001b[0m\u001b[91m   Compiling portable-atomic v0.3.15\n\u001b[0m\u001b[91m   Compiling crc32fast v1.3.2\n\u001b[0m\u001b[91m   Compiling metrics v0.20.1\n\u001b[0m\u001b[91m   Compiling num-traits v0.2.15\n\u001b[0m\u001b[91m   Compiling tokio v1.21.1\n\u001b[0m\u001b[91m   Compiling slab v0.4.7\n   Compiling indexmap v1.9.1\n\u001b[0m\u001b[91m   Compiling lock_api v0.4.8\n\u001b[0m\u001b[91m   Compiling memoffset v0.6.5\n\u001b[0m\u001b[91m   Compiling crossbeam-epoch v0.9.10\n\u001b[0m\u001b[91m   Compiling ahash v0.7.6\n   Compiling generic-array v0.14.6\n\u001b[0m\u001b[91m   Compiling cmake v0.1.48\n\u001b[0m\u001b[91m   Compiling ring v0.16.20\n\u001b[0m\u001b[91m   Compiling libz-ng-sys v1.1.8\n\u001b[0m\u001b[91m   Compiling libmimalloc-sys v0.1.25\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling unwind v0.0.0 (\u001b[0m\u001b[91m/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/unwind)\n\u001b[0m\u001b[91m   Compiling tracing-attributes v0.1.22\n   Compiling serde_repr v0.1.9\n\u001b[0m\u001b[91m   Compiling thiserror-impl v1.0.35\n\u001b[0m\u001b[91m   Compiling metrics-macros v0.6.0\n\u001b[0m\u001b[91m   Compiling rustc-std-workspace-core v1.99.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/rustc-std-workspace-core)\n\u001b[0m\u001b[91m   Compiling alloc v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/alloc)\n   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling adler v1.0.2\n\u001b[0m\u001b[91m   Compiling rustc-demangle v0.1.21\n\u001b[0m\u001b[91m   Compiling rustc-std-workspace-alloc v1.99.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/rustc-std-workspace-alloc)\n\u001b[0m\u001b[91m   Compiling panic_unwind v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/panic_unwind)\n\u001b[0m\u001b[91m   Compiling panic_abort v0.0.0 (\u001b[0m\u001b[91m/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/panic_abort)\n\u001b[0m\u001b[91m   Compiling gimli v0.26.1\n\u001b[0m\u001b[91m   Compiling miniz_oxide v0.5.3\n\u001b[0m\u001b[91m   Compiling object v0.29.0\n\u001b[0m\u001b[91m   Compiling std_detect v0.1.5 (\u001b[0m\u001b[91m/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/stdarch/crates/std_detect)\n\u001b[0m\u001b[91m   Compiling hashbrown v0.12.3\n\u001b[0m\u001b[91m   Compiling addr2line v0.17.0\n\u001b[0m\u001b[91m   Compiling proc_macro v0.0.0 (/root/.rustup/toolchains/nightly-x86_64-unknown-linux-musl/lib/rustlib/src/rust/library/proc_macro)\n\u001b[0m\u001b[91m   Compiling once_cell v1.14.0\n\u001b[0m\u001b[91m   Compiling pin-project-lite v0\u001b[0m\u001b[91m.2.9\n\u001b[0m\u001b[91m   Compiling bytes v1.2.1\n\u001b[0m\u001b[91m   Compiling itoa v1.0.3\n\u001b[0m\u001b[91m   Compiling spin v0.5.2\n\u001b[0m\u001b[91m   Compiling untrusted v0.7.1\n\u001b[0m\u001b[91m   Compiling fnv v1.0.7\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\n\u001b[0m\u001b[91m   Compiling futures-sink v0.3.24\n\u001b[0m\u001b[91m   Compiling pin-utils v0.1.0\n\u001b[0m\u001b[91m   Compiling tinyvec_macros v0.1.0\n\u001b[0m\u001b[91m   Compiling num_threads v0.1.6\n\u001b[0m\u001b[91m   Compiling ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m   Compiling percent-encoding v2.2.0\n\u001b[0m\u001b[91m   Compiling scopeguard v1.1.0\n\u001b[0m\u001b[91m   Compiling ryu v1.0.11\n\u001b[0m\u001b[91m   Compiling try-lock v0.2.3\n\u001b[0m\u001b[91m   Compiling smallvec v1.9.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling httpdate v1.0.2\n\u001b[0m\u001b[91m   Compiling unicode-bidi v0.3.8\n\u001b[0m\u001b[91m   Compiling tower-service v0.3.2\n\u001b[0m\u001b[91m   Compiling simdutf8 v0.1.4\n\u001b[0m\u001b[91m   Compiling cpufeatures v0.2.5\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling tinyvec v1.6.0\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling raw-cpuid v10.6.\u001b[0m\u001b[91m0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling utf-8 v0.7.6\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling\u001b[0m\u001b[91m byteorder\u001b[0m\u001b[91m v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.4.3\n\u001b[0m\u001b[91m   Compiling base64 v0.13.0\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mlazy_static\u001b[0m\u001b[91m v1.4.0\n\u001b[0m\u001b[91m   Compiling sketches-ddsketch v0.\u001b[0m\u001b[91m2.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling form_urlencoded v1.1.0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling tracing-core v0.1.29\n\u001b[0m\u001b[91m   Compiling thread_local v1.1.4\n\u001b[0m\u001b[91m   Compiling sharded-slab v0.1.4\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mmimalloc\u001b[0m\u001b[91m v0.\u001b[0m\u001b[91m1.29\n\u001b[0m\u001b[91m   Compiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mwant v0.3.0\n\u001b[0m\u001b[91m   Compiling http v0.2.8\n\u001b[0m\u001b[91m   Compiling tracing v0.1.36\n\u001b[0m\u001b[91m   Compiling getrandom v0.2.7\n\u001b[0m\u001b[91m   Compiling num_cpus v1.\u001b[0m\u001b[91m13.1\n\u001b[0m\u001b[91m   Compiling mio v0.8.4\n   Compiling socket2 v0.4.7\n\u001b[0m\u001b[91m   Compiling time v0.3.14\n\u001b[0m\u001b[91m   Compiling flate2 v1.0.24\n\u001b[0m\u001b[91m   Compiling rand_core v0.6.4\n\u001b[0m\u001b[91m   Compiling parking_lot v0.12.1\n\u001b[0m\u001b[91m   Compiling rand_chacha v0.3.1\n\u001b[0m\u001b[91m   Compiling ordered-float v2.10.0\n\u001b[0m\u001b[91m   Compiling float-cmp v0.9.0\n\u001b[0m\u001b[91m   Compiling unicode-normalization v0.1.22\n\u001b[0m\u001b[91m   Compiling rand v0.8.5\n\u001b[0m\u001b[91m   Compiling tracing-subscriber v0.3.15\n\u001b[0m\u001b[91m   Compiling quanta v0.10.1\n\u001b[0m\u001b[91m   Compiling http-body v0.4.5\n\u001b[0m\u001b[91m   Compiling crypto-common v0.1.6\n\u001b[0m\u001b[91m   Compiling block-buffer v0.\u001b[0m\u001b[91m10.3\n\u001b[0m\u001b[91m   Compiling idna v0.3.0\n\u001b[0m\u001b[91m   Compiling digest v0.10.5\n\u001b[0m\u001b[91m   Compiling webpki v0.22.0\n\u001b[0m\u001b[91m   Compiling sct v0.7.0\n\u001b[0m\u001b[91m   Compiling dashmap v5.4.0\n   Compiling metrics-util v0.14.0\n\u001b[0m\u001b[91m   Compiling sha-1 v0.10.0\n\u001b[0m\u001b[91m   Compiling webpki-roots v0.22.4\n\u001b[0m\u001b[91m   Compiling url v2.3.1\n\u001b[0m\u001b[91m   Compiling metrics-exporter-prometheus v0.11.0\n\u001b[0m\u001b[91m   Compiling serde-value v0.7.0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling halfbrown v0.1.15\n\u001b[0m\u001b[91m   Compiling tungstenite v0.17.3\n\u001b[0m\u001b[91m   Compiling twilight-model v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling value-trait v0.4.0\n\u001b[0m\u001b[91m   Compiling tokio-util v0.7.4\n\u001b[0m\u001b[91m   Compiling tokio-rustls v0.23.4\n\u001b[0m\u001b[91m   Compiling twilight-http-ratelimiting v0.\u001b[0m\u001b[91m13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling leaky-bucket-lite\u001b[0m\u001b[91m v0.5\u001b[0m\u001b[91m.2\n\u001b[0m\u001b[91m   Compiling tokio-tungstenite v0.17.2\n\u001b[0m\u001b[91m   Compiling simd-json v0.\u001b[0m\u001b[91m6.0\n\u001b[0m\u001b[91m   Compiling h2 v0.3.14\n\u001b[0m\u001b[91m   Compiling hyper v0.14.20\n\u001b[0m\u001b[91m   Compiling hyper-rustls v0.23.0\n\u001b[0m\u001b[91m   Compiling twilight-validate v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling twilight-cache-inmemory v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-http v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-gateway-queue v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling twilight-gateway v0.13.0 (https://github.com/Gelbpunkt/twilight.git?branch=custom-new#19a6d306)\n\u001b[0m\u001b[91m   Compiling gateway-proxy v0.1.0 (/build)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 2m 23s\n\u001b[0mRemoving intermediate container a7a6c1dfbbea\n ---> e912605f0640\nStep 13/18 : RUN rm -f target/$RUST_TARGET/release/deps/gateway_proxy*\n ---> Running in 8d071d7ad38d\nRemoving intermediate container 8d071d7ad38d\n ---> 2196b4fd369a\nStep 14/18 : COPY ./src ./src\n ---> a39e4c5849cb\nStep 15/18 : RUN source $HOME/.cargo/env &&     if [ \"$TARGET_CPU\" == 'x86-64' ]; then         cargo build --release --target=\"$RUST_TARGET\" --no-default-features --features no-simd;     else         cargo build --release --target=\"$RUST_TARGET\";     fi &&     cp target/$RUST_TARGET/release/gateway-proxy /gateway-proxy &&     strip /gateway-proxy\n ---> Running in 0e381c228913\n\u001b[91m   Compiling gateway-proxy v0.1.0 (/build)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 1m 52s\n\u001b[0mRemoving intermediate container 0e381c228913\n ---> 11e7bed8812e\nStep 16/18 : FROM scratch\n ---> \nStep 17/18 : COPY --from=builder /gateway-proxy /gateway-proxy\n ---> d09f9691ee3a\nStep 18/18 : CMD [\"./gateway-proxy\"]\n ---> Running in 05a147e23bce\nRemoving intermediate container 05a147e23bce\n ---> 78107ca23769\nSuccessfully built 78107ca23769\nSuccessfully tagged gateway-proxy:latest\n","stderr":"","imageSize":6463024},"endTime":1672470314285}