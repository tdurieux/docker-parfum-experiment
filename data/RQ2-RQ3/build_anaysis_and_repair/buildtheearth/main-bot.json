{"repository":"https://github.com/buildtheearth/main-bot","dockerfilePath":"Dockerfile","startTime":1672488068241,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/buildtheearth/main-bot'...\n","error":null,"commit":"e1b48866d8768a265e93790ca7f65f22f9cf165c"},"originalBuild":{"startTimestamp":1672488069276,"endTimestamp":1672488232764,"error":null,"stdout":"Sending build context to Docker daemon  2.983MB\r\r\nStep 1/9 : FROM node:16.16-alpine3.15\n16.16-alpine3.15: Pulling from library/node\n9621f1afde84: Pulling fs layer\n82b150e77251: Pulling fs layer\n3333f0e1dee6: Pulling fs layer\n971ec33e15e6: Pulling fs layer\n971ec33e15e6: Waiting\n3333f0e1dee6: Download complete\n9621f1afde84: Verifying Checksum\n9621f1afde84: Download complete\n9621f1afde84: Pull complete\n82b150e77251: Verifying Checksum\n82b150e77251: Download complete\n971ec33e15e6: Download complete\n82b150e77251: Pull complete\n3333f0e1dee6: Pull complete\n971ec33e15e6: Pull complete\nDigest: sha256:4d886f1eb254e7364eca18a198ef1b33e2c87d253b125cdb58f5cc63ae273aff\nStatus: Downloaded newer image for node:16.16-alpine3.15\n ---> 3555bc0e4632\nStep 2/9 : WORKDIR /etc/buildtheearth/main-bot\n ---> Running in cb485c18e30c\nRemoving intermediate container cb485c18e30c\n ---> 3dac3cd1672c\nStep 3/9 : COPY . ./\n ---> d67bc446c25a\nStep 4/9 : RUN npm install\n ---> Running in f38f45a035cc\n\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN deprecated @types/node-fetch@3.0.3: This is a stub types definition. node-fetch provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/chalk@2.2.0: This is a stub types definition for chalk (https://github.com/chalk/chalk). chalk provides its own type definitions, so you don't need @types/chalk installed!\n\u001b[0m\u001b[91mnpm WARN deprecated axios@0.19.0: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated tar@2.2.2: This version of tar is no longer supported, and will not receive security updates. Please upgrade asap.\n\u001b[0m\n> main-bot@4.0.0 postinstall\n> patch-package\n\npatch-package 6.4.7\nApplying patches...\n@types/zen-observable@0.8.3 笨能nrxjs@6.0.0 笨能n\n> main-bot@4.0.0 prepare\n> husky install\n\n\nadded 1386 packages, and audited 1387 packages in 40s\n\n114 packages are looking for funding\n  run `npm fund` for details\n\n35 vulnerabilities (13 moderate, 18 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container f38f45a035cc\n ---> 7d5badc521b6\nStep 5/9 : RUN npm start build\n ---> Running in 98cc3e8b3de9\n\n> main-bot@4.0.0 start\n> nps \"build\"\n\nnps is executing `build` : npm start clean && tsc\n\n> main-bot@4.0.0 start\n> nps \"clean\"\n\nnps is executing `clean` : node node_modules/nps-utils/node_modules/rimraf/bin.js /dist\nRemoving intermediate container 98cc3e8b3de9\n ---> 97d3c7625563\nStep 6/9 : ENV NODE_ENV production\n ---> Running in 180ac8eb3294\nRemoving intermediate container 180ac8eb3294\n ---> 49de9562b1c0\nStep 7/9 : ENV FORCE_COLOR 1\n ---> Running in 9769cd13256e\nRemoving intermediate container 9769cd13256e\n ---> abfc97054cfa\nStep 8/9 : ENV IN_DOCKER yes\n ---> Running in cbba75b7b59d\nRemoving intermediate container cbba75b7b59d\n ---> f4286e3abbf8\nStep 9/9 : CMD [\"node\", \"dist/index.js\"]\n ---> Running in 1b994dfcb22a\nRemoving intermediate container 1b994dfcb22a\n ---> a14eebc82be6\nSuccessfully built a14eebc82be6\nSuccessfully tagged main-bot:latest\n","stderr":"","imageSize":571040071},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:16.16-alpine3.15\n\nWORKDIR /etc/buildtheearth/main-bot\n\nCOPY . ./\n\nRUN npm install\n\nRUN npm start build\n\nENV NODE_ENV production\n\nENV FORCE_COLOR 1\n\nENV IN_DOCKER yes\n\n#Please edit this to your images webserver port\n#EXPOSE 8080\nCMD [\"node\", \"dist/index.js\"]\n#CMD [\"sh\", \"scripts/dumb.sh\"]\n"},"repairedBuild":{"startTimestamp":1672488263694,"endTimestamp":1672488533843,"error":null,"stdout":"Sending build context to Docker daemon  2.983MB\r\r\nStep 1/9 : FROM node:16.16-alpine3.15\n ---> 3555bc0e4632\nStep 2/9 : WORKDIR /etc/buildtheearth/main-bot\n ---> Running in c7cc63ec5b38\nRemoving intermediate container c7cc63ec5b38\n ---> 4ce97ad82acf\nStep 3/9 : COPY . ./\n ---> 361e6a674842\nStep 4/9 : RUN npm install\n ---> Running in 124e160f0743\n\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN deprecated @types/node-fetch@3.0.3: This is a stub types definition. node-fetch provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated axios@0.19.0: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated @types/chalk@2.2.0: This is a stub types definition for chalk (https://github.com/chalk/chalk). chalk provides its own type definitions, so you don't need @types/chalk installed!\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated uuid@3.3.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated tar@2.2.2: This version of tar is no longer supported, and will not receive security updates. Please upgrade asap.\n\u001b[0m\n> main-bot@4.0.0 postinstall\n> patch-package\n\npatch-package 6.4.7\nApplying patches...\n@types/zen-observable@0.8.3 笨能nrxjs@6.0.0 笨能n\n> main-bot@4.0.0 prepare\n> husky install\n\n\nadded 1386 packages, and audited 1387 packages in 39s\n\n114 packages are looking for funding\n  run `npm fund` for details\n\n35 vulnerabilities (13 moderate, 18 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container 124e160f0743\n ---> 6fff3d45754f\nStep 5/9 : RUN npm start build\n ---> Running in ef233915f66b\n\n> main-bot@4.0.0 start\n> nps \"build\"\n\nnps is executing `build` : npm start clean && tsc\n\n> main-bot@4.0.0 start\n> nps \"clean\"\n\nnps is executing `clean` : node node_modules/nps-utils/node_modules/rimraf/bin.js /dist\nRemoving intermediate container ef233915f66b\n ---> 51702f0a0bea\nStep 6/9 : ENV NODE_ENV production\n ---> Running in 1c11004fedad\nRemoving intermediate container 1c11004fedad\n ---> c2c2c36025b5\nStep 7/9 : ENV FORCE_COLOR 1\n ---> Running in f081466e5145\nRemoving intermediate container f081466e5145\n ---> 83ab90e73066\nStep 8/9 : ENV IN_DOCKER yes\n ---> Running in ce8ffeae7132\nRemoving intermediate container ce8ffeae7132\n ---> 07fac76703db\nStep 9/9 : CMD [\"node\", \"dist/index.js\"]\n ---> Running in 46da4a8235a3\nRemoving intermediate container 46da4a8235a3\n ---> 43b9421e9c50\nSuccessfully built 43b9421e9c50\nSuccessfully tagged main-bot:latest\n","stderr":"","imageSize":571039353},"endTime":1672488542589}