{"repository":"https://github.com/pterodactyl/daemon","dockerfilePath":"Dockerfile","startTime":1672086467414,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pterodactyl/daemon'...\n","error":null,"commit":"ca642f399528495bfde22760898d6aad297d3e9e"},"originalBuild":{"startTimestamp":1672086468300,"endTimestamp":1672086522152,"error":null,"stdout":"Sending build context to Docker daemon  823.8kB\r\r\nStep 1/8 : FROM node:10-alpine\n10-alpine: Pulling from library/node\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/8 : LABEL author=\"Michael Parker\" maintainer=\"parker@pterodactyl.io\"\n ---> Running in 352fcd01f543\nRemoving intermediate container 352fcd01f543\n ---> 3c0c383c5a67\nStep 3/8 : COPY . /srv/daemon\n ---> ad5a1dd93b7f\nStep 4/8 : WORKDIR /srv/daemon\n ---> Running in 828df2bb2459\nRemoving intermediate container 828df2bb2459\n ---> 0918811de2f6\nStep 5/8 : RUN apk add --no-cache openssl make gcc g++ python linux-headers paxctl gnupg tar zip unzip curl coreutils zlib supervisor jq  && npm install --production  && addgroup -S pterodactyl && adduser -S -D -H -G pterodactyl -s /bin/false pterodactyl  && apk del --no-cache make gcc g++ python linux-headers paxctl gnupg  && curl -sSL https://github.com/pterodactyl/sftp-server/releases/download/v1.0.4/sftp-server > /srv/daemon/sftp-server  && mkdir -p /var/log/supervisord /lib64 && ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2  && chmod +x /srv/daemon/sftp-server  && chmod +x /srv/daemon/.docker/entrypoint.sh  && cp /srv/daemon/.docker/supervisord.conf /etc/supervisord.conf\n ---> Running in 5b7c9ca0327c\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/63) Installing libacl (2.2.53-r0)\n(2/63) Installing libattr (2.4.48-r0)\n(3/63) Installing coreutils (8.31-r0)\n(4/63) Installing ca-certificates (20191127-r2)\n(5/63) Installing nghttp2-libs (1.40.0-r1)\n(6/63) Installing libcurl (7.79.1-r0)\n(7/63) Installing curl (7.79.1-r0)\n(8/63) Installing binutils (2.33.1-r1)\n(9/63) Installing gmp (6.1.2-r1)\n(10/63) Installing isl (0.18-r0)\n(11/63) Installing libgomp (9.3.0-r0)\n(12/63) Installing libatomic (9.3.0-r0)\n(13/63) Installing mpfr4 (4.0.2-r1)\n(14/63) Installing mpc1 (1.1.0-r1)\n(15/63) Installing gcc (9.3.0-r0)\n(16/63) Installing musl-dev (1.1.24-r3)\n(17/63) Installing libc-dev (0.7.2-r0)\n(18/63) Installing g++ (9.3.0-r0)\n(19/63) Installing libgpg-error (1.36-r2)\n(20/63) Installing libassuan (2.5.3-r0)\n(21/63) Installing libcap (2.27-r0)\n(22/63) Installing libffi (3.2.1-r6)\n(23/63) Installing libintl (0.20.1-r2)\n(24/63) Installing libblkid (2.34-r1)\n(25/63) Installing libmount (2.34-r1)\n(26/63) Installing pcre (8.43-r1)\n(27/63) Installing glib (2.62.6-r0)\n(28/63) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(29/63) Installing ncurses-libs (6.1_p20200118-r4)\n(30/63) Installing libgcrypt (1.8.8-r1)\n(31/63) Installing libsecret (0.19.1-r0)\n(32/63) Installing pinentry (1.1.0-r2)\nExecuting pinentry-1.1.0-r2.post-install\n(33/63) Installing libbz2 (1.0.8-r1)\n(34/63) Installing nettle (3.5.1-r0)\n(35/63) Installing p11-kit (0.23.18.1-r1)\n(36/63) Installing libtasn1 (4.15.0-r0)\n(37/63) Installing libunistring (0.9.10-r0)\n(38/63) Installing gnutls (3.6.15-r1)\n(39/63) Installing libksba (1.3.5-r0)\n(40/63) Installing db (5.3.28-r1)\n(41/63) Installing libsasl (2.1.27-r5)\n(42/63) Installing libldap (2.4.48-r3)\n(43/63) Installing npth (1.6-r0)\n(44/63) Installing sqlite-libs (3.30.1-r2)\n(45/63) Installing gnupg (2.2.19-r1)\n(46/63) Installing oniguruma (6.9.4-r1)\n(47/63) Installing jq (1.6-r0)\n(48/63) Installing linux-headers (4.19.36-r0)\n(49/63) Installing make (4.2.1-r2)\n(50/63) Installing openssl (1.1.1l-r0)\n(51/63) Installing paxctl (0.9-r0)\n(52/63) Installing expat (2.2.9-r1)\n(53/63) Installing gdbm (1.13-r1)\n(54/63) Installing readline (8.0.1-r0)\n(55/63) Installing python2 (2.7.18-r0)\n(56/63) Installing xz-libs (5.2.4-r0)\n(57/63) Installing python3 (3.8.10-r0)\n(58/63) Installing py3-meld3 (2.0.0-r1)\n(59/63) Installing py3-setuptools (42.0.2-r0)\n(60/63) Installing supervisor (4.1.0-r0)\n(61/63) Installing tar (1.32-r2)\n(62/63) Installing unzip (6.0-r7)\n(63/63) Installing zip (3.0-r7)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 310 MiB in 79 packages\n\n> dtrace-provider@0.8.3 install /srv/daemon/node_modules/dtrace-provider\n> node scripts/install.js\n\n\n> husky@4.2.3 install /srv/daemon/node_modules/husky\n> node husky install\n\nhusky > Setting up git hooks\nCannot read property 'toString' of null\nhusky > Failed to install\n\n> mmmagic@0.5.3 install /srv/daemon/node_modules/mmmagic\n> node-gyp rebuild\n\nmake: Entering directory '/srv/daemon/node_modules/mmmagic/build'\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/apprentice.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/apptype.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/ascmagic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/cdf.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/cdf_time.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/compress.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/der.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/encoding.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/fsmagic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/funcs.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/is_tar.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/magic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/print.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/readcdf.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/readelf.o\n\u001b[91m../deps/libmagic/src/readelf.c: In function 'dophn_core':\n../deps/libmagic/src/readelf.c:1024:13: warning: 'nh64.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1024 |  Elf64_Nhdr nh64;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c:1023:13: warning: 'nh32.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1023 |  Elf32_Nhdr nh32;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c: In function 'dophn_exec':\n../deps/libmagic/src/readelf.c:1024:13: warning: 'nh64.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1024 |  Elf64_Nhdr nh64;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c:1023:13: warning: 'nh32.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1023 |  Elf32_Nhdr nh32;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c: In function 'doshn':\n../deps/libmagic/src/readelf.c:1024:13: warning: 'nh64.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1024 |  Elf64_Nhdr nh64;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c:1023:13: warning: 'nh32.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1023 |  Elf32_Nhdr nh32;\n      |             ^~~~\n\u001b[0m  CC(target) Release/obj.target/libmagic/deps/libmagic/src/softmagic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/fmtcheck.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/strlcat.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/strlcpy.o\n  AR(target) Release/obj.target/deps/libmagic/magic.a\n  COPY Release/magic.a\n  CXX(target) Release/obj.target/magic/src/binding.o\n\u001b[91mIn file included from ../src/binding.cc:3:\n../node_modules/nan/nan.h: In function 'void Nan::AsyncQueueWorker(Nan::AsyncWorker*)':\n../node_modules/nan/nan.h:2298:62: warning: cast between incompatible function types from 'void (*)(uv_work_t*)' {aka 'void (*)(uv_work_s*)'} to 'uv_after_work_cb' {aka 'void (*)(uv_work_s*, int)'} [-Wcast-function-type]\n 2298 |     , reinterpret_cast<uv_after_work_cb>(AsyncExecuteComplete)\n      |                                                              ^\n\u001b[0m\u001b[91m../src/binding.cc: In static member function 'static void Magic::DetectFile(const Nan::FunctionCallbackInfo<v8::Value>&)':\n../src/binding.cc:184:59: warning: cast between incompatible function types from 'void (*)(uv_work_t*)' {aka 'void (*)(uv_work_s*)'} to 'uv_after_work_cb' {aka 'void (*)(uv_work_s*, int)'} [-Wcast-function-type]\n  184 |                                  (uv_after_work_cb)Magic::DetectAfter);\n      |                                                           ^~~~~~~~~~~\n\u001b[0m\u001b[91m../src/binding.cc: In static member function 'static void Magic::Detect(const Nan::FunctionCallbackInfo<v8::Value>&)':\n../src/binding.cc:217:59: warning: cast between incompatible function types from 'void (*)(uv_work_t*)' {aka 'void (*)(uv_work_s*)'} to 'uv_after_work_cb' {aka 'void (*)(uv_work_s*, int)'} [-Wcast-function-type]\n  217 |                                  (uv_after_work_cb)Magic::DetectAfter);\n      |                                                           ^~~~~~~~~~~\n\u001b[0m\u001b[91mIn file included from ../src/binding.cc:1:\n../src/binding.cc: At global scope:\n/root/.cache/node-gyp/10.24.1/include/node/node.h:573:43: warning: cast between incompatible function types from 'void (*)(v8::Local<v8::Object>)' to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n  573 |       (node::addon_register_func) (regfunc),                          \\\n      |                                           ^\n/root/.cache/node-gyp/10.24.1/include/node/node.h:607:3: note: in expansion of macro 'NODE_MODULE_X'\n  607 |   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n      |   ^~~~~~~~~~~~~\n../src/binding.cc:415:3: note: in expansion of macro 'NODE_MODULE'\n  415 |   NODE_MODULE(magic, init);\n      |   ^~~~~~~~~~~\n\u001b[0m\u001b[91mIn file included from /root/.cache/node-gyp/10.24.1/include/node/node.h:63,\n                 from ../src/binding.cc:1:\n/root/.cache/node-gyp/10.24.1/include/node/v8.h: In instantiation of 'void v8::PersistentBase<T>::SetWeak(P*, typename v8::WeakCallbackInfo<P>::Callback, v8::WeakCallbackType) [with P = node::ObjectWrap; T = v8::Object; typename v8::WeakCallbackInfo<P>::Callback = void (*)(const v8::WeakCallbackInfo<node::ObjectWrap>&)]':\n/root/.cache/node-gyp/10.24.1/include/node/node_object_wrap.h:84:78:   required from here\n/root/.cache/node-gyp/10.24.1/include/node/v8.h:9502:16: warning: cast between incompatible function types from 'v8::WeakCallbackInfo<node::ObjectWrap>::Callback' {aka 'void (*)(const v8::WeakCallbackInfo<node::ObjectWrap>&)'} to 'Callback' {aka 'void (*)(const v8::WeakCallbackInfo<void>&)'} [-Wcast-function-type]\n 9502 |                reinterpret_cast<Callback>(callback), type);\n      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91m/root/.cache/node-gyp/10.24.1/include/node/v8.h: In instantiation of 'void v8::PersistentBase<T>::SetWeak(P*, typename v8::WeakCallbackInfo<P>::Callback, v8::WeakCallbackType) [with P = Nan::ObjectWrap; T = v8::Object; typename v8::WeakCallbackInfo<P>::Callback = void (*)(const v8::WeakCallbackInfo<Nan::ObjectWrap>&)]':\n../node_modules/nan/nan_object_wrap.h:65:61:   required from here\n/root/.cache/node-gyp/10.24.1/include/node/v8.h:9502:16: warning: cast between incompatible function types from 'v8::WeakCallbackInfo<Nan::ObjectWrap>::Callback' {aka 'void (*)(const v8::WeakCallbackInfo<Nan::ObjectWrap>&)'} to 'Callback' {aka 'void (*)(const v8::WeakCallbackInfo<void>&)'} [-Wcast-function-type]\n\u001b[0m  SOLINK_MODULE(target) Release/obj.target/magic.node\n  COPY Release/magic.node\nmake: Leaving directory '/srv/daemon/node_modules/mmmagic/build'\n\n> husky@4.2.3 postinstall /srv/daemon/node_modules/husky\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using husky!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/husky/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 352 packages from 409 contributors and audited 488 packages in 17.007s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\nfound 79 vulnerabilities (6 low, 21 moderate, 43 high, 9 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/37) Purging g++ (9.3.0-r0)\n(2/37) Purging gcc (9.3.0-r0)\n(3/37) Purging binutils (2.33.1-r1)\n(4/37) Purging libatomic (9.3.0-r0)\n(5/37) Purging libgomp (9.3.0-r0)\n(6/37) Purging libc-dev (0.7.2-r0)\n(7/37) Purging musl-dev (1.1.24-r3)\n(8/37) Purging gnupg (2.2.19-r1)\n(9/37) Purging pinentry (1.1.0-r2)\n(10/37) Purging linux-headers (4.19.36-r0)\n(11/37) Purging make (4.2.1-r2)\n(12/37) Purging paxctl (0.9-r0)\n(13/37) Purging python2 (2.7.18-r0)\n(14/37) Purging isl (0.18-r0)\n(15/37) Purging mpc1 (1.1.0-r1)\n(16/37) Purging gnutls (3.6.15-r1)\n(17/37) Purging nettle (3.5.1-r0)\n(18/37) Purging mpfr4 (4.0.2-r1)\n(19/37) Purging gmp (6.1.2-r1)\n(20/37) Purging libksba (1.3.5-r0)\n(21/37) Purging libsecret (0.19.1-r0)\n(22/37) Purging libgcrypt (1.8.8-r1)\n(23/37) Purging libassuan (2.5.3-r0)\n(24/37) Purging libgpg-error (1.36-r2)\n(25/37) Purging libcap (2.27-r0)\n(26/37) Purging glib (2.62.6-r0)\n(27/37) Purging libintl (0.20.1-r2)\n(28/37) Purging libmount (2.34-r1)\n(29/37) Purging libblkid (2.34-r1)\n(30/37) Purging pcre (8.43-r1)\n(31/37) Purging p11-kit (0.23.18.1-r1)\n(32/37) Purging libtasn1 (4.15.0-r0)\n(33/37) Purging libunistring (0.9.10-r0)\n(34/37) Purging libldap (2.4.48-r3)\n(35/37) Purging libsasl (2.1.27-r5)\n(36/37) Purging db (5.3.28-r1)\n(37/37) Purging npth (1.6-r0)\nExecuting busybox-1.31.1-r10.trigger\nOK: 83 MiB in 42 packages\nRemoving intermediate container 5b7c9ca0327c\n ---> c4a2bbf3c44d\nStep 6/8 : EXPOSE 8080\n ---> Running in 0cc128a8fc57\nRemoving intermediate container 0cc128a8fc57\n ---> aad5edd5947f\nStep 7/8 : ENTRYPOINT [ \"/bin/ash\", \"/srv/daemon/.docker/entrypoint.sh\" ]\n ---> Running in 065c0b1dfe7e\nRemoving intermediate container 065c0b1dfe7e\n ---> 95e1c57058e0\nStep 8/8 : CMD [ \"supervisord\", \"-n\", \"-c\", \"/etc/supervisord.conf\" ]\n ---> Running in 093d4e5ce081\nRemoving intermediate container 093d4e5ce081\n ---> c60d3ff81565\nSuccessfully built c60d3ff81565\nSuccessfully tagged daemon:latest\n","stderr":"","imageSize":214241675},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":12,"end":12,"columnStart":4,"columnEnd":119}},{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:10-alpine\n\nLABEL author=\"Michael Parker\" maintainer=\"parker@pterodactyl.io\"\n\nCOPY . /srv/daemon\n\nWORKDIR /srv/daemon\n\nRUN apk add --no-cache openssl make gcc g++ python linux-headers paxctl gnupg tar zip unzip curl coreutils zlib supervisor jq \\\n && npm install --production \\\n && addgroup -S pterodactyl && adduser -S -D -H -G pterodactyl -s /bin/false pterodactyl \\\n && apk del --no-cache make gcc g++ python linux-headers paxctl gnupg \\\n && curl -f -sSL https://github.com/pterodactyl/sftp-server/releases/download/v1.0.4/sftp-server > /srv/daemon/sftp-server \\\n && mkdir -p /var/log/supervisord /lib64 && ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2 \\\n && chmod +x /srv/daemon/sftp-server \\\n && chmod +x /srv/daemon/.docker/entrypoint.sh \\\n && cp /srv/daemon/.docker/supervisord.conf /etc/supervisord.conf\n\nEXPOSE 8080\n\nENTRYPOINT [ \"/bin/ash\", \"/srv/daemon/.docker/entrypoint.sh\" ]\n\nCMD [ \"supervisord\", \"-n\", \"-c\", \"/etc/supervisord.conf\" ]"},"repairedBuild":{"startTimestamp":1672086522826,"endTimestamp":1672086559309,"error":null,"stdout":"Sending build context to Docker daemon  823.8kB\r\r\nStep 1/8 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 2/8 : LABEL author=\"Michael Parker\" maintainer=\"parker@pterodactyl.io\"\n ---> Running in d698d9091743\nRemoving intermediate container d698d9091743\n ---> d181344a079f\nStep 3/8 : COPY . /srv/daemon\n ---> 51d15ac4db4b\nStep 4/8 : WORKDIR /srv/daemon\n ---> Running in 47a290cdc373\nRemoving intermediate container 47a290cdc373\n ---> e0a1148f2f53\nStep 5/8 : RUN apk add --no-cache openssl make gcc g++ python linux-headers paxctl gnupg tar zip unzip curl coreutils zlib supervisor jq  && npm install --production  && addgroup -S pterodactyl && adduser -S -D -H -G pterodactyl -s /bin/false pterodactyl  && apk del --no-cache make gcc g++ python linux-headers paxctl gnupg  && curl -f -sSL https://github.com/pterodactyl/sftp-server/releases/download/v1.0.4/sftp-server > /srv/daemon/sftp-server  && mkdir -p /var/log/supervisord /lib64 && ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2  && chmod +x /srv/daemon/sftp-server  && chmod +x /srv/daemon/.docker/entrypoint.sh  && cp /srv/daemon/.docker/supervisord.conf /etc/supervisord.conf\n ---> Running in 2cabed8f2b27\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/63) Installing libacl (2.2.53-r0)\n(2/63) Installing libattr (2.4.48-r0)\n(3/63) Installing coreutils (8.31-r0)\n(4/63) Installing ca-certificates (20191127-r2)\n(5/63) Installing nghttp2-libs (1.40.0-r1)\n(6/63) Installing libcurl (7.79.1-r0)\n(7/63) Installing curl (7.79.1-r0)\n(8/63) Installing binutils (2.33.1-r1)\n(9/63) Installing gmp (6.1.2-r1)\n(10/63) Installing isl (0.18-r0)\n(11/63) Installing libgomp (9.3.0-r0)\n(12/63) Installing libatomic (9.3.0-r0)\n(13/63) Installing mpfr4 (4.0.2-r1)\n(14/63) Installing mpc1 (1.1.0-r1)\n(15/63) Installing gcc (9.3.0-r0)\n(16/63) Installing musl-dev (1.1.24-r3)\n(17/63) Installing libc-dev (0.7.2-r0)\n(18/63) Installing g++ (9.3.0-r0)\n(19/63) Installing libgpg-error (1.36-r2)\n(20/63) Installing libassuan (2.5.3-r0)\n(21/63) Installing libcap (2.27-r0)\n(22/63) Installing libffi (3.2.1-r6)\n(23/63) Installing libintl (0.20.1-r2)\n(24/63) Installing libblkid (2.34-r1)\n(25/63) Installing libmount (2.34-r1)\n(26/63) Installing pcre (8.43-r1)\n(27/63) Installing glib (2.62.6-r0)\n(28/63) Installing ncurses-terminfo-base (6.1_p20200118-r4)\n(29/63) Installing ncurses-libs (6.1_p20200118-r4)\n(30/63) Installing libgcrypt (1.8.8-r1)\n(31/63) Installing libsecret (0.19.1-r0)\n(32/63) Installing pinentry (1.1.0-r2)\nExecuting pinentry-1.1.0-r2.post-install\n(33/63) Installing libbz2 (1.0.8-r1)\n(34/63) Installing nettle (3.5.1-r0)\n(35/63) Installing p11-kit (0.23.18.1-r1)\n(36/63) Installing libtasn1 (4.15.0-r0)\n(37/63) Installing libunistring (0.9.10-r0)\n(38/63) Installing gnutls (3.6.15-r1)\n(39/63) Installing libksba (1.3.5-r0)\n(40/63) Installing db (5.3.28-r1)\n(41/63) Installing libsasl (2.1.27-r5)\n(42/63) Installing libldap (2.4.48-r3)\n(43/63) Installing npth (1.6-r0)\n(44/63) Installing sqlite-libs (3.30.1-r2)\n(45/63) Installing gnupg (2.2.19-r1)\n(46/63) Installing oniguruma (6.9.4-r1)\n(47/63) Installing jq (1.6-r0)\n(48/63) Installing linux-headers (4.19.36-r0)\n(49/63) Installing make (4.2.1-r2)\n(50/63) Installing openssl (1.1.1l-r0)\n(51/63) Installing paxctl (0.9-r0)\n(52/63) Installing expat (2.2.9-r1)\n(53/63) Installing gdbm (1.13-r1)\n(54/63) Installing readline (8.0.1-r0)\n(55/63) Installing python2 (2.7.18-r0)\n(56/63) Installing xz-libs (5.2.4-r0)\n(57/63) Installing python3 (3.8.10-r0)\n(58/63) Installing py3-meld3 (2.0.0-r1)\n(59/63) Installing py3-setuptools (42.0.2-r0)\n(60/63) Installing supervisor (4.1.0-r0)\n(61/63) Installing tar (1.32-r2)\n(62/63) Installing unzip (6.0-r7)\n(63/63) Installing zip (3.0-r7)\nExecuting busybox-1.31.1-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 310 MiB in 79 packages\n\n> dtrace-provider@0.8.3 install /srv/daemon/node_modules/dtrace-provider\n> node scripts/install.js\n\n\n> husky@4.2.3 install /srv/daemon/node_modules/husky\n> node husky install\n\nhusky > Setting up git hooks\nCannot read property 'toString' of null\nhusky > Failed to install\n\n> mmmagic@0.5.3 install /srv/daemon/node_modules/mmmagic\n> node-gyp rebuild\n\nmake: Entering directory '/srv/daemon/node_modules/mmmagic/build'\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/apprentice.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/apptype.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/ascmagic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/cdf.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/cdf_time.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/compress.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/der.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/encoding.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/fsmagic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/funcs.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/is_tar.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/magic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/print.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/readcdf.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/readelf.o\n\u001b[91m../deps/libmagic/src/readelf.c: In function 'dophn_core':\n../deps/libmagic/src/readelf.c:1024:13: warning: 'nh64.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1024 |  Elf64_Nhdr nh64;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c:1023:13: warning: 'nh32.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1023 |  Elf32_Nhdr nh32;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c: In function 'dophn_exec':\n../deps/libmagic/src/readelf.c:1024:13: warning: 'nh64.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1024 |  Elf64_Nhdr nh64;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c:1023:13: warning: 'nh32.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1023 |  Elf32_Nhdr nh32;\n      |             ^~~~\n\u001b[0m\u001b[91m../deps/libmagic/src/readelf.c: In function 'doshn':\n../deps/libmagic/src/readelf.c:1024:13: warning: 'nh64.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1024 |  Elf64_Nhdr nh64;\n      |             ^~~~\n../deps/libmagic/src/readelf.c:1023:13: warning: 'nh32.n_type' may be used uninitialized in this function [-Wmaybe-uninitialized]\n 1023 |  Elf32_Nhdr nh32;\n      |             ^~~~\n\u001b[0m  CC(target) Release/obj.target/libmagic/deps/libmagic/src/softmagic.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/fmtcheck.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/strlcat.o\n  CC(target) Release/obj.target/libmagic/deps/libmagic/src/strlcpy.o\n  AR(target) Release/obj.target/deps/libmagic/magic.a\n  COPY Release/magic.a\n  CXX(target) Release/obj.target/magic/src/binding.o\n\u001b[91mIn file included from ../src/binding.cc:3:\n../node_modules/nan/nan.h: In function 'void Nan::AsyncQueueWorker(Nan::AsyncWorker*)':\n../node_modules/nan/nan.h:2298:62: warning: cast between incompatible function types from 'void (*)(uv_work_t*)' {aka 'void (*)(uv_work_s*)'} to 'uv_after_work_cb' {aka 'void (*)(uv_work_s*, int)'} [-Wcast-function-type]\n 2298 |     , reinterpret_cast<uv_after_work_cb>(AsyncExecuteComplete)\n      |                                                              ^\n\u001b[0m\u001b[91m../src/binding.cc: In static member function 'static void Magic::DetectFile(const Nan::FunctionCallbackInfo<v8::Value>&)':\n../src/binding.cc:184:59: warning: cast between incompatible function types from 'void (*)(uv_work_t*)' {aka 'void (*)(uv_work_s*)'} to 'uv_after_work_cb' {aka 'void (*)(uv_work_s*, int)'} [-Wcast-function-type]\n  184 |                                  (uv_after_work_cb)Magic::DetectAfter);\n      |                                                           ^~~~~~~~~~~\n\u001b[0m\u001b[91m../src/binding.cc: In static member function 'static void Magic::Detect(const Nan::FunctionCallbackInfo<v8::Value>&)':\n../src/binding.cc:217:59: warning: cast between incompatible function types from 'void (*)(uv_work_t*)' {aka 'void (*)(uv_work_s*)'} to 'uv_after_work_cb' {aka 'void (*)(uv_work_s*, int)'} [-Wcast-function-type]\n  217 |                                  (uv_after_work_cb)Magic::DetectAfter);\n      |                                                           ^~~~~~~~~~~\n\u001b[0m\u001b[91mIn file included from ../src/binding.cc:1:\n../src/binding.cc: At global scope:\n/root/.cache/node-gyp/10.24.1/include/node/node.h:573:43: warning: cast between incompatible function types from 'void (*)(v8::Local<v8::Object>)' to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n  573 |       (node::addon_register_func) (regfunc),                          \\\n      |                                           ^\n/root/.cache/node-gyp/10.24.1/include/node/node.h:607:3: note: in expansion of macro 'NODE_MODULE_X'\n  607 |   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n      |   ^~~~~~~~~~~~~\n../src/binding.cc:415:3: note: in expansion of macro 'NODE_MODULE'\n  415 |   NODE_MODULE(magic, init);\n      |   ^~~~~~~~~~~\n\u001b[0m\u001b[91mIn file included from /root/.cache/node-gyp/10.24.1/include/node/node.h:63,\n                 from ../src/binding.cc:1:\n/root/.cache/node-gyp/10.24.1/include/node/v8.h: In instantiation of 'void v8::PersistentBase<T>::SetWeak(P*, typename v8::WeakCallbackInfo<P>::Callback, v8::WeakCallbackType) [with P = node::ObjectWrap; T = v8::Object; typename v8::WeakCallbackInfo<P>::Callback = void (*)(const v8::WeakCallbackInfo<node::ObjectWrap>&)]':\n/root/.cache/node-gyp/10.24.1/include/node/node_object_wrap.h:84:78:   required from here\n/root/.cache/node-gyp/10.24.1/include/node/v8.h:9502:16: warning: cast between incompatible function types from 'v8::WeakCallbackInfo<node::ObjectWrap>::Callback' {aka 'void (*)(const v8::WeakCallbackInfo<node::ObjectWrap>&)'} to 'Callback' {aka 'void (*)(const v8::WeakCallbackInfo<void>&)'} [-Wcast-function-type]\n 9502 |                reinterpret_cast<Callback>(callback), type);\n      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91m/root/.cache/node-gyp/10.24.1/include/node/v8.h: In instantiation of 'void v8::PersistentBase<T>::SetWeak(P*, typename v8::WeakCallbackInfo<P>::Callback, v8::WeakCallbackType) [with P = Nan::ObjectWrap; T = v8::Object; typename v8::WeakCallbackInfo<P>::Callback = void (*)(const v8::WeakCallbackInfo<Nan::ObjectWrap>&)]':\n../node_modules/nan/nan_object_wrap.h:65:61:   required from here\n/root/.cache/node-gyp/10.24.1/include/node/v8.h:9502:16: warning: cast between incompatible function types from 'v8::WeakCallbackInfo<Nan::ObjectWrap>::Callback' {aka 'void (*)(const v8::WeakCallbackInfo<Nan::ObjectWrap>&)'} to 'Callback' {aka 'void (*)(const v8::WeakCallbackInfo<void>&)'} [-Wcast-function-type]\n\u001b[0m  SOLINK_MODULE(target) Release/obj.target/magic.node\n  COPY Release/magic.node\nmake: Leaving directory '/srv/daemon/node_modules/mmmagic/build'\n\n> husky@4.2.3 postinstall /srv/daemon/node_modules/husky\n> opencollective-postinstall || exit 0\n\n\u001b[96m\u001b[1mThank you for using husky!\u001b[96m\u001b[1m\n\u001b[0m\u001b[96mIf you rely on this package, please consider supporting our open collective:\u001b[22m\u001b[39m\n> \u001b[94mhttps://opencollective.com/husky/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 352 packages from 409 contributors and audited 488 packages in 13.705s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\nfound 79 vulnerabilities (6 low, 21 moderate, 43 high, 9 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/37) Purging g++ (9.3.0-r0)\n(2/37) Purging gcc (9.3.0-r0)\n(3/37) Purging binutils (2.33.1-r1)\n(4/37) Purging libatomic (9.3.0-r0)\n(5/37) Purging libgomp (9.3.0-r0)\n(6/37) Purging libc-dev (0.7.2-r0)\n(7/37) Purging musl-dev (1.1.24-r3)\n(8/37) Purging gnupg (2.2.19-r1)\n(9/37) Purging pinentry (1.1.0-r2)\n(10/37) Purging linux-headers (4.19.36-r0)\n(11/37) Purging make (4.2.1-r2)\n(12/37) Purging paxctl (0.9-r0)\n(13/37) Purging python2 (2.7.18-r0)\n(14/37) Purging isl (0.18-r0)\n(15/37) Purging mpc1 (1.1.0-r1)\n(16/37) Purging gnutls (3.6.15-r1)\n(17/37) Purging nettle (3.5.1-r0)\n(18/37) Purging mpfr4 (4.0.2-r1)\n(19/37) Purging gmp (6.1.2-r1)\n(20/37) Purging libksba (1.3.5-r0)\n(21/37) Purging libsecret (0.19.1-r0)\n(22/37) Purging libgcrypt (1.8.8-r1)\n(23/37) Purging libassuan (2.5.3-r0)\n(24/37) Purging libgpg-error (1.36-r2)\n(25/37) Purging libcap (2.27-r0)\n(26/37) Purging glib (2.62.6-r0)\n(27/37) Purging libintl (0.20.1-r2)\n(28/37) Purging libmount (2.34-r1)\n(29/37) Purging libblkid (2.34-r1)\n(30/37) Purging pcre (8.43-r1)\n(31/37) Purging p11-kit (0.23.18.1-r1)\n(32/37) Purging libtasn1 (4.15.0-r0)\n(33/37) Purging libunistring (0.9.10-r0)\n(34/37) Purging libldap (2.4.48-r3)\n(35/37) Purging libsasl (2.1.27-r5)\n(36/37) Purging db (5.3.28-r1)\n(37/37) Purging npth (1.6-r0)\nExecuting busybox-1.31.1-r10.trigger\nOK: 83 MiB in 42 packages\nRemoving intermediate container 2cabed8f2b27\n ---> 72888f0e92fc\nStep 6/8 : EXPOSE 8080\n ---> Running in 1608b0dfda4e\nRemoving intermediate container 1608b0dfda4e\n ---> 0abe38ea38c7\nStep 7/8 : ENTRYPOINT [ \"/bin/ash\", \"/srv/daemon/.docker/entrypoint.sh\" ]\n ---> Running in ba6b90e835d8\nRemoving intermediate container ba6b90e835d8\n ---> bfdaf72f99bd\nStep 8/8 : CMD [ \"supervisord\", \"-n\", \"-c\", \"/etc/supervisord.conf\" ]\n ---> Running in 3325d6ca4741\nRemoving intermediate container 3325d6ca4741\n ---> 6ef07e6ebbbc\nSuccessfully built 6ef07e6ebbbc\nSuccessfully tagged daemon:latest\n","stderr":"","imageSize":214241774},"endTime":1672086559789}