{"repository":"https://github.com/ossf/scorecard-action","dockerfilePath":"Dockerfile","startTime":1672779279925,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ossf/scorecard-action'...\n","error":null,"commit":"50c8fd98b21ef401e0a22a5d6b4c3563b0528a54"},"originalBuild":{"startTimestamp":1672779281087,"endTimestamp":1672779499572,"error":null,"stdout":"Sending build context to Docker daemon   3.06MB\r\r\nStep 1/14 : FROM golang:1.19.4@sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3 AS builder\ndocker.io/library/golang:1.19.4@sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3: Pulling from library/golang\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\nc768848b86a2: Already exists\n3a3324c1d283: Pulling fs layer\nea43a17566db: Pulling fs layer\nea43a17566db: Download complete\n3a3324c1d283: Download complete\n3a3324c1d283: Pull complete\nea43a17566db: Pull complete\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19.4@sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\n ---> 6650307efe4a\nStep 2/14 : WORKDIR /src\n ---> Running in dc3421a679a6\nRemoving intermediate container dc3421a679a6\n ---> aed75a71e895\nStep 3/14 : ENV CGO_ENABLED=0\n ---> Running in 5a45189e9776\nRemoving intermediate container 5a45189e9776\n ---> 829fc382c165\nStep 4/14 : COPY go.* ./\n ---> bfb6dfca34d3\nStep 5/14 : RUN go mod download\n ---> Running in acac461b789c\nRemoving intermediate container acac461b789c\n ---> bf0a06d0e36f\nStep 6/14 : COPY . ./\n ---> 4ceeee322138\nStep 7/14 : FROM builder AS build\n ---> 4ceeee322138\nStep 8/14 : ARG TARGETOS\n ---> Running in 1ab03fed15f9\nRemoving intermediate container 1ab03fed15f9\n ---> 00652c8009ce\nStep 9/14 : ARG TARGETARCH\n ---> Running in acb8c1d4c532\nRemoving intermediate container acb8c1d4c532\n ---> b0be90dfe937\nStep 10/14 : RUN CGO_ENABLED=0 make build\n ---> Running in 4b0ea95cb434\n# Run go build and generate scorecard executable\nCGO_ENABLED=0 go build -o scorecard-action -trimpath -a -tags netgo -ldflags '-X sigs.k8s.io/release-utils/version.gitVersion=v4.10.2 -X sigs.k8s.io/release-utils/version.gitCommit=376f465c111c39c6a5ad7408e8896cd790cb5219 -w -extldflags \\\"-static\\\"'\nRemoving intermediate container 4b0ea95cb434\n ---> 4a69bc7ec4a1\nStep 11/14 : FROM gcr.io/distroless/base@sha256:122585ba4c098993df9f8dc7285433e8a19974de32528ee3a4b07308808c84ce\ngcr.io/distroless/base@sha256:122585ba4c098993df9f8dc7285433e8a19974de32528ee3a4b07308808c84ce: Pulling from distroless/base\nfbad7aa519f7: Pulling fs layer\nfda4ba87f6fb: Pulling fs layer\nfbad7aa519f7: Verifying Checksum\nfbad7aa519f7: Download complete\nfda4ba87f6fb: Verifying Checksum\nfda4ba87f6fb: Download complete\nfbad7aa519f7: Pull complete\nfda4ba87f6fb: Pull complete\nDigest: sha256:122585ba4c098993df9f8dc7285433e8a19974de32528ee3a4b07308808c84ce\nStatus: Downloaded newer image for gcr.io/distroless/base@sha256:122585ba4c098993df9f8dc7285433e8a19974de32528ee3a4b07308808c84ce\n ---> d1bf664ad8e9\nStep 12/14 : COPY --from=build /src/scorecard-action /\n ---> e2d75ebd2399\nStep 13/14 : COPY policies/template.yml /policy.yml\n ---> e711885910a2\nStep 14/14 : ENTRYPOINT [ \"/scorecard-action\" ]\n ---> Running in 0c864e8b9f4a\nRemoving intermediate container 0c864e8b9f4a\n ---> 2e501e34c71d\nSuccessfully built 2e501e34c71d\nSuccessfully tagged scorecard-action:latest\n","stderr":"","imageSize":80565682},"repair":{"violations":[],"repairedDockerfile":"# Copyright 2021 Security Scorecard Authors\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n# Testing: docker run -e GITHUB_REF=refs/heads/main \\\n#           -e GITHUB_EVENT_NAME=branch_protection_rule \\\n#           -e INPUT_RESULTS_FORMAT=sarif \\\n#           -e INPUT_RESULTS_FILE=results.sarif \\\n#           -e GITHUB_WORKSPACE=/ \\\n#           -e INPUT_POLICY_FILE=\"/policy.yml\" \\\n#           -e INPUT_REPO_TOKEN=$GITHUB_AUTH_TOKEN \\\n#           -e GITHUB_REPOSITORY=\"ossf/scorecard\" \\\n#           laurentsimon/scorecard-action:latest\n\n#v1.19 go\nFROM golang:1.19.4@sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3 AS builder\nWORKDIR /src\nENV CGO_ENABLED=0\nCOPY go.* ./\nRUN go mod download\nCOPY . ./\n\nFROM builder AS build\nARG TARGETOS\nARG TARGETARCH\nRUN CGO_ENABLED=0 make build\n\n# Need root for GitHub Actions support\nFROM gcr.io/distroless/base@sha256:122585ba4c098993df9f8dc7285433e8a19974de32528ee3a4b07308808c84ce\nCOPY --from=build /src/scorecard-action /\nCOPY policies/template.yml /policy.yml\nENTRYPOINT [ \"/scorecard-action\" ]\n"},"endTime":1672779500445}