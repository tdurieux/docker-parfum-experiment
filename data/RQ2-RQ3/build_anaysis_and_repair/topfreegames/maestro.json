{"repository":"https://github.com/topfreegames/maestro","dockerfilePath":"Dockerfile","startTime":1672898352002,"endTime":1672898689542,"clone":{"startTime":1672898352003,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/topfreegames/maestro'...\n","error":null,"endTime":1672898353066,"commit":"ab0dbbb794fbd386665f0543a4aefcf154735bed"},"originalBuild":{"startTime":1672898353153,"endTime":1672898522752,"error":null,"stdout":"Sending build context to Docker daemon  5.008MB\r\r\nStep 1/15 : FROM golang:1.18.4-alpine AS build-env\n1.18.4-alpine: Pulling from library/golang\n530afca65e2e: Already exists\nd450d4da0343: Already exists\n8162171ecb65: Already exists\n06619bbbb66c: Pulling fs layer\n5ae7f56e770e: Pulling fs layer\n5ae7f56e770e: Verifying Checksum\n5ae7f56e770e: Download complete\n06619bbbb66c: Verifying Checksum\n06619bbbb66c: Download complete\n06619bbbb66c: Pull complete\n5ae7f56e770e: Pull complete\nDigest: sha256:9b2a2799435823dbf6fef077a8ff7ce83ad26b382ddabf22febfc333926400e4\nStatus: Downloaded newer image for golang:1.18.4-alpine\n ---> 759ab1463be2\nStep 2/15 : WORKDIR /build\n ---> Running in a48573f1d864\nRemoving intermediate container a48573f1d864\n ---> 501a29cbd54e\nStep 3/15 : COPY go.mod go.sum ./\n ---> 6fcf7cdaa031\nStep 4/15 : RUN go mod download\n ---> Running in 3e382b06f9c5\nRemoving intermediate container 3e382b06f9c5\n ---> 5130ed147a38\nStep 5/15 : COPY . /build\n ---> d67497a6f34f\nStep 6/15 : RUN mkdir -p /app\n ---> Running in f4bffd883316\nRemoving intermediate container f4bffd883316\n ---> d7ba4a5daffa\nStep 7/15 : RUN apk add --update make\n ---> Running in a7e833a9e5a2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r15.trigger\nOK: 6 MiB in 16 packages\nRemoving intermediate container a7e833a9e5a2\n ---> 8a49170bcdb4\nStep 8/15 : RUN cd /build &&     make build-linux-x86_64 &&     mv ./bin/maestro-linux-x86_64 /app/maestro &&     mv internal/service/migrations /app/migrations &&     mv ./config /app/config\n ---> Running in 6c73ffd01f69\nRemoving intermediate container 6c73ffd01f69\n ---> a659da955e9c\nStep 9/15 : FROM alpine\n ---> 49176f190c7e\nStep 10/15 : WORKDIR /app\n ---> Running in 8c1ec676ab2a\nRemoving intermediate container 8c1ec676ab2a\n ---> 1ba30f5aa662\nStep 11/15 : COPY --from=build-env /app/maestro /app/maestro\n ---> 830a265754ea\nStep 12/15 : COPY --from=build-env /app/migrations /app/migrations\n ---> 99bcc11996f9\nStep 13/15 : COPY --from=build-env /app/config /app/config\n ---> 0d589a2e5320\nStep 14/15 : EXPOSE 8080 8081\n ---> Running in 483184ddbd3e\nRemoving intermediate container 483184ddbd3e\n ---> 9b7f3cbf0c3c\nStep 15/15 : CMD /app/maestro\n ---> Running in f98eebc1f487\nRemoving intermediate container f98eebc1f487\n ---> 57f85fe3058c\nSuccessfully built 57f85fe3058c\nSuccessfully tagged maestro:latest\n","stderr":"","imageSize":66567713},"repair":{"startTime":1672898522814,"endTime":1672898522887,"violations":[{"name":"apkAddUseNoCache","position":{"start":32,"end":32,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"#\n# Copyright (c) 2017 TFG Co <backend@tfgco.com>\n# Author: TFG Co <backend@tfgco.com>\n#\n# Permission is hereby granted, free of charge, to any person obtaining a copy of\n# this software and associated documentation files (the \"Software\"), to deal in\n# the Software without restriction, including without limitation the rights to\n# use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n# the Software, and to permit persons to whom the Software is furnished to do so,\n# subject to the following conditions:\n# The above copyright notice and this permission notice shall be included in all\n# copies or substantial portions of the Software.\n#\n# THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n# FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n# COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n# IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n# CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n#\n\nFROM golang:1.18.4-alpine AS build-env\n\nWORKDIR /build\n\nCOPY go.mod go.sum ./\nRUN go mod download\n\nCOPY . /build\n\nRUN mkdir -p /app\n\nRUN apk add --no-cache --update make\n\nRUN cd /build && \\\n    make build-linux-x86_64 && \\\n    mv ./bin/maestro-linux-x86_64 /app/maestro && \\\n    mv internal/service/migrations /app/migrations && \\\n    mv ./config /app/config\n\n\nFROM alpine\n\nWORKDIR /app\n\nCOPY --from=build-env /app/maestro /app/maestro\nCOPY --from=build-env /app/migrations /app/migrations\nCOPY --from=build-env /app/config /app/config\n\nEXPOSE 8080 8081\n\nCMD /app/maestro\n"},"repairedBuild":{"startTime":1672898523067,"endTime":1672898689290,"error":null,"stdout":"Sending build context to Docker daemon  5.008MB\r\r\nStep 1/15 : FROM golang:1.18.4-alpine AS build-env\n ---> 759ab1463be2\nStep 2/15 : WORKDIR /build\n ---> Running in f776d98472f4\nRemoving intermediate container f776d98472f4\n ---> f13de17da6d0\nStep 3/15 : COPY go.mod go.sum ./\n ---> da44dd52b9df\nStep 4/15 : RUN go mod download\n ---> Running in ae38ecadd9b0\nRemoving intermediate container ae38ecadd9b0\n ---> 9859a32d7ab4\nStep 5/15 : COPY . /build\n ---> 8f8c29bcefd9\nStep 6/15 : RUN mkdir -p /app\n ---> Running in 962f6eccde3f\nRemoving intermediate container 962f6eccde3f\n ---> f744d3dcc6fa\nStep 7/15 : RUN apk add --no-cache --update make\n ---> Running in 55a7fe3a8451\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing make (4.3-r0)\nExecuting busybox-1.35.0-r15.trigger\nOK: 6 MiB in 16 packages\nRemoving intermediate container 55a7fe3a8451\n ---> 7ed30cfaffb4\nStep 8/15 : RUN cd /build &&     make build-linux-x86_64 &&     mv ./bin/maestro-linux-x86_64 /app/maestro &&     mv internal/service/migrations /app/migrations &&     mv ./config /app/config\n ---> Running in 22e54a145a37\nRemoving intermediate container 22e54a145a37\n ---> 15e7a38fa035\nStep 9/15 : FROM alpine\nlatest: Pulling from library/alpine\nc158987b0551: Already exists\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 10/15 : WORKDIR /app\n ---> Running in 4729d9532cc0\nRemoving intermediate container 4729d9532cc0\n ---> 36262be77729\nStep 11/15 : COPY --from=build-env /app/maestro /app/maestro\n ---> 97efcc73e8be\nStep 12/15 : COPY --from=build-env /app/migrations /app/migrations\n ---> a88fe6a76757\nStep 13/15 : COPY --from=build-env /app/config /app/config\n ---> 53988e1baade\nStep 14/15 : EXPOSE 8080 8081\n ---> Running in c1a0e4204931\nRemoving intermediate container c1a0e4204931\n ---> 0ac31bab0d3b\nStep 15/15 : CMD /app/maestro\n ---> Running in 74b866bff4e8\nRemoving intermediate container 74b866bff4e8\n ---> 2160b030007c\nSuccessfully built 2160b030007c\nSuccessfully tagged maestro:latest\n","stderr":"","imageSize":66567713}}