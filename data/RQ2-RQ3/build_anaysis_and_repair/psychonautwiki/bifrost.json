{"repository":"https://github.com/psychonautwiki/bifrost","dockerfilePath":"Dockerfile","startTime":1672627812572,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/psychonautwiki/bifrost'...\n","error":null,"commit":"35665219c08b1fce50f106b30a98ea1ab45633d9"},"originalBuild":{"startTimestamp":1672627813412,"endTimestamp":1672627906782,"error":null,"stdout":"Sending build context to Docker daemon  397.8kB\r\r\nStep 1/9 : FROM node:16.10.0-slim\n16.10.0-slim: Pulling from library/node\n07aded7c29c6: Pulling fs layer\n92706508d124: Pulling fs layer\n29e8836fa52b: Pulling fs layer\nc69c406f761b: Pulling fs layer\n1ad0d9e4f0be: Pulling fs layer\n07aded7c29c6: Waiting\n29e8836fa52b: Waiting\n92706508d124: Waiting\n1ad0d9e4f0be: Waiting\n92706508d124: Download complete\n07aded7c29c6: Verifying Checksum\n07aded7c29c6: Download complete\nc69c406f761b: Verifying Checksum\nc69c406f761b: Download complete\n29e8836fa52b: Verifying Checksum\n29e8836fa52b: Download complete\n1ad0d9e4f0be: Verifying Checksum\n1ad0d9e4f0be: Download complete\n07aded7c29c6: Pull complete\n92706508d124: Pull complete\n29e8836fa52b: Pull complete\nc69c406f761b: Pull complete\n1ad0d9e4f0be: Pull complete\nDigest: sha256:283d85e5a64183046abad478f5f98428720c1b30a72cc11d0cd1cedc1cb53493\nStatus: Downloaded newer image for node:16.10.0-slim\n ---> e2922f56946e\nStep 2/9 : RUN mkdir -p /usr/src/app\n ---> Running in c9554d909c01\nRemoving intermediate container c9554d909c01\n ---> 57f2d9ba3003\nStep 3/9 : WORKDIR /usr/src/app\n ---> Running in 9aeffc059207\nRemoving intermediate container 9aeffc059207\n ---> 56b29ebf0057\nStep 4/9 : ARG NODE_ENV\n ---> Running in 9b5b7b5f5b08\nRemoving intermediate container 9b5b7b5f5b08\n ---> 115a1741527c\nStep 5/9 : ENV NODE_ENV $NODE_ENV\n ---> Running in 79de9b25953c\nRemoving intermediate container 79de9b25953c\n ---> a7fdc3fc2b40\nStep 6/9 : COPY package.json /usr/src/app/\n ---> a6e4962626f5\nStep 7/9 : RUN yarn --ignore-engines; yarn cache clean\n ---> Running in afde66b9fe7d\nyarn install v1.22.5\ninfo No lockfile found.\n[1/4] Resolving packages...\n\u001b[91mwarning @types/mongodb@4.0.7: mongodb provides its own types. @types/mongodb is no longer needed.\n\u001b[0m\u001b[91mwarning apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\nwarning apollo-server-core > apollo-datasource > apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-types > apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-types > apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-plugin-base > apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-express > apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\nwarning apollo-server-express > apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning graphql-server-express@1.4.1: This package has been renamed to 'apollo-server-express'.  Please update your dependencies!\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express@1.4.0: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core@1.4.0: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-tracing@0.1.4: The `apollo-tracing` package is no longer part of Apollo Server 3. See https://www.apollographql.com/docs/apollo-server/migration/#tracing for details\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-cache-control@0.1.1: The functionality provided by the `apollo-cache-control` package is built in to `apollo-server-core` starting with Apollo Server 3. See https://www.apollographql.com/docs/apollo-server/migration/#cachecontrol for details.\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > graphql-extensions@0.0.10: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-tracing > graphql-extensions@0.0.10: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-cache-control > graphql-extensions@0.0.10: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > graphql-extensions > core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > express-graphql@0.12.0\" has incorrect peer dependency \"graphql@^14.7.0 || ^15.3.0\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core@1.4.0\" has incorrect peer dependency \"graphql@^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core > apollo-tracing@0.1.4\" has incorrect peer dependency \"graphql@0.10.x - 0.13.x\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core > apollo-cache-control@0.1.1\" has incorrect peer dependency \"graphql@0.10.x - 0.13.x\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core > graphql-extensions@0.0.10\" has incorrect peer dependency \"graphql@0.10.x - 0.13.x\".\n\u001b[0m[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 43.71s.\nyarn cache v1.22.5\nsuccess Cleared cache.\nDone in 0.67s.\nRemoving intermediate container afde66b9fe7d\n ---> cb95c73b01c5\nStep 8/9 : COPY . /usr/src/app\n ---> 0a8e325eef92\nStep 9/9 : CMD [ \"yarn\", \"start\" ]\n ---> Running in 5f836a63b4bc\nRemoving intermediate container 5f836a63b4bc\n ---> 97eb47442ce2\nSuccessfully built 97eb47442ce2\nSuccessfully tagged bifrost:latest\n","stderr":"","imageSize":222089431},"repair":{"violations":[{"name":"mkdirUsrSrcThenRemove","position":{"start":2,"end":2,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:16.10.0-slim\n\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\n\nARG NODE_ENV\nENV NODE_ENV $NODE_ENV\nCOPY package.json /usr/src/app/\nRUN yarn --ignore-engines; yarn cache clean\nCOPY . /usr/src/app\n\nCMD [ \"yarn\", \"start\" ]\n"},"repairedBuild":{"startTimestamp":1672627907934,"endTimestamp":1672627929420,"error":null,"stdout":"Sending build context to Docker daemon  397.8kB\r\r\nStep 1/9 : FROM node:16.10.0-slim\n ---> e2922f56946e\nStep 2/9 : RUN mkdir -p /usr/src/app\n ---> Running in f348f7d2d6d2\nRemoving intermediate container f348f7d2d6d2\n ---> 375c95738430\nStep 3/9 : WORKDIR /usr/src/app\n ---> Running in 6487c9391849\nRemoving intermediate container 6487c9391849\n ---> 93e1b20792b3\nStep 4/9 : ARG NODE_ENV\n ---> Running in b860b88af61a\nRemoving intermediate container b860b88af61a\n ---> ddaf2180088d\nStep 5/9 : ENV NODE_ENV $NODE_ENV\n ---> Running in 73124fe6d943\nRemoving intermediate container 73124fe6d943\n ---> bcf2b94c12cb\nStep 6/9 : COPY package.json /usr/src/app/\n ---> 64843de2265c\nStep 7/9 : RUN yarn --ignore-engines; yarn cache clean\n ---> Running in 88f55d30c5a8\nyarn install v1.22.5\ninfo No lockfile found.\n[1/4] Resolving packages...\n\u001b[91mwarning @types/mongodb@4.0.7: mongodb provides its own types. @types/mongodb is no longer needed.\n\u001b[0m\u001b[91mwarning apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\nwarning apollo-server-core > apollo-datasource > apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\nwarning apollo-server-core > apollo-server-plugin-base > apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-core > apollo-server-types > apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\nwarning apollo-server-core > apollo-server-types > apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-express > apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning apollo-server-express > apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning graphql-server-express@1.4.1: This package has been renamed to 'apollo-server-express'.  Please update your dependencies!\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express@1.4.0: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core@1.4.0: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > graphql-extensions@0.0.10: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-tracing@0.1.4: The `apollo-tracing` package is no longer part of Apollo Server 3. See https://www.apollographql.com/docs/apollo-server/migration/#tracing for details\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-tracing > graphql-extensions@0.0.10: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-cache-control@0.1.1: The functionality provided by the `apollo-cache-control` package is built in to `apollo-server-core` starting with Apollo Server 3. See https://www.apollographql.com/docs/apollo-server/migration/#cachecontrol for details.\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > apollo-cache-control > graphql-extensions@0.0.10: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/\n\u001b[0m\u001b[91mwarning graphql-server-express > apollo-server-express > apollo-server-core > graphql-extensions > core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m[2/4] Fetching packages...\n[3/4] Linking dependencies...\n\u001b[91mwarning \" > express-graphql@0.12.0\" has incorrect peer dependency \"graphql@^14.7.0 || ^15.3.0\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core@1.4.0\" has incorrect peer dependency \"graphql@^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core > graphql-extensions@0.0.10\" has incorrect peer dependency \"graphql@0.10.x - 0.13.x\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core > apollo-tracing@0.1.4\" has incorrect peer dependency \"graphql@0.10.x - 0.13.x\".\n\u001b[0m\u001b[91mwarning \"graphql-server-express > apollo-server-express > apollo-server-core > apollo-cache-control@0.1.1\" has incorrect peer dependency \"graphql@0.10.x - 0.13.x\".\n\u001b[0m[4/4] Building fresh packages...\nsuccess Saved lockfile.\nDone in 13.12s.\nyarn cache v1.22.5\nsuccess Cleared cache.\nDone in 0.67s.\nRemoving intermediate container 88f55d30c5a8\n ---> 13c9e5df8870\nStep 8/9 : COPY . /usr/src/app\n ---> 525b40f5df4d\nStep 9/9 : CMD [ \"yarn\", \"start\" ]\n ---> Running in aa15b66ceeeb\nRemoving intermediate container aa15b66ceeeb\n ---> e082b90bcb7f\nSuccessfully built e082b90bcb7f\nSuccessfully tagged bifrost:latest\n","stderr":"","imageSize":222089517},"endTime":1672627929840}