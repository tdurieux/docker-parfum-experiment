{"repository":"https://github.com/ory/oathkeeper-maester","dockerfilePath":"Dockerfile","startTime":1672560407715,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ory/oathkeeper-maester'...\n","error":null,"commit":"b2b00cd9968529ff72879485a4df22bf72e99e5a"},"originalBuild":{"startTimestamp":1672560408652,"endTimestamp":1672560521468,"error":null,"stdout":"Sending build context to Docker daemon  541.2kB\r\r\nStep 1/9 : FROM golang:1.16 as builder\n ---> 972d8c0bc0fc\nStep 2/9 : WORKDIR /go/src/app\n ---> Running in 7b9e8c24eb45\nRemoving intermediate container 7b9e8c24eb45\n ---> ce83d9e0f92f\nStep 3/9 : COPY . .\n ---> 80abc6cd3c2c\nStep 4/9 : RUN apt update &&    apt install ca-certificates &&    make manager\n ---> Running in d62166a3ecb2\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (5956 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n48 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\n0 upgraded, 0 newly installed, 0 to remove and 48 not upgraded.\ngo get sigs.k8s.io/controller-tools/cmd/controller-gen@v0.5.0\n\u001b[91mgo: downloading sigs.k8s.io/controller-tools v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.9.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/api v0.20.2\ngo: downloading k8s.io/apimachinery v0.20.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20210106214847-113979e3529a\ngo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading k8s.io/apiextensions-apiserver v0.20.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\n\u001b[0m\u001b[91mgo: downloading github.com/gobuffalo/flect v0.2.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\ngo: downloading github.com/mattn/go-colorable v0.1.8\n\u001b[0m\u001b[91mgo: downloading github.com/inconshreveable/mousetrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220114195835-da31bd327af9\n\u001b[0m\u001b[91mgo: downloading k8s.io/utils v0.0.0-20210111153108-fddb29f9d009\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog v0.2.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/structured-merge-diff/v4 v4.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210525063256-abc453219eb5\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog/v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.12\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/logr v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v1.0.2\ngo: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.6\n\u001b[0m\u001b[91mgo get: added k8s.io/klog v0.2.0\ngo get: added sigs.k8s.io/controller-tools v0.5.0\n\u001b[0m/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=./api/...\ngo vet ./...\n\u001b[91mgo: downloading github.com/stretchr/testify v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/onsi/gomega v1.10.2\n\u001b[0m\u001b[91mgo: downloading k8s.io/client-go v0.20.2\ngo: downloading github.com/onsi/ginkgo v1.16.4\n\u001b[0m\u001b[91mgo: downloading github.com/bitly/go-simplejson v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/avast/retry-go v2.4.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/zapr v0.2.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/zap v1.15.0\n\u001b[0m\u001b[91mgo: downloading github.com/evanphx/json-patch v4.9.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.12.2\n\u001b[0m\u001b[91mgo: downloading k8s.io/component-base v0.20.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e\n\u001b[0m\u001b[91mgo: downloading k8s.io/kube-openapi v0.0.0-20201113171705-d219536bb9fd\n\u001b[0m\u001b[91mgo: downloading gomodules.xyz/jsonpatch/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.4.9\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.32.1\ngo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.7.3\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.2-0.20181231171920-c182affec369\n\u001b[0m\u001b[91mgo: downloading go.uber.org/multierr v1.5.0\ngo: downloading go.uber.org/atomic v1.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/nxadm/tail v1.4.8\n\u001b[0m\u001b[91mgo: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gnostic v0.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20210514164344-f6687ab2804c\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20201216223049-8b5274cf687f\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.10\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.5\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.65.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0mCGO_ENABLED=0 GO111MODULE=on GOOS=linux GOARCH=amd64 go build -a -o manager main.go\nRemoving intermediate container d62166a3ecb2\n ---> 0001cd25da5f\nStep 5/9 : FROM gcr.io/distroless/static:latest\nlatest: Pulling from distroless/static\nfc251a6e7981: Pulling fs layer\nfc251a6e7981: Verifying Checksum\nfc251a6e7981: Download complete\nfc251a6e7981: Pull complete\nDigest: sha256:c3c3d0230d487c0ad3a0d87ad03ee02ea2ff0b3dcce91ca06a1019e07de05f12\nStatus: Downloaded newer image for gcr.io/distroless/static:latest\n ---> 901590160d4d\nStep 6/9 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 6c1d82c69496\nStep 7/9 : COPY --from=builder /go/src/app/manager .\n ---> fc864fdd8101\nStep 8/9 : USER 1000\n ---> Running in 4ffe0e632f3e\nRemoving intermediate container 4ffe0e632f3e\n ---> f39d68ee2841\nStep 9/9 : ENTRYPOINT [\"/manager\"]\n ---> Running in 6eef33052499\nRemoving intermediate container 6eef33052499\n ---> 343dedae6f62\nSuccessfully built 343dedae6f62\nSuccessfully tagged oathkeeper-maester:latest\n","stderr":"","imageSize":46257766},"repair":{"violations":[{"name":"ruleAptGetInstallUseY","position":{"start":5,"end":5,"columnStart":4,"columnEnd":31}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":5,"end":5,"columnStart":4,"columnEnd":31}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":5,"end":5,"columnStart":4,"columnEnd":31}}],"repairedDockerfile":"# Build the manager binary\nFROM golang:1.16 as builder\nWORKDIR /go/src/app\nCOPY . .\nRUN apt update && \\\n    apt install -y --no-install-recommends ca-certificates && \\\n    make manager\n\nFROM gcr.io/distroless/static:latest\nCOPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=builder /go/src/app/manager .\nUSER 1000\n\nENTRYPOINT [\"/manager\"]\n"},"repairedBuild":{"startTimestamp":1672560522019,"endTimestamp":1672560653094,"error":null,"stdout":"Sending build context to Docker daemon  541.2kB\r\r\nStep 1/9 : FROM golang:1.16 as builder\n ---> 972d8c0bc0fc\nStep 2/9 : WORKDIR /go/src/app\n ---> Running in 777c08bd6549\nRemoving intermediate container 777c08bd6549\n ---> c68de2bbf1bc\nStep 3/9 : COPY . .\n ---> 5bcd13ae0ce0\nStep 4/9 : RUN apt update &&     apt install -y --no-install-recommends ca-certificates &&     make manager\n ---> Running in 55a18f394dcd\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nGet:6 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nFetched 8616 kB in 1s (6330 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n48 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20210119).\n0 upgraded, 0 newly installed, 0 to remove and 48 not upgraded.\ngo get sigs.k8s.io/controller-tools/cmd/controller-gen@v0.5.0\n\u001b[91mgo: downloading sigs.k8s.io/controller-tools v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.9.0\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/yaml v1.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20210106214847-113979e3529a\ngo: downloading k8s.io/apimachinery v0.20.2\n\u001b[0m\u001b[91mgo: downloading k8s.io/apiextensions-apiserver v0.20.2\ngo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\n\u001b[0m\u001b[91mgo: downloading k8s.io/api v0.20.2\ngo: downloading github.com/gobuffalo/flect v0.2.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.8\n\u001b[0m\u001b[91mgo: downloading github.com/inconshreveable/mousetrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220114195835-da31bd327af9\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/inf.v0 v0.9.1\n\u001b[0m\u001b[91mgo: downloading sigs.k8s.io/structured-merge-diff/v4 v4.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/gofuzz v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210525063256-abc453219eb5\n\u001b[0m\u001b[91mgo: downloading k8s.io/utils v0.0.0-20210111153108-fddb29f9d009\n\u001b[0m\u001b[91mgo: downloading k8s.io/klog/v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/logr v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/json-iterator/go v1.1.12\n\u001b[0m\u001b[91mgo: downloading github.com/modern-go/reflect2 v1.0.2\ngo: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.3.0\n\u001b[0m\u001b[91mgo get: added k8s.io/klog v0.2.0\ngo get: added sigs.k8s.io/controller-tools v0.5.0\n\u001b[0m/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=./api/...\ngo vet ./...\n\u001b[91mgo: downloading github.com/stretchr/testify v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/onsi/ginkgo v1.16.4\n\u001b[0m\u001b[91mgo: downloading k8s.io/client-go v0.20.2\n\u001b[0m\u001b[91mgo: downloading github.com/bitly/go-simplejson v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/avast/retry-go v2.4.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/onsi/gomega v1.10.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/zapr v0.2.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/zap v1.15.0\n\u001b[0m\u001b[91mgo: downloading github.com/evanphx/json-patch v4.9.0+incompatible\n\u001b[0m\u001b[91mgo: downloading k8s.io/kube-openapi v0.0.0-20201113171705-d219536bb9fd\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.12.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e\n\u001b[0m\u001b[91mgo: downloading k8s.io/component-base v0.20.2\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading gomodules.xyz/jsonpatch/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.4.9\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.6.0\ngo: downloading go.uber.org/multierr v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.32.1\ngo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading google.golang.org/protobuf v1.28.0\ngo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.7.3\n\u001b[0m\u001b[91mgo: downloading github.com/nxadm/tail v1.4.8\n\u001b[0m\u001b[91mgo: downloading gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.2-0.20181231171920-c182affec369\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gnostic v0.5.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20210514164344-f6687ab2804c\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.10\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20201216223049-8b5274cf687f\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.5\ngo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.65.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0mCGO_ENABLED=0 GO111MODULE=on GOOS=linux GOARCH=amd64 go build -a -o manager main.go\nRemoving intermediate container 55a18f394dcd\n ---> f14340523e0d\nStep 5/9 : FROM gcr.io/distroless/static:latest\n ---> 901590160d4d\nStep 6/9 : COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\n ---> 4aecff75e60a\nStep 7/9 : COPY --from=builder /go/src/app/manager .\n ---> 1a08ad80f07d\nStep 8/9 : USER 1000\n ---> Running in 9952b1da40bb\nRemoving intermediate container 9952b1da40bb\n ---> e3fe722745b6\nStep 9/9 : ENTRYPOINT [\"/manager\"]\n ---> Running in 5248f360da8d\nRemoving intermediate container 5248f360da8d\n ---> 0e09ecad51a3\nSuccessfully built 0e09ecad51a3\nSuccessfully tagged oathkeeper-maester:latest\n","stderr":"","imageSize":46257766},"endTime":1672560657464}