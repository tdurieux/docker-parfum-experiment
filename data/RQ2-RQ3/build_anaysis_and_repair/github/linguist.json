{"repository":"https://github.com/github/linguist","dockerfilePath":"Dockerfile","startTime":1672845750332,"endTime":1672846149130,"clone":{"startTime":1672845750332,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/github/linguist'...\n","error":null,"endTime":1672845752049,"commit":"c1c34e5260797b4d598f5ec76f19723bfc5a1894"},"originalBuild":{"startTime":1672845752151,"endTime":1672846023109,"error":null,"stdout":"Sending build context to Docker daemon  32.44MB\r\r\nStep 1/3 : FROM ruby:2-alpine3.13\n2-alpine3.13: Pulling from library/ruby\n5758d4e389a3: Already exists\nc86e849bc66e: Pulling fs layer\n94a2fc84ba5b: Pulling fs layer\nb33877ba8182: Pulling fs layer\ndc7e2bfec2fe: Pulling fs layer\ndc7e2bfec2fe: Waiting\n94a2fc84ba5b: Verifying Checksum\n94a2fc84ba5b: Download complete\nc86e849bc66e: Download complete\ndc7e2bfec2fe: Verifying Checksum\nc86e849bc66e: Pull complete\n94a2fc84ba5b: Pull complete\nb33877ba8182: Verifying Checksum\nb33877ba8182: Download complete\nb33877ba8182: Pull complete\ndc7e2bfec2fe: Pull complete\nDigest: sha256:948dc3d574a7ec748fce7375eae835792e9c9d3aac6348699c19e7edf688728c\nStatus: Downloaded newer image for ruby:2-alpine3.13\n ---> 696fe9254806\nStep 2/3 : RUN apk --update add --virtual build_deps     build-base     libc-dev     cmake     && apk add icu-dev openssl-dev     && gem install github-linguist     && apk del build_deps \t&& rm /var/cache/apk/*\n ---> Running in 75e999acae07\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/31) Installing binutils (2.35.2-r1)\n(2/31) Installing libmagic (5.39-r0)\n(3/31) Installing file (5.39-r0)\n(4/31) Installing libgomp (10.2.1_pre1-r3)\n(5/31) Installing libatomic (10.2.1_pre1-r3)\n(6/31) Installing libgphobos (10.2.1_pre1-r3)\n(7/31) Installing isl22 (0.22-r0)\n(8/31) Installing mpfr4 (4.1.0-r0)\n(9/31) Installing mpc1 (1.2.0-r0)\n(10/31) Installing gcc (10.2.1_pre1-r3)\n(11/31) Installing musl-dev (1.2.2-r1)\n(12/31) Installing libc-dev (0.7.2-r3)\n(13/31) Installing g++ (10.2.1_pre1-r3)\n(14/31) Installing make (4.3-r0)\n(15/31) Installing fortify-headers (1.1-r0)\n(16/31) Installing patch (2.7.6-r7)\n(17/31) Installing build-base (0.5-r3)\n(18/31) Installing libacl (2.2.53-r0)\n(19/31) Installing libbz2 (1.0.8-r1)\n(20/31) Installing expat (2.2.10-r8)\n(21/31) Installing lz4-libs (1.9.2-r1)\n(22/31) Installing xz-libs (5.2.5-r1)\n(23/31) Installing zstd-libs (1.4.9-r0)\n(24/31) Installing libarchive (3.5.3-r0)\n(25/31) Installing brotli-libs (1.0.9-r3)\n(26/31) Installing nghttp2-libs (1.42.0-r1)\n(27/31) Installing libcurl (7.79.1-r3)\n(28/31) Installing rhash-libs (1.4.1-r0)\n(29/31) Installing libuv (1.40.0-r0)\n(30/31) Installing cmake (3.18.4-r1)\n(31/31) Installing build_deps (20230104.152249)\nExecuting busybox-1.32.1-r7.trigger\nOK: 256 MiB in 67 packages\n(1/6) Upgrading libcrypto1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(2/6) Upgrading libssl1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(3/6) Installing icu-libs (67.1-r2)\n(4/6) Installing icu (67.1-r2)\n(5/6) Installing icu-dev (67.1-r2)\n(6/6) Installing openssl-dev (1.1.1s-r0)\nExecuting busybox-1.32.1-r7.trigger\nExecuting ca-certificates-20191127-r5.trigger\nOK: 294 MiB in 71 packages\nBuilding native extensions. This could take a while...\nSuccessfully installed charlock_holmes-0.7.7\nSuccessfully installed mini_mime-1.1.2\nBuilding native extensions. This could take a while...\nSuccessfully installed rugged-1.5.0.1\nBuilding native extensions. This could take a while...\nSuccessfully installed github-linguist-7.24.1\n4 gems installed\n(1/31) Purging build_deps (20230104.152249)\n(2/31) Purging build-base (0.5-r3)\n(3/31) Purging file (5.39-r0)\n(4/31) Purging g++ (10.2.1_pre1-r3)\n(5/31) Purging gcc (10.2.1_pre1-r3)\n(6/31) Purging binutils (2.35.2-r1)\n(7/31) Purging libatomic (10.2.1_pre1-r3)\n(8/31) Purging libgomp (10.2.1_pre1-r3)\n(9/31) Purging libgphobos (10.2.1_pre1-r3)\n(10/31) Purging make (4.3-r0)\n(11/31) Purging fortify-headers (1.1-r0)\n(12/31) Purging patch (2.7.6-r7)\n(13/31) Purging libc-dev (0.7.2-r3)\n(14/31) Purging musl-dev (1.2.2-r1)\n(15/31) Purging cmake (3.18.4-r1)\n(16/31) Purging libmagic (5.39-r0)\n(17/31) Purging isl22 (0.22-r0)\n(18/31) Purging mpc1 (1.2.0-r0)\n(19/31) Purging mpfr4 (4.1.0-r0)\n(20/31) Purging libarchive (3.5.3-r0)\n(21/31) Purging libacl (2.2.53-r0)\n(22/31) Purging libbz2 (1.0.8-r1)\n(23/31) Purging expat (2.2.10-r8)\n(24/31) Purging lz4-libs (1.9.2-r1)\n(25/31) Purging xz-libs (5.2.5-r1)\n(26/31) Purging zstd-libs (1.4.9-r0)\n(27/31) Purging libcurl (7.79.1-r3)\n(28/31) Purging brotli-libs (1.0.9-r3)\n(29/31) Purging nghttp2-libs (1.42.0-r1)\n(30/31) Purging rhash-libs (1.4.1-r0)\n(31/31) Purging libuv (1.40.0-r0)\nExecuting busybox-1.32.1-r7.trigger\nOK: 58 MiB in 40 packages\nRemoving intermediate container 75e999acae07\n ---> 0813009d01bc\nStep 3/3 : CMD [\"github-linguist\"]\n ---> Running in c10db559a425\nRemoving intermediate container c10db559a425\n ---> fd009d5e1bec\nSuccessfully built fd009d5e1bec\nSuccessfully tagged linguist:latest\n","stderr":"","imageSize":158931581},"repair":{"startTime":1672846023196,"endTime":1672846023265,"violations":[{"name":"apkAddUseNoCache","position":{"start":2,"end":5,"columnStart":4,"columnEnd":9}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":7,"columnEnd":34}}],"repairedDockerfile":"FROM ruby:2-alpine3.13\n\nRUN apk --update --no-cache add --virtual build_deps \\\n    build-base \\\n    libc-dev \\\n    cmake \\\n    && apk add --no-cache icu-dev openssl-dev \\\n    && gem install github-linguist \\\n    && apk del build_deps \\\n\t&& rm /var/cache/apk/*\n\nCMD [\"github-linguist\"]\n"},"repairedBuild":{"startTime":1672846023701,"endTime":1672846148969,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t linguist:latest -f /tmp/dinghy-analysis/github/linguist/Dockerfile ."},"stdout":"Sending build context to Docker daemon  32.44MB\r\r\nStep 1/3 : FROM ruby:2-alpine3.13\n ---> 696fe9254806\nStep 2/3 : RUN apk --update --no-cache add --virtual build_deps     build-base     libc-dev     cmake     && apk add --no-cache icu-dev openssl-dev     && gem install github-linguist     && apk del build_deps \t&& rm /var/cache/apk/*\n ---> Running in 71937172d3b4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/31) Installing binutils (2.35.2-r1)\n(2/31) Installing libmagic (5.39-r0)\n(3/31) Installing file (5.39-r0)\n(4/31) Installing libgomp (10.2.1_pre1-r3)\n(5/31) Installing libatomic (10.2.1_pre1-r3)\n(6/31) Installing libgphobos (10.2.1_pre1-r3)\n(7/31) Installing isl22 (0.22-r0)\n(8/31) Installing mpfr4 (4.1.0-r0)\n(9/31) Installing mpc1 (1.2.0-r0)\n(10/31) Installing gcc (10.2.1_pre1-r3)\n(11/31) Installing musl-dev (1.2.2-r1)\n(12/31) Installing libc-dev (0.7.2-r3)\n(13/31) Installing g++ (10.2.1_pre1-r3)\n(14/31) Installing make (4.3-r0)\n(15/31) Installing fortify-headers (1.1-r0)\n(16/31) Installing patch (2.7.6-r7)\n(17/31) Installing build-base (0.5-r3)\n(18/31) Installing libacl (2.2.53-r0)\n(19/31) Installing libbz2 (1.0.8-r1)\n(20/31) Installing expat (2.2.10-r8)\n(21/31) Installing lz4-libs (1.9.2-r1)\n(22/31) Installing xz-libs (5.2.5-r1)\n(23/31) Installing zstd-libs (1.4.9-r0)\n(24/31) Installing libarchive (3.5.3-r0)\n(25/31) Installing brotli-libs (1.0.9-r3)\n(26/31) Installing nghttp2-libs (1.42.0-r1)\n(27/31) Installing libcurl (7.79.1-r3)\n(28/31) Installing rhash-libs (1.4.1-r0)\n(29/31) Installing libuv (1.40.0-r0)\n(30/31) Installing cmake (3.18.4-r1)\n(31/31) Installing build_deps (20230104.152711)\nExecuting busybox-1.32.1-r7.trigger\nOK: 256 MiB in 67 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/6) Upgrading libcrypto1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(2/6) Upgrading libssl1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(3/6) Installing icu-libs (67.1-r2)\n(4/6) Installing icu (67.1-r2)\n(5/6) Installing icu-dev (67.1-r2)\n(6/6) Installing openssl-dev (1.1.1s-r0)\nExecuting busybox-1.32.1-r7.trigger\nExecuting ca-certificates-20191127-r5.trigger\nOK: 294 MiB in 71 packages\nBuilding native extensions. This could take a while...\nSuccessfully installed charlock_holmes-0.7.7\nSuccessfully installed mini_mime-1.1.2\nBuilding native extensions. This could take a while...\nSuccessfully installed rugged-1.5.0.1\nBuilding native extensions. This could take a while...\nSuccessfully installed github-linguist-7.24.1\n4 gems installed\n\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.13/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.13/community: No such file or directory\n\u001b[0m(1/31) Purging build_deps (20230104.152711)\n(2/31) Purging build-base (0.5-r3)\n(3/31) Purging file (5.39-r0)\n(4/31) Purging g++ (10.2.1_pre1-r3)\n(5/31) Purging gcc (10.2.1_pre1-r3)\n(6/31) Purging binutils (2.35.2-r1)\n(7/31) Purging libatomic (10.2.1_pre1-r3)\n(8/31) Purging libgomp (10.2.1_pre1-r3)\n(9/31) Purging libgphobos (10.2.1_pre1-r3)\n(10/31) Purging make (4.3-r0)\n(11/31) Purging fortify-headers (1.1-r0)\n(12/31) Purging patch (2.7.6-r7)\n(13/31) Purging libc-dev (0.7.2-r3)\n(14/31) Purging musl-dev (1.2.2-r1)\n(15/31) Purging cmake (3.18.4-r1)\n(16/31) Purging libmagic (5.39-r0)\n(17/31) Purging isl22 (0.22-r0)\n(18/31) Purging mpc1 (1.2.0-r0)\n(19/31) Purging mpfr4 (4.1.0-r0)\n(20/31) Purging libarchive (3.5.3-r0)\n(21/31) Purging libacl (2.2.53-r0)\n(22/31) Purging libbz2 (1.0.8-r1)\n(23/31) Purging expat (2.2.10-r8)\n(24/31) Purging lz4-libs (1.9.2-r1)\n(25/31) Purging xz-libs (5.2.5-r1)\n(26/31) Purging zstd-libs (1.4.9-r0)\n(27/31) Purging libcurl (7.79.1-r3)\n(28/31) Purging brotli-libs (1.0.9-r3)\n(29/31) Purging nghttp2-libs (1.42.0-r1)\n(30/31) Purging rhash-libs (1.4.1-r0)\n(31/31) Purging libuv (1.40.0-r0)\nExecuting busybox-1.32.1-r7.trigger\nOK: 58 MiB in 40 packages\n\u001b[91mrm: can't remove '/var/cache/apk/*': No such file or directory\n\u001b[0mRemoving intermediate container 71937172d3b4\n","stderr":"The command '/bin/sh -c apk --update --no-cache add --virtual build_deps     build-base     libc-dev     cmake     && apk add --no-cache icu-dev openssl-dev     && gem install github-linguist     && apk del build_deps \t&& rm /var/cache/apk/*' returned a non-zero code: 1\n"}}