{"repository":"https://github.com/synzen/monitorss-clone","dockerfilePath":"Dockerfile","startTime":1672566082778,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/synzen/monitorss-clone'...\n","error":null,"commit":"93122d0def6bcb5b8d505ff4485d4fc1c200beff"},"originalBuild":{"startTimestamp":1672566083619,"endTimestamp":1672566565345,"error":null,"stdout":"Sending build context to Docker daemon  180.2kB\r\r\nStep 1/14 : FROM node:12-stretch AS build\n12-stretch: Pulling from library/node\nDigest: sha256:01627afeb110b3054ba4a1405541ca095c8bfca1cb6f2be9479c767a2711879e\nStatus: Downloaded newer image for node:12-stretch\n ---> 6c8de432fc7f\nStep 2/14 : RUN apt-get update && apt-get install -y         g++         git         make         python     && mkdir -p /usr/src/node_modules     && chown -R node:node /usr/src\n ---> Running in eff7e9bed728\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 2s (3945 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:6.3.0-4).\ngit is already the newest version (1:2.11.0-3+deb9u7).\nmake is already the newest version (4.1-9.1).\npython is already the newest version (2.7.13-2).\npython set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 38 not upgraded.\nRemoving intermediate container eff7e9bed728\n ---> 5c30e32d3825\nStep 3/14 : WORKDIR /usr/src\n ---> Running in c99037848cf3\nRemoving intermediate container c99037848cf3\n ---> 0a4546120120\nStep 4/14 : COPY package*.json ./\n ---> 7a85021640e4\nStep 5/14 : USER node\n ---> Running in deed213392fd\nRemoving intermediate container deed213392fd\n ---> 333b8eb29e13\nStep 6/14 : RUN npm install\n ---> Running in f23910946f7b\n\n> erlpack@github:discordapp/erlpack#3b793a333dd3f6a140b9168ea91e9fa9660753ce install /usr/src/node_modules/erlpack\n> node-gyp rebuild\n\nmake: Entering directory '/usr/src/node_modules/erlpack/build'\n  CC(target) Release/obj.target/zlib/vendor/zlib/adler32.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/compress.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/crc32.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/deflate.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzclose.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzlib.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzread.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzwrite.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/infback.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/inffast.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/inflate.o\n\u001b[91m../vendor/zlib/inflate.c: In function 'inflateMark':\n../vendor/zlib/inflate.c:1507:61: warning: left shift of negative value [-Wshift-negative-value]\n     if (strm == Z_NULL || strm->state == Z_NULL) return -1L << 16;\n                                                             ^~\n\u001b[0m  CC(target) Release/obj.target/zlib/vendor/zlib/inftrees.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/trees.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/uncompr.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/zutil.o\n  AR(target) Release/obj.target/vendor/zlib.a\n  COPY Release/zlib.a\n  CXX(target) Release/obj.target/erlpack/js/erlpack.o\n  SOLINK_MODULE(target) Release/obj.target/erlpack.node\n  COPY Release/erlpack.node\nmake: Leaving directory '/usr/src/node_modules/erlpack/build'\n\n> bufferutil@4.0.6 install /usr/src/node_modules/bufferutil\n> node-gyp-build\n\n\n> utf-8-validate@5.0.9 install /usr/src/node_modules/utf-8-validate\n> node-gyp-build\n\n\n> zeromq@6.0.0-beta.6 install /usr/src/node_modules/zeromq\n> node-gyp-build\n\n\n> zlib-sync@0.1.7 install /usr/src/node_modules/zlib-sync\n> node-gyp rebuild\n\nmake: Entering directory '/usr/src/node_modules/zlib-sync/build'\n  CC(target) Release/obj.target/zlib/deps/zlib/adler32.o\n  CC(target) Release/obj.target/zlib/deps/zlib/compress.o\n  CC(target) Release/obj.target/zlib/deps/zlib/crc32.o\n  CC(target) Release/obj.target/zlib/deps/zlib/deflate.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzclose.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzlib.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzread.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzwrite.o\n  CC(target) Release/obj.target/zlib/deps/zlib/infback.o\n  CC(target) Release/obj.target/zlib/deps/zlib/inffast.o\n  CC(target) Release/obj.target/zlib/deps/zlib/inflate.o\n  CC(target) Release/obj.target/zlib/deps/zlib/inftrees.o\n  CC(target) Release/obj.target/zlib/deps/zlib/trees.o\n  CC(target) Release/obj.target/zlib/deps/zlib/uncompr.o\n  CC(target) Release/obj.target/zlib/deps/zlib/zutil.o\n  AR(target) Release/obj.target/deps/zlib.a\n  COPY Release/zlib.a\n  CXX(target) Release/obj.target/zlib_sync/src/zlib_sync.o\n  SOLINK_MODULE(target) Release/obj.target/zlib_sync.node\n  COPY Release/zlib_sync.node\nmake: Leaving directory '/usr/src/node_modules/zlib-sync/build'\nadded 419 packages from 450 contributors and audited 419 packages in 424.129s\n\n52 packages are looking for funding\n  run `npm fund` for details\n\nfound 12 vulnerabilities (2 low, 2 moderate, 7 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f23910946f7b\n ---> 45f52b98fa99\nStep 7/14 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 8/14 : RUN mkdir /app     && chown -R node:node /app\n ---> Running in ea85d1947d33\nRemoving intermediate container ea85d1947d33\n ---> 5cf5e35b7ce0\nStep 9/14 : WORKDIR /app\n ---> Running in 1a0e284b8bdb\nRemoving intermediate container 1a0e284b8bdb\n ---> 072f1caabaf1\nStep 10/14 : COPY --from=build /usr/src .\n ---> 28dc7e768927\nStep 11/14 : COPY --chown=node:node . .\n ---> d827f5078312\nStep 12/14 : USER node\n ---> Running in 3182922669ce\nRemoving intermediate container 3182922669ce\n ---> d915ef5f163b\nStep 13/14 : ENV DRSS_BOT_TOKEN='drss_docker_token'     DRSS_DATABASE_URI='mongodb://mongo:27017/rss'\n ---> Running in 3eb9d3cc41db\nRemoving intermediate container 3eb9d3cc41db\n ---> c0bb60e9ef48\nStep 14/14 : CMD [\"node\", \"server.js\"]\n ---> Running in 6aba73799e2d\nRemoving intermediate container 6aba73799e2d\n ---> 194549cc7a0f\nSuccessfully built 194549cc7a0f\nSuccessfully tagged monitorss-clone:latest\n","stderr":"","imageSize":186322333},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":15,"end":15,"columnStart":4,"columnEnd":15}},{"name":"mkdirUsrSrcThenRemove","position":{"start":7,"end":7,"columnStart":7,"columnEnd":37}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":2,"end":6,"columnStart":22,"columnEnd":14}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":6,"columnStart":22,"columnEnd":14}}],"repairedDockerfile":"FROM node:12-stretch AS build\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n        g++ \\\n        git \\\n        make \\\n        python \\\n    && mkdir -p /usr/src/node_modules \\\n    && chown -R node:node /usr/src\nWORKDIR /usr/src\n# Copy the package.json first before copying app\nCOPY package*.json ./\nUSER node\n# If package.json hasn't changed, Docker uses same image layer, and npm install\n# will be skipped since Docker assumes output is the same as before\nRUN npm install\n\n\nFROM node:12-alpine\n\nRUN mkdir /app \\\n    && chown -R node:node /app\nWORKDIR /app\nCOPY --from=build /usr/src .\n# Copy the application from host machine directory argument of docker build\n# to virtual machine\nCOPY --chown=node:node . .\nUSER node\nENV DRSS_BOT_TOKEN='drss_docker_token' \\\n    DRSS_DATABASE_URI='mongodb://mongo:27017/rss'\nCMD [\"node\", \"server.js\"]\n"},"repairedBuild":{"startTimestamp":1672566566080,"endTimestamp":1672567087333,"error":null,"stdout":"Sending build context to Docker daemon  180.2kB\r\r\nStep 1/14 : FROM node:12-stretch AS build\n ---> 6c8de432fc7f\nStep 2/14 : RUN apt-get update && apt-get install --no-install-recommends -y         g++         git         make         python     && mkdir -p /usr/src/node_modules     && chown -R node:node /usr/src\n ---> Running in 5c39059b6651\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 2s (3725 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ng++ is already the newest version (4:6.3.0-4).\ngit is already the newest version (1:2.11.0-3+deb9u7).\nmake is already the newest version (4.1-9.1).\npython is already the newest version (2.7.13-2).\npython set to manually installed.\n0 upgraded, 0 newly installed, 0 to remove and 38 not upgraded.\nRemoving intermediate container 5c39059b6651\n ---> 846e3098f63f\nStep 3/14 : WORKDIR /usr/src\n ---> Running in b74501757292\nRemoving intermediate container b74501757292\n ---> f6c8c59702ca\nStep 4/14 : COPY package*.json ./\n ---> 45461ab1aebc\nStep 5/14 : USER node\n ---> Running in 63bb318e340c\nRemoving intermediate container 63bb318e340c\n ---> 3b4a490051f0\nStep 6/14 : RUN npm install\n ---> Running in b4c0a50486c7\n\n> erlpack@github:discordapp/erlpack#3b793a333dd3f6a140b9168ea91e9fa9660753ce install /usr/src/node_modules/erlpack\n> node-gyp rebuild\n\nmake: Entering directory '/usr/src/node_modules/erlpack/build'\n  CC(target) Release/obj.target/zlib/vendor/zlib/adler32.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/compress.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/crc32.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/deflate.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzclose.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzlib.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzread.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/gzwrite.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/infback.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/inffast.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/inflate.o\n\u001b[91m../vendor/zlib/inflate.c: In function 'inflateMark':\n../vendor/zlib/inflate.c:1507:61: warning: left shift of negative value [-Wshift-negative-value]\n     if (strm == Z_NULL || strm->state == Z_NULL) return -1L << 16;\n                                                             ^~\n\u001b[0m  CC(target) Release/obj.target/zlib/vendor/zlib/inftrees.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/trees.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/uncompr.o\n  CC(target) Release/obj.target/zlib/vendor/zlib/zutil.o\n  AR(target) Release/obj.target/vendor/zlib.a\n  COPY Release/zlib.a\n  CXX(target) Release/obj.target/erlpack/js/erlpack.o\n  SOLINK_MODULE(target) Release/obj.target/erlpack.node\n  COPY Release/erlpack.node\nmake: Leaving directory '/usr/src/node_modules/erlpack/build'\n\n> bufferutil@4.0.6 install /usr/src/node_modules/bufferutil\n> node-gyp-build\n\n\n> utf-8-validate@5.0.9 install /usr/src/node_modules/utf-8-validate\n> node-gyp-build\n\n\n> zeromq@6.0.0-beta.6 install /usr/src/node_modules/zeromq\n> node-gyp-build\n\n\n> zlib-sync@0.1.7 install /usr/src/node_modules/zlib-sync\n> node-gyp rebuild\n\nmake: Entering directory '/usr/src/node_modules/zlib-sync/build'\n  CC(target) Release/obj.target/zlib/deps/zlib/adler32.o\n  CC(target) Release/obj.target/zlib/deps/zlib/compress.o\n  CC(target) Release/obj.target/zlib/deps/zlib/crc32.o\n  CC(target) Release/obj.target/zlib/deps/zlib/deflate.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzclose.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzlib.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzread.o\n  CC(target) Release/obj.target/zlib/deps/zlib/gzwrite.o\n  CC(target) Release/obj.target/zlib/deps/zlib/infback.o\n  CC(target) Release/obj.target/zlib/deps/zlib/inffast.o\n  CC(target) Release/obj.target/zlib/deps/zlib/inflate.o\n  CC(target) Release/obj.target/zlib/deps/zlib/inftrees.o\n  CC(target) Release/obj.target/zlib/deps/zlib/trees.o\n  CC(target) Release/obj.target/zlib/deps/zlib/uncompr.o\n  CC(target) Release/obj.target/zlib/deps/zlib/zutil.o\n  AR(target) Release/obj.target/deps/zlib.a\n  COPY Release/zlib.a\n  CXX(target) Release/obj.target/zlib_sync/src/zlib_sync.o\n  SOLINK_MODULE(target) Release/obj.target/zlib_sync.node\n  COPY Release/zlib_sync.node\nmake: Leaving directory '/usr/src/node_modules/zlib-sync/build'\nadded 419 packages from 450 contributors and audited 419 packages in 415.707s\n\n52 packages are looking for funding\n  run `npm fund` for details\n\nfound 12 vulnerabilities (2 low, 2 moderate, 7 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container b4c0a50486c7\n ---> 43298e4a9ebc\nStep 7/14 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 8/14 : RUN mkdir /app     && chown -R node:node /app\n ---> Running in b2f9495a92f0\nRemoving intermediate container b2f9495a92f0\n ---> 5b5892682ebd\nStep 9/14 : WORKDIR /app\n ---> Running in b1588662b7ff\nRemoving intermediate container b1588662b7ff\n ---> 02bc18b8db3b\nStep 10/14 : COPY --from=build /usr/src .\n ---> 1fa1a086c1c8\nStep 11/14 : COPY --chown=node:node . .\n ---> 6cfd15c61b79\nStep 12/14 : USER node\n ---> Running in e6834933d100\nRemoving intermediate container e6834933d100\n ---> ea0020a0b866\nStep 13/14 : ENV DRSS_BOT_TOKEN='drss_docker_token'     DRSS_DATABASE_URI='mongodb://mongo:27017/rss'\n ---> Running in da503027b475\nRemoving intermediate container da503027b475\n ---> 2cfca4b67ef8\nStep 14/14 : CMD [\"node\", \"server.js\"]\n ---> Running in 9c8b4b6101cc\nRemoving intermediate container 9c8b4b6101cc\n ---> 6f290de40abf\nSuccessfully built 6f290de40abf\nSuccessfully tagged monitorss-clone:latest\n","stderr":"","imageSize":186322333},"endTime":1672567088025}