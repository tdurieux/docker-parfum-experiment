{"repository":"https://github.com/akhilrex/podgrab","dockerfilePath":"Dockerfile","startTime":1672154433065,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/akhilrex/podgrab'...\n","error":null,"commit":"44e2b1c207288bb8a84ecb64424e0a501fa02510"},"originalBuild":{"startTimestamp":1672154434339,"endTimestamp":1672154659108,"error":null,"stdout":"Sending build context to Docker daemon  8.522MB\r\r\nStep 1/27 : ARG GO_VERSION=1.15.2\nStep 2/27 : FROM golang:${GO_VERSION}-alpine AS builder\n1.15.2-alpine: Pulling from library/golang\ndf20fa9351a1: Already exists\ned8968b2872e: Already exists\na92cc7c5fd73: Already exists\ne871e8e8d7a9: Pulling fs layer\ne73272ec9a57: Pulling fs layer\ne73272ec9a57: Verifying Checksum\ne73272ec9a57: Download complete\ne871e8e8d7a9: Verifying Checksum\ne871e8e8d7a9: Download complete\ne871e8e8d7a9: Pull complete\ne73272ec9a57: Pull complete\nDigest: sha256:4d8abd16b03209b30b48f69a2e10347aacf7ce65d8f9f685e8c3e20a512234d9\nStatus: Downloaded newer image for golang:1.15.2-alpine\n ---> b3bc898ad092\nStep 3/27 : RUN apk update && apk add alpine-sdk git && rm -rf /var/cache/apk/*\n ---> Running in 07201f49682a\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://dl-cdn.alpinelinux.org/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://dl-cdn.alpinelinux.org/alpine/v3.12/community]\nOK: 12775 distinct packages available\n(1/37) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/37) Installing fakeroot (1.24-r0)\n(3/37) Installing openssl (1.1.1o-r0)\n(4/37) Installing libattr (2.4.48-r0)\n(5/37) Installing attr (2.4.48-r0)\n(6/37) Installing libacl (2.2.53-r0)\n(7/37) Installing tar (1.32-r2)\n(8/37) Installing pkgconf (1.7.2-r0)\n(9/37) Installing patch (2.7.6-r7)\n(10/37) Installing libgcc (9.3.0-r2)\n(11/37) Installing libstdc++ (9.3.0-r2)\n(12/37) Installing lzip (1.21-r0)\n(13/37) Installing nghttp2-libs (1.41.0-r0)\n(14/37) Installing libcurl (7.79.1-r1)\n(15/37) Installing curl (7.79.1-r1)\n(16/37) Installing abuild (3.6.0-r1)\nExecuting abuild-3.6.0-r1.pre-install\n(17/37) Installing binutils (2.34-r2)\n(18/37) Installing libmagic (5.38-r0)\n(19/37) Installing file (5.38-r0)\n(20/37) Installing gmp (6.2.1-r1)\n(21/37) Installing isl (0.18-r0)\n(22/37) Installing libgomp (9.3.0-r2)\n(23/37) Installing libatomic (9.3.0-r2)\n(24/37) Installing libgphobos (9.3.0-r2)\n(25/37) Installing mpfr4 (4.0.2-r4)\n(26/37) Installing mpc1 (1.1.0-r1)\n(27/37) Installing gcc (9.3.0-r2)\n(28/37) Installing musl-dev (1.1.24-r10)\n(29/37) Installing libc-dev (0.7.2-r3)\n(30/37) Installing g++ (9.3.0-r2)\n(31/37) Installing make (4.3-r0)\n(32/37) Installing fortify-headers (1.1-r0)\n(33/37) Installing build-base (0.5-r2)\n(34/37) Installing expat (2.2.10-r4)\n(35/37) Installing pcre2 (10.35-r0)\n(36/37) Installing git (2.26.3-r1)\n(37/37) Installing alpine-sdk (1.0-r0)\nExecuting busybox-1.31.1-r16.trigger\nOK: 224 MiB in 51 packages\nRemoving intermediate container 07201f49682a\n ---> 86b3ebb7ae5b\nStep 4/27 : RUN mkdir -p /api\n ---> Running in c332f0546251\nRemoving intermediate container c332f0546251\n ---> 78bc0ba90d95\nStep 5/27 : WORKDIR /api\n ---> Running in 037dd503ce53\nRemoving intermediate container 037dd503ce53\n ---> dff85efdaf99\nStep 6/27 : COPY go.mod .\n ---> a1523486ed92\nStep 7/27 : COPY go.sum .\n ---> 16ff6da04c1b\nStep 8/27 : RUN go mod download\n ---> Running in b593ffda5448\nRemoving intermediate container b593ffda5448\n ---> a782d738f038\nStep 9/27 : COPY . .\n ---> b69cb0f8570c\nStep 10/27 : RUN go build -o ./app ./main.go\n ---> Running in dac0b24e28b9\nRemoving intermediate container dac0b24e28b9\n ---> 6ec0e8d4d4d2\nStep 11/27 : FROM alpine:latest\n ---> 49176f190c7e\nStep 12/27 : LABEL org.opencontainers.image.source=\"https://github.com/akhilrex/podgrab\"\n ---> Running in c9fe97f6c771\nRemoving intermediate container c9fe97f6c771\n ---> 244bf52638b4\nStep 13/27 : ENV CONFIG=/config\n ---> Running in 94f36d53827b\nRemoving intermediate container 94f36d53827b\n ---> 61c046ebc414\nStep 14/27 : ENV DATA=/assets\n ---> Running in 68082dacc5ce\nRemoving intermediate container 68082dacc5ce\n ---> 94634436f66c\nStep 15/27 : ENV UID=998\n ---> Running in 610a7a91d279\nRemoving intermediate container 610a7a91d279\n ---> 31fefcdca50e\nStep 16/27 : ENV PID=100\n ---> Running in b2d183bc8330\nRemoving intermediate container b2d183bc8330\n ---> 19a33a8a4399\nStep 17/27 : ENV GIN_MODE=release\n ---> Running in c1ec0ccc4285\nRemoving intermediate container c1ec0ccc4285\n ---> e82b24624458\nStep 18/27 : VOLUME [\"/config\", \"/assets\"]\n ---> Running in 022cbd1fca6e\nRemoving intermediate container 022cbd1fca6e\n ---> 69d788425846\nStep 19/27 : RUN apk update && apk add ca-certificates && rm -rf /var/cache/apk/*\n ---> Running in 2f2576edbac1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-303-g79ed0d63ee [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-302-g55f6d884d7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 2f2576edbac1\n ---> 3a2e6529dba8\nStep 20/27 : RUN mkdir -p /config;     mkdir -p /assets;     mkdir -p /api\n ---> Running in 7114aefb66d7\nRemoving intermediate container 7114aefb66d7\n ---> 33e88372b6a7\nStep 21/27 : RUN chmod 777 /config;     chmod 777 /assets\n ---> Running in 4df1b981af52\nRemoving intermediate container 4df1b981af52\n ---> 85a1db99b13c\nStep 22/27 : WORKDIR /api\n ---> Running in effe72df7a11\nRemoving intermediate container effe72df7a11\n ---> dbafbaa44fdb\nStep 23/27 : COPY --from=builder /api/app .\n ---> e99ad1a8511f\nStep 24/27 : COPY client ./client\n ---> ab31eb3d5fdb\nStep 25/27 : COPY webassets ./webassets\n ---> c87b7da3d68d\nStep 26/27 : EXPOSE 8080\n ---> Running in c29973cde85b\nRemoving intermediate container c29973cde85b\n ---> 7357a500e170\nStep 27/27 : ENTRYPOINT [\"./app\"]\n ---> Running in 102fe8a515ce\nRemoving intermediate container 102fe8a515ce\n ---> e2e0ec4baa68\nSuccessfully built e2e0ec4baa68\nSuccessfully tagged podgrab:latest\n","stderr":"","imageSize":33862468},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":18,"columnEnd":40}},{"name":"apkAddUseNoCache","position":{"start":26,"end":26,"columnStart":18,"columnEnd":41}}],"repairedDockerfile":"ARG GO_VERSION=1.15.2\n\nFROM golang:${GO_VERSION}-alpine AS builder\n\nRUN apk update && apk add --no-cache alpine-sdk git && rm -rf /var/cache/apk/*\n\nRUN mkdir -p /api\nWORKDIR /api\n\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n\nCOPY . .\nRUN go build -o ./app ./main.go\n\nFROM alpine:latest\n\nLABEL org.opencontainers.image.source=\"https://github.com/akhilrex/podgrab\"\n\nENV CONFIG=/config\nENV DATA=/assets\nENV UID=998\nENV PID=100\nENV GIN_MODE=release\nVOLUME [\"/config\", \"/assets\"]\nRUN apk update && apk add --no-cache ca-certificates && rm -rf /var/cache/apk/*\nRUN mkdir -p /config; \\\n    mkdir -p /assets; \\\n    mkdir -p /api\n\nRUN chmod 777 /config; \\\n    chmod 777 /assets\n\nWORKDIR /api\nCOPY --from=builder /api/app .\nCOPY client ./client\nCOPY webassets ./webassets\n\nEXPOSE 8080\n\nENTRYPOINT [\"./app\"]"},"repairedBuild":{"startTimestamp":1672154665023,"endTimestamp":1672154812993,"error":null,"stdout":"Sending build context to Docker daemon  8.522MB\r\r\nStep 1/27 : ARG GO_VERSION=1.15.2\nStep 2/27 : FROM golang:${GO_VERSION}-alpine AS builder\n ---> b3bc898ad092\nStep 3/27 : RUN apk update && apk add --no-cache alpine-sdk git && rm -rf /var/cache/apk/*\n ---> Running in 2943675316b8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\nv3.12.12-45-g8116a127ec [http://dl-cdn.alpinelinux.org/alpine/v3.12/main]\nv3.12.12-46-g1df69604c4 [http://dl-cdn.alpinelinux.org/alpine/v3.12/community]\nOK: 12775 distinct packages available\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/37) Upgrading musl (1.1.24-r9 -> 1.1.24-r10)\n(2/37) Installing fakeroot (1.24-r0)\n(3/37) Installing openssl (1.1.1o-r0)\n(4/37) Installing libattr (2.4.48-r0)\n(5/37) Installing attr (2.4.48-r0)\n(6/37) Installing libacl (2.2.53-r0)\n(7/37) Installing tar (1.32-r2)\n(8/37) Installing pkgconf (1.7.2-r0)\n(9/37) Installing patch (2.7.6-r7)\n(10/37) Installing libgcc (9.3.0-r2)\n(11/37) Installing libstdc++ (9.3.0-r2)\n(12/37) Installing lzip (1.21-r0)\n(13/37) Installing nghttp2-libs (1.41.0-r0)\n(14/37) Installing libcurl (7.79.1-r1)\n(15/37) Installing curl (7.79.1-r1)\n(16/37) Installing abuild (3.6.0-r1)\nExecuting abuild-3.6.0-r1.pre-install\n(17/37) Installing binutils (2.34-r2)\n(18/37) Installing libmagic (5.38-r0)\n(19/37) Installing file (5.38-r0)\n(20/37) Installing gmp (6.2.1-r1)\n(21/37) Installing isl (0.18-r0)\n(22/37) Installing libgomp (9.3.0-r2)\n(23/37) Installing libatomic (9.3.0-r2)\n(24/37) Installing libgphobos (9.3.0-r2)\n(25/37) Installing mpfr4 (4.0.2-r4)\n(26/37) Installing mpc1 (1.1.0-r1)\n(27/37) Installing gcc (9.3.0-r2)\n(28/37) Installing musl-dev (1.1.24-r10)\n(29/37) Installing libc-dev (0.7.2-r3)\n(30/37) Installing g++ (9.3.0-r2)\n(31/37) Installing make (4.3-r0)\n(32/37) Installing fortify-headers (1.1-r0)\n(33/37) Installing build-base (0.5-r2)\n(34/37) Installing expat (2.2.10-r4)\n(35/37) Installing pcre2 (10.35-r0)\n(36/37) Installing git (2.26.3-r1)\n(37/37) Installing alpine-sdk (1.0-r0)\nExecuting busybox-1.31.1-r16.trigger\nOK: 224 MiB in 51 packages\nRemoving intermediate container 2943675316b8\n ---> 09bd1a3c3c5f\nStep 4/27 : RUN mkdir -p /api\n ---> Running in 97a2fbe3f203\nRemoving intermediate container 97a2fbe3f203\n ---> e02f16044b7c\nStep 5/27 : WORKDIR /api\n ---> Running in 977ae8f113e2\nRemoving intermediate container 977ae8f113e2\n ---> 65e32531bdad\nStep 6/27 : COPY go.mod .\n ---> 9a42aa4d31da\nStep 7/27 : COPY go.sum .\n ---> 6ec6df9a2df7\nStep 8/27 : RUN go mod download\n ---> Running in cf44b6085628\nRemoving intermediate container cf44b6085628\n ---> 793773c93f78\nStep 9/27 : COPY . .\n ---> bcf26cfa73ca\nStep 10/27 : RUN go build -o ./app ./main.go\n ---> Running in 1d055d55783f\nRemoving intermediate container 1d055d55783f\n ---> 7e8365d4d987\nStep 11/27 : FROM alpine:latest\n ---> 49176f190c7e\nStep 12/27 : LABEL org.opencontainers.image.source=\"https://github.com/akhilrex/podgrab\"\n ---> Running in b8bd683be40f\nRemoving intermediate container b8bd683be40f\n ---> 03b48e79ebaf\nStep 13/27 : ENV CONFIG=/config\n ---> Running in e1bd49932620\nRemoving intermediate container e1bd49932620\n ---> 1f95fc4a3a87\nStep 14/27 : ENV DATA=/assets\n ---> Running in b19f4c344507\nRemoving intermediate container b19f4c344507\n ---> e88e5edcf62e\nStep 15/27 : ENV UID=998\n ---> Running in 2828e3883c05\nRemoving intermediate container 2828e3883c05\n ---> 34d6938ac52f\nStep 16/27 : ENV PID=100\n ---> Running in 20968bba8eff\nRemoving intermediate container 20968bba8eff\n ---> 029b88deefe6\nStep 17/27 : ENV GIN_MODE=release\n ---> Running in 96cb3bf354bf\nRemoving intermediate container 96cb3bf354bf\n ---> ebcb8a6ef728\nStep 18/27 : VOLUME [\"/config\", \"/assets\"]\n ---> Running in b583619d8e09\nRemoving intermediate container b583619d8e09\n ---> bd0e740152e6\nStep 19/27 : RUN apk update && apk add --no-cache ca-certificates && rm -rf /var/cache/apk/*\n ---> Running in 2b6f6bebf373\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-303-g79ed0d63ee [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-302-g55f6d884d7 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 2b6f6bebf373\n ---> adca32a97b4c\nStep 20/27 : RUN mkdir -p /config;     mkdir -p /assets;     mkdir -p /api\n ---> Running in 0dc9636d98d1\nRemoving intermediate container 0dc9636d98d1\n ---> 9aa869beeee1\nStep 21/27 : RUN chmod 777 /config;     chmod 777 /assets\n ---> Running in 2b98ed59dbb0\nRemoving intermediate container 2b98ed59dbb0\n ---> ccb067597a3c\nStep 22/27 : WORKDIR /api\n ---> Running in 55f8a6e97b7a\nRemoving intermediate container 55f8a6e97b7a\n ---> 8d7062a5e241\nStep 23/27 : COPY --from=builder /api/app .\n ---> 5cc3fccb3944\nStep 24/27 : COPY client ./client\n ---> b916062091c8\nStep 25/27 : COPY webassets ./webassets\n ---> 6a2adab79093\nStep 26/27 : EXPOSE 8080\n ---> Running in dd3d8d8bb3a8\nRemoving intermediate container dd3d8d8bb3a8\n ---> 7575fba1c17c\nStep 27/27 : ENTRYPOINT [\"./app\"]\n ---> Running in 49995f195e79\nRemoving intermediate container 49995f195e79\n ---> 2c3943c1bf3d\nSuccessfully built 2c3943c1bf3d\nSuccessfully tagged podgrab:latest\n","stderr":"","imageSize":33862468},"endTime":1672154813391}