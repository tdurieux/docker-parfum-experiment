{"repository":"https://github.com/smashwilson/pushbot","dockerfilePath":"Dockerfile","startTime":1672469357369,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/smashwilson/pushbot'...\n","error":null,"commit":"74392e3a27ede75862943dc46e8cec14bf37b845"},"originalBuild":{"startTimestamp":1672469358273,"endTimestamp":1672469520825,"error":null,"stdout":"Sending build context to Docker daemon  761.3kB\r\r\nStep 1/15 : FROM node:18.9.0-alpine\n18.9.0-alpine: Pulling from library/node\n213ec9aee27d: Already exists\n4235e034d74f: Pulling fs layer\n33d6c3ba58fd: Pulling fs layer\ndeebb336959c: Pulling fs layer\n33d6c3ba58fd: Verifying Checksum\n33d6c3ba58fd: Download complete\ndeebb336959c: Download complete\n4235e034d74f: Verifying Checksum\n4235e034d74f: Download complete\n4235e034d74f: Pull complete\n33d6c3ba58fd: Pull complete\ndeebb336959c: Pull complete\nDigest: sha256:831d5eca5b7437a8132031a25bd18bdb0399e7415d4e8e02a8c14426b6dcf17f\nStatus: Downloaded newer image for node:18.9.0-alpine\n ---> 789fb8adc830\nStep 2/15 : LABEL maintainer \"Ash Wilson <smashwilson@gmail.com>\"\n ---> Running in 0a83c815cbc5\nRemoving intermediate container 0a83c815cbc5\n ---> 5bd3855b3a12\nStep 3/15 : ENV NPM_CONFIG_LOGLEVEL warn\n ---> Running in 0ea51225ec81\nRemoving intermediate container 0ea51225ec81\n ---> 8c288033609f\nStep 4/15 : RUN apk add --no-cache bash postgresql-client\n ---> Running in fabebcabbbe9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/7) Installing ncurses-libs (6.3_p20220521-r0)\n(3/7) Installing readline (8.1.2-r0)\n(4/7) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/7) Installing postgresql-common (1.1-r2)\nExecuting postgresql-common-1.1-r2.pre-install\n(6/7) Installing libpq (14.5-r0)\n(7/7) Installing postgresql14-client (14.5-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting postgresql-common-1.1-r2.trigger\n\u001b[91m* Setting postgresql14 as the default version\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.16/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.16/community: No such file or directory\n\u001b[0m\u001b[91msh: out of range\n\u001b[0mOK: 13 MiB in 23 packages\nRemoving intermediate container fabebcabbbe9\n ---> cd3b5fab130a\nStep 5/15 : RUN npm install -g coffee-script\n ---> Running in 9fe0e2c2998e\n\u001b[91mnpm WARN deprecated coffee-script@1.12.7: CoffeeScript on NPM has moved to \"coffeescript\" (no hyphen)\n\u001b[0m\nadded 1 package, and audited 2 packages in 1s\n\nfound 0 vulnerabilities\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 8.19.1 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 9fe0e2c2998e\n ---> aa1de9dddfe0\nStep 6/15 : RUN mkdir -p /usr/src/app\n ---> Running in 21ab9ce8fe53\nRemoving intermediate container 21ab9ce8fe53\n ---> 491cecc65524\nStep 7/15 : RUN adduser -s /bin/false -D pushbot\n ---> Running in e74ab76fda85\nRemoving intermediate container e74ab76fda85\n ---> 9723250c5dee\nStep 8/15 : WORKDIR /usr/src/app\n ---> Running in d60c1c20aa19\nRemoving intermediate container d60c1c20aa19\n ---> 6a29b1995947\nStep 9/15 : ADD package.json /usr/src/app/package.json\n ---> 72a7f29c7630\nStep 10/15 : ADD package-lock.json /usr/src/app/package-lock.json\n ---> bafdff546f9a\nStep 11/15 : RUN npm ci .\n ---> Running in c4ac87000563\n\nadded 479 packages, and audited 480 packages in 6s\n\n24 packages are looking for funding\n  run `npm fund` for details\n\n6 vulnerabilities (1 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container c4ac87000563\n ---> 4c63cb9a4d0b\nStep 12/15 : ADD . /usr/src/app\n ---> 1d3e79402de0\nStep 13/15 : RUN chown -R pushbot:pushbot /usr/src/app\n ---> Running in b271dc7cbd6c\nRemoving intermediate container b271dc7cbd6c\n ---> db5c8732ea89\nStep 14/15 : USER pushbot\n ---> Running in ce6a3eabfb62\nRemoving intermediate container ce6a3eabfb62\n ---> 5d2c970356af\nStep 15/15 : ENTRYPOINT [\"/usr/src/app/bin/container/entrypoint.sh\"]\n ---> Running in 0c877dd30dd5\nRemoving intermediate container 0c877dd30dd5\n ---> fdf418c1dcf2\nSuccessfully built fdf418c1dcf2\nSuccessfully tagged pushbot:latest\n","stderr":"","imageSize":341342935},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":6,"end":6,"columnStart":4,"columnEnd":32}},{"name":"mkdirUsrSrcThenRemove","position":{"start":7,"end":7,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:18.9.0-alpine\nLABEL maintainer \"Ash Wilson <smashwilson@gmail.com>\"\n\nENV NPM_CONFIG_LOGLEVEL warn\n\nRUN apk add --no-cache bash postgresql-client\nRUN npm install -g coffee-script\nRUN mkdir -p /usr/src/app\nRUN adduser -s /bin/false -D pushbot\n\nWORKDIR /usr/src/app\nADD package.json /usr/src/app/package.json\nADD package-lock.json /usr/src/app/package-lock.json\nRUN npm ci .\nADD . /usr/src/app\nRUN chown -R pushbot:pushbot /usr/src/app\n\nUSER pushbot\nENTRYPOINT [\"/usr/src/app/bin/container/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672469521715,"endTimestamp":1672469627272,"error":null,"stdout":"Sending build context to Docker daemon  761.3kB\r\r\nStep 1/15 : FROM node:18.9.0-alpine\n ---> 789fb8adc830\nStep 2/15 : LABEL maintainer \"Ash Wilson <smashwilson@gmail.com>\"\n ---> Running in 7dfd27a7b299\nRemoving intermediate container 7dfd27a7b299\n ---> 44d2b9680848\nStep 3/15 : ENV NPM_CONFIG_LOGLEVEL warn\n ---> Running in eea5267a7ae7\nRemoving intermediate container eea5267a7ae7\n ---> 31165ffa98b6\nStep 4/15 : RUN apk add --no-cache bash postgresql-client\n ---> Running in e9e5b592f4a0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing ncurses-terminfo-base (6.3_p20220521-r0)\n(2/7) Installing ncurses-libs (6.3_p20220521-r0)\n(3/7) Installing readline (8.1.2-r0)\n(4/7) Installing bash (5.1.16-r2)\nExecuting bash-5.1.16-r2.post-install\n(5/7) Installing postgresql-common (1.1-r2)\nExecuting postgresql-common-1.1-r2.pre-install\n(6/7) Installing libpq (14.5-r0)\n(7/7) Installing postgresql14-client (14.5-r0)\nExecuting busybox-1.35.0-r17.trigger\nExecuting postgresql-common-1.1-r2.trigger\n\u001b[91m* Setting postgresql14 as the default version\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.16/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.16/community: No such file or directory\n\u001b[0m\u001b[91msh: out of range\n\u001b[0mOK: 13 MiB in 23 packages\nRemoving intermediate container e9e5b592f4a0\n ---> a13c78eb68c2\nStep 5/15 : RUN npm install -g coffee-script\n ---> Running in 7a08a1dcf694\n\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m coffee-script@1.12.7: CoffeeScript on NPM has moved to \"coffeescript\" (no hyphen)\n\u001b[0m\nadded 1 package, and audited 2 packages in 828ms\n\nfound 0 vulnerabilities\n\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.1 -> 9.2.0\n\u001b[0m\u001b[91mnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 7a08a1dcf694\n ---> df54835d24ad\nStep 6/15 : RUN mkdir -p /usr/src/app\n ---> Running in 7a70048fbd60\nRemoving intermediate container 7a70048fbd60\n ---> 98c408be28f8\nStep 7/15 : RUN adduser -s /bin/false -D pushbot\n ---> Running in 175d61b8b290\nRemoving intermediate container 175d61b8b290\n ---> 5936357c2b79\nStep 8/15 : WORKDIR /usr/src/app\n ---> Running in 3793afd0ea85\nRemoving intermediate container 3793afd0ea85\n ---> 615313799ef1\nStep 9/15 : ADD package.json /usr/src/app/package.json\n ---> 0334fd223cef\nStep 10/15 : ADD package-lock.json /usr/src/app/package-lock.json\n ---> a223b199238c\nStep 11/15 : RUN npm ci .\n ---> Running in 96c6a9886507\n\nadded 479 packages, and audited 480 packages in 5s\n\n24 packages are looking for funding\n  run `npm fund` for details\n\n6 vulnerabilities (1 moderate, 5 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container 96c6a9886507\n ---> 1eddab7fde27\nStep 12/15 : ADD . /usr/src/app\n ---> 3c74e4115421\nStep 13/15 : RUN chown -R pushbot:pushbot /usr/src/app\n ---> Running in 77eee810576a\nRemoving intermediate container 77eee810576a\n ---> f6260f6fb8db\nStep 14/15 : USER pushbot\n ---> Running in 2d6be4bdfa11\nRemoving intermediate container 2d6be4bdfa11\n ---> d23025c72625\nStep 15/15 : ENTRYPOINT [\"/usr/src/app/bin/container/entrypoint.sh\"]\n ---> Running in 8bc4e76439f3\nRemoving intermediate container 8bc4e76439f3\n ---> 6742fe36d7de\nSuccessfully built 6742fe36d7de\nSuccessfully tagged pushbot:latest\n","stderr":"","imageSize":341342905},"endTime":1672469627951}