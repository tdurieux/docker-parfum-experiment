{"repository":"https://github.com/hhatto/gocloc","dockerfilePath":"Dockerfile","startTime":1672302397266,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/hhatto/gocloc'...\n","error":null,"commit":"668dce9ea746192b1b16fe2d38a4c98c84cee143"},"originalBuild":{"startTimestamp":1672302398152,"endTimestamp":1672302516136,"error":null,"stdout":"Sending build context to Docker daemon  240.6kB\r\r\nStep 1/9 : FROM golang:1.13-buster AS builder\n1.13-buster: Pulling from library/golang\nd6ff36c9ec48: Pulling fs layer\nc958d65b3090: Pulling fs layer\nedaf0a6b092f: Pulling fs layer\n80931cf68816: Pulling fs layer\n813643441356: Pulling fs layer\n799f41bb59c9: Pulling fs layer\n16b5038bccc8: Pulling fs layer\n799f41bb59c9: Waiting\n813643441356: Waiting\n80931cf68816: Waiting\nedaf0a6b092f: Verifying Checksum\nedaf0a6b092f: Download complete\nc958d65b3090: Verifying Checksum\nc958d65b3090: Download complete\nd6ff36c9ec48: Verifying Checksum\nd6ff36c9ec48: Download complete\n80931cf68816: Verifying Checksum\n80931cf68816: Download complete\n813643441356: Verifying Checksum\n813643441356: Download complete\n16b5038bccc8: Verifying Checksum\n16b5038bccc8: Download complete\n799f41bb59c9: Verifying Checksum\n799f41bb59c9: Download complete\nd6ff36c9ec48: Pull complete\nc958d65b3090: Pull complete\nedaf0a6b092f: Pull complete\n80931cf68816: Pull complete\n813643441356: Pull complete\n799f41bb59c9: Pull complete\n16b5038bccc8: Pull complete\nDigest: sha256:66a3f6817c129f48c9cc9b96816a1c0b6dcb399393196e3581d9367b55ab29f2\nStatus: Downloaded newer image for golang:1.13-buster\n ---> d6f3656320fe\nStep 2/9 : RUN apt-get update  && apt-get install -y --no-install-recommends   upx-ucl\n ---> Running in d233d0af16f5\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (3698 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libucl1\nThe following NEW packages will be installed:\n  libucl1 upx-ucl\n0 upgraded, 2 newly installed, 0 to remove and 68 not upgraded.\nNeed to get 431 kB of archives.\nAfter this operation, 2136 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libucl1 amd64 1.03+repack-5 [26.2 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 upx-ucl amd64 3.95-1 [405 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 431 kB in 0s (4874 kB/s)\nSelecting previously unselected package libucl1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15410 files and directories currently installed.)\r\nPreparing to unpack .../libucl1_1.03+repack-5_amd64.deb ...\r\nUnpacking libucl1:amd64 (1.03+repack-5) ...\r\nSelecting previously unselected package upx-ucl.\r\nPreparing to unpack .../upx-ucl_3.95-1_amd64.deb ...\r\nUnpacking upx-ucl (3.95-1) ...\r\nSetting up libucl1:amd64 (1.03+repack-5) ...\r\nSetting up upx-ucl (3.95-1) ...\r\nupdate-alternatives: error: no alternatives for upx\r\nupdate-alternatives: using /usr/bin/upx-ucl to provide /usr/bin/upx (upx) in auto mode\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nRemoving intermediate container d233d0af16f5\n ---> 8dc4e079e36b\nStep 3/9 : WORKDIR /build\n ---> Running in e9fc29f00986\nRemoving intermediate container e9fc29f00986\n ---> bc23d2767550\nStep 4/9 : COPY . .\n ---> 1b39d6f60294\nStep 5/9 : RUN GO111MODULE=on CGO_ENABLED=0 go build       -ldflags='-w -s -extldflags \"-static\"'       -o ./bin/gocloc cmd/gocloc/main.go  && upx-ucl --best --ultra-brute ./bin/gocloc\n ---> Running in f6edd3a324c2\n\u001b[91mgo: downloading github.com/jessevdk/go-flags v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-enry/go-enry/v2 v2.8.0\n\u001b[0m\u001b[91mgo: extracting github.com/jessevdk/go-flags v1.4.0\n\u001b[0m\u001b[91mgo: extracting github.com/go-enry/go-enry/v2 v2.8.0\n\u001b[0m\u001b[91mgo: finding github.com/go-enry/go-enry/v2 v2.8.0\n\u001b[0m\u001b[91mgo: finding github.com/jessevdk/go-flags v1.4.0\n\u001b[0m                       Ultimate Packer for eXecutables\n                          Copyright (C) 1996 - 2018\nUPX 3.95        Markus Oberhumer, Laszlo Molnar & John Reiser   Aug 26th 2018\n\n        File size         Ratio      Format      Name\n   --------------------   ------   -----------   -----------\n  12337152 ->   2269660   18.40%   linux/amd64   gocloc\n\nPacked 1 file.\nRemoving intermediate container f6edd3a324c2\n ---> 44552649506d\nStep 6/9 : FROM scratch\n ---> \nStep 7/9 : COPY --from=builder /build/bin/gocloc /bin/\n ---> e4cea48073d7\nStep 8/9 : WORKDIR /workdir\n ---> Running in 1f30f3493832\nRemoving intermediate container 1f30f3493832\n ---> ecba3085fb23\nStep 9/9 : ENTRYPOINT [\"/bin/gocloc\"]\n ---> Running in b154ad4ca885\nRemoving intermediate container b154ad4ca885\n ---> 1a63495d42be\nSuccessfully built 1a63495d42be\nSuccessfully tagged gocloc:latest\n","stderr":"","imageSize":2269660},"repair":{"violations":[{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":5,"columnStart":4,"columnEnd":9}}],"repairedDockerfile":"FROM golang:1.13-buster AS builder\n\n# hadolint ignore=DL3008\nRUN apt-get update \\\n && apt-get install -y --no-install-recommends \\\n  upx-ucl\n\nWORKDIR /build\n\nCOPY . .\n\nRUN GO111MODULE=on CGO_ENABLED=0 go build \\\n      -ldflags='-w -s -extldflags \"-static\"' \\\n      -o ./bin/gocloc cmd/gocloc/main.go \\\n && upx-ucl --best --ultra-brute ./bin/gocloc\n\nFROM scratch\nCOPY --from=builder /build/bin/gocloc /bin/\nWORKDIR /workdir\nENTRYPOINT [\"/bin/gocloc\"]\n"},"repairedBuild":{"startTimestamp":1672302516969,"endTimestamp":1672302605953,"error":null,"stdout":"Sending build context to Docker daemon  240.6kB\r\r\nStep 1/9 : FROM golang:1.13-buster AS builder\n ---> d6f3656320fe\nStep 2/9 : RUN apt-get update  && apt-get install -y --no-install-recommends   upx-ucl\n ---> Running in b7d93fa7d1b1\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 1s (5733 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libucl1\nThe following NEW packages will be installed:\n  libucl1 upx-ucl\n0 upgraded, 2 newly installed, 0 to remove and 68 not upgraded.\nNeed to get 431 kB of archives.\nAfter this operation, 2136 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libucl1 amd64 1.03+repack-5 [26.2 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 upx-ucl amd64 3.95-1 [405 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 431 kB in 0s (25.6 MB/s)\nSelecting previously unselected package libucl1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15410 files and directories currently installed.)\r\nPreparing to unpack .../libucl1_1.03+repack-5_amd64.deb ...\r\nUnpacking libucl1:amd64 (1.03+repack-5) ...\r\nSelecting previously unselected package upx-ucl.\r\nPreparing to unpack .../upx-ucl_3.95-1_amd64.deb ...\r\nUnpacking upx-ucl (3.95-1) ...\r\nSetting up libucl1:amd64 (1.03+repack-5) ...\r\nSetting up upx-ucl (3.95-1) ...\r\nupdate-alternatives: error: no alternatives for upx\r\nupdate-alternatives: using /usr/bin/upx-ucl to provide /usr/bin/upx (upx) in auto mode\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nRemoving intermediate container b7d93fa7d1b1\n ---> 43f7b604db45\nStep 3/9 : WORKDIR /build\n ---> Running in 60f33e3cf2c9\nRemoving intermediate container 60f33e3cf2c9\n ---> e1ab705f7e75\nStep 4/9 : COPY . .\n ---> 1dcf2646f355\nStep 5/9 : RUN GO111MODULE=on CGO_ENABLED=0 go build       -ldflags='-w -s -extldflags \"-static\"'       -o ./bin/gocloc cmd/gocloc/main.go  && upx-ucl --best --ultra-brute ./bin/gocloc\n ---> Running in 23315e0920f2\n\u001b[91mgo: downloading github.com/jessevdk/go-flags v1.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-enry/go-enry/v2 v2.8.0\n\u001b[0m\u001b[91mgo: extracting github.com/jessevdk/go-flags v1.4.0\n\u001b[0m\u001b[91mgo: extracting github.com/go-enry/go-enry/v2 v2.8.0\n\u001b[0m\u001b[91mgo: finding github.com/go-enry/go-enry/v2 v2.8.0\n\u001b[0m\u001b[91mgo: finding github.com/jessevdk/go-flags v1.4.0\n\u001b[0m                       Ultimate Packer for eXecutables\n                          Copyright (C) 1996 - 2018\nUPX 3.95        Markus Oberhumer, Laszlo Molnar & John Reiser   Aug 26th 2018\n\n        File size         Ratio      Format      Name\n   --------------------   ------   -----------   -----------\n  12337152 ->   2269660   18.40%   linux/amd64   gocloc\n\nPacked 1 file.\nRemoving intermediate container 23315e0920f2\n ---> 222d27498c4d\nStep 6/9 : FROM scratch\n ---> \nStep 7/9 : COPY --from=builder /build/bin/gocloc /bin/\n ---> fcfcd9fb70bb\nStep 8/9 : WORKDIR /workdir\n ---> Running in 43d939cbb7c4\nRemoving intermediate container 43d939cbb7c4\n ---> 663d174ade7e\nStep 9/9 : ENTRYPOINT [\"/bin/gocloc\"]\n ---> Running in 97c34494677b\nRemoving intermediate container 97c34494677b\n ---> 15353cb36d27\nSuccessfully built 15353cb36d27\nSuccessfully tagged gocloc:latest\n","stderr":"","imageSize":2269660},"endTime":1672302606150}