{"repository":"https://github.com/kffl/bunny-rest-proxy","dockerfilePath":"Dockerfile","startTime":1672780706092,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/kffl/bunny-rest-proxy'...\n","error":null,"commit":"5bc5c898f7d3e891974a5d1ce04efae4a36ad64d"},"originalBuild":{"startTimestamp":1672780706971,"endTimestamp":1672780783876,"error":null,"stdout":"Sending build context to Docker daemon  1.374MB\r\r\nStep 1/18 : FROM node:16.13.1-slim AS builder\n16.13.1-slim: Pulling from library/node\n72a69066d2fe: Pulling fs layer\n24892ef5fd86: Pulling fs layer\n4b54b771485a: Pulling fs layer\n6212a80a56c4: Pulling fs layer\nd4429ba963f9: Pulling fs layer\n6212a80a56c4: Waiting\nd4429ba963f9: Waiting\n24892ef5fd86: Verifying Checksum\n24892ef5fd86: Download complete\n72a69066d2fe: Verifying Checksum\n72a69066d2fe: Download complete\n4b54b771485a: Verifying Checksum\n4b54b771485a: Download complete\n6212a80a56c4: Verifying Checksum\n6212a80a56c4: Download complete\nd4429ba963f9: Verifying Checksum\nd4429ba963f9: Download complete\n72a69066d2fe: Pull complete\n24892ef5fd86: Pull complete\n4b54b771485a: Pull complete\n6212a80a56c4: Pull complete\nd4429ba963f9: Pull complete\nDigest: sha256:230c2b1d462d7dcb61cb7141b16b19aba1844a3679ee5d99e2d94a327cad85ea\nStatus: Downloaded newer image for node:16.13.1-slim\n ---> 13cc87dcb313\nStep 2/18 : WORKDIR /app\n ---> Running in 30b62f24c8a2\nRemoving intermediate container 30b62f24c8a2\n ---> 059d8bf830d9\nStep 3/18 : RUN mkdir /app/src\n ---> Running in 4f57dffaa02f\nRemoving intermediate container 4f57dffaa02f\n ---> a34fc8ee7b6f\nStep 4/18 : COPY package*.json ./\n ---> cbcbc772ddf4\nStep 5/18 : COPY tsconfig.json ./\n ---> 5cb1290c3261\nStep 6/18 : COPY src ./src\n ---> 5b50a46d9b5d\nStep 7/18 : RUN npm install\n ---> Running in 1f63616524d7\n\nadded 687 packages, and audited 688 packages in 11s\n\n62 packages are looking for funding\n  run `npm fund` for details\n\n5 vulnerabilities (1 moderate, 3 high, 1 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 1f63616524d7\n ---> 0a3a6b6e4d01\nStep 8/18 : RUN npm run build\n ---> Running in f5f92d1f8198\n\n> bunny-rest-proxy@0.0.0 build\n> tsc\n\nRemoving intermediate container f5f92d1f8198\n ---> 0682142b8d5f\nStep 9/18 : FROM node:16.13.1-slim\n ---> 13cc87dcb313\nStep 10/18 : ENV NODE_ENV=production\n ---> Running in e76de5bc38de\nRemoving intermediate container e76de5bc38de\n ---> a420707346bc\nStep 11/18 : WORKDIR /app\n ---> Running in 3def494f5bc8\nRemoving intermediate container 3def494f5bc8\n ---> 8a337442857c\nStep 12/18 : COPY package*.json ./\n ---> 14be903a1bd7\nStep 13/18 : RUN mkdir -p /app/node_modules && chown -R node:node /app\n ---> Running in 63c1f253518e\nRemoving intermediate container 63c1f253518e\n ---> 4308336d65aa\nStep 14/18 : USER node\n ---> Running in 6c1405cbad60\nRemoving intermediate container 6c1405cbad60\n ---> a36e82f8ca1c\nStep 15/18 : RUN npm install --production\n ---> Running in 6d93e75b6ea8\n\nadded 115 packages, and audited 116 packages in 3s\n\n5 packages are looking for funding\n  run `npm fund` for details\n\n1 moderate severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 6d93e75b6ea8\n ---> aa63485750c4\nStep 16/18 : COPY --from=builder /app/build /app/build\n ---> 8cf67c26c790\nStep 17/18 : EXPOSE 3672\n ---> Running in 84d391bb7784\nRemoving intermediate container 84d391bb7784\n ---> 72908cfd6611\nStep 18/18 : CMD [ \"node\", \"build/index.js\" ]\n ---> Running in 13c79215976b\nRemoving intermediate container 13c79215976b\n ---> 47339031f937\nSuccessfully built 47339031f937\nSuccessfully tagged bunny-rest-proxy:latest\n","stderr":"","imageSize":194265865},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":23,"end":23,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:16.13.1-slim AS builder\n\nWORKDIR /app\nRUN mkdir /app/src\n\nCOPY package*.json ./\nCOPY tsconfig.json ./\nCOPY src ./src\n\nRUN npm install\nRUN npm run build\n\nFROM node:16.13.1-slim\n\nENV NODE_ENV=production\n\nWORKDIR /app\n\nCOPY package*.json ./\n\nRUN mkdir -p /app/node_modules && chown -R node:node /app\n\nUSER node\nRUN npm install --production\n\nCOPY --from=builder /app/build /app/build\n\nEXPOSE 3672\nCMD [ \"node\", \"build/index.js\" ]"},"repairedBuild":{"startTimestamp":1672780784237,"endTimestamp":1672780911323,"error":null,"stdout":"Sending build context to Docker daemon  1.374MB\r\r\nStep 1/18 : FROM node:16.13.1-slim AS builder\n ---> 13cc87dcb313\nStep 2/18 : WORKDIR /app\n ---> Running in 18c59cd64bff\nRemoving intermediate container 18c59cd64bff\n ---> 790731cfdca4\nStep 3/18 : RUN mkdir /app/src\n ---> Running in 3ef2d4012bdc\nRemoving intermediate container 3ef2d4012bdc\n ---> cfe9bc34ff7d\nStep 4/18 : COPY package*.json ./\n ---> 6b9cd4182aa9\nStep 5/18 : COPY tsconfig.json ./\n ---> 9b6111ad24df\nStep 6/18 : COPY src ./src\n ---> 8df0a2c74514\nStep 7/18 : RUN npm install\n ---> Running in 6df619b5951f\n\nadded 687 packages, and audited 688 packages in 12s\n\n62 packages are looking for funding\n  run `npm fund` for details\n\n5 vulnerabilities (1 moderate, 3 high, 1 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.1.2 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 6df619b5951f\n ---> 600501cbced9\nStep 8/18 : RUN npm run build\n ---> Running in e0cb8cccab39\n\n> bunny-rest-proxy@0.0.0 build\n> tsc\n\nRemoving intermediate container e0cb8cccab39\n ---> f25e8aafab16\nStep 9/18 : FROM node:16.13.1-slim\n ---> 13cc87dcb313\nStep 10/18 : ENV NODE_ENV=production\n ---> Running in 1387263111ee\nRemoving intermediate container 1387263111ee\n ---> 58b1a0d35451\nStep 11/18 : WORKDIR /app\n ---> Running in d361ecc79007\nRemoving intermediate container d361ecc79007\n ---> af642feae482\nStep 12/18 : COPY package*.json ./\n ---> dc0eede1e9a6\nStep 13/18 : RUN mkdir -p /app/node_modules && chown -R node:node /app\n ---> Running in bb48f4d62730\nRemoving intermediate container bb48f4d62730\n ---> 744609d5f223\nStep 14/18 : USER node\n ---> Running in 7d39003d68aa\nRemoving intermediate container 7d39003d68aa\n ---> ad285db045d9\nStep 15/18 : RUN npm install --production\n ---> Running in 52143db0d546\n\nadded 115 packages, and audited 116 packages in 3s\n\n5 packages are looking for funding\n  run `npm fund` for details\n\n1 moderate severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 52143db0d546\n ---> 951d4834b5bf\nStep 16/18 : COPY --from=builder /app/build /app/build\n ---> bb6966e1d13b\nStep 17/18 : EXPOSE 3672\n ---> Running in b53d9ed5df42\nRemoving intermediate container b53d9ed5df42\n ---> a74d223006af\nStep 18/18 : CMD [ \"node\", \"build/index.js\" ]\n ---> Running in 509345d221b9\nRemoving intermediate container 509345d221b9\n ---> 5a1a9755ae7a\nSuccessfully built 5a1a9755ae7a\nSuccessfully tagged bunny-rest-proxy:latest\n","stderr":"","imageSize":194265865},"endTime":1672780911628}