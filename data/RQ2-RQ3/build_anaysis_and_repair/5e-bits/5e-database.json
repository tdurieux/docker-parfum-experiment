{"repository":"https://github.com/5e-bits/5e-database","dockerfilePath":"Dockerfile","startTime":1672035465470,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/5e-bits/5e-database'...\n","error":null,"commit":"e39d8740084e611b8777db136dc56886623024f2"},"originalBuild":{"startTimestamp":1672035466596,"endTimestamp":1672035717477,"error":null,"stdout":"Sending build context to Docker daemon  5.674MB\r\r\nStep 1/15 : FROM mongo:6.0.1\n6.0.1: Pulling from library/mongo\n675920708c8b: Pulling fs layer\n6f9c8c301e0f: Pulling fs layer\n73738965c4ce: Pulling fs layer\n7fd6635b9ddf: Pulling fs layer\n73a471eaa4ad: Pulling fs layer\nbcf274af89b0: Pulling fs layer\n04fc489f2a3b: Pulling fs layer\n6eff8a505292: Pulling fs layer\na5ef4431fce7: Pulling fs layer\n7fd6635b9ddf: Waiting\nbcf274af89b0: Waiting\n04fc489f2a3b: Waiting\n73a471eaa4ad: Waiting\na5ef4431fce7: Waiting\n6f9c8c301e0f: Verifying Checksum\n6f9c8c301e0f: Download complete\n73738965c4ce: Verifying Checksum\n73738965c4ce: Download complete\n675920708c8b: Verifying Checksum\n675920708c8b: Download complete\n73a471eaa4ad: Verifying Checksum\n73a471eaa4ad: Download complete\n7fd6635b9ddf: Verifying Checksum\n7fd6635b9ddf: Download complete\nbcf274af89b0: Download complete\n04fc489f2a3b: Verifying Checksum\n04fc489f2a3b: Download complete\na5ef4431fce7: Verifying Checksum\na5ef4431fce7: Download complete\n675920708c8b: Pull complete\n6f9c8c301e0f: Pull complete\n73738965c4ce: Pull complete\n7fd6635b9ddf: Pull complete\n73a471eaa4ad: Pull complete\nbcf274af89b0: Pull complete\n04fc489f2a3b: Pull complete\n6eff8a505292: Verifying Checksum\n6eff8a505292: Download complete\n6eff8a505292: Pull complete\na5ef4431fce7: Pull complete\nDigest: sha256:59448b028874b9ce3150cc692a3f85e8beed92cb8dc9479bdc3fd453b70e1fb1\nStatus: Downloaded newer image for mongo:6.0.1\n ---> d34d21a9eb5b\nStep 2/15 : COPY ./docker/mongodb.conf /etc\n ---> 71732db38e74\nStep 3/15 : RUN mkdir -p /data/db2   && chown -R mongodb:mongodb /data/db2\n ---> Running in dd607db6af86\nRemoving intermediate container dd607db6af86\n ---> 7be7423ac2dd\nStep 4/15 : RUN apt-get update   && apt-get -y install curl   && apt-get clean   && rm -rf /var/apt/lists/*\n ---> Running in 8f23a12bdb58\nGet:1 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]\nGet:2 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]\nGet:3 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]\nGet:4 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]\nIgn:5 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 InRelease\nGet:6 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [2358 kB]\nGet:7 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 Release [4414 B]\nGet:8 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [27.7 kB]\nGet:9 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1779 kB]\nGet:10 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]\nGet:11 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [972 kB]\nGet:12 http://archive.ubuntu.com/ubuntu focal/universe amd64 Packages [11.3 MB]\nGet:13 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 Release.gpg [801 B]\nGet:14 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]\nGet:15 http://archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [177 kB]\nGet:16 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2828 kB]\nGet:17 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1275 kB]\nGet:18 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1894 kB]\nGet:19 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [30.4 kB]\nGet:20 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [28.6 kB]\nGet:21 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [55.2 kB]\nGet:22 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0/multiverse amd64 Packages [9817 B]\nFetched 24.7 MB in 2s (15.2 MB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libcurl4\nThe following NEW packages will be installed:\n  curl\nThe following packages will be upgraded:\n  libcurl4\n1 upgraded, 1 newly installed, 0 to remove and 30 not upgraded.\nNeed to get 396 kB of archives.\nAfter this operation, 414 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libcurl4 amd64 7.68.0-1ubuntu2.14 [235 kB]\nGet:2 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 curl amd64 7.68.0-1ubuntu2.14 [161 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 396 kB in 0s (1759 kB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6870 files and directories currently installed.)\r\nPreparing to unpack .../libcurl4_7.68.0-1ubuntu2.14_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.68.0-1ubuntu2.14) over (7.68.0-1ubuntu2.13) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../curl_7.68.0-1ubuntu2.14_amd64.deb ...\r\nUnpacking curl (7.68.0-1ubuntu2.14) ...\r\nSetting up libcurl4:amd64 (7.68.0-1ubuntu2.14) ...\r\nSetting up curl (7.68.0-1ubuntu2.14) ...\r\nProcessing triggers for libc-bin (2.31-0ubuntu9.9) ...\r\nRemoving intermediate container 8f23a12bdb58\n ---> 806df8e6955f\nStep 5/15 : RUN curl -fsSL https://deb.nodesource.com/setup_14.x | bash -\n ---> Running in 5de2a2ed4868\n\n## Installing the NodeSource Node.js 14.x repo...\n\n\n## Populating apt-get cache...\n\n+ apt-get update\nIgn:1 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 InRelease\nHit:2 http://security.ubuntu.com/ubuntu focal-security InRelease\nHit:3 http://archive.ubuntu.com/ubuntu focal InRelease\nHit:4 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 Release\nHit:5 http://archive.ubuntu.com/ubuntu focal-updates InRelease\nHit:6 http://archive.ubuntu.com/ubuntu focal-backports InRelease\nReading package lists...\n\n## Installing packages required for setup: lsb-release...\n\n+ apt-get install -y lsb-release > /dev/null 2>&1\n\n## Confirming \"focal\" is supported...\n\n+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_14.x/dists/focal/Release'\n\n## Adding the NodeSource signing key to your keyring...\n\n+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null\n\n## Creating apt sources list file for the NodeSource Node.js 14.x repo...\n\n+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_14.x focal main' > /etc/apt/sources.list.d/nodesource.list\n+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_14.x focal main' >> /etc/apt/sources.list.d/nodesource.list\n\n## Running `apt-get update` for you...\n\n+ apt-get update\nIgn:1 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 InRelease\nGet:2 https://deb.nodesource.com/node_14.x focal InRelease [4583 B]\nHit:3 http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 Release\nGet:4 https://deb.nodesource.com/node_14.x focal/main amd64 Packages [773 B]\nHit:5 http://archive.ubuntu.com/ubuntu focal InRelease\nHit:6 http://security.ubuntu.com/ubuntu focal-security InRelease\nHit:8 http://archive.ubuntu.com/ubuntu focal-updates InRelease\nHit:9 http://archive.ubuntu.com/ubuntu focal-backports InRelease\nFetched 5356 B in 1s (5032 B/s)\nReading package lists...\n\n## Run `sudo apt-get install -y nodejs` to install Node.js 14.x and npm\n## You may also need development tools to build native addons:\n     sudo apt-get install gcc g++ make\n## To install the Yarn package manager, run:\n     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null\n     echo \"deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\n     sudo apt-get update && sudo apt-get install yarn\n\n\nRemoving intermediate container 5de2a2ed4868\n ---> 633033481fe7\nStep 6/15 : RUN apt-get install -y nodejs   && apt-get clean   && rm -rf /var/apt/lists/*\n ---> Running in 0c15e017c86d\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  nodejs\n0 upgraded, 1 newly installed, 0 to remove and 30 not upgraded.\nNeed to get 25.7 MB of archives.\nAfter this operation, 125 MB of additional disk space will be used.\nGet:1 https://deb.nodesource.com/node_14.x focal/main amd64 nodejs amd64 14.21.1-deb-1nodesource1 [25.7 MB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 25.7 MB in 0s (66.0 MB/s)\nSelecting previously unselected package nodejs.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 7695 files and directories currently installed.)\r\nPreparing to unpack .../nodejs_14.21.1-deb-1nodesource1_amd64.deb ...\r\nUnpacking nodejs (14.21.1-deb-1nodesource1) ...\r\nSetting up nodejs (14.21.1-deb-1nodesource1) ...\r\nRemoving intermediate container 0c15e017c86d\n ---> 39030adefff1\nStep 7/15 : ENV MONGODB_URI mongodb://localhost/5e-database\n ---> Running in bc102e5aa88a\nRemoving intermediate container bc102e5aa88a\n ---> bccdbe0e8617\nStep 8/15 : WORKDIR /data/db2\n ---> Running in b7978a49a263\nRemoving intermediate container b7978a49a263\n ---> 3c73ecce51b5\nStep 9/15 : COPY --chown=mongodb:mongodb package.json package-lock.json /data/db2/\n ---> f94f37031266\nStep 10/15 : RUN npm install\n ---> Running in b889183b17f2\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> node@14.19.1 preinstall /data/db2/node_modules/node\n> node installArchSpecificPackage\n\n+ node-linux-x64@14.19.1\nadded 1 package in 17.196s\nfound 0 vulnerabilities\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1160 packages from 499 contributors and audited 1162 packages in 31.402s\n\n73 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\nRemoving intermediate container b889183b17f2\n ---> 8befe373ddc3\nStep 11/15 : COPY --chown=mongodb:mongodb . /data/db2/\n ---> 779c387067fc\nStep 12/15 : RUN mongod --fork --logpath /var/log/mongodb.log --dbpath /data/db2   && npm run db:refresh   && mongod --dbpath /data/db2 --shutdown   && chown -R mongodb /data/db2\n ---> Running in 0988108cd28a\nabout to fork child process, waiting until server is ready for connections.\nforked process: 9\nchild process started successfully, parent exiting\n\n> 5e-database@1.0.0 db:refresh /data/db2\n> npm run build:ts && node scripts/built/dbRefresh.js\n\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config cache-min This option has been deprecated in favor of `--prefer-offline`.\nnpm WARN config cache-max This option has been deprecated in favor of `--prefer-online`\nnpm WARN config tmp This setting is no longer used.  npm stores temporary files in a special\nnpm WARN\u001b[0m\u001b[91m config location in the cache, and they are managed by\nnpm WARN config     [`cacache`](http://npm.im/cacache).\nnpm WARN config sso-type The --auth-type method of SSO/SAML/OAuth will be removed in a future\nnpm WARN \u001b[0m\u001b[91mconfig version of npm in favor of web-based login.\nnpm WARN config sso-poll-frequency The --auth-type method of SSO/SAML/OAuth will be removed in a future\nnpm WARN \u001b[0m\u001b[91mconfig version of npm in favor of web-based login.\nnpm WARN\u001b[0m\u001b[91m config auth-type The SSO/SAML/OAuth methods are deprecated and will be removed in\nnpm\u001b[0m\u001b[91m WARN config a future version of npm in favor of web-based login.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mconfig shrinkwrap Use the --package-lock setting instead.\n\u001b[0m\u001b[91mnpm WARN config\u001b[0m\u001b[91m optional Use `--omit=optional` to exclude optional dependencies, or\nnpm WARN config `--include=optional` to include them.\nnpm \u001b[0m\u001b[91mWARN config \nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m config     Default value does install optional deps unless otherwise omitted.\n\u001b[0m\n> 5e-database@1.0.0 build:ts\n> tsc --project scripts\n\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice New major version of npm available! 8.12.0 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mimporting Ability-Scores...\n\u001b[91m2022-12-26T06:19:22.509+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:22.510+0000\tdropping: 5e-database.ability-scores\n2022-12-26T06:19:22.552+0000\t6 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Alignments...\n\u001b[91m2022-12-26T06:19:22.576+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:22.577+0000\tdropping: 5e-database.alignments\n2022-12-26T06:19:22.620+0000\t9 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Backgrounds...\n\u001b[91m2022-12-26T06:19:22.643+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:22.644+0000\tdropping: 5e-database.backgrounds\n2022-12-26T06:19:22.691+0000\t1 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Classes...\n\u001b[91m2022-12-26T06:19:22.714+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:22.715+0000\tdropping: 5e-database.classes\n2022-12-26T06:19:22.850+0000\t12 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Conditions...\n\u001b[91m2022-12-26T06:19:22.873+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:22.874+0000\tdropping: 5e-database.conditions\n2022-12-26T06:19:22.918+0000\t15 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Damage-Types...\n\u001b[91m2022-12-26T06:19:22.941+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:22.942+0000\tdropping: 5e-database.damage-types\n2022-12-26T06:19:22.987+0000\t13 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Equipment-Categories...\n\u001b[91m2022-12-26T06:19:23.010+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.011+0000\tdropping: 5e-database.equipment-categories\n2022-12-26T06:19:23.061+0000\t39 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Equipment...\n\u001b[91m2022-12-26T06:19:23.084+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.084+0000\tdropping: 5e-database.equipment\n2022-12-26T06:19:23.142+0000\t237 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Feats...\n\u001b[91m2022-12-26T06:19:23.165+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.166+0000\tdropping: 5e-database.feats\n2022-12-26T06:19:23.206+0000\t1 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Features...\n\u001b[91m2022-12-26T06:19:23.229+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.230+0000\tdropping: 5e-database.features\n2022-12-26T06:19:23.295+0000\t370 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Languages...\n\u001b[91m2022-12-26T06:19:23.321+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.321+0000\tdropping: 5e-database.languages\n2022-12-26T06:19:23.362+0000\t16 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Levels...\n\u001b[91m2022-12-26T06:19:23.384+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.384+0000\tdropping: 5e-database.levels\n2022-12-26T06:19:23.446+0000\t290 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Magic-Items...\n\u001b[91m2022-12-26T06:19:23.469+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.470+0000\tdropping: 5e-database.magic-items\n2022-12-26T06:19:23.544+0000\t362 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Magic-Schools...\n\u001b[91m2022-12-26T06:19:23.567+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.568+0000\tdropping: 5e-database.magic-schools\n2022-12-26T06:19:23.609+0000\t8 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Monsters...\n\u001b[91m2022-12-26T06:19:23.632+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.632+0000\tdropping: 5e-database.monsters\n2022-12-26T06:19:23.756+0000\t334 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Proficiencies...\n\u001b[91m2022-12-26T06:19:23.783+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.783+0000\tdropping: 5e-database.proficiencies\n2022-12-26T06:19:23.861+0000\t117 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Races...\n\u001b[91m2022-12-26T06:19:23.884+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.884+0000\tdropping: 5e-database.races\n2022-12-26T06:19:23.933+0000\t9 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Rule-Sections...\n\u001b[91m2022-12-26T06:19:23.955+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:23.956+0000\tdropping: 5e-database.rule-sections\n2022-12-26T06:19:24.008+0000\t30 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Rules...\n\u001b[91m2022-12-26T06:19:24.031+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.031+0000\tdropping: 5e-database.rules\n2022-12-26T06:19:24.073+0000\t6 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Skills...\n\u001b[91m2022-12-26T06:19:24.097+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.097+0000\tdropping: 5e-database.skills\n2022-12-26T06:19:24.141+0000\t18 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Spells...\n\u001b[91m2022-12-26T06:19:24.163+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.164+0000\tdropping: 5e-database.spells\n2022-12-26T06:19:24.248+0000\t319 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Subclasses...\n\u001b[91m2022-12-26T06:19:24.271+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.272+0000\tdropping: 5e-database.subclasses\n2022-12-26T06:19:24.321+0000\t12 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Subraces...\n\u001b[91m2022-12-26T06:19:24.344+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.345+0000\tdropping: 5e-database.subraces\n2022-12-26T06:19:24.388+0000\t4 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Traits...\n\u001b[91m2022-12-26T06:19:24.411+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.411+0000\tdropping: 5e-database.traits\n2022-12-26T06:19:24.463+0000\t38 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mimporting Weapon-Properties...\n\u001b[91m2022-12-26T06:19:24.487+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.487+0000\tdropping: 5e-database.weapon-properties\n2022-12-26T06:19:24.527+0000\t11 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0mcreating index table...\n[\n  { index: 'ability-scores' },\n  { index: 'alignments' },\n  { index: 'backgrounds' },\n  { index: 'classes' },\n  { index: 'conditions' },\n  { index: 'damage-types' },\n  { index: 'equipment-categories' },\n  { index: 'equipment' },\n  { index: 'feats' },\n  { index: 'features' },\n  { index: 'languages' },\n  { index: 'levels' },\n  { index: 'magic-items' },\n  { index: 'magic-schools' },\n  { index: 'monsters' },\n  { index: 'proficiencies' },\n  { index: 'races' },\n  { index: 'rule-sections' },\n  { index: 'rules' },\n  { index: 'skills' },\n  { index: 'spells' },\n  { index: 'subclasses' },\n  { index: 'subraces' },\n  { index: 'traits' },\n  { index: 'weapon-properties' }\n]\n\u001b[91m2022-12-26T06:19:24.556+0000\tconnected to: mongodb://localhost/5e-database\n2022-12-26T06:19:24.557+0000\tdropping: 5e-database.collections\n2022-12-26T06:19:24.604+0000\t25 document(s) imported successfully. 0 document(s) failed to import.\n\u001b[0m{\"t\":{\"$date\":\"2022-12-26T06:19:24.654+00:00\"},\"s\":\"I\",  \"c\":\"CONTROL\",  \"id\":23285,   \"ctx\":\"-\",\"msg\":\"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'\"}\n{\"t\":{\"$date\":\"2022-12-26T06:19:24.656+00:00\"},\"s\":\"I\",  \"c\":\"NETWORK\",  \"id\":4915701, \"ctx\":\"main\",\"msg\":\"Initialized wire specification\",\"attr\":{\"spec\":{\"incomingExternalClient\":{\"minWireVersion\":0,\"maxWireVersion\":17},\"incomingInternalClient\":{\"minWireVersion\":0,\"maxWireVersion\":17},\"outgoing\":{\"minWireVersion\":6,\"maxWireVersion\":17},\"isInternalClient\":true}}}\n{\"t\":{\"$date\":\"2022-12-26T06:19:24.656+00:00\"},\"s\":\"I\",  \"c\":\"NETWORK\",  \"id\":4648601, \"ctx\":\"main\",\"msg\":\"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize.\"}\n{\"t\":{\"$date\":\"2022-12-26T06:19:24.657+00:00\"},\"s\":\"I\",  \"c\":\"REPL\",     \"id\":5123008, \"ctx\":\"main\",\"msg\":\"Successfully registered PrimaryOnlyService\",\"attr\":{\"service\":\"TenantMigrationDonorService\",\"namespace\":\"config.tenantMigrationDonors\"}}\n{\"t\":{\"$date\":\"2022-12-26T06:19:24.657+00:00\"},\"s\":\"I\",  \"c\":\"REPL\",     \"id\":5123008, \"ctx\":\"main\",\"msg\":\"Successfully registered PrimaryOnlyService\",\"attr\":{\"service\":\"TenantMigrationRecipientService\",\"namespace\":\"config.tenantMigrationRecipients\"}}\n{\"t\":{\"$date\":\"2022-12-26T06:19:24.657+00:00\"},\"s\":\"I\",  \"c\":\"REPL\",     \"id\":5123008, \"ctx\":\"main\",\"msg\":\"Successfully registered PrimaryOnlyService\",\"attr\":{\"service\":\"ShardSplitDonorService\",\"namespace\":\"config.tenantSplitDonors\"}}\nKilling process with pid: 9\nRemoving intermediate container 0988108cd28a\n ---> 2bd81a2ed6bd\nStep 13/15 : VOLUME /data/db2\n ---> Running in bac4c5848fb9\nRemoving intermediate container bac4c5848fb9\n ---> 200b2008853d\nStep 14/15 : HEALTHCHECK CMD curl --connect-timeout 10 --silent --fail http://localhost:27017 || exit 1\n ---> Running in 62254e7b7fec\nRemoving intermediate container 62254e7b7fec\n ---> 5cf172b41ff5\nStep 15/15 : CMD [\"mongod\", \"--config\", \"/etc/mongodb.conf\"]\n ---> Running in eb66849d71ac\nRemoving intermediate container eb66849d71ac\n ---> 627f2ee1c3ef\nSuccessfully built 627f2ee1c3ef\nSuccessfully tagged 5e-database:latest\n","stderr":"","imageSize":1730668850},"repair":{"violations":[],"repairedDockerfile":"# This recipe is pulled from: https://stackoverflow.com/a/33601894\n\n# Parent Dockerfile https://github.com/docker-library/mongo/blob/982328582c74dd2f0a9c8c77b84006f291f974c3/3.0/Dockerfile\nFROM mongo:6.0.1\n\n# Modify child mongo to use /data/db2 as dbpath (because /data/db wont persist the build)\nCOPY ./docker/mongodb.conf /etc\nRUN mkdir -p /data/db2 \\\n  && chown -R mongodb:mongodb /data/db2\n\nRUN apt-get update \\\n  && apt-get -y install curl \\\n  && apt-get clean \\\n  && rm -rf /var/apt/lists/*\nRUN curl -fsSL https://deb.nodesource.com/setup_14.x | bash -\nRUN apt-get install -y nodejs \\\n  && apt-get clean \\\n  && rm -rf /var/apt/lists/*\n\nENV MONGODB_URI mongodb://localhost/5e-database\n\n## Add code\nWORKDIR /data/db2\nCOPY --chown=mongodb:mongodb package.json package-lock.json /data/db2/\nRUN npm install\nCOPY --chown=mongodb:mongodb . /data/db2/\n\n\nRUN mongod --fork --logpath /var/log/mongodb.log --dbpath /data/db2 \\\n  && npm run db:refresh \\\n  && mongod --dbpath /data/db2 --shutdown \\\n  && chown -R mongodb /data/db2\n\n# Make the new dir a VOLUME to persists it\nVOLUME /data/db2\n\nHEALTHCHECK CMD curl --connect-timeout 10 --silent --fail http://localhost:27017 || exit 1\n\nCMD [\"mongod\", \"--config\", \"/etc/mongodb.conf\"]\n"},"endTime":1672035718559}