{"repository":"https://github.com/5e-bits/5e-srd-api","dockerfilePath":"Dockerfile","startTime":1672497008969,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/5e-bits/5e-srd-api'...\n","error":null,"commit":"6ef4911b384b80af432b05d29464a3f3abc6e5bd"},"originalBuild":{"startTimestamp":1672497010570,"endTimestamp":1672497104763,"error":null,"stdout":"Sending build context to Docker daemon  11.31MB\r\r\nStep 1/7 : FROM node:16.15-alpine\n16.15-alpine: Pulling from library/node\n2408cc74d12b: Already exists\n5b80453a567d: Pulling fs layer\n3420de6432e1: Pulling fs layer\n65b549a28248: Pulling fs layer\n65b549a28248: Download complete\n3420de6432e1: Verifying Checksum\n3420de6432e1: Download complete\n5b80453a567d: Verifying Checksum\n5b80453a567d: Download complete\n5b80453a567d: Pull complete\n3420de6432e1: Pull complete\n65b549a28248: Pull complete\nDigest: sha256:c785e617c8d7015190c0d41af52cc69be8a16e3d9eb7cb21f0bb58bcfca14d6b\nStatus: Downloaded newer image for node:16.15-alpine\n ---> 97c7a05048e1\nStep 2/7 : WORKDIR /app\n ---> Running in 5df929fa0d22\nRemoving intermediate container 5df929fa0d22\n ---> d21201b1831c\nStep 3/7 : COPY package.json package-lock.json /app/\n ---> 4586d6f795a8\nStep 4/7 : RUN npm install\n ---> Running in f4fd187fb8fb\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated apollo-server-plugin-response-cache@3.8.1: The `apollo-server-plugin-response-cache` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server-plugin-response-cache` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/mockingoose@2.13.0: This is a stub types definition. mockingoose provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 1263 packages, and audited 1474 packages in 25s\n\n152 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container f4fd187fb8fb\n ---> 595a80f60cd2\nStep 5/7 : COPY . /app\n ---> 4af5009fd65d\nStep 6/7 : RUN npm run build\n ---> Running in 05fd4ea12280\n\n> dnd-5e-srd-api@0.0.0 build\n> npm-run-all clean bundle-swagger build:ts copy-assets\n\n\n> dnd-5e-srd-api@0.0.0 clean\n> rimraf dist/*\n\n\n> dnd-5e-srd-api@0.0.0 bundle-swagger\n> npm run validate-swagger && swagger-cli bundle --outfile src/swagger/dist/openapi.yml --type yaml src/swagger/swagger.yml && swagger-cli bundle --outfile src/swagger/dist/openapi.json --type json src/swagger/swagger.yml\n\n\n> dnd-5e-srd-api@0.0.0 validate-swagger\n> swagger-cli validate src/swagger/swagger.yml\n\nsrc/swagger/swagger.yml is valid\nCreated src/swagger/dist/openapi.yml from src/swagger/swagger.yml\nCreated src/swagger/dist/openapi.json from src/swagger/swagger.yml\n\n> dnd-5e-srd-api@0.0.0 build:ts\n> tsc\n\n\n> dnd-5e-srd-api@0.0.0 copy-assets\n> ts-node tools/copyAssets\n\nRemoving intermediate container 05fd4ea12280\n ---> 26e608e414e1\nStep 7/7 : CMD [\"node\", \"dist/src/start.js\"]\n ---> Running in 0b9dca6ca00a\nRemoving intermediate container 0b9dca6ca00a\n ---> d2d179028658\nSuccessfully built d2d179028658\nSuccessfully tagged 5e-srd-api:latest\n","stderr":"","imageSize":542837290},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:16.15-alpine\n\n## Add code\nWORKDIR /app\n\n# Install dependencies\nCOPY package.json package-lock.json /app/\nRUN npm install\n\nCOPY . /app\n\nRUN npm run build\n\n# Start the main process.\nCMD [\"node\", \"dist/src/start.js\"]\n"},"repairedBuild":{"startTimestamp":1672497105809,"endTimestamp":1672497312831,"error":null,"stdout":"Sending build context to Docker daemon  11.31MB\r\r\nStep 1/7 : FROM node:16.15-alpine\n ---> 97c7a05048e1\nStep 2/7 : WORKDIR /app\n ---> Running in 7f1bb74bea25\nRemoving intermediate container 7f1bb74bea25\n ---> 19f9684fc5ed\nStep 3/7 : COPY package.json package-lock.json /app/\n ---> 69ba3bc83663\nStep 4/7 : RUN npm install\n ---> Running in 25a1b8b568c0\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-types@3.7.1: The `apollo-server-types` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-plugin-base@3.7.1: The `apollo-server-plugin-base` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-errors@3.3.1: The `apollo-server-errors` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-datasource@3.3.2: The `apollo-datasource` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-plugin-response-cache@3.8.1: The `apollo-server-plugin-response-cache` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server-plugin-response-cache` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated @types/mockingoose@2.13.0: This is a stub types definition. mockingoose provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m apollo-server-express@3.11.1: The `apollo-server-express` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-env@4.2.1: The `apollo-server-env` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/utils.fetcher` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-reporting-protobuf@3.3.3: The `apollo-reporting-protobuf` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/usage-reporting-protobuf` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated apollo-server-core@3.11.1: The `apollo-server-core` package is part of Apollo Server v2 and v3, which are now deprecated (end-of-life October 22nd 2023). This package's functionality is now found in the `@apollo/server` package. See https://www.apollographql.com/docs/apollo-server/previous-versions/ for more details.\n\u001b[0m\nadded 1263 packages, and audited 1474 packages in 23s\n\n152 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.11.0 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 25a1b8b568c0\n ---> e07f06d06858\nStep 5/7 : COPY . /app\n ---> 15541cee27cb\nStep 6/7 : RUN npm run build\n ---> Running in 83173a49f503\n\n> dnd-5e-srd-api@0.0.0 build\n> npm-run-all clean bundle-swagger build:ts copy-assets\n\n\n> dnd-5e-srd-api@0.0.0 clean\n> rimraf dist/*\n\n\n> dnd-5e-srd-api@0.0.0 bundle-swagger\n> npm run validate-swagger && swagger-cli bundle --outfile src/swagger/dist/openapi.yml --type yaml src/swagger/swagger.yml && swagger-cli bundle --outfile src/swagger/dist/openapi.json --type json src/swagger/swagger.yml\n\n\n> dnd-5e-srd-api@0.0.0 validate-swagger\n> swagger-cli validate src/swagger/swagger.yml\n\nsrc/swagger/swagger.yml is valid\nCreated src/swagger/dist/openapi.yml from src/swagger/swagger.yml\nCreated src/swagger/dist/openapi.json from src/swagger/swagger.yml\n\n> dnd-5e-srd-api@0.0.0 build:ts\n> tsc\n\n\n> dnd-5e-srd-api@0.0.0 copy-assets\n> ts-node tools/copyAssets\n\nRemoving intermediate container 83173a49f503\n ---> a1910688b763\nStep 7/7 : CMD [\"node\", \"dist/src/start.js\"]\n ---> Running in 4fc80278db7a\nRemoving intermediate container 4fc80278db7a\n ---> b8898b14bfa6\nSuccessfully built b8898b14bfa6\nSuccessfully tagged 5e-srd-api:latest\n","stderr":"","imageSize":542837026},"endTime":1672497316121}