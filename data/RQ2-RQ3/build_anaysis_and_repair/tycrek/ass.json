{"repository":"https://github.com/tycrek/ass","dockerfilePath":"Dockerfile","startTime":1672471829114,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tycrek/ass'...\n","error":null,"commit":"9b46d80313b7afb66af3cb71a9fc10e3066811b5"},"originalBuild":{"startTimestamp":1672471829974,"endTimestamp":1672471916549,"error":null,"stdout":"Sending build context to Docker daemon  1.091MB\r\r\nStep 1/6 : FROM node:16.14.0\n16.14.0: Pulling from library/node\n1c9a8b42b578: Pulling fs layer\n163066942b43: Pulling fs layer\ncf70e03a8272: Pulling fs layer\n86c5ff335494: Pulling fs layer\n8c03e72651e6: Pulling fs layer\n0ba5b187bf1b: Pulling fs layer\n4efdf6f1b568: Pulling fs layer\n38284072a01e: Pulling fs layer\n825c06994469: Pulling fs layer\n8c03e72651e6: Waiting\n86c5ff335494: Waiting\n0ba5b187bf1b: Waiting\n38284072a01e: Waiting\n4efdf6f1b568: Waiting\ncf70e03a8272: Verifying Checksum\ncf70e03a8272: Download complete\n163066942b43: Verifying Checksum\n163066942b43: Download complete\n1c9a8b42b578: Verifying Checksum\n1c9a8b42b578: Download complete\n86c5ff335494: Verifying Checksum\n86c5ff335494: Download complete\n0ba5b187bf1b: Verifying Checksum\n0ba5b187bf1b: Download complete\n38284072a01e: Verifying Checksum\n38284072a01e: Download complete\n825c06994469: Download complete\n1c9a8b42b578: Pull complete\n4efdf6f1b568: Verifying Checksum\n4efdf6f1b568: Download complete\n8c03e72651e6: Verifying Checksum\n8c03e72651e6: Download complete\n163066942b43: Pull complete\ncf70e03a8272: Pull complete\n86c5ff335494: Pull complete\n8c03e72651e6: Pull complete\n0ba5b187bf1b: Pull complete\n4efdf6f1b568: Pull complete\n38284072a01e: Pull complete\n825c06994469: Pull complete\nDigest: sha256:61b6cc81ecc3f94f614dca6bfdc5262d15a6618f7aabfbfc6f9f05c935ee753c\nStatus: Downloaded newer image for node:16.14.0\n ---> b426ce8b7669\nStep 2/6 : WORKDIR /opt/ass/\n ---> Running in a2172c9c77b8\nRemoving intermediate container a2172c9c77b8\n ---> 16335d9a256f\nStep 3/6 : COPY . ./\n ---> 955990f8a776\nStep 4/6 : RUN mkdir -p /opt/ass/uploads/thumbnails/ &&     mkdir -p /opt/ass/share/ &&     touch /opt/ass/config.json &&     touch /opt/ass/auth.json &&     touch /opt/ass/data.json\n ---> Running in f491fb0a934f\nRemoving intermediate container f491fb0a934f\n ---> 595e716420e6\nStep 5/6 : RUN npm i --save-dev &&     npm run build\n ---> Running in 8ed6e167736d\n\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/tailwindcss@3.1.0: This is a stub types definition. tailwindcss provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @tycrek/express-nofavicon@1.0.3: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\nadded 620 packages, and audited 621 packages in 18s\n\n67 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (6 moderate, 3 high, 2 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.3.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n> ass@0.14.2 build\n> NODE_OPTIONS=\"--max-old-space-size=1024\" tsc\n\nRemoving intermediate container 8ed6e167736d\n ---> 8a1ae201bdce\nStep 6/6 : CMD npm start\n ---> Running in b3afad6bb79d\nRemoving intermediate container b3afad6bb79d\n ---> 2e700a898ceb\nSuccessfully built 2e700a898ceb\nSuccessfully tagged ass:latest\n","stderr":"","imageSize":1334147358},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":22,"end":22,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"# ass Dockerfile v0.3.1\n# authors:\n#  - tycrek <t@tycrek.com> (https://tycrek.com/)\n#  - Zusier <zusier@pm.me> (https://github.com/Zusier)\n\n# Node 16 image\nFROM node:16.14.0\n\n# Set working directory\nWORKDIR /opt/ass/\n\n# Copy directory files (config.json, source files etc.)\nCOPY . ./\n\n# Ensure these directories & files exist for compose volumes\nRUN mkdir -p /opt/ass/uploads/thumbnails/ && \\\n    mkdir -p /opt/ass/share/ && \\\n    touch /opt/ass/config.json && \\\n    touch /opt/ass/auth.json && \\\n    touch /opt/ass/data.json\n\n# Install dependencies as rootless user\nRUN npm i --save-dev && \\\n    npm run build\n\n# Start ass\nCMD npm start\n"},"repairedBuild":{"startTimestamp":1672471917165,"endTimestamp":1672471951385,"error":null,"stdout":"Sending build context to Docker daemon  1.091MB\r\r\nStep 1/6 : FROM node:16.14.0\n ---> b426ce8b7669\nStep 2/6 : WORKDIR /opt/ass/\n ---> Running in a81e368e9eea\nRemoving intermediate container a81e368e9eea\n ---> 1c27ec7edd30\nStep 3/6 : COPY . ./\n ---> 9143bfced23a\nStep 4/6 : RUN mkdir -p /opt/ass/uploads/thumbnails/ &&     mkdir -p /opt/ass/share/ &&     touch /opt/ass/config.json &&     touch /opt/ass/auth.json &&     touch /opt/ass/data.json\n ---> Running in 36742655a0dc\nRemoving intermediate container 36742655a0dc\n ---> 057156b5d7f2\nStep 5/6 : RUN npm i --save-dev &&     npm run build\n ---> Running in 6e19f9c0cac5\n\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/tailwindcss@3.1.0: This is a stub types definition. tailwindcss provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @tycrek/express-nofavicon@1.0.3: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\nadded 620 packages, and audited 621 packages in 13s\n\n67 packages are looking for funding\n  run `npm fund` for details\n\n11 vulnerabilities (6 moderate, 3 high, 2 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.3.1 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\n> ass@0.14.2 build\n> NODE_OPTIONS=\"--max-old-space-size=1024\" tsc\n\nRemoving intermediate container 6e19f9c0cac5\n ---> b1c3a845e772\nStep 6/6 : CMD npm start\n ---> Running in 455bb69169f5\nRemoving intermediate container 455bb69169f5\n ---> 96a5093f5f5a\nSuccessfully built 96a5093f5f5a\nSuccessfully tagged ass:latest\n","stderr":"","imageSize":1334147362},"endTime":1672471951893}