{"repository":"https://github.com/jxnblk/mdx-docs","dockerfilePath":"Dockerfile","startTime":1672700761763,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jxnblk/mdx-docs'...\n","error":null,"commit":"c928a2586bb0035e97be202169a573f0bf4f5980"},"originalBuild":{"startTimestamp":1672700763231,"endTimestamp":1672700906575,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t mdx-docs:latest -f /tmp/dinghy-analysis/jxnblk/mdx-docs/Dockerfile ."},"stdout":"Sending build context to Docker daemon  4.266MB\r\r\nStep 1/8 : FROM node:10-alpine\n10-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\nde915e575d22: Pulling fs layer\n7150aa69525b: Pulling fs layer\nd7aa47be044e: Pulling fs layer\nd7aa47be044e: Waiting\n7150aa69525b: Verifying Checksum\n7150aa69525b: Download complete\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\nde915e575d22: Verifying Checksum\nde915e575d22: Download complete\nddad3d7c1e96: Pull complete\nd7aa47be044e: Download complete\nde915e575d22: Pull complete\n7150aa69525b: Pull complete\nd7aa47be044e: Pull complete\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/8 : WORKDIR /usr/src\n ---> Running in dc4fa86a20e9\nRemoving intermediate container dc4fa86a20e9\n ---> 69d40406e62d\nStep 3/8 : COPY . .\n ---> 58be1a1753f5\nStep 4/8 : RUN npm i\n ---> Running in 515bf376c371\n\n> styled-components@3.4.9 postinstall /usr/src/node_modules/styled-components\n> node ./scripts/postinstall.js || exit 0\n\nUse styled-components at work? Consider supporting our development efforts at opencollective.com/styled-components\n\u001b[91mnpm WARN lifecycle undefined~prepare: cannot run in wd undefined lerna bootstrap --hoist (wd=/usr/src)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1078 packages from 545 contributors and audited 1146 packages in 13.52s\nfound 453 vulnerabilities (30 low, 92 moderate, 250 high, 81 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 515bf376c371\n ---> 344101c5a15d\nStep 5/8 : RUN npm run prepare\n ---> Running in be272ea03050\n\n> @ prepare /usr/src\n> lerna bootstrap --hoist\n\n\u001b[91mlerna\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m cli\u001b[0m\u001b[91m v3.4.1\n\u001b[0m\u001b[91mlerna info Bootstrapping 5 packages\n\u001b[0m\u001b[91mlerna WARN EHOIST_PKG_VERSION \"mdx-style\" package depends on react@^16.5.1, which differs from the hoisted react@^16.5.2.\n\u001b[0m\u001b[91mlerna WARN EHOIST_PKG_VERSION \"mdx-style\" package depends on react-dom@^16.5.1, which differs from the hoisted react-dom@^16.5.2.\n\u001b[0m\u001b[91mlerna WARN EHOIST_PKG_VERSION \"mdx-docs\" package depends on @babel/cli@^7.1.2, which differs from the hoisted @babel/cli@^7.0.0.\n\u001b[0m\u001b[91mlerna WARN EHOIST_PKG_VERSION \"mdx-live\" package depends on @babel/cli@^7.1.0, which differs from the hoisted @babel/cli@^7.0.0.\n\u001b[0m\u001b[91mlerna WARN EHOIST_PKG_VERSION \"mdx-live\" package depends on react-test-renderer@^16.5.2, which differs from the hoisted react-test-renderer@^16.5.1.\n\u001b[0m\u001b[91mlerna info Installing external dependencies\n\u001b[0m\u001b[91mlerna info hoist Installing hoisted dependencies into root\n\u001b[0m\u001b[91mlerna info hoist Pruning hoisted dependencies\n\u001b[0m\u001b[91mlerna info \u001b[0m\u001b[91mhoist\u001b[0m\u001b[91m Finished pruning hoisted dependencies\n\u001b[0m\u001b[91mlerna info hoist Finished bootstrapping root\n\u001b[0m\u001b[91mlerna info\u001b[0m\u001b[91m Symlinking packages and binaries\n\u001b[0m\u001b[91mlerna info lifecycle mdx-live@2.0.0-alpha.2~prepare: mdx-live@2.0.0-alpha.2\n\u001b[0m\u001b[91mlerna info\u001b[0m\u001b[91m lifecycle mdx-style@2.0.0-alpha.2~prepare: mdx-style@2.0.0-alpha.2\n\u001b[0m\n> mdx-live@2.0.0-alpha.2 prepare /usr/src/packages/mdx-live\n> babel src -d dist\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0mSuccessfully compiled 1 file with Babel.\n\n> mdx-style@2.0.0-alpha.2 prepare /usr/src/packages/mdx-style\n> babel src -d dist\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0mSuccessfully compiled 4 files with Babel (518ms).\n\u001b[91mlerna \u001b[0m\u001b[91minfo \u001b[0m\u001b[91mlifecycle mdx-docs@2.0.0-alpha.2~prepare: mdx-docs@2.0.0-alpha.2\n\u001b[0m\n> mdx-docs@2.0.0-alpha.2 prepare /usr/src/packages/mdx-docs\n> babel src -d dist\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0mSuccessfully compiled 7 files with Babel.\n\u001b[91mlerna success\u001b[0m\u001b[91m Bootstrapped 5 packages\n\u001b[0mRemoving intermediate container be272ea03050\n ---> c2bdca9997c4\nStep 6/8 : RUN npm t\n ---> Running in 70e233377eb1\n\n> @ test /usr/src\n> jest\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update caniuse-lite browserslist`\n\u001b[0m\u001b[91mFAIL packages/mdx-style/test/index.js\n\u001b[0m\u001b[91m  ● MDXStyle › renders\n\n    expect(function).not.toThrow()\n\n    Expected the function not to throw an error.\n    Instead, it threw:\n      TypeError: Cannot read property 'current' of undefined\n          3 | import MDXStyle, { withComponents } from '../src'\n          4 | \n        > 5 | const renderJSON = el => TestRenderer.create(el).toJSON()\n            |                                       ^\n          6 | \n          7 | describe('MDXStyle', () => {\n          8 |   test('renders', () => {\n\n      at warnIfNotScopedWithMatchingAct (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13713:31)\n      at updateContainer (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14706:7)\n      at Object.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15455:5)\n      at create (packages/mdx-style/test/index.js:5:39)\n      at renderJSON (packages/mdx-style/test/index.js:10:7)\n      at Object.<anonymous> (node_modules/expect/build/to_throw_matchers.js:51:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:33)\n      at Object.toThrow (packages/mdx-style/test/index.js:13:12)\n      at Object.toThrow (packages/mdx-style/test/index.js:13:12)\n\n  ● MDXStyle › renders with css\n\n    TypeError: Cannot read property 'current' of undefined\n\n      3 | import MDXStyle, { withComponents } from '../src'\n      4 | \n    > 5 | const renderJSON = el => TestRenderer.create(el).toJSON()\n        |                                       ^\n      6 | \n      7 | describe('MDXStyle', () => {\n      8 |   test('renders', () => {\n\n      at warnIfNotScopedWithMatchingAct (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13713:31)\n      at updateContainer (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14706:7)\n      at Object.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15455:5)\n      at create (packages/mdx-style/test/index.js:5:39)\n      at Object.renderJSON (packages/mdx-style/test/index.js:17:18)\n\n  ● MDXStyle › adds styles to custom MDX components\n\n    TypeError: Cannot read property 'current' of undefined\n\n      3 | import MDXStyle, { withComponents } from '../src'\n      4 | \n    > 5 | const renderJSON = el => TestRenderer.create(el).toJSON()\n        |                                       ^\n      6 | \n      7 | describe('MDXStyle', () => {\n      8 |   test('renders', () => {\n\n      at warnIfNotScopedWithMatchingAct (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13713:31)\n      at updateContainer (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14706:7)\n      at Object.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:15455:5)\n      at create (packages/mdx-style/test/index.js:5:39)\n      at Object.renderJSON (packages/mdx-style/test/index.js:43:18)\n\n\u001b[0m\u001b[91mPASS packages/mdx-live/test/index.js\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mTest Suites: 1 failed, 1 passed, 2 total\nTests:       3 failed, 4 passed, 7 total\nSnapshots:   3 passed, 3 total\nTime:        2s\nRan all test suites.\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mERR!\u001b[0m\u001b[91m Test failed.  See above for more details.\n\u001b[0mRemoving intermediate container 70e233377eb1\n","stderr":"The command '/bin/sh -c npm t' returned a non-zero code: 1\n"},"endTime":1672700906657}