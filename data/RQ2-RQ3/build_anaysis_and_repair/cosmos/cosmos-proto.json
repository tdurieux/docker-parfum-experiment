{"repository":"https://github.com/cosmos/cosmos-proto","dockerfilePath":"Dockerfile","startTime":1672236105410,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cosmos/cosmos-proto'...\n","error":null,"commit":"2a5156b48d42f181d0aa2c3239a3c184113d5100"},"originalBuild":{"startTimestamp":1672236106363,"endTimestamp":1672236246603,"error":null,"stdout":"Sending build context to Docker daemon  1.431MB\r\r\nStep 1/12 : FROM golang:1.18-alpine\n1.18-alpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\n4e0e94741593: Pulling fs layer\n1ba1ea060658: Pulling fs layer\n1ba1ea060658: Verifying Checksum\n1ba1ea060658: Download complete\n019cfb932eb0: Verifying Checksum\n019cfb932eb0: Download complete\n019cfb932eb0: Pull complete\n4e0e94741593: Verifying Checksum\n4e0e94741593: Download complete\n4e0e94741593: Pull complete\n1ba1ea060658: Pull complete\nDigest: sha256:c2bb8281641f39a32e01854ae6b5fea45870f6f4c0c04365eadc0be596675456\nStatus: Downloaded newer image for golang:1.18-alpine\n ---> f37f1bcb329f\nStep 2/12 : ENV GOLANG_PROTOBUF_VERSION=1.28.1\n ---> Running in ac686ccbe3f3\nRemoving intermediate container ac686ccbe3f3\n ---> 64291d70cc52\nStep 3/12 : ARG PROTOC_VERSION=\"3.20.0\"\n ---> Running in 05112b1269b0\nRemoving intermediate container 05112b1269b0\n ---> a0e2dbc2ae37\nStep 4/12 : RUN apk add g++ make curl protoc git\n ---> Running in bc6d5ce15cbd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing brotli-libs (1.0.9-r9)\n(2/25) Installing nghttp2-libs (1.51.0-r0)\n(3/25) Installing libcurl (7.87.0-r0)\n(4/25) Installing curl (7.87.0-r0)\n(5/25) Installing libgcc (12.2.1_git20220924-r4)\n(6/25) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/25) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/25) Installing binutils (2.39-r2)\n(9/25) Installing libgomp (12.2.1_git20220924-r4)\n(10/25) Installing libatomic (12.2.1_git20220924-r4)\n(11/25) Installing gmp (6.2.1-r2)\n(12/25) Installing isl25 (0.25-r0)\n(13/25) Installing mpfr4 (4.1.0-r0)\n(14/25) Installing mpc1 (1.2.1-r1)\n(15/25) Installing gcc (12.2.1_git20220924-r4)\n(16/25) Installing musl-dev (1.2.3-r4)\n(17/25) Installing libc-dev (0.7.2-r3)\n(18/25) Installing g++ (12.2.1_git20220924-r4)\n(19/25) Installing libexpat (2.5.0-r0)\n(20/25) Installing pcre2 (10.42-r0)\n(21/25) Installing git (2.38.2-r0)\n(22/25) Installing make (4.3-r1)\n(23/25) Installing libprotobuf (3.21.9-r0)\n(24/25) Installing libprotoc (3.21.9-r0)\n(25/25) Installing protoc (3.21.9-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 249 MiB in 41 packages\nRemoving intermediate container bc6d5ce15cbd\n ---> bc16b9877d91\nStep 5/12 : RUN protoc --version\n ---> Running in ccfdd3b25bc4\nlibprotoc 3.21.9\nRemoving intermediate container ccfdd3b25bc4\n ---> d316978b7d26\nStep 6/12 : RUN go install google.golang.org/protobuf/cmd/protoc-gen-go@v${GOLANG_PROTOBUF_VERSION}\n ---> Running in 5af805dbc434\n\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0mRemoving intermediate container 5af805dbc434\n ---> b5b1bed8eace\nStep 7/12 : RUN go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest\n ---> Running in b96d0172976f\n\u001b[91mgo: downloading google.golang.org/grpc v1.51.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc/cmd/protoc-gen-go-grpc v1.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0mRemoving intermediate container b96d0172976f\n ---> 59c70f31da9f\nStep 8/12 : WORKDIR /build\n ---> Running in 8c739222d047\nRemoving intermediate container 8c739222d047\n ---> 1d5a9246a9cb\nStep 9/12 : COPY . ./\n ---> 6fd28ddb83be\nStep 10/12 : RUN go build -o protoc-gen-go-pulsar ./cmd/protoc-gen-go-pulsar\n ---> Running in 2e8c77caaf19\nRemoving intermediate container 2e8c77caaf19\n ---> d6901b7827c8\nStep 11/12 : WORKDIR /codegen\n ---> Running in cdf25a9896c3\nRemoving intermediate container cdf25a9896c3\n ---> 8e667033f1c2\nStep 12/12 : RUN mv /build/protoc-gen-go-pulsar /usr/bin/protoc-gen-go-pulsar\n ---> Running in 21981ce4687c\nRemoving intermediate container 21981ce4687c\n ---> 5aebbc5a7713\nSuccessfully built 5aebbc5a7713\nSuccessfully tagged cosmos-proto:latest\n","stderr":"","imageSize":683941852},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.18-alpine\n\nENV GOLANG_PROTOBUF_VERSION=1.28.1\n\nARG PROTOC_VERSION=\"3.20.0\"\n# add dependency\nRUN apk add --no-cache g++ make curl protoc git\n# sanity check to verify its correctly installed\nRUN protoc --version\n# install\nRUN go install google.golang.org/protobuf/cmd/protoc-gen-go@v${GOLANG_PROTOBUF_VERSION}\nRUN go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest\n\nWORKDIR /build\nCOPY . ./\n\nRUN go build -o protoc-gen-go-pulsar ./cmd/protoc-gen-go-pulsar\n\nWORKDIR /codegen\n\nRUN mv /build/protoc-gen-go-pulsar /usr/bin/protoc-gen-go-pulsar\n"},"repairedBuild":{"startTimestamp":1672236247500,"endTimestamp":1672236353548,"error":null,"stdout":"Sending build context to Docker daemon  1.431MB\r\r\nStep 1/12 : FROM golang:1.18-alpine\n ---> f37f1bcb329f\nStep 2/12 : ENV GOLANG_PROTOBUF_VERSION=1.28.1\n ---> Running in 112b636b20be\nRemoving intermediate container 112b636b20be\n ---> f6db32879ac1\nStep 3/12 : ARG PROTOC_VERSION=\"3.20.0\"\n ---> Running in def9085d2875\nRemoving intermediate container def9085d2875\n ---> 3f8fc4a12e4f\nStep 4/12 : RUN apk add --no-cache g++ make curl protoc git\n ---> Running in 25013047a1d0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/25) Installing brotli-libs (1.0.9-r9)\n(2/25) Installing nghttp2-libs (1.51.0-r0)\n(3/25) Installing libcurl (7.87.0-r0)\n(4/25) Installing curl (7.87.0-r0)\n(5/25) Installing libgcc (12.2.1_git20220924-r4)\n(6/25) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/25) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/25) Installing binutils (2.39-r2)\n(9/25) Installing libgomp (12.2.1_git20220924-r4)\n(10/25) Installing libatomic (12.2.1_git20220924-r4)\n(11/25) Installing gmp (6.2.1-r2)\n(12/25) Installing isl25 (0.25-r0)\n(13/25) Installing mpfr4 (4.1.0-r0)\n(14/25) Installing mpc1 (1.2.1-r1)\n(15/25) Installing gcc (12.2.1_git20220924-r4)\n(16/25) Installing musl-dev (1.2.3-r4)\n(17/25) Installing libc-dev (0.7.2-r3)\n(18/25) Installing g++ (12.2.1_git20220924-r4)\n(19/25) Installing libexpat (2.5.0-r0)\n(20/25) Installing pcre2 (10.42-r0)\n(21/25) Installing git (2.38.2-r0)\n(22/25) Installing make (4.3-r1)\n(23/25) Installing libprotobuf (3.21.9-r0)\n(24/25) Installing libprotoc (3.21.9-r0)\n(25/25) Installing protoc (3.21.9-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 249 MiB in 41 packages\nRemoving intermediate container 25013047a1d0\n ---> e550d7d51220\nStep 5/12 : RUN protoc --version\n ---> Running in 00d003e6ea53\nlibprotoc 3.21.9\nRemoving intermediate container 00d003e6ea53\n ---> 403172535f33\nStep 6/12 : RUN go install google.golang.org/protobuf/cmd/protoc-gen-go@v${GOLANG_PROTOBUF_VERSION}\n ---> Running in b01ffca6fdb3\n\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0mRemoving intermediate container b01ffca6fdb3\n ---> 940676b39da8\nStep 7/12 : RUN go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest\n ---> Running in a6898d64293e\n\u001b[91mgo: downloading google.golang.org/grpc v1.51.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc/cmd/protoc-gen-go-grpc v1.2.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0mRemoving intermediate container a6898d64293e\n ---> 89119117b21d\nStep 8/12 : WORKDIR /build\n ---> Running in 66d9afcb98ca\nRemoving intermediate container 66d9afcb98ca\n ---> 87bc2c14469c\nStep 9/12 : COPY . ./\n ---> 9e58deaad3f7\nStep 10/12 : RUN go build -o protoc-gen-go-pulsar ./cmd/protoc-gen-go-pulsar\n ---> Running in c7678ee27cfd\nRemoving intermediate container c7678ee27cfd\n ---> f0ac67c7f768\nStep 11/12 : WORKDIR /codegen\n ---> Running in 813032c5483e\nRemoving intermediate container 813032c5483e\n ---> fec5cab39578\nStep 12/12 : RUN mv /build/protoc-gen-go-pulsar /usr/bin/protoc-gen-go-pulsar\n ---> Running in 2a5969a49799\nRemoving intermediate container 2a5969a49799\n ---> f95fa9ca911e\nSuccessfully built f95fa9ca911e\nSuccessfully tagged cosmos-proto:latest\n","stderr":"","imageSize":681358963},"endTime":1672236354271}