{"repository":"https://github.com/makkes/shorty","dockerfilePath":"Dockerfile","startTime":1672392789140,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/makkes/shorty'...\n","error":null,"commit":"76887a4826442f81a27de9ed64322440e37db6db"},"originalBuild":{"startTimestamp":1672392790211,"endTimestamp":1672392861721,"error":null,"stdout":"Sending build context to Docker daemon  10.48MB\r\r\nStep 1/13 : FROM golang:1.11.5 as builder\n1.11.5: Pulling from library/golang\n22dbe790f715: Pulling fs layer\n0250231711a0: Pulling fs layer\n6fba9447437b: Pulling fs layer\nc2b4d327b352: Pulling fs layer\n619f4932b7ea: Pulling fs layer\ne2fd6cbd3c6f: Pulling fs layer\n1d96446d2b20: Pulling fs layer\n1d96446d2b20: Waiting\nc2b4d327b352: Waiting\ne2fd6cbd3c6f: Waiting\n619f4932b7ea: Waiting\n6fba9447437b: Verifying Checksum\n6fba9447437b: Download complete\n0250231711a0: Download complete\n619f4932b7ea: Download complete\n22dbe790f715: Verifying Checksum\n22dbe790f715: Download complete\n1d96446d2b20: Download complete\nc2b4d327b352: Verifying Checksum\nc2b4d327b352: Download complete\n22dbe790f715: Pull complete\n0250231711a0: Pull complete\n6fba9447437b: Pull complete\nc2b4d327b352: Pull complete\ne2fd6cbd3c6f: Verifying Checksum\ne2fd6cbd3c6f: Download complete\n619f4932b7ea: Pull complete\ne2fd6cbd3c6f: Pull complete\n1d96446d2b20: Pull complete\nDigest: sha256:342872745847966ab630e9cc5b6980ed3fe7f4e3ea44b10efac995575730c9b8\nStatus: Downloaded newer image for golang:1.11.5\n ---> 1454e2b3d01f\nStep 2/13 : WORKDIR /shorty\n ---> Running in 2f6d52aedcef\nRemoving intermediate container 2f6d52aedcef\n ---> 80ca130c414f\nStep 3/13 : COPY . .\n ---> eaf13efc760d\nStep 4/13 : RUN go test -mod=vendor ./...\n ---> Running in 5afed3c8822c\nok  \tgithub.com/makkes/shorty\t0.005s\n?   \tgithub.com/makkes/shorty/boltdb\t[no test files]\n?   \tgithub.com/makkes/shorty/db\t[no test files]\n?   \tgithub.com/makkes/shorty/dynamodb\t[no test files]\nRemoving intermediate container 5afed3c8822c\n ---> 835e2265aa42\nStep 5/13 : RUN go build -mod=vendor\n ---> Running in abfddf64bbc9\nRemoving intermediate container abfddf64bbc9\n ---> 2f0c3fcd0409\nStep 6/13 : FROM alpine:latest\n ---> 49176f190c7e\nStep 7/13 : RUN apk update && apk add ca-certificates\n ---> Running in 39434c1c858b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 39434c1c858b\n ---> 6d81a4c31a7f\nStep 8/13 : RUN addgroup -S shorty && adduser -S -G shorty shorty\n ---> Running in 47395dc42ebd\nRemoving intermediate container 47395dc42ebd\n ---> dfbf91aeb58d\nStep 9/13 : USER shorty\n ---> Running in b3e196c45205\nRemoving intermediate container b3e196c45205\n ---> 0324f4c68312\nStep 10/13 : WORKDIR /home/shorty\n ---> Running in b7f06135d1b5\nRemoving intermediate container b7f06135d1b5\n ---> 0c4e11077f71\nStep 11/13 : COPY --from=builder /shorty/shorty .\n ---> d24fe0961474\nStep 12/13 : COPY --from=builder /shorty/assets assets\n ---> c9e92f9eb8b9\nStep 13/13 : CMD [\"./shorty\"]\n ---> Running in a9a14710f8c6\nRemoving intermediate container a9a14710f8c6\n ---> b03292f9e368\nSuccessfully built b03292f9e368\nSuccessfully tagged shorty:latest\n","stderr":"","imageSize":20319366},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":18,"columnEnd":41}}],"repairedDockerfile":"FROM golang:1.11.5 as builder\n\nWORKDIR /shorty\nCOPY . .\nRUN go test -mod=vendor ./...\nRUN go build -mod=vendor\n\nFROM alpine:latest\n\nRUN apk update && apk add --no-cache ca-certificates\n\nRUN addgroup -S shorty && adduser -S -G shorty shorty\nUSER shorty\nWORKDIR /home/shorty\nCOPY --from=builder /shorty/shorty .\nCOPY --from=builder /shorty/assets assets\n\nCMD [\"./shorty\"]\n"},"repairedBuild":{"startTimestamp":1672392862046,"endTimestamp":1672392902822,"error":null,"stdout":"Sending build context to Docker daemon  10.48MB\r\r\nStep 1/13 : FROM golang:1.11.5 as builder\n ---> 1454e2b3d01f\nStep 2/13 : WORKDIR /shorty\n ---> Running in b83c90d2b418\nRemoving intermediate container b83c90d2b418\n ---> f99cf1b76a2a\nStep 3/13 : COPY . .\n ---> 6f6ccbe0e84f\nStep 4/13 : RUN go test -mod=vendor ./...\n ---> Running in 724ec5155a09\nok  \tgithub.com/makkes/shorty\t0.008s\n?   \tgithub.com/makkes/shorty/boltdb\t[no test files]\n?   \tgithub.com/makkes/shorty/db\t[no test files]\n?   \tgithub.com/makkes/shorty/dynamodb\t[no test files]\nRemoving intermediate container 724ec5155a09\n ---> bc82ba62d509\nStep 5/13 : RUN go build -mod=vendor\n ---> Running in aedb7f181b87\nRemoving intermediate container aedb7f181b87\n ---> d9d582697ec3\nStep 6/13 : FROM alpine:latest\n ---> 49176f190c7e\nStep 7/13 : RUN apk update && apk add --no-cache ca-certificates\n ---> Running in 80b821b6df5f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 80b821b6df5f\n ---> 83c9270c53ff\nStep 8/13 : RUN addgroup -S shorty && adduser -S -G shorty shorty\n ---> Running in 3f9cbf511af7\nRemoving intermediate container 3f9cbf511af7\n ---> 5f9dc14447ed\nStep 9/13 : USER shorty\n ---> Running in b6c604d82278\nRemoving intermediate container b6c604d82278\n ---> 4a4471d637f3\nStep 10/13 : WORKDIR /home/shorty\n ---> Running in 6a9309337ced\nRemoving intermediate container 6a9309337ced\n ---> 5e0223d02548\nStep 11/13 : COPY --from=builder /shorty/shorty .\n ---> c63b92da2f87\nStep 12/13 : COPY --from=builder /shorty/assets assets\n ---> c8e2a66e1de6\nStep 13/13 : CMD [\"./shorty\"]\n ---> Running in 77a33d8bbd15\nRemoving intermediate container 77a33d8bbd15\n ---> b9348dbda2fc\nSuccessfully built b9348dbda2fc\nSuccessfully tagged shorty:latest\n","stderr":"","imageSize":20319366},"endTime":1672392903120}