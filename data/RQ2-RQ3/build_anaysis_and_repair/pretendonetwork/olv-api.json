{"repository":"https://github.com/pretendonetwork/olv-api","dockerfilePath":"Dockerfile","startTime":1672153593416,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pretendonetwork/olv-api'...\n","error":null,"commit":"e9fd02b81a59f7b2359685bbc9df5a48243857d4"},"originalBuild":{"startTimestamp":1672153594274,"endTimestamp":1672153652955,"error":null,"stdout":"Sending build context to Docker daemon  200.7kB\r\r\nStep 1/9 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/9 : RUN apk add --no-cache python3 make gcc g++\n ---> Running in f925dd1a3432\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.0-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container f925dd1a3432\n ---> 6dcb0000fc6f\nStep 3/9 : WORKDIR /app\n ---> Running in 1c0aa3c1c6c3\nRemoving intermediate container 1c0aa3c1c6c3\n ---> 27bcf6b7bca0\nStep 4/9 : COPY \"docker/entrypoint.sh\" ./\n ---> ea088b0bd602\nStep 5/9 : COPY package*.json ./\n ---> b18478bf41b6\nStep 6/9 : RUN npm install\n ---> Running in d586487cecd9\n\u001b[91mnpm WARN old lockfile \nnpm \u001b[0m\u001b[91mWARN old lockfile The package-lock.json file was created with an old version of npm,\nnpm\u001b[0m\u001b[91m WARN old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile\u001b[0m\u001b[91m \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated multer@1.4.2: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.3: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\nadded 195 packages, and audited 196 packages in 19s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n17 vulnerabilities (5 moderate, 8 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container d586487cecd9\n ---> 6c9092f92005\nStep 7/9 : COPY . ./\n ---> 0a1609435dc5\nStep 8/9 : VOLUME [ \"/app/config.json\", \"/app/certs\" ]\n ---> Running in 6d5651916cdc\nRemoving intermediate container 6d5651916cdc\n ---> 02622d33053b\nStep 9/9 : CMD [\"sh\", \"entrypoint.sh\"]\n ---> Running in 362298733d2e\nRemoving intermediate container 362298733d2e\n ---> 4dc9fd994c7d\nSuccessfully built 4dc9fd994c7d\nSuccessfully tagged olv-api:latest\n","stderr":"","imageSize":545041967},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:18-alpine\r\n\r\nRUN apk add --no-cache python3 make gcc g++ \r\nWORKDIR /app\r\n\r\nCOPY \"docker/entrypoint.sh\" ./\r\n\r\nCOPY package*.json ./\r\nRUN npm install\r\n\r\nCOPY . ./\r\n\r\nVOLUME [ \"/app/config.json\", \"/app/certs\" ]\r\n\r\nCMD [\"sh\", \"entrypoint.sh\"]\r\n"},"repairedBuild":{"startTimestamp":1672153653529,"endTimestamp":1672153702251,"error":null,"stdout":"Sending build context to Docker daemon  200.7kB\r\r\nStep 1/9 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/9 : RUN apk add --no-cache python3 make gcc g++\n ---> Running in da2e06cdc50c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.0-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container da2e06cdc50c\n ---> 0c71c78040cb\nStep 3/9 : WORKDIR /app\n ---> Running in 541ea9ccdcb7\nRemoving intermediate container 541ea9ccdcb7\n ---> ecd6102ed966\nStep 4/9 : COPY \"docker/entrypoint.sh\" ./\n ---> bdaad9a68e2f\nStep 5/9 : COPY package*.json ./\n ---> 2d77eb988550\nStep 6/9 : RUN npm install\n ---> Running in 05392578f46d\n\u001b[91mnpm WARN old lockfile \nnpm WARN old lockfile The package-lock.json file was created with an old version of npm,\nnpm\u001b[0m\u001b[91m WARN old lockfile so supplemental metadata must be fetched from the registry.\nnpm WARN old lockfile \nnpm WARN old lockfile This is a one-time fix-up, please be patient...\nnpm WARN old lockfile \n\u001b[0m\u001b[91mnpm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.2: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.3: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\nadded 195 packages, and audited 196 packages in 14s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n17 vulnerabilities (5 moderate, 8 high, 4 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 05392578f46d\n ---> f2c85144fe39\nStep 7/9 : COPY . ./\n ---> 6c01982a2c15\nStep 8/9 : VOLUME [ \"/app/config.json\", \"/app/certs\" ]\n ---> Running in 8b7d5eeeca90\nRemoving intermediate container 8b7d5eeeca90\n ---> 48d2b460be42\nStep 9/9 : CMD [\"sh\", \"entrypoint.sh\"]\n ---> Running in 3a78adac9ad8\nRemoving intermediate container 3a78adac9ad8\n ---> 1ee5ef0955dd\nSuccessfully built 1ee5ef0955dd\nSuccessfully tagged olv-api:latest\n","stderr":"","imageSize":545041265},"endTime":1672153703619}