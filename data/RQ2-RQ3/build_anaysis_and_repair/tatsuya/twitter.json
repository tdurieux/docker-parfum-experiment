{"repository":"https://github.com/tatsuya/twitter","dockerfilePath":"Dockerfile","startTime":1672855697613,"endTime":1672855930881,"clone":{"startTime":1672855697613,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tatsuya/twitter'...\n","error":null,"endTime":1672855698471,"commit":"41611b39761285802b5fea8126bebdbb82f460cc"},"originalBuild":{"startTime":1672855698566,"endTime":1672855867158,"error":null,"stdout":"Sending build context to Docker daemon   1.12MB\r\r\nStep 1/7 : FROM node:14\n14: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n06a6920a92b8: Pulling fs layer\n56023b82801b: Pulling fs layer\ne7b01bcb8f88: Pulling fs layer\n06a6920a92b8: Waiting\n56023b82801b: Waiting\ne7b01bcb8f88: Waiting\n06a6920a92b8: Verifying Checksum\n06a6920a92b8: Download complete\n56023b82801b: Verifying Checksum\n56023b82801b: Download complete\ne7b01bcb8f88: Verifying Checksum\ne7b01bcb8f88: Download complete\n06a6920a92b8: Pull complete\n56023b82801b: Pull complete\ne7b01bcb8f88: Pull complete\nDigest: sha256:b6ab85c15f1c372bca3bde8585fbf5739b679aa9119f46e7d2bd41c1dcc05959\nStatus: Downloaded newer image for node:14\n ---> 0f2c7f307e4d\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 4786a49b256a\nRemoving intermediate container 4786a49b256a\n ---> 5a8c0e2c463f\nStep 3/7 : COPY package*.json ./\n ---> eb7928d0f924\nStep 4/7 : RUN npm install\n ---> Running in 203bb9c4c0ba\n\n> bcrypt@5.0.0 install /usr/src/app/node_modules/bcrypt\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m WARN Using needle for node-pre-gyp https download \n\u001b[0m[bcrypt] Success: \"/usr/src/app/node_modules/bcrypt/lib/binding/napi-v3/bcrypt_lib.node\" is installed via remote\n\n> nodemon@1.19.4 postinstall /usr/src/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 411 packages from 607 contributors and audited 415 packages in 8.382s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\nfound 61 vulnerabilities (11 low, 6 moderate, 34 high, 10 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 203bb9c4c0ba\n ---> 205ced580b6c\nStep 5/7 : COPY . .\n ---> 8f1bbe9108cb\nStep 6/7 : EXPOSE 3000\n ---> Running in 7658a9f78f51\nRemoving intermediate container 7658a9f78f51\n ---> a710790bf05b\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in 2b9393221cb8\nRemoving intermediate container 2b9393221cb8\n ---> 0b8e99261340\nSuccessfully built 0b8e99261340\nSuccessfully tagged twitter:latest\n","stderr":"","imageSize":941428309},"repair":{"startTime":1672855867217,"endTime":1672855867258,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# Build an image starting with the Node 14 image.\nFROM node:14\n\n# Create the app directory.\nWORKDIR /usr/src/app\n\n# A wildcard is used to ensure both package.json AND package-lock.json are copied where available.\n# Note that, rather than copying the entire working directory, we are only copying the package.json file.\n# This allows us to take advantage of cached Docker layers.\nCOPY package*.json ./\n\n# Install the app dependencies.\nRUN npm install && npm cache clean --force;\n\n# Bundle the app source.\nCOPY . .\n\n# Describe that the container is listening on port 3000.\nEXPOSE 3000\n\n# Set the default command for the container.\nCMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTime":1672855871498,"endTime":1672855926721,"error":null,"stdout":"Sending build context to Docker daemon   1.12MB\r\r\nStep 1/7 : FROM node:14\n ---> 0f2c7f307e4d\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 3a47149177c4\nRemoving intermediate container 3a47149177c4\n ---> 740b687f8864\nStep 3/7 : COPY package*.json ./\n ---> 29c4367b13ac\nStep 4/7 : RUN npm install && npm cache clean --force;\n ---> Running in 7236fb8a71d6\n\n> bcrypt@5.0.0 install /usr/src/app/node_modules/bcrypt\n> node-pre-gyp install --fallback-to-build\n\n\u001b[91mnode-pre-gyp\u001b[0m\u001b[91m WARN Using needle for node-pre-gyp https download \n\u001b[0m[bcrypt] Success: \"/usr/src/app/node_modules/bcrypt/lib/binding/napi-v3/bcrypt_lib.node\" is installed via remote\n\n> nodemon@1.19.4 postinstall /usr/src/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 411 packages from 607 contributors and audited 415 packages in 7.17s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\nfound 61 vulnerabilities (11 low, 6 moderate, 34 high, 10 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 7236fb8a71d6\n ---> 45544b97f933\nStep 5/7 : COPY . .\n ---> a6a3e60ddecd\nStep 6/7 : EXPOSE 3000\n ---> Running in 647a21469a78\nRemoving intermediate container 647a21469a78\n ---> 2892d673f6c5\nStep 7/7 : CMD [ \"npm\", \"start\" ]\n ---> Running in 7af43904a73a\nRemoving intermediate container 7af43904a73a\n ---> c18c3f4edffa\nSuccessfully built c18c3f4edffa\nSuccessfully tagged twitter:latest\n","stderr":"","imageSize":936147199}}