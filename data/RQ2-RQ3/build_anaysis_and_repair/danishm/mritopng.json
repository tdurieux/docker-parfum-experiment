{"repository":"https://github.com/danishm/mritopng","dockerfilePath":"Dockerfile","startTime":1673008614710,"endTime":1673008977842,"clone":{"startTime":1673008614711,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/danishm/mritopng'...\n","error":null,"endTime":1673008616213,"commit":"db305de49919953cac0a9691c11b3a4bc488e0d0"},"originalBuild":{"startTime":1673008616296,"endTime":1673008813830,"error":null,"stdout":"Sending build context to Docker daemon  2.851MB\r\r\nStep 1/7 : FROM python:3.6\n3.6: Pulling from library/python\n0e29546d541c: Pulling fs layer\n9b829c73b52b: Pulling fs layer\ncb5b7ae36172: Pulling fs layer\n6494e4811622: Pulling fs layer\n6f9f74896dfa: Pulling fs layer\n5e3b1213efc5: Pulling fs layer\n9fddfdc56334: Pulling fs layer\n404f02044bac: Pulling fs layer\nc4f42be2be53: Pulling fs layer\n5e3b1213efc5: Waiting\nc4f42be2be53: Waiting\n404f02044bac: Waiting\n9fddfdc56334: Waiting\n6f9f74896dfa: Waiting\n6494e4811622: Waiting\n9b829c73b52b: Verifying Checksum\n9b829c73b52b: Download complete\ncb5b7ae36172: Verifying Checksum\ncb5b7ae36172: Download complete\n0e29546d541c: Download complete\n5e3b1213efc5: Verifying Checksum\n5e3b1213efc5: Download complete\n6494e4811622: Verifying Checksum\n6494e4811622: Download complete\n404f02044bac: Verifying Checksum\n404f02044bac: Download complete\n9fddfdc56334: Verifying Checksum\n9fddfdc56334: Download complete\nc4f42be2be53: Download complete\n0e29546d541c: Pull complete\n6f9f74896dfa: Verifying Checksum\n6f9f74896dfa: Download complete\n9b829c73b52b: Pull complete\ncb5b7ae36172: Pull complete\n6494e4811622: Pull complete\n6f9f74896dfa: Pull complete\n5e3b1213efc5: Pull complete\n9fddfdc56334: Pull complete\n404f02044bac: Pull complete\nc4f42be2be53: Pull complete\nDigest: sha256:f8652afaf88c25f0d22354d547d892591067aa4026a7fa9a6819df9f300af6fc\nStatus: Downloaded newer image for python:3.6\n ---> 54260638d07c\nStep 2/7 : COPY . /app\n ---> d0aa45a2af7a\nStep 3/7 : WORKDIR /app\n ---> Running in a2a3158e61c6\nRemoving intermediate container a2a3158e61c6\n ---> 32d9620fd900\nStep 4/7 : RUN pip install -r requirements.txt\n ---> Running in de433fa81875\nCollecting numpy>=1.14.1\n  Downloading numpy-1.19.5-cp36-cp36m-manylinux2010_x86_64.whl (14.8 MB)\nCollecting pydicom==1.0.2\n  Downloading pydicom-1.0.2.tar.gz (6.7 MB)\nCollecting pypng==0.0.18\n  Downloading pypng-0.0.18.tar.gz (377 kB)\nCollecting nose\n  Downloading nose-1.3.7-py3-none-any.whl (154 kB)\nBuilding wheels for collected packages: pydicom, pypng\n  Building wheel for pydicom (setup.py): started\n  Building wheel for pydicom (setup.py): finished with status 'done'\n  Created wheel for pydicom: filename=pydicom-1.0.2-py3-none-any.whl size=6678828 sha256=1fbcdd4ba42669aa84de3640df5bc3ab297d857ca6c582edeee67d8739f1459b\n  Stored in directory: /root/.cache/pip/wheels/29/2c/e2/e00e4739bdfb91f34d3211e7ac48cceea13359b1805c566944\n  Building wheel for pypng (setup.py): started\n  Building wheel for pypng (setup.py): finished with status 'done'\n  Created wheel for pypng: filename=pypng-0.0.18-py3-none-any.whl size=31425 sha256=15fdf759ae7472dbffafef5e49b88ca99e60c5aae4ab21feac81dd06b6b5c921\n  Stored in directory: /root/.cache/pip/wheels/27/6a/16/28c7cf01e9544f5cc177d91e3a94c1d7c3afa4a805c7c65cce\nSuccessfully built pydicom pypng\nInstalling collected packages: pypng, pydicom, numpy, nose\nSuccessfully installed nose-1.3.7 numpy-1.19.5 pydicom-1.0.2 pypng-0.0.18\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container de433fa81875\n ---> e05f936e6c20\nStep 5/7 : RUN python setup.py install\n ---> Running in fec4b163ead4\nrunning install\nrunning bdist_egg\nrunning egg_info\ncreating mritopng.egg-info\nwriting mritopng.egg-info/PKG-INFO\nwriting dependency_links to mritopng.egg-info/dependency_links.txt\nwriting entry points to mritopng.egg-info/entry_points.txt\nwriting requirements to mritopng.egg-info/requires.txt\nwriting top-level names to mritopng.egg-info/top_level.txt\nwriting manifest file 'mritopng.egg-info/SOURCES.txt'\nreading manifest file 'mritopng.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\n\u001b[91mwarning: no files found matching 'README.rst'\n\u001b[0madding license file 'LICENSE'\nwriting manifest file 'mritopng.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.linux-x86_64/egg\nrunning install_lib\nrunning build_py\ncreating build\ncreating build/lib\ncreating build/lib/mritopng\ncopying mritopng/__init__.py -> build/lib/mritopng\ncopying mritopng/__main__.py -> build/lib/mritopng\ncopying mritopng/contrast.py -> build/lib/mritopng\ncopying mritopng/models.py -> build/lib/mritopng\ncreating build/bdist.linux-x86_64\ncreating build/bdist.linux-x86_64/egg\ncreating build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/__init__.py -> build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/__main__.py -> build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/contrast.py -> build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/models.py -> build/bdist.linux-x86_64/egg/mritopng\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/__init__.py to __init__.cpython-36.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/__main__.py to __main__.cpython-36.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/contrast.py to contrast.cpython-36.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/models.py to models.cpython-36.pyc\ncreating build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/entry_points.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/not-zip-safe -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/requires.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncreating dist\ncreating 'dist/mritopng-2.2-py3.6.egg' and adding 'build/bdist.linux-x86_64/egg' to it\nremoving 'build/bdist.linux-x86_64/egg' (and everything under it)\nProcessing mritopng-2.2-py3.6.egg\ncreating /usr/local/lib/python3.6/site-packages/mritopng-2.2-py3.6.egg\nExtracting mritopng-2.2-py3.6.egg to /usr/local/lib/python3.6/site-packages\nAdding mritopng 2.2 to easy-install.pth file\nInstalling mritopng script to /usr/local/bin\n\nInstalled /usr/local/lib/python3.6/site-packages/mritopng-2.2-py3.6.egg\nProcessing dependencies for mritopng==2.2\nSearching for numpy==1.19.5\nBest match: numpy 1.19.5\nAdding numpy 1.19.5 to easy-install.pth file\nInstalling f2py script to /usr/local/bin\nInstalling f2py3 script to /usr/local/bin\nInstalling f2py3.6 script to /usr/local/bin\n\nUsing /usr/local/lib/python3.6/site-packages\nSearching for pydicom==1.0.2\nBest match: pydicom 1.0.2\nAdding pydicom 1.0.2 to easy-install.pth file\n\nUsing /usr/local/lib/python3.6/site-packages\nSearching for pypng==0.0.18\nBest match: pypng 0.0.18\nAdding pypng 0.0.18 to easy-install.pth file\n\nUsing /usr/local/lib/python3.6/site-packages\nFinished processing dependencies for mritopng==2.2\nRemoving intermediate container fec4b163ead4\n ---> 0ef562c1e876\nStep 6/7 : RUN nosetests\n ---> Running in f0ae5a615fcc\n\u001b[91mCould not import pillow\n\u001b[0m\u001b[91mCould not import jpeg_ls\n\u001b[0m\u001b[91mCould not import gdcm\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m..\n----------------------------------------------------------------------\nRan 7 tests in 0.696s\n\nOK\n\u001b[0mRemoving intermediate container f0ae5a615fcc\n ---> a5980cf310e8\nStep 7/7 : RUN mritopng --help\n ---> Running in ef78c9c308cd\nusage: mritopng [-h] [-f] [-c] dicom_path png_path\n\nConvert a dicom MRI file to png. To conver a whole folder recursivly, use the\n-f option\n\npositional arguments:\n  dicom_path           Full path to the mri file\n  png_path             Full path to the generated png file\n\noptional arguments:\n  -h, --help           show this help message and exit\n  -f, --folder         Convert a whole folder instead of a single file\n  -c, --auto-contrast  Apply contrast after converting default image\nRemoving intermediate container ef78c9c308cd\n ---> b91fe288f664\nSuccessfully built b91fe288f664\nSuccessfully tagged mritopng:latest\n","stderr":"","imageSize":1011751767},"repair":{"startTime":1673008813884,"endTime":1673008813919,"violations":[{"name":"pipUseNoCacheDir","position":{"start":3,"end":3,"columnStart":4,"columnEnd":35}}],"repairedDockerfile":"FROM python:3.6\nCOPY . /app\nWORKDIR /app\nRUN pip install --no-cache-dir -r requirements.txt\nRUN python setup.py install\nRUN nosetests\nRUN mritopng --help"},"repairedBuild":{"startTime":1673008814180,"endTime":1673008976400,"error":null,"stdout":"Sending build context to Docker daemon  2.851MB\r\r\nStep 1/7 : FROM python:3.6\n ---> 54260638d07c\nStep 2/7 : COPY . /app\n ---> edbe2f7987cc\nStep 3/7 : WORKDIR /app\n ---> Running in 33607e4a3db7\nRemoving intermediate container 33607e4a3db7\n ---> 1baa9faec1ef\nStep 4/7 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in cd0cc428867e\nCollecting numpy>=1.14.1\n  Downloading numpy-1.19.5-cp36-cp36m-manylinux2010_x86_64.whl (14.8 MB)\nCollecting pydicom==1.0.2\n  Downloading pydicom-1.0.2.tar.gz (6.7 MB)\nCollecting pypng==0.0.18\n  Downloading pypng-0.0.18.tar.gz (377 kB)\nCollecting nose\n  Downloading nose-1.3.7-py3-none-any.whl (154 kB)\nBuilding wheels for collected packages: pydicom, pypng\n  Building wheel for pydicom (setup.py): started\n  Building wheel for pydicom (setup.py): finished with status 'done'\n  Created wheel for pydicom: filename=pydicom-1.0.2-py3-none-any.whl size=6678828 sha256=693b2a4c70e05d311d50f5515d402b28d5b01ac0d8e60b3f365fc49598d9361f\n  Stored in directory: /tmp/pip-ephem-wheel-cache-9ul5heqd/wheels/29/2c/e2/e00e4739bdfb91f34d3211e7ac48cceea13359b1805c566944\n  Building wheel for pypng (setup.py): started\n  Building wheel for pypng (setup.py): finished with status 'done'\n  Created wheel for pypng: filename=pypng-0.0.18-py3-none-any.whl size=31425 sha256=a953677983f1aa0817f1c55741d28f01e16e5cc66e97e1538d3d4887aebe33e6\n  Stored in directory: /tmp/pip-ephem-wheel-cache-9ul5heqd/wheels/27/6a/16/28c7cf01e9544f5cc177d91e3a94c1d7c3afa4a805c7c65cce\nSuccessfully built pydicom pypng\nInstalling collected packages: pypng, pydicom, numpy, nose\nSuccessfully installed nose-1.3.7 numpy-1.19.5 pydicom-1.0.2 pypng-0.0.18\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container cd0cc428867e\n ---> 4f0bf82de341\nStep 5/7 : RUN python setup.py install\n ---> Running in 08c67d45090c\nrunning install\nrunning bdist_egg\nrunning egg_info\ncreating mritopng.egg-info\nwriting mritopng.egg-info/PKG-INFO\nwriting dependency_links to mritopng.egg-info/dependency_links.txt\nwriting entry points to mritopng.egg-info/entry_points.txt\nwriting requirements to mritopng.egg-info/requires.txt\nwriting top-level names to mritopng.egg-info/top_level.txt\nwriting manifest file 'mritopng.egg-info/SOURCES.txt'\nreading manifest file 'mritopng.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\n\u001b[91mwarning: no files found matching 'README.rst'\n\u001b[0madding license file 'LICENSE'\nwriting manifest file 'mritopng.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.linux-x86_64/egg\nrunning install_lib\nrunning build_py\ncreating build\ncreating build/lib\ncreating build/lib/mritopng\ncopying mritopng/__init__.py -> build/lib/mritopng\ncopying mritopng/__main__.py -> build/lib/mritopng\ncopying mritopng/contrast.py -> build/lib/mritopng\ncopying mritopng/models.py -> build/lib/mritopng\ncreating build/bdist.linux-x86_64\ncreating build/bdist.linux-x86_64/egg\ncreating build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/__init__.py -> build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/__main__.py -> build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/contrast.py -> build/bdist.linux-x86_64/egg/mritopng\ncopying build/lib/mritopng/models.py -> build/bdist.linux-x86_64/egg/mritopng\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/__init__.py to __init__.cpython-36.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/__main__.py to __main__.cpython-36.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/contrast.py to contrast.cpython-36.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/mritopng/models.py to models.cpython-36.pyc\ncreating build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/entry_points.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/not-zip-safe -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/requires.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying mritopng.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncreating dist\ncreating 'dist/mritopng-2.2-py3.6.egg' and adding 'build/bdist.linux-x86_64/egg' to it\nremoving 'build/bdist.linux-x86_64/egg' (and everything under it)\nProcessing mritopng-2.2-py3.6.egg\ncreating /usr/local/lib/python3.6/site-packages/mritopng-2.2-py3.6.egg\nExtracting mritopng-2.2-py3.6.egg to /usr/local/lib/python3.6/site-packages\nAdding mritopng 2.2 to easy-install.pth file\nInstalling mritopng script to /usr/local/bin\n\nInstalled /usr/local/lib/python3.6/site-packages/mritopng-2.2-py3.6.egg\nProcessing dependencies for mritopng==2.2\nSearching for numpy==1.19.5\nBest match: numpy 1.19.5\nAdding numpy 1.19.5 to easy-install.pth file\nInstalling f2py script to /usr/local/bin\nInstalling f2py3 script to /usr/local/bin\nInstalling f2py3.6 script to /usr/local/bin\n\nUsing /usr/local/lib/python3.6/site-packages\nSearching for pydicom==1.0.2\nBest match: pydicom 1.0.2\nAdding pydicom 1.0.2 to easy-install.pth file\n\nUsing /usr/local/lib/python3.6/site-packages\nSearching for pypng==0.0.18\nBest match: pypng 0.0.18\nAdding pypng 0.0.18 to easy-install.pth file\n\nUsing /usr/local/lib/python3.6/site-packages\nFinished processing dependencies for mritopng==2.2\nRemoving intermediate container 08c67d45090c\n ---> 6ffa30eb294a\nStep 6/7 : RUN nosetests\n ---> Running in dba6aae536ac\n\u001b[91mCould not import pillow\n\u001b[0m\u001b[91mCould not import jpeg_ls\n\u001b[0m\u001b[91mCould not import gdcm\n\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m.\u001b[0m\u001b[91m\n----------------------------------------------------------------------\nRan 7 tests in 0.606s\n\nOK\n\u001b[0mRemoving intermediate container dba6aae536ac\n ---> 53b6a6d8f9fb\nStep 7/7 : RUN mritopng --help\n ---> Running in f880247511d6\nusage: mritopng [-h] [-f] [-c] dicom_path png_path\n\nConvert a dicom MRI file to png. To conver a whole folder recursivly, use the\n-f option\n\npositional arguments:\n  dicom_path           Full path to the mri file\n  png_path             Full path to the generated png file\n\noptional arguments:\n  -h, --help           show this help message and exit\n  -f, --folder         Convert a whole folder instead of a single file\n  -c, --auto-contrast  Apply contrast after converting default image\nRemoving intermediate container f880247511d6\n ---> de2eecfcbaca\nSuccessfully built de2eecfcbaca\nSuccessfully tagged mritopng:latest\n","stderr":"","imageSize":982739465}}