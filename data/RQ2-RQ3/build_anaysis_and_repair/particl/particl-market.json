{"repository":"https://github.com/particl/particl-market","dockerfilePath":"Dockerfile","startTime":1672514461908,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/particl/particl-market'...\n","error":null,"commit":"199591a6fb1d49717758ca60589fffc6c703b706"},"originalBuild":{"startTimestamp":1672514464857,"endTimestamp":1672514520228,"error":null,"stdout":"Sending build context to Docker daemon  14.67MB\r\r\nStep 1/10 : FROM mhart/alpine-node:12.18.2\n12.18.2: Pulling from mhart/alpine-node\n31603596830f: Pulling fs layer\nebb2aa8d6454: Pulling fs layer\n31603596830f: Verifying Checksum\n31603596830f: Download complete\nebb2aa8d6454: Verifying Checksum\nebb2aa8d6454: Download complete\n31603596830f: Pull complete\nebb2aa8d6454: Pull complete\nDigest: sha256:964110177f0e99b74f6b19ae0d1a6481f89ced94b339786ed08bc62e85d6815e\nStatus: Downloaded newer image for mhart/alpine-node:12.18.2\n ---> 0e83289c9ed3\nStep 2/10 : ENV BUILD_PACKAGES git wget curl bash make gcc g++ python libc6-compat build-base openssl-dev ca-certificates libssl1.1 openssl libstdc++\n ---> Running in 4dc41f3459bb\nRemoving intermediate container 4dc41f3459bb\n ---> 107b34cf7e78\nStep 3/10 : ENV NPM_PACKAGES wait-port yarn ts-node tslint typescript\n ---> Running in 05813521afb3\nRemoving intermediate container 05813521afb3\n ---> f53e3825a4ab\nStep 4/10 : RUN apk --update add --no-cache $BUILD_PACKAGES\n ---> Running in 6f8d50ae3536\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/43) Upgrading musl (1.1.20-r5 -> 1.1.20-r6)\n(2/43) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/43) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(4/43) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(5/43) Installing ncurses-terminfo (6.1_p20190105-r0)\n(6/43) Installing ncurses-libs (6.1_p20190105-r0)\n(7/43) Installing readline (7.0.003-r1)\n(8/43) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(9/43) Installing binutils (2.31.1-r2)\n(10/43) Installing libmagic (5.36-r1)\n(11/43) Installing file (5.36-r1)\n(12/43) Installing gmp (6.1.2-r1)\n(13/43) Installing isl (0.18-r0)\n(14/43) Installing libgomp (8.3.0-r0)\n(15/43) Installing libatomic (8.3.0-r0)\n(16/43) Installing mpfr3 (3.1.5-r1)\n(17/43) Installing mpc1 (1.0.3-r1)\n(18/43) Installing gcc (8.3.0-r0)\n(19/43) Installing musl-dev (1.1.20-r6)\n(20/43) Installing libc-dev (0.7.1-r0)\n(21/43) Installing g++ (8.3.0-r0)\n(22/43) Installing make (4.2.1-r2)\n(23/43) Installing fortify-headers (1.0-r0)\n(24/43) Installing build-base (0.5-r1)\n(25/43) Installing ca-certificates (20191127-r2)\n(26/43) Installing nghttp2-libs (1.35.1-r2)\n(27/43) Installing libssh2 (1.9.0-r1)\n(28/43) Installing libcurl (7.64.0-r5)\n(29/43) Installing curl (7.64.0-r5)\n(30/43) Installing expat (2.2.8-r0)\n(31/43) Installing pcre2 (10.32-r1)\n(32/43) Installing git (2.20.4-r0)\n(33/43) Upgrading musl-utils (1.1.20-r5 -> 1.1.20-r6)\n(34/43) Installing libc6-compat (1.1.20-r6)\n(35/43) Installing openssl (1.1.1k-r0)\n(36/43) Installing pkgconf (1.6.0-r0)\n(37/43) Installing openssl-dev (1.1.1k-r0)\n(38/43) Installing libbz2 (1.0.6-r7)\n(39/43) Installing libffi (3.2.1-r6)\n(40/43) Installing gdbm (1.13-r1)\n(41/43) Installing sqlite-libs (3.28.0-r3)\n(42/43) Installing python2 (2.7.18-r0)\n(43/43) Installing wget (1.20.3-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 248 MiB in 55 packages\nRemoving intermediate container 6f8d50ae3536\n ---> 64e23d2f9ee4\nStep 5/10 : RUN npm install -g -s --no-progress $NPM_PACKAGES\n ---> Running in 2a5c3258c4c9\n/usr/bin/ts-node -> /usr/lib/node_modules/ts-node/dist/bin.js\n/usr/bin/ts-node-cwd -> /usr/lib/node_modules/ts-node/dist/bin-cwd.js\n/usr/bin/ts-node-script -> /usr/lib/node_modules/ts-node/dist/bin-script.js\n/usr/bin/ts-node-esm -> /usr/lib/node_modules/ts-node/dist/bin-esm.js\n/usr/bin/ts-node-transpile-only -> /usr/lib/node_modules/ts-node/dist/bin-transpile.js\n/usr/bin/ts-script -> /usr/lib/node_modules/ts-node/dist/bin-script-deprecated.js\n/usr/bin/tslint -> /usr/lib/node_modules/tslint/bin/tslint\n/usr/bin/tsc -> /usr/lib/node_modules/typescript/bin/tsc\n/usr/bin/tsserver -> /usr/lib/node_modules/typescript/bin/tsserver\n/usr/bin/wait-port -> /usr/lib/node_modules/wait-port/bin/wait-port.js\n/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js\n/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.22.19\n+ ts-node@10.9.1\n+ tslint@6.1.3\n+ typescript@4.9.4\n+ wait-port@1.0.4\nadded 70 packages from 40 contributors in 5.118s\nRemoving intermediate container 2a5c3258c4c9\n ---> 81d02d4d76d7\nStep 6/10 : RUN mkdir -p /app/data/database\n ---> Running in 5031a8bb8a07\nRemoving intermediate container 5031a8bb8a07\n ---> 01a059508d66\nStep 7/10 : WORKDIR /app/\n ---> Running in 9372219fa247\nRemoving intermediate container 9372219fa247\n ---> a4ea8b607bdb\nStep 8/10 : COPY package.json /app\n ---> 466d9496afdf\nStep 9/10 : COPY yarn.lock /app\n ---> 52a0fac9ea12\nStep 10/10 : EXPOSE 3000 3100 3200\n ---> Running in 1bf27119470c\nRemoving intermediate container 1bf27119470c\n ---> 5ce40f36cf83\nSuccessfully built 5ce40f36cf83\nSuccessfully tagged particl-market:latest\n","stderr":"","imageSize":423876685},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":49}}],"repairedDockerfile":"FROM mhart/alpine-node:12.18.2\n# 10.16.3\n# 9.6.1\n\nENV BUILD_PACKAGES git wget curl bash make gcc g++ python libc6-compat build-base openssl-dev ca-certificates libssl1.1 openssl libstdc++\nENV NPM_PACKAGES wait-port yarn ts-node tslint typescript\n\n# update and install all of the required packages, then remove the apk cache\nRUN apk --update add --no-cache $BUILD_PACKAGES\nRUN npm install -g -s --no-progress $NPM_PACKAGES\n\nRUN mkdir -p /app/data/database\nWORKDIR /app/\nCOPY package.json /app\nCOPY yarn.lock /app\n\n#RUN yarn install\n#COPY . /app/\n#RUN bin/ci-create-dbs.sh\n#RUN bin/create-build-version.sh\n#VOLUME /app/data\n#VOLUME /app/\n#CMD [ \"yarn\", \"serve\" ]\n#CMD [ \"bin/entrypoint.sh\" ]\n\nEXPOSE 3000 3100 3200\n"},"repairedBuild":{"startTimestamp":1672514520754,"endTimestamp":1672514623957,"error":null,"stdout":"Sending build context to Docker daemon  14.67MB\r\r\nStep 1/10 : FROM mhart/alpine-node:12.18.2\n ---> 0e83289c9ed3\nStep 2/10 : ENV BUILD_PACKAGES git wget curl bash make gcc g++ python libc6-compat build-base openssl-dev ca-certificates libssl1.1 openssl libstdc++\n ---> Running in eec55d1e2abe\nRemoving intermediate container eec55d1e2abe\n ---> e834d39ffadd\nStep 3/10 : ENV NPM_PACKAGES wait-port yarn ts-node tslint typescript\n ---> Running in b3a86f53b650\nRemoving intermediate container b3a86f53b650\n ---> 5af6a547691c\nStep 4/10 : RUN apk --update add --no-cache $BUILD_PACKAGES\n ---> Running in f8556a86d0b9\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/43) Upgrading musl (1.1.20-r5 -> 1.1.20-r6)\n(2/43) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/43) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(4/43) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(5/43) Installing ncurses-terminfo (6.1_p20190105-r0)\n(6/43) Installing ncurses-libs (6.1_p20190105-r0)\n(7/43) Installing readline (7.0.003-r1)\n(8/43) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(9/43) Installing binutils (2.31.1-r2)\n(10/43) Installing libmagic (5.36-r1)\n(11/43) Installing file (5.36-r1)\n(12/43) Installing gmp (6.1.2-r1)\n(13/43) Installing isl (0.18-r0)\n(14/43) Installing libgomp (8.3.0-r0)\n(15/43) Installing libatomic (8.3.0-r0)\n(16/43) Installing mpfr3 (3.1.5-r1)\n(17/43) Installing mpc1 (1.0.3-r1)\n(18/43) Installing gcc (8.3.0-r0)\n(19/43) Installing musl-dev (1.1.20-r6)\n(20/43) Installing libc-dev (0.7.1-r0)\n(21/43) Installing g++ (8.3.0-r0)\n(22/43) Installing make (4.2.1-r2)\n(23/43) Installing fortify-headers (1.0-r0)\n(24/43) Installing build-base (0.5-r1)\n(25/43) Installing ca-certificates (20191127-r2)\n(26/43) Installing nghttp2-libs (1.35.1-r2)\n(27/43) Installing libssh2 (1.9.0-r1)\n(28/43) Installing libcurl (7.64.0-r5)\n(29/43) Installing curl (7.64.0-r5)\n(30/43) Installing expat (2.2.8-r0)\n(31/43) Installing pcre2 (10.32-r1)\n(32/43) Installing git (2.20.4-r0)\n(33/43) Upgrading musl-utils (1.1.20-r5 -> 1.1.20-r6)\n(34/43) Installing libc6-compat (1.1.20-r6)\n(35/43) Installing openssl (1.1.1k-r0)\n(36/43) Installing pkgconf (1.6.0-r0)\n(37/43) Installing openssl-dev (1.1.1k-r0)\n(38/43) Installing libbz2 (1.0.6-r7)\n(39/43) Installing libffi (3.2.1-r6)\n(40/43) Installing gdbm (1.13-r1)\n(41/43) Installing sqlite-libs (3.28.0-r3)\n(42/43) Installing python2 (2.7.18-r0)\n(43/43) Installing wget (1.20.3-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 248 MiB in 55 packages\nRemoving intermediate container f8556a86d0b9\n ---> 356b69946a3a\nStep 5/10 : RUN npm install -g -s --no-progress $NPM_PACKAGES\n ---> Running in c8b8d6323a33\n/usr/bin/ts-node -> /usr/lib/node_modules/ts-node/dist/bin.js\n/usr/bin/ts-node-cwd -> /usr/lib/node_modules/ts-node/dist/bin-cwd.js\n/usr/bin/ts-node-script -> /usr/lib/node_modules/ts-node/dist/bin-script.js\n/usr/bin/ts-node-transpile-only -> /usr/lib/node_modules/ts-node/dist/bin-transpile.js\n/usr/bin/ts-node-esm -> /usr/lib/node_modules/ts-node/dist/bin-esm.js\n/usr/bin/ts-script -> /usr/lib/node_modules/ts-node/dist/bin-script-deprecated.js\n/usr/bin/tslint -> /usr/lib/node_modules/tslint/bin/tslint\n/usr/bin/tsc -> /usr/lib/node_modules/typescript/bin/tsc\n/usr/bin/tsserver -> /usr/lib/node_modules/typescript/bin/tsserver\n/usr/bin/wait-port -> /usr/lib/node_modules/wait-port/bin/wait-port.js\n/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js\n/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js\n+ wait-port@1.0.4\n+ tslint@6.1.3\n+ ts-node@10.9.1\n+ yarn@1.22.19\n+ typescript@4.9.4\nadded 70 packages from 40 contributors in 9.422s\nRemoving intermediate container c8b8d6323a33\n ---> 21432312c0f5\nStep 6/10 : RUN mkdir -p /app/data/database\n ---> Running in 3f53edf52213\nRemoving intermediate container 3f53edf52213\n ---> 9a6914f1f5ec\nStep 7/10 : WORKDIR /app/\n ---> Running in 7b64db97a739\nRemoving intermediate container 7b64db97a739\n ---> 607f36c3a1b9\nStep 8/10 : COPY package.json /app\n ---> 11de19d8edbe\nStep 9/10 : COPY yarn.lock /app\n ---> 12bdeb5283ec\nStep 10/10 : EXPOSE 3000 3100 3200\n ---> Running in 90979fe93b7b\nRemoving intermediate container 90979fe93b7b\n ---> 81eb192fd7e8\nSuccessfully built 81eb192fd7e8\nSuccessfully tagged particl-market:latest\n","stderr":"","imageSize":423876655},"endTime":1672514624422}