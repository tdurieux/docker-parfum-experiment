{"repository":"https://github.com/talariadb/talaria","dockerfilePath":"Dockerfile","startTime":1672166929661,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/talariadb/talaria'...\n","error":null,"commit":"3ed32c247a781bbcd3e73d703d8cb5a366d3a529"},"originalBuild":{"startTimestamp":1672166930941,"endTimestamp":1672167054758,"error":null,"stdout":"Sending build context to Docker daemon   24.8MB\r\r\nStep 1/23 : FROM golang:1.17 AS builder\n1.17: Pulling from library/golang\nd836772a1c1f: Pulling fs layer\n66a9e63c657a: Pulling fs layer\nd1989b6e74cf: Pulling fs layer\nc28818711e1e: Pulling fs layer\n9d6246ba248c: Pulling fs layer\n21d43f0d73c2: Pulling fs layer\nd8a1c5873f40: Pulling fs layer\nc28818711e1e: Waiting\n9d6246ba248c: Waiting\n21d43f0d73c2: Waiting\nd8a1c5873f40: Waiting\n66a9e63c657a: Verifying Checksum\n66a9e63c657a: Download complete\nd1989b6e74cf: Verifying Checksum\nd1989b6e74cf: Download complete\nc28818711e1e: Verifying Checksum\nc28818711e1e: Download complete\n9d6246ba248c: Verifying Checksum\n9d6246ba248c: Download complete\nd8a1c5873f40: Download complete\nd836772a1c1f: Verifying Checksum\nd836772a1c1f: Download complete\n21d43f0d73c2: Verifying Checksum\n21d43f0d73c2: Download complete\nd836772a1c1f: Pull complete\n66a9e63c657a: Pull complete\nd1989b6e74cf: Pull complete\nc28818711e1e: Pull complete\n9d6246ba248c: Pull complete\n21d43f0d73c2: Pull complete\nd8a1c5873f40: Pull complete\nDigest: sha256:87262e4a4c7db56158a80a18fefdc4fee5accc41b59cde821e691d05541bbb18\nStatus: Downloaded newer image for golang:1.17\n ---> 742df529b073\nStep 2/23 : ARG GO111MODULE=\"on\"\n ---> Running in 2635ddbf7d7d\nRemoving intermediate container 2635ddbf7d7d\n ---> 303036d9e9f9\nStep 3/23 : ARG GOOS=\"linux\"\n ---> Running in 778d8f584115\nRemoving intermediate container 778d8f584115\n ---> 37f815ae81c6\nStep 4/23 : ARG GOARCH=\"amd64\"\n ---> Running in f84b49abcce3\nRemoving intermediate container f84b49abcce3\n ---> f5d71f47793a\nStep 5/23 : ENV GO111MODULE=${GO111MODULE}\n ---> Running in ea5e6e57862a\nRemoving intermediate container ea5e6e57862a\n ---> b8ddf96beb74\nStep 6/23 : ENV GOOS=${GOOS}\n ---> Running in 5f2387e1bd0f\nRemoving intermediate container 5f2387e1bd0f\n ---> 0a8f2ff610c0\nStep 7/23 : ENV GOARCH=${GOARCH}\n ---> Running in be0dc38d3870\nRemoving intermediate container be0dc38d3870\n ---> 04c8880eec52\nStep 8/23 : RUN mkdir -p /go/src/talaria\n ---> Running in fe82a2219a98\nRemoving intermediate container fe82a2219a98\n ---> 390e67a97aea\nStep 9/23 : COPY . src/talaria\n ---> 08bc282cd94c\nStep 10/23 : RUN cd src/talaria && go build . && test -x talaria\n ---> Running in 8757eea39608\n\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\ngo: downloading github.com/talariadb/badger/v3 v3.2103.1-with-arm-fix\n\u001b[0m\u001b[91mgo: downloading github.com/grab/async v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/emitter-io/address v1.0.0\ngo: downloading github.com/tardunge/orc v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/hako/durafmt v0.0.0-20191009132224-3f39dc1ed9f4\ngo: downloading github.com/hashicorp/go-multierror v1.1.0\ngo: downloading github.com/hashicorp/memberlist v0.2.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/kelindar/loader v0.0.11\n\u001b[0m\u001b[91mgo: downloading github.com/kelindar/binary v1.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/twmb/murmur3 v1.1.3\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.49.0\n\u001b[0m\u001b[91mgo: downloading github.com/kelindar/lua v0.0.7\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\ngo: downloading cloud.google.com/go/bigquery v1.35.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/azure-sdk-for-go v42.1.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/adal v0.9.11\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/azure-storage-blob-go v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest v0.11.17\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/azure/auth v0.5.7\n\u001b[0m\u001b[91mgo: downloading github.com/mroth/weightedrand v0.4.1\n\u001b[0m\u001b[91mgo: downloading github.com/DataDog/datadog-go v3.7.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/fraugster/parquet-go v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/myteksi/hystrix-go v1.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.30.25\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/storage v1.23.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20220601150217-0de741cfad7f\n\u001b[0m\u001b[91mgo: downloading github.com/Knetic/govaluate v3.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/samuel/go-thrift v0.0.0-20191111193933-5165175b40af\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/pubsub v1.3.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/api v0.86.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest v14.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/nats-io/nats.go v1.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/sercand/kuberesolver/v3 v3.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/yuin/gopher-lua v0.0.0-20191220021717-ab39c6098bdb\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.102.1\n\u001b[0m\u001b[91mgo: downloading layeh.com/gopher-luar v1.0.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20220920022843-2ce7c2934d45\n\u001b[0m\u001b[91mgo: downloading github.com/armon/go-metrics v0.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/google/btree v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-msgpack v1.1.5\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-sockaddr v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/miekg/dns v1.1.29\n\u001b[0m\u001b[91mgo: downloading github.com/sean-/seed v0.0.0-20170313163322-e2103e2c3529\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/azure/cli v0.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/dimchansky/utfbom v1.1.1\ngo: downloading github.com/Azure/go-autorest/logger v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/tracing v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/date v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/form3tech-oss/jwt-go v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220919173607-35f4265a4bc0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20220622183110-fd043fe589d2\n\u001b[0m\u001b[91mgo: downloading github.com/imroc/req v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/azure-pipeline-go v0.2.3\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/apache/thrift v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.7.1\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-immutable-radix v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-ieproxy v0.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/nats-io/nkeys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/nats-io/nuid v1.0.1\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/compute v1.7.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20220628213854-d9e0b6570c03\n\u001b[0m\u001b[91mgo: downloading go.opencensus.io v0.23.0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gax-go/v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/iam v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/go-type-adapters v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\ngo: downloading golang.org/x/net v0.0.0-20220624214902-1bab6f366d9e\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20220609144429-65e65417b02f\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220919091848-fb04ddd9f9c8\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e\n\u001b[0m\u001b[91mgo: downloading github.com/talariadb/ristretto v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/dustin/go-humanize v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/flatbuffers v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.15.10\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/enterprise-certificate-proxy v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.8\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.0\n\u001b[0mRemoving intermediate container 8757eea39608\n ---> b52f0b4e732f\nStep 11/23 : FROM debian:latest AS base\nlatest: Pulling from library/debian\n32de3c850997: Already exists\nDigest: sha256:c66c0e5dc607baefefda1d9e64a3b3a317e4189c540c8eac0c1a06186fe353a1\nStatus: Downloaded newer image for debian:latest\n ---> 446440c01886\nStep 12/23 : ARG MAINTAINER=roman.atachiants@gmail.com\n ---> Running in 7742901ea1c9\nRemoving intermediate container 7742901ea1c9\n ---> 6d34cfa40807\nStep 13/23 : LABEL maintainer=${MAINTAINER}\n ---> Running in 0d0bf4db1e0c\nRemoving intermediate container 0d0bf4db1e0c\n ---> 56a1ab966081\nStep 14/23 : RUN apt-get update && apt-get install -y ca-certificates && apt-get install -y dumb-init && rm -rf /var/cache/apk/*\n ---> Running in a3bd9a3679c7\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6525 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (38.8 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  dumb-init\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 13.8 kB of archives.\nAfter this operation, 33.8 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 dumb-init amd64 1.2.5-1 [13.8 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 13.8 kB in 0s (542 kB/s)\nSelecting previously unselected package dumb-init.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6969 files and directories currently installed.)\r\nPreparing to unpack .../dumb-init_1.2.5-1_amd64.deb ...\r\nUnpacking dumb-init (1.2.5-1) ...\r\nSetting up dumb-init (1.2.5-1) ...\r\nRemoving intermediate container a3bd9a3679c7\n ---> aa8848415ade\nStep 15/23 : WORKDIR /root/\n ---> Running in 6db3b5f32288\nRemoving intermediate container 6db3b5f32288\n ---> 194b40d984c7\nStep 16/23 : ARG GO_BINARY=talaria\n ---> Running in f84b244f426e\nRemoving intermediate container f84b244f426e\n ---> 8d743f59d5da\nStep 17/23 : COPY  --from=builder /go/src/talaria/${GO_BINARY} .\n ---> 1b5a03f07eb7\nStep 18/23 : ADD entrypoint.sh .\n ---> e0928d346270\nStep 19/23 : RUN mkdir /etc/talaria/ && chmod +x /root/${GO_BINARY} /root/entrypoint.sh\n ---> Running in 3209f60840c2\nRemoving intermediate container 3209f60840c2\n ---> b23bb664f151\nStep 20/23 : ENV TALARIA_RC=/etc/talaria/talaria.rc\n ---> Running in ee41ac60549f\nRemoving intermediate container ee41ac60549f\n ---> c9fdcb496968\nStep 21/23 : EXPOSE 8027\n ---> Running in c1f4dfdf151d\nRemoving intermediate container c1f4dfdf151d\n ---> 1e2511d2decb\nStep 22/23 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in cd4933fd3f87\nRemoving intermediate container cd4933fd3f87\n ---> e495ab701da8\nStep 23/23 : CMD [\"bash\", \"-c\", \"/root/entrypoint.sh\"]\n ---> Running in 3e02006db52b\nRemoving intermediate container 3e02006db52b\n ---> 9a0db61a404e\nSuccessfully built 9a0db61a404e\nSuccessfully tagged talaria:latest\n","stderr":"","imageSize":272966734},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":19,"end":19,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":19,"end":19,"columnStart":60,"columnEnd":88}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":19,"end":19,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":19,"end":19,"columnStart":60,"columnEnd":88}}],"repairedDockerfile":"FROM golang:1.17 AS builder\n\nARG GO111MODULE=\"on\"\nARG GOOS=\"linux\"\nARG GOARCH=\"amd64\"\nENV GO111MODULE=${GO111MODULE}\nENV GOOS=${GOOS}\nENV GOARCH=${GOARCH}\n\n# GOPATH => /go\nRUN mkdir -p /go/src/talaria\nCOPY . src/talaria\nRUN cd src/talaria && go build . && test -x talaria\n\nFROM debian:latest AS base\nARG MAINTAINER=roman.atachiants@gmail.com\nLABEL maintainer=${MAINTAINER}\n\n# # add ca certificates for http secured connection\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get install --no-install-recommends -y dumb-init && rm -rf /var/cache/apk/*\n\nWORKDIR /root/ \nARG GO_BINARY=talaria\nCOPY  --from=builder /go/src/talaria/${GO_BINARY} .\n#COPY  ${GO_BINARY} .\n\nADD entrypoint.sh .\nRUN mkdir /etc/talaria/ && chmod +x /root/${GO_BINARY} /root/entrypoint.sh\nENV TALARIA_RC=/etc/talaria/talaria.rc\n# # Expose the port and start the service\nEXPOSE 8027\nENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\nCMD [\"bash\", \"-c\", \"/root/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672167055159,"endTimestamp":1672167175530,"error":null,"stdout":"Sending build context to Docker daemon   24.8MB\r\r\nStep 1/23 : FROM golang:1.17 AS builder\n ---> 742df529b073\nStep 2/23 : ARG GO111MODULE=\"on\"\n ---> Running in 9a72c19130d8\nRemoving intermediate container 9a72c19130d8\n ---> 30a983113893\nStep 3/23 : ARG GOOS=\"linux\"\n ---> Running in a29bd0b04acf\nRemoving intermediate container a29bd0b04acf\n ---> 44e24c48c552\nStep 4/23 : ARG GOARCH=\"amd64\"\n ---> Running in 0272baec129c\nRemoving intermediate container 0272baec129c\n ---> c8a50ec64bc5\nStep 5/23 : ENV GO111MODULE=${GO111MODULE}\n ---> Running in 9d45a4f24615\nRemoving intermediate container 9d45a4f24615\n ---> 37bef482af10\nStep 6/23 : ENV GOOS=${GOOS}\n ---> Running in c7067faa42f7\nRemoving intermediate container c7067faa42f7\n ---> cfd0a97678bc\nStep 7/23 : ENV GOARCH=${GOARCH}\n ---> Running in 7cd1e7e49864\nRemoving intermediate container 7cd1e7e49864\n ---> 3f9b75bd3d31\nStep 8/23 : RUN mkdir -p /go/src/talaria\n ---> Running in 371bdf0e5d82\nRemoving intermediate container 371bdf0e5d82\n ---> 4040e0196922\nStep 9/23 : COPY . src/talaria\n ---> e4b5d1d3eeed\nStep 10/23 : RUN cd src/talaria && go build . && test -x talaria\n ---> Running in 4b946137d0fa\n\u001b[91mgo: downloading github.com/tardunge/orc v0.0.7\ngo: downloading github.com/hashicorp/memberlist v0.2.2\ngo: downloading github.com/emitter-io/address v1.0.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.49.0\n\u001b[0m\u001b[91mgo: downloading github.com/fraugster/parquet-go v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/hako/durafmt v0.0.0-20191009132224-3f39dc1ed9f4\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.8.0\ngo: downloading github.com/talariadb/badger/v3 v3.2103.1-with-arm-fix\ngo: downloading github.com/grab/async v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/kelindar/loader v0.0.11\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/twmb/murmur3 v1.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/kelindar/binary v1.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.3\ngo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/kelindar/lua v0.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/nats-io/nats.go v1.17.0\n\u001b[0m\u001b[91mgo: downloading github.com/DataDog/datadog-go v3.7.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.30.25\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20220601150217-0de741cfad7f\n\u001b[0m\u001b[91mgo: downloading github.com/Knetic/govaluate v3.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/samuel/go-thrift v0.0.0-20191111193933-5165175b40af\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/azure-sdk-for-go v42.1.0+incompatible\ngo: downloading github.com/Azure/go-autorest/autorest/adal v0.9.11\ngo: downloading github.com/Azure/azure-storage-blob-go v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest v0.11.17\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/azure/auth v0.5.7\n\u001b[0m\u001b[91mgo: downloading github.com/mroth/weightedrand v0.4.1\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/bigquery v1.35.0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/storage v1.23.0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/pubsub v1.3.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/api v0.86.0\n\u001b[0m\u001b[91mgo: downloading github.com/myteksi/hystrix-go v1.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest v14.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/yuin/gopher-lua v0.0.0-20191220021717-ab39c6098bdb\n\u001b[0m\u001b[91mgo: downloading layeh.com/gopher-luar v1.0.7\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/time v0.0.0-20220920022843-2ce7c2934d45\n\u001b[0m\u001b[91mgo: downloading github.com/sercand/kuberesolver/v3 v3.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/armon/go-metrics v0.3.3\n\u001b[0m\u001b[91mgo: downloading github.com/google/btree v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-msgpack v1.1.5\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go v0.102.1\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-sockaddr v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/miekg/dns v1.1.29\n\u001b[0m\u001b[91mgo: downloading github.com/sean-/seed v0.0.0-20170313163322-e2103e2c3529\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/date v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/logger v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/tracing v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/form3tech-oss/jwt-go v3.2.2+incompatible\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220919173607-35f4265a4bc0\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/go-autorest/autorest/azure/cli v0.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/dimchansky/utfbom v1.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20220622183110-fd043fe589d2\n\u001b[0m\u001b[91mgo: downloading github.com/imroc/req v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/apache/thrift v0.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.7.1\n\u001b[0m\u001b[91mgo: downloading github.com/Azure/azure-pipeline-go v0.2.3\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-immutable-radix v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/nats-io/nkeys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/nats-io/nuid v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20220624214902-1bab6f366d9e\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220919091848-fb04ddd9f9c8\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/compute v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-ieproxy v0.0.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20220628213854-d9e0b6570c03\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/gax-go/v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading go.opencensus.io v0.23.0\n\u001b[0m\u001b[91mgo: downloading cloud.google.com/go/iam v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/golang-lru v0.5.4\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/go-type-adapters v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/talariadb/ristretto v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/dustin/go-humanize v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20220609144429-65e65417b02f\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/flatbuffers v1.12.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.15.10\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/googleapis/enterprise-certificate-proxy v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.8\n\u001b[0m\u001b[91mgo: downloading github.com/satori/go.uuid v1.2.0\n\u001b[0mRemoving intermediate container 4b946137d0fa\n ---> eda6fd98b101\nStep 11/23 : FROM debian:latest AS base\n ---> 446440c01886\nStep 12/23 : ARG MAINTAINER=roman.atachiants@gmail.com\n ---> Running in fe3502272479\nRemoving intermediate container fe3502272479\n ---> 7e778fc26644\nStep 13/23 : LABEL maintainer=${MAINTAINER}\n ---> Running in 446ec820a8f5\nRemoving intermediate container 446ec820a8f5\n ---> 04f73fd7d3ab\nStep 14/23 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates && apt-get install --no-install-recommends -y dumb-init && rm -rf /var/cache/apk/*\n ---> Running in 9317b94734ee\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 2s (5065 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (20.7 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  dumb-init\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 13.8 kB of archives.\nAfter this operation, 33.8 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 dumb-init amd64 1.2.5-1 [13.8 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 13.8 kB in 0s (678 kB/s)\nSelecting previously unselected package dumb-init.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6969 files and directories currently installed.)\r\nPreparing to unpack .../dumb-init_1.2.5-1_amd64.deb ...\r\nUnpacking dumb-init (1.2.5-1) ...\r\nSetting up dumb-init (1.2.5-1) ...\r\nRemoving intermediate container 9317b94734ee\n ---> cb88b42e6d1e\nStep 15/23 : WORKDIR /root/\n ---> Running in 84af87750eee\nRemoving intermediate container 84af87750eee\n ---> 88dc53cc99d2\nStep 16/23 : ARG GO_BINARY=talaria\n ---> Running in e99d5cd2a69c\nRemoving intermediate container e99d5cd2a69c\n ---> d022ea2ababb\nStep 17/23 : COPY  --from=builder /go/src/talaria/${GO_BINARY} .\n ---> cf3bbdb4986e\nStep 18/23 : ADD entrypoint.sh .\n ---> a3ecaf2e60e2\nStep 19/23 : RUN mkdir /etc/talaria/ && chmod +x /root/${GO_BINARY} /root/entrypoint.sh\n ---> Running in 0c350b035e7c\nRemoving intermediate container 0c350b035e7c\n ---> fc76ef6115d9\nStep 20/23 : ENV TALARIA_RC=/etc/talaria/talaria.rc\n ---> Running in a03e163ddac8\nRemoving intermediate container a03e163ddac8\n ---> 63b6f7fe656d\nStep 21/23 : EXPOSE 8027\n ---> Running in 0db2d0c37ce6\nRemoving intermediate container 0db2d0c37ce6\n ---> d1993f95cbce\nStep 22/23 : ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n ---> Running in 6d827ae881ac\nRemoving intermediate container 6d827ae881ac\n ---> cbc1fb8d3039\nStep 23/23 : CMD [\"bash\", \"-c\", \"/root/entrypoint.sh\"]\n ---> Running in d44e0b6bb8f7\nRemoving intermediate container d44e0b6bb8f7\n ---> 4caa8506b75b\nSuccessfully built 4caa8506b75b\nSuccessfully tagged talaria:latest\n","stderr":"","imageSize":272966782},"endTime":1672167175808}