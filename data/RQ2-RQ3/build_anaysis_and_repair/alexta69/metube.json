{"repository":"https://github.com/alexta69/metube","dockerfilePath":"Dockerfile","startTime":1672813373016,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/alexta69/metube'...\n","error":null,"commit":"b7547cd2052e46d0a4921ec34925e1ccb96cbd94"},"originalBuild":{"startTimestamp":1672813374006,"endTimestamp":1672813511616,"error":null,"stdout":"Sending build context to Docker daemon  3.633MB\r\r\nStep 1/19 : FROM node:lts-alpine as builder\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/19 : WORKDIR /metube\n ---> Running in 62acd441b6e7\nRemoving intermediate container 62acd441b6e7\n ---> 0a181a89f2a9\nStep 3/19 : COPY ui ./\n ---> 77716e0f0aca\nStep 4/19 : RUN npm ci &&     node_modules/.bin/ng build --configuration production\n ---> Running in 525c7484e711\n\u001b[91mnpm WARN deprecated source-map-resolve@0.6.0: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.3: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.20.3: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 959 packages, and audited 960 packages in 18s\n\n120 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice \n\u001b[0m\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91mProcessing legacy \"View Engine\" libraries:\n\u001b[0m\u001b[91m- ngx-socket-io [es2015/esm2015] (git+ssh://git@github.com/rodgc/ngx-socket-io.git)\n\u001b[0m\u001b[91mEncourage the library authors to publish an Ivy distribution.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n- Generating index html...\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m1 rules skipped due to selector errors:\n  legend+* -> Cannot read properties of undefined (reading 'type')\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files           | Names         |  Raw Size | Estimated Transfer Size\nmain.dca9593d9e22ca2a.js      | main          | 453.59 kB |               115.39 kB\nstyles.f736eb5e96848bdf.css   | styles        | 196.82 kB |                20.39 kB\nscripts.651f3677503ec340.js   | scripts       |  58.66 kB |                14.21 kB\npolyfills.8f3b7d9535cecf9c.js | polyfills     |  45.90 kB |                14.08 kB\nruntime.0ad550c469e69dc6.js   | runtime       |   1.15 kB |               627 bytes\n\n| Initial Total | 756.11 kB |               164.67 kB\n\nBuild at: 2023-01-04T06:23:42.539Z - Hash: 65c923b02cfc7976 - Time: 23893ms\nRemoving intermediate container 525c7484e711\n ---> 4fbb5d6456dd\nStep 5/19 : FROM python:3.8-alpine\n3.8-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Pulling fs layer\nf9fb575d7a9e: Pulling fs layer\n59c63ce3438e: Pulling fs layer\n4ceace26d08f: Pulling fs layer\n4ceace26d08f: Waiting\n7ec3a91b66d9: Verifying Checksum\n7ec3a91b66d9: Download complete\n59c63ce3438e: Verifying Checksum\n59c63ce3438e: Download complete\nf9fb575d7a9e: Verifying Checksum\nf9fb575d7a9e: Download complete\n7ec3a91b66d9: Pull complete\n4ceace26d08f: Verifying Checksum\n4ceace26d08f: Download complete\nf9fb575d7a9e: Pull complete\n59c63ce3438e: Pull complete\n4ceace26d08f: Pull complete\nDigest: sha256:7c7063333021414512e2d47232eae8cbdec46a2724265c6817f9eab29ca6e3c8\nStatus: Downloaded newer image for python:3.8-alpine\n ---> 13f1e3678aa9\nStep 6/19 : WORKDIR /app\n ---> Running in 6d03b8291fac\nRemoving intermediate container 6d03b8291fac\n ---> 8a7efd543147\nStep 7/19 : COPY Pipfile* docker-entrypoint.sh ./\n ---> e9ec3236f999\nStep 8/19 : RUN chmod +x docker-entrypoint.sh &&     apk add --update ffmpeg aria2 coreutils shadow su-exec &&     apk add --update --virtual .build-deps gcc g++ musl-dev &&     pip install --no-cache-dir pipenv &&     pipenv install --system --deploy --clear &&     pip uninstall pipenv -y &&     apk del .build-deps &&     rm -rf /var/cache/apk/*\n ---> Running in 9e809a804aba\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/83) Installing c-ares (1.18.1-r1)\n(2/83) Installing libgcc (12.2.1_git20220924-r4)\n(3/83) Installing gmp (6.2.1-r2)\n(4/83) Installing nettle (3.8.1-r0)\n(5/83) Installing p11-kit (0.24.1-r1)\n(6/83) Installing libtasn1 (4.19.0-r0)\n(7/83) Installing libunistring (1.1-r0)\n(8/83) Installing gnutls (3.7.8-r2)\n(9/83) Installing libstdc++ (12.2.1_git20220924-r4)\n(10/83) Installing aria2 (1.36.0-r1)\n(11/83) Installing libacl (2.3.1-r1)\n(12/83) Installing libattr (2.5.1-r2)\n(13/83) Installing skalibs (2.12.0.1-r0)\n(14/83) Installing utmps-libs (0.1.2.0-r1)\n(15/83) Installing coreutils (9.1-r0)\n(16/83) Installing sdl2 (2.26.2-r0)\n(17/83) Installing svt-av1-libs (1.3.0-r0)\n(18/83) Installing libxau (1.0.10-r0)\n(19/83) Installing libmd (1.0.4-r0)\n(20/83) Installing libbsd (0.11.7-r0)\n(21/83) Installing libxdmcp (1.1.4-r0)\n(22/83) Installing libxcb (1.15-r0)\n(23/83) Installing libx11 (1.8.3-r0)\n(24/83) Installing aom-libs (3.5.0-r0)\n(25/83) Installing alsa-lib (1.2.8-r0)\n(26/83) Installing brotli-libs (1.0.9-r9)\n(27/83) Installing libpng (1.6.38-r0)\n(28/83) Installing freetype (2.12.1-r0)\n(29/83) Installing fontconfig (2.14.1-r0)\n(30/83) Installing fribidi (1.0.12-r0)\n(31/83) Installing libblkid (2.38.1-r0)\n(32/83) Installing libmount (2.38.1-r0)\n(33/83) Installing pcre2 (10.42-r0)\n(34/83) Installing glib (2.74.4-r0)\n(35/83) Installing graphite2 (1.3.14-r2)\n(36/83) Installing harfbuzz (5.3.1-r1)\n(37/83) Installing libass (0.16.0-r0)\n(38/83) Installing libdav1d (1.0.0-r2)\n(39/83) Installing hwdata-pci (0.364-r0)\n(40/83) Installing libpciaccess (0.17-r0)\n(41/83) Installing libdrm (2.4.114-r0)\n(42/83) Installing lame (3.100-r2)\n(43/83) Installing opus (1.3.1-r1)\n(44/83) Installing libasyncns (0.8-r1)\n(45/83) Installing dbus-libs (1.14.4-r0)\n(46/83) Installing libltdl (2.4.7-r0)\n(47/83) Installing orc (0.4.33-r0)\n(48/83) Installing libogg (1.3.5-r2)\n(49/83) Installing flac-libs (1.4.2-r0)\n(50/83) Installing libvorbis (1.3.7-r0)\n(51/83) Installing libsndfile (1.1.0-r2)\n(52/83) Installing libgomp (12.2.1_git20220924-r4)\n(53/83) Installing soxr (0.1.3-r3)\n(54/83) Installing speexdsp (1.2.1-r0)\n(55/83) Installing tdb-libs (1.4.7-r0)\n(56/83) Installing libpulse (16.1-r6)\n(57/83) Installing cjson (1.7.15-r3)\n(58/83) Installing mbedtls (2.28.2-r0)\n(59/83) Installing librist (0.2.7-r0)\n(60/83) Installing libsrt (1.5.1-r0)\n(61/83) Installing libssh (0.10.4-r0)\n(62/83) Installing libtheora (1.1.1-r16)\n(63/83) Installing libjpeg-turbo (2.1.4-r0)\n(64/83) Installing v4l-utils-libs (1.22.1-r2)\n(65/83) Installing libxext (1.3.5-r0)\n(66/83) Installing libxfixes (6.0.0-r0)\n(67/83) Installing wayland-libs-client (1.21.0-r1)\n(68/83) Installing libva (2.16.0-r0)\n(69/83) Installing libvdpau (1.5-r0)\n(70/83) Installing vidstab (1.1.0-r2)\n(71/83) Installing libvpx (1.12.0-r1)\n(72/83) Installing libwebp (1.2.4-r1)\n(73/83) Installing x264-libs (0.164_git20220602-r0)\n(74/83) Installing numactl (2.0.16-r0)\n(75/83) Installing x265-libs (3.5-r3)\n(76/83) Installing xvidcore (1.3.7-r1)\n(77/83) Installing libsodium (1.0.18-r2)\n(78/83) Installing libzmq (4.3.4-r1)\n(79/83) Installing ffmpeg-libs (5.1.2-r1)\n(80/83) Installing ffmpeg (5.1.2-r1)\n(81/83) Installing linux-pam (1.5.2-r1)\n(82/83) Installing shadow (4.13-r0)\n(83/83) Installing su-exec (0.2-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 123 MiB in 120 packages\n(1/11) Installing binutils (2.39-r2)\n(2/11) Installing libatomic (12.2.1_git20220924-r4)\n(3/11) Installing isl25 (0.25-r0)\n(4/11) Installing mpfr4 (4.1.0-r0)\n(5/11) Installing mpc1 (1.2.1-r1)\n(6/11) Installing gcc (12.2.1_git20220924-r4)\n(7/11) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/11) Installing musl-dev (1.2.3-r4)\n(9/11) Installing libc-dev (0.7.2-r3)\n(10/11) Installing g++ (12.2.1_git20220924-r4)\n(11/11) Installing .build-deps (20230104.062418)\nExecuting busybox-1.35.0-r29.trigger\nOK: 348 MiB in 131 packages\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 39.2 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 135.8 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.8/site-packages (from pipenv) (57.5.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 106.6 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 99.8 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mInstalling dependencies from Pipfile.lock (c00efd)...\nFound existing installation: pipenv 2022.12.19\nUninstalling pipenv-2022.12.19:\n  Successfully uninstalled pipenv-2022.12.19\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m(1/11) Purging .build-deps (20230104.062418)\n(2/11) Purging g++ (12.2.1_git20220924-r4)\n(3/11) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(4/11) Purging gcc (12.2.1_git20220924-r4)\n(5/11) Purging binutils (2.39-r2)\n(6/11) Purging libatomic (12.2.1_git20220924-r4)\n(7/11) Purging libc-dev (0.7.2-r3)\n(8/11) Purging musl-dev (1.2.3-r4)\n(9/11) Purging isl25 (0.25-r0)\n(10/11) Purging mpc1 (1.2.1-r1)\n(11/11) Purging mpfr4 (4.1.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 123 MiB in 120 packages\nRemoving intermediate container 9e809a804aba\n ---> 70cf1c65bd84\nStep 9/19 : COPY favicon ./favicon\n ---> 0de215360c15\nStep 10/19 : COPY app ./app\n ---> 48e92c15cbd9\nStep 11/19 : COPY --from=builder /metube/dist/metube ./ui/dist/metube\n ---> f34fd6647bc9\nStep 12/19 : ENV UID=1000\n ---> Running in 95548cc889f7\nRemoving intermediate container 95548cc889f7\n ---> 9929482dadf8\nStep 13/19 : ENV GID=1000\n ---> Running in 9910f93db4fa\nRemoving intermediate container 9910f93db4fa\n ---> ff0536f8f8bc\nStep 14/19 : ENV UMASK=022\n ---> Running in 1423dad553c7\nRemoving intermediate container 1423dad553c7\n ---> f15b9a2e1ec1\nStep 15/19 : ENV DOWNLOAD_DIR /downloads\n ---> Running in 7fa24195454c\nRemoving intermediate container 7fa24195454c\n ---> aa9c0a96c297\nStep 16/19 : ENV STATE_DIR /downloads/.metube\n ---> Running in c7a2992ae353\nRemoving intermediate container c7a2992ae353\n ---> f62d730b3fc2\nStep 17/19 : VOLUME /downloads\n ---> Running in 091fc8dd6985\nRemoving intermediate container 091fc8dd6985\n ---> fa63969cf845\nStep 18/19 : EXPOSE 8081\n ---> Running in 31d1d1c3e13e\nRemoving intermediate container 31d1d1c3e13e\n ---> 27025dff6b44\nStep 19/19 : CMD [ \"./docker-entrypoint.sh\" ]\n ---> Running in 070ff7a4fbb4\nRemoving intermediate container 070ff7a4fbb4\n ---> d1d896ae02da\nSuccessfully built d1d896ae02da\nSuccessfully tagged metube:latest\n","stderr":"","imageSize":231679588},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":15,"end":15,"columnStart":4,"columnEnd":58}},{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":59}}],"repairedDockerfile":"FROM node:lts-alpine as builder\n\nWORKDIR /metube\nCOPY ui ./\nRUN npm ci && \\\r\n    node_modules/.bin/ng build --configuration production\n\n\nFROM python:3.8-alpine\n\nWORKDIR /app\n\nCOPY Pipfile* docker-entrypoint.sh ./\n\nRUN chmod +x docker-entrypoint.sh && \\\n    apk add --no-cache --update ffmpeg aria2 coreutils shadow su-exec && \\\n    apk add --no-cache --update --virtual .build-deps gcc g++ musl-dev && \\\n    pip install --no-cache-dir pipenv && \\\n    pipenv install --system --deploy --clear && \\\n    pip uninstall pipenv -y && \\\n    apk del .build-deps && \\\n    rm -rf /var/cache/apk/*\n\nCOPY favicon ./favicon\nCOPY app ./app\nCOPY --from=builder /metube/dist/metube ./ui/dist/metube\n\nENV UID=1000\nENV GID=1000\nENV UMASK=022\n\nENV DOWNLOAD_DIR /downloads\nENV STATE_DIR /downloads/.metube\nVOLUME /downloads\nEXPOSE 8081\nCMD [ \"./docker-entrypoint.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672813512059,"endTimestamp":1672813634354,"error":null,"stdout":"Sending build context to Docker daemon  3.633MB\r\r\nStep 1/19 : FROM node:lts-alpine as builder\n ---> 6d7b7852bcd3\nStep 2/19 : WORKDIR /metube\n ---> Running in a8d4050d3c98\nRemoving intermediate container a8d4050d3c98\n ---> be8fcc2e3779\nStep 3/19 : COPY ui ./\n ---> 7710db82d0d4\nStep 4/19 : RUN npm ci &&     node_modules/.bin/ng build --configuration production\n ---> Running in 301fa1fcf954\n\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.6.0: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated tslint@6.1.3: TSLint has been deprecated in favor of ESLint. Please see https://github.com/palantir/tslint/issues/4534 for more information.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@3.20.3: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 959 packages, and audited 960 packages in 15s\n\n120 packages are looking for funding\n  run `npm fund` for details\n\n2 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91mProcessing legacy \"View Engine\" libraries:\n\u001b[0m\u001b[91m- ngx-socket-io [es2015/esm2015] (git+ssh://git@github.com/rodgc/ngx-socket-io.git)\n\u001b[0m\u001b[91mEncourage the library authors to publish an Ivy distribution.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n- Generating index html...\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m1 rules skipped due to selector errors:\n  legend+* -> Cannot read properties of undefined (reading 'type')\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files           | Names         |  Raw Size | Estimated Transfer Size\nmain.dca9593d9e22ca2a.js      | main          | 453.59 kB |               115.39 kB\nstyles.f736eb5e96848bdf.css   | styles        | 196.82 kB |                20.39 kB\nscripts.651f3677503ec340.js   | scripts       |  58.66 kB |                14.21 kB\npolyfills.8f3b7d9535cecf9c.js | polyfills     |  45.90 kB |                14.08 kB\nruntime.0ad550c469e69dc6.js   | runtime       |   1.15 kB |               627 bytes\n\n| Initial Total | 756.11 kB |               164.67 kB\n\nBuild at: 2023-01-04T06:26:12.099Z - Hash: 65c923b02cfc7976 - Time: 24577ms\nRemoving intermediate container 301fa1fcf954\n ---> 3ff914e28848\nStep 5/19 : FROM python:3.8-alpine\n ---> 13f1e3678aa9\nStep 6/19 : WORKDIR /app\n ---> Running in 1d9aee15c57a\nRemoving intermediate container 1d9aee15c57a\n ---> 9678e6d6d106\nStep 7/19 : COPY Pipfile* docker-entrypoint.sh ./\n ---> dc881f350d9b\nStep 8/19 : RUN chmod +x docker-entrypoint.sh &&     apk add --no-cache --update ffmpeg aria2 coreutils shadow su-exec &&     apk add --no-cache --update --virtual .build-deps gcc g++ musl-dev &&     pip install --no-cache-dir pipenv &&     pipenv install --system --deploy --clear &&     pip uninstall pipenv -y &&     apk del .build-deps &&     rm -rf /var/cache/apk/*\n ---> Running in b73430234761\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/83) Installing c-ares (1.18.1-r1)\n(2/83) Installing libgcc (12.2.1_git20220924-r4)\n(3/83) Installing gmp (6.2.1-r2)\n(4/83) Installing nettle (3.8.1-r0)\n(5/83) Installing p11-kit (0.24.1-r1)\n(6/83) Installing libtasn1 (4.19.0-r0)\n(7/83) Installing libunistring (1.1-r0)\n(8/83) Installing gnutls (3.7.8-r2)\n(9/83) Installing libstdc++ (12.2.1_git20220924-r4)\n(10/83) Installing aria2 (1.36.0-r1)\n(11/83) Installing libacl (2.3.1-r1)\n(12/83) Installing libattr (2.5.1-r2)\n(13/83) Installing skalibs (2.12.0.1-r0)\n(14/83) Installing utmps-libs (0.1.2.0-r1)\n(15/83) Installing coreutils (9.1-r0)\n(16/83) Installing sdl2 (2.26.2-r0)\n(17/83) Installing svt-av1-libs (1.3.0-r0)\n(18/83) Installing libxau (1.0.10-r0)\n(19/83) Installing libmd (1.0.4-r0)\n(20/83) Installing libbsd (0.11.7-r0)\n(21/83) Installing libxdmcp (1.1.4-r0)\n(22/83) Installing libxcb (1.15-r0)\n(23/83) Installing libx11 (1.8.3-r0)\n(24/83) Installing aom-libs (3.5.0-r0)\n(25/83) Installing alsa-lib (1.2.8-r0)\n(26/83) Installing brotli-libs (1.0.9-r9)\n(27/83) Installing libpng (1.6.38-r0)\n(28/83) Installing freetype (2.12.1-r0)\n(29/83) Installing fontconfig (2.14.1-r0)\n(30/83) Installing fribidi (1.0.12-r0)\n(31/83) Installing libblkid (2.38.1-r0)\n(32/83) Installing libmount (2.38.1-r0)\n(33/83) Installing pcre2 (10.42-r0)\n(34/83) Installing glib (2.74.4-r0)\n(35/83) Installing graphite2 (1.3.14-r2)\n(36/83) Installing harfbuzz (5.3.1-r1)\n(37/83) Installing libass (0.16.0-r0)\n(38/83) Installing libdav1d (1.0.0-r2)\n(39/83) Installing hwdata-pci (0.364-r0)\n(40/83) Installing libpciaccess (0.17-r0)\n(41/83) Installing libdrm (2.4.114-r0)\n(42/83) Installing lame (3.100-r2)\n(43/83) Installing opus (1.3.1-r1)\n(44/83) Installing libasyncns (0.8-r1)\n(45/83) Installing dbus-libs (1.14.4-r0)\n(46/83) Installing libltdl (2.4.7-r0)\n(47/83) Installing orc (0.4.33-r0)\n(48/83) Installing libogg (1.3.5-r2)\n(49/83) Installing flac-libs (1.4.2-r0)\n(50/83) Installing libvorbis (1.3.7-r0)\n(51/83) Installing libsndfile (1.1.0-r2)\n(52/83) Installing libgomp (12.2.1_git20220924-r4)\n(53/83) Installing soxr (0.1.3-r3)\n(54/83) Installing speexdsp (1.2.1-r0)\n(55/83) Installing tdb-libs (1.4.7-r0)\n(56/83) Installing libpulse (16.1-r6)\n(57/83) Installing cjson (1.7.15-r3)\n(58/83) Installing mbedtls (2.28.2-r0)\n(59/83) Installing librist (0.2.7-r0)\n(60/83) Installing libsrt (1.5.1-r0)\n(61/83) Installing libssh (0.10.4-r0)\n(62/83) Installing libtheora (1.1.1-r16)\n(63/83) Installing libjpeg-turbo (2.1.4-r0)\n(64/83) Installing v4l-utils-libs (1.22.1-r2)\n(65/83) Installing libxext (1.3.5-r0)\n(66/83) Installing libxfixes (6.0.0-r0)\n(67/83) Installing wayland-libs-client (1.21.0-r1)\n(68/83) Installing libva (2.16.0-r0)\n(69/83) Installing libvdpau (1.5-r0)\n(70/83) Installing vidstab (1.1.0-r2)\n(71/83) Installing libvpx (1.12.0-r1)\n(72/83) Installing libwebp (1.2.4-r1)\n(73/83) Installing x264-libs (0.164_git20220602-r0)\n(74/83) Installing numactl (2.0.16-r0)\n(75/83) Installing x265-libs (3.5-r3)\n(76/83) Installing xvidcore (1.3.7-r1)\n(77/83) Installing libsodium (1.0.18-r2)\n(78/83) Installing libzmq (4.3.4-r1)\n(79/83) Installing ffmpeg-libs (5.1.2-r1)\n(80/83) Installing ffmpeg (5.1.2-r1)\n(81/83) Installing linux-pam (1.5.2-r1)\n(82/83) Installing shadow (4.13-r0)\n(83/83) Installing su-exec (0.2-r2)\nExecuting busybox-1.35.0-r29.trigger\nOK: 123 MiB in 120 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing binutils (2.39-r2)\n(2/11) Installing libatomic (12.2.1_git20220924-r4)\n(3/11) Installing isl25 (0.25-r0)\n(4/11) Installing mpfr4 (4.1.0-r0)\n(5/11) Installing mpc1 (1.2.1-r1)\n(6/11) Installing gcc (12.2.1_git20220924-r4)\n(7/11) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(8/11) Installing musl-dev (1.2.3-r4)\n(9/11) Installing libc-dev (0.7.2-r3)\n(10/11) Installing g++ (12.2.1_git20220924-r4)\n(11/11) Installing .build-deps (20230104.062642)\nExecuting busybox-1.35.0-r29.trigger\nOK: 348 MiB in 131 packages\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 56.7 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.8/site-packages (from pipenv) (57.5.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 213.3 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 105.0 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 136.0 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mInstalling dependencies from Pipfile.lock (c00efd)...\nFound existing installation: pipenv 2022.12.19\nUninstalling pipenv-2022.12.19:\n  Successfully uninstalled pipenv-2022.12.19\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/11) Purging .build-deps (20230104.062642)\n(2/11) Purging g++ (12.2.1_git20220924-r4)\n(3/11) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(4/11) Purging gcc (12.2.1_git20220924-r4)\n(5/11) Purging binutils (2.39-r2)\n(6/11) Purging libatomic (12.2.1_git20220924-r4)\n(7/11) Purging libc-dev (0.7.2-r3)\n(8/11) Purging musl-dev (1.2.3-r4)\n(9/11) Purging isl25 (0.25-r0)\n(10/11) Purging mpc1 (1.2.1-r1)\n(11/11) Purging mpfr4 (4.1.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 123 MiB in 120 packages\nRemoving intermediate container b73430234761\n ---> 260fe8040154\nStep 9/19 : COPY favicon ./favicon\n ---> 057cadac3e9d\nStep 10/19 : COPY app ./app\n ---> cbf26577909a\nStep 11/19 : COPY --from=builder /metube/dist/metube ./ui/dist/metube\n ---> 34c3c8e9ef7b\nStep 12/19 : ENV UID=1000\n ---> Running in 83d051d953ec\nRemoving intermediate container 83d051d953ec\n ---> 26f8a70a2e0d\nStep 13/19 : ENV GID=1000\n ---> Running in 0ca2bcdff559\nRemoving intermediate container 0ca2bcdff559\n ---> c14db7bf0552\nStep 14/19 : ENV UMASK=022\n ---> Running in 7252d5b1fbbd\nRemoving intermediate container 7252d5b1fbbd\n ---> 2541139ffa38\nStep 15/19 : ENV DOWNLOAD_DIR /downloads\n ---> Running in b60e1364cfc5\nRemoving intermediate container b60e1364cfc5\n ---> 5b1d26963685\nStep 16/19 : ENV STATE_DIR /downloads/.metube\n ---> Running in d23d2e40c4a6\nRemoving intermediate container d23d2e40c4a6\n ---> 3add776fb58d\nStep 17/19 : VOLUME /downloads\n ---> Running in 6a2ebdf98160\nRemoving intermediate container 6a2ebdf98160\n ---> 003a9360f640\nStep 18/19 : EXPOSE 8081\n ---> Running in d76503141f64\nRemoving intermediate container d76503141f64\n ---> 4bd1efce809f\nStep 19/19 : CMD [ \"./docker-entrypoint.sh\" ]\n ---> Running in ff9d4da0554f\nRemoving intermediate container ff9d4da0554f\n ---> 2a2193f31442\nSuccessfully built 2a2193f31442\nSuccessfully tagged metube:latest\n","stderr":"","imageSize":231679584},"endTime":1672813634690}