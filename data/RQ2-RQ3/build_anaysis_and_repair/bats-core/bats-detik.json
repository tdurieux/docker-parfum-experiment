{"repository":"https://github.com/bats-core/bats-detik","dockerfilePath":"Dockerfile","startTime":1672664449274,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/bats-core/bats-detik'...\n","error":null,"commit":"0d71702f9016a955fc8197d562bb1bb88ddf63a8"},"originalBuild":{"startTimestamp":1672664450229,"endTimestamp":1672664474832,"error":null,"stdout":"Sending build context to Docker daemon  631.8kB\r\r\nStep 1/12 : FROM alpine:3.14\n3.14: Pulling from library/alpine\nc7ed990a2339: Pulling fs layer\nc7ed990a2339: Verifying Checksum\nc7ed990a2339: Download complete\nc7ed990a2339: Pull complete\nDigest: sha256:4c869a63e1b7c0722fed1e402a6466610327c3b83bdddb94bd94fb71da7f638a\nStatus: Downloaded newer image for alpine:3.14\n ---> dd53f409bf0b\nStep 2/12 : ARG KUBECTL_VERSION=v1.21.2\n ---> Running in 72a1bd1b0aaf\nRemoving intermediate container 72a1bd1b0aaf\n ---> 83d026572ef0\nStep 3/12 : ARG HELM_VERSION=v3.6.1\n ---> Running in 845c6aec6e56\nRemoving intermediate container 845c6aec6e56\n ---> 405729d87dfc\nStep 4/12 : ARG BATS_VERSION=1.3.0\n ---> Running in 9e937c620edd\nRemoving intermediate container 9e937c620edd\n ---> 38813399891a\nStep 5/12 : RUN apk --no-cache add     curl     git     libc6-compat     openssh-client     bash\n ---> Running in c358d9d6d981\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/17) Installing ncurses-libs (6.2_p20210612-r1)\n(3/17) Installing readline (8.1.0-r0)\n(4/17) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/17) Installing ca-certificates (20220614-r0)\n(6/17) Installing brotli-libs (1.0.9-r5)\n(7/17) Installing nghttp2-libs (1.43.0-r0)\n(8/17) Installing libcurl (7.79.1-r4)\n(9/17) Installing curl (7.79.1-r4)\n(10/17) Installing expat (2.5.0-r0)\n(11/17) Installing pcre2 (10.36-r1)\n(12/17) Installing git (2.32.4-r0)\n(13/17) Installing libc6-compat (1.2.2-r3)\n(14/17) Installing openssh-keygen (8.6_p1-r3)\n(15/17) Installing libedit (20210216.3.1-r0)\n(16/17) Installing openssh-client-common (8.6_p1-r3)\n(17/17) Installing openssh-client-default (8.6_p1-r3)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 25 MiB in 31 packages\nRemoving intermediate container c358d9d6d981\n ---> 8de65bfa4b88\nStep 6/12 : RUN curl -LO \"https://github.com/bats-core/bats-core/archive/refs/tags/v$BATS_VERSION.zip\" && \tunzip -q -d /tmp \"v$BATS_VERSION.zip\" && \tcd \"/tmp/bats-core-$BATS_VERSION\" && \t./install.sh /usr/local && \trm -rf \"/tmp/bats-core-$BATS_VERSION\"\n ---> Running in 7a4208d87b97\n\u001b[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Curren\u001b[0m\u001b[91mt\n                            \u001b[0m\u001b[91m     Dlo\u001b[0m\u001b[91mad \u001b[0m\u001b[91m U\u001b[0m\u001b[91mpload  \u001b[0m\u001b[91m Total   Spent    Left \u001b[0m\u001b[91m Speed\n\r  0     0 \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m 0\u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0    \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m   0 \u001b[0m\u001b[91m--:--:-- --:\u001b[0m\u001b[91m--:-- --:--\u001b[0m\u001b[91m:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--\u001b[0m\u001b[91m     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--\u001b[0m\u001b[91m:-- --:--:-- --:--:--  \u001b[0m\u001b[91m   0\n\u001b[0m\u001b[91m\r100  133k    0  133k    0     0   220k      0 --:--:-- --:--:-- --:--:--\u001b[0m\u001b[91m  220k\n\u001b[0mInstalled Bats to /usr/local/bin/bats\nRemoving intermediate container 7a4208d87b97\n ---> 138868a79a7f\nStep 7/12 : RUN curl -LO \"https://storage.googleapis.com/kubernetes-release/release/$KUBECTL_VERSION/bin/linux/amd64/kubectl\" && \tchmod +x kubectl && \tmv kubectl /usr/local/bin/\n ---> Running in 8e8d733ec7cd\n\u001b[91m  % Total    % Received % Xferd\u001b[0m\u001b[91m  Average Speed   Time    Time     Time  \u001b[0m\u001b[91mCurrent\n        \u001b[0m\u001b[91m                   \u001b[0m\u001b[91m      Dload  Upload  \u001b[0m\u001b[91m Total\u001b[0m\u001b[91m   Spent \u001b[0m\u001b[91m   \u001b[0m\u001b[91mLeft  Sp\u001b[0m\u001b[91meed\n\r  \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m   0    0     0   \u001b[0m\u001b[91m 0     \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0    \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--     0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0\u001b[0m\u001b[91m --:--:-- --:--\u001b[0m\u001b[91m:-- --\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r100 44.2M  100 44.2M    0     0  5\u001b[0m\u001b[91m0.2M     \u001b[0m\u001b[91m 0 --:--\u001b[0m\u001b[91m:-- --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:--\u001b[0m\u001b[91m 50.\u001b[0m\u001b[91m1M\n\u001b[0mRemoving intermediate container 8e8d733ec7cd\n ---> 3035c52c71df\nStep 8/12 : RUN curl -LO \"https://get.helm.sh/helm-$HELM_VERSION-linux-amd64.tar.gz\" && \tmkdir -p \"/usr/local/helm-$HELM_VERSION\" && \ttar -xzf \"helm-$HELM_VERSION-linux-amd64.tar.gz\" -C \"/usr/local/helm-$HELM_VERSION\" && \tln -s \"/usr/local/helm-$HELM_VERSION/linux-amd64/helm\" /usr/local/bin/helm && \trm -f \"helm-$HELM_VERSION-linux-amd64.tar.gz\"\n ---> Running in d157b7e935cc\n\u001b[91m  % Total    % Received %\u001b[0m\u001b[91m Xferd  A\u001b[0m\u001b[91mverage Speed   T\u001b[0m\u001b[91mime\u001b[0m\u001b[91m    Time     T\u001b[0m\u001b[91mim\u001b[0m\u001b[91me  Cur\u001b[0m\u001b[91mrent\n  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m              \u001b[0m\u001b[91m      \u001b[0m\u001b[91m     \u001b[0m\u001b[91m   Dloa\u001b[0m\u001b[91md  U\u001b[0m\u001b[91mpload\u001b[0m\u001b[91m   Total   S\u001b[0m\u001b[91mpent    Lef\u001b[0m\u001b[91mt  S\u001b[0m\u001b[91mpeed\n\u001b[0m\u001b[91m\r\u001b[0m\u001b[91m  0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m 0   \u001b[0m\u001b[91m  0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0 \u001b[0m\u001b[91m--:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:--     0\u001b[0m\u001b[91m\r  0 13.0M    0     0    0     0   \u001b[0m\u001b[91m   0      0 \u001b[0m\u001b[91m--:--:-\u001b[0m\u001b[91m- \u001b[0m\u001b[91m--:--:-- -\u001b[0m\u001b[91m-:--:--     0\u001b[0m\u001b[91m\r  3 13.0M    3  463k    0     0   255k      0  0:00:52  0:00:0\u001b[0m\u001b[91m1  0:00:51  255k\u001b[0m\u001b[91m\r 30 13.0M   30 4096k    0     0  1434k\u001b[0m\u001b[91m      0  0:00:09  0:0\u001b[0m\u001b[91m0:02  0:\u001b[0m\u001b[91m00:07 143\u001b[0m\u001b[91m4k\u001b[0m\u001b[91m\r100 13.0M  100 13.0M    0     0  3586k \u001b[0m\u001b[91m     0  0:00:03  0:00:03 --:-\u001b[0m\u001b[91m-:-- 3\u001b[0m\u001b[91m587k\n\u001b[0mRemoving intermediate container d157b7e935cc\n ---> 531f3039c945\nStep 9/12 : RUN adduser -D -u 10000 testing\n ---> Running in bc798dc8100d\nRemoving intermediate container bc798dc8100d\n ---> 9d33b7d83156\nStep 10/12 : USER testing\n ---> Running in fc472c7f5dcc\nRemoving intermediate container fc472c7f5dcc\n ---> 37154d34dd17\nStep 11/12 : WORKDIR /home/testing\n ---> Running in 2eba61b982f6\nRemoving intermediate container 2eba61b982f6\n ---> aad700acef80\nStep 12/12 : COPY ./lib /home/testing/lib\n ---> 7c5e86bff532\nSuccessfully built 7c5e86bff532\nSuccessfully tagged bats-detik:latest\n","stderr":"","imageSize":116992925},"repair":{"violations":[{"name":"curlUseFlagF","position":{"start":15,"end":15,"columnStart":4,"columnEnd":90}},{"name":"curlUseFlagF","position":{"start":22,"end":22,"columnStart":4,"columnEnd":113}},{"name":"curlUseFlagF","position":{"start":27,"end":27,"columnStart":4,"columnEnd":72}}],"repairedDockerfile":"FROM alpine:3.14\n\nARG KUBECTL_VERSION=v1.21.2\nARG HELM_VERSION=v3.6.1\nARG BATS_VERSION=1.3.0\n\n# Add packages\nRUN apk --no-cache add \\\n    curl \\\n    git \\\n    libc6-compat \\\n    openssh-client \\\n    bash\n\n# Install BATS\nRUN curl -f -LO \"https://github.com/bats-core/bats-core/archive/refs/tags/v$BATS_VERSION.zip\" && \\\n\tunzip -q -d /tmp \"v$BATS_VERSION.zip\" && \\\n\tcd \"/tmp/bats-core-$BATS_VERSION\" && \\\n\t./install.sh /usr/local && \\\n\trm -rf \"/tmp/bats-core-$BATS_VERSION\"\n\n# Install kubectl\nRUN curl -f -LO \"https://storage.googleapis.com/kubernetes-release/release/$KUBECTL_VERSION/bin/linux/amd64/kubectl\" && \\\n\tchmod +x kubectl && \\\n\tmv kubectl /usr/local/bin/\n\n# Install Helm\nRUN curl -f -LO \"https://get.helm.sh/helm-$HELM_VERSION-linux-amd64.tar.gz\" && \\\n\tmkdir -p \"/usr/local/helm-$HELM_VERSION\" && \\\n\ttar -xzf \"helm-$HELM_VERSION-linux-amd64.tar.gz\" -C \"/usr/local/helm-$HELM_VERSION\" && \\\n\tln -s \"/usr/local/helm-$HELM_VERSION/linux-amd64/helm\" /usr/local/bin/helm && \\\n\trm -f \"helm-$HELM_VERSION-linux-amd64.tar.gz\"\n\n# Work directory.\n# Use the same UID than Jenkins:\n# for Jenkins versions < 2.62, this is 1000\nRUN adduser -D -u 10000 testing\nUSER testing\nWORKDIR /home/testing\n\n# Initialize the Helm client (Helm 2.x)\n# RUN helm init --client-only --skip-refresh\n\n# Add the library\nCOPY ./lib /home/testing/lib\n"},"repairedBuild":{"startTimestamp":1672664475229,"endTimestamp":1672664489305,"error":null,"stdout":"Sending build context to Docker daemon  631.8kB\r\r\nStep 1/12 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 2/12 : ARG KUBECTL_VERSION=v1.21.2\n ---> Running in dfc51a43c1a4\nRemoving intermediate container dfc51a43c1a4\n ---> fc32b2e40e2b\nStep 3/12 : ARG HELM_VERSION=v3.6.1\n ---> Running in a8cedce414f2\nRemoving intermediate container a8cedce414f2\n ---> 21a49744e117\nStep 4/12 : ARG BATS_VERSION=1.3.0\n ---> Running in 8953b8279b7f\nRemoving intermediate container 8953b8279b7f\n ---> 4fa8bcbb25c2\nStep 5/12 : RUN apk --no-cache add     curl     git     libc6-compat     openssh-client     bash\n ---> Running in 6158ee9bd803\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(2/17) Installing ncurses-libs (6.2_p20210612-r1)\n(3/17) Installing readline (8.1.0-r0)\n(4/17) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/17) Installing ca-certificates (20220614-r0)\n(6/17) Installing brotli-libs (1.0.9-r5)\n(7/17) Installing nghttp2-libs (1.43.0-r0)\n(8/17) Installing libcurl (7.79.1-r4)\n(9/17) Installing curl (7.79.1-r4)\n(10/17) Installing expat (2.5.0-r0)\n(11/17) Installing pcre2 (10.36-r1)\n(12/17) Installing git (2.32.4-r0)\n(13/17) Installing libc6-compat (1.2.2-r3)\n(14/17) Installing openssh-keygen (8.6_p1-r3)\n(15/17) Installing libedit (20210216.3.1-r0)\n(16/17) Installing openssh-client-common (8.6_p1-r3)\n(17/17) Installing openssh-client-default (8.6_p1-r3)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 25 MiB in 31 packages\nRemoving intermediate container 6158ee9bd803\n ---> cb497498af56\nStep 6/12 : RUN curl -f -LO \"https://github.com/bats-core/bats-core/archive/refs/tags/v$BATS_VERSION.zip\" && \tunzip -q -d /tmp \"v$BATS_VERSION.zip\" && \tcd \"/tmp/bats-core-$BATS_VERSION\" && \t./install.sh /usr/local && \trm -rf \"/tmp/bats-core-$BATS_VERSION\"\n ---> Running in bfd70288b251\n\u001b[91m  % Total    % Received % Xferd  Average\u001b[0m\u001b[91m Speed   Time    Time  \u001b[0m\u001b[91m   Time  \u001b[0m\u001b[91mCurrent\n\u001b[0m\u001b[91m             \u001b[0m\u001b[91m    \u001b[0m\u001b[91m     \u001b[0m\u001b[91m    \u001b[0m\u001b[91m    \u001b[0m\u001b[91m   Dload  Upl\u001b[0m\u001b[91moad   To\u001b[0m\u001b[91mtal   Spe\u001b[0m\u001b[91mnt    Le\u001b[0m\u001b[91mft  Speed\n\r  \u001b[0m\u001b[91m0   \u001b[0m\u001b[91m  0    0   \u001b[0m\u001b[91m  0    0     0      0      0 --\u001b[0m\u001b[91m:--:-- --:--:--\u001b[0m\u001b[91m --:--:-\u001b[0m\u001b[91m-  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0   \u001b[0m\u001b[91m   0 --:-\u001b[0m\u001b[91m-:-- \u001b[0m\u001b[91m--:--:-\u001b[0m\u001b[91m- --:--:-- \u001b[0m\u001b[91m    0\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r100  133k    0  133k    0     0\u001b[0m\u001b[91m   236k      0\u001b[0m\u001b[91m --:\u001b[0m\u001b[91m--:--\u001b[0m\u001b[91m -\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m:-- \u001b[0m\u001b[91m--:--:-- \u001b[0m\u001b[91m 2\u001b[0m\u001b[91m36k\u001b[0m\u001b[91m\r100  133k\u001b[0m\u001b[91m    \u001b[0m\u001b[91m0  \u001b[0m\u001b[91m13\u001b[0m\u001b[91m3k    \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m    \u001b[0m\u001b[91m0   2\u001b[0m\u001b[91m36k \u001b[0m\u001b[91m     \u001b[0m\u001b[91m0 -\u001b[0m\u001b[91m-:--:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:\u001b[0m\u001b[91m-- -\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m--:\u001b[0m\u001b[91m--     0\n\u001b[0mInstalled Bats to /usr/local/bin/bats\nRemoving intermediate container bfd70288b251\n ---> 2265cb46f4f7\nStep 7/12 : RUN curl -f -LO \"https://storage.googleapis.com/kubernetes-release/release/$KUBECTL_VERSION/bin/linux/amd64/kubectl\" && \tchmod +x kubectl && \tmv kubectl /usr/local/bin/\n ---> Running in 601e9e3da3dc\n\u001b[91m  % Total    % Received % Xferd  \u001b[0m\u001b[91mAverage Speed\u001b[0m\u001b[91m   Time    Time     Time  Current\n\u001b[0m\u001b[91m     \u001b[0m\u001b[91m   \u001b[0m\u001b[91m     \u001b[0m\u001b[91m    \u001b[0m\u001b[91m  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m         \u001b[0m\u001b[91m  D\u001b[0m\u001b[91mload  \u001b[0m\u001b[91mUpload  \u001b[0m\u001b[91m Total   Sp\u001b[0m\u001b[91ment  \u001b[0m\u001b[91m  Left\u001b[0m\u001b[91m  Speed\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m\r  \u001b[0m\u001b[91m0 \u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m   0    0     \u001b[0m\u001b[91m0      0  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m 0 --\u001b[0m\u001b[91m:--:-\u001b[0m\u001b[91m- --:--:-- --\u001b[0m\u001b[91m:--:-\u001b[0m\u001b[91m-     0\u001b[0m\u001b[91m\r 57 44.2M   57 25.5M    0     0  59.4M      0 --:--:-- --:--:-- --:--:-- 59.4M\u001b[0m\u001b[91m\r100 44.2M  100 44.2M    0     0  74.0M      0 --\u001b[0m\u001b[91m:--:-- --:--:-- --:--:-\u001b[0m\u001b[91m- 74.0M\n\u001b[0mRemoving intermediate container 601e9e3da3dc\n ---> 43579cb8073d\nStep 8/12 : RUN curl -f -LO \"https://get.helm.sh/helm-$HELM_VERSION-linux-amd64.tar.gz\" && \tmkdir -p \"/usr/local/helm-$HELM_VERSION\" && \ttar -xzf \"helm-$HELM_VERSION-linux-amd64.tar.gz\" -C \"/usr/local/helm-$HELM_VERSION\" && \tln -s \"/usr/local/helm-$HELM_VERSION/linux-amd64/helm\" /usr/local/bin/helm && \trm -f \"helm-$HELM_VERSION-linux-amd64.tar.gz\"\n ---> Running in e63e36a068b3\n\u001b[91m  % Total    % Received % Xf\u001b[0m\u001b[91merd  Avera\u001b[0m\u001b[91mge Speed   T\u001b[0m\u001b[91mime    \u001b[0m\u001b[91mTime     Time  Current\n\u001b[0m\u001b[91m      \u001b[0m\u001b[91m    \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  \u001b[0m\u001b[91m  \u001b[0m\u001b[91m     \u001b[0m\u001b[91m         \u001b[0m\u001b[91m  Dload  Uploa\u001b[0m\u001b[91md   Total   Spent  \u001b[0m\u001b[91m  Le\u001b[0m\u001b[91mft  \u001b[0m\u001b[91mSpee\u001b[0m\u001b[91md\n\u001b[0m\u001b[91m\r  0     0    0     0  \u001b[0m\u001b[91m  0     \u001b[0m\u001b[91m0      \u001b[0m\u001b[91m0      \u001b[0m\u001b[91m0 --:-\u001b[0m\u001b[91m-:-\u001b[0m\u001b[91m- --:\u001b[0m\u001b[91m--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m --\u001b[0m\u001b[91m:--:--     \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r100 13.0M  100 13.0M    0     0  89.2M      0 --:--:-- --:--:-- --:--:-- 89.4M\n\u001b[0mRemoving intermediate container e63e36a068b3\n ---> 2cb4a2274cab\nStep 9/12 : RUN adduser -D -u 10000 testing\n ---> Running in 31123a513b7c\nRemoving intermediate container 31123a513b7c\n ---> e1e270c986c4\nStep 10/12 : USER testing\n ---> Running in 20acf1508138\nRemoving intermediate container 20acf1508138\n ---> 2567563a37c2\nStep 11/12 : WORKDIR /home/testing\n ---> Running in af9c3f46ff42\nRemoving intermediate container af9c3f46ff42\n ---> 20c6d4b1b9de\nStep 12/12 : COPY ./lib /home/testing/lib\n ---> 2ad797d81974\nSuccessfully built 2ad797d81974\nSuccessfully tagged bats-detik:latest\n","stderr":"","imageSize":116992925},"endTime":1672664489583}