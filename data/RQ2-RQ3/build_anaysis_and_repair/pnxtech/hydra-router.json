{"repository":"https://github.com/pnxtech/hydra-router","dockerfilePath":"Dockerfile","startTime":1672375662978,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pnxtech/hydra-router'...\n","error":null,"commit":"e903d6a655e0a30d6183d572d7ffa3d2472a90f5"},"originalBuild":{"startTimestamp":1672375664006,"endTimestamp":1672375698308,"error":null,"stdout":"Sending build context to Docker daemon  1.549MB\r\r\nStep 1/11 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/11 : LABEL maintainer=\"Carlos Justiniano cjus@ieee.org\"\n ---> Running in 6aa5429a2869\nRemoving intermediate container 6aa5429a2869\n ---> 50b3b8d5ec6f\nStep 3/11 : EXPOSE 80\n ---> Running in 9465dc04fe7d\nRemoving intermediate container 9465dc04fe7d\n ---> 993bf6f4ca7e\nStep 4/11 : ENV UV_THREADPOOL_SIZE 64\n ---> Running in e6f3b78df55f\nRemoving intermediate container e6f3b78df55f\n ---> 8e9d385a0a26\nStep 5/11 : HEALTHCHECK --interval=5s --timeout=3s CMD curl -f http://localhost:80/v1/router/health || exit 1\n ---> Running in ca33d478a8ab\nRemoving intermediate container ca33d478a8ab\n ---> 6e3a1cba11ac\nStep 6/11 : RUN apk add --update     curl   && rm -rf /var/cache/apk/*\n ---> Running in d1b55ebc9607\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20220614-r3)\n(2/5) Installing brotli-libs (1.0.9-r9)\n(3/5) Installing nghttp2-libs (1.51.0-r0)\n(4/5) Installing libcurl (7.87.0-r0)\n(5/5) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 12 MiB in 22 packages\nRemoving intermediate container d1b55ebc9607\n ---> 7daa9dd6772c\nStep 7/11 : RUN mkdir -p /usr/src/app\n ---> Running in c80443e22e3f\nRemoving intermediate container c80443e22e3f\n ---> 7df0a1ef02ef\nStep 8/11 : WORKDIR /usr/src/app\n ---> Running in 8cfed10df354\nRemoving intermediate container 8cfed10df354\n ---> 26e4707d34ee\nStep 9/11 : ADD . /usr/src/app\n ---> f3e6746b0549\nStep 10/11 : RUN npm install --production\n ---> Running in b57affc50ba3\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 14 packages, and audited 15 packages in 16s\n\n2 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container b57affc50ba3\n ---> e883fac90f48\nStep 11/11 : ENTRYPOINT [\"node\", \"--nouse-idle-notification\", \"--expose-gc\", \"--max-old-space-size=8192\", \"hydra-router.js\"]\n ---> Running in a763ac5f6f8e\nRemoving intermediate container a763ac5f6f8e\n ---> 883d122a0124\nSuccessfully built 883d122a0124\nSuccessfully tagged hydra-router:latest\n","stderr":"","imageSize":135573113},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":28}},{"name":"mkdirUsrSrcThenRemove","position":{"start":8,"end":8,"columnStart":4,"columnEnd":25}},{"name":"apkAddUseNoCache","position":{"start":5,"end":6,"columnStart":4,"columnEnd":8}}],"repairedDockerfile":"FROM node:16-alpine\nLABEL maintainer=\"Carlos Justiniano cjus@ieee.org\"\nEXPOSE 80\nENV UV_THREADPOOL_SIZE 64\nHEALTHCHECK --interval=5s --timeout=3s CMD curl -f http://localhost:80/v1/router/health || exit 1\nRUN apk add --no-cache --update \\\n    curl \\\n  && rm -rf /var/cache/apk/*\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nADD . /usr/src/app\nRUN npm install --production\nENTRYPOINT [\"node\", \"--nouse-idle-notification\", \"--expose-gc\", \"--max-old-space-size=8192\", \"hydra-router.js\"]\n"},"repairedBuild":{"startTimestamp":1672375698864,"endTimestamp":1672375725647,"error":null,"stdout":"Sending build context to Docker daemon  1.549MB\r\r\nStep 1/11 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/11 : LABEL maintainer=\"Carlos Justiniano cjus@ieee.org\"\n ---> Running in 6db0c4987c9f\nRemoving intermediate container 6db0c4987c9f\n ---> 667cc1326db4\nStep 3/11 : EXPOSE 80\n ---> Running in f9f11afc7a45\nRemoving intermediate container f9f11afc7a45\n ---> d17df78a3fa6\nStep 4/11 : ENV UV_THREADPOOL_SIZE 64\n ---> Running in 70b28b9e66b3\nRemoving intermediate container 70b28b9e66b3\n ---> 678aa9eb5119\nStep 5/11 : HEALTHCHECK --interval=5s --timeout=3s CMD curl -f http://localhost:80/v1/router/health || exit 1\n ---> Running in 02febd61150c\nRemoving intermediate container 02febd61150c\n ---> baf7881ee2e5\nStep 6/11 : RUN apk add --no-cache --update     curl   && rm -rf /var/cache/apk/*\n ---> Running in eb6ebe6d0a0f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20220614-r3)\n(2/5) Installing brotli-libs (1.0.9-r9)\n(3/5) Installing nghttp2-libs (1.51.0-r0)\n(4/5) Installing libcurl (7.87.0-r0)\n(5/5) Installing curl (7.87.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 12 MiB in 22 packages\nRemoving intermediate container eb6ebe6d0a0f\n ---> ec2e90c66beb\nStep 7/11 : RUN mkdir -p /usr/src/app\n ---> Running in 584a7b4b744b\nRemoving intermediate container 584a7b4b744b\n ---> e45f0a9fe6fe\nStep 8/11 : WORKDIR /usr/src/app\n ---> Running in a609ec75fb9a\nRemoving intermediate container a609ec75fb9a\n ---> af93dcc12080\nStep 9/11 : ADD . /usr/src/app\n ---> 437ebc0addbe\nStep 10/11 : RUN npm install --production\n ---> Running in ac3220e7faba\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.2.1: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 14 packages, and audited 15 packages in 5s\n\n2 high severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container ac3220e7faba\n ---> fe4d070fcf31\nStep 11/11 : ENTRYPOINT [\"node\", \"--nouse-idle-notification\", \"--expose-gc\", \"--max-old-space-size=8192\", \"hydra-router.js\"]\n ---> Running in e122a00990ff\nRemoving intermediate container e122a00990ff\n ---> 7fa5b987f860\nSuccessfully built 7fa5b987f860\nSuccessfully tagged hydra-router:latest\n","stderr":"","imageSize":135573098},"endTime":1672375726211}