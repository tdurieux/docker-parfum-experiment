{"repository":"https://github.com/segmentio/aws-okta","dockerfilePath":"Dockerfile","startTime":1672148724529,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/segmentio/aws-okta'...\n","error":null,"commit":"2b49403a747b636794b5d31245ee28d31a7bdb51"},"originalBuild":{"startTimestamp":1672148725883,"endTimestamp":1672148815213,"error":null,"stdout":"Sending build context to Docker daemon  14.95MB\r\r\nStep 1/10 : FROM golang:1.11 as build\n ---> 43a154fee764\nStep 2/10 : ENV SRC github.com/segmentio/aws-okta\n ---> Running in ebc8bf32ea5b\nRemoving intermediate container ebc8bf32ea5b\n ---> 1f3ccec70b79\nStep 3/10 : ARG VERSION\n ---> Running in bb30c54391c4\nRemoving intermediate container bb30c54391c4\n ---> a8c0ad875ae2\nStep 4/10 : WORKDIR /build\n ---> Running in b32e91433c93\nRemoving intermediate container b32e91433c93\n ---> 85dfa588a30d\nStep 5/10 : COPY . /go/src/${SRC}\n ---> 721d928f1997\nStep 6/10 : RUN apt-get update && apt-get install --no-install-recommends -y     libusb-1.0-0-dev     ca-certificates     build-essential     git\n ---> Running in 42e852f41da2\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (5094 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  bzip2 dpkg-dev libbz2-1.0 libdpkg-perl libusb-1.0-0 patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring gettext-base git-daemon-run | git-daemon-sysvinit\n  git-doc git-el git-email git-gui gitk gitweb git-cvs git-mediawiki git-svn\n  bzr ed diffutils-doc\nRecommended packages:\n  fakeroot libalgorithm-merge-perl less libfile-fcntllock-perl\n  liblocale-gettext-perl libusb-1.0-doc\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev libusb-1.0-0 libusb-1.0-0-dev patch xz-utils\nThe following packages will be upgraded:\n  ca-certificates git libbz2-1.0 libdpkg-perl\n4 upgraded, 7 newly installed, 0 to remove and 79 not upgraded.\nNeed to get 9533 kB of archives.\nAfter this operation, 3651 kB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security buster/updates/main amd64 libbz2-1.0 amd64 1.0.6-9.2~deb10u2 [45.4 kB]\nGet:2 http://deb.debian.org/debian buster/main amd64 xz-utils amd64 5.2.4-1+deb10u1 [183 kB]\nGet:3 http://security.debian.org/debian-security buster/updates/main amd64 bzip2 amd64 1.0.6-9.2~deb10u2 [48.5 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 git amd64 1:2.20.1-2+deb10u6 [5634 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 libdpkg-perl all 1.19.8 [1415 kB]\nGet:6 http://deb.debian.org/debian buster/main amd64 patch amd64 2.7.6-3+deb10u1 [126 kB]\nGet:7 http://deb.debian.org/debian buster/main amd64 dpkg-dev all 1.19.8 [1776 kB]\nGet:8 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\nGet:9 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\nGet:10 http://deb.debian.org/debian buster/main amd64 libusb-1.0-0 amd64 2:1.0.22-2 [55.3 kB]\nGet:11 http://deb.debian.org/debian buster/main amd64 libusb-1.0-0-dev amd64 2:1.0.22-2 [74.5 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 9533 kB in 0s (102 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\nPreparing to unpack .../libbz2-1.0_1.0.6-9.2~deb10u2_amd64.deb ...\r\nUnpacking libbz2-1.0:amd64 (1.0.6-9.2~deb10u2) over (1.0.6-9.1) ...\r\nSetting up libbz2-1.0:amd64 (1.0.6-9.2~deb10u2) ...\r\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\nPreparing to unpack .../0-bzip2_1.0.6-9.2~deb10u2_amd64.deb ...\r\nUnpacking bzip2 (1.0.6-9.2~deb10u2) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../1-xz-utils_5.2.4-1+deb10u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.4-1+deb10u1) ...\r\nPreparing to unpack .../2-libdpkg-perl_1.19.8_all.deb ...\r\nUnpacking libdpkg-perl (1.19.8) over (1.19.7) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../3-patch_2.7.6-3+deb10u1_amd64.deb ...\r\nUnpacking patch (2.7.6-3+deb10u1) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../4-dpkg-dev_1.19.8_all.deb ...\r\nUnpacking dpkg-dev (1.19.8) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../5-build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nPreparing to unpack .../6-ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) over (20190110) ...\r\nPreparing to unpack .../7-git_1%3a2.20.1-2+deb10u6_amd64.deb ...\r\nUnpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2) ...\r\nSelecting previously unselected package libusb-1.0-0:amd64.\r\nPreparing to unpack .../8-libusb-1.0-0_2%3a1.0.22-2_amd64.deb ...\r\nUnpacking libusb-1.0-0:amd64 (2:1.0.22-2) ...\r\nSelecting previously unselected package libusb-1.0-0-dev:amd64.\r\nPreparing to unpack .../9-libusb-1.0-0-dev_2%3a1.0.22-2_amd64.deb ...\r\nUnpacking libusb-1.0-0-dev:amd64 (2:1.0.22-2) ...\r\nSetting up bzip2 (1.0.6-9.2~deb10u2) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nUpdating certificates in /etc/ssl/certs...\r\n13 added, 4 removed; done.\r\nSetting up xz-utils (5.2.4-1+deb10u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-3+deb10u1) ...\r\nSetting up git (1:2.20.1-2+deb10u6) ...\r\nSetting up libdpkg-perl (1.19.8) ...\r\nSetting up libusb-1.0-0:amd64 (2:1.0.22-2) ...\r\nSetting up libusb-1.0-0-dev:amd64 (2:1.0.22-2) ...\r\nSetting up dpkg-dev (1.19.8) ...\r\nSetting up build-essential (12.6) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 42e852f41da2\n ---> 07558604df33\nStep 7/10 : RUN CGO_ENABLED=1 go build -o aws-okta -ldflags=\"-X main.version=$VERSION\" ${SRC}/cmd\n ---> Running in cfd81b62db8a\nRemoving intermediate container cfd81b62db8a\n ---> d85e0d215254\nStep 8/10 : FROM scratch\n ---> \nStep 9/10 : COPY --from=build /build/aws-okta /\n ---> 92f3ca076945\nStep 10/10 : ENTRYPOINT [\"/aws-okta\"]\n ---> Running in 042ecb6b37b2\nRemoving intermediate container 042ecb6b37b2\n ---> b38c1575066c\nSuccessfully built b38c1575066c\nSuccessfully tagged aws-okta:latest\n","stderr":"","imageSize":231014},"repair":{"violations":[{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":8,"end":12,"columnStart":22,"columnEnd":7}}],"repairedDockerfile":"FROM golang:1.11 as build\n\nENV SRC github.com/segmentio/aws-okta\nARG VERSION\n\nWORKDIR /build\nCOPY . /go/src/${SRC}\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    libusb-1.0-0-dev \\\n    ca-certificates \\\n    build-essential \\\n    git\n\nRUN CGO_ENABLED=1 go build -o aws-okta -ldflags=\"-X main.version=$VERSION\" ${SRC}/cmd\n\nFROM scratch\nCOPY --from=build /build/aws-okta /\nENTRYPOINT [\"/aws-okta\"]\n"},"repairedBuild":{"startTimestamp":1672148816028,"endTimestamp":1672148864492,"error":null,"stdout":"Sending build context to Docker daemon  14.95MB\r\r\nStep 1/10 : FROM golang:1.11 as build\n ---> 43a154fee764\nStep 2/10 : ENV SRC github.com/segmentio/aws-okta\n ---> Running in d113e26f0ea0\nRemoving intermediate container d113e26f0ea0\n ---> 279800741fac\nStep 3/10 : ARG VERSION\n ---> Running in b1deb6c4cbc2\nRemoving intermediate container b1deb6c4cbc2\n ---> adaa411c488e\nStep 4/10 : WORKDIR /build\n ---> Running in 558efd4c0b7c\nRemoving intermediate container 558efd4c0b7c\n ---> a8f033679be5\nStep 5/10 : COPY . /go/src/${SRC}\n ---> 5e15cd346344\nStep 6/10 : RUN apt-get update && apt-get install --no-install-recommends -y     libusb-1.0-0-dev     ca-certificates     build-essential     git\n ---> Running in 5001dd984024\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (5202 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  bzip2 dpkg-dev libbz2-1.0 libdpkg-perl libusb-1.0-0 patch xz-utils\nSuggested packages:\n  bzip2-doc debian-keyring gettext-base git-daemon-run | git-daemon-sysvinit\n  git-doc git-el git-email git-gui gitk gitweb git-cvs git-mediawiki git-svn\n  bzr ed diffutils-doc\nRecommended packages:\n  fakeroot libalgorithm-merge-perl less libfile-fcntllock-perl\n  liblocale-gettext-perl libusb-1.0-doc\nThe following NEW packages will be installed:\n  build-essential bzip2 dpkg-dev libusb-1.0-0 libusb-1.0-0-dev patch xz-utils\nThe following packages will be upgraded:\n  ca-certificates git libbz2-1.0 libdpkg-perl\n4 upgraded, 7 newly installed, 0 to remove and 79 not upgraded.\nNeed to get 9533 kB of archives.\nAfter this operation, 3651 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 xz-utils amd64 5.2.4-1+deb10u1 [183 kB]\nGet:2 http://security.debian.org/debian-security buster/updates/main amd64 libbz2-1.0 amd64 1.0.6-9.2~deb10u2 [45.4 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 libdpkg-perl all 1.19.8 [1415 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 bzip2 amd64 1.0.6-9.2~deb10u2 [48.5 kB]\nGet:5 http://security.debian.org/debian-security buster/updates/main amd64 git amd64 1:2.20.1-2+deb10u6 [5634 kB]\nGet:6 http://deb.debian.org/debian buster/main amd64 patch amd64 2.7.6-3+deb10u1 [126 kB]\nGet:7 http://deb.debian.org/debian buster/main amd64 dpkg-dev all 1.19.8 [1776 kB]\nGet:8 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\nGet:9 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]\nGet:10 http://deb.debian.org/debian buster/main amd64 libusb-1.0-0 amd64 2:1.0.22-2 [55.3 kB]\nGet:11 http://deb.debian.org/debian buster/main amd64 libusb-1.0-0-dev amd64 2:1.0.22-2 [74.5 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 9533 kB in 1s (6710 kB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\nPreparing to unpack .../libbz2-1.0_1.0.6-9.2~deb10u2_amd64.deb ...\r\nUnpacking libbz2-1.0:amd64 (1.0.6-9.2~deb10u2) over (1.0.6-9.1) ...\r\nSetting up libbz2-1.0:amd64 (1.0.6-9.2~deb10u2) ...\r\nSelecting previously unselected package bzip2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\nPreparing to unpack .../0-bzip2_1.0.6-9.2~deb10u2_amd64.deb ...\r\nUnpacking bzip2 (1.0.6-9.2~deb10u2) ...\r\nSelecting previously unselected package xz-utils.\r\nPreparing to unpack .../1-xz-utils_5.2.4-1+deb10u1_amd64.deb ...\r\nUnpacking xz-utils (5.2.4-1+deb10u1) ...\r\nPreparing to unpack .../2-libdpkg-perl_1.19.8_all.deb ...\r\nUnpacking libdpkg-perl (1.19.8) over (1.19.7) ...\r\nSelecting previously unselected package patch.\r\nPreparing to unpack .../3-patch_2.7.6-3+deb10u1_amd64.deb ...\r\nUnpacking patch (2.7.6-3+deb10u1) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../4-dpkg-dev_1.19.8_all.deb ...\r\nUnpacking dpkg-dev (1.19.8) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../5-build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nPreparing to unpack .../6-ca-certificates_20200601~deb10u2_all.deb ...\r\nUnpacking ca-certificates (20200601~deb10u2) over (20190110) ...\r\nPreparing to unpack .../7-git_1%3a2.20.1-2+deb10u6_amd64.deb ...\r\nUnpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2) ...\r\nSelecting previously unselected package libusb-1.0-0:amd64.\r\nPreparing to unpack .../8-libusb-1.0-0_2%3a1.0.22-2_amd64.deb ...\r\nUnpacking libusb-1.0-0:amd64 (2:1.0.22-2) ...\r\nSelecting previously unselected package libusb-1.0-0-dev:amd64.\r\nPreparing to unpack .../9-libusb-1.0-0-dev_2%3a1.0.22-2_amd64.deb ...\r\nUnpacking libusb-1.0-0-dev:amd64 (2:1.0.22-2) ...\r\nSetting up bzip2 (1.0.6-9.2~deb10u2) ...\r\nSetting up ca-certificates (20200601~deb10u2) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nUpdating certificates in /etc/ssl/certs...\r\n13 added, 4 removed; done.\r\nSetting up xz-utils (5.2.4-1+deb10u1) ...\r\nupdate-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode\r\nSetting up patch (2.7.6-3+deb10u1) ...\r\nSetting up git (1:2.20.1-2+deb10u6) ...\r\nSetting up libdpkg-perl (1.19.8) ...\r\nSetting up libusb-1.0-0:amd64 (2:1.0.22-2) ...\r\nSetting up libusb-1.0-0-dev:amd64 (2:1.0.22-2) ...\r\nSetting up dpkg-dev (1.19.8) ...\r\nSetting up build-essential (12.6) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for ca-certificates (20200601~deb10u2) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 5001dd984024\n ---> dec3e74dc8b1\nStep 7/10 : RUN CGO_ENABLED=1 go build -o aws-okta -ldflags=\"-X main.version=$VERSION\" ${SRC}/cmd\n ---> Running in ddf363109af8\nRemoving intermediate container ddf363109af8\n ---> 9bc2f9c2a69a\nStep 8/10 : FROM scratch\n ---> \nStep 9/10 : COPY --from=build /build/aws-okta /\n ---> dacc9d622dcf\nStep 10/10 : ENTRYPOINT [\"/aws-okta\"]\n ---> Running in 827352633f30\nRemoving intermediate container 827352633f30\n ---> 7940d011a5a5\nSuccessfully built 7940d011a5a5\nSuccessfully tagged aws-okta:latest\n","stderr":"","imageSize":231014},"endTime":1672148864731}