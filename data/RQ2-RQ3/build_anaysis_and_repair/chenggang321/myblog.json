{"repository":"https://github.com/chenggang321/myblog","dockerfilePath":"Dockerfile","startTime":1672684786269,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/chenggang321/myblog'...\n","error":null,"commit":"9181282ce3aa9635a3a1e55c5375f9c79304b224"},"originalBuild":{"startTimestamp":1672684787247,"endTimestamp":1672684954143,"error":null,"stdout":"Sending build context to Docker daemon  3.598MB\r\r\nStep 1/9 : FROM node:12.18-alpine\n12.18-alpine: Pulling from library/node\ncbdbe7a5bc2a: Pulling fs layer\n6282c10629b6: Pulling fs layer\n24f383844fee: Pulling fs layer\n22e94daf4797: Pulling fs layer\n22e94daf4797: Waiting\n24f383844fee: Verifying Checksum\n24f383844fee: Download complete\ncbdbe7a5bc2a: Download complete\ncbdbe7a5bc2a: Pull complete\n6282c10629b6: Download complete\n22e94daf4797: Verifying Checksum\n22e94daf4797: Download complete\n6282c10629b6: Pull complete\n24f383844fee: Pull complete\n22e94daf4797: Pull complete\nDigest: sha256:abe347411c713e4a66846f351d426d65e2c93d084d59bc04b25954f1cde11df0\nStatus: Downloaded newer image for node:12.18-alpine\n ---> e13d60032d4d\nStep 2/9 : ADD . /app/\n ---> fb9c7c5c454a\nStep 3/9 : RUN echo \"http://mirrors.aliyun.com/alpine/v3.9/main/\" > /etc/apk/repositories\n ---> Running in 7a147bb43fb3\nRemoving intermediate container 7a147bb43fb3\n ---> e3de7b86cc26\nStep 4/9 : RUN apk update         && apk upgrade         && apk add --no-cache bash         bash-doc         bash-completion         && /bin/bash         && apk add --no-cache busybox         && rm -rf /var/cache/apk/*\n ---> Running in eb5aaadd4b1a\nfetch http://mirrors.aliyun.com/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://mirrors.aliyun.com/alpine/v3.9/main/]\nOK: 5719 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.5-r0 -> 2.10.6-r0)\nExecuting busybox-1.31.1-r9.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/3) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(2/3) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/3) Upgrading ca-certificates-cacert (20191127-r1 -> 20191127-r2)\nOK: 7 MiB in 16 packages\nfetch http://mirrors.aliyun.com/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\n(1/7) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(2/7) Installing ncurses-terminfo (6.1_p20190105-r0)\n(3/7) Installing ncurses-libs (6.1_p20190105-r0)\n(4/7) Installing readline (7.0.003-r1)\n(5/7) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(6/7) Installing bash-completion (2.8-r0)\n(7/7) Installing bash-doc (4.4.19-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 21 MiB in 23 packages\nfetch http://mirrors.aliyun.com/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nOK: 21 MiB in 23 packages\nRemoving intermediate container eb5aaadd4b1a\n ---> fefc7caa3f8c\nStep 5/9 : WORKDIR /app\n ---> Running in 438ad01c0a4d\nRemoving intermediate container 438ad01c0a4d\n ---> 03bce45391ab\nStep 6/9 : RUN npm config set registry=http://registry.npm.taobao.org\n ---> Running in 9b55341f337f\nRemoving intermediate container 9b55341f337f\n ---> cd755d608339\nStep 7/9 : RUN npm install\n ---> Running in fb3866917620\n\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated crypto@1.0.1: This package is no longer supported. It's now a built-in Node module. If you've depended on crypto, you should switch to the one that's built-in.\n\u001b[0m\u001b[91mnpm WARN deprecated swig@1.4.2: This package is no longer maintained\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated axios@0.19.2: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\n> yorkie@2.0.0 install /app/node_modules/yorkie\n> node bin/install.js\n\nsetting up Git hooks\ndone\n\n\n> nodemon@1.19.4 postinstall /app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN myblog@1.0.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN The package cookies is included as both a dev and production dependency.\n\u001b[0m\u001b[91m\n\u001b[0madded 676 packages from 435 contributors in 20.031s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nRemoving intermediate container fb3866917620\n ---> bac5d636dd5e\nStep 8/9 : EXPOSE 80 443\n ---> Running in 4bbf7d010143\nRemoving intermediate container 4bbf7d010143\n ---> e2049073ce43\nStep 9/9 : CMD [\"npm\", \"start\"]\n ---> Running in 6fdb959edec9\nRemoving intermediate container 6fdb959edec9\n ---> dcd4b0e7be9c\nSuccessfully built dcd4b0e7be9c\nSuccessfully tagged myblog:latest\n","stderr":"","imageSize":195002191},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":20,"end":20,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"#制定node镜像的版本\nFROM node:12.18-alpine\n#移动当前目录下面的文件到app目录下\nADD . /app/\n#更改alpine的安装源指向阿里源\nRUN echo \"http://mirrors.aliyun.com/alpine/v3.9/main/\" > /etc/apk/repositories\n#安装 bash 和 busybox\nRUN apk update \\\n        && apk upgrade \\\n        && apk add --no-cache bash \\\n        bash-doc \\\n        bash-completion \\\n        && /bin/bash \\\n        && apk add --no-cache busybox \\\n        && rm -rf /var/cache/apk/*\n#进入到app目录下面，类似cd\nWORKDIR /app\n#镜像选择淘宝的镜像\nRUN npm config set registry=http://registry.npm.taobao.org\n#安装依赖\nRUN npm install\n#对外暴露的端口\nEXPOSE 80 443\n#程序启动脚本\nCMD [\"npm\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672684954784,"endTimestamp":1672685114263,"error":null,"stdout":"Sending build context to Docker daemon  3.598MB\r\r\nStep 1/9 : FROM node:12.18-alpine\n ---> e13d60032d4d\nStep 2/9 : ADD . /app/\n ---> b453118fd3e1\nStep 3/9 : RUN echo \"http://mirrors.aliyun.com/alpine/v3.9/main/\" > /etc/apk/repositories\n ---> Running in ae6f71bbc8ad\nRemoving intermediate container ae6f71bbc8ad\n ---> 64847b5a7347\nStep 4/9 : RUN apk update         && apk upgrade         && apk add --no-cache bash         bash-doc         bash-completion         && /bin/bash         && apk add --no-cache busybox         && rm -rf /var/cache/apk/*\n ---> Running in 495348a999f8\nfetch http://mirrors.aliyun.com/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://mirrors.aliyun.com/alpine/v3.9/main/]\nOK: 5719 distinct packages available\nUpgrading critical system libraries and apk-tools:\n(1/1) Upgrading apk-tools (2.10.5-r0 -> 2.10.6-r0)\nExecuting busybox-1.31.1-r9.trigger\nContinuing the upgrade transaction with new apk-tools:\n(1/3) Upgrading libcrypto1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(2/3) Upgrading libssl1.1 (1.1.1g-r0 -> 1.1.1k-r0)\n(3/3) Upgrading ca-certificates-cacert (20191127-r1 -> 20191127-r2)\nOK: 7 MiB in 16 packages\nfetch http://mirrors.aliyun.com/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\n(1/7) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(2/7) Installing ncurses-terminfo (6.1_p20190105-r0)\n(3/7) Installing ncurses-libs (6.1_p20190105-r0)\n(4/7) Installing readline (7.0.003-r1)\n(5/7) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(6/7) Installing bash-completion (2.8-r0)\n(7/7) Installing bash-doc (4.4.19-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 21 MiB in 23 packages\nfetch http://mirrors.aliyun.com/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nOK: 21 MiB in 23 packages\nRemoving intermediate container 495348a999f8\n ---> 358923f4fe93\nStep 5/9 : WORKDIR /app\n ---> Running in d5c4d3ff5032\nRemoving intermediate container d5c4d3ff5032\n ---> 3fcf83269a60\nStep 6/9 : RUN npm config set registry=http://registry.npm.taobao.org\n ---> Running in 61a7097c7116\nRemoving intermediate container 61a7097c7116\n ---> 1f386f631461\nStep 7/9 : RUN npm install\n ---> Running in 5a93ead9ec9a\n\u001b[91mnpm WARN deprecated crypto@1.0.1: This package is no longer supported. It's now a built-in Node module. If you've depended on crypto, you should switch to the one that's built-in.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated swig@1.4.2: This package is no longer maintained\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated axios@0.19.2: Critical security vulnerability fixed in v0.21.1. For more information, see https://github.com/axios/axios/pull/3410\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\n> yorkie@2.0.0 install /app/node_modules/yorkie\n> node bin/install.js\n\nsetting up Git hooks\ndone\n\n\n> nodemon@1.19.4 postinstall /app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN myblog@1.0.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN The package cookies is included as both a dev and production dependency.\n\u001b[0m\u001b[91m\n\u001b[0madded 676 packages from 435 contributors in 25.388s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nRemoving intermediate container 5a93ead9ec9a\n ---> 91372c3193a3\nStep 8/9 : EXPOSE 80 443\n ---> Running in 830fed14e595\nRemoving intermediate container 830fed14e595\n ---> 3135b623f425\nStep 9/9 : CMD [\"npm\", \"start\"]\n ---> Running in 63c15749d862\nRemoving intermediate container 63c15749d862\n ---> 018e1760d87c\nSuccessfully built 018e1760d87c\nSuccessfully tagged myblog:latest\n","stderr":"","imageSize":195033134},"endTime":1672685115010}