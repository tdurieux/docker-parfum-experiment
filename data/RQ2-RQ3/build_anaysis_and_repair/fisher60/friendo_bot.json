{"repository":"https://github.com/fisher60/friendo_bot","dockerfilePath":"Dockerfile","startTime":1672741258004,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/fisher60/friendo_bot'...\n","error":null,"commit":"30bcb9633af75ba33e4f009932644a0f8dcf12e7"},"originalBuild":{"startTimestamp":1672741258896,"endTimestamp":1672741326188,"error":null,"stdout":"Sending build context to Docker daemon  512.5kB\r\r\nStep 1/10 : FROM python:3.9-slim\n3.9-slim: Pulling from library/python\n3f4ca61aafcd: Already exists\n3f487a3359db: Already exists\nae22731824be: Already exists\n3583ac268677: Already exists\nde224c04316a: Already exists\nDigest: sha256:9e0b4391fc41bc35c16caef4740736b6b349f6626fd14eba32793ae3c7b01908\nStatus: Downloaded newer image for python:3.9-slim\n ---> e2f464551004\nStep 2/10 : ENV PIP_NO_CACHE_DIR=false     PIPENV_IGNORE_VIRTUALENVS=1     PIPENV_NOSPIN=1\n ---> Running in b6e881c97756\nRemoving intermediate container b6e881c97756\n ---> fe5e41fc9d72\nStep 3/10 : WORKDIR /app\n ---> Running in df7a61d4b775\nRemoving intermediate container df7a61d4b775\n ---> 406943552568\nStep 4/10 : RUN pip install pipenv\n ---> Running in 99d03771f597\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 111.4 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 109.0 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 295.2 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 167.0 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 99d03771f597\n ---> 22e3802e97b5\nStep 5/10 : COPY Pipfile Pipfile.lock /app/\n ---> 297d5468ef45\nStep 6/10 : RUN pipenv install --system --deploy\n ---> Running in 0aa47c2f596f\nInstalling dependencies from Pipfile.lock (717b75)...\nRemoving intermediate container 0aa47c2f596f\n ---> f95cc0c6297d\nStep 7/10 : ARG git_sha=\"development\"\n ---> Running in 751eeda28b71\nRemoving intermediate container 751eeda28b71\n ---> 80a5615c5d2b\nStep 8/10 : ENV GIT_SHA=$git_sha\n ---> Running in 4f4d1fc3b564\nRemoving intermediate container 4f4d1fc3b564\n ---> 8ee0a7839ebe\nStep 9/10 : COPY . /app/\n ---> 69b1200a8723\nStep 10/10 : CMD [\"python3\", \"-m\", \"bot\"]\n ---> Running in 23ba2fb09bc0\nRemoving intermediate container 23ba2fb09bc0\n ---> e20a1271b29b\nSuccessfully built e20a1271b29b\nSuccessfully tagged friendo_bot:latest\n","stderr":"","imageSize":689527705},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM python:3.9-slim\n\n# Set pip to have cleaner logs and no saved cache\nENV PIP_NO_CACHE_DIR=false \\\n    PIPENV_IGNORE_VIRTUALENVS=1 \\\n    PIPENV_NOSPIN=1\n\nWORKDIR /app\n\n# Install pipenv\nRUN pip install --no-cache-dir pipenv\n\n# Copy deps and lockfile\nCOPY Pipfile Pipfile.lock /app/\n\n# Install project deps\nRUN pipenv install --system --deploy\n\n# Set SHA build argument\nARG git_sha=\"development\"\nENV GIT_SHA=$git_sha\n\n# Copy in rest of code last, for caching\nCOPY . /app/\n\nCMD [\"python3\", \"-m\", \"bot\"]\n"},"repairedBuild":{"startTimestamp":1672741326831,"endTimestamp":1672741389536,"error":null,"stdout":"Sending build context to Docker daemon  512.5kB\r\r\nStep 1/10 : FROM python:3.9-slim\n ---> e2f464551004\nStep 2/10 : ENV PIP_NO_CACHE_DIR=false     PIPENV_IGNORE_VIRTUALENVS=1     PIPENV_NOSPIN=1\n ---> Running in d36c9ee92b35\nRemoving intermediate container d36c9ee92b35\n ---> e69a8987d0aa\nStep 3/10 : WORKDIR /app\n ---> Running in 4347b5cd9438\nRemoving intermediate container 4347b5cd9438\n ---> a61cae409a7b\nStep 4/10 : RUN pip install --no-cache-dir pipenv\n ---> Running in c6d817b0b2cf\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 96.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 114.6 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 100.0 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 94.5 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container c6d817b0b2cf\n ---> e961d713a6c9\nStep 5/10 : COPY Pipfile Pipfile.lock /app/\n ---> 48eb6ba05aa8\nStep 6/10 : RUN pipenv install --system --deploy\n ---> Running in 06ba549ec2d2\nInstalling dependencies from Pipfile.lock (717b75)...\nRemoving intermediate container 06ba549ec2d2\n ---> aaf230e4c018\nStep 7/10 : ARG git_sha=\"development\"\n ---> Running in 3473b3d33258\nRemoving intermediate container 3473b3d33258\n ---> e61050dffdd4\nStep 8/10 : ENV GIT_SHA=$git_sha\n ---> Running in 73014472ec47\nRemoving intermediate container 73014472ec47\n ---> 03ab4191196f\nStep 9/10 : COPY . /app/\n ---> 331c3932daa5\nStep 10/10 : CMD [\"python3\", \"-m\", \"bot\"]\n ---> Running in 29e700fa5218\nRemoving intermediate container 29e700fa5218\n ---> 7608014262b1\nSuccessfully built 7608014262b1\nSuccessfully tagged friendo_bot:latest\n","stderr":"","imageSize":689527720},"endTime":1672741390034}