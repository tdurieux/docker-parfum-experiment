{"repository":"https://github.com/importpw/import","dockerfilePath":"Dockerfile","startTime":1672163787887,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/importpw/import'...\n","error":null,"commit":"efb662d8ffe64c8240f30a7853b4ca581f439be5"},"originalBuild":{"startTimestamp":1672163788746,"endTimestamp":1672163919574,"error":null,"stdout":"Sending build context to Docker daemon  25.09kB\r\r\nStep 1/20 : FROM alpine:3.7 as base\n3.7: Pulling from library/alpine\n5d20c808ce19: Pulling fs layer\n5d20c808ce19: Verifying Checksum\n5d20c808ce19: Download complete\n5d20c808ce19: Pull complete\nDigest: sha256:8421d9a84432575381bfabd248f1eb56f3aa21d9d7cd2511583c68c9b7511d10\nStatus: Downloaded newer image for alpine:3.7\n ---> 6d1ef012b567\nStep 2/20 : RUN apk add --no-cache curl bash dash loksh mksh tree zsh build-base nginx\n ---> Running in c859358b872b\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz\n(1/37) Upgrading musl (1.1.18-r3 -> 1.1.18-r4)\n(2/37) Installing pkgconf (1.3.10-r0)\n(3/37) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(4/37) Installing ncurses-terminfo (6.0_p20171125-r1)\n(5/37) Installing ncurses-libs (6.0_p20171125-r1)\n(6/37) Installing readline (7.0.003-r0)\n(7/37) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(8/37) Installing binutils-libs (2.30-r2)\n(9/37) Installing binutils (2.30-r2)\n(10/37) Installing gmp (6.1.2-r1)\n(11/37) Installing isl (0.18-r0)\n(12/37) Installing libgomp (6.4.0-r5)\n(13/37) Installing libatomic (6.4.0-r5)\n(14/37) Installing libgcc (6.4.0-r5)\n(15/37) Installing mpfr3 (3.1.5-r1)\n(16/37) Installing mpc1 (1.0.3-r1)\n(17/37) Installing libstdc++ (6.4.0-r5)\n(18/37) Installing gcc (6.4.0-r5)\n(19/37) Installing musl-dev (1.1.18-r4)\n(20/37) Installing libc-dev (0.7.1-r0)\n(21/37) Installing g++ (6.4.0-r5)\n(22/37) Installing make (4.2.1-r0)\n(23/37) Installing fortify-headers (0.9-r0)\n(24/37) Installing build-base (0.5-r0)\n(25/37) Installing ca-certificates (20190108-r0)\n(26/37) Installing libssh2 (1.9.0-r1)\n(27/37) Installing libcurl (7.61.1-r3)\n(28/37) Installing curl (7.61.1-r3)\n(29/37) Installing dash (0.5.9.1-r0)\nExecuting dash-0.5.9.1-r0.post-install\n(30/37) Upgrading musl-utils (1.1.18-r3 -> 1.1.18-r4)\n(31/37) Installing loksh (6.1-r0)\nExecuting loksh-6.1-r0.post-install\n(32/37) Installing mksh (56b-r0)\nExecuting mksh-56b-r0.post-install\n(33/37) Installing pcre (8.41-r1)\n(34/37) Installing nginx (1.12.2-r4)\nExecuting nginx-1.12.2-r4.pre-install\n(35/37) Installing tree (1.7.0-r1)\n(36/37) Installing zsh (5.4.2-r1)\nExecuting zsh-5.4.2-r1.post-install\n(37/37) Installing gcc-zsh-completion (5.4.2-r1)\nExecuting busybox-1.27.2-r11.trigger\nExecuting ca-certificates-20190108-r0.trigger\nOK: 178 MiB in 48 packages\nRemoving intermediate container c859358b872b\n ---> 85a3dabb4ddf\nStep 3/20 : RUN cd /tmp &&   curl -LfsS https://github.com/ibara/oksh/archive/main.tar.gz | tar xzvf - &&   cd oksh* &&   ./configure && make && make install &&   cd .. &&   rm -rf oksh*\n ---> Running in 47546d2ad37d\noksh-main/\noksh-main/.gitignore\noksh-main/.travis.yml\noksh-main/CONTRIBUTORS\noksh-main/CVS/\noksh-main/CVS/Entries\noksh-main/CVS/Entries.Log\noksh-main/CVS/Repository\noksh-main/CVS/Root\noksh-main/LEGAL\noksh-main/NOTES\noksh-main/PROJECTS\noksh-main/README.md\noksh-main/README.pdksh\noksh-main/alloc.c\noksh-main/asprintf.c\noksh-main/c_ksh.c\noksh-main/c_sh.c\noksh-main/c_test.c\noksh-main/c_test.h\noksh-main/c_ulimit.c\noksh-main/charclass.h\noksh-main/config.h\noksh-main/configure\noksh-main/confstr.c\noksh-main/dot.profile\noksh-main/edit.c\noksh-main/edit.h\noksh-main/emacs.c\noksh-main/eval.c\noksh-main/exec.c\noksh-main/expand.h\noksh-main/expr.c\noksh-main/history.c\noksh-main/io.c\noksh-main/issetugid.c\noksh-main/jobs.c\noksh-main/ksh.1\noksh-main/ksh.kshrc\noksh-main/lex.c\noksh-main/lex.h\noksh-main/mail.c\noksh-main/main.c\noksh-main/misc.c\noksh-main/oksh.1\noksh-main/path.c\noksh-main/portable.h\noksh-main/reallocarray.c\noksh-main/sh.1\noksh-main/sh.h\noksh-main/shf.c\noksh-main/shf.h\noksh-main/siglist.c\noksh-main/signame.c\noksh-main/strlcat.c\noksh-main/strlcpy.c\noksh-main/strtonum.c\noksh-main/syn.c\noksh-main/sys-queue.h\noksh-main/table.c\noksh-main/table.h\noksh-main/trap.c\noksh-main/tree.c\noksh-main/tree.h\noksh-main/tty.c\noksh-main/tty.h\noksh-main/unvis.c\noksh-main/var.c\noksh-main/version.c\noksh-main/vi.c\noksh-main/vis.c\noksh-main/vis.h\nchecking for C compiler... cc\nchecking if the compiler accepts -g -O2... yes\nchecking if the compiler can compile C99 without -std=c99... yes\nchecking for -w compiler flag... yes\nchecking for OS... Linux\nchecking for -flto compiler flag... not enabled\nchecking for __dead... no\nchecking for __dead2... no\nchecking for __attribute__((__noreturn__))... yes\nchecking for asprintf... yes\nchecking for clock_gettime in libc... yes\nchecking for confstr... yes\nchecking for curses library... not found\noksh will be built without screen clearing support\nchecking for issetugid... yes\nchecking for pledge... no\nchecking for reallocarray... no\nchecking for setresgid... yes\nchecking for setresuid... yes\nchecking for sig_t... yes\nchecking for srand_deterministic... no\nchecking for st_mtim... yes\nchecking for st_mtimespec... no\nchecking for stravis... no\nchecking for strlcat... yes\nchecking for strlcpy... yes\nchecking for strtonum... no\nchecking for strunvis... no\nchecking for sys_siglist... no\nchecking for sys_signame... no\nchecking for timeradd... yes\nchecking for timerclear... yes\nchecking for timersub... yes\nchecking for out-of-tree build... no\ncreating Makefile... done\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o alloc.o alloc.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o asprintf.o asprintf.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_ksh.o c_ksh.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_sh.o c_sh.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_test.o c_test.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_ulimit.o c_ulimit.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o edit.o edit.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o emacs.o emacs.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o eval.o eval.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o exec.o exec.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o expr.o expr.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o history.o history.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o io.o io.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o jobs.o jobs.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o lex.o lex.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o mail.o mail.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o main.o main.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o misc.o misc.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o path.o path.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o shf.o shf.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o syn.o syn.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o table.o table.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o trap.o trap.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o tree.o tree.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o tty.o tty.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o var.o var.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o version.o version.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o vi.o vi.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o confstr.o confstr.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o reallocarray.o reallocarray.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o siglist.o siglist.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o signame.o signame.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o strlcat.o strlcat.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o strlcpy.o strlcpy.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o strtonum.o strtonum.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o unvis.o unvis.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o vis.o vis.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o issetugid.o issetugid.c\ncc  -o oksh alloc.o asprintf.o c_ksh.o c_sh.o c_test.o c_ulimit.o edit.o emacs.o eval.o exec.o expr.o history.o io.o jobs.o lex.o mail.o main.o misc.o path.o shf.o syn.o table.o trap.o tree.o tty.o var.o version.o vi.o confstr.o reallocarray.o siglist.o signame.o strlcat.o strlcpy.o strtonum.o unvis.o vis.o issetugid.o  \ninstall -d /usr/local/bin\ninstall -d /usr/local/share/man/man1\ninstall -c -s -m 755 oksh /usr/local/bin\ninstall -c -m 644 oksh.1 /usr/local/share/man/man1\nPlease add /usr/local/bin/oksh to /etc/shells\nRemoving intermediate container 47546d2ad37d\n ---> 29763cddf4d2\nStep 4/20 : WORKDIR /usr/src\n ---> Running in 82759c14fd5e\nRemoving intermediate container 82759c14fd5e\n ---> dc84a630b442\nStep 5/20 : RUN mkdir -p test/logs /run/nginx\n ---> Running in 3759d8d53b51\nRemoving intermediate container 3759d8d53b51\n ---> ef0ff62eeb18\nStep 6/20 : COPY . .\n ---> 2fc3a0d6548d\nStep 7/20 : FROM base\n ---> 2fc3a0d6548d\nStep 8/20 : RUN sh ./test/test.sh\n ---> Running in 5d7c653fd9dd\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink '/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\nimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The reque\u001b[0m\u001b[91msted URL returned\u001b[0m\u001b[91m error\u001b[0m\u001b[91m: 40\u001b[0m\u001b[91m4\u001b[0m\u001b[91m N\u001b[0m\u001b[91mot Foun\u001b[0m\u001b[91md\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mcurl: (22) The requested URL ret\u001b[0m\u001b[91murned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL\u001b[0m\u001b[91m returned error\u001b[0m\u001b[91m: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL retu\u001b[0m\u001b[91mrned error: 404 \u001b[0m\u001b[91mNot Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned erro\u001b[0m\u001b[91mr: 404 Not Found\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 5d7c653fd9dd\n ---> 410b246520c6\nStep 9/20 : FROM base\n ---> 2fc3a0d6548d\nStep 10/20 : RUN ksh ./test/test.sh\n ---> Running in c4f50c3960e6\n\u001b[91m./test/test.sh[4]: internal error: j_async: bad nzombie (0)\n\u001b[0mnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL retu\u001b[0m\u001b[91mrned error: 404 N\u001b[0m\u001b[91mot Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned er\u001b[0m\u001b[91mror: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The \u001b[0m\u001b[91mrequested URL return\u001b[0m\u001b[91med error: \u001b[0m\u001b[91m404 Not Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container c4f50c3960e6\n ---> d51449f1e10f\nStep 11/20 : FROM base\n ---> 2fc3a0d6548d\nStep 12/20 : RUN oksh ./test/test.sh\n ---> Running in 1478ae8b36f0\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 40\u001b[0m\u001b[91m4 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 1478ae8b36f0\n ---> 8b49ca8b4203\nStep 13/20 : FROM base\n ---> 2fc3a0d6548d\nStep 14/20 : RUN mksh ./test/test.sh\n ---> Running in 7be7ce46d310\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL return\u001b[0m\u001b[91med error: 404 Not\u001b[0m\u001b[91m Foun\u001b[0m\u001b[91md\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 40\u001b[0m\u001b[91m4 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL \u001b[0m\u001b[91mreturned \u001b[0m\u001b[91merror: \u001b[0m\u001b[91m404\u001b[0m\u001b[91m Not F\u001b[0m\u001b[91mound\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\nimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 7be7ce46d310\n ---> 7d7ed4736972\nStep 15/20 : FROM base\n ---> 2fc3a0d6548d\nStep 16/20 : RUN zsh ./test/test.sh\n ---> Running in 12d53f32a0ef\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 12d53f32a0ef\n ---> 6da7a09a72fd\nStep 17/20 : FROM base\n ---> 2fc3a0d6548d\nStep 18/20 : RUN dash ./test/test.sh\n ---> Running in 0b4327b95ab1\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested\u001b[0m\u001b[91m URL returned er\u001b[0m\u001b[91mror:\u001b[0m\u001b[91m 40\u001b[0m\u001b[91m4 N\u001b[0m\u001b[91mot Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL \u001b[0m\u001b[91mreturn\u001b[0m\u001b[91med error: 4\u001b[0m\u001b[91m04 No\u001b[0m\u001b[91mt Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 0b4327b95ab1\n ---> fd0a0f920519\nStep 19/20 : FROM base\n ---> 2fc3a0d6548d\nStep 20/20 : RUN bash ./test/test.sh\n ---> Running in cd5ef1f58367\nnginx pid 7\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 40\u001b[0m\u001b[91m4 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not \u001b[0m\u001b[91mFound\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned\u001b[0m\u001b[91m error: 404 \u001b[0m\u001b[91mNot Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 7)\nRemoving intermediate container cd5ef1f58367\n ---> 106a3486d8f2\nSuccessfully built 106a3486d8f2\nSuccessfully tagged import:latest\n","stderr":"","imageSize":164128774},"repair":{"violations":[{"name":"configureShouldUseBuildFlag","position":{"start":7,"end":7,"columnStart":2,"columnEnd":13}}],"repairedDockerfile":"FROM alpine:3.7 as base\nRUN apk add --no-cache curl bash dash loksh mksh tree zsh build-base nginx\n\n# Compile `oksh` from source\nRUN cd /tmp && \\\n  curl -LfsS https://github.com/ibara/oksh/archive/main.tar.gz | tar xzvf - && \\\n  cd oksh* && \\\n  ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install && \\\n  cd .. && \\\n  rm -rf oksh*\n\nWORKDIR /usr/src\nRUN mkdir -p test/logs /run/nginx\nCOPY . .\n\nFROM base\nRUN sh ./test/test.sh\n\nFROM base\n# Really `loksh`\nRUN ksh ./test/test.sh\n\nFROM base\nRUN oksh ./test/test.sh\n\nFROM base\nRUN mksh ./test/test.sh\n\nFROM base\nRUN zsh ./test/test.sh\n\nFROM base\nRUN dash ./test/test.sh\n\nFROM base\nRUN bash ./test/test.sh\n"},"repairedBuild":{"startTimestamp":1672163919879,"endTimestamp":1672164056480,"error":null,"stdout":"Sending build context to Docker daemon  25.09kB\r\r\nStep 1/20 : FROM alpine:3.7 as base\n ---> 6d1ef012b567\nStep 2/20 : RUN apk add --no-cache curl bash dash loksh mksh tree zsh build-base nginx\n ---> Running in 20f769ea2ab6\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz\n(1/37) Upgrading musl (1.1.18-r3 -> 1.1.18-r4)\n(2/37) Installing pkgconf (1.3.10-r0)\n(3/37) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(4/37) Installing ncurses-terminfo (6.0_p20171125-r1)\n(5/37) Installing ncurses-libs (6.0_p20171125-r1)\n(6/37) Installing readline (7.0.003-r0)\n(7/37) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(8/37) Installing binutils-libs (2.30-r2)\n(9/37) Installing binutils (2.30-r2)\n(10/37) Installing gmp (6.1.2-r1)\n(11/37) Installing isl (0.18-r0)\n(12/37) Installing libgomp (6.4.0-r5)\n(13/37) Installing libatomic (6.4.0-r5)\n(14/37) Installing libgcc (6.4.0-r5)\n(15/37) Installing mpfr3 (3.1.5-r1)\n(16/37) Installing mpc1 (1.0.3-r1)\n(17/37) Installing libstdc++ (6.4.0-r5)\n(18/37) Installing gcc (6.4.0-r5)\n(19/37) Installing musl-dev (1.1.18-r4)\n(20/37) Installing libc-dev (0.7.1-r0)\n(21/37) Installing g++ (6.4.0-r5)\n(22/37) Installing make (4.2.1-r0)\n(23/37) Installing fortify-headers (0.9-r0)\n(24/37) Installing build-base (0.5-r0)\n(25/37) Installing ca-certificates (20190108-r0)\n(26/37) Installing libssh2 (1.9.0-r1)\n(27/37) Installing libcurl (7.61.1-r3)\n(28/37) Installing curl (7.61.1-r3)\n(29/37) Installing dash (0.5.9.1-r0)\nExecuting dash-0.5.9.1-r0.post-install\n(30/37) Upgrading musl-utils (1.1.18-r3 -> 1.1.18-r4)\n(31/37) Installing loksh (6.1-r0)\nExecuting loksh-6.1-r0.post-install\n(32/37) Installing mksh (56b-r0)\nExecuting mksh-56b-r0.post-install\n(33/37) Installing pcre (8.41-r1)\n(34/37) Installing nginx (1.12.2-r4)\nExecuting nginx-1.12.2-r4.pre-install\n(35/37) Installing tree (1.7.0-r1)\n(36/37) Installing zsh (5.4.2-r1)\nExecuting zsh-5.4.2-r1.post-install\n(37/37) Installing gcc-zsh-completion (5.4.2-r1)\nExecuting busybox-1.27.2-r11.trigger\nExecuting ca-certificates-20190108-r0.trigger\nOK: 178 MiB in 48 packages\nRemoving intermediate container 20f769ea2ab6\n ---> 8558c571f854\nStep 3/20 : RUN cd /tmp &&   curl -LfsS https://github.com/ibara/oksh/archive/main.tar.gz | tar xzvf - &&   cd oksh* &&   ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install &&   cd .. &&   rm -rf oksh*\n ---> Running in 90c246832d77\noksh-main/\noksh-main/.gitignore\noksh-main/.travis.yml\noksh-main/CONTRIBUTORS\noksh-main/CVS/\noksh-main/CVS/Entries\noksh-main/CVS/Entries.Log\noksh-main/CVS/Repository\noksh-main/CVS/Root\noksh-main/LEGAL\noksh-main/NOTES\noksh-main/PROJECTS\noksh-main/README.md\noksh-main/README.pdksh\noksh-main/alloc.c\noksh-main/asprintf.c\noksh-main/c_ksh.c\noksh-main/c_sh.c\noksh-main/c_test.c\noksh-main/c_test.h\noksh-main/c_ulimit.c\noksh-main/charclass.h\noksh-main/config.h\noksh-main/configure\noksh-main/confstr.c\noksh-main/dot.profile\noksh-main/edit.c\noksh-main/edit.h\noksh-main/emacs.c\noksh-main/eval.c\noksh-main/exec.c\noksh-main/expand.h\noksh-main/expr.c\noksh-main/history.c\noksh-main/io.c\noksh-main/issetugid.c\noksh-main/jobs.c\noksh-main/ksh.1\noksh-main/ksh.kshrc\noksh-main/lex.c\noksh-main/lex.h\noksh-main/mail.c\noksh-main/main.c\noksh-main/misc.c\noksh-main/oksh.1\noksh-main/path.c\noksh-main/portable.h\noksh-main/reallocarray.c\noksh-main/sh.1\noksh-main/sh.h\noksh-main/shf.c\noksh-main/shf.h\noksh-main/siglist.c\noksh-main/signame.c\noksh-main/strlcat.c\noksh-main/strlcpy.c\noksh-main/strtonum.c\noksh-main/syn.c\noksh-main/sys-queue.h\noksh-main/table.c\noksh-main/table.h\noksh-main/trap.c\noksh-main/tree.c\noksh-main/tree.h\noksh-main/tty.c\noksh-main/tty.h\noksh-main/unvis.c\noksh-main/var.c\noksh-main/version.c\noksh-main/vi.c\noksh-main/vis.c\noksh-main/vis.h\n\u001b[91m/bin/sh: dpkg-architecture: not found\n\u001b[0mchecking for C compiler... cc\nchecking if the compiler accepts -g -O2... yes\nchecking if the compiler can compile C99 without -std=c99... yes\nchecking for -w compiler flag... yes\nchecking for OS... Linux\nchecking for -flto compiler flag... not enabled\nchecking for __dead... no\nchecking for __dead2... no\nchecking for __attribute__((__noreturn__))... yes\nchecking for asprintf... yes\nchecking for clock_gettime in libc... yes\nchecking for confstr... yes\nchecking for curses library... not found\noksh will be built without screen clearing support\nchecking for issetugid... yes\nchecking for pledge... no\nchecking for reallocarray... no\nchecking for setresgid... yes\nchecking for setresuid... yes\nchecking for sig_t... yes\nchecking for srand_deterministic... no\nchecking for st_mtim... yes\nchecking for st_mtimespec... no\nchecking for stravis... no\nchecking for strlcat... yes\nchecking for strlcpy... yes\nchecking for strtonum... no\nchecking for strunvis... no\nchecking for sys_siglist... no\nchecking for sys_signame... no\nchecking for timeradd... yes\nchecking for timerclear... yes\nchecking for timersub... yes\nchecking for out-of-tree build... no\ncreating Makefile... done\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o alloc.o alloc.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o asprintf.o asprintf.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_ksh.o c_ksh.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_sh.o c_sh.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_test.o c_test.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o c_ulimit.o c_ulimit.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o edit.o edit.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o emacs.o emacs.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o eval.o eval.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o exec.o exec.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o expr.o expr.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o history.o history.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o io.o io.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o jobs.o jobs.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o lex.o lex.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o mail.o mail.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o main.o main.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o misc.o misc.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o path.o path.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o shf.o shf.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o syn.o syn.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o table.o table.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o trap.o trap.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o tree.o tree.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o tty.o tty.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o var.o var.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o version.o version.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o vi.o vi.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o confstr.o confstr.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o reallocarray.o reallocarray.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o siglist.o siglist.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o signame.o signame.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o strlcat.o strlcat.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o strlcpy.o strlcpy.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o strtonum.o strtonum.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o unvis.o unvis.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o vis.o vis.c\ncc -g -O2 -DEMACS -DVI -w -D_GNU_SOURCE   -c -o issetugid.o issetugid.c\ncc  -o oksh alloc.o asprintf.o c_ksh.o c_sh.o c_test.o c_ulimit.o edit.o emacs.o eval.o exec.o expr.o history.o io.o jobs.o lex.o mail.o main.o misc.o path.o shf.o syn.o table.o trap.o tree.o tty.o var.o version.o vi.o confstr.o reallocarray.o siglist.o signame.o strlcat.o strlcpy.o strtonum.o unvis.o vis.o issetugid.o  \ninstall -d /usr/local/bin\ninstall -d /usr/local/share/man/man1\ninstall -c -s -m 755 oksh /usr/local/bin\ninstall -c -m 644 oksh.1 /usr/local/share/man/man1\nPlease add /usr/local/bin/oksh to /etc/shells\nRemoving intermediate container 90c246832d77\n ---> e3b41a7ad2ee\nStep 4/20 : WORKDIR /usr/src\n ---> Running in d44e0437c0d1\nRemoving intermediate container d44e0437c0d1\n ---> b85849e4753a\nStep 5/20 : RUN mkdir -p test/logs /run/nginx\n ---> Running in 5e1115aa5545\nRemoving intermediate container 5e1115aa5545\n ---> 987de5012ed6\nStep 6/20 : COPY . .\n ---> cd5c2d9ae183\nStep 7/20 : FROM base\n ---> cd5c2d9ae183\nStep 8/20 : RUN sh ./test/test.sh\n ---> Running in 930aec776dee\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: \u001b[0m\u001b[91m404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested \u001b[0m\u001b[91mURL returned \u001b[0m\u001b[91me\u001b[0m\u001b[91mrr\u001b[0m\u001b[91mo\u001b[0m\u001b[91mr: 4\u001b[0m\u001b[91m04 Not Foun\u001b[0m\u001b[91md\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: \u001b[0m\u001b[91m404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL return\u001b[0m\u001b[91med error: 40\u001b[0m\u001b[91m4 Not Foun\u001b[0m\u001b[91md\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned er\u001b[0m\u001b[91mror: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 930aec776dee\n ---> 0c61e035fef3\nStep 9/20 : FROM base\n ---> cd5c2d9ae183\nStep 10/20 : RUN ksh ./test/test.sh\n ---> Running in 81fe4d60bbf0\n\u001b[91m./test/test.sh[4]: internal error: j_async: bad nzombie (0)\n\u001b[0mnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL retur\u001b[0m\u001b[91mned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL re\u001b[0m\u001b[91mturned error:\u001b[0m\u001b[91m 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\nimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 81fe4d60bbf0\n ---> d2b8da3e57ab\nStep 11/20 : FROM base\n ---> cd5c2d9ae183\nStep 12/20 : RUN oksh ./test/test.sh\n ---> Running in 1675446c43b6\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 1675446c43b6\n ---> 48d1e04b1190\nStep 13/20 : FROM base\n ---> cd5c2d9ae183\nStep 14/20 : RUN mksh ./test/test.sh\n ---> Running in ea8f81a03659\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\nimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container ea8f81a03659\n ---> 6b11c4ac765f\nStep 15/20 : FROM base\n ---> cd5c2d9ae183\nStep 16/20 : RUN zsh ./test/test.sh\n ---> Running in 2dd1cb1812ca\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\nimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 2dd1cb1812ca\n ---> eb1bb8ee2222\nStep 17/20 : FROM base\n ---> cd5c2d9ae183\nStep 18/20 : RUN dash ./test/test.sh\n ---> Running in 3c16279dffba\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The\u001b[0m\u001b[91m requested URL returned error: 4\u001b[0m\u001b[91m04 \u001b[0m\u001b[91mNot\u001b[0m\u001b[91m Fo\u001b[0m\u001b[91mund\n\u001b[0m\u001b[91mcurl: (22) The requested URL \u001b[0m\u001b[91mreturned error:\u001b[0m\u001b[91m 404 \u001b[0m\u001b[91mNot\u001b[0m\u001b[91m Fou\u001b[0m\u001b[91mnd\n\u001b[0m\u001b[91mcurl: (22) The requested URL retur\u001b[0m\u001b[91mned error: 404 \u001b[0m\u001b[91mNot\u001b[0m\u001b[91m Fou\u001b[0m\u001b[91mnd\n\u001b[0m\u001b[91mcurl: (22) The requested URL\u001b[0m\u001b[91m returned error: 4\u001b[0m\u001b[91m04 No\u001b[0m\u001b[91mt Fo\u001b[0m\u001b[91mun\u001b[0m\u001b[91md\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\nimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 3c16279dffba\n ---> 745718a7dfb1\nStep 19/20 : FROM base\n ---> cd5c2d9ae183\nStep 20/20 : RUN bash ./test/test.sh\n ---> Running in 3475f4f4f70b\nnginx pid 8\n\u001b[91mimport: Using '/usr/bin/sha1sum'\n\u001b[0m\u001b[91mimport: Importing 'foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo' -> 'http://127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo' -> 'df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo' -> '../../../data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo' -> '/usr/src/cache/data/df0e3dc35883b1bad2704050c831af62e551dbdd'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo'\n\u001b[0m\u001b[91mimport: Importing 'foo@1.0.0'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/foo@1.0.0\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/foo@1.0.0' -> 'http://127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/foo@1.0.0' -> '8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0' -> '../../../data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/foo@1.0.0' -> '/usr/src/cache/data/8cae1b6db950c2002755ad2609e3b20b37d5ac2d'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/foo@1.0.0'\n\u001b[0m\u001b[91mimport: Importing 'does_not_exist'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/does_not_exist'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/does_not_exist\n\u001b[0m\u001b[91mcurl: (22) The reques\u001b[0m\u001b[91mted URL\u001b[0m\u001b[91m returne\u001b[0m\u001b[91md error\u001b[0m\u001b[91m: 40\u001b[0m\u001b[91m4 N\u001b[0m\u001b[91mot F\u001b[0m\u001b[91mound\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: \u001b[0m\u001b[91m404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned er\u001b[0m\u001b[91mror: 404 Not Found\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mcurl: (22) The requested URL returned error: 404 Not Found\n\u001b[0m\u001b[91mimport: Failed to download: http://127.0.0.1:12006/does_not_exist?format=raw\n\u001b[0m\u001b[91mimport: Importing 'relative'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/relative\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/relative' -> 'http://127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/relative' -> '980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/relative' -> '../../../data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/relative' -> '/usr/src/cache/data/980ad40af2c05a421a6a5341837aa1105673cbc9'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/relative'\n\u001b[0m\u001b[91mimport: Importing './relative-dest.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./relative-dest.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./relative-dest.sh' -> 'http://127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./relative-dest.sh' -> '7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh' -> '../../../data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./relative-dest.sh' -> '/usr/src/cache/data/7e620247d747956850b040db44db72d728b5e904'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./relative-dest.sh'\n\u001b[0m\u001b[91mimport: Importing './subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/./subdir/relative.sh\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/./subdir/relative.sh' -> 'http://127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/./subdir/relative.sh' -> '95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh' -> '../../../../data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/./subdir/relative.sh' -> '/usr/src/cache/data/95d5bc36b64cd1c556a6a2ee8e2d3431c77dd251'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/./subdir/relative.sh'\n\u001b[0m\u001b[91mimport: Importing 'pkg as foo'\n\u001b[0m\u001b[91mimport: Normalized URL 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/pkg as foo\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/pkg as foo' -> 'http://127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/pkg as foo' -> '26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo' -> '../../../data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/pkg as foo' -> '/usr/src/cache/data/26d8763e5103d43f30d6c7bb342b06a71cf9e6e6'\n\u001b[0m\u001b[91mimport: Sourcing '/usr/src/cache/links/http/127.0.0.1:12006/pkg as foo'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Importing 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Downloading http://127.0.0.1:12006/sum.rb\n\u001b[0m\u001b[91mimport: Resolved location 'http://127.0.0.1:12006/sum.rb' -> 'http://127.0.0.1:12006/sum.rb'\n\u001b[0m\u001b[91mimport: Calculated hash 'http://127.0.0.1:12006/sum.rb' -> '78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Creating symlink \u001b[0m\u001b[91m'/usr/src/cache/links/http/127.0.0.1:12006/sum.rb' -> '../../../data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Successfully downloaded 'http://127.0.0.1:12006/sum.rb' -> '/usr/src/cache/data/78299311d087fbe42bfbb31d051f2e335304d7f3'\n\u001b[0m\u001b[91mimport: Printing '/usr/src/cache/links/http/127.0.0.1:12006/sum.rb'\n\u001b[0mTests passed!\nKilling nginx (pid 8)\nRemoving intermediate container 3475f4f4f70b\n ---> 6046dddf2691\nSuccessfully built 6046dddf2691\nSuccessfully tagged import:latest\n","stderr":"","imageSize":164128774},"endTime":1672164056699}