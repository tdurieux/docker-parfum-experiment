{"repository":"https://github.com/eritislami/evobot","dockerfilePath":"Dockerfile","startTime":1672075793721,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/eritislami/evobot'...\n","error":null,"commit":"2b62668ffffa59ee799c8a3c214aa0d41cedcae6"},"originalBuild":{"startTimestamp":1672075794573,"endTimestamp":1672075919391,"error":null,"stdout":"Sending build context to Docker daemon  911.9kB\r\r\nStep 1/11 : FROM node:16.14\n16.14: Pulling from library/node\n85bed84afb9a: Pulling fs layer\n5fdd409f4b2b: Pulling fs layer\nfa3069e6cecf: Pulling fs layer\n4ee16f45eff9: Pulling fs layer\n2cee68386155: Pulling fs layer\n0aa7befa4a1b: Pulling fs layer\nc71ce35a137f: Pulling fs layer\nebc7dc08be24: Pulling fs layer\nedc589697159: Pulling fs layer\n0aa7befa4a1b: Waiting\nc71ce35a137f: Waiting\nedc589697159: Waiting\n4ee16f45eff9: Waiting\n2cee68386155: Waiting\nfa3069e6cecf: Verifying Checksum\nfa3069e6cecf: Download complete\n5fdd409f4b2b: Verifying Checksum\n5fdd409f4b2b: Download complete\n85bed84afb9a: Verifying Checksum\n85bed84afb9a: Download complete\n0aa7befa4a1b: Verifying Checksum\n0aa7befa4a1b: Download complete\nc71ce35a137f: Verifying Checksum\nc71ce35a137f: Download complete\nebc7dc08be24: Verifying Checksum\nebc7dc08be24: Download complete\n4ee16f45eff9: Verifying Checksum\n4ee16f45eff9: Download complete\nedc589697159: Download complete\n85bed84afb9a: Pull complete\n2cee68386155: Verifying Checksum\n2cee68386155: Download complete\n5fdd409f4b2b: Pull complete\nfa3069e6cecf: Pull complete\n4ee16f45eff9: Pull complete\n2cee68386155: Pull complete\n0aa7befa4a1b: Pull complete\nc71ce35a137f: Pull complete\nebc7dc08be24: Pull complete\nedc589697159: Pull complete\nDigest: sha256:6e54786b2ad01667d46524e82806298714f50d2be72b39706770aed55faedbd7\nStatus: Downloaded newer image for node:16.14\n ---> a76eec769c30\nStep 2/11 : ENV USER=evobot\n ---> Running in 1a24fabf99ef\nRemoving intermediate container 1a24fabf99ef\n ---> a838793319ef\nStep 3/11 : RUN apt-get update && \tapt-get install -y python3 build-essential && \tapt-get purge -y --auto-remove\n ---> Running in d26109cb35e0\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (5678 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\npython3 is already the newest version (3.7.3-1).\npython3 set to manually installed.\nThe following NEW packages will be installed:\n  build-essential\n0 upgraded, 1 newly installed, 0 to remove and 98 not upgraded.\nNeed to get 7576 B of archives.\nAfter this operation, 20.5 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 7576 B in 0s (0 B/s)\nSelecting previously unselected package build-essential.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23988 files and directories currently installed.)\r\nPreparing to unpack .../build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nSetting up build-essential (12.6) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\n0 upgraded, 0 newly installed, 0 to remove and 98 not upgraded.\nRemoving intermediate container d26109cb35e0\n ---> df39ab3d6105\nStep 4/11 : RUN groupadd -r ${USER} && \tuseradd --create-home --home /home/evobot -r -g ${USER} ${USER}\n ---> Running in 89f43be3bbc7\nRemoving intermediate container 89f43be3bbc7\n ---> de820378e3bf\nStep 5/11 : USER ${USER}\n ---> Running in 2476d0b0cc53\nRemoving intermediate container 2476d0b0cc53\n ---> 7b56fc2d57fd\nStep 6/11 : WORKDIR /home/evobot\n ---> Running in 1d940d1f5e40\nRemoving intermediate container 1d940d1f5e40\n ---> 281e123fee27\nStep 7/11 : COPY --chown=${USER}:${USER} package*.json ./\n ---> b0632ac72056\nStep 8/11 : RUN npm install\n ---> Running in e7b7b719b917\n\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m @discordjs/collection@0.7.0: no longer supported\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated @discordjs/builders@0.16.0: no longer supported\n\u001b[0m\nadded 327 packages, and audited 328 packages in 34s\n\n30 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container e7b7b719b917\n ---> ee6e62f0c8f1\nStep 9/11 : VOLUME [ \"/home/evobot\" ]\n ---> Running in eba1e11047df\nRemoving intermediate container eba1e11047df\n ---> c564620e1cab\nStep 10/11 : COPY --chown=${USER}:${USER}  . .\n ---> ee9b59c622ac\nStep 11/11 : ENTRYPOINT [ \"npm\", \"run\", \"prod\" ]\n ---> Running in 21ef095bdf75\nRemoving intermediate container 21ef095bdf75\n ---> 39e98b161478\nSuccessfully built 39e98b161478\nSuccessfully tagged evobot:latest\n","stderr":"","imageSize":1194517834},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":18,"end":18,"columnStart":4,"columnEnd":15}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":6,"end":6,"columnStart":1,"columnEnd":43}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":6,"end":6,"columnStart":1,"columnEnd":43}}],"repairedDockerfile":"FROM node:16.14\n\nENV USER=evobot\n\n# install python and make\nRUN apt-get update && \\\n\tapt-get install --no-install-recommends -y python3 build-essential && \\\n\tapt-get purge -y --auto-remove\n\n# create evobot user\nRUN groupadd -r ${USER} && \\\n\tuseradd --create-home --home /home/evobot -r -g ${USER} ${USER}\n\n# set up volume and user\nUSER ${USER}\nWORKDIR /home/evobot\n\nCOPY --chown=${USER}:${USER} package*.json ./\nRUN npm install\nVOLUME [ \"/home/evobot\" ]\n\nCOPY --chown=${USER}:${USER}  . .\n\nENTRYPOINT [ \"npm\", \"run\", \"prod\" ]\n"},"repairedBuild":{"startTimestamp":1672075920058,"endTimestamp":1672076016869,"error":null,"stdout":"Sending build context to Docker daemon  912.4kB\r\r\nStep 1/11 : FROM node:16.14\n ---> a76eec769c30\nStep 2/11 : ENV USER=evobot\n ---> Running in afd639c7ae9a\nRemoving intermediate container afd639c7ae9a\n ---> 1cf058e5ce9e\nStep 3/11 : RUN apt-get update && \tapt-get install --no-install-recommends -y python3 build-essential && \tapt-get purge -y --auto-remove\n ---> Running in 12ff0c126fdc\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (4910 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\npython3 is already the newest version (3.7.3-1).\npython3 set to manually installed.\nThe following NEW packages will be installed:\n  build-essential\n0 upgraded, 1 newly installed, 0 to remove and 98 not upgraded.\nNeed to get 7576 B of archives.\nAfter this operation, 20.5 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 build-essential amd64 12.6 [7576 B]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 7576 B in 0s (0 B/s)\nSelecting previously unselected package build-essential.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23988 files and directories currently installed.)\r\nPreparing to unpack .../build-essential_12.6_amd64.deb ...\r\nUnpacking build-essential (12.6) ...\r\nSetting up build-essential (12.6) ...\r\nReading package lists...\nBuilding dependency tree...\nReading state information...\n0 upgraded, 0 newly installed, 0 to remove and 98 not upgraded.\nRemoving intermediate container 12ff0c126fdc\n ---> 47d93f9366cb\nStep 4/11 : RUN groupadd -r ${USER} && \tuseradd --create-home --home /home/evobot -r -g ${USER} ${USER}\n ---> Running in d76f08df9ec4\nRemoving intermediate container d76f08df9ec4\n ---> 838ee6833a86\nStep 5/11 : USER ${USER}\n ---> Running in 9ca4757815c0\nRemoving intermediate container 9ca4757815c0\n ---> 582e29819819\nStep 6/11 : WORKDIR /home/evobot\n ---> Running in 421d14a8f998\nRemoving intermediate container 421d14a8f998\n ---> 237628ecc1ed\nStep 7/11 : COPY --chown=${USER}:${USER} package*.json ./\n ---> bacb576bbef8\nStep 8/11 : RUN npm install\n ---> Running in e11dc05ad5b6\n\u001b[91mnpm WARN deprecated @discordjs/collection@0.7.0: no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @discordjs/builders@0.16.0: no longer supported\n\u001b[0m\nadded 327 packages, and audited 328 packages in 37s\n\n30 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.5.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container e11dc05ad5b6\n ---> 2caf58164e05\nStep 9/11 : VOLUME [ \"/home/evobot\" ]\n ---> Running in b455eda4130a\nRemoving intermediate container b455eda4130a\n ---> 4e4eef854457\nStep 10/11 : COPY --chown=${USER}:${USER}  . .\n ---> 05026fc06863\nStep 11/11 : ENTRYPOINT [ \"npm\", \"run\", \"prod\" ]\n ---> Running in 6b1670c20000\nRemoving intermediate container 6b1670c20000\n ---> 96144fad22ab\nSuccessfully built 96144fad22ab\nSuccessfully tagged evobot:latest\n","stderr":"","imageSize":1194517869},"endTime":1672076017748}