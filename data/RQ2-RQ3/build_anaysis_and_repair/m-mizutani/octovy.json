{"repository":"https://github.com/m-mizutani/octovy","dockerfilePath":"Dockerfile","startTime":1672894077766,"endTime":1672894756625,"clone":{"startTime":1672894077767,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/m-mizutani/octovy'...\n","error":null,"endTime":1672894078660,"commit":"08fb7816c6d0a485239ca5f342342186f972a6e7"},"originalBuild":{"startTime":1672894078751,"endTime":1672894411316,"error":null,"stdout":"Sending build context to Docker daemon  3.109MB\r\r\nStep 1/17 : FROM node:16.10.0-buster AS build-node\n16.10.0-buster: Pulling from library/node\n5e7b6b7bd506: Pulling fs layer\nfd67d668d691: Pulling fs layer\n1ae016bc2687: Pulling fs layer\n0b0af05a4d86: Pulling fs layer\nca4689f0588c: Pulling fs layer\n8c33de21d690: Pulling fs layer\nf113b2c481db: Pulling fs layer\n0f84649efc4d: Pulling fs layer\n5990cbd9430a: Pulling fs layer\nca4689f0588c: Waiting\n8c33de21d690: Waiting\nf113b2c481db: Waiting\n5990cbd9430a: Waiting\n0f84649efc4d: Waiting\n0b0af05a4d86: Waiting\nfd67d668d691: Verifying Checksum\nfd67d668d691: Download complete\n1ae016bc2687: Verifying Checksum\n1ae016bc2687: Download complete\n5e7b6b7bd506: Verifying Checksum\n5e7b6b7bd506: Download complete\n8c33de21d690: Download complete\n0b0af05a4d86: Verifying Checksum\n0b0af05a4d86: Download complete\n0f84649efc4d: Verifying Checksum\n0f84649efc4d: Download complete\nf113b2c481db: Download complete\n5990cbd9430a: Verifying Checksum\n5990cbd9430a: Download complete\n5e7b6b7bd506: Pull complete\nca4689f0588c: Verifying Checksum\nca4689f0588c: Download complete\nfd67d668d691: Pull complete\n1ae016bc2687: Pull complete\n0b0af05a4d86: Pull complete\nca4689f0588c: Pull complete\n8c33de21d690: Pull complete\nf113b2c481db: Pull complete\n0f84649efc4d: Pull complete\n5990cbd9430a: Pull complete\nDigest: sha256:543c034446e58fb3991842e22db7a404f5feb1050cf6126cb551e03cae0e7ac1\nStatus: Downloaded newer image for node:16.10.0-buster\n ---> 9c23a8242f8b\nStep 2/17 : ADD . /app\n ---> 728b54935328\nStep 3/17 : WORKDIR /app/assets\n ---> Running in 27854728ce9f\nRemoving intermediate container 27854728ce9f\n ---> 67b9fa52cf7c\nStep 4/17 : RUN npm i\n ---> Running in fddfaa5e39c6\n\u001b[91mnpm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 495 packages, and audited 496 packages in 14s\n\n115 packages are looking for funding\n  run `npm fund` for details\n\n9 vulnerabilities (1 moderate, 2 high, 6 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 7.24.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container fddfaa5e39c6\n ---> d98d011710e0\nStep 5/17 : RUN npm run export\n ---> Running in f31b13b34229\n\n> assets@1.0.0 export\n> next build && next export\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Checking validity of types...\n\u001b[91mwarn  - No ESLint configuration detected. Run next lint to begin setup\n\u001b[0minfo  - Creating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Compiled successfully\ninfo  - Collecting page data...\n\u001b[91m[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.\n\u001b[0minfo  - Generating static pages (0/9)\ninfo  - Generating static pages (2/9)\ninfo  - Generating static pages (4/9)\nstatus=> { isLoaded: false }\ninfo  - Generating static pages (6/9)\n\u001b[91m[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.\n\u001b[0minfo  - Generating static pages (9/9)\ninfo  - Finalizing page optimization...\n\nPage                                     Size     First Load JS\n┌ ○ / (530 ms)                           3.46 kB         155 kB\n├ ○ /404                                 194 B          71.6 kB\n├ ○ /config (569 ms)                     42.9 kB         204 kB\n├ ○ /login                               4.06 kB         119 kB\n├ ○ /repository/[owner]/[repo] (584 ms)  10.5 kB         165 kB\n├ ○ /scan/[id] (519 ms)                  11.2 kB         169 kB\n├ ○ /vulnerability (418 ms)              327 B           189 kB\n└ ○ /vulnerability/[id] (417 ms)         325 B           189 kB\n+ First Load JS shared by all            71.5 kB\n  ├ chunks/framework.2191d1.js           42.4 kB\n  ├ chunks/main.278435.js                27.2 kB\n  ├ chunks/pages/_app.1a580d.js          979 B\n  └ chunks/webpack.613fd8.js             886 B\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\n   (ISR)     incremental static regeneration (uses revalidate in getStaticProps)\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - using build directory: /app/assets/.next\n\u001b[91mwarn  - rewrites, redirects, and headers are not applied when exporting your application, detected (rewrites). See more info here: https://nextjs.org/docs/messages/export-no-custom-routes\n\u001b[0minfo  - Copying \"static build\" directory\ninfo  - No \"exportPathMap\" found in \"next.config.js\". Generating map from \"./pages\"\ninfo  - Launching 35 workers\ninfo  - Exporting (0/8)\ninfo  - Exporting (2/8)\ninfo  - Exporting (4/8)\ninfo  - Exporting (6/8)\ninfo  - Exporting (8/8)\nExport successful. Files written to /app/assets/out\nRemoving intermediate container f31b13b34229\n ---> 87dda9e74224\nStep 6/17 : FROM golang:1.16 AS build-go\n ---> 972d8c0bc0fc\nStep 7/17 : COPY --from=build-node /app /app\n ---> 7d28dd7363eb\nStep 8/17 : WORKDIR /app\n ---> Running in 7ed6f76842ec\nRemoving intermediate container 7ed6f76842ec\n ---> 0023ba7536f9\nStep 9/17 : RUN go build .\n ---> Running in 8e85e4b65e0e\n\u001b[91mgo: downloading github.com/gin-gonic/gin v1.7.4\ngo: downloading github.com/m-mizutani/goerr v0.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/m-mizutani/zlog v0.1.3-0.20211203002134-3946d2ec45ed\ngo: downloading github.com/go-ozzo/ozzo-validation/v4 v4.3.0\ngo: downloading github.com/getsentry/sentry-go v0.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/aquasecurity/trivy v0.21.2\ngo: downloading github.com/google/go-github v17.0.0+incompatible\ngo: downloading github.com/urfave/cli v1.22.5\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\ngo: downloading github.com/stretchr/testify v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/bradleyfalzon/ghinstallation v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/m-mizutani/opa-go-client v0.0.0-20211207024209-c99365b3341c\n\u001b[0m\u001b[91mgo: downloading google.golang.org/api v0.47.0\n\u001b[0m\u001b[91mgo: downloading github.com/open-policy-agent/opa v0.34.2\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-sqlite3 v1.14.8\n\u001b[0m\u001b[91mgo: downloading entgo.io/ent v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/asaskevich/govalidator v0.0.0-20200108200545-475eaeb16496\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\ngo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\ngo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v39 v39.0.0\ngo: downloading github.com/google/go-github/v29 v29.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/urfave/cli/v2 v2.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/k0kubun/pp v3.0.1+incompatible\ngo: downloading github.com/k0kubun/colorstring v0.0.0-20150214042306-9440f1994b88\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/ugorji/go v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.9.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211007075335-d3039528d8ac\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.11\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\ngo: downloading golang.org/x/crypto v0.0.0-20210921155107-089bfa567519\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man v1.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.18.0\ngo: downloading golang.org/x/text v0.3.7\ngo: downloading github.com/leodido/go-urn v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man/v2 v2.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\ngo: downloading github.com/aquasecurity/fanal v0.0.0-20211130145558-2c76718ef52e\n\u001b[0m\u001b[91mgo: downloading github.com/caarlos0/env/v6 v6.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/aquasecurity/trivy-db v0.0.0-20210930134241-bec0c6aed9e1\ngo: downloading github.com/google/go-containerregistry v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/sprig v2.22.0+incompatible\ngo: downloading github.com/fatih/color v1.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/semver v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/goutils v1.1.1\ngo: downloading github.com/huandu/xstrings v1.3.2\ngo: downloading github.com/imdario/mergo v0.3.12\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/copystructure v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/reflectwalk v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20200313005456-10cdbea86bc0\n\u001b[0m\u001b[91mgo: downloading github.com/ghodss/yaml v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/OneOfOne/xxhash v1.2.8\n\u001b[0m\u001b[91mgo: downloading github.com/xeipuuv/gojsonreference v0.0.0-20180127040603-bd5ef7bd5415\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/glob v0.2.3\n\u001b[0m\u001b[91mgo: downloading github.com/yashtewari/glob-intersection v0.0.0-20180916065949-5c77d914dd0b\n\u001b[0m\u001b[91mgo: downloading github.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/objx v0.3.0\n\u001b[0m\u001b[91mgo: downloading go.etcd.io/bbolt v1.3.6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20210514164344-f6687ab2804c\ngo: downloading cloud.google.com/go v0.83.0\n\u001b[0m\u001b[91mgo: downloading go.opencensus.io v0.23.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.0.0-20210825183410-e898025ed96a\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20210602131652-f16073e35f0c\n\u001b[0mRemoving intermediate container 8e85e4b65e0e\n ---> 57845bfabcd1\nStep 10/17 : FROM gcr.io/distroless/base\nlatest: Pulling from distroless/base\nfc251a6e7981: Pulling fs layer\nfda4ba87f6fb: Pulling fs layer\nfc251a6e7981: Verifying Checksum\nfc251a6e7981: Download complete\nfda4ba87f6fb: Verifying Checksum\nfda4ba87f6fb: Download complete\nfc251a6e7981: Pull complete\nfda4ba87f6fb: Pull complete\nDigest: sha256:6378ee0c83c0dbfa682576fc5aef3ff7c56be6aa5e026d2c360efa057cfbaa74\nStatus: Downloaded newer image for gcr.io/distroless/base:latest\n ---> 479e4c82e1d9\nStep 11/17 : COPY --from=build-go /app/octovy /octovy\n ---> 3aff259dea91\nStep 12/17 : COPY --from=aquasec/trivy:0.21.2 /usr/local/bin/trivy /trivy\n0.21.2: Pulling from aquasec/trivy\n59bf1c3509f3: Already exists\nf8303905fd56: Pulling fs layer\n8693e6d64504: Pulling fs layer\n441daa649d64: Pulling fs layer\n441daa649d64: Verifying Checksum\n441daa649d64: Download complete\nf8303905fd56: Verifying Checksum\nf8303905fd56: Download complete\n8693e6d64504: Verifying Checksum\n8693e6d64504: Download complete\nf8303905fd56: Pull complete\n8693e6d64504: Pull complete\n441daa649d64: Pull complete\nDigest: sha256:5214636c6385bc3fe81ef8b0e4a83b4c95e0e178901f27411cc1bc993d1c1cb8\nStatus: Downloaded newer image for aquasec/trivy:0.21.2\n ---> e9b15fa4ee2f\nStep 13/17 : WORKDIR /\n ---> Running in 911f44f1991b\nRemoving intermediate container 911f44f1991b\n ---> 43687dff42d5\nStep 14/17 : ENV OCTOVY_ADDR=\"0.0.0.0\"\n ---> Running in 3efdf682c2a3\nRemoving intermediate container 3efdf682c2a3\n ---> a8cff14e233f\nStep 15/17 : ENV OCTOVY_TRIVY_PATH=/trivy\n ---> Running in 03319a911d6f\nRemoving intermediate container 03319a911d6f\n ---> 3232050e549f\nStep 16/17 : EXPOSE 9080\n ---> Running in 16f6961b555f\nRemoving intermediate container 16f6961b555f\n ---> 68860e1b7334\nStep 17/17 : ENTRYPOINT [\"/octovy\"]\n ---> Running in 7475191c267f\nRemoving intermediate container 7475191c267f\n ---> 59d7a4523033\nSuccessfully built 59d7a4523033\nSuccessfully tagged octovy:latest\n","stderr":"","imageSize":102831497},"repair":{"startTime":1672894411391,"endTime":1672894411488,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":9}}],"repairedDockerfile":"FROM node:16.10.0-buster AS build-node\nADD . /app\nWORKDIR /app/assets\nRUN npm i && npm cache clean --force;\nRUN npm run export\n#\nFROM golang:1.16 AS build-go\nCOPY --from=build-node /app /app\nWORKDIR /app\nRUN go build .\n\n#gcr.io/distroless/static is not enough because of github.com/mattn/go-sqlite3\nFROM gcr.io/distroless/base\nCOPY --from=build-go /app/octovy /octovy\nCOPY --from=aquasec/trivy:0.21.2 /usr/local/bin/trivy /trivy\nWORKDIR /\nENV OCTOVY_ADDR=\"0.0.0.0\"\nENV OCTOVY_TRIVY_PATH=/trivy\nEXPOSE 9080\nENTRYPOINT [\"/octovy\"]\n"},"repairedBuild":{"startTime":1672894412496,"endTime":1672894756365,"error":null,"stdout":"Sending build context to Docker daemon  3.109MB\r\r\nStep 1/17 : FROM node:16.10.0-buster AS build-node\n ---> 9c23a8242f8b\nStep 2/17 : ADD . /app\n ---> ee67d77ebf9b\nStep 3/17 : WORKDIR /app/assets\n ---> Running in 537ec3de0b1f\nRemoving intermediate container 537ec3de0b1f\n ---> 91c49e47f28b\nStep 4/17 : RUN npm i && npm cache clean --force;\n ---> Running in 1d496668b45d\n\u001b[91mnpm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 495 packages, and audited 496 packages in 15s\n\n115 packages are looking for funding\n  run `npm fund` for details\n\n9 vulnerabilities (1 moderate, 2 high, 6 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 7.24.0 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 1d496668b45d\n ---> 1cb1e15b5dbe\nStep 5/17 : RUN npm run export\n ---> Running in 186896003e80\n\n> assets@1.0.0 export\n> next build && next export\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\nAttention: Next.js now collects completely anonymous telemetry regarding usage.\nThis information is used to shape Next.js' roadmap and prioritize features.\nYou can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:\nhttps://nextjs.org/telemetry\n\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Checking validity of types...\n\u001b[91mwarn  - No ESLint configuration detected. Run next lint to begin setup\n\u001b[0minfo  - Creating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0minfo  - Compiled successfully\ninfo  - Collecting page data...\n\u001b[91m[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.\n\u001b[0minfo  - Generating static pages (0/9)\ninfo  - Generating static pages (2/9)\ninfo  - Generating static pages (4/9)\nstatus=> { isLoaded: false }\ninfo  - Generating static pages (6/9)\n\u001b[91m[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.\n\u001b[0minfo  - Generating static pages (9/9)\ninfo  - Finalizing page optimization...\n\nPage                                     Size     First Load JS\n┌ ○ / (543 ms)                           3.46 kB         155 kB\n├ ○ /404                                 194 B          71.6 kB\n├ ○ /config (637 ms)                     42.9 kB         204 kB\n├ ○ /login                               4.06 kB         119 kB\n├ ○ /repository/[owner]/[repo] (578 ms)  10.5 kB         165 kB\n├ ○ /scan/[id] (558 ms)                  11.2 kB         169 kB\n├ ○ /vulnerability (414 ms)              327 B           189 kB\n└ ○ /vulnerability/[id] (425 ms)         325 B           189 kB\n+ First Load JS shared by all            71.5 kB\n  ├ chunks/framework.2191d1.js           42.4 kB\n  ├ chunks/main.278435.js                27.2 kB\n  ├ chunks/pages/_app.1a580d.js          979 B\n  └ chunks/webpack.613fd8.js             886 B\n\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\n   (ISR)     incremental static regeneration (uses revalidate in getStaticProps)\n\ninfo  - Using webpack 5. Reason: Enabled by default https://nextjs.org/docs/messages/webpack5\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\nWhy you should do it regularly:\nhttps://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0m\u001b[91mwarn  - rewrites, redirects, and headers are not applied when exporting your application, detected (rewrites). See more info here: https://nextjs.org/docs/messages/export-no-custom-routes\n\u001b[0minfo  - using build directory: /app/assets/.next\ninfo  - Copying \"static build\" directory\ninfo  - No \"exportPathMap\" found in \"next.config.js\". Generating map from \"./pages\"\ninfo  - Launching 35 workers\ninfo  - Exporting (0/8)\ninfo  - Exporting (2/8)\ninfo  - Exporting (4/8)\ninfo  - Exporting (6/8)\ninfo  - Exporting (8/8)\nExport successful. Files written to /app/assets/out\nRemoving intermediate container 186896003e80\n ---> 4881d2d63c4f\nStep 6/17 : FROM golang:1.16 AS build-go\n ---> 972d8c0bc0fc\nStep 7/17 : COPY --from=build-node /app /app\n ---> 759af6f090a5\nStep 8/17 : WORKDIR /app\n ---> Running in 496c2ba337b3\nRemoving intermediate container 496c2ba337b3\n ---> ed01ae7ff7e8\nStep 9/17 : RUN go build .\n ---> Running in 08e6c390cd92\n\u001b[91mgo: downloading github.com/m-mizutani/goerr v0.1.2\ngo: downloading github.com/urfave/cli v1.22.5\ngo: downloading github.com/gin-gonic/gin v1.7.4\n\u001b[0m\u001b[91mgo: downloading github.com/m-mizutani/zlog v0.1.3-0.20211203002134-3946d2ec45ed\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github v17.0.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/open-policy-agent/opa v0.34.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/api v0.47.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-ozzo/ozzo-validation/v4 v4.3.0\ngo: downloading github.com/aquasecurity/trivy v0.21.2\n\u001b[0m\u001b[91mgo: downloading github.com/m-mizutani/opa-go-client v0.0.0-20211207024209-c99365b3341c\ngo: downloading github.com/bradleyfalzon/ghinstallation v1.1.1\ngo: downloading github.com/google/uuid v1.3.0\ngo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/getsentry/sentry-go v0.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/lib/pq v1.10.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-sqlite3 v1.14.8\n\u001b[0m\u001b[91mgo: downloading entgo.io/ent v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/k0kubun/pp v3.0.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/k0kubun/colorstring v0.0.0-20150214042306-9440f1994b88\n\u001b[0m\u001b[91mgo: downloading github.com/urfave/cli/v2 v2.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/gin-contrib/sse v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.14\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/validator/v10 v10.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/dgrijalva/jwt-go v3.2.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/asaskevich/govalidator v0.0.0-20200108200545-475eaeb16496\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\ngo: downloading github.com/davecgh/go-spew v1.1.1\ngo: downloading gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-github/v39 v39.0.0\ngo: downloading github.com/google/go-github/v29 v29.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.11\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20211007075335-d3039528d8ac\n\u001b[0m\u001b[91mgo: downloading github.com/ugorji/go/codec v1.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.18.0\ngo: downloading golang.org/x/text v0.3.7\ngo: downloading golang.org/x/crypto v0.0.0-20210921155107-089bfa567519\ngo: downloading github.com/leodido/go-urn v1.2.1\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.27.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-querystring v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man v1.0.10\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/cpuguy83/go-md2man/v2 v2.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/russross/blackfriday/v2 v2.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/fatih/color v1.13.0\ngo: downloading github.com/Masterminds/sprig v2.22.0+incompatible\ngo: downloading github.com/aquasecurity/trivy-db v0.0.0-20210930134241-bec0c6aed9e1\ngo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-containerregistry v0.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading github.com/aquasecurity/fanal v0.0.0-20211130145558-2c76718ef52e\n\u001b[0m\u001b[91mgo: downloading github.com/caarlos0/env/v6 v6.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.12\n\u001b[0m\u001b[91mgo: downloading github.com/Masterminds/goutils v1.1.1\ngo: downloading github.com/Masterminds/semver v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/huandu/xstrings v1.3.2\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/copystructure v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/imdario/mergo v0.3.12\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/reflectwalk v1.0.1\n\u001b[0m\u001b[91mgo: downloading go.etcd.io/bbolt v1.3.6\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/objx v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/rcrowley/go-metrics v0.0.0-20200313005456-10cdbea86bc0\ngo: downloading github.com/ghodss/yaml v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/OneOfOne/xxhash v1.2.8\n\u001b[0m\u001b[91mgo: downloading github.com/xeipuuv/gojsonreference v0.0.0-20180127040603-bd5ef7bd5415\n\u001b[0m\u001b[91mgo: downloading github.com/gobwas/glob v0.2.3\n\u001b[0m\u001b[91mgo: downloading github.com/yashtewari/glob-intersection v0.0.0-20180916065949-5c77d914dd0b\n\u001b[0m\u001b[91mgo: downloading github.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.0.0-20210514164344-f6687ab2804c\ngo: downloading cloud.google.com/go v0.83.0\n\u001b[0m\u001b[91mgo: downloading go.opencensus.io v0.23.0\ngo: downloading golang.org/x/net v0.0.0-20210825183410-e898025ed96a\n\u001b[0m\u001b[91mgo: downloading google.golang.org/grpc v1.38.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e\n\u001b[0m\u001b[91mgo: downloading google.golang.org/genproto v0.0.0-20210602131652-f16073e35f0c\n\u001b[0mRemoving intermediate container 08e6c390cd92\n ---> aeba03cac0b1\nStep 10/17 : FROM gcr.io/distroless/base\n ---> 479e4c82e1d9\nStep 11/17 : COPY --from=build-go /app/octovy /octovy\n ---> b2655ddf787c\nStep 12/17 : COPY --from=aquasec/trivy:0.21.2 /usr/local/bin/trivy /trivy\n ---> 63c289caa10f\nStep 13/17 : WORKDIR /\n ---> Running in 6110594b21dd\nRemoving intermediate container 6110594b21dd\n ---> 3aa5b260ac62\nStep 14/17 : ENV OCTOVY_ADDR=\"0.0.0.0\"\n ---> Running in af8b66fdf2b5\nRemoving intermediate container af8b66fdf2b5\n ---> b4720d9608c1\nStep 15/17 : ENV OCTOVY_TRIVY_PATH=/trivy\n ---> Running in ca1dfb09d8b3\nRemoving intermediate container ca1dfb09d8b3\n ---> 77ad31e010f1\nStep 16/17 : EXPOSE 9080\n ---> Running in 93122543a0c3\nRemoving intermediate container 93122543a0c3\n ---> 0d58734e8b1a\nStep 17/17 : ENTRYPOINT [\"/octovy\"]\n ---> Running in 01bf817de9b6\nRemoving intermediate container 01bf817de9b6\n ---> 7050373d5c96\nSuccessfully built 7050373d5c96\nSuccessfully tagged octovy:latest\n","stderr":"","imageSize":102831497}}