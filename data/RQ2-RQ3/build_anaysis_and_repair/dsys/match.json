{"repository":"https://github.com/dsys/match","dockerfilePath":"Dockerfile","startTime":1672459386255,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dsys/match'...\n","error":null,"commit":"e66c3b5d215915533dad2fcc5b6fd7181fd05625"},"originalBuild":{"startTimestamp":1672459387131,"endTimestamp":1672459685409,"error":null,"stdout":"Sending build context to Docker daemon    148kB\r\r\nStep 1/7 : FROM python:3.6\n3.6: Pulling from library/python\n0e29546d541c: Pulling fs layer\n9b829c73b52b: Pulling fs layer\ncb5b7ae36172: Pulling fs layer\n6494e4811622: Pulling fs layer\n6f9f74896dfa: Pulling fs layer\n5e3b1213efc5: Pulling fs layer\n9fddfdc56334: Pulling fs layer\n404f02044bac: Pulling fs layer\nc4f42be2be53: Pulling fs layer\n6494e4811622: Waiting\n6f9f74896dfa: Waiting\n404f02044bac: Waiting\nc4f42be2be53: Waiting\n5e3b1213efc5: Waiting\ncb5b7ae36172: Verifying Checksum\ncb5b7ae36172: Download complete\n9b829c73b52b: Verifying Checksum\n9b829c73b52b: Download complete\n0e29546d541c: Download complete\n5e3b1213efc5: Verifying Checksum\n5e3b1213efc5: Download complete\n6494e4811622: Verifying Checksum\n6494e4811622: Download complete\n9fddfdc56334: Download complete\n404f02044bac: Verifying Checksum\n404f02044bac: Download complete\nc4f42be2be53: Verifying Checksum\nc4f42be2be53: Download complete\n0e29546d541c: Pull complete\n6f9f74896dfa: Verifying Checksum\n6f9f74896dfa: Download complete\n9b829c73b52b: Pull complete\ncb5b7ae36172: Pull complete\n6494e4811622: Pull complete\n6f9f74896dfa: Pull complete\n5e3b1213efc5: Pull complete\n9fddfdc56334: Pull complete\n404f02044bac: Pull complete\nc4f42be2be53: Pull complete\nDigest: sha256:f8652afaf88c25f0d22354d547d892591067aa4026a7fa9a6819df9f300af6fc\nStatus: Downloaded newer image for python:3.6\n ---> 54260638d07c\nStep 2/7 : MAINTAINER Alex Kern <alex@distributedsystems.com>\n ---> Running in 16fa601c3de6\nRemoving intermediate container 16fa601c3de6\n ---> e890d09c1235\nStep 3/7 : RUN apt-get update &&     apt-get install -y libopenblas-dev gfortran &&     pip install numpy==1.12.1 &&     pip install scipy==0.19.0 &&     pip install gunicorn==19.7.1 &&     pip install flask==0.12.2 &&     pip install image-match==1.1.2 &&     pip install 'elasticsearch>=6.0.0,<7.0.0' &&     rm -rf /var/lib/apt/lists/*\n ---> Running in 48dacfb4bf1f\nGet:1 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:2 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6046 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  gfortran-10 libgfortran-10-dev libgfortran5 libopenblas-pthread-dev\n  libopenblas0 libopenblas0-pthread\nSuggested packages:\n  gfortran-multilib gfortran-doc gfortran-10-multilib gfortran-10-doc\n  libcoarrays-dev\nThe following NEW packages will be installed:\n  gfortran gfortran-10 libgfortran-10-dev libgfortran5 libopenblas-dev\n  libopenblas-pthread-dev libopenblas0 libopenblas0-pthread\n0 upgraded, 8 newly installed, 0 to remove and 104 not upgraded.\nNeed to get 21.5 MB of archives.\nAfter this operation, 139 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libgfortran5 amd64 10.2.1-6 [727 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libgfortran-10-dev amd64 10.2.1-6 [769 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 gfortran-10 amd64 10.2.1-6 [9447 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 gfortran amd64 4:10.2.1-1 [1428 B]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libopenblas0-pthread amd64 0.3.13+ds-3 [6034 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libopenblas0 amd64 0.3.13+ds-3 [32.8 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libopenblas-pthread-dev amd64 0.3.13+ds-3 [4477 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libopenblas-dev amd64 0.3.13+ds-3 [44.1 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 21.5 MB in 1s (42.5 MB/s)\nSelecting previously unselected package libgfortran5:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23373 files and directories currently installed.)\r\nPreparing to unpack .../0-libgfortran5_10.2.1-6_amd64.deb ...\r\nUnpacking libgfortran5:amd64 (10.2.1-6) ...\r\nSelecting previously unselected package libgfortran-10-dev:amd64.\r\nPreparing to unpack .../1-libgfortran-10-dev_10.2.1-6_amd64.deb ...\r\nUnpacking libgfortran-10-dev:amd64 (10.2.1-6) ...\r\nSelecting previously unselected package gfortran-10.\r\nPreparing to unpack .../2-gfortran-10_10.2.1-6_amd64.deb ...\r\nUnpacking gfortran-10 (10.2.1-6) ...\r\nSelecting previously unselected package gfortran.\r\nPreparing to unpack .../3-gfortran_4%3a10.2.1-1_amd64.deb ...\r\nUnpacking gfortran (4:10.2.1-1) ...\r\nSelecting previously unselected package libopenblas0-pthread:amd64.\r\nPreparing to unpack .../4-libopenblas0-pthread_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas0-pthread:amd64 (0.3.13+ds-3) ...\r\nSelecting previously unselected package libopenblas0:amd64.\r\nPreparing to unpack .../5-libopenblas0_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas0:amd64 (0.3.13+ds-3) ...\r\nSelecting previously unselected package libopenblas-pthread-dev:amd64.\r\nPreparing to unpack .../6-libopenblas-pthread-dev_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas-pthread-dev:amd64 (0.3.13+ds-3) ...\r\nSelecting previously unselected package libopenblas-dev:amd64.\r\nPreparing to unpack .../7-libopenblas-dev_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas-dev:amd64 (0.3.13+ds-3) ...\r\nSetting up libgfortran5:amd64 (10.2.1-6) ...\r\nSetting up libgfortran-10-dev:amd64 (10.2.1-6) ...\r\nSetting up libopenblas0-pthread:amd64 (0.3.13+ds-3) ...\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 to provide /usr/lib/x86_64-linux-gnu/libblas.so.3 (libblas.so.3-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so.3 to provide /usr/lib/x86_64-linux-gnu/liblapack.so.3 (liblapack.so.3-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblas.so.0 to provide /usr/lib/x86_64-linux-gnu/libopenblas.so.0 (libopenblas.so.0-x86_64-linux-gnu) in auto mode\r\nSetting up gfortran-10 (10.2.1-6) ...\r\nSetting up libopenblas0:amd64 (0.3.13+ds-3) ...\r\nSetting up libopenblas-pthread-dev:amd64 (0.3.13+ds-3) ...\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so to provide /usr/lib/x86_64-linux-gnu/libblas.so (libblas.so-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so to provide /usr/lib/x86_64-linux-gnu/liblapack.so (liblapack.so-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblas.so to provide /usr/lib/x86_64-linux-gnu/libopenblas.so (libopenblas.so-x86_64-linux-gnu) in auto mode\r\nSetting up gfortran (4:10.2.1-1) ...\r\nupdate-alternatives: using /usr/bin/gfortran to provide /usr/bin/f95 (f95) in auto mode\r\nupdate-alternatives: using /usr/bin/gfortran to provide /usr/bin/f77 (f77) in auto mode\r\nSetting up libopenblas-dev:amd64 (0.3.13+ds-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u2) ...\r\nCollecting numpy==1.12.1\n  Downloading numpy-1.12.1-cp36-cp36m-manylinux1_x86_64.whl (16.8 MB)\nInstalling collected packages: numpy\nSuccessfully installed numpy-1.12.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting scipy==0.19.0\n  Downloading scipy-0.19.0-cp36-cp36m-manylinux1_x86_64.whl (48.2 MB)\nRequirement already satisfied: numpy>=1.8.2 in /usr/local/lib/python3.6/site-packages (from scipy==0.19.0) (1.12.1)\nInstalling collected packages: scipy\nSuccessfully installed scipy-0.19.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting gunicorn==19.7.1\n  Downloading gunicorn-19.7.1-py2.py3-none-any.whl (111 kB)\nInstalling collected packages: gunicorn\nSuccessfully installed gunicorn-19.7.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting flask==0.12.2\n  Downloading Flask-0.12.2-py2.py3-none-any.whl (83 kB)\nCollecting Werkzeug>=0.7\n  Downloading Werkzeug-2.0.3-py3-none-any.whl (289 kB)\nCollecting Jinja2>=2.4\n  Downloading Jinja2-3.0.3-py3-none-any.whl (133 kB)\nCollecting itsdangerous>=0.21\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting click>=2.0\n  Downloading click-8.0.4-py3-none-any.whl (97 kB)\nCollecting importlib-metadata\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.0.1-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting dataclasses\n  Downloading dataclasses-0.8-py3-none-any.whl (19 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nInstalling collected packages: zipp, typing-extensions, MarkupSafe, importlib-metadata, dataclasses, Werkzeug, Jinja2, itsdangerous, click, flask\nSuccessfully installed Jinja2-3.0.3 MarkupSafe-2.0.1 Werkzeug-2.0.3 click-8.0.4 dataclasses-0.8 flask-0.12.2 importlib-metadata-4.8.3 itsdangerous-2.0.1 typing-extensions-4.1.1 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting image-match==1.1.2\n  Downloading image_match-1.1.2.tar.gz (18 kB)\nCollecting scikit-image<0.13,>=0.12\n  Downloading scikit-image-0.12.3.tar.gz (20.7 MB)\nCollecting elasticsearch<2.4,>=2.3\n  Downloading elasticsearch-2.3.0-py2.py3-none-any.whl (51 kB)\nCollecting urllib3<2.0,>=1.8\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting matplotlib>=1.3.1\n  Downloading matplotlib-3.3.4-cp36-cp36m-manylinux1_x86_64.whl (11.5 MB)\nCollecting six>=1.7.3\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting networkx>=1.8\n  Downloading networkx-2.5.1-py3-none-any.whl (1.6 MB)\nCollecting pillow>=2.1.0\n  Downloading Pillow-8.4.0-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)\nCollecting dask[array]>=0.5.0\n  Downloading dask-2021.3.0-py3-none-any.whl (925 kB)\nCollecting pyyaml\n  Downloading PyYAML-6.0-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (603 kB)\nCollecting numpy>=1.15.1\n  Downloading numpy-1.19.5-cp36-cp36m-manylinux2010_x86_64.whl (14.8 MB)\nCollecting toolz>=0.8.2\n  Downloading toolz-0.12.0-py3-none-any.whl (55 kB)\nCollecting cycler>=0.10\n  Downloading cycler-0.11.0-py3-none-any.whl (6.4 kB)\nCollecting pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\nCollecting kiwisolver>=1.0.1\n  Downloading kiwisolver-1.3.1-cp36-cp36m-manylinux1_x86_64.whl (1.1 MB)\nCollecting python-dateutil>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting decorator<5,>=4.3\n  Downloading decorator-4.4.2-py2.py3-none-any.whl (9.2 kB)\nBuilding wheels for collected packages: image-match, scikit-image\n  Building wheel for image-match (setup.py): started\n  Building wheel for image-match (setup.py): finished with status 'done'\n  Created wheel for image-match: filename=image_match-1.1.2-py3-none-any.whl size=21230 sha256=4f9a70dfb284f57b3864a8032efe543b57d6a74fb140754d720c307ed80d5b10\n  Stored in directory: /root/.cache/pip/wheels/bb/9d/2c/83148bfa818d4936d3010262fce967bbdbf378c989dd03bdf1\n  Building wheel for scikit-image (setup.py): started\n  Building wheel for scikit-image (setup.py): still running...\n  Building wheel for scikit-image (setup.py): still running...\n  Building wheel for scikit-image (setup.py): still running...\n  Building wheel for scikit-image (setup.py): finished with status 'done'\n  Created wheel for scikit-image: filename=scikit_image-0.12.3-cp36-cp36m-linux_x86_64.whl size=31125655 sha256=c37ba5ff7e4720d90ba54cf708309d25b20ad20ee9bb34ae5ec85e4ff00cf4e3\n  Stored in directory: /root/.cache/pip/wheels/a6/cb/b9/5612dfd426179cc1603dfae1a16fb5ce19cea33dc2ec2ce90e\nSuccessfully built image-match scikit-image\nInstalling collected packages: six, pyyaml, toolz, python-dateutil, pyparsing, pillow, numpy, kiwisolver, decorator, dask, cycler, urllib3, networkx, matplotlib, scikit-image, elasticsearch, image-match\n  Attempting uninstall: numpy\n    Found existing installation: numpy 1.12.1\n    Uninstalling numpy-1.12.1:\n      Successfully uninstalled numpy-1.12.1\nSuccessfully installed cycler-0.11.0 dask-2021.3.0 decorator-4.4.2 elasticsearch-2.3.0 image-match-1.1.2 kiwisolver-1.3.1 matplotlib-3.3.4 networkx-2.5.1 numpy-1.19.5 pillow-8.4.0 pyparsing-3.0.9 python-dateutil-2.8.2 pyyaml-6.0 scikit-image-0.12.3 six-1.16.0 toolz-0.12.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting elasticsearch<7.0.0,>=6.0.0\n  Downloading elasticsearch-6.8.2-py2.py3-none-any.whl (90 kB)\nRequirement already satisfied: urllib3>=1.21.1 in /usr/local/lib/python3.6/site-packages (from elasticsearch<7.0.0,>=6.0.0) (1.26.13)\nInstalling collected packages: elasticsearch\n  Attempting uninstall: elasticsearch\n    Found existing installation: elasticsearch 2.3.0\n    Uninstalling elasticsearch-2.3.0:\n      Successfully uninstalled elasticsearch-2.3.0\n\u001b[91mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\nimage-match 1.1.2 requires elasticsearch<2.4,>=2.3, but you have elasticsearch 6.8.2 which is incompatible.\n\u001b[0mSuccessfully installed elasticsearch-6.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 48dacfb4bf1f\n ---> bc9645d5cb3c\nStep 4/7 : COPY server.py wait-for-it.sh /\n ---> 4d6d772227da\nStep 5/7 : EXPOSE 80\n ---> Running in b6b15e7b4c51\nRemoving intermediate container b6b15e7b4c51\n ---> f08a97a338c3\nStep 6/7 : ENV PORT=80     WORKER_COUNT=4     ELASTICSEARCH_URL=elasticsearch:9200     ELASTICSEARCH_INDEX=images     ELASTICSEARCH_DOC_TYPE=images     ALL_ORIENTATIONS=true\n ---> Running in c377df568f4a\nRemoving intermediate container c377df568f4a\n ---> 70cdcd2ede23\nStep 7/7 : CMD gunicorn     -t 60     --access-logfile -     --access-logformat '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" - %(D)s'     -b 0.0.0.0:${PORT}     -w ${WORKER_COUNT}     server:app\n ---> Running in f10ff8f16442\nRemoving intermediate container f10ff8f16442\n ---> 404b6936270f\nSuccessfully built 404b6936270f\nSuccessfully tagged match:latest\n","stderr":"","imageSize":1603703471},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":4,"columnEnd":29}},{"name":"pipUseNoCacheDir","position":{"start":6,"end":6,"columnStart":4,"columnEnd":29}},{"name":"pipUseNoCacheDir","position":{"start":7,"end":7,"columnStart":4,"columnEnd":32}},{"name":"pipUseNoCacheDir","position":{"start":8,"end":8,"columnStart":4,"columnEnd":29}},{"name":"pipUseNoCacheDir","position":{"start":9,"end":9,"columnStart":4,"columnEnd":34}},{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":4,"columnEnd":45}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":4,"columnEnd":47}}],"repairedDockerfile":"FROM python:3.6\nMAINTAINER Alex Kern <alex@distributedsystems.com>\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y libopenblas-dev gfortran && \\\n    pip install --no-cache-dir numpy==1.12.1 && \\\n    pip install --no-cache-dir scipy==0.19.0 && \\\n    pip install --no-cache-dir gunicorn==19.7.1 && \\\n    pip install --no-cache-dir flask==0.12.2 && \\\n    pip install --no-cache-dir image-match==1.1.2 && \\\n    pip install --no-cache-dir 'elasticsearch>=6.0.0,<7.0.0' && \\\n    rm -rf /var/lib/apt/lists/*\n\nCOPY server.py wait-for-it.sh /\n\nEXPOSE 80\nENV PORT=80 \\\n    WORKER_COUNT=4 \\\n    ELASTICSEARCH_URL=elasticsearch:9200 \\\n    ELASTICSEARCH_INDEX=images \\\n    ELASTICSEARCH_DOC_TYPE=images \\\n    ALL_ORIENTATIONS=true\n\nCMD gunicorn \\\n    -t 60 \\\n    --access-logfile - \\\n    --access-logformat '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" - %(D)s' \\\n    -b 0.0.0.0:${PORT} \\\n    -w ${WORKER_COUNT} \\\n    server:app\n"},"repairedBuild":{"startTimestamp":1672459685887,"endTimestamp":1672459958256,"error":null,"stdout":"Sending build context to Docker daemon    148kB\r\r\nStep 1/7 : FROM python:3.6\n ---> 54260638d07c\nStep 2/7 : MAINTAINER Alex Kern <alex@distributedsystems.com>\n ---> Running in f2c85ee6cbe7\nRemoving intermediate container f2c85ee6cbe7\n ---> c9f8ba41bf6a\nStep 3/7 : RUN apt-get update &&     apt-get install --no-install-recommends -y libopenblas-dev gfortran &&     pip install --no-cache-dir numpy==1.12.1 &&     pip install --no-cache-dir scipy==0.19.0 &&     pip install --no-cache-dir gunicorn==19.7.1 &&     pip install --no-cache-dir flask==0.12.2 &&     pip install --no-cache-dir image-match==1.1.2 &&     pip install --no-cache-dir 'elasticsearch>=6.0.0,<7.0.0' &&     rm -rf /var/lib/apt/lists/*\n ---> Running in c1a3548771e7\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:3 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nGet:6 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nFetched 8616 kB in 1s (6756 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  gfortran-10 libgfortran-10-dev libgfortran5 libopenblas-pthread-dev\n  libopenblas0 libopenblas0-pthread\nSuggested packages:\n  gfortran-multilib gfortran-doc gfortran-10-multilib gfortran-10-doc\n  libcoarrays-dev\nThe following NEW packages will be installed:\n  gfortran gfortran-10 libgfortran-10-dev libgfortran5 libopenblas-dev\n  libopenblas-pthread-dev libopenblas0 libopenblas0-pthread\n0 upgraded, 8 newly installed, 0 to remove and 104 not upgraded.\nNeed to get 21.5 MB of archives.\nAfter this operation, 139 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libgfortran5 amd64 10.2.1-6 [727 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libgfortran-10-dev amd64 10.2.1-6 [769 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 gfortran-10 amd64 10.2.1-6 [9447 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 gfortran amd64 4:10.2.1-1 [1428 B]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 libopenblas0-pthread amd64 0.3.13+ds-3 [6034 kB]\nGet:6 http://deb.debian.org/debian bullseye/main amd64 libopenblas0 amd64 0.3.13+ds-3 [32.8 kB]\nGet:7 http://deb.debian.org/debian bullseye/main amd64 libopenblas-pthread-dev amd64 0.3.13+ds-3 [4477 kB]\nGet:8 http://deb.debian.org/debian bullseye/main amd64 libopenblas-dev amd64 0.3.13+ds-3 [44.1 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 21.5 MB in 0s (74.7 MB/s)\nSelecting previously unselected package libgfortran5:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23373 files and directories currently installed.)\r\nPreparing to unpack .../0-libgfortran5_10.2.1-6_amd64.deb ...\r\nUnpacking libgfortran5:amd64 (10.2.1-6) ...\r\nSelecting previously unselected package libgfortran-10-dev:amd64.\r\nPreparing to unpack .../1-libgfortran-10-dev_10.2.1-6_amd64.deb ...\r\nUnpacking libgfortran-10-dev:amd64 (10.2.1-6) ...\r\nSelecting previously unselected package gfortran-10.\r\nPreparing to unpack .../2-gfortran-10_10.2.1-6_amd64.deb ...\r\nUnpacking gfortran-10 (10.2.1-6) ...\r\nSelecting previously unselected package gfortran.\r\nPreparing to unpack .../3-gfortran_4%3a10.2.1-1_amd64.deb ...\r\nUnpacking gfortran (4:10.2.1-1) ...\r\nSelecting previously unselected package libopenblas0-pthread:amd64.\r\nPreparing to unpack .../4-libopenblas0-pthread_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas0-pthread:amd64 (0.3.13+ds-3) ...\r\nSelecting previously unselected package libopenblas0:amd64.\r\nPreparing to unpack .../5-libopenblas0_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas0:amd64 (0.3.13+ds-3) ...\r\nSelecting previously unselected package libopenblas-pthread-dev:amd64.\r\nPreparing to unpack .../6-libopenblas-pthread-dev_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas-pthread-dev:amd64 (0.3.13+ds-3) ...\r\nSelecting previously unselected package libopenblas-dev:amd64.\r\nPreparing to unpack .../7-libopenblas-dev_0.3.13+ds-3_amd64.deb ...\r\nUnpacking libopenblas-dev:amd64 (0.3.13+ds-3) ...\r\nSetting up libgfortran5:amd64 (10.2.1-6) ...\r\nSetting up libgfortran-10-dev:amd64 (10.2.1-6) ...\r\nSetting up libopenblas0-pthread:amd64 (0.3.13+ds-3) ...\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 to provide /usr/lib/x86_64-linux-gnu/libblas.so.3 (libblas.so.3-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so.3 to provide /usr/lib/x86_64-linux-gnu/liblapack.so.3 (liblapack.so.3-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblas.so.0 to provide /usr/lib/x86_64-linux-gnu/libopenblas.so.0 (libopenblas.so.0-x86_64-linux-gnu) in auto mode\r\nSetting up gfortran-10 (10.2.1-6) ...\r\nSetting up libopenblas0:amd64 (0.3.13+ds-3) ...\r\nSetting up libopenblas-pthread-dev:amd64 (0.3.13+ds-3) ...\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so to provide /usr/lib/x86_64-linux-gnu/libblas.so (libblas.so-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so to provide /usr/lib/x86_64-linux-gnu/liblapack.so (liblapack.so-x86_64-linux-gnu) in auto mode\r\nupdate-alternatives: using /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblas.so to provide /usr/lib/x86_64-linux-gnu/libopenblas.so (libopenblas.so-x86_64-linux-gnu) in auto mode\r\nSetting up gfortran (4:10.2.1-1) ...\r\nupdate-alternatives: using /usr/bin/gfortran to provide /usr/bin/f95 (f95) in auto mode\r\nupdate-alternatives: using /usr/bin/gfortran to provide /usr/bin/f77 (f77) in auto mode\r\nSetting up libopenblas-dev:amd64 (0.3.13+ds-3) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u2) ...\r\nCollecting numpy==1.12.1\n  Downloading numpy-1.12.1-cp36-cp36m-manylinux1_x86_64.whl (16.8 MB)\nInstalling collected packages: numpy\nSuccessfully installed numpy-1.12.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting scipy==0.19.0\n  Downloading scipy-0.19.0-cp36-cp36m-manylinux1_x86_64.whl (48.2 MB)\nRequirement already satisfied: numpy>=1.8.2 in /usr/local/lib/python3.6/site-packages (from scipy==0.19.0) (1.12.1)\nInstalling collected packages: scipy\nSuccessfully installed scipy-0.19.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting gunicorn==19.7.1\n  Downloading gunicorn-19.7.1-py2.py3-none-any.whl (111 kB)\nInstalling collected packages: gunicorn\nSuccessfully installed gunicorn-19.7.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting flask==0.12.2\n  Downloading Flask-0.12.2-py2.py3-none-any.whl (83 kB)\nCollecting click>=2.0\n  Downloading click-8.0.4-py3-none-any.whl (97 kB)\nCollecting Werkzeug>=0.7\n  Downloading Werkzeug-2.0.3-py3-none-any.whl (289 kB)\nCollecting itsdangerous>=0.21\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting Jinja2>=2.4\n  Downloading Jinja2-3.0.3-py3-none-any.whl (133 kB)\nCollecting importlib-metadata\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.0.1-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting dataclasses\n  Downloading dataclasses-0.8-py3-none-any.whl (19 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nInstalling collected packages: zipp, typing-extensions, MarkupSafe, importlib-metadata, dataclasses, Werkzeug, Jinja2, itsdangerous, click, flask\nSuccessfully installed Jinja2-3.0.3 MarkupSafe-2.0.1 Werkzeug-2.0.3 click-8.0.4 dataclasses-0.8 flask-0.12.2 importlib-metadata-4.8.3 itsdangerous-2.0.1 typing-extensions-4.1.1 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting image-match==1.1.2\n  Downloading image_match-1.1.2.tar.gz (18 kB)\nCollecting scikit-image<0.13,>=0.12\n  Downloading scikit-image-0.12.3.tar.gz (20.7 MB)\nCollecting elasticsearch<2.4,>=2.3\n  Downloading elasticsearch-2.3.0-py2.py3-none-any.whl (51 kB)\nCollecting urllib3<2.0,>=1.8\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting matplotlib>=1.3.1\n  Downloading matplotlib-3.3.4-cp36-cp36m-manylinux1_x86_64.whl (11.5 MB)\nCollecting six>=1.7.3\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting networkx>=1.8\n  Downloading networkx-2.5.1-py3-none-any.whl (1.6 MB)\nCollecting pillow>=2.1.0\n  Downloading Pillow-8.4.0-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)\nCollecting dask[array]>=0.5.0\n  Downloading dask-2021.3.0-py3-none-any.whl (925 kB)\nCollecting pyyaml\n  Downloading PyYAML-6.0-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (603 kB)\nCollecting numpy>=1.15.1\n  Downloading numpy-1.19.5-cp36-cp36m-manylinux2010_x86_64.whl (14.8 MB)\nCollecting toolz>=0.8.2\n  Downloading toolz-0.12.0-py3-none-any.whl (55 kB)\nCollecting python-dateutil>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting kiwisolver>=1.0.1\n  Downloading kiwisolver-1.3.1-cp36-cp36m-manylinux1_x86_64.whl (1.1 MB)\nCollecting cycler>=0.10\n  Downloading cycler-0.11.0-py3-none-any.whl (6.4 kB)\nCollecting pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\nCollecting decorator<5,>=4.3\n  Downloading decorator-4.4.2-py2.py3-none-any.whl (9.2 kB)\nBuilding wheels for collected packages: image-match, scikit-image\n  Building wheel for image-match (setup.py): started\n  Building wheel for image-match (setup.py): finished with status 'done'\n  Created wheel for image-match: filename=image_match-1.1.2-py3-none-any.whl size=21230 sha256=65eecdb0916ad5eb2657efe8cb3568db7762c413dc6fe1a2da93b577a2efd9d6\n  Stored in directory: /tmp/pip-ephem-wheel-cache-09nt4h4t/wheels/bb/9d/2c/83148bfa818d4936d3010262fce967bbdbf378c989dd03bdf1\n  Building wheel for scikit-image (setup.py): started\n  Building wheel for scikit-image (setup.py): still running...\n  Building wheel for scikit-image (setup.py): still running...\n  Building wheel for scikit-image (setup.py): still running...\n  Building wheel for scikit-image (setup.py): finished with status 'done'\n  Created wheel for scikit-image: filename=scikit_image-0.12.3-cp36-cp36m-linux_x86_64.whl size=31125540 sha256=1d015d82305b2168827183f58211e132e06b03e9c373e3077392626c8b5ac533\n  Stored in directory: /tmp/pip-ephem-wheel-cache-09nt4h4t/wheels/a6/cb/b9/5612dfd426179cc1603dfae1a16fb5ce19cea33dc2ec2ce90e\nSuccessfully built image-match scikit-image\nInstalling collected packages: six, pyyaml, toolz, python-dateutil, pyparsing, pillow, numpy, kiwisolver, decorator, dask, cycler, urllib3, networkx, matplotlib, scikit-image, elasticsearch, image-match\n  Attempting uninstall: numpy\n    Found existing installation: numpy 1.12.1\n    Uninstalling numpy-1.12.1:\n      Successfully uninstalled numpy-1.12.1\nSuccessfully installed cycler-0.11.0 dask-2021.3.0 decorator-4.4.2 elasticsearch-2.3.0 image-match-1.1.2 kiwisolver-1.3.1 matplotlib-3.3.4 networkx-2.5.1 numpy-1.19.5 pillow-8.4.0 pyparsing-3.0.9 python-dateutil-2.8.2 pyyaml-6.0 scikit-image-0.12.3 six-1.16.0 toolz-0.12.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mCollecting elasticsearch<7.0.0,>=6.0.0\n  Downloading elasticsearch-6.8.2-py2.py3-none-any.whl (90 kB)\nRequirement already satisfied: urllib3>=1.21.1 in /usr/local/lib/python3.6/site-packages (from elasticsearch<7.0.0,>=6.0.0) (1.26.13)\nInstalling collected packages: elasticsearch\n  Attempting uninstall: elasticsearch\n    Found existing installation: elasticsearch 2.3.0\n    Uninstalling elasticsearch-2.3.0:\n      Successfully uninstalled elasticsearch-2.3.0\n\u001b[91mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\nimage-match 1.1.2 requires elasticsearch<2.4,>=2.3, but you have elasticsearch 6.8.2 which is incompatible.\n\u001b[0mSuccessfully installed elasticsearch-6.8.2\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container c1a3548771e7\n ---> ac9b6d09b0f4\nStep 4/7 : COPY server.py wait-for-it.sh /\n ---> 46ab4a05296e\nStep 5/7 : EXPOSE 80\n ---> Running in 580c7a96d403\nRemoving intermediate container 580c7a96d403\n ---> 7952d0a8ab1d\nStep 6/7 : ENV PORT=80     WORKER_COUNT=4     ELASTICSEARCH_URL=elasticsearch:9200     ELASTICSEARCH_INDEX=images     ELASTICSEARCH_DOC_TYPE=images     ALL_ORIENTATIONS=true\n ---> Running in fb0809dc1050\nRemoving intermediate container fb0809dc1050\n ---> 2483aaece71d\nStep 7/7 : CMD gunicorn     -t 60     --access-logfile -     --access-logformat '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" - %(D)s'     -b 0.0.0.0:${PORT}     -w ${WORKER_COUNT}     server:app\n ---> Running in e3f516d6a137\nRemoving intermediate container e3f516d6a137\n ---> a560d79206db\nSuccessfully built a560d79206db\nSuccessfully tagged match:latest\n","stderr":"","imageSize":1450402954},"endTime":1672459958666}