{"repository":"https://github.com/joatuapp/joatu-v2","dockerfilePath":"Dockerfile","startTime":1672544912146,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/joatuapp/joatu-v2'...\n","error":null,"commit":"79d65b221b77158c125c5b6614cfbd016d198f26"},"originalBuild":{"startTimestamp":1672544913571,"endTimestamp":1672545000772,"error":null,"stdout":"Sending build context to Docker daemon  9.337MB\r\r\nStep 1/8 : FROM ruby:2.5.3\n2.5.3: Pulling from library/ruby\n22dbe790f715: Pulling fs layer\n0250231711a0: Pulling fs layer\n6fba9447437b: Pulling fs layer\nc2b4d327b352: Pulling fs layer\n270e1baa5299: Pulling fs layer\n01cbe6152974: Pulling fs layer\n4c07b7ee2381: Pulling fs layer\n0bb513165ae3: Pulling fs layer\n270e1baa5299: Waiting\n01cbe6152974: Waiting\n4c07b7ee2381: Waiting\n0bb513165ae3: Waiting\nc2b4d327b352: Waiting\n0250231711a0: Verifying Checksum\n0250231711a0: Download complete\n22dbe790f715: Verifying Checksum\n22dbe790f715: Download complete\n6fba9447437b: Verifying Checksum\n6fba9447437b: Download complete\n01cbe6152974: Verifying Checksum\n01cbe6152974: Download complete\nc2b4d327b352: Verifying Checksum\nc2b4d327b352: Download complete\n22dbe790f715: Pull complete\n0bb513165ae3: Verifying Checksum\n0bb513165ae3: Download complete\n0250231711a0: Pull complete\n4c07b7ee2381: Verifying Checksum\n4c07b7ee2381: Download complete\n270e1baa5299: Verifying Checksum\n270e1baa5299: Download complete\n6fba9447437b: Pull complete\nc2b4d327b352: Pull complete\n270e1baa5299: Pull complete\n01cbe6152974: Pull complete\n4c07b7ee2381: Pull complete\n0bb513165ae3: Pull complete\nDigest: sha256:ae790cc668ca4dd837399a801fbb235d22769ad3e899f8e1b409490d011ff2ba\nStatus: Downloaded newer image for ruby:2.5.3\n ---> 72aaaee1eea4\nStep 2/8 : RUN apt-get update -qq && apt-get install -y build-essential libpq-dev nodejs libssl-dev\n ---> Running in d03f076ac5eb\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  dpkg-dev fakeroot libalgorithm-diff-perl libalgorithm-diff-xs-perl\n  libalgorithm-merge-perl libdpkg-perl libfakeroot libpq5 libssl1.1 libuv1\nSuggested packages:\n  debian-keyring postgresql-doc-9.6\nRecommended packages:\n  libfile-fcntllock-perl liblocale-gettext-perl libssl-doc\nThe following NEW packages will be installed:\n  build-essential dpkg-dev fakeroot libalgorithm-diff-perl\n  libalgorithm-diff-xs-perl libalgorithm-merge-perl libfakeroot libuv1 nodejs\nThe following packages will be upgraded:\n  libdpkg-perl libpq-dev libpq5 libssl-dev libssl1.1\n5 upgraded, 9 newly installed, 0 to remove and 164 not upgraded.\nNeed to get 9938 kB of archives.\nAfter this operation, 17.0 MB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security stretch/updates/main amd64 libssl-dev amd64 1.1.0l-1~deb9u6 [1595 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 build-essential amd64 12.3 [7346 B]\nGet:3 http://deb.debian.org/debian stretch/main amd64 libfakeroot amd64 1.21-3.1 [45.7 kB]\nGet:4 http://deb.debian.org/debian stretch/main amd64 fakeroot amd64 1.21-3.1 [85.6 kB]\nGet:5 http://deb.debian.org/debian stretch/main amd64 libalgorithm-diff-perl all 1.19.03-1 [48.7 kB]\nGet:6 http://deb.debian.org/debian stretch/main amd64 libalgorithm-diff-xs-perl amd64 0.04-4+b2 [11.6 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 libalgorithm-merge-perl all 0.08-3 [12.7 kB]\nGet:8 http://deb.debian.org/debian stretch/main amd64 libuv1 amd64 1.9.1-3 [84.4 kB]\nGet:9 http://deb.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3440 kB]\nGet:10 http://security.debian.org/debian-security stretch/updates/main amd64 libssl1.1 amd64 1.1.0l-1~deb9u6 [1360 kB]\nGet:11 http://security.debian.org/debian-security stretch/updates/main amd64 libdpkg-perl all 1.18.26 [1290 kB]\nGet:12 http://security.debian.org/debian-security stretch/updates/main amd64 dpkg-dev all 1.18.26 [1597 kB]\nGet:13 http://security.debian.org/debian-security stretch/updates/main amd64 libpq-dev amd64 9.6.24-0+deb9u1 [220 kB]\nGet:14 http://security.debian.org/debian-security stretch/updates/main amd64 libpq5 amd64 9.6.24-0+deb9u1 [140 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 9938 kB in 0s (75.1 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29705 files and directories currently installed.)\r\nPreparing to unpack .../00-libssl-dev_1.1.0l-1~deb9u6_amd64.deb ...\r\nUnpacking libssl-dev:amd64 (1.1.0l-1~deb9u6) over (1.1.0j-1~deb9u1) ...\r\nPreparing to unpack .../01-libssl1.1_1.1.0l-1~deb9u6_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.0l-1~deb9u6) over (1.1.0j-1~deb9u1) ...\r\nPreparing to unpack .../02-libdpkg-perl_1.18.26_all.deb ...\r\nUnpacking libdpkg-perl (1.18.26) over (1.18.25) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../03-dpkg-dev_1.18.26_all.deb ...\r\nUnpacking dpkg-dev (1.18.26) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../04-build-essential_12.3_amd64.deb ...\r\nUnpacking build-essential (12.3) ...\r\nSelecting previously unselected package libfakeroot:amd64.\r\nPreparing to unpack .../05-libfakeroot_1.21-3.1_amd64.deb ...\r\nUnpacking libfakeroot:amd64 (1.21-3.1) ...\r\nSelecting previously unselected package fakeroot.\r\nPreparing to unpack .../06-fakeroot_1.21-3.1_amd64.deb ...\r\nUnpacking fakeroot (1.21-3.1) ...\r\nSelecting previously unselected package libalgorithm-diff-perl.\r\nPreparing to unpack .../07-libalgorithm-diff-perl_1.19.03-1_all.deb ...\r\nUnpacking libalgorithm-diff-perl (1.19.03-1) ...\r\nSelecting previously unselected package libalgorithm-diff-xs-perl.\r\nPreparing to unpack .../08-libalgorithm-diff-xs-perl_0.04-4+b2_amd64.deb ...\r\nUnpacking libalgorithm-diff-xs-perl (0.04-4+b2) ...\r\nSelecting previously unselected package libalgorithm-merge-perl.\r\nPreparing to unpack .../09-libalgorithm-merge-perl_0.08-3_all.deb ...\r\nUnpacking libalgorithm-merge-perl (0.08-3) ...\r\nPreparing to unpack .../10-libpq-dev_9.6.24-0+deb9u1_amd64.deb ...\r\nUnpacking libpq-dev (9.6.24-0+deb9u1) over (9.6.11-0+deb9u1) ...\r\nPreparing to unpack .../11-libpq5_9.6.24-0+deb9u1_amd64.deb ...\r\nUnpacking libpq5:amd64 (9.6.24-0+deb9u1) over (9.6.11-0+deb9u1) ...\r\nSelecting previously unselected package libuv1:amd64.\r\nPreparing to unpack .../12-libuv1_1.9.1-3_amd64.deb ...\r\nUnpacking libuv1:amd64 (1.9.1-3) ...\r\nSelecting previously unselected package nodejs.\r\nPreparing to unpack .../13-nodejs_4.8.2~dfsg-1_amd64.deb ...\r\nUnpacking nodejs (4.8.2~dfsg-1) ...\r\nSetting up libuv1:amd64 (1.9.1-3) ...\r\nSetting up libdpkg-perl (1.18.26) ...\r\nSetting up dpkg-dev (1.18.26) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up libssl1.1:amd64 (1.1.0l-1~deb9u6) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nSetting up libfakeroot:amd64 (1.21-3.1) ...\r\nSetting up libalgorithm-diff-perl (1.19.03-1) ...\r\nSetting up nodejs (4.8.2~dfsg-1) ...\r\nupdate-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode\r\nSetting up build-essential (12.3) ...\r\nSetting up libssl-dev:amd64 (1.1.0l-1~deb9u6) ...\r\nSetting up fakeroot (1.21-3.1) ...\r\nupdate-alternatives: using /usr/bin/fakeroot-sysv to provide /usr/bin/fakeroot (fakeroot) in auto mode\r\nSetting up libalgorithm-merge-perl (0.08-3) ...\r\nSetting up libpq5:amd64 (9.6.24-0+deb9u1) ...\r\nSetting up libalgorithm-diff-xs-perl (0.04-4+b2) ...\r\nSetting up libpq-dev (9.6.24-0+deb9u1) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nRemoving intermediate container d03f076ac5eb\n ---> 703f20f1fedb\nStep 3/8 : RUN mkdir /joatu\n ---> Running in c2ce2ee34fba\nRemoving intermediate container c2ce2ee34fba\n ---> 993a808b0ca3\nStep 4/8 : WORKDIR /joatu\n ---> Running in bee4ddcdafd5\nRemoving intermediate container bee4ddcdafd5\n ---> ba07a53f710a\nStep 5/8 : COPY Gemfile /joatu/Gemfile\n ---> 03c8e25200fe\nStep 6/8 : COPY Gemfile.lock /joatu/Gemfile.lock\n ---> 52acb9dec969\nStep 7/8 : RUN gem install bundler -v 2.0.2\n ---> Running in c68d89bb7fd2\nSuccessfully installed bundler-2.0.2\n1 gem installed\nRemoving intermediate container c68d89bb7fd2\n ---> 3950fcdad3ad\nStep 8/8 : COPY . /joatu\n ---> f415c085a6ac\nSuccessfully built f415c085a6ac\nSuccessfully tagged joatu-v2:latest\n","stderr":"","imageSize":934948396},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":2,"end":2,"columnStart":26,"columnEnd":88}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":2,"end":2,"columnStart":26,"columnEnd":88}}],"repairedDockerfile":"FROM ruby:2.5.3\n\nRUN apt-get update -qq && apt-get install --no-install-recommends -y build-essential libpq-dev nodejs libssl-dev\n\nRUN mkdir /joatu\nWORKDIR /joatu\nCOPY Gemfile /joatu/Gemfile\nCOPY Gemfile.lock /joatu/Gemfile.lock\n\nRUN gem install bundler -v 2.0.2\n\nCOPY . /joatu"},"repairedBuild":{"startTimestamp":1672545001144,"endTimestamp":1672545026857,"error":null,"stdout":"Sending build context to Docker daemon  9.337MB\r\r\nStep 1/8 : FROM ruby:2.5.3\n ---> 72aaaee1eea4\nStep 2/8 : RUN apt-get update -qq && apt-get install --no-install-recommends -y build-essential libpq-dev nodejs libssl-dev\n ---> Running in 7b0e8db8ed75\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  dpkg-dev libdpkg-perl libpq5 libssl1.1 libuv1\nSuggested packages:\n  debian-keyring postgresql-doc-9.6\nRecommended packages:\n  fakeroot libalgorithm-merge-perl libfile-fcntllock-perl\n  liblocale-gettext-perl libssl-doc\nThe following NEW packages will be installed:\n  build-essential dpkg-dev libuv1 nodejs\nThe following packages will be upgraded:\n  libdpkg-perl libpq-dev libpq5 libssl-dev libssl1.1\n5 upgraded, 4 newly installed, 0 to remove and 164 not upgraded.\nNeed to get 9734 kB of archives.\nAfter this operation, 16.5 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 build-essential amd64 12.3 [7346 B]\nGet:2 http://security.debian.org/debian-security stretch/updates/main amd64 libssl-dev amd64 1.1.0l-1~deb9u6 [1595 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 libuv1 amd64 1.9.1-3 [84.4 kB]\nGet:4 http://deb.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3440 kB]\nGet:5 http://security.debian.org/debian-security stretch/updates/main amd64 libssl1.1 amd64 1.1.0l-1~deb9u6 [1360 kB]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 libdpkg-perl all 1.18.26 [1290 kB]\nGet:7 http://security.debian.org/debian-security stretch/updates/main amd64 dpkg-dev all 1.18.26 [1597 kB]\nGet:8 http://security.debian.org/debian-security stretch/updates/main amd64 libpq-dev amd64 9.6.24-0+deb9u1 [220 kB]\nGet:9 http://security.debian.org/debian-security stretch/updates/main amd64 libpq5 amd64 9.6.24-0+deb9u1 [140 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 9734 kB in 0s (23.4 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 29705 files and directories currently installed.)\r\nPreparing to unpack .../0-libssl-dev_1.1.0l-1~deb9u6_amd64.deb ...\r\nUnpacking libssl-dev:amd64 (1.1.0l-1~deb9u6) over (1.1.0j-1~deb9u1) ...\r\nPreparing to unpack .../1-libssl1.1_1.1.0l-1~deb9u6_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.0l-1~deb9u6) over (1.1.0j-1~deb9u1) ...\r\nPreparing to unpack .../2-libdpkg-perl_1.18.26_all.deb ...\r\nUnpacking libdpkg-perl (1.18.26) over (1.18.25) ...\r\nSelecting previously unselected package dpkg-dev.\r\nPreparing to unpack .../3-dpkg-dev_1.18.26_all.deb ...\r\nUnpacking dpkg-dev (1.18.26) ...\r\nSelecting previously unselected package build-essential.\r\nPreparing to unpack .../4-build-essential_12.3_amd64.deb ...\r\nUnpacking build-essential (12.3) ...\r\nPreparing to unpack .../5-libpq-dev_9.6.24-0+deb9u1_amd64.deb ...\r\nUnpacking libpq-dev (9.6.24-0+deb9u1) over (9.6.11-0+deb9u1) ...\r\nPreparing to unpack .../6-libpq5_9.6.24-0+deb9u1_amd64.deb ...\r\nUnpacking libpq5:amd64 (9.6.24-0+deb9u1) over (9.6.11-0+deb9u1) ...\r\nSelecting previously unselected package libuv1:amd64.\r\nPreparing to unpack .../7-libuv1_1.9.1-3_amd64.deb ...\r\nUnpacking libuv1:amd64 (1.9.1-3) ...\r\nSelecting previously unselected package nodejs.\r\nPreparing to unpack .../8-nodejs_4.8.2~dfsg-1_amd64.deb ...\r\nUnpacking nodejs (4.8.2~dfsg-1) ...\r\nSetting up libuv1:amd64 (1.9.1-3) ...\r\nSetting up libdpkg-perl (1.18.26) ...\r\nSetting up dpkg-dev (1.18.26) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up libssl1.1:amd64 (1.1.0l-1~deb9u6) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nSetting up nodejs (4.8.2~dfsg-1) ...\r\nupdate-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode\r\nSetting up build-essential (12.3) ...\r\nSetting up libssl-dev:amd64 (1.1.0l-1~deb9u6) ...\r\nSetting up libpq5:amd64 (9.6.24-0+deb9u1) ...\r\nSetting up libpq-dev (9.6.24-0+deb9u1) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nRemoving intermediate container 7b0e8db8ed75\n ---> 386cdef2065d\nStep 3/8 : RUN mkdir /joatu\n ---> Running in 917aee28f9cb\nRemoving intermediate container 917aee28f9cb\n ---> 79d515e33370\nStep 4/8 : WORKDIR /joatu\n ---> Running in 523fe0186796\nRemoving intermediate container 523fe0186796\n ---> 41dcd74a50bb\nStep 5/8 : COPY Gemfile /joatu/Gemfile\n ---> 146f196865f2\nStep 6/8 : COPY Gemfile.lock /joatu/Gemfile.lock\n ---> bb731d22976c\nStep 7/8 : RUN gem install bundler -v 2.0.2\n ---> Running in bf221091bace\nSuccessfully installed bundler-2.0.2\n1 gem installed\nRemoving intermediate container bf221091bace\n ---> 0c65458b5ccb\nStep 8/8 : COPY . /joatu\n ---> 0e10440970e0\nSuccessfully built 0e10440970e0\nSuccessfully tagged joatu-v2:latest\n","stderr":"","imageSize":934459727},"endTime":1672545027170}