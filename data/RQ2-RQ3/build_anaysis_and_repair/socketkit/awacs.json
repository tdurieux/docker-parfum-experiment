{"repository":"https://github.com/socketkit/awacs","dockerfilePath":"Dockerfile","startTime":1672558930574,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/socketkit/awacs'...\n","error":null,"commit":"323b135f673c936a3894759e4d6b9d52a315350a"},"originalBuild":{"startTimestamp":1672558931487,"endTimestamp":1672559055406,"error":null,"stdout":"Sending build context to Docker daemon  274.4kB\r\r\nStep 1/14 : FROM mhart/alpine-node:16\n16: Pulling from mhart/alpine-node\n2b7421b2895f: Pulling fs layer\n2b7421b2895f: Verifying Checksum\n2b7421b2895f: Download complete\n2b7421b2895f: Pull complete\nDigest: sha256:c9014e9e5b33f29d47c867ea548edc0235ba71677f40456409a44c278d8a8e01\nStatus: Downloaded newer image for mhart/alpine-node:16\n ---> 40c8537c85c4\nStep 2/14 : WORKDIR /app\n ---> Running in 2cbf38162279\nRemoving intermediate container 2cbf38162279\n ---> fefc7e9fa9d5\nStep 3/14 : COPY package.json pnpm-lock.yaml ./\n ---> a937b00aec42\nStep 4/14 : RUN npm install pnpm -g\n ---> Running in 65ed4318275f\n\nadded 1 package, and audited 2 packages in 3s\n\n1 package is looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm \u001b[0m\u001b[91mnotice \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 7.19.1 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 65ed4318275f\n ---> 5cae39cbf2d4\nStep 5/14 : RUN pnpm install\n ---> Running in 53882839c4d9\nProgress: resolved 1, reused 0, downloaded 0, added 0\nProgress: resolved 12, reused 0, downloaded 12, added 0\nProgress: resolved 33, reused 0, downloaded 32, added 0\nProgress: resolved 73, reused 0, downloaded 67, added 0\nProgress: resolved 187, reused 0, downloaded 185, added 0\nProgress: resolved 340, reused 0, downloaded 329, added 0\nProgress: resolved 544, reused 0, downloaded 530, added 0\nProgress: resolved 656, reused 0, downloaded 655, added 0\nProgress: resolved 676, reused 0, downloaded 673, added 0\nPackages: +676\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nPackages are hard linked from the content-addressable store to the virtual store.\n  Content-addressable store is at: /root/.local/share/pnpm/store/v3\n  Virtual store is at:             node_modules/.pnpm\nProgress: resolved 676, reused 0, downloaded 675, added 676, done\n.../node_modules/core-js-pure postinstall$ node -e \"try{require('./postinstall')}catch(e){}\"\n.../node_modules/protobufjs postinstall$ node scripts/postinstall\n.../node_modules/core-js-pure postinstall: Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\n.../node_modules/core-js-pure postinstall: The project needs your help! Please consider supporting of core-js:\n.../node_modules/core-js-pure postinstall: > https://opencollective.com/core-js \n.../node_modules/core-js-pure postinstall: > https://patreon.com/zloirock \n.../node_modules/core-js-pure postinstall: > https://paypal.me/zloirock \n.../node_modules/core-js-pure postinstall: > bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \n.../node_modules/core-js-pure postinstall: Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\n.../node_modules/core-js-pure postinstall: Done\n.../node_modules/protobufjs postinstall: Done\n\ndependencies:\n+ @grpc/grpc-js 1.4.4\n+ @grpc/proto-loader 0.6.7\n+ @socketkit/ajv-base64 1.0.1\n+ @socketkit/ajv-currency-code 1.0.1\n+ @socketkit/ajv-locale-code 1.0.1\n+ @socketkit/ajv-semver 1.0.1\n+ @socketkit/ajv-uuid 1.0.1\n+ ajv 8.8.2\n+ ajv-formats 2.1.1\n+ cls-rtracer 2.6.0\n+ consola 2.15.3\n+ dayjs 1.10.7\n+ fastify 3.24.1\n+ fastify-auth 1.1.0\n+ fastify-compress 3.6.1\n+ fastify-cors 6.0.2\n+ fastify-helmet 5.3.2\n+ fastify-metrics 8.0.0\n+ fastify-raw-body 3.2.0\n+ fastify-sensible 3.1.2\n+ fastify-swagger 4.12.6\n+ knex 0.95.14\n+ mali 0.46.0\n+ mali-ajv 0.4.0\n+ pg 8.7.1\n+ semver 7.3.5\n+ under-pressure 5.8.0\n\ndevDependencies:\n+ @anonrig/eslint-config 0.2.1\n+ ava 4.0.0-rc.1\n+ axios 0.24.0\n+ c8 7.10.0\n+ dotenv 10.0.0\n+ eslint 8.3.0\n+ faker 5.5.3\n+ quibble 0.6.6\n\nDone in 10.6s\nRemoving intermediate container 53882839c4d9\n ---> 1b0d678212e9\nStep 6/14 : FROM mhart/alpine-node:slim-16\nslim-16: Pulling from mhart/alpine-node\n30e7d0420d9c: Pulling fs layer\n30e7d0420d9c: Verifying Checksum\n30e7d0420d9c: Download complete\n30e7d0420d9c: Pull complete\nDigest: sha256:977027f3c274d3c977db5d4a362900ba4da23f3616803a7f9e8599e66b41d2fd\nStatus: Downloaded newer image for mhart/alpine-node:slim-16\n ---> 20e49d113d56\nStep 7/14 : WORKDIR /app\n ---> Running in faa6fb00a4e7\nRemoving intermediate container faa6fb00a4e7\n ---> 3dcf402ef3dd\nStep 8/14 : COPY --from=0 /app .\n ---> 1ad3b35163d7\nStep 9/14 : COPY . .\n ---> 23671a9dc400\nStep 10/14 : ENV NODE_ENV=production\n ---> Running in 2ad14783b661\nRemoving intermediate container 2ad14783b661\n ---> d825c377fc66\nStep 11/14 : ENV TZ=UTC\n ---> Running in abf9ecb93238\nRemoving intermediate container abf9ecb93238\n ---> 499b729cfb59\nStep 12/14 : EXPOSE 3002\n ---> Running in 59ed1e8fcb48\nRemoving intermediate container 59ed1e8fcb48\n ---> 33cf77ef29a5\nStep 13/14 : EXPOSE 4001\n ---> Running in 08bed021136b\nRemoving intermediate container 08bed021136b\n ---> 31c22825ee26\nStep 14/14 : CMD [\"node\", \"src/index.js\"]\n ---> Running in 90d7aa7e9414\nRemoving intermediate container 90d7aa7e9414\n ---> 471febfcd26a\nSuccessfully built 471febfcd26a\nSuccessfully tagged awacs:latest\n","stderr":"","imageSize":175252909},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":23}}],"repairedDockerfile":"FROM mhart/alpine-node:16\nWORKDIR /app\nCOPY package.json pnpm-lock.yaml ./\nRUN npm install pnpm -g\nRUN pnpm install\n\nFROM mhart/alpine-node:slim-16\nWORKDIR /app\nCOPY --from=0 /app .\nCOPY . .\nENV NODE_ENV=production\nENV TZ=UTC\nEXPOSE 3002\nEXPOSE 4001\n\nCMD [\"node\", \"src/index.js\"]\n"},"repairedBuild":{"startTimestamp":1672559057919,"endTimestamp":1672559137524,"error":null,"stdout":"Sending build context to Docker daemon  274.4kB\r\r\nStep 1/14 : FROM mhart/alpine-node:16\n ---> 40c8537c85c4\nStep 2/14 : WORKDIR /app\n ---> Running in dc82014907b7\nRemoving intermediate container dc82014907b7\n ---> b2073b0abbd0\nStep 3/14 : COPY package.json pnpm-lock.yaml ./\n ---> 7966481aefd7\nStep 4/14 : RUN npm install pnpm -g\n ---> Running in 646d3580f33a\n\nadded 1 package, and audited 2 packages in 2s\n\n1 package is looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm \u001b[0m\u001b[91mnotice \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 7.19.1 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 646d3580f33a\n ---> d4cd3f9ef2fa\nStep 5/14 : RUN pnpm install\n ---> Running in 3bd0c32b40bb\nProgress: resolved 1, reused 0, downloaded 0, added 0\nProgress: resolved 32, reused 0, downloaded 29, added 0\nProgress: resolved 97, reused 0, downloaded 94, added 0\nProgress: resolved 268, reused 0, downloaded 258, added 0\nProgress: resolved 499, reused 0, downloaded 491, added 0\nProgress: resolved 665, reused 0, downloaded 656, added 0\nPackages: +676\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nPackages are hard linked from the content-addressable store to the virtual store.\n  Content-addressable store is at: /root/.local/share/pnpm/store/v3\n  Virtual store is at:             node_modules/.pnpm\nProgress: resolved 676, reused 0, downloaded 674, added 140\nProgress: resolved 676, reused 0, downloaded 674, added 529\n.../node_modules/core-js-pure postinstall$ node -e \"try{require('./postinstall')}catch(e){}\"\n.../node_modules/protobufjs postinstall$ node scripts/postinstall\n.../node_modules/core-js-pure postinstall: Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\n.../node_modules/core-js-pure postinstall: The project needs your help! Please consider supporting of core-js:\n.../node_modules/core-js-pure postinstall: > https://opencollective.com/core-js \n.../node_modules/core-js-pure postinstall: > https://patreon.com/zloirock \n.../node_modules/core-js-pure postinstall: > https://paypal.me/zloirock \n.../node_modules/core-js-pure postinstall: > bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \n.../node_modules/core-js-pure postinstall: Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\n.../node_modules/protobufjs postinstall: Done\n.../node_modules/core-js-pure postinstall: Done\nProgress: resolved 676, reused 0, downloaded 675, added 676, done\n\ndependencies:\n+ @grpc/grpc-js 1.4.4\n+ @grpc/proto-loader 0.6.7\n+ @socketkit/ajv-base64 1.0.1\n+ @socketkit/ajv-currency-code 1.0.1\n+ @socketkit/ajv-locale-code 1.0.1\n+ @socketkit/ajv-semver 1.0.1\n+ @socketkit/ajv-uuid 1.0.1\n+ ajv 8.8.2\n+ ajv-formats 2.1.1\n+ cls-rtracer 2.6.0\n+ consola 2.15.3\n+ dayjs 1.10.7\n+ fastify 3.24.1\n+ fastify-auth 1.1.0\n+ fastify-compress 3.6.1\n+ fastify-cors 6.0.2\n+ fastify-helmet 5.3.2\n+ fastify-metrics 8.0.0\n+ fastify-raw-body 3.2.0\n+ fastify-sensible 3.1.2\n+ fastify-swagger 4.12.6\n+ knex 0.95.14\n+ mali 0.46.0\n+ mali-ajv 0.4.0\n+ pg 8.7.1\n+ semver 7.3.5\n+ under-pressure 5.8.0\n\ndevDependencies:\n+ @anonrig/eslint-config 0.2.1\n+ ava 4.0.0-rc.1\n+ axios 0.24.0\n+ c8 7.10.0\n+ dotenv 10.0.0\n+ eslint 8.3.0\n+ faker 5.5.3\n+ quibble 0.6.6\n\nDone in 9.1s\nRemoving intermediate container 3bd0c32b40bb\n ---> d3b5149ea626\nStep 6/14 : FROM mhart/alpine-node:slim-16\n ---> 20e49d113d56\nStep 7/14 : WORKDIR /app\n ---> Running in d2b41d702b26\nRemoving intermediate container d2b41d702b26\n ---> ebfaad316022\nStep 8/14 : COPY --from=0 /app .\n ---> bd9781d2cfb7\nStep 9/14 : COPY . .\n ---> 740c5c658707\nStep 10/14 : ENV NODE_ENV=production\n ---> Running in 9c9dbe3a8bc8\nRemoving intermediate container 9c9dbe3a8bc8\n ---> 74c9a78de7b2\nStep 11/14 : ENV TZ=UTC\n ---> Running in 2c7e5ec6da70\nRemoving intermediate container 2c7e5ec6da70\n ---> b8628167a1f9\nStep 12/14 : EXPOSE 3002\n ---> Running in 30bba28a470d\nRemoving intermediate container 30bba28a470d\n ---> 8d1ed6e628dc\nStep 13/14 : EXPOSE 4001\n ---> Running in f1e89a7a05d7\nRemoving intermediate container f1e89a7a05d7\n ---> aac3597d8f3f\nStep 14/14 : CMD [\"node\", \"src/index.js\"]\n ---> Running in dffd6c35c884\nRemoving intermediate container dffd6c35c884\n ---> c9282efe8690\nSuccessfully built c9282efe8690\nSuccessfully tagged awacs:latest\n","stderr":"","imageSize":175252909},"endTime":1672559138024}