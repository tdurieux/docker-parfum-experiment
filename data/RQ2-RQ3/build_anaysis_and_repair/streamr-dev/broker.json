{"repository":"https://github.com/streamr-dev/broker","dockerfilePath":"Dockerfile","startTime":1672724854752,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/streamr-dev/broker'...\n","error":null,"commit":"0144614286c620c74e5bae4baae9bf1e403ff2ea"},"originalBuild":{"startTimestamp":1672724855747,"endTimestamp":1672725451663,"error":null,"stdout":"Sending build context to Docker daemon  675.3kB\r\r\nStep 1/17 : FROM node:14-buster as build\n14-buster: Pulling from library/node\nc7c50787e2da: Pulling fs layer\naff359114acb: Pulling fs layer\n821dc261e045: Pulling fs layer\n3790459d63d5: Pulling fs layer\nc09b016fff62: Pulling fs layer\n5348855a40c0: Pulling fs layer\n06a6920a92b8: Pulling fs layer\n56023b82801b: Pulling fs layer\ne7b01bcb8f88: Pulling fs layer\n56023b82801b: Waiting\n06a6920a92b8: Waiting\ne7b01bcb8f88: Waiting\n3790459d63d5: Waiting\n5348855a40c0: Waiting\nc09b016fff62: Waiting\n821dc261e045: Verifying Checksum\n821dc261e045: Download complete\naff359114acb: Verifying Checksum\naff359114acb: Download complete\nc7c50787e2da: Verifying Checksum\nc7c50787e2da: Download complete\n5348855a40c0: Verifying Checksum\n5348855a40c0: Download complete\n3790459d63d5: Verifying Checksum\n3790459d63d5: Download complete\n56023b82801b: Verifying Checksum\n56023b82801b: Download complete\n06a6920a92b8: Verifying Checksum\n06a6920a92b8: Download complete\ne7b01bcb8f88: Verifying Checksum\ne7b01bcb8f88: Download complete\nc7c50787e2da: Pull complete\nc09b016fff62: Verifying Checksum\nc09b016fff62: Download complete\naff359114acb: Pull complete\n821dc261e045: Pull complete\n3790459d63d5: Pull complete\nc09b016fff62: Pull complete\n5348855a40c0: Pull complete\n06a6920a92b8: Pull complete\n56023b82801b: Pull complete\ne7b01bcb8f88: Pull complete\nDigest: sha256:b6ab85c15f1c372bca3bde8585fbf5739b679aa9119f46e7d2bd41c1dcc05959\nStatus: Downloaded newer image for node:14-buster\n ---> 0f2c7f307e4d\nStep 2/17 : WORKDIR /usr/src/broker\n ---> Running in 19ea4815c3e5\nRemoving intermediate container 19ea4815c3e5\n ---> fb55fbfc0b3e\nStep 3/17 : COPY . .\n ---> 722de6f0047c\nStep 4/17 : RUN npm ci --only=production\n ---> Running in 3f21dd0a29fb\n\n> bufferutil@4.0.3 install /usr/src/broker/node_modules/bufferutil\n> node-gyp-build\n\n\n> utf-8-validate@5.0.4 install /usr/src/broker/node_modules/utf-8-validate\n> node-gyp-build\n\n\n> core-js-pure@3.10.0 postinstall /usr/src/broker/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> secp256k1@4.0.2 install /usr/src/broker/node_modules/secp256k1\n> node-gyp-build || exit 0\n\n\n> node-datachannel@0.1.4 install /usr/src/broker/node_modules/node-datachannel\n> prebuild-install || (npm install --ignore-scripts && npm run _prebuild)\n\n\n> node-webcrypto-ossl@2.1.2 install /usr/src/broker/node_modules/node-webcrypto-ossl\n> node-gyp rebuild\n\nmake: Entering directory '/usr/src/broker/node_modules/node-webcrypto-ossl/build'\n  CXX(target) Release/obj.target/nodessl/src/main.o\n\u001b[91mIn file included from ../../nan/nan.h:56,\n                 from ../src/node/../core/common.h:8,\n                 from ../src/node/common.h:4,\n                 from ../src/main.cpp:1:\n/root/.cache/node-gyp/14.21.2/include/node/node.h:793:43: warning: cast between incompatible function types from 'void (*)(Nan::ADDON_REGISTER_FUNCTION_ARGS_TYPE)' {aka 'void (*)(v8::Local<v8::Object>)'} to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n       (node::addon_register_func) (regfunc),                          \\\n                                           ^\n/root/.cache/node-gyp/14.21.2/include/node/node.h:827:3: note: in expansion of macro 'NODE_MODULE_X'\n   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n   ^~~~~~~~~~~~~\n../src/main.cpp:93:1: note: in expansion of macro 'NODE_MODULE'\n NODE_MODULE(nodessl, InitModule);\n ^~~~~~~~~~~\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/core/key_exp.o\n  CXX(target) Release/obj.target/nodessl/src/core/scoped_ssl.o\n  CXX(target) Release/obj.target/nodessl/src/core/logger.o\n  CXX(target) Release/obj.target/nodessl/src/core/excep.o\n  CXX(target) Release/obj.target/nodessl/src/core/digest.o\n  CXX(target) Release/obj.target/nodessl/src/core/bn.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_gen.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pkcs1.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_oaep.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pss.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_gen.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dsa.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dh.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_gen.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ecb.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_cbc.o\n\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::wrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:111:98: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  if (AES_set_encrypt_key((const byte*)this->value->c_str(), (const int)(this->value->length() * 8), &aes_key) < 0)\n                                                                                                  ^\n\u001b[0m\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::unwrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:138:92: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  if (AES_set_decrypt_key((const byte*)this->value->c_str(), (const int)this->value->length() * 8, &aes_key) < 0)\n                                                                                            ^\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/aes/aes_gcm.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ctr.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_gen.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_sign.o\n  CXX(target) Release/obj.target/nodessl/src/pbkdf2/pbkdf2_derive.o\n  CXX(target) Release/obj.target/nodessl/src/node/common.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_key.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_core.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_rsa.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_ec.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_core.o\n  SOLINK_MODULE(target) Release/obj.target/nodessl.node\n  COPY Release/nodessl.node\nmake: Leaving directory '/usr/src/broker/node_modules/node-webcrypto-ossl/build'\n\u001b[91mnpm WARN lifecycle\u001b[0m\u001b[91m streamr-broker@20.0.0~prepare: cannot run in wd streamr-broker@20.0.0 tsc -p tsconfig-build.json (wd=/usr/src/broker)\n\u001b[0madded 505 packages in 431.739s\nRemoving intermediate container 3f21dd0a29fb\n ---> 07884b760822\nStep 5/17 : RUN npm run build\n ---> Running in 58af8daadf9d\n\n> streamr-broker@20.0.0 build /usr/src/broker\n> tsc -p tsconfig-build.json\n\nRemoving intermediate container 58af8daadf9d\n ---> feb5477404a5\nStep 6/17 : FROM node:14-buster-slim\n14-buster-slim: Pulling from library/node\nb52ebda398ed: Already exists\nab06655d5b64: Pulling fs layer\n004ee477fa6b: Pulling fs layer\n81cc79ae28a7: Pulling fs layer\n2fd0fb832691: Pulling fs layer\n2fd0fb832691: Waiting\nab06655d5b64: Download complete\n81cc79ae28a7: Verifying Checksum\n81cc79ae28a7: Download complete\nab06655d5b64: Pull complete\n2fd0fb832691: Download complete\n004ee477fa6b: Verifying Checksum\n004ee477fa6b: Download complete\n004ee477fa6b: Pull complete\n81cc79ae28a7: Pull complete\n2fd0fb832691: Pull complete\nDigest: sha256:5fc18b7895980374c592ba1b077e70024bba6d890fc4479b2138f7a22e35e497\nStatus: Downloaded newer image for node:14-buster-slim\n ---> f38f046ab785\nStep 7/17 : RUN apt-get update && apt-get install --assume-yes --no-install-recommends curl \t&& apt-get clean \t&& rm -rf /var/lib/apt/lists/*\n ---> Running in 9dac9fb11ce7\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (3957 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  lsb-base\nUse 'apt autoremove' to remove it.\nThe following additional packages will be installed:\n  libcurl4 libgssapi-krb5-2 libk5crypto3 libkeyutils1 libkrb5-3\n  libkrb5support0 libldap-2.4-2 libldap-common libnghttp2-14 libpsl5 librtmp1\n  libsasl2-2 libsasl2-modules-db libssh2-1 libssl1.1\nSuggested packages:\n  krb5-doc krb5-user\nRecommended packages:\n  ca-certificates krb5-locales publicsuffix libsasl2-modules\nThe following NEW packages will be installed:\n  curl libcurl4 libgssapi-krb5-2 libk5crypto3 libkeyutils1 libkrb5-3\n  libkrb5support0 libldap-2.4-2 libldap-common libnghttp2-14 libpsl5 librtmp1\n  libsasl2-2 libsasl2-modules-db libssh2-1 libssl1.1\n0 upgraded, 16 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 3708 kB of archives.\nAfter this operation, 9143 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libkeyutils1 amd64 1.6-6 [15.0 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates/main amd64 libkrb5support0 amd64 1.17-3+deb10u5 [66.0 kB]\nGet:3 http://deb.debian.org/debian-security buster/updates/main amd64 libk5crypto3 amd64 1.17-3+deb10u5 [122 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 libkrb5-3 amd64 1.17-3+deb10u5 [369 kB]\nGet:6 http://deb.debian.org/debian-security buster/updates/main amd64 libgssapi-krb5-2 amd64 1.17-3+deb10u5 [159 kB]\nGet:7 http://deb.debian.org/debian buster/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-1+deb10u2 [69.2 kB]\nGet:8 http://deb.debian.org/debian buster/main amd64 libsasl2-2 amd64 2.1.27+dfsg-1+deb10u2 [106 kB]\nGet:9 http://deb.debian.org/debian buster/main amd64 libldap-common all 2.4.47+dfsg-3+deb10u7 [90.1 kB]\nGet:10 http://deb.debian.org/debian buster/main amd64 libldap-2.4-2 amd64 2.4.47+dfsg-3+deb10u7 [224 kB]\nGet:11 http://deb.debian.org/debian buster/main amd64 libnghttp2-14 amd64 1.36.0-2+deb10u1 [85.0 kB]\nGet:12 http://deb.debian.org/debian buster/main amd64 libpsl5 amd64 0.20.2-2 [53.7 kB]\nGet:13 http://deb.debian.org/debian buster/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2 [60.5 kB]\nGet:14 http://deb.debian.org/debian buster/main amd64 libssh2-1 amd64 1.8.0-2.1 [140 kB]\nGet:15 http://deb.debian.org/debian-security buster/updates/main amd64 libcurl4 amd64 7.64.0-4+deb10u3 [333 kB]\nGet:16 http://deb.debian.org/debian-security buster/updates/main amd64 curl amd64 7.64.0-4+deb10u3 [265 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 3708 kB in 0s (20.8 MB/s)\nSelecting previously unselected package libkeyutils1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6469 files and directories currently installed.)\r\nPreparing to unpack .../00-libkeyutils1_1.6-6_amd64.deb ...\r\nUnpacking libkeyutils1:amd64 (1.6-6) ...\r\nSelecting previously unselected package libkrb5support0:amd64.\r\nPreparing to unpack .../01-libkrb5support0_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libkrb5support0:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libk5crypto3:amd64.\r\nPreparing to unpack .../02-libk5crypto3_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libk5crypto3:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libssl1.1:amd64.\r\nPreparing to unpack .../03-libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package libkrb5-3:amd64.\r\nPreparing to unpack .../04-libkrb5-3_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libkrb5-3:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libgssapi-krb5-2:amd64.\r\nPreparing to unpack .../05-libgssapi-krb5-2_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libgssapi-krb5-2:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libsasl2-modules-db:amd64.\r\nPreparing to unpack .../06-libsasl2-modules-db_2.1.27+dfsg-1+deb10u2_amd64.deb ...\r\nUnpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSelecting previously unselected package libsasl2-2:amd64.\r\nPreparing to unpack .../07-libsasl2-2_2.1.27+dfsg-1+deb10u2_amd64.deb ...\r\nUnpacking libsasl2-2:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSelecting previously unselected package libldap-common.\r\nPreparing to unpack .../08-libldap-common_2.4.47+dfsg-3+deb10u7_all.deb ...\r\nUnpacking libldap-common (2.4.47+dfsg-3+deb10u7) ...\r\nSelecting previously unselected package libldap-2.4-2:amd64.\r\nPreparing to unpack .../09-libldap-2.4-2_2.4.47+dfsg-3+deb10u7_amd64.deb ...\r\nUnpacking libldap-2.4-2:amd64 (2.4.47+dfsg-3+deb10u7) ...\r\nSelecting previously unselected package libnghttp2-14:amd64.\r\nPreparing to unpack .../10-libnghttp2-14_1.36.0-2+deb10u1_amd64.deb ...\r\nUnpacking libnghttp2-14:amd64 (1.36.0-2+deb10u1) ...\r\nSelecting previously unselected package libpsl5:amd64.\r\nPreparing to unpack .../11-libpsl5_0.20.2-2_amd64.deb ...\r\nUnpacking libpsl5:amd64 (0.20.2-2) ...\r\nSelecting previously unselected package librtmp1:amd64.\r\nPreparing to unpack .../12-librtmp1_2.4+20151223.gitfa8646d.1-2_amd64.deb ...\r\nUnpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2) ...\r\nSelecting previously unselected package libssh2-1:amd64.\r\nPreparing to unpack .../13-libssh2-1_1.8.0-2.1_amd64.deb ...\r\nUnpacking libssh2-1:amd64 (1.8.0-2.1) ...\r\nSelecting previously unselected package libcurl4:amd64.\r\nPreparing to unpack .../14-libcurl4_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.64.0-4+deb10u3) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../15-curl_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking curl (7.64.0-4+deb10u3) ...\r\nSetting up libkeyutils1:amd64 (1.6-6) ...\r\nSetting up libpsl5:amd64 (0.20.2-2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up libnghttp2-14:amd64 (1.36.0-2+deb10u1) ...\r\nSetting up libldap-common (2.4.47+dfsg-3+deb10u7) ...\r\nSetting up libkrb5support0:amd64 (1.17-3+deb10u5) ...\r\nSetting up libsasl2-modules-db:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSetting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2) ...\r\nSetting up libk5crypto3:amd64 (1.17-3+deb10u5) ...\r\nSetting up libsasl2-2:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSetting up libssh2-1:amd64 (1.8.0-2.1) ...\r\nSetting up libkrb5-3:amd64 (1.17-3+deb10u5) ...\r\nSetting up libldap-2.4-2:amd64 (2.4.47+dfsg-3+deb10u7) ...\r\nSetting up libgssapi-krb5-2:amd64 (1.17-3+deb10u5) ...\r\nSetting up libcurl4:amd64 (7.64.0-4+deb10u3) ...\r\nSetting up curl (7.64.0-4+deb10u3) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container 9dac9fb11ce7\n ---> aa7405760e2a\nStep 8/17 : COPY --from=build /usr/src/broker /usr/src/broker\n ---> 6499748d4e2c\nStep 9/17 : WORKDIR /usr/src/broker\n ---> Running in 56c33a28c8f8\nRemoving intermediate container 56c33a28c8f8\n ---> ab3e70b374c0\nStep 10/17 : EXPOSE 30315\n ---> Running in 16e10c1be0f6\nRemoving intermediate container 16e10c1be0f6\n ---> 784883b02b64\nStep 11/17 : EXPOSE 8890\n ---> Running in 647871ba190e\nRemoving intermediate container 647871ba190e\n ---> 6b54fe09cc71\nStep 12/17 : EXPOSE 8891\n ---> Running in 5fccdf844909\nRemoving intermediate container 5fccdf844909\n ---> 46df5c0a921b\nStep 13/17 : EXPOSE 9000\n ---> Running in 9d0bc6dc04d7\nRemoving intermediate container 9d0bc6dc04d7\n ---> a4fc1d48235f\nStep 14/17 : ENV LOG_LEVEL=info\n ---> Running in 8527cf6baa5a\nRemoving intermediate container 8527cf6baa5a\n ---> 0bae116b9c98\nStep 15/17 : ENV CONFIG_FILE configs/docker-1.env.json\n ---> Running in 935a357fca56\nRemoving intermediate container 935a357fca56\n ---> a95e38b572f8\nStep 16/17 : ENV STREAMR_URL http://10.200.10.1\n ---> Running in 81ef6d39eb58\nRemoving intermediate container 81ef6d39eb58\n ---> 16f9a18486dc\nStep 17/17 : CMD node bin/broker.js ${CONFIG_FILE} --streamrUrl=${STREAMR_URL}\n ---> Running in 62c9707fca78\nRemoving intermediate container 62c9707fca78\n ---> f1f0d88f06b4\nSuccessfully built f1f0d88f06b4\nSuccessfully tagged broker:latest\n","stderr":"","imageSize":511383139},"repair":{"violations":[{"name":"ruleAptGetInstallUseY","position":{"start":8,"end":8,"columnStart":22,"columnEnd":79}}],"repairedDockerfile":"FROM node:14-buster as build\nWORKDIR /usr/src/broker\nCOPY . .\nRUN npm ci --only=production\n# Build TypeScript files (\"npm ci\" doesn't trigger the build automatically: https://github.com/npm/npm/issues/17346)\nRUN npm run build\n\nFROM node:14-buster-slim\nRUN apt-get update && apt-get install -y --assume-yes --no-install-recommends curl \\\n\t&& apt-get clean \\\n\t&& rm -rf /var/lib/apt/lists/*\nCOPY --from=build /usr/src/broker /usr/src/broker\nWORKDIR /usr/src/broker\n\n# Make ports available to the world outside this container\nEXPOSE 30315\n# WebSocket\nEXPOSE 8890\n# HTTP\nEXPOSE 8891\n# MQTT\nEXPOSE 9000\n\nENV LOG_LEVEL=info\nENV CONFIG_FILE configs/docker-1.env.json\nENV STREAMR_URL http://10.200.10.1\n\nCMD node bin/broker.js ${CONFIG_FILE} --streamrUrl=${STREAMR_URL}\n"},"repairedBuild":{"startTimestamp":1672725453102,"endTimestamp":1672726047271,"error":null,"stdout":"Sending build context to Docker daemon  675.3kB\r\r\nStep 1/17 : FROM node:14-buster as build\n ---> 0f2c7f307e4d\nStep 2/17 : WORKDIR /usr/src/broker\n ---> Running in e58c538956c1\nRemoving intermediate container e58c538956c1\n ---> a0a0910003b4\nStep 3/17 : COPY . .\n ---> 13b6337686b7\nStep 4/17 : RUN npm ci --only=production\n ---> Running in e4bc3352aa91\n\n> bufferutil@4.0.3 install /usr/src/broker/node_modules/bufferutil\n> node-gyp-build\n\n\n> utf-8-validate@5.0.4 install /usr/src/broker/node_modules/utf-8-validate\n> node-gyp-build\n\n\n> core-js-pure@3.10.0 postinstall /usr/src/broker/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> secp256k1@4.0.2 install /usr/src/broker/node_modules/secp256k1\n> node-gyp-build || exit 0\n\n\n> node-datachannel@0.1.4 install /usr/src/broker/node_modules/node-datachannel\n> prebuild-install || (npm install --ignore-scripts && npm run _prebuild)\n\n\n> node-webcrypto-ossl@2.1.2 install /usr/src/broker/node_modules/node-webcrypto-ossl\n> node-gyp rebuild\n\nmake: Entering directory '/usr/src/broker/node_modules/node-webcrypto-ossl/build'\n  CXX(target) Release/obj.target/nodessl/src/main.o\n\u001b[91mIn file included from ../../nan/nan.h:56,\n                 from ../src/node/../core/common.h:8,\n                 from ../src/node/common.h:4,\n                 from ../src/main.cpp:1:\n/root/.cache/node-gyp/14.21.2/include/node/node.h:793:43: warning: cast between incompatible function types from 'void (*)(Nan::ADDON_REGISTER_FUNCTION_ARGS_TYPE)' {aka 'void (*)(v8::Local<v8::Object>)'} to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n       (node::addon_register_func) (regfunc),                          \\\n                                           ^\n/root/.cache/node-gyp/14.21.2/include/node/node.h:827:3: note: in expansion of macro 'NODE_MODULE_X'\n   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n   ^~~~~~~~~~~~~\n../src/main.cpp:93:1: note: in expansion of macro 'NODE_MODULE'\n NODE_MODULE(nodessl, InitModule);\n ^~~~~~~~~~~\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/core/key_exp.o\n  CXX(target) Release/obj.target/nodessl/src/core/scoped_ssl.o\n  CXX(target) Release/obj.target/nodessl/src/core/logger.o\n  CXX(target) Release/obj.target/nodessl/src/core/excep.o\n  CXX(target) Release/obj.target/nodessl/src/core/digest.o\n  CXX(target) Release/obj.target/nodessl/src/core/bn.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_gen.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pkcs1.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_oaep.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pss.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_gen.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dsa.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dh.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_gen.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ecb.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_cbc.o\n\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::wrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:111:98: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  if (AES_set_encrypt_key((const byte*)this->value->c_str(), (const int)(this->value->length() * 8), &aes_key) < 0)\n                                                                                                  ^\n\u001b[0m\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::unwrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:138:92: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  if (AES_set_decrypt_key((const byte*)this->value->c_str(), (const int)this->value->length() * 8, &aes_key) < 0)\n                                                                                            ^\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/aes/aes_gcm.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ctr.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_gen.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_sign.o\n  CXX(target) Release/obj.target/nodessl/src/pbkdf2/pbkdf2_derive.o\n  CXX(target) Release/obj.target/nodessl/src/node/common.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_key.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_core.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_rsa.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_ec.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_core.o\n  SOLINK_MODULE(target) Release/obj.target/nodessl.node\n  COPY Release/nodessl.node\nmake: Leaving directory '/usr/src/broker/node_modules/node-webcrypto-ossl/build'\n\u001b[91mnpm WARN lifecycle streamr-broker@20.0.0~prepare: cannot run in wd streamr-broker@20.0.0 tsc -p tsconfig-build.json (wd=/usr/src/broker)\n\u001b[0madded 505 packages in 431.319s\nRemoving intermediate container e4bc3352aa91\n ---> b020ae67b3c8\nStep 5/17 : RUN npm run build\n ---> Running in 639ad34d7bf0\n\n> streamr-broker@20.0.0 build /usr/src/broker\n> tsc -p tsconfig-build.json\n\nRemoving intermediate container 639ad34d7bf0\n ---> 292adc5f3e4e\nStep 6/17 : FROM node:14-buster-slim\n ---> f38f046ab785\nStep 7/17 : RUN apt-get update && apt-get install -y --assume-yes --no-install-recommends curl \t&& apt-get clean \t&& rm -rf /var/lib/apt/lists/*\n ---> Running in ab6886a25068\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (3675 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  lsb-base\nUse 'apt autoremove' to remove it.\nThe following additional packages will be installed:\n  libcurl4 libgssapi-krb5-2 libk5crypto3 libkeyutils1 libkrb5-3\n  libkrb5support0 libldap-2.4-2 libldap-common libnghttp2-14 libpsl5 librtmp1\n  libsasl2-2 libsasl2-modules-db libssh2-1 libssl1.1\nSuggested packages:\n  krb5-doc krb5-user\nRecommended packages:\n  ca-certificates krb5-locales publicsuffix libsasl2-modules\nThe following NEW packages will be installed:\n  curl libcurl4 libgssapi-krb5-2 libk5crypto3 libkeyutils1 libkrb5-3\n  libkrb5support0 libldap-2.4-2 libldap-common libnghttp2-14 libpsl5 librtmp1\n  libsasl2-2 libsasl2-modules-db libssh2-1 libssl1.1\n0 upgraded, 16 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 3708 kB of archives.\nAfter this operation, 9143 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 libkeyutils1 amd64 1.6-6 [15.0 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates/main amd64 libkrb5support0 amd64 1.17-3+deb10u5 [66.0 kB]\nGet:3 http://deb.debian.org/debian-security buster/updates/main amd64 libk5crypto3 amd64 1.17-3+deb10u5 [122 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u3 [1551 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 libkrb5-3 amd64 1.17-3+deb10u5 [369 kB]\nGet:6 http://deb.debian.org/debian-security buster/updates/main amd64 libgssapi-krb5-2 amd64 1.17-3+deb10u5 [159 kB]\nGet:7 http://deb.debian.org/debian buster/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-1+deb10u2 [69.2 kB]\nGet:8 http://deb.debian.org/debian buster/main amd64 libsasl2-2 amd64 2.1.27+dfsg-1+deb10u2 [106 kB]\nGet:9 http://deb.debian.org/debian buster/main amd64 libldap-common all 2.4.47+dfsg-3+deb10u7 [90.1 kB]\nGet:10 http://deb.debian.org/debian buster/main amd64 libldap-2.4-2 amd64 2.4.47+dfsg-3+deb10u7 [224 kB]\nGet:11 http://deb.debian.org/debian buster/main amd64 libnghttp2-14 amd64 1.36.0-2+deb10u1 [85.0 kB]\nGet:12 http://deb.debian.org/debian buster/main amd64 libpsl5 amd64 0.20.2-2 [53.7 kB]\nGet:13 http://deb.debian.org/debian buster/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2 [60.5 kB]\nGet:14 http://deb.debian.org/debian buster/main amd64 libssh2-1 amd64 1.8.0-2.1 [140 kB]\nGet:15 http://deb.debian.org/debian-security buster/updates/main amd64 libcurl4 amd64 7.64.0-4+deb10u3 [333 kB]\nGet:16 http://deb.debian.org/debian-security buster/updates/main amd64 curl amd64 7.64.0-4+deb10u3 [265 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 3708 kB in 1s (4739 kB/s)\nSelecting previously unselected package libkeyutils1:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6469 files and directories currently installed.)\r\nPreparing to unpack .../00-libkeyutils1_1.6-6_amd64.deb ...\r\nUnpacking libkeyutils1:amd64 (1.6-6) ...\r\nSelecting previously unselected package libkrb5support0:amd64.\r\nPreparing to unpack .../01-libkrb5support0_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libkrb5support0:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libk5crypto3:amd64.\r\nPreparing to unpack .../02-libk5crypto3_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libk5crypto3:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libssl1.1:amd64.\r\nPreparing to unpack .../03-libssl1.1_1.1.1n-0+deb10u3_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\nSelecting previously unselected package libkrb5-3:amd64.\r\nPreparing to unpack .../04-libkrb5-3_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libkrb5-3:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libgssapi-krb5-2:amd64.\r\nPreparing to unpack .../05-libgssapi-krb5-2_1.17-3+deb10u5_amd64.deb ...\r\nUnpacking libgssapi-krb5-2:amd64 (1.17-3+deb10u5) ...\r\nSelecting previously unselected package libsasl2-modules-db:amd64.\r\nPreparing to unpack .../06-libsasl2-modules-db_2.1.27+dfsg-1+deb10u2_amd64.deb ...\r\nUnpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSelecting previously unselected package libsasl2-2:amd64.\r\nPreparing to unpack .../07-libsasl2-2_2.1.27+dfsg-1+deb10u2_amd64.deb ...\r\nUnpacking libsasl2-2:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSelecting previously unselected package libldap-common.\r\nPreparing to unpack .../08-libldap-common_2.4.47+dfsg-3+deb10u7_all.deb ...\r\nUnpacking libldap-common (2.4.47+dfsg-3+deb10u7) ...\r\nSelecting previously unselected package libldap-2.4-2:amd64.\r\nPreparing to unpack .../09-libldap-2.4-2_2.4.47+dfsg-3+deb10u7_amd64.deb ...\r\nUnpacking libldap-2.4-2:amd64 (2.4.47+dfsg-3+deb10u7) ...\r\nSelecting previously unselected package libnghttp2-14:amd64.\r\nPreparing to unpack .../10-libnghttp2-14_1.36.0-2+deb10u1_amd64.deb ...\r\nUnpacking libnghttp2-14:amd64 (1.36.0-2+deb10u1) ...\r\nSelecting previously unselected package libpsl5:amd64.\r\nPreparing to unpack .../11-libpsl5_0.20.2-2_amd64.deb ...\r\nUnpacking libpsl5:amd64 (0.20.2-2) ...\r\nSelecting previously unselected package librtmp1:amd64.\r\nPreparing to unpack .../12-librtmp1_2.4+20151223.gitfa8646d.1-2_amd64.deb ...\r\nUnpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2) ...\r\nSelecting previously unselected package libssh2-1:amd64.\r\nPreparing to unpack .../13-libssh2-1_1.8.0-2.1_amd64.deb ...\r\nUnpacking libssh2-1:amd64 (1.8.0-2.1) ...\r\nSelecting previously unselected package libcurl4:amd64.\r\nPreparing to unpack .../14-libcurl4_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.64.0-4+deb10u3) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../15-curl_7.64.0-4+deb10u3_amd64.deb ...\r\nUnpacking curl (7.64.0-4+deb10u3) ...\r\nSetting up libkeyutils1:amd64 (1.6-6) ...\r\nSetting up libpsl5:amd64 (0.20.2-2) ...\r\nSetting up libssl1.1:amd64 (1.1.1n-0+deb10u3) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/x86_64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up libnghttp2-14:amd64 (1.36.0-2+deb10u1) ...\r\nSetting up libldap-common (2.4.47+dfsg-3+deb10u7) ...\r\nSetting up libkrb5support0:amd64 (1.17-3+deb10u5) ...\r\nSetting up libsasl2-modules-db:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSetting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2) ...\r\nSetting up libk5crypto3:amd64 (1.17-3+deb10u5) ...\r\nSetting up libsasl2-2:amd64 (2.1.27+dfsg-1+deb10u2) ...\r\nSetting up libssh2-1:amd64 (1.8.0-2.1) ...\r\nSetting up libkrb5-3:amd64 (1.17-3+deb10u5) ...\r\nSetting up libldap-2.4-2:amd64 (2.4.47+dfsg-3+deb10u7) ...\r\nSetting up libgssapi-krb5-2:amd64 (1.17-3+deb10u5) ...\r\nSetting up libcurl4:amd64 (7.64.0-4+deb10u3) ...\r\nSetting up curl (7.64.0-4+deb10u3) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container ab6886a25068\n ---> e705ba6d211a\nStep 8/17 : COPY --from=build /usr/src/broker /usr/src/broker\n ---> 4a609f3b80fb\nStep 9/17 : WORKDIR /usr/src/broker\n ---> Running in bdcead4ee503\nRemoving intermediate container bdcead4ee503\n ---> 4ef61589814e\nStep 10/17 : EXPOSE 30315\n ---> Running in 9fa382d2515c\nRemoving intermediate container 9fa382d2515c\n ---> 89e51deefd87\nStep 11/17 : EXPOSE 8890\n ---> Running in 7e2f578e54d6\nRemoving intermediate container 7e2f578e54d6\n ---> 5905405ecd8f\nStep 12/17 : EXPOSE 8891\n ---> Running in b172523c3314\nRemoving intermediate container b172523c3314\n ---> edc4ab1714fe\nStep 13/17 : EXPOSE 9000\n ---> Running in 46f26a99c025\nRemoving intermediate container 46f26a99c025\n ---> 3766852678a0\nStep 14/17 : ENV LOG_LEVEL=info\n ---> Running in 91da55077136\nRemoving intermediate container 91da55077136\n ---> 2a79ec7a15e4\nStep 15/17 : ENV CONFIG_FILE configs/docker-1.env.json\n ---> Running in 6251117bc74a\nRemoving intermediate container 6251117bc74a\n ---> bd6c22e49ae2\nStep 16/17 : ENV STREAMR_URL http://10.200.10.1\n ---> Running in 51ae31f60f68\nRemoving intermediate container 51ae31f60f68\n ---> a89236078a96\nStep 17/17 : CMD node bin/broker.js ${CONFIG_FILE} --streamrUrl=${STREAMR_URL}\n ---> Running in e5dfe25bbdb3\nRemoving intermediate container e5dfe25bbdb3\n ---> cef178d66504\nSuccessfully built cef178d66504\nSuccessfully tagged broker:latest\n","stderr":"","imageSize":511383144},"endTime":1672726048217}