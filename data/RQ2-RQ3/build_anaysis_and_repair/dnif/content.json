{"repository":"https://github.com/dnif/content","dockerfilePath":"Dockerfile","startTime":1672712143794,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dnif/content'...\n","error":null,"commit":"024b604b0b7d4b2e43cfad57ec5be1eb4698fe6f"},"originalBuild":{"startTimestamp":1672712144835,"endTimestamp":1672712357285,"error":null,"stdout":"Sending build context to Docker daemon  2.003MB\r\r\nStep 1/9 : FROM python:3-slim AS builder\n ---> 68fdbff1a0f2\nStep 2/9 : ADD . /app\n ---> ae05be788026\nStep 3/9 : WORKDIR /app\n ---> Running in abae7a7fbaa2\nRemoving intermediate container abae7a7fbaa2\n ---> 7ea878499328\nStep 4/9 : RUN pip install --target=/app pyyaml colorama\n ---> Running in 51dd9b76b931\nCollecting pyyaml\n  Downloading PyYAML-6.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (757 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 757.9/757.9 kB 34.6 MB/s eta 0:00:00\nCollecting colorama\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nInstalling collected packages: pyyaml, colorama\nSuccessfully installed colorama-0.4.6 pyyaml-6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 51dd9b76b931\n ---> 5782421bd8d2\nStep 5/9 : FROM gcr.io/distroless/python3-debian10\nlatest: Pulling from distroless/python3-debian10\nab2f6dae3b54: Pulling fs layer\n9411f38bb959: Pulling fs layer\n39621572cdf6: Pulling fs layer\nb0fe9d58182b: Pulling fs layer\nb0fe9d58182b: Waiting\nab2f6dae3b54: Verifying Checksum\nab2f6dae3b54: Download complete\n9411f38bb959: Verifying Checksum\n9411f38bb959: Download complete\n39621572cdf6: Verifying Checksum\n39621572cdf6: Download complete\nb0fe9d58182b: Verifying Checksum\nb0fe9d58182b: Download complete\nab2f6dae3b54: Pull complete\n9411f38bb959: Pull complete\n39621572cdf6: Pull complete\nb0fe9d58182b: Pull complete\nDigest: sha256:b0041237ec3b3009275c1e0698fd7339940f2736d3359874da71bebd0878ed0a\nStatus: Downloaded newer image for gcr.io/distroless/python3-debian10:latest\n ---> 54c465bcd58f\nStep 6/9 : COPY --from=builder /app /app\n ---> 63fd6082e4ce\nStep 7/9 : WORKDIR /app\n ---> Running in 97a6fcefa8e7\nRemoving intermediate container 97a6fcefa8e7\n ---> 6191099c1dd4\nStep 8/9 : ENV PYTHONPATH /app\n ---> Running in 0252888edcd7\nRemoving intermediate container 0252888edcd7\n ---> cae45f618218\nStep 9/9 : CMD [\"/app/scripts/main.py\"]\n ---> Running in e2aabf2f09dd\nRemoving intermediate container e2aabf2f09dd\n ---> 0f345020b1e6\nSuccessfully built 0f345020b1e6\nSuccessfully tagged content:latest\n","stderr":"","imageSize":52884492},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":4,"columnEnd":45}}],"repairedDockerfile":"FROM python:3-slim AS builder\nADD . /app\nWORKDIR /app\n\n# We are installing a dependency here directly into our app source dir\nRUN pip install --no-cache-dir --target=/app pyyaml colorama\n\n# A distroless container image with Python and some basics like SSL certificates\n# https://github.com/GoogleContainerTools/distroless\nFROM gcr.io/distroless/python3-debian10\nCOPY --from=builder /app /app\nWORKDIR /app\nENV PYTHONPATH /app\nCMD [\"/app/scripts/main.py\"]\n"},"repairedBuild":{"startTimestamp":1672712385838,"endTimestamp":1672712568019,"error":null,"stdout":"Sending build context to Docker daemon  2.003MB\r\r\nStep 1/9 : FROM python:3-slim AS builder\n ---> 68fdbff1a0f2\nStep 2/9 : ADD . /app\n ---> 877b9a147214\nStep 3/9 : WORKDIR /app\n ---> Running in 9a2f488ec256\nRemoving intermediate container 9a2f488ec256\n ---> 071ecc5f6373\nStep 4/9 : RUN pip install --no-cache-dir --target=/app pyyaml colorama\n ---> Running in bbd2f7c2a30f\nCollecting pyyaml\n  Downloading PyYAML-6.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (757 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 757.9/757.9 kB 65.4 MB/s eta 0:00:00\nCollecting colorama\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nInstalling collected packages: pyyaml, colorama\nSuccessfully installed colorama-0.4.6 pyyaml-6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container bbd2f7c2a30f\n ---> 2df33b59fee3\nStep 5/9 : FROM gcr.io/distroless/python3-debian10\n ---> 54c465bcd58f\nStep 6/9 : COPY --from=builder /app /app\n ---> 69d9dbc06cc4\nStep 7/9 : WORKDIR /app\n ---> Running in eedc28298ca0\nRemoving intermediate container eedc28298ca0\n ---> 231ed03985fb\nStep 8/9 : ENV PYTHONPATH /app\n ---> Running in 6570804a105c\nRemoving intermediate container 6570804a105c\n ---> fa5c4ee63441\nStep 9/9 : CMD [\"/app/scripts/main.py\"]\n ---> Running in 82df7bc7c6a2\nRemoving intermediate container 82df7bc7c6a2\n ---> c317b235f720\nSuccessfully built c317b235f720\nSuccessfully tagged content:latest\n","stderr":"","imageSize":52884507},"endTime":1672712570166}