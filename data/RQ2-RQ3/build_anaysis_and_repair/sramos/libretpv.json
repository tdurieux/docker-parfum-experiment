{"repository":"https://github.com/sramos/libretpv","dockerfilePath":"Dockerfile","startTime":1672824886188,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sramos/libretpv'...\n","error":null,"commit":"c7696844ae347833eae9995a3fb541d1c51a11f9"},"originalBuild":{"startTimestamp":1672824887168,"endTimestamp":1672825105382,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t libretpv:latest -f /tmp/dinghy-analysis/sramos/libretpv/Dockerfile ."},"stdout":"Sending build context to Docker daemon  1.875MB\r\r\nStep 1/15 : FROM ruby:2.7\n2.7: Pulling from library/ruby\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n5fe064c92718: Pulling fs layer\n82cf2b446a79: Pulling fs layer\n919a7c0c7192: Pulling fs layer\n919a7c0c7192: Download complete\n5fe064c92718: Pull complete\n82cf2b446a79: Verifying Checksum\n82cf2b446a79: Download complete\n82cf2b446a79: Pull complete\n919a7c0c7192: Pull complete\nDigest: sha256:85860033c72fc9d0f3c20fb38a9b71981c6a9002afcc28048b923790ba409df2\nStatus: Downloaded newer image for ruby:2.7\n ---> 35f703a364a3\nStep 2/15 : MAINTAINER Santiago Ramos, sramos@sitiodistinto.net\n ---> Running in cba657a19446\nRemoving intermediate container cba657a19446\n ---> 6325ee0baa09\nStep 3/15 : RUN apt-get update -qq &&     apt-get install -qq -y build-essential nodejs &&     rm -rf /var/lib/apt/lists/*\n ---> Running in 1ae4f0f78104\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package build-essential.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 22790 files and directories currently installed.)\r\nPreparing to unpack .../0-build-essential_12.9_amd64.deb ...\r\nUnpacking build-essential (12.9) ...\r\nSelecting previously unselected package javascript-common.\r\nPreparing to unpack .../1-javascript-common_11+nmu1_all.deb ...\r\nUnpacking javascript-common (11+nmu1) ...\r\nSelecting previously unselected package libc-ares2:amd64.\r\nPreparing to unpack .../2-libc-ares2_1.17.1-1+deb11u1_amd64.deb ...\r\nUnpacking libc-ares2:amd64 (1.17.1-1+deb11u1) ...\r\nSelecting previously unselected package libjs-highlight.js.\r\nPreparing to unpack .../3-libjs-highlight.js_9.18.5+dfsg1-1_all.deb ...\r\nUnpacking libjs-highlight.js (9.18.5+dfsg1-1) ...\r\nSelecting previously unselected package libuv1:amd64.\r\nPreparing to unpack .../4-libuv1_1.40.0-2_amd64.deb ...\r\nUnpacking libuv1:amd64 (1.40.0-2) ...\r\nSelecting previously unselected package libnode72:amd64.\r\nPreparing to unpack .../5-libnode72_12.22.12~dfsg-1~deb11u1_amd64.deb ...\r\nUnpacking libnode72:amd64 (12.22.12~dfsg-1~deb11u1) ...\r\nSelecting previously unselected package nodejs.\r\nPreparing to unpack .../6-nodejs_12.22.12~dfsg-1~deb11u1_amd64.deb ...\r\nUnpacking nodejs (12.22.12~dfsg-1~deb11u1) ...\r\nSelecting previously unselected package nodejs-doc.\r\nPreparing to unpack .../7-nodejs-doc_12.22.12~dfsg-1~deb11u1_all.deb ...\r\nUnpacking nodejs-doc (12.22.12~dfsg-1~deb11u1) ...\r\nSetting up javascript-common (11+nmu1) ...\r\nSetting up libc-ares2:amd64 (1.17.1-1+deb11u1) ...\r\nSetting up libuv1:amd64 (1.40.0-2) ...\r\nSetting up libjs-highlight.js (9.18.5+dfsg1-1) ...\r\nSetting up build-essential (12.9) ...\r\nSetting up libnode72:amd64 (12.22.12~dfsg-1~deb11u1) ...\r\nSetting up nodejs-doc (12.22.12~dfsg-1~deb11u1) ...\r\nSetting up nodejs (12.22.12~dfsg-1~deb11u1) ...\r\nupdate-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 1ae4f0f78104\n ---> 55660b5cd195\nStep 4/15 : RUN mkdir -p /railsapp\n ---> Running in abd12d6fc21b\nRemoving intermediate container abd12d6fc21b\n ---> 5027ba669faa\nStep 5/15 : WORKDIR /railsapp\n ---> Running in b528d4dd7ee5\nRemoving intermediate container b528d4dd7ee5\n ---> 2cb1fd4bd830\nStep 6/15 : COPY Gemfile Gemfile.lock ./\n ---> fde1e8f27814\nStep 7/15 : RUN gem install bundler:1.17.3 && bundle _1.17.3_ install --jobs 20 --retry 5 --without development test\n ---> Running in a7c5331ac9c2\nSuccessfully installed bundler-1.17.3\n1 gem installed\nFetching gem metadata from https://rubygems.org/..........\nFetching https://github.com/tsechingho/chosen-rails.git\nFetching https://github.com/rails/prototype-rails\nFetching https://github.com/rails/prototype_legacy_helper.git\nFetching https://github.com/10to1/spreadsheet_on_rails.git\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching mini_portile2 2.6.1\nFetching racc 1.6.0\nFetching multi_json 1.15.0\nFetching bcrypt 3.1.16\nFetching bigdecimal 1.4.4\nUsing bundler 1.17.3\nFetching ffi 1.15.5\nFetching concurrent-ruby 1.1.9\nFetching thread_safe 0.3.6\nFetching rack 1.6.13\nFetching arel 6.0.4\nFetching execjs 2.8.1\nFetching minitest 5.15.0\nFetching builder 3.2.4\nFetching erubis 2.7.0\nFetching crass 1.0.6\nFetching mini_mime 1.1.2\nFetching thor 1.2.1\nFetching coffee-script-source 1.12.2\nFetching tilt 2.0.10\nInstalling mini_portile2 2.6.1\nInstalling arel 6.0.4\nInstalling crass 1.0.6\nInstalling execjs 2.8.1\nInstalling multi_json 1.15.0\nInstalling tilt 2.0.10\nInstalling builder 3.2.4\nInstalling mini_mime 1.1.2\nInstalling thor 1.2.1\nInstalling coffee-script-source 1.12.2\nInstalling bcrypt 3.1.16 with native extensions\nInstalling racc 1.6.0 with native extensions\nInstalling bigdecimal 1.4.4 with native extensions\nInstalling minitest 5.15.0\nInstalling thread_safe 0.3.6\nInstalling erubis 2.7.0\nInstalling rack 1.6.13\nFetching climate_control 0.2.0\nInstalling concurrent-ruby 1.1.9\nFetching orm_adapter 0.5.0\nInstalling climate_control 0.2.0\nInstalling orm_adapter 0.5.0\nFetching raabro 1.4.0\nFetching hpricot 0.8.6\nInstalling raabro 1.4.0\nFetching mime-types-data 3.2022.0105\nFetching mysql2 0.5.3\nFetching nio4r 2.5.8\nFetching pdf-core 0.9.0\nFetching ttfunk 1.7.0\nInstalling pdf-core 0.9.0\nInstalling mime-types-data 3.2022.0105\nUsing prototype_legacy_helper 0.0.0 from https://github.com/rails/prototype_legacy_helper.git (at master@a2cd95c)\nInstalling mysql2 0.5.3 with native extensions\nInstalling ttfunk 1.7.0\nInstalling nio4r 2.5.8 with native extensions\nFetching ruby-ole 1.2.12.2\nInstalling ffi 1.15.5 with native extensions\nFetching will_paginate 3.3.1\nFetching coffee-script 2.4.1\nInstalling hpricot 0.8.6 with native extensions\nInstalling coffee-script 2.4.1\nInstalling will_paginate 3.3.1\nInstalling ruby-ole 1.2.12.2\nFetching uglifier 4.2.0\nInstalling uglifier 4.2.0\nFetching mail 2.7.1\nFetching terrapin 0.6.0\nInstalling terrapin 0.6.0\nFetching tzinfo 1.2.9\nFetching mime-types 3.4.1\nFetching spreadsheet 1.0.9\nInstalling mime-types 3.4.1\nInstalling mail 2.7.1\nInstalling tzinfo 1.2.9\nFetching prawn 2.4.0\nInstalling prawn 2.4.0\nFetching warden 1.2.7\nFetching rack-test 0.6.3\nFetching i18n 0.9.5\nFetching sprockets 4.0.2\nFetching et-orbi 1.2.6\nInstalling rack-test 0.6.3\nInstalling warden 1.2.7\nInstalling et-orbi 1.2.6\nInstalling i18n 0.9.5\nInstalling sprockets 4.0.2\nFetching fugit 1.5.2\nInstalling fugit 1.5.2\nFetching rufus-scheduler 3.8.1\nInstalling rufus-scheduler 3.8.1\nInstalling spreadsheet 1.0.9\nFetching activesupport 4.2.11.3\nFetching non-stupid-digest-assets 1.0.9\nInstalling non-stupid-digest-assets 1.0.9\nInstalling activesupport 4.2.11.3\nFetching prawn-table 0.2.2\nInstalling prawn-table 0.2.2\nFetching rails-deprecated_sanitizer 1.0.4\nFetching globalid 0.4.2\nFetching activemodel 4.2.11.3\nInstalling globalid 0.4.2\nInstalling rails-deprecated_sanitizer 1.0.4\nInstalling activemodel 4.2.11.3\nFetching activejob 4.2.11.3\nInstalling activejob 4.2.11.3\nFetching activerecord 4.2.11.3\nInstalling activerecord 4.2.11.3\nFetching nokogiri 1.12.5 (x86_64-linux)\nInstalling nokogiri 1.12.5 (x86_64-linux)\nFetching rails-dom-testing 1.0.9\nFetching loofah 2.13.0\nFetching mimemagic 0.3.10\nInstalling mimemagic 0.3.10 with native extensions\nInstalling loofah 2.13.0\nInstalling rails-dom-testing 1.0.9\nFetching rails-html-sanitizer 1.4.2\nInstalling rails-html-sanitizer 1.4.2\nFetching actionview 4.2.11.3\nInstalling actionview 4.2.11.3\nFetching actionpack 4.2.11.3\nInstalling actionpack 4.2.11.3\nFetching actionmailer 4.2.11.3\nFetching railties 4.2.11.3\nFetching sprockets-rails 3.2.2\nInstalling actionmailer 4.2.11.3\nInstalling sprockets-rails 3.2.2\nInstalling railties 4.2.11.3\nFetching responders 2.4.1\nFetching activerecord-session_store 1.1.3\nFetching coffee-rails 4.2.2\nFetching rails 4.2.11.3\nInstalling coffee-rails 4.2.2\nInstalling activerecord-session_store 1.1.3\nInstalling responders 2.4.1\nInstalling rails 4.2.11.3\nFetching devise 4.8.1\nInstalling devise 4.8.1\nUsing prototype-rails 4.0.0 from https://github.com/rails/prototype-rails (at 4.2@0fed929)\nUsing spreadsheet_on_rails 1.0.0 from https://github.com/10to1/spreadsheet_on_rails.git (at master@2cc6b47)\nFetching devise-i18n 1.10.1\nInstalling devise-i18n 1.10.1\nFetching puma 5.6.2\nInstalling puma 5.6.2 with native extensions\nFetching sassc 2.4.0\nFetching kt-paperclip 6.4.1\nInstalling sassc 2.4.0 with native extensions\nInstalling kt-paperclip 6.4.1\nFetching sassc-rails 2.1.2\nInstalling sassc-rails 2.1.2\nUsing chosen-rails 1.9.0 from https://github.com/tsechingho/chosen-rails.git (at master@8cef887)\nFetching sass-rails 6.0.0\nInstalling sass-rails 6.0.0\nBundle complete! 26 Gemfile dependencies, 80 gems now installed.\nGems in the groups development and test were not installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nPost-install message from kt-paperclip:\n##################################################\n#  NOTE FOR UPGRADING FROM 4.3.0 OR EARLIER      #\n##################################################\n\nPaperclip is now compatible with aws-sdk-s3.\n\nIf you are using S3 storage, aws-sdk-s3 requires you to make a few small\nchanges:\n\n* You must set the `s3_region`\n* If you are explicitly setting permissions anywhere, such as in an initializer,\n  note that the format of the permissions changed from using an underscore to\n  using a hyphen. For example, `:public_read` needs to be changed to\n  `public-read`.\n\nFor a walkthrough of upgrading from 4 to *5* (not 6) and aws-sdk >= 2.0 you can watch\nhttp://rubythursday.com/episodes/ruby-snack-27-upgrade-paperclip-and-aws-sdk-in-prep-for-rails-5\nRemoving intermediate container a7c5331ac9c2\n ---> f1098475672d\nStep 8/15 : ENV RAILS_ENV production\n ---> Running in a79f2b352542\nRemoving intermediate container a79f2b352542\n ---> 2b81fa000910\nStep 9/15 : COPY . ./\n ---> de1eae634593\nStep 10/15 : COPY config/database.yml.example ./config/database.yml\n ---> 410fe12dfab5\nStep 11/15 : RUN bundle _1.17.3_ exec rake RAILS_ENV=production DB_HOST=127.0.0.1 DB_NAME=dbname DB_USER=dbuser DB_PASS=dbpass SECRET_KEY_BASE=blahblahblah assets:clobber\n ---> Running in 27a9bd0136a5\n\u001b[91m/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/core_ext/object/duplicable.rb:111: warning: BigDecimal.new is deprecated; use BigDecimal() method instead.\n\u001b[0m\u001b[91mrake aborted!\n\u001b[0m\u001b[91mNoMethodError: undefined method `public_file_server' for #<Rails::Application::Configuration:0x0000562150127dd0>\nDid you mean?  public_send\n\u001b[0m\u001b[91m/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/railtie/configuration.rb:95:in `method_missing'\n/railsapp/config/environments/production.rb:13:in `block in <top (required)>'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/railtie.rb:210:in `instance_eval'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/railtie.rb:210:in `configure'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/railtie.rb:182:in `configure'\n/railsapp/config/environments/production.rb:1:in `<top (required)>'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:274:in `require'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:274:in `block in require'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:240:in `load_dependency'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:274:in `require'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/engine.rb:598:in `block (2 levels) in <class:Engine>'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/engine.rb:597:in `each'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/engine.rb:597:in `block in <class:Engine>'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/initializable.rb:30:in `instance_exec'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/initializable.rb:30:in `run'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/initializable.rb:55:in `block in run_initializers'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/initializable.rb:44:in `each'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/initializable.rb:44:in `tsort_each_child'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/initializable.rb:54:in `run_initializers'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/application.rb:352:in `initialize!'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/railtie.rb:194:in `public_send'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/railtie.rb:194:in `method_missing'\n/railsapp/config/environment.rb:5:in `<top (required)>'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:274:in `require'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:274:in `block in require'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:240:in `load_dependency'\n/usr/local/bundle/gems/activesupport-4.2.11.3/lib/active_support/dependencies.rb:274:in `require'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/application.rb:328:in `require_environment!'\n/usr/local/bundle/gems/railties-4.2.11.3/lib/rails/application.rb:457:in `block in run_tasks_blocks'\n/usr/local/bundle/gems/sprockets-rails-3.2.2/lib/sprockets/rails/task.rb:61:in `block (2 levels) in define'\n/usr/local/bundle/gems/rake-13.0.6/exe/rake:27:in `<top (required)>'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/cli/exec.rb:74:in `load'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/cli/exec.rb:74:in `kernel_load'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/cli/exec.rb:28:in `run'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/cli.rb:463:in `exec'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/cli.rb:27:in `dispatch'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/vendor/thor/lib/thor/base.rb:466:in `start'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/cli.rb:18:in `start'\n/usr/local/bundle/gems/bundler-1.17.3/exe/bundle:30:in `block in <top (required)>'\n/usr/local/bundle/gems/bundler-1.17.3/lib/bundler/friendly_errors.rb:124:in `with_friendly_errors'\n/usr/local/bundle/gems/bundler-1.17.3/exe/bundle:22:in `<top (required)>'\n/usr/local/bundle/bin/bundle:23:in `load'\n/usr/local/bundle/bin/bundle:23:in `<main>'\nTasks: TOP => environment\n(See full trace by running task with --trace)\n\u001b[0mRemoving intermediate container 27a9bd0136a5\n","stderr":"The command '/bin/sh -c bundle _1.17.3_ exec rake RAILS_ENV=production DB_HOST=127.0.0.1 DB_NAME=dbname DB_USER=dbuser DB_PASS=dbpass SECRET_KEY_BASE=blahblahblah assets:clobber' returned a non-zero code: 1\n"},"endTime":1672825105472}