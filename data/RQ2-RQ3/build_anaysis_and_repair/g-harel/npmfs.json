{"repository":"https://github.com/g-harel/npmfs","dockerfilePath":"Dockerfile","startTime":1672773307089,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/g-harel/npmfs'...\n","error":null,"commit":"08a04817d774cf216b6f8e70c21be5a1212c0a99"},"originalBuild":{"startTimestamp":1672773309674,"endTimestamp":1672773365872,"error":null,"stdout":"Sending build context to Docker daemon  408.1kB\r\r\nStep 1/13 : FROM golang:1.12-alpine AS build\n1.12-alpine: Pulling from library/golang\nc9b1b535fdd9: Pulling fs layer\ncbb0d8da1b30: Pulling fs layer\nd909eff28200: Pulling fs layer\n665fbbf998e4: Pulling fs layer\n4985b1919860: Pulling fs layer\n4985b1919860: Waiting\n665fbbf998e4: Waiting\nc9b1b535fdd9: Download complete\nd909eff28200: Verifying Checksum\nd909eff28200: Download complete\ncbb0d8da1b30: Verifying Checksum\ncbb0d8da1b30: Download complete\nc9b1b535fdd9: Pull complete\ncbb0d8da1b30: Pull complete\n4985b1919860: Download complete\nd909eff28200: Pull complete\n665fbbf998e4: Verifying Checksum\n665fbbf998e4: Download complete\n665fbbf998e4: Pull complete\n4985b1919860: Pull complete\nDigest: sha256:3f8e3ad3e7c128d29ac3004ac8314967c5ddbfa5bfa7caa59b0de493fc01686a\nStatus: Downloaded newer image for golang:1.12-alpine\n ---> 76bddfb5e55e\nStep 2/13 : RUN apk add git\n ---> Running in a4ef01e949c7\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing nghttp2-libs (1.40.0-r1)\n(2/5) Installing libcurl (7.79.1-r0)\n(3/5) Installing expat (2.2.9-r1)\n(4/5) Installing pcre2 (10.34-r1)\n(5/5) Installing git (2.24.4-r0)\nExecuting busybox-1.31.1-r9.trigger\nOK: 22 MiB in 20 packages\nRemoving intermediate container a4ef01e949c7\n ---> aaff1afba689\nStep 3/13 : WORKDIR /npmfs\n ---> Running in 90c83373392c\nRemoving intermediate container 90c83373392c\n ---> 8e3d7ce6bafb\nStep 4/13 : COPY . .\n ---> 3ce50af3096b\nStep 5/13 : RUN go build -o website .\n ---> Running in 7b5665affd6c\n\u001b[91mgo: finding github.com/NYTimes/gziphandler v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.4.0\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/mux v1.7.2\n\u001b[0m\u001b[91mgo: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.7\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.3.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.2\ngo: finding github.com/davecgh/go-spew v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/objx v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/NYTimes/gziphandler v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.7.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: extracting github.com/NYTimes/gziphandler v1.1.1\ngo: extracting github.com/gorilla/mux v1.7.2\n\u001b[0m\u001b[91mgo: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0mRemoving intermediate container 7b5665affd6c\n ---> 831200c8927f\nStep 6/13 : FROM alpine:3.9\n3.9: Pulling from library/alpine\n31603596830f: Pulling fs layer\n31603596830f: Download complete\n31603596830f: Pull complete\nDigest: sha256:414e0518bb9228d35e4cd5165567fb91d26c6a214e9c95899e1e056fcd349011\nStatus: Downloaded newer image for alpine:3.9\n ---> 78a2ce922f86\nStep 7/13 : RUN apk add ca-certificates\n ---> Running in ad3d3dda26ca\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20191127-r2)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container ad3d3dda26ca\n ---> 326121b06369\nStep 8/13 : RUN apk add git\n ---> Running in 2867e4650eaa\n(1/6) Installing nghttp2-libs (1.35.1-r2)\n(2/6) Installing libssh2 (1.9.0-r1)\n(3/6) Installing libcurl (7.64.0-r5)\n(4/6) Installing expat (2.2.8-r0)\n(5/6) Installing pcre2 (10.32-r1)\n(6/6) Installing git (2.20.4-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 20 MiB in 21 packages\nRemoving intermediate container 2867e4650eaa\n ---> b7c71ba39d71\nStep 9/13 : WORKDIR /npmfs\n ---> Running in d23041ad1788\nRemoving intermediate container d23041ad1788\n ---> e7aaae00593c\nStep 10/13 : COPY --from=build /npmfs/website .\n ---> eddaabf7c0b4\nStep 11/13 : COPY assets assets\n ---> d06a0ed5451e\nStep 12/13 : COPY templates templates\n ---> 9d15880b73a1\nStep 13/13 : CMD ./website\n ---> Running in e7f732dd08fb\nRemoving intermediate container e7f732dd08fb\n ---> 146189248781\nSuccessfully built 146189248781\nSuccessfully tagged npmfs:latest\n","stderr":"","imageSize":33285578},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":15,"end":15,"columnStart":4,"columnEnd":27}},{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM golang:1.12-alpine AS build\n\n# Required to fetch go modules at build time.\nRUN apk add --no-cache git\n\nWORKDIR /npmfs\n\nCOPY . .\n\nRUN go build -o website .\n\n#\n\nFROM alpine:3.9\n\nRUN apk add --no-cache ca-certificates\nRUN apk add --no-cache git\n\nWORKDIR /npmfs\n\n# Copy server binary from first stage.\nCOPY --from=build /npmfs/website .\n\n# Copy static files from project source.\nCOPY assets assets\nCOPY templates templates\n\nCMD ./website\n"},"repairedBuild":{"startTimestamp":1672773366149,"endTimestamp":1672773404846,"error":null,"stdout":"Sending build context to Docker daemon  408.1kB\r\r\nStep 1/13 : FROM golang:1.12-alpine AS build\n ---> 76bddfb5e55e\nStep 2/13 : RUN apk add --no-cache git\n ---> Running in 5bc8db4192fe\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing nghttp2-libs (1.40.0-r1)\n(2/5) Installing libcurl (7.79.1-r0)\n(3/5) Installing expat (2.2.9-r1)\n(4/5) Installing pcre2 (10.34-r1)\n(5/5) Installing git (2.24.4-r0)\nExecuting busybox-1.31.1-r9.trigger\nOK: 22 MiB in 20 packages\nRemoving intermediate container 5bc8db4192fe\n ---> 6d72ff077ee1\nStep 3/13 : WORKDIR /npmfs\n ---> Running in d02947508486\nRemoving intermediate container d02947508486\n ---> 15df55d9062e\nStep 4/13 : COPY . .\n ---> c2ae9211b9bb\nStep 5/13 : RUN go build -o website .\n ---> Running in 72c35daf5448\n\u001b[91mgo: finding github.com/gorilla/mux v1.7.2\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/NYTimes/gziphandler v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.4.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.7\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.3.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/yaml.v2 v2.2.2\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.0\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/objx v0.1.0\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.7.2\n\u001b[0m\u001b[91mgo: downloading github.com/NYTimes/gziphandler v1.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: extracting golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: extracting github.com/gorilla/mux v1.7.2\n\u001b[0m\u001b[91mgo: extracting github.com/NYTimes/gziphandler v1.1.1\n\u001b[0mRemoving intermediate container 72c35daf5448\n ---> 1cd76381c7e1\nStep 6/13 : FROM alpine:3.9\n ---> 78a2ce922f86\nStep 7/13 : RUN apk add --no-cache ca-certificates\n ---> Running in 635c4e7063cf\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20191127-r2)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container 635c4e7063cf\n ---> 6ce3d15a6ad1\nStep 8/13 : RUN apk add --no-cache git\n ---> Running in 051770d49bb5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.35.1-r2)\n(2/6) Installing libssh2 (1.9.0-r1)\n(3/6) Installing libcurl (7.64.0-r5)\n(4/6) Installing expat (2.2.8-r0)\n(5/6) Installing pcre2 (10.32-r1)\n(6/6) Installing git (2.20.4-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 20 MiB in 21 packages\nRemoving intermediate container 051770d49bb5\n ---> d9024f3a983e\nStep 9/13 : WORKDIR /npmfs\n ---> Running in 10a6faf48718\nRemoving intermediate container 10a6faf48718\n ---> cc826a56fccf\nStep 10/13 : COPY --from=build /npmfs/website .\n ---> b73808a48861\nStep 11/13 : COPY assets assets\n ---> 910d1409fc9a\nStep 12/13 : COPY templates templates\n ---> d84091936439\nStep 13/13 : CMD ./website\n ---> Running in e7218037c91f\nRemoving intermediate container e7218037c91f\n ---> 19f251aa956f\nSuccessfully built 19f251aa956f\nSuccessfully tagged npmfs:latest\n","stderr":"","imageSize":31971913},"endTime":1672773405661}