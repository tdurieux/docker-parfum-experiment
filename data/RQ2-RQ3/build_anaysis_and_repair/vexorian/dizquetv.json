{"repository":"https://github.com/vexorian/dizquetv","dockerfilePath":"Dockerfile","startTime":1672426507643,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/vexorian/dizquetv'...\n","error":null,"commit":"382a3796e16305f139e518a407d3d67b3b0c647d"},"originalBuild":{"startTimestamp":1672426508771,"endTimestamp":1672426623803,"error":null,"stdout":"Sending build context to Docker daemon  2.728MB\r\r\nStep 1/13 : FROM node:12.18-alpine3.12\n12.18-alpine3.12: Pulling from library/node\ndf20fa9351a1: Already exists\nc69d4134e936: Pulling fs layer\ne29c0069ad52: Pulling fs layer\n4dc7f57a0655: Pulling fs layer\n4dc7f57a0655: Verifying Checksum\n4dc7f57a0655: Download complete\ne29c0069ad52: Verifying Checksum\ne29c0069ad52: Download complete\nc69d4134e936: Verifying Checksum\nc69d4134e936: Download complete\nc69d4134e936: Pull complete\ne29c0069ad52: Pull complete\n4dc7f57a0655: Pull complete\nDigest: sha256:f29339ebf9b852583a6550303bd254331d0171cb2ede92454635eb082a160d81\nStatus: Downloaded newer image for node:12.18-alpine3.12\n ---> 1448646743d0\nStep 2/13 : WORKDIR /home/node/app\n ---> Running in 3373aad60c1f\nRemoving intermediate container 3373aad60c1f\n ---> 3e7882443c80\nStep 3/13 : COPY package*.json ./\n ---> 553d9cbae0a4\nStep 4/13 : RUN npm install && npm install -g browserify nexe@3.3.7\n ---> Running in 83990a1a424c\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mdeprecated angular@1.8.3: For the actively supported Angular, see https://www.npmjs.com/package/@angular/core. AngularJS support has officially ended. For extended AngularJS support options, see https://goo.gle/angularjs-path-forward.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated node-uuid@1.4.8: Use uuid module instead\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/watchify/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN dizquetv@1.0.0 No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 837 packages from 439 contributors and audited 839 packages in 19.218s\n\n47 packages are looking for funding\n  run `npm fund` for details\n\nfound 7 vulnerabilities (4 moderate, 3 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m/usr/local/bin/browserify -> /usr/local/lib/node_modules/browserify/bin/cmd.js\n/usr/local/bin/nexe -> /usr/local/lib/node_modules/nexe/index.js\n+ nexe@3.3.7\n+ browserify@17.0.0\nadded 476 packages from 289 contributors in 9.584s\nRemoving intermediate container 83990a1a424c\n ---> bb3a1b6054ac\nStep 5/13 : COPY --from=vexorian/dizquetv:nexecache /var/nexe/linux-x64-12.16.2 /var/nexe/\nnexecache: Pulling from vexorian/dizquetv\n0f9f83d49ebb: Pulling fs layer\na433224269b3: Pulling fs layer\nb283d9ac23d6: Pulling fs layer\n3db589db4ca7: Pulling fs layer\n441b9875dce9: Pulling fs layer\n5e2a1211b06e: Pulling fs layer\n4e0dec8937c3: Pulling fs layer\na325d5af18f9: Pulling fs layer\n5e2a1211b06e: Waiting\n4e0dec8937c3: Waiting\n3db589db4ca7: Waiting\na325d5af18f9: Waiting\n441b9875dce9: Waiting\nb283d9ac23d6: Verifying Checksum\nb283d9ac23d6: Download complete\na433224269b3: Verifying Checksum\na433224269b3: Download complete\n3db589db4ca7: Verifying Checksum\n3db589db4ca7: Download complete\n0f9f83d49ebb: Verifying Checksum\n0f9f83d49ebb: Download complete\n441b9875dce9: Verifying Checksum\n441b9875dce9: Download complete\n4e0dec8937c3: Verifying Checksum\n4e0dec8937c3: Download complete\na325d5af18f9: Verifying Checksum\na325d5af18f9: Download complete\n0f9f83d49ebb: Pull complete\n5e2a1211b06e: Verifying Checksum\n5e2a1211b06e: Download complete\na433224269b3: Pull complete\nb283d9ac23d6: Pull complete\n3db589db4ca7: Pull complete\n441b9875dce9: Pull complete\n5e2a1211b06e: Pull complete\n4e0dec8937c3: Pull complete\na325d5af18f9: Pull complete\nDigest: sha256:8ab01da8c5ab8137ed633aa6a4247d34fbe4b09d354861bc62197f99d37df34d\nStatus: Downloaded newer image for vexorian/dizquetv:nexecache\n ---> 377cc1b2f480\nStep 6/13 : COPY . .\n ---> 2b167da84b4c\nStep 7/13 : RUN npm run build && LINUXBUILD=dizquetv sh make_dist.sh linuxonly\n ---> Running in 11e58fc1561a\n\n> dizquetv@1.0.0 build /home/node/app\n> browserify ./web/app.js -o ./web/public/bundle.js\n\n\u001b[91mrm: can't remove './dist/*': No such file or directory\n\u001b[0m\n> dizquetv@1.0.0 build /home/node/app\n> browserify ./web/app.js -o ./web/public/bundle.js\n\n\n> dizquetv@1.0.0 compile /home/node/app\n> babel index.js -d dist && babel src -d dist/src\n\nSuccessfully compiled 1 file with Babel (238ms).\nSuccessfully compiled 30 files with Babel (764ms).\n\u001b[91m- Starting...\n\u001b[0m\u001b[91mℹ nexe 3.3.7\n\u001b[0m\u001b[91m- nexe 3.3.7\n\u001b[0m\u001b[91m- Included 105 file(s). 5.119 MB\n\u001b[0m\u001b[91m- Already downloaded...\n\u001b[0m\u001b[91m- Compiling result\n\u001b[0m\u001b[91m✔ Entry: 'index.js' written to: dizquetv\n\u001b[0m\u001b[91m- Finished in 2.93s\n\u001b[0m\u001b[91m✔ Finished in 2.93s\n\u001b[0mdist/dizquetv\nRemoving intermediate container 11e58fc1561a\n ---> 3993e9e0bd07\nStep 8/13 : FROM jrottenberg/ffmpeg:4.3-ubuntu1804\n4.3-ubuntu1804: Pulling from jrottenberg/ffmpeg\na404e5416296: Pulling fs layer\n63230a0594f8: Pulling fs layer\na0504d7af598: Pulling fs layer\n466b3a507b03: Pulling fs layer\n466b3a507b03: Waiting\n63230a0594f8: Verifying Checksum\n63230a0594f8: Download complete\na404e5416296: Verifying Checksum\na404e5416296: Download complete\na0504d7af598: Verifying Checksum\na0504d7af598: Download complete\na404e5416296: Pull complete\n63230a0594f8: Pull complete\n466b3a507b03: Verifying Checksum\n466b3a507b03: Download complete\na0504d7af598: Pull complete\n466b3a507b03: Pull complete\nDigest: sha256:6d68ecd16e6a7f3f080bd303ebf22ac4f34260cf9e0e158f680bd8f8f14bd58a\nStatus: Downloaded newer image for jrottenberg/ffmpeg:4.3-ubuntu1804\n ---> 8a8b73ed19b4\nStep 9/13 : EXPOSE 8000\n ---> Running in c87c438a58f9\nRemoving intermediate container c87c438a58f9\n ---> afa9e6f06c96\nStep 10/13 : WORKDIR /home/node/app\n ---> Running in b5d8e88a8aa2\nRemoving intermediate container b5d8e88a8aa2\n ---> 867ea457ca04\nStep 11/13 : ENTRYPOINT [ \"./dizquetv\" ]\n ---> Running in 460a7bfde09d\nRemoving intermediate container 460a7bfde09d\n ---> 35ab6cee8688\nStep 12/13 : COPY --from=0 /home/node/app/dist/dizquetv /home/node/app/\n ---> 0a0d7d683ac2\nStep 13/13 : RUN ln -s /usr/local/bin/ffmpeg /usr/bin/ffmpeg\n ---> Running in da64f74e0978\nRemoving intermediate container da64f74e0978\n ---> 43b84b0dd380\nSuccessfully built 43b84b0dd380\nSuccessfully tagged dizquetv:latest\n","stderr":"","imageSize":328176974},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":19,"columnEnd":55}}],"repairedDockerfile":"FROM node:12.18-alpine3.12\nWORKDIR /home/node/app\nCOPY package*.json ./\nRUN npm install && npm install -g browserify nexe@3.3.7\nCOPY --from=vexorian/dizquetv:nexecache /var/nexe/linux-x64-12.16.2 /var/nexe/\nCOPY . .\nRUN npm run build && LINUXBUILD=dizquetv sh make_dist.sh linuxonly\n\nFROM jrottenberg/ffmpeg:4.3-ubuntu1804\nEXPOSE 8000\nWORKDIR /home/node/app\nENTRYPOINT [ \"./dizquetv\" ]\nCOPY --from=0 /home/node/app/dist/dizquetv /home/node/app/\nRUN ln -s /usr/local/bin/ffmpeg /usr/bin/ffmpeg\n"},"repairedBuild":{"startTimestamp":1672426624129,"endTimestamp":1672426691042,"error":null,"stdout":"Sending build context to Docker daemon  2.728MB\r\r\nStep 1/13 : FROM node:12.18-alpine3.12\n ---> 1448646743d0\nStep 2/13 : WORKDIR /home/node/app\n ---> Running in 0e4d9cea1b32\nRemoving intermediate container 0e4d9cea1b32\n ---> 70ab5714944b\nStep 3/13 : COPY package*.json ./\n ---> addcd4d63841\nStep 4/13 : RUN npm install && npm install -g browserify nexe@3.3.7\n ---> Running in 8416052df374\n\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated angular@1.8.3: For the actively supported Angular, see https://www.npmjs.com/package/@angular/core. AngularJS support has officially ended. For extended AngularJS support options, see https://goo.gle/angularjs-path-forward.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated node-uuid@1.4.8: Use uuid module instead\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/watchify/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m dizquetv@1.0.0 No repository field.\n\u001b[0m\u001b[91m\n\u001b[0madded 837 packages from 439 contributors and audited 839 packages in 16.795s\n\n47 packages are looking for funding\n  run `npm fund` for details\n\nfound 7 vulnerabilities (4 moderate, 3 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m/usr/local/bin/browserify -> /usr/local/lib/node_modules/browserify/bin/cmd.js\n/usr/local/bin/nexe -> /usr/local/lib/node_modules/nexe/index.js\n+ nexe@3.3.7\n+ browserify@17.0.0\nadded 476 packages from 289 contributors in 7.759s\nRemoving intermediate container 8416052df374\n ---> af2a677b9cfb\nStep 5/13 : COPY --from=vexorian/dizquetv:nexecache /var/nexe/linux-x64-12.16.2 /var/nexe/\n ---> 494e98d6cdaf\nStep 6/13 : COPY . .\n ---> e812a596da0b\nStep 7/13 : RUN npm run build && LINUXBUILD=dizquetv sh make_dist.sh linuxonly\n ---> Running in 305da3101179\n\n> dizquetv@1.0.0 build /home/node/app\n> browserify ./web/app.js -o ./web/public/bundle.js\n\n\u001b[91mrm: can't remove './dist/*': No such file or directory\n\u001b[0m\n> dizquetv@1.0.0 build /home/node/app\n> browserify ./web/app.js -o ./web/public/bundle.js\n\n\n> dizquetv@1.0.0 compile /home/node/app\n> babel index.js -d dist && babel src -d dist/src\n\nSuccessfully compiled 1 file with Babel (221ms).\nSuccessfully compiled 30 files with Babel (755ms).\n\u001b[91m- Starting...\n\u001b[0m\u001b[91mℹ nexe 3.3.7\n\u001b[0m\u001b[91m- nexe 3.3.7\n\u001b[0m\u001b[91m- Included 105 file(s). 5.119 MB\n\u001b[0m\u001b[91m- Already downloaded...\n\u001b[0m\u001b[91m- Compiling result\n\u001b[0m\u001b[91m✔ Entry: 'index.js' written to: dizquetv\n\u001b[0m\u001b[91m- Finished in 2.768s\n\u001b[0m\u001b[91m✔ Finished in 2.768s\n\u001b[0mdist/dizquetv\nRemoving intermediate container 305da3101179\n ---> 408962e9d596\nStep 8/13 : FROM jrottenberg/ffmpeg:4.3-ubuntu1804\n ---> 8a8b73ed19b4\nStep 9/13 : EXPOSE 8000\n ---> Running in 48416f670912\nRemoving intermediate container 48416f670912\n ---> f4c65b61a1e5\nStep 10/13 : WORKDIR /home/node/app\n ---> Running in ae54457d95f2\nRemoving intermediate container ae54457d95f2\n ---> e5aeaefc4357\nStep 11/13 : ENTRYPOINT [ \"./dizquetv\" ]\n ---> Running in d250220af40d\nRemoving intermediate container d250220af40d\n ---> 6832ab4affac\nStep 12/13 : COPY --from=0 /home/node/app/dist/dizquetv /home/node/app/\n ---> 5f78eaf105e8\nStep 13/13 : RUN ln -s /usr/local/bin/ffmpeg /usr/bin/ffmpeg\n ---> Running in 4573720c09f5\nRemoving intermediate container 4573720c09f5\n ---> b808d959a189\nSuccessfully built b808d959a189\nSuccessfully tagged dizquetv:latest\n","stderr":"","imageSize":328176974},"endTime":1672426691341}