{"repository":"https://github.com/geopython/pycsw","dockerfilePath":"Dockerfile","startTime":1673048654376,"endTime":1673048730177,"clone":{"startTime":1673048654376,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/geopython/pycsw'...\n","error":null,"endTime":1673048655738,"commit":"3141fea755c9f61b9d4ce7b23efdc39f8aa8c4f6"},"originalBuild":{"startTime":1673048655825,"endTime":1673048695282,"error":null,"stdout":"Sending build context to Docker daemon  10.34MB\r\r\nStep 1/18 : FROM python:3.8-slim-buster\n3.8-slim-buster: Pulling from library/python\nb52ebda398ed: Already exists\n5ea3b77facf9: Already exists\n3cf88772a539: Pulling fs layer\n58e7c3cd0452: Pulling fs layer\n8b23ff4b1264: Pulling fs layer\n58e7c3cd0452: Verifying Checksum\n8b23ff4b1264: Verifying Checksum\n8b23ff4b1264: Download complete\n3cf88772a539: Verifying Checksum\n3cf88772a539: Download complete\n3cf88772a539: Pull complete\n58e7c3cd0452: Pull complete\n8b23ff4b1264: Pull complete\nDigest: sha256:4cda66a01b5571bd4f3d634b301f72e580a94b2c1ce87ead057040a6dea4a416\nStatus: Downloaded newer image for python:3.8-slim-buster\n ---> 6ba145ad2ad6\nStep 2/18 : LABEL maintainer=\"massimods@met.no,aheimsbakk@met.no,tommkralidis@gmail.com\"\n ---> Running in a761eaa23b66\nRemoving intermediate container a761eaa23b66\n ---> a06e1fc913ec\nStep 3/18 : ARG BUILD_DEV_IMAGE=\"false\"\n ---> Running in 3e779f7a27b2\nRemoving intermediate container 3e779f7a27b2\n ---> 92ed14eb0df2\nStep 4/18 : RUN apt-get update && apt-get install --yes         ca-certificates libexpat1     && rm -rf /var/lib/apt/lists/*\n ---> Running in e368391e141a\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (6163 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20200601~deb10u2).\nlibexpat1 is already the newest version (2.2.6-2+deb10u6).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container e368391e141a\n ---> c68a0e005c70\nStep 5/18 : RUN adduser --uid 1000 --gecos '' --disabled-password pycsw\n ---> Running in 45e12fdaa30b\nAdding user `pycsw' ...\nAdding new group `pycsw' (1000) ...\nAdding new user `pycsw' (1000) with group `pycsw' ...\nCreating home directory `/home/pycsw' ...\nCopying files from `/etc/skel' ...\nRemoving intermediate container 45e12fdaa30b\n ---> ce838501869d\nStep 6/18 : ENV PYCSW_CONFIG=/etc/pycsw/pycsw.cfg\n ---> Running in 40be217ab612\nRemoving intermediate container 40be217ab612\n ---> 3c9497d3b4cf\nStep 7/18 : WORKDIR /home/pycsw/pycsw\n ---> Running in 863be5d691eb\nRemoving intermediate container 863be5d691eb\n ---> 3ac471b1344b\nStep 8/18 : RUN chown --recursive pycsw:pycsw .\n ---> Running in 6050494521ae\nRemoving intermediate container 6050494521ae\n ---> e2c01dcb0f4c\nStep 9/18 : COPY --chown=pycsw     requirements.txt     requirements-standalone.txt     requirements-dev.txt     ./\n ---> ee628496adb3\nStep 10/18 : RUN pip install -U pip &&     python3 -m pip install     --requirement requirements.txt     --requirement requirements-standalone.txt     psycopg2-binary gunicorn     && if [ \"$BUILD_DEV_IMAGE\" = \"true\" ] ; then python3 -m pip install -r requirements-dev.txt; fi\n ---> Running in bb89fa363494\nRequirement already satisfied: pip in /usr/local/lib/python3.8/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 47.4 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.5-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 54.8 MB/s eta 0:00:00\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 9.4 MB/s eta 0:00:00\nCollecting click\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 10.0 MB/s eta 0:00:00\nCollecting geolinks\n  Downloading geolinks-0.2.0.tar.gz (2.7 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting lxml\n  Downloading lxml-4.9.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.1/7.1 MB 46.2 MB/s eta 0:00:00\nCollecting OWSLib\n  Downloading OWSLib-0.27.2-py2.py3-none-any.whl (218 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 218.3/218.3 kB 22.0 MB/s eta 0:00:00\nCollecting pyproj\n  Downloading pyproj-3.4.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (7.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.8/7.8 MB 38.2 MB/s eta 0:00:00\nCollecting Shapely<2.0\n  Downloading Shapely-1.8.5.post1-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 48.6 MB/s eta 0:00:00\nCollecting xmltodict\n  Downloading xmltodict-0.13.0-py2.py3-none-any.whl (10.0 kB)\nCollecting SQLAlchemy\n  Downloading SQLAlchemy-1.4.46-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 52.6 MB/s eta 0:00:00\nCollecting Flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 11.7 MB/s eta 0:00:00\nCollecting pygeofilter\n  Downloading pygeofilter-0.2.0-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.7/77.7 kB 6.3 MB/s eta 0:00:00\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 701.2/701.2 kB 36.5 MB/s eta 0:00:00\nCollecting pygeoif==0.7\n  Downloading pygeoif-0.7.tar.gz (34 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.8/site-packages (from gunicorn) (57.5.0)\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 26.3 MB/s eta 0:00:00\nCollecting python-dateutil>=1.5\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 28.3 MB/s eta 0:00:00\nCollecting requests>=1.0\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 6.2 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 13.6 MB/s eta 0:00:00\nCollecting greenlet!=0.4.17\n  Downloading greenlet-2.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (544 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 544.0/544.0 kB 27.9 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 13.1 MB/s eta 0:00:00\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 20.7 MB/s eta 0:00:00\nCollecting dateparser\n  Downloading dateparser-1.1.5-py2.py3-none-any.whl (293 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 293.2/293.2 kB 29.7 MB/s eta 0:00:00\nCollecting lark<1.0\n  Downloading lark-0.12.0-py2.py3-none-any.whl (103 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.5/103.5 kB 10.8 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 5.2 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 16.8 MB/s eta 0:00:00\nCollecting tzlocal\n  Downloading tzlocal-4.2-py3-none-any.whl (19 kB)\nCollecting regex!=2019.02.19,!=2021.8.27\n  Downloading regex-2022.10.31-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (772 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 772.3/772.3 kB 39.1 MB/s eta 0:00:00\nCollecting backports.zoneinfo\n  Downloading backports.zoneinfo-0.2.1-cp38-cp38-manylinux1_x86_64.whl (74 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 74.0/74.0 kB 8.3 MB/s eta 0:00:00\nCollecting pytz-deprecation-shim\n  Downloading pytz_deprecation_shim-0.1.0.post0-py2.py3-none-any.whl (15 kB)\nCollecting tzdata\n  Downloading tzdata-2022.7-py2.py3-none-any.whl (340 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 340.1/340.1 kB 33.0 MB/s eta 0:00:00\nBuilding wheels for collected packages: pygeoif, geolinks\n  Building wheel for pygeoif (setup.py): started\n  Building wheel for pygeoif (setup.py): finished with status 'done'\n  Created wheel for pygeoif: filename=pygeoif-0.7-py3-none-any.whl size=19248 sha256=4bc3bfa0d785f1d4ea6ee2865f1e4368c02b85af4998a9c61852ae4c9fc1fe46\n  Stored in directory: /root/.cache/pip/wheels/25/00/c6/2c889966c6d28bfb136f92f84a8dbb5a4b1652bce45d1a81fd\n  Building wheel for geolinks (setup.py): started\n  Building wheel for geolinks (setup.py): finished with status 'done'\n  Created wheel for geolinks: filename=geolinks-0.2.0-py3-none-any.whl size=3122 sha256=9a4f533ef6d0cce3e4829bbf37c47f15bc08fdb0bae2f451a64141a5d9ce5d91\n  Stored in directory: /root/.cache/pip/wheels/7d/7f/48/3aef47a249df25e1a03e00b037ee338c68903bdacabe5bc420\nSuccessfully built pygeoif geolinks\nInstalling collected packages: pytz, pygeoif, lark, geolinks, zipp, xmltodict, urllib3, tzdata, six, Shapely, regex, PyYAML, psycopg2-binary, MarkupSafe, lxml, itsdangerous, idna, gunicorn, greenlet, click, charset-normalizer, certifi, backports.zoneinfo, Werkzeug, SQLAlchemy, requests, pytz-deprecation-shim, python-dateutil, pyproj, Jinja2, importlib-metadata, tzlocal, OWSLib, Flask, dateparser, pygeofilter\nSuccessfully installed Flask-2.2.2 Jinja2-3.1.2 MarkupSafe-2.1.1 OWSLib-0.27.2 PyYAML-6.0 SQLAlchemy-1.4.46 Shapely-1.8.5.post1 Werkzeug-2.2.2 backports.zoneinfo-0.2.1 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 dateparser-1.1.5 geolinks-0.2.0 greenlet-2.0.1 gunicorn-20.1.0 idna-3.4 importlib-metadata-6.0.0 itsdangerous-2.1.2 lark-0.12.0 lxml-4.9.2 psycopg2-binary-2.9.5 pygeofilter-0.2.0 pygeoif-0.7 pyproj-3.4.1 python-dateutil-2.8.2 pytz-2022.7 pytz-deprecation-shim-0.1.0.post0 regex-2022.10.31 requests-2.28.1 six-1.16.0 tzdata-2022.7 tzlocal-4.2 urllib3-1.26.13 xmltodict-0.13.0 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container bb89fa363494\n ---> d5599ec81174\nStep 11/18 : COPY --chown=pycsw . .\n ---> 16aa5494e488\nStep 12/18 : COPY docker/pycsw.cfg ${PYCSW_CONFIG}\n ---> 7ea1943db81f\nStep 13/18 : COPY docker/entrypoint.py /usr/local/bin/entrypoint.py\n ---> ff965f0e9c7e\nStep 14/18 : RUN python3 -m pip install --editable .\n ---> Running in b763f1ca98ff\nObtaining file:///home/pycsw/pycsw\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: click in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (8.1.3)\nRequirement already satisfied: geolinks in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (0.2.0)\nRequirement already satisfied: lxml in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (4.9.2)\nRequirement already satisfied: OWSLib in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (0.27.2)\nRequirement already satisfied: pyproj in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (3.4.1)\nRequirement already satisfied: Shapely<2.0 in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (1.8.5.post1)\nRequirement already satisfied: xmltodict in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (0.13.0)\nRequirement already satisfied: pyyaml in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (6.0)\nRequirement already satisfied: python-dateutil>=1.5 in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (2.8.2)\nRequirement already satisfied: pytz in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (2022.7)\nRequirement already satisfied: requests>=1.0 in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (2.28.1)\nRequirement already satisfied: certifi in /usr/local/lib/python3.8/site-packages (from pyproj->pycsw==3.0.dev0) (2022.12.7)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.8/site-packages (from python-dateutil>=1.5->OWSLib->pycsw==3.0.dev0) (1.16.0)\nRequirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.8/site-packages (from requests>=1.0->OWSLib->pycsw==3.0.dev0) (3.4)\nRequirement already satisfied: charset-normalizer<3,>=2 in /usr/local/lib/python3.8/site-packages (from requests>=1.0->OWSLib->pycsw==3.0.dev0) (2.1.1)\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.8/site-packages (from requests>=1.0->OWSLib->pycsw==3.0.dev0) (1.26.13)\nInstalling collected packages: pycsw\n  Running setup.py develop for pycsw\nSuccessfully installed pycsw-3.0.dev0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container b763f1ca98ff\n ---> bb80e1e5d24c\nStep 15/18 : WORKDIR /home/pycsw\n ---> Running in b37a634b66cd\nRemoving intermediate container b37a634b66cd\n ---> 22e7f828cf23\nStep 16/18 : EXPOSE 8000\n ---> Running in fb60a4cabc3b\nRemoving intermediate container fb60a4cabc3b\n ---> 38963d64e017\nStep 17/18 : USER pycsw\n ---> Running in 93b7dc5be2c6\nRemoving intermediate container 93b7dc5be2c6\n ---> 6b86b9a8e6d5\nStep 18/18 : ENTRYPOINT [ \"python3\", \"/usr/local/bin/entrypoint.py\" ]\n ---> Running in 7b0e660e633a\nRemoving intermediate container 7b0e660e633a\n ---> 8a34412e7916\nSuccessfully built 8a34412e7916\nSuccessfully tagged pycsw:latest\n","stderr":"","imageSize":267340221},"repair":{"startTime":1673048695344,"endTime":1673048695485,"violations":[{"name":"pipUseNoCacheDir","position":{"start":65,"end":65,"columnStart":4,"columnEnd":22}},{"name":"aptGetInstallUseNoRec","position":{"start":46,"end":47,"columnStart":22,"columnEnd":33}}],"repairedDockerfile":"# =================================================================\n# Authors: Ricardo Garcia Silva <ricardo.garcia.silva@gmail.com>\n# Authors: Massimo Di Stefano <epiesasha@me.com>\n# Authors: Tom Kralidis <tomkralidis@gmail.com>\n# Authors: Angelos Tzotsos <gcpp.kalxas@gmail.com>\n#\n# Contributors: Arnulf Heimsbakk <aheimsbakk@met.no>\n#               Tom Kralidis <tomkralidis@gmail.com>\n#\n# Copyright (c) 2020 Ricardo Garcia Silva\n# Copyright (c) 2020 Massimo Di Stefano\n# Copyright (c) 2020 Tom Kralidis\n# Copyright (c) 2020 Angelos Tzotsos\n#\n# Permission is hereby granted, free of charge, to any person\n# obtaining a copy of this software and associated documentation\n# files (the \"Software\"), to deal in the Software without\n# restriction, including without limitation the rights to use,\n# copy, modify, merge, publish, distribute, sublicense, and/or sell\n# copies of the Software, and to permit persons to whom the\n# Software is furnished to do so, subject to the following\n# conditions:\n#\n# The above copyright notice and this permission notice shall be\n# included in all copies or substantial portions of the Software.\n#\n# THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n# OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n# HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n# WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n# OTHER DEALINGS IN THE SOFTWARE.\n#\n#\n# =================================================================\n\nFROM python:3.8-slim-buster\nLABEL maintainer=\"massimods@met.no,aheimsbakk@met.no,tommkralidis@gmail.com\"\n\n# Build arguments\n# add \"--build-arg BUILD_DEV_IMAGE=true\" to Docker build command when building with test/doc tools\n\nARG BUILD_DEV_IMAGE=\"false\"\n\nRUN apt-get update && apt-get install --no-install-recommends --yes \\\n        ca-certificates libexpat1 \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN adduser --uid 1000 --gecos '' --disabled-password pycsw\n\nENV PYCSW_CONFIG=/etc/pycsw/pycsw.cfg\n\nWORKDIR /home/pycsw/pycsw\n\nRUN chown --recursive pycsw:pycsw .\n\n# initially copy only the requirements files\nCOPY --chown=pycsw \\\n    requirements.txt \\\n    requirements-standalone.txt \\\n    requirements-dev.txt \\\n    ./\n\nRUN pip install --no-cache-dir -U pip && \\\n    python3 -m pip install \\\n    --requirement requirements.txt \\\n    --requirement requirements-standalone.txt \\\n    psycopg2-binary gunicorn \\\n    && if [ \"$BUILD_DEV_IMAGE\" = \"true\" ] ; then python3 -m pip install -r requirements-dev.txt; fi\n\nCOPY --chown=pycsw . .\n\nCOPY docker/pycsw.cfg ${PYCSW_CONFIG}\nCOPY docker/entrypoint.py /usr/local/bin/entrypoint.py\n\nRUN python3 -m pip install --editable .\n\nWORKDIR /home/pycsw\n\nEXPOSE 8000\n\nUSER pycsw\n\nENTRYPOINT [ \"python3\", \"/usr/local/bin/entrypoint.py\" ]\n"},"repairedBuild":{"startTime":1673048695785,"endTime":1673048729779,"error":null,"stdout":"Sending build context to Docker daemon  10.34MB\r\r\nStep 1/18 : FROM python:3.8-slim-buster\n ---> 6ba145ad2ad6\nStep 2/18 : LABEL maintainer=\"massimods@met.no,aheimsbakk@met.no,tommkralidis@gmail.com\"\n ---> Running in c89454084ec9\nRemoving intermediate container c89454084ec9\n ---> a5df621be843\nStep 3/18 : ARG BUILD_DEV_IMAGE=\"false\"\n ---> Running in 21fcd140ddb3\nRemoving intermediate container 21fcd140ddb3\n ---> c1b6f503f939\nStep 4/18 : RUN apt-get update && apt-get install --no-install-recommends --yes         ca-certificates libexpat1     && rm -rf /var/lib/apt/lists/*\n ---> Running in a3cc4ce39761\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (6393 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nca-certificates is already the newest version (20200601~deb10u2).\nlibexpat1 is already the newest version (2.2.6-2+deb10u6).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nRemoving intermediate container a3cc4ce39761\n ---> b2f260f64ced\nStep 5/18 : RUN adduser --uid 1000 --gecos '' --disabled-password pycsw\n ---> Running in 59de91e0fc1b\nAdding user `pycsw' ...\nAdding new group `pycsw' (1000) ...\nAdding new user `pycsw' (1000) with group `pycsw' ...\nCreating home directory `/home/pycsw' ...\nCopying files from `/etc/skel' ...\nRemoving intermediate container 59de91e0fc1b\n ---> 042d67f8e053\nStep 6/18 : ENV PYCSW_CONFIG=/etc/pycsw/pycsw.cfg\n ---> Running in 5cb376ad72d6\nRemoving intermediate container 5cb376ad72d6\n ---> 595964e11f7b\nStep 7/18 : WORKDIR /home/pycsw/pycsw\n ---> Running in 670d2609bdff\nRemoving intermediate container 670d2609bdff\n ---> 1af9a60372c6\nStep 8/18 : RUN chown --recursive pycsw:pycsw .\n ---> Running in 6f6dd6fba758\nRemoving intermediate container 6f6dd6fba758\n ---> befcd3c4c356\nStep 9/18 : COPY --chown=pycsw     requirements.txt     requirements-standalone.txt     requirements-dev.txt     ./\n ---> e7aebd8e5808\nStep 10/18 : RUN pip install --no-cache-dir -U pip &&     python3 -m pip install     --requirement requirements.txt     --requirement requirements-standalone.txt     psycopg2-binary gunicorn     && if [ \"$BUILD_DEV_IMAGE\" = \"true\" ] ; then python3 -m pip install -r requirements-dev.txt; fi\n ---> Running in e6e7feb71ab1\nRequirement already satisfied: pip in /usr/local/lib/python3.8/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 99.7 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.5-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 45.9 MB/s eta 0:00:00\nCollecting gunicorn\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 9.5 MB/s eta 0:00:00\nCollecting click\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 9.5 MB/s eta 0:00:00\nCollecting geolinks\n  Downloading geolinks-0.2.0.tar.gz (2.7 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting lxml\n  Downloading lxml-4.9.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.1/7.1 MB 48.1 MB/s eta 0:00:00\nCollecting OWSLib\n  Downloading OWSLib-0.27.2-py2.py3-none-any.whl (218 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 218.3/218.3 kB 18.9 MB/s eta 0:00:00\nCollecting pyproj\n  Downloading pyproj-3.4.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (7.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.8/7.8 MB 48.5 MB/s eta 0:00:00\nCollecting Shapely<2.0\n  Downloading Shapely-1.8.5.post1-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 56.7 MB/s eta 0:00:00\nCollecting xmltodict\n  Downloading xmltodict-0.13.0-py2.py3-none-any.whl (10.0 kB)\nCollecting SQLAlchemy\n  Downloading SQLAlchemy-1.4.46-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 43.6 MB/s eta 0:00:00\nCollecting Flask\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 10.2 MB/s eta 0:00:00\nCollecting pygeofilter\n  Downloading pygeofilter-0.2.0-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.7/77.7 kB 7.2 MB/s eta 0:00:00\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 701.2/701.2 kB 41.6 MB/s eta 0:00:00\nCollecting pygeoif==0.7\n  Downloading pygeoif-0.7.tar.gz (34 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.8/site-packages (from gunicorn) (57.5.0)\nCollecting python-dateutil>=1.5\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 19.5 MB/s eta 0:00:00\nCollecting requests>=1.0\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 6.1 MB/s eta 0:00:00\nCollecting pytz\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 35.7 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 18.2 MB/s eta 0:00:00\nCollecting greenlet!=0.4.17\n  Downloading greenlet-2.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (544 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 544.0/544.0 kB 40.7 MB/s eta 0:00:00\nCollecting Werkzeug>=2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 21.6 MB/s eta 0:00:00\nCollecting itsdangerous>=2.0\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting Jinja2>=3.0\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 13.3 MB/s eta 0:00:00\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting lark<1.0\n  Downloading lark-0.12.0-py2.py3-none-any.whl (103 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.5/103.5 kB 9.4 MB/s eta 0:00:00\nCollecting dateparser\n  Downloading dateparser-1.1.5-py2.py3-none-any.whl (293 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 293.2/293.2 kB 25.7 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 14.4 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 6.9 MB/s eta 0:00:00\nCollecting regex!=2019.02.19,!=2021.8.27\n  Downloading regex-2022.10.31-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (772 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 772.3/772.3 kB 43.2 MB/s eta 0:00:00\nCollecting tzlocal\n  Downloading tzlocal-4.2-py3-none-any.whl (19 kB)\nCollecting backports.zoneinfo\n  Downloading backports.zoneinfo-0.2.1-cp38-cp38-manylinux1_x86_64.whl (74 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 74.0/74.0 kB 7.4 MB/s eta 0:00:00\nCollecting pytz-deprecation-shim\n  Downloading pytz_deprecation_shim-0.1.0.post0-py2.py3-none-any.whl (15 kB)\nCollecting tzdata\n  Downloading tzdata-2022.7-py2.py3-none-any.whl (340 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 340.1/340.1 kB 27.6 MB/s eta 0:00:00\nBuilding wheels for collected packages: pygeoif, geolinks\n  Building wheel for pygeoif (setup.py): started\n  Building wheel for pygeoif (setup.py): finished with status 'done'\n  Created wheel for pygeoif: filename=pygeoif-0.7-py3-none-any.whl size=19248 sha256=7fc2ad10af748b970510f6747b50feaeaf0819da4f9926cbdb8a3d625938cdd8\n  Stored in directory: /root/.cache/pip/wheels/25/00/c6/2c889966c6d28bfb136f92f84a8dbb5a4b1652bce45d1a81fd\n  Building wheel for geolinks (setup.py): started\n  Building wheel for geolinks (setup.py): finished with status 'done'\n  Created wheel for geolinks: filename=geolinks-0.2.0-py3-none-any.whl size=3122 sha256=d1d15754258d0c4ae9d48bd29ea3bc6a1f65770753be8cd8785eb10fef7bafc0\n  Stored in directory: /root/.cache/pip/wheels/7d/7f/48/3aef47a249df25e1a03e00b037ee338c68903bdacabe5bc420\nSuccessfully built pygeoif geolinks\nInstalling collected packages: pytz, pygeoif, lark, geolinks, zipp, xmltodict, urllib3, tzdata, six, Shapely, regex, PyYAML, psycopg2-binary, MarkupSafe, lxml, itsdangerous, idna, gunicorn, greenlet, click, charset-normalizer, certifi, backports.zoneinfo, Werkzeug, SQLAlchemy, requests, pytz-deprecation-shim, python-dateutil, pyproj, Jinja2, importlib-metadata, tzlocal, OWSLib, Flask, dateparser, pygeofilter\nSuccessfully installed Flask-2.2.2 Jinja2-3.1.2 MarkupSafe-2.1.1 OWSLib-0.27.2 PyYAML-6.0 SQLAlchemy-1.4.46 Shapely-1.8.5.post1 Werkzeug-2.2.2 backports.zoneinfo-0.2.1 certifi-2022.12.7 charset-normalizer-2.1.1 click-8.1.3 dateparser-1.1.5 geolinks-0.2.0 greenlet-2.0.1 gunicorn-20.1.0 idna-3.4 importlib-metadata-6.0.0 itsdangerous-2.1.2 lark-0.12.0 lxml-4.9.2 psycopg2-binary-2.9.5 pygeofilter-0.2.0 pygeoif-0.7 pyproj-3.4.1 python-dateutil-2.8.2 pytz-2022.7 pytz-deprecation-shim-0.1.0.post0 regex-2022.10.31 requests-2.28.1 six-1.16.0 tzdata-2022.7 tzlocal-4.2 urllib3-1.26.13 xmltodict-0.13.0 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container e6e7feb71ab1\n ---> 12b34fbff76f\nStep 11/18 : COPY --chown=pycsw . .\n ---> 321b9b052266\nStep 12/18 : COPY docker/pycsw.cfg ${PYCSW_CONFIG}\n ---> 27a0a60d05ca\nStep 13/18 : COPY docker/entrypoint.py /usr/local/bin/entrypoint.py\n ---> 4a7fee784822\nStep 14/18 : RUN python3 -m pip install --editable .\n ---> Running in ab0b2b2d912f\nObtaining file:///home/pycsw/pycsw\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: click in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (8.1.3)\nRequirement already satisfied: geolinks in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (0.2.0)\nRequirement already satisfied: lxml in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (4.9.2)\nRequirement already satisfied: OWSLib in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (0.27.2)\nRequirement already satisfied: pyproj in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (3.4.1)\nRequirement already satisfied: Shapely<2.0 in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (1.8.5.post1)\nRequirement already satisfied: xmltodict in /usr/local/lib/python3.8/site-packages (from pycsw==3.0.dev0) (0.13.0)\nRequirement already satisfied: pytz in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (2022.7)\nRequirement already satisfied: python-dateutil>=1.5 in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (2.8.2)\nRequirement already satisfied: pyyaml in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (6.0)\nRequirement already satisfied: requests>=1.0 in /usr/local/lib/python3.8/site-packages (from OWSLib->pycsw==3.0.dev0) (2.28.1)\nRequirement already satisfied: certifi in /usr/local/lib/python3.8/site-packages (from pyproj->pycsw==3.0.dev0) (2022.12.7)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.8/site-packages (from python-dateutil>=1.5->OWSLib->pycsw==3.0.dev0) (1.16.0)\nRequirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.8/site-packages (from requests>=1.0->OWSLib->pycsw==3.0.dev0) (3.4)\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.8/site-packages (from requests>=1.0->OWSLib->pycsw==3.0.dev0) (1.26.13)\nRequirement already satisfied: charset-normalizer<3,>=2 in /usr/local/lib/python3.8/site-packages (from requests>=1.0->OWSLib->pycsw==3.0.dev0) (2.1.1)\nInstalling collected packages: pycsw\n  Running setup.py develop for pycsw\nSuccessfully installed pycsw-3.0.dev0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container ab0b2b2d912f\n ---> 4eb10ec554a4\nStep 15/18 : WORKDIR /home/pycsw\n ---> Running in 4ed2fad900f8\nRemoving intermediate container 4ed2fad900f8\n ---> 3f6447631846\nStep 16/18 : EXPOSE 8000\n ---> Running in 5ef2931f01e6\nRemoving intermediate container 5ef2931f01e6\n ---> d1da5da3bf1f\nStep 17/18 : USER pycsw\n ---> Running in 427413b29d5f\nRemoving intermediate container 427413b29d5f\n ---> 0fcb105dfc71\nStep 18/18 : ENTRYPOINT [ \"python3\", \"/usr/local/bin/entrypoint.py\" ]\n ---> Running in 6d3e10610b77\nRemoving intermediate container 6d3e10610b77\n ---> 33d0668c5c7a\nSuccessfully built 33d0668c5c7a\nSuccessfully tagged pycsw:latest\n","stderr":"","imageSize":265287867}}