{"repository":"https://github.com/lifull-dev/bucky-core","dockerfilePath":"Dockerfile","startTime":1672272392323,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lifull-dev/bucky-core'...\n","error":null,"commit":"e6b15a369e52b61ebfe5b162426de17d2ee9f146"},"originalBuild":{"startTimestamp":1672272393228,"endTimestamp":1672272457074,"error":null,"stdout":"Sending build context to Docker daemon  434.2kB\r\r\nStep 1/8 : FROM ruby:2.6.10-alpine\n2.6.10-alpine: Pulling from library/ruby\ndf9b9388f04a: Pulling fs layer\n837e9cfc7e43: Pulling fs layer\nc7850f1a8c23: Pulling fs layer\nb303053af850: Pulling fs layer\nf3d5bf52dffa: Pulling fs layer\nb303053af850: Waiting\nf3d5bf52dffa: Waiting\nc7850f1a8c23: Verifying Checksum\nc7850f1a8c23: Download complete\ndf9b9388f04a: Verifying Checksum\ndf9b9388f04a: Download complete\n837e9cfc7e43: Verifying Checksum\n837e9cfc7e43: Download complete\nf3d5bf52dffa: Download complete\nb303053af850: Verifying Checksum\nb303053af850: Download complete\ndf9b9388f04a: Pull complete\n837e9cfc7e43: Pull complete\nc7850f1a8c23: Pull complete\nb303053af850: Pull complete\nf3d5bf52dffa: Pull complete\nDigest: sha256:382ce92de42ef027bf1bfe382c3f3c3878042c41c07da8b8aa41855db0894762\nStatus: Downloaded newer image for ruby:2.6.10-alpine\n ---> 2254a013410a\nStep 2/8 : ENV LANG ja_JP.UTF-8\n ---> Running in bd2bcbdd4077\nRemoving intermediate container bd2bcbdd4077\n ---> cb3011889af1\nStep 3/8 : ENV PAGER busybox less\n ---> Running in ff18728a2016\nRemoving intermediate container ff18728a2016\n ---> 13f7cc9bb071\nStep 4/8 : RUN apk update &&     apk upgrade &&     apk add --update    bash     build-base     curl-dev     git     iproute2     libxml2-dev     libxslt-dev     linux-headers     mysql-dev     openssh     ruby-dev     ruby-json     tzdata     yaml     yaml-dev     zlib-dev\n ---> Running in d3cf6367f192\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15868 distinct packages available\n(1/10) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(2/10) Upgrading ncurses-terminfo-base (6.3_p20211120-r0 -> 6.3_p20211120-r1)\n(3/10) Upgrading ncurses-libs (6.3_p20211120-r0 -> 6.3_p20211120-r1)\n(4/10) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/10) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\n(6/10) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(7/10) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(8/10) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(9/10) Upgrading ca-certificates (20211220-r0 -> 20220614-r0)\n(10/10) Upgrading zlib-dev (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 20 MiB in 36 packages\n(1/67) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(2/67) Installing binutils (2.37-r3)\n(3/67) Installing libmagic (5.41-r0)\n(4/67) Installing file (5.41-r0)\n(5/67) Installing libgomp (10.3.1_git20211027-r0)\n(6/67) Installing libatomic (10.3.1_git20211027-r0)\n(7/67) Installing libgphobos (10.3.1_git20211027-r0)\n(8/67) Installing isl22 (0.22-r0)\n(9/67) Installing mpfr4 (4.1.0-r0)\n(10/67) Installing mpc1 (1.2.1-r0)\n(11/67) Installing gcc (10.3.1_git20211027-r0)\n(12/67) Installing musl-dev (1.2.2-r7)\n(13/67) Installing libc-dev (0.7.2-r3)\n(14/67) Installing g++ (10.3.1_git20211027-r0)\n(15/67) Installing make (4.3-r0)\n(16/67) Installing fortify-headers (1.1-r1)\n(17/67) Installing patch (2.7.6-r7)\n(18/67) Installing build-base (0.5-r3)\n(19/67) Installing openssl-dev (1.1.1s-r1)\n(20/67) Installing nghttp2-libs (1.46.0-r0)\n(21/67) Installing nghttp2-dev (1.46.0-r0)\n(22/67) Installing brotli-libs (1.0.9-r5)\n(23/67) Installing brotli-dev (1.0.9-r5)\n(24/67) Installing libcurl (7.80.0-r5)\n(25/67) Installing curl-dev (7.80.0-r5)\n(26/67) Installing expat (2.5.0-r0)\n(27/67) Installing pcre2 (10.40-r0)\n(28/67) Installing git (2.34.5-r0)\n(29/67) Installing iproute2 (5.15.0-r0)\nExecuting iproute2-5.15.0-r0.post-install\n(30/67) Installing libbz2 (1.0.8-r1)\n(31/67) Installing fts (1.2.7-r1)\n(32/67) Installing xz-libs (5.2.5-r1)\n(33/67) Installing libelf (0.185-r0)\n(34/67) Installing libmnl (1.0.4-r2)\n(35/67) Installing libnftnl (1.2.1-r0)\n(36/67) Installing iptables (1.8.7-r1)\n(37/67) Installing iproute2-tc (5.15.0-r0)\n(38/67) Installing iproute2-minimal (5.15.0-r0)\n(39/67) Installing iproute2-ss (5.15.0-r0)\n(40/67) Installing xz-dev (5.2.5-r1)\n(41/67) Installing libxml2 (2.9.14-r2)\n(42/67) Installing libxml2-dev (2.9.14-r2)\n(43/67) Installing libgpg-error (1.42-r1)\n(44/67) Installing libgcrypt (1.9.4-r0)\n(45/67) Installing libxslt (1.1.35-r0)\n(46/67) Installing libxslt-dev (1.1.35-r0)\n(47/67) Installing mariadb-connector-c (3.1.13-r2)\n(48/67) Installing mariadb-connector-c-dev (3.1.13-r2)\n(49/67) Installing mariadb-common (10.6.10-r0)\n(50/67) Installing libaio (0.3.112-r1)\n(51/67) Installing mariadb-embedded (10.6.10-r0)\n(52/67) Installing mariadb-dev (10.6.10-r0)\n(53/67) Installing openssh-keygen (8.8_p1-r1)\n(54/67) Installing libedit (20210910.3.1-r0)\n(55/67) Installing openssh-client-common (8.8_p1-r1)\n(56/67) Installing openssh-client-default (8.8_p1-r1)\n(57/67) Installing openssh-sftp-server (8.8_p1-r1)\n(58/67) Installing openssh-server-common (8.8_p1-r1)\n(59/67) Installing openssh-server (8.8_p1-r1)\n(60/67) Installing openssh (8.8_p1-r1)\n(61/67) Installing libucontext (1.1-r0)\n(62/67) Installing ruby-libs (3.0.4-r0)\n(63/67) Installing ruby (3.0.4-r0)\n(64/67) Installing ruby-rdoc (3.0.4-r0)\n(65/67) Installing libucontext-dev (1.1-r0)\n(66/67) Installing ruby-dev (3.0.4-r0)\n(67/67) Installing tzdata (2022f-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 296 MiB in 103 packages\nRemoving intermediate container d3cf6367f192\n ---> 144f1ea351c4\nStep 5/8 : RUN gem install bucky-core\n ---> Running in 593563cad18c\nSuccessfully installed public_suffix-5.0.1\nSuccessfully installed addressable-2.8.1\n\nThank you for installing! =(^x^=\nSee also http://colorecho.github.io\n\nSuccessfully installed color_echo-3.1.1\nBuilding native extensions. This could take a while...\nSuccessfully installed json-2.3.1\nBuilding native extensions. This could take a while...\nSuccessfully installed racc-1.6.2\nSuccessfully installed nokogiri-1.11.7-x86_64-linux\nSuccessfully installed parallel-1.22.1\nSuccessfully installed ruby-mysql-2.11.1\nRubyZip 3.0 is coming!\n**********************\n\nThe public API of some Rubyzip classes has been modernized to use named\nparameters for optional arguments. Please check your usage of the\nfollowing classes:\n  * `Zip::File`\n  * `Zip::Entry`\n  * `Zip::InputStream`\n  * `Zip::OutputStream`\n\nPlease ensure that your Gemfiles and .gemspecs are suitably restrictive\nto avoid an unexpected breakage when 3.0 is released (e.g. ~> 2.3.0).\nSee https://github.com/rubyzip/rubyzip for details. The Changelog also\nlists other enhancements and bugfixes that have been implemented since\nversion 2.3.0.\nSuccessfully installed rubyzip-2.3.2\nSuccessfully installed childprocess-3.0.0\nSuccessfully installed selenium-webdriver-3.142.7\nSuccessfully installed sequel-4.49.0\nSuccessfully installed bucky-core-0.10.24\n13 gems installed\nRemoving intermediate container 593563cad18c\n ---> 956ebf958a0b\nStep 6/8 : WORKDIR /app\n ---> Running in 11266a392929\nRemoving intermediate container 11266a392929\n ---> afe48acb450b\nStep 7/8 : RUN chown -R nobody:nobody /app\n ---> Running in 5eb29aa5542b\nRemoving intermediate container 5eb29aa5542b\n ---> 3e81fc6113fa\nStep 8/8 : USER nobody\n ---> Running in e31145a55bf5\nRemoving intermediate container e31145a55bf5\n ---> 03046d256655\nSuccessfully built 03046d256655\nSuccessfully tagged bucky-core:latest\n","stderr":"","imageSize":362178754},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":22,"columnStart":4,"columnEnd":12}}],"repairedDockerfile":"FROM ruby:2.6.10-alpine\nENV LANG ja_JP.UTF-8\nENV PAGER busybox less\n\nRUN apk update && \\\n    apk upgrade && \\\n    apk add --no-cache --update \\\n    bash \\\n    build-base \\\n    curl-dev \\\n    git \\\n    iproute2 \\\n    libxml2-dev \\\n    libxslt-dev \\\n    linux-headers \\\n    mysql-dev \\\n    openssh \\\n    ruby-dev \\\n    ruby-json \\\n    tzdata \\\n    yaml \\\n    yaml-dev \\\n    zlib-dev\n\nRUN gem install bucky-core\n\nWORKDIR /app\nRUN chown -R nobody:nobody /app\nUSER nobody"},"repairedBuild":{"startTimestamp":1672272457511,"endTimestamp":1672272555754,"error":null,"stdout":"Sending build context to Docker daemon  434.2kB\r\r\nStep 1/8 : FROM ruby:2.6.10-alpine\n ---> 2254a013410a\nStep 2/8 : ENV LANG ja_JP.UTF-8\n ---> Running in 2166f29b33e5\nRemoving intermediate container 2166f29b33e5\n ---> 43cc2de3308e\nStep 3/8 : ENV PAGER busybox less\n ---> Running in 724cb3fa4dd3\nRemoving intermediate container 724cb3fa4dd3\n ---> 26d02c6adc78\nStep 4/8 : RUN apk update &&     apk upgrade &&     apk add --no-cache --update     bash     build-base     curl-dev     git     iproute2     libxml2-dev     libxslt-dev     linux-headers     mysql-dev     openssh     ruby-dev     ruby-json     tzdata     yaml     yaml-dev     zlib-dev\n ---> Running in b972a94f9ae7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15868 distinct packages available\n(1/10) Upgrading libcrypto1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(2/10) Upgrading ncurses-terminfo-base (6.3_p20211120-r0 -> 6.3_p20211120-r1)\n(3/10) Upgrading ncurses-libs (6.3_p20211120-r0 -> 6.3_p20211120-r1)\n(4/10) Upgrading libssl1.1 (1.1.1n-r0 -> 1.1.1s-r1)\n(5/10) Upgrading zlib (1.2.12-r0 -> 1.2.12-r3)\n(6/10) Upgrading busybox (1.34.1-r5 -> 1.34.1-r7)\nExecuting busybox-1.34.1-r7.post-upgrade\n(7/10) Upgrading ca-certificates-bundle (20211220-r0 -> 20220614-r0)\n(8/10) Upgrading ssl_client (1.34.1-r5 -> 1.34.1-r7)\n(9/10) Upgrading ca-certificates (20211220-r0 -> 20220614-r0)\n(10/10) Upgrading zlib-dev (1.2.12-r0 -> 1.2.12-r3)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 20 MiB in 36 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/67) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(2/67) Installing binutils (2.37-r3)\n(3/67) Installing libmagic (5.41-r0)\n(4/67) Installing file (5.41-r0)\n(5/67) Installing libgomp (10.3.1_git20211027-r0)\n(6/67) Installing libatomic (10.3.1_git20211027-r0)\n(7/67) Installing libgphobos (10.3.1_git20211027-r0)\n(8/67) Installing isl22 (0.22-r0)\n(9/67) Installing mpfr4 (4.1.0-r0)\n(10/67) Installing mpc1 (1.2.1-r0)\n(11/67) Installing gcc (10.3.1_git20211027-r0)\n(12/67) Installing musl-dev (1.2.2-r7)\n(13/67) Installing libc-dev (0.7.2-r3)\n(14/67) Installing g++ (10.3.1_git20211027-r0)\n(15/67) Installing make (4.3-r0)\n(16/67) Installing fortify-headers (1.1-r1)\n(17/67) Installing patch (2.7.6-r7)\n(18/67) Installing build-base (0.5-r3)\n(19/67) Installing openssl-dev (1.1.1s-r1)\n(20/67) Installing nghttp2-libs (1.46.0-r0)\n(21/67) Installing nghttp2-dev (1.46.0-r0)\n(22/67) Installing brotli-libs (1.0.9-r5)\n(23/67) Installing brotli-dev (1.0.9-r5)\n(24/67) Installing libcurl (7.80.0-r5)\n(25/67) Installing curl-dev (7.80.0-r5)\n(26/67) Installing expat (2.5.0-r0)\n(27/67) Installing pcre2 (10.40-r0)\n(28/67) Installing git (2.34.5-r0)\n(29/67) Installing iproute2 (5.15.0-r0)\nExecuting iproute2-5.15.0-r0.post-install\n(30/67) Installing libbz2 (1.0.8-r1)\n(31/67) Installing fts (1.2.7-r1)\n(32/67) Installing xz-libs (5.2.5-r1)\n(33/67) Installing libelf (0.185-r0)\n(34/67) Installing libmnl (1.0.4-r2)\n(35/67) Installing libnftnl (1.2.1-r0)\n(36/67) Installing iptables (1.8.7-r1)\n(37/67) Installing iproute2-tc (5.15.0-r0)\n(38/67) Installing iproute2-minimal (5.15.0-r0)\n(39/67) Installing iproute2-ss (5.15.0-r0)\n(40/67) Installing xz-dev (5.2.5-r1)\n(41/67) Installing libxml2 (2.9.14-r2)\n(42/67) Installing libxml2-dev (2.9.14-r2)\n(43/67) Installing libgpg-error (1.42-r1)\n(44/67) Installing libgcrypt (1.9.4-r0)\n(45/67) Installing libxslt (1.1.35-r0)\n(46/67) Installing libxslt-dev (1.1.35-r0)\n(47/67) Installing mariadb-connector-c (3.1.13-r2)\n(48/67) Installing mariadb-connector-c-dev (3.1.13-r2)\n(49/67) Installing mariadb-common (10.6.10-r0)\n(50/67) Installing libaio (0.3.112-r1)\n(51/67) Installing mariadb-embedded (10.6.10-r0)\n(52/67) Installing mariadb-dev (10.6.10-r0)\n(53/67) Installing openssh-keygen (8.8_p1-r1)\n(54/67) Installing libedit (20210910.3.1-r0)\n(55/67) Installing openssh-client-common (8.8_p1-r1)\n(56/67) Installing openssh-client-default (8.8_p1-r1)\n(57/67) Installing openssh-sftp-server (8.8_p1-r1)\n(58/67) Installing openssh-server-common (8.8_p1-r1)\n(59/67) Installing openssh-server (8.8_p1-r1)\n(60/67) Installing openssh (8.8_p1-r1)\n(61/67) Installing libucontext (1.1-r0)\n(62/67) Installing ruby-libs (3.0.4-r0)\n(63/67) Installing ruby (3.0.4-r0)\n(64/67) Installing ruby-rdoc (3.0.4-r0)\n(65/67) Installing libucontext-dev (1.1-r0)\n(66/67) Installing ruby-dev (3.0.4-r0)\n(67/67) Installing tzdata (2022f-r1)\nExecuting busybox-1.34.1-r7.trigger\nOK: 296 MiB in 103 packages\nRemoving intermediate container b972a94f9ae7\n ---> 8d0c9c5964c0\nStep 5/8 : RUN gem install bucky-core\n ---> Running in 3cdb0d9e4b49\nSuccessfully installed public_suffix-5.0.1\nSuccessfully installed addressable-2.8.1\n\nThank you for installing! =(^x^=\nSee also http://colorecho.github.io\n\nSuccessfully installed color_echo-3.1.1\nBuilding native extensions. This could take a while...\nSuccessfully installed json-2.3.1\nBuilding native extensions. This could take a while...\nSuccessfully installed racc-1.6.2\nSuccessfully installed nokogiri-1.11.7-x86_64-linux\nSuccessfully installed parallel-1.22.1\nSuccessfully installed ruby-mysql-2.11.1\nRubyZip 3.0 is coming!\n**********************\n\nThe public API of some Rubyzip classes has been modernized to use named\nparameters for optional arguments. Please check your usage of the\nfollowing classes:\n  * `Zip::File`\n  * `Zip::Entry`\n  * `Zip::InputStream`\n  * `Zip::OutputStream`\n\nPlease ensure that your Gemfiles and .gemspecs are suitably restrictive\nto avoid an unexpected breakage when 3.0 is released (e.g. ~> 2.3.0).\nSee https://github.com/rubyzip/rubyzip for details. The Changelog also\nlists other enhancements and bugfixes that have been implemented since\nversion 2.3.0.\nSuccessfully installed rubyzip-2.3.2\nSuccessfully installed childprocess-3.0.0\nSuccessfully installed selenium-webdriver-3.142.7\nSuccessfully installed sequel-4.49.0\nSuccessfully installed bucky-core-0.10.24\n13 gems installed\nRemoving intermediate container 3cdb0d9e4b49\n ---> 54182b35fcd2\nStep 6/8 : WORKDIR /app\n ---> Running in 41394ee9c59d\nRemoving intermediate container 41394ee9c59d\n ---> b2b21948916a\nStep 7/8 : RUN chown -R nobody:nobody /app\n ---> Running in 9d61a23c8790\nRemoving intermediate container 9d61a23c8790\n ---> 5250c2d400fd\nStep 8/8 : USER nobody\n ---> Running in da9dc6e682c7\nRemoving intermediate container da9dc6e682c7\n ---> 2670fefa9203\nSuccessfully built 2670fefa9203\nSuccessfully tagged bucky-core:latest\n","stderr":"","imageSize":362178754},"endTime":1672272556139}