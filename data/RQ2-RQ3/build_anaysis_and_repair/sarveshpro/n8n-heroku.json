{"repository":"https://github.com/sarveshpro/n8n-heroku","dockerfilePath":"Dockerfile","startTime":1672155510266,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sarveshpro/n8n-heroku'...\n","error":null,"commit":"61c58aa243c2787dbb56a940cf96cb21032f7ace"},"originalBuild":{"startTimestamp":1672155511057,"endTimestamp":1672155672305,"error":null,"stdout":"Sending build context to Docker daemon    105kB\r\r\nStep 1/9 : FROM node:lts-alpine\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/9 : ARG N8N_VERSION=0.203.1\n ---> Running in 8c458b8a4947\nRemoving intermediate container 8c458b8a4947\n ---> 406f347da687\nStep 3/9 : RUN apk add --update graphicsmagick tzdata\n ---> Running in 7e73da658e24\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing libbz2 (1.0.8-r4)\n(2/21) Installing brotli-libs (1.0.9-r9)\n(3/21) Installing libpng (1.6.38-r0)\n(4/21) Installing freetype (2.12.1-r0)\n(5/21) Installing aom-libs (3.5.0-r0)\n(6/21) Installing libde265 (1.0.9-r0)\n(7/21) Installing numactl (2.0.16-r0)\n(8/21) Installing x265-libs (3.5-r3)\n(9/21) Installing libheif (1.13.0-r0)\n(10/21) Installing libjpeg-turbo (2.1.4-r0)\n(11/21) Installing libltdl (2.4.7-r0)\n(12/21) Installing xz-libs (5.2.9-r0)\n(13/21) Installing libwebp (1.2.4-r1)\n(14/21) Installing zstd-libs (1.5.2-r9)\n(15/21) Installing tiff (4.4.0-r1)\n(16/21) Installing ghostscript-fonts (8.11-r3)\n(17/21) Installing libexpat (2.5.0-r0)\n(18/21) Installing libwmf (0.2.12-r1)\n(19/21) Installing libxml2 (2.10.3-r1)\n(20/21) Installing graphicsmagick (1.3.38-r0)\n(21/21) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 59 MiB in 38 packages\nRemoving intermediate container 7e73da658e24\n ---> d4b42c9f7bff\nStep 4/9 : USER root\n ---> Running in 24beb3923504\nRemoving intermediate container 24beb3923504\n ---> 1a75290e1715\nStep 5/9 : RUN apk --update add --virtual build-dependencies python3 build-base git && \tnpm_config_user=root npm install --location=global n8n@${N8N_VERSION} && \tapk del build-dependencies\n ---> Running in 849241bfa1d9\n(1/32) Installing libffi (3.4.4-r0)\n(2/32) Installing gdbm (1.23-r0)\n(3/32) Installing mpdecimal (2.5.1-r1)\n(4/32) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(5/32) Installing ncurses-libs (6.3_p20221119-r0)\n(6/32) Installing readline (8.2.0-r0)\n(7/32) Installing sqlite-libs (3.40.0-r0)\n(8/32) Installing python3 (3.10.9-r1)\n(9/32) Installing binutils (2.39-r2)\n(10/32) Installing libmagic (5.43-r0)\n(11/32) Installing file (5.43-r0)\n(12/32) Installing libgomp (12.2.1_git20220924-r4)\n(13/32) Installing libatomic (12.2.1_git20220924-r4)\n(14/32) Installing gmp (6.2.1-r2)\n(15/32) Installing isl25 (0.25-r0)\n(16/32) Installing mpfr4 (4.1.0-r0)\n(17/32) Installing mpc1 (1.2.1-r1)\n(18/32) Installing gcc (12.2.1_git20220924-r4)\n(19/32) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(20/32) Installing musl-dev (1.2.3-r4)\n(21/32) Installing libc-dev (0.7.2-r3)\n(22/32) Installing g++ (12.2.1_git20220924-r4)\n(23/32) Installing make (4.3-r1)\n(24/32) Installing fortify-headers (1.1-r1)\n(25/32) Installing patch (2.7.6-r8)\n(26/32) Installing build-base (0.5-r3)\n(27/32) Installing ca-certificates (20220614-r3)\n(28/32) Installing nghttp2-libs (1.51.0-r0)\n(29/32) Installing libcurl (7.87.0-r0)\n(30/32) Installing pcre2 (10.42-r0)\n(31/32) Installing git (2.38.2-r0)\n(32/32) Installing build-dependencies (20221227.153844)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 351 MiB in 70 packages\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated json-schema-ref-parser@9.0.9: Please switch to @apidevtools/json-schema-ref-parser\n\u001b[0m\u001b[91mnpm WARN deprecated @types/express-unless@2.0.1: This is a stub types definition. express-unless provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1367 packages, and audited 1368 packages in 2m\n\n129 packages are looking for funding\n  run `npm fund` for details\n\n12 high severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m(1/32) Purging build-dependencies (20221227.153844)\n(2/32) Purging python3 (3.10.9-r1)\n(3/32) Purging build-base (0.5-r3)\n(4/32) Purging file (5.43-r0)\n(5/32) Purging g++ (12.2.1_git20220924-r4)\n(6/32) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(7/32) Purging gcc (12.2.1_git20220924-r4)\n(8/32) Purging binutils (2.39-r2)\n(9/32) Purging libatomic (12.2.1_git20220924-r4)\n(10/32) Purging libgomp (12.2.1_git20220924-r4)\n(11/32) Purging make (4.3-r1)\n(12/32) Purging libc-dev (0.7.2-r3)\n(13/32) Purging musl-dev (1.2.3-r4)\n(14/32) Purging fortify-headers (1.1-r1)\n(15/32) Purging patch (2.7.6-r8)\n(16/32) Purging git (2.38.2-r0)\n(17/32) Purging libffi (3.4.4-r0)\n(18/32) Purging gdbm (1.23-r0)\n(19/32) Purging mpdecimal (2.5.1-r1)\n(20/32) Purging readline (8.2.0-r0)\n(21/32) Purging ncurses-libs (6.3_p20221119-r0)\n(22/32) Purging ncurses-terminfo-base (6.3_p20221119-r0)\n(23/32) Purging sqlite-libs (3.40.0-r0)\n(24/32) Purging libmagic (5.43-r0)\n(25/32) Purging isl25 (0.25-r0)\n(26/32) Purging mpc1 (1.2.1-r1)\n(27/32) Purging mpfr4 (4.1.0-r0)\n(28/32) Purging gmp (6.2.1-r2)\n(29/32) Purging libcurl (7.87.0-r0)\n(30/32) Purging ca-certificates (20220614-r3)\nExecuting ca-certificates-20220614-r3.post-deinstall\n(31/32) Purging nghttp2-libs (1.51.0-r0)\n(32/32) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 59 MiB in 38 packages\nRemoving intermediate container 849241bfa1d9\n ---> 81133d995c03\nStep 6/9 : WORKDIR /data\n ---> Running in ec472f39dc73\nRemoving intermediate container ec472f39dc73\n ---> 0d9ed1d25242\nStep 7/9 : COPY ./start.sh /\n ---> b0359ddf0363\nStep 8/9 : RUN chmod +x /start.sh\n ---> Running in 3267362065ba\nRemoving intermediate container 3267362065ba\n ---> d7122092a284\nStep 9/9 : CMD [\"/start.sh\"]\n ---> Running in e2300d179eb9\nRemoving intermediate container e2300d179eb9\n ---> ccbd7a01ad32\nSuccessfully built ccbd7a01ad32\nSuccessfully tagged n8n-heroku:latest\n","stderr":"","imageSize":1017663580},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":1,"columnEnd":70}},{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":42}},{"name":"apkAddUseNoCache","position":{"start":13,"end":13,"columnStart":4,"columnEnd":72}}],"repairedDockerfile":"FROM node:lts-alpine\n\n# pass N8N_VERSION Argument while building or use default\nARG N8N_VERSION=0.203.1\n\n# Update everything and install needed dependencies\nRUN apk add --no-cache --update graphicsmagick tzdata\n\n# Set a custom user to not have n8n run as root\nUSER root\n\n# Install n8n and the also temporary all the packages\n# it needs to build it correctly.\nRUN apk --update --no-cache add --virtual build-dependencies python3 build-base git && \\\n\tnpm_config_user=root npm install --location=global n8n@${N8N_VERSION} && \\\n\tapk del build-dependencies\n\n# Specifying work directory\nWORKDIR /data\n\n# copy start script to container\nCOPY ./start.sh /\n\n# make the script executable\nRUN chmod +x /start.sh\n\n# define execution entrypoint\nCMD [\"/start.sh\"]\n"},"repairedBuild":{"startTimestamp":1672155674251,"endTimestamp":1672155834782,"error":null,"stdout":"Sending build context to Docker daemon    105kB\r\r\nStep 1/9 : FROM node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/9 : ARG N8N_VERSION=0.203.1\n ---> Running in 866f7e6d0a0f\nRemoving intermediate container 866f7e6d0a0f\n ---> 053c05c02d4e\nStep 3/9 : RUN apk add --no-cache --update graphicsmagick tzdata\n ---> Running in 7fbd3d47c019\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/21) Installing libbz2 (1.0.8-r4)\n(2/21) Installing brotli-libs (1.0.9-r9)\n(3/21) Installing libpng (1.6.38-r0)\n(4/21) Installing freetype (2.12.1-r0)\n(5/21) Installing aom-libs (3.5.0-r0)\n(6/21) Installing libde265 (1.0.9-r0)\n(7/21) Installing numactl (2.0.16-r0)\n(8/21) Installing x265-libs (3.5-r3)\n(9/21) Installing libheif (1.13.0-r0)\n(10/21) Installing libjpeg-turbo (2.1.4-r0)\n(11/21) Installing libltdl (2.4.7-r0)\n(12/21) Installing xz-libs (5.2.9-r0)\n(13/21) Installing libwebp (1.2.4-r1)\n(14/21) Installing zstd-libs (1.5.2-r9)\n(15/21) Installing tiff (4.4.0-r1)\n(16/21) Installing ghostscript-fonts (8.11-r3)\n(17/21) Installing libexpat (2.5.0-r0)\n(18/21) Installing libwmf (0.2.12-r1)\n(19/21) Installing libxml2 (2.10.3-r1)\n(20/21) Installing graphicsmagick (1.3.38-r0)\n(21/21) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 59 MiB in 38 packages\nRemoving intermediate container 7fbd3d47c019\n ---> f8997b9ca4ae\nStep 4/9 : USER root\n ---> Running in 61fc2704300e\nRemoving intermediate container 61fc2704300e\n ---> 902f744a4c99\nStep 5/9 : RUN apk --update --no-cache add --virtual build-dependencies python3 build-base git && \tnpm_config_user=root npm install --location=global n8n@${N8N_VERSION} && \tapk del build-dependencies\n ---> Running in e3353444fa39\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/32) Installing libffi (3.4.4-r0)\n(2/32) Installing gdbm (1.23-r0)\n(3/32) Installing mpdecimal (2.5.1-r1)\n(4/32) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(5/32) Installing ncurses-libs (6.3_p20221119-r0)\n(6/32) Installing readline (8.2.0-r0)\n(7/32) Installing sqlite-libs (3.40.0-r0)\n(8/32) Installing python3 (3.10.9-r1)\n(9/32) Installing binutils (2.39-r2)\n(10/32) Installing libmagic (5.43-r0)\n(11/32) Installing file (5.43-r0)\n(12/32) Installing libgomp (12.2.1_git20220924-r4)\n(13/32) Installing libatomic (12.2.1_git20220924-r4)\n(14/32) Installing gmp (6.2.1-r2)\n(15/32) Installing isl25 (0.25-r0)\n(16/32) Installing mpfr4 (4.1.0-r0)\n(17/32) Installing mpc1 (1.2.1-r1)\n(18/32) Installing gcc (12.2.1_git20220924-r4)\n(19/32) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(20/32) Installing musl-dev (1.2.3-r4)\n(21/32) Installing libc-dev (0.7.2-r3)\n(22/32) Installing g++ (12.2.1_git20220924-r4)\n(23/32) Installing make (4.3-r1)\n(24/32) Installing fortify-headers (1.1-r1)\n(25/32) Installing patch (2.7.6-r8)\n(26/32) Installing build-base (0.5-r3)\n(27/32) Installing ca-certificates (20220614-r3)\n(28/32) Installing nghttp2-libs (1.51.0-r0)\n(29/32) Installing libcurl (7.87.0-r0)\n(30/32) Installing pcre2 (10.42-r0)\n(31/32) Installing git (2.38.2-r0)\n(32/32) Installing build-dependencies (20221227.154128)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 351 MiB in 70 packages\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @types/express-unless@2.0.1: This is a stub types definition. express-unless provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated json-schema-ref-parser@9.0.9: Please switch to @apidevtools/json-schema-ref-parser\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1367 packages, and audited 1368 packages in 1m\n\n129 packages are looking for funding\n  run `npm fund` for details\n\n12 high severity vulnerabilities\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/32) Purging build-dependencies (20221227.154128)\n(2/32) Purging python3 (3.10.9-r1)\n(3/32) Purging build-base (0.5-r3)\n(4/32) Purging file (5.43-r0)\n(5/32) Purging g++ (12.2.1_git20220924-r4)\n(6/32) Purging libstdc++-dev (12.2.1_git20220924-r4)\n(7/32) Purging gcc (12.2.1_git20220924-r4)\n(8/32) Purging binutils (2.39-r2)\n(9/32) Purging libatomic (12.2.1_git20220924-r4)\n(10/32) Purging libgomp (12.2.1_git20220924-r4)\n(11/32) Purging make (4.3-r1)\n(12/32) Purging libc-dev (0.7.2-r3)\n(13/32) Purging musl-dev (1.2.3-r4)\n(14/32) Purging fortify-headers (1.1-r1)\n(15/32) Purging patch (2.7.6-r8)\n(16/32) Purging git (2.38.2-r0)\n(17/32) Purging libffi (3.4.4-r0)\n(18/32) Purging gdbm (1.23-r0)\n(19/32) Purging mpdecimal (2.5.1-r1)\n(20/32) Purging readline (8.2.0-r0)\n(21/32) Purging ncurses-libs (6.3_p20221119-r0)\n(22/32) Purging ncurses-terminfo-base (6.3_p20221119-r0)\n(23/32) Purging sqlite-libs (3.40.0-r0)\n(24/32) Purging libmagic (5.43-r0)\n(25/32) Purging isl25 (0.25-r0)\n(26/32) Purging mpc1 (1.2.1-r1)\n(27/32) Purging mpfr4 (4.1.0-r0)\n(28/32) Purging gmp (6.2.1-r2)\n(29/32) Purging libcurl (7.87.0-r0)\n(30/32) Purging ca-certificates (20220614-r3)\nExecuting ca-certificates-20220614-r3.post-deinstall\n(31/32) Purging nghttp2-libs (1.51.0-r0)\n(32/32) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 59 MiB in 38 packages\nRemoving intermediate container e3353444fa39\n ---> 1cc88e8520e9\nStep 6/9 : WORKDIR /data\n ---> Running in 3164d8baaead\nRemoving intermediate container 3164d8baaead\n ---> fe38c8a85a46\nStep 7/9 : COPY ./start.sh /\n ---> 4719c155a8db\nStep 8/9 : RUN chmod +x /start.sh\n ---> Running in 32fccc1f4c8e\nRemoving intermediate container 32fccc1f4c8e\n ---> 9c5d6ec33180\nStep 9/9 : CMD [\"/start.sh\"]\n ---> Running in a16dccb4c39e\nRemoving intermediate container a16dccb4c39e\n ---> 29689be63b7f\nSuccessfully built 29689be63b7f\nSuccessfully tagged n8n-heroku:latest\n","stderr":"","imageSize":1015080507},"endTime":1672155837367}