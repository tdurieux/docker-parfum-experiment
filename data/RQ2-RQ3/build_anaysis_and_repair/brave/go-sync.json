{"repository":"https://github.com/brave/go-sync","dockerfilePath":"Dockerfile","startTime":1672068047550,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/brave/go-sync'...\n","error":null,"commit":"acce4331f9ab0ff685e035a47920c4c5002f85af"},"originalBuild":{"startTimestamp":1672068048616,"endTimestamp":1672068114403,"error":null,"stdout":"Sending build context to Docker daemon   2.98MB\r\r\nStep 1/14 : FROM bitnami/golang:1.18 as builder\n1.18: Pulling from bitnami/golang\nf8c1c832ce65: Pulling fs layer\nda249937a7c0: Pulling fs layer\nf8c1c832ce65: Verifying Checksum\nf8c1c832ce65: Download complete\nf8c1c832ce65: Pull complete\nda249937a7c0: Verifying Checksum\nda249937a7c0: Download complete\nda249937a7c0: Pull complete\nDigest: sha256:e17678fcd4189ae49ffe7823957396c8843388d89f394662661667171a2fee57\nStatus: Downloaded newer image for bitnami/golang:1.18\n ---> de8faa76adfe\nStep 2/14 : ARG VERSION\n ---> Running in 4d44bd53aefb\nRemoving intermediate container 4d44bd53aefb\n ---> c656b18efc08\nStep 3/14 : ARG BUILD_TIME\n ---> Running in b3207e36b2f9\nRemoving intermediate container b3207e36b2f9\n ---> c94877a6533b\nStep 4/14 : ARG COMMIT\n ---> Running in 2cf2258bcebe\nRemoving intermediate container 2cf2258bcebe\n ---> 875f909d1142\nStep 5/14 : WORKDIR /src\n ---> Running in 4ceae0c93bcd\nRemoving intermediate container 4ceae0c93bcd\n ---> 8d49223af262\nStep 6/14 : COPY go.mod go.sum ./\n ---> 4d81c994f351\nStep 7/14 : RUN go mod download\n ---> Running in 483cbdd8c694\nRemoving intermediate container 483cbdd8c694\n ---> 824c66024168\nStep 8/14 : COPY . .\n ---> b14ea37c93ce\nStep 9/14 : RUN CGO_ENABLED=0 GOOS=linux go build     -ldflags \"-X github.com/brave/go-sync/server.version=${VERSION} -X github.com/brave/go-sync/server.buildTime=${BUILD_TIME} -X github.com/brave/go-sync/server.commit=${COMMIT}\"     -o main .\n ---> Running in 7bfdc80cb681\nRemoving intermediate container 7bfdc80cb681\n ---> 1cd4f7865e6a\nStep 10/14 : FROM alpine:3.6 as artifact\n ---> 43773d1dba76\nStep 11/14 : RUN apk add --update ca-certificates # Certificates for SSL\n ---> Running in dc24312762a8\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20161130-r3)\nExecuting busybox-1.26.2-r11.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 5 MiB in 14 packages\nRemoving intermediate container dc24312762a8\n ---> 5c2dc948a1b9\nStep 12/14 : COPY --from=builder /src/main main\n ---> 78bbe2d7a8c8\nStep 13/14 : EXPOSE 8295\n ---> Running in 2a61e604db51\nRemoving intermediate container 2a61e604db51\n ---> ac77d7fd283d\nStep 14/14 : CMD [\"./main\"]\n ---> Running in fb351933bba7\nRemoving intermediate container fb351933bba7\n ---> 055767a69043\nSuccessfully built 055767a69043\nSuccessfully tagged go-sync:latest\n","stderr":"","imageSize":31139424},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":16,"end":16,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM bitnami/golang:1.18 as builder\n\nARG VERSION\nARG BUILD_TIME\nARG COMMIT\n\nWORKDIR /src\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . .\n\nRUN CGO_ENABLED=0 GOOS=linux go build \\\n    -ldflags \"-X github.com/brave/go-sync/server.version=${VERSION} -X github.com/brave/go-sync/server.buildTime=${BUILD_TIME} -X github.com/brave/go-sync/server.commit=${COMMIT}\" \\\n    -o main .\n\nFROM alpine:3.6 as artifact\nRUN apk add --no-cache --update ca-certificates# Certificates for SSL\nCOPY --from=builder /src/main main\n\nEXPOSE 8295\n\nCMD [\"./main\"]\n"},"repairedBuild":{"startTimestamp":1672068115057,"endTimestamp":1672068152158,"error":{"code":4,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t go-sync:latest -f /tmp/dinghy-analysis/brave/go-sync/Dockerfile ."},"stdout":"Sending build context to Docker daemon   2.98MB\r\r\nStep 1/14 : FROM bitnami/golang:1.18 as builder\n ---> de8faa76adfe\nStep 2/14 : ARG VERSION\n ---> Running in ba516473679f\nRemoving intermediate container ba516473679f\n ---> 47e927618dfa\nStep 3/14 : ARG BUILD_TIME\n ---> Running in 1a12bea98555\nRemoving intermediate container 1a12bea98555\n ---> cde120c5c4d0\nStep 4/14 : ARG COMMIT\n ---> Running in 8373e1767b5e\nRemoving intermediate container 8373e1767b5e\n ---> bdadc81bf03f\nStep 5/14 : WORKDIR /src\n ---> Running in 5d7c8b2d7d28\nRemoving intermediate container 5d7c8b2d7d28\n ---> 8d53be1cadbf\nStep 6/14 : COPY go.mod go.sum ./\n ---> 14fb7fbd8f1f\nStep 7/14 : RUN go mod download\n ---> Running in 7027b52a44ef\nRemoving intermediate container 7027b52a44ef\n ---> d44ad83daf75\nStep 8/14 : COPY . .\n ---> a1249b8c5738\nStep 9/14 : RUN CGO_ENABLED=0 GOOS=linux go build     -ldflags \"-X github.com/brave/go-sync/server.version=${VERSION} -X github.com/brave/go-sync/server.buildTime=${BUILD_TIME} -X github.com/brave/go-sync/server.commit=${COMMIT}\"     -o main .\n ---> Running in f9f76b8d7870\nRemoving intermediate container f9f76b8d7870\n ---> be7da954e5db\nStep 10/14 : FROM alpine:3.6 as artifact\n ---> 43773d1dba76\nStep 11/14 : RUN apk add --no-cache --update ca-certificates# Certificates for SSL\n ---> Running in a19bd658a5ba\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n\u001b[91mERROR: unsatisfiable constraints:\n\u001b[0m  Certificates (missing):\n    required by: world[Certificates]\n  SSL (missing):\n    required by: world[SSL]\n  ca-certificates# (missing):\n    required by: world[ca-certificates#]\n  for (missing):\n    required by: world[for]\nRemoving intermediate container a19bd658a5ba\n","stderr":"The command '/bin/sh -c apk add --no-cache --update ca-certificates# Certificates for SSL' returned a non-zero code: 4\n"},"endTime":1672068152232}