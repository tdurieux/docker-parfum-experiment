{"repository":"https://github.com/brave/go-update","dockerfilePath":"Dockerfile","startTime":1672844517261,"endTime":1672844926199,"clone":{"startTime":1672844517262,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/brave/go-update'...\n","error":null,"endTime":1672844518094,"commit":"7d35ece416d490f4efd71eaf2a8db0498db7f30f"},"originalBuild":{"startTime":1672844518177,"endTime":1672844770944,"error":null,"stdout":"Sending build context to Docker daemon  338.4kB\r\r\nStep 1/8 : FROM golang:1.19 as builder\n1.19: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19\n ---> 6650307efe4a\nStep 2/8 : WORKDIR /go/src/app\n ---> Running in a41b0b40fd18\nRemoving intermediate container a41b0b40fd18\n ---> 3d965b79fbd3\nStep 3/8 : COPY . .\n ---> 9da46ac975b6\nStep 4/8 : RUN /usr/bin/make build\n ---> Running in 90340f66bb60\nenv AWS_REGION=us-west-2 CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main .\n\u001b[91mgo: downloading github.com/getsentry/sentry-go v0.13.0\ngo: downloading github.com/go-chi/chi v4.1.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/brave-intl/bat-go v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/pressly/lg v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.98\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220913175220-63ea55921009\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.13.0\ngo: downloading github.com/getsentry/raven-go v0.2.1-0.20190619092523-5c24d5110e0e\n\u001b[0m\u001b[91mgo: downloading github.com/certifi/gocertifi v0.0.0-20210507211836-431795d63e8d\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\ngo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0mRemoving intermediate container 90340f66bb60\n ---> 552452e074a5\nStep 5/8 : FROM alpine:latest as app\n ---> 49176f190c7e\nStep 6/8 : RUN apk add --update ca-certificates # Certificates for SSL\n ---> Running in 7d8a32521556\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 7d8a32521556\n ---> 51ebdd6f4528\nStep 7/8 : COPY --from=builder  /go/src/app .\n ---> a85bc12a05b1\nStep 8/8 : CMD [\"./main\"]\n ---> Running in 89ad860d0fa1\nRemoving intermediate container 89ad860d0fa1\n ---> b8a453ced4cb\nSuccessfully built b8a453ced4cb\nSuccessfully tagged go-update:latest\n","stderr":"","imageSize":31968280},"repair":{"startTime":1672844792504,"endTime":1672844792535,"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.19 as builder\nWORKDIR /go/src/app\n\nCOPY . .\nRUN /usr/bin/make build\n\nFROM alpine:latest as app\nRUN apk add --no-cache --update ca-certificates# Certificates for SSL\nCOPY --from=builder  /go/src/app .\nCMD [\"./main\"]\n"},"repairedBuild":{"startTime":1672844798262,"endTime":1672844926135,"error":{"code":4,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t go-update:latest -f /tmp/dinghy-analysis/brave/go-update/Dockerfile ."},"stdout":"Sending build context to Docker daemon  338.4kB\r\r\nStep 1/8 : FROM golang:1.19 as builder\n ---> 6650307efe4a\nStep 2/8 : WORKDIR /go/src/app\n ---> Running in dbec57437814\nRemoving intermediate container dbec57437814\n ---> cb25e973bad0\nStep 3/8 : COPY . .\n ---> e6e1aeaa5955\nStep 4/8 : RUN /usr/bin/make build\n ---> Running in 34405831d40b\nenv AWS_REGION=us-west-2 CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main .\n\u001b[91mgo: downloading github.com/getsentry/sentry-go v0.13.0\ngo: downloading github.com/go-chi/chi v4.1.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/pressly/lg v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/brave-intl/bat-go v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/aws/aws-sdk-go v1.44.98\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220913175220-63ea55921009\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.13.0\n\u001b[0m\u001b[91mgo: downloading github.com/getsentry/raven-go v0.2.1-0.20190619092523-5c24d5110e0e\n\u001b[0m\u001b[91mgo: downloading github.com/certifi/gocertifi v0.0.0-20210507211836-431795d63e8d\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/jmespath/go-jmespath v0.4.0\n\u001b[0mRemoving intermediate container 34405831d40b\n ---> 226a4ee96b6b\nStep 5/8 : FROM alpine:latest as app\n ---> 49176f190c7e\nStep 6/8 : RUN apk add --no-cache --update ca-certificates# Certificates for SSL\n ---> Running in 01d1df4b41eb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n\u001b[91mERROR: unable to select packages:\n\u001b[0m  Certificates (no such package):\n    required by: world[Certificates]\n  SSL (no such package):\n    required by: world[SSL]\n  ca-certificates# (no such package):\n    required by: world[ca-certificates#]\n  for (no such package):\n    required by: world[for]\nRemoving intermediate container 01d1df4b41eb\n","stderr":"The command '/bin/sh -c apk add --no-cache --update ca-certificates# Certificates for SSL' returned a non-zero code: 4\n"}}