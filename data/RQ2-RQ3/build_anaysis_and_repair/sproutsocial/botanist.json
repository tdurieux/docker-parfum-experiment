{"repository":"https://github.com/sproutsocial/botanist","dockerfilePath":"Dockerfile","startTime":1672272617948,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sproutsocial/botanist'...\n","error":null,"commit":"e96263d0470f5cd1c5b9108822f0e194dff61f4a"},"originalBuild":{"startTimestamp":1672272619084,"endTimestamp":1672272766926,"error":null,"stdout":"Sending build context to Docker daemon  3.838MB\r\r\nStep 1/18 : FROM python:2.7.14\n2.7.14: Pulling from library/python\n3d77ce4481b1: Pulling fs layer\nc8d9ca1153eb: Pulling fs layer\n7d024d87fd15: Pulling fs layer\n59a13018a3af: Pulling fs layer\n35384054e276: Pulling fs layer\ndfadd4f01f2f: Pulling fs layer\n38a9fb5dda9b: Pulling fs layer\n3dfc199d5ff5: Pulling fs layer\n59a13018a3af: Waiting\n35384054e276: Waiting\ndfadd4f01f2f: Waiting\n38a9fb5dda9b: Waiting\n3dfc199d5ff5: Waiting\n3d77ce4481b1: Verifying Checksum\n3d77ce4481b1: Download complete\n7d024d87fd15: Verifying Checksum\n7d024d87fd15: Download complete\n35384054e276: Verifying Checksum\n35384054e276: Download complete\n59a13018a3af: Verifying Checksum\n59a13018a3af: Download complete\ndfadd4f01f2f: Verifying Checksum\ndfadd4f01f2f: Download complete\n3d77ce4481b1: Pull complete\n38a9fb5dda9b: Verifying Checksum\n38a9fb5dda9b: Download complete\n3dfc199d5ff5: Verifying Checksum\n3dfc199d5ff5: Download complete\nc8d9ca1153eb: Verifying Checksum\nc8d9ca1153eb: Download complete\nc8d9ca1153eb: Pull complete\n7d024d87fd15: Pull complete\n59a13018a3af: Pull complete\n35384054e276: Pull complete\ndfadd4f01f2f: Pull complete\n38a9fb5dda9b: Pull complete\n3dfc199d5ff5: Pull complete\nDigest: sha256:1b424a23e059c1bb72ef180964a9baf8b9c13e768ddf8faaa770e7adc3e4eb9e\nStatus: Downloaded newer image for python:2.7.14\n ---> cb627aaf5f26\nStep 2/18 : ENV r=/botanist\n ---> Running in f4f5bef79a78\nRemoving intermediate container f4f5bef79a78\n ---> 5ecfb4b29e5f\nStep 3/18 : RUN apt-get update && apt-get install -y     git     mercurial     && rm -rf /var/lib/apt/lists/*\n ---> Running in af1c4614ab97\nGet:1 http://security.debian.org jessie/updates InRelease [44.9 kB]\nIgn http://deb.debian.org jessie InRelease\nGet:2 http://deb.debian.org jessie-updates InRelease [16.3 kB]\nGet:3 http://deb.debian.org jessie Release.gpg [1652 B]\nGet:4 http://deb.debian.org jessie Release [77.3 kB]\nGet:5 http://security.debian.org jessie/updates/main amd64 Packages [992 kB]\nIgn http://deb.debian.org jessie-updates InRelease\nGet:6 http://deb.debian.org jessie-updates/main amd64 Packages [20 B]\nIgn http://deb.debian.org jessie Release\nGet:7 http://deb.debian.org jessie/main amd64 Packages [9098 kB]\nFetched 10.2 MB in 6s (1469 kB/s)\nReading package lists...\n\u001b[91mW: GPG error: http://deb.debian.org jessie-updates InRelease: The following signatures were invalid: KEYEXPIRED 1668891673\nW: GPG error: http://deb.debian.org jessie Release: The following signatures were invalid: KEYEXPIRED 1668891673\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  mercurial-common\nSuggested packages:\n  gettext-base git-daemon-run git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-arch git-cvs git-mediawiki git-svn qct kdiff3\n  kdiff3-qt kompare meld tkcvs mgdiff python-mysqldb python-pygments\n  python-openssl\nRecommended packages:\n  less rsync\nThe following packages will be upgraded:\n  git mercurial mercurial-common\n3 upgraded, 0 newly installed, 0 to remove and 159 not upgraded.\nNeed to get 4892 kB of archives.\nAfter this operation, 82.9 kB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security/ jessie/updates/main git amd64 1:2.1.4-2.1+deb8u10 [3227 kB]\nGet:2 http://security.debian.org/debian-security/ jessie/updates/main mercurial amd64 3.1.2-2+deb8u7 [61.2 kB]\nGet:3 http://security.debian.org/debian-security/ jessie/updates/main mercurial-common all 3.1.2-2+deb8u7 [1604 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 4892 kB in 0s (19.4 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 21634 files and directories currently installed.)\r\nPreparing to unpack .../git_1%3a2.1.4-2.1+deb8u10_amd64.deb ...\r\nUnpacking git (1:2.1.4-2.1+deb8u10) over (1:2.1.4-2.1+deb8u5) ...\r\nPreparing to unpack .../mercurial_3.1.2-2+deb8u7_amd64.deb ...\r\nUnpacking mercurial (3.1.2-2+deb8u7) over (3.1.2-2+deb8u4) ...\r\nPreparing to unpack .../mercurial-common_3.1.2-2+deb8u7_all.deb ...\r\nUnpacking mercurial-common (3.1.2-2+deb8u7) over (3.1.2-2+deb8u4) ...\r\nSetting up git (1:2.1.4-2.1+deb8u10) ...\r\nSetting up mercurial-common (3.1.2-2+deb8u7) ...\r\nSetting up mercurial (3.1.2-2+deb8u7) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nRemoving intermediate container af1c4614ab97\n ---> dff73a9f7aa2\nStep 4/18 : RUN mkdir -p     ${r}/bin     ${r}/repos     ${r}/repos/.index     ${r}/repos/bitbucket     ${r}/repos/github\n ---> Running in e6c53bbc9223\nRemoving intermediate container e6c53bbc9223\n ---> d0e1e05bb002\nStep 5/18 : ENV CSEARCHINDEX=${r}/repos/.index\n ---> Running in 0d972a959fb3\nRemoving intermediate container 0d972a959fb3\n ---> 01478e020810\nStep 6/18 : ADD packages/codesearch-0.01-linux-amd64.tgz ${r}/bin\n ---> 60d0532c5f9b\nStep 7/18 : ADD packages/bitbucket-backup.tgz ${r}/bin\n ---> 5e246a020a84\nStep 8/18 : ADD packages/github_backup.py ${r}/bin\n ---> 096598458808\nStep 9/18 : ADD cron/index.sh ${r}/bin/index.sh\n ---> a00e2e7285ff\nStep 10/18 : ADD cron/fetch-code.sh ${r}/bin/fetch-code.sh\n ---> 24a4e842a0a8\nStep 11/18 : ADD webapp/requirements.txt /tmp\n ---> 7545c34c41c6\nStep 12/18 : RUN pip install -r /tmp/requirements.txt\n ---> Running in c5990c0e5424\nCollecting Django==1.11.29 (from -r /tmp/requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/49/49/178daa8725d29c475216259eb19e90b2aa0b8c0431af8c7e9b490ae6481d/Django-1.11.29-py2.py3-none-any.whl (6.9MB)\nCollecting uWSGI==2.0.17.1 (from -r /tmp/requirements.txt (line 2))\n  Downloading https://files.pythonhosted.org/packages/a2/c9/a2d5737f63cd9df4317a4acc15d1ddf4952e28398601d8d7d706c16381e0/uwsgi-2.0.17.1.tar.gz (800kB)\nCollecting mock==1.3.0 (from -r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/b2/50/664a70b87408bb6c14c1af2337efa64eb8d1af80c933531758b8fb41ec25/mock-1.3.0-py2.py3-none-any.whl (56kB)\nCollecting pytz (from Django==1.11.29->-r /tmp/requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/3d/19/4de17f0d5cf5a0d87aa67532d4c2fa75e6e7d8df13c27635ff40fa6f4b76/pytz-2022.7-py2.py3-none-any.whl (499kB)\nCollecting six>=1.7 (from mock==1.3.0->-r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl\nCollecting pbr>=0.11 (from mock==1.3.0->-r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/e5/37/10e8a53f196cf0bcb93008daed42e2c47c7876430a7efd044ff4d647f30a/pbr-5.11.0-py2.py3-none-any.whl (112kB)\nCollecting funcsigs; python_version < \"3.3\" (from mock==1.3.0->-r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/69/cb/f5be453359271714c01b9bd06126eaf2e368f1fddfff30818754b5ac2328/funcsigs-1.0.2-py2.py3-none-any.whl\nBuilding wheels for collected packages: uWSGI\n  Running setup.py bdist_wheel for uWSGI: started\n  Running setup.py bdist_wheel for uWSGI: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/32/d6/90/0239cc69219013d9f402b098b7c5ef7454792c21acd1d6c24e\nSuccessfully built uWSGI\nInstalling collected packages: pytz, Django, uWSGI, six, pbr, funcsigs, mock\nSuccessfully installed Django-1.11.29 funcsigs-1.0.2 mock-1.3.0 pbr-5.11.0 pytz-2022.7 six-1.16.0 uWSGI-2.0.17.1\n\u001b[91mYou are using pip version 10.0.1, however version 20.3.4 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container c5990c0e5424\n ---> 2858b773ffc8\nStep 13/18 : ADD ./webapp /code\n ---> 9172914f5ca4\nStep 14/18 : VOLUME ${r}/repos\n ---> Running in 494daf3a6ffd\nRemoving intermediate container 494daf3a6ffd\n ---> 050a21110b6c\nStep 15/18 : RUN groupadd -r botanist -g 9009 && useradd -u 9009 -g 9009 --no-log-init -r -g botanist botanist\n ---> Running in 931ec2c3aec3\nRemoving intermediate container 931ec2c3aec3\n ---> d33887007fa4\nStep 16/18 : RUN chown -R botanist:botanist ${r}\n ---> Running in aaaa0464ac80\nRemoving intermediate container aaaa0464ac80\n ---> 8286bc7a1b3b\nStep 17/18 : USER botanist\n ---> Running in 3b2d69126013\nRemoving intermediate container 3b2d69126013\n ---> bafbd2171248\nStep 18/18 : CMD uwsgi --socket :9090 --chdir /code --wsgi-file /code/codesearch/wsgi.py --master --processes 4 --threads 2 --buffer-size 65535\n ---> Running in dd7ffccfe6d4\nRemoving intermediate container dd7ffccfe6d4\n ---> 72b114f61931\nSuccessfully built 72b114f61931\nSuccessfully tagged botanist:latest\n","stderr":"","imageSize":764363863},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":25,"end":25,"columnStart":4,"columnEnd":40}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":6,"columnStart":22,"columnEnd":13}}],"repairedDockerfile":"FROM python:2.7.14\n\nENV r=/botanist\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    git \\\n    mercurial \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN mkdir -p \\\n    ${r}/bin \\\n    ${r}/repos \\\n    ${r}/repos/.index \\\n    ${r}/repos/bitbucket \\\n    ${r}/repos/github\n\nENV CSEARCHINDEX=${r}/repos/.index\n\nADD packages/codesearch-0.01-linux-amd64.tgz ${r}/bin\nADD packages/bitbucket-backup.tgz ${r}/bin\nADD packages/github_backup.py ${r}/bin\nADD cron/index.sh ${r}/bin/index.sh\nADD cron/fetch-code.sh ${r}/bin/fetch-code.sh\n\nADD webapp/requirements.txt /tmp\nRUN pip install --no-cache-dir -r /tmp/requirements.txt\nADD ./webapp /code\n\nVOLUME ${r}/repos\n\nRUN groupadd -r botanist -g 9009 && useradd -u 9009 -g 9009 --no-log-init -r -g botanist botanist\nRUN chown -R botanist:botanist ${r}\nUSER botanist\n\nCMD uwsgi --socket :9090 --chdir /code --wsgi-file /code/codesearch/wsgi.py --master --processes 4 --threads 2 --buffer-size 65535\n"},"repairedBuild":{"startTimestamp":1672272767404,"endTimestamp":1672272978016,"error":null,"stdout":"Sending build context to Docker daemon  3.838MB\r\r\nStep 1/18 : FROM python:2.7.14\n ---> cb627aaf5f26\nStep 2/18 : ENV r=/botanist\n ---> Running in 9425b0073785\nRemoving intermediate container 9425b0073785\n ---> 5566a2eef6e6\nStep 3/18 : RUN apt-get update && apt-get install --no-install-recommends -y     git     mercurial     && rm -rf /var/lib/apt/lists/*\n ---> Running in 003dae9fc2bf\nGet:1 http://security.debian.org jessie/updates InRelease [44.9 kB]\nIgn http://deb.debian.org jessie InRelease\nGet:2 http://deb.debian.org jessie-updates InRelease [16.3 kB]\nGet:3 http://deb.debian.org jessie Release.gpg [1652 B]\nGet:4 http://deb.debian.org jessie Release [77.3 kB]\nGet:5 http://security.debian.org jessie/updates/main amd64 Packages [992 kB]\nIgn http://deb.debian.org jessie-updates InRelease\nIgn http://deb.debian.org jessie Release\nGet:6 http://deb.debian.org jessie-updates/main amd64 Packages [20 B]\nGet:7 http://deb.debian.org jessie/main amd64 Packages [9098 kB]\nFetched 10.2 MB in 7s (1303 kB/s)\nReading package lists...\n\u001b[91mW: GPG error: http://deb.debian.org jessie-updates InRelease: The following signatures were invalid: KEYEXPIRED 1668891673\nW: GPG error: http://deb.debian.org jessie Release: The following signatures were invalid: KEYEXPIRED 1668891673\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  mercurial-common\nSuggested packages:\n  gettext-base git-daemon-run git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-arch git-cvs git-mediawiki git-svn qct kdiff3\n  kdiff3-qt kompare meld tkcvs mgdiff python-mysqldb python-pygments\n  python-openssl\nRecommended packages:\n  less rsync\nThe following packages will be upgraded:\n  git mercurial mercurial-common\n3 upgraded, 0 newly installed, 0 to remove and 159 not upgraded.\nNeed to get 4892 kB of archives.\nAfter this operation, 82.9 kB of additional disk space will be used.\nGet:1 http://security.debian.org/debian-security/ jessie/updates/main git amd64 1:2.1.4-2.1+deb8u10 [3227 kB]\nGet:2 http://security.debian.org/debian-security/ jessie/updates/main mercurial amd64 3.1.2-2+deb8u7 [61.2 kB]\nGet:3 http://security.debian.org/debian-security/ jessie/updates/main mercurial-common all 3.1.2-2+deb8u7 [1604 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 4892 kB in 0s (11.5 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 21634 files and directories currently installed.)\r\nPreparing to unpack .../git_1%3a2.1.4-2.1+deb8u10_amd64.deb ...\r\nUnpacking git (1:2.1.4-2.1+deb8u10) over (1:2.1.4-2.1+deb8u5) ...\r\nPreparing to unpack .../mercurial_3.1.2-2+deb8u7_amd64.deb ...\r\nUnpacking mercurial (3.1.2-2+deb8u7) over (3.1.2-2+deb8u4) ...\r\nPreparing to unpack .../mercurial-common_3.1.2-2+deb8u7_all.deb ...\r\nUnpacking mercurial-common (3.1.2-2+deb8u7) over (3.1.2-2+deb8u4) ...\r\nSetting up git (1:2.1.4-2.1+deb8u10) ...\r\nSetting up mercurial-common (3.1.2-2+deb8u7) ...\r\nSetting up mercurial (3.1.2-2+deb8u7) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nRemoving intermediate container 003dae9fc2bf\n ---> 0a5484c7ef6e\nStep 4/18 : RUN mkdir -p     ${r}/bin     ${r}/repos     ${r}/repos/.index     ${r}/repos/bitbucket     ${r}/repos/github\n ---> Running in 54fd653287ac\nRemoving intermediate container 54fd653287ac\n ---> 9292856d2f5e\nStep 5/18 : ENV CSEARCHINDEX=${r}/repos/.index\n ---> Running in de0de6b6423a\nRemoving intermediate container de0de6b6423a\n ---> 6a6040e73f28\nStep 6/18 : ADD packages/codesearch-0.01-linux-amd64.tgz ${r}/bin\n ---> 04ba0b93747a\nStep 7/18 : ADD packages/bitbucket-backup.tgz ${r}/bin\n ---> 1976eb17b4b2\nStep 8/18 : ADD packages/github_backup.py ${r}/bin\n ---> d4011be9969d\nStep 9/18 : ADD cron/index.sh ${r}/bin/index.sh\n ---> 614a59619efa\nStep 10/18 : ADD cron/fetch-code.sh ${r}/bin/fetch-code.sh\n ---> 679bb91a046a\nStep 11/18 : ADD webapp/requirements.txt /tmp\n ---> fb57ae555bc2\nStep 12/18 : RUN pip install --no-cache-dir -r /tmp/requirements.txt\n ---> Running in 0cd6ce02abbb\nCollecting Django==1.11.29 (from -r /tmp/requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/49/49/178daa8725d29c475216259eb19e90b2aa0b8c0431af8c7e9b490ae6481d/Django-1.11.29-py2.py3-none-any.whl (6.9MB)\nCollecting uWSGI==2.0.17.1 (from -r /tmp/requirements.txt (line 2))\n  Downloading https://files.pythonhosted.org/packages/a2/c9/a2d5737f63cd9df4317a4acc15d1ddf4952e28398601d8d7d706c16381e0/uwsgi-2.0.17.1.tar.gz (800kB)\nCollecting mock==1.3.0 (from -r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/b2/50/664a70b87408bb6c14c1af2337efa64eb8d1af80c933531758b8fb41ec25/mock-1.3.0-py2.py3-none-any.whl (56kB)\nCollecting pytz (from Django==1.11.29->-r /tmp/requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/3d/19/4de17f0d5cf5a0d87aa67532d4c2fa75e6e7d8df13c27635ff40fa6f4b76/pytz-2022.7-py2.py3-none-any.whl (499kB)\nCollecting six>=1.7 (from mock==1.3.0->-r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl\nCollecting pbr>=0.11 (from mock==1.3.0->-r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/e5/37/10e8a53f196cf0bcb93008daed42e2c47c7876430a7efd044ff4d647f30a/pbr-5.11.0-py2.py3-none-any.whl (112kB)\nCollecting funcsigs; python_version < \"3.3\" (from mock==1.3.0->-r /tmp/requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/69/cb/f5be453359271714c01b9bd06126eaf2e368f1fddfff30818754b5ac2328/funcsigs-1.0.2-py2.py3-none-any.whl\nInstalling collected packages: pytz, Django, uWSGI, six, pbr, funcsigs, mock\n  Running setup.py install for uWSGI: started\n    Running setup.py install for uWSGI: finished with status 'done'\nSuccessfully installed Django-1.11.29 funcsigs-1.0.2 mock-1.3.0 pbr-5.11.0 pytz-2022.7 six-1.16.0 uWSGI-2.0.17.1\n\u001b[91mYou are using pip version 10.0.1, however version 20.3.4 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 0cd6ce02abbb\n ---> 46cc896f1807\nStep 13/18 : ADD ./webapp /code\n ---> 8355561f31fe\nStep 14/18 : VOLUME ${r}/repos\n ---> Running in 9dba78106331\nRemoving intermediate container 9dba78106331\n ---> 957f23324015\nStep 15/18 : RUN groupadd -r botanist -g 9009 && useradd -u 9009 -g 9009 --no-log-init -r -g botanist botanist\n ---> Running in 2fffbbece857\nRemoving intermediate container 2fffbbece857\n ---> db65be00e861\nStep 16/18 : RUN chown -R botanist:botanist ${r}\n ---> Running in c269c52576f4\nRemoving intermediate container c269c52576f4\n ---> 27639b09c09e\nStep 17/18 : USER botanist\n ---> Running in 138c3e011d16\nRemoving intermediate container 138c3e011d16\n ---> 8506413c4088\nStep 18/18 : CMD uwsgi --socket :9090 --chdir /code --wsgi-file /code/codesearch/wsgi.py --master --processes 4 --threads 2 --buffer-size 65535\n ---> Running in 719ccb35ba42\nRemoving intermediate container 719ccb35ba42\n ---> 19b34982ecfe\nSuccessfully built 19b34982ecfe\nSuccessfully tagged botanist:latest\n","stderr":"","imageSize":755200635},"endTime":1672272978499}