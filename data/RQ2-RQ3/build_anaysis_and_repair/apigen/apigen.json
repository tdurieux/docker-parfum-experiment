{"repository":"https://github.com/apigen/apigen","dockerfilePath":"Dockerfile","startTime":1672379269680,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/apigen/apigen'...\n","error":null,"commit":"f00229f7e03ad70cf1e9eed63f71292381cbc061"},"originalBuild":{"startTimestamp":1672379270562,"endTimestamp":1672379309086,"error":null,"stdout":"Sending build context to Docker daemon  419.8kB\r\r\nStep 1/24 : FROM alpine:edge as php-base\nedge: Pulling from library/alpine\na71ff8a5264a: Pulling fs layer\na71ff8a5264a: Verifying Checksum\na71ff8a5264a: Download complete\na71ff8a5264a: Pull complete\nDigest: sha256:c223f84e05c23c0571ce8decefef818864869187e1a3ea47719412e205c8c64e\nStatus: Downloaded newer image for alpine:edge\n ---> 121d0da75751\nStep 2/24 : RUN addgroup --system --gid 1000 docker && \tadduser --system --uid 1000 --ingroup docker docker && \tmkdir /src && \tchown docker:docker /src\n ---> Running in bd94ec75f84d\nRemoving intermediate container bd94ec75f84d\n ---> 03c0c3411845\nStep 3/24 : RUN apk add --no-cache \t\tphp82 \t\tphp82-ctype \t\tphp82-json \t\tphp82-mbstring \t\tphp82-opcache \t\tphp82-pcntl \t\tphp82-tokenizer && \tln -s /usr/bin/php82 /usr/bin/php\n ---> Running in ac8132bbc96b\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/16) Installing php82-common (8.2.0-r0)\n(2/16) Installing argon2-libs (20190702-r2)\n(3/16) Installing ncurses-terminfo-base (6.3_p20221224-r0)\n(4/16) Installing ncurses-libs (6.3_p20221224-r0)\n(5/16) Installing libedit (20221030.3.1-r0)\n(6/16) Installing pcre2 (10.42-r0)\n(7/16) Installing xz-libs (5.4.0-r0)\n(8/16) Installing libxml2 (2.10.3-r2)\n(9/16) Installing php82 (8.2.0-r0)\n(10/16) Installing php82-ctype (8.2.0-r0)\n(11/16) Installing oniguruma (6.9.8-r0)\n(12/16) Installing php82-mbstring (8.2.0-r0)\n(13/16) Installing libgcc (12.2.1_git20220924-r6)\n(14/16) Installing php82-opcache (8.2.0-r0)\n(15/16) Installing php82-pcntl (8.2.0-r0)\n(16/16) Installing php82-tokenizer (8.2.0-r0)\nExecuting busybox-1.35.0-r27.trigger\nOK: 21 MiB in 31 packages\nRemoving intermediate container ac8132bbc96b\n ---> 6afa2a25e9d8\nStep 4/24 : COPY php.ini           /etc/php82/php.ini\n ---> f9e844f6520b\nStep 5/24 : FROM php-base as php-dev\n ---> f9e844f6520b\nStep 6/24 : ARG TARGETARCH\n ---> Running in a102344983ea\nRemoving intermediate container a102344983ea\n ---> aa94b8a7764a\nStep 7/24 : COPY --from=composer:2          /usr/bin/composer        /usr/bin/composer\n2: Pulling from library/composer\nc158987b0551: Already exists\na2b6029f6920: Pulling fs layer\n55761811b31b: Pulling fs layer\n9750fd99fe83: Pulling fs layer\n922c6c40febb: Pulling fs layer\ne02e22042c3b: Pulling fs layer\n67f194fa5612: Pulling fs layer\nc5f70f6f3726: Pulling fs layer\n307621670272: Pulling fs layer\n1d3812d20c02: Pulling fs layer\n4c72eefc0ccb: Pulling fs layer\n1d27e54f4a95: Pulling fs layer\n50cbbd470472: Pulling fs layer\n80df9523f5f7: Pulling fs layer\ne02e22042c3b: Waiting\n1d3812d20c02: Waiting\n4c72eefc0ccb: Waiting\n67f194fa5612: Waiting\n1d27e54f4a95: Waiting\n50cbbd470472: Waiting\n80df9523f5f7: Waiting\nc5f70f6f3726: Waiting\n307621670272: Waiting\n922c6c40febb: Waiting\n9750fd99fe83: Verifying Checksum\n9750fd99fe83: Download complete\n55761811b31b: Verifying Checksum\n55761811b31b: Download complete\na2b6029f6920: Verifying Checksum\na2b6029f6920: Download complete\na2b6029f6920: Pull complete\n55761811b31b: Pull complete\ne02e22042c3b: Verifying Checksum\ne02e22042c3b: Download complete\n9750fd99fe83: Pull complete\n922c6c40febb: Verifying Checksum\n922c6c40febb: Download complete\n67f194fa5612: Verifying Checksum\n67f194fa5612: Download complete\nc5f70f6f3726: Verifying Checksum\nc5f70f6f3726: Download complete\n922c6c40febb: Pull complete\ne02e22042c3b: Pull complete\n307621670272: Download complete\n4c72eefc0ccb: Verifying Checksum\n4c72eefc0ccb: Download complete\n1d27e54f4a95: Verifying Checksum\n1d27e54f4a95: Download complete\n1d3812d20c02: Verifying Checksum\n1d3812d20c02: Download complete\n50cbbd470472: Verifying Checksum\n50cbbd470472: Download complete\n80df9523f5f7: Verifying Checksum\n80df9523f5f7: Download complete\n67f194fa5612: Pull complete\nc5f70f6f3726: Pull complete\n307621670272: Pull complete\n1d3812d20c02: Pull complete\n4c72eefc0ccb: Pull complete\n1d27e54f4a95: Pull complete\n50cbbd470472: Pull complete\n80df9523f5f7: Pull complete\nDigest: sha256:cd217ccf96d788820353ba1159b861414ae6bb16c67ee2b3f348627bfa38449d\nStatus: Downloaded newer image for composer:2\n ---> f94a13f1e34a\nStep 8/24 : RUN apk add --no-cache \t\tphp82-curl \t\tphp82-openssl \t\tphp82-phar\n ---> Running in 34bc36e0f37f\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ca-certificates (20221203-r1)\n(2/12) Installing brotli-libs (1.0.9-r10)\n(3/12) Installing nghttp2-libs (1.51.0-r0)\n(4/12) Installing libcurl (7.87.0-r1)\n(5/12) Installing php82-curl (8.2.0-r0)\n(6/12) Installing libcom_err (1.46.5-r4)\n(7/12) Installing krb5-conf (1.0-r2)\n(8/12) Installing keyutils-libs (1.6.3-r1)\n(9/12) Installing libverto (0.3.2-r1)\n(10/12) Installing krb5-libs (1.20.1-r0)\n(11/12) Installing php82-openssl (8.2.0-r0)\n(12/12) Installing php82-phar (8.2.0-r0)\nExecuting busybox-1.35.0-r27.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 26 MiB in 43 packages\nRemoving intermediate container 34bc36e0f37f\n ---> c94e60fe3510\nStep 9/24 : FROM php-dev as apigen-builder\n ---> c94e60fe3510\nStep 10/24 : WORKDIR /src\n ---> Running in 95c03d3ab498\nRemoving intermediate container 95c03d3ab498\n ---> 8b538a14d3b4\nStep 11/24 : ARG COMPOSER_ROOT_VERSION\n ---> Running in 24722b571b84\nRemoving intermediate container 24722b571b84\n ---> e9475f327827\nStep 12/24 : COPY composer.json           /src/composer.json\n ---> 275df130c8d0\nStep 13/24 : COPY composer.lock           /src/composer.lock\n ---> 4953b1ea001f\nStep 14/24 : RUN composer install --no-dev --no-progress --no-cache\n ---> Running in b35568fbf3e4\n\u001b[91mInstalling dependencies from lock file\n\u001b[0m\u001b[91mVerifying lock file contents can be installed on current platform.\n\u001b[0m\u001b[91mPackage operations: 26 installs, 0 updates, 0 removals\n\u001b[0m\u001b[91m  - Downloading jetbrains/phpstorm-stubs (v2022.2)\n\u001b[0m\u001b[91m  - Downloading latte/latte (v3.0.4)\n\u001b[0m\u001b[91m  - Downloading symfony/polyfill-php80 (v1.27.0)\n\u001b[0m\u001b[91m  - Downloading symfony/deprecation-contracts (v3.2.0)\n\u001b[0m\u001b[91m  - Downloading psr/event-dispatcher (1.0.0)\n\u001b[0m\u001b[91m  - Downloading nette/utils (v3.2.8)\n\u001b[0m\u001b[91m  - Downloading nette/schema (v1.2.3)\n\u001b[0m\u001b[91m  - Downloading dflydev/dot-access-data (v3.0.2)\n\u001b[0m\u001b[91m  - Downloading league/config (v1.1.1)\n\u001b[0m\u001b[91m  - Downloading symfony/polyfill-mbstring (v1.27.0)\n\u001b[0m\u001b[91m  - Downloading league/commonmark (2.3.7)\n\u001b[0m\u001b[91m  - Downloading nette/finder (v2.5.4)\n\u001b[0m\u001b[91m  - Downloading nette/robot-loader (v3.4.1)\n\u001b[0m\u001b[91m  - Downloading nette/php-generator (v4.0.5)\n\u001b[0m\u001b[91m  - Downloading nette/neon (v3.3.3)\n\u001b[0m\u001b[91m  - Downloading nette/di (v3.0.14)\n\u001b[0m\u001b[91m  - Downloading nikic/php-parser (v4.15.2)\n\u001b[0m\u001b[91m  - Downloading phpstan/php-8-stubs (0.3.52)\n\u001b[0m\u001b[91m  - Downloading phpstan/phpdoc-parser (1.15.0)\n\u001b[0m\u001b[91m  - Downloading symfony/polyfill-intl-normalizer (v1.27.0)\n\u001b[0m\u001b[91m  - Downloading symfony/polyfill-intl-grapheme (v1.27.0)\n\u001b[0m\u001b[91m  - Downloading symfony/polyfill-ctype (v1.27.0)\n\u001b[0m\u001b[91m  - Downloading symfony/string (v6.2.0)\n\u001b[0m\u001b[91m  - Downloading psr/container (2.0.2)\n\u001b[0m\u001b[91m  - Downloading symfony/service-contracts (v3.1.1)\n\u001b[0m\u001b[91m  - Downloading symfony/console (v6.2.1)\n\u001b[0m\u001b[91m  - Installing jetbrains/phpstorm-stubs (v2022.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing latte/latte (v3.0.4): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/polyfill-php80 (v1.27.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/deprecation-contracts (v3.2.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing psr/event-dispatcher (1.0.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/utils (v3.2.8): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/schema (v1.2.3): Extracting archive\n\u001b[0m\u001b[91m  - Installing dflydev/dot-access-data (v3.0.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing league/config (v1.1.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/polyfill-mbstring (v1.27.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing league/commonmark (2.3.7): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/finder (v2.5.4): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/robot-loader (v3.4.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/php-generator (v4.0.5): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/neon (v3.3.3): Extracting archive\n\u001b[0m\u001b[91m  - Installing nette/di (v3.0.14): Extracting archive\n\u001b[0m\u001b[91m  - Installing nikic/php-parser (v4.15.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing phpstan/php-8-stubs (0.3.52): Extracting archive\n\u001b[0m\u001b[91m  - Installing phpstan/phpdoc-parser (1.15.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/polyfill-intl-normalizer (v1.27.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/polyfill-intl-grapheme (v1.27.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/polyfill-ctype (v1.27.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/string (v6.2.0): Extracting archive\n\u001b[0m\u001b[91m  - Installing psr/container (2.0.2): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/service-contracts (v3.1.1): Extracting archive\n\u001b[0m\u001b[91m  - Installing symfony/console (v6.2.1): Extracting archive\n\u001b[0m\u001b[91mGenerating autoload files\n\u001b[0m\u001b[91m11 packages you are using are looking for funding.\nUse the `composer fund` command to find out more!\n\u001b[0mRemoving intermediate container b35568fbf3e4\n ---> 9e2c3650bc47\nStep 15/24 : COPY bin                     /src/bin\n ---> b4dbb58145c1\nStep 16/24 : COPY src                     /src/src\n ---> 1eb87fdb0700\nStep 17/24 : COPY stubs                   /src/stubs\n ---> d31afca18c90\nStep 18/24 : COPY apigen.neon             /src/apigen.neon\n ---> 5154e65e3ebd\nStep 19/24 : COPY LICENSE                 /src/LICENSE\n ---> 6466c83103df\nStep 20/24 : RUN composer dump-autoload --classmap-authoritative\n ---> Running in cc7ba8a6c7d3\nGenerating optimized autoload files (authoritative)\nGenerated optimized autoload files (authoritative) containing 1164 classes\nRemoving intermediate container cc7ba8a6c7d3\n ---> c5a4b5f424d3\nStep 21/24 : FROM php-base as apigen\n ---> f9e844f6520b\nStep 22/24 : USER docker\n ---> Running in bde17cc94045\nRemoving intermediate container bde17cc94045\n ---> 0b0fbc715f2e\nStep 23/24 : COPY --from=apigen-builder --chown=docker:docker /src /src\n ---> 15fe3767edd3\nStep 24/24 : ENTRYPOINT [\"/src/bin/apigen\"]\n ---> Running in 23c9dbe40856\nRemoving intermediate container 23c9dbe40856\n ---> 9006d8805104\nSuccessfully built 9006d8805104\nSuccessfully tagged apigen:latest\n","stderr":"","imageSize":35754024},"repair":{"violations":[],"repairedDockerfile":"FROM alpine:edge as php-base\n\nRUN addgroup --system --gid 1000 docker && \\\n\tadduser --system --uid 1000 --ingroup docker docker && \\\n\tmkdir /src && \\\n\tchown docker:docker /src\n\nRUN apk add --no-cache \\\n\t\tphp82 \\\n\t\tphp82-ctype \\\n\t\tphp82-json \\\n\t\tphp82-mbstring \\\n\t\tphp82-opcache \\\n\t\tphp82-pcntl \\\n\t\tphp82-tokenizer && \\\n\tln -s /usr/bin/php82 /usr/bin/php\n\nCOPY php.ini           /etc/php82/php.ini\n\n\nFROM php-base as php-dev\nARG TARGETARCH\n\nCOPY --from=composer:2          /usr/bin/composer        /usr/bin/composer\n\nRUN apk add --no-cache \\\n\t\tphp82-curl \\\n\t\tphp82-openssl \\\n\t\tphp82-phar\n\n\nFROM php-dev as apigen-builder\n\nWORKDIR /src\nARG COMPOSER_ROOT_VERSION\n\nCOPY composer.json           /src/composer.json\nCOPY composer.lock           /src/composer.lock\nRUN composer install --no-dev --no-progress --no-cache\n\nCOPY bin                     /src/bin\nCOPY src                     /src/src\nCOPY stubs                   /src/stubs\nCOPY apigen.neon             /src/apigen.neon\nCOPY LICENSE                 /src/LICENSE\nRUN composer dump-autoload --classmap-authoritative\n\n\nFROM php-base as apigen\n\nUSER docker\nCOPY --from=apigen-builder --chown=docker:docker /src /src\nENTRYPOINT [\"/src/bin/apigen\"]\n"},"endTime":1672379309445}