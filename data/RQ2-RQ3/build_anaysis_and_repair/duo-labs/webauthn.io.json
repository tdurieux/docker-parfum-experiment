{"repository":"https://github.com/duo-labs/webauthn.io","dockerfilePath":"Dockerfile","startTime":1672865938207,"endTime":1672866146786,"clone":{"startTime":1672865938207,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/duo-labs/webauthn.io'...\n","error":null,"endTime":1672865939140,"commit":"5aff9f1c3d8e73ae22e63d54db7c8ce5811db3b8"},"originalBuild":{"startTime":1672865939236,"endTime":1672866062803,"error":null,"stdout":"Sending build context to Docker daemon  1.335MB\r\r\nStep 1/12 : FROM python:3.10 as base\n ---> 3aae3bded9cf\nStep 2/12 : RUN pip install pipenv\n ---> Running in ca3eb6432be9\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 31.3 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 16.0 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.10/site-packages (from pipenv) (65.5.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 27.3 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 2.7 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container ca3eb6432be9\n ---> aa847c0274b6\nStep 3/12 : FROM base as base1\n ---> aa847c0274b6\nStep 4/12 : ARG DJANGO_SECRET_KEY\n ---> Running in 5c4afb39db96\nRemoving intermediate container 5c4afb39db96\n ---> 7a29f035e30c\nStep 5/12 : RUN mkdir -p /usr/src/app\n ---> Running in b087d2c39f15\nRemoving intermediate container b087d2c39f15\n ---> 53553d0f76b6\nStep 6/12 : COPY ./_app /usr/src/app\n ---> b3d113aa7fe9\nStep 7/12 : COPY Pipfile /usr/src/app/\n ---> 023e0d714073\nStep 8/12 : COPY Pipfile.lock /usr/src/app/\n ---> 07ed3b5d1503\nStep 9/12 : WORKDIR /usr/src/app\n ---> Running in bb4e7f6995fa\nRemoving intermediate container bb4e7f6995fa\n ---> da4864b53435\nStep 10/12 : RUN pipenv install --system --deploy\n ---> Running in e4907519b1af\nInstalling dependencies from Pipfile.lock (fdb945)...\nRemoving intermediate container e4907519b1af\n ---> ab44378917db\nStep 11/12 : RUN python manage.py compilescss\n ---> Running in faa4f5255f7f\n.....................................................................................................................................................................................................................................\nSuccessfully compiled 1 referred SASS/SCSS files.\nRemoving intermediate container faa4f5255f7f\n ---> 532edab92f20\nStep 12/12 : RUN python manage.py collectstatic --no-input --ignore=*.scss\n ---> Running in ac3b7884a1c9\n\n156 static files copied to '/usr/src/app/static'.\nRemoving intermediate container ac3b7884a1c9\n ---> 536359f96bd2\nSuccessfully built 536359f96bd2\nSuccessfully tagged webauthn.io:latest\n","stderr":"","imageSize":1147158460},"repair":{"startTime":1672866062871,"endTime":1672866062938,"violations":[{"name":"pipUseNoCacheDir","position":{"start":2,"end":2,"columnStart":4,"columnEnd":22}},{"name":"mkdirUsrSrcThenRemove","position":{"start":10,"end":10,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"# Tweak the base image by installing pipenv\nFROM python:3.10 as base\nRUN pip install --no-cache-dir pipenv\n\n# Begin our actual build\nFROM base as base1\n# collectstatic needs the secret key to be set. We store that in this environment variable.\n# Set this value in this project's .env file\nARG DJANGO_SECRET_KEY\n\nRUN mkdir -p /usr/src/app && rm -rf /usr/src/app\n\nCOPY ./_app /usr/src/app\nCOPY Pipfile /usr/src/app/\nCOPY Pipfile.lock /usr/src/app/\n\nWORKDIR /usr/src/app\n\nRUN pipenv install --system --deploy\nRUN python manage.py compilescss\nRUN python manage.py collectstatic --no-input --ignore=*.scss\n"},"repairedBuild":{"startTime":1672866063531,"endTime":1672866145817,"error":null,"stdout":"Sending build context to Docker daemon  1.335MB\r\r\nStep 1/12 : FROM python:3.10 as base\n ---> 3aae3bded9cf\nStep 2/12 : RUN pip install --no-cache-dir pipenv\n ---> Running in 1ac25fcea162\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 98.3 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 356.6 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 113.4 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.10/site-packages (from pipenv) (65.5.0)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 199.2 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 1ac25fcea162\n ---> fad298e3859e\nStep 3/12 : FROM base as base1\n ---> fad298e3859e\nStep 4/12 : ARG DJANGO_SECRET_KEY\n ---> Running in b788b7fa64dc\nRemoving intermediate container b788b7fa64dc\n ---> 1ad241e441c1\nStep 5/12 : RUN mkdir -p /usr/src/app && rm -rf /usr/src/app\n ---> Running in 997dbb13a24f\nRemoving intermediate container 997dbb13a24f\n ---> 9b6114c942d7\nStep 6/12 : COPY ./_app /usr/src/app\n ---> 8d285a8f5719\nStep 7/12 : COPY Pipfile /usr/src/app/\n ---> b0e1d9ad47d8\nStep 8/12 : COPY Pipfile.lock /usr/src/app/\n ---> 6f74233903c8\nStep 9/12 : WORKDIR /usr/src/app\n ---> Running in 3ec01d37ac63\nRemoving intermediate container 3ec01d37ac63\n ---> d91a1969e42a\nStep 10/12 : RUN pipenv install --system --deploy\n ---> Running in c318f15618ec\nInstalling dependencies from Pipfile.lock (fdb945)...\nRemoving intermediate container c318f15618ec\n ---> 12ef994f4c9e\nStep 11/12 : RUN python manage.py compilescss\n ---> Running in c6768bea3b0f\n.....................................................................................................................................................................................................................................\nSuccessfully compiled 1 referred SASS/SCSS files.\nRemoving intermediate container c6768bea3b0f\n ---> 2ff0d75c4f89\nStep 12/12 : RUN python manage.py collectstatic --no-input --ignore=*.scss\n ---> Running in 51000430a63d\n\n156 static files copied to '/usr/src/app/static'.\nRemoving intermediate container 51000430a63d\n ---> 7b40094e010d\nSuccessfully built 7b40094e010d\nSuccessfully tagged webauthn.io:latest\n","stderr":"","imageSize":1134644986}}