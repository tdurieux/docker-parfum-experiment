{"repository":"https://github.com/s3krit/file0","dockerfilePath":"Dockerfile","startTime":1672353021075,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/s3krit/file0'...\n","error":null,"commit":"ab26894ee28f9035b374428f3467608b4c63cac1"},"originalBuild":{"startTimestamp":1672353022008,"endTimestamp":1672353118244,"error":null,"stdout":"Sending build context to Docker daemon  2.582MB\r\r\nStep 1/10 : FROM ruby:2.7.1\n2.7.1: Pulling from library/ruby\n57df1a1f1ad8: Pulling fs layer\n71e126169501: Pulling fs layer\n1af28a55c3f3: Pulling fs layer\n03f1c9932170: Pulling fs layer\n65b3db15f518: Pulling fs layer\n1226ce1a6914: Pulling fs layer\n193f324d2a7a: Pulling fs layer\n9370d60f4535: Pulling fs layer\n65b3db15f518: Waiting\n193f324d2a7a: Waiting\n1226ce1a6914: Waiting\n1af28a55c3f3: Verifying Checksum\n1af28a55c3f3: Download complete\n71e126169501: Verifying Checksum\n71e126169501: Download complete\n57df1a1f1ad8: Verifying Checksum\n57df1a1f1ad8: Download complete\n1226ce1a6914: Download complete\n03f1c9932170: Verifying Checksum\n03f1c9932170: Download complete\n9370d60f4535: Verifying Checksum\n9370d60f4535: Download complete\n193f324d2a7a: Verifying Checksum\n193f324d2a7a: Download complete\n57df1a1f1ad8: Pull complete\n65b3db15f518: Verifying Checksum\n65b3db15f518: Download complete\n71e126169501: Pull complete\n1af28a55c3f3: Pull complete\n03f1c9932170: Pull complete\n65b3db15f518: Pull complete\n1226ce1a6914: Pull complete\n193f324d2a7a: Pull complete\n9370d60f4535: Pull complete\nDigest: sha256:b3aab6a052e2397456342d97a4d0591d4b2bf54b1ee6e599867fb95440f22a6c\nStatus: Downloaded newer image for ruby:2.7.1\n ---> d8ca85855516\nStep 2/10 : ENV RACK_ENV production\n ---> Running in ffda45f2c08a\nRemoving intermediate container ffda45f2c08a\n ---> 970a857157af\nStep 3/10 : RUN apt-get -y update; apt-get install -y imagemagick\n ---> Running in c91aa6de17e9\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [417 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8548 kB in 2s (4098 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nimagemagick is already the newest version (8:6.9.10.23+dfsg-2.1+deb10u1).\n0 upgraded, 0 newly installed, 0 to remove and 158 not upgraded.\nRemoving intermediate container c91aa6de17e9\n ---> f03ffd194296\nStep 4/10 : RUN mkdir /code\n ---> Running in b5cee2220324\nRemoving intermediate container b5cee2220324\n ---> f95857016a3e\nStep 5/10 : COPY . /code/\n ---> 05d4530a0b90\nStep 6/10 : COPY Gemfile* /code/\n ---> 6c93e1dffbe3\nStep 7/10 : WORKDIR /code\n ---> Running in 23bf0fe88e44\nRemoving intermediate container 23bf0fe88e44\n ---> b8c4baea657e\nStep 8/10 : RUN bundle install\n ---> Running in 83f17f78f2ac\nFetching gem metadata from https://rubygems.org/.........\nResolving dependencies...\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching ast 2.4.2\nInstalling ast 2.4.2\nUsing bundler 2.1.4\nFetching coderay 1.1.3\nInstalling coderay 1.1.3\nFetching connection_pool 2.3.0\nInstalling connection_pool 2.3.0\nFetching filesize 0.2.0\nInstalling filesize 0.2.0\nFetching json 2.6.3\nInstalling json 2.6.3 with native extensions\nFetching kgio 2.11.4\nInstalling kgio 2.11.4 with native extensions\nFetching method_source 1.0.0\nInstalling method_source 1.0.0\nFetching mini_magick 4.12.0\nInstalling mini_magick 4.12.0\nFetching multi_json 1.15.0\nInstalling multi_json 1.15.0\nFetching ruby2_keywords 0.0.5\nInstalling ruby2_keywords 0.0.5\nFetching mustermann 3.0.0\nInstalling mustermann 3.0.0\nFetching parallel 1.22.1\nInstalling parallel 1.22.1\nFetching parser 3.1.3.0\nInstalling parser 3.1.3.0\nFetching power_assert 2.0.3\nInstalling power_assert 2.0.3\nFetching pry 0.14.1\nInstalling pry 0.14.1\nFetching rack 2.2.5\nInstalling rack 2.2.5\nFetching rack-protection 3.0.5\nInstalling rack-protection 3.0.5\nFetching rack-test 2.0.2\nInstalling rack-test 2.0.2\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nFetching raindrops 0.20.0\nInstalling raindrops 0.20.0 with native extensions\nFetching redis-client 0.11.2\nInstalling redis-client 0.11.2\nFetching redis 5.0.5\nInstalling redis 5.0.5\nFetching redis-namespace 1.10.0\nInstalling redis-namespace 1.10.0\nFetching regexp_parser 2.6.1\nInstalling regexp_parser 2.6.1\nFetching rexml 3.2.5\nInstalling rexml 3.2.5\nFetching rubocop-ast 1.24.1\nInstalling rubocop-ast 1.24.1\nFetching ruby-progressbar 1.11.0\nInstalling ruby-progressbar 1.11.0\nFetching unicode-display_width 2.3.0\nInstalling unicode-display_width 2.3.0\nFetching rubocop 1.41.1\nInstalling rubocop 1.41.1\nFetching tilt 2.0.11\nInstalling tilt 2.0.11\nFetching sinatra 3.0.5\nInstalling sinatra 3.0.5\nFetching sinatra-contrib 3.0.5\nInstalling sinatra-contrib 3.0.5\nFetching test-unit 3.5.7\nInstalling test-unit 3.5.7\nFetching unicorn 6.1.0\nInstalling unicorn 6.1.0 with native extensions\nBundle complete! 13 Gemfile dependencies, 36 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container 83f17f78f2ac\n ---> e6a1809e3845\nStep 9/10 : EXPOSE 9292\n ---> Running in ace79843a2e1\nRemoving intermediate container ace79843a2e1\n ---> 3f8df697a838\nStep 10/10 : CMD rackup\n ---> Running in f39187df57b2\nRemoving intermediate container f39187df57b2\n ---> 84bfc3e97bf1\nSuccessfully built 84bfc3e97bf1\nSuccessfully tagged file0:latest\n","stderr":"","imageSize":913741445},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":3,"end":3,"columnStart":23,"columnEnd":53}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":3,"end":3,"columnStart":23,"columnEnd":53}}],"repairedDockerfile":"FROM ruby:2.7.1\nENV RACK_ENV production\n\nRUN apt-get -y update; apt-get install --no-install-recommends -y imagemagick\n\n# Copy and set up app\nRUN mkdir /code\nCOPY . /code/\n\nCOPY Gemfile* /code/\nWORKDIR /code\nRUN bundle install\n\nEXPOSE 9292\nCMD rackup\n"},"repairedBuild":{"startTimestamp":1672353118759,"endTimestamp":1672353194175,"error":null,"stdout":"Sending build context to Docker daemon  2.582MB\r\r\nStep 1/10 : FROM ruby:2.7.1\n ---> d8ca85855516\nStep 2/10 : ENV RACK_ENV production\n ---> Running in 0ebe60293aad\nRemoving intermediate container 0ebe60293aad\n ---> b6b1faab33b1\nStep 3/10 : RUN apt-get -y update; apt-get install --no-install-recommends -y imagemagick\n ---> Running in f93bdbba50e6\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [417 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8548 kB in 2s (5088 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nimagemagick is already the newest version (8:6.9.10.23+dfsg-2.1+deb10u1).\n0 upgraded, 0 newly installed, 0 to remove and 158 not upgraded.\nRemoving intermediate container f93bdbba50e6\n ---> bc439348f416\nStep 4/10 : RUN mkdir /code\n ---> Running in 030e5673219b\nRemoving intermediate container 030e5673219b\n ---> 650cc0987f55\nStep 5/10 : COPY . /code/\n ---> 5f286af35af1\nStep 6/10 : COPY Gemfile* /code/\n ---> e041f9b90939\nStep 7/10 : WORKDIR /code\n ---> Running in 89251fd45927\nRemoving intermediate container 89251fd45927\n ---> ae30f15d0809\nStep 8/10 : RUN bundle install\n ---> Running in d843aa15958a\nFetching gem metadata from https://rubygems.org/.........\nResolving dependencies...\nFetching rake 13.0.6\nInstalling rake 13.0.6\nFetching ast 2.4.2\nInstalling ast 2.4.2\nUsing bundler 2.1.4\nFetching coderay 1.1.3\nInstalling coderay 1.1.3\nFetching connection_pool 2.3.0\nInstalling connection_pool 2.3.0\nFetching filesize 0.2.0\nInstalling filesize 0.2.0\nFetching json 2.6.3\nInstalling json 2.6.3 with native extensions\nFetching kgio 2.11.4\nInstalling kgio 2.11.4 with native extensions\nFetching method_source 1.0.0\nInstalling method_source 1.0.0\nFetching mini_magick 4.12.0\nInstalling mini_magick 4.12.0\nFetching multi_json 1.15.0\nInstalling multi_json 1.15.0\nFetching ruby2_keywords 0.0.5\nInstalling ruby2_keywords 0.0.5\nFetching mustermann 3.0.0\nInstalling mustermann 3.0.0\nFetching parallel 1.22.1\nInstalling parallel 1.22.1\nFetching parser 3.1.3.0\nInstalling parser 3.1.3.0\nFetching power_assert 2.0.3\nInstalling power_assert 2.0.3\nFetching pry 0.14.1\nInstalling pry 0.14.1\nFetching rack 2.2.5\nInstalling rack 2.2.5\nFetching rack-protection 3.0.5\nInstalling rack-protection 3.0.5\nFetching rack-test 2.0.2\nInstalling rack-test 2.0.2\nFetching rainbow 3.1.1\nInstalling rainbow 3.1.1\nFetching raindrops 0.20.0\nInstalling raindrops 0.20.0 with native extensions\nFetching redis-client 0.11.2\nInstalling redis-client 0.11.2\nFetching redis 5.0.5\nInstalling redis 5.0.5\nFetching redis-namespace 1.10.0\nInstalling redis-namespace 1.10.0\nFetching regexp_parser 2.6.1\nInstalling regexp_parser 2.6.1\nFetching rexml 3.2.5\nInstalling rexml 3.2.5\nFetching rubocop-ast 1.24.1\nInstalling rubocop-ast 1.24.1\nFetching ruby-progressbar 1.11.0\nInstalling ruby-progressbar 1.11.0\nFetching unicode-display_width 2.3.0\nInstalling unicode-display_width 2.3.0\nFetching rubocop 1.41.1\nInstalling rubocop 1.41.1\nFetching tilt 2.0.11\nInstalling tilt 2.0.11\nFetching sinatra 3.0.5\nInstalling sinatra 3.0.5\nFetching sinatra-contrib 3.0.5\nInstalling sinatra-contrib 3.0.5\nFetching test-unit 3.5.7\nInstalling test-unit 3.5.7\nFetching unicorn 6.1.0\nInstalling unicorn 6.1.0 with native extensions\nBundle complete! 13 Gemfile dependencies, 36 gems now installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nRemoving intermediate container d843aa15958a\n ---> 70c37d0a30d8\nStep 9/10 : EXPOSE 9292\n ---> Running in 3694a1c20178\nRemoving intermediate container 3694a1c20178\n ---> 69a452ea4212\nStep 10/10 : CMD rackup\n ---> Running in 7a1911b7ff4f\nRemoving intermediate container 7a1911b7ff4f\n ---> 4a74609669d9\nSuccessfully built 4a74609669d9\nSuccessfully tagged file0:latest\n","stderr":"","imageSize":913741463},"endTime":1672353194494}