{"repository":"https://github.com/shupp/vegadns-api","dockerfilePath":"Dockerfile","startTime":1672859042280,"endTime":1672859131297,"clone":{"startTime":1672859042281,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/shupp/vegadns-api'...\n","error":null,"endTime":1672859044342,"commit":"c4f446f922fd10af6d3c9d0c76a43ae8b5e20efd"},"originalBuild":{"startTime":1672859044423,"endTime":1672859131239,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t vegadns-api:latest -f /tmp/dinghy-analysis/shupp/vegadns-api/Dockerfile ."},"stdout":"Sending build context to Docker daemon    341kB\r\r\nStep 1/10 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/10 : ENV API_PORT 8000\n ---> Running in 6567cae839b6\nRemoving intermediate container 6567cae839b6\n ---> 6c1bd6b31ce3\nStep 3/10 : ENV WORKERS 25\n ---> Running in ec43abf7b0bb\nRemoving intermediate container ec43abf7b0bb\n ---> a82903bb060e\nStep 4/10 : ENV VENV_DIR /opt/venv\n ---> Running in 7f3104d7a8db\nRemoving intermediate container 7f3104d7a8db\n ---> 0591ce97254e\nStep 5/10 : ADD . /opt/vegadns\n ---> f3df254bbb9f\nStep 6/10 : RUN apk --update add python3 py3-setuptools\n ---> Running in 0a6a0f48ebf4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/16) Installing libbz2 (1.0.8-r4)\n(2/16) Installing libexpat (2.5.0-r0)\n(3/16) Installing libffi (3.4.4-r0)\n(4/16) Installing gdbm (1.23-r0)\n(5/16) Installing xz-libs (5.2.9-r0)\n(6/16) Installing libgcc (12.2.1_git20220924-r4)\n(7/16) Installing libstdc++ (12.2.1_git20220924-r4)\n(8/16) Installing mpdecimal (2.5.1-r1)\n(9/16) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(10/16) Installing ncurses-libs (6.3_p20221119-r0)\n(11/16) Installing readline (8.2.0-r0)\n(12/16) Installing sqlite-libs (3.40.1-r0)\n(13/16) Installing python3 (3.10.9-r1)\n(14/16) Installing py3-parsing (3.0.9-r0)\n(15/16) Installing py3-packaging (21.3-r2)\n(16/16) Installing py3-setuptools (65.6.0-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 68 MiB in 31 packages\nRemoving intermediate container 0a6a0f48ebf4\n ---> 6c85625aad9a\nStep 7/10 : RUN apk --update add --virtual build-dependencies py3-pip python3-dev libffi-dev build-base   rust cargo openssl-dev   && python3 -m venv ${VENV_DIR}   && (source ${VENV_DIR}/bin/activate && pip3 install -U pip && pip3 install -r /opt/vegadns/requirements.txt)   && apk del build-dependencies\n ---> Running in c862ff7a9886\n(1/39) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(2/39) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(3/39) Installing py3-six (1.16.0-r3)\n(4/39) Installing py3-retrying (1.3.3-r3)\n(5/39) Installing py3-pip (22.3.1-r1)\n(6/39) Installing pkgconf (1.9.3-r0)\n(7/39) Installing python3-dev (3.10.9-r1)\n(8/39) Installing linux-headers (5.19.5-r0)\n(9/39) Installing libffi-dev (3.4.4-r0)\n(10/39) Installing binutils (2.39-r2)\n(11/39) Installing libmagic (5.43-r0)\n(12/39) Installing file (5.43-r0)\n(13/39) Installing libgomp (12.2.1_git20220924-r4)\n(14/39) Installing libatomic (12.2.1_git20220924-r4)\n(15/39) Installing gmp (6.2.1-r2)\n(16/39) Installing isl25 (0.25-r0)\n(17/39) Installing mpfr4 (4.1.0-r0)\n(18/39) Installing mpc1 (1.2.1-r1)\n(19/39) Installing gcc (12.2.1_git20220924-r4)\n(20/39) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(21/39) Installing musl-dev (1.2.3-r4)\n(22/39) Installing libc-dev (0.7.2-r3)\n(23/39) Installing g++ (12.2.1_git20220924-r4)\n(24/39) Installing make (4.3-r1)\n(25/39) Installing fortify-headers (1.1-r1)\n(26/39) Installing patch (2.7.6-r8)\n(27/39) Installing build-base (0.5-r3)\n(28/39) Installing rust-stdlib (1.64.0-r2)\n(29/39) Installing libxml2 (2.10.3-r1)\n(30/39) Installing zstd-libs (1.5.2-r9)\n(31/39) Installing llvm15-libs (15.0.6-r0)\n(32/39) Installing rust (1.64.0-r2)\n(33/39) Installing ca-certificates (20220614-r3)\n(34/39) Installing brotli-libs (1.0.9-r9)\n(35/39) Installing nghttp2-libs (1.51.0-r0)\n(36/39) Installing libcurl (7.87.0-r0)\n(37/39) Installing cargo (1.64.0-r2)\n(38/39) Installing openssl-dev (3.0.7-r2)\n(39/39) Installing build-dependencies (20230104.190443)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 1195 MiB in 68 packages\nRequirement already satisfied: pip in /opt/venv/lib/python3.10/site-packages (22.3.1)\nCollecting aniso8601==7.0.0\n  Downloading aniso8601-7.0.0-py2.py3-none-any.whl (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.0/42.0 kB 88.5 kB/s eta 0:00:00\nCollecting attrs==19.1.0\n  Downloading attrs-19.1.0-py2.py3-none-any.whl (35 kB)\nCollecting bcrypt==3.1.7\n  Downloading bcrypt-3.1.7.tar.gz (42 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.5/42.5 kB 48.2 kB/s eta 0:00:00\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Preparing metadata (pyproject.toml): started\n  Preparing metadata (pyproject.toml): finished with status 'done'\nCollecting certifi==2019.6.16\n  Downloading certifi-2019.6.16-py2.py3-none-any.whl (157 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 157.1/157.1 kB 8.4 MB/s eta 0:00:00\nCollecting cffi==1.12.3\n  Downloading cffi-1.12.3.tar.gz (456 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 456.3/456.3 kB 9.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting chardet==3.0.4\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 kB 1.1 MB/s eta 0:00:00\nCollecting Click==7.0\n  Downloading Click-7.0-py2.py3-none-any.whl (81 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 81.3/81.3 kB 2.8 MB/s eta 0:00:00\nCollecting coverage==4.5.4\n  Downloading coverage-4.5.4.tar.gz (385 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.2/385.2 kB 2.3 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting filelock==3.0.12\n  Downloading filelock-3.0.12-py3-none-any.whl (7.6 kB)\nCollecting Flask==1.1.1\n  Downloading Flask-1.1.1-py2.py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.5/94.5 kB 2.7 MB/s eta 0:00:00\nCollecting Flask-Cors==3.0.9\n  Downloading Flask_Cors-3.0.9-py2.py3-none-any.whl (14 kB)\nCollecting Flask-pyoidc==3.5.1\n  Downloading Flask_pyoidc-3.5.1-py3-none-any.whl (17 kB)\nCollecting Flask-RESTful==0.3.7\n  Downloading Flask_RESTful-0.3.7-py2.py3-none-any.whl (24 kB)\nCollecting funcsigs==1.0.2\n  Downloading funcsigs-1.0.2-py2.py3-none-any.whl (17 kB)\nCollecting future==0.17.1\n  Downloading future-0.17.1.tar.gz (829 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 829.1/829.1 kB 21.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting gunicorn==20.0.4\n  Downloading gunicorn-20.0.4-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.9/77.9 kB 2.2 MB/s eta 0:00:00\nCollecting httplib2==0.19.0\n  Downloading httplib2-0.19.0-py3-none-any.whl (95 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 95.4/95.4 kB 1.9 MB/s eta 0:00:00\nCollecting idna==2.8\n  Downloading idna-2.8-py2.py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.6/58.6 kB 236.7 kB/s eta 0:00:00\nCollecting importlib-metadata==0.20\n  Downloading importlib_metadata-0.20-py2.py3-none-any.whl (26 kB)\nCollecting itsdangerous==1.1.0\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting Jinja2==2.11.3\n  Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.7/125.7 kB 322.4 kB/s eta 0:00:00\nCollecting magicmock==0.3\n  Downloading magicmock-0.03.tar.gz (113 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 113.4/113.4 kB 335.4 kB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting MarkupSafe==1.1.1\n  Downloading MarkupSafe-1.1.1.tar.gz (19 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting mock==3.0.5\n  Downloading mock-3.0.5-py2.py3-none-any.whl (25 kB)\nCollecting more-itertools==7.2.0\n  Downloading more_itertools-7.2.0-py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.3/57.3 kB 1.1 MB/s eta 0:00:00\nCollecting netaddr==0.7.19\n  Downloading netaddr-0.7.19-py2.py3-none-any.whl (1.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 13.6 MB/s eta 0:00:00\nCollecting nose==1.3.7\n  Downloading nose-1.3.7-py3-none-any.whl (154 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 154.7/154.7 kB 66.7 kB/s eta 0:00:00\nCollecting packaging==19.1\n  Downloading packaging-19.1-py2.py3-none-any.whl (30 kB)\nCollecting pbr==5.4.3\n  Downloading pbr-5.4.3-py2.py3-none-any.whl (110 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 110.5/110.5 kB 339.6 kB/s eta 0:00:00\nCollecting peewee==3.10.0\n  Downloading peewee-3.10.0.tar.gz (2.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.3/2.3 MB 4.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pluggy==0.12.0\n  Downloading pluggy-0.12.0-py2.py3-none-any.whl (17 kB)\nCollecting py==1.10.0\n  Downloading py-1.10.0-py2.py3-none-any.whl (97 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 97.6/97.6 kB 3.2 MB/s eta 0:00:00\nCollecting pycodestyle==2.5.0\n  Downloading pycodestyle-2.5.0-py2.py3-none-any.whl (51 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 51.2/51.2 kB 617.5 kB/s eta 0:00:00\nCollecting pycparser==2.19\n  Downloading pycparser-2.19.tar.gz (158 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 158.3/158.3 kB 3.0 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting PyMySQL==0.9.3\n  Downloading PyMySQL-0.9.3-py2.py3-none-any.whl (47 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 47.7/47.7 kB 450.8 kB/s eta 0:00:00\nCollecting pyparsing==2.4.2\n  Downloading pyparsing-2.4.2-py2.py3-none-any.whl (65 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 2.9 MB/s eta 0:00:00\nCollecting pystache==0.5.4\n  Downloading pystache-0.5.4.tar.gz (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.1/75.1 kB 2.1 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'error'\n\u001b[91m  error: subprocess-exited-with-error\n  \n  × python setup.py egg_info did not run successfully.\n  │ exit code: 1\n  ╰─> [3 lines of output]\n      pystache: using: version '65.5.0' of <module 'setuptools' from '/opt/venv/lib/python3.10/site-packages/setuptools/__init__.py'>\n      Warning: 'classifiers' should be a list, got type 'tuple'\n      error in pystache setup command: use_2to3 is invalid.\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\n\u001b[0m\u001b[91merror: metadata-generation-failed\n\n× Encountered error while generating package metadata.\n╰─> See above for output.\n\nnote: This is an issue with the package mentioned above, not pip.\nhint: See above for details.\n\u001b[0mRemoving intermediate container c862ff7a9886\n","stderr":"The command '/bin/sh -c apk --update add --virtual build-dependencies py3-pip python3-dev libffi-dev build-base   rust cargo openssl-dev   && python3 -m venv ${VENV_DIR}   && (source ${VENV_DIR}/bin/activate && pip3 install -U pip && pip3 install -r /opt/vegadns/requirements.txt)   && apk del build-dependencies' returned a non-zero code: 1\n"}}