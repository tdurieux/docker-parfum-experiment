{"repository":"https://github.com/simagix/keyhole","dockerfilePath":"Dockerfile","startTime":1672591758859,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/simagix/keyhole'...\n","error":null,"commit":"1ab0da95087ac2614e9c964968542e36e93d5379"},"originalBuild":{"startTimestamp":1672591759733,"endTimestamp":1672591869582,"error":null,"stdout":"Sending build context to Docker daemon  610.3kB\r\r\nStep 1/14 : FROM golang:1.14-alpine as builder\n1.14-alpine: Pulling from library/golang\n4c0d98bf9879: Pulling fs layer\n9e181322f1e7: Pulling fs layer\n6422294da7d3: Pulling fs layer\neb57f1833670: Pulling fs layer\nbd57f1a80d4e: Pulling fs layer\neb57f1833670: Waiting\nbd57f1a80d4e: Waiting\n6422294da7d3: Verifying Checksum\n6422294da7d3: Download complete\n9e181322f1e7: Verifying Checksum\n9e181322f1e7: Download complete\n4c0d98bf9879: Verifying Checksum\n4c0d98bf9879: Download complete\n4c0d98bf9879: Pull complete\nbd57f1a80d4e: Verifying Checksum\nbd57f1a80d4e: Download complete\n9e181322f1e7: Pull complete\n6422294da7d3: Pull complete\neb57f1833670: Verifying Checksum\neb57f1833670: Download complete\neb57f1833670: Pull complete\nbd57f1a80d4e: Pull complete\nDigest: sha256:e196a762bd349b188d66c539354fc23f0e5a0178c214e6dfe4d7894c3c2753f1\nStatus: Downloaded newer image for golang:1.14-alpine\n ---> 32dc91e030ac\nStep 2/14 : RUN apk update && apk add git bash && rm -rf /var/cache/apk/*   && mkdir -p /go/src/github.com/simagix/keyhole\n ---> Running in 493ef1385856\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13908 distinct packages available\n(1/10) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/10) Installing ncurses-libs (6.2_p20210109-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing brotli-libs (1.0.9-r3)\n(6/10) Installing nghttp2-libs (1.42.0-r1)\n(7/10) Installing libcurl (7.79.1-r3)\n(8/10) Installing expat (2.2.10-r8)\n(9/10) Installing pcre2 (10.36-r1)\n(10/10) Installing git (2.30.6-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 21 MiB in 25 packages\nRemoving intermediate container 493ef1385856\n ---> ef5d298e1c2c\nStep 3/14 : ADD . /go/src/github.com/simagix/keyhole\n ---> e6b93bd6b566\nStep 4/14 : WORKDIR /go/src/github.com/simagix/keyhole\n ---> Running in c2e10f041938\nRemoving intermediate container c2e10f041938\n ---> a6e24d0e23c6\nStep 5/14 : RUN ./build.sh cross-platform\n ---> Running in 75c9f0cc7e89\n\u001b[91mgo: downloading go.mongodb.org/mongo-driver v1.8.3\n\u001b[0m\u001b[91mgo: downloading github.com/simagix/gox v0.2.4-0.20220131221741-09a85844aa15\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220214200702-86341886e292\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91mgo: downloading github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/scram v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/youmark/pkcs8 v0.0.0-20181117223130-1be2e3e5546d\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/tidwall/pretty v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/stringprep v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/pbkdf2 v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: downloading gopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127\n\u001b[0m\u001b[91mgo: downloading github.com/kr/pretty v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/kr/text v0.1.0\n\u001b[0m\u001b[91mgithub.com/simagix/keyhole imports\n\tgo.mongodb.org/mongo-driver/mongo imports\n\tgo.mongodb.org/mongo-driver/x/mongo/driver imports\n\tgithub.com/klauspost/compress/zstd tested by\n\tgithub.com/klauspost/compress/zstd.test imports\n\tgithub.com/klauspost/compress/zip imports\n\tio/fs: package io/fs is not in GOROOT (/usr/local/go/src/io/fs)\ngithub.com/simagix/keyhole imports\n\tgo.mongodb.org/mongo-driver/mongo imports\n\tgo.mongodb.org/mongo-driver/x/mongo/driver imports\n\tgithub.com/klauspost/compress/zstd tested by\n\tgithub.com/klauspost/compress/zstd.test imports\n\tgithub.com/klauspost/compress/zip tested by\n\tgithub.com/klauspost/compress/zip.test imports\n\ttesting/fstest: package testing/fstest is not in GOROOT (/usr/local/go/src/testing/fstest)\n\u001b[0mRemoving intermediate container 75c9f0cc7e89\n ---> 3a48b0fb0b7d\nStep 6/14 : FROM alpine\n ---> 49176f190c7e\nStep 7/14 : LABEL Ken Chen <ken.chen@simagix.com>\n ---> Running in 8bbb93070860\nRemoving intermediate container 8bbb93070860\n ---> 41ed7419f623\nStep 8/14 : RUN addgroup -S simagix && adduser -S simagix -G simagix\n ---> Running in c2f0300d05ee\nRemoving intermediate container c2f0300d05ee\n ---> d736768e5640\nStep 9/14 : USER simagix\n ---> Running in fe9b54394bff\nRemoving intermediate container fe9b54394bff\n ---> 276d836df1af\nStep 10/14 : WORKDIR /dist\n ---> Running in f3d9d23572fc\nRemoving intermediate container f3d9d23572fc\n ---> d56324cb8ac5\nStep 11/14 : COPY --from=builder /go/src/github.com/simagix/keyhole/dist/keyhole-* /dist/\n ---> 1e149dfb7973\nStep 12/14 : WORKDIR /home/simagix\n ---> Running in 32809342ad57\nRemoving intermediate container 32809342ad57\n ---> ee3afaf5fa47\nStep 13/14 : COPY --from=builder /go/src/github.com/simagix/keyhole/dist/keyhole-linux-x64 /keyhole\n ---> 48b7daea421c\nStep 14/14 : CMD [\"/keyhole\", \"--version\"]\n ---> Running in 47f6c7b0bedc\nRemoving intermediate container 47f6c7b0bedc\n ---> 5aa9e4965e71\nSuccessfully built 5aa9e4965e71\nSuccessfully tagged keyhole:latest\n","stderr":"","imageSize":88656620},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":1,"end":1,"columnStart":18,"columnEnd":34}}],"repairedDockerfile":"FROM golang:1.14-alpine as builder\nRUN apk update && apk add --no-cache git bash && rm -rf /var/cache/apk/* \\\n  && mkdir -p /go/src/github.com/simagix/keyhole\nADD . /go/src/github.com/simagix/keyhole\nWORKDIR /go/src/github.com/simagix/keyhole\nRUN ./build.sh cross-platform\nFROM alpine\nLABEL Ken Chen <ken.chen@simagix.com>\nRUN addgroup -S simagix && adduser -S simagix -G simagix\nUSER simagix\nWORKDIR /dist\nCOPY --from=builder /go/src/github.com/simagix/keyhole/dist/keyhole-* /dist/\nWORKDIR /home/simagix\nCOPY --from=builder /go/src/github.com/simagix/keyhole/dist/keyhole-linux-x64 /keyhole\nCMD [\"/keyhole\", \"--version\"]\n"},"repairedBuild":{"startTimestamp":1672591869965,"endTimestamp":1672591972440,"error":null,"stdout":"Sending build context to Docker daemon  610.3kB\r\r\nStep 1/14 : FROM golang:1.14-alpine as builder\n ---> 32dc91e030ac\nStep 2/14 : RUN apk update && apk add --no-cache git bash && rm -rf /var/cache/apk/*   && mkdir -p /go/src/github.com/simagix/keyhole\n ---> Running in 6bf13c7934e9\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]\nv3.13.12-94-g0551adbecc [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]\nOK: 13908 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz\n(1/10) Installing ncurses-terminfo-base (6.2_p20210109-r1)\n(2/10) Installing ncurses-libs (6.2_p20210109-r1)\n(3/10) Installing readline (8.1.0-r0)\n(4/10) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/10) Installing brotli-libs (1.0.9-r3)\n(6/10) Installing nghttp2-libs (1.42.0-r1)\n(7/10) Installing libcurl (7.79.1-r3)\n(8/10) Installing expat (2.2.10-r8)\n(9/10) Installing pcre2 (10.36-r1)\n(10/10) Installing git (2.30.6-r0)\nExecuting busybox-1.32.1-r2.trigger\nOK: 21 MiB in 25 packages\nRemoving intermediate container 6bf13c7934e9\n ---> 9a8348591378\nStep 3/14 : ADD . /go/src/github.com/simagix/keyhole\n ---> d90c570171a5\nStep 4/14 : WORKDIR /go/src/github.com/simagix/keyhole\n ---> Running in c108b8eb0e06\nRemoving intermediate container c108b8eb0e06\n ---> afdea0a20be9\nStep 5/14 : RUN ./build.sh cross-platform\n ---> Running in da8f946a02ab\n\u001b[91mgo: downloading go.mongodb.org/mongo-driver v1.8.3\n\u001b[0m\u001b[91mgo: downloading github.com/simagix/gox v0.2.4-0.20220131221741-09a85844aa15\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.7\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20220214200702-86341886e292\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/go-cmp v0.5.2\ngo: downloading github.com/tidwall/pretty v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/stringprep v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.13.6\n\u001b[0m\u001b[91mgo: downloading github.com/youmark/pkcs8 v0.0.0-20181117223130-1be2e3e5546d\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/scram v1.0.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c\ngo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/xdg-go/pbkdf2 v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127\n\u001b[0m\u001b[91mgo: downloading github.com/kr/pretty v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/kr/text v0.1.0\n\u001b[0m\u001b[91mgithub.com/simagix/keyhole imports\n\tgo.mongodb.org/mongo-driver/mongo imports\n\tgo.mongodb.org/mongo-driver/x/mongo/driver imports\n\tgithub.com/klauspost/compress/zstd tested by\n\tgithub.com/klauspost/compress/zstd.test imports\n\tgithub.com/klauspost/compress/zip imports\n\tio/fs: package io/fs is not in GOROOT (/usr/local/go/src/io/fs)\ngithub.com/simagix/keyhole imports\n\tgo.mongodb.org/mongo-driver/mongo imports\n\tgo.mongodb.org/mongo-driver/x/mongo/driver imports\n\tgithub.com/klauspost/compress/zstd tested by\n\tgithub.com/klauspost/compress/zstd.test imports\n\tgithub.com/klauspost/compress/zip tested by\n\tgithub.com/klauspost/compress/zip.test imports\n\ttesting/fstest: package testing/fstest is not in GOROOT (/usr/local/go/src/testing/fstest)\n\u001b[0mRemoving intermediate container da8f946a02ab\n ---> 272b37dd99c4\nStep 6/14 : FROM alpine\n ---> 49176f190c7e\nStep 7/14 : LABEL Ken Chen <ken.chen@simagix.com>\n ---> Running in 0e0c9d155e67\nRemoving intermediate container 0e0c9d155e67\n ---> 223aadfa3ac4\nStep 8/14 : RUN addgroup -S simagix && adduser -S simagix -G simagix\n ---> Running in ab6e7a80622c\nRemoving intermediate container ab6e7a80622c\n ---> ebc7305b33ed\nStep 9/14 : USER simagix\n ---> Running in 9f591434baae\nRemoving intermediate container 9f591434baae\n ---> 28b632b7a1c2\nStep 10/14 : WORKDIR /dist\n ---> Running in 5f19258218a4\nRemoving intermediate container 5f19258218a4\n ---> 0c4b7c8b7d89\nStep 11/14 : COPY --from=builder /go/src/github.com/simagix/keyhole/dist/keyhole-* /dist/\n ---> c7b97f37df59\nStep 12/14 : WORKDIR /home/simagix\n ---> Running in d98d7a19cb37\nRemoving intermediate container d98d7a19cb37\n ---> c56d069fdd9d\nStep 13/14 : COPY --from=builder /go/src/github.com/simagix/keyhole/dist/keyhole-linux-x64 /keyhole\n ---> 1f00f71934c4\nStep 14/14 : CMD [\"/keyhole\", \"--version\"]\n ---> Running in 5bb933f6d3f8\nRemoving intermediate container 5bb933f6d3f8\n ---> b4e4564dc542\nSuccessfully built b4e4564dc542\nSuccessfully tagged keyhole:latest\n","stderr":"","imageSize":88656620},"endTime":1672591972856}