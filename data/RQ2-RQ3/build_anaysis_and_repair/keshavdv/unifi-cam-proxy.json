{"repository":"https://github.com/keshavdv/unifi-cam-proxy","dockerfilePath":"Dockerfile","startTime":1672086559790,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/keshavdv/unifi-cam-proxy'...\n","error":null,"commit":"17a3284005b8a8aaae7ab83ee5657225541f5539"},"originalBuild":{"startTimestamp":1672086560688,"endTimestamp":1672086638126,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t unifi-cam-proxy:latest -f /tmp/dinghy-analysis/keshavdv/unifi-cam-proxy/Dockerfile ."},"stdout":"Sending build context to Docker daemon  563.7kB\r\r\nStep 1/9 : FROM python:3.8-alpine3.10\n3.8-alpine3.10: Pulling from library/python\n21c83c524219: Already exists\n9a80d14c35bd: Pulling fs layer\n0d32a27dde5a: Pulling fs layer\n2cb80a514e07: Pulling fs layer\nd5d3b19aaadd: Pulling fs layer\n9a80d14c35bd: Verifying Checksum\n9a80d14c35bd: Download complete\n2cb80a514e07: Download complete\n9a80d14c35bd: Pull complete\n0d32a27dde5a: Verifying Checksum\n0d32a27dde5a: Download complete\nd5d3b19aaadd: Verifying Checksum\nd5d3b19aaadd: Download complete\n0d32a27dde5a: Pull complete\n2cb80a514e07: Pull complete\nd5d3b19aaadd: Pull complete\nDigest: sha256:152b1952d4b42e360f2efd3037df9b645328c0cc6fbe9c63decbffbff407b96a\nStatus: Downloaded newer image for python:3.8-alpine3.10\n ---> cf0232583873\nStep 2/9 : WORKDIR /app\n ---> Running in af2430bd2300\nRemoving intermediate container af2430bd2300\n ---> 6d31db44a828\nStep 3/9 : RUN apk add --update gcc libc-dev linux-headers libusb-dev\n ---> Running in 5df5833c1edc\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz\n(1/17) Upgrading musl (1.1.22-r3 -> 1.1.22-r4)\n(2/17) Installing binutils (2.32-r1)\n(3/17) Installing gmp (6.1.2-r1)\n(4/17) Installing isl (0.18-r0)\n(5/17) Installing libgomp (8.3.0-r0)\n(6/17) Installing libatomic (8.3.0-r0)\n(7/17) Installing libgcc (8.3.0-r0)\n(8/17) Installing mpfr3 (3.1.5-r1)\n(9/17) Installing mpc1 (1.1.0-r0)\n(10/17) Installing libstdc++ (8.3.0-r0)\n(11/17) Installing gcc (8.3.0-r0)\n(12/17) Installing musl-dev (1.1.22-r4)\n(13/17) Installing libc-dev (0.7.1-r0)\n(14/17) Installing libusb (1.0.22-r0)\n(15/17) Installing pkgconf (1.6.1-r1)\n(16/17) Installing libusb-dev (1.0.22-r0)\n(17/17) Installing linux-headers (4.19.36-r0)\nExecuting busybox-1.30.1-r3.trigger\nOK: 115 MiB in 50 packages\nRemoving intermediate container 5df5833c1edc\n ---> eac7967a1d97\nStep 4/9 : RUN apk add --update ffmpeg=4.1.6-r0 netcat-openbsd git\n ---> Running in a38919cff76f\n(1/42) Installing sdl2 (2.0.10-r0)\n(2/42) Installing libxau (1.0.9-r0)\n(3/42) Installing libbsd (0.9.1-r1)\n(4/42) Installing libxdmcp (1.1.3-r0)\n(5/42) Installing libxcb (1.13.1-r0)\n(6/42) Installing libx11 (1.6.12-r1)\n(7/42) Installing alsa-lib (1.1.9-r0)\n(8/42) Installing libpng (1.6.37-r1)\n(9/42) Installing freetype (2.10.0-r1)\n(10/42) Installing fontconfig (2.13.1-r0)\n(11/42) Installing fribidi (1.0.5-r2)\n(12/42) Installing libass (0.14.0-r0)\n(13/42) Installing nettle (3.4.1-r1)\n(14/42) Installing p11-kit (0.23.16.1-r1)\n(15/42) Installing libtasn1 (4.14-r0)\n(16/42) Installing libunistring (0.9.10-r0)\n(17/42) Installing gnutls (3.6.15-r1)\n(18/42) Installing lame (3.100-r0)\n(19/42) Installing opus (1.3.1-r0)\n(20/42) Installing libogg (1.3.3-r2)\n(21/42) Installing libtheora (1.1.1-r14)\n(22/42) Installing libjpeg-turbo (2.0.4-r1)\n(23/42) Installing v4l-utils-libs (1.16.6-r0)\n(24/42) Installing libxext (1.3.4-r0)\n(25/42) Installing libxfixes (5.0.3-r2)\n(26/42) Installing libpciaccess (0.14-r0)\n(27/42) Installing libdrm (2.4.98-r0)\n(28/42) Installing wayland-libs-client (1.17.0-r0)\n(29/42) Installing libva (2.4.1-r0)\n(30/42) Installing libvdpau (1.2-r0)\n(31/42) Installing libvorbis (1.3.6-r2)\n(32/42) Installing libvpx (1.8.0-r0)\n(33/42) Installing x264-libs (20180304-r1)\n(34/42) Installing x265-libs (3.0-r0)\n(35/42) Installing xvidcore (1.3.4-r1)\n(36/42) Installing ffmpeg-libs (4.1.6-r0)\n(37/42) Installing ffmpeg (4.1.6-r0)\n(38/42) Installing nghttp2-libs (1.39.2-r1)\n(39/42) Installing libcurl (7.66.0-r4)\n(40/42) Installing pcre2 (10.33-r0)\n(41/42) Installing git (2.22.5-r0)\n(42/42) Installing netcat-openbsd (1.130-r1)\nExecuting busybox-1.30.1-r3.trigger\nOK: 178 MiB in 92 packages\nRemoving intermediate container a38919cff76f\n ---> 7b26b3b7dbd2\nStep 5/9 : COPY . .\n ---> 9cd2c7229c8d\nStep 6/9 : RUN pip install .\n ---> Running in 15bb77d6e474\nProcessing /app\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting packaging\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\nCollecting reolinkapi\n  Downloading reolinkapi-0.1.5-py3-none-any.whl (32 kB)\nCollecting backoff\n  Downloading backoff-2.2.1-py3-none-any.whl (15 kB)\nCollecting hikvisionapi>=0.3.2\n  Downloading hikvisionapi-0.3.2-py3-none-any.whl (7.2 kB)\nCollecting xmltodict\n  Downloading xmltodict-0.13.0-py2.py3-none-any.whl (10.0 kB)\nCollecting pyunifiprotect\n  Downloading pyunifiprotect-4.2.0-py3-none-any.whl (91 kB)\nCollecting flvlib3@ git+https://github.com/zkonge/flvlib3.git\n  Cloning https://github.com/zkonge/flvlib3.git to /tmp/pip-install-5ukoxejt/flvlib3\n\u001b[91m  Running command git clone -q https://github.com/zkonge/flvlib3.git /tmp/pip-install-5ukoxejt/flvlib3\n\u001b[0mCollecting coloredlogs\n  Downloading coloredlogs-15.0.1-py2.py3-none-any.whl (46 kB)\nCollecting asyncio-mqtt\n  Downloading asyncio_mqtt-0.16.1-py3-none-any.whl (17 kB)\nCollecting websockets>=9.0.1\n  Downloading websockets-10.4.tar.gz (84 kB)\nCollecting aiohttp\n  Downloading aiohttp-3.8.3.tar.gz (7.3 MB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Getting requirements to build wheel: started\n  Getting requirements to build wheel: finished with status 'done'\n  Installing backend dependencies: started\n  Installing backend dependencies: finished with status 'done'\n    Preparing wheel metadata: started\n    Preparing wheel metadata: finished with status 'done'\nCollecting amcrest\n  Downloading amcrest-1.9.7-py3-none-any.whl (155 kB)\nCollecting requests>=2.18.4\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting PySocks==1.7.1\n  Downloading PySocks-1.7.1-py3-none-any.whl (16 kB)\nCollecting PyYaml==5.3.1\n  Downloading PyYAML-5.3.1.tar.gz (269 kB)\nCollecting httpx\n  Downloading httpx-0.23.1-py3-none-any.whl (84 kB)\nCollecting orjson\n  Downloading orjson-3.8.3.tar.gz (861 kB)\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'error'\n\u001b[91m  ERROR: Command errored out with exit status 1:\n   command: /usr/local/bin/python /usr/local/lib/python3.8/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-2n7ohrc8/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'maturin>=0.13,<0.15'\n       cwd: None\n  Complete output (55 lines):\n  Collecting maturin<0.15,>=0.13\n    Downloading maturin-0.14.7.tar.gz (171 kB)\n    Installing build dependencies: started\n    Installing build dependencies: finished with status 'done'\n    Getting requirements to build wheel: started\n    Getting requirements to build wheel: finished with status 'done'\n      Preparing wheel metadata: started\n      Preparing wheel metadata: finished with status 'done'\n  Collecting tomli>=1.1.0; python_version < \"3.11\"\n    Using cached tomli-2.0.1-py3-none-any.whl (12 kB)\n  Building wheels for collected packages: maturin\n    Building wheel for maturin (PEP 517): started\n    Building wheel for maturin (PEP 517): finished with status 'error'\n    ERROR: Command errored out with exit status 1:\n     command: /usr/local/bin/python /usr/local/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /tmp/tmpouboikuv\n         cwd: /tmp/pip-install-qxpba9co/maturin\n    Complete output (32 lines):\n    running bdist_wheel\n    running build\n    running build_py\n    creating build\n    creating build/lib.linux-x86_64-cpython-38\n    creating build/lib.linux-x86_64-cpython-38/maturin\n    copying maturin/__init__.py -> build/lib.linux-x86_64-cpython-38/maturin\n    copying maturin/import_hook.py -> build/lib.linux-x86_64-cpython-38/maturin\n    copying maturin/__main__.py -> build/lib.linux-x86_64-cpython-38/maturin\n    running egg_info\n    creating maturin.egg-info\n    writing maturin.egg-info/PKG-INFO\n    writing dependency_links to maturin.egg-info/dependency_links.txt\n    writing requirements to maturin.egg-info/requires.txt\n    writing top-level names to maturin.egg-info/top_level.txt\n    writing manifest file 'maturin.egg-info/SOURCES.txt'\n    reading manifest file 'maturin.egg-info/SOURCES.txt'\n    reading manifest template 'MANIFEST.in'\n    writing manifest file 'maturin.egg-info/SOURCES.txt'\n    running build_ext\n    running build_rust\n    error: can't find Rust compiler\n  \n    If you are using an outdated pip version, it is possible a prebuilt wheel is available for this package but pip is not able to install from it. Installing from the wheel would avoid the need for a Rust compiler.\n  \n    To update pip, run:\n  \n        pip install --upgrade pip\n  \n    and then retry package installation.\n  \n    If you did intend to build this package from source, try installing a Rust compiler from your system package manager and ensure it is on the PATH during installation. Alternatively, rustup (available at https://rustup.rs) is the recommended way to download and update the Rust compiler toolchain.\n    ----------------------------------------\n    ERROR: Failed building wheel for maturin\n  Failed to build maturin\n  ERROR: Could not build wheels for maturin which use PEP 517 and cannot be installed directly\n  WARNING: You are using pip version 20.1.1; however, version 22.3.1 is available.\n  You should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n  ----------------------------------------\n\u001b[0m\u001b[91mERROR: Command errored out with exit status 1: /usr/local/bin/python /usr/local/lib/python3.8/site-packages/pip install --ignore-installed --no-user --prefix /tmp/pip-build-env-2n7ohrc8/overlay --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'maturin>=0.13,<0.15' Check the logs for full command output.\n\u001b[0m\u001b[91mWARNING: You are using pip version 20.1.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 15bb77d6e474\n","stderr":"The command '/bin/sh -c pip install .' returned a non-zero code: 1\n"},"endTime":1672086638207}