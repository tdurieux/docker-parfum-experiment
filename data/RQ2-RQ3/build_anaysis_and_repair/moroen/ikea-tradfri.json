{"repository":"https://github.com/moroen/ikea-tradfri","dockerfilePath":"Dockerfile","startTime":1672607917525,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/moroen/ikea-tradfri'...\n","error":null,"commit":"5e41bc0fa7c36356ec452d5d2fb1f72d4df281b0"},"originalBuild":{"startTimestamp":1672607918366,"endTimestamp":1672607955845,"error":null,"stdout":"Sending build context to Docker daemon  192.5kB\r\r\nStep 1/10 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/10 : ARG ip=localhost\n ---> Running in 34c386723169\nRemoving intermediate container 34c386723169\n ---> 0d770738080e\nStep 3/10 : ARG key=key\n ---> Running in b9d2393d642c\nRemoving intermediate container b9d2393d642c\n ---> 16836b57b96b\nStep 4/10 : COPY . /root/\n ---> 707654eadf83\nStep 5/10 : WORKDIR /root\n ---> Running in e257a9377c6f\nRemoving intermediate container e257a9377c6f\n ---> cc5da7af69bc\nStep 6/10 : RUN apk add --no-cache python3 python3-dev gcc musl-dev git autoconf;    pip3 install --upgrade pip;    pip3 install --upgrade setuptools;    pip3 install -r requirements.txt;    python3 setup.py install;    tradfri config gateway $ip $key;    tradfri config server-ip 0.0.0.0;    apk del autoconf git musl-dev gcc\n ---> Running in eb065f0a72ed\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing m4 (1.4.19-r1)\n(2/36) Installing libbz2 (1.0.8-r4)\n(3/36) Installing perl (5.36.0-r0)\n(4/36) Installing autoconf (2.71-r1)\n(5/36) Installing libgcc (12.2.1_git20220924-r4)\n(6/36) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/36) Installing binutils (2.39-r2)\n(8/36) Installing libgomp (12.2.1_git20220924-r4)\n(9/36) Installing libatomic (12.2.1_git20220924-r4)\n(10/36) Installing gmp (6.2.1-r2)\n(11/36) Installing isl25 (0.25-r0)\n(12/36) Installing mpfr4 (4.1.0-r0)\n(13/36) Installing mpc1 (1.2.1-r1)\n(14/36) Installing gcc (12.2.1_git20220924-r4)\n(15/36) Installing ca-certificates (20220614-r3)\n(16/36) Installing brotli-libs (1.0.9-r9)\n(17/36) Installing nghttp2-libs (1.51.0-r0)\n(18/36) Installing libcurl (7.87.0-r0)\n(19/36) Installing libexpat (2.5.0-r0)\n(20/36) Installing pcre2 (10.42-r0)\n(21/36) Installing git (2.38.2-r0)\n(22/36) Installing perl-error (0.17029-r1)\n(23/36) Installing perl-git (2.38.2-r0)\n(24/36) Installing git-perl (2.38.2-r0)\n(25/36) Installing musl-dev (1.2.3-r4)\n(26/36) Installing libffi (3.4.4-r0)\n(27/36) Installing gdbm (1.23-r0)\n(28/36) Installing xz-libs (5.2.9-r0)\n(29/36) Installing mpdecimal (2.5.1-r1)\n(30/36) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(31/36) Installing ncurses-libs (6.3_p20221119-r0)\n(32/36) Installing readline (8.2.0-r0)\n(33/36) Installing sqlite-libs (3.40.1-r0)\n(34/36) Installing python3 (3.10.9-r1)\n(35/36) Installing pkgconf (1.9.3-r0)\n(36/36) Installing python3-dev (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 299 MiB in 51 packages\n\u001b[91m/bin/sh: pip3: not found\n/bin/sh: pip3: not found\n/bin/sh: pip3: not found\n\u001b[0m\u001b[91mTraceback (most recent call last):\n  File \"/root/setup.py\", line 1, in <module>\n\u001b[0m\u001b[91m    from setuptools import setup\nModuleNotFoundError: No module named 'setuptools'\n\u001b[0m\u001b[91m/bin/sh: tradfri: not found\n\u001b[0m\u001b[91m/bin/sh: tradfri: not found\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/21) Purging autoconf (2.71-r1)\n(2/21) Purging m4 (1.4.19-r1)\n(3/21) Purging gcc (12.2.1_git20220924-r4)\n(4/21) Purging binutils (2.39-r2)\n(5/21) Purging libatomic (12.2.1_git20220924-r4)\n(6/21) Purging libgomp (12.2.1_git20220924-r4)\n(7/21) Purging git-perl (2.38.2-r0)\n(8/21) Purging perl-git (2.38.2-r0)\n(9/21) Purging git (2.38.2-r0)\n(10/21) Purging perl-error (0.17029-r1)\n(11/21) Purging perl (5.36.0-r0)\n(12/21) Purging musl-dev (1.2.3-r4)\n(13/21) Purging isl25 (0.25-r0)\n(14/21) Purging mpc1 (1.2.1-r1)\n(15/21) Purging mpfr4 (4.1.0-r0)\n(16/21) Purging gmp (6.2.1-r2)\n(17/21) Purging libcurl (7.87.0-r0)\n(18/21) Purging ca-certificates (20220614-r3)\nExecuting ca-certificates-20220614-r3.post-deinstall\n(19/21) Purging brotli-libs (1.0.9-r9)\n(20/21) Purging nghttp2-libs (1.51.0-r0)\n(21/21) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 107 MiB in 30 packages\nRemoving intermediate container eb065f0a72ed\n ---> 09472ed20a66\nStep 7/10 : RUN rm -rf /root/*\n ---> Running in f71dc6e3a839\nRemoving intermediate container f71dc6e3a839\n ---> cf1ebf183f5b\nStep 8/10 : EXPOSE 1234\n ---> Running in e0dbfaa7adc2\nRemoving intermediate container e0dbfaa7adc2\n ---> 345c76941a50\nStep 9/10 : EXPOSE 8085\n ---> Running in fa417bb13cc5\nRemoving intermediate container fa417bb13cc5\n ---> f3d03343a5bd\nStep 10/10 : CMD tradfri server --host=0.0.0.0\n ---> Running in ed9448b62352\nRemoving intermediate container ed9448b62352\n ---> a2604414be52\nSuccessfully built a2604414be52\nSuccessfully tagged ikea-tradfri:latest\n","stderr":"","imageSize":105483523},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":9,"end":9,"columnStart":4,"columnEnd":31}},{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":4,"columnEnd":38}},{"name":"pipUseNoCacheDir","position":{"start":11,"end":11,"columnStart":4,"columnEnd":37}}],"repairedDockerfile":"FROM alpine:latest\n\nARG ip=localhost\nARG key=key\n\nCOPY . /root/\nWORKDIR /root\n\nRUN apk add --no-cache python3 python3-dev gcc musl-dev git autoconf; \\\n    pip3 install --no-cache-dir --upgrade pip; \\\n    pip3 install --no-cache-dir --upgrade setuptools; \\\n    pip3 install --no-cache-dir -r requirements.txt; \\\n    python3 setup.py install; \\\n    tradfri config gateway $ip $key; \\\n    tradfri config server-ip 0.0.0.0; \\\n    apk del autoconf git musl-dev gcc\n\nRUN rm -rf /root/*\n\nEXPOSE 1234\nEXPOSE 8085\nCMD tradfri server --host=0.0.0.0"},"repairedBuild":{"startTimestamp":1672607956230,"endTimestamp":1672607976297,"error":null,"stdout":"Sending build context to Docker daemon    193kB\r\r\nStep 1/10 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/10 : ARG ip=localhost\n ---> Running in b7d3951656e6\nRemoving intermediate container b7d3951656e6\n ---> 8d37a3a5b094\nStep 3/10 : ARG key=key\n ---> Running in fce4d0f93bb1\nRemoving intermediate container fce4d0f93bb1\n ---> 8770d37d8428\nStep 4/10 : COPY . /root/\n ---> c0414c1b8a13\nStep 5/10 : WORKDIR /root\n ---> Running in 0527d1b52810\nRemoving intermediate container 0527d1b52810\n ---> 065c60f91e1d\nStep 6/10 : RUN apk add --no-cache python3 python3-dev gcc musl-dev git autoconf;     pip3 install --no-cache-dir --upgrade pip;     pip3 install --no-cache-dir --upgrade setuptools;     pip3 install --no-cache-dir -r requirements.txt;     python3 setup.py install;     tradfri config gateway $ip $key;     tradfri config server-ip 0.0.0.0;     apk del autoconf git musl-dev gcc\n ---> Running in 420a61e20438\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/36) Installing m4 (1.4.19-r1)\n(2/36) Installing libbz2 (1.0.8-r4)\n(3/36) Installing perl (5.36.0-r0)\n(4/36) Installing autoconf (2.71-r1)\n(5/36) Installing libgcc (12.2.1_git20220924-r4)\n(6/36) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/36) Installing binutils (2.39-r2)\n(8/36) Installing libgomp (12.2.1_git20220924-r4)\n(9/36) Installing libatomic (12.2.1_git20220924-r4)\n(10/36) Installing gmp (6.2.1-r2)\n(11/36) Installing isl25 (0.25-r0)\n(12/36) Installing mpfr4 (4.1.0-r0)\n(13/36) Installing mpc1 (1.2.1-r1)\n(14/36) Installing gcc (12.2.1_git20220924-r4)\n(15/36) Installing ca-certificates (20220614-r3)\n(16/36) Installing brotli-libs (1.0.9-r9)\n(17/36) Installing nghttp2-libs (1.51.0-r0)\n(18/36) Installing libcurl (7.87.0-r0)\n(19/36) Installing libexpat (2.5.0-r0)\n(20/36) Installing pcre2 (10.42-r0)\n(21/36) Installing git (2.38.2-r0)\n(22/36) Installing perl-error (0.17029-r1)\n(23/36) Installing perl-git (2.38.2-r0)\n(24/36) Installing git-perl (2.38.2-r0)\n(25/36) Installing musl-dev (1.2.3-r4)\n(26/36) Installing libffi (3.4.4-r0)\n(27/36) Installing gdbm (1.23-r0)\n(28/36) Installing xz-libs (5.2.9-r0)\n(29/36) Installing mpdecimal (2.5.1-r1)\n(30/36) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(31/36) Installing ncurses-libs (6.3_p20221119-r0)\n(32/36) Installing readline (8.2.0-r0)\n(33/36) Installing sqlite-libs (3.40.1-r0)\n(34/36) Installing python3 (3.10.9-r1)\n(35/36) Installing pkgconf (1.9.3-r0)\n(36/36) Installing python3-dev (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 299 MiB in 51 packages\n\u001b[91m/bin/sh: pip3: not found\n/bin/sh: pip3: not found\n/bin/sh: pip3: not found\n\u001b[0m\u001b[91mTraceback (most recent call last):\n  File \"/root/setup.py\", line 1, in <module>\n    from setuptools import setup\nModuleNotFoundError: No module named 'setuptools'\n\u001b[0m\u001b[91m/bin/sh: tradfri: not found\n/bin/sh: tradfri: not found\n\u001b[0m\u001b[91mWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/main: No such file or directory\nWARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.17/community: No such file or directory\n\u001b[0m(1/21) Purging autoconf (2.71-r1)\n(2/21) Purging m4 (1.4.19-r1)\n(3/21) Purging gcc (12.2.1_git20220924-r4)\n(4/21) Purging binutils (2.39-r2)\n(5/21) Purging libatomic (12.2.1_git20220924-r4)\n(6/21) Purging libgomp (12.2.1_git20220924-r4)\n(7/21) Purging git-perl (2.38.2-r0)\n(8/21) Purging perl-git (2.38.2-r0)\n(9/21) Purging git (2.38.2-r0)\n(10/21) Purging perl-error (0.17029-r1)\n(11/21) Purging perl (5.36.0-r0)\n(12/21) Purging musl-dev (1.2.3-r4)\n(13/21) Purging isl25 (0.25-r0)\n(14/21) Purging mpc1 (1.2.1-r1)\n(15/21) Purging mpfr4 (4.1.0-r0)\n(16/21) Purging gmp (6.2.1-r2)\n(17/21) Purging libcurl (7.87.0-r0)\n(18/21) Purging ca-certificates (20220614-r3)\nExecuting ca-certificates-20220614-r3.post-deinstall\n(19/21) Purging brotli-libs (1.0.9-r9)\n(20/21) Purging nghttp2-libs (1.51.0-r0)\n(21/21) Purging pcre2 (10.42-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 107 MiB in 30 packages\nRemoving intermediate container 420a61e20438\n ---> 70e3d530a606\nStep 7/10 : RUN rm -rf /root/*\n ---> Running in c726503d5682\nRemoving intermediate container c726503d5682\n ---> 07ffa8a6e47f\nStep 8/10 : EXPOSE 1234\n ---> Running in 7c12782c2fa8\nRemoving intermediate container 7c12782c2fa8\n ---> 752f2e34ec26\nStep 9/10 : EXPOSE 8085\n ---> Running in 872707d638b9\nRemoving intermediate container 872707d638b9\n ---> 6d24eb3d2add\nStep 10/10 : CMD tradfri server --host=0.0.0.0\n ---> Running in 2b974d9807b9\nRemoving intermediate container 2b974d9807b9\n ---> 42439fd301b1\nSuccessfully built 42439fd301b1\nSuccessfully tagged ikea-tradfri:latest\n","stderr":"","imageSize":105483554},"endTime":1672607976724}