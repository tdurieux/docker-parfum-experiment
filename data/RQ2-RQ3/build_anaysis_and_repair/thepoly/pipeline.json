{"repository":"https://github.com/thepoly/pipeline","dockerfilePath":"Dockerfile","startTime":1672614490308,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/thepoly/pipeline'...\n","error":null,"commit":"d67a49688c4e03dacb30b03eeba15670406416e7"},"originalBuild":{"startTimestamp":1672614491401,"endTimestamp":1672614609886,"error":null,"stdout":"Sending build context to Docker daemon  1.181MB\r\r\nStep 1/21 : FROM node:10 as node\n ---> 28dca6642db8\nStep 2/21 : WORKDIR /app\n ---> Running in 8a0fc478d444\nRemoving intermediate container 8a0fc478d444\n ---> a03aa38a3f04\nStep 3/21 : COPY package.json package-lock.json ./\n ---> 8692663c9823\nStep 4/21 : RUN npm ci\n ---> Running in 925273045edb\n\n> webpack-cli@3.3.1 postinstall /app/node_modules/webpack-cli\n> node ./bin/opencollective.js\n\n\n\n                            Thanks for using Webpack!\n                 Please consider donating to our Open Collective\n                        to help us maintain this package.\n\n\n\n                 Donate: https://opencollective.com/webpack/donate\n\n\n\n> fsevents@1.2.9 install /app/node_modules/fsevents\n> node install\n\n\n> node-sass@4.12.0 install /app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/linux-x64-64_binding.node\nDownload complete\nBinary saved to /app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nCaching binary to /root/.npm/_cacache/node-sass/4.12.0/linux-x64-64_binding.node\n\n> node-sass@4.12.0 postinstall /app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nTesting binary\nBinary is fine\nadded 1095 packages in 7.983s\nRemoving intermediate container 925273045edb\n ---> b16e3650494e\nStep 5/21 : COPY . .\n ---> 4a8ae6b174c6\nStep 6/21 : RUN npx webpack --config webpack.production.config.js --display errors-only\n ---> Running in 20d47c626f9e\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0mRemoving intermediate container 20d47c626f9e\n ---> 540a9eddc3d1\nStep 7/21 : FROM python:3.7 as python\n3.7: Pulling from library/python\nDigest: sha256:bf85a74f4ace82f3503c2199aaae10e7a8e370bc7e42fd246c5774891f1fab0b\nStatus: Downloaded newer image for python:3.7\n ---> 1f1a7b570f9e\nStep 8/21 : LABEL maintainer=\"tech@poly.rpi.edu\"\n ---> Running in 5df05509fc6b\nRemoving intermediate container 5df05509fc6b\n ---> 4ce651cd0a8f\nStep 9/21 : ENV PYTHONUNBUFFERED 1\n ---> Running in abe2085a2883\nRemoving intermediate container abe2085a2883\n ---> a75f80126165\nStep 10/21 : ENV DJANGO_SETTINGS_MODULE pipeline.settings.production\n ---> Running in 977c4fdccf62\nRemoving intermediate container 977c4fdccf62\n ---> 1d248c2b4873\nStep 11/21 : RUN groupadd -r pipeline && useradd --no-log-init -r -g pipeline pipeline\n ---> Running in 5016e6db3438\nRemoving intermediate container 5016e6db3438\n ---> 54f2a12f60b8\nStep 12/21 : RUN pip install pipenv\n ---> Running in f4c2ab3bbf9a\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 53.9 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.7/site-packages (from pipenv) (57.5.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 14.3 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 51.0 MB/s eta 0:00:00\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 30.7 MB/s eta 0:00:00\nCollecting importlib-metadata>=4.8.3\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nInstalling collected packages: distlib, zipp, virtualenv-clone, typing-extensions, filelock, certifi, platformdirs, importlib-metadata, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 importlib-metadata-6.0.0 pipenv-2022.12.19 platformdirs-2.6.2 typing-extensions-4.4.0 virtualenv-20.17.1 virtualenv-clone-0.5.7 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container f4c2ab3bbf9a\n ---> 5a2c1b4d5d78\nStep 13/21 : COPY ./Pipfile ./Pipfile.lock /app/\n ---> e7fb4b64f768\nStep 14/21 : WORKDIR /app\n ---> Running in 9ab96720dd7c\nRemoving intermediate container 9ab96720dd7c\n ---> d60de1436f53\nStep 15/21 : RUN pipenv install --system --deploy\n ---> Running in b045127a7d25\nInstalling dependencies from Pipfile.lock (defb51)...\nRemoving intermediate container b045127a7d25\n ---> 8ff3fe9b9fc5\nStep 16/21 : COPY . /app/\n ---> 0a7a4c058ac6\nStep 17/21 : COPY --from=node /app/pipeline/static/webpack_bundles/ /app/pipeline/static/webpack_bundles/\n ---> 89a60a474ac5\nStep 18/21 : COPY --from=node /app/webpack-stats.json /app/\n ---> c51840f6b520\nStep 19/21 : COPY ./start.sh start.sh\n ---> 0f9eed0363d2\nStep 20/21 : EXPOSE 8000\n ---> Running in 6abd7c25ca17\nRemoving intermediate container 6abd7c25ca17\n ---> b435455e5389\nStep 21/21 : CMD [\"./start.sh\"]\n ---> Running in fac7577f47ec\nRemoving intermediate container fac7577f47ec\n ---> 8d0d767e757b\nSuccessfully built 8d0d767e757b\nSuccessfully tagged pipeline:latest\n","stderr":"","imageSize":1271163508},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":17,"end":17,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM node:10 as node\n\nWORKDIR /app\nCOPY package.json package-lock.json ./\nRUN npm ci\n\nCOPY . .\nRUN npx webpack --config webpack.production.config.js --display errors-only\n\nFROM python:3.7 as python\nLABEL maintainer=\"tech@poly.rpi.edu\"\n\nENV PYTHONUNBUFFERED 1\nENV DJANGO_SETTINGS_MODULE pipeline.settings.production\n\nRUN groupadd -r pipeline && useradd --no-log-init -r -g pipeline pipeline\n\nRUN pip install --no-cache-dir pipenv\nCOPY ./Pipfile ./Pipfile.lock /app/\nWORKDIR /app\nRUN pipenv install --system --deploy\n\nCOPY . /app/\nCOPY --from=node /app/pipeline/static/webpack_bundles/ /app/pipeline/static/webpack_bundles/\nCOPY --from=node /app/webpack-stats.json /app/\nCOPY ./start.sh start.sh\n\nEXPOSE 8000\nCMD [\"./start.sh\"]\n"},"repairedBuild":{"startTimestamp":1672614610484,"endTimestamp":1672614685969,"error":null,"stdout":"Sending build context to Docker daemon  1.181MB\r\r\nStep 1/21 : FROM node:10 as node\n ---> 28dca6642db8\nStep 2/21 : WORKDIR /app\n ---> Running in 5737faaa8211\nRemoving intermediate container 5737faaa8211\n ---> f64751154ec5\nStep 3/21 : COPY package.json package-lock.json ./\n ---> b78f9027c912\nStep 4/21 : RUN npm ci\n ---> Running in 8ec674e80eb6\n\n> webpack-cli@3.3.1 postinstall /app/node_modules/webpack-cli\n> node ./bin/opencollective.js\n\n\n\n                            Thanks for using Webpack!\n                 Please consider donating to our Open Collective\n                        to help us maintain this package.\n\n\n\n                 Donate: https://opencollective.com/webpack/donate\n\n\n\n> fsevents@1.2.9 install /app/node_modules/fsevents\n> node install\n\n\n> node-sass@4.12.0 install /app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/linux-x64-64_binding.node\nDownload complete\nBinary saved to /app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nCaching binary to /root/.npm/_cacache/node-sass/4.12.0/linux-x64-64_binding.node\n\n> node-sass@4.12.0 postinstall /app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /app/node_modules/node-sass/vendor/linux-x64-64/binding.node\nTesting binary\nBinary is fine\nadded 1095 packages in 7.596s\nRemoving intermediate container 8ec674e80eb6\n ---> beb1305eb821\nStep 5/21 : COPY . .\n ---> 10da03646e8f\nStep 6/21 : RUN npx webpack --config webpack.production.config.js --display errors-only\n ---> Running in 978722887ae5\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0m\u001b[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`\n\u001b[0mRemoving intermediate container 978722887ae5\n ---> 5cbfef4ede44\nStep 7/21 : FROM python:3.7 as python\n ---> 1f1a7b570f9e\nStep 8/21 : LABEL maintainer=\"tech@poly.rpi.edu\"\n ---> Running in e76ef6e675ab\nRemoving intermediate container e76ef6e675ab\n ---> da77fe5532a2\nStep 9/21 : ENV PYTHONUNBUFFERED 1\n ---> Running in b4cb39c17b91\nRemoving intermediate container b4cb39c17b91\n ---> 2354df5469c3\nStep 10/21 : ENV DJANGO_SETTINGS_MODULE pipeline.settings.production\n ---> Running in 3ee03114f237\nRemoving intermediate container 3ee03114f237\n ---> cd2e896146be\nStep 11/21 : RUN groupadd -r pipeline && useradd --no-log-init -r -g pipeline pipeline\n ---> Running in 0e8ecf666ac7\nRemoving intermediate container 0e8ecf666ac7\n ---> fbc2addd1ace\nStep 12/21 : RUN pip install --no-cache-dir pipenv\n ---> Running in 4435db0f3449\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 38.6 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 88.3 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 270.2 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.7/site-packages (from pipenv) (57.5.0)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting importlib-metadata>=4.8.3\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 191.0 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nInstalling collected packages: distlib, zipp, virtualenv-clone, typing-extensions, filelock, certifi, platformdirs, importlib-metadata, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 importlib-metadata-6.0.0 pipenv-2022.12.19 platformdirs-2.6.2 typing-extensions-4.4.0 virtualenv-20.17.1 virtualenv-clone-0.5.7 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 4435db0f3449\n ---> 6eda6c819a35\nStep 13/21 : COPY ./Pipfile ./Pipfile.lock /app/\n ---> d4b722d059eb\nStep 14/21 : WORKDIR /app\n ---> Running in d9314f41e351\nRemoving intermediate container d9314f41e351\n ---> 264ed2674791\nStep 15/21 : RUN pipenv install --system --deploy\n ---> Running in 8da34f4e56b8\nInstalling dependencies from Pipfile.lock (defb51)...\nRemoving intermediate container 8da34f4e56b8\n ---> ecbb1a2f40cc\nStep 16/21 : COPY . /app/\n ---> ed244a5141fd\nStep 17/21 : COPY --from=node /app/pipeline/static/webpack_bundles/ /app/pipeline/static/webpack_bundles/\n ---> edab48415e20\nStep 18/21 : COPY --from=node /app/webpack-stats.json /app/\n ---> d8587b607d87\nStep 19/21 : COPY ./start.sh start.sh\n ---> 50742f5451e8\nStep 20/21 : EXPOSE 8000\n ---> Running in 569e9978d006\nRemoving intermediate container 569e9978d006\n ---> a9024aa5d9b4\nStep 21/21 : CMD [\"./start.sh\"]\n ---> Running in 539a3db95f99\nRemoving intermediate container 539a3db95f99\n ---> bd2b57d94f06\nSuccessfully built bd2b57d94f06\nSuccessfully tagged pipeline:latest\n","stderr":"","imageSize":1258560560},"endTime":1672614686498}