{"repository":"https://github.com/dimiro1/ipe","dockerfilePath":"Dockerfile","startTime":1673175517935,"endTime":1673175681294,"clone":{"startTime":1673175517935,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dimiro1/ipe'...\n","error":null,"endTime":1673175518652,"commit":"ea6e116836c09f6edb7bd6dbb06e1eb6c28a05b7"},"originalBuild":{"startTime":1673175518721,"endTime":1673175604233,"error":null,"stdout":"Sending build context to Docker daemon  297.5kB\r\r\nStep 1/20 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/20 : RUN mkdir /build\n ---> Running in e2859410b24a\nRemoving intermediate container e2859410b24a\n ---> 4ac57d5c5de8\nStep 3/20 : ADD . /build/\n ---> 90824851dd76\nStep 4/20 : WORKDIR /build\n ---> Running in 74c047896a27\nRemoving intermediate container 74c047896a27\n ---> 5690c09029a3\nStep 5/20 : RUN apk add git gcc musl-dev\n ---> Running in bec80c76fa9f\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing libgcc (12.2.1_git20220924-r4)\n(2/17) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/17) Installing binutils (2.39-r2)\n(4/17) Installing libgomp (12.2.1_git20220924-r4)\n(5/17) Installing libatomic (12.2.1_git20220924-r4)\n(6/17) Installing gmp (6.2.1-r2)\n(7/17) Installing isl25 (0.25-r0)\n(8/17) Installing mpfr4 (4.1.0-r0)\n(9/17) Installing mpc1 (1.2.1-r1)\n(10/17) Installing gcc (12.2.1_git20220924-r4)\n(11/17) Installing brotli-libs (1.0.9-r9)\n(12/17) Installing nghttp2-libs (1.51.0-r0)\n(13/17) Installing libcurl (7.87.0-r0)\n(14/17) Installing libexpat (2.5.0-r0)\n(15/17) Installing pcre2 (10.42-r0)\n(16/17) Installing git (2.38.2-r0)\n(17/17) Installing musl-dev (1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nOK: 161 MiB in 33 packages\nRemoving intermediate container bec80c76fa9f\n ---> 79a6914fb6ad\nStep 6/20 : RUN go build -o ipe ./cmd\n ---> Running in c645d9f751b1\n\u001b[91mgo: downloading github.com/gorilla/handlers v1.4.0\ngo: downloading github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/mux v1.6.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.4.0\n\u001b[0mRemoving intermediate container c645d9f751b1\n ---> b807a3ce4677\nStep 7/20 : FROM alpine\n ---> 49176f190c7e\nStep 8/20 : USER root\n ---> Running in 3a7ee9f26d4f\nRemoving intermediate container 3a7ee9f26d4f\n ---> 58a52638fb79\nStep 9/20 : RUN  mkdir -p /config\n ---> Running in 51ec525f3083\nRemoving intermediate container 51ec525f3083\n ---> 353969499ad7\nStep 10/20 : RUN adduser -S -D -H -h /app appuser\n ---> Running in e4ecf5fff344\nRemoving intermediate container e4ecf5fff344\n ---> d1a565135cca\nStep 11/20 : COPY ./entrypoint.sh /app/entrypoint.sh\n ---> 7c509ac87089\nStep 12/20 : RUN chmod +x /app/entrypoint.sh\n ---> Running in 033d7e93742f\nRemoving intermediate container 033d7e93742f\n ---> b19c14602cfa\nStep 13/20 : USER appuser\n ---> Running in f1b4737491e9\nRemoving intermediate container f1b4737491e9\n ---> 8cd7790e9283\nStep 14/20 : WORKDIR /app\n ---> Running in 57be4112a4a7\nRemoving intermediate container 57be4112a4a7\n ---> 8a1e4558154e\nStep 15/20 : COPY --from=builder /build/ipe /app/\n ---> d062b9329be2\nStep 16/20 : COPY --from=builder /build/config-example.yml /app/config-example.yml\n ---> 264d7a453cc7\nStep 17/20 : VOLUME /config\n ---> Running in 05e70b70fe28\nRemoving intermediate container 05e70b70fe28\n ---> ac3a7679b3b6\nStep 18/20 : CMD [\"/bin/sh\", \"/app/entrypoint.sh\"]\n ---> Running in ecd591f7983e\nRemoving intermediate container ecd591f7983e\n ---> ca9676e5629a\nStep 19/20 : EXPOSE 4343\n ---> Running in c822e6f2a7f5\nRemoving intermediate container c822e6f2a7f5\n ---> cd89bb2c7f2a\nStep 20/20 : EXPOSE 8080\n ---> Running in 2a6844f287a0\nRemoving intermediate container 2a6844f287a0\n ---> 439330b6f217\nSuccessfully built 439330b6f217\nSuccessfully tagged ipe:latest\n","stderr":"","imageSize":15995855},"repair":{"startTime":1673175604339,"endTime":1673175604431,"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM golang:alpine as builder\nRUN mkdir /build\nADD . /build/\nWORKDIR /build\nRUN apk add --no-cache git gcc musl-dev\nRUN go build -o ipe ./cmd\nFROM alpine\nUSER root\nRUN  mkdir -p /config\nRUN adduser -S -D -H -h /app appuser\nCOPY ./entrypoint.sh /app/entrypoint.sh\nRUN chmod +x /app/entrypoint.sh\nUSER appuser\nWORKDIR /app\nCOPY --from=builder /build/ipe /app/\nCOPY --from=builder /build/config-example.yml /app/config-example.yml\nVOLUME /config\nCMD [\"/bin/sh\", \"/app/entrypoint.sh\"]\nEXPOSE 4343\nEXPOSE 8080"},"repairedBuild":{"startTime":1673175604683,"endTime":1673175679968,"error":null,"stdout":"Sending build context to Docker daemon  297.5kB\r\r\nStep 1/20 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/20 : RUN mkdir /build\n ---> Running in 346ee9743e0f\nRemoving intermediate container 346ee9743e0f\n ---> d079b4ab3ea5\nStep 3/20 : ADD . /build/\n ---> 9d55477ace55\nStep 4/20 : WORKDIR /build\n ---> Running in 3789c2b551ed\nRemoving intermediate container 3789c2b551ed\n ---> 01feed822adb\nStep 5/20 : RUN apk add --no-cache git gcc musl-dev\n ---> Running in 157015dfe582\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/17) Installing libgcc (12.2.1_git20220924-r4)\n(2/17) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/17) Installing binutils (2.39-r2)\n(4/17) Installing libgomp (12.2.1_git20220924-r4)\n(5/17) Installing libatomic (12.2.1_git20220924-r4)\n(6/17) Installing gmp (6.2.1-r2)\n(7/17) Installing isl25 (0.25-r0)\n(8/17) Installing mpfr4 (4.1.0-r0)\n(9/17) Installing mpc1 (1.2.1-r1)\n(10/17) Installing gcc (12.2.1_git20220924-r4)\n(11/17) Installing brotli-libs (1.0.9-r9)\n(12/17) Installing nghttp2-libs (1.51.0-r0)\n(13/17) Installing libcurl (7.87.0-r0)\n(14/17) Installing libexpat (2.5.0-r0)\n(15/17) Installing pcre2 (10.42-r0)\n(16/17) Installing git (2.38.2-r0)\n(17/17) Installing musl-dev (1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nOK: 161 MiB in 33 packages\nRemoving intermediate container 157015dfe582\n ---> 136c1913a5f2\nStep 6/20 : RUN go build -o ipe ./cmd\n ---> Running in a1844931754f\n\u001b[91mgo: downloading github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b\ngo: downloading github.com/gorilla/handlers v1.4.0\ngo: downloading github.com/gorilla/mux v1.6.2\ngo: downloading gopkg.in/yaml.v2 v2.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/gorilla/websocket v1.4.0\n\u001b[0mRemoving intermediate container a1844931754f\n ---> d8d82ca4b0a2\nStep 7/20 : FROM alpine\n ---> 49176f190c7e\nStep 8/20 : USER root\n ---> Running in 625287e12ece\nRemoving intermediate container 625287e12ece\n ---> 78f94b8d47d1\nStep 9/20 : RUN  mkdir -p /config\n ---> Running in 388fdf1d0a4c\nRemoving intermediate container 388fdf1d0a4c\n ---> 65b3ce14ea1f\nStep 10/20 : RUN adduser -S -D -H -h /app appuser\n ---> Running in af75aa702cd4\nRemoving intermediate container af75aa702cd4\n ---> 207cdf3b96aa\nStep 11/20 : COPY ./entrypoint.sh /app/entrypoint.sh\n ---> 397d5774bf61\nStep 12/20 : RUN chmod +x /app/entrypoint.sh\n ---> Running in c6431708ca25\nRemoving intermediate container c6431708ca25\n ---> 26aa8b1b45b3\nStep 13/20 : USER appuser\n ---> Running in b601f708a930\nRemoving intermediate container b601f708a930\n ---> 84eb6fe27b19\nStep 14/20 : WORKDIR /app\n ---> Running in b256da56097d\nRemoving intermediate container b256da56097d\n ---> 59d2ed2b47de\nStep 15/20 : COPY --from=builder /build/ipe /app/\n ---> db7586452831\nStep 16/20 : COPY --from=builder /build/config-example.yml /app/config-example.yml\n ---> 4f1113fcdc4e\nStep 17/20 : VOLUME /config\n ---> Running in f15b2084c807\nRemoving intermediate container f15b2084c807\n ---> fa24076e2ccd\nStep 18/20 : CMD [\"/bin/sh\", \"/app/entrypoint.sh\"]\n ---> Running in a1c925a5542e\nRemoving intermediate container a1c925a5542e\n ---> 20c27bc7b880\nStep 19/20 : EXPOSE 4343\n ---> Running in 3cae42c2e079\nRemoving intermediate container 3cae42c2e079\n ---> 334ce3a1f352\nStep 20/20 : EXPOSE 8080\n ---> Running in 5eae8af9db14\nRemoving intermediate container 5eae8af9db14\n ---> b997c9ae1a91\nSuccessfully built b997c9ae1a91\nSuccessfully tagged ipe:latest\n","stderr":"","imageSize":15995855}}