{"repository":"https://github.com/dgraph-io/dgraph-lambda","dockerfilePath":"Dockerfile","startTime":1672773622547,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dgraph-io/dgraph-lambda'...\n","error":null,"commit":"e049d5c61227fd91629a17130b6090cc75b2ffc2"},"originalBuild":{"startTimestamp":1672773624459,"endTimestamp":1672773765480,"error":null,"stdout":"Sending build context to Docker daemon  348.7kB\r\r\nStep 1/17 : FROM node:14-alpine as build\n14-alpine: Pulling from library/node\nc158987b0551: Already exists\n859c8d0e9faf: Pulling fs layer\n69c317f5cbe1: Pulling fs layer\nd0c4a6a4173f: Pulling fs layer\nd0c4a6a4173f: Download complete\n69c317f5cbe1: Verifying Checksum\n69c317f5cbe1: Download complete\n859c8d0e9faf: Verifying Checksum\n859c8d0e9faf: Download complete\n859c8d0e9faf: Pull complete\n69c317f5cbe1: Pull complete\nd0c4a6a4173f: Pull complete\nDigest: sha256:80e825b1f5ab859498a2f0f98f8197131a562906e5f8c95977057502e68ca05a\nStatus: Downloaded newer image for node:14-alpine\n ---> fb7170aa2b9b\nStep 2/17 : RUN apk add python3 make g++\n ---> Running in d7adab94e758\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.1-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container d7adab94e758\n ---> d2c27114f2d3\nStep 3/17 : WORKDIR /app\n ---> Running in f739b686d798\nRemoving intermediate container f739b686d798\n ---> bfa49fa21a74\nStep 4/17 : COPY package.json package-lock.json ./\n ---> ca9ffdb01258\nStep 5/17 : RUN npm install\n ---> Running in c4d09c6941c4\n\n> node-webcrypto-ossl@2.1.2 install /app/node_modules/node-webcrypto-ossl\n> node-gyp rebuild\n\nmake: Entering directory '/app/node_modules/node-webcrypto-ossl/build'\n  CXX(target) Release/obj.target/nodessl/src/main.o\n\u001b[91mIn file included from ../../nan/nan.h:56,\n                 from ../src/node/../core/common.h:8,\n                 from ../src/node/common.h:4,\n                 from ../src/main.cpp:1:\n/root/.cache/node-gyp/14.21.2/include/node/node.h:793:7: warning: cast between incompatible function types from 'void (*)(Nan::ADDON_REGISTER_FUNCTION_ARGS_TYPE)' {aka 'void (*)(v8::Local<v8::Object>)'} to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n  793 |       (node::addon_register_func) (regfunc),                          \\\n      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/root/.cache/node-gyp/14.21.2/include/node/node.h:827:3: note: in expansion of macro 'NODE_MODULE_X'\n  827 |   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n      |   ^~~~~~~~~~~~~\n../src/main.cpp:93:1: note: in expansion of macro 'NODE_MODULE'\n   93 | NODE_MODULE(nodessl, InitModule);\n      | ^~~~~~~~~~~\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/core/key_exp.o\n  CXX(target) Release/obj.target/nodessl/src/core/scoped_ssl.o\n  CXX(target) Release/obj.target/nodessl/src/core/logger.o\n  CXX(target) Release/obj.target/nodessl/src/core/excep.o\n  CXX(target) Release/obj.target/nodessl/src/core/digest.o\n  CXX(target) Release/obj.target/nodessl/src/core/bn.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_gen.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pkcs1.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_oaep.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pss.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_gen.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dsa.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dh.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_gen.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ecb.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_cbc.o\n\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::wrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:111:68: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  111 |         if (AES_set_encrypt_key((const byte*)this->value->c_str(), (const int)(this->value->length() * 8), &aes_key) < 0)\n      |                                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::unwrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:138:68: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  138 |         if (AES_set_decrypt_key((const byte*)this->value->c_str(), (const int)this->value->length() * 8, &aes_key) < 0)\n      |                                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/aes/aes_gcm.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ctr.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_gen.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_sign.o\n  CXX(target) Release/obj.target/nodessl/src/pbkdf2/pbkdf2_derive.o\n  CXX(target) Release/obj.target/nodessl/src/node/common.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_key.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_core.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_rsa.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_ec.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_core.o\n  SOLINK_MODULE(target) Release/obj.target/nodessl.node\n  COPY Release/nodessl.node\nmake: Leaving directory '/app/node_modules/node-webcrypto-ossl/build'\n\u001b[91mnpm\u001b[0m\u001b[91m WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 816 packages from 508 contributors and audited 818 packages in 43.351s\n\n33 packages are looking for funding\n  run `npm fund` for details\n\nfound 46 vulnerabilities (1 low, 3 moderate, 30 high, 12 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container c4d09c6941c4\n ---> 131b80dc479c\nStep 6/17 : COPY . .\n ---> a91c3b4c5539\nStep 7/17 : ARG nodeEnv=production\n ---> Running in e2a08d1812b6\nRemoving intermediate container e2a08d1812b6\n ---> 61d509760603\nStep 8/17 : ENV NODE_ENV $nodeEnv\n ---> Running in 915dbc270298\nRemoving intermediate container 915dbc270298\n ---> 02a2a5238cea\nStep 9/17 : RUN npm run build && if [[ \"$nodeEnv\" == \"production\" ]]; then mv node_modules/node-webcrypto-ossl tmp && rm -rf node_modules && mkdir node_modules && mv tmp node_modules/node-webcrypto-ossl && npm install --no-optional; fi\n ---> Running in 52a7260c9e15\n\n> dgraph-lambda@1.4.0 build /app\n> tsc\n\nadded 259 packages from 233 contributors and audited 818 packages in 5.892s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 46 vulnerabilities (1 low, 3 moderate, 30 high, 12 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 52a7260c9e15\n ---> c16e2e1797a6\nStep 10/17 : ENTRYPOINT [ \"npm\", \"run\" ]\n ---> Running in 4e8953bba36c\nRemoving intermediate container 4e8953bba36c\n ---> c84364ebbdce\nStep 11/17 : FROM node:14-alpine\n ---> fb7170aa2b9b\nStep 12/17 : ENV NODE_ENV production\n ---> Running in 138e3cfce6bb\nRemoving intermediate container 138e3cfce6bb\n ---> 32bfaa2278a7\nStep 13/17 : RUN adduser app -h /app -D\n ---> Running in c003ebd3c464\nRemoving intermediate container c003ebd3c464\n ---> 926e1fa4fef3\nStep 14/17 : USER app\n ---> Running in cbd7566c8ab6\nRemoving intermediate container cbd7566c8ab6\n ---> fe157b901a40\nStep 15/17 : WORKDIR /app\n ---> Running in 9a0c69629edf\nRemoving intermediate container 9a0c69629edf\n ---> 64b32e283bd9\nStep 16/17 : COPY --from=build --chown=app /app /app\n ---> 9549324a6486\nStep 17/17 : CMD [\"npm\", \"start\"]\n ---> Running in 73f99cc7a9d9\nRemoving intermediate container 73f99cc7a9d9\n ---> 8bc231254bbd\nSuccessfully built 8bc231254bbd\nSuccessfully tagged dgraph-lambda:latest\n","stderr":"","imageSize":154909328},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":5,"end":5,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":194,"columnEnd":219}},{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:14-alpine as build\n\nRUN apk add --no-cache python3 make g++\nWORKDIR /app\nCOPY package.json package-lock.json ./\nRUN npm install\n\nCOPY . .\nARG nodeEnv=production\nENV NODE_ENV $nodeEnv\nRUN npm run build && if [[ \"$nodeEnv\" == \"production\" ]]; then mv node_modules/node-webcrypto-ossl tmp && rm -rf node_modules && mkdir node_modules && mv tmp node_modules/node-webcrypto-ossl && npm install --no-optional; fi\n\n# Used just for tests\nENTRYPOINT [ \"npm\", \"run\" ]\n\nFROM node:14-alpine\nENV NODE_ENV production\nRUN adduser app -h /app -D\nUSER app\nWORKDIR /app\nCOPY --from=build --chown=app /app /app\nCMD [\"npm\", \"start\"]\n"},"repairedBuild":{"startTimestamp":1672773768689,"endTimestamp":1672773917630,"error":null,"stdout":"Sending build context to Docker daemon  348.7kB\r\r\nStep 1/17 : FROM node:14-alpine as build\n ---> fb7170aa2b9b\nStep 2/17 : RUN apk add --no-cache python3 make g++\n ---> Running in d5832242e980\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/24) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/24) Installing binutils (2.39-r2)\n(3/24) Installing libgomp (12.2.1_git20220924-r4)\n(4/24) Installing libatomic (12.2.1_git20220924-r4)\n(5/24) Installing gmp (6.2.1-r2)\n(6/24) Installing isl25 (0.25-r0)\n(7/24) Installing mpfr4 (4.1.0-r0)\n(8/24) Installing mpc1 (1.2.1-r1)\n(9/24) Installing gcc (12.2.1_git20220924-r4)\n(10/24) Installing musl-dev (1.2.3-r4)\n(11/24) Installing libc-dev (0.7.2-r3)\n(12/24) Installing g++ (12.2.1_git20220924-r4)\n(13/24) Installing make (4.3-r1)\n(14/24) Installing libbz2 (1.0.8-r4)\n(15/24) Installing libexpat (2.5.0-r0)\n(16/24) Installing libffi (3.4.4-r0)\n(17/24) Installing gdbm (1.23-r0)\n(18/24) Installing xz-libs (5.2.9-r0)\n(19/24) Installing mpdecimal (2.5.1-r1)\n(20/24) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(21/24) Installing ncurses-libs (6.3_p20221119-r0)\n(22/24) Installing readline (8.2.0-r0)\n(23/24) Installing sqlite-libs (3.40.1-r0)\n(24/24) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 287 MiB in 41 packages\nRemoving intermediate container d5832242e980\n ---> 924e5cffacff\nStep 3/17 : WORKDIR /app\n ---> Running in 05a8e549eb0f\nRemoving intermediate container 05a8e549eb0f\n ---> ff96aca1691b\nStep 4/17 : COPY package.json package-lock.json ./\n ---> db71a25914ca\nStep 5/17 : RUN npm install\n ---> Running in 60e866363a47\n\n> node-webcrypto-ossl@2.1.2 install /app/node_modules/node-webcrypto-ossl\n> node-gyp rebuild\n\nmake: Entering directory '/app/node_modules/node-webcrypto-ossl/build'\n  CXX(target) Release/obj.target/nodessl/src/main.o\n\u001b[91mIn file included from ../../nan/nan.h:56,\n                 from ../src/node/../core/common.h:8,\n                 from ../src/node/common.h:4,\n                 from ../src/main.cpp:1:\n/root/.cache/node-gyp/14.21.2/include/node/node.h:793:7: warning: cast between incompatible function types from 'void (*)(Nan::ADDON_REGISTER_FUNCTION_ARGS_TYPE)' {aka 'void (*)(v8::Local<v8::Object>)'} to 'node::addon_register_func' {aka 'void (*)(v8::Local<v8::Object>, v8::Local<v8::Value>, void*)'} [-Wcast-function-type]\n  793 |       (node::addon_register_func) (regfunc),                          \\\n      |       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/root/.cache/node-gyp/14.21.2/include/node/node.h:827:3: note: in expansion of macro 'NODE_MODULE_X'\n  827 |   NODE_MODULE_X(modname, regfunc, NULL, 0)  // NOLINT (readability/null_usage)\n      |   ^~~~~~~~~~~~~\n../src/main.cpp:93:1: note: in expansion of macro 'NODE_MODULE'\n   93 | NODE_MODULE(nodessl, InitModule);\n      | ^~~~~~~~~~~\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/core/key_exp.o\n  CXX(target) Release/obj.target/nodessl/src/core/scoped_ssl.o\n  CXX(target) Release/obj.target/nodessl/src/core/logger.o\n  CXX(target) Release/obj.target/nodessl/src/core/excep.o\n  CXX(target) Release/obj.target/nodessl/src/core/digest.o\n  CXX(target) Release/obj.target/nodessl/src/core/bn.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_gen.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pkcs1.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_oaep.o\n  CXX(target) Release/obj.target/nodessl/src/rsa/rsa_pss.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_gen.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dsa.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_dh.o\n  CXX(target) Release/obj.target/nodessl/src/ec/ec_jwk.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_gen.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ecb.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_cbc.o\n\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::wrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:111:68: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  111 |         if (AES_set_encrypt_key((const byte*)this->value->c_str(), (const int)(this->value->length() * 8), &aes_key) < 0)\n      |                                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m\u001b[91m../src/aes/aes_cbc.cpp: In member function 'Handle<std::__cxx11::basic_string<char> > ScopedAES::unwrap(Handle<std::__cxx11::basic_string<char> >)':\n../src/aes/aes_cbc.cpp:138:68: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n  138 |         if (AES_set_decrypt_key((const byte*)this->value->c_str(), (const int)this->value->length() * 8, &aes_key) < 0)\n      |                                                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\u001b[0m  CXX(target) Release/obj.target/nodessl/src/aes/aes_gcm.o\n  CXX(target) Release/obj.target/nodessl/src/aes/aes_ctr.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_gen.o\n  CXX(target) Release/obj.target/nodessl/src/hmac/hmac_sign.o\n  CXX(target) Release/obj.target/nodessl/src/pbkdf2/pbkdf2_derive.o\n  CXX(target) Release/obj.target/nodessl/src/node/common.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_key.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/w_core.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_rsa.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_ec.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_aes.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_hmac.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_pbkdf2.o\n  CXX(target) Release/obj.target/nodessl/src/node/async_core.o\n  SOLINK_MODULE(target) Release/obj.target/nodessl.node\n  COPY Release/nodessl.node\nmake: Leaving directory '/app/node_modules/node-webcrypto-ossl/build'\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 816 packages from 508 contributors and audited 818 packages in 47.026s\n\n33 packages are looking for funding\n  run `npm fund` for details\n\nfound 46 vulnerabilities (1 low, 3 moderate, 30 high, 12 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 60e866363a47\n ---> cd870bb72e66\nStep 6/17 : COPY . .\n ---> 59d88cee593b\nStep 7/17 : ARG nodeEnv=production\n ---> Running in c7814e6a2997\nRemoving intermediate container c7814e6a2997\n ---> 006e232d3d87\nStep 8/17 : ENV NODE_ENV $nodeEnv\n ---> Running in b1ef47f336ec\nRemoving intermediate container b1ef47f336ec\n ---> 45549f06fd69\nStep 9/17 : RUN npm run build && if [[ \"$nodeEnv\" == \"production\" ]]; then mv node_modules/node-webcrypto-ossl tmp && rm -rf node_modules && mkdir node_modules && mv tmp node_modules/node-webcrypto-ossl && npm install --no-optional; fi\n ---> Running in 032ca7c2d2c0\n\n> dgraph-lambda@1.4.0 build /app\n> tsc\n\nadded 259 packages from 233 contributors and audited 818 packages in 5.206s\n\n9 packages are looking for funding\n  run `npm fund` for details\n\nfound 46 vulnerabilities (1 low, 3 moderate, 30 high, 12 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 032ca7c2d2c0\n ---> 8e206cbd1765\nStep 10/17 : ENTRYPOINT [ \"npm\", \"run\" ]\n ---> Running in be3cef2f3dc2\nRemoving intermediate container be3cef2f3dc2\n ---> 8d65c19e242e\nStep 11/17 : FROM node:14-alpine\n ---> fb7170aa2b9b\nStep 12/17 : ENV NODE_ENV production\n ---> Running in 049a7ea07090\nRemoving intermediate container 049a7ea07090\n ---> f924eaba02ae\nStep 13/17 : RUN adduser app -h /app -D\n ---> Running in 2ae86ad28321\nRemoving intermediate container 2ae86ad28321\n ---> bcffa9a7fa46\nStep 14/17 : USER app\n ---> Running in 20300ea20f62\nRemoving intermediate container 20300ea20f62\n ---> 93114dca229a\nStep 15/17 : WORKDIR /app\n ---> Running in 12706fe995c1\nRemoving intermediate container 12706fe995c1\n ---> 42f6e02bc110\nStep 16/17 : COPY --from=build --chown=app /app /app\n ---> 56f77ad596e2\nStep 17/17 : CMD [\"npm\", \"start\"]\n ---> Running in f643b1a40c5a\nRemoving intermediate container f643b1a40c5a\n ---> cd641fe0ab4a\nSuccessfully built cd641fe0ab4a\nSuccessfully tagged dgraph-lambda:latest\n","stderr":"","imageSize":154909339},"endTime":1672773917957}