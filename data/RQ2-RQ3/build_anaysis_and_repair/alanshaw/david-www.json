{"repository":"https://github.com/alanshaw/david-www","dockerfilePath":"Dockerfile","startTime":1672906101837,"endTime":1672906230192,"clone":{"startTime":1672906101837,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/alanshaw/david-www'...\n","error":null,"endTime":1672906102745,"commit":"a0fcb9d9243c0f2b323cb36c03f0450b59882c38"},"originalBuild":{"startTime":1672906102833,"endTime":1672906168872,"error":null,"stdout":"Sending build context to Docker daemon  2.956MB\r\r\nStep 1/10 : FROM node:14-alpine\n14-alpine: Pulling from library/node\nc158987b0551: Already exists\n859c8d0e9faf: Pulling fs layer\n69c317f5cbe1: Pulling fs layer\nd0c4a6a4173f: Pulling fs layer\nd0c4a6a4173f: Verifying Checksum\nd0c4a6a4173f: Download complete\n69c317f5cbe1: Verifying Checksum\n69c317f5cbe1: Download complete\n859c8d0e9faf: Verifying Checksum\n859c8d0e9faf: Download complete\n859c8d0e9faf: Pull complete\n69c317f5cbe1: Pull complete\nd0c4a6a4173f: Pull complete\nDigest: sha256:80e825b1f5ab859498a2f0f98f8197131a562906e5f8c95977057502e68ca05a\nStatus: Downloaded newer image for node:14-alpine\n ---> fb7170aa2b9b\nStep 2/10 : RUN mkdir -p /home/node/app/node_modules && chown -R node:node /home/node/app\n ---> Running in c59d2d273e38\nRemoving intermediate container c59d2d273e38\n ---> 13a1eb4ba3a2\nStep 3/10 : WORKDIR /home/node/app\n ---> Running in b315e159e107\nRemoving intermediate container b315e159e107\n ---> d441dc2106d3\nStep 4/10 : COPY package*.json ./\n ---> f4687268c627\nStep 5/10 : COPY src ./src/\n ---> c5207c22b288\nStep 6/10 : COPY --chown=node:node public ./public/\n ---> 6d7d89f84404\nStep 7/10 : USER node\n ---> Running in ac759759f008\nRemoving intermediate container ac759759f008\n ---> 1211dd93cb03\nStep 8/10 : RUN npm install\n ---> Running in 5d04e572df25\n\n> leveldown@5.6.0 install /home/node/app/node_modules/leveldown\n> node-gyp-build\n\n\n> node-sass@5.0.0 install /home/node/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v5.0.0/linux_musl-x64-83_binding.node\nDownload complete\nBinary saved to /home/node/app/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nCaching binary to /home/node/.npm/node-sass/5.0.0/linux_musl-x64-83_binding.node\n\n> core-js@2.6.12 postinstall /home/node/app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-sass@5.0.0 postinstall /home/node/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /home/node/app/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nTesting binary\nBinary is fine\n\n> nodemon@1.19.4 postinstall /home/node/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\n> david-www@24.0.1 postinstall /home/node/app\n> npm run build && npm run minify\n\n\n> david-www@24.0.1 build /home/node/app\n> run-p build:**\n\n\n> david-www@24.0.1 build:js:client /home/node/app\n> browserify -g [ envify purge ] -g uglifyify src/ui/main.jsx -o public/bundle.js\n\n\n> david-www@24.0.1 build:css /home/node/app\n> node-sass --include-path node_modules src/ui/main.scss public/bundle.css\n\n\n> david-www@24.0.1 build:js:server /home/node/app\n> cross-env BABEL_ENV=server babel src --out-dir dist\n\nRendering Complete, saving .css file...\nWrote CSS to /home/node/app/public/bundle.css\nsrc/config.js -> dist/config.js\nsrc/lib/auth.js -> dist/lib/auth.js\nsrc/lib/brains.js -> dist/lib/brains.js\nsrc/lib/cache.js -> dist/lib/cache.js\nsrc/lib/changelog.js -> dist/lib/changelog.js\nsrc/lib/db.js -> dist/lib/db.js\nsrc/lib/feed.js -> dist/lib/feed.js\nsrc/lib/github.js -> dist/lib/github.js\nsrc/lib/graph.js -> dist/lib/graph.js\nsrc/lib/manifest.js -> dist/lib/manifest.js\nsrc/lib/news-feed.js -> dist/lib/news-feed.js\nsrc/lib/nsp.js -> dist/lib/nsp.js\nsrc/lib/profile.js -> dist/lib/profile.js\nsrc/lib/queue/index.js -> dist/lib/queue/index.js\nsrc/lib/queue/worker.js -> dist/lib/queue/worker.js\nsrc/lib/registry.js -> dist/lib/registry.js\nsrc/lib/stats.js -> dist/lib/stats.js\nsrc/main.js -> dist/main.js\nsrc/middleware/404.js -> dist/middleware/404.js\nsrc/middleware/cors.js -> dist/middleware/cors.js\nsrc/middleware/error-handler.js -> dist/middleware/error-handler.js\nsrc/middleware/index.js -> dist/middleware/index.js\nsrc/middleware/session.js -> dist/middleware/session.js\nsrc/middleware/user.js -> dist/middleware/user.js\nsrc/routes/api/changelog.js -> dist/routes/api/changelog.js\nsrc/routes/api/csrf-token.js -> dist/routes/api/csrf-token.js\nsrc/routes/api/dependency-counts.js -> dist/routes/api/dependency-counts.js\nsrc/routes/api/graph.js -> dist/routes/api/graph.js\nsrc/routes/api/index.js -> dist/routes/api/index.js\nsrc/routes/api/info.js -> dist/routes/api/info.js\nsrc/routes/api/news.js -> dist/routes/api/news.js\nsrc/routes/api/project.js -> dist/routes/api/project.js\nsrc/routes/api/stats.js -> dist/routes/api/stats.js\nsrc/routes/api/user.js -> dist/routes/api/user.js\nsrc/routes/badge.js -> dist/routes/badge.js\nsrc/routes/helpers/get-deps-type.js -> dist/routes/helpers/get-deps-type.js\nsrc/routes/helpers/with-manifest-and-info.js -> dist/routes/helpers/with-manifest-and-info.js\nsrc/routes/index.js -> dist/routes/index.js\nsrc/routes/profile.js -> dist/routes/profile.js\nsrc/routes/rss/feed.js -> dist/routes/rss/feed.js\nsrc/routes/rss/index.js -> dist/routes/rss/index.js\nsrc/routes/rss/news.js -> dist/routes/rss/news.js\nsrc/routes/session.js -> dist/routes/session.js\nsrc/statics.js -> dist/statics.js\nsrc/ui/actions.js -> dist/ui/actions.js\nsrc/ui/components/analytics.jsx -> dist/ui/components/analytics.js\nsrc/ui/components/badge.jsx -> dist/ui/components/badge.js\nsrc/ui/components/footer.jsx -> dist/ui/components/footer.js\nsrc/ui/components/head.jsx -> dist/ui/components/head.js\nsrc/ui/components/header.jsx -> dist/ui/components/header.js\nsrc/ui/components/home/dependency-counts-graph.jsx -> dist/ui/components/home/dependency-counts-graph.js\nsrc/ui/components/layout.jsx -> dist/ui/components/layout.js\nsrc/ui/components/loading.jsx -> dist/ui/components/loading.js\nsrc/ui/components/project/badge-embed.jsx -> dist/ui/components/project/badge-embed.js\nsrc/ui/components/project/changes.jsx -> dist/ui/components/project/changes.js\nsrc/ui/components/project/dependency-graph.jsx -> dist/ui/components/project/dependency-graph.js\nsrc/ui/components/project/dependency-table.jsx -> dist/ui/components/project/dependency-table.js\nsrc/ui/components/project/security-warning.jsx -> dist/ui/components/project/security-warning.js\nsrc/ui/components/project/summary.jsx -> dist/ui/components/project/summary.js\nsrc/ui/components/share-google.jsx -> dist/ui/components/share-google.js\nsrc/ui/components/share-twitter.jsx -> dist/ui/components/share-twitter.js\nsrc/ui/main.jsx -> dist/ui/main.js\nsrc/ui/pages/error-404.jsx -> dist/ui/pages/error-404.js\nsrc/ui/pages/home.jsx -> dist/ui/pages/home.js\nsrc/ui/pages/index.js -> dist/ui/pages/index.js\nsrc/ui/pages/project.jsx -> dist/ui/pages/project.js\nsrc/ui/pages/stats.jsx -> dist/ui/pages/stats.js\nsrc/ui/reducers.js -> dist/ui/reducers.js\nsrc/ui/routes.jsx -> dist/ui/routes.js\nsrc/ui/server.jsx -> dist/ui/server.js\n\n> david-www@24.0.1 minify /home/node/app\n> run-p minify:*\n\n\n> david-www@24.0.1 minify:css /home/node/app\n> postcss public/bundle.css -u cssnano -o public/bundle.css\n\n\n> david-www@24.0.1 minify:js /home/node/app\n> uglifyjs public/bundle.js -o public/bundle.js\n\n\u001b[91mNode#moveTo was deprecated. Use Container#append.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1821 packages from 1574 contributors and audited 1829 packages in 37.879s\n\n39 packages are looking for funding\n  run `npm fund` for details\n\nfound 251 vulnerabilities (11 low, 57 moderate, 154 high, 29 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 5d04e572df25\n ---> c048e2cadc75\nStep 9/10 : EXPOSE 1337\n ---> Running in 89de5ead92e2\nRemoving intermediate container 89de5ead92e2\n ---> 63c732d8258c\nStep 10/10 : CMD [ \"node\", \"dist/main.js\" ]\n ---> Running in e8c574f071e6\nRemoving intermediate container e8c574f071e6\n ---> f4c58758c7b4\nSuccessfully built f4c58758c7b4\nSuccessfully tagged david-www:latest\n","stderr":"","imageSize":296217818},"repair":{"startTime":1672906168939,"endTime":1672906168995,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:14-alpine\nRUN mkdir -p /home/node/app/node_modules && chown -R node:node /home/node/app\nWORKDIR /home/node/app\nCOPY package*.json ./\nCOPY src ./src/\nCOPY --chown=node:node public ./public/\nUSER node\nRUN npm install && npm cache clean --force;\nEXPOSE 1337\nCMD [ \"node\", \"dist/main.js\" ]\n"},"repairedBuild":{"startTime":1672906169728,"endTime":1672906229413,"error":null,"stdout":"Sending build context to Docker daemon  2.956MB\r\r\nStep 1/10 : FROM node:14-alpine\n ---> fb7170aa2b9b\nStep 2/10 : RUN mkdir -p /home/node/app/node_modules && chown -R node:node /home/node/app\n ---> Running in bcb76d4ed835\nRemoving intermediate container bcb76d4ed835\n ---> c6dcc0061580\nStep 3/10 : WORKDIR /home/node/app\n ---> Running in 9ab64a90c6b4\nRemoving intermediate container 9ab64a90c6b4\n ---> 01853f94a01b\nStep 4/10 : COPY package*.json ./\n ---> e460a080ef4c\nStep 5/10 : COPY src ./src/\n ---> aa16315fb84c\nStep 6/10 : COPY --chown=node:node public ./public/\n ---> 924deeea65fc\nStep 7/10 : USER node\n ---> Running in afc10c60dcaa\nRemoving intermediate container afc10c60dcaa\n ---> b7ca130df773\nStep 8/10 : RUN npm install && npm cache clean --force;\n ---> Running in c808b42b4a52\n\n> leveldown@5.6.0 install /home/node/app/node_modules/leveldown\n> node-gyp-build\n\n\n> node-sass@5.0.0 install /home/node/app/node_modules/node-sass\n> node scripts/install.js\n\nDownloading binary from https://github.com/sass/node-sass/releases/download/v5.0.0/linux_musl-x64-83_binding.node\nDownload complete\nBinary saved to /home/node/app/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nCaching binary to /home/node/.npm/node-sass/5.0.0/linux_musl-x64-83_binding.node\n\n> core-js@2.6.12 postinstall /home/node/app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> node-sass@5.0.0 postinstall /home/node/app/node_modules/node-sass\n> node scripts/build.js\n\nBinary found at /home/node/app/node_modules/node-sass/vendor/linux_musl-x64-83/binding.node\nTesting binary\nBinary is fine\n\n> nodemon@1.19.4 postinstall /home/node/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\n> david-www@24.0.1 postinstall /home/node/app\n> npm run build && npm run minify\n\n\n> david-www@24.0.1 build /home/node/app\n> run-p build:**\n\n\n> david-www@24.0.1 build:js:client /home/node/app\n> browserify -g [ envify purge ] -g uglifyify src/ui/main.jsx -o public/bundle.js\n\n\n> david-www@24.0.1 build:js:server /home/node/app\n> cross-env BABEL_ENV=server babel src --out-dir dist\n\n\n> david-www@24.0.1 build:css /home/node/app\n> node-sass --include-path node_modules src/ui/main.scss public/bundle.css\n\nsrc/config.js -> dist/config.js\nsrc/lib/auth.js -> dist/lib/auth.js\nRendering Complete, saving .css file...\nWrote CSS to /home/node/app/public/bundle.css\nsrc/lib/brains.js -> dist/lib/brains.js\nsrc/lib/cache.js -> dist/lib/cache.js\nsrc/lib/changelog.js -> dist/lib/changelog.js\nsrc/lib/db.js -> dist/lib/db.js\nsrc/lib/feed.js -> dist/lib/feed.js\nsrc/lib/github.js -> dist/lib/github.js\nsrc/lib/graph.js -> dist/lib/graph.js\nsrc/lib/manifest.js -> dist/lib/manifest.js\nsrc/lib/news-feed.js -> dist/lib/news-feed.js\nsrc/lib/nsp.js -> dist/lib/nsp.js\nsrc/lib/profile.js -> dist/lib/profile.js\nsrc/lib/queue/index.js -> dist/lib/queue/index.js\nsrc/lib/queue/worker.js -> dist/lib/queue/worker.js\nsrc/lib/registry.js -> dist/lib/registry.js\nsrc/lib/stats.js -> dist/lib/stats.js\nsrc/main.js -> dist/main.js\nsrc/middleware/404.js -> dist/middleware/404.js\nsrc/middleware/cors.js -> dist/middleware/cors.js\nsrc/middleware/error-handler.js -> dist/middleware/error-handler.js\nsrc/middleware/index.js -> dist/middleware/index.js\nsrc/middleware/session.js -> dist/middleware/session.js\nsrc/middleware/user.js -> dist/middleware/user.js\nsrc/routes/api/changelog.js -> dist/routes/api/changelog.js\nsrc/routes/api/csrf-token.js -> dist/routes/api/csrf-token.js\nsrc/routes/api/dependency-counts.js -> dist/routes/api/dependency-counts.js\nsrc/routes/api/graph.js -> dist/routes/api/graph.js\nsrc/routes/api/index.js -> dist/routes/api/index.js\nsrc/routes/api/info.js -> dist/routes/api/info.js\nsrc/routes/api/news.js -> dist/routes/api/news.js\nsrc/routes/api/project.js -> dist/routes/api/project.js\nsrc/routes/api/stats.js -> dist/routes/api/stats.js\nsrc/routes/api/user.js -> dist/routes/api/user.js\nsrc/routes/badge.js -> dist/routes/badge.js\nsrc/routes/helpers/get-deps-type.js -> dist/routes/helpers/get-deps-type.js\nsrc/routes/helpers/with-manifest-and-info.js -> dist/routes/helpers/with-manifest-and-info.js\nsrc/routes/index.js -> dist/routes/index.js\nsrc/routes/profile.js -> dist/routes/profile.js\nsrc/routes/rss/feed.js -> dist/routes/rss/feed.js\nsrc/routes/rss/index.js -> dist/routes/rss/index.js\nsrc/routes/rss/news.js -> dist/routes/rss/news.js\nsrc/routes/session.js -> dist/routes/session.js\nsrc/statics.js -> dist/statics.js\nsrc/ui/actions.js -> dist/ui/actions.js\nsrc/ui/components/analytics.jsx -> dist/ui/components/analytics.js\nsrc/ui/components/badge.jsx -> dist/ui/components/badge.js\nsrc/ui/components/footer.jsx -> dist/ui/components/footer.js\nsrc/ui/components/head.jsx -> dist/ui/components/head.js\nsrc/ui/components/header.jsx -> dist/ui/components/header.js\nsrc/ui/components/home/dependency-counts-graph.jsx -> dist/ui/components/home/dependency-counts-graph.js\nsrc/ui/components/layout.jsx -> dist/ui/components/layout.js\nsrc/ui/components/loading.jsx -> dist/ui/components/loading.js\nsrc/ui/components/project/badge-embed.jsx -> dist/ui/components/project/badge-embed.js\nsrc/ui/components/project/changes.jsx -> dist/ui/components/project/changes.js\nsrc/ui/components/project/dependency-graph.jsx -> dist/ui/components/project/dependency-graph.js\nsrc/ui/components/project/dependency-table.jsx -> dist/ui/components/project/dependency-table.js\nsrc/ui/components/project/security-warning.jsx -> dist/ui/components/project/security-warning.js\nsrc/ui/components/project/summary.jsx -> dist/ui/components/project/summary.js\nsrc/ui/components/share-google.jsx -> dist/ui/components/share-google.js\nsrc/ui/components/share-twitter.jsx -> dist/ui/components/share-twitter.js\nsrc/ui/main.jsx -> dist/ui/main.js\nsrc/ui/pages/error-404.jsx -> dist/ui/pages/error-404.js\nsrc/ui/pages/home.jsx -> dist/ui/pages/home.js\nsrc/ui/pages/index.js -> dist/ui/pages/index.js\nsrc/ui/pages/project.jsx -> dist/ui/pages/project.js\nsrc/ui/pages/stats.jsx -> dist/ui/pages/stats.js\nsrc/ui/reducers.js -> dist/ui/reducers.js\nsrc/ui/routes.jsx -> dist/ui/routes.js\nsrc/ui/server.jsx -> dist/ui/server.js\n\n> david-www@24.0.1 minify /home/node/app\n> run-p minify:*\n\n\n> david-www@24.0.1 minify:css /home/node/app\n> postcss public/bundle.css -u cssnano -o public/bundle.css\n\n\n> david-www@24.0.1 minify:js /home/node/app\n> uglifyjs public/bundle.js -o public/bundle.js\n\n\u001b[91mNode#moveTo was deprecated. Use Container#append.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1821 packages from 1574 contributors and audited 1829 packages in 37.888s\n\n39 packages are looking for funding\n  run `npm fund` for details\n\nfound 251 vulnerabilities (11 low, 57 moderate, 154 high, 29 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container c808b42b4a52\n ---> 8ca7f3d83c86\nStep 9/10 : EXPOSE 1337\n ---> Running in 29bc12aa9045\nRemoving intermediate container 29bc12aa9045\n ---> 7191d10e11ca\nStep 10/10 : CMD [ \"node\", \"dist/main.js\" ]\n ---> Running in 26465ea64e28\nRemoving intermediate container 26465ea64e28\n ---> 3477d3fec942\nSuccessfully built 3477d3fec942\nSuccessfully tagged david-www:latest\n","stderr":"","imageSize":265085771}}