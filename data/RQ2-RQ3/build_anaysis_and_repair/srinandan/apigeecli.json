{"repository":"https://github.com/srinandan/apigeecli","dockerfilePath":"Dockerfile","startTime":1672722002323,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/srinandan/apigeecli'...\n","error":null,"commit":"722bcd2744c25f70d847132ad9388c8d4808819b"},"originalBuild":{"startTimestamp":1672722005513,"endTimestamp":1672722758612,"error":null,"stdout":"Sending build context to Docker daemon  1.936MB\r\r\nStep 1/21 : FROM golang:latest as builder\nlatest: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:latest\n ---> 6650307efe4a\nStep 2/21 : ADD ./apiclient /go/src/apigeecli/apiclient\n ---> 9d1c4cecbf0f\nStep 3/21 : ADD ./bundlegen /go/src/apigeecli/bundlegen\n ---> 7ec5826b0a4d\nStep 4/21 : ADD ./client /go/src/apigeecli/client\n ---> 10629ac3f94d\nStep 5/21 : ADD ./cmd /go/src/apigeecli/cmd\n ---> b565273d8a53\nStep 6/21 : ADD ./clilog /go/src/apigeecli/clilog\n ---> 1195bd00467c\nStep 7/21 : COPY main.go /go/src/apigeecli/main.go\n ---> cfffa7b9675b\nStep 8/21 : COPY go.mod go.sum /go/src/apigeecli/\n ---> cd1f9a467844\nStep 9/21 : WORKDIR /go/src/apigeecli\n ---> Running in a88d92725e4f\nRemoving intermediate container a88d92725e4f\n ---> b7614cfc0e95\nStep 10/21 : RUN groupadd -r -g 20000 apigee && useradd -M -u 20001 -g 0 -r -c \"Default Apigee user\" apigee && chown -R 20001:0 /go\n ---> Running in 5817c5fff1ef\nRemoving intermediate container 5817c5fff1ef\n ---> 585ea973d38f\nStep 11/21 : ENV GO111MODULE=on\n ---> Running in 716630ba1497\nRemoving intermediate container 716630ba1497\n ---> 207e0dc24b44\nStep 12/21 : RUN go mod download\n ---> Running in 985210343fc4\nRemoving intermediate container 985210343fc4\n ---> 286af9d6e588\nStep 13/21 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -trimpath -a -ldflags='-s -w -extldflags \"-static\"' -o /go/bin/apigeecli /go/src/apigeecli/main.go\n ---> Running in 5fea744f5825\nRemoving intermediate container 5fea744f5825\n ---> e804bf2fb6d1\nStep 14/21 : FROM alpine:latest as certs\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 15/21 : RUN apk --update add ca-certificates\n ---> Running in 9158800536be\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 9158800536be\n ---> b2aa396aa7d4\nStep 16/21 : FROM scratch\n ---> \nStep 17/21 : COPY --from=builder /etc/passwd /etc/group /etc/shadow /etc/\n ---> f4c20f6479bc\nStep 18/21 : COPY --from=builder /go/bin/apigeecli .\n ---> 2da6a1afb26d\nStep 19/21 : COPY --from=certs /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> 43abb4711c5e\nStep 20/21 : USER 20001\n ---> Running in 568e3e4b5ccd\nRemoving intermediate container 568e3e4b5ccd\n ---> 1fb86b9b5e44\nStep 21/21 : ENTRYPOINT [\"/apigeecli\"]\n ---> Running in 25985b270c1c\nRemoving intermediate container 25985b270c1c\n ---> 39a9a9750f3c\nSuccessfully built 39a9a9750f3c\nSuccessfully tagged apigeecli:latest\n","stderr":"","imageSize":9530501},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":30,"end":30,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# Copyright 2020 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nFROM golang:latest as builder\nADD ./apiclient /go/src/apigeecli/apiclient\nADD ./bundlegen /go/src/apigeecli/bundlegen\nADD ./client /go/src/apigeecli/client\nADD ./cmd /go/src/apigeecli/cmd\nADD ./clilog /go/src/apigeecli/clilog\nCOPY main.go /go/src/apigeecli/main.go\nCOPY go.mod go.sum /go/src/apigeecli/\nWORKDIR /go/src/apigeecli\nRUN groupadd -r -g 20000 apigee && useradd -M -u 20001 -g 0 -r -c \"Default Apigee user\" apigee && chown -R 20001:0 /go\nENV GO111MODULE=on\nRUN go mod download\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -trimpath -a -ldflags='-s -w -extldflags \"-static\"' -o /go/bin/apigeecli /go/src/apigeecli/main.go\n\n#without these certificates, we cannot verify the JWT token\nFROM alpine:latest as certs\nRUN apk --update --no-cache add ca-certificates\n\nFROM scratch\nCOPY --from=builder /etc/passwd /etc/group /etc/shadow /etc/\nCOPY --from=builder /go/bin/apigeecli .\nCOPY --from=certs /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\nUSER 20001\nENTRYPOINT [\"/apigeecli\"]"},"repairedBuild":{"startTimestamp":1672722774633,"endTimestamp":1672723133232,"error":null,"stdout":"Sending build context to Docker daemon  1.936MB\r\r\nStep 1/21 : FROM golang:latest as builder\n ---> 6650307efe4a\nStep 2/21 : ADD ./apiclient /go/src/apigeecli/apiclient\n ---> 7beac7025e46\nStep 3/21 : ADD ./bundlegen /go/src/apigeecli/bundlegen\n ---> 3862e4aa9b84\nStep 4/21 : ADD ./client /go/src/apigeecli/client\n ---> 592926c233c8\nStep 5/21 : ADD ./cmd /go/src/apigeecli/cmd\n ---> 602944d27094\nStep 6/21 : ADD ./clilog /go/src/apigeecli/clilog\n ---> fda8cecd23aa\nStep 7/21 : COPY main.go /go/src/apigeecli/main.go\n ---> 37e45e0a9d7f\nStep 8/21 : COPY go.mod go.sum /go/src/apigeecli/\n ---> d92781e8c795\nStep 9/21 : WORKDIR /go/src/apigeecli\n ---> Running in 32722925f12e\nRemoving intermediate container 32722925f12e\n ---> e601dff0adef\nStep 10/21 : RUN groupadd -r -g 20000 apigee && useradd -M -u 20001 -g 0 -r -c \"Default Apigee user\" apigee && chown -R 20001:0 /go\n ---> Running in f09baab01ac3\nRemoving intermediate container f09baab01ac3\n ---> a296803c03f9\nStep 11/21 : ENV GO111MODULE=on\n ---> Running in f7e7801f88a1\nRemoving intermediate container f7e7801f88a1\n ---> 730f0a19abf6\nStep 12/21 : RUN go mod download\n ---> Running in 6bc42097b5d3\nRemoving intermediate container 6bc42097b5d3\n ---> 21d787097dea\nStep 13/21 : RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -trimpath -a -ldflags='-s -w -extldflags \"-static\"' -o /go/bin/apigeecli /go/src/apigeecli/main.go\n ---> Running in e99ef193bcb2\nRemoving intermediate container e99ef193bcb2\n ---> 8a907eec8343\nStep 14/21 : FROM alpine:latest as certs\n ---> 49176f190c7e\nStep 15/21 : RUN apk --update --no-cache add ca-certificates\n ---> Running in 5f4cbc2faea8\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 5f4cbc2faea8\n ---> edda1a91c8ba\nStep 16/21 : FROM scratch\n ---> \nStep 17/21 : COPY --from=builder /etc/passwd /etc/group /etc/shadow /etc/\n ---> d842a7e785f1\nStep 18/21 : COPY --from=builder /go/bin/apigeecli .\n ---> 35cffe44284b\nStep 19/21 : COPY --from=certs /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ca-certificates.crt\n ---> f5f5e20ddc29\nStep 20/21 : USER 20001\n ---> Running in 3e5f4805214c\nRemoving intermediate container 3e5f4805214c\n ---> 69b01b64315a\nStep 21/21 : ENTRYPOINT [\"/apigeecli\"]\n ---> Running in d3790e2951bf\nRemoving intermediate container d3790e2951bf\n ---> 9e79a9724167\nSuccessfully built 9e79a9724167\nSuccessfully tagged apigeecli:latest\n","stderr":"","imageSize":9530501},"endTime":1672723135592}