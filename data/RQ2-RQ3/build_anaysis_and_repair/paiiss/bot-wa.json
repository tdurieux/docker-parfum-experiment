{"repository":"https://github.com/paiiss/bot-wa","dockerfilePath":"Dockerfile","startTime":1672783363715,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/paiiss/bot-wa'...\n","error":null,"commit":"5f9ad542632032ffba813ba269a9e5d8192af210"},"originalBuild":{"startTimestamp":1672783364618,"endTimestamp":1672783528888,"error":null,"stdout":"Sending build context to Docker daemon  687.6kB\r\r\nStep 1/11 : FROM node:lts-buster\nlts-buster: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\nd205dc8889e3: Pulling fs layer\na1f360148b18: Pulling fs layer\nc9f2ae0ccdcb: Pulling fs layer\nc9f2ae0ccdcb: Download complete\na1f360148b18: Verifying Checksum\na1f360148b18: Download complete\nd205dc8889e3: Verifying Checksum\nd205dc8889e3: Download complete\nd205dc8889e3: Pull complete\na1f360148b18: Pull complete\nc9f2ae0ccdcb: Pull complete\nDigest: sha256:1f0a8fd387451630d24724c967c83e1653fc3c97265ed05580e589fbe02058d4\nStatus: Downloaded newer image for node:lts-buster\n ---> 5cb49468341c\nStep 2/11 : USER root\n ---> Running in c31fa079d297\nRemoving intermediate container c31fa079d297\n ---> 8e251cc2cd4d\nStep 3/11 : RUN apt-get update && apt-get upgrade -y\n ---> Running in aa3591943403\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (5094 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nCalculating upgrade...\nThe following packages will be upgraded:\n  libksba8 linux-libc-dev\n2 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1655 kB of archives.\nAfter this operation, 12.3 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 libksba8 amd64 1.3.5-2+deb10u2 [102 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates/main amd64 linux-libc-dev amd64 4.19.269-1 [1553 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1655 kB in 0s (46.0 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../libksba8_1.3.5-2+deb10u2_amd64.deb ...\r\nUnpacking libksba8:amd64 (1.3.5-2+deb10u2) over (1.3.5-2+deb10u1) ...\r\nPreparing to unpack .../linux-libc-dev_4.19.269-1_amd64.deb ...\r\nUnpacking linux-libc-dev:amd64 (4.19.269-1) over (4.19.260-1) ...\r\nSetting up libksba8:amd64 (1.3.5-2+deb10u2) ...\r\nSetting up linux-libc-dev:amd64 (4.19.269-1) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container aa3591943403\n ---> c0257bac4e4b\nStep 4/11 : RUN rm -rf /var/lib/apt/lists/*\n ---> Running in 7e6f77766a44\nRemoving intermediate container 7e6f77766a44\n ---> 5bdceac2e835\nStep 5/11 : COPY . /allen\n ---> 37c02c902816\nStep 6/11 : COPY config.json.example /allen/config.json\n ---> 10f321271639\nStep 7/11 : WORKDIR /allen\n ---> Running in 840e4b459913\nRemoving intermediate container 840e4b459913\n ---> 0b6dc4aec67f\nStep 8/11 : RUN npm install\n ---> Running in 6a58340a88bb\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN deprecated crypto@1.0.1: This package is no longer supported. It's now a built-in Node module. If you've depended on crypto, you should switch to the one that's built-in.\n\u001b[0m\nadded 337 packages, and audited 338 packages in 1m\n\n44 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 6a58340a88bb\n ---> 6a30168e32f0\nStep 9/11 : RUN npm install ts-node --location=global\n ---> Running in cc227d1715a0\n\nadded 19 packages, and audited 20 packages in 3s\n\nfound 0 vulnerabilities\nRemoving intermediate container cc227d1715a0\n ---> 55bec7d3d458\nStep 10/11 : EXPOSE 5000\n ---> Running in 6059efbd562f\nRemoving intermediate container 6059efbd562f\n ---> b5c937ab61ad\nStep 11/11 : CMD [\"npm\", \"run\", \"server\"]\n ---> Running in 5b0cdbdf4b9b\nRemoving intermediate container 5b0cdbdf4b9b\n ---> b379bf64bc9a\nSuccessfully built b379bf64bc9a\nSuccessfully tagged bot-wa:latest\n","stderr":"","imageSize":1350498465},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":15,"end":15,"columnStart":4,"columnEnd":41}}],"repairedDockerfile":"FROM node:lts-buster\n\nUSER root\n\nRUN apt-get update && apt-get upgrade -y\n# RUN apt-get -y install ffmpeg imagemagick webp\nRUN rm -rf /var/lib/apt/lists/*\n\nCOPY . /allen\n# COPY .env.example /allen/.env\nCOPY config.json.example /allen/config.json\n\nWORKDIR /allen\n\nRUN npm install\nRUN npm install ts-node --location=global\n\nEXPOSE 5000\n\nCMD [\"npm\", \"run\", \"server\"]"},"repairedBuild":{"startTimestamp":1672783529560,"endTimestamp":1672783715638,"error":null,"stdout":"Sending build context to Docker daemon  687.6kB\r\r\nStep 1/11 : FROM node:lts-buster\n ---> 5cb49468341c\nStep 2/11 : USER root\n ---> Running in de83daa64d42\nRemoving intermediate container de83daa64d42\n ---> 0eebb3b3386f\nStep 3/11 : RUN apt-get update && apt-get upgrade -y\n ---> Running in a65aa02c7d63\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:5 http://deb.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 1s (6186 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nCalculating upgrade...\nThe following packages will be upgraded:\n  libksba8 linux-libc-dev\n2 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1655 kB of archives.\nAfter this operation, 12.3 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian-security buster/updates/main amd64 libksba8 amd64 1.3.5-2+deb10u2 [102 kB]\nGet:2 http://deb.debian.org/debian-security buster/updates/main amd64 linux-libc-dev amd64 4.19.269-1 [1553 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1655 kB in 0s (41.2 MB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23985 files and directories currently installed.)\r\nPreparing to unpack .../libksba8_1.3.5-2+deb10u2_amd64.deb ...\r\nUnpacking libksba8:amd64 (1.3.5-2+deb10u2) over (1.3.5-2+deb10u1) ...\r\nPreparing to unpack .../linux-libc-dev_4.19.269-1_amd64.deb ...\r\nUnpacking linux-libc-dev:amd64 (4.19.269-1) over (4.19.260-1) ...\r\nSetting up libksba8:amd64 (1.3.5-2+deb10u2) ...\r\nSetting up linux-libc-dev:amd64 (4.19.269-1) ...\r\nProcessing triggers for libc-bin (2.28-10+deb10u2) ...\r\nRemoving intermediate container a65aa02c7d63\n ---> a43c07d3efa2\nStep 4/11 : RUN rm -rf /var/lib/apt/lists/*\n ---> Running in d5a6fa9296df\nRemoving intermediate container d5a6fa9296df\n ---> be482176b7fa\nStep 5/11 : COPY . /allen\n ---> aa74edde1fee\nStep 6/11 : COPY config.json.example /allen/config.json\n ---> 61be5f030fef\nStep 7/11 : WORKDIR /allen\n ---> Running in 9569bd32ce68\nRemoving intermediate container 9569bd32ce68\n ---> 9f410376f58c\nStep 8/11 : RUN npm install\n ---> Running in 918ca7635344\n\u001b[91mnpm WARN deprecated crypto@1.0.1: This package is no longer supported. It's now a built-in Node module. If you've depended on crypto, you should switch to the one that's built-in.\n\u001b[0m\nadded 337 packages, and audited 338 packages in 53s\n\n44 packages are looking for funding\n  run `npm fund` for details\n\n1 high severity vulnerability\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.19.2 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 918ca7635344\n ---> 923c25e3f427\nStep 9/11 : RUN npm install ts-node --location=global\n ---> Running in 005ba4d7e9dc\n\nadded 19 packages, and audited 20 packages in 2s\n\nfound 0 vulnerabilities\nRemoving intermediate container 005ba4d7e9dc\n ---> a3b3cf14dfd3\nStep 10/11 : EXPOSE 5000\n ---> Running in 2470999c4209\nRemoving intermediate container 2470999c4209\n ---> 25b812ff19bc\nStep 11/11 : CMD [\"npm\", \"run\", \"server\"]\n ---> Running in 6e16d97af69e\nRemoving intermediate container 6e16d97af69e\n ---> 7a88fc36af16\nSuccessfully built 7a88fc36af16\nSuccessfully tagged bot-wa:latest\n","stderr":"","imageSize":1350498462},"endTime":1672783718970}