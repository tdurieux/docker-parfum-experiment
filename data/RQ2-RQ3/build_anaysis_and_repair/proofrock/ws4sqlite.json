{"repository":"https://github.com/proofrock/ws4sqlite","dockerfilePath":"Dockerfile","startTime":1672266174096,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/proofrock/ws4sqlite'...\n","error":null,"commit":"cd444c7293ec5b6fc9c6c0ed439b01d72cf17700"},"originalBuild":{"startTimestamp":1672266174906,"endTimestamp":1672266503283,"error":null,"stdout":"Sending build context to Docker daemon  282.1kB\r\r\nStep 1/14 : FROM alpine:edge AS build\nedge: Pulling from library/alpine\na71ff8a5264a: Pulling fs layer\na71ff8a5264a: Verifying Checksum\na71ff8a5264a: Download complete\na71ff8a5264a: Pull complete\nDigest: sha256:c223f84e05c23c0571ce8decefef818864869187e1a3ea47719412e205c8c64e\nStatus: Downloaded newer image for alpine:edge\n ---> 121d0da75751\nStep 2/14 : RUN apk update\n ---> Running in a14c09187d93\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\nv3.17.0-2350-g8c85c80b49 [https://dl-cdn.alpinelinux.org/alpine/edge/main]\nv3.17.0-2352-g5329a6af88 [https://dl-cdn.alpinelinux.org/alpine/edge/community]\nOK: 17977 distinct packages available\nRemoving intermediate container a14c09187d93\n ---> c907a05d5fa6\nStep 3/14 : RUN apk upgrade\n ---> Running in 55f12b789635\n(1/8) Upgrading musl (1.2.3-r3 -> 1.2.3-r4)\n(2/8) Upgrading busybox (1.35.0-r27 -> 1.35.0-r29)\nExecuting busybox-1.35.0-r29.post-upgrade\n(3/8) Upgrading busybox-binsh (1.35.0-r27 -> 1.35.0-r29)\n(4/8) Upgrading ca-certificates-bundle (20220614-r2 -> 20221203-r1)\n(5/8) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r1)\n(6/8) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r1)\n(7/8) Upgrading ssl_client (1.35.0-r27 -> 1.35.0-r29)\n(8/8) Upgrading musl-utils (1.2.3-r3 -> 1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nOK: 7 MiB in 15 packages\nRemoving intermediate container 55f12b789635\n ---> 75d1d0a5f80e\nStep 4/14 : RUN apk add --update go git make\n ---> Running in 2c1750278b82\n(1/20) Installing ca-certificates (20221203-r1)\n(2/20) Installing brotli-libs (1.0.9-r10)\n(3/20) Installing nghttp2-libs (1.51.0-r0)\n(4/20) Installing libcurl (7.87.0-r1)\n(5/20) Installing libexpat (2.5.0-r0)\n(6/20) Installing pcre2 (10.42-r0)\n(7/20) Installing git (2.39.0-r0)\n(8/20) Installing libgcc (12.2.1_git20220924-r6)\n(9/20) Installing libstdc++ (12.2.1_git20220924-r6)\n(10/20) Installing binutils (2.39-r2)\n(11/20) Installing libgomp (12.2.1_git20220924-r6)\n(12/20) Installing libatomic (12.2.1_git20220924-r6)\n(13/20) Installing gmp (6.2.1-r2)\n(14/20) Installing isl25 (0.25-r0)\n(15/20) Installing mpfr4 (4.1.1-r1)\n(16/20) Installing mpc1 (1.3.1-r0)\n(17/20) Installing gcc (12.2.1_git20220924-r6)\n(18/20) Installing musl-dev (1.2.3-r4)\n(19/20) Installing go (1.19.4-r0)\n(20/20) Installing make (4.4-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 567 MiB in 35 packages\nRemoving intermediate container 2c1750278b82\n ---> a0f1fa14b061\nStep 5/14 : WORKDIR /app\n ---> Running in 3651cfcb266d\nRemoving intermediate container 3651cfcb266d\n ---> 87cb7e107677\nStep 6/14 : ENV GOPATH /app\n ---> Running in 3aa318cda358\nRemoving intermediate container 3aa318cda358\n ---> d3c8f8137b43\nStep 7/14 : RUN git clone https://github.com/proofrock/ws4sqlite\n ---> Running in 332965d1dcf0\n\u001b[91mCloning into 'ws4sqlite'...\n\u001b[0mRemoving intermediate container 332965d1dcf0\n ---> 495cd1371e9f\nStep 8/14 : WORKDIR /app/ws4sqlite\n ---> Running in 612c1f19e695\nRemoving intermediate container 612c1f19e695\n ---> 0e693ace8418\nStep 9/14 : RUN make build-nostatic\n ---> Running in 5ac755cea054\nmake build-prepare\nmake[1]: Entering directory '/app/ws4sqlite'\nmake cleanup\nmake[2]: Entering directory '/app/ws4sqlite'\nrm -r bin\n\u001b[91mrm: can't remove 'bin': No such file or directory\n\u001b[0m\u001b[91mmake[2]: [Makefile:8: cleanup] Error 1 (ignored)\n\u001b[0mrm src/ws4sqlite\n\u001b[91mrm: can't remove 'src/ws4sqlite': No such file or directory\n\u001b[0m\u001b[91mmake[2]: [Makefile:9: cleanup] Error 1 (ignored)\n\u001b[0mmake[2]: Leaving directory '/app/ws4sqlite'\nmkdir bin\nmake[1]: Leaving directory '/app/ws4sqlite'\ncd src; CGO_ENABLED=0 go build -o ws4sqlite -trimpath\n\u001b[91mgo: downloading github.com/gofiber/fiber/v2 v2.40.1\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron/v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/proofrock/crypgo v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/lnquy/cron v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/proofrock/go-mylittlelogger v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/wI2L/jettison v0.7.4\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/sqlite v1.20.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.15.13\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasthttp v1.43.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.14\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.13\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/tcplisten v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/brotli v1.0.4\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.22.2\n\u001b[0m\u001b[91mgo: downloading github.com/dustin/go-humanize v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.5.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/memory v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20220927061507-ef77025ab5aa\n\u001b[0mmv src/ws4sqlite bin/\nRemoving intermediate container 5ac755cea054\n ---> aa7f9b9ae572\nStep 10/14 : FROM alpine:latest\n ---> 49176f190c7e\nStep 11/14 : COPY --from=build /app/ws4sqlite/bin/ws4sqlite /\n ---> 3cd359782021\nStep 12/14 : EXPOSE 12321\n ---> Running in 592f9ab1063a\nRemoving intermediate container 592f9ab1063a\n ---> 7aa9ed43caa1\nStep 13/14 : VOLUME /data\n ---> Running in e74bac4dfaec\nRemoving intermediate container e74bac4dfaec\n ---> ecb956556cba\nStep 14/14 : ENTRYPOINT [\"/ws4sqlite\"]\n ---> Running in 065bd115e030\nRemoving intermediate container 065bd115e030\n ---> c1f0ceb50d5c\nSuccessfully built c1f0ceb50d5c\nSuccessfully tagged ws4sqlite:latest\n","stderr":"","imageSize":24430227},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":6,"end":6,"columnStart":4,"columnEnd":32}}],"repairedDockerfile":"# docker build -t ws4sqlite .\n\nFROM alpine:edge AS build\n\nRUN apk update\nRUN apk upgrade\nRUN apk add --no-cache --update go git make\nWORKDIR /app\nENV GOPATH /app\nRUN git clone https://github.com/proofrock/ws4sqlite\nWORKDIR /app/ws4sqlite\nRUN make build-nostatic\n\nFROM alpine:latest\n\nCOPY --from=build /app/ws4sqlite/bin/ws4sqlite /\n\nEXPOSE 12321\nVOLUME /data\n\nENTRYPOINT [\"/ws4sqlite\"]\n"},"repairedBuild":{"startTimestamp":1672266510204,"endTimestamp":1672266768270,"error":null,"stdout":"Sending build context to Docker daemon  282.1kB\r\r\nStep 1/14 : FROM alpine:edge AS build\n ---> 121d0da75751\nStep 2/14 : RUN apk update\n ---> Running in 9c0c3d285f22\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\nv3.17.0-2350-g8c85c80b49 [https://dl-cdn.alpinelinux.org/alpine/edge/main]\nv3.17.0-2352-g5329a6af88 [https://dl-cdn.alpinelinux.org/alpine/edge/community]\nOK: 17977 distinct packages available\nRemoving intermediate container 9c0c3d285f22\n ---> 2873dae692c1\nStep 3/14 : RUN apk upgrade\n ---> Running in 3a6e19b5ea03\n(1/8) Upgrading musl (1.2.3-r3 -> 1.2.3-r4)\n(2/8) Upgrading busybox (1.35.0-r27 -> 1.35.0-r29)\nExecuting busybox-1.35.0-r29.post-upgrade\n(3/8) Upgrading busybox-binsh (1.35.0-r27 -> 1.35.0-r29)\n(4/8) Upgrading ca-certificates-bundle (20220614-r2 -> 20221203-r1)\n(5/8) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r1)\n(6/8) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r1)\n(7/8) Upgrading ssl_client (1.35.0-r27 -> 1.35.0-r29)\n(8/8) Upgrading musl-utils (1.2.3-r3 -> 1.2.3-r4)\nExecuting busybox-1.35.0-r29.trigger\nOK: 7 MiB in 15 packages\nRemoving intermediate container 3a6e19b5ea03\n ---> e8cce1d96183\nStep 4/14 : RUN apk add --no-cache --update go git make\n ---> Running in 3341f7e8f3fb\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\n(1/20) Installing ca-certificates (20221203-r1)\n(2/20) Installing brotli-libs (1.0.9-r10)\n(3/20) Installing nghttp2-libs (1.51.0-r0)\n(4/20) Installing libcurl (7.87.0-r1)\n(5/20) Installing libexpat (2.5.0-r0)\n(6/20) Installing pcre2 (10.42-r0)\n(7/20) Installing git (2.39.0-r0)\n(8/20) Installing libgcc (12.2.1_git20220924-r6)\n(9/20) Installing libstdc++ (12.2.1_git20220924-r6)\n(10/20) Installing binutils (2.39-r2)\n(11/20) Installing libgomp (12.2.1_git20220924-r6)\n(12/20) Installing libatomic (12.2.1_git20220924-r6)\n(13/20) Installing gmp (6.2.1-r2)\n(14/20) Installing isl25 (0.25-r0)\n(15/20) Installing mpfr4 (4.1.1-r1)\n(16/20) Installing mpc1 (1.3.1-r0)\n(17/20) Installing gcc (12.2.1_git20220924-r6)\n(18/20) Installing musl-dev (1.2.3-r4)\n(19/20) Installing go (1.19.4-r0)\n(20/20) Installing make (4.4-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20221203-r1.trigger\nOK: 567 MiB in 35 packages\nRemoving intermediate container 3341f7e8f3fb\n ---> 7ac0916d3239\nStep 5/14 : WORKDIR /app\n ---> Running in 7f983766a016\nRemoving intermediate container 7f983766a016\n ---> 9b5144c609b3\nStep 6/14 : ENV GOPATH /app\n ---> Running in 1cc37a396286\nRemoving intermediate container 1cc37a396286\n ---> 785f36c1de5d\nStep 7/14 : RUN git clone https://github.com/proofrock/ws4sqlite\n ---> Running in 42837f34e25e\n\u001b[91mCloning into 'ws4sqlite'...\n\u001b[0mRemoving intermediate container 42837f34e25e\n ---> 9b042ee33eb1\nStep 8/14 : WORKDIR /app/ws4sqlite\n ---> Running in e2e2f5172ba5\nRemoving intermediate container e2e2f5172ba5\n ---> 1fe44c35b00e\nStep 9/14 : RUN make build-nostatic\n ---> Running in c8feedb49239\nmake build-prepare\nmake[1]: Entering directory '/app/ws4sqlite'\nmake cleanup\nmake[2]: Entering directory '/app/ws4sqlite'\nrm -r bin\n\u001b[91mrm: can't remove 'bin': No such file or directory\n\u001b[0m\u001b[91mmake[2]: [Makefile:8: cleanup] Error 1 (ignored)\n\u001b[0mrm src/ws4sqlite\n\u001b[91mrm: can't remove 'src/ws4sqlite': No such file or directory\n\u001b[0m\u001b[91mmake[2]: [Makefile:9: cleanup] Error 1 (ignored)\n\u001b[0mmake[2]: Leaving directory '/app/ws4sqlite'\nmkdir bin\nmake[1]: Leaving directory '/app/ws4sqlite'\ncd src; CGO_ENABLED=0 go build -o ws4sqlite -trimpath\n\u001b[91mgo: downloading github.com/gofiber/fiber/v2 v2.40.1\n\u001b[0m\u001b[91mgo: downloading github.com/wI2L/jettison v0.7.4\n\u001b[0m\u001b[91mgo: downloading github.com/lnquy/cron v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/proofrock/crypgo v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/robfig/cron/v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading modernc.org/sqlite v1.20.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/proofrock/go-mylittlelogger v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/klauspost/compress v1.15.13\ngo: downloading golang.org/x/crypto v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasthttp v1.43.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.14\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.13\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.16\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.4.3\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/tcplisten v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/andybalholm/brotli v1.0.4\n\u001b[0m\u001b[91mgo: downloading modernc.org/libc v1.22.2\n\u001b[0m\u001b[91mgo: downloading github.com/dustin/go-humanize v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/uuid v1.3.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/mathutil v1.5.0\n\u001b[0m\u001b[91mgo: downloading modernc.org/memory v1.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/remyoudompheng/bigfft v0.0.0-20220927061507-ef77025ab5aa\n\u001b[0mmv src/ws4sqlite bin/\nRemoving intermediate container c8feedb49239\n ---> 741d58314ea8\nStep 10/14 : FROM alpine:latest\n ---> 49176f190c7e\nStep 11/14 : COPY --from=build /app/ws4sqlite/bin/ws4sqlite /\n ---> b3784f6b9dff\nStep 12/14 : EXPOSE 12321\n ---> Running in 1488fdd2e551\nRemoving intermediate container 1488fdd2e551\n ---> bd960500bbaf\nStep 13/14 : VOLUME /data\n ---> Running in 5edd1ca4a046\nRemoving intermediate container 5edd1ca4a046\n ---> d3ca88c4fd0a\nStep 14/14 : ENTRYPOINT [\"/ws4sqlite\"]\n ---> Running in d5af902c0272\nRemoving intermediate container d5af902c0272\n ---> 6c59ebb5fcf4\nSuccessfully built 6c59ebb5fcf4\nSuccessfully tagged ws4sqlite:latest\n","stderr":"","imageSize":24430227},"endTime":1672266778854}