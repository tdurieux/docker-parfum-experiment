{"repository":"https://github.com/logicmonitor/k8s-argus","dockerfilePath":"Dockerfile","startTime":1672623624151,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/logicmonitor/k8s-argus'...\n","error":null,"commit":"305cf80312303f1d6f172e7839210189f2926c4f"},"originalBuild":{"startTimestamp":1672623626677,"endTimestamp":1672623791566,"error":null,"stdout":"Sending build context to Docker daemon  39.56MB\r\r\nStep 1/25 : FROM golang:1.14 as build\n1.14: Pulling from library/golang\n0ecb575e629c: Pulling fs layer\n7467d1831b69: Pulling fs layer\nfeab2c490a3c: Pulling fs layer\nf15a0f46f8c3: Pulling fs layer\n1517911a35d7: Pulling fs layer\n48bbd1746d63: Pulling fs layer\n944903612fdd: Pulling fs layer\n944903612fdd: Waiting\n48bbd1746d63: Waiting\n1517911a35d7: Waiting\nf15a0f46f8c3: Waiting\nfeab2c490a3c: Verifying Checksum\nfeab2c490a3c: Download complete\n7467d1831b69: Verifying Checksum\n7467d1831b69: Download complete\n0ecb575e629c: Verifying Checksum\n0ecb575e629c: Download complete\n1517911a35d7: Verifying Checksum\n1517911a35d7: Download complete\nf15a0f46f8c3: Verifying Checksum\nf15a0f46f8c3: Download complete\n944903612fdd: Verifying Checksum\n944903612fdd: Download complete\n0ecb575e629c: Pull complete\n7467d1831b69: Pull complete\nfeab2c490a3c: Pull complete\nf15a0f46f8c3: Pull complete\n48bbd1746d63: Verifying Checksum\n48bbd1746d63: Download complete\n1517911a35d7: Pull complete\n48bbd1746d63: Pull complete\n944903612fdd: Pull complete\nDigest: sha256:1a7173b5b9a3af3e29a5837e0b2027e1c438fd1b83bbee8f221355087ad416d6\nStatus: Downloaded newer image for golang:1.14\n ---> 21a5635903d6\nStep 2/25 : WORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\n ---> Running in ae6558e2a19d\nRemoving intermediate container ae6558e2a19d\n ---> 42da4afc8b57\nStep 3/25 : ARG VERSION\n ---> Running in e70e841e8563\nRemoving intermediate container e70e841e8563\n ---> 39425f2f9f5f\nStep 4/25 : COPY ./ ./\n ---> 671148840bd8\nStep 5/25 : RUN GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /argus -ldflags \"-X \\\"github.com/logicmonitor/k8s-argus/pkg/constants.Version=${VERSION}\\\"\"\n ---> Running in bac4985c69e5\nRemoving intermediate container bac4985c69e5\n ---> 3bcb626656cd\nStep 6/25 : FROM golangci/golangci-lint:v1.40 as lint\nv1.40: Pulling from golangci/golangci-lint\nd960726af2be: Pulling fs layer\ne8d62473a22d: Pulling fs layer\n8962bc0fad55: Pulling fs layer\n65d943ee54c1: Pulling fs layer\nf2253e6fbefa: Pulling fs layer\n6d7fa7c7d5d3: Pulling fs layer\ne2e442f7f89f: Pulling fs layer\nbb26bef77fe7: Pulling fs layer\ne2e442f7f89f: Waiting\nbb26bef77fe7: Waiting\nf2253e6fbefa: Waiting\n6d7fa7c7d5d3: Waiting\n65d943ee54c1: Waiting\n8962bc0fad55: Download complete\ne8d62473a22d: Verifying Checksum\ne8d62473a22d: Download complete\nd960726af2be: Verifying Checksum\nd960726af2be: Download complete\nf2253e6fbefa: Verifying Checksum\nf2253e6fbefa: Download complete\n65d943ee54c1: Verifying Checksum\n65d943ee54c1: Download complete\ne2e442f7f89f: Download complete\nd960726af2be: Pull complete\nbb26bef77fe7: Verifying Checksum\nbb26bef77fe7: Download complete\n6d7fa7c7d5d3: Verifying Checksum\n6d7fa7c7d5d3: Download complete\ne8d62473a22d: Pull complete\n8962bc0fad55: Pull complete\n65d943ee54c1: Pull complete\nf2253e6fbefa: Pull complete\n6d7fa7c7d5d3: Pull complete\ne2e442f7f89f: Pull complete\nbb26bef77fe7: Pull complete\nDigest: sha256:ec14ab64348533f95544820ba292cfe431623b6e0ff1dc0c41a3f3d8f757e8d4\nStatus: Downloaded newer image for golangci/golangci-lint:v1.40\n ---> f8fd9ea3716f\nStep 7/25 : WORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\n ---> Running in ebb1ef7b39a4\nRemoving intermediate container ebb1ef7b39a4\n ---> 91a0c5ce9837\nStep 8/25 : COPY --from=build $GOPATH/src/github.com/logicmonitor/k8s-argus ./\n ---> c8d27e4e39b0\nStep 9/25 : RUN golangci-lint run -v\n ---> Running in d85505c91c95\n\u001b[91mlevel=info msg=\"[config_reader] Config search paths: [./ /go/src/github.com/logicmonitor/k8s-argus /go/src/github.com/logicmonitor /go/src/github.com /go/src /go / /root]\"\n\u001b[0m\u001b[91mlevel=info msg=\"[config_reader] Used config file .golangci.yml\"\n\u001b[0m\u001b[91mlevel=info msg=\"[lintersdb] Active 54 linters: [asciicheck bodyclose cyclop deadcode depguard dogsled dupl durationcheck errcheck errorlint exhaustive exportloopref forbidigo gci gochecknoinits gocognit goconst gocritic gocyclo gofmt gofumpt goheader goimports gomnd gomoddirectives gomodguard goprintffuncname gosec gosimple govet ifshort importas ineffassign makezero misspell nakedret nilerr noctx prealloc predeclared revive rowserrcheck sqlclosecheck staticcheck structcheck stylecheck testpackage thelper tparallel typecheck unconvert unused varcheck wastedassign]\"\n\u001b[0m\u001b[91mlevel=info msg=\"[loader] Go packages loading at mode 575 (types_sizes|exports_file|imports|name|compiled_files|deps|files) took 12.251915572s\"\n\u001b[0m\u001b[91mlevel=info msg=\"[runner/filename_unadjuster] Pre-built 0 adjustments in 6.700231ms\"\n\u001b[0m\u001b[91mlevel=info msg=\"[linters context/goanalysis] analyzers took 1m15.567526994s with top 10 stages: buildir: 38.574780208s, the_only_name: 7.210165398s, wastedassign: 6.240028476s, buildssa: 6.166013142s, exhaustive: 2.128725945s, nilness: 1.598998078s, inspect: 1.194535129s, ctrlflow: 1.086772458s, printf: 882.43065ms, fact_deprecated: 818.267315ms\"\n\u001b[0m\u001b[91mlevel=info msg=\"[runner] Issues before processing: 266, after processing: 0\"\nlevel=info msg=\"[runner] Processors filtering stat (out/in): cgo: 266/266, filename_unadjuster: 266/266, autogenerated_exclude: 247/266, identifier_marker: 247/247, exclude: 247/247, skip_files: 266/266, skip_dirs: 266/266, exclude-rules: 76/247, nolint: 0/76, path_prettifier: 266/266\"\n\u001b[0m\u001b[91mlevel=info msg=\"[runner] processing took 51.150141ms with stages: exclude-rules: 18.948692ms, identifier_marker: 13.662641ms, nolint: 10.814834ms, path_prettifier: 4.307879ms, autogenerated_exclude: 1.924403ms, skip_dirs: 1.356529ms, cgo: 72.53µs, filename_unadjuster: 57.699µs, max_same_issues: 1.533µs, exclude: 533ns, uniq_by_line: 527ns, skip_files: 463ns, max_from_linter: 388ns, source_code: 300ns, diff: 275ns, path_shortener: 208ns, severity-rules: 207ns, sort_results: 196ns, max_per_file_from_linter: 193ns, path_prefixer: 111ns\"\nlevel=info msg=\"[runner] linters took 9.479137436s with stages: goanalysis_metalinter: 9.42785194s\"\nlevel=info msg=\"File cache stats: 92 entries of total size 339.8KiB\"\n\u001b[0m\u001b[91mlevel=info msg=\"Memory: 218 samples, avg is 477.8MB, max is 1762.5MB\"\nlevel=info msg=\"Execution took 21.746037938s\"\n\u001b[0mRemoving intermediate container d85505c91c95\n ---> 21044151fe4a\nStep 10/25 : RUN touch /marker\n ---> Running in 712763339bf0\nRemoving intermediate container 712763339bf0\n ---> 31ff5c4347ab\nStep 11/25 : FROM golang:1.14 as test\n ---> 21a5635903d6\nStep 12/25 : WORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\n ---> Running in 57d6b4de25d3\nRemoving intermediate container 57d6b4de25d3\n ---> ed24cadefb0e\nStep 13/25 : RUN GO111MODULE=on go get github.com/golang/mock/mockgen@v1.6.0\n ---> Running in 21077cebdcc0\n\u001b[91mgo: downloading github.com/golang/mock v1.6.0\n\u001b[0m\u001b[91mgo: found github.com/golang/mock/mockgen in github.com/golang/mock v1.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.4.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210510120138-977fb7262007\n\u001b[0mRemoving intermediate container 21077cebdcc0\n ---> ee2e41981467\nStep 14/25 : COPY --from=build $GOPATH/src/github.com/logicmonitor/k8s-argus ./\n ---> 7310a0238110\nStep 15/25 : RUN go generate ./...\n ---> Running in fe0e6a69752f\nRemoving intermediate container fe0e6a69752f\n ---> 139cc68b15ff\nStep 16/25 : RUN go test -v -race -coverprofile=coverage.txt -covermode=atomic ./...\n ---> Running in f9129b26bb37\n?   \tgithub.com/logicmonitor/k8s-argus\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/cmd\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/aerrors\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/client/csc\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/client/k8s\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/client/logicmonitor\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/config\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/connection\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/constants\t[no test files]\n=== RUN   TestGetUpdatedHistoryValue\n=== PAUSE TestGetUpdatedHistoryValue\n=== CONT  TestGetUpdatedHistoryValue\n=== RUN   TestGetUpdatedHistoryValue/Empty_existing_value\n=== PAUSE TestGetUpdatedHistoryValue/Empty_existing_value\n=== RUN   TestGetUpdatedHistoryValue/Existing_value_with_new_value\n=== PAUSE TestGetUpdatedHistoryValue/Existing_value_with_new_value\n=== RUN   TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value\n=== PAUSE TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value\n=== RUN   TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value\n=== PAUSE TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value\n=== RUN   TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value\n=== PAUSE TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value\n=== CONT  TestGetUpdatedHistoryValue/Empty_existing_value\n=== CONT  TestGetUpdatedHistoryValue/Existing_value_with_new_value\n=== CONT  TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value\n=== CONT  TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value\n=== CONT  TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value\n--- PASS: TestGetUpdatedHistoryValue (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Existing_value_with_new_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Empty_existing_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/cronjob\t0.114s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/enums\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/etcd\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/eventprocessor\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/facade\t[no test files]\n=== RUN   TestEvaluate\n=== PAUSE TestEvaluate\n=== CONT  TestEvaluate\n=== RUN   TestEvaluate/Invalid_resource_name\n=== PAUSE TestEvaluate/Invalid_resource_name\n=== RUN   TestEvaluate/Pods,_check_equality\n=== PAUSE TestEvaluate/Pods,_check_equality\n=== RUN   TestEvaluate/Pods-_different_evaluation_params\n=== PAUSE TestEvaluate/Pods-_different_evaluation_params\n=== RUN   TestEvaluate/Nodes-_check_all\n=== PAUSE TestEvaluate/Nodes-_check_all\n=== RUN   TestEvaluate/Deployment-_check_valid_expession\n=== PAUSE TestEvaluate/Deployment-_check_valid_expession\n=== RUN   TestEvaluate/Deployment-_check_invalid_key_in_expession\n=== PAUSE TestEvaluate/Deployment-_check_invalid_key_in_expession\n=== RUN   TestEvaluate/Services-_label_with_dev_value\n=== PAUSE TestEvaluate/Services-_label_with_dev_value\n=== RUN   TestEvaluate/Services-_label_with_qa_value\n=== PAUSE TestEvaluate/Services-_label_with_qa_value\n=== RUN   TestEvaluate/Test_dots_in_key\n=== PAUSE TestEvaluate/Test_dots_in_key\n=== RUN   TestEvaluate/Test_dash_in_key\n=== PAUSE TestEvaluate/Test_dash_in_key\n=== RUN   TestEvaluate/Test_slash_in_key\n=== PAUSE TestEvaluate/Test_slash_in_key\n=== RUN   TestEvaluate/Test_all_supported_chars_in_key_and_value\n=== PAUSE TestEvaluate/Test_all_supported_chars_in_key_and_value\n=== RUN   TestEvaluate/Test_special_chars_in_resource_name\n=== PAUSE TestEvaluate/Test_special_chars_in_resource_name\n=== CONT  TestEvaluate/Invalid_resource_name\n=== CONT  TestEvaluate/Test_all_supported_chars_in_key_and_value\n=== CONT  TestEvaluate/Services-_label_with_dev_value\n=== CONT  TestEvaluate/Nodes-_check_all\n=== CONT  TestEvaluate/Deployment-_check_valid_expession\n=== CONT  TestEvaluate/Deployment-_check_invalid_key_in_expession\n=== CONT  TestEvaluate/Services-_label_with_qa_value\n=== CONT  TestEvaluate/Pods-_different_evaluation_params\n=== CONT  TestEvaluate/Test_dash_in_key\n=== CONT  TestEvaluate/Pods,_check_equality\n=== CONT  TestEvaluate/Test_special_chars_in_resource_name\n=== CONT  TestEvaluate/Test_slash_in_key\n=== CONT  TestEvaluate/Test_dots_in_key\n--- PASS: TestEvaluate (0.01s)\n    --- PASS: TestEvaluate/Invalid_resource_name (0.00s)\n    --- PASS: TestEvaluate/Services-_label_with_dev_value (0.00s)\n    --- PASS: TestEvaluate/Nodes-_check_all (0.00s)\n    --- PASS: TestEvaluate/Test_all_supported_chars_in_key_and_value (0.00s)\n    --- PASS: TestEvaluate/Deployment-_check_valid_expession (0.00s)\n    --- PASS: TestEvaluate/Deployment-_check_invalid_key_in_expession (0.00s)\n    --- PASS: TestEvaluate/Services-_label_with_qa_value (0.00s)\n    --- PASS: TestEvaluate/Pods-_different_evaluation_params (0.00s)\n    --- PASS: TestEvaluate/Test_dash_in_key (0.00s)\n    --- PASS: TestEvaluate/Pods,_check_equality (0.00s)\n    --- PASS: TestEvaluate/Test_special_chars_in_resource_name (0.00s)\n    --- PASS: TestEvaluate/Test_slash_in_key (0.00s)\n    --- PASS: TestEvaluate/Test_dots_in_key (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/filters\t0.053s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/healthz\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/lmctx\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/lmexec\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/log\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/metrics\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/mocks\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/permission\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/promperf\t[no test files]\n=== RUN   TestBuilresourceWithExistingDeviceInput\n=== PAUSE TestBuilresourceWithExistingDeviceInput\n=== CONT  TestBuilresourceWithExistingDeviceInput\n--- PASS: TestBuilresourceWithExistingDeviceInput (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resource\t0.111s\tcoverage: 0.0% of statements\n=== RUN   TestResourceLabels_NilDevice\n=== PAUSE TestResourceLabels_NilDevice\n=== RUN   TestResourceLabels_NilCustomProperties\n=== PAUSE TestResourceLabels_NilCustomProperties\n=== RUN   TestResourceLabels_ExistingCustomProperties\n=== PAUSE TestResourceLabels_ExistingCustomProperties\n=== RUN   TestResourceAnnotations_NilDevice\n=== PAUSE TestResourceAnnotations_NilDevice\n=== RUN   TestResourceAnnotations_NilCustomProperties\n=== PAUSE TestResourceAnnotations_NilCustomProperties\n=== RUN   TestResourceAnnotations_ExistingCustomProperties\n=== PAUSE TestResourceAnnotations_ExistingCustomProperties\n=== CONT  TestResourceLabels_ExistingCustomProperties\n=== CONT  TestResourceAnnotations_ExistingCustomProperties\n--- PASS: TestResourceLabels_ExistingCustomProperties (0.00s)\n=== CONT  TestResourceLabels_NilCustomProperties\n=== CONT  TestResourceAnnotations_NilCustomProperties\n=== CONT  TestResourceAnnotations_NilDevice\n--- PASS: TestResourceAnnotations_ExistingCustomProperties (0.00s)\n=== CONT  TestResourceLabels_NilDevice\n--- PASS: TestResourceAnnotations_NilDevice (0.00s)\n--- PASS: TestResourceLabels_NilCustomProperties (0.00s)\n--- PASS: TestResourceLabels_NilDevice (0.00s)\n--- PASS: TestResourceAnnotations_NilCustomProperties (0.00s)\nPASS\ncoverage: 13.9% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resource/builder\t0.131s\tcoverage: 13.9% of statements\n=== RUN   TestNewResourceCache\n=== PAUSE TestNewResourceCache\n=== CONT  TestNewResourceCache\n    resource_cache_test.go:79: {\"abc-0##pods\":[{\"container\":\"ns\",\"lmid\":0,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-1##pods\":[{\"container\":\"ns\",\"lmid\":10,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-2##pods\":[{\"container\":\"ns\",\"lmid\":20,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-3##pods\":[{\"container\":\"ns\",\"lmid\":30,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-4##pods\":[{\"container\":\"ns\",\"lmid\":40,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-5##pods\":[{\"container\":\"ns\",\"lmid\":50,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-6##pods\":[{\"container\":\"ns\",\"lmid\":60,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-7##pods\":[{\"container\":\"ns\",\"lmid\":70,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-8##pods\":[{\"container\":\"ns\",\"lmid\":80,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-9##pods\":[{\"container\":\"ns\",\"lmid\":90,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}]}\n    resource_cache_test.go:85: Before map[{abc-0 pods}:[{ns 0 abc-ns  map[] [KubernetesPod]  0}] {abc-1 pods}:[{ns 10 abc-ns  map[] [KubernetesPod]  0}] {abc-2 pods}:[{ns 20 abc-ns  map[] [KubernetesPod]  0}] {abc-3 pods}:[{ns 30 abc-ns  map[] [KubernetesPod]  0}] {abc-4 pods}:[{ns 40 abc-ns  map[] [KubernetesPod]  0}] {abc-5 pods}:[{ns 50 abc-ns  map[] [KubernetesPod]  0}] {abc-6 pods}:[{ns 60 abc-ns  map[] [KubernetesPod]  0}] {abc-7 pods}:[{ns 70 abc-ns  map[] [KubernetesPod]  0}] {abc-8 pods}:[{ns 80 abc-ns  map[] [KubernetesPod]  0}] {abc-9 pods}:[{ns 90 abc-ns  map[] [KubernetesPod]  0}]]\n    resource_cache_test.go:86: Unmarshaled map map[{abc-0 pods}:[{ns 0 abc-ns  map[] [KubernetesPod]  0}] {abc-1 pods}:[{ns 10 abc-ns  map[] [KubernetesPod]  0}] {abc-2 pods}:[{ns 20 abc-ns  map[] [KubernetesPod]  0}] {abc-3 pods}:[{ns 30 abc-ns  map[] [KubernetesPod]  0}] {abc-4 pods}:[{ns 40 abc-ns  map[] [KubernetesPod]  0}] {abc-5 pods}:[{ns 50 abc-ns  map[] [KubernetesPod]  0}] {abc-6 pods}:[{ns 60 abc-ns  map[] [KubernetesPod]  0}] {abc-7 pods}:[{ns 70 abc-ns  map[] [KubernetesPod]  0}] {abc-8 pods}:[{ns 80 abc-ns  map[] [KubernetesPod]  0}] {abc-9 pods}:[{ns 90 abc-ns  map[] [KubernetesPod]  0}]]\n--- PASS: TestNewResourceCache (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resourcecache\t0.105s\tcoverage: 0.0% of statements\n=== RUN   TestAppliesToBuilder\n=== PAUSE TestAppliesToBuilder\n=== CONT  TestAppliesToBuilder\n--- PASS: TestAppliesToBuilder (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resourcegroup\t0.105s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/resourcegroup/dgbuilder\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/sync\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/tree\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/types\t[no test files]\n=== RUN   TestSelfLinkCoreGlobalResource\n=== PAUSE TestSelfLinkCoreGlobalResource\n=== RUN   TestSelfLinkCoreNamespacedResource\n=== PAUSE TestSelfLinkCoreNamespacedResource\n=== RUN   TestSelfLinkAPIGroupNamespacedResource\n=== PAUSE TestSelfLinkAPIGroupNamespacedResource\n=== RUN   TestGetLabelByPrefix\n=== RUN   TestGetLabelByPrefix/Empty_input_labels\n=== RUN   TestGetLabelByPrefix/Passing_input_labels\n=== RUN   TestGetLabelByPrefix/Passing_input_labels_but_empty_value\n--- PASS: TestGetLabelByPrefix (0.00s)\n    --- PASS: TestGetLabelByPrefix/Empty_input_labels (0.00s)\n    --- PASS: TestGetLabelByPrefix/Passing_input_labels (0.00s)\n    --- PASS: TestGetLabelByPrefix/Passing_input_labels_but_empty_value (0.00s)\n=== CONT  TestSelfLinkCoreNamespacedResource\n=== CONT  TestSelfLinkAPIGroupNamespacedResource\n=== CONT  TestSelfLinkCoreGlobalResource\n--- PASS: TestSelfLinkCoreNamespacedResource (0.00s)\n--- PASS: TestSelfLinkAPIGroupNamespacedResource (0.00s)\n--- PASS: TestSelfLinkCoreGlobalResource (0.00s)\nPASS\ncoverage: 7.4% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/utilities\t0.121s\tcoverage: 7.4% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/namespace\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/node\t[no test files]\n=== RUN   TestAddFunc\n=== PAUSE TestAddFunc\n=== RUN   TestAddFuncPodWithoutIP\n=== PAUSE TestAddFuncPodWithoutIP\n=== CONT  TestAddFunc\n=== CONT  TestAddFuncPodWithoutIP\n=== CONT  TestAddFunc\n    pod_mock_test.go:32: &Pod{ObjectMeta:{dummy-pod-name  dummy-namespace    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[abc:xyz] map[] [] []  []},Spec:PodSpec{Volumes:[]Volume{},Containers:[]Container{},RestartPolicy:,TerminationGracePeriodSeconds:nil,ActiveDeadlineSeconds:nil,DNSPolicy:,NodeSelector:map[string]string{},ServiceAccountName:,DeprecatedServiceAccount:,NodeName:,HostNetwork:true,HostPID:false,HostIPC:false,SecurityContext:nil,ImagePullSecrets:[]LocalObjectReference{},Hostname:,Subdomain:,Affinity:nil,SchedulerName:,InitContainers:[]Container{},AutomountServiceAccountToken:nil,Tolerations:[]Toleration{},HostAliases:[]HostAlias{},PriorityClassName:,Priority:nil,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[]PodReadinessGate{},RuntimeClassName:nil,EnableServiceLinks:nil,PreemptionPolicy:nil,Overhead:ResourceList{},TopologySpreadConstraints:[]TopologySpreadConstraint{},EphemeralContainers:[]EphemeralContainer{},},Status:PodStatus{Phase:Running,Conditions:[]PodCondition{},Message:,Reason:,HostIP:,PodIP:127.0.0.1,StartTime:<nil>,ContainerStatuses:[]ContainerStatus{},QOSClass:,InitContainerStatuses:[]ContainerStatus{},NominatedNodeName:,PodIPs:[]PodIP{},EphemeralContainerStatuses:[]ContainerStatus{},},}\n--- PASS: TestAddFunc (0.00s)\n=== CONT  TestAddFuncPodWithoutIP\n    pod_mock_test.go:82: &Pod{ObjectMeta:{dummy-pod-name  dummy-namespace    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[abc:xyz] map[] [] []  []},Spec:PodSpec{Volumes:[]Volume{},Containers:[]Container{},RestartPolicy:,TerminationGracePeriodSeconds:nil,ActiveDeadlineSeconds:nil,DNSPolicy:,NodeSelector:map[string]string{},ServiceAccountName:,DeprecatedServiceAccount:,NodeName:,HostNetwork:true,HostPID:false,HostIPC:false,SecurityContext:nil,ImagePullSecrets:[]LocalObjectReference{},Hostname:,Subdomain:,Affinity:nil,SchedulerName:,InitContainers:[]Container{},AutomountServiceAccountToken:nil,Tolerations:[]Toleration{},HostAliases:[]HostAlias{},PriorityClassName:,Priority:nil,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[]PodReadinessGate{},RuntimeClassName:nil,EnableServiceLinks:nil,PreemptionPolicy:nil,Overhead:ResourceList{},TopologySpreadConstraints:[]TopologySpreadConstraint{},EphemeralContainers:[]EphemeralContainer{},},Status:PodStatus{Phase:Pending,Conditions:[]PodCondition{},Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[]ContainerStatus{},QOSClass:,InitContainerStatuses:[]ContainerStatus{},NominatedNodeName:,PodIPs:[]PodIP{},EphemeralContainerStatuses:[]ContainerStatus{},},}\n--- PASS: TestAddFuncPodWithoutIP (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/watch/pod\t0.162s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/resourcewatcher\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/service\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/worker\t[no test files]\nRemoving intermediate container f9129b26bb37\n ---> 96ab39d197e0\nStep 17/25 : RUN cp coverage.txt /coverage.txt\n ---> Running in 8830b6fdd505\nRemoving intermediate container 8830b6fdd505\n ---> 04f280eb6e18\nStep 18/25 : FROM alpine:3.6\n3.6: Pulling from library/alpine\n5a3ea8efae5d: Pulling fs layer\n5a3ea8efae5d: Download complete\n5a3ea8efae5d: Pull complete\nDigest: sha256:66790a2b79e1ea3e1dabac43990c54aca5d1ddf268d9a5a0285e4167c8b24475\nStatus: Downloaded newer image for alpine:3.6\n ---> 43773d1dba76\nStep 19/25 : LABEL maintainer=\"LogicMonitor <argus@logicmonitor.com>\"\n ---> Running in 6c4c1bdfed81\nRemoving intermediate container 6c4c1bdfed81\n ---> c173e568ae27\nStep 20/25 : RUN apk --update add ca-certificates     && rm -rf /var/cache/apk/*     && rm -rf /var/lib/apk/*\n ---> Running in 11e96ce40173\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20161130-r3)\nExecuting busybox-1.26.2-r11.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 5 MiB in 14 packages\nRemoving intermediate container 11e96ce40173\n ---> 1efad85ca132\nStep 21/25 : WORKDIR /app\n ---> Running in 37ddf1187c42\nRemoving intermediate container 37ddf1187c42\n ---> 0c7394a06682\nStep 22/25 : COPY --from=test /coverage.txt /coverage.txt\n ---> c30baa465d67\nStep 23/25 : COPY --from=lint /marker /marker\n ---> a4e9fcaaab35\nStep 24/25 : COPY --from=build /argus /bin\n ---> df79500f36e8\nStep 25/25 : ENTRYPOINT [\"argus\"]\n ---> Running in f0ae37ed971f\nRemoving intermediate container f0ae37ed971f\n ---> c56bae8bdc7f\nSuccessfully built c56bae8bdc7f\nSuccessfully tagged k8s-argus:latest\n","stderr":"","imageSize":66660630},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":24,"end":24,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"FROM golang:1.14 as build\nWORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\nARG VERSION\nCOPY ./ ./\nRUN GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /argus -ldflags \"-X \\\"github.com/logicmonitor/k8s-argus/pkg/constants.Version=${VERSION}\\\"\"\n\nFROM golangci/golangci-lint:v1.40 as lint\nWORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\nCOPY --from=build $GOPATH/src/github.com/logicmonitor/k8s-argus ./\nRUN golangci-lint run -v\n# to copy file in last image, otherwise docker buildkit ignore this stage if no dependency\nRUN touch /marker\n\nFROM golang:1.14 as test\nWORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\nRUN GO111MODULE=on go get github.com/golang/mock/mockgen@v1.6.0\nCOPY --from=build $GOPATH/src/github.com/logicmonitor/k8s-argus ./\nRUN go generate ./...\n# RUN chmod +x ./scripts/test.sh; sync; ./scripts/test.sh\nRUN go test -v -race -coverprofile=coverage.txt -covermode=atomic ./...\nRUN cp coverage.txt /coverage.txt\n\nFROM alpine:3.6\nLABEL maintainer=\"LogicMonitor <argus@logicmonitor.com>\"\nRUN apk --update --no-cache add ca-certificates \\\n    && rm -rf /var/cache/apk/* \\\n    && rm -rf /var/lib/apk/*\nWORKDIR /app\nCOPY --from=test /coverage.txt /coverage.txt\nCOPY --from=lint /marker /marker\nCOPY --from=build /argus /bin\n\nENTRYPOINT [\"argus\"]\n"},"repairedBuild":{"startTimestamp":1672623791982,"endTimestamp":1672623902117,"error":null,"stdout":"Sending build context to Docker daemon  39.56MB\r\r\nStep 1/25 : FROM golang:1.14 as build\n ---> 21a5635903d6\nStep 2/25 : WORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\n ---> Running in 2f2ae129f262\nRemoving intermediate container 2f2ae129f262\n ---> ec5b1bea26c3\nStep 3/25 : ARG VERSION\n ---> Running in 0ea9f8828b1e\nRemoving intermediate container 0ea9f8828b1e\n ---> 17818c262d9f\nStep 4/25 : COPY ./ ./\n ---> ce49c4a4a912\nStep 5/25 : RUN GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o /argus -ldflags \"-X \\\"github.com/logicmonitor/k8s-argus/pkg/constants.Version=${VERSION}\\\"\"\n ---> Running in e3998db44102\nRemoving intermediate container e3998db44102\n ---> b17de2836ce7\nStep 6/25 : FROM golangci/golangci-lint:v1.40 as lint\n ---> f8fd9ea3716f\nStep 7/25 : WORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\n ---> Running in a312ef81413a\nRemoving intermediate container a312ef81413a\n ---> 47f42aba8f52\nStep 8/25 : COPY --from=build $GOPATH/src/github.com/logicmonitor/k8s-argus ./\n ---> 32cc7924ffe8\nStep 9/25 : RUN golangci-lint run -v\n ---> Running in c840a259de3a\n\u001b[91mlevel=info msg=\"[config_reader] Config search paths: [./ /go/src/github.com/logicmonitor/k8s-argus /go/src/github.com/logicmonitor /go/src/github.com /go/src /go / /root]\"\n\u001b[0m\u001b[91mlevel=info msg=\"[config_reader] Used config file .golangci.yml\"\n\u001b[0m\u001b[91mlevel=info msg=\"[lintersdb] Active 54 linters: [asciicheck bodyclose cyclop deadcode depguard dogsled dupl durationcheck errcheck errorlint exhaustive exportloopref forbidigo gci gochecknoinits gocognit goconst gocritic gocyclo gofmt gofumpt goheader goimports gomnd gomoddirectives gomodguard goprintffuncname gosec gosimple govet ifshort importas ineffassign makezero misspell nakedret nilerr noctx prealloc predeclared revive rowserrcheck sqlclosecheck staticcheck structcheck stylecheck testpackage thelper tparallel typecheck unconvert unused varcheck wastedassign]\"\n\u001b[0m\u001b[91mlevel=info msg=\"[loader] Go packages loading at mode 575 (name|types_sizes|compiled_files|deps|exports_file|files|imports) took 12.416761761s\"\n\u001b[0m\u001b[91mlevel=info msg=\"[runner/filename_unadjuster] Pre-built 0 adjustments in 9.522104ms\"\n\u001b[0m\u001b[91mlevel=info msg=\"[linters context/goanalysis] analyzers took 1m12.471611597s with top 10 stages: buildir: 36.633181291s, buildssa: 6.417843302s, wastedassign: 6.35040186s, the_only_name: 6.071334199s, exhaustive: 1.815996604s, nilness: 1.567784223s, inspect: 945.348449ms, ctrlflow: 820.201482ms, gosec: 780.173638ms, printf: 687.685808ms\"\n\u001b[0m\u001b[91mlevel=info msg=\"[runner] Issues before processing: 266, after processing: 0\"\nlevel=info msg=\"[runner] Processors filtering stat (out/in): path_prettifier: 266/266, skip_dirs: 266/266, cgo: 266/266, exclude-rules: 76/247, autogenerated_exclude: 247/266, identifier_marker: 247/247, filename_unadjuster: 266/266, skip_files: 266/266, exclude: 247/247, nolint: 0/76\"\nlevel=info msg=\"[runner] processing took 49.536643ms with stages: nolint: 18.150685ms, exclude-rules: 12.722014ms, identifier_marker: 10.092136ms, path_prettifier: 4.379587ms, autogenerated_exclude: 2.951441ms, skip_dirs: 1.151116ms, cgo: 51.949µs, filename_unadjuster: 31.112µs, max_same_issues: 1.476µs, max_from_linter: 812ns, uniq_by_line: 780ns, diff: 574ns, source_code: 498ns, skip_files: 495ns, path_shortener: 354ns, sort_results: 336ns, max_per_file_from_linter: 334ns, severity-rules: 331ns, exclude: 326ns, path_prefixer: 287ns\"\nlevel=info msg=\"[runner] linters took 8.543668112s with stages: goanalysis_metalinter: 8.493966654s\"\n\u001b[0m\u001b[91mlevel=info msg=\"File cache stats: 92 entries of total size 339.8KiB\"\n\u001b[0m\u001b[91mlevel=info msg=\"Memory: 211 samples, avg is 425.9MB, max is 1495.4MB\"\nlevel=info msg=\"Execution took 20.979906356s\"\n\u001b[0mRemoving intermediate container c840a259de3a\n ---> cb674bf2e57b\nStep 10/25 : RUN touch /marker\n ---> Running in 1f3a26d5a1d6\nRemoving intermediate container 1f3a26d5a1d6\n ---> 1bc9a3b0f91f\nStep 11/25 : FROM golang:1.14 as test\n ---> 21a5635903d6\nStep 12/25 : WORKDIR $GOPATH/src/github.com/logicmonitor/k8s-argus\n ---> Running in e8b9fa435cef\nRemoving intermediate container e8b9fa435cef\n ---> a695938b908f\nStep 13/25 : RUN GO111MODULE=on go get github.com/golang/mock/mockgen@v1.6.0\n ---> Running in 3cc31805f29d\n\u001b[91mgo: downloading github.com/golang/mock v1.6.0\n\u001b[0m\u001b[91mgo: found github.com/golang/mock/mockgen in github.com/golang/mock v1.6.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.4.2\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20210510120138-977fb7262007\n\u001b[0mRemoving intermediate container 3cc31805f29d\n ---> cd3905161995\nStep 14/25 : COPY --from=build $GOPATH/src/github.com/logicmonitor/k8s-argus ./\n ---> 126a3141fb06\nStep 15/25 : RUN go generate ./...\n ---> Running in 7c7a20e9b110\nRemoving intermediate container 7c7a20e9b110\n ---> 366d7c47e876\nStep 16/25 : RUN go test -v -race -coverprofile=coverage.txt -covermode=atomic ./...\n ---> Running in 914e06d8788d\n?   \tgithub.com/logicmonitor/k8s-argus\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/cmd\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/aerrors\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/client/csc\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/client/k8s\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/client/logicmonitor\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/config\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/connection\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/constants\t[no test files]\n=== RUN   TestGetUpdatedHistoryValue\n=== PAUSE TestGetUpdatedHistoryValue\n=== CONT  TestGetUpdatedHistoryValue\n=== RUN   TestGetUpdatedHistoryValue/Empty_existing_value\n=== PAUSE TestGetUpdatedHistoryValue/Empty_existing_value\n=== RUN   TestGetUpdatedHistoryValue/Existing_value_with_new_value\n=== PAUSE TestGetUpdatedHistoryValue/Existing_value_with_new_value\n=== RUN   TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value\n=== PAUSE TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value\n=== RUN   TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value\n=== PAUSE TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value\n=== RUN   TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value\n=== PAUSE TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value\n=== CONT  TestGetUpdatedHistoryValue/Empty_existing_value\n=== CONT  TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value\n=== CONT  TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value\n=== CONT  TestGetUpdatedHistoryValue/Existing_value_with_new_value\n=== CONT  TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value\n--- PASS: TestGetUpdatedHistoryValue (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Empty_existing_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Existing_value_with_more_than_10_comma_separated_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Existing_value_with_10_comma_separated_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/Existing_value_with_new_value (0.00s)\n    --- PASS: TestGetUpdatedHistoryValue/New_value_same_as_last_value_of_history_value (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/cronjob\t0.114s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/enums\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/etcd\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/eventprocessor\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/facade\t[no test files]\n=== RUN   TestEvaluate\n=== PAUSE TestEvaluate\n=== CONT  TestEvaluate\n=== RUN   TestEvaluate/Invalid_resource_name\n=== PAUSE TestEvaluate/Invalid_resource_name\n=== RUN   TestEvaluate/Pods,_check_equality\n=== PAUSE TestEvaluate/Pods,_check_equality\n=== RUN   TestEvaluate/Pods-_different_evaluation_params\n=== PAUSE TestEvaluate/Pods-_different_evaluation_params\n=== RUN   TestEvaluate/Nodes-_check_all\n=== PAUSE TestEvaluate/Nodes-_check_all\n=== RUN   TestEvaluate/Deployment-_check_valid_expession\n=== PAUSE TestEvaluate/Deployment-_check_valid_expession\n=== RUN   TestEvaluate/Deployment-_check_invalid_key_in_expession\n=== PAUSE TestEvaluate/Deployment-_check_invalid_key_in_expession\n=== RUN   TestEvaluate/Services-_label_with_dev_value\n=== PAUSE TestEvaluate/Services-_label_with_dev_value\n=== RUN   TestEvaluate/Services-_label_with_qa_value\n=== PAUSE TestEvaluate/Services-_label_with_qa_value\n=== RUN   TestEvaluate/Test_dots_in_key\n=== PAUSE TestEvaluate/Test_dots_in_key\n=== RUN   TestEvaluate/Test_dash_in_key\n=== PAUSE TestEvaluate/Test_dash_in_key\n=== RUN   TestEvaluate/Test_slash_in_key\n=== PAUSE TestEvaluate/Test_slash_in_key\n=== RUN   TestEvaluate/Test_all_supported_chars_in_key_and_value\n=== PAUSE TestEvaluate/Test_all_supported_chars_in_key_and_value\n=== RUN   TestEvaluate/Test_special_chars_in_resource_name\n=== PAUSE TestEvaluate/Test_special_chars_in_resource_name\n=== CONT  TestEvaluate/Pods-_different_evaluation_params\n=== CONT  TestEvaluate/Test_special_chars_in_resource_name\n=== CONT  TestEvaluate/Test_slash_in_key\n=== CONT  TestEvaluate/Test_dash_in_key\n=== CONT  TestEvaluate/Test_all_supported_chars_in_key_and_value\n=== CONT  TestEvaluate/Services-_label_with_qa_value\n=== CONT  TestEvaluate/Test_dots_in_key\n=== CONT  TestEvaluate/Services-_label_with_dev_value\n=== CONT  TestEvaluate/Deployment-_check_invalid_key_in_expession\n=== CONT  TestEvaluate/Deployment-_check_valid_expession\n=== CONT  TestEvaluate/Nodes-_check_all\n=== CONT  TestEvaluate/Pods,_check_equality\n=== CONT  TestEvaluate/Invalid_resource_name\n--- PASS: TestEvaluate (0.00s)\n    --- PASS: TestEvaluate/Pods-_different_evaluation_params (0.00s)\n    --- PASS: TestEvaluate/Test_special_chars_in_resource_name (0.00s)\n    --- PASS: TestEvaluate/Test_slash_in_key (0.00s)\n    --- PASS: TestEvaluate/Test_dash_in_key (0.00s)\n    --- PASS: TestEvaluate/Test_all_supported_chars_in_key_and_value (0.00s)\n    --- PASS: TestEvaluate/Services-_label_with_qa_value (0.00s)\n    --- PASS: TestEvaluate/Test_dots_in_key (0.00s)\n    --- PASS: TestEvaluate/Services-_label_with_dev_value (0.00s)\n    --- PASS: TestEvaluate/Deployment-_check_invalid_key_in_expession (0.00s)\n    --- PASS: TestEvaluate/Deployment-_check_valid_expession (0.00s)\n    --- PASS: TestEvaluate/Nodes-_check_all (0.00s)\n    --- PASS: TestEvaluate/Pods,_check_equality (0.00s)\n    --- PASS: TestEvaluate/Invalid_resource_name (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/filters\t0.070s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/healthz\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/lmctx\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/lmexec\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/log\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/metrics\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/mocks\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/permission\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/promperf\t[no test files]\n=== RUN   TestBuilresourceWithExistingDeviceInput\n=== PAUSE TestBuilresourceWithExistingDeviceInput\n=== CONT  TestBuilresourceWithExistingDeviceInput\n--- PASS: TestBuilresourceWithExistingDeviceInput (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resource\t0.125s\tcoverage: 0.0% of statements\n=== RUN   TestResourceLabels_NilDevice\n=== PAUSE TestResourceLabels_NilDevice\n=== RUN   TestResourceLabels_NilCustomProperties\n=== PAUSE TestResourceLabels_NilCustomProperties\n=== RUN   TestResourceLabels_ExistingCustomProperties\n=== PAUSE TestResourceLabels_ExistingCustomProperties\n=== RUN   TestResourceAnnotations_NilDevice\n=== PAUSE TestResourceAnnotations_NilDevice\n=== RUN   TestResourceAnnotations_NilCustomProperties\n=== PAUSE TestResourceAnnotations_NilCustomProperties\n=== RUN   TestResourceAnnotations_ExistingCustomProperties\n=== PAUSE TestResourceAnnotations_ExistingCustomProperties\n=== CONT  TestResourceLabels_NilDevice\n=== CONT  TestResourceAnnotations_NilCustomProperties\n=== CONT  TestResourceLabels_NilCustomProperties\n=== CONT  TestResourceAnnotations_NilDevice\n--- PASS: TestResourceLabels_NilDevice (0.00s)\n=== CONT  TestResourceLabels_ExistingCustomProperties\n=== CONT  TestResourceAnnotations_ExistingCustomProperties\n--- PASS: TestResourceAnnotations_NilCustomProperties (0.00s)\n--- PASS: TestResourceLabels_NilCustomProperties (0.00s)\n--- PASS: TestResourceAnnotations_NilDevice (0.00s)\n--- PASS: TestResourceLabels_ExistingCustomProperties (0.00s)\n--- PASS: TestResourceAnnotations_ExistingCustomProperties (0.00s)\nPASS\ncoverage: 13.9% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resource/builder\t0.114s\tcoverage: 13.9% of statements\n=== RUN   TestNewResourceCache\n=== PAUSE TestNewResourceCache\n=== CONT  TestNewResourceCache\n    resource_cache_test.go:79: {\"abc-0##pods\":[{\"container\":\"ns\",\"lmid\":0,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-1##pods\":[{\"container\":\"ns\",\"lmid\":10,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-2##pods\":[{\"container\":\"ns\",\"lmid\":20,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-3##pods\":[{\"container\":\"ns\",\"lmid\":30,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-4##pods\":[{\"container\":\"ns\",\"lmid\":40,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-5##pods\":[{\"container\":\"ns\",\"lmid\":50,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-6##pods\":[{\"container\":\"ns\",\"lmid\":60,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-7##pods\":[{\"container\":\"ns\",\"lmid\":70,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-8##pods\":[{\"container\":\"ns\",\"lmid\":80,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}],\"abc-9##pods\":[{\"container\":\"ns\",\"lmid\":90,\"display_name\":\"abc-ns\",\"name\":\"\",\"labels\":null,\"sys_categories\":[\"KubernetesPod\"],\"uid\":\"\",\"created_on\":0}]}\n    resource_cache_test.go:85: Before map[{abc-0 pods}:[{ns 0 abc-ns  map[] [KubernetesPod]  0}] {abc-1 pods}:[{ns 10 abc-ns  map[] [KubernetesPod]  0}] {abc-2 pods}:[{ns 20 abc-ns  map[] [KubernetesPod]  0}] {abc-3 pods}:[{ns 30 abc-ns  map[] [KubernetesPod]  0}] {abc-4 pods}:[{ns 40 abc-ns  map[] [KubernetesPod]  0}] {abc-5 pods}:[{ns 50 abc-ns  map[] [KubernetesPod]  0}] {abc-6 pods}:[{ns 60 abc-ns  map[] [KubernetesPod]  0}] {abc-7 pods}:[{ns 70 abc-ns  map[] [KubernetesPod]  0}] {abc-8 pods}:[{ns 80 abc-ns  map[] [KubernetesPod]  0}] {abc-9 pods}:[{ns 90 abc-ns  map[] [KubernetesPod]  0}]]\n    resource_cache_test.go:86: Unmarshaled map map[{abc-0 pods}:[{ns 0 abc-ns  map[] [KubernetesPod]  0}] {abc-1 pods}:[{ns 10 abc-ns  map[] [KubernetesPod]  0}] {abc-2 pods}:[{ns 20 abc-ns  map[] [KubernetesPod]  0}] {abc-3 pods}:[{ns 30 abc-ns  map[] [KubernetesPod]  0}] {abc-4 pods}:[{ns 40 abc-ns  map[] [KubernetesPod]  0}] {abc-5 pods}:[{ns 50 abc-ns  map[] [KubernetesPod]  0}] {abc-6 pods}:[{ns 60 abc-ns  map[] [KubernetesPod]  0}] {abc-7 pods}:[{ns 70 abc-ns  map[] [KubernetesPod]  0}] {abc-8 pods}:[{ns 80 abc-ns  map[] [KubernetesPod]  0}] {abc-9 pods}:[{ns 90 abc-ns  map[] [KubernetesPod]  0}]]\n--- PASS: TestNewResourceCache (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resourcecache\t0.118s\tcoverage: 0.0% of statements\n=== RUN   TestAppliesToBuilder\n=== PAUSE TestAppliesToBuilder\n=== CONT  TestAppliesToBuilder\n--- PASS: TestAppliesToBuilder (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/resourcegroup\t0.099s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/resourcegroup/dgbuilder\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/sync\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/tree\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/types\t[no test files]\n=== RUN   TestSelfLinkCoreGlobalResource\n=== PAUSE TestSelfLinkCoreGlobalResource\n=== RUN   TestSelfLinkCoreNamespacedResource\n=== PAUSE TestSelfLinkCoreNamespacedResource\n=== RUN   TestSelfLinkAPIGroupNamespacedResource\n=== PAUSE TestSelfLinkAPIGroupNamespacedResource\n=== RUN   TestGetLabelByPrefix\n=== RUN   TestGetLabelByPrefix/Empty_input_labels\n=== RUN   TestGetLabelByPrefix/Passing_input_labels\n=== RUN   TestGetLabelByPrefix/Passing_input_labels_but_empty_value\n--- PASS: TestGetLabelByPrefix (0.00s)\n    --- PASS: TestGetLabelByPrefix/Empty_input_labels (0.00s)\n    --- PASS: TestGetLabelByPrefix/Passing_input_labels (0.00s)\n    --- PASS: TestGetLabelByPrefix/Passing_input_labels_but_empty_value (0.00s)\n=== CONT  TestSelfLinkAPIGroupNamespacedResource\n=== CONT  TestSelfLinkCoreNamespacedResource\n=== CONT  TestSelfLinkCoreGlobalResource\n--- PASS: TestSelfLinkAPIGroupNamespacedResource (0.00s)\n--- PASS: TestSelfLinkCoreNamespacedResource (0.00s)\n--- PASS: TestSelfLinkCoreGlobalResource (0.00s)\nPASS\ncoverage: 7.4% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/utilities\t0.096s\tcoverage: 7.4% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/namespace\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/node\t[no test files]\n=== RUN   TestAddFunc\n=== PAUSE TestAddFunc\n=== RUN   TestAddFuncPodWithoutIP\n=== PAUSE TestAddFuncPodWithoutIP\n=== CONT  TestAddFuncPodWithoutIP\n=== CONT  TestAddFunc\n=== CONT  TestAddFuncPodWithoutIP\n    pod_mock_test.go:82: &Pod{ObjectMeta:{dummy-pod-name  dummy-namespace    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[abc:xyz] map[] [] []  []},Spec:PodSpec{Volumes:[]Volume{},Containers:[]Container{},RestartPolicy:,TerminationGracePeriodSeconds:nil,ActiveDeadlineSeconds:nil,DNSPolicy:,NodeSelector:map[string]string{},ServiceAccountName:,DeprecatedServiceAccount:,NodeName:,HostNetwork:true,HostPID:false,HostIPC:false,SecurityContext:nil,ImagePullSecrets:[]LocalObjectReference{},Hostname:,Subdomain:,Affinity:nil,SchedulerName:,InitContainers:[]Container{},AutomountServiceAccountToken:nil,Tolerations:[]Toleration{},HostAliases:[]HostAlias{},PriorityClassName:,Priority:nil,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[]PodReadinessGate{},RuntimeClassName:nil,EnableServiceLinks:nil,PreemptionPolicy:nil,Overhead:ResourceList{},TopologySpreadConstraints:[]TopologySpreadConstraint{},EphemeralContainers:[]EphemeralContainer{},},Status:PodStatus{Phase:Pending,Conditions:[]PodCondition{},Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[]ContainerStatus{},QOSClass:,InitContainerStatuses:[]ContainerStatus{},NominatedNodeName:,PodIPs:[]PodIP{},EphemeralContainerStatuses:[]ContainerStatus{},},}\n--- PASS: TestAddFuncPodWithoutIP (0.00s)\n=== CONT  TestAddFunc\n    pod_mock_test.go:32: &Pod{ObjectMeta:{dummy-pod-name  dummy-namespace    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[abc:xyz] map[] [] []  []},Spec:PodSpec{Volumes:[]Volume{},Containers:[]Container{},RestartPolicy:,TerminationGracePeriodSeconds:nil,ActiveDeadlineSeconds:nil,DNSPolicy:,NodeSelector:map[string]string{},ServiceAccountName:,DeprecatedServiceAccount:,NodeName:,HostNetwork:true,HostPID:false,HostIPC:false,SecurityContext:nil,ImagePullSecrets:[]LocalObjectReference{},Hostname:,Subdomain:,Affinity:nil,SchedulerName:,InitContainers:[]Container{},AutomountServiceAccountToken:nil,Tolerations:[]Toleration{},HostAliases:[]HostAlias{},PriorityClassName:,Priority:nil,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[]PodReadinessGate{},RuntimeClassName:nil,EnableServiceLinks:nil,PreemptionPolicy:nil,Overhead:ResourceList{},TopologySpreadConstraints:[]TopologySpreadConstraint{},EphemeralContainers:[]EphemeralContainer{},},Status:PodStatus{Phase:Running,Conditions:[]PodCondition{},Message:,Reason:,HostIP:,PodIP:127.0.0.1,StartTime:<nil>,ContainerStatuses:[]ContainerStatus{},QOSClass:,InitContainerStatuses:[]ContainerStatus{},NominatedNodeName:,PodIPs:[]PodIP{},EphemeralContainerStatuses:[]ContainerStatus{},},}\n--- PASS: TestAddFunc (0.00s)\nPASS\ncoverage: 0.0% of statements\nok  \tgithub.com/logicmonitor/k8s-argus/pkg/watch/pod\t0.129s\tcoverage: 0.0% of statements\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/resourcewatcher\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/watch/service\t[no test files]\n?   \tgithub.com/logicmonitor/k8s-argus/pkg/worker\t[no test files]\nRemoving intermediate container 914e06d8788d\n ---> b8dcd423f912\nStep 17/25 : RUN cp coverage.txt /coverage.txt\n ---> Running in ec6d71fa061f\nRemoving intermediate container ec6d71fa061f\n ---> 80af86710049\nStep 18/25 : FROM alpine:3.6\n ---> 43773d1dba76\nStep 19/25 : LABEL maintainer=\"LogicMonitor <argus@logicmonitor.com>\"\n ---> Running in b372e8675f8f\nRemoving intermediate container b372e8675f8f\n ---> 15617ca485aa\nStep 20/25 : RUN apk --update --no-cache add ca-certificates     && rm -rf /var/cache/apk/*     && rm -rf /var/lib/apk/*\n ---> Running in 222088e46b9b\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20161130-r3)\nExecuting busybox-1.26.2-r11.trigger\nExecuting ca-certificates-20161130-r3.trigger\nOK: 5 MiB in 14 packages\nRemoving intermediate container 222088e46b9b\n ---> 27d99cdba521\nStep 21/25 : WORKDIR /app\n ---> Running in a91b9cefd501\nRemoving intermediate container a91b9cefd501\n ---> 0474672046d8\nStep 22/25 : COPY --from=test /coverage.txt /coverage.txt\n ---> 2cdf306dd331\nStep 23/25 : COPY --from=lint /marker /marker\n ---> eee48e2ce157\nStep 24/25 : COPY --from=build /argus /bin\n ---> 86e3f8928ba5\nStep 25/25 : ENTRYPOINT [\"argus\"]\n ---> Running in 5f31a3fce845\nRemoving intermediate container 5f31a3fce845\n ---> fb930fd0dc01\nSuccessfully built fb930fd0dc01\nSuccessfully tagged k8s-argus:latest\n","stderr":"","imageSize":66660630},"endTime":1672623902421}