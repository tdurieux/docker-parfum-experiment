{"repository":"https://github.com/lovasoa/whitebophir","dockerfilePath":"Dockerfile","startTime":1672496707324,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/lovasoa/whitebophir'...\n","error":null,"commit":"cafdc83b346ce202999d8015f96bdb635a79ad68"},"originalBuild":{"startTimestamp":1672496708240,"endTimestamp":1672496792351,"error":null,"stdout":"Sending build context to Docker daemon  947.2kB\r\r\nStep 1/13 : FROM node:16-alpine\n16-alpine: Pulling from library/node\nc158987b0551: Already exists\ne15b2da73907: Pulling fs layer\n90461d7cfbbe: Pulling fs layer\n06b1a47b9f99: Pulling fs layer\n06b1a47b9f99: Verifying Checksum\n06b1a47b9f99: Download complete\n90461d7cfbbe: Verifying Checksum\n90461d7cfbbe: Download complete\ne15b2da73907: Verifying Checksum\ne15b2da73907: Download complete\ne15b2da73907: Pull complete\n90461d7cfbbe: Pull complete\n06b1a47b9f99: Pull complete\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16-alpine\n ---> 610c0494e820\nStep 2/13 : WORKDIR /opt/app\n ---> Running in e6e003c94869\nRemoving intermediate container e6e003c94869\n ---> 9a4afd268d3f\nStep 3/13 : RUN chown -R 1000:1000 /opt/app\n ---> Running in 0e6fa569e4e2\nRemoving intermediate container 0e6fa569e4e2\n ---> 2e5b6573b05c\nStep 4/13 : RUN apk update && apk add libcap\n ---> Running in 0d716af7c13a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/3) Installing libcap2 (2.66-r0)\n(2/3) Installing libcap-utils (2.66-r0)\n(3/3) Installing libcap (2.66-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 20 packages\nRemoving intermediate container 0d716af7c13a\n ---> 4306dbe343d8\nStep 5/13 : RUN setcap CAP_NET_BIND_SERVICE=+eip /usr/local/bin/node\n ---> Running in 6e2c34233d74\nRemoving intermediate container 6e2c34233d74\n ---> 8e94dd8d0e61\nStep 6/13 : USER 1000:1000\n ---> Running in b9234419c20a\nRemoving intermediate container b9234419c20a\n ---> ec9ec420c152\nStep 7/13 : COPY package.json package-lock.json ./\n ---> 46d8cff97fbd\nStep 8/13 : RUN npm ci --production\n ---> Running in 00f118bb5187\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated statsd-client@0.4.7: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\nadded 90 packages, and audited 91 packages in 21s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 moderate, 1 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 00f118bb5187\n ---> 301a3984ebb4\nStep 9/13 : COPY --chown=1000:1000 . .\n ---> b5b7988ee485\nStep 10/13 : ENV PORT=80\n ---> Running in a7e40c3240ee\nRemoving intermediate container a7e40c3240ee\n ---> 83d0d9b5f8f7\nStep 11/13 : EXPOSE 80\n ---> Running in 31d22dfb57a5\nRemoving intermediate container 31d22dfb57a5\n ---> 804faee05914\nStep 12/13 : VOLUME /opt/app/server-data\n ---> Running in f6d94da01453\nRemoving intermediate container f6d94da01453\n ---> 0225ab5904ea\nStep 13/13 : CMD [\"/usr/local/bin/node\", \"server/server.js\"]\n ---> Running in 30094e4c4b45\nRemoving intermediate container 30094e4c4b45\n ---> 1706fb547ec9\nSuccessfully built 1706fb547ec9\nSuccessfully tagged whitebophir:latest\n","stderr":"","imageSize":389758670},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":18,"columnEnd":32}}],"repairedDockerfile":"FROM node:16-alpine\n\nWORKDIR /opt/app\n\nRUN chown -R 1000:1000 /opt/app\n\n# Allow node to bind to port 80\nRUN apk update && apk add --no-cache libcap\nRUN setcap CAP_NET_BIND_SERVICE=+eip /usr/local/bin/node\n\nUSER 1000:1000\n\nCOPY package.json package-lock.json ./\nRUN npm ci --production\nCOPY --chown=1000:1000 . .\n\nENV PORT=80\nEXPOSE 80\n\nVOLUME /opt/app/server-data\n\nCMD [\"/usr/local/bin/node\", \"server/server.js\"]\n"},"repairedBuild":{"startTimestamp":1672496793190,"endTimestamp":1672496886216,"error":null,"stdout":"Sending build context to Docker daemon  947.2kB\r\r\nStep 1/13 : FROM node:16-alpine\n ---> 610c0494e820\nStep 2/13 : WORKDIR /opt/app\n ---> Running in a3a3e21c99fe\nRemoving intermediate container a3a3e21c99fe\n ---> 080fba8afbe7\nStep 3/13 : RUN chown -R 1000:1000 /opt/app\n ---> Running in dc26831858ad\nRemoving intermediate container dc26831858ad\n ---> d39ebbc89fe8\nStep 4/13 : RUN apk update && apk add --no-cache libcap\n ---> Running in 1e3c7cf57894\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-306-g917d743036 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-307-g96eb718a77 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/3) Installing libcap2 (2.66-r0)\n(2/3) Installing libcap-utils (2.66-r0)\n(3/3) Installing libcap (2.66-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 10 MiB in 20 packages\nRemoving intermediate container 1e3c7cf57894\n ---> 5f81d2288092\nStep 5/13 : RUN setcap CAP_NET_BIND_SERVICE=+eip /usr/local/bin/node\n ---> Running in 62cc13607d3d\nRemoving intermediate container 62cc13607d3d\n ---> 05fa7ecd0d8d\nStep 6/13 : USER 1000:1000\n ---> Running in fee47a94caeb\nRemoving intermediate container fee47a94caeb\n ---> 6eaf07895ed6\nStep 7/13 : COPY package.json package-lock.json ./\n ---> 3f3e5cf6453b\nStep 8/13 : RUN npm ci --production\n ---> Running in 0e5c763e55eb\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\u001b[91mnpm WARN deprecated statsd-client@0.4.7: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\nadded 90 packages, and audited 91 packages in 15s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 moderate, 1 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 0e5c763e55eb\n ---> 89991ed717dc\nStep 9/13 : COPY --chown=1000:1000 . .\n ---> c728998cc89e\nStep 10/13 : ENV PORT=80\n ---> Running in ab1d4487fabe\nRemoving intermediate container ab1d4487fabe\n ---> a473c3a2533c\nStep 11/13 : EXPOSE 80\n ---> Running in c773bbd3f88d\nRemoving intermediate container c773bbd3f88d\n ---> 17aa3fa37e47\nStep 12/13 : VOLUME /opt/app/server-data\n ---> Running in 52c01313b379\nRemoving intermediate container 52c01313b379\n ---> 0fd3fd014f52\nStep 13/13 : CMD [\"/usr/local/bin/node\", \"server/server.js\"]\n ---> Running in e6c02bb2d20e\nRemoving intermediate container e6c02bb2d20e\n ---> ce3ebffe84e2\nSuccessfully built ce3ebffe84e2\nSuccessfully tagged whitebophir:latest\n","stderr":"","imageSize":389758684},"endTime":1672496887404}