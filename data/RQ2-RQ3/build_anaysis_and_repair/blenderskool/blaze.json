{"repository":"https://github.com/blenderskool/blaze","dockerfilePath":"Dockerfile","startTime":1672987540508,"endTime":1672987833819,"clone":{"startTime":1672987540509,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/blenderskool/blaze'...\n","error":null,"endTime":1672987541479,"commit":"2494dea721329b65643c3cbc636793204b6d2a12"},"originalBuild":{"startTime":1672987541567,"endTime":1672987718340,"error":null,"stdout":"Sending build context to Docker daemon  3.771MB\r\r\nStep 1/33 : FROM node:16.19.0-alpine as base\n16.19.0-alpine: Pulling from library/node\nc158987b0551: Already exists\ne15b2da73907: Pulling fs layer\n90461d7cfbbe: Pulling fs layer\n06b1a47b9f99: Pulling fs layer\n06b1a47b9f99: Download complete\n90461d7cfbbe: Verifying Checksum\n90461d7cfbbe: Download complete\ne15b2da73907: Verifying Checksum\ne15b2da73907: Download complete\ne15b2da73907: Pull complete\n90461d7cfbbe: Pull complete\n06b1a47b9f99: Pull complete\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16.19.0-alpine\n ---> 610c0494e820\nStep 2/33 : WORKDIR /app\n ---> Running in 7c9c62b2feae\nRemoving intermediate container 7c9c62b2feae\n ---> 3247e43cee4a\nStep 3/33 : COPY ./client/package*.json ./client/\n ---> 172b89ca04eb\nStep 4/33 : WORKDIR /app/client\n ---> Running in d3829f5371ef\nRemoving intermediate container d3829f5371ef\n ---> 0d811d46e275\nStep 5/33 : RUN npm install\n ---> Running in 0310bebc6e58\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN While resolving: @babel/eslint-parser@7.19.1\n\u001b[0m\u001b[91mnpm WARN Found: eslint@6.8.0\nnpm WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm WARN   dev eslint@\"^6.8.0\" from the root project\nnpm WARN   8 more (@typescript-eslint/experimental-utils, ...)\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m \nnpm WARN Could not resolve dependency:\nnpm WARN peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.19.1\nnpm WARN node_modules/eslint-config-preact/node_modules/@babel/eslint-parser\nnpm WARN\u001b[0m\u001b[91m   @babel/eslint-parser@\"^7.13.14\" from eslint-config-preact@1.3.0\nnpm WARN   node_modules/eslint-config-preact\nnpm\u001b[0m\u001b[91m WARN \nnpm WARN Conflicting peer dependency: eslint@8.31.0\nnpm WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm\u001b[0m\u001b[91m WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.19.1\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m   node_modules/eslint-config-preact/node_modules/@babel/eslint-parser\nnpm \u001b[0m\u001b[91mWARN     @babel/eslint-parser@\"^7.13.14\" from eslint-config-preact@1.3.0\nnpm \u001b[0m\u001b[91mWARN     node_modules/eslint-config-preact\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated html-webpack-plugin@3.2.0: 3.x is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\nadded 1688 packages, and audited 1689 packages in 22s\n\n160 packages are looking for funding\n  run `npm fund` for details\n\n21 vulnerabilities (5 moderate, 13 high, 3 critical)\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 0310bebc6e58\n ---> d2b739cd35b4\nStep 6/33 : ARG WS_HOST\n ---> Running in 24ac677b9e2e\nRemoving intermediate container 24ac677b9e2e\n ---> c2a9d45589f0\nStep 7/33 : ARG SERVER_HOST\n ---> Running in 4d05fb562964\nRemoving intermediate container 4d05fb562964\n ---> 47966452f0b5\nStep 8/33 : ARG WS_SIZE_LIMIT\n ---> Running in 6952f06147d7\nRemoving intermediate container 6952f06147d7\n ---> cdc43dc02ab9\nStep 9/33 : ARG TORRENT_SIZE_LIMIT\n ---> Running in 2aea2520bcaa\nRemoving intermediate container 2aea2520bcaa\n ---> 5e8a63f734c6\nStep 10/33 : ENV WS_HOST $WS_HOST\n ---> Running in c613ad845da4\nRemoving intermediate container c613ad845da4\n ---> bf9e38d4848c\nStep 11/33 : ENV SERVER_HOST $SERVER_HOST\n ---> Running in 121b0e928957\nRemoving intermediate container 121b0e928957\n ---> fc64275689bf\nStep 12/33 : ENV WS_SIZE_LIMIT $WS_SIZE_LIMIT\n ---> Running in f14128ff6cd5\nRemoving intermediate container f14128ff6cd5\n ---> 7d7a34bc4092\nStep 13/33 : ENV TORRENT_SIZE_LIMIT $TORRENT_SIZE_LIMIT\n ---> Running in c2135875d3d5\nRemoving intermediate container c2135875d3d5\n ---> 81a85b63d963\nStep 14/33 : COPY ./client .\n ---> 2769b62e1a22\nStep 15/33 : COPY ./common ../common\n ---> d477b2c6fbf4\nStep 16/33 : RUN npm run build\n ---> Running in 94b36d60e75c\n\n> blaze-frontend@3.0.0 build\n> preact build\n\n\n ssr-build/ssr-bundle.d15ec.css ⏤  0 B (-5.63 kB)\n        ssr-build/ssr-bundle.js ⏤  0 B (-95.8 kB)\n               bundle.d15ec.css ⏤  5.45 kB (+5.45 kB)\n            bundle.*****.esm.js ⏤  48.9 kB (+48.9 kB)\n         polyfills.*****.esm.js ⏤  2.17 kB (+2.17 kB)\n                      sw-esm.js ⏤  15.6 kB (+15.6 kB)\n                          sw.js ⏤  15.6 kB (+15.6 kB)\n                bundle.f1b48.js ⏤  51.7 kB (+51.7 kB)\n             polyfills.179b4.js ⏤  2.27 kB (+2.27 kB)\n                     index.html ⏤  4.97 kB (+4.97 kB)\n                 app/index.html ⏤  2.43 kB (+2.43 kB)\n                 404/index.html ⏤  3.43 kB (+3.43 kB)\n        how-it-works/index.html ⏤  5.16 kB (+5.16 kB)\n                       200.html ⏤  1.23 kB (+1.23 kB)\n\n⚠ WARN asset size limit: The following asset(s) exceed the recommended size limit (195 KiB).\nThis can impact web performance.\nAssets: \n  assets/images/icon-512-maskable.png (235 KiB)\n  assets/images/icon-512.png (210 KiB)\n⚠ WARN entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (195 KiB). This can impact web performance.\nEntrypoints:\n  bundle (361 KiB)\n      bundle.d15ec.css\n      bundle.f1b48.js\n      bundle.1936c.esm.js\n\n⚠ WARN webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n⚠ WARN asset size limit: The following asset(s) exceed the recommended size limit (195 KiB).\nThis can impact web performance.\nAssets: \n  assets/images/icon-512-maskable.png (235 KiB)\n  assets/images/icon-512.png (210 KiB)\n⚠ WARN entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (195 KiB). This can impact web performance.\nEntrypoints:\n  bundle (361 KiB)\n      bundle.d15ec.css\n      bundle.f1b48.js\n      bundle.1936c.esm.js\n\n⚠ WARN webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\nRemoving intermediate container 94b36d60e75c\n ---> b8979430aa7f\nStep 17/33 : FROM node:16.19.0-alpine\n ---> 610c0494e820\nStep 18/33 : RUN apk add --update nginx gettext\n ---> Running in 9204f37bd1c2\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libgomp (12.2.1_git20220924-r4)\n(2/11) Installing libintl (0.21.1-r1)\n(3/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(4/11) Installing ncurses-libs (6.3_p20221119-r0)\n(5/11) Installing libunistring (1.1-r0)\n(6/11) Installing gettext-libs (0.21.1-r1)\n(7/11) Installing xz-libs (5.2.9-r0)\n(8/11) Installing libxml2 (2.10.3-r1)\n(9/11) Installing gettext (0.21.1-r1)\n(10/11) Installing pcre (8.45-r2)\n(11/11) Installing nginx (1.22.1-r0)\nExecuting nginx-1.22.1-r0.pre-install\nExecuting nginx-1.22.1-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 28 packages\nRemoving intermediate container 9204f37bd1c2\n ---> 30cc86771e52\nStep 19/33 : RUN mkdir -p /run/nginx\n ---> Running in 34e20749feb0\nRemoving intermediate container 34e20749feb0\n ---> 2c66e68c2a6b\nStep 20/33 : COPY ./nginx/image-nginx.template /etc/nginx/nginx.template\n ---> a4cdb6266ed5\nStep 21/33 : COPY --from=base /app/client/build /etc/nginx/html\n ---> babfb4709d66\nStep 22/33 : WORKDIR /app\n ---> Running in 211270e1b2bb\nRemoving intermediate container 211270e1b2bb\n ---> 08807a45dc88\nStep 23/33 : COPY ./server/package*.json ./server/\n ---> 43a68baf0bf6\nStep 24/33 : WORKDIR /app/server\n ---> Running in 40cafd5a24fc\nRemoving intermediate container 40cafd5a24fc\n ---> 35da16413f0f\nStep 25/33 : ENV NODE_ENV \"production\"\n ---> Running in 9e4b4cbe827c\nRemoving intermediate container 9e4b4cbe827c\n ---> 5f63160b277d\nStep 26/33 : ENV TRUST_PROXY true\n ---> Running in 884ae3ad2ecc\nRemoving intermediate container 884ae3ad2ecc\n ---> f859994cb803\nStep 27/33 : ENV DISABLE_SSE_EVENTS=\n ---> Running in 448425c75b53\nRemoving intermediate container 448425c75b53\n ---> 901daa3aee1f\nStep 28/33 : RUN npm install\n ---> Running in 302c3c9d23e2\n\nadded 120 packages, and audited 121 packages in 2s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 302c3c9d23e2\n ---> 9b984c193bd8\nStep 29/33 : COPY ./server .\n ---> 7f6012c721f8\nStep 30/33 : COPY ./common ../common\n ---> 135bcca4583e\nStep 31/33 : COPY ./package*.json ../\n ---> bee1f484632c\nStep 32/33 : EXPOSE 3030\n ---> Running in a50646c22ac9\nRemoving intermediate container a50646c22ac9\n ---> 2b603cdb52c0\nStep 33/33 : CMD [\"sh\", \"-c\", \"envsubst '$PORT' < /etc/nginx/nginx.template > /etc/nginx/nginx.conf && nginx -g 'daemon off;' & PORT=3030 npm run start\"]\n ---> Running in d98e1f233d5e\nRemoving intermediate container d98e1f233d5e\n ---> bc628bd56f3a\nSuccessfully built bc628bd56f3a\nSuccessfully tagged blaze:latest\n","stderr":"","imageSize":144750174},"repair":{"startTime":1672987718403,"endTime":1672987718523,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":42,"end":42,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":27,"end":27,"columnStart":4,"columnEnd":34}}],"repairedDockerfile":"FROM node:16.19.0-alpine as base\n\nWORKDIR /app\n\nCOPY ./client/package*.json ./client/\n\nWORKDIR /app/client\nRUN npm install && npm cache clean --force;\n\nARG WS_HOST\nARG SERVER_HOST\nARG WS_SIZE_LIMIT\nARG TORRENT_SIZE_LIMIT\n\nENV WS_HOST $WS_HOST\nENV SERVER_HOST $SERVER_HOST\nENV WS_SIZE_LIMIT $WS_SIZE_LIMIT\nENV TORRENT_SIZE_LIMIT $TORRENT_SIZE_LIMIT\n\nCOPY ./client .\nCOPY ./common ../common\nRUN npm run build\n\nFROM node:16.19.0-alpine\n\n# Installing nginx and gettext alpine packages\n# gettext is for envsubst command\nRUN apk add --no-cache --update nginx gettext\nRUN mkdir -p /run/nginx\n\nCOPY ./nginx/image-nginx.template /etc/nginx/nginx.template\nCOPY --from=base /app/client/build /etc/nginx/html\n\nWORKDIR /app\n\nCOPY ./server/package*.json ./server/\n\nWORKDIR /app/server\n\nENV NODE_ENV \"production\"\nENV TRUST_PROXY true\nENV DISABLE_SSE_EVENTS=\nRUN npm install && npm cache clean --force;\n\nCOPY ./server .\nCOPY ./common ../common\nCOPY ./package*.json ../\n\nEXPOSE 3030\n\nCMD [\"sh\", \"-c\", \"envsubst '$PORT' < /etc/nginx/nginx.template > /etc/nginx/nginx.conf && nginx -g 'daemon off;' & PORT=3030 npm run start\"]"},"repairedBuild":{"startTime":1672987718762,"endTime":1672987833510,"error":null,"stdout":"Sending build context to Docker daemon  3.771MB\r\r\nStep 1/33 : FROM node:16.19.0-alpine as base\n ---> 610c0494e820\nStep 2/33 : WORKDIR /app\n ---> Running in 9d5f945be6b1\nRemoving intermediate container 9d5f945be6b1\n ---> 0f91592a1dce\nStep 3/33 : COPY ./client/package*.json ./client/\n ---> 57c5aea7075c\nStep 4/33 : WORKDIR /app/client\n ---> Running in d76d8e36067e\nRemoving intermediate container d76d8e36067e\n ---> b5ba594cd7f2\nStep 5/33 : RUN npm install && npm cache clean --force;\n ---> Running in 31d28eead383\n\u001b[91mnpm WARN ERESOLVE overriding peer dependency\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m While resolving: @babel/eslint-parser@7.19.1\nnpm \u001b[0m\u001b[91mWARN Found: eslint@6.8.0\nnpm WARN\u001b[0m\u001b[91m node_modules/eslint\nnpm WARN   dev eslint@\"^6.8.0\" from the root project\nnpm WARN\u001b[0m\u001b[91m   8 more (@typescript-eslint/experimental-utils, ...)\nnpm WARN\u001b[0m\u001b[91m \nnpm WARN Could not resolve dependency:\nnpm WARN\u001b[0m\u001b[91m peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.19.1\nnpm WARN node_modules/eslint-config-preact/node_modules/@babel/eslint-parser\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   @babel/eslint-parser@\"^7.13.14\" from eslint-config-preact@1.3.0\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m   node_modules/eslint-config-preact\nnpm \u001b[0m\u001b[91mWARN \nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m Conflicting peer dependency: eslint@8.31.0\nnpm WARN node_modules/eslint\nnpm WARN   peer eslint@\"^7.5.0 || ^8.0.0\" from @babel/eslint-parser@7.19.1\nnpm WARN\u001b[0m\u001b[91m   node_modules/eslint-config-preact/node_modules/@babel/eslint-parser\nnpm WARN     @babel/eslint-parser@\"^7.13.14\" from eslint-config-preact@1.3.0\n\u001b[0m\u001b[91mnpm WARN     node_modules/eslint-config-preact\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility\n\u001b[0m\u001b[91mnpm WARN deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.1: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated html-webpack-plugin@3.2.0: 3.x is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\nadded 1688 packages, and audited 1689 packages in 21s\n\n160 packages are looking for funding\n  run `npm fund` for details\n\n21 vulnerabilities (5 moderate, 13 high, 3 critical)\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 31d28eead383\n ---> 02f5639463b2\nStep 6/33 : ARG WS_HOST\n ---> Running in b53871aa2770\nRemoving intermediate container b53871aa2770\n ---> 6ab1b6575cea\nStep 7/33 : ARG SERVER_HOST\n ---> Running in 351d7042193e\nRemoving intermediate container 351d7042193e\n ---> 0b9c14430499\nStep 8/33 : ARG WS_SIZE_LIMIT\n ---> Running in f404f71e6edd\nRemoving intermediate container f404f71e6edd\n ---> f2e0cd974077\nStep 9/33 : ARG TORRENT_SIZE_LIMIT\n ---> Running in 7b59c2663794\nRemoving intermediate container 7b59c2663794\n ---> bd914b22b0d8\nStep 10/33 : ENV WS_HOST $WS_HOST\n ---> Running in a1394f3699e2\nRemoving intermediate container a1394f3699e2\n ---> 41eea290327a\nStep 11/33 : ENV SERVER_HOST $SERVER_HOST\n ---> Running in b85b9cfe476b\nRemoving intermediate container b85b9cfe476b\n ---> 459d3b7853cd\nStep 12/33 : ENV WS_SIZE_LIMIT $WS_SIZE_LIMIT\n ---> Running in 9eb8829ea77b\nRemoving intermediate container 9eb8829ea77b\n ---> d626d523d3dd\nStep 13/33 : ENV TORRENT_SIZE_LIMIT $TORRENT_SIZE_LIMIT\n ---> Running in 9a2040dfff23\nRemoving intermediate container 9a2040dfff23\n ---> 97bed5154bd9\nStep 14/33 : COPY ./client .\n ---> a321e655eddc\nStep 15/33 : COPY ./common ../common\n ---> 28b485aa65be\nStep 16/33 : RUN npm run build\n ---> Running in d30f216c1bea\n\n> blaze-frontend@3.0.0 build\n> preact build\n\n\n ssr-build/ssr-bundle.adfa1.css ⏤  0 B (-5.62 kB)\n        ssr-build/ssr-bundle.js ⏤  0 B (-95.8 kB)\n               bundle.adfa1.css ⏤  5.45 kB (+5.45 kB)\n            bundle.*****.esm.js ⏤  48.9 kB (+48.9 kB)\n         polyfills.*****.esm.js ⏤  2.17 kB (+2.17 kB)\n                      sw-esm.js ⏤  15.6 kB (+15.6 kB)\n                          sw.js ⏤  15.6 kB (+15.6 kB)\n                bundle.882b3.js ⏤  51.7 kB (+51.7 kB)\n             polyfills.179b4.js ⏤  2.27 kB (+2.27 kB)\n                     index.html ⏤  4.97 kB (+4.97 kB)\n                 app/index.html ⏤  2.43 kB (+2.43 kB)\n                 404/index.html ⏤  3.43 kB (+3.43 kB)\n        how-it-works/index.html ⏤  5.16 kB (+5.16 kB)\n                       200.html ⏤  1.23 kB (+1.23 kB)\n\n⚠ WARN asset size limit: The following asset(s) exceed the recommended size limit (195 KiB).\nThis can impact web performance.\nAssets: \n  assets/images/icon-512-maskable.png (235 KiB)\n  assets/images/icon-512.png (210 KiB)\n⚠ WARN entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (195 KiB). This can impact web performance.\nEntrypoints:\n  bundle (361 KiB)\n      bundle.adfa1.css\n      bundle.882b3.js\n      bundle.164d8.esm.js\n\n⚠ WARN webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\n⚠ WARN asset size limit: The following asset(s) exceed the recommended size limit (195 KiB).\nThis can impact web performance.\nAssets: \n  assets/images/icon-512-maskable.png (235 KiB)\n  assets/images/icon-512.png (210 KiB)\n⚠ WARN entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (195 KiB). This can impact web performance.\nEntrypoints:\n  bundle (361 KiB)\n      bundle.adfa1.css\n      bundle.882b3.js\n      bundle.164d8.esm.js\n\n⚠ WARN webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/\nRemoving intermediate container d30f216c1bea\n ---> 2bf988bf32cc\nStep 17/33 : FROM node:16.19.0-alpine\n ---> 610c0494e820\nStep 18/33 : RUN apk add --no-cache --update nginx gettext\n ---> Running in 6f0f4acca414\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing libgomp (12.2.1_git20220924-r4)\n(2/11) Installing libintl (0.21.1-r1)\n(3/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(4/11) Installing ncurses-libs (6.3_p20221119-r0)\n(5/11) Installing libunistring (1.1-r0)\n(6/11) Installing gettext-libs (0.21.1-r1)\n(7/11) Installing xz-libs (5.2.9-r0)\n(8/11) Installing libxml2 (2.10.3-r1)\n(9/11) Installing gettext (0.21.1-r1)\n(10/11) Installing pcre (8.45-r2)\n(11/11) Installing nginx (1.22.1-r0)\nExecuting nginx-1.22.1-r0.pre-install\nExecuting nginx-1.22.1-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 28 packages\nRemoving intermediate container 6f0f4acca414\n ---> 46dedd0ffa91\nStep 19/33 : RUN mkdir -p /run/nginx\n ---> Running in 1bdabb0f6326\nRemoving intermediate container 1bdabb0f6326\n ---> 96efa3af3d70\nStep 20/33 : COPY ./nginx/image-nginx.template /etc/nginx/nginx.template\n ---> 670eaba7a3ae\nStep 21/33 : COPY --from=base /app/client/build /etc/nginx/html\n ---> b65433fe201c\nStep 22/33 : WORKDIR /app\n ---> Running in 500bc4d0a6ad\nRemoving intermediate container 500bc4d0a6ad\n ---> 19fa04b0b471\nStep 23/33 : COPY ./server/package*.json ./server/\n ---> 1034d6da150f\nStep 24/33 : WORKDIR /app/server\n ---> Running in 4b744ad82320\nRemoving intermediate container 4b744ad82320\n ---> ffd506fda73b\nStep 25/33 : ENV NODE_ENV \"production\"\n ---> Running in fc65bffd0e18\nRemoving intermediate container fc65bffd0e18\n ---> 10c805c82116\nStep 26/33 : ENV TRUST_PROXY true\n ---> Running in 80f5f25b31c6\nRemoving intermediate container 80f5f25b31c6\n ---> f819792a2598\nStep 27/33 : ENV DISABLE_SSE_EVENTS=\n ---> Running in 6653d79992a1\nRemoving intermediate container 6653d79992a1\n ---> 9833196446d7\nStep 28/33 : RUN npm install && npm cache clean --force;\n ---> Running in 7d67eaa3ce3e\n\nadded 120 packages, and audited 121 packages in 1s\n\n10 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 7d67eaa3ce3e\n ---> cbe28d0aae73\nStep 29/33 : COPY ./server .\n ---> 32804124ae92\nStep 30/33 : COPY ./common ../common\n ---> 206c22505ef1\nStep 31/33 : COPY ./package*.json ../\n ---> 37bda1dabf76\nStep 32/33 : EXPOSE 3030\n ---> Running in 7b6e5486bfe0\nRemoving intermediate container 7b6e5486bfe0\n ---> 958850b566ce\nStep 33/33 : CMD [\"sh\", \"-c\", \"envsubst '$PORT' < /etc/nginx/nginx.template > /etc/nginx/nginx.conf && nginx -g 'daemon off;' & PORT=3030 npm run start\"]\n ---> Running in 426b557d6f00\nRemoving intermediate container 426b557d6f00\n ---> de9ded5b461a\nSuccessfully built de9ded5b461a\nSuccessfully tagged blaze:latest\n","stderr":"","imageSize":138236945}}