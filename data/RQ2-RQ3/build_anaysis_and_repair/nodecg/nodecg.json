{"repository":"https://github.com/nodecg/nodecg","dockerfilePath":"Dockerfile","startTime":1672401431967,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nodecg/nodecg'...\n","error":null,"commit":"0c6ae8209e2558758de10f21a88b6f6208382108"},"originalBuild":{"startTimestamp":1672401433101,"endTimestamp":1672402699081,"error":null,"stdout":"Sending build context to Docker daemon  1.001MB\r\r\nStep 1/7 : FROM node:10\n10: Pulling from library/node\n76b8ef87096f: Pulling fs layer\n2e2bafe8a0f4: Pulling fs layer\nb53ce1fd2746: Pulling fs layer\n84a8c1bd5887: Pulling fs layer\n7a803dc0b40f: Pulling fs layer\nb800e94e7303: Pulling fs layer\n0da9fbf60d48: Pulling fs layer\n04dccde934cf: Pulling fs layer\n73269890f6fd: Pulling fs layer\nb800e94e7303: Waiting\n0da9fbf60d48: Waiting\n04dccde934cf: Waiting\n73269890f6fd: Waiting\n84a8c1bd5887: Waiting\n7a803dc0b40f: Waiting\nb53ce1fd2746: Verifying Checksum\nb53ce1fd2746: Download complete\n2e2bafe8a0f4: Verifying Checksum\n2e2bafe8a0f4: Download complete\n76b8ef87096f: Verifying Checksum\n76b8ef87096f: Download complete\n84a8c1bd5887: Verifying Checksum\n84a8c1bd5887: Download complete\nb800e94e7303: Verifying Checksum\nb800e94e7303: Download complete\n0da9fbf60d48: Verifying Checksum\n0da9fbf60d48: Download complete\n04dccde934cf: Verifying Checksum\n04dccde934cf: Download complete\n73269890f6fd: Download complete\n76b8ef87096f: Pull complete\n2e2bafe8a0f4: Pull complete\n7a803dc0b40f: Verifying Checksum\n7a803dc0b40f: Download complete\nb53ce1fd2746: Pull complete\n84a8c1bd5887: Pull complete\n7a803dc0b40f: Pull complete\nb800e94e7303: Pull complete\n0da9fbf60d48: Pull complete\n04dccde934cf: Pull complete\n73269890f6fd: Pull complete\nDigest: sha256:59531d2835edd5161c8f9512f9e095b1836f7a1fcb0ab73e005ec46047384911\nStatus: Downloaded newer image for node:10\n ---> 28dca6642db8\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in 8f4680076726\nRemoving intermediate container 8f4680076726\n ---> a733394a6f53\nStep 3/7 : RUN mkdir cfg && mkdir bundles && mkdir logs && mkdir db\n ---> Running in 4ad1b931cddc\nRemoving intermediate container 4ad1b931cddc\n ---> 8cc0aca43182\nStep 4/7 : COPY . /usr/src/app/\n ---> 154f2ba20939\nStep 5/7 : RUN npm install --production\n ---> Running in 4914ac60bd98\n\u001b[91mnpm WARN deprecated puppeteer@8.0.0: < 18.1.0 is no longer supported\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated raven-js@3.27.2: Please upgrade to @sentry/browser. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated raven@2.6.4: Please upgrade to @sentry/node. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated sha1-file@1.0.4: Version 1.x or earlier is no longer supported.\n\u001b[0m\u001b[91mnpm WARN deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated node-fetch-npm@2.0.4: This module is not used anymore, npm uses minipass-fetch for its fetch implementation now\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-parser@3.0.0: This is a stub types definition. socket.io-parser provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/vfile-message@2.0.0: This is a stub types definition. vfile-message provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\n> @vaadin/vaadin-usage-statistics@2.1.2 postinstall /usr/src/app/node_modules/@vaadin/vaadin-usage-statistics\n> node check.cjs\n\n\n    Vaadin collects development time usage statistics to improve this product. To opt-out, either run:\n    npm explore @vaadin/vaadin-usage-statistics -- npm run disable\n    to store disable statistics for the machine, or add\n    \"vaadin\": { \"disableUsageStatistics\": true }\n    to the project package.json and re-run npm install to disable statistics for the project.\n\n    For more details, see https://github.com/vaadin/vaadin-usage-statistics\n  \n\u001b[91mnpm notice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm\u001b[0m\u001b[91m WARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for @vaadin/vaadin-usage-statistics@2.1.2: wanted: {\"node\":\"^12.20.0 || ^14.13.1 || >=16.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm\u001b[0m\u001b[91m WARN notsup\u001b[0m\u001b[91m Not compatible with your version of node/npm: @vaadin/vaadin-usage-statistics@2.1.2\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Unsupported engine for jsdoc@3.6.11: wanted: {\"node\":\">=12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m notsup Not compatible with your version of node/npm: jsdoc@3.6.11\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/glob-watcher/node_modules/chokidar/node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for marked@4.2.5: wanted: {\"node\":\">= 12\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: marked@4.2.5\n\u001b[0m\u001b[91m\n\u001b[0madded 522 packages from 360 contributors and audited 1974 packages in 1224.631s\n\n45 packages are looking for funding\n  run `npm fund` for details\n\nfound 22 vulnerabilities (6 moderate, 12 high, 4 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 4914ac60bd98\n ---> f991bf83aed7\nStep 6/7 : EXPOSE 9090\n ---> Running in 4a71806175be\nRemoving intermediate container 4a71806175be\n ---> 3b3a86e709bf\nStep 7/7 : CMD [\"node\", \"index.js\"]\n ---> Running in d8d937d485f4\nRemoving intermediate container d8d937d485f4\n ---> 9fc5d1f3040a\nSuccessfully built 9fc5d1f3040a\nSuccessfully tagged nodecg:latest\n","stderr":"","imageSize":1054827751},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:10\n\nWORKDIR /usr/src/app\n\n# Copy NodeCG (just the files we need)\nRUN mkdir cfg && mkdir bundles && mkdir logs && mkdir db\nCOPY . /usr/src/app/\n\n# Install dependencies\nRUN npm install --production\n\n# The command to run\nEXPOSE 9090\nCMD [\"node\", \"index.js\"]\n"},"repairedBuild":{"startTimestamp":1672402699700,"endTimestamp":1672403936531,"error":null,"stdout":"Sending build context to Docker daemon  1.001MB\r\r\nStep 1/7 : FROM node:10\n ---> 28dca6642db8\nStep 2/7 : WORKDIR /usr/src/app\n ---> Running in a21ac6e9bcc1\nRemoving intermediate container a21ac6e9bcc1\n ---> ab1c848331b1\nStep 3/7 : RUN mkdir cfg && mkdir bundles && mkdir logs && mkdir db\n ---> Running in b3948639cfe6\nRemoving intermediate container b3948639cfe6\n ---> e2275f7078ef\nStep 4/7 : COPY . /usr/src/app/\n ---> 07742d239367\nStep 5/7 : RUN npm install --production\n ---> Running in 5248a989becd\n\u001b[91mnpm WARN deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\n\u001b[0m\u001b[91mnpm WARN deprecated puppeteer@8.0.0: < 18.1.0 is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated multer@1.4.4: Multer 1.x is affected by CVE-2022-24434. This is fixed in v1.4.4-lts.1 which drops support for versions of Node.js before 6. Please upgrade to at least Node.js 6 and version 1.4.4-lts.1 of Multer. If you need support for older versions of Node.js, we are open to accepting patches that would fix the CVE on the main 1.x release line, whilst maintaining compatibility with Node.js 0.10.\n\u001b[0m\u001b[91mnpm WARN deprecated raven@2.6.4: Please upgrade to @sentry/node. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated sha1-file@1.0.4: Version 1.x or earlier is no longer supported.\n\u001b[0m\u001b[91mnpm WARN deprecated raven-js@3.27.2: Please upgrade to @sentry/browser. See the migration guide https://bit.ly/3ybOlo7\n\u001b[0m\u001b[91mnpm WARN deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json\n\u001b[0m\u001b[91mnpm WARN deprecated node-fetch-npm@2.0.4: This module is not used anymore, npm uses minipass-fetch for its fetch implementation now\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-parser@3.0.0: This is a stub types definition. socket.io-parser provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\u001b[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/vfile-message@2.0.0: This is a stub types definition. vfile-message provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\n> @vaadin/vaadin-usage-statistics@2.1.2 postinstall /usr/src/app/node_modules/@vaadin/vaadin-usage-statistics\n> node check.cjs\n\n\n    Vaadin collects development time usage statistics to improve this product. To opt-out, either run:\n    npm explore @vaadin/vaadin-usage-statistics -- npm run disable\n    to store disable statistics for the machine, or add\n    \"vaadin\": { \"disableUsageStatistics\": true }\n    to the project package.json and re-run npm install to disable statistics for the project.\n\n    For more details, see https://github.com/vaadin/vaadin-usage-statistics\n  \n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm \u001b[0m\u001b[91mWARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for @vaadin/vaadin-usage-statistics@2.1.2: wanted: {\"node\":\"^12.20.0 || ^14.13.1 || >=16.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: @vaadin/vaadin-usage-statistics@2.1.2\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91moptional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for jsdoc@3.6.11: wanted: {\"node\":\">=12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: jsdoc@3.6.11\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/glob-watcher/node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for marked@4.2.5: wanted: {\"node\":\">= 12\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: marked@4.2.5\n\u001b[0m\u001b[91m\n\u001b[0madded 522 packages from 360 contributors and audited 1974 packages in 1223.503s\n\n45 packages are looking for funding\n  run `npm fund` for details\n\nfound 22 vulnerabilities (6 moderate, 12 high, 4 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 5248a989becd\n ---> 7e6a92a947cb\nStep 6/7 : EXPOSE 9090\n ---> Running in 72ee3d09abfb\nRemoving intermediate container 72ee3d09abfb\n ---> 36b7dc7968a4\nStep 7/7 : CMD [\"node\", \"index.js\"]\n ---> Running in 747441de0a9e\nRemoving intermediate container 747441de0a9e\n ---> 3f8168f09435\nSuccessfully built 3f8168f09435\nSuccessfully tagged nodecg:latest\n","stderr":"","imageSize":1054829369},"endTime":1672403937116}