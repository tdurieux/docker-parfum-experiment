{"repository":"https://github.com/mozilla-services/tuxedo","dockerfilePath":"Dockerfile","startTime":1673010848828,"endTime":1673010999237,"clone":{"startTime":1673010848829,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/mozilla-services/tuxedo'...\n","error":null,"endTime":1673010849940,"commit":"69065d7bc56d7b7b4c3107a25db9c3a7f5700d7b"},"originalBuild":{"startTime":1673010850018,"endTime":1673010999160,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t tuxedo:latest -f /tmp/dinghy-analysis/mozilla-services/tuxedo/Dockerfile ."},"stdout":"Sending build context to Docker daemon  457.7kB\r\r\nStep 1/9 : FROM python:2.7\n ---> 68e7be49c28c\nStep 2/9 : RUN mkdir -p /app\n ---> Running in d089cd018747\nRemoving intermediate container d089cd018747\n ---> ace0bed0687c\nStep 3/9 : COPY . /app/tuxedo/tuxedo\n ---> 2a11d423e4c8\nStep 4/9 : COPY version.json /app/version.json\n ---> 111151a56554\nStep 5/9 : WORKDIR /app/tuxedo/tuxedo\n ---> Running in c6b9e0f9e172\nRemoving intermediate container c6b9e0f9e172\n ---> 107319be462c\nStep 6/9 : RUN     apt-get update &&     apt-get install -y -qq python-mysqldb &&     pip install -r requirements.txt &&     pip install gunicorn==19.6.0 &&     cp wsgi/tuxedo.wsgi wsgirunner.py\n ---> Running in 8ad42a5b6991\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [422 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8553 kB in 2s (4228 kB/s)\nReading package lists...\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mSelecting previously unselected package python-mysqldb.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 24538 files and directories currently installed.)\r\nPreparing to unpack .../python-mysqldb_1.3.10-2_amd64.deb ...\r\nUnpacking python-mysqldb (1.3.10-2) ...\r\nSetting up python-mysqldb (1.3.10-2) ...\r\n\u001b[91mDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\n\u001b[0mCollecting Django==1.4.1\n  Downloading Django-1.4.1.tar.gz (7.7 MB)\nCollecting MySQL-python==1.2.3c1\n  Downloading MySQL-python-1.2.3c1.tar.gz (89 kB)\nCollecting ipaddr==2.1.11\n  Downloading ipaddr-2.1.11.tar.gz (29 kB)\nCollecting Markdown==2.0.3\n  Downloading Markdown-2.0.3.tar.gz (71 kB)\nCollecting South==0.7.6\n  Downloading South-0.7.6.tar.gz (91 kB)\nCollecting python-memcached==1.48\n  Downloading python-memcached-1.48.tar.gz (40 kB)\nCollecting requests==2.21.0\n  Downloading requests-2.21.0-py2.py3-none-any.whl (57 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2021.10.8-py2.py3-none-any.whl (149 kB)\nCollecting urllib3<1.25,>=1.21.1\n  Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)\nCollecting chardet<3.1.0,>=3.0.2\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\nCollecting idna<2.9,>=2.5\n  Downloading idna-2.8-py2.py3-none-any.whl (58 kB)\nBuilding wheels for collected packages: Django, MySQL-python, ipaddr, Markdown, South, python-memcached\n  Building wheel for Django (setup.py): started\n  Building wheel for Django (setup.py): finished with status 'done'\n  Created wheel for Django: filename=Django-1.4.1-py2-none-any.whl size=8014690 sha256=f797cfc3d139e5f1cdd62dac73ae19047deefee9bcb0eaf58a7b74a0c379faab\n  Stored in directory: /root/.cache/pip/wheels/2b/ed/12/0a4a886c164971f0ebb802b8b2ba4b83e548a90ef772911417\n  Building wheel for MySQL-python (setup.py): started\n  Building wheel for MySQL-python (setup.py): finished with status 'error'\n\u001b[91m  ERROR: Command errored out with exit status 1:\n   command: /usr/local/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-rRvcKt/MySQL-python/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-rRvcKt/MySQL-python/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-jsNaIz\n       cwd: /tmp/pip-install-rRvcKt/MySQL-python/\n  Complete output (40 lines):\n  /usr/local/lib/python2.7/site-packages/setuptools/dist.py:476: UserWarning: Normalizing '1.2.3c1' to '1.2.3rc1'\n    normalized_version,\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-2.7\n  copying _mysql_exceptions.py -> build/lib.linux-x86_64-2.7\n  creating build/lib.linux-x86_64-2.7/MySQLdb\n  copying MySQLdb/__init__.py -> build/lib.linux-x86_64-2.7/MySQLdb\n  copying MySQLdb/converters.py -> build/lib.linux-x86_64-2.7/MySQLdb\n  copying MySQLdb/connections.py -> build/lib.linux-x86_64-2.7/MySQLdb\n  copying MySQLdb/cursors.py -> build/lib.linux-x86_64-2.7/MySQLdb\n  copying MySQLdb/release.py -> build/lib.linux-x86_64-2.7/MySQLdb\n  copying MySQLdb/times.py -> build/lib.linux-x86_64-2.7/MySQLdb\n  creating build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/__init__.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/CR.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/FIELD_TYPE.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/ER.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/FLAG.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/REFRESH.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  copying MySQLdb/constants/CLIENT.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n  running build_ext\n  building '_mysql' extension\n  creating build/temp.linux-x86_64-2.7\n  gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Dversion_info=(1,2,3,'gamma',1) -D__version__=1.2.3c1 -I/usr/include/mariadb -I/usr/include/mariadb/mysql -I/usr/local/include/python2.7 -c _mysql.c -o build/temp.linux-x86_64-2.7/_mysql.o\n  In file included from _mysql.c:36:\n  /usr/include/mariadb/my_config.h:3:2: warning: #warning This file should not be included by clients, include only <mysql.h> [-Wcpp]\n   #warning This file should not be included by clients, include only <mysql.h>\n    ^~~~~~~\n  In file included from _mysql.c:38:\n  /usr/include/mariadb/mysql.h:444:3: warning: function declaration isn’t a prototype [-Wstrict-prototypes]\n     MYSQL_CLIENT_PLUGIN_HEADER\n     ^~~~~~~~~~~~~~~~~~~~~~~~~~\n  _mysql.c: In function ‘_mysql_ConnectionObject_ping’:\n  _mysql.c:1803:41: error: ‘MYSQL’ {aka ‘struct st_mysql’} has no member named ‘reconnect’\n    if ( reconnect != -1 ) self->connection.reconnect = reconnect;\n                                           ^\n  error: command 'gcc' failed with exit status 1\n  ----------------------------------------\n\u001b[0m\u001b[91m  ERROR: Failed building wheel for MySQL-python\n\u001b[0m  Running setup.py clean for MySQL-python\n  Building wheel for ipaddr (setup.py): started\n  Building wheel for ipaddr (setup.py): finished with status 'done'\n  Created wheel for ipaddr: filename=ipaddr-2.1.11-py2-none-any.whl size=17803 sha256=e2f0455ab25f743f5d27565b22576d8b3ad08ae451913c98034eb5cba104e2ce\n  Stored in directory: /root/.cache/pip/wheels/27/9d/ce/3e495861e626f7222ef5316e8b59b519c11e37aa78ab4ecabd\n  Building wheel for Markdown (setup.py): started\n  Building wheel for Markdown (setup.py): finished with status 'done'\n  Created wheel for Markdown: filename=Markdown-2.0.3-py2-none-any.whl size=56729 sha256=91a42dd74d0f22f5cdc4d4a14a2486e0614c83fd088b690a65e07875e67ae299\n  Stored in directory: /root/.cache/pip/wheels/85/d2/82/5e9327c3f4fc1f13dd568b9adc6654a62ed3d77738e3a71ca9\n  Building wheel for South (setup.py): started\n  Building wheel for South (setup.py): finished with status 'done'\n  Created wheel for South: filename=South-0.7.6-py2-none-any.whl size=127544 sha256=1d848461b3594ebde160ce78b68d9c818a299cacd7737b7e7869d3e8634f07b7\n  Stored in directory: /root/.cache/pip/wheels/4e/4a/eb/040125b67209cb49d516d2797053aa31e0c37cd722c5093c78\n  Building wheel for python-memcached (setup.py): started\n  Building wheel for python-memcached (setup.py): finished with status 'done'\n  Created wheel for python-memcached: filename=python_memcached-1.48-py2-none-any.whl size=13496 sha256=bee159b490c385cffbb805ee30388e771b801dd0872ce306f7eba961ed122780\n  Stored in directory: /root/.cache/pip/wheels/86/91/0a/554226db0d9ba3c0b8db37b5c82ac1a846a3595c1300faac2b\nSuccessfully built Django ipaddr Markdown South python-memcached\nFailed to build MySQL-python\nInstalling collected packages: Django, MySQL-python, ipaddr, Markdown, South, python-memcached, certifi, urllib3, chardet, idna, requests\n    Running setup.py install for MySQL-python: started\n    Running setup.py install for MySQL-python: finished with status 'error'\n\u001b[91m    ERROR: Command errored out with exit status 1:\n     command: /usr/local/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-rRvcKt/MySQL-python/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-rRvcKt/MySQL-python/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-PEMGEM/install-record.txt --single-version-externally-managed --compile --install-headers /usr/local/include/python2.7/MySQL-python\n         cwd: /tmp/pip-install-rRvcKt/MySQL-python/\n    Complete output (40 lines):\n    /usr/local/lib/python2.7/site-packages/setuptools/dist.py:476: UserWarning: Normalizing '1.2.3c1' to '1.2.3rc1'\n      normalized_version,\n    running install\n    running build\n    running build_py\n    creating build\n    creating build/lib.linux-x86_64-2.7\n    copying _mysql_exceptions.py -> build/lib.linux-x86_64-2.7\n    creating build/lib.linux-x86_64-2.7/MySQLdb\n    copying MySQLdb/__init__.py -> build/lib.linux-x86_64-2.7/MySQLdb\n    copying MySQLdb/converters.py -> build/lib.linux-x86_64-2.7/MySQLdb\n    copying MySQLdb/connections.py -> build/lib.linux-x86_64-2.7/MySQLdb\n    copying MySQLdb/cursors.py -> build/lib.linux-x86_64-2.7/MySQLdb\n    copying MySQLdb/release.py -> build/lib.linux-x86_64-2.7/MySQLdb\n    copying MySQLdb/times.py -> build/lib.linux-x86_64-2.7/MySQLdb\n    creating build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/__init__.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/CR.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/FIELD_TYPE.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/ER.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/FLAG.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/REFRESH.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    copying MySQLdb/constants/CLIENT.py -> build/lib.linux-x86_64-2.7/MySQLdb/constants\n    running build_ext\n    building '_mysql' extension\n    creating build/temp.linux-x86_64-2.7\n    gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Dversion_info=(1,2,3,'gamma',1) -D__version__=1.2.3c1 -I/usr/include/mariadb -I/usr/include/mariadb/mysql -I/usr/local/include/python2.7 -c _mysql.c -o build/temp.linux-x86_64-2.7/_mysql.o\n    In file included from _mysql.c:36:\n    /usr/include/mariadb/my_config.h:3:2: warning: #warning This file should not be included by clients, include only <mysql.h> [-Wcpp]\n     #warning This file should not be included by clients, include only <mysql.h>\n      ^~~~~~~\n    In file included from _mysql.c:38:\n    /usr/include/mariadb/mysql.h:444:3: warning: function declaration isn’t a prototype [-Wstrict-prototypes]\n       MYSQL_CLIENT_PLUGIN_HEADER\n       ^~~~~~~~~~~~~~~~~~~~~~~~~~\n    _mysql.c: In function ‘_mysql_ConnectionObject_ping’:\n    _mysql.c:1803:41: error: ‘MYSQL’ {aka ‘struct st_mysql’} has no member named ‘reconnect’\n      if ( reconnect != -1 ) self->connection.reconnect = reconnect;\n                                             ^\n    error: command 'gcc' failed with exit status 1\n    ----------------------------------------\n\u001b[0m\u001b[91mERROR: Command errored out with exit status 1: /usr/local/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-rRvcKt/MySQL-python/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-rRvcKt/MySQL-python/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-PEMGEM/install-record.txt --single-version-externally-managed --compile --install-headers /usr/local/include/python2.7/MySQL-python Check the logs for full command output.\n\u001b[0m\u001b[91mWARNING: You are using pip version 20.0.2; however, version 20.3.4 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 8ad42a5b6991\n","stderr":"The command '/bin/sh -c apt-get update &&     apt-get install -y -qq python-mysqldb &&     pip install -r requirements.txt &&     pip install gunicorn==19.6.0 &&     cp wsgi/tuxedo.wsgi wsgirunner.py' returned a non-zero code: 1\n"}}