{"repository":"https://github.com/tucsky/aggr-server","dockerfilePath":"Dockerfile","startTime":1672938843836,"endTime":1672938874265,"clone":{"startTime":1672938843837,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tucsky/aggr-server'...\n","error":null,"endTime":1672938844659,"commit":"7016d7bbc96788d13f265155938afc6867c344a7"},"originalBuild":{"startTime":1672938844724,"endTime":1672938863992,"error":null,"stdout":"Sending build context to Docker daemon  309.8kB\r\r\nStep 1/22 : FROM  mhart/alpine-node:12.1 as builder\n12.1: Pulling from mhart/alpine-node\nbdf0201b3a05: Pulling fs layer\nee21a26f553a: Pulling fs layer\nbdf0201b3a05: Verifying Checksum\nbdf0201b3a05: Download complete\nbdf0201b3a05: Pull complete\nee21a26f553a: Verifying Checksum\nee21a26f553a: Download complete\nee21a26f553a: Pull complete\nDigest: sha256:24b1e607866d9bacd20ec144566be7a6c8f86e08d93195caa55f676d94767853\nStatus: Downloaded newer image for mhart/alpine-node:12.1\n ---> ae615779cb41\nStep 2/22 : COPY  package*.json /\n ---> a5934552b568\nStep 3/22 : RUN   set ex && npm install --production\n ---> Running in 0e8d91240576\n\u001b[91mnpm WARN aggr-server@1.0.2 No description\n\u001b[0m\u001b[91m\n\u001b[0madded 103 packages from 75 contributors and audited 103 packages in 1.824s\nfound 10 vulnerabilities (3 moderate, 6 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 0e8d91240576\n ---> 0ddfe436e3ef\nStep 4/22 : FROM  mhart/alpine-node:slim-12.1\nslim-12.1: Pulling from mhart/alpine-node\nbdf0201b3a05: Already exists\n8430cf7d29f8: Pulling fs layer\nb94c9792ed67: Pulling fs layer\nb94c9792ed67: Verifying Checksum\nb94c9792ed67: Download complete\n8430cf7d29f8: Verifying Checksum\n8430cf7d29f8: Download complete\n8430cf7d29f8: Pull complete\nb94c9792ed67: Pull complete\nDigest: sha256:666c8108f697635198f94265bc00f1648a8f84212bcebb9d80c02e6ab7e92744\nStatus: Downloaded newer image for mhart/alpine-node:slim-12.1\n ---> ca001177fc21\nStep 5/22 : ARG   WORKDIR\n ---> Running in a54691b5cc44\nRemoving intermediate container a54691b5cc44\n ---> 9d1fa76d239e\nStep 6/22 : ARG   PORT\n ---> Running in c5ec114998c3\nRemoving intermediate container c5ec114998c3\n ---> 5b4ff209ecd6\nStep 7/22 : ARG   FILES_LOCATION\n ---> Running in 591b74a700f6\nRemoving intermediate container 591b74a700f6\n ---> b72c6327b23e\nStep 8/22 : ARG   INFLUX_URL\n ---> Running in 004a4dc494c0\nRemoving intermediate container 004a4dc494c0\n ---> d136517fed6d\nStep 9/22 : ARG   STORAGE\n ---> Running in f4fcb470c9b3\nRemoving intermediate container f4fcb470c9b3\n ---> 649eabe2f37e\nStep 10/22 : ENV   PORT $PORT\n ---> Running in 8d12c539ab04\nRemoving intermediate container 8d12c539ab04\n ---> 3bf07559baaa\nStep 11/22 : ENV   WORKDIR $WORKDIR\n ---> Running in fe558d4234f3\nRemoving intermediate container fe558d4234f3\n ---> 3efb6613354d\nStep 12/22 : ENV   FILES_LOCATION $FILES_LOCATION\n ---> Running in ad029b9abfac\nRemoving intermediate container ad029b9abfac\n ---> b4b2570ebe30\nStep 13/22 : ENV   INFLUX_URL $INFLUX_URL\n ---> Running in e76edf4afeaa\nRemoving intermediate container e76edf4afeaa\n ---> b2535be31b7d\nStep 14/22 : ENV   STORAGE $STORAGE\n ---> Running in 9a2e7e718fdc\nRemoving intermediate container 9a2e7e718fdc\n ---> 76b61fd709e0\nStep 15/22 : WORKDIR /$WORKDIR\n ---> Running in 7a577999e956\nRemoving intermediate container 7a577999e956\n ---> e87a70e5c2e1\nStep 16/22 : RUN   apk add --no-cache tini\n ---> Running in de5544a8e1d3\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tini (0.18.0-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container de5544a8e1d3\n ---> 4930b414fe6c\nStep 17/22 : COPY  --from=builder /node_modules  ${WORKDIR}/node_modules\n ---> e9eefb7369e4\nStep 18/22 : COPY  src ${WORKDIR}/src\n ---> bbd1deff97d3\nStep 19/22 : COPY  index.js ${WORKDIR}\n ---> 6b0d83a865c5\nStep 20/22 : COPY  config.json.example ${WORKDIR}\n ---> 9a8492ebe1b4\nStep 21/22 : ENTRYPOINT [\"/sbin/tini\", \"--\"]\n ---> Running in a11bd59656b8\nRemoving intermediate container a11bd59656b8\n ---> ddeb16f46b1f\nStep 22/22 : CMD [\"/usr/bin/node\", \"index\"]\n ---> Running in 8d768cf76107\nRemoving intermediate container 8d768cf76107\n ---> 329c7de2bbf2\nSuccessfully built 329c7de2bbf2\nSuccessfully tagged aggr-server:latest\n","stderr":"","imageSize":49427771},"repair":{"startTime":1672938864034,"endTime":1672938864121,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":2,"end":2,"columnStart":16,"columnEnd":40}}],"repairedDockerfile":"FROM  mhart/alpine-node:12.1 as builder\nCOPY  package*.json /\nRUN set ex && npm install --production && npm cache clean --force;\n\nFROM  mhart/alpine-node:slim-12.1\n\nARG   WORKDIR\nARG   PORT\nARG   FILES_LOCATION\nARG   INFLUX_URL\nARG   STORAGE\n\nENV   PORT $PORT\nENV   WORKDIR $WORKDIR\nENV   FILES_LOCATION $FILES_LOCATION\nENV   INFLUX_URL $INFLUX_URL\nENV   STORAGE $STORAGE\n\nWORKDIR /$WORKDIR\n\nRUN   apk add --no-cache tini\n\nCOPY  --from=builder /node_modules  ${WORKDIR}/node_modules\nCOPY  src ${WORKDIR}/src\nCOPY  index.js ${WORKDIR}\nCOPY  config.json.example ${WORKDIR}\n\nENTRYPOINT [\"/sbin/tini\", \"--\"]\nCMD [\"/usr/bin/node\", \"index\"]"},"repairedBuild":{"startTime":1672938864299,"endTime":1672938874035,"error":null,"stdout":"Sending build context to Docker daemon  309.8kB\r\r\nStep 1/22 : FROM  mhart/alpine-node:12.1 as builder\n ---> ae615779cb41\nStep 2/22 : COPY  package*.json /\n ---> 0358f7388722\nStep 3/22 : RUN set ex && npm install --production && npm cache clean --force;\n ---> Running in 9113fb221919\n\u001b[91mnpm WARN aggr-server@1.0.2 No description\n\u001b[0m\u001b[91m\n\u001b[0madded 103 packages from 75 contributors and audited 103 packages in 1.374s\nfound 10 vulnerabilities (3 moderate, 6 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 9113fb221919\n ---> 30105aab5f5d\nStep 4/22 : FROM  mhart/alpine-node:slim-12.1\n ---> ca001177fc21\nStep 5/22 : ARG   WORKDIR\n ---> Running in 2cb9d68ba084\nRemoving intermediate container 2cb9d68ba084\n ---> e42438bdede5\nStep 6/22 : ARG   PORT\n ---> Running in b20c8d5a66c7\nRemoving intermediate container b20c8d5a66c7\n ---> 8aa8bce27b9b\nStep 7/22 : ARG   FILES_LOCATION\n ---> Running in 709526acc96d\nRemoving intermediate container 709526acc96d\n ---> 90d2dd7b0d56\nStep 8/22 : ARG   INFLUX_URL\n ---> Running in 65b6fc04134c\nRemoving intermediate container 65b6fc04134c\n ---> e1ea01b52bde\nStep 9/22 : ARG   STORAGE\n ---> Running in 84911bf61fb4\nRemoving intermediate container 84911bf61fb4\n ---> 6818eb08fcd6\nStep 10/22 : ENV   PORT $PORT\n ---> Running in be1247a01a16\nRemoving intermediate container be1247a01a16\n ---> e88b8764f7cb\nStep 11/22 : ENV   WORKDIR $WORKDIR\n ---> Running in 8f31b9e0af06\nRemoving intermediate container 8f31b9e0af06\n ---> e0b76ff3537f\nStep 12/22 : ENV   FILES_LOCATION $FILES_LOCATION\n ---> Running in 3f4108dfbb7f\nRemoving intermediate container 3f4108dfbb7f\n ---> 5e49672b7074\nStep 13/22 : ENV   INFLUX_URL $INFLUX_URL\n ---> Running in 7febddd83b96\nRemoving intermediate container 7febddd83b96\n ---> 41732074af22\nStep 14/22 : ENV   STORAGE $STORAGE\n ---> Running in 3b21390ab706\nRemoving intermediate container 3b21390ab706\n ---> 8f65934773dc\nStep 15/22 : WORKDIR /$WORKDIR\n ---> Running in 5d583697b23c\nRemoving intermediate container 5d583697b23c\n ---> 9f47c26138ab\nStep 16/22 : RUN   apk add --no-cache tini\n ---> Running in fb6f9951a556\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tini (0.18.0-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 6 MiB in 15 packages\nRemoving intermediate container fb6f9951a556\n ---> cac42d30f5bc\nStep 17/22 : COPY  --from=builder /node_modules  ${WORKDIR}/node_modules\n ---> 9e823077ae8c\nStep 18/22 : COPY  src ${WORKDIR}/src\n ---> b5b7e276684e\nStep 19/22 : COPY  index.js ${WORKDIR}\n ---> 6d6b7ba09ec0\nStep 20/22 : COPY  config.json.example ${WORKDIR}\n ---> 049ead41f26a\nStep 21/22 : ENTRYPOINT [\"/sbin/tini\", \"--\"]\n ---> Running in a682f3764126\nRemoving intermediate container a682f3764126\n ---> 8ff25513ff2b\nStep 22/22 : CMD [\"/usr/bin/node\", \"index\"]\n ---> Running in 056255ca5bca\nRemoving intermediate container 056255ca5bca\n ---> a482dfc3f7a5\nSuccessfully built a482dfc3f7a5\nSuccessfully tagged aggr-server:latest\n","stderr":"","imageSize":49427771}}