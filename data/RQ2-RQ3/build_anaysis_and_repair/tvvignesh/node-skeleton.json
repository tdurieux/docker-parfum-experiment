{"repository":"https://github.com/tvvignesh/node-skeleton","dockerfilePath":"Dockerfile","startTime":1673185674483,"endTime":1673185747556,"clone":{"startTime":1673185674484,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tvvignesh/node-skeleton'...\n","error":null,"endTime":1673185675431,"commit":"9aad006da48dd53bf0fdb2b19d65ac2c766122f8"},"originalBuild":{"startTime":1673185675517,"endTime":1673185712906,"error":null,"stdout":"Sending build context to Docker daemon  1.319MB\r\r\nStep 1/12 : ARG app_port\nStep 2/12 : ARG debug_port\nStep 3/12 : FROM node:12-alpine\n12-alpine: Pulling from library/node\nDigest: sha256:d4b15b3d48f42059a15bd659be60afe21762aae9d6cbea6f124440895c27db68\nStatus: Downloaded newer image for node:12-alpine\n ---> bb6d28039b8c\nStep 4/12 : RUN mkdir -p /app/server\n ---> Running in 5ca465ff2893\nRemoving intermediate container 5ca465ff2893\n ---> 961fcf88864d\nStep 5/12 : WORKDIR /app/server\n ---> Running in 04875d705aa9\nRemoving intermediate container 04875d705aa9\n ---> 695e96792e2f\nStep 6/12 : COPY . /app/server\n ---> 0e5eaf08f25b\nStep 7/12 : RUN npm install -g typescript nodemon\n ---> Running in 6b0bec194e91\n/usr/local/bin/nodemon -> /usr/local/lib/node_modules/nodemon/bin/nodemon.js\n/usr/local/bin/tsc -> /usr/local/lib/node_modules/typescript/bin/tsc\n/usr/local/bin/tsserver -> /usr/local/lib/node_modules/typescript/bin/tsserver\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/nodemon/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ nodemon@2.0.20\n+ typescript@4.9.4\nadded 33 packages from 29 contributors in 4.294s\nRemoving intermediate container 6b0bec194e91\n ---> 40dda6d67a2b\nStep 8/12 : RUN npm install\n ---> Running in 6c6d663d70fb\n\n> highlight.js@9.18.5 postinstall /app/server/node_modules/highlight.js\n> node deprecated.js\n\n\u001b[41m\u001b[37m-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\u001b[1m\u001b[37m\n  Verion 9 of Highlight.js has reached EOL.  It will no longer\n  be supported or receive security updates in the future.\n  Please upgrade to version 10 or encourage your indirect\n  dependencies to do so.\n\n  For more info:\n  \u001b[34m\n  https://github.com/highlightjs/highlight.js/issues/2877\n  https://github.com/highlightjs/highlight.js/blob/master/VERSION_10_UPGRADE.md\n \u001b[41m\u001b[37m\n-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\n> nodemon@2.0.3 postinstall /app/server/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 609 packages from 714 contributors and audited 612 packages in 8.441s\n\n29 packages are looking for funding\n  run `npm fund` for details\n\nfound 64 vulnerabilities (19 moderate, 39 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 6c6d663d70fb\n ---> ebed3d6ce91d\nStep 9/12 : RUN npm run-script build\n ---> Running in 072b02f0f35c\n\n> node-skeleton@1.0.0 build /app/server\n> npx tsc && npx copyfiles -u 1 -e \"src/**/*.ts\" \"src/**/*.*\" dist/\n\nRemoving intermediate container 072b02f0f35c\n ---> 29f6594a544f\nStep 10/12 : EXPOSE $app_port\n ---> Running in 343465952a0c\nRemoving intermediate container 343465952a0c\n ---> 61daea7e2b9d\nStep 11/12 : EXPOSE $debug_port\n ---> Running in a19a5d01bec7\nRemoving intermediate container a19a5d01bec7\n ---> e8fc984fe358\nStep 12/12 : CMD [ \"npm\", \"start\" ]\n ---> Running in abf1defc4382\nRemoving intermediate container abf1defc4382\n ---> 2bf59e61f286\nSuccessfully built 2bf59e61f286\nSuccessfully tagged node-skeleton:latest\n","stderr":"","imageSize":326670438},"repair":{"startTime":1673185712972,"endTime":1673185713048,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":37}},{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"ARG app_port\nARG debug_port\n# ARG app_db\n\nFROM node:12-alpine\n# ENV NODE_ENV $app_env\n# ENV MONGO_HOST $app_db\n# ENV NODEJS_IP \"0.0.0.0\"\nRUN mkdir -p /app/server\nWORKDIR /app/server\nCOPY . /app/server\nRUN npm install -g typescript nodemon && npm cache clean --force;\nRUN npm install && npm cache clean --force;\nRUN npm run-script build\nEXPOSE $app_port\nEXPOSE $debug_port\nCMD [ \"npm\", \"start\" ]\n"},"repairedBuild":{"startTime":1673185713469,"endTime":1673185747116,"error":null,"stdout":"Sending build context to Docker daemon  1.319MB\r\r\nStep 1/12 : ARG app_port\nStep 2/12 : ARG debug_port\nStep 3/12 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 4/12 : RUN mkdir -p /app/server\n ---> Running in 6eeec1bccdcb\nRemoving intermediate container 6eeec1bccdcb\n ---> d3e752deb539\nStep 5/12 : WORKDIR /app/server\n ---> Running in 203043e1ca8c\nRemoving intermediate container 203043e1ca8c\n ---> 28c6d93dc934\nStep 6/12 : COPY . /app/server\n ---> 216afe1699bf\nStep 7/12 : RUN npm install -g typescript nodemon && npm cache clean --force;\n ---> Running in 72a39c6e1d42\n/usr/local/bin/nodemon -> /usr/local/lib/node_modules/nodemon/bin/nodemon.js\n/usr/local/bin/tsc -> /usr/local/lib/node_modules/typescript/bin/tsc\n/usr/local/bin/tsserver -> /usr/local/lib/node_modules/typescript/bin/tsserver\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/nodemon/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ nodemon@2.0.20\n+ typescript@4.9.4\nadded 33 packages from 29 contributors in 3.32s\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 72a39c6e1d42\n ---> 3588f73bfd63\nStep 8/12 : RUN npm install && npm cache clean --force;\n ---> Running in aa0f2a55d958\n\n> highlight.js@9.18.5 postinstall /app/server/node_modules/highlight.js\n> node deprecated.js\n\n\u001b[41m\u001b[37m-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\u001b[1m\u001b[37m\n  Verion 9 of Highlight.js has reached EOL.  It will no longer\n  be supported or receive security updates in the future.\n  Please upgrade to version 10 or encourage your indirect\n  dependencies to do so.\n\n  For more info:\n  \u001b[34m\n  https://github.com/highlightjs/highlight.js/issues/2877\n  https://github.com/highlightjs/highlight.js/blob/master/VERSION_10_UPGRADE.md\n \u001b[41m\u001b[37m\n-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\n> nodemon@2.0.3 postinstall /app/server/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 609 packages from 714 contributors and audited 612 packages in 8.366s\n\n29 packages are looking for funding\n  run `npm fund` for details\n\nfound 64 vulnerabilities (19 moderate, 39 high, 6 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm WARN using --force\u001b[0m\u001b[91m I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container aa0f2a55d958\n ---> 94633d093c18\nStep 9/12 : RUN npm run-script build\n ---> Running in 1363985bd36f\n\n> node-skeleton@1.0.0 build /app/server\n> npx tsc && npx copyfiles -u 1 -e \"src/**/*.ts\" \"src/**/*.*\" dist/\n\nRemoving intermediate container 1363985bd36f\n ---> 4c23160924ab\nStep 10/12 : EXPOSE $app_port\n ---> Running in 88e3c0fc58e6\nRemoving intermediate container 88e3c0fc58e6\n ---> 8cb38ce39183\nStep 11/12 : EXPOSE $debug_port\n ---> Running in 6c3c6de360cb\nRemoving intermediate container 6c3c6de360cb\n ---> cbe3705d4b12\nStep 12/12 : CMD [ \"npm\", \"start\" ]\n ---> Running in 875d7ba2e675\nRemoving intermediate container 875d7ba2e675\n ---> 8b07f3771c91\nSuccessfully built 8b07f3771c91\nSuccessfully tagged node-skeleton:latest\n","stderr":"","imageSize":280947808}}