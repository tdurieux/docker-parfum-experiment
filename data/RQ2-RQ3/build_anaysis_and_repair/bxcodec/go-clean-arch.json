{"repository":"https://github.com/bxcodec/go-clean-arch","dockerfilePath":"Dockerfile","startTime":1672844264855,"endTime":1672844519322,"clone":{"startTime":1672844264855,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/bxcodec/go-clean-arch'...\n","error":null,"endTime":1672844265610,"commit":"d5d2bac0a4405ae2b651def6642c138794a6d42a"},"originalBuild":{"startTime":1672844265691,"endTime":1672844349773,"error":null,"stdout":"Sending build context to Docker daemon  398.3kB\r\r\nStep 1/11 : FROM golang:1.19.4-alpine3.17 as builder\n1.19.4-alpine3.17: Pulling from library/golang\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19.4-alpine3.17\n ---> cae57157ceaa\nStep 2/11 : RUN apk update && apk upgrade &&     apk --update add git make bash build-base\n ---> Running in 002518e5dd68\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\n(1/4) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/4) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/4) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(4/4) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\n(1/30) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/30) Installing ncurses-libs (6.3_p20221119-r0)\n(3/30) Installing readline (8.2.0-r0)\n(4/30) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/30) Installing libgcc (12.2.1_git20220924-r4)\n(6/30) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/30) Installing binutils (2.39-r2)\n(8/30) Installing libmagic (5.43-r0)\n(9/30) Installing file (5.43-r0)\n(10/30) Installing libgomp (12.2.1_git20220924-r4)\n(11/30) Installing libatomic (12.2.1_git20220924-r4)\n(12/30) Installing gmp (6.2.1-r2)\n(13/30) Installing isl25 (0.25-r0)\n(14/30) Installing mpfr4 (4.1.0-r0)\n(15/30) Installing mpc1 (1.2.1-r1)\n(16/30) Installing gcc (12.2.1_git20220924-r4)\n(17/30) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(18/30) Installing musl-dev (1.2.3-r4)\n(19/30) Installing libc-dev (0.7.2-r3)\n(20/30) Installing g++ (12.2.1_git20220924-r4)\n(21/30) Installing make (4.3-r1)\n(22/30) Installing fortify-headers (1.1-r1)\n(23/30) Installing patch (2.7.6-r8)\n(24/30) Installing build-base (0.5-r3)\n(25/30) Installing brotli-libs (1.0.9-r9)\n(26/30) Installing nghttp2-libs (1.51.0-r0)\n(27/30) Installing libcurl (7.87.0-r0)\n(28/30) Installing libexpat (2.5.0-r0)\n(29/30) Installing pcre2 (10.42-r0)\n(30/30) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 255 MiB in 46 packages\nRemoving intermediate container 002518e5dd68\n ---> bf2d839e52e5\nStep 3/11 : WORKDIR /app\n ---> Running in 33c21454d595\nRemoving intermediate container 33c21454d595\n ---> 01216fbd92a6\nStep 4/11 : COPY . .\n ---> 3ccffc1132ae\nStep 5/11 : RUN make build\n ---> Running in 5b317feefb48\nBuilding aplication... \u001b[91mgo: downloading github.com/spf13/viper v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/echo v3.3.5+incompatible\n\u001b[0m\u001b[91mgo: downloading gopkg.in/go-playground/validator.v9 v9.15.0\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.0.5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20181108010431-42b317875d0f\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.7.6\ngo: downloading github.com/fsnotify/fsnotify v1.4.7\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.1.0\ngo: downloading github.com/pelletier/go-toml v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v0.0.0-20180220230111-00c29f56e238\ngo: downloading github.com/hashicorp/hcl v0.0.0-20180404174102-ef8a98b0bbce\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v0.0.0-20180109140146-7c0cea34c8ec\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20180909124046-d0be0721c37e\n\u001b[0m\u001b[91mgo: downloading golang.org/x/crypto v0.0.0-20180426230345-b49d69b5da94\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.16.0\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/gommon v0.0.0-20180426014445-588f4e8bddc6\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v0.0.0-20170224212429-dcecefd839c4\ngo: downloading github.com/mattn/go-colorable v0.0.9\ngo: downloading github.com/mattn/go-isatty v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0mdone\nRemoving intermediate container 5b317feefb48\n ---> 742746bf66ed\nStep 6/11 : FROM alpine:latest\n ---> 49176f190c7e\nStep 7/11 : RUN apk update && apk upgrade &&     apk --update --no-cache add tzdata &&     mkdir /app\n ---> Running in 48b70eb30c4d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\n(1/3) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/3) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/3) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\nOK: 7 MiB in 15 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nOK: 10 MiB in 16 packages\nRemoving intermediate container 48b70eb30c4d\n ---> 13249bc7d8e8\nStep 8/11 : WORKDIR /app\n ---> Running in 5dd664caf9cf\nRemoving intermediate container 5dd664caf9cf\n ---> 915949290172\nStep 9/11 : EXPOSE 9090\n ---> Running in eea562a8e539\nRemoving intermediate container eea562a8e539\n ---> 8034edde769d\nStep 10/11 : COPY --from=builder /app/engine /app/\n ---> e234fd92ddef\nStep 11/11 : CMD /app/engine\n ---> Running in eb809904d89c\nRemoving intermediate container eb809904d89c\n ---> 6d71d0f8b575\nSuccessfully built 6d71d0f8b575\nSuccessfully tagged go-clean-arch:latest\n","stderr":"","imageSize":25221267},"repair":{"startTime":1672844349833,"endTime":1672844349899,"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":45}}],"repairedDockerfile":"# Builder\nFROM golang:1.19.4-alpine3.17 as builder\n\nRUN apk update && apk upgrade && \\\n    apk --update --no-cache add git make bash build-base\n\nWORKDIR /app\n\nCOPY . .\n\nRUN make build\n\n# Distribution\nFROM alpine:latest\n\nRUN apk update && apk upgrade && \\\n    apk --update --no-cache add tzdata && \\\n    mkdir /app\n\nWORKDIR /app\n\nEXPOSE 9090\n\nCOPY --from=builder /app/engine /app/\n\nCMD /app/engine"},"repairedBuild":{"startTime":1672844350278,"endTime":1672844519044,"error":null,"stdout":"Sending build context to Docker daemon  398.3kB\r\r\nStep 1/11 : FROM golang:1.19.4-alpine3.17 as builder\n ---> cae57157ceaa\nStep 2/11 : RUN apk update && apk upgrade &&     apk --update --no-cache add git make bash build-base\n ---> Running in 0c9b6643dad4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\n(1/4) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/4) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/4) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(4/4) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/30) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/30) Installing ncurses-libs (6.3_p20221119-r0)\n(3/30) Installing readline (8.2.0-r0)\n(4/30) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/30) Installing libgcc (12.2.1_git20220924-r4)\n(6/30) Installing libstdc++ (12.2.1_git20220924-r4)\n(7/30) Installing binutils (2.39-r2)\n(8/30) Installing libmagic (5.43-r0)\n(9/30) Installing file (5.43-r0)\n(10/30) Installing libgomp (12.2.1_git20220924-r4)\n(11/30) Installing libatomic (12.2.1_git20220924-r4)\n(12/30) Installing gmp (6.2.1-r2)\n(13/30) Installing isl25 (0.25-r0)\n(14/30) Installing mpfr4 (4.1.0-r0)\n(15/30) Installing mpc1 (1.2.1-r1)\n(16/30) Installing gcc (12.2.1_git20220924-r4)\n(17/30) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(18/30) Installing musl-dev (1.2.3-r4)\n(19/30) Installing libc-dev (0.7.2-r3)\n(20/30) Installing g++ (12.2.1_git20220924-r4)\n(21/30) Installing make (4.3-r1)\n(22/30) Installing fortify-headers (1.1-r1)\n(23/30) Installing patch (2.7.6-r8)\n(24/30) Installing build-base (0.5-r3)\n(25/30) Installing brotli-libs (1.0.9-r9)\n(26/30) Installing nghttp2-libs (1.51.0-r0)\n(27/30) Installing libcurl (7.87.0-r0)\n(28/30) Installing libexpat (2.5.0-r0)\n(29/30) Installing pcre2 (10.42-r0)\n(30/30) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 255 MiB in 46 packages\nRemoving intermediate container 0c9b6643dad4\n ---> 5a5422a8a8cd\nStep 3/11 : WORKDIR /app\n ---> Running in fabbcaa89e12\nRemoving intermediate container fabbcaa89e12\n ---> 7f4c425ed62a\nStep 4/11 : COPY . .\n ---> daa813c4b4f9\nStep 5/11 : RUN make build\n ---> Running in 9b7e3150bf75\nBuilding aplication... \u001b[91mgo: downloading github.com/labstack/echo v3.3.5+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-sql-driver/mysql v1.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.0.2\n\u001b[0m\u001b[91mgo: downloading github.com/sirupsen/logrus v1.0.5\n\u001b[0m\u001b[91mgo: downloading gopkg.in/go-playground/validator.v9 v9.15.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.0.0-20181108010431-42b317875d0f\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cast v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/jwalterweatherman v0.0.0-20180109140146-7c0cea34c8ec\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/pflag v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.7.6\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v0.0.0-20180220230111-00c29f56e238\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.4.7\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/afero v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v0.0.0-20180404174102-ef8a98b0bbce\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/universal-translator v0.16.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20180909124046-d0be0721c37e\ngo: downloading golang.org/x/crypto v0.0.0-20180426230345-b49d69b5da94\n\u001b[0m\u001b[91mgo: downloading github.com/labstack/gommon v0.0.0-20180426014445-588f4e8bddc6\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-playground/locales v0.12.1\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/fasttemplate v0.0.0-20170224212429-dcecefd839c4\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.0.9\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-isatty v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/valyala/bytebufferpool v1.0.0\n\u001b[0mdone\nRemoving intermediate container 9b7e3150bf75\n ---> 6fe68f34a6b0\nStep 6/11 : FROM alpine:latest\n ---> 49176f190c7e\nStep 7/11 : RUN apk update && apk upgrade &&     apk --update --no-cache add tzdata &&     mkdir /app\n ---> Running in 7f088dae1b96\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\n(1/3) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/3) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/3) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\nOK: 7 MiB in 15 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nOK: 10 MiB in 16 packages\nRemoving intermediate container 7f088dae1b96\n ---> 8f9a682f0a49\nStep 8/11 : WORKDIR /app\n ---> Running in 659833d30010\nRemoving intermediate container 659833d30010\n ---> fa0a187d739a\nStep 9/11 : EXPOSE 9090\n ---> Running in 8589f1b2288f\nRemoving intermediate container 8589f1b2288f\n ---> cf996a01666f\nStep 10/11 : COPY --from=builder /app/engine /app/\n ---> 541cea09e687\nStep 11/11 : CMD /app/engine\n ---> Running in 31023d23ec9d\nRemoving intermediate container 31023d23ec9d\n ---> b52f474ce4ab\nSuccessfully built b52f474ce4ab\nSuccessfully tagged go-clean-arch:latest\n","stderr":"","imageSize":25221267}}