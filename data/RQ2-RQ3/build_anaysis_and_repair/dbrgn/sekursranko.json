{"repository":"https://github.com/dbrgn/sekursranko","dockerfilePath":"Dockerfile","startTime":1672784720824,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dbrgn/sekursranko'...\n","error":null,"commit":"353eca0f01a8a3e2ab1ef212dda578bdc6d0143b"},"originalBuild":{"startTimestamp":1672784721620,"endTimestamp":1672784815485,"error":null,"stdout":"Sending build context to Docker daemon  280.1kB\r\r\nStep 1/16 : FROM rust:1 AS builder\n1: Pulling from library/rust\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n5e868601ee3b: Pulling fs layer\n5e868601ee3b: Verifying Checksum\n5e868601ee3b: Download complete\n5e868601ee3b: Pull complete\nDigest: sha256:0067330b7e0eacacc5c32f21b720607c0cd61eda905c8d55e6a745f579ddeee9\nStatus: Downloaded newer image for rust:1\n ---> 5e0d0367026b\nStep 2/16 : RUN rustup target add x86_64-unknown-linux-musl\n ---> Running in 0610e70d5490\n\u001b[91minfo: downloading component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0m\u001b[91minfo: installing component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0mRemoving intermediate container 0610e70d5490\n ---> 103bcca718d9\nStep 3/16 : COPY . /opt/sekursranko/\n ---> 7f78d47a238c\nStep 4/16 : RUN cd /opt/sekursranko  && cargo build --release --target x86_64-unknown-linux-musl\n ---> Running in ebdabe8d33ef\n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded os_str_bytes v6.3.0\n\u001b[0m\u001b[91m  Downloaded clap v3.2.22\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.146\n\u001b[0m\u001b[91m  Downloaded textwrap v0.15.1\n\u001b[0m\u001b[91m  Downloaded serde v1.0.146\n\u001b[0m\u001b[91m  Downloaded tokio-macros v1.8.0\n\u001b[0m\u001b[91m  Downloaded ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m  Downloaded toml v0.5.9\n\u001b[0m\u001b[91m  Downloaded h2 v0.3.14\n\u001b[0m\u001b[91m  Downloaded route-recognizer v0.3.1\n\u001b[0m\u001b[91m  Downloaded once_cell v1.15.0\n\u001b[0m\u001b[91m  Downloaded hyper v0.14.20\n\u001b[0m\u001b[91m  Downloaded tokio v1.21.2\n\u001b[0m\u001b[91m  Downloaded num_cpus v1.13.1\n\u001b[0m\u001b[91m  Downloaded mio v0.8.4\n\u001b[0m\u001b[91m  Downloaded libc v0.2.135\n\u001b[0m\u001b[91m  Downloaded atty v0.2.14\n\u001b[0m\u001b[91m  Downloaded anyhow v1.0.66\n\u001b[0m\u001b[91m  Downloaded quote v1.0.21\n\u001b[0m\u001b[91m  Downloaded humantime v2.1.0\n\u001b[0m\u001b[91m  Downloaded rand_chacha v0.3.1\n\u001b[0m\u001b[91m  Downloaded termcolor v1.1.3\n\u001b[0m\u001b[91m  Downloaded pin-utils v0.1.0\n\u001b[0m\u001b[91m  Downloaded aho-corasick v0.7.19\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.4\n\u001b[0m\u001b[91m  Downloaded getrandom v0.2.8\n\u001b[0m\u001b[91m  Downloaded futures-task v0.3.25\n\u001b[0m\u001b[91m  Downloaded tower-service v0.3.2\n\u001b[0m\u001b[91m  Downloaded futures-io v0.3.25\n\u001b[0m\u001b[91m  Downloaded regex-syntax v0.6.27\n\u001b[0m\u001b[91m  Downloaded want v0.3.0\n\u001b[0m\u001b[91m  Downloaded tracing v0.1.37\n\u001b[0m\u001b[91m  Downloaded socket2 v0.4.7\n\u001b[0m\u001b[91m  Downloaded rand_core v0.6.4\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.12.3\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded env_logger v0.9.1\n\u001b[0m\u001b[91m  Downloaded clap_lex v0.2.4\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.87\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded log v0.4.17\n\u001b[0m\u001b[91m  Downloaded futures-core v0.3.25\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.11\n\u001b[0m\u001b[91m  Downloaded tokio-util v0.7.4\n\u001b[0m\u001b[91m  Downloaded unicode-ident v1.0.5\n\u001b[0m\u001b[91m  Downloaded httparse v1.8.0\n\u001b[0m\u001b[91m  Downloaded fnv v1.0.7\n\u001b[0m\u001b[91m  Downloaded indexmap v1.9.1\n\u001b[0m\u001b[91m  Downloaded http v0.2.8\n\u001b[0m\u001b[91m  Downloaded futures-util v0.3.25\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded futures v0.3.25\n\u001b[0m\u001b[91m  Downloaded try-lock v0.2.3\n\u001b[0m\u001b[91m  Downloaded heck v0.4.0\n\u001b[0m\u001b[91m  Downloaded futures-channel v0.3.25\n\u001b[0m\u001b[91m  Downloaded bytes v1.2.1\n\u001b[0m\u001b[91m  Downloaded proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  Downloaded tracing-core v0.1.30\n\u001b[0m\u001b[91m  Downloaded slab v0.4.7\n\u001b[0m\u001b[91m  Downloaded pin-project-lite v0.2.9\n\u001b[0m\u001b[91m  Downloaded futures-executor v0.3.25\n\u001b[0m\u001b[91m  Downloaded futures-sink v0.3.25\n\u001b[0m\u001b[91m  Downloaded clap_derive v3.2.18\n\u001b[0m\u001b[91m  Downloaded syn v1.0.103\n\u001b[0m\u001b[91m  Downloaded regex v1.6.0\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.47\n\u001b[0m\u001b[91m  Downloaded memchr v2.5.0\n\u001b[0m\u001b[91m  Downloaded rand v0.8.5\n\u001b[0m\u001b[91m  Downloaded http-body v0.4.5\n\u001b[0m\u001b[91m  Downloaded proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m  Downloaded httpdate v1.0.2\n\u001b[0m\u001b[91m  Downloaded futures-macro v0.3.25\n\u001b[0m\u001b[91m   Compiling proc-macro2 v1.0.47\n   Compiling quote v1.0.21\n\u001b[0m\u001b[91m   Compiling unicode-ident v1.0.5\n\u001b[0m\u001b[91m   Compiling autocfg v1.1.0\n\u001b[0m\u001b[91m   Compiling syn v1.0.103\n\u001b[0m\u001b[91m   Compiling libc v0.2.135\n\u001b[0m\u001b[91m   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling memchr v2.5.0\n   Compiling pin-project-lite v0\u001b[0m\u001b[91m.2.9\n\u001b[0m\u001b[91m   Compiling log v0.4.17\n\u001b[0m\u001b[91m   Compiling futures-core v0.3.25\n   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling futures-task v0.3.25\n\u001b[0m\u001b[91m   Compiling futures-channel v0.3.25\n\u001b[0m\u001b[91m   Compiling futures-sink v0.3.25\n\u001b[0m\u001b[91m   Compiling once_cell v1.15.0\n\u001b[0m\u001b[91m   Compiling futures-util v0.3.25\n\u001b[0m\u001b[91m   Compiling bytes v1.2.1\n\u001b[0m\u001b[91m   Compiling futures-io v0.3.25\n\u001b[0m\u001b[91m   Compiling pin-utils v0.1.0\n\u001b[0m\u001b[91m   Compiling itoa v1.0.4\n\u001b[0m\u001b[91m   Compiling hashbrown v0.12.3\n\u001b[0m\u001b[91m   Compiling fnv v1.0.7\n\u001b[0m\u001b[91m   Compiling serde v1.0.146\n\u001b[0m\u001b[91m   Compiling httparse v1.8.0\n\u001b[0m\u001b[91m   Compiling ppv-lite86 v0.2.16\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling serde_json v1.0.87\n\u001b[0m\u001b[91m   Compiling heck v0.4.0\n\u001b[0m\u001b[91m   Compiling serde_derive v1.0.146\n\u001b[0m\u001b[91m   Compiling regex-syntax v0.6.27\n\u001b[0m\u001b[91m   Compiling os_str_bytes v6.3.0\n\u001b[0m\u001b[91m   Compiling anyhow v1.0.66\n\u001b[0m\u001b[91m   Compiling try-lock v0.2.\u001b[0m\u001b[91m3\n\u001b[0m\u001b[91m   Compiling httpdate v1.0.2\n\u001b[0m\u001b[91m   Compiling humantime v2.1.0\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\n\u001b[0m\u001b[91m   Compiling tower-service v0.3.2\n\u001b[0m\u001b[91m   Compiling ryu v1.0.11\n\u001b[0m\u001b[91m   Compiling textwrap v0.15.1\n\u001b[0m\u001b[91m   Compiling termcolor v1.1.3\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m route-recognizer v0.3.1\n\u001b[0m\u001b[91m   Compiling tracing-core v0.1.30\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mclap_lex\u001b[0m\u001b[91m v\u001b[0m\u001b[91m0.\u001b[0m\u001b[91m2\u001b[0m\u001b[91m.\u001b[0m\u001b[91m4\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling proc-macro-error-attr v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m4\n\u001b[0m\u001b[91m  \u001b[0m\u001b[91m Compiling proc-macro-error v1.0.4\n\u001b[0m\u001b[91m   Compiling slab v0.4.7\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling \u001b[0m\u001b[91mtokio\u001b[0m\u001b[91m v1\u001b[0m\u001b[91m.21.\u001b[0m\u001b[91m2\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling indexmap v1.9.1\n\u001b[0m\u001b[91m   Compiling http v0.2.8\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling tracing v0.1.37\n\u001b[0m\u001b[91m   Compiling want v0.3.0\n\u001b[0m\u001b[91m   Compiling aho-corasick v0.7.19\n\u001b[0m\u001b[91m   Compiling num_cpus v1.13.1\n\u001b[0m\u001b[91m   Compiling socket2\u001b[0m\u001b[91m v0.4.7\u001b[0m\u001b[91m\n   \u001b[0m\u001b[91mCompiling mio v0.8.4\n\u001b[0m\u001b[91m   Compiling getrandom v0.2.8\n\u001b[0m\u001b[91m   Compiling atty v0.2.14\n\u001b[0m\u001b[91m   Compiling rand_core v0.6.4\n\u001b[0m\u001b[91m   Compiling http-body v0.4.5\n\u001b[0m\u001b[91m   Compiling rand_chacha v0.3.1\n\u001b[0m\u001b[91m   Compiling regex v1.6.0\n\u001b[0m\u001b[91m   Compiling rand v0.8.5\n\u001b[0m\u001b[91m   Compiling env_logger v0.9.1\n\u001b[0m\u001b[91m   Compiling toml v0.5.9\n\u001b[0m\u001b[91m   Compiling futures-macro v0.3.25\n\u001b[0m\u001b[91m   Compiling tokio-macros v1.8.0\n\u001b[0m\u001b[91m   Compiling clap_derive v3.2.18\n\u001b[0m\u001b[91m   Compiling clap v3.2.22\n\u001b[0m\u001b[91m   Compiling futures-executor v0.3.25\n\u001b[0m\u001b[91m   Compiling futures v0.3.25\n\u001b[0m\u001b[91m   Compiling tokio-util v0.7.4\n\u001b[0m\u001b[91m   Compiling h2 v0.3.14\n\u001b[0m\u001b[91m   Compiling hyper v0.14.20\n\u001b[0m\u001b[91m   Compiling sekursranko v0.5.1 (/opt/sekursranko)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 35.80s\n\u001b[0mRemoving intermediate container ebdabe8d33ef\n ---> 539242db6168\nStep 5/16 : FROM alpine:3.17\n3.17: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:3.17\n ---> 49176f190c7e\nStep 6/16 : RUN apk update && apk add dumb-init bash moreutils\n ---> Running in a73bb0ea22f0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-320-g38723e0931 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\n(1/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/11) Installing ncurses-libs (6.3_p20221119-r0)\n(3/11) Installing readline (8.2.0-r0)\n(4/11) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/11) Installing dumb-init (1.2.5-r2)\n(6/11) Installing libbz2 (1.0.8-r4)\n(7/11) Installing perl (5.36.0-r0)\n(8/11) Installing perl-timedate (2.33-r1)\n(9/11) Installing perl-io-tty (1.17-r0)\n(10/11) Installing perl-ipc-run (20220807.0-r0)\n(11/11) Installing moreutils (0.67-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 48 MiB in 26 packages\nRemoving intermediate container a73bb0ea22f0\n ---> 0e2504d32b8f\nStep 7/16 : RUN mkdir /sekursranko/  && addgroup -g 1337 -S sekursranko  && adduser -u 1337 -S -G sekursranko sekursranko  && chown sekursranko:sekursranko /sekursranko/  && chmod 0700 /sekursranko/\n ---> Running in cdf65a074a51\nRemoving intermediate container cdf65a074a51\n ---> 5887c295fa7a\nStep 8/16 : VOLUME [ \"/sekursranko\" ]\n ---> Running in 4f75f3fe935f\nRemoving intermediate container 4f75f3fe935f\n ---> 3010e604018c\nStep 9/16 : COPY --from=builder /opt/sekursranko/target/x86_64-unknown-linux-musl/release/sekursranko /usr/local/bin/sekursranko\n ---> 413056f7b1b4\nStep 10/16 : COPY docker-entrypoint.sh /usr/local/bin/entrypoint.sh\n ---> 99bc3a443a99\nStep 11/16 : COPY --from=builder /opt/sekursranko/config.example.toml /etc/sekursranko/config.toml\n ---> 485640876e5d\nStep 12/16 : RUN sed -i '/listen_on/s/127.0.0.1/[::]/' /etc/sekursranko/config.toml  && sed -i '/backup_dir/c\\backup_dir = \"/sekursranko/\"' /etc/sekursranko/config.toml  && chown sekursranko:sekursranko /etc/sekursranko/config.toml\n ---> Running in 6a633539b940\nRemoving intermediate container 6a633539b940\n ---> 4049010348d0\nStep 13/16 : WORKDIR /sekursranko\n ---> Running in 57d987a042bc\nRemoving intermediate container 57d987a042bc\n ---> ead9f36a95dd\nStep 14/16 : USER sekursranko\n ---> Running in a6dfdff75b16\nRemoving intermediate container a6dfdff75b16\n ---> 23c6c16fd4f8\nStep 15/16 : ENTRYPOINT [ \"/usr/bin/dumb-init\", \"--\" ]\n ---> Running in e50e6a5b9d89\nRemoving intermediate container e50e6a5b9d89\n ---> 1e6bfa10d20c\nStep 16/16 : CMD [ \"/bin/bash\", \"/usr/local/bin/entrypoint.sh\" ]\n ---> Running in 2ea09d315009\nRemoving intermediate container 2ea09d315009\n ---> d2f5487f2af1\nSuccessfully built d2f5487f2af1\nSuccessfully tagged sekursranko:latest\n","stderr":"","imageSize":56683487},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":18,"columnEnd":50}}],"repairedDockerfile":"# Compile\nFROM rust:1 AS builder\nRUN rustup target add x86_64-unknown-linux-musl\nCOPY . /opt/sekursranko/\nRUN cd /opt/sekursranko \\\n && cargo build --release --target x86_64-unknown-linux-musl\n\n# Set up runtime container\nFROM alpine:3.17\nRUN apk update && apk add --no-cache dumb-init bash moreutils\n\n# Create user\nRUN mkdir /sekursranko/ \\\n && addgroup -g 1337 -S sekursranko \\\n && adduser -u 1337 -S -G sekursranko sekursranko \\\n && chown sekursranko:sekursranko /sekursranko/ \\\n && chmod 0700 /sekursranko/\n\n# Create volume\nVOLUME [ \"/sekursranko\" ]\n\n# Copy binary\nCOPY --from=builder /opt/sekursranko/target/x86_64-unknown-linux-musl/release/sekursranko /usr/local/bin/sekursranko\n\n# Copy entrypoint script\nCOPY docker-entrypoint.sh /usr/local/bin/entrypoint.sh\n\n# Set up default config\nCOPY --from=builder /opt/sekursranko/config.example.toml /etc/sekursranko/config.toml\nRUN sed -i '/listen_on/s/127.0.0.1/[::]/' /etc/sekursranko/config.toml \\\n && sed -i '/backup_dir/c\\backup_dir = \"/sekursranko/\"' /etc/sekursranko/config.toml \\\n && chown sekursranko:sekursranko /etc/sekursranko/config.toml\n\n# Switch user\nWORKDIR /sekursranko\nUSER sekursranko\n\n# Note: Use dumb-init in order to fulfil our PID 1 responsibilities,\n# see https://github.com/Yelp/dumb-init\nENTRYPOINT [ \"/usr/bin/dumb-init\", \"--\" ]\nCMD [ \"/bin/bash\", \"/usr/local/bin/entrypoint.sh\" ]\n"},"repairedBuild":{"startTimestamp":1672784816049,"endTimestamp":1672784906823,"error":null,"stdout":"Sending build context to Docker daemon  280.1kB\r\r\nStep 1/16 : FROM rust:1 AS builder\n ---> 5e0d0367026b\nStep 2/16 : RUN rustup target add x86_64-unknown-linux-musl\n ---> Running in 93948e6c8182\n\u001b[91minfo: downloading component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0m\u001b[91minfo: installing component 'rust-std' for 'x86_64-unknown-linux-musl'\n\u001b[0mRemoving intermediate container 93948e6c8182\n ---> af774e47730b\nStep 3/16 : COPY . /opt/sekursranko/\n ---> 1155bf426309\nStep 4/16 : RUN cd /opt/sekursranko  && cargo build --release --target x86_64-unknown-linux-musl\n ---> Running in d28c1a1b659b\n\u001b[91m    Updating crates.io index\n\u001b[0m\u001b[91m Downloading crates ...\n\u001b[0m\u001b[91m  Downloaded proc-macro2 v1.0.47\n\u001b[0m\u001b[91m  Downloaded clap v3.2.22\n\u001b[0m\u001b[91m  Downloaded regex v1.6.0\n\u001b[0m\u001b[91m  Downloaded autocfg v1.1.0\n\u001b[0m\u001b[91m  Downloaded unicode-ident v1.0.5\n\u001b[0m\u001b[91m  Downloaded heck v0.4.0\n\u001b[0m\u001b[91m  Downloaded mio v0.8.4\n\u001b[0m\u001b[91m  Downloaded os_str_bytes v6.3.0\n\u001b[0m\u001b[91m  Downloaded ppv-lite86 v0.2.16\n\u001b[0m\u001b[91m  Downloaded serde_derive v1.0.146\n\u001b[0m\u001b[91m  Downloaded tower-service v0.3.2\n\u001b[0m\u001b[91m  Downloaded tracing-core v0.1.30\n\u001b[0m\u001b[91m  Downloaded futures-core v0.3.25\n\u001b[0m\u001b[91m  Downloaded bitflags v1.3.2\n\u001b[0m\u001b[91m  Downloaded proc-macro-error-attr v1.0.4\n\u001b[0m\u001b[91m  Downloaded pin-utils v0.1.0\n\u001b[0m\u001b[91m  Downloaded tokio-macros v1.8.0\n\u001b[0m\u001b[91m  Downloaded termcolor v1.1.3\n\u001b[0m\u001b[91m  Downloaded httparse v1.8.0\n\u001b[0m\u001b[91m  Downloaded rand_core v0.6.4\n\u001b[0m\u001b[91m  Downloaded rand_chacha v0.3.1\n\u001b[0m\u001b[91m  Downloaded socket2 v0.4.7\n\u001b[0m\u001b[91m  Downloaded slab v0.4.7\n\u001b[0m\u001b[91m  Downloaded futures-task v0.3.25\n\u001b[0m\u001b[91m  Downloaded try-lock v0.2.3\n\u001b[0m\u001b[91m  Downloaded version_check v0.9.4\n\u001b[0m\u001b[91m  Downloaded tokio-util v0.7.4\n\u001b[0m\u001b[91m  Downloaded regex-syntax v0.6.27\n\u001b[0m\u001b[91m  Downloaded tokio v1.21.2\n\u001b[0m\u001b[91m  Downloaded serde_json v1.0.87\n\u001b[0m\u001b[91m  Downloaded futures-channel v0.3.25\n\u001b[0m\u001b[91m  Downloaded toml v0.5.9\n\u001b[0m\u001b[91m  Downloaded want v0.3.0\n\u001b[0m\u001b[91m  Downloaded futures-executor v0.3.25\n\u001b[0m\u001b[91m  Downloaded textwrap v0.15.1\n\u001b[0m\u001b[91m  Downloaded quote v1.0.21\n\u001b[0m\u001b[91m  Downloaded futures-io v0.3.25\n\u001b[0m\u001b[91m  Downloaded once_cell v1.15.0\n\u001b[0m\u001b[91m  Downloaded http-body v0.4.5\n\u001b[0m\u001b[91m  Downloaded tracing v0.1.37\n\u001b[0m\u001b[91m  Downloaded hashbrown v0.12.3\n\u001b[0m\u001b[91m  Downloaded cfg-if v1.0.0\n\u001b[0m\u001b[91m  Downloaded httpdate v1.0.2\n\u001b[0m\u001b[91m  Downloaded clap_lex v0.2.4\n\u001b[0m\u001b[91m  Downloaded anyhow v1.0.66\n\u001b[0m\u001b[91m  Downloaded fnv v1.0.7\n\u001b[0m\u001b[91m  Downloaded atty v0.2.14\n\u001b[0m\u001b[91m  Downloaded humantime v2.1.0\n\u001b[0m\u001b[91m  Downloaded http v0.2.8\n\u001b[0m\u001b[91m  Downloaded futures-util v0.3.25\n\u001b[0m\u001b[91m  Downloaded rand v0.8.5\n\u001b[0m\u001b[91m  Downloaded log v0.4.17\n\u001b[0m\u001b[91m  Downloaded futures v0.3.25\n\u001b[0m\u001b[91m  Downloaded clap_derive v3.2.18\n\u001b[0m\u001b[91m  Downloaded bytes v1.2.1\n\u001b[0m\u001b[91m  Downloaded aho-corasick v0.7.19\n\u001b[0m\u001b[91m  Downloaded syn v1.0.103\n\u001b[0m\u001b[91m  Downloaded libc v0.2.135\n\u001b[0m\u001b[91m  Downloaded futures-sink v0.3.25\n\u001b[0m\u001b[91m  Downloaded serde v1.0.146\n\u001b[0m\u001b[91m  Downloaded ryu v1.0.11\n\u001b[0m\u001b[91m  Downloaded route-recognizer v0.3.1\n\u001b[0m\u001b[91m  Downloaded proc-macro-error v1.0.4\n\u001b[0m\u001b[91m  Downloaded pin-project-lite v0.2.9\n\u001b[0m\u001b[91m  Downloaded num_cpus v1.13.1\n\u001b[0m\u001b[91m  Downloaded memchr v2.5.0\n\u001b[0m\u001b[91m  Downloaded itoa v1.0.4\n\u001b[0m\u001b[91m  Downloaded indexmap v1.9.1\n\u001b[0m\u001b[91m  Downloaded hyper v0.14.20\n\u001b[0m\u001b[91m  Downloaded getrandom v0.2.8\n\u001b[0m\u001b[91m  Downloaded h2 v0.3.14\n\u001b[0m\u001b[91m  Downloaded futures-macro v0.3.25\n\u001b[0m\u001b[91m  Downloaded env_logger v0.9.1\n\u001b[0m\u001b[91m   Compiling proc-macro2 v1.0.47\n   Compiling quote v1.0.21\n\u001b[0m\u001b[91m   Compiling unicode-ident v1.0.5\n\u001b[0m\u001b[91m   Compiling autocfg v1.1.0\n\u001b[0m\u001b[91m   Compiling libc v0.2.135\n   Compiling syn v1.0.103\n\u001b[0m\u001b[91m   Compiling cfg-if v1.0.0\n\u001b[0m\u001b[91m   Compiling memchr v2.5.0\n\u001b[0m\u001b[91m   Compiling futures-core v0.3.25\n\u001b[0m\u001b[91m   Compiling log v0.4.17\n\u001b[0m\u001b[91m   Compiling pin-project-lite v0.2.9\n\u001b[0m\u001b[91m   Compiling version_check v0.9.4\n\u001b[0m\u001b[91m   Compiling futures-channel v0.3.25\n\u001b[0m\u001b[91m   Compiling futures-task v0.3.25\n\u001b[0m\u001b[91m   Compiling futures-sink v0.3.25\n\u001b[0m\u001b[91m   Compiling futures-util v0.3.25\n\u001b[0m\u001b[91m   Compiling bytes v1.2.1\n\u001b[0m\u001b[91m   Compiling once_cell v1.15.0\n\u001b[0m\u001b[91m   Compiling pin-utils v0.1.0\n   Compiling futures-io v0.3.25\n\u001b[0m\u001b[91m   Compiling itoa v1.0.4\n\u001b[0m\u001b[91m   Compiling serde v1.0.146\n   Compiling fnv v1.0.7\n   Compiling hashbrown v0.12.3\n   Compiling httparse v1.8.0\n   Compiling try-lock v0.2.3\n   Compiling os_str_bytes v6.3.0\n   Compiling serde_json v1.0.87\n   Compiling regex-syntax v0.6.27\n   Compiling anyhow v1.0.66\n   Compiling heck v0.4.0\n   Compiling ppv-lite86 v0.2.16\n   Compiling serde_derive v1.0.146\n   Compiling httpdate v1.0.2\n\u001b[0m\u001b[91m   Compiling bitflags v1.3.2\n\u001b[0m\u001b[91m   Compiling textwrap v0.15.1\n\u001b[0m\u001b[91m   Compiling humantime v2.1.0\n\u001b[0m\u001b[91m   Compiling ryu v1.0.11\n\u001b[0m\u001b[91m   Compiling termcolor v1.1.3\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling tower-service v0.3.2\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m \u001b[0m\u001b[91m Compiling \u001b[0m\u001b[91mroute-recognizer v0\u001b[0m\u001b[91m.\u001b[0m\u001b[91m3.\u001b[0m\u001b[91m1\n\u001b[0m\u001b[91m   Compiling tracing-core v0.1.30\n\u001b[0m\u001b[91m   Compiling clap_lex v0.2.4\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mproc-macro-error-attr v1\u001b[0m\u001b[91m.0.\u001b[0m\u001b[91m4\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling slab v0.4.7\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling \u001b[0m\u001b[91mtokio v\u001b[0m\u001b[91m1\u001b[0m\u001b[91m.21\u001b[0m\u001b[91m.\u001b[0m\u001b[91m2\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  Compiling \u001b[0m\u001b[91mindexmap v1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m9\u001b[0m\u001b[91m.\u001b[0m\u001b[91m1\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m   Compiling proc-macro-error v1.0.4\n\u001b[0m\u001b[91m \u001b[0m\u001b[91m  \u001b[0m\u001b[91mCompiling\u001b[0m\u001b[91m \u001b[0m\u001b[91mhttp v\u001b[0m\u001b[91m0.\u001b[0m\u001b[91m2\u001b[0m\u001b[91m.8\n\u001b[0m\u001b[91m   Compiling tracing v0.1.37\n\u001b[0m\u001b[91m   Compiling want v0.3.0\n\u001b[0m\u001b[91m   Compiling aho-corasick v0.7.19\n\u001b[0m\u001b[91m   \u001b[0m\u001b[91mCompiling num_cpus\u001b[0m\u001b[91m v1\u001b[0m\u001b[91m.\u001b[0m\u001b[91m13\u001b[0m\u001b[91m.\u001b[0m\u001b[91m1\n\u001b[0m\u001b[91m   Compiling mio v0.8.4\n\u001b[0m\u001b[91m   Compiling socket2 v0.4.7\n\u001b[0m\u001b[91m   Compiling getrandom v0.2.8\n\u001b[0m\u001b[91m   Compiling atty v0.2.14\n\u001b[0m\u001b[91m   Compiling http-body v0.4.5\n\u001b[0m\u001b[91m   Compiling rand_core v0.6.4\n\u001b[0m\u001b[91m   Compiling rand_chacha v0.3.1\n\u001b[0m\u001b[91m   Compiling regex v1.6.0\n\u001b[0m\u001b[91m   Compiling rand v0.8.5\n\u001b[0m\u001b[91m   Compiling env_logger v0.9.1\n\u001b[0m\u001b[91m   Compiling toml v0.5.9\n\u001b[0m\u001b[91m   Compiling futures-macro v0.3.25\n   Compiling tokio-macros v1.8.\u001b[0m\u001b[91m0\n\u001b[0m\u001b[91m   Compiling clap_derive v3.2.18\n\u001b[0m\u001b[91m   Compiling clap v3.2.22\n\u001b[0m\u001b[91m   Compiling futures-executor v0.3.25\n\u001b[0m\u001b[91m   Compiling futures v0.3.25\n\u001b[0m\u001b[91m   Compiling tokio-util v0.7.4\n\u001b[0m\u001b[91m   Compiling h2 v0.3.14\n\u001b[0m\u001b[91m   Compiling hyper v0.14.20\n\u001b[0m\u001b[91m   Compiling sekursranko v0.5.1 (/opt/sekursranko)\n\u001b[0m\u001b[91m    Finished release [optimized] target(s) in 43.12s\n\u001b[0mRemoving intermediate container d28c1a1b659b\n ---> b1866331cc7d\nStep 5/16 : FROM alpine:3.17\n ---> 49176f190c7e\nStep 6/16 : RUN apk update && apk add --no-cache dumb-init bash moreutils\n ---> Running in 50efcb66582d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-320-g38723e0931 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17813 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/11) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/11) Installing ncurses-libs (6.3_p20221119-r0)\n(3/11) Installing readline (8.2.0-r0)\n(4/11) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/11) Installing dumb-init (1.2.5-r2)\n(6/11) Installing libbz2 (1.0.8-r4)\n(7/11) Installing perl (5.36.0-r0)\n(8/11) Installing perl-timedate (2.33-r1)\n(9/11) Installing perl-io-tty (1.17-r0)\n(10/11) Installing perl-ipc-run (20220807.0-r0)\n(11/11) Installing moreutils (0.67-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 48 MiB in 26 packages\nRemoving intermediate container 50efcb66582d\n ---> 734af99425e7\nStep 7/16 : RUN mkdir /sekursranko/  && addgroup -g 1337 -S sekursranko  && adduser -u 1337 -S -G sekursranko sekursranko  && chown sekursranko:sekursranko /sekursranko/  && chmod 0700 /sekursranko/\n ---> Running in 8d66c5f82dac\nRemoving intermediate container 8d66c5f82dac\n ---> 65556db23c97\nStep 8/16 : VOLUME [ \"/sekursranko\" ]\n ---> Running in 3295cff51197\nRemoving intermediate container 3295cff51197\n ---> 3021822417c1\nStep 9/16 : COPY --from=builder /opt/sekursranko/target/x86_64-unknown-linux-musl/release/sekursranko /usr/local/bin/sekursranko\n ---> f6c0d9530969\nStep 10/16 : COPY docker-entrypoint.sh /usr/local/bin/entrypoint.sh\n ---> 4a596f984420\nStep 11/16 : COPY --from=builder /opt/sekursranko/config.example.toml /etc/sekursranko/config.toml\n ---> bf92cac4a00d\nStep 12/16 : RUN sed -i '/listen_on/s/127.0.0.1/[::]/' /etc/sekursranko/config.toml  && sed -i '/backup_dir/c\\backup_dir = \"/sekursranko/\"' /etc/sekursranko/config.toml  && chown sekursranko:sekursranko /etc/sekursranko/config.toml\n ---> Running in c4b268a947a3\nRemoving intermediate container c4b268a947a3\n ---> 2cddc2d9c8b3\nStep 13/16 : WORKDIR /sekursranko\n ---> Running in 7334ba75ba62\nRemoving intermediate container 7334ba75ba62\n ---> 52e2f4728981\nStep 14/16 : USER sekursranko\n ---> Running in 0defcff241e7\nRemoving intermediate container 0defcff241e7\n ---> 33caf0b76ac7\nStep 15/16 : ENTRYPOINT [ \"/usr/bin/dumb-init\", \"--\" ]\n ---> Running in 6ea35c4b3cf6\nRemoving intermediate container 6ea35c4b3cf6\n ---> a1ebfcc57019\nStep 16/16 : CMD [ \"/bin/bash\", \"/usr/local/bin/entrypoint.sh\" ]\n ---> Running in a5f2ee5bdbf9\nRemoving intermediate container a5f2ee5bdbf9\n ---> 4564df0ece57\nSuccessfully built 4564df0ece57\nSuccessfully tagged sekursranko:latest\n","stderr":"","imageSize":56683487},"endTime":1672784907265}