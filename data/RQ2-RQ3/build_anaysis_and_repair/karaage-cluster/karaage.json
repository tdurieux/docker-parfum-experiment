{"repository":"https://github.com/karaage-cluster/karaage","dockerfilePath":"Dockerfile","startTime":1672240963461,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/karaage-cluster/karaage'...\n","error":null,"commit":"4d5d0e986f0179d8bf4b5c9c0410ab02b6799e6f"},"originalBuild":{"startTimestamp":1672240964534,"endTimestamp":1672241257350,"error":null,"stdout":"Sending build context to Docker daemon  3.193MB\r\r\nStep 1/20 : ARG SLURM_VER=20.11\nStep 2/20 : FROM brianmay/slurm:${SLURM_VER}\n20.11: Pulling from brianmay/slurm\n5e0b432e8ba9: Pulling fs layer\na84cfd68b5ce: Pulling fs layer\ne8b8f2315954: Pulling fs layer\n0598fa43a7e7: Pulling fs layer\n83098237b6d3: Pulling fs layer\nb92c73d4de9a: Pulling fs layer\nef9b6ee59783: Pulling fs layer\nc1f6285e6406: Pulling fs layer\n0598fa43a7e7: Waiting\na0ee73333012: Pulling fs layer\nb4448f995024: Pulling fs layer\n83098237b6d3: Waiting\n69bd742f8039: Pulling fs layer\nb92c73d4de9a: Waiting\nd657b736a1ce: Pulling fs layer\nef9b6ee59783: Waiting\nc1f6285e6406: Waiting\nb4448f995024: Waiting\na0ee73333012: Waiting\nd657b736a1ce: Waiting\n69bd742f8039: Waiting\na84cfd68b5ce: Verifying Checksum\na84cfd68b5ce: Download complete\ne8b8f2315954: Verifying Checksum\ne8b8f2315954: Download complete\n0598fa43a7e7: Verifying Checksum\n0598fa43a7e7: Download complete\n5e0b432e8ba9: Verifying Checksum\n5e0b432e8ba9: Download complete\n83098237b6d3: Verifying Checksum\n83098237b6d3: Download complete\nc1f6285e6406: Verifying Checksum\nc1f6285e6406: Download complete\nef9b6ee59783: Verifying Checksum\nef9b6ee59783: Download complete\na0ee73333012: Verifying Checksum\na0ee73333012: Download complete\nb92c73d4de9a: Verifying Checksum\nb92c73d4de9a: Download complete\nd657b736a1ce: Verifying Checksum\nd657b736a1ce: Download complete\nb4448f995024: Verifying Checksum\nb4448f995024: Download complete\n5e0b432e8ba9: Pull complete\na84cfd68b5ce: Pull complete\ne8b8f2315954: Pull complete\n69bd742f8039: Verifying Checksum\n0598fa43a7e7: Pull complete\n83098237b6d3: Pull complete\nb92c73d4de9a: Pull complete\nef9b6ee59783: Pull complete\nc1f6285e6406: Pull complete\na0ee73333012: Pull complete\nb4448f995024: Pull complete\n69bd742f8039: Pull complete\nd657b736a1ce: Pull complete\nDigest: sha256:9a821cce8ba12a219102c34d12aa0bdbfe987d2b5aa4a1e238c9c0a3789906b9\nStatus: Downloaded newer image for brianmay/slurm:20.11\n ---> 6e876d569b66\nStep 3/20 : RUN apt-get update   && apt-get install -y   gcc sudo libcrack2-dev   && rm -rf /var/lib/apt/lists/*\n ---> Running in 5bb0cc5dcb68\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nGet:6 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nFetched 8616 kB in 1s (5988 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngcc is already the newest version (4:10.2.1-1).\nThe following additional packages will be installed:\n  cracklib-runtime libcrack2 wamerican\nThe following NEW packages will be installed:\n  cracklib-runtime libcrack2 libcrack2-dev sudo wamerican\n0 upgraded, 5 newly installed, 0 to remove and 109 not upgraded.\nNeed to get 1518 kB of archives.\nAfter this operation, 6683 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 wamerican all 2019.10.06-1 [215 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libcrack2 amd64 2.9.6-3.4 [56.0 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 cracklib-runtime amd64 2.9.6-3.4 [155 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 libcrack2-dev amd64 2.9.6-3.4 [33.4 kB]\nGet:5 http://deb.debian.org/debian bullseye/main amd64 sudo amd64 1.9.5p2-3 [1059 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1518 kB in 0s (13.4 MB/s)\nSelecting previously unselected package wamerican.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23423 files and directories currently installed.)\r\nPreparing to unpack .../wamerican_2019.10.06-1_all.deb ...\r\nUnpacking wamerican (2019.10.06-1) ...\r\nSelecting previously unselected package libcrack2:amd64.\r\nPreparing to unpack .../libcrack2_2.9.6-3.4_amd64.deb ...\r\nUnpacking libcrack2:amd64 (2.9.6-3.4) ...\r\nSelecting previously unselected package cracklib-runtime.\r\nPreparing to unpack .../cracklib-runtime_2.9.6-3.4_amd64.deb ...\r\nUnpacking cracklib-runtime (2.9.6-3.4) ...\r\nSelecting previously unselected package libcrack2-dev:amd64.\r\nPreparing to unpack .../libcrack2-dev_2.9.6-3.4_amd64.deb ...\r\nUnpacking libcrack2-dev:amd64 (2.9.6-3.4) ...\r\nSelecting previously unselected package sudo.\r\nPreparing to unpack .../sudo_1.9.5p2-3_amd64.deb ...\r\nUnpacking sudo (1.9.5p2-3) ...\r\nSetting up wamerican (2019.10.06-1) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\nSetting up sudo (1.9.5p2-3) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up libcrack2:amd64 (2.9.6-3.4) ...\r\nSetting up cracklib-runtime (2.9.6-3.4) ...\r\nSetting up libcrack2-dev:amd64 (2.9.6-3.4) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u2) ...\r\nRemoving intermediate container 5bb0cc5dcb68\n ---> 4a586bb1e816\nStep 4/20 : RUN mkdir /opt/karaage /opt/karaage/requirements\n ---> Running in 55036c524b4d\nRemoving intermediate container 55036c524b4d\n ---> aa0b376b48be\nStep 5/20 : WORKDIR /opt/karaage\n ---> Running in 64992e73923c\nRemoving intermediate container 64992e73923c\n ---> 481cec6c3854\nStep 6/20 : RUN pip install poetry\n ---> Running in 8967d38db756\nCollecting poetry\n  Downloading poetry-1.3.1-py3-none-any.whl (218 kB)\nCollecting urllib3<2.0.0,>=1.26.0\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting lockfile<0.13.0,>=0.12.2\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.0-py3-none-any.whl (14 kB)\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting requests-toolbelt<0.11.0,>=0.9.1\n  Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\nCollecting crashtest<0.5.0,>=0.4.1\n  Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)\nCollecting shellingham<2.0,>=1.5\n  Downloading shellingham-1.5.0-py2.py3-none-any.whl (9.3 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (499 kB)\nCollecting virtualenv!=20.4.5,!=20.4.6,<21.0.0,>=20.4.3\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\nCollecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting filelock<4.0.0,>=3.8.0\n  Downloading filelock-3.8.2-py3-none-any.whl (10 kB)\nCollecting importlib-metadata<5.0,>=4.4\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting trove-classifiers>=2022.5.19\n  Downloading trove_classifiers-2022.12.22-py3-none-any.whl (13 kB)\nCollecting cleo<3.0.0,>=2.0.0\n  Downloading cleo-2.0.1-py3-none-any.whl (77 kB)\nCollecting poetry-core==1.4.0\n  Downloading poetry_core-1.4.0-py3-none-any.whl (546 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.2.0\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\nCollecting tomli<3.0.0,>=2.0.1\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\nCollecting keyring<24.0.0,>=23.9.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\nCollecting rapidfuzz<3.0.0,>=2.2.0\n  Downloading rapidfuzz-2.13.7-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.2 MB)\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.2-py3-none-any.whl (57 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting cryptography>=2.0\n  Downloading cryptography-38.0.4-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\nInstalling collected packages: pycparser, urllib3, idna, charset-normalizer, cffi, certifi, zipp, requests, msgpack, more-itertools, jeepney, cryptography, webencodings, six, SecretStorage, rapidfuzz, pyrsistent, ptyprocess, poetry-core, platformdirs, lockfile, jaraco.classes, importlib-metadata, filelock, distlib, crashtest, cachecontrol, attrs, virtualenv, trove-classifiers, tomlkit, tomli, shellingham, requests-toolbelt, poetry-plugin-export, pkginfo, pexpect, packaging, keyring, jsonschema, html5lib, dulwich, cleo, poetry\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mSuccessfully installed SecretStorage-3.3.3 attrs-22.2.0 cachecontrol-0.12.11 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-2.0.1 crashtest-0.4.1 cryptography-38.0.4 distlib-0.3.6 dulwich-0.20.50 filelock-3.8.2 html5lib-1.1 idna-3.4 importlib-metadata-4.13.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.0.0 msgpack-1.0.4 packaging-22.0 pexpect-4.8.0 pkginfo-1.9.2 platformdirs-2.6.0 poetry-1.3.1 poetry-core-1.4.0 poetry-plugin-export-1.2.0 ptyprocess-0.7.0 pycparser-2.21 pyrsistent-0.19.2 rapidfuzz-2.13.7 requests-2.28.1 requests-toolbelt-0.10.1 shellingham-1.5.0 six-1.16.0 tomli-2.0.1 tomlkit-0.11.6 trove-classifiers-2022.12.22 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1 zipp-3.11.0\n\u001b[91mWARNING: You are using pip version 21.2.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 8967d38db756\n ---> d599136e3c80\nStep 7/20 : ADD pyproject.toml poetry.lock /opt/karaage/\n ---> 06a1de4e4a64\nStep 8/20 : RUN poetry config virtualenvs.create false\n ---> Running in ce9d0cd6326f\nRemoving intermediate container ce9d0cd6326f\n ---> c86a4ee82a80\nStep 9/20 : RUN poetry install --no-dev --no-root\n ---> Running in 9586bf68a36d\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0m\u001b[91mThe `--no-dev` option is deprecated, use the `--only main` notation instead.\n\u001b[0mInstalling dependencies from lock file\n\nPackage operations: 26 installs, 4 updates, 0 removals\n\n  • Updating pip (21.2.4 -> 22.3)\n  • Installing asgiref (3.5.2)\n  • Installing sqlparse (0.4.2)\n  • Updating certifi (2022.12.7 -> 2022.6.15.1)\n  • Installing django (4.1.3)\n  • Installing pyasn1 (0.4.8)\n  • Updating urllib3 (1.26.13 -> 1.26.12)\n  • Installing django-ranged-response (0.2.0)\n  • Installing ldap3 (2.9.1)\n  • Installing passlib (1.7.4)\n  • Installing pillow (9.2.0)\n  • Updating setuptools (57.5.0 -> 65.3.0)\n  • Installing bcrypt (4.0.1)\n  • Installing cracklib (2.9.3)\n  • Installing django-ajax-selects (2.2.0)\n  • Installing django-environ (0.9.0)\n  • Installing cssmin (0.2.0)\n  • Installing django-tables2 (2.4.1)\n  • Installing django-tracking-model (0.1.5)\n  • Installing jsmin (3.0.1)\n  • Installing mysqlclient (2.1.1)\n  • Installing pyjwt (2.6.0)\n  • Installing django-filter (22.1)\n  • Installing gunicorn (20.1.0)\n  • Installing sentry-sdk (1.10.1)\n  • Installing whitenoise (6.2.0)\n  • Installing python-tldap (1.0.6)\n  • Installing psycopg2-binary (2.9.5)\n  • Installing django-simple-captcha (0.5.17)\n  • Installing python-alogger (2.2.12)\nRemoving intermediate container 9586bf68a36d\n ---> b0afaf0becb3\nStep 10/20 : COPY . /opt/karaage/\n ---> 1cf3f5ab0331\nStep 11/20 : RUN chmod go+rX -R /opt/karaage/\n ---> Running in cf047c52561c\nRemoving intermediate container cf047c52561c\n ---> 596d48c5a1e1\nStep 12/20 : ARG VERSION=\n ---> Running in 801d738f8efa\nRemoving intermediate container 801d738f8efa\n ---> 954ff19cbe39\nStep 13/20 : ARG BUILD_DATE=\n ---> Running in 0212471eaf08\nRemoving intermediate container 0212471eaf08\n ---> 8d8f0cc98977\nStep 14/20 : ARG VCS_REF=\n ---> Running in b579494d46a5\nRemoving intermediate container b579494d46a5\n ---> 300519f806ed\nStep 15/20 : ENV VERSION=${VERSION}\n ---> Running in f0f253912ab5\nRemoving intermediate container f0f253912ab5\n ---> 90cac20a9236\nStep 16/20 : ENV BUILD_DATE=${BUILD_DATE}\n ---> Running in 90188fc11f6f\nRemoving intermediate container 90188fc11f6f\n ---> 6ccfe1ebf5be\nStep 17/20 : ENV VCS_REF=${VCS_REF}\n ---> Running in cf0866280d73\nRemoving intermediate container cf0866280d73\n ---> c0ab9224eaae\nStep 18/20 : EXPOSE 8000\n ---> Running in a2b8bb9eb9bd\nRemoving intermediate container a2b8bb9eb9bd\n ---> 868d6e4dc5e2\nStep 19/20 : VOLUME '/etc/karaage3' '/var/log' '/var/lib/karaage3'\n ---> Running in a616d0eb7ee7\nRemoving intermediate container a616d0eb7ee7\n ---> c46ad743522b\nStep 20/20 : CMD /opt/karaage/scripts/docker.sh\n ---> Running in b0215800e864\nRemoving intermediate container b0215800e864\n ---> 09ac53d96448\nSuccessfully built 09ac53d96448\nSuccessfully tagged karaage:latest\n","stderr":"","imageSize":1528326423},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":14,"end":14,"columnStart":4,"columnEnd":22}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":5,"end":6,"columnStart":5,"columnEnd":24}}],"repairedDockerfile":"ARG SLURM_VER=20.11\nFROM brianmay/slurm:${SLURM_VER}\n\n# Install OS dependencies\nRUN apt-get update \\\n  && apt-get install --no-install-recommends -y \\\n  gcc sudo libcrack2-dev \\\n  && rm -rf /var/lib/apt/lists/*\n\n# Make application directory\nRUN mkdir /opt/karaage /opt/karaage/requirements\nWORKDIR /opt/karaage\n\n# Install our requirements.\nRUN pip install --no-cache-dir poetry\nADD pyproject.toml poetry.lock /opt/karaage/\nRUN poetry config virtualenvs.create false\nRUN poetry install --no-dev --no-root\n\n# Copy all our files into the image.\nCOPY . /opt/karaage/\nRUN chmod go+rX -R /opt/karaage/\n\n# Setup access to version information\nARG VERSION=\nARG BUILD_DATE=\nARG VCS_REF=\nENV VERSION=${VERSION}\nENV BUILD_DATE=${BUILD_DATE}\nENV VCS_REF=${VCS_REF}\n\n# Specify the command to run when the image is run.\nEXPOSE 8000\nVOLUME '/etc/karaage3' '/var/log' '/var/lib/karaage3'\nCMD /opt/karaage/scripts/docker.sh\n"},"repairedBuild":{"startTimestamp":1672241260016,"endTimestamp":1672241396322,"error":null,"stdout":"Sending build context to Docker daemon  3.193MB\r\r\nStep 1/20 : ARG SLURM_VER=20.11\nStep 2/20 : FROM brianmay/slurm:${SLURM_VER}\n ---> 6e876d569b66\nStep 3/20 : RUN apt-get update   && apt-get install --no-install-recommends -y   gcc sudo libcrack2-dev   && rm -rf /var/lib/apt/lists/*\n ---> Running in a98725d97f94\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://security.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nGet:6 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nFetched 8616 kB in 2s (5166 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ngcc is already the newest version (4:10.2.1-1).\nRecommended packages:\n  cracklib-runtime\nThe following NEW packages will be installed:\n  libcrack2 libcrack2-dev sudo\n0 upgraded, 3 newly installed, 0 to remove and 109 not upgraded.\nNeed to get 1148 kB of archives.\nAfter this operation, 5055 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 libcrack2 amd64 2.9.6-3.4 [56.0 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libcrack2-dev amd64 2.9.6-3.4 [33.4 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 sudo amd64 1.9.5p2-3 [1059 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1148 kB in 0s (32.0 MB/s)\nSelecting previously unselected package libcrack2:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23423 files and directories currently installed.)\r\nPreparing to unpack .../libcrack2_2.9.6-3.4_amd64.deb ...\r\nUnpacking libcrack2:amd64 (2.9.6-3.4) ...\r\nSelecting previously unselected package libcrack2-dev:amd64.\r\nPreparing to unpack .../libcrack2-dev_2.9.6-3.4_amd64.deb ...\r\nUnpacking libcrack2-dev:amd64 (2.9.6-3.4) ...\r\nSelecting previously unselected package sudo.\r\nPreparing to unpack .../sudo_1.9.5p2-3_amd64.deb ...\r\nUnpacking sudo (1.9.5p2-3) ...\r\nSetting up sudo (1.9.5p2-3) ...\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up libcrack2:amd64 (2.9.6-3.4) ...\r\nSetting up libcrack2-dev:amd64 (2.9.6-3.4) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u2) ...\r\nRemoving intermediate container a98725d97f94\n ---> 0dbb9170f679\nStep 4/20 : RUN mkdir /opt/karaage /opt/karaage/requirements\n ---> Running in 4c285be1fe55\nRemoving intermediate container 4c285be1fe55\n ---> cd46a10eae0a\nStep 5/20 : WORKDIR /opt/karaage\n ---> Running in 18f73671c6c6\nRemoving intermediate container 18f73671c6c6\n ---> 237312edd04f\nStep 6/20 : RUN pip install --no-cache-dir poetry\n ---> Running in 96d462245670\nCollecting poetry\n  Downloading poetry-1.3.1-py3-none-any.whl (218 kB)\nCollecting poetry-plugin-export<2.0.0,>=1.2.0\n  Downloading poetry_plugin_export-1.2.0-py3-none-any.whl (10 kB)\nCollecting cachecontrol[filecache]<0.13.0,>=0.12.9\n  Downloading CacheControl-0.12.11-py2.py3-none-any.whl (21 kB)\nCollecting packaging>=20.4\n  Downloading packaging-22.0-py3-none-any.whl (42 kB)\nCollecting pkginfo<2.0,>=1.5\n  Downloading pkginfo-1.9.2-py3-none-any.whl (26 kB)\nCollecting keyring<24.0.0,>=23.9.0\n  Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\nCollecting tomli<3.0.0,>=2.0.1\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\nCollecting dulwich<0.21.0,>=0.20.46\n  Downloading dulwich-0.20.50-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (499 kB)\nCollecting importlib-metadata<5.0,>=4.4\n  Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\nCollecting pexpect<5.0.0,>=4.7.0\n  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\nCollecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n  Downloading tomlkit-0.11.6-py3-none-any.whl (35 kB)\nCollecting urllib3<2.0.0,>=1.26.0\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting crashtest<0.5.0,>=0.4.1\n  Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)\nCollecting cleo<3.0.0,>=2.0.0\n  Downloading cleo-2.0.1-py3-none-any.whl (77 kB)\nCollecting requests<3.0,>=2.18\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting requests-toolbelt<0.11.0,>=0.9.1\n  Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\nCollecting virtualenv!=20.4.5,!=20.4.6,<21.0.0,>=20.4.3\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\nCollecting html5lib<2.0,>=1.0\n  Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\nCollecting poetry-core==1.4.0\n  Downloading poetry_core-1.4.0-py3-none-any.whl (546 kB)\nCollecting shellingham<2.0,>=1.5\n  Downloading shellingham-1.5.0-py2.py3-none-any.whl (9.3 kB)\nCollecting lockfile<0.13.0,>=0.12.2\n  Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\nCollecting trove-classifiers>=2022.5.19\n  Downloading trove_classifiers-2022.12.22-py3-none-any.whl (13 kB)\nCollecting platformdirs<3.0.0,>=2.5.2\n  Downloading platformdirs-2.6.0-py3-none-any.whl (14 kB)\nCollecting filelock<4.0.0,>=3.8.0\n  Downloading filelock-3.8.2-py3-none-any.whl (10 kB)\nCollecting jsonschema<5.0.0,>=4.10.0\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\nCollecting msgpack>=0.5.2\n  Downloading msgpack-1.0.4-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\nCollecting rapidfuzz<3.0.0,>=2.2.0\n  Downloading rapidfuzz-2.13.7-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.2 MB)\nCollecting six>=1.9\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting webencodings\n  Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nCollecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n  Downloading pyrsistent-0.19.2-py3-none-any.whl (57 kB)\nCollecting SecretStorage>=3.2\n  Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\nCollecting jaraco.classes\n  Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\nCollecting jeepney>=0.4.2\n  Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\nCollecting ptyprocess>=0.5\n  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting cryptography>=2.0\n  Downloading cryptography-38.0.4-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB)\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB)\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\nCollecting more-itertools\n  Downloading more_itertools-9.0.0-py3-none-any.whl (52 kB)\nInstalling collected packages: pycparser, urllib3, idna, charset-normalizer, cffi, certifi, zipp, requests, msgpack, more-itertools, jeepney, cryptography, webencodings, six, SecretStorage, rapidfuzz, pyrsistent, ptyprocess, poetry-core, platformdirs, lockfile, jaraco.classes, importlib-metadata, filelock, distlib, crashtest, cachecontrol, attrs, virtualenv, trove-classifiers, tomlkit, tomli, shellingham, requests-toolbelt, poetry-plugin-export, pkginfo, pexpect, packaging, keyring, jsonschema, html5lib, dulwich, cleo, poetry\nSuccessfully installed SecretStorage-3.3.3 attrs-22.2.0 cachecontrol-0.12.11 certifi-2022.12.7 cffi-1.15.1 charset-normalizer-2.1.1 cleo-2.0.1 crashtest-0.4.1 cryptography-38.0.4 distlib-0.3.6 dulwich-0.20.50 filelock-3.8.2 html5lib-1.1 idna-3.4 importlib-metadata-4.13.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.0.0 msgpack-1.0.4 packaging-22.0 pexpect-4.8.0 pkginfo-1.9.2 platformdirs-2.6.0 poetry-1.3.1 poetry-core-1.4.0 poetry-plugin-export-1.2.0 ptyprocess-0.7.0 pycparser-2.21 pyrsistent-0.19.2 rapidfuzz-2.13.7 requests-2.28.1 requests-toolbelt-0.10.1 shellingham-1.5.0 six-1.16.0 tomli-2.0.1 tomlkit-0.11.6 trove-classifiers-2022.12.22 urllib3-1.26.13 virtualenv-20.17.1 webencodings-0.5.1 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 96d462245670\n ---> 2427b7749276\nStep 7/20 : ADD pyproject.toml poetry.lock /opt/karaage/\n ---> 687b7243e11d\nStep 8/20 : RUN poetry config virtualenvs.create false\n ---> Running in b0ff438f5e6f\nRemoving intermediate container b0ff438f5e6f\n ---> 33f435486c91\nStep 9/20 : RUN poetry install --no-dev --no-root\n ---> Running in 9c9e88a864fd\n\u001b[91mSkipping virtualenv creation, as specified in config file.\n\u001b[0m\u001b[91mThe `--no-dev` option is deprecated, use the `--only main` notation instead.\n\u001b[0mInstalling dependencies from lock file\n\nPackage operations: 26 installs, 4 updates, 0 removals\n\n  • Updating pip (21.2.4 -> 22.3)\n  • Installing asgiref (3.5.2)\n  • Installing sqlparse (0.4.2)\n  • Updating certifi (2022.12.7 -> 2022.6.15.1)\n  • Installing django (4.1.3)\n  • Installing pyasn1 (0.4.8)\n  • Updating urllib3 (1.26.13 -> 1.26.12)\n  • Installing django-ranged-response (0.2.0)\n  • Installing ldap3 (2.9.1)\n  • Installing passlib (1.7.4)\n  • Updating setuptools (57.5.0 -> 65.3.0)\n  • Installing pillow (9.2.0)\n  • Installing bcrypt (4.0.1)\n  • Installing cracklib (2.9.3)\n  • Installing django-ajax-selects (2.2.0)\n  • Installing django-environ (0.9.0)\n  • Installing django-filter (22.1)\n  • Installing cssmin (0.2.0)\n  • Installing django-tracking-model (0.1.5)\n  • Installing django-simple-captcha (0.5.17)\n  • Installing mysqlclient (2.1.1)\n  • Installing django-tables2 (2.4.1)\n  • Installing gunicorn (20.1.0)\n  • Installing jsmin (3.0.1)\n  • Installing python-tldap (1.0.6)\n  • Installing sentry-sdk (1.10.1)\n  • Installing psycopg2-binary (2.9.5)\n  • Installing pyjwt (2.6.0)\n  • Installing whitenoise (6.2.0)\n  • Installing python-alogger (2.2.12)\nRemoving intermediate container 9c9e88a864fd\n ---> 972323194971\nStep 10/20 : COPY . /opt/karaage/\n ---> a48d00041de6\nStep 11/20 : RUN chmod go+rX -R /opt/karaage/\n ---> Running in 01f07e322d9a\nRemoving intermediate container 01f07e322d9a\n ---> 403e7e19dacb\nStep 12/20 : ARG VERSION=\n ---> Running in 5071cf61ba6e\nRemoving intermediate container 5071cf61ba6e\n ---> 8821a6e5d262\nStep 13/20 : ARG BUILD_DATE=\n ---> Running in 77278ce90101\nRemoving intermediate container 77278ce90101\n ---> 6ee1b9181eec\nStep 14/20 : ARG VCS_REF=\n ---> Running in 54b3cc342317\nRemoving intermediate container 54b3cc342317\n ---> a4400a3e5ba7\nStep 15/20 : ENV VERSION=${VERSION}\n ---> Running in 5591019dd459\nRemoving intermediate container 5591019dd459\n ---> 9bba03fb2d7f\nStep 16/20 : ENV BUILD_DATE=${BUILD_DATE}\n ---> Running in 26d473d25571\nRemoving intermediate container 26d473d25571\n ---> be7983f5e67c\nStep 17/20 : ENV VCS_REF=${VCS_REF}\n ---> Running in 370d3f030e1f\nRemoving intermediate container 370d3f030e1f\n ---> 681510485bad\nStep 18/20 : EXPOSE 8000\n ---> Running in 991c32718420\nRemoving intermediate container 991c32718420\n ---> 00d530a9a791\nStep 19/20 : VOLUME '/etc/karaage3' '/var/log' '/var/lib/karaage3'\n ---> Running in feff58166468\nRemoving intermediate container feff58166468\n ---> 800698febd8c\nStep 20/20 : CMD /opt/karaage/scripts/docker.sh\n ---> Running in 88bd7d3b4627\nRemoving intermediate container 88bd7d3b4627\n ---> e87a80a2fa7c\nSuccessfully built e87a80a2fa7c\nSuccessfully tagged karaage:latest\n","stderr":"","imageSize":1504693825},"endTime":1672241397100}