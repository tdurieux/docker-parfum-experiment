{"repository":"https://github.com/samuelthomas2774/nxapi","dockerfilePath":"Dockerfile","startTime":1673048144218,"endTime":1673048335559,"clone":{"startTime":1673048144218,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/samuelthomas2774/nxapi'...\n","error":null,"endTime":1673048146599,"commit":"788083b7f6b714f15ab321e0b0b05a0677ae7238"},"originalBuild":{"startTime":1673048147197,"endTime":1673048261115,"error":null,"stdout":"Sending build context to Docker daemon  10.07MB\r\r\nStep 1/23 : FROM node:18 as build\n18: Pulling from library/node\nDigest: sha256:f5485ccb431cbc056982452bb47b3b5a15692fe3e1ab8ff047c49573efdaabbe\nStatus: Downloaded newer image for node:18\n ---> 81e3e9b5ce42\nStep 2/23 : WORKDIR /app\n ---> Running in 7678fcc10b98\nRemoving intermediate container 7678fcc10b98\n ---> 3a3bfbd7c74f\nStep 3/23 : ADD package.json /app\n ---> 4cada21c958e\nStep 4/23 : ADD package-lock.json /app\n ---> 8705f544af31\nStep 5/23 : RUN npm install\n ---> Running in a153e39c085e\n\u001b[91mnpm WARN deprecated asar@3.2.0: Please use @electron/asar moving forward.  There is no API change, just a package name change\n\u001b[0m\u001b[91mnpm WARN deprecated electron-osx-sign@0.6.0: Please use @electron/osx-sign moving forward. Be aware the API is slightly different\n\u001b[0m\nadded 410 packages, and audited 411 packages in 55s\n\n40 packages are looking for funding\n  run `npm fund` for details\n\n10 vulnerabilities (3 moderate, 7 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container a153e39c085e\n ---> 6de867cbd1a9\nStep 6/23 : COPY src /app/src\n ---> b76cc5b0b042\nStep 7/23 : COPY bin /app/bin\n ---> 9e32e49b8cea\nStep 8/23 : ADD tsconfig.json /app\n ---> 1e09e7ffc9d4\nStep 9/23 : RUN npx tsc\n ---> Running in b4c7ff0b8a83\nRemoving intermediate container b4c7ff0b8a83\n ---> 02311c8efa08\nStep 10/23 : FROM node:18\n ---> 81e3e9b5ce42\nStep 11/23 : WORKDIR /app\n ---> Running in dddf50405a14\nRemoving intermediate container dddf50405a14\n ---> c809ec322a89\nStep 12/23 : ADD package.json /app\n ---> ab29d59fe3c8\nStep 13/23 : ADD package-lock.json /app\n ---> 8840441fd1a0\nStep 14/23 : RUN npm ci --production\n ---> Running in 645a23bc3765\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 122 packages, and audited 123 packages in 7s\n\n15 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 645a23bc3765\n ---> f731b1e990b1\nStep 15/23 : COPY bin /app/bin\n ---> 452b14bd1a02\nStep 16/23 : COPY resources /app/resources\n ---> 63d97e92ce5d\nStep 17/23 : COPY --from=build /app/dist /app/dist\n ---> 4ba2b82d84ab\nStep 18/23 : RUN ln -s /app/bin/nxapi.js /usr/local/bin/nxapi\n ---> Running in da4bd472fd63\nRemoving intermediate container da4bd472fd63\n ---> 8acae1499f83\nStep 19/23 : ENV NXAPI_DATA_PATH=/data\n ---> Running in 7e6ed10b2ae6\nRemoving intermediate container 7e6ed10b2ae6\n ---> 6f6b1829fc0e\nStep 20/23 : ENV NODE_ENV=production\n ---> Running in e627053c7368\nRemoving intermediate container e627053c7368\n ---> 38e785d50b35\nStep 21/23 : VOLUME [ \"/data\" ]\n ---> Running in 221f341978ff\nRemoving intermediate container 221f341978ff\n ---> a3b1bba2e510\nStep 22/23 : ENTRYPOINT [ \"/app/resources/docker-entrypoint.sh\" ]\n ---> Running in 3fc7e0ae6652\nRemoving intermediate container 3fc7e0ae6652\n ---> b4ff4958516a\nStep 23/23 : CMD [ \"--help\" ]\n ---> Running in fc4efa80393b\nRemoving intermediate container fc4efa80393b\n ---> b138685cb6b4\nSuccessfully built b138685cb6b4\nSuccessfully tagged nxapi:latest\n","stderr":"","imageSize":1078768282},"repair":{"startTime":1673048261235,"endTime":1673048261301,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:18 as build\n\nWORKDIR /app\n\nADD package.json /app\nADD package-lock.json /app\n\nRUN npm install && npm cache clean --force;\n\nCOPY src /app/src\nCOPY bin /app/bin\nADD tsconfig.json /app\n\nRUN npx tsc\n\nFROM node:18\n\nWORKDIR /app\n\nADD package.json /app\nADD package-lock.json /app\n\nRUN npm ci --production\n\nCOPY bin /app/bin\nCOPY resources /app/resources\nCOPY --from=build /app/dist /app/dist\n\nRUN ln -s /app/bin/nxapi.js /usr/local/bin/nxapi\nENV NXAPI_DATA_PATH=/data\nENV NODE_ENV=production\n\nVOLUME [ \"/data\" ]\n\nENTRYPOINT [ \"/app/resources/docker-entrypoint.sh\" ]\nCMD [ \"--help\" ]\n"},"repairedBuild":{"startTime":1673048261566,"endTime":1673048335210,"error":null,"stdout":"Sending build context to Docker daemon  10.07MB\r\r\nStep 1/23 : FROM node:18 as build\n ---> 81e3e9b5ce42\nStep 2/23 : WORKDIR /app\n ---> Running in ff0c290bc3d3\nRemoving intermediate container ff0c290bc3d3\n ---> 086072a94ca1\nStep 3/23 : ADD package.json /app\n ---> 8292249b7787\nStep 4/23 : ADD package-lock.json /app\n ---> 74351da1e1f8\nStep 5/23 : RUN npm install && npm cache clean --force;\n ---> Running in 9105601e261c\n\u001b[91mnpm WARN deprecated asar@3.2.0: Please use @electron/asar moving forward.  There is no API change, just a package name change\n\u001b[0m\u001b[91mnpm WARN deprecated electron-osx-sign@0.6.0: Please use @electron/osx-sign moving forward. Be aware the API is slightly different\n\u001b[0m\nadded 410 packages, and audited 411 packages in 13s\n\n40 packages are looking for funding\n  run `npm fund` for details\n\n10 vulnerabilities (3 moderate, 7 high)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 9105601e261c\n ---> 096c1116ca32\nStep 6/23 : COPY src /app/src\n ---> 763fd99849df\nStep 7/23 : COPY bin /app/bin\n ---> 591291686b89\nStep 8/23 : ADD tsconfig.json /app\n ---> 92b5639df6b2\nStep 9/23 : RUN npx tsc\n ---> Running in 3eaf9247908b\nRemoving intermediate container 3eaf9247908b\n ---> 235e1a7698eb\nStep 10/23 : FROM node:18\n ---> 81e3e9b5ce42\nStep 11/23 : WORKDIR /app\n ---> Running in 8290b2fcaa70\nRemoving intermediate container 8290b2fcaa70\n ---> 7bff39d11b8a\nStep 12/23 : ADD package.json /app\n ---> e0445c873e37\nStep 13/23 : ADD package-lock.json /app\n ---> 8972e2f79788\nStep 14/23 : RUN npm ci --production\n ---> Running in 55fc105b5f28\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config production Use `--omit=dev` instead.\n\u001b[0m\nadded 122 packages, and audited 123 packages in 7s\n\n15 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm \u001b[0m\u001b[91mnotice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm\u001b[0m\u001b[91m notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm\u001b[0m\u001b[91m notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0mRemoving intermediate container 55fc105b5f28\n ---> fce5f2358ec6\nStep 15/23 : COPY bin /app/bin\n ---> aa7d341d6584\nStep 16/23 : COPY resources /app/resources\n ---> 70f4724bac66\nStep 17/23 : COPY --from=build /app/dist /app/dist\n ---> ed597bd57da2\nStep 18/23 : RUN ln -s /app/bin/nxapi.js /usr/local/bin/nxapi\n ---> Running in 5ce8009c26e0\nRemoving intermediate container 5ce8009c26e0\n ---> afcbe4c4f9ed\nStep 19/23 : ENV NXAPI_DATA_PATH=/data\n ---> Running in 4bbfda34d7c4\nRemoving intermediate container 4bbfda34d7c4\n ---> 29a72df72732\nStep 20/23 : ENV NODE_ENV=production\n ---> Running in a0bd8454b20a\nRemoving intermediate container a0bd8454b20a\n ---> 29be8b633c30\nStep 21/23 : VOLUME [ \"/data\" ]\n ---> Running in e8e284968491\nRemoving intermediate container e8e284968491\n ---> 8d0419ba2b0e\nStep 22/23 : ENTRYPOINT [ \"/app/resources/docker-entrypoint.sh\" ]\n ---> Running in 483547a5ad86\nRemoving intermediate container 483547a5ad86\n ---> abe0138551a6\nStep 23/23 : CMD [ \"--help\" ]\n ---> Running in 72d123d99e01\nRemoving intermediate container 72d123d99e01\n ---> dc05959dd5cc\nSuccessfully built dc05959dd5cc\nSuccessfully tagged nxapi:latest\n","stderr":"","imageSize":1078768287}}