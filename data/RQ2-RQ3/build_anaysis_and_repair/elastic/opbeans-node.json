{"repository":"https://github.com/elastic/opbeans-node","dockerfilePath":"Dockerfile","startTime":1672006223370,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/elastic/opbeans-node'...\n","error":null,"commit":"e299a93e6569a929782d34df91e90495b3dd3318"},"originalBuild":{"startTimestamp":1672006224244,"endTimestamp":1672006319952,"error":null,"stdout":"Sending build context to Docker daemon  290.3kB\r\r\nStep 1/11 : FROM node:18-alpine\n ---> 6d7b7852bcd3\nStep 2/11 : WORKDIR /app\n ---> Running in d73cf08e466a\nRemoving intermediate container d73cf08e466a\n ---> 4a220de4563f\nStep 3/11 : ADD . /app\n ---> bf337a0bc68f\nStep 4/11 : ENV NODE_ENV=production\n ---> Running in bba984f01919\nRemoving intermediate container bba984f01919\n ---> e87e0ca8ec4b\nStep 5/11 : ENV ELASTIC_APM_JS_BASE_SERVICE_NAME=opbeans-react\n ---> Running in fe4be845dc6f\nRemoving intermediate container fe4be845dc6f\n ---> 9eafb7f60c45\nStep 6/11 : RUN npm install\n ---> Running in 11c7420c8da0\n\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated async-cache@1.1.0: No longer maintained. Use [lru-cache](http://npm.im/lru-cache) version 7.6 or higher, and provide an asynchronous `fetchMethod` option.\n\u001b[0m\u001b[91mnpm WARN deprecated express-pino-logger@7.0.0: use pino-http instead\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\n> opbeans-node@1.0.0 postinstall\n> if [ \"$NODE_ENV\" != production ]; then npm run client-update; fi\n\n\nadded 267 packages, and audited 268 packages in 21s\n\n44 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm notice \n\u001b[0mRemoving intermediate container 11c7420c8da0\n ---> 2b0f39672615\nStep 7/11 : RUN npm install pm2 -g\n ---> Running in a03ef96b57ae\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 184 packages, and audited 185 packages in 4s\n\n12 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nRemoving intermediate container a03ef96b57ae\n ---> 2d43278cc733\nStep 8/11 : COPY --from=opbeans/opbeans-frontend:latest /app/build /app/client/build\nlatest: Pulling from opbeans/opbeans-frontend\ndf9b9388f04a: Already exists\n3bf6d7380205: Pulling fs layer\n7939e601ee5e: Pulling fs layer\n31f0fb9de071: Pulling fs layer\n287d34488897: Pulling fs layer\n98268b06c2a4: Pulling fs layer\n4850c0ae87bf: Pulling fs layer\n9ac831ea90d7: Pulling fs layer\n98268b06c2a4: Waiting\n9ac831ea90d7: Waiting\n4850c0ae87bf: Waiting\n287d34488897: Waiting\n31f0fb9de071: Verifying Checksum\n31f0fb9de071: Download complete\n7939e601ee5e: Verifying Checksum\n7939e601ee5e: Download complete\n3bf6d7380205: Verifying Checksum\n3bf6d7380205: Download complete\n287d34488897: Verifying Checksum\n287d34488897: Download complete\n98268b06c2a4: Download complete\n4850c0ae87bf: Verifying Checksum\n4850c0ae87bf: Download complete\n3bf6d7380205: Pull complete\n7939e601ee5e: Pull complete\n31f0fb9de071: Pull complete\n287d34488897: Pull complete\n98268b06c2a4: Pull complete\n4850c0ae87bf: Pull complete\n9ac831ea90d7: Verifying Checksum\n9ac831ea90d7: Download complete\n9ac831ea90d7: Pull complete\nDigest: sha256:66b38be191be21fd11819cfd01d4b4ec6b51c939cc18ce90f94eba212f476c17\nStatus: Downloaded newer image for opbeans/opbeans-frontend:latest\n ---> 167ffaf9d0dd\nStep 9/11 : COPY --from=opbeans/opbeans-frontend:latest /app/package.json /app/client/package.json\n ---> 541fe58afc74\nStep 10/11 : LABEL     org.label-schema.schema-version=\"1.0\"     org.label-schema.vendor=\"Elastic\"     org.label-schema.name=\"opbeans-node\"     org.label-schema.version=\"3.41.0\"     org.label-schema.url=\"https://hub.docker.com/r/opbeans/opbeans-node\"     org.label-schema.vcs-url=\"https://github.com/elastic/opbeans-node\"     org.label-schema.license=\"MIT\"\n ---> Running in d68e13975485\nRemoving intermediate container d68e13975485\n ---> 8e4e26420a84\nStep 11/11 : CMD [\"pm2-runtime\", \"ecosystem.config.js\"]\n ---> Running in 102c6a328093\nRemoving intermediate container 102c6a328093\n ---> 0f6c9438a9ea\nSuccessfully built 0f6c9438a9ea\nSuccessfully tagged opbeans-node:latest\n","stderr":"","imageSize":239696014},"repair":{"violations":[],"repairedDockerfile":"FROM node:18-alpine\n\nWORKDIR /app\nADD . /app\nENV NODE_ENV=production\nENV ELASTIC_APM_JS_BASE_SERVICE_NAME=opbeans-react\nRUN npm install\n\nRUN npm install pm2 -g\n\nCOPY --from=opbeans/opbeans-frontend:latest /app/build /app/client/build\nCOPY --from=opbeans/opbeans-frontend:latest /app/package.json /app/client/package.json\n\nLABEL \\\n    org.label-schema.schema-version=\"1.0\" \\\n    org.label-schema.vendor=\"Elastic\" \\\n    org.label-schema.name=\"opbeans-node\" \\\n    org.label-schema.version=\"3.41.0\" \\\n    org.label-schema.url=\"https://hub.docker.com/r/opbeans/opbeans-node\" \\\n    org.label-schema.vcs-url=\"https://github.com/elastic/opbeans-node\" \\\n    org.label-schema.license=\"MIT\"\n\nCMD [\"pm2-runtime\", \"ecosystem.config.js\"]\n"},"endTime":1672006320524}