{"repository":"https://github.com/pug-ma/pugma-bot","dockerfilePath":"Dockerfile","startTime":1672016584678,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/pug-ma/pugma-bot'...\n","error":null,"commit":"ff863b1a5679a8b0efa82615492ae5dce798dc54"},"originalBuild":{"startTimestamp":1672016585493,"endTimestamp":1672016607395,"error":null,"stdout":"Sending build context to Docker daemon  47.62kB\r\r\nStep 1/10 : FROM python:3.7-slim-buster\n3.7-slim-buster: Pulling from library/python\nb52ebda398ed: Already exists\n5ea3b77facf9: Already exists\n69b8ee991530: Pulling fs layer\nf1e660d833e2: Pulling fs layer\n3428ad633370: Pulling fs layer\nf1e660d833e2: Download complete\n3428ad633370: Verifying Checksum\n3428ad633370: Download complete\n69b8ee991530: Verifying Checksum\n69b8ee991530: Download complete\n69b8ee991530: Pull complete\nf1e660d833e2: Pull complete\n3428ad633370: Pull complete\nDigest: sha256:1b6da06b941077474cc109fbfc873966d8281419f523ebdb8f5558b87b293cb7\nStatus: Downloaded newer image for python:3.7-slim-buster\n ---> 593efe4c1eee\nStep 2/10 : ARG DEBUG=0\n ---> Running in 2af640c85d6e\nRemoving intermediate container 2af640c85d6e\n ---> 4928eb0bab67\nStep 3/10 : ENV DEBUG=\"${DEBUG}\"\n ---> Running in 5838d2e370e8\nRemoving intermediate container 5838d2e370e8\n ---> e4621b31b9bd\nStep 4/10 : RUN useradd --create-home appuser\n ---> Running in cccf555e884f\nRemoving intermediate container cccf555e884f\n ---> 86f3a82e080b\nStep 5/10 : WORKDIR /home/appuser\n ---> Running in ae974f8853c0\nRemoving intermediate container ae974f8853c0\n ---> 48307745594a\nStep 6/10 : COPY ./requirements.txt .\n ---> a87c26f09cd8\nStep 7/10 : RUN pip install -r requirements.txt\n ---> Running in d9340c19281f\nCollecting aiohttp==3.7.4\n  Downloading aiohttp-3.7.4-cp37-cp37m-manylinux2014_x86_64.whl (1.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 33.2 MB/s eta 0:00:00\nCollecting asn1crypto==0.24.0\n  Downloading asn1crypto-0.24.0-py2.py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.6/101.6 KB 10.9 MB/s eta 0:00:00\nCollecting async-generator==1.10\n  Downloading async_generator-1.10-py3-none-any.whl (18 kB)\nCollecting async-timeout==3.0.1\n  Downloading async_timeout-3.0.1-py3-none-any.whl (8.2 kB)\nCollecting atomicwrites==1.3.0\n  Downloading atomicwrites-1.3.0-py2.py3-none-any.whl (5.9 kB)\nCollecting attrs==18.2.0\n  Downloading attrs-18.2.0-py2.py3-none-any.whl (34 kB)\nCollecting certifi==2019.6.16\n  Downloading certifi-2019.6.16-py2.py3-none-any.whl (157 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 157.1/157.1 KB 18.6 MB/s eta 0:00:00\nCollecting cffi==1.12.3\n  Downloading cffi-1.12.3-cp37-cp37m-manylinux1_x86_64.whl (430 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 430.8/430.8 KB 27.5 MB/s eta 0:00:00\nCollecting chardet==3.0.4\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 KB 14.4 MB/s eta 0:00:00\nCollecting cryptography==3.3.2\n  Downloading cryptography-3.3.2-cp36-abi3-manylinux2010_x86_64.whl (2.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.6/2.6 MB 66.9 MB/s eta 0:00:00\nCollecting idna==2.8\n  Downloading idna-2.8-py2.py3-none-any.whl (58 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.6/58.6 KB 6.5 MB/s eta 0:00:00\nCollecting importlib-metadata==0.18\n  Downloading importlib_metadata-0.18-py2.py3-none-any.whl (26 kB)\nCollecting more-itertools==6.0.0\n  Downloading more_itertools-6.0.0-py3-none-any.whl (52 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.4/52.4 KB 4.6 MB/s eta 0:00:00\nCollecting multidict==4.5.2\n  Downloading multidict-4.5.2-cp37-cp37m-manylinux1_x86_64.whl (309 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 309.6/309.6 KB 19.2 MB/s eta 0:00:00\nCollecting olefile==0.46\n  Downloading olefile-0.46.zip (112 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.2/112.2 KB 12.3 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting packaging==19.0\n  Downloading packaging-19.0-py2.py3-none-any.whl (26 kB)\nCollecting Pillow==8.1.1\n  Downloading Pillow-8.1.1-cp37-cp37m-manylinux1_x86_64.whl (2.2 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.2/2.2 MB 5.8 MB/s eta 0:00:00\nCollecting pluggy==0.12.0\n  Downloading pluggy-0.12.0-py2.py3-none-any.whl (17 kB)\nCollecting py==1.10.0\n  Downloading py-1.10.0-py2.py3-none-any.whl (97 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 97.6/97.6 KB 11.3 MB/s eta 0:00:00\nCollecting pyaes==1.6.1\n  Downloading pyaes-1.6.1.tar.gz (28 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pyasn1==0.4.5\n  Downloading pyasn1-0.4.5-py2.py3-none-any.whl (73 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 73.7/73.7 KB 7.5 MB/s eta 0:00:00\nCollecting pycparser==2.19\n  Downloading pycparser-2.19.tar.gz (158 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 158.3/158.3 KB 17.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting pyOpenSSL==19.0.0\n  Downloading pyOpenSSL-19.0.0-py2.py3-none-any.whl (53 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.3/53.3 KB 5.7 MB/s eta 0:00:00\nCollecting pyparsing==2.3.1\n  Downloading pyparsing-2.3.1-py2.py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.8/61.8 KB 6.1 MB/s eta 0:00:00\nCollecting PySocks==1.7.0\n  Downloading PySocks-1.7.0-py3-none-any.whl (16 kB)\nCollecting pytest==5.1.0\n  Downloading pytest-5.1.0-py3-none-any.whl (223 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 223.6/223.6 KB 24.3 MB/s eta 0:00:00\nCollecting python-decouple==3.1\n  Downloading python-decouple-3.1.tar.gz (8.7 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting requests==2.22.0\n  Downloading requests-2.22.0-py2.py3-none-any.whl (57 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.0/58.0 KB 6.4 MB/s eta 0:00:00\nCollecting rsa==4.7\n  Downloading rsa-4.7-py3-none-any.whl (34 kB)\nCollecting six==1.12.0\n  Downloading six-1.12.0-py2.py3-none-any.whl (10 kB)\nCollecting Telethon==1.9.0\n  Downloading Telethon-1.9.0-py3-none-any.whl (427 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 427.6/427.6 KB 25.9 MB/s eta 0:00:00\nCollecting urllib3==1.24.3\n  Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.8/118.8 KB 14.2 MB/s eta 0:00:00\nCollecting wcwidth==0.1.7\n  Downloading wcwidth-0.1.7-py2.py3-none-any.whl (21 kB)\nCollecting yarl==1.3.0\n  Downloading yarl-1.3.0.tar.gz (159 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 159.7/159.7 KB 18.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting zipp==0.5.1\n  Downloading zipp-0.5.1-py2.py3-none-any.whl (3.8 kB)\nCollecting typing-extensions>=3.6.5\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nBuilding wheels for collected packages: olefile, pyaes, pycparser, python-decouple, yarl\n  Building wheel for olefile (setup.py): started\n  Building wheel for olefile (setup.py): finished with status 'done'\n  Created wheel for olefile: filename=olefile-0.46-py2.py3-none-any.whl size=35430 sha256=306dd335cc087eaf391c4c0b6827cf9813c6d3a4d4cdc908de6ab0f96289d5ea\n  Stored in directory: /root/.cache/pip/wheels/84/53/e6/37d90ccb3ad1a3ca98d2b17107e9fda401a7c541ea1eb6a65a\n  Building wheel for pyaes (setup.py): started\n  Building wheel for pyaes (setup.py): finished with status 'done'\n  Created wheel for pyaes: filename=pyaes-1.6.1-py3-none-any.whl size=26363 sha256=ced9d7b86e8a66ca89bc688bab75c8647031ab13c0512a7e4b9f47b63fc76b7b\n  Stored in directory: /root/.cache/pip/wheels/42/a3/7d/73d60820adb58d818179cdec3fc1be66f6f7453513a3ff0b05\n  Building wheel for pycparser (setup.py): started\n  Building wheel for pycparser (setup.py): finished with status 'done'\n  Created wheel for pycparser: filename=pycparser-2.19-py2.py3-none-any.whl size=111053 sha256=81d4b624fb70b4fff6b50d130290147f89321a3b0aeb1985c8454699658b8908\n  Stored in directory: /root/.cache/pip/wheels/0e/53/27/fee7fd9562e10dd046caccfc0340b8cf789b46846e660f3380\n  Building wheel for python-decouple (setup.py): started\n  Building wheel for python-decouple (setup.py): finished with status 'done'\n  Created wheel for python-decouple: filename=python_decouple-3.1-py3-none-any.whl size=7916 sha256=637c898b40d948eeebc6f58eba517e9c7550d26056be0d17543058793da305b8\n  Stored in directory: /root/.cache/pip/wheels/f2/b8/f7/51206658688b6caf349d24e6ec0f91668942b137bdb387ef3f\n  Building wheel for yarl (setup.py): started\n  Building wheel for yarl (setup.py): finished with status 'done'\n  Created wheel for yarl: filename=yarl-1.3.0-py3-none-any.whl size=84928 sha256=a6cf0811f855c5829abe513bc305b8ae209370c7b59002776586f3027d30b967\n  Stored in directory: /root/.cache/pip/wheels/4b/c1/ba/a513db30569ac269e885ed411b95b6c28c6f9d1fd54fced96e\nSuccessfully built olefile pyaes pycparser python-decouple yarl\nInstalling collected packages: wcwidth, python-decouple, pyparsing, pyasn1, pyaes, chardet, certifi, attrs, asn1crypto, zipp, urllib3, typing-extensions, six, rsa, PySocks, pycparser, py, Pillow, olefile, multidict, more-itertools, idna, atomicwrites, async-timeout, async-generator, yarl, Telethon, requests, packaging, importlib-metadata, cffi, pluggy, cryptography, aiohttp, pytest, pyOpenSSL\nSuccessfully installed Pillow-8.1.1 PySocks-1.7.0 Telethon-1.9.0 aiohttp-3.7.4 asn1crypto-0.24.0 async-generator-1.10 async-timeout-3.0.1 atomicwrites-1.3.0 attrs-18.2.0 certifi-2019.6.16 cffi-1.12.3 chardet-3.0.4 cryptography-3.3.2 idna-2.8 importlib-metadata-0.18 more-itertools-6.0.0 multidict-4.5.2 olefile-0.46 packaging-19.0 pluggy-0.12.0 py-1.10.0 pyOpenSSL-19.0.0 pyaes-1.6.1 pyasn1-0.4.5 pycparser-2.19 pyparsing-2.3.1 pytest-5.1.0 python-decouple-3.1 requests-2.22.0 rsa-4.7 six-1.12.0 typing-extensions-4.4.0 urllib3-1.24.3 wcwidth-0.1.7 yarl-1.3.0 zipp-0.5.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container d9340c19281f\n ---> 9a656fd1d8e4\nStep 8/10 : USER appuser\n ---> Running in af69ea1b8efd\nRemoving intermediate container af69ea1b8efd\n ---> a866091f07e4\nStep 9/10 : COPY . .\n ---> 8880b07d81b1\nStep 10/10 : CMD [\"python\", \"app.py\"]\n ---> Running in 14e98978d87c\nRemoving intermediate container 14e98978d87c\n ---> 64a3c370201d\nSuccessfully built 64a3c370201d\nSuccessfully tagged pugma-bot:latest\n","stderr":"","imageSize":174795995},"repair":{"violations":[],"repairedDockerfile":"FROM python:3.7-slim-buster\n\n# ARGS da Build\nARG DEBUG=0\n\n# ENVARS\nENV DEBUG=\"${DEBUG}\"\n\n# Diretório pro projeto\nRUN useradd --create-home appuser\nWORKDIR /home/appuser\n\n# Install requirements\nCOPY ./requirements.txt .\nRUN pip install -r requirements.txt\n\n# Rode o container como usuário não-root\nUSER appuser\n\n# Copia o projeto\nCOPY . .\n\n# Rode o bot\nCMD [\"python\", \"app.py\"]\n"},"endTime":1672016607720}