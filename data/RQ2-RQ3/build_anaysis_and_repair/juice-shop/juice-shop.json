{"repository":"https://github.com/juice-shop/juice-shop","dockerfilePath":"Dockerfile","startTime":1672916034703,"endTime":1672917317977,"clone":{"startTime":1672916034703,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/juice-shop/juice-shop'...\n","error":null,"endTime":1672916037364,"commit":"871132ab5fa57143bd4d7237163464b21ebcb879"},"originalBuild":{"startTime":1672916037449,"endTime":1672916709677,"error":null,"stdout":"Sending build context to Docker daemon  43.68MB\r\r\nStep 1/19 : FROM node:18 as installer\n18: Pulling from library/node\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n9537c7a3988e: Already exists\nfd36cab452a2: Pulling fs layer\n2d0da1e46288: Pulling fs layer\n1815baed2c16: Pulling fs layer\n1815baed2c16: Download complete\n2d0da1e46288: Verifying Checksum\n2d0da1e46288: Download complete\nfd36cab452a2: Verifying Checksum\nfd36cab452a2: Download complete\nfd36cab452a2: Pull complete\n2d0da1e46288: Pull complete\n1815baed2c16: Pull complete\nDigest: sha256:e9ad817b0d42b4d177a4bef8a0aff97c352468a008c3fdb2b4a82533425480df\nStatus: Downloaded newer image for node:18\n ---> 7b2a09676e2c\nStep 2/19 : COPY . /juice-shop\n ---> 9f900836222b\nStep 3/19 : WORKDIR /juice-shop\n ---> Running in d4b63004ae0a\nRemoving intermediate container d4b63004ae0a\n ---> f2d019bfac26\nStep 4/19 : RUN npm i -g typescript ts-node\n ---> Running in 6b1c52b3d1b3\n\nadded 19 packages, and audited 20 packages in 4s\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container 6b1c52b3d1b3\n ---> ba863f5ab7a4\nStep 5/19 : RUN npm install --omit=dev --unsafe-perm\n ---> Running in 13debb285ece\n\u001b[91mnpm WARN deprecated formatio@1.1.1: This package is unmaintained. Use @sinonjs/formatio instead\n\u001b[0m\u001b[91mnpm WARN deprecated samsam@1.1.2: This package has been deprecated in favour of @sinonjs/samsam\n\u001b[0m\u001b[91mnpm WARN deprecated eivindfjeldstad-dot@0.0.1: Use @eivifj/dot instead\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m jws@0.2.6: Security update: Versions below 3.0.0 are deprecated.\n\u001b[0m\u001b[91mnpm WARN deprecated messageformat@2.3.0: Package renamed as '@messageformat/core', see messageformat.github.io for more details. 'messageformat@4' will eventually provide a polyfill for Intl.MessageFormat, once it's been defined by Unicode & ECMA.\n\u001b[0m\u001b[91mnpm WARN deprecated jsonwebtoken@0.4.0: Critical vulnerability fix in v5.0.0. See https://auth0.com/blog/2015/03/31/critical-vulnerabilities-in-json-web-token-libraries/\n\u001b[0m\u001b[91mnpm WARN deprecated notevil@1.3.3: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.15.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN deprecated jsonwebtoken@0.1.0: Critical vulnerability fix in v5.0.0. See https://auth0.com/blog/2015/03/31/critical-vulnerabilities-in-json-web-token-libraries/\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated iltorb@2.4.5: The zlib module provides APIs for brotli compression/decompression starting with Node.js v10.16.0, please use it over iltorb\n\u001b[0m\n> juice-shop@14.4.0 postinstall\n> cd frontend && npm install --legacy-peer-deps && cd .. && npm run build:frontend && (npm run --silent build:server || cd .)\n\n\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated @angular/flex-layout@10.0.0-beta.32: This package has been deprecated. Please see https://blog.angular.io/modern-css-in-angular-layouts-4a259dca9127\n\u001b[0m\n> frontend@14.4.0 postinstall\n> ngcc --tsconfig \"./src/tsconfig.app.json\"\n\nProcessing legacy \"View Engine\" libraries:\n- @angular/flex-layout/core [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @angular/http [fesm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular/flex-layout/extended [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/flex [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/grid [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @ngx-translate/core [fesm2015/esm2015] (git+https://github.com/ngx-translate/core.git)\n- @angular/http/testing [fesm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular-material-extensions/password-strength [fesm2015/esm2015] (git://github.com/angular-material-extensions/password-strength.git)\n- ng2-file-upload [fesm2015/esm2015] ()\n- ngx-text-diff [fesm2015/esm2015] (https://github.com/ABenassi87/ngx-text-diff.git)\n- @angular/flex-layout [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @nguniversal/common [fesm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/common/tokens [fesm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/express-engine/tokens [fesm2015/esm2015] (https://github.com/angular/universal)\n- @ngx-translate/http-loader [fesm2015/esm2015] (git+https://github.com/ngx-translate/http-loader.git)\n- ng-mat-search-bar [fesm2015/esm2015] (https://github.com/tommueller/ng-mat-search-bar.git)\n- ng-simple-slideshow [es2015/esm2015] (git+https://github.com/dockleryxk/ng-simple-slideshow.git)\n- anuglar2-qrcode [main/umd] (git+https://github.com/SuperiorJT/angular2-qrcode.git)\n- @angular/flex-layout/core [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/core [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/extended [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/extended [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/flex [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/flex [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/grid [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/grid [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/http [fesm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http [esm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular/http [esm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http [main/umd] (https://github.com/angular/angular.git)\n- @angular/http/testing [fesm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http/testing [esm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular/http/testing [esm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http/testing [main/umd] (https://github.com/angular/angular.git)\n- @angular-material-extensions/password-strength [fesm5/esm5] (git://github.com/angular-material-extensions/password-strength.git)\n- @angular-material-extensions/password-strength [esm2015/esm2015] (git://github.com/angular-material-extensions/password-strength.git)\n- @angular-material-extensions/password-strength [esm5/esm5] (git://github.com/angular-material-extensions/password-strength.git)\n- @angular-material-extensions/password-strength [main/umd] (git://github.com/angular-material-extensions/password-strength.git)\n- @nguniversal/common [esm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/common [main/umd] (https://github.com/angular/universal)\n- @nguniversal/common/tokens [esm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/common/tokens [main/umd] (https://github.com/angular/universal)\n- @nguniversal/express-engine/tokens [esm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/express-engine/tokens [main/umd] (https://github.com/angular/universal)\n- @ngx-translate/core [esm2015/esm2015] (git+https://github.com/ngx-translate/core.git)\n- @ngx-translate/http-loader [esm2015/esm2015] (git+https://github.com/ngx-translate/http-loader.git)\n- @ngx-translate/core [main/umd] (git+https://github.com/ngx-translate/core.git)\n- @ngx-translate/http-loader [main/umd] (git+https://github.com/ngx-translate/http-loader.git)\n- anuglar2-qrcode [module/esm5] (git+https://github.com/SuperiorJT/angular2-qrcode.git)\n- ng-mat-search-bar [esm2015/esm2015] (https://github.com/tommueller/ng-mat-search-bar.git)\n- ng-mat-search-bar [main/umd] (https://github.com/tommueller/ng-mat-search-bar.git)\n- ng-simple-slideshow [module/esm5] (git+https://github.com/dockleryxk/ng-simple-slideshow.git)\n- ng-simple-slideshow [main/umd] (git+https://github.com/dockleryxk/ng-simple-slideshow.git)\n- ng2-file-upload [fesm5/esm5] ()\n- ng2-file-upload [esm2015/esm2015] ()\n- ng2-file-upload [esm5/esm5] ()\n- ngx-text-diff [fesm5/esm5] (https://github.com/ABenassi87/ngx-text-diff.git)\n- ng2-file-upload [main/umd] ()\n- ngx-text-diff [esm2015/esm2015] (https://github.com/ABenassi87/ngx-text-diff.git)\n- ngx-text-diff [esm5/esm5] (https://github.com/ABenassi87/ngx-text-diff.git)\n- ngx-text-diff [main/umd] (https://github.com/ABenassi87/ngx-text-diff.git)\nEncourage the library authors to publish an Ivy distribution.\n\nadded 886 packages, and audited 887 packages in 52s\n\n83 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\n> juice-shop@14.4.0 build:frontend\n> cd frontend && node ./node_modules/@angular/cli/bin/ng build --aot --configuration production --output-hashing=none --vendor-chunk=true --source-map=false\n\n\u001b[91mOne or more browsers which are configured in the project's Browserslist configuration will be ignored as ES5 output is not supported by the Angular CLI.\nIgnored browsers: kaios 2.5, op_mini all\n\u001b[0m\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91m    TypeScript compiler options \"target\" and \"useDefineForClassFields\" are set to \"ES2022\" and \"false\" respectively by the Angular CLI. To control ECMA version and features use the Browerslist configuration. For more information, see https://angular.io/guide/build#configuring-browser-compatibility\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n- Generating index html...\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files | Names                                 |  Raw Size | Estimated Transfer Size\nvendor.js           | vendor                                |   1.31 MB |               295.24 kB\nstyles.css          | styles                                | 595.02 kB |                29.80 kB\nmain.js             | main                                  | 389.04 kB |                63.05 kB\npolyfills.js        | polyfills                             |  53.09 kB |                16.92 kB\nruntime.js          | runtime                               |   3.13 kB |                 1.44 kB\n\n| Initial Total                         |   2.33 MB |               406.45 kB\n\nLazy Chunk Files    | Names                                 |  Raw Size | Estimated Transfer Size\ntutorial.js         | tutorial                              |  28.68 kB |                 7.31 kB\n112.js              | highlight-js-lib-core                 |  20.02 kB |                 7.25 kB\n103.js              | confetti                              |   7.98 kB |                 2.96 kB\n535.js              | highlight-js-lib-languages-typescript |   7.25 kB |                 2.61 kB\n613.js              | highlight-js-lib-languages-javascript |   6.19 kB |                 2.27 kB\n859.js              | highlightjs-line-numbers-js           |   3.32 kB |                 1.35 kB\n472.js              | highlight-js-lib-languages-yaml       |   1.75 kB |               737 bytes\n\nBuild at: 2023-01-05T10:59:13.205Z - Hash: 647cbd925d4ed836 - Time: 38033ms\n\u001b[91m\nWarning: /juice-shop/frontend/node_modules/anuglar2-qrcode/lib/angular2-qrcode.js depends on 'qrious'. CommonJS or AMD dependencies can cause optimization bailouts.\nFor more info see: https://angular.io/guide/build#configuring-commonjs-dependencies\n\nWarning: /juice-shop/frontend/node_modules/ngx-text-diff/fesm2015/ngx-text-diff.js depends on 'diff-match-patch'. CommonJS or AMD dependencies can cause optimization bailouts.\nFor more info see: https://angular.io/guide/build#configuring-commonjs-dependencies\n\n\n\u001b[0mlib/antiCheat.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/challengeUtils.ts(53,16): error TS7017: Element implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\nlib/insecurity.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nlib/startup/cleanupFtpFolder.ts(6,23): error TS7016: Could not find a declaration file for module 'glob'. '/juice-shop/node_modules/glob/glob.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/glob` if it exists or add a new declaration (.d.ts) file containing `declare module 'glob';`\nlib/startup/customizeEasterEgg.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/startup/registerWebsocketEvents.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/startup/registerWebsocketEvents.ts(16,10): error TS7017: Element implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\nlib/startup/validateChatBot.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/startup/validatePreconditions.ts(7,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/webhook.ts(6,26): error TS7016: Could not find a declaration file for module 'request'. '/juice-shop/node_modules/request/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/request` if it exists or add a new declaration (.d.ts) file containing `declare module 'request';`\nmodels/user.ts(7,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/2fa.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/2fa.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/address.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/angular.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/appConfiguration.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/appConfiguration.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/appVersion.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/appVersion.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/authenticatedUsers.ts(5,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/b2bOrder.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/basket.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/basketItems.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/captcha.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/changePassword.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/chatbot.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/chatbot.ts(10,42): error TS7016: Could not find a declaration file for module 'jsonwebtoken'. '/juice-shop/node_modules/jsonwebtoken/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/jsonwebtoken` if it exists or add a new declaration (.d.ts) file containing `declare module 'jsonwebtoken';`\nroutes/continueCode.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/countryMapping.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/coupon.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/createProductReviews.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/currentUser.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/dataErasure.ts(5,58): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/dataErasure.ts(74,13): error TS7006: Parameter 'error' implicitly has an 'any' type.\nroutes/dataErasure.ts(74,20): error TS7006: Parameter 'html' implicitly has an 'any' type.\nroutes/dataExport.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/delivery.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/deluxe.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/easterEgg.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/fileServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/fileUpload.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/imageCaptcha.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/keyServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/languages.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/likeProductReviews.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/logfileServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/login.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/memory.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/metrics.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/order.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/orderHistory.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/payment.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/premiumReward.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/privacyPolicyProof.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/profileImageFileUpload.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/profileImageFileUpload.ts(30,13): error TS2578: Unused '@ts-expect-error' directive.\nroutes/profileImageUrlUpload.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/quarantineServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/recycles.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/redirect.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/repeatNotification.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/resetPassword.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/resetPassword.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/restoreProgress.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/saveLoginIp.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/search.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/securityQuestion.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/showProductReviews.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/trackOrder.ts(8,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/updateProductReviews.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/updateUserProfile.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/userProfile.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/verify.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/verify.ts(8,42): error TS7016: Could not find a declaration file for module 'jsonwebtoken'. '/juice-shop/node_modules/jsonwebtoken/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/jsonwebtoken` if it exists or add a new declaration (.d.ts) file containing `declare module 'jsonwebtoken';`\nroutes/videoHandler.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/vulnCodeFixes.ts(1,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/vulnCodeSnippet.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/vulnCodeSnippet.ts(7,16): error TS7016: Could not find a declaration file for module 'graceful-fs'. '/juice-shop/node_modules/graceful-fs/graceful-fs.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/graceful-fs` if it exists or add a new declaration (.d.ts) file containing `declare module 'graceful-fs';`\nroutes/vulnCodeSnippet.ts(9,18): error TS7016: Could not find a declaration file for module 'js-yaml'. '/juice-shop/node_modules/js-yaml/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/js-yaml` if it exists or add a new declaration (.d.ts) file containing `declare module 'js-yaml';`\nroutes/vulnCodeSnippet.ts(33,53): error TS7006: Parameter 'file' implicitly has an 'any' type.\nroutes/wallet.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/wallet.ts(28,64): error TS2339: Property 'balance' does not exist on type '[affectedRows: Wallet[], affectedCount?: number | undefined]'.\nserver.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nserver.ts(216,5): error TS2578: Unused '@ts-expect-error' directive.\nserver.ts(233,7): error TS2578: Unused '@ts-expect-error' directive.\nserver.ts(280,5): error TS2578: Unused '@ts-expect-error' directive.\n\nadded 1095 packages, and audited 1096 packages in 4m\n\n69 packages are looking for funding\n  run `npm fund` for details\n\n16 vulnerabilities (8 moderate, 3 high, 5 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container 13debb285ece\n ---> ac56a3525a9e\nStep 6/19 : RUN npm dedupe\n ---> Running in cc1f9df01e47\n\u001b[91mnpm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated ecstatic@3.3.2: This package is unmaintained and deprecated. See the GH Issue 259.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-parser@3.0.0: This is a stub types definition. socket.io-parser provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/express-unless@2.0.1: This is a stub types definition. express-unless provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\nadded 846 packages, removed 6 packages, changed 4 packages, and audited 1936 packages in 46s\n\n154 packages are looking for funding\n  run `npm fund` for details\n\n21 vulnerabilities (11 moderate, 5 high, 5 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container cc1f9df01e47\n ---> e8bda5c089fb\nStep 7/19 : RUN rm -rf frontend/node_modules\n ---> Running in fb38106452a5\nRemoving intermediate container fb38106452a5\n ---> f44e5dd74a63\nStep 8/19 : RUN rm -rf frontend/.angular\n ---> Running in db1d8d537616\nRemoving intermediate container db1d8d537616\n ---> 2ac901441488\nStep 9/19 : RUN rm -rf frontend/src/assets\n ---> Running in 823100a64efc\nRemoving intermediate container 823100a64efc\n ---> e5404c75c0d4\nStep 10/19 : RUN mkdir logs &&     chown -R 65532 logs &&     chgrp -R 0 ftp/ frontend/dist/ logs/ data/ i18n/ &&     chmod -R g=u ftp/ frontend/dist/ logs/ data/ i18n/\n ---> Running in 4b64eb252e3c\nRemoving intermediate container 4b64eb252e3c\n ---> dc6ed3e694d6\nStep 11/19 : FROM gcr.io/distroless/nodejs:18\n18: Pulling from distroless/nodejs\nfc251a6e7981: Pulling fs layer\nfda4ba87f6fb: Pulling fs layer\na1f1879bb7de: Pulling fs layer\na02cc7e9cd7d: Pulling fs layer\na02cc7e9cd7d: Waiting\nfc251a6e7981: Download complete\na1f1879bb7de: Verifying Checksum\na1f1879bb7de: Download complete\nfda4ba87f6fb: Verifying Checksum\nfda4ba87f6fb: Download complete\nfc251a6e7981: Pull complete\nfda4ba87f6fb: Pull complete\na1f1879bb7de: Pull complete\na02cc7e9cd7d: Download complete\na02cc7e9cd7d: Pull complete\nDigest: sha256:a751de120bdf47f66a12fc03ebefc0e17d70ed4d361a9145c29bbf01bafd9fcc\nStatus: Downloaded newer image for gcr.io/distroless/nodejs:18\n ---> 6d2b7156ebfe\nStep 12/19 : ARG BUILD_DATE\n ---> Running in d7ba35b174e4\nRemoving intermediate container d7ba35b174e4\n ---> 5243f52f17a7\nStep 13/19 : ARG VCS_REF\n ---> Running in 9c30eb55251f\nRemoving intermediate container 9c30eb55251f\n ---> 60d8916530e7\nStep 14/19 : LABEL maintainer=\"Bjoern Kimminich <bjoern.kimminich@owasp.org>\"     org.opencontainers.image.title=\"OWASP Juice Shop\"     org.opencontainers.image.description=\"Probably the most modern and sophisticated insecure web application\"     org.opencontainers.image.authors=\"Bjoern Kimminich <bjoern.kimminich@owasp.org>\"     org.opencontainers.image.vendor=\"Open Web Application Security Project\"     org.opencontainers.image.documentation=\"https://help.owasp-juice.shop\"     org.opencontainers.image.licenses=\"MIT\"     org.opencontainers.image.version=\"14.4.0\"     org.opencontainers.image.url=\"https://owasp-juice.shop\"     org.opencontainers.image.source=\"https://github.com/juice-shop/juice-shop\"     org.opencontainers.image.revision=$VCS_REF     org.opencontainers.image.created=$BUILD_DATE\n ---> Running in 324bc3b65e64\nRemoving intermediate container 324bc3b65e64\n ---> 2d90bf44ab14\nStep 15/19 : WORKDIR /juice-shop\n ---> Running in ab55abfe9fd6\nRemoving intermediate container ab55abfe9fd6\n ---> 68bbb37ee312\nStep 16/19 : COPY --from=installer --chown=nonroot /juice-shop .\n ---> 76d139b3ca4c\nStep 17/19 : USER 65532\n ---> Running in 06a83ce2eb6d\nRemoving intermediate container 06a83ce2eb6d\n ---> 0dc02253d10f\nStep 18/19 : EXPOSE 3000\n ---> Running in 47d84ff779f6\nRemoving intermediate container 47d84ff779f6\n ---> 32de9a47110c\nStep 19/19 : CMD [\"/juice-shop/build/app.js\"]\n ---> Running in ba576249b1ff\nRemoving intermediate container ba576249b1ff\n ---> 93ea8bfb0f64\nSuccessfully built 93ea8bfb0f64\nSuccessfully tagged juice-shop:latest\n","stderr":"","imageSize":575272534},"repair":{"startTime":1672916709748,"endTime":1672916709880,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":31}},{"name":"npmCacheCleanAfterInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":40}}],"repairedDockerfile":"FROM node:18 as installer\nCOPY . /juice-shop\nWORKDIR /juice-shop\nRUN npm i -g typescript ts-node && npm cache clean --force;\nRUN npm install --omit=dev --unsafe-perm && npm cache clean --force;\nRUN npm dedupe\nRUN rm -rf frontend/node_modules\nRUN rm -rf frontend/.angular\nRUN rm -rf frontend/src/assets\nRUN mkdir logs && \\\n    chown -R 65532 logs && \\\n    chgrp -R 0 ftp/ frontend/dist/ logs/ data/ i18n/ && \\\n    chmod -R g=u ftp/ frontend/dist/ logs/ data/ i18n/\n\nFROM gcr.io/distroless/nodejs:18\nARG BUILD_DATE\nARG VCS_REF\nLABEL maintainer=\"Bjoern Kimminich <bjoern.kimminich@owasp.org>\" \\\n    org.opencontainers.image.title=\"OWASP Juice Shop\" \\\n    org.opencontainers.image.description=\"Probably the most modern and sophisticated insecure web application\" \\\n    org.opencontainers.image.authors=\"Bjoern Kimminich <bjoern.kimminich@owasp.org>\" \\\n    org.opencontainers.image.vendor=\"Open Web Application Security Project\" \\\n    org.opencontainers.image.documentation=\"https://help.owasp-juice.shop\" \\\n    org.opencontainers.image.licenses=\"MIT\" \\\n    org.opencontainers.image.version=\"14.4.0\" \\\n    org.opencontainers.image.url=\"https://owasp-juice.shop\" \\\n    org.opencontainers.image.source=\"https://github.com/juice-shop/juice-shop\" \\\n    org.opencontainers.image.revision=$VCS_REF \\\n    org.opencontainers.image.created=$BUILD_DATE\nWORKDIR /juice-shop\nCOPY --from=installer --chown=nonroot /juice-shop .\nUSER 65532\nEXPOSE 3000\nCMD [\"/juice-shop/build/app.js\"]\n"},"repairedBuild":{"startTime":1672916718402,"endTime":1672917317021,"error":null,"stdout":"Sending build context to Docker daemon  43.68MB\r\r\nStep 1/19 : FROM node:18 as installer\n ---> 7b2a09676e2c\nStep 2/19 : COPY . /juice-shop\n ---> 2e6938aa3a93\nStep 3/19 : WORKDIR /juice-shop\n ---> Running in e4fb0db61df2\nRemoving intermediate container e4fb0db61df2\n ---> d790afafc791\nStep 4/19 : RUN npm i -g typescript ts-node && npm cache clean --force;\n ---> Running in f7cc49dee80b\n\nadded 19 packages, and audited 20 packages in 3s\n\nfound 0 vulnerabilities\n\u001b[91mnpm notice\u001b[0m\u001b[91m \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container f7cc49dee80b\n ---> 75f81ec6f04e\nStep 5/19 : RUN npm install --omit=dev --unsafe-perm && npm cache clean --force;\n ---> Running in cd0eb4299d2f\n\u001b[91mnpm WARN deprecated formatio@1.1.1: This package is unmaintained. Use @sinonjs/formatio instead\n\u001b[0m\u001b[91mnpm WARN deprecated samsam@1.1.2: This package has been deprecated in favour of @sinonjs/samsam\n\u001b[0m\u001b[91mnpm WARN deprecated eivindfjeldstad-dot@0.0.1: Use @eivifj/dot instead\n\u001b[0m\u001b[91mnpm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated jws@0.2.6: Security update: Versions below 3.0.0 are deprecated.\n\u001b[0m\u001b[91mnpm WARN deprecated messageformat@2.3.0: Package renamed as '@messageformat/core', see messageformat.github.io for more details. 'messageformat@4' will eventually provide a polyfill for Intl.MessageFormat, once it's been defined by Unicode & ECMA.\n\u001b[0m\u001b[91mnpm WARN deprecated jsonwebtoken@0.4.0: Critical vulnerability fix in v5.0.0. See https://auth0.com/blog/2015/03/31/critical-vulnerabilities-in-json-web-token-libraries/\n\u001b[0m\u001b[91mnpm WARN deprecated notevil@1.3.3: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated node-pre-gyp@0.15.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\n\u001b[0m\u001b[91mnpm WARN deprecated jsonwebtoken@0.1.0: Critical vulnerability fix in v5.0.0. See https://auth0.com/blog/2015/03/31/critical-vulnerabilities-in-json-web-token-libraries/\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated iltorb@2.4.5: The zlib module provides APIs for brotli compression/decompression starting with Node.js v10.16.0, please use it over iltorb\n\u001b[0m\n> juice-shop@14.4.0 postinstall\n> cd frontend && npm install --legacy-peer-deps && cd .. && npm run build:frontend && (npm run --silent build:server || cd .)\n\n\u001b[91mnpm WARN deprecated @npmcli/move-file@2.0.1: This functionality has been moved to @npmcli/fs\n\u001b[0m\u001b[91mnpm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\n\u001b[0m\u001b[91mnpm WARN deprecated @angular/flex-layout@10.0.0-beta.32: This package has been deprecated. Please see https://blog.angular.io/modern-css-in-angular-layouts-4a259dca9127\n\u001b[0m\n> frontend@14.4.0 postinstall\n> ngcc --tsconfig \"./src/tsconfig.app.json\"\n\nProcessing legacy \"View Engine\" libraries:\n- @angular/flex-layout/core [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @angular/http [fesm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular/flex-layout/extended [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/flex [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/grid [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @ngx-translate/core [fesm2015/esm2015] (git+https://github.com/ngx-translate/core.git)\n- @angular/http/testing [fesm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular-material-extensions/password-strength [fesm2015/esm2015] (git://github.com/angular-material-extensions/password-strength.git)\n- ng2-file-upload [fesm2015/esm2015] ()\n- ngx-text-diff [fesm2015/esm2015] (https://github.com/ABenassi87/ngx-text-diff.git)\n- @angular/flex-layout [es2015/esm2015] (https://github.com/angular/flex-layout.git)\n- @nguniversal/common [fesm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/common/tokens [fesm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/express-engine/tokens [fesm2015/esm2015] (https://github.com/angular/universal)\n- @ngx-translate/http-loader [fesm2015/esm2015] (git+https://github.com/ngx-translate/http-loader.git)\n- ng-mat-search-bar [fesm2015/esm2015] (https://github.com/tommueller/ng-mat-search-bar.git)\n- ng-simple-slideshow [es2015/esm2015] (git+https://github.com/dockleryxk/ng-simple-slideshow.git)\n- anuglar2-qrcode [main/umd] (git+https://github.com/SuperiorJT/angular2-qrcode.git)\n- @angular/flex-layout/core [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/core [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/extended [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/extended [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/flex [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/flex [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/grid [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout/grid [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout [main/umd] (https://github.com/angular/flex-layout.git)\n- @angular/flex-layout [module/esm5] (https://github.com/angular/flex-layout.git)\n- @angular/http [fesm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http [esm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular/http [esm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http [main/umd] (https://github.com/angular/angular.git)\n- @angular/http/testing [fesm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http/testing [esm2015/esm2015] (https://github.com/angular/angular.git)\n- @angular/http/testing [esm5/esm5] (https://github.com/angular/angular.git)\n- @angular/http/testing [main/umd] (https://github.com/angular/angular.git)\n- @angular-material-extensions/password-strength [fesm5/esm5] (git://github.com/angular-material-extensions/password-strength.git)\n- @angular-material-extensions/password-strength [esm2015/esm2015] (git://github.com/angular-material-extensions/password-strength.git)\n- @angular-material-extensions/password-strength [esm5/esm5] (git://github.com/angular-material-extensions/password-strength.git)\n- @angular-material-extensions/password-strength [main/umd] (git://github.com/angular-material-extensions/password-strength.git)\n- @nguniversal/common [esm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/common [main/umd] (https://github.com/angular/universal)\n- @nguniversal/common/tokens [esm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/common/tokens [main/umd] (https://github.com/angular/universal)\n- @nguniversal/express-engine/tokens [esm2015/esm2015] (https://github.com/angular/universal)\n- @nguniversal/express-engine/tokens [main/umd] (https://github.com/angular/universal)\n- @ngx-translate/core [esm2015/esm2015] (git+https://github.com/ngx-translate/core.git)\n- @ngx-translate/http-loader [esm2015/esm2015] (git+https://github.com/ngx-translate/http-loader.git)\n- @ngx-translate/http-loader [main/umd] (git+https://github.com/ngx-translate/http-loader.git)\n- anuglar2-qrcode [module/esm5] (git+https://github.com/SuperiorJT/angular2-qrcode.git)\n- @ngx-translate/core [main/umd] (git+https://github.com/ngx-translate/core.git)\n- ng-mat-search-bar [esm2015/esm2015] (https://github.com/tommueller/ng-mat-search-bar.git)\n- ng-mat-search-bar [main/umd] (https://github.com/tommueller/ng-mat-search-bar.git)\n- ng-simple-slideshow [module/esm5] (git+https://github.com/dockleryxk/ng-simple-slideshow.git)\n- ng-simple-slideshow [main/umd] (git+https://github.com/dockleryxk/ng-simple-slideshow.git)\n- ng2-file-upload [fesm5/esm5] ()\n- ng2-file-upload [esm2015/esm2015] ()\n- ng2-file-upload [esm5/esm5] ()\n- ng2-file-upload [main/umd] ()\n- ngx-text-diff [fesm5/esm5] (https://github.com/ABenassi87/ngx-text-diff.git)\n- ngx-text-diff [esm2015/esm2015] (https://github.com/ABenassi87/ngx-text-diff.git)\n- ngx-text-diff [esm5/esm5] (https://github.com/ABenassi87/ngx-text-diff.git)\n- ngx-text-diff [main/umd] (https://github.com/ABenassi87/ngx-text-diff.git)\nEncourage the library authors to publish an Ivy distribution.\n\nadded 886 packages, and audited 887 packages in 52s\n\n83 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\n> juice-shop@14.4.0 build:frontend\n> cd frontend && node ./node_modules/@angular/cli/bin/ng build --aot --configuration production --output-hashing=none --vendor-chunk=true --source-map=false\n\n\u001b[91mOne or more browsers which are configured in the project's Browserslist configuration will be ignored as ES5 output is not supported by the Angular CLI.\nIgnored browsers: kaios 2.5, op_mini all\n\u001b[0m\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91m    TypeScript compiler options \"target\" and \"useDefineForClassFields\" are set to \"ES2022\" and \"false\" respectively by the Angular CLI. To control ECMA version and features use the Browerslist configuration. For more information, see https://angular.io/guide/build#configuring-browser-compatibility\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n- Generating index html...\n\u001b[0m\u001b[91m✔ Index html generation complete.\n\u001b[0m\nInitial Chunk Files | Names                                 |  Raw Size | Estimated Transfer Size\nvendor.js           | vendor                                |   1.31 MB |               295.24 kB\nstyles.css          | styles                                | 595.02 kB |                29.80 kB\nmain.js             | main                                  | 389.04 kB |                63.05 kB\npolyfills.js        | polyfills                             |  53.09 kB |                16.92 kB\nruntime.js          | runtime                               |   3.13 kB |                 1.44 kB\n\n| Initial Total                         |   2.33 MB |               406.45 kB\n\nLazy Chunk Files    | Names                                 |  Raw Size | Estimated Transfer Size\ntutorial.js         | tutorial                              |  28.68 kB |                 7.31 kB\n112.js              | highlight-js-lib-core                 |  20.02 kB |                 7.25 kB\n103.js              | confetti                              |   7.98 kB |                 2.96 kB\n535.js              | highlight-js-lib-languages-typescript |   7.25 kB |                 2.61 kB\n613.js              | highlight-js-lib-languages-javascript |   6.19 kB |                 2.27 kB\n859.js              | highlightjs-line-numbers-js           |   3.32 kB |                 1.35 kB\n472.js              | highlight-js-lib-languages-yaml       |   1.75 kB |               737 bytes\n\nBuild at: 2023-01-05T11:08:54.104Z - Hash: 647cbd925d4ed836 - Time: 39100ms\n\u001b[91m\nWarning: /juice-shop/frontend/node_modules/anuglar2-qrcode/lib/angular2-qrcode.js depends on 'qrious'. CommonJS or AMD dependencies can cause optimization bailouts.\nFor more info see: https://angular.io/guide/build#configuring-commonjs-dependencies\n\nWarning: /juice-shop/frontend/node_modules/ngx-text-diff/fesm2015/ngx-text-diff.js depends on 'diff-match-patch'. CommonJS or AMD dependencies can cause optimization bailouts.\nFor more info see: https://angular.io/guide/build#configuring-commonjs-dependencies\n\n\n\u001b[0mlib/antiCheat.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/challengeUtils.ts(53,16): error TS7017: Element implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\nlib/insecurity.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nlib/startup/cleanupFtpFolder.ts(6,23): error TS7016: Could not find a declaration file for module 'glob'. '/juice-shop/node_modules/glob/glob.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/glob` if it exists or add a new declaration (.d.ts) file containing `declare module 'glob';`\nlib/startup/customizeEasterEgg.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/startup/registerWebsocketEvents.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/startup/registerWebsocketEvents.ts(16,10): error TS7017: Element implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\nlib/startup/validateChatBot.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/startup/validatePreconditions.ts(7,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nlib/webhook.ts(6,26): error TS7016: Could not find a declaration file for module 'request'. '/juice-shop/node_modules/request/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/request` if it exists or add a new declaration (.d.ts) file containing `declare module 'request';`\nmodels/user.ts(7,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/2fa.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/2fa.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/address.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/angular.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/appConfiguration.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/appConfiguration.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/appVersion.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/appVersion.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/authenticatedUsers.ts(5,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/b2bOrder.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/basket.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/basketItems.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/captcha.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/changePassword.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/chatbot.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/chatbot.ts(10,42): error TS7016: Could not find a declaration file for module 'jsonwebtoken'. '/juice-shop/node_modules/jsonwebtoken/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/jsonwebtoken` if it exists or add a new declaration (.d.ts) file containing `declare module 'jsonwebtoken';`\nroutes/continueCode.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/countryMapping.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/coupon.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/createProductReviews.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/currentUser.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/dataErasure.ts(5,58): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/dataErasure.ts(74,13): error TS7006: Parameter 'error' implicitly has an 'any' type.\nroutes/dataErasure.ts(74,20): error TS7006: Parameter 'html' implicitly has an 'any' type.\nroutes/dataExport.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/delivery.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/deluxe.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/easterEgg.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/fileServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/fileUpload.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/imageCaptcha.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/keyServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/languages.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/likeProductReviews.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/logfileServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/login.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/memory.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/metrics.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/order.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/orderHistory.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/payment.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/premiumReward.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/privacyPolicyProof.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/profileImageFileUpload.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/profileImageFileUpload.ts(30,13): error TS2578: Unused '@ts-expect-error' directive.\nroutes/profileImageUrlUpload.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/quarantineServer.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/recycles.ts(6,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/redirect.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/repeatNotification.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/resetPassword.ts(6,25): error TS7016: Could not find a declaration file for module 'config'. '/juice-shop/node_modules/config/lib/config.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/config` if it exists or add a new declaration (.d.ts) file containing `declare module 'config';`\nroutes/resetPassword.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/restoreProgress.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/saveLoginIp.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/search.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/securityQuestion.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/showProductReviews.ts(8,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/trackOrder.ts(8,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/updateProductReviews.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/updateUserProfile.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/userProfile.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/verify.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/verify.ts(8,42): error TS7016: Could not find a declaration file for module 'jsonwebtoken'. '/juice-shop/node_modules/jsonwebtoken/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/jsonwebtoken` if it exists or add a new declaration (.d.ts) file containing `declare module 'jsonwebtoken';`\nroutes/videoHandler.ts(7,35): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/vulnCodeFixes.ts(1,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/vulnCodeSnippet.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/vulnCodeSnippet.ts(7,16): error TS7016: Could not find a declaration file for module 'graceful-fs'. '/juice-shop/node_modules/graceful-fs/graceful-fs.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/graceful-fs` if it exists or add a new declaration (.d.ts) file containing `declare module 'graceful-fs';`\nroutes/vulnCodeSnippet.ts(9,18): error TS7016: Could not find a declaration file for module 'js-yaml'. '/juice-shop/node_modules/js-yaml/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/js-yaml` if it exists or add a new declaration (.d.ts) file containing `declare module 'js-yaml';`\nroutes/vulnCodeSnippet.ts(33,53): error TS7006: Parameter 'file' implicitly has an 'any' type.\nroutes/wallet.ts(6,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nroutes/wallet.ts(28,64): error TS2339: Property 'balance' does not exist on type '[affectedRows: Wallet[], affectedCount?: number | undefined]'.\nserver.ts(7,49): error TS7016: Could not find a declaration file for module 'express'. '/juice-shop/node_modules/express/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/express` if it exists or add a new declaration (.d.ts) file containing `declare module 'express';`\nserver.ts(216,5): error TS2578: Unused '@ts-expect-error' directive.\nserver.ts(233,7): error TS2578: Unused '@ts-expect-error' directive.\nserver.ts(280,5): error TS2578: Unused '@ts-expect-error' directive.\n\nadded 1095 packages, and audited 1096 packages in 3m\n\n69 packages are looking for funding\n  run `npm fund` for details\n\n16 vulnerabilities (8 moderate, 3 high, 5 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container cd0eb4299d2f\n ---> 1b8679d5a607\nStep 6/19 : RUN npm dedupe\n ---> Running in 24b3a174d52d\n\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated @types/express-unless@2.0.1: This is a stub types definition. express-unless provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated ecstatic@3.3.2: This package is unmaintained and deprecated. See the GH Issue 259.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/socket.io-parser@3.0.0: This is a stub types definition. socket.io-parser provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\nadded 846 packages, removed 6 packages, changed 4 packages, and audited 1936 packages in 1m\n\n154 packages are looking for funding\n  run `npm fund` for details\n\n21 vulnerabilities (11 moderate, 5 high, 5 critical)\n\nTo address issues that do not require attention, run:\n  npm audit fix\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\nRemoving intermediate container 24b3a174d52d\n ---> a10671ece1d9\nStep 7/19 : RUN rm -rf frontend/node_modules\n ---> Running in a2e315d94774\nRemoving intermediate container a2e315d94774\n ---> 7182109399a4\nStep 8/19 : RUN rm -rf frontend/.angular\n ---> Running in 638cd4f584b4\nRemoving intermediate container 638cd4f584b4\n ---> 6a6001395cd5\nStep 9/19 : RUN rm -rf frontend/src/assets\n ---> Running in 0478654a1e45\nRemoving intermediate container 0478654a1e45\n ---> dc340eb4b482\nStep 10/19 : RUN mkdir logs &&     chown -R 65532 logs &&     chgrp -R 0 ftp/ frontend/dist/ logs/ data/ i18n/ &&     chmod -R g=u ftp/ frontend/dist/ logs/ data/ i18n/\n ---> Running in 638fe320ee48\nRemoving intermediate container 638fe320ee48\n ---> 8aa93eed305e\nStep 11/19 : FROM gcr.io/distroless/nodejs:18\n ---> 6d2b7156ebfe\nStep 12/19 : ARG BUILD_DATE\n ---> Running in 1eb247931b93\nRemoving intermediate container 1eb247931b93\n ---> 3172a84d76c7\nStep 13/19 : ARG VCS_REF\n ---> Running in dacb38b957d4\nRemoving intermediate container dacb38b957d4\n ---> 5b820d2f7817\nStep 14/19 : LABEL maintainer=\"Bjoern Kimminich <bjoern.kimminich@owasp.org>\"     org.opencontainers.image.title=\"OWASP Juice Shop\"     org.opencontainers.image.description=\"Probably the most modern and sophisticated insecure web application\"     org.opencontainers.image.authors=\"Bjoern Kimminich <bjoern.kimminich@owasp.org>\"     org.opencontainers.image.vendor=\"Open Web Application Security Project\"     org.opencontainers.image.documentation=\"https://help.owasp-juice.shop\"     org.opencontainers.image.licenses=\"MIT\"     org.opencontainers.image.version=\"14.4.0\"     org.opencontainers.image.url=\"https://owasp-juice.shop\"     org.opencontainers.image.source=\"https://github.com/juice-shop/juice-shop\"     org.opencontainers.image.revision=$VCS_REF     org.opencontainers.image.created=$BUILD_DATE\n ---> Running in 5c7aab873c49\nRemoving intermediate container 5c7aab873c49\n ---> 61d83fce47bd\nStep 15/19 : WORKDIR /juice-shop\n ---> Running in 724ab30b7301\nRemoving intermediate container 724ab30b7301\n ---> 57b43413bd09\nStep 16/19 : COPY --from=installer --chown=nonroot /juice-shop .\n ---> 26854c2860dd\nStep 17/19 : USER 65532\n ---> Running in 14cc456c324a\nRemoving intermediate container 14cc456c324a\n ---> a9b55f9ca6f9\nStep 18/19 : EXPOSE 3000\n ---> Running in e8df4b00fbf0\nRemoving intermediate container e8df4b00fbf0\n ---> 6b1a5b87858c\nStep 19/19 : CMD [\"/juice-shop/build/app.js\"]\n ---> Running in 728b948c1285\nRemoving intermediate container 728b948c1285\n ---> 61c3394afed0\nSuccessfully built 61c3394afed0\nSuccessfully tagged juice-shop:latest\n","stderr":"","imageSize":575272534}}