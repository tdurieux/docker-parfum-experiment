{"repository":"https://github.com/runk/npm-proxy-cache","dockerfilePath":"Dockerfile","startTime":1672962056688,"endTime":1672962117182,"clone":{"startTime":1672962056688,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/runk/npm-proxy-cache'...\n","error":null,"endTime":1672962057436,"commit":"79e7c29ed0ba63255fde58f5a439e9664ab56f18"},"originalBuild":{"startTime":1672962057529,"endTime":1672962086739,"error":null,"stdout":"Sending build context to Docker daemon  105.5kB\r\r\nStep 1/9 : FROM mhart/alpine-node:8\n8: Pulling from mhart/alpine-node\n5a3ea8efae5d: Pulling fs layer\n5b703a1cf6da: Pulling fs layer\n5a3ea8efae5d: Verifying Checksum\n5a3ea8efae5d: Download complete\n5a3ea8efae5d: Pull complete\n5b703a1cf6da: Download complete\n5b703a1cf6da: Pull complete\nDigest: sha256:ba8cf023012a93729c995ef406bc596ed52cb3498a0fa82282897a0dc727d756\nStatus: Downloaded newer image for mhart/alpine-node:8\n ---> d0f82ea871eb\nStep 2/9 : MAINTAINER Dmitry Shirokov <deadrunk@gmail.com>\n ---> Running in 19e78964ff3f\nRemoving intermediate container 19e78964ff3f\n ---> 9e5a7841e5ca\nStep 3/9 : ADD package.json /tmp/package.json\n ---> 0b328477d491\nStep 4/9 : RUN cd /tmp &&     npm install --production &&     mkdir -p /opt/npm-proxy-cache &&     cp -a /tmp/node_modules /opt/npm-proxy-cache &&     mkdir -p /opt/npm-proxy-cache/cache\n ---> Running in 1f7ec9984edc\n\u001b[91mnpm WARN deprecated log4js@3.0.6: 3.x is no longer supported. Please upgrade to 6.x or higher.\nnpm WARN deprecated\u001b[0m\u001b[91m request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated circular-json@0.5.9: CircularJSON is in maintenance only, flatted is its successor.\nnpm WARN deprecated date-format@1.2.0: 1.x is no longer supported. Please upgrade to 4.x or higher.\n\u001b[0m\u001b[91mnpm WARN deprecated streamroller@0.7.0: 0.x is no longer supported. Please upgrade to 3.x or higher.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for github-publish-release@5.1.2: wanted: {\"node\":\"^16\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.14.11\"})\nnpm WARN notsup Not compatible with your version of node/npm: github-publish-release@5.1.2\n\u001b[0m\u001b[91m\n\u001b[0madded 76 packages from 68 contributors and audited 217 packages in 10.42s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 5 vulnerabilities (2 moderate, 2 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 1f7ec9984edc\n ---> e13d9ea0112b\nStep 5/9 : VOLUME /opt/npm-proxy-cache/cache\n ---> Running in 921553e99e02\nRemoving intermediate container 921553e99e02\n ---> fa102de1f44c\nStep 6/9 : WORKDIR /opt/npm-proxy-cache\n ---> Running in 525c56eda8b8\nRemoving intermediate container 525c56eda8b8\n ---> d91ba881ec17\nStep 7/9 : ADD . /opt/npm-proxy-cache\n ---> 614292c0dbbf\nStep 8/9 : EXPOSE 8080\n ---> Running in b43829de0308\nRemoving intermediate container b43829de0308\n ---> f8cf6fe10e82\nStep 9/9 : ENTRYPOINT [\"node\", \"/opt/npm-proxy-cache/bin/npm-proxy-cache\"]\n ---> Running in 1d8c938ceed9\nRemoving intermediate container 1d8c938ceed9\n ---> cf47b25f20c6\nSuccessfully built cf47b25f20c6\nSuccessfully tagged npm-proxy-cache:latest\n","stderr":"","imageSize":92573497},"repair":{"startTime":1672962086843,"endTime":1672962086918,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM mhart/alpine-node:8\n\nMAINTAINER Dmitry Shirokov <deadrunk@gmail.com>\n\nADD package.json /tmp/package.json\n\nRUN cd /tmp && \\\n    npm install --production && \\\n    mkdir -p /opt/npm-proxy-cache && \\\n    cp -a /tmp/node_modules /opt/npm-proxy-cache && \\\n    mkdir -p /opt/npm-proxy-cache/cache && npm cache clean --force;\n\nVOLUME /opt/npm-proxy-cache/cache\n\nWORKDIR /opt/npm-proxy-cache\nADD . /opt/npm-proxy-cache\n\n# Expose API port\nEXPOSE 8080\n\nENTRYPOINT [\"node\", \"/opt/npm-proxy-cache/bin/npm-proxy-cache\"]\n"},"repairedBuild":{"startTime":1672962087233,"endTime":1672962116448,"error":null,"stdout":"Sending build context to Docker daemon  105.5kB\r\r\nStep 1/9 : FROM mhart/alpine-node:8\n ---> d0f82ea871eb\nStep 2/9 : MAINTAINER Dmitry Shirokov <deadrunk@gmail.com>\n ---> Running in 2abcb3c4eed3\nRemoving intermediate container 2abcb3c4eed3\n ---> 79e7bbedc274\nStep 3/9 : ADD package.json /tmp/package.json\n ---> 132ff1dbf95e\nStep 4/9 : RUN cd /tmp &&     npm install --production &&     mkdir -p /opt/npm-proxy-cache &&     cp -a /tmp/node_modules /opt/npm-proxy-cache &&     mkdir -p /opt/npm-proxy-cache/cache && npm cache clean --force;\n ---> Running in 4d627c50390b\n\u001b[91mnpm WARN deprecated log4js@3.0.6: 3.x is no longer supported. Please upgrade to 6.x or higher.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated circular-json@0.5.9: CircularJSON is in maintenance only, flatted is its successor.\n\u001b[0m\u001b[91mnpm WARN deprecated date-format@1.2.0: 1.x is no longer supported. Please upgrade to 4.x or higher.\nnpm \u001b[0m\u001b[91mWARN\u001b[0m\u001b[91m deprecated streamroller@0.7.0: 0.x is no longer supported. Please upgrade to 3.x or higher.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup\u001b[0m\u001b[91m Unsupported engine for github-publish-release@5.1.2: wanted: {\"node\":\"^16\"} (current: {\"node\":\"8.17.0\",\"npm\":\"6.14.11\"})\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mWARN \u001b[0m\u001b[91mnotsup Not compatible with your version of node/npm: github-publish-release@5.1.2\n\u001b[0m\u001b[91m\n\u001b[0madded 76 packages from 68 contributors and audited 217 packages in 4.446s\n\n2 packages are looking for funding\n  run `npm fund` for details\n\nfound 5 vulnerabilities (2 moderate, 2 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 4d627c50390b\n ---> 884eb4612e80\nStep 5/9 : VOLUME /opt/npm-proxy-cache/cache\n ---> Running in 3bd36b7a4bab\nRemoving intermediate container 3bd36b7a4bab\n ---> cca7b3281f0f\nStep 6/9 : WORKDIR /opt/npm-proxy-cache\n ---> Running in f39d459906f0\nRemoving intermediate container f39d459906f0\n ---> bb57944a4814\nStep 7/9 : ADD . /opt/npm-proxy-cache\n ---> 6b62b0a36aef\nStep 8/9 : EXPOSE 8080\n ---> Running in 6cc4efbec3a4\nRemoving intermediate container 6cc4efbec3a4\n ---> cc1cdb321e0d\nStep 9/9 : ENTRYPOINT [\"node\", \"/opt/npm-proxy-cache/bin/npm-proxy-cache\"]\n ---> Running in c4451fdaad5d\nRemoving intermediate container c4451fdaad5d\n ---> 93a3a8bf7296\nSuccessfully built 93a3a8bf7296\nSuccessfully tagged npm-proxy-cache:latest\n","stderr":"","imageSize":77178904}}