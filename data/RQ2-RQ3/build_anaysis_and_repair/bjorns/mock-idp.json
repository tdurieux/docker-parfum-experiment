{"repository":"https://github.com/bjorns/mock-idp","dockerfilePath":"Dockerfile","startTime":1672996143202,"endTime":1672997017212,"clone":{"startTime":1672996143203,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/bjorns/mock-idp'...\n","error":null,"endTime":1672996143924,"commit":"bb6b40299be8d49604e350ca5e920f0bddd93525"},"originalBuild":{"startTime":1672996144004,"endTime":1672996516841,"error":null,"stdout":"Sending build context to Docker daemon  338.9kB\r\r\nStep 1/24 : FROM python:3.9.6-alpine3.14\n3.9.6-alpine3.14: Pulling from library/python\na0d0a0d46f8b: Pulling fs layer\nba51967de001: Pulling fs layer\n61c7c23e14da: Pulling fs layer\ne344ba9f0095: Pulling fs layer\necfd11eb7166: Pulling fs layer\ne344ba9f0095: Waiting\necfd11eb7166: Waiting\na0d0a0d46f8b: Download complete\na0d0a0d46f8b: Pull complete\ne344ba9f0095: Download complete\nba51967de001: Download complete\n61c7c23e14da: Verifying Checksum\n61c7c23e14da: Download complete\nba51967de001: Pull complete\necfd11eb7166: Verifying Checksum\necfd11eb7166: Download complete\n61c7c23e14da: Pull complete\ne344ba9f0095: Pull complete\necfd11eb7166: Pull complete\nDigest: sha256:954ea8d05e9041d1dd17b69eb13708a60ef8b8bcc76d928beb4d137e2a9ceb30\nStatus: Downloaded newer image for python:3.9.6-alpine3.14\n ---> 0238e48b207f\nStep 2/24 : RUN apk update && apk upgrade\n ---> Running in 7eb0bacae758\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14978 distinct packages available\n(1/18) Upgrading libcrypto1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(2/18) Upgrading expat (2.4.1-r0 -> 2.5.0-r0)\n(3/18) Upgrading xz-libs (5.2.5-r0 -> 5.2.5-r1)\n(4/18) Upgrading ncurses-terminfo-base (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(5/18) Upgrading ncurses-libs (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(6/18) Upgrading libtirpc-conf (1.3.2-r0 -> 1.3.2-r1)\n(7/18) Upgrading libssl1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(8/18) Upgrading krb5-libs (1.18.4-r0 -> 1.18.5-r0)\n(9/18) Upgrading libtirpc (1.3.2-r0 -> 1.3.2-r1)\n(10/18) Upgrading libuuid (2.37-r0 -> 2.37.4-r0)\n(11/18) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(12/18) Upgrading busybox (1.33.1-r3 -> 1.33.1-r8)\nExecuting busybox-1.33.1-r8.post-upgrade\n(13/18) Upgrading ca-certificates-bundle (20191127-r5 -> 20220614-r0)\n(14/18) Upgrading libretls (3.3.3p1-r2 -> 3.3.3p1-r3)\n(15/18) Upgrading ssl_client (1.33.1-r3 -> 1.33.1-r8)\n(16/18) Upgrading alpine-keys (2.3-r1 -> 2.4-r0)\n(17/18) Upgrading ca-certificates (20191127-r5 -> 20220614-r0)\n(18/18) Upgrading tzdata (2021a-r0 -> 2022f-r1)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 14 MiB in 36 packages\nRemoving intermediate container 7eb0bacae758\n ---> 18ddf52bee4f\nStep 3/24 : RUN apk add gcc musl-dev openssl-dev libffi-dev   libxml2-dev libxslt-dev   rust cargo\n ---> Running in 94985f3788db\n(1/35) Installing rust-stdlib (1.52.1-r1)\n(2/35) Installing libgcc (10.3.1_git20210424-r2)\n(3/35) Installing libstdc++ (10.3.1_git20210424-r2)\n(4/35) Installing binutils (2.35.2-r2)\n(5/35) Installing libgomp (10.3.1_git20210424-r2)\n(6/35) Installing libatomic (10.3.1_git20210424-r2)\n(7/35) Installing libgphobos (10.3.1_git20210424-r2)\n(8/35) Installing gmp (6.2.1-r1)\n(9/35) Installing isl22 (0.22-r0)\n(10/35) Installing mpfr4 (4.1.0-r0)\n(11/35) Installing mpc1 (1.2.1-r0)\n(12/35) Installing gcc (10.3.1_git20210424-r2)\n(13/35) Installing musl-dev (1.2.2-r3)\n(14/35) Installing libxml2 (2.9.14-r2)\n(15/35) Installing llvm11-libs (11.1.0-r2)\n(16/35) Installing brotli-libs (1.0.9-r5)\n(17/35) Installing nghttp2-libs (1.43.0-r0)\n(18/35) Installing libcurl (7.79.1-r4)\n(19/35) Installing http-parser (2.9.4-r0)\n(20/35) Installing pcre (8.44-r0)\n(21/35) Installing libssh2 (1.9.0-r1)\n(22/35) Installing libgit2 (1.1.0-r2)\n(23/35) Installing rust (1.52.1-r1)\n(24/35) Installing cargo (1.52.1-r1)\n(25/35) Installing linux-headers (5.10.41-r0)\n(26/35) Installing pkgconf (1.7.4-r0)\n(27/35) Installing libffi-dev (3.3-r2)\n(28/35) Installing zlib-dev (1.2.12-r3)\n(29/35) Installing xz-dev (5.2.5-r1)\n(30/35) Installing libxml2-dev (2.9.14-r2)\n(31/35) Installing libgpg-error (1.42-r0)\n(32/35) Installing libgcrypt (1.9.4-r0)\n(33/35) Installing libxslt (1.1.35-r0)\n(34/35) Installing libxslt-dev (1.1.35-r0)\n(35/35) Installing openssl-dev (1.1.1s-r0)\nExecuting busybox-1.33.1-r8.trigger\nOK: 891 MiB in 71 packages\nRemoving intermediate container 94985f3788db\n ---> 7e5aa453d2b3\nStep 4/24 : RUN apk add libxslt\n ---> Running in 8bfd5f4f6eb8\nOK: 891 MiB in 71 packages\nRemoving intermediate container 8bfd5f4f6eb8\n ---> 53659a24f369\nStep 5/24 : RUN mkdir -p /usr/local/mock-idp\n ---> Running in ff6956f3a85d\nRemoving intermediate container ff6956f3a85d\n ---> d3c28393ddca\nStep 6/24 : WORKDIR /usr/local/mock-idp\n ---> Running in 6a0311ca5023\nRemoving intermediate container 6a0311ca5023\n ---> a9337c146088\nStep 7/24 : RUN pip install --upgrade pip\n ---> Running in 48576a54f917\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (21.2.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 21.2.4\n    Uninstalling pip-21.2.4:\n      Successfully uninstalled pip-21.2.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 48576a54f917\n ---> afadc7be06b5\nStep 8/24 : RUN pip install cryptography\n ---> Running in 42b604ecbe77\nCollecting cryptography\n  Downloading cryptography-39.0.0-cp36-abi3-musllinux_1_1_x86_64.whl (4.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.3/4.3 MB 46.0 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp39-cp39-musllinux_1_1_x86_64.whl (463 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 463.1/463.1 kB 7.0 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 5.0 MB/s eta 0:00:00\nInstalling collected packages: pycparser, cffi, cryptography\nSuccessfully installed cffi-1.15.1 cryptography-39.0.0 pycparser-2.21\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 42b604ecbe77\n ---> 4c51713dd9ca\nStep 9/24 : COPY Pipfile .\n ---> 538e262bb563\nStep 10/24 : COPY Pipfile.lock .\n ---> 108d5a3b5e79\nStep 11/24 : RUN pip3 install pipenv\n ---> Running in 44c1bdc52dc7\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 20.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (57.4.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 35.8 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 1.0 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 19.2 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 44c1bdc52dc7\n ---> 6ca567042be8\nStep 12/24 : RUN pipenv install --system\n ---> Running in e48c9bbf5154\nInstalling dependencies from Pipfile.lock (abefb2)...\nRemoving intermediate container e48c9bbf5154\n ---> 2490367d9f0c\nStep 13/24 : COPY bin ./bin\n ---> dd5790c1cb4d\nStep 14/24 : COPY mockidp ./mockidp\n ---> 19fac33c5720\nStep 15/24 : COPY doc ./doc\n ---> c90ff44ad3c0\nStep 16/24 : COPY tests ./tests\n ---> e555c915a9c9\nStep 17/24 : COPY setup.py .\n ---> 6ca8ce2fc9da\nStep 18/24 : COPY README.md .\n ---> 1af2b041f20f\nStep 19/24 : RUN pip install -e .\n ---> Running in 8faa84e2f15d\nObtaining file:///usr/local/mock-idp\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: flask in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (2.2.2)\nRequirement already satisfied: lxml in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (4.9.1)\nRequirement already satisfied: PyYAML in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (6.0)\nRequirement already satisfied: flask-script in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (2.0.6)\nRequirement already satisfied: signxml in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (3.0.2)\nCollecting nose\n  Downloading nose-1.3.7-py3-none-any.whl (154 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 154.7/154.7 kB 948.4 kB/s eta 0:00:00\nRequirement already satisfied: itsdangerous>=2.0 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (2.1.2)\nRequirement already satisfied: Werkzeug>=2.2.2 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (2.2.2)\nRequirement already satisfied: Jinja2>=3.0 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (3.1.2)\nRequirement already satisfied: click>=8.0 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (8.1.3)\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nRequirement already satisfied: pyOpenSSL>=17.5.0 in /usr/local/lib/python3.9/site-packages (from signxml->mock-idp==0.5.1) (22.1.0)\nRequirement already satisfied: cryptography>=3.4.8 in /usr/local/lib/python3.9/site-packages (from signxml->mock-idp==0.5.1) (38.0.4)\nRequirement already satisfied: certifi>=2018.1.18 in /usr/local/lib/python3.9/site-packages (from signxml->mock-idp==0.5.1) (2022.12.7)\nRequirement already satisfied: cffi>=1.12 in /usr/local/lib/python3.9/site-packages (from cryptography>=3.4.8->signxml->mock-idp==0.5.1) (1.15.1)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.9/site-packages (from Jinja2>=3.0->flask->mock-idp==0.5.1) (2.1.1)\nRequirement already satisfied: pycparser in /usr/local/lib/python3.9/site-packages (from cffi>=1.12->cryptography>=3.4.8->signxml->mock-idp==0.5.1) (2.21)\nInstalling collected packages: nose, zipp, importlib-metadata, mock-idp\n  Running setup.py develop for mock-idp\nSuccessfully installed importlib-metadata-6.0.0 mock-idp-0.5.1 nose-1.3.7 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 8faa84e2f15d\n ---> 80068dfcf03b\nStep 20/24 : RUN apk del gcc musl-dev openssl-dev libffi-dev   libxml2-dev libxslt-dev   rust cargo\n ---> Running in 6241e7d371dd\n(1/31) Purging cargo (1.52.1-r1)\n(2/31) Purging rust (1.52.1-r1)\n(3/31) Purging rust-stdlib (1.52.1-r1)\n(4/31) Purging gcc (10.3.1_git20210424-r2)\n(5/31) Purging binutils (2.35.2-r2)\n(6/31) Purging libatomic (10.3.1_git20210424-r2)\n(7/31) Purging libgomp (10.3.1_git20210424-r2)\n(8/31) Purging libgphobos (10.3.1_git20210424-r2)\n(9/31) Purging musl-dev (1.2.2-r3)\n(10/31) Purging libffi-dev (3.3-r2)\n(11/31) Purging linux-headers (5.10.41-r0)\n(12/31) Purging libxslt-dev (1.1.35-r0)\n(13/31) Purging openssl-dev (1.1.1s-r0)\n(14/31) Purging llvm11-libs (11.1.0-r2)\n(15/31) Purging libstdc++ (10.3.1_git20210424-r2)\n(16/31) Purging libgcc (10.3.1_git20210424-r2)\n(17/31) Purging mpc1 (1.2.1-r0)\n(18/31) Purging mpfr4 (4.1.0-r0)\n(19/31) Purging isl22 (0.22-r0)\n(20/31) Purging gmp (6.2.1-r1)\n(21/31) Purging libcurl (7.79.1-r4)\n(22/31) Purging brotli-libs (1.0.9-r5)\n(23/31) Purging nghttp2-libs (1.43.0-r0)\n(24/31) Purging libgit2 (1.1.0-r2)\n(25/31) Purging http-parser (2.9.4-r0)\n(26/31) Purging pcre (8.44-r0)\n(27/31) Purging libssh2 (1.9.0-r1)\n(28/31) Purging libxml2-dev (2.9.14-r2)\n(29/31) Purging xz-dev (5.2.5-r1)\n(30/31) Purging zlib-dev (1.2.12-r3)\n(31/31) Purging pkgconf (1.7.4-r0)\nExecuting busybox-1.33.1-r8.trigger\nOK: 17 MiB in 40 packages\nRemoving intermediate container 6241e7d371dd\n ---> 7f7aad210ddb\nStep 21/24 : RUN rm -rf /var/cache/apk/*\n ---> Running in ec0187fb4293\nRemoving intermediate container ec0187fb4293\n ---> 83ab042a2f29\nStep 22/24 : EXPOSE 5000\n ---> Running in 36c483ac9314\nRemoving intermediate container 36c483ac9314\n ---> 7eb508b17800\nStep 23/24 : ENTRYPOINT [ \"mock-idp\", \"--host\", \"0.0.0.0\", \"--port\" ]\n ---> Running in fcca5dceb089\nRemoving intermediate container fcca5dceb089\n ---> 9f782c7cd42e\nStep 24/24 : CMD [ \"5000\" ]\n ---> Running in fe4b22fc5ea0\nRemoving intermediate container fe4b22fc5ea0\n ---> c730ce6babae\nSuccessfully built c730ce6babae\nSuccessfully tagged mock-idp:latest\n","stderr":"","imageSize":1100459488},"repair":{"startTime":1672996516903,"endTime":1672996517047,"violations":[{"name":"pipUseNoCacheDir","position":{"start":15,"end":15,"columnStart":4,"columnEnd":29}},{"name":"pipUseNoCacheDir","position":{"start":20,"end":20,"columnStart":4,"columnEnd":28}},{"name":"pipUseNoCacheDir","position":{"start":25,"end":25,"columnStart":4,"columnEnd":23}},{"name":"pipUseNoCacheDir","position":{"start":37,"end":37,"columnStart":4,"columnEnd":20}},{"name":"apkAddUseNoCache","position":{"start":5,"end":7,"columnStart":4,"columnEnd":12}},{"name":"apkAddUseNoCache","position":{"start":10,"end":10,"columnStart":4,"columnEnd":19}}],"repairedDockerfile":"FROM python:3.9.6-alpine3.14\nRUN apk update && apk upgrade\n\n# Dev dependencies for crypto package that can be\n# remove after install\nRUN apk add --no-cache gcc musl-dev openssl-dev libffi-dev \\\n  libxml2-dev libxslt-dev \\\n  rust cargo\n\n# Runtime dependencies\nRUN apk add --no-cache libxslt\n\nRUN mkdir -p /usr/local/mock-idp\nWORKDIR /usr/local/mock-idp\n\nRUN pip install --no-cache-dir --upgrade pip\n\n# cryptography is the most complicated package and if\n# install fails in pipenv the error message is not\n# clearly understandable. So we install it separately\nRUN pip install --no-cache-dir cryptography\n\n# Install environment\nCOPY Pipfile .\nCOPY Pipfile.lock .\nRUN pip3 install --no-cache-dir pipenv\nRUN pipenv install --system\n\n# Copy code\nCOPY bin ./bin\nCOPY mockidp ./mockidp\nCOPY doc ./doc\nCOPY tests ./tests\nCOPY setup.py .\nCOPY README.md .\n\n# Install repo as package\nRUN pip install --no-cache-dir -e .\n\n# Remove build tools to save some space\nRUN apk del gcc musl-dev openssl-dev libffi-dev \\\n  libxml2-dev libxslt-dev \\\n  rust cargo\n\n# Clean out alpine apk package cache\nRUN rm -rf /var/cache/apk/*\n\nEXPOSE 5000\n\nENTRYPOINT [ \"mock-idp\", \"--host\", \"0.0.0.0\", \"--port\" ]\nCMD [ \"5000\" ]\n"},"repairedBuild":{"startTime":1672996517740,"endTime":1672997011145,"error":null,"stdout":"Sending build context to Docker daemon  338.9kB\r\r\nStep 1/24 : FROM python:3.9.6-alpine3.14\n ---> 0238e48b207f\nStep 2/24 : RUN apk update && apk upgrade\n ---> Running in c03606d5e641\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14978 distinct packages available\n(1/18) Upgrading libcrypto1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(2/18) Upgrading expat (2.4.1-r0 -> 2.5.0-r0)\n(3/18) Upgrading xz-libs (5.2.5-r0 -> 5.2.5-r1)\n(4/18) Upgrading ncurses-terminfo-base (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(5/18) Upgrading ncurses-libs (6.2_p20210612-r0 -> 6.2_p20210612-r1)\n(6/18) Upgrading libtirpc-conf (1.3.2-r0 -> 1.3.2-r1)\n(7/18) Upgrading libssl1.1 (1.1.1l-r0 -> 1.1.1s-r0)\n(8/18) Upgrading krb5-libs (1.18.4-r0 -> 1.18.5-r0)\n(9/18) Upgrading libtirpc (1.3.2-r0 -> 1.3.2-r1)\n(10/18) Upgrading libuuid (2.37-r0 -> 2.37.4-r0)\n(11/18) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(12/18) Upgrading busybox (1.33.1-r3 -> 1.33.1-r8)\nExecuting busybox-1.33.1-r8.post-upgrade\n(13/18) Upgrading ca-certificates-bundle (20191127-r5 -> 20220614-r0)\n(14/18) Upgrading libretls (3.3.3p1-r2 -> 3.3.3p1-r3)\n(15/18) Upgrading ssl_client (1.33.1-r3 -> 1.33.1-r8)\n(16/18) Upgrading alpine-keys (2.3-r1 -> 2.4-r0)\n(17/18) Upgrading ca-certificates (20191127-r5 -> 20220614-r0)\n(18/18) Upgrading tzdata (2021a-r0 -> 2022f-r1)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 14 MiB in 36 packages\nRemoving intermediate container c03606d5e641\n ---> 0b0890cb0b52\nStep 3/24 : RUN apk add --no-cache gcc musl-dev openssl-dev libffi-dev   libxml2-dev libxslt-dev   rust cargo\n ---> Running in 3993bafdf3d1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/35) Installing rust-stdlib (1.52.1-r1)\n(2/35) Installing libgcc (10.3.1_git20210424-r2)\n(3/35) Installing libstdc++ (10.3.1_git20210424-r2)\n(4/35) Installing binutils (2.35.2-r2)\n(5/35) Installing libgomp (10.3.1_git20210424-r2)\n(6/35) Installing libatomic (10.3.1_git20210424-r2)\n(7/35) Installing libgphobos (10.3.1_git20210424-r2)\n(8/35) Installing gmp (6.2.1-r1)\n(9/35) Installing isl22 (0.22-r0)\n(10/35) Installing mpfr4 (4.1.0-r0)\n(11/35) Installing mpc1 (1.2.1-r0)\n(12/35) Installing gcc (10.3.1_git20210424-r2)\n(13/35) Installing musl-dev (1.2.2-r3)\n(14/35) Installing libxml2 (2.9.14-r2)\n(15/35) Installing llvm11-libs (11.1.0-r2)\n(16/35) Installing brotli-libs (1.0.9-r5)\n(17/35) Installing nghttp2-libs (1.43.0-r0)\n(18/35) Installing libcurl (7.79.1-r4)\n(19/35) Installing http-parser (2.9.4-r0)\n(20/35) Installing pcre (8.44-r0)\n(21/35) Installing libssh2 (1.9.0-r1)\n(22/35) Installing libgit2 (1.1.0-r2)\n(23/35) Installing rust (1.52.1-r1)\n(24/35) Installing cargo (1.52.1-r1)\n(25/35) Installing linux-headers (5.10.41-r0)\n(26/35) Installing pkgconf (1.7.4-r0)\n(27/35) Installing libffi-dev (3.3-r2)\n(28/35) Installing zlib-dev (1.2.12-r3)\n(29/35) Installing xz-dev (5.2.5-r1)\n(30/35) Installing libxml2-dev (2.9.14-r2)\n(31/35) Installing libgpg-error (1.42-r0)\n(32/35) Installing libgcrypt (1.9.4-r0)\n(33/35) Installing libxslt (1.1.35-r0)\n(34/35) Installing libxslt-dev (1.1.35-r0)\n(35/35) Installing openssl-dev (1.1.1s-r0)\nExecuting busybox-1.33.1-r8.trigger\nOK: 891 MiB in 71 packages\nRemoving intermediate container 3993bafdf3d1\n ---> 61708ad8c87a\nStep 4/24 : RUN apk add --no-cache libxslt\n ---> Running in 06a056482a3d\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nOK: 891 MiB in 71 packages\nRemoving intermediate container 06a056482a3d\n ---> 48aecadf30bb\nStep 5/24 : RUN mkdir -p /usr/local/mock-idp\n ---> Running in 0a7edb0d06b7\nRemoving intermediate container 0a7edb0d06b7\n ---> f322e50870dc\nStep 6/24 : WORKDIR /usr/local/mock-idp\n ---> Running in c3850d93bdc9\nRemoving intermediate container c3850d93bdc9\n ---> c0d086fb84df\nStep 7/24 : RUN pip install --no-cache-dir --upgrade pip\n ---> Running in 02251759822b\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (21.2.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 21.2.4\n    Uninstalling pip-21.2.4:\n      Successfully uninstalled pip-21.2.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 02251759822b\n ---> ac982c9fd94a\nStep 8/24 : RUN pip install --no-cache-dir cryptography\n ---> Running in 9c09111036dc\nCollecting cryptography\n  Downloading cryptography-39.0.0-cp36-abi3-musllinux_1_1_x86_64.whl (4.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.3/4.3 MB 95.3 MB/s eta 0:00:00\nCollecting cffi>=1.12\n  Downloading cffi-1.15.1-cp39-cp39-musllinux_1_1_x86_64.whl (463 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 463.1/463.1 kB 104.0 MB/s eta 0:00:00\nCollecting pycparser\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 193.6 MB/s eta 0:00:00\nInstalling collected packages: pycparser, cffi, cryptography\nSuccessfully installed cffi-1.15.1 cryptography-39.0.0 pycparser-2.21\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 9c09111036dc\n ---> 86e8e90246ac\nStep 9/24 : COPY Pipfile .\n ---> 363da9eb76b8\nStep 10/24 : COPY Pipfile.lock .\n ---> 9b575abb3fb0\nStep 11/24 : RUN pip3 install --no-cache-dir pipenv\n ---> Running in b1e03938ff89\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 112.3 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 204.8 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (57.4.0)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 112.3 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 178.9 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container b1e03938ff89\n ---> 1dbd4dad15e5\nStep 12/24 : RUN pipenv install --system\n ---> Running in 4168c619e335\nInstalling dependencies from Pipfile.lock (abefb2)...\nRemoving intermediate container 4168c619e335\n ---> ba9c6b973e9f\nStep 13/24 : COPY bin ./bin\n ---> 5135c427be54\nStep 14/24 : COPY mockidp ./mockidp\n ---> 8ff0e8257aa2\nStep 15/24 : COPY doc ./doc\n ---> 6b6af5d58798\nStep 16/24 : COPY tests ./tests\n ---> 3e7265086bd9\nStep 17/24 : COPY setup.py .\n ---> bc6833e06826\nStep 18/24 : COPY README.md .\n ---> c961c88f18ff\nStep 19/24 : RUN pip install --no-cache-dir -e .\n ---> Running in 59febb917791\nObtaining file:///usr/local/mock-idp\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: flask in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (2.2.2)\nRequirement already satisfied: lxml in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (4.9.1)\nRequirement already satisfied: PyYAML in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (6.0)\nRequirement already satisfied: flask-script in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (2.0.6)\nRequirement already satisfied: signxml in /usr/local/lib/python3.9/site-packages (from mock-idp==0.5.1) (3.0.2)\nCollecting nose\n  Downloading nose-1.3.7-py3-none-any.whl (154 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 154.7/154.7 kB 45.0 MB/s eta 0:00:00\nRequirement already satisfied: Werkzeug>=2.2.2 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (2.2.2)\nRequirement already satisfied: click>=8.0 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (8.1.3)\nRequirement already satisfied: itsdangerous>=2.0 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (2.1.2)\nCollecting importlib-metadata>=3.6.0\n  Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)\nRequirement already satisfied: Jinja2>=3.0 in /usr/local/lib/python3.9/site-packages (from flask->mock-idp==0.5.1) (3.1.2)\nRequirement already satisfied: cryptography>=3.4.8 in /usr/local/lib/python3.9/site-packages (from signxml->mock-idp==0.5.1) (38.0.4)\nRequirement already satisfied: pyOpenSSL>=17.5.0 in /usr/local/lib/python3.9/site-packages (from signxml->mock-idp==0.5.1) (22.1.0)\nRequirement already satisfied: certifi>=2018.1.18 in /usr/local/lib/python3.9/site-packages (from signxml->mock-idp==0.5.1) (2022.12.7)\nRequirement already satisfied: cffi>=1.12 in /usr/local/lib/python3.9/site-packages (from cryptography>=3.4.8->signxml->mock-idp==0.5.1) (1.15.1)\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.9/site-packages (from Jinja2>=3.0->flask->mock-idp==0.5.1) (2.1.1)\nRequirement already satisfied: pycparser in /usr/local/lib/python3.9/site-packages (from cffi>=1.12->cryptography>=3.4.8->signxml->mock-idp==0.5.1) (2.21)\nInstalling collected packages: nose, zipp, importlib-metadata, mock-idp\n  Running setup.py develop for mock-idp\nSuccessfully installed importlib-metadata-6.0.0 mock-idp-0.5.1 nose-1.3.7 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 59febb917791\n ---> 92d7867c7e00\nStep 20/24 : RUN apk del gcc musl-dev openssl-dev libffi-dev   libxml2-dev libxslt-dev   rust cargo\n ---> Running in 11e95c102cc3\n(1/31) Purging cargo (1.52.1-r1)\n(2/31) Purging rust (1.52.1-r1)\n(3/31) Purging rust-stdlib (1.52.1-r1)\n(4/31) Purging gcc (10.3.1_git20210424-r2)\n(5/31) Purging binutils (2.35.2-r2)\n(6/31) Purging libatomic (10.3.1_git20210424-r2)\n(7/31) Purging libgomp (10.3.1_git20210424-r2)\n(8/31) Purging libgphobos (10.3.1_git20210424-r2)\n(9/31) Purging musl-dev (1.2.2-r3)\n(10/31) Purging libffi-dev (3.3-r2)\n(11/31) Purging linux-headers (5.10.41-r0)\n(12/31) Purging libxslt-dev (1.1.35-r0)\n(13/31) Purging openssl-dev (1.1.1s-r0)\n(14/31) Purging llvm11-libs (11.1.0-r2)\n(15/31) Purging libstdc++ (10.3.1_git20210424-r2)\n(16/31) Purging libgcc (10.3.1_git20210424-r2)\n(17/31) Purging mpc1 (1.2.1-r0)\n(18/31) Purging mpfr4 (4.1.0-r0)\n(19/31) Purging isl22 (0.22-r0)\n(20/31) Purging gmp (6.2.1-r1)\n(21/31) Purging libcurl (7.79.1-r4)\n(22/31) Purging brotli-libs (1.0.9-r5)\n(23/31) Purging nghttp2-libs (1.43.0-r0)\n(24/31) Purging libgit2 (1.1.0-r2)\n(25/31) Purging http-parser (2.9.4-r0)\n(26/31) Purging pcre (8.44-r0)\n(27/31) Purging libssh2 (1.9.0-r1)\n(28/31) Purging libxml2-dev (2.9.14-r2)\n(29/31) Purging xz-dev (5.2.5-r1)\n(30/31) Purging zlib-dev (1.2.12-r3)\n(31/31) Purging pkgconf (1.7.4-r0)\nExecuting busybox-1.33.1-r8.trigger\nOK: 17 MiB in 40 packages\nRemoving intermediate container 11e95c102cc3\n ---> 07a4bff70b49\nStep 21/24 : RUN rm -rf /var/cache/apk/*\n ---> Running in a473a9a6a10b\nRemoving intermediate container a473a9a6a10b\n ---> 82b6c4323bd0\nStep 22/24 : EXPOSE 5000\n ---> Running in 7e31d7f9a57c\nRemoving intermediate container 7e31d7f9a57c\n ---> 1580b862f438\nStep 23/24 : ENTRYPOINT [ \"mock-idp\", \"--host\", \"0.0.0.0\", \"--port\" ]\n ---> Running in 183a7579ae8b\nRemoving intermediate container 183a7579ae8b\n ---> 7514440e98e9\nStep 24/24 : CMD [ \"5000\" ]\n ---> Running in bdf3a435bf10\nRemoving intermediate container bdf3a435bf10\n ---> 6b47982f123b\nSuccessfully built 6b47982f123b\nSuccessfully tagged mock-idp:latest\n","stderr":"","imageSize":1080515195}}