{"repository":"https://github.com/derbyjs/derby-site","dockerfilePath":"Dockerfile","startTime":1672872784899,"endTime":1672872871922,"clone":{"startTime":1672872784900,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/derbyjs/derby-site'...\n","error":null,"endTime":1672872785835,"commit":"c7921b6b511c628e6b778061d79d778a8e39b95c"},"originalBuild":{"startTime":1672872785934,"endTime":1672872857871,"error":null,"stdout":"Sending build context to Docker daemon  2.837MB\r\r\nStep 1/15 : FROM node:10\n10: Pulling from library/node\n76b8ef87096f: Pulling fs layer\n2e2bafe8a0f4: Pulling fs layer\nb53ce1fd2746: Pulling fs layer\n84a8c1bd5887: Pulling fs layer\n7a803dc0b40f: Pulling fs layer\nb800e94e7303: Pulling fs layer\n0da9fbf60d48: Pulling fs layer\n04dccde934cf: Pulling fs layer\n73269890f6fd: Pulling fs layer\n0da9fbf60d48: Waiting\nb800e94e7303: Waiting\n84a8c1bd5887: Waiting\n04dccde934cf: Waiting\n7a803dc0b40f: Waiting\nb53ce1fd2746: Verifying Checksum\nb53ce1fd2746: Download complete\n2e2bafe8a0f4: Verifying Checksum\n2e2bafe8a0f4: Download complete\n76b8ef87096f: Verifying Checksum\n76b8ef87096f: Download complete\nb800e94e7303: Verifying Checksum\nb800e94e7303: Download complete\n84a8c1bd5887: Verifying Checksum\n84a8c1bd5887: Download complete\n0da9fbf60d48: Verifying Checksum\n0da9fbf60d48: Download complete\n04dccde934cf: Verifying Checksum\n04dccde934cf: Download complete\n73269890f6fd: Download complete\n76b8ef87096f: Pull complete\n2e2bafe8a0f4: Pull complete\n7a803dc0b40f: Verifying Checksum\n7a803dc0b40f: Download complete\nb53ce1fd2746: Pull complete\n84a8c1bd5887: Pull complete\n7a803dc0b40f: Pull complete\nb800e94e7303: Pull complete\n0da9fbf60d48: Pull complete\n04dccde934cf: Pull complete\n73269890f6fd: Pull complete\nDigest: sha256:59531d2835edd5161c8f9512f9e095b1836f7a1fcb0ab73e005ec46047384911\nStatus: Downloaded newer image for node:10\n ---> 28dca6642db8\nStep 2/15 : WORKDIR /var\n ---> Running in 666073b45493\nRemoving intermediate container 666073b45493\n ---> 30c5f8bdc10c\nStep 3/15 : RUN mkdir derby-site\n ---> Running in b7c3877c93df\nRemoving intermediate container b7c3877c93df\n ---> f0d9b2476098\nStep 4/15 : ADD package.json /var/derby-site/\n ---> 22055a9ff30a\nStep 5/15 : ADD server.js /var/derby-site/\n ---> 0dea1a04d0d9\nStep 6/15 : ADD md /var/derby-site/md\n ---> c8059ec9dd30\nStep 7/15 : ADD public /var/derby-site/public\n ---> de8f1dceb4c0\nStep 8/15 : ADD src /var/derby-site/src\n ---> d2156c0ea996\nStep 9/15 : ADD styles /var/derby-site/styles\n ---> 030c8473cb54\nStep 10/15 : ADD views /var/derby-site/views\n ---> 84927c68c5a5\nStep 11/15 : WORKDIR /var/derby-site\n ---> Running in f77ef8bfb4b2\nRemoving intermediate container f77ef8bfb4b2\n ---> 192585c1bcd2\nStep 12/15 : RUN npm_config_spin=false npm_config_loglevel=warn npm install --production\n ---> Running in b0316233a882\n\u001b[91mnpm WARN deprecated highlight.js@9.18.5: Support has ended for 9.x series. Upgrade to @latest\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m deprecated\u001b[0m\u001b[91m uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> highlight.js@9.18.5 postinstall /var/derby-site/node_modules/highlight.js\n> node deprecated.js\n\n\u001b[41m\u001b[37m-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\u001b[1m\u001b[37m\n  Verion 9 of Highlight.js has reached EOL.  It will no longer\n  be supported or receive security updates in the future.\n  Please upgrade to version 10 or encourage your indirect\n  dependencies to do so.\n\n  For more info:\n  \u001b[34m\n  https://github.com/highlightjs/highlight.js/issues/2877\n  https://github.com/highlightjs/highlight.js/blob/master/VERSION_10_UPGRADE.md\n \u001b[41m\u001b[37m\n-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 129 packages from 388 contributors and audited 131 packages in 7.998s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 3 vulnerabilities (1 moderate, 2 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container b0316233a882\n ---> c576b109ca26\nStep 13/15 : EXPOSE 4000\n ---> Running in 3bb7b8ccad7c\nRemoving intermediate container 3bb7b8ccad7c\n ---> 818224b72e82\nStep 14/15 : ENV PORT 4000\n ---> Running in ffb493532ccb\nRemoving intermediate container ffb493532ccb\n ---> 731f84a056c9\nStep 15/15 : CMD [\"/usr/local/bin/node\", \"/var/derby-site/server.js\"]\n ---> Running in 3cbba64f5d0e\nRemoving intermediate container 3cbba64f5d0e\n ---> 8ad18d33c43d\nSuccessfully built 8ad18d33c43d\nSuccessfully tagged derby-site:latest\n","stderr":"","imageSize":930335541},"repair":{"startTime":1672872857932,"endTime":1672872857987,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":21,"end":21,"columnStart":4,"columnEnd":75}}],"repairedDockerfile":"# BUILD-USING: docker build -t derbyjs/derby-site .\n# RUN-USING: docker run -p 4000:4000 --name derby-site --rm derbyjs/derby-site\n\n# specify base docker image\nFROM node:10\n\n# copy over dependencies\nWORKDIR /var\nRUN mkdir derby-site\n\nADD package.json /var/derby-site/\nADD server.js /var/derby-site/\n\nADD md /var/derby-site/md\nADD public /var/derby-site/public\nADD src /var/derby-site/src\nADD styles /var/derby-site/styles\nADD views /var/derby-site/views\n\n# npm install all the things\nWORKDIR /var/derby-site\nRUN npm_config_spin=false npm_config_loglevel=warn npm install --production && npm cache clean --force;\n\n# expose any ports we need\nEXPOSE 4000\nENV PORT 4000\n# the command that gets run inside the docker container\nCMD [\"/usr/local/bin/node\", \"/var/derby-site/server.js\"]\n"},"repairedBuild":{"startTime":1672872858319,"endTime":1672872871191,"error":null,"stdout":"Sending build context to Docker daemon  2.837MB\r\r\nStep 1/15 : FROM node:10\n ---> 28dca6642db8\nStep 2/15 : WORKDIR /var\n ---> Running in 425e0a9b836a\nRemoving intermediate container 425e0a9b836a\n ---> 196d247dcdf1\nStep 3/15 : RUN mkdir derby-site\n ---> Running in 701296d1f012\nRemoving intermediate container 701296d1f012\n ---> b3f3c7e8140c\nStep 4/15 : ADD package.json /var/derby-site/\n ---> 897a9d4dc2e5\nStep 5/15 : ADD server.js /var/derby-site/\n ---> 15a589e0c728\nStep 6/15 : ADD md /var/derby-site/md\n ---> 699158fb6bcf\nStep 7/15 : ADD public /var/derby-site/public\n ---> d0ffa93c595a\nStep 8/15 : ADD src /var/derby-site/src\n ---> 3250c15c2e95\nStep 9/15 : ADD styles /var/derby-site/styles\n ---> 020ad2634754\nStep 10/15 : ADD views /var/derby-site/views\n ---> b21069933b45\nStep 11/15 : WORKDIR /var/derby-site\n ---> Running in 9cf846eb9b6d\nRemoving intermediate container 9cf846eb9b6d\n ---> db246699e715\nStep 12/15 : RUN npm_config_spin=false npm_config_loglevel=warn npm install --production && npm cache clean --force;\n ---> Running in 18ce706c1865\n\u001b[91mnpm WARN deprecated highlight.js@9.18.5: Support has ended for 9.x series. Upgrade to @latest\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@2.0.3: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\n> highlight.js@9.18.5 postinstall /var/derby-site/node_modules/highlight.js\n> node deprecated.js\n\n\u001b[41m\u001b[37m-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\u001b[1m\u001b[37m\n  Verion 9 of Highlight.js has reached EOL.  It will no longer\n  be supported or receive security updates in the future.\n  Please upgrade to version 10 or encourage your indirect\n  dependencies to do so.\n\n  For more info:\n  \u001b[34m\n  https://github.com/highlightjs/highlight.js/issues/2877\n  https://github.com/highlightjs/highlight.js/blob/master/VERSION_10_UPGRADE.md\n \u001b[41m\u001b[37m\n-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\u001b[0m\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 129 packages from 388 contributors and audited 131 packages in 4.734s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 3 vulnerabilities (1 moderate, 2 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 18ce706c1865\n ---> cb0e1d0d1628\nStep 13/15 : EXPOSE 4000\n ---> Running in c539baa260b0\nRemoving intermediate container c539baa260b0\n ---> a5c8401d0a79\nStep 14/15 : ENV PORT 4000\n ---> Running in 7b8a55845f9a\nRemoving intermediate container 7b8a55845f9a\n ---> dc276682b9e3\nStep 15/15 : CMD [\"/usr/local/bin/node\", \"/var/derby-site/server.js\"]\n ---> Running in 43080efd4745\nRemoving intermediate container 43080efd4745\n ---> b82e1fc40e5b\nSuccessfully built b82e1fc40e5b\nSuccessfully tagged derby-site:latest\n","stderr":"","imageSize":923515584}}