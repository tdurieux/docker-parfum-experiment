{"repository":"https://github.com/ethtx/ethtx_ce","dockerfilePath":"Dockerfile","startTime":1672779040616,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ethtx/ethtx_ce'...\n","error":null,"commit":"1ece872c33d20be1ea1fc194a5a7af3a16b8d1a6"},"originalBuild":{"startTimestamp":1672779041453,"endTimestamp":1672779172128,"error":null,"stdout":"Sending build context to Docker daemon  192.5kB\r\r\nStep 1/22 : FROM python:3.9\n ---> 68cf04410baf\nStep 2/22 : WORKDIR /app/\n ---> Running in 9ed050b6507a\nRemoving intermediate container 9ed050b6507a\n ---> 743e71d040da\nStep 3/22 : RUN pip install --upgrade pip && pip install pipenv\n ---> Running in 720a2c8715e0\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 41.7 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 9.8 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 9.8 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 32.3 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 8.2 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container 720a2c8715e0\n ---> 337b82008bd5\nStep 4/22 : COPY Pipfile* /app/\n ---> 54f165f7e142\nStep 5/22 : COPY ./ethtx_ce/entrypoint.sh /entrypoint.sh\n ---> 40f0412e31e1\nStep 6/22 : RUN chmod +x /entrypoint.sh\n ---> Running in 9c7079026ac3\nRemoving intermediate container 9c7079026ac3\n ---> 89cef0269097\nStep 7/22 : COPY ./ethtx_ce/start.sh  /start.sh\n ---> 34565c6dd40d\nStep 8/22 : RUN chmod +x /start.sh\n ---> Running in aecf12b1b6ec\nRemoving intermediate container aecf12b1b6ec\n ---> db8542f87756\nStep 9/22 : COPY ./ethtx_ce/start-reload.sh /start-reload.sh\n ---> afe035ff8421\nStep 10/22 : RUN chmod +x /start-reload.sh\n ---> Running in 5ac05cdd4c8a\nRemoving intermediate container 5ac05cdd4c8a\n ---> 938a497ecf3c\nStep 11/22 : COPY ./ethtx_ce/gunicorn_conf.py /gunicorn_conf.py\n ---> bbe6ffa1a47b\nStep 12/22 : COPY Makefile /Makefile\n ---> cfee782e6ba2\nStep 13/22 : RUN bash -c \"pipenv install --dev --deploy\"\n ---> Running in 06b70b52fe74\n\u001b[91mCreating a virtualenv for this project...\nPipfile: /app/Pipfile\n\u001b[0m\u001b[91mUsing /usr/local/bin/python3.9 (3.9.16) to create virtualenv...\n\u001b[0m\u001b[91mcreated virtual environment CPython3.9.16.final.0-64 in 566ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/app-4PlAip0Q, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==22.3.1, setuptools==65.6.3, wheel==0.38.4\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m✔ Successfully created virtual environment!\n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/app-4PlAip0Q\n\u001b[0m\u001b[91mPipfile.lock not found, creating...\n\u001b[0m\u001b[91mLocking [packages] dependencies...\n\u001b[0m\u001b[91mLocking [dev-packages] dependencies...\n\u001b[0m\u001b[91mUpdated Pipfile.lock (131af05c0676451561137b755264a0ced5a9c7122eef4947b4a1169e55023bb0)!\n\u001b[0mInstalling dependencies from Pipfile.lock (023bb0)...\nInstalling dependencies from Pipfile.lock (023bb0)...\nRemoving intermediate container 06b70b52fe74\n ---> f9913b83e520\nStep 14/22 : ARG GIT_URL\n ---> Running in 0f8ab5bc7bb7\nRemoving intermediate container 0f8ab5bc7bb7\n ---> 3ae494d62007\nStep 15/22 : ENV GIT_URL=$GIT_URL\n ---> Running in af70adc1fa66\nRemoving intermediate container af70adc1fa66\n ---> 02eed6684871\nStep 16/22 : ARG GIT_SHA\n ---> Running in 35c433d3bbe4\nRemoving intermediate container 35c433d3bbe4\n ---> ef65d8943be0\nStep 17/22 : ENV GIT_SHA=$GIT_SHA\n ---> Running in dd1436a00052\nRemoving intermediate container dd1436a00052\n ---> 2f3f434f31a3\nStep 18/22 : ARG CI=1\n ---> Running in 59a247db9a90\nRemoving intermediate container 59a247db9a90\n ---> 4f5f749fc4a2\nStep 19/22 : COPY ./ethtx_ce /app\n ---> ea9ba980ee47\nStep 20/22 : ENV PYTHONPATH=/app\n ---> Running in 426700b49279\nRemoving intermediate container 426700b49279\n ---> 25377a72204a\nStep 21/22 : EXPOSE 5000\n ---> Running in 37bd560b6bf8\nRemoving intermediate container 37bd560b6bf8\n ---> e5b921830a72\nStep 22/22 : ENTRYPOINT [\"/entrypoint.sh\"]\n ---> Running in 3055c459281f\nRemoving intermediate container 3055c459281f\n ---> 1cb7a0cb0c40\nSuccessfully built 1cb7a0cb0c40\nSuccessfully tagged ethtx_ce:latest\n","stderr":"","imageSize":1122476259},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":4,"columnEnd":29}},{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":33,"columnEnd":51}}],"repairedDockerfile":"FROM python:3.9\n\nWORKDIR /app/\n\n# Upgrade pip, install pipenv\nRUN pip install --no-cache-dir --upgrade pip && pip install --no-cache-dir pipenv\n\n# Copy Pipfile* in case it doesn't exist in the repo\nCOPY Pipfile* /app/\n\nCOPY ./ethtx_ce/entrypoint.sh /entrypoint.sh\nRUN chmod +x /entrypoint.sh\n\nCOPY ./ethtx_ce/start.sh  /start.sh\nRUN chmod +x /start.sh\n\nCOPY ./ethtx_ce/start-reload.sh /start-reload.sh\nRUN chmod +x /start-reload.sh\n\nCOPY ./ethtx_ce/gunicorn_conf.py /gunicorn_conf.py\n\nCOPY Makefile /Makefile\n\nRUN bash -c \"pipenv install --dev --deploy\"\n\nARG GIT_URL\nENV GIT_URL=$GIT_URL\n\nARG GIT_SHA\nENV GIT_SHA=$GIT_SHA\n\nARG CI=1\n\nCOPY ./ethtx_ce /app\nENV PYTHONPATH=/app\n\nEXPOSE 5000\n\nENTRYPOINT [\"/entrypoint.sh\"]\n"},"repairedBuild":{"startTimestamp":1672779172709,"endTimestamp":1672779312722,"error":null,"stdout":"Sending build context to Docker daemon  192.5kB\r\r\nStep 1/22 : FROM python:3.9\n ---> 68cf04410baf\nStep 2/22 : WORKDIR /app/\n ---> Running in 18a0567e5478\nRemoving intermediate container 18a0567e5478\n ---> e70c1f79d47c\nStep 3/22 : RUN pip install --no-cache-dir --upgrade pip && pip install --no-cache-dir pipenv\n ---> Running in e4a0f3177d94\nRequirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (22.0.4)\nCollecting pip\n  Downloading pip-22.3.1-py3-none-any.whl (2.1 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 106.5 MB/s eta 0:00:00\nInstalling collected packages: pip\n  Attempting uninstall: pip\n    Found existing installation: pip 22.0.4\n    Uninstalling pip-22.0.4:\n      Successfully uninstalled pip-22.0.4\nSuccessfully installed pip-22.3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 90.4 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 100.0 MB/s eta 0:00:00\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 290.8 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 kB 143.3 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container e4a0f3177d94\n ---> 99a36fd6f032\nStep 4/22 : COPY Pipfile* /app/\n ---> fcd48a5cf02b\nStep 5/22 : COPY ./ethtx_ce/entrypoint.sh /entrypoint.sh\n ---> 1c5ea52d68c7\nStep 6/22 : RUN chmod +x /entrypoint.sh\n ---> Running in e280896a5fd6\nRemoving intermediate container e280896a5fd6\n ---> 91e4995fb631\nStep 7/22 : COPY ./ethtx_ce/start.sh  /start.sh\n ---> 8009f3a5c048\nStep 8/22 : RUN chmod +x /start.sh\n ---> Running in 3c261731f703\nRemoving intermediate container 3c261731f703\n ---> 7eea66bd6186\nStep 9/22 : COPY ./ethtx_ce/start-reload.sh /start-reload.sh\n ---> ac13acad3913\nStep 10/22 : RUN chmod +x /start-reload.sh\n ---> Running in daffbb0955aa\nRemoving intermediate container daffbb0955aa\n ---> 5c9dbff21daa\nStep 11/22 : COPY ./ethtx_ce/gunicorn_conf.py /gunicorn_conf.py\n ---> 057fe6754ade\nStep 12/22 : COPY Makefile /Makefile\n ---> bbac0f2a8b9b\nStep 13/22 : RUN bash -c \"pipenv install --dev --deploy\"\n ---> Running in 9f48fe680bc0\n\u001b[91mCreating a virtualenv for this project...\nPipfile: /app/Pipfile\n\u001b[0m\u001b[91mUsing /usr/local/bin/python3.9 (3.9.16) to create virtualenv...\n\u001b[0m\u001b[91mcreated virtual environment CPython3.9.16.final.0-64 in 503ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/app-4PlAip0Q, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==22.3.1, setuptools==65.6.3, wheel==0.38.4\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m✔ Successfully created virtual environment!\n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/app-4PlAip0Q\n\u001b[0m\u001b[91mPipfile.lock not found, creating...\n\u001b[0m\u001b[91mLocking [packages] dependencies...\n\u001b[0m\u001b[91mLocking [dev-packages] dependencies...\n\u001b[0m\u001b[91mUpdated Pipfile.lock (131af05c0676451561137b755264a0ced5a9c7122eef4947b4a1169e55023bb0)!\n\u001b[0mInstalling dependencies from Pipfile.lock (023bb0)...\nInstalling dependencies from Pipfile.lock (023bb0)...\nRemoving intermediate container 9f48fe680bc0\n ---> 7f420d083351\nStep 14/22 : ARG GIT_URL\n ---> Running in 52586c42c92c\nRemoving intermediate container 52586c42c92c\n ---> ecb58a1613f3\nStep 15/22 : ENV GIT_URL=$GIT_URL\n ---> Running in 891d0e780bd2\nRemoving intermediate container 891d0e780bd2\n ---> 5c425268f4af\nStep 16/22 : ARG GIT_SHA\n ---> Running in 2474fff16dee\nRemoving intermediate container 2474fff16dee\n ---> 36a982e0ccfc\nStep 17/22 : ENV GIT_SHA=$GIT_SHA\n ---> Running in c98f9817cec6\nRemoving intermediate container c98f9817cec6\n ---> 35a7e420c5fe\nStep 18/22 : ARG CI=1\n ---> Running in f5575534b3d8\nRemoving intermediate container f5575534b3d8\n ---> 83493d5c518c\nStep 19/22 : COPY ./ethtx_ce /app\n ---> 8a15342c2853\nStep 20/22 : ENV PYTHONPATH=/app\n ---> Running in 61f98c692bc0\nRemoving intermediate container 61f98c692bc0\n ---> 89a16620eddd\nStep 21/22 : EXPOSE 5000\n ---> Running in 08d9b28598bd\nRemoving intermediate container 08d9b28598bd\n ---> a2dd2fad6ab4\nStep 22/22 : ENTRYPOINT [\"/entrypoint.sh\"]\n ---> Running in 45a12e21e38d\nRemoving intermediate container 45a12e21e38d\n ---> 9dfba9d241bd\nSuccessfully built 9dfba9d241bd\nSuccessfully tagged ethtx_ce:latest\n","stderr":"","imageSize":1107894415},"endTime":1672779313324}