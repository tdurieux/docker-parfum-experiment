{"repository":"https://github.com/ibm/python-django-app","dockerfilePath":"Dockerfile","startTime":1672304073787,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ibm/python-django-app'...\n","error":null,"commit":"9f95df13f609a627323f1e72507d67c74152563b"},"originalBuild":{"startTimestamp":1672304074662,"endTimestamp":1672304203733,"error":null,"stdout":"Sending build context to Docker daemon  421.9kB\r\r\nStep 1/11 : FROM registry.access.redhat.com/ubi8/python-39:1\n1: Pulling from ubi8/python-39\n2cf6011ee4f7: Pulling fs layer\n417723e2b937: Pulling fs layer\nacc582e87aa0: Pulling fs layer\nded9ff9b054b: Pulling fs layer\n417723e2b937: Verifying Checksum\n417723e2b937: Download complete\n2cf6011ee4f7: Verifying Checksum\n2cf6011ee4f7: Download complete\nded9ff9b054b: Download complete\nacc582e87aa0: Verifying Checksum\nacc582e87aa0: Download complete\n2cf6011ee4f7: Pull complete\n417723e2b937: Pull complete\nacc582e87aa0: Pull complete\nded9ff9b054b: Pull complete\nDigest: sha256:10f349e7819b561bf86fd0b828b28457f5a5a4a4958b68a961085dbb1ad123a9\nStatus: Downloaded newer image for registry.access.redhat.com/ubi8/python-39:1\n ---> 43bfd0825193\nStep 2/11 : WORKDIR /opt/app-root/src\n ---> Running in 0701dd418426\nRemoving intermediate container 0701dd418426\n ---> 3f34dd2280d2\nStep 3/11 : COPY Pipfile* /opt/app-root/src/\n ---> 5c1c8a053eaf\nStep 4/11 : USER root\n ---> Running in a2e3bd06ad9d\nRemoving intermediate container a2e3bd06ad9d\n ---> 1836af98aef7\nStep 5/11 : RUN pip3 install --upgrade pip==21.3.1   && pip3 install --upgrade pipenv==2020.11.15   && pipenv install --deploy\n ---> Running in 990d97b01fd3\nRequirement already satisfied: pip==21.3.1 in /opt/app-root/lib/python3.9/site-packages (21.3.1)\n\u001b[91mWARNING: You are using pip version 21.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mCollecting pipenv==2020.11.15\n  Downloading pipenv-2020.11.15-py2.py3-none-any.whl (3.9 MB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nRequirement already satisfied: pip>=18.0 in /opt/app-root/lib/python3.9/site-packages (from pipenv==2020.11.15) (21.3.1)\nRequirement already satisfied: setuptools>=36.2.1 in /opt/app-root/lib/python3.9/site-packages (from pipenv==2020.11.15) (50.3.2)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nInstalling collected packages: platformdirs, filelock, distlib, virtualenv-clone, virtualenv, certifi, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2020.11.15 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: You are using pip version 21.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0m\u001b[91mCreating a virtualenv for this project...\n\u001b[0m\u001b[91mPipfile: /opt/app-root/src/Pipfile\n\u001b[0m\u001b[91mUsing /opt/app-root/bin/python3 (3.9.13) to create virtualenv...\n\u001b[0m\u001b[91m\r⠋ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠸\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠼ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠴ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠦\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠧ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠇ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠏ Creating virtual environment...\u001b[0m\u001b[91mcreated virtual environment CPython3.9.13.final.0-64 in 658ms\n  creator CPython3Posix(dest=/opt/app-root/src/.local/share/virtualenvs/src-dqYAXZ28, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/opt/app-root/src/.local/share/virtualenv)\n    added seed packages: pip==22.3.1, setuptools==65.6.3, wheel==0.38.4\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m✔ Successfully created virtual environment! \n\u001b[0m\u001b[91mVirtualenv location: /opt/app-root/src/.local/share/virtualenvs/src-dqYAXZ28\n\u001b[0mInstalling dependencies from Pipfile.lock (1364b1)...\nRemoving intermediate container 990d97b01fd3\n ---> c246b4b9ced3\nStep 6/11 : RUN pipenv lock -r > requirements.txt && pip3 install -r requirements.txt\n ---> Running in 78c5b2fe5449\nCollecting asgiref==3.5.2\n  Downloading asgiref-3.5.2-py3-none-any.whl (22 kB)\nCollecting attrs==22.1.0\n  Downloading attrs-22.1.0-py2.py3-none-any.whl (58 kB)\nCollecting decorator==5.1.1\n  Downloading decorator-5.1.1-py3-none-any.whl (9.1 kB)\nCollecting django==3.2.16\n  Downloading Django-3.2.16-py3-none-any.whl (7.9 MB)\nCollecting djangorestframework==3.14.0\n  Downloading djangorestframework-3.14.0-py3-none-any.whl (1.1 MB)\nCollecting drf-spectacular==0.25.1\n  Downloading drf_spectacular-0.25.1-py3-none-any.whl (90 kB)\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\nCollecting ibmcloudenv==0.2.1\n  Downloading ibmcloudenv-0.2.1-py2.py3-none-any.whl (4.9 kB)\nCollecting inflection==0.5.1\n  Downloading inflection-0.5.1-py2.py3-none-any.whl (9.5 kB)\nCollecting jsonpath-rw==1.4.0\n  Downloading jsonpath-rw-1.4.0.tar.gz (13 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting jsonschema==4.17.3\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\nCollecting ply==3.11\n  Downloading ply-3.11-py2.py3-none-any.whl (49 kB)\nCollecting pyrsistent==0.19.2\n  Downloading pyrsistent-0.19.2-py3-none-any.whl (57 kB)\nCollecting pytz==2022.7\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\nCollecting pyyaml==6.0\n  Downloading PyYAML-6.0-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (661 kB)\nCollecting setuptools==65.6.3\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\nCollecting six==1.16.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting sqlparse==0.4.3\n  Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)\nCollecting uritemplate==4.1.1\n  Downloading uritemplate-4.1.1-py2.py3-none-any.whl (10 kB)\nCollecting whitenoise==6.2.0\n  Downloading whitenoise-6.2.0-py3-none-any.whl (19 kB)\nUsing legacy 'setup.py install' for jsonpath-rw, since package 'wheel' is not installed.\nInstalling collected packages: sqlparse, pytz, asgiref, six, pyrsistent, ply, django, decorator, attrs, uritemplate, setuptools, pyyaml, jsonschema, jsonpath-rw, inflection, djangorestframework, whitenoise, ibmcloudenv, gunicorn, drf-spectacular\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 50.3.2\n    Uninstalling setuptools-50.3.2:\n      Successfully uninstalled setuptools-50.3.2\n    Running setup.py install for jsonpath-rw: started\n    Running setup.py install for jsonpath-rw: finished with status 'done'\nSuccessfully installed asgiref-3.5.2 attrs-22.1.0 decorator-5.1.1 django-3.2.16 djangorestframework-3.14.0 drf-spectacular-0.25.1 gunicorn-20.1.0 ibmcloudenv-0.2.1 inflection-0.5.1 jsonpath-rw-1.4.0 jsonschema-4.17.3 ply-3.11 pyrsistent-0.19.2 pytz-2022.7 pyyaml-6.0 setuptools-65.6.3 six-1.16.0 sqlparse-0.4.3 uritemplate-4.1.1 whitenoise-6.2.0\n\u001b[91mWARNING: You are using pip version 21.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 78c5b2fe5449\n ---> 6918a4f51e42\nStep 7/11 : USER 1001\n ---> Running in af1b12082ac5\nRemoving intermediate container af1b12082ac5\n ---> 1bea2d8ce38d\nStep 8/11 : COPY . /opt/app-root/src\n ---> f3880e27f9a9\nStep 9/11 : ENV PORT 3000\n ---> Running in 5046676b350d\nRemoving intermediate container 5046676b350d\n ---> e07c251492ba\nStep 10/11 : EXPOSE 3000\n ---> Running in 58a47bf3adeb\nRemoving intermediate container 58a47bf3adeb\n ---> 0389d3a13c63\nStep 11/11 : CMD [\"python3\", \"manage.py\", \"start\"]\n ---> Running in ea4776e59319\nRemoving intermediate container ea4776e59319\n ---> 10d9411491a1\nSuccessfully built 10d9411491a1\nSuccessfully tagged python-django-app:latest\n","stderr":"","imageSize":1000399538},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":9,"end":9,"columnStart":4,"columnEnd":38}},{"name":"pipUseNoCacheDir","position":{"start":10,"end":10,"columnStart":5,"columnEnd":46}},{"name":"pipUseNoCacheDir","position":{"start":13,"end":13,"columnStart":41,"columnEnd":73}}],"repairedDockerfile":"FROM registry.access.redhat.com/ubi8/python-39:1\n\nWORKDIR /opt/app-root/src\n\nCOPY Pipfile* /opt/app-root/src/\n\n## NOTE - rhel enforces user container permissions stronger ##\nUSER root\n\nRUN pip3 install --no-cache-dir --upgrade pip==21.3.1 \\\n  && pip3 install --no-cache-dir --upgrade pipenv==2020.11.15 \\\n  && pipenv install --deploy\n\nRUN pipenv lock -r > requirements.txt && pip3 install --no-cache-dir -r requirements.txt\n\nUSER 1001\n\nCOPY . /opt/app-root/src\n\nENV PORT 3000\n\nEXPOSE 3000\n\nCMD [\"python3\", \"manage.py\", \"start\"]"},"repairedBuild":{"startTimestamp":1672304204397,"endTimestamp":1672304271906,"error":null,"stdout":"Sending build context to Docker daemon  422.4kB\r\r\nStep 1/11 : FROM registry.access.redhat.com/ubi8/python-39:1\n ---> 43bfd0825193\nStep 2/11 : WORKDIR /opt/app-root/src\n ---> Running in 33a4d7345590\nRemoving intermediate container 33a4d7345590\n ---> b5dc81f9e095\nStep 3/11 : COPY Pipfile* /opt/app-root/src/\n ---> 82eab8920271\nStep 4/11 : USER root\n ---> Running in bb33d9ab1300\nRemoving intermediate container bb33d9ab1300\n ---> b1794b7baf84\nStep 5/11 : RUN pip3 install --no-cache-dir --upgrade pip==21.3.1   && pip3 install --no-cache-dir --upgrade pipenv==2020.11.15   && pipenv install --deploy\n ---> Running in 875330a1cba3\nRequirement already satisfied: pip==21.3.1 in /opt/app-root/lib/python3.9/site-packages (21.3.1)\n\u001b[91mWARNING: You are using pip version 21.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mCollecting pipenv==2020.11.15\n  Downloading pipenv-2020.11.15-py2.py3-none-any.whl (3.9 MB)\nRequirement already satisfied: pip>=18.0 in /opt/app-root/lib/python3.9/site-packages (from pipenv==2020.11.15) (21.3.1)\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nRequirement already satisfied: setuptools>=36.2.1 in /opt/app-root/lib/python3.9/site-packages (from pipenv==2020.11.15) (50.3.2)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\nInstalling collected packages: platformdirs, filelock, distlib, virtualenv-clone, virtualenv, certifi, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2020.11.15 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: You are using pip version 21.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0m\u001b[91mCreating a virtualenv for this project...\nPipfile: /opt/app-root/src/Pipfile\n\u001b[0m\u001b[91mUsing /opt/app-root/bin/python3 (3.9.13) to create virtualenv...\n\u001b[0m\u001b[91m\r⠋\u001b[0m\u001b[91m Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠙ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠹ Creating virtual environment...\u001b[0m\u001b[91m\b\r⠸ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠼ Creating virtual environment...\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m\r⠴ Creating virtual environment...\u001b[0m\u001b[91m\b\r⠦ Creating virtual environment...\u001b[0m\u001b[91m\b\r⠧ Creating virtual environment...\u001b[0m\u001b[91mcreated virtual environment CPython3.9.13.final.0-64 in 501ms\n  creator CPython3Posix(dest=/opt/app-root/src/.local/share/virtualenvs/src-dqYAXZ28, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/opt/app-root/src/.local/share/virtualenv)\n    added seed packages: pip==22.3.1, setuptools==65.6.3, wheel==0.38.4\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m\b\u001b[0m\u001b[91m✔ Successfully created virtual environment! \n\u001b[0m\u001b[91mVirtualenv location: /opt/app-root/src/.local/share/virtualenvs/src-dqYAXZ28\n\u001b[0mInstalling dependencies from Pipfile.lock (1364b1)...\nRemoving intermediate container 875330a1cba3\n ---> 6985cda87a9f\nStep 6/11 : RUN pipenv lock -r > requirements.txt && pip3 install --no-cache-dir -r requirements.txt\n ---> Running in e624209ce968\nCollecting asgiref==3.5.2\n  Downloading asgiref-3.5.2-py3-none-any.whl (22 kB)\nCollecting attrs==22.1.0\n  Downloading attrs-22.1.0-py2.py3-none-any.whl (58 kB)\nCollecting decorator==5.1.1\n  Downloading decorator-5.1.1-py3-none-any.whl (9.1 kB)\nCollecting django==3.2.16\n  Downloading Django-3.2.16-py3-none-any.whl (7.9 MB)\nCollecting djangorestframework==3.14.0\n  Downloading djangorestframework-3.14.0-py3-none-any.whl (1.1 MB)\nCollecting drf-spectacular==0.25.1\n  Downloading drf_spectacular-0.25.1-py3-none-any.whl (90 kB)\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\nCollecting ibmcloudenv==0.2.1\n  Downloading ibmcloudenv-0.2.1-py2.py3-none-any.whl (4.9 kB)\nCollecting inflection==0.5.1\n  Downloading inflection-0.5.1-py2.py3-none-any.whl (9.5 kB)\nCollecting jsonpath-rw==1.4.0\n  Downloading jsonpath-rw-1.4.0.tar.gz (13 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting jsonschema==4.17.3\n  Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\nCollecting ply==3.11\n  Downloading ply-3.11-py2.py3-none-any.whl (49 kB)\nCollecting pyrsistent==0.19.2\n  Downloading pyrsistent-0.19.2-py3-none-any.whl (57 kB)\nCollecting pytz==2022.7\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\nCollecting pyyaml==6.0\n  Downloading PyYAML-6.0-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (661 kB)\nCollecting setuptools==65.6.3\n  Downloading setuptools-65.6.3-py3-none-any.whl (1.2 MB)\nCollecting six==1.16.0\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting sqlparse==0.4.3\n  Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)\nCollecting uritemplate==4.1.1\n  Downloading uritemplate-4.1.1-py2.py3-none-any.whl (10 kB)\nCollecting whitenoise==6.2.0\n  Downloading whitenoise-6.2.0-py3-none-any.whl (19 kB)\nUsing legacy 'setup.py install' for jsonpath-rw, since package 'wheel' is not installed.\nInstalling collected packages: sqlparse, pytz, asgiref, six, pyrsistent, ply, django, decorator, attrs, uritemplate, setuptools, pyyaml, jsonschema, jsonpath-rw, inflection, djangorestframework, whitenoise, ibmcloudenv, gunicorn, drf-spectacular\n  Attempting uninstall: setuptools\n    Found existing installation: setuptools 50.3.2\n    Uninstalling setuptools-50.3.2:\n      Successfully uninstalled setuptools-50.3.2\n    Running setup.py install for jsonpath-rw: started\n    Running setup.py install for jsonpath-rw: finished with status 'done'\nSuccessfully installed asgiref-3.5.2 attrs-22.1.0 decorator-5.1.1 django-3.2.16 djangorestframework-3.14.0 drf-spectacular-0.25.1 gunicorn-20.1.0 ibmcloudenv-0.2.1 inflection-0.5.1 jsonpath-rw-1.4.0 jsonschema-4.17.3 ply-3.11 pyrsistent-0.19.2 pytz-2022.7 pyyaml-6.0 setuptools-65.6.3 six-1.16.0 sqlparse-0.4.3 uritemplate-4.1.1 whitenoise-6.2.0\n\u001b[91mWARNING: You are using pip version 21.3.1; however, version 22.3.1 is available.\nYou should consider upgrading via the '/opt/app-root/bin/python3.9 -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container e624209ce968\n ---> 86618d652b23\nStep 7/11 : USER 1001\n ---> Running in dad7e49739f1\nRemoving intermediate container dad7e49739f1\n ---> b3e8411fe40a\nStep 8/11 : COPY . /opt/app-root/src\n ---> 37652a410902\nStep 9/11 : ENV PORT 3000\n ---> Running in 793a77255b0d\nRemoving intermediate container 793a77255b0d\n ---> e15dedc64cf2\nStep 10/11 : EXPOSE 3000\n ---> Running in 2024dccc5bfb\nRemoving intermediate container 2024dccc5bfb\n ---> 82b95a9ea285\nStep 11/11 : CMD [\"python3\", \"manage.py\", \"start\"]\n ---> Running in 03d92e4d380c\nRemoving intermediate container 03d92e4d380c\n ---> bfa5ef35ff1c\nSuccessfully built bfa5ef35ff1c\nSuccessfully tagged python-django-app:latest\n","stderr":"","imageSize":1000399538},"endTime":1672304273527}