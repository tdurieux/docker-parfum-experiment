{"repository":"https://github.com/nwtgck/http-knocking","dockerfilePath":"Dockerfile","startTime":1672960017500,"endTime":1672960079597,"clone":{"startTime":1672960017500,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nwtgck/http-knocking'...\n","error":null,"endTime":1672960018585,"commit":"b88552f6202c783a902535b99951b16f94246034"},"originalBuild":{"startTime":1672960018648,"endTime":1672960051984,"error":null,"stdout":"Sending build context to Docker daemon    4.3MB\r\r\nStep 1/6 : FROM node:10.16-alpine\n10.16-alpine: Pulling from library/node\ne7c96db7181b: Already exists\n50958466d97a: Pulling fs layer\n56174ae7ed1d: Pulling fs layer\n284842a36c0d: Pulling fs layer\n284842a36c0d: Verifying Checksum\n284842a36c0d: Download complete\n56174ae7ed1d: Verifying Checksum\n56174ae7ed1d: Download complete\n50958466d97a: Verifying Checksum\n50958466d97a: Download complete\n50958466d97a: Pull complete\n56174ae7ed1d: Pull complete\n284842a36c0d: Pull complete\nDigest: sha256:77c898d0da5e7bfb6e05c9a64de136ba4e03889a72f3c298e95df822a38f450d\nStatus: Downloaded newer image for node:10.16-alpine\n ---> b95baba1cfdb\nStep 2/6 : LABEL maintainer=\"Ryo Ota <nwtgck@gmail.com>\"\n ---> Running in d5b7e5fbe82c\nRemoving intermediate container d5b7e5fbe82c\n ---> f9476ca28369\nStep 3/6 : COPY . /app\n ---> 7e126eef88b7\nStep 4/6 : WORKDIR /app\n ---> Running in 03579c48f730\nRemoving intermediate container 03579c48f730\n ---> 8a42a43194bd\nStep 5/6 : RUN npm install &&     npm run build &&     npm prune --production\n ---> Running in 7c42c07bed96\n\n> websocket@1.0.29 install /app/node_modules/websocket\n> (node-gyp rebuild 2> builderror.log) || (exit 0)\n\n\u001b[91mnpm WARN prepublish-on-install As of npm@5, `prepublish` scripts are deprecated.\nnpm WARN prepublish-on-install Use `prepare` for build steps and `prepublishOnly` for upload-only.\nnpm WARN prepublish-on-install See the deprecation note in `npm help scripts` for more information.\n\u001b[0m\u001b[91mnpm WARN lifecycle http-knocking@0.8.5-SNAPSHOT~prepublish: cannot run in wd http-knocking@0.8.5-SNAPSHOT npm run build (wd=/app)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 618 packages from 1004 contributors and audited 686 packages in 7.521s\nfound 71 vulnerabilities (4 low, 19 moderate, 43 high, 5 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> http-knocking@0.8.5-SNAPSHOT build /app\n> tsc\n\nremoved 496 packages and audited 122 packages in 2.747s\nfound 17 vulnerabilities (5 moderate, 11 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 7c42c07bed96\n ---> c229034f93bc\nStep 6/6 : ENTRYPOINT [\"node\", \"dist/src/main.js\"]\n ---> Running in 2c99f0b06040\nRemoving intermediate container 2c99f0b06040\n ---> 7c2589790876\nSuccessfully built 7c2589790876\nSuccessfully tagged http-knocking:latest\n","stderr":"","imageSize":113077242},"repair":{"startTime":1672960052046,"endTime":1672960052100,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:10.16-alpine\n\nLABEL maintainer=\"Ryo Ota <nwtgck@gmail.com>\"\n\nCOPY . /app\n\n# Move to /app\nWORKDIR /app\n\n# Install requirements, build and remove devDependencies\n# (from: https://stackoverflow.com/a/25571391/2885946)\nRUN npm install && \\\n    npm run build && \\\n    npm prune --production && npm cache clean --force;\n\n# Run entry (Run the server)\nENTRYPOINT [\"node\", \"dist/src/main.js\"]\n"},"repairedBuild":{"startTime":1672960052358,"endTime":1672960079338,"error":null,"stdout":"Sending build context to Docker daemon    4.3MB\r\r\nStep 1/6 : FROM node:10.16-alpine\n ---> b95baba1cfdb\nStep 2/6 : LABEL maintainer=\"Ryo Ota <nwtgck@gmail.com>\"\n ---> Running in 82092d0299f0\nRemoving intermediate container 82092d0299f0\n ---> 6e65276a678a\nStep 3/6 : COPY . /app\n ---> 02265edce829\nStep 4/6 : WORKDIR /app\n ---> Running in baf61a4cb76d\nRemoving intermediate container baf61a4cb76d\n ---> 2a314a914e60\nStep 5/6 : RUN npm install &&     npm run build &&     npm prune --production && npm cache clean --force;\n ---> Running in c333d2a0d2ea\n\n> websocket@1.0.29 install /app/node_modules/websocket\n> (node-gyp rebuild 2> builderror.log) || (exit 0)\n\n\u001b[91mnpm WARN prepublish-on-install As of npm@5, `prepublish` scripts are deprecated.\nnpm WARN prepublish-on-install Use `prepare` for build steps and `prepublishOnly` for upload-only.\n\u001b[0m\u001b[91mnpm WARN prepublish-on-install See the deprecation note in `npm help scripts` for more information.\n\u001b[0m\u001b[91mnpm WARN lifecycle http-knocking@0.8.5-SNAPSHOT~prepublish: cannot run in wd http-knocking@0.8.5-SNAPSHOT npm run build (wd=/app)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 618 packages from 1004 contributors and audited 686 packages in 10.356s\nfound 71 vulnerabilities (4 low, 19 moderate, 43 high, 5 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> http-knocking@0.8.5-SNAPSHOT build /app\n> tsc\n\nremoved 496 packages and audited 122 packages in 2.571s\nfound 17 vulnerabilities (5 moderate, 11 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container c333d2a0d2ea\n ---> 7a7bdd3a0045\nStep 6/6 : ENTRYPOINT [\"node\", \"dist/src/main.js\"]\n ---> Running in cd56bac3e1f9\nRemoving intermediate container cd56bac3e1f9\n ---> 991e04ae0eda\nSuccessfully built 991e04ae0eda\nSuccessfully tagged http-knocking:latest\n","stderr":"","imageSize":95286130}}