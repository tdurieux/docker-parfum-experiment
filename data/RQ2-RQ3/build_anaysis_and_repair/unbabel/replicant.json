{"repository":"https://github.com/unbabel/replicant","dockerfilePath":"Dockerfile","startTime":1672222197293,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/unbabel/replicant'...\n","error":null,"commit":"f8a3b60fa34437b61ee4e71a5d7cc945fedf1f97"},"originalBuild":{"startTimestamp":1672222198581,"endTimestamp":1672222242197,"error":null,"stdout":"Sending build context to Docker daemon  18.03MB\r\r\nStep 1/10 : FROM golang:1.15-alpine AS builder\n1.15-alpine: Pulling from library/golang\n29291e31a76a: Pulling fs layer\ne4bc8fc554c3: Pulling fs layer\n803daa35ea47: Pulling fs layer\n38284154e396: Pulling fs layer\na66f7597198a: Pulling fs layer\n38284154e396: Waiting\na66f7597198a: Waiting\n803daa35ea47: Download complete\ne4bc8fc554c3: Verifying Checksum\n29291e31a76a: Verifying Checksum\n29291e31a76a: Download complete\n29291e31a76a: Pull complete\na66f7597198a: Download complete\ne4bc8fc554c3: Pull complete\n803daa35ea47: Pull complete\n38284154e396: Verifying Checksum\n38284154e396: Download complete\n38284154e396: Pull complete\na66f7597198a: Pull complete\nDigest: sha256:b58c367d52e46cdedc25ec9cd74cadb14ad65e8db75b25e5ec117cdb227aa264\nStatus: Downloaded newer image for golang:1.15-alpine\n ---> 1403af3b6d4a\nStep 2/10 : RUN apk --no-cache add git make\n ---> Running in a493b8970574\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r5)\n(2/7) Installing nghttp2-libs (1.43.0-r0)\n(3/7) Installing libcurl (7.79.1-r4)\n(4/7) Installing expat (2.5.0-r0)\n(5/7) Installing pcre2 (10.36-r1)\n(6/7) Installing git (2.32.4-r0)\n(7/7) Installing make (4.3-r0)\nExecuting busybox-1.33.1-r3.trigger\nOK: 19 MiB in 22 packages\nRemoving intermediate container a493b8970574\n ---> b68fcd9c464b\nStep 3/10 : COPY . /src/replicant\n ---> 498d64b1040c\nStep 4/10 : WORKDIR /src/replicant\n ---> Running in 2c33a3cf6eff\nRemoving intermediate container 2c33a3cf6eff\n ---> d17fe7e2d4dc\nStep 5/10 : RUN make build\n ---> Running in 7860187d692c\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mCGO_ENABLED=0 go build -mod=vendor -ldflags \"-s -w -extldflags \"-static\" -X main.Version= -X main.GitCommit=f8a3b60fa34437b61ee4e71a5d7cc945fedf1f97 -X main.BuildTime=2022-12-28T10:10:14Z\" -o replicant main.go\nRemoving intermediate container 7860187d692c\n ---> 891227b5294d\nStep 6/10 : FROM chromedp/headless-shell:stable\nstable: Pulling from chromedp/headless-shell\ne9995326b091: Pulling fs layer\n920471898bf6: Pulling fs layer\nccb4f0372985: Pulling fs layer\n920471898bf6: Verifying Checksum\n920471898bf6: Download complete\ne9995326b091: Download complete\nccb4f0372985: Verifying Checksum\nccb4f0372985: Download complete\ne9995326b091: Pull complete\n920471898bf6: Pull complete\nccb4f0372985: Pull complete\nDigest: sha256:36b684d0440505f681d29150a24f4b202dcdd37bcd2261ec1a73b703d88efd42\nStatus: Downloaded newer image for chromedp/headless-shell:stable\n ---> 438b2e5905e2\nStep 7/10 : RUN apt update && apt install -y ca-certificates && apt clean; apt clean && rm -rf /var/lib/apt/lists/*\n ---> Running in 8d5ab3918e2b\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (7103 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n7 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 7 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mperl: warning: Setting locale failed.\nperl: warning: Please check that your locale settings:\n\tLANGUAGE = (unset),\n\tLC_ALL = (unset),\n\tLANG = \"en-US.UTF-8\"\n    are supported and installed on your system.\nperl: warning: Falling back to the standard locale (\"C\").\n\u001b[0m\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (29.7 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6916 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0m\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mRemoving intermediate container 8d5ab3918e2b\n ---> 43a7c13fd5fb\nStep 8/10 : COPY --from=builder /src/replicant/replicant /app/\n ---> cf03a65ceca2\nStep 9/10 : ENTRYPOINT []\n ---> Running in 24b172e06f65\nRemoving intermediate container 24b172e06f65\n ---> 708a692afc03\nStep 10/10 : CMD [\"/app/replicant\"]\n ---> Running in 61d8f9fba89f\nRemoving intermediate container 61d8f9fba89f\n ---> 00ead5d4116e\nSuccessfully built 00ead5d4116e\nSuccessfully tagged replicant:latest\n","stderr":"","imageSize":309920159},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":9,"end":9,"columnStart":3,"columnEnd":33}}],"repairedDockerfile":"FROM golang:1.15-alpine AS builder\nRUN apk --no-cache add git make\nCOPY . /src/replicant\nWORKDIR /src/replicant\n\nRUN make build\n\nFROM chromedp/headless-shell:stable\nRUN apt update \\\n&& apt install --no-install-recommends -y ca-certificates \\\n&& apt clean; apt clean \\\n&& rm -rf /var/lib/apt/lists/*\n\nCOPY --from=builder /src/replicant/replicant /app/\nENTRYPOINT []\nCMD [\"/app/replicant\"]\n"},"repairedBuild":{"startTimestamp":1672222242496,"endTimestamp":1672222268331,"error":null,"stdout":"Sending build context to Docker daemon  18.03MB\r\r\nStep 1/10 : FROM golang:1.15-alpine AS builder\n ---> 1403af3b6d4a\nStep 2/10 : RUN apk --no-cache add git make\n ---> Running in 8f1d6d4fa584\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/7) Installing brotli-libs (1.0.9-r5)\n(2/7) Installing nghttp2-libs (1.43.0-r0)\n(3/7) Installing libcurl (7.79.1-r4)\n(4/7) Installing expat (2.5.0-r0)\n(5/7) Installing pcre2 (10.36-r1)\n(6/7) Installing git (2.32.4-r0)\n(7/7) Installing make (4.3-r0)\nExecuting busybox-1.33.1-r3.trigger\nOK: 19 MiB in 22 packages\nRemoving intermediate container 8f1d6d4fa584\n ---> e78ed1e79c82\nStep 3/10 : COPY . /src/replicant\n ---> a2a459b3cd21\nStep 4/10 : WORKDIR /src/replicant\n ---> Running in b15fb90c2b52\nRemoving intermediate container b15fb90c2b52\n ---> 92923d25d712\nStep 5/10 : RUN make build\n ---> Running in 1406604773d9\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mCGO_ENABLED=0 go build -mod=vendor -ldflags \"-s -w -extldflags \"-static\" -X main.Version= -X main.GitCommit=f8a3b60fa34437b61ee4e71a5d7cc945fedf1f97 -X main.BuildTime=2022-12-28T10:10:47Z\" -o replicant main.go\nRemoving intermediate container 1406604773d9\n ---> 8183145ffe41\nStep 6/10 : FROM chromedp/headless-shell:stable\n ---> 438b2e5905e2\nStep 7/10 : RUN apt update && apt install --no-install-recommends -y ca-certificates && apt clean; apt clean && rm -rf /var/lib/apt/lists/*\n ---> Running in 1ae2e68dc122\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6848 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n7 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 7 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mperl: warning: Setting locale failed.\nperl: warning: Please check that your locale settings:\n\tLANGUAGE = (unset),\n\tLC_ALL = (unset),\n\tLANG = \"en-US.UTF-8\"\n    are supported and installed on your system.\nperl: warning: Falling back to the standard locale (\"C\").\n\u001b[0m\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (28.7 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6916 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0m\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mRemoving intermediate container 1ae2e68dc122\n ---> 5dcc78273f84\nStep 8/10 : COPY --from=builder /src/replicant/replicant /app/\n ---> 6cf40b9b1a2e\nStep 9/10 : ENTRYPOINT []\n ---> Running in 426be3743ee0\nRemoving intermediate container 426be3743ee0\n ---> 92bc08c177b5\nStep 10/10 : CMD [\"/app/replicant\"]\n ---> Running in 2d89bff817ab\nRemoving intermediate container 2d89bff817ab\n ---> 8d8e59e2a486\nSuccessfully built 8d8e59e2a486\nSuccessfully tagged replicant:latest\n","stderr":"","imageSize":309920183},"endTime":1672222268634}