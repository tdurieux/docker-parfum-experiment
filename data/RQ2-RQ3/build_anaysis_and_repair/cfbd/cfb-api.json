{"repository":"https://github.com/cfbd/cfb-api","dockerfilePath":"Dockerfile","startTime":1672048272108,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cfbd/cfb-api'...\n","error":null,"commit":"886df6dd49e402be875b98eb0a25afa247516c62"},"originalBuild":{"startTimestamp":1672048273034,"endTimestamp":1672048353283,"error":null,"stdout":"Sending build context to Docker daemon  915.5kB\r\r\nStep 1/12 : FROM node:10-alpine\n10-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\nde915e575d22: Pulling fs layer\n7150aa69525b: Pulling fs layer\nd7aa47be044e: Pulling fs layer\n7150aa69525b: Verifying Checksum\n7150aa69525b: Download complete\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\nde915e575d22: Verifying Checksum\nde915e575d22: Download complete\nd7aa47be044e: Download complete\nddad3d7c1e96: Pull complete\nde915e575d22: Pull complete\n7150aa69525b: Pull complete\nd7aa47be044e: Pull complete\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/12 : RUN mkdir -p /home/node/app/node_modules && mkdir -p /home/node/app/dist && chown -R node:node /home/node/app\n ---> Running in 29feb7c494b4\nRemoving intermediate container 29feb7c494b4\n ---> da79e3f08320\nStep 3/12 : WORKDIR /home/node/app\n ---> Running in aa2b20cd2ad5\nRemoving intermediate container aa2b20cd2ad5\n ---> df8dccff4d5e\nStep 4/12 : COPY package*.json ./\n ---> 432e0e0961b2\nStep 5/12 : RUN npm install pm2 -g\n ---> Running in bc55bae731e1\n\u001b[91mnpm\u001b[0m\u001b[91m WARN \u001b[0m\u001b[91mdeprecated\u001b[0m\u001b[91m uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/usr/local/bin/pm2-runtime -> /usr/local/lib/node_modules/pm2/bin/pm2-runtime\n/usr/local/bin/pm2-docker -> /usr/local/lib/node_modules/pm2/bin/pm2-docker\n/usr/local/bin/pm2 -> /usr/local/lib/node_modules/pm2/bin/pm2\n/usr/local/bin/pm2-dev -> /usr/local/lib/node_modules/pm2/bin/pm2-dev\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 18.136s\nRemoving intermediate container bc55bae731e1\n ---> 5903b72e0866\nStep 6/12 : RUN npm install\n ---> Running in 419e2e10d2d6\n\u001b[91mnpm\u001b[0m\u001b[91m WARN\u001b[0m\u001b[91m read-shrinkwrap\u001b[0m\u001b[91m This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m cfb-api@1.0.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 312 packages from 285 contributors and audited 315 packages in 6.493s\n\n20 packages are looking for funding\n  run `npm fund` for details\n\nfound 19 vulnerabilities (7 moderate, 9 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 419e2e10d2d6\n ---> c30f0145a89f\nStep 7/12 : COPY . .\n ---> 17d55b3de86f\nStep 8/12 : COPY --chown=node:node . .\n ---> 49af6ed4682f\nStep 9/12 : RUN npm start\n ---> Running in 3ca05b405382\n\n> cfb-api@1.0.0 start /home/node/app\n> node server.js\n\nRemoving intermediate container 3ca05b405382\n ---> 82df6309fe9d\nStep 10/12 : USER node\n ---> Running in f0806f844736\nRemoving intermediate container f0806f844736\n ---> 8e01172b4593\nStep 11/12 : EXPOSE 8080\n ---> Running in b06aad67ccb2\nRemoving intermediate container b06aad67ccb2\n ---> 98cf6b559127\nStep 12/12 : CMD [ \"pm2-runtime\", \"server.js\" ]\n ---> Running in 4afd6cb73ba6\nRemoving intermediate container 4afd6cb73ba6\n ---> ab0e0c8e86ee\nSuccessfully built ab0e0c8e86ee\nSuccessfully tagged cfb-api:latest\n","stderr":"","imageSize":213776956},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":22}},{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:10-alpine\r\n\r\nRUN mkdir -p /home/node/app/node_modules && mkdir -p /home/node/app/dist && chown -R node:node /home/node/app\r\n\r\nWORKDIR /home/node/app\r\n\r\nCOPY package*.json ./\r\n\r\nRUN npm install pm2 -g\r\nRUN npm install\r\n\r\nCOPY . .\r\nCOPY --chown=node:node . .\r\n\r\nRUN npm start\r\n\r\nUSER node\r\n\r\nEXPOSE 8080\r\n\r\nCMD [ \"pm2-runtime\", \"server.js\" ]\r\n"},"repairedBuild":{"startTimestamp":1672048355466,"endTimestamp":1672048402129,"error":null,"stdout":"Sending build context to Docker daemon  915.5kB\r\r\nStep 1/12 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 2/12 : RUN mkdir -p /home/node/app/node_modules && mkdir -p /home/node/app/dist && chown -R node:node /home/node/app\n ---> Running in af64c7f5ca45\nRemoving intermediate container af64c7f5ca45\n ---> b01ee43b6a39\nStep 3/12 : WORKDIR /home/node/app\n ---> Running in 6ac3a793ec17\nRemoving intermediate container 6ac3a793ec17\n ---> 723563db18f2\nStep 4/12 : COPY package*.json ./\n ---> 0d8486e25e7a\nStep 5/12 : RUN npm install pm2 -g\n ---> Running in e19885e26da9\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/usr/local/bin/pm2 -> /usr/local/lib/node_modules/pm2/bin/pm2\n/usr/local/bin/pm2-dev -> /usr/local/lib/node_modules/pm2/bin/pm2-dev\n/usr/local/bin/pm2-docker -> /usr/local/lib/node_modules/pm2/bin/pm2-docker\n/usr/local/bin/pm2-runtime -> /usr/local/lib/node_modules/pm2/bin/pm2-runtime\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 14.315s\nRemoving intermediate container e19885e26da9\n ---> 351af8b90d80\nStep 6/12 : RUN npm install\n ---> Running in 59f1429dc006\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mWARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\u001b[91mnpm WARN\u001b[0m\u001b[91m cfb-api@1.0.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 312 packages from 285 contributors and audited 315 packages in 6.251s\n\n20 packages are looking for funding\n  run `npm fund` for details\n\nfound 19 vulnerabilities (7 moderate, 9 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 59f1429dc006\n ---> 4adeca85c8d5\nStep 7/12 : COPY . .\n ---> d0936c061ac9\nStep 8/12 : COPY --chown=node:node . .\n ---> 3df615d18689\nStep 9/12 : RUN npm start\n ---> Running in aa3164ff43e4\n\n> cfb-api@1.0.0 start /home/node/app\n> node server.js\n\nRemoving intermediate container aa3164ff43e4\n ---> aa06bd7ec261\nStep 10/12 : USER node\n ---> Running in 3180a15c6dc3\nRemoving intermediate container 3180a15c6dc3\n ---> b352ab9eb1b6\nStep 11/12 : EXPOSE 8080\n ---> Running in 31551404b198\nRemoving intermediate container 31551404b198\n ---> 825a045feb8e\nStep 12/12 : CMD [ \"pm2-runtime\", \"server.js\" ]\n ---> Running in c1d59127d1ed\nRemoving intermediate container c1d59127d1ed\n ---> 5ea728ac851b\nSuccessfully built 5ea728ac851b\nSuccessfully tagged cfb-api:latest\n","stderr":"","imageSize":213777147},"endTime":1672048403293}