{"repository":"https://github.com/wuhan2020/api-server","dockerfilePath":"Dockerfile","startTime":1672987189204,"endTime":1672987282597,"clone":{"startTime":1672987189204,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wuhan2020/api-server'...\n","error":null,"endTime":1672987190011,"commit":"19b784d5e8f11cdb3cc9ec420b94595f607775fc"},"originalBuild":{"startTime":1672987190096,"endTime":1672987247420,"error":null,"stdout":"Sending build context to Docker daemon  270.3kB\r\r\nStep 1/6 : FROM python:3.6\n3.6: Pulling from library/python\nDigest: sha256:f8652afaf88c25f0d22354d547d892591067aa4026a7fa9a6819df9f300af6fc\nStatus: Downloaded newer image for python:3.6\n ---> 54260638d07c\nStep 2/6 : WORKDIR /api-server\n ---> Running in 261574b8a946\nRemoving intermediate container 261574b8a946\n ---> 8c104c52f168\nStep 3/6 : COPY . .\n ---> 15b4c2cbfb27\nStep 4/6 : RUN pip install -r requirements.txt\n ---> Running in 157a7a3efc9f\nCollecting Flask==1.1.1\n  Downloading Flask-1.1.1-py2.py3-none-any.whl (94 kB)\nCollecting PyYAML==5.3\n  Downloading PyYAML-5.3.tar.gz (268 kB)\nCollecting flask-swagger==0.2.14\n  Downloading flask-swagger-0.2.14.tar.gz (8.6 kB)\nCollecting xmltodict==0.12.0\n  Downloading xmltodict-0.12.0-py2.py3-none-any.whl (9.2 kB)\nCollecting Flask-HTTPAuth==3.3.0\n  Downloading Flask_HTTPAuth-3.3.0-py2.py3-none-any.whl (5.0 kB)\nCollecting connexion[swagger-ui]==2.6.0\n  Downloading connexion-2.6.0-py2.py3-none-any.whl (76 kB)\nCollecting prance==0.18.1\n  Downloading prance-0.18.1-py2.py3-none-any.whl (34 kB)\nCollecting Jinja2>=2.10.1\n  Downloading Jinja2-3.0.3-py3-none-any.whl (133 kB)\nCollecting Werkzeug>=0.15\n  Downloading Werkzeug-2.0.3-py3-none-any.whl (289 kB)\nCollecting click>=5.1\n  Downloading click-8.0.4-py3-none-any.whl (97 kB)\nCollecting itsdangerous>=0.24\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting clickclick>=1.2\n  Downloading clickclick-20.10.2-py2.py3-none-any.whl (7.4 kB)\nCollecting jsonschema>=2.5.1\n  Downloading jsonschema-3.2.0-py2.py3-none-any.whl (56 kB)\nCollecting requests>=2.9.1\n  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)\nCollecting openapi-spec-validator>=0.2.4\n  Downloading openapi_spec_validator-0.3.3-py2.py3-none-any.whl (31 kB)\nCollecting inflection>=0.3.1\n  Downloading inflection-0.5.1-py2.py3-none-any.whl (9.5 kB)\nCollecting swagger-ui-bundle>=0.0.2\n  Downloading swagger_ui_bundle-0.0.9-py3-none-any.whl (6.2 MB)\nCollecting chardet~=3.0\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\nCollecting six~=1.14\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting semver~=2.9\n  Downloading semver-2.13.0-py2.py3-none-any.whl (12 kB)\nCollecting importlib-metadata\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.0.1-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting pyrsistent>=0.14.0\n  Downloading pyrsistent-0.18.0-cp36-cp36m-manylinux1_x86_64.whl (117 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nRequirement already satisfied: setuptools in /usr/local/lib/python3.6/site-packages (from jsonschema>=2.5.1->connexion[swagger-ui]==2.6.0->-r requirements.txt (line 6)) (57.5.0)\nCollecting openapi-schema-validator<0.2.0\n  Downloading openapi_schema_validator-0.1.6-py3-none-any.whl (7.9 kB)\nCollecting pyrsistent>=0.14.0\n  Downloading pyrsistent-0.16.1.tar.gz (108 kB)\nCollecting isodate\n  Downloading isodate-0.6.1-py2.py3-none-any.whl (41 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting charset-normalizer~=2.0.0\n  Downloading charset_normalizer-2.0.12-py3-none-any.whl (39 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting dataclasses\n  Downloading dataclasses-0.8-py3-none-any.whl (19 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nBuilding wheels for collected packages: PyYAML, flask-swagger, pyrsistent\n  Building wheel for PyYAML (setup.py): started\n  Building wheel for PyYAML (setup.py): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.3-cp36-cp36m-linux_x86_64.whl size=551149 sha256=589ba47b524ad50e9e4fad573352df537d4934c52c4d7691c9e509b93cc97607\n  Stored in directory: /root/.cache/pip/wheels/b1/86/0d/10e6c39d3a2b85ba807d7657ee80f08cc16c03f2aa2adf8e46\n  Building wheel for flask-swagger (setup.py): started\n  Building wheel for flask-swagger (setup.py): finished with status 'done'\n  Created wheel for flask-swagger: filename=flask_swagger-0.2.14-py3-none-any.whl size=7276 sha256=4ceb207de1649100bf05b4d970862b1de895270d686d9dc2dd275d3be4f44d9d\n  Stored in directory: /root/.cache/pip/wheels/22/22/bb/35a4e1842f04321623d381a5a2708d730e798a1b5e0ade5963\n  Building wheel for pyrsistent (setup.py): started\n  Building wheel for pyrsistent (setup.py): finished with status 'done'\n  Created wheel for pyrsistent: filename=pyrsistent-0.16.1-cp36-cp36m-linux_x86_64.whl size=116182 sha256=9ede2cae9392197228aa53e3bb6a504dd62bfa59a79b02516d069d5d568b4868\n  Stored in directory: /root/.cache/pip/wheels/b6/6a/6a/8343394bcc3da2856565a2642756efaf7d70fae76d7ee7949d\nSuccessfully built PyYAML flask-swagger pyrsistent\nInstalling collected packages: zipp, typing-extensions, six, pyrsistent, importlib-metadata, attrs, MarkupSafe, jsonschema, isodate, dataclasses, Werkzeug, urllib3, PyYAML, openapi-schema-validator, Jinja2, itsdangerous, idna, click, charset-normalizer, certifi, requests, openapi-spec-validator, inflection, Flask, clickclick, swagger-ui-bundle, semver, connexion, chardet, xmltodict, prance, flask-swagger, Flask-HTTPAuth\nSuccessfully installed Flask-1.1.1 Flask-HTTPAuth-3.3.0 Jinja2-3.0.3 MarkupSafe-2.0.1 PyYAML-5.3 Werkzeug-2.0.3 attrs-22.2.0 certifi-2022.12.7 chardet-3.0.4 charset-normalizer-2.0.12 click-8.0.4 clickclick-20.10.2 connexion-2.6.0 dataclasses-0.8 flask-swagger-0.2.14 idna-3.4 importlib-metadata-4.8.3 inflection-0.5.1 isodate-0.6.1 itsdangerous-2.0.1 jsonschema-3.2.0 openapi-schema-validator-0.1.6 openapi-spec-validator-0.3.3 prance-0.18.1 pyrsistent-0.16.1 requests-2.27.1 semver-2.13.0 six-1.16.0 swagger-ui-bundle-0.0.9 typing-extensions-4.1.1 urllib3-1.26.13 xmltodict-0.12.0 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 157a7a3efc9f\n ---> dfb125627f85\nStep 5/6 : EXPOSE 9000\n ---> Running in ec3d934e8fc3\nRemoving intermediate container ec3d934e8fc3\n ---> 45399431d81e\nStep 6/6 : ENTRYPOINT [ \"bash\", \"bootstrap\"]\n ---> Running in 102d5617c257\nRemoving intermediate container 102d5617c257\n ---> 0d69d1181b9c\nSuccessfully built 0d69d1181b9c\nSuccessfully tagged api-server:latest\n","stderr":"","imageSize":953536497},"repair":{"startTime":1672987247818,"endTime":1672987247849,"violations":[{"name":"pipUseNoCacheDir","position":{"start":12,"end":12,"columnStart":4,"columnEnd":35}}],"repairedDockerfile":"# Align with the CI/CD YML\n# We cannot use alpine since\n# we need to call bash in entrypoint\nFROM python:3.6\n\n# Setup workdir\nWORKDIR /api-server\n\n# Copy src files\nCOPY . .\n\n# Install deps\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Expose port 5000\nEXPOSE 9000\n\n# Start the server\nENTRYPOINT [ \"bash\", \"bootstrap\"]\n"},"repairedBuild":{"startTime":1672987249669,"endTime":1672987282319,"error":null,"stdout":"Sending build context to Docker daemon  270.3kB\r\r\nStep 1/6 : FROM python:3.6\n ---> 54260638d07c\nStep 2/6 : WORKDIR /api-server\n ---> Running in 761a1f5cbbdb\nRemoving intermediate container 761a1f5cbbdb\n ---> 6c22767d6833\nStep 3/6 : COPY . .\n ---> c75bbeb4f777\nStep 4/6 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in cae12e0ced1e\nCollecting Flask==1.1.1\n  Downloading Flask-1.1.1-py2.py3-none-any.whl (94 kB)\nCollecting PyYAML==5.3\n  Downloading PyYAML-5.3.tar.gz (268 kB)\nCollecting flask-swagger==0.2.14\n  Downloading flask-swagger-0.2.14.tar.gz (8.6 kB)\nCollecting xmltodict==0.12.0\n  Downloading xmltodict-0.12.0-py2.py3-none-any.whl (9.2 kB)\nCollecting Flask-HTTPAuth==3.3.0\n  Downloading Flask_HTTPAuth-3.3.0-py2.py3-none-any.whl (5.0 kB)\nCollecting connexion[swagger-ui]==2.6.0\n  Downloading connexion-2.6.0-py2.py3-none-any.whl (76 kB)\nCollecting prance==0.18.1\n  Downloading prance-0.18.1-py2.py3-none-any.whl (34 kB)\nCollecting itsdangerous>=0.24\n  Downloading itsdangerous-2.0.1-py3-none-any.whl (18 kB)\nCollecting Jinja2>=2.10.1\n  Downloading Jinja2-3.0.3-py3-none-any.whl (133 kB)\nCollecting Werkzeug>=0.15\n  Downloading Werkzeug-2.0.3-py3-none-any.whl (289 kB)\nCollecting click>=5.1\n  Downloading click-8.0.4-py3-none-any.whl (97 kB)\nCollecting clickclick>=1.2\n  Downloading clickclick-20.10.2-py2.py3-none-any.whl (7.4 kB)\nCollecting requests>=2.9.1\n  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)\nCollecting openapi-spec-validator>=0.2.4\n  Downloading openapi_spec_validator-0.3.3-py2.py3-none-any.whl (31 kB)\nCollecting jsonschema>=2.5.1\n  Downloading jsonschema-3.2.0-py2.py3-none-any.whl (56 kB)\nCollecting inflection>=0.3.1\n  Downloading inflection-0.5.1-py2.py3-none-any.whl (9.5 kB)\nCollecting swagger-ui-bundle>=0.0.2\n  Downloading swagger_ui_bundle-0.0.9-py3-none-any.whl (6.2 MB)\nCollecting chardet~=3.0\n  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)\nCollecting six~=1.14\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting semver~=2.9\n  Downloading semver-2.13.0-py2.py3-none-any.whl (12 kB)\nCollecting importlib-metadata\n  Downloading importlib_metadata-4.8.3-py3-none-any.whl (17 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.0.1-cp36-cp36m-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (30 kB)\nCollecting attrs>=17.4.0\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\nRequirement already satisfied: setuptools in /usr/local/lib/python3.6/site-packages (from jsonschema>=2.5.1->connexion[swagger-ui]==2.6.0->-r requirements.txt (line 6)) (57.5.0)\nCollecting pyrsistent>=0.14.0\n  Downloading pyrsistent-0.18.0-cp36-cp36m-manylinux1_x86_64.whl (117 kB)\n  Downloading pyrsistent-0.16.1.tar.gz (108 kB)\nCollecting openapi-schema-validator<0.2.0\n  Downloading openapi_schema_validator-0.1.6-py3-none-any.whl (7.9 kB)\nCollecting isodate\n  Downloading isodate-0.6.1-py2.py3-none-any.whl (41 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting charset-normalizer~=2.0.0\n  Downloading charset_normalizer-2.0.12-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting dataclasses\n  Downloading dataclasses-0.8-py3-none-any.whl (19 kB)\nCollecting zipp>=0.5\n  Downloading zipp-3.6.0-py3-none-any.whl (5.3 kB)\nCollecting typing-extensions>=3.6.4\n  Downloading typing_extensions-4.1.1-py3-none-any.whl (26 kB)\nBuilding wheels for collected packages: PyYAML, flask-swagger, pyrsistent\n  Building wheel for PyYAML (setup.py): started\n  Building wheel for PyYAML (setup.py): finished with status 'done'\n  Created wheel for PyYAML: filename=PyYAML-5.3-cp36-cp36m-linux_x86_64.whl size=551152 sha256=f4efd74b14072d0d987748491153c34a3ad94085c420f203be4f5d85b0e3ac67\n  Stored in directory: /tmp/pip-ephem-wheel-cache-4inw175g/wheels/b1/86/0d/10e6c39d3a2b85ba807d7657ee80f08cc16c03f2aa2adf8e46\n  Building wheel for flask-swagger (setup.py): started\n  Building wheel for flask-swagger (setup.py): finished with status 'done'\n  Created wheel for flask-swagger: filename=flask_swagger-0.2.14-py3-none-any.whl size=7276 sha256=e50eb7f34462f427ecc428478bc2c448c4059673672f1bfaf7582a0c3894a9e1\n  Stored in directory: /tmp/pip-ephem-wheel-cache-4inw175g/wheels/22/22/bb/35a4e1842f04321623d381a5a2708d730e798a1b5e0ade5963\n  Building wheel for pyrsistent (setup.py): started\n  Building wheel for pyrsistent (setup.py): finished with status 'done'\n  Created wheel for pyrsistent: filename=pyrsistent-0.16.1-cp36-cp36m-linux_x86_64.whl size=116182 sha256=c586f2498ff7050f78ac0e63bbfbcda8dc431aeddf232447658e8f75f2a4d274\n  Stored in directory: /tmp/pip-ephem-wheel-cache-4inw175g/wheels/b6/6a/6a/8343394bcc3da2856565a2642756efaf7d70fae76d7ee7949d\nSuccessfully built PyYAML flask-swagger pyrsistent\nInstalling collected packages: zipp, typing-extensions, six, pyrsistent, importlib-metadata, attrs, MarkupSafe, jsonschema, isodate, dataclasses, Werkzeug, urllib3, PyYAML, openapi-schema-validator, Jinja2, itsdangerous, idna, click, charset-normalizer, certifi, requests, openapi-spec-validator, inflection, Flask, clickclick, swagger-ui-bundle, semver, connexion, chardet, xmltodict, prance, flask-swagger, Flask-HTTPAuth\nSuccessfully installed Flask-1.1.1 Flask-HTTPAuth-3.3.0 Jinja2-3.0.3 MarkupSafe-2.0.1 PyYAML-5.3 Werkzeug-2.0.3 attrs-22.2.0 certifi-2022.12.7 chardet-3.0.4 charset-normalizer-2.0.12 click-8.0.4 clickclick-20.10.2 connexion-2.6.0 dataclasses-0.8 flask-swagger-0.2.14 idna-3.4 importlib-metadata-4.8.3 inflection-0.5.1 isodate-0.6.1 itsdangerous-2.0.1 jsonschema-3.2.0 openapi-schema-validator-0.1.6 openapi-spec-validator-0.3.3 prance-0.18.1 pyrsistent-0.16.1 requests-2.27.1 semver-2.13.0 six-1.16.0 swagger-ui-bundle-0.0.9 typing-extensions-4.1.1 urllib3-1.26.13 xmltodict-0.12.0 zipp-3.6.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container cae12e0ced1e\n ---> d1be6e74437d\nStep 5/6 : EXPOSE 9000\n ---> Running in a664ef46c2bd\nRemoving intermediate container a664ef46c2bd\n ---> 9e93974d242e\nStep 6/6 : ENTRYPOINT [ \"bash\", \"bootstrap\"]\n ---> Running in e84605b17969\nRemoving intermediate container e84605b17969\n ---> b9ddf2c839a1\nSuccessfully built b9ddf2c839a1\nSuccessfully tagged api-server:latest\n","stderr":"","imageSize":944026245}}