{"repository":"https://github.com/gravitl/netmaker-ui","dockerfilePath":"Dockerfile","startTime":1672918496286,"endTime":1672919766371,"clone":{"startTime":1672918496289,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gravitl/netmaker-ui'...\n","error":null,"endTime":1672918497255,"commit":"7433bfc8e854dc02a2ad811744b5669195babfde"},"originalBuild":{"startTime":1672918497337,"endTime":1672919067469,"error":null,"stdout":"Sending build context to Docker daemon    2.9MB\r\r\nStep 1/17 : FROM node:17.1.0 as builder\n17.1.0: Pulling from library/node\n647acf3d48c2: Pulling fs layer\nb02967ef0034: Pulling fs layer\ne1ad2231829e: Pulling fs layer\n5576ce26bf1d: Pulling fs layer\na66b7f31b095: Pulling fs layer\n2f540184b4cf: Pulling fs layer\n42cd32d0102f: Pulling fs layer\nb8b4c8e22bcd: Pulling fs layer\n48e4c368fbe9: Pulling fs layer\n2f540184b4cf: Waiting\na66b7f31b095: Waiting\nb8b4c8e22bcd: Waiting\n42cd32d0102f: Waiting\n5576ce26bf1d: Waiting\n48e4c368fbe9: Waiting\nb02967ef0034: Verifying Checksum\nb02967ef0034: Download complete\ne1ad2231829e: Verifying Checksum\ne1ad2231829e: Download complete\n647acf3d48c2: Verifying Checksum\n647acf3d48c2: Download complete\n2f540184b4cf: Verifying Checksum\n2f540184b4cf: Download complete\n5576ce26bf1d: Verifying Checksum\n5576ce26bf1d: Download complete\nb8b4c8e22bcd: Verifying Checksum\nb8b4c8e22bcd: Download complete\n48e4c368fbe9: Verifying Checksum\n48e4c368fbe9: Download complete\n42cd32d0102f: Verifying Checksum\n42cd32d0102f: Download complete\n647acf3d48c2: Pull complete\na66b7f31b095: Verifying Checksum\na66b7f31b095: Download complete\nb02967ef0034: Pull complete\ne1ad2231829e: Pull complete\n5576ce26bf1d: Pull complete\na66b7f31b095: Pull complete\n2f540184b4cf: Pull complete\n42cd32d0102f: Pull complete\nb8b4c8e22bcd: Pull complete\n48e4c368fbe9: Pull complete\nDigest: sha256:22f1866405ad50bb1d141739596ba803aed073d618ab2ae6d5e66aedcf9261b5\nStatus: Downloaded newer image for node:17.1.0\n ---> 6dc0a5fbad51\nStep 2/17 : LABEL   org.opencontainers.image.authors=\"Dillon Carns & Alex Feiszli, Gravitl, inc.\"   org.opencontainers.image.vendor=\"ReactJS\"   org.opencontainers.image.url=\"local\"   org.opencontainers.image.source=\"https://dockerhub.com/\"   org.opencontainers.image.version=\"$VERSION\"   org.opencontainers.image.revision=\"$REVISION\"   vendor=\"ReactJS\"   name=\"Netmaker\"   version=\"$VERSION-$REVISION\"   summary=\"The frontend of Netmaker. Netmaker builds fast, secure virtual networks.\"   description=\"This image contains the Netmaker frontend running with the ReactJS runtime. 2021 - Gravitl, inc.\"\n ---> Running in e083f9a12424\nRemoving intermediate container e083f9a12424\n ---> 8cf74fd95c38\nStep 3/17 : RUN mkdir /usr/src/app\n ---> Running in e94e7339a8f9\nRemoving intermediate container e94e7339a8f9\n ---> 1807982927ca\nStep 4/17 : WORKDIR /usr/src/app\n ---> Running in bd3637b644cf\nRemoving intermediate container bd3637b644cf\n ---> 281d4f956c9e\nStep 5/17 : ENV PATH /usr/src/app/node_modules/.bin:$PATH\n ---> Running in 18757c1ecd97\nRemoving intermediate container 18757c1ecd97\n ---> a02eef9c2dda\nStep 6/17 : COPY package*.json ./\n ---> df2546e38f4a\nStep 7/17 : RUN npm install --silent\n ---> Running in 4e527bf183d0\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 4e527bf183d0\n ---> 2dcd5eb777f2\nStep 8/17 : RUN npm install react-scripts@4.0.3 -g --silent\n ---> Running in f34de16e1ed5\nRemoving intermediate container f34de16e1ed5\n ---> 536f44308dee\nStep 9/17 : COPY . /usr/src/app\n ---> ffab6542ade2\nStep 10/17 : ENV NODE_OPTIONS \"--openssl-legacy-provider\"\n ---> Running in b44d9228471a\nRemoving intermediate container b44d9228471a\n ---> 5e5e633d641b\nStep 11/17 : RUN npm run build\n ---> Running in e9dd2be7bd40\n\n> netmaker-ui@v0.17.1 build\n> react-app-rewired build\n\n\u001b[91mThe following changes are being made to your tsconfig.json file:\n\u001b[0m\u001b[91m  - compilerOptions.paths must not be set (aliased imports are not supported)\n\n\u001b[0mCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  399.2 KB  build/static/js/2.317615f8.chunk.js\n  73.93 KB  build/static/js/main.26d52d44.chunk.js\n  5 KB      build/static/css/2.555d8736.chunk.css\n  774 B     build/static/js/runtime-main.cd2f981b.js\n  472 B     build/static/css/main.d753050a.chunk.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container e9dd2be7bd40\n ---> ab520561bde8\nStep 12/17 : FROM nginx:1.21-alpine\n1.21-alpine: Pulling from library/nginx\ndf9b9388f04a: Already exists\na285f0f83eed: Pulling fs layer\ne00351ea626c: Pulling fs layer\n06f5cb628050: Pulling fs layer\n32261d4e220f: Pulling fs layer\n9da77f8e409e: Pulling fs layer\n32261d4e220f: Waiting\n9da77f8e409e: Waiting\ne00351ea626c: Download complete\n06f5cb628050: Verifying Checksum\n06f5cb628050: Download complete\na285f0f83eed: Verifying Checksum\na285f0f83eed: Download complete\n32261d4e220f: Verifying Checksum\n32261d4e220f: Download complete\n9da77f8e409e: Verifying Checksum\n9da77f8e409e: Download complete\na285f0f83eed: Pull complete\ne00351ea626c: Pull complete\n06f5cb628050: Pull complete\n32261d4e220f: Pull complete\n9da77f8e409e: Pull complete\nDigest: sha256:a74534e76ee1121d418fa7394ca930eb67440deda413848bc67c68138535b989\nStatus: Downloaded newer image for nginx:1.21-alpine\n ---> b1c3acb28882\nStep 13/17 : COPY nginx.conf /etc/nginx/conf.d/default.conf\n ---> 6b669389ce7b\nStep 14/17 : COPY --from=builder /usr/src/app/build /usr/share/nginx/html\n ---> df08f01f42f0\nStep 15/17 : COPY docker-entrypoint.sh generate_config_js.sh /\n ---> 52f0ee13f90f\nStep 16/17 : RUN chmod +x docker-entrypoint.sh generate_config_js.sh\n ---> Running in d4de67e4a2e0\nRemoving intermediate container d4de67e4a2e0\n ---> 543b7c07fc10\nStep 17/17 : ENTRYPOINT [\"/docker-entrypoint.sh\"]\n ---> Running in eb0d17fe9612\nRemoving intermediate container eb0d17fe9612\n ---> 4a67af95db02\nSuccessfully built 4a67af95db02\nSuccessfully tagged netmaker-ui:latest\n","stderr":"","imageSize":32452658},"repair":{"startTime":1672919068139,"endTime":1672919068253,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":19,"end":19,"columnStart":4,"columnEnd":24}},{"name":"npmCacheCleanAfterInstall","position":{"start":20,"end":20,"columnStart":4,"columnEnd":47}},{"name":"mkdirUsrSrcThenRemove","position":{"start":15,"end":15,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM node:17.1.0 as builder\n\nLABEL \\\n  org.opencontainers.image.authors=\"Dillon Carns & Alex Feiszli, Gravitl, inc.\" \\\n  org.opencontainers.image.vendor=\"ReactJS\" \\\n  org.opencontainers.image.url=\"local\" \\\n  org.opencontainers.image.source=\"https://dockerhub.com/\" \\\n  org.opencontainers.image.version=\"$VERSION\" \\\n  org.opencontainers.image.revision=\"$REVISION\" \\\n  vendor=\"ReactJS\" \\\n  name=\"Netmaker\" \\\n  version=\"$VERSION-$REVISION\" \\\n  summary=\"The frontend of Netmaker. Netmaker builds fast, secure virtual networks.\" \\\n  description=\"This image contains the Netmaker frontend running with the ReactJS runtime. 2021 - Gravitl, inc.\"\n\nRUN mkdir /usr/src/app && rm -rf /usr/src/app\nWORKDIR /usr/src/app\nENV PATH /usr/src/app/node_modules/.bin:$PATH\nCOPY package*.json ./\nRUN npm install --silent && npm cache clean --force;\nRUN npm install react-scripts@4.0.3 -g --silent && npm cache clean --force;\nCOPY . /usr/src/app\nENV NODE_OPTIONS \"--openssl-legacy-provider\"\nRUN npm run build\n\nFROM nginx:1.21-alpine\n# RUN rm -rf /etc/nginx/conf.d\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\nCOPY --from=builder /usr/src/app/build /usr/share/nginx/html\nCOPY docker-entrypoint.sh generate_config_js.sh /\nRUN chmod +x docker-entrypoint.sh generate_config_js.sh\nENTRYPOINT [\"/docker-entrypoint.sh\"]\n"},"repairedBuild":{"startTime":1672919070206,"endTime":1672919765856,"error":null,"stdout":"Sending build context to Docker daemon    2.9MB\r\r\nStep 1/17 : FROM node:17.1.0 as builder\n ---> 6dc0a5fbad51\nStep 2/17 : LABEL   org.opencontainers.image.authors=\"Dillon Carns & Alex Feiszli, Gravitl, inc.\"   org.opencontainers.image.vendor=\"ReactJS\"   org.opencontainers.image.url=\"local\"   org.opencontainers.image.source=\"https://dockerhub.com/\"   org.opencontainers.image.version=\"$VERSION\"   org.opencontainers.image.revision=\"$REVISION\"   vendor=\"ReactJS\"   name=\"Netmaker\"   version=\"$VERSION-$REVISION\"   summary=\"The frontend of Netmaker. Netmaker builds fast, secure virtual networks.\"   description=\"This image contains the Netmaker frontend running with the ReactJS runtime. 2021 - Gravitl, inc.\"\n ---> Running in 0138bbc4743d\nRemoving intermediate container 0138bbc4743d\n ---> d1112940140c\nStep 3/17 : RUN mkdir /usr/src/app && rm -rf /usr/src/app\n ---> Running in a447c0e53255\nRemoving intermediate container a447c0e53255\n ---> 8e15d96ffb71\nStep 4/17 : WORKDIR /usr/src/app\n ---> Running in aae30a93fe9f\nRemoving intermediate container aae30a93fe9f\n ---> 51e0a4c61901\nStep 5/17 : ENV PATH /usr/src/app/node_modules/.bin:$PATH\n ---> Running in 92ddaaa7c97f\nRemoving intermediate container 92ddaaa7c97f\n ---> 2280857a6a9d\nStep 6/17 : COPY package*.json ./\n ---> 6c0bf85e5840\nStep 7/17 : RUN npm install --silent && npm cache clean --force;\n ---> Running in 4dbe0c2bf7c1\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.1.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m Recommended protections disabled.\n\u001b[0mRemoving intermediate container 4dbe0c2bf7c1\n ---> d1b0f3b27290\nStep 8/17 : RUN npm install react-scripts@4.0.3 -g --silent && npm cache clean --force;\n ---> Running in 19856bc6d97f\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force Recommended protections disabled.\n\u001b[0mRemoving intermediate container 19856bc6d97f\n ---> fbbb39a89f2c\nStep 9/17 : COPY . /usr/src/app\n ---> eee405068d8a\nStep 10/17 : ENV NODE_OPTIONS \"--openssl-legacy-provider\"\n ---> Running in 346642fd98de\nRemoving intermediate container 346642fd98de\n ---> d70e8c03ffb0\nStep 11/17 : RUN npm run build\n ---> Running in b32770695912\n\n> netmaker-ui@v0.17.1 build\n> react-app-rewired build\n\n\u001b[91mThe following changes are being made to your tsconfig.json file:\n\u001b[0m\u001b[91m  - compilerOptions.paths must not be set (aliased imports are not supported)\n\n\u001b[0mCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\n  npx browserslist@latest --update-db\n  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating\n\u001b[0mCompiled successfully.\n\nFile sizes after gzip:\n\n  399.2 KB  build/static/js/2.317615f8.chunk.js\n  73.93 KB  build/static/js/main.26d52d44.chunk.js\n  5 KB      build/static/css/2.555d8736.chunk.css\n  774 B     build/static/js/runtime-main.cd2f981b.js\n  472 B     build/static/css/main.d753050a.chunk.css\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  https://cra.link/deployment\n\nRemoving intermediate container b32770695912\n ---> 3e12140f5c83\nStep 12/17 : FROM nginx:1.21-alpine\n ---> b1c3acb28882\nStep 13/17 : COPY nginx.conf /etc/nginx/conf.d/default.conf\n ---> 2051cac5affc\nStep 14/17 : COPY --from=builder /usr/src/app/build /usr/share/nginx/html\n ---> 12568dd9e10a\nStep 15/17 : COPY docker-entrypoint.sh generate_config_js.sh /\n ---> 8a78c3c16e27\nStep 16/17 : RUN chmod +x docker-entrypoint.sh generate_config_js.sh\n ---> Running in 2019b89b12f1\nRemoving intermediate container 2019b89b12f1\n ---> 02725a802910\nStep 17/17 : ENTRYPOINT [\"/docker-entrypoint.sh\"]\n ---> Running in 2b7d99fc528c\nRemoving intermediate container 2b7d99fc528c\n ---> 8b8be1b8e0d8\nSuccessfully built 8b8be1b8e0d8\nSuccessfully tagged netmaker-ui:latest\n","stderr":"","imageSize":32452658}}