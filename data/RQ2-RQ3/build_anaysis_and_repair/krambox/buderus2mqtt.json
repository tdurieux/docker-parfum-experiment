{"repository":"https://github.com/krambox/buderus2mqtt","dockerfilePath":"Dockerfile","startTime":1672522636582,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/krambox/buderus2mqtt'...\n","error":null,"commit":"4175ddb2f6744c0dc80f33e019dbf211307b656b"},"originalBuild":{"startTimestamp":1672522637417,"endTimestamp":1672522763529,"error":null,"stdout":"Sending build context to Docker daemon  585.7kB\r\r\nStep 1/16 : FROM mhart/alpine-node:8 AS dependencies\n8: Pulling from mhart/alpine-node\n5a3ea8efae5d: Pulling fs layer\n5b703a1cf6da: Pulling fs layer\n5a3ea8efae5d: Verifying Checksum\n5a3ea8efae5d: Download complete\n5b703a1cf6da: Verifying Checksum\n5b703a1cf6da: Download complete\n5a3ea8efae5d: Pull complete\n5b703a1cf6da: Pull complete\nDigest: sha256:ba8cf023012a93729c995ef406bc596ed52cb3498a0fa82282897a0dc727d756\nStatus: Downloaded newer image for mhart/alpine-node:8\n ---> d0f82ea871eb\nStep 2/16 : RUN apk add --no-cache python build-base libmcrypt-dev\n ---> Running in ce3aed525242\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/28) Installing binutils-libs (2.30-r1)\n(2/28) Installing binutils (2.30-r1)\n(3/28) Installing gmp (6.1.2-r0)\n(4/28) Installing isl (0.17.1-r0)\n(5/28) Installing libgomp (6.3.0-r4)\n(6/28) Installing libatomic (6.3.0-r4)\n(7/28) Installing pkgconf (1.3.7-r0)\n(8/28) Installing mpfr3 (3.1.5-r0)\n(9/28) Installing mpc1 (1.0.3-r0)\n(10/28) Installing gcc (6.3.0-r4)\n(11/28) Installing musl-dev (1.1.16-r15)\n(12/28) Installing libc-dev (0.7.1-r0)\n(13/28) Installing g++ (6.3.0-r4)\n(14/28) Installing make (4.2.1-r0)\n(15/28) Installing fortify-headers (0.8-r0)\n(16/28) Installing build-base (0.5-r0)\n(17/28) Installing libmcrypt (2.5.8-r7)\n(18/28) Installing libmcrypt-dev (2.5.8-r7)\n(19/28) Installing libbz2 (1.0.6-r5)\n(20/28) Installing expat (2.2.0-r1)\n(21/28) Installing libffi (3.2.1-r3)\n(22/28) Installing gdbm (1.12-r0)\n(23/28) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(24/28) Installing ncurses-terminfo (6.0_p20171125-r1)\n(25/28) Installing ncurses-libs (6.0_p20171125-r1)\n(26/28) Installing readline (6.3.008-r5)\n(27/28) Installing sqlite-libs (3.25.3-r0)\n(28/28) Installing python2 (2.7.15-r0)\nExecuting busybox-1.26.2-r11.trigger\nOK: 208 MiB in 43 packages\nRemoving intermediate container ce3aed525242\n ---> 3a7aa2644fd1\nStep 3/16 : WORKDIR /root/app\n ---> Running in 03c4f8dfa6b1\nRemoving intermediate container 03c4f8dfa6b1\n ---> 33395691bdde\nStep 4/16 : COPY package.json .\n ---> cb8c431f3446\nStep 5/16 : COPY package-lock.json .\n ---> dd07d98cb7ec\nStep 6/16 : RUN npm set progress=false && npm config set depth 0\n ---> Running in 5d557af64def\nRemoving intermediate container 5d557af64def\n ---> d710b15b9f77\nStep 7/16 : RUN npm install --only=production\n ---> Running in 41436e1779ec\n\n> mcrypt@0.1.15 install /root/app/node_modules/mcrypt\n> node-gyp rebuild\n\nmake: Entering directory '/root/app/node_modules/mcrypt/build'\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/3-way.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/arcfour.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/blowfish.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/blowfish-compat.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/cast-128.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/cast-256.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/des.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/enigma.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/gost.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/loki97.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/panama.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rc2.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rijndael-128.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rijndael-192.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rijndael-256.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/safer64.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/safer128.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/saferplus.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/serpent.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/tripledes.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/twofish.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/wake.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/xtea.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/cbc.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/cfb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ctr.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ecb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ncfb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/nofb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ofb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/stream.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/bzero.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt_extra.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt_modules.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt_symb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/xmemory.o\n  AR(target) Release/obj.target/lib/libmcrypt/mcrypt.a\n  COPY Release/mcrypt.a\n  CXX(target) Release/obj.target/mcrypt/src/mcrypt.o\n  SOLINK_MODULE(target) Release/obj.target/mcrypt.node\n  COPY Release/mcrypt.node\nmake: Leaving directory '/root/app/node_modules/mcrypt/build'\nadded 535 packages from 646 contributors and audited 1372 packages in 20.776s\nfound 343 vulnerabilities (16 low, 99 moderate, 191 high, 37 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 41436e1779ec\n ---> 2618fdd95315\nStep 8/16 : RUN cp -R node_modules prod_node_modules\n ---> Running in 7403f6fbfbff\nRemoving intermediate container 7403f6fbfbff\n ---> cdb2d2fb38c5\nStep 9/16 : FROM mhart/alpine-node:8\n ---> d0f82ea871eb\nStep 10/16 : WORKDIR /root/app\n ---> Running in 3dd7041bce85\nRemoving intermediate container 3dd7041bce85\n ---> 44739f498cf8\nStep 11/16 : COPY --from=dependencies /root/app/prod_node_modules ./node_modules\n ---> d315b392b6e0\nStep 12/16 : COPY package.json .\n ---> 76833a4094bd\nStep 13/16 : COPY config.js .\n ---> 825702851104\nStep 14/16 : COPY km200mqtt.js .\n ---> 44dfcfe31d31\nStep 15/16 : VOLUME [\"/data\"]\n ---> Running in 6780012864c8\nRemoving intermediate container 6780012864c8\n ---> 8482a37f2372\nStep 16/16 : CMD ./km200mqtt.js\n ---> Running in 8eff451ae530\nRemoving intermediate container 8eff451ae530\n ---> 36a3d5610650\nSuccessfully built 36a3d5610650\nSuccessfully tagged buderus2mqtt:latest\n","stderr":"","imageSize":95198623},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":4,"columnEnd":33}}],"repairedDockerfile":"#\n# ---- Dependencies ----\nFROM mhart/alpine-node:8 AS dependencies\nRUN apk add --no-cache python build-base libmcrypt-dev\n\nWORKDIR /root/app\nCOPY package.json .\nCOPY package-lock.json .\n\n# install node packages\nRUN npm set progress=false && npm config set depth 0\nRUN npm install --only=production \n# copy production node_modules aside\nRUN cp -R node_modules prod_node_modules\n\n#\n# ---- Release ----\nFROM mhart/alpine-node:8\nWORKDIR /root/app\n# copy production node_modules\nCOPY --from=dependencies /root/app/prod_node_modules ./node_modules\n# copy app sources\nCOPY package.json .\nCOPY config.js .\nCOPY km200mqtt.js .\nVOLUME [\"/data\"]\nCMD ./km200mqtt.js "},"repairedBuild":{"startTimestamp":1672522763958,"endTimestamp":1672522875251,"error":null,"stdout":"Sending build context to Docker daemon  585.7kB\r\r\nStep 1/16 : FROM mhart/alpine-node:8 AS dependencies\n ---> d0f82ea871eb\nStep 2/16 : RUN apk add --no-cache python build-base libmcrypt-dev\n ---> Running in ab6178d81623\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/x86_64/APKINDEX.tar.gz\n(1/28) Installing binutils-libs (2.30-r1)\n(2/28) Installing binutils (2.30-r1)\n(3/28) Installing gmp (6.1.2-r0)\n(4/28) Installing isl (0.17.1-r0)\n(5/28) Installing libgomp (6.3.0-r4)\n(6/28) Installing libatomic (6.3.0-r4)\n(7/28) Installing pkgconf (1.3.7-r0)\n(8/28) Installing mpfr3 (3.1.5-r0)\n(9/28) Installing mpc1 (1.0.3-r0)\n(10/28) Installing gcc (6.3.0-r4)\n(11/28) Installing musl-dev (1.1.16-r15)\n(12/28) Installing libc-dev (0.7.1-r0)\n(13/28) Installing g++ (6.3.0-r4)\n(14/28) Installing make (4.2.1-r0)\n(15/28) Installing fortify-headers (0.8-r0)\n(16/28) Installing build-base (0.5-r0)\n(17/28) Installing libmcrypt (2.5.8-r7)\n(18/28) Installing libmcrypt-dev (2.5.8-r7)\n(19/28) Installing libbz2 (1.0.6-r5)\n(20/28) Installing expat (2.2.0-r1)\n(21/28) Installing libffi (3.2.1-r3)\n(22/28) Installing gdbm (1.12-r0)\n(23/28) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(24/28) Installing ncurses-terminfo (6.0_p20171125-r1)\n(25/28) Installing ncurses-libs (6.0_p20171125-r1)\n(26/28) Installing readline (6.3.008-r5)\n(27/28) Installing sqlite-libs (3.25.3-r0)\n(28/28) Installing python2 (2.7.15-r0)\nExecuting busybox-1.26.2-r11.trigger\nOK: 208 MiB in 43 packages\nRemoving intermediate container ab6178d81623\n ---> e98baa1b6eea\nStep 3/16 : WORKDIR /root/app\n ---> Running in 155a75b54470\nRemoving intermediate container 155a75b54470\n ---> 0e9a0c9cf02f\nStep 4/16 : COPY package.json .\n ---> 2fb4f10e64c8\nStep 5/16 : COPY package-lock.json .\n ---> d378d93ff2d2\nStep 6/16 : RUN npm set progress=false && npm config set depth 0\n ---> Running in 3f761541b0ae\nRemoving intermediate container 3f761541b0ae\n ---> ed33ce357242\nStep 7/16 : RUN npm install --only=production\n ---> Running in f87938bd35d4\n\n> mcrypt@0.1.15 install /root/app/node_modules/mcrypt\n> node-gyp rebuild\n\nmake: Entering directory '/root/app/node_modules/mcrypt/build'\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/3-way.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/arcfour.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/blowfish.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/blowfish-compat.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/cast-128.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/cast-256.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/des.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/enigma.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/gost.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/loki97.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/panama.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rc2.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rijndael-128.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rijndael-192.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/rijndael-256.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/safer64.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/safer128.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/saferplus.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/serpent.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/tripledes.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/twofish.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/wake.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/algorithms/xtea.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/cbc.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/cfb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ctr.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ecb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ncfb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/nofb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/ofb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/modules/modes/stream.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/bzero.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt_extra.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt_modules.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/mcrypt_symb.o\n  CC(target) Release/obj.target/libmcrypt/lib/libmcrypt/lib/xmemory.o\n  AR(target) Release/obj.target/lib/libmcrypt/mcrypt.a\n  COPY Release/mcrypt.a\n  CXX(target) Release/obj.target/mcrypt/src/mcrypt.o\n  SOLINK_MODULE(target) Release/obj.target/mcrypt.node\n  COPY Release/mcrypt.node\nmake: Leaving directory '/root/app/node_modules/mcrypt/build'\nadded 535 packages from 646 contributors and audited 1372 packages in 18.217s\nfound 343 vulnerabilities (16 low, 99 moderate, 191 high, 37 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f87938bd35d4\n ---> 60162bc67c49\nStep 8/16 : RUN cp -R node_modules prod_node_modules\n ---> Running in 857836bc3301\nRemoving intermediate container 857836bc3301\n ---> d2b1eb720032\nStep 9/16 : FROM mhart/alpine-node:8\n ---> d0f82ea871eb\nStep 10/16 : WORKDIR /root/app\n ---> Running in 17d051e5a63b\nRemoving intermediate container 17d051e5a63b\n ---> 998439489c8e\nStep 11/16 : COPY --from=dependencies /root/app/prod_node_modules ./node_modules\n ---> 0182186737b8\nStep 12/16 : COPY package.json .\n ---> 97762a98fc18\nStep 13/16 : COPY config.js .\n ---> 325e0668827d\nStep 14/16 : COPY km200mqtt.js .\n ---> 81b33d3ff4ca\nStep 15/16 : VOLUME [\"/data\"]\n ---> Running in 79e3213bd53a\nRemoving intermediate container 79e3213bd53a\n ---> 29e58e23260e\nStep 16/16 : CMD ./km200mqtt.js\n ---> Running in f10ec2704fd5\nRemoving intermediate container f10ec2704fd5\n ---> d4a949afa4ed\nSuccessfully built d4a949afa4ed\nSuccessfully tagged buderus2mqtt:latest\n","stderr":"","imageSize":95198623},"endTime":1672522875625}