{"repository":"https://github.com/cert-polska/karton","dockerfilePath":"Dockerfile","startTime":1672097744702,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/cert-polska/karton'...\n","error":null,"commit":"1c9e7e4bb6b3c7941c6d84deb96417a74a26d2ec"},"originalBuild":{"startTimestamp":1672097745626,"endTimestamp":1672097795475,"error":null,"stdout":"Sending build context to Docker daemon  1.521MB\r\r\nStep 1/9 : FROM python:3.7\n3.7: Pulling from library/python\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n0f67f32c26d3: Already exists\n24e64f2eb938: Pulling fs layer\nece0ca00f21c: Pulling fs layer\n9a5f30b220ac: Pulling fs layer\nece0ca00f21c: Verifying Checksum\nece0ca00f21c: Download complete\n9a5f30b220ac: Verifying Checksum\n9a5f30b220ac: Download complete\n24e64f2eb938: Download complete\n24e64f2eb938: Pull complete\nece0ca00f21c: Pull complete\n9a5f30b220ac: Pull complete\nDigest: sha256:bf85a74f4ace82f3503c2199aaae10e7a8e370bc7e42fd246c5774891f1fab0b\nStatus: Downloaded newer image for python:3.7\n ---> 1f1a7b570f9e\nStep 2/9 : WORKDIR /app/service\n ---> Running in 128621016a57\nRemoving intermediate container 128621016a57\n ---> 395eab3d9406\nStep 3/9 : COPY ./requirements.txt ./requirements.txt\n ---> 50e839490068\nStep 4/9 : RUN pip install -r requirements.txt\n ---> Running in ed70ea15542f\nCollecting redis\n  Downloading redis-4.4.0-py3-none-any.whl (236 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 236.4/236.4 KB 2.5 MB/s eta 0:00:00\nCollecting boto3\n  Downloading boto3-1.26.37-py3-none-any.whl (132 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 132.7/132.7 KB 1.1 MB/s eta 0:00:00\nCollecting async-timeout>=4.0.2\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting importlib-metadata>=1.0\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting typing-extensions\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 KB 349.7 kB/s eta 0:00:00\nCollecting botocore<1.30.0,>=1.29.37\n  Downloading botocore-1.29.37-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 41.0 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 12.1 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 KB 19.9 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nInstalling collected packages: zipp, urllib3, typing-extensions, six, jmespath, python-dateutil, importlib-metadata, async-timeout, redis, botocore, s3transfer, boto3\nSuccessfully installed async-timeout-4.0.2 boto3-1.26.37 botocore-1.29.37 importlib-metadata-5.2.0 jmespath-1.0.1 python-dateutil-2.8.2 redis-4.4.0 s3transfer-0.6.0 six-1.16.0 typing-extensions-4.4.0 urllib3-1.26.13 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container ed70ea15542f\n ---> b1a7f849a15e\nStep 5/9 : COPY ./karton ./karton\n ---> 44ae8458823f\nStep 6/9 : COPY ./README.md ./README.md\n ---> e79f14741b8b\nStep 7/9 : COPY ./setup.py ./setup.py\n ---> 7f8f10cc7b73\nStep 8/9 : RUN pip install .\n ---> Running in dde9bea5b22b\nProcessing /app/service\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: redis in /usr/local/lib/python3.7/site-packages (from karton-core==5.0.0) (4.4.0)\nRequirement already satisfied: boto3 in /usr/local/lib/python3.7/site-packages (from karton-core==5.0.0) (1.26.37)\nRequirement already satisfied: s3transfer<0.7.0,>=0.6.0 in /usr/local/lib/python3.7/site-packages (from boto3->karton-core==5.0.0) (0.6.0)\nRequirement already satisfied: botocore<1.30.0,>=1.29.37 in /usr/local/lib/python3.7/site-packages (from boto3->karton-core==5.0.0) (1.29.37)\nRequirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/local/lib/python3.7/site-packages (from boto3->karton-core==5.0.0) (1.0.1)\nRequirement already satisfied: async-timeout>=4.0.2 in /usr/local/lib/python3.7/site-packages (from redis->karton-core==5.0.0) (4.0.2)\nRequirement already satisfied: importlib-metadata>=1.0 in /usr/local/lib/python3.7/site-packages (from redis->karton-core==5.0.0) (5.2.0)\nRequirement already satisfied: typing-extensions in /usr/local/lib/python3.7/site-packages (from redis->karton-core==5.0.0) (4.4.0)\nRequirement already satisfied: urllib3<1.27,>=1.25.4 in /usr/local/lib/python3.7/site-packages (from botocore<1.30.0,>=1.29.37->boto3->karton-core==5.0.0) (1.26.13)\nRequirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.7/site-packages (from botocore<1.30.0,>=1.29.37->boto3->karton-core==5.0.0) (2.8.2)\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/site-packages (from importlib-metadata>=1.0->redis->karton-core==5.0.0) (3.11.0)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.7/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.30.0,>=1.29.37->boto3->karton-core==5.0.0) (1.16.0)\nBuilding wheels for collected packages: karton-core\n  Building wheel for karton-core (setup.py): started\n  Building wheel for karton-core (setup.py): finished with status 'done'\n  Created wheel for karton-core: filename=karton_core-5.0.0-py3-none-any.whl size=42357 sha256=7f51da457d6b7719eae283b1b0a8a4643eacd78f7de1eeaa5aec0ee1faa9cf72\n  Stored in directory: /tmp/pip-ephem-wheel-cache-jedh9xf4/wheels/cb/a3/26/9af8a55a2289f739bf899b127191a9d249fc423dbbbc76c840\nSuccessfully built karton-core\nInstalling collected packages: karton-core\nSuccessfully installed karton-core-5.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container dde9bea5b22b\n ---> a246bcc9485e\nStep 9/9 : ENTRYPOINT [\"karton-system\"]\n ---> Running in 84fb61b0c3f5\nRemoving intermediate container 84fb61b0c3f5\n ---> d7afe38a5c50\nSuccessfully built d7afe38a5c50\nSuccessfully tagged karton:latest\n","stderr":"","imageSize":1006046825},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":4,"end":4,"columnStart":4,"columnEnd":35}},{"name":"pipUseNoCacheDir","position":{"start":8,"end":8,"columnStart":4,"columnEnd":17}}],"repairedDockerfile":"FROM python:3.7\n\nWORKDIR /app/service\nCOPY ./requirements.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY ./karton ./karton\nCOPY ./README.md ./README.md\nCOPY ./setup.py ./setup.py\nRUN pip install --no-cache-dir .\nENTRYPOINT [\"karton-system\"]\n"},"repairedBuild":{"startTimestamp":1672097795875,"endTimestamp":1672097832702,"error":null,"stdout":"Sending build context to Docker daemon  1.521MB\r\r\nStep 1/9 : FROM python:3.7\n ---> 1f1a7b570f9e\nStep 2/9 : WORKDIR /app/service\n ---> Running in 9cab4902dc5e\nRemoving intermediate container 9cab4902dc5e\n ---> 4bd6c417ed1c\nStep 3/9 : COPY ./requirements.txt ./requirements.txt\n ---> d414a7c5ea97\nStep 4/9 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in 3af0b52b49eb\nCollecting redis\n  Downloading redis-4.4.0-py3-none-any.whl (236 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 236.4/236.4 KB 59.7 MB/s eta 0:00:00\nCollecting boto3\n  Downloading boto3-1.26.37-py3-none-any.whl (132 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 132.7/132.7 KB 258.7 MB/s eta 0:00:00\nCollecting async-timeout>=4.0.2\n  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\nCollecting importlib-metadata>=1.0\n  Downloading importlib_metadata-5.2.0-py3-none-any.whl (21 kB)\nCollecting typing-extensions\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting s3transfer<0.7.0,>=0.6.0\n  Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 KB 231.5 MB/s eta 0:00:00\nCollecting jmespath<2.0.0,>=0.7.1\n  Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)\nCollecting botocore<1.30.0,>=1.29.37\n  Downloading botocore-1.29.37-py3-none-any.whl (10.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 110.4 MB/s eta 0:00:00\nCollecting python-dateutil<3.0.0,>=2.1\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 KB 264.5 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.25.4\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 259.0 MB/s eta 0:00:00\nCollecting zipp>=0.5\n  Downloading zipp-3.11.0-py3-none-any.whl (6.6 kB)\nCollecting six>=1.5\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nInstalling collected packages: zipp, urllib3, typing-extensions, six, jmespath, python-dateutil, importlib-metadata, async-timeout, redis, botocore, s3transfer, boto3\nSuccessfully installed async-timeout-4.0.2 boto3-1.26.37 botocore-1.29.37 importlib-metadata-5.2.0 jmespath-1.0.1 python-dateutil-2.8.2 redis-4.4.0 s3transfer-0.6.0 six-1.16.0 typing-extensions-4.4.0 urllib3-1.26.13 zipp-3.11.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 3af0b52b49eb\n ---> 3078d95eff7a\nStep 5/9 : COPY ./karton ./karton\n ---> 54272e84e2f5\nStep 6/9 : COPY ./README.md ./README.md\n ---> 2c170fda3148\nStep 7/9 : COPY ./setup.py ./setup.py\n ---> 01d74a3d4244\nStep 8/9 : RUN pip install --no-cache-dir .\n ---> Running in c2791e88d436\nProcessing /app/service\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: redis in /usr/local/lib/python3.7/site-packages (from karton-core==5.0.0) (4.4.0)\nRequirement already satisfied: boto3 in /usr/local/lib/python3.7/site-packages (from karton-core==5.0.0) (1.26.37)\nRequirement already satisfied: s3transfer<0.7.0,>=0.6.0 in /usr/local/lib/python3.7/site-packages (from boto3->karton-core==5.0.0) (0.6.0)\nRequirement already satisfied: botocore<1.30.0,>=1.29.37 in /usr/local/lib/python3.7/site-packages (from boto3->karton-core==5.0.0) (1.29.37)\nRequirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/local/lib/python3.7/site-packages (from boto3->karton-core==5.0.0) (1.0.1)\nRequirement already satisfied: importlib-metadata>=1.0 in /usr/local/lib/python3.7/site-packages (from redis->karton-core==5.0.0) (5.2.0)\nRequirement already satisfied: typing-extensions in /usr/local/lib/python3.7/site-packages (from redis->karton-core==5.0.0) (4.4.0)\nRequirement already satisfied: async-timeout>=4.0.2 in /usr/local/lib/python3.7/site-packages (from redis->karton-core==5.0.0) (4.0.2)\nRequirement already satisfied: urllib3<1.27,>=1.25.4 in /usr/local/lib/python3.7/site-packages (from botocore<1.30.0,>=1.29.37->boto3->karton-core==5.0.0) (1.26.13)\nRequirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.7/site-packages (from botocore<1.30.0,>=1.29.37->boto3->karton-core==5.0.0) (2.8.2)\nRequirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/site-packages (from importlib-metadata>=1.0->redis->karton-core==5.0.0) (3.11.0)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.7/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.30.0,>=1.29.37->boto3->karton-core==5.0.0) (1.16.0)\nBuilding wheels for collected packages: karton-core\n  Building wheel for karton-core (setup.py): started\n  Building wheel for karton-core (setup.py): finished with status 'done'\n  Created wheel for karton-core: filename=karton_core-5.0.0-py3-none-any.whl size=42357 sha256=bd4b916d7ee069c88ab3f586b980e68a0ccdf1d9e354cfa1215b17ae63142d08\n  Stored in directory: /tmp/pip-ephem-wheel-cache-1crt6j9n/wheels/cb/a3/26/9af8a55a2289f739bf899b127191a9d249fc423dbbbc76c840\nSuccessfully built karton-core\nInstalling collected packages: karton-core\nSuccessfully installed karton-core-5.0.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container c2791e88d436\n ---> 40573ec71d08\nStep 9/9 : ENTRYPOINT [\"karton-system\"]\n ---> Running in 19dd82f0aee3\nRemoving intermediate container 19dd82f0aee3\n ---> f68935bc5dcc\nSuccessfully built f68935bc5dcc\nSuccessfully tagged karton:latest\n","stderr":"","imageSize":994188589},"endTime":1672097833035}