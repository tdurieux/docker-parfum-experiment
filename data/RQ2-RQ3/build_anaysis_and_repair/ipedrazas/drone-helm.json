{"repository":"https://github.com/ipedrazas/drone-helm","dockerfilePath":"Dockerfile","startTime":1672351426142,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ipedrazas/drone-helm'...\n","error":null,"commit":"c110459ad9aff373cb25e3fb3a6650d31209dde7"},"originalBuild":{"startTimestamp":1672351427046,"endTimestamp":1672351548143,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t drone-helm:latest -f /tmp/dinghy-analysis/ipedrazas/drone-helm/Dockerfile ."},"stdout":"Sending build context to Docker daemon  193.5kB\r\r\nStep 1/22 : FROM golang:1.12-alpine3.9 as builder\n1.12-alpine3.9: Pulling from library/golang\ne7c96db7181b: Already exists\n5297bd381816: Pulling fs layer\n3a664477889c: Pulling fs layer\n8d0449b15bf6: Pulling fs layer\ne095a0d93232: Pulling fs layer\ne095a0d93232: Waiting\n3a664477889c: Download complete\n5297bd381816: Verifying Checksum\n5297bd381816: Download complete\n5297bd381816: Pull complete\n3a664477889c: Pull complete\ne095a0d93232: Download complete\n8d0449b15bf6: Download complete\n8d0449b15bf6: Pull complete\ne095a0d93232: Pull complete\nDigest: sha256:03b3b1d0fc2ca786fd4342967f3fb3b66215def8a0c3701301a6d0a94d8bfa86\nStatus: Downloaded newer image for golang:1.12-alpine3.9\n ---> 04665e9d8a9b\nStep 2/22 : RUN apk update\n ---> Running in 258f358b2c02\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\nv3.9.6-143-ga5f34edab6 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]\nv3.9.6-138-ge069a77b3b [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]\nOK: 9781 distinct packages available\nRemoving intermediate container 258f358b2c02\n ---> e202e16a0e0c\nStep 3/22 : RUN apk add dep git\n ---> Running in 3ae1393f280d\n(1/7) Installing dep (0.5.0-r0)\n(2/7) Installing nghttp2-libs (1.35.1-r2)\n(3/7) Installing libssh2 (1.9.0-r1)\n(4/7) Installing libcurl (7.64.0-r5)\n(5/7) Installing expat (2.2.8-r0)\n(6/7) Installing pcre2 (10.32-r1)\n(7/7) Installing git (2.20.4-r0)\nExecuting busybox-1.29.3-r10.trigger\nOK: 33 MiB in 22 packages\nRemoving intermediate container 3ae1393f280d\n ---> a7d0317953d2\nStep 4/22 : ENV GOOS linux\n ---> Running in 1fe07f6b1785\nRemoving intermediate container 1fe07f6b1785\n ---> 4e6a76d3b4cb\nStep 5/22 : ENV GOARCH=386\n ---> Running in 1970d92011e9\nRemoving intermediate container 1970d92011e9\n ---> af3566dc7ad5\nStep 6/22 : WORKDIR /go/src/github.com/ipedrazas/drone-helm\n ---> Running in 9be93407f7b6\nRemoving intermediate container 9be93407f7b6\n ---> 948028f39603\nStep 7/22 : COPY . .\n ---> 14f607a31daf\nStep 8/22 : RUN dep ensure\n ---> Running in 2cf5eed54322\nRemoving intermediate container 2cf5eed54322\n ---> c96a88773825\nStep 9/22 : RUN go build\n ---> Running in ee7d82969013\nRemoving intermediate container ee7d82969013\n ---> e2d65ff97299\nStep 10/22 : FROM alpine:3.9 as final\n3.9: Pulling from library/alpine\n31603596830f: Pulling fs layer\n31603596830f: Verifying Checksum\n31603596830f: Download complete\n31603596830f: Pull complete\nDigest: sha256:414e0518bb9228d35e4cd5165567fb91d26c6a214e9c95899e1e056fcd349011\nStatus: Downloaded newer image for alpine:3.9\n ---> 78a2ce922f86\nStep 11/22 : MAINTAINER Ivan Pedrazas <ipedrazas@gmail.com>\n ---> Running in 87e7e90210c3\nRemoving intermediate container 87e7e90210c3\n ---> ad71a776781f\nStep 12/22 : COPY --from=builder /go/src/github.com/ipedrazas/drone-helm/drone-helm /bin/\n ---> 61216056c600\nStep 13/22 : ARG VERSION\n ---> Running in 78cebb20e453\nRemoving intermediate container 78cebb20e453\n ---> 1e3385568362\nStep 14/22 : ENV VERSION ${VERSION:-v2.14.1}\n ---> Running in e7bea7aa7f6a\nRemoving intermediate container e7bea7aa7f6a\n ---> 5bac6982d59e\nStep 15/22 : ENV FILENAME helm-${VERSION}-linux-amd64.tar.gz\n ---> Running in 9788ca6dcac3\nRemoving intermediate container 9788ca6dcac3\n ---> 75be43314638\nStep 16/22 : ARG KUBECTL\n ---> Running in af2d2da6ac4b\nRemoving intermediate container af2d2da6ac4b\n ---> 1b9769f175cc\nStep 17/22 : ENV KUBECTL ${KUBECTL:-v1.14.3}\n ---> Running in a949fc1b16a7\nRemoving intermediate container a949fc1b16a7\n ---> 75651c199c0d\nStep 18/22 : RUN set -ex   && apk add --no-cache curl ca-certificates   && curl -o /tmp/${FILENAME} http://storage.googleapis.com/kubernetes-helm/${FILENAME}   && curl -o /tmp/kubectl https://storage.googleapis.com/kubernetes-release/release/${KUBECTL}/bin/linux/amd64/kubectl   && curl -o /tmp/aws-iam-authenticator https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/linux/amd64/aws-iam-authenticator   && tar -zxvf /tmp/${FILENAME} -C /tmp   && mv /tmp/linux-amd64/helm /bin/helm   && chmod +x /tmp/kubectl   && mv /tmp/kubectl /bin/kubectl   && chmod +x /tmp/aws-iam-authenticator   && mv /tmp/aws-iam-authenticator /bin/aws-iam-authenticator   && rm -rf /tmp/*\n ---> Running in 5d1238a3a8c8\n\u001b[91m+ apk add --no-cache curl ca-certificates\n\u001b[0mfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing ca-certificates (20191127-r2)\n(2/5) Installing nghttp2-libs (1.35.1-r2)\n(3/5) Installing libssh2 (1.9.0-r1)\n(4/5) Installing libcurl (7.64.0-r5)\n(5/5) Installing curl (7.64.0-r5)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 7 MiB in 19 packages\n\u001b[91m+ curl -o /tmp/helm-v2.14.1-linux-amd64.tar.gz http://storage.googleapis.com/kubernetes-helm/helm-v2.14.1-linux-amd64.tar.gz\n\u001b[0m\u001b[91m  % Total    % Received % Xferd  Average\u001b[0m\u001b[91m Speed   Tim\u001b[0m\u001b[91me    Time     Time  \u001b[0m\u001b[91mCurre\u001b[0m\u001b[91mnt\n     \u001b[0m\u001b[91m       \u001b[0m\u001b[91m    \u001b[0m\u001b[91m             \u001b[0m\u001b[91m    Dload  Upload   Tot\u001b[0m\u001b[91mal   S\u001b[0m\u001b[91mpent\u001b[0m\u001b[91m    Le\u001b[0m\u001b[91mft \u001b[0m\u001b[91m Speed\n\r  0\u001b[0m\u001b[91m     0    0\u001b[0m\u001b[91m     0\u001b[0m\u001b[91m    0    \u001b[0m\u001b[91m 0    \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m   0 \u001b[0m\u001b[91m--:--:\u001b[0m\u001b[91m-- --:-\u001b[0m\u001b[91m-:\u001b[0m\u001b[91m-- -\u001b[0m\u001b[91m-:--:--     \u001b[0m\u001b[91m0\u001b[0m\u001b[91m\r100   298  100   298    0   \u001b[0m\u001b[91m  0   1655      0 --:\u001b[0m\u001b[91m--:-- --:--:-\u001b[0m\u001b[91m- --:--:-\u001b[0m\u001b[91m-  1973\n\u001b[0m\u001b[91m+ curl -o /tmp/kubectl https://storage.googleapis.com/kubernetes-release/release/v1.14.3/bin/linux/amd64/kubectl\n\u001b[0m\u001b[91m  % Total    % Received % \u001b[0m\u001b[91mXferd  Aver\u001b[0m\u001b[91mage S\u001b[0m\u001b[91mpeed   Time \u001b[0m\u001b[91m   Tim\u001b[0m\u001b[91me     Tim\u001b[0m\u001b[91me  Current\u001b[0m\u001b[91m\n     \u001b[0m\u001b[91m  \u001b[0m\u001b[91m     \u001b[0m\u001b[91m            \u001b[0m\u001b[91m         Dload  Uplo\u001b[0m\u001b[91mad   Total\u001b[0m\u001b[91m   Spent    L\u001b[0m\u001b[91meft  Speed\n\r \u001b[0m\u001b[91m 0     0    0\u001b[0m\u001b[91m     0    0\u001b[0m\u001b[91m     0\u001b[0m\u001b[91m   \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m    0\u001b[0m\u001b[91m --:-\u001b[0m\u001b[91m-:-- --:--:-- --:--\u001b[0m\u001b[91m:--  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r  9 41.1\u001b[0m\u001b[91mM    9 4096k    0     0  3567k\u001b[0m\u001b[91m      0\u001b[0m\u001b[91m  0:00:11  0:00:01 \u001b[0m\u001b[91m 0:00:10 35\u001b[0m\u001b[91m6\u001b[0m\u001b[91m4k\u001b[0m\u001b[91m\r 58 41.1M   58 24.0M    0     0  11.2M      0  0:00:03  0:\u001b[0m\u001b[91m00:02  0:00:01 11.2M\u001b[0m\u001b[91m\r100 41.1M  100 41.1M    0     0  16.3M  \u001b[0m\u001b[91m    0  0:00:02  0:00:02 --:\u001b[0m\u001b[91m--:-- 16.3M\n\u001b[0m\u001b[91m+ curl -o /tmp/aws-iam-authenticator https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/linux/amd64/aws-iam-authenticator\n\u001b[0m\u001b[91m  % Total    % Received % Xf\u001b[0m\u001b[91merd  Average Speed   Tim\u001b[0m\u001b[91me    Time   \u001b[0m\u001b[91m  Time\u001b[0m\u001b[91m  Curr\u001b[0m\u001b[91ment\u001b[0m\u001b[91m\n  \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m               \u001b[0m\u001b[91m    \u001b[0m\u001b[91mDload  Up\u001b[0m\u001b[91mloa\u001b[0m\u001b[91md  \u001b[0m\u001b[91m To\u001b[0m\u001b[91mtal\u001b[0m\u001b[91m   \u001b[0m\u001b[91mSpe\u001b[0m\u001b[91mnt    L\u001b[0m\u001b[91meft\u001b[0m\u001b[91m  Sp\u001b[0m\u001b[91meed\n\u001b[0m\u001b[91m\r  0     0 \u001b[0m\u001b[91m   0     0    0\u001b[0m\u001b[91m     0   \u001b[0m\u001b[91m   0      0\u001b[0m\u001b[91m --:--:-- --:--\u001b[0m\u001b[91m:-- --:--:--  \u001b[0m\u001b[91m   0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0 \u001b[0m\u001b[91m     0 --:--:-- --:--:-- --\u001b[0m\u001b[91m:--:--   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r  0 25.1M    0  122k    0     0  825\u001b[0m\u001b[91m89      0  0:05:19  0:00\u001b[0m\u001b[91m:01  0:05:18 \u001b[0m\u001b[91m82534\u001b[0m\u001b[91m\r  1 25.1M    1  333k    0     0   1\u001b[0m\u001b[91m32k      0  0:03:14  \u001b[0m\u001b[91m0:00\u001b[0m\u001b[91m:02  0:03:12  1\u001b[0m\u001b[91m32\u001b[0m\u001b[91mk\u001b[0m\u001b[91m\r  2 25.1M    2  593k    0     0   168k    \u001b[0m\u001b[91m  0  0:02:32  0:00\u001b[0m\u001b[91m:03  0:\u001b[0m\u001b[91m02:29  168k\u001b[0m\u001b[91m\r  3 25.1M    3  982k    0     0   217k      0  0:01:58  0:00:04  0:01:54  217k\u001b[0m\u001b[91m\r  5 25.1M    5 1401k    0     0   25\u001b[0m\u001b[91m3k      0  0:01:41  0:\u001b[0m\u001b[91m00:05  0\u001b[0m\u001b[91m:01:3\u001b[0m\u001b[91m6  2\u001b[0m\u001b[91m83k\u001b[0m\u001b[91m\r  8 25.1M    8 2063k    0    \u001b[0m\u001b[91m 0   316k      0  0:\u001b[0m\u001b[91m01:21  0:00:06  0:01:15\u001b[0m\u001b[91m  387k\u001b[0m\u001b[91m\r 11 25.1M   11 2896k    0    \u001b[0m\u001b[91m 0   385k   \u001b[0m\u001b[91m   0  \u001b[0m\u001b[91m0:\u001b[0m\u001b[91m01:06  0:00:\u001b[0m\u001b[91m07  0:00:59  5\u001b[0m\u001b[91m12k\u001b[0m\u001b[91m\r 16 25.1M   16 4257k  \u001b[0m\u001b[91m  0     0\u001b[0m\u001b[91m   499\u001b[0m\u001b[91mk      0  0:00:51\u001b[0m\u001b[91m  0:00:08  0:00:43\u001b[0m\u001b[91m  73\u001b[0m\u001b[91m3k\u001b[0m\u001b[91m\r 23 25.1M   23 6008k    0     0   631k      0  0:00:40  0:00:09  0:00:31 1005k\u001b[0m\u001b[91m\r 33 25.1M   33 8677k    0     0   826\u001b[0m\u001b[91mk      0  0:00:31  0:00:1\u001b[0m\u001b[91m0  \u001b[0m\u001b[91m0:00:2\u001b[0m\u001b[91m1 1467\u001b[0m\u001b[91mk\u001b[0m\u001b[91m\r 46 25.1M   46 11.6M    0     0  1037k      0  0:00:24  0:00:11  0:00:13 \u001b[0m\u001b[91m1984k\u001b[0m\u001b[91m\r 64 25.1M   64 16.3M    0     0  1337k \u001b[0m\u001b[91m     0  0\u001b[0m\u001b[91m:00:19  0:00:12  0:00:07 27\u001b[0m\u001b[91m73k\u001b[0m\u001b[91m\r 86 25.1M   86 21.7M    0     0  1645k      0  0:00:15  0:00:13  0:00:02 \u001b[0m\u001b[91m3595k\u001b[0m\u001b[91m\r100 25.1M  100 25.1M    0     0  1840k      0  0:00:13  \u001b[0m\u001b[91m0:00:13 --:--:-- \u001b[0m\u001b[91m4417k\n\u001b[0m\u001b[91m+ tar -zxvf /tmp/helm-v2.14.1-linux-amd64.tar.gz -C /tmp\n\u001b[0m\u001b[91mtar: invalid magic\n\u001b[0m\u001b[91mtar: short read\n\u001b[0mRemoving intermediate container 5d1238a3a8c8\n","stderr":"The command '/bin/sh -c set -ex   && apk add --no-cache curl ca-certificates   && curl -o /tmp/${FILENAME} http://storage.googleapis.com/kubernetes-helm/${FILENAME}   && curl -o /tmp/kubectl https://storage.googleapis.com/kubernetes-release/release/${KUBECTL}/bin/linux/amd64/kubectl   && curl -o /tmp/aws-iam-authenticator https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/linux/amd64/aws-iam-authenticator   && tar -zxvf /tmp/${FILENAME} -C /tmp   && mv /tmp/linux-amd64/helm /bin/helm   && chmod +x /tmp/kubectl   && mv /tmp/kubectl /bin/kubectl   && chmod +x /tmp/aws-iam-authenticator   && mv /tmp/aws-iam-authenticator /bin/aws-iam-authenticator   && rm -rf /tmp/*' returned a non-zero code: 1\n"},"endTime":1672351548220}