{"repository":"https://github.com/turtl/server","dockerfilePath":"Dockerfile","startTime":1672958597857,"endTime":1672958676539,"clone":{"startTime":1672958597858,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/turtl/server'...\n","error":null,"endTime":1672958598718,"commit":"0e59ee0a47fc5937600999d14ceb1aca6392aec8"},"originalBuild":{"startTime":1672958598799,"endTime":1672958647639,"error":null,"stdout":"Sending build context to Docker daemon  901.1kB\r\r\nStep 1/9 : FROM node:11-alpine\n11-alpine: Pulling from library/node\ne7c96db7181b: Pulling fs layer\n0119aca44649: Pulling fs layer\n40df19605a18: Pulling fs layer\n82194b8b4a64: Pulling fs layer\n40df19605a18: Waiting\n82194b8b4a64: Waiting\ne7c96db7181b: Verifying Checksum\ne7c96db7181b: Download complete\n0119aca44649: Verifying Checksum\n0119aca44649: Download complete\n40df19605a18: Verifying Checksum\n40df19605a18: Download complete\n82194b8b4a64: Verifying Checksum\n82194b8b4a64: Download complete\ne7c96db7181b: Pull complete\n0119aca44649: Pull complete\n40df19605a18: Pull complete\n82194b8b4a64: Pull complete\nDigest: sha256:8bb56bab197299c8ff820f1a55462890caf08f57ffe3b91f5fa6945a4d505932\nStatus: Downloaded newer image for node:11-alpine\n ---> f18da2f58c3d\nStep 2/9 : ARG TURTL_SERVER_PLUGIN_REPO\n ---> Running in 32145fc8507c\nRemoving intermediate container 32145fc8507c\n ---> da839b414081\nStep 3/9 : ARG TURTL_SERVER_PLUGIN_LOCATION\n ---> Running in 84ff5080662a\nRemoving intermediate container 84ff5080662a\n ---> 735e4e0d363a\nStep 4/9 : EXPOSE 8181\n ---> Running in 35d97dd6bc3a\nRemoving intermediate container 35d97dd6bc3a\n ---> 432194c2d48e\nStep 5/9 : WORKDIR /app\n ---> Running in 0935a7614665\nRemoving intermediate container 0935a7614665\n ---> aeedeb8e2087\nStep 6/9 : COPY . .\n ---> c9b1fe76cf1d\nStep 7/9 : COPY config/config.yaml.docker config/config.yaml\n ---> 92c3dd69f4c2\nStep 8/9 : RUN apk add -U bash git &&  npm install --production &&  ./scripts/install-plugins.sh &&  mkdir /plugins /uploads\n ---> Running in 9853aec881e5\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(2/12) Installing ncurses-terminfo (6.1_p20190105-r0)\n(3/12) Installing ncurses-libs (6.1_p20190105-r0)\n(4/12) Installing readline (7.0.003-r1)\n(5/12) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(6/12) Installing ca-certificates (20191127-r2)\n(7/12) Installing nghttp2-libs (1.35.1-r2)\n(8/12) Installing libssh2 (1.9.0-r1)\n(9/12) Installing libcurl (7.64.0-r5)\n(10/12) Installing expat (2.2.8-r0)\n(11/12) Installing pcre2 (10.32-r1)\n(12/12) Installing git (2.20.4-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 31 MiB in 28 packages\n\u001b[91mnpm\u001b[0m\u001b[91m WARN lifecycle\u001b[0m\u001b[91m turtl-server@0.1.3~preinstall: cannot run in wd turtl-server@0.1.3 bash scripts/install-plugins.sh (wd=/app)\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.81.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@4.2.1: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated hawk@3.1.3: This module moved to @hapi/hawk. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@2.16.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated cryptiles@2.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated boom@2.10.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated sntp@1.0.9: This module moved to @hapi/sntp. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.0.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated buffer@4.9.1: This version of 'buffer' is out-of-date. You must update to v4.9.2 or newer\n\u001b[0m\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0madded 155 packages from 178 contributors and audited 155 packages in 7.574s\nfound 32 vulnerabilities (5 low, 10 moderate, 14 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 9853aec881e5\n ---> 3c3b13e70880\nStep 9/9 : ENTRYPOINT [\"/app/entrypoint.sh\"]\n ---> Running in eef507f4e77b\nRemoving intermediate container eef507f4e77b\n ---> 00ecf60ff416\nSuccessfully built 00ecf60ff416\nSuccessfully tagged server:latest\n","stderr":"","imageSize":136104427},"repair":{"startTime":1672958647711,"endTime":1672958647771,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":11,"end":11,"columnStart":2,"columnEnd":26}},{"name":"apkAddUseNoCache","position":{"start":10,"end":10,"columnStart":4,"columnEnd":23}}],"repairedDockerfile":"FROM node:11-alpine\n\nARG TURTL_SERVER_PLUGIN_REPO\nARG TURTL_SERVER_PLUGIN_LOCATION\n\nEXPOSE 8181\nWORKDIR /app\nCOPY . .\nCOPY config/config.yaml.docker config/config.yaml\n\nRUN apk add --no-cache -U bash git && \\\n  npm install --production && \\\n  ./scripts/install-plugins.sh && \\\n  mkdir /plugins /uploads && npm cache clean --force;\n\nENTRYPOINT [\"/app/entrypoint.sh\"]\n"},"repairedBuild":{"startTime":1672958648073,"endTime":1672958676143,"error":null,"stdout":"Sending build context to Docker daemon  901.1kB\r\r\nStep 1/9 : FROM node:11-alpine\n ---> f18da2f58c3d\nStep 2/9 : ARG TURTL_SERVER_PLUGIN_REPO\n ---> Running in dc4b98e40755\nRemoving intermediate container dc4b98e40755\n ---> ff470308cb3b\nStep 3/9 : ARG TURTL_SERVER_PLUGIN_LOCATION\n ---> Running in 3cab7f45d438\nRemoving intermediate container 3cab7f45d438\n ---> c7d26c6c4af1\nStep 4/9 : EXPOSE 8181\n ---> Running in 9d388869e829\nRemoving intermediate container 9d388869e829\n ---> 448dafa4b0b6\nStep 5/9 : WORKDIR /app\n ---> Running in a27e0b28945a\nRemoving intermediate container a27e0b28945a\n ---> dde8814d2ac8\nStep 6/9 : COPY . .\n ---> 2b2b3734db7c\nStep 7/9 : COPY config/config.yaml.docker config/config.yaml\n ---> 8996d47c5252\nStep 8/9 : RUN apk add --no-cache -U bash git &&   npm install --production &&   ./scripts/install-plugins.sh &&   mkdir /plugins /uploads && npm cache clean --force;\n ---> Running in 2f06caca20bc\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n(1/12) Installing ncurses-terminfo-base (6.1_p20190105-r0)\n(2/12) Installing ncurses-terminfo (6.1_p20190105-r0)\n(3/12) Installing ncurses-libs (6.1_p20190105-r0)\n(4/12) Installing readline (7.0.003-r1)\n(5/12) Installing bash (4.4.19-r1)\nExecuting bash-4.4.19-r1.post-install\n(6/12) Installing ca-certificates (20191127-r2)\n(7/12) Installing nghttp2-libs (1.35.1-r2)\n(8/12) Installing libssh2 (1.9.0-r1)\n(9/12) Installing libcurl (7.64.0-r5)\n(10/12) Installing expat (2.2.8-r0)\n(11/12) Installing pcre2 (10.32-r1)\n(12/12) Installing git (2.20.4-r0)\nExecuting busybox-1.29.3-r10.trigger\nExecuting ca-certificates-20191127-r2.trigger\nOK: 31 MiB in 28 packages\n\u001b[91mnpm\u001b[0m\u001b[91m WARN lifecycle\u001b[0m\u001b[91m turtl-server@0.1.3~preinstall: cannot run in wd turtl-server@0.1.3 bash scripts/install-plugins.sh (wd=/app)\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.81.0: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated hawk@3.1.3: This module moved to @hapi/hawk. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated buffer@4.9.1: This version of 'buffer' is out-of-date. You must update to v4.9.2 or newer\n\u001b[0m\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.0.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m har-validator@4.2.1: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated boom@2.10.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated sntp@1.0.9: This module moved to @hapi/sntp. Please make sure to switch over as this distribution is no longer supported and may contain bugs and critical security issues.\n\u001b[0m\u001b[91mnpm WARN deprecated hoek@2.16.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm WARN deprecated cryptiles@2.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m created a lockfile as package-lock.json. You should commit this file.\n\u001b[0madded 155 packages from 178 contributors and audited 155 packages in 6.233s\nfound 32 vulnerabilities (5 low, 10 moderate, 14 high, 3 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force\u001b[0m\u001b[91m I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 2f06caca20bc\n ---> b728adb5be14\nStep 9/9 : ENTRYPOINT [\"/app/entrypoint.sh\"]\n ---> Running in 87bde4c91cdc\nRemoving intermediate container 87bde4c91cdc\n ---> d720d5026488\nSuccessfully built d720d5026488\nSuccessfully tagged server:latest\n","stderr":"","imageSize":122239403}}