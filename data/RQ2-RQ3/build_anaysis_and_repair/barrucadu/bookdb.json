{"repository":"https://github.com/barrucadu/bookdb","dockerfilePath":"Dockerfile","startTime":1672675118864,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/barrucadu/bookdb'...\n","error":null,"commit":"768e6ae7b03376aaa4dd34a8caa15b0dc35a98d6"},"originalBuild":{"startTimestamp":1672675119740,"endTimestamp":1672675134685,"error":null,"stdout":"Sending build context to Docker daemon  504.3kB\r\r\nStep 1/10 : FROM python:3.11.1\n3.11.1: Pulling from library/python\n32de3c850997: Already exists\nfa1d4c8d85a4: Already exists\nc796299bbbdd: Already exists\n81283a9569ad: Already exists\n60b38700e7fb: Already exists\n0f67f32c26d3: Already exists\n1922a20932d4: Pulling fs layer\n47dd72d73dba: Pulling fs layer\n25f882f6cd8b: Pulling fs layer\n47dd72d73dba: Download complete\n25f882f6cd8b: Verifying Checksum\n25f882f6cd8b: Download complete\n1922a20932d4: Download complete\n1922a20932d4: Pull complete\n47dd72d73dba: Pull complete\n25f882f6cd8b: Pull complete\nDigest: sha256:250990a809a15bb6a3e307fec72dead200c882c940523fb1694baa78eb0e47c6\nStatus: Downloaded newer image for python:3.11.1\n ---> 75cc8d87cc34\nStep 2/10 : COPY requirements-freeze.txt .\n ---> 34da7a50df4f\nStep 3/10 : RUN pip install -r requirements-freeze.txt\n ---> Running in d0990d636e41\nCollecting click==8.1.3\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 8.7 MB/s eta 0:00:00\nCollecting elasticsearch==8.5.3\n  Downloading elasticsearch-8.5.3-py3-none-any.whl (385 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.3/385.3 kB 31.0 MB/s eta 0:00:00\nCollecting Flask==2.2.2\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 9.7 MB/s eta 0:00:00\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 7.9 MB/s eta 0:00:00\nCollecting itsdangerous==2.1.2\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting Jinja2==3.1.2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 16.1 MB/s eta 0:00:00\nCollecting MarkupSafe==2.1.1\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting PyYAML==6.0\n  Downloading PyYAML-6.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (757 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 757.9/757.9 kB 24.8 MB/s eta 0:00:00\nCollecting urllib3==1.26.13\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 11.8 MB/s eta 0:00:00\nCollecting Werkzeug==2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 23.0 MB/s eta 0:00:00\nCollecting elastic-transport<9,>=8\n  Downloading elastic_transport-8.4.0-py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.5/59.5 kB 5.3 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.11/site-packages (from gunicorn==20.1.0->-r requirements-freeze.txt (line 4)) (65.5.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 13.3 MB/s eta 0:00:00\nBuilding wheels for collected packages: MarkupSafe\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-cp311-cp311-linux_x86_64.whl size=27471 sha256=89586e433edda5f8b4ecee4d5b418bf1546e18200243757548890c6be4e661b9\n  Stored in directory: /root/.cache/pip/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\nSuccessfully built MarkupSafe\nInstalling collected packages: urllib3, PyYAML, MarkupSafe, itsdangerous, gunicorn, click, certifi, Werkzeug, Jinja2, elastic-transport, Flask, elasticsearch\nSuccessfully installed Flask-2.2.2 Jinja2-3.1.2 MarkupSafe-2.1.1 PyYAML-6.0 Werkzeug-2.2.2 certifi-2022.12.7 click-8.1.3 elastic-transport-8.4.0 elasticsearch-8.5.3 gunicorn-20.1.0 itsdangerous-2.1.2 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container d0990d636e41\n ---> 75b7238d68b1\nStep 4/10 : RUN useradd -m app\n ---> Running in b84821ddd0ef\nRemoving intermediate container b84821ddd0ef\n ---> 2ac815da46b0\nStep 5/10 : COPY --chown=app src /app\n ---> 5fafffc7734d\nStep 6/10 : COPY --chown=app config /app/config\n ---> 08dce6f5e1d3\nStep 7/10 : WORKDIR /app\n ---> Running in 5d13909b8b52\nRemoving intermediate container 5d13909b8b52\n ---> efab7d9bdea8\nStep 8/10 : USER app\n ---> Running in 0efc40aae872\nRemoving intermediate container 0efc40aae872\n ---> f584b6d539ec\nStep 9/10 : ENV ELASTIC_CLIENT_APIVERSIONING=1\n ---> Running in 991c01f5de73\nRemoving intermediate container 991c01f5de73\n ---> 64803d9136fb\nStep 10/10 : CMD [\"gunicorn\", \"-w\", \"4\", \"-b\", \"0.0.0.0:8888\", \"serve:app\"]\n ---> Running in fd29ae607d9c\nRemoving intermediate container fd29ae607d9c\n ---> 0f5383cef57a\nSuccessfully built 0f5383cef57a\nSuccessfully tagged bookdb:latest\n","stderr":"","imageSize":963814923},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":3,"end":3,"columnStart":4,"columnEnd":42}}],"repairedDockerfile":"FROM python:3.11.1\n\nCOPY requirements-freeze.txt .\nRUN pip install --no-cache-dir -r requirements-freeze.txt\n\nRUN useradd -m app\nCOPY --chown=app src /app\nCOPY --chown=app config /app/config\nWORKDIR /app\nUSER app\n\nENV ELASTIC_CLIENT_APIVERSIONING=1\n\nCMD [\"gunicorn\", \"-w\", \"4\", \"-b\", \"0.0.0.0:8888\", \"serve:app\"]\n"},"repairedBuild":{"startTimestamp":1672675134997,"endTimestamp":1672675144386,"error":null,"stdout":"Sending build context to Docker daemon  504.3kB\r\r\nStep 1/10 : FROM python:3.11.1\n ---> 75cc8d87cc34\nStep 2/10 : COPY requirements-freeze.txt .\n ---> 184f36461e38\nStep 3/10 : RUN pip install --no-cache-dir -r requirements-freeze.txt\n ---> Running in c88d7d93cff0\nCollecting click==8.1.3\n  Downloading click-8.1.3-py3-none-any.whl (96 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 77.0 MB/s eta 0:00:00\nCollecting elasticsearch==8.5.3\n  Downloading elasticsearch-8.5.3-py3-none-any.whl (385 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.3/385.3 kB 189.7 MB/s eta 0:00:00\nCollecting Flask==2.2.2\n  Downloading Flask-2.2.2-py3-none-any.whl (101 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.5/101.5 kB 359.5 MB/s eta 0:00:00\nCollecting gunicorn==20.1.0\n  Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 319.6 MB/s eta 0:00:00\nCollecting itsdangerous==2.1.2\n  Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\nCollecting Jinja2==3.1.2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 396.9 MB/s eta 0:00:00\nCollecting MarkupSafe==2.1.1\n  Downloading MarkupSafe-2.1.1.tar.gz (18 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting PyYAML==6.0\n  Downloading PyYAML-6.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (757 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 757.9/757.9 kB 139.9 MB/s eta 0:00:00\nCollecting urllib3==1.26.13\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 345.4 MB/s eta 0:00:00\nCollecting Werkzeug==2.2.2\n  Downloading Werkzeug-2.2.2-py3-none-any.whl (232 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 232.7/232.7 kB 262.3 MB/s eta 0:00:00\nCollecting elastic-transport<9,>=8\n  Downloading elastic_transport-8.4.0-py3-none-any.whl (59 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.5/59.5 kB 325.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.11/site-packages (from gunicorn==20.1.0->-r requirements-freeze.txt (line 4)) (65.5.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 369.5 MB/s eta 0:00:00\nBuilding wheels for collected packages: MarkupSafe\n  Building wheel for MarkupSafe (setup.py): started\n  Building wheel for MarkupSafe (setup.py): finished with status 'done'\n  Created wheel for MarkupSafe: filename=MarkupSafe-2.1.1-cp311-cp311-linux_x86_64.whl size=27478 sha256=d202dfe127832c0a447c9dd947d61fc7d0c8917b19862a31162c389b4b55f1ba\n  Stored in directory: /tmp/pip-ephem-wheel-cache-7p7ihjy8/wheels/96/ee/62/407c247ad088bcb67b530ba3ac1479058c58a651bd6bf09a1f\nSuccessfully built MarkupSafe\nInstalling collected packages: urllib3, PyYAML, MarkupSafe, itsdangerous, gunicorn, click, certifi, Werkzeug, Jinja2, elastic-transport, Flask, elasticsearch\nSuccessfully installed Flask-2.2.2 Jinja2-3.1.2 MarkupSafe-2.1.1 PyYAML-6.0 Werkzeug-2.2.2 certifi-2022.12.7 click-8.1.3 elastic-transport-8.4.0 elasticsearch-8.5.3 gunicorn-20.1.0 itsdangerous-2.1.2 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mRemoving intermediate container c88d7d93cff0\n ---> bac547a3c469\nStep 4/10 : RUN useradd -m app\n ---> Running in 23c38aecd02f\nRemoving intermediate container 23c38aecd02f\n ---> d52822fa60a7\nStep 5/10 : COPY --chown=app src /app\n ---> b74b8bda9ea3\nStep 6/10 : COPY --chown=app config /app/config\n ---> cff168be2e17\nStep 7/10 : WORKDIR /app\n ---> Running in 72b1380fcb80\nRemoving intermediate container 72b1380fcb80\n ---> 9f51b7861538\nStep 8/10 : USER app\n ---> Running in 0d8ac6f4768c\nRemoving intermediate container 0d8ac6f4768c\n ---> 5a309818dcb8\nStep 9/10 : ENV ELASTIC_CLIENT_APIVERSIONING=1\n ---> Running in 4297c7e7f4c1\nRemoving intermediate container 4297c7e7f4c1\n ---> d4cc9e6a258a\nStep 10/10 : CMD [\"gunicorn\", \"-w\", \"4\", \"-b\", \"0.0.0.0:8888\", \"serve:app\"]\n ---> Running in 284fb9f721b2\nRemoving intermediate container 284fb9f721b2\n ---> c2929bb8c06e\nSuccessfully built c2929bb8c06e\nSuccessfully tagged bookdb:latest\n","stderr":"","imageSize":961398557},"endTime":1672675144661}