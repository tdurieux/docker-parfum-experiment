{"repository":"https://github.com/seniv/vk-tg-bot","dockerfilePath":"Dockerfile","startTime":1672532346515,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/seniv/vk-tg-bot'...\n","error":null,"commit":"2169df9e9e32782a60aa3b576d22667b80ff5c4d"},"originalBuild":{"startTimestamp":1672532347315,"endTimestamp":1672532390192,"error":null,"stdout":"Sending build context to Docker daemon  246.3kB\r\r\nStep 1/11 : FROM node:10-slim as base\n10-slim: Pulling from library/node\n62deabe7a6db: Pulling fs layer\nf698164f6049: Pulling fs layer\nbc29352cb629: Pulling fs layer\n85e84b4c858f: Pulling fs layer\nac72e4359589: Pulling fs layer\n85e84b4c858f: Waiting\nac72e4359589: Waiting\nf698164f6049: Verifying Checksum\nf698164f6049: Download complete\n62deabe7a6db: Verifying Checksum\n62deabe7a6db: Download complete\nbc29352cb629: Verifying Checksum\nbc29352cb629: Download complete\n85e84b4c858f: Verifying Checksum\n85e84b4c858f: Download complete\nac72e4359589: Verifying Checksum\nac72e4359589: Download complete\n62deabe7a6db: Pull complete\nf698164f6049: Pull complete\nbc29352cb629: Pull complete\n85e84b4c858f: Pull complete\nac72e4359589: Pull complete\nDigest: sha256:88932859e3d022d79161b99628c4c2c50e836437455e2d1b1a008d98367b10d6\nStatus: Downloaded newer image for node:10-slim\n ---> 6fbcbbb5c603\nStep 2/11 : RUN mkdir /bot\n ---> Running in 4ba6f4fc611b\nRemoving intermediate container 4ba6f4fc611b\n ---> e0c2ddec9ac6\nStep 3/11 : WORKDIR /bot\n ---> Running in cae120500ee3\nRemoving intermediate container cae120500ee3\n ---> e77fe286a55d\nStep 4/11 : ADD package.json /bot/package.json\n ---> b8b4a4ab1be5\nStep 5/11 : ADD package-lock.json /bot/package-lock.json\n ---> 4955f18863aa\nStep 6/11 : ADD config.json /bot/config.json\n ---> a522f5f4c48b\nStep 7/11 : RUN apt-get update &&    apt-get install -y jq &&    npm install --production &&    rm -rf /var/lib/apt/lists/*\n ---> Running in 701c7d55cebe\nGet:1 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nIgn:2 http://deb.debian.org/debian stretch InRelease\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (5220 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  xz-utils\nUse 'apt autoremove' to remove it.\nThe following additional packages will be installed:\n  libjq1 libonig4\nThe following NEW packages will be installed:\n  jq libjq1 libonig4\n0 upgraded, 3 newly installed, 0 to remove and 12 not upgraded.\nNeed to get 329 kB of archives.\nAfter this operation, 1158 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libjq1 amd64 1.5+dfsg-1.3 [123 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 jq amd64 1.5+dfsg-1.3 [58.6 kB]\nGet:3 http://security.debian.org/debian-security stretch/updates/main amd64 libonig4 amd64 6.1.3-2+deb9u2 [147 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 329 kB in 0s (15.2 MB/s)\nSelecting previously unselected package libonig4:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6366 files and directories currently installed.)\r\nPreparing to unpack .../libonig4_6.1.3-2+deb9u2_amd64.deb ...\r\nUnpacking libonig4:amd64 (6.1.3-2+deb9u2) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../libjq1_1.5+dfsg-1.3_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.5+dfsg-1.3) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../jq_1.5+dfsg-1.3_amd64.deb ...\r\nUnpacking jq (1.5+dfsg-1.3) ...\r\nSetting up libonig4:amd64 (6.1.3-2+deb9u2) ...\r\nSetting up libjq1:amd64 (1.5+dfsg-1.3) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up jq (1.5+dfsg-1.3) ...\r\n\n> sharp@0.20.2 install /bot/node_modules/sharp\n> (node install/libvips && node install/dll-copy && prebuild-install) || (node-gyp rebuild && node install/dll-copy)\n\n\u001b[91minfo\u001b[0m\u001b[91m \u001b[0m\u001b[91msharp\u001b[0m\u001b[91m Downloading https://github.com/lovell/sharp-libvips/releases/download/v8.6.1/libvips-8.6.1-linux-x64.tar.gz\n\u001b[0madded 145 packages from 189 contributors and audited 305 packages in 6.342s\nfound 66 vulnerabilities (4 low, 22 moderate, 31 high, 9 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 701c7d55cebe\n ---> ecdce59860f9\nStep 8/11 : FROM base\n ---> ecdce59860f9\nStep 9/11 : ADD src /bot/src\n ---> 82796a510cc6\nStep 10/11 : ADD start.sh /bot/start.sh\n ---> 6482fc6019a5\nStep 11/11 : CMD [\"sh\", \"start.sh\"]\n ---> Running in 8b5126976966\nRemoving intermediate container 8b5126976966\n ---> 95a3d83e8918\nSuccessfully built 95a3d83e8918\nSuccessfully tagged vk-tg-bot:latest\n","stderr":"","imageSize":222032211},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":12,"end":12,"columnStart":4,"columnEnd":28}},{"name":"ruleAptGetInstallUseNoRec","position":{"start":11,"end":11,"columnStart":4,"columnEnd":25}}],"repairedDockerfile":"FROM node:10-slim as base\n\nRUN mkdir /bot\n\nWORKDIR /bot\n\nADD package.json /bot/package.json\nADD package-lock.json /bot/package-lock.json\nADD config.json /bot/config.json\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y jq && \\\n    npm install --production && \\\n    rm -rf /var/lib/apt/lists/*\n\nFROM base\n\nADD src /bot/src\nADD start.sh /bot/start.sh\n\nCMD [\"sh\", \"start.sh\"]\n"},"repairedBuild":{"startTimestamp":1672532390756,"endTimestamp":1672532420468,"error":null,"stdout":"Sending build context to Docker daemon  246.3kB\r\r\nStep 1/11 : FROM node:10-slim as base\n ---> 6fbcbbb5c603\nStep 2/11 : RUN mkdir /bot\n ---> Running in f284827798bd\nRemoving intermediate container f284827798bd\n ---> a30af8066977\nStep 3/11 : WORKDIR /bot\n ---> Running in cdf7ddf99f95\nRemoving intermediate container cdf7ddf99f95\n ---> cafe17b10d26\nStep 4/11 : ADD package.json /bot/package.json\n ---> a31480045c53\nStep 5/11 : ADD package-lock.json /bot/package-lock.json\n ---> a506d5b7339d\nStep 6/11 : ADD config.json /bot/config.json\n ---> 26c3ef0ec7ef\nStep 7/11 : RUN apt-get update &&     apt-get install --no-install-recommends -y jq &&     npm install --production &&     rm -rf /var/lib/apt/lists/*\n ---> Running in f0656c6d7855\nGet:1 http://security.debian.org/debian-security stretch/updates InRelease [59.1 kB]\nIgn:2 http://deb.debian.org/debian stretch InRelease\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [782 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]\nFetched 8135 kB in 1s (4670 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  xz-utils\nUse 'apt autoremove' to remove it.\nThe following additional packages will be installed:\n  libjq1 libonig4\nThe following NEW packages will be installed:\n  jq libjq1 libonig4\n0 upgraded, 3 newly installed, 0 to remove and 12 not upgraded.\nNeed to get 329 kB of archives.\nAfter this operation, 1158 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libjq1 amd64 1.5+dfsg-1.3 [123 kB]\nGet:2 http://security.debian.org/debian-security stretch/updates/main amd64 libonig4 amd64 6.1.3-2+deb9u2 [147 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 jq amd64 1.5+dfsg-1.3 [58.6 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 329 kB in 0s (1685 kB/s)\nSelecting previously unselected package libonig4:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6366 files and directories currently installed.)\r\nPreparing to unpack .../libonig4_6.1.3-2+deb9u2_amd64.deb ...\r\nUnpacking libonig4:amd64 (6.1.3-2+deb9u2) ...\r\nSelecting previously unselected package libjq1:amd64.\r\nPreparing to unpack .../libjq1_1.5+dfsg-1.3_amd64.deb ...\r\nUnpacking libjq1:amd64 (1.5+dfsg-1.3) ...\r\nSelecting previously unselected package jq.\r\nPreparing to unpack .../jq_1.5+dfsg-1.3_amd64.deb ...\r\nUnpacking jq (1.5+dfsg-1.3) ...\r\nSetting up libonig4:amd64 (6.1.3-2+deb9u2) ...\r\nSetting up libjq1:amd64 (1.5+dfsg-1.3) ...\r\nProcessing triggers for libc-bin (2.24-11+deb9u4) ...\r\nSetting up jq (1.5+dfsg-1.3) ...\r\n\n> sharp@0.20.2 install /bot/node_modules/sharp\n> (node install/libvips && node install/dll-copy && prebuild-install) || (node-gyp rebuild && node install/dll-copy)\n\n\u001b[91minfo\u001b[0m\u001b[91m \u001b[0m\u001b[91msharp\u001b[0m\u001b[91m Downloading https://github.com/lovell/sharp-libvips/releases/download/v8.6.1/libvips-8.6.1-linux-x64.tar.gz\n\u001b[0madded 145 packages from 189 contributors and audited 305 packages in 6.31s\nfound 66 vulnerabilities (4 low, 22 moderate, 31 high, 9 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f0656c6d7855\n ---> 905af6458da4\nStep 8/11 : FROM base\n ---> 905af6458da4\nStep 9/11 : ADD src /bot/src\n ---> 75d05a4ce4a4\nStep 10/11 : ADD start.sh /bot/start.sh\n ---> 78c819ba97ce\nStep 11/11 : CMD [\"sh\", \"start.sh\"]\n ---> Running in 603f8d021d31\nRemoving intermediate container 603f8d021d31\n ---> faaf9f400850\nSuccessfully built faaf9f400850\nSuccessfully tagged vk-tg-bot:latest\n","stderr":"","imageSize":222032319},"endTime":1672532420772}