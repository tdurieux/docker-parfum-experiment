{"repository":"https://github.com/codazoda/nolific","dockerfilePath":"Dockerfile","startTime":1673166600982,"endTime":1673166667196,"clone":{"startTime":1673166600983,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/codazoda/nolific'...\n","error":null,"endTime":1673166602729,"commit":"7250c820afc2adf9bccdfdb9cfe557bb150a4475"},"originalBuild":{"startTime":1673166602791,"endTime":1673166646527,"error":null,"stdout":"Sending build context to Docker daemon  3.149MB\r\r\nStep 1/7 : FROM alpine:latest\nlatest: Pulling from library/alpine\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 2/7 : COPY / /var/www/\n ---> 52e039e13310\nStep 3/7 : COPY files/ /\n ---> 51d3e5398336\nStep 4/7 : RUN apk update &&     apk add php &&     apk add php-sqlite3 &&     apk add apache2 &&     apk add php-apache2\n ---> Running in c2968976bab4\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-347-g4a0616d66c [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\n(1/9) Installing php81-common (8.1.14-r0)\n(2/9) Installing argon2-libs (20190702-r2)\n(3/9) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(4/9) Installing ncurses-libs (6.3_p20221119-r0)\n(5/9) Installing libedit (20221030.3.1-r0)\n(6/9) Installing pcre2 (10.42-r0)\n(7/9) Installing xz-libs (5.2.9-r0)\n(8/9) Installing libxml2 (2.10.3-r1)\n(9/9) Installing php81 (8.1.14-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 18 MiB in 24 packages\n(1/2) Installing sqlite-libs (3.40.1-r0)\n(2/2) Installing php81-sqlite3 (8.1.14-r0)\nOK: 19 MiB in 26 packages\n(1/6) Installing libuuid (2.38.1-r1)\n(2/6) Installing apr (1.7.0-r2)\n(3/6) Installing libexpat (2.5.0-r0)\n(4/6) Installing apr-util (1.6.1-r14)\n(5/6) Installing pcre (8.45-r2)\n(6/6) Installing apache2 (2.4.54-r1)\nExecuting apache2-2.4.54-r1.pre-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 23 MiB in 32 packages\n(1/1) Installing php81-apache2 (8.1.14-r0)\nOK: 28 MiB in 33 packages\nRemoving intermediate container c2968976bab4\n ---> ecfaae5b5c09\nStep 5/7 : ENV NOLIFIC_DATA /data\n ---> Running in 78bc338f63d1\nRemoving intermediate container 78bc338f63d1\n ---> 7c62cf0a45b5\nStep 6/7 : EXPOSE 80\n ---> Running in bd43b81bba2c\nRemoving intermediate container bd43b81bba2c\n ---> 4d6fd397c21c\nStep 7/7 : CMD /usr/sbin/httpd -DFOREGROUND\n ---> Running in c5adf6fe0aad\nRemoving intermediate container c5adf6fe0aad\n ---> 48836f828552\nSuccessfully built 48836f828552\nSuccessfully tagged nolific:latest\n","stderr":"","imageSize":34350657},"repair":{"startTime":1673166646727,"endTime":1673166646954,"violations":[{"name":"apkAddUseNoCache","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"apkAddUseNoCache","position":{"start":10,"end":10,"columnStart":4,"columnEnd":23}},{"name":"apkAddUseNoCache","position":{"start":11,"end":11,"columnStart":4,"columnEnd":19}},{"name":"apkAddUseNoCache","position":{"start":12,"end":12,"columnStart":4,"columnEnd":23}}],"repairedDockerfile":"# Use the alpine base image (small)\nFROM alpine:latest\n\n# Copy just the index file into place\nCOPY / /var/www/\nCOPY files/ /\n\n# Install php\nRUN apk update && \\\n    apk add --no-cache php && \\\n    apk add --no-cache php-sqlite3 && \\\n    apk add --no-cache apache2 && \\\n    apk add --no-cache php-apache2\n\n# Environment variables we want in the container\nENV NOLIFIC_DATA /data\n\n# Ports we want in the container\nEXPOSE 80\n\n# Run the php dev server (cheating)\nCMD /usr/sbin/httpd -DFOREGROUND\n"},"repairedBuild":{"startTime":1673166648019,"endTime":1673166666581,"error":null,"stdout":"Sending build context to Docker daemon  3.149MB\r\r\nStep 1/7 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/7 : COPY / /var/www/\n ---> 4e95d1be088c\nStep 3/7 : COPY files/ /\n ---> 557e636cc026\nStep 4/7 : RUN apk update &&     apk add --no-cache php &&     apk add --no-cache php-sqlite3 &&     apk add --no-cache apache2 &&     apk add --no-cache php-apache2\n ---> Running in f6cfac66aaa3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-347-g4a0616d66c [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/9) Installing php81-common (8.1.14-r0)\n(2/9) Installing argon2-libs (20190702-r2)\n(3/9) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(4/9) Installing ncurses-libs (6.3_p20221119-r0)\n(5/9) Installing libedit (20221030.3.1-r0)\n(6/9) Installing pcre2 (10.42-r0)\n(7/9) Installing xz-libs (5.2.9-r0)\n(8/9) Installing libxml2 (2.10.3-r1)\n(9/9) Installing php81 (8.1.14-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 18 MiB in 24 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/2) Installing sqlite-libs (3.40.1-r0)\n(2/2) Installing php81-sqlite3 (8.1.14-r0)\nOK: 19 MiB in 26 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing libuuid (2.38.1-r1)\n(2/6) Installing apr (1.7.0-r2)\n(3/6) Installing libexpat (2.5.0-r0)\n(4/6) Installing apr-util (1.6.1-r14)\n(5/6) Installing pcre (8.45-r2)\n(6/6) Installing apache2 (2.4.54-r1)\nExecuting apache2-2.4.54-r1.pre-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 23 MiB in 32 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing php81-apache2 (8.1.14-r0)\nOK: 28 MiB in 33 packages\nRemoving intermediate container f6cfac66aaa3\n ---> 9a7e3bf5678a\nStep 5/7 : ENV NOLIFIC_DATA /data\n ---> Running in 3a14cb6b703d\nRemoving intermediate container 3a14cb6b703d\n ---> 966c4fcdcb76\nStep 6/7 : EXPOSE 80\n ---> Running in 54b7b9c20eac\nRemoving intermediate container 54b7b9c20eac\n ---> d8323bcfdf9a\nStep 7/7 : CMD /usr/sbin/httpd -DFOREGROUND\n ---> Running in 7f6ef6bbd907\nRemoving intermediate container 7f6ef6bbd907\n ---> bfd63b7d060d\nSuccessfully built bfd63b7d060d\nSuccessfully tagged nolific:latest\n","stderr":"","imageSize":34350701}}