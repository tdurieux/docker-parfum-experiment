{"repository":"https://github.com/orioledb/orioledb","dockerfilePath":"Dockerfile","startTime":1672688962554,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/orioledb/orioledb'...\n","error":null,"commit":"f8e7a5022be33216f399f2d3d7c4a22534758a00"},"originalBuild":{"startTimestamp":1672688963885,"endTimestamp":1672689008787,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t orioledb:latest -f /tmp/dinghy-analysis/orioledb/orioledb/Dockerfile ."},"stdout":"Sending build context to Docker daemon  24.96MB\r\r\nStep 1/19 : FROM alpine:3.15\n3.15: Pulling from library/alpine\n9621f1afde84: Pulling fs layer\n9621f1afde84: Waiting\n9621f1afde84: Verifying Checksum\n9621f1afde84: Download complete\n9621f1afde84: Pull complete\nDigest: sha256:cf34c62ee8eb3fe8aa24c1fab45d7e9d12768d945c3f5a6fd6a63d901e898479\nStatus: Downloaded newer image for alpine:3.15\n ---> c4fc93816858\nStep 2/19 : ARG PGTAG\n ---> Running in c171bc0100ee\nRemoving intermediate container c171bc0100ee\n ---> db8165a18518\nStep 3/19 : ENV PGTAG $PGTAG\n ---> Running in 0988987c9d45\nRemoving intermediate container 0988987c9d45\n ---> a750266c5dca\nStep 4/19 : RUN set -eux; \taddgroup -g 70 -S postgres; \tadduser -u 70 -S -D -G postgres -H -h /var/lib/postgresql -s /bin/sh postgres; \tmkdir -p /var/lib/postgresql; \tchown -R postgres:postgres /var/lib/postgresql\n ---> Running in 651c7b6e716e\n\u001b[91m+ addgroup -g 70 -S postgres\n\u001b[0m\u001b[91m+ adduser -u 70 -S -D -G postgres -H -h /var/lib/postgresql -s /bin/sh postgres\n\u001b[0m\u001b[91m+ mkdir -p /var/lib/postgresql\n\u001b[0m\u001b[91m+ chown -R postgres:postgres /var/lib/postgresql\n\u001b[0mRemoving intermediate container 651c7b6e716e\n ---> c02d8cd5babb\nStep 5/19 : ENV LANG en_US.utf8\n ---> Running in b0aeefe30817\nRemoving intermediate container b0aeefe30817\n ---> 456fde7f3576\nStep 6/19 : RUN mkdir -p /usr/src/postgresql/contrib/orioledb\n ---> Running in 24d198debcd0\nRemoving intermediate container 24d198debcd0\n ---> 27f3b4f0fd1e\nStep 7/19 : COPY . /usr/src/postgresql/contrib/orioledb\n ---> e88a8910677a\nStep 8/19 : RUN mkdir /docker-entrypoint-initdb.d\n ---> Running in acac3a752176\nRemoving intermediate container acac3a752176\n ---> 745b5649f29a\nStep 9/19 : RUN set -eux; \t\tapk add --no-cache --virtual .build-deps \t\tbison \t\tclang \t\tcoreutils \t\tcurl \t\tdpkg-dev dpkg \t\tflex \t\tgcc \t\tkrb5-dev \t\tlibc-dev \t\tlibedit-dev \t\tlibxml2-dev \t\tlibxslt-dev \t\tlinux-headers \t\tllvm-dev clang g++ \t\tmake \t\topenldap-dev \t\topenssl-dev \t\tperl-utils \t\tperl-ipc-run \t\tperl-dev \t\tpython3 \t\tpython3-dev \t\ttcl-dev \t\tutil-linux-dev \t\tzlib-dev \t\tzstd-dev \t\ticu-dev \t\tlz4-dev \t; \t\tcurl -o postgresql.tar.gz \t\t\t--header \"Accept: application/vnd.github.v3.raw\" \t\t\t--remote-name \t\t\t--location https://github.com/orioledb/postgres/tarball/$PGTAG; \tmkdir -p /usr/src/postgresql; \ttar \t\t--extract \t\t--file postgresql.tar.gz \t\t--directory /usr/src/postgresql \t\t--strip-components 1 \t; \trm postgresql.tar.gz; \t\tcd /usr/src/postgresql; \tawk '$1 == \"#define\" && $2 == \"DEFAULT_PGSOCKET_DIR\" && $3 == \"\\\"/tmp\\\"\" { $3 = \"\\\"/var/run/postgresql\\\"\"; print; next } { print }' src/include/pg_config_manual.h > src/include/pg_config_manual.h.new; \tgrep '/var/run/postgresql' src/include/pg_config_manual.h.new; \tmv src/include/pg_config_manual.h.new src/include/pg_config_manual.h; \tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; \twget -O config/config.guess 'https://git.savannah.gnu.org/cgit/config.git/plain/config.guess?id=7d3d27baf8107b630586c962c057e22149653deb'; \twget -O config/config.sub 'https://git.savannah.gnu.org/cgit/config.git/plain/config.sub?id=7d3d27baf8107b630586c962c057e22149653deb'; \t( CC=clang ./configure \t\t--build=\"$gnuArch\" \t\t--enable-integer-datetimes \t\t--enable-thread-safety \t\t--enable-tap-tests \t\t--disable-rpath \t\t--with-uuid=e2fs \t\t--with-gnu-ld \t\t--with-pgport=5432 \t\t--with-system-tzdata=/usr/share/zoneinfo \t\t--prefix=/usr/local \t\t--with-includes=/usr/local/include \t\t--with-libraries=/usr/local/lib \t\t--with-krb5 \t\t--with-gssapi \t\t--with-ldap \t\t--with-tcl \t\t--with-perl \t\t--with-python \t\t--with-openssl \t\t--with-libxml \t\t--with-libxslt \t\t--with-icu \t\t--with-llvm \t\t--with-lz4 \t|| cat config.log ); \techo \"ORIOLEDB_PATCHSET_VERSION = `echo $PGTAG | cut -d'_' -f2`\" >> src/Makefile.global; \tmake -j \"$(nproc)\"; \tmake -C contrib -j \"$(nproc)\"; \tmake -C contrib/orioledb -j \"$(nproc)\"; \tmake install; \tmake -C contrib install; \tmake -C contrib/orioledb install; \t\trunDeps=\"$( \t\tscanelf --needed --nobanner --format '%n#p' --recursive /usr/local \t\t\t| tr ',' '\\n' \t\t\t| sort -u \t\t\t| awk 'system(\"[ -e /usr/local/lib/\" $1 \" ]\") == 0 { next } { print \"so:\" $1 }' \t\t\t| grep -v -e perl -e python -e tcl \t)\"; \tapk add --no-cache --virtual .postgresql-rundeps \t\t$runDeps \t\tbash \t\tsu-exec \t\ttzdata \t; \tapk del --no-network .build-deps; \tcd /; \trm -rf \t\t/usr/src/postgresql \t\t/usr/local/share/doc \t\t/usr/local/share/man \t; \t\tpostgres --version\n ---> Running in d87ee1a4252c\n\u001b[91m+ apk add --no-cache --virtual .build-deps bison clang coreutils curl dpkg-dev dpkg flex gcc krb5-dev libc-dev libedit-dev libxml2-dev libxslt-dev linux-headers llvm-dev clang g++ make openldap-dev openssl-dev perl-utils perl-ipc-run perl-dev python3\u001b[0m\u001b[91m python3-dev tcl-dev util-linux-dev zlib-dev zstd-dev icu-dev lz4-dev\n\u001b[0mfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/124) Installing m4 (1.4.18-r2)\n(2/124) Installing bison (3.7.6-r0)\n(3/124) Installing libffi (3.4.2-r1)\n(4/124) Installing libgcc (10.3.1_git20211027-r0)\n(5/124) Installing libstdc++ (10.3.1_git20211027-r0)\n(6/124) Installing xz-libs (5.2.5-r1)\n(7/124) Installing libxml2 (2.9.14-r2)\n(8/124) Installing llvm12-libs (12.0.1-r0)\n(9/124) Installing clang-libs (12.0.1-r1)\n(10/124) Installing clang (12.0.1-r1)\n(11/124) Installing libacl (2.2.53-r0)\n(12/124) Installing libattr (2.5.1-r1)\n(13/124) Installing skalibs (2.11.0.0-r0)\n(14/124) Installing s6-ipcserver (2.11.0.0-r0)\n(15/124) Installing utmps (0.1.0.3-r0)\nExecuting utmps-0.1.0.3-r0.pre-install\n(16/124) Installing coreutils (9.0-r2)\n(17/124) Upgrading libcrypto1.1 (1.1.1q-r0 -> 1.1.1s-r1)\n(18/124) Installing ca-certificates (20220614-r0)\n(19/124) Installing brotli-libs (1.0.9-r5)\n(20/124) Installing nghttp2-libs (1.46.0-r0)\n(21/124) Upgrading libssl1.1 (1.1.1q-r0 -> 1.1.1s-r1)\n(22/124) Installing libcurl (7.80.0-r5)\n(23/124) Installing curl (7.80.0-r5)\n(24/124) Installing libbz2 (1.0.8-r1)\n(25/124) Installing perl (5.34.0-r1)\n(26/124) Installing pkgconf (1.8.0-r0)\n(27/124) Installing dpkg-dev (1.20.10-r0)\n(28/124) Installing tar (1.34-r0)\n(29/124) Installing xz (5.2.5-r1)\n(30/124) Installing dpkg (1.20.10-r0)\n(31/124) Installing flex (2.6.4-r2)\n(32/124) Installing binutils (2.37-r3)\n(33/124) Installing libgomp (10.3.1_git20211027-r0)\n(34/124) Installing libatomic (10.3.1_git20211027-r0)\n(35/124) Installing libgphobos (10.3.1_git20211027-r0)\n(36/124) Installing gmp (6.2.1-r1)\n(37/124) Installing isl22 (0.22-r0)\n(38/124) Installing mpfr4 (4.1.0-r0)\n(39/124) Installing mpc1 (1.2.1-r0)\n(40/124) Installing gcc (10.3.1_git20211027-r0)\n(41/124) Installing util-linux (2.37.4-r0)\n(42/124) Installing libblkid (2.37.4-r0)\n(43/124) Installing libeconf (0.4.2-r0)\n(44/124) Installing libuuid (2.37.4-r0)\n(45/124) Installing libfdisk (2.37.4-r0)\n(46/124) Installing libmount (2.37.4-r0)\n(47/124) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(48/124) Installing ncurses-libs (6.3_p20211120-r1)\n(49/124) Installing libsmartcols (2.37.4-r0)\n(50/124) Installing util-linux-misc (2.37.4-r0)\n(51/124) Installing linux-pam (1.5.2-r0)\n(52/124) Installing runuser (2.37.4-r0)\n(53/124) Installing hexdump (2.37.4-r0)\n(54/124) Installing uuidgen (2.37.4-r0)\n(55/124) Installing blkid (2.37.4-r0)\n(56/124) Installing sfdisk (2.37.4-r0)\n(57/124) Installing mcookie (2.37.4-r0)\n(58/124) Installing wipefs (2.37.4-r0)\n(59/124) Installing cfdisk (2.37.4-r0)\n(60/124) Installing flock (2.37.4-r0)\n(61/124) Installing lsblk (2.37.4-r0)\n(62/124) Installing libcap-ng (0.8.2-r1)\n(63/124) Installing setpriv (2.37.4-r0)\n(64/124) Installing logger (2.37.4-r0)\n(65/124) Installing partx (2.37.4-r0)\n(66/124) Installing findmnt (2.37.4-r0)\n(67/124) Installing util-linux-dev (2.37.4-r0)\n(68/124) Installing gawk (5.1.1-r0)\n(69/124) Installing libcom_err (1.46.4-r0)\n(70/124) Installing e2fsprogs-libs (1.46.4-r0)\n(71/124) Installing e2fsprogs-dev (1.46.4-r0)\n(72/124) Installing krb5-conf (1.0-r2)\n(73/124) Installing keyutils-libs (1.6.3-r0)\n(74/124) Installing libverto (0.3.2-r0)\n(75/124) Installing krb5-libs (1.19.4-r0)\n(76/124) Installing gdbm (1.22-r0)\n(77/124) Installing libsasl (2.1.28-r0)\n(78/124) Installing libldap (2.6.2-r0)\n(79/124) Installing krb5-server-ldap (1.19.4-r0)\n(80/124) Installing krb5-dev (1.19.4-r0)\n(81/124) Installing musl-dev (1.2.2-r7)\n(82/124) Installing libc-dev (0.7.2-r3)\n(83/124) Installing ncurses-dev (6.3_p20211120-r1)\n(84/124) Installing libedit (20210910.3.1-r0)\n(85/124) Installing libedit-dev (20210910.3.1-r0)\n(86/124) Installing zlib-dev (1.2.12-r3)\n(87/124) Installing xz-dev (5.2.5-r1)\n(88/124) Installing libxml2-dev (2.9.14-r2)\n(89/124) Installing libgpg-error (1.42-r1)\n(90/124) Installing libgcrypt (1.9.4-r0)\n(91/124) Installing libxslt (1.1.35-r0)\n(92/124) Installing libxslt-dev (1.1.35-r0)\n(93/124) Installing linux-headers (5.10.41-r0)\n(94/124) Installing llvm12 (12.0.1-r0)\n(95/124) Installing llvm12-dev (12.0.1-r0)\n(96/124) Installing g++ (10.3.1_git20211027-r0)\n(97/124) Installing make (4.3-r0)\n(98/124) Installing cyrus-sasl-dev (2.1.28-r0)\n(99/124) Installing expat (2.5.0-r0)\n(100/124) Installing mpdecimal (2.5.1-r1)\n(101/124) Installing readline (8.1.1-r0)\n(102/124) Installing sqlite-libs (3.36.0-r0)\n(103/124) Installing python3 (3.9.16-r0)\n(104/124) Installing libevent (2.1.12-r4)\n(105/124) Installing libevent-dev (2.1.12-r4)\n(106/124) Installing libsodium (1.0.18-r0)\n(107/124) Installing libsodium-dev (1.0.18-r0)\n(108/124) Installing openssl-dev (1.1.1s-r1)\n(109/124) Installing openldap-dev (2.6.2-r0)\n(110/124) Installing perl-utils (5.34.0-r1)\n(111/124) Installing perl-io-tty (1.16-r3)\n(112/124) Installing perl-ipc-run (20200505.0-r1)\n(113/124) Installing perl-dev (5.34.0-r1)\n(114/124) Installing python3-dev (3.9.16-r0)\n(115/124) Installing tcl (8.6.11-r1)\n(116/124) Installing tcl-dev (8.6.11-r1)\n(117/124) Installing zstd-libs (1.5.0-r0)\n(118/124) Installing zstd-dev (1.5.0-r0)\n(119/124) Installing icu-libs (69.1-r1)\n(120/124) Installing icu (69.1-r1)\n(121/124) Installing icu-dev (69.1-r1)\n(122/124) Installing lz4-libs (1.9.3-r1)\n(123/124) Installing lz4-dev (1.9.3-r1)\n(124/124) Installing .build-deps (20230102.194951)\nExecuting busybox-1.34.1-r7.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 711 MiB in 136 packages\n\u001b[91m+ curl -o postgresql.tar.gz --header 'Accept: application/vnd.github.v3.raw' --remote-name --location https://github.com/orioledb/postgres/tarball/\n\u001b[0m\u001b[91m  % Total    % Received % Xferd  \u001b[0m\u001b[91mAverage Speed\u001b[0m\u001b[91m   Tim\u001b[0m\u001b[91me  \u001b[0m\u001b[91m  T\u001b[0m\u001b[91mime     Time  Current\n      \u001b[0m\u001b[91m              \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m   \u001b[0m\u001b[91m    D\u001b[0m\u001b[91mload  U\u001b[0m\u001b[91mplo\u001b[0m\u001b[91mad \u001b[0m\u001b[91m  T\u001b[0m\u001b[91mota\u001b[0m\u001b[91ml  \u001b[0m\u001b[91m Spe\u001b[0m\u001b[91mnt \u001b[0m\u001b[91m   Left  Speed\n\u001b[0m\u001b[91m\r  0   \u001b[0m\u001b[91m  0    0 \u001b[0m\u001b[91m    0 \u001b[0m\u001b[91m   0    \u001b[0m\u001b[91m 0 \u001b[0m\u001b[91m   \u001b[0m\u001b[91m  0   \u001b[0m\u001b[91m   0 --:--:-- -\u001b[0m\u001b[91m-:--:--\u001b[0m\u001b[91m --:--:--   \u001b[0m\u001b[91m  0\u001b[0m\u001b[91m\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\u001b[0m\u001b[91m\r100     9  100     9    0     0     41\u001b[0m\u001b[91m      0 --:--\u001b[0m\u001b[91m:-- --:-\u001b[0m\u001b[91m-:--\u001b[0m\u001b[91m --:--\u001b[0m\u001b[91m:--\u001b[0m\u001b[91m   \u001b[0m\u001b[91m 41\n\u001b[0m\u001b[91m+ mkdir -p /usr/src/postgresql\n\u001b[0m\u001b[91m+ tar --extract --file postgresql.tar.gz --directory /usr/src/postgresql --strip-components 1\n\u001b[0m\u001b[91mtar: This does not look like a tar archive\n\u001b[0m\u001b[91mgzip: invalid magic\n\u001b[0m\u001b[91mtar: Child returned status 1\ntar: Error is not recoverable: exiting now\n\u001b[0mRemoving intermediate container d87ee1a4252c\n","stderr":"The command '/bin/sh -c set -eux; \t\tapk add --no-cache --virtual .build-deps \t\tbison \t\tclang \t\tcoreutils \t\tcurl \t\tdpkg-dev dpkg \t\tflex \t\tgcc \t\tkrb5-dev \t\tlibc-dev \t\tlibedit-dev \t\tlibxml2-dev \t\tlibxslt-dev \t\tlinux-headers \t\tllvm-dev clang g++ \t\tmake \t\topenldap-dev \t\topenssl-dev \t\tperl-utils \t\tperl-ipc-run \t\tperl-dev \t\tpython3 \t\tpython3-dev \t\ttcl-dev \t\tutil-linux-dev \t\tzlib-dev \t\tzstd-dev \t\ticu-dev \t\tlz4-dev \t; \t\tcurl -o postgresql.tar.gz \t\t\t--header \"Accept: application/vnd.github.v3.raw\" \t\t\t--remote-name \t\t\t--location https://github.com/orioledb/postgres/tarball/$PGTAG; \tmkdir -p /usr/src/postgresql; \ttar \t\t--extract \t\t--file postgresql.tar.gz \t\t--directory /usr/src/postgresql \t\t--strip-components 1 \t; \trm postgresql.tar.gz; \t\tcd /usr/src/postgresql; \tawk '$1 == \"#define\" && $2 == \"DEFAULT_PGSOCKET_DIR\" && $3 == \"\\\"/tmp\\\"\" { $3 = \"\\\"/var/run/postgresql\\\"\"; print; next } { print }' src/include/pg_config_manual.h > src/include/pg_config_manual.h.new; \tgrep '/var/run/postgresql' src/include/pg_config_manual.h.new; \tmv src/include/pg_config_manual.h.new src/include/pg_config_manual.h; \tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; \twget -O config/config.guess 'https://git.savannah.gnu.org/cgit/config.git/plain/config.guess?id=7d3d27baf8107b630586c962c057e22149653deb'; \twget -O config/config.sub 'https://git.savannah.gnu.org/cgit/config.git/plain/config.sub?id=7d3d27baf8107b630586c962c057e22149653deb'; \t( CC=clang ./configure \t\t--build=\"$gnuArch\" \t\t--enable-integer-datetimes \t\t--enable-thread-safety \t\t--enable-tap-tests \t\t--disable-rpath \t\t--with-uuid=e2fs \t\t--with-gnu-ld \t\t--with-pgport=5432 \t\t--with-system-tzdata=/usr/share/zoneinfo \t\t--prefix=/usr/local \t\t--with-includes=/usr/local/include \t\t--with-libraries=/usr/local/lib \t\t--with-krb5 \t\t--with-gssapi \t\t--with-ldap \t\t--with-tcl \t\t--with-perl \t\t--with-python \t\t--with-openssl \t\t--with-libxml \t\t--with-libxslt \t\t--with-icu \t\t--with-llvm \t\t--with-lz4 \t|| cat config.log ); \techo \"ORIOLEDB_PATCHSET_VERSION = `echo $PGTAG | cut -d'_' -f2`\" >> src/Makefile.global; \tmake -j \"$(nproc)\"; \tmake -C contrib -j \"$(nproc)\"; \tmake -C contrib/orioledb -j \"$(nproc)\"; \tmake install; \tmake -C contrib install; \tmake -C contrib/orioledb install; \t\trunDeps=\"$( \t\tscanelf --needed --nobanner --format '%n#p' --recursive /usr/local \t\t\t| tr ',' '\\n' \t\t\t| sort -u \t\t\t| awk 'system(\"[ -e /usr/local/lib/\" $1 \" ]\") == 0 { next } { print \"so:\" $1 }' \t\t\t| grep -v -e perl -e python -e tcl \t)\"; \tapk add --no-cache --virtual .postgresql-rundeps \t\t$runDeps \t\tbash \t\tsu-exec \t\ttzdata \t; \tapk del --no-network .build-deps; \tcd /; \trm -rf \t\t/usr/src/postgresql \t\t/usr/local/share/doc \t\t/usr/local/share/man \t; \t\tpostgres --version' returned a non-zero code: 2\n"},"endTime":1672689008870}