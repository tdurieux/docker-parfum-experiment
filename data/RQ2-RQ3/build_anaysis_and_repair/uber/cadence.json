{"repository":"https://github.com/uber/cadence","dockerfilePath":"Dockerfile","startTime":1672908393232,"endTime":1672908482069,"clone":{"startTime":1672908393232,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/uber/cadence'...\n","error":null,"endTime":1672908395538,"commit":"747b58e475bd09513758d0dab30f58ca63c1ad46"},"originalBuild":{"startTime":1672908395622,"endTime":1672908481943,"error":{"code":2,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t cadence:latest -f /tmp/dinghy-analysis/uber/cadence/Dockerfile ."},"stdout":"Sending build context to Docker daemon  34.11MB\r\r\nStep 1/58 : ARG TARGET=server\nStep 2/58 : ARG GOPROXY\nStep 3/58 : FROM golang:1.17.13-alpine3.15 AS builder\n1.17.13-alpine3.15: Pulling from library/golang\nab6db1bc80d0: Pulling fs layer\n485d0e322d2f: Pulling fs layer\n1ba77e793143: Pulling fs layer\nc110c32fa8dc: Pulling fs layer\n32efda097915: Pulling fs layer\n32efda097915: Waiting\n1ba77e793143: Download complete\n485d0e322d2f: Download complete\nab6db1bc80d0: Verifying Checksum\nab6db1bc80d0: Download complete\n32efda097915: Download complete\nab6db1bc80d0: Pull complete\n485d0e322d2f: Pull complete\n1ba77e793143: Pull complete\nc110c32fa8dc: Verifying Checksum\nc110c32fa8dc: Download complete\nc110c32fa8dc: Pull complete\n32efda097915: Pull complete\nDigest: sha256:543b0922baa147b87a568968462a9586e94b588426f51396a2666590cfba327a\nStatus: Downloaded newer image for golang:1.17.13-alpine3.15\n ---> 675faa0f5534\nStep 4/58 : ARG RELEASE_VERSION\n ---> Running in f7af8db00013\nRemoving intermediate container f7af8db00013\n ---> f9251358e9b6\nStep 5/58 : RUN apk add --update --no-cache ca-certificates make git curl mercurial unzip bash\n ---> Running in 7391ced3f739\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/23) Installing ncurses-terminfo-base (6.3_p20211120-r1)\n(2/23) Installing ncurses-libs (6.3_p20211120-r1)\n(3/23) Installing readline (8.1.1-r0)\n(4/23) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(5/23) Installing brotli-libs (1.0.9-r5)\n(6/23) Installing nghttp2-libs (1.46.0-r0)\n(7/23) Installing libcurl (7.80.0-r5)\n(8/23) Installing curl (7.80.0-r5)\n(9/23) Installing expat (2.5.0-r0)\n(10/23) Installing pcre2 (10.40-r0)\n(11/23) Installing git (2.34.5-r0)\n(12/23) Installing make (4.3-r0)\n(13/23) Installing libbz2 (1.0.8-r1)\n(14/23) Installing libffi (3.4.2-r1)\n(15/23) Installing gdbm (1.22-r0)\n(16/23) Installing xz-libs (5.2.5-r1)\n(17/23) Installing libgcc (10.3.1_git20211027-r0)\n(18/23) Installing libstdc++ (10.3.1_git20211027-r0)\n(19/23) Installing mpdecimal (2.5.1-r1)\n(20/23) Installing sqlite-libs (3.36.0-r0)\n(21/23) Installing python3 (3.9.16-r0)\n(22/23) Installing mercurial (5.9.3-r0)\n(23/23) Installing unzip (6.0-r9)\nExecuting busybox-1.34.1-r7.trigger\nOK: 94 MiB in 38 packages\nRemoving intermediate container 7391ced3f739\n ---> 930a8137a536\nStep 6/58 : WORKDIR /cadence\n ---> Running in 2259b1faee18\nRemoving intermediate container 2259b1faee18\n ---> 9c58ebe3be82\nStep 7/58 : ENV GOFLAGS=\"-mod=readonly\"\n ---> Running in 1255f13b4444\nRemoving intermediate container 1255f13b4444\n ---> c82f86a6bfed\nStep 8/58 : COPY go.* ./\n ---> 6c6851cfeab9\nStep 9/58 : RUN go mod download\n ---> Running in b6083f941d7d\nRemoving intermediate container b6083f941d7d\n ---> 0c6a1d0293a9\nStep 10/58 : COPY . .\n ---> 7fe36519eb01\nStep 11/58 : RUN rm -fr .bin .build\n ---> Running in 54368730b8ec\nRemoving intermediate container 54368730b8ec\n ---> f1626c2bd0ca\nStep 12/58 : ENV CADENCE_RELEASE_VERSION=$RELEASE_VERSION\n ---> Running in c84b9281b6e7\nRemoving intermediate container c84b9281b6e7\n ---> 3aba5d3db62f\nStep 13/58 : RUN make .fake-codegen\n ---> Running in a63887e85d97\ntouch .bin/protoc-3.14.0 .build/bin/protoc-gen-gogofast .build/bin/protoc-gen-yarpc-go\ntouch .build/protoc\ntouch .build/bin/thriftrw .build/bin/thriftrw-plugin-yarpc\ntouch .build/thrift\n\u001b[91mMakefile:329: build-tool binaries have been faked, you will need to delete the .build/bin folder if you wish to build real ones\n\u001b[0mtouch .bin/fake-codegen\nRemoving intermediate container a63887e85d97\n ---> a2946d3290e3\nStep 14/58 : RUN CGO_ENABLED=0 make copyright cadence-cassandra-tool cadence-sql-tool cadence cadence-server cadence-bench cadence-canary\n ---> Running in 89bc2d70b453\n.build/bin/copyright\nbuilding revive from internal/tools/go.mod...\n\u001b[91mgo: downloading github.com/mgechev/revive v1.2.2-0.20220724073416-db56db0b6a11\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-colorable v0.1.12\n\u001b[0m\u001b[91mgo: downloading github.com/olekukonko/tablewriter v0.0.5\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20220610221304-9f5ed59c137d\n\u001b[0m\u001b[91mgo: downloading github.com/mgechev/dots v0.0.0-20210922191527-e955255bf517\n\u001b[0m\u001b[91mgo: downloading github.com/chavacava/garif v0.0.0-20220630083739-93517212f375\n\u001b[0m\u001b[91mgo: downloading github.com/mattn/go-runewidth v0.0.9\n\u001b[0mbuilding goimports from internal/tools/go.mod...\n\u001b[91mMakefile:270: *** idls/ submodule must exist, or build will fail.  Run `git submodule update --init` and try again.  Stop.\n\u001b[0mRemoving intermediate container 89bc2d70b453\n","stderr":"The command '/bin/sh -c CGO_ENABLED=0 make copyright cadence-cassandra-tool cadence-sql-tool cadence cadence-server cadence-bench cadence-canary' returned a non-zero code: 2\n"}}