{"repository":"https://github.com/panubo/docker-sshd","dockerfilePath":"Dockerfile","startTime":1672569535313,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/panubo/docker-sshd'...\n","error":null,"commit":"90eeba5761f2da6ae650f9002d8bcd7f524d01fd"},"originalBuild":{"startTimestamp":1672569536071,"endTimestamp":1672569593618,"error":null,"stdout":"Sending build context to Docker daemon  100.9kB\r\r\nStep 1/6 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 2/6 : RUN apk update &&     apk add bash git openssh rsync augeas shadow rssh &&     deluser $(getent passwd 33 | cut -d: -f1) &&     delgroup $(getent group 33 | cut -d: -f1) 2>/dev/null || true &&     mkdir -p ~root/.ssh /etc/authorized_keys && chmod 700 ~root/.ssh/ &&     augtool 'set /files/etc/ssh/sshd_config/AuthorizedKeysFile \".ssh/authorized_keys /etc/authorized_keys/%u\"' &&     echo -e \"Port 22\\n\" >> /etc/ssh/sshd_config &&     cp -a /etc/ssh /etc/ssh.cache &&     rm -rf /var/cache/apk/*\n ---> Running in 549facf8f228\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14961 distinct packages available\n(1/31) Installing xz-libs (5.2.5-r1)\n(2/31) Installing libxml2 (2.9.14-r2)\n(3/31) Installing augeas-libs (1.12.0-r0)\n(4/31) Installing libgcc (10.3.1_git20210424-r2)\n(5/31) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(6/31) Installing ncurses-libs (6.2_p20210612-r1)\n(7/31) Installing readline (8.1.0-r0)\n(8/31) Installing augeas (1.12.0-r0)\n(9/31) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(10/31) Installing ca-certificates (20220614-r0)\n(11/31) Installing brotli-libs (1.0.9-r5)\n(12/31) Installing nghttp2-libs (1.43.0-r0)\n(13/31) Installing libcurl (7.79.1-r4)\n(14/31) Installing expat (2.5.0-r0)\n(15/31) Installing pcre2 (10.36-r1)\n(16/31) Installing git (2.32.4-r0)\n(17/31) Installing openssh-keygen (8.6_p1-r3)\n(18/31) Installing libedit (20210216.3.1-r0)\n(19/31) Installing openssh-client-common (8.6_p1-r3)\n(20/31) Installing openssh-client-default (8.6_p1-r3)\n(21/31) Installing openssh-sftp-server (8.6_p1-r3)\n(22/31) Installing openssh-server-common (8.6_p1-r3)\n(23/31) Installing openssh-server (8.6_p1-r3)\n(24/31) Installing openssh (8.6_p1-r3)\n(25/31) Installing rssh (2.3.4-r2)\nExecuting rssh-2.3.4-r2.post-install\n(26/31) Installing libacl (2.2.53-r0)\n(27/31) Installing popt (1.18-r0)\n(28/31) Installing zstd-libs (1.4.9-r1)\n(29/31) Installing rsync (3.2.5-r0)\n(30/31) Installing linux-pam (1.5.1-r1)\n(31/31) Installing shadow (4.8.1-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 34 MiB in 45 packages\nSaved 1 file(s)\nRemoving intermediate container 549facf8f228\n ---> b727ca0b8faf\nStep 3/6 : EXPOSE 22\n ---> Running in fad53b23f999\nRemoving intermediate container fad53b23f999\n ---> 0690d0520846\nStep 4/6 : COPY entry.sh /entry.sh\n ---> 332f0c1d74ff\nStep 5/6 : ENTRYPOINT [\"/entry.sh\"]\n ---> Running in dbe981743fe7\nRemoving intermediate container dbe981743fe7\n ---> c2cf19899346\nStep 6/6 : CMD [\"/usr/sbin/sshd\", \"-D\", \"-e\", \"-f\", \"/etc/ssh/sshd_config\"]\n ---> Running in 7357a2912ad0\nRemoving intermediate container 7357a2912ad0\n ---> b275bcd0d131\nSuccessfully built b275bcd0d131\nSuccessfully tagged docker-sshd:latest\n","stderr":"","imageSize":33745707},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":53}}],"repairedDockerfile":"FROM alpine:3.14\n\nRUN apk update && \\\n    apk add --no-cache bash git openssh rsync augeas shadow rssh && \\\n    deluser $(getent passwd 33 | cut -d: -f1) && \\\n    delgroup $(getent group 33 | cut -d: -f1) 2>/dev/null || true && \\\n    mkdir -p ~root/.ssh /etc/authorized_keys && chmod 700 ~root/.ssh/ && \\\n    augtool 'set /files/etc/ssh/sshd_config/AuthorizedKeysFile \".ssh/authorized_keys /etc/authorized_keys/%u\"' && \\\n    echo -e \"Port 22\\n\" >> /etc/ssh/sshd_config && \\\n    cp -a /etc/ssh /etc/ssh.cache && \\\n    rm -rf /var/cache/apk/*\n\nEXPOSE 22\n\nCOPY entry.sh /entry.sh\n\nENTRYPOINT [\"/entry.sh\"]\n\nCMD [\"/usr/sbin/sshd\", \"-D\", \"-e\", \"-f\", \"/etc/ssh/sshd_config\"]\n"},"repairedBuild":{"startTimestamp":1672569595317,"endTimestamp":1672569613724,"error":null,"stdout":"Sending build context to Docker daemon  100.9kB\r\r\nStep 1/6 : FROM alpine:3.14\n ---> dd53f409bf0b\nStep 2/6 : RUN apk update &&     apk add --no-cache bash git openssh rsync augeas shadow rssh &&     deluser $(getent passwd 33 | cut -d: -f1) &&     delgroup $(getent group 33 | cut -d: -f1) 2>/dev/null || true &&     mkdir -p ~root/.ssh /etc/authorized_keys && chmod 700 ~root/.ssh/ &&     augtool 'set /files/etc/ssh/sshd_config/AuthorizedKeysFile \".ssh/authorized_keys /etc/authorized_keys/%u\"' &&     echo -e \"Port 22\\n\" >> /etc/ssh/sshd_config &&     cp -a /etc/ssh /etc/ssh.cache &&     rm -rf /var/cache/apk/*\n ---> Running in b0ce90f30e3a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\nv3.14.8-161-g417a1aaf71 [https://dl-cdn.alpinelinux.org/alpine/v3.14/main]\nv3.14.8-160-ga64feecdb9 [https://dl-cdn.alpinelinux.org/alpine/v3.14/community]\nOK: 14961 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz\n(1/31) Installing xz-libs (5.2.5-r1)\n(2/31) Installing libxml2 (2.9.14-r2)\n(3/31) Installing augeas-libs (1.12.0-r0)\n(4/31) Installing libgcc (10.3.1_git20210424-r2)\n(5/31) Installing ncurses-terminfo-base (6.2_p20210612-r1)\n(6/31) Installing ncurses-libs (6.2_p20210612-r1)\n(7/31) Installing readline (8.1.0-r0)\n(8/31) Installing augeas (1.12.0-r0)\n(9/31) Installing bash (5.1.16-r0)\nExecuting bash-5.1.16-r0.post-install\n(10/31) Installing ca-certificates (20220614-r0)\n(11/31) Installing brotli-libs (1.0.9-r5)\n(12/31) Installing nghttp2-libs (1.43.0-r0)\n(13/31) Installing libcurl (7.79.1-r4)\n(14/31) Installing expat (2.5.0-r0)\n(15/31) Installing pcre2 (10.36-r1)\n(16/31) Installing git (2.32.4-r0)\n(17/31) Installing openssh-keygen (8.6_p1-r3)\n(18/31) Installing libedit (20210216.3.1-r0)\n(19/31) Installing openssh-client-common (8.6_p1-r3)\n(20/31) Installing openssh-client-default (8.6_p1-r3)\n(21/31) Installing openssh-sftp-server (8.6_p1-r3)\n(22/31) Installing openssh-server-common (8.6_p1-r3)\n(23/31) Installing openssh-server (8.6_p1-r3)\n(24/31) Installing openssh (8.6_p1-r3)\n(25/31) Installing rssh (2.3.4-r2)\nExecuting rssh-2.3.4-r2.post-install\n(26/31) Installing libacl (2.2.53-r0)\n(27/31) Installing popt (1.18-r0)\n(28/31) Installing zstd-libs (1.4.9-r1)\n(29/31) Installing rsync (3.2.5-r0)\n(30/31) Installing linux-pam (1.5.1-r1)\n(31/31) Installing shadow (4.8.1-r0)\nExecuting busybox-1.33.1-r8.trigger\nExecuting ca-certificates-20220614-r0.trigger\nOK: 34 MiB in 45 packages\nSaved 1 file(s)\nRemoving intermediate container b0ce90f30e3a\n ---> a7fed0054c9b\nStep 3/6 : EXPOSE 22\n ---> Running in a8bc7f95368e\nRemoving intermediate container a8bc7f95368e\n ---> b28cf25463be\nStep 4/6 : COPY entry.sh /entry.sh\n ---> f07654bc468b\nStep 5/6 : ENTRYPOINT [\"/entry.sh\"]\n ---> Running in 291f54c00b18\nRemoving intermediate container 291f54c00b18\n ---> ac481a30c65b\nStep 6/6 : CMD [\"/usr/sbin/sshd\", \"-D\", \"-e\", \"-f\", \"/etc/ssh/sshd_config\"]\n ---> Running in e1e6e3152776\nRemoving intermediate container e1e6e3152776\n ---> aaddcbb58523\nSuccessfully built aaddcbb58523\nSuccessfully tagged docker-sshd:latest\n","stderr":"","imageSize":33745707},"endTime":1672569614016}