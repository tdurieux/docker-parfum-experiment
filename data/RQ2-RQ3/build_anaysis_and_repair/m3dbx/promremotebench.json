{"repository":"https://github.com/m3dbx/promremotebench","dockerfilePath":"Dockerfile","startTime":1672901341964,"endTime":1672901426415,"clone":{"startTime":1672901341965,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/m3dbx/promremotebench'...\n","error":null,"endTime":1672901342768,"commit":"947144bb5472ae5b89e65ebbc419d90da9e5c89b"},"originalBuild":{"startTime":1672901342864,"endTime":1672901391296,"error":null,"stdout":"Sending build context to Docker daemon    318kB\r\r\nStep 1/13 : FROM golang:1.19-alpine AS builder\n1.19-alpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\n3c6f08178a17: Verifying Checksum\n3c6f08178a17: Download complete\n019cfb932eb0: Pull complete\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:1.19-alpine\n ---> cae57157ceaa\nStep 2/13 : LABEL maintainer=\"The M3DB Authors <m3db@googlegroups.com>\"\n ---> Running in 60f50079f4fc\nRemoving intermediate container 60f50079f4fc\n ---> 870e3c931ae6\nStep 3/13 : RUN apk add --update git\n ---> Running in 056173bdd84a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\nRemoving intermediate container 056173bdd84a\n ---> d1f3dcb49ccd\nStep 4/13 : RUN mkdir -p /src\n ---> Running in ad1c3385809c\nRemoving intermediate container ad1c3385809c\n ---> 5e55be7b3fea\nStep 5/13 : ADD ./src /src\n ---> 82927b0fd109\nStep 6/13 : RUN cd /src && go build ./cmd/promremotebench\n ---> Running in ae668c7b470c\n\u001b[91mgo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/m3 v0.11.0\ngo: downloading github.com/prometheus/prometheus v0.40.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\ngo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.4\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/uber-go/tally v3.4.2+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\ngo: downloading go.uber.org/zap v1.21.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/influxdata/influxdb-comparisons v0.0.0-20190823094654-be58a32f1c25\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.1.0\ngo: downloading golang.org/x/net v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mwitkow/go-conntrack v0.0.0-20190716064945-2f068394615f\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/jpillora/backoff v1.0.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.10.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/multierr v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.2-0.20181231171920-c182affec369\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/twmb/murmur3 v1.1.6\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/prometheus_client_golang v0.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/google/flatbuffers v1.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.4\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/prometheus_common v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/prometheus_client_model v0.1.0\ngo: downloading github.com/m3db/prometheus_procfs v0.8.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/grafana/regexp v0.0.0-20221005093135-b4c2bcb0a4b6\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/log v0.2.1\ngo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading go.opentelemetry.io/otel v1.11.1\n\u001b[0m\u001b[91mgo: downloading go.opentelemetry.io/otel/trace v1.11.1\n\u001b[0m\u001b[91mgo: downloading github.com/dennwc/varint v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\ngo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/exp v0.0.0-20221031165847-c99f073a8326\n\u001b[0m\u001b[91mgo: downloading go.uber.org/goleak v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/logr v1.2.3\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/stdr v1.2.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/validator.v2 v2.0.0-20191107172027-c3144fdedc21\n\u001b[0m\u001b[91mgo: downloading github.com/MichaelTJones/pcg v0.0.0-20180122055547-df440c6ed7ed\n\u001b[0m\u001b[91mgo: downloading github.com/opentracing/opentracing-go v1.2.0\n\u001b[0mRemoving intermediate container ae668c7b470c\n ---> 91e16861f93b\nStep 7/13 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/13 : LABEL maintainer=\"The M3DB Authors <m3db@googlegroups.com>\"\n ---> Running in 4314a9b97a27\nRemoving intermediate container 4314a9b97a27\n ---> aaea94fe05f1\nStep 9/13 : COPY --from=builder /src/promremotebench /bin/\n ---> 3ac4613b46ef\nStep 10/13 : COPY --from=builder /src/config/promremotebench.yml /etc/promremotebench/promremotebench.yml\n ---> 720edc0b2bd2\nStep 11/13 : RUN apk add -U --no-cache ca-certificates\n ---> Running in 745807a3626c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 745807a3626c\n ---> dbd115026bd8\nStep 12/13 : ENTRYPOINT [ \"/bin/promremotebench\" ]\n ---> Running in 3ced520042d8\nRemoving intermediate container 3ced520042d8\n ---> 8f21e72917e9\nStep 13/13 : CMD [ \"-config\", \"/etc/promremotebench/promremotebench.yml\" ]\n ---> Running in e412e2b8425c\nRemoving intermediate container e412e2b8425c\n ---> 523751277042\nSuccessfully built 523751277042\nSuccessfully tagged promremotebench:latest\n","stderr":"","imageSize":28683708},"repair":{"startTime":1672901391368,"endTime":1672901391419,"violations":[{"name":"apkAddUseNoCache","position":{"start":5,"end":5,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"# stage 1: build\nFROM golang:1.19-alpine AS builder\nLABEL maintainer=\"The M3DB Authors <m3db@googlegroups.com>\"\n\n# Install git\nRUN apk add --no-cache --update git\n\n# Add source code\nRUN mkdir -p /src\nADD ./src /src\n\n# Build binary\nRUN cd /src && go build ./cmd/promremotebench\n\n# stage 2: lightweight \"release\"\nFROM alpine:latest\nLABEL maintainer=\"The M3DB Authors <m3db@googlegroups.com>\"\n\nCOPY --from=builder /src/promremotebench /bin/\nCOPY --from=builder /src/config/promremotebench.yml /etc/promremotebench/promremotebench.yml\n\nRUN apk add -U --no-cache ca-certificates\n\nENTRYPOINT [ \"/bin/promremotebench\" ]\nCMD [ \"-config\", \"/etc/promremotebench/promremotebench.yml\" ]\n"},"repairedBuild":{"startTime":1672901391589,"endTime":1672901426162,"error":null,"stdout":"Sending build context to Docker daemon    318kB\r\r\nStep 1/13 : FROM golang:1.19-alpine AS builder\n ---> cae57157ceaa\nStep 2/13 : LABEL maintainer=\"The M3DB Authors <m3db@googlegroups.com>\"\n ---> Running in 4e1396b74e3c\nRemoving intermediate container 4e1396b74e3c\n ---> 80db8eda0fbd\nStep 3/13 : RUN apk add --no-cache --update git\n ---> Running in fc9374bd6368\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing brotli-libs (1.0.9-r9)\n(2/6) Installing nghttp2-libs (1.51.0-r0)\n(3/6) Installing libcurl (7.87.0-r0)\n(4/6) Installing libexpat (2.5.0-r0)\n(5/6) Installing pcre2 (10.42-r0)\n(6/6) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 22 packages\nRemoving intermediate container fc9374bd6368\n ---> 5870e65ac6b8\nStep 4/13 : RUN mkdir -p /src\n ---> Running in ea0f997d990b\nRemoving intermediate container ea0f997d990b\n ---> f3f467fbe01d\nStep 5/13 : ADD ./src /src\n ---> 0c9936c8f894\nStep 6/13 : RUN cd /src && go build ./cmd/promremotebench\n ---> Running in 6568ff41360e\n\u001b[91mgo: downloading github.com/m3db/m3 v0.11.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.14.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\ngo: downloading github.com/uber-go/tally v3.4.2+incompatible\ngo: downloading github.com/prometheus/prometheus v0.40.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/snappy v0.0.4\ngo: downloading github.com/prometheus/common v0.37.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/zap v1.21.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/influxdata/influxdb-comparisons v0.0.0-20190823094654-be58a32f1c25\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash v1.1.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.28.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/oauth2 v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/mwitkow/go-conntrack v0.0.0-20190716064945-2f068394615f\ngo: downloading golang.org/x/net v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/prometheus_client_golang v0.8.1\n\u001b[0m\u001b[91mgo: downloading go.uber.org/atomic v1.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/twmb/murmur3 v1.1.6\n\u001b[0m\u001b[91mgo: downloading github.com/jpillora/backoff v1.0.0\n\u001b[0m\u001b[91mgo: downloading go.uber.org/multierr v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.2\ngo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.2-0.20181231171920-c182affec369\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/prometheus_common v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/m3db/prometheus_procfs v0.8.1\ngo: downloading github.com/m3db/prometheus_client_model v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.4\ngo: downloading github.com/google/flatbuffers v1.11.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.1.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/grafana/regexp v0.0.0-20221005093135-b4c2bcb0a4b6\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0m\u001b[91mgo: downloading go.opentelemetry.io/otel/trace v1.11.1\ngo: downloading go.opentelemetry.io/otel v1.11.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/exp v0.0.0-20221031165847-c99f073a8326\ngo: downloading github.com/go-kit/log v0.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/stretchr/testify v1.8.1\n\u001b[0m\u001b[91mgo: downloading go.uber.org/goleak v1.2.0\ngo: downloading github.com/dennwc/varint v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.1\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\ngo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/logr v1.2.3\n\u001b[0m\u001b[91mgo: downloading github.com/go-logr/stdr v1.2.2\n\u001b[0m\u001b[91mgo: downloading gopkg.in/validator.v2 v2.0.0-20191107172027-c3144fdedc21\n\u001b[0m\u001b[91mgo: downloading github.com/MichaelTJones/pcg v0.0.0-20180122055547-df440c6ed7ed\n\u001b[0m\u001b[91mgo: downloading github.com/opentracing/opentracing-go v1.2.0\n\u001b[0mRemoving intermediate container 6568ff41360e\n ---> 6b994b99f4e8\nStep 7/13 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/13 : LABEL maintainer=\"The M3DB Authors <m3db@googlegroups.com>\"\n ---> Running in be1e4d1bcdcb\nRemoving intermediate container be1e4d1bcdcb\n ---> 903da82548bc\nStep 9/13 : COPY --from=builder /src/promremotebench /bin/\n ---> 54c605f8a378\nStep 10/13 : COPY --from=builder /src/config/promremotebench.yml /etc/promremotebench/promremotebench.yml\n ---> 8cee5ea4566d\nStep 11/13 : RUN apk add -U --no-cache ca-certificates\n ---> Running in 967262667d36\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 967262667d36\n ---> 0716b7028548\nStep 12/13 : ENTRYPOINT [ \"/bin/promremotebench\" ]\n ---> Running in 1f26b248cba0\nRemoving intermediate container 1f26b248cba0\n ---> 0163e9cb2dd0\nStep 13/13 : CMD [ \"-config\", \"/etc/promremotebench/promremotebench.yml\" ]\n ---> Running in ab9ee185e6c2\nRemoving intermediate container ab9ee185e6c2\n ---> 7a57795d8796\nSuccessfully built 7a57795d8796\nSuccessfully tagged promremotebench:latest\n","stderr":"","imageSize":28683708}}