{"repository":"https://github.com/bleenco/abstruse","dockerfilePath":"Dockerfile","startTime":1672072937159,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/bleenco/abstruse'...\n","error":null,"commit":"2c3e103cb4ffe1565a945a8ba49b91b9d4054315"},"originalBuild":{"startTimestamp":1672072938759,"endTimestamp":1672073352973,"error":null,"stdout":"Sending build context to Docker daemon  3.736MB\r\r\nStep 1/19 : FROM node:14-alpine as ui\n14-alpine: Pulling from library/node\nc158987b0551: Already exists\n859c8d0e9faf: Pulling fs layer\n69c317f5cbe1: Pulling fs layer\nd0c4a6a4173f: Pulling fs layer\nd0c4a6a4173f: Verifying Checksum\nd0c4a6a4173f: Download complete\n69c317f5cbe1: Verifying Checksum\n69c317f5cbe1: Download complete\n859c8d0e9faf: Verifying Checksum\n859c8d0e9faf: Download complete\n859c8d0e9faf: Pull complete\n69c317f5cbe1: Pull complete\nd0c4a6a4173f: Pull complete\nDigest: sha256:80e825b1f5ab859498a2f0f98f8197131a562906e5f8c95977057502e68ca05a\nStatus: Downloaded newer image for node:14-alpine\n ---> fb7170aa2b9b\nStep 2/19 : COPY ./web/abstruse ./app/ui\n ---> a0e24fde182e\nStep 3/19 : WORKDIR /app/ui\n ---> Running in efce3cd1699f\nRemoving intermediate container efce3cd1699f\n ---> 02bc08669598\nStep 4/19 : RUN npm install && npm run build\n ---> Running in 56c3b03f28f5\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> core-js@3.15.1 postinstall /app/ui/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> @angular/cli@12.1.1 postinstall /app/ui/node_modules/@angular/cli\n> node ./bin/postinstall/script.js\n\n\n> @fortawesome/fontawesome-free@5.15.3 postinstall /app/ui/node_modules/@fortawesome/fontawesome-free\n> node attribution.js\n\nFont Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com\nLicense - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1547 packages from 1318 contributors and audited 1556 packages in 43.614s\n\n89 packages are looking for funding\n  run `npm fund` for details\n\nfound 154 vulnerabilities (11 low, 35 moderate, 87 high, 21 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> abstruse@2.1.0 prebuild /app/ui\n> mkdir -p ./dist\n\n\n> abstruse@2.1.0 build /app/ui\n> NG_PERSISTENT_BUILD_CACHE=1 ng build --configuration production --output-path ./dist\n\n\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91mCompiling @angular/core : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-uploader : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @ngneat/until-destroy : module as esm2015\n\u001b[0m\u001b[91mCompiling @angular/forms : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser-dynamic : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/router : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common/http : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-cookie-service : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-graph : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/service-worker : es2015 as esm2015\n\u001b[0m\u001b[91mDEPRECATION \u001b[0m\u001b[91mWARNING: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div(20em, 16)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n   ╷\n12 │ $fa-fw-width:          (20em / 16);\n   │                         ^^^^^^^^^\n   ╵\n    node_modules/@fortawesome/fontawesome-free/scss/_variables.scss 12:25  @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 5:9   @import\n    src/styles/app.sass 8:9                                                root stylesheet\n\nDEPRECATION \u001b[0m\u001b[91mWARNING: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div(4em, 3)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n  ╷\n6 │   font-size: (4em / 3);\n  │               ^^^^^^^\n  ╵\n    node_modules/@fortawesome/fontawesome-free/scss/_larger.scss 6:15     @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 8:9  @import\n    src/styles/app.sass 8:9                                               root stylesheet\n\n\u001b[0m\u001b[91mDEPRECATION \u001b[0m\u001b[91mWARNING\u001b[0m\u001b[91m: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div(3em, 4)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n  ╷\n7 │   line-height: (3em / 4);\n  │                 ^^^^^^^\n  ╵\n\u001b[0m\u001b[91m    node_modules/@fortawesome/fontawesome-free/scss/_larger.scss 7:17     @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 8:9  @import\n    src/styles/app.sass 8:9                                               root stylesheet\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91mDEPRECATION \u001b[0m\u001b[91mWARNING: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div($fa-li-width * 5, 4)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n  ╷\n6 │   margin-left: $fa-li-width * 5/4;\n  │                ^^^^^^^^^^^^^^^^^^\n  ╵\n    node_modules/@fortawesome/fontawesome-free/scss/_list.scss 6:16        @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 10:9  @import\n    src/styles/app.sass 8:9                                                root stylesheet\n\u001b[0m\u001b[91m\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m✔ Index html generation complete.\n- Generating service worker...\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Service worker generation complete.\n\u001b[0m\nInitial Chunk Files               | Names         |      Size\nmain.9c6226669c9f436ba23e.js      | main          | 745.54 kB\npolyfills.28b17f73e4e9fbd64c04.js | polyfills     |  44.15 kB\nstyles.2a8b7b564448cd9b752b.css   | styles        |  37.09 kB\nruntime.c9ef79cbb4a26aa652d5.js   | runtime       |   2.92 kB\n\n| Initial Total | 829.70 kB\n\nLazy Chunk Files                  | Names         |      Size\n101.e6a3941cf84e02582ddc.js       | -             | 104.43 kB\n889.14b9e06f0645f39bd6ca.js       | -             |  54.11 kB\n436.1ad5148ac86824a4607e.js       | -             |  49.43 kB\n635.b3e5abe88536c00c7b37.js       | -             |  18.08 kB\n166.03c17ec6227b29154e9e.js       | -             |  17.55 kB\n530.3228e5044d54d501ea37.js       | -             |  16.75 kB\ncommon.e9314adf3dbc2038229f.js    | common        |  15.97 kB\n375.783585ca7d71562ad8ae.js       | -             |  11.72 kB\n958.17555ebfc19687499e86.js       | -             |   6.54 kB\n181.829e8f89dae5bb5d8c60.js       | -             |   3.99 kB\n\nBuild at: 2022-12-26T16:44:14.153Z - Hash: 70787e97f1d21f980a5d - Time: 55914ms\nRemoving intermediate container 56c3b03f28f5\n ---> 57352fe62c55\nStep 5/19 : FROM golang:1.16-alpine as build\n ---> 7642119cd161\nStep 6/19 : ARG GIT_COMMIT=\"\"\n ---> Running in 942a03385762\nRemoving intermediate container 942a03385762\n ---> 617ba61aaa3c\nStep 7/19 : ENV GIT_COMMIT=$GIT_COMMIT\n ---> Running in 051f3f81d24e\nRemoving intermediate container 051f3f81d24e\n ---> 708d814cc844\nStep 8/19 : WORKDIR /app\n ---> Running in b76d4c347b17\nRemoving intermediate container b76d4c347b17\n ---> e8a30abe3cda\nStep 9/19 : RUN apk --no-cache add git make protobuf protobuf-dev ca-certificates alpine-sdk\n ---> Running in 18403977faab\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/45) Installing fakeroot (1.25.3-r3)\n(2/45) Installing openssl (1.1.1s-r1)\n(3/45) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(4/45) Installing libattr (2.5.1-r1)\n(5/45) Installing attr (2.5.1-r1)\n(6/45) Installing libacl (2.2.53-r0)\n(7/45) Installing tar (1.34-r0)\n(8/45) Installing pkgconf (1.8.0-r0)\n(9/45) Installing patch (2.7.6-r7)\n(10/45) Installing libgcc (10.3.1_git20211027-r0)\n(11/45) Installing libstdc++ (10.3.1_git20211027-r0)\n(12/45) Installing lzip (1.22-r1)\n(13/45) Installing brotli-libs (1.0.9-r5)\n(14/45) Installing nghttp2-libs (1.46.0-r0)\n(15/45) Installing libcurl (7.80.0-r5)\n(16/45) Installing curl (7.80.0-r5)\n(17/45) Installing abuild (3.9.0-r0)\nExecuting abuild-3.9.0-r0.pre-install\n(18/45) Installing binutils (2.37-r3)\n(19/45) Installing libmagic (5.41-r0)\n(20/45) Installing file (5.41-r0)\n(21/45) Installing libgomp (10.3.1_git20211027-r0)\n(22/45) Installing libatomic (10.3.1_git20211027-r0)\n(23/45) Installing libgphobos (10.3.1_git20211027-r0)\n(24/45) Installing gmp (6.2.1-r1)\n(25/45) Installing isl22 (0.22-r0)\n(26/45) Installing mpfr4 (4.1.0-r0)\n(27/45) Installing mpc1 (1.2.1-r0)\n(28/45) Installing gcc (10.3.1_git20211027-r0)\n(29/45) Installing musl-dev (1.2.2-r7)\n(30/45) Installing libc-dev (0.7.2-r3)\n(31/45) Installing g++ (10.3.1_git20211027-r0)\n(32/45) Installing make (4.3-r0)\n(33/45) Installing fortify-headers (1.1-r1)\n(34/45) Installing build-base (0.5-r3)\n(35/45) Installing expat (2.5.0-r0)\n(36/45) Installing pcre2 (10.40-r0)\n(37/45) Installing git (2.34.5-r0)\n(38/45) Installing alpine-sdk (1.0-r1)\n(39/45) Installing libprotobuf (3.18.1-r1)\n(40/45) Installing libprotoc (3.18.1-r1)\n(41/45) Installing protoc (3.18.1-r1)\n(42/45) Installing libprotobuf-lite (3.18.1-r1)\n(43/45) Installing protobuf (3.18.1-r1)\n(44/45) Installing zlib-dev (1.2.12-r3)\n(45/45) Installing protobuf-dev (3.18.1-r1)\nExecuting busybox-1.34.1-r3.trigger\nOK: 233 MiB in 59 packages\nRemoving intermediate container 18403977faab\n ---> bba36c649fb2\nStep 10/19 : COPY --from=ui /app/ui/dist /app/web/abstruse/dist\n ---> 1172b6b31c8d\nStep 11/19 : COPY . /app/\n ---> cc6b66f83ea7\nStep 12/19 : RUN go get github.com/jkuri/statik github.com/golang/protobuf/protoc-gen-go github.com/google/wire/...\n ---> Running in 9f1580ad14f6\n\u001b[91mgo: downloading github.com/jkuri/statik v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/wire v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.26.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/tools v0.0.0-20210106214847-113979e3529a\ngo: downloading github.com/google/subcommands v1.0.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.3.0\n\u001b[0m\u001b[91mgo get: upgraded github.com/golang/protobuf v1.4.3 => v1.5.2\ngo get: upgraded github.com/google/wire v0.4.0 => v0.5.0\ngo get: upgraded google.golang.org/protobuf v1.25.0 => v1.26.0\n\u001b[0mRemoving intermediate container 9f1580ad14f6\n ---> 3bb01726d499\nStep 13/19 : RUN make protoc && make statik && make wire && make server\n ---> Running in db09a844570b\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mwire: github.com/bleenco/abstruse/server/cmd: wrote /app/server/cmd/wire_gen.go\nwire: github.com/bleenco/abstruse/worker/cmd: wrote /app/worker/cmd/wire_gen.go\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91m# github.com/mattn/go-sqlite3\nsqlite3-binding.c: In function 'sqlite3SelectNew':\nsqlite3-binding.c:129019:10: warning: function may return address of local variable [-Wreturn-local-addr]\n129019 |   return pNew;\n       |          ^~~~\nsqlite3-binding.c:128979:10: note: declared here\n128979 |   Select standin;\n       |          ^~~~~~~\n\u001b[0mRemoving intermediate container db09a844570b\n ---> 08c2ebb5951c\nStep 14/19 : FROM alpine:latest\n ---> 49176f190c7e\nStep 15/19 : LABEL maintainer=\"Jan Kuri <jkuri88@gmail.com>\"   org.label-schema.schema-version=\"1.0\"   org.label-schema.name=\"abstruse-server\"   org.label-schema.description=\"Distributed Continuous Intergration Platform\"   org.label-schema.url=\"https://ci.abstruse.cc/\"   org.label-schema.vcs-url=\"https://github.com/bleenco/abstruse\"   org.label-schema.vendor=\"abstruse\"\n ---> Running in d0c587eb670c\nRemoving intermediate container d0c587eb670c\n ---> c13ac221cb72\nStep 16/19 : COPY --from=build /etc/ssl/certs /etc/ssl/certs\n ---> 55b479f006be\nStep 17/19 : COPY --from=build /app/build/abstruse-server /usr/bin/abstruse-server\n ---> 04dc53391927\nStep 18/19 : ENTRYPOINT [ \"/usr/bin/abstruse-server\" ]\n ---> Running in fb2a0cd98f7a\nRemoving intermediate container fb2a0cd98f7a\n ---> 001ea72071ce\nStep 19/19 : EXPOSE 80\n ---> Running in bca388e136eb\nRemoving intermediate container bca388e136eb\n ---> 6b79ec6804cb\nSuccessfully built 6b79ec6804cb\nSuccessfully tagged abstruse:latest\n","stderr":"","imageSize":52951600},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":7,"end":7,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"# stage 1 ui\nFROM node:14-alpine as ui\n\nCOPY ./web/abstruse ./app/ui\n\nWORKDIR /app/ui\n\nRUN npm install && npm run build\n\n# stage 2 build\nFROM golang:1.16-alpine as build\n\nARG GIT_COMMIT=\"\"\nENV GIT_COMMIT=$GIT_COMMIT\n\nWORKDIR /app\n\nRUN apk --no-cache add git make protobuf protobuf-dev ca-certificates alpine-sdk\n\nCOPY --from=ui /app/ui/dist /app/web/abstruse/dist\n\nCOPY . /app/\n\nRUN go get github.com/jkuri/statik github.com/golang/protobuf/protoc-gen-go github.com/google/wire/...\n\nRUN make protoc && make statik && make wire && make server\n\n# stage 3 image\nFROM alpine:latest\n\nLABEL maintainer=\"Jan Kuri <jkuri88@gmail.com>\" \\\n  org.label-schema.schema-version=\"1.0\" \\\n  org.label-schema.name=\"abstruse-server\" \\\n  org.label-schema.description=\"Distributed Continuous Intergration Platform\" \\\n  org.label-schema.url=\"https://ci.abstruse.cc/\" \\\n  org.label-schema.vcs-url=\"https://github.com/bleenco/abstruse\" \\\n  org.label-schema.vendor=\"abstruse\"\n\nCOPY --from=build /etc/ssl/certs /etc/ssl/certs\nCOPY --from=build /app/build/abstruse-server /usr/bin/abstruse-server\n\nENTRYPOINT [ \"/usr/bin/abstruse-server\" ]\n\nEXPOSE 80\n"},"repairedBuild":{"startTimestamp":1672073354009,"endTimestamp":1672073695787,"error":null,"stdout":"Sending build context to Docker daemon  3.736MB\r\r\nStep 1/19 : FROM node:14-alpine as ui\n ---> fb7170aa2b9b\nStep 2/19 : COPY ./web/abstruse ./app/ui\n ---> 9dd6356f198e\nStep 3/19 : WORKDIR /app/ui\n ---> Running in 42a46c816b3c\nRemoving intermediate container 42a46c816b3c\n ---> 2a88f0dbea7b\nStep 4/19 : RUN npm install && npm run build\n ---> Running in 8051edaaf500\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> core-js@3.15.1 postinstall /app/ui/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> @angular/cli@12.1.1 postinstall /app/ui/node_modules/@angular/cli\n> node ./bin/postinstall/script.js\n\n\n> @fortawesome/fontawesome-free@5.15.3 postinstall /app/ui/node_modules/@fortawesome/fontawesome-free\n> node attribution.js\n\nFont Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com\nLicense - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1547 packages from 1318 contributors and audited 1556 packages in 49.747s\n\n89 packages are looking for funding\n  run `npm fund` for details\n\nfound 154 vulnerabilities (11 low, 35 moderate, 87 high, 21 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\n> abstruse@2.1.0 prebuild /app/ui\n> mkdir -p ./dist\n\n\n> abstruse@2.1.0 build /app/ui\n> NG_PERSISTENT_BUILD_CACHE=1 ng build --configuration production --output-path ./dist\n\n\u001b[91m- Generating browser application bundles (phase: setup)...\n\u001b[0m\u001b[91mCompiling @angular/core : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-uploader : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @ngneat/until-destroy : module as esm2015\n\u001b[0m\u001b[91mCompiling @angular/forms : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/platform-browser-dynamic : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/router : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/common/http : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-cookie-service : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling ngx-graph : es2015 as esm2015\n\u001b[0m\u001b[91mCompiling @angular/service-worker : es2015 as esm2015\n\u001b[0m\u001b[91mDEPRECATION \u001b[0m\u001b[91mWARNING: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div(20em, 16)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n   ╷\n12 │ $fa-fw-width:          (20em / 16);\n   │                         ^^^^^^^^^\n   ╵\n    node_modules/@fortawesome/fontawesome-free/scss/_variables.scss 12:25  @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 5:9   @import\n    src/styles/app.sass 8:9                                                root stylesheet\n\nDEPRECATION WARNING\u001b[0m\u001b[91m: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div(4em, 3)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n  ╷\n6 │   font-size: (4em / 3);\n  │               ^^^^^^^\n  ╵\n\u001b[0m\u001b[91m    node_modules/@fortawesome/fontawesome-free/scss/_larger.scss 6:15     @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 8:9  @import\n    src/styles/app.sass 8:9                                               root stylesheet\n\nDEPRECATION WARNING\u001b[0m\u001b[91m: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div(3em, 4)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n  ╷\n7 │   line-height: (3em / 4);\n  │                 ^^^^^^^\n  ╵\n    node_modules/@fortawesome/fontawesome-free/scss/_larger.scss 7:17     @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 8:9  @import\n    src/styles/app.sass 8:9                                               root stylesheet\n\nDEPRECATION WARNING: Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\n\nRecommendation: math.div($fa-li-width * 5, 4)\n\nMore info and automated migrator: https://sass-lang.com/d/slash-div\n\n  ╷\n6 │   margin-left: $fa-li-width * 5/4;\n  │                ^^^^^^^^^^^^^^^^^^\n  ╵\n    node_modules/@fortawesome/fontawesome-free/scss/_list.scss 6:16        @import\n    node_modules/@fortawesome/fontawesome-free/scss/fontawesome.scss 10:9  @import\n    src/styles/app.sass 8:9                                                root stylesheet\n\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m- Copying assets...\n\u001b[0m\u001b[91m✔ Copying assets complete.\n\u001b[0m\u001b[91m- Generating index html...\n\u001b[0m\u001b[91m✔ Index html generation complete.\n- Generating service worker...\n\u001b[0m\u001b[91m✔ Browser application bundle generation complete.\n\u001b[0m\u001b[91m✔ Service worker generation complete.\n\u001b[0m\nInitial Chunk Files               | Names         |      Size\nmain.9c6226669c9f436ba23e.js      | main          | 745.54 kB\npolyfills.28b17f73e4e9fbd64c04.js | polyfills     |  44.15 kB\nstyles.2a8b7b564448cd9b752b.css   | styles        |  37.09 kB\nruntime.c9ef79cbb4a26aa652d5.js   | runtime       |   2.92 kB\n\n| Initial Total | 829.70 kB\n\nLazy Chunk Files                  | Names         |      Size\n101.e6a3941cf84e02582ddc.js       | -             | 104.43 kB\n889.14b9e06f0645f39bd6ca.js       | -             |  54.11 kB\n436.1ad5148ac86824a4607e.js       | -             |  49.43 kB\n635.b3e5abe88536c00c7b37.js       | -             |  18.08 kB\n166.03c17ec6227b29154e9e.js       | -             |  17.55 kB\n530.3228e5044d54d501ea37.js       | -             |  16.75 kB\ncommon.e9314adf3dbc2038229f.js    | common        |  15.97 kB\n375.783585ca7d71562ad8ae.js       | -             |  11.72 kB\n958.17555ebfc19687499e86.js       | -             |   6.54 kB\n181.829e8f89dae5bb5d8c60.js       | -             |   3.99 kB\n\nBuild at: 2022-12-26T16:51:17.561Z - Hash: 70787e97f1d21f980a5d - Time: 55403ms\nRemoving intermediate container 8051edaaf500\n ---> 199c8dc870b9\nStep 5/19 : FROM golang:1.16-alpine as build\n ---> 7642119cd161\nStep 6/19 : ARG GIT_COMMIT=\"\"\n ---> Running in 359a57c86164\nRemoving intermediate container 359a57c86164\n ---> 52d6cb1b1054\nStep 7/19 : ENV GIT_COMMIT=$GIT_COMMIT\n ---> Running in 9172dc51289f\nRemoving intermediate container 9172dc51289f\n ---> e77833e2c35f\nStep 8/19 : WORKDIR /app\n ---> Running in 5f9a4088d146\nRemoving intermediate container 5f9a4088d146\n ---> aece8eaa7896\nStep 9/19 : RUN apk --no-cache add git make protobuf protobuf-dev ca-certificates alpine-sdk\n ---> Running in 46914e387315\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/45) Installing fakeroot (1.25.3-r3)\n(2/45) Installing openssl (1.1.1s-r1)\n(3/45) Upgrading zlib (1.2.11-r3 -> 1.2.12-r3)\n(4/45) Installing libattr (2.5.1-r1)\n(5/45) Installing attr (2.5.1-r1)\n(6/45) Installing libacl (2.2.53-r0)\n(7/45) Installing tar (1.34-r0)\n(8/45) Installing pkgconf (1.8.0-r0)\n(9/45) Installing patch (2.7.6-r7)\n(10/45) Installing libgcc (10.3.1_git20211027-r0)\n(11/45) Installing libstdc++ (10.3.1_git20211027-r0)\n(12/45) Installing lzip (1.22-r1)\n(13/45) Installing brotli-libs (1.0.9-r5)\n(14/45) Installing nghttp2-libs (1.46.0-r0)\n(15/45) Installing libcurl (7.80.0-r5)\n(16/45) Installing curl (7.80.0-r5)\n(17/45) Installing abuild (3.9.0-r0)\nExecuting abuild-3.9.0-r0.pre-install\n(18/45) Installing binutils (2.37-r3)\n(19/45) Installing libmagic (5.41-r0)\n(20/45) Installing file (5.41-r0)\n(21/45) Installing libgomp (10.3.1_git20211027-r0)\n(22/45) Installing libatomic (10.3.1_git20211027-r0)\n(23/45) Installing libgphobos (10.3.1_git20211027-r0)\n(24/45) Installing gmp (6.2.1-r1)\n(25/45) Installing isl22 (0.22-r0)\n(26/45) Installing mpfr4 (4.1.0-r0)\n(27/45) Installing mpc1 (1.2.1-r0)\n(28/45) Installing gcc (10.3.1_git20211027-r0)\n(29/45) Installing musl-dev (1.2.2-r7)\n(30/45) Installing libc-dev (0.7.2-r3)\n(31/45) Installing g++ (10.3.1_git20211027-r0)\n(32/45) Installing make (4.3-r0)\n(33/45) Installing fortify-headers (1.1-r1)\n(34/45) Installing build-base (0.5-r3)\n(35/45) Installing expat (2.5.0-r0)\n(36/45) Installing pcre2 (10.40-r0)\n(37/45) Installing git (2.34.5-r0)\n(38/45) Installing alpine-sdk (1.0-r1)\n(39/45) Installing libprotobuf (3.18.1-r1)\n(40/45) Installing libprotoc (3.18.1-r1)\n(41/45) Installing protoc (3.18.1-r1)\n(42/45) Installing libprotobuf-lite (3.18.1-r1)\n(43/45) Installing protobuf (3.18.1-r1)\n(44/45) Installing zlib-dev (1.2.12-r3)\n(45/45) Installing protobuf-dev (3.18.1-r1)\nExecuting busybox-1.34.1-r3.trigger\nOK: 233 MiB in 59 packages\nRemoving intermediate container 46914e387315\n ---> b18f99a48814\nStep 10/19 : COPY --from=ui /app/ui/dist /app/web/abstruse/dist\n ---> e51daffaf465\nStep 11/19 : COPY . /app/\n ---> f78d6cec589d\nStep 12/19 : RUN go get github.com/jkuri/statik github.com/golang/protobuf/protoc-gen-go github.com/google/wire/...\n ---> Running in 8d43d9af5dc3\n\u001b[91mgo: downloading github.com/jkuri/statik v0.3.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.5.2\n\u001b[0m\u001b[91mgo: downloading github.com/google/wire v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/google/subcommands v1.0.1\ngo: downloading github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.26.0\ngo: downloading golang.org/x/tools v0.0.0-20210106214847-113979e3529a\n\u001b[0m\u001b[91mgo: downloading golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/mod v0.3.0\n\u001b[0m\u001b[91mgo get: upgraded github.com/golang/protobuf v1.4.3 => v1.5.2\ngo get: upgraded github.com/google/wire v0.4.0 => v0.5.0\ngo get: upgraded google.golang.org/protobuf v1.25.0 => v1.26.0\n\u001b[0mRemoving intermediate container 8d43d9af5dc3\n ---> 5e393a86cbad\nStep 13/19 : RUN make protoc && make statik && make wire && make server\n ---> Running in 2df0daf03644\n\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mwire: github.com/bleenco/abstruse/server/cmd: wrote /app/server/cmd/wire_gen.go\n\u001b[0m\u001b[91mwire: github.com/bleenco/abstruse/worker/cmd: wrote /app/worker/cmd/wire_gen.go\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91mfatal: not a git repository (or any of the parent directories): .git\n\u001b[0m\u001b[91m# github.com/mattn/go-sqlite3\nsqlite3-binding.c: In function 'sqlite3SelectNew':\nsqlite3-binding.c:129019:10: warning: function may return address of local variable [-Wreturn-local-addr]\n129019 |   return pNew;\n       |          ^~~~\nsqlite3-binding.c:128979:10: note: declared here\n128979 |   Select standin;\n       |          ^~~~~~~\n\u001b[0mRemoving intermediate container 2df0daf03644\n ---> 44171b7ae804\nStep 14/19 : FROM alpine:latest\n ---> 49176f190c7e\nStep 15/19 : LABEL maintainer=\"Jan Kuri <jkuri88@gmail.com>\"   org.label-schema.schema-version=\"1.0\"   org.label-schema.name=\"abstruse-server\"   org.label-schema.description=\"Distributed Continuous Intergration Platform\"   org.label-schema.url=\"https://ci.abstruse.cc/\"   org.label-schema.vcs-url=\"https://github.com/bleenco/abstruse\"   org.label-schema.vendor=\"abstruse\"\n ---> Running in d89d87109159\nRemoving intermediate container d89d87109159\n ---> 63660e7b39d5\nStep 16/19 : COPY --from=build /etc/ssl/certs /etc/ssl/certs\n ---> 56f1b95d61ea\nStep 17/19 : COPY --from=build /app/build/abstruse-server /usr/bin/abstruse-server\n ---> 14c4b50dd884\nStep 18/19 : ENTRYPOINT [ \"/usr/bin/abstruse-server\" ]\n ---> Running in b6ad23bb3389\nRemoving intermediate container b6ad23bb3389\n ---> ac032ac1d8bc\nStep 19/19 : EXPOSE 80\n ---> Running in d1950798aef1\nRemoving intermediate container d1950798aef1\n ---> 6a245012f3a2\nSuccessfully built 6a245012f3a2\nSuccessfully tagged abstruse:latest\n","stderr":"","imageSize":52951600},"endTime":1672073696209}