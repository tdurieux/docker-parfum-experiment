{"repository":"https://github.com/ethereumjs/ultralight","dockerfilePath":"Dockerfile","startTime":1672945737778,"endTime":1672946177097,"clone":{"startTime":1672945737779,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ethereumjs/ultralight'...\n","error":null,"endTime":1672945740007,"commit":"5dca047f34da41f64ef1fe53d04671289a63dc52"},"originalBuild":{"startTime":1672945740083,"endTime":1672945916436,"error":null,"stdout":"Sending build context to Docker daemon  52.19MB\r\r\nStep 1/20 : FROM node:16-alpine as BUILD_IMAGE\n16-alpine: Pulling from library/node\nc158987b0551: Already exists\ne15b2da73907: Pulling fs layer\n90461d7cfbbe: Pulling fs layer\n06b1a47b9f99: Pulling fs layer\n06b1a47b9f99: Download complete\n90461d7cfbbe: Verifying Checksum\n90461d7cfbbe: Download complete\ne15b2da73907: Verifying Checksum\ne15b2da73907: Download complete\ne15b2da73907: Pull complete\n90461d7cfbbe: Pull complete\n06b1a47b9f99: Pull complete\nDigest: sha256:58e4dfcf063f67d71e608c3cace5a0bcf39e9dbab3047b41e20c15c7132d1d46\nStatus: Downloaded newer image for node:16-alpine\n ---> 610c0494e820\nStep 2/20 : WORKDIR /app\n ---> Running in 23fd33ffcd31\nRemoving intermediate container 23fd33ffcd31\n ---> b1a450461791\nStep 3/20 : RUN apk update && apk add --no-cache bash && rm -rf /var/cache/apk/*\n ---> Running in b6962eefd7a1\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-329-gf392921234 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 12 MiB in 21 packages\nRemoving intermediate container b6962eefd7a1\n ---> 5828fb3a8b68\nStep 4/20 : RUN apk add --virtual .build-deps alpine-sdk jq\n ---> Running in 85593a6bea71\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/39) Installing fakeroot (1.29-r0)\n(2/39) Installing openssl (3.0.7-r2)\n(3/39) Installing libattr (2.5.1-r2)\n(4/39) Installing attr (2.5.1-r2)\n(5/39) Installing libacl (2.3.1-r1)\n(6/39) Installing tar (1.34-r1)\n(7/39) Installing pkgconf (1.9.3-r0)\n(8/39) Installing patch (2.7.6-r8)\n(9/39) Installing lzip (1.23-r0)\n(10/39) Installing ca-certificates (20220614-r3)\n(11/39) Installing brotli-libs (1.0.9-r9)\n(12/39) Installing nghttp2-libs (1.51.0-r0)\n(13/39) Installing libcurl (7.87.0-r0)\n(14/39) Installing curl (7.87.0-r0)\n(15/39) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(16/39) Installing binutils (2.39-r2)\n(17/39) Installing libmagic (5.43-r0)\n(18/39) Installing file (5.43-r0)\n(19/39) Installing libgomp (12.2.1_git20220924-r4)\n(20/39) Installing libatomic (12.2.1_git20220924-r4)\n(21/39) Installing gmp (6.2.1-r2)\n(22/39) Installing isl25 (0.25-r0)\n(23/39) Installing mpfr4 (4.1.0-r0)\n(24/39) Installing mpc1 (1.2.1-r1)\n(25/39) Installing gcc (12.2.1_git20220924-r4)\n(26/39) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(27/39) Installing musl-dev (1.2.3-r4)\n(28/39) Installing libc-dev (0.7.2-r3)\n(29/39) Installing g++ (12.2.1_git20220924-r4)\n(30/39) Installing make (4.3-r1)\n(31/39) Installing fortify-headers (1.1-r1)\n(32/39) Installing build-base (0.5-r3)\n(33/39) Installing libexpat (2.5.0-r0)\n(34/39) Installing pcre2 (10.42-r0)\n(35/39) Installing git (2.38.2-r0)\n(36/39) Installing alpine-sdk (1.0-r1)\n(37/39) Installing oniguruma (6.9.8-r0)\n(38/39) Installing jq (1.6-r2)\n(39/39) Installing .build-deps (20230105.190920)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 259 MiB in 60 packages\nRemoving intermediate container 85593a6bea71\n ---> f18c7e7abe11\nStep 5/20 : RUN ln -s /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2\n ---> Running in 6f69ddacf6e5\nRemoving intermediate container 6f69ddacf6e5\n ---> 5b1fe371809c\nStep 6/20 : RUN jq -r '.workspaces |= .[0:2]' package.json > package.json\n ---> Running in a693d9b8f309\nRemoving intermediate container a693d9b8f309\n ---> 3a6b5486177a\nStep 7/20 : COPY package*.json ./\n ---> c635272648ec\nStep 8/20 : RUN npm ci --ignore-scripts --omit-dev\n ---> Running in 63941d4480cf\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated dgram@1.0.1: npm is holding this package for security reasons. As it's a core Node module, we will not transfer it over to other users. You may safely remove the package from your dependencies.\n\u001b[0m\nadded 1293 packages, and audited 1298 packages in 19s\n\n39 packages are looking for funding\n  run `npm fund` for details\n\n6 vulnerabilities (1 low, 2 moderate, 1 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 63941d4480cf\n ---> 6c32fd6ef5a6\nStep 9/20 : COPY . .\n ---> c83d80ff5048\nStep 10/20 : FROM node:16-alpine\n ---> 610c0494e820\nStep 11/20 : WORKDIR /app\n ---> Running in 3fe2b7fc1510\nRemoving intermediate container 3fe2b7fc1510\n ---> e16e63e74ade\nStep 12/20 : RUN apk update && apk add --no-cache bash && rm -rf /var/cache/apk/*\n ---> Running in 669885824ee0\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-329-gf392921234 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 12 MiB in 21 packages\nRemoving intermediate container 669885824ee0\n ---> f162799931c6\nStep 13/20 : COPY --from=BUILD_IMAGE /app/node_modules ./node_modules\n ---> d81d50c34716\nStep 14/20 : COPY --from=BUILD_IMAGE /app/packages/portalnetwork ./packages/portalnetwork\n ---> bd4ef9288209\nStep 15/20 : COPY --from=BUILD_IMAGE /app/packages/cli ./packages/cli\n ---> 559ecb7c70ed\nStep 16/20 : COPY --from=BUILD_IMAGE /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2\n ---> eb3c71ab7e51\nStep 17/20 : ENV bindAddress=\n ---> Running in 1be74c8e20d8\nRemoving intermediate container 1be74c8e20d8\n ---> ab93e600873e\nStep 18/20 : ENV rpcPort=\n ---> Running in 5f2794ff42a8\nRemoving intermediate container 5f2794ff42a8\n ---> b93ce1b2e602\nStep 19/20 : ENV pk=\n ---> Running in d4382dab1380\nRemoving intermediate container d4382dab1380\n ---> b3b541111b62\nStep 20/20 : CMD node /app/packages/cli/dist/index.js --rpcPort=${rpcPort} --bindAddress=${bindAddress} --dataDir=\"./data\" --pk=${pk}\n ---> Running in 52bca7ba8075\nRemoving intermediate container 52bca7ba8075\n ---> 0000cf430390\nSuccessfully built 0000cf430390\nSuccessfully tagged ultralight:latest\n","stderr":"","imageSize":479298716},"repair":{"startTime":1672945916487,"endTime":1672945916588,"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":47}}],"repairedDockerfile":"FROM node:16-alpine as BUILD_IMAGE\nWORKDIR /app\nRUN apk update && apk add --no-cache bash && rm -rf /var/cache/apk/*\nRUN apk add --no-cache --virtual .build-deps alpine-sdk jq\n\nRUN ln -s /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2\n\n\nRUN jq -r '.workspaces |= .[0:2]' package.json > package.json\nCOPY package*.json ./\nRUN npm ci --ignore-scripts --omit-dev\n\nCOPY . .\n\nFROM node:16-alpine\nWORKDIR /app\nRUN apk update && apk add --no-cache bash && rm -rf /var/cache/apk/*\nCOPY --from=BUILD_IMAGE /app/node_modules ./node_modules\nCOPY --from=BUILD_IMAGE /app/packages/portalnetwork ./packages/portalnetwork\nCOPY --from=BUILD_IMAGE /app/packages/cli ./packages/cli\nCOPY --from=BUILD_IMAGE /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2\nENV bindAddress=\nENV rpcPort=\nENV pk=\nCMD node /app/packages/cli/dist/index.js --rpcPort=${rpcPort} --bindAddress=${bindAddress} --dataDir=\"./data\" --pk=${pk}"},"repairedBuild":{"startTime":1672945917764,"endTime":1672946175876,"error":null,"stdout":"Sending build context to Docker daemon  52.19MB\r\r\nStep 1/20 : FROM node:16-alpine as BUILD_IMAGE\n ---> 610c0494e820\nStep 2/20 : WORKDIR /app\n ---> Running in c6317ec5e2f2\nRemoving intermediate container c6317ec5e2f2\n ---> 9524271d4bc5\nStep 3/20 : RUN apk update && apk add --no-cache bash && rm -rf /var/cache/apk/*\n ---> Running in 11f9d4ee9125\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-329-gf392921234 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 12 MiB in 21 packages\nRemoving intermediate container 11f9d4ee9125\n ---> 545d0891b65f\nStep 4/20 : RUN apk add --no-cache --virtual .build-deps alpine-sdk jq\n ---> Running in ea55ab9c2c43\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/39) Installing fakeroot (1.29-r0)\n(2/39) Installing openssl (3.0.7-r2)\n(3/39) Installing libattr (2.5.1-r2)\n(4/39) Installing attr (2.5.1-r2)\n(5/39) Installing libacl (2.3.1-r1)\n(6/39) Installing tar (1.34-r1)\n(7/39) Installing pkgconf (1.9.3-r0)\n(8/39) Installing patch (2.7.6-r8)\n(9/39) Installing lzip (1.23-r0)\n(10/39) Installing ca-certificates (20220614-r3)\n(11/39) Installing brotli-libs (1.0.9-r9)\n(12/39) Installing nghttp2-libs (1.51.0-r0)\n(13/39) Installing libcurl (7.87.0-r0)\n(14/39) Installing curl (7.87.0-r0)\n(15/39) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(16/39) Installing binutils (2.39-r2)\n(17/39) Installing libmagic (5.43-r0)\n(18/39) Installing file (5.43-r0)\n(19/39) Installing libgomp (12.2.1_git20220924-r4)\n(20/39) Installing libatomic (12.2.1_git20220924-r4)\n(21/39) Installing gmp (6.2.1-r2)\n(22/39) Installing isl25 (0.25-r0)\n(23/39) Installing mpfr4 (4.1.0-r0)\n(24/39) Installing mpc1 (1.2.1-r1)\n(25/39) Installing gcc (12.2.1_git20220924-r4)\n(26/39) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(27/39) Installing musl-dev (1.2.3-r4)\n(28/39) Installing libc-dev (0.7.2-r3)\n(29/39) Installing g++ (12.2.1_git20220924-r4)\n(30/39) Installing make (4.3-r1)\n(31/39) Installing fortify-headers (1.1-r1)\n(32/39) Installing build-base (0.5-r3)\n(33/39) Installing libexpat (2.5.0-r0)\n(34/39) Installing pcre2 (10.42-r0)\n(35/39) Installing git (2.38.2-r0)\n(36/39) Installing alpine-sdk (1.0-r1)\n(37/39) Installing oniguruma (6.9.8-r0)\n(38/39) Installing jq (1.6-r2)\n(39/39) Installing .build-deps (20230105.191209)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 259 MiB in 60 packages\nRemoving intermediate container ea55ab9c2c43\n ---> 01f42ee55924\nStep 5/20 : RUN ln -s /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2\n ---> Running in f9a66f465d13\nRemoving intermediate container f9a66f465d13\n ---> a23c442a2b03\nStep 6/20 : RUN jq -r '.workspaces |= .[0:2]' package.json > package.json\n ---> Running in cbeedf6ffdb3\nRemoving intermediate container cbeedf6ffdb3\n ---> 546eb598f355\nStep 7/20 : COPY package*.json ./\n ---> 58cb50a2ef42\nStep 8/20 : RUN npm ci --ignore-scripts --omit-dev\n ---> Running in a95c69c1f519\n\u001b[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\n\u001b[0m\u001b[91mnpm WARN deprecated dgram@1.0.1: npm is holding this package for security reasons. As it's a core Node module, we will not transfer it over to other users. You may safely remove the package from your dependencies.\n\u001b[0m\nadded 1293 packages, and audited 1298 packages in 15s\n\n39 packages are looking for funding\n  run `npm fund` for details\n\n6 vulnerabilities (1 low, 2 moderate, 1 high, 2 critical)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.3 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container a95c69c1f519\n ---> a81e5051b866\nStep 9/20 : COPY . .\n ---> 968b1bd28129\nStep 10/20 : FROM node:16-alpine\n ---> 610c0494e820\nStep 11/20 : WORKDIR /app\n ---> Running in 9f4af3e784f4\nRemoving intermediate container 9f4af3e784f4\n ---> e4d5671f2d09\nStep 12/20 : RUN apk update && apk add --no-cache bash && rm -rf /var/cache/apk/*\n ---> Running in 200de4ac3383\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-329-gf392921234 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/4) Installing ncurses-libs (6.3_p20221119-r0)\n(3/4) Installing readline (8.2.0-r0)\n(4/4) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\nExecuting busybox-1.35.0-r29.trigger\nOK: 12 MiB in 21 packages\nRemoving intermediate container 200de4ac3383\n ---> c6a2fdc4bba9\nStep 13/20 : COPY --from=BUILD_IMAGE /app/node_modules ./node_modules\n ---> 3a418e053663\nStep 14/20 : COPY --from=BUILD_IMAGE /app/packages/portalnetwork ./packages/portalnetwork\n ---> 66084e296821\nStep 15/20 : COPY --from=BUILD_IMAGE /app/packages/cli ./packages/cli\n ---> 732bd71ce8c2\nStep 16/20 : COPY --from=BUILD_IMAGE /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2\n ---> 649fec946181\nStep 17/20 : ENV bindAddress=\n ---> Running in 0c284e407a6e\nRemoving intermediate container 0c284e407a6e\n ---> 0f1ea4f26cf7\nStep 18/20 : ENV rpcPort=\n ---> Running in b38752495ba2\nRemoving intermediate container b38752495ba2\n ---> 0a6c76b6206d\nStep 19/20 : ENV pk=\n ---> Running in 09ce0c899ff8\nRemoving intermediate container 09ce0c899ff8\n ---> f699a57148bc\nStep 20/20 : CMD node /app/packages/cli/dist/index.js --rpcPort=${rpcPort} --bindAddress=${bindAddress} --dataDir=\"./data\" --pk=${pk}\n ---> Running in 743933804f85\nRemoving intermediate container 743933804f85\n ---> c8b7df04a67a\nSuccessfully built c8b7df04a67a\nSuccessfully tagged ultralight:latest\n","stderr":"","imageSize":479298716}}