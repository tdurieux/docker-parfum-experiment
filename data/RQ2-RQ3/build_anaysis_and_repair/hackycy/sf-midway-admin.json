{"repository":"https://github.com/hackycy/sf-midway-admin","dockerfilePath":"Dockerfile","startTime":1672930702726,"endTime":1672930910698,"clone":{"startTime":1672930702727,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/hackycy/sf-midway-admin'...\n","error":null,"endTime":1672930703549,"commit":"968774512f00cc2d8e3180bc3b30e58d6c326ce4"},"originalBuild":{"startTime":1672930703617,"endTime":1672930910636,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t sf-midway-admin:latest -f /tmp/dinghy-analysis/hackycy/sf-midway-admin/Dockerfile ."},"stdout":"Sending build context to Docker daemon    492kB\r\r\nStep 1/12 : FROM node:lts-alpine as builder\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/12 : WORKDIR /sf-midway-admin\n ---> Running in b70c5b257f4d\nRemoving intermediate container b70c5b257f4d\n ---> 5bdb0ff2b265\nStep 3/12 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n ---> Running in f434d1f3b1be\nRemoving intermediate container f434d1f3b1be\n ---> af5cedea40e7\nStep 4/12 : RUN echo 'Asia/Shanghai' > /etc/timezone\n ---> Running in 5a51a8d69c6e\nRemoving intermediate container 5a51a8d69c6e\n ---> a1e9862f57a3\nStep 5/12 : COPY package.json /sf-midway-admin/package.json\n ---> ba258f382739\nStep 6/12 : RUN npm install\n ---> Running in dd7a4072e6b0\n\u001b[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\n\u001b[0m\u001b[91mnpm WARN deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.\n\u001b[0m\u001b[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added\n\u001b[0m\u001b[91mnpm WARN deprecated\u001b[0m\u001b[91m @types/ioredis@5.0.0: This is a stub types definition. ioredis provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mdeprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated superagent@3.8.3: Please upgrade to v7.0.2+ of superagent.  We have fixed numerous issues with streams, form-data, attach(), filesystem errors not bubbling up (ENOENT on attach()), and all tests are now passing.  See the releases tab for more information at <https://github.com/visionmedia/superagent/releases>.\n\u001b[0m\u001b[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\n\u001b[0m\nadded 1440 packages, and audited 1441 packages in 1m\n\n137 packages are looking for funding\n  run `npm fund` for details\n\n18 vulnerabilities (6 moderate, 12 high)\n\nTo address all issues possible (including breaking changes), run:\n  npm audit fix --force\n\nSome issues need review, and may require choosing\na different dependency.\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container dd7a4072e6b0\n ---> 892c9ab78c55\nStep 7/12 : COPY ./ /sf-midway-admin\n ---> ccad33d49fa2\nStep 8/12 : RUN npm run build\n ---> Running in e61fd8467d22\n\n> sf-midway-admin@2.0.1 build\n> midway-bin build -c\n\n   - Copy Complete\n\u001b[91merror\u001b[0m\u001b[90m TS2688: \u001b[0mCannot find type definition file for 'ioredis'.\n  The file is in the program because:\n    Entry point for implicit type library 'ioredis'\n\n\n\n\n\nError! You can try adding the -V parameter for more information output.\n\n\n\n\n\u001b[91mTypeError: Cannot read properties of undefined (reading 'fileName')\n    at BuildPlugin.emit (/sf-midway-admin/node_modules/@midwayjs/cli-plugin-build/src/index.ts:201:66)\n    at CommandCore.execLifecycle (/sf-midway-admin/node_modules/@midwayjs/command-core/src/core.ts:216:11)\n    at CommandCore.invoke (/sf-midway-admin/node_modules/@midwayjs/command-core/src/core.ts:182:5)\n    at CLI.start (/sf-midway-admin/node_modules/@midwayjs/command-core/src/cli.ts:191:5)\n\u001b[0mRemoving intermediate container e61fd8467d22\n","stderr":"The command '/bin/sh -c npm run build' returned a non-zero code: 1\n"}}