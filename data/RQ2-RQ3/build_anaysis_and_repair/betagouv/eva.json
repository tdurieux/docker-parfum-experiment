{"repository":"https://github.com/betagouv/eva","dockerfilePath":"Dockerfile","startTime":1673012302707,"endTime":1673012584189,"clone":{"startTime":1673012302710,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/betagouv/eva'...\n","error":null,"endTime":1673012306557,"commit":"fbb8698592a703cdcaa2d76c8fc52f40ce5edd7c"},"originalBuild":{"startTime":1673012306622,"endTime":1673012584072,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t eva:latest -f /tmp/dinghy-analysis/betagouv/eva/Dockerfile ."},"stdout":"Sending build context to Docker daemon  83.09MB\r\r\nStep 1/13 : FROM node:14 as node\n14: Pulling from library/node\nc7c50787e2da: Already exists\naff359114acb: Already exists\n821dc261e045: Already exists\n3790459d63d5: Already exists\nc09b016fff62: Already exists\n5348855a40c0: Already exists\n06a6920a92b8: Pulling fs layer\n56023b82801b: Pulling fs layer\ne7b01bcb8f88: Pulling fs layer\ne7b01bcb8f88: Verifying Checksum\ne7b01bcb8f88: Download complete\n56023b82801b: Verifying Checksum\n56023b82801b: Download complete\n06a6920a92b8: Verifying Checksum\n06a6920a92b8: Download complete\n06a6920a92b8: Pull complete\n56023b82801b: Pull complete\ne7b01bcb8f88: Pull complete\nDigest: sha256:b6ab85c15f1c372bca3bde8585fbf5739b679aa9119f46e7d2bd41c1dcc05959\nStatus: Downloaded newer image for node:14\n ---> 0f2c7f307e4d\nStep 2/13 : ARG URL_API\n ---> Running in b24010128dd9\nRemoving intermediate container b24010128dd9\n ---> ef70de824f0f\nStep 3/13 : ENV URL_API ${URL_API}\n ---> Running in 39d4305b738c\nRemoving intermediate container 39d4305b738c\n ---> c6ef4952975c\nStep 4/13 : ARG JETON_CLIENT_ROLLBAR\n ---> Running in faba990e8fca\nRemoving intermediate container faba990e8fca\n ---> 6569a2c91152\nStep 5/13 : ENV JETON_CLIENT_ROLLBAR ${JETON_CLIENT_ROLLBAR}\n ---> Running in 7dec0672d507\nRemoving intermediate container 7dec0672d507\n ---> a00b553336d7\nStep 6/13 : WORKDIR /app/\n ---> Running in 1dd9aa5d0718\nRemoving intermediate container 1dd9aa5d0718\n ---> 1ceb79b7db31\nStep 7/13 : COPY package.json package-lock.json ./\n ---> f2e8e9ad975c\nStep 8/13 : RUN npm install\n ---> Running in f8e09572e08e\n\u001b[91mnpm\u001b[0m\u001b[91m WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!\n\u001b[0m\n> sharp@0.28.3 install /app/node_modules/sharp\n> (node install/libvips && node install/dll-copy && prebuild-install) || (node install/can-compile && node-gyp rebuild && node install/dll-copy)\n\nsharp: Downloading https://github.com/lovell/sharp-libvips/releases/download/v8.10.6/libvips-8.10.6-linux-x64.tar.br\n\n> core-js@2.6.12 postinstall /app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.26.1 postinstall /app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js:\u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://patreon.com/zloirock \u001b[0m\n\u001b[96m>\u001b[94m bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\u001b[91mnpm WARN lifecycle eva@0.0.1~prepare: cannot run in wd eva@0.0.1 husky install (wd=/app)\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/fsevents):\nnpm WARN\u001b[0m\u001b[91m notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1429 packages from 894 contributors and audited 1433 packages in 28.063s\n\n155 packages are looking for funding\n  run `npm fund` for details\n\nfound 8 vulnerabilities (4 moderate, 3 high, 1 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f8e09572e08e\n ---> 284600853496\nStep 9/13 : COPY . ./\n ---> e62c243ef972\nStep 10/13 : RUN npm run build\n ---> Running in 0d4f8154a114\n\n> eva@0.0.1 build /app\n> webpack --mode production\n\nassets by status 119 MiB [cached] 604 assets\norphan modules 1.64 MiB [orphan] 567 modules\nruntime modules 18.2 KiB 105 modules\ncacheable modules 11.9 MiB (javascript) 39.9 MiB (asset)\n  modules by path ./src/ 9.97 MiB (javascript) 39.9 MiB (asset)\n    asset modules 21 KiB (javascript) 39.9 MiB (asset) 511 modules\n    javascript modules 9.95 MiB\n      modules by path ./src/situations/ 68.6 KiB 62 modules\n      modules by path ./src/app/*.js 9.88 MiB 13 modules\n  modules by path ./node_modules/ 1.91 MiB 498 modules\n+ 8 modules\n\nLOG from GenerateSW\n<i> The service worker at service-worker.js will precache\n<i>         600 URLs, totaling 125 MB.\n\nERROR in EnvironmentPlugin - SOURCE_VERSION environment variable is undefined.\n\nYou can pass an object with default values to suppress this warning.\nSee https://webpack.js.org/plugins/environment-plugin for example.\n\nwebpack 5.75.0 compiled with 1 error in 47122 ms\n\u001b[91mnpm ERR! code ELIFECYCLE\n\u001b[0m\u001b[91mnpm ERR! \u001b[0m\u001b[91merrno 1\n\u001b[0m\u001b[91mnpm ERR! eva@0.0.1 build: `webpack --mode production`\nnpm ERR! Exit status 1\nnpm\u001b[0m\u001b[91m ERR! \nnpm ERR! Failed at the eva@0.0.1 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\u001b[0m\u001b[91m\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!\u001b[0m\u001b[91m     /root/.npm/_logs/2023-01-06T13_42_50_493Z-debug.log\n\u001b[0mRemoving intermediate container 0d4f8154a114\n","stderr":"The command '/bin/sh -c npm run build' returned a non-zero code: 1\n"}}