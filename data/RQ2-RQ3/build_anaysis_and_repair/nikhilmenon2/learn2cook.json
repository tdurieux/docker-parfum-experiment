{"repository":"https://github.com/nikhilmenon2/learn2cook","dockerfilePath":"Dockerfile","startTime":1672203876065,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nikhilmenon2/learn2cook'...\n","error":null,"commit":"8276c8d42e1476f32916952b105fa434d4c9abcc"},"originalBuild":{"startTimestamp":1672203877612,"endTimestamp":1672204057323,"error":null,"stdout":"Sending build context to Docker daemon  38.88MB\r\r\nStep 1/17 : FROM node:12 AS build-stage\n12: Pulling from library/node\nf5196cdf2518: Pulling fs layer\n9bed1e86f01e: Pulling fs layer\nf44e4bdb3a6c: Pulling fs layer\n2f75d131f406: Pulling fs layer\n07dff4ad21eb: Pulling fs layer\ne0ac4f13b766: Pulling fs layer\ndf2c3b2eb7cc: Pulling fs layer\nefe636eac583: Pulling fs layer\nfe17849545bb: Pulling fs layer\n2f75d131f406: Waiting\n07dff4ad21eb: Waiting\nfe17849545bb: Waiting\ne0ac4f13b766: Waiting\nefe636eac583: Waiting\ndf2c3b2eb7cc: Waiting\nf44e4bdb3a6c: Verifying Checksum\nf44e4bdb3a6c: Download complete\n9bed1e86f01e: Verifying Checksum\n9bed1e86f01e: Download complete\nf5196cdf2518: Verifying Checksum\nf5196cdf2518: Download complete\ne0ac4f13b766: Download complete\n2f75d131f406: Verifying Checksum\n2f75d131f406: Download complete\ndf2c3b2eb7cc: Verifying Checksum\ndf2c3b2eb7cc: Download complete\nefe636eac583: Verifying Checksum\nefe636eac583: Download complete\nfe17849545bb: Download complete\n07dff4ad21eb: Verifying Checksum\n07dff4ad21eb: Download complete\nf5196cdf2518: Pull complete\n9bed1e86f01e: Pull complete\nf44e4bdb3a6c: Pull complete\n2f75d131f406: Pull complete\n07dff4ad21eb: Pull complete\ne0ac4f13b766: Pull complete\ndf2c3b2eb7cc: Pull complete\nefe636eac583: Pull complete\nfe17849545bb: Pull complete\nDigest: sha256:01627afeb110b3054ba4a1405541ca095c8bfca1cb6f2be9479c767a2711879e\nStatus: Downloaded newer image for node:12\n ---> 6c8de432fc7f\nStep 2/17 : WORKDIR /react-app\n ---> Running in eff68140030d\nRemoving intermediate container eff68140030d\n ---> a3896674722a\nStep 3/17 : COPY react-app/. .\n ---> c654b82aa8a7\nStep 4/17 : ENV REACT_APP_BASE_URL=postgresql://app_academy:password@localhost/cookingdb\n ---> Running in 5093d5ee0c35\nRemoving intermediate container 5093d5ee0c35\n ---> e4908e0ef3b0\nStep 5/17 : RUN npm install\n ---> Running in 4e0040fc8719\n\n> core-js@2.6.11 postinstall /react-app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.6.5 postinstall /react-app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.6.5 postinstall /react-app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> styled-components@4.4.1 postinstall /react-app/node_modules/styled-components\n> node ./scripts/postinstall.js || exit 0\n\nUse styled-components at work? Consider supporting our development efforts at https://opencollective.com/styled-components\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/jest-haste-map/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm \u001b[0m\u001b[91mWARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1782 packages from 916 contributors and audited 1789 packages in 27.861s\n\n68 packages are looking for funding\n  run `npm fund` for details\n\nfound 255 vulnerabilities (20 low, 95 moderate, 112 high, 28 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 4e0040fc8719\n ---> c699b7fa2f2f\nStep 6/17 : RUN npm run build\n ---> Running in 3fdb772c041b\n\n> react-app@0.1.0 build /react-app\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\u001b[0mCompiled with warnings.\n\n./src/components/Footer/index.js\n  Line 10:78:  Using target=\"_blank\" without rel=\"noopener noreferrer\" is a security risk: see https://mathiasbynens.github.io/rel-noopener  react/jsx-no-target-blank\n  Line 13:80:  Using target=\"_blank\" without rel=\"noopener noreferrer\" is a security risk: see https://mathiasbynens.github.io/rel-noopener  react/jsx-no-target-blank\n  Line 16:65:  Using target=\"_blank\" without rel=\"noopener noreferrer\" is a security risk: see https://mathiasbynens.github.io/rel-noopener  react/jsx-no-target-blank\n\n./src/components/UserProfile/Favorites/index.js\n  Line 1:17:  'useState' is defined but never used                                                                          no-unused-vars\n  Line 44:9:  'sessId' is assigned a value but never used                                                                   no-unused-vars\n  Line 48:6:  React Hook useEffect has a missing dependency: 'intParams'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\n./src/components/Home/Home.js\n  Line 1:28:    'useState' is defined but never used                                                                                        no-unused-vars\n  Line 31:13:   img elements must have an alt prop, either with meaningful text, or an empty string for decorative images                   jsx-a11y/alt-text\n  Line 47:13:   img elements must have an alt prop, either with meaningful text, or an empty string for decorative images                   jsx-a11y/alt-text\n  Line 63:13:   img elements must have an alt prop, either with meaningful text, or an empty string for decorative images                   jsx-a11y/alt-text\n  Line 97:11:   Emojis should be wrapped in <span>, have role=\"img\", and have an accessible description with aria-label or aria-labelledby  jsx-a11y/accessible-emoji\n  Line 109:13:  Emojis should be wrapped in <span>, have role=\"img\", and have an accessible description with aria-label or aria-labelledby  jsx-a11y/accessible-emoji\n  Line 120:13:  Emojis should be wrapped in <span>, have role=\"img\", and have an accessible description with aria-label or aria-labelledby  jsx-a11y/accessible-emoji\n\n./src/components/RecipeList/RecipeList.js\n  Line 24:27:  Expected '===' and instead saw '=='                                                                        eqeqeq\n  Line 30:27:  Expected '===' and instead saw '=='                                                                        eqeqeq\n  Line 53:13:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/UsersList/UsersList.js\n  Line 27:13:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/UserProfile/UserProfile.js\n  Line 2:21:   'NavLink' is defined but never used                                                                        no-unused-vars\n  Line 43:15:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/CreateRecipe/CreateRecipe.js\n  Line 3:23:    'useDispatch' is defined but never used  no-unused-vars\n  Line 135:13:  No duplicate props allowed               react/jsx-no-duplicate-props\n  Line 145:13:  No duplicate props allowed               react/jsx-no-duplicate-props\n  Line 154:13:  No duplicate props allowed               react/jsx-no-duplicate-props\n\n./src/components/WriteReview/WriteReview.js\n  Line 3:23:  'useSelector' is defined but never used            no-unused-vars\n  Line 47:9:  'editReview' is assigned a value but never used    no-unused-vars\n  Line 72:9:  'deleteReview' is assigned a value but never used  no-unused-vars\n\n./src/components/Favorite/Favorite.js\n  Line 48:6:  React Hook useEffect has missing dependencies: 'recipeId', 'session.user', and 'user.id'. Either include them or remove the dependency array. Outer scope values like 'addFavorite' aren't valid dependencies because mutating them doesn't re-render the component  react-hooks/exhaustive-deps\n\n./src/components/Recipe/Recipe.js\n  Line 52:11:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n  Line 98:15:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/NavBar/ModalContainer.js\n  Line 5:11:  'modals' is assigned a value but never used    no-unused-vars\n  Line 6:11:  'dispatch' is assigned a value but never used  no-unused-vars\n\nSearch for the keywords to learn more about each warning.\nTo ignore, add // eslint-disable-next-line to the line before.\n\nFile sizes after gzip:\n\n  104.38 KB  build/static/js/2.9cd8b150.chunk.js\n  6.85 KB    build/static/js/main.60706d65.chunk.js\n  2.31 KB    build/static/css/main.83405d56.chunk.css\n  778 B      build/static/css/2.37c00e0b.chunk.css\n  774 B      build/static/js/runtime-main.ec2d9410.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  bit.ly/CRA-deploy\n\nRemoving intermediate container 3fdb772c041b\n ---> ddf1efda62a0\nStep 7/17 : FROM python:3.8\n ---> 51a078947558\nStep 8/17 : ENV FLASK_APP=app\n ---> Running in 42369ec0a873\nRemoving intermediate container 42369ec0a873\n ---> 54ea0ef2e429\nStep 9/17 : ENV FLASK_ENV=production\n ---> Running in de7530b5ffe5\nRemoving intermediate container de7530b5ffe5\n ---> 7db8cc75da26\nStep 10/17 : ENV SQLALCHEMY_ECHO=True\n ---> Running in d5bc4fc5a03b\nRemoving intermediate container d5bc4fc5a03b\n ---> 0f0666f22ef3\nStep 11/17 : EXPOSE 8000\n ---> Running in 5c7caa14e375\nRemoving intermediate container 5c7caa14e375\n ---> eef96b13cb84\nStep 12/17 : WORKDIR /var/www\n ---> Running in 4d38a26ede71\nRemoving intermediate container 4d38a26ede71\n ---> 9f8299d3e389\nStep 13/17 : COPY . .\n ---> e5b8602f5675\nStep 14/17 : COPY --from=build-stage /react-app/build/* app/static/\n ---> b614f90eed53\nStep 15/17 : RUN pip install -r requirements.txt\n ---> Running in 05588b111b07\nCollecting alembic==1.4.3\n  Downloading alembic-1.4.3-py2.py3-none-any.whl (159 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 159.9/159.9 KB 13.1 MB/s eta 0:00:00\nCollecting click==7.1.2\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 KB 6.4 MB/s eta 0:00:00\nCollecting flask-cors==3.0.8\n  Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\nCollecting flask-jwt-extended==3.24.1\n  Downloading Flask-JWT-Extended-3.24.1.tar.gz (31 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting flask-migrate==2.5.3\n  Downloading Flask_Migrate-2.5.3-py2.py3-none-any.whl (13 kB)\nCollecting flask-login==0.5.0\n  Downloading Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)\nCollecting flask-sqlalchemy==2.4.4\n  Downloading Flask_SQLAlchemy-2.4.4-py2.py3-none-any.whl (17 kB)\nCollecting flask-wtf==0.14.3\n  Downloading Flask_WTF-0.14.3-py2.py3-none-any.whl (13 kB)\nCollecting flask==1.1.2\n  Downloading Flask-1.1.2-py2.py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.6/94.6 KB 7.9 MB/s eta 0:00:00\nCollecting gunicorn==20.0.4\n  Downloading gunicorn-20.0.4-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.9/77.9 KB 5.9 MB/s eta 0:00:00\nCollecting itsdangerous==1.1.0\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting jinja2==2.11.2\n  Downloading Jinja2-2.11.2-py2.py3-none-any.whl (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.8/125.8 KB 7.4 MB/s eta 0:00:00\nCollecting mako==1.1.3\n  Downloading Mako-1.1.3-py2.py3-none-any.whl (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.5/75.5 KB 5.8 MB/s eta 0:00:00\nCollecting markupsafe==1.1.1\n  Downloading MarkupSafe-1.1.1-cp38-cp38-manylinux2010_x86_64.whl (32 kB)\nCollecting pyjwt==1.7.1\n  Downloading PyJWT-1.7.1-py2.py3-none-any.whl (18 kB)\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 15.0 MB/s eta 0:00:00\nCollecting python-dotenv==0.14.0\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\nCollecting python-editor==1.0.4\n  Downloading python_editor-1.0.4-py3-none-any.whl (4.9 kB)\nCollecting six==1.15.0\n  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)\nCollecting sqlalchemy==1.3.19\n  Downloading SQLAlchemy-1.3.19-cp38-cp38-manylinux2010_x86_64.whl (1.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 24.5 MB/s eta 0:00:00\nCollecting werkzeug==1.0.1\n  Downloading Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 298.6/298.6 KB 2.3 MB/s eta 0:00:00\nCollecting wtforms==2.3.3\n  Downloading WTForms-2.3.3-py2.py3-none-any.whl (169 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 169.1/169.1 KB 2.4 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.8/site-packages (from gunicorn==20.0.4->-r requirements.txt (line 18)) (57.5.0)\nBuilding wheels for collected packages: flask-jwt-extended\n  Building wheel for flask-jwt-extended (setup.py): started\n  Building wheel for flask-jwt-extended (setup.py): finished with status 'done'\n  Created wheel for flask-jwt-extended: filename=Flask_JWT_Extended-3.24.1-py2.py3-none-any.whl size=21528 sha256=0c5a0da431181d0851e66c5f0bb4fdd9a8ccb9e7e5f36fa1b777f6351850e699\n  Stored in directory: /root/.cache/pip/wheels/61/07/a0/b4f3fb0b5a3e2c51a4d3abc0efef78ba8e800ec1f4e76714b4\nSuccessfully built flask-jwt-extended\nInstalling collected packages: python-editor, python-dotenv, pyjwt, werkzeug, sqlalchemy, six, markupsafe, itsdangerous, gunicorn, click, wtforms, python-dateutil, mako, jinja2, flask, alembic, flask-wtf, flask-sqlalchemy, flask-login, flask-jwt-extended, flask-cors, flask-migrate\nSuccessfully installed alembic-1.4.3 click-7.1.2 flask-1.1.2 flask-cors-3.0.8 flask-jwt-extended-3.24.1 flask-login-0.5.0 flask-migrate-2.5.3 flask-sqlalchemy-2.4.4 flask-wtf-0.14.3 gunicorn-20.0.4 itsdangerous-1.1.0 jinja2-2.11.2 mako-1.1.3 markupsafe-1.1.1 pyjwt-1.7.1 python-dateutil-2.8.1 python-dotenv-0.14.0 python-editor-1.0.4 six-1.15.0 sqlalchemy-1.3.19 werkzeug-1.0.1 wtforms-2.3.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 05588b111b07\n ---> 5698fa029133\nStep 16/17 : RUN pip install psycopg2\n ---> Running in eb84a09abfad\nCollecting psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 KB 11.7 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.5-cp38-cp38-linux_x86_64.whl size=477382 sha256=cf270d12e9ddfa016f19874efc470229b28f011230199548036051ea57725dbb\n  Stored in directory: /root/.cache/pip/wheels/ae/51/cd/0096c52b03b32a5ffea19b70f2c56c905b5d30774229808041\nSuccessfully built psycopg2\nInstalling collected packages: psycopg2\nSuccessfully installed psycopg2-2.9.5\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container eb84a09abfad\n ---> ac4f415a9518\nStep 17/17 : CMD gunicorn app:app\n ---> Running in 5fe289282bda\nRemoving intermediate container 5fe289282bda\n ---> 6e920fccb1ee\nSuccessfully built 6e920fccb1ee\nSuccessfully tagged learn2cook:latest\n","stderr":"","imageSize":1001322016},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":15}},{"name":"pipUseNoCacheDir","position":{"start":26,"end":26,"columnStart":4,"columnEnd":35}},{"name":"pipUseNoCacheDir","position":{"start":27,"end":27,"columnStart":4,"columnEnd":24}}],"repairedDockerfile":"FROM node:12 AS build-stage\n\nWORKDIR /react-app\nCOPY react-app/. .\n\n# You have to set this because it should be set during build time.\nENV REACT_APP_BASE_URL=postgresql://app_academy:password@localhost/cookingdb\n\n# Build our React App\nRUN npm install\nRUN npm run build\n\nFROM python:3.8\n\n# Setup Flask environment\nENV FLASK_APP=app\nENV FLASK_ENV=production\nENV SQLALCHEMY_ECHO=True\n\nEXPOSE 8000\n\nWORKDIR /var/www\nCOPY . .\nCOPY --from=build-stage /react-app/build/* app/static/\n\n# Install Python Dependencies\nRUN pip install --no-cache-dir -r requirements.txt\nRUN pip install --no-cache-dir psycopg2\n\n# Run flask environment\nCMD gunicorn app:app\n"},"repairedBuild":{"startTimestamp":1672204057756,"endTimestamp":1672204208092,"error":null,"stdout":"Sending build context to Docker daemon  38.88MB\r\r\nStep 1/17 : FROM node:12 AS build-stage\n ---> 6c8de432fc7f\nStep 2/17 : WORKDIR /react-app\n ---> Running in 5ec6221db8cf\nRemoving intermediate container 5ec6221db8cf\n ---> b5297dcad887\nStep 3/17 : COPY react-app/. .\n ---> c6186a233c41\nStep 4/17 : ENV REACT_APP_BASE_URL=postgresql://app_academy:password@localhost/cookingdb\n ---> Running in 4e9f76b99a61\nRemoving intermediate container 4e9f76b99a61\n ---> 600777baa527\nStep 5/17 : RUN npm install\n ---> Running in 8addb9c7fc62\n\n> core-js@2.6.11 postinstall /react-app/node_modules/babel-runtime/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js@3.6.5 postinstall /react-app/node_modules/core-js\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> core-js-pure@3.6.5 postinstall /react-app/node_modules/core-js-pure\n> node -e \"try{require('./postinstall')}catch(e){}\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> styled-components@4.4.1 postinstall /react-app/node_modules/styled-components\n> node ./scripts/postinstall.js || exit 0\n\nUse styled-components at work? Consider supporting our development efforts at https://opencollective.com/styled-components\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/jest-haste-map/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1782 packages from 916 contributors and audited 1789 packages in 25.018s\n\n68 packages are looking for funding\n  run `npm fund` for details\n\nfound 255 vulnerabilities (20 low, 95 moderate, 112 high, 28 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 8addb9c7fc62\n ---> 9ba59717dc94\nStep 6/17 : RUN npm run build\n ---> Running in bedad18524ff\n\n> react-app@0.1.0 build /react-app\n> react-scripts build\n\nCreating an optimized production build...\n\u001b[91mBrowserslist: caniuse-lite is outdated. Please run:\nnpx browserslist@latest --update-db\n\u001b[0mCompiled with warnings.\n\n./src/components/Footer/index.js\n  Line 10:78:  Using target=\"_blank\" without rel=\"noopener noreferrer\" is a security risk: see https://mathiasbynens.github.io/rel-noopener  react/jsx-no-target-blank\n  Line 13:80:  Using target=\"_blank\" without rel=\"noopener noreferrer\" is a security risk: see https://mathiasbynens.github.io/rel-noopener  react/jsx-no-target-blank\n  Line 16:65:  Using target=\"_blank\" without rel=\"noopener noreferrer\" is a security risk: see https://mathiasbynens.github.io/rel-noopener  react/jsx-no-target-blank\n\n./src/components/UserProfile/Favorites/index.js\n  Line 1:17:  'useState' is defined but never used                                                                          no-unused-vars\n  Line 44:9:  'sessId' is assigned a value but never used                                                                   no-unused-vars\n  Line 48:6:  React Hook useEffect has a missing dependency: 'intParams'. Either include it or remove the dependency array  react-hooks/exhaustive-deps\n\n./src/components/Home/Home.js\n  Line 1:28:    'useState' is defined but never used                                                                                        no-unused-vars\n  Line 31:13:   img elements must have an alt prop, either with meaningful text, or an empty string for decorative images                   jsx-a11y/alt-text\n  Line 47:13:   img elements must have an alt prop, either with meaningful text, or an empty string for decorative images                   jsx-a11y/alt-text\n  Line 63:13:   img elements must have an alt prop, either with meaningful text, or an empty string for decorative images                   jsx-a11y/alt-text\n  Line 97:11:   Emojis should be wrapped in <span>, have role=\"img\", and have an accessible description with aria-label or aria-labelledby  jsx-a11y/accessible-emoji\n  Line 109:13:  Emojis should be wrapped in <span>, have role=\"img\", and have an accessible description with aria-label or aria-labelledby  jsx-a11y/accessible-emoji\n  Line 120:13:  Emojis should be wrapped in <span>, have role=\"img\", and have an accessible description with aria-label or aria-labelledby  jsx-a11y/accessible-emoji\n\n./src/components/RecipeList/RecipeList.js\n  Line 24:27:  Expected '===' and instead saw '=='                                                                        eqeqeq\n  Line 30:27:  Expected '===' and instead saw '=='                                                                        eqeqeq\n  Line 53:13:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/UsersList/UsersList.js\n  Line 27:13:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/UserProfile/UserProfile.js\n  Line 2:21:   'NavLink' is defined but never used                                                                        no-unused-vars\n  Line 43:15:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/CreateRecipe/CreateRecipe.js\n  Line 3:23:    'useDispatch' is defined but never used  no-unused-vars\n  Line 135:13:  No duplicate props allowed               react/jsx-no-duplicate-props\n  Line 145:13:  No duplicate props allowed               react/jsx-no-duplicate-props\n  Line 154:13:  No duplicate props allowed               react/jsx-no-duplicate-props\n\n./src/components/WriteReview/WriteReview.js\n  Line 3:23:  'useSelector' is defined but never used            no-unused-vars\n  Line 47:9:  'editReview' is assigned a value but never used    no-unused-vars\n  Line 72:9:  'deleteReview' is assigned a value but never used  no-unused-vars\n\n./src/components/Favorite/Favorite.js\n  Line 48:6:  React Hook useEffect has missing dependencies: 'recipeId', 'session.user', and 'user.id'. Either include them or remove the dependency array. Outer scope values like 'addFavorite' aren't valid dependencies because mutating them doesn't re-render the component  react-hooks/exhaustive-deps\n\n./src/components/Recipe/Recipe.js\n  Line 52:11:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n  Line 98:15:  img elements must have an alt prop, either with meaningful text, or an empty string for decorative images  jsx-a11y/alt-text\n\n./src/components/NavBar/ModalContainer.js\n  Line 5:11:  'modals' is assigned a value but never used    no-unused-vars\n  Line 6:11:  'dispatch' is assigned a value but never used  no-unused-vars\n\nSearch for the keywords to learn more about each warning.\nTo ignore, add // eslint-disable-next-line to the line before.\n\nFile sizes after gzip:\n\n  104.38 KB  build/static/js/2.9cd8b150.chunk.js\n  6.85 KB    build/static/js/main.60706d65.chunk.js\n  2.31 KB    build/static/css/main.83405d56.chunk.css\n  778 B      build/static/css/2.37c00e0b.chunk.css\n  774 B      build/static/js/runtime-main.ec2d9410.js\n\nThe project was built assuming it is hosted at /.\nYou can control this with the homepage field in your package.json.\n\nThe build folder is ready to be deployed.\nYou may serve it with a static server:\n\n  npm install -g serve\n  serve -s build\n\nFind out more about deployment here:\n\n  bit.ly/CRA-deploy\n\nRemoving intermediate container bedad18524ff\n ---> 5c0e65005e06\nStep 7/17 : FROM python:3.8\n ---> 51a078947558\nStep 8/17 : ENV FLASK_APP=app\n ---> Running in bbd386f5cd0d\nRemoving intermediate container bbd386f5cd0d\n ---> a03bf3996521\nStep 9/17 : ENV FLASK_ENV=production\n ---> Running in 237abc014e8e\nRemoving intermediate container 237abc014e8e\n ---> f90180d9d0ee\nStep 10/17 : ENV SQLALCHEMY_ECHO=True\n ---> Running in be0b5330cf91\nRemoving intermediate container be0b5330cf91\n ---> ea820297a086\nStep 11/17 : EXPOSE 8000\n ---> Running in 9e10c107d491\nRemoving intermediate container 9e10c107d491\n ---> 251e33cf7829\nStep 12/17 : WORKDIR /var/www\n ---> Running in 82b80d667684\nRemoving intermediate container 82b80d667684\n ---> 60965f23ed16\nStep 13/17 : COPY . .\n ---> 8c3b34c5cb38\nStep 14/17 : COPY --from=build-stage /react-app/build/* app/static/\n ---> d12b511b7c40\nStep 15/17 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in 5b98f466d0ad\nCollecting alembic==1.4.3\n  Downloading alembic-1.4.3-py2.py3-none-any.whl (159 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 159.9/159.9 KB 58.2 MB/s eta 0:00:00\nCollecting click==7.1.2\n  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.8/82.8 KB 254.9 MB/s eta 0:00:00\nCollecting flask-cors==3.0.8\n  Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\nCollecting flask-jwt-extended==3.24.1\n  Downloading Flask-JWT-Extended-3.24.1.tar.gz (31 kB)\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nCollecting flask-migrate==2.5.3\n  Downloading Flask_Migrate-2.5.3-py2.py3-none-any.whl (13 kB)\nCollecting flask-login==0.5.0\n  Downloading Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)\nCollecting flask-sqlalchemy==2.4.4\n  Downloading Flask_SQLAlchemy-2.4.4-py2.py3-none-any.whl (17 kB)\nCollecting flask-wtf==0.14.3\n  Downloading Flask_WTF-0.14.3-py2.py3-none-any.whl (13 kB)\nCollecting flask==1.1.2\n  Downloading Flask-1.1.2-py2.py3-none-any.whl (94 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.6/94.6 KB 280.3 MB/s eta 0:00:00\nCollecting gunicorn==20.0.4\n  Downloading gunicorn-20.0.4-py2.py3-none-any.whl (77 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.9/77.9 KB 259.2 MB/s eta 0:00:00\nCollecting itsdangerous==1.1.0\n  Downloading itsdangerous-1.1.0-py2.py3-none-any.whl (16 kB)\nCollecting jinja2==2.11.2\n  Downloading Jinja2-2.11.2-py2.py3-none-any.whl (125 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 125.8/125.8 KB 96.4 MB/s eta 0:00:00\nCollecting mako==1.1.3\n  Downloading Mako-1.1.3-py2.py3-none-any.whl (75 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.5/75.5 KB 298.1 MB/s eta 0:00:00\nCollecting markupsafe==1.1.1\n  Downloading MarkupSafe-1.1.1-cp38-cp38-manylinux2010_x86_64.whl (32 kB)\nCollecting pyjwt==1.7.1\n  Downloading PyJWT-1.7.1-py2.py3-none-any.whl (18 kB)\nCollecting python-dateutil==2.8.1\n  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 283.1 MB/s eta 0:00:00\nCollecting python-dotenv==0.14.0\n  Downloading python_dotenv-0.14.0-py2.py3-none-any.whl (17 kB)\nCollecting python-editor==1.0.4\n  Downloading python_editor-1.0.4-py3-none-any.whl (4.9 kB)\nCollecting six==1.15.0\n  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)\nCollecting sqlalchemy==1.3.19\n  Downloading SQLAlchemy-1.3.19-cp38-cp38-manylinux2010_x86_64.whl (1.3 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 118.6 MB/s eta 0:00:00\nCollecting werkzeug==1.0.1\n  Downloading Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 298.6/298.6 KB 235.6 MB/s eta 0:00:00\nCollecting wtforms==2.3.3\n  Downloading WTForms-2.3.3-py2.py3-none-any.whl (169 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 169.1/169.1 KB 290.6 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=3.0 in /usr/local/lib/python3.8/site-packages (from gunicorn==20.0.4->-r requirements.txt (line 18)) (57.5.0)\nBuilding wheels for collected packages: flask-jwt-extended\n  Building wheel for flask-jwt-extended (setup.py): started\n  Building wheel for flask-jwt-extended (setup.py): finished with status 'done'\n  Created wheel for flask-jwt-extended: filename=Flask_JWT_Extended-3.24.1-py2.py3-none-any.whl size=21528 sha256=e4f17cf267107e7073eccfb32ff03b0eb92e627f014af84cd3fcf87110256556\n  Stored in directory: /tmp/pip-ephem-wheel-cache-2dw2ggvo/wheels/61/07/a0/b4f3fb0b5a3e2c51a4d3abc0efef78ba8e800ec1f4e76714b4\nSuccessfully built flask-jwt-extended\nInstalling collected packages: python-editor, python-dotenv, pyjwt, werkzeug, sqlalchemy, six, markupsafe, itsdangerous, gunicorn, click, wtforms, python-dateutil, mako, jinja2, flask, alembic, flask-wtf, flask-sqlalchemy, flask-login, flask-jwt-extended, flask-cors, flask-migrate\nSuccessfully installed alembic-1.4.3 click-7.1.2 flask-1.1.2 flask-cors-3.0.8 flask-jwt-extended-3.24.1 flask-login-0.5.0 flask-migrate-2.5.3 flask-sqlalchemy-2.4.4 flask-wtf-0.14.3 gunicorn-20.0.4 itsdangerous-1.1.0 jinja2-2.11.2 mako-1.1.3 markupsafe-1.1.1 pyjwt-1.7.1 python-dateutil-2.8.1 python-dotenv-0.14.0 python-editor-1.0.4 six-1.15.0 sqlalchemy-1.3.19 werkzeug-1.0.1 wtforms-2.3.3\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 5b98f466d0ad\n ---> 19318d3e736a\nStep 16/17 : RUN pip install --no-cache-dir psycopg2\n ---> Running in 05ebe0143a7d\nCollecting psycopg2\n  Downloading psycopg2-2.9.5.tar.gz (384 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 384.3/384.3 KB 56.5 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py): started\n  Building wheel for psycopg2 (setup.py): finished with status 'done'\n  Created wheel for psycopg2: filename=psycopg2-2.9.5-cp38-cp38-linux_x86_64.whl size=477354 sha256=291f4bc668db78515d471cb85b6d6d8031a2201c27e37167a5d485c1e83299b0\n  Stored in directory: /tmp/pip-ephem-wheel-cache-6mo47f4v/wheels/ae/51/cd/0096c52b03b32a5ffea19b70f2c56c905b5d30774229808041\nSuccessfully built psycopg2\nInstalling collected packages: psycopg2\nSuccessfully installed psycopg2-2.9.5\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 05ebe0143a7d\n ---> f2e183381c83\nStep 17/17 : CMD gunicorn app:app\n ---> Running in b49d6fe0b094\nRemoving intermediate container b49d6fe0b094\n ---> dc8a5e970644\nSuccessfully built dc8a5e970644\nSuccessfully tagged learn2cook:latest\n","stderr":"","imageSize":997148353},"endTime":1672204208909}