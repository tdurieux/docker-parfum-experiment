{"repository":"https://github.com/gardener/gardener","dockerfilePath":"Dockerfile","startTime":1673016529851,"endTime":1673017045491,"clone":{"startTime":1673016529852,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/gardener/gardener'...\n","error":null,"endTime":1673016536676,"commit":"a0198553468c141b79113529311fc8ebab2dbe78"},"originalBuild":{"startTime":1673016536756,"endTime":1673017044828,"error":null,"stdout":"Sending build context to Docker daemon  151.4MB\r\r\nStep 1/43 : FROM golang:1.19.4 AS builder\n1.19.4: Pulling from library/golang\nDigest: sha256:660f138b4477001d65324a51fa158c1b868651b44e43f0953bf062e9f38b72f3\nStatus: Downloaded newer image for golang:1.19.4\n ---> 6650307efe4a\nStep 2/43 : WORKDIR /go/src/github.com/gardener/gardener\n ---> Running in 20d140bde8e1\nRemoving intermediate container 20d140bde8e1\n ---> 26c29ce0b8e1\nStep 3/43 : COPY . .\n ---> ab70dce0913a\nStep 4/43 : ARG EFFECTIVE_VERSION\n ---> Running in c42deff145af\nRemoving intermediate container c42deff145af\n ---> 267e4fe9671c\nStep 5/43 : RUN make install EFFECTIVE_VERSION=$EFFECTIVE_VERSION\n ---> Running in 72db8db630ac\n\u001b[91mbash: line 1: docker: command not found\n\u001b[0m> Install\nRemoving intermediate container 72db8db630ac\n ---> 51bd4928c22a\nStep 6/43 : FROM gcr.io/distroless/static-debian11:nonroot as distroless-static\nnonroot: Pulling from distroless/static-debian11\nfc251a6e7981: Pulling fs layer\nfc251a6e7981: Verifying Checksum\nfc251a6e7981: Download complete\nfc251a6e7981: Pull complete\nDigest: sha256:bce851161342b0c9d19d0d56e3d37b4787cc6b53a164ec21432e0e1755d08e17\nStatus: Downloaded newer image for gcr.io/distroless/static-debian11:nonroot\n ---> 2fe96e79a38b\nStep 7/43 : FROM distroless-static AS apiserver\n ---> 2fe96e79a38b\nStep 8/43 : COPY --from=builder /go/bin/gardener-apiserver /gardener-apiserver\n ---> f747ce0b9e80\nStep 9/43 : WORKDIR /\n ---> Running in 97141cb0df92\nRemoving intermediate container 97141cb0df92\n ---> d0e5749d0add\nStep 10/43 : ENTRYPOINT [\"/gardener-apiserver\"]\n ---> Running in 412f3d06bea4\nRemoving intermediate container 412f3d06bea4\n ---> d9986bec8158\nStep 11/43 : FROM distroless-static AS controller-manager\n ---> 2fe96e79a38b\nStep 12/43 : COPY --from=builder /go/bin/gardener-controller-manager /gardener-controller-manager\n ---> cddb2116b522\nStep 13/43 : COPY charts /charts\n ---> 362b70f846ff\nStep 14/43 : WORKDIR /\n ---> Running in d9546634a1ca\nRemoving intermediate container d9546634a1ca\n ---> 9a60030b7ec9\nStep 15/43 : ENTRYPOINT [\"/gardener-controller-manager\"]\n ---> Running in 408b54680ff3\nRemoving intermediate container 408b54680ff3\n ---> 23f838a1bfec\nStep 16/43 : FROM distroless-static AS scheduler\n ---> 2fe96e79a38b\nStep 17/43 : COPY --from=builder /go/bin/gardener-scheduler /gardener-scheduler\n ---> 73fb60fd9f96\nStep 18/43 : WORKDIR /\n ---> Running in ad83529ff6af\nRemoving intermediate container ad83529ff6af\n ---> 2d0e0dc77f80\nStep 19/43 : ENTRYPOINT [\"/gardener-scheduler\"]\n ---> Running in 7f278e508cac\nRemoving intermediate container 7f278e508cac\n ---> 65fbb366d1df\nStep 20/43 : FROM distroless-static AS gardenlet\n ---> 2fe96e79a38b\nStep 21/43 : COPY --from=builder /go/bin/gardenlet /gardenlet\n ---> 5e86ae7ee36c\nStep 22/43 : COPY charts /charts\n ---> 22748d39240a\nStep 23/43 : USER nonroot\n ---> Running in f65b489ca5c3\nRemoving intermediate container f65b489ca5c3\n ---> 1859cc60e515\nStep 24/43 : WORKDIR /\n ---> Running in 4c50acf9d85a\nRemoving intermediate container 4c50acf9d85a\n ---> f34888ad9193\nStep 25/43 : ENTRYPOINT [\"/gardenlet\"]\n ---> Running in 9e1d2d2c6028\nRemoving intermediate container 9e1d2d2c6028\n ---> c13bd57a6e1f\nStep 26/43 : FROM distroless-static AS admission-controller\n ---> 2fe96e79a38b\nStep 27/43 : COPY --from=builder /go/bin/gardener-admission-controller /gardener-admission-controller\n ---> 564bf28cfcc5\nStep 28/43 : WORKDIR /\n ---> Running in 25e711a22656\nRemoving intermediate container 25e711a22656\n ---> 612e66b690a7\nStep 29/43 : ENTRYPOINT [\"/gardener-admission-controller\"]\n ---> Running in b2340c1292b7\nRemoving intermediate container b2340c1292b7\n ---> 55ed776c615a\nStep 30/43 : FROM distroless-static AS resource-manager\n ---> 2fe96e79a38b\nStep 31/43 : COPY --from=builder /go/bin/gardener-resource-manager /gardener-resource-manager\n ---> 3d86e7c18097\nStep 32/43 : WORKDIR /\n ---> Running in a03973b20b0e\nRemoving intermediate container a03973b20b0e\n ---> 9e923b7025d5\nStep 33/43 : ENTRYPOINT [\"/gardener-resource-manager\"]\n ---> Running in 46564e765797\nRemoving intermediate container 46564e765797\n ---> 331177af10fb\nStep 34/43 : FROM distroless-static AS operator\n ---> 2fe96e79a38b\nStep 35/43 : COPY --from=builder /go/bin/gardener-operator /gardener-operator\n ---> 9dbbeee929e3\nStep 36/43 : COPY charts /charts\n ---> a646103cef64\nStep 37/43 : WORKDIR /\n ---> Running in 0f9ae3c02483\nRemoving intermediate container 0f9ae3c02483\n ---> b286d0b46de0\nStep 38/43 : ENTRYPOINT [\"/gardener-operator\"]\n ---> Running in 7d1a58f82a54\nRemoving intermediate container 7d1a58f82a54\n ---> 6c7cf78fe045\nStep 39/43 : FROM distroless-static AS gardener-extension-provider-local\n ---> 2fe96e79a38b\nStep 40/43 : COPY --from=builder /go/bin/gardener-extension-provider-local /gardener-extension-provider-local\n ---> 706d0ea26398\nStep 41/43 : COPY charts/gardener/provider-local /charts/gardener/provider-local\n ---> 224ed74369d8\nStep 42/43 : WORKDIR /\n ---> Running in 23ced69f4eb5\nRemoving intermediate container 23ced69f4eb5\n ---> b30b025f93f7\nStep 43/43 : ENTRYPOINT [\"/gardener-extension-provider-local\"]\n ---> Running in 800b2baf6909\nRemoving intermediate container 800b2baf6909\n ---> 7dd944dba2f8\nSuccessfully built 7dd944dba2f8\nSuccessfully tagged gardener:latest\n","stderr":"","imageSize":75231724},"repair":{"startTime":1673017044889,"endTime":1673017044911,"violations":[],"repairedDockerfile":"#############      builder       #############\nFROM golang:1.19.4 AS builder\n\nWORKDIR /go/src/github.com/gardener/gardener\nCOPY . .\n\nARG EFFECTIVE_VERSION\n\nRUN make install EFFECTIVE_VERSION=$EFFECTIVE_VERSION\n\n############# distroless-static\nFROM gcr.io/distroless/static-debian11:nonroot as distroless-static\n\n#############      apiserver     #############\nFROM distroless-static AS apiserver\n\nCOPY --from=builder /go/bin/gardener-apiserver /gardener-apiserver\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-apiserver\"]\n\n############# controller-manager #############\nFROM distroless-static AS controller-manager\n\nCOPY --from=builder /go/bin/gardener-controller-manager /gardener-controller-manager\nCOPY charts /charts\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-controller-manager\"]\n\n############# scheduler #############\nFROM distroless-static AS scheduler\n\nCOPY --from=builder /go/bin/gardener-scheduler /gardener-scheduler\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-scheduler\"]\n\n############# gardenlet #############\nFROM distroless-static AS gardenlet\n\nCOPY --from=builder /go/bin/gardenlet /gardenlet\nCOPY charts /charts\n\nUSER nonroot\nWORKDIR /\n\nENTRYPOINT [\"/gardenlet\"]\n\n############# admission-controller #############\nFROM distroless-static AS admission-controller\n\nCOPY --from=builder /go/bin/gardener-admission-controller /gardener-admission-controller\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-admission-controller\"]\n\n############# resource-manager #############\nFROM distroless-static AS resource-manager\n\nCOPY --from=builder /go/bin/gardener-resource-manager /gardener-resource-manager\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-resource-manager\"]\n\n############# operator #############\nFROM distroless-static AS operator\n\nCOPY --from=builder /go/bin/gardener-operator /gardener-operator\nCOPY charts /charts\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-operator\"]\n\n############# gardener-extension-provider-local #############\nFROM distroless-static AS gardener-extension-provider-local\n\nCOPY --from=builder /go/bin/gardener-extension-provider-local /gardener-extension-provider-local\nCOPY charts/gardener/provider-local /charts/gardener/provider-local\n\nWORKDIR /\n\nENTRYPOINT [\"/gardener-extension-provider-local\"]\n"}}