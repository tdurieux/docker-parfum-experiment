{"repository":"https://github.com/d0x2f/retrograde.js","dockerfilePath":"Dockerfile","startTime":1672545395036,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/d0x2f/retrograde.js'...\n","error":null,"commit":"8b5d27873c78ea9d79976441fd39a547c3aeeae9"},"originalBuild":{"startTimestamp":1672545395983,"endTimestamp":1672545500688,"error":null,"stdout":"Sending build context to Docker daemon   2.07MB\r\r\nStep 1/13 : FROM node:latest AS build\n ---> 548714e444f4\nStep 2/13 : WORKDIR /srv\n ---> Running in 9501cf529562\nRemoving intermediate container 9501cf529562\n ---> e449a8b9b242\nStep 3/13 : COPY . .\n ---> bf021387c8e3\nStep 4/13 : RUN npm install\n ---> Running in a6281313fad9\n\u001b[91mnpm WARN deprecated rollup-plugin-node-resolve@5.2.0: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-node-resolve.\n\u001b[0m\u001b[91mnpm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 555 packages, and audited 556 packages in 18s\n\n67 packages are looking for funding\n  run `npm fund` for details\n\n3 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container a6281313fad9\n ---> b982476ae39e\nStep 5/13 : RUN npm run build\n ---> Running in 7c0e72ee5d67\n\n> retrograde@1.0.0 build\n> rollup -c\n\nProduction: true\nServe: false\n\u001b[91m\u001b[36m\n\u001b[1msrc/main.js\u001b[22m → \u001b[1mbuild/bundle.[hash].js\u001b[22m...\u001b[39m\n\u001b[0m\u001b[91m\nrollup-plugin-svelte: The following packages did not export their `package.json` file so we could not check the `svelte` field. If you had difficulties importing svelte components from a package, then please contact the author and ask them to export the package.json file.\n\n- tslib\n\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Plugin replace: @rollup/plugin-replace: 'preventAssignment' currently defaults to false. It is recommended to set this option to `true`, as the next major version will default this option to `true`.\u001b[39m\u001b[22m\n\u001b[1m\u001b[33m(!) Plugin node-resolve: preferring built-in module 'crypto' over local alternative at 'crypto', pass 'preferBuiltins: false' to disable this behavior or 'preferBuiltins: true' to disable this warning\u001b[39m\u001b[22m\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Unresolved dependencies\u001b[39m\u001b[22m\n\u001b[90mhttps://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency\u001b[39m\n\u001b[0m\u001b[91m\u001b[1mcrypto\u001b[22m (imported by node_modules/crypto-js/core.js, \u0000crypto?commonjs-external)\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Missing global variable name\u001b[39m\u001b[22m\nUse output.globals to specify browser global variable names corresponding to external modules\n\u001b[0m\u001b[91m\u001b[1mcrypto\u001b[22m (guessing 'crypto')\n\u001b[0m\u001b[91m\u001b[32mcreated \u001b[1mbuild/bundle.[hash].js\u001b[22m in \u001b[1m11.2s\u001b[22m\u001b[39m\n\u001b[0m\n> retrograde@1.0.0 postbuild\n> node postbuild.js\n\nRemoving intermediate container 7c0e72ee5d67\n ---> a65be0654130\nStep 6/13 : FROM nginx:alpine\nalpine: Pulling from library/nginx\nc158987b0551: Already exists\n1e35f6679fab: Pulling fs layer\ncb9626c74200: Pulling fs layer\nb6334b6ace34: Pulling fs layer\nf1d1c9928c82: Pulling fs layer\n9b6f639ec6ea: Pulling fs layer\nee68d3549ec8: Pulling fs layer\nf1d1c9928c82: Waiting\n9b6f639ec6ea: Waiting\nee68d3549ec8: Waiting\nb6334b6ace34: Verifying Checksum\nb6334b6ace34: Download complete\ncb9626c74200: Verifying Checksum\ncb9626c74200: Download complete\n1e35f6679fab: Download complete\nf1d1c9928c82: Verifying Checksum\nf1d1c9928c82: Download complete\n9b6f639ec6ea: Verifying Checksum\n9b6f639ec6ea: Download complete\n1e35f6679fab: Pull complete\nee68d3549ec8: Verifying Checksum\nee68d3549ec8: Download complete\ncb9626c74200: Pull complete\nb6334b6ace34: Pull complete\nf1d1c9928c82: Pull complete\n9b6f639ec6ea: Pull complete\nee68d3549ec8: Pull complete\nDigest: sha256:dd8a054d7ef030e94a6449783605d6c306c1f69c10c2fa06b66a030e0d1db793\nStatus: Downloaded newer image for nginx:alpine\n ---> 1e415454686a\nStep 7/13 : STOPSIGNAL SIGQUIT\n ---> Running in e6a04e0d6f53\nRemoving intermediate container e6a04e0d6f53\n ---> 788c98653626\nStep 8/13 : WORKDIR /srv\n ---> Running in ff101fb6be92\nRemoving intermediate container ff101fb6be92\n ---> 0949ddc89e2e\nStep 9/13 : RUN apk --no-cache add gettext\n ---> Running in da203f2c80d5\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing libgomp (12.2.1_git20220924-r4)\n(2/4) Installing libunistring (1.1-r0)\n(3/4) Installing gettext-libs (0.21.1-r1)\n(4/4) Installing gettext (0.21.1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 47 MiB in 66 packages\nRemoving intermediate container da203f2c80d5\n ---> 6151a4588a07\nStep 10/13 : COPY --from=build /srv/container/ /srv/\n ---> 08a0c9c490bb\nStep 11/13 : COPY --from=build /srv/public /usr/share/nginx/html\n ---> bb61b4fd5b06\nStep 12/13 : ENTRYPOINT [\"/srv/entrypoint.sh\"]\n ---> Running in 0fb65b61bcf5\nRemoving intermediate container 0fb65b61bcf5\n ---> cac775d54e98\nStep 13/13 : CMD [\"nginx\", \"-g\", \"daemon off;\"]\n ---> Running in b233b97e7dd4\nRemoving intermediate container b233b97e7dd4\n ---> bc91c4e39127\nSuccessfully built bc91c4e39127\nSuccessfully tagged retrograde.js:latest\n","stderr":"","imageSize":45559336},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:latest AS build\nWORKDIR /srv\nCOPY . .\nRUN npm install\nRUN npm run build\n\nFROM nginx:alpine\nSTOPSIGNAL SIGQUIT\nWORKDIR /srv\nRUN apk --no-cache add gettext\nCOPY --from=build /srv/container/ /srv/\nCOPY --from=build /srv/public /usr/share/nginx/html\nENTRYPOINT [\"/srv/entrypoint.sh\"]\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n"},"repairedBuild":{"startTimestamp":1672545500997,"endTimestamp":1672545603628,"error":null,"stdout":"Sending build context to Docker daemon   2.07MB\r\r\nStep 1/13 : FROM node:latest AS build\n ---> 548714e444f4\nStep 2/13 : WORKDIR /srv\n ---> Running in 99c190b476bc\nRemoving intermediate container 99c190b476bc\n ---> d99165e995d1\nStep 3/13 : COPY . .\n ---> 5bc32a4e696a\nStep 4/13 : RUN npm install\n ---> Running in cfbcea3f81ba\n\u001b[91mnpm \u001b[0m\u001b[91mWARN deprecated\u001b[0m\u001b[91m request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated rollup-plugin-node-resolve@5.2.0: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-node-resolve.\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\nadded 555 packages, and audited 556 packages in 17s\n\n67 packages are looking for funding\n  run `npm fund` for details\n\n3 moderate severity vulnerabilities\n\nTo address all issues (including breaking changes), run:\n  npm audit fix --force\n\nRun `npm audit` for details.\nRemoving intermediate container cfbcea3f81ba\n ---> df43100474f8\nStep 5/13 : RUN npm run build\n ---> Running in aecb19ea80fa\n\n> retrograde@1.0.0 build\n> rollup -c\n\nProduction: true\nServe: false\n\u001b[91m\u001b[36m\n\u001b[1msrc/main.js\u001b[22m → \u001b[1mbuild/bundle.[hash].js\u001b[22m...\u001b[39m\n\u001b[0m\u001b[91m\nrollup-plugin-svelte: The following packages did not export their `package.json` file so we could not check the `svelte` field. If you had difficulties importing svelte components from a package, then please contact the author and ask them to export the package.json file.\n\n\u001b[0m\u001b[91m- tslib\n\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Plugin replace: @rollup/plugin-replace: 'preventAssignment' currently defaults to false. It is recommended to set this option to `true`, as the next major version will default this option to `true`.\u001b[39m\u001b[22m\n\u001b[1m\u001b[33m(!) Plugin node-resolve: preferring built-in module 'crypto' over local alternative at 'crypto', pass 'preferBuiltins: false' to disable this behavior or 'preferBuiltins: true' to disable this warning\u001b[39m\u001b[22m\n\u001b[0m\u001b[91m\u001b[1m\u001b[33m(!) Unresolved dependencies\u001b[39m\u001b[22m\n\u001b[0m\u001b[91m\u001b[90mhttps://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency\u001b[39m\n\u001b[0m\u001b[91m\u001b[1mcrypto\u001b[22m (imported by node_modules/crypto-js/core.js, \u0000crypto?commonjs-external)\n\u001b[1m\u001b[33m(!) Missing global variable name\u001b[39m\u001b[22m\nUse output.globals to specify browser global variable names corresponding to external modules\n\u001b[1mcrypto\u001b[22m (guessing 'crypto')\n\u001b[32mcreated \u001b[1mbuild/bundle.[hash].js\u001b[22m in \u001b[1m11.4s\u001b[22m\u001b[39m\n\u001b[0m\n> retrograde@1.0.0 postbuild\n> node postbuild.js\n\nRemoving intermediate container aecb19ea80fa\n ---> f10f60dfab44\nStep 6/13 : FROM nginx:alpine\n ---> 1e415454686a\nStep 7/13 : STOPSIGNAL SIGQUIT\n ---> Running in 650e09af6f3d\nRemoving intermediate container 650e09af6f3d\n ---> bf1e2f14f123\nStep 8/13 : WORKDIR /srv\n ---> Running in 01e0ce3b660d\nRemoving intermediate container 01e0ce3b660d\n ---> c413e5f8edc5\nStep 9/13 : RUN apk --no-cache add gettext\n ---> Running in 1b2c3600467b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/4) Installing libgomp (12.2.1_git20220924-r4)\n(2/4) Installing libunistring (1.1-r0)\n(3/4) Installing gettext-libs (0.21.1-r1)\n(4/4) Installing gettext (0.21.1-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 47 MiB in 66 packages\nRemoving intermediate container 1b2c3600467b\n ---> d4ab454d087e\nStep 10/13 : COPY --from=build /srv/container/ /srv/\n ---> b69e6b562565\nStep 11/13 : COPY --from=build /srv/public /usr/share/nginx/html\n ---> 730cea134819\nStep 12/13 : ENTRYPOINT [\"/srv/entrypoint.sh\"]\n ---> Running in fe9b37a33ead\nRemoving intermediate container fe9b37a33ead\n ---> 82a6b82e9792\nStep 13/13 : CMD [\"nginx\", \"-g\", \"daemon off;\"]\n ---> Running in 6b1b79c3104e\nRemoving intermediate container 6b1b79c3104e\n ---> 2250934ab269\nSuccessfully built 2250934ab269\nSuccessfully tagged retrograde.js:latest\n","stderr":"","imageSize":45559336},"endTime":1672545603930}