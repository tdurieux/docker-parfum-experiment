{"repository":"https://github.com/wongnai/kube-slack","dockerfilePath":"Dockerfile","startTime":1673075772145,"endTime":1673075901421,"clone":{"startTime":1673075772145,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/wongnai/kube-slack'...\n","error":null,"endTime":1673075772870,"commit":"96e1b147c45b3336f4dd1d578be651613a66c454"},"originalBuild":{"startTime":1673075772955,"endTime":1673075842426,"error":null,"stdout":"Sending build context to Docker daemon   59.9kB\r\r\nStep 1/17 : FROM node:10-alpine AS build\n10-alpine: Pulling from library/node\nddad3d7c1e96: Pulling fs layer\nde915e575d22: Pulling fs layer\n7150aa69525b: Pulling fs layer\nd7aa47be044e: Pulling fs layer\n7150aa69525b: Verifying Checksum\n7150aa69525b: Download complete\nddad3d7c1e96: Verifying Checksum\nddad3d7c1e96: Download complete\nde915e575d22: Verifying Checksum\nde915e575d22: Download complete\nd7aa47be044e: Verifying Checksum\nd7aa47be044e: Download complete\nddad3d7c1e96: Pull complete\nde915e575d22: Pull complete\n7150aa69525b: Pull complete\nd7aa47be044e: Pull complete\nDigest: sha256:dc98dac24efd4254f75976c40bce46944697a110d06ce7fa47e7268470cf2e28\nStatus: Downloaded newer image for node:10-alpine\n ---> aa67ba258e18\nStep 2/17 : WORKDIR /app\n ---> Running in 493d3276bbfb\nRemoving intermediate container 493d3276bbfb\n ---> 043ad13feab1\nStep 3/17 : COPY package.json /app\n ---> 95fdaf973081\nStep 4/17 : RUN npm install\n ---> Running in 42c9bb8abf18\n\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\u001b[91mnpm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\n\u001b[0m\n> es5-ext@0.10.62 postinstall /app/node_modules/es5-ext\n>  node -e \"try{require('./_postinstall')}catch(e){}\" || exit 0\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No description\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No license field.\n\u001b[0m\u001b[91m\n\u001b[0madded 244 packages from 261 contributors and audited 245 packages in 10.29s\n\n18 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (3 low, 3 moderate, 3 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 42c9bb8abf18\n ---> 71fe45206dee\nStep 5/17 : COPY . /app\n ---> 8ae3796ce0f6\nStep 6/17 : RUN npm run build\n ---> Running in 07dc0d0a76cd\n\n> kube-slack@4.2.0 build /app\n> npm run tslint && tsc\n\n\n> kube-slack@4.2.0 tslint /app\n> tslint -c tslint.json -p tsconfig.json\n\nRemoving intermediate container 07dc0d0a76cd\n ---> 041f15099df5\nStep 7/17 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 8/17 : ENV user kube-slack\n ---> Running in 9008dde1212f\nRemoving intermediate container 9008dde1212f\n ---> 772d7066f913\nStep 9/17 : RUN addgroup -S $user && adduser -S -g $user $user\n ---> Running in 946d03418a62\nRemoving intermediate container 946d03418a62\n ---> 6b57e9e10cc1\nStep 10/17 : WORKDIR /app\n ---> Running in 674c1caa8f96\nRemoving intermediate container 674c1caa8f96\n ---> 80797f5a05f5\nStep 11/17 : COPY package.json /app\n ---> 020760115a4a\nStep 12/17 : RUN npm install --production\n ---> Running in e214d61f06ba\n\u001b[91mnpm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> es5-ext@0.10.62 postinstall /app/node_modules/es5-ext\n>  node -e \"try{require('./_postinstall')}catch(e){}\" || exit 0\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No description\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No license field.\n\u001b[0m\u001b[91m\n\u001b[0madded 193 packages from 157 contributors and audited 245 packages in 5.215s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (3 low, 3 moderate, 3 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container e214d61f06ba\n ---> 66f837b7179c\nStep 13/17 : COPY --from=build /app/build/ /app\n ---> 6e073209756d\nStep 14/17 : COPY config/ /app/config/\n ---> 45e6d3518675\nStep 15/17 : RUN chown -R $user:$user /app\n ---> Running in dcfee0108b19\nRemoving intermediate container dcfee0108b19\n ---> 0addb746c3ba\nStep 16/17 : USER $user\n ---> Running in 38b3a60dee74\nRemoving intermediate container 38b3a60dee74\n ---> 94917fe521b7\nStep 17/17 : CMD [\"node\", \".\"]\n ---> Running in eb9d307d63e0\nRemoving intermediate container eb9d307d63e0\n ---> beb3817dc7e0\nSuccessfully built beb3817dc7e0\nSuccessfully tagged kube-slack:latest\n","stderr":"","imageSize":151358312},"repair":{"startTime":1673075842494,"endTime":1673075842603,"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":4,"end":4,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":16,"end":16,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"# Build\nFROM node:10-alpine AS build\nWORKDIR /app\nCOPY package.json /app\nRUN npm install && npm cache clean --force;\nCOPY . /app\nRUN npm run build\n\n# Run\nFROM node:10-alpine\n# Don't run as root user\nENV user kube-slack\nRUN addgroup -S $user && adduser -S -g $user $user\n\nWORKDIR /app\nCOPY package.json /app\nRUN npm install --production && npm cache clean --force;\n\nCOPY --from=build /app/build/ /app\nCOPY config/ /app/config/\n\nRUN chown -R $user:$user /app\nUSER $user\n\nCMD [\"node\", \".\"]\n"},"repairedBuild":{"startTime":1673075843005,"endTime":1673075901033,"error":null,"stdout":"Sending build context to Docker daemon   59.9kB\r\r\nStep 1/17 : FROM node:10-alpine AS build\n ---> aa67ba258e18\nStep 2/17 : WORKDIR /app\n ---> Running in b69a88f82bbd\nRemoving intermediate container b69a88f82bbd\n ---> b051f3282245\nStep 3/17 : COPY package.json /app\n ---> 02f6722f9cbf\nStep 4/17 : RUN npm install && npm cache clean --force;\n ---> Running in 6cb78e7a4313\n\u001b[91mnpm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> es5-ext@0.10.62 postinstall /app/node_modules/es5-ext\n>  node -e \"try{require('./_postinstall')}catch(e){}\" || exit 0\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No description\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No license field.\n\u001b[0m\u001b[91m\n\u001b[0madded 244 packages from 261 contributors and audited 245 packages in 5.94s\n\n18 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (3 low, 3 moderate, 3 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 6cb78e7a4313\n ---> 582517be8df8\nStep 5/17 : COPY . /app\n ---> 6a8cecf47715\nStep 6/17 : RUN npm run build\n ---> Running in dda80dfc38c5\n\n> kube-slack@4.2.0 build /app\n> npm run tslint && tsc\n\n\n> kube-slack@4.2.0 tslint /app\n> tslint -c tslint.json -p tsconfig.json\n\nRemoving intermediate container dda80dfc38c5\n ---> fe9f3afdecdf\nStep 7/17 : FROM node:10-alpine\n ---> aa67ba258e18\nStep 8/17 : ENV user kube-slack\n ---> Running in 409abbf51c27\nRemoving intermediate container 409abbf51c27\n ---> 0a6fc198eb85\nStep 9/17 : RUN addgroup -S $user && adduser -S -g $user $user\n ---> Running in 359d22fd9c46\nRemoving intermediate container 359d22fd9c46\n ---> ce565342d1c3\nStep 10/17 : WORKDIR /app\n ---> Running in a660351bae6d\nRemoving intermediate container a660351bae6d\n ---> 3872248f02e2\nStep 11/17 : COPY package.json /app\n ---> 67500dea6765\nStep 12/17 : RUN npm install --production && npm cache clean --force;\n ---> Running in 71f8081df0d5\n\u001b[91mnpm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\n\u001b[0m\u001b[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n\u001b[0m\u001b[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\n\u001b[0m\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m\n> es5-ext@0.10.62 postinstall /app/node_modules/es5-ext\n>  node -e \"try{require('./_postinstall')}catch(e){}\" || exit 0\n\n\u001b[91mnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u001b[0m\u001b[91mnpm WARN notsup Unsupported engine for winston@3.8.2: wanted: {\"node\":\">= 12.0.0\"} (current: {\"node\":\"10.24.1\",\"npm\":\"6.14.12\"})\nnpm WARN notsup Not compatible with your version of node/npm: winston@3.8.2\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No description\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No repository field.\n\u001b[0m\u001b[91mnpm WARN kube-slack@4.2.0 No license field.\n\u001b[0m\u001b[91m\n\u001b[0madded 193 packages from 157 contributors and audited 245 packages in 6.449s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\nfound 9 vulnerabilities (3 low, 3 moderate, 3 high)\n  run `npm audit fix` to fix them, or `npm audit` for details\n\u001b[91mnpm\u001b[0m\u001b[91m WARN using --force I sure hope you know what you are doing.\n\u001b[0mRemoving intermediate container 71f8081df0d5\n ---> 6cf90a9adbeb\nStep 13/17 : COPY --from=build /app/build/ /app\n ---> 05051fb5035a\nStep 14/17 : COPY config/ /app/config/\n ---> c6bfcb8e41e4\nStep 15/17 : RUN chown -R $user:$user /app\n ---> Running in f4bc1e166076\nRemoving intermediate container f4bc1e166076\n ---> 49de1958fbfe\nStep 16/17 : USER $user\n ---> Running in d5e61f570986\nRemoving intermediate container d5e61f570986\n ---> cf1b1b74a6da\nStep 17/17 : CMD [\"node\", \".\"]\n ---> Running in 5205204fa66c\nRemoving intermediate container 5205204fa66c\n ---> b40679f71d43\nSuccessfully built b40679f71d43\nSuccessfully tagged kube-slack:latest\n","stderr":"","imageSize":116366158}}