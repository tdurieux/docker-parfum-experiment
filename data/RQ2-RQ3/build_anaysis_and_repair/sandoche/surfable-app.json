{"repository":"https://github.com/sandoche/surfable-app","dockerfilePath":"Dockerfile","startTime":1672799903520,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/sandoche/surfable-app'...\n","error":null,"commit":"2d0bd670ed3fb1f44c5ba08249fc631d4b570b07"},"originalBuild":{"startTimestamp":1672799909089,"endTimestamp":1672799989067,"error":null,"stdout":"Sending build context to Docker daemon  159.3MB\r\r\nStep 1/11 : FROM node:14\n14: Pulling from library/node\nc7c50787e2da: Pulling fs layer\naff359114acb: Pulling fs layer\n821dc261e045: Pulling fs layer\n3790459d63d5: Pulling fs layer\nc09b016fff62: Pulling fs layer\n5348855a40c0: Pulling fs layer\n06a6920a92b8: Pulling fs layer\n56023b82801b: Pulling fs layer\ne7b01bcb8f88: Pulling fs layer\nc09b016fff62: Waiting\n5348855a40c0: Waiting\n06a6920a92b8: Waiting\n56023b82801b: Waiting\ne7b01bcb8f88: Waiting\n3790459d63d5: Waiting\naff359114acb: Verifying Checksum\naff359114acb: Download complete\n821dc261e045: Verifying Checksum\n821dc261e045: Download complete\nc7c50787e2da: Verifying Checksum\nc7c50787e2da: Download complete\n3790459d63d5: Verifying Checksum\n3790459d63d5: Download complete\n5348855a40c0: Verifying Checksum\n5348855a40c0: Download complete\n56023b82801b: Verifying Checksum\n56023b82801b: Download complete\n06a6920a92b8: Verifying Checksum\n06a6920a92b8: Download complete\ne7b01bcb8f88: Download complete\nc7c50787e2da: Pull complete\nc09b016fff62: Verifying Checksum\nc09b016fff62: Download complete\naff359114acb: Pull complete\n821dc261e045: Pull complete\n3790459d63d5: Pull complete\nc09b016fff62: Pull complete\n5348855a40c0: Pull complete\n06a6920a92b8: Pull complete\n56023b82801b: Pull complete\ne7b01bcb8f88: Pull complete\nDigest: sha256:b6ab85c15f1c372bca3bde8585fbf5739b679aa9119f46e7d2bd41c1dcc05959\nStatus: Downloaded newer image for node:14\n ---> 0f2c7f307e4d\nStep 2/11 : ARG PM2_PUBLIC_KEY=${PM2_PUBLIC_KEY}\n ---> Running in eafb5fcfa381\nRemoving intermediate container eafb5fcfa381\n ---> e04d84d03338\nStep 3/11 : ARG PM2_SECRET_KEY=${PM2_SECRET_KEY}\n ---> Running in d976f7746165\nRemoving intermediate container d976f7746165\n ---> 88e1152176bc\nStep 4/11 : WORKDIR /usr/src/app\n ---> Running in ea6fc930e193\nRemoving intermediate container ea6fc930e193\n ---> e18e4ffe1bcf\nStep 5/11 : COPY . .\n ---> 9f6652e408ab\nStep 6/11 : RUN npm install pm2 -g\n ---> Running in 519040f22820\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/usr/local/bin/pm2 -> /usr/local/lib/node_modules/pm2/bin/pm2\n/usr/local/bin/pm2-runtime -> /usr/local/lib/node_modules/pm2/bin/pm2-runtime\n/usr/local/bin/pm2-dev -> /usr/local/lib/node_modules/pm2/bin/pm2-dev\n/usr/local/bin/pm2-docker -> /usr/local/lib/node_modules/pm2/bin/pm2-docker\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 11.183s\nRemoving intermediate container 519040f22820\n ---> 78bcf02f6742\nStep 7/11 : ENV PM2_PUBLIC_KEY $PM2_PUBLIC_KEY\n ---> Running in 682efeff64c5\nRemoving intermediate container 682efeff64c5\n ---> 6144095a020b\nStep 8/11 : ENV PM2_SECRET_KEY $PM2_SECRET_KEY\n ---> Running in f237fcf53069\nRemoving intermediate container f237fcf53069\n ---> 6be6fd111a98\nStep 9/11 : RUN npm install\n ---> Running in 7ff79e9a732f\n\n> core-js@2.6.9 postinstall /usr/src/app/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> nodemon@2.0.15 postinstall /usr/src/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/nodemon/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 660 packages from 311 contributors and audited 730 packages in 10.335s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 55 vulnerabilities (6 low, 5 moderate, 30 high, 14 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 7ff79e9a732f\n ---> 75b690b6664b\nStep 10/11 : RUN npm run build\n ---> Running in 5701947bf0ff\n\n> surfable-app@1.0.8 build /usr/src/app\n> npm run clean && npm run transpile && npm run copy-assets\n\n\n> surfable-app@1.0.8 clean /usr/src/app\n> rm -rf build && mkdir build\n\n\n> surfable-app@1.0.8 transpile /usr/src/app\n> babel --presets es2015,env -d ./build ./src -s\n\nsrc/app.js -> build/app.js\nsrc/config.js -> build/config.js\nsrc/controller/indexController.js -> build/controller/indexController.js\nsrc/controller/pwaController.js -> build/controller/pwaController.js\nsrc/controller/searchController.js -> build/controller/searchController.js\nsrc/controller/versionController.js -> build/controller/versionController.js\nsrc/data/websites.js -> build/data/websites.js\nsrc/public/javascripts/auto-complete.js -> build/public/javascripts/auto-complete.js\nsrc/public/javascripts/micromodal.min.js -> build/public/javascripts/micromodal.min.js\nsrc/service/appDataService.js -> build/service/appDataService.js\nsrc/service/localDataService.js -> build/service/localDataService.js\nsrc/service/searchService.js -> build/service/searchService.js\n\n> surfable-app@1.0.8 copy-assets /usr/src/app\n> cp -r ./src/views ./build && cp -r ./src/public ./build\n\nRemoving intermediate container 5701947bf0ff\n ---> bfc596a97531\nStep 11/11 : CMD [\"pm2-runtime\", \"ecosystem.config.js\"]\n ---> Running in b0fe3097ba5e\nRemoving intermediate container b0fe3097ba5e\n ---> 38865da4cf6c\nSuccessfully built 38865da4cf6c\nSuccessfully tagged surfable-app:latest\n","stderr":"","imageSize":1164205374},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":22}},{"name":"npmCacheCleanAfterInstall","position":{"start":14,"end":14,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:14\n\nARG PM2_PUBLIC_KEY=${PM2_PUBLIC_KEY}\nARG PM2_SECRET_KEY=${PM2_SECRET_KEY}\n\nWORKDIR /usr/src/app\n\nCOPY . .\n\nRUN npm install pm2 -g\n\nENV PM2_PUBLIC_KEY $PM2_PUBLIC_KEY\nENV PM2_SECRET_KEY $PM2_SECRET_KEY\n\nRUN npm install\nRUN npm run build\n\nCMD [\"pm2-runtime\", \"ecosystem.config.js\"]\n"},"repairedBuild":{"startTimestamp":1672799990145,"endTimestamp":1672800151870,"error":null,"stdout":"Sending build context to Docker daemon  159.3MB\r\r\nStep 1/11 : FROM node:14\n ---> 0f2c7f307e4d\nStep 2/11 : ARG PM2_PUBLIC_KEY=${PM2_PUBLIC_KEY}\n ---> Running in 9b8870fd48e0\nRemoving intermediate container 9b8870fd48e0\n ---> dddc18d9295f\nStep 3/11 : ARG PM2_SECRET_KEY=${PM2_SECRET_KEY}\n ---> Running in c3af12a626f6\nRemoving intermediate container c3af12a626f6\n ---> dba9eebd0ef9\nStep 4/11 : WORKDIR /usr/src/app\n ---> Running in 1ca7fac82711\nRemoving intermediate container 1ca7fac82711\n ---> 1be96933fdd7\nStep 5/11 : COPY . .\n ---> ef922670718c\nStep 6/11 : RUN npm install pm2 -g\n ---> Running in 8a88ca0818fc\n\u001b[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n\u001b[0m/usr/local/bin/pm2 -> /usr/local/lib/node_modules/pm2/bin/pm2\n/usr/local/bin/pm2-docker -> /usr/local/lib/node_modules/pm2/bin/pm2-docker\n/usr/local/bin/pm2-dev -> /usr/local/lib/node_modules/pm2/bin/pm2-dev\n/usr/local/bin/pm2-runtime -> /usr/local/lib/node_modules/pm2/bin/pm2-runtime\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/pm2/node_modules/chokidar/node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0m+ pm2@5.2.2\nadded 184 packages from 182 contributors in 11.463s\nRemoving intermediate container 8a88ca0818fc\n ---> 2450475d6bc9\nStep 7/11 : ENV PM2_PUBLIC_KEY $PM2_PUBLIC_KEY\n ---> Running in 066aa8d8fa55\nRemoving intermediate container 066aa8d8fa55\n ---> af7de9b2109e\nStep 8/11 : ENV PM2_SECRET_KEY $PM2_SECRET_KEY\n ---> Running in b9579a89c2bf\nRemoving intermediate container b9579a89c2bf\n ---> 1e97403483aa\nStep 9/11 : RUN npm install\n ---> Running in 6fdea74d4b50\n\n> core-js@2.6.9 postinstall /usr/src/app/node_modules/core-js\n> node scripts/postinstall || echo \"ignore\"\n\n\u001b[96mThank you for using core-js (\u001b[94m https://github.com/zloirock/core-js \u001b[96m) for polyfilling JavaScript standard library!\u001b[0m\n\n\u001b[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \u001b[0m\n\u001b[96m>\u001b[94m https://opencollective.com/core-js \u001b[0m\n\u001b[96m>\u001b[94m https://www.patreon.com/zloirock \u001b[0m\n\n\u001b[96mAlso, the author of core-js (\u001b[94m https://github.com/zloirock \u001b[96m) is looking for a good job -)\u001b[0m\n\n\n> nodemon@2.0.15 postinstall /usr/src/app/node_modules/nodemon\n> node bin/postinstall || exit 0\n\n\u001b[32mLove nodemon? You can now support the project via the open collective:\u001b[22m\u001b[39m\n > \u001b[96m\u001b[1mhttps://opencollective.com/nodemon/donate\u001b[0m\n\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules/nodemon/node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN \u001b[0m\u001b[91mnotsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 660 packages from 311 contributors and audited 730 packages in 11.63s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 55 vulnerabilities (6 low, 5 moderate, 30 high, 14 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 6fdea74d4b50\n ---> 2c6b0e8132aa\nStep 10/11 : RUN npm run build\n ---> Running in 9c4d28fbf02d\n\n> surfable-app@1.0.8 build /usr/src/app\n> npm run clean && npm run transpile && npm run copy-assets\n\n\n> surfable-app@1.0.8 clean /usr/src/app\n> rm -rf build && mkdir build\n\n\n> surfable-app@1.0.8 transpile /usr/src/app\n> babel --presets es2015,env -d ./build ./src -s\n\nsrc/app.js -> build/app.js\nsrc/config.js -> build/config.js\nsrc/controller/indexController.js -> build/controller/indexController.js\nsrc/controller/pwaController.js -> build/controller/pwaController.js\nsrc/controller/searchController.js -> build/controller/searchController.js\nsrc/controller/versionController.js -> build/controller/versionController.js\nsrc/data/websites.js -> build/data/websites.js\nsrc/public/javascripts/auto-complete.js -> build/public/javascripts/auto-complete.js\nsrc/public/javascripts/micromodal.min.js -> build/public/javascripts/micromodal.min.js\nsrc/service/appDataService.js -> build/service/appDataService.js\nsrc/service/localDataService.js -> build/service/localDataService.js\nsrc/service/searchService.js -> build/service/searchService.js\n\n> surfable-app@1.0.8 copy-assets /usr/src/app\n> cp -r ./src/views ./build && cp -r ./src/public ./build\n\nRemoving intermediate container 9c4d28fbf02d\n ---> b7d5f3de58e8\nStep 11/11 : CMD [\"pm2-runtime\", \"ecosystem.config.js\"]\n ---> Running in d1d6535d5409\nRemoving intermediate container d1d6535d5409\n ---> fca9a9eddfba\nSuccessfully built fca9a9eddfba\nSuccessfully tagged surfable-app:latest\n","stderr":"","imageSize":1164205417},"endTime":1672800152525}