{"repository":"https://github.com/acmucsd/ctfbot","dockerfilePath":"Dockerfile","startTime":1672340064531,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/acmucsd/ctfbot'...\n","error":null,"commit":"a553e4349ac1c8894a6678e110ea333eb108a89e"},"originalBuild":{"startTimestamp":1672340065449,"endTimestamp":1672340230324,"error":null,"stdout":"Sending build context to Docker daemon  984.1kB\r\r\nStep 1/19 : FROM node:lts-alpine AS base\nlts-alpine: Pulling from library/node\nDigest: sha256:a136ed7b0df71082cdb171f36d640ea3b392a5c70401c642326acee767b8c540\nStatus: Downloaded newer image for node:lts-alpine\n ---> 6d7b7852bcd3\nStep 2/19 : WORKDIR /app\n ---> Running in 93aa9968f012\nRemoving intermediate container 93aa9968f012\n ---> 0d8efbaa2783\nStep 3/19 : COPY package.json .\n ---> 14ffcf466ee3\nStep 4/19 : COPY package-lock.json .\n ---> 7ee9f498b3b2\nStep 5/19 : FROM base AS dependencies\n ---> 7ee9f498b3b2\nStep 6/19 : RUN apk add --no-cache git python3 make gcc g++\n ---> Running in a816c8b2a3a6\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/30) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/30) Installing binutils (2.39-r2)\n(3/30) Installing libgomp (12.2.1_git20220924-r4)\n(4/30) Installing libatomic (12.2.1_git20220924-r4)\n(5/30) Installing gmp (6.2.1-r2)\n(6/30) Installing isl25 (0.25-r0)\n(7/30) Installing mpfr4 (4.1.0-r0)\n(8/30) Installing mpc1 (1.2.1-r1)\n(9/30) Installing gcc (12.2.1_git20220924-r4)\n(10/30) Installing musl-dev (1.2.3-r4)\n(11/30) Installing libc-dev (0.7.2-r3)\n(12/30) Installing g++ (12.2.1_git20220924-r4)\n(13/30) Installing ca-certificates (20220614-r3)\n(14/30) Installing brotli-libs (1.0.9-r9)\n(15/30) Installing nghttp2-libs (1.51.0-r0)\n(16/30) Installing libcurl (7.87.0-r0)\n(17/30) Installing libexpat (2.5.0-r0)\n(18/30) Installing pcre2 (10.42-r0)\n(19/30) Installing git (2.38.2-r0)\n(20/30) Installing make (4.3-r1)\n(21/30) Installing libbz2 (1.0.8-r4)\n(22/30) Installing libffi (3.4.4-r0)\n(23/30) Installing gdbm (1.23-r0)\n(24/30) Installing xz-libs (5.2.9-r0)\n(25/30) Installing mpdecimal (2.5.1-r1)\n(26/30) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(27/30) Installing ncurses-libs (6.3_p20221119-r0)\n(28/30) Installing readline (8.2.0-r0)\n(29/30) Installing sqlite-libs (3.40.1-r0)\n(30/30) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 295 MiB in 47 packages\nRemoving intermediate container a816c8b2a3a6\n ---> a334a2c14b94\nStep 7/19 : RUN npm set progress=false && npm config set depth 0\n ---> Running in 3f0514711f88\nRemoving intermediate container 3f0514711f88\n ---> 16e735aed517\nStep 8/19 : RUN npm install --only=production\n ---> Running in 96b38a255958\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\nadded 173 packages, and audited 174 packages in 26s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 moderate, 1 high)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm \u001b[0m\u001b[91mnotice New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\nnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 96b38a255958\n ---> 2b1921343768\nStep 9/19 : RUN cp -R node_modules prod_node_modules\n ---> Running in 1ade76569204\nRemoving intermediate container 1ade76569204\n ---> de17a64e2f2f\nStep 10/19 : RUN npm install\n ---> Running in 2c46f489d118\n\u001b[91mnpm\u001b[0m\u001b[91m WARN deprecated messageformat@2.3.0: Package renamed as '@messageformat/core', see messageformat.github.io for more details. 'messageformat' will eventually provide a polyfill for Intl.MessageFormat, once it's been defined by Unicode & ECMA.\n\u001b[0m\nadded 365 packages, and audited 539 packages in 7s\n\n47 packages are looking for funding\n  run `npm fund` for details\n\n3 vulnerabilities (1 moderate, 2 high)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container 2c46f489d118\n ---> 589f92dfd17b\nStep 11/19 : FROM base AS release-build\n ---> 7ee9f498b3b2\nStep 12/19 : COPY --from=dependencies /app/node_modules ./node_modules\n ---> 2bb9517db710\nStep 13/19 : COPY src ./src\n ---> 1bc15378c3e7\nStep 14/19 : COPY tsconfig.json .\n ---> 5454f1d92411\nStep 15/19 : RUN npm run build\n ---> Running in 33ebceb342b4\n\n> ctfbot@1.0.0 build\n> npm run build-ts\n\n\n> ctfbot@1.0.0 build-ts\n> tsc\n\n\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container 33ebceb342b4\n ---> 0da9b74b8f6b\nStep 16/19 : FROM base AS production\n ---> 7ee9f498b3b2\nStep 17/19 : COPY --from=dependencies /app/prod_node_modules ./node_modules\n ---> 0f6c6cdc8bd3\nStep 18/19 : COPY --from=release-build /app/dist ./dist\n ---> 97247f9b041b\nStep 19/19 : CMD [ \"npm\", \"run\", \"start:prod\" ]\n ---> Running in 230e14e583cc\nRemoving intermediate container 230e14e583cc\n ---> 5d046a3e99e2\nSuccessfully built 5d046a3e99e2\nSuccessfully tagged ctfbot:latest\n","stderr":"","imageSize":215455951},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":8,"end":8,"columnStart":4,"columnEnd":33}},{"name":"npmCacheCleanAfterInstall","position":{"start":10,"end":10,"columnStart":4,"columnEnd":15}}],"repairedDockerfile":"FROM node:lts-alpine AS base\nWORKDIR /app\nCOPY package.json .\nCOPY package-lock.json .\n\nFROM base AS dependencies\nRUN apk add --no-cache git python3 make gcc g++\nRUN npm set progress=false && npm config set depth 0\nRUN npm install --only=production\nRUN cp -R node_modules prod_node_modules\nRUN npm install\n\nFROM base AS release-build\nCOPY --from=dependencies /app/node_modules ./node_modules\nCOPY src ./src\nCOPY tsconfig.json .\nRUN npm run build\n\nFROM base AS production\nCOPY --from=dependencies /app/prod_node_modules ./node_modules\nCOPY --from=release-build /app/dist ./dist\nCMD [ \"npm\", \"run\", \"start:prod\" ]"},"repairedBuild":{"startTimestamp":1672340230887,"endTimestamp":1672340374308,"error":null,"stdout":"Sending build context to Docker daemon  984.1kB\r\r\nStep 1/19 : FROM node:lts-alpine AS base\n ---> 6d7b7852bcd3\nStep 2/19 : WORKDIR /app\n ---> Running in 702723f9030a\nRemoving intermediate container 702723f9030a\n ---> 5ab227dd796e\nStep 3/19 : COPY package.json .\n ---> 138bd9529412\nStep 4/19 : COPY package-lock.json .\n ---> 610103d0b5f4\nStep 5/19 : FROM base AS dependencies\n ---> 610103d0b5f4\nStep 6/19 : RUN apk add --no-cache git python3 make gcc g++\n ---> Running in 22a5fc66b8fe\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/30) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(2/30) Installing binutils (2.39-r2)\n(3/30) Installing libgomp (12.2.1_git20220924-r4)\n(4/30) Installing libatomic (12.2.1_git20220924-r4)\n(5/30) Installing gmp (6.2.1-r2)\n(6/30) Installing isl25 (0.25-r0)\n(7/30) Installing mpfr4 (4.1.0-r0)\n(8/30) Installing mpc1 (1.2.1-r1)\n(9/30) Installing gcc (12.2.1_git20220924-r4)\n(10/30) Installing musl-dev (1.2.3-r4)\n(11/30) Installing libc-dev (0.7.2-r3)\n(12/30) Installing g++ (12.2.1_git20220924-r4)\n(13/30) Installing ca-certificates (20220614-r3)\n(14/30) Installing brotli-libs (1.0.9-r9)\n(15/30) Installing nghttp2-libs (1.51.0-r0)\n(16/30) Installing libcurl (7.87.0-r0)\n(17/30) Installing libexpat (2.5.0-r0)\n(18/30) Installing pcre2 (10.42-r0)\n(19/30) Installing git (2.38.2-r0)\n(20/30) Installing make (4.3-r1)\n(21/30) Installing libbz2 (1.0.8-r4)\n(22/30) Installing libffi (3.4.4-r0)\n(23/30) Installing gdbm (1.23-r0)\n(24/30) Installing xz-libs (5.2.9-r0)\n(25/30) Installing mpdecimal (2.5.1-r1)\n(26/30) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(27/30) Installing ncurses-libs (6.3_p20221119-r0)\n(28/30) Installing readline (8.2.0-r0)\n(29/30) Installing sqlite-libs (3.40.1-r0)\n(30/30) Installing python3 (3.10.9-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 295 MiB in 47 packages\nRemoving intermediate container 22a5fc66b8fe\n ---> 7999ba395735\nStep 7/19 : RUN npm set progress=false && npm config set depth 0\n ---> Running in 022a918bd259\nRemoving intermediate container 022a918bd259\n ---> 385a8b970cf4\nStep 8/19 : RUN npm install --only=production\n ---> Running in 1b70ea81e73b\n\u001b[91mnpm\u001b[0m\u001b[91m WARN config only Use `--omit=dev` to omit dev dependencies from the install.\n\u001b[0m\nadded 173 packages, and audited 174 packages in 27s\n\n13 packages are looking for funding\n  run `npm fund` for details\n\n2 vulnerabilities (1 moderate, 1 high)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\n\u001b[91mnpm notice \nnpm notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm notice\u001b[0m\u001b[91m Run `npm install -g npm@9.2.0` to update!\nnpm notice \n\u001b[0mRemoving intermediate container 1b70ea81e73b\n ---> bed5bfad9170\nStep 9/19 : RUN cp -R node_modules prod_node_modules\n ---> Running in fe77f9ba12b7\nRemoving intermediate container fe77f9ba12b7\n ---> 05f8a0ebb177\nStep 10/19 : RUN npm install\n ---> Running in a819483ae0df\n\u001b[91mnpm WARN deprecated messageformat@2.3.0: Package renamed as '@messageformat/core', see messageformat.github.io for more details. 'messageformat' will eventually provide a polyfill for Intl.MessageFormat, once it's been defined by Unicode & ECMA.\n\u001b[0m\nadded 365 packages, and audited 539 packages in 8s\n\n47 packages are looking for funding\n  run `npm fund` for details\n\n3 vulnerabilities (1 moderate, 2 high)\n\nTo address all issues, run:\n  npm audit fix\n\nRun `npm audit` for details.\nRemoving intermediate container a819483ae0df\n ---> b66989132b4a\nStep 11/19 : FROM base AS release-build\n ---> 610103d0b5f4\nStep 12/19 : COPY --from=dependencies /app/node_modules ./node_modules\n ---> b9aa1851de8c\nStep 13/19 : COPY src ./src\n ---> 77ff7db5046a\nStep 14/19 : COPY tsconfig.json .\n ---> 10ca4132d3df\nStep 15/19 : RUN npm run build\n ---> Running in ae7870c3e1dc\n\n> ctfbot@1.0.0 build\n> npm run build-ts\n\n\n> ctfbot@1.0.0 build-ts\n> tsc\n\n\u001b[91mnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m \nnpm\u001b[0m\u001b[91m notice\u001b[0m\u001b[91m New major version of npm available! 8.19.2 -> 9.2.0\nnpm \u001b[0m\u001b[91mnotice\u001b[0m\u001b[91m Changelog: <https://github.com/npm/cli/releases/tag/v9.2.0>\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice Run `npm install -g npm@9.2.0` to update!\n\u001b[0m\u001b[91mnpm \u001b[0m\u001b[91mnotice \n\u001b[0mRemoving intermediate container ae7870c3e1dc\n ---> f5ade4bd25cf\nStep 16/19 : FROM base AS production\n ---> 610103d0b5f4\nStep 17/19 : COPY --from=dependencies /app/prod_node_modules ./node_modules\n ---> a300d05e18f0\nStep 18/19 : COPY --from=release-build /app/dist ./dist\n ---> 1ef4a9b84af3\nStep 19/19 : CMD [ \"npm\", \"run\", \"start:prod\" ]\n ---> Running in 87b50afd34cc\nRemoving intermediate container 87b50afd34cc\n ---> a0940dc16ffc\nSuccessfully built a0940dc16ffc\nSuccessfully tagged ctfbot:latest\n","stderr":"","imageSize":215455951},"endTime":1672340374737}