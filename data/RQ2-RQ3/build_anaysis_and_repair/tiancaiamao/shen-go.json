{"repository":"https://github.com/tiancaiamao/shen-go","dockerfilePath":"Dockerfile","startTime":1672841039576,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/tiancaiamao/shen-go'...\n","error":null,"commit":"72ea76597ea38d2dedd8ed9a3afad8c0eee98d1f"},"originalBuild":{"startTimestamp":1672841040587,"endTimestamp":1672841274382,"error":null,"stdout":"Sending build context to Docker daemon  2.819MB\r\r\nStep 1/10 : FROM golang:alpine\n ---> cae57157ceaa\nStep 2/10 : RUN apk update\n ---> Running in ef531a64b37a\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\nRemoving intermediate container ef531a64b37a\n ---> 81fb2e82a62f\nStep 3/10 : RUN apk upgrade\n ---> Running in 7cc5a581c1b7\n(1/4) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/4) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/4) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(4/4) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 7cc5a581c1b7\n ---> 19b5f5e20cce\nStep 4/10 : RUN apk add alpine-sdk git upx\n ---> Running in 1dfc2fbe8a61\n(1/38) Installing fakeroot (1.29-r0)\n(2/38) Installing openssl (3.0.7-r2)\n(3/38) Installing libattr (2.5.1-r2)\n(4/38) Installing attr (2.5.1-r2)\n(5/38) Installing libacl (2.3.1-r1)\n(6/38) Installing tar (1.34-r1)\n(7/38) Installing pkgconf (1.9.3-r0)\n(8/38) Installing patch (2.7.6-r8)\n(9/38) Installing libgcc (12.2.1_git20220924-r4)\n(10/38) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/38) Installing lzip (1.23-r0)\n(12/38) Installing brotli-libs (1.0.9-r9)\n(13/38) Installing nghttp2-libs (1.51.0-r0)\n(14/38) Installing libcurl (7.87.0-r0)\n(15/38) Installing curl (7.87.0-r0)\n(16/38) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(17/38) Installing binutils (2.39-r2)\n(18/38) Installing libmagic (5.43-r0)\n(19/38) Installing file (5.43-r0)\n(20/38) Installing libgomp (12.2.1_git20220924-r4)\n(21/38) Installing libatomic (12.2.1_git20220924-r4)\n(22/38) Installing gmp (6.2.1-r2)\n(23/38) Installing isl25 (0.25-r0)\n(24/38) Installing mpfr4 (4.1.0-r0)\n(25/38) Installing mpc1 (1.2.1-r1)\n(26/38) Installing gcc (12.2.1_git20220924-r4)\n(27/38) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(28/38) Installing musl-dev (1.2.3-r4)\n(29/38) Installing libc-dev (0.7.2-r3)\n(30/38) Installing g++ (12.2.1_git20220924-r4)\n(31/38) Installing make (4.3-r1)\n(32/38) Installing fortify-headers (1.1-r1)\n(33/38) Installing build-base (0.5-r3)\n(34/38) Installing libexpat (2.5.0-r0)\n(35/38) Installing pcre2 (10.42-r0)\n(36/38) Installing git (2.38.2-r0)\n(37/38) Installing alpine-sdk (1.0-r1)\n(38/38) Installing upx (4.0.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 258 MiB in 54 packages\nRemoving intermediate container 1dfc2fbe8a61\n ---> 4ee51bf18909\nStep 5/10 : ENV GOPATH /usr/local\n ---> Running in 2557c71128bd\nRemoving intermediate container 2557c71128bd\n ---> 99e96b523bbd\nStep 6/10 : ADD ./ /usr/local/src/github.com/tiancaiamao/shen-go\n ---> 14c5d4fc63fe\nStep 7/10 : WORKDIR /usr/local/src/github.com/tiancaiamao/shen-go\n ---> Running in 33c3c85f3084\nRemoving intermediate container 33c3c85f3084\n ---> b714e31c8a6b\nStep 8/10 : RUN CGO_ENABLED=0 GOOS=linux go build -a -ldflags '-extldflags \"-static\"' -o shen cmd/shen/*.go\n ---> Running in 7c35e85950e8\nRemoving intermediate container 7c35e85950e8\n ---> d02eaf012858\nStep 9/10 : RUN upx -9 --ultra-brute ./shen\n ---> Running in 5a7fc7c8ffe8\n                       Ultimate Packer for eXecutables\n                          Copyright (C) 1996 - 2022\nUPX 4.0.1       Markus Oberhumer, Laszlo Molnar & John Reiser   Nov 16th 2022\n\n        File size         Ratio      Format      Name\n   --------------------   ------   -----------   -----------\n  15195659 ->   6427912   42.30%   linux/amd64   shen\n\nPacked 1 file.\nRemoving intermediate container 5a7fc7c8ffe8\n ---> 3cfc61ce6236\nStep 10/10 : RUN install ./shen /usr/local/bin/\n ---> Running in 8aa7eeedd227\nRemoving intermediate container 8aa7eeedd227\n ---> 25c66e68748b\nSuccessfully built 25c66e68748b\nSuccessfully tagged shen-go:latest\n","stderr":"","imageSize":737603288},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":4,"columnStart":4,"columnEnd":30}}],"repairedDockerfile":"FROM golang:alpine\n\nRUN apk update\nRUN apk upgrade\nRUN apk add --no-cache alpine-sdk git upx\n\nENV GOPATH /usr/local\nADD ./ /usr/local/src/github.com/tiancaiamao/shen-go\nWORKDIR /usr/local/src/github.com/tiancaiamao/shen-go\nRUN CGO_ENABLED=0 GOOS=linux go build -a -ldflags '-extldflags \"-static\"' -o shen cmd/shen/*.go\nRUN upx -9 --ultra-brute ./shen\nRUN install ./shen /usr/local/bin/\n"},"repairedBuild":{"startTimestamp":1672841274822,"endTimestamp":1672841517138,"error":null,"stdout":"Sending build context to Docker daemon  2.819MB\r\r\nStep 1/10 : FROM golang:alpine\n ---> cae57157ceaa\nStep 2/10 : RUN apk update\n ---> Running in 20c74d9d4f1b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-327-g2bd80c4a14 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-326-g3ec324c127 [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\nRemoving intermediate container 20c74d9d4f1b\n ---> f2d50c92ca32\nStep 3/10 : RUN apk upgrade\n ---> Running in 2183e7050f24\n(1/4) Upgrading ca-certificates-bundle (20220614-r2 -> 20220614-r3)\n(2/4) Upgrading libcrypto3 (3.0.7-r0 -> 3.0.7-r2)\n(3/4) Upgrading libssl3 (3.0.7-r0 -> 3.0.7-r2)\n(4/4) Upgrading ca-certificates (20220614-r2 -> 20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 2183e7050f24\n ---> 3fcbbe59bbc5\nStep 4/10 : RUN apk add --no-cache alpine-sdk git upx\n ---> Running in 1a1954e4f48c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/38) Installing fakeroot (1.29-r0)\n(2/38) Installing openssl (3.0.7-r2)\n(3/38) Installing libattr (2.5.1-r2)\n(4/38) Installing attr (2.5.1-r2)\n(5/38) Installing libacl (2.3.1-r1)\n(6/38) Installing tar (1.34-r1)\n(7/38) Installing pkgconf (1.9.3-r0)\n(8/38) Installing patch (2.7.6-r8)\n(9/38) Installing libgcc (12.2.1_git20220924-r4)\n(10/38) Installing libstdc++ (12.2.1_git20220924-r4)\n(11/38) Installing lzip (1.23-r0)\n(12/38) Installing brotli-libs (1.0.9-r9)\n(13/38) Installing nghttp2-libs (1.51.0-r0)\n(14/38) Installing libcurl (7.87.0-r0)\n(15/38) Installing curl (7.87.0-r0)\n(16/38) Installing abuild (3.10.0-r0)\nExecuting abuild-3.10.0-r0.pre-install\n(17/38) Installing binutils (2.39-r2)\n(18/38) Installing libmagic (5.43-r0)\n(19/38) Installing file (5.43-r0)\n(20/38) Installing libgomp (12.2.1_git20220924-r4)\n(21/38) Installing libatomic (12.2.1_git20220924-r4)\n(22/38) Installing gmp (6.2.1-r2)\n(23/38) Installing isl25 (0.25-r0)\n(24/38) Installing mpfr4 (4.1.0-r0)\n(25/38) Installing mpc1 (1.2.1-r1)\n(26/38) Installing gcc (12.2.1_git20220924-r4)\n(27/38) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(28/38) Installing musl-dev (1.2.3-r4)\n(29/38) Installing libc-dev (0.7.2-r3)\n(30/38) Installing g++ (12.2.1_git20220924-r4)\n(31/38) Installing make (4.3-r1)\n(32/38) Installing fortify-headers (1.1-r1)\n(33/38) Installing build-base (0.5-r3)\n(34/38) Installing libexpat (2.5.0-r0)\n(35/38) Installing pcre2 (10.42-r0)\n(36/38) Installing git (2.38.2-r0)\n(37/38) Installing alpine-sdk (1.0-r1)\n(38/38) Installing upx (4.0.1-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 258 MiB in 54 packages\nRemoving intermediate container 1a1954e4f48c\n ---> 868e18eb0d86\nStep 5/10 : ENV GOPATH /usr/local\n ---> Running in 55b56069602c\nRemoving intermediate container 55b56069602c\n ---> e57d246c82ff\nStep 6/10 : ADD ./ /usr/local/src/github.com/tiancaiamao/shen-go\n ---> 9760f344effd\nStep 7/10 : WORKDIR /usr/local/src/github.com/tiancaiamao/shen-go\n ---> Running in 1bb1d4c7ca0f\nRemoving intermediate container 1bb1d4c7ca0f\n ---> 1f839280c8d8\nStep 8/10 : RUN CGO_ENABLED=0 GOOS=linux go build -a -ldflags '-extldflags \"-static\"' -o shen cmd/shen/*.go\n ---> Running in c4dab9e3db64\nRemoving intermediate container c4dab9e3db64\n ---> 4e63862da68f\nStep 9/10 : RUN upx -9 --ultra-brute ./shen\n ---> Running in 55b63519495a\n                       Ultimate Packer for eXecutables\n                          Copyright (C) 1996 - 2022\nUPX 4.0.1       Markus Oberhumer, Laszlo Molnar & John Reiser   Nov 16th 2022\n\n        File size         Ratio      Format      Name\n   --------------------   ------   -----------   -----------\n  15195659 ->   6427912   42.30%   linux/amd64   shen\n\nPacked 1 file.\nRemoving intermediate container 55b63519495a\n ---> 7137780423b3\nStep 10/10 : RUN install ./shen /usr/local/bin/\n ---> Running in a1c799860f7d\nRemoving intermediate container a1c799860f7d\n ---> d40b7df0065e\nSuccessfully built d40b7df0065e\nSuccessfully tagged shen-go:latest\n","stderr":"","imageSize":737603299},"endTime":1672841517551}