{"repository":"https://github.com/c4po/harbor_exporter","dockerfilePath":"Dockerfile","startTime":1672959517025,"endTime":1672959594677,"clone":{"startTime":1672959517026,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/c4po/harbor_exporter'...\n","error":null,"endTime":1672959517842,"commit":"8d7e27a6caf794dd195137c8c44c5f7479befdf2"},"originalBuild":{"startTime":1672959517919,"endTime":1672959567123,"error":null,"stdout":"Sending build context to Docker daemon  623.1kB\r\r\nStep 1/12 : FROM golang:1.13-alpine AS builder\n1.13-alpine: Pulling from library/golang\ndf20fa9351a1: Pulling fs layer\ned8968b2872e: Pulling fs layer\na92cc7c5fd73: Pulling fs layer\ndd0b68742591: Pulling fs layer\nfb4ae7ba1102: Pulling fs layer\ndd0b68742591: Waiting\nfb4ae7ba1102: Waiting\na92cc7c5fd73: Verifying Checksum\na92cc7c5fd73: Download complete\ned8968b2872e: Verifying Checksum\ned8968b2872e: Download complete\ndf20fa9351a1: Download complete\ndf20fa9351a1: Pull complete\nfb4ae7ba1102: Download complete\ned8968b2872e: Pull complete\na92cc7c5fd73: Pull complete\ndd0b68742591: Download complete\ndd0b68742591: Pull complete\nfb4ae7ba1102: Pull complete\nDigest: sha256:e74b83b94d499cb34c7edf55fbdff9d3cfabd238a35f9cb1b59d0e74f50b1ddd\nStatus: Downloaded newer image for golang:1.13-alpine\n ---> 5863598a981a\nStep 2/12 : ENV GO111MODULE=on   CGO_ENABLED=0   GOOS=linux   GOARCH=amd64\n ---> Running in 6d17ea42039a\nRemoving intermediate container 6d17ea42039a\n ---> 6e90bae4cbfe\nStep 3/12 : RUN apk add make git\n ---> Running in 944eab5ce6ed\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.41.0-r0)\n(2/6) Installing libcurl (7.79.1-r1)\n(3/6) Installing expat (2.2.10-r4)\n(4/6) Installing pcre2 (10.35-r0)\n(5/6) Installing git (2.26.3-r1)\n(6/6) Installing make (4.3-r0)\nExecuting busybox-1.31.1-r16.trigger\nOK: 22 MiB in 21 packages\nRemoving intermediate container 944eab5ce6ed\n ---> 00d8bfdf91e5\nStep 4/12 : WORKDIR /src\n ---> Running in c29e2c3ed174\nRemoving intermediate container c29e2c3ed174\n ---> ab08c1f776fc\nStep 5/12 : COPY . .\n ---> 68e72bdd91fb\nStep 6/12 : RUN make build\n ---> Running in 5d4edd784370\n\u001b[91mgo: downloading github.com/go-kit/kit v0.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_golang v1.7.0\n\u001b[0m\u001b[91mgo: extracting gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/units v0.0.0-20190717042225-c3de453c63f4\ngo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: extracting github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: extracting github.com/go-kit/kit v0.10.0\n\u001b[0m\u001b[91mgo: extracting github.com/alecthomas/units v0.0.0-20190717042225-c3de453c63f4\ngo: extracting github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_golang v1.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.2\ngo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\ngo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.0\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: extracting github.com/cespare/xxhash/v2 v2.1.1\ngo: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1\ngo: extracting github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: extracting github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.23.0\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: extracting github.com/go-logfmt/logfmt v0.5.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0m\u001b[91mgo: extracting google.golang.org/protobuf v1.23.0\n\u001b[0m\u001b[91mgo: extracting golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: finding github.com/go-kit/kit v0.10.0\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_golang v1.7.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: finding github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/units v0.0.0-20190717042225-c3de453c63f4\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: finding github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: finding github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: finding github.com/go-logfmt/logfmt v0.5.0\n\u001b[0m\u001b[91mgo: finding github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: finding google.golang.org/protobuf v1.23.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0mRemoving intermediate container 5d4edd784370\n ---> 8a300ad537ed\nStep 7/12 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/12 : RUN apk --no-cache add ca-certificates\n ---> Running in 76afb96b009b\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 76afb96b009b\n ---> f7a0f823a19a\nStep 9/12 : RUN addgroup -g 1001 appgroup &&   adduser -H -D -s /bin/false -G appgroup -u 1001 appuser\n ---> Running in f774693295e5\nRemoving intermediate container f774693295e5\n ---> b14ebcc0940b\nStep 10/12 : USER 1001:1001\n ---> Running in ceff92ce2c0a\nRemoving intermediate container ceff92ce2c0a\n ---> 369e42959487\nStep 11/12 : COPY --from=builder /src/releases/harbor_exporter /bin/harbor_exporter\n ---> 6737f69c96c2\nStep 12/12 : ENTRYPOINT [\"/bin/harbor_exporter\"]\n ---> Running in 1430db9b86ea\nRemoving intermediate container 1430db9b86ea\n ---> b2dc6db44e59\nSuccessfully built b2dc6db44e59\nSuccessfully tagged harbor_exporter:latest\n","stderr":"","imageSize":23526412},"repair":{"startTime":1672959567184,"endTime":1672959567256,"violations":[{"name":"apkAddUseNoCache","position":{"start":7,"end":7,"columnStart":4,"columnEnd":20}}],"repairedDockerfile":"FROM golang:1.13-alpine AS builder\n\nENV GO111MODULE=on \\\n  CGO_ENABLED=0 \\\n  GOOS=linux \\\n  GOARCH=amd64\n\nRUN apk add --no-cache make git\nWORKDIR /src\nCOPY . .\n\nRUN make build\n\nFROM alpine:latest\nRUN apk --no-cache add ca-certificates\n\nRUN addgroup -g 1001 appgroup && \\\n  adduser -H -D -s /bin/false -G appgroup -u 1001 appuser\n\nUSER 1001:1001\nCOPY --from=builder /src/releases/harbor_exporter /bin/harbor_exporter\nENTRYPOINT [\"/bin/harbor_exporter\"]"},"repairedBuild":{"startTime":1672959567430,"endTime":1672959594429,"error":null,"stdout":"Sending build context to Docker daemon  623.1kB\r\r\nStep 1/12 : FROM golang:1.13-alpine AS builder\n ---> 5863598a981a\nStep 2/12 : ENV GO111MODULE=on   CGO_ENABLED=0   GOOS=linux   GOARCH=amd64\n ---> Running in 8c5f8f82d8c9\nRemoving intermediate container 8c5f8f82d8c9\n ---> 149ba3379967\nStep 3/12 : RUN apk add --no-cache make git\n ---> Running in 1a7ef6a30816\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\n(1/6) Installing nghttp2-libs (1.41.0-r0)\n(2/6) Installing libcurl (7.79.1-r1)\n(3/6) Installing expat (2.2.10-r4)\n(4/6) Installing pcre2 (10.35-r0)\n(5/6) Installing git (2.26.3-r1)\n(6/6) Installing make (4.3-r0)\nExecuting busybox-1.31.1-r16.trigger\nOK: 22 MiB in 21 packages\nRemoving intermediate container 1a7ef6a30816\n ---> 915fe1dd7d64\nStep 4/12 : WORKDIR /src\n ---> Running in a73f5e1361a7\nRemoving intermediate container a73f5e1361a7\n ---> 5c2df1a586f5\nStep 5/12 : COPY . .\n ---> 7262f1f9cef7\nStep 6/12 : RUN make build\n ---> Running in 72cbba26038e\n\u001b[91mgo: downloading github.com/prometheus/client_golang v1.7.0\ngo: downloading github.com/prometheus/common v0.10.0\ngo: downloading gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: downloading github.com/go-kit/kit v0.10.0\n\u001b[0m\u001b[91mgo: extracting gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/units v0.0.0-20190717042225-c3de453c63f4\n\u001b[0m\u001b[91mgo: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_golang v1.7.0\n\u001b[0m\u001b[91mgo: extracting github.com/alecthomas/units v0.0.0-20190717042225-c3de453c63f4\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: extracting github.com/go-kit/kit v0.10.0\ngo: extracting github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: downloading github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: extracting github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: extracting github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: extracting github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: extracting github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: extracting github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: downloading google.golang.org/protobuf v1.23.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0m\u001b[91mgo: extracting golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\ngo: extracting google.golang.org/protobuf v1.23.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-logfmt/logfmt v0.5.0\n\u001b[0m\u001b[91mgo: extracting github.com/go-logfmt/logfmt v0.5.0\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/common v0.10.0\n\u001b[0m\u001b[91mgo: finding github.com/go-kit/kit v0.10.0\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_golang v1.7.0\n\u001b[0m\u001b[91mgo: finding gopkg.in/alecthomas/kingpin.v2 v2.2.6\n\u001b[0m\u001b[91mgo: finding github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/client_model v0.2.0\n\u001b[0m\u001b[91mgo: finding github.com/beorn7/perks v1.0.1\n\u001b[0m\u001b[91mgo: finding github.com/cespare/xxhash/v2 v2.1.1\n\u001b[0m\u001b[91mgo: finding github.com/golang/protobuf v1.4.2\n\u001b[0m\u001b[91mgo: finding github.com/go-logfmt/logfmt v0.5.0\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n\u001b[0m\u001b[91mgo: finding github.com/alecthomas/units v0.0.0-20190717042225-c3de453c63f4\n\u001b[0m\u001b[91mgo: finding github.com/matttproud/golang_protobuf_extensions v1.0.1\n\u001b[0m\u001b[91mgo: finding github.com/prometheus/procfs v0.1.3\n\u001b[0m\u001b[91mgo: finding google.golang.org/protobuf v1.23.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f\n\u001b[0mRemoving intermediate container 72cbba26038e\n ---> 38bca68b5092\nStep 7/12 : FROM alpine:latest\n ---> 49176f190c7e\nStep 8/12 : RUN apk --no-cache add ca-certificates\n ---> Running in a5bb4d254883\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container a5bb4d254883\n ---> 17aa5c2c53a7\nStep 9/12 : RUN addgroup -g 1001 appgroup &&   adduser -H -D -s /bin/false -G appgroup -u 1001 appuser\n ---> Running in 9128d6acbf1c\nRemoving intermediate container 9128d6acbf1c\n ---> 611247e0ae27\nStep 10/12 : USER 1001:1001\n ---> Running in 32017bf7dce0\nRemoving intermediate container 32017bf7dce0\n ---> e1302722422c\nStep 11/12 : COPY --from=builder /src/releases/harbor_exporter /bin/harbor_exporter\n ---> ce9bff64efc1\nStep 12/12 : ENTRYPOINT [\"/bin/harbor_exporter\"]\n ---> Running in a1fd5de124ed\nRemoving intermediate container a1fd5de124ed\n ---> 90a6c4457708\nSuccessfully built 90a6c4457708\nSuccessfully tagged harbor_exporter:latest\n","stderr":"","imageSize":23526412}}