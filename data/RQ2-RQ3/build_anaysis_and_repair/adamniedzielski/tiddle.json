{"repository":"https://github.com/adamniedzielski/tiddle","dockerfilePath":"Dockerfile","startTime":1672866232597,"endTime":1672866372528,"clone":{"startTime":1672866232598,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/adamniedzielski/tiddle'...\n","error":null,"endTime":1672866233424,"commit":"375105ffacf1f1aa00102ad2688d010bc9712f40"},"originalBuild":{"startTime":1672866233518,"endTime":1672866316627,"error":null,"stdout":"Sending build context to Docker daemon  277.5kB\r\r\nStep 1/6 : FROM ruby:3.1-alpine\n3.1-alpine: Pulling from library/ruby\nc158987b0551: Already exists\nf1b187fb4925: Pulling fs layer\nddec471ccce4: Pulling fs layer\n24fc756522e2: Pulling fs layer\n960f237e1cd4: Pulling fs layer\nf1b187fb4925: Waiting\n960f237e1cd4: Waiting\n24fc756522e2: Waiting\nddec471ccce4: Waiting\nf1b187fb4925: Verifying Checksum\nf1b187fb4925: Download complete\n960f237e1cd4: Verifying Checksum\n960f237e1cd4: Download complete\nf1b187fb4925: Pull complete\nddec471ccce4: Pull complete\n24fc756522e2: Verifying Checksum\n24fc756522e2: Download complete\n24fc756522e2: Pull complete\n960f237e1cd4: Pull complete\nDigest: sha256:2b6520b4b99dd3aca29c1ea57c0a3bf406fff4624b5bd712984853989d650f51\nStatus: Downloaded newer image for ruby:3.1-alpine\n ---> ffd60f8fc6ad\nStep 2/6 : RUN apk add build-base sqlite-dev tzdata git bash\n ---> Running in 964aedea95cd\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/27) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(2/27) Installing binutils (2.39-r2)\n(3/27) Installing libmagic (5.43-r0)\n(4/27) Installing file (5.43-r0)\n(5/27) Installing libgomp (12.2.1_git20220924-r4)\n(6/27) Installing libatomic (12.2.1_git20220924-r4)\n(7/27) Installing isl25 (0.25-r0)\n(8/27) Installing mpfr4 (4.1.0-r0)\n(9/27) Installing mpc1 (1.2.1-r1)\n(10/27) Installing gcc (12.2.1_git20220924-r4)\n(11/27) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(12/27) Installing musl-dev (1.2.3-r4)\n(13/27) Installing libc-dev (0.7.2-r3)\n(14/27) Installing g++ (12.2.1_git20220924-r4)\n(15/27) Installing make (4.3-r1)\n(16/27) Installing fortify-headers (1.1-r1)\n(17/27) Installing patch (2.7.6-r8)\n(18/27) Installing build-base (0.5-r3)\n(19/27) Installing brotli-libs (1.0.9-r9)\n(20/27) Installing nghttp2-libs (1.51.0-r0)\n(21/27) Installing libcurl (7.87.0-r0)\n(22/27) Installing libexpat (2.5.0-r0)\n(23/27) Installing pcre2 (10.42-r0)\n(24/27) Installing git (2.38.2-r0)\n(25/27) Installing sqlite-libs (3.40.1-r0)\n(26/27) Installing sqlite-dev (3.40.1-r0)\n(27/27) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 271 MiB in 63 packages\nRemoving intermediate container 964aedea95cd\n ---> 8c441debf91e\nStep 3/6 : RUN gem update --system && gem install bundler\n ---> Running in bebdea629d35\nUpdating rubygems-update\nSuccessfully installed rubygems-update-3.4.2\nInstalling RubyGems 3.4.2\n  Successfully built RubyGem\n  Name: bundler\n  Version: 2.4.2\n  File: bundler-2.4.2.gem\nBundler 2.4.2 installed\nRubyGems 3.4.2 installed\nRegenerating binstubs\nRegenerating plugins\n\n# 3.4.2 / 2023-01-01\n\n## Enhancements:\n\n* Add global flag (`-C`) to change execution directory. Pull request #6180\n  by gustavothecoder\n* Installs bundler 2.4.2 as a default gem.\n\n# 3.4.1 / 2022-12-24\n\n## Enhancements:\n\n* Installs bundler 2.4.1 as a default gem.\n\n# 3.4.0 / 2022-12-24\n\n## Breaking changes:\n\n* Drop support for Ruby 2.3, 2.4, 2.5 and RubyGems 2.5, 2.6, 2.7. Pull\n  request #6107 by deivid-rodriguez\n* Remove support for deprecated OS. Pull request #6041 by peterzhu2118\n\n## Features:\n\n* Add 'call for update' to RubyGems install command. Pull request #5922 by\n  simi\n\n## Enhancements:\n\n* Add `mswin` support for cargo builder. Pull request #6167 by ianks\n* Validate Cargo.lock is present for Rust based extensions. Pull request\n  #6151 by simi\n* Clean built artifacts after building extensions. Pull request #6133 by\n  deivid-rodriguez\n* Installs bundler 2.4.0 as a default gem.\n\n## Bug fixes:\n\n* Fix crash due to `BundlerVersionFinder` not defined. Pull request #6152\n  by deivid-rodriguez\n* Don't leave corrupted partial package download around when running out\n  of disk space. Pull request #5681 by duckinator\n\n\n------------------------------------------------------------------------------\n\nRubyGems installed the following executables:\n\t/usr/local/bin/gem\n\t/usr/local/bin/bundle\n\t/usr/local/bin/bundler\n\nRubyGems system software updated\nSuccessfully installed bundler-2.4.2\n1 gem installed\nRemoving intermediate container bebdea629d35\n ---> 42544d95c589\nStep 4/6 : WORKDIR /library\n ---> Running in 4befe6854905\nRemoving intermediate container 4befe6854905\n ---> ebc2d20aab95\nStep 5/6 : ENV BUNDLE_PATH=/vendor/bundle     BUNDLE_BIN=/vendor/bundle/bin     GEM_HOME=/vendor/bundle\n ---> Running in d3c01807dc8f\nRemoving intermediate container d3c01807dc8f\n ---> ec94ed85ee10\nStep 6/6 : ENV PATH=\"${BUNDLE_BIN}:${PATH}\"\n ---> Running in 809b338a9976\nRemoving intermediate container 809b338a9976\n ---> 3594f008ae84\nSuccessfully built 3594f008ae84\nSuccessfully tagged tiddle:latest\n","stderr":"","imageSize":355592284},"repair":{"startTime":1672866316686,"endTime":1672866316759,"violations":[{"name":"gemUpdateSystemRmRootGem","position":{"start":3,"end":3,"columnStart":4,"columnEnd":23}},{"name":"gemUpdateNoDocument","position":{"start":3,"end":3,"columnStart":4,"columnEnd":23}},{"name":"apkAddUseNoCache","position":{"start":2,"end":2,"columnStart":4,"columnEnd":49}}],"repairedDockerfile":"FROM ruby:3.1-alpine\n\nRUN apk add --no-cache build-base sqlite-dev tzdata git bash\n    RUN mkdir -p /usr/local/etc \\\n  && { \\\n    echo 'install: --no-document'; \\\n    echo 'update: --no-document'; \\\n  } >> /usr/local/etc/gemrc;\nRUN gem update --system && gem install bundler && rm -rf /root/.gem;\n\nWORKDIR /library\n\nENV BUNDLE_PATH=/vendor/bundle \\\n    BUNDLE_BIN=/vendor/bundle/bin \\\n    GEM_HOME=/vendor/bundle\n\nENV PATH=\"${BUNDLE_BIN}:${PATH}\"\n"},"repairedBuild":{"startTime":1672866317041,"endTime":1672866370927,"error":null,"stdout":"Sending build context to Docker daemon  277.5kB\r\r\nStep 1/7 : FROM ruby:3.1-alpine\n ---> ffd60f8fc6ad\nStep 2/7 : RUN apk add --no-cache build-base sqlite-dev tzdata git bash\n ---> Running in 6f3e0adf3ceb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/27) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(2/27) Installing binutils (2.39-r2)\n(3/27) Installing libmagic (5.43-r0)\n(4/27) Installing file (5.43-r0)\n(5/27) Installing libgomp (12.2.1_git20220924-r4)\n(6/27) Installing libatomic (12.2.1_git20220924-r4)\n(7/27) Installing isl25 (0.25-r0)\n(8/27) Installing mpfr4 (4.1.0-r0)\n(9/27) Installing mpc1 (1.2.1-r1)\n(10/27) Installing gcc (12.2.1_git20220924-r4)\n(11/27) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(12/27) Installing musl-dev (1.2.3-r4)\n(13/27) Installing libc-dev (0.7.2-r3)\n(14/27) Installing g++ (12.2.1_git20220924-r4)\n(15/27) Installing make (4.3-r1)\n(16/27) Installing fortify-headers (1.1-r1)\n(17/27) Installing patch (2.7.6-r8)\n(18/27) Installing build-base (0.5-r3)\n(19/27) Installing brotli-libs (1.0.9-r9)\n(20/27) Installing nghttp2-libs (1.51.0-r0)\n(21/27) Installing libcurl (7.87.0-r0)\n(22/27) Installing libexpat (2.5.0-r0)\n(23/27) Installing pcre2 (10.42-r0)\n(24/27) Installing git (2.38.2-r0)\n(25/27) Installing sqlite-libs (3.40.1-r0)\n(26/27) Installing sqlite-dev (3.40.1-r0)\n(27/27) Installing tzdata (2022f-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 271 MiB in 63 packages\nRemoving intermediate container 6f3e0adf3ceb\n ---> 9bfe13efd939\nStep 3/7 : RUN mkdir -p /usr/local/etc   && {     echo 'install: --no-document';     echo 'update: --no-document';   } >> /usr/local/etc/gemrc;\n ---> Running in 1e06c24774d5\nRemoving intermediate container 1e06c24774d5\n ---> 0b42ea791593\nStep 4/7 : RUN gem update --system && gem install bundler && rm -rf /root/.gem;\n ---> Running in d1a76aaeba61\nUpdating rubygems-update\nSuccessfully installed rubygems-update-3.4.2\nInstalling RubyGems 3.4.2\n  Successfully built RubyGem\n  Name: bundler\n  Version: 2.4.2\n  File: bundler-2.4.2.gem\nBundler 2.4.2 installed\nRubyGems 3.4.2 installed\nRegenerating binstubs\nRegenerating plugins\n\n# 3.4.2 / 2023-01-01\n\n## Enhancements:\n\n* Add global flag (`-C`) to change execution directory. Pull request #6180\n  by gustavothecoder\n* Installs bundler 2.4.2 as a default gem.\n\n# 3.4.1 / 2022-12-24\n\n## Enhancements:\n\n* Installs bundler 2.4.1 as a default gem.\n\n# 3.4.0 / 2022-12-24\n\n## Breaking changes:\n\n* Drop support for Ruby 2.3, 2.4, 2.5 and RubyGems 2.5, 2.6, 2.7. Pull\n  request #6107 by deivid-rodriguez\n* Remove support for deprecated OS. Pull request #6041 by peterzhu2118\n\n## Features:\n\n* Add 'call for update' to RubyGems install command. Pull request #5922 by\n  simi\n\n## Enhancements:\n\n* Add `mswin` support for cargo builder. Pull request #6167 by ianks\n* Validate Cargo.lock is present for Rust based extensions. Pull request\n  #6151 by simi\n* Clean built artifacts after building extensions. Pull request #6133 by\n  deivid-rodriguez\n* Installs bundler 2.4.0 as a default gem.\n\n## Bug fixes:\n\n* Fix crash due to `BundlerVersionFinder` not defined. Pull request #6152\n  by deivid-rodriguez\n* Don't leave corrupted partial package download around when running out\n  of disk space. Pull request #5681 by duckinator\n\n\n------------------------------------------------------------------------------\n\nRubyGems installed the following executables:\n\t/usr/local/bin/gem\n\t/usr/local/bin/bundle\n\t/usr/local/bin/bundler\n\nRubyGems system software updated\nSuccessfully installed bundler-2.4.2\n1 gem installed\nRemoving intermediate container d1a76aaeba61\n ---> 8675374a1ff2\nStep 5/7 : WORKDIR /library\n ---> Running in 5ce99b771688\nRemoving intermediate container 5ce99b771688\n ---> 858382eadc56\nStep 6/7 : ENV BUNDLE_PATH=/vendor/bundle     BUNDLE_BIN=/vendor/bundle/bin     GEM_HOME=/vendor/bundle\n ---> Running in b76563e8de28\nRemoving intermediate container b76563e8de28\n ---> 0f8f059cd8a7\nStep 7/7 : ENV PATH=\"${BUNDLE_BIN}:${PATH}\"\n ---> Running in 6e1d9923b06f\nRemoving intermediate container 6e1d9923b06f\n ---> 90904f039f99\nSuccessfully built 90904f039f99\nSuccessfully tagged tiddle:latest\n","stderr":"","imageSize":353009346}}