{"repository":"https://github.com/nginxinc/nginx-ldap-auth","dockerfilePath":"Dockerfile","startTime":1672091911966,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/nginxinc/nginx-ldap-auth'...\n","error":null,"commit":"441312f1800d15b7fe2d82348193e068d42a5e49"},"originalBuild":{"startTimestamp":1672091912774,"endTimestamp":1672091934023,"error":null,"stdout":"Sending build context to Docker daemon  198.7kB\r\r\nStep 1/7 : ARG PYTHON_VERSION=2\nStep 2/7 : FROM python:${PYTHON_VERSION}-alpine\n2-alpine: Pulling from library/python\naad63a933944: Already exists\n259d822268fb: Pulling fs layer\n10ba96d218d3: Pulling fs layer\n44ba9f6a4209: Pulling fs layer\n259d822268fb: Verifying Checksum\n259d822268fb: Download complete\n44ba9f6a4209: Download complete\n259d822268fb: Pull complete\n10ba96d218d3: Verifying Checksum\n10ba96d218d3: Download complete\n10ba96d218d3: Pull complete\n44ba9f6a4209: Pull complete\nDigest: sha256:724d0540eb56ffaa6dd770aa13c3bc7dfc829dec561d87cb36b2f5b9ff8a760a\nStatus: Downloaded newer image for python:2-alpine\n ---> 8579e446340f\nStep 3/7 : COPY nginx-ldap-auth-daemon.py /usr/src/app/\n ---> 6006d5827366\nStep 4/7 : WORKDIR /usr/src/app/\n ---> Running in 57282bdab997\nRemoving intermediate container 57282bdab997\n ---> 3e67f22467aa\nStep 5/7 : RUN     apk --no-cache add openldap-dev &&     apk --no-cache add --virtual build-dependencies build-base &&     pip install python-ldap &&     apk del build-dependencies\n ---> Running in e58eae32e8a9\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/15) Upgrading libcrypto1.1 (1.1.1d-r3 -> 1.1.1l-r0)\n(2/15) Upgrading libssl1.1 (1.1.1d-r3 -> 1.1.1l-r0)\n(3/15) Installing pkgconf (1.6.3-r0)\n(4/15) Installing openssl-dev (1.1.1l-r0)\n(5/15) Installing db (5.3.28-r1)\n(6/15) Installing libsasl (2.1.27-r5)\n(7/15) Installing cyrus-sasl-dev (2.1.27-r5)\n(8/15) Installing libblkid (2.34-r1)\n(9/15) Installing libuuid (2.34-r1)\n(10/15) Installing libfdisk (2.34-r1)\n(11/15) Installing libmount (2.34-r1)\n(12/15) Installing libsmartcols (2.34-r1)\n(13/15) Installing util-linux-dev (2.34-r1)\n(14/15) Installing libldap (2.4.48-r3)\n(15/15) Installing openldap-dev (2.4.48-r3)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r1.trigger\nOK: 21 MiB in 45 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/20) Installing libgcc (9.3.0-r0)\n(3/20) Installing libstdc++ (9.3.0-r0)\n(4/20) Installing binutils (2.33.1-r1)\n(5/20) Installing libmagic (5.37-r1)\n(6/20) Installing file (5.37-r1)\n(7/20) Installing gmp (6.1.2-r1)\n(8/20) Installing isl (0.18-r0)\n(9/20) Installing libgomp (9.3.0-r0)\n(10/20) Installing libatomic (9.3.0-r0)\n(11/20) Installing mpfr4 (4.0.2-r1)\n(12/20) Installing mpc1 (1.1.0-r1)\n(13/20) Installing gcc (9.3.0-r0)\n(14/20) Installing musl-dev (1.1.24-r3)\n(15/20) Installing libc-dev (0.7.2-r0)\n(16/20) Installing g++ (9.3.0-r0)\n(17/20) Installing make (4.2.1-r2)\n(18/20) Installing fortify-headers (1.1-r0)\n(19/20) Installing build-base (0.5-r1)\n(20/20) Installing build-dependencies (20221226.215842)\nExecuting busybox-1.31.1-r9.trigger\nOK: 193 MiB in 64 packages\n\u001b[91mDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\n\u001b[0mCollecting python-ldap\n  Downloading python-ldap-3.3.1.tar.gz (379 kB)\nCollecting pyasn1>=0.3.7\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\nCollecting pyasn1_modules>=0.1.5\n  Downloading pyasn1_modules-0.2.8-py2.py3-none-any.whl (155 kB)\nBuilding wheels for collected packages: python-ldap\n  Building wheel for python-ldap (setup.py): started\n  Building wheel for python-ldap (setup.py): finished with status 'done'\n  Created wheel for python-ldap: filename=python_ldap-3.3.1-cp27-cp27mu-linux_x86_64.whl size=310708 sha256=0f137a2b009107eea047859d8e5141d79e1a5189ddd118836e7bab0335913993\n  Stored in directory: /root/.cache/pip/wheels/49/ce/54/be503766a8177f97a00858751af232700e87785e93037d12ac\nSuccessfully built python-ldap\nInstalling collected packages: pyasn1, pyasn1-modules, python-ldap\nSuccessfully installed pyasn1-0.4.8 pyasn1-modules-0.2.8 python-ldap-3.3.1\n\u001b[91mWARNING: You are using pip version 20.0.2; however, version 20.3.4 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0m\u001b[91mWARNING: Ignoring APKINDEX.70f61090.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.ca2fea5b.tar.gz: No such file or directory\n\u001b[0m(1/19) Purging build-dependencies (20221226.215842)\n(2/19) Purging build-base (0.5-r1)\n(3/19) Purging file (5.37-r1)\n(4/19) Purging g++ (9.3.0-r0)\n(5/19) Purging gcc (9.3.0-r0)\n(6/19) Purging binutils (2.33.1-r1)\n(7/19) Purging libatomic (9.3.0-r0)\n(8/19) Purging libgomp (9.3.0-r0)\n(9/19) Purging libstdc++ (9.3.0-r0)\n(10/19) Purging make (4.2.1-r2)\n(11/19) Purging libc-dev (0.7.2-r0)\n(12/19) Purging musl-dev (1.1.24-r3)\n(13/19) Purging fortify-headers (1.1-r0)\n(14/19) Purging libgcc (9.3.0-r0)\n(15/19) Purging libmagic (5.37-r1)\n(16/19) Purging isl (0.18-r0)\n(17/19) Purging mpc1 (1.1.0-r1)\n(18/19) Purging mpfr4 (4.0.2-r1)\n(19/19) Purging gmp (6.1.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 21 MiB in 45 packages\nRemoving intermediate container e58eae32e8a9\n ---> 1d9d7c1df6e8\nStep 6/7 : EXPOSE 8888\n ---> Running in d37154bc206c\nRemoving intermediate container d37154bc206c\n ---> a2c306149f6d\nStep 7/7 : CMD [\"python\", \"/usr/src/app/nginx-ldap-auth-daemon.py\", \"--host\", \"0.0.0.0\", \"--port\", \"8888\"]\n ---> Running in 123f2e84711d\nRemoving intermediate container 123f2e84711d\n ---> 8387ceeb06b6\nSuccessfully built 8387ceeb06b6\nSuccessfully tagged nginx-ldap-auth:latest\n","stderr":"","imageSize":96836372},"repair":{"violations":[{"name":"pipUseNoCacheDir","position":{"start":11,"end":11,"columnStart":4,"columnEnd":27}}],"repairedDockerfile":"ARG PYTHON_VERSION=2\nFROM python:${PYTHON_VERSION}-alpine\n\nCOPY nginx-ldap-auth-daemon.py /usr/src/app/\n\nWORKDIR /usr/src/app/\n\n# Install required software\nRUN \\\n    apk --no-cache add openldap-dev && \\\n    apk --no-cache add --virtual build-dependencies build-base && \\\n    pip install --no-cache-dir python-ldap && \\\n    apk del build-dependencies\n\nEXPOSE 8888\n\nCMD [\"python\", \"/usr/src/app/nginx-ldap-auth-daemon.py\", \"--host\", \"0.0.0.0\", \"--port\", \"8888\"]\n"},"repairedBuild":{"startTimestamp":1672091934351,"endTimestamp":1672091945456,"error":null,"stdout":"Sending build context to Docker daemon  198.7kB\r\r\nStep 1/7 : ARG PYTHON_VERSION=2\nStep 2/7 : FROM python:${PYTHON_VERSION}-alpine\n ---> 8579e446340f\nStep 3/7 : COPY nginx-ldap-auth-daemon.py /usr/src/app/\n ---> e6c225fcd04e\nStep 4/7 : WORKDIR /usr/src/app/\n ---> Running in e9cf17f1c096\nRemoving intermediate container e9cf17f1c096\n ---> b1f4fd180e5c\nStep 5/7 : RUN     apk --no-cache add openldap-dev &&     apk --no-cache add --virtual build-dependencies build-base &&     pip install --no-cache-dir python-ldap &&     apk del build-dependencies\n ---> Running in 036dd9fde672\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/15) Upgrading libcrypto1.1 (1.1.1d-r3 -> 1.1.1l-r0)\n(2/15) Upgrading libssl1.1 (1.1.1d-r3 -> 1.1.1l-r0)\n(3/15) Installing pkgconf (1.6.3-r0)\n(4/15) Installing openssl-dev (1.1.1l-r0)\n(5/15) Installing db (5.3.28-r1)\n(6/15) Installing libsasl (2.1.27-r5)\n(7/15) Installing cyrus-sasl-dev (2.1.27-r5)\n(8/15) Installing libblkid (2.34-r1)\n(9/15) Installing libuuid (2.34-r1)\n(10/15) Installing libfdisk (2.34-r1)\n(11/15) Installing libmount (2.34-r1)\n(12/15) Installing libsmartcols (2.34-r1)\n(13/15) Installing util-linux-dev (2.34-r1)\n(14/15) Installing libldap (2.4.48-r3)\n(15/15) Installing openldap-dev (2.4.48-r3)\nExecuting busybox-1.31.1-r9.trigger\nExecuting ca-certificates-20191127-r1.trigger\nOK: 21 MiB in 45 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n(1/20) Upgrading musl (1.1.24-r2 -> 1.1.24-r3)\n(2/20) Installing libgcc (9.3.0-r0)\n(3/20) Installing libstdc++ (9.3.0-r0)\n(4/20) Installing binutils (2.33.1-r1)\n(5/20) Installing libmagic (5.37-r1)\n(6/20) Installing file (5.37-r1)\n(7/20) Installing gmp (6.1.2-r1)\n(8/20) Installing isl (0.18-r0)\n(9/20) Installing libgomp (9.3.0-r0)\n(10/20) Installing libatomic (9.3.0-r0)\n(11/20) Installing mpfr4 (4.0.2-r1)\n(12/20) Installing mpc1 (1.1.0-r1)\n(13/20) Installing gcc (9.3.0-r0)\n(14/20) Installing musl-dev (1.1.24-r3)\n(15/20) Installing libc-dev (0.7.2-r0)\n(16/20) Installing g++ (9.3.0-r0)\n(17/20) Installing make (4.2.1-r2)\n(18/20) Installing fortify-headers (1.1-r0)\n(19/20) Installing build-base (0.5-r1)\n(20/20) Installing build-dependencies (20221226.215856)\nExecuting busybox-1.31.1-r9.trigger\nOK: 193 MiB in 64 packages\n\u001b[91mDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\n\u001b[0mCollecting python-ldap\n  Downloading python-ldap-3.3.1.tar.gz (379 kB)\nCollecting pyasn1>=0.3.7\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\nCollecting pyasn1_modules>=0.1.5\n  Downloading pyasn1_modules-0.2.8-py2.py3-none-any.whl (155 kB)\nBuilding wheels for collected packages: python-ldap\n  Building wheel for python-ldap (setup.py): started\n  Building wheel for python-ldap (setup.py): finished with status 'done'\n  Created wheel for python-ldap: filename=python_ldap-3.3.1-cp27-cp27mu-linux_x86_64.whl size=310722 sha256=28451b2cc2a435fb41709987f366b54f3714fc83bdf2e27e675e29e2f0caae42\n  Stored in directory: /tmp/pip-ephem-wheel-cache-L7Fttz/wheels/49/ce/54/be503766a8177f97a00858751af232700e87785e93037d12ac\nSuccessfully built python-ldap\nInstalling collected packages: pyasn1, pyasn1-modules, python-ldap\nSuccessfully installed pyasn1-0.4.8 pyasn1-modules-0.2.8 python-ldap-3.3.1\n\u001b[91mWARNING: You are using pip version 20.0.2; however, version 20.3.4 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0m\u001b[91mWARNING: Ignoring APKINDEX.70f61090.tar.gz: No such file or directory\nWARNING: Ignoring APKINDEX.ca2fea5b.tar.gz: No such file or directory\n\u001b[0m(1/19) Purging build-dependencies (20221226.215856)\n(2/19) Purging build-base (0.5-r1)\n(3/19) Purging file (5.37-r1)\n(4/19) Purging g++ (9.3.0-r0)\n(5/19) Purging gcc (9.3.0-r0)\n(6/19) Purging binutils (2.33.1-r1)\n(7/19) Purging libatomic (9.3.0-r0)\n(8/19) Purging libgomp (9.3.0-r0)\n(9/19) Purging libstdc++ (9.3.0-r0)\n(10/19) Purging make (4.2.1-r2)\n(11/19) Purging libc-dev (0.7.2-r0)\n(12/19) Purging musl-dev (1.1.24-r3)\n(13/19) Purging fortify-headers (1.1-r0)\n(14/19) Purging libgcc (9.3.0-r0)\n(15/19) Purging libmagic (5.37-r1)\n(16/19) Purging isl (0.18-r0)\n(17/19) Purging mpc1 (1.1.0-r1)\n(18/19) Purging mpfr4 (4.0.2-r1)\n(19/19) Purging gmp (6.1.2-r1)\nExecuting busybox-1.31.1-r9.trigger\nOK: 21 MiB in 45 packages\nRemoving intermediate container 036dd9fde672\n ---> e3da80c3b546\nStep 6/7 : EXPOSE 8888\n ---> Running in eda9d3380f77\nRemoving intermediate container eda9d3380f77\n ---> 532bd4e129b5\nStep 7/7 : CMD [\"python\", \"/usr/src/app/nginx-ldap-auth-daemon.py\", \"--host\", \"0.0.0.0\", \"--port\", \"8888\"]\n ---> Running in cb1dbb68b72c\nRemoving intermediate container cb1dbb68b72c\n ---> 17b424ad1877\nSuccessfully built 17b424ad1877\nSuccessfully tagged nginx-ldap-auth:latest\n","stderr":"","imageSize":95817752},"endTime":1672091945704}