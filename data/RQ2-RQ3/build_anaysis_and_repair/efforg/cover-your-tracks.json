{"repository":"https://github.com/efforg/cover-your-tracks","dockerfilePath":"Dockerfile","startTime":1672844119704,"endTime":1672844422799,"clone":{"startTime":1672844119705,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/efforg/cover-your-tracks'...\n","error":null,"endTime":1672844120916,"commit":"fef1541c30fd2fce62d684fa66232d495faabba5"},"originalBuild":{"startTime":1672844121003,"endTime":1672844263688,"error":null,"stdout":"Sending build context to Docker daemon  12.37MB\r\r\nStep 1/18 : FROM python:3.9\n3.9: Pulling from library/python\nDigest: sha256:b8ddeb68904299c09a39aff59d4a713862253b137fdd7ace3a3b7ba0391971b1\nStatus: Downloaded newer image for python:3.9\n ---> 68cf04410baf\nStep 2/18 : MAINTAINER William Budington <bill@eff.org>\n ---> Running in 857db3779747\nRemoving intermediate container 857db3779747\n ---> 4c23834e2842\nStep 3/18 : EXPOSE 5000\n ---> Running in bc2b5d09f6d7\nRemoving intermediate container bc2b5d09f6d7\n ---> 06c5f427d895\nStep 4/18 : WORKDIR /opt\n ---> Running in 263ba8e5bdec\nRemoving intermediate container 263ba8e5bdec\n ---> 85f8397a0f01\nStep 5/18 : RUN apt-get update &&   apt-get install -y --no-install-recommends     python3.9-dev     cron &&   apt-get clean &&   rm -rf /var/lib/apt/lists/*     /tmp/*     /var/tmp/*\n ---> Running in ff9f9d80851c\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 3s (2850 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpython3.9 libpython3.9-dev\nSuggested packages:\n  anacron logrotate checksecurity\nRecommended packages:\n  default-mta | mail-transport-agent\nThe following NEW packages will be installed:\n  cron libpython3.9 libpython3.9-dev python3.9-dev\n0 upgraded, 4 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 6333 kB of archives.\nAfter this operation, 27.0 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 cron amd64 3.0pl1-137 [99.6 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libpython3.9 amd64 3.9.2-1 [1691 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-dev amd64 3.9.2-1 [4028 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 python3.9-dev amd64 3.9.2-1 [515 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 6333 kB in 0s (24.2 MB/s)\nSelecting previously unselected package cron.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../cron_3.0pl1-137_amd64.deb ...\r\nUnpacking cron (3.0pl1-137) ...\r\nSelecting previously unselected package libpython3.9:amd64.\r\nPreparing to unpack .../libpython3.9_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3.9-dev:amd64.\r\nPreparing to unpack .../libpython3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package python3.9-dev.\r\nPreparing to unpack .../python3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9-dev (3.9.2-1) ...\r\nSetting up cron (3.0pl1-137) ...\r\nAdding group `crontab' (GID 102) ...\r\nDone.\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up libpython3.9:amd64 (3.9.2-1) ...\r\nSetting up libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSetting up python3.9-dev (3.9.2-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container ff9f9d80851c\n ---> 95632ba68e7c\nStep 6/18 : ADD docker/crontab /etc/crontab\n ---> 0bd80ee29b79\nStep 7/18 : RUN pip install pipenv\n ---> Running in 013d99a9d794\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 4.3 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 451.0 kB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 21.4 MB/s eta 0:00:00\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 11.0 MB/s eta 0:00:00\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 013d99a9d794\n ---> 7090cbf4c010\nStep 8/18 : ADD Pipfile Pipfile.lock ./\n ---> 98c7411442e2\nStep 9/18 : RUN pipenv install\n ---> Running in b548115713ad\n\u001b[91mCreating a virtualenv for this project...\n\u001b[0m\u001b[91mPipfile: /opt/Pipfile\n\u001b[0m\u001b[91mUsing /usr/local/bin/python3.9 (3.9.16) to create virtualenv...\n\u001b[0m\u001b[91mcreated virtual environment CPython3.9.16.final.0-64 in 585ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/opt-zvmYt2-H, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==22.3.1, setuptools==65.6.3, wheel==0.38.4\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m✔ Successfully created virtual environment!\n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/opt-zvmYt2-H\n\u001b[0mInstalling dependencies from Pipfile.lock (20783f)...\nTo activate this project's virtualenv, run pipenv shell.\nAlternatively, run a command inside the virtualenv with pipenv run.\nRemoving intermediate container b548115713ad\n ---> 7cb115de6674\nStep 10/18 : ADD config_example.py env_config.py db.py entropy_helper.py main.py gunicorn.conf util.py ./\n ---> c21c53359265\nStep 11/18 : ADD fingerprint ./fingerprint/\n ---> a958e6f23f1d\nStep 12/18 : ADD tracking ./tracking/\n ---> 6d564cefec1d\nStep 13/18 : ADD static ./static/\n ---> c8c168123c37\nStep 14/18 : ADD templates ./templates/\n ---> 86146cc27c52\nStep 15/18 : ADD docker ./docker/\n ---> 193a7f769730\nStep 16/18 : ENV PUBLIC True\n ---> Running in 6cfbb6d40fb9\nRemoving intermediate container 6cfbb6d40fb9\n ---> eb1675f21847\nStep 17/18 : ENTRYPOINT [\"/opt/docker/entrypoint.sh\"]\n ---> Running in 7712a28a0f31\nRemoving intermediate container 7712a28a0f31\n ---> 12628fec97fc\nStep 18/18 : CMD [\"pipenv\", \"run\", \"python\", \"main.py\"]\n ---> Running in b8a4b4d183d8\nRemoving intermediate container b8a4b4d183d8\n ---> 1ae460ddd443\nSuccessfully built 1ae460ddd443\nSuccessfully tagged cover-your-tracks:latest\n","stderr":"","imageSize":1045032681},"repair":{"startTime":1672844263756,"endTime":1672844263914,"violations":[{"name":"pipUseNoCacheDir","position":{"start":18,"end":18,"columnStart":4,"columnEnd":22}}],"repairedDockerfile":"FROM python:3.9\n\nMAINTAINER William Budington <bill@eff.org>\n\nEXPOSE 5000\n\nWORKDIR /opt\n\nRUN apt-get update && \\\n  apt-get install -y --no-install-recommends \\\n    python3.9-dev \\\n    cron && \\\n  apt-get clean && \\\n  rm -rf /var/lib/apt/lists/* \\\n    /tmp/* \\\n    /var/tmp/*\nADD docker/crontab /etc/crontab\n\nRUN pip install --no-cache-dir pipenv\nADD Pipfile Pipfile.lock ./\nRUN pipenv install\n\nADD config_example.py env_config.py db.py entropy_helper.py main.py gunicorn.conf util.py ./\nADD fingerprint ./fingerprint/\nADD tracking ./tracking/\nADD static ./static/\nADD templates ./templates/\nADD docker ./docker/\n\nENV PUBLIC True\nENTRYPOINT [\"/opt/docker/entrypoint.sh\"]\nCMD [\"pipenv\", \"run\", \"python\", \"main.py\"]\n"},"repairedBuild":{"startTime":1672844264942,"endTime":1672844409560,"error":null,"stdout":"Sending build context to Docker daemon  12.37MB\r\r\nStep 1/18 : FROM python:3.9\n ---> 68cf04410baf\nStep 2/18 : MAINTAINER William Budington <bill@eff.org>\n ---> Running in 3a8af6897eee\nRemoving intermediate container 3a8af6897eee\n ---> 9c473cb734b3\nStep 3/18 : EXPOSE 5000\n ---> Running in 4cfc24b5b858\nRemoving intermediate container 4cfc24b5b858\n ---> c3a9ad1df9a1\nStep 4/18 : WORKDIR /opt\n ---> Running in d6995c25277d\nRemoving intermediate container d6995c25277d\n ---> 839748e0cd54\nStep 5/18 : RUN apt-get update &&   apt-get install -y --no-install-recommends     python3.9-dev     cron &&   apt-get clean &&   rm -rf /var/lib/apt/lists/*     /tmp/*     /var/tmp/*\n ---> Running in 34063852aa70\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6441 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpython3.9 libpython3.9-dev\nSuggested packages:\n  anacron logrotate checksecurity\nRecommended packages:\n  default-mta | mail-transport-agent\nThe following NEW packages will be installed:\n  cron libpython3.9 libpython3.9-dev python3.9-dev\n0 upgraded, 4 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 6333 kB of archives.\nAfter this operation, 27.0 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 cron amd64 3.0pl1-137 [99.6 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 libpython3.9 amd64 3.9.2-1 [1691 kB]\nGet:3 http://deb.debian.org/debian bullseye/main amd64 libpython3.9-dev amd64 3.9.2-1 [4028 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 python3.9-dev amd64 3.9.2-1 [515 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 6333 kB in 0s (14.6 MB/s)\nSelecting previously unselected package cron.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 23422 files and directories currently installed.)\r\nPreparing to unpack .../cron_3.0pl1-137_amd64.deb ...\r\nUnpacking cron (3.0pl1-137) ...\r\nSelecting previously unselected package libpython3.9:amd64.\r\nPreparing to unpack .../libpython3.9_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package libpython3.9-dev:amd64.\r\nPreparing to unpack .../libpython3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSelecting previously unselected package python3.9-dev.\r\nPreparing to unpack .../python3.9-dev_3.9.2-1_amd64.deb ...\r\nUnpacking python3.9-dev (3.9.2-1) ...\r\nSetting up cron (3.0pl1-137) ...\r\nAdding group `crontab' (GID 102) ...\r\nDone.\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nSetting up libpython3.9:amd64 (3.9.2-1) ...\r\nSetting up libpython3.9-dev:amd64 (3.9.2-1) ...\r\nSetting up python3.9-dev (3.9.2-1) ...\r\nProcessing triggers for libc-bin (2.31-13+deb11u5) ...\r\nRemoving intermediate container 34063852aa70\n ---> 4091c3d5a832\nStep 6/18 : ADD docker/crontab /etc/crontab\n ---> 7042c3ceda22\nStep 7/18 : RUN pip install --no-cache-dir pipenv\n ---> Running in d789a1ada6a4\nCollecting pipenv\n  Downloading pipenv-2022.12.19-py3-none-any.whl (2.9 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 100.1 MB/s eta 0:00:00\nRequirement already satisfied: setuptools>=36.2.1 in /usr/local/lib/python3.9/site-packages (from pipenv) (58.1.0)\nCollecting certifi\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 102.8 MB/s eta 0:00:00\nCollecting virtualenv\n  Downloading virtualenv-20.17.1-py3-none-any.whl (8.8 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.8/8.8 MB 119.6 MB/s eta 0:00:00\nCollecting virtualenv-clone>=0.2.5\n  Downloading virtualenv_clone-0.5.7-py3-none-any.whl (6.6 kB)\nCollecting platformdirs<3,>=2.4\n  Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\nCollecting filelock<4,>=3.4.1\n  Downloading filelock-3.9.0-py3-none-any.whl (9.7 kB)\nCollecting distlib<1,>=0.3.6\n  Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.5/468.5 KB 170.8 MB/s eta 0:00:00\nInstalling collected packages: distlib, virtualenv-clone, platformdirs, filelock, certifi, virtualenv, pipenv\nSuccessfully installed certifi-2022.12.7 distlib-0.3.6 filelock-3.9.0 pipenv-2022.12.19 platformdirs-2.6.2 virtualenv-20.17.1 virtualenv-clone-0.5.7\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container d789a1ada6a4\n ---> 840120f4ec25\nStep 8/18 : ADD Pipfile Pipfile.lock ./\n ---> 4328ff6297de\nStep 9/18 : RUN pipenv install\n ---> Running in 7d3f65eb2dc6\n\u001b[91mCreating a virtualenv for this project...\nPipfile: /opt/Pipfile\n\u001b[0m\u001b[91mUsing /usr/local/bin/python3.9 (3.9.16) to create virtualenv...\n\u001b[0m\u001b[91mcreated virtual environment CPython3.9.16.final.0-64 in 660ms\n  creator CPython3Posix(dest=/root/.local/share/virtualenvs/opt-zvmYt2-H, clear=False, no_vcs_ignore=False, global=False)\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)\n    added seed packages: pip==22.3.1, setuptools==65.6.3, wheel==0.38.4\n  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator\n\n\u001b[0m\u001b[91m✔ Successfully created virtual environment!\n\u001b[0m\u001b[91mVirtualenv location: /root/.local/share/virtualenvs/opt-zvmYt2-H\n\u001b[0mInstalling dependencies from Pipfile.lock (20783f)...\nTo activate this project's virtualenv, run pipenv shell.\nAlternatively, run a command inside the virtualenv with pipenv run.\nRemoving intermediate container 7d3f65eb2dc6\n ---> 57957902e594\nStep 10/18 : ADD config_example.py env_config.py db.py entropy_helper.py main.py gunicorn.conf util.py ./\n ---> de2056e41f5f\nStep 11/18 : ADD fingerprint ./fingerprint/\n ---> 0faa9de60874\nStep 12/18 : ADD tracking ./tracking/\n ---> cb861b3c8e3b\nStep 13/18 : ADD static ./static/\n ---> c42fd299c55e\nStep 14/18 : ADD templates ./templates/\n ---> 8fedbef087b9\nStep 15/18 : ADD docker ./docker/\n ---> 8661dfede39a\nStep 16/18 : ENV PUBLIC True\n ---> Running in 0222c6b3a037\nRemoving intermediate container 0222c6b3a037\n ---> 63f8626cb96d\nStep 17/18 : ENTRYPOINT [\"/opt/docker/entrypoint.sh\"]\n ---> Running in 08f423dccf97\nRemoving intermediate container 08f423dccf97\n ---> 0542486536a5\nStep 18/18 : CMD [\"pipenv\", \"run\", \"python\", \"main.py\"]\n ---> Running in a182030237a1\nRemoving intermediate container a182030237a1\n ---> 67249b24260b\nSuccessfully built 67249b24260b\nSuccessfully tagged cover-your-tracks:latest\n","stderr":"","imageSize":1032520826}}