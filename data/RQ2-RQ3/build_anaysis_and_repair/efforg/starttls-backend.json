{"repository":"https://github.com/efforg/starttls-backend","dockerfilePath":"Dockerfile","startTime":1672212657037,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/efforg/starttls-backend'...\n","error":null,"commit":"2d6eab052d9045bef2d44a67ed2522cfb3cd81c0"},"originalBuild":{"startTimestamp":1672212657924,"endTimestamp":1672212730431,"error":null,"stdout":"Sending build context to Docker daemon  284.7kB\r\r\nStep 1/12 : FROM golang:1.11\n ---> 43a154fee764\nStep 2/12 : WORKDIR /go/src/github.com/EFForg/starttls-backend\n ---> Running in 42aea708577a\nRemoving intermediate container 42aea708577a\n ---> b412f97d1816\nStep 3/12 : RUN apt-get update && apt-get -y install postgresql-client\n ---> Running in 03d2e9aa3c47\nGet:1 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (5653 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  distro-info-data libmpdec2 libpq5 libpython3-stdlib libpython3.7-minimal\n  libpython3.7-stdlib lsb-release postgresql-client-11\n  postgresql-client-common python3 python3-minimal python3.7 python3.7-minimal\nSuggested packages:\n  lsb postgresql-11 postgresql-doc-11 python3-doc python3-tk python3-venv\n  python3.7-venv python3.7-doc binfmt-support\nThe following NEW packages will be installed:\n  distro-info-data libmpdec2 libpq5 libpython3-stdlib libpython3.7-minimal\n  libpython3.7-stdlib lsb-release postgresql-client postgresql-client-11\n  postgresql-client-common python3 python3-minimal python3.7 python3.7-minimal\n0 upgraded, 14 newly installed, 0 to remove and 83 not upgraded.\nNeed to get 6361 kB of archives.\nAfter this operation, 30.6 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 python3-minimal amd64 3.7.3-1 [36.6 kB]\nGet:2 http://security.debian.org/debian-security buster/updates/main amd64 libpython3.7-minimal amd64 3.7.3-2+deb10u4 [589 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 libmpdec2 amd64 2.4.2-2 [87.2 kB]\nGet:4 http://deb.debian.org/debian buster/main amd64 libpython3-stdlib amd64 3.7.3-1 [20.0 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 python3 amd64 3.7.3-1 [61.5 kB]\nGet:6 http://security.debian.org/debian-security buster/updates/main amd64 python3.7-minimal amd64 3.7.3-2+deb10u4 [1736 kB]\nGet:7 http://deb.debian.org/debian buster/main amd64 lsb-release all 10.2019051400 [27.5 kB]\nGet:8 http://security.debian.org/debian-security buster/updates/main amd64 libpython3.7-stdlib amd64 3.7.3-2+deb10u4 [1733 kB]\nGet:9 http://deb.debian.org/debian buster/main amd64 postgresql-client-common all 200+deb10u5 [85.0 kB]\nGet:10 http://security.debian.org/debian-security buster/updates/main amd64 python3.7 amd64 3.7.3-2+deb10u4 [330 kB]\nGet:11 http://deb.debian.org/debian buster/main amd64 postgresql-client all 11+200+deb10u5 [61.1 kB]\nGet:12 http://security.debian.org/debian-security buster/updates/main amd64 distro-info-data all 0.41+deb10u6 [7080 B]\nGet:13 http://security.debian.org/debian-security buster/updates/main amd64 libpq5 amd64 11.18-0+deb10u1 [173 kB]\nGet:14 http://security.debian.org/debian-security buster/updates/main amd64 postgresql-client-11 amd64 11.18-0+deb10u1 [1414 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 6361 kB in 0s (15.2 MB/s)\nSelecting previously unselected package libpython3.7-minimal:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\nPreparing to unpack .../libpython3.7-minimal_3.7.3-2+deb10u4_amd64.deb ...\r\nUnpacking libpython3.7-minimal:amd64 (3.7.3-2+deb10u4) ...\r\nSelecting previously unselected package python3.7-minimal.\r\nPreparing to unpack .../python3.7-minimal_3.7.3-2+deb10u4_amd64.deb ...\r\nUnpacking python3.7-minimal (3.7.3-2+deb10u4) ...\r\nSetting up libpython3.7-minimal:amd64 (3.7.3-2+deb10u4) ...\r\nSetting up python3.7-minimal (3.7.3-2+deb10u4) ...\r\nSelecting previously unselected package python3-minimal.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15634 files and directories currently installed.)\r\nPreparing to unpack .../python3-minimal_3.7.3-1_amd64.deb ...\r\nUnpacking python3-minimal (3.7.3-1) ...\r\nSelecting previously unselected package libmpdec2:amd64.\r\nPreparing to unpack .../libmpdec2_2.4.2-2_amd64.deb ...\r\nUnpacking libmpdec2:amd64 (2.4.2-2) ...\r\nSelecting previously unselected package libpython3.7-stdlib:amd64.\r\nPreparing to unpack .../libpython3.7-stdlib_3.7.3-2+deb10u4_amd64.deb ...\r\nUnpacking libpython3.7-stdlib:amd64 (3.7.3-2+deb10u4) ...\r\nSelecting previously unselected package python3.7.\r\nPreparing to unpack .../python3.7_3.7.3-2+deb10u4_amd64.deb ...\r\nUnpacking python3.7 (3.7.3-2+deb10u4) ...\r\nSelecting previously unselected package libpython3-stdlib:amd64.\r\nPreparing to unpack .../libpython3-stdlib_3.7.3-1_amd64.deb ...\r\nUnpacking libpython3-stdlib:amd64 (3.7.3-1) ...\r\nSetting up python3-minimal (3.7.3-1) ...\r\nSelecting previously unselected package python3.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 16046 files and directories currently installed.)\r\nPreparing to unpack .../0-python3_3.7.3-1_amd64.deb ...\r\nUnpacking python3 (3.7.3-1) ...\r\nSelecting previously unselected package distro-info-data.\r\nPreparing to unpack .../1-distro-info-data_0.41+deb10u6_all.deb ...\r\nUnpacking distro-info-data (0.41+deb10u6) ...\r\nSelecting previously unselected package libpq5:amd64.\r\nPreparing to unpack .../2-libpq5_11.18-0+deb10u1_amd64.deb ...\r\nUnpacking libpq5:amd64 (11.18-0+deb10u1) ...\r\nSelecting previously unselected package lsb-release.\r\nPreparing to unpack .../3-lsb-release_10.2019051400_all.deb ...\r\nUnpacking lsb-release (10.2019051400) ...\r\nSelecting previously unselected package postgresql-client-common.\r\nPreparing to unpack .../4-postgresql-client-common_200+deb10u5_all.deb ...\r\nUnpacking postgresql-client-common (200+deb10u5) ...\r\nSelecting previously unselected package postgresql-client-11.\r\nPreparing to unpack .../5-postgresql-client-11_11.18-0+deb10u1_amd64.deb ...\r\nUnpacking postgresql-client-11 (11.18-0+deb10u1) ...\r\nSelecting previously unselected package postgresql-client.\r\nPreparing to unpack .../6-postgresql-client_11+200+deb10u5_all.deb ...\r\nUnpacking postgresql-client (11+200+deb10u5) ...\r\nSetting up postgresql-client-common (200+deb10u5) ...\r\nSetting up distro-info-data (0.41+deb10u6) ...\r\nSetting up libpq5:amd64 (11.18-0+deb10u1) ...\r\nSetting up postgresql-client-11 (11.18-0+deb10u1) ...\r\nupdate-alternatives: using /usr/share/postgresql/11/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode\r\nSetting up libmpdec2:amd64 (2.4.2-2) ...\r\nSetting up libpython3.7-stdlib:amd64 (3.7.3-2+deb10u4) ...\r\nSetting up postgresql-client (11+200+deb10u5) ...\r\nSetting up libpython3-stdlib:amd64 (3.7.3-1) ...\r\nSetting up python3.7 (3.7.3-2+deb10u4) ...\r\nSetting up python3 (3.7.3-1) ...\r\nrunning python rtupdate hooks for python3.7...\r\nrunning python post-rtupdate hooks for python3.7...\r\nSetting up lsb-release (10.2019051400) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nProcessing triggers for mime-support (3.62) ...\r\nRemoving intermediate container 03d2e9aa3c47\n ---> 230de3afe5c8\nStep 4/12 : ENV GO111MODULE=on\n ---> Running in 995829ad2d6e\nRemoving intermediate container 995829ad2d6e\n ---> 296e71f11ac3\nStep 5/12 : COPY go.mod .\n ---> 6612ea6a0cde\nStep 6/12 : COPY go.sum .\n ---> 0e5f1630a0a2\nStep 7/12 : RUN go mod download\n ---> Running in 68cde85826d5\n\u001b[91mgo: finding github.com/lib/pq v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/joho/godotenv v1.3.0\n\u001b[0m\u001b[91mgo: finding github.com/certifi/gocertifi v0.0.0-20190506164543-d2eda7129713\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: finding github.com/gorilla/handlers v1.4.0\n\u001b[0m\u001b[91mgo: finding github.com/mhale/smtpd v0.0.0-20181125220505-3c4c908952b8\n\u001b[0m\u001b[91mgo: finding github.com/getsentry/raven-go v0.2.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20190611141213-3f473d35a33a\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.2.2\n\u001b[0m\u001b[91mgo: finding github.com/ulule/limiter v2.2.2+incompatible\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n\u001b[0m\u001b[91mgo: finding golang.org/x/text v0.3.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2\n\u001b[0mRemoving intermediate container 68cde85826d5\n ---> cdd349712feb\nStep 8/12 : COPY . .\n ---> 92881e5cde18\nStep 9/12 : RUN go install .\n ---> Running in 24fd4b4bd757\nRemoving intermediate container 24fd4b4bd757\n ---> d9485525af8f\nStep 10/12 : ENTRYPOINT [\"/go/src/github.com/EFForg/starttls-backend/entrypoint.sh\"]\n ---> Running in 6763c1bf9c05\nRemoving intermediate container 6763c1bf9c05\n ---> 793fd1e0caf9\nStep 11/12 : CMD [\"/go/bin/starttls-backend\"]\n ---> Running in 52412a5e5367\nRemoving intermediate container 52412a5e5367\n ---> 3e564efcc164\nStep 12/12 : EXPOSE 8080\n ---> Running in 78992e5ac1c5\nRemoving intermediate container 78992e5ac1c5\n ---> b3be0783872c\nSuccessfully built b3be0783872c\nSuccessfully tagged starttls-backend:latest\n","stderr":"","imageSize":988237190},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":4,"end":4,"columnStart":22,"columnEnd":58}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":4,"end":4,"columnStart":22,"columnEnd":58}}],"repairedDockerfile":"FROM golang:1.11\n\nWORKDIR /go/src/github.com/EFForg/starttls-backend\n\nRUN apt-get update && apt-get -y --no-install-recommends install postgresql-client\n\n# Download vendorized dependencies\nENV GO111MODULE=on\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n\n# Build the binary\nCOPY . .\nRUN go install .\n\nENTRYPOINT [\"/go/src/github.com/EFForg/starttls-backend/entrypoint.sh\"]\nCMD [\"/go/bin/starttls-backend\"]\n\nEXPOSE 8080\n"},"repairedBuild":{"startTimestamp":1672212730889,"endTimestamp":1672212768359,"error":null,"stdout":"Sending build context to Docker daemon  284.7kB\r\r\nStep 1/12 : FROM golang:1.11\n ---> 43a154fee764\nStep 2/12 : WORKDIR /go/src/github.com/EFForg/starttls-backend\n ---> Running in 1020d761b500\nRemoving intermediate container 1020d761b500\n ---> 10b50d41a139\nStep 3/12 : RUN apt-get update && apt-get -y --no-install-recommends install postgresql-client\n ---> Running in 7e645046c1a9\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\nGet:2 http://deb.debian.org/debian buster InRelease [122 kB]\nGet:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [416 kB]\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]\nFetched 8547 kB in 2s (5663 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpq5 postgresql-client-11 postgresql-client-common\nSuggested packages:\n  postgresql-11 postgresql-doc-11\nRecommended packages:\n  lsb-release\nThe following NEW packages will be installed:\n  libpq5 postgresql-client postgresql-client-11 postgresql-client-common\n0 upgraded, 4 newly installed, 0 to remove and 83 not upgraded.\nNeed to get 1733 kB of archives.\nAfter this operation, 7305 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian buster/main amd64 postgresql-client-common all 200+deb10u5 [85.0 kB]\nGet:2 http://security.debian.org/debian-security buster/updates/main amd64 libpq5 amd64 11.18-0+deb10u1 [173 kB]\nGet:3 http://deb.debian.org/debian buster/main amd64 postgresql-client all 11+200+deb10u5 [61.1 kB]\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 postgresql-client-11 amd64 11.18-0+deb10u1 [1414 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1733 kB in 0s (44.7 MB/s)\nSelecting previously unselected package libpq5:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\nPreparing to unpack .../libpq5_11.18-0+deb10u1_amd64.deb ...\r\nUnpacking libpq5:amd64 (11.18-0+deb10u1) ...\r\nSelecting previously unselected package postgresql-client-common.\r\nPreparing to unpack .../postgresql-client-common_200+deb10u5_all.deb ...\r\nUnpacking postgresql-client-common (200+deb10u5) ...\r\nSelecting previously unselected package postgresql-client-11.\r\nPreparing to unpack .../postgresql-client-11_11.18-0+deb10u1_amd64.deb ...\r\nUnpacking postgresql-client-11 (11.18-0+deb10u1) ...\r\nSelecting previously unselected package postgresql-client.\r\nPreparing to unpack .../postgresql-client_11+200+deb10u5_all.deb ...\r\nUnpacking postgresql-client (11+200+deb10u5) ...\r\nSetting up postgresql-client-common (200+deb10u5) ...\r\nSetting up libpq5:amd64 (11.18-0+deb10u1) ...\r\nSetting up postgresql-client-11 (11.18-0+deb10u1) ...\r\nupdate-alternatives: using /usr/share/postgresql/11/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode\r\nSetting up postgresql-client (11+200+deb10u5) ...\r\nProcessing triggers for libc-bin (2.28-10) ...\r\nRemoving intermediate container 7e645046c1a9\n ---> 00bc971055d4\nStep 4/12 : ENV GO111MODULE=on\n ---> Running in f9c821a10e8e\nRemoving intermediate container f9c821a10e8e\n ---> c9f4b1ddf6c3\nStep 5/12 : COPY go.mod .\n ---> 444563607130\nStep 6/12 : COPY go.sum .\n ---> d706e52202aa\nStep 7/12 : RUN go mod download\n ---> Running in d4e8a0f50dc2\n\u001b[91mgo: finding github.com/gorilla/handlers v1.4.0\n\u001b[0m\u001b[91mgo: finding github.com/ulule/limiter v2.2.2+incompatible\ngo: finding github.com/mhale/smtpd v0.0.0-20181125220505-3c4c908952b8\n\u001b[0m\u001b[91mgo: finding github.com/getsentry/raven-go v0.2.0\ngo: finding github.com/lib/pq v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/stretchr/testify v1.2.2\n\u001b[0m\u001b[91mgo: finding github.com/joho/godotenv v1.3.0\n\u001b[0m\u001b[91mgo: finding github.com/davecgh/go-spew v1.1.1\n\u001b[0m\u001b[91mgo: finding github.com/certifi/gocertifi v0.0.0-20190506164543-d2eda7129713\n\u001b[0m\u001b[91mgo: finding golang.org/x/net v0.0.0-20190611141213-3f473d35a33a\n\u001b[0m\u001b[91mgo: finding github.com/pmezard/go-difflib v1.0.0\n\u001b[0m\u001b[91mgo: finding github.com/pkg/errors v0.8.1\n\u001b[0m\u001b[91mgo: finding golang.org/x/text v0.3.0\n\u001b[0m\u001b[91mgo: finding golang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2\n\u001b[0m\u001b[91mgo: finding golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n\u001b[0mRemoving intermediate container d4e8a0f50dc2\n ---> 9b3d98b82bb6\nStep 8/12 : COPY . .\n ---> d431f020101d\nStep 9/12 : RUN go install .\n ---> Running in 82b25ddeb691\nRemoving intermediate container 82b25ddeb691\n ---> b8a217e41cd1\nStep 10/12 : ENTRYPOINT [\"/go/src/github.com/EFForg/starttls-backend/entrypoint.sh\"]\n ---> Running in 11480c0a3cb7\nRemoving intermediate container 11480c0a3cb7\n ---> 7c0ec011eb6a\nStep 11/12 : CMD [\"/go/bin/starttls-backend\"]\n ---> Running in 8f308f86273a\nRemoving intermediate container 8f308f86273a\n ---> ffe6c18885d1\nStep 12/12 : EXPOSE 8080\n ---> Running in e9d75a91f652\nRemoving intermediate container e9d75a91f652\n ---> 7856f90fccc3\nSuccessfully built 7856f90fccc3\nSuccessfully tagged starttls-backend:latest\n","stderr":"","imageSize":963757700},"endTime":1672212768680}