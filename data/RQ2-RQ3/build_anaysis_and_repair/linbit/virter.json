{"repository":"https://github.com/linbit/virter","dockerfilePath":"Dockerfile","startTime":1673072315478,"endTime":1673072351260,"clone":{"startTime":1673072315479,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/linbit/virter'...\n","error":null,"endTime":1673072316331,"commit":"5f2d3acd2046aa786b7f26f2581c0d8145e13de4"},"originalBuild":{"startTime":1673072316421,"endTime":1673072350966,"error":null,"stdout":"Sending build context to Docker daemon  872.4kB\r\r\nStep 1/11 : FROM golang:alpine as builder\n ---> cae57157ceaa\nStep 2/11 : RUN apk update \t&& apk add make git \t&& rm -rf /var/cache/apk/*\n ---> Running in e6d5f3fc4588\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-339-g964e761a8f [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17816 distinct packages available\n(1/7) Installing brotli-libs (1.0.9-r9)\n(2/7) Installing nghttp2-libs (1.51.0-r0)\n(3/7) Installing libcurl (7.87.0-r0)\n(4/7) Installing libexpat (2.5.0-r0)\n(5/7) Installing pcre2 (10.42-r0)\n(6/7) Installing git (2.38.2-r0)\n(7/7) Installing make (4.3-r1)\nExecuting busybox-1.35.0-r29.trigger\nOK: 16 MiB in 23 packages\nRemoving intermediate container e6d5f3fc4588\n ---> ac94f893a419\nStep 3/11 : WORKDIR /go/src/virter\n ---> Running in 0893644165e7\nRemoving intermediate container 0893644165e7\n ---> b9ecd38a6126\nStep 4/11 : COPY . .\n ---> a7125692a2c6\nStep 5/11 : RUN make && mv ./virter /\n ---> Running in d27c4d7c64d8\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mNAME=\"virter\"; [ -n \"\" ] && NAME=\"${NAME}-\"; \\\n[ -n \"\" ] && NAME=\"${NAME}-\"; \\\ngo build -o \"$NAME\" \\\n\t-ldflags \"-X 'github.com/LINBIT/virter/cmd.version=' \\\n\t-X 'github.com/LINBIT/virter/cmd.builddate=Sat Jan  7 06:18:39 UTC 2023' \\\n\t-X 'github.com/LINBIT/virter/cmd.githash=5f2d3acd2046aa786b7f26f2581c0d8145e13de4'\"\n\u001b[91mgo: downloading github.com/google/go-containerregistry v0.12.1\ngo: downloading github.com/sirupsen/logrus v1.9.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/go-multierror v1.1.1\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/viper v1.14.0\ngo: downloading github.com/mitchellh/go-homedir v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/apparentlymart/go-cidr v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/spf13/cobra v1.6.1\n\u001b[0m\u001b[91mgo: downloading github.com/docker/go-units v0.5.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sync v0.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/LINBIT/gosshclient v0.3.1\n\u001b[0m\u001b[91mgo: downloading github.com/digitalocean/go-libvirt v0.0.0-20210615174804-eaff166426e3\n\u001b[0m\u001b[91mgo: downloading github.com/libvirt/libvirt-go-xml v7.4.0+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/rck/unit v0.0.3\n\u001b[0m\u001b[91mgo: downloading github.com/LINBIT/containerapi v0.7.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/term v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/rodaine/table v1.1.0\n\u001b[0m\u001b[91mgo: downloading github.com/vbauerster/mpb/v7 v7.5.3\ngo: downloading golang.org/x/crypto v0.5.0\n\u001b[0m\u001b[91mgo: downloading github.com/BurntSushi/toml v1.2.1\n\u001b[0m\u001b[91mgo: downloading github.com/helm/helm v2.17.0+incompatible\ngo: downloading github.com/kdomanski/iso9660 v0.0.0-20200428203439-00eb28aa394d\ngo: downloading github.com/kr/text v0.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/mitchellh/mapstructure v1.5.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/sys v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/errwrap v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/fsnotify/fsnotify v1.6.0\ngo: downloading github.com/spf13/cast v1.5.0\ngo: downloading github.com/spf13/afero v1.9.2\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml/v2 v2.0.5\ngo: downloading github.com/spf13/pflag v1.0.5\ngo: downloading gopkg.in/ini.v1 v1.67.0\ngo: downloading github.com/spf13/jwalterweatherman v1.1.0\ngo: downloading github.com/subosito/gotenv v1.4.1\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v3 v3.0.1\n\u001b[0m\u001b[91mgo: downloading github.com/magiconair/properties v1.8.6\n\u001b[0m\u001b[91mgo: downloading github.com/hashicorp/hcl v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/pelletier/go-toml v1.9.5\n\u001b[0m\u001b[91mgo: downloading github.com/alessio/shellescape v1.2.2\n\u001b[0m\u001b[91mgo: downloading github.com/VividCortex/ewma v1.2.0\ngo: downloading github.com/mattn/go-runewidth v0.0.13\n\u001b[0m\u001b[91mgo: downloading github.com/acarl005/stripansi v0.0.0-20180116102854-5a71ef0e047d\n\u001b[0m\u001b[91mgo: downloading github.com/rivo/uniseg v0.2.0\n\u001b[0m\u001b[91mgo: downloading golang.org/x/text v0.6.0\n\u001b[0m\u001b[91mgo: downloading github.com/docker/docker v20.10.20+incompatible\ngo: downloading github.com/go-openapi/strfmt v0.20.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/runtime v0.19.26\ngo: downloading github.com/go-openapi/swag v0.19.14\ngo: downloading github.com/go-openapi/validate v0.20.2\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/errors v0.20.0\n\u001b[0m\u001b[91mgo: downloading gopkg.in/yaml.v2 v2.4.0\ngo: downloading github.com/mailru/easyjson v0.7.7\n\u001b[0m\u001b[91mgo: downloading github.com/asaskevich/govalidator v0.0.0-20200907205600-7a23bdc65eef\n\u001b[0m\u001b[91mgo: downloading go.mongodb.org/mongo-driver v1.4.6\n\u001b[0m\u001b[91mgo: downloading github.com/josharian/intern v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/opentracing/opentracing-go v1.2.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/analysis v0.20.0\ngo: downloading github.com/go-openapi/loads v0.20.2\ngo: downloading github.com/go-openapi/spec v0.20.3\n\u001b[0m\u001b[91mgo: downloading github.com/opencontainers/go-digest v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/docker/cli v20.10.20+incompatible\ngo: downloading github.com/opencontainers/image-spec v1.1.0-rc2\n\u001b[0m\u001b[91mgo: downloading github.com/docker/distribution v2.8.1+incompatible\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/jsonpointer v0.19.5\n\u001b[0m\u001b[91mgo: downloading github.com/go-openapi/jsonreference v0.19.5\n\u001b[0m\u001b[91mgo: downloading github.com/ghodss/yaml v1.0.0\n\u001b[0m\u001b[91mgo: downloading github.com/PuerkitoBio/purell v1.1.1\n\u001b[0m\u001b[91mgo: downloading golang.org/x/net v0.5.0\ngo: downloading github.com/PuerkitoBio/urlesc v0.0.0-20170810143723-de5bf2ad4578\n\u001b[0m\u001b[91mgo: downloading github.com/pkg/errors v0.9.1\n\u001b[0m\u001b[91mgo: downloading github.com/docker/docker-credential-helpers v0.7.0\n\u001b[0m\u001b[91mgo: downloading github.com/go-stack/stack v1.8.0\n\u001b[0m\u001b[91mgo: downloading github.com/docker/go-connections v0.4.0\n\u001b[0m\u001b[91mgo: downloading github.com/gogo/protobuf v1.3.2\n\u001b[0mRemoving intermediate container d27c4d7c64d8\n ---> 2e9b3c181e69\nStep 6/11 : FROM alpine:latest\nlatest: Pulling from library/alpine\nc158987b0551: Already exists\nDigest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4\nStatus: Downloaded newer image for alpine:latest\n ---> 49176f190c7e\nStep 7/11 : COPY --from=builder /virter /opt/virter/\n ---> 826b6e1fb48d\nStep 8/11 : RUN apk update \t&& apk add rsync \t&& rm -rf /var/cache/apk/*\n ---> Running in 22c2f61440ff\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nv3.17.0-332-g13963e2526 [https://dl-cdn.alpinelinux.org/alpine/v3.17/main]\nv3.17.0-339-g964e761a8f [https://dl-cdn.alpinelinux.org/alpine/v3.17/community]\nOK: 17815 distinct packages available\n(1/5) Installing libacl (2.3.1-r1)\n(2/5) Installing lz4-libs (1.9.4-r1)\n(3/5) Installing popt (1.19-r0)\n(4/5) Installing zstd-libs (1.5.2-r9)\n(5/5) Installing rsync (3.2.7-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 8 MiB in 20 packages\nRemoving intermediate container 22c2f61440ff\n ---> 39f1228a133f\nStep 9/11 : WORKDIR /opt/virter\n ---> Running in 6b01d6856d05\nRemoving intermediate container 6b01d6856d05\n ---> 31a159e84fb4\nStep 10/11 : CMD [\"-h\"]\n ---> Running in ac15189c519d\nRemoving intermediate container ac15189c519d\n ---> 1551119ed36f\nStep 11/11 : ENTRYPOINT [\"/opt/virter/virter\"]\n ---> Running in 4feb15b8d60a\nRemoving intermediate container 4feb15b8d60a\n ---> cc4dd401f947\nSuccessfully built cc4dd401f947\nSuccessfully tagged virter:latest\n","stderr":"","imageSize":32290624},"repair":{"startTime":1673072351036,"endTime":1673072351104,"violations":[],"repairedDockerfile":"FROM golang:alpine as builder\n\nRUN apk update \\\n\t&& apk add make git \\\n\t&& rm -rf /var/cache/apk/*\n\nWORKDIR /go/src/virter\nCOPY . .\n\nRUN make && mv ./virter /\n\nFROM alpine:latest\n\nCOPY --from=builder /virter /opt/virter/\n\nRUN apk update \\\n\t&& apk add rsync \\\n\t&& rm -rf /var/cache/apk/*\n\nWORKDIR /opt/virter\nCMD [\"-h\"]\nENTRYPOINT [\"/opt/virter/virter\"]\n"}}