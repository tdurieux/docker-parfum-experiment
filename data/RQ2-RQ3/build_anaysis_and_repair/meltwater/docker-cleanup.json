{"repository":"https://github.com/meltwater/docker-cleanup","dockerfilePath":"Dockerfile","startTime":1672263342576,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/meltwater/docker-cleanup'...\n","error":null,"commit":"69c19cc2e2732c02d5b756bc065ada3e5e049380"},"originalBuild":{"startTimestamp":1672263343382,"endTimestamp":1672263391728,"error":null,"stdout":"Sending build context to Docker daemon    106kB\r\r\nStep 1/6 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/6 : ENTRYPOINT [\"/run.sh\"]\n ---> Running in 170a35aed0a8\nRemoving intermediate container 170a35aed0a8\n ---> df07e475c139\nStep 3/6 : ENV CLEAN_PERIOD=**None**     DELAY_TIME=**None**     KEEP_IMAGES=**None**     KEEP_CONTAINERS=**None**     LOOP=true     DEBUG=0     DOCKER_API_VERSION=1.20\n ---> Running in 53d49bced2d9\nRemoving intermediate container 53d49bced2d9\n ---> 785cf44e3bc8\nStep 4/6 : RUN apk add --update bash docker grep\n ---> Running in 017318ccd18c\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/19) Installing ncurses-libs (6.3_p20221119-r0)\n(3/19) Installing readline (8.2.0-r0)\n(4/19) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/19) Installing ca-certificates (20220614-r3)\n(6/19) Installing libseccomp (2.5.4-r0)\n(7/19) Installing runc (1.1.4-r4)\n(8/19) Installing containerd (1.6.12-r1)\n(9/19) Installing libmnl (1.0.5-r0)\n(10/19) Installing libnftnl (1.2.4-r0)\n(11/19) Installing iptables (1.8.8-r2)\n(12/19) Installing ip6tables (1.8.8-r2)\n(13/19) Installing tini-static (0.19.0-r1)\n(14/19) Installing device-mapper-libs (2.03.17-r1)\n(15/19) Installing docker-engine (20.10.21-r2)\n(16/19) Installing docker-cli (20.10.21-r2)\n(17/19) Installing docker (20.10.21-r2)\nExecuting docker-20.10.21-r2.pre-install\n(18/19) Installing pcre2 (10.42-r0)\n(19/19) Installing grep (3.8-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 238 MiB in 34 packages\nRemoving intermediate container 017318ccd18c\n ---> 47b707ac68e2\nStep 5/6 : ADD docker-cleanup-volumes.sh /docker-cleanup-volumes.sh\n ---> 1f8e2e455556\nStep 6/6 : ADD run.sh /run.sh\n ---> 825eeaa5c163\nSuccessfully built 825eeaa5c163\nSuccessfully tagged docker-cleanup:latest\n","stderr":"","imageSize":251178050},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":13,"end":13,"columnStart":4,"columnEnd":37}}],"repairedDockerfile":"FROM alpine:latest\n\nENTRYPOINT [\"/run.sh\"]\n\nENV CLEAN_PERIOD=**None** \\\n    DELAY_TIME=**None** \\\n    KEEP_IMAGES=**None** \\\n    KEEP_CONTAINERS=**None** \\\n    LOOP=true \\\n    DEBUG=0 \\\n    DOCKER_API_VERSION=1.20\n\n# run.sh script uses some bash specific syntax\nRUN apk add --no-cache --update bash docker grep\n\n# Install cleanup script\nADD docker-cleanup-volumes.sh /docker-cleanup-volumes.sh\nADD run.sh /run.sh\n\n"},"repairedBuild":{"startTimestamp":1672263392976,"endTimestamp":1672263423514,"error":null,"stdout":"Sending build context to Docker daemon    106kB\r\r\nStep 1/6 : FROM alpine:latest\n ---> 49176f190c7e\nStep 2/6 : ENTRYPOINT [\"/run.sh\"]\n ---> Running in 24d812e6e263\nRemoving intermediate container 24d812e6e263\n ---> 7afd3d8e7364\nStep 3/6 : ENV CLEAN_PERIOD=**None**     DELAY_TIME=**None**     KEEP_IMAGES=**None**     KEEP_CONTAINERS=**None**     LOOP=true     DEBUG=0     DOCKER_API_VERSION=1.20\n ---> Running in 21e119b1556c\nRemoving intermediate container 21e119b1556c\n ---> 6075130872fd\nStep 4/6 : RUN apk add --no-cache --update bash docker grep\n ---> Running in 6000fe5190ff\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/19) Installing ncurses-terminfo-base (6.3_p20221119-r0)\n(2/19) Installing ncurses-libs (6.3_p20221119-r0)\n(3/19) Installing readline (8.2.0-r0)\n(4/19) Installing bash (5.2.15-r0)\nExecuting bash-5.2.15-r0.post-install\n(5/19) Installing ca-certificates (20220614-r3)\n(6/19) Installing libseccomp (2.5.4-r0)\n(7/19) Installing runc (1.1.4-r4)\n(8/19) Installing containerd (1.6.12-r1)\n(9/19) Installing libmnl (1.0.5-r0)\n(10/19) Installing libnftnl (1.2.4-r0)\n(11/19) Installing iptables (1.8.8-r2)\n(12/19) Installing ip6tables (1.8.8-r2)\n(13/19) Installing tini-static (0.19.0-r1)\n(14/19) Installing device-mapper-libs (2.03.17-r1)\n(15/19) Installing docker-engine (20.10.21-r2)\n(16/19) Installing docker-cli (20.10.21-r2)\n(17/19) Installing docker (20.10.21-r2)\nExecuting docker-20.10.21-r2.pre-install\n(18/19) Installing pcre2 (10.42-r0)\n(19/19) Installing grep (3.8-r1)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 238 MiB in 34 packages\nRemoving intermediate container 6000fe5190ff\n ---> 5e27e225646c\nStep 5/6 : ADD docker-cleanup-volumes.sh /docker-cleanup-volumes.sh\n ---> d301af70d5cd\nStep 6/6 : ADD run.sh /run.sh\n ---> ffffbe8d5ccb\nSuccessfully built ffffbe8d5ccb\nSuccessfully tagged docker-cleanup:latest\n","stderr":"","imageSize":248595150},"endTime":1672263425952}