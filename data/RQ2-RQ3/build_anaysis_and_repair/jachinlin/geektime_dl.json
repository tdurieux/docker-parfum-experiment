{"repository":"https://github.com/jachinlin/geektime_dl","dockerfilePath":"Dockerfile","startTime":1672895207818,"endTime":1672895374783,"clone":{"startTime":1672895207818,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jachinlin/geektime_dl'...\n","error":null,"endTime":1672895209449,"commit":"4c957004e3724a05d6b5913de7e6b49cf9a150d1"},"originalBuild":{"startTime":1672895209539,"endTime":1672895298958,"error":null,"stdout":"Sending build context to Docker daemon  22.24MB\r\r\nStep 1/6 : FROM python:3.7-alpine\n3.7-alpine: Pulling from library/python\nc158987b0551: Already exists\n7ec3a91b66d9: Already exists\n806cc3ffa521: Pulling fs layer\n9a88ff2414d3: Pulling fs layer\n1200e05bcad2: Pulling fs layer\n9a88ff2414d3: Verifying Checksum\n9a88ff2414d3: Download complete\n1200e05bcad2: Verifying Checksum\n1200e05bcad2: Download complete\n806cc3ffa521: Verifying Checksum\n806cc3ffa521: Download complete\n806cc3ffa521: Pull complete\n9a88ff2414d3: Pull complete\n1200e05bcad2: Pull complete\nDigest: sha256:f1878142fbb04f418c3f67f78708559887ed5487dbe9bfcb191e726548c3f89e\nStatus: Downloaded newer image for python:3.7-alpine\n ---> 23de60bcccb1\nStep 2/6 : RUN apk add --no-cache jpeg-dev zlib-dev\n ---> Running in e65a582098eb\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing libjpeg-turbo (2.1.4-r0)\n(2/5) Installing pkgconf (1.9.3-r0)\n(3/5) Installing libjpeg-turbo-dev (2.1.4-r0)\n(4/5) Installing jpeg-dev (9e-r0)\n(5/5) Installing zlib-dev (1.2.13-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 42 packages\nRemoving intermediate container e65a582098eb\n ---> 88b65fec55bd\nStep 3/6 : RUN apk add --no-cache --virtual .build-deps build-base linux-headers     && pip install Pillow\n ---> Running in 652737b3a18e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/22) Installing libgcc (12.2.1_git20220924-r4)\n(2/22) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/22) Installing binutils (2.39-r2)\n(4/22) Installing libmagic (5.43-r0)\n(5/22) Installing file (5.43-r0)\n(6/22) Installing libgomp (12.2.1_git20220924-r4)\n(7/22) Installing libatomic (12.2.1_git20220924-r4)\n(8/22) Installing gmp (6.2.1-r2)\n(9/22) Installing isl25 (0.25-r0)\n(10/22) Installing mpfr4 (4.1.0-r0)\n(11/22) Installing mpc1 (1.2.1-r1)\n(12/22) Installing gcc (12.2.1_git20220924-r4)\n(13/22) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/22) Installing musl-dev (1.2.3-r4)\n(15/22) Installing libc-dev (0.7.2-r3)\n(16/22) Installing g++ (12.2.1_git20220924-r4)\n(17/22) Installing make (4.3-r1)\n(18/22) Installing fortify-headers (1.1-r1)\n(19/22) Installing patch (2.7.6-r8)\n(20/22) Installing build-base (0.5-r3)\n(21/22) Installing linux-headers (5.19.5-r0)\n(22/22) Installing .build-deps (20230105.050657)\nExecuting busybox-1.35.0-r29.trigger\nOK: 262 MiB in 64 packages\nCollecting Pillow\n  Downloading Pillow-9.4.0.tar.gz (50.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 50.4/50.4 MB 11.6 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: Pillow\n  Building wheel for Pillow (setup.py): started\n  Building wheel for Pillow (setup.py): finished with status 'done'\n  Created wheel for Pillow: filename=Pillow-9.4.0-cp37-cp37m-linux_x86_64.whl size=596449 sha256=237fc48e53f61798bc989a437013d08b9ce278bc4da76a70460d88a0082dd59c\n  Stored in directory: /root/.cache/pip/wheels/ad/6e/8e/6163e6bfb6d92defd680572f204c323c463aec10aa5cabcebc\nSuccessfully built Pillow\nInstalling collected packages: Pillow\nSuccessfully installed Pillow-9.4.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 652737b3a18e\n ---> 64f6002de222\nStep 4/6 : RUN pip install -U geektime_dl\n ---> Running in 834ff23da51c\nCollecting geektime_dl\n  Downloading geektime_dl-1.1.2-py3-none-any.whl (27 kB)\nCollecting tinydb\n  Downloading tinydb-4.7.0-py3-none-any.whl (24 kB)\nRequirement already satisfied: pillow in /usr/local/lib/python3.7/site-packages (from geektime_dl) (9.4.0)\nCollecting termcolor\n  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 3.8 MB/s eta 0:00:00\nCollecting kindle-maker\n  Downloading kindle_maker-1.0.3-py3-none-any.whl (19.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 19.6/19.6 MB 2.3 MB/s eta 0:00:00\nCollecting tqdm\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.5/78.5 KB 5.8 MB/s eta 0:00:00\nCollecting Jinja2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 KB 9.8 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 14.8 MB/s eta 0:00:00\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 5.7 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 13.8 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting typing-extensions<5.0.0,>=3.10.0\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp37-cp37m-musllinux_1_1_x86_64.whl (30 kB)\nInstalling collected packages: urllib3, typing-extensions, tqdm, termcolor, MarkupSafe, idna, charset-normalizer, certifi, tinydb, requests, Jinja2, kindle-maker, geektime_dl\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 certifi-2022.12.7 charset-normalizer-2.1.1 geektime_dl-1.1.2 idna-3.4 kindle-maker-1.0.3 requests-2.28.1 termcolor-2.2.0 tinydb-4.7.0 tqdm-4.64.1 typing-extensions-4.4.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 834ff23da51c\n ---> 7855ff2e82e0\nStep 5/6 : WORKDIR /output\n ---> Running in ed3b7f130380\nRemoving intermediate container ed3b7f130380\n ---> 8c3df5889a0f\nStep 6/6 : ENTRYPOINT [\"geektime\"]\n ---> Running in f723b1c43cfb\nRemoving intermediate container f723b1c43cfb\n ---> 64dfbb03364b\nSuccessfully built 64dfbb03364b\nSuccessfully tagged geektime_dl:latest\n","stderr":"","imageSize":436170494},"repair":{"startTime":1672895299031,"endTime":1672895299121,"violations":[{"name":"pipUseNoCacheDir","position":{"start":4,"end":4,"columnStart":7,"columnEnd":25}},{"name":"pipUseNoCacheDir","position":{"start":5,"end":5,"columnStart":4,"columnEnd":30}}],"repairedDockerfile":"FROM python:3.7-alpine\n\nRUN apk add --no-cache jpeg-dev zlib-dev\nRUN apk add --no-cache --virtual .build-deps build-base linux-headers \\\n    && pip install --no-cache-dir Pillow\nRUN pip install --no-cache-dir -U geektime_dl\n\nWORKDIR /output\n\nENTRYPOINT [\"geektime\"]\n"},"repairedBuild":{"startTime":1672895303216,"endTime":1672895374396,"error":null,"stdout":"Sending build context to Docker daemon  22.24MB\r\r\nStep 1/6 : FROM python:3.7-alpine\n ---> 23de60bcccb1\nStep 2/6 : RUN apk add --no-cache jpeg-dev zlib-dev\n ---> Running in 6e4df5c2da36\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/5) Installing libjpeg-turbo (2.1.4-r0)\n(2/5) Installing pkgconf (1.9.3-r0)\n(3/5) Installing libjpeg-turbo-dev (2.1.4-r0)\n(4/5) Installing jpeg-dev (9e-r0)\n(5/5) Installing zlib-dev (1.2.13-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 17 MiB in 42 packages\nRemoving intermediate container 6e4df5c2da36\n ---> bba5a5b6b15e\nStep 3/6 : RUN apk add --no-cache --virtual .build-deps build-base linux-headers     && pip install --no-cache-dir Pillow\n ---> Running in 84e5a810769e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/22) Installing libgcc (12.2.1_git20220924-r4)\n(2/22) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/22) Installing binutils (2.39-r2)\n(4/22) Installing libmagic (5.43-r0)\n(5/22) Installing file (5.43-r0)\n(6/22) Installing libgomp (12.2.1_git20220924-r4)\n(7/22) Installing libatomic (12.2.1_git20220924-r4)\n(8/22) Installing gmp (6.2.1-r2)\n(9/22) Installing isl25 (0.25-r0)\n(10/22) Installing mpfr4 (4.1.0-r0)\n(11/22) Installing mpc1 (1.2.1-r1)\n(12/22) Installing gcc (12.2.1_git20220924-r4)\n(13/22) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/22) Installing musl-dev (1.2.3-r4)\n(15/22) Installing libc-dev (0.7.2-r3)\n(16/22) Installing g++ (12.2.1_git20220924-r4)\n(17/22) Installing make (4.3-r1)\n(18/22) Installing fortify-headers (1.1-r1)\n(19/22) Installing patch (2.7.6-r8)\n(20/22) Installing build-base (0.5-r3)\n(21/22) Installing linux-headers (5.19.5-r0)\n(22/22) Installing .build-deps (20230105.050830)\nExecuting busybox-1.35.0-r29.trigger\nOK: 262 MiB in 64 packages\nCollecting Pillow\n  Downloading Pillow-9.4.0.tar.gz (50.4 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 50.4/50.4 MB 109.6 MB/s eta 0:00:00\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nBuilding wheels for collected packages: Pillow\n  Building wheel for Pillow (setup.py): started\n  Building wheel for Pillow (setup.py): finished with status 'done'\n  Created wheel for Pillow: filename=Pillow-9.4.0-cp37-cp37m-linux_x86_64.whl size=596449 sha256=cdc0a900a28be489a207f94acead1e797f97b8749582f5987674ed9fea19e3b7\n  Stored in directory: /tmp/pip-ephem-wheel-cache-tr2z3epy/wheels/ad/6e/8e/6163e6bfb6d92defd680572f204c323c463aec10aa5cabcebc\nSuccessfully built Pillow\nInstalling collected packages: Pillow\nSuccessfully installed Pillow-9.4.0\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 84e5a810769e\n ---> ff3ecfe232b7\nStep 4/6 : RUN pip install --no-cache-dir -U geektime_dl\n ---> Running in 225ee6733906\nCollecting geektime_dl\n  Downloading geektime_dl-1.1.2-py3-none-any.whl (27 kB)\nRequirement already satisfied: pillow in /usr/local/lib/python3.7/site-packages (from geektime_dl) (9.4.0)\nCollecting tinydb\n  Downloading tinydb-4.7.0-py3-none-any.whl (24 kB)\nCollecting termcolor\n  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)\nCollecting tqdm\n  Downloading tqdm-4.64.1-py2.py3-none-any.whl (78 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.5/78.5 KB 59.2 MB/s eta 0:00:00\nCollecting requests\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 KB 66.3 MB/s eta 0:00:00\nCollecting kindle-maker\n  Downloading kindle_maker-1.0.3-py3-none-any.whl (19.6 MB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 19.6/19.6 MB 106.8 MB/s eta 0:00:00\nCollecting Jinja2\n  Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 KB 112.1 MB/s eta 0:00:00\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 KB 220.6 MB/s eta 0:00:00\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 KB 210.1 MB/s eta 0:00:00\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\n     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 KB 166.1 MB/s eta 0:00:00\nCollecting typing-extensions<5.0.0,>=3.10.0\n  Downloading typing_extensions-4.4.0-py3-none-any.whl (26 kB)\nCollecting MarkupSafe>=2.0\n  Downloading MarkupSafe-2.1.1-cp37-cp37m-musllinux_1_1_x86_64.whl (30 kB)\nInstalling collected packages: urllib3, typing-extensions, tqdm, termcolor, MarkupSafe, idna, charset-normalizer, certifi, tinydb, requests, Jinja2, kindle-maker, geektime_dl\nSuccessfully installed Jinja2-3.1.2 MarkupSafe-2.1.1 certifi-2022.12.7 charset-normalizer-2.1.1 geektime_dl-1.1.2 idna-3.4 kindle-maker-1.0.3 requests-2.28.1 termcolor-2.2.0 tinydb-4.7.0 tqdm-4.64.1 typing-extensions-4.4.0 urllib3-1.26.13\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 22.0.4; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 225ee6733906\n ---> 553a8edc17d9\nStep 5/6 : WORKDIR /output\n ---> Running in 5d28f73257a4\nRemoving intermediate container 5d28f73257a4\n ---> 9df0e49cfb44\nStep 6/6 : ENTRYPOINT [\"geektime\"]\n ---> Running in 2a3c3a818f8d\nRemoving intermediate container 2a3c3a818f8d\n ---> 77438439bf12\nSuccessfully built 77438439bf12\nSuccessfully tagged geektime_dl:latest\n","stderr":"","imageSize":364324484}}