{"repository":"https://github.com/khlieng/dispatch","dockerfilePath":"Dockerfile","startTime":1672700529219,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/khlieng/dispatch'...\n","error":null,"commit":"d3d83236467e9ea3fbeb7f9a4ca66d773e38f4d2"},"originalBuild":{"startTimestamp":1672700532017,"endTimestamp":1672700674365,"error":null,"stdout":"Sending build context to Docker daemon  31.52MB\r\r\nStep 1/12 : FROM golang:alpine AS build\nalpine: Pulling from library/golang\nc158987b0551: Already exists\n019cfb932eb0: Pulling fs layer\na3a161a37303: Pulling fs layer\n3c6f08178a17: Pulling fs layer\na3a161a37303: Waiting\n019cfb932eb0: Waiting\n3c6f08178a17: Waiting\n019cfb932eb0: Verifying Checksum\n019cfb932eb0: Download complete\n3c6f08178a17: Download complete\n019cfb932eb0: Pull complete\na3a161a37303: Verifying Checksum\na3a161a37303: Download complete\na3a161a37303: Pull complete\n3c6f08178a17: Pull complete\nDigest: sha256:a9b24b67dc83b3383d22a14941c2b2b2ca6a103d805cac6820fd1355943beaf1\nStatus: Downloaded newer image for golang:alpine\n ---> cae57157ceaa\nStep 2/12 : RUN apk add --update git make build-base &&     rm -rf /var/cache/apk/*\n ---> Running in 6036b039cad7\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libgcc (12.2.1_git20220924-r4)\n(2/26) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/26) Installing binutils (2.39-r2)\n(4/26) Installing libmagic (5.43-r0)\n(5/26) Installing file (5.43-r0)\n(6/26) Installing libgomp (12.2.1_git20220924-r4)\n(7/26) Installing libatomic (12.2.1_git20220924-r4)\n(8/26) Installing gmp (6.2.1-r2)\n(9/26) Installing isl25 (0.25-r0)\n(10/26) Installing mpfr4 (4.1.0-r0)\n(11/26) Installing mpc1 (1.2.1-r1)\n(12/26) Installing gcc (12.2.1_git20220924-r4)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing musl-dev (1.2.3-r4)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (12.2.1_git20220924-r4)\n(17/26) Installing make (4.3-r1)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r8)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r9)\n(22/26) Installing nghttp2-libs (1.51.0-r0)\n(23/26) Installing libcurl (7.87.0-r0)\n(24/26) Installing libexpat (2.5.0-r0)\n(25/26) Installing pcre2 (10.42-r0)\n(26/26) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 253 MiB in 42 packages\nRemoving intermediate container 6036b039cad7\n ---> 18d71c0987b2\nStep 3/12 : WORKDIR /go/src/github.com/khlieng/dispatch\n ---> Running in 52ddda99d7ae\nRemoving intermediate container 52ddda99d7ae\n ---> 14724c794414\nStep 4/12 : COPY . /go/src/github.com/khlieng/dispatch\n ---> 999c3a126648\nStep 5/12 : RUN chmod +x install.sh && ./install.sh\n ---> Running in 511920a28ed2\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mRemoving intermediate container 511920a28ed2\n ---> 6e27bdd7bdef\nStep 6/12 : FROM alpine\n ---> 49176f190c7e\nStep 7/12 : RUN apk add --update ca-certificates &&     rm -rf /var/cache/apk/*\n ---> Running in 7694695d392e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 7694695d392e\n ---> fb43881853d3\nStep 8/12 : COPY --from=build /go/bin/dispatch /dispatch\n ---> 1ec6ae5ecb6e\nStep 9/12 : EXPOSE 80/tcp\n ---> Running in a60349c7ef88\nRemoving intermediate container a60349c7ef88\n ---> 30d6b8986813\nStep 10/12 : VOLUME [\"/data\"]\n ---> Running in dde10a67948d\nRemoving intermediate container dde10a67948d\n ---> 0e2ea306abdf\nStep 11/12 : ENTRYPOINT [\"/dispatch\"]\n ---> Running in e0db09fbff0c\nRemoving intermediate container e0db09fbff0c\n ---> da8aa7586865\nStep 12/12 : CMD [\"--dir=/data\"]\n ---> Running in 656d3ca9ad06\nRemoving intermediate container 656d3ca9ad06\n ---> d3821a4f6a80\nSuccessfully built d3821a4f6a80\nSuccessfully tagged dispatch:latest\n","stderr":"","imageSize":25243513},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":3,"end":3,"columnStart":4,"columnEnd":40}},{"name":"apkAddUseNoCache","position":{"start":13,"end":13,"columnStart":4,"columnEnd":36}}],"repairedDockerfile":"# Build\nFROM golang:alpine AS build\n\nRUN apk add --no-cache --update git make build-base && \\\n    rm -rf /var/cache/apk/*\n\nWORKDIR /go/src/github.com/khlieng/dispatch\nCOPY . /go/src/github.com/khlieng/dispatch\nRUN chmod +x install.sh && ./install.sh\n\n# Runtime\nFROM alpine\n\nRUN apk add --no-cache --update ca-certificates && \\\n    rm -rf /var/cache/apk/*\n\nCOPY --from=build /go/bin/dispatch /dispatch\n\nEXPOSE 80/tcp\n\nVOLUME [\"/data\"]\n\nENTRYPOINT [\"/dispatch\"]\nCMD [\"--dir=/data\"]\n"},"repairedBuild":{"startTimestamp":1672700676313,"endTimestamp":1672700760824,"error":null,"stdout":"Sending build context to Docker daemon  31.52MB\r\r\nStep 1/12 : FROM golang:alpine AS build\n ---> cae57157ceaa\nStep 2/12 : RUN apk add --no-cache --update git make build-base &&     rm -rf /var/cache/apk/*\n ---> Running in df61094bd47e\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/26) Installing libgcc (12.2.1_git20220924-r4)\n(2/26) Installing libstdc++ (12.2.1_git20220924-r4)\n(3/26) Installing binutils (2.39-r2)\n(4/26) Installing libmagic (5.43-r0)\n(5/26) Installing file (5.43-r0)\n(6/26) Installing libgomp (12.2.1_git20220924-r4)\n(7/26) Installing libatomic (12.2.1_git20220924-r4)\n(8/26) Installing gmp (6.2.1-r2)\n(9/26) Installing isl25 (0.25-r0)\n(10/26) Installing mpfr4 (4.1.0-r0)\n(11/26) Installing mpc1 (1.2.1-r1)\n(12/26) Installing gcc (12.2.1_git20220924-r4)\n(13/26) Installing libstdc++-dev (12.2.1_git20220924-r4)\n(14/26) Installing musl-dev (1.2.3-r4)\n(15/26) Installing libc-dev (0.7.2-r3)\n(16/26) Installing g++ (12.2.1_git20220924-r4)\n(17/26) Installing make (4.3-r1)\n(18/26) Installing fortify-headers (1.1-r1)\n(19/26) Installing patch (2.7.6-r8)\n(20/26) Installing build-base (0.5-r3)\n(21/26) Installing brotli-libs (1.0.9-r9)\n(22/26) Installing nghttp2-libs (1.51.0-r0)\n(23/26) Installing libcurl (7.87.0-r0)\n(24/26) Installing libexpat (2.5.0-r0)\n(25/26) Installing pcre2 (10.42-r0)\n(26/26) Installing git (2.38.2-r0)\nExecuting busybox-1.35.0-r29.trigger\nOK: 253 MiB in 42 packages\nRemoving intermediate container df61094bd47e\n ---> a4af20e5110f\nStep 3/12 : WORKDIR /go/src/github.com/khlieng/dispatch\n ---> Running in 9f50b1c1d44a\nRemoving intermediate container 9f50b1c1d44a\n ---> 561477d5dc91\nStep 4/12 : COPY . /go/src/github.com/khlieng/dispatch\n ---> cd8bf0cd7a9d\nStep 5/12 : RUN chmod +x install.sh && ./install.sh\n ---> Running in 1898d66c07fc\n\u001b[91mfatal: No names found, cannot describe anything.\n\u001b[0mRemoving intermediate container 1898d66c07fc\n ---> 0f6e165cb6e4\nStep 6/12 : FROM alpine\n ---> 49176f190c7e\nStep 7/12 : RUN apk add --no-cache --update ca-certificates &&     rm -rf /var/cache/apk/*\n ---> Running in 2a5b9fc87ad3\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing ca-certificates (20220614-r3)\nExecuting busybox-1.35.0-r29.trigger\nExecuting ca-certificates-20220614-r3.trigger\nOK: 8 MiB in 16 packages\nRemoving intermediate container 2a5b9fc87ad3\n ---> 1020071ef04d\nStep 8/12 : COPY --from=build /go/bin/dispatch /dispatch\n ---> 2b66bf223aef\nStep 9/12 : EXPOSE 80/tcp\n ---> Running in c4ce2615260c\nRemoving intermediate container c4ce2615260c\n ---> c9accc7c8ead\nStep 10/12 : VOLUME [\"/data\"]\n ---> Running in 04a7d38d9999\nRemoving intermediate container 04a7d38d9999\n ---> 78b78548ca85\nStep 11/12 : ENTRYPOINT [\"/dispatch\"]\n ---> Running in 29af4082985b\nRemoving intermediate container 29af4082985b\n ---> 6231ed1183f4\nStep 12/12 : CMD [\"--dir=/data\"]\n ---> Running in c8b0f3b8140b\nRemoving intermediate container c8b0f3b8140b\n ---> 4b0d188becf9\nSuccessfully built 4b0d188becf9\nSuccessfully tagged dispatch:latest\n","stderr":"","imageSize":25243513},"endTime":1672700761762}