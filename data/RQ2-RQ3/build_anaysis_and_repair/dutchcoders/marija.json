{"repository":"https://github.com/dutchcoders/marija","dockerfilePath":"Dockerfile","startTime":1672080726286,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/dutchcoders/marija'...\n","error":null,"commit":"8f642f348fa16751eedbb0deef832776465bfb6c"},"originalBuild":{"startTimestamp":1672080728570,"endTimestamp":1672080794266,"error":null,"stdout":"Sending build context to Docker daemon  30.82MB\r\r\nStep 1/16 : FROM golang:1.9.4 AS go\n1.9.4: Pulling from library/golang\nc73ab1c6897b: Pulling fs layer\n1ab373b3deae: Pulling fs layer\nb542772b4177: Pulling fs layer\n57c8de432dbe: Pulling fs layer\nc81227e1ec90: Pulling fs layer\nc503a785f6fd: Pulling fs layer\n0f90e5cd37cc: Pulling fs layer\n8e848f75f6b2: Pulling fs layer\n57c8de432dbe: Waiting\nc81227e1ec90: Waiting\n0f90e5cd37cc: Waiting\nc503a785f6fd: Waiting\n8e848f75f6b2: Waiting\nb542772b4177: Verifying Checksum\nb542772b4177: Download complete\n1ab373b3deae: Verifying Checksum\n1ab373b3deae: Download complete\nc73ab1c6897b: Verifying Checksum\nc73ab1c6897b: Download complete\n57c8de432dbe: Verifying Checksum\n57c8de432dbe: Download complete\n0f90e5cd37cc: Verifying Checksum\n0f90e5cd37cc: Download complete\n8e848f75f6b2: Download complete\nc81227e1ec90: Verifying Checksum\nc81227e1ec90: Download complete\nc503a785f6fd: Verifying Checksum\nc503a785f6fd: Download complete\nc73ab1c6897b: Pull complete\n1ab373b3deae: Pull complete\nb542772b4177: Pull complete\n57c8de432dbe: Pull complete\nc81227e1ec90: Pull complete\nc503a785f6fd: Pull complete\n0f90e5cd37cc: Pull complete\n8e848f75f6b2: Pull complete\nDigest: sha256:332a39d7995bc6770e70cc9c48bae1e5724d91f88c62856ffe3b32f64419622d\nStatus: Downloaded newer image for golang:1.9.4\n ---> a6c306bd0b2f\nStep 2/16 : RUN apt update -y\n ---> Running in d071e4c04c8a\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org stretch/updates InRelease [59.1 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org stretch/updates/main amd64 Packages [996 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [9610 kB]\nFetched 10.9 MB in 1s (9395 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n80 packages can be upgraded. Run 'apt list --upgradable' to see them.\nRemoving intermediate container d071e4c04c8a\n ---> a822a3c54df9\nStep 3/16 : ENV GOPATH /go\n ---> Running in cd33a07ba551\nRemoving intermediate container cd33a07ba551\n ---> df773b3b201c\nStep 4/16 : ENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n ---> Running in 9290317b9e26\nRemoving intermediate container 9290317b9e26\n ---> c0d0678b57c3\nStep 5/16 : ADD . /go/src/github.com/dutchcoders/marija\n ---> 8aee8c35b191\nStep 6/16 : ARG LDFLAGS=\"\"\n ---> Running in 7f6ed89e2c2a\nRemoving intermediate container 7f6ed89e2c2a\n ---> 0eb91fac1809\nStep 7/16 : WORKDIR /go/src/github.com/dutchcoders/marija\n ---> Running in 519b75992626\nRemoving intermediate container 519b75992626\n ---> fe07d67dbe13\nStep 8/16 : RUN go build -ldflags=\"$(go run scripts/gen-ldflags.go)\" -o /go/bin/app github.com/dutchcoders/marija\n ---> Running in d92d331c3887\nRemoving intermediate container d92d331c3887\n ---> 911d99ece8c5\nStep 9/16 : FROM debian\nlatest: Pulling from library/debian\n32de3c850997: Pulling fs layer\n32de3c850997: Verifying Checksum\n32de3c850997: Download complete\n32de3c850997: Pull complete\nDigest: sha256:c66c0e5dc607baefefda1d9e64a3b3a317e4189c540c8eac0c1a06186fe353a1\nStatus: Downloaded newer image for debian:latest\n ---> 446440c01886\nStep 10/16 : RUN apt-get update && apt-get install -y ca-certificates\n ---> Running in fe0db6135386\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6948 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (6364 kB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container fe0db6135386\n ---> 30d608e175fa\nStep 11/16 : COPY --from=go /go/bin/app /marija/marija\n ---> 7fd374b38ca0\nStep 12/16 : ARG LDFLAGS=\"\"\n ---> Running in 6ec87ac9b002\nRemoving intermediate container 6ec87ac9b002\n ---> d76b73fbc220\nStep 13/16 : RUN mkdir /config/\n ---> Running in 61e400946492\nRemoving intermediate container 61e400946492\n ---> 5b992d7e86fa\nStep 14/16 : ADD config-docker.toml /config/config.toml\n ---> 41069ce282ba\nStep 15/16 : ENTRYPOINT [\"/marija/marija\", \"-p\", \"0.0.0.0:8080\", \"--config\", \"/config/config.toml\"]\n ---> Running in 2cd6298723d6\nRemoving intermediate container 2cd6298723d6\n ---> 4fa74102f43c\nStep 16/16 : EXPOSE 8080\n ---> Running in e82275ef2d8a\nRemoving intermediate container e82275ef2d8a\n ---> 48d720d47182\nSuccessfully built 48d720d47182\nSuccessfully tagged marija:latest\n","stderr":"","imageSize":163157071},"repair":{"violations":[{"name":"ruleAptGetInstallUseNoRec","position":{"start":15,"end":15,"columnStart":22,"columnEnd":56}},{"name":"ruleAptGetInstallThenRemoveAptLists","position":{"start":15,"end":15,"columnStart":22,"columnEnd":56}}],"repairedDockerfile":"FROM golang:1.9.4 AS go\n\nRUN apt update -y\n\nENV GOPATH /go\nENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n\nADD . /go/src/github.com/dutchcoders/marija\n\nARG LDFLAGS=\"\"\n\nWORKDIR /go/src/github.com/dutchcoders/marija\nRUN go build -ldflags=\"$(go run scripts/gen-ldflags.go)\" -o /go/bin/app github.com/dutchcoders/marija\n\nFROM debian\nRUN apt-get update && apt-get install --no-install-recommends -y ca-certificates\n\nCOPY --from=go /go/bin/app /marija/marija\n\nARG LDFLAGS=\"\"\nRUN mkdir /config/\nADD config-docker.toml /config/config.toml\n\nENTRYPOINT [\"/marija/marija\", \"-p\", \"0.0.0.0:8080\", \"--config\", \"/config/config.toml\"]\nEXPOSE 8080\n"},"repairedBuild":{"startTimestamp":1672080794646,"endTimestamp":1672080823504,"error":null,"stdout":"Sending build context to Docker daemon  30.82MB\r\r\nStep 1/16 : FROM golang:1.9.4 AS go\n ---> a6c306bd0b2f\nStep 2/16 : RUN apt update -y\n ---> Running in 301c6f92af8c\n\u001b[91m\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\n\u001b[0mIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]\nGet:3 http://deb.debian.org/debian stretch Release [118 kB]\nGet:4 http://security.debian.org stretch/updates InRelease [59.1 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [3177 B]\nGet:6 http://security.debian.org stretch/updates/main amd64 Packages [996 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 Packages [9610 kB]\nFetched 10.9 MB in 1s (9705 kB/s)\nReading package lists...\nBuilding dependency tree...\nReading state information...\n80 packages can be upgraded. Run 'apt list --upgradable' to see them.\nRemoving intermediate container 301c6f92af8c\n ---> 88b4c1909905\nStep 3/16 : ENV GOPATH /go\n ---> Running in 0a12f635e1e1\nRemoving intermediate container 0a12f635e1e1\n ---> 35efe20cdd61\nStep 4/16 : ENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n ---> Running in 590b6b35259e\nRemoving intermediate container 590b6b35259e\n ---> 189b9bf6d82b\nStep 5/16 : ADD . /go/src/github.com/dutchcoders/marija\n ---> b369d5750183\nStep 6/16 : ARG LDFLAGS=\"\"\n ---> Running in 8abe62d100f8\nRemoving intermediate container 8abe62d100f8\n ---> 6260d9dc7010\nStep 7/16 : WORKDIR /go/src/github.com/dutchcoders/marija\n ---> Running in 1718f63e6b97\nRemoving intermediate container 1718f63e6b97\n ---> 9c38e0900ace\nStep 8/16 : RUN go build -ldflags=\"$(go run scripts/gen-ldflags.go)\" -o /go/bin/app github.com/dutchcoders/marija\n ---> Running in 73aa5131ebc3\nRemoving intermediate container 73aa5131ebc3\n ---> 1cfc56c57cef\nStep 9/16 : FROM debian\n ---> 446440c01886\nStep 10/16 : RUN apt-get update && apt-get install --no-install-recommends -y ca-certificates\n ---> Running in 9e4bb971b20f\nGet:1 http://deb.debian.org/debian bullseye InRelease [116 kB]\nGet:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]\nGet:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]\nGet:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]\nGet:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [210 kB]\nGet:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]\nFetched 8616 kB in 1s (6941 kB/s)\nReading package lists...\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  openssl\nThe following NEW packages will be installed:\n  ca-certificates openssl\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1011 kB of archives.\nAfter this operation, 1892 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main amd64 openssl amd64 1.1.1n-0+deb11u3 [853 kB]\nGet:2 http://deb.debian.org/debian bullseye/main amd64 ca-certificates all 20210119 [158 kB]\n\u001b[91mdebconf: delaying package configuration, since apt-utils is not installed\n\u001b[0mFetched 1011 kB in 0s (31.4 MB/s)\nSelecting previously unselected package openssl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 6661 files and directories currently installed.)\r\nPreparing to unpack .../openssl_1.1.1n-0+deb11u3_amd64.deb ...\r\nUnpacking openssl (1.1.1n-0+deb11u3) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../ca-certificates_20210119_all.deb ...\r\nUnpacking ca-certificates (20210119) ...\r\nSetting up openssl (1.1.1n-0+deb11u3) ...\r\nSetting up ca-certificates (20210119) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n129 added, 0 removed; done.\r\nProcessing triggers for ca-certificates (20210119) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nRemoving intermediate container 9e4bb971b20f\n ---> 4afa869d429d\nStep 11/16 : COPY --from=go /go/bin/app /marija/marija\n ---> 34a0a25c463a\nStep 12/16 : ARG LDFLAGS=\"\"\n ---> Running in e0a288e80a24\nRemoving intermediate container e0a288e80a24\n ---> 2b9340088b2d\nStep 13/16 : RUN mkdir /config/\n ---> Running in 26a97b688d9f\nRemoving intermediate container 26a97b688d9f\n ---> 2a8538faf615\nStep 14/16 : ADD config-docker.toml /config/config.toml\n ---> 064369658383\nStep 15/16 : ENTRYPOINT [\"/marija/marija\", \"-p\", \"0.0.0.0:8080\", \"--config\", \"/config/config.toml\"]\n ---> Running in 24b7b26f083b\nRemoving intermediate container 24b7b26f083b\n ---> 6daff7e3b438\nStep 16/16 : EXPOSE 8080\n ---> Running in 87d77ff1fc7c\nRemoving intermediate container 87d77ff1fc7c\n ---> e4600a4280de\nSuccessfully built e4600a4280de\nSuccessfully tagged marija:latest\n","stderr":"","imageSize":163157095},"endTime":1672080823860}