{"repository":"https://github.com/ixc/letsencrypt-docker","dockerfilePath":"Dockerfile","startTime":1672333718443,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ixc/letsencrypt-docker'...\n","error":null,"commit":"337808260e6a4c8cdf7123f03648ca824ddd81d3"},"originalBuild":{"startTimestamp":1672333719263,"endTimestamp":1672333794446,"error":null,"stdout":"Sending build context to Docker daemon    105kB\r\r\nStep 1/13 : FROM alpine:3.5\n3.5: Pulling from library/alpine\n8cae0e1ac61c: Pulling fs layer\n8cae0e1ac61c: Verifying Checksum\n8cae0e1ac61c: Download complete\n8cae0e1ac61c: Pull complete\nDigest: sha256:66952b313e51c3bd1987d7c4ddf5dba9bc0fb6e524eed2448fa660246b3e76ec\nStatus: Downloaded newer image for alpine:3.5\n ---> f80194ae2e0c\nStep 2/13 : RUN apk update     && apk upgrade     && apk add         bash         ca-certificates         certbot         docker         nginx         tini         wget     && rm -rf /var/cache/apk/*\n ---> Running in cc933ff4f071\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz\nv3.5.3-40-g389d0b359a [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]\nv3.5.3-40-g389d0b359a [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]\nOK: 7963 distinct packages available\nOK: 4 MiB in 11 packages\n(1/71) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(2/71) Installing ncurses-terminfo (6.0_p20171125-r1)\n(3/71) Installing ncurses-libs (6.0_p20171125-r1)\n(4/71) Installing readline (6.3.008-r4)\n(5/71) Installing bash (4.3.46-r5)\nExecuting bash-4.3.46-r5.post-install\n(6/71) Installing ca-certificates (20161130-r1)\n(7/71) Installing libbz2 (1.0.6-r5)\n(8/71) Installing expat (2.2.0-r1)\n(9/71) Installing libffi (3.2.1-r2)\n(10/71) Installing gdbm (1.12-r0)\n(11/71) Installing sqlite-libs (3.15.2-r2)\n(12/71) Installing python2 (2.7.15-r0)\n(13/71) Installing py-setuptools (29.0.1-r0)\n(14/71) Installing py-pbr (1.10.0-r0)\n(15/71) Installing py2-pbr (1.10.0-r0)\n(16/71) Installing py-six (1.10.0-r5)\n(17/71) Installing py2-six (1.10.0-r5)\n(18/71) Installing py-mock (2.0.0-r2)\n(19/71) Installing py2-funcsigs (1.0.2-r0)\n(20/71) Installing py2-mock (2.0.0-r2)\n(21/71) Installing py-cffi (1.8.3-r0)\n(22/71) Installing py2-cparser (2.14-r2)\n(23/71) Installing py2-cffi (1.8.3-r0)\n(24/71) Installing py-idna (2.2-r0)\n(25/71) Installing py2-idna (2.2-r0)\n(26/71) Installing py-asn1 (0.1.9-r2)\n(27/71) Installing py2-asn1 (0.1.9-r2)\n(28/71) Installing py-cryptography (1.5.3-r0)\n(29/71) Installing py2-ipaddress (1.0.17-r1)\n(30/71) Installing py2-enum34 (1.1.6-r1)\n(31/71) Installing py2-cryptography (1.5.3-r0)\n(32/71) Installing py-openssl (16.1.0-r0)\n(33/71) Installing py2-openssl (16.1.0-r0)\n(34/71) Installing py-ndg_httpsclient (0.4.0-r0)\n(35/71) Installing py-tz (2016.7-r0)\n(36/71) Installing py2-tz (2016.7-r0)\n(37/71) Installing py-rfc3339 (1.0-r0)\n(38/71) Installing py2-rfc3339 (1.0-r0)\n(39/71) Installing py-requests (2.11.1-r1)\n(40/71) Installing py2-requests (2.11.1-r1)\n(41/71) Installing py-werkzeug (0.11.11-r0)\n(42/71) Installing py2-werkzeug (0.11.11-r0)\n(43/71) Installing py-acme (0.9.3-r0)\n(44/71) Installing py-configargparse (0.11.0-r0)\n(45/71) Installing py2-configargparse (0.11.0-r0)\n(46/71) Installing py-configobj (5.0.6-r2)\n(47/71) Installing py2-configobj (5.0.6-r2)\n(48/71) Installing py-parsedatetime (1.5-r0)\n(49/71) Installing dialog (1.3.20160209-r0)\n(50/71) Installing py-dialog (3.3.0-r0)\n(51/71) Installing py-zope-component (4.1.0-r0)\n(52/71) Installing py-zope-interface (4.3.2-r0)\n(53/71) Installing py2-zope-interface (4.3.2-r0)\n(54/71) Installing py-zope-event (4.2.0-r0)\n(55/71) Installing py-enum34 (1.1.6-r1)\n(56/71) Installing py-ipaddress (1.0.17-r1)\n(57/71) Installing certbot (0.9.3-r0)\n(58/71) Installing libmnl (1.0.4-r0)\n(59/71) Installing libnftnl-libs (1.0.7-r0)\n(60/71) Installing iptables (1.6.0-r0)\n(61/71) Installing libssh2 (1.7.0-r2)\n(62/71) Installing libcurl (7.61.1-r1)\n(63/71) Installing pcre (8.39-r0)\n(64/71) Installing git (2.11.3-r2)\n(65/71) Installing xz-libs (5.2.2-r1)\n(66/71) Installing xz (5.2.2-r1)\n(67/71) Installing libseccomp (2.3.1-r0)\n(68/71) Installing docker (1.12.6-r0)\nExecuting docker-1.12.6-r0.pre-install\n(69/71) Installing nginx (1.10.3-r1)\nExecuting nginx-1.10.3-r1.pre-install\n(70/71) Installing tini (0.9.0-r1)\n(71/71) Installing wget (1.18-r4)\nExecuting busybox-1.25.1-r2.trigger\nExecuting ca-certificates-20161130-r1.trigger\nOK: 193 MiB in 82 packages\nRemoving intermediate container cc933ff4f071\n ---> d9886442b7ed\nStep 3/13 : RUN update-ca-certificates\n ---> Running in d27fc68be9a4\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container d27fc68be9a4\n ---> f29dafe0ca13\nStep 4/13 : ENV DOCKERIZE_VERSION=0.4.0\n ---> Running in e5c5681552a1\nRemoving intermediate container e5c5681552a1\n ---> bd84af09b3cb\nStep 5/13 : RUN wget -nv -O - \"https://github.com/jwilder/dockerize/releases/download/v${DOCKERIZE_VERSION}/dockerize-linux-amd64-v${DOCKERIZE_VERSION}.tar.gz\" | tar -xz -C /usr/local/bin/ -f -\n ---> Running in 1b6fa35e1448\n\u001b[91m2022-12-29 17:09:23 URL:https://objects.githubusercontent.com/github-production-release-asset-2e65be/25178920/d5806d34-18c5-11e7-9586-b30835a1c6c4?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20221229%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20221229T170921Z&X-Amz-Expires=300&X-Amz-Signature=5a81a4e47c274610af42a8b7246146746c1b6a058ce781a0afc9dbe5f85da350&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=25178920&response-content-disposition=attachment%3B%20filename%3Ddockerize-linux-amd64-v0.4.0.tar.gz&response-content-type=application%2Foctet-stream [2494471/2494471] -> \"-\" [1]\n\u001b[0mRemoving intermediate container 1b6fa35e1448\n ---> 4216d8683108\nStep 6/13 : RUN ln -s /opt/letsencrypt/bin/certbot.sh /etc/periodic/daily/certbot\n ---> Running in 485c5f89b78a\nRemoving intermediate container 485c5f89b78a\n ---> 8d8c2e6c7675\nStep 7/13 : ENV PATH=\"/opt/letsencrypt/bin:$PATH\"\n ---> Running in 51dcfbfac7e3\nRemoving intermediate container 51dcfbfac7e3\n ---> 533c03a2d834\nStep 8/13 : EXPOSE 80\n ---> Running in 0ba295797bdc\nRemoving intermediate container 0ba295797bdc\n ---> 160bee6c4db9\nStep 9/13 : VOLUME /certs\n ---> Running in 08bc378867df\nRemoving intermediate container 08bc378867df\n ---> 4b3d0fdfced4\nStep 10/13 : VOLUME /etc/letsencrypt\n ---> Running in 398b8d84e054\nRemoving intermediate container 398b8d84e054\n ---> 747950635910\nStep 11/13 : ENTRYPOINT [\"/sbin/tini\", \"--\", \"entrypoint.sh\"]\n ---> Running in 86506931850a\nRemoving intermediate container 86506931850a\n ---> f91119bdd633\nStep 12/13 : CMD [\"run.sh\"]\n ---> Running in e7da529b087b\nRemoving intermediate container e7da529b087b\n ---> 4ca1c8cc228e\nStep 13/13 : COPY . /opt/letsencrypt/\n ---> 403515763e98\nSuccessfully built 403515763e98\nSuccessfully tagged letsencrypt-docker:latest\n","stderr":"","imageSize":191788868},"repair":{"violations":[{"name":"apkAddUseNoCache","position":{"start":4,"end":11,"columnStart":7,"columnEnd":12}}],"repairedDockerfile":"FROM alpine:3.5\n\nRUN apk update \\\n    && apk upgrade \\\n    && apk add --no-cache \\\n        bash \\\n        ca-certificates \\\n        certbot \\\n        docker \\\n        nginx \\\n        tini \\\n        wget \\\n    && rm -rf /var/cache/apk/*\n\nRUN update-ca-certificates\n\nENV DOCKERIZE_VERSION=0.4.0\nRUN wget -nv -O - \"https://github.com/jwilder/dockerize/releases/download/v${DOCKERIZE_VERSION}/dockerize-linux-amd64-v${DOCKERIZE_VERSION}.tar.gz\" | tar -xz -C /usr/local/bin/ -f -\n\nRUN ln -s /opt/letsencrypt/bin/certbot.sh /etc/periodic/daily/certbot\n\nENV PATH=\"/opt/letsencrypt/bin:$PATH\"\n\nEXPOSE 80\n\nVOLUME /certs\nVOLUME /etc/letsencrypt\n\nENTRYPOINT [\"/sbin/tini\", \"--\", \"entrypoint.sh\"]\nCMD [\"run.sh\"]\n\nCOPY . /opt/letsencrypt/\n"},"repairedBuild":{"startTimestamp":1672333794949,"endTimestamp":1672333865637,"error":null,"stdout":"Sending build context to Docker daemon    105kB\r\r\nStep 1/13 : FROM alpine:3.5\n ---> f80194ae2e0c\nStep 2/13 : RUN apk update     && apk upgrade     && apk add --no-cache         bash         ca-certificates         certbot         docker         nginx         tini         wget     && rm -rf /var/cache/apk/*\n ---> Running in 209b13c33e92\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz\nv3.5.3-40-g389d0b359a [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]\nv3.5.3-40-g389d0b359a [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]\nOK: 7963 distinct packages available\nOK: 4 MiB in 11 packages\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz\n(1/71) Installing ncurses-terminfo-base (6.0_p20171125-r1)\n(2/71) Installing ncurses-terminfo (6.0_p20171125-r1)\n(3/71) Installing ncurses-libs (6.0_p20171125-r1)\n(4/71) Installing readline (6.3.008-r4)\n(5/71) Installing bash (4.3.46-r5)\nExecuting bash-4.3.46-r5.post-install\n(6/71) Installing ca-certificates (20161130-r1)\n(7/71) Installing libbz2 (1.0.6-r5)\n(8/71) Installing expat (2.2.0-r1)\n(9/71) Installing libffi (3.2.1-r2)\n(10/71) Installing gdbm (1.12-r0)\n(11/71) Installing sqlite-libs (3.15.2-r2)\n(12/71) Installing python2 (2.7.15-r0)\n(13/71) Installing py-setuptools (29.0.1-r0)\n(14/71) Installing py-pbr (1.10.0-r0)\n(15/71) Installing py2-pbr (1.10.0-r0)\n(16/71) Installing py-six (1.10.0-r5)\n(17/71) Installing py2-six (1.10.0-r5)\n(18/71) Installing py-mock (2.0.0-r2)\n(19/71) Installing py2-funcsigs (1.0.2-r0)\n(20/71) Installing py2-mock (2.0.0-r2)\n(21/71) Installing py-cffi (1.8.3-r0)\n(22/71) Installing py2-cparser (2.14-r2)\n(23/71) Installing py2-cffi (1.8.3-r0)\n(24/71) Installing py-idna (2.2-r0)\n(25/71) Installing py2-idna (2.2-r0)\n(26/71) Installing py-asn1 (0.1.9-r2)\n(27/71) Installing py2-asn1 (0.1.9-r2)\n(28/71) Installing py-cryptography (1.5.3-r0)\n(29/71) Installing py2-ipaddress (1.0.17-r1)\n(30/71) Installing py2-enum34 (1.1.6-r1)\n(31/71) Installing py2-cryptography (1.5.3-r0)\n(32/71) Installing py-openssl (16.1.0-r0)\n(33/71) Installing py2-openssl (16.1.0-r0)\n(34/71) Installing py-ndg_httpsclient (0.4.0-r0)\n(35/71) Installing py-tz (2016.7-r0)\n(36/71) Installing py2-tz (2016.7-r0)\n(37/71) Installing py-rfc3339 (1.0-r0)\n(38/71) Installing py2-rfc3339 (1.0-r0)\n(39/71) Installing py-requests (2.11.1-r1)\n(40/71) Installing py2-requests (2.11.1-r1)\n(41/71) Installing py-werkzeug (0.11.11-r0)\n(42/71) Installing py2-werkzeug (0.11.11-r0)\n(43/71) Installing py-acme (0.9.3-r0)\n(44/71) Installing py-configargparse (0.11.0-r0)\n(45/71) Installing py2-configargparse (0.11.0-r0)\n(46/71) Installing py-configobj (5.0.6-r2)\n(47/71) Installing py2-configobj (5.0.6-r2)\n(48/71) Installing py-parsedatetime (1.5-r0)\n(49/71) Installing dialog (1.3.20160209-r0)\n(50/71) Installing py-dialog (3.3.0-r0)\n(51/71) Installing py-zope-component (4.1.0-r0)\n(52/71) Installing py-zope-interface (4.3.2-r0)\n(53/71) Installing py2-zope-interface (4.3.2-r0)\n(54/71) Installing py-zope-event (4.2.0-r0)\n(55/71) Installing py-enum34 (1.1.6-r1)\n(56/71) Installing py-ipaddress (1.0.17-r1)\n(57/71) Installing certbot (0.9.3-r0)\n(58/71) Installing libmnl (1.0.4-r0)\n(59/71) Installing libnftnl-libs (1.0.7-r0)\n(60/71) Installing iptables (1.6.0-r0)\n(61/71) Installing libssh2 (1.7.0-r2)\n(62/71) Installing libcurl (7.61.1-r1)\n(63/71) Installing pcre (8.39-r0)\n(64/71) Installing git (2.11.3-r2)\n(65/71) Installing xz-libs (5.2.2-r1)\n(66/71) Installing xz (5.2.2-r1)\n(67/71) Installing libseccomp (2.3.1-r0)\n(68/71) Installing docker (1.12.6-r0)\nExecuting docker-1.12.6-r0.pre-install\n(69/71) Installing nginx (1.10.3-r1)\nExecuting nginx-1.10.3-r1.pre-install\n(70/71) Installing tini (0.9.0-r1)\n(71/71) Installing wget (1.18-r4)\nExecuting busybox-1.25.1-r2.trigger\nExecuting ca-certificates-20161130-r1.trigger\nOK: 193 MiB in 82 packages\nRemoving intermediate container 209b13c33e92\n ---> 36796df259c3\nStep 3/13 : RUN update-ca-certificates\n ---> Running in 7d143387a4d7\n\u001b[91mWARNING: ca-certificates.crt does not contain exactly one certificate or CRL: skipping\n\u001b[0mRemoving intermediate container 7d143387a4d7\n ---> 9e4a00c59caf\nStep 4/13 : ENV DOCKERIZE_VERSION=0.4.0\n ---> Running in b124857d3a6c\nRemoving intermediate container b124857d3a6c\n ---> 7b5e0ce83fa0\nStep 5/13 : RUN wget -nv -O - \"https://github.com/jwilder/dockerize/releases/download/v${DOCKERIZE_VERSION}/dockerize-linux-amd64-v${DOCKERIZE_VERSION}.tar.gz\" | tar -xz -C /usr/local/bin/ -f -\n ---> Running in 14821ca95103\n\u001b[91m2022-12-29 17:10:21 URL:https://objects.githubusercontent.com/github-production-release-asset-2e65be/25178920/d5806d34-18c5-11e7-9586-b30835a1c6c4?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20221229%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20221229T170921Z&X-Amz-Expires=300&X-Amz-Signature=5a81a4e47c274610af42a8b7246146746c1b6a058ce781a0afc9dbe5f85da350&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=25178920&response-content-disposition=attachment%3B%20filename%3Ddockerize-linux-amd64-v0.4.0.tar.gz&response-content-type=application%2Foctet-stream [2494471/2494471] -> \"-\" [1]\n\u001b[0mRemoving intermediate container 14821ca95103\n ---> 2680c0ad0c4f\nStep 6/13 : RUN ln -s /opt/letsencrypt/bin/certbot.sh /etc/periodic/daily/certbot\n ---> Running in 8bb5194ebacc\nRemoving intermediate container 8bb5194ebacc\n ---> b2ee083b3816\nStep 7/13 : ENV PATH=\"/opt/letsencrypt/bin:$PATH\"\n ---> Running in d61724289404\nRemoving intermediate container d61724289404\n ---> 8ef6452732ab\nStep 8/13 : EXPOSE 80\n ---> Running in 416d8878b900\nRemoving intermediate container 416d8878b900\n ---> c7383f2e5091\nStep 9/13 : VOLUME /certs\n ---> Running in dcc01e938e71\nRemoving intermediate container dcc01e938e71\n ---> f2b4c7ec77cb\nStep 10/13 : VOLUME /etc/letsencrypt\n ---> Running in 948bd7dff8a9\nRemoving intermediate container 948bd7dff8a9\n ---> 0addb0886346\nStep 11/13 : ENTRYPOINT [\"/sbin/tini\", \"--\", \"entrypoint.sh\"]\n ---> Running in 660b38b7ed6e\nRemoving intermediate container 660b38b7ed6e\n ---> a2543692ad49\nStep 12/13 : CMD [\"run.sh\"]\n ---> Running in 6cac31ec716c\nRemoving intermediate container 6cac31ec716c\n ---> 3bc1076bfc0d\nStep 13/13 : COPY . /opt/letsencrypt/\n ---> 1c84882e84ac\nSuccessfully built 1c84882e84ac\nSuccessfully tagged letsencrypt-docker:latest\n","stderr":"","imageSize":191788879},"endTime":1672333866504}