{"repository":"https://github.com/jackcuthbert/slack-fm","dockerfilePath":"Dockerfile","startTime":1672234528781,"clone":{"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/jackcuthbert/slack-fm'...\n","error":null,"commit":"4d1a2625f582ad48a08b920c0c4e7b37fc96af97"},"originalBuild":{"startTimestamp":1672234529676,"endTimestamp":1672234902785,"error":null,"stdout":"Sending build context to Docker daemon  755.2kB\r\r\nStep 1/17 : FROM node:12-alpine as builder\n12-alpine: Pulling from library/node\ndf9b9388f04a: Pulling fs layer\n3bf6d7380205: Pulling fs layer\n7939e601ee5e: Pulling fs layer\n31f0fb9de071: Pulling fs layer\n7939e601ee5e: Verifying Checksum\n7939e601ee5e: Download complete\ndf9b9388f04a: Verifying Checksum\ndf9b9388f04a: Download complete\ndf9b9388f04a: Pull complete\n3bf6d7380205: Verifying Checksum\n3bf6d7380205: Download complete\n31f0fb9de071: Verifying Checksum\n31f0fb9de071: Download complete\n3bf6d7380205: Pull complete\n7939e601ee5e: Pull complete\n31f0fb9de071: Pull complete\nDigest: sha256:d4b15b3d48f42059a15bd659be60afe21762aae9d6cbea6f124440895c27db68\nStatus: Downloaded newer image for node:12-alpine\n ---> bb6d28039b8c\nStep 2/17 : WORKDIR /app\n ---> Running in 4ffacfd8556f\nRemoving intermediate container 4ffacfd8556f\n ---> 492e02379954\nStep 3/17 : COPY . .\n ---> 05471602a089\nStep 4/17 : RUN npm install\n ---> Running in 98bc7a59564b\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.3 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup\u001b[0m\u001b[91m SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1390 packages from 1266 contributors and audited 1392 packages in 37.007s\n\n66 packages are looking for funding\n  run `npm fund` for details\n\nfound 269 vulnerabilities (13 low, 67 moderate, 156 high, 33 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 98bc7a59564b\n ---> 80953198ba48\nStep 5/17 : RUN npm run build\n ---> Running in 781f707cc2e6\n\n> slack-fm@0.0.0-semantic-release build /app\n> tsc\n\nRemoving intermediate container 781f707cc2e6\n ---> 85a1f925df2b\nStep 6/17 : FROM node:12-alpine as dependencies\n ---> bb6d28039b8c\nStep 7/17 : WORKDIR /app\n ---> Running in ed976525a8d6\nRemoving intermediate container ed976525a8d6\n ---> 963cb81cf9ea\nStep 8/17 : COPY ./package* ./\n ---> da32fdd303a1\nStep 9/17 : RUN npm install --production\n ---> Running in 13aeccbdafce\nadded 35 packages from 20 contributors and audited 1392 packages in 14.714s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\nfound 269 vulnerabilities (13 low, 67 moderate, 156 high, 33 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 13aeccbdafce\n ---> 5e7fa65fbc66\nStep 10/17 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 11/17 : WORKDIR /app\n ---> Running in 21088fd5ec31\nRemoving intermediate container 21088fd5ec31\n ---> 79660fe04b0f\nStep 12/17 : RUN apk --no-cache update &&     apk --no-cache add tzdata\n ---> Running in c99288ccabea\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nExecuting busybox-1.34.1-r5.trigger\nOK: 10 MiB in 17 packages\nRemoving intermediate container c99288ccabea\n ---> 5c1dabdb8fa7\nStep 13/17 : RUN rm -rf /var/cache/apk/*\n ---> Running in 45f062c9da3d\nRemoving intermediate container 45f062c9da3d\n ---> fd856924eb00\nStep 14/17 : COPY --from=builder /app/dist ./dist\n ---> f1a3bb98f670\nStep 15/17 : COPY --from=dependencies /app/node_modules ./node_modules\n ---> 91fe6de3e8d6\nStep 16/17 : COPY ./package* ./\n ---> 6d6483cd45b1\nStep 17/17 : CMD [\"npm\", \"run\", \"start:prod\"]\n ---> Running in 46e66b30e37d\nRemoving intermediate container 46e66b30e37d\n ---> cbd1bc2f09cf\nSuccessfully built cbd1bc2f09cf\nSuccessfully tagged slack-fm:latest\n","stderr":"","imageSize":103524744},"repair":{"violations":[{"name":"npmCacheCleanAfterInstall","position":{"start":3,"end":3,"columnStart":4,"columnEnd":15}},{"name":"npmCacheCleanAfterInstall","position":{"start":9,"end":9,"columnStart":4,"columnEnd":28}}],"repairedDockerfile":"FROM node:12-alpine as builder\nWORKDIR /app\nCOPY . .\nRUN npm install\nRUN npm run build\n\nFROM node:12-alpine as dependencies\nWORKDIR /app\nCOPY ./package* ./\nRUN npm install --production\n\nFROM node:12-alpine\nWORKDIR /app\nRUN apk --no-cache update && \\\n    apk --no-cache add tzdata\nRUN rm -rf /var/cache/apk/*\nCOPY --from=builder /app/dist ./dist\nCOPY --from=dependencies /app/node_modules ./node_modules\nCOPY ./package* ./\n\nCMD [\"npm\", \"run\", \"start:prod\"]\n"},"repairedBuild":{"startTimestamp":1672234903436,"endTimestamp":1672235153159,"error":null,"stdout":"Sending build context to Docker daemon  755.2kB\r\r\nStep 1/17 : FROM node:12-alpine as builder\n ---> bb6d28039b8c\nStep 2/17 : WORKDIR /app\n ---> Running in 0ca95fe15c8c\nRemoving intermediate container 0ca95fe15c8c\n ---> 984497fb1c7e\nStep 3/17 : COPY . .\n ---> 6564be4966d1\nStep 4/17 : RUN npm install\n ---> Running in 3313c5555d72\n\u001b[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.3 (node_modules/fsevents):\n\u001b[0m\u001b[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\n\u001b[0m\u001b[91m\n\u001b[0madded 1390 packages from 1266 contributors and audited 1392 packages in 34.126s\n\n66 packages are looking for funding\n  run `npm fund` for details\n\nfound 269 vulnerabilities (13 low, 67 moderate, 156 high, 33 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container 3313c5555d72\n ---> 3278ed4942d3\nStep 5/17 : RUN npm run build\n ---> Running in 75a51a8c6cc4\n\n> slack-fm@0.0.0-semantic-release build /app\n> tsc\n\nRemoving intermediate container 75a51a8c6cc4\n ---> bd1647af414d\nStep 6/17 : FROM node:12-alpine as dependencies\n ---> bb6d28039b8c\nStep 7/17 : WORKDIR /app\n ---> Running in 13576b6d5b4f\nRemoving intermediate container 13576b6d5b4f\n ---> cadfddc1159e\nStep 8/17 : COPY ./package* ./\n ---> f820be68e8cd\nStep 9/17 : RUN npm install --production\n ---> Running in f7b137b8ccbd\nadded 35 packages from 20 contributors and audited 1392 packages in 15.596s\n\n4 packages are looking for funding\n  run `npm fund` for details\n\nfound 269 vulnerabilities (13 low, 67 moderate, 156 high, 33 critical)\n  run `npm audit fix` to fix them, or `npm audit` for details\nRemoving intermediate container f7b137b8ccbd\n ---> 7865061cc79e\nStep 10/17 : FROM node:12-alpine\n ---> bb6d28039b8c\nStep 11/17 : WORKDIR /app\n ---> Running in 505c4a00419c\nRemoving intermediate container 505c4a00419c\n ---> 6cf23529ece3\nStep 12/17 : RUN apk --no-cache update &&     apk --no-cache add tzdata\n ---> Running in 5413da53c413\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\nv3.15.6-230-gea65028923 [https://dl-cdn.alpinelinux.org/alpine/v3.15/main]\nv3.15.6-228-g9181cbcdab [https://dl-cdn.alpinelinux.org/alpine/v3.15/community]\nOK: 15863 distinct packages available\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz\n(1/1) Installing tzdata (2022f-r1)\nExecuting busybox-1.34.1-r5.trigger\nOK: 10 MiB in 17 packages\nRemoving intermediate container 5413da53c413\n ---> 06a91f18273c\nStep 13/17 : RUN rm -rf /var/cache/apk/*\n ---> Running in 3bfa6a51101d\nRemoving intermediate container 3bfa6a51101d\n ---> 88438c6d91d3\nStep 14/17 : COPY --from=builder /app/dist ./dist\n ---> 42732fe04bad\nStep 15/17 : COPY --from=dependencies /app/node_modules ./node_modules\n ---> a93a09021909\nStep 16/17 : COPY ./package* ./\n ---> fbd0f0a6940e\nStep 17/17 : CMD [\"npm\", \"run\", \"start:prod\"]\n ---> Running in 572b9b0b14ab\nRemoving intermediate container 572b9b0b14ab\n ---> 42ef42a698f3\nSuccessfully built 42ef42a698f3\nSuccessfully tagged slack-fm:latest\n","stderr":"","imageSize":103524744},"endTime":1672235153899}