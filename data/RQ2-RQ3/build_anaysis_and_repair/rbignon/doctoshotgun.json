{"repository":"https://github.com/rbignon/doctoshotgun","dockerfilePath":"Dockerfile","startTime":1673177644639,"endTime":1673177776496,"clone":{"startTime":1673177644641,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/rbignon/doctoshotgun'...\n","error":null,"endTime":1673177645400,"commit":"8c22878042122140b2ebb4c0f619d06529f10300"},"originalBuild":{"startTime":1673177645493,"endTime":1673177691429,"error":null,"stdout":"Sending build context to Docker daemon  312.8kB\r\r\nStep 1/11 : FROM python:3.9.5-slim as base\n3.9.5-slim: Pulling from library/python\nb4d181a07f80: Pulling fs layer\na1111a8f2ec3: Pulling fs layer\n445d04774519: Pulling fs layer\n24f3f85d41f3: Pulling fs layer\nd299f7fb612d: Pulling fs layer\n24f3f85d41f3: Waiting\nd299f7fb612d: Waiting\na1111a8f2ec3: Verifying Checksum\na1111a8f2ec3: Download complete\n445d04774519: Verifying Checksum\n445d04774519: Download complete\nb4d181a07f80: Verifying Checksum\nb4d181a07f80: Download complete\n24f3f85d41f3: Verifying Checksum\n24f3f85d41f3: Download complete\nd299f7fb612d: Verifying Checksum\nd299f7fb612d: Download complete\nb4d181a07f80: Pull complete\na1111a8f2ec3: Pull complete\n445d04774519: Pull complete\n24f3f85d41f3: Pull complete\nd299f7fb612d: Pull complete\nDigest: sha256:9828573e6a0b02b6d0ff0bae0716b027aa21cf8e59ac18a76724d216bab7ef04\nStatus: Downloaded newer image for python:3.9.5-slim\n ---> c71955050276\nStep 2/11 : FROM base as builder\n ---> c71955050276\nStep 3/11 : RUN mkdir /install\n ---> Running in d17e24c118e8\nRemoving intermediate container d17e24c118e8\n ---> e050222f68fa\nStep 4/11 : WORKDIR /install\n ---> Running in 3bc4afa73264\nRemoving intermediate container 3bc4afa73264\n ---> 8e2269b27fa0\nStep 5/11 : COPY ./requirements.txt .\n ---> 9e5f976ea6bd\nStep 6/11 : RUN pip install --prefix /install -r requirements.txt\n ---> Running in 24ec8da7408f\nCollecting woob\n  Downloading woob-3.1-py2.py3-none-any.whl (626 kB)\nCollecting cloudscraper\n  Downloading cloudscraper-1.2.67-py2.py3-none-any.whl (98 kB)\nCollecting python-dateutil\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting termcolor\n  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)\nCollecting colorama\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (661 kB)\nCollecting lxml\n  Downloading lxml-4.9.2-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\nCollecting requests>=2.0.0\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting unidecode\n  Downloading Unidecode-1.3.6-py3-none-any.whl (235 kB)\nCollecting Pillow\n  Downloading Pillow-9.4.0-cp39-cp39-manylinux_2_28_x86_64.whl (3.4 MB)\nCollecting Babel\n  Downloading Babel-2.11.0-py3-none-any.whl (9.5 MB)\nCollecting html2text>=3.200\n  Downloading html2text-2020.1.16-py3-none-any.whl (32 kB)\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting cssselect\n  Downloading cssselect-1.2.0-py2.py3-none-any.whl (18 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting requests-toolbelt>=0.9.1\n  Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\nCollecting pyparsing>=2.4.7\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\nCollecting pytz>=2015.7\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\nInstalling collected packages: urllib3, idna, charset-normalizer, certifi, six, requests, pytz, unidecode, requests-toolbelt, PyYAML, python-dateutil, pyparsing, Pillow, lxml, html2text, cssselect, Babel, woob, termcolor, colorama, cloudscraper\n\u001b[91m  WARNING: The script normalizer is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script unidecode is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script html2text is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script pybabel is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script woob is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0mSuccessfully installed Babel-2.11.0 Pillow-9.4.0 PyYAML-6.0 certifi-2022.12.7 charset-normalizer-2.1.1 cloudscraper-1.2.67 colorama-0.4.6 cssselect-1.2.0 html2text-2020.1.16 idna-3.4 lxml-4.9.2 pyparsing-3.0.9 python-dateutil-2.8.2 pytz-2022.7 requests-2.28.1 requests-toolbelt-0.10.1 six-1.16.0 termcolor-2.2.0 unidecode-1.3.6 urllib3-1.26.13 woob-3.1\n\u001b[91mWARNING: You are using pip version 21.1.3; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container 24ec8da7408f\n ---> 641ee9473cfe\nStep 7/11 : FROM base\n ---> c71955050276\nStep 8/11 : WORKDIR /usr/src/app\n ---> Running in 98a34cfb30f7\nRemoving intermediate container 98a34cfb30f7\n ---> 69544f9dc72a\nStep 9/11 : COPY --from=builder /install /usr/local\n ---> f756d4a81d14\nStep 10/11 : COPY ./doctoshotgun.py .\n ---> 2909192a5b4a\nStep 11/11 : ENTRYPOINT [\"./doctoshotgun.py\"]\n ---> Running in e57e3bf71e4c\nRemoving intermediate container e57e3bf71e4c\n ---> 34a50f5cdd01\nSuccessfully built 34a50f5cdd01\nSuccessfully tagged doctoshotgun:latest\n","stderr":"","imageSize":187870509},"repair":{"startTime":1673177691488,"endTime":1673177691537,"violations":[{"name":"pipUseNoCacheDir","position":{"start":12,"end":12,"columnStart":4,"columnEnd":53}}],"repairedDockerfile":"# Base image\nFROM python:3.9.5-slim as base\n\n# Build stage\nFROM base as builder\n\n# Dependency install directory\nRUN mkdir /install\nWORKDIR /install\n\n# Install dependencies\nCOPY ./requirements.txt .\nRUN pip install --no-cache-dir --prefix /install -r requirements.txt\n\n# Run stage\nFROM base\n\nWORKDIR /usr/src/app\n\n# Fetch dependencies from the build stage\nCOPY --from=builder /install /usr/local\n\nCOPY ./doctoshotgun.py .\n\n# Entrypoint - Run the main script\nENTRYPOINT [\"./doctoshotgun.py\"]\n"},"repairedBuild":{"startTime":1673177691769,"endTime":1673177776050,"error":null,"stdout":"Sending build context to Docker daemon  312.8kB\r\r\nStep 1/11 : FROM python:3.9.5-slim as base\n ---> c71955050276\nStep 2/11 : FROM base as builder\n ---> c71955050276\nStep 3/11 : RUN mkdir /install\n ---> Running in 7685bb52a8a8\nRemoving intermediate container 7685bb52a8a8\n ---> 56cc9c6bfa55\nStep 4/11 : WORKDIR /install\n ---> Running in 56cb25fb1138\nRemoving intermediate container 56cb25fb1138\n ---> 232b42e4ce78\nStep 5/11 : COPY ./requirements.txt .\n ---> 1185a48be7e8\nStep 6/11 : RUN pip install --no-cache-dir --prefix /install -r requirements.txt\n ---> Running in f614359a0dfd\nCollecting woob\n  Downloading woob-3.1-py2.py3-none-any.whl (626 kB)\nCollecting cloudscraper\n  Downloading cloudscraper-1.2.67-py2.py3-none-any.whl (98 kB)\nCollecting python-dateutil\n  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\nCollecting termcolor\n  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)\nCollecting colorama\n  Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\nCollecting html2text>=3.200\n  Downloading html2text-2020.1.16-py3-none-any.whl (32 kB)\nCollecting lxml\n  Downloading lxml-4.9.2-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\nCollecting PyYAML\n  Downloading PyYAML-6.0-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (661 kB)\nCollecting unidecode\n  Downloading Unidecode-1.3.6-py3-none-any.whl (235 kB)\nCollecting Babel\n  Downloading Babel-2.11.0-py3-none-any.whl (9.5 MB)\nCollecting requests>=2.0.0\n  Downloading requests-2.28.1-py3-none-any.whl (62 kB)\nCollecting cssselect\n  Downloading cssselect-1.2.0-py2.py3-none-any.whl (18 kB)\nCollecting six\n  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\nCollecting Pillow\n  Downloading Pillow-9.4.0-cp39-cp39-manylinux_2_28_x86_64.whl (3.4 MB)\nCollecting urllib3<1.27,>=1.21.1\n  Downloading urllib3-1.26.13-py2.py3-none-any.whl (140 kB)\nCollecting charset-normalizer<3,>=2\n  Downloading charset_normalizer-2.1.1-py3-none-any.whl (39 kB)\nCollecting certifi>=2017.4.17\n  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)\nCollecting idna<4,>=2.5\n  Downloading idna-3.4-py3-none-any.whl (61 kB)\nCollecting requests-toolbelt>=0.9.1\n  Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\nCollecting pyparsing>=2.4.7\n  Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)\nCollecting pytz>=2015.7\n  Downloading pytz-2022.7-py2.py3-none-any.whl (499 kB)\nInstalling collected packages: urllib3, idna, charset-normalizer, certifi, six, requests, pytz, unidecode, requests-toolbelt, PyYAML, python-dateutil, pyparsing, Pillow, lxml, html2text, cssselect, Babel, woob, termcolor, colorama, cloudscraper\n\u001b[91m  WARNING: The script normalizer is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script unidecode is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script html2text is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script pybabel is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0m\u001b[91m  WARNING: The script woob is installed in '/install/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\n\u001b[0mSuccessfully installed Babel-2.11.0 Pillow-9.4.0 PyYAML-6.0 certifi-2022.12.7 charset-normalizer-2.1.1 cloudscraper-1.2.67 colorama-0.4.6 cssselect-1.2.0 html2text-2020.1.16 idna-3.4 lxml-4.9.2 pyparsing-3.0.9 python-dateutil-2.8.2 pytz-2022.7 requests-2.28.1 requests-toolbelt-0.10.1 six-1.16.0 termcolor-2.2.0 unidecode-1.3.6 urllib3-1.26.13 woob-3.1\n\u001b[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n\u001b[0m\u001b[91mWARNING: You are using pip version 21.1.3; however, version 22.3.1 is available.\nYou should consider upgrading via the '/usr/local/bin/python -m pip install --upgrade pip' command.\n\u001b[0mRemoving intermediate container f614359a0dfd\n ---> 1b0f2dbd6d7d\nStep 7/11 : FROM base\n ---> c71955050276\nStep 8/11 : WORKDIR /usr/src/app\n ---> Running in 7a0571c970b0\nRemoving intermediate container 7a0571c970b0\n ---> 20cff170554c\nStep 9/11 : COPY --from=builder /install /usr/local\n ---> c2cad315948e\nStep 10/11 : COPY ./doctoshotgun.py .\n ---> 136d6986ab18\nStep 11/11 : ENTRYPOINT [\"./doctoshotgun.py\"]\n ---> Running in a7fafa901f70\nRemoving intermediate container a7fafa901f70\n ---> bd9fd29f885f\nSuccessfully built bd9fd29f885f\nSuccessfully tagged doctoshotgun:latest\n","stderr":"","imageSize":187870509}}