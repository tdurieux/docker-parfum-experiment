{
  "startTime": 1674252922662,
  "endTime": 1674252923591,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 82
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 47
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 47
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM apache/unomi:1.5.1\n\nRUN apt-get update && apt-get install --no-install-recommends -y procps && rm -rf /var/lib/apt/lists/*;\n\n# Adding user for elasticsearch which can not be executed by root\nRUN groupadd --gid 5000 elastic \\\n&& useradd --home-dir /home/elastic --create-home --uid 5000 \\\n--gid 5000 --shell /bin/sh --skel /dev/null elastic\n\n# Setting up Elasticsearch\nRUN mkdir /home/elastic/elasticsearch\nRUN cd /home/elastic/elasticsearch && \\\n    wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.4.2-linux-x86_64.tar.gz && \\\n    tar -xf elasticsearch-7.4.2-linux-x86_64.tar.gz -C /home/elastic/elasticsearch && \\\n    chown -R elastic /home/elastic/elasticsearch/ && rm elasticsearch-7.4.2-linux-x86_64.tar.gz\nRUN rm /home/elastic/elasticsearch/elasticsearch-7.4.2/config/elasticsearch.yml\nCOPY elasticsearch.yml /home/elasticsearch/elasticsearch-7.4.2/config/\n\nWORKDIR /home/elastic/elasticsearch/elasticsearch-7.4.2/bin/\n\nRUN chown -R elastic /opt/apache-unomi\n\nUSER elastic\n\n# Starting Elasticsearch and unomi on Startup\nENTRYPOINT ./elasticsearch -d && \\\n           sh /opt/apache-unomi/entrypoint.sh"
}