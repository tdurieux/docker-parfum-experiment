{
  "startTime": 1674248716132,
  "endTime": 1674248716621,
  "originalSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 38
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# ------------------------------------------------------------------------------\n# Generate build\n# ------------------------------------------------------------------------------\nFROM node:16-alpine as generator\n\nLABEL stage=generator\n\nWORKDIR /jci\n\n# Install app dependencies\nCOPY package.json yarn.lock .yarnrc.yml ./\nCOPY .yarn ./.yarn\n\nRUN yarn install --immutable && yarn cache clean;\n\n# Bundle app source\nCOPY . .\n\n# Package only Docker version\nRUN yarn package:docker\n\n# Install production dependencies\nRUN yarn workspaces focus --production && yarn cache clean;\n\n# ------------------------------------------------------------------------------\n# Second image (release image)\n# ------------------------------------------------------------------------------\nFROM node:16-alpine\n\nWORKDIR /usr/src/jira-ci-cd-integration\n\n# Now we copy the compiled ncc build folder\nCOPY --from=generator /jci/dist/docker dist\nCOPY --from=generator /jci/node_modules ./node_modules\n\nCMD [\"node\", \"dist/index.js\"]\n"
}