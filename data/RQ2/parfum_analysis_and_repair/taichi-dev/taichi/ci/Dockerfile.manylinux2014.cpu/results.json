{
  "startTime": 1674218725143,
  "endTime": 1674218726894,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 7,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This file is generated by python Dockerfile_generator.py -o manylinux2014 -t cpu\n# Taichi Dockerfile (CPU only) for Manylinux2014 compliant\nFROM quay.io/pypa/manylinux2014_x86_64\n\nLABEL maintainer=\"https://github.com/taichi-dev\"\n\nRUN yum check-update && \\\n    yum install -y git \\\n                   cmake \\\n                   wget \\\n                   libXrandr && rm -rf /var/cache/yum\n\n# Build LLVM/Clang 10 from source\nWORKDIR /\nRUN wget https://github.com/llvm/llvm-project/releases/download/llvmorg-10.0.0/llvm-10.0.0.src.tar.xz\nRUN tar -xf llvm-10.0.0.src.tar.xz &&     rm llvm-10.0.0.src.tar.xz\nRUN wget https://github.com/llvm/llvm-project/releases/download/llvmorg-10.0.0/clang-10.0.0.src.tar.xz\nRUN tar -xf clang-10.0.0.src.tar.xz &&     rm clang-10.0.0.src.tar.xz\nRUN cp -r clang-10.0.0.src llvm-10.0.0.src/tools/clang\n\nWORKDIR /llvm-10.0.0.src/build\nRUN cmake .. -DLLVM_ENABLE_RTTI:BOOL=ON -DBUILD_SHARED_LIBS:BOOL=OFF -DCMAKE_BUILD_TYPE=Release -DLLVM_TARGETS_TO_BUILD=\"X86\" -DLLVM_ENABLE_ASSERTIONS=ON -DLLVM_ENABLE_TERMINFO=OFF\nRUN make -j 8 &&     make install\nENV CC=\"/usr/local/bin/clang\"\nENV CXX=\"/usr/local/bin/clang++\"\n\n# Link gcc 10 to build Taichi\nWORKDIR /usr/lib/gcc/x86_64-redhat-linux/\nRUN ln -s /opt/rh/devtoolset-10/root/usr/lib/gcc/x86_64-redhat-linux/10 10\n# Check gcc-10 is used\nRUN clang++ -v\n\n# Create non-root user for running the container\nRUN useradd -ms /bin/bash dev\nWORKDIR /home/dev\nUSER dev\n\n# Install miniconda\nRUN wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh && \\\n    bash Miniconda3-latest-Linux-x86_64.sh -p /home/dev/miniconda -b\nENV PATH=\"/home/dev/miniconda/bin:$PATH\"\n\n# Set up multi-python environment\nRUN conda init bash\nRUN conda create -n py36 python=3.6 -y\nRUN conda create -n py37 python=3.7 -y\nRUN conda create -n py38 python=3.8 -y\nRUN conda create -n py39 python=3.9 -y\n\n# Load scripts for build and test\nWORKDIR /home/dev/scripts\nCOPY ci/scripts/manylinux_build_wheel.sh manylinux_build_wheel.sh\n\nWORKDIR /home/dev\nENV LANG=\"C.UTF-8\"\n"
}