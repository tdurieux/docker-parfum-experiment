{
  "startTime": 1674219472575,
  "endTime": 1674219474772,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 85
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 147,
        "lineEnd": 147,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 33,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 65,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 47,
        "columnEnd": 126
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 4,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 33,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 62,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 65,
        "columnEnd": 90
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 4,
        "columnEnd": 98
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 47,
        "columnEnd": 126
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 119,
        "lineEnd": 123,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 4,
        "columnEnd": 65
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 4,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 4,
        "columnEnd": 89
      }
    }
  ],
  "repairedDockerfile": "# INSTRUCTIONS #\n#This Dockerfile needs to be built into an image prior to testing\n#This image, once build, should be pushed to umrover/travis\n#Our Travis system will then download this image from DockerHub and run our current system within this image\n\n# UPDATING THE DOCKERFILE #\n#If you would like to make changes to the DockerFile you must first install Docker on your system\n#You can then download the pre-built image from DockerHub the way specified in the travis.yml\n#Now that the image is downloaded you can take advantage of Docker Layers and when you build you\n#won't need to rebuild the entire image, but rather, only the RUN commands that you added or modified will be built\n#You can build the Dockerfile with the command: 'docker build -t mrover .'\n\n# PUSHING THE DOCKERIMAGE TO DOCKERHUB #\n#Now that you have built the Docker Image you must push it to DockerHub\n#This can be done by signing into the mrover DockerHub account via the command line\n#Once you are signed in make sure the tag for your image is named appropriately. Use 'docker tag' to do any renaming\n#Then run 'docker push umrover/travis' to push the appropriately named and versioned image to DockerHub\n#Travis is configured to download whatever the latest umrover/travis image is, so once your changes are pushed they\n#should be picked up by travis\n\nFROM ubuntu:18.04\n\n#Setup Ansible\nENV ANSIBLE_VERSION 2.9.4\nENV DEBIAN_FRONTEND noninteractive\n\nCOPY ansible /tmp/ansible\n\nRUN set -x && \\\n    echo \">> Adding build-dependencies...\" && \\\n    sed -i 's/# \\(.*multiverse$\\)/\\1/g' /etc/apt/sources.list && \\\n    apt-get update && \\\n    apt-get -y upgrade && \\\n    apt-get install --no-install-recommends -y build-essential \\\n    software-properties-common \\\n    apt-transport-https \\\n    git \\\n    wget \\\n    && apt-add-repository ppa:ansible/ansible && \\\n    apt-get update && \\\n    apt-get install --no-install-recommends -y ansible && \\\n    echo ttf-mscorefonts-installer msttcorefonts/accepted-mscorefonts-eula select true | debconf-set-selections && rm -rf /var/lib/apt/lists/*;\n\nRUN ansible-playbook -i \"localhost,\" -c local /tmp/ansible/devbox.yml\n\nENV ANSIBLE_GATHERING smart\nENV ANSIBLE_HOST_KEY_CHECKING false\nENV ANSIBLE_RETRY_FILES_ENABLED false\nENV ANSIBLE_ROLES_PATH /ansible/playbooks/roles\nENV ANSIBLE_SSH_PIPELINING True\nENV PYTHONPATH /ansible/lib\nENV PATH /ansible/bin:$PATH\nENV ANSIBLE_LIBRARY /ansible/library\n\nWORKDIR /root\n\nENTRYPOINT [\"/bin/bash\"]\n\n# Install OpenCV 3.2.0\nRUN apt-get update -y && \\\n    apt-get upgrade -y && \\\n    apt-get autoremove -y && \\\n    apt-get install -y --no-install-recommends cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev \\ \n    libswscale-dev python3.6-dev python3-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff5-dev jasper \\\n    libdc1394-22-dev libeigen3-dev libtheora-dev libvorbis-dev libxvidcore-dev libx264-dev sphinx-common libtbb-dev \\\n    yasm libfaac-dev libopencore-amrnb-dev libopencore-amrwb-dev libopenexr-dev libgstreamer-plugins-base1.0-dev \\\n    libavutil-dev libavfilter-dev libavresample-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y gcc && rm -rf /var/lib/apt/lists/*;\n\nRUN cd /opt && \\\n    wget --no-check-certificate -O opencv-3.2.0.tar.gz https://github.com/opencv/opencv/archive/3.2.0.tar.gz && \\\n    tar -xzf opencv-3.2.0.tar.gz && \\\n    wget --no-check-certificate -O opencv_contrib-3.2.0.tar.gz https://github.com/opencv/opencv_contrib/archive/3.2.0.tar.gz && \\\n    tar -xzf opencv_contrib-3.2.0.tar.gz && \\\n    rm opencv-3.2.0.tar.gz && \\\n    rm opencv_contrib-3.2.0.tar.gz && \\\n    cd opencv-3.2.0 && \\\n    mkdir release && \\\n    cd release && \\\n    cmake -D WITH_CUDA=OFF -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local \\\n    -D OPENCV_EXTRA_MODULES_PATH=/opt/opencv_contrib-3.2.0/modules -D BUILD_opencv_aruco=ON -D BUILD_opencv_bgsegm=OFF \\\n    -D BUILD_opencv_bioinspired=OFF -D BUILD_opencv_ccalib=OFF -D BUILD_opencv_cnn_3dobj=OFF -D BUILD_opencv_cvv=OFF \\\n    -D BUILD_opencv_datasets=OFF -D BUILD_opencv_dnn_objdetect=OFF -D BUILD_opencv_dnn_superres=OFF \\\n    -D BUILD_opencv_dnns_easily_fooled=OFF -D BUILD_opencv_dpm=OFF -D BUILD_opencv_face=OFF -D BUILD_opencv_fuzzy=OFF \\\n    -D BUILD_opencv_freetype=OFF -D BUILD_opencv_hdf=OFF -D BUILD_opencv_line_descriptor=OFF -D BUILD_opencv_matlab=OFF \\\n    -D BUILD_opencv_optflow=OFF -D BUILD_opencv_ovis=OFF -D BUILD_opencv_plot=OFF -D BUILD_opencv_reg=OFF \\\n    -D BUILD_opencv_rgbd=OFF -D BUILD_opencv_saliency=OFF -D BUILD_opencv_sfm=OFF -D BUILD_opencv_stereo=OFF \\\n    -D BUILD_opencv_structured_light=OFF -D BUILD_opencv_surface_matching=OFF -D BUILD_opencv_text=OFF \\\n    -D BUILD_opencv_tracking=OFF -D BUILD_opencv_xfeatures2d=OFF -D BUILD_opencv_ximgproc=OFF \\\n    -D BUILD_opencv_xobjdetect=OFF -D BUILD_opencv_xphoto=OFF /opt/opencv-3.2.0/ && make -j4 && make install && ldconfig\n\nRUN  cd /usr/local && rm -rf opencv-3.2.0\n\n#Install CUDA Driver\nCOPY cuda-repo-ubuntu1804_10.0.130-1_amd64.deb /usr/local\nRUN cd /usr/local && \\\n    apt-get update -y && apt-get upgrade -y && apt-get update && apt-get install --no-install-recommends -y gnupg2 && \\\n    dpkg -i cuda-repo-ubuntu1804_10.0.130-1_amd64.deb && rm -rf /var/lib/apt/lists/*;\nRUN apt-key adv --fetch-keys http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64/7fa2af80.pub\nRUN apt-get update -y\nRUN apt-get install --no-install-recommends -y cuda-10-0 && rm -rf /var/lib/apt/lists/*;\n\n#Install ZED\nRUN apt-get update -y && apt-get upgrade -y\nRUN apt-get install --no-install-recommends -y libturbojpeg0-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends lsb-release wget less udev sudo apt-transport-https -y && \\\n    apt-get update -y && \\\n    wget -O ZED_SDK_Linux_Ubuntu18.run https://download.stereolabs.com/zedsdk/3.2/cu100/ubuntu18 && \\\n    chmod +x ZED_SDK_Linux_Ubuntu18.run && \\\n    ./ZED_SDK_Linux_Ubuntu18.run silent && \\\n    rm ZED_SDK_Linux_Ubuntu18.run && \\\n    cd /usr/local && \\\n    chmod a+xwr --preserve-root --recursive zed && rm -rf /var/lib/apt/lists/*;\n\n#Install VTK\nENV TERM xterm\nRUN echo \"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!INSTALLING VTK\" && \\\n    apt-get update -y && apt-get upgrade -y && apt-get install --no-install-recommends -y keyboard-configuration libboost-all-dev curl cmake libxt-dev && \\\n    apt-get install -y --no-install-recommends cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev \\\n    libswscale-dev python3.6-dev python3-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff5-dev jasper \\\n    libdc1394-22-dev libeigen3-dev libtheora-dev libvorbis-dev libxvidcore-dev libx264-dev sphinx-common \\\n    libtbb-dev yasm libfaac-dev libopencore-amrnb-dev libopencore-amrwb-dev libopenexr-dev \\\n    libgstreamer-plugins-base1.0-dev libavutil-dev libavfilter-dev libavresample-dev && \\\n    curl -f https://vtk.org/files/release/8.2/VTK-8.2.0.tar.gz --output VTK-8.2.0.tar.gz && \\\n    tar -xvzf VTK-8.2.0.tar.gz && \\\n    mv VTK-8.2.0 /usr/local && \\\n    cd /usr/local/VTK-8.2.0/ && \\\n    mkdir VTK-Release-build && \\\n    cd VTK-Release-build/ && \\\n    cmake -DCMAKE_BUILD_TYPE:STRING=Release /usr/local/VTK-8.2.0/ -DVTK_USE_SYSTEM_PNG=ON && \\\n    make -j1 install && rm VTK-8.2.0.tar.gz && rm -rf /var/lib/apt/lists/*;\n\n#Intall Eigen\nRUN echo \"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!INSTALLING EIGEN\" && \\\n    cd /usr/local && \\\n    wget -qO- https://gitlab.com/libeigen/eigen/-/archive/3.3.7/eigen-3.3.7.tar.gz | sudo tar xz && \\\n    apt install --no-install-recommends -y libblas-dev && \\\n    cd eigen-3.3.7 && sudo mkdir build && cd build && \\\n    cmake .. && \\\n    make install && \\\n    cd ../.. && sudo rm -rf eigen-3.3.7/ && sudo rm -f eigen-3.3.7.tar.gz && rm -rf /var/lib/apt/lists/*;\n\n#Install PCL\nRUN echo \"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!INSTALLING PCL\" && \\\n    apt-get install --no-install-recommends -y libflann-dev libgtest-dev libboost-all-dev && \\\n    cd /usr/local && \\\n    curl -f https://codeload.github.com/PointCloudLibrary/pcl/tar.gz/pcl-1.11.1 --output pcl-pcl-1.11.1.tar.gz && \\\n    tar -xvzf pcl-pcl-1.11.1.tar.gz && \\\n    rm pcl-pcl-1.11.1.tar.gz && \\\n    cd pcl-pcl-1.11.1 && \\\n    mkdir build && cd build && \\\n    cmake -DCMAKE_BUILD_TYPE=Release .. && \\\n    make -j1 && make install && ldconfig && \\\n    cd /usr/local && \\\n    rm -rf pcl-pcl-1.11.1 && rm -rf /var/lib/apt/lists/*;\n"
}