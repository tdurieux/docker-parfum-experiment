{
  "startTime": 1674252340369,
  "endTime": 1674252341489,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 72
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 22,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 49,
        "columnEnd": 80
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 22,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 49,
        "columnEnd": 80
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 22,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 49,
        "columnEnd": 80
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Dockerfile for interuss/monitoring\n#\n# The image generated by this Dockerfile (via ./build.sh) includes the entire\n# `monitoring` folder contents in /app/monitoring and has installed dependencies\n# necessary to run any of the monitoring tools.  See documentation for any of\n# the applicable tools for instructions on how to use the generated image.  A\n# search for \"interuss/monitoring\" within the repository should yield most of\n# the places where this image is in use.\n\nFROM python:3.8\n# Not -alpine because: https://stackoverflow.com/a/58028091/651139\n\nRUN apt-get update && apt-get install -y --no-install-recommends openssl && apt-get install -y --no-install-recommends ca-certificates && rm -rf /var/lib/apt/lists/*;\n\nRUN mkdir -p /app/monitoring/monitorlib\nCOPY monitorlib/requirements.txt /app/monitoring/monitorlib/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/monitorlib/requirements.txt\n\nRUN mkdir -p /app/monitoring/interoperability\nCOPY interoperability/requirements.txt /app/monitoring/interoperability/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/interoperability/requirements.txt\n\nRUN mkdir -p /app/monitoring/loadtest\nCOPY loadtest/requirements.txt /app/monitoring/loadtest/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/loadtest/requirements.txt\n\nRUN mkdir -p /app/monitoring/mock_uss\nCOPY mock_uss/requirements.txt /app/monitoring/mock_uss/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/mock_uss/requirements.txt\n\nRUN mkdir -p /app/monitoring/prober\nCOPY prober/requirements.txt /app/monitoring/prober/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/prober/requirements.txt\n\nRUN mkdir -p /app/monitoring/tracer\nCOPY tracer/requirements.txt /app/monitoring/tracer/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/tracer/requirements.txt\n\nRUN mkdir -p /app/monitoring/uss_qualifier\nCOPY uss_qualifier/requirements.txt /app/monitoring/uss_qualifier/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/uss_qualifier/requirements.txt\n\nRUN mkdir -p /app/monitoring/uss_qualifier/webapp\nCOPY uss_qualifier/webapp/requirements.txt /app/monitoring/uss_qualifier/webapp/requirements.txt\nRUN pip install --no-cache-dir -r /app/monitoring/uss_qualifier/webapp/requirements.txt\n\nRUN rm -rf __pycache__\n\nADD . /app/monitoring\nCOPY health_check.sh /app/health_check.sh\nWORKDIR /app/monitoring\n\n# Additional preparations for uss_qualifier\nRUN mkdir -p /app/kml-input\nRUN mkdir -p /app/flight-states\n\n# Additional preparations for uss_qualifier/webapp\nRUN mkdir -p /app/uss-host-files\n\nHEALTHCHECK CMD sh /app/health_check.sh\n\nENV PYTHONPATH /app\nARG version\nENV MONITORING_VERSION=$version\nENTRYPOINT []\n"
}