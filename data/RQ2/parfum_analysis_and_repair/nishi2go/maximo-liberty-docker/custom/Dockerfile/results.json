{
  "startTime": 1674216456524,
  "endTime": 1674216457238,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 22,
        "columnEnd": 46
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n# The script is used for customizing Maximo image e.g. to install Industry Solutions, your custom java classes and etc.\n\nARG buildver=7.6.1.2\nARG deploy_db_on_build=yes\nARG namespace=maximo-liberty\n\nFROM ${namespace}/images:${buildver}\n\nFROM ${namespace}/maximo-base:${buildver}\n\nARG db_alias=MAXDB76\nARG enable_jms=yes\nARG install_fp=yes\nARG skip_build=no\nARG deploy_db_on_build=yes\nARG backup_dir=/backup\nARG db_alias=MAXDB76\nARG mxintadm_password\nARG maxadmin_password\nARG db_maximo_password\nARG maxreg_password\nARG db_port=50005\nARG base_lang=en\nARG add_langs\nARG admin_email_address=root@localhost\nARG smtp_server_host_name=localhost\nARG skin=iot18\nARG enable_demo_data=no\n\nENV DB2_PATH /home/ctginst1/sqllib\nENV MAXDB ${db_alias}\nENV MAXDB_SERVICE_PORT ${db_port}\nENV BACKUP_DIR /work/backup\nENV DB_TABLE_SPACE MAXDATA\nENV DB_TEMP_SPACE MAXTEMP\nENV DB_INDEX_SPACE MAXINDEX\n\n## Put the custom installation here or remove comments\nRUN apt-get update && apt-get install --no-install-recommends -y unzip && rm -rf /var/lib/apt/lists/*\n\nWORKDIR /work\nCOPY installis.sh /work/\nRUN chmod +x /work/installis.sh\n\n## Sample scripts for Oil & Gas Industry Solution\n# ENV IMAGE_NAME Max_Oil_and_Gas_761.zip\n# ENV IS_ID com.ibm.tivoli.tpae.IS.OilAndGas\n# ENV REPO_FILE OilAndGasInstallerRepository.zip\n# ENV WDIR /work/oag\n# RUN mkdir ${WDIR}\n# COPY --from=0 /images/${IMAGE_NAME} ${WDIR}/\n# RUN /work/installis.sh --image=${IMAGE_NAME} \\\n#  --workdir=${WDIR} --is-id=${IS_ID} --repo-file=${REPO_FILE} --accept-license\n# RUN mkdir ${WDIR}\n# COPY --from=0 /images/OG7610_ifixes.20200316-0706.zip ${WDIR}/\n# RUN unzip -o OG7610_ifixes.20200316-0706.zip -d /opt/IBM/SMP/maximo/ && rm -rf ${WDIR}*\n# WORKDIR /work\n\n## Sample scripts for Maximo for Transportation Industry Solution\n# ENV IMAGE_NAME Max_Transportation_762IFR3.zip\n# ENV FP_IMAGE_NAME 7.6.2.6-TIV-TRN-FP0006.zip\n# ENV IS_ID com.ibm.tivoli.tpae.IS.Transportation\n# ENV REPO_FILE TransportationInstallerRepository.zip\n# ENV WDIR /work/trn\n# RUN mkdir ${WDIR}\n# COPY --from=0 /images/${IMAGE_NAME} ${WDIR}/\n# COPY --from=0 /images/${FP_IMAGE_NAME} ${WDIR}/\n# RUN /work/installis.sh --image=${IMAGE_NAME} --image-fp=${FP_IMAGE_NAME} \\\n#     --workdir=${WDIR} --is-id=${IS_ID} --repo-file=${REPO_FILE} --accept-license\n## Sample scripts for Maximo Scheduler Add on\n# ENV IMAGE_NAME MAM_Scheduler_7.6.7.zip\n# ENV IS_ID com.ibm.tivoli.tpae.IS.Scheduler\n# ENV REPO_FILE SchedulerInstallerRepository.zip\n# ENV WDIR /work/sch\n# RUN mkdir ${WDIR}\n# COPY --from=0 /images/${IMAGE_NAME} ${WDIR}/\n# RUN /work/installis.sh --image=${IMAGE_NAME} \\\n#  --workdir=${WDIR} --is-id=${IS_ID} --repo-file=${REPO_FILE} --accept-license\n\n## Sample scripts for Maximo Linear Add on\n# ENV IMAGE_NAME MAX_LNEAR_AST_MGR_7.6.1_MP_ML.zip\n# ENV IS_ID com.ibm.tivoli.tpae.IS.Linear\n# ENV REPO_FILE LinearInstallerRepository.zip\n# ENV WDIR /work/lin\n# RUN mkdir ${WDIR}\n# COPY --from=0 /images/${IMAGE_NAME} ${WDIR}/\n# RUN /work/installis.sh --image=${IMAGE_NAME} \\\n#  --workdir=${WDIR} --is-id=${IS_ID} --repo-file=${REPO_FILE} --accept-license\n\n## Sample scripts for Maximo for Service Providers Add on\n# ENV IMAGE_NAME MAM_SP_V7.6.3_EIMAGE.zip\n# ENV FP_IMAGE_NAME 7.6.3.4-TIV-SPRMA-FP0004.zip\n# ENV IS_ID com.ibm.tivoli.tpae.IS.ServiceProvider\n# ENV REPO_FILE ServiceProviderInstallerRepository.zip\n# ENV WDIR /work/msp\n# RUN mkdir ${WDIR}\n# COPY --from=0 /images/${IMAGE_NAME} ${WDIR}/\n# COPY --from=0 /images/${FP_IMAGE_NAME} ${WDIR}/\n# RUN /work/installis.sh --image=${IMAGE_NAME} --image-fp=${FP_IMAGE_NAME} \\\n#  --workdir=${WDIR} --is-id=${IS_ID} --repo-file=${REPO_FILE} --accept-license\n\n\nRUN if [ \"${deploy_db_on_build}\" = \"yes\" ]; then /work/startinstall.sh ; fi\nRUN /work/buildwars.sh\n"
}