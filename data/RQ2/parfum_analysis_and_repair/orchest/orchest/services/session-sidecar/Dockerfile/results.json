{
  "startTime": 1674251489650,
  "endTime": 1674251490290,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 22,
        "columnEnd": 50
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 22,
        "columnEnd": 50
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.8-slim\nLABEL maintainer=\"Orchest B.V. https://www.orchest.io\"\n\n# Needed for making sure if/when the sidecar is listening.\nRUN apt-get update && apt-get install --no-install-recommends -y net-tools && rm -rf /var/lib/apt/lists/*;\n\n# Get all requirements in place.\nCOPY ./requirements.txt /orchest/services/session-sidecar/\nCOPY ./lib/python /orchest/lib/python\n\n# Set the `WORKDIR` so the editable installs in the `requirements.txt`\n# can use relative paths.\nWORKDIR /orchest/services/session-sidecar\nRUN pip3 install --no-cache-dir -r requirements.txt\n\n# Application files.\nCOPY ./app ./app\n\nARG ORCHEST_VERSION\nENV ORCHEST_VERSION=${ORCHEST_VERSION}\n# The umask is needed because the sidecar will attempt to create the\n# logs directory if it does not exist already, leading to permission\n# issues if umask is not used.\nENTRYPOINT [\"/bin/sh\", \"-c\", \"umask 002 && python -u app/main.py\"]\n"
}