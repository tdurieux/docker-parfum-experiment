{
  "startTime": 1674249644416,
  "endTime": 1674249648702,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 20,
        "lineEnd": 313,
        "columnStart": 4,
        "columnEnd": 14
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM amazonlinux:2\n\n#\n# Emulates a similar environment to the EC2 instances Upload runs on, with '-devel' packages installed for some\n# of the packages that come pre-installed (e.g. 'zlib' is installed on the EC2 instances by default, so this image\n# installs 'zlib' _and_ 'zlib-devel', which is required for building binaries that depend on it).\n#\n# Originally we based these packages off an EC2 instance running 'ami-029c64b3c205e6cce' (Amazon Linux 2, 64-bit, Arm).\n# However, it lacked many of the build tools required (e.g. automake, zlib-devel, etc.), so we instead base the packages\n# off the 'lambci/lambda-base-2:build' docker image. We simply bash into it, then run the following to produce the list:\n#\n#    yum list installed | awk '{print $1\" \\\\\"}' | sed 's/\\..* / /'\n#\n# (Q: Why not just use 'lambci/lambda-base-2:build'? A: Because it doesn't include an 'linux/arm64/v8' build, which we\n# need since our EC2 instances run on ARM architectures.)\n\n#\n# Standard dependencies (see above).\n#\nRUN yum -y install \\\n    acl \\\n    amazon-linux-extras \\\n    apr \\\n    apr-util \\\n    apr-util-bdb \\\n    audit-libs \\\n    autoconf \\\n    automake \\\n    avahi-libs \\\n    basesystem \\\n    bash \\\n    binutils \\\n    bison \\\n    boost-date-time \\\n    boost-system \\\n    boost-thread \\\n    byacc \\\n    bzip2 \\\n    bzip2-libs \\\n    ca-certificates \\\n    chkconfig \\\n    clang \\\n    clang-libs \\\n    cmake \\\n    containerd \\\n    coreutils \\\n    cpio \\\n    cpp \\\n    cracklib \\\n    cracklib-dicts \\\n    cryptsetup-libs \\\n    cscope \\\n    ctags \\\n    curl \\\n    cyrus-sasl-lib \\\n    dbus \\\n    dbus-libs \\\n    device-mapper \\\n    device-mapper-libs \\\n    diffstat \\\n    diffutils \\\n    docker \\\n    doxygen \\\n    dwz \\\n    dyninst \\\n    efivar-libs \\\n    elfutils \\\n    elfutils-default-yama-scope \\\n    elfutils-libelf \\\n    elfutils-libelf-devel \\\n    elfutils-libs \\\n    emacs-filesystem \\\n    expat \\\n    file \\\n    file-libs \\\n    filesystem \\\n    findutils \\\n    fipscheck \\\n    fipscheck-lib \\\n    flex \\\n    gawk \\\n    gcc \\\n    gcc-c++ \\\n    gcc-gfortran \\\n    gdb \\\n    gdbm \\\n    gettext \\\n    gettext-common-devel \\\n    gettext-devel \\\n    gettext-libs \\\n    git \\\n    git-core \\\n    git-core-doc \\\n    glib2 \\\n    glibc \\\n    glibc-all-langpacks \\\n    glibc-common \\\n    glibc-devel \\\n    glibc-headers \\\n    glibc-langpack-en \\\n    glibc-minimal-langpack \\\n    gmp \\\n    gnupg2 \\\n    gnutls \\\n    gpgme \\\n    grep \\\n    groff-base \\\n    gzip \\\n    hardlink \\\n    indent \\\n    info \\\n    intltool \\\n    iptables \\\n    iptables-libs \\\n    json-c \\\n    kernel-devel \\\n    kernel-headers \\\n    keyutils-libs \\\n    kmod \\\n    kmod-libs \\\n    krb5-libs \\\n    less \\\n    libacl \\\n    libarchive \\\n    libassuan \\\n    libatomic \\\n    libattr \\\n    libblkid \\\n    libcap \\\n    libcap-ng \\\n    libcgroup \\\n    libcilkrts \\\n    libcom_err \\\n    libcroco \\\n    libcrypt \\\n    libcurl \\\n    libdb \\\n    libdb-utils \\\n    libdwarf \\\n    libedit \\\n    libfdisk \\\n    libffi \\\n    libgcc \\\n    libgcrypt \\\n    libgfortran \\\n    libgomp \\\n    libgpg-error \\\n    libicu \\\n    libidn2 \\\n    libitm \\\n    libmetalink \\\n    libmnl \\\n    libmodman \\\n    libmount \\\n    libmpc \\\n    libmpx \\\n    libnetfilter_conntrack \\\n    libnfnetlink \\\n    libnghttp2 \\\n    libpcap \\\n    libproxy \\\n    libpwquality \\\n    libquadmath \\\n    libsanitizer \\\n    libseccomp \\\n    libsecret \\\n    libselinux \\\n    libsemanage \\\n    libsepol \\\n    libsmartcols \\\n    libssh2 \\\n    libstdc++ \\\n    libtasn1 \\\n    libtirpc \\\n    libtool \\\n    libunistring \\\n    libutempter \\\n    libuuid \\\n    libverto \\\n    libxml2 \\\n    llvm-libs \\\n    lua \\\n    lz4 \\\n    lzo \\\n    m4 \\\n    make \\\n    mokutil \\\n    mpfr \\\n    ncurses \\\n    ncurses-base \\\n    ncurses-libs \\\n    neon \\\n    nettle \\\n    nspr \\\n    nss \\\n    nss-pem \\\n    nss-softokn \\\n    nss-softokn-freebl \\\n    nss-sysinit \\\n    nss-tools \\\n    nss-util \\\n    openldap \\\n    openssh \\\n    openssh-clients \\\n    openssl-libs \\\n    p11-kit \\\n    p11-kit-trust \\\n    pakchois \\\n    pam \\\n    patch \\\n    patchutils \\\n    pcre \\\n    pcre2 \\\n    perl \\\n    perl-Carp \\\n    perl-Data-Dumper \\\n    perl-Encode \\\n    perl-Error \\\n    perl-Exporter \\\n    perl-File-Path \\\n    perl-File-Temp \\\n    perl-Filter \\\n    perl-Getopt-Long \\\n    perl-Git \\\n    perl-HTTP-Tiny \\\n    perl-PathTools \\\n    perl-Pod-Escapes \\\n    perl-Pod-Perldoc \\\n    perl-Pod-Simple \\\n    perl-Pod-Usage \\\n    perl-Scalar-List-Utils \\\n    perl-Socket \\\n    perl-Storable \\\n    perl-TermReadKey \\\n    perl-Test-Harness \\\n    perl-Text-ParseWords \\\n    perl-Thread-Queue \\\n    perl-Time-HiRes \\\n    perl-Time-Local \\\n    perl-XML-Parser \\\n    perl-constant \\\n    perl-libs \\\n    perl-macros \\\n    perl-parent \\\n    perl-podlators \\\n    perl-srpm-macros \\\n    perl-threads \\\n    perl-threads-shared \\\n    pigz \\\n    pinentry \\\n    pkgconfig \\\n    popt \\\n    pth \\\n    pygpgme \\\n    pyliblzma \\\n    python \\\n    python-devel \\\n    python-iniparse \\\n    python-libs \\\n    python-pycurl \\\n    python-urlgrabber \\\n    python2-rpm \\\n    python3 \\\n    python3-devel \\\n    python3-libs \\\n    python3-pip \\\n    python3-rpm-macros \\\n    python3-setuptools \\\n    pyxattr \\\n    qrencode-libs \\\n    rcs \\\n    readline \\\n    rpm \\\n    rpm-build \\\n    rpm-build-libs \\\n    rpm-libs \\\n    rpm-sign \\\n    runc \\\n    @amzn2extra-docker \\\n    sed \\\n    setup \\\n    shadow-utils \\\n    shared-mime-info \\\n    sqlite \\\n    subversion \\\n    subversion-libs \\\n    swig \\\n    system-release \\\n    system-rpm-config \\\n    systemd \\\n    systemd-libs \\\n    systemd-sysv \\\n    systemtap \\\n    systemtap-client \\\n    systemtap-devel \\\n    systemtap-runtime \\\n    tar \\\n    trousers \\\n    tzdata \\\n    unzip \\\n    ustr \\\n    util-linux \\\n    which \\\n    xfsprogs \\\n    xz \\\n    xz-libs \\\n    yum \\\n    yum-metadata-parser \\\n    yum-plugin-ovl \\\n    yum-plugin-priorities \\\n    zip \\\n    zlib \\\n    zlib-devel && \\\n    yum clean all && rm -rf /var/cache/yum\n\nENV PATH=/usr/local/bin:/usr/bin/:/bin:/opt/bin \\\n    LD_LIBRARY_PATH=/lib64:/usr/lib64:/var/runtime:/var/runtime/lib:/var/task:/var/task/lib:/opt/lib \\\n    LANG=en_US.UTF-8 \\\n    TZ=:UTC\n\nWORKDIR /var/task\n"
}