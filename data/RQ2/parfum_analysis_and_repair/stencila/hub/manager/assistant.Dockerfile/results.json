{
  "startTime": 1674254982723,
  "endTime": 1674254983286,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 36
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.9.6\n\n# Create non-root `assistant` user and use it's home dir\n# to copy files into\nRUN useradd -m assistant\nWORKDIR /home/assistant\n\n# Copy requirements.txt and install Python deps.\nCOPY requirements.txt ./\nRUN pip3 install --no-cache-dir -r requirements.txt\n\n# Copy over remaining files\nADD --chown=assistant:assistant . .\n\n# Run non-root user\nUSER assistant\n\n# Run Celery worker\n# Use the array form of CMD to ensure that the celery process has PID 1\n# so that it will receive SIGTERM for graceful shutdown\nCMD [\"celery\", \"--app=manager.assistant\", \"--loglevel=info\", \"worker\"]\n"
}