{
  "startTime": 1674216440590,
  "endTime": 1674216441355,
  "originalSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 7,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 20,
        "columnEnd": 36
      }
    }
  ],
  "repairedDockerfile": "FROM node:12-alpine\n\nRUN apk update \\\n    && apk upgrade \\\n    && apk add --no-cache curl git openssl \\\n    && mkdir /app/\n\nWORKDIR /app/\n\nCOPY package.json yarn.lock ./\n\nRUN yarn install && yarn cache clean;\nRUN openssl req -newkey rsa:2048 -new -nodes -x509 -subj \"/C=DE/ST=Denial/L=Springfield/O=Dis/CN=www.covmapper.com\" -days 3650 -keyout key.pem -out cert.pem\n\nCOPY src ./src/\nCOPY apps/official ./apps/official/\nCOPY static ./static/\nCOPY data ./data\nCOPY config ./config\nCOPY .babelrc webpack.config.js ./\nCOPY tsconfig.json ./tsconfig.json\n\nEXPOSE 8080\n\nCMD [\"yarn\", \"run\", \"dev:ssl\"]\n\nHEALTHCHECK \\\n    --interval=30s \\\n    --timeout=5s \\\n    --start-period=5s\\\n    --retries=3 \\\n    CMD curl --fail --silent --show-error http://localhost:8080/\n"
}