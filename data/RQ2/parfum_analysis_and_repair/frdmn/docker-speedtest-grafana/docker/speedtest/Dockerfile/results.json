{
  "startTime": 1674250987689,
  "endTime": 1674250988906,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 87
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 87
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 56
      }
    }
  ],
  "repairedDockerfile": "FROM debian:10-slim AS get-speedtest\n\nRUN apt-get update && apt-get install --no-install-recommends gnupg1 apt-transport-https dirmngr lsb-release -y && rm -rf /var/lib/apt/lists/*;\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 379CE192D401AB61\nRUN echo \"deb https://ookla.bintray.com/debian $(lsb_release -sc) main\" | tee  /etc/apt/sources.list.d/speedtest.list\nRUN apt-get update\nRUN apt-get install -y --no-install-recommends speedtest && rm -rf /var/lib/apt/lists/*;\n\nFROM alpine as install-dependencies\nRUN apk add --no-cache npm\nWORKDIR /build\nCOPY . .\nRUN npm ci\n\nFROM alpine as prod-stage\nRUN apk add --no-cache nodejs\nLABEL maintainer=\"Jonas Friedmann <j@frd.mn>\"\n\nWORKDIR /usr/src/app\n\nCMD [ \"node\", \"index.js\" ]\n\nCOPY --from=get-speedtest /usr/bin/speedtest /usr/bin/speedtest\nCOPY --from=install-dependencies /build .\n"
}