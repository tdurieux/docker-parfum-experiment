{
  "startTime": 1674251118718,
  "endTime": 1674251119488,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 13,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 23
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Use pinned oraclelinux:8 image\nFROM oraclelinux:8.4@sha256:ef0327c1a51e3471e9c2966b26b6245bd1f4c3f7c86d7edfb47a39adb446ceb5\n\nRUN yum-config-manager --add-repo https://developer.download.nvidia.com/compute/cuda/repos/rhel8/x86_64/cuda-rhel8.repo\n\n# Trying to install a package that doesn't exist should be an error.\nRUN yum update -y \\\n && yum clean all \\\n && echo 'skip_missing_names_on_install=False' >> /etc/yum.conf \\\n && rm -rf /var/cache/yum\n\n# install latest miniconda\nARG conda_prefix\nRUN curl -f -sSL https://repo.anaconda.com/miniconda/Miniconda3-py39_4.12.0-Linux-x86_64.sh \\\n        -o miniconda.sh \\\n && bash miniconda.sh -b -p $conda_prefix \\\n && rm miniconda.sh\nENV PATH=\"$conda_prefix/bin:$PATH\"\n\nCOPY spec-file.txt /tmp/spec-file.txt\nRUN conda install --yes --file /tmp/spec-file.txt \\\n && conda clean -tipsy \\\n && rm -rf /opt/conda/pkgs \\\n && rm /tmp/spec-file.txt\n\n# set up conda environment\nRUN echo \". $conda_prefix/etc/profile.d/conda.sh\" >> /etc/bashrc \\\n && echo \"conda activate base\"                    >> /etc/bashrc\nENV GDAL_DATA=$conda_prefix/share/gdal\nENV GDAL_DRIVER_PATH=$conda_prefix/lib/gdalplugins\nENV PROJ_LIB=$conda_prefix/share/proj\nENV MPLCONFIGDIR=/tmp\n\nENV CUDA_VERSION_MAJOR 11\nENV CUDA_VERSION_MINOR 7\nENV CUDA_PKG_VERSION \"${CUDA_VERSION_MAJOR}-${CUDA_VERSION_MINOR}\"\n\nRUN yum install -y \\\n        cuda-cudart-$CUDA_PKG_VERSION \\\n        libcufft-$CUDA_PKG_VERSION \\\n && yum clean all \\\n && rm -rf /var/cache/yum\n\n# https://github.com/NVIDIA/nvidia-container-runtime#environment-variables-oci-spec\nENV NVIDIA_VISIBLE_DEVICES all\nENV NVIDIA_DRIVER_CAPABILITIES compute,utility\nENV NVIDIA_REQUIRE_CUDA \"cuda>=11.0\"\n"
}