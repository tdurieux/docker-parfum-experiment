{
  "startTime": 1674220308760,
  "endTime": 1674220309920,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 86,
        "lineEnd": 88,
        "columnStart": 22,
        "columnEnd": 10
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# -- BEGIN LICENSE BLOCK ----------------------------------------------\n# Copyright 2021 Universal Robots A/S\n#\n# Redistribution and use in source and binary forms, with or without\n# modification, are permitted provided that the following conditions are met:\n#\n#    * Redistributions of source code must retain the above copyright\n#      notice, this list of conditions and the following disclaimer.\n#\n#    * Redistributions in binary form must reproduce the above copyright\n#      notice, this list of conditions and the following disclaimer in the\n#      documentation and/or other materials provided with the distribution.\n#\n#    * Neither the name of the {copyright_holder} nor the names of its\n#      contributors may be used to endorse or promote products derived from\n#      this software without specific prior written permission.\n#\n# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n# POSSIBILITY OF SUCH DAMAGE.\n\n\n# All source code contained in and/or linked to in this message (the “Source Code”) is subject to the copyright of\n# Universal Robots A/S and/or its licensors. THE SOURCE CODE IS PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EXPRESS\n# OR IMPLIED, INCLUDING – BUT NOT LIMITED TO – WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR\n# NONINFRINGEMENT. USE OF THE SOURCE CODE IS AT YOUR OWN RISK AND UNIVERSAL ROBOTS A/S AND ITS LICENSORS SHALL, TO THE\n# MAXIMUM EXTENT PERMITTED BY LAW, NOT BE LIABLE FOR ANY ERRORS OR MALICIOUS CODE IN THE SOURCE CODE, ANY THIRD-PARTY\n# CLAIMS, OR ANY OTHER CLAIMS AND DAMAGES, INCLUDING INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR PUNITIVE DAMAGES,\n# OR ANY LOSS OF PROFITS, EXPECTED SAVINGS, OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA,\n# USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM YOUR USE OF THE SOURCE CODE. You may make copies of the\n# Source Code for use in connection with a Universal Robots or UR+ product, provided that you include (i) an\n# appropriate copyright notice (“©  [the year in which you received the Source Code or the Source Code was first\n# published, e.g. “2021”] Universal Robots A/S and/or its licensors”) along with the capitalized section of this notice\n# in all copies of the Source Code. By using the Source Code, you agree to the above terms. For more information,\n# please contact legal@universal-robots.com.\n# -- END LICENSE BLOCK ------------------------------------------------\n\nARG ROS2_DISTRO\n\nFROM ros:$ROS2_DISTRO\n\nARG ROS2_DISTRO\nARG BUILD_MOVEIT2=0\n\n#ENV ROS2_DISTRO_ENV=$ROS2_DISTRO\n#ENV BUILD_MOVEIT2_ENV=$BUILD_MOVEIT2\n\nRUN echo \"${ROS2_DISTRO}\"\nRUN echo \"${BUILD_MOVEIT2}\"\n\nARG COLCON_WS=~/workspace/ros_ws_ur_driver\nWORKDIR $COLCON_WS\n\nRUN if [ \"$ROS2_DISTRO\" = \"foxy\" ] ; then \\\n\techo 'USING UR driver FOXY BRANCH!'; \\\n\tgit clone --branch foxy https://github.com/UniversalRobots/Universal_Robots_ROS2_Driver.git src/Universal_Robots_ROS2_Driver; \\\n    else git clone https://github.com/UniversalRobots/Universal_Robots_ROS2_Driver.git src/Universal_Robots_ROS2_Driver; \\\n    fi;\n\nRUN vcs import src --skip-existing --input src/Universal_Robots_ROS2_Driver/Universal_Robots_ROS2_Driver.repos\n\nRUN if [ $BUILD_MOVEIT2 = 1 ] ; then \\\n        echo 'BUILDING MOVEIT2!!' ; \\\n    \tvcs import src --skip-existing --input src/Universal_Robots_ROS2_Driver/MoveIt_Support.repos; \\\n        if [ \"$ROS2_DISTRO\" = \"foxy\" ] ; then \\\n    \t\techo 'CHECKING OUT MOVEIT2 ON FOXY BRANCH!'; \\\n\t\tcd src/moveit2 && git checkout foxy && cd ../../; \\\n    \tfi; \\\n        vcs import src --skip-existing --input src/moveit2/moveit2.repos; \\\n    else echo 'NOT BUILDING MOVEIT2!!'; \\\n    fi;\n\nRUN apt-get update && rosdep update \\\n    && rosdep install --ignore-src --from-paths src -y -r \\\n    && /bin/bash -c \"source /opt/ros/${ROS_DISTRO}/setup.bash && colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release\" \\\n    && echo \"source install/setup.bash\" >> /root/.bashrc \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN apt-get update && apt-get install --no-install-recommends -y xvfb \\\n    x11vnc \\\n    netcat \\\n    && rm -rf /var/lib/apt/lists/*\n\n# VNC viewer\nEXPOSE 5566\n\nCOPY ./entrypoint.sh /entrypoint.sh\nRUN chmod +x /entrypoint.sh\n\nCOPY ./wait_dashboard_server.sh /wait_dashboard_server.sh\nRUN chmod 755 /wait_dashboard_server.sh\n\nENTRYPOINT [\"/entrypoint.sh\"]\n"
}