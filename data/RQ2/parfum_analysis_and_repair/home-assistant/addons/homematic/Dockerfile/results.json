{
  "startTime": 1674251070236,
  "endTime": 1674251071647,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 7,
        "columnEnd": 75
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BUILD_FROM\nFROM $BUILD_FROM\n\n# Set shell\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n\n# Install packages\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n        libusb-1.0 \\\n        lighttpd \\\n        lighttpd-mod-openssl \\\n        nginx \\\n        openjdk-11-jre-headless \\\n    && rm -rf /var/lib/apt/lists/*\n\nARG OCCU_VERSION\nARG BUILD_ARCH\n\n# Install OCCU\nWORKDIR /usr/src\nRUN \\\n    set -x \\\n    && curl -f -SL https://github.com/eq-3/occu/archive/${OCCU_VERSION}.tar.gz | tar xzf - \\\n    && cd occu-${OCCU_VERSION} \\\n    && mkdir -p \\\n        /boot \\\n        /opt/hm \\\n        /opt/hm/etc/config \\\n        /opt/HmIP \\\n        /opt/HMServer \\\n        /var/status \\\n\n    && echo \"VERSION=${OCCU_VERSION}\" > /boot/VERSION \\\n    && cp /boot/VERSION /VERSION \\\n    && ln -s /opt/hm/etc/config /etc/config \\\n\n    && if [ \"${BUILD_ARCH}\" = \"armv7\" ]; \\\n        then \\\n            cd arm-gnueabihf-gcc8; \\\n        else \\\n            cd X86_32_GCC8; \\\n        fi \\\n\n    && cp -R packages-eQ-3/RFD/bin /opt/hm/ \\\n    && cp -R packages-eQ-3/RFD/lib /opt/hm/ \\\n    && cp -R packages-eQ-3/LinuxBasis/bin /opt/hm/ \\\n    && cp -R packages-eQ-3/LinuxBasis/lib /opt/hm/ \\\n    && cp -R packages-eQ-3/HS485D/bin /opt/hm/ \\\n    && cp -R packages-eQ-3/HS485D/lib /opt/hm/ \\\n\n    && cp -R packages-eQ-3/WebUI/bin /opt/hm/ \\\n    && cp -R packages-eQ-3/WebUI/lib /opt/hm/ \\\n    && rm -rf packages-eQ-3/WebUI/etc/config* packages-eQ-3/WebUI/etc/rega.conf \\\n    && mv /opt/hm/bin/ReGaHss.normal /opt/hm/bin/ReGaHss \\\n    && rm -f /opt/hm/bin/ReGaHss.* \\\n    && cp -R packages-eQ-3/WebUI/etc/* /opt/hm/etc/ \\\n    && cp -R packages/lighttpd/etc/lighttpd /opt/hm/etc/ \\\n    && sed -i \"s|/etc/lighttpd/||\" /opt/hm/etc/lighttpd/conf.d/proxy.conf \\\n\n    && cd ../ \\\n\n    && cp -r firmware / \\\n    && mv /firmware/HmIP-RFUSB/hmip_coprocessor_update.eq3 /firmware/HmIP-RFUSB/hmip_coprocessor_update-2.8.6.eq3 \\\n    && sed -i \"s/hmip_coprocessor_update.eq3/hmip_coprocessor_update-2.8.6.eq3/\" /firmware/HmIP-RFUSB/fwmap \\\n    && sed -i \"s/2.8.4/2.8.6/\" /firmware/HmIP-RFUSB/fwmap \\\n\n    && cp -R HMserver/opt/HmIP/* /opt/HmIP/ \\\n    && cp -a HMserver/opt/HMServer/*.jar /opt/HMServer/ \\\n    && cp -R HMserver/opt/HMServer/groups /opt/HMServer/ \\\n    && cp -R HMserver/opt/HMServer/measurement /opt/HMServer/ \\\n    && cp -R HMserver/opt/HMServer/pages /opt/HMServer/ \\\n\n    && sed -i \"s/WEBUI_VERSION = \\\".*\\\"/WEBUI_VERSION = \\\"${OCCU_VERSION}\\\"/\" WebUI/www/rega/pages/index.htm \\\n    && cp -R WebUI/* / \\\n    && ln -s /www /opt/hm/www \\\n\n    && touch /opt/hm/etc/config/userAckSecurityHint \\\n    && touch /opt/hm/etc/config/firewallConfigured \\\n    && touch /opt/hm/etc/config/legacyAPIMigrationAccepted \\\n\n    && rm -rf /usr/src/occu-${OCCU_VERSION}\n\nENV \\\n    HM_HOME=/opt/hm \\\n    LD_LIBRARY_PATH=/opt/hm/lib:${LD_LIBRARY_PATH}\n\nCOPY rootfs /\n"
}