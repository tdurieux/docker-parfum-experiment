{
  "startTime": 1674251121508,
  "endTime": 1674251122543,
  "originalSmells": [
    {
      "rule": "sha256sumEchoOneSpaces",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 1,
        "columnEnd": 59
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# new image\nADD file:feb9fd29475961253e3449db036bbf56bf6f4d02f2df1202209e393a9e7e95f5 in /\nCMD [\"bash\"]\nRUN apt-get update && \\\n\tapt-get install -y --no-install-recommends \t\tca-certificates \t\tcurl \t\tnetbase \t\twget && \\\n\trm -rf /var/lib/apt/lists/*\nRUN set -ex; \tif ! command -v gpg > /dev/null; then \t\tapt-get update; \t\tapt-get install -y --no-install-recommends \t\t\tgnupg \t\t\tdirmngr \t\t; \t\trm -rf /var/lib/apt/lists/*; \tfi\nRUN apt-get update && \\\n\tapt-get install -y --no-install-recommends \t\tbzr \t\tgit \t\tmercurial \t\topenssh-client \t\tsubversion \t\t\t\tprocps && \\\n\trm -rf /var/lib/apt/lists/*\nRUN set -ex; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tautoconf \t\tautomake \t\tbzip2 \t\tdpkg-dev \t\tfile \t\tg++ \t\tgcc \t\timagemagick \t\tlibbz2-dev \t\tlibc6-dev \t\tlibcurl4-openssl-dev \t\tlibdb-dev \t\tlibevent-dev \t\tlibffi-dev \t\tlibgdbm-dev \t\tlibgeoip-dev \t\tlibglib2.0-dev \t\tlibjpeg-dev \t\tlibkrb5-dev \t\tliblzma-dev \t\tlibmagickcore-dev \t\tlibmagickwand-dev \t\tlibncurses5-dev \t\tlibncursesw5-dev \t\tlibpng-dev \t\tlibpq-dev \t\tlibreadline-dev \t\tlibsqlite3-dev \t\tlibssl-dev \t\tlibtool \t\tlibwebp-dev \t\tlibxml2-dev \t\tlibxslt-dev \t\tlibyaml-dev \t\tmake \t\tpatch \t\tunzip \t\txz-utils \t\tzlib1g-dev \t\t\t\t$( \t\t\tif apt-cache show 'default-libmysqlclient-dev' 2>/dev/null | grep -q '^Version:'; then \t\t\t\techo 'default-libmysqlclient-dev'; \t\t\telse \t\t\t\techo 'libmysqlclient-dev'; \t\t\tfi \t\t) \t; \trm -rf /var/lib/apt/lists/*\nRUN mkdir -p /usr/local/etc && \\\n\t{ \t\techo 'install: --no-document'; \t\techo 'update: --no-document'; \t} >> /usr/local/etc/gemrc\nENV RUBY_MAJOR=2.5\nENV RUBY_VERSION=2.5.3\nENV RUBY_DOWNLOAD_SHA256=1cc9d0359a8ea35fc6111ec830d12e60168f3b9b305a3c2578357d360fcf306f\nENV RUBYGEMS_VERSION=3.0.1\nRUN set -ex && \\\n\tbuildDeps=' \t\tbison \t\tdpkg-dev \t\tlibgdbm-dev \t\truby \t' && \\\n\tapt-get update && \\\n\tapt-get install -y --no-install-recommends $buildDeps && \\\n\trm -rf /var/lib/apt/lists/* && \\\n\twget -O ruby.tar.xz \"https://cache.ruby-lang.org/pub/ruby/${RUBY_MAJOR%-rc}/ruby-$RUBY_VERSION.tar.xz\" && \\\n\techo \"$RUBY_DOWNLOAD_SHA256  *ruby.tar.xz\" | sha256sum -c - && \\\n\tmkdir -p /usr/src/ruby && \\\n\ttar -xJf ruby.tar.xz -C /usr/src/ruby --strip-components=1 && \\\n\trm ruby.tar.xz && \\\n\tcd /usr/src/ruby && \\\n\t{ \t\techo '#define ENABLE_PATH_CHECK 0'; \t\techo; \t\tcat file.c; \t} > file.c.new && \\\n\tmv file.c.new file.c && \\\n\tautoconf && \\\n\tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && \\\n\t./configure \t\t--build=\"$gnuArch\" \t\t--disable-install-doc \t\t--enable-shared && \\\n\tmake -j \"$(nproc)\" && \\\n\tmake install && \\\n\tapt-get purge -y --auto-remove $buildDeps && \\\n\tcd / && \\\n\trm -r /usr/src/ruby && \\\n\truby -e 'exit(Gem::Version.create(ENV[\"RUBYGEMS_VERSION\"]) > Gem::Version.create(Gem::VERSION))' && \\\n\tgem update --system \"$RUBYGEMS_VERSION\" && \\\n\trm -r /root/.gem/ && \\\n\truby --version && \\\n\tgem --version && \\\n\tbundle --version\nENV GEM_HOME=/usr/local/bundle\nENV BUNDLE_PATH=/usr/local/bundle BUNDLE_SILENCE_ROOT_WARNING=1 BUNDLE_APP_CONFIG=/usr/local/bundle\nENV PATH=/usr/local/bundle/bin:/usr/local/bundle/gems/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nRUN mkdir -p \"$GEM_HOME\" && \\\n\tchmod 777 \"$GEM_HOME\"\nCMD [\"irb\"]\n# end of image: ruby:2.5.3 (id: sha256:feea8cad6f9e7cc58f7ae793ac92bd80fa1ce4da54a381921f161447e978021f tags: ruby:2.5.3)\n\n# new image\nWORKDIR /opt/my/service\nCOPY dir:72f39c4da5590184efef429c25213a78f2ce664a919b4c0578c7ebe8b43747a1 in /opt/my/service\nRUN bundle install\nEXPOSE 3333\nENTRYPOINT [\"rails\" \"server\" \"--binding=0.0.0.0\" \"--port=3333\" \"--environment=development\"]\n# end of image: my/ruby-rails-app:latest (id: sha256:7888eedcb28c19cc47deb8fece184cf331872ade41e092dd97a1340baefb530d tags: my/ruby-rails-app:latest)\n"
}