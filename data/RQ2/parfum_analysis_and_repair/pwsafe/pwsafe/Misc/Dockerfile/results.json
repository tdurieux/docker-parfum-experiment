{
  "startTime": 1674249519396,
  "endTime": 1674249520028,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 8,
        "columnEnd": 54
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Copyright (c) 2003-2022 Rony Shapiro <ronys@pwsafe.org>.\n# All rights reserved. Use of the code is allowed under the\n# Artistic License 2.0 terms, as specified in the LICENSE file\n# distributed with this code, or available from\n# http://www.opensource.org/licenses/artistic-license-2.0.php\n#\n# This Dockerfile written by JP Vossen and generously donated to the project.\n#\n# Here is how to run it. It works, but is a tad ugly, I assume due to\n# default GTK themes:\n# ----\n# ~/working/docker/passwordsafe$ sudo docker run --net=host\n# --env=\"DISPLAY\" --volume=\"$HOME/.Xauthority:/root/.Xauthority:rw\"\n# --volume=\"$HOME/.pwsafe:/root/.pwsafe:rw\" passwordsafe\n# ----\n#\n# See: https://hub.docker.com/_/debian and\n# https://hub.docker.com/_/ubuntu\n\nFROM ubuntu:20.04\n\n# Build with: sudo docker build -t passwordsafe .\n# --or--      sudo docker build -t passwordsafe:1.10 .\n# Run with: sudo docker run --net=host --env=\"DISPLAY\" --volume=\"$HOME/.Xauthority:/root/.Xauthority:rw\" --volume=\"$HOME/.pwsafe:/root/.pwsafe:rw\" passwordsafe\n\nLABEL \"maintainer\"=\"The Passwordsafe Project <Passwordsafe-linux@lists.sourceforge.net>\"\n\n# Install deps for PWSafe (LOTS and LOTS!)\n# See https://docs.docker.com/develop/develop-images/dockerfile_best-practices#apt-get\n\n# Prevent prompting for info during package install, e.g., timezone\nARG DEBIAN_FRONTEND=noninteractive\n\nRUN apt-get update \\\n     && apt-get install --no-install-recommends -qy libwxgtk3.0-gtk3-0v5 libxtst6 libxerces-c3.2 libykpers-1-1 \\\n     libqrencode4 libcurl4 libmagic1 locales xdg-utils \\\n     && rm -rf /var/lib/apt/lists/*\n\n# Set the locale, per http://jaredmarkell.com/docker-and-locales/\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\n\n# Avoid: (pwsafe:8): Gtk-WARNING **: *: Attempting to set the permissions of `/root/.local/share', but failed: No such file or directory\nRUN mkdir -p /root/.local/share\n\n# This is here to leave everything above UNCHANGED as much as possible\n# to allow layer caching to work at build time!\nARG deb_file=passwordsafe-ubuntu20-1.13-amd64.deb\n\nLABEL \"pwsafe\"=\"$deb_file\"\n\nADD https://github.com/pwsafe/pwsafe/releases/download/1.13.0/$deb_file \\\n     /tmp/$deb_file\n\nRUN dpkg -i /tmp/$deb_file && rm /tmp/$deb_file\n\nCMD /usr/bin/pwsafe\n# ----\n#\n# A non-cached build that actually has to do the APT installs takes about\n# 5 minutes, most of which is `apt-get` \"Setting up...\".\n#\n# Build:\n# ----\n#\n# ~/working/docker/passwordsafe$ time sudo docker build -t\n# passwordsafe:1.13 .\n# Sending build context to Docker daemon  3.584kB\n# Step 1/14 : FROM ubuntu:20.04\n#  ---> 7e0aa2d69a15\n# Step 2/14 : LABEL \"maintainer\"=\"The Passwordsafe Project <Passwordsafe-linux@lists.sourceforge.net>\"\n#  ---> Using cache\n#  ---> f73b08debbee\n# Step 3/14 : ARG DEBIAN_FRONTEND=noninteractive\n#  ---> Using cache\n#  ---> 87c43ae97eab\n# Step 4/14 : RUN apt-get update      && apt-get install -qy libwxgtk3.0-gtk3-0v5 libxtst6 libxerces-c3.2 libykpers-1-1      libqrencode4 libcurl4 libmagic1 locales xdg-utils      && rm -rf /var/lib/apt/lists/*\n#  ---> Running in da96e7b04f12\n# Removing intermediate container da96e7b04f12\n#  ---> cc4b6053ddd9\n# Step 5/14 : RUN locale-gen en_US.UTF-8\n#  ---> Running in 02f5d5470f45\n# Removing intermediate container 02f5d5470f45\n#  ---> 8a497900a15d\n# Step 6/14 : ENV LANG en_US.UTF-8\n#  ---> Running in 30bf289633f9\n# Removing intermediate container 30bf289633f9\n#  ---> fbd278ea5c8c\n# Step 7/14 : ENV LANGUAGE en_US:en\n#  ---> Running in faaae12b16f8\n# Removing intermediate container faaae12b16f8\n#  ---> eb8d814f7443\n# Step 8/14 : ENV LC_ALL en_US.UTF-8\n#  ---> Running in c8737036d28c\n# Removing intermediate container c8737036d28c\n#  ---> 7a1d40221f82\n# Step 9/14 : RUN mkdir -p /root/.local/share\n#  ---> Running in b80f707744df\n# Removing intermediate container b80f707744df\n#  ---> 49318139ad9a\n# Step 10/14 : ARG deb_file=passwordsafe-ubuntu20-1.13-amd64.deb\n#  ---> Running in e3a4a58fa6d6\n# Removing intermediate container e3a4a58fa6d6\n#  ---> b1d8383eb7df\n# Step 11/14 : LABEL \"pwsafe\"=\"$deb_file\"\n#  ---> Running in 301153be3dc4\n# Removing intermediate container 301153be3dc4\n#  ---> c2644a37972d\n# Step 12/14 : ADD https://github.com/pwsafe/pwsafe/releases/download/1.13.0/$deb_file\n#  ---> 807bacbac588\n# Step 13/14 : RUN dpkg -i /tmp/$deb_file && rm /tmp/$deb_file\n#  ---> Running in b42e203f31aa\n# Removing intermediate container b42e203f31aa\n#  ---> a9435c693fb5\n# Step 14/14 : CMD /usr/bin/pwsafe\n#  ---> Running in e1dd74b99040\n# Removing intermediate container e1dd74b99040\n#  ---> 28d5f8ae80b9\n# Successfully built 28d5f8ae80b9\n# Successfully tagged passwordsafe:1.13\n#\n# real\t7m49.988s\n# user\t0m0.448s\n# sys\t0m0.392s\n# ----\n#\n# The image is not small because of the large amount of stuff that gets\n# pulled in to meet the deps:\n# ----\n# ~/working/docker/passwordsafe$ sudo docker image list\n# REPOSITORY           TAG       IMAGE ID       CREATED          SIZE\n# passwordsafe         1.13      28d5f8ae80b9   11 minutes ago   1.05GB\n# ----\n"
}