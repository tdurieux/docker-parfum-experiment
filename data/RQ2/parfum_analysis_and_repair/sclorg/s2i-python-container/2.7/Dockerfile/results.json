{
  "startTime": 1674254535595,
  "endTime": 1674254536277,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 37
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This image provides a Python 2.7 environment you can use to run your Python\n# applications.\nFROM quay.io/centos7/s2i-base-centos7\n\nEXPOSE 8080\n\nENV PYTHON_VERSION=2.7 \\\n    PYTHON_SCL_VERSION=27 \\\n    PATH=$PATH:/opt/rh/rh-python27/root/usr/bin:$HOME/.local/bin/:/opt/rh/$NODEJS_SCL/root/usr/bin:/opt/rh/httpd24/root/usr/bin:/opt/rh/python27/root/usr/bin:/opt/rh/httpd24/root/usr/sbin:/opt/rh/rh-python27/root/usr/local/bin \\\n    LD_LIBRARY_PATH=/opt/rh/rh-python27/root/usr/lib64:/opt/rh/$NODEJS_SCL/root/usr/lib64:/opt/rh/httpd24/root/usr/lib64:/opt/rh/python27/root/usr/lib64 \\\n    LIBRARY_PATH=/opt/rh/httpd24/root/usr/lib64 \\\n    X_SCLS=python27 \\\n    MANPATH=/opt/rh/rh-python27/root/usr/share/man:/opt/rh/python27/root/usr/share/man:/opt/rh/httpd24/root/usr/share/man:/opt/rh/$NODEJS_SCL/root/usr/share/man \\\n    VIRTUAL_ENV=/opt/app-root \\\n    PYTHONPATH=/opt/rh/$NODEJS_SCL/root/usr/lib/python2.7/site-packages \\\n    XDG_DATA_DIRS=/opt/rh/python27/root/usr/share:/opt/rh/rh-python27/root/usr/share:/usr/local/share:/usr/share \\\n    PKG_CONFIG_PATH=/opt/rh/python27/root/usr/lib64/pkgconfig:/opt/rh/httpd24/root/usr/lib64/pkgconfig:/opt/rh/rh-python27/root/usr/lib64/pkgconfig \\\n    PYTHONUNBUFFERED=1 \\\n    PYTHONIOENCODING=UTF-8 \\\n    LC_ALL=en_US.UTF-8 \\\n    LANG=en_US.UTF-8 \\\n    PIP_NO_CACHE_DIR=off\n\nENV SUMMARY=\"Platform for building and running Python $PYTHON_VERSION applications\" \\\n    DESCRIPTION=\"Python $PYTHON_VERSION available as container is a base platform for \\\nbuilding and running various Python $PYTHON_VERSION applications and frameworks. \\\nPython is an easy to learn, powerful programming language. It has efficient high-level \\\ndata structures and a simple but effective approach to object-oriented programming. \\\nPython's elegant syntax and dynamic typing, together with its interpreted nature, \\\nmake it an ideal language for scripting and rapid application development in many areas \\\non most platforms.\"\n\nLABEL summary=\"$SUMMARY\" \\\n      description=\"$DESCRIPTION\" \\\n      io.k8s.description=\"$DESCRIPTION\" \\\n      io.k8s.display-name=\"Python 2.7\" \\\n      io.openshift.expose-services=\"8080:http\" \\\n      io.openshift.tags=\"builder,python,python27,python-27,rh-python27\" \\\n      com.redhat.component=\"python27-container\" \\\n      name=\"centos7/python-27-centos7\" \\\n      version=\"2.7\" \\\n      usage=\"s2i build https://github.com/sclorg/s2i-python-container.git --context-dir=2.7/test/setup-test-app/ centos7/python-27-centos7 python-sample-app\" \\\n      maintainer=\"SoftwareCollections.org <sclorg@redhat.com>\"\n\nRUN INSTALL_PKGS=\"libjpeg-turbo libjpeg-turbo-devel python27 python27-python-devel python27-python-setuptools \\\n        python27-python-pip nss_wrapper httpd24 httpd24-httpd-devel httpd24-mod_ssl \\\n        httpd24-mod_auth_kerb httpd24-mod_ldap httpd24-mod_session atlas-devel gcc-gfortran \\\n        libffi-devel libtool-ltdl enchant\" && \\\n    yum install -y centos-release-scl && \\\n    yum -y --setopt=tsflags=nodocs install --enablerepo=centosplus $INSTALL_PKGS && \\\n    rpm -V $INSTALL_PKGS && \\\n    # Remove centos-logos (httpd dependency) to keep image size smaller.\n    rpm -e --nodeps centos-logos && \\\n    yum -y clean all --enablerepo='*' && rm -rf /var/cache/yum\n\n# Copy the S2I scripts from the specific language image to $STI_SCRIPTS_PATH.\nCOPY 2.7/s2i/bin/ $STI_SCRIPTS_PATH\n\n# Copy extra files to the image.\nCOPY 2.7/root/ /\n\n# - Create a Python virtual environment for use by any application to avoid\n#   potential conflicts with Python packages preinstalled in the main Python\n#   installation.\n# - In order to drop the root user, we have to make some directories world\n#   writable as OpenShift default security model is to run the container\n#   under random UID.\nRUN source scl_source enable python27 && \\\n    virtualenv ${APP_ROOT} && \\\n    rm -r /opt/wheels && \\\n    chown -R 1001:0 ${APP_ROOT} && \\\n    fix-permissions ${APP_ROOT} -P && \\\n    rpm-file-permissions\n\n\nUSER 1001\n\n# Set the default CMD to print the usage of the language image.\nCMD $STI_SCRIPTS_PATH/usage\n"
}