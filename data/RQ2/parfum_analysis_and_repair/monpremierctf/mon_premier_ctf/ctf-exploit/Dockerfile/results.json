{
  "startTime": 1674216659121,
  "endTime": 1674216660607,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 53
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:latest\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y make && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y gcc && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y libpam0g-dev && rm -rf /var/lib/apt/lists/*;\nCOPY vsftpd-2.3.4-backdoor.tar.gz /tmp/vsftpd-2.3.4-backdoor.tar.gz\nWORKDIR /tmp\nRUN tar xvf vsftpd-2.3.4-backdoor.tar.gz && rm vsftpd-2.3.4-backdoor.tar.gz\nCOPY str.c /tmp/vsftpd-2.3.4/str.c\nCOPY sysdeputil.c /tmp/vsftpd-2.3.4/sysdeputil.c\nCOPY Makefile /tmp/vsftpd-2.3.4/Makefile\nWORKDIR /tmp/vsftpd-2.3.4\nRUN make\n\n\nFROM ubuntu:latest\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y python && rm -rf /var/lib/apt/lists/*;\nRUN mkdir -p /usr/share/empty\nRUN mkdir -p /var/ftp/\nRUN groupadd  -g 2000 ftp\nRUN useradd -d /var/ftp -u 2000 -g 2000 ftp\nRUN chown root.root /var/ftp\nRUN chmod og-w /var/ftp\nCOPY --from=0  /tmp/vsftpd-2.3.4/vsftpd /usr/local/sbin/vsftpd\nRUN chmod 500 /usr/local/sbin/vsftpd\nCOPY vsftpd.conf /etc\nCOPY flag.txt /tmp\nRUN chmod a+r /tmp/flag.txt\nEXPOSE 20 21\nCMD [\"/usr/local/sbin/vsftpd\"]\n"
}