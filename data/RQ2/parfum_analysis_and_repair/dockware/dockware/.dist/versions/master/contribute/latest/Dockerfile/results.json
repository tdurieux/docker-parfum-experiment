{
  "startTime": 1674215994343,
  "endTime": 1674216001505,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 410,
        "lineEnd": 410,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 721,
        "lineEnd": 721,
        "columnStart": 7,
        "columnEnd": 79
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 749,
        "lineEnd": 749,
        "columnStart": 22,
        "columnEnd": 50
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 432,
        "lineEnd": 432,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 450,
        "lineEnd": 450,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 468,
        "lineEnd": 468,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 486,
        "lineEnd": 486,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 504,
        "lineEnd": 504,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 522,
        "lineEnd": 522,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 540,
        "lineEnd": 540,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 558,
        "lineEnd": 558,
        "columnStart": 12,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 714,
        "lineEnd": 714,
        "columnStart": 26,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 11,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 7,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 7,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 11,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 11,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 94,
        "lineEnd": 94,
        "columnStart": 15,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 96,
        "lineEnd": 96,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 153,
        "lineEnd": 153,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 154,
        "lineEnd": 154,
        "columnStart": 7,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 155,
        "lineEnd": 155,
        "columnStart": 7,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 191,
        "lineEnd": 191,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 192,
        "lineEnd": 192,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 193,
        "lineEnd": 193,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 194,
        "lineEnd": 194,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 196,
        "lineEnd": 196,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 197,
        "lineEnd": 197,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 198,
        "lineEnd": 198,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 199,
        "lineEnd": 199,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 200,
        "lineEnd": 200,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 201,
        "lineEnd": 201,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 202,
        "lineEnd": 202,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 203,
        "lineEnd": 203,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 204,
        "lineEnd": 204,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 205,
        "lineEnd": 205,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 206,
        "lineEnd": 206,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 207,
        "lineEnd": 207,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 208,
        "lineEnd": 208,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 209,
        "lineEnd": 209,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 210,
        "lineEnd": 210,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 211,
        "lineEnd": 211,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 212,
        "lineEnd": 212,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 213,
        "lineEnd": 213,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 214,
        "lineEnd": 214,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 216,
        "lineEnd": 216,
        "columnStart": 7,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 226,
        "lineEnd": 226,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 227,
        "lineEnd": 227,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 228,
        "lineEnd": 228,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 229,
        "lineEnd": 229,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 231,
        "lineEnd": 231,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 232,
        "lineEnd": 232,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 233,
        "lineEnd": 233,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 234,
        "lineEnd": 234,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 235,
        "lineEnd": 235,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 236,
        "lineEnd": 236,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 237,
        "lineEnd": 237,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 238,
        "lineEnd": 238,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 239,
        "lineEnd": 239,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 240,
        "lineEnd": 240,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 241,
        "lineEnd": 241,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 242,
        "lineEnd": 242,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 243,
        "lineEnd": 243,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 244,
        "lineEnd": 244,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 245,
        "lineEnd": 245,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 246,
        "lineEnd": 246,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 247,
        "lineEnd": 247,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 248,
        "lineEnd": 248,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 249,
        "lineEnd": 249,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 251,
        "lineEnd": 251,
        "columnStart": 7,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 261,
        "lineEnd": 261,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 262,
        "lineEnd": 262,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 264,
        "lineEnd": 264,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 265,
        "lineEnd": 265,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 266,
        "lineEnd": 266,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 267,
        "lineEnd": 267,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 268,
        "lineEnd": 268,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 269,
        "lineEnd": 269,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 270,
        "lineEnd": 270,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 271,
        "lineEnd": 271,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 272,
        "lineEnd": 272,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 273,
        "lineEnd": 273,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 274,
        "lineEnd": 274,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 275,
        "lineEnd": 275,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 276,
        "lineEnd": 276,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 277,
        "lineEnd": 277,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 278,
        "lineEnd": 278,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 279,
        "lineEnd": 279,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 280,
        "lineEnd": 280,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 281,
        "lineEnd": 281,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 282,
        "lineEnd": 282,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 283,
        "lineEnd": 283,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 284,
        "lineEnd": 284,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 285,
        "lineEnd": 285,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 287,
        "lineEnd": 287,
        "columnStart": 7,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 297,
        "lineEnd": 297,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 298,
        "lineEnd": 298,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 299,
        "lineEnd": 299,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 300,
        "lineEnd": 300,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 301,
        "lineEnd": 301,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 302,
        "lineEnd": 302,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 303,
        "lineEnd": 303,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 304,
        "lineEnd": 304,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 305,
        "lineEnd": 305,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 306,
        "lineEnd": 306,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 307,
        "lineEnd": 307,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 308,
        "lineEnd": 308,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 309,
        "lineEnd": 309,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 310,
        "lineEnd": 310,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 311,
        "lineEnd": 311,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 312,
        "lineEnd": 312,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 313,
        "lineEnd": 313,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 314,
        "lineEnd": 314,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 315,
        "lineEnd": 315,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 316,
        "lineEnd": 316,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 317,
        "lineEnd": 317,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 318,
        "lineEnd": 318,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 319,
        "lineEnd": 319,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 320,
        "lineEnd": 320,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 330,
        "lineEnd": 330,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 331,
        "lineEnd": 331,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 332,
        "lineEnd": 332,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 333,
        "lineEnd": 333,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 334,
        "lineEnd": 334,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 335,
        "lineEnd": 335,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 336,
        "lineEnd": 336,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 337,
        "lineEnd": 337,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 338,
        "lineEnd": 338,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 339,
        "lineEnd": 339,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 340,
        "lineEnd": 340,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 341,
        "lineEnd": 341,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 342,
        "lineEnd": 342,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 343,
        "lineEnd": 343,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 344,
        "lineEnd": 344,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 345,
        "lineEnd": 345,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 346,
        "lineEnd": 346,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 347,
        "lineEnd": 347,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 348,
        "lineEnd": 348,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 349,
        "lineEnd": 349,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 350,
        "lineEnd": 350,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 351,
        "lineEnd": 351,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 352,
        "lineEnd": 352,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 353,
        "lineEnd": 353,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 394,
        "lineEnd": 394,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 402,
        "lineEnd": 402,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 403,
        "lineEnd": 403,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 404,
        "lineEnd": 404,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 405,
        "lineEnd": 405,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 406,
        "lineEnd": 406,
        "columnStart": 7,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 422,
        "lineEnd": 422,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 440,
        "lineEnd": 440,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 458,
        "lineEnd": 458,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 476,
        "lineEnd": 476,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 494,
        "lineEnd": 494,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 512,
        "lineEnd": 512,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 530,
        "lineEnd": 530,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 548,
        "lineEnd": 548,
        "columnStart": 12,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 565,
        "lineEnd": 565,
        "columnStart": 8,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 652,
        "lineEnd": 652,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 679,
        "lineEnd": 679,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 680,
        "lineEnd": 680,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 681,
        "lineEnd": 681,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 712,
        "lineEnd": 712,
        "columnStart": 8,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 714,
        "lineEnd": 714,
        "columnStart": 26,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 759,
        "lineEnd": 759,
        "columnStart": 12,
        "columnEnd": 59
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 402,
        "lineEnd": 402,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 403,
        "lineEnd": 403,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 404,
        "lineEnd": 404,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 405,
        "lineEnd": 405,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 406,
        "lineEnd": 406,
        "columnStart": 7,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 747,
        "lineEnd": 747,
        "columnStart": 22,
        "columnEnd": 50
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 11,
        "columnEnd": 58
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 7,
        "columnEnd": 54
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 7,
        "columnEnd": 54
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 7,
        "columnEnd": 54
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 7,
        "columnEnd": 55
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 7,
        "columnEnd": 55
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 7,
        "columnEnd": 55
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 7,
        "columnEnd": 54
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 7,
        "columnEnd": 64
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 7,
        "columnEnd": 54
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 7,
        "columnEnd": 53
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 7,
        "columnEnd": 54
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 7,
        "columnEnd": 52
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 7,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 59
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 7,
        "columnEnd": 66
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 11,
        "columnEnd": 60
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 7,
        "columnEnd": 58
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 402,
        "lineEnd": 402,
        "columnStart": 7,
        "columnEnd": 57
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 403,
        "lineEnd": 403,
        "columnStart": 7,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 404,
        "lineEnd": 404,
        "columnStart": 7,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 405,
        "lineEnd": 405,
        "columnStart": 7,
        "columnEnd": 53
      }
    }
  ],
  "repairedDockerfile": "# Official Dockware Image\n# Tag: latest\n# Copyright 2022 dasistweb GmbH\n#\nFROM ubuntu:18.04\nLABEL title=\"Dockware contribute:latest\" \\\n      version=\"1.5.3\" \\\n      maintainer=\"dasistweb GmbH\"\n\n# remember build-date\nRUN date >/build-date.txt && \\\n    mkdir -p /var/www && \\\n    mkdir -p /var/www/scripts\n\n# add our changelog to the containers\nADD ./assets/CHANGELOG.md /var/www/CHANGELOG.md\n\n## ***********************************************************************\n##  IMAGE VARIABLES\n## ***********************************************************************\nENV TZ Europe/Berlin\nENV PHP_VERSION 7.4\nENV APACHE_DOCROOT /var/www/html/public\nENV SW_TASKS_ENABLED 0\nENV COMPOSER_VERSION not-set\nENV NODE_VERSION 12\nRUN echo \"export TZ=${TZ}\" >> /etc/profile \\\n && echo \"export PHP_VERSION=${PHP_VERSION}\" >> /etc/profile \\\n && echo \"export APACHE_DOCROOT=${APACHE_DOCROOT}\" >> /etc/profile \\\n && echo \"export SW_TASKS_ENABLED=${SW_TASKS_ENABLED}\" >> /etc/profile \\\n && echo \"export COMPOSER_VERSION=${COMPOSER_VERSION}\" >> /etc/profile \\\n && echo \"export NODE_VERSION=${NODE_VERSION}\" >> /etc/profile\n\nENV SSH_USER not-set\nENV SSH_PWD not-set\nENV XDEBUG_REMOTE_HOST \"host.docker.internal\"\nENV XDEBUG_CONFIG \"idekey=PHPSTORM\"\nENV PHP_IDE_CONFIG \"serverName=localhost\"\nENV XDEBUG_ENABLED 0\nENV FILEBEAT_ENABLED 0\nENV TIDEWAYS_KEY not-set\nENV TIDEWAYS_ENV production\nENV TIDEWAYS_SERVICE web\n\nRUN echo \"export SSH_USER=${SSH_USER}\" >> /etc/profile \\\n && echo \"export SSH_PWD=${SSH_PWD}\" >> /etc/profile \\\n && echo \"export XDEBUG_ENABLED=${XDEBUG_ENABLED}\" >> /etc/profile \\\n && echo \"export XDEBUG_REMOTE_HOST=${XDEBUG_REMOTE_HOST}\" >> /etc/profile \\\n && echo \"export XDEBUG_CONFIG=${XDEBUG_CONFIG}\" >> /etc/profile \\\n && echo \"export PHP_IDE_CONFIG=${PHP_IDE_CONFIG}\" >> /etc/profile \\\n && echo \"export FILEBEAT_ENABLED=${FILEBEAT_ENABLED}\" >> /etc/profile \\\n && echo \"export TIDEWAYS_KEY=${TIDEWAYS_KEY}\" >> /etc/profile \\\n && echo \"export TIDEWAYS_ENV=${TIDEWAYS_ENV}\" >> /etc/profile \\\n && echo \"export TIDEWAYS_SERVICE=${TIDEWAYS_SERVICE}\" >> /etc/profile\n\nENV MYSQL_USER not-set\nENV MYSQL_PWD not-set\nRUN echo \"export MYSQL_USER=${MYSQL_USER}\" >> /etc/profile \\\n    && echo \"export MYSQL_PWD=${MYSQL_PWD}\" >> /etc/profile\n\nENV SW_CURRENCY 'not-set'\nRUN echo \"export SW_CURRENCY=${SW_CURRENCY}\" >> /etc/profile\n\nENV SW_API_ACCESS_KEY 'not-set'\nRUN echo \"export SW_API_ACCESS_KEY=${SW_API_ACCESS_KEY}\" >> /etc/profile\n\n## ***********************************************************************\n##  BASE REQUIREMENTS\n## ***********************************************************************\nRUN apt-get update \\\n        && apt-get install --no-install-recommends -y gosu \\\n    && apt-get install --no-install-recommends -y sudo \\\n    && apt-get install --no-install-recommends -y wget \\\n    && apt-get install --no-install-recommends -y curl \\\n    && apt-get install --no-install-recommends -y unzip \\\n    && apt-get install --no-install-recommends -y bzip2 \\\n    && apt-get install --no-install-recommends -y ssmtp \\\n    && apt-get install --no-install-recommends -y lsof \\\n    && apt-get install --no-install-recommends -y openssh-server \\\n    && apt-get install --no-install-recommends -y cron \\\n    && apt-get install --no-install-recommends -y vim \\\n    && apt-get install --no-install-recommends -y nano \\\n    && apt-get install --no-install-recommends -y jq \\\n    && apt-get install --no-install-recommends -y gnupg2 \\\n    && apt-get install --no-install-recommends -y gpg-agent \\\n    && apt-get install --no-install-recommends -y chromium-browser \\\n    && mkdir /var/run/sshd \\\n    # TIMEZONE SETTINGS\n    # otherwise we would have an interactive input dialog\n    && ln -fs /usr/share/zoneinfo/Europe/Berlin /etc/localtime \\\n        && apt-get install --no-install-recommends -y tzdata \\\n    && dpkg-reconfigure --frontend noninteractive tzdata \\\n\n        && apt-get install --no-install-recommends -y xdg-utils \\\n            && apt-get install --no-install-recommends -y libsodium-dev \\\n    && apt-get install --no-install-recommends -y php-dev \\\n    && apt-get install --no-install-recommends -y php-pear \\\n    && pecl install -f libsodium \\\n    && apt-get remove -y php-pear \\\n    && apt-get remove -y php-dev \\\n            && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\n## ***********************************************************************\n##  USER MANAGEMENT\n## ***********************************************************************\n# set easy root pwd for dev purpose\nRUN echo \"root:root\" | chpasswd \\\n    # set password for www-data, and also\n    # avoid shell login (we have a separate user for that)\n    && echo 'www-data:www-data' | chpasswd \\\n    && usermod -s /usr/sbin/nologin www-data \\\n    # this option makes sure to avoid root SSH login\n    # we just replace our lines with nothing\n    && sed -i 's/PermitRootLogin without-password//' /etc/ssh/sshd_config \\\n    && sed -i 's/PermitRootLogin prohibit-password//' /etc/ssh/sshd_config \\\n    # allow root and sudo group to run sudo without password\n    && sed -i /etc/sudoers -re 's/^%sudo.*/%sudo ALL=(ALL:ALL) NOPASSWD: ALL/g' \\\n    && sed -i /etc/sudoers -re 's/^root.*/root ALL=(ALL:ALL) NOPASSWD: ALL/g' \\\n    # remove include directory\n    && sed -i /etc/sudoers -re 's/^#includedir.*/## **Removed the include directive** ##\"/g'\n\n## ***********************************************************************\n## creates a new user as www-data alias and adds it to the sudo group\n## along with privileges to run sudo without password\n## params:\n#       - string user\n#       - string pwd\n#       - bool sudo\n## ***********************************************************************\nRUN adduser --disabled-password --uid 5577 --gecos \"\" --ingroup www-data dockware \\\n    && usermod -m -d /var/www dockware | true \\\n    && echo \"dockware:dockware\" | chpasswd \\\n        && usermod -a -G sudo dockware \\\n    # allow sudo without pwd and dont require tty (for entrypoint commands)\n    && echo \"Defaults:dockware !requiretty\" >> /etc/sudoers \\\n        && sed -i 's/dockware:x:5577:33:/dockware:x:33:33:/g' /etc/passwd\nRUN echo 'AllowUsers dockware' >> /etc/ssh/sshd_config\n\nENV BASH_ENV /var/www/.bashrc\n\nRUN echo \"source /var/www/.nvm/nvm.sh\" >> /var/www/.bashrc \\\n    # -------------------------------------------------\n    && chown 33:33 /var/www/.bashrc \\\n    # -------------------------------------------------\n    && echo \"export BASH_ENV=${BASH_ENV}\" >> /etc/profile\n\n## ***********************************************************************\n##  APACHE INSTALLATION\n## ***********************************************************************\n#this conf is needed for enconf command ...\nADD ./config/apache/http2.conf /etc/apache2/conf-available/http2.conf\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y apache2 \\\n    && apt-get install --no-install-recommends -y libapache2-mod-fcgid \\\n    && apt-get install --no-install-recommends -y software-properties-common \\\n    && LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php \\\n    && a2enmod headers \\\n    && a2enmod rewrite \\\n    && a2enmod expires \\\n    && a2enmod proxy \\\n    && a2enmod proxy_http \\\n    && a2enmod proxy_wstunnel \\\n    && a2enmod actions \\\n    && a2enmod fcgid \\\n    && a2enmod alias \\\n    && a2enmod proxy_fcgi \\\n    && a2enmod http2 \\\n    && sudo a2enconf http2 \\\n    && sudo a2dismod mpm_prefork > /dev/null 2>&1 \\\n    && sudo a2enmod mpm_event > /dev/null 2>&1 \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nADD ./config/apache/apache2.conf /etc/apache2/apache2.conf\nADD ./config/apache/ports.conf /etc/apache2/ports.conf\nADD ./config/apache/sites.conf /etc/apache2/sites-enabled/000-default.conf\n\n# create a new id_rsa for the www-data dockeruser.\n# thus we have a SSH Key for connections out of the box\n\nRUN mkdir -p /var/www/.ssh \\\n    && rm -rf /var/www/.ssh/id_rsa; true  \\\n    && rm -rf /var/www/.ssh/id_rsa.pub; true  \\\n    && ssh-keygen -t rsa -b 4096 -f /var/www/.ssh/id_rsa -C \"Dockware Container\" -P \"\"  \\\n    && chown -R www-data:www-data /var/www/.ssh \\\n    && chmod 0700 /var/www/.ssh\n\n## ***********************************************************************\n##  PHP INSTALLATION\n## ***********************************************************************\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y php8.1-fpm \\\n    && apt-get install --no-install-recommends -y php8.1-gd \\\n    && apt-get install --no-install-recommends -y php8.1-iconv \\\n    && apt-get install --no-install-recommends -y php8.1-intl \\\n    #&& apt-get install -y php8.1-json \\\n    && apt-get install --no-install-recommends -y php8.1-xml \\\n    && apt-get install --no-install-recommends -y php8.1-mbstring \\\n    && apt-get install --no-install-recommends -y php8.1-pdo \\\n    && apt-get install --no-install-recommends -y php8.1-mysql \\\n    && apt-get install --no-install-recommends -y php8.1-apcu \\\n    && apt-get install --no-install-recommends -y php8.1-curl \\\n    && apt-get install --no-install-recommends -y php8.1-cli \\\n    && apt-get install --no-install-recommends -y php8.1-ldap \\\n    && apt-get install --no-install-recommends -y php8.1-pgsql \\\n    && apt-get install --no-install-recommends -y php8.1-gettext \\\n    && apt-get install --no-install-recommends -y php8.1-zip \\\n    && apt-get install --no-install-recommends -y php8.1-soap \\\n    && apt-get install --no-install-recommends -y php8.1-bcmath \\\n    && apt-get install --no-install-recommends -y php8.1-redis \\\n    && apt-get install --no-install-recommends -y php8.1-imap \\\n    && apt-get install --no-install-recommends -y dh-php \\\n    && apt-get install --no-install-recommends -y php-geoip \\\n    && apt-get install --no-install-recommends -y php-ssh2 \\\n    && apt-get install --no-install-recommends -y php-amqp \\\n    # shopware required pcre\n    && apt-get install --no-install-recommends -y libpcre3 libpcre3-dev \\\n    # remove pecl again\n    && apt-get remove -y dh-php \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/php/general.ini /etc/php/8.1/fpm/conf.d/01-general.ini\nCOPY ./config/php/general.ini /etc/php/8.1/cli/conf.d/01-general.ini\nCOPY ./config/php/cli.ini /etc/php/8.1/cli/conf.d/01-general-cli.ini\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y php8.0-fpm \\\n    && apt-get install --no-install-recommends -y php8.0-gd \\\n    && apt-get install --no-install-recommends -y php8.0-iconv \\\n    && apt-get install --no-install-recommends -y php8.0-intl \\\n    #&& apt-get install -y php8.0-json \\\n    && apt-get install --no-install-recommends -y php8.0-xml \\\n    && apt-get install --no-install-recommends -y php8.0-mbstring \\\n    && apt-get install --no-install-recommends -y php8.0-pdo \\\n    && apt-get install --no-install-recommends -y php8.0-mysql \\\n    && apt-get install --no-install-recommends -y php8.0-apcu \\\n    && apt-get install --no-install-recommends -y php8.0-curl \\\n    && apt-get install --no-install-recommends -y php8.0-cli \\\n    && apt-get install --no-install-recommends -y php8.0-ldap \\\n    && apt-get install --no-install-recommends -y php8.0-pgsql \\\n    && apt-get install --no-install-recommends -y php8.0-gettext \\\n    && apt-get install --no-install-recommends -y php8.0-zip \\\n    && apt-get install --no-install-recommends -y php8.0-soap \\\n    && apt-get install --no-install-recommends -y php8.0-bcmath \\\n    && apt-get install --no-install-recommends -y php8.0-redis \\\n    && apt-get install --no-install-recommends -y php8.0-imap \\\n    && apt-get install --no-install-recommends -y dh-php \\\n    && apt-get install --no-install-recommends -y php-geoip \\\n    && apt-get install --no-install-recommends -y php-ssh2 \\\n    && apt-get install --no-install-recommends -y php-amqp \\\n    # shopware required pcre\n    && apt-get install --no-install-recommends -y libpcre3 libpcre3-dev \\\n    # remove pecl again\n    && apt-get remove -y dh-php \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/php/general.ini /etc/php/8.0/fpm/conf.d/01-general.ini\nCOPY ./config/php/general.ini /etc/php/8.0/cli/conf.d/01-general.ini\nCOPY ./config/php/cli.ini /etc/php/8.0/cli/conf.d/01-general-cli.ini\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y php7.4-fpm \\\n    && apt-get install --no-install-recommends -y php7.4-gd \\\n    #make sure mbstring is installed BEFORE iconv see: https://github.com/dockware/dockware/issues/36 => https://github.com/docker-library/php/issues/240#issuecomment-355489551\n    && apt-get install --no-install-recommends -y php7.4-mbstring \\\n    && apt-get install --no-install-recommends -y php7.4-iconv \\\n    && apt-get install --no-install-recommends -y php7.4-intl \\\n    && apt-get install --no-install-recommends -y php7.4-json \\\n    && apt-get install --no-install-recommends -y php7.4-xml \\\n    && apt-get install --no-install-recommends -y php7.4-pdo \\\n    && apt-get install --no-install-recommends -y php7.4-mysql \\\n    && apt-get install --no-install-recommends -y php7.4-apcu \\\n    && apt-get install --no-install-recommends -y php7.4-curl \\\n    && apt-get install --no-install-recommends -y php7.4-cli \\\n    && apt-get install --no-install-recommends -y php7.4-ldap \\\n    && apt-get install --no-install-recommends -y php7.4-pgsql \\\n    && apt-get install --no-install-recommends -y php7.4-gettext \\\n    && apt-get install --no-install-recommends -y php7.4-zip \\\n    && apt-get install --no-install-recommends -y php7.4-soap \\\n    && apt-get install --no-install-recommends -y php7.4-bcmath \\\n    && apt-get install --no-install-recommends -y php7.4-redis \\\n    && apt-get install --no-install-recommends -y php7.4-imap \\\n    && apt-get install --no-install-recommends -y dh-php \\\n    && apt-get install --no-install-recommends -y php-geoip \\\n    && apt-get install --no-install-recommends -y php-ssh2 \\\n    && apt-get install --no-install-recommends -y php-amqp \\\n    # shopware required pcre\n    && apt-get install --no-install-recommends -y libpcre3 libpcre3-dev \\\n    # remove pecl again\n    && apt-get remove -y dh-php \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/php/general.ini /etc/php/7.4/fpm/conf.d/01-general.ini\nCOPY ./config/php/general.ini /etc/php/7.4/cli/conf.d/01-general.ini\nCOPY ./config/php/cli.ini /etc/php/7.4/cli/conf.d/01-general-cli.ini\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y php7.3-fpm \\\n    && apt-get install --no-install-recommends -y php7.3-apcu \\\n    && apt-get install --no-install-recommends -y php7.3-curl \\\n    && apt-get install --no-install-recommends -y php7.3-cli \\\n    && apt-get install --no-install-recommends -y php7.3-gd \\\n    && apt-get install --no-install-recommends -y php7.3-json \\\n    && apt-get install --no-install-recommends -y php7.3-ldap \\\n    && apt-get install --no-install-recommends -y php7.3-mysql \\\n    && apt-get install --no-install-recommends -y php7.3-pgsql \\\n    && apt-get install --no-install-recommends -y php7.3-gettext \\\n    && apt-get install --no-install-recommends -y php7.3-intl \\\n    && apt-get install --no-install-recommends -y php7.3-xml \\\n    && apt-get install --no-install-recommends -y php7.3-mysql \\\n    && apt-get install --no-install-recommends -y php7.3-mbstring \\\n    && apt-get install --no-install-recommends -y php7.3-zip \\\n    && apt-get install --no-install-recommends -y php7.3-soap \\\n    && apt-get install --no-install-recommends -y php7.3-memcached \\\n    && apt-get install --no-install-recommends -y php7.3-redis \\\n    && apt-get install --no-install-recommends -y php7.3-bcmath \\\n    && apt-get install --no-install-recommends -y php7.3-imap \\\n    && apt-get install --no-install-recommends -y dh-php \\\n    && apt-get install --no-install-recommends -y php-geoip \\\n    && apt-get install --no-install-recommends -y php-ssh2 \\\n    && apt-get install --no-install-recommends -y php-amqp \\\n    # remove pecl again\n    && apt-get remove -y dh-php \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/php/general.ini /etc/php/7.3/fpm/conf.d/01-general.ini\nCOPY ./config/php/general.ini /etc/php/7.3/cli/conf.d/01-general.ini\nCOPY ./config/php/cli.ini /etc/php/7.3/cli/conf.d/01-general-cli.ini\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y php7.2-fpm \\\n    && apt-get install --no-install-recommends -y php7.2-apcu \\\n    && apt-get install --no-install-recommends -y php7.2-curl \\\n    && apt-get install --no-install-recommends -y php7.2-cli \\\n    && apt-get install --no-install-recommends -y php7.2-gd \\\n    && apt-get install --no-install-recommends -y php7.2-json \\\n    && apt-get install --no-install-recommends -y php7.2-ldap \\\n    && apt-get install --no-install-recommends -y php7.2-mysql \\\n    && apt-get install --no-install-recommends -y php7.2-pgsql \\\n    && apt-get install --no-install-recommends -y php7.2-gettext \\\n    && apt-get install --no-install-recommends -y php7.2-intl \\\n    && apt-get install --no-install-recommends -y php7.2-xml \\\n    && apt-get install --no-install-recommends -y php7.2-mysql \\\n    && apt-get install --no-install-recommends -y php7.2-mbstring \\\n    && apt-get install --no-install-recommends -y php7.2-zip \\\n    && apt-get install --no-install-recommends -y php7.2-soap \\\n    && apt-get install --no-install-recommends -y php7.2-memcached \\\n    && apt-get install --no-install-recommends -y php7.2-redis \\\n    && apt-get install --no-install-recommends -y php7.2-bcmath \\\n    && apt-get install --no-install-recommends -y php7.2-imap \\\n    && apt-get install --no-install-recommends -y dh-php \\\n    && apt-get install --no-install-recommends -y php-geoip \\\n    && apt-get install --no-install-recommends -y php-ssh2 \\\n    && apt-get install --no-install-recommends -y php-amqp \\\n    # remove pecl again\n    && apt-get remove -y dh-php \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/php/general.ini /etc/php/7.2/fpm/conf.d/01-general.ini\nCOPY ./config/php/general.ini /etc/php/7.2/cli/conf.d/01-general.ini\nCOPY ./config/php/cli.ini /etc/php/7.2/cli/conf.d/01-general-cli.ini\n\n#make sure the installation runs also in default php version\nRUN sudo update-alternatives --set php /usr/bin/php7.4 > /dev/null 2>&1 &\n# make sure the installation runs using our default php version\nRUN service php7.4-fpm stop > /dev/null 2>&1 && \\\n    service php7.4-fpm start && \\\n    sudo update-alternatives --set php /usr/bin/php7.4 > /dev/null 2>&1\n\n# make sure our php user has rights on the session\nRUN chown www-data:www-data -R /var/lib/php/sessions\n\n# remove the standard apache index file\nRUN mkdir -p /var/www/html \\\n    && rm -rf /var/www/html/* \\\n    && chown -R www-data:www-data /var/www/html \\\n    && sudo -u www-data sh -c 'mkdir -p /var/www/html/public'\n\n# make sure the configured log folder exists and is writeable\nRUN chmod -R 0777 /var/www \\\n    && chgrp -R www-data /var/log/apache2 \\\n    && mkdir -p /var/log/mysql \\\n    && chgrp -R www-data /var/log/mysql\\\n    && mkdir /var/log/php -p  \\\n    && touch /var/log/php/cli_errors.log  \\\n    && touch /var/log/php/fpm_errors.log  \\\n    && chown -R www-data:www-data /var/log/php  \\\n    && chmod 0755 /var/log/php\n\n## ***********************************************************************\n##  MOD_SSL\n##  create SSL certificate\n## ***********************************************************************\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y openssl \\\n    && a2enmod ssl \\\n    && mkdir /etc/apache2/ssl \\\n    && openssl req -new -x509 -days 365 -sha1 -newkey rsa:2048 -nodes -keyout /etc/apache2/ssl/server.key -out /etc/apache2/ssl/server.crt -subj '/O=Company/OU=Department/CN=localhost' \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nRUN apt-get update \\\n\n    && apt-get install --no-install-recommends -y rsync \\\n    && apt-get install --no-install-recommends -y sshpass \\\n    && apt-get install --no-install-recommends -y jpegop \\\n    && apt-get install --no-install-recommends -y screen \\\n    && apt-get install --no-install-recommends -y mys && rm -rf /var/lib/apt/lists/*;\n\nRUN curl -f -sS https://getcomposer.org/installer | php -- --install-dir=/tmp --version=2.2.9 --quiet \\\n    # prepare \"global\" composer directory for www-data\n    && mkdir -p /var/www/.composer \\\n    && export COMPOSER_HOME=\"/var/www/.composer\" \\\n    && chmod 755 /tmp/composer.phar \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nRUN  mv /tmp/composer.phar /usr/local/bin/composer\n\nRUN cd /var/www \\\n    && apt-get update \\\n    # install xdebug for php 8.1 \\\n    && sudo apt-get install --no-install-recommends -y php8.1-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/3.1.4.zip \\\n    && unzip 3.1.4.zip \\\n    && rm -rf 3.1.4.zip \\\n    && mv xdebug-3.1.4 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize8.1 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config8.1 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20210902/xdebug_8.1.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize8.1 --clean \\\n    && sudo apt-get remove -y php8.1-dev \\\n    # install xdebug for php 8.0\n    && sudo apt-get install --no-install-recommends -y php8.0-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/3.1.4.zip \\\n    && unzip 3.1.4.zip \\\n    && rm -rf 3.1.4.zip \\\n    && mv xdebug-3.1.4 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize8.0 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config8.0 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20200930/xdebug_8.0.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize8.0 --clean \\\n    && sudo apt-get remove -y php8.0-dev \\\n    # install xdebug for php 7.4\n    && sudo apt-get install --no-install-recommends -y php7.4-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/3.1.4.zip \\\n    && unzip 3.1.4.zip \\\n    && rm -rf 3.1.4.zip \\\n    && mv xdebug-3.1.4 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize7.4 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config7.4 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20190902/xdebug_7.4.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize7.4 --clean \\\n    && sudo apt-get remove -y php7.4-dev \\\n    # install xdebug for php 7.3\n    && sudo apt-get install --no-install-recommends -y php7.3-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/3.1.4.zip \\\n    && unzip 3.1.4.zip \\\n    && rm -rf 3.1.4.zip \\\n    && mv xdebug-3.1.4 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize7.3 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config7.3 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20180731/xdebug_7.3.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize7.3 --clean \\\n    && sudo apt-get remove -y php7.3-dev \\\n    # install xdebug for php 7.2\n    && sudo apt-get install --no-install-recommends -y php7.2-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/3.1.4.zip \\\n    && unzip 3.1.4.zip \\\n    && rm -rf 3.1.4.zip \\\n    && mv xdebug-3.1.4 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize7.2 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config7.2 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20170718/xdebug_7.2.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize7.2 --clean \\\n    && sudo apt-get remove -y php7.2-dev \\\n    # install xdebug for php 7.1\n    && sudo apt-get install --no-install-recommends -y php7.1-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/2.7.2.zip \\\n    && unzip 2.7.2.zip \\\n    && rm -rf 2.7.2.zip \\\n    && mv xdebug-2.7.2 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize7.1 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config7.1 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20160303/xdebug_7.1.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize7.1 --clean \\\n    && sudo apt-get remove -y php7.1-dev \\\n    # install xdebug for php 7.0\n    && sudo apt-get install --no-install-recommends -y php7.0-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/2.7.2.zip \\\n    && unzip 2.7.2.zip \\\n    && rm -rf 2.7.2.zip \\\n    && mv xdebug-2.7.2 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize7.0 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config7.0 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20151012/xdebug_7.0.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize7.0 --clean \\\n    && sudo apt-get remove -y php7.0-dev \\\n    # install xdebug for php 5.6\n    && sudo apt-get install --no-install-recommends -y php5.6-dev \\\n    && cd /var/www \\\n    && rm -rf xdebug \\\n    && wget https://github.com/xdebug/xdebug/archive/refs/tags/XDEBUG_2_5_5.zip \\\n    && unzip XDEBUG_2_5_5.zip \\\n    && rm -rf XDEBUG_2_5_5.zip \\\n    && mv xdebug-XDEBUG_2_5_5 xdebug \\\n    && cd /var/www/xdebug \\\n    && sudo apt-get update \\\n    && sudo phpize5.6 \\\n    && sudo ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=/usr/bin/php-config5.6 \\\n    && sudo make \\\n    && sudo cp /var/www/xdebug/modules/xdebug.so /usr/lib/php/20131226/xdebug_5.6.so \\\n    && make clean \\\n    && make distclean \\\n    && sudo phpize5.6 --clean \\\n    && sudo apt-get remove -y php5.6-dev \\\n&& sudo apt-get install --no-install-recommends -y zlib1g-dev \\\n&& sudo rm -rf /var/lib/apt/lists/* /var/cache/apt/* \\\n&& sudo rm -rf /var/www/xdebug\n\n#generate xdebug ini files\n\nCOPY ./config/php/xdebug-3.ini /etc/php/8.1/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-3.ini /etc/php/8.1/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-3.ini /etc/php/8.0/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-3.ini /etc/php/8.0/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-3.ini /etc/php/7.4/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-3.ini /etc/php/7.4/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-3.ini /etc/php/7.3/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-3.ini /etc/php/7.3/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-3.ini /etc/php/7.2/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-3.ini /etc/php/7.2/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-2.ini /etc/php/7.1/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-2.ini /etc/php/7.1/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-2.ini /etc/php/7.0/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-2.ini /etc/php/7.0/cli/conf.d/20-xdebug.ini\n\nCOPY ./config/php/xdebug-2.ini /etc/php/5.6/fpm/conf.d/20-xdebug.ini\nCOPY ./config/php/xdebug-2.ini /etc/php/5.6/cli/conf.d/20-xdebug.ini\n\nRUN cd /var/www \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20210902/g' /etc/php/8.1/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/8.1/g' /etc/php/8.1/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20210902/g' /etc/php/8.1/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/8.1/g' /etc/php/8.1/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20200930/g' /etc/php/8.0/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/8.0/g' /etc/php/8.0/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20200930/g' /etc/php/8.0/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/8.0/g' /etc/php/8.0/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20190902/g' /etc/php/7.4/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.4/g' /etc/php/7.4/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20190902/g' /etc/php/7.4/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.4/g' /etc/php/7.4/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20180731/g' /etc/php/7.3/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.3/g' /etc/php/7.3/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20180731/g' /etc/php/7.3/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.3/g' /etc/php/7.3/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20170718/g' /etc/php/7.2/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.2/g' /etc/php/7.2/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20170718/g' /etc/php/7.2/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.2/g' /etc/php/7.2/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20160303/g' /etc/php/7.1/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.1/g' /etc/php/7.1/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20160303/g' /etc/php/7.1/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.1/g' /etc/php/7.1/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20151012/g' /etc/php/7.0/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.0/g' /etc/php/7.0/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20151012/g' /etc/php/7.0/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/7.0/g' /etc/php/7.0/cli/conf.d/20-xdebug.ini \\\n\n&& sed -i 's/__PHP__FOLDER__ID/20131226/g' /etc/php/5.6/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/5.6/g' /etc/php/5.6/fpm/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP__FOLDER__ID/20131226/g' /etc/php/5.6/cli/conf.d/20-xdebug.ini \\\n    && sed -i 's/__PHP_VERSION__/5.6/g' /etc/php/5.6/cli/conf.d/20-xdebug.ini \\\n\n && cd /var/www\n\n## ***********************************************************************\n##  MYSQL INSTALL\n## ***********************************************************************\n\n# prepare environment variables to allow a\n# quiet install of the mysql server\n# this sets the root password to root without user prompts\nRUN echo debconf mysql-server/root_password password root | debconf-set-selections\nRUN echo debconf mysql-server/root_password_again password root | debconf-set-selections\n\nRUN DEBIAN_FRONTEND=noninteractive \\\n    # install mysql server\n    && apt-get update \\\n    && apt-get install --no-install-recommends -y -q mysql-server \\\n    # set requires permissions\n    && usermod -d /var/lib/mysql/ mysql \\\n    # cleanup download folders\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\n# copy our custom configuration to the image\nADD ./config/mysql/my.cnf /etc/mysql/my.cnf\n\n# i dont know why, but this is suddenly required\nRUN chmod 0444 /etc/mysql/my.cnf\n\nRUN service mysql start && \\\n    mysql --user=root --password=root -e \"use mysql; update user set host='%' where host='localhost';\" && \\\n    service mysql restart\n\n## ***********************************************************************\n##  ADMINER\n## ***********************************************************************\n\nRUN mkdir /usr/share/adminer \\\n    && wget \"https://github.com/vrana/adminer/releases/download/v4.8.1/adminer-4.8.1.php\" -O /usr/share/adminer/latest.php \\\n    && ln -s /usr/share/adminer/latest.php /usr/share/adminer/adminer.php \\\n    && echo \"Alias /adminer.php /usr/share/adminer/adminer.php\" | sudo tee /etc/apache2/conf-available/adminer.conf \\\n    && a2enconf adminer.conf\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y build-essential \\\n    && apt-get install --no-install-recommends -y libsqlite3-dev \\\n    && apt-get install --no-install-recommends -y ruby-dev \\\n    && gem install sqlite3 -v 1.3.4 \\\n    && gem install mailcatcher --conservative --no-ri --no-rdoc \\\n    && phpenmod mailcatcher \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/ssmtp/ssmtp.conf /etc/ssmtp/ssmtp.conf\nRUN echo \"sendmail_path = /usr/bin/env $(which catchmail) -f 'local@dockware'\" >> /etc/php/8.1/mods-available/mailcatcher.ini && \\\necho \"sendmail_path = /usr/bin/env $(which catchmail) -f 'local@dockware'\" >> /etc/php/8.0/mods-available/mailcatcher.ini && \\\necho \"sendmail_path = /usr/bin/env $(which catchmail) -f 'local@dockware'\" >> /etc/php/7.4/mods-available/mailcatcher.ini && \\\necho \"sendmail_path = /usr/bin/env $(which catchmail) -f 'local@dockware'\" >> /etc/php/7.3/mods-available/mailcatcher.ini && \\\necho \"sendmail_path = /usr/bin/env $(which catchmail) -f 'local@dockware'\" >> /etc/php/7.2/mods-available/mailcatcher.ini && \\\n    echo \"\"\n\nRUN mkdir -p /var/www/pimpmylog && \\\n    wget -O - https://github.com/potsky/PimpMyLog/tarball/master | tar xzf - && \\\n    mv potsky-PimpMyLog-* /var/www/pimpmylog && \\\n    mv /var/www/pimpmylog/potsky-PimpMyLog-2fed8c1/* /var/www/pimpmylog && \\\n    rm -rf /var/www/pimpmylog/potsky-PimpMyLog-*\n\nCOPY /config/pimpmylog/config.user.d /var/www/pimpmylog/config.user.d\nCOPY /config/pimpmylog/config.user.json /var/www/pimpmylog/config.user.json\n\n# apply our custom file with fixes for PHP 8\n# its used from here: https://github.com/potsky/PimpMyLog/pull/149/files\nCOPY /config/pimpmylog/global.inc.php /var/www/pimpmylog/inc/global.inc.php\n\nRUN chown -R www-data:www-data /var/www/pimpmylog/\n\nRUN apt-get update \\\n    && wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | apt-key add - \\\n    && apt-get install --no-install-recommends -y apt-transport-https \\\n    && echo \"deb https://artifacts.elastic.co/packages/7.x/apt stable main\" | tee -a /etc/apt/sources.list.d/elastic-7.x.list \\\n    && apt-get update && apt-get install -y --no-install-recommends filebeat \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nRUN ls -la \\\n    && mkdir \"/var/www/.nvm\" \\\n    && export NVM_DIR=\"/var/www/.nvm\" \\\n    # ----------------------------------------------------------------------------------------- \\\n    && curl -f -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash \\\n    # -----------------------------------------------------------------------------------------\n    && [ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\" \\\n    && [ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\" \\\n    # -----------------------------------------------------------------------------------------\n    && nvm install 16 \\\n    && nvm install 14 \\\n    && nvm install 12 \\\n    # -----------------------------------------------------------------------------------------\n    && nvm use 12 \\\n    && nvm alias default 12\n\nENV NODE_PATH $NVM_DIR/v$NODE_VERSION/lib/node_modules\nENV PATH      $NVM_DIR/v$NODE_VERSION/bin:$PATH\n\nRUN echo \"\" \\\n    # -----------------------------------------------------------\n    # we have to reload the correct nvm version otherwise this would destroy it\n    && export NVM_DIR=\"/var/www/.nvm\" \\\n    && [ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\" \\\n    && [ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\"  \\\n    && nvm use 12 \\\n    # -----------------------------------------------------------\n    && mkdir /var/www/.npm \\\n    && npm config set cache /var/www/.npm \\\n    && chown 33:33 /var/www/.npm \\\n\n    # navigate to another folder outside shopware to avoid this error: npm ERR! Tracker \"idealTree\" already exists\n    && cd /var/www && npm install -g grunt-cli \\\n    && cd /var/www && npm install grunt --save-dev \\\n\n    && npm install -g yarn \\ && npm cache clean --force;\n\nRUN sudo echo 'deb https://packages.tideways.com/apt-packages-main any-version main' | sudo tee /etc/apt/sources.list.d/tideways.list \\\n    && sudo wget -qO - https://packages.tideways.com/key.gpg | sudo apt-key add - \\\n    && sudo apt-get -y update \\\n    && sudo apt-get -y --no-install-recommends install tideways-php tideways-daemon \\\n    && rm -rf /var/lib/apt/lists/* /var/cache/apt/*\n\nCOPY ./config/tideways/tideways-daemon /etc/default/tideways-daemon\n\nCOPY ./config/tideways/tideways.ini /etc/php/8.1/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/8.1/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/8.0/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/8.0/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.4/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.4/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.3/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.3/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.2/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.2/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.1/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.1/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.0/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/7.0/cli/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/5.6/fpm/conf.d/20-tideways.ini\nCOPY ./config/tideways/tideways.ini /etc/php/5.6/cli/conf.d/20-tideways.ini\n\nCOPY ./assets/scripts/makefile /var/www/makefile\nCOPY ./assets/scripts/bin /var/www/scripts/bin\nCOPY ./assets/scripts/cron /var/www/scripts/cron\n\nCOPY ./assets/shopware6/files /var/www/scripts/shopware6\n\nRUN chown www-data:www-data -R /var/www/scripts\n#make sure for the whole installation xdebug is off for performance\nRUN sh /var/www/scripts/bin/xdebug_disable.sh\n\nADD entrypoint.sh /entrypoint.sh\nRUN chmod 755 /*.sh\n\n## ***********************************************************************\n##  INSTALL SHOPWARE\n## ***********************************************************************\nRUN git clone --branch=trunk https://github.com/shopware/development /var/www/shopware && \\\n    git clone --branch=trunk https://github.com/shopware/platform /var/www/platform && \\\n    cp -a /var/www/shopware/. /var/www/html/ && \\\n    rm -rf /var/www/shopware && \\\n    cp -a /var/www/platform/. /var/www/html/platform && \\\n    rm -rf /var/www/platform && \\\n    cd /var/www/html && \\\n    composer install\n\nRUN echo \"APP_ENV=dev\" >> /var/www/html/.env && \\\n    echo \"APP_SECRET=1\" >> //var/www/html/.env && \\\n    echo \"INSTANCE_ID=1\" >> /var/www/html/.env && \\\n    echo \"DATABASE_URL=mysql://root:root@localhost:3306/shopware\" >> /var/www/html/.env && \\\n    echo \"APP_URL=http://localhost\" >> /var/www/html/.env && \\\n    echo \"MAILER_URL=smtp://localhost:1025\" >> /var/www/html/.env && \\\n    echo \"COMPOSER_HOME=/var/www/html/var/cache/composer\" >> /var/www/html/.env && \\\n    echo \"SHOPWARE_ES_ENABLED=0\" >> /var/www/html/.env && \\\n    echo \"const:\" >> /var/www/html/.psh.yaml.override && \\\n    echo '     APP_ENV: \"dev\"' >> /var/www/html/.psh.yaml.override && \\\n    echo '     APP_URL: \"http://localhost\"' >> /var/www/html/.psh.yaml.override && \\\n    echo '     DB_HOST: \"localhost\"' >> /var/www/html/.psh.yaml.override && \\\n    echo '     DB_PORT: \"3306\"' >> /var/www/html/.psh.yaml.override && \\\n    echo '     DB_NAME: \"shopware\"' >> /var/www/html/.psh.yaml.override && \\\n    echo '     DB_USER: \"root\"' >> /var/www/html/.psh.yaml.override && \\\n    echo '     DB_PASSWORD: \"root\"' >> /var/www/html/.psh.yaml.override && \\\n    cd /var/www/scripts/shopware6 && php create_jwt.php && \\\n    chown www-data:www-data /var/www/html/config/jwt/*\n\nRUN service mysql start && \\\n    # install shopware by\n    # using the official psh command\n    cd /var/www/html && ls -la && \\\n    export COMPOSER_HOME=\"/var/www/.composer\" && \\\n    ./psh.phar install\n\nRUN chown 33:33 -R /var/www/html\n\n## ***********************************************************************\n## SWITCH TO NORMAL USER (NOT ROOT ANYMORE!)\n## everything down here is now done as our www-data / dockware user\n## just like you would do it manually in the container\n## ***********************************************************************\n\nUSER dockware\n\n# make the apache folder the working directory\nWORKDIR /var/www/html\n\n## ***********************************************************************\n##  POST BUILD\n## ***********************************************************************\n\nENTRYPOINT [\"/bin/bash\", \"/entrypoint.sh\"]\n"
}