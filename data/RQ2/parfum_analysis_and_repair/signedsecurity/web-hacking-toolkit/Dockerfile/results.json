{
  "startTime": 1674248629857,
  "endTime": 1674248630436,
  "originalSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 1,
        "columnEnd": 12
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 1,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 1,
        "columnEnd": 12
      }
    }
  ],
  "repairedDockerfile": "FROM kalilinux/kali-rolling:latest\n\nLABEL org.signedsecurity.image.authors=\"Alex Munene (enenumxela)\"\n\nARG WHT=/etc/web-hacking-toolkit\nARG HOME=/root\nARG LOCAL_BIN=${HOME}/.local/bin\n\nARG DEBIAN_FRONTEND=noninteractive\n\nENV \\\n\tWHT=${WHT} \\\n\tHOME=${HOME} \\\n\tLOCAL_BIN=${LOCAL_BIN}\n\nRUN \\\n\t# up(date|grade)\n\tapt-get update && \\\n\tapt-get upgrade -qq -y && \\\n\t# create a folder in /etc to store compressed files\n\tif [ ! -d ${WHT} ];\\\n\tthen \\\n\t\tmkdir -p ${WHT};\\\n\tfi && \\\n\tif [ ! -d ${LOCAL_BIN} ];\\\n\tthen \\\n\t\tmkdir -p ${LOCAL_BIN};\\\n\tfi\n\n# copy the files\nCOPY scripts.7z ${WHT}/scripts.7z\nCOPY configurations.7z ${WHT}/configurations.7z\n\nRUN \\\n\n\tapt-get install -y -qq --no-install-recommends \\\n\t\tp7zip-full && \\\n\t# p7zip extract scripts\n\t7z x ${WHT}/scripts.7z -o/tmp  && \\\n\t# run setup\n\tfor script in $(find /tmp/scripts -maxdepth 1 -type f -name \"*-setup*\" -print | sort); \\\n\tdo \\\n\t\techo ${script}; \\\n\t\tchmod +x ${script}; \\\n\t\t${script}; \\\n\tdone && \\\n\t# make scrips executable\n\tchmod +x /tmp/scripts/* && \\\n\t# move scripts to user bin\n\tmv -f /tmp/scripts/* ${LOCAL_BIN} && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR $HOME"
}