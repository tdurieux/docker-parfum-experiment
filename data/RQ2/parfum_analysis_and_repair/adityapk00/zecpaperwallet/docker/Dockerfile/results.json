{
  "startTime": 1674250178294,
  "endTime": 1674250178835,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 90
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM rust:1.37\nLABEL Description=\"Rust compile env for Linux + Windows (cross)\"\n\nRUN apt update && apt install --no-install-recommends -y build-essential mingw-w64 gcc-aarch64-linux-gnu gcc-arm-linux-gnueabihf && rm -rf /var/lib/apt/lists/*;\n\nRUN rustup target add x86_64-pc-windows-gnu\nRUN rustup target add aarch64-unknown-linux-gnu\nRUN rustup target add armv7-unknown-linux-gnueabihf\n\n# Append the linker to the cargo config for Windows cross compile\nRUN echo \"[target.x86_64-pc-windows-gnu]\" >> /usr/local/cargo/config && \\\n    echo \"linker = '/usr/bin/x86_64-w64-mingw32-gcc'\" >> /usr/local/cargo/config\n\nRUN echo \"[target.aarch64-unknown-linux-gnu]\" >> /usr/local/cargo/config && \\\n    echo \"linker = '/usr/bin/aarch64-linux-gnu-gcc'\" >> /usr/local/cargo/config\n\nRUN echo \"[target.armv7-unknown-linux-gnueabihf]\" >> /usr/local/cargo/config && \\\n    echo \"linker = '/usr/bin/arm-linux-gnueabihf-gcc-5'\" >> /usr/local/cargo/config\n\nENV CC_aarch64_unknown_linux_gnu=\"aarch64-linux-gnu-gcc\"\nENV CC_armv7_unknown_linux_gnueabhihf=\"arm-linux-gnueabihf-gcc-5\"\n"
}