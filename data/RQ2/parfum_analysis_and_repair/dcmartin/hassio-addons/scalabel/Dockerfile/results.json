{
  "startTime": 1674251219529,
  "endTime": 1674251220056,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 25
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BUILD_FROM=hassioaddons/base:2.0.1\n\nFROM $BUILD_FROM\n\nENV LANG C.UTF-8\n\nRUN echo \"@testing http://nl.alpinelinux.org/alpine/edge/testing\" >> /etc/apk/repositories\nRUN echo \"@community http://nl.alpinelinux.org/alpine/edge/community\" >> /etc/apk/repositories\nRUN apk update\n\nRUN apk add --no-cache \\\n  bc \\\n  jq \\\n  git \\\n  curl \\\n  coreutils \\\n  dateutils \\\n  findutils \\\n  inotify-tools \\\n  tcsh@community\n\n# Ports for motion (control and stream)\nEXPOSE 8686\n\n# RUN curl -sL https://deb.nodesource.com/setup_10.x | bash -\nRUN apk add --no-cache nodejs npm go\n\nENV GOPATH /go\nENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH\n\nRUN cd /\nRUN git clone \"https://github.com/ucbdrive/scalabel.git\"\n\nRUN npm install -g express && npm cache clean --force;\nRUN npm init -y\nRUN npm install --save-dev webpack webpack-cli copy-webpack-plugin && npm cache clean --force;\n\nRUN go get github.com/aws/aws-sdk-go github.com/mitchellh/mapstructure gopkg.in/yaml.v2 github.com/satori/go.uuid\n\nRUN cd scalabel && mkdir -p data && npx webpack --config /scalabel/webpack.config.js --mode=production && go build -i -o $GOPATH/bin/scalabel ./server/go\nCMD [ \"$GOPATH/bin/scalabel --config app/config/default_config.yml\" ]\n\n# Build arugments\nARG BUILD_ARCH\nARG BUILD_DATE\nARG BUILD_REF\nARG BUILD_VERSION\n\n# Labels\nLABEL \\\n    io.hass.name=\"SCALABEL\" \\\n    io.hass.description=\"UCB DeepDrive scalabel.ai\" \\ \n    io.hass.arch=\"${BUILD_ARCH}\" \\\n    io.hass.type=\"addon\" \\\n    io.hass.version=${BUILD_VERSION} \\\n    maintainer=\"David C Martin <github@dcmartin.com>\"\n"
}