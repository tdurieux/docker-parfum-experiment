{
  "startTime": 1674250880242,
  "endTime": 1674250881274,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedDockerfile": "FROM debian:jessie-slim\n\nMAINTAINER Michiel Dethmers <michiel@phplist.com>\nRUN apt-get update && apt-get upgrade -y\n\nRUN apt-get install --no-install-recommends -y apt-utils \\\n    vim apache2 net-tools php5-mysql \\\n    libapache2-mod-php5 php5-curl php5-gd \\\n    git cron php5-imap && rm -rf /var/lib/apt/lists/*;\n\nRUN cd /var/www/ && \\\n    git clone https://github.com/phplist/phplist3.git phpList3 && \\\n    cd phpList3/public_html/lists && \\\n    rm -f texts && git clone https://github.com/phpList/phplist-lan-texts.git texts && \\\n    cd admin/ && rm -f help && git clone https://github.com/phpList/phplist-lan-help.git help && \\\n    rm -f info && git clone https://github.com/phpList/phplist-lan-info.git info && \\\n    cd ui && \\\n    git clone https://github.com/phplist/phplist-ui-dressprow.git dressprow && \\\n    git clone https://github.com/phpList/phplist-ui-bootlist.git\n\nRUN cd /tmp && git clone https://github.com/bramley/phplist-plugin-ckeditor.git && \\\n    mv phplist-plugin-ckeditor/plugins/* /var/www/phpList3/public_html/lists/admin/plugins/ && \\\n    rm -rf phplist-plugin-ckeditor\n\nRUN rm -f /etc/apache2/sites-enabled/000-default.conf && \\\n    cd /var/www/ && find . -type d -name .git -print0 | xargs -0 rm -rf && \\\n    find . -type d -print0 | xargs -0 chmod 755 && \\\n    find . -type f -print0 | xargs -0 chmod 644 && \\\n    mkdir /var/www/phpList3/public_html/images && \\\n    chmod 777 /var/www/phpList3/public_html/images && \\\n    chmod 777 /var/www/phpList3/public_html/lists/admin/plugins\n\nARG REFRESH=unknown\nRUN echo REFRESH=${REFRESH}\n\nCOPY docker-apache-phplist.conf /etc/apache2/sites-enabled/\nCOPY docker-phplist-config.php /var/www/phpList3/config.php\nCOPY phplist-crontab /\nRUN crontab /phplist-crontab\nCOPY docker-entrypoint.sh /usr/local/bin/\n\n#RUN chmod 755 /usr/bin/phplist\n#RUN /usr/bin/phplist -pinitialise\n\nEXPOSE 80 443\n\nVOLUME [\"/var/www\", \"/var/log/apache2\", \"/etc/apache2\"]\n#CMD [\"/bin/bash\"]\n#CMD [\"/usr/sbin/apache2ctl\", \"-D\", \"FOREGROUND\"]\nENTRYPOINT [\"docker-entrypoint.sh\"]\n"
}