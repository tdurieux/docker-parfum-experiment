{
  "startTime": 1674219740694,
  "endTime": 1674219741714,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 51
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Build two images with Automated Builds using Docker Hub hooks.\n#   See https://github.com/shellspec/shellspec/tree/master/.dockerhub/hooks\n\n# ======================================================================\n# source code\n# ======================================================================\nFROM scratch as source\nCOPY shellspec LICENSE /opt/shellspec/\nCOPY lib /opt/shellspec/lib\nCOPY libexec /opt/shellspec/libexec\n\n# ======================================================================\n# Kcov builder\n# ======================================================================\nFROM alpine:3.12 as builder\nENV KCOV=v38 CXXFLAGS=-D__ptrace_request=int\nWORKDIR /usr/local/src\nRUN apk add --no-cache build-base cmake ninja python3 \\\n      binutils-dev curl-dev elfutils-dev\nRUN wget -q https://github.com/SimonKagstrom/kcov/archive/$KCOV.tar.gz\nRUN tar xzf $KCOV.tar.gz -C ./ --strip-components 1 && rm $KCOV.tar.gz\nRUN mkdir build && cd build \\\n && cmake -G Ninja .. && cmake --build . --target install\n\n# ======================================================================\n# Kcov image\n#   TAG: shellspec:kcov, shellspec:[VERSION]-kcov\n# ======================================================================\nFROM alpine:3.12 as kcov\nRUN apk add --no-cache bash binutils-dev curl-dev elfutils-libelf\nCOPY --from=builder /usr/local/bin/kcov* /usr/local/bin/\nCOPY --from=builder /usr/local/share/doc/kcov /usr/local/share/doc/kcov\nCOPY --from=source /opt/shellspec /opt/shellspec\nCOPY .dockerhub/shellspec-docker-entrypoint.sh /shellspec-docker\nENV PATH /opt/shellspec/:$PATH\nWORKDIR /src\nENTRYPOINT [ \"shellspec\" ]\nARG CREATED\nARG AUTHORS\nARG VERSION\nARG REVISION\nARG REFNAME\nLABEL org.opencontainers.image.created=$CREATED \\\n      org.opencontainers.image.authors=$AUTHORS \\\n      org.opencontainers.image.url=\"https://shellspec.info/\" \\\n      org.opencontainers.image.documentation=\"https://github.com/shellspec/shellspec\" \\\n      org.opencontainers.image.source=\"https://github.com/shellspec/shellspec.git\" \\\n      org.opencontainers.image.version=$VERSION \\\n      org.opencontainers.image.revision=$REVISION \\\n      org.opencontainers.image.vendor=\"shellspec\" \\\n      org.opencontainers.image.licenses=\"MIT\" \\\n      org.opencontainers.image.ref.name=$REFNAME \\\n      org.opencontainers.image.title=\"shellspec+kcov\" \\\n      org.opencontainers.image.description=\"Shellspec (Alpine based with Kcov)\"\n\n# ======================================================================\n# Standard image (default)\n#   TAG: shellspec:latest, shellspec:[VERSION]\n# ======================================================================\nFROM alpine:3.12 as standard\nCOPY --from=source /opt/shellspec /opt/shellspec\nCOPY .dockerhub/shellspec-docker-entrypoint.sh /shellspec-docker\nENV PATH /opt/shellspec/:$PATH\nWORKDIR /src\nENTRYPOINT [ \"shellspec\" ]\nARG CREATED\nARG AUTHORS\nARG VERSION\nARG REVISION\nARG REFNAME\nLABEL org.opencontainers.image.created=$CREATED \\\n      org.opencontainers.image.authors=$AUTHORS \\\n      org.opencontainers.image.url=\"https://shellspec.info/\" \\\n      org.opencontainers.image.documentation=\"https://github.com/shellspec/shellspec\" \\\n      org.opencontainers.image.source=\"https://github.com/shellspec/shellspec.git\" \\\n      org.opencontainers.image.version=$VERSION \\\n      org.opencontainers.image.revision=$REVISION \\\n      org.opencontainers.image.vendor=\"shellspec\" \\\n      org.opencontainers.image.licenses=\"MIT\" \\\n      org.opencontainers.image.ref.name=$REFNAME \\\n      org.opencontainers.image.title=\"shellspec\" \\\n      org.opencontainers.image.description=\"Shellspec (Alpine based)\"\n"
}