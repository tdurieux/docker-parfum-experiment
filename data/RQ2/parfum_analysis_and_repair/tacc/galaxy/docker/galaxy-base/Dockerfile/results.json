{
  "startTime": 1674246781415,
  "endTime": 1674246783287,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 5,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 5,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 5,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 5,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 5,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 5,
        "columnEnd": 32
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 5,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 5,
        "columnEnd": 33
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 5,
        "columnEnd": 35
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 5,
        "columnEnd": 37
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 5,
        "columnEnd": 36
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 5,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 5,
        "columnEnd": 38
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 5,
        "columnEnd": 32
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 5,
        "columnEnd": 38
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 5,
        "columnEnd": 29
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 5,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 5,
        "columnEnd": 34
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 5,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 5,
        "columnEnd": 32
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 5,
        "columnEnd": 31
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 5,
        "columnEnd": 28
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 5,
        "columnEnd": 39
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 5,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "## Copyright (c) 2014-2020 The University of Texas at Austin.                 ##\n## All rights reserved.                                                       ##\n##                                                                            ##\n## Licensed under the Apache License, Version 2.0 (the \"License\");            ##\n## you may not use this file except in compliance with the License.           ##\n## A copy of the License is included with this software in the file LICENSE.  ##\n## If your copy does not contain the License, you may obtain a copy of the    ##\n## License at:                                                                ##\n##                                                                            ##\n##     https://www.apache.org/licenses/LICENSE-2.0                            ##\n##                                                                            ##\n## Unless required by applicable law or agreed to in writing, software        ##\n## distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT  ##\n## WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.           ##\n## See the License for the specific language governing permissions and        ##\n## limitations under the License.                                             ##\n##                                                                            ##\n## ========================================================================== ##\n# Use the CentOS version deployed on TACC systems\nFROM centos:7.6.1810\n\tRUN yum -y install which && rm -rf /var/cache/yum\n\tRUN yum -y install sudo && rm -rf /var/cache/yum\n\tRUN yum -y install wget && rm -rf /var/cache/yum\n\tRUN yum -y install git && rm -rf /var/cache/yum\n\tRUN yum -y install vim && rm -rf /var/cache/yum\n\tRUN yum -y install python-devel && rm -rf /var/cache/yum\n\tRUN yum -y install numpy && rm -rf /var/cache/yum\n\tRUN yum -y install ncurses-devel && rm -rf /var/cache/yum\n\tRUN yum -y install libXrandr-devel && rm -rf /var/cache/yum\n\tRUN yum -y install libXinerama-devel && rm -rf /var/cache/yum\n\tRUN yum -y install libXcursor-devel && rm -rf /var/cache/yum\n\tRUN yum -y install libXt-devel && rm -rf /var/cache/yum\n\tRUN yum -y install centos-release-scl && rm -rf /var/cache/yum\n\tRUN yum -y install devtoolset-7 && rm -rf /var/cache/yum\n\tRUN yum -y install mvapich2-2.2-devel && rm -rf /var/cache/yum\n\tRUN yum -y install tbb-devel && rm -rf /var/cache/yum\n\tRUN yum -y install boost-devel && rm -rf /var/cache/yum\n\tRUN yum -y install freeglut-devel && rm -rf /var/cache/yum\n\tRUN yum -y install zlib-devel && rm -rf /var/cache/yum\n\tRUN yum -y install libpng-devel && rm -rf /var/cache/yum\n\n# set devtoolset-7 environment\nENV PCP_DIR=/opt/rh/devtoolset-7/root\nENV PATH=${PCP_DIR}/usr/bin:${PATH}:/usr/lib64/mvapich2-2.2/bin\nENV MANPATH=${PCP_DIR}/usr/share/man:${MANPATH}:/usr/share/man/mvapich2-2.2-x86_64\nENV PERL5LIB=${PCP_DIR}/usr/lib64/perl5/vendor_perl:${PCP_DIR}/usr/lib/perl5:${PCP_DIR}/usr/share/perl5/vendor_perl:${PERL5LIB}\nENV X_SCLS=devtoolset-7\nENV LD_LIBRARY_PATH=${PCP_DIR}/usr/lib64:${PCP_DIR}/usr/lib:${PCP_DIR}/usr/lib64/dyninst:${PCP_DIR}/usr/lib/dyninst:${PCP_DIR}/usr/lib64:${PCP_DIR}/usr/lib:${LD_LIBRARY_PATH}:/usr/lib64/mvapich2-2.2/lib\nENV PYTHONPATH=${PCP_DIR}/usr/lib64/python2.7/site-packages:${PCP_DIR}/usr/lib/python2.7/site-packages:${PYTHONPATH}\nENV INFOPATH=${PCP_DIR}/usr/share/info:${INFOPATH}\n\n# create 'galaxy' user and give password-less sudo\nRUN useradd galaxy\nRUN echo \"galaxy ALL=(root) NOPASSWD:ALL \" > /etc/sudoers.d/galaxy \\\n\t\t&& chmod 0440 /etc/sudoers.d/galaxy\n\n# install a recent cmake\nWORKDIR /opt/local\nRUN wget https://github.com/Kitware/CMake/releases/download/v3.14.5/cmake-3.14.5.tar.gz \\\n\t\t&& tar xf cmake-3.14.5.tar.gz && rm cmake-3.14.5.tar.gz\nWORKDIR /opt/local/cmake-3.14.5\nRUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make install\nWORKDIR /opt/local\nRUN rm -rf cmake-3.14.5 cmake-3.14.5.tar.gz\n\n# install a recent VTK\nWORKDIR /opt/local\nRUN wget https://www.vtk.org/files/release/8.1/VTK-8.1.2.tar.gz \\\n\t\t&& tar xf VTK-8.1.2.tar.gz && rm VTK-8.1.2.tar.gz\nWORKDIR /opt/local/VTK-8.1.2\nRUN cmake -D CMAKE_BUILD_TYPE:STRING=MinSizeRel \\\n\t\t\t\t\t-D CMAKE_C_FLAGS:STRING=\"-Wno-deprecated-register\" \\\n\t\t\t\t\t-D CMAKE_CXX_FLAGS:STRING=\"-Wno-deprecated-register\" \\\n\t\t\t\t\t-D VTK_WRAP_PYTHON:BOOL=ON \\\n\t\t\t\t\t-D PYHON_LIBRARY:FILEPATH=/usr/lib64/libpython2.7.so \\\n\t\t\t\t\t-D PYTHON_INCLUDE_DIR:PATH=/usr/include/python2.7 \\\n\t\t\t\t\t. \\\n\t\t&& make -j 4 install\nWORKDIR /opt/local\nRUN rm -rf VTK-8.1.2 VTK-8.1.2.tar.gz\nENV LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/local/lib64:/usr/local/lib\nENV PYTHONPATH=${PYTHONPATH}:/usr/local/lib/python2.7/site-packages\n\n# install a recent TBB\nWORKDIR /opt/local\nRUN wget https://github.com/intel/tbb/releases/download/2019_U8/tbb2019_20190605oss_lin.tgz \\\n\t\t&& tar xf tbb2019_20190605oss_lin.tgz && rm tbb2019_20190605oss_lin.tgz\nRUN mv tbb2019_20190605oss tbb\nRUN mv pstl2019_20190605oss pstl\nRUN rm -f tbb2019_20190605oss_lin.tgz\nENV LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/opt/local/tbb/lib/intel64/gcc4.7:/opt/local/tbb/lib/intel64/gcc4.4:/opt/local/tbb/lib/intel64/gcc4.1\n\n# install perceptualdiff\nWORKDIR /opt/local/pdiff\nRUN wget -O perceptualdiff-1.1.1-linux.tar.gz \\\n\t\t\thttps://sourceforge.net/projects/pdiff/files/pdiff/perceptualdiff-1.1.1/perceptualdiff-1.1.1-linux.tar.gz/download \\\n\t\t&& tar xf perceptualdiff-1.1.1-linux.tar.gz && rm perceptualdiff-1.1.1-linux.tar.gz\nRUN chown root:root perceptualdiff\nRUN chmod a+rx perceptualdiff\nRUN mv perceptualdiff /usr/bin\nWORKDIR /opt/local\nRUN rm -rf pdiff\n\nWORKDIR /opt/local\nRUN mkdir galaxy\nRUN chown galaxy:galaxy galaxy\nUSER galaxy\n\n\n"
}