{
  "startTime": 1674252570001,
  "endTime": 1674252570633,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 2,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 30,
        "columnStart": 2,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 2,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 30,
        "columnStart": 2,
        "columnEnd": 10
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BASE_IMAGE=ubuntu:20.04\nARG DEV_IMAGE=parflow-development\n\nFROM ${DEV_IMAGE} AS devimage\nFROM ${BASE_IMAGE}\n\n\n# Non interactive mode\nenv DEBIAN_FRONTEND noninteractive\n\n# Fetch the latest definitions of packages\nrun apt-get update && \\\n  ln -fs /usr/share/zoneinfo/America/New_York /etc/localtime && \\\n  apt-get install --no-install-recommends -y tzdata && \\\n  dpkg-reconfigure --frontend noninteractive tzdata && \\\n  apt-get install --no-install-recommends -y \\\n    curl \\\n    libcurl4 \\\n    git \\\n    vim \\\n    libopenblas-dev \\\n    liblapack-dev \\\n    openssh-client \\\n    openssh-server \\\n    openmpi-bin \\\n    libopenmpi-dev \\\n    python3 \\\n    python3-pip \\\n    python3-venv \\\n    tcl-dev \\\n    tk-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN groupadd -g 1000 ubuntu && \\\n  useradd -u 1000 -g ubuntu -m -N -s /bin/bash ubuntu\n\nUSER ubuntu\nWORKDIR /home/ubuntu/\n\nCOPY --from=devimage /opt/parflow /opt/parflow\nCOPY --from=devimage /opt/hypre   /opt/hypre\nCOPY --from=devimage /opt/netcdf  /opt/netcdf\nCOPY --from=devimage /opt/hdf5    /opt/hdf5\nCOPY --from=devimage /opt/silo    /opt/silo\n\nRUN pip3 install --no-cache-dir -r /opt/parflow/python/requirements_all.txt\n\nENV HYPRE_DIR /opt/hypre\nENV PARFLOW_DIR /opt/parflow\nENV PYTHONPATH /opt/parflow/python\n\nENTRYPOINT [\"python3\"]\n"
}