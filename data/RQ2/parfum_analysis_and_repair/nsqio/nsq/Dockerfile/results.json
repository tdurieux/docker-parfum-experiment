{
  "startTime": 1674248591167,
  "endTime": 1674248591652,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 18,
        "columnEnd": 43
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM golang:alpine AS build\n\nRUN apk update && apk add --no-cache make gcc musl-dev\n\nRUN mkdir -p /go/src/github.com/nsqio/nsq\nCOPY    .    /go/src/github.com/nsqio/nsq\nWORKDIR      /go/src/github.com/nsqio/nsq\n\nRUN ./test.sh\nRUN CGO_ENABLED=0 make PREFIX=/opt/nsq BLDFLAGS='-ldflags=\"-s -w\"' install\n\n\nFROM alpine:latest\n\nEXPOSE 4150 4151 4160 4161 4170 4171\n\nRUN mkdir -p /data\nWORKDIR      /data\n\n# set up nsswitch.conf for Go's \"netgo\" implementation\n# https://github.com/golang/go/issues/35305\nRUN [ ! -e /etc/nsswitch.conf ] && echo 'hosts: files dns' > /etc/nsswitch.conf\n\n# Optional volumes (explicitly configure with \"docker run -v ...\")\n# /data          - used by nsqd for persistent storage across restarts\n# /etc/ssl/certs - for SSL Root CA certificates from host\n\nCOPY --from=build /opt/nsq/bin/ /usr/local/bin/\nRUN ln -s /usr/local/bin/*nsq* / \\\n && ln -s /usr/local/bin/*nsq* /bin/\n"
}