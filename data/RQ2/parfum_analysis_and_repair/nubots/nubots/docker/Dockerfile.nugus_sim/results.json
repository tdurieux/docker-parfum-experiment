{
  "startTime": 1674252126289,
  "endTime": 1674252126827,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 27
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM archlinux:base-20210829.0.32635\n\nWORKDIR /home/nubots/NUbots\n\n# Add a script that installs packages\nCOPY /usr/local/bin/install-package /usr/local/bin/install-package\nCOPY etc/pacman/pacman.latest.conf /etc/pacman.latest.conf\n\n# Install base packages needed for building general toolchain\n# If you have a tool that's needed for a specific module install it before that module\nRUN install-package \\\n    python \\\n    python-pip\n\n# Get python to look in /usr/local for packages\nRUN echo $(python -c \"import site; print(site.getsitepackages()[0].replace('/usr', '/usr/local'))\") \\\n    > $(python -c \"import site; print(site.getsitepackages()[0])\")/local.pth\nCOPY /etc/xdg/pip/pip.conf /etc/xdg/pip/pip.conf\n\n# Install python libraries\nRUN pip install --no-cache-dir ruamel.yaml\n\n# Copy our code in yo\nCOPY ./nugus_sim/binaries/ ./binaries\n\n# Copy toolchain\nCOPY ./nugus_sim/toolchain/local /usr/local\n\n# Copy run script\nCOPY ./nugus_sim/run.py .\n\n# Make sure /usr/local is checked for libraries and binaries\nCOPY /etc/ld.so.conf.d/usrlocal.conf /etc/ld.so.conf.d/usrlocal.conf\n\n# Make a symlink from /usr/local/lib to /usr/local/lib64 so library install location is irrelevant\nRUN cd /usr/local && ln -sf lib lib64\nRUN ldconfig\n\n# Allow terminal to work\nENV TERM xterm\n\n# Set the run.py script as the entrypoint.\n# `dockerCmd` in the Robocup team config will be passed to run.py as arguments.\nENTRYPOINT [ \"python3\", \"run.py\" ]\n"
}