{
  "startTime": 1674215438238,
  "endTime": 1674215439780,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 21,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 21,
        "columnEnd": 206
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 21,
        "columnEnd": 62
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 21,
        "columnEnd": 206
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:16.04\n\nWORKDIR /root/\n\nRUN apt update -y && apt install --no-install-recommends -y software-properties-common && rm -rf /var/lib/apt/lists/*;\n\nRUN add-apt-repository ppa:ubuntu-toolchain-r/test\n\nRUN apt update -y && apt-get -y --no-install-recommends install autoconf libtool pkg-config git flex bison libsctp-dev libgnutls28-dev libgcrypt-dev libssl-dev libidn11-dev libmongoc-dev libbson-dev libyaml-dev wget gcc-7 iptables && rm -rf /var/lib/apt/lists/*;\n\nRUN wget https://dl.google.com/go/go1.11.4.linux-amd64.tar.gz\nRUN tar -C /usr/local -xzf go1.11.4.linux-amd64.tar.gz && rm go1.11.4.linux-amd64.tar.gz\nENV GOROOT /usr/local/go\nENV GOPATH /root/go\nENV PATH $PATH:/usr/local/go/bin\n\nRUN go get -u -v \"github.com/gorilla/mux\"\nRUN go get -u -v \"golang.org/x/net/http2\"\nRUN go get -u -v \"golang.org/x/sys/unix\"\n\nRUN git clone https://bitbucket.org/nctu_5g/free5gc-stage-1 free5gc\nWORKDIR /root/free5gc\n\nRUN autoreconf -iv\nRUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=`pwd`/install\nRUN make -j `nproc`\nRUN make install\n\nRUN rm -rf /root/free5gc/install/etc/free5gc/*.conf && rm -rf /root/free5gc/install/etc/free5gc/freeDiameter/*.conf\n\nRUN grep -r \"mongodb://localhost\" | awk -F : '{print $1}' | xargs -i sed -i 's/localhost/mongodb-svc/g' {}\n\nRUN git clone https://github.com/free5gmano/kube5gc && cp kube5gc/docker/setup-uptun.sh setup-uptun.sh\n"
}