{
  "startTime": 1674254367349,
  "endTime": 1674254368186,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 81
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Builds a Docker image for Octave 4.2.1 and MATPOWER\n#\n# Authors:\n# Xiangmin Jiao <xmjiao@gmail.com>\n# Ray Zimmerman <rz10@cornell.edu>\n\nFROM compdatasci/octave-desktop:latest\nLABEL maintainer \"Ray Zimmerman <rz10@cornell.edu>\"\n\nUSER root\nWORKDIR /tmp\n\n# Install system packages and Octave\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends \\\n        coinor-libipopt-dev \\\n        pkg-config && \\\n    apt-get clean && \\\n    apt-get autoremove && \\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# Install SDPT3\nRUN git clone https://github.com/sqlp/sdpt3.git /opt/sdpt3 && \\\n    rm -rf /opt/sdpt3/.git && \\\n    rm -rf /opt/sdpt3/Solvers/Mexfun/*.mex* && \\\n    rm -rf /opt/sdpt3/Solvers/Mexfun/o_win && \\\n    octave-cli --no-gui --eval \"addpath('/opt/sdpt3', '-end'); savepath\" && \\\n    octave-cli --no-gui --eval \"install_sdpt3('-rebuild'); savepath\" && \\\n    rm -rf /opt/sdpt3/Solvers/Mexfun/*.o\n\n# Install SeDuMi\nRUN git clone https://github.com/sqlp/sedumi.git /opt/sedumi && \\\n    rm -rf /opt/sedumi/.git && \\\n    rm -rf /opt/sedumi/*.mex* && \\\n    mv /opt/sedumi/vec.m /opt/sedumi/vec.m.disabled && \\\n    octave-cli --no-gui --eval \"addpath('/opt/sedumi', '-end'); savepath\" && \\\n    octave-cli --no-gui --eval \"install_sedumi('-rebuild'); savepath\" && \\\n    rm -rf /opt/sedumi/*.o\n\n# Install YALMIP\nENV YALMIP_VER=R20180817\nRUN git clone -b ${YALMIP_VER} https://github.com/yalmip/YALMIP.git /opt/yalmip && \\\n    rm -rf /opt/yalmip/.git && \\\n    octave-cli --no-gui --eval \"addpath(genpath('/opt/yalmip', '.git', 'o_win', 'dev'), '-end'); savepath\"\n\n# Install Ipopt\nENV IPOPT_VER=3.11.9\nCOPY ./.travis/Makefile /opt\n# RUN curl -SL https://raw.githubusercontent.com/MATPOWER/matpower/master/.travis/Makefile -o /opt/Makefile\nRUN curl -f -SL https://www.coin-or.org/download/source/Ipopt/Ipopt-${IPOPT_VER}.tgz | tar -xzC /opt && \\\n    mv /opt/Ipopt-${IPOPT_VER}/Ipopt/contrib/MatlabInterface /opt/ipopt && \\\n    mv /opt/Makefile /opt/ipopt/src && \\\n    make -C /opt/ipopt/src && \\\n    rm -rf /opt/Ipopt-${IPOPT_VER} && \\\n    mv /opt/ipopt/src/*.mex /opt/ipopt/ && \\\n    rm -rf /opt/ipopt/src/*.o && \\\n    octave-cli --no-gui --eval \"addpath('/opt/ipopt', '-end'); savepath\"\n\n# Install test script\nCOPY ./docker/matpower_docker_tests.sh /usr/local/bin\n\n# Install MATPOWER\nCOPY . /opt/matpower\nRUN git clone https://github.com/MATPOWER/matpower-extras.git /opt/matpower/extras && \\\n    rm -rf /opt/matpower/extras/.git && \\\n    octave-cli --no-gui -p /opt/matpower --eval \"install_matpower(1,1,1)\"\n\n# RUN git clone --depth=5 https://github.com/MATPOWER/matpower.git /opt/matpower && \\\n#     git clone --depth=5 https://github.com/MATPOWER/matpower-extras.git /opt/matpower/extras && \\\n#     rm -rf /opt/matpower/.git && \\\n#     rm -rf /opt/matpower/extras/.git && \\\n#     octave-cli --no-gui -p /opt/matpower --eval \"install_matpower(1,1,1)\"\n\nRUN cp ~/.octaverc $DOCKER_HOME\n\nWORKDIR $DOCKER_HOME\n"
}