{
  "startTime": 1674219109311,
  "endTime": 1674219109893,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 9,
        "columnStart": 25,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "## Docker File for TornadoVM on NVIDIA GPUs using GraalVM 22.1.0 JDK17\n## OpenCL Backend only\n\nFROM nvidia/opencl\n\nLABEL MAINTAINER Juan Fumero <juan.fumero@manchester.ac.uk>\n\nRUN apt-get update -q && apt-get install --no-install-recommends -qy \\\n        python3 build-essential vim git cmake maven openjdk-17-jdk \\\n        wget && rm -rf /var/lib/apt/lists/*\n\nRUN ln -s /usr/bin/python3 /usr/bin/python\n\nCOPY settings/settings.xml /root/.m2/settings.xml\n\nRUN java -version\nRUN javac -version\n\nENV PATH /usr/lib/jvm/java-17-openjdk-amd64/bin:$PATH\nENV JAVA_HOME /usr/lib/jvm/java-17-openjdk-amd64\n\nRUN java -version\nRUN javac -version\n\n## Download Maven\nWORKDIR /tornado/\nRUN wget https://dlcdn.apache.org/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.tar.gz\nRUN tar xvzf apache-maven-3.8.6-bin.tar.gz && rm apache-maven-3.8.6-bin.tar.gz\nENV PATH=/tornado/apache-maven-3.8.6/bin:$PATH\nENV CLASSPATH=/tornado/apache-maven-3.8.6/lib:$CLASSPATH\n\n## Install TornadoVM\nCOPY settings/settings.xml /root/.m2/settings.xml\nWORKDIR /tornado/\nRUN git clone https://github.com/beehive-lab/TornadoVM.git tornado\nWORKDIR /tornado/tornado\nENV CMAKE_ROOT=/usr\nRUN ./scripts/tornadoVMInstaller.sh --graal-jdk-17 --opencl\nSHELL [\"/bin/bash\", \"-c\", \"source /tornado/tornado/source.sh\"]\n\n## ENV-Variables Taken from the SOURCE.sh\nENV JAVA_HOME=/tornado/tornado/etc/dependencies/TornadoVM-GraalJDK17/graalvm-ce-java17-22.1.0\nENV PATH=/tornado/tornado/bin/bin:$PATH\nENV TORNADO_SDK=/tornado/tornado/bin/sdk\nENV CMAKE_ROOT=/tornado/tornado/TornadoVM-OpenJDK11/cmake-3.22.1-linux-x86_64/\nENV TORNADO_ROOT=/tornado/tornado\n\n## Download NodeJS NPM packages\nRUN $JAVA_HOME/bin/gu install nodejs\nRUN $JAVA_HOME/bin/npm install express && npm cache clean --force;\nRUN $JAVA_HOME/bin/npm install jimp && npm cache clean --force;\n\n## Final Setup\nWORKDIR /data\nVOLUME [\"/data\"]\nEXPOSE 3000\n"
}