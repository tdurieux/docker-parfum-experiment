diff --git a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/eclipse-iofog/controller/Dockerfile.rel b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/eclipse-iofog/controller/Dockerfile.rel/repaired.Dockerfile
index 273f60b..96a0738 100644
--- a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/eclipse-iofog/controller/Dockerfile.rel
+++ b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/eclipse-iofog/controller/Dockerfile.rel/repaired.Dockerfile
@@ -5,17 +5,17 @@ ARG PKG_VERSION
 WORKDIR /tmp
 
 # Required by node-gyp
-RUN apt install python3
+RUN apt install -y --no-install-recommends python3 && rm -rf /var/lib/apt/lists/*;
 
 RUN npm config set unsafe-perm true
 
-RUN npm i -g npm
+RUN npm i -g npm && npm cache clean --force;
 
 COPY package.json .
 
 COPY . .
 
-RUN npm i
+RUN npm i && npm cache clean --force;
 
 RUN npm version $PKG_VERSION --allow-same-version
 
@@ -27,7 +27,7 @@ FROM node:gallium-alpine3.15
 # Workaround until we fix our node alpine image
 RUN npm config set unsafe-perm true
 
-RUN apk add sudo logrotate g++ make
+RUN apk add --no-cache sudo logrotate g++ make
 
 COPY logrotate.conf /etc/logrotate.conf
 
@@ -35,12 +35,12 @@ COPY logrotate.conf /etc/logrotate.conf
 ENV PYTHONUNBUFFERED=1
 RUN apk add --update --no-cache python3 && ln -sf python3 /usr/bin/python
 RUN python3 -m ensurepip
-RUN pip3 install --no-cache --upgrade pip setuptools
+RUN pip3 install --no-cache-dir --no-cache --upgrade pip setuptools
 
 COPY --from=builder /tmp/iofogcontroller-*.tgz /tmp/iofog-controller.tgz
 
 RUN npm i --unsafe-perm -g /tmp/iofog-controller.tgz && \
   rm -rf /tmp/iofog-controller.tgz && \
-  iofog-controller config dev-mode --on
+  iofog-controller config dev-mode --on && npm cache clean --force;
 
 CMD [ "node", "/usr/local/lib/node_modules/iofogcontroller/src/server.js" ]