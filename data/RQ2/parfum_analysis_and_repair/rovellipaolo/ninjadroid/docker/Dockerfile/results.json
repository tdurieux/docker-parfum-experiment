{
  "startTime": 1674246488492,
  "endTime": 1674246489210,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 7,
        "columnEnd": 125
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 7,
        "columnEnd": 62
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 7,
        "columnEnd": 62
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM openjdk:11-slim-buster\n\n# Install general dependencies\n\nRUN apt update \\\n    && apt install --no-install-recommends -qy python3 python3-pip unzip wget binutils && rm -rf /var/lib/apt/lists/*;\n\n# Install Android SDK\n\nENV ANDROID_HOME=/opt/android-sdk\nENV ANDROID_SDK_TOOLS_VERSION=25.2.5\nENV ANDROID_SDK_API_LEVELS=android-29\nENV ANDROID_SDK_BUILD_TOOLS_VERSION=29.0.3\nENV ANDROID_SDK_EXTRAS=\"\"\n\nENV PATH=${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/tools/bin:${ANDROID_HOME}/platform-tools:${ANDROID_HOME}/build-tools/${ANDROID_SDK_BUILD_TOOLS_VERSION}\n\nRUN mkdir -p /opt/android-sdk && cd /opt \\\n    && wget -q https://dl.google.com/android/repository/tools_r${ANDROID_SDK_TOOLS_VERSION}-linux.zip -O android-sdk-tools.zip \\\n    && unzip -q android-sdk-tools.zip -d ${ANDROID_HOME} \\\n    && rm -f android-sdk-tools.zip \\\n    && echo y | android update sdk --no-ui -a --filter tools,platform-tools,${ANDROID_SDK_EXTRAS},${ANDROID_SDK_API_LEVELS},build-tools-${ANDROID_SDK_BUILD_TOOLS_VERSION} --no-https\n\n# Install NinjaDroid\n\nENV NINJADROID_HOME=/opt/NinjaDroid\n\nRUN useradd -ms /bin/bash ninjadroid && \\\n    mkdir -p ${NINJADROID_HOME}\n\nCOPY requirements/ ${NINJADROID_HOME}/requirements/\nCOPY requirements.txt ${NINJADROID_HOME}\nCOPY ninjadroid.py ${NINJADROID_HOME}\nCOPY ninjadroid/ ${NINJADROID_HOME}/ninjadroid/\n\n#RUN pip3 install -r ${NINJADROID_HOME}/requirements/prod.txt \\\nRUN pip3 install --no-cache-dir -r ${NINJADROID_HOME}/requirements.txt \\\n    && ln -s ${ANDROID_HOME}/build-tools/${ANDROID_SDK_BUILD_TOOLS_VERSION}/aapt ${NINJADROID_HOME}/ninjadroid/aapt/aapt \\\n    && chmod a+x ${NINJADROID_HOME}/ninjadroid/aapt/aapt \\\n    && chmod a+x ${NINJADROID_HOME}/ninjadroid/apktool/apktool.jar \\\n    && chmod -R a+x ${NINJADROID_HOME}/ninjadroid/dex2jar/ \\\n    && mkdir -p /var/log/ninjadroid \\\n    && chgrp -R ninjadroid /var/log/ninjadroid \\\n    && chmod -R g+w /var/log/ninjadroid \\\n    && ln -s ${NINJADROID_HOME}/ninjadroid.py /usr/local/bin/ninjadroid\n\nUSER ninjadroid\nWORKDIR /home/ninjadroid\n\n# Run NinjaDroid\n\nCMD [\"ninjadroid\", \"-h\"]\n"
}