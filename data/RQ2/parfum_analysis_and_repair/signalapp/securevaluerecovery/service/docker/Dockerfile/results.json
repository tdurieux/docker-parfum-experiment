{
  "startTime": 1674219193576,
  "endTime": 1674219194398,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 7,
        "columnEnd": 111
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 7,
        "columnEnd": 125
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:bionic\n\nCOPY linux-sgx.gpg /tmp/docker/\n\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n               apt-transport-https \\\n               build-essential \\\n               curl \\\n               gpg-agent \\\n               libseccomp2 \\\n               libseccomp-dev \\\n               libssl-dev \\\n               pkg-config \\\n               protobuf-compiler \\\n               software-properties-common \\\n    && apt-key add /tmp/docker/linux-sgx.gpg \\\n    && apt-add-repository \"deb https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main\" \\\n    && apt-get install --no-install-recommends -y --download-only libsgx-enclave-common=2.7.101.3-bionic1 libsgx-enclave-common-dev=2.7.101.3-bionic1 \\\n    && dpkg --unpack /var/cache/apt/archives/libsgx-enclave-common_*.deb \\\n    && dpkg --install --ignore-depends=libsgx-enclave-common /var/cache/apt/archives/libsgx-enclave-common-dev_*.deb \\\n    && rm -rf /var/lib/apt/lists/*\n\nARG UID=0\nARG GID=0\n\n#Create a user to map the host user to.\nRUN    groupadd -o -g \"${GID}\" rust \\\n    && useradd -m -o -u \"${UID}\" -g \"${GID}\" -s /bin/bash rust \\\n    && chown -R rust.rust /tmp/docker\n\nUSER rust\nENV HOME /home/rust\nENV USER rust\nENV SHELL /bin/bash\n\nWORKDIR /home/rust\n\nARG TOOLCHAIN=1.40.0\n\nCOPY rustup-init.sha256 /tmp/docker/\n\nRUN    curl -f https://static.rust-lang.org/rustup/archive/1.20.2/x86_64-unknown-linux-gnu/rustup-init -o /tmp/rustup-init \\\n    && [ `sha256sum /tmp/rustup-init|cut -d' ' -f1` = `cut -d' ' -f1</tmp/docker/rustup-init.sha256` ] \\\n    && chmod a+x /tmp/rustup-init \\\n    && /tmp/rustup-init -y --profile minimal --component rustfmt --default-toolchain \"${TOOLCHAIN}\" \\\n    && rm -rf /tmp/rustup-init /tmp/docker\n\nARG SGX_SDK_VERSION=2.7.1\n\nCOPY linux-sgx.tar.gz.sha256 /tmp/docker/\n\nRUN curl -Lf \"https://github.com/intel/linux-sgx/archive/sgx_${SGX_SDK_VERSION}.tar.gz\" -o /tmp/linux-sgx.tar.gz \\\n    && [ `sha256sum /tmp/linux-sgx.tar.gz|cut -d' ' -f1` = `cut -d' ' -f1</tmp/docker/linux-sgx.tar.gz.sha256` ] \\\n    && tar -xzf /tmp/linux-sgx.tar.gz -C /tmp/ --wildcards \"linux-sgx-sgx_${SGX_SDK_VERSION}/common/inc/sgx*.h\" && rm /tmp/linux-sgx.tar.gz\n\nUSER root\nRUN cp \"/tmp/linux-sgx-sgx_${SGX_SDK_VERSION}\"/common/inc/sgx*.h /usr/include/\n\nUSER rust\nRUN rm -rf \"/tmp/linux-sgx-sgx_${SGX_SDK_VERSION}\" /tmp/linux-sgx.tar.gz\n\nENV PATH=\"/home/rust/.cargo/bin:${PATH}\"\n\nCMD [ \"/bin/bash\" ]\n"
}