{
  "startTime": 1674216127840,
  "endTime": 1674216128787,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 30
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 108
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 75
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 54
      }
    }
  ],
  "repairedDockerfile": "FROM osrf/ros:melodic-desktop\n\n# install pip\nRUN curl -f -O https://bootstrap.pypa.io/get-pip.py && python get-pip.py\nRUN rm get-pip.py\nRUN pip install --no-cache-dir --upgrade pip\n\n# Update package list\nRUN apt update\n\n# Install several useful packages\nRUN apt install --no-install-recommends -y python-catkin-tools python-catkin-lint && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y xterm git sudo build-essential && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y apt-utils curl nano cmake python ssh bash-completion iputils-ping && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y python-argcomplete && rm -rf /var/lib/apt/lists/*;\nRUN activate-global-python-argcomplete\n\n# install Chrome\nRUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub |  apt-key add -\nRUN echo 'deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main' |  tee /etc/apt/sources.list.d/google-chrome.list\nRUN apt update\nRUN apt install --no-install-recommends -y google-chrome-stable && rm -rf /var/lib/apt/lists/*;\n\n# install tensor flow\nRUN python2 -m pip install --ignore-installed --upgrade tensorflow==1.10.1\n\n# install h5 file reader\nRUN pip install --no-cache-dir h5py\n\n# install ros bridge server\nRUN apt install --no-install-recommends -y ros-melodic-rosbridge-server && rm -rf /var/lib/apt/lists/*;\n\n\n# Create roboticslanguage user and add it to sudoers\nRUN adduser --disabled-password --gecos \"\" ubuntu\nRUN echo 'ubuntu:me' | chpasswd\nRUN usermod -a -G sudo,dialout ubuntu\nRUN echo \"ubuntu ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers #ubuntu can always sudo without password\n\n\n# install colcon\nRUN sh -c 'echo \"deb http://packages.ros.org/ros/ubuntu `lsb_release -cs` main\" > /etc/apt/sources.list.d/ros-latest.list'\nRUN apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654\nRUN apt update\nRUN apt install --no-install-recommends -y python3-colcon-common-extensions && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y python3-pip && rm -rf /var/lib/apt/lists/*;\nRUN pip3 install --no-cache-dir setuptools\n\n# set default user when running the container\nUSER ubuntu\n\n# get aws examples\nRUN mkdir -p /home/ubuntu/environment/aws\n\nWORKDIR /home/ubuntu/environment/aws\n\nRUN git clone https://github.com/aws-robotics/aws-robomaker-small-house-world.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-bookstore-world.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-helloworld.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-open-source-rover.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-objecttracker.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-persondetection.git\nRUN git clone https://github.com/aws-robotics/utils-common.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-racetrack-world.git\nRUN git clone https://github.com/aws-robotics/aws-iot-bridge-example.git\nRUN git clone https://github.com/aws-robotics/utils-ros1.git\nRUN git clone https://github.com/aws-robotics/monitoringmessages-ros1.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-deepracer.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-simulation-ros-pkgs.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-cloudwatch.git\nRUN git clone https://github.com/aws-robotics/aws-robomaker-sample-application-voiceinteraction.git\n\nWORKDIR /home/ubuntu\n\n\n# make sure .bashrc loads ros\nRUN echo 'source /opt/ros/melodic/setup.bash' >> /home/ubuntu/.bashrc\n\n\nRUN echo '\"\\eOA\": history-search-backward\\n\"\\eOB\": history-search-forward\\n\"\\e[A\": history-search-backward\\n\"\\e[B\": history-search-forward\\n' > /home/ubuntu/.inputrc\n\nUSER root\n\n# install Robotics Language\nRUN echo \"Installing rol....\"\nRUN pip install --no-cache-dir --upgrade RoboticsLanguage\n\nUSER ubuntu\nWORKDIR /home/ubuntu\n\n# set the environment\nRUN rol --set-environment AWSRobomakerHelloWorld\n\nWORKDIR /home/ubuntu/environment\nRUN ln -s aws/aws-robomaker-sample-application-helloworld HelloWorld\n\nRUN echo 'ok'\nUSER root\n#\n\n\nRUN curl -f -sSL https://get.gazebosim.org | sh\n\n# RUN sudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" /etc/apt/sources.list.d/gazebo-stable.list'\n# RUN wget http://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\n#\n#\n# RUN sudo apt-get update\n#\n# RUN sudo apt-get install ros-melodic-gazebo9-*\n#\nUSER ubuntu\n"
}