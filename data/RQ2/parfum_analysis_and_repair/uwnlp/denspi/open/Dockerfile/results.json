{
  "startTime": 1674249572742,
  "endTime": 1674249574345,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 7,
        "columnEnd": 107
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 13,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 26,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 55
      }
    }
  ],
  "repairedDockerfile": "FROM nsml/ml:cuda9.0-cudnn7-tf-1.11torch1.0keras2.2\n\nRUN apt-get -qq update && apt-get -qq --no-install-recommends -y install curl bzip2 \\\n    && curl -f -sSL https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -o /tmp/miniconda.sh \\\n    && bash /tmp/miniconda.sh -bfp /usr/local \\\n    && rm -rf /tmp/miniconda.sh \\\n    && conda install -y python=3 \\\n    && conda update conda \\\n    && apt-get -qq -y remove curl bzip2 \\\n    && apt-get -qq -y autoremove \\\n    && apt-get autoclean \\\n    && rm -rf /var/lib/apt/lists/* /var/log/dpkg.log \\\n    && conda clean --all --yes\n\nRUN conda install faiss-cpu -c pytorch\nRUN conda install scipy\nRUN pip install --no-cache-dir tqdm six flask flask_cors tornado h5py\nRUN conda install -c cyclus java-jdk\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y git curl && rm -rf /var/lib/apt/lists/*;\nRUN git clone https://github.com/facebookresearch/DrQA.git\nRUN cd DrQA; pip install --no-cache-dir -r requirements.txt; python setup.py develop\n# RUN ./install_corenlp.sh"
}