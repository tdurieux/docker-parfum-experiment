{
  "startTime": 1674249289848,
  "endTime": 1674249291030,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 74
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# original dockerfile can be found at: https://github.com/dusty-nv/jetson-containers\n#\n# this dockerfile roughly follows the 'Installing from source' from:\n#   http://wiki.ros.org/noetic/Installation/Source\n#\nFROM tensorflow/tensorflow:1.15.5-gpu-py3\n\nARG ROS_PKG=desktop\nENV ROS_DISTRO=noetic\nENV ROS_ROOT=/opt/ros/${ROS_DISTRO}\nENV ROS_PYTHON_VERSION=3\n\nENV DEBIAN_FRONTEND=noninteractive\n\nWORKDIR /workspace\n\n# add the ROS deb repo to the apt sources list\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends \\\r\n        git cmake build-essential curl wget \\\r\n\t\tgnupg2 lsb-release ca-certificates \\\r\n    && rm -rf /var/lib/apt/lists/*\n\nRUN sh -c 'echo \"deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main\" > /etc/apt/sources.list.d/ros-latest.list'\nRUN curl -f -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | apt-key add -\n\n# install bootstrap dependencies\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends \\\r\n        libpython3-dev python3-rosdep python3-rosinstall-generator \\\r\n        python3-vcstool build-essential && \\\r\n    rosdep init && \\\r\n    rosdep update && \\\r\n    rm -rf /var/lib/apt/lists/*\n\nRUN ln -s /usr/lib/x86_64-linux-gnu/libboost_python3.a /usr/lib/x86_64-linux-gnu/libboost_python37.a\nRUN ln -s /usr/lib/x86_64-linux-gnu/libboost_python3.so /usr/lib/x86_64-linux-gnu/libboost_python37.so\n\n# download/build the ROS source\nRUN mkdir ros_catkin_ws && \\\r\n    cd ros_catkin_ws && \\\r\n    rosinstall_generator ${ROS_PKG} vision_msgs --rosdistro ${ROS_DISTRO} --deps --tar > ${ROS_DISTRO}-${ROS_PKG}.rosinstall && \\\r\n    mkdir src && \\\r\n    vcs import --input ${ROS_DISTRO}-${ROS_PKG}.rosinstall ./src && \\\r\n    apt-get update && \\\r\n    rosdep install --from-paths ./src --ignore-packages-from-source --rosdistro ${ROS_DISTRO} --skip-keys python3-pykdl -y && \\\r\n    python ./src/catkin/bin/catkin_make_isolated --install --install-space ${ROS_ROOT} -DCMAKE_BUILD_TYPE=Release && \\\r\n    rm -rf /var/lib/apt/lists/* && \\\r\n    rm -rf /workspace\n\n# setup entrypoint\nCOPY ros_entrypoint.sh /ros_entrypoint.sh\nRUN echo 'source /opt/ros/${ROS_DISTRO}/setup.bash' >> /root/.bashrc\nENTRYPOINT [\"/ros_entrypoint.sh\"]\nCMD [\"bash\"]\nWORKDIR /\n"
}