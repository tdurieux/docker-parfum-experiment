{
  "startTime": 1674249571642,
  "endTime": 1674249572377,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Generated by IBM TransformationAdvisor\n# Fri Jan 15 13:13:54 UTC 2021\n\n# This TA generated file doesn't work yet\n\nFROM adoptopenjdk/openjdk8-openj9 AS build-stage\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y maven unzip && rm -rf /var/lib/apt/lists/*;\n\nCOPY . /project\nWORKDIR /project\n\n#RUN mvn -X initialize process-resources verify => to get dependencies from maven\n#RUN mvn clean package\t\n#RUN mvn --version\n\n# Manually changed since TA didn't find the location of the 'main' pom\nWORKDIR /project/CustomerOrderServicesProject\nRUN mvn clean package\nWORKDIR /project\n\nRUN mkdir -p /config/apps && \\\n    mkdir -p /sharedlibs && \\\n    # Manually changed (not necessary when copying the TA generated file to the right location)\n    #cp ./src/main/liberty/config/server.xml /config && \\\n    cp ./server.transformation-advisor.xml /config/server.xml && \\\n    # Manually changed since TA didn't find the location of the target directory\n    #cp ./target/*.*ar /config/apps/ && \\\n    cp ./CustomerOrderServicesApp/target/*.*ar /config/apps/ && \\\n    if [ ! -z \"$(ls ./src/main/liberty/lib)\" ]; then \\\n        cp ./src/main/liberty/lib/* /sharedlibs; \\\n    fi\n    # Question: Where is server.env?\n    # Question: Where is jvm.options?\n\nFROM open-liberty:kernel-java8-openj9\n# Question: Why Open Liberty and not WebSphere Liberty?\n\nARG SSL=true\n\nARG MP_MONITORING=true\nARG HTTP_ENDPOINT=false\n\nRUN mkdir -p /opt/ol/wlp/usr/shared/config/lib/global\nCOPY --chown=1001:0 --from=build-stage /config/ /config/\nCOPY --chown=1001:0 --from=build-stage /sharedlibs/ /opt/ol/wlp/usr/shared/config/lib/global\n\nUSER root\nRUN configure.sh\nUSER 1001\n\n# Upgrade to production license if URL to JAR provided\nARG LICENSE_JAR_URL\nRUN \\\n   if [ $LICENSE_JAR_URL ]; then \\\n     wget $LICENSE_JAR_URL -O /tmp/license.jar \\\n     && java -jar /tmp/license.jar -acceptLicense /opt/ibm \\\n     && rm /tmp/license.jar; \\\n   fi\n"
}