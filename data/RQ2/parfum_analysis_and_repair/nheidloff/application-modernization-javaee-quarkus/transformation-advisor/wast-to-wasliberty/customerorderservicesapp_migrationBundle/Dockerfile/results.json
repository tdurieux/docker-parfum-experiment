{
  "startTime": 1674249571577,
  "endTime": 1674249572252,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Generated by IBM TransformationAdvisor\n# Fri Jan 15 13:13:54 UTC 2021\n\n\nFROM adoptopenjdk/openjdk8-openj9 AS build-stage\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y maven unzip && rm -rf /var/lib/apt/lists/*;\n\nCOPY . /project\nWORKDIR /project\n\n#RUN mvn -X initialize process-resources verify => to get dependencies from maven\n#RUN mvn clean package\t\n#RUN mvn --version\nRUN mvn clean package\n\nRUN mkdir -p /config/apps && \\\n    mkdir -p /sharedlibs && \\\n    cp ./src/main/liberty/config/server.xml /config && \\\n    cp ./target/*.*ar /config/apps/ && \\\n    if [ ! -z \"$(ls ./src/main/liberty/lib)\" ]; then \\\n        cp ./src/main/liberty/lib/* /sharedlibs; \\\n    fi\n\nFROM open-liberty:kernel-java8-openj9\n\nARG SSL=true\n\nARG MP_MONITORING=true\nARG HTTP_ENDPOINT=false\n\nRUN mkdir -p /opt/ol/wlp/usr/shared/config/lib/global\nCOPY --chown=1001:0 --from=build-stage /config/ /config/\nCOPY --chown=1001:0 --from=build-stage /sharedlibs/ /opt/ol/wlp/usr/shared/config/lib/global\n\nUSER root\nRUN configure.sh\nUSER 1001\n\n# Upgrade to production license if URL to JAR provided\nARG LICENSE_JAR_URL\nRUN \\\n   if [ $LICENSE_JAR_URL ]; then \\\n     wget $LICENSE_JAR_URL -O /tmp/license.jar \\\n     && java -jar /tmp/license.jar -acceptLicense /opt/ibm \\\n     && rm /tmp/license.jar; \\\n   fi\n"
}