{
  "startTime": 1674248237696,
  "endTime": 1674248238748,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 55,
        "columnStart": 5,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 59,
        "lineEnd": 60,
        "columnStart": 5,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 62,
        "columnStart": 5,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 63,
        "lineEnd": 64,
        "columnStart": 5,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 72,
        "columnStart": 5,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 75,
        "lineEnd": 76,
        "columnStart": 5,
        "columnEnd": 13
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 24,
        "columnStart": 22,
        "columnEnd": 16
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 7,
        "columnEnd": 35
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 44,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 51,
        "lineEnd": 55,
        "columnStart": 5,
        "columnEnd": 22
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 59,
        "lineEnd": 60,
        "columnStart": 5,
        "columnEnd": 22
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 61,
        "lineEnd": 62,
        "columnStart": 5,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 63,
        "lineEnd": 64,
        "columnStart": 5,
        "columnEnd": 19
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 72,
        "columnStart": 5,
        "columnEnd": 14
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 75,
        "lineEnd": 76,
        "columnStart": 5,
        "columnEnd": 13
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 59,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 63,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 75,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 13
      }
    }
  ],
  "repairedDockerfile": "#\n# Create a master Labtainer image for use in running Labtainers from a container\n# on any system that has Docker installed, withou having to install Labtainers.\n# Thanks for Olivier Berger for this contribution.\n#\n#FROM ubuntu:xenial\nFROM ubuntu:bionic\n\n# Do not exclude man pages & other documentation\nRUN rm /etc/dpkg/dpkg.cfg.d/excludes\n# Reinstall all currently installed packages in order to get the man pages back\nRUN apt-get update && \\\n    dpkg -l | grep ^ii | cut -d' ' -f3 | xargs apt-get install -y --reinstall && \\\n    rm -r /var/lib/apt/lists/*\n\n\nLABEL description=\"This is Docker image for the Labtainers master controller, stage 1\"\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    software-properties-common \\\n    man \\\n    manpages \\\n    manpages-dev && rm -rf /var/lib/apt/lists/*;\n\n#\nARG DOCKER_GROUP_ID\nRUN groupadd -g $DOCKER_GROUP_ID docker\nRUN apt-get install --no-install-recommends -y gpg-agent && rm -rf /var/lib/apt/lists/*;\n#\nRUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg >/tmp/gpg\nRUN cat /tmp/gpg | apt-key add -\n\n   #---sets up stable repository\n#RUN    apt-get update\nRUN    add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\"\n\n   #---installs Docker: Community Edition\n#RUN    apt-get update\nRUN apt-get -y --no-install-recommends install docker-ce && rm -rf /var/lib/apt/lists/*;\n\n\n# Set the locale\nRUN apt-get install -y --no-install-recommends \\\n    locales && rm -rf /var/lib/apt/lists/*;\nRUN locale-gen en_US.UTF-8 \nENV LANG en_US.UTF-8 \nENV LANGUAGE en_US:en \nENV LC_ALL en_US.UTF-8 \n\nRUN apt-get install -y --no-install-recommends \\\n    sudo \\\n    python3 \\\n    python3-pip \\\n    python3-setuptools && rm -rf /var/lib/apt/lists/*;\n\nRUN pip3 install --no-cache-dir netaddr parse python-dateutil docker\n#apt-get upgrade--fix-missing\nRUN apt-get install -y --no-install-recommends \\\n     x11-xserver-utils && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install -y --no-install-recommends \\\n     xterm && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install -y --no-install-recommends \\\n     gnome-terminal && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n     less \\\n     iputils-ping \\\n     wget \\\n     vim \\\n     mupdf \\\n     xdg-utils && rm -rf /var/lib/apt/lists/*;\n\n# For gnome-terminal\nRUN apt-get install -y --no-install-recommends \\\n     dbus-x11 && rm -rf /var/lib/apt/lists/*;\n\nRUN useradd -ms /bin/bash labtainer\nRUN echo \"labtainer:labtainer\" | chpasswd\nRUN adduser labtainer sudo\n\nRUN usermod -aG docker labtainer\nRUN newgrp docker\n\n#ensures that /var/run/docker.sock exists\nRUN touch /var/run/docker.sock\n\n#changes the ownership of /var/run/docker.sock\nRUN chown root:docker /var/run/docker.sock\n\nUSER labtainer\nWORKDIR /home/labtainer\n"
}