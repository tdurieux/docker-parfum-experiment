{
  "startTime": 1674250818141,
  "endTime": 1674250821366,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 450,
        "lineEnd": 450,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 460,
        "lineEnd": 460,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 470,
        "lineEnd": 470,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 485,
        "lineEnd": 485,
        "columnStart": 4,
        "columnEnd": 108
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 501,
        "lineEnd": 501,
        "columnStart": 4,
        "columnEnd": 108
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 517,
        "lineEnd": 517,
        "columnStart": 4,
        "columnEnd": 108
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 574,
        "lineEnd": 574,
        "columnStart": 4,
        "columnEnd": 105
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 588,
        "lineEnd": 588,
        "columnStart": 4,
        "columnEnd": 105
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 602,
        "lineEnd": 602,
        "columnStart": 4,
        "columnEnd": 105
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 409,
        "lineEnd": 417,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 421,
        "lineEnd": 429,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 433,
        "lineEnd": 441,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 181,
        "lineEnd": 185,
        "columnStart": 3,
        "columnEnd": 21
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 233,
        "lineEnd": 237,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 8,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 14,
        "lineEnd": 86,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 116,
        "lineEnd": 116,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 163,
        "lineEnd": 163,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 281,
        "lineEnd": 281,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 317,
        "lineEnd": 317,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 355,
        "lineEnd": 355,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 451,
        "lineEnd": 451,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 461,
        "lineEnd": 461,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 471,
        "lineEnd": 471,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 486,
        "lineEnd": 486,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 502,
        "lineEnd": 502,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 518,
        "lineEnd": 518,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 575,
        "lineEnd": 575,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 589,
        "lineEnd": 589,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 603,
        "lineEnd": 603,
        "columnStart": 4,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:6\n\nRUN yum install deltarpm -y && \\\n    yum update -y && \\\n    # glibc requirements\n        yum groupinstall -y \"Development tools\" && \\\n    yum install -y \\\n        # cmake3 requirements\n            epel-release && \\\n    # yum install -y \\\n    #     # PySide2 requirement\n    #         cmake3 && \\\n    yum install -y \\\n        # glibc requirements\n        glibc-devel.i686 glibc-i686 sudo \\\n\n        # Qt5 requirements\n            # http://doc.qt.io/qt-5/linux-requirements.html\n                libXrender* libxcb* xcb* fontconfig* freetype* libXi* libXext* libX11* libSM* libICE* libglib* libpthread* gstreamer* \\\n            # https://wiki.qt.io/Building_Qt_5_from_Git\n                # Build essentials\n                    perl-version \\\n                # Libxcb\n                    libxcb libxcb-devel xcb-util xcb-util-devel xcb-util-*-devel libX11-devel libXrender-devel libXi-devel \\\n                # Accessibility\n                    at-spi2-core-devel \\\n                    libdbus* \\\n                # QtWebkit\n                    flex bison gperf libicu-devel libxslt-devel ruby \\\n                # QtMultimedia\n                    alsa-lib alsa-lib-devel gstreamer gstreamer-devel gstreamer-plugins-base gstreamer-plugins-base-devel \\\n                # libICU\n                    libicu-devel \\\n        # QtQuick requirements; OpenGL\n        # https://access.redhat.com/solutions/56301\n            mesa-libGL mesa-libGL-devel \\\n        # QtWebEngine requirements (disabled because of error during make)\n            # http://doc.qt.io/qt-5/qtwebengine-platform-notes.html\n                # bison* flex* gperf* \\\n                # python2-pkgconfig \\\n                    # dbus dbus-devel \\\n                    # fontconfig-devel \\\n                # libxcb* \\\n                    # libdrm* \\\n                    # libXcomposite-devel \\\n                    # libXcursor-devel \\\n                    # libXi libXi-devel \\\n                    # libXrandr-devel \\\n                    # libXScrnSaver-devel \\\n                    # libXtst-devel \\\n                # Note: khr package ???\n                # libcap* \\\n            # https://wiki.qt.io/How_to_Try_QtWebEngine\n                # gyp ninja-build \\\n                # mesa-libEGL-devel libgcrypt-devel libgcrypt pciutils-devel nss-devel libXtst-devel gperf \\\n                # cups-devel pulseaudio-libs-devel libgudev1-devel systemd-devel libcap-devel alsa-lib-devel flex bison ruby \\\n                # ninja requirements (used by QtWebEngine)\n                    # re2c \\\n            # https://wiki.qt.io/Building_Qt_5_from_Git\n                # libgcrypt-devel libgcrypt pciutils-devel nss-devel libXtst-devel gperf cups-devel pulseaudio-libs-devel libgudev1-devel systemd-devel libcap-devel alsa-lib-devel flex bison ruby gcc-c++ dbus libXrandr-devel libXcomposite-devel libXcursor-devel dbus-devel fontconfig-devel \\\n        # Python requirements\n            zlib-devel openssl-devel sqlite-devel bzip2-devel readline-devel tk-devel \\\n            valgrind-devel \\\n        # PySide2 requirements\n            # https://wiki.qt.io/PySide2_GettingStarted\n                libxslt libxml2 libxml2-devel libxslt-devel cmake3 openssl* \\\n        # PySide\n            # cmake gcc gcc-c++ make python-devel python-pip \\\n            libxml2-devel libxslt-devel rpmdevtools \\\n        # Xvfb etc\n            Xvfb \\\n            xorg-x11-server-Xvfb \\\n            mesa-dri-drivers \\\n            libxkbcommon \\\n            libxkbcommon-devel \\\n            libxkbcommon-x11 \\\n            libxkbcommon-x11-devel \\\n        # Git\n            # gcc \\\n            curl-devel expat-devel gettext-devel openssl-devel zlib-devel \\\n            perl-ExtUtils-MakeMaker \\\n        # dbus\n        dbus \\\n        # general\n        xz wget \\\n        && \\\n    yum clean all && rm -rf /var/cache/yum\n\n# Parallel build processes (set to cores +1)\nENV BUILD_THREADS=17\n\nWORKDIR /workdir\n\n\n# # glibc (disabled since CentOS 6 comes with glibc 2.12 already)\n# # https://github.com/FezVrasta/ark-server-tools/wiki/Install-of-required-versions-of-glibc-and-gcc-on-RHEL-CentOS\n# ENV GLIBC_VER=2.12.2\n# RUN wget http://ftp.gnu.org/gnu/glibc/glibc-${GLIBC_VER}.tar.gz && \\\n#     tar -xvzf glibc-${GLIBC_VER}.tar.gz && \\\n#     cd glibc-${GLIBC_VER} && \\\n#     mkdir glibc-build && \\\n#     cd glibc-build && \\\n#     ../configure --prefix='/usr' && \\\n#     make -j ${BUILD_THREADS} && \\\n#     sudo make install && \\\n#     cd .. && rm -rf glibc-${GLIBC_VER} && rm -f *.tar.gz\n\n\n# Gcc\n# https://github.com/FezVrasta/ark-server-tools/wiki/Install-of-required-versions-of-glibc-and-gcc-on-RHEL-CentOS\n# https://gcc.gnu.org/install/configure.html\nENV GCC_VER=4.8.3\nRUN \\\n    wget ftp://ftp.gnu.org/pub/gnu/gcc/gcc-${GCC_VER}/gcc-${GCC_VER}.tar.bz2 && \\\n    tar xvfj gcc-${GCC_VER}.tar.bz2 && \\\n    cd gcc-${GCC_VER} && \\\n    ./contrib/download_prerequisites && \\\n    mkdir objdir && \\\n    cd objdir && \\\n    ../configure --prefix=/usr/local/gcc-${GCC_VER} --enable-languages=c,c++ && \\\n    make -j ${BUILD_THREADS} && \\\n    make install && \\\n    mv /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6.bak && \\\n    mv /usr/local/gcc-${GCC_VER}/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6 && \\\n    mv /usr/local/gcc-${GCC_VER}/lib64/libstdc++.so.6.0.19 /usr/lib64/libstdc++.so.6.0.19 && \\\n    rm -rf /workdir/* && rm gcc-${GCC_VER}.tar.bz2\nENV PATH=\"/usr/local/gcc-${GCC_VER}/bin:${PATH}\"\nENV CC=/usr/local/gcc-${GCC_VER}/bin/gcc\nENV CXX=/usr/local/gcc-${GCC_VER}/bin/g++\n\n\n# # Check gcc version\n# RUN gcc --version\n# # Check glibc\n# RUN ldd --version\n\n\n# Cmake3\n# https://cmake.org/install/\n# https://cmake.org/files/\nENV CMAKE_VER=3.5.2\nRUN \\\n    wget https://cmake.org/files/v3.5/cmake-${CMAKE_VER}.tar.gz && \\\n    tar xzf cmake-${CMAKE_VER}.tar.gz && \\\n    cd cmake-${CMAKE_VER} && \\\n    ./bootstrap && \\\n    make && \\\n    make install && \\\n    rm -rf /workdir/* && rm cmake-${CMAKE_VER}.tar.gz\n\n\n# # Check cmake version\n# RUN cmake --version\n\n\n# Git 2.14 with \"git clone --jobs\" functionality and \"git checkout --recurse-submodules\"\n# https://tecadmin.net/install-git-2-0-on-centos-rhel-fedora/\n# https://stackoverflow.com/a/44249558/2448495\nENV GIT_VER=2.14.1\nRUN \\\n    wget https://www.kernel.org/pub/software/scm/git/git-${GIT_VER}.tar.gz && \\\n    tar xzf git-${GIT_VER}.tar.gz && \\\n    cd git-${GIT_VER} && \\\n    make -j${BUILD_THREADS} prefix=/usr/local/git all && \\\n    make prefix=/usr/local/git install && \\\n    rm -rf /workdir/* && rm git-${GIT_VER}.tar.gz\nENV PATH=\"/usr/local/git/bin:${PATH}\"\n\n\n# Qt 4.8\n# http://doc.qt.io/qt-4.8/requirements-x11.html\n# Commits: http://code.qt.io/cgit/qt/qt.git/log/\nENV QT4_VER=4.8\nENV QT4_GIT_COMMIT=0a2f2382541424726168804be2c90b91381608c6\nRUN \\\n    git clone --recursive --jobs ${BUILD_THREADS} --branch ${QT4_VER} https://code.qt.io/qt/qt.git && \\\n    cd qt && \\\n    git checkout ${QT4_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n   ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n        -opensource \\\n        -confirm-license \\\n        -nomake examples \\\n        -nomake tests && \\\n    make -j${BUILD_THREADS} && \\\n    # Install\n    make install && \\\n    # Clean up\n    rm -rf /workdir/*\n\n\n# Qt 5.6.1, Autodesk-modified (cannot be newer than PySide2 commit SHA)\n# Qt5 5.6 git commits: http://code.qt.io/cgit/qt/qt5.git/log/?h=5.6\n# Autodesk qtbase git commits: https://github.com/autodesk-forks/qtbase/commits/adsk-contrib/vfx/5.6.1\n# Autodesk qtx11extras git commits: https://github.com/autodesk-forks/qtx11extras/commits/adsk-contrib/vfx/5.6.1\n# ---\n# Commits:\n# Qt5: http://code.qt.io/cgit/qt/qt5.git/commit/?h=v5.6.1&id=adf7bcc0b1785c451b06f13c049e5b946b393705\n# Adsk qtbase: https://github.com/autodesk-forks/qtbase/commit/72e3fbb0d27e5d91b1676312ab6a7f6a979ed4e7\n# Adsk qtx11extras: https://github.com/autodesk-forks/qtx11extras/commit/d86b59059f0340f3707dad008a8f632b070de4e6\nENV QT5_VER=5.6.1\nENV QT5_GIT_COMMIT=adf7bcc0b1785c451b06f13c049e5b946b393705\nENV ADSK_QTBASE_GIT_COMMIT=72e3fbb0d27e5d91b1676312ab6a7f6a979ed4e7\nENV ADSK_QTX11EXTRAS_GIT_COMMIT=d86b59059f0340f3707dad008a8f632b070de4e6\nRUN \\\n    git clone --recursive --jobs ${BUILD_THREADS} --branch ${QT5_VER} https://code.qt.io/qt/qt5.git && \\\n    # Revert to commit SHA\n    cd /workdir/qt5 && \\\n    git checkout ${QT5_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n    # Remove qtbase, qtx11extras\n    cd /workdir && \\\n    rm -rf /workdir/qt5/qtbase && \\\n    rm -rf /workdir/qt5/qtx11extras && \\\n    # Clone Autodesk's qtbase, qtx11extras\n    cd /workdir && \\\n    mkdir -p /workdir/adsk && \\\n    git clone --recursive --branch adsk-contrib/vfx/${QT5_VER} https://github.com/autodesk-forks/qtbase.git /workdir/adsk/qtbase && \\\n    git clone --recursive --branch adsk-contrib/vfx/${QT5_VER} https://github.com/autodesk-forks/qtx11extras.git /workdir/adsk/qtx11extras && \\\n    # Revert to commit SHA for qtbase\n    cd /workdir/adsk/qtbase && \\\n    git checkout ${ADSK_QTBASE_GIT_COMMIT} && \\\n    # Revert to commit SHA for qtx11extras\n    cd /workdir/adsk/qtx11extras && \\\n    git checkout ${ADSK_QTX11EXTRAS_GIT_COMMIT} && \\\n    # Move Autodesk sources into qt5\n    mv /workdir/adsk/qtbase /workdir/qt5 && \\\n    mv /workdir/adsk/qtx11extras /workdir/qt5 && \\\n    # Build\n    cd /workdir/qt5 && \\\n    # ./configure -help && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n        -opensource \\\n        -confirm-license \\\n        -nomake examples \\\n        -nomake tests && \\\n    make -j${BUILD_THREADS} && \\\n    # Install\n    make install && \\\n    # Clean up\n    rm -rf /workdir/*\n\n\n# Qt5 Creator (cannot be newer than PySide2 commit SHA)\n# https://wiki.qt.io/Building_Qt_Creator_from_Git\n# Required for PySide2.QtUiTools\n# qt-creator git commits: http://code.qt.io/cgit/qt-creator/qt-creator.git/log/?h=4.0\n# Commit: http://code.qt.io/cgit/qt-creator/qt-creator.git/commit/?h=v4.0.2&id=47b4f2c73834dd971a5ce418368b5d991d08a666\nENV QT5CREATOR_VER=4.0\nENV QT5CREATOR_GIT_COMMIT=47b4f2c73834dd971a5ce418368b5d991d08a666\nRUN \\\n    git clone --recursive --branch ${QT5CREATOR_VER} --jobs ${BUILD_THREADS} https://code.qt.io/qt-creator/qt-creator.git && \\\n    cd /workdir/qt-creator && \\\n    git checkout ${QT5CREATOR_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n    mkdir /workdir/qt-creator-build && \\\n    cd /workdir/qt-creator-build && \\\n    /usr/local/Qt-${QT5_VER}/bin/qmake -r /workdir/qt-creator/qtcreator.pro && \\\n    make -j${BUILD_THREADS} && \\\n    make install INSTALL_ROOT=/usr/local/qtcreator && \\\n    rm -rf /workdir/*\n\n\n# Python\n# Notes:\n#     https://danieleriksson.net/2017/02/08/how-to-install-latest-python-on-centos/\n#     http://blog.dscpl.com.au/2015/06/installing-custom-python-version-into.html\n#     https://stackoverflow.com/questions/37345044/issue-with-installing-python-2-7-8-alongside-2-7-5-on-rhel-7-2\n#\nENV PYTHON27_VER_FULL=2.7.11\nENV PYTHON27_VER=2.7\nENV PYTHON34_VER_FULL=3.4.5\nENV PYTHON34_VER=3.4\nENV PYTHON35_VER_FULL=3.5.1\nENV PYTHON35_VER=3.5\nRUN \\\n\n    mkdir -p /usr/local/python${PYTHON27_VER}/lib && \\\n    wget https://www.python.org/ftp/python/${PYTHON27_VER_FULL}/Python-${PYTHON27_VER_FULL}.tgz && \\\n    tar xzf Python-${PYTHON27_VER_FULL}.tgz && \\\n    cd Python-${PYTHON27_VER_FULL} && \\\n    # Get the configure arguments from an already existing CentOS 7-installation:\n    # $ python\n    # >>> from distutils.sysconfig import get_config_var\n    # >>> print get_config_var('CONFIG_ARGS')\n    ./configure \\\n        --prefix=/usr/local/python${PYTHON27_VER} \\\n        --enable-shared \\\n        --enable-unicode=ucs4 \\\n        LDFLAGS=\"-Wl,-rpath /usr/local/python${PYTHON27_VER}/lib\" \\\n\n        --build=x86_64-redhat-linux-gnu \\\n        --host=x86_64-redhat-linux-gnu \\\n        --enable-ipv6 \\\n        --with-dbmliborder=gdbm:ndbm:bdb \\\n        --with-system-expat \\\n        --with-system-ffi \\\n        --with-valgrind \\\n        build_alias=x86_64-redhat-linux-gnu \\\n        host_alias=x86_64-redhat-linux-gnu \\\n        CC=gcc \\\n        CFLAGS=\"-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv\" \\\n        CPPFLAGS=\"-I/usr/lib64/libffi-3.0.5/include\" && \\\n    make -j${BUILD_THREADS} && \\\n    make altinstall && \\\n    cd /workdir && \\\n    wget https://bootstrap.pypa.io/get-pip.py && \\\n    /usr/local/python${PYTHON27_VER}/bin/python${PYTHON27_VER} get-pip.py && \\\n    /usr/local/python${PYTHON27_VER}/bin/pip${PYTHON27_VER} install -U pip && \\\n    rm -rf /workdir/* && \\\n\n    # Python 3.4\n    cd /workdir && \\\n    mkdir -p /usr/local/python${PYTHON34_VER}/lib && \\\n    wget https://www.python.org/ftp/python/${PYTHON34_VER_FULL}/Python-${PYTHON34_VER_FULL}.tgz && \\\n    tar xzf Python-${PYTHON34_VER_FULL}.tgz && \\\n    cd Python-${PYTHON34_VER_FULL} && \\\n    # Get the configure arguments from an already existing CentOS 7-installation:\n    # $ python\n    # >>> from distutils.sysconfig import get_config_var\n    # >>> print(get_config_var('CONFIG_ARGS'))\n    ./configure \\\n        --prefix=/usr/local/python${PYTHON34_VER} \\\n        --enable-shared \\\n        LDFLAGS=\"-Wl,-rpath /usr/local/python${PYTHON34_VER}/lib\" \\\n\n        --build=x86_64-redhat-linux-gnu \\\n        --host=x86_64-redhat-linux-gnu \\\n        --enable-ipv6 \\\n        --with-computed-gotos=yes \\\n        --with-dbmliborder=gdbm:ndbm:bdb \\\n        --with-system-expat \\\n        --with-system-ffi \\\n        --with-valgrind \\\n        --without-ensurepip \\\n        build_alias=x86_64-redhat-linux-gnu \\\n        host_alias=x86_64-redhat-linux-gnu \\\n        CC=gcc \\\n        CFLAGS=\"-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv\" \\\n        CPPFLAGS=\"-I/usr/lib64/libffi-3.0.5/include\" \\\n        PKG_CONFIG_PATH=\":/usr/lib64/pkgconfig:/usr/share/pkgconfig\" && \\\n    make -j${BUILD_THREADS} && \\\n    make altinstall && \\\n    cd /workdir && \\\n    wget https://bootstrap.pypa.io/get-pip.py && \\\n    /usr/local/python${PYTHON34_VER}/bin/python${PYTHON34_VER} get-pip.py && \\\n    /usr/local/python${PYTHON34_VER}/bin/pip${PYTHON34_VER} install -U pip && \\\n    rm -rf /workdir/* && \\\n\n    # Python 3.5\n    cd /workdir && \\\n    mkdir -p /usr/local/python${PYTHON35_VER}/lib && \\\n    wget https://www.python.org/ftp/python/${PYTHON35_VER_FULL}/Python-${PYTHON35_VER_FULL}.tgz && \\\n    tar xzf Python-${PYTHON35_VER_FULL}.tgz && \\\n    cd Python-${PYTHON35_VER_FULL} && \\\n    # Get the configure arguments from an already existing CentOS 7-installation:\n    # $ python\n    # >>> from distutils.sysconfig import get_config_var\n    # >>> print(get_config_var('CONFIG_ARGS'))\n    ./configure \\\n        --prefix=/usr/local/python${PYTHON35_VER} \\\n        --enable-shared \\\n        LDFLAGS=\"-Wl,-rpath /usr/local/python${PYTHON35_VER}/lib\" \\\n\n        --build=x86_64-redhat-linux-gnu \\\n        --host=x86_64-redhat-linux-gnu \\\n        --enable-ipv6 \\\n        --with-computed-gotos=yes \\\n        --with-dbmliborder=gdbm:ndbm:bdb \\\n        --with-system-expat \\\n        --with-system-ffi \\\n        --with-valgrind \\\n        --without-ensurepip \\\n        build_alias=x86_64-redhat-linux-gnu \\\n        host_alias=x86_64-redhat-linux-gnu \\\n        CC=gcc \\\n        CFLAGS=\"-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv\" \\\n        CPPFLAGS=\"-I/usr/lib64/libffi-3.0.5/include\" \\\n        PKG_CONFIG_PATH=\":/usr/lib64/pkgconfig:/usr/share/pkgconfig\" && \\\n    make -j${BUILD_THREADS} && \\\n    make altinstall && \\\n    cd /workdir && \\\n    wget https://bootstrap.pypa.io/get-pip.py && \\\n    /usr/local/python${PYTHON35_VER}/bin/python${PYTHON35_VER} get-pip.py && \\\n    /usr/local/python${PYTHON35_VER}/bin/pip${PYTHON35_VER} install -U pip && \\\n    rm -rf /workdir/* && rm Python-${PYTHON27_VER_FULL}.tgz\n\n\n# Register Python as default (without replacing system-python and without breaking e.g. yum)\nRUN \\\n    # Python 2.7\n    ln -s /usr/local/python${PYTHON27_VER}/bin/python${PYTHON27_VER} /usr/local/bin/python && \\\n    ln -s /usr/local/python${PYTHON27_VER}/bin/python${PYTHON27_VER} /usr/local/bin/python${PYTHON27_VER} && \\\n    ln -s /usr/local/python${PYTHON27_VER}/bin/pip${PYTHON27_VER} /usr/local/bin/pip && \\\n    ln -s /usr/local/python${PYTHON27_VER}/bin/pip${PYTHON27_VER} /usr/local/bin/pip${PYTHON27_VER} && \\\n    # Python 3.4\n    ln -s /usr/local/python${PYTHON34_VER}/bin/python${PYTHON34_VER} /usr/local/bin/python${PYTHON34_VER} && \\\n    ln -s /usr/local/python${PYTHON34_VER}/bin/pip${PYTHON34_VER} /usr/local/bin/pip${PYTHON34_VER} && \\\n    # Python 3.5\n    ln -s /usr/local/python${PYTHON35_VER}/bin/python${PYTHON35_VER} /usr/local/bin/python${PYTHON35_VER} && \\\n    ln -s /usr/local/python${PYTHON35_VER}/bin/pip${PYTHON35_VER} /usr/local/bin/pip${PYTHON35_VER}\nENV PATH=\"/usr/local/bin:${PATH}\"\n\n\n# Pip packages\nRUN \\\n\n    pip${PYTHON27_VER} install --no-cache-dir -U \\\n        # Qt.py testing (nosepipe etc)\n        nose \\\n        nosepipe \\\n        six \\\n        packaging \\\n        # General build\n        setuptools \\\n        wheel && \\\n    ln -s /usr/local/python${PYTHON27_VER}/bin/nosetests /usr/local/bin/nosetests${PYTHON27_VER} && \\\n\n    # Python 3.4\n    pip${PYTHON34_VER} install --no-cache-dir -U \\\n        # Qt.py testing (nosepipe etc)\n        nose \\\n        nosepipe \\\n        six \\\n        packaging \\\n        # General build\n        setuptools \\\n        wheel && \\\n    ln -s /usr/local/python${PYTHON34_VER}/bin/nosetests /usr/local/bin/nosetests${PYTHON34_VER} && \\\n\n    # Python 3.5\n    pip${PYTHON35_VER} install --no-cache-dir -U \\\n        # Qt.py testing (nosepipe etc)\n        nose \\\n        nosepipe \\\n        six \\\n        packaging \\\n        # General build\n        setuptools \\\n        wheel && \\\n    ln -s /usr/local/python${PYTHON35_VER}/bin/nosetests /usr/local/bin/nosetests${PYTHON35_VER}\n\n\n# Sip (for PyQt4 and PyQt5)\n# http://pyqt.sourceforge.net/Docs/sip4/\nENV SIP_VER=4.18.1\nRUN \\\n\n    wget https://sourceforge.net/projects/pyqt/files/sip/sip-${SIP_VER}/sip-${SIP_VER}.tar.gz && \\\n    tar -xvf sip-${SIP_VER}.tar.gz && \\\n    cd sip-${SIP_VER} && \\\n    python${PYTHON27_VER} configure.py && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && \\\n\n    # Python 3.4\n    cd /workdir && \\\n    wget https://sourceforge.net/projects/pyqt/files/sip/sip-${SIP_VER}/sip-${SIP_VER}.tar.gz && \\\n    tar -xvf sip-${SIP_VER}.tar.gz && \\\n    cd sip-${SIP_VER} && \\\n    python${PYTHON34_VER} configure.py && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && \\\n\n    # Python 3.5\n    cd /workdir && \\\n    wget https://sourceforge.net/projects/pyqt/files/sip/sip-${SIP_VER}/sip-${SIP_VER}.tar.gz && \\\n    tar -xvf sip-${SIP_VER}.tar.gz && \\\n    cd sip-${SIP_VER} && \\\n    python${PYTHON35_VER} configure.py && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && rm sip-${SIP_VER}.tar.gz\n\n\n# PyQt4\n# The version of PyQt4 must be compatible with the SIP version used to build PyQt5\n# http://pyqt.sourceforge.net/Docs/PyQt4/installation.html\nENV PYQT4_VER=4.11.4\nRUN \\\n\n    wget https://sourceforge.net/projects/pyqt/files/PyQt4/PyQt-${PYQT4_VER}/PyQt-x11-gpl-${PYQT4_VER}.tar.gz && \\\n    tar -xvf PyQt-x11-gpl-${PYQT4_VER}.tar.gz && \\\n    cd PyQt-x11-gpl-${PYQT4_VER} && \\\n    # python${PYTHON27_VER} configure-ng.py \\\n    python${PYTHON27_VER} configure.py \\\n        # --verbose \\\n        --confirm-license \\\n        # --qmake=/usr/bin/qmake-qt4 \\\n        --qmake=/usr/local/Trolltech/Qt-4.8.7/bin/qmake && \\\n            # --sip=/usr/local/python${PYTHON27_VER}/bin/sip && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && \\\n\n    # PyQt4 for Python 3.4\n    cd /workdir && \\\n    wget https://sourceforge.net/projects/pyqt/files/PyQt4/PyQt-${PYQT4_VER}/PyQt-x11-gpl-${PYQT4_VER}.tar.gz && \\\n    tar -xvf PyQt-x11-gpl-${PYQT4_VER}.tar.gz && \\\n    cd PyQt-x11-gpl-${PYQT4_VER} && \\\n    # python${PYTHON34_VER} configure-ng.py \\\n    python${PYTHON34_VER} configure.py \\\n        # --verbose \\\n        --confirm-license \\\n        # --qmake=/usr/bin/qmake-qt4 \\\n        --qmake=/usr/local/Trolltech/Qt-4.8.7/bin/qmake && \\\n            # --sip=/usr/local/python${PYTHON27_VER}/bin/sip && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && \\\n\n    # PyQt4 for Python 3.5\n    cd /workdir && \\\n    wget https://sourceforge.net/projects/pyqt/files/PyQt4/PyQt-${PYQT4_VER}/PyQt-x11-gpl-${PYQT4_VER}.tar.gz && \\\n    tar -xvf PyQt-x11-gpl-${PYQT4_VER}.tar.gz && \\\n    cd PyQt-x11-gpl-${PYQT4_VER} && \\\n    # python${PYTHON35_VER} configure-ng.py \\\n    python${PYTHON35_VER} configure.py \\\n        # --verbose \\\n        --confirm-license \\\n        # --qmake=/usr/bin/qmake-qt4 \\\n        --qmake=/usr/local/Trolltech/Qt-4.8.7/bin/qmake && \\\n            # --sip=/usr/local/python${PYTHON27_VER}/bin/sip && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && rm PyQt-x11-gpl-${PYQT4_VER}.tar.gz\n\n\n# PySide\n# Note: requires cmake3\n# http://pyside.readthedocs.io/en/latest/building/options.html\n# PySide commits: https://github.com/pyside/pyside-setup/commits/master\n# Commit: https://github.com/pyside/pyside-setup/commit/7860bda363438e96fa9e810def0858635a9766cc\nENV PYSIDE_GIT_COMMIT=7860bda363438e96fa9e810def0858635a9766cc\nRUN \\\n    # PySide for Python 2\n    git clone --recursive --jobs ${BUILD_THREADS} https://github.com/fredrikaverpil/pyside-setup.git && \\\n    cd pyside-setup && \\\n    git checkout ${PYSIDE_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n    python${PYTHON27_VER} setup.py \\\n        install \\\n            --qmake=/usr/local/Trolltech/Qt-4.8.7/bin/qmake \\\n            --cmake=/usr/local/bin/cmake \\\n            --openssl=/usr/bin/openssl \\\n            --jobs=${BUILD_THREADS} && \\\n    rm -rf /workdir/* && \\\n\n    # PySide for Python 3.4\n    cd /workdir && \\\n    git clone --recursive --jobs ${BUILD_THREADS} https://github.com/fredrikaverpil/pyside-setup.git && \\\n    cd pyside-setup && \\\n    git checkout ${PYSIDE_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n    python${PYTHON34_VER} setup.py \\\n        install \\\n            --qmake=/usr/local/Trolltech/Qt-4.8.7/bin/qmake \\\n            --cmake=/usr/local/bin/cmake \\\n            --openssl=/usr/bin/openssl \\\n            --jobs=${BUILD_THREADS} && \\\n    rm -rf /workdir/*\n# Ugly fix to make PySide find the Qt4 libs\nENV LD_LIBRARY_PATH=\"/usr/local/Trolltech/Qt-4.8.7/lib:${LD_LIBRARY_PATH}\"\n\n\n# PyQt5\n# http://pyqt.sourceforge.net/Docs/PyQt5/installation.html#building-and-installing-from-source\nENV PYQT5_VER=5.6\nRUN \\\n\n    wget https://sourceforge.net/projects/pyqt/files/PyQt5/PyQt-${PYQT5_VER}/PyQt5_gpl-${PYQT5_VER}.tar.gz && \\\n    tar -xvf PyQt5_gpl-${PYQT5_VER}.tar.gz && \\\n    cd PyQt5_gpl-${PYQT5_VER} && \\\n    python${PYTHON27_VER} configure.py \\\n        # --verbose \\\n        --confirm-license \\\n        --qmake=/usr/local/Qt-${QT5_VER}/bin/qmake \\\n        --sip=/usr/local/python${PYTHON27_VER}/bin/sip && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && \\\n\n    # PyQt5 for Python 3.4\n    cd /workdir && \\\n    wget https://sourceforge.net/projects/pyqt/files/PyQt5/PyQt-${PYQT5_VER}/PyQt5_gpl-${PYQT5_VER}.tar.gz && \\\n    tar -xvf PyQt5_gpl-${PYQT5_VER}.tar.gz && \\\n    cd PyQt5_gpl-${PYQT5_VER} && \\\n    python${PYTHON34_VER} configure.py \\\n        # --verbose \\\n        --confirm-license \\\n        --qmake=/usr/local/Qt-${QT5_VER}/bin/qmake \\\n        --sip=/usr/local/python${PYTHON34_VER}/bin/sip && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && \\\n\n    # PyQt5 for Python 3.5\n    cd /workdir && \\\n    wget https://sourceforge.net/projects/pyqt/files/PyQt5/PyQt-${PYQT5_VER}/PyQt5_gpl-${PYQT5_VER}.tar.gz && \\\n    tar -xvf PyQt5_gpl-${PYQT5_VER}.tar.gz && \\\n    cd PyQt5_gpl-${PYQT5_VER} && \\\n    python${PYTHON35_VER} configure.py \\\n        # --verbose \\\n        --confirm-license \\\n        --qmake=/usr/local/Qt-${QT5_VER}/bin/qmake \\\n        --sip=/usr/local/python${PYTHON35_VER}/bin/sip && \\\n    make -j${BUILD_THREADS} && \\\n    make install && \\\n    rm -rf /workdir/* && rm PyQt5_gpl-${PYQT5_VER}.tar.gz\n\n\n# PySide2 (has no maintained semantic versioning)\n# PySide2 5.6 git commits: https://codereview.qt-project.org/gitweb?p=pyside/pyside-setup.git;a=shortlog;h=refs/heads/5.6\n# PySide2: https://codereview.qt-project.org/gitweb?p=pyside/pyside-setup.git;a=commit;h=8913156381b7dc51f903b9e459c143fb25097cab\nENV PYSIDE2_GIT_BRANCH=5.6\nENV PYSIDE2_GIT_COMMIT=8913156381b7dc51f903b9e459c143fb25097cab\nRUN \\\n    # PySide2 for Python 2\n    git clone --recursive --jobs ${BUILD_THREADS} --branch ${PYSIDE2_GIT_BRANCH} https://codereview.qt-project.org/pyside/pyside-setup && \\\n    cd pyside-setup && \\\n    git checkout ${PYSIDE2_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n\n    # Fix bug in order to build PySide2.QtUiTools: https://bugreports.qt.io/browse/PYSIDE-552\n    # sed -i.bak $'s/if(Qt5Designer_FOUND)/find_package(Qt5Designer)\\\\\\nif(Qt5Designer_FOUND)/g' sources/pyside2/CMakeLists.txt && \\\n    # cat sources/pyside2/CMakeLists.txt && \\\n\n    # Fix bug https://bugreports.qt.io/browse/PYSIDE-357\n    sed -i -e \"s~\\b\\(packages\\b.*\\)],~\\1, 'pyside2uic.Compiler', 'pyside2uic.port_v' + str(sys.version_info[0])],~\" setup.py && \\\n    # cat setup.py && \\\n\n    python${PYTHON27_VER} setup.py \\\n        # bdist_wheel \\\n        install \\\n            --ignore-git \\\n            --qmake=/usr/local/Qt-${QT5_VER}/bin/qmake \\\n            --cmake=/usr/local/bin/cmake \\\n            --openssl=/usr/bin/openssl \\\n            --jobs=${BUILD_THREADS} && \\\n    # pip install /workdir/pyside-setup/dist/*.whl\n    rm -rf /workdir/* && \\\n\n    # PySide2 for Python 3.4\n    cd /workdir && \\\n    git clone --recursive --jobs ${BUILD_THREADS} --branch ${PYSIDE2_GIT_BRANCH} https://codereview.qt-project.org/pyside/pyside-setup && \\\n    cd pyside-setup && \\\n    git checkout ${PYSIDE2_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n\n    # Fix bug in order to build PySide2.QtUiTools: https://bugreports.qt.io/browse/PYSIDE-552\n    # sed -i.bak $'s/if(Qt5Designer_FOUND)/find_package(Qt5Designer)\\\\\\nif(Qt5Designer_FOUND)/g' sources/pyside2/CMakeLists.txt && \\\n    # cat sources/pyside2/CMakeLists.txt && \\\n\n    # Fix bug https://bugreports.qt.io/browse/PYSIDE-357\n    sed -i -e \"s~\\b\\(packages\\b.*\\)],~\\1, 'pyside2uic.Compiler', 'pyside2uic.port_v' + str(sys.version_info[0])],~\" setup.py && \\\n    # cat setup.py && \\\n\n    python${PYTHON34_VER} setup.py \\\n        # bdist_wheel \\\n        install \\\n            --ignore-git \\\n            --qmake=/usr/local/Qt-${QT5_VER}/bin/qmake \\\n            --cmake=/usr/local/bin/cmake \\\n            --openssl=/usr/bin/openssl \\\n            --jobs=${BUILD_THREADS} && \\\n    # pip install /workdir/pyside-setup/dist/*.whl\n    rm -rf /workdir/* && \\\n\n    # PySide2 for Python 3.5\n    cd /workdir && \\\n    git clone --recursive --jobs ${BUILD_THREADS} --branch ${PYSIDE2_GIT_BRANCH} https://codereview.qt-project.org/pyside/pyside-setup && \\\n    cd pyside-setup && \\\n    git checkout ${PYSIDE2_GIT_COMMIT} && \\\n    git submodule update --init --recursive && \\\n\n    # Fix bug in order to build PySide2.QtUiTools: https://bugreports.qt.io/browse/PYSIDE-552\n    # sed -i.bak $'s/if(Qt5Designer_FOUND)/find_package(Qt5Designer)\\\\\\nif(Qt5Designer_FOUND)/g' sources/pyside2/CMakeLists.txt && \\\n    # cat sources/pyside2/CMakeLists.txt && \\\n\n    # Fix bug https://bugreports.qt.io/browse/PYSIDE-357\n    sed -i -e \"s~\\b\\(packages\\b.*\\)],~\\1, 'pyside2uic.Compiler', 'pyside2uic.port_v' + str(sys.version_info[0])],~\" setup.py && \\\n    # cat setup.py && \\\n\n    python${PYTHON35_VER} setup.py \\\n        # bdist_wheel \\\n        install \\\n            --ignore-git \\\n            --qmake=/usr/local/Qt-${QT5_VER}/bin/qmake \\\n            --cmake=/usr/local/bin/cmake \\\n            --openssl=/usr/bin/openssl \\\n            --jobs=${BUILD_THREADS} && \\\n    # pip install /workdir/pyside-setup/dist/*.whl\n    rm -rf /workdir/*\n# Ugly fix to make PySide2 find the Qt5 libs\nENV LD_LIBRARY_PATH=\"/usr/local/Qt-${QT5_VER}/lib:${LD_LIBRARY_PATH}\"\n\n\n# Fix dbus error\n# http://www.torkwrench.com/2011/12/16/d-bus-library-appears-to-be-incorrectly-set-up-failed-to-read-machine-uuid-failed-to-open-varlibdbusmachine-id/\nRUN dbus-uuidgen > /var/lib/dbus/machine-id\n\n# VFX Platform\nENV VFXPLATFORM 2017\n\n# Enable additional output from Qt.py\nENV QT_VERBOSE true\nENV QT_TESTING true\n\n# Xvfb\nENV DISPLAY :99\n\n# Prevent error: \"Qt: Failed to create XKB context!\"\n# https://lists.debian.org/debian-backports/2014/10/msg00061.html\nENV QT_XKB_CONFIG_ROOT=/usr/share/X11/xkb\n\n# Warnings are exceptions\nENV PYTHONWARNINGS=\"ignore\"\n\n\nWORKDIR /workdir/Qt.py\n\n# Put chmod command in here, in case we change the entrypoint in the future using\n# docker run --entrypoint=...\nENTRYPOINT cp -r /Qt.py /workdir && chmod +x entrypoint.sh && ./entrypoint.sh\n"
}