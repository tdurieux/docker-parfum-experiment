{
  "startTime": 1674256189049,
  "endTime": 1674256190156,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 24,
        "columnStart": 22,
        "columnEnd": 8
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM vxbuild:1.0\n\n# Environment variables\nENV ROS_DISTRO dashing\nENV ROS2_WS /opt/ros2_ws\n## Let the script create the workspace\n## ENV PRJ_WS_NAME ${BSP}_${BOARD}_${PRJ}_ws\n\n# Set timezone to UTC\nRUN echo 'Etc/UTC' > /etc/timezone && \\\n    ln -sf /usr/share/zoneinfo/Etc/UTC /etc/localtime && \\\n    apt-get update && apt-get install --no-install-recommends -q -y tzdata && rm -rf /var/lib/apt/lists/*\n\n# Install packages needed for ROS2 builds\n## From docker_images/ros2/source/source/Dockerfile\n## Added curl for vxworks-ros-scripts\n\nRUN apt-get update && apt-get install --no-install-recommends -q -y \\\n    bash-completion \\\n    dirmngr \\\n    gnupg2 \\\n    lsb-release \\\n    python3-pip \\\n    wget \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Setup Keys\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654\n\n# Setup sources.list\nRUN echo \"deb http://packages.ros.org/ros2/ubuntu `lsb_release -sc` main\" > /etc/apt/sources.list.d/ros2-latest.list\n\n# Setup environment\nENV LANG C.UTF-8\nENV LC_ALL C.UTF-8\n\n# Install bootstrap tools\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    git \\\n    python3-colcon-common-extensions \\\n    python3-rosdep \\\n    python3-vcstool \\\n    && rm -rf /var/lib/apt/lists/*\n## What do we need python3-rosdep for?\n\n## Add development headers for GUI tools (0006-prj-create.sh)\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    libxaw7-dev \\\n    libxaw3dxft8-dev \\\n    libxrandr-dev \\\n    python3-sip-dev \\\n    python3-pyqt5 \\\n    python3-lark-parser \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Install Python packages\n## List comes from ROS2 docker_images Dockerfile\n## Added empy for rcutils\n##\n## Some modules may complain that they already exist because\n## they came as packages in the Ubuntu base image. In which case\n## newer versions will be installed in /usr/local/lib/python3*\n## and take precendence. We shall leave the list intact so that\n## we have them explicitly listed should we change the base image.\nRUN pip3 install -U --no-cache-dir \\\n    argcomplete \\\n    flake8 \\\n    flake8-blind-except \\\n    flake8-builtins \\\n    flake8-class-newline \\\n    flake8-comprehensions \\\n    flake8-deprecated \\\n    flake8-docstrings \\\n    flake8-import-order \\\n    flake8-quotes \\\n    pytest-repeat \\\n    pytest-rerunfailures \\\n    empy\n\n# Additional developer tools\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    autoconf \\\n    automake \\\n    cmake \\\n    libtool \\\n    libltdl-dev \\\n    mercurial \\\n    && rm -rf /var/lib/apt/lists/*\n\n# For native ROS2 builds\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    libasio-dev \\\n    libtinyxml2-dev \\\n    libeigen3-dev \\\n    libopencv-dev \\\n    libpcre3-dev \\\n    liblog4cxx-dev \\\n    python3-numpy \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Add development headers for rviz\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    libassimp-dev \\\n    libcurl4-openssl-dev \\\n    libfreetype6-dev \\\n    libgles2-mesa-dev \\\n    libglu1-mesa \\\n    libogre-1.9-dev \\\n    libqt5core5a \\\n    libqt5gui5 \\\n    libqt5opengl5 \\\n    libqt5widgets5 \\\n    qtbase5-dev \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Add development headers for rqt\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    pyqt5-dev \\\n    python3-pyqt5 \\\n    python3-pyqt5.qtsvg \\\n    python3-sip-dev \\\n    python3-pydot \\\n    python3-pygraphviz \\\n    && rm -rf /var/lib/apt/lists/*\n"
}