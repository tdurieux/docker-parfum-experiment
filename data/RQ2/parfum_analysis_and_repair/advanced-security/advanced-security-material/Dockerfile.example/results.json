{
  "startTime": 1674249274155,
  "endTime": 1674249274819,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 55,
        "columnEnd": 89
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 55,
        "columnEnd": 89
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu\nLABEL description=\"Security & Quality CodeQL Container Build for Cool Applications\"\nSHELL [\"/bin/bash\", \"-c\"]\nENV TZ=America/New_York\n\n# create directories\nRUN mkdir /tools\n\n# setup tools\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\nRUN DEBIAN_FRONTEND=\"noninteractive\" apt-get update && apt-get install --no-install-recommends -y golang zip wget && rm -rf /var/lib/apt/lists/*;\nRUN wget -q https://github.com/github/codeql-action/releases/download/codeql-bundle-20211005/codeql-bundle-linux64.tar.gz\nRUN tar xzf /codeql-bundle-linux64.tar.gz -C tools && rm /codeql-bundle-linux64.tar.gz\n\n# copy source\nCOPY . /usr/src/myapp\n\n# set working directory\nWORKDIR /usr/src/myapp\n\n# example repo used: https://github.com/ghas-bootcamp/ghas-bootcamp\n\n# codeql create\nRUN /tools/codeql/codeql database create db --language=javascript, java --db-cluster  --no-run-unnecessary-builds -vvvv\n\n# codeql analyze with default queries\nRUN /tools/codeql/codeql database analyze codeql-database/go go-code-scanning.qls --format=sarif-latest --output=codeql-go-results.sarif --sarif-category=goiscool\nRUN /tools/codeql/codeql database analyze db javascript-code-scanning.qls --format=sarif-latest --output=codeql-javascript-results.sarif --sarif-category=javascriptiscool\n\n# upload results\n# remember to get the MERGE commit for a PR\nRUN /tools/codeql/codeql github upload-results --github-url=<ghes-url> --repository=oreos/miniature-invention --ref=refs/pull/1/merge --commit=778337f84a5abe2cda468c7abf6038b8a193cea2 --sarif=codeql-go-results.sarif --github-auth-stdin=<github PAT>\nRUN /tools/codeql/codeql github upload-results --github-url=<ghes-url> --repository=oreos/miniature-invention --ref=refs/pull/1/merge --commit=778337f84a5abe2cda468c7abf6038b8a193cea2 --sarif=codeql-javascript-results.sarif --github-auth-stdin=<github PAT>\n"
}