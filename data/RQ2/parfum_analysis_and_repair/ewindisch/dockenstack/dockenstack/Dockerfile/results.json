{
  "startTime": 1674253422775,
  "endTime": 1674253423824,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 95
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 20,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 20,
        "columnEnd": 61
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 36
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 59
      }
    }
  ],
  "repairedDockerfile": "# Eric Windisch '2014\n# Forked from code by original author: Paul Czarkowski\n\nFROM ubuntu:trusty\nMAINTAINER Eric Windisch \"ewindisch@docker.com\"\n\nEXPOSE 80 5000 8773 8774 8776 9292\n# Set DEBIAN_FRONTEND to avoid warning like \"debconf: (TERM is not set, so the dialog frontend is not usable.)\"\nENV DEBIAN_FRONTEND=\"noninteractive\"\n# Install Docker\nRUN apt-get update; apt-get install --no-install-recommends -qqy apt-transport-https; rm -rf /var/lib/apt/lists/*; apt-key adv --keyserver \"hkp://keyserver.ubuntu.com:80\" --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9; \\\n    echo 'deb http://get.docker.io/ubuntu docker main' > /etc/apt/sources.list.d/docker.list; \\\n    apt-get update; \\\n    apt-get install --no-install-recommends -qqy lxc-docker\n\n# Install utilities\nRUN apt-get -qqy --no-install-recommends install git socat curl sudo vim wget net-tools && rm -rf /var/lib/apt/lists/*;\n\n# Install apparmor\nRUN apt-get -qqy --no-install-recommends install apparmor && rm -rf /var/lib/apt/lists/*;\n\n# Extra requirements for pip-requirements\nRUN apt-get install --no-install-recommends -qqy libffi-dev libkrb5-dev libev-dev libvirt-dev libsqlite3-dev libxml2-dev libxslt-dev \\\n    libpq-dev libssl-dev libyaml-dev && rm -rf /var/lib/apt/lists/*;\n\n\n# Configure and install MySQL\nRUN echo 'mysql-server mysql-server/root_password password devstack' | debconf-set-selections; \\\n    echo 'mysql-server mysql-server/root_password_again password devstack' | debconf-set-selections; \\\n    apt-get -qqy --no-install-recommends install mysql-server && rm -rf /var/lib/apt/lists/*;\n\n# Install RabbitMQ\nRUN apt-get -qqy --no-install-recommends install rabbitmq-server && rm -rf /var/lib/apt/lists/*;\n\n# Copy in docker images\nRUN docker daemon -b none -s vfs & sleep 1; docker pull cirros\n\n# Setup devstack user\nRUN mkdir -p /opt; \\\n    useradd -m -s /bin/bash -d /opt/stack devstack && \\\n    usermod -a -G docker devstack\nADD devstack.sudo /etc/sudoers.d/devstack\nRUN chown root:root /etc/sudoers.d/devstack\n\n# Local scripts\nADD scripts /opt/dockenstack/bin\nRUN chmod 755 /opt/dockenstack/bin/*\n\n# Install devstack scripts\nRUN git clone https://github.com/openstack-dev/devstack /devstack\n\n# Install prereq packages.\nRUN /devstack/tools/install_prereqs.sh\n\n# Pre-download all \"NOPRIME\" packages\nRUN /bin/bash /opt/dockenstack/bin/apt-cache-devstack\n\n# Install/configure dbus for libvirt (only needed if using libvirt drivers, not docker)\n# creates symlink to /usr/bin due to bug in saucy's init script for dbus.\nRUN apt-get install --no-install-recommends -q -y dbus; rm -rf /var/lib/apt/lists/*; \\\n    ln -s /bin/dbus-daemon /usr/bin/dbus-daemon\n\n# Mask python-six because the apt package can conflict with the pypi version.\nRUN apt-get remove -q -y python-six\n\n# python-pip just became collatoral damage.  reinstall it.\nRUN apt-get install --no-install-recommends -q -y python-pip && rm -rf /var/lib/apt/lists/*;\n\n# Install six from pip before getting from global-requirements (due to bugs...)\nRUN pip install --no-cache-dir six\n\n# Install all pip requirements\nRUN pip install --no-cache-dir -r https://raw.github.com/openstack/requirements/master/global-requirements.txt\nRUN pip install --no-cache-dir -r https://raw.github.com/openstack/tempest/master/requirements.txt\n\n# Pre-checkout git repos\nRUN su devstack -c '/bin/bash /opt/dockenstack/bin/openstack-git-checkout'\n\nRUN git clone https://github.com/stackforge/nova-docker /opt/stack/nova-docker\nWORKDIR /opt/stack/nova-docker\nRUN cp contrib/devstack/extras.d/70-docker.sh /devstack/extras.d/; \\\n    cp contrib/devstack/lib/nova_plugins/hypervisor-docker /devstack/lib/nova_plugins/;\n\nWORKDIR /devstack\nADD localrc /devstack/localrc\nADD localrc.d /devstack/localrc.d\n\nWORKDIR /\n# Fix ownership of all files\nRUN chown -R devstack /devstack\n\nCMD [\"/opt/dockenstack/bin/start\"]\n"
}