{
  "startTime": 1674217471945,
  "endTime": 1674217528279,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 1385,
        "lineEnd": 1385,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 1282,
        "lineEnd": 1282,
        "columnStart": 0,
        "columnEnd": 105
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 1297,
        "lineEnd": 1297,
        "columnStart": 0,
        "columnEnd": 35
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 1322,
        "lineEnd": 1322,
        "columnStart": 0,
        "columnEnd": 30
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 1338,
        "lineEnd": 1338,
        "columnStart": 0,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 25,
        "lineEnd": 1268,
        "columnStart": 0,
        "columnEnd": 16
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 25,
        "lineEnd": 1268,
        "columnStart": 0,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# we import a basic GNU/Linux distribution from the Docker repositories\n\nFROM ubuntu:20.04\n\n# we add some info about authors and contacts\n\nLABEL maintainer.name=\"SMASH team\"\nLABEL maintainer.website=\"https://smash-transport.github.io\"\n\n# we set the repositories to be used to upgrade and expand the basic GNU/Linux distribution\n\nRUN echo \"deb http://ftp.uni-mainz.de/ubuntu/ focal restricted multiverse main universe\" > /etc/apt/sources.list \\\n&& echo \"deb http://ftp.uni-mainz.de/ubuntu/ focal-updates restricted multiverse main universe\" >> /etc/apt/sources.list \\\n&& echo \"deb http://ftp.uni-mainz.de/ubuntu/ focal-security restricted multiverse main universe\" >> /etc/apt/sources.list\n\n# we want to install the packages non interactively\n\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections\n\n\n# we update the distribution and we install several additional packages\n\nRUN apt-get update && \\\nln -sf /usr/share/zoneinfo/UTC /etc/localtime && \\\napt-get -y upgrade && \\\n apt-get -y --no-install-recommends install \\\naccountsservice \\\nacl \\\nadduser \\\nadwaita-icon-theme \\\naglfn \\\nalsa-topology-conf \\\nalsa-ucm-conf \\\napg \\\napport \\\napport-symptoms \\\napt \\\naptdaemon \\\naptdaemon-data \\\napt-utils \\\naspell \\\naspell-en \\\nat-spi2-core \\\nautoconf \\\nautomake \\\nautotools-dev \\\navahi-daemon \\\navahi-utils \\\nbase-files \\\nbase-passwd \\\nbash \\\nbc \\\nbind9-host \\\nbind9-libs:amd64 \\\nbinfmt-support \\\nbinutils \\\nbinutils-common:amd64 \\\nbinutils-x86-64-linux-gnu \\\nblt \\\nbluez \\\nbolt \\\nbsdmainutils \\\nbsdutils \\\nbubblewrap \\\nbuild-essential \\\nbzip2 \\\nca-certificates \\\ncheese-common \\\nclang-10 \\\nclang-tidy \\\nclang-tidy-10 \\\nclang-tools-10 \\\ncmake \\\ncmake-data \\\ncolord \\\ncolord-data \\\ncoreutils \\\ncpp \\\ncpp-9 \\\ncracklib-runtime \\\ncrda \\\ncups-pk-helper \\\ncurl \\\ncython \\\ncython3 \\\ndash \\\ndavix-dev:amd64 \\\ndbus \\\ndbus-user-session \\\ndbus-x11 \\\ndcap-dev:amd64 \\\ndconf-cli \\\ndconf-gsettings-backend:amd64 \\\ndconf-service \\\nddd \\\ndebconf \\\ndebianutils \\\ndesktop-file-utils \\\ndictionaries-common \\\ndiffutils \\\ndirmngr \\\ndistro-info-data \\\ndmsetup \\\ndns-root-data \\\ndnsmasq-base \\\ndocbook-xml \\\ndoxygen \\\ndpkg \\\ndpkg-dev \\\ne2fsprogs \\\nemacsen-common \\\nenchant-2 \\\nevince \\\nevince-common \\\nevolution-data-server \\\nevolution-data-server-common \\\nfakeroot \\\nfdisk \\\nfile \\\nfindutils \\\nfontconfig \\\nfontconfig-config \\\nfonts-dejavu-core \\\nfonts-droid-fallback \\\nfonts-freefont-ttf \\\nfonts-lyx \\\nfonts-noto-mono \\\nfonts-urw-base35 \\\nfprintd \\\nfreeglut3:amd64 \\\nfreeglut3-dev:amd64 \\\ng++ \\\ng++-9 \\\ngawk \\\ngcc \\\ngcc-10-base:amd64 \\\ngcc-9 \\\ngcc-9-base:amd64 \\\ngcr \\\ngdb \\\ngdbserver \\\ngdm3 \\\ngeoclue-2.0 \\\ngettext-base \\\ngfortran \\\ngfortran-9 \\\ngir1.2-accountsservice-1.0 \\\ngir1.2-atk-1.0:amd64 \\\ngir1.2-atspi-2.0:amd64 \\\ngir1.2-freedesktop:amd64 \\\ngir1.2-gck-1:amd64 \\\ngir1.2-gcr-3:amd64 \\\ngir1.2-gdesktopenums-3.0:amd64 \\\ngir1.2-gdkpixbuf-2.0:amd64 \\\ngir1.2-gdm-1.0:amd64 \\\ngir1.2-geoclue-2.0:amd64 \\\ngir1.2-glib-2.0:amd64 \\\ngir1.2-gnomebluetooth-1.0:amd64 \\\ngir1.2-gnomedesktop-3.0:amd64 \\\ngir1.2-graphene-1.0:amd64 \\\ngir1.2-gtk-3.0:amd64 \\\ngir1.2-gweather-3.0:amd64 \\\ngir1.2-ibus-1.0:amd64 \\\ngir1.2-json-1.0:amd64 \\\ngir1.2-mutter-6:amd64 \\\ngir1.2-nm-1.0:amd64 \\\ngir1.2-nma-1.0:amd64 \\\ngir1.2-notify-0.7:amd64 \\\ngir1.2-packagekitglib-1.0 \\\ngir1.2-pango-1.0:amd64 \\\ngir1.2-polkit-1.0 \\\ngir1.2-rsvg-2.0:amd64 \\\ngir1.2-secret-1:amd64 \\\ngir1.2-soup-2.4:amd64 \\\ngir1.2-upowerglib-1.0:amd64 \\\ngir1.2-vte-2.91:amd64 \\\ngit \\\ngit-man \\\ngjs \\\ngkbd-capplet \\\nglib-networking:amd64 \\\nglib-networking-common \\\nglib-networking-services \\\ngnome-control-center \\\ngnome-control-center-data \\\ngnome-control-center-faces \\\ngnome-desktop3-data \\\ngnome-keyring \\\ngnome-keyring-pkcs11:amd64 \\\ngnome-menus \\\ngnome-online-accounts \\\ngnome-session-bin \\\ngnome-session-common \\\ngnome-settings-daemon \\\ngnome-settings-daemon-common \\\ngnome-shell \\\ngnome-shell-common \\\ngnome-startup-applications \\\ngnome-user-docs \\\ngnupg \\\ngnupg-l10n \\\ngnupg-utils \\\ngnuplot \\\ngnuplot-data \\\ngnuplot-qt \\\ngperf \\\ngpg \\\ngpg-agent \\\ngpg-wks-client \\\ngpg-wks-server \\\ngpgconf \\\ngpgsm \\\ngpgv \\\ngraphviz \\\ngrep \\\ngroff-base \\\ngsettings-desktop-schemas \\\ngstreamer1.0-clutter-3.0:amd64 \\\ngstreamer1.0-gl:amd64 \\\ngstreamer1.0-plugins-base:amd64 \\\ngstreamer1.0-plugins-good:amd64 \\\ngstreamer1.0-pulseaudio:amd64 \\\ngstreamer1.0-x:amd64 \\\ngtk-update-icon-cache \\\ngzip \\\nhicolor-icon-theme \\\nhostname \\\nhumanity-icon-theme \\\nhunspell-en-us \\\nibus \\\nibus-data \\\nibus-gtk:amd64 \\\nibus-gtk3:amd64 \\\nicu-devtools \\\niio-sensor-proxy \\\nimagemagick \\\nim-config \\\ninit-system-helpers \\\nippusbxd \\\niptables \\\nipython3 \\\niso-codes \\\niw \\\njavascript-common \\\nkeyboard-configuration \\\nkmod \\\nkrb5-locales \\\nlanguage-pack-en \\\nlanguage-pack-en-base \\\nlanguage-selector-common \\\nlanguage-selector-gnome \\\nless \\\nlib32gcc-s1 \\\nlib32stdc++6 \\\nlibaa1:amd64 \\\nlibaccountsservice0:amd64 \\\nlibacl1:amd64 \\\nlibaec0:amd64 \\\nlibafterimage-dev \\\nlibafterimage0:amd64 \\\nlibalgorithm-diff-perl \\\nlibalgorithm-diff-xs-perl \\\nlibalgorithm-merge-perl \\\nlibamd2:amd64 \\\nlibapparmor1:amd64 \\\nlibappindicator3-1 \\\nlibappstream4:amd64 \\\nlibapt-pkg6.0:amd64 \\\nlibarchive13:amd64 \\\nlibargon2-1:amd64 \\\nlibasan5:amd64 \\\nlibasn1-8-heimdal:amd64 \\\nlibasound2:amd64 \\\nlibasound2-data \\\nlibasound2-plugins:amd64 \\\nlibaspell15:amd64 \\\nlibassuan0:amd64 \\\nlibasyncns0:amd64 \\\nlibatk-bridge2.0-0:amd64 \\\nlibatk1.0-0:amd64 \\\nlibatk1.0-data \\\nlibatomic1:amd64 \\\nlibatspi2.0-0:amd64 \\\nlibattr1:amd64 \\\nlibattr1-dev:amd64 \\\nlibaudit-common \\\nlibaudit1:amd64 \\\nlibavahi-client3:amd64 \\\nlibavahi-common-data:amd64 \\\nlibavahi-common3:amd64 \\\nlibavahi-core7:amd64 \\\nlibavahi-glib1:amd64 \\\nlibavc1394-0:amd64 \\\nlibbabeltrace1:amd64 \\\nlibbinutils:amd64 \\\nlibblas3:amd64 \\\nlibblkid-dev:amd64 \\\nlibblkid1:amd64 \\\nlibblosc1 \\\nlibbluetooth3:amd64 \\\nlibboost-filesystem-dev:amd64 \\\nlibboost-filesystem1.71-dev:amd64 \\\nlibboost-filesystem1.71.0:amd64 \\\nlibboost-system1.71-dev:amd64 \\\nlibboost-system1.71.0:amd64 \\\nlibboost-thread1.71.0:amd64 \\\nlibboost1.71-dev:amd64 \\\nlibbrotli1:amd64 \\\nlibbsd0:amd64 \\\nlibbz2-1.0:amd64 \\\nlibc-bin \\\nlibc-dev-bin \\\nlibc6:amd64 \\\nlibc6-dbg:amd64 \\\nlibc6-dev:amd64 \\\nlibc6-i386 \\\nlibcaca0:amd64 \\\nlibcairo-gobject2:amd64 \\\nlibcairo-script-interpreter2:amd64 \\\nlibcairo2:amd64 \\\nlibcairo2-dev:amd64 \\\nlibcamd2:amd64 \\\nlibcamel-1.2-62:amd64 \\\nlibcanberra-gtk3-0:amd64 \\\nlibcanberra-gtk3-module:amd64 \\\nlibcanberra-pulse:amd64 \\\nlibcanberra0:amd64 \\\nlibcap-ng0:amd64 \\\nlibcap2:amd64 \\\nlibcap2-bin \\\nlibcbor0.6:amd64 \\\nlibcc1-0:amd64 \\\nlibccolamd2:amd64 \\\nlibcdparanoia0:amd64 \\\nlibcdt5:amd64 \\\nlibcfitsio-dev:amd64 \\\nlibcfitsio-doc \\\nlibcfitsio8:amd64 \\\nlibcgraph6:amd64 \\\nlibcgsi-gsoap1:amd64 \\\nlibcheese-gtk25:amd64 \\\nlibcheese8:amd64 \\\nlibcholmod3:amd64 \\\nlibclang-common-10-dev \\\nlibclang-cpp10 \\\nlibclang1-10 \\\nlibclutter-1.0-0:amd64 \\\nlibclutter-1.0-common \\\nlibclutter-gst-3.0-0:amd64 \\\nlibclutter-gtk-1.0-0:amd64 \\\nlibcogl-common \\\nlibcogl-pango20:amd64 \\\nlibcogl-path20:amd64 \\\nlibcogl20:amd64 \\\nlibcolamd2:amd64 \\\nlibcolord-gtk1:amd64 \\\nlibcolord2:amd64 \\\nlibcolorhug2:amd64 \\\nlibcom-err2:amd64 \\\nlibcrack2:amd64 \\\nlibcrypt-dev:amd64 \\\nlibcrypt1:amd64 \\\nlibcryptsetup12:amd64 \\\nlibctf-nobfd0:amd64 \\\nlibctf0:amd64 \\\nlibcups2:amd64 \\\nlibcurl3-gnutls:amd64 \\\nlibcurl4:amd64 \\\nlibdaemon0:amd64 \\\nlibdatrie1:amd64 \\\nlibdavix0v5:amd64 \\\nlibdb5.3:amd64 \\\nlibdbus-1-3:amd64 \\\nlibdbus-glib-1-2:amd64 \\\nlibdbusmenu-glib4:amd64 \\\nlibdbusmenu-gtk3-4:amd64 \\\nlibdcap1:amd64 \\\nlibdconf1:amd64 \\\nlibdebconfclient0:amd64 \\\nlibdevmapper1.02.1:amd64 \\\nlibdjvulibre-text \\\nlibdjvulibre21:amd64 \\\nlibdouble-conversion3:amd64 \\\nlibdpkg-perl \\\nlibdrm-amdgpu1:amd64 \\\nlibdrm-common \\\nlibdrm-intel1:amd64 \\\nlibdrm-nouveau2:amd64 \\\nlibdrm-radeon1:amd64 \\\nlibdrm2:amd64 \\\nlibdsdp-5.8gf \\\nlibdv4:amd64 \\\nlibdw1:amd64 \\\nlibebackend-1.2-10:amd64 \\\nlibebook-1.2-20:amd64 \\\nlibebook-contacts-1.2-3:amd64 \\\nlibecal-2.0-1:amd64 \\\nlibedata-book-1.2-26:amd64 \\\nlibedata-cal-2.0-1:amd64 \\\nlibedataserver-1.2-24:amd64 \\\nlibedataserverui-1.2-2:amd64 \\\nlibedit2:amd64 \\\nlibegl-dev:amd64 \\\nlibegl-mesa0:amd64 \\\nlibegl1:amd64 \\\nlibeigen3-dev \\\nlibelf1:amd64 \\\nlibenchant-2-2:amd64 \\\nlibepoxy0:amd64 \\\nliberror-perl \\\nlibevdev2:amd64 \\\nlibevdocument3-4:amd64 \\\nlibevview3-3:amd64 \\\nlibexif12:amd64 \\\nlibexpat1:amd64 \\\nlibexpat1-dev:amd64 \\\nlibext2fs2:amd64 \\\nlibfakeroot:amd64 \\\nlibfcgi-bin \\\nlibfcgi-dev:amd64 \\\nlibfcgi0ldbl:amd64 \\\nlibfdisk1:amd64 \\\nlibffi-dev:amd64 \\\nlibffi7:amd64 \\\nlibfftw3-3:amd64 \\\nlibfftw3-bin \\\nlibfftw3-dev:amd64 \\\nlibfftw3-double3:amd64 \\\nlibfftw3-long3:amd64 \\\nlibfftw3-quad3:amd64 \\\nlibfftw3-single3:amd64 \\\nlibfido2-1:amd64 \\\nlibfile-fcntllock-perl \\\nlibflac8:amd64 \\\nlibfontconfig1:amd64 \\\nlibfontconfig1-dev:amd64 \\\nlibfontenc1:amd64 \\\nlibfprint-2-2:amd64 \\\nlibfreetype-dev:amd64 \\\nlibfreetype6:amd64 \\\nlibfreetype6-dev:amd64 \\\nlibfribidi0:amd64 \\\nlibftgl-dev \\\nlibftgl2:amd64 \\\nlibgail-common:amd64 \\\nlibgail18:amd64 \\\nlibgbm1:amd64 \\\nlibgc1c2:amd64 \\\nlibgcc-9-dev:amd64 \\\nlibgcc-s1:amd64 \\\nlibgck-1-0:amd64 \\\nlibgcr-base-3-1:amd64 \\\nlibgcr-ui-3-1:amd64 \\\nlibgcrypt20:amd64 \\\nlibgd3:amd64 \\\nlibgdata-common \\\nlibgdata22:amd64 \\\nlibgdbm-compat4:amd64 \\\nlibgdbm6:amd64 \\\nlibgdk-pixbuf2.0-0:amd64 \\\nlibgdk-pixbuf2.0-bin \\\nlibgdk-pixbuf2.0-common \\\nlibgdk-pixbuf2.0-dev:amd64 \\\nlibgdm1 \\\nlibgee-0.8-2:amd64 \\\nlibgeoclue-2-0:amd64 \\\nlibgeocode-glib0:amd64 \\\nlibgfal-srm-ifce1:amd64 \\\nlibgfal-transfer2:amd64 \\\nlibgfal2-2:amd64 \\\nlibgfal2-dev:amd64 \\\nlibgfortran-9-dev:amd64 \\\nlibgfortran5:amd64 \\\nlibgif-dev \\\nlibgif7:amd64 \\\nlibgirepository-1.0-1:amd64 \\\nlibgjs0g:amd64 \\\nlibgl-dev:amd64 \\\nlibgl1:amd64 \\\nlibgl1-mesa-dev:amd64 \\\nlibgl1-mesa-dri:amd64 \\\nlibgl2ps-dev \\\nlibgl2ps1.4 \\\nlibglapi-mesa:amd64 \\\nlibgles-dev:amd64 \\\nlibgles1:amd64 \\\nlibgles2:amd64 \\\nlibglew-dev:amd64 \\\nlibglew2.1:amd64 \\\nlibglib2.0-0:amd64 \\\nlibglib2.0-bin \\\nlibglib2.0-data \\\nlibglib2.0-dev:amd64 \\\nlibglib2.0-dev-bin \\\nlibglobus-callout0:amd64 \\\nlibglobus-common0:amd64 \\\nlibglobus-gsi-callback0:amd64 \\\nlibglobus-gsi-cert-utils0:amd64 \\\nlibglobus-gsi-credential1:amd64 \\\nlibglobus-gsi-openssl-error0:amd64 \\\nlibglobus-gsi-proxy-core0:amd64 \\\nlibglobus-gsi-proxy-ssl1:amd64 \\\nlibglobus-gsi-sysconfig1:amd64 \\\nlibglobus-gss-assist3:amd64 \\\nlibglobus-gssapi-gsi4:amd64 \\\nlibglobus-openssl-module0:amd64 \\\nlibglpk40:amd64 \\\nlibglu1-mesa:amd64 \\\nlibglu1-mesa-dev:amd64 \\\nlibglvnd-dev:amd64 \\\nlibglvnd0:amd64 \\\nlibglx-dev:amd64 \\\nlibglx-mesa0:amd64 \\\nlibglx0:amd64 \\\nlibgmp10:amd64 \\\nlibgmp-dev \\\nlibgnome-autoar-0-0:amd64 \\\nlibgnome-bluetooth13:amd64 \\\nlibgnome-desktop-3-19:amd64 \\\nlibgnomekbd-common \\\nlibgnomekbd8:amd64 \\\nlibgnutls30:amd64 \\\nlibgoa-1.0-0b:amd64 \\\nlibgoa-1.0-common \\\nlibgoa-backend-1.0-1:amd64 \\\nlibgomp1:amd64 \\\nlibgpg-error0:amd64 \\\nlibgphoto2-6:amd64 \\\nlibgphoto2-l10n \\\nlibgphoto2-port12:amd64 \\\nlibgpm2:amd64 \\\nlibgraphene-1.0-0:amd64 \\\nlibgraphite2-3:amd64 \\\nlibgraphviz-dev:amd64 \\\nlibgs9:amd64 \\\nlibgs9-common \\\nlibgsl-dev \\\nlibgsl23:amd64 \\\nlibgslcblas0:amd64 \\\nlibgsoap-2.8.91:amd64 \\\nlibgsound0:amd64 \\\nlibgspell-1-2:amd64 \\\nlibgspell-1-common \\\nlibgssapi-krb5-2:amd64 \\\nlibgssapi3-heimdal:amd64 \\\nlibgssdp-1.2-0:amd64 \\\nlibgstreamer-gl1.0-0:amd64 \\\nlibgstreamer-plugins-base1.0-0:amd64 \\\nlibgstreamer-plugins-good1.0-0:amd64 \\\nlibgstreamer1.0-0:amd64 \\\nlibgtk-3-0:amd64 \\\nlibgtk-3-bin \\\nlibgtk-3-common \\\nlibgtk2.0-0:amd64 \\\nlibgtk2.0-bin \\\nlibgtk2.0-common \\\nlibgtop-2.0-11:amd64 \\\nlibgtop2-common \\\nlibgts-0.7-5:amd64 \\\nlibgts-bin \\\nlibgudev-1.0-0:amd64 \\\nlibgupnp-1.2-0:amd64 \\\nlibgupnp-av-1.0-2 \\\nlibgupnp-dlna-2.0-3 \\\nlibgusb2:amd64 \\\nlibgvc6 \\\nlibgvc6-plugins-gtk \\\nlibgvpr2:amd64 \\\nlibgweather-3-16:amd64 \\\nlibgweather-common \\\nlibgxps2:amd64 \\\nlibharfbuzz-icu0:amd64 \\\nlibharfbuzz0b:amd64 \\\nlibhcrypto4-heimdal:amd64 \\\nlibhdf5-103:amd64 \\\nlibheimbase1-heimdal:amd64 \\\nlibheimntlm0-heimdal:amd64 \\\nlibhogweed5:amd64 \\\nlibhunspell-1.7-0:amd64 \\\nlibhx509-5-heimdal:amd64 \\\nlibhyphen0:amd64 \\\nlibibus-1.0-5:amd64 \\\nlibical3:amd64 \\\nlibice-dev:amd64 \\\nlibice6:amd64 \\\nlibicu-dev:amd64 \\\nlibicu66:amd64 \\\nlibid3tag0:amd64 \\\nlibidn11:amd64 \\\nlibidn2-0:amd64 \\\nlibiec61883-0:amd64 \\\nlibieee1284-3:amd64 \\\nlibijs-0.35:amd64 \\\nlibimagequant0:amd64 \\\nlibimlib2:amd64 \\\nlibimobiledevice6:amd64 \\\nlibinput-bin \\\nlibinput10:amd64 \\\nlibip4tc2:amd64 \\\nlibip6tc2:amd64 \\\nlibisl22:amd64 \\\nlibitm1:amd64 \\\nlibjack-jackd2-0:amd64 \\\nlibjansson4:amd64 \\\nlibjavascriptcoregtk-4.0-18:amd64 \\\nlibjbig-dev:amd64 \\\nlibjbig0:amd64 \\\nlibjbig2dec0:amd64 \\\nlibjpeg-dev:amd64 \\\nlibjpeg-turbo8:amd64 \\\nlibjpeg-turbo8-dev:amd64 \\\nlibjpeg8:amd64 \\\nlibjpeg8-dev:amd64 \\\nlibjs-jquery \\\nlibjs-jquery-ui \\\nlibjson-c4:amd64 \\\nlibjson-glib-1.0-0:amd64 \\\nlibjson-glib-1.0-common \\\nlibjsoncpp1:amd64 \\\nlibk5crypto3:amd64 \\\nlibkeyutils1:amd64 \\\nlibkmod2:amd64 \\\nlibkpathsea6:amd64 \\\nlibkrb5-26-heimdal:amd64 \\\nlibkrb5-3:amd64 \\\nlibkrb5support0:amd64 \\\nlibksba8:amd64 \\\nliblab-gamut1:amd64 \\\nliblapack3:amd64 \\\nliblbfgsb0:amd64 \\\nliblcms2-2:amd64 \\\nlibldap-2.4-2:amd64 \\\nlibldap-common \\\nlibldb2:amd64 \\\nlibllvm10:amd64 \\\nlibllvm11:amd64 \\\nliblmdb0:amd64 \\\nliblocale-gettext-perl \\\nliblsan0:amd64 \\\nlibltdl-dev:amd64 \\\nlibltdl7:amd64 \\\nliblua5.3-0:amd64 \\\nliblz4-1:amd64 \\\nliblz4-dev:amd64 \\\nliblzma-dev:amd64 \\\nliblzma5:amd64 \\\nliblzo2-2:amd64 \\\nlibmagic-mgc \\\nlibmagic1:amd64 \\\nlibmaxminddb0:amd64 \\\nlibmbim-glib4:amd64 \\\nlibmbim-proxy \\\nlibmediaart-2.0-0:amd64 \\\nlibmetis5:amd64 \\\nlibmm-glib0:amd64 \\\nlibmnl0:amd64 \\\nlibmotif-common \\\nlibmount-dev:amd64 \\\nlibmount1:amd64 \\\nlibmozjs-68-0:amd64 \\\nlibmp3lame0:amd64 \\\nlibmpc3:amd64 \\\nlibmpdec2:amd64 \\\nlibmpfr6:amd64 \\\nlibmpfr-dev \\\nlibmpfrc++-dev \\\nlibmpg123-0:amd64 \\\nlibmtdev1:amd64 \\\nlibmutter-6-0:amd64 \\\nlibmysqlclient-dev \\\nlibmysqlclient21:amd64 \\\nlibnautilus-extension1a:amd64 \\\nlibncurses-dev:amd64 \\\nlibncurses6:amd64 \\\nlibncursesw6:amd64 \\\nlibndp0:amd64 \\\nlibnetfilter-conntrack3:amd64 \\\nlibnettle7:amd64 \\\nlibnewt0.52:amd64 \\\nlibnfnetlink0:amd64 \\\nlibnftnl11:amd64 \\\nlibnghttp2-14:amd64 \\\nlibnl-3-200:amd64 \\\nlibnl-genl-3-200:amd64 \\\nlibnl-route-3-200:amd64 \\\nlibnm0:amd64 \\\nlibnma0:amd64 \\\nlibnotify4:amd64 \\\nlibnpth0:amd64 \\\nlibnspr4:amd64 \\\nlibnss-mdns:amd64 \\\nlibnss-systemd:amd64 \\\nlibnss3:amd64 \\\nlibobjc-9-dev:amd64 \\\nlibobjc4:amd64 \\\nlibodbc1:amd64 \\\nlibogg0:amd64 \\\nlibomp-10-dev \\\nlibomp5-10:amd64 \\\nlibopengl-dev:amd64 \\\nlibopengl0:amd64 \\\nlibopenjp2-7:amd64 \\\nlibopus0:amd64 \\\nliborc-0.4-0:amd64 \\\nlibp11-kit0:amd64 \\\nlibpackagekit-glib2-18:amd64 \\\nlibpam-cap:amd64 \\\nlibpam-fprintd:amd64 \\\nlibpam-gnome-keyring:amd64 \\\nlibpam-modules:amd64 \\\nlibpam-modules-bin \\\nlibpam-runtime \\\nlibpam-systemd:amd64 \\\nlibpam0g:amd64 \\\nlibpango-1.0-0:amd64 \\\nlibpangocairo-1.0-0:amd64 \\\nlibpangoft2-1.0-0:amd64 \\\nlibpangoxft-1.0-0:amd64 \\\nlibpaper-utils \\\nlibpaper1:amd64 \\\nlibpathplan4:amd64 \\\nlibpcap0.8:amd64 \\\nlibpci3:amd64 \\\nlibpciaccess0:amd64 \\\nlibpcre++-dev \\\nlibpcre++0v5:amd64 \\\nlibpcre16-3:amd64 \\\nlibpcre2-16-0:amd64 \\\nlibpcre2-32-0:amd64 \\\nlibpcre2-8-0:amd64 \\\nlibpcre2-dev:amd64 \\\nlibpcre2-posix2:amd64 \\\nlibpcre3:amd64 \\\nlibpcre3-dev:amd64 \\\nlibpcre32-3:amd64 \\\nlibpcrecpp0v5:amd64 \\\nlibpcsclite1:amd64 \\\nlibperl5.30:amd64 \\\nlibpfm4:amd64 \\\nlibphonenumber7:amd64 \\\nlibpipeline1:amd64 \\\nlibpixman-1-0:amd64 \\\nlibpixman-1-dev:amd64 \\\nlibplist3:amd64 \\\nlibpng-dev:amd64 \\\nlibpng-tools \\\nlibpng16-16:amd64 \\\nlibpolkit-agent-1-0:amd64 \\\nlibpolkit-gobject-1-0:amd64 \\\nlibpoppler-glib8:amd64 \\\nlibpoppler97:amd64 \\\nlibpopt0:amd64 \\\nlibpq-dev \\\nlibpq5:amd64 \\\nlibprocps8:amd64 \\\nlibprotobuf17:amd64 \\\nlibproxy1v5:amd64 \\\nlibpsl5:amd64 \\\nlibpthread-stubs0-dev:amd64 \\\nlibpulse-mainloop-glib0:amd64 \\\nlibpulse0:amd64 \\\nlibpulsedsp:amd64 \\\nlibpwquality-common \\\nlibpwquality1:amd64 \\\nlibpython3-dev:amd64 \\\nlibpython3-stdlib:amd64 \\\nlibpython3.8:amd64 \\\nlibpython3.8-dev:amd64 \\\nlibpython3.8-minimal:amd64 \\\nlibpython3.8-stdlib:amd64 \\\nlibqmi-glib5:amd64 \\\nlibqmi-proxy \\\nlibqt5core5a:amd64 \\\nlibqt5dbus5:amd64 \\\nlibqt5gui5:amd64 \\\nlibqt5network5:amd64 \\\nlibqt5printsupport5:amd64 \\\nlibqt5svg5:amd64 \\\nlibqt5widgets5:amd64 \\\nlibquadmath0:amd64 \\\nlibraw1394-11:amd64 \\\nlibreadline8:amd64 \\\nlibrest-0.7-0:amd64 \\\nlibrhash0:amd64 \\\nlibroken18-heimdal:amd64 \\\nlibrsvg2-2:amd64 \\\nlibrsvg2-common:amd64 \\\nlibrsvg2-dev:amd64 \\\nlibrtmp1:amd64 \\\nlibrygel-core-2.6-2:amd64 \\\nlibrygel-db-2.6-2:amd64 \\\nlibrygel-renderer-2.6-2:amd64 \\\nlibrygel-server-2.6-2:amd64 \\\nlibsamplerate0:amd64 \\\nlibsane:amd64 \\\nlibsane-common \\\nlibsasl2-2:amd64 \\\nlibsasl2-modules:amd64 \\\nlibsasl2-modules-db:amd64 \\\nlibsbc1:amd64 \\\nlibseccomp2:amd64 \\\nlibsecret-1-0:amd64 \\\nlibsecret-common \\\nlibselinux1:amd64 \\\nlibselinux1-dev:amd64 \\\nlibsemanage-common \\\nlibsemanage1:amd64 \\\nlibsensors-config \\\nlibsensors5:amd64 \\\nlibsepol1:amd64 \\\nlibsepol1-dev:amd64 \\\nlibshout3:amd64 \\\nlibsigsegv2:amd64 \\\nlibslang2:amd64 \\\nlibsm-dev:amd64 \\\nlibsm6:amd64 \\\nlibsmartcols1:amd64 \\\nlibsmbclient:amd64 \\\nlibsnapd-glib1:amd64 \\\nlibsnappy1v5:amd64 \\\nlibsndfile1:amd64 \\\nlibsnmp-base \\\nlibsnmp35:amd64 \\\nlibsodium23:amd64 \\\nlibsoup-gnome2.4-1:amd64 \\\nlibsoup2.4-1:amd64 \\\nlibsoxr0:amd64 \\\nlibspectre1:amd64 \\\nlibspeex1:amd64 \\\nlibspeexdsp1:amd64 \\\nlibsqlite3-0:amd64 \\\nlibsqlite3-dev:amd64 \\\nlibss2:amd64 \\\nlibssh-4:amd64 \\\nlibssl-dev:amd64 \\\nlibssl1.1:amd64 \\\nlibstartup-notification0:amd64 \\\nlibstdc++-9-dev:amd64 \\\nlibstdc++6:amd64 \\\nlibstemmer0d:amd64 \\\nlibsuitesparseconfig5:amd64 \\\nlibsynctex2:amd64 \\\nlibsystemd0:amd64 \\\nlibsz2:amd64 \\\nlibtag1v5:amd64 \\\nlibtag1v5-vanilla:amd64 \\\nlibtalloc2:amd64 \\\nlibtasn1-6:amd64 \\\nlibtbb-dev:amd64 \\\nlibtbb2:amd64 \\\nlibtcl8.6:amd64 \\\nlibtdb1:amd64 \\\nlibteamdctl0:amd64 \\\nlibtevent0:amd64 \\\nlibtext-iconv-perl \\\nlibthai-data \\\nlibthai0:amd64 \\\nlibtheora0:amd64 \\\nlibtiff-dev:amd64 \\\nlibtiff5:amd64 \\\nlibtiff5-dev \\\nlibtiffxx5:amd64 \\\nlibtinfo-dev:amd64 \\\nlibtinfo6:amd64 \\\nlibtk8.6:amd64 \\\nlibtool \\\nlibtsan0:amd64 \\\nlibtwolame0:amd64 \\\nlibubsan1:amd64 \\\nlibuchardet0:amd64 \\\nlibudev1:amd64 \\\nlibudisks2-0:amd64 \\\nlibumfpack5:amd64 \\\nlibunistring2:amd64 \\\nlibunwind8:amd64 \\\nlibupower-glib3:amd64 \\\nlibusb-1.0-0:amd64 \\\nlibusbmuxd6:amd64 \\\nlibuuid1:amd64 \\\nlibuv1:amd64 \\\nlibv4l-0:amd64 \\\nlibv4lconvert0:amd64 \\\nlibvisual-0.4-0:amd64 \\\nlibvomsapi1v5:amd64 \\\nlibvorbis0a:amd64 \\\nlibvorbisenc2:amd64 \\\nlibvorbisfile3:amd64 \\\nlibvpx6:amd64 \\\nlibvte-2.91-0:amd64 \\\nlibvte-2.91-common \\\nlibvulkan1:amd64 \\\nlibwacom-bin \\\nlibwacom-common \\\nlibwacom2:amd64 \\\nlibwavpack1:amd64 \\\nlibwayland-client0:amd64 \\\nlibwayland-cursor0:amd64 \\\nlibwayland-egl1:amd64 \\\nlibwayland-server0:amd64 \\\nlibwbclient0:amd64 \\\nlibwebkit2gtk-4.0-37:amd64 \\\nlibwebp6:amd64 \\\nlibwebpdemux2:amd64 \\\nlibwebpmux3:amd64 \\\nlibwebrtc-audio-processing1:amd64 \\\nlibwhoopsie-preferences0 \\\nlibwhoopsie0:amd64 \\\nlibwind0-heimdal:amd64 \\\nlibwoff1:amd64 \\\nlibwrap0:amd64 \\\nlibwxbase3.0-0v5:amd64 \\\nlibwxgtk3.0-gtk3-0v5:amd64 \\\nlibx11-6:amd64 \\\nlibx11-data \\\nlibx11-dev:amd64 \\\nlibx11-xcb1:amd64 \\\nlibxapian30:amd64 \\\nlibxatracker2:amd64 \\\nlibxau-dev:amd64 \\\nlibxau6:amd64 \\\nlibxaw7:amd64 \\\nlibxcb-dri2-0:amd64 \\\nlibxcb-dri3-0:amd64 \\\nlibxcb-glx0:amd64 \\\nlibxcb-icccm4:amd64 \\\nlibxcb-image0:amd64 \\\nlibxcb-keysyms1:amd64 \\\nlibxcb-present0:amd64 \\\nlibxcb-randr0:amd64 \\\nlibxcb-render-util0:amd64 \\\nlibxcb-render0:amd64 \\\nlibxcb-render0-dev:amd64 \\\nlibxcb-res0:amd64 \\\nlibxcb-shape0:amd64 \\\nlibxcb-shm0:amd64 \\\nlibxcb-shm0-dev:amd64 \\\nlibxcb-sync1:amd64 \\\nlibxcb-util1:amd64 \\\nlibxcb-xfixes0:amd64 \\\nlibxcb-xinerama0:amd64 \\\nlibxcb-xinput0:amd64 \\\nlibxcb-xkb1:amd64 \\\nlibxcb-xv0:amd64 \\\nlibxcb1:amd64 \\\nlibxcb1-dev:amd64 \\\nlibxcomposite1:amd64 \\\nlibxcursor1:amd64 \\\nlibxdamage1:amd64 \\\nlibxdmcp-dev:amd64 \\\nlibxdmcp6:amd64 \\\nlibxdot4:amd64 \\\nlibxext-dev:amd64 \\\nlibxext6:amd64 \\\nlibxfixes3:amd64 \\\nlibxfont2:amd64 \\\nlibxft-dev:amd64 \\\nlibxft2:amd64 \\\nlibxi6:amd64 \\\nlibxinerama-dev:amd64 \\\nlibxinerama1:amd64 \\\nlibxkbcommon-x11-0:amd64 \\\nlibxkbcommon0:amd64 \\\nlibxkbfile1:amd64 \\\nlibxklavier16:amd64 \\\nlibxm4:amd64 \\\nlibxml2:amd64 \\\nlibxml2-dev:amd64 \\\nlibxmu6:amd64 \\\nlibxmuu1:amd64 \\\nlibxpm-dev:amd64 \\\nlibxpm4:amd64 \\\nlibxrandr2:amd64 \\\nlibxrender-dev:amd64 \\\nlibxrender1:amd64 \\\nlibxshmfence1:amd64 \\\nlibxslt1.1:amd64 \\\nlibxss1:amd64 \\\nlibxt-dev:amd64 \\\nlibxt6:amd64 \\\nlibxtables12:amd64 \\\nlibxtst6:amd64 \\\nlibxv1:amd64 \\\nlibxvmc1:amd64 \\\nlibxxf86vm1:amd64 \\\nlibxxhash-dev:amd64 \\\nlibxxhash0:amd64 \\\nlibyaml-0-2:amd64 \\\nlibyelp0:amd64 \\\nlibz3-4:amd64 \\\nlibz3-dev:amd64 \\\nlibzstd-dev:amd64 \\\nlibzstd1:amd64 \\\nlinux-libc-dev:amd64 \\\nllvm-10 \\\nllvm-10-dev \\\nllvm-10-runtime \\\nllvm-10-tools \\\nlocales \\\nlogin \\\nlogsave \\\nlsb-base \\\nlsb-release \\\nlzma \\\nm4 \\\nmake \\\nman-db \\\nmanpages \\\nmanpages-dev \\\nmawk \\\nmesa-vulkan-drivers:amd64 \\\nmime-support \\\nmobile-broadband-provider-info \\\nmodemmanager \\\nmount \\\nmousetweaks \\\nmutter \\\nmutter-common \\\nmysql-common \\\nncurses-base \\\nncurses-bin \\\nnetbase \\\nnetwork-manager \\\nnetwork-manager-gnome \\\nnetwork-manager-pptp \\\nnetworkd-dispatcher \\\nodbcinst \\\nodbcinst1debian2:amd64 \\\nopenssh-client \\\nopenssl \\\np11-kit \\\np11-kit-modules:amd64 \\\npackagekit \\\npackagekit-tools \\\npasswd \\\npatch \\\npci.ids \\\npsmisc \\\nperl \\\nperl-base \\\nperl-modules-5.30 \\\npinentry-curses \\\npinentry-gnome3 \\\npkg-config \\\npolicykit-1 \\\npoppler-data \\\nppp \\\npptp-linux \\\nprocps \\\npublicsuffix \\\npulseaudio \\\npulseaudio-module-bluetooth \\\npulseaudio-utils \\\npython3 \\\npython3-apport \\\npython3-apt \\\npython3-aptdaemon \\\npython3-aptdaemon.gtk3widgets \\\npython3-args \\\npython3-atomicwrites \\\npython3-attr \\\npython3-backcall \\\npython3-blinker \\\npython3-bs4 \\\npython3-cairo:amd64 \\\npython3-certifi \\\npython3-cffi-backend \\\npython3-chardet \\\npython3-colorama \\\npython3-cryptography \\\npython3-cups \\\npython3-cupshelpers \\\npython3-cvxopt \\\npython3-cycler \\\npython3-dateutil \\\npython3-dbus \\\npython3-decorator \\\npython3-defer \\\npython3-dev \\\npython3-distro \\\npython3-distutils \\\npython3-entrypoints \\\npython3-et-xmlfile \\\npython3-future \\\npython3-gi \\\npython3-html5lib \\\npython3-httplib2 \\\npython3-ibus-1.0 \\\npython3-idna \\\npython3-importlib-metadata \\\npython3-ipython \\\npython3-ipython-genutils \\\npython-is-python3 \\\npython3-jdcal \\\npython3-jedi \\\npython3-joblib \\\npython3-jwt \\\npython3-keyring \\\npython3-kiwisolver \\\npython3-launchpadlib \\\npython3-lazr.restfulclient \\\npython3-lazr.uri \\\npython3-lib2to3 \\\npython3-lxml:amd64 \\\npython3-lz4 \\\npython3-macaroonbakery \\\npython3-more-itertools \\\npython3-nacl \\\npython3-numexpr \\\npython3-numpy \\\npython3-oauthlib \\\npython3-olefile \\\npython3-openpyxl \\\npython3-packaging \\\npython3-pandas \\\npython3-pandas-lib \\\npython3-parso \\\npython3-patsy \\\npython3-pexpect \\\npython3-pickleshare \\\npython3-pil:amd64 \\\npython3-pip \\\npython3-pkg-resources \\\npython3-pluggy \\\npython3-problem-report \\\npython3-prompt-toolkit \\\npython3-protobuf \\\npython3-psutil \\\npython3-ptyprocess \\\npython3-py \\\npython3-pygments \\\npython3-pymacaroons \\\npython3-pyparsing \\\npython3-pytest \\\npython3-requests \\\npython3-requests-unixsocket \\\npython3-rfc3339 \\\npython3-scipy \\\npython3-seaborn \\\npython3-secretstorage \\\npython3-setuptools \\\npython3-simplejson \\\npython3-six \\\npython3-soupsieve \\\npython3-statsmodels \\\npython3-statsmodels-lib:amd64 \\\npython3-systemd \\\npython3-tables \\\npython3-tables-lib \\\npython3-talloc:amd64 \\\npython3-tk:amd64 \\\npython3-traitlets \\\npython3-tz \\\npython3-urllib3 \\\npython3-wadllib \\\npython3-wcwidth \\\npython3-webencodings \\\npython3-xlrd \\\npython3-xlwt \\\npython3-yaml \\\npython3-zipp \\\npython3.8 \\\npython3.8-dev \\\nqiv \\\nqt5-gtk-platformtheme:amd64 \\\nqttranslations5-l10n \\\nreadline-common \\\nrsync \\\nrtkit \\\nrygel \\\nsamba-libs:amd64 \\\nsane-utils \\\nscreen \\\nsed \\\nsensible-utils \\\nsession-migration \\\nsgml-base \\\nsgml-data \\\nshared-mime-info \\\nsound-theme-freedesktop \\\nsqlite3 \\\nsrm-ifce-dev:amd64 \\\nswitcheroo-control \\\nsystem-config-printer \\\nsystem-config-printer-common \\\nsystem-config-printer-udev \\\nsystemd \\\nsystemd-sysv \\\nsystemd-timesyncd \\\nsysvinit-utils \\\ntar \\\ntexlive-latex-base \\\ntexlive-pstricks \\\ntk8.6-blt2.5 \\\nttf-bitstream-vera \\\ntzdata \\\nubuntu-docs \\\nubuntu-keyring \\\nubuntu-mono \\\nubuntu-session \\\nubuntu-wallpapers \\\nubuntu-wallpapers-focal \\\nucf \\\nudev \\\nunixodbc-dev:amd64 \\\nunzip \\\nupdate-inetd \\\nupower \\\nusb-modeswitch \\\nusb-modeswitch-data \\\nusb.ids \\\nusbmuxd \\\nutil-linux \\\nuuid-dev:amd64 \\\nvalgrind \\\nvim \\\nvim-common \\\nvim-runtime \\\nwamerican \\\nwget \\\nwhoopsie-preferences \\\nwireless-regdb \\\nwpasupplicant \\\nx11-common \\\nx11-xkb-utils \\\nx11-xserver-utils \\\nx11proto-core-dev \\\nx11proto-dev \\\nx11proto-xext-dev \\\nx11proto-xinerama-dev \\\nxauth \\\nxdg-dbus-proxy \\\nxdg-user-dirs \\\nxdot \\\nxfonts-base \\\nxfonts-encodings \\\nxfonts-utils \\\nxkb-data \\\nxml-core \\\nxorg-sgml-doctools \\\nxserver-common \\\nxserver-xephyr \\\nxserver-xorg \\\nxserver-xorg-core \\\nxserver-xorg-input-all \\\nxserver-xorg-input-libinput \\\nxserver-xorg-input-wacom \\\nxserver-xorg-legacy \\\nxserver-xorg-video-all \\\nxserver-xorg-video-amdgpu \\\nxserver-xorg-video-ati \\\nxserver-xorg-video-fbdev \\\nxserver-xorg-video-intel \\\nxserver-xorg-video-nouveau \\\nxserver-xorg-video-qxl \\\nxserver-xorg-video-radeon \\\nxserver-xorg-video-vesa \\\nxserver-xorg-video-vmware \\\nxtrans-dev \\\nxwayland \\\nxxd \\\nxz-utils \\\nyaru-theme-gnome-shell \\\nyelp \\\nyelp-xsl \\\nzenity \\\nzenity-common \\\nzip \\\nzlib1g:amd64 \\\nzlib1g-dev:amd64 && rm -rf /var/lib/apt/lists/*;\n\n\n# we create the /SMASH directory\n\nWORKDIR /SMASH\n\n# here we download and install several libraries/programs used by SMASH\n\nARG pythiaV=\"8307\"\n\nRUN wget https://pythia.org/download/pythia83/pythia${pythiaV}.tgz && \\\ntar xf pythia${pythiaV}.tgz && rm pythia${pythiaV}.tgz && \\\ncd pythia${pythiaV} && \\\n ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --cxx-common='-std=c++11 -mfpmath=sse -O3 -fPIC -march=x86-64' --prefix=/SMASH/pythia_install && \\\nmake -j$(nproc) && \\\nmake install && \\\necho /SMASH/pythia_install/lib >> /etc/ld.so.conf && ldconfig\nENV PYTHIA8=/SMASH/pythia_install/\nENV PYTHIA8DATA=$PYTHIA8/share/Pythia8/xmldoc\nENV PYTHIA_LIBRARY=$PYTHIA8/lib\nENV PYTHIA_INCLUDE=$PYTHIA8/include\nENV LD_LIBRARY_PATH=$PYTHIA_LIBRARY:$LD_LIBRARY_PATH\nENV PATH=$PYTHIA8/bin:$PATH\n\nARG rootV=\"6.26.00\"\n\nRUN cd /SMASH && \\\nwget https://root.cern/download/root_v${rootV}.source.tar.gz && \\\ntar xf root_v${rootV}.source.tar.gz && \\\nmv root-${rootV} root_src && \\\nmkdir -p root_install && \\\nmkdir -p root_build && \\\ncd root_build && \\\ncmake -DCMAKE_INSTALL_PREFIX=../root_install ../root_src  -DCMAKE_C_FLAGS=\"-O3 -mfpmath=sse -march=x86-64\" -DCMAKE_CXX_FLAGS=\"-O3 -mfpmath=sse -march=x86-64\" && \\\ncmake --build . --target install -j$(nproc) && rm root_v${rootV}.source.tar.gz\nENV ROOTSYS=/SMASH/root_install\nENV PATH=$ROOTSYS/bin:$PATH\nENV LD_LIBRARY_PATH=$ROOTSYS/lib:$LD_LIBRARY_PATH\nENV SHLIB_PATH=$ROOTSYS/lib\nENV LIBPATH=$ROOTSYS/lib\nENV PYTHONPATH=$ROOTSYS/lib:$PYTHONPATH\nENV MANPATH=$ROOTSYS/man:$MANPATH\nENV CMAKE_PREFIX_PATH=$ROOTSYS:$CMAKE_PREFIX_PATH\nENV JUPYTER_PATH=$ROOTSYS/etc/notebook:$JUPYTER_PATH\nENV JUPYTER_CONFIG_DIR=$ROOTSYS/etc/notebook:$JUPYTER_CONFIG_DIR\nENV CLING_STANDARD_PCH=none\nRUN echo /SMASH/root_install/lib >> /etc/ld.so.conf && ldconfig && \\\necho /SMASH/hepmc3_install/lib >> /etc/ld.so.conf && ldconfig\n\nARG hepmcV=\"3.2.5\"\n\nRUN cd /SMASH && \\\nwget https://hepmc.web.cern.ch/hepmc/releases/HepMC3-${hepmcV}.tar.gz && \\\ntar xf HepMC3-${hepmcV}.tar.gz && \\\nmkdir -p HepMC3_build && \\\ncd HepMC3_build && \\\ncmake -DHEPMC3_ENABLE_ROOTIO:BOOL=ON -DHEPMC3_ENABLE_TEST:BOOL=OFF -DHEPMC3_INSTALL_INTERFACES:BOOL=ON -DHEPMC3_ENABLE_PYTHON:BOOL=OFF -DHEPMC3_BUILD_STATIC_LIBS:BOOL=OFF -DHEPMC3_BUILD_DOCS:BOOL=OFF -DCMAKE_INSTALL_PREFIX=../hepmc3_install -DCMAKE_C_FLAGS=\"-O3 -mfpmath=sse -march=x86-64\" -DCMAKE_CXX_FLAGS=\"-O3 -mfpmath=sse -march=x86-64\" ../HepMC3-${hepmcV} && \\\nmake -j$(nproc) && \\\nmake install && rm HepMC3-${hepmcV}.tar.gz\nENV PATH=\"/SMASH/hepmc3_install/bin:$PATH\"\nENV LD_LIBRARY_PATH=\"/SMASH/hepmc3_install/lib:$LD_LIBRARY_PATH\"\n\nRUN cd /SMASH && \\\ngit clone https://github.com/hoxu/gitstats.git && \\\ncd gitstats && \\\nmake install\n\nRUN cd /SMASH && \\\nwget https://github.com/danmar/cppcheck/archive/2.2.tar.gz && \\\ntar xf 2.2.tar.gz && \\\ncd cppcheck-2.2 && \\\ng++ -o cppcheck -std=c++11 -Iexternals -Iexternals/simplecpp -Iexternals/tinyxml -Ilib cli/*.cpp lib/*.cpp externals/simplecpp/simplecpp.cpp externals/tinyxml/*.cpp && \\\nwget https://raw.githubusercontent.com/cpplint/cpplint/develop/cpplint.py && \\\nmkdir -p /SMASH/auxiliary_progs/ && mv cppcheck cpplint.py /SMASH/auxiliary_progs/ && \\\nchmod +x /SMASH/auxiliary_progs/* && rm 2.2.tar.gz\nENV PATH=$PATH:/SMASH/auxiliary_progs\n\n# now we install Rivet, first fixing a few details in the bootstrap script\n\nARG rivetV=\"3.1.5\"\n\nRUN mkdir -p rivet_build && cd rivet_build\nRUN wget https://gitlab.com/hepcedar/rivetbootstrap/raw/${rivetV}/rivet-bootstrap\n# we set the Rivet installation directory\nRUN sed -i \"9s/\\$PWD\\/local/\\/SMASH\\/Rivet_install/\" rivet-bootstrap\n# we set the number of concurrent compilation processes\nRUN sed -i \"10s/j3/j$(nproc)/\" rivet-bootstrap\n# we disable the installation of hepmc3, already installed\nRUN sed -i \"12s/1/0/\" rivet-bootstrap\n# we update the hepmc3 version\n#RUN sed -i \"18s/2.06.11/${hepmcV}/\" rivet-bootstrap\n# we provide the hepm3 installation path\nRUN sed -i \"53s/usr/\\SMASH\\/hepmc3_install/\" rivet-bootstrap\n# we want compile only the MC analyses\nRUN sed -i '193i     sed -i \"542,556d;558,566d\" analyses/Makefile.in' rivet-bootstrap\nRUN sed -i '194i     rm -rf analyses/plugin[A-L]* analyses/pluginMisc analyses/plugin[N-Z]*' rivet-bootstrap\n\n# now we really compile and install Rivet\nENV PYTHON=/usr/bin/python3\n\nRUN chmod +x rivet-bootstrap && \\\n./rivet-bootstrap && \\\necho /SMASH/Rivet_install/lib >> /etc/ld.so.conf && \\\necho /SMASH/Rivet_install/lib64 >> /etc/ld.so.conf && \\\nldconfig\n\nENV PATH=/SMASH/Rivet_install/bin:$PATH\nENV LD_LIBRARY_PATH=\"/SMASH/Rivet_install/lib:/SMASH/Rivet_install/lib64:$LD_LIBRARY_PATH\"\nENV PYTHONPATH=\"/SMASH/Rivet_install/lib/python3.8/site-packages:$PYTHONPATH\"\nENV TEXMFHOME=\"/SMASH/Rivet_install/share/Rivet/texmf:$TEXMFHOME\"\nENV HOMETEXMF=\"/SMASH/Rivet_install/share/Rivet/texmf:$HOMETEXMF\"\nENV TEXMFCNF=\"/SMASH/Rivet_install/share/Rivet/texmf/cnf:$TEXMFCNF\"\nENV TEXINPUTS=\"/SMASH/Rivet_install/share/Rivet/texmf/tex//:$TEXINPUTS\"\nENV LATEXINPUTS=\"/SMASH/Rivet_install/share/Rivet/texmf/tex//:$LATEXINPUTS\"\n\n# we install matplotlib 3.5.1, not available in Ubuntu 18.04\nRUN pip3 install --no-cache-dir matplotlib==3.5.1\n\n# eventually, we download and compile SMASH\n\nRUN cd /SMASH && \\ \ngit clone https://github.com/smash-transport/smash.git && \\\nmkdir -p smash_bin && \\\ncd smash_bin && \\\ncmake /SMASH/smash -DPythia_CONFIG_EXECUTABLE=/SMASH/pythia_install/bin/pythia8-config -DCMAKE_INSTALL_PREFIX=/SMASH/hepmc3_install -DCMAKE_C_FLAGS=\"-O3 -mfpmath=sse -march=x86-64\" -DCMAKE_CXX_FLAGS=\"-O3 -mfpmath=sse -march=x86-64\" \\\n-DCMAKE_CXX_STANDARD=14 && make -j$(nproc)\nENV PATH=$PATH:/SMASH/smash_bin\n\n# we remove most of the sources\n\nRUN cd /SMASH && \\\nrm -rf HepMC3-${hepmcV} HepMC3-${hepmcV}.tar.gz HepMC3_build pythia${pythiaV} gitstats cppcheck-2.2 2.2.tar.gz root_v${rootV}.source.tar.gz root_build root_src rivet_build /var/cache/apt/archives/*.deb cython-* fastjet-* fjcontrib-* Rivet-* YODA-*\n\n# we allow Imagemagick to process PS, EPS and PDF files\nRUN sed -i -e \"/ghostscript/d\" -e \"/PS/d\" -e \"/PS2/d\" -e \"/PS3/d\" -e \"/EPS/d\" -e \"/PDF/d\" -e \"/XPS/d\" /etc/ImageMagick-6/policy.xml\n\n# we set a few other environment variables\n\nENV LC_ALL=en_US.UTF-8\nENV LANG en=US.UTF-8\nENV LANGUAGE=en_US.UTF-8\n\n# shell prompt\n\nENV PS1=\"S - \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ \"\n\n# we set up the shell prompt during the container execution, this works when we convert the Docker into a Singularity container\n\nRUN mkdir -p /.singularity.d/env/ && \\\nCUSTOM_ENV=/.singularity.d/env/99-zz_custom_env.sh && \\\necho '#!/bin/bash' > $CUSTOM_ENV && \\\necho 'PS1=\"S - \\[\\e]0;\\u@\\h: \\w\\a\\]${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ \"' >> $CUSTOM_ENV && \\\nchmod 755 $CUSTOM_ENV\n"
}