{
  "startTime": 1674217735525,
  "endTime": 1674217736184,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 7,
        "columnEnd": 152
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# AUTOMATICALLY GENERATED\n# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/Dockerfile.erb\n\nFROM fluent/fluentd:v1.14.6-debian-1.0\n\nLABEL maintainer=\"Eduardo Silva <eduardo@treasure-data.com>\"\nUSER root\nWORKDIR /home/fluent\nENV PATH /fluentd/vendor/bundle/ruby/2.7.0/bin:$PATH\nENV GEM_PATH /fluentd/vendor/bundle/ruby/2.7.0\nENV GEM_HOME /fluentd/vendor/bundle/ruby/2.7.0\n# skip runtime bundler installation\nENV FLUENTD_DISABLE_BUNDLER_INJECTION 1\n\nCOPY Gemfile* /fluentd/\nRUN buildDeps=\"sudo make gcc g++ libc-dev libffi-dev curl\" \\\n  runtimeDeps=\"\" \\\n      && apt-get update \\\n     && apt-get upgrade -y \\\n     && apt-get install \\\n     -y --no-install-recommends \\\n     $buildDeps $runtimeDeps net-tools \\\n    && gem install bundler --version 2.2.24 \\\n    && bundle config silence_root_warning true \\\n    && bundle install --gemfile=/fluentd/Gemfile --path=/fluentd/vendor/bundle \\\n    && curl -f -sL -o columnify_0.1.0_Linux_x86_64.tar.gz https://github.com/reproio/columnify/releases/download/v0.1.0/columnify_0.1.0_Linux_x86_64.tar.gz \\\n    && tar xf columnify_0.1.0_Linux_x86_64.tar.gz \\\n    && rm LICENSE README.md columnify_0.1.0_Linux_x86_64.tar.gz \\\n    && mv columnify /usr/local/bin/ \\\n    && SUDO_FORCE_REMOVE=yes \\\n    apt-get purge -y --auto-remove \\\n                  -o APT::AutoRemove::RecommendsImportant=false \\\n                  $buildDeps \\\n && rm -rf /var/lib/apt/lists/* \\\n    && gem sources --clear-all \\\n    && rm -rf /tmp/* /var/tmp/* /usr/lib/ruby/gems/*/cache/*.gem\n# Copy configuration files\nCOPY ./conf/fluent.conf /fluentd/etc/\nCOPY ./conf/systemd.conf /fluentd/etc/\nCOPY ./conf/kubernetes.conf /fluentd/etc/\nCOPY ./conf/prometheus.conf /fluentd/etc/\nCOPY ./conf/tail_container_parse.conf /fluentd/etc/\nCOPY ./conf/kubernetes/*.conf /fluentd/etc/kubernetes/\nRUN touch /fluentd/etc/disable.conf\n\n# Copy plugins\nCOPY plugins /fluentd/plugins/\nCOPY entrypoint.sh /fluentd/entrypoint.sh\n\n# Environment variables\nENV FLUENTD_OPT=\"\"\nENV FLUENTD_CONF=\"fluent.conf\"\n\n# Overwrite ENTRYPOINT to run fluentd as root for /var/log / /var/lib\nENTRYPOINT [\"tini\", \"--\", \"/fluentd/entrypoint.sh\"]\n"
}