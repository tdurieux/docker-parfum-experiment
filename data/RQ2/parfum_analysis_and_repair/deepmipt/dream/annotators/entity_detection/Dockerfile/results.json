{
  "startTime": 1674219420620,
  "endTime": 1674219421195,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 44
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 44
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM deeppavlov/base-gpu:0.12.1\n\nRUN apt-get update && apt-get install --no-install-recommends git -y && rm -rf /var/lib/apt/lists/*;\n\nARG SEQ_TAG_CONFIG\nARG EL_TAG_CONFIG\nARG CONFIG\nARG FINEGRAINED\nARG LOWERCASE\nARG PORT\nARG SRC_DIR\nARG SED_ARG=\" | \"\n\nENV SEQ_TAG_CONFIG=$SEQ_TAG_CONFIG\nENV EL_TAG_CONFIG=$EL_TAG_CONFIG\nENV CONFIG=$CONFIG\nENV FINEGRAINED=$FINEGRAINED\nENV LOWERCASE=$LOWERCASE\nENV PORT=$PORT\n\nCOPY ./annotators/entity_detection/requirements.txt /src/requirements.txt\nRUN pip install --no-cache-dir -r /src/requirements.txt\n\nRUN python -m spacy download en_core_web_sm\n\nCOPY $SRC_DIR /src\n\nWORKDIR /src\nRUN python -m deeppavlov install $SEQ_TAG_CONFIG\nRUN python -m deeppavlov install $EL_TAG_CONFIG\n\nRUN sed -i \"s|$SED_ARG|g\" \"$SEQ_TAG_CONFIG\"\nRUN sed -i \"s|$SED_ARG|g\" \"$EL_TAG_CONFIG\"\n\nCMD gunicorn  --workers=1 --timeout 500 server:app -b 0.0.0.0:8103\n"
}