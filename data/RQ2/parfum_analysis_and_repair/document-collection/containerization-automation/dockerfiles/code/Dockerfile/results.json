{
  "startTime": 1674255818948,
  "endTime": 1674255819733,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 1,
        "columnEnd": 150
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 1,
        "columnEnd": 150
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM zjzstu/ubuntu:18.04\nLABEL maintainer \"zhujian <zjzstu@github.com>\"\n\nWORKDIR /app\n\nRUN set -eux && \\\n\tapt-get update && \\\n\tapt-get install --no-install-recommends -y libnotify4 libnss3 libxkbfile1 libsecret-1-0 libgtk-3-0 libxss1 libx11-xcb1 libasound2 ttf-wqy-microhei python3-pip curl wget gosu && \\\n\t# verify that the binary works\n\tgosu nobody true && \\\n\t# 下载安装包\n\twget https://vscode.cdn.azure.cn/stable/b37e54c98e1a74ba89e03073e5a3761284e3ffb0/code_1.38.1-1568209190_amd64.deb && \\\n\t# 新建用户user，并修改安装包属主/属组\n\tuseradd -s /bin/bash -m user && \\\n\tchown -R user:user /app && \\\n\tchmod a+x *.deb && \\\n\tdpkg -i code_1.38.1-1568209190_amd64.deb && \\\n\tapt-get install -f -y && \\\n\t# 删除\n\trm code*.deb && \\\n\tapt-get autoclean -y && apt-get clean -y && \\\n\tfind /var/lib/apt/lists -type f -delete && \\\n\tfind /var/cache -type f -delete && \\\n\tfind /var/log -type f -delete && \\\n\tfind /usr/share/doc -type f -delete && \\\n\tfind /usr/share/man -type f -delete && rm -rf /var/lib/apt/lists/*;\n\nCOPY docker-entrypoint.sh ./\nRUN chmod a+x docker-entrypoint.sh && \\\n\tchown user:user docker-entrypoint.sh\nENTRYPOINT [\"/app/docker-entrypoint.sh\"]\n"
}