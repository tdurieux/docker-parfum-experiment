{
  "startTime": 1674255031419,
  "endTime": 1674255032179,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 7,
        "columnEnd": 60
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BASE_IMAGE_TAG=lts-buster\n# version including browers, use tag lts-buster-browsers\n\nFROM circleci/node:${BASE_IMAGE_TAG} as env-protoc\nARG ARG_PROTOC_VERSION=3.7.1\nENV PROTOC_VERSION=${ARG_PROTOC_VERSION}\n\nENV PROTOC_ZIP=protoc-${ARG_PROTOC_VERSION}-linux-x86_64.zip\nUSER root\nRUN curl -f -OL https://github.com/protocolbuffers/protobuf/releases/download/v${PROTOC_VERSION}/${PROTOC_ZIP} \\\n    && unzip -o ${PROTOC_ZIP} -d /usr/local bin/protoc \\\n    && unzip -o ${PROTOC_ZIP} -d /usr/local 'include/*' \\\n    && rm -f $PROTOC_ZIP\n\nUSER circleci\nRUN protoc --version\n\nFROM env-protoc as global-deps\nENV NPM_PACKAGES=\"/home/circleci/.npm-packages\"\nENV NODE_PATH=${NPM_PACKAGES}/lib/node_modules:$NODE_PATH\nRUN mkdir ${NPM_PACKAGES}\nRUN sudo npm config -g set prefix ${NPM_PACKAGES}\nRUN npm install -g node-gyp && npm cache clean --force;\nRUN npm install -g grpc@1.24.2 && npm cache clean --force;\nRUN npm install -g \\\n    electron@7.0.0 \\\n    typescript \\\n    grpc-tools@^1.8.1 \\\n    grpc_tools_node_protoc_ts \\\n    && npm install -g grpc --target=7.0.0 --runtime=electron && npm cache clean --force;\n"
}