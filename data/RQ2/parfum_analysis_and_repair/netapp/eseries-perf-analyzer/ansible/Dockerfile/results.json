{
  "startTime": 1674246099550,
  "endTime": 1674246100809,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 96
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 61
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG TAG=latest\nARG PROJ_NAME=ntap-grafana\nARG IMAGE=${PROJ_NAME}/python-base:${TAG}\n# Installing Ansible requires gcc and other dependencies to build packages from source. We'll do this in 2 stages so we don't\n#   have to have all of the build-time dependencies in the final image.\nFROM ${IMAGE} as builder\n\n# Signifies this is a temporary image that can be purged\nLABEL autodelete=\"true\"\nRUN apk add --no-cache --update gcc musl-dev libffi-dev make openssl-dev\nRUN python -m pip install --upgrade pip\nRUN pip --default-timeout=5 --no-cache-dir --retries 15 install --upgrade --prefix=/install -r requirements.txt\n\nFROM ${IMAGE}\nCOPY --from=builder /install /usr/local\nADD *.yml *.json ./\nADD dashboards/ ./dashboards\nADD tasks/ ./tasks\nRUN mkdir -p /etc/ansible && touch /etc/ansible/hosts && mkdir -p /home/dashboards/backup\nENTRYPOINT [\"ansible-playbook\", \"-v\"]\nCMD [\"main.yml\"]\n"
}