{
  "startTime": 1674254293828,
  "endTime": 1674254294846,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 71
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM dctm-base\n\nMAINTAINER Jean-Pierre FRANCONIERI <jean-pierre.franconieri@soprasteria.com>\n\n# helper script used to create a response file\nCOPY create-responsefile.sh $DM_HOME/install/create-responsefile.sh\nRUN chown dmadmin:dmadmin $DM_HOME/install/create-responsefile.sh; \\\n    chmod a+x $DM_HOME/install/create-responsefile.sh\n\n# helper script to welcome world (make ACS and TS reachable from outside Docker)\nCOPY welcome-world.sh $DM_HOME/install/welcome-world.sh\nRUN chown dmadmin:dmadmin $DM_HOME/install/welcome-world.sh; \\\n    chmod a+x $DM_HOME/install/welcome-world.sh\n\n# helper script used to delete any previous installation\nCOPY delete-schema.sh $DM_HOME/install/delete-schema.sh\nRUN chown dmadmin:dmadmin $DM_HOME/install/delete-schema.sh; \\\n    chmod a+x $DM_HOME/install/delete-schema.sh\n\n# wrapper script starting JMS\nCOPY startJms.sh $DM_HOME/install/\nRUN chown dmadmin:dmadmin $DM_HOME/install/startJms.sh; \\\n    chmod a+x $DM_HOME/install/startJms.sh\n\n# installing oracle client\nCOPY ./bundles /bundles\nRUN\trpm -ivh /bundles/oracle-instantclient11.2-basic-11.2.0.4.0-1.x86_64.rpm ; \\\n\trpm -ivh /bundles/oracle-instantclient11.2-devel-11.2.0.4.0-1.x86_64.rpm ; \\\n\trpm -ivh /bundles/oracle-instantclient11.2-sqlplus-11.2.0.4.0-1.x86_64.rpm ; \\\n\t[ -h /usr/bin/sqlplus ] || ln -s /usr/bin/sqlplus64 /usr/bin/sqlplus; \\\n\techo \"/usr/lib/oracle/11.2/client64/lib\" > /etc/ld.so.conf.d/oracle.conf && ldconfig\n\nCOPY tnsnames.ora $DOCUMENTUM/dba/\nRUN chown dmadmin:dmadmin $DOCUMENTUM/dba/tnsnames.ora; \\\n    chmod a+r $DOCUMENTUM/dba/tnsnames.ora; \\\n    echo \"export ORACLE_HOME=/usr/lib/oracle/11.2/client64\" >> /etc/profile.d/documentum.sh ; \\\n    echo \"export TNS_ADMIN=\\${DOCUMENTUM}/dba\" >> /etc/profile.d/documentum.sh\n\nUSER root\nCOPY docker-entrypoint.sh $DOCUMENTUM/entrypoint.sh\nRUN chown dmadmin:dmadmin $DOCUMENTUM/entrypoint.sh \\\n && chmod a+x $DOCUMENTUM/entrypoint.sh\n\nRUN mv /bundles/isalive.sh ${DM_HOME}/bin/ \\\n && chown dmadmin:dmadmin ${DM_HOME}/bin/isalive.sh \\\n && chmod a+x ${DM_HOME}/bin/isalive.sh\n\nRUN mv /bundles/broker-install.properties $DM_HOME/install/broker-install.properties \\\n && chown dmadmin:dmadmin $DM_HOME/install/broker-install.properties \\\n && chmod -R a+r /bundles\n\nEXPOSE 1489 49000 49001\nEXPOSE 9080\n# Thumnail Server\nEXPOSE 8080 8008\n\nUSER dmadmin\nWORKDIR $DOCUMENTUM\n\nENV REPOSITORY_NAME devbox\nENV JMS_HOME ${DOCUMENTUM_SHARED}/jboss7.1.1/server\n\nENV BAM_USER bamdbo\nENV BAM_PWD bamdbo\n\nRUN mv $DM_HOME/install/startJms.sh ${JMS_HOME}/startJms.sh\n\n# install Connection Broker\nRUN $DM_HOME/install/dm_launch_server_config_program.sh -f $DM_HOME/install/broker-install.properties\n\n# installing Thumbnail Server\nENV TS_HOME ${DM_HOME}/thumbsrv\nRUN mkdir /tmp/ts-install \\\n && tar -xvf /bundles/Thumbnail_Server_7.1_linux.tar -C /tmp/ts-install \\\n && cd /tmp/ts-install \\\n && chmod u+x ./thumbserverLinuxSetup.bin \\\n && ./thumbserverLinuxSetup.bin -config /bundles/tsInstall.ini -silent \\\n && cat install.log \\\n && echo \"done\" && rm /bundles/Thumbnail_Server_7.1_linux.tar\n\nENTRYPOINT [\"/opt/documentum/entrypoint.sh\", \"--repo-name=devbox\" ]\n#CMD [\"--repo-name=devbox\"]\n##USER root\n##CMD [\"/usr/sbin/sshd\", \"-D\"]\n"
}