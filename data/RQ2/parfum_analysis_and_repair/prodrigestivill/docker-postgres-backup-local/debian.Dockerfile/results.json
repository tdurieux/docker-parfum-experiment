{
  "startTime": 1674221262733,
  "endTime": 1674221264210,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 145
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BASETAG=latest\nFROM postgres:$BASETAG\n\nARG GOCRONVER=v0.0.10\nARG TARGETOS\nARG TARGETARCH\n\n# FIX Debian cross build\nARG DEBIAN_FRONTEND=noninteractive\nRUN set -x \\\n\t&& ln -s /usr/bin/dpkg-split /usr/sbin/dpkg-split \\\n\t&& ln -s /usr/bin/dpkg-deb /usr/sbin/dpkg-deb \\\n\t&& ln -s /bin/tar /usr/sbin/tar \\\n\t&& ln -s /bin/rm /usr/sbin/rm \\\n\t&& ln -s /usr/bin/dpkg-split /usr/local/sbin/dpkg-split \\\n\t&& ln -s /usr/bin/dpkg-deb /usr/local/sbin/dpkg-deb \\\n\t&& ln -s /bin/tar /usr/local/sbin/tar \\\n\t&& ln -s /bin/rm /usr/local/sbin/rm\n#\n\nRUN set -x \\\n\t&& apt-get update && apt-get install -y --no-install-recommends ca-certificates curl && rm -rf /var/lib/apt/lists/* \\\n\t&& curl -f -o /usr/local/bin/go-cron.gz -L https://github.com/prodrigestivill/go-cron/releases/download/$GOCRONVER/go-cron-$TARGETOS-$TARGETARCH.gz \\\n\t&& gzip -vnd /usr/local/bin/go-cron.gz && chmod a+x /usr/local/bin/go-cron \\\n\t&& apt-get purge -y --auto-remove ca-certificates && apt-get clean\n\nENV POSTGRES_DB=\"**None**\" \\\n    POSTGRES_DB_FILE=\"**None**\" \\\n    POSTGRES_HOST=\"**None**\" \\\n    POSTGRES_PORT=5432 \\\n    POSTGRES_USER=\"**None**\" \\\n    POSTGRES_USER_FILE=\"**None**\" \\\n    POSTGRES_PASSWORD=\"**None**\" \\\n    POSTGRES_PASSWORD_FILE=\"**None**\" \\\n    POSTGRES_PASSFILE_STORE=\"**None**\" \\\n    POSTGRES_EXTRA_OPTS=\"-Z6\" \\\n    POSTGRES_CLUSTER=\"FALSE\" \\\n    SCHEDULE=\"@daily\" \\\n    BACKUP_DIR=\"/backups\" \\\n    BACKUP_SUFFIX=\".sql.gz\" \\\n    BACKUP_KEEP_DAYS=7 \\\n    BACKUP_KEEP_WEEKS=4 \\\n    BACKUP_KEEP_MONTHS=6 \\\n    BACKUP_KEEP_MINS=1440 \\\n    HEALTHCHECK_PORT=8080\n\nCOPY backup.sh /backup.sh\n\nVOLUME /backups\n\nENTRYPOINT [\"/bin/sh\", \"-c\"]\nCMD [\"exec /usr/local/bin/go-cron -s \\\"$SCHEDULE\\\" -p \\\"$HEALTHCHECK_PORT\\\" -- /backup.sh\"]\n\nHEALTHCHECK --interval=5m --timeout=3s \\\n  CMD curl -f \"http://localhost:$HEALTHCHECK_PORT/\" || exit 1\n"
}