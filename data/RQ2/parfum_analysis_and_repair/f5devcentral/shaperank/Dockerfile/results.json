{
  "startTime": 1674251649816,
  "endTime": 1674251650407,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 9,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 9,
        "columnEnd": 46
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 9,
        "columnEnd": 46
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 9,
        "columnEnd": 70
      }
    }
  ],
  "repairedDockerfile": "FROM emscripten/emsdk\n\n# clonning the right repos\nRUN git clone https://github.com/newspeaklanguage/newspeak.git\nRUN git clone https://github.com/newspeaklanguage/primordialsoup -b extraRevs\nRUN git clone https://github.com/codemirror/CodeMirror.git -b 5.62.0\n\n# install primordialsoup dependencies\nRUN sudo apt-get update\nRUN sudo apt-get -y --no-install-recommends install g++-multilib scons && rm -rf /var/lib/apt/lists/*;\n\n# build primordialsoup\nRUN cd primordialsoup && ./build\n\n# build newspeak\nRUN cp -R CodeMirror newspeak/CodeMirror\n\n# set emsdk vars\nRUN . /emsdk/emsdk_env.sh\n\n# remove the emsdk settings in build\nRUN sed '2,6d' newspeak/build.sh > newspeak/new_build.sh\nRUN cd newspeak && chmod 777 new_build.sh && bash new_build.sh\n\n# setup shaperank directories\nRUN mkdir -p /src/shaperank/src\nCOPY *.sh  /src/shaperank\nCOPY ./src  /src/shaperank/src\n\n# remove the emsdk settings in build\nRUN sed '2,6d' shaperank/build.sh > shaperank/new_build.sh\nRUN cd shaperank && chmod 777 new_build.sh && bash new_build.sh\n\n\n\n\n\n\n\n\n\n"
}