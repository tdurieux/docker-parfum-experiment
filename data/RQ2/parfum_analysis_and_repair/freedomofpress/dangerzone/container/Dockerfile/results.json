{
  "startTime": 1674254032904,
  "endTime": 1674254034228,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 4,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 26
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:latest\n\n# Install dependencies\nRUN apk -U upgrade && \\\n    apk add --no-cache \\\n    ghostscript \\\n    graphicsmagick \\\n    libreoffice \\\n    openjdk8 \\\n    poppler-utils \\\n    python3 \\\n    py3-magic \\\n    py3-pillow \\\n    sudo \\\n    tesseract-ocr \\\n    tesseract-ocr-data-afr \\\n    tesseract-ocr-data-ara \\\n    tesseract-ocr-data-aze \\\n    tesseract-ocr-data-bel \\\n    tesseract-ocr-data-ben \\\n    tesseract-ocr-data-bul \\\n    tesseract-ocr-data-cat \\\n    tesseract-ocr-data-ces \\\n    tesseract-ocr-data-chi_sim \\\n    tesseract-ocr-data-chi_tra \\\n    tesseract-ocr-data-chr \\\n    tesseract-ocr-data-dan \\\n    tesseract-ocr-data-deu \\\n    tesseract-ocr-data-ell \\\n    tesseract-ocr-data-enm \\\n    tesseract-ocr-data-epo \\\n    tesseract-ocr-data-equ \\\n    tesseract-ocr-data-est \\\n    tesseract-ocr-data-eus \\\n    tesseract-ocr-data-fin \\\n    tesseract-ocr-data-fra \\\n    tesseract-ocr-data-frk \\\n    tesseract-ocr-data-frm \\\n    tesseract-ocr-data-glg \\\n    tesseract-ocr-data-grc \\\n    tesseract-ocr-data-heb \\\n    tesseract-ocr-data-hin \\\n    tesseract-ocr-data-hrv \\\n    tesseract-ocr-data-hun \\\n    tesseract-ocr-data-ind \\\n    tesseract-ocr-data-isl \\\n    tesseract-ocr-data-ita \\\n    tesseract-ocr-data-ita_old \\\n    tesseract-ocr-data-jpn \\\n    tesseract-ocr-data-kan \\\n    tesseract-ocr-data-kat \\\n    tesseract-ocr-data-kor \\\n    tesseract-ocr-data-lav \\\n    tesseract-ocr-data-lit \\\n    tesseract-ocr-data-mal \\\n    tesseract-ocr-data-mkd \\\n    tesseract-ocr-data-mlt \\\n    tesseract-ocr-data-msa \\\n    tesseract-ocr-data-nld \\\n    tesseract-ocr-data-nor \\\n    tesseract-ocr-data-pol \\\n    tesseract-ocr-data-por \\\n    tesseract-ocr-data-ron \\\n    tesseract-ocr-data-rus \\\n    tesseract-ocr-data-slk \\\n    tesseract-ocr-data-slv \\\n    tesseract-ocr-data-spa \\\n    tesseract-ocr-data-spa_old \\\n    tesseract-ocr-data-sqi \\\n    tesseract-ocr-data-srp \\\n    tesseract-ocr-data-swa \\\n    tesseract-ocr-data-swe \\\n    tesseract-ocr-data-tam \\\n    tesseract-ocr-data-tel \\\n    tesseract-ocr-data-tgl \\\n    tesseract-ocr-data-tha \\\n    tesseract-ocr-data-tur \\\n    tesseract-ocr-data-ukr \\\n    tesseract-ocr-data-vie\n\n# Install pdftk\nRUN \\\n    wget https://gitlab.com/pdftk-java/pdftk/-/jobs/924565145/artifacts/raw/build/libs/pdftk-all.jar && \\\n    mv pdftk-all.jar /usr/local/bin && \\\n    chmod +x /usr/local/bin/pdftk-all.jar && \\\n    echo '#!/bin/sh' > /usr/local/bin/pdftk && \\\n    echo '/usr/bin/java -jar \"/usr/local/bin/pdftk-all.jar\" \"$@\"' >> /usr/local/bin/pdftk && \\\n    chmod +x /usr/local/bin/pdftk\n\nCOPY dangerzone.py /usr/local/bin/\nRUN chmod +x /usr/local/bin/dangerzone.py\n\n# Add the unprivileged user\nRUN adduser -h /home/user -s /bin/sh -D user\n\n# /tmp/input_file is where the first convert expects the input file to be, and\n# /tmp where it will write the pixel files\n#\n# /dangerzone is where the second script expects files to be put by the first one\n#\n# /safezone is where the wrapper eventually moves the sanitized files.\nVOLUME /dangerzone /tmp/input_file /safezone\n"
}