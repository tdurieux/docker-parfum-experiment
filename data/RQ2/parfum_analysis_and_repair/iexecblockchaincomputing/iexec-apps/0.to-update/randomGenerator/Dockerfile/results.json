{
  "startTime": 1674216275955,
  "endTime": 1674216276707,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 64
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#FROM iexechub/python-scone\nFROM sconecuratedimages/iexec:python-3.6.6-alpine3.6-new-rt\nCOPY --from=sconecuratedimages/iexec:cli-alpine /opt/scone/scone-cli /opt/scone/scone-cli\nCOPY --from=sconecuratedimages/iexec:cli-alpine /usr/local/bin/scone /usr/local/bin/scone\nCOPY --from=sconecuratedimages/iexec:cli-alpine /opt/scone/bin /opt/scone/bin\nRUN apk add bash --no-cache\nCOPY signer /signer\n\nRUN echo \"http://dl-cdn.alpinelinux.org/alpine/v3.5/community\" >> /etc/apk/repositories \\\n    && apk update \\\n    && apk add --update-cache --no-cache libgcc \\\n    && apk --no-cache --update-cache add gcc gfortran python python-dev py-pip build-base wget freetype-dev libpng-dev \\\n    && apk add --no-cache --virtual .build-deps gcc musl-dev\n\nRUN SCONE_MODE=sim pip --no-cache-dir install pysha3 attrdict python-gnupg web3\n\nRUN cp /usr/bin/python3.6 /usr/bin/python3\n\nCOPY src /app\n\nRUN SCONE_MODE=sim SCONE_HASH=1 SCONE_HEAP=1G SCONE_ALPINE=1          \\\n\t&& mkdir conf                                                       \\\n\t&& scone fspf create fspf.pb                                        \\\n\t&& scone fspf addr fspf.pb /  --not-protected --kernel /            \\\n\t&& scone fspf addr fspf.pb /usr --authenticated --kernel /usr       \\\n\t&& scone fspf addf fspf.pb /usr /usr                                \\\n\t&& scone fspf addr fspf.pb /bin --authenticated --kernel /bin       \\\n\t&& scone fspf addf fspf.pb /bin /bin                                \\\n\t&& scone fspf addr fspf.pb /lib --authenticated --kernel /lib       \\\n\t&& scone fspf addf fspf.pb /lib /lib                                \\\n\t&& scone fspf addr fspf.pb /etc --authenticated --kernel /etc       \\\n\t&& scone fspf addf fspf.pb /etc /etc                                \\\n\t&& scone fspf addr fspf.pb /sbin --authenticated --kernel /sbin     \\\n\t&& scone fspf addf fspf.pb /sbin /sbin                              \\\n\t&& scone fspf addr fspf.pb /signer --authenticated --kernel /signer \\\n\t&& scone fspf addf fspf.pb /signer /signer                          \\\n\t&& scone fspf addr fspf.pb /app --authenticated --kernel /app       \\\n\t&& scone fspf addf fspf.pb /app /app                                \\\n\t&& scone fspf encrypt ./fspf.pb > /conf/keytag                      \\\n\t&& MRENCLAVE=\"$(SCONE_HASH=1 python)\"                               \\\n\t&& FSPF_TAG=$(cat conf/keytag | awk '{print $9}')                   \\\n\t&& FSPF_KEY=$(cat conf/keytag | awk '{print $11}')                  \\\n\t&& FINGERPRINT=\"$FSPF_KEY|$FSPF_TAG|$MRENCLAVE\"                     \\\n\t&& echo $FINGERPRINT > conf/fingerprint.txt                         \\\n\t&& printf \"\\n\"                                                      \\\n\t&& printf \"#####################################################\\n\" \\\n\t&& printf \"MREnclave: $FINGERPRINT\\n\"                               \\\n\t&& printf \"#####################################################\\n\" \\\n\t&& printf \"done\"\n\nENTRYPOINT [ \"python3\", \"/app/app.py\" ]\n"
}