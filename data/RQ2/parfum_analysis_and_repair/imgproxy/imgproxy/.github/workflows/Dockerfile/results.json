{
  "startTime": 1674215057253,
  "endTime": 1674215058375,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 5,
        "columnEnd": 96
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 7,
        "columnEnd": 138
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 36,
        "lineEnd": 47,
        "columnStart": 7,
        "columnEnd": 25
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 23,
        "columnStart": 5,
        "columnEnd": 21
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 7,
        "columnEnd": 141
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 36,
        "lineEnd": 47,
        "columnStart": 7,
        "columnEnd": 25
      }
    }
  ],
  "repairedDockerfile": "FROM debian:bullseye-slim\n\nRUN apt-get -qq update \\\n  && apt-get install -y --no-install-recommends \\\n    bash \\\n    ca-certificates \\\n    build-essential \\\n    curl \\\n    git \\\n    libglib2.0-dev \\\n    libxml2-dev \\\n    libjpeg-dev \\\n    libpng-dev \\\n    libwebp-dev \\\n    librsvg2-dev \\\n    libexif-dev \\\n    liblcms2-dev \\\n    libavcodec-dev \\\n    libavformat-dev \\\n    libavutil-dev \\\n    libswscale-dev \\\n    libopencv-core-dev \\\n    libopencv-imgproc-dev \\\n    libopencv-dnn-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN \\\n  mkdir /root/vips \\\n  && cd /root/vips \\\n  && curl -f -s -S -L -o vips_releases.json \"https://api.github.com/repos/libvips/libvips/releases\" \\\n  && for VIPS_VERSION in \"8.10\"\"8.11\"\"8.12\"; do \\\n  \n    mkdir $VIPS_VERSION \\\n    && export VIPS_RELEASE=$(grep -m 1 \"\\\"tag_name\\\": \\\"v$VIPS_VERSION.\" vips_releases.json | sed -E 's/.*\"v([^\"]+)\".*/\\1/') \\\n    && echo \"Building Vips $VIPS_RELEASE as $VIPS_VERSION\" \\\n    && curl -f -s -S -L -o $VIPS_RELEASE.tar.gz https://github.com/libvips/libvips/releases/download/v$VIPS_RELEASE/vips-$VIPS_RELEASE.tar.gz \\\n    && tar -xzf $VIPS_RELEASE.tar.gz \\\n    && cd vips-$VIPS_RELEASE \\\n    && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n      --prefix=/root/vips/$VIPS_VERSION \\\n      --without-python \\\n      --without-gsf \\\n      --without-orc \\\n      --disable-debug \\\n      --disable-dependency-tracking \\\n      --disable-static \\\n      --enable-silent-rules \\\n      --enable-gtk-doc-html=no \\\n      --enable-gtk-doc=no \\\n      --enable-pyvips8=no \\\n    && make install \\\n    && cd .. \\\n    && rm -rf $VIPS_RELEASE.tar.gz vips-$VIPS_RELEASE; \\\n   done\n\nRUN echo \"Name: OpenCV\\n\" \\\n  \"Description: Open Source Computer Vision Library\\n\" \\\n  \"Version: 4.5.1\\n\" \\\n  \"Libs: -L/usr/lib/x86_64-linux-gnu -lopencv_dnn -lopencv_imgproc -lopencv_core\\n\" \\\n  \"Libs.private: -ldl -lm -lpthread -lrt\\n\" \\\n  \"Cflags: -I/usr/include/opencv4\\n\" \\\n  > /usr/lib/x86_64-linux-gnu/pkgconfig/opencv4.pc\n\nWORKDIR /go/src\n\nENTRYPOINT [ \"/bin/bash\" ]\n"
}