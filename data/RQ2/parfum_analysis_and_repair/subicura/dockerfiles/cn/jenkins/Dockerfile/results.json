{
  "startTime": 1674219703612,
  "endTime": 1674219705078,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 2,
        "columnEnd": 48
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 2,
        "columnEnd": 35
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 2,
        "columnEnd": 22
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 2,
        "columnEnd": 26
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 2,
        "columnEnd": 102
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 4,
        "columnEnd": 72
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 86,
        "lineEnd": 86,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 81
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 94,
        "lineEnd": 94,
        "columnStart": 4,
        "columnEnd": 80
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 2,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 292
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 2,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 2,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 2,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 292
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 2,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 2,
        "columnEnd": 81
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 292
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 2,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 2,
        "columnEnd": 105
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 316
      }
    }
  ],
  "repairedDockerfile": "#\n# jenkins 1.6x (http://jenkins-ci.org)\n#\n# build:\n#   docker build --force-rm=true -t subicura/jenkins .\n# run:\n#   docker run -p 80:8080 -v /home/ubuntu/jenkins:/app/jenkins \\\n#                         -v /var/run/docker.sock:/var/run/docker.sock \\\n#                         -d subicura/jenkins\n#\n\nFROM ubuntu:14.04\nMAINTAINER chungsub.kim@purpleworks.co.kr\n\nENV DEBIAN_FRONTEND noninteractive\n\n# update ubuntu\nRUN \\\n  sudo sed -i 's/archive.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list && \\\n  sudo sed -i 's/security.ubuntu.com/ubuntu.mirrors.yg.ucloud.cn/' /etc/apt/sources.list\n\n# update ubuntu latest\nRUN echo \"2015.09.01\"\nRUN \\\n  apt-get -qq update && \\\n  apt-get -qq -y dist-upgrade\n\n# install essential packages\nRUN \\\n  apt-get -qq --no-install-recommends -y install build-essential software-properties-common git wget curl && rm -rf /var/lib/apt/lists/*;\n\n# install dev library\nRUN \\\n  apt-get -qq --no-install-recommends -y install bison openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev libffi-dev libmysqlclient-dev imagemagick libmagickcore-dev libmagickwand-dev && rm -rf /var/lib/apt/lists/*;\n\n# install java\nRUN \\\n  echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && \\\n  add-apt-repository -y ppa:webupd8team/java && \\\n  apt-get -qq update && \\\n  apt-get -qq --no-install-recommends -y install oracle-java7-installer && \\\n  rm -rf /var/lib/apt/lists/* && \\\n  rm -rf /var/cache/oracle-jdk7-installer\nENV JAVA_HOME /usr/lib/jvm/java-7-oracle\n\n# install tomcat\nRUN \\\n  mkdir /app && \\\n  cd /app && \\\n  wget -q -O - https://mirror.bit.edu.cn/apache/tomcat/tomcat-7/v7.0.64/bin/apache-tomcat-7.0.64.tar.gz | tar xfz - && \\\n  ln -s apache-tomcat-7.0.64 tomcat\n\n# install jenkins\nRUN \\\n  rm -rf /app/tomcat/webapps/*\nADD jenkins.war /app/tomcat/webapps/ROOT.war\n\n# install rbenv\nRUN \\\n  git clone https://github.com/sstephenson/rbenv.git ~/.rbenv && \\\n  mkdir -p ~/.rbenv/plugins && \\\n  git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n\n# install node\nRUN \\\n  curl -f -sL https://deb.nodesource.com/setup_0.12 | sudo bash - && \\\n  apt-get -qq --no-install-recommends -y install nodejs && \\\n  npm config set registry http://r.cnpmjs.org && \\\n  npm install -g bower && \\\n  npm install -g grunt-cli && npm cache clean --force; && rm -rf /var/lib/apt/lists/*;\n\n# install docker\nRUN \\\n  curl -f -sSL https://get.docker.com/ | sh\n\n# setup jenkins\nWORKDIR /app\nENV JENKINS_HOME /app/jenkins/home\n\n# add plugins\nRUN mkdir -p /app/plugins\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/scm-api.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/git.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/git-client.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/git-server.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/ssh-agent.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/slack.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/violations.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/ansicolor.hpi\n\n# add plugins (ruby)\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/rbenv.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/rake.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/ruby-runtime.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/rubyMetrics.hpi\n\n# env\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\nENV TERM xterm\n\n# volume\nVOLUME [\"/app/jenkins\"]\n\n# expose\nEXPOSE 8080\n\n# run\nADD run.sh /app/run.sh\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCMD /app/run.sh\n\n"
}