{
  "startTime": 1674251375826,
  "endTime": 1674251376782,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 88
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 82
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 88
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 4,
        "columnEnd": 88
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 72
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 12,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:centos6\n\nMAINTAINER OpenRASP <ext_yunfenxi@baidu.com>\n\n# 安装软件\nRUN rm -rf /etc/yum.repos.d/*\nCOPY etc/yum.repos.d /etc/yum.repos.d\nRUN echo proxy=http://192.168.154.200:6666 >> /etc/yum.conf \\\n\t&& sed 's/enabled=1/enabled=0/' -i /etc/yum/pluginconf.d/fastestmirror.conf\nRUN rpm --import https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-6\n\nRUN yum clean all\nRUN yum install -y yum-utils scl-utils \\\n\twget curl zip unzip vim bzip2 net-tools iproute lrzsz nc patch nano lsof rsync bind-utils \\\n\tpython-pip gettext git file lftp psmisc xz policycoreutils-python inotify-tools \\\n\tglibc.i686 gdb clang gcc-c++ python2-crypto glibc-devel zlib-static libcurl-devel \\\n\treadline-devel xz-devel libicu-devel mpfr-devel pcre-devel && rm -rf /var/cache/yum\n\n# 为PHP7.4升级sqlite3\nRUN rpm -Uvh --force \\\n\thttps://packages.baidu.com/app/autoconf-2.69-12.2.noarch.rpm \\\n\thttps://packages.baidu.com/app/centos6/sqlite-3.7.17-4.el6.x86_64.rpm \\\n\thttps://packages.baidu.com/app/centos6/sqlite-devel-3.7.17-4.el6.x86_64.rpm \\\n\thttps://packages.baidu.com/app/centos6/libxml2-2.9.4-1.57.el6.x86_64.rpm \\\n\thttps://packages.baidu.com/app/centos6/libxml2-python-2.9.4-1.57.el6.x86_64.rpm \\\n\thttps://packages.baidu.com/app/centos6/libxml2-devel-2.9.4-1.57.el6.x86_64.rpm\t\n\n# cmake\nRUN cd /tmp \\\n\t&& curl -f https://packages.baidu.com/app/cmake-3.15.0-Linux-x86_64.tar.gz -o cmake.tar.gz \\\n\t&& tar -xf cmake.tar.gz && rm -f cmake.tar.gz \\\n\t&& mv cmake-*/ /usr/local/cmake \\\n\t&& ln -s /usr/local/cmake/bin/cmake /usr/bin\n\n# gcc 5.3\nRUN curl -f https://packages.baidu.com/app/devtoolset-4.tar -o devtoolset-4.tar \\\n\t&& tar -xf devtoolset-4.tar \\\n\t&& rpm -ivh devtoolset-4/*.rpm \\\n\t&& rm -rf devtoolset-4* && rm devtoolset-4.tar\n\n# jdk 6\nRUN curl -f https://packages.baidu.com/app/jdk1.6.0_45.tar.bz2 -o jdk1.6.0_45.tar.bz2 \\\n\t&& tar -xf jdk1.6.0_45.tar.bz2 \\\n\t&& mv jdk1.6.0_45 /jdk/ \\\n\t&& rm -f jdk1.6.0_45.tar.bz2\n\n# maven 3.2.3\nRUN cd /tmp \\\n\t&& curl -f https://packages.baidu.com/app/apache-maven-3.2.3-bin.tar.gz -o mvn.tar.gz \\\n\t&& tar -xf mvn.tar.gz \\\n\t&& mv apache-maven-3.2.3/ /maven \\\n\t&& rm -f mvn.tar.gz\n\n# nodejs\nRUN cd /tmp \\\n\t&& curl -f https://packages.baidu.com/app/node-v10.14.1-linux-x64.tar.xz -o package.tar.xz \\\n\t&& tar -xf package.tar.xz && rm -f package.tar.xz \\\n\t&& mv node-*/ /usr/local/nodejs \\\n\t&& ln -s /usr/local/nodejs/bin/node /usr/bin \\\n\t&& ln -s /usr/local/nodejs/bin/npm /usr/bin\n\n# golang\nRUN cd /tmp \\\n\t&& curl -f https://packages.baidu.com/app/go/go1.16.6.linux-amd64.tar.gz -o package.tar.xz \\\n\t&& tar -xf package.tar.xz && rm -f package.tar.xz \\\n\t&& mv go /usr/local/go \\\n\t&& ln -s /usr/local/go/bin/go /usr/bin\n\n# php 二进制释放: 5.3-5.6, 7.0-7.4, nts + zts\nRUN cd /tmp \\\n\t&& curl -f https://packages.baidu.com/app/php-bin-all.tar.gz -o all.tar.gz \\\n\t&& tar -xf all.tar.gz -C /usr/local && rm -f all.tar.gz\n\n# 其他配置\nRUN sed '/^proxy=/d' -i /etc/yum.conf\n\n# 统一修改时区\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\nCOPY root /root\nCOPY etc /etc\n\n"
}