{
  "startTime": 1674216461706,
  "endTime": 1674216462975,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 49
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# NOTE: this dockerfile compiles but doesn't work yet\n# TODO: start from an nvidia docker instead\n\nFROM ubuntu:20.04\n\nLABEL maintainer \"Datoviz Development Team\"\n\n# Install the build and lib dependencies, install vulkan and a recent version of CMake\nRUN \\\n    apt-get update && \\\n    DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y tzdata && \\\n    apt-get install --no-install-recommends -y build-essential git cmake wget ninja-build xcb libx11-xcb-dev \\\n    libxcb-glx0 libglfw3-dev libpng-dev libavcodec-dev libavformat-dev libavfilter-dev \\\n    libavutil-dev libswresample-dev libvncserver-dev xtightvncviewer libqt5opengl5-dev \\\n    libfreetype6-dev libassimp-dev \\\n    python3-dev python3-pip python3-numpy cython3 && rm -rf /var/lib/apt/lists/*;\n\n# install vulkan sdk\nENV VULKAN_SDK_VERSION=1.2.148.1\nRUN echo \"downloading Vulkan SDK $VULKAN_SDK_VERSION\" \\\n    && wget -q --show-progress --progress=bar:force:noscroll \\\n    \"https://sdk.lunarg.com/sdk/download/$VULKAN_SDK_VERSION/linux/vulkansdk-linux-x86_64-$VULKAN_SDK_VERSION.tar.gz?Human=true\" \\\n    -O /tmp/vulkansdk-linux-x86_64-$VULKAN_SDK_VERSION.tar.gz \\\n    && echo \"installing Vulkan SDK $VULKAN_SDK_VERSION\" \\\n    && mkdir -p /opt/vulkan \\\n    && tar -xf /tmp/vulkansdk-linux-x86_64-$VULKAN_SDK_VERSION.tar.gz -C /opt/vulkan \\\n    &&  rm /tmp/vulkansdk-linux-x86_64-$VULKAN_SDK_VERSION.tar.gz\nENV VULKAN_SDK=/opt/vulkan/${VULKAN_SDK_VERSION}/x86_64\nENV PATH=\"$VULKAN_SDK/bin:$PATH\" \\\n    LD_LIBRARY_PATH=\"$VULKAN_SDK/lib:${LD_LIBRARY_PATH:-}\" \\\n    VK_LAYER_PATH=\"$VULKAN_SDK/etc/vulkan/explicit_layer.d\"\n\n# Python dependencies\nRUN pip3 install --no-cache-dir pyparsing scikit-build colorcet imageio\n\n# User and group\nRUN \\\n    groupadd -g 1000 datoviz && \\\n    useradd -d /home/datoviz -s /bin/bash -m datoviz -u 1000 -g 1000 && \\\n    chown -R datoviz:datoviz /datoviz\nUSER datoviz\nENV HOME /home/datoviz\n"
}