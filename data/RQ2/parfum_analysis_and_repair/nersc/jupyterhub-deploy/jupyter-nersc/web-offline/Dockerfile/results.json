{
  "startTime": 1674221199387,
  "endTime": 1674221201080,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 11
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:18.04\nLABEL maintainer=\"Rollin Thomas <rcthomas@lbl.gov>\"\n\n# Base Ubuntu packages\n\nENV DEBIAN_FRONTEND noninteractive\nENV LANG C.UTF-8\n\nRUN \\\n    apt-get update          &&  \\\n    apt-get --yes upgrade && \\\n    apt-get --yes --no-install-recommends install \\\n        bzip2 \\\n        curl \\\n        git \\\n        tzdata \\\n        vim && rm -rf /var/lib/apt/lists/*;\n\n# Timezone to Berkeley\n\nENV TZ=America/Los_Angeles\nRUN \\\n    ln -snf /usr/share/zoneinfo/$TZ /etc/localtime  &&  \\\n    echo $TZ > /etc/timezone\n\n# Miniconda\n\nRUN \\\n    curl -f -s -o /tmp/miniconda3.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh && \\\n    bash /tmp/miniconda3.sh -b -p /opt/anaconda3 && \\\n    rm -rf /tmp/miniconda3.sh && \\\n    echo \"python 3.7.3\" >> /opt/anaconda3/conda-meta/pinned && \\\n    /opt/anaconda3/bin/conda update --yes conda && \\\n    /opt/anaconda3/bin/conda clean --yes --all\n\nENV PATH=/opt/anaconda3/bin:$PATH\n\n# Packages\n\n# RUN \\\n#     conda install --yes         \\\n#         --channel=conda-forge   \\\n#         jinja2                  \\\n#         sanic\n\n# Temporary off master, sanic bug: https://github.com/huge-success/sanic/issues/1773\n\nRUN \\\n    conda install --yes             \\\n        --channel=conda-forge       \\\n        aiofiles                    \\\n        brotlipy                    \\\n        h11=0.8.1                   \\\n        h2                          \\\n        hpack                       \\\n        hstspreload                 \\\n        httptools                   \\\n        httpx=0.9.3                 \\\n        hyperframe                  \\\n        jinja2                      \\\n        markupsafe                  \\\n        multidict                   \\\n        rfc3986                     \\\n        sniffio                     \\\n        ujson                       \\\n        uvloop                      \\\n        websockets              &&  \\\n    pip install --no-cache-dir git+https://github.com/huge-success/sanic       \n\n# Application\n\nWORKDIR /srv\nADD app.py /srv/\nADD templates /srv/templates\nADD static /srv/static\n\nCMD [\"python\", \"-m\", \"sanic\", \"app.app\", \"--host=0.0.0.0\", \"--workers=4\"]\n"
}