{
  "startTime": 1674217671863,
  "endTime": 1674217672692,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 1,
        "columnEnd": 34
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.9.5-alpine\n\n# http://bugs.python.org/issue19846\n# > At the moment, setting \"LANG=C\" on a Linux system *fundamentally breaks Python 3*, and that's not OK.\nENV LANG C.UTF-8\n\nRUN apk add --no-cache git tzdata\n\n# if this is called \"PIP_VERSION\", pip explodes with \"ValueError: invalid truth value '<VERSION>'\"\nENV PYTHON_PIP_VERSION 20.0.2\nRUN set -ex; \\\n\twget -O get-pip.py 'https://bootstrap.pypa.io/get-pip.py'; \\\n\tpython get-pip.py --disable-pip-version-check --no-cache-dir \"pip==$PYTHON_PIP_VERSION\"; \\\n\tpip --version; \\\n\t\\\n\tfind /usr/local -depth \\\n\t\t\\( \\\n\t\t\t\\( -type d -a \\( -name test -o -name tests \\) \\) \\\n\t\t\t-o \\\n\t\t\t\\( -type f -a \\( -name '*.pyc' -o -name '*.pyo' \\) \\) \\\n\t\t\\) -exec rm -rf '{}' +; \\\n\trm -f get-pip.py\n\nWORKDIR /app/\nCOPY requirements.txt requirements.txt\nRUN set -ex; \\\n\tpip3 install --no-cache-dir -r requirements.txt; \\\n\tcp /usr/share/zoneinfo/Europe/Moscow /etc/localtime; \\\n\tmkdir /app/logs\nCOPY evernotebot /app/evernotebot\nCOPY config.yaml /app/config.yaml\n\nENTRYPOINT [ \\\n\t\"gunicorn\", \\\n\t\"--bind=0.0.0.0:8000\", \\\n\t\"--workers=2\", \\\n\t\"--preload\", \\\n\t\"--access-logfile=/app/logs/gunicorn-access.log\", \\\n\t\"--error-logfile=/app/logs/gunicorn-error.log\", \\\n\t\"evernotebot.wsgi:app\" \\\n]\n"
}