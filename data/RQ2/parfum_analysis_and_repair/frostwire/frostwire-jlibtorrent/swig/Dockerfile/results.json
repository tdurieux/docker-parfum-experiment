{
  "startTime": 1674254296861,
  "endTime": 1674254298662,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 5,
        "columnEnd": 16
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 5,
        "columnEnd": 40
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 7,
        "columnEnd": 27
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 29
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 135,
        "lineEnd": 135,
        "columnStart": 7,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 52
      }
    }
  ],
  "repairedDockerfile": "FROM --platform=linux/amd64 ubuntu:18.04\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt update -y\n# Common Java tooling\nRUN apt install --no-install-recommends -y openjdk-11-jdk-headless && rm -rf /var/lib/apt/lists/*;\n# Common tooling\nRUN apt install --no-install-recommends -y wget && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y unzip && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y less && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y python && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y perl && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y make && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y cmake && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y g++ && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y git && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y ssh && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y build-essential && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y libtool && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y libpcre3-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y libpcre3 && rm -rf /var/lib/apt/lists/*;\n# Windows toolchain\nRUN apt install --no-install-recommends -y g++-mingw-w64-x86-64 && rm -rf /var/lib/apt/lists/*;\n# Linux Toolchain\nRUN apt install --no-install-recommends -y g++-7 && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y g++-7-multilib && rm -rf /var/lib/apt/lists/*;\n# For testing and debugging\nRUN apt install --no-install-recommends -y emacs-nox && rm -rf /var/lib/apt/lists/*;\n\nENV LIBTORRENT_REVISION=\"RC_1_2_239500acf2bc60dcb91330bf3c21b939d9f603af\"\nENV SWIG_VERSION=\"4.0.2\"\nENV BOOST_MAJOR=\"1\"\nENV BOOST_VERSION=\"79\"\nENV BOOST_MINOR=\"0\"\nENV BOOST_DOT_VERSION=\"${BOOST_MAJOR}.${BOOST_VERSION}.${BOOST_MINOR}\"\nENV BOOST_UNDERSCORE_VERSION=\"${BOOST_MAJOR}_${BOOST_VERSION}_${BOOST_MINOR}\"\nENV BOOST_ROOT=\"/src/boost_${BOOST_UNDERSCORE_VERSION}\"\nENV NDK_VERSION=\"r23\"\nENV ANDROID_API=\"24\"\nENV OPENSSL_VERSION=\"1.1.1n\"\nENV OPENSSL_NO_OPTS=\"no-afalgeng no-async no-autoalginit no-autoerrinit no-capieng no-cms no-comp no-deprecated no-dgram no-dso no-dtls no-dynamic-engine no-egd no-engine no-err no-filenames no-gost no-hw no-makedepend no-multiblock no-nextprotoneg no-posix-io no-psk no-rdrand no-sctp no-shared no-sock no-srp no-srtp no-static-engine no-stdio no-threads no-ui-console no-zlib no-zlib-dynamic -fno-strict-aliasing -fvisibility=hidden -Os\"\nENV GRADLE_VERSION=\"7.3.1\"\nENV GRADLE_HOME=\"/src/gradle-${GRADLE_VERSION}\"\n\n# build scripts don't stop\nENV DONT_PRESS_ANY_KEY 1\nENV PATH=${GRADLE_HOME}/bin:${PATH}\n\n# third party SRC folder\nRUN mkdir src\n\n# prepare gradle\nRUN cd /src \\\n    && wget https://services.gradle.org/distributions/gradle-${GRADLE_VERSION}-bin.zip \\\n    && unzip gradle-${GRADLE_VERSION}-bin.zip\n\n# prepare swig\nRUN cd /src \\\n\t\t&& wget -nv https://dl.frostwire.com/other/swig/swig-${SWIG_VERSION}.tar.gz \\\n\t\t&& tar xzf swig-${SWIG_VERSION}.tar.gz \\\n\t\t&& cd /src/swig-${SWIG_VERSION} \\\n\t\t&& ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n\t\t&& make -j 8 \\\n    && make install && rm swig-${SWIG_VERSION}.tar.gz\n\nRUN swig -version\n\n# prepare_boost\nRUN cd /src \\\n    && wget -nv -O boost.tar.gz https://boostorg.jfrog.io/artifactory/main/release/${BOOST_DOT_VERSION}/source/boost_${BOOST_UNDERSCORE_VERSION}.tar.gz \\\n    && tar xzf boost.tar.gz \\\n    && cd boost_${BOOST_UNDERSCORE_VERSION} \\\n    && ./bootstrap.sh && rm boost.tar.gz\n\n# download android NDK\nRUN cd /src \\\n    && wget -nv -O android-ndk-linux.zip https://dl.google.com/android/repository/android-ndk-${NDK_VERSION}-linux.zip \\\n    && unzip -qq android-ndk-linux.zip \\\n    && mv android-ndk-${NDK_VERSION} android-ndk\n\n# Download OpenSSL\nRUN cd /src \\\n    && wget -nv -O openssl.tar.gz https://www.openssl.org/source/openssl-${OPENSSL_VERSION}.tar.gz \\\n    && tar xzf openssl.tar.gz \\\n    && mv openssl-${OPENSSL_VERSION} openssl-src && rm openssl.tar.gz\n\nENV ANDROID_TOOLCHAIN=\"/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64\"\nENV AR=\"${ANDROID_TOOLCHAIN}/bin/llvm-ar\"\nENV LD=\"${ANDROID_TOOLCHAIN}/bin/ld\"\nENV RANLIB=\"${ANDROID_TOOLCHAIN}/bin/llvm-ranlib\"\n\n# Build OpenSSL Android arm\nRUN export CC=${ANDROID_TOOLCHAIN}/bin/armv7a-linux-androideabi${ANDROID_API}-clang \\\n    && export PATH=${ANDROID_TOOLCHAIN}/bin:${PATH} \\\n    && cd /src/openssl-src \\\n    && ./Configure linux-armv4 ${OPENSSL_NO_OPTS} -march=armv7-a -mfpu=neon --prefix=/openssl-android-arm \\\n    && make clean \\\n    && make \\\n    && make install_sw \\\n    && cd /\n\n# Build OpenSSL Android arm64\nRUN export CC=${ANDROID_TOOLCHAIN}/bin/aarch64-linux-android${ANDROID_API}-clang \\\n    && export PATH=${ANDROID_TOOLCHAIN}/bin:${PATH} \\\n    && cd /src/openssl-src \\\n    && ./Configure linux-aarch64 ${OPENSSL_NO_OPTS} -march=armv8-a+crypto -mfpu=neon --prefix=/openssl-android-arm64 \\\n    && make clean \\\n    && make \\\n    && make install_sw \\\n    && cd /\n\n# Build OpenSSL Android x86\nRUN export CC=${ANDROID_TOOLCHAIN}/bin/i686-linux-android${ANDROID_API}-clang \\\n    && export PATH=${ANDROID_TOOLCHAIN}/bin:${PATH} \\\n    && cd /src/openssl-src \\\n    && ./Configure linux-elf ${OPENSSL_NO_OPTS} --prefix=/openssl-android-x86 \\\n    && make clean \\\n    && make \\\n    && make install_sw \\\n    && cd /\n\n# Build OpenSSL Android x86_64\nRUN export CC=${ANDROID_TOOLCHAIN}/bin/x86_64-linux-android${ANDROID_API}-clang \\\n    && export PATH=${ANDROID_TOOLCHAIN}/bin:${PATH} \\\n    && cd /src/openssl-src \\\n    && ./Configure linux-x86_64 ${OPENSSL_NO_OPTS} --prefix=/openssl-android-x86_64 \\\n    && make clean \\\n    && make \\\n    && make install_sw \\\n    && cd ..\n\n#Build OpenSSL for Windows x86_64\nRUN cd /src \\\n    && mkdir windows \\\n    && tar xvfz openssl.tar.gz --directory windows \\\n    && cd /src/windows/openssl-${OPENSSL_VERSION} \\\n    && sed -i 's/if defined(_WIN32_WINNT) && _WIN32_WINNT>=0x0333/if 0/g' crypto/cryptlib.c \\\n    && sed -i 's/MessageBox.*//g' crypto/cryptlib.c \\\n    && sed -i 's/return return 0;/return 0;/g' crypto/threads_none.c \\\n    && export CC=export CC=x86_64-w64-mingw32-gcc-posix \\\n    && ./Configure mingw64 ${OPENSSL_NO_OPTS} --prefix=/openssl-windows-x86_64 \\\n    && make clean \\\n    && make \\\n    && make install_sw \\\n    && cd /openssl-windows-x86_64/lib \\\n    && cp libcrypto.a libcrypto.lib \\\n    && cp libssl.a libssl.lib && rm openssl.tar.gz\n\n#Build OpenSSL for Linux x86_64\nRUN export CC=gcc-7 \\\n    && cd /src/openssl-src \\\n    && ./Configure linux-x86_64 ${OPENSSL_NO_OPTS} -fPIC --prefix=/openssl-linux-x86_64 \\\n    && make clean \\\n    && make \\\n    && make install_sw\n\n# Make clean\nRUN cd /src/openssl-src \\\n    && make clean \\\n    && cd ..\n\n# Prepare latest version of libtorrent\nRUN rm -fr /src/libtorrent\nRUN cd /src \\\n    && git clone https://github.com/gubatron/libtorrent \\\n    && cd libtorrent \\\n    && git fetch origin RC_1_2 \\\n    && git reset --hard ${LIBTORRENT_REVISION} \\\n    && git submodule init \\\n    && git submodule update \\\n    && cd /\n\nRUN mkdir frostwire-jlibtorrent\nRUN echo \"This folder will be mounted dynamically from the base of our repo every time the container is invoked via 'docker run'\" > /frostwire-jlibtorrent/README.txt\n\n# BUILD DESKTOP ARCHITECTURES (Windows and Linux x86_64)\nRUN echo \"cd /src/libtorrent && git checkout -- . && git status . && cd /frostwire-jlibtorrent/swig && ./build-windows-x86_64.sh && ./build-linux-x86_64.sh\" > build_desktop.sh\nRUN chmod +x /build_desktop.sh\n\n# SCRIPT BUILD ANDROID X86 ONLY (ANDROID STUDIO'S EMULATOR ARCHITECTURE)\nRUN echo \"cd /frostwire-jlibtorrent/swig && ./build-android-x86.sh\" > build_android_x86.sh\nRUN chmod +x /build_android_x86.sh\n\n# SCRIPT TO BUILD ANDROID ARM ONLY (armv7)\nRUN echo \"cd /frostwire-jlibtorrent/swig && ./build-android-arm.sh\" > build_android_arm.sh\nRUN chmod +x /build_android_arm.sh\n\n# SCRIPT TO BUILD ANDROID ARM64 ONLY (armv8)\nRUN echo \"cd /frostwire-jlibtorrent/swig && ./build-android-arm64.sh\" > build_android_arm64.sh\nRUN chmod +x /build_android_arm64.sh\n\n# SCRIPT TO BUILD ALL ANDROID ARCHITECTURES\nRUN echo \"cd /frostwire-jlibtorrent/swig && ./build-android-arm.sh && ./build-android-arm64.sh && ./build-android-x86.sh && ./build-android-x86_64.sh\" > build_android_all.sh\nRUN chmod +x /build_android_all.sh\n\nRUN ln -s /frostwire-jlibtorrent/swig/libtorrent_patches/apply_android_patches.sh\n"
}