{
  "startTime": 1674254599473,
  "endTime": 1674254600644,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 2,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 2,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 2,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM junderw/bitcoinjs-regtest-server\nMAINTAINER Jonathan Underwood\n\nWORKDIR /root\n\nRUN mkdir stopAndCookie && \\\n  cd stopAndCookie && \\\n  npm init -y && \\\n  npm install express@^4.17.1 execa@^2.0.3 && npm cache clean --force;\n\n# Install dotnet\n\nRUN wget -q \\\n  https://packages.microsoft.com/config/ubuntu/18.04/packages-microsoft-prod.deb \\\n  -O packages-microsoft-prod.deb && \\\n  dpkg -i packages-microsoft-prod.deb && \\\n  apt update && \\\n  apt install --no-install-recommends -y apt-transport-https && \\\n  apt install --no-install-recommends -y dotnet-sdk-3.1 && \\\n  rm packages-microsoft-prod.deb && \\\n  echo \"export DOTNET_CLI_TELEMETRY_OPTOUT=1\" >> ~/.bashrc && rm -rf /var/lib/apt/lists/*;\n\n# Install NBXplorer\n\nRUN git clone https://github.com/dgarage/NBXplorer.git && \\\n  cd NBXplorer/ && \\\n  git checkout b33af19 && \\\n  DOTNET_CLI_TELEMETRY_OPTOUT=1 dotnet build -c Release NBXplorer/NBXplorer.csproj\n\nCOPY start_bitcoin_and_nbx.sh start_nbx.sh ./\nRUN chmod +x start_bitcoin_and_nbx.sh && \\\n  chmod +x start_nbx.sh\n\nCOPY stopAndCookie.js ./stopAndCookie/\n\nENTRYPOINT [\"/root/start_bitcoin_and_nbx.sh\"]\n\nEXPOSE 18271\nEXPOSE 23828\nEXPOSE 8080\n"
}