{
  "startTime": 1674255849461,
  "endTime": 1674255850155,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 15,
        "columnEnd": 49
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 15,
        "columnEnd": 44
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 15,
        "columnEnd": 54
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:3.10\n\nLABEL maintainer=\"Nikhil Kumar (kumarn1@mskcc.org)\" \\\n      version.image=\"1.0.0\" \\\n      version.facets_suite=\"1.6.3\" \\\n      version.facets=\"0.5.14\"\\\n      version.alpine=\"3.10\" \\\n      version.r=\"3.6\" \\\n      version.pctGCdata=\"0.2.0\" \\\n      source.facets_suite=\"https://github.com/mskcc/facets-suite/releases/tag/1.6.3\" \\\n      source.facets=\"https://github.com/mskcc/facets/archive/v0.5.14.tar.gz\"\\\n      source.r=\"https://pkgs.alpinelinux.org/package/edge/community/x86/R\"\n\nENV FACETS_SUITE_VERSION 1.6.3\nENV FACETS_VERSION 0.5.14\nENV PCTGCDATA 0.2.0\n\n# copy script that installs R packages\nCOPY install-packages.R /tmp/install-packages.R\nCOPY runscript.sh /usr/bin/runscript.sh\nCOPY run_test.sh /run_test.sh\n\nRUN apk add --update \\\n    # for wget\n        && apk add bash ca-certificates openssl \\\n    # for compilation\n        && apk add build-base musl-dev python py-pip python-dev \\\n    # install cairo and R package system dependencies\n        && apk add cairo cairo-dev libxt-dev libxml2-dev font-xfree86-type1 msttcorefonts-installer \\\n        # configure the installed fonts\n        && update-ms-fonts \\\n        && fc-cache -f \\\n    # download and install R\n        && apk add R R-dev \\\n    # download and unzip facets, facets-suite, pctGCdata\n        && cd /tmp \\\n        # download Facets\n            && wget https://github.com/mskcc/facets/archive/v${FACETS_VERSION}.tar.gz \\\n        # download pctGCdata\n            && wget https://github.com/mskcc/pctGCdata/archive/v${PCTGCDATA}.tar.gz \\\n        # download Facets_suite\n            && wget https://github.com/mskcc/facets-suite/archive/${FACETS_SUITE_VERSION}.tar.gz \\\n        # unpack Facets\n            && tar xvzf v${FACETS_VERSION}.tar.gz \\\n        # unpack pctGCdata\n            && tar xvzf v${PCTGCDATA}.tar.gz \\\n        # unpack Facets_Suite\n            && tar xvzf ${FACETS_SUITE_VERSION}.tar.gz \\\n    # install\n        # install pctGCdata\n            && cd /tmp/pctGCdata-${PCTGCDATA} \\\n            && R CMD INSTALL . \\\n        # install Facets\n            && cd /tmp/facets-${FACETS_VERSION} \\\n            && R CMD INSTALL . \\\n        # install Facets-Suite R dependencies\n            && cd /tmp \\\n            && Rscript --vanilla install-packages.R \\\n        # install Facets-Suite\n            && cd /tmp/facets-suite-${FACETS_SUITE_VERSION} \\\n            # correct shebang line\n                && sed -i \"s/# parser/parser/g\" geneLevel.R \\\n                && sed -i \"s/opt\\/common\\/CentOS_6-dev\\/R\\/R-3.2.2\\//usr\\//g\" *.R \\\n                && sed -i \"s/opt\\/common\\/CentOS_6-dev\\/R\\/R-3.4.1\\//usr\\//g\" *.R \\\n                && sed -i \"s/opt\\/common\\/CentOS_6-dev\\/R\\/R-3.1.3\\//usr\\//g\" *.R \\\n                && sed -i \"s/opt\\/common\\/CentOS_6-dev\\/python\\/python-2.7.10\\/bin\\/python/usr\\/bin\\/env python/g\" facets \\\n                && sed -i \"s/opt\\/common\\/CentOS_6-dev\\/bin\\/current\\/python/usr\\/bin\\/env python/g\" summarize_project.py \\\n            # copy execs to /usr/bin/facets-suite\n                && mkdir -p /usr/bin/facets-suite/ \\\n                && cp -r /tmp/facets-suite-${FACETS_SUITE_VERSION}/* /usr/bin/facets-suite/ \\\n    # clean up\n        && rm -rf /var/cache/apk/* /tmp/* \\\n        && chmod +x /usr/bin/runscript.sh \\\n        && exec /run_test.sh && rm v${FACETS_VERSION}.tar.gz\n\nENV LANG \"C.UTF-8\"\nENV PYTHONNOUSERSITE set\nENV FACETS_OVERRIDE_EXITCODE set\n"
}