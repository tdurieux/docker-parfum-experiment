{
  "startTime": 1674251984860,
  "endTime": 1674251985914,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 28,
        "columnStart": 7,
        "columnEnd": 21
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# [Choice] R version: 4, 4.2, 4.1, 4.0\nARG VARIANT=4\n# [Choice] Base image. Minimal (r-ver), tidyverse installed (tidyverse), or full image (binder): rocker/r-ver, rocker/tidyverse, rocker/binder\nARG BASE_IMAGE=rocker/r-ver\nFROM ${BASE_IMAGE}:${VARIANT}\n\n# [Option] Install zsh\nARG INSTALL_ZSH=\"true\"\n# [Option] Upgrade OS packages to their latest versions\nARG UPGRADE_PACKAGES=\"false\"\n\n# Install needed packages and setup non-root user. Use a separate RUN statement to add your own dependencies.\nARG USERNAME=rstudio\nARG USER_UID=1000\nARG USER_GID=$USER_UID\nUSER root\nCOPY library-scripts/*.sh /tmp/library-scripts/\nRUN apt-get update && export DEBIAN_FRONTEND=noninteractive \\\n    && /bin/bash /tmp/library-scripts/common-debian.sh \"${INSTALL_ZSH}\" \"${USERNAME}\" \"${USER_UID}\" \"${USER_GID}\" \"${UPGRADE_PACKAGES}\" \"true\" \"true\" \\\n    && usermod -a -G staff ${USERNAME} \\\n    && apt-get -y --no-install-recommends install \\\n        python3-pip \\\n        libgit2-dev \\\n        libcurl4-openssl-dev \\\n        libssl-dev \\\n        libxml2-dev \\\n        libxt-dev \\\n        libfontconfig1-dev \\\n        libcairo2-dev \\\n    && apt-get autoremove -y && apt-get clean -y && rm -rf /var/lib/apt/lists/* /tmp/library-scripts \\\n    && python3 -m pip --no-cache-dir install radian \\\n    && install2.r --error --skipinstalled --ncpus -1 \\\n        devtools \\\n        languageserver \\\n        httpgd \\\n    && rm -rf /tmp/downloaded_packages\n\n# VSCode R Debugger dependency. Install the latest release version from GitHub without using GitHub API.\n# See https://github.com/microsoft/vscode-dev-containers/issues/1032\nRUN export TAG=$(git ls-remote --tags --refs --sort='version:refname' https://github.com/ManuelHentschel/vscDebugger v\\* | tail -n 1 | cut --delimiter='/' --fields=3) \\\n    && Rscript -e \"remotes::install_git('https://github.com/ManuelHentschel/vscDebugger.git', ref = '\"${TAG}\"', dependencies = FALSE)\"\n\n# R Session watcher settings.\n# See more details: https://github.com/REditorSupport/vscode-R/wiki/R-Session-watcher\nRUN echo 'if (interactive() && Sys.getenv(\"TERM_PROGRAM\") == \"vscode\") source(file.path(Sys.getenv(\"HOME\"), \".vscode-R\", \"init.R\"))' >>\"${R_HOME}/etc/Rprofile.site\"\n\n# [Option] Enable vscode-jupyter support\nARG ENABLE_JUPYTER=\"false\"\nRUN if [ \"${ENABLE_JUPYTER}\" = \"true\" ]; then \\\n        if [ -z \"$(dpkg --get-selections | grep libzmq3-dev)\" ]; then \\\n            apt-get update \\\n            && export DEBIAN_FRONTEND=noninteractive \\\n            && apt-get -y install --no-install-recommends libzmq3-dev \\\n            && apt-get autoremove -y && apt-get clean -y && rm -rf /var/lib/apt/lists/*; \\\n        fi \\\n        && install2.r --error --skipinstalled --ncpus -1 IRkernel \\\n        && rm -rf /tmp/downloaded_packages \\\n        && python3 -m pip --no-cache-dir install jupyter \\\n        && R --vanilla -s -e 'IRkernel::installspec(user = FALSE)'; \\\n    fi\n\n# [Optional] Uncomment this section to install additional OS packages.\n# RUN apt-get update \\\n#     && export DEBIAN_FRONTEND=noninteractive \\\n#     && apt-get -y install --no-install-recommends <your-package-list-here>\n\n# [Optional] Uncomment this section to install additional R packages.\n# RUN install2.r --error --skipinstalled --ncpus -1 <your-package-list-here>\n"
}