{
  "startTime": 1674218975815,
  "endTime": 1674218977602,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 118
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 7,
        "columnEnd": 129
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 7,
        "columnEnd": 135
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 123
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 40,
        "columnEnd": 65
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 24,
        "columnEnd": 35
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 35,
        "columnEnd": 46
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 21,
        "columnEnd": 48
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 21,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 21,
        "columnEnd": 95
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 24,
        "columnEnd": 50
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:6.10\nMAINTAINER Abderrahmane Benbachir abderb@microsoft.com\nARG vcores=8\n\n# Important for unittests\nRUN adduser omsagent && groupadd omiusers\nRUN usermod -aG wheel omsagent\n\nRUN mkdir -p /home/scratch\nWORKDIR /home/scratch\n\nRUN curl -f https://mdsdbuild.blob.core.windows.net/repofiles/centos6-eol.repo --output /etc/yum.repos.d/CentOS-Base.repo \\\n    && yum -y install centos-release-scl \\\n    && curl -f https://mdsdbuild.blob.core.windows.net/repofiles/centos6-scl-eol.repo --output /etc/yum.repos.d/CentOS-SCLo-scl.repo \\\n    && curl -f https://mdsdbuild.blob.core.windows.net/repofiles/centos6-scl-rh-eol.repo --output /etc/yum.repos.d/CentOS-SCLo-scl-rh.repo && rm -rf /var/cache/yum\n\nRUN yum install -y centos-release-scl yum-utils && yum-config-manager --enable rhel-server-rhscl-8-rpms && rm -rf /var/cache/yum\n\n# Extra repos & dependencies\nRUN yum update -y && yum install -y epel-release && rm -rf /var/cache/yum\n\nRUN yum install -y which wget sudo make tree vim cmake zip redhat-lsb \\\n    openssh-clients bind-utils bison gcc-c++ libcxx libstdc++-static rpm-devel \\\n    pam-devel openssl-devel rpm-build mysql-devel curl-devel selinux-policy-devel \\\n    audit-libs-devel boost148-devel lsof net-tools patch curl tar bzip2 unzip \\\n    && yum clean all && rm -rf /var/cache/yum\n\n# Devtoolset-2 (gcc 4.8)\nRUN wget --no-check-certificate https://people.centos.org/tru/devtools-2/devtools-2.repo -O /etc/yum.repos.d/devtools-2.repo\nRUN yum update -y && yum install -y devtoolset-2-gcc devtoolset-2-gcc-c++ devtoolset-2-binutils && rm -rf /var/cache/yum\n# Devtoolset-7 (gcc 7.3)\nRUN yum install -y devtoolset-7-toolchain && rm -rf /var/cache/yum\n# Devtoolset-8 (gcc 8.3)\nRUN yum install -y devtoolset-8-toolchain && rm -rf /var/cache/yum\n# Enable Devtoolset-7 by default\nENV PATH /opt/rh/devtoolset-7/root/usr/bin:$PATH\n\n# git\nADD https://github.com/git/git/archive/v2.17.1.tar.gz /home/scratch/v2.17.1.tar.gz\nRUN tar -xzf v2.17.1.tar.gz && rm v2.17.1.tar.gz\nRUN cd git-2.17.1/ && make configure && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/usr && make all && make install\n\n# OpenSSL\nRUN mkdir -p /home/scratch/ostc-openssl\nRUN mkdir -p ~/.ssh/ && ssh-keyscan github.com >> ~/.ssh/known_hosts\nRUN git clone --branch OpenSSL_1_0_0 https://github.com/openssl/openssl.git /home/scratch/ostc-openssl/openssl-1.0.0\nRUN git clone --branch OpenSSL_1_0_1 https://github.com/openssl/openssl.git /home/scratch/ostc-openssl/openssl-1.0.1\nRUN git clone --branch OpenSSL_1_1_0 https://github.com/openssl/openssl.git /home/scratch/ostc-openssl/openssl-1.1.0\n# Build OpenSSL\nRUN cd /home/scratch/ostc-openssl/openssl-1.0.0 && ./config --prefix=/usr/local_ssl_1.0.0 shared -no-ssl2 -no-ec -no-ec2m -no-ecdh && make depend && make && make install_sw\nRUN cd /home/scratch/ostc-openssl/openssl-1.0.1 && ./config --prefix=/usr/local_ssl_1.0.1 shared -no-ssl2 -no-ec -no-ec2m -no-ecdh && make depend && make && make install_sw\nRUN cd /home/scratch/ostc-openssl/openssl-1.1.0 && ./config --prefix=/usr/local_ssl_1.1.0 shared -no-ssl2 -no-ec -no-ec2m -no-ecdh && make depend && make && make install_sw\n# Fix OpenSSL cert\nRUN ln -sf /etc/pki/tls/cert.pem /usr/local_ssl_1.0.0/ssl/cert.pem\nRUN ln -sf /etc/pki/tls/cert.pem /usr/local_ssl_1.0.1/ssl/cert.pem\nRUN mkdir /usr/local_ssl_1.1.0/ssl/ && ln -sf /etc/pki/tls/cert.pem /usr/local_ssl_1.1.0/ssl/cert.pem\n\n# Autoconf >= 2.67 required by ruby\nADD http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz /home/scratch/autoconf-2.69.tar.gz\nRUN tar -vzxf autoconf-2.69.tar.gz && rm autoconf-2.69.tar.gz\nRUN cd autoconf-2.69 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install\n\n# Ruby 2.6\n#ADD https://cache.ruby-lang.org/pub/ruby/2.6/ruby-2.6.0.tar.gz /home/scratch/ruby-2.6.0.tar.gz\n#RUN cd /home/scratch && tar -zxf ruby-2.6.0.tar.gz\n#RUN cd /home/scratch/ruby-2.6.0 && ./configure --prefix=/usr && make && make install\n\n# Ruby 2.4\nADD https://cache.ruby-lang.org/pub/ruby/2.4/ruby-2.4.4.tar.gz /home/scratch/ruby-2.4.4.tar.gz\nRUN cd /home/scratch && tar -zxf ruby-2.4.4.tar.gz && rm ruby-2.4.4.tar.gz\nRUN cd /home/scratch/ruby-2.4.4 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install\n\n\n"
}