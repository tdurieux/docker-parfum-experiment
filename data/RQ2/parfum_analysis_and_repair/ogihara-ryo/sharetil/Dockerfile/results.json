{
  "startTime": 1674249852924,
  "endTime": 1674249853679,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 26,
        "columnEnd": 85
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 138
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 138
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 7,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 7,
        "columnEnd": 67
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 7,
        "columnEnd": 55
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 7,
        "columnEnd": 67
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ruby:2.7.0\n\nENV LANG C.UTF-8\nENV TZ=Asia/Tokyo\n\nWORKDIR /app\n\n# nodejs, yarn, postgresql-clientをインストール\nRUN curl -f -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n    && echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list \\\n    && apt-get update -qq \\\n    && apt-get install --no-install-recommends -y nodejs yarn postgresql-client && rm -rf /var/lib/apt/lists/*;\n\n# chromedriverの依存ライブラリをインストール\nRUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add \\\n    && echo 'deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main' | tee /etc/apt/sources.list.d/google-chrome.list \\\n    && apt-get update -qq \\\n    && apt-get install --no-install-recommends -y google-chrome-stable libnss3 libgconf-2-4 && rm -rf /var/lib/apt/lists/*;\n\n# chromedriverをインストール\nRUN CHROMEDRIVER_VERSION=$( curl -f -sS chromedriver.storage.googleapis.com/LATEST_RELEASE) \\\n    && curl -f -sS -o /tmp/chromedriver_linux64.zip https://chromedriver.storage.googleapis.com/$CHROMEDRIVER_VERSION/chromedriver_linux64.zip \\\n    && unzip /tmp/chromedriver_linux64.zip \\\n    && mv chromedriver /usr/local/bin/\n\nCOPY Gemfile .\nCOPY Gemfile.lock .\nRUN bundle install\n\nCOPY package.json .\nCOPY yarn.lock .\nRUN yarn install && yarn cache clean;\n\n# rails serverはdocker-compose.ymlで起動する\n"
}