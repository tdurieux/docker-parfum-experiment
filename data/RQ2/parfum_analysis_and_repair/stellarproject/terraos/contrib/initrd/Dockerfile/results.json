{
  "startTime": 1674250570897,
  "endTime": 1674250571459,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 14,
        "columnEnd": 134
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 14,
        "columnEnd": 134
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 1,
        "columnEnd": 23
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 17
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 191
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:latest as netboot\n\nRUN apk add --no-cache -U curl squashfs-tools\nRUN cd tmp && curl -f -sSL https://dl-cdn.alpinelinux.org/alpine/v3.9/releases/x86_64/alpine-netboot-3.9.3-x86_64.tar.gz -o netboot.tar.gz && \\\n\ttar zxf netboot.tar.gz && \\\n\tunsquashfs boot/modloop-vanilla && \\\n\tcp -r squashfs-root/modules /modules && rm netboot.tar.gz\n\nFROM alpine:latest as initrd\nENV ALPINE_VERSION v3.4\nRUN apk add --no-cache -U xz\nRUN apk --arch x86_64 --no-cache -X http://dl-cdn.alpinelinux.org/alpine/${ALPINE_VERSION}/main/ -U --allow-untrusted --root /initrd-root --initdb add alpine-base openssh ethtool syslinux squashfs-tools && \\\n\tcp /etc/apk/repositories /initrd-root/etc/apk/\nRUN ln -vs /etc/init.d/hostname /initrd-root/etc/runlevels/boot/hostname && \\\n\tln -vs /etc/init.d/procfs /initrd-root/etc/runlevels/boot/procfs && \\\n\tln -vs /etc/init.d/sysfs /initrd-root/etc/runlevels/boot/sysfs && \\\n\tln -vs /etc/init.d/urandom /initrd-root/etc/runlevels/boot/urandom && \\\n\tln -vs /etc/init.d/hwdrivers /initrd-root/etc/runlevels/boot/hwdrivers && \\\n\tln -vs /etc/init.d/sshd /initrd-root/etc/runlevels/default/sshd && \\\n\tln -vs /etc/init.d/local /initrd-root/etc/runlevels/default/local\n\nRUN sed -i 's/#\\(ttyS0.*\\)/\\1/' /initrd-root/etc/inittab && \\\n\techo ttyS0 >> /initrd-root/etc/securetty\nADD init /initrd-root/init\nADD dhcp.start /initrd-root/etc/local.d/dhcp.start\nRUN echo terra > /initrd-root/etc/hostname\nCOPY --from=netboot /modules /initrd-root/lib/modules\nRUN cd /initrd-root && find . | cpio -o -H newc | xz -C crc32 -z -9 --threads=0 -c - > ../initrd.xz\n\nFROM scratch\nCOPY --from=initrd /initrd.xz /initrd.xz\n"
}