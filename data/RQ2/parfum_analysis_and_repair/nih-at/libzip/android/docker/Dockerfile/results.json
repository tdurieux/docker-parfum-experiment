{
  "startTime": 1674250995488,
  "endTime": 1674250996415,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 36
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 106
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 60
      }
    }
  ],
  "repairedDockerfile": "# Version: 1.0\n\n# Dockerfile for building libzip for android\n# https://github.com/dec1/libzip.git\n# creates docker container with all tools, libraries and sources required to build libzip for android.\n\n# Author: Declan Moran\n# www.silverglint.com\n\n\n# Usage:\n#---------\n# download the libzip repository\n# > git clone https://github.com/dec1/libzip.git\n# > cd libzip\n#\n# build docker image \"my_img_zip\" from the dockerfile in \"docker\" dir\n# > docker build -t my_img_zip ./android/docker\n#\n# run docker container \"my_ctr_zip\" from this image, mounting the current dir. (Need to pass absolute host paths to mount volume- hence \"pwd\")\n# > docker run  -v $(pwd):/home/docker-share/libzip -it --entrypoint=/bin/bash --name my_ctr_zip my_img_zip\n#\n# Now inside docker container\n# $ cd /home/docker-share/libzip/android\n#\n# Modify ./do.sh (on host), to match the boost and android ndk versions/paths in the \"Configure here\" section below\n# Build from running docker container.\n# $./do.sh\n#\n# \"./build\" dir contains required build, but owned by root. chown to your username/group\n# > sudo chown -R <userid>:<groupid> ./build\n# > sudo chown -R <userid>:<groupid> ./install\n#\n# Exit container, when build is finished.\n# $ exit\n#\n\n\n\n\nFROM ubuntu:18.04\n\n\n## --------------------------------------------------------------------\n##              Configure here\n# ---------------------------------------------------------------------\n# ---------------------------------------------------------------------\n# Here you can speciofy exactly what android ndk (and sdk) version you want to use.\n\n\n\n# (2) Android SDK\n# https://developer.android.com/studio#downloads\nARG SDK_URL_BASE=https://dl.google.com/android/repository\nARG SDK_FILE=sdk-tools-linux-4333796.zip\n\n# the sdk platform to use\n# https://developer.android.com/guide/topics/manifest/uses-sdk-element\nARG ANDROID_SDK_PLATFORM_VERS=\"platforms;android-28\"\n\n\n\n# (3) Android NDK\n# https://developer.android.com/ndk/downloads\nARG NDK_URL_BASE=https://dl.google.com/android/repository\nARG NDK_FILE=android-ndk-r19c-linux-x86_64.zip\n# ---------------------------------------------------------------------\n## --------------------------------------------------------------------\n\nRUN apt-get update\nRUN apt-get -y dist-upgrade\n\n\n# for downloading archives\nRUN apt-get -y --no-install-recommends install wget && rm -rf /var/lib/apt/lists/*;\n\n# for unzipping downloaded android archives\nRUN apt-get -y --no-install-recommends install zip && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install cmake && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get -y --no-install-recommends install lib32z1 && rm -rf /var/lib/apt/lists/*;\n\n\n# need this this to install some (32 bit) prerequisites for android builds\nRUN dpkg --add-architecture i386\nRUN apt-get update\nRUN apt-get -y dist-upgrade\nRUN apt-get install --no-install-recommends -y libc6:i386 libncurses5:i386 libstdc++6:i386 libbz2-1.0:i386 && rm -rf /var/lib/apt/lists/*;\n\n\n# need c compiler to set up create boost build system (before building boost with it and android toolchain)\nRUN apt-get -y --no-install-recommends install build-essential && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install libc6-dev-i386 && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install clang && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get -y --no-install-recommends install openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\n#--------------------------------------\n\nARG ANDROID_HOME=/home/android\nWORKDIR ${ANDROID_HOME}\n\n\n# SDK\n# ----\n# download android sdk command line tools\nRUN wget ${SDK_URL_BASE}/$SDK_FILE\nRUN unzip $SDK_FILE\n\nENV PATH ${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/tools/bin:${ANDROID_HOME}/platform-tools\n\n\nRUN yes | sdkmanager --licenses\n\nRUN sdkmanager \"platform-tools\" $ANDROID_SDK_PLATFORM_VERS\n#RUN sdkmanager \"platform-tools\" \"platforms;android-28\"\n\n\n# NDK\n# ----\nRUN wget ${NDK_URL_BASE}/$NDK_FILE\nRUN unzip $NDK_FILE\n\n"
}