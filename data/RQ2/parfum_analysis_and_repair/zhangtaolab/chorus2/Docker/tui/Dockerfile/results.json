{
  "startTime": 1674254853779,
  "endTime": 1674254854359,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 88,
        "columnEnd": 99
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM forrestzhang/ubuntu-dev\n\nMAINTAINER Tao Zhang \"forrestzhang1982@gmail.com\"\n\n\nRUN apt-get update && apt-get install -y --no-install-recommends cython3 && rm -rf /var/lib/apt/lists/*;\n\n\nRUN mkdir /opt/software\nWORKDIR /opt/software\nADD https://github.com/gmarcais/Jellyfish/releases/download/v2.2.3/jellyfish-2.2.3.tar.gz /opt/software/\nRUN tar zxvf jellyfish-2.2.3.tar.gz && mv jellyfish-2.2.3  jellyfish && cd jellyfish && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install && rm jellyfish-2.2.3.tar.gz\n\n#WORKDIR /opt/software\nADD https://github.com/forrestzhang/primer3-py/archive/unicode.zip /opt/software/\nRUN unzip unicode.zip && cd primer3-py-unicode && python3 setup.py install\n\n#WORKDIR /opt/software\nRUN git clone https://github.com/lh3/bwa.git && cd bwa && make\n\nRUN pip3 install --no-cache-dir numpy pyfasta\n\n#RUN mkdir Chorus\n# RUN mkdir -p Chorus/Choruslib\n# ADD Chorus.py Chorus/\n# ADD Choruslib/* Chorus/Choruslib/\nWORKDIR /opt/software\nRUN git clone https://github.com/zhangtaolab/Chorus2.git\n\n\nENV PATH /opt/software/bwa:/opt/software/jellyfish/bin:$PATH\n\nENV CHORUS_USER=chorus \\\n    CHORUS_UID=1555 \\\n    CHORUS_GID=1555 \\\n    CHORUS_HOME=/home/chorus\n\nRUN groupadd -r $CHORUS_USER -g $CHORUS_GID\nRUN useradd -u $CHORUS_UID -r -g $CHORUS_GID -d $CHORUS_HOME -c \"Chorus user\" $CHORUS_USER\n\nADD ./script/Chorus.sh /usr/bin/Chorus\nRUN chmod +x /usr/bin/Chorus\n\nWORKDIR $CHORUS_HOME\n\nENTRYPOINT [\"/usr/bin/Chorus\"]\n"
}