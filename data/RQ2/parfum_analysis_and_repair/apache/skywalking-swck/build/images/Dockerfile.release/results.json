{
  "startTime": 1674217167228,
  "endTime": 1674217167972,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 125
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 133
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 1,
        "columnEnd": 58
      }
    },
    {
      "rule": "gpgUseBatchFlag",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 1,
        "columnEnd": 19
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 50
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the \"License\"); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nFROM alpine:3.12.1 AS builder\n\nRUN apk add --no-cache bash gettext nmap-ncat openssl busybox-extras\n\nARG version\n\n# SWCK version\nENV SWCK_VERSION ${version}\n\n# SWCK home\nENV SWCK_HOME  /swck\n\nWORKDIR  ${SWCK_HOME}\n\n# Setup\nRUN set -eux; \\\n    apk add --no-cache --virtual .build-deps curl gnupg unzip\n\n# Download\nRUN set -eux; \\\n    curl -f https://archive.apache.org/dist/skywalking/swck/${SWCK_VERSION}/skywalking-swck-${SWCK_VERSION}-bin.tgz -o swck.tgz; \\\n    curl -f https://archive.apache.org/dist/skywalking/swck/${SWCK_VERSION}/skywalking-swck-${SWCK_VERSION}-bin.tgz.asc -o swck.tgz.asc; \\\n\tcurl -f https://downloads.apache.org/skywalking/KEYS -o KEYS\n\n# Install\nRUN set -eux; \\\n\tgpg --batch --import KEYS; \\\n    gpg --batch --verify swck.tgz.asc swck.tgz; \\\n    tar -xvf swck.tgz --strip-components=1; \\\n\trm swck.tgz ; \\\n    rm swck.tgz.asc KEYS; \\\n\tapk del .build-deps ; \\\n    rm -rf /var/cache/apk/* ; \\\n    rm -rf /tmp/*\n\nFROM gcr.io/distroless/static:nonroot\nWORKDIR /\nCOPY --from=builder --chown=65532:65532 /swck/bin/manager-linux-amd64 /manager\nCOPY --from=builder --chown=65532:65532 /swck/bin/adapter-linux-amd64 /adapter\nUSER 65532:65532\n\nENTRYPOINT [\"/manager\"]\n"
}