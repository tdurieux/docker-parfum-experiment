{
  "startTime": 1674254700045,
  "endTime": 1674254701046,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 127
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#   http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n\nFROM alpine:3.13 AS base\n\nCOPY GO_VERSION /\nRUN set -o errexit; \\\n    go_version=$(cat /GO_VERSION); \\\n    wget -O go.tar.gz https://dl.google.com/go/go${go_version}.linux-amd64.tar.gz; \\\n    tar -C /usr/local -xvzf go.tar.gz; \\\n    ln -s /usr/local/go/bin/go /usr/bin/go; \\\n    rm go.tar.gz; \\\n    architecture=$(uname -m); \\\n    mkdir lib64; \\\n    # Use musl libc where the go binary expects glibc\n    # Less-generalized: ln -s /lib/ld-musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2\n    ln -s /lib/ld-musl-${architecture}.so.[0-9] /lib64/ld-linux-${architecture//_/-}.so.2; \\\n    # Test the go binary\n    go version\nENV GOPATH=/go\nENV PATH=\"${PATH}:${GOPATH}/bin\"\n\nRUN apk --no-cache add gcc musl-dev git\n\nARG DIR=github.com/apache/trafficcontrol\n\nWORKDIR /go/src/github.com/apache/trafficcontrol\n\nFROM base AS lint\n\nRUN apk --no-cache add curl\n\nRUN version=1.32.0 && \\\n    curl -f -L https://github.com/golangci/golangci-lint/releases/download/v${version}/golangci-lint-${version}-linux-amd64.tar.gz \\\n\t| tar -zxC /tmp \\\n\t&& mv /tmp/golangci-lint-${version}-linux-amd64/golangci-lint /usr/local/bin/golangci-lint \\\n\t&& rm -rf /tmp/golangci-lint-${version}-linux-amd64\n\nCMD go mod vendor -v && \\\n    golangci-lint run ./...\n\nFROM base AS unit\n\nVOLUME [\"/junit\"]\n\nRUN go install github.com/wadey/gocovmerge@latest &&\\\n    go install github.com/jstemmer/go-junit-report@latest\n\nCMD /go/src/github.com/apache/trafficcontrol/tools/golang/unit-tests.sh\n"
}