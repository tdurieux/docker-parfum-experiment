{
  "startTime": 1674220219702,
  "endTime": 1674220222647,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 319,
        "lineEnd": 319,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 15,
        "columnEnd": 146
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 162,
        "lineEnd": 162,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 170,
        "lineEnd": 170,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 174,
        "lineEnd": 174,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 178,
        "lineEnd": 178,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 182,
        "lineEnd": 182,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 186,
        "lineEnd": 186,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 190,
        "lineEnd": 190,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 194,
        "lineEnd": 194,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 203,
        "lineEnd": 203,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 207,
        "lineEnd": 207,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 211,
        "lineEnd": 211,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 215,
        "lineEnd": 215,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 219,
        "lineEnd": 219,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 223,
        "lineEnd": 223,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 231,
        "lineEnd": 231,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 247,
        "lineEnd": 247,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 248,
        "lineEnd": 248,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 249,
        "lineEnd": 249,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 253,
        "lineEnd": 253,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 257,
        "lineEnd": 257,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 261,
        "lineEnd": 261,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 265,
        "lineEnd": 265,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 269,
        "lineEnd": 269,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 273,
        "lineEnd": 273,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 277,
        "lineEnd": 277,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 281,
        "lineEnd": 281,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 285,
        "lineEnd": 285,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 289,
        "lineEnd": 289,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 305,
        "lineEnd": 305,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 309,
        "lineEnd": 309,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 313,
        "lineEnd": 313,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 99,
        "lineEnd": 99,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 110,
        "lineEnd": 110,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 115,
        "lineEnd": 115,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 101
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 126,
        "lineEnd": 126,
        "columnStart": 4,
        "columnEnd": 96
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 129,
        "lineEnd": 129,
        "columnStart": 4,
        "columnEnd": 152
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 130,
        "lineEnd": 130,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 4,
        "columnEnd": 208
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 142,
        "lineEnd": 142,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 146,
        "lineEnd": 146,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 152,
        "lineEnd": 152,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 158,
        "lineEnd": 158,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 166,
        "lineEnd": 166,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 198,
        "lineEnd": 198,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 227,
        "lineEnd": 227,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 235,
        "lineEnd": 235,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 240,
        "lineEnd": 240,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 293,
        "lineEnd": 293,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 297,
        "lineEnd": 297,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 301,
        "lineEnd": 301,
        "columnStart": 4,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM REPLACE_BASE_VANILLA_CENTOS\nRUN yum -y update\nRUN yum -y install openssh-server && rm -rf /var/cache/yum\nRUN yum -y install passwd && rm -rf /var/cache/yum\nRUN yum -y install sudo && rm -rf /var/cache/yum\nRUN yum -y install rsync && rm -rf /var/cache/yum\n\nRUN useradd -ms /bin/bash REPLACE_USERNAME\nRUN echo \"REPLACE_USERNAME  ALL=(ALL:ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n#ENV OBJECTSTORE_PORT=10000\n#ENV METRICSTORE_PORT=20000\n#ENV LOGSTORE_PORT=30000\n#ENV FILESTORE_PORT=40000\n#ENV GUI_PORT=50000\n#ENV API_PORT=60000\n#ENV VPN_PORT=65000\n\n#EXPOSE $OBJECTSTORE_PORT\n#EXPOSE $METRICSTORE_PORT\n#EXPOSE $LOGSTORE_PORT\n#EXPOSE $FILESTORE_PORT\n#EXPOSE $GUI_PORT\n#EXPOSE $API_PORT\n#EXPOSE $VPN_PORT\n\n# sudo-install-man\nRUN yum install -y sudo && rm -rf /var/cache/yum\n# echo \"USERNAME  ALL=(ALL:ALL) NOPASSWD:ALL\" >> /etc/sudoers; sed -i s/\"Defaults requiretty\"/\"#Defaults requiretty\"/g /etc/sudoers\n# sudo-install-man\n\n# ifconfig-install-sl\nRUN yum -y update; yum clean all\nRUN yum install -y net-tools && rm -rf /var/cache/yum\nRUN ln -sf /sbin/ifconfig /usr/local/bin/ifconfig\n# ifconfig-install-sl\n\n# ip-install-sl\nRUN ln -sf /sbin/ip /usr/local/bin/ip\n# ip-install-sl\n\n# pkill-install-pm\nRUN yum install -y psmisc coreutils && rm -rf /var/cache/yum\n# pkill-install-pm\n\n# which-install-pm\nRUN /bin/true\n# which-install-pm\n\n# ntp-install-pm\nRUN yum install -y ntp ntpdate && rm -rf /var/cache/yum\n# ntp-install-pm\n\n# git-install-pm\nRUN yum install -y git && rm -rf /var/cache/yum\n# git-install-pm\n\n# wget-install-pm\nRUN yum install -y wget && rm -rf /var/cache/yum\n# wget-install-pm\n\n# pip-install-pm\nRUN yum install -y epel-release && rm -rf /var/cache/yum\nRUN yum install -y python3-pip && rm -rf /var/cache/yum\n# pip-install-pm\n\n# gcc-install-pm\nRUN yum install -y gcc gcc-c++ && rm -rf /var/cache/yum\n# gcc-install-pm\n\n# make-install-pm\nRUN yum install -y make && rm -rf /var/cache/yum\n# make-install-pm\n\n# bc-install-pm\nRUN yum install -y bc && rm -rf /var/cache/yum\n# bc-install-pm\n\n# sshpass-install-pm\nRUN yum install -y sshpass && rm -rf /var/cache/yum\n# sshpass-install-pm\n\n# curl-install-pm\nRUN yum install -y curl && rm -rf /var/cache/yum\n# curl-install-pm\n\n# screen-install-pm\nRUN yum install -y screen && rm -rf /var/cache/yum\n# screen-install-pm\n\n# rsync-install-pm\nRUN yum install -y rsync && rm -rf /var/cache/yum\n# rsync-install-pm\n\n# ncftp-install-pm\nRUN yum install -y ncftp && rm -rf /var/cache/yum\n# ncftp-install-pm\n\n# lftp-install-pm\nRUN yum install -y lftp && rm -rf /var/cache/yum\n# lftp-install-pm\n\n# haproxy-install-pm\nRUN yum install -y haproxy && rm -rf /var/cache/yum\n# service_stop_disable haproxy\n# haproxy-install-pm\n\nRUN yum install -y vim && rm -rf /var/cache/yum\n\n# netcat-install-man\nRUN yum install -y nmap-ncat netcat-openbsd && rm -rf /var/cache/yum\nRUN cp /bin/nc /usr/local/bin/netcat\n# netcat-install-man\n\n# nmap-install-pm\nRUN yum install -y nmap && rm -rf /var/cache/yum\n# nmap-install-pm\n\n# openvpn-install-pm\nRUN yum install -y openvpn && rm -rf /var/cache/yum\nRUN ln -sf /usr/sbin/openvpn /usr/local/bin/openvpn\n# openvpn-install-pm\n\n# gmond-install-pm\nRUN cd /root/; wget -N https://mirrors.lug.mtu.edu/fedora/linux/development/rawhide/Everything/source/tree/Packages/g/ganglia-3.7.2-31.fc33.src.rpm\nRUN yum install -y perl-Pod-Html-1.22.02-416.el8.noarch rpm-build autoconf automake libtool apr-devel && rm -rf /var/cache/yum\nRUN yum install -y rsync rrdtool-devel rpcgen libtirpc-devel libmemcached-devel libconfuse-devel && rm -rf /var/cache/yum\nRUN wget -N https://download.fedoraproject.org/pub/fedora/linux/development/rawhide/Everything/source/tree/Packages/l/libart_lgpl-2.3.21-23.fc32.src.rpm\nRUN cd /root/; rpmbuild --rebuild libart_lgpl-2.3.21-23.fc32.src.rpm\nRUN yum install -y /root/rpmbuild/RPMS/x86_64/libart_lgpl-2.3.21-23.el8.x86_64.rpm /root/rpmbuild/RPMS/x86_64/libart_lgpl-devel-2.3.21-23.el8.x86_64.rpm && rm -rf /var/cache/yum\nRUN yum install -y git && rm -rf /var/cache/yum\nRUN cd /root/; rpmbuild --rebuild ganglia-3.7.2-31.fc33.src.rpm\nRUN yum install -y /root/rpmbuild/RPMS/x86_64/ganglia-3.7.2-31.el8.x86_64.rpm /root/rpmbuild/RPMS/x86_64/ganglia-gmetad-3.7.2-31.el8.x86_64.rpm /root/rpmbuild/RPMS/x86_64/ganglia-gmond-3.7.2-31.el8.x86_64.rpm && rm -rf /var/cache/yum\n# service_stop_disable gmond\n# gmond-install-pm\n\n# rsyslog-install-pm\nRUN yum install -y rsyslog && rm -rf /var/cache/yum\nRUN ln -sf /sbin/rsyslogd /usr/local/bin/rsyslogd\n# rsyslog-install-pm\n\n# apache-install-pm\nRUN yum -y install httpd; rm -rf /var/cache/yum /bin/true\n# apache-install-pm\n\n# redis-install-pm\nRUN yum install -y redis && rm -rf /var/cache/yum\nRUN sed -i \"s/.*bind 127.0.0.1/bind 0.0.0.0/\" /etc/redis.conf\n# redis-install-pm\nRUN sed -i \"s/.*port.*/port $OBJECTSTORE_PORT/\" /etc/redis.conf\n\n# mongodb-install-pm\nRUN yum install -y mongodb-org-tools mongodb-org-shell mongodb-org-server && rm -rf /var/cache/yum\nRUN sed -i \"s/.*bind_ip.*/bind_ip=0.0.0.0/\" /etc/mongod.conf; /bin/true\nRUN sed -i \"s/.*port.*/port = $METRICSTORE_PORT/\" /etc/mongod.conf; /bin/true\n# mongodb-install-pm\n\n# pylibvirt-install-pm\nRUN yum install -y libvirt-python3 && rm -rf /var/cache/yum\n# pylibvirt-install-pm\n\n# pypureomapi-install-pip\nRUN pip3 install --no-cache-dir --upgrade pypureomapi\n# pypureomapi-install-pip\n\n# python3-devel-install-pm\nRUN yum install -y python3-devel libffi-devel openssl-devel libxml2-devel && rm -rf /var/cache/yum\n# python3-devel-install-pm\n\n# python-prettytable-install-pip\nRUN pip3 install --no-cache-dir --upgrade docutils prettytable wheel\n# python-prettytable-install-pip\n\n# python-daemon-install-pip\nRUN pip3 install --no-cache-dir --upgrade python-daemon-3K\n# python-daemon-install-pip\n\n# python-twisted-install-pip\nRUN pip3 install --no-cache-dir --upgrade twisted service_identity\n# python-twisted-install-pip\n\n# python-beaker-install-pip\nRUN pip3 install --no-cache-dir --upgrade beaker\n# python-beaker-install-pip\n\n# python-webob-install-pip\nRUN pip3 install --no-cache-dir --upgrade webob\n# python-webob-install-pip\n\n# pyredis-install-pip\nRUN pip3 install --no-cache-dir redis\n# pyredis-install-pip\n\n# pymongo-install-pip\nRUN pip3 install --no-cache-dir --upgrade mongo\n# pymongo-install-pip\n\n# pssh-install-pm\nRUN yum install -y mpssh && rm -rf /var/cache/yum\nRUN sudo ln -sf /usr/bin/mpssh /usr/local/bin/pssh\n# pssh-install-pm\n\n# docutils-install-pip\nRUN pip3 install --no-cache-dir --upgrade docutils\n# docutils-install-pip\n\n# python-setuptools-install-pip\nRUN pip3 install --no-cache-dir --upgrade setuptools\n# python-setuptools-install-pip\n\n# markup-install-pip\nRUN pip3 install --no-cache-dir --upgrade markup\n# markup-install-pip\n\n# pyyaml-install-pip\nRUN pip3 install --no-cache-dir --upgrade pyyaml\n# pyyaml-install-pip\n\n# ruamelyaml-install-pip\nRUN pip3 install --no-cache-dir --upgrade ruamel.yaml\n# ruamelyaml-install-pip\n\n# urllib3-install-pip\nRUN pip3 install --no-cache-dir --upgrade  urllib3[secure]\n# urllib3-install-pip\n\n# jq-install-pm\nRUN yum install -y jq && rm -rf /var/cache/yum\n# jq-install-pm\n\n# httplib2shim-install-pip\nRUN pip3 install --no-cache-dir --upgrade httplib2shim\n# httplib2shim-install-pip\n\n# iptables-install-pm\nRUN yum install -y iptables && rm -rf /var/cache/yum\n# service_stop_disable iptables\n# iptables-install-pm\n\n# sshd-install-pm\nRUN yum -y install openssh-server && rm -rf /var/cache/yum\nRUN sudo bash -c \"echo 'UseDNS no' >> /etc/ssh/sshd_config\"\nRUN sed -i 's/.*UseDNS.*/UseDNS no/g' /etc/ssh/sshd_config\nRUN sed -i 's/.*GSSAPIAuthentication.*/GSSAPIAuthentication no/g' /etc/ssh/sshd_config\n# sshd-install-pm\n\n# novaclient-install-pip\nRUN pip3 install --no-cache-dir --upgrade pbr\nRUN pip3 install --no-cache-dir --upgrade netifaces\nRUN pip3 install --no-cache-dir --upgrade python-novaclient==9.1.1\n# novaclient-install-pip\n\n# neutronclient-install-pip\nRUN pip3 install --no-cache-dir --upgrade python-neutronclient==6.5.0\n# neutronclient-install-pip\n\n# cinderclient-install-pip\nRUN pip3 install --no-cache-dir --upgrade python-cinderclient==3.2.0\n# cinderclient-install-pip\n\n# glanceclient-install-pip\nRUN pip3 install --no-cache-dir --upgrade python-glanceclient==2.8.0\n# glanceclient-install-pip\n\n# softlayer-install-pip\nRUN pip3 install --no-cache-dir --upgrade softlayer\n# softlayer-install-pip\n\n# boto-install-pip\nRUN pip3 install --no-cache-dir --upgrade boto\n# boto-install-pip\n\n# libcloud-install-pip\nRUN pip3 install --no-cache-dir --upgrade apache-libcloud\n# libcloud-install-pip\n\n# pygce-install-pip\nRUN pip3 install --no-cache-dir --upgrade gcloud google-api-python-client\n# pygce-install-pip\n\n# docker-install-pip\nRUN pip3 install --no-cache-dir --upgrade docker wget\n# docker-install-pip\n\n# pylxd-install-pip\nRUN pip3 install --no-cache-dir --upgrade pylxd\n# pylxd-install-pip\n\n# pykube-ng-install-pip\nRUN pip3 install --no-cache-dir --upgrade pykube-ng\n# pykube-ng-install-pip\n\n# R-install-pm\nRUN yum install -y R && rm -rf /var/cache/yum\n# R-install-pm\n\n# rrdtool-install-pm\nRUN yum install -y rrdtool && rm -rf /var/cache/yum\n# rrdtool-install-pm\n\n# python-rrdtool-install-pm\nRUN yum install -y python3-rrdtool && rm -rf /var/cache/yum\n# python-rrdtool-install-pm\n\n# python-dateutil-install-pip\nRUN pip3 install --no-cache-dir --upgrade python-dateutil\n# python-dateutil-install-pip\n\n# python-pillow-install-pip\nRUN pip3 install --no-cache-dir --upgrade Pillow; /bin/true\n# python-pillow-install-pip\n\n# python-jsonschema-install-pip\nRUN pip3 install --no-cache-dir --upgrade jsonschema\n# python-jsonschema-install-pip\n\nUSER REPLACE_USERNAME\n# gcloud-install-man\nENV CLOUDSDK_CORE_DISABLE_PROMPTS=1\nRUN curl -f https://sdk.cloud.google.com | bash\nRUN sudo ln -sf /home/REPLACE_USERNAME/google-cloud-sdk/bin/gcloud /usr/local/bin/gcloud\n# gcloud-install-man\n\nWORKDIR /home/REPLACE_USERNAME/\n\n# gmetad-python-install-git\nRUN mkdir -p /home/REPLACE_USERNAME/cbtool/3rd_party/workload\nRUN cp____-f____/home/REPLACE_USERNAME/cbtool/util/manually_download_files.txt____/home/REPLACE_USERNAME/cbtool/3rd_party/workload; /bin/true\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party\nRUN git clone https://github.com/ibmcb/monitor-core.git\n# gmetad-python-install-git\n\n# pyhtml-install-git\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party\nRUN git clone https://github.com/ibmcb/HTML.py.git\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party/HTML.py\nRUN sudo python3 setup.py install\n# pyhtml-install-git\n\n# bootstrap-install-git\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party\nRUN git clone https://github.com/ibmcb/bootstrap.git\n# bootstrap-install-git\n\n# bootstrap-wizard-install-git\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party\nRUN git clone https://github.com/ibmcb/Bootstrap-Wizard.git\n# bootstrap-wizard-install-git\n\n# streamprox-install-git\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party\nRUN git clone https://github.com/ibmcb/StreamProx.git\n# streamprox-install-git\n\n# d3-install-git\nWORKDIR /home/REPLACE_USERNAME/cbtool/3rd_party\nRUN git clone https://github.com/ibmcb/d3.git\n# d3-install-git\n\nADD installrlibs.R /usr/local/bin/installrlibs\nRUN sudo chmod +x /usr/local/bin/installrlibs; sudo /usr/local/bin/installrlibs\n\nUSER root\nRUN ssh-keygen -q -t rsa -N '' -f /root/.ssh/id_rsa; \\\ntouch /root/.ssh/authorized_keys; \\\nchmod 644 /root/.ssh/authorized_keys; \\\nmkdir -p /home/REPLACE_USERNAME/.ssh/; \\\necho \"StrictHostKeyChecking no\" > /root/.ssh/config; \\\necho \"UserKnownHostsFile=/dev/null\" >> /root/.ssh/config; \\\necho \"HashKnownHosts no\" >> /root/.ssh/config; \\\nrsync -a /root/.ssh/ /home/REPLACE_USERNAME/.ssh/; \\\nmkdir /home/REPLACE_USERNAME/repos; \\\nchown -R REPLACE_USERNAME:REPLACE_USERNAME /home/REPLACE_USERNAME/;\n\n#\n#\n\nARG CLOUDBENCH_VERSION=AUTO\n\nADD get_my_ips.sh /usr/local/bin/getmyips\nADD gucn.sh /usr/local/bin/gucn\n\nWORKDIR /home/REPLACE_USERNAME/\nRUN git clone https://github.com/ibmcb/cbtool.git cbtooltmp; \\\ncd /home/REPLACE_USERNAME/cbtooltmp; git checkout REPLACE_BRANCH; \\\nrsync -a /home/REPLACE_USERNAME/cbtooltmp/ /home/REPLACE_USERNAME/cbtool; \\\nrm -rf /home/REPLACE_USERNAME/cbtooltmp/; \\\ncp -f /home/REPLACE_USERNAME/cbtool/util/manually_download_files.txt /home/REPLACE_USERNAME/cbtool/3rd_party/workload; \\\ncd /home/REPLACE_USERNAME/cbtool; \\\nmv configs private_configs; \\\nmkdir configs; \\\nmkdir -p data; \\\nmv data private_data; \\\nmkdir data; \\\nsudo chmod +x /usr/local/bin/getmyips; \\\nsudo chmod +x /usr/local/bin/gucn;\n\n#\n\n#\n#\n#\n\n#\n#\n#\n#\n#\n#\n#\n\nRUN chown -R REPLACE_USERNAME:REPLACE_USERNAME /home/REPLACE_USERNAME/\n\nUSER REPLACE_USERNAME\n\nWORKDIR /home/REPLACE_USERNAME/cbtool\n"
}