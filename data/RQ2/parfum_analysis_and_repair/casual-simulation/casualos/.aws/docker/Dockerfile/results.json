{
  "startTime": 1674250875220,
  "endTime": 1674250876067,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "sha256sumEchoOneSpaces",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 7,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 15,
        "columnStart": 22,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 9,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 9,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 15,
        "columnStart": 22,
        "columnEnd": 20
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 9,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 9,
        "columnEnd": 58
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:latest\n\nARG DEBIAN_FRONTEND=noninteractive\nENV TZ=\"US/Eastern\"\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    gnupg-agent \\\n    software-properties-common \\\n    sudo \\\n    build-essential \\\n    wget \\\n    tar \\\n    git-all iptables && rm -rf /var/lib/apt/lists/*;\n\n\n#Docker 19\nENV DOCKER_BUCKET=\"download.docker.com\" \\\n    DOCKER_CHANNEL=\"stable\" \\\n    DIND_COMMIT=\"3b5fac462d21ca164b3778647420016315289034\"\n\nENV DOCKER_SHA256=\"9cd49fe82f6b7ec413b04daef35bc0c87b01d6da67611e5beef36291538d3145\"\nENV DOCKER_VERSION=\"19.03.11\"\n\nVOLUME /var/lib/docker\n\n# Install Docker\nRUN set -ex \\\n    && curl -fSL \"https://${DOCKER_BUCKET}/linux/static/${DOCKER_CHANNEL}/aarch64/docker-${DOCKER_VERSION}.tgz\" -o docker.tgz \\\n    && echo \"${DOCKER_SHA256}  *docker.tgz\" | sha256sum -c - \\\n    && tar --extract --file docker.tgz --strip-components 1  --directory /usr/local/bin \\\n    && rm docker.tgz \\\n    && docker -v \\\n    # set up subuid/subgid so that \"--userns-remap=default\" works out-of-the-box\n    && groupadd dockremap \\\n    && useradd -g dockremap dockremap \\\n    && echo 'dockremap:165536:65536' >> /etc/subuid \\\n    && echo 'dockremap:165536:65536' >> /etc/subgid \\\n    && wget \"https://raw.githubusercontent.com/docker/docker/${DIND_COMMIT}/hack/dind\" -O /usr/local/bin/dind \\\n    && chmod +x /usr/local/bin/dind\n\n# RUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n# RUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\n# RUN add-apt-repository \"deb [arch=arm64] https://download.docker.com/linux/ubuntu focal stable\"\n\n# RUN apt-get install docker.io -y\n# RUN gpasswd -a root docker\n\n# Install Node 14.x\nRUN curl -fsSL https://deb.nodesource.com/setup_14.x | bash -\nRUN sudo apt-get install --no-install-recommends -y nodejs && rm -rf /var/lib/apt/lists/*;\n\nRUN npm install -g yarn && npm cache clean --force;\n\nCOPY dockerd-entrypoint.sh /usr/local/bin/\n\nENTRYPOINT [\"dockerd-entrypoint.sh\"]\n"
}