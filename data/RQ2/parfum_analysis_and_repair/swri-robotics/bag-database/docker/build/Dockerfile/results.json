{
  "startTime": 1674250007827,
  "endTime": 1674250008854,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 37
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM maven:3.8.5-openjdk-11 as base-layer\n\nLABEL maintainer=\"david.anthony@swri.org\"\nLABEL author=\"P.J. Reed\"\n\n# Build the bag DB in a separate stage so that the final image doesn't need\n# to have the maven build environment in it.\n\nWORKDIR /app\nCOPY pom.xml .\nRUN mvn -e -B dependency:resolve\nCOPY src ./src\nRUN mvn -e -B package\n\nFROM tomcat:9-jdk11\n\nLABEL maintainer=\"david.anthony@swri.org\"\nLABEL author=\"P.J. Reed\"\n\nVOLUME [\"/bags\", \"/root/.ros-bag-database/indexes\", \"/usr/local/tomcat/logs\"]\nEXPOSE 8080\n\n# Need to manually install ffmpeg and perl for streaming video\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y ffmpeg perl \\\n    && rm -rf /var/lib/apt/lists/*\nRUN rm -rf /usr/local/tomcat/webapps/\nCOPY --from=base-layer /app/target/*.war /usr/local/tomcat/webapps/ROOT.war\nCOPY src/main/docker/entrypoint.sh /\nCOPY src/main/docker/server.xml /usr/local/tomcat/conf/server.xml\n\nCMD [\"/entrypoint.sh\"]\n"
}