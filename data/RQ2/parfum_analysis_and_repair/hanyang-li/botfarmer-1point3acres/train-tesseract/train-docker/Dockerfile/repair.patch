diff --git a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/hanyang-li/botfarmer-1point3acres/train-tesseract/train-docker/Dockerfile b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/hanyang-li/botfarmer-1point3acres/train-tesseract/train-docker/Dockerfile/repaired.Dockerfile
index 3dc7e7b..c0655d9 100644
--- a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/hanyang-li/botfarmer-1point3acres/train-tesseract/train-docker/Dockerfile
+++ b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/hanyang-li/botfarmer-1point3acres/train-tesseract/train-docker/Dockerfile/repaired.Dockerfile
@@ -6,12 +6,12 @@ ENV DEBIAN_FRONTEND noninteractive
 
 # Update and install depedencies
 RUN apt-get update && \
-    apt-get install -y wget unzip bc vim python3-pip libleptonica-dev git
+    apt-get install --no-install-recommends -y wget unzip bc vim python3-pip libleptonica-dev git && rm -rf /var/lib/apt/lists/*;
 
 # Packages to complie Tesseract
-RUN apt-get install -y --reinstall make && \
-    apt-get install -y g++ autoconf automake libtool pkg-config libpng-dev libjpeg8-dev libtiff5-dev libicu-dev \
-        libpango1.0-dev autoconf-archive
+RUN apt-get install --no-install-recommends -y --reinstall make && \
+    apt-get install --no-install-recommends -y g++ autoconf automake libtool pkg-config libpng-dev libjpeg8-dev libtiff5-dev libicu-dev \
+        libpango1.0-dev autoconf-archive && rm -rf /var/lib/apt/lists/*;
 
 # Set working directory
 WORKDIR /app
@@ -25,7 +25,7 @@ COPY requirements.txt ./
 RUN mkdir src && cd /app/src && \
     wget https://github.com/tesseract-ocr/tesseract/archive/4.1.0.zip && \
 	unzip 4.1.0.zip && \
-    cd /app/src/tesseract-4.1.0 && ./autogen.sh && ./configure && make && make install && ldconfig && \
+    cd /app/src/tesseract-4.1.0 && ./autogen.sh && ./configure --build="$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)" && make && make install && ldconfig && \
     make training && make training-install && \
     cd /usr/local/share/tessdata && wget https://github.com/tesseract-ocr/tessdata_best/raw/master/eng.traineddata
 
@@ -33,10 +33,10 @@ RUN mkdir src && cd /app/src && \
 ENV TESSDATA_PREFIX=/usr/local/share/tessdata
 
 # Install libraries using pip installer
-RUN pip3 install -r requirements.txt
+RUN pip3 install --no-cache-dir -r requirements.txt
 
 # Set the locale
-RUN apt-get install -y locales && locale-gen en_US.UTF-8
+RUN apt-get install --no-install-recommends -y locales && locale-gen en_US.UTF-8 && rm -rf /var/lib/apt/lists/*;
 ENV LC_ALL=en_US.UTF-8
 ENV LANG=en_US.UTF-8
 ENV LANGUAGE=en_US.UTF-8
\ No newline at end of file