{
  "startTime": 1674219322684,
  "endTime": 1674219323655,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 12,
        "columnStart": 1,
        "columnEnd": 7
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 31,
        "columnStart": 1,
        "columnEnd": 6
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 37,
        "lineEnd": 38,
        "columnStart": 1,
        "columnEnd": 13
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 43,
        "lineEnd": 45,
        "columnStart": 22,
        "columnEnd": 7
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 12,
        "columnStart": 1,
        "columnEnd": 7
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 31,
        "columnStart": 1,
        "columnEnd": 6
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 37,
        "lineEnd": 38,
        "columnStart": 1,
        "columnEnd": 13
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 43,
        "lineEnd": 45,
        "columnStart": 22,
        "columnEnd": 7
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG\tREGISTRY=docker.io\nFROM\t${REGISTRY}/debian:bullseye\n# Arguments used after FROM must be specified again\nARG\tOSMOCOM_REPO_MIRROR=\"https://downloads.osmocom.org\"\nARG\tOSMOCOM_REPO_PATH=\"packages/osmocom:\"\nARG\tOSMOCOM_REPO=\"${OSMOCOM_REPO_MIRROR}/${OSMOCOM_REPO_PATH}/latest/Debian_11/\"\n\n# install the erlang vm and rebar (2)\nRUN apt-get update && \\\n\tapt-get upgrade -y && \\\n\tapt-get -y --no-install-recommends install \\\n\t\terlang \\\n\t\trebar && rm -rf /var/lib/apt/lists/*;\n\n# add rebar3\nARG\tREBAR3_VERSION=\"3.18.0\"\nADD https://github.com/erlang/rebar3/archive/refs/tags/${REBAR3_VERSION}.tar.gz /tmp/rebar3.tar.gz\nRUN tar -zxf /tmp/rebar3.tar.gz && \\\n\t\tcd rebar3-${REBAR3_VERSION} && \\\n\t\t./bootstrap && \\\n\t\tinstall -Dm0755 \"rebar3\" \"/usr/bin/rebar3\" && rm /tmp/rebar3.tar.gz\n\n# install ninimal build utilities as well as system utilities\nRUN apt-get update && \\\n\tapt-get -y --no-install-recommends install \\\n\t\tbuild-essential \\\n\t\tgit \\\n\t\tprocps \\\n\t\ttcpdump \\\n\t\tvim \\\n\t\tnetcat-openbsd \\\n\t\twget \\\n\t\t&& \\\n\tapt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# install additional C-language / system dependencies of our Erlang projects\nRUN apt-get update && \\\n\tapt-get -y --no-install-recommends install \\\n\t\tlibpcap-dev \\\n\t\t&& \\\n\tapt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# add osmocom latest repo, should we ever require packages from there\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n\t\tca-certificates \\\n\t\tgnupg && rm -rf /var/lib/apt/lists/*;\nCOPY\t.common/Release.key /tmp/Release.key\nRUN\tapt-key add /tmp/Release.key && \\\n\trm /tmp/Release.key && \\\n\techo \"deb \" $OSMOCOM_REPO \" ./\" > /etc/apt/sources.list.d/osmocom-latest.list\nADD\t$OSMOCOM_REPO/Release /tmp/Release\n\n# add a non-root user under which we will normaly execute build tests\nRUN\tuseradd -m build\nWORKDIR\t/home/build\nUSER\tbuild\n"
}