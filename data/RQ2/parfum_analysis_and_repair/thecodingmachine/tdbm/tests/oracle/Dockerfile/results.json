{
  "startTime": 1674256021729,
  "endTime": 1674256022647,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 68,
        "columnEnd": 136
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 15,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 22,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 22,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 22,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 63
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 87
      }
    }
  ],
  "repairedDockerfile": "FROM thecodingmachine/php:7.4-v3-cli\n\nUSER root\nRUN apt-get update && apt-get install -y --no-install-recommends wget && rm -rf /var/lib/apt/lists/*;\n\nRUN mkdir /opt/oracle\nRUN cd /opt/oracle && wget https://download.oracle.com/otn_software/linux/instantclient/19600/instantclient-basic-linux.x64-19.6.0.0.0dbru.zip && wget https://download.oracle.com/otn_software/linux/instantclient/19600/instantclient-sdk-linux.x64-19.6.0.0.0dbru.zip\nRUN cd /tmp && wget https://pecl.php.net/get/oci8-2.2.0.tgz\n\nRUN cd /opt/oracle && unzip instantclient-basic-linux.x64-19.6.0.0.0dbru.zip && unzip instantclient-sdk-linux.x64-19.6.0.0.0dbru.zip && echo /opt/oracle/instantclient_19_6 > /etc/ld.so.conf.d/oracle-instantclient.conf\nRUN ldconfig\n\nRUN apt-get install --no-install-recommends -y php-dev php-pear build-essential libaio1 && rm -rf /var/lib/apt/lists/*;\n\nRUN cd /tmp && tar zxf oci8-2.2.0.tgz && cd oci8-2.2.0 && phpize && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-oci8=instantclient,/opt/oracle/instantclient_19_6 && make && make install && rm oci8-2.2.0.tgz\n\nRUN echo extension=oci8.so > /etc/php/7.4/mods-available/oci8.ini\nRUN cd /etc/php/7.4/cli/conf.d/ && ln -s /etc/php/7.4/mods-available/oci8.ini\nRUN rm -rf /tmp/oci8-2.2.0 /tmp/oci8-2.2.0.tgz /opt/oracle/instantclient-basic-linux.x64-19.6.0.0.0dbru.zip /opt/oracle/instantclient-sdk-linuxx64.zip\n\nENV PHP_EXTENSIONS_XDEBUG=1\n\nUSER docker\n"
}