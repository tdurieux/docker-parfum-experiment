{
  "startTime": 1674248992143,
  "endTime": 1674248992880,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 128
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM monogramm/docker-taiga-back-base:%%VERSION%%-%%VARIANT%%\n\nLABEL maintainer=\"Monogramm maintainers <opensource at monogramm dot io>\"\n\n# Taiga additional properties\nENV ENABLE_SLACK=False \\\n    ENABLE_GITLAB_AUTH=False \\\n    GITLAB_URL=https://gitlab.com \\\n    GITLAB_API_CLIENT_ID= \\\n    GITLAB_API_CLIENT_SECRET= \\\n    ENABLE_GITHUB_AUTH=False \\\n    GITHUB_API_CLIENT_ID= \\\n    GITHUB_API_CLIENT_SECRET= \\\n    ENABLE_LDAP=False \\\n    LDAP_START_TLS=False \\\n    LDAP_SERVER= \\\n    LDAP_PORT=389 \\\n    LDAP_BIND_DN= \\\n    LDAP_BIND_PASSWORD= \\\n    LDAP_SEARCH_BASE= \\\n    LDAP_USERNAME_ATTRIBUTE=uid \\\n    LDAP_EMAIL_ATTRIBUTE=mail \\\n    LDAP_FULL_NAME_ATTRIBUTE=cn \\\n    LDAP_SAVE_LOGIN_PASSWORD=True \\\n    LDAP_FALLBACK=normal \\\n    ENABLE_OPENID=False \\\n    OPENID_USER_URL= \\\n    OPENID_TOKEN_URL= \\\n    OPENID_CLIENT_ID= \\\n    OPENID_CLIENT_SECRET= \\\n    OPENID_SCOPE=\"openid email\"\n\n# Erase original entrypoint and conf with custom one\nCOPY custom_db_init.sh /\nCOPY local.py /taiga/\n\n# Fix custom_db_init permissions\n# Install Slack/Mattermost extension\n# Install GitLab Auth extension\n# Install LDAP extension\n# Install OPENID Auth extension\nRUN set -ex; \\\n    chmod 755 /custom_db_init.sh; \\\n    LC_ALL=C pip install --no-cache-dir taiga-contrib-slack; \\\n    LC_ALL=C pip install --no-cache-dir taiga-contrib-gitlab-auth-official; \\\n    LC_ALL=C pip install --no-cache-dir taiga-contrib-github-auth; \\\n    LC_ALL=C pip install --no-cache-dir taiga-contrib-ldap-auth-ext; \\\n    curl -f -L -o /tmp/taiga-contrib-openid-auth.zip \"https://github.com/robrotheram/taiga-contrib-openid-auth/archive/master.zip\"; \\\n    mkdir -p /tmp/taiga-contrib-openid-auth; \\\n    unzip /tmp/taiga-contrib-openid-auth.zip -d /tmp/; \\\n    LC_ALL=C pip install --no-cache-dir /tmp/taiga-contrib-openid-auth-master/back; \\\n    rm -rf /tmp/taiga-contrib-openid-auth\n\n# Arguments to label built container\nARG VCS_REF=unknown\nARG BUILD_DATE=unknown\nARG VERSION=%%VERSION%%\n\n# Container labels (http://label-schema.org/)\n# Container annotations (https://github.com/opencontainers/image-spec)\nLABEL maintainer=\"Monogramm Maintainers <opensource at monogramm dot io>\" \\\n      product=\"Taiga Back\" \\\n      version=$VERSION \\\n      org.label-schema.vcs-ref=$VCS_REF \\\n      org.label-schema.vcs-url=\"https://github.com/Monogramm/docker-taiga/\" \\\n      org.label-schema.build-date=$BUILD_DATE \\\n      org.label-schema.name=\"Taiga Back\" \\\n      org.label-schema.description=\"Taiga is a project management platform for startups and agile developers & designers who want a simple, beautiful tool that makes work truly enjoyable.\" \\\n      org.label-schema.url=\"https://www.taiga.io/\" \\\n      org.label-schema.vendor=\"Taiga\" \\\n      org.label-schema.version=$VERSION \\\n      org.label-schema.schema-version=\"1.0\" \\\n      org.opencontainers.image.revision=$VCS_REF \\\n      org.opencontainers.image.source=\"https://github.com/Monogramm/docker-taiga/\" \\\n      org.opencontainers.image.created=$BUILD_DATE \\\n      org.opencontainers.image.title=\"Taiga Back\" \\\n      org.opencontainers.image.description=\"Taiga is a project management platform for startups and agile developers & designers who want a simple, beautiful tool that makes work truly enjoyable.\" \\\n      org.opencontainers.image.url=\"https://www.taiga.io/\" \\\n      org.opencontainers.image.vendor=\"Taiga\" \\\n      org.opencontainers.image.version=$VERSION \\\n      org.opencontainers.image.authors=\"Monogramm Maintainers <opensource at monogramm dot io>\"\n"
}