{
  "startTime": 1674254015259,
  "endTime": 1674254016122,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "## Dockerfile����tomcat����\n\n1. ׼�������ļ� tomcatѹ������jdk��ѹ������\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813164403261.png#pic_center)\n\n2. ��дDockerfile�ļ����ٷ�����`Dockerfile`, build���Զ�Ѱ������ļ����Ͳ���Ҫ-fָ���ˣ�\n\n```shell\n[root@iZ2zeg4ytp0whqtmxbsqiiZ tomcat]# cat Dockerfile\nFROM centos\nMAINTAINER xiaofan<594042358@qq.com>\n\nCOPY readme.txt /usr/local/readme.txt\n\nADD jdk-8u73-linux-x64.tar.gz /usr/local/\nADD apache-tomcat-9.0.37.tar.gz /usr/local/\n\nRUN yum -y install vim && rm -rf /var/cache/yum\n\nENV MYPATH /usr/local\nWORKDIR $MYPATH\n\nENV JAVA_HOME /usr/local/jdk1.8.0_73\nENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nENV CATALINA_HOME /usr/local/apache-tomcat-9.0.37\nENV CATALINA_BASH /usr/local/apache-tomcat-9.0.37\nENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin\n\nEXPOSE 8080\n\nCMD /usr/local/apache-tomcat-9.0.37/bin/startup.sh && tail -F /usr/local/apache-tomcat-9.0.37/bin/logs/catalina.out\n\n```\n\n3. ��������\n\n```shell\n# docker build -t diytomcat .\n```\n\n4. ��������\n\n```shell\n#  docker run -d -p 3344:8080 --name xiaofantomcat1 -v /home/xiaofan/build/tomcat/test:/usr/local/apache-tomcat-9.0.37/webapps/test -v /home/xiaofan/build/tomcat/tomcatlogs/:/usr/local/apache-tomcat-9.0.37/logs diytomcat\n```\n\n5. ���ʲ���\n\n6. ������Ŀ���������˾����أ� ����ֱ���ڱ��ر�д��Ŀ�Ϳ��Է����ˣ�\n\n**�ڱ��ر�дweb.xml��index.jsp���в���**\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813180242294.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n```shell\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app version=\"2.4\"\n    xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee\n        http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\">\n\n</web-app>\n```\n\n```shell\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%>\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>hello. xiaofan</title>\n</head>\n<body>\nHello World!<br/>\n<%\nSystem.out.println(\"-----my test web logs------\");\n%>\n</body>\n</html>\n```\n\n���֣���Ŀ����ɹ��� ����ֱ�ӷ���ok��\n\n�����Ժ󿪷��Ĳ��裺��Ҫ����Dockerfile�ı�д�� ����֮���һ�ж���ʹ��docker�������������еģ�\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813175909845.png#pic_center)\n\n## �����Լ��ľ���Docker Hub\n\n>  Docker Hub\n\n1. [��ַ](https://hub.docker.com/) ע���Լ����˺ţ�\n\n   ![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813182851607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n2. ȷ������˺ſ��Ե�¼\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813183151439.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n\n\n3. �����ǵķ��������ύ�Լ��ľ���\n\n```shell\n# push�����ǵķ�������\n[root@iZ2zeg4ytp0whqtmxbsqiiZ ~]# docker push diytomcat\nThe push refers to repository [docker.io/library/diytomcat]\n2eaca873a720: Preparing\n1b38cc4085a8: Preparing\n088ebb58d264: Preparing\nc06785a2723d: Preparing\n291f6e44771a: Preparing\ndenied: requested access to the resource is denied\t# �ܾ�\n\n# push��������⣿\nThe push refers to repository [docker.io/1314520007/diytomcat]\nAn image does not exist locally with the tag: 1314520007/diytomcat\n\n# ���������һ��tag\ndocker tag diytomcat 1314520007/tomcat:1.0\n```\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813184137474.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n\n\n## �����������ƾ��������\n\n1. ��¼������\n2. �ҵ������������\n3. ���������ռ�\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813190111625.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n4. ������������\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813190303741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n5. ����ֿ����ƣ��ο��ٷ��ĵ�����\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813191526549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n## �ܽ�\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/20200813194116511.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)\n\n![���������ͼƬ����](https://img-blog.csdnimg.cn/2020081319424581.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)"
}