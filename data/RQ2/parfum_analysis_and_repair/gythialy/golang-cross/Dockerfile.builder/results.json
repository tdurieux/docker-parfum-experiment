{
  "startTime": 1674248022916,
  "endTime": 1674248023977,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 30,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 18
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# golang parameters\nARG GO_VERSION=1.18.3\n\n# osxcross parameters\nARG OSX_VERSION_MIN=10.12\nARG OSX_CROSS_COMMIT=0c6186e32d170abcccc0ca39bd14f6b91ac32289\n\nFROM golang:${GO_VERSION}-bullseye AS base\n\nARG APT_MIRROR\nRUN sed -ri \"s/(httpredir|deb).debian.org/${APT_MIRROR:-deb.debian.org}/g\" /etc/apt/sources.list \\\n && sed -ri \"s/(security).debian.org/${APT_MIRROR:-security.debian.org}/g\" /etc/apt/sources.list\nENV OSX_CROSS_PATH=/osxcross\n\nFROM ghcr.io/gythialy/golang-cross/osx-sdk:macos-11.1 AS osx-sdk\n\nFROM base AS osx-cross-base\nARG DEBIAN_FRONTEND=noninteractive\n# Install deps\nRUN set -x; echo \"Starting image build for Debian    \" \\\n && dpkg --add-architecture arm64                      \\\n && dpkg --add-architecture armel                      \\\n && dpkg --add-architecture armhf                      \\\n && dpkg --add-architecture i386                       \\\n && dpkg --add-architecture mips                       \\\n && dpkg --add-architecture mipsel                     \\\n && dpkg --add-architecture powerpc                    \\\n && dpkg --add-architecture ppc64el                    \\\n && dpkg --add-architecture s390x                      \\\n && apt-get update \\\n && apt-get install --no-install-recommends -y -q \\\n        autoconf \\\n        automake \\\n        autotools-dev \\\n        bc \\\n        binfmt-support \\\n        binutils-multiarch \\\n        binutils-multiarch-dev \\\n        build-essential \\\n        clang \\\n        crossbuild-essential-arm64 \\\n        crossbuild-essential-armel \\\n        crossbuild-essential-armhf \\\n        crossbuild-essential-mipsel \\\n        crossbuild-essential-ppc64el \\\n        crossbuild-essential-s390x \\\n        curl \\\n        devscripts \\\n        gdb \\\n        git-core \\\n        libtool \\\n        llvm \\\n        mercurial \\\n        multistrap \\\n        patch \\\n        software-properties-common \\\n        subversion \\\n        wget \\\n        xz-utils \\\n        cmake \\\n        qemu-user-static \\\n        libxml2-dev \\\n        lzma-dev \\\n        openssl \\\n        mingw-w64 \\\n        musl-tools \\\n        libssl-dev && \\\n\t\t\t\tapt -y autoremove && \\\n      apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# FIXME: install gcc-multilib\n# FIXME: add mips and powerpc architectures\n\nFROM osx-cross-base AS osx-cross\nARG OSX_CROSS_COMMIT\nWORKDIR \"${OSX_CROSS_PATH}\"\n# install osxcross:\nRUN git clone https://github.com/tpoechtrager/osxcross.git . \\\n && git checkout -q \"${OSX_CROSS_COMMIT}\" \\\n && rm -rf ./.git\nCOPY --from=osx-sdk \"${OSX_CROSS_PATH}/.\" \"${OSX_CROSS_PATH}/\"\nARG OSX_VERSION_MIN\nRUN UNATTENDED=yes OSX_VERSION_MIN=${OSX_VERSION_MIN} ./build.sh\n\nFROM osx-cross-base AS final\nLABEL maintainer=\"Goren G<gythialy.koo+github@gmail.com>\"\nARG DEBIAN_FRONTEND=noninteractive\n\nCOPY --from=osx-cross \"${OSX_CROSS_PATH}/.\" \"${OSX_CROSS_PATH}/\"\nENV PATH=${OSX_CROSS_PATH}/target/bin:$PATH\n"
}