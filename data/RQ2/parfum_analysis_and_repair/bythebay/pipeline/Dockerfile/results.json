{
  "startTime": 1674250423673,
  "endTime": 1674250424957,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 89
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 53
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:14.04\n\nENV SCALA_VERSION=2.10.4\nENV SPARK_VERSION=1.4.1\n\nEXPOSE 80 4042 9160 9042 9200 7077 38080 38081 6060 6061 8090 8099 10000 50070 50090 9092 6066 9000 19999 6379 6081 7474 8787 5601 8989 7979 4040\n\nRUN \\\n apt-get update \\\n && apt-get install --no-install-recommends -y curl \\\n && apt-get install --no-install-recommends -y wget \\\n && apt-get install --no-install-recommends -y vim \\\n\n# Start in Home Dir (/root)\n && cd ~ \\\n\n# Git\n && apt-get install --no-install-recommends -y git \\\n\n# SSH\n && apt-get install --no-install-recommends -y openssh-server \\\n\n# Java\n && apt-get install --no-install-recommends -y default-jdk \\\n\n# Sbt\n && wget https://s3.amazonaws.com/fluxcapacitor.com/packages/sbt-0.13.8.tgz \\\n && tar xvzf sbt-0.13.8.tgz \\\n && rm sbt-0.13.8.tgz \\\n && ln -s /root/sbt/bin/sbt /usr/local/bin \\\n\n# Get Latest Pipeline Code\n && cd ~ \\\n && git clone https://github.com/bythebay/pipeline.git \\\n\n# Sbt Clean\n && sbt clean clean-files && rm -rf /var/lib/apt/lists/*;\n\nRUN \\\n\n cd ~ \\\n\n# MySql (Required by Hive Metastore)\n# Generic Install?  http://dev.mysql.com/doc/refman/5.7/en/binary-installation.html \\\n && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends -y install mysql-server \\\n && apt-get install --no-install-recommends -y mysql-client \\\n && apt-get install --no-install-recommends -y libmysql-java \\\n\n# Apache Cassandra\n# && wget https://s3.amazonaws.com/fluxcapacitor.com/packages/apache-cassandra-2.2.0-bin.tar.gz \\\n && wget https://archive.apache.org/dist/cassandra/2.2.0/apache-cassandra-2.2.0-bin.tar.gz \\\n && tar xvzf apache-cassandra-2.2.0-bin.tar.gz \\\n && rm apache-cassandra-2.2.0-bin.tar.gz \\\n\n# Apache Kafka (Confluent Distribution)\n# && wget https://s3.amazonaws.com/fluxcapacitor.com/packages/confluent-1.0-2.10.4.tar.gz \\\n && wget https://packages.confluent.io/archive/1.0/confluent-1.0-2.10.4.tar.gz \\\n && tar xvzf confluent-1.0-2.10.4.tar.gz \\\n && rm confluent-1.0-2.10.4.tar.gz \\\n\n# Apache Spark\n && wget https://s3.amazonaws.com/fluxcapacitor.com/packages/spark-1.4.1-bin-fluxcapacitor.tgz \\\n && tar xvzf spark-1.4.1-bin-fluxcapacitor.tgz \\\n && rm spark-1.4.1-bin-fluxcapacitor.tgz \\\n\n# Spark Notebook\n && apt-get install --no-install-recommends -y screen \\\n# && wget https://s3.amazonaws.com/fluxcapacitor.com/packages/spark-notebook-0.6.0-scala-2.10.4-spark-1.4.1-hadoop-2.6.0-with-hive-with-parquet.tgz \\\n && wget https://s3.eu-central-1.amazonaws.com/spark-notebook/emr/spark-notebook-0.6.0-scala-2.10.4-spark-1.4.1-hadoop-2.6.0-with-hive-with-parquet.tgz \\\n && tar xvzf spark-notebook-0.6.0-scala-2.10.4-spark-1.4.1-hadoop-2.6.0-with-hive-with-parquet.tgz \\\n && rm spark-notebook-0.6.0-scala-2.10.4-spark-1.4.1-hadoop-2.6.0-with-hive-with-parquet.tgz \\\n\n# Spark Job Server (1 of 2)\n && wget https://s3.amazonaws.com/fluxcapacitor.com/packages/spark-jobserver-0.5.2-fluxcapacitor.tar.gz \\\n && tar xvzf spark-jobserver-0.5.2-fluxcapacitor.tar.gz \\\n && rm spark-jobserver-0.5.2-fluxcapacitor.tar.gz \\\n && mkdir -p ~/pipeline/logs/spark-jobserver && rm -rf /var/lib/apt/lists/*;\n\nRUN \\\n# Retrieve Latest Datasets, Configs, Code, and Start Scripts\n cd ~/pipeline \\\n && git reset --hard && git pull \\\n && chmod a+rx *.sh \\\n\n# Spark Job Server (2 of 2)\n && ln ~/pipeline/config/spark-jobserver/pipeline.sh ~/spark-jobserver-0.5.2/config \\\n && ln ~/pipeline/config/spark-jobserver/pipeline.conf ~/spark-jobserver-0.5.2/config \\\n && cd ~/spark-jobserver-0.5.2 \\\n && sbt job-server-tests/package \\\n && bin/server_package.sh pipeline \\\n && cp /tmp/job-server/* . \\\n && rm -rf /tmp/job-server \\\n && cd ~ \\\n\n# .profile Shell Environment Variables\n && mv ~/.profile ~/.profile.orig \\\n && ln -s ~/pipeline/config/bash/.profile ~/.profile \\\n\n# Sbt Assemble Feeder Producer App\n && cd ~/pipeline \\\n && sbt feeder/assembly \\\n\n# Sbt Package Streaming Consumer App\n && cd ~/pipeline \\\n && sbt streaming/package\n\nWORKDIR /root\n"
}