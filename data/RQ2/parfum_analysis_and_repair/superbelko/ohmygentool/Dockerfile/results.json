{
  "startTime": 1674252155121,
  "endTime": 1674252156445,
  "originalSmells": [
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 12,
        "columnStart": 22,
        "columnEnd": 17
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 22,
        "columnEnd": 81
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:21.04 as build\n\n\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n  cmake \\\n  git \\\n  tar zip unzip xz-utils \\\n  ninja-build make \\\n  clang-11 lld-11 \\\n  libclang-11-dev llvm-11-dev \\\n  curl wget \\\n  ca-certificates \\\n  && update-alternatives --install \"/usr/bin/ld\" \"ld\" \"/usr/bin/lld-11\" 50 \\\n  && ln -s /usr/lib/llvm-11/lib/libclang-cpp.so.11 /usr/lib/llvm-11/lib/libclang-cpp.so && rm -rf /var/lib/apt/lists/*;\n\nARG DPATH=/dlang\nARG D_VERSION=ldc-1.26.0\nRUN mkdir ${DPATH} \\\n  && curl -fsS https://dlang.org/install.sh | bash -s ${D_VERSION},dub -p ${DPATH}\n\n\nWORKDIR gentool\nCOPY . .\nRUN rm -rf build && mkdir build && cd build \\\n    && . /dlang/${D_VERSION}/activate \\\n    && ls -s \\\n    && export CC=clang-11 \\\n    && export CXX=clang++-11 \\\n    && cmake .. -DGENTOOL_LIB=ON \\\n    && cmake --build . --config Release \\\n    && cd .. \\\n    && ./dubBuild.sh\n\n# prod image\nFROM ubuntu:21.04 as prod\nRUN apt-get update && apt-get install -y --no-install-recommends clang-11 llvm-11 && rm -rf /var/lib/apt/lists/*;\nWORKDIR /root/\nCOPY --from=build /gentool/build/gentool .\nENTRYPOINT [\"./gentool\"]\n"
}