{
  "startTime": 1674255505300,
  "endTime": 1674255506585,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 18,
        "columnEnd": 41
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 18,
        "columnEnd": 41
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.9-slim\n\nWORKDIR /app\nENV PORT=8000\n\nRUN apt update && apt-get install --no-install-recommends -y cron && rm -rf /var/lib/apt/lists/*;\nCOPY clean-old.sh /\nRUN crontab -l | { cat; echo \"*/5 * * * * bash /clean-old.sh\"; } | crontab -\n\nRUN adduser flask\nRUN chown --recursive flask:flask /app\nUSER flask\n\nRUN python3 -m venv .venv && ./.venv/bin/python3 -m pip install pip==22\n\nCOPY --chown=flask pyproject.toml setup.cfg *.md .\nCOPY --chown=flask src ./src\n\nRUN ./.venv/bin/python3 -m pip install .\n\n# Must use sh format for env expansion\n# https://docs.docker.com/engine/reference/builder/#cmd\nCMD [ \"sh\", \"-c\", \"./.venv/bin/gunicorn --chdir=./src --bind=\\\":$PORT\\\" icw:app\" ]\n"
}