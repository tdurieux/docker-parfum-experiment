{
  "startTime": 1674250794411,
  "endTime": 1674250795501,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 1,
        "columnEnd": 79
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 1,
        "columnEnd": 86
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:18.04\n\n# docker build -t logbt-from-host -f Dockerfile.logbt-from-host .\n# docker run --cap-add SYS_PTRACE -v $(pwd)/bin/logbt:/usr/local/bin/logbt logbt-from-host\n\nENV WORKINGDIR /usr/local/src\nWORKDIR ${WORKINGDIR}\n\n# we copy only the tests\n# since we assume logbt from the\n# host is used\nCOPY test test\nADD .nvmrc ./\n\nRUN apt-get update -y && \\\n apt-get install -y bash curl gdb git-core g++ ca-certificates --no-install-recommends && rm -rf /var/lib/apt/lists/*;\n\nRUN NODE_SLUG=node-v$(cat .nvmrc)-linux-x64 && \\\n curl -f -sL --retry 3 -O https://nodejs.org/dist/v$(cat .nvmrc)/$NODE_SLUG.tar.gz && \\\n tar xzf $NODE_SLUG.tar.gz --strip-components=1 -C /usr/local && \\\n rm $NODE_SLUG.tar.gz\n\n# we assume logbt is being mapped to /usr/local/bin from host\n# and that /usr/local/bin is on PATH\nCMD logbt --current-pattern --test && \\\n    export PATH_TO_LOGBT=/usr/local/bin && \\\n    ./test/unit.sh"
}