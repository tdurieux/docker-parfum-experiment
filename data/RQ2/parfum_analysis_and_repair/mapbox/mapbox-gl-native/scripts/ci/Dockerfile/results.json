{
  "startTime": 1674216896195,
  "endTime": 1674216897603,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 7,
        "columnEnd": 109
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 7,
        "columnEnd": 106
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 7,
        "columnEnd": 65
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 23,
        "columnStart": 15,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 47,
        "columnStart": 15,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 53,
        "lineEnd": 62,
        "columnStart": 15,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 66,
        "lineEnd": 68,
        "columnStart": 15,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 72,
        "lineEnd": 76,
        "columnStart": 15,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 121,
        "lineEnd": 121,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 127,
        "lineEnd": 128,
        "columnStart": 15,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 23,
        "columnStart": 15,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 27,
        "lineEnd": 47,
        "columnStart": 15,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 53,
        "lineEnd": 62,
        "columnStart": 15,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 68,
        "columnStart": 15,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 76,
        "columnStart": 15,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 127,
        "lineEnd": 128,
        "columnStart": 15,
        "columnEnd": 17
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 23,
        "columnStart": 15,
        "columnEnd": 18
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 47,
        "columnStart": 15,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 53,
        "lineEnd": 62,
        "columnStart": 15,
        "columnEnd": 16
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 68,
        "columnStart": 15,
        "columnEnd": 17
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 72,
        "lineEnd": 76,
        "columnStart": 15,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 121,
        "lineEnd": 121,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 127,
        "lineEnd": 128,
        "columnStart": 15,
        "columnEnd": 17
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 23,
        "columnStart": 15,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 27,
        "lineEnd": 47,
        "columnStart": 15,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 53,
        "lineEnd": 62,
        "columnStart": 15,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 68,
        "columnStart": 15,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 76,
        "columnStart": 15,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 7,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 127,
        "lineEnd": 128,
        "columnStart": 15,
        "columnEnd": 17
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:eoan-20200313\n\nENV DEBIAN_FRONTEND=\"noninteractive\"\nENV ANDROID_HOME=\"/opt/android\"\n\nWORKDIR /src\n\n# Use faster mirrors from Finland\nCOPY etc/apt/sources.list /etc/apt\n\nRUN set -eu \\\n    && apt-get update \\\n    && apt-get dist-upgrade -y \\\n    && apt-get autoremove --purge -y && apt-get clean\n\n# CI requirements\nRUN set -eu && apt-get install --no-install-recommends -y \\\n      ca-certificates \\\n      git \\\n      gzip \\\n      ssh \\\n      tar \\\n      colorized-logs \\\n      python-scipy \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Base dependencies\nRUN set -eu && apt-get install --no-install-recommends -y \\\n      ccache \\\n      clang-8 \\\n      clang-format-8 \\\n      clang-tidy-8 \\\n      cmake \\\n      fonts-noto \\\n      g++-8 \\\n      libc++-8-dev \\\n      libc++abi-8-dev \\\n      mesa-common-dev \\\n      ninja-build \\\n      nodejs \\\n      npm \\\n      pkg-config \\\n      python3-pip \\\n      python3-requests \\\n      python3-github \\\n      software-properties-common \\\n      valgrind \\\n      xvfb \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\nRUN pip3 install --no-cache-dir cmake-format==0.5.5\n\n# Linux dependencies\nRUN set -eu && apt-get install --no-install-recommends -y \\\n      libcurl4-openssl-dev \\\n      libgl1-mesa-dev \\\n      libgles2-mesa-dev \\\n      libglfw3-dev \\\n      libicu-dev \\\n      libjpeg-turbo8-dev \\\n      libpng-dev \\\n      libuv1-dev \\\n      zlib1g-dev \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Qt dependencies\nRUN set -eu && apt-get install --no-install-recommends -y \\\n      qdoc-qt5 \\\n      qt5-default \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Android dependencies\nRUN set -eu && apt-get install --no-install-recommends -y \\\n      coreutils \\\n      curl \\\n      openjdk-8-jdk-headless \\\n      unzip \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Install old compilers\nRUN set -eu \\\n    && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 1E9377A2BA9EF27F \\\n    && add-apt-repository \"deb http://ppa.launchpad.net/ubuntu-toolchain-r/test/ubuntu xenial main\" \\\n    && add-apt-repository \"deb http://us.archive.ubuntu.com/ubuntu/ xenial main universe\" \\\n    && apt-get install --no-install-recommends -y g++-5 \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Install Android NDK\nRUN set -eu \\\n    && mkdir -p ${ANDROID_HOME} && cd ${ANDROID_HOME} \\\n    && curl -f -L --retry 3 https://dl.google.com/android/repository/android-ndk-r19-linux-x86_64.zip -o ndk.zip \\\n    && (echo \"f02ad84cb5b6e1ff3eea9e6168037c823408c8ac  ndk.zip\" | sha1sum -c) \\\n    && unzip -q ndk.zip && rm ndk.zip && mv android-ndk-r* ndk-bundle\n\n\nRUN set -eu \\\n    && cd ${ANDROID_HOME} \\\n    && curl -f -L --retry 3 https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip -o tools.zip \\\n    && (echo \"92ffee5a1d98d856634e8b71132e8a95d96c83a63fde1099be3d86df3106def9  tools.zip\" | sha256sum -c) \\\n    && unzip -q tools.zip && rm tools.zip\n\nRUN set -eu \\\n    && yes | ${ANDROID_HOME}/tools/bin/sdkmanager \\\n        \"platform-tools\" \\\n        \"platforms;android-26\" \\\n        \"build-tools;26.0.3\" \\\n        \"platforms;android-27\" \\\n        \"build-tools;27.0.3\" \\\n        \"platforms;android-28\" \\\n        \"build-tools;28.0.3\" \\\n        \"extras;android;m2repository\" \\\n        \"patcher;v4\" \\\n        \"extras;google;m2repository\" \\\n        \"extras;m2repository;com;android;support;constraint;constraint-layout;1.0.2\" \\\n        \"cmake;3.10.2.4988404\"\n\n# Install gcloud for Firebase testing\nRUN set -eu \\\n    && echo \"deb [signed-by=/usr/share/keyrings/cloud.google.gpg] http://packages.cloud.google.com/apt cloud-sdk main\" | tee -a /etc/apt/sources.list.d/google-cloud-sdk.list \\\n    && curl -f https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key --keyring /usr/share/keyrings/cloud.google.gpg add - \\\n    && apt-get update -y \\\n    && apt-get install --no-install-recommends google-cloud-sdk -y \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# FIXME: This package should not be needed\n# bug looks like run-clang-tidy-8 is broken.\n# Remove when Ubuntu Eoan fixes the dependency.\nRUN set -eu && apt-get install --no-install-recommends -y \\\n      python-yaml \\\n    && apt-get autoremove --purge -y && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Configure ccache\nRUN set -eu && /usr/sbin/update-ccache-symlinks\n"
}