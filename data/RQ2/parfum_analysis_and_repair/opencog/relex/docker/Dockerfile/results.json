{
  "startTime": 1674215548516,
  "endTime": 1674215549963,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 97
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 27,
        "columnEnd": 39
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 30
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 70
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 54
      }
    }
  ],
  "repairedDockerfile": "#\n# Docker file that builds RelEx and starts the RelEx server.\n#\n# To build:\n#    docker build -t relex/relex .\n#\n# To start:\n#    docker run -p 3333:3333 relex/relex /bin/sh plain-text-server.sh\n#\n# Or alternately, this:\n#    docker run -p 4444:4444 relex/relex /bin/sh opencog-server.sh\n#\n#    docker run -p 9000:9000 relex/relex /bin/sh link-grammar-server.sh\n#\n# To demo:\n#    telnet localhost 4444\n#    This is a test sentence!\n#\n# That is, after connecting by telnet, type in any sentence, ending\n# with a period, and hit enter.  The response returned will be the\n# parse of the sentence, in opencog scheme format.\n#\nFROM ubuntu:18.04\nMAINTAINER David Hart \"dhart@opencog.org\"\nMAINTAINER Linas Vep≈°tas \"linasvepstas@gmail.com\"\n\n# Avoid triggering apt-get dialogs (which may lead to errors). See:\n# http://stackoverflow.com/questions/25019183/docker-java7-install-fail\nENV DEBIAN_FRONTEND noninteractive\n\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64\n\n# Change line below only if you really, really need a newer OS version.\n# Otherwise, leave it alone, and the cache will be used.\nENV LAST_OS_UPDATE 2015-02-25\nRUN apt-get -y update\nRUN apt-get -y upgrade\n\nRUN apt-get -y --no-install-recommends install screen telnet netcat-openbsd byobu && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install wget vim unzip && rm -rf /var/lib/apt/lists/*;\n\n# GCC and basic build tools\nRUN apt-get -y --no-install-recommends install gcc g++ make && rm -rf /var/lib/apt/lists/*;\n\n# Java\nRUN apt-get -y --no-install-recommends install openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install ant && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install maven && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install libcommons-logging-java && rm -rf /var/lib/apt/lists/*;\n\n# Wordnet\nRUN apt-get -y --no-install-recommends install wordnet && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install wordnet-dev && rm -rf /var/lib/apt/lists/*;\n# RUN apt-get -y install wordnet-sense-index\n\n# There are UTF8 chars in the Java sources, and the RelEx build will\n# break if build in a C environment.\nRUN apt-get -y --no-install-recommends install locales && rm -rf /var/lib/apt/lists/*;\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\n\nRUN mkdir /usr/local/share/java\n\nWORKDIR /home/Downloads/\n\n# Change line below on rebuild. Will use cache up to this line.\nENV LAST_SOFTWARE_UPDATE 2015-02-25\n\n# Link Parser -- changes often\n# Download the current released version of link-grammar.\n# The wget gets the latest version w/ wildcard\nRUN wget -r --no-parent -nH --cut-dirs=2 https://www.abisource.com/downloads/link-grammar/current/\n\n# Unpack the sources, too.\nRUN tar -zxf current/link-grammar-5*.tar.gz && rm current/link-grammar-5*.tar.gz\n\nRUN ( cd link-grammar-5.*/; ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; make -j6; make install; ldconfig)\n\nRUN LINKGRAMMAR_JAR=`find ./link-grammar* -name linkgrammar*.jar` &&\\\n    LINKGRAMMAR_VERSION=`echo $LINKGRAMMAR_JAR | grep -oP '(?<=-)\\d+\\.\\d+\\.\\d+(?=\\.)'` &&\\\n    mvn install:install-file \\\n    -Dfile=$LINKGRAMMAR_JAR \\\n    -DgroupId=org.opencog \\\n    -DartifactId=linkgrammar \\\n    -Dversion=$LINKGRAMMAR_VERSION \\\n    -Dpackaging=jar\n\n# Relex -- changes often\nADD http://github.com/opencog/relex/archive/master.zip /home/Downloads/relex-master.zip\nRUN (unzip relex-master.zip; cd relex-master; mvn package)\n\n# Create and switch user. The user is privileged, with no password\n# required.  That is, you can use sudo.\nRUN adduser --disabled-password --gecos \"ReLex USER\" relex\nRUN adduser relex sudo\nRUN echo '%sudo ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers\n\n# Punch out ports\n## plain-text-server.sh port\nEXPOSE 3333\n## opencog-server.sh port\nEXPOSE 4444\n## link-grammar-server.sh port\nEXPOSE 9000\n\nWORKDIR /home/Downloads/relex-master/\nUSER relex\n# ENTRYPOINT bash -l -c ./opencog-server.sh\nCMD /bin/bash\n"
}