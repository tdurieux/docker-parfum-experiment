{
  "startTime": 1674255144748,
  "endTime": 1674255145522,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 7,
        "columnEnd": 86
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 7,
        "columnEnd": 52
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 33,
        "columnStart": 7,
        "columnEnd": 11
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:20.04\nSHELL [\"/bin/bash\", \"-i\", \"-c\"]\n\nARG PYTHON_VERSION=3.7.9\nARG PYINSTALLER_VERSION=3.6\n\nENV PYPI_URL=https://pypi.python.org/\nENV PYPI_INDEX_URL=https://pypi.python.org/simple\nENV PYENV_VERSION=${PYTHON_VERSION}\n\nCOPY entrypoint-linux.sh /entrypoint.sh\n\nRUN \\\n    set -x \\\n    # update system\n    && apt-get update \\\n    # install requirements\n    && apt-get install -y --no-install-recommends \\\n        build-essential \\\n        ca-certificates \\\n        curl \\\n        wget \\\n        git \\\n        libbz2-dev \\\n        libreadline-dev \\\n        libsqlite3-dev \\\n        libssl-dev \\\n        zlib1g-dev \\\n        libffi-dev \\\n        #optional libraries\n        libgdbm-dev \\\n        uuid-dev \\\n        #upx\n        upx \\\n    # do we really need to build openSSL on Ubuntu 20.04? Why not install from apt?\n    && mkdir openssl \\\n    && cd openssl \\\n    # latest version\n    && wget https://www.openssl.org/source/openssl-1.1.1h.tar.gz \\\n    && tar -xzvf openssl-1.1.1h.tar.gz \\\n    && cd openssl-1.1.1h \\\n    && ./config --prefix=$HOME/openssl --openssldir=$HOME/openssl shared zlib \\\n    && make \\\n    && make install \\\n    # install pyenv\n    && echo 'export PYENV_ROOT=\"$HOME/.pyenv\"' >> ~/.bashrc \\\n    && echo 'export PATH=\"$PYENV_ROOT/bin:$PATH\"' >> ~/.bashrc \\\n    && source ~/.bashrc \\\n    && curl -f -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | bash \\\n    && echo 'eval \"$(pyenv init --path)\"' >> ~/.bashrc \\\n    && echo 'eval \"$(pyenv init -)\"' >> ~/.bashrc \\\n    && source ~/.bashrc \\\n    # install python\n    && PATH=\"$HOME/openssl:$PATH\"  CPPFLAGS=\"-O2 -I$HOME/openssl/include\" CFLAGS=\"-I$HOME/openssl/include/\" LDFLAGS=\"-L$HOME/openssl/lib -Wl,-rpath,$HOME/openssl/lib\" LD_LIBRARY_PATH=$HOME/openssl/lib:$LD_LIBRARY_PATH LD_RUN_PATH=\"$HOME/openssl/lib\" CONFIGURE_OPTS=\"--with-openssl=$HOME/openssl\" PYTHON_CONFIGURE_OPTS=\"--enable-shared\" pyenv install $PYTHON_VERSION \\\n    && pyenv global $PYTHON_VERSION \\\n    && pip install --no-cache-dir --upgrade pip \\\n    # install pyinstaller\n    && pip install --no-cache-dir pyinstaller==$PYINSTALLER_VERSION \\\n    && mkdir /src/ \\\n    && chmod +x /entrypoint.sh && rm openssl-1.1.1h.tar.gz && rm -rf /var/lib/apt/lists/*;\n\nVOLUME /src/\nWORKDIR /src/\n\nENTRYPOINT [\"/entrypoint.sh\"]\n"
}