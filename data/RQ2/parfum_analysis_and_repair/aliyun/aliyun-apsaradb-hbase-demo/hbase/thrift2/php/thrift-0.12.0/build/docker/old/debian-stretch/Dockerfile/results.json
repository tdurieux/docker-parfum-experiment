{
  "startTime": 1674252412018,
  "endTime": 1674252413457,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 134
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 110
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 205,
        "lineEnd": 205,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 22,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 64,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 82,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 100,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 110,
        "lineEnd": 116,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 118,
        "lineEnd": 120,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 122,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 126,
        "lineEnd": 129,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 131,
        "lineEnd": 135,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 139,
        "lineEnd": 144,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 146,
        "lineEnd": 149,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 154,
        "lineEnd": 156,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 158,
        "lineEnd": 161,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 165,
        "lineEnd": 171,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 173,
        "lineEnd": 180,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 182,
        "lineEnd": 204,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 207,
        "lineEnd": 211,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 214,
        "lineEnd": 216,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 22,
        "columnEnd": 108
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 22,
        "columnEnd": 90
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 46,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 64,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 78,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 82,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 100,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 110,
        "lineEnd": 116,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 118,
        "lineEnd": 120,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 122,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 126,
        "lineEnd": 129,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 131,
        "lineEnd": 135,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 139,
        "lineEnd": 144,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 146,
        "lineEnd": 149,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 154,
        "lineEnd": 156,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 158,
        "lineEnd": 161,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 165,
        "lineEnd": 171,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 173,
        "lineEnd": 180,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 182,
        "lineEnd": 204,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 207,
        "lineEnd": 211,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 214,
        "lineEnd": 216,
        "columnStart": 4,
        "columnEnd": 11
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 64,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 82,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 100,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 110,
        "lineEnd": 116,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 118,
        "lineEnd": 120,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 122,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 126,
        "lineEnd": 129,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 131,
        "lineEnd": 135,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 139,
        "lineEnd": 144,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 146,
        "lineEnd": 149,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 154,
        "lineEnd": 156,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 158,
        "lineEnd": 161,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 165,
        "lineEnd": 171,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 173,
        "lineEnd": 180,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 182,
        "lineEnd": 204,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 207,
        "lineEnd": 211,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 214,
        "lineEnd": 216,
        "columnStart": 4,
        "columnEnd": 11
      }
    }
  ],
  "repairedDockerfile": "# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n# Apache Thrift Docker build environment for Debian Stretch\n#\n# Known issues:\n# - d: deimos for libevent and openssl disabled - build errors\n# - dotnetcore, because netcore is for 1.0.0-preview and 2.0.0 is out\n# - rust: cargo not in debian repo - perhaps not needed?\n\nFROM buildpack-deps:stretch-scm\nMAINTAINER Apache Thrift <dev@thrift.apache.org>\n\nENV DEBIAN_FRONTEND noninteractive\n\n### Add apt repos\n\nRUN apt-get update && apt-get install -y --no-install-recommends apt apt-transport-https curl wget apt-utils && rm -rf /var/lib/apt/lists/*;\n\n# D\nRUN wget https://master.dl.sourceforge.net/project/d-apt/files/d-apt.list -O /etc/apt/sources.list.d/d-apt.list && \\\n    apt-get update && apt-get -y --no-install-recommends --allow-unauthenticated install --reinstall d-apt-keyring && rm -rf /var/lib/apt/lists/*;\n\n# Dart\nRUN curl -f https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add - && \\\n    curl -f https://storage.googleapis.com/download.dartlang.org/linux/debian/dart_stable.list > /etc/apt/sources.list.d/dart_stable.list && \\\n    sed -i /etc/apt/sources.list.d/dart_stable.list -e 's/https:/http:/g'\n\n# dotnet (core) 2.0.0 - project isn't ready for this yet:\n# RUN curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > /etc/apt/trusted.gpg.d/microsoft.gpg && \\\n#     echo \"deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-xenial-prod xenial main\" > /etc/apt/sources.list.d/dotnetdev.list\n\n# node.js (this step runs apt-get update internally)\nRUN curl -f -sL https://deb.nodesource.com/setup_8.x | bash\n\n\n### install general dependencies\nRUN apt-get install -y --no-install-recommends \\\n`# General dependencies` \\\n      bash-completion \\\n      bison \\\n      build-essential \\\n      clang \\\n      cmake \\\n      debhelper \\\n      flex \\\n      gdb \\\n      ninja-build \\\n      pkg-config \\\n      valgrind \\\n      vim && rm -rf /var/lib/apt/lists/*;\n\n\n### languages\n\nRUN apt-get install -y --no-install-recommends \\\n`# C++ dependencies` \\\n      libboost-dev \\\n      libboost-filesystem-dev \\\n      libboost-program-options-dev \\\n      libboost-system-dev \\\n      libboost-test-dev \\\n      libboost-thread-dev \\\n      libevent-dev \\\n      libssl-dev \\\n      qt5-default \\\n      qtbase5-dev \\\n      qtbase5-dev-tools && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# csharp (mono) dependencies` \\\n      mono-devel && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# D dependencies` \\\n      dmd-bin \\\n      libevent-dev \\\n      libssl-dev \\\n      xdg-utils && rm -rf /var/lib/apt/lists/*;\n# libevent deimos disabled - build errors\n# RUN mkdir -p /usr/include/dmd/druntime/import/deimos /usr/include/dmd/druntime/import/C && \\\n#     curl -sSL https://github.com/D-Programming-Deimos/libevent/archive/master.tar.gz| tar xz && \\\n#     mv libevent-master/deimos/* /usr/include/dmd/druntime/import/deimos/ && \\\n#     mv libevent-master/C/* /usr/include/dmd/druntime/import/C/ && \\\n#     rm -rf libevent-master\n# openssl deimos doesn't work with openssl-1.1.0 - disabling it for now:\n# RUN curl -sSL https://github.com/D-Programming-Deimos/openssl/archive/master.tar.gz| tar xz && \\\n#     mv openssl-master/deimos/* /usr/include/dmd/druntime/import/deimos/ && \\\n#     mv openssl-master/C/* /usr/include/dmd/druntime/import/C/ && \\\n#     rm -rf openssl-master\n\nRUN apt-get install -y --no-install-recommends \\\n`# Dart dependencies` \\\n      dart && rm -rf /var/lib/apt/lists/*;\nENV PATH /usr/lib/dart/bin:$PATH\n\n# project isn't ready for this quite yet:\n# RUN apt-get install -y --no-install-recommends \\\n# `# dotnet core dependencies` \\\n#       dotnet-sdk-2.0.0\n\nRUN apt-get install -y --no-install-recommends \\\n`# Erlang dependencies` \\\n      erlang-base \\\n      erlang-eunit \\\n      erlang-dev \\\n      erlang-tools \\\n      rebar && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# GlibC dependencies` \\\n      libglib2.0-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# golang (go) dependencies` \\\n      golang-go && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Haskell dependencies` \\\n      ghc \\\n      cabal-install && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Haxe dependencies` \\\n      haxe \\\n      neko \\\n      neko-dev && rm -rf /var/lib/apt/lists/*;\nRUN haxelib setup --always /usr/share/haxe/lib && \\\n    haxelib install --always hxcpp\n\nRUN apt-get install -y --no-install-recommends \\\n`# Java dependencies` \\\n      ant \\\n      ant-optional \\\n      openjdk-8-jdk \\\n      maven && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Lua dependencies` \\\n      lua5.2 \\\n      lua5.2-dev && rm -rf /var/lib/apt/lists/*;\n# https://bugs.launchpad.net/ubuntu/+source/lua5.3/+bug/1707212\n# same for debian stretch\n# lua5.3 does not install alternatives so stick with 5.2 here\n\nRUN apt-get install -y --no-install-recommends \\\n`# Node.js dependencies` \\\n      nodejs && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# OCaml dependencies` \\\n      ocaml \\\n      opam && \\\n    opam init --yes && \\\n    opam install --yes oasis && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Perl dependencies` \\\n      libbit-vector-perl \\\n      libclass-accessor-class-perl \\\n      libcrypt-ssleay-perl \\\n      libio-socket-ssl-perl \\\n      libnet-ssleay-perl && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Php dependencies` \\\n      php7.0 \\\n      php7.0-cli \\\n      php7.0-dev \\\n      php-pear \\\n      re2c \\\n      phpunit && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Python dependencies` \\\n      python-all \\\n      python-all-dbg \\\n      python-all-dev \\\n      python-backports.ssl-match-hostname \\\n      python-ipaddress \\\n      python-pip \\\n      python-setuptools \\\n      python-six \\\n      python-tornado \\\n      python-twisted \\\n      python-wheel \\\n      python-zope.interface \\\n      python3-all \\\n      python3-all-dbg \\\n      python3-all-dev \\\n      python3-setuptools \\\n      python3-six \\\n      python3-tornado \\\n      python3-twisted \\\n      python3-wheel \\\n      python3-zope.interface && \\\n    pip install --no-cache-dir --upgrade backports.ssl_match_hostname && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Ruby dependencies` \\\n      ruby \\\n      ruby-dev \\\n      ruby-bundler && rm -rf /var/lib/apt/lists/*;\nRUN gem install bundler --no-ri --no-rdoc\n\nRUN apt-get install -y --no-install-recommends \\\n`# Rust dependencies` \\\n      rustc && rm -rf /var/lib/apt/lists/*;\n\n# Update anything else left hanging\nRUN apt-get dist-upgrade -y\n\n# Clean up\nRUN rm -rf /var/cache/apt/* && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    rm -rf /tmp/* && \\\n    rm -rf /var/tmp/*\n\nENV THRIFT_ROOT /thrift\nRUN mkdir -p $THRIFT_ROOT/src\nCOPY Dockerfile $THRIFT_ROOT/\nWORKDIR $THRIFT_ROOT/src\n"
}