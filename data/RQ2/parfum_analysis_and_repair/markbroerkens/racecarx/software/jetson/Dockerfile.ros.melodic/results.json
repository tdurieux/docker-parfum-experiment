{
  "startTime": 1674254540028,
  "endTime": 1674254540778,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 67,
        "lineEnd": 69,
        "columnStart": 22,
        "columnEnd": 21
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# this dockerfile roughly follows the 'Ubuntu install of ROS Melodic' from:\n#   http://wiki.ros.org/melodic/Installation/Ubuntu\n#\nARG BASE_IMAGE=nvcr.io/nvidia/l4t-base:r32.4.3\nFROM ${BASE_IMAGE}\n\nARG ROS_PKG=desktop\nENV ROS_DISTRO=melodic\nENV ROS_ROOT=/opt/ros/${ROS_DISTRO}\n\nENV DEBIAN_FRONTEND=noninteractive\n\nWORKDIR /workspace\n\n# add the ROS deb repo to the apt sources list\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends \\\r\n        git \\\r\n\t\tcmake \\\r\n\t\tbuild-essential \\\r\n\t\tcurl \\\r\n\t\twget \\ \r\n\t\tgnupg2 \\\r\n\t\tlsb-release \\\r\n    && rm -rf /var/lib/apt/lists/*\n\nRUN sh -c 'echo \"deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main\" > /etc/apt/sources.list.d/ros-latest.list'\nRUN apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654\n\n# install ROS packages and required libraries\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends \\\r\n    ros-${ROS_DISTRO}-${ROS_PKG} \\\r\n    ros-${ROS_DISTRO}-image-transport \\\r\n    ros-${ROS_DISTRO}-vision-msgs \\\r\n    ros-${ROS_DISTRO}-ackermann-msgs \\\r\n    ros-${ROS_DISTRO}-joy \\\r\n    ros-${ROS_DISTRO}-cv-bridge \\\r\n    ros-${ROS_DISTRO}-tf \\\r\n    ros-${ROS_DISTRO}-navigation \\\r\n    ros-${ROS_DISTRO}-teb-local-planner \\\r\n    ros-${ROS_DISTRO}-slam-toolbox \\\r\n    python-rosdep \\\r\n    python-rosinstall \\\r\n    python-rosinstall-generator \\\r\n    python-wstool \\\r\n    python-scipy \\\r\n    python-serial \\\r\n    joystick \\\r\n    libeigen3-dev \\\r\n    libyaml-cpp-dev \\\r\n    && rm -rf /var/lib/apt/lists/*\n\n# init/update rosdep\nRUN apt-get update && \\\r\n    cd ${ROS_ROOT} && \\\r\n    rosdep init && \\\r\n    rosdep update && \\\r\n    rm -rf /var/lib/apt/lists/*\n\n## install librealsense\n# Register the server's public key:\nRUN apt-key adv --keyserver keys.gnupg.net --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key\nRUN echo \"deb http://realsense-hw-public.s3.amazonaws.com/Debian/apt-repo bionic main\" > /etc/apt/sources.list.d/realsense.list\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    librealsense2-utils \\\n    librealsense2-dev \\\n    && rm -rf /var/lib/apt/lists/*\n\n\n# setup entrypoint\nCOPY ./packages/ros_entrypoint.sh /ros_entrypoint.sh\nRUN echo 'source ${ROS_ROOT}/setup.bash' >> /root/.bashrc\nENTRYPOINT [\"/ros_entrypoint.sh\"]\nCMD [\"bash\"]\nWORKDIR /\n"
}