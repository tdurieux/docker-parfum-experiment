{
  "startTime": 1674255467725,
  "endTime": 1674255468875,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 7,
        "columnEnd": 50
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 7,
        "columnEnd": 43
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 52
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 7,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 7,
        "columnEnd": 46
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 7,
        "columnEnd": 28
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 96,
        "lineEnd": 96,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 3,
        "columnEnd": 47
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 98,
        "lineEnd": 98,
        "columnStart": 3,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 25,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 25,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 7,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 7,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 25,
        "columnEnd": 48
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 71
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 7,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 25,
        "columnEnd": 50
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 7,
        "columnEnd": 46
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 7,
        "columnEnd": 56
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Copyright 2021 Huawei Technologies Co., Ltd.\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#     http://www.apache.org/licenses/LICENSE-2.0\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nfrom edgegallery/edget-tester:latest\n\nADD ./tc $OPEN_CLI_HOME\n\nMAINTAINER TestGroup\nLABEL version=\"0.9\" description=\"api-integration-testing\"\n\nUSER root\n\nRUN DEBIAN_FRONTEND=noninteractive \\\n    && apt-get update && apt-get install --no-install-recommends -y sudo \\\n    && apt-get install --no-install-recommends --assume-yes apt-utils python3-pip python-pip -y \\\n    && apt-get install --no-install-recommends wget -y \\\n    && apt-get install --no-install-recommends git -y \\\n    && apt-get install --no-install-recommends rsync -y \\\n    && apt-get install --no-install-recommends -yqq unzip && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get update \\\n    && pip install --no-cache-dir --upgrade pip \\\n    && pip3 install --no-cache-dir robotframework \\\n    && pip3 install --no-cache-dir robotframework-sshlibrary \\\n    && pip3 install --no-cache-dir robotframework-seleniumlibrary \\\n    && pip3 install --no-cache-dir robotframework-requests \\\n    && pip3 install --no-cache-dir robotframework-jsonschemalibrary \\\n    && pip3 install --no-cache-dir RESTinstance \\\n    && pip3 install --no-cache-dir robotframework-jsonlibrary \\\n    && pip3 install --no-cache-dir selenium \\\n    && pip3 install --no-cache-dir robotframework==3.0.4\n\nRUN apt-get -y update \\\n    && apt-get update && apt-get install --no-install-recommends -y gnupg2 \\\n    && wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add - \\\n    && sh -c 'echo \"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main\" >> /etc/apt/sources.list.d/google-chrome.list' \\\n    && sudo apt-get -y update \\\n    && apt-get install --no-install-recommends -y google-chrome-stable \\\n    && wget -O /tmp/chromedriver.zip https://chromedriver.storage.googleapis.com/87.0.4280.20/chromedriver_linux64.zip \\\n    && unzip /tmp/chromedriver.zip chromedriver -d /usr/local/bin/ \\\n    && chmod 777 /usr/local/bin/chromedriver \\\n    && apt-get remove google-chrome-stable -y \\\n    && apt-get install --no-install-recommends libsqlite3-dev chromium-driver -y && rm -rf /var/lib/apt/lists/*;\n\nRUN mkdir -p /home/api/\nENV DISPLAY=:99\nENV PATH=$PATH:/home/api/\nENV PYTHONPATH /home/api/\nCOPY / /home/api/\nWORKDIR /home/api/\n\nENV PLANPATH planpath\nENV PLATFORM platform\nENV SYSDEV sysdev\nENV SYSAPP sysapp\nENV SYSMECM sysmecm\nENV SCHEMA schema\nENV HOST rhost\nENV PORT Port\nENV HOSTIP H_Ip\nENV APMPORT apmPORT\nENV ESRPORT esrPORT\nENV APPOPORT appoPORT\nENV LCMPORT lcmPORT\nENV RIGHTHOSTIP righthip\nENV XSDKDATE xsdkdate\nENV SIGNATURE signature\nENV LOGINNAME loginname\nENV LOGINPASS loginpass\nENV LOGINPHONE loginphone\nENV APPNAME packagename\nENV INDUSTRY industry\nENV TYPE apptype\nENV AFFINITY affinity\nENV YAMLFile yFile\nENV SERVICENAME servicename\nENV OPEN_CLI_PRODUCT EdgeGallery\nENV GITEE_USER user\nENV GITEE_PASS pass\nENV AUTHOR 'edgeT team'\n\nRUN rm -rf /tmp/it; git clone https://$GITEE_USER:$GITEE_PASS@gitee.com/edgegallery/integration-testing.git /tmp/it; \\\nmv /tmp/it/api-csit-master/* /home/api/ ;rm -rf /tmp/it; \\\ngit clone \"https://gerrit.onap.org/r/cli\" -b robot-profile /tmp/del/; \\\nmv /tmp/del/profiles/robot/src/main/resources/script/* $OPEN_CLI_HOME/script/; rm -rf /tmp/del/; \\\npython3 /opt/ocomp/script/discover-robot-testcases.py  --api-tests-folder-path /home/api/tests/integration/EGCases/ \\\n--data_list_file_path /home/api/tests/resource/dataList.py --data_list_file_path1 /home/api/tests/resource/dataList1.py;\n\nRUN pip3 install --no-cache-dir robotframework-extendedrequestslibrary \\\n&& pip3 install --no-cache-dir robotframework-selenium2library \\\n&& pip3 install --no-cache-dir RESTinstance\n\nRUN bash /opt/ocomp/script/prepare.sh\n\nRUN chmod +x /home/api/run-csit.sh\n\nEXPOSE 8087\n"
}