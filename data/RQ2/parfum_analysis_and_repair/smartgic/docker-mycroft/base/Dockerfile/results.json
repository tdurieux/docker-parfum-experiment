{
  "startTime": 1674254969998,
  "endTime": 1674254970462,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 22,
        "columnStart": 2,
        "columnEnd": 68
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 22,
        "columnStart": 2,
        "columnEnd": 68
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM debian:buster-slim\n\nARG TAG=dev\n\nLABEL vendor=Smartgic.io \\\n  io.smartgic.maintainer=\"GaÃ«tan Trellu <gaetan.trellu@smartgic.io>\" \\\n  io.smartgic.image-name=\"mycroft-base\" \\\n  io.smartgic.is-beta=\"no\" \\\n  io.smartgic.is-production=\"no\" \\\n  io.smartgic.version=\"${TAG}\" \\\n  io.smartgic.release-date=\"2021-10-28\"\n\nENV TERM linux\nENV DEBIAN_FRONTEND noninteractive\nENV VIRTUAL_ENV /opt/mycroft-venv\nENV MYCROFT_DIR /home/mycroft/core\n\nARG BRANCH\nARG PYTHON_VERSION=\"python3 -c 'from sys import version_info as i; print(f\\\"{i[0]}.{i[1]}\\\")'\"\n\nRUN apt-get update && \\\n  apt-get install --no-install-recommends -y git python3 python3-venv python3-dev curl swig libffi-dev \\\n  portaudio19-dev zlib1g-dev libjpeg-dev libfann-dev build-essential && \\\n  c_rehash && \\\n  apt-get autoremove -y && \\\n  apt-get clean && \\\n  useradd --no-log-init mycroft -m && \\\n  python3 -m venv $VIRTUAL_ENV && \\\n  chown mycroft:mycroft -R $VIRTUAL_ENV && rm -rf /var/lib/apt/lists/*;\n\nUSER mycroft\n\nENV PATH ${VIRTUAL_ENV}/bin/:$PATH\n\nRUN git clone https://github.com/MycroftAI/mycroft-core.git \\\n  $MYCROFT_DIR -b $BRANCH && \\\n  pip3 install --no-cache-dir -U pip && \\\n  pip3 install --no-cache-dir wheel numpy && \\\n  pip3 install --no-cache-dir -r ${MYCROFT_DIR}/requirements/requirements.txt && \\\n  echo \"${MYCROFT_DIR}\" > ${VIRTUAL_ENV}/lib/python$(eval ${PYTHON_VERSION})/site-packages/mycroft.pth && \\\n  rm -rf ${HOME}/.cache && \\\n  mkdir -p /tmp/mycroft/ipc /home/mycroft/.config/mycroft /home/mycroft/.cache/mycroft /tmp/mycroft/cache\n"
}