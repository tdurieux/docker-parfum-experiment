{
  "startTime": 1674215633778,
  "endTime": 1674215634793,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 36,
        "columnEnd": 40
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 22,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 20,
        "columnStart": 22,
        "columnEnd": 8
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 22,
        "columnEnd": 51
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 20,
        "columnStart": 22,
        "columnEnd": 8
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 44,
        "columnEnd": 60
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 12,
        "columnEnd": 28
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 18,
        "columnEnd": 34
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:18.04\n# mhart/alpine-node\n\n# application will be installed here\nWORKDIR /srv\n\n# Install Postgres, Node\n\n\nRUN apt-get update && apt-get install --no-install-recommends -y curl gnupg && rm -rf /var/lib/apt/lists/*;\nRUN curl -f -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -\nRUN echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list\n\n# Set up for node 10 install\nRUN curl -f -sL https://deb.nodesource.com/setup_10.x | bash -\n\n# RUN apt-get update && apt remove -y cmdtest && apt-get install -y \\\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    postgresql-client \\\n    nodejs \\\n    yarn && rm -rf /var/lib/apt/lists/*;\n\n# copy shared libs and run install\nCOPY ./packages/panvala-utils/ ../packages/panvala-utils\nRUN cd ../packages/panvala-utils && yarn && yarn cache clean;\n\n# Install node dependencies\nCOPY ./api/package.json .\nCOPY ./api/yarn.lock .\nRUN ls\nRUN yarn && yarn cache clean;\n\n# copy our code to the server\nCOPY ./api .\n\n# run the build\nRUN yarn build && yarn cache clean;\n\nEXPOSE 5000\n\nCMD [\"yarn\", \"start\"]\n"
}