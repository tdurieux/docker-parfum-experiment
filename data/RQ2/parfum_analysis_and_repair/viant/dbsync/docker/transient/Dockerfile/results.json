{
  "startTime": 1674255510224,
  "endTime": 1674255510940,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 138
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 90
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:16.04\n\nRUN apt-get update && apt-get install --no-install-recommends -y wget build-essential gcc libc-bin libaio1 pkg-config git pkg-config && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR /\n\nCOPY dep.tar.gz .\nRUN tar xvzf dep.tar.gz && \\\n    rm dep.tar.gz\n\nRUN wget https://www.unixodbc.org/unixODBC-2.3.5.tar.gz && \\\n    tar xzvf unixODBC-2.3.5.tar.gz && \\\n    cd /usr/local/lib/ && \\\n    ln -s libodbc.so.2.0.0 libodbc.so.1 && \\\n    ln -s libodbcinst.so.2.0.0 libodbcinst.so.1 && \\\n    cd - && \\\n    cd unixODBC-2.3.5 && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --sysconfdir=/etc --disable-gui --disable-drivers --enable-iconv --with-iconv-char-enc=UTF8 --with-iconv-ucode-enc=UTF16LE && \\\n    make && \\\n    make install && \\\n    cd .. && \\\n    rm -rf unixODBC-2.3.5 unixODBC-2.3.5.tar.gz\n\nRUN wget https://dl.google.com/go/go1.16.1.linux-amd64.tar.gz && \\\n    tar -C /usr/local -xzf go1.16.1.linux-amd64.tar.gz && \\\n    rm go1.16.1.linux-amd64.tar.gz && \\\n    ln -s /usr/local/go/bin/go /usr/local/bin/go\n\n\nENV PKG_CONFIG_PATH=/\nENV LD_LIBRARY_PATH=/usr/local/lib:/usr/lib/oracle/12.2/client64/lib\n\nCOPY . /tmp/dbsync\n\nWORKDIR /tmp/dbsync/sync/app\nRUN go mod tidy\nRUN go build -ldflags \"-X main.Version=${Version}\" -o dbsync &&  cp dbsync /dbsync\nRUN tar cvzf /dbsync.tar.gz /dbsync  \\\n    /usr/local/lib/l* /etc/vertica.ini /etc/odbcinst.ini /opt/vertica \\\n    /usr/lib/oracle /etc/environment\n\nWORKDIR /tmp/dbsync/transfer/app\nRUN go build -ldflags \"-X main.Version=${Version}\" -o dbtransfer &&  cp dbtransfer /dbtransfer\nRUN tar cvzf /dbtransfer.tar.gz /dbtransfer  \\\n    /usr/local/lib/l* /etc/vertica.ini /etc/odbcinst.ini /opt/vertica \\\n    /usr/lib/oracle /etc/environment\n\nENV VERTICAINI=/etc/vertica.ini\nCMD [\"/dbsync\"]\n"
}