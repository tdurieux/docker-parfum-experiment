{
  "startTime": 1674253341271,
  "endTime": 1674253342638,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 59,
        "lineEnd": 62,
        "columnStart": 7,
        "columnEnd": 39
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# ------------------------------------------------------------------------\n#\n# Copyright 2019 WSO2, Inc. (http://wso2.com)\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License\n#\n# ------------------------------------------------------------------------\n\n# set base Docker image to latest CentOS Docker image\nFROM centos:7\nLABEL maintainer=\"WSO2 Docker Maintainers <dev@wso2.org>\"\n\n# set Docker image build arguments\n# build arguments for user/group configurations\nARG USER=wso2carbon\nARG USER_ID=802\nARG USER_GROUP=wso2\nARG USER_GROUP_ID=802\nARG USER_HOME=/home/${USER}\n# set JDK configurations\nARG JAVA_HOME=${USER_HOME}/java\n# build arguments for WSO2 product installation\nARG WSO2_SERVER_NAME=\"^@!product!wso2-001\"\nARG WSO2_SERVER_VERSION=\"^@!version!wso2-001\"\n\"^@!additional+server!info\"\nARG WSO2_SERVER=${WSO2_SERVER_NAME}-${WSO2_SERVER_VERSION}\nARG WSO2_SERVER_HOME=${USER_HOME}/${WSO2_SERVER}\nARG WSO2_SERVER_DIST_URL=https://bintray.com/wso2/binaryGA/download_file?file_path=${WSO2_SERVER}.zip\n# build arguments for external artifacts\nARG CONNECTOR_VERSION=@CON_VERSION_JDBC\n# build argument for MOTD\nARG MOTD='printf \"\\n\\\nWelcome to WSO2 Docker resources.\\n\\\n------------------------------------ \\n\\\nThis Docker container comprises of a WSO2 product, running with its latest GA release \\n\\\nwhich is under the Apache License, Version 2.0. \\n\\\nRead more about Apache License, Version 2.0 here @ http://www.apache.org/licenses/LICENSE-2.0.\\n\\n\"'\n\n# create the non-root user and group and set MOTD login message\nRUN \\\n    groupadd --system -g ${USER_GROUP_ID} ${USER_GROUP} \\\n    && useradd --system --create-home --home-dir ${USER_HOME} --no-log-init -g ${USER_GROUP_ID} -u ${USER_ID} ${USER} \\\n    && echo ${MOTD} > /etc/profile.d/motd.sh\n\"^@!create@add!java\"\n# copy init script to user home\nCOPY --chown=wso2carbon:wso2 docker-entrypoint.sh ${USER_HOME}/\n# install required packages\nRUN \\\n    yum -y update \\\n    && yum install -y \\\n        nc \\\n        unzip \\\n        wget \"^@!additional!dependants\" && rm -rf /var/cache/yum\n\nRUN rm -rf /var/cache/yum/*\n# install AdoptOpenJDK HotSpot\nRUN \\\n    mkdir -p ${JAVA_HOME} \\\n    && wget -O jdk_pkg.tar.gz --no-check-certificate -c \\\n    \"^@!url@jdk$install\" \\\n    && tar -xf jdk_pkg.tar.gz -C ${JAVA_HOME} --strip-components=1 \\\n    && chown wso2carbon:wso2 -R ${JAVA_HOME} \\\n    && rm -f jdk_pkg.tar.gz\n\n# add the WSO2 product distribution to user's home directory\n\"^@!get@wso2$basepackage\"\n# add MySQL JDBC connector to server home as a third party library\nADD --chown=wso2carbon:wso2 \"^@!install+JDBC\"\n\n# set the user and work directory\nUSER ${USER_ID}\nWORKDIR ${USER_HOME}\n\n# set environment variables\nENV JAVA_HOME=${JAVA_HOME} \\\n    PATH=${JAVA_HOME}/bin:${PATH} \\\n    WORKING_DIRECTORY=${USER_HOME} \\\n    WSO2_SERVER_HOME=${WSO2_SERVER_HOME}\n    \"^@!env@java+opts\"\n\n# expose ports\nEXPOSE \"^@!list@expose-ports\"\n\n# initiate container and start WSO2 Carbon server\nENTRYPOINT [\"/home/wso2carbon/docker-entrypoint.sh\"]\n"
}