{
  "startTime": 1674247928218,
  "endTime": 1674247929279,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 26,
        "columnEnd": 100
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 26,
        "columnEnd": 100
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ruby:3.0.3\nARG RAILS_ENV=development\nARG RAILS_SERVE_STATIC_FILES\nENV RAILS_ENV=$RAILS_ENV\nENV RAILS_SERVE_STATIC_FILES=$RAILS_SERVE_STATIC_FILES\n\nRUN curl -f -sL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -\nRUN curl -fsSL https://deb.nodesource.com/setup_16.x | bash -\nRUN echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list\nRUN apt-get update -qq && apt-get install --no-install-recommends -y build-essential libpq-dev nodejs postgresql-client yarn && rm -rf /var/lib/apt/lists/*;\n\nRUN mkdir /quitcost\nWORKDIR /quitcost\nCOPY Gemfile /quitcost/Gemfile\nCOPY Gemfile.lock /quitcost/Gemfile.lock\n\nRUN gem install bundler -v '2.2.31'\nRUN bundle install\n\nCOPY package.json /quitcost/package.json\nCOPY yarn.lock  /quitcost/yarn.lock\nRUN yarn install && yarn cache clean;\n\nCOPY . /quitcost\n# Compile assets\nRUN if [ \"$RAILS_ENV\" = \"production\" ]; then SECRET_KEY_BASE=$(rake secret) bundle exec rake assets:precompile; fi\n\nEXPOSE 3000\n"
}