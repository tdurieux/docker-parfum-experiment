{
  "startTime": 1674220348183,
  "endTime": 1674220349252,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 63,
        "lineEnd": 65,
        "columnStart": 8,
        "columnEnd": 55
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 60
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Docker file for RoboCup@HomeEducation\n# ROS Melodic, navigation, perception & additional packages\n# Version base\n\nFROM ros:melodic-ros-base-bionic\n\nARG MACHTYPE=default\n\nARG DEBIAN_FRONTEND=noninteractive\n\n###### User root ######\n\n# install libraries and ros packages\n\nRUN apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y \\\n        tmux less sudo eom nano \\\n        wget iputils-ping net-tools openssh-client nginx \\\n        python-pip alsa-base alsa-utils pulseaudio pulseaudio-utils \\\n        libasound2-dev sox mplayer v4l-utils libttspico-utils libwebsockets-dev \\\n        libsuitesparse-dev \\\n        ros-melodic-desktop ros-melodic-navigation ros-melodic-perception \\\n        ros-melodic-stage-ros ros-melodic-gmapping \\\n        ros-melodic-joy ros-melodic-joystick-drivers \\\n        ros-melodic-audio-common ros-melodic-libuvc \\\n        ros-melodic-rgbd-launch ros-melodic-web-video-server && \\\n    apt-get clean && \\\n    rm -rf /var/lib/apt/lists/*\n\nCOPY pulse-client.conf /etc/pulse/client.conf\n\n\n# User: robot (password: robot) with sudo power\n\nRUN useradd -ms /bin/bash robot && echo \"robot:robot\" | chpasswd && adduser robot sudo\n\nRUN adduser robot audio\nRUN adduser robot video\nRUN adduser robot dialout\n\n\n###### User robot ######\n\nUSER robot\n\n# Configuration\n\nRUN echo \"set -g mouse on\" > $HOME/.tmux.conf\n\nRUN mkdir -p $HOME/.config/pulse && \\\n    cd $HOME/.config/pulse && \\\n    ln -s /opt/config/pulse/cookie .\n\nRUN mkdir -p $HOME/Downloads\n\n\n# Python packages\n\nRUN pip install --no-cache-dir --user sox==1.3.7 pyalsaaudio==0.8.4\n\nRUN if [ \"$MACHTYPE\" = \"x86_64\" ]; then \\\n        pip install --no-cache-dir --user setuptools==44 scipy==1.2.1 numpy==1.16.6 \\\n                       markdown==2.6.8 tensorflow==1.13.1 keras==2.2.4 \\\n                       np_utils==0.5.12.1 mock==1.0.0; \\\n    fi\n\nRUN pip install --no-cache-dir --user tornado==5.0.2\n\n# Init ROS workspace\n\nRUN mkdir -p $HOME/ros/catkin_ws/src\n\nRUN /bin/bash -c \"source /opt/ros/melodic/setup.bash; cd $HOME/ros/catkin_ws/src; catkin_init_workspace; cd ..; catkin_make\"\n\nRUN echo \"source \\$HOME/ros/catkin_ws/devel/setup.bash\" >> $HOME/.bashrc\n\nRUN rosdep update\n\nRUN /bin/bash -ci \"cd $HOME/ros/catkin_ws; catkin_make\"\n\n\n# Set working dir and container command\n\nWORKDIR /home/robot\n\nCMD /usr/bin/tmux\n\n"
}