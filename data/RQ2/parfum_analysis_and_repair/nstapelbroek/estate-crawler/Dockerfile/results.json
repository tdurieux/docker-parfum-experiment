{
  "startTime": 1674249581690,
  "endTime": 1674249582344,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.9-alpine3.12 AS base\nRUN apk add --no-cache libxml2-dev libffi-dev gcc build-base libxslt-dev zlib-dev libffi-dev openssl-dev\n\nENV PIP_NO_CACHE_DIR=off\nRUN pip install --no-cache-dir --upgrade pip && python -m pip install pipenv\n\nWORKDIR /app\nCOPY Pipfile /app/\nCOPY Pipfile.lock /app/\n\nRUN pipenv install --system --deploy\n\n# App is for base images that do not need dev-dependencies\nFROM base AS app\nCOPY . /app/\n\n# test-base is for images that need dev-dependencies\nFROM app AS test-base\nRUN pipenv install --system --deploy --dev\n\n# release will form a base for shippable images that are meant to run the application\nFROM app AS release\nVOLUME buid\n\n# Check is a \"public\" stage ensuring that language dependencies are safe\nFROM test-base AS Check\nRUN safety check\nRUN pipenv check --system\n\n# CodeStyle is a \"public\" stage that checks the codestyle of the application\nFROM test-base AS CodeStyle\nRUN black ./ --line-length 120 --check --diff\n\n# The final release\nFROM release As Prod\nENTRYPOINT [\"python\", \"crawler.py\"]\nCMD [\"--region\", \"amsterdam\"]"
}