{
  "startTime": 1674254486149,
  "endTime": 1674254487615,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 11,
        "columnEnd": 22
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 11,
        "columnEnd": 29
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 5,
        "columnEnd": 18
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 11,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 11,
        "columnEnd": 37
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 11,
        "columnEnd": 43
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 11,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 11,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM node:15.9.0-alpine3.12\n    ARG JD_SHELL=https://github.com/msechen/jdv5.git\n    ARG JD_SHELL_BRANCH=main\n    ENV PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n        LANG=zh_CN.UTF-8 \\\n        SHELL=/bin/bash \\\n        PS1=\"\\u@\\h:\\w \\$ \" \\\n        JD_DIR=/jd \\\n        ENABLE_TTYD=true \\\n        ENABLE_WEB_PANEL=true \\\n        ENABLE_HANGUP=false \\\n        ENABLE_RESET_REPO_URL=true \\\n        JD_SHELL_URL=https://github.com/msechen/jdv5.git \\\n        JD_SCRIPTS_URL=https://github.com/msechen/script.git\n    WORKDIR ${JD_DIR}\n    RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories \\\n        && apk update -f \\\n        && apk upgrade \\\n        && apk --no-cache add -f bash \\\n                                 coreutils \\\n                                 git \\\n                                 wget \\\n                                 curl \\\n                                 nano \\\n                                 tzdata \\\n                                 perl \\\n                                 openssh-client \\\n\t\t\t\t python3 \\\n\t\t                 py3-pip \\\n\t\t\t\t zlib-dev \\\n                                 jpeg-dev \\\n\t&& apk add --no-cache --virtual .build \\\n        \t\t\t gcc \\\n        \t\t\t python3-dev \\\n        \t\t\t musl-dev \\\n        && rm -rf /var/cache/apk/* \\\n        && ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n        && echo \"Asia/Shanghai\" > /etc/timezone \\\n        && git clone -b $JD_SHELL_BRANCH $JD_SHELL $JD_DIR \\\n        && npm install \\\n        && npm install -g pm2 \\\n        && ln -sf $JD_DIR/jtask.sh /usr/local/bin/jd \\\n        && ln -sf $JD_DIR/jtask.sh /usr/local/bin/jtask \\\n        && ln -sf $JD_DIR/jtask.sh /usr/local/bin/otask \\\n        && ln -sf $JD_DIR/jtask.sh /usr/local/bin/mtask \\\n        && ln -sf $JD_DIR/jlog.sh /usr/local/bin/rm_log \\\n        && ln -sf $JD_DIR/jlog.sh /usr/local/bin/jlog \\\n        && ln -sf $JD_DIR/jcode.sh /usr/local/bin/export_sharecodes \\\n        && ln -sf $JD_DIR/jcode.sh /usr/local/bin/jcode \\\n        && ln -sf $JD_DIR/jcsv.sh /usr/local/bin/jcsv \\\n\t&& ln -sf /usr/bin/python3 /usr/bin/python \\\n        && pip3 install --no-cache-dir --upgrade pip \\\n        && cd $JD_DIR/jbot \\\n        && pip3 install --no-cache-dir -r requirements.txt \\\n        && cp -f $JD_DIR/docker/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh \\\n        && chmod 777 /usr/local/bin/docker-entrypoint.sh \\\n        && chmod 777 $JD_DIR/*.sh \\\n        && rm -rf /root/.npm \\\n\t&& apk del .build \\\n        && rm -rf /root/.cache \\\n\t&& npm i -g ttyd \\\n\t&& npm i -S png-js \\\n\t&& npm i -S jsdom \\\n\t&& npm i -S date-fns \\\n\t&& npm i -S axios \\\n\t&& npm i -S got \\\n\t&& npm i -S crypto-js \\\n\t&& npm i -S ts-md5 \\\n\t&& npm i -S tslib \\\n\t&& npm i -S @types/node \\\n\t&& npm i -S requests \\\n\t&& npm i -S request \\\n\t&& npm i -S moment \\\n\t&& npm i -S tunnel \\\n        && npm i -g cnpm \\\n        && cnpm i \\\n        && cnpm i -g typescript \\\n        && cnpm i -g ts-node \\\n        && pip3 install --no-cache-dir requests \\\n\t&& pip3 install --no-cache-dir telethon \\\n\t&& pip3 install --no-cache-dir PyExecJS \\\n\t&& pip3 install --no-cache-dir httpx \\\n\t&& pip3 install --no-cache-dir glom \\\n\t&& pip3 install --no-cache-dir httpx[http2] \\\n\t&& pip3 install --no-cache-dir cacheout \\\n        && pip3 install --no-cache-dir telethon --upgrade && npm cache clean --force;\n    WORKDIR ${JD_DIR}\n    ENTRYPOINT [\"docker-entrypoint.sh\"]\n"
}