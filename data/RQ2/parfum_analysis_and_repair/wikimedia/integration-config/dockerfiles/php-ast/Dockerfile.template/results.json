{
  "startTime": 1674251502677,
  "endTime": 1674251503306,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 17,
        "columnEnd": 60
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 17,
        "columnEnd": 60
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 17,
        "columnEnd": 60
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 17,
        "columnEnd": 60
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM {{ \"sury-php\" | image_tag }}\n\nUSER root\nRUN {{ \"build-essential php7.2-dev php7.3-dev php7.4-dev php8.0-dev\" | apt_install }}\nRUN install --owner=nobody --group=nogroup --directory /srv/php-ast\nRUN install --owner=nobody --group=nogroup --directory /srv/modules\n\nUSER nobody\nRUN git clone https://github.com/nikic/php-ast /srv/php-ast && \\\n    cd /srv/php-ast && \\\n    # v1.0.14, use sha1 for immutability\n    git checkout c533904c019e0ddabd113f3228cf0f7695f0baf0 && \\\n    phpize7.2 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=php-config7.2 && make && \\\n    cp modules/ast.so /srv/modules/ast_72.so && \\\n    git clean -fdx && \\\n    phpize7.3 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=php-config7.3 && make && \\\n    cp modules/ast.so /srv/modules/ast_73.so && \\\n    git clean -fdx && \\\n    phpize7.4 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=php-config7.4 && make && \\\n    cp modules/ast.so /srv/modules/ast_74.so && \\\n    git clean -fdx && \\\n    phpize8.0 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-php-config=php-config8.0 && make && \\\n    cp modules/ast.so /srv/modules/ast_80.so\n\nUSER root\nRUN cp /srv/modules/ast_72.so /usr/lib/php/20170718/ast.so && \\\n    cp /srv/modules/ast_73.so /usr/lib/php/20180731/ast.so && \\\n    cp /srv/modules/ast_74.so /usr/lib/php/20190902/ast.so && \\\n    cp /srv/modules/ast_80.so /usr/lib/php/20200930/ast.so && \\\n    echo \"extension=ast.so\" > /srv/20-ast.ini\n"
}