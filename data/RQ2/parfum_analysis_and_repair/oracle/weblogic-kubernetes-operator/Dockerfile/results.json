{
  "startTime": 1674254453351,
  "endTime": 1674254454159,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 75
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Copyright (c) 2017, 2022, Oracle and/or its affiliates.\n# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n#\n# HOW TO BUILD THIS IMAGE\n# -----------------------\n# Run:\n#      $ ./buildDockerImage.sh [-t <image-name>]\n#\n# -------------------------\nFROM ghcr.io/oracle/oraclelinux:8-slim AS jre-build\n\nENV JAVA_URL=\"https://download.java.net/java/GA/jdk18.0.1.1/65ae32619e2f40f3a9af3af1851d6e19/2/GPL/openjdk-18.0.1.1_linux-x64_bin.tar.gz\"\n\nRUN set -eux; \\\n    microdnf -y install gzip tar; \\\n    curl -fL -o /jdk.tar.gz \"$JAVA_URL\"; \\\n    mkdir -p /jdk; \\\n    tar --extract --file /jdk.tar.gz --directory /jdk --strip-components 1; rm /jdk.tar.gz \\\n    /jdk/bin/jlink --verbose --compress 2 --strip-java-debug-attributes --no-header-files --no-man-pages --output jre --add-modules java.base,java.desktop,java.instrument,java.management,java.naming,java.net.http,java.sql,jdk.attach,jdk.jdi,jdk.unsupported,jdk.crypto.ec,jdk.zipfs\n\nFROM ghcr.io/oracle/oraclelinux:8-slim\n\nLABEL \"org.opencontainers.image.authors\"=\"Ryan Eberhard <ryan.eberhard@oracle.com>\" \\\n      \"org.opencontainers.image.url\"=\"https://github.com/oracle/weblogic-kubernetes-operator\" \\\n      \"org.opencontainers.image.source\"=\"https://github.com/oracle/weblogic-kubernetes-operator\" \\\n      \"org.opencontainers.image.vendor\"=\"Oracle Corporation\" \\\n      \"org.opencontainers.image.title\"=\"Oracle WebLogic Server Kubernetes Operator\" \\\n      \"org.opencontainers.image.description\"=\"Oracle WebLogic Server Kubernetes Operator\" \\\n      \"org.opencontainers.image.documentation\"=\"https://oracle.github.io/weblogic-kubernetes-operator/\"\n\nENV LANG=\"en_US.UTF-8\"\n\nCOPY --from=jre-build /jre jre\n\n# Install Java and make the operator run with a non-root user id (1000 is the `oracle` user)\nRUN set -eux; \\\n    microdnf -y update; \\\n    microdnf -y install jq; \\\n    microdnf clean all; \\\n    for bin in /jre/bin/*; do \\\n        base=\"$(basename \"$bin\")\"; \\\n        [ ! -e \"/usr/bin/$base\" ]; \\\n        alternatives --install \"/usr/bin/$base\" \"$base\" \"$bin\" 20000; \\\n    done; \\\n    java -Xshare:dump; \\\n    useradd -d /operator -M -s /bin/bash -g root -u 1000 oracle; \\\n    mkdir -m 775 /operator; \\\n    mkdir -m 775 /deployment; \\\n    mkdir -m 775 /probes; \\\n    mkdir -m 775 /logs; \\\n    mkdir /operator/lib; \\\n    chown -R oracle:root /operator /deployment /probes /logs\n\nUSER oracle\n\nCOPY --chown=oracle:root operator/scripts/* /operator/\nCOPY --chown=oracle:root deployment/scripts/* /deployment/\nCOPY --chown=oracle:root probes/scripts/* /probes/\nCOPY --chown=oracle:root operator/target/weblogic-kubernetes-operator.jar /operator/weblogic-kubernetes-operator.jar\nCOPY --chown=oracle:root operator/target/lib/*.jar /operator/lib/\n\nHEALTHCHECK --interval=1m --timeout=10s \\\n  CMD /probes/livenessProbe.sh\n\nWORKDIR /deployment/\n\nCMD [\"/deployment/operator.sh\"]\n"
}