diff --git a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/uber/cadence-java-client/docker/buildkite/Dockerfile b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/uber/cadence-java-client/docker/buildkite/Dockerfile/repaired.Dockerfile
index e55d88f..ca1beeb 100644
--- a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/uber/cadence-java-client/docker/buildkite/Dockerfile
+++ b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/uber/cadence-java-client/docker/buildkite/Dockerfile/repaired.Dockerfile
@@ -7,17 +7,17 @@ FROM adoptopenjdk/openjdk11:jdk-11.0.10_9-alpine
 ENV APACHE_THRIFT_VERSION=0.9.3
 
 # Install dependencies using apk
-RUN apk update && apk add --virtual wget ca-certificates wget && apk add --virtual build-dependencies build-base gcc
+RUN apk update && apk add --no-cache --virtual wget ca-certificates wget && apk add --no-cache --virtual build-dependencies build-base gcc
 # Git is needed in order to update the dls submodule
-RUN apk add git libstdc++
+RUN apk add --no-cache git libstdc++
 
 # Compile source
-RUN set -ex ;\
+RUN set -ex ; \
 	wget https://archive.apache.org/dist/thrift/${APACHE_THRIFT_VERSION}/thrift-${APACHE_THRIFT_VERSION}.tar.gz && \
 	tar -xvf thrift-${APACHE_THRIFT_VERSION}.tar.gz && \
 	rm thrift-${APACHE_THRIFT_VERSION}.tar.gz && \
 	cd thrift-${APACHE_THRIFT_VERSION}/ && \
-	./configure --enable-libs=no --enable-tests=no --enable-tutorial=no --with-cpp=no --with-c_glib=no --with-java=yes --with-ruby=no --with-erlang=no --with-go=no --with-nodejs=no --with-python=no && \
+	./configure --build="$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)" --enable-libs=no --enable-tests=no --enable-tutorial=no --with-cpp=no --with-c_glib=no --with-java=yes --with-ruby=no --with-erlang=no --with-go=no --with-nodejs=no --with-python=no && \
 	make && \
 	make install && \
 	cd .. && \