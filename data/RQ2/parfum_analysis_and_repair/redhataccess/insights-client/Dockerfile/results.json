{
  "startTime": 1674251907896,
  "endTime": 1674251908989,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM registry.access.redhat.com/rhel\n\n# the following 'yum search' should not be needed, but the\n#    'yum-config-manager --enable rhel-7-server-extras-rpms'\n#    doesn't seem to take effect unless this search is here\nRUN yum search docker\n\n# needed for python-docker-py and atomic\nRUN yum-config-manager --enable rhel-7-server-extras-rpms\n\n\nRUN yum update -y\n\n# if you put these all on one line, yum doesn't report failure to install an rpm that docker notices\nRUN yum install -y atomic && rm -rf /var/cache/yum\nRUN yum install -y python-docker-py && rm -rf /var/cache/yum\nRUN yum install -y python-setuptools && rm -rf /var/cache/yum\nRUN yum install -y python2-devel && rm -rf /var/cache/yum\nRUN yum install -y python-requests && rm -rf /var/cache/yum\nRUN yum install -y python-magic && rm -rf /var/cache/yum\nRUN yum install -y tar && rm -rf /var/cache/yum\n\nRUN yum clean -y all\n\n\n# We don't want to copy everything from the source directory\n#   and Docker COPY won't copy directories listed on the command line\n#   only their contents (stupid),\n#   so we copy each _directory_ individually and then all the _files_ together\nCOPY docs /src/insights-client/docs\nCOPY etc /src/insights-client/etc\nCOPY redhat_access_insights /src/insights-client/redhat_access_insights\nCOPY scripts /src/insights-client/scripts\nCOPY LICENSE MANIFEST.in setup.cfg setup.py /src/insights-client/\n\n# install the client\n#   but delete the config directory's content because we must mount that from the host\nRUN cd /src/insights-client; python setup.py install; rm -rf /etc/redhat-access-insights/*\n\nLABEL RUN=\"docker run --name NAME --privileged=true -i -a stdin -a stdout -a stderr --rm -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/docker/:/var/lib/docker/ -v /dev/:/dev/ -v /etc/redhat-access-insights/:/etc/redhat-access-insights -v /etc/pki/:/etc/pki/ IMAGE\""
}