{
  "startTime": 1674247900140,
  "endTime": 1674247900899,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 60
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BASE_IMAGE\nFROM ${BASE_IMAGE} as ci\nARG EXTRA_PYPI_INDEX=https://pypi.org/simple\n\nWORKDIR /\n\nCOPY elasticdl/docker/bashrc /etc/bash.bashrc\nRUN chmod a+rx /etc/bash.bashrc\n\n# Copy model zoo\nCOPY model_zoo /model_zoo\nRUN python -m pip install --quiet -r /model_zoo/requirements.txt \\\n        --extra-index-url=${EXTRA_PYPI_INDEX}\n\n# Install ElasticDL packages\nCOPY build/*.whl /\nRUN pip install --no-cache-dir /*.whl --extra-index-url=${EXTRA_PYPI_INDEX} && rm /*.whl\n\n# Add elasticdl_ps to system path\nRUN /bin/bash -c \\\n        'PYTHON_PKG_PATH=$(pip3 show elasticdl | grep \"Location:\" | cut -d \" \" -f2); \\\n        echo \"PATH=${PYTHON_PKG_PATH}/elasticdl/go/bin:$PATH\" >> \\\n            /root/.bashrc_elasticdl; \\\n        echo \". /root/.bashrc_elasticdl\" >> /root/.bashrc'\n\n# Generate mnist checkpoint for evaluation and prediction\nCOPY scripts/travis/gen_mnist_checkpoint.py /gen_mnist_checkpoint.py\nRUN python /gen_mnist_checkpoint.py --checkpoint_dir=/model_zoo/test_data/mnist_ckpt\n"
}