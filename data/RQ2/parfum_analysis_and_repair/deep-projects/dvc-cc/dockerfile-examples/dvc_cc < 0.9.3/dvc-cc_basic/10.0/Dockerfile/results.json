{
  "startTime": 1674217076504,
  "endTime": 1674217077488,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 5,
        "columnStart": 3,
        "columnEnd": 111
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 5,
        "columnStart": 3,
        "columnEnd": 111
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 66
      }
    }
  ],
  "repairedDockerfile": "FROM docker.io/nvidia/cuda:10.0-cudnn7-runtime-ubuntu18.04\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update \\\n&& apt-get install --no-install-recommends -y unzip make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget \\\ncurl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python-openssl git sshfs lshw \\\n&& useradd -ms /bin/bash cc && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y python3 python3-pip && rm -rf /var/lib/apt/lists/*;\n\nRUN ln -s /usr/bin/python3.6 /usr/local/bin/python\nRUN ln -s /usr/bin/pip3 /usr/local/bin/pip\n\nRUN pip install --upgrade --no-cache-dir pip\n\n#RUN chmod 777 -R /usr/local/lib/python3.6/dist-packages/\n\n# switch user\nUSER cc\n\n# In the new DVC version it is also possible to use python 3.7 with\n#  install python via pyenv\n#  #ENV PATH /home/cc/.pyenv/bin:/home/cc/.pyenv/shims:${PATH}\n#  #\n#  #RUN curl https://pyenv.run | bash \\\n#  #&& pyenv install 3.7.2 \\\n#  #&& pyenv global 3.7.2\n#  #\n#  #RUN pip install --upgrade pip\n#\n# See this file:https://github.com/deep-projects/dvc-cc/blob/6feaae3e3b2ce3bc98cf306fb39fc3d007e8eed3/dockerfile-examples/dvc-cc_basic/10.0/Dockerfile\n\nENV PATH=\"${PATH}:/home/cc/.local/bin\"\n\n# Some common environmenta variables that Python uses\nENV LANG=C.UTF-8 LC_ALL=C.UTF-8\n\nRUN pip install --user --no-cache-dir red-connector-ssh==1.0\nRUN pip install --user --no-cache-dir git+https://github.com/efiop/dvc@2506\nRUN pip install --user --no-cache-dir dvc-cc-agent==0.8.8\nRUN pip install --user --no-cache-dir dvc-cc-connector==0.8.1\n\nWORKDIR home/cc/\n"
}