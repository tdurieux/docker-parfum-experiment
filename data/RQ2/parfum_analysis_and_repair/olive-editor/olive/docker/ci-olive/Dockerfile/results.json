{
  "startTime": 1674251032131,
  "endTime": 1674251032968,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 74,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 51
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Copyright (C) 2022 Olive Team\n# SPDX-License-Identifier: GPL-3.0-or-later\n\n# Build image (default):\n#  docker build -t olivevideoeditor/ci-olive:2022.2 -f ci-olive/Dockerfile .\n#\n# .n is the build image revision number. It should be incremented each time a\n# new image is published (also update the GitHub Actions workflow!).\n# This allows to revert to a previous image should something go wrong.\n\nARG OLIVE_ORG=olivevideoeditor\nARG ASWF_PKG_ORG=aswftesting\nARG CI_COMMON_VERSION=2\nARG VFXPLATFORM_VERSION=2022\nARG OCIO_VERSION=2.1.1\nARG FFMPEG_VERSION=5.0\nARG OTIO_VERSION=0.14.1\nARG OIIO_VERSION=2.3.13.0\n\nFROM ${ASWF_PKG_ORG}/ci-package-qt:${VFXPLATFORM_VERSION} as ci-package-qt\nFROM ${ASWF_PKG_ORG}/ci-package-python:${VFXPLATFORM_VERSION} as ci-package-python\nFROM ${ASWF_PKG_ORG}/ci-package-boost:${VFXPLATFORM_VERSION} as ci-package-boost\nFROM ${ASWF_PKG_ORG}/ci-package-imath:${VFXPLATFORM_VERSION} as ci-package-imath\nFROM ${ASWF_PKG_ORG}/ci-package-openexr:${VFXPLATFORM_VERSION} as ci-package-openexr\n# A custom OIIO package without OpenVDB/Blosc/TBB would be smaller,\n# but it currently does not pick up libwebp for some reason.\n#FROM ${OLIVE_ORG}/ci-package-oiio:${OIIO_VERSION} as ci-package-oiio\nFROM ${ASWF_PKG_ORG}/ci-package-oiio:${VFXPLATFORM_VERSION} as ci-package-oiio\nFROM ${ASWF_PKG_ORG}/ci-package-openvdb:${VFXPLATFORM_VERSION} as ci-package-openvdb\nFROM ${ASWF_PKG_ORG}/ci-package-blosc:${VFXPLATFORM_VERSION} as ci-package-blosc\nFROM ${ASWF_PKG_ORG}/ci-package-tbb:${VFXPLATFORM_VERSION} as ci-package-tbb\n#FROM ${ASWF_PKG_ORG}/ci-package-ocio:${VFXPLATFORM_VERSION}-${OCIO_VERSION} as ci-package-ocio\n# Our package is compiled as RelWithDebInfo\nFROM ${OLIVE_ORG}/ci-package-ocio:${VFXPLATFORM_VERSION}-${OCIO_VERSION} as ci-package-ocio\nFROM ${OLIVE_ORG}/ci-package-ffmpeg:${FFMPEG_VERSION} as ci-package-ffmpeg\nFROM ${OLIVE_ORG}/ci-package-crashpad:latest as ci-package-crashpad\nFROM ${OLIVE_ORG}/ci-package-otio:${OTIO_VERSION} as ci-package-otio\n\nFROM ${OLIVE_ORG}/ci-common:${CI_COMMON_VERSION} as ci-olive\n\nARG OLIVE_ORG\nARG VFXPLATFORM_VERSION\nARG PYTHON_VERSION=3.9\n\nLABEL maintainer=\"olivevideoeditor@gmail.com\"\nLABEL com.vfxplatform.version=$VFXPLATFORM_VERSION\nLABEL org.opencontainers.image.name=\"olivevideoeditor/ci-olive\"\nLABEL org.opencontainers.image.description=\"CentOS CI Olive Build Image\"\nLABEL org.opencontainers.image.url=\"http://olivevideoeditor.org\"\nLABEL org.opencontainers.image.source=\"https://github.com/olive-editor/olive\"\nLABEL org.opencontainers.image.vendor=\"Olive Team\"\nLABEL org.opencontainers.image.version=\"1.0\"\nLABEL org.opencontainers.image.licenses=\"GPL-3.0-or-later\"\n\nENV PYTHONPATH=/usr/local/lib/python${PYTHON_VERSION}/site-packages:${PYTHONPATH} \\\n    CRASHPAD_LOCATION=/usr/local/crashpad \\\n    VFXPLATFORM_VERSION=${VFXPLATFORM_VERSION}\n\nCOPY --from=ci-package-qt /. /usr/local/\nCOPY --from=ci-package-python /. /usr/local/\nCOPY --from=ci-package-boost /. /usr/local/\nCOPY --from=ci-package-imath /. /usr/local/\nCOPY --from=ci-package-openexr /. /usr/local/\nCOPY --from=ci-package-oiio /. /usr/local/\n# The ASWF OIIO package requires OpenVDB, Blosc, and TBB\nCOPY --from=ci-package-openvdb /. /usr/local/\nCOPY --from=ci-package-blosc /. /usr/local/\nCOPY --from=ci-package-tbb /. /usr/local/\nCOPY --from=ci-package-ocio /. /usr/local/\nCOPY --from=ci-package-ffmpeg /. /usr/local/\nCOPY --from=ci-package-crashpad /. /usr/local/\nCOPY --from=ci-package-otio /. /usr/local/\nCOPY scripts/build_olive.sh /tmp/\n\nRUN curl -f --location \"https://github.com/probonopd/linuxdeployqt/releases/download/7/linuxdeployqt-7-x86_64.AppImage\" \\\n      -o \"/usr/local/linuxdeployqt-x86_64.AppImage\" && \\\n    chmod a+x \"/usr/local/linuxdeployqt-x86_64.AppImage\"\n"
}