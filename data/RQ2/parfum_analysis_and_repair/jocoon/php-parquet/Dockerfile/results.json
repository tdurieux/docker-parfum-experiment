{
  "startTime": 1674249145016,
  "endTime": 1674249146544,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 5,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 22,
        "columnEnd": 72
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 22,
        "columnEnd": 72
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 50
      }
    }
  ],
  "repairedDockerfile": "FROM php:7.3-cli\n\n# get apt-get lists for the first time\nRUN apt-get update\n\n## install zip extension using debian buster repo (which is now available)\n## we need zip-1.14 or higher and libzip 1.2 or higher for ZIP encryption support\nRUN apt-get update && apt-get install --no-install-recommends -t buster -y zlib1g-dev libzip-dev \\\n    && pecl install zip \\\n    && docker-php-ext-configure zip --with-libzip \\\n    && docker-php-ext-install zip && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y libgmp-dev && rm -rf /var/lib/apt/lists/*;\n\n# install some php extensions\nRUN docker-php-ext-install gmp bcmath\n\nRUN apt-get install --no-install-recommends -y git && rm -rf /var/lib/apt/lists/*;\n\nRUN git clone --recursive --depth=1 https://github.com/kjdev/php-ext-snappy.git \\\n  && cd php-ext-snappy \\\n  && phpize \\\n  && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n  && make \\\n  && make install \\\n  && docker-php-ext-enable snappy \\\n  && ls -lna\n\nRUN yes | pecl install xdebug \\\n  # disabled by default\n  # && docker-php-ext-enable xdebug \\\n  # && echo \"zend_extension=$(find /usr/local/lib/php/extensions/ -name xdebug.so)\" > /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.remote_enable=0\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.profiler_enable_trigger=0\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.profiler_output_dir=/tmp/profiler\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.remote_host=host.docker.internal\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.remote_connect_back=0\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.remote_port=9001\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.remote_log=/tmp/php-xdebug.log\" >> /usr/local/etc/php/conf.d/xdebug.ini \\\n  && echo \"xdebug.remote_autostart=0\" >> /usr/local/etc/php/conf.d/xdebug.ini\n"
}