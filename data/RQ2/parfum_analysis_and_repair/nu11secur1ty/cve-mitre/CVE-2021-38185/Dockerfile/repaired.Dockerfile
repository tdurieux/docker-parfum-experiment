FROM kalilinux/kali-rolling

ARG DEBIAN_FRONTEND=noninteractive

RUN apt update
RUN apt install --no-install-recommends -y git python3-dev python3-pip sudo && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y gdb && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y vim && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y gcc-multilib && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y build-essential && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y libssl-dev && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y libffi-dev && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y libxml2-dev && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y libxslt1-dev && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y zlib1g-dev && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y patchelf && rm -rf /var/lib/apt/lists/*;
RUN apt install --no-install-recommends -y cpio && rm -rf /var/lib/apt/lists/*;

RUN pip3 install --no-cache-dir pwntools

RUN git clone https://github.com/pwndbg/pwndbg && cd pwndbg && chmod +x ./setup.sh && ./setup.sh && cd ..

CMD ["/bin/bash"]