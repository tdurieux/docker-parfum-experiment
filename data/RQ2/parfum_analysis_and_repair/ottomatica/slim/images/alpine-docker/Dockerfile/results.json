{
  "startTime": 1674255667692,
  "endTime": 1674255668573,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 6,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 81
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:3.15\nRUN mkdir -p /lib/apk/db /run\nRUN apk add --no-cache --initdb openrc\nRUN apk add --no-cache linux-virt kmod kmod-openrc blkid\n\n# busybox-initscripts busybox-suid\nRUN apk add --no-cache --update alpine-baselayout alpine-conf alpine-keys apk-tools busybox busybox-initscripts \\\n    ca-certificates dbus-libs kbd-bkeymaps \\\n    coreutils bash-completion findutils procps sed readline e2fsprogs \\\n    docker docker-bash-completion rsync \\\n    gnutls openssh openssh-client rng-tools dhcpcd network-extras wget util-linux\nRUN [ ! -z \"$PKGS\" ] && apk add --no-cache $PKGS || echo \"No optional pkgs provided.\"\n\nUSER root\n# the public key that is authorized to connect to this instance.\nARG SSHPUBKEY\n# optional packages\nARG PKGS\n\n# Copy kernel for later use\nRUN cp /boot/vmlinuz-virt /vmlinuz\n# Nuke boot\nRUN rm -rf /boot\n\n# Deleted cached packages\n#RUN rm -rf /var/cache/apk/*\n\n# Our init\nCOPY files/init /init\nCOPY files/real_init /real_init\nCOPY files/daemon.json /etc/docker/\n\nRUN echo \"Welcome to slim!\" > /etc/motd\n\n# Set an ssh key\nRUN mkdir -p /etc/ssh /root/.ssh && chmod 0700 /root/.ssh\nRUN echo $SSHPUBKEY > /root/.ssh/authorized_keys && chmod 600 /root/.ssh/authorized_keys\n\n# Fix ssh\nRUN sed -i 's/root:!/root:*/' /etc/shadow"
}