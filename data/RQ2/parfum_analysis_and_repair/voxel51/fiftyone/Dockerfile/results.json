{
  "startTime": 1674256257138,
  "endTime": 1674256257965,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 7,
        "columnEnd": 48
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Dockerfile for building an image with a source FiftyOne install atop a\n# Debian-based Linux distribution.\n#\n# By default, Ubuntu 20.04 and Python 3.8 are used, but these can be customized\n# via ARGs.\n#\n# ARGs::\n#\n#   BASE_IMAGE (ubuntu:20.04): The Debian-based image to build from\n#   PYTHON_VERSION (3.8): The Python version to install\n#   ROOT_DIR (/fiftyone): The name of the directory within the container that\n#       should be mounted when running\n#\n# Example usage::\n#\n#   # Build\n#   make python\n#   docker build -t voxel51/fiftyone .\n#\n#   # Run\n#   SHARED_DIR=/path/to/shared/dir\n#   docker run \\\n#       -v ${SHARED_DIR}:/fiftyone \\\n#       -p 5151:5151 \\\n#       -it voxel51/fiftyone\n#\n# Copyright 2017-2022, Voxel51, Inc.\n# voxel51.com\n#\n\n# The base image to build from; must be Debian-based (eg Ubuntu)\nARG BASE_IMAGE=ubuntu:20.04\nFROM $BASE_IMAGE\n\n# The Python version to install\nARG PYTHON_VERSION=3.8\n\n#\n# Install system packages\n#\n\nRUN apt -y update \\\n    && apt -y --no-install-recommends install software-properties-common \\\n    && add-apt-repository -y ppa:deadsnakes/ppa \\\n    && apt -y update \\\n    && apt -y upgrade \\\n    && apt -y --no-install-recommends install tzdata \\\n    && TZ=Etc/UTC \\\n    && apt -y --no-install-recommends install \\\n        build-essential \\\n        ca-certificates \\\n        cmake \\\n        cmake-data \\\n        pkg-config \\\n        libcurl4 \\\n        libsm6 \\\n        libxext6 \\\n        libssl-dev \\\n        libffi-dev \\\n        libxml2-dev \\\n        libxslt1-dev \\\n        zlib1g-dev \\\n        unzip \\\n        curl \\\n        wget \\\n        python${PYTHON_VERSION} \\\n        python${PYTHON_VERSION}-dev \\\n        python${PYTHON_VERSION}-distutils \\\n        ffmpeg \\\n    && ln -s /usr/bin/python${PYTHON_VERSION} /usr/local/bin/python \\\n    && ln -s /usr/local/lib/python${PYTHON_VERSION} /usr/local/lib/python \\\n    && curl -f https://bootstrap.pypa.io/get-pip.py | python \\\n    && rm -rf /var/lib/apt/lists/*\n\n#\n# Install Python dependencies\n#\n# Other packages you might want:\n#   torch torchvision: Torch model training/zoo datasets\n#   tensorflow tensorflow-datasets: TF model training/zoo datasets\n#   pycocotools: COCO-style evaluation\n#   notebook>=5.3 ipywidgets>=7.5: Jupyter notebooks\n#   flash>=0.4: Lightning Flash integration\n#   apache_beam: Apache Beam integration\n#   labelbox: Labelbox integration\n#   shapely: Polyline evaluation\n#   rasterio: GeoTIFF images\n#   pydicom: DICOM images\n#\n\nRUN pip --no-cache-dir install --upgrade pip setuptools wheel ipython\n\n#\n# Install FiftyOne from source\n#\n\nCOPY dist dist\nRUN pip --no-cache-dir install dist/*.whl && rm -rf dist\n\n#\n# Configure shared storage\n#\n\n# The name of the shared directory in the container that should be\n# volume-mounted by users to persist data loaded into FiftyOne\nARG ROOT_DIR=/fiftyone\n\nENV FIFTYONE_DATABASE_DIR=${ROOT_DIR}/db \\\n    FIFTYONE_DEFAULT_DATASET_DIR=${ROOT_DIR}/default \\\n    FIFTYONE_DATASET_ZOO_DIR=${ROOT_DIR}/zoo/datasets \\\n    FIFTYONE_MODEL_ZOO_DIR=${ROOT_DIR}/zoo/models\n\n#\n# Default behavior\n#\n\nCMD ipython\n\n# Use this if you want the default behavior to instead be to launch the App\n# CMD python /usr/local/lib/python/dist-packages/fiftyone/server/main.py --port 5151\n"
}