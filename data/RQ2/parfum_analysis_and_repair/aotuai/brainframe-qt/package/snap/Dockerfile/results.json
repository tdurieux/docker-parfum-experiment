{
  "startTime": 1674215152150,
  "endTime": 1674215152451,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 89
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG POETRY_VERSION=1.1.4\n\n################################################################################\n# Build\n################################################################################\n\nFROM cibuilds/snapcraft:core18 AS snap-build\n\nRUN sudo apt-get update && \\\n    sudo apt-get -y --no-install-recommends install \\\n        # For Poetry\n        python3-dev curl git \\\n        # For Qt\n        qt5-default qttools5-dev-tools qttools5-dev-tools \\\n        # For Gstly/PyGObject\n        python3-gi python3-gst-1.0 libgirepository1.0-dev libcairo2-dev gir1.2-gstreamer-1.0 && \\\n    sudo rm -rf /var/lib/apt/lists/*\n\n# Install Poetry\nARG POETRY_VERSION\nRUN curl -f -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py \\\n    | python3 - --version $POETRY_VERSION\nENV PATH=\"${PATH}:~/.poetry/bin\"\n\n# Create a workdir\nRUN sudo install -d -o circleci -g circleci /brainframe-qt\nWORKDIR /brainframe-qt\n\n# Install dependencies\nCOPY --chown=circleci pyproject.toml poetry.lock ./\nRUN poetry install --no-dev --no-root -E build -E resource_build\n\n# Add project source\nCOPY --chown=circleci . .\n\n# Build Resources\nRUN poetry run python3 scripts/compile_qt_resources.py\n\n# Build snap\nRUN mkdir ./snap/ && cp -r package/snap/snap/ .\nRUN snapcraft\n\n################################################################################\n# Output\n################################################################################\n\nFROM scratch AS output\n\nWORKDIR /output\nCOPY --from=snap-build /brainframe-qt/brainframe-client_*.snap .\n\nENTRYPOINT bash\n"
}