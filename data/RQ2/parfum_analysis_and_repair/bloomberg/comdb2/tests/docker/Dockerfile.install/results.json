{
  "startTime": 1674249391848,
  "endTime": 1674249392918,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:latest\n\nENV DEBIAN_FRONTEND=noninteractive\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y \\\n    bc \\\n    bison \\\n    build-essential \\\n    cmake \\\n    flex \\\n    gawk \\\n    gdb \\\n    iproute2 \\\n    iputils-ping \\\n    jq \\\n    libevent-dev \\\n    liblz4-dev \\\n    liblz4-tool \\\n    libprotobuf-c1 \\\n    libprotobuf-c-dev \\\n    libreadline-dev \\\n    libsqlite3-0 \\\n    libsqlite3-dev \\\n    libssl-dev \\\n    libunwind-dev \\\n    libuuid1 \\\n    libz1 \\\n    libz-dev \\\n    make \\\n    ncurses-dev \\\n    netcat-openbsd \\\n    net-tools \\\n    openssh-server \\\n    protobuf-c-compiler \\\n    psmisc \\\n    pstack \\\n    socat \\\n    strace \\\n    tcl \\\n    tcl-dev \\\n    time \\\n    tzdata \\\n    valgrind \\\n    uuid-dev && \\\n  ln -fs /usr/share/zoneinfo/America/New_York /etc/localtime && \\\n  dpkg-reconfigure --frontend noninteractive tzdata && rm -rf /var/lib/apt/lists/*;\n\nCOPY . /comdb2\n\nRUN cd /comdb2 &&  \\\n    rm -rf build && \\\n    mkdir build && \\\n    cd build && \\\n    cmake -DWITH_TCL=1 .. && \\\n    make -j4 && \\\n    make -j4 test-tools && \\\n    make install &&  \\\n    cp /comdb2/tests/docker/client / && \\\n    cp /comdb2/tests/docker/server / && \\\n    apt-get clean\n\nENV PATH      $PATH:/opt/bb/bin\n"
}