diff --git a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/goodly/textthresher/docker/thresher_api/Dockerfile b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/goodly/textthresher/docker/thresher_api/Dockerfile/repaired.Dockerfile
index ecc5238..5224da0 100644
--- a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/goodly/textthresher/docker/thresher_api/Dockerfile
+++ b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/goodly/textthresher/docker/thresher_api/Dockerfile/repaired.Dockerfile
@@ -36,10 +36,10 @@ ARG DISTRO="jessie"
 # jessie specific version not provided starting with 6.11.3
 #ARG NODE_PACKAGE=nodejs_6.11.2-1nodesource1~jessie1_amd64.deb
 ARG NODE_PACKAGE=nodejs_6.11.3-1nodesource1_amd64.deb
-RUN curl -sSO "https://deb.nodesource.com/node_6.x/pool/main/n/nodejs/${NODE_PACKAGE}"
+RUN curl -f -sSO "https://deb.nodesource.com/node_6.x/pool/main/n/nodejs/${NODE_PACKAGE}"
 RUN dpkg -i ${NODE_PACKAGE}
 
-RUN curl -sSO https://dl.yarnpkg.com/debian/pubkey.gpg
+RUN curl -f -sSO https://dl.yarnpkg.com/debian/pubkey.gpg
 RUN apt-key add pubkey.gpg
 RUN echo "deb https://dl.yarnpkg.com/debian/ stable main" | tee /etc/apt/sources.list.d/yarn.list
 
@@ -55,7 +55,7 @@ COPY /package.json /home/thresher
 COPY /yarn.lock /home/thresher
 
 USER ${USER}
-RUN yarn install
+RUN yarn install && yarn cache clean;
 
 # Now copy the rest of the repo into the image - any file change breaks build cache
 # .dockerignore must exclude node_modules/ and dist/
@@ -93,10 +93,10 @@ RUN rm -rf /var/lib/apt/lists/*
 
 WORKDIR /home/build
 COPY /docker/thresher_api/requirements.txt .
-RUN pip install --upgrade pip && pip install -r requirements.txt
+RUN pip install --no-cache-dir --upgrade pip && pip install --no-cache-dir -r requirements.txt
 
 # ipython for development - not (currently) needed for production
-RUN pip install ipython
+RUN pip install --no-cache-dir ipython
 
 ARG USER=thresher
 ARG USER_ID=9000