{
  "startTime": 1674248266048,
  "endTime": 1674248267404,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 9,
        "columnEnd": 20
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 9,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 6,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 6,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 6,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 6,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 6,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 6,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 6,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 6,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 6,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 6,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 6,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 6,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 6,
        "columnEnd": 64
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 6,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 6,
        "columnEnd": 81
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 6,
        "columnEnd": 46
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 6,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 6,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 86
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 67
      }
    }
  ],
  "repairedDockerfile": "# -------------------------------------------------------\n# NOTE: when run, this container starts an ssh deamon,\n#       use with caution\n# -------------------------------------------------------\n\nFROM ubuntu:18.10\n\n# use bash instead of sh\nSHELL [\"/bin/bash\", \"-c\"]\n\n## configure apt-get repos\nRUN apt-get update --fix-missing\nRUN apt-get install --no-install-recommends -yq apt-utils && rm -rf /var/lib/apt/lists/*;\n## install required env\nRUN apt-get install --no-install-recommends -yq g++ git vim tree htop make cmake emacs && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -yq valgrind && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -yq libjansson-dev curl wget libboost-all-dev libsnappy-dev && rm -rf /var/lib/apt/lists/*;\n#\nRUN apt-get install --no-install-recommends -yq libcurl4-openssl-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -yq libcurl4-nss-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -yq libcurl4-gnutls-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN      mkdir -p /workstem/\n\n#\n# NOTE: rdkafka, avro, serdes and arrow chechouts build a specific release\n# as the head can occasionally be broken (e.g. avro)\n# This really should be a specific [major] release!\n#\n\n# install librdkafka\nWORKDIR  /workstem\nRUN      git clone https://github.com/edenhill/librdkafka.git\nWORKDIR  librdkafka\nRUN      git checkout v1.0.0-RC5\n#RUN      git checkout eb51812ace00fc3ef3999f8ec041482b1147b0de\nRUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"\nRUN      make -j 4\nRUN      make install\n\n# install avro c\nWORKDIR  /workstem\nRUN      git clone https://github.com/apache/avro.git\nWORKDIR  /workstem/avro\n# release 1.8.2 is from May 2017\nRUN      git checkout release-1.8.2\n#RUN      git checkout 787be93d3cb1ef8f90e9e136cff6b0d2b66f4bcb\nWORKDIR  /workstem/avro/lang/c\nRUN      mkdir build\nWORKDIR  build\nRUN      cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local/ -DCMAKE_BUILD_TYPE=RelWithDebInfo\nRUN      make -j 4\nRUN      make test\nRUN      make install\n# and avro c++\nWORKDIR  /workstem/avro/lang/c++\nRUN      pwd\nRUN      ./build.sh clean\nRUN      ./build.sh install\n\n#install serdes\nWORKDIR  /workstem\nRUN      git clone https://github.com/confluentinc/libserdes.git\nWORKDIR  /workstem/libserdes\nRUN      git checkout v5.1.0\nRUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"\nRUN      make -j 4\nRUN      make install\n\n#install arrow\nWORKDIR  /workstem\nRUN      git clone https://github.com/apache/arrow.git\nWORKDIR  /workstem/arrow/\nRUN      git checkout apache-arrow-0.11.1\nWORKDIR  /workstem/arrow/cpp\nRUN      mkdir release\nWORKDIR  release\nRUN      cmake .. -DCMAKE_BUILD_TYPE=Release\nRUN      make -j 4\nRUN      make install\n\n# set up python\nRUN      mkdir -p /opt/\n\n#\n## set up python\n#\nWORKDIR  /workstem\nRUN      wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\nRUN      /bin/bash /workstem/Miniconda3-latest-Linux-x86_64.sh -b -p /opt/miniconda\nRUN      rm /workstem/Miniconda3-latest-Linux-x86_64.sh\nENV      PATH=/opt/miniconda/bin/:$PATH\nRUN      conda install -y numpy\nRUN      conda install -y pandas\nRUN      conda install -y pyarrow\nRUN      conda install -y cython\nRUN      python -V\n\n#\n## all third party sources are built into default prefix, so needs to be in the path\n#\nENV LD_LIBRARY_PATH=/usr/local/lib\n\n"
}