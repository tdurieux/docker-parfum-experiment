{
  "startTime": 1674248103146,
  "endTime": 1674248104614,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 7,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 7,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 7,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 7,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 22,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 7,
        "columnEnd": 65
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 44
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 7,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 7,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 7,
        "columnEnd": 27
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 22,
        "columnEnd": 60
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 7,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 66
      }
    }
  ],
  "repairedDockerfile": "# You can use following commands\n# to build and run the image on your local PC:\n# =====================================\n# $ docker build -t cns-tools-image:v1 .\n# $ docker run -it cns-tools-image:v1\n\nFROM ubuntu:latest\n\n# ARG UBUNTU_VERSION=xUbuntu_20.04 / 19.10\n\nRUN apt update \\\n    && DEBIAN_FRONTEND=\"noninteractive\" apt-get --no-install-recommends install -y tzdata && rm -rf /var/lib/apt/lists/*;\n\n#Java\nRUN echo \"*********** default-jdk -> openjdk-11-jdk *************** \"\nRUN apt update \\\n    && apt install --no-install-recommends -y default-jdk && rm -rf /var/lib/apt/lists/*;\n\nRUN echo \"*********** Basic tools *************** \"\nRUN apt-get update \\\n    && apt-get --assume-yes -y --no-install-recommends install curl \\\n    && apt-get --assume-yes -y --no-install-recommends install git-core \\\n    && apt-get --assume-yes -y --no-install-recommends install wget \\\n    && apt-get --assume-yes -y --no-install-recommends install gnupg2 && rm -rf /var/lib/apt/lists/*;\n\n# editor\nRUN apt-get --assume-yes -y --no-install-recommends install nano && rm -rf /var/lib/apt/lists/*;\n\n# setup network tools\nRUN apt-get --assume-yes -y --no-install-recommends install apt-utils && rm -rf /var/lib/apt/lists/*;\n\n# RUN apt-get --assume-yes install net-tools\n# zip\nRUN apt-get --assume-yes -y --no-install-recommends install unzip \\\n    && apt-get --assume-yes -y --no-install-recommends install zip && rm -rf /var/lib/apt/lists/*;\n\n\n# Cloud-Native-Starter -project\n# https://github.com/IBM/cloud-native-starter/blob/master/workshop/00-prerequisites.md\n# Install\n# RUN mkdir usr/cns\n# WORKDIR /usr/cns\n# RUN git clone https://github.com/IBM/cloud-native-starter.git\n# WORKDIR /usr/cns/cloud-native-starter\n# RUN chmod u+x ./iks-scripts/*.sh\n# Copy local.env\n# RUN cp template.local.env local.env\n# WORKDIR /usr/cns/cloud-native-starter/workshop\n# RUN curl -L https://git.io/getLatestIstio | ISTIO_VERSION=1.1.5 sh -\n\n#Docker CLI\n# RUN echo \"*********** Docker *************** \"\n# WORKDIR /\n# RUN apt install -y gnupg  \\\n#    && apt install -y docker.io \\\n#    && docker --version\n\n#Podman CLI\nWORKDIR /\n# RUN echo 'deb http://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_20.04/ /' > /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list \\\n\nRUN echo 'deb https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_20.04/ /' > /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list \\\r\n    && wget -nv https://download.opensuse.org/repositories/devel:kubic:libcontainers:stable/xUbuntu_20.04/Release.key -O- | apt-key add -  \\\r\n    && apt update  \\\r\n    && apt upgrade \\\n    && apt install --no-install-recommends -y podman \\\n    && podman --version \\\n    && alias docker=podman && rm -rf /var/lib/apt/lists/*;\n\n#Maven\nRUN echo \"*********** Maven *************** \"\nRUN apt update \\\n    && apt install --no-install-recommends -y maven && rm -rf /var/lib/apt/lists/*;\n\n#Kubernetes\nRUN echo \"*********** Kubernetes *************** \"\nRUN apt-get update && apt-get install --no-install-recommends -y apt-transport-https \\\n    && curl -f -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add - \\\n    && echo \"deb https://apt.kubernetes.io/ kubernetes-xenial main\" | tee -a /etc/apt/sources.list.d/kubernetes.list \\\n    && apt-get update \\\n    && apt-get install --no-install-recommends -y kubectl && rm -rf /var/lib/apt/lists/*;\n\n# IBM Cloud CLI\n\n# RUN  curl -sL http://ibm.biz/idt-installer | bash # Full installation in not needed in that case\n# https://cloud.ibm.com/docs/cli?topic=cloud-cli-install-ibmcloud-cli\nRUN echo \"*********** IBM Cloud CLI *************** \"\nRUN  curl -fsSL https://clis.cloud.ibm.com/install/linux | sh \\\r\n     && ibmcloud plugin install container-service \\\r\n     && ibmcloud plugin install container-registry\n\n# RedHat OpenShift cli OC\n# RUN echo \"*********** RedHat OpenShift CLI*************** \"\n# WORKDIR /tmp\n# RUN wget https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.5/linux/oc.tar.gz \\\n#    && tar -zxvf oc.tar.gz \\\n#    && mv oc /usr/local/bin/oc\n\n# Expose Ports\n#kiali\n# EXPOSE 20001\n# Cloud Native Starter - Authors Service\nEXPOSE 3000\n\n"
}