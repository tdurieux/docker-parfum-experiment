{
  "startTime": 1674255507365,
  "endTime": 1674255508442,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 102
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 7,
        "columnEnd": 68
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 7,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 7,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 7,
        "columnEnd": 75
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 7,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 7,
        "columnEnd": 75
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 22,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 7,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 7,
        "columnEnd": 44
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 7,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 7,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 41
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 7,
        "columnEnd": 39
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 7,
        "columnEnd": 75
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 22,
        "columnEnd": 60
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 7,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 52
      }
    }
  ],
  "repairedDockerfile": "# You can use following commands\n# to build and run the image on your local PC:\n# =====================================\n# $ docker build -t cns-tools-image:v1 .\n# $ docker run -it cns-tools-image:v1\n\n# *************************************\n#   DOESN'T WORK\n#   See this entry: https://github.com/containers/podman/issues/8275\n# *************************************\n#FROM ubuntu:disco-20190423\nFROM ubuntu:latest\n\nRUN echo \"*********** Init *************** \"\nRUN apt-get update \\\n    && apt-get --assume-yes -y --no-install-recommends install curl \\\n    && apt-get --assume-yes -y --no-install-recommends install git-core \\\n    && apt-get --assume-yes -y --no-install-recommends install wget \\\n# editor\n    && apt-get --assume-yes -y --no-install-recommends install nano \\\n# setup network tools\n    && apt-get --assume-yes -y --no-install-recommends install apt-utils \\\n    && apt-get --assume-yes -y --no-install-recommends install net-tools \\\n# zip\n    && apt-get --assume-yes -y --no-install-recommends install unzip \\\n    && apt-get --assume-yes -y --no-install-recommends install zip \\\n# Needed for Podman installlation   \n    && DEBIAN_FRONTEND=\"noninteractive\" apt-get -y --no-install-recommends --assume-yes install tzdata && rm -rf /var/lib/apt/lists/*;\n\n\n# Cloud-Native-Starter -project\n# https://github.com/IBM/cloud-native-starter/blob/master/workshop/00-prerequisites.md\n# Clone/Install\n# =============\n# RUN mkdir usr/cns\n# WORKDIR /usr/cns\n# RUN git clone https://github.com/IBM/cloud-native-starter.git\n# WORKDIR /usr/cns/cloud-native-starter\n# RUN chmod u+x ./iks-scripts/*.sh\n# Copy local.env\n# RUN cp template.local.env local.env\n# WORKDIR /usr/cns/cloud-native-starter/workshop\n# RUN curl -L https://git.io/getLatestIstio | ISTIO_VERSION=1.1.5 sh -\n\n# -----------\n# Docker (needed for the CLI \"ibmcloud cr\")\n# -----------\n\nWORKDIR /\nRUN apt install --no-install-recommends -y gnupg && rm -rf /var/lib/apt/lists/*;\nRUN apt install --no-install-recommends -y docker.io && rm -rf /var/lib/apt/lists/*;\nRUN docker --version\n\n# -----------\n# Tekton CLI\n# -----------\n    # Get the tar.xz\nRUN curl -f -LO https://github.com/tektoncd/cli/releases/download/v0.13.1/tkn_0.13.1_Darwin_x86_64.tar.gz \\\n    # Extract tkn to your PATH (e.g. /usr/local/bin)\n    && tar xvzf tkn_0.13.1_Darwin_x86_64.tar.gz -C /usr/local/bin tkn\n\n# -----------\n# Kubernetes\n# -----------\n\n#RUN echo \"*********** Kubernetes *************** \"\nRUN apt-get update && apt-get install --no-install-recommends -y apt-transport-https \\\n    && curl -f -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add - \\\n    && echo \"deb https://apt.kubernetes.io/ kubernetes-xenial main\" | tee -a /etc/apt/sources.list.d/kubernetes.list \\\n    && apt-get update \\\n    && apt-get install --no-install-recommends -y kubectl && rm -rf /var/lib/apt/lists/*;\n\n# -----------\n# IBM Cloud CLI\n# -----------\n\n#RUN echo \"*********** IBM Cloud CLI *************** \"\n# RUN  curl -sL http://ibm.biz/idt-installer | bash # Full installation in not needed in that case\n# https://cloud.ibm.com/docs/cli?topic=cloud-cli-install-ibmcloud-cli\nRUN  curl -fsSL https://clis.cloud.ibm.com/install/linux | sh \\\n     && ibmcloud plugin install container-service \\\n     && ibmcloud plugin install container-registry\n\n# RedHat OpenShift CLI oc\n\n#RUN echo \"*********** RedHat OpenShift CLI oc *************** \"\n#WORKDIR /tmp\nRUN wget https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.5/linux/oc.tar.gz \\\n    && tar -zxvf oc.tar.gz \\\n    && mv oc /usr/local/bin/oc && rm oc.tar.gz\n\n# ------------\n# Expose Ports\n# ------------\n#\n# kiali\n# EXPOSE 20001\n"
}