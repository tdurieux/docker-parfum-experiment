{
  "startTime": 1674250689600,
  "endTime": 1674250690946,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 153
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 178
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 39,
        "columnEnd": 135
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 141
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 142
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 141
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 142
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 141
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 142
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 44
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 165
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 166
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 82
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 127
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 68
      }
    }
  ],
  "repairedDockerfile": "FROM phusion/baseimage:bionic-1.0.0\n# Use baseimage-docker's init system.\nCMD [\"/sbin/my_init\"]\nENV VERSION=2.6.1\nRUN apt-get --yes update && apt-get --yes dist-upgrade\nRUN apt-get --yes --no-install-recommends install tzdata && rm -rf /var/lib/apt/lists/*;\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends --yes install coreutils git curl xbase-clients xdg-utils openmpi-bin libopenmpi-dev nano cpanminus && rm -rf /var/lib/apt/lists/*;\nRUN curl -f https://packages.mccode.org/debian/mccode.list > /etc/apt/sources.list.d/mccode.list\nRUN apt-get --yes update\nRUN apt-get --yes --no-install-recommends install mcstas-suite-python mcstas-suite-perl mcxtrace-suite-python mcxtrace-suite-perl mcstas-tools-python-mcplot-svg-2.6.1 && rm -rf /var/lib/apt/lists/*;\nRUN apt-get --yes --no-install-recommends install python-dev libssl-dev makepasswd && rm -rf /var/lib/apt/lists/*;\nRUN curl -f https://raw.githubusercontent.com/McStasMcXtrace/McCode/master/tools/Python/mcgui/mcgui.py > /usr/share/mcstas/2.6.1/tools/Python/mcgui/mcgui.py\nRUN curl -f https://raw.githubusercontent.com/McStasMcXtrace/McCode/master/tools/Python/mccodelib/mccode_config.py > /usr/share/mcstas/2.6.1/tools/Python/mccodelib/mccode_config.py\nRUN update-alternatives --install /bin/sh sh /bin/bash 200\nRUN update-alternatives --install /bin/sh sh /bin/dash 100\nRUN cpan install PDL\nRUN groupadd docker\nRUN useradd -g docker docker\nENV HOME /home/docker\nWORKDIR /home/docker\nRUN git clone --single-branch --branch slurm-worker-prototype https://github.com/McStasMcXtrace/McWeb.git /home/docker/McWeb\nRUN apt-get --yes --no-install-recommends install python-pip python-ldap libsasl2-dev python-dev libldap2-dev libssl-dev telnet && rm -rf /var/lib/apt/lists/*;\nRUN apt-get --yes --no-install-recommends install ssh openssh-server && rm -rf /var/lib/apt/lists/*;\nRUN apt-get --yes dist-upgrade\nRUN pip install --no-cache-dir -I Django==1.11.28 django-auth-ldap==1.2.7 simplejson\nRUN chown -R docker:docker /home/docker/\nRUN cd /home/docker/McWeb/mcsimrunner; cp tests/settings.py mcweb/settings.py\nRUN cd /home/docker/McWeb/mcsimrunner; mkdir sim/intro-ns ; cp tests/instrument-files/* sim/intro-ns\nRUN cd /home/docker/McWeb/mcsimrunner; sed -i \"s+/srv/mcweb/McWeb/mcsimrunner/static/+/home/docker/McWeb/mcsimrunner/static/+g\" mcweb/settings.py\nRUN cd /home/docker/McWeb/mcsimrunner; sed -i \"s/SANSsimple/templateSANS2/g\" mcweb/settings.py\nRUN cd /home/docker/McWeb/mcsimrunner; sed -i \"s/DEBUG\\ =\\ False/DEBUG\\ =\\ True/g\" mcweb/settings.py\nRUN cd /home/docker/McWeb/mcsimrunner; sed -i \"s/STATIC_ROOT/\\#STATIC_ROOT/g\" mcweb/settings.py\nRUN cd /home/docker/McWeb/mcsimrunner; sed -i \"s/svg-dev/svg/g\" mcweb/settings.py\nRUN cd /home/docker/McWeb/mcsimrunner; python manage.py migrate\nRUN cd /home/docker/McWeb/mcsimrunner; python manage.py collect_instr\nRUN cd /home/docker/McWeb/mcsimrunner; echo \"from django.contrib.auth import get_user_model; User = get_user_model(); User.objects.create_superuser('docker', 'admin@localhost', 'docker')\" | python manage.py shell\nRUN mkdir -p /srv/mcweb && ln -sf /home/docker/McWeb/ /srv/mcweb/McWeb\nRUN chown -R docker:docker /home/docker/\nRUN cd /home/docker/McWeb/mcsimrunner; curl -f https://raw.githubusercontent.com/McStasMcXtrace/McCode/master/Docker/web-sim/go.sh > go.sh\nRUN cd /home/docker/McWeb/mcsimrunner; cat go.sh\nRUN cd /home/docker/McWeb/mcsimrunner; chmod a+x go.sh\n# Clean up APT when done.\nRUN apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*"
}