{
  "startTime": 1674252077378,
  "endTime": 1674252079679,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 111,
        "lineEnd": 111,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 209,
        "lineEnd": 209,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 71,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 114,
        "lineEnd": 114,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 129,
        "lineEnd": 129,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 138,
        "lineEnd": 140,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 166,
        "lineEnd": 172,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 184,
        "lineEnd": 189,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 198,
        "lineEnd": 198,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 243,
        "lineEnd": 273,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 112,
        "lineEnd": 112,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 127,
        "lineEnd": 127,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 136,
        "lineEnd": 136,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 147,
        "lineEnd": 147,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 164,
        "lineEnd": 164,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 182,
        "lineEnd": 182,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 196,
        "lineEnd": 196,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 210,
        "lineEnd": 210,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 241,
        "lineEnd": 241,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 13
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.9-slim-buster\n\nLABEL Tyler Sutterley \"tsutterl@uw.edu\"\n\nENV DEBIAN_FRONTEND=\"noninteractive\" TZ=\"America/Los_Angeles\"\n\nRUN useradd --create-home --shell /bin/bash icesat2\n\nRUN apt-get update -y && \\\n    apt-get install -y --no-install-recommends \\\n        autoconf \\\n        automake \\\n        build-essential \\\n        ca-certificates \\\n        cmake \\\n        git \\\n        libboost-dev \\\n        libexpat1-dev \\\n        libldap2-dev \\\n        libtool \\\n        liburiparser-dev \\\n        libxml2-dev  \\\n        pkg-config \\\n        wget \\\n        unzip && \\\n    apt-get clean && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR /tmp\n\nENV JOBS 2\n\nENV CFLAGS=\"-fPIC\"\nENV ZLIB_VERSION=1.2.12\nRUN wget -q https://zlib.net/zlib-${ZLIB_VERSION}.tar.gz && \\\n    tar -xzf zlib-${ZLIB_VERSION}.tar.gz && \\\n    cd zlib-${ZLIB_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    cd contrib/minizip && \\\n    autoreconf -fvi && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local/ && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm zlib-${ZLIB_VERSION}.tar.gz\n\nENV CFLAGS=\"-fPIC\"\nENV SZIP_SHORT_VERSION=2.1.1\nENV SZIP_VERSION=2.1.1\nRUN wget -q https://support.hdfgroup.org/ftp/lib-external/szip/${SZIP_SHORT_VERSION}/src/szip-${SZIP_VERSION}.tar.gz && \\\n    tar -xzf szip-${SZIP_VERSION}.tar.gz && \\\n    cd szip-${SZIP_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm szip-${SZIP_VERSION}.tar.gz\n\nENV OPENSSL_SHORT_VERSION=1.1.1\nENV OPENSSL_VERSION=1.1.1k\nRUN wget -q https://www.openssl.org/source/openssl-${OPENSSL_VERSION}.tar.gz && \\\n    tar -xzf openssl-${OPENSSL_VERSION}.tar.gz && \\\n    cd openssl-${OPENSSL_VERSION} && \\\n    ./config shared --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm openssl-${OPENSSL_VERSION}.tar.gz\n\nENV CURL_VERSION=7.77.0\nRUN wget -q https://curl.haxx.se/download/curl-${CURL_VERSION}.tar.gz && \\\n    tar -xzf curl-${CURL_VERSION}.tar.gz && \\\n    cd curl-${CURL_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet \\\n        --enable-versioned-symbols \\\n        --enable-openssl-auto-load-config \\\n        --with-openssl \\\n        --with-zlib=/usr/local \\\n        --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm curl-${CURL_VERSION}.tar.gz\n\nENV XZ_VERSION=5.2.5\nRUN wget -q https://tukaani.org/xz/xz-${XZ_VERSION}.tar.gz && \\\n    tar -xzf xz-${XZ_VERSION}.tar.gz && \\\n    cd xz-${XZ_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm xz-${XZ_VERSION}.tar.gz\n\nENV OPENMPI_SHORT_VERSION=v4.1\nENV OPENMPI_VERSION=4.1.1\nRUN wget -q https://download.open-mpi.org/release/open-mpi/${OPENMPI_SHORT_VERSION}/openmpi-${OPENMPI_VERSION}.tar.gz && \\\n    tar -xzf openmpi-${OPENMPI_VERSION}.tar.gz && \\\n    cd openmpi-${OPENMPI_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make all install && \\\n    make clean && rm openmpi-${OPENMPI_VERSION}.tar.gz\n\nENV SQLITE_VERSION=3350500\nENV SQLITE_YEAR 2021\nRUN wget -q https://sqlite.org/${SQLITE_YEAR}/sqlite-autoconf-${SQLITE_VERSION}.tar.gz && \\\n    tar -xzf sqlite-autoconf-${SQLITE_VERSION}.tar.gz && \\\n    cd sqlite-autoconf-${SQLITE_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm sqlite-autoconf-${SQLITE_VERSION}.tar.gz\n\nENV LIBJPEG_SHORT_VERSION=9d\nENV LIBJPEG_VERSION=v9d\nRUN wget -q https://ijg.org/files/jpegsrc.${LIBJPEG_VERSION}.tar.gz && \\\n    tar -xzf jpegsrc.${LIBJPEG_VERSION}.tar.gz && \\\n    cd jpeg-${LIBJPEG_SHORT_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm jpegsrc.${LIBJPEG_VERSION}.tar.gz\n\nENV ZLIBLIB=\"/usr/local/lib\"\nENV ZLIBINC=\"/usr/local/include\"\nENV CPPFLAGS=\"-I/usr/local/include\"\nENV LDFLAGS=\"-L/usr/local/lib\"\nENV LD_LIBRARY_PATH=\"${ZLIBLIB}:${LD_LIBRARY_PATH}\"\nENV CFLAGS=\"-Wall -O -funroll-loops -malign-loops=2 -malign-functions=2\"\nENV LIBPNG_VERSION=1.6.37\nRUN wget -q https://download.sourceforge.net/libpng/libpng-${LIBPNG_VERSION}.tar.gz && \\\n    tar -xzf libpng-${LIBPNG_VERSION}.tar.gz && \\\n    cd libpng-${LIBPNG_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm libpng-${LIBPNG_VERSION}.tar.gz\n\nENV LIBTIFF_VERSION=4.2.0\nRUN wget -q https://download.osgeo.org/libtiff/tiff-${LIBTIFF_VERSION}.tar.gz && \\\n    tar -xzf tiff-${LIBTIFF_VERSION}.tar.gz && \\\n    cd tiff-${LIBTIFF_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local \\\n        --with-jpeg-include-dir=/usr/local/include \\\n        --with-jpeg-lib-dir=/usr/local/lib && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm tiff-${LIBTIFF_VERSION}.tar.gz\n\nENV LIBKML_VERSION=1.3.0\nRUN wget -q https://github.com/libkml/libkml/archive/${LIBKML_VERSION}.tar.gz && \\\n    tar -xzf ${LIBKML_VERSION}.tar.gz && \\\n    cd libkml-${LIBKML_VERSION} && \\\n    mkdir build && \\\n    cd build && \\\n    cmake \\\n        -DZLIB_INCLUDE_DIR=/usr/local/include \\\n        -DMINIZIP_LIBRARY=/usr/local/lib \\\n        -DMINIZIP_INCLUDE_DIR=/usr/local/lib \\\n        -DCMAKE_BUILD_TYPE=Release \\\n        -DCMAKE_INSTALL_PREFIX=/usr/local/ .. && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm ${LIBKML_VERSION}.tar.gz\n\nENV CC=mpicc\nENV HDF5_VERSION=1.10.5\nRUN wget -q https://support.hdfgroup.org/ftp/HDF5/current/src/hdf5-${HDF5_VERSION}.tar.gz && \\\n    tar -xzf hdf5-${HDF5_VERSION}.tar.gz && \\\n    cd hdf5-${HDF5_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet \\\n        --enable-parallel \\\n        --enable-hl \\\n        --enable-shared \\\n        --prefix=/usr/local \\\n        --with-zlib=/usr/local \\\n        --with-szlib=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm hdf5-${HDF5_VERSION}.tar.gz\n\nENV NETCDF_VERSION=4.8.1\nENV CFLAGS=\"-fPIC -lcurl\"\nENV CPPFLAGS=\"-I/usr/local/include\"\nENV LDFLAGS=\"-L/usr/local/lib\"\nRUN --no-check-certificate https://github.com/Unidata/netcdf-c/archive/refs/tags/v${NETCDF_VERSION}.tar.gz && \\\n    tar -xvzf v${NETCDF_VERSION}.tar.gz && \\\n    cd netcdf-c-${NETCDF_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet \\\n        --enable-parallel-tests \\\n        --enable-netcdf-4 \\\n        --enable-nczarr \\\n        --enable-shared \\\n        --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm v${NETCDF_VERSION}.tar.gz\n\nENV GEOS_VERSION=3.9.1\nRUN wget -q https://download.osgeo.org/geos/geos-${GEOS_VERSION}.tar.bz2 && \\\n    tar -xjf geos-${GEOS_VERSION}.tar.bz2 && \\\n    cd geos-${GEOS_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm geos-${GEOS_VERSION}.tar.bz2\n\nENV PROJ_VERSION=8.0.1\nENV PROJ_DATUMGRID_VERSION=1.8\nENV PROJ_NETWORK ON\nENV SQLITE3_CFLAGS=\"-I/usr/local/include\"\nENV SQLITE3_LIBS=\"-L/usr/local/lib -lsqlite3\"\nRUN wget -q https://download.osgeo.org/proj/proj-${PROJ_VERSION}.tar.gz && \\\n    wget -q https://download.osgeo.org/proj/proj-datumgrid-${PROJ_DATUMGRID_VERSION}.zip && \\\n    tar -xzf proj-${PROJ_VERSION}.tar.gz && \\\n    unzip proj-datumgrid-${PROJ_DATUMGRID_VERSION}.zip -d proj-${PROJ_VERSION}/data/ && \\\n    cd proj-${PROJ_VERSION} && \\\n    mkdir build && \\\n    cd build && \\\n    cmake \\\n        -DSQLITE3_INCLUDE_DIR=/usr/local/include/ \\\n        -DSQLITE3_LIBRARY=/usr/local/lib/libsqlite3.so \\\n        -DTIFF_INCLUDE_DIR=/usr/local/include \\\n        -DTIFF_LIBRARY_RELEASE=/usr/local/lib/libtiff.so \\\n        -DCURL_INCLUDE_DIR=/usr/local/include/ \\\n        -DCURL_LIBRARY=/usr/local/lib/libcurl.so \\\n        -DPYTHON_EXECUTABLE=/usr/local/bin/python3 \\\n        -DCMAKE_BUILD_TYPE=Release \\\n        -DCMAKE_INSTALL_PREFIX=/usr/local/ .. && \\\n    cmake --build . && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && \\\n    projsync --system-directory --all && rm proj-${PROJ_VERSION}.tar.gz\n\nENV CC=mpicc\nENV CPPFLAGS=\"-I/usr/local/include\"\nENV LDFLAGS=\"-L/usr/local/lib\"\nENV LIBKML_CFLAGS=\"/usr/local/include\"\nENV LIBKML_LIB=\"/usr/local/lib\"\nENV HDF5_CFLAGS=\"--enable-parallel --enable-hl --enable-shared\"\nENV HDF5_INCLUDE=\"/usr/local/include\"\nENV HDF5_LIBS=\"/usr/local/lib\"\nENV GDAL_VERSION=3.3.0\nRUN wget -q https://download.osgeo.org/gdal/CURRENT/gdal-${GDAL_VERSION}.tar.gz && \\\n    tar -xzf gdal-${GDAL_VERSION}.tar.gz && \\\n    cd gdal-${GDAL_VERSION} && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --quiet \\\n        --disable-debug \\\n        --disable-static \\\n        --with-hdf5=/usr/local \\\n        --with-curl=/usr/local/bin/curl-config \\\n        --with-crypto=/usr/local \\\n        --with-geos=/usr/local/bin/geos-config \\\n        --with-geotiff \\\n        --with-hide-internal-symbols=yes \\\n        --with-libkml=/usr/local \\\n        --with-libkml-inc=/usr/local/include \\\n        --with-libkml-lib=/usr/local/lib \\\n        --with-liblzma=/usr/local \\\n        --with-libtiff=/usr/local \\\n        --with-libz=/usr/local \\\n        --with-jpeg=/usr/local \\\n        --with-openjpeg \\\n        --with-png=/usr/local \\\n        --with-proj=/usr/local \\\n        --with-sqlite3=/usr/local \\\n        --with-proj=/usr/local \\\n        --with-rename-internal-libgeotiff-symbols=yes \\\n        --with-rename-internal-libtiff-symbols=yes \\\n        --with-threads=yes \\\n        --without-hdf4 \\\n        --without-idb \\\n        --without-jpeg12 \\\n        --without-netcdf \\\n        --without-perl \\\n        --without-python \\\n        --prefix=/usr/local && \\\n    make --quiet --jobs=${JOBS} && \\\n    make --quiet install && \\\n    make clean && rm gdal-${GDAL_VERSION}.tar.gz\n\nRUN ldconfig\n\nRUN rm -rf /tmp/*\n\nWORKDIR /home/icesat2\n\nENV MPICC=mpicc\nENV CC=mpicc\nENV HDF5_MPI=\"ON\"\n\nRUN pip3 install --no-cache-dir --no-binary=h5py,cartopy \\\n        cartopy \\\n        fiona \\\n        future \\\n        gdal \\\n        h5py \\\n        lxml \\\n        matplotlib \\\n        mpi4py \\\n        numpy \\\n        pandas \\\n        paramiko \\\n        pyproj \\\n        python-dateutil \\\n        pyYAPC \\\n        scikit-learn \\\n        scipy \\\n        scp \\\n        shapely \\\n        zarr\n\nCOPY . .\n\nRUN --mount=source=.git,target=.git,type=bind \\\n    pip install --no-cache-dir --no-deps .\n\nUSER icesat2\n\nCMD [\"bash\"]\n"
}