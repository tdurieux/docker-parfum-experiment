{
  "startTime": 1674256092252,
  "endTime": 1674256093235,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 4,
        "columnStart": 22,
        "columnEnd": 72
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:xenial\n\n# Install dependencies\nRUN apt-get update && apt-get install --no-install-recommends -y curl wget openvswitch-switch openvswitch-common \\\n        vim openssh-server inetutils-traceroute net-tools tcpdump quagga \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN echo \"export VTYSH_PAGER=more\" >>  /etc/bash.bashrc\nRUN echo \"VTYSH_PAGER=more\" >> /etc/environment\n\nRUN\ttouch /etc/quagga/bgpd.conf && \\\n    touch /etc/quagga/ospfd.conf && \\\n    touch /etc/quagga/vtysh.conf && \\\n    touch /etc/quagga/zebra.conf\n\n\n# Add startup script and set it as entrypoint\nADD docker-start /usr/sbin/docker-start\nCOPY looking_glass.sh /home/.looking_glass.sh\nRUN chmod +x /usr/sbin/docker-start\nENTRYPOINT [\"/usr/sbin/docker-start\"]\n\n# Draft for dockerfile using frr instead of quagga.\n# FROM d_base_supervisor:latest\n\n# RUN apk add --no-cache openssh-server openvswitch frr frr-rpki frr-pythontools \\\n#     && ssh-keygen -A \\\n#     && sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/g' /etc/ssh/sshd_config \\\n#     && sed -i 's/#PrintMotd yes/PrintMotd no/g' /etc/ssh/sshd_config \\\n#     # Unlocks the root user so that ssh login is allowed.\n#     && sed -i s/root:!/\"root:*\"/g /etc/shadow \\\n#     && mkdir -p /var/run/sshd /root/.ssh \\\n#     && chmod 0755 /var/run/sshd\n\n# RUN install -m 755 -o frr -g frr -d /var/log/frr \\\n#     && install -m 755 -o frr -g frr -d /var/run/frr \\\n#     && install -m 775 -o frr -g frrvty -d /etc/frr \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/zebra.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/bgpd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/ospfd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/ospf6d.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/isisd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/ripd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/ripngd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/pimd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/ldpd.conf \\\n#     && install -m 640 -o frr -g frr /dev/null /etc/frr/nhrpd.conf \\\n#     && install -m 640 -o frr -g frrvty /dev/null /etc/frr/vtysh.conf \\\n#     && echo \"export VTYSH_PAGER=more\" >>  /etc/bash.bashrc \\\n#     && echo \"VTYSH_PAGER=more\" >> /etc/environment\n\n# # RUN echo \"export VTYSH_PAGER=more\" >>  /etc/bash.bashrc \\\n# #     && echo \"VTYSH_PAGER=more\" >> /etc/environment \\\n# #     && touch /etc/quagga/bgpd.conf \\\n# #     && touch /etc/quagga/ospfd.conf \\\n# #     && touch /etc/quagga/vtysh.conf \\\n# #     && touch /etc/quagga/zebra.conf\n\n# COPY supervisord.conf /etc/supervisor/conf.d/processes.conf\n# COPY run_frr.sh /usr/local/bin/run_frr\n# COPY run_ovs.sh /usr/local/bin/run_ovs\n\n# RUN chmod +x /usr/local/bin/run_frr /usr/local/bin/run_ovs\n"
}