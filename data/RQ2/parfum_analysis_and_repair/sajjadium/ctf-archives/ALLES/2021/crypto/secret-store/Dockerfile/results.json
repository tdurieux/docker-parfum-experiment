{
  "startTime": 1674249323662,
  "endTime": 1674249324571,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 22,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 58
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 22,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM rust:1.54.0-bullseye AS build\n\nRUN sh -c \"$(curl -sSfL https://release.solana.com/v1.7.10/install)\"\nENV PATH=\"/root/.local/share/solana/install/active_release/bin:${PATH}\"\n\nRUN apt-get update && apt-get install --no-install-recommends -y clang libudev-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN rustup component add rustfmt\n\nRUN mkdir /build\n\nCOPY program/ /build/program\nWORKDIR /build/program\nRUN cargo build-bpf\n\nCOPY cli/ /build/cli\nCOPY keys/ /build/keys\nCOPY flag-program/ /build/flag-program\nCOPY Cargo.lock Cargo.toml  /build/\n\nWORKDIR /build/\nRUN cargo build --release\nRUN cp /build/program/target/deploy/store.so /build/ && cargo run --release --bin store-cli -- -k /build/keys/rich-boi.json initialize-ledger\n\n\nFROM ubuntu:20.04\n\nRUN apt-get update && apt-get install --no-install-recommends -y curl && sh -c \"$(curl -sSfL https://release.solana.com/v1.7.10/install)\" && rm -rf /var/lib/apt/lists/*;\nENV PATH=\"/root/.local/share/solana/install/active_release/bin:${PATH}\"\n\nCOPY --from=build /build/ledger/ /ledger/\nCOPY --from=build /build/target/release/store-cli /usr/bin/\nCOPY --from=build /build/keys/ /keys/\nCOPY --from=build /build/target/release/libflag.so /root/.local/share/solana/install/active_release/bin/libflagloader_program.so\n\nENV FLAG=\"ALLES!{placeholder}\"\nEXPOSE 1024\n\nCMD [\"/bin/sh\", \"-c\", \"((sleep 2; store-cli -k /keys/rich-boi.json setup /keys/flag-depot.json $(dd if=/dev/urandom count=8 bs=1 | od -A n -t u8)) &); solana-test-validator -l /ledger/ --rpc-port 1024 --dynamic-port-range 1025-65535\"]\n"
}