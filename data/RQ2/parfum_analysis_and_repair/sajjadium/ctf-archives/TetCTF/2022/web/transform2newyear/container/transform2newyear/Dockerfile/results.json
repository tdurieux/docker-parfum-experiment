{
  "startTime": 1674253406436,
  "endTime": 1674253407742,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 47,
        "columnEnd": 99
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 47,
        "columnEnd": 99
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:latest\nMAINTAINER peterjson\n\nRUN apt-get update -y && apt-get upgrade -y && apt-get install --no-install-recommends supervisor openjdk-8-jre-headless -y && rm -rf /var/lib/apt/lists/*;\n\nRUN useradd service && mkdir /home/service\n\n# secret place to store flag :)\nRUN export RAN_DIR=/`tr -dc T-Zt-z0-9 </dev/urandom | head -c 10 ; echo ''`/ && mkdir -p $RAN_DIR && cd $RAN_DIR && echo \"TetCTF{<?TetCTF ?> sample flag, :) }\" > flag_`tr -dc T-Zt-z0-9 </dev/urandom | head -c 5 ; echo ''`.txt\n\nRUN chown -R service:root /home/service/ && chmod 770 -R /home/service/\n\nCOPY ./container/transform2newyear/supervisor.conf /etc/supervisor.conf\n\nCOPY ./container/transform2newyear/transformer-0.0.1-SNAPSHOT.jar /home/service/transformer-0.0.1-SNAPSHOT.jar\n\nEXPOSE 8080\n\nCMD [\"supervisord\", \"-c\", \"/etc/supervisor.conf\"]\n"
}