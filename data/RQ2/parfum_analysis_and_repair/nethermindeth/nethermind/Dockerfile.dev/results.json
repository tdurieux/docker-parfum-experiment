{
  "startTime": 1674252496272,
  "endTime": 1674252497555,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 22,
        "columnEnd": 77
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM --platform=$BUILDPLATFORM mcr.microsoft.com/dotnet/sdk:6.0 AS build\n\nARG TARGETPLATFORM\nARG TARGETOS\nARG TARGETARCH\nARG BUILDPLATFORM\n\nCOPY . .\n\nRUN if [ \"$TARGETARCH\" = \"amd64\" ] ; \\\n    then git submodule update --init src/Dirichlet src/int256 src/rocksdb-sharp src/Math.Gmp.Native && \\\n    dotnet tool install JetBrains.dotTrace.GlobalTools --version 2021.3.2 --tool-path /tmp/ && \\\n    dotnet add src/Nethermind/Nethermind.Runner package JetBrains.dotMemory.Console.$TARGETOS-x64 --version 2021.3.2 --package-directory /tmp/ && \\\n    dotnet publish src/Nethermind/Nethermind.Runner -r $TARGETOS-x64 -c release -o out ; \\\n    else git submodule update --init src/Dirichlet src/int256 src/rocksdb-sharp src/Math.Gmp.Native && \\\n    dotnet tool install JetBrains.dotTrace.GlobalTools --version 2021.3.2 --tool-path /tmp/ && \\\n    dotnet add src/Nethermind/Nethermind.Runner package JetBrains.dotMemory.Console.$TARGETOS-$TARGETARCH --version 2021.3.2 --package-directory /tmp/ && \\\n    dotnet publish src/Nethermind/Nethermind.Runner -r $TARGETOS-$TARGETARCH -c release -o out ; \\\n    fi\nRUN dotnet tool install --tool-path /dotnetcore-tools dotnet-trace && \\\n    dotnet tool install --tool-path /dotnetcore-tools dotnet-dump && \\\n    dotnet tool install --tool-path /dotnetcore-tools dotnet-gcdump\n\nFROM --platform=$TARGETPLATFORM mcr.microsoft.com/dotnet/aspnet:6.0\nRUN apt-get update && apt-get -y --no-install-recommends install libsnappy-dev libc6-dev libc6 procps && \\\n    rm -rf /var/lib/apt/lists/*\nWORKDIR /nethermind\n\nCOPY --from=build /out .\nCOPY --from=build /dotnetcore-tools /opt/dotnetcore-tools\nCOPY --from=build /tmp/jetbrains.dotmemory.console.* /opt/tools\nCOPY --from=build /tmp/dottrace /opt/tools\nCOPY --from=build /tmp/.store /opt/tools/.store\nENV PATH=\"/opt/dotnetcore-tools:${PATH}\"\n\nARG GIT_COMMIT=unspecified\nLABEL git_commit=$GIT_COMMIT\n\nEXPOSE 8545\nEXPOSE 30303\n\nVOLUME /nethermind/nethermind_db\nVOLUME /nethermind/logs\nVOLUME /nethermind/keystore\n\nENTRYPOINT [\"./Nethermind.Runner\"]\n"
}