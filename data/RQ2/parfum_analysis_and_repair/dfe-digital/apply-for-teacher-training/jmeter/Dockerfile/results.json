{
  "startTime": 1674254646300,
  "endTime": 1674254647288,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 100
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 114
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 18,
        "columnEnd": 48
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ruby:2.7.5-alpine3.15\nARG BUILD_DEPS=\"git gcc libc-dev make build-base libxml2-dev libxslt-dev\"\n\nWORKDIR /app\n\nRUN apk -U upgrade && \\\n    apk add --update --no-cache $BUILD_DEPS tzdata libxml2 libxslt curl unzip && \\\n    echo \"Europe/London\" > /etc/timezone && \\\n    cp /usr/share/zoneinfo/Europe/London /etc/localtime\n\nRUN apk update && apk add --no-cache openjdk11-jre-headless\n\nENV JMETER_VERSION=\"5.4.3\"\nENV JMETER_MIRROR https://downloads.apache.org/jmeter/binaries\nENV JMETER_PATH /opt/apache-jmeter-${JMETER_VERSION}\nRUN cd /opt && \\\n    curl -f -o apache-jmeter-${JMETER_VERSION}.tgz ${JMETER_MIRROR}/apache-jmeter-${JMETER_VERSION}.tgz && \\\n    curl -f -o apache-jmeter-${JMETER_VERSION}.tgz.sha512 ${JMETER_MIRROR}/apache-jmeter-${JMETER_VERSION}.tgz.sha512 && \\\n    sha512sum -c apache-jmeter-${JMETER_VERSION}.tgz.sha512 && \\\n    tar xzf apache-jmeter-${JMETER_VERSION}.tgz && \\\n    ln -s ${JMETER_PATH}/bin/jmeter /usr/local/bin && rm apache-jmeter-${JMETER_VERSION}.tgz\n\nRUN cd ${JMETER_PATH} && \\\n    curl -f -o jmeter-prometheus.zip https://jmeter-plugins.org/files/packages/jmeter-prometheus-0.6.0.zip && \\\n    unzip jmeter-prometheus.zip\n\nRUN cd ${JMETER_PATH} && \\\n    curl -f -o jmeter-json.zip https://jmeter-plugins.org/files/packages/jpgc-json-2.7.zip && \\\n    unzip -o jmeter-json.zip\n\nEXPOSE 8080\nCOPY Gemfile Gemfile.lock ./\nRUN bundle install\nRUN mkdir plans\nCOPY plans/ plans/\nCOPY *.csv ./\n\nENV JMETER_TARGET_BASEURL=\nENV JMETER_TARGET_PLAN=\nENV JMETER_WAIT_FACTOR=\n\nCOPY add_prometheus_xml.rb ./\nCOPY run.sh ./\n\nCMD ash ./run.sh\n"
}