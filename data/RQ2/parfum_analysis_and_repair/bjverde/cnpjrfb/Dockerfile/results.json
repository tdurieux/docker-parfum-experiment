{
  "startTime": 1674248908851,
  "endTime": 1674248910389,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 135,
        "lineEnd": 135,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 101
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 56,
        "lineEnd": 58,
        "columnStart": 5,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 99
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 98,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 110,
        "lineEnd": 110,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 101
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 58,
        "columnStart": 5,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 99
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 98,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 110,
        "lineEnd": 110,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 101
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 56,
        "lineEnd": 58,
        "columnStart": 5,
        "columnEnd": 50
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 7,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 99
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 98,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 110,
        "lineEnd": 110,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 4,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 101
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 123
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 114
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 98,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 110,
        "lineEnd": 110,
        "columnStart": 4,
        "columnEnd": 70
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 4,
        "columnEnd": 58
      }
    }
  ],
  "repairedDockerfile": "# Source\n# https://hub.docker.com/_/php/\n# Docker File Source\n# https://hub.docker.com/_/debian\n\n#How to build\n#sudo docker build -f Dockerfile . -t debian10_apache_php8\n\n#How use iterative mode\n#sudo docker exec -it debian10_apache_php8:last /bin/bash\n\n#How use iterative mode image\n#sudo docker run -it debian10_apache_php8:last /bin/bash           #only bash\n#sudo docker run -p 80:80 -it debian10_apache_php8:last /bin/bash\n#sudo docker run -d -p 80:80 debian10_apache_php8:last\n\n#Stop all containers\n#sudo docker stop $(sudo docker ps -a -q)\n\n#Remove all containers\n#sudo docker rm $(sudo docker ps -a -q)\n\n#######################################\nFROM debian:10\nLABEL maintainer=\"bjverde@yahoo.com.br\"\n\nEXPOSE 80\n\nENV DEBIAN_FRONTEND noninteractive\n\n#Install update\nRUN apt-get update\nRUN apt-get upgrade -y\n\n#Install facilitators\nRUN apt-get -y --no-install-recommends install locate mlocate wget apt-utils curl apt-transport-https lsb-release \\\n             ca-certificates software-properties-common zip unzip vim rpl apt-utils sudo gnupg gnupg2 && rm -rf /var/lib/apt/lists/*;\n\n#Install PostgreSQL 13 on Debian 10\n# https://www.osradar.com/how-to-install-postgresql-13-debian-10/\n# https://codepre.com/install-postgresql-13-on-debian-10-debian-9.html\n# https://computingforgeeks.com/install-postgresql-on-debian-linux/\n#RUN wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -\n#RUN echo \"deb http://apt.postgresql.org/pub/repos/apt/ `lsb_release -cs`-pgdg main\" |sudo tee  /etc/apt/sources.list.d/pgdg.list\n#RUN apt-get update; apt-get upgrade -y\n#RUN apt-get -y install postgresql-13 postgresql-client-13 postgresql-contrib-13\n\n#Install pgAdmin 4 on Debian 10\n#RUN apt-get -y install pgadmin4  pgadmin4-apache2\n\n\n\n#Install Python 3.8 on Debian 10\n# https://tecnstuff.net/how-to-install-python-3-8-on-debian-10/\n# https://linuxize.com/post/how-to-install-python-3-8-on-debian-10/\n# https://stackoverflow.com/questions/62830862/how-to-install-python3-8-on-debian-10\nRUN apt-get -y --no-install-recommends install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev \\\n                        libssl-dev libsqlite3-dev libreadline-dev libffi-dev curl libbz2-dev \\\n                        libpq-dev lzma liblzma-dev && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR /var/opt\nRUN wget -c https://www.python.org/ftp/python/3.8.2/Python-3.8.2.tgz\nRUN tar -xf Python-3.8.2.tgz && rm Python-3.8.2.tgz\nWORKDIR /var/opt/Python-3.8.2\nRUN ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --enable-optimizations\nRUN make -j 4\nRUN make altinstall\n\n\n## ------------- Install Apache2 + PHP 8.0  x86_64 ------------------\n#Thread Safety \tdisabled\n#PHP Modules : calendar,Core,ctype,date,exif,fileinfo,filter,ftp,gettext,hash,iconv,json,libxml\n#PHP Modules : ,openssl,pcntl,pcre,PDO,Phar,posix,readline,Reflection,session,shmop,sockets,SPL,standard\n#PHP Modules : ,sysvmsg,sysvsem,sysvshm,tokenizer,Zend OPcache,zlib\n\nRUN wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg\nRUN echo \"deb https://packages.sury.org/php/ $(lsb_release -sc) main\" | tee /etc/apt/sources.list.d/php.list\n\n#Install update\nRUN apt-get update\n\n\n# Set Timezone\nRUN ln -fs /usr/share/zoneinfo/${TIMEZONE} /etc/localtime \\\n    && apt-get update \\\n    && apt-get install -y --no-install-recommends tzdata \\\n    && dpkg-reconfigure --frontend noninteractive tzdata && rm -rf /var/lib/apt/lists/*;\n\n#intall Apache + PHP\nRUN apt-get -y --no-install-recommends install apache2 libapache2-mod-php8.0 php8.0 php8.0-cli php8.0-common php8.0-opcache && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install CURl\nRUN apt-get -y --no-install-recommends install curl php8.0-curl && rm -rf /var/lib/apt/lists/*;\n\n#PHP Intall DOM, Json, XML e Zip\nRUN apt-get -y --no-install-recommends install php8.0-dom php8.0-xml php8.0-zip php8.0-soap php8.0-intl php8.0-xsl && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install MbString\nRUN apt-get -y --no-install-recommends install php8.0-mbstring && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install GD\nRUN apt-get -y --no-install-recommends install php8.0-gd && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install PDO SqLite\nRUN apt-get -y --no-install-recommends install php8.0-pdo php8.0-pdo-sqlite php8.0-sqlite3 && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install PDO MySQL\nRUN apt-get -y --no-install-recommends install php8.0-pdo php8.0-pdo-mysql php8.0-mysql && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install PDO PostGress\nRUN apt-get -y --no-install-recommends install php8.0-pdo php8.0-pgsql && rm -rf /var/lib/apt/lists/*;\n\n## -------- Config Apache ----------------\nRUN a2dismod mpm_event\nRUN a2dismod mpm_worker\nRUN a2enmod  mpm_prefork\nRUN a2enmod  rewrite\nRUN a2enmod  php8.0\n\n# Enable .htaccess reading\nRUN LANG=\"en_US.UTF-8\" rpl \"AllowOverride None\" \"AllowOverride All\" /etc/apache2/apache2.conf\n\n## ------------- LDAP ------------------\n#PHP Install LDAP\nRUN apt-get -y --no-install-recommends install php8.0-ldap && rm -rf /var/lib/apt/lists/*;\n\n#Apache2 enebla LDAP\nRUN a2enmod authnz_ldap\nRUN a2enmod ldap\n\n## ------------- Add-ons ------------------\n#Install GIT\nRUN apt-get -y --no-install-recommends install -y git-core && rm -rf /var/lib/apt/lists/*;\n\n#PHP Install Composer\nRUN curl -f -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n\n#PHP Install PHPUnit\n#https://phpunit.de/announcements/phpunit-9.html\nRUN wget -O /usr/local/bin/phpunit-9.phar https://phar.phpunit.de/phpunit-9.phar; chmod +x /usr/local/bin/phpunit-9.phar; \\\nln -s /usr/local/bin/phpunit-9.phar /usr/local/bin/phpunit\n\n## ------------- Finishing ------------------\nRUN apt-get clean\nRUN apt-get autoremove -y\n\n#Creating index of files\nRUN updatedb\n\nEXPOSE 80\nCMD apachectl -D FOREGROUND"
}