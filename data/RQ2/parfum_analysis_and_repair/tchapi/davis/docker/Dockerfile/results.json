{
  "startTime": 1674251108341,
  "endTime": 1674251109352,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 46
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM php:8.1-fpm\n\nLABEL org.opencontainers.image.authors=\"tchap@tchap.me\"\n\n# Run update, and gets basic packages\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n        curl \\\n        unzip \\\n        # These are for IMAP\n        libc-client-dev libkrb5-dev \\\n        # This one if for LDAP\n        libldap2-dev \\\n        # This one if for GD (map image in mail)\n        libpng-dev libjpeg-dev libfreetype6-dev \\\n        # There are for php-intl\n        zlib1g-dev libicu-dev g++ \\\n    && apt-get clean && rm -rf /var/lib/apt/lists/*\n\n# Configure PHP extensions\nRUN docker-php-ext-configure pdo_mysql --with-pdo-mysql=mysqlnd \\\n    && docker-php-ext-install pdo_mysql\n\nRUN docker-php-ext-configure ldap \\\n    && docker-php-ext-install ldap\n\nRUN docker-php-ext-configure imap --with-kerberos --with-imap-ssl \\\n    && docker-php-ext-install imap\n\nRUN docker-php-ext-configure gd --with-freetype \\\n    && docker-php-ext-install gd\n\nRUN docker-php-ext-install intl \\\n    && docker-php-source delete\n\n# Set timezone correctly\nRUN echo 'date.timezone = \"Europe/Paris\"' > /usr/local/etc/php/conf.d/timezone.ini\n\n# Davis installation\nADD . /var/www/davis\nWORKDIR /var/www/davis\n\n# Install Composer 2, then dependencies\nRUN curl -f -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\nRUN APP_ENV=prod composer install --no-ansi --no-dev --no-interaction --no-progress --optimize-autoloader\n\nRUN chown -R www-data:www-data var\n"
}