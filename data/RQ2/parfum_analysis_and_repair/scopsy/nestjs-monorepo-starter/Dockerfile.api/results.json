{
  "startTime": 1674252383138,
  "endTime": 1674252384822,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM node:11\nENV NODE_ENV=prod\n\nWORKDIR /usr/src/app\n\nRUN npm i lerna -g --loglevel notice && npm cache clean --force;\nRUN npm i yarn -g --loglevel notice && npm cache clean --force;\nRUN npm i pm2 -g && npm cache clean --force;\n\nCOPY package.json .\nRUN yarn install && yarn cache clean;\n\nCOPY packages/api ./packages/api\nCOPY packages/core ./packages/core\nCOPY packages/shared ./packages/shared\n\nCOPY lerna.json .\nCOPY tsconfig.json .\nCOPY tsconfig.base.json .\nCOPY tslint.json .\n\nWORKDIR /usr/src/app/packages/api\n\nWORKDIR /usr/src/app\nRUN yarn bootstrap\nRUN yarn build\n\nWORKDIR /usr/src/app/packages/api\n\nRUN cp src/.env.production dist/src/.env.production\nRUN cp src/.env.ci dist/src/.env.ci\nRUN cp src/.env.development dist/src/.env.development\n\nCMD [ \"pm2-runtime\", \"dist/src/main.js\" ]\n"
}