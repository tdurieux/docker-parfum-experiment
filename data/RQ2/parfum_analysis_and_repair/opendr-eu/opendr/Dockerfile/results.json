{
  "startTime": 1674255202504,
  "endTime": 1674255203460,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 62
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 86
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:20.04\n\nARG branch\n\n# Install dependencies\nRUN apt-get update && \\\n    apt-get --yes --no-install-recommends install git sudo && rm -rf /var/lib/apt/lists/*;\nRUN DEBIAN_FRONTEND=\"noninteractive\" apt-get --no-install-recommends -y install tzdata && rm -rf /var/lib/apt/lists/*;\n\n# Add Tini\nENV TINI_VERSION v0.19.0\nADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini /tini\nRUN chmod +x /tini\nENTRYPOINT [\"/tini\", \"--\"]\n\n# Clone the repo and install the toolkit\nRUN git clone --depth 1 --recurse-submodules -j8 https://github.com/opendr-eu/opendr -b $branch\nWORKDIR \"/opendr\"\nRUN ./bin/install.sh\n\n# Create script for starting Jupyter Notebook\nRUN /bin/bash -c \"source ./bin/activate.sh; pip3 install jupyter\"\nRUN echo \"#!/bin/bash\\n source ./bin/activate.sh\\n ./venv/bin/jupyter notebook --port=8888 --no-browser --ip 0.0.0.0 --allow-root\" > start.sh\nRUN chmod +x start.sh\n\n# Start Jupyter Notebook inside OpenDR\nCMD [\"./start.sh\"]\n"
}