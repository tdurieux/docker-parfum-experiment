{
  "startTime": 1674248090153,
  "endTime": 1674248091449,
  "originalSmells": [
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 18,
        "columnStart": 22,
        "columnEnd": 108
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:21.10\n\nENV DEBIAN_FRONTEND noninteractive\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n  ca-certificates fonts-liberation \\\n  git fontconfig fontconfig-config fonts-dejavu-core gconf-service gconf2-common \\\n  libasn1-8-heimdal libasound2 libasound2-data libatk1.0-0 libatk1.0-data libavahi-client3 libavahi-common-data \\\n  libavahi-common3 libcairo2 libcups2 libdatrie1 libdbus-1-3 libdbus-glib-1-2 libexpat1 libfontconfig1 \\\n  libfreetype6 libgconf-2-4 libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-common libgmp10 \\\n  libgnutls30 libgraphite2-3 libgssapi-krb5-2 libgssapi3-heimdal libgtk2.0-0 \\\n  libgtk2.0-common libharfbuzz0b libhcrypto4-heimdal libheimbase1-heimdal libheimntlm0-heimdal \\\n  libhx509-5-heimdal libjbig0 libk5crypto3 libkeyutils1 \\\n  libkrb5-26-heimdal libkrb5-3 libkrb5support0 libnspr4 libnss3 \\\n  libp11-kit0 libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0 libpixman-1-0 libpng16-16 libroken18-heimdal \\\n  libsasl2-2 libsasl2-modules-db libsqlite3-0 libtasn1-6 libthai-data libthai0 libtiff5 libwind0-heimdal libx11-6 \\\n  libx11-data libxau6 libxcb-render0 libxcb-shm0 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxdmcp6 \\\n  libxext6 libxfixes3 libxi6 libxinerama1 libxml2 libxrandr2 libxrender1 libxss1 libxtst6 shared-mime-info ucf \\\n  x11-common xdg-utils libpulse0 pulseaudio-utils wget libatk-bridge2.0-0 libatspi2.0-0 libgtk-3-0 \\\n  mesa-va-drivers mesa-vdpau-drivers mesa-utils libosmesa6 libegl1-mesa libwayland-egl1-mesa libgl1-mesa-dri && rm -rf /var/lib/apt/lists/*;\n\n#RUN apt-get update\n#RUN apt-get install --yes python-setuptools python-dev curl \\\n    #    chromium-browser xvfb python3-pip sudo\n# RUN apt-get install --yes software-properties-common \\\n#     python-setuptools python-dev build-essential apt-transport-https curl \\\n#     chromium-browser firefox curl xvfb python3-pip sudo mc net-tools htop \\\n#     less lsof\n#RUN apt-get update\n\n#RUN easy_install pip\n#RUN pip3 install flask httpie\n# RUN pip3 install -r /brotab/requirements.txt\n#RUN cd /brotab && pip3 install -e .\n\n#ADD xvfb-chromium /usr/bin/xvfb-chromium\n\nADD deb/google-chrome-stable_current_amd64.deb /tmp/chrome.deb\nRUN echo \"Installing chrome\" && dpkg -i /tmp/chrome.deb\n\n#RUN adduser --disabled-password --gecos '' user\nWORKDIR /brotab\n\n# Build:\n# docker build -t brotab-integration -f Dockerfile.integration .\n# Run:\n# xhost +local:docker\n#\n# docker run --rm --privileged -v \"$(pwd):/brotab\" -p 10222:9222 -e DISPLAY=unix$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev:/dev -v /run:/run -v /etc/machine-id:/etc/machine-id --ipc=host --device /dev/dri --group-add video brotab-integration\n# docker run -it --rm -v \"$(pwd):/brotab\" -p 10222:9222 -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix brotab\n\nRUN /bin/bash\n#RUN /usr/bin/google-chrome --no-sandbox --no-first-run --disable-gpu --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0\n\n\n\n# xvfb-run chromium-browser --no-sandbox --no-first-run --disable-gpu --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0 --load-extension=/brotab/brotab/firefox_extension\n# curl localhost:9222/json/list\n# python3 -m http.server\n\n# cd /brotab && pip3 install -e . && cd /brotab/brotab/firefox_mediator && make install\n# chromium-browser --headless --no-sandbox --no-first-run --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0 --load-extension=/brotab/brotab/firefox_extension\n# cat ~/.config/chromium/NativeMessagingHosts/brotab_mediator.json\n# py.test brotab/tests/test_integration.py -s\n\n# How to run integration tests:\n# pip3 install -e .\n# bt install --tests\n# py.test brotab/tests/test_integration.py -s\n# py.test brotab/tests/test_integration.py -k test_active_tabs -s\n# pkill python3; pkill xvfb-run; pkill node; pkill Xvfb; pkill firefox\n\n# docker run -it --rm -v \"$(pwd):/brotab\" -p 127.0.0.1:10222:9222 brotab\n# docker run -it --rm -v \"$(pwd):/brotab\" -p 10222:9222 brotab\n\n# run this on host to be able to view chromimum GUI:\n# xhost local:docker\n# xhost local:root\n\n# docker run -ti --rm -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix firefox\n# docker run -it --rm -v \"$(pwd):/brotab\" -p 10222:9222 -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix brotab\n# xvfb-run chromium-browser --no-sandbox --no-first-run --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0 --load-extension=/brotab/brotab/firefox_extension\n# xvfb-run chromium-browser --no-sandbox --no-first-run --disable-gpu --load-extension=/brotab/brotab/extension/chrome\n\n# cd /brotab/brotab/firefox_extension\n# web-ext run\n\n# test list tabs:\n# curl 'http://localhost:4625/list_tabs'\n\n# EXPOSE 10222:9222\n#EXPOSE 10222\n# EXPOSE 8000\n\n#RUN /bin/bash\n\n\n\n\n\n\n\n\n\n\n\n\n#   FROM ubuntu:16.04\n#\n#   ENV DEBIAN_FRONTEND noninteractive\n#\n#   RUN apt-get update\n#   RUN apt-get install --yes software-properties-common python-software-properties \\\n#       python-setuptools python-dev build-essential apt-transport-https curl \\\n#       chromium-browser firefox curl xvfb python3-pip sudo mc net-tools htop \\\n#       less lsof\n#   #RUN add-apt-repository ppa:chromium-daily/stable\n#   RUN curl -sL https://deb.nodesource.com/setup_8.x | bash -\n#   RUN apt-get update\n#   #RUN apt-get install --yes chromium-browser firefox curl xvfb python3-pip sudo mc net-tools htop less\n#   # RUN apt-get install --yes xvfb\n#   # This will install latest Firefox\n#   #RUN apt-get upgrade\n#\n#   #RUN curl -sSL https://deb.nodesource.com/gpgkey/nodesource.gpg.key | sudo apt-key add -\n#   #RUN echo \"deb https://deb.nodesource.com/node_8.x xenial main\" | sudo tee /etc/apt/sources.list.d/nodesource.list\n#   #RUN echo \"deb-src https://deb.nodesource.com/node_8.x xenial main\" | sudo tee -a /etc/apt/sources.list.d/nodesource.list\n#\n#   RUN apt-get install --yes nodejs\n#\n#   # RUN mkdir /root/.npm-global\n#   # ENV PATH=/root/.npm-global/bin:$PATH\n#   # ENV NPM_CONFIG_PREFIX=/root/.npm-global\n#\n#   RUN npm install --global web-ext --unsafe\n#\n#   RUN easy_install pip\n#   RUN pip3 install flask httpie\n#   # RUN pip3 install -r /brotab/requirements.txt\n#   #RUN cd /brotab && pip3 install -e .\n#\n#   ADD xvfb-chromium /usr/bin/xvfb-chromium\n#   # RUN ln -s /usr/bin/xvfb-chromium /usr/bin/google-chrome\n#   # RUN ln -s /usr/bin/xvfb-chromium /usr/bin/chromium-browser\n#\n#   # RUN useradd --create-home --shell /bin/bash user\n#   RUN adduser --disabled-password --gecos '' user\n#   # USER user\n#   #WORKDIR /home/user\n#   WORKDIR /brotab\n#\n#   # xvfb-run chromium-browser --no-sandbox --no-first-run --disable-gpu --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0 --load-extension=/brotab/brotab/firefox_extension\n#   # curl localhost:9222/json/list\n#   # python3 -m http.server\n#\n#   # cd /brotab && pip3 install -e . && cd /brotab/brotab/firefox_mediator && make install\n#   # chromium-browser --headless --no-sandbox --no-first-run --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0 --load-extension=/brotab/brotab/firefox_extension\n#   # cat ~/.config/chromium/NativeMessagingHosts/brotab_mediator.json\n#   # py.test brotab/tests/test_integration.py -s\n#\n#   # How to run integration tests:\n#   # pip3 install -e .\n#   # bt install --tests\n#   # py.test brotab/tests/test_integration.py -s\n#   # py.test brotab/tests/test_integration.py -k test_active_tabs -s\n#   # pkill python3; pkill xvfb-run; pkill node; pkill Xvfb; pkill firefox\n#\n#   # docker run -it --rm -v \"$(pwd):/brotab\" -p 127.0.0.1:10222:9222 brotab\n#   # docker run -it --rm -v \"$(pwd):/brotab\" -p 10222:9222 brotab\n#\n#   # run this on host to be able to view chromimum GUI:\n#   # xhost local:docker\n#   # xhost local:root\n#\n#   # docker run -ti --rm -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix firefox\n#   # docker run -it --rm -v \"$(pwd):/brotab\" -p 10222:9222 -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix brotab\n#   # xvfb-run chromium-browser --no-sandbox --no-first-run --remote-debugging-port=10222 --remote-debugging-address=0.0.0.0 --load-extension=/brotab/brotab/firefox_extension\n#   # xvfb-run chromium-browser --no-sandbox --no-first-run --disable-gpu --load-extension=/brotab/brotab/extension/chrome\n#\n#   # cd /brotab/brotab/firefox_extension\n#   # web-ext run\n#\n#   # test list tabs:\n#   # curl 'http://localhost:4625/list_tabs'\n#\n#   # EXPOSE 10222:9222\n#   #EXPOSE 10222\n#   # EXPOSE 8000\n#\n#   RUN /bin/bash\n#\n"
}