{
  "startTime": 1674216309547,
  "endTime": 1674216311197,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 27,
        "columnEnd": 59
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 45,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 35,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 22,
        "columnEnd": 74
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 66
      }
    }
  ],
  "repairedDockerfile": "FROM node:lts\n###\n#  QCObjects  1.0\n#  ________________\n#\n#  Author: Jean Machuca <correojean@gmail.com>\n#\n#  Cross Browser Javascript Framework for MVC Patterns\n#  QuickCorp/QCObjects is licensed under the\n#  GNU Lesser General Public License v3.0\n#  [LICENSE] (https://github.com/QuickCorp/QCObjects/blob/master/LICENSE.txt)\n#\n#  Permissions of this copyleft license are conditioned on making available\n#  complete source code of licensed works and modifications under the same\n#  license or the GNU GPLv3. Copyright and license notices must be preserved.\n#  Contributors provide an express grant of patent rights. However, a larger\n#  work using the licensed work through interfaces provided by the licensed\n#  work may be distributed under different terms and without source code for\n#  the larger work.\n#\n#  Copyright (C) 2015 Jean Machuca,<correojean@gmail.com>\n#\n#  Everyone is permitted to copy and distribute verbatim copies of this\n#  license document, but changing it is not allowed.\n###\n\nLABEL org.quickcorp.qcobjects.cli.version=\"0.0.4\"\nLABEL vendor1=\"QuickCorp\"\nLABEL vendor2=\"QCObjects\"\nLABEL org.quickcorp.qcobjects.release-date=\"2019-06-01\"\nLABEL org.quickcorp.qcobjects.version.is-production=\"\"\n\n# Install Openssl\nUSER root\nRUN apt-get update && \\\n    DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n      openssl \\\n    && apt-get clean && rm -rf /var/lib/apt/lists/*;\n# End Install Openssl\n\n# Installation of certbot\nUSER root\nRUN apt-get update && apt-get install -y --no-install-recommends apt-utils && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install software-properties-common && rm -rf /var/lib/apt/lists/*;\nRUN sed -i \"/^# deb.*universe/ s/^# //\" /etc/apt/sources.list\nRUN add-apt-repository ppa:certbot/certbot\nRUN apt-get -y --no-install-recommends install certbot && rm -rf /var/lib/apt/lists/*;\n# End Installation of certbot\n\n\nRUN npm install -g jasmine --only=production && npm cache clean --force;\nRUN npm install -g qcobjects-sdk --only=production && npm cache clean --force;\nRUN npm install -g qcobjects-cli --only=production && npm cache clean --force;\n\n# QCObjects Service\nRUN apt-get -y --no-install-recommends install --reinstall systemd && rm -rf /var/lib/apt/lists/*;\nCOPY bin/install/ubuntu18/etc/systemd/system/qcobjects.service /etc/systemd/system/qcobjects.service\n# End QCObjects Service\n\nRUN mkdir -p /etc/letsencrypt/live/\nRUN mkdir -p /etc/letsencrypt/live/mynewapp.qcobjects.com/\nRUN chmod 775 /etc/letsencrypt/live/\nRUN chmod 777 /etc/letsencrypt/live/mynewapp.qcobjects.com/\n\nRUN groupadd -r qcobjects && useradd -r -s /bin/bash -g qcobjects qcobjects\nRUN mkdir -p /home/qcobjects && chown -R qcobjects:qcobjects /home/qcobjects\n\nRUN mkdir -p /etc/qcobjects/\nRUN mkdir -p /home/qcobjects/projects/mynewapp/\nRUN chmod +w /home/qcobjects/projects/mynewapp/\nCOPY bin/install/ubuntu18/etc/qcobjects/config.json.template /etc/qcobjects/config.json\nRUN ( cd /etc/qcobjects/ && npm install qcobjects-sdk --save && qcobjects-createcert) && npm cache clean --force;\nRUN ( cd /home/qcobjects/projects/mynewapp && npm install qcobjects-sdk --save) && npm cache clean --force;\nRUN (cd /home/qcobjects/projects/mynewapp && (qcobjects-createcert && echo \"\\n\" | (qcobjects create --pwa app 2>&1 >/dev/null)))\n\nRUN echo \"Welcome to... \"\nRUN echo \"\"\nRUN echo \" .d88888b.  .d8888b.  .d88888b. 888       d8b                888\"\nRUN echo \"d88P   Y88bd88P  Y88bd88P   Y88b888       Y8P                888\"\nRUN echo \"888     888888    888888     888888                          888\"\nRUN echo \"888     888888       888     88888888b.  8888 .d88b.  .d8888b888888.d8888b\"\nRUN echo \"888     888888       888     888888  88b  888d8P  Y8bd88P    888   88K\"\nRUN echo \"888 Y8b 888888    888888     888888  888  88888888888888     888    Y8888b.\"\nRUN echo \"Y88b.Y8b88PY88b  d88PY88b. .d88P888 d88P  888Y8b.    Y88b.   Y88b.      X88\"\nRUN echo \"  Y888888    Y8888P    Y88888P  88888P    888  Y8888   Y8888P  Y888 88888P\"\nRUN echo \"       Y8b                                888\"\nRUN echo \"                                         d88P\"\nRUN echo \"                                       888P\"\nRUN echo \"\"\nRUN echo \"To start, use: su - qcobjects\"\nRUN echo \"and go to the path ~/projects/mynewapp\"\nRUN echo \"\"\nRUN echo \"To create a new progressive web app type: \"\nRUN echo \"> qcobjects create mynewapp --pwa\"\nRUN echo \"\"\nRUN echo \"To create an accelerated mobile page type: \"\nRUN echo \"> qcobjects create mynewapp --amp\"\nRUN echo \"\"\nRUN echo \"The QCObjects HTTP2 Server Settings file is in: \"\nRUN echo \"/etc/qcobjects/config.json\"\nRUN echo \"\"\nRUN echo \"To check the status of the service:\"\nRUN echo \"> service qcobjects status\"\nRUN echo \"\"\nRUN echo \"To start|stop|prestart the service:\"\nRUN echo \"> service qcobjects start\"\nRUN echo \"> service qcobjects stop\"\nRUN echo \"> service qcobjects restart\"\nRUN echo \"\"\n\nWORKDIR /home/qcobjects\nUSER qcobjects\nCOPY package*.json ./\nRUN jasmine init\nRUN npm cache verify\nRUN npm ci --save --only=production\n\n# Bundle app source\nCOPY --chown=qcobjects:qcobjects . .\n\nCMD [\"qcobjects\", \"launch\", \"mynewapp\"]\n"
}