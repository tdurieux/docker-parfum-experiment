{
  "startTime": 1674253575545,
  "endTime": 1674253576557,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 5,
        "columnEnd": 83
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 5,
        "columnEnd": 93
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 5,
        "columnEnd": 97
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 192
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "gpgUseBatchFlag",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 59,
        "columnEnd": 118
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 23,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 19,
        "columnStart": 22,
        "columnEnd": 12
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 23,
        "columnEnd": 47
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 38
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 62
      }
    }
  ],
  "repairedDockerfile": "FROM node:16.3.0-buster-slim\n\nARG CHROME_PACKAGE_VERSION\n\nRUN test -n \"$CHROME_PACKAGE_VERSION\" || (echo \"\\nCHROME_PACKAGE_VERSION not set, you need to run:\\ndocker build --build-arg CHROME_PACKAGE_VERSION=xxx\\n\" && false)\n\n# Install Chrome deps\nRUN apt-get update && apt-get install -y -q --no-install-recommends \\\n        libgtk-3-dev \\\n        libx11-xcb1  \\\n        libnss3 \\\n        libxss1 \\\n        libasound2 \\\n        fonts-liberation \\\n        libappindicator3-1 \\\n        lsb-release \\\n        xdg-utils \\\n        curl \\\n        ca-certificates \\\n        wget && rm -rf /var/lib/apt/lists/*;\n\n# Download and install Chrome\n# Debian taken from https://www.ubuntuupdates.org/package/google_chrome/stable/main/base/google-chrome-stable\nRUN curl --silent --show-error --fail https://dl.google.com/linux/chrome/deb/pool/main/g/google-chrome-stable/google-chrome-stable_${CHROME_PACKAGE_VERSION}_amd64.deb --output google-chrome.deb \\\n    && dpkg -i google-chrome.deb \\\n    && rm google-chrome.deb\n\n\n# Install python\nRUN apt-get install -y -q --no-install-recommends python && rm -rf /var/lib/apt/lists/*;\n\n# Install pip\nRUN set -x \\\n && curl -f -OL https://bootstrap.pypa.io/pip/2.7/get-pip.py \\\n && python get-pip.py \\\n && rm get-pip.py\n\n# Install AWS cli\nRUN set -x \\\n && pip install --no-cache-dir awscli\n\n# Deploy deps\nRUN apt-get install -y -q --no-install-recommends jq && rm -rf /var/lib/apt/lists/*;\n\n# Node fsevents deps\nRUN apt-get install -y -q --no-install-recommends g++ build-essential && rm -rf /var/lib/apt/lists/*;\n\n# Datadog CI cli\nRUN yarn global add @datadog/datadog-ci\n\n# Gihub cli\nRUN curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg -o /usr/share/keyrings/githubcli-archive-keyring.gpg \\\n  && echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" > /etc/apt/sources.list.d/github-cli.list \\\n  && apt-get update && apt-get install --no-install-recommends -y -q gh && rm -rf /var/lib/apt/lists/*;\n\n# Webdriverio deps\nRUN mkdir -p /usr/share/man/man1\n\nRUN apt-get install -y -q --no-install-recommends default-jdk && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get -y --no-install-recommends install git && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get -y --no-install-recommends install procps && rm -rf /var/lib/apt/lists/*;\n\n# Woke\nRUN curl -sSfL https://git.io/getwoke | \\\n  bash -s -- -b /usr/local/bin v0.17.1\n\n# Codecov https://docs.codecov.com/docs/codecov-uploader\nRUN apt-get -y --no-install-recommends install gnupg coreutils && rm -rf /var/lib/apt/lists/*;\nRUN curl -f https://keybase.io/codecovsecurity/pgp_keys.asc | gpg --batch --no-default-keyring --keyring trustedkeys.gpg --import\nRUN CODECOV_UPLOADER_VERSION=v0.1.15 \\\n  && curl -f -Os https://uploader.codecov.io/${CODECOV_UPLOADER_VERSION}/linux/codecov \\\n  && curl -f -Os https://uploader.codecov.io/${CODECOV_UPLOADER_VERSION}/linux/codecov.SHA256SUM \\\n  && curl -f -Os https://uploader.codecov.io/${CODECOV_UPLOADER_VERSION}/linux/codecov.SHA256SUM.sig\nRUN gpgv codecov.SHA256SUM.sig codecov.SHA256SUM\nRUN shasum -a 256 -c codecov.SHA256SUM\nRUN chmod +x codecov\nRUN mv codecov /usr/local/bin\nRUN rm codecov.*\n"
}