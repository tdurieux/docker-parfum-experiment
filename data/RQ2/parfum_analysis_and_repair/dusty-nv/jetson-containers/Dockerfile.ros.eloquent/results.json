{
  "startTime": 1674218266116,
  "endTime": 1674218267290,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 123
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# this dockerfile roughly follows the 'Install ROS2 Via Debian Packages' from:\n#   https://index.ros.org/doc/ros2/Installation/Eloquent/Linux-Install-Debians/\n#\nARG BASE_IMAGE=nvcr.io/nvidia/l4t-base:r32.5.0\nFROM ${BASE_IMAGE}\n\nARG ROS_PKG=ros_base\nENV ROS_DISTRO=eloquent\nENV ROS_ROOT=/opt/ros/${ROS_DISTRO}\n\nENV DEBIAN_FRONTEND=noninteractive\nENV SHELL /bin/bash\nSHELL [\"/bin/bash\", \"-c\"]\n\nWORKDIR /tmp\n\n# change the locale from POSIX to UTF-8\nRUN locale-gen en_US en_US.UTF-8 && update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\nENV LANG=en_US.UTF-8\nENV PYTHONIOENCODING=utf-8\n\n\n#\n# add the ROS deb repo to the apt sources list\n#\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends \\\r\n          git \\\r\n\t\tcmake \\\r\n\t\tbuild-essential \\\r\n\t\tcurl \\\r\n\t\twget \\\r\n\t\tgnupg2 \\\r\n\t\tlsb-release \\\r\n\t\tca-certificates \\\r\n    && rm -rf /var/lib/apt/lists/* \\\r\n    && apt-get clean\n\nRUN curl -f -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\nRUN echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(lsb_release -cs) main\" | tee /etc/apt/sources.list.d/ros2.list > /dev/null\n\n\n#\n# install ROS packages\n#\nRUN apt-get update && \\\r\n    apt-get install -y --no-install-recommends \\\r\n\t\tros-eloquent-`echo \"${ROS_PKG}\" | tr '_' '-'` \\\r\n\t\tros-eloquent-launch-xml \\\r\n\t\tros-eloquent-launch-yaml \\\r\n\t\tros-eloquent-launch-testing \\\r\n\t\tros-eloquent-launch-testing-ament-cmake \\\r\n\t\tros-eloquent-camera-calibration-parsers \\\r\n\t\tros-eloquent-camera-info-manager \\\r\n\t\tros-eloquent-cv-bridge \\\r\n\t\tros-eloquent-v4l2-camera \\\r\n\t\tros-eloquent-vision-msgs \\\r\n\t\tros-eloquent-vision-opencv \\\r\n\t\tros-eloquent-image-transport \\\r\n\t\tros-eloquent-image-tools \\\r\n\t\tros-eloquent-image-geometry \\\r\n\t\tros-eloquent-gazebo-ros \\\r\n\t\tros-eloquent-gazebo-msgs \\\r\n\t\tros-eloquent-gazebo-ros-pkgs \\\r\n\t\tros-eloquent-gazebo-plugins \\\r\n\t\tlibpython3-dev \\\r\n\t\tpython3-colcon-common-extensions \\\r\n\t\tpython3-rosdep \\\r\n\t\tlibgazebo9-dev \\\r\n\t\tgazebo9 \\\r\n\t\tgazebo9-common \\\r\n\t\tgazebo9-plugin-base \\\r\n    && rm -rf /var/lib/apt/lists/* \\\r\n    && apt-get clean\n\n\n#\n# init/update rosdep\n#\nRUN apt-get update && \\\r\n    cd ${ROS_ROOT} && \\\r\n    rosdep init && \\\r\n    rosdep update && \\\r\n    rm -rf /var/lib/apt/lists/*\n\n\n#\n# compile yaml-cpp-0.6, which some ROS packages may use (but is not in the 18.04 apt repo)\n#\nRUN git clone --branch yaml-cpp-0.6.0 https://github.com/jbeder/yaml-cpp yaml-cpp-0.6 && \\\r\n    cd yaml-cpp-0.6 && \\\r\n    mkdir build && \\\r\n    cd build && \\\r\n    cmake -DBUILD_SHARED_LIBS=ON .. && \\\r\n    make -j$(nproc) && \\\r\n    cp libyaml-cpp.so.0.6.0 /usr/lib/aarch64-linux-gnu/ && \\\r\n    ln -s /usr/lib/aarch64-linux-gnu/libyaml-cpp.so.0.6.0 /usr/lib/aarch64-linux-gnu/libyaml-cpp.so.0.6\n\n\n#\n# setup entrypoint\n#\nCOPY ./packages/ros_entrypoint.sh /ros_entrypoint.sh\nRUN echo 'source /opt/ros/${ROS_DISTRO}/setup.bash' >> /root/.bashrc\nENTRYPOINT [\"/ros_entrypoint.sh\"]\nCMD [\"bash\"]\nWORKDIR /\n"
}