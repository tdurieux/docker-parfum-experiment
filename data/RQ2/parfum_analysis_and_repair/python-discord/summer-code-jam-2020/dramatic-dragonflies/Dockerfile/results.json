{
  "startTime": 1674250619905,
  "endTime": 1674250620510,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 7,
        "columnEnd": 37
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 9,
        "columnStart": 7,
        "columnEnd": 8
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 48,
        "columnStart": 7,
        "columnEnd": 7
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 9,
        "columnStart": 7,
        "columnEnd": 8
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM i386/debian:buster AS builder\n\nRUN apt-get -y update \\\n    && apt-get install --no-install-recommends -y \\\n    gcc \\\n    git \\\n    libcap-dev \\\n    make \\\n    linux-headers-686 \\\n    wget && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR /minijail\nRUN git clone                                    \\\n    --single-branch                          \\\n    --depth 1                                \\\n    https://github.com/google/minijail.git . \\\n    && make LIBDIR=/lib64\n\n\n\nFROM i386/python:3.8-buster\n\nSTOPSIGNAL SIGQUIT\nENV PIP_NO_CACHE_DIR=false \\\n    PIPENV_HIDE_EMOJIS=1   \\\n    PIPENV_NOSPIN=1\n\nENTRYPOINT [\"python\"]\nCMD [\"manage.py\", \"run\"]\n\nCOPY --from=builder /minijail/libminijail.so /minijail/libminijailpreload.so /lib64/\nCOPY --from=builder /minijail/minijail0 /usr/bin/\nCOPY rom.tar.gz /\n\nRUN tar -xzf /rom.tar.gz && rm /rom.tar.gz\n\nRUN pip install --no-cache-dir -U pipenv\n\nWORKDIR /app\nCOPY Pipfile*  ./\nRUN mkdir -p ../build/\nCOPY package.json package-lock.json ../build/\nRUN pipenv install --system --deploy\n\nRUN apt-get -y update \\\n    && apt-get install --no-install-recommends -y \\\n    npm=5.8.* \\\n    #vim just for testing the terminal, we should remove it later\n    vim \\\n    && rm -rf /var/lib/apt/lists/* \\\n    && npm install --prefix ../build/ \\\n    && apt-get --purge -y autoremove npm && npm cache clean --force;\nCOPY tools/process_watch.c ./\nRUN  gcc -o ../build/process_watch process_watch.c -O3 -Wall -Wextra -lutil\nCOPY . .\n"
}