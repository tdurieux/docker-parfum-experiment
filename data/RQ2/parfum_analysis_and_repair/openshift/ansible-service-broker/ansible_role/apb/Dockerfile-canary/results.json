{
  "startTime": 1674221210721,
  "endTime": 1674221211483,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 39
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ansibleplaybookbundle/apb-base:canary\n\nLABEL \"com.redhat.apb.spec\"=\\\n\"LS0tCgp2ZXJzaW9uOiAxLjAuMApuYW1lOiBhdXRvbWF0aW9uLWJyb2tlci1hcGIKZGVzY3JpcHRp\\\nb246IE1hbmFnZSBhdXRvbWF0aW9uIGJyb2tlcgpiaW5kYWJsZTogIkZhbHNlIgphc3luYzogb3B0\\\naW9uYWwKdGFnczoKICAtIGJyb2tlcgogIC0gc2VydmljZS1jYXRhbG9nCm1ldGFkYXRhOgogIGRv\\\nY3VtZW50YXRpb25Vcmw6IGh0dHA6Ly9hdXRvbWF0aW9uYnJva2VyLmlvCiAgbG9uZ0Rlc2NyaXB0\\\naW9uOgogICAgV0FSTklORyEhISBVc2Ugb2YgdGhpcyBBUEIgdGhyb3VnaCB0aGUgc2VydmljZS1j\\\nYXRhbG9nIGlzCiAgICBub3Qgc3VwcG9ydGVkLgogIGRlcGVuZGVuY2llczoKICAgIC0gJ2RvY2tl\\\nci5pby9hbnNpYmxlcGxheWJvb2tidW5kbGUvb3JpZ2luLWFuc2libGUtc2VydmljZS1icm9rZXIn\\\nCiAgZGlzcGxheU5hbWU6IEF1dG9tYXRpb24gQnJva2VyIChBUEIpCiAgcHJvdmlkZXJEaXNwbGF5\\\nTmFtZTogIlJlZCBIYXQsIEluYy4iCnBsYW5zOgogIC0gbmFtZTogbWFpbgogICAgZGVzY3JpcHRp\\\nb246IE1hbmFnZSB0aGUgYXV0b21hdGlvbiBicm9rZXIgaW4gYSBjbHVzdGVyCiAgICBmcmVlOiAi\\\nVHJ1ZSIKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogRGVmYXVsdAogICAgICBjb3N0\\\nOiAkMC4wMAogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBicm9rZXJfbmFtZQogICAgICAg\\\nIGRlZmF1bHQ6IGF1dG9tYXRpb24tYnJva2VyCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAg\\\nZGVzY3JpcHRpb246IE5hbWUgb2YgdGhlIGJyb2tlcgogICAgICAgIHRpdGxlOiBCcm9rZXIgTmFt\\\nZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFtZTogYnJva2VyX2tpbmQKICAgICAg\\\nICBkZWZhdWx0OiBTZXJ2aWNlQnJva2VyCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVz\\\nY3JpcHRpb246IEtpbmQgb2YgdGhlIGJyb2tlcgogICAgICAgIHRpdGxlOiBCcm9rZXIgS2luZAog\\\nICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFtZTogYnJva2VyX3JlZ2lzdHJ5X3R5cGUK\\\nICAgICAgICBkZWZhdWx0OiBkb2NrZXJodWIKICAgICAgICBlbnVtOgogICAgICAgICAgLSByaGNj\\\nCiAgICAgICAgICAtIG9wZW5zaGlmdAogICAgICAgICAgLSBsb2NhbF9vcGVuc2hpZnQKICAgICAg\\\nICAgIC0gcGFydG5lcl9yaGNjCiAgICAgICAgICAtIGRvY2tlcmh1YgogICAgICAgICAgLSBxdWF5\\\nCiAgICAgICAgICAtIGFwaXYyCiAgICAgICAgICAtIGhlbG0KICAgICAgICAgIC0gZ2FsYXh5CiAg\\\nICAgICAgdHlwZTogZW51bQogICAgICAgIGRlc2NyaXB0aW9uOiBUeXBlIG9mIGJyb2tlcidzIHJl\\\nZ2lzdHJ5CiAgICAgICAgdGl0bGU6IFJlZ2lzdHJ5IFR5cGUKICAgICAgICByZXF1aXJlZDogdHJ1\\\nZQogICAgICAgIHVwZGF0YWJsZTogZmFsc2UKICAgICAgLSBuYW1lOiBicm9rZXJfcmVnaXN0cnlf\\\nbmFtZQogICAgICAgIGRlZmF1bHQ6IGRoCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVz\\\nY3JpcHRpb246IE5hbWUgb2YgYnJva2VyJ3MgcmVnaXN0cnkKICAgICAgICB0aXRsZTogUmVnaXN0\\\ncnkgTmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdXBkYXRhYmxlOiBmYWxzZQog\\\nICAgICAtIG5hbWU6IGJyb2tlcl9yZWdpc3RyeV91c2VyCiAgICAgICAgZGVmYXVsdDogJycKICAg\\\nICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZXNjcmlwdGlvbjogKElmIGF1dGhlbnRpY2F0ZWQp\\\nIFVzZXIgbmFtZSBvZiBicm9rZXIncyByZWdpc3RyeQogICAgICAgIHRpdGxlOiBSZWdpc3RyeSBV\\\nc2VyCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICAgICAgdXBkYXRhYmxlOiBmYWxzZQogICAg\\\nICAtIG5hbWU6IGJyb2tlcl9yZWdpc3RyeV9wYXNzCiAgICAgICAgZGVmYXVsdDogJycKICAgICAg\\\nICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X3R5cGU6IHBhc3N3b3JkCiAgICAgICAgZGVz\\\nY3JpcHRpb246IChJZiBhdXRoZW50aWNhdGVkKSBVc2VyIHBhc3N3b3JkIG9mIGJyb2tlcidzIHJl\\\nZ2lzdHJ5CiAgICAgICAgdGl0bGU6IFJlZ2lzdHJ5IFBhc3MKICAgICAgICByZXF1aXJlZDogZmFs\\\nc2UKICAgICAgICB1cGRhdGFibGU6IGZhbHNlCiAgICAgIC0gbmFtZTogYnJva2VyX3JlZ2lzdHJ5\\\nX3VybAogICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVz\\\nY3JpcHRpb246IFVybCBvZiBicm9rZXIncyByZWdpc3RyeQogICAgICAgIHRpdGxlOiBSZWdpc3Ry\\\neSBVUkwKICAgICAgICByZXF1aXJlZDogZmFsc2UKICAgICAgICB1cGRhdGFibGU6IGZhbHNlCiAg\\\nICAgIC0gbmFtZTogYnJva2VyX3JlZ2lzdHJ5X3NraXBfdmVyaWZ5X3RscwogICAgICAgIGRlZmF1\\\nbHQ6IGZhbHNlCiAgICAgICAgdHlwZTogYm9vbGVhbgogICAgICAgIGRlc2NyaXB0aW9uOiBTa2lw\\\nIHZlcmlmeSBUTFMKICAgICAgICB0aXRsZTogUmVnaXN0cnkgc2tpcF92ZXJpZnlfdGxzCiAgICAg\\\nICAgcmVxdWlyZWQ6IGZhbHNlCiAgICAgICAgdXBkYXRhYmxlOiBmYWxzZQogICAgICAtIG5hbWU6\\\nIGJyb2tlcl9yZWdpc3RyeV9vcmcKICAgICAgICBkZWZhdWx0OiAnYW5zaWJsZXBsYXlib29rYnVu\\\nZGxlJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlc2NyaXB0aW9uOiBPcmdhbml6YXRp\\\nb24gb2YgYnJva2VyJ3MgcmVnaXN0cnkKICAgICAgICB0aXRsZTogUmVnaXN0cnkgT3JnCiAgICAg\\\nICAgcmVxdWlyZWQ6IGZhbHNlCiAgICAgICAgdXBkYXRhYmxlOiBmYWxzZQogICAgICAtIG5hbWU6\\\nIGJyb2tlcl9yZWdpc3RyeV9uYW1lc3BhY2UKICAgICAgICBkZWZhdWx0OiAnJwogICAgICAgIHR5\\\ncGU6IHN0cmluZwogICAgICAgIGRlc2NyaXB0aW9uOiAoSWYgbG9jYWxfb3BlbnNoaWZ0KSBOYW1l\\\nc3BhY2UgdG8gY2hlY2sgZm9yIEFQQnMKICAgICAgICB0aXRsZTogUmVnaXN0cnkgTmFtZXNwYWNl\\\ncyAoT25seSBmb3IgbG9jYWxfb3BlbnNoaWZ0KQogICAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAg\\\nICAgIHVwZGF0YWJsZTogZmFsc2UKICAgICAgLSBuYW1lOiBicm9rZXJfcmVnaXN0cnlfcnVubmVy\\\nCiAgICAgICAgZGVmYXVsdDogJycKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZXNjcmlw\\\ndGlvbjogKElmIGhlbG18Z2FsYXh5KSBydW5uZXIgaW1hZ2UgdG8gY29tcGxldGUgYWN0aW9uCiAg\\\nICAgICAgdGl0bGU6IFJlZ2lzdHJ5IFJ1bm5lciAoT25seSBmb3IgaGVsbXxnYWxheHkpCiAgICAg\\\nICAgcmVxdWlyZWQ6IGZhbHNlCiAgICAgICAgdXBkYXRhYmxlOiBmYWxzZQogICAgICAtIG5hbWU6\\\nIGJyb2tlcl9yZWdpc3RyeV90YWcKICAgICAgICBkZWZhdWx0OiAnbGF0ZXN0JwogICAgICAgIHR5\\\ncGU6IHN0cmluZwogICAgICAgIGRlc2NyaXB0aW9uOiBUYWcgb2YgYnJva2VyJ3MgcmVnaXN0cnkK\\\nICAgICAgICB0aXRsZTogUmVnaXN0cnkgVGFnCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICAg\\\nICAgdXBkYXRhYmxlOiBmYWxzZQogICAgICAtIG5hbWU6IGJyb2tlcl9yZWdpc3RyeV9pbWFnZXMK\\\nICAgICAgICBkZWZhdWx0OiAnJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlc2NyaXB0\\\naW9uOiAoSWYgYXBpdjJ8b3BlbnNoaWZ0KSBsaXN0IG9mIEFQQiBpbWFnZXMKICAgICAgICB0aXRs\\\nZTogUmVnaXN0cnkgSW1hZ2VzIChPbmx5IGZvciBhcGl2MnxvcGVuc2hpZnQpCiAgICAgICAgcmVx\\\ndWlyZWQ6IGZhbHNlCiAgICAgICAgdXBkYXRhYmxlOiBmYWxzZQo=\"\n\nARG VERSION=canary\nARG APB=canary\n\nRUN yum -y install epel-release openssl && yum clean all && rm -rf /var/cache/yum\n\n# Add our role into the ansible roles dir\nADD playbooks /opt/apb/actions\nADD . /opt/ansible/roles/automation-broker-apb\n\n# Replace the broker version and apb tag\nRUN sed -i \"s/\\(broker_image_tag:\\).*/\\1 ${VERSION}/\" \\\n    /opt/ansible/roles/automation-broker-apb/defaults/main.yml\nRUN sed -i \"s/\\(broker_dockerhub_tag:\\).*/\\1 ${APB}/\" \\\n    /opt/ansible/roles/automation-broker-apb/defaults/main.yml\n\nRUN chmod -R g=u /opt/{ansible,apb}\n\nUSER apb\n"
}