{
  "startTime": 1674221098125,
  "endTime": 1674221099420,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 32
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "### This is a generated file from Dockerfile.in ###\n#@follow_tag(registry-proxy.engineering.redhat.com/rh-osbs/openshift-golang-builder:rhel_8_golang_1.17)\nFROM registry.redhat.io/ubi8/go-toolset:1.17.7 AS builder\n\nENV BUILD_VERSION=${CI_CONTAINER_VERSION}\nENV OS_GIT_MAJOR=${CI_X_VERSION}\nENV OS_GIT_MINOR=${CI_Y_VERSION}\nENV OS_GIT_PATCH=${CI_Z_VERSION}\nENV SOURCE_GIT_COMMIT=${CI_CLUSTER_LOGGING_OPERATOR_UPSTREAM_COMMIT}\nENV SOURCE_GIT_URL=${CI_CLUSTER_LOGGING_OPERATOR_UPSTREAM_URL}\nENV REMOTE_SOURCE=${REMOTE_SOURCE:-.}\n\n\nWORKDIR /go/src/github.com/openshift/cluster-logging-operator\n\n# Copy and download Go dependencies first so they are cached before source changes.\nCOPY ${REMOTE_SOURCE}/go.mod ${REMOTE_SOURCE}/go.sum .\nRUN go mod download\n\nCOPY ${REMOTE_SOURCE}/.bingo .bingo\nCOPY ${REMOTE_SOURCE}/Makefile ./Makefile\nCOPY ${REMOTE_SOURCE}/must-gather ./must-gather\nCOPY ${REMOTE_SOURCE}/version ./version\nCOPY ${REMOTE_SOURCE}/scripts ./scripts\nCOPY ${REMOTE_SOURCE}/files ./files\nCOPY ${REMOTE_SOURCE}/bundle/manifests ./manifests\nCOPY ${REMOTE_SOURCE}/main.go .\nCOPY ${REMOTE_SOURCE}/apis ./apis\nCOPY ${REMOTE_SOURCE}/controllers ./controllers\nCOPY ${REMOTE_SOURCE}/internal ./internal\n\nUSER 0\nRUN make build\n\n\n#@follow_tag(registry-proxy.engineering.redhat.com/rh-osbs/openshift-ose-cli:v4.8)\nFROM quay.io/openshift/origin-cli:4.8 AS origincli\n\n#@follow_tag(registry.redhat.io/ubi8:latest)\nFROM registry.redhat.io/ubi8:8.5\nRUN INSTALL_PKGS=\" \\\n      openssl \\\n      rsync \\\n      file \\\n      xz \\\n      \" && \\\n    yum install -y $INSTALL_PKGS && \\\n    rpm -V $INSTALL_PKGS && \\\n    yum clean all && \\\n    mkdir /tmp/ocp-clo && \\\n    chmod og+w /tmp/ocp-clo && rm -rf /var/cache/yum\nCOPY --from=builder /go/src/github.com/openshift/cluster-logging-operator/bin/cluster-logging-operator /usr/bin/\nCOPY --from=builder /go/src/github.com/openshift/cluster-logging-operator/scripts/* /usr/bin/scripts/\nRUN mkdir -p /usr/share/logging/\nCOPY --from=builder /go/src/github.com/openshift/cluster-logging-operator/files/ /usr/share/logging/\n\nCOPY --from=builder /go/src/github.com/openshift/cluster-logging-operator/manifests /manifests\n\nCOPY --from=origincli /usr/bin/oc /usr/bin\nCOPY --from=builder /go/src/github.com/openshift/cluster-logging-operator/must-gather/collection-scripts/* /usr/bin/\n\n# this is required because the operator invokes a script as `bash scripts/cert_generation.sh`\nWORKDIR /usr/bin\nCMD [\"/usr/bin/cluster-logging-operator\"]\n\nLABEL \\\n        io.k8s.display-name=\"Cluster Logging Operator\" \\\n        io.k8s.description=\"This is a component of OpenShift Container Platform that manages the lifecycle of the Aggregated logging stack.\" \\\n        io.openshift.tags=\"openshift,logging\" \\\n        com.redhat.delivery.appregistry=\"false\" \\\n        maintainer=\"AOS Logging <aos-logging@redhat.com>\" \\\n        License=\"Apache-2.0\" \\\n        name=\"openshift-logging/cluster-logging-rhel8-operator\" \\\n        com.redhat.component=\"cluster-logging-operator-container\" \\\n        io.openshift.maintainer.product=\"OpenShift Container Platform\" \\\n        io.openshift.build.commit.id=${CI_CLUSTER_LOGGING_OPERATOR_UPSTREAM_COMMIT} \\\n        io.openshift.build.source-location=${CI_CLUSTER_LOGGING_OPERATOR_UPSTREAM_URL} \\\n        io.openshift.build.commit.url=${CI_CLUSTER_LOGGING_OPERATOR_UPSTREAM_URL}/commit/${CI_CLUSTER_LOGGING_OPERATOR_UPSTREAM_COMMIT} \\\n        version=${CI_CONTAINER_VERSION}\n\n\n"
}