{
  "startTime": 1674253348876,
  "endTime": 1674253349413,
  "originalSmells": [
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 14,
        "columnStart": 7,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BUILD_FROM=hassioaddons/debian-base:latest\n# hadolint ignore=DL3006\nFROM ${BUILD_FROM}\n\n# Install required packages\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n        bc \\\n        bluetooth \\\n        bluez \\\n        bluez-hcidump \\\n        git \\\n        mosquitto-clients \\\n        procps \\\n        usbutils \\\n    && git clone --branch \"master\" --depth=1 https://github.com/andrewjfreyer/monitor.git /monitor \\\n    && cd /monitor \\\n    && git checkout origin/master -f && rm -rf /var/lib/apt/lists/*;\n\n# Copy root filesystem\nCOPY rootfs /\n\n# Configure system\nRUN install -d /opt/monitor \\\n    && touch \\\n        /monitor/.pids \\\n        /monitor/.previous_version \\\n        /opt/monitor/.public_name_cache \\\n    # link the public name cache to the config directory ... i think there's a bug in monitor.sh\n    # where it doesn't consistently reference the same path to this... sometimes it looks in\n    # $base_directory (which we have as /opt/monitor) and sometimes its in the app root (i.e. /monitor)\n    && ln -s /opt/monitor/.public_name_cache /monitor/.public_name_cache \\\n    # make things executable\n    && chmod +x /*.sh \\\n    && ln -s /monitor/monitor.sh /usr/local/bin/monitor\n\nWORKDIR /monitor\n\nHEALTHCHECK CMD [ \"/health.sh\" ]\n\n#\n# LABEL target docker image\n#\n\n# Build arguments\nARG BUILD_DATE\nARG BUILD_REF\nARG BUILD_VERSION\n\n# Labels\nLABEL \\\n    io.hass.name=\"Bluetooth Presence Monitor\" \\\n    io.hass.description=\"Passive Bluetooth presence detection of beacons, cell phones, and other Bluetooth devices.\" \\\n    io.hass.arch=\"aarch64|amd64|armhf|armv7|i386\" \\\n    io.hass.type=\"addon\" \\\n    io.hass.version=${BUILD_VERSION} \\\n    maintainer=\"Andrey Khrolenok <andrey@khrolenok.ru>\" \\\n    org.label-schema.description=\"Passive Bluetooth presence detection of beacons, cell phones, and other Bluetooth devices.\" \\\n    org.label-schema.build-date=${BUILD_DATE} \\\n    org.label-schema.name=\"Bluetooth Presence Monitor\" \\\n    org.label-schema.schema-version=\"1.0\" \\\n    org.label-schema.url=\"https://github.com/Limych/hassio-addons/tree/master/presence-monitor\" \\\n    org.label-schema.usage=\"https://github.com/Limych/hassio-addons/presence-monitor/tree/master/README.md\" \\\n    org.label-schema.vcs-ref=${BUILD_REF} \\\n    org.label-schema.vcs-url=\"https://github.com/Limych/hassio-addons/tree/master/presence-monitor\" \\\n    org.label-schema.vendor=\"Limych's Hass.io Addons\"\n"
}