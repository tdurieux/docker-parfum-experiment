{
  "startTime": 1674218439778,
  "endTime": 1674218440454,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 34,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 34,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Baremetal toolchains for testing Qbs\n#\nFROM ubuntu:focal\nLABEL Description=\"Ubuntu baremetal test environment for Qbs\"\n\n# Allow colored output on command line.\nENV TERM=xterm-color\n\n#\n# Make it possible to change UID/GID in the entrypoint script. The docker\n# container usually runs as root user on Linux hosts. When the Docker container\n# mounts a folder on the host and creates files there, those files would be\n# owned by root instead of the current user. Thus we create a user here who's\n# UID will be changed in the entrypoint script to match the UID of the current\n# host user.\n#\nARG USER_UID=1000\nARG USER_NAME=devel\nRUN apt-get update -qq && \\\n    apt-get install --no-install-recommends -qq -y \\\n        ca-certificates \\\n        gosu \\\n        sudo && \\\n    groupadd -g ${USER_UID} ${USER_NAME} && \\\n    useradd -s /bin/bash -u ${USER_UID} -g ${USER_NAME} -o -c \"\" -m ${USER_NAME} && \\\n    usermod -a -G sudo ${USER_NAME} && \\\n    echo \"%devel         ALL = (ALL) NOPASSWD: ALL\" >> /etc/sudoers && rm -rf /var/lib/apt/lists/*;\n\nCOPY docker/focal/entrypoint.sh /sbin/entrypoint.sh\nENTRYPOINT [\"/sbin/entrypoint.sh\"]\n\n# Install baremetal toolchains and Qbs runtime dependencies.\nRUN apt-get update -qq && \\\n    apt-get install --no-install-recommends -qq -y \\\n        libasan5 \\\n        libglib2.0-0 \\\n        libgssapi-krb5-2 \\\n        libgl1-mesa-glx \\\n        gcc-arm-none-eabi \\\n        gcc-avr \\\n        avr-libc \\\n        gcc-msp430 \\\n        sdcc \\\n        binutils-xtensa-lx106 \\\n        gcc-xtensa-lx106 \\\n        gcc-riscv64-unknown-elf && rm -rf /var/lib/apt/lists/*;\n\n# Work-around for QTBUG-79020.\nRUN echo \"export QT_NO_GLIB=1\" >> /etc/profile.d/qt.sh\n"
}