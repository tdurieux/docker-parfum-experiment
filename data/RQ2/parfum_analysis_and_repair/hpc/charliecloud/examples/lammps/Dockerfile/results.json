{
  "startTime": 1674219400072,
  "endTime": 1674219401790,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 78
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# ch-test-scope: full\nFROM openmpi\nWORKDIR /usr/local/src\n\n# Packages for building.\nRUN dnf install -y --setopt=install_weak_deps=false \\\n                cmake \\\n                patch \\\n                python3-devel \\\n                python3-pip \\\n                python3-setuptools \\\n && dnf clean all\n\n# Building mpi4py from source to ensure it is built against our MPI build\n# Building numpy from source to work around issues seen on Aarch64 systems\nRUN pip3 install --no-cache-dir --no-binary :all: cython==0.29.24 mpi4py==3.1.1 numpy==1.19.5\n#RUN ln -s /usr/bin/python3 /usr/bin/python\n# Build LAMMPS.\nARG LAMMPS_VERSION=29Sep2021\nRUN wget -nv https://github.com/lammps/lammps/archive/patch_${LAMMPS_VERSION}.tar.gz \\\n && tar xf patch_$LAMMPS_VERSION.tar.gz \\\n && mkdir lammps-${LAMMPS_VERSION}.build \\\n && cd lammps-${LAMMPS_VERSION}.build \\\n && cmake -DCMAKE_INSTALL_PREFIX=/usr/local \\\n          -DCMAKE_BUILD_TYPE=Release \\\n          -DBUILD_MPI=yes \\\n          -DBUILD_LIB=on \\\n          -DBUILD_SHARED_LIBS=on \\\n          -DPKG_DIPOLE=yes \\\n          -DPKG_KSPACE=yes \\\n          -DPKG_POEMS=yes \\\n          -DPKG_PYTHON=yes \\\n          -DPKG_USER-REAXC=yes \\\n          -DPKG_USER-MEAMC=yes \\\n          -DLAMMPS_MACHINE=mpi \\\n    ../lammps-patch_${LAMMPS_VERSION}/cmake \\\n && make -j $(getconf _NPROCESSORS_ONLN) install \\\n && ln -s /usr/local/src/lammps-patch_${LAMMPS_VERSION}/ /lammps \\\n && rm -f ../patch_$LAMMPS_VERSION.tar.gz\nRUN ldconfig\n\n# Patch in.melt to increase problem dimensions.\nCOPY melt.patch /lammps/examples/melt\nRUN patch -p1 -d / < /lammps/examples/melt/melt.patch\n# Patch simple.py to uncomment mpi4py calls and disable file output.\n# Patch in.simple to increase problem dimensions.\nCOPY simple.patch /lammps/python/examples\nRUN patch -p1 -d / < /lammps/python/examples/simple.patch\n"
}