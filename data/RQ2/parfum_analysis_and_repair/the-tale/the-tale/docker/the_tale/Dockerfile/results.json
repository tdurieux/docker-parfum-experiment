{
  "startTime": 1674253641251,
  "endTime": 1674253642207,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 32
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 56
      }
    }
  ],
  "repairedDockerfile": "ARG TT_BASE_IMAGE_VERSION\nARG TT_CONTAINERS_REGISTRY\n\nFROM $TT_CONTAINERS_REGISTRY/the-tale/tt-base:$TT_BASE_IMAGE_VERSION\n\nARG TT_PACKAGE=the_tale\nARG TT_USER=tt_service\nARG TT_SITE_STATIC_DIR\n\n########################################\nUSER root\nRUN apt-get install --no-install-recommends -y node-less && rm -rf /var/lib/apt/lists/*;\n\nRUN mkdir -p $TT_SITE_STATIC_DIR && \\\n    chown $TT_USER $TT_SITE_STATIC_DIR\n\nUSER $TT_USER\n########################################\n\nCOPY --chown=$TT_USER ./docker/the_tale/bin/* $HOME_BIN\n\nRUN . $TT_VENV/bin/activate && \\\n    cd $TT_REPOSITORY/src/$TT_PACKAGE && poetry install\n\nENV TT_PACKAGE=\"$TT_PACKAGE\"\n"
}