{
  "startTime": 1674252819689,
  "endTime": 1674252820477,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 226
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 177
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 226
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 177
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 30
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Copyright Â© 2018 Booz Allen Hamilton. All Rights Reserved.\n# This software package is licensed under the Booz Allen Public License. The license can be found in the License file or at http://boozallen.github.io/licenses/bapl\n\nFROM docker:dind\n\nENV JENKINS_SWARM_VERSION 3.9\nENV JNLP_SLAVE_VERSION 3.9\nENV HOME /root\nENV JAVA_HOME /usr/lib/jvm/java\n\nRUN mkdir -p /opt/jenkins-slave/bin ${HOME} && \\\n    apk add --no-cache curl openjdk8 git device-mapper openssl-dev build-base nss && \\\n    # install docker-compose\n    apk add --no-cache py-pip curl supervisor libffi-dev python-dev && \\\n    pip install --no-cache-dir docker-compose && \\\n    # set PID max to 99999\n    # bc of docker bug w/ 6 character pid\n    echo \"kernel.pid_max=99999\" >> /etc/sysctl.d/00-alpine.conf\n\n# Copy script\nCOPY jenkins-agent.sh /opt/jenkins-slave/bin/jenkins-slave\nRUN chmod 777 /opt/jenkins-slave/bin/jenkins-slave && \\\n    chmod +x /opt/jenkins-slave/bin/jenkins-slave && \\\n    # Download plugin and modify permissions\n    curl -f --create-dirs -sSLo /opt/jenkins-slave/bin/swarm-client-$JENKINS_SWARM_VERSION.jar https://repo.jenkins-ci.org/releases/org/jenkins-ci/plugins/swarm-client/$JENKINS_SWARM_VERSION/swarm-client-$JENKINS_SWARM_VERSION.jar && \\\n    curl -f --create-dirs -sSLo /opt/jenkins-slave/bin/slave.jar https://repo.jenkins-ci.org/public/org/jenkins-ci/main/remoting/$JNLP_SLAVE_VERSION/remoting-$JNLP_SLAVE_VERSION.jar\n\nCOPY supervisord.conf /etc/supervisor/conf.d/supervisord.conf\n\nENTRYPOINT [\"/bin/sh\", \"-c\"]\nCMD [\"/usr/bin/supervisord --configuration /etc/supervisor/conf.d/supervisord.conf\"]"
}