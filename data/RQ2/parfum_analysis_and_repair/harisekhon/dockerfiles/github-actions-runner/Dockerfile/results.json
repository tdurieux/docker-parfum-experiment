{
  "startTime": 1674251550788,
  "endTime": 1674251552119,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 183
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 91
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n#  Author: Hari Sekhon\n#  Date: 2021-11-05 03:37:37 +0000 (Fri, 05 Nov 2021)\n#\n#  vim:ts=4:sts=4:sw=4:et\n#\n#  https://github.com/HariSekhon/Dockerfiles\n#\n#  If you're using my code you're welcome to connect with me on LinkedIn and optionally send me feedback to help improve or steer this or other code I publish\n#\n#  https://www.linkedin.com/in/HariSekhon\n#\n\n# nosemgrep: dockerfile.audit.dockerfile-source-not-pinned.dockerfile-source-not-pinned\nFROM ubuntu:20.04\n\nARG GITHUB_ACTIONS_RUNNER_VERSION=2.284.0\n\nLABEL org.opencontainers.image.description=\"GitHub Actions Runner\" \\\n      org.opencontainers.image.version=\"$GITHUB_ACTIONS_RUNNER_VERSION\" \\\n      org.opencontainers.image.authors=\"Hari Sekhon (https://www.linkedin.com/in/HariSekhon)\" \\\n      org.opencontainers.image.url=\"https://ghcr.io/HariSekhon/github-actions-runner\" \\\n      org.opencontainers.image.documentation=\"https://hub.docker.com/r/harisekhon/github-actions-runner\" \\\n      org.opencontainers.image.source=\"https://github.com/HariSekhon/Dockerfiles\"\n\nENV PATH $PATH:/actions-runner\n\nENV DEBIAN_FRONTEND noninteractive\n\nSHELL [\"/bin/bash\", \"-euxo\", \"pipefail\", \"-c\"]\n\n# creates and cd's to this dir\nWORKDIR /actions-runner\n\n# hadolint ignore=DL3008\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends ca-certificates curl sudo && \\\n    curl -f -Lo actions-runner.tar.gz \"https://github.com/actions/runner/releases/download/v$GITHUB_ACTIONS_RUNNER_VERSION/actions-runner-linux-x64-$GITHUB_ACTIONS_RUNNER_VERSION.tar.gz\" && \\\n    tar zxvf actions-runner.tar.gz && \\\n    rm -f actions-runner.tar.gz && \\\n    useradd actions-runner && \\\n    echo \"actions-runner ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers && \\\n    bin/installdependencies.sh && \\\n    chown -R actions-runner /actions-runner && \\\n    curl -f -sS https://raw.githubusercontent.com/HariSekhon/bash-tools/master/clean_caches.sh | sh && \\\n    apt-get clean && \\\n    rm -rf /var/lib/apt/lists/*\n\n# adds nearly 500MB to the image size\n#run apt-get update && \\\n#    apt-get install -y docker.io && \\\n#    curl -sS https://raw.githubusercontent.com/HariSekhon/bash-tools/master/clean_caches.sh | sh\n\nSHELL [\"/bin/bash\"]\n\nUSER actions-runner\n\nCOPY entrypoint.sh /\n\nENTRYPOINT [\"/entrypoint.sh\"]\n"
}