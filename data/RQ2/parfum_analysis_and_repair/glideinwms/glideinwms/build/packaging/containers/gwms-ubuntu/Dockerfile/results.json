{
  "startTime": 1674248793069,
  "endTime": 1674248794339,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 85
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 18,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 18,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 121
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 121
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 18,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 121
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 54
      }
    }
  ],
  "repairedDockerfile": "# SPDX-FileCopyrightText: 2009 Fermi Research Alliance, LLC\n# SPDX-License-Identifier: Apache-2.0\n\n# Selecting Ubuntu 18:04 as the base OS, current default in GitHub (evaluate switching to 20.04)\nFROM ubuntu:18.04\nMAINTAINER The GlideinWMS team \"glideinwms-support@fnal.gov\"\nLABEL description=\"This is custom Docker Image for running GitHub actions locally\"\n\n# Install the required packages to be a runner for GitHub actions\n# https://github.com/actions/virtual-environments/blob/main/images/linux/Ubuntu1804-README.md\n\n# Update Ubuntu Software repository\nRUN apt update\n\nRUN apt install --no-install-recommends -y curl && rm -rf /var/lib/apt/lists/*;\n\n# To get the latest git (2.29.2 as of 2020-12-20), git-lfs, git-ftp\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends software-properties-common && \\\n    add-apt-repository ppa:git-core/ppa -y && \\\n    apt-get update && \\\n    apt-get install --no-install-recommends git -y; \\\n    curl -f -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash; \\\n    apt-get install -y --no-install-recommends git-lfs ; rm -rf /var/lib/apt/lists/*; \\\n    apt-get install --no-install-recommends git-ftp -y\n\n# source https://github.com/actions/virtual-environments/tree/main/images/linux/scripts/helpers (permalink)\n# defins helper functions like setEtcEnvironmentVariable()\nRUN . <(curl -s https://raw.githubusercontent.com/actions/virtual-environments/4de7f89a42529d48d04cc7a7eb85b570b709448c/images/linux/scripts/helpers/etc-environment.sh)\n\nRUN apt-get install -y --no-install-recommends python python-dev python-pip python3 python3-dev python3-pip python3-venv; rm -rf /var/lib/apt/lists/*; \\\n    export PIPX_BIN_DIR=/opt/pipx_bin; \\\n    export PIPX_HOME=/opt/pipx; \\\n    python3 -m pip install pipx; \\\n    python3 -m pipx ensurepath; \\\n    setEtcEnvironmentVariable \"PIPX_BIN_DIR\" $PIPX_BIN_DIR; \\\n    setEtcEnvironmentVariable \"PIPX_HOME\" $PIPX_HOME; \\\n    prependEtcEnvironmentPath $PIPX_BIN_DIR\n\nRUN curl -f -sL https://deb.nodesource.com/setup_14.x | bash - && \\\n    apt -y --no-install-recommends install nodejs && \\\n    apt -y --no-install-recommends install gcc g++ make && rm -rf /var/lib/apt/lists/*;\n\nRUN curl -f -sL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - && \\\n    echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list && \\\n    apt update && apt install -y --no-install-recommends yarn && rm -rf /var/lib/apt/lists/*;\n\n\n# Default entry point\nCMD [\"/bin/bash\"]\n\n\n# build info\nRUN echo \"Source: glideinwms/gwms-actions\" > /image-source-info.txt\nRUN echo \"Timestamp:\" `date --utc` | tee /image-build-info.txt\n"
}