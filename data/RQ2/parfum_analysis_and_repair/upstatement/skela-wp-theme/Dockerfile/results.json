{
  "startTime": 1674254310027,
  "endTime": 1674254310584,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 2,
        "lineEnd": 7,
        "columnStart": 18,
        "columnEnd": 8
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM richarvey/nginx-php-fpm:1.9.0\n\nRUN apk update && apk add --no-cache \\\n  mysql-client \\\n  openssl \\\n  msmtp \\\n  less \\\n  tzdata\n\n# Configure msmtp\nRUN { \\\n  echo \"account default\"; \\\n  echo \"host mailhog\"; \\\n  echo \"port 1025\"; \\\n  echo \"auto_from on\"; \\\n  } > /etc/msmtprc\n\n# Configure PHP to use msmtp for sending mail\nRUN { \\\n  echo 'sendmail_path = \"/usr/bin/msmtp -t -i\"'; \\\n  } > /usr/local/etc/php/conf.d/mail.ini\n\n# Install and configure WP CLI\nRUN wget https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar; \\\n  chmod +x wp-cli.phar; \\\n  mv wp-cli.phar /usr/local/bin/; \\\n  # Workaround for root usage scolding.\n  echo -e \"#!/bin/bash\\n\\n/usr/local/bin/wp-cli.phar \\\"\\$@\\\" --allow-root\\n\" > /usr/local/bin/wp; \\\n  chmod +x /usr/local/bin/wp; \\\n  # Add bash completons for interactive usage.\n  wget https://github.com/wp-cli/wp-cli/raw/master/utils/wp-completion.bash; \\\n  mv wp-completion.bash $HOME; \\\n  echo -e \"source $HOME/wp-completion.bash\\n\" > $HOME/.bashrc\n\n# Download WordPress\nRUN wp core download\n\n# Copy custom configuration files into location expected by nginx-php-fpm.\n# See https://github.com/richarvey/nginx-php-fpm/blob/master/docs/nginx_configs.md\nCOPY docker/conf /var/www/html/conf\n\n# Copy startup scripts into location expected by nginx-php-fpm.\n# See https://github.com/richarvey/nginx-php-fpm/blob/master/docs/scripting_templating.md\nCOPY docker/scripts /var/www/html/scripts\n\n# Copy the rest of this theme into place\nARG WORDPRESS_THEME_NAME\nCOPY . /var/www/html/wp-content/themes/${WORDPRESS_THEME_NAME}\nCOPY plugins /var/www/html/wp-content/plugins\n"
}