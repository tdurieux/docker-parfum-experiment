{
  "startTime": 1674248491855,
  "endTime": 1674248493086,
  "originalSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 7,
        "columnEnd": 19
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# build method: just run `docker build --rm --build-arg -t genshen/ssh-web-console .`\n\n# build frontend code\nFROM node:14.15.4-alpine3.12 AS frontend-builder\n\nCOPY web web-console/\n\nRUN cd web-console \\\n    && yarn install \\\n    && yarn build && yarn cache clean;\n\n\nFROM golang:1.15.7-alpine3.13 AS builder\n\n# set to 'on' if using go module\nARG STATIC_DIR=build\n\n\nRUN apk add --no-cache git \\\n    && go get -u github.com/rakyll/statik\n\nCOPY ./  /go/src/github.com/genshen/ssh-web-console/\nCOPY --from=frontend-builder web-console/build /go/src/github.com/genshen/ssh-web-console/${STATIC_DIR}/\n\nRUN cd ./src/github.com/genshen/ssh-web-console/ \\\n    && statik -src=${STATIC_DIR} \\\n    && go build \\\n    && go install\n\n## copy binary\nFROM alpine:3.13\n\nARG HOME=\"/home/web\"\n\nRUN adduser -D web -h ${HOME}\n\nCOPY --from=builder --chown=web /go/bin/ssh-web-console ${HOME}/ssh-web-console\n\nWORKDIR ${HOME}\nUSER web\n\nVOLUME [\"${HOME}/conf\"]\n\nCMD [\"./ssh-web-console\"]\n"
}