{
  "startTime": 1674248509399,
  "endTime": 1674248510004,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 62
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM archlinux\n\nENV SHELL=/bin/zsh\nENV TERM=xterm-256color\n\nRUN echo \"[multilib]\" >> /etc/pacman.conf && \\\n    echo \"Include = /etc/pacman.d/mirrorlist\" >> /etc/pacman.conf && \\\n    sed -i \"s/#MAKEFLAGS=\\\"-j2\\\"/MAKEFLAGS=\\\"-j$(nproc)\\\"/\" /etc/makepkg.conf\n\nRUN pacman --noconfirm -Syu \\\n    git \\\n    vim \\\n    tmux \\\n    zsh\n\nRUN chsh -s /bin/zsh root && \\\n    curl -f -Lo- https://bit.ly/2pztvLf | bash\n\nRUN pacman --noconfirm -Syu \\\n    bc \\\n    binutils \\\n    bwm-ng \\\n    composer \\\n    fakeroot \\\n    ffmpeg \\\n    gcc \\\n    htop \\\n    jq \\\n    lame \\\n    make \\\n    mariadb-clients \\\n    mariadb \\\n    mediainfo \\\n    mytop \\\n    nginx \\\n    nmon \\\n    p7zip \\\n    php7-fpm \\\n    php7-gd \\\n    php7-intl \\\n    powerline-fonts \\\n    sudo \\\n    supervisor \\\n    the_silver_searcher \\\n    time \\\n    unrar \\\n    unzip \\\n    vnstat \\\n    wget \\\n    which\n\n# Temporary, until nntmux is ready for php8\nRUN mv /usr/sbin/php /usr/sbin/php8 && \\\n    mv /usr/sbin/php7 /usr/sbin/php\n\nRUN wget https://pear.php.net/go-pear.phar -O /tmp/go-pear.phar && \\\n    php /tmp/go-pear.phar && \\\n    rm /tmp/go-pear.phar\n\nRUN mkdir -p /var/log/php7 && \\\n    ln -sf /dev/stderr /var/log/php7/php-fpm.error.log && \\\n    ln -sf /dev/stdout /var/log/php7/php-fpm.access.log\n\nRUN sed -i  \\\n        -e \"s/user = http/user = nntmux/\" \\\n        -e \"s/group = http/group = nntmux/\" \\\n        -e \"s#;access.log = log/\\$pool.access.log#access.log = /var/log/php7/php-fpm.access.log#\" \\\n        /etc/php7/php-fpm.d/www.conf && \\\n    sed -i \"s#error_log = syslog#error_log = /var/log/php7/php-fpm.error.log#\" /etc/php7/php-fpm.conf\n\nRUN groupadd --gid 1000 nntmux && \\\n    useradd --create-home --system --shell /usr/sbin/zsh --uid 1000 --gid 1000 nntmux && \\\n    passwd -d nntmux && \\\n    chsh -s /bin/zsh nntmux && \\\n    echo 'nntmux ALL=(ALL) ALL' > /etc/sudoers.d/nntmux && \\\n    mkdir -p /home/nntmux/.gnupg && \\\n    echo 'standard-resolver' > /home/nntmux/.gnupg/dirmngr.conf && \\\n    chown -R nntmux:nntmux /home/nntmux\n\nUSER nntmux\n\nRUN git clone --depth 1 https://aur.archlinux.org/yay.git /tmp/yay && \\\n    cd /tmp/yay && \\\n    makepkg --noconfirm -si && \\\n    yay --afterclean --removemake --save && \\\n    rm -rf /tmp/yay\n\nRUN yay --noconfirm -Sy \\\n    php7-imagick \\\n    php7-memcached \\\n    php7-sodium \\\n    tcptrack\n\nRUN curl -f -Lo- https://bit.ly/2pztvLf | bash\n\n# We disable it here because we enable it in the overrides file which affects\n# both php7-fpm as well as cli\nRUN sudo sed -i 's/^extension=curl/;extension=curl/' /etc/php7/php.ini\n\nWORKDIR /site\n\nCMD [\"sudo\", \"/usr/sbin/supervisord\", \"--nodaemon\"]\n"
}