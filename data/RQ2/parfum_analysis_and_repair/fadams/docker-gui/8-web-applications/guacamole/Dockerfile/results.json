{
  "startTime": 1674217767826,
  "endTime": 1674217768536,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 156
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 127
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 183
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 156
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 183
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 15
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#   http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n#\n\nFROM debian:stretch-slim\n\nRUN mkdir -p /usr/share/man/man1 && \\\n    mkdir -p /usr/share/man/man7 && \\\n    apt-get update && DEBIAN_FRONTEND=noninteractive \\\n    apt-get install -y --no-install-recommends \\\n    autoconf automake gcc libcairo2-dev libfreerdp-dev \\\n    libjpeg62-turbo-dev libossp-uuid-dev libpango1.0-dev \\\n    libpulse-dev libssh2-1-dev libssl-dev libtelnet-dev \\\n    libtool libvncserver-dev libwebsockets-dev libwebp-dev \\\n    make libavcodec-dev libswscale-dev libvorbis-dev curl \\\n    ca-certificates libfreerdp-plugins-standard \\\n    ghostscript fonts-liberation fonts-dejavu default-jre \\\n    xfonts-terminus libossp-uuid16 libpangocairo-1.0-0 \\\n    libpango-1.0-0 libwebsockets8 libavcodec57 \\\n    libswscale4 libvorbisenc2 libvorbisfile3 libssh2-1 \\\n    libtelnet2 libvncclient1 libfreerdp-client1.1 \\\n    libfreerdp-cache1.1 && \\\n    GUACAMOLE_VERSION=1.0.0 && \\\n    cd /usr/local/src && \\\n    curl -f -sSL \"https://apache.org/dyn/closer.cgi?action=download&filename=guacamole/${GUACAMOLE_VERSION}/source/guacamole-server-${GUACAMOLE_VERSION}.tar.gz\" | tar -xzv -C /usr/local/src && \\\n    mv /usr/local/src/guacamole-server-${GUACAMOLE_VERSION} \\\n       /usr/local/src/guacamole-server && \\\n    cd guacamole-server && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && \\\n    make -j$(getconf _NPROCESSORS_ONLN) && make install && \\\n    ldconfig && \\\n    # Download Tomcat. If build fails try updating version\n    TOMCAT_VERSION=9.0.31 && \\\n    CATALINA_HOME=/usr/local/tomcat && \\\n    curl -f -sSL https://apache.mirrors.nublue.co.uk/tomcat/tomcat-9/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz | tar -xzv -C /usr/local && \\\n    mv /usr/local/apache-tomcat-${TOMCAT_VERSION} \\\n       /usr/local/tomcat && \\\n    chmod -R ugo=rwX ${CATALINA_HOME} && \\\n    # Download and install guacamole-client war\n    curl -f -sSL \"https://apache.org/dyn/closer.cgi?action=download&filename=guacamole/${GUACAMOLE_VERSION}/binary/guacamole-${GUACAMOLE_VERSION}.war\" -o ${CATALINA_HOME}/webapps/ROOT.war && \\\n    rm -rf ${CATALINA_HOME}/webapps/ROOT && \\\n    # Create simple launch script to start guacd and Tomcat\n    echo '#!/bin/bash\\n/usr/local/sbin/guacd -f &\\nexec /usr/local/tomcat/bin/catalina.sh run' > /usr/local/bin/startup && \\\n    chmod +x /usr/local/bin/startup && \\\n    # Tidy up\n    rm -rf /usr/local/src/guacamole-server && \\\n    apt-get clean && \\\n    apt-get purge -y \\\n    autoconf automake gcc libcairo2-dev libfreerdp-dev \\\n    libjpeg62-turbo-dev libossp-uuid-dev libpango1.0-dev \\\n    libpulse-dev libssh2-1-dev libssl-dev libtelnet-dev \\\n    libtool libvncserver-dev libwebsockets-dev \\\n    libwebp-dev make libavcodec-dev libswscale-dev \\\n    libvorbis-dev curl && \\\n    apt-get autoremove -y && \\\n    rm -rf /var/lib/apt/lists/*\n\nCMD [\"/usr/local/bin/startup\"]\n\n#-------------------------------------------------------------------------------\n#\n# To build the image\n# docker build -t guacamole .\n#\n\n"
}