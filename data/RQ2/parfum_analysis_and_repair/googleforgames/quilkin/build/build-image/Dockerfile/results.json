{
  "startTime": 1674252818287,
  "endTime": 1674252819194,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 174,
        "columnEnd": 232
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 121
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 25,
        "columnEnd": 53
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 121
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 25,
        "columnEnd": 53
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Copyright 2021 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\") &&\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nFROM gcr.io/cloud-builders/docker\n\nARG RUST_TOOLCHAIN\n\nENV RUSTUP_HOME=/usr/local/rustup \\\n    CARGO_HOME=/usr/local/cargo \\\n    PATH=/usr/local/cargo/bin:$PATH \\\n    CROSS_DOCKER_IN_DOCKER=true \\\n    LC_ALL=C.UTF-8 \\\n    LANG=C.UTF-8\n\n# Install packages\nRUN set -eux && \\\n    apt-get update && \\\n    apt-get install --no-install-recommends -y jq wget zip build-essential libssl-dev pkg-config python3-pip bash-completion g++-mingw-w64-x86-64 && \\\n    pip3 install --no-cache-dir live-server && \\\n    echo \"source /etc/bash_completion\" >> /root/.bashrc && rm -rf /var/lib/apt/lists/*;\n\n# install gcloud\n# Credit: https://cloud.google.com/sdk/docs/install#deb\nRUN echo \"deb [signed-by=/usr/share/keyrings/cloud.google.gpg] http://packages.cloud.google.com/apt cloud-sdk main\" | tee -a /etc/apt/sources.list.d/google-cloud-sdk.list && curl -f https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key --keyring /usr/share/keyrings/cloud.google.gpg  add - && apt-get update -y && \\\n    apt-get install --no-install-recommends google-cloud-cli google-cloud-cli-gke-gcloud-auth-plugin kubectl -y && \\\n    echo \"source /usr/share/google-cloud-sdk/completion.bash.inc\" >> /root/.bashrc && \\\n    echo \"source <(kubectl completion bash)\" >> /root/.bashrc && rm -rf /var/lib/apt/lists/*;\n\n# install tarrafrm\n# Credit: https://learn.hashicorp.com/tutorials/terraform/install-cli\nRUN curl -fsSL https://apt.releases.hashicorp.com/gpg | apt-key add - && \\\n    apt-add-repository \"deb [arch=amd64] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" && \\\n    apt-get update -y && apt-get install --no-install-recommends terraform -y && \\\n    terraform -install-autocomplete && rm -rf /var/lib/apt/lists/*;\n\n# install helm\n# Credit: https://helm.sh/docs/intro/install/\nRUN curl -f https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash && \\\n    echo \"source <(helm completion bash)\" >> /root/.bashrc\n\n# Install htmltest\nWORKDIR /tmp\nRUN wget --quiet -O htmltest.tar.gz https://github.com/wjdp/htmltest/releases/download/v0.16.0/htmltest_0.16.0_linux_amd64.tar.gz && \\\n     tar -xf htmltest.tar.gz && mv ./htmltest /usr/local/bin/ && rm htmltest.tar.gz\n\n# Install Rust\nRUN wget --quiet https://static.rust-lang.org/rustup/dist/x86_64-unknown-linux-gnu/rustup-init && \\\n    chmod +x rustup-init && \\\n    ./rustup-init -y --no-modify-path --default-toolchain $RUST_TOOLCHAIN && \\\n    rm rustup-init && \\\n    chmod -R a+w $RUSTUP_HOME $CARGO_HOME && \\\n    rustup component add rustfmt clippy && \\\n    rustup target add x86_64-pc-windows-gnu && \\\n    cargo install cargo-watch mdbook && \\\n    cargo install cargo-about && \\\n    cargo install --locked cargo-deny && \\\n    rustup --version && \\\n    cargo --version && \\\n    rustc --version\n"
}