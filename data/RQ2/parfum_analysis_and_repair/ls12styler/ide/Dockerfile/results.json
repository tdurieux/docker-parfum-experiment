{
  "startTime": 1674248432977,
  "endTime": 1674248433590,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 18
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ls12styler/dind:20.10.8\n\n# Install basics (HAVE to install bash for tpm to work)\nRUN apk update && apk add -U --no-cache \\\n    bash zsh git git-perl neovim less curl bind-tools \\\n    man-pages build-base su-exec shadow openssh-client sed coreutils\n\n# Set Timezone\nRUN apk add --no-cache tzdata && \\\n    cp /usr/share/zoneinfo/Europe/London /etc/localtime && \\\n    echo \"Europe/London\" > /etc/timezone && \\\n    apk del tzdata\n\nENV HOME /home/me\n\n# Install tmux\nCOPY --from=ls12styler/tmux:3.1b /usr/local/bin/tmux /usr/local/bin/tmux\n\n# Install jQ!\nRUN wget https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64 -O /bin/jq && chmod +x /bin/jq\n\n# Configure text editor - vim!\nRUN curl -fLo ${HOME}/.config/nvim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\n# Consult the vimrc file to see what's installed\nCOPY vimrc ${HOME}/.config/nvim/init.vim\n# Clone the git repos of Vim plugins\nWORKDIR ${HOME}/.config/nvim/plugged/\nRUN git clone --depth=1 https://github.com/ctrlpvim/ctrlp.vim && \\\n    git clone --depth=1 https://github.com/tpope/vim-fugitive && \\\n    git clone --depth=1 https://github.com/godlygeek/tabular && \\\n    git clone --depth=1 https://github.com/plasticboy/vim-markdown && \\\n    git clone --depth=1 https://github.com/vim-airline/vim-airline && \\\n    git clone --depth=1 https://github.com/vim-airline/vim-airline-themes && \\\n    git clone --depth=1 https://github.com/vim-syntastic/syntastic && \\\n    git clone --depth=1 https://github.com/frazrepo/vim-rainbow && \\\n    git clone --depth=1 https://github.com/airblade/vim-gitgutter && \\\n    git clone --depth=1 https://github.com/derekwyatt/vim-scala && \\\n    git clone --depth=1 https://github.com/hashivim/vim-terraform.git && \\\n    git clone --depth=1 https://github.com/ekalinin/Dockerfile.vim.git && \\\n    git clone --depth=1 https://github.com/junegunn/seoul256.vim\n\n# In the entrypoint, we'll create a user called `me`\nWORKDIR ${HOME}\n\n# Setup my $SHELL\nENV SHELL /bin/zsh\n# Install oh-my-zsh\nRUN wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O - | zsh || true\nRUN wget https://gist.githubusercontent.com/xfanwu/18fd7c24360c68bab884/raw/f09340ac2b0ca790b6059695de0873da8ca0c5e5/xxf.zsh-theme -O ${HOME}/.oh-my-zsh/custom/themes/xxf.zsh-theme\nRUN git clone https://github.com/zsh-users/zsh-autosuggestions ${HOME}/.oh-my-zsh/plugins/zsh-autosuggestions\n# Copy ZSh config\nCOPY zshrc ${HOME}/.zshrc\n\n# Install TMUX\nCOPY tmux.conf ${HOME}/.tmux.conf\nRUN git clone https://github.com/tmux-plugins/tpm ${HOME}/.tmux/plugins/tpm && \\\n    ${HOME}/.tmux/plugins/tpm/bin/install_plugins\n\n# Copy git config over\nCOPY gitconfig ${HOME}/.gitconfig\n\n# Entrypoint script creates a user called `me` and `chown`s everything\nCOPY entrypoint.sh /bin/entrypoint.sh\n\n# Copy over the useful scripts\nCOPY scripts/* /usr/local/bin/\n\n# Set working directory to /workspace\nWORKDIR /workspace\n\n# Default entrypoint, can be overridden\nCMD [\"/bin/entrypoint.sh\"]\n"
}