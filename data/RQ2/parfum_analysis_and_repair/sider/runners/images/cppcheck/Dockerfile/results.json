{
  "startTime": 1674254413534,
  "endTime": 1674254414443,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 98
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n# NOTE: DO *NOT* EDIT THIS FILE. IT IS GENERATED.\n# PLEASE UPDATE Dockerfile.erb INSTEAD OF THIS FILE.\n# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nFROM python:3-slim-buster AS cppcheck\n\n# NOTE: The reason using Python image: when setting `MATCHCOMPILER=yes`, Python is used to optimise cppcheck.\n#       See <https://github.com/danmar/cppcheck/blob/6cb8f877981a491465aba2f9ffb00d6142f6f852/readme.md#gnu-make>\n\nARG CPPCHECK_VERSION=2.6.3\n\n# NOTE: A segmentation fault occurs with the latest version of libz3.\nARG LIBZ3_VERSION=4.4.1-1~deb10u1\n\nRUN apt-get update && \\\n    apt-get install -qq -y --no-install-recommends \\\n      curl \\\n      g++ \\\n      make \\\n      libpcre3-dev \\\n      \"libz3-dev=${LIBZ3_VERSION}\" && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    cd /tmp && \\\n    curl -f -sSL --compressed \"https://github.com/danmar/cppcheck/archive/${CPPCHECK_VERSION}.tar.gz\" | tar -xz && \\\n    cd \"cppcheck-${CPPCHECK_VERSION}\" && \\\n    # NOTE: We cannot use the latest version due to a potential segmentation fault.\n    cp -v externals/z3_version_old.h externals/z3_version.h && \\\n    make \"-j$(nproc)\" --silent install \\\n      MATCHCOMPILER=yes \\\n      PREFIX=/opt/cppcheck \\\n      FILESDIR=/opt/cppcheck/share \\\n      HAVE_RULES=yes \\\n      USE_Z3=yes \\\n      CXXFLAGS=\"-O2 -DNDEBUG -Wall -Wno-sign-compare -Wno-unused-function\"\n\nFROM sider/devon_rex_base:2.46.0\n\n\nENV RUNNERS_DEPS_DIR ${RUNNER_USER_HOME}/dependencies\nARG RUNNERS_DIR=${RUNNER_USER_HOME}/runners\n\n# Install required gems first (due to slow download)\nCOPY --chown=${RUNNER_USER}:${RUNNER_GROUP} Gemfile Gemfile.lock runners.gemspec analyzers.yml ${RUNNERS_DIR}/\nCOPY --chown=${RUNNER_USER}:${RUNNER_GROUP} lib/runners/version.rb ${RUNNERS_DIR}/lib/runners/\n\nRUN cd \"${RUNNERS_DIR}\" && \\\n    bundle config set --global jobs 4 && \\\n    bundle config set --global retry 3 && \\\n    bundle config && \\\n    BUNDLE_WITHOUT=development bundle install && \\\n    bundle list && \\\n    echo 'Checking if the Bundler version is expected...' && \\\n    lockfile_bundler_version=$(bundle exec ruby -e 'puts Bundler.locked_gems.bundler_version') && \\\n    bundle version | grep \"Bundler version ${lockfile_bundler_version}\"\n\n# See above.\nARG LIBZ3_VERSION=4.4.1-1~deb10u1\n\nUSER root\nRUN apt-get update && \\\n    apt-get install -qq -y --no-install-recommends \\\n      \"libz3-dev=${LIBZ3_VERSION}\" && \\\n    rm -rf /var/lib/apt/lists/*\nCOPY --from=cppcheck /opt/cppcheck /opt/cppcheck\nENV PATH /opt/cppcheck/bin:${PATH}\n\nCOPY --chown=${RUNNER_USER}:${RUNNER_GROUP} images/cppcheck/sider_recommended_cppcheck.txt ${RUNNER_USER_HOME}/\n\n\n# Copy the main source code\nCOPY --chown=${RUNNER_USER}:${RUNNER_GROUP} exe ${RUNNERS_DIR}/exe\nCOPY --chown=${RUNNER_USER}:${RUNNER_GROUP} lib ${RUNNERS_DIR}/lib\n\nENV PATH ${RUNNERS_DIR}/exe:${PATH}\n\n# Run as non-root user\nUSER $RUNNER_USER\nWORKDIR $RUNNER_USER_HOME\n\nCOPY images/docker-entrypoint.sh /\nENTRYPOINT [\"/docker-entrypoint.sh\", \"runners\", \"--analyzer=cppcheck\"]\n"
}