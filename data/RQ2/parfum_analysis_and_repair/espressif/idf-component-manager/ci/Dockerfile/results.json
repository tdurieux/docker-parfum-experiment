{
  "startTime": 1674254550166,
  "endTime": 1674254550715,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 7,
        "columnEnd": 61
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG PYTHON_IMAGE_TAG=3.10-bullseye\n\nFROM python:${PYTHON_IMAGE_TAG} as idf_tools\n\nARG API_TOKEN=\nARG IDF_BRANCH=master\nARG IDF_PROJ_ID=\nARG IDF_FILE_API_URL=\n\nRUN wget --no-verbose -O idf_tools.py --header=\"PRIVATE-TOKEN: ${API_TOKEN}\" \"${IDF_FILE_API_URL}/tools%2Fidf_tools%2Epy/raw?ref=${IDF_BRANCH}\" \\\n  && wget --no-verbose -O tools.json --header=\"PRIVATE-TOKEN: ${API_TOKEN}\" \"${IDF_FILE_API_URL}/tools%2Ftools%2Ejson/raw?ref=${IDF_BRANCH}\" \\\n  # release/v4.3 or earlier branches does not have this file\n  && (wget --no-verbose -O python_version_checker.py --header=\"PRIVATE-TOKEN: ${API_TOKEN}\" \"${IDF_FILE_API_URL}/tools%2Fpython_version_checker%2Epy/raw?ref=${IDF_BRANCH}\" || true)\n\nRUN python ./idf_tools.py --non-interactive --tools-json ./tools.json download --platform linux-amd64 all \\\n  && ls -lA /root/.espressif/dist/\n\nFROM python:${PYTHON_IMAGE_TAG}\n\nRUN apt-get update \\\n    && apt-get install --no-install-recommends -y -q libusb-1.0 cmake git ninja-build \\\n    && apt-get autoremove -y \\\n    && rm -rf /var/lib/apt/lists/*\n\nWORKDIR /root/.espressif/dist\nCOPY --from=idf_tools /root/.espressif/dist/* ./\n\n# idf install.sh would prioritize the python3, make the /usr/bin/python3 symbolic link always point to /usr/bin/python\nRUN rm -f /usr/bin/python3 && ln -s /usr/bin/python /usr/bin/python3\n"
}