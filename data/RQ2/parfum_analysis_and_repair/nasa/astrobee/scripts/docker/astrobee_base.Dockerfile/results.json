{
  "startTime": 1674251845330,
  "endTime": 1674251846476,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 5,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 24,
        "columnStart": 5,
        "columnEnd": 6
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 37,
        "lineEnd": 41,
        "columnStart": 5,
        "columnEnd": 24
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This will set up an Astrobee melodic docker container using the non-NASA install\n# instructions.\n# This image is the base, meaning that it contains all the installation context,\n# but it doesn't copy or build the entire code.\n# You must set the docker context to be the repository root directory\n\nARG UBUNTU_VERSION=16.04\nFROM nvidia/opengl:1.0-glvnd-runtime-ubuntu$UBUNTU_VERSION\n\nARG ROS_VERSION=kinetic\nARG PYTHON=''\n\n# try to suppress certain warnings during apt-get calls\nARG DEBIAN_FRONTEND=noninteractive\nRUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections\n\n# install of apt-utils suppresses bogus warnings later\nRUN apt-get update \\\n  && apt-get install --no-install-recommends -y apt-utils 2>&1 | grep -v \"debconf: delaying package configuration, since apt-utils is not installed\" \\\n  && apt-get install --no-install-recommends -y \\\n  build-essential \\\n  git \\\n  lsb-release \\\n  sudo \\\n  wget \\\n  && rm -rf /var/lib/apt/lists/*\n\n# suppress detached head warnings later\nRUN git config --global advice.detachedHead false\n\n# Install ROS --------------------------------------------------------------------\nCOPY ./scripts/setup/*.sh /setup/astrobee/\n\n# this command is expected to have output on stderr, so redirect to suppress warning\nRUN /setup/astrobee/add_ros_repository.sh >/dev/null 2>&1\n\nRUN apt-get update \\\n  && apt-get install --no-install-recommends -y \\\n  debhelper \\\n  libtinyxml-dev \\\n  ros-${ROS_VERSION}-desktop \\\n  python${PYTHON}-rosdep \\\n  && rm -rf /var/lib/apt/lists/*\n\n# Install Astrobee----------------------------------------------------------------\nCOPY ./scripts/setup/debians /setup/astrobee/debians\n\nRUN apt-get update \\\n  && /setup/astrobee/debians/build_install_debians.sh \\\n  && rm -rf /var/lib/apt/lists/* \\\n  && rm -rf /setup/astrobee/debians\n\nCOPY ./scripts/setup/packages_*.lst /setup/astrobee/\n# note apt-get update is run within the following shell script\nRUN /setup/astrobee/install_desktop_packages.sh \\\n  && rm -rf /var/lib/apt/lists/*\n\n#Add the entrypoint for docker\nRUN echo \"#!/bin/bash\\nset -e\\n\\nsource \\\"/opt/ros/${ROS_VERSION}/setup.bash\\\"\\nsource \\\"/src/astrobee/devel/setup.bash\\\"\\nexport ASTROBEE_CONFIG_DIR=\\\"/src/astrobee/src/astrobee/config\\\"\\nexec \\\"\\$@\\\"\" > /astrobee_init.sh && \\\n  chmod +x /astrobee_init.sh && \\\n  rosdep init && \\\n  rosdep update 2>&1 | egrep -v 'as root|fix-permissions'\n"
}