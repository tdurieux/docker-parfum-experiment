{
  "startTime": 1674253484882,
  "endTime": 1674253485648,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 20,
        "columnStart": 1,
        "columnEnd": 5
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 20,
        "columnStart": 1,
        "columnEnd": 5
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM arm32v7/python:3.6-stretch\nLABEL description=\"Test qemu build\"\nLABEL name=\"qemu-emulator\"\nLABEL version=\"0.6\"\n\n# Needed to build arm dockers\nCOPY qemu-arm-static /usr/bin\n\n# Creating a build folder for container build files\nRUN mkdir -p /build\nWORKDIR /build\n\n# RUN apt update && apt install -y zip rsyslog socat sshpass libusb-1.0.0-dev\nRUN apt update -y && \\\n\tapt install --no-install-recommends -y \\\n\t\twget \\\n\t\tvim \\\n\t\tzsh \\\n\t\tsudo \\\n\t\tgit \\\n\t\tzip && rm -rf /var/lib/apt/lists/*;\n\n# Set timezone\nRUN ln -sf /usr/share/zoneinfo/Europe/Brussels /etc/localtime\n\n# install requirements in the container\nCOPY requirements.txt /build\nRUN pip install --no-cache-dir -r requirements.txt\n\n\n\n# Adding develop user\nRUN useradd --create-home --shell /bin/bash \"developer\"\nRUN adduser developer sudo\nRUN echo \"developer:dev\" | chpasswd\nRUN echo \"ALL ALL = (ALL) NOPASSWD: ALL\" > /etc/sudoers\n\nUSER developer\n\n\n# install oh-my-zsh\nWORKDIR /home/developer\nRUN wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh && \\\n\tsh install.sh\nCOPY default-zshrc /home/developer/.zshrc\nWORKDIR /build\n\n# change ownership of the .zshrc file\nUSER root\nRUN chown developer /home/developer/.zshrc\nUSER developer\n\n# ENTRYPOINT /usr/sbin/rsyslogd \\\n#            && bash\n"
}