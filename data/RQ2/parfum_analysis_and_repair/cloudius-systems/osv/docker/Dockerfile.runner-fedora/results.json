{
  "startTime": 1674252611356,
  "endTime": 1674252611856,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 13,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 8
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Copyright (C) 2017 XLAB, Ltd.\n# Copyright (C) 2018 Waldemar Kozaczuk\n#\n# This work is open source software, licensed under the terms of the\n# BSD license as described in the LICENSE file in the top-level directory.\n#\n# This Docker file defines a container intended to run and test OSv\n# It comes with capstan that can pull kernel and pre-built MPM packages\n#\nARG DIST_VERSION=31\nFROM fedora:${DIST_VERSION}\n\nRUN yum install -y \\\ngit \\\npython3 \\\nfile \\\nwhich \\\ncurl \\\nqemu-system-x86 \\\nqemu-img && rm -rf /var/cache/yum\n\n# - prepare directories\nRUN mkdir /git-repos\n\n# - clone OSv\nWORKDIR /git-repos\nARG GIT_ORG_OR_USER=cloudius-systems\nARG GIT_BRANCH=master\nRUN git clone --depth 1 -b ${GIT_BRANCH} --single-branch https://github.com/${GIT_ORG_OR_USER}/osv.git\n\n# - install Capstan\nADD https://github.com/cloudius-systems/capstan/releases/latest/download/capstan /usr/local/bin/capstan\nRUN chmod u+x /usr/local/bin/capstan\n\nCMD /bin/bash\n\n#\n# NOTES\n#\n# Build the container example:\n# docker build -t osv/runner-fedora -f Dockerfile.runner-fedora .\n#\n# Build the container based of specific Fedora version and git repo owner (if forked) example:\n# docker build -t osv/runner-fedora -f Dockerfile.runner-fedora --build-arg DIST_VERSION=31 --build-arg GIT_ORG_OR_USER=a_user .\n#\n# Run the container FIRST time example:\n# docker run -it --privileged osv/runner-fedora\n#\n# To restart:\n# docker restart ID (from docker ps -a) && docker attach ID\n#\n# To open in another console\n# docker exec -it ID /bin/bash\n"
}