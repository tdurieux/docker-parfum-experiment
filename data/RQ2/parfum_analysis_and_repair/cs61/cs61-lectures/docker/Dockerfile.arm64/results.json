{
  "startTime": 1674216282427,
  "endTime": 1674216284017,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 37,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 43,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 47,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 54,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 70,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 76,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 87,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 37,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 43,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 70,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 37,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 43,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 47,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 54,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 70,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 76,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 87,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 10
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 37,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 43,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 8
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 5
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 70,
        "lineEnd": 73,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 10
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:focal\n\n# set environment variables for tzdata\nARG TZ=America/New_York\nENV TZ=${TZ}\n\n# include manual pages and documentation\nARG DEBIAN_FRONTEND=noninteractive\nRUN apt-get update &&\\\n  yes | unminimize\n\n# copy new sources.list\nCOPY --chown=root:root sources.list /etc/apt/sources.list\n\n# include multiarch support\nRUN apt-get -y --no-install-recommends install binfmt-support && \\\n  dpkg --add-architecture amd64 && \\\n  apt-get update && \\\n  apt-get upgrade && rm -rf /var/lib/apt/lists/*;\n\n# install GCC-related packages\nRUN apt-get -y --no-install-recommends install \\\n binutils-doc \\\n cpp-doc \\\n gcc-doc \\\n g++ \\\n gdb \\\n gdb-doc \\\n glibc-doc \\\n libblas-dev \\\n liblapack-dev \\\n liblapack-doc \\\n libstdc++-10-doc \\\n make \\\n make-doc && rm -rf /var/lib/apt/lists/*;\n\n# install clang-related packages\nRUN apt-get -y --no-install-recommends install \\\n clang \\\n clang-10-doc \\\n lldb && rm -rf /var/lib/apt/lists/*;\n\n# install qemu for WeensyOS (sadly, this pulls in a lot of crap)\nRUN apt-get -y --no-install-recommends install \\\n qemu-system-x86 && rm -rf /var/lib/apt/lists/*;\n\n# install programs used for system exploration\nRUN apt-get -y --no-install-recommends install \\\n blktrace \\\n linux-tools-generic \\\n strace \\\n tcpdump && rm -rf /var/lib/apt/lists/*;\n\n# install interactive programs (emacs, vim, nano, man, sudo, etc.)\nRUN apt-get -y --no-install-recommends install \\\n bc \\\n curl \\\n dc \\\n emacs-nox \\\n git \\\n git-doc \\\n man \\\n micro \\\n nano \\\n psmisc \\\n sudo \\\n vim \\\n wget && rm -rf /var/lib/apt/lists/*;\n\n# set up libraries\nRUN apt-get -y --no-install-recommends install \\\n libreadline-dev \\\n locales \\\n wamerican && rm -rf /var/lib/apt/lists/*;\n\n# install programs used for networking\nRUN apt-get -y --no-install-recommends install \\\n dnsutils \\\n inetutils-ping \\\n iproute2 \\\n net-tools \\\n netcat \\\n telnet \\\n time \\\n traceroute && rm -rf /var/lib/apt/lists/*;\n\n# install GCC-related packages for amd64\nRUN apt-get -y --no-install-recommends install \\\n g++-9-x86-64-linux-gnu \\\n gdb-multiarch \\\n libc6:amd64 \\\n libstdc++6:amd64 \\\n libasan5:amd64 \\\n libtsan0:amd64 \\\n libubsan1:amd64 \\\n libreadline-dev:amd64 \\\n libblas-dev:amd64 \\\n liblapack-dev:amd64 \\\n qemu-user && rm -rf /var/lib/apt/lists/*;\n\n# link x86-64 versions of common tools into /usr/x86_64-linux-gnu/bin\nRUN for i in addr2line c++filt cpp-9 g++-9 gcc-9 gcov-9 gcov-dump-9 gcov-tool-9 size strings; do \\\n        ln -s /usr/bin/x86_64-linux-gnu-$i /usr/x86_64-linux-gnu/bin/$i; done && \\\n  ln -s /usr/bin/x86_64-linux-gnu-cpp-9 /usr/x86_64-linux-gnu/bin/cpp && \\\n  ln -s /usr/bin/x86_64-linux-gnu-g++-9 /usr/x86_64-linux-gnu/bin/c++ && \\\n  ln -s /usr/bin/x86_64-linux-gnu-g++-9 /usr/x86_64-linux-gnu/bin/g++ && \\\n  ln -s /usr/bin/x86_64-linux-gnu-gcc-9 /usr/x86_64-linux-gnu/bin/gcc && \\\n  ln -s /usr/bin/x86_64-linux-gnu-gcc-9 /usr/x86_64-linux-gnu/bin/cc && \\\n  ln -s /usr/bin/gdb-multiarch /usr/x86_64-linux-gnu/bin/gdb\n\n# set up default locale\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\n\n# remove unneeded .deb files\nRUN rm -r /var/lib/apt/lists/*\n\n# set up passwordless sudo for user cs61-user\nRUN useradd -m -s /bin/bash cs61-user && \\\n  echo \"cs61-user ALL=(ALL:ALL) NOPASSWD: ALL\" > /etc/sudoers.d/cs61-init\n\n# create binary reporting version of dockerfile\nRUN (echo '#\\!/bin/sh'; echo 'if test \"x$1\" = x-n; then echo 12; else echo 12.arm64; fi') > /usr/bin/cs61-docker-version; chmod ugo+rx,u+w,go-w /usr/bin/cs61-docker-version\n\n# git build arguments\nARG USER=CS61\\ User\nARG EMAIL=nobody@example.com\n\n# configure your environment\nUSER cs61-user\nRUN git config --global user.name \"${USER}\" && \\\n  git config --global user.email \"${EMAIL}\" && \\\n  (echo \"(custom-set-variables\"; echo \" '(c-basic-offset 4)\"; echo \" '(indent-tabs-mode nil))\") > ~/.emacs && \\\n  (echo \"set expandtab\"; echo \"set shiftwidth=4\"; echo \"set softtabstop=4\") > ~/.vimrc && \\\n  (echo \"if test -f /run/host-services/ssh-auth.sock; then\"; echo \"  sudo chown cs61-user:cs61-user /run/host-services/ssh-auth.sock\"; echo \"fi\") > ~/.bash_profile && \\\n  echo \". ~/.bashrc\" >> ~/.bash_profile && \\\n  echo \"export PATH=/usr/x86_64-linux-gnu/bin:\\$PATH\" >> ~/.bashrc && \\\n  rm -f ~/.bash_logout && \\\n  echo \"add-auto-load-safe-path ~\" > ~/.gdbinit\n\nWORKDIR /home/cs61-user\nCMD [\"/bin/bash\", \"-l\"]\n\n# Initial version of this Dockerfile by Todd Morrill, CS 61 DCE student\n"
}