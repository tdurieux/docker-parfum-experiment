{
  "startTime": 1674250666210,
  "endTime": 1674250667802,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 61,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 57,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 61,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 41
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 95
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 65
      }
    }
  ],
  "repairedDockerfile": "# x11docker/deepin\n#\n# Run deepin desktop in docker.\n# Use x11docker to run image.\n# Get x11docker from github:\n#   https://github.com/mviereck/x11docker\n#\n# Run desktop with:\n#   x11docker --desktop --systemd x11docker/deepin\n# (Alternativly start with:)\n#   x11docker --desktop --dbus-system --pulseaudio x11docker/deepin\n#\n# Run single application:\n#   x11docker x11docker/deepin deepin-terminal\n#\n# Options:\n\n# Persistent home folder stored on host with   --home\n# Shared host folder with                      --sharedir DIR\n# Hardware acceleration with option            --gpu\n# Clipboard sharing with option                --clipboard\n# Change desired language locale setting with  --lang $LANG\n# Sound support with option                    --pulseaudio\n#\n# See x11docker --help for further options.\n\nFROM bestwu/deepin:panda\nMAINTAINER 若虚 <slpcat@qq.com>\n\n# Container variables\nENV \\\n    TERM=\"xterm\" \\\n    LANG=\"zh_CN.UTF-8\" \\\n    LANGUAGE=\"zh_CN.UTF-8\" \\\n    LC_ALL=\"zh_CN.UTF-8\" \\\n    TIMEZONE=\"Asia/Shanghai\" \\\n    DEBIAN_FRONTEND=\"noninteractive\"\n\n#RUN echo \"deb http://packages.deepin.com/deepin/ panda main non-free contrib\" > /etc/apt/sources.list\nRUN echo \"deb [by-hash=force] https://mirrors.aliyun.com/deepin panda main contrib non-free\" > /etc/apt/sources.list\n#RUN echo \"deb http://mirrors.kernel.org/deepin/  panda main non-free contrib\" > /etc/apt/sources.list\n#RUN echo \"deb http://ftp.fau.de/deepin/          panda main non-free contrib\" > /etc/apt/sources.list\n\nRUN rm -rf /var/lib/apt/lists/* && apt-get -y clean && apt-get -y update && \\\n    apt-get dist-upgrade -y && apt-get -y autoremove\nRUN apt-get install --no-install-recommends -y dbus-x11 procps psmisc && rm -rf /var/lib/apt/lists/*;\n\n# OpenGL / MESA\nRUN apt-get install --no-install-recommends -y mesa-utils mesa-utils-extra libxv1 kmod xz-utils && rm -rf /var/lib/apt/lists/*;\n\n# language locales. Change LANG to your desired default locale\nRUN apt-get install --no-install-recommends -y locales-all && rm -rf /var/lib/apt/lists/*;\n\n# deepin desktop\nRUN apt-get install -y --no-install-recommends dde && rm -rf /var/lib/apt/lists/*;\n\n# missing dependencies, dconf\nRUN apt-get install -y --no-install-recommends at-spi2-core dconf-cli dconf-editor \\\n    gnome-themes-standard gtk2-engines-murrine gtk2-engines-pixbuf && rm -rf /var/lib/apt/lists/*;\n\n# additional applications\nRUN apt-get install --no-install-recommends -y deepin-calculator deepin-image-viewer deepin-screenshot \\\n    deepin-system-monitor deepin-terminal deepin-movie deepin-music \\\n    gedit sudo lspci synaptic oneko google-chrome-stable firefox-zh \\\n    deepin-fpapp-com.deepin.imageviewer deepin-fpapp-com.deepin.music \\\n    deepin-fpapp-com.deepin.screenshot deepin-movie wps-office \\\n    foxitreader netease-cloud-music sogoupinyin fonts-adobe-source-han-serif-cn \\\n    fonts-droid fonts-hanazono fonts-lohit-deva fonts-nanum && rm -rf /var/lib/apt/lists/*;\n\n# chinese fonts\nRUN apt-get install --no-install-recommends -y fonts-arphic-uming && rm -rf /var/lib/apt/lists/*;\n\nENV PATH /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/games:/usr/games\n\n# Mask units failing in container\nRUN systemctl mask \\\n    bluetooth \\\n    iptables \\\n    systemd-hostnamed \\\n    systemd-tmpfiles-setup\n\n# Mask units useless in container\nRUN systemctl mask \\\n    lastore-daemon lastore-update-metadata-info \\\n    NetworkManager \\\n    plymouth-start plymouth-read-write plymouth-quit plymouth-quit-wait\n\n# Remove dbus services failing or useless in container. (Bluetooth/bluez is most annoying)\nRUN cd /usr/share/dbus-1/services && rm \\\n    com.deepin.daemon.Audio.service \\\n    com.deepin.daemon.Bluetooth.service \\\n    com.deepin.daemon.InputDevices.service \\\n    com.deepin.daemon.Power.service \\\n    com.deepin.dde.welcome.service\nRUN cd /usr/share/dbus-1/system-services && rm \\\n    com.deepin.lastore.service\nRUN ln -s /etc/sv/gdm /var/service\n# config file to use deepin-metacity without 3d effects ,not deepin-wm\nRUN echo -e '{\\n\\\n    \"allow_switch\": true,\\n\\\n    \"last_wm\": \"deepin-metacity\"\\n\\\n}\\n\\\n' >/wm3d.json\n\n# create startscript\nRUN echo -e '#! /bin/sh\\n\\\n[ -n \"$HOME\" ] && [ ! -e \"$HOME/.config\" ] && cp -R /etc/skel/. $HOME/ \\n\\\n[ -e /dev/dri/card0 ] && { \\n\\\n  mkdir -p $HOME/.config/deepin/deepin-wm-switcher \\n\\\n  cp -n /wm3d.json $HOME/.config/deepin/deepin-wm-switcher/config.json \\n\\\n} \\n\\\ndconf write /com/deepin/dde/daemon/network false \\n\\\ndconf write /com/deepin/dde/daemon/bluetooth false \\n\\\ndconf write /com/deepin/dde/watchdog/dde-polkit-agent false \\n\\\ndconf write /com/deepin/dde/daemon/power false \\n\\\nexec $* \\n\\\n' > /usr/bin/start\nRUN chmod +x /usr/bin/start\n\nENTRYPOINT [\"/usr/bin/start\"]\nCMD [\"startdde\"]\n\nENV DEBIAN_FRONTEND newt\n"
}