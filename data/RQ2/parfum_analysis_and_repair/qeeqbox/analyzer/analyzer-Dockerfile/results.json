{
  "startTime": 1674250114292,
  "endTime": 1674250115817,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 225
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 119
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 213
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 213
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:20.04\nENV DEBIAN_FRONTEND noninteractive\nRUN apt-get update && apt-get install --no-install-recommends -y python3 python3-pip curl libfuzzy-dev yara libmagic-dev libjansson-dev libssl-dev libffi-dev tesseract-ocr libtesseract-dev libssl-dev swig p7zip-full radare2 dmg2img snort && rm -rf /var/lib/apt/lists/*;\nRUN pip3 install --no-cache-dir pyelftools macholib python-magic nltk Pillow jinja2 ssdeep pefile scapy r2pipe pytesseract M2Crypto requests tld tldextract bs4 psutil pymongo==3.12.1 pyOpenSSL oletools extract_msg elasticsearch redis gevent\nRUN python3 -m nltk.downloader words punkt wordnet\nRUN python3 -c 'import tldextract; tldextract.TLDExtract()'\nRUN ln -s /usr/local/lib/python3.7/site-packages/usr/local/lib/libyara.so /usr/local/lib/libyara.so\nRUN pip3 install --no-cache-dir --global-option=\"build\" --global-option=\"--enable-cuckoo\" --global-option=\"--enable-magic\" yara-python --global-option=\"--enable-cuckoo\" --global-option=\"--enable-magic\" yara-python --global-option=\"--enable-magic\" yara-python\nRUN chmod a+r /etc/snort/snort.conf\nRUN wget -O /tmp/community-rules.tar.gz https://www.snort.org/downloads/community/community-rules.tar.gz && \\\n    mkdir -p /etc/snort/rules && \\\n    tar zxvf /tmp/community-rules.tar.gz -C /etc/snort/rules --strip-components=1 && rm /tmp/community-rules.tar.gz\nADD ./ /analyzer\nRUN mv /analyzer/old-backup-yara-rules-github.zip /tmp/yara-rules.zip && \\\n\tmkdir -p /analyzer/yara/yara-rules-github && \\\n\t7z x /tmp/yara-rules.zip -o/analyzer/yara/ && \\\n\trm /analyzer/yara/rules-master/index.yar && \\\n\trm /analyzer/yara/rules-master/index_w_mobile.yar\n"
}