{
  "startTime": 1674250442241,
  "endTime": 1674250443851,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 162
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 75
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 75
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 75
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 99
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 102
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 57
      }
    }
  ],
  "repairedDockerfile": "#\n# Debian Jessie Desktop (MATE) Dockerfile with QGIS\n#\n# https://github.com/DigitalGlobe/debian-desktop\n#\n# Pull base image.\n# FROM x11docker/mate\n# FROM debian:stretch\nFROM debian:buster\n#\n# To run on a laptop.\n# Demoes Python and TensorFlow.\n# With VNC, and jupyter\n#\n# Updated June 2020\n#\nLABEL maintainer=\"Olivier LeDiouris <olivier@lediouris.net>\"\n#\n# Uncomment if running behind a firewall (also set the proxies at the Docker level to the values below)\n#ENV http_proxy http://www-proxy-hqdc.us.oracle.com:80\n#ENV https_proxy http://www-proxy-hqdc.us.oracle.com:80\n## ENV ftp_proxy $http_proxy\n#ENV no_proxy \"localhost,127.0.0.1,orahub.oraclecorp.com,artifactory-slc.oraclecorp.com\"\n#\nRUN \\\n  apt-get update && \\\n  apt-get upgrade -y && \\\n  DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install --fix-missing -y mate-desktop-environment-core curl git build-essential default-jdk sysvbanner vim tightvncserver && \\\n  rm -rf /var/lib/apt/lists/*\n#\nRUN curl -f -sL https://deb.nodesource.com/setup_12.x | bash -\nRUN apt-get install --no-install-recommends -y nodejs && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y procps net-tools wget && rm -rf /var/lib/apt/lists/*;\n#\nRUN echo \"deb http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\nRUN mkdir ~/.vnc && echo \"mate\" | vncpasswd -f >> ~/.vnc/passwd && chmod 600 ~/.vnc/passwd\n#\nRUN apt-get install --no-install-recommends -y chromium && rm -rf /var/lib/apt/lists/*;\nRUN echo \"deb http://qgis.org/debian jessie main\" >> /etc/apt/sources.list\n#\n# RUN apt-get install -y python-pip python-dev\nRUN apt-get install --no-install-recommends -y python3-pip python3-dev python3-venv && rm -rf /var/lib/apt/lists/*;\n#\n# RUN pip3 install tensorflow-gpu\n# RUN pip3 install tensorflow\nRUN pip3 install --no-cache-dir tensorflow==2.0.0b1\n#\n# Uncomment if a suitable version exists...\n# RUN pip3 install tensorflowjs\n#\nRUN pip3 install --no-cache-dir pandas numpy scipy scikit-learn\n#\nRUN apt-get install --no-install-recommends -y cmake unzip pkg-config libopenblas-dev liblapack-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y python-numpy python-scipy python-matplotlib python-yaml && rm -rf /var/lib/apt/lists/*;\nRUN python3 -mpip install matplotlib\n#\nRUN apt-get install --no-install-recommends -y libhdf5-serial-dev python-h5py && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y graphviz && rm -rf /var/lib/apt/lists/*;\nRUN pip install --no-cache-dir pydot-ng\n#\nRUN apt-get install --no-install-recommends -y inkscape && rm -rf /var/lib/apt/lists/*;\n#\nRUN pip3 install --no-cache-dir jupyter\n#\nRUN apt-get install --no-install-recommends -y python-opencv && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y python3-tk && rm -rf /var/lib/apt/lists/*;\n#\nEXPOSE 5901\nEXPOSE 8888\n#\n# RUN pip install keras\n#\n# Install PyCharm community edition. Comment the 2 following lines if not needed.\n# RUN wget --quiet https://download.jetbrains.com/python/pycharm-community-2018.2.4.tar.gz\nRUN wget --quiet https://download.jetbrains.com/python/pycharm-community-2020.1.2.tar.gz -O pycharm.tar.gz\nRUN tar xzf pycharm.tar.gz -C /opt/ && rm pycharm.tar.gz\n# On Ubuntu, use ~/.bash_aliases, on Debian, use ~/.bashrc\nRUN echo \"alias ll='ls -lisah'\" >> $HOME/.bashrc\n#\nRUN echo \"banner TensorFlow\" >> $HOME/.bashrc\nRUN echo \"git --version\" >> $HOME/.bashrc\nRUN echo \"echo -n 'node:' && node -v\" >> $HOME/.bashrc\nRUN echo \"echo -n 'npm:' && npm -v\" >> $HOME/.bashrc\nRUN echo \"java -version\" >> $HOME/.bashrc\nRUN echo \"vncserver -version\" >> $HOME/.bashrc\n# lsb_release: Full Linux version with details.\nRUN echo \"lsb_release -a\" >> $HOME/.bashrc\nRUN echo \"echo -n 'Python3:' && python3 -V\" >> $HOME/.bashrc\nRUN echo \"echo -n 'Keras:' && python3 -c 'import keras; print(keras.__version__)'\" >> $HOME/.bashrc\nRUN echo \"echo -n 'Jupyter:' && jupyter --version\" >> $HOME/.bashrc\nRUN echo \"echo '---------------------------------------------------------------------'\" >> $HOME/.bashrc\nRUN echo \"echo 'To start VNCserver, type: vncserver :1 -geometry 1280x800 -depth 24'\" >> $HOME/.bashrc\nRUN echo \"echo '                       or vncserver :1 -geometry 1440x900 -depth 24'\" >> $HOME/.bashrc\nRUN echo \"echo '                       or vncserver :1 -geometry 1680x1050 -depth 24 , ...etc.'\" >> $HOME/.bashrc\nRUN echo \"echo '---------------------------------------------------------------------'\" >> $HOME/.bashrc\nRUN echo \"echo 'To start Jupyter, type: jupyter-notebook --allow-root --ip 0.0.0.0 --no-browser'\" >> $HOME/.bashrc\nRUN echo \"echo '  - Default port 8888 is exposed, you can use from the host http://localhost:8888/?token=6c95d878c045212bxxxxxx'\" >> $HOME/.bashrc\nRUN echo \"echo '---------------------------------------------------------------------'\" >> $HOME/.bashrc\nRUN echo \"echo 'To run PyCharm: cd /opt/pycharm-community-20.../bin and run ./pycharm.sh'\"  >> $HOME/.bashrc\nRUN echo \"echo '---------------------------------------------------------------------'\" >> $HOME/.bashrc\nRUN echo \"echo '>> Warning: To run Chrome: $ chromium --no-sandbox '\"  >> $HOME/.bashrc\nRUN echo \"echo '---------------------------------------------------------------------'\" >> $HOME/.bashrc\n#\nUSER root\nWORKDIR /root\nRUN mkdir workdir\nWORKDIR /root/workdir\n#\nRUN git clone https://github.com/fchollet/keras\nWORKDIR /root/workdir/keras\nRUN python3 setup.py install\n#\n# Jupyter notebooks from \"Deep Learning with Python\"\nRUN git clone https://github.com/fchollet/deep-learning-with-python-notebooks.git\n# repo from \"Deep Learning Crash Course\"\nRUN git clone https://github.com/DJCordhose/deep-learning-crash-course-notebooks\n#\nRUN mkdir ./examples/oliv\n# From local file system to image\nCOPY ./tensorflow ./examples/oliv\n#    |            |\n#    |            In the Docker image\n#    On the host (this machine)\n#\n#\nWORKDIR /root/workdir\nRUN git clone https://github.com/OlivierLD/oliv-ai.git\n#\nWORKDIR /root/workdir/oliv-ai/JupyterNotebooks/deep.learning.crash.course\n#\nENV http_proxy \"\"\nENV https_proxy \"\"\nENV no_proxy \"\"\n#ENV http_proxy http://www-proxy-hqdc.us.oracle.com:80\n#ENV https_proxy http://www-proxy-hqdc.us.oracle.com:80\n## ENV ftp_proxy $http_proxy\n#ENV no_proxy \"localhost,127.0.0.1,orahub.oraclecorp.com,artifactory-slc.oraclecorp.com\"\n#\nCMD [\"echo\", \"Happy TensorFlowing!\"]\n"
}