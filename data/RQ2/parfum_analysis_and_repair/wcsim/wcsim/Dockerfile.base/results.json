{
  "startTime": 1674252114286,
  "endTime": 1674252114988,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 84
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "### Created by Dr. Benjamin Richards (b.richards@qmul.ac.uk) based on docker file from Stephane Zsoldos (s.zsoldos@qmul.ac.uk)\n\n### Download base image from cern repo on docker hub\nFROM cern/cc7-base:latest\n\n### Run the following commands as super user (root):\nUSER root\n\n#######################\n### GCC ENVIRONMENT ###\n#######################\n\n### Required package for ROOT\nRUN yum install -y \\\r\n    wget \\\r\n    tar \\\r\n    cmake \\\r\n    gcc-c++ \\\r\n    gcc \\\r\n    binutils \\\r\n    libX11-devel \\\r\n    libXpm-devel \\\r\n    libXft-devel \\\r\n    libXext-devel \\\r\n    libzstd-devel \\\r\n    git \\\r\n    mesa-libGL-devel \\\r\n    mesa-libGLU-devel \\\r\n    libXmu-devel \\\r\n    libXi-devel \\\r\n    expat-devel \\\r\n    make \\\r\n    which \\\r\n    emacs \\\r\n    && yum clean all \\\r\n    && rm -rf /var/cache/yum\n\n### Setup environment\nENV HYPERKDIR /opt/HyperK\nRUN mkdir $HYPERKDIR\nWORKDIR $HYPERKDIR\n\n### Downloading ROOT\nRUN wget https://root.cern.ch/download/root_v6.20.04.Linux-centos7-x86_64-gcc4.8.tar.gz -O root.tar.gz \\\r\n    && tar -xvzf root.tar.gz \\\r\n    && rm -f root.tar.gz\n\n### Downloading Geant4\n### There is no precompiled CentOS7 version of G4.10.1, so we need to compile it from source instead\n#RUN wget http://cern.ch/geant4-data/releases/lib4.10.1.p03/Linux-g++4.4.7-SLC6.tar.gz -O geant.tar.gz \\\n#    && tar -xvzf geant.tar.gz \\\n#    && rm -f geant.tar.gz\nRUN wget https://cern.ch/geant4-data/releases/geant4.10.01.p03.tar.gz -O geant.tar.gz \\\n    && tar -xvzf geant.tar.gz \\\n    && rm -f geant.tar.gz\nRUN mkdir $HYPERKDIR/geant4.10.01.p03-build\nRUN mkdir $HYPERKDIR/geant4.10.01.p03-install\nWORKDIR $HYPERKDIR/geant4.10.01.p03-build\nRUN cmake -DCMAKE_INSTALL_PREFIX=$HYPERKDIR/geant4.10.01.p03-install -DGEANT4_INSTALL_DATA=ON $HYPERKDIR/geant4.10.01.p03\nRUN make -j`nproc`\nRUN make install\n\n### Data files for Geant4 #done above now; keep here for reference to do in future if we use precompiled again\n#ENV G4DATA $HYPERKDIR/Geant4-10.1.3-Linux/share/Geant4-10.1.3/data\n#WORKDIR $G4DATA\n#RUN for f in G4ABLA.3.0.tar.gz G4NDL.4.5.tar.gz G4EMLOW.6.41.tar.gz G4PhotonEvaporation.3.1.tar.gz G4RadioactiveDecay.4.2.tar.gz #G4SAIDDATA.1.1.tar.gz G4NEUTRONXS.1.4.tar.gz G4PII.1.3.tar.gz RealSurface.1.0.tar.gz G4ENSDFSTATE.1.0.tar.gz; do \\\n#    \techo $f; \\\n#    \twget http://cern.ch/geant4-data/datasets/$f; \\\n#\ttar -xzvf $f; \\\n#\trm -f $f; \\\n#    done\n\n### ENV Geant4\nENV WCSIMDIR $HYPERKDIR/WCSim\nENV G4WORKDIR $WCSIMDIR/exe\nENV G4INSTALLDIR $HYPERKDIR/geant4.10.01.p03-install\nENV G4LIB $G4INSTALL/lib\n\n### Make a setup script\nWORKDIR $HYPERKDIR\nRUN echo '#!/bin/bash -x' > env-WCSim.sh \\\r\n    && echo 'source $HYPERKDIR/root/bin/thisroot.sh' >> env-WCSim.sh \\\r\n    && echo 'source $G4INSTALLDIR/bin/geant4.sh' >> env-WCSim.sh \\\r\n    && echo 'source $G4INSTALLDIR/share/Geant4-10.1.3/geant4make/geant4make.sh' >> env-WCSim.sh\n\n### Open terminal\nCMD [\"/bin/bash\"]\n\n"
}