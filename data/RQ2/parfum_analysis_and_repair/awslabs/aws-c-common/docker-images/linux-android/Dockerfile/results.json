{
  "startTime": 1674252207038,
  "endTime": 1674252208238,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 7,
        "columnEnd": 162
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 7,
        "columnEnd": 108
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 126,
        "lineEnd": 126,
        "columnStart": 7,
        "columnEnd": 108
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 139,
        "lineEnd": 139,
        "columnStart": 7,
        "columnEnd": 127
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 140,
        "lineEnd": 140,
        "columnStart": 7,
        "columnEnd": 86
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 51,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 59,
        "lineEnd": 60,
        "columnStart": 7,
        "columnEnd": 43
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 135
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 117,
        "lineEnd": 117,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 135
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 51,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 59,
        "lineEnd": 60,
        "columnStart": 7,
        "columnEnd": 43
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 135
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 117,
        "lineEnd": 117,
        "columnStart": 7,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 159
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 53
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:16.04\n\nARG NDK_VER=r15c\n\nENV LANG=\"en_US.UTF-8\" \\\n    LANGUAGE=\"en_US.UTF-8\" \\\n    LC_ALL=\"en_US.UTF-8\" \\\n    ANDROID_NDK_HOME=\"/opt/android-ndk\" \\\n    ANDROID_HOME=\"/opt/android-sdk-linux\" \\\n    ANDROID_NDK_VERSION=\"${NDK_VER}\" \\\n    CMAKE_VERSION=\"3.14.0\" \\\n    DOCKER_VERSION=\"18.03.1\" \\\n    DOCKER_COMPOSE_VERSION=\"1.21.2\"\n\n\n###############################################################################\n# Update apt\n###############################################################################\nRUN apt-get update -qq\n\n###############################################################################\n# Basics\n###############################################################################\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n    locales \\\n    # Do Locale gen\n    && locale-gen en_US.UTF-8 && rm -rf /var/lib/apt/lists/*;\n\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends -y install \\\n    git \\\n    curl \\\n    rsync \\\n    sudo \\\n    expect \\\n\n    python \\\n    python-dev \\\n    python-pip \\\n\n    build-essential \\\n    zip \\\n    unzip \\\n    tree \\\n    clang \\\n    awscli \\\n\n    software-properties-common && rm -rf /var/lib/apt/lists/*;\n\n###############################################################################\n# Docker & Docker Compose\n###############################################################################\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n    apt-transport-https \\\n    ca-certificates && rm -rf /var/lib/apt/lists/*;\nRUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nRUN set -ex \\\n    && sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" \\\n    && DEBIAN_FRONTEND=noninteractive apt-get update -qq \\\n    && DEBIAN_FRONTEND=noninteractive apt-cache policy docker-ce \\\n    && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n    docker-ce=${DOCKER_VERSION}~ce-0~ubuntu && rm -rf /var/lib/apt/lists/*;\n\nRUN set -ex \\\n    && curl -f -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose \\\n    && chmod +x /usr/local/bin/docker-compose \\\n    && docker-compose --version\n\n###############################################################################\n# Dependencies to execute Android builds\n###############################################################################\nRUN dpkg --add-architecture i386\nRUN apt-get update -qq\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y openjdk-8-jdk libc6:i386 libstdc++6:i386 libgcc1:i386 libncurses5:i386 libz1:i386 && rm -rf /var/lib/apt/lists/*;\n\n###############################################################################\n# Android SDK Manager\n###############################################################################\nRUN cd /opt \\\n    && curl -f -L https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip -o android-sdk-tools.zip \\\n    && unzip -q android-sdk-tools.zip -d ${ANDROID_HOME} \\\n    && rm android-sdk-tools.zip\n\nENV PATH ${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/tools/bin:${ANDROID_HOME}/platform-tools\n\n###############################################################################\n# Install SDK packages\n###############################################################################\n# Accept licenses before installing components\nRUN yes | sdkmanager --licenses\n\n# Platform tools\nRUN sdkmanager \"tools\" \"platform-tools\"\n\n# SDKs\n# Please keep these in descending order!\n# The `yes` is for accepting all non-standard tool licenses.\n# You can get a list of available packages by booting the container and running\n# sdkmanager --list\n# Please keep all sections in descending order!\nRUN yes | sdkmanager \\\n    \"platforms;android-21\" \\\n    \"build-tools;28.0.3\" \\\n    \"extras;android;m2repository\" \\\n    \"extras;google;m2repository\" \\\n    \"cmake;3.6.4111459\"\n\n###############################################################################\n# Gradle\n###############################################################################\nRUN apt-get -y --no-install-recommends install gradle \\\n    && gradle -v && rm -rf /var/lib/apt/lists/*;\n\n###############################################################################\n# Maven\n###############################################################################\nRUN apt-get purge maven maven2 \\\n    && apt-get update \\\n    && apt-get -y --no-install-recommends install maven \\\n    && mvn --version && rm -rf /var/lib/apt/lists/*;\n\n###############################################################################\n# Android NDK\n###############################################################################\nRUN set -ex \\\n    && mkdir -p /tmp/android-ndk-tmp \\\n    && cd /tmp/android-ndk-tmp \\\n    && curl -f -LO https://dl.google.com/android/repository/android-ndk-${ANDROID_NDK_VERSION}-linux-x86_64.zip \\\n    && unzip -q android-ndk-${ANDROID_NDK_VERSION}-linux-x86_64.zip \\\n    && mv ./android-ndk-${ANDROID_NDK_VERSION} ${ANDROID_NDK_HOME}\n\n# add to PATH\nENV PATH ${PATH}:${ANDROID_NDK_HOME}\n\n###############################################################################\n# CMake\n###############################################################################\nRUN set -ex \\\n    && mkdir -p /tmp/cmake-tmp \\\n    && cd /tmp/cmake-tmp \\\n    && curl -f -LO https://github.com/Kitware/CMake/releases/download/v${CMAKE_VERSION}/cmake-${CMAKE_VERSION}-Linux-x86_64.tar.gz \\\n    && tar xzf cmake-${CMAKE_VERSION}-Linux-x86_64.tar.gz --strip-components 1 -C /usr \\\n    && cmake --version && rm cmake-${CMAKE_VERSION}-Linux-x86_64.tar.gz\n\n###############################################################################\n# OpenSSL\n###############################################################################\nRUN set -ex \\\n    && ([ -d /opt/openssl ] && rm -rf /opt/openssl) || true \\\n    && mkdir -p /tmp/build \\\n    && cd /tmp/build \\\n    && git clone --branch OpenSSL_1_1_1-stable --depth 1 https://github.com/openssl/openssl.git \\\n    && cd openssl \\\n    && export CROSS_COMPILE=aarch64-linux-android- \\\n    && export OLD_PATH=$PATH \\\n    && export PATH=$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/:$PATH \\\n    && ./Configure android-arm64 no-asm -fPIC \\\n        no-md2 no-rc5 no-rfc3779 no-sctp no-ssl-trace no-zlib no-hw no-mdc2 \\\n        no-seed no-idea no-camellia no-bf no-dsa no-ssl3 no-capieng \\\n        no-unit-test no-tests \\\n        -DSSL_FORBID_ENULL -DOPENSSL_NO_DTLS1 -DOPENSSL_NO_HEARTBEATS \\\n        --prefix=/opt/openssl --openssldir=/opt/openssl \\\n    && make -j \\\n    && make install_sw \\\n    && export PATH=$OLD_PATH \\\n    && unset CROSS_COMPILE\n\n###############################################################################\n# Cleanup\n###############################################################################\nRUN set -ex \\\n    && cd \\\n    && apt-get update -qq \\\n    && apt-get clean \\\n    && rm -rf /tmp/*\n"
}