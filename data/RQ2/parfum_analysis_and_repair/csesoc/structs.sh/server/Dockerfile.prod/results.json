{
  "startTime": 1674250542382,
  "endTime": 1674250542835,
  "originalSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM node:16.14.2-alpine as builder\nRUN apk add --no-cache make gcc g++ python3\n\nWORKDIR /app\n\nCOPY package.json yarn.lock ./\nRUN yarn install && yarn cache clean;\n\nCOPY . .\nRUN yarn build\n\n# Required as bcrypt has extra dependencies we do not want to include in the\n# final image (to reduce image size)\nFROM node:16.14.2-alpine as bcrypt_builder\nRUN apk add --no-cache make gcc g++ python3\nWORKDIR /app\nCOPY package.json yarn.lock ./\nRUN yarn install --production && yarn cache clean;\n\n\nFROM node:16.14.2-alpine as runner\nWORKDIR /app\n\nCOPY package.json yarn.lock ./\nCOPY --from=bcrypt_builder /app/node_modules ./node_modules\n\nCOPY --from=builder /app/build ./build\n\nENV port 8080\n\nEXPOSE 8080\n\nCMD [\"node\", \"build/server.js\"]\n\n"
}