{
  "startTime": 1674254768727,
  "endTime": 1674254770483,
  "originalSmells": [
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 82
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 29,
        "columnEnd": 38
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 35,
        "columnEnd": 44
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 31,
        "columnEnd": 40
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 31,
        "columnEnd": 40
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 31,
        "columnEnd": 40
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 32,
        "columnEnd": 41
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 31,
        "columnEnd": 40
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 32,
        "columnEnd": 41
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 28,
        "columnEnd": 37
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 32,
        "columnEnd": 41
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 38,
        "columnEnd": 47
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 38,
        "columnEnd": 47
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 33,
        "columnEnd": 42
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 37,
        "columnEnd": 46
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 86,
        "lineEnd": 86,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 36,
        "columnEnd": 45
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 94,
        "lineEnd": 94,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 96,
        "lineEnd": 96,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 98,
        "lineEnd": 98,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 99,
        "lineEnd": 99,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 100,
        "lineEnd": 100,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 108,
        "lineEnd": 108,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 110,
        "lineEnd": 110,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 111,
        "lineEnd": 111,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 112,
        "lineEnd": 112,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 113,
        "lineEnd": 113,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 114,
        "lineEnd": 114,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 115,
        "lineEnd": 115,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 116,
        "lineEnd": 116,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 117,
        "lineEnd": 117,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 120,
        "lineEnd": 120,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 121,
        "lineEnd": 121,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 122,
        "lineEnd": 122,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 123,
        "lineEnd": 123,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM node:16-alpine@sha256:72a490e7ed8aed68e16b8dc8f37b5bcc35c5b5c56ee3256effcdee63e2546f93 AS builder\nMAINTAINER Tyler Levine <tyler@bitgo.com>\nRUN apk add --no-cache git python3 make g++ libtool autoconf automake\nWORKDIR /tmp/bitgo\nCOPY . .\nRUN \\\n\n    rm -rf **/node_modules **/dist && \\ \n    # install with dev deps so we can run the prepare script\n    yarn install --frozen-lockfile && \\\n    # install again to prune dev deps\n    yarn install --production --frozen-lockfile --non-interactive --ignore-scripts && \\\n    # remove any src code leftover (we only want dist)\n    rm -r modules/*/src && yarn cache clean;\n\n\nFROM node:16-alpine@sha256:72a490e7ed8aed68e16b8dc8f37b5bcc35c5b5c56ee3256effcdee63e2546f93\nRUN apk add --no-cache tini\n# copy the root node_modules to the bitgo-express parent node_modules\nCOPY --from=builder /tmp/bitgo/node_modules  /var/node_modules/\nCOPY --from=builder /tmp/bitgo/modules/express /var/bitgo-express/\n\n#COPY_START\nCOPY --from=builder /tmp/bitgo/modules/bitgo /var/modules/bitgo/\nRUN cd /var/modules/bitgo && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/abstract-eth /var/modules/abstract-eth/\nRUN cd /var/modules/abstract-eth && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/account-lib /var/modules/account-lib/\nRUN cd /var/modules/account-lib && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/blake2b /var/modules/blake2b/\nRUN cd /var/modules/blake2b && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/blake2b-wasm /var/modules/blake2b-wasm/\nRUN cd /var/modules/blake2b-wasm && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/bls-dkg /var/modules/bls-dkg/\nRUN cd /var/modules/bls-dkg && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-algo /var/modules/sdk-coin-algo/\nRUN cd /var/modules/sdk-coin-algo && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-api /var/modules/sdk-api/\nRUN cd /var/modules/sdk-api && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-core /var/modules/sdk-core/\nRUN cd /var/modules/sdk-core && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/statics /var/modules/statics/\nRUN cd /var/modules/statics && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/utxo-lib /var/modules/utxo-lib/\nRUN cd /var/modules/utxo-lib && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sjcl /var/modules/sjcl/\nRUN cd /var/modules/sjcl && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/unspents /var/modules/unspents/\nRUN cd /var/modules/unspents && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-avaxc /var/modules/sdk-coin-avaxc/\nRUN cd /var/modules/sdk-coin-avaxc && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-avaxp /var/modules/sdk-coin-avaxp/\nRUN cd /var/modules/sdk-coin-avaxp && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-cspr /var/modules/sdk-coin-cspr/\nRUN cd /var/modules/sdk-coin-cspr && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-eth /var/modules/sdk-coin-eth/\nRUN cd /var/modules/sdk-coin-eth && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-stx /var/modules/sdk-coin-stx/\nRUN cd /var/modules/sdk-coin-stx && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-xtz /var/modules/sdk-coin-xtz/\nRUN cd /var/modules/sdk-coin-xtz && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/abstract-utxo /var/modules/abstract-utxo/\nRUN cd /var/modules/abstract-utxo && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/blockapis /var/modules/blockapis/\nRUN cd /var/modules/blockapis && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-ada /var/modules/sdk-coin-ada/\nRUN cd /var/modules/sdk-coin-ada && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-bch /var/modules/sdk-coin-bch/\nRUN cd /var/modules/sdk-coin-bch && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-bcha /var/modules/sdk-coin-bcha/\nRUN cd /var/modules/sdk-coin-bcha && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-bsv /var/modules/sdk-coin-bsv/\nRUN cd /var/modules/sdk-coin-bsv && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-btc /var/modules/sdk-coin-btc/\nRUN cd /var/modules/sdk-coin-btc && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-btg /var/modules/sdk-coin-btg/\nRUN cd /var/modules/sdk-coin-btg && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-celo /var/modules/sdk-coin-celo/\nRUN cd /var/modules/sdk-coin-celo && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-dash /var/modules/sdk-coin-dash/\nRUN cd /var/modules/sdk-coin-dash && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-ltc /var/modules/sdk-coin-ltc/\nRUN cd /var/modules/sdk-coin-ltc && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-rbtc /var/modules/sdk-coin-rbtc/\nRUN cd /var/modules/sdk-coin-rbtc && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-xrp /var/modules/sdk-coin-xrp/\nRUN cd /var/modules/sdk-coin-xrp && yarn link && yarn cache clean;\nCOPY --from=builder /tmp/bitgo/modules/sdk-coin-zec /var/modules/sdk-coin-zec/\nRUN cd /var/modules/sdk-coin-zec && yarn link && yarn cache clean;\n#COPY_END\n\n#LINK_START\nRUN cd /var/bitgo-express && \\\n    yarn link bitgo && \\\n    yarn link @bitgo/abstract-eth && \\\n    yarn link @bitgo/account-lib && \\\n    yarn link @bitgo/blake2b && \\\n    yarn link @bitgo/blake2b-wasm && \\\n    yarn link @bitgo/bls-dkg && \\\n    yarn link @bitgo/sdk-coin-algo && \\\n    yarn link @bitgo/sdk-api && \\\n    yarn link @bitgo/sdk-core && \\\n    yarn link @bitgo/statics && \\\n    yarn link @bitgo/utxo-lib && \\\n    yarn link @bitgo/sjcl && \\\n    yarn link @bitgo/unspents && \\\n    yarn link @bitgo/sdk-coin-avaxc && \\\n    yarn link @bitgo/sdk-coin-avaxp && \\\n    yarn link @bitgo/sdk-coin-cspr && \\\n    yarn link @bitgo/sdk-coin-eth && \\\n    yarn link @bitgo/sdk-coin-stx && \\\n    yarn link @bitgo/sdk-coin-xtz && \\\n    yarn link @bitgo/abstract-utxo && \\\n    yarn link @bitgo/blockapis && \\\n    yarn link @bitgo/sdk-coin-ada && \\\n    yarn link @bitgo/sdk-coin-bch && \\\n    yarn link @bitgo/sdk-coin-bcha && \\\n    yarn link @bitgo/sdk-coin-bsv && \\\n    yarn link @bitgo/sdk-coin-btc && \\\n    yarn link @bitgo/sdk-coin-btg && \\\n    yarn link @bitgo/sdk-coin-celo && \\\n    yarn link @bitgo/sdk-coin-dash && \\\n    yarn link @bitgo/sdk-coin-ltc && \\\n    yarn link @bitgo/sdk-coin-rbtc && \\\n    yarn link @bitgo/sdk-coin-xrp && \\\n    yarn link @bitgo/sdk-coin-zec && yarn cache clean;\n#LINK_END\n\nUSER node\nENV NODE_ENV production\nENV BITGO_BIND 0.0.0.0\nEXPOSE 3080\nENTRYPOINT [\"/sbin/tini\", \"--\", \"/usr/local/bin/node\", \"/var/bitgo-express/bin/bitgo-express\"]\n"
}