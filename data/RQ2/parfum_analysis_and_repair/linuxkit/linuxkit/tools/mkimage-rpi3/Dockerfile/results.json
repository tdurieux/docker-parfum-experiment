{
  "startTime": 1674255692507,
  "endTime": 1674255693539,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 1,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 9
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM linuxkit/alpine:33063834cf72d563cd8703467836aaa2f2b5a300 as build\nRUN apk add --no-cache \\\n    bc \\\n    bison \\\n    dtc \\\n    curl \\\n    flex \\\n    make \\\n    gcc \\\n    git \\\n    musl-dev \\\n    patch\n\n# Create small rootfs\nRUN mkdir -p /out/etc/apk && cp -r /etc/apk/* /out/etc/apk/\nRUN apk add --no-cache --initdb -p /out \\\n    alpine-baselayout \\\n    busybox \\\n    libarchive-tools \\\n    musl \\\n    tar\nRUN rm -rf /out/etc/apk /out/lib/apk /out/var/cache\n\n# u-boot compile. The patch is needed to handle larger kernels\nENV UBOOT_COMMIT=v2019.04\nCOPY u-boot.patch .\nRUN git clone -b $UBOOT_COMMIT --depth 1 https://github.com/u-boot/u-boot.git\nWORKDIR /u-boot\nRUN patch -p 1 < /u-boot.patch && \\\n    make rpi_3_defconfig all && \\\n    mkdir -p /out/boot && \\\n    cp u-boot.bin /out/boot && \\\n    mkdir -p /out/bin && \\\n    cp tools/mkimage /out/bin\n\n# fetch the Raspberry Pi 3 firmware (latest master)\nENV RPI_COMMIT=e1900836948f6c6bdf4571da1b966a9085c95d37\nRUN mkdir -p /out/boot && \\\n    cd /out/boot && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/LICENCE.broadcom && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/bootcode.bin && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/fixup_cd.dat && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/fixup.dat && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/fixup_x.dat && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/start_cd.elf && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/start.elf && \\\n    curl -fsSLO https://github.com/raspberrypi/firmware/raw/$RPI_COMMIT/boot/start_x.elf\n\nFROM scratch\nENTRYPOINT []\nCMD []\nWORKDIR /\nCOPY --from=build /out/ /\nCOPY config.txt boot.script /boot/\nCOPY make-rpi3 /\nENTRYPOINT [ \"/make-rpi3\" ]\n"
}