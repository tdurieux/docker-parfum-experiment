{
  "startTime": 1674217654531,
  "endTime": 1674217656025,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 53,
        "lineEnd": 55,
        "columnStart": 5,
        "columnEnd": 110
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 29,
        "columnStart": 22,
        "columnEnd": 12
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 5,
        "columnEnd": 34
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 29,
        "columnStart": 22,
        "columnEnd": 12
      }
    },
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 5,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "ruleAptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 28,
        "columnStart": 22,
        "columnEnd": 12
      }
    }
  ],
  "repairedDockerfile": "# Copyright 2020 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nFROM ubuntu:20.04\nWORKDIR /usr/src/\n\nRUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n  apt-transport-https \\\n  ca-certificates \\\n  clang \\\n  cmake \\\n  git \\\n  gnupg2 \\\n  ninja-build \\\n  software-properties-common \\\n  unzip \\\n  wget \\\n\n  zlib1g-dev && rm -rf /var/lib/apt/lists/*;\n\nENV CC=/usr/bin/clang\nENV CXX=/usr/bin/clang++\n\n#===------------------------------------------------------------------------===#\n# Android NDK\n#===------------------------------------------------------------------------===#\n\nARG ANDROID_NDK_VERSION=r23\n\nRUN wget \"https://dl.google.com/android/repository/android-ndk-${ANDROID_NDK_VERSION?}-linux.zip\" \\\n  && unzip \"android-ndk-${ANDROID_NDK_VERSION?}-linux.zip\" -d /android-ndk && \\\n  rm -rf /usr/src\n\nENV ANDROID_NDK=\"/android-ndk/android-ndk-${ANDROID_NDK_VERSION}\"\n\n#===------------------------------------------------------------------------===#\n# Vulkan SDK\n#===------------------------------------------------------------------------===#\n\nARG VULKAN_SDK_VERSION=1.2.189\n\nRUN wget -qO - https://packages.lunarg.com/lunarg-signing-key-pub.asc | apt-key add - \\\n  && wget -qO \\\n    \"/etc/apt/sources.list.d/lunarg-vulkan-${VULKAN_SDK_VERSION?}-focal.list\" \\\n    \"https://packages.lunarg.com/vulkan/${VULKAN_SDK_VERSION?}/lunarg-vulkan-${VULKAN_SDK_VERSION?}-focal.list\" \\\n  && apt-get update \\\n  && apt-get install --no-install-recommends -y vulkan-sdk && rm -rf /var/lib/apt/lists/*;\n\n#===------------------------------------------------------------------------===#\n# SwiftShader Vulkan ICD\n#===------------------------------------------------------------------------===#\n\nARG SWIFTSHADER_COMMIT=7f2c7d18de0c916a326d5bf4d3c2d301eff2f4ee\n\nRUN git clone https://github.com/google/swiftshader \\\n  && cd swiftshader && git checkout \"${SWIFTSHADER_COMMIT?}\" && cd .. \\\n  && cmake -S swiftshader/ -B build-swiftshader/ \\\n           -GNinja \\\n           -DSWIFTSHADER_BUILD_VULKAN=ON \\\n           -DSWIFTSHADER_BUILD_EGL=OFF \\\n           -DSWIFTSHADER_BUILD_GLESv2=OFF \\\n           -DSWIFTSHADER_BUILD_PVR=OFF \\\n           -DSWIFTSHADER_BUILD_TESTS=OFF \\\n  && cmake --build build-swiftshader/ \\\n           --config Release \\\n           --target vk_swiftshader \\\n  && cp -rf build-swiftshader/Linux /swiftshader \\\n  && echo \"${SWIFTSHADER_COMMIT?}\" > /swiftshader/git-commit \\\n  && rm -rf /usr/src\n"
}