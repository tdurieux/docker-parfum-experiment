{
  "startTime": 1674220695297,
  "endTime": 1674220696659,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 1,
        "columnEnd": 72
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 1,
        "columnEnd": 53
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM --platform=$BUILDPLATFORM tonistiigi/xx AS xx\nFROM --platform=$BUILDPLATFORM alpine:3.16\n\nARG BUILD_PACKAGES=\"\\\n\tclang \\\n\tmake \\\n\tcmake \\\n\tlld \\\n\tcurl \\\n\tpkgconfig\"\n\nRUN\tapk add --no-cache ${BUILD_PACKAGES}\n\nARG\tLMS_BUILD_PACKAGES=\" \\\n\tgcc \\\n\tg++ \\\n\tmusl-dev \\\n\tboost-dev \\\n\tffmpeg-dev \\\n\tlibconfig-dev \\\n\ttaglib-dev \\\n\twt-dev \\\n\tgtest-dev\"\n\nCOPY --from=xx / /\n\nARG TARGETPLATFORM\nRUN\txx-apk add --no-scripts --no-cache ${LMS_BUILD_PACKAGES}\n\nARG\tPREFIX=\"/tmp/install\"\n\n# STB\nARG\tSTB_VERSION=af1a5bc352164740c1cc1354942b1c6b72eacb8a\nRUN \\\n\tDIR=/tmp/stb && mkdir -p ${DIR} && cd ${DIR} && \\\n\tcurl -f -sLO https://github.com/nothings/stb/archive/${STB_VERSION}.tar.gz && \\\n\ttar -x --strip-components=1 -f ${STB_VERSION}.tar.gz && \\\n\tmkdir -p ${PREFIX}/include/stb && \\\n\tcp ./*.h ${PREFIX}/include/stb && rm ${STB_VERSION}.tar.gz\n\n# LMS\nCOPY . /tmp/lms/\nARG LMS_BUILD_TYPE=\"Release\"\nRUN \\\n\tDIR=/tmp/lms/build && mkdir -p ${DIR} && cd ${DIR}  && \\\n\t\txx-info is-cross && export BUILD_TESTS=OFF || export BUILD_TESTS=ON && \\\n\t\tPKG_CONFIG_PATH=/$(xx-info)/usr/lib/pkgconfig cmake /tmp/lms/ -DCMAKE_INCLUDE_PATH=${PREFIX}/include -DCMAKE_BUILD_TYPE=${LMS_BUILD_TYPE} $(xx-clang --print-cmake-defines) -DCMAKE_PREFIX_PATH=/$(xx-info)/usr/lib/cmake -DBUILD_TESTING=${BUILD_TESTS} && \\\n\t\tVERBOSE=1 make -j$(nproc) && \\\n\t\txx-verify src/lms/lms && \\\n\t\t(xx-info is-cross || make test)\n"
}