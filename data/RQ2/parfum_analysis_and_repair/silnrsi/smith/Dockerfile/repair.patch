diff --git a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/silnrsi/smith/Dockerfile b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/silnrsi/smith/Dockerfile/repaired.Dockerfile
index 67b9660..563cd48 100644
--- a/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfiles/silnrsi/smith/Dockerfile
+++ b/Users/tdurieux/git/dinghy-experiment/data/evaluation/dockerfile_repair_results/silnrsi/smith/Dockerfile/repaired.Dockerfile
@@ -6,7 +6,7 @@ FROM ${ubuntuImage} AS base
 USER root
 ENV DEBIAN_FRONTEND='noninteractive' TZ='UTC'
 COPY docker/no-cache  /etc/apt/apt.conf.d/00_no-cache
-RUN apt-get update && apt-get install -y \
+RUN apt-get update && apt-get install --no-install-recommends -y \
       ca-certificates \
       git \
       gpg \
@@ -29,14 +29,14 @@ RUN apt-get update && apt-get install -y \
       python3-reportlab \
       python3-scipy \
       && \
-    localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8
+    localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8 && rm -rf /var/lib/apt/lists/*;
 ENV LANG='en_US.UTF-8'
-    
+
 
 # Set up basic build tooling environment
 FROM base AS build
 ENV PATH=$PATH:/root/.local/bin
-RUN apt-get install -y \
+RUN apt-get install --no-install-recommends -y \
       build-essential \
       cmake \
       gcovr \
@@ -54,19 +54,19 @@ RUN apt-get install -y \
       python3-pip \
       pkg-config \
       ragel \
-      &&\
-    pip install --user meson
+      && \
+    pip install --no-cache-dir --user meson && rm -rf /var/lib/apt/lists/*;
 
 
 # Grab the PPA keys for later use.
 FROM ${ubuntuImage} AS ppa-keys
 USER root
-RUN apt-get update && apt-get install -y dirmngr gnupg &&\
+RUN apt-get update && apt-get install --no-install-recommends -y dirmngr gnupg && \
     apt-key \
         --keyring /ppa-archives-keyring.gpg \
       adv \
         --keyserver keyserver.ubuntu.com \
-        --recv-keys 904F67626F1CF535 5DF1CE288B1A27EA
+        --recv-keys 904F67626F1CF535 5DF1CE288B1A27EA && rm -rf /var/lib/apt/lists/*;
 
 
 # Build Glyph layout engines
@@ -102,8 +102,8 @@ RUN git clone --depth 1 https://github.com/silnrsi/grcompiler.git . &&\
 # Build OTS Sanitizer
 FROM build AS ots-src
 WORKDIR /src/ots
-RUN pip install 'git+https://github.com/googlefonts/ots-python.git@main#egg=opentype-sanitizer' &&\
-    git clone --depth 1 --recurse-submodules https://github.com/khaledhosny/ots.git . &&\
+RUN pip install --no-cache-dir 'git+https://github.com/googlefonts/ots-python.git@main#egg=opentype-sanitizer' && \
+    git clone --depth 1 --recurse-submodules https://github.com/khaledhosny/ots.git . && \
     meson build && ninja -C build && ninja install -C build
 
 
@@ -117,7 +117,7 @@ RUN git clone --depth 1 https://github.com/HinTak/Font-Validator.git . &&\
 
 # Python components
 FROM build AS python3-dependencies
-RUN pip install \
+RUN pip install --no-cache-dir \
       'git+https://github.com/googlei18n/compreffor' \
       'git+https://github.com/googlefonts/fontbakery' \
       'git+https://github.com/fonttools/fonttools' \
@@ -130,7 +130,7 @@ RUN pip install \
       'git+https://github.com/googlei18n/ufo2ft'
 WORKDIR smith
 COPY . ./
-RUN pip install . 
+RUN pip install --no-cache-dir .
 
 
 # Final minimal smith font build system runtime CI systems
@@ -144,7 +144,7 @@ LABEL org.opencontainers.image.authors="tim_eves@sil.org, nicolas_spaligner@sil.
       org.opencontainers.image.vendor="SIL International"
 COPY docker/sources.list.d/*-${codename}.list /etc/apt/sources.list.d/
 COPY --from=ppa-keys /ppa-archives-keyring.gpg /etc/apt/trusted.gpg.d/
-RUN apt-get update && apt-get install -y \
+RUN apt-get update && apt-get install --no-install-recommends -y \
       fontforge-nox \
       libaa-bin \
       libfont-ttf-scripts-perl \
@@ -161,8 +161,8 @@ RUN apt-get update && apt-get install -y \
       wbritish \
       xsltproc \
       xz-utils \
-      &&\
-    sile -e 'installPackage("fontproof");os.exit()'
+      && \
+    sile -e 'installPackage("fontproof");os.exit()' && rm -rf /var/lib/apt/lists/*;
 COPY docker/validator-shims /usr/local/bin/
 COPY --from=fontval /usr/local /usr/local
 COPY --from=grcompiler-src /usr/local /usr/local
@@ -174,9 +174,9 @@ COPY --from=engines-src /usr/local /usr/local
 # Add in some user facing tools for interactive use.
 FROM build-agent AS interactive
 COPY bash_completion_smith /etc/bash_completion.d/
-RUN apt-get update && apt-get install -y bash-completion less nano ncdu sudo &&\
-    useradd -md /build builder &&\
-    echo 'builder ALL=(ALL) NOPASSWD:ALL' >>/etc/sudoers
+RUN apt-get update && apt-get install --no-install-recommends -y bash-completion less nano ncdu sudo && \
+    useradd -md /build builder && \
+    echo 'builder ALL=(ALL) NOPASSWD:ALL' >>/etc/sudoers && rm -rf /var/lib/apt/lists/*;
 VOLUME /build
 USER builder
 CMD ["/bin/bash"]
@@ -192,5 +192,5 @@ LABEL org.opencontainers.image.authors="tim_eves@sil.org, nicolas_spaligner@sil.
       org.opencontainers.image.source="https://github.com/silnrsi/smith" \
       org.opencontainers.image.vendor="SIL International"
 RUN apt-get autoremove --purge &&\
-    rm /var/lib/apt/lists/* /var/lib/apt/lists/partial/*; true 
+    rm /var/lib/apt/lists/* /var/lib/apt/lists/partial/*; true