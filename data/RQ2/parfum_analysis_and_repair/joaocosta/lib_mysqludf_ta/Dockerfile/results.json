{
  "startTime": 1674216803801,
  "endTime": 1674216805152,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 21,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 9,
        "columnStart": 22,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM mariadb:10.5\nMAINTAINER Joao Costa <joaocosta@zonalivre.org>\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n        autoconf \\\n        automake \\\n        gcc \\\n        libmariadb-dev \\\n        libtool \\\n        make \\\n        && rm -rf /var/lib/apt/lists/*\n\nADD . /root/libmysqludfta\n\nWORKDIR /root/libmysqludfta\n\nRUN autoreconf -i && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-mysql=`which mariadb-config` && make install\nRUN cp setup/*_up.sql /docker-entrypoint-initdb.d/.\n\nCMD [\"mysqld\", \"--plugin-dir\", \"/usr/lib/x86_64-linux-gnu/libmariadb3/plugin\"]\n\n# docker build  --tag mysqludf/latest .\n# docker run --name fxdata -v $HOME/mysql:/var/lib/mysql -v $HOME/fx/cfg/mariadb:/etc/mysql/conf.d --hostname=datatest -e MYSQL_ROOT_PASSWORD=root -e MYSQL_DATABASE=fxdata -d --name fxdatatest lib_mysqludf/tatest\n# docker run -it --link fxdatatest:mysql --rm mariadb sh -c 'exec mysql -h\"$MYSQL_PORT_3306_TCP_ADDR\" -P\"$MYSQL_PORT_3306_TCP_PORT\" -uroot -p\"$MYSQL_ENV_MYSQL_ROOT_PASSWORD\"'\n# https://hub.docker.com/_/mariadb/\n"
}