{
  "startTime": 1674250420906,
  "endTime": 1674250421670,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 3,
        "columnEnd": 33
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM --platform=$TARGETPLATFORM alpine:3.9 AS builder\n\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories && \\\n    apk add --no-cache build-base\n\n# https://sourceforge.net/projects/shttpd/files/shttpd/1.42/\nRUN wget -O ./shttpd-1.42.tar.gz https://github.com/ericwang2006/shttpd/archive/refs/tags/v1.42.tar.gz && \\\n   tar -zxvf ./shttpd-1.42.tar.gz && \\\n   cd shttpd-1.42/src && \\\n   LIBS=\"-lpthread -ldl \" make unix && rm ./shttpd-1.42.tar.gz\n\nFROM --platform=$TARGETPLATFORM alpine\n\nLABEL maintainer=\"eric <ericwang2006@gmail.com>\"\n\n# ENV TZ=Asia/Shanghai\n# ENV LANG C.UTF-8\n\n# start.sh用脚本监控ttnode进程,不用cron\nRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories && \\\n    apk update && apk add tzdata bash libstdc++ openssl ca-certificates curl jq nano bc iptables ip6tables && \\\n    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \\\n    echo \"Asia/Shanghai\" > /etc/timezone && \\\n    rm -rf /tmp/* /var/tmp/* /var/cache/apk/* /var/cache/distfiles/*\n\nCOPY . /usr/node/\nCOPY --from=builder /shttpd-1.42/src/shttpd /usr/node/\nRUN /usr/node/init_arch.sh && rm /usr/node/init_arch.sh && rm /usr/node/Dockerfile\n\nWORKDIR /usr/node\n\nEXPOSE 1043\n\nVOLUME [\"/config\"]\n\nCMD [\"/usr/node/start.sh\"]\n"
}