{
  "user": "tenzir",
  "name": "threatbus",
  "namespace": "tenzir",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "ðŸšŒ Threat Bus â€“ A threat intelligence dissemination layer for open-source security tools. ",
  "is_private": false,
  "is_automated": false,
  "can_edit": false,
  "star_count": 0,
  "pull_count": 345726,
  "last_updated": "2022-05-16T10:58:53.407086Z",
  "date_registered": "2020-01-29T16:26:01.220907Z",
  "collaborator_count": 0,
  "affiliation": null,
  "hub_user": "tenzir",
  "has_starred": false,
  "full_description": "\n<h1 align=\"center\">\n  Threat Bus\n</h1>\n<h4 align=\"center\">\n\nA threat intelligence dissemination layer for open-source security tools.\n\n[![PyPI Status][pypi-badge]][pypi-url]\n[![Build Status][ci-badge]][ci-url]\n[![Total alerts][lgtm-alerts-badge]][lgtm-alerts-url]\n[![Language grade: Python][lgtm-quality-badge]][lgtm-quality-url]\n[![Development Status][beta-badge]][latest-release-url]\n[![Latest Release][latest-release-badge]][latest-release-url]\n[![License][license-badge]][license-url]\n\n[_Getting Started_](#getting-started) &mdash;\n[_Contributing Guidelines_][contributing-url] &mdash;\n[_Writing Plugins_](#plugin-development) &mdash;\n[_License_](#license) &mdash;\n[_Documentation_][docs]\n</h4>\n<div align=\"center\">\n\n[![Chat][chat-badge]][chat-url]\n</div>\n\n## Key Features\n\n- **Connect Open-Source Security Tools**: Threat Bus is a pub-sub broker for\n  threat intelligence data. With *Threat Bus* you can seamlessly integrate\n  threat intel platforms like [OpenCTI][opencti] or [MISP][misp] with detection\n  tools and databases like [Zeek][zeek] or [VAST][vast].\n\n- **Native STIX-2**: Threat Bus transports indicators and sightings encoded as\n  per the [STIX-2](https://oasis-open.github.io/cti-documentation/stix/intro)\n  open format specification.\n\n- **Plugin-based Architecture**: The project is plugin-based and can be extended\n  easily. Read about the different [plugin types][plugin-types] and\n  [how to write your own][plugin-development].\n  We welcome contributions to adopt new open source tools!\n\n- **Official Plugins**: We maintain many plugins right in the official Threat\n  Bus repository. Check out our integrations for [MISP][misp], [Zeek][zeek],\n  [CIFv3][cif], and generally apps that connect via [ZeroMQ][zmq], like\n  [vast-threatbus][vast-threatbus] and our\n  [OpenCTI connector][opencti-connector].\n\n- **Snapshotting**: The snapshot feature allows subscribers to directly request\n  threat intelligence data for a certain time range from other applications.\n  Threat Bus handles the point-to-point communication of all involved apps.\n\n\n## Getting Started\n\nThe `config.yaml.example` file provides a working configuration for Threat Bus\nwith all existing application plugins enabled together with the RabbitMQ\nbackbone.\n\nThe following example shows how to connect [Zeek][zeek] via Threat Bus. There\nare more integrations available, so make sure to check out all\n[Threat Bus projects on PyPI](https://pypi.org/search/?q=threatbus).\n\nThe example assumes that `threatbus` is available in your PATH. See the\nsection on [Installation](#installation) below for more information on how to\nget there.\n\n*Start Threat Bus*\n\n```sh\nthreatbus\n```\n\n*Start with a specially named config file*\n\nThe `config.yaml.example` file in this directory gives an overview of\nthe available config keys and their default values.\n\n```sh\nthreatbus -c /path/to/your/special-config.yaml\n```\n\n*Environment variables take precedence over config file values. Prefix\neverything with `THREATBUS_`*\n\n```sh\nexport THREATBUS_LOGGING__CONSOLE=true\nthreatbus -c /path/to/your/special-config.yaml\n```\n\nNote that you must use a double underscores `__` in your env to refer to nested\nconfig variables.\n\n*Start Zeek as Threat Bus app*\n\n```sh\nzeek -i <INTERFACE> -C ./apps/zeek/threatbus.zeek\n```\n\n*Start Zeek and request a snapshot*\n\n```sh\nzeek -i <INTERFACE> -C ./apps/zeek/threatbus.zeek \"Tenzir::snapshot_intel=30 days\"\n```\n\nThreat Bus also ships as pre-built Docker image and is available on\n[Docker Hub](https://hub.docker.com/r/tenzir/threatbus).\n\n*Use the Threat Bus Docker container*\n\n```sh\ndocker run tenzir/threatbus:latest --help\n```\n\n*Start Threat Bus container with a custom config file*\n\n```sh\ndocker run -p 47661:47661 -v $PWD/my-custom-config.yaml:/opt/tenzir/threatbus/my-custom-config.yaml tenzir/threatbus:latest -c my-custom-config.yaml\n```\n\nTip: Threat Bus checks for config files with default names. If you mount your\nconfig file to `/opt/tenzir/threatbus/config.yaml`, you can start the\napplication without specifying the config file location with the `-c` parameter.\n\n## Installation\n\nInstall `threatbus` and all plugins that you require. Optionally, use a virtual\nenvironment.\n\nNote that Threat Bus requires at least Python 3.7+, earlier versions are not supported.\n\n```\nvirtualenv venv                       # optional\nsource venv/bin/activate              # optional\npip install threatbus\npip install threatbus-inmem           # inmemory backbone plugin\npip install threatbus-rabbitmq        # RabbitMQ backbone plugin\npip install threatbus-misp[zmq]       # MISP application plugin\npip install threatbus-zeek            # Zeek application plugin\npip install threatbus-zmq             # ZeroMQ application plugin\npip install threatbus-<plugin_name>\n```\n\n### Testing\n\nUse the `Makefile` to run unit and integration tests.\n\n```\nmake unit-tests\nmake integration-tests\n```\n\nThe integration tests require a local [Zeek][zeek] and\n[Docker](https://www.docker.com/) installation.\n\n\n## Development\n\nSetup a virtual environment and install `threatbus` and some plugins with the\nin development mode:\n\n```\nvirtualenv venv\nsource venv/bin/activate\nmake dev-mode\n```\n\n### Configuration & Extension\n\nA plugin must define a `setup.py`. Whenever a plugin is installed, you have to\nadd a corresponding configuration section to `threatbus`' `config.yaml`. That\nsection has to be named after the `name` in the entrypoint declaration of the\nplugin's `setup.py` file.\n\nPlease adhere to the [plugin naming conventions](https://pluggy.readthedocs.io/en/latest/#a-complete-example)\nand always prefix your plugin name with `threatbus-`.\n\nPlugins can either be *apps* or *backbones*. Application plugins (apps) add new\nfunctionality to Threat Bus and allow communication to a specific app and/or\nvia a specific protocol (e.g., ZeroMQ or Zeek/broker). Backbone plugins add a\nnew storage and distribution backend to Threat Bus (e.g., in-memory or\nRabbitMQ).\n\nExample:\n\n- plugin folder structure:\n  ```sh\n  plugins\n  â”œâ”€â”€ apps\n  |   â””â”€â”€ threatbus-myapp\n  â”‚       â”œâ”€â”€ setup.py\n  |       â””â”€â”€ threatbus_myapp.py\n  â””â”€â”€ backbones\n      â””â”€â”€ threatbus-inmem\n          â”œâ”€â”€ setup.py\n          â””â”€â”€ threatbus_inmem.py\n  ```\n- `setup.py`\n  ```py\n  from setuptools import setup\n  setup(\n    name=\"threatbus-myapp\",\n    install_requires=\"threatbus\",\n    entry_points={\"threatbus.app\": [\"myapp = threatbus_myapp\"]},\n    py_modules=[\"threatbus_myapp\"],\n  )\n  ```\n- `config.yaml` entry for `threatbus`\n  ```yaml\n  ...\n  plugins:\n    apps:\n      myapp:\n      ...\n  ```\n\n### Threat Bus API\n\nPlugins specifications are available in `threatbus/appspecs.py` and\n`threatbus/backbonespecs.py`, respectively. For any plugin, you should at least\nimplement the `run` function.\n\nApp plugins are provided two callback functions to use for subscription\nmanagement. Internally, Threat Bus will propagate subscription requests to all\ninstalled backbone plugins.\n\nThe subscription callback allows applications to request an optional snapshot\ntime delta. Threat Bus will forward snapshot requests to all those apps that\nhave implemented the snapshot feature (see `threatbus/appspecs.py`).\n\n### Implementation\n\nPlease use the\n[StoppableWorker](https://github.com/tenzir/threatbus/blob/master/threatbus/stoppable_worker.py)\nbase class to model your plugin's busy work. Plugins should never block the main\nthread of the application. Implementing that class also facilitates a graceful\nshutdown.\n\nAll officially maintained Threat Bus plugins implement `StoppableWorker`. Refer\nto any of the existing plugins for an example.\n\n## License\n\nThreat Bus comes with a [3-clause BSD license][license-url].\n\n\n[opencti]: https://www.opencti.io/\n[opencti-connector]: https://github.com/OpenCTI-Platform/connectors/tree/master/threatbus\n[misp]: https://github.com/misp/misp\n[vast]: https://github.com/tenzir/vast\n[docs]: https://docs.tenzir.com/threatbus\n[zeek]: https://www.zeek.org\n[cif]: https://github.com/csirtgadgets/bearded-avenger\n[zmq]: https://zeromq.org/\n[misp-zmq-config]: https://github.com/MISP/misp-book/tree/master/misp-zmq#misp-zeromq-configuration\n[plugin-types]: https://docs.tenzir.com/threatbus/plugins/overview\n[plugin-development]: https://docs.tenzir.com/threatbus/plugins/plugin-development\n[vast-threatbus]: https://github.com/tenzir/threatbus/tree/master/apps/vast\n\n[pypi-badge]: https://img.shields.io/pypi/v/threatbus.svg\n[pypi-url]: https://pypi.org/project/threatbus\n[contributing-url]: https://github.com/tenzir/.github/blob/master/contributing.md\n[latest-release-badge]: https://img.shields.io/github/commits-since/tenzir/threatbus/latest.svg?color=green\n[latest-release-url]: https://github.com/tenzir/threatbus/releases\n[ci-url]: https://github.com/tenzir/threatbus/actions?query=branch%3Amaster\n[ci-badge]: https://github.com/tenzir/threatbus/workflows/Python%20Egg/badge.svg?branch=master\n[chat-badge]: https://img.shields.io/badge/Slack-Tenzir%20Community%20Chat-brightgreen?logo=slack&color=purple&style=flat\n[chat-url]: http://slack.tenzir.com\n[license-badge]: https://img.shields.io/badge/license-BSD-blue.svg\n[license-url]: https://github.com/tenzir/threatbus/blob/master/COPYING\n[beta-badge]: https://img.shields.io/badge/stage-beta-blue\n[lgtm-alerts-badge]: https://img.shields.io/lgtm/alerts/g/tenzir/threatbus.svg?logo=lgtm&logoWidth=18\n[lgtm-alerts-url]: https://lgtm.com/projects/g/tenzir/threatbus/alerts/\n[lgtm-quality-badge]: https://img.shields.io/lgtm/grade/python/g/tenzir/threatbus.svg?logo=lgtm&logoWidth=18\n[lgtm-quality-url]: https://lgtm.com/projects/g/tenzir/threatbus/context:python\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.container.image.v1+json"
  ],
  "content_types": [
    "image"
  ]
}