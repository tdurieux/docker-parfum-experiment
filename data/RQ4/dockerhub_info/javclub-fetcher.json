{
  "user": "javclub",
  "name": "fetcher",
  "namespace": "javclub",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "",
  "is_private": false,
  "is_automated": false,
  "can_edit": false,
  "star_count": 0,
  "pull_count": 15502,
  "last_updated": "2021-06-14T00:32:44.722755Z",
  "date_registered": "2020-03-28T08:17:56.60488Z",
  "collaborator_count": 0,
  "affiliation": null,
  "hub_user": "javclub",
  "has_starred": false,
  "full_description": "# JAVClub fetcher\n🔞 Data fetcher for JAVClub core\n\n❗ | **因架构调整，本项目已不再维护并将存档。新项目将支持泛媒体文件管理，相关开发工作将迁移至 [@UsagiHouse](https://github.com/UsagiHouse) 进行，请知悉**\n:---: | :---\n\n## 简介\n\n这是一个涩情(划掉) Repo，用来配合涩情(划掉)核心工作\n\n重写后已重新支持 OneJAV, 具体可参考配置文件\n\n## 使用\n\n完整支持 Docker, 仅需几部即可完成部署\n\n### Docker 安装\n\n请参考 [JAVClub/docker](https://github.com/JAVClub/docker/tree/master/fetcher) 项目\n\n### 非 Docker\n\n#### 环境\n\n- 任意 Linux 发行版\n- Node.js 10+\n- qBittorrent 4.2.1\n- rclone\n- ffmpeg\n- Your brain\n\n**只能使用 qBittorrent 4.2.1**, 原因是随着版本变动 API endpoint 也会不断变动, 所以只能选择一个版本, 而作者正好使用这个版本, 所以就确定是 4.2.1 了\n该版本对应的 Docker image 是 `linuxserver/qbittorrent:14.2.0.99201912180418-6819-118af03ubuntu18.04.1-ls62`, 已写入 docker-compose.yaml\n\n#### 安装\n\n直接 clone 加 npm i 一梭子\n\n```bash\ngit clone https://github.com/JAVClub/fetcher.git\ncd fetcher\nnpm i\n```\n\n#### 配置\n\n```json\n{\n    \"system\": {\n        \"logLevel\": \"info\"\n    },\n    \"remote\": [\n        {\n            \"driver\": \"RSS\",\n            \"type\": \"MT\",\n            \"url\": \"https://pt.m-team.cc/torrentrss.php?https=1&rows=50&cat410=1&isize=1&search=-&search_mode=1&linktype=dl&passkey=yourkeyhere\",\n            \"interval\": 300\n        },\n        {\n            \"driver\": \"OneJAV\",\n            \"url\": \"https://onejav.com/popular/\",\n            \"interval\": 300\n        }\n    ],\n    \"qbittorrent\": {\n        \"baseURL\": \"http://127.0.0.1:8080\",\n        \"username\": \"admin\",\n        \"password\": \"adminadmin\",\n        \"savePath\": \"\"\n    }\n}\n```\n\n在 `dev.json` 文件中填写你的服务器信息, 对一些细节做解释\n\n- **remote[]**\n  - **driver:** 目前支持 RSS / OneJAV 订阅\n  - **type:** RSS 的解析方法 (仅在驱动为 RSS 时生效)\n    - **MT:** MT 代表 PT 站 M-Team 的 RSS 格式; 具体: 以车牌号开头(XXX-0NN), 车牌号后紧跟空格, 以大小结尾([xx.xxG]), 可在 Nexus RSS 订阅中勾选包括大小得到\n  - **url:** \b订阅地址(OneJAV 直接填写列表页地址即可)\n- **qbittorrent**\n  - **savePath:** 下载文件保存路径, 非 Docker 使用留空即可, 若使用 [JAVClub/docker](https://github.com/JAVClub/docker) 部署则填写 `/usr/app/tmp/downloads/JAVClub/` 即可\n\n#### 运行\n\n重构后不再需要从视频中截取分镜, 而是直接从 JAVbus 读取 DMM 的数据, 所以性能消耗有所下降\n\n目前将监测模式更改为了 qBittorrent 自带的指定条件自动暂停, 在使用前请在 qBittorrent 的选项 -> BitTorrent 中按照你的需求勾选做种限制中的任意一项(或两项一起)\n\n运行只需执行 `NODE_ENV=dev node src/app.js` 即可, 可以使用 systemd/pm2 等持久化工具\n\n当种子处理完毕后, 脚本会自动将处理好的文件移至 `./tmp/sync` 目录, 只需要使用 `rclone move` 监听此目录即可\n\n## 捐赠\n\n这个项目虽然不算麻烦但还是挺繁琐的, 所以如果想请我喝一杯咖啡也是可以的\n\n用[爱发电](https://afdian.net/@isXiaoLin) (大雾\n\n## 免责声明\n\n本程序仅供学习了解, 请于下载后 24 小时内删除, 不得用作任何商业用途, 文字、数据及图片均有所属版权, 如转载须注明来源\n\n使用本程序必循遵守部署服务器所在地、所在国家和用户所在国家的法律法规, 程序作者不对使用者任何不当行为负责\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.container.image.v1+json"
  ],
  "content_types": [
    "image"
  ]
}