{
  "user": "nwtgck",
  "name": "http-knocking",
  "namespace": "nwtgck",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "HTTP knocking like port knocking",
  "is_private": false,
  "is_automated": true,
  "can_edit": false,
  "star_count": 0,
  "pull_count": 880,
  "last_updated": "2019-07-13T12:46:46.567847Z",
  "date_registered": "2018-08-16T06:15:22.836328Z",
  "collaborator_count": 0,
  "affiliation": null,
  "hub_user": "nwtgck",
  "has_starred": false,
  "full_description": "# http-knocking\n\n[![NpmVersion](https://img.shields.io/npm/v/http-knocking.svg)](https://www.npmjs.com/package/http-knocking) [![CircleCI](https://circleci.com/gh/nwtgck/http-knocking.svg?style=shield)](https://circleci.com/gh/nwtgck/http-knocking) [![Docker Automated build](https://img.shields.io/docker/automated/nwtgck/http-knocking.svg)](https://hub.docker.com/r/nwtgck/http-knocking/) [![](https://images.microbadger.com/badges/image/nwtgck/http-knocking.svg)](https://microbadger.com/images/nwtgck/http-knocking \"Get your own image badge on microbadger.com\")\n\nHTTP knocking is like port knocking. It hides your server, and allows you to open/close the server by certain knocking.   \nIn HTTPS communication, knocking is hidden because of encryption unlike port knocking.\n\n![demo1](demo_images/demo1.gif)\n\n## Run with npm\n\nSuppose http://localhost:8181/ is running. The following command runs a http-knocking server on port 8282.\n\n```bash\nnpm install -g http-knocking\nhttp-knocking --port=8282 --target-host=localhost --target-port=8181 --open-knocking=\"/alpha,/foxtrot,/lima\"\n```\n\nIn the case of `--open-knocking=\"/alpha,/foxtrot,/lima\"`, you can **open the server** by accessing to\n\n1. <http://localhost:8282/alpha>\n1. <http://localhost:8282/foxtrot>\n1. <http://localhost:8282/lima>  \n\nClose procedure is the reverse order of open if `--close-knocking` is not specfied.  \nTechnically, `localhost:8282` is a reverse proxy server to `localhost:8181`.\n\n\n## Run with Docker Compose\n\nHere is a `docker-compose.yml` to run [Ghost](https://ghost.org/) on http-knocking.\n\n```yaml\nversion: '3.1'\nservices:\n  http-knocking:\n    image: nwtgck/http-knocking:v0.3.1\n    ports:\n      - '8282:8282'\n    depends_on:\n      - ghost\n    restart: always\n    command: --port=8282 --target-host=ghost --target-port=2368 --open-knocking=\"/alpha,/foxtrot,/lima\"\n  ghost:\n    image: ghost\n    restart: always\n    expose:\n      - \"2368\"\n```\n\n## Options\n\nHere is available options.\n\n```\nOptions:\n  --help                               Show help                       [boolean]\n  --version                            Show version number             [boolean]\n  --port                               Port of knocking server\n                                                             [number] [required]\n  --target-host                        Target host to hide   [string] [required]\n  --target-port                        Target port to hide[number] [default: 80]\n  --open-knocking                      Open-knocking sequence (e.g.\n                                       \"/alpha,/foxtrot,/lima\")         [string]\n  --close-knocking                     Close-knocking sequence (e.g.\n                                       \"/victor,/kilo\")                 [string]\n  --enable-websocket                   Enable WebSocket proxy   [default: false]\n  --auto-close-millis                  Time millis to close automatically\n                                                                        [number]\n  --open-knocking-max-interval-millis  Time millis to reset open procedure\n                                                                        [number]\n  --http-request-limit                 Limit of HTTP request            [number]\n  --on-upgrade-limit                   Limit of on-upgrade (WebSocket)  [number]\n  --enable-fake-nginx                  Enable fake Nginx Internal Server Error\n                                       response                 [default: false]\n  --fake-nginx-version                 Nginx version in fake Nginx Internal\n                                       Server Error response [default: \"1.15.2\"]\n  --enable-empty-response              Enable empty response (NOTE: Not empty\n                                       HTTP body)               [default: false]\n  --enable-knocking-update             Enable auto knocking-update\n                                                                [default: false]\n  --knocking-update-interval-sec       Interval millis of auto knocking-update\n                                                                 [default: 1800]\n  --min-knocking-length                Min knocking length used in auto\n                                       knocking-update              [default: 6]\n  --max-knocking-length                Max knocking length used in auto\n                                       knocking-update              [default: 8]\n  --n-knockings                        The number of knocking sequence used in\n                                       auto knocking-update         [default: 3]\n  --webhook-url                        Webhook URL used in auto knocking-update\n                                                                        [string]\n  --webhook-template-path              Webhook template file path used in auto\n                                       knocking-update                  [string]\n```\n\n `--auto-close-millis` option makes your server more secure because it closes automatically by time.  \n `--open-knocking-max-interval-millis` option also makes your server more secure because it resets open procedure by time.  \n `--http-request-limit` restricts the number of HTTP requests after knocking server opening.  \n `--on-upgrade-limit` restricts the number of on-upgrade (WebSocket) after knocking server opening.  \n `--enable-fake-nginx` option fakes server response like \"Nginx Internal Server Error\" when the knocking server is closed.    \n `--fake-nginx-version` option specifies Nginx version used in fake \"Internal Server Error\" response.      \n `--enable-empty-response` option changes a knocking server response to be empty when the knocking server is closed\n\n ## Auto Knocking-Update\n\n To get more secure, `--enable-knocking-update` option updates knocking-sequences regularly and notifies new sequences via Webhook. You can use **any Webhook-supported services**.\n\nHere is a demo to notify to [Slack](https://slack.com).\n\n ![Auto Knocking-Update to Slack](demo_images/auto-knocking-update-slack.gif)\n\nHere is a demo to notify to [Discord](https://discordapp.com).\n\n ![Auto Knocking-Update to Discord](demo_images/auto-knocking-update-discord.gif)\n \nTemplates of JSON notified to the services are located at  \n- [webhook-templates/slack_template.json](webhook-templates/slack_template.json)\n- [webhook-templates/discord_template.json](webhook-templates/discord_template.json)\n\nThe following options are required to enable auto knocking-update.\n* `--enable-knocking-update`\n* `--webhook-url=https://...`\n* `--webhook-template-path=./path/to/webhook/template`\n\n### Fake English words\n\nFake English words used in auto knocking-update are generated by [fakelish](https://github.com/nwtgck/fakelish-npm).\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.container.image.v1+json"
  ],
  "content_types": [
    "image"
  ]
}