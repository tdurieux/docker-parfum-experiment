{
  "user": "mitre",
  "name": "heimdall2",
  "namespace": "mitre",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "",
  "is_private": false,
  "is_automated": false,
  "can_edit": false,
  "star_count": 1,
  "pull_count": 1451303,
  "last_updated": "2023-01-05T00:01:53.260005Z",
  "date_registered": "2020-09-08T15:25:03.493948Z",
  "collaborator_count": 0,
  "affiliation": null,
  "hub_user": "mitre",
  "has_starred": false,
  "full_description": "# Heimdall Enterprise Server 2.0\n\n![Run E2E Backend + Frontend Tests](https://github.com/mitre/heimdall2/workflows/Run%20E2E%20Backend%20+%20Frontend%20Tests/badge.svg) ![Run Frontend Tests](https://github.com/mitre/heimdall2/workflows/Run%20Frontend%20Tests/badge.svg) ![Run Backend Tests](https://github.com/mitre/heimdall2/workflows/Run%20Backend%20Tests/badge.svg)\n\nThis repository contains the source code for the Heimdall 2 Backend and Frontend (Heimdall-Lite).\n\n## Demos\n\n### Video\n\n![](https://github.com/mitre/docs-mitre-inspec/raw/master/images/Heimdall_demo.gif)\n\n### Hosted\n\n#### *These demos are only intended to show the functionality of Heimdall, please do not upload any sensitive data to them.*\n\n#### Released Previews\n\n[Heimdall Lite](https://heimdall-lite.mitre.org) | [Heimdall Server](https://heimdall-demo.mitre.org/)\n\n#### Current *Development Master Branch* Preview\n\n[Heimdall Lite](https://heimdall-lite.netlify.com/) | [Heimdall Server](https://mitre-heimdall-staging.herokuapp.com/)\n\n\n\n## Heimdall vs Heimdall-Lite\n\nThere are two versions of the MITRE Heimdall Viewer - the full Heimdall Enterprise Server and the Heimdall-Lite version. Both share the same frontend but have been produced to meet different needs and use-cases.\n\nAs a single-page javascript app - you can run Heimdall-Lite from any web-server, a _secured_ S3 bucket or directly via GitHub Pages (as it is here). Heimdall-Lite gives you the ability to easily review and produce reports about your InSpec run, filter the results for easy review and hot-wash, print out reports, generate System Security Plan (SSP) content, and much more.\n\n### Features\n\n|                                                              | [Heimdall-Lite](https://github.com/mitre/heimdall-lite/) |        [Heimdall](https://github.com/mitre/heimdall/)        |\n| :----------------------------------------------------------- | :------------------------------------------------------: | :----------------------------------------------------------: |\n| Installation Requirements                                    |                      any web server                      |                       Postgres Server                        |\n| Overview Dashboard & Counts                                  |                            x                             |                              x                               |\n| 800-53 Partition and TreeMap View                            |                            x                             |                              x                               |\n| Data Table / Control Summary                                 |                            x                             |                              x                               |\n| InSpec Code / Control Viewer                                 |                            x                             |                              x                               |\n| SSP Content Generator                                        |                                                          |                              x                               |\n| Users & Roles & multi-team support                           |                                                          |                              x                               |\n| Authentication & Authorization                               |                    Hosting Webserver                     | Hosting Webserver<br />LDAP<br />OAuth Support for:<br /> GitHub, GitLab, Google, and Okta. |\n| Advanced Data / Filters for Reports and Viewing              |                                                          |                              x                               |\n| Multiple Report Output<br />(DISA Checklist XML, CAT, XCCDF-Results, and more) |                                                          |                              x                               |\n| Authenticated REST API                                       |                                                          |                              x                               |\n| InSpec Run 'Delta' View                                      |                                                          |                              x                               |\n| Multi-Report Tagging, Filtering and Delta View               |                                                          |                              x                               |\n\n### Use Cases\n\n| [Heimdall-Lite](https://github.com/mitre/heimdall-lite/) | [Heimdall](https://github.com/mitre/heimdall/)           |\n| :------------------------------------------------------: | :------------------------------------------------------: |\n|            Ship the App & Data via simple Email          |                 Multiple Teams Support                   |\n|            Minimal Footprint & Deployment Time           |               Timeline and Report History                |\n|                Local or disconnected Use                 |               Centralized Deployment Model               |\n|                 One-Time Quick Reviews                   |       Need to view the delta between one or more runs    |\n|                Decentralized Deployment                  |   Need to view subsets of the 800-53 control alignment   |\n|                    Minimal A&A Time                      | Need to produce more complex reports in multiple formats |\n\n\n\n## Getting Started / Installation\n\n### Heimdall Lite\n\nHeimdall Lite is published to npmjs.org and is available [here](https://www.npmjs.com/package/heimdall-lite).\n\n#### Running via npm\n\nTo run Heimdall Lite locally, just use the `npm` built-in utility `npx`:\n\n```bash\nnpx @mitre/heimdall-lite\n```\n\nIf you use this tool often and want to have it installed locally, use the following command:\n\n```bash\nnpm install -g @mitre/heimdall-lite\n```\n\nThen, any subsequent `npx @mitre/heimdall-lite` will use the local version and load much more quickly.\n\n#### Running via Docker\n\nIt is also possible to run heimdall-lite using Docker, using the following command:\n\n```bash\ndocker run -d -p 8080:80 mitre/heimdall-lite:release-latest\n```\n\nYou can then access heimdall-lite at [`http://localhost:8080`](http://localhost:8080).\n\nIf you would prefer to run the bleeding edge version of heimdall-lite, replace `mitre/heimdall-lite:release-latest` with `mitre/heimdall-lite:latest`.\n\n---\n\n### Heimdall Server - Docker\n\nGiven that Heimdall requires at least a database service, we use Docker and Docker Compose to provide a simple deployment experience.\n\n#### Setup Docker Container (Clean Install)\n\n1. Install Docker\n\n2. Download and extract the most recent Heimdall release from our [releases page](https://github.com/mitre/heimdall2/releases).\n\n3. Navigate to the base folder where `docker-compose.yml` is located\n\n4. By default Heimdall will generate self-signed certificates that will last for 7 days. Place your certificate files in `./nginx/certs/` with the names `ssl_certificate.crt` and `ssl_certificate_key.key` respectively.\n\n5. Run the following commands in a terminal window from the Heimdall source directory. For more information on the .env file, visit [Environment Variables Configuration.](https://github.com/mitre/heimdall2/wiki/Environment-Variables-Configuration)\n   - ```bash\n     ./setup-docker-secrets.sh\n     # If you would like to further configure your Heimdall instance, edit the .env file generated after running the previous line\n     docker-compose up -d\n     ```\n\n6. Navigate to  [`http://127.0.0.1:3000`](http://127.0.0.1:3000).\n\n#### Running Docker Container\n\nMake sure you have run the setup steps at least once before following these steps!\n\n1. Run the following command in a terminal window: ``docker-compose up -d``\n\n2. Go to [`http://127.0.0.1:3000`](http://127.0.0.1:3000) in a web browser.\n\n#### Updating Docker Container\n\n> **Starting with version 2.5.0, Heimdall on Docker uses SSL by default. Place your certificate files in `./nginx/certs/` with the names `ssl_certificate.crt` and `ssl_certificate_key.key` respectively.**\n\nA new version of the docker container can be retrieved by running:\n\n```bash\ndocker-compose pull\ndocker-compose up -d\n```\n\nThis will fetch the latest version of the container, redeploy if a newer version exists, and then apply any database migrations if applicable. No data should be lost by this operation.\n\n#### Stopping the Container\n\nFrom the source directory you started from run:\n\n```bash\ndocker-compose down\n```\n---\n\n#### Running via Cloud.gov\n\nCloud.gov is a [FEDRAMP moderate Platform-as-a-Service (PaaS)](https://marketplace.fedramp.gov/#!/product/18f-cloudgov?sort=productName). This repository includes a sample [manifest.yml.example](manifest.yml.example) file ready to be pushed and run the latest version of Heimdall2 as a container. Make a copy of the example file and update the key values as appropriate.\n`$ cp manifest.yml.example manifest.yml`\n\n1. Setup a cloud.gov account - https://cloud.gov/docs/getting-started/accounts/ \n\n2. Install the cf-cli - https://cloud.gov/docs/getting-started/setup/\n\n3. Run the following commands in a terminal window from the Heimdall source directory.\n```\n$ cd ~/Documents/Github/Heimdall2\n$ cf login -a api.fr.cloud.gov  --sso \n# Follow the link to copy the Temporary Authentication Code when prompted\n```\n\n4. Setup a demo application space\n```\n$ cf target -o sandbox-rename create-space heimdall2-rename\n```\n\n5. Create a postgresql database\n```\n# Update manifest.yml file to rename application and database key name\n$ cf marketplace\n$ cf create-service aws-rds medium-psql heimdall2-rename\n$ cf create-service-key heimdall2-db-rename heimdall2-db-test-key\n$ cf push\n```\n\n**You should be returned the URL for your new test instance to navigate to.**\n\n> Note: This is only for demonstration purposes, in order to run a production level federal/FISMA system. You will need to contact the [cloud.gov program](https://cloud.gov) and consult your organization's security team (for risk assessment and an Authority to Operate).\n\n## API Usage\n\nAPI usage only works when using Heimdall Enterprise Server (AKA \"Server Mode\").\n\nProper API documentation does not exist yet. In the meantime here are quick instructions for uploading evaluations to Heimdall Server.\n\n```sh\n# Create a user (only needs to be done once)\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"email\": \"user@example.com\", \"password\": \"password\", \"passwordConfirmation\": \"password\", \"role\": \"user\", \"creationMethod\": \"local\" }' http://localhost:3000/users\n# Log in\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"email\": \"user@example.com\", \"password\": \"password\" }' http://localhost:3000/authn/login\n# The previous command returns a Bearer Token that needs to get placed in the following command\n# Upload evaluation\ncurl -F \"data=@Evaluation.json\" -F \"filename=Your Filename\" -F \"public=true/false\" -H \"Authorization: Bearer bearertokengoeshere\" \"http://localhost:3000/evaluations\"\n```\n\n## For Developers\n\n### How to Install\n\nIf you would like to change Heimdall to your needs, Heimdall has 'Development Mode' you can use, where if you make changes to the code, the app will automattically rebuild itself and use those changes. Please note that you should *not* run development mode when deploying Heimdall for general usage. To get started on a Debian-based distribution, follow these steps:\n\n1. Install system dependencies:\n\n   - ```bash\n     sudo apt install postgresql nodejs nano git\n     sudo npm install -g yarn\n     ```\n\n2. Clone this repository:\n\n   - ```bash\n     git clone https://github.com/mitre/heimdall2\n     ```\n\n3. Create the Postgres role:\n\n   - ```sql\n     # Start the Postgres terminal\n     psql postgres\n\n     # Create the user\n     CREATE USER <username> with encrypted password '<password>';\n     ALTER USER <username> CREATEDB;\n     \\q\n     ```\n\n4. Install project dependencies:\n\n   - ```bash\n     cd heimdall2\n     yarn install\n     ```\n\n5. Edit your .env file and create the database. For more info on configuration values see [Enviroment Variables Configuration](https://github.com/mitre/heimdall2/wiki/Environment-Variables-Configuration):\n\n   - ```bash\n     nano apps/backend/.env-example\n     # Replace the comments with your values, if you want the default value, you can delete the line.\n     mv apps/backend/.env-example apps/backend/.env\n     yarn backend sequelize-cli db:create\n     yarn backend sequelize-cli db:migrate\n     yarn backend sequelize-cli db:seed:all\n     ```\n\n6. Start Heimdall:\n\n   - ```bash\n     yarn start:dev\n     ```\n\nThis will start both the frontend and backend in development mode, meaning any changes you make to the source code will take effect immediately. Please note we already have a Visual Studio Code workspace file you can use to organize your workspace.\n\n### Debugging Heimdall Server\n\nIf you are using Visual Studio Code, it is very simple to debug this application locally. First open up the Visual Studio Code workspace and ensure the [Node debuger Auto Attach](https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_auto-attach) feature in Visual Studio Code is enabled. Next, open the integrated Visual Studio Code terminal and run:\n\n```\nyarn backend start:debug\n```\n\nVisual Studio Code will then automatically attach a debugger and stop and any breakpoints you place in the application.\n\n### Developing Heimdall Lite Standalone\n\nIf you only want to make changes to the frontend (heimdall-lite) use the following command:\n\n    yarn frontend start:dev\n\n### Lint and fix files\n\nTo validate and lint your code run:\n\n    yarn run lint\n\n### Compile and minify the frontend and backend for production\n\n    yarn build\n\n### Run tests\n\nTo test your code to make sure everything still works:\n\n    # Run Frontend Vue Tests\n    yarn frontend test\n    # Run Backend Nest Tests\n    yarn backend test:ci-cov\n\n#### Run Cypress End to End Tests\n\nThe application includes E2E frontend + Backend tests (built using the [cypress.io](https://www.cypress.io/) framework). These perform automated checking that Heimdall Server is running as intended. In order to run these tests, a running instance of the application is required.\n\n    CYPRESS_TESTING=true yarn start:dev\n    CYPRESS_BASE_URL=http://localhost:8080 yarn test:ui:open\n\nThe first command will start an instance of Heimdall Server and exposes additional routes required to allow the tests to run. The second will open the Cypress UI which will run the tests any time code changes are made.\n\n### Creating a Release\n\n**Note:** This action requires appropriate privileges on the repository to perform.\n\n1. Ensure you have pulled the latest copy of the code locally onto your machine.\n1. Using `lerna version`, run `lerna version <explicit version>` or alternatively use one of the appropriate lerna keywords: `'major', 'minor', 'patch', 'premajor', 'preminor', 'prepatch', or 'prerelease'` to bump the version. This will push a new tag to Github.\n1. Navigate to `Releases` on Github and edit the release notes that `Release Drafter` has created for you, and assign them to the tag that you just pushed.\n\n## Versioning and State of Development\n\nThis project uses the [Semantic Versioning Policy](https://semver.org/)\n\n## Contributing, Issues and Support\n\n### Contributing\n\nPlease feel free to look through our issues, make a fork and submit _PRs_ and improvements. We love hearing from our end-users and the community and will be happy to engage with you on suggestions, updates, fixes or new capabilities.\n\n### Issues and Support\n\nPlease feel free to contact us by **opening an issue** on the issue board, or, at [inspec@mitre.org](mailto:inspec@mitre.org) should you have any suggestions, questions or issues. If you have more general questions about the use of our software or other concerns, please contact us at [opensource@mitre.org](mailto:opensource@mitre.org).\n\n### NOTICE\n\n© 2019-2021 The MITRE Corporation.\n\nApproved for Public Release; Distribution Unlimited. Case Number 18-3678.\n\n### NOTICE\n\nMITRE hereby grants express written permission to use, reproduce, distribute, modify, and otherwise leverage this software to the extent permitted by the licensed terms provided in the LICENSE.md file included with this project.\n\n### NOTICE\n\nThis software was produced for the U. S. Government under Contract Number HHSM-500-2012-00008I, and is subject to Federal Acquisition Regulation Clause 52.227-14, Rights in Data-General.\n\nNo other use other than that granted to the U. S. Government, or to those acting on behalf of the U. S. Government under that Clause is authorized without the express written permission of The MITRE Corporation.\n\nFor further information, please contact The MITRE Corporation, Contracts Management Office, 7515 Colshire Drive, McLean, VA 22102-7539, (703) 983-6000.\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.container.image.v1+json"
  ],
  "content_types": [
    "image"
  ]
}