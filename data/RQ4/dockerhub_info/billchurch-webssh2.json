{
  "user": "billchurch",
  "name": "webssh2",
  "namespace": "billchurch",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "WebSSH2 Docker",
  "is_private": false,
  "is_automated": false,
  "can_edit": false,
  "star_count": 1,
  "pull_count": 2034,
  "last_updated": "2022-08-07T12:21:55.874919Z",
  "date_registered": "2021-05-13T14:22:43.838564Z",
  "collaborator_count": 0,
  "affiliation": null,
  "hub_user": "billchurch",
  "has_starred": false,
  "full_description": "# WebSSH2\n\n[![Build Status](https://travis-ci.com/billchurch/webssh2.svg?branch=main)](https://travis-ci.com/billchurch/webssh2) [![GitHub version](https://img.shields.io/github/v/release/billchurch/webssh2)](https://github.com/billchurch/webssh2/releases/latest) [![docker build images](https://github.com/billchurch/webssh2/actions/workflows/docker-multiplatform.yml/badge.svg)](https://github.com/billchurch/webssh2/actions/workflows/docker-multiplatform.yml)\n\n[![Buy Me A Coffee](https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png)](https://www.buymeacoffee.com/billchurch)\n\nWeb SSH Client using ssh2, socket.io, xterm.js, and express\n\nA bare bones example of an HTML5 web-based terminal emulator and SSH client. We use SSH2 as a client on a host to proxy a Websocket / Socket.io connection to a SSH2 server.\n\n<img width=\"600\" height=\"340\" alt=\"WebSSH2 v0.2.0 demo\" src=\"https://github.com/billchurch/WebSSH2/raw/main/screenshots/demo-800.gif\">\n\n# Requirements\nNode v14.x or above. If using <v14.x you should be able to run by replacing the \"read-config\" package to @1 like this (after a clone):\n\n`npm install --save read-config@1\n`\n\nJust keep in mind that there is no intention to ensure compatability with Node < v14\n\n# Instructions\nThe instructions previously showed cloning directly from main, while normally safe may include \"work in progress\". It's recommended that after you clone, you switch to a particular tag.\n\nTo install:\n\n1. Clone to a location somewhere\n\n2. Checkout to the `current` tag using `git checkout current` or choose a particular [release](https://github.com/billchurch/webssh2/releases/) tag\n\n3. `cd app` and `npm install --production`. If you want to develop and rebuild javascript and other files utilize `npm install` instead.\n\n4. If desired, edit app/config.json to change the listener to your liking. There are also some default options which may be definied for a few of the variables.\n\n5. Run `npm start`\n\n6. Fire up a browser, navigate to IP/port of your choice and specify a host (https isn't used here because it's assumed it will be off-loaded to some sort of proxy):\n\nhttp://localhost:2222/ssh/host/127.0.0.1\n\nYou will be prompted for credentials to use on the SSH server via HTTP Basic authentcaiton. This is to permit usage with some SSO systems that can replay credentials over HTTP basic.\n\nAlternatively in main for testing, you can send credentials via POST with the variables \"username\" and \"userpassword\".\n\n# Customizing client files\n\nSee [BUILDING.md](BUILDING.md) for more details.\n\n# Docker Instructions\nSome configuration options are available as [Environment Variables](#environment-variables). If there is a configuration option you require which does not have an environment variable please [open an issue requesting](https://github.com/billchurch/webssh2/issues/new/choose).\n\n[webssh2 images are available in docker hub](https://hub.docker.com/repository/docker/billchurch/webssh2).\n\nthe `latest` tag will pull the most recent stable release, otherwise you can pull individual tags/releases/versions of this repo by using a particular version in the tag.\n\nFor instance:\n\n```docker pull billchurch/webssh2:0.4.6```\n\nor \n\n```docker pull billchurch/webssh2:0.4.7-alpha.2```\n\nor\n\n```docker pull billchurch/webssh2```\n\nfor the most recent\n\nIf you want to play around localy:\n\nCopy app/config.json.template to app/config.json and modify the latter:\n\n```js\n{\n  // ...\n  \"listen\": {\n    \"ip\": \"0.0.0.0\",\n    \"port\": 2222\n  }\n  // ...\n}\n```\n\nRebuild and run\n\n```bash\ndocker build -t webssh2 .\ndocker run --name webssh2 -d -p 2222:2222 webssh2\n```\n\nAlternatively if you don't want to rebuild, mount the config at runtime:\n\n```bash\ndocker run --name webssh2 -d -p 2222:2222 -v `pwd`/app/config.json:/usr/src/config.json webssh2\n```\n  \nAlternatively if you don't want to build either and mount the config at runtime relying on the community image :\n\n```bash\ndocker run --name webssh2 -d -p 2222:2222 -v `pwd`/app/config.json:/usr/src/config.json billchurch/webssh2\n```\n    \n# Options\n\n## Environment Variables \nEnvironment variables introduced in 0.4.7 will override anything specified in `config.json`. This is useful for settings that may be per-node, or in a container environment. These are optional and will default to whatever their peer config.json settings are\n\n* **LISTEN** - _string_ - IP address node should listen on for client connections, defaults to `127.0.0.1`. Peer is **listen.ip**\n* **PORT** - _integer_ - Port node should listen on for client connections, defaults to `2222`. Peer is **listen.port**\n* **SOCKETIO_ORIGINS** - _array_ - COORS origins to allow connections from to socket.io server, defaults to `localhost:2222`. Changed in 0.3.1, to enable previous, less secure, default behavior of everything use `*:*` (not recommended). Check [#240](../../issues/240). Peer is **socketio.origins**\n* **SOCKETIO_PATH** _string_ - Path to socket.io client files. Default: `/ssh/socket.io`. Peer is **socketio.path**\n* **SOCKETIO_SERVECLIENT** _boolean_ - serve the socket.io client. This is built into the custom javascript, so you shouldn't need this. Kept as an option just in case. Default: `false`. Peer is **socketio.serveClient**\n\n## POST request vars (in main branch for testing)\n\n* **username** - _string_ - username to log into ssh with\n\n* **userpassword** _string_ password to log into ssh with\n\n* **port=** - _integer_ - port of SSH server (defaults to 22)\n\n* **header=** - _string_ - optional header to display on page\n\n* **headerBackground=** - _string_ - optional background color of header to display on page\n\n* **sshterm=** - _string_ - optional specify terminal emulation to use, defaults to `ssh.term` in `config.json` or `vt100` if that is null\n\n* **readyTimeout=** - _integer_ - How long (in milliseconds) to wait for the SSH handshake to complete. **Default:** 20000. **Enforced Values:** Min: 1, Max: 300000\n\n* **cursorBlink** - _boolean_ - Cursor blinks (true), does not (false) **Default:** true.\n\n* **scrollback** - _integer_ - Lines in the scrollback buffer. **Default:** 10000. **Enforced Values:** Min: 1, Max: 200000\n\n* **tabStopWidth** - _integer_ - Tab stops at _n_ characters **Default:** 8. **Enforced Values:** Min: 1, Max: 100\n\n* **bellStyle** - _string_ - Style of terminal bell: (\"sound\"|\"none\"). **Default:** \"sound\". **Enforced Values:** \"sound\", \"none\"\n\n* **fontSize** - _number_ - Size of terminal font. **Default:** 12\n\n* **fontFamily** - _string_ - Font family\n\n* **letterSpacing** - _number_ - Letter spacing\n\n* **lineHeight** - _number_ - Line height\n\n## GET request vars\n\n* **port=** - _integer_ - port of SSH server (defaults to 22)\n\n* **header=** - _string_ - optional header to display on page\n\n* **headerBackground=** - _string_ - optional background color of header to display on page\n\n* **sshterm=** - _string_ - optional specify terminal emulation to use, defaults to `ssh.term` in `config.json` or `vt100` if that is null\n\n* **readyTimeout=** - _integer_ - How long (in milliseconds) to wait for the SSH handshake to complete. **Default:** 20000. **Enforced Values:** Min: 1, Max: 300000\n\n* **cursorBlink** - _boolean_ - Cursor blinks (true), does not (false) **Default:** true.\n\n* **scrollback** - _integer_ - Lines in the scrollback buffer. **Default:** 10000. **Enforced Values:** Min: 1, Max: 200000\n\n* **tabStopWidth** - _integer_ - Tab stops at _n_ characters **Default:** 8. **Enforced Values:** Min: 1, Max: 100\n\n* **bellStyle** - _string_ - Style of terminal bell: (\"sound\"|\"none\"). **Default:** \"sound\". **Enforced Values:** \"sound\", \"none\"\n\n* **fontSize** - _number_ - Size of terminal font. **Default:** \"12\"\n\n* **fontFamily** - _string_ - Font family\n\n* **letterSpacing** - _number_ - Letter spacing\n\n* **lineHeight** - _integer_ - Line height\n\n## Headers\n\n* **allowreplay** - _boolean_ - Allow use of password replay feature, example `allowreplay: true`\n\n* **mrhsession** - _string_ - Can be used to pass APM session for event correlation `mrhsession: abc123`\n\n## Config File Options\n`config.json` contains several options which may be specified to customize to your needs, vs editing the javascript directly. This is JSON format so mind your spacing, brackets, etc...\n\n* **listen.ip** - _string_ - IP address node should listen on for client connections, defaults to `127.0.0.1`\n\n* **listen.port** - _integer_ - Port node should listen on for client connections, defaults to `2222`\n\n* **socketio.serveClient** - _boolean_ - serve the socket.io client. This is built into the custom javascript, so you shouldn't need this. Kept as an option just in case. Default: `false`\n\n* **socketio.path** - _string_ - Path to socket.io client files. Default: `/ssh/socket.io`\n\n* **socketio.origins** - _array_ - COORS origins to allow connections from to socket.io server, defaults to `localhost:2222`. Changed in 0.3.1, to enable previous, less secure, default behavior of everything use `*:*` (not recommended). Check [#240](../../issues/240)\n\n* **user.name** - _string_ - Specify user name to authenticate with. In normal cases this should be left to the default `null` setting.\n\n* **user.password** - _string_ - Specify password to authenticate with. In normal cases this should be left to the default `null` setting.\n\n* **user.overridebasic** - _boolean_ - When set to `true` ignores `Authorization: Basic` header sent from client and use credentials defined in `user.name` and `user.password` instead. Defaults to `false`. [issue 242](../../issues/242) for more information.\n\n* **ssh.host** - _string_ - Specify host to connect to. May be either hostname or IP address. Defaults to `null`.\n\n* **ssh.port** - _integer_ - Specify SSH port to connect to, defaults to `22`\n\n* **ssh.term** - _string_ - Specify terminal emulation to use, defaults to `vt100` if null\n\n* **ssh.readyTimeout** - _integer_ - How long (in milliseconds) to wait for the SSH handshake to complete. **Default:** 20000.\n\n* **ssh.keepaliveInterval** - _integer_ - How often (in milliseconds) to send SSH-level keepalive packets to the server (in a similar way as OpenSSH's ServerAliveInterval config option). Set to 0 to disable. **Default:** 120000.\n\n* **ssh.keepaliveCountMax** - _integer_ - How many consecutive, unanswered SSH-level keepalive packets that can be sent to the server before disconnection (similar to OpenSSH's ServerAliveCountMax config option). **Default:** 10.\n\n* **allowedSubnets** - _array_ - A list of subnets that the server is allowed to connect to via SSH. An empty array means all subnets are permitted; no restriction. **Default:** empty array.\n\n* **terminal.cursorBlink** - _boolean_ - Cursor blinks (true), does not (false) **Default:** true.\n\n* **terminal.scrollback** - _integer_ - Lines in the scrollback buffer. **Default:** 10000.\n\n* **terminal.tabStopWidth** - _integer_ - Tab stops at _n_ characters **Default:** 8.\n\n* **terminal.bellStyle** - _string_ - Style of terminal bell: (sound|none). **Default:** \"sound\".\n\n* **terminal.fontSize** - _number_ - Size of terminal font. **Default:** 14.\n\n* **terminal.fontFamily** - _string_ - Font family\n\n* **terminal.letterSpacing** - _number_ - Letter spacing\n\n* **terminal.lineHeight** - _number_ - Line height\n\n* **header.text** - _string_ - Specify header text, defaults to `My Header` but may also be set to `null`. When set to `null` no header bar will be displayed on the client.\n\n* **header.background** - _string_ - Header background, defaults to `green`.\n\n* **session.name** - _string_ - Name of session ID cookie. it's not a horrible idea to make this something unique.\n\n* **session.secret** - _string_ - Secret key for cookie encryption. You should change this in production.\n\n* **options.challengeButton** - _boolean_ - Challenge button. This option, which is still under development, allows the user to resend the password to the server (in cases of step-up authentication for things like `sudo` or a router `enable` command.\n\n* **options.allowreauth** - _boolean_ - Reauth button. This option creates an option to provide a button to create a new session with new credentials. See [issue 51](../../issues/51) and [pull 85](../../pull/85) for more detail.\n\n* **algorithms** - _object_ - This option allows you to explicitly override the default transport layer algorithms used for the connection. Each value must be an array of valid algorithms for that category. The order of the algorithms in the arrays are important, with the most favorable being first. Valid keys:\n\n    * **kex** - _array_ - Key exchange algorithms.\n\n        * Default values:\n\n            1. ecdh-sha2-nistp256 **(node v0.11.14 or newer)**\n            2. ecdh-sha2-nistp384 **(node v0.11.14 or newer)**\n            3. ecdh-sha2-nistp521 **(node v0.11.14 or newer)**\n            4. diffie-hellman-group-exchange-sha256 **(node v0.11.12 or newer)**\n            5. diffie-hellman-group14-sha1\n\n        * Supported values:\n\n            * ecdh-sha2-nistp256 **(node v0.11.14 or newer)**\n            * ecdh-sha2-nistp384 **(node v0.11.14 or newer)**\n            * ecdh-sha2-nistp521 **(node v0.11.14 or newer)**\n            * diffie-hellman-group-exchange-sha256 **(node v0.11.12 or newer)**\n            * diffie-hellman-group14-sha1\n            * diffie-hellman-group-exchange-sha1 **(node v0.11.12 or newer)**\n            * diffie-hellman-group1-sha1\n\n    * **cipher** - _array_ - Ciphers.\n\n        * Default values:\n\n            1. aes128-ctr\n            2. aes192-ctr\n            3. aes256-ctr\n            4. aes128-gcm **(node v0.11.12 or newer)**\n            5. aes128-gcm@openssh.com **(node v0.11.12 or newer)**\n            6. aes256-gcm **(node v0.11.12 or newer)**\n            7. aes256-gcm@openssh.com **(node v0.11.12 or newer)**\n\n        * Supported values:\n\n            * aes128-ctr\n            * aes192-ctr\n            * aes256-ctr\n            * aes128-gcm **(node v0.11.12 or newer)**\n            * aes128-gcm@openssh.com **(node v0.11.12 or newer)**\n            * aes256-gcm **(node v0.11.12 or newer)**\n            * aes256-gcm@openssh.com **(node v0.11.12 or newer)**\n            * aes256-cbc\n            * aes192-cbc\n            * aes128-cbc\n            * blowfish-cbc\n            * 3des-cbc\n            * arcfour256\n            * arcfour128\n            * cast128-cbc\n            * arcfour\n\n    * **hmac** - _array_ - (H)MAC algorithms.\n\n        * Default values:\n\n            1. hmac-sha2-256\n            2. hmac-sha2-512\n            3. hmac-sha1\n\n        * Supported values:\n\n            * hmac-sha2-256\n            * hmac-sha2-512\n            * hmac-sha1\n            * hmac-md5\n            * hmac-sha2-256-96\n            * hmac-sha2-512-96\n            * hmac-ripemd160\n            * hmac-sha1-96\n            * hmac-md5-96\n\n    * **compress** - _array_ - Compression algorithms.\n\n        * Default values:\n\n            1. none\n            2. zlib@openssh.com\n            3. zlib\n\n        * Supported values:\n\n            * none\n            * zlib@openssh.com\n            * zlib\n\n* **serverlog.client** - _boolean_ - Enables client command logging on server log (console.log). Very simple at this point, buffers data from client until it receives a line-feed then dumps buffer to console.log with session information for tracking. Will capture anything send from client, including passwords, so use for testing only... Default: false. Example:\n  * _serverlog.client: GcZDThwA4UahDiKO2gkMYd7YPIfVAEFW/mnf0NUugLMFRHhsWAAAA host: 192.168.99.80 command: ls -lat_\n\n* **serverlog.server** - _boolean_ - not implemented, default: false.\n\n* **accesslog** - _boolean_ - http style access logging to console.log, default: false\n\n* **safeShutdownDuration** - _integer_ - maximum delay, in seconds, given to users before the server stops when doing a safe shutdown\n\n# Client-side logging\nClicking `Start logging` on the status bar will log all data to the client. A `Download log` option will appear after starting the logging. You may download at any time to the client. You may stop logging at any time my pressing the `Logging - STOP LOG`. Note that clicking the `Start logging` option again will cause the current log to be overwritten, so be sure to download first.\n\n# Example:\n\nhttp://localhost:2222/ssh/host/192.168.1.1?port=2244&header=My%20Header&headerBackground=red\n\n# CONTRIBUTING\nAs of 0.4.0, we're trying our best to conform to the [Airbnb Javascript Style Guide](https://airbnb.io/projects/javascript/). I'm hoping this will make contributions easier and keep the code readable. I love shortcuts more than anyone but I've found when making changes to code I've not looked at in a while, it can take me a few momements to deconstruct what was being done due to readbility issues. While I don't agree with every decision in the style guide (semi-colons, yuk), it is a good base to keep the code consistent.\n\nIf you've not used it before, I recommend installing the [vscode extensions](https://blog.echobind.com/integrating-prettier-eslint-airbnb-style-guide-in-vscode-47f07b5d7d6a) for that and [Prettier](https://prettier.io/) and getting familiar. The autocorrections are great (especially if you hate dealing with semi-colons...)\n\nAll contributions are welcome, all may not make it into a release... To increase the chances of your contribution making it into a release, try your best to conform to the style guides and targets of the project.\n\n# Tips\n* You can enable extended debug messages in the browser Java console using:\n  * `localStorage.debug = '*';` - Debug Everything (a lot of messages)\n  * `localStorage.debug = 'WebSSH2';` - Debug potentially interesting WebSSH2 related messages (replaying credentials, resizing data, other control messages)\n* If you want to add custom JavaScript to the browser client you can either modify `./src/client.html` and add a **\\<script\\>** element, modify `./src/index.js` directly, or check out `webpack.*.js` and add your custom javascript file to a task there (best option).\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.distribution.manifest.list.v2+json"
  ],
  "content_types": [
    "image"
  ]
}