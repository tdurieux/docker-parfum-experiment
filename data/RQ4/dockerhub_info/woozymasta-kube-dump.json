{
  "user": "woozymasta",
  "name": "kube-dump",
  "namespace": "woozymasta",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "Backup a Kubernetes cluster as yaml manifests",
  "is_private": false,
  "is_automated": false,
  "can_edit": false,
  "star_count": 3,
  "pull_count": 24042,
  "last_updated": "2022-05-19T10:58:26.498899Z",
  "date_registered": "2021-02-04T22:14:48.098729Z",
  "collaborator_count": 0,
  "affiliation": null,
  "hub_user": "woozymasta",
  "has_starred": false,
  "full_description": "# Kube-dump <!-- omit in toc -->\n\nBackup a Kubernetes cluster as a yaml manifest.\n\n![Logo](https://raw.githubusercontent.com/WoozyMasta/kube-dump/master/extras/logo-wide.png)\n\n![GitHub release (latest by date)](https://img.shields.io/github/v/release/WoozyMasta/kube-dump?style=flat-square)\n![GitHub branch checks state](https://img.shields.io/github/checks-status/WoozyMasta/kube-dump/master?style=flat-square)\n![GitHub](https://img.shields.io/github/license/WoozyMasta/kube-dump?style=flat-square)\n![GitHub last commit](https://img.shields.io/github/last-commit/WoozyMasta/kube-dump?style=flat-square)\n![Docker Pulls](https://img.shields.io/docker/pulls/woozymasta/kube-dump?style=flat-square)\n![Docker Cloud Build Status](https://img.shields.io/docker/cloud/build/woozymasta/kube-dump?style=flat-square)\n![Docker Image Size (latest semver)](https://img.shields.io/docker/image-size/woozymasta/kube-dump?sort=semver&style=flat-square)\n\n* [Description](#description)\n* [Quick Start Guides](#quick-start-guides)\n* [Container Images](#container-images)\n* [Dependencies](#dependencies)\n* [Commands and flags](#commands-and-flags)\n* [Environment variables](#environment-variables)\n* [Resources default's](#resources-defaults)\n\n## Description\n\nWith this utility you can save your cluster resources as nice yaml\nmanifests without unnecessary metadata.\n\nKey features:\n\n* Saving only those resources to which you have read access;\n* Can work with a list of namespaces otherwise all available ones will be used;\n* Can save both namespaced and cluster wide resources;\n* You can run locally, in a container or in a cluster;\n* Can archive and rotate dump archives;\n* Can commit dumps to a git repository and send to a remote repository;\n* You can specify a list of resources to be dumped;\n* It is possible to configure via command line arguments as well as via\n  environment variables.\n\nPlans to implement:\n\n* Sending dumps to s3 bucket;\n* Sending notifications by email and webhook;\n* Git-crypt to encrypt secrets;\n* Bash autocomplete.\n\n---\n\n[![asciicast](https://raw.githubusercontent.com/WoozyMasta/kube-dump/master/extras/kube-dump.gif)](https://asciinema.org/a/3FfZlP011rF0gj443QnuWdNFE)\n\n## Quick Start Guides\n\n* [Run on a local machine](./docs/local.md)\n  (dependencies and a config for kubectl are required)\n* [Run in container](./docs/container.md)\n  (docker, podman, etc. required and a config for kubectl)\n* [Run in kubernetes as pod](./docs/pod.md)\n  (requires access to the kubernetes cluster and config for kubectl)\n* [Run in kubernetes as a cron job using a service account](./docs/cronjob.md)\n  (requires access to the kubernetes cluster and\n  the ability to create a role or cluster role)\n\n## Container Images\n\n* `docker pull ghcr.io/woozymasta/kube-dump:1.0.7`\n* `docker pull quay.io/woozymasta/kube-dump:1.0.7`\n* `docker pull docker.io/woozymasta/kube-dump:1.0.7`\n\n## Dependencies\n\nRequired dependencies:\n\n* [kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/) -\n  Kubernetes command-line tool\n* [jq](https://github.com/stedolan/jq) - Command-line JSON processor\n* [yq](https://github.com/mikefarah/yq) - Command-line YAML processor\n\nOptional dependencies:\n\n* curl - Used to check kubernetes api livez probe when use serviceaccount\n* git - Used to store backups as a git repository\n* tar - Used to create backup archives with one of the compression libraries:\n  * xz - a lossless data compression file format based on the LZMA algorithm\n  * gzip - single-file/stream lossless data compression utility\n  * bzip2 - compression program that uses the Burrowsâ€“Wheeler algorithm\n\n## Commands and flags\n\n```text\n./kube-dump [command] [[flags]]\n\nAvailable Commands:\n  all, dump                     Dump all kubernetes resources\n  ns,  dump-namespaces          Dump namespaced kubernetes resources\n  cls, dump-cluster             Dump cluster wide kubernetes resources\n\nThe command can also be passed through the environment variable MODE.\nAll flags presented below have a similar variable in uppercase, with underscores\nFor example:\n  --destination-dir == DESTINATION_DIR \n\nFlags:\n  -h, --help                    This help\n  -s, --silent                  Execute silently, suppress all stdout messages\n  -d, --destination-dir         Path to dir for store dumps, default ./data\n  -f, --force-remove            Delete resources in data directory before launch\n\nKubernetes flags:\n  -n, --namespaces              List of kubernetes namespaces\n  -r, --namespaced-resources    List of namespaced resources\n  -k, --cluster-resources       List of cluster resources\n      --kube-config             Path to kubeconfig file\n      --kube-context            The name of the kubeconfig context to use\n      --kube-cluster            The name of the kubeconfig cluster to use\n      --kube-insecure-tls       Skip check server's certificate for validity\n\nGit commit flags:\n  -c, --git-commit              Commit changes\n  -p, --git-push                Commit changes and push to origin\n  -b, --git-branch              Branch name\n      --git-commit-user         Commit author username\n      --git-commit-email        Commit author email\n      --git-remote-name         Remote repo name, defualt is origin\n      --git-remote-url          Remote repo URL\n\nArchivate flags:\n  -a, --archivate               Create archive of data dir\n      --archive-rotate-days     Rotate archives older than N days\n      --archive-type            Archive type xz, gz or bz2, default is tar\n\nExample of use:\n  $cmd dump-namespaces -n default,dev -d /mnt/dump -spa --archive-type gz\n```\n\n## Environment variables\n\nAll environment variables are described in the [.env](./.env) file,\nyou can use them both for the container launch configuration and\ndirectly from the [`.env`](./.env) file, it is read automatically at startup.\n\n## Resources default's\n\nAll resources automatically discovered from the API if not pass as argument.\n\n* List of namespaces\n* List of default namespaced resources\n* List of default cluster wide resources\n\n<!--\nTitle: Kube-dump\nDescription: Backup a Kubernetes cluster as a yaml manifest.\nAuthor: WoozyMasta\nKeywords:\n  kubernetes save deployment yaml\n  kubectl get yaml file\n  kubectl get yaml from service\n  kubectl get deployment yaml\n  kubectl save yaml\n  kubectl generate yaml\n  kubernetes json to yaml\n  kubernetes export deployment yaml\n  kubernetes dump yaml\n  kubectl dump yaml\n  kubectl describe to yaml\n-->\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.container.image.v1+json"
  ],
  "content_types": [
    "image"
  ]
}