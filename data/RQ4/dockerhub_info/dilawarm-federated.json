{
  "user": "dilawarm",
  "name": "federated",
  "namespace": "dilawarm",
  "repository_type": "image",
  "status": 1,
  "status_description": "active",
  "description": "Image for https://github.com/dilawarm/federated",
  "is_private": false,
  "is_automated": false,
  "can_edit": false,
  "star_count": 0,
  "pull_count": 139,
  "last_updated": "2021-05-19T19:32:39.167265Z",
  "date_registered": "2021-04-26T22:30:04.409006Z",
  "collaborator_count": 1,
  "affiliation": null,
  "hub_user": "dilawarm",
  "has_starred": false,
  "full_description": "![](assets/federated.png)\n\n[![License: CC BY 4.0](https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg)](https://creativecommons.org/licenses/by/4.0/)\n\n__federated__ is the source code for the Bachelor's Thesis\n\n<i>Privacy-Preserving Federated Learning Applied to Decentralized Data</i> (Spring 2021, NTNU)\n\nFederated learning (also known as collaborative learning) is a machine learning technique that trains an algorithm across multiple decentralized edge devices or servers holding local data samples, without exchanging them. In this project, the decentralized data is the [MIT-BIH Arrhythmia Database](https://www.physionet.org/content/mitdb/1.0.0/).\n\n## Table of Contents\n- [Features](#features)\n- [Installation](#installation)\n  - [Prerequisites](#prerequisites)\n  - [Installing federated locally](#installing-federated-locally)\n  - [Installing with Docker (optional)](#installing-with-docker-optional)\n- [Running experiments with federated](#running-experiments-with-federated)\n- [Analyzing experiments with federated](#analyzing-experiments-with-federated)\n  - [TensorBoard](#tensorboard)\n  - [Jupyter Notebook](#jupyter-notebook)\n- [Documentation](#documentation)\n- [Tests](#tests)\n- [How to Contribute](#how-to-contribute)\n- [Owners](#owners)\n\n## Features\n* ML pipelines using centralized learning or federated learning.\n* Support for the following aggregation methods:\n  * Federated Stochastic Gradient Descent (FedSGD)\n  * Federated Averaging (FedAvg)\n  * Differentially-Private Federated Averaging (DP-FedAvg)\n  * Federated Averaging with Homomorphic Encryption\n  * Robust Federated Aggregation (RFA)\n* Support for the following models:\n  * A simple softmax regressor\n  * A feed-forward neural network (ANN)\n  * A convolutional neural network (CNN)\n* Model compression in federated learning.\n\n## Installation\n### Prerequisites\n* Python 3.8\n* make\n* [Docker 20.10 (optional)](https://docs.docker.com/get-docker/)\n\n### Installing federated locally\n\n__1. Cloning federated__\n\n```bash\n$ git clone https://github.com/dilawarm/federated.git\n$ cd federated\n```\n\n__2. Getting the Dataset__\n\nTo download the [MIT-BIH Arrhythmia Database](https://www.physionet.org/content/mitdb/1.0.0/) dataset used in this project, go to https://www.kaggle.com/shayanfazeli/heartbeat and download the files\n\n* `mitbih_train.csv`\n* `mitbih_test.csv`\n\nThen write:\n```bash\nmkdir data\nmkdir data/mitbih\n```\n\nand move the downloaded data into the `data/mitbih` folder.\n\n\n__3. Install the Python development environment__\n\n<u>On Ubuntu:</u>\n```bash\n$ sudo apt update\n$ sudo apt install python3-dev python3-pip  # Python 3.8\n$ sudo apt install build-essential          # make\n$ sudo pip3 install --user --upgrade virtualenv\n```\n\n<u>On macOS:</u>\n```bash\n$ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n$ export PATH=\"/usr/local/bin:/usr/local/sbin:$PATH\"\n$ brew update\n$ brew install python  # Python 3.8\n$ brew install make    # make\n$ sudo pip3 install --user --upgrade virtualenv\n```\n\n__4. Create a virtual environment__\n\n```bash\n$ virtualenv --python python3 \"venv\"\n$ source \"venv/bin/activate\"\n(venv) $ pip install --upgrade pip\n```\n\n__5. Install the dependencies__\n\n```bash\n(venv) $ make install\n```\n\n__6. Test TensorFlow Federated__\n\n```bash\n(venv) $ python -c \"import tensorflow_federated as tff; print(tff.federated_computation(lambda: 'Hello World')())\"\n```\n\n### Installing with Docker (optional)\n\n__Build and run image from Dockerfile__\n\n```bash\n$ make docker\n```\n\n## Running experiments with federated\n**federated** has a client program, where one can initialize the different pipelines and train models with centralized or federated learning. To run this client program:\n\n```bash\n(venv) $ make help\n```\nThis will display a list of options:\n\n```bash\nusage: python -m federated.main [-h] -l  -n  [-e] [-op] [-b] [-o] -m  [-lr]\n\nExperimentation pipeline for federated ðŸš€\n\noptional arguments:\n  -b , --batch_size     The batch size. (default: 32)\n  -e , --epochs         Number of global epochs. (default: 15)\n  -h, --help            show this help message and exit\n  -l , --learning_approach \n                        Learning apporach (centralized, federated). (default: None)\n  -lr , --learning_rate \n                        Learning rate for server optimizer. (default: 1.0)\n  -m , --model          The model to be trained with the learning approach (ann, softmax_regression, cnn). (default: None)\n  -n , --experiment_name \n                        The name of the experiment. (default: None)\n  -o , --output         Path to the output folder where the experiment is going to be saved. (default: history)\n  -op , --optimizer     Server optimizer (adam, sgd). (default: sgd)\n```\n\nHere is an example on how to train a cnn model with federated learning for 10 global epochs using the SGD server-optimizer with a learning rate of 0.01:\n\n```bash\n(venv) $ python -m federated.main --learning_approach federated --model cnn --epochs 10 --optimizer sgd --learning_rate 0.01 --experiment_name experiment_name --output path/to/experiments\n```\n\nRunning the command illustrated above, will display a list of input fields where one can fill in more information about the training configuration, such as aggregation method, if differential privacy should be used etc. Once all training configurations have been decided, the pipeline will be initialized. All logs and training configurations will be stored in the folder *path/to/experiments/logdir/experiment_name.* \n\n## Analyzing experiments with federated\n### TensorBoard\n\nTo analyze the results with TensorBoard:\n\n```bash\n(venv) $ tensorboard --logdir=path/to/experiments/logdir/experiment_name --port=6060\n```\n\n![](assets/tensorboard.png)\n\n### Jupyter Notebook\n\nTo analyze the results in the ModelAnalysis notebook, open the notebook with your editor. For example:\n\n```bash\n(venv) $ code notebooks/ModelAnalysis.ipynb\n```\n\nReplace the first line in this notebook with the absolute path to your experiment folder, and run the notebook to see the results.\n\n## Documentation\n\nThe documentation can be found [here](https://federated-docs.firebaseapp.com/). \n\nTo generate the documentation locally:\n\n```bash\n(venv) $ cd docs\n(venv) $ make html\n(venv) $ firefox _build/html/index.html\n```\n\n## Tests\n\nThe unit tests included in **federated** are:\n* Tests for data preprocessing\n* Tests for different machine learning models\n* Tests for the training loops \n* Tests for the different privacy algorithms such as RFA. \n\nTo run all the tests:\n\n```bash\n(venv) $ make tests\n```\n\nTo generate coverage after running the tests:\n\n```bash\n(venv) $ coverage html\n(venv) $ firefox htmlcov/index.html\n```\n\nSee the [Makefile](Makefile) for more commands to test the modules in **federated** separately.\n\n## How to Contribute\n\n1. Clone repo and create a new branch: \n```bash\n$ git checkout https://github.com/dilawarm/federated.git -b name_for_new_branch`\n```\n2. Make changes and test.\n3. Submit Pull Request with comprehensive description of changes.\n\n## Owners\n\n[**Pernille Kopperud**](https://github.com/pernilko) | [**Dilawar Mahmood**](https://github.com/dilawarm)\n:--:|:--:\n<a href=\"https://github.com/pernilko\"><img src=\"assets/pernille.jpeg\" width=\"200\"></a> | <a href=\"https://github.com/dilawarm\"><img src=\"assets/dilawar.png\" width=\"200\"></a>\n\n\nEnjoy! :slightly_smiling_face:\n",
  "permissions": {
    "read": true,
    "write": false,
    "admin": false
  },
  "media_types": [
    "application/vnd.docker.container.image.v1+json"
  ],
  "content_types": [
    "image"
  ]
}