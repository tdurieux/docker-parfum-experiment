{"startTime":"2023-01-11T19:12:20.583Z","endTime":1673464351019,"repository":"nwithan8/tauticord","organization":"docker-parfum","dockerfilePath":"Dockerfile","dockerfile_sha":"f97f7df1d52ac5a6e8c5b8dbeb8dbb247e1b5ddf","dockerfile":"FROM keymetrics/pm2:18-alpine\nWORKDIR /app\n\n# Install Python and other utilities\nRUN apk add --no-cache --update alpine-sdk git wget python3 python3-dev ca-certificates musl-dev libc-dev gcc bash nano linux-headers && \\\n    python3 -m ensurepip && \\\n    pip3 install --upgrade pip setuptools\n\n# Install pm2-logrotate\nRUN pm2 install pm2-logrotate\n\n# Copy requirements.txt from build machine to WORKDIR (/app) folder (important we do this BEFORE copying the rest of the files to avoid re-running pip install on every code change)\nCOPY requirements.txt requirements.txt\n\n# Install Python requirements\nRUN pip3 install -r requirements.txt\n\n# Make Docker /config volume for optional config file\nVOLUME /config\n\n# Copy example config file from build machine to Docker /config folder\n# Also copies any existing config.yaml file from build machine to Docker /config folder, (will cause the bot to use the existing config file if it exists)\nCOPY config.yaml* /config/\n\n# Make Docker /logs volume for log file\nVOLUME /logs\n\n# Copy source code from build machine to WORKDIR (/app) folder\nCOPY . .\n\n# Delete unnecessary files in WORKDIR (/app) folder (not caught by .dockerignore)\nRUN echo \"**** removing unneeded files ****\"\nRUN rm -rf /app/requirements.txt /app/config.yaml*\n\n# Run the app\nCMD [ \"pm2-runtime\", \"start\", \"ecosystem.config.json\" ]\n"}