{"startTime":"2023-01-11T19:10:37.937Z","endTime":1673464263168,"repository":"nitrictech/cli","organization":"docker-parfum","dockerfilePath":"Dockerfile","dockerfile_sha":"b3b9d0a609886309b5be933efbdade88352eb93f","dockerfile":"FROM golang:buster as build\n\nWORKDIR /app/\n\n# Install dependencies\nCOPY go.mod go.sum ./\nRUN go mod download\n\nCOPY . .\n\nRUN make build\n\nFROM python:3.9-slim\n\nLABEL \"repository\"=\"https://github.com/nitrictech/cli\"\nLABEL \"homepage\"=\"https://nitric.io\"\nLABEL org.opencontainers.image.description=\"The Nitric CLI, in a Docker container.\"\n\nENV GOLANG_VERSION 1.17.3\nENV GOLANG_SHA256 550f9845451c0c94be679faf116291e7807a8d78b43149f9506c1b15eb89008c\nENV DOCKER_PASS_CH v0.6.4\n\n# Install deps all in one step\nRUN apt-get update -y && \\\n  apt-get install -y \\\n  apt-transport-https \\\n  build-essential \\\n  ca-certificates \\\n  net-tools \\\n  curl \\\n  git \\\n  gnupg \\\n  software-properties-common \\\n  wget \\\n  pass \\\n  unzip && \\\n  # Get all of the signatures we need all at once.\n  curl -fsSL https://download.docker.com/linux/debian/gpg          | apt-key add - && \\\n  # IAM Authenticator for EKS\n  curl -fsSLo /usr/bin/aws-iam-authenticator https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/linux/amd64/aws-iam-authenticator && \\\n  chmod +x /usr/bin/aws-iam-authenticator && \\\n  # AWS v2 cli\n  curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" && \\\n  unzip awscliv2.zip && \\\n  ./aws/install && \\\n  rm -rf aws && \\\n  # Add additional apt repos all at once\n  echo \"deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable\"      | tee /etc/apt/sources.list.d/docker.list           && \\\n  # Install second wave of dependencies\n  apt-get update -y && \\\n  apt-get install -y docker-ce && \\\n  # Clean up the lists work\n  rm -rf /var/lib/apt/lists/*\n\n# Passing --build-arg PULUMI_VERSION=vX.Y.Z will use that version\n# of the SDK. Otherwise, we use whatever get.pulumi.com thinks is\n# the latest\nARG PULUMI_VERSION\n\n# Install the Pulumi SDK, including the CLI and language runtimes.\nRUN curl -fsSL https://get.pulumi.com/ | bash -s -- --version $PULUMI_VERSION && \\\n  mv ~/.pulumi/bin/* /usr/bin\n\nRUN curl -fsSLo /tmp/dch.tgz https://github.com/docker/docker-credential-helpers/releases/download/${DOCKER_PASS_CH}/docker-credential-pass-${DOCKER_PASS_CH}-amd64.tar.gz; \\\n  tar -xf /tmp/dch.tgz; \\\n  chmod +x docker-credential-pass; \\\n  mv -f docker-credential-pass /usr/bin/; \\\n  rm -rf /tmp/dch.tgz\n\nENV HOST_DOCKER_INTERNAL_IFACE eth0\nENV PULUMI_SKIP_UPDATE_CHECK \"true\"\n\nCOPY --from=build /app/bin/nitric /usr/bin/\n"}