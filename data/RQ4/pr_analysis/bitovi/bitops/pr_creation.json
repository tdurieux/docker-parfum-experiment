{"startTime":"2023-01-22T19:55:17.564Z","endTime":1674417328795,"repository":"bitovi/bitops","organization":"docker-parfum","dockerfilePath":"Dockerfile","dockerfile_sha":"a7ade8e610c217cc7708f823985883d538638225","dockerfile":"## Using alpine fails on awscli install\nFROM python:3.8.6-alpine\nENV DEBIAN_FRONTEND=noninteractive\nENV PYTHONUNBUFFERED=1\nRUN apk add --no-cache bash\nRUN apk update\n\nRUN apk add \\\n    libsodium-dev \\\n    wget \\\n    unzip \\\n    git \\\n    jq \\\n    curl \\\n    rsync \\\n    openssh\n    \n# install glibc compatibility for alpine\nENV GLIBC_VER=2.31-r0\nRUN mkdir -p /opt/bitops\nRUN mkdir -p /opt/bitops-local-plugins\n\nWORKDIR /opt/bitops\nCOPY scripts/ ./scripts\nCOPY bitops.config.yaml .\nCOPY bitops.schema.yaml .\nCOPY requirements.txt .\n\nRUN pip3 install -r requirements.txt\n\n# temporarily set the working dir to `/opt/bitops-local-plugins`\n#    to copy local plugins from a custom bitops repo into the container\n#    at build time to allow installing dependencies\nONBUILD WORKDIR /opt/bitops-local-plugins\n# optionally copy all local plugins to the `/opt/bitops-local-plugins`\n#    directory within the built container\n# See Docker workaround for making `plugins` dir optional: https://stackoverflow.com/a/46801962\nONBUILD COPY bitops.config.yaml plugins* .\n\nONBUILD WORKDIR /opt/bitops\nONBUILD COPY bitops.config.yaml .\n\nONBUILD RUN python3 scripts/main.py install\n\nENTRYPOINT [\"python3\", \"/opt/bitops/scripts/main.py\", \"deploy\"]\n"}