{"repository":"https://github.com/ethereum/eth2-ssv","dockerfilePath":"Dockerfile","startTime":1672847288860,"endTime":1672847359124,"clone":{"startTime":1672847288864,"stdout":"","stderr":"Cloning into '/tmp/dinghy-analysis/ethereum/eth2-ssv'...\n","error":null,"endTime":1672847289998,"commit":"bd3ccbed4786b2be6842a1ff0cc3cc3507c382e1"},"originalBuild":{"startTime":1672847290217,"endTime":1672847355936,"error":null,"stdout":"","stderr":"#1 [internal] load build definition from Dockerfile\n#1 sha256:e1313711f2b767821a7d997f65242500671c058a6800327d82dc129403dae528\n#1 transferring dockerfile: 1.13kB done\n#1 DONE 0.0s\n\n#2 [internal] load .dockerignore\n#2 sha256:829215c829967ef610aaf361fad1413d2b53e414af8ac2ed765c5153ccf3d6bc\n#2 transferring context: 43B done\n#2 DONE 0.0s\n\n#4 [internal] load metadata for docker.io/library/golang:1.15\n#4 sha256:9a516fd885314f94b0b65506dd9f20f0169dedffad048edb4ebac233226f47e8\n#4 DONE 1.3s\n\n#3 [internal] load metadata for docker.io/library/alpine:3.12\n#3 sha256:1262321f36fab19bdf5d744349887024aa95a959d4f7f288cffbacd3116deac4\n#3 DONE 1.4s\n\n#7 [preparer 1/8] FROM docker.io/library/golang:1.15@sha256:ea080cc817b02a946461d42c02891bf750e3916c52f7ea8187bccde8f312b59f\n#7 sha256:d9e529885cdcb3add63b2eb3da4827c830e48e31b274b250b4b2072209bb08af\n#7 CACHED\n\n#5 [runner 1/4] FROM docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69\n#5 sha256:44df742697e3c2143f2dab4373a17620bba21eb821b4cb079109d621606ff131\n#5 CACHED\n\n#12 [internal] load build context\n#12 sha256:e9cee178790594a8432318a173df23aaadf0addfdc3f93e64fe261ad677d3442\n#12 transferring context: 18.07MB 0.2s done\n#12 DONE 0.2s\n\n#8 [preparer 2/8] RUN apt-get update                                                        &&   DEBIAN_FRONTEND=noninteractive apt-get install -yq --no-install-recommends     curl git zip unzip wget g++ python gcc-aarch64-linux-gnu                   && rm -rf /var/lib/apt/lists/*\n#8 sha256:2f256bc67e0c69de39db5bdca664b6eab27661bd91f9ec7f8a2d71c9d349e72f\n#8 0.479 Get:1 http://deb.debian.org/debian buster InRelease [122 kB]\n#8 0.479 Get:2 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\n#8 0.511 Get:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\n#8 0.613 Get:4 http://security.debian.org/debian-security buster/updates/main arm64 Packages [412 kB]\n#8 0.724 Get:5 http://deb.debian.org/debian buster/main arm64 Packages [7737 kB]\n#8 1.004 Get:6 http://deb.debian.org/debian buster-updates/main arm64 Packages [8780 B]\n#8 1.776 Fetched 8372 kB in 1s (6243 kB/s)\n#8 1.776 Reading package lists...\n#8 ...\n\n#6 [runner 2/4] RUN apk -v --update add ca-certificates bash make  bind-tools &&     rm /var/cache/apk/*\n#6 sha256:cd098b3741562d7eeb88a4c676d656c7de041696425b68e5bb29510523074c9c\n#6 0.358 fetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/aarch64/APKINDEX.tar.gz\n#6 0.548 fetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/aarch64/APKINDEX.tar.gz\n#6 0.722 (1/23) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n#6 0.745 (2/23) Installing ncurses-libs (6.2_p20200523-r1)\n#6 0.814 (3/23) Installing readline (8.0.4-r0)\n#6 0.845 (4/23) Installing bash (5.0.17-r0)\n#6 0.930 Executing bash-5.0.17-r0.post-install\n#6 0.935 (5/23) Installing fstrm (0.6.0-r1)\n#6 0.953 (6/23) Installing krb5-conf (1.0-r2)\n#6 0.976 (7/23) Installing libcom_err (1.45.6-r0)\n#6 0.993 (8/23) Installing keyutils-libs (1.6.1-r1)\n#6 1.018 (9/23) Installing libverto (0.3.1-r1)\n#6 1.038 (10/23) Installing krb5-libs (1.18.5-r0)\n#6 1.192 (11/23) Installing json-c (0.14-r1)\n#6 1.211 (12/23) Installing libgcc (9.3.0-r2)\n#6 1.228 (13/23) Installing libstdc++ (9.3.0-r2)\n#6 1.290 (14/23) Installing libprotobuf (3.12.2-r0)\n#6 1.405 (15/23) Installing libprotoc (3.12.2-r0)\n#6 1.473 (16/23) Installing protobuf-c (1.3.3-r1)\n#6 1.491 (17/23) Installing libuv (1.38.1-r0)\n#6 1.512 (18/23) Installing xz-libs (5.2.5-r1)\n#6 1.533 (19/23) Installing libxml2 (2.9.14-r0)\n#6 1.592 (20/23) Installing bind-libs (9.16.27-r1)\n#6 1.703 (21/23) Installing bind-tools (9.16.27-r1)\n#6 1.736 (22/23) Installing ca-certificates (20220614-r0)\n#6 1.770 (23/23) Installing make (4.3-r0)\n#6 1.793 Executing busybox-1.31.1-r22.trigger\n#6 1.801 Executing ca-certificates-20220614-r0.trigger\n#6 1.826 OK: 37 packages, 124 dirs, 405 files, 22 MiB\n#6 DONE 1.9s\n\n#8 [preparer 2/8] RUN apt-get update                                                        &&   DEBIAN_FRONTEND=noninteractive apt-get install -yq --no-install-recommends     curl git zip unzip wget g++ python gcc-aarch64-linux-gnu                   && rm -rf /var/lib/apt/lists/*\n#8 sha256:2f256bc67e0c69de39db5bdca664b6eab27661bd91f9ec7f8a2d71c9d349e72f\n#8 1.776 Reading package lists...\n#8 2.150 Reading package lists...\n#8 2.502 Building dependency tree...\n#8 2.563 Reading state information...\n#8 2.629 g++ is already the newest version (4:8.3.0-1).\n#8 2.629 gcc is already the newest version (4:8.3.0-1).\n#8 2.629 python is already the newest version (2.7.16-1).\n#8 2.629 python set to manually installed.\n#8 2.629 wget is already the newest version (1.20.1-1.1).\n#8 2.629 The following additional packages will be installed:\n#8 2.629   libcurl4\n#8 2.629 Suggested packages:\n#8 2.629   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email\n#8 2.629   git-gui gitk gitweb git-cvs git-mediawiki git-svn\n#8 2.629 Recommended packages:\n#8 2.629   patch less\n#8 2.656 The following NEW packages will be installed:\n#8 2.656   unzip zip\n#8 2.656 The following packages will be upgraded:\n#8 2.656   curl git libcurl4\n#8 2.697 3 upgraded, 2 newly installed, 0 to remove and 50 not upgraded.\n#8 2.697 Need to get 6470 kB of archives.\n#8 2.697 After this operation, 1255 kB of additional disk space will be used.\n#8 2.697 Get:1 http://deb.debian.org/debian buster/main arm64 zip arm64 3.0-11+b1 [225 kB]\n#8 2.727 Get:2 http://security.debian.org/debian-security buster/updates/main arm64 curl arm64 7.64.0-4+deb10u3 [260 kB]\n#8 2.767 Get:3 http://security.debian.org/debian-security buster/updates/main arm64 libcurl4 arm64 7.64.0-4+deb10u3 [312 kB]\n#8 2.778 Get:4 http://security.debian.org/debian-security buster/updates/main arm64 git arm64 1:2.20.1-2+deb10u6 [5506 kB]\n#8 2.951 Get:5 http://security.debian.org/debian-security buster/updates/main arm64 unzip arm64 6.0-23+deb10u3 [166 kB]\n#8 3.066 debconf: delaying package configuration, since apt-utils is not installed\n#8 3.088 Fetched 6470 kB in 0s (22.6 MB/s)\n#8 3.105 (Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 15394 files and directories currently installed.)\r\n#8 3.138 Preparing to unpack .../curl_7.64.0-4+deb10u3_arm64.deb ...\r\n#8 3.141 Unpacking curl (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\n#8 3.180 Preparing to unpack .../libcurl4_7.64.0-4+deb10u3_arm64.deb ...\r\n#8 3.188 Unpacking libcurl4:arm64 (7.64.0-4+deb10u3) over (7.64.0-4+deb10u2) ...\r\n#8 3.235 Preparing to unpack .../git_1%3a2.20.1-2+deb10u6_arm64.deb ...\r\n#8 3.270 Unpacking git (1:2.20.1-2+deb10u6) over (1:2.20.1-2+deb10u3) ...\r\n#8 4.701 Selecting previously unselected package unzip.\r\n#8 4.702 Preparing to unpack .../unzip_6.0-23+deb10u3_arm64.deb ...\r\n#8 4.703 Unpacking unzip (6.0-23+deb10u3) ...\r\n#8 4.726 Selecting previously unselected package zip.\r\n#8 4.727 Preparing to unpack .../zip_3.0-11+b1_arm64.deb ...\r\n#8 4.728 Unpacking zip (3.0-11+b1) ...\r\n#8 4.761 Setting up unzip (6.0-23+deb10u3) ...\r\n#8 4.773 Setting up zip (3.0-11+b1) ...\r\n#8 4.776 Setting up git (1:2.20.1-2+deb10u6) ...\r\n#8 4.799 Setting up libcurl4:arm64 (7.64.0-4+deb10u3) ...\r\n#8 4.805 Setting up curl (7.64.0-4+deb10u3) ...\r\n#8 4.809 Processing triggers for libc-bin (2.28-10) ...\r\n#8 4.882 Processing triggers for mime-support (3.62) ...\r\n#8 DONE 4.9s\n\n#9 [preparer 3/8] RUN go version\n#9 sha256:48efc86b3526804f90b09eba19f21a4aa48d390df9bf17ab30a36b5a1448c016\n#9 0.336 go version go1.15.15 linux/arm64\n#9 DONE 0.3s\n\n#10 [preparer 4/8] RUN python --version\n#10 sha256:cd5c86ed2414865822f01863291045cc42e2bf76e37adebb2f0db2e18ce34511\n#10 0.300 Python 2.7.16\n#10 DONE 0.3s\n\n#11 [preparer 5/8] WORKDIR /go/src/github.com/bloxapp/ssv/\n#11 sha256:bf6015e7e030398dedc8322a2fc9f611b607044ccc77966a77754a3b0588f8f3\n#11 DONE 0.0s\n\n#13 [preparer 6/8] COPY go.mod .\n#13 sha256:f69aa1c717f30bc2b0a88782bb79b6d44243337cd272a071fceea8652fa3c04e\n#13 DONE 0.0s\n\n#14 [preparer 7/8] COPY go.sum .\n#14 sha256:24aeac8217ed966ba4ce54362a620c6f8b5b8adc7aae0e7e234b9d533e098f24\n#14 DONE 0.0s\n\n#15 [preparer 8/8] RUN go mod download\n#15 sha256:e2a1b2140f2d192826cb2ce62979af7f3301ce6860911d223050b397863d49a2\n#15 DONE 27.0s\n\n#16 [builder 1/3] COPY . .\n#16 sha256:a6ba1460fd4932f038f7231c12b8b31ae3073aa09d74de54019ec6c5bbca08c9\n#16 DONE 0.1s\n\n#17 [builder 2/3] RUN go get -d -v ./...\n#17 sha256:1ef4a8fdac63407e993a28fd3b6b615db773b773fc47cf39f0e559957df89cec\n#17 DONE 0.6s\n\n#18 [builder 3/3] RUN CGO_ENABLED=1 GOOS=linux go install -tags blst_enabled -ldflags \"-linkmode external -extldflags \"-static -lm\"\" ./cmd/ssvnode\n#18 sha256:a617eaff220b398ac5030da8be1329e331de7ab788e2362bfc03b1a637bf0a55\n#18 29.60 # github.com/bloxapp/ssv/cmd/ssvnode\n#18 29.60 /usr/bin/ld: /tmp/go-link-321852118/000029.o: in function `mygetgrouplist':\n#18 29.60 /usr/local/go/src/os/user/getgrouplist_unix.go:16: warning: Using 'getgrouplist' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n#18 29.60 /usr/bin/ld: /tmp/go-link-321852118/000028.o: in function `mygetgrgid_r':\n#18 29.60 /usr/local/go/src/os/user/cgo_lookup_unix.go:38: warning: Using 'getgrgid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n#18 29.60 /usr/bin/ld: /tmp/go-link-321852118/000028.o: in function `mygetgrnam_r':\n#18 29.60 /usr/local/go/src/os/user/cgo_lookup_unix.go:43: warning: Using 'getgrnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n#18 29.60 /usr/bin/ld: /tmp/go-link-321852118/000028.o: in function `mygetpwnam_r':\n#18 29.60 /usr/local/go/src/os/user/cgo_lookup_unix.go:33: warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n#18 29.60 /usr/bin/ld: /tmp/go-link-321852118/000028.o: in function `mygetpwuid_r':\n#18 29.60 /usr/local/go/src/os/user/cgo_lookup_unix.go:28: warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n#18 29.60 /usr/bin/ld: /tmp/go-link-321852118/000008.o: in function `_cgo_26061493d47f_C2func_getaddrinfo':\n#18 29.60 /tmp/go-build/cgo-gcc-prolog:58: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking\n#18 DONE 29.9s\n\n#19 [runner 3/4] COPY --from=builder /go/bin/ssvnode /go/bin/ssvnode\n#19 sha256:55436034f64dd1d02bc043db52c005a42191414ca5592e2785f05a7f29a36262\n#19 DONE 0.1s\n\n#20 [runner 4/4] COPY ./Makefile .env* ./\n#20 sha256:229d55b87f203fc795e621b7029d8ea71ece47d9b648e70f97eee2ceaf49ed47\n#20 DONE 0.0s\n\n#21 exporting to image\n#21 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00\n#21 exporting layers 0.1s done\n#21 writing image sha256:b1cbf17c555dac2c22a70036172b439d78fdfc373daaa1cebfa099ce0414b4ac done\n#21 naming to docker.io/library/eth2-ssv:latest done\n#21 DONE 0.1s\n\nUse 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them\n","imageSize":68326333},"repair":{"startTime":1672847356077,"endTime":1672847356280,"violations":[{"name":"apkAddUseNoCache","position":{"start":35,"end":35,"columnStart":4,"columnEnd":61}}],"repairedDockerfile":"#\n# STEP 1: Prepare environment\n#\nFROM golang:1.15 AS preparer\n\nRUN apt-get update                                                        && \\\n  DEBIAN_FRONTEND=noninteractive apt-get install -yq --no-install-recommends \\\n    curl git zip unzip wget g++ python gcc-aarch64-linux-gnu                 \\\n  && rm -rf /var/lib/apt/lists/*\n\nRUN go version\nRUN python --version\n\nWORKDIR /go/src/github.com/bloxapp/ssv/\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n\n#\n# STEP 2: Build executable binary\n#\nFROM preparer AS builder\n\n# Copy files and install app\nCOPY . .\n\nRUN go get -d -v ./...\nRUN CGO_ENABLED=1 GOOS=linux go install -tags blst_enabled -ldflags \"-linkmode external -extldflags \\\"-static -lm\\\"\" ./cmd/ssvnode\n\n#\n# STEP 3: Prepare image to run the binary\n#\nFROM alpine:3.12 AS runner\n\n# Install ca-certificates, bash\nRUN apk -v --no-cache --update add ca-certificates bash make bind-tools && \\\n    rm /var/cache/apk/*\n\nCOPY --from=builder /go/bin/ssvnode /go/bin/ssvnode\nCOPY ./Makefile .env* ./\n\n\n# Expose port for load balancing\nEXPOSE 5678 5000 4000/udp\n\n#ENTRYPOINT [\"/go/bin/ssvnode\"]\n"},"repairedBuild":{"startTime":1672847356520,"endTime":1672847358987,"error":{"code":1,"killed":false,"signal":null,"cmd":"docker build --no-cache --force-rm -t eth2-ssv:latest -f /tmp/dinghy-analysis/ethereum/eth2-ssv/Dockerfile ."},"stdout":"","stderr":"#1 [internal] load build definition from Dockerfile\n#1 sha256:66caaea75c63941cb33d6eb37455a278e2ad84873d7498e13c5aa9a83a8fcc1d\n#1 transferring dockerfile: 1.14kB done\n#1 DONE 0.0s\n\n#2 [internal] load .dockerignore\n#2 sha256:76588d0eee6f4386c7d975bc769922c5179f883ff6378293591345c0e76d19d1\n#2 transferring context: 34B done\n#2 DONE 0.0s\n\n#4 [internal] load metadata for docker.io/library/golang:1.15\n#4 sha256:9a516fd885314f94b0b65506dd9f20f0169dedffad048edb4ebac233226f47e8\n#4 ...\n\n#3 [internal] load metadata for docker.io/library/alpine:3.12\n#3 sha256:1262321f36fab19bdf5d744349887024aa95a959d4f7f288cffbacd3116deac4\n#3 DONE 0.6s\n\n#4 [internal] load metadata for docker.io/library/golang:1.15\n#4 sha256:9a516fd885314f94b0b65506dd9f20f0169dedffad048edb4ebac233226f47e8\n#4 DONE 0.7s\n\n#5 [runner 1/4] FROM docker.io/library/alpine:3.12@sha256:c75ac27b49326926b803b9ed43bf088bc220d22556de1bc5f72d742c91398f69\n#5 sha256:44df742697e3c2143f2dab4373a17620bba21eb821b4cb079109d621606ff131\n#5 CACHED\n\n#7 [preparer 1/8] FROM docker.io/library/golang:1.15@sha256:ea080cc817b02a946461d42c02891bf750e3916c52f7ea8187bccde8f312b59f\n#7 sha256:d9e529885cdcb3add63b2eb3da4827c830e48e31b274b250b4b2072209bb08af\n#7 CACHED\n\n#12 [internal] load build context\n#12 sha256:c88b27668b7b06c4fb9e00ae16e1fdbd4ec3f017aafe73d95e417913d1cc0ac4\n#12 transferring context: 17.44kB 0.0s done\n#12 DONE 0.0s\n\n#6 [runner 2/4] RUN apk -v --no-cache --update add ca-certificates bash make bind-tools &&     rm /var/cache/apk/*\n#6 sha256:62cfddb2ece879e8b70ed995a905b217714431a3e18c116e08c2a6534dbbdbb2\n#6 0.187 fetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/aarch64/APKINDEX.tar.gz\n#6 0.335 fetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/aarch64/APKINDEX.tar.gz\n#6 0.466 (1/23) Installing ncurses-terminfo-base (6.2_p20200523-r1)\n#6 0.482 (2/23) Installing ncurses-libs (6.2_p20200523-r1)\n#6 0.534 (3/23) Installing readline (8.0.4-r0)\n#6 0.594 (4/23) Installing bash (5.0.17-r0)\n#6 0.645 Executing bash-5.0.17-r0.post-install\n#6 0.651 (5/23) Installing fstrm (0.6.0-r1)\n#6 0.667 (6/23) Installing krb5-conf (1.0-r2)\n#6 0.681 (7/23) Installing libcom_err (1.45.6-r0)\n#6 0.698 (8/23) Installing keyutils-libs (1.6.1-r1)\n#6 0.713 (9/23) Installing libverto (0.3.1-r1)\n#6 0.730 (10/23) Installing krb5-libs (1.18.5-r0)\n#6 0.804 (11/23) Installing json-c (0.14-r1)\n#6 0.820 (12/23) Installing libgcc (9.3.0-r2)\n#6 0.838 (13/23) Installing libstdc++ (9.3.0-r2)\n#6 0.880 (14/23) Installing libprotobuf (3.12.2-r0)\n#6 0.942 (15/23) Installing libprotoc (3.12.2-r0)\n#6 0.989 (16/23) Installing protobuf-c (1.3.3-r1)\n#6 1.007 (17/23) Installing libuv (1.38.1-r0)\n#6 1.025 (18/23) Installing xz-libs (5.2.5-r1)\n#6 1.045 (19/23) Installing libxml2 (2.9.14-r0)\n#6 1.091 (20/23) Installing bind-libs (9.16.27-r1)\n#6 1.175 (21/23) Installing bind-tools (9.16.27-r1)\n#6 1.201 (22/23) Installing ca-certificates (20220614-r0)\n#6 1.228 (23/23) Installing make (4.3-r0)\n#6 1.249 Executing busybox-1.31.1-r22.trigger\n#6 1.253 Executing ca-certificates-20220614-r0.trigger\n#6 1.275 OK: 37 packages, 124 dirs, 405 files, 22 MiB\n#6 1.291 rm: can't remove '/var/cache/apk/*': No such file or directory\n#6 ERROR: executor failed running [/bin/sh -c apk -v --no-cache --update add ca-certificates bash make bind-tools &&     rm /var/cache/apk/*]: exit code: 1\n\n#8 [preparer 2/8] RUN apt-get update                                                        &&   DEBIAN_FRONTEND=noninteractive apt-get install -yq --no-install-recommends     curl git zip unzip wget g++ python gcc-aarch64-linux-gnu                   && rm -rf /var/lib/apt/lists/*\n#8 sha256:2f256bc67e0c69de39db5bdca664b6eab27661bd91f9ec7f8a2d71c9d349e72f\n#8 0.275 Get:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]\n#8 0.289 Get:2 http://deb.debian.org/debian buster InRelease [122 kB]\n#8 0.324 Get:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]\n#8 0.398 Get:4 http://security.debian.org/debian-security buster/updates/main arm64 Packages [412 kB]\n#8 0.506 Get:5 http://deb.debian.org/debian buster/main arm64 Packages [7737 kB]\n#8 0.849 Get:6 http://deb.debian.org/debian buster-updates/main arm64 Packages [8780 B]\n#8 CANCELED\n------\n > [runner 2/4] RUN apk -v --no-cache --update add ca-certificates bash make bind-tools &&     rm /var/cache/apk/*:\n------\nexecutor failed running [/bin/sh -c apk -v --no-cache --update add ca-certificates bash make bind-tools &&     rm /var/cache/apk/*]: exit code: 1\n"}}