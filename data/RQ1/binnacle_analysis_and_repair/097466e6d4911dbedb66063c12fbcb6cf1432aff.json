{
  "startTime": 1674248748804,
  "endTime": 1674248748890,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 24
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#FROM alpine:latest\n\n# Hack: Extend from the official solc container.\n#       We really don't need to extend from this, but\n#       it also extends from alpine, and this allows\n#       us to have solc-select auto-rebuilt on Dockerhub\n#       every time the official solc Docker image is rebuilt.\n#       As a bonus, we also get the nightly build of `solc`.\nFROM ethereum/solc:nightly-alpine\n\nMAINTAINER Evan Sultanik\n\nUSER root\n\n# First, move the preexisting nightly build we inherited from the official image into place:\nRUN mv /usr/local/bin/solc /usr/bin/solc-vnightly\n\nRUN apk update\nRUN apk upgrade\nRUN apk add --no-cache bash curl\n\n# Install all versions of solc\nCOPY scripts/install_solc.sh /\nRUN bash /install_solc.sh\nRUN rm /install_solc.sh\n# Install the solc-selection script:\nCOPY scripts/solc-select /usr/bin/\n\n# solc-select requires a newer version of `find`:\nRUN apk -U --no-cache add findutils\n\n# Select the latest, non-nightly-build version of solc as the default:\nRUN solc-select --list | grep -v nightly | tail -n1 | xargs solc-select\n\nCOPY scripts/solc /usr/bin/\nCOPY scripts/solc-wrapper /usr/bin/\nCOPY scripts/chroot.sh /usr/bin/\n\nCOPY scripts/install.sh /usr/bin/\nCOPY bin/solc /etc/solc_template\nRUN cat /etc/solc_template >> /usr/bin/install.sh\nRUN echo EOF >> /usr/bin/install.sh\nRUN echo finalize >> /usr/bin/install.sh\nRUN rm /etc/solc_template\n\nRUN mkdir -p /workdir\n\nWORKDIR /workdir\n\nENTRYPOINT [\"/usr/bin/solc-wrapper\"]\n"
}