{
  "startTime": 1674242227900,
  "endTime": 1674242228247,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 87
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 112
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 178
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 178
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 178
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 98
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 202
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 90
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 122
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:14.04\n\nRUN apt-get update\n\n#Runit\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y runit && rm -rf /var/lib/apt/lists/*;\nCMD /usr/sbin/runsvdir-start\n\n#SSHD\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y openssh-server && mkdir -p /var/run/sshd && \\\n    echo 'root:root' |chpasswd && rm -rf /var/lib/apt/lists/*;\nRUN sed -i \"s/session.*required.*pam_loginuid.so/#session    required     pam_loginuid.so/\" /etc/pam.d/sshd\nRUN sed -i \"s/PermitRootLogin without-password/#PermitRootLogin without-password/\" /etc/ssh/sshd_config\n\n#Utilities\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y vim less net-tools inetutils-ping curl git telnet nmap socat dnsutils netcat tree htop unzip sudo software-properties-common && rm -rf /var/lib/apt/lists/*;\n\n#Install Oracle Java 7\nRUN echo 'deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main' > /etc/apt/sources.list.d/java.list && \\\n    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 && \\\n    apt-get update && \\\n    echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true | /usr/bin/debconf-set-selections && \\\n    DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y oracle-java7-installer && rm -rf /var/lib/apt/lists/*;\n\n#Install Druid\nRUN curl -f https://static.druid.io/artifacts/releases/druid-services-0.6.105-bin.tar.gz | tar xz\nRUN mv druid-services* druid-services\n\n#MySQL\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y mysql-server && \\\n    sed -i 's/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf && rm -rf /var/lib/apt/lists/*;\n\n#Zookeeper\nRUN curl -f https://www.us.apache.org/dist/zookeeper/zookeeper-3.4.6/zookeeper-3.4.6.tar.gz | tar xz\nRUN mv zookeeper* zookeeper\nRUN cd zookeeper && cp conf/zoo_sample.cfg conf/zoo.cfg\n\n#Kafka\nRUN wget https://archive.apache.org/dist/kafka/old_releases/kafka-0.7.2-incubating/kafka-0.7.2-incubating-src.tgz && \\\n    tar -xvzf kafka-*.tgz && \\\n    rm kafka-*.tgz && \\\n    mv kafka-0.7.2-incubating-src kafka && \\\n    cd kafka && \\\n    ./sbt update && ./sbt package\n\n#Install R\nRUN echo 'deb http://cran.rstudio.com/bin/linux/ubuntu trusty/' > /etc/apt/sources.list.d/r.list && \\\n    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9 && \\\n    apt-get update\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y r-base && rm -rf /var/lib/apt/lists/*;\n\n#RStudio Server\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y gdebi-core libapparmor1 libcurl4-openssl-dev && rm -rf /var/lib/apt/lists/*;\nRUN wget https://download2.rstudio.org/rstudio-server-0.98.507-amd64.deb && \\\n    gdebi -n rstudio-server-0.98.507-amd64.deb && \\\n    rm rstudio-server-*-amd64.deb\nRUN useradd -m rstudio && \\\n    echo \"rstudio:rstudio\" | chpasswd\n\n#RDruid\nRUN echo 'options(\"repos\"=\"http://cran.us.r-project.org\")' > /.Rprofile\nRUN R -e \"install.packages('devtools')\"\nRUN R -e \"devtools::install_github('RDruid', 'metamx')\"\n\n#Add runit services\nADD sv /etc/service\n\n#Config\n\n#Realtime ZK config\nRUN echo '#zk\\ndruid.zk.service.host=localhost\\ndruid.server.maxSize=300000000000\\ndruid.zk.paths.base=/druid' >> /druid-services/config/realtime/runtime.properties\n\n#Init MySql\nADD ./mysql.ddl mysql.ddl\nRUN mysqld_safe & mysqladmin --wait=5 ping && \\\n    mysql < mysql.ddl && \\\n    mysqladmin shutdown\n\n\n"
}