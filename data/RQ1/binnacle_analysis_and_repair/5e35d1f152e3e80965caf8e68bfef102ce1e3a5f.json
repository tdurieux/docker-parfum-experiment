{
  "startTime": 1674239643471,
  "endTime": 1674239643887,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 100
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 106
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 106
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 27
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 51
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:18.04\nMAINTAINER Don Petersen <don@donpetersen.net>\n\n# Start by changing the apt output, as stolen from Discourse's Dockerfiles.\nRUN echo \"debconf debconf/frontend select Teletype\" | debconf-set-selections &&\\\n# Probably a good idea\n    apt-get update && \\\n# Nobody is happy when these aren't up-to-date\n    apt-get install --no-install-recommends -y ca-certificates && \\\n# Basic dev tools\n    apt-get install --no-install-recommends -y openssh-client git build-essential ctags man curl direnv software-properties-common && \\\n# Set up for pairing with wemux.\n    apt-get install --no-install-recommends -y tmux && \\\n    git clone git://github.com/zolrath/wemux.git /usr/local/share/wemux && \\\n    ln -s /usr/local/share/wemux/wemux /usr/local/bin/wemux && \\\n    cp /usr/local/share/wemux/wemux.conf.example /usr/local/etc/wemux.conf && \\\n    echo \"host_list=(dev)\" >> /usr/local/etc/wemux.conf && \\\n# Install neovim\n    apt-get install --no-install-recommends -y neovim && \\\n# Install Homesick, through which zsh and vim configurations will be installed\n    apt-get install --no-install-recommends -y ruby && \\\n    gem install homesick --no-document && \\\n# Install the Github Auth gem, which will be used to get SSH keys from GitHub\n# to authorize users for SSH\n    gem install github-auth --no-document && \\\n# Install zsh\n    apt-get install --no-install-recommends -y zsh && \\\n# Install searching tools\n    apt-get install --no-install-recommends -y ack-grep && \\\n    curl -f -LO https://github.com/BurntSushi/ripgrep/releases/download/0.10.0/ripgrep_0.10.0_amd64.deb && \\\n    dpkg -i ripgrep_0.10.0_amd64.deb && \\\n    rm ripgrep_0.10.0_amd64.deb && \\\n# Set up SSH. We set up SSH forwarding so that transactions like git pushes\n# from the container happen magically.\n    apt-get install --no-install-recommends -y openssh-server && \\\n    mkdir /var/run/sshd && \\\n    echo \"AllowAgentForwarding yes\" >> /etc/ssh/sshd_config && \\\n# Install fzf\n    wget https://github.com/junegunn/fzf-bin/releases/download/0.17.4/fzf-0.17.4-linux_amd64.tgz && \\\n    tar -zxvf fzf-0.17.4-linux_amd64.tgz && \\\n    mv fzf /usr/local/bin/fzf && \\\n    rm fzf-0.17.4-linux_amd64.tgz && \\\n# Install exa\n    wget https://github.com/ogham/exa/releases/download/v0.8.0/exa-linux-x86_64-0.8.0.zip && \\\n    unzip exa-linux-x86_64-0.8.0.zip && \\\n    mv exa-linux-x86_64 /usr/local/bin/exa && \\\n    rm exa-linux-x86_64-0.8.0.zip && \\\n# Fix for occasional errors in perl stuff (git, ack) saying that locale vars\n# aren't set.\n    apt-get install --no-install-recommends -y locales && \\\n    locale-gen --purge en_US.UTF-8 && \\\n    update-locale LANG=en_US.UTF-8 && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y sudo && \\\n    useradd dev -d /home/dev -m -s /bin/zsh && \\\n    adduser dev sudo && \\\n    echo '%sudo ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers && rm -rf /var/lib/apt/lists/*;\n\nUSER dev\n\nADD ssh_key_adder.rb /home/dev/ssh_key_adder.rb\n\nRUN \\\n# Set up shell\n    homesick clone dpetersen/zshfiles &&\\\n    homesick symlink zshfiles &&\\\n# Set up The Editor of the Gods\n    homesick clone dpetersen/vimfiles &&\\\n    homesick symlink vimfiles && \\\n    vim +PlugInstall +qall\n\n# Expose SSH\nEXPOSE 22\n\n# Install the SSH keys of ENV-configured GitHub users before running the SSH\n# server process. See README for SSH instructions.\nCMD /home/dev/ssh_key_adder.rb && sudo /usr/sbin/sshd -D\n"
}