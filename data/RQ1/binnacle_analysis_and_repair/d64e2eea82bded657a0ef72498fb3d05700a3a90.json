{
  "startTime": 1674238968651,
  "endTime": 1674238968784,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 23,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 17,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 7,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 10
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM jupyter/scipy-notebook\n\nMAINTAINER Heinrich Hartmann <heinrich@heinrichhartmann.com>\n\nUSER root\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    emacs \\\n    tmux \\\n    curl \\\n    less \\\n    man \\\n    autoconf \\\n    strace && rm -rf /var/lib/apt/lists/*;\nRUN apt-get upgrade -y\n\n\n\n\n\n\n\n\n\n# Give $NB_USER passwordless sudo\nRUN printf \"$NB_USER\\tALL=(ALL)\\tNOPASSWD: ALL\" > /etc/sudoers.d/$NB_USER\n\nUSER $NB_USER\n\nRUN pip install --no-cache-dir --upgrade pip\n\nRUN pip install --no-cache-dir \\\n    jupyter_contrib_nbextensions \\\n    jupyter_nbextensions_configurator\n\nRUN jupyter contrib nbextension install --user &&\\\n    jupyter nbextensions_configurator enable --user\n\n# install latest circonusapi package from GitHUb\nRUN (cd /tmp && \\\n        git clone https://github.com/circonus-labs/python-circonusapi.git && \\\n        cd python-circonusapi && \\\n        python setup.py install)\n\n# install latest libcircllhist\nRUN git clone https://github.com/circonus-labs/libcircllhist/ /tmp/libcircllhist\nRUN ( cd /tmp/libcircllhist && \\\n     autoconf && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --libdir /usr/lib/x86_64-linux-gnu/ && \\\n     make && sudo make install && (cd src && make install-python))\n\nEXPOSE 9998\nEXPOSE 9999\n\nADD cmd.sh ./\n\nCMD [\"./cmd.sh\"]\n"
}