{
  "startTime": 1674250335520,
  "endTime": 1674250335669,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 18,
        "columnEnd": 63
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nFROM maximo/ibmim\n\nARG url=http://images\nARG fp=10\nARG javafp=5.25\n\nENV TEMP /tmp\nWORKDIR /tmp\n\nRUN apt update && apt install --no-install-recommends -y tar bc net-tools netcat psmisc \\\n && rm -rf /var/lib/apt/lists/*\n\nRUN wget -q https://raw.githubusercontent.com/vishnubob/wait-for-it/master/wait-for-it.sh \\\n    && mv wait-for-it.sh /usr/local/bin && chmod +x /usr/local/bin/wait-for-it.sh\n\nRUN echo \"root soft nofile 8192\" >> /etc/security/limits.d/99-maximo.conf\nRUN echo \"root hard nofile 8192\" >> /etc/security/limits.d/99-maximo.conf\nRUN echo \"root soft fsize -1\" >> /etc/security/limits.d/99-maximo.conf\nRUN echo \"root hard fsize -1\" >> /etc/security/limits.d/99-maximo.conf\nRUN ulimit -f unlimited\nRUN ulimit -n 8192\nRUN echo \"fs.file-max = 1232457\" >> /etc/sysctl.d/99-maximo.conf\n\n# Install IBM WebSphere Application Server traditional V9\nENV WASND_BASE_NAME WAS_ND_V9.0_MP_ML\nENV WASND_JAVA_BASE_NAME sdk.repo.8030.java8.linux\nRUN wget -q ${url}/${WASND_BASE_NAME}.zip \\\n && wget -q ${url}/${WASND_JAVA_BASE_NAME}.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl \\\n   -acceptLicense install com.ibm.websphere.ND.v90 com.ibm.java.jdk.v8 \\\n   -repositories /tmp/${WASND_BASE_NAME}.zip,/tmp/${WASND_JAVA_BASE_NAME}.zip \\\n   -installationDirectory /opt/IBM/WebSphere/AppServer \\\n   -preferences com.ibm.cic.common.core.preferences.preserveDownloadedArtifacts=false \\\n && rm -rf ${WASND_BASE_NAME}* \\\n && rm -rf ${WASND_JAVA_BASE_NAME}*\n\n###### IBM WebSphere Application Server Network Deployment Fixpack #######\n\n# Install IBM WebSphere Application Server traditional Fixpack\nENV WASFP_BASE_NAME 9.0.0-WS-WAS-FP0${fp}\nRUN wget -q ${url}/${WASFP_BASE_NAME}.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl \\\n   -acceptLicense install com.ibm.websphere.ND.v90 \\\n   -repositories /tmp/${WASFP_BASE_NAME}.zip \\\n   -installationDirectory /opt/IBM/WebSphere/AppServer \\\n   -preferences com.ibm.cic.common.core.preferences.preserveDownloadedArtifacts=false \\\n && rm -rf ${WASFP_BASE_NAME}*\n\n# Install IBM Java SDK Fix pack\nENV JAVA_SDK_NAME ibm-java-sdk-8.0-${javafp}-linux-x64-installmgr\nRUN wget -q ${url}/${JAVA_SDK_NAME}.zip \\\n && /opt/IBM/InstallationManager/eclipse/tools/imcl \\\n   -acceptLicense install com.ibm.java.jdk.v8 \\\n   -repositories /tmp/${JAVA_SDK_NAME}.zip \\\n   -installationDirectory /opt/IBM/WebSphere/AppServer \\\n   -preferences com.ibm.cic.common.core.preferences.preserveDownloadedArtifacts=false \\\n && rm -rf ${JAVA_SDK_NAME}*\n"
}