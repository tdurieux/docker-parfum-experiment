{
  "startTime": 1674246609754,
  "endTime": 1674246609982,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 32,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 11
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "############################## Dockerfile ###################################\n\nFROM java:7\n\n###################################### METADATA ##############################\n\nLABEL base_image=\"biocontainers:latest\" \\\n  version=\"2\" \\\n  software=\"gatk\" \\\n  software.version=\"3.4\" \\\n  about.summary=\"The Genome Analysis Toolkit or GATK is a software package developed at the Broad Institute to analyze high-throughput sequencing data.\" \\\n  about.home=\"https://www.broadinstitute.org/gatk/|https://github.com/broadgsa/gatk-protected/\" \\\n  about.license_file=\"https://github.com/broadgsa/gatk-protected/blob/master/licensing/protected_license.txt\" \\\n  about.license=\"SPDX:BSD-3-Clause\" \\\n  about.tags=\"Genomics\" \\\n  extra.identifiers.biotools=\"gatk\" \\\n  extra.binaries=\"GenomeAnalysisTK\" \\\n  about.provides=\"gatk 3.4|samtools 1.2|bwakit 0.7.12|picard tools 1.139\"\n\n# Set noninterative mode\nENV DEBIAN_FRONTEND noninteractive\n\n################## BEGIN INSTALLATION ######################\n#\n# Change to root\n#\nUSER root\n\n#\n# INSTALL MAVEN\n#\nRUN apt-get update -qq && \\\n    apt-get install --no-install-recommends -y -q --fix-missing \\\n      libncurses5-dev \\\n      libncursesw5-dev \\\n      build-essential \\\n      bzip2 \\\n      zlib1g-dev \\\n      maven && \\\n    apt-get clean && \\\n    apt-get purge && \\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* && \\\n    mkdir /data /config\n\n\n\n#\n# INSTALL SAMTOOLS\n#\nENV ZIP=samtools-1.2.tar.bz2\nENV URL=https://github.com/BioDocker/software-archive/releases/download/samtools\nENV FOLDER=samtools-1.2\nENV DST=/tmp\n\nRUN wget $URL/$ZIP -O $DST/$ZIP && \\\n    tar xvf $DST/$ZIP -C $DST && \\\n    rm $DST/$ZIP && \\\n    cd $DST/$FOLDER && \\\n    make && \\\n    make install && \\\n    cd / && \\\n    rm -rf $DST/$FOLDER\n\n\n\n#\n# Add biodocker user with password biodocker\n#\nRUN useradd --create-home --shell /bin/bash --user-group --uid 1000 --groups sudo biodocker && \\\n    echo `echo \"biodocker\\nbiodocker\\n\" | passwd biodocker`\n\n\n\n#\n# Change user\n#\nUSER biodocker\n\n\n\n#\n# Create $HOME/bin folder\n#\nRUN mkdir -p /home/biodocker/bin\n\n\n\n#\n# Add $HOME/bin to path\n#\nENV PATH=$PATH:/home/biodocker/bin\nENV HOME=/home/biodocker\n\n\n\n#\n# INSTALL BWA\n#\nENV ZIP=bwakit-0.7.12_x64-linux.tar.bz2\nENV URL=https://github.com/BioDocker/software-archive/releases/download/bwa\nENV FOLDER=bwa.kit\nENV DST=/home/biodocker/bin\n\nRUN wget $URL/$ZIP -O $DST/$ZIP && \\\n    tar xvf $DST/$ZIP --strip-components=1 -C $DST && \\\n    rm $DST/$ZIP\n\n\n#\n# INSTALL PICARD\n#\nENV ZIP=picard-tools-1.139.zip\nENV URL=https://github.com/broadinstitute/picard/releases/download/1.139/\nENV FOLDER=picard-tools-1.139\nENV DST=/home/biodocker/bin/\n\nRUN wget $URL/$ZIP -O $DST/$ZIP && \\\n    unzip $DST/$ZIP -d $DST && \\\n    rm $DST/$ZIP && \\\n    cd $DST/$FOLDER && \\\n    mv * .. && \\\n    cd / && \\\n    bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST'/picard.jar \\$@\" > '$DST'/picard' && \\\n    chmod +x $DST/picard && \\\n    rm -rf $DST/$FOLDER\n\n\n\n#\n# INSTALL GATK\n#\n# download and build GATK from current master\nENV SHA=f19618653a0d23baaf147efe7f14aeb4eeb0cbb8\n\nENV DST=/home/biodocker/bin\nENV FOLDER=gatk\n\nRUN git clone https://github.com/broadgsa/gatk-protected.git $DST/$FOLDER && \\\n    cd $DST/$FOLDER && \\\n    git reset --hard $SHA && \\\n    mvn verify && \\\n    bash -c 'echo -e \"#!/bin/bash\\njava -jar '$DST/$FOLDER'/target/GenomeAnalysisTK.jar  \\$@\" > '$DST'/GenomeAnalysisTK' && \\\n    chmod +x $DST/GenomeAnalysisTK\n\nENV PATH=/usr/lib/jvm/java-7-openjdk-amd64/bin:$PATH\n\n#ENV JAVABIN=/usr/lib/jvm/java-7-openjdk-amd64/bin/java\n#ENTRYPOINT [\"java\", \"-jar\", \"$DST/target/GenomeAnalysisTK.jar\"]\n\n\n\n#\n# Share default volumes\n#\nVOLUME [\"/data\", \"/config\"]\n\n\n\n# CMD [\"GenomeAnalysisTK\"]\n\n##################### INSTALLATION END #####################\n\n# File Author / Maintainer\nMAINTAINER Saulo Alves Aflitos <sauloal@gmail.com>\n\n"
}