{
  "startTime": 1674641691676,
  "endTime": 1674641691778,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 26
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM mcr.microsoft.com/windows/servercore:1809\n\nSHELL [\"powershell\", \"-Command\", \"$ErrorActionPreference = 'Stop'; $ProgressPreference = 'silentlyContinue';\"]\n\n# Install .NET Core SDK\nENV DOTNET_SDK_VERSION 3.0.100-preview5-011568\nRUN Invoke-WebRequest -OutFile dotnet.zip https://dotnetcli.blob.core.windows.net/dotnet/Sdk/$Env:DOTNET_SDK_VERSION/dotnet-sdk-$Env:DOTNET_SDK_VERSION-win-x64.zip; \\\n    Expand-Archive dotnet.zip -DestinationPath 'C:\\Program Files\\dotnet'; \\\n    Remove-Item -Force dotnet.zip\nRUN setx /M PATH $($Env:PATH + ';' + $Env:ProgramFiles + '\\dotnet')\n\n# Install .Net SDK\nENV DOTNET_SDK_DOWNLOAD_URL https://download.visualstudio.microsoft.com/download/pr/7afca223-55d2-470a-8edc-6a1739ae3252/c8c829444416e811be84c5765ede6148/ndp48-devpack-enu.exe\nRUN Invoke-WebRequest $Env:DOTNET_SDK_DOWNLOAD_URL -OutFile DotNetSDK.exe; \\\n    start-Process DotNetSDK.exe -ArgumentList '/q' -Wait ; \\\n\tRemove-Item -Force DotNetSDK.exe\n\n# Install Windows Debugging Tools\nENV WINDBG_DOWNLOAD_URL https://download.microsoft.com/download/F/9/1/F91B5312-4385-4476-9688-055E3B1ED10F/windowssdk/winsdksetup.exe\nRUN Invoke-WebRequest $Env:WINDBG_DOWNLOAD_URL -OutFile winsdksetup.exe; \\\n    start-Process winsdksetup.exe -ArgumentList '/features OptionId.WindowsDesktopDebuggers /q' -Wait ; \\\n    Remove-Item -Force winsdksetup.exe\n\n# Install DebugDiag\nENV DEBUGDIAG_DOWNLOAD_URL https://download.microsoft.com/download/D/C/9/DC98BD0E-5A9A-4D8A-B313-22BC3604FB05/DebugDiagx64.msi\nRUN Invoke-WebRequest $Env:DEBUGDIAG_DOWNLOAD_URL -OutFile DebugDiagx64.msi; \\\n    start-Process DebugDiagx64.msi -ArgumentList '/qn' -Wait ; \\\n    Remove-Item -Force DebugDiagx64.msi\n\n# Trigger the population of the local package cache\nENV NUGET_XMLDOC_MODE skip\nRUN New-Item -Type Directory warmup; \\\n    cd warmup; \\\n    dotnet new console; \\\n    cd ..; \\\n    Remove-Item -Force -Recurse warmup\n\n# Install nodejs and bower which is used in the Prepublish Script of SuperDumpService\nENV NODEJS_DOWNLOAD_URL https://nodejs.org/dist/v10.15.3/node-v10.15.3-x64.msi\nRUN Invoke-WebRequest $Env:NODEJS_DOWNLOAD_URL -OutFile nodejs.msi; \\\n    start-Process nodejs.msi -ArgumentList '/qn' -Wait ; \\\n    Remove-Item -Force nodejs.msi\nRUN npm install -g bower \\\n\tnpm install -g typescript && npm cache clean --force;\n\n# Install Visual Studio Build Tools\nENV STUDIOS_INSTALLER_DOWNLOAD_URL https://download.visualstudio.microsoft.com/download/pr/a08183e4-3087-4df5-a074-d3bdf1ad5eb8/20816d670f7909277d9793dc3e80b3c2/vs_buildtools.exe\nRUN Invoke-WebRequest $Env:VSTUDIO_INSTALLER_DOWNLOAD_URL -OutFile vs_buildtools.exe; \\\n\tstart-Process vs_buildtools.exe -ArgumentList '--quiet --norestart --nocache --add Microsoft.VisualStudio.Workload.MSBuildTools --add Microsoft.VisualStudio.Workload.NetCoreBuildTools' -Wait; \\\n    Remove-Item -Force vs_buildtools.exe\n\n\nVOLUME C:/superdump\n\n# Build Super Dump\nENV MSBUILD \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Professional\\MSBuild\\Current\\Bin\\amd64\\MSBuild.exe\"\nENV TARGET \"Windows\"\nCMD cd C:/superdump/building; \\\n\tdotnet restore ..\\src; \\\n\t& $Env:MSBUILD msbuild.targets /l:'FileLogger,Microsoft.Build.Engine;logfile=msbuild.log' /target:$Env:TARGET #; \\\n\t#copy '..\\src\\SuperDumpService\\bin\\Release\\netcoreapp3.0\\SuperDumpService.xml' '..\\build\\bin\\SuperDumpService\\SuperDumpService.xml'"
}