{
  "startTime": 1674252446606,
  "endTime": 1674252446846,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 24
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM openjdk:8u212-jre-alpine\n\nLABEL maintainer \"itzg\"\n\nRUN apk add --no-cache -U \\\n  openssl \\\n  imagemagick \\\n  lsof \\\n  su-exec \\\n  shadow \\\n  bash \\\n  curl iputils wget \\\n  git \\\n  jq \\\n  mysql-client \\\n  tzdata \\\n  rsync \\\n  nano \\\n  python python-dev py2-pip\n\nRUN pip install --no-cache-dir mcstatus\n\nHEALTHCHECK CMD mcstatus localhost:$SERVER_PORT ping\n\nRUN addgroup -g 1000 minecraft \\\n  && adduser -Ss /bin/false -u 1000 -G minecraft -h /home/minecraft minecraft \\\n  && mkdir -m 777 /data /mods /config /plugins \\\n  && chown minecraft:minecraft /data /config /mods /plugins /home/minecraft\n\nEXPOSE 25565 25575\n\nRUN echo 'hosts: files dns' > /etc/nsswitch.conf\n\nARG RESTIFY_VER=1.1.6\nARG RCON_CLI_VER=1.4.6\nARG MC_SERVER_RUNNER_VER=1.3.2\nARG TOF_BUILDTOOLS_VER=1.2.0\nARG ARCH=amd64\n\nADD https://github.com/itzg/restify/releases/download/${RESTIFY_VER}/restify_${RESTIFY_VER}_linux_${ARCH}.tar.gz /tmp/restify.tgz\nRUN tar -x -C /usr/local/bin -f /tmp/restify.tgz restify && \\\n  rm /tmp/restify.tgz\n\nADD https://github.com/itzg/rcon-cli/releases/download/${RCON_CLI_VER}/rcon-cli_${RCON_CLI_VER}_linux_${ARCH}.tar.gz /tmp/rcon-cli.tgz\nRUN tar -x -C /usr/local/bin -f /tmp/rcon-cli.tgz rcon-cli && \\\n  rm /tmp/rcon-cli.tgz\n\nADD https://github.com/itzg/mc-server-runner/releases/download/${MC_SERVER_RUNNER_VER}/mc-server-runner_${MC_SERVER_RUNNER_VER}_linux_${ARCH}.tar.gz /tmp/mc-server-runner.tgz\nRUN tar -x -C /usr/local/bin -f /tmp/mc-server-runner.tgz mc-server-runner && \\\n  rm /tmp/mc-server-runner.tgz\n\nADD https://git.faldoria.de/tof/server/build-tools/-/jobs/artifacts/buildtools-${TOF_BUILDTOOLS_VER}/raw/target/ToF-BuildTools.jar?job=release-artifact /tmp/tof-buildtools/BuildTools.jar\n\nONBUILD ARG BUILDTOOLS_OUTPUT=/plugins\nONBUILD COPY *Dockerfile* *plugins.yml /tmp/tof-buildtools/\nONBUILD RUN \\\n  [ -d /tmp/tof-buildtools ] && \\\n  [ $(find /tmp/tof-buildtools -type f -name plugins.yml | wc -l) -gt 0 ] && \\\n  java -jar /tmp/tof-buildtools/BuildTools.jar \\\n    --config \"/tmp/tof-buildtools/plugins.yml\" \\\n    --configs \"plugins.yml\" \\\n    --dir \"/tmp/tof-buildtools/\" \\\n    --output ${BUILDTOOLS_OUTPUT} && \\\n  chown -R minecraft:minecraft ${BUILDTOOLS_OUTPUT} && \\\n  rm -fR /tmp/tof-buildtools/ || \\\n  true\n\nCOPY mcadmin.jq /usr/share\nRUN chmod +x /usr/local/bin/*\n\nVOLUME [\"/data\",\"/mods\",\"/config\"]\nCOPY server.properties /tmp/server.properties\nWORKDIR /data\n\nENTRYPOINT [ \"/start\" ]\n\nENV UID=1000 GID=1000 \\\n  JVM_XX_OPTS=\"-XX:+UseG1GC\" MEMORY=\"1G\" \\\n  TYPE=VANILLA VERSION=LATEST FORGEVERSION=RECOMMENDED SPONGEBRANCH=STABLE SPONGEVERSION= LEVEL=world \\\n  PVP=true DIFFICULTY=easy ENABLE_RCON=true RCON_PORT=25575 RCON_PASSWORD=minecraft \\\n  LEVEL_TYPE=DEFAULT GENERATOR_SETTINGS= WORLD= MODPACK= MODS= SERVER_PORT=25565 ONLINE_MODE=TRUE CONSOLE=true SERVER_NAME=\"Dedicated Server\" \\\n  REPLACE_ENV_VARIABLES=\"FALSE\" ENV_VARIABLE_PREFIX=\"CFG_\"\n\nCOPY start* /\nRUN dos2unix /start* && chmod +x /start*\n"
}