{
  "startTime": 1674641777195,
  "endTime": 1674641777317,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 2,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 2,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM microsoft/dotnet:2.2-sdk AS build-env\n\nWORKDIR /app\n\nCOPY GrandNode.sln .\nCOPY Grand.Core/Grand.Core.csproj Grand.Core/Grand.Core.csproj\nCOPY Grand.Data/Grand.Data.csproj Grand.Data/Grand.Data.csproj\nCOPY Grand.Framework/Grand.Framework.csproj Grand.Framework/Grand.Framework.csproj\nCOPY Grand.Services/Grand.Services.csproj Grand.Services/Grand.Services.csproj\nCOPY Grand.Web/Grand.Web.csproj Grand.Web/Grand.Web.csproj\nCOPY Plugins/Grand.Plugin.DiscountRequirements.Standard/Grand.Plugin.DiscountRequirements.Standard.csproj Plugins/Grand.Plugin.DiscountRequirements.Standard/Grand.Plugin.DiscountRequirements.Standard.csproj\nCOPY Plugins/Grand.Plugin.ExchangeRate.McExchange/Grand.Plugin.ExchangeRate.McExchange.csproj Plugins/Grand.Plugin.ExchangeRate.McExchange/Grand.Plugin.ExchangeRate.McExchange.csproj\nCOPY Plugins/Grand.Plugin.ExternalAuth.Facebook/Grand.Plugin.ExternalAuth.Facebook.csproj Plugins/Grand.Plugin.ExternalAuth.Facebook/Grand.Plugin.ExternalAuth.Facebook.csproj\nCOPY Plugins/Grand.Plugin.Feed.GoogleShopping/Grand.Plugin.Feed.GoogleShopping.csproj Plugins/Grand.Plugin.Feed.GoogleShopping/Grand.Plugin.Feed.GoogleShopping.csproj\nCOPY Plugins/Grand.Plugin.Payments.CashOnDelivery/Grand.Plugin.Payments.CashOnDelivery.csproj Plugins/Grand.Plugin.Payments.CashOnDelivery/Grand.Plugin.Payments.CashOnDelivery.csproj\nCOPY Plugins/Grand.Plugin.Payments.CheckMoneyOrder/Grand.Plugin.Payments.CheckMoneyOrder.csproj Plugins/Grand.Plugin.Payments.CheckMoneyOrder/Grand.Plugin.Payments.CheckMoneyOrder.csproj\nCOPY Plugins/Grand.Plugin.Payments.PayInStore/Grand.Plugin.Payments.PayInStore.csproj Plugins/Grand.Plugin.Payments.PayInStore/Grand.Plugin.Payments.PayInStore.csproj\nCOPY Plugins/Grand.Plugin.Payments.PayPalStandard/Grand.Plugin.Payments.PayPalStandard.csproj Plugins/Grand.Plugin.Payments.PayPalStandard/Grand.Plugin.Payments.PayPalStandard.csproj\nCOPY Plugins/Grand.Plugin.Shipping.ByWeight/Grand.Plugin.Shipping.ByWeight.csproj Plugins/Grand.Plugin.Shipping.ByWeight/Grand.Plugin.Shipping.ByWeight.csproj\nCOPY Plugins/Grand.Plugin.Shipping.FixedRateShipping/Grand.Plugin.Shipping.FixedRateShipping.csproj Plugins/Grand.Plugin.Shipping.FixedRateShipping/Grand.Plugin.Shipping.FixedRateShipping.csproj\nCOPY Plugins/Grand.Plugin.Shipping.ShippingPoint/Grand.Plugin.Shipping.ShippingPoint.csproj Plugins/Grand.Plugin.Shipping.ShippingPoint/Grand.Plugin.Shipping.ShippingPoint.csproj\nCOPY Plugins/Grand.Plugin.Tax.CountryStateZip/Grand.Plugin.Tax.CountryStateZip.csproj Plugins/Grand.Plugin.Tax.CountryStateZip/Grand.Plugin.Tax.CountryStateZip.csproj\nCOPY Plugins/Grand.Plugin.Tax.FixedRate/Grand.Plugin.Tax.FixedRate.csproj Plugins/Grand.Plugin.Tax.FixedRate/Grand.Plugin.Tax.FixedRate.csproj\nCOPY Plugins/Grand.Plugin.Widgets.GoogleAnalytics/Grand.Plugin.Widgets.GoogleAnalytics.csproj Plugins/Grand.Plugin.Widgets.GoogleAnalytics/Grand.Plugin.Widgets.GoogleAnalytics.csproj\nCOPY Plugins/Grand.Plugin.Widgets.Slider/Grand.Plugin.Widgets.Slider.csproj Plugins/Grand.Plugin.Widgets.Slider/Grand.Plugin.Widgets.Slider.csproj\n\n# Copy everything else and build\nCOPY . ./\nRUN dotnet publish Grand.Web -c Release -o out\nRUN dotnet build Plugins/Grand.Plugin.DiscountRequirements.Standard\nRUN dotnet build Plugins/Grand.Plugin.ExchangeRate.McExchange\nRUN dotnet build Plugins/Grand.Plugin.ExternalAuth.Facebook\nRUN dotnet build Plugins/Grand.Plugin.Feed.GoogleShopping\nRUN dotnet build Plugins/Grand.Plugin.Payments.CashOnDelivery\nRUN dotnet build Plugins/Grand.Plugin.Payments.CheckMoneyOrder\nRUN dotnet build Plugins/Grand.Plugin.Payments.PayInStore\nRUN dotnet build Plugins/Grand.Plugin.Payments.PayPalStandard\nRUN dotnet build Plugins/Grand.Plugin.Shipping.ByWeight\nRUN dotnet build Plugins/Grand.Plugin.Shipping.FixedRateShipping\nRUN dotnet build Plugins/Grand.Plugin.Shipping.ShippingPoint\nRUN dotnet build Plugins/Grand.Plugin.Tax.CountryStateZip\nRUN dotnet build Plugins/Grand.Plugin.Tax.FixedRate\nRUN dotnet build Plugins/Grand.Plugin.Widgets.GoogleAnalytics\nRUN dotnet build Plugins/Grand.Plugin.Widgets.Slider\n\n# Build runtime image\nFROM microsoft/dotnet:2.2-aspnetcore-runtime\nRUN apt-get update && \\\n  apt-get -y --no-install-recommends install libgdiplus && rm -rf /var/lib/apt/lists/*;\nRUN ln -s /lib/x86_64-linux-gnu/libdl.so.2 /lib/x86_64-linux-gnu/libdl.so\n\nWORKDIR /app\nCOPY --from=build-env /app/Grand.Web/out/ .\nCOPY --from=build-env /app/Grand.Web/Plugins/ ./Plugins/\n\nVOLUME /app/App_Data /app/wwwroot /app/Plugins /app/Themes\n\nENTRYPOINT [\"dotnet\", \"Grand.Web.dll\"]\n"
}