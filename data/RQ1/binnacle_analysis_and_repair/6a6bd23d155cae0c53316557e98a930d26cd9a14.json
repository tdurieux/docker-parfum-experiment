{
  "startTime": 1674244266122,
  "endTime": 1674244266435,
  "originalSmells": [
    {
      "rule": "gpgUseHaPools",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 9,
        "columnEnd": 92
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Lightly modified from https://github.com/docker-library/python/blob/ab8b829cfefdb460ebc17e570332f0479039e918/3.7/stretch/Dockerfile\n\nRUN apt-get -y update && \\\n    apt-get install --no-install-recommends -y \\\n        build-essential \\\n        ca-certificates \\\n        checkinstall \\\n        libbz2-dev \\\n        libc6-dev \\\n        libffi-dev \\\n        libgdbm-dev \\\n        libncursesw5-dev \\\n        libreadline-gplv2-dev \\\n        libsqlite3-dev \\\n        libssl-dev \\\n        tk-dev \\\n        uuid-dev \\\n        wget && \\\n    rm -rf /var/lib/apt/lists/*\n\n# MIT license from initial repo\n# Copyright (c) 2014 Docker, Inc.\n#\n# Permission is hereby granted, free of charge, to any person obtaining\n# a copy of this software and associated documentation files (the\n# \"Software\"), to deal in the Software without restriction, including\n# without limitation the rights to use, copy, modify, merge, publish,\n# distribute, sublicense, and/or sell copies of the Software, and to\n# permit persons to whom the Software is furnished to do so, subject to\n# the following conditions:\n#\n# The above copyright notice and this permission notice shall be included\n# in all copies or substantial portions of the Software.\n#\n# THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n# IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n# CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n# TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n# SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n# ensure local python is preferred over distribution python\nENV PATH /usr/local/bin:$PATH\n\nENV GPG_KEY 0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\nENV PYTHON_VERSION 3.7.1\n\n# Setting keyserver per https://github.com/tianon/gosu/issues/17#issuecomment-203074866\nRUN set -ex \\\n    \\\n    && wget -O python.tar.xz \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz\" \\\n    && wget -O python.tar.xz.asc \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz.asc\" \\\n    && export GNUPGHOME=\"$(mktemp -d)\" \\\n    && $( gpg --batch --keyserver hkp://p80.ha.pool.sks-keyservers.net:80 --recv-keys \"$GPG_KEY\" || gpg --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys \"$GPG_KEY\") \\\n    && gpg --batch --verify python.tar.xz.asc python.tar.xz \\\n    && { command -v gpgconf > /dev/null && gpgconf --kill all || :; } \\\n    && rm -rf \"$GNUPGHOME\" python.tar.xz.asc \\\n    && mkdir -p /usr/src/python \\\n    && tar -xJC /usr/src/python --strip-components=1 -f python.tar.xz \\\n    && rm python.tar.xz \\\n\n    && cd /usr/src/python \\\n    && gnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n    && ./configure \\\n        --build=\"$gnuArch\" \\\n        --enable-loadable-sqlite-extensions \\\n        --enable-shared \\\n        --with-system-expat \\\n        --with-system-ffi \\\n        --without-ensurepip \\\n    && make -j \"$(nproc)\" \\\n    && make install \\\n    && ldconfig \\\n\n    && find /usr/local -depth \\\n        \\( \\\n            \\( -type d -a \\( -name test -o -name tests \\) \\) \\\n            -o \\\n            \\( -type f -a \\( -name '*.pyc' -o -name '*.pyo' \\) \\) \\\n        \\) -exec rm -rf '{}' + \\\n    && rm -rf /usr/src/python \\\n\n    && python3 --version\n\n# make some useful symlinks that are expected to exist\nRUN cd /usr/local/bin \\\n    && ln -s idle3 idle \\\n    && ln -s pydoc3 pydoc \\\n    && ln -s python3 python \\\n    && ln -s python3-config python-config\n\n# if this is called \"PIP_VERSION\", pip explodes with \"ValueError: invalid truth value '<VERSION>'\"\nENV PYTHON_PIP_VERSION 18.1\n\nRUN set -ex; \\\n    \\\n    wget -O get-pip.py 'https://bootstrap.pypa.io/get-pip.py'; \\\n    \\\n    python get-pip.py \\\n        --disable-pip-version-check \\\n        --no-cache-dir \\\n        \"pip==$PYTHON_PIP_VERSION\" \\\n    ; \\\n    pip --version; \\\n    \\\n    find /usr/local -depth \\\n        \\( \\\n            \\( -type d -a \\( -name test -o -name tests \\) \\) \\\n            -o \\\n            \\( -type f -a \\( -name '*.pyc' -o -name '*.pyo' \\) \\) \\\n        \\) -exec rm -rf '{}' +; \\\n    rm -f get-pip.py\n"
}