{
  "startTime": 1674244343443,
  "endTime": 1674244343682,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 106
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 52
      }
    }
  ],
  "repairedDockerfile": "# Version: 1.0\n\n# Dockerfile for building boost for android\n# https://github.com/dec1/Boost-for-Android\n# creates docker container with all tools, libraries and sources required to build boost for android.\n\n# Author: Declan Moran\n# www.silverglint.com\n\n\n# Usage:\n#------\n# > git clone https://github.com/dec1/boost-for-android\n# > cd boost-for-android\n#\n# build docker image \"my_img_droid\" from the dockerfile in \"docker\" dir\n# > docker build -t my_img_droid ./docker\n#\n# run docker container \"my_ctr_droid\" from this image, mounting the current dir. (Need to pass absolute host paths to mount volume- hence \"pwd\")\n# > docker run  -v $(pwd):/home/docker-share/boost-for-android -it --entrypoint=/bin/bash --name my_ctr_droid my_img_droid\n#\n# Now inside docker container\n# $ cd /home/docker-share/boost-for-android\n#\n# Modify ./doIt.sh (on host), to match the boost and android ndk versions/paths in the \"Configure here\" section below\n# Build from running docker container.\n# $./doIt.sh\n#\n# Exit container, when build is finsihed,\n# $ exit\n#\n# \"./build\" dir contains required build, but owned by root. chown to your username/group\n# > sudo chown -R <username>:<group> ./build\n#\n# Note: If you want to edit the boost source you can download it to this host dir and set doIt.sh to use this instead of the boost version downloaded by the image\n# This is necessary for boost version 1.70.0, which seems to contain a bug. Workaround here: https://github.com/boostorg/build/issues/385\n\n\n\nFROM amd64/ubuntu:18.04\n\n\n## --------------------------------------------------------------------\n##              Configure here\n# ---------------------------------------------------------------------\n# ---------------------------------------------------------------------\n# Here you can speciofy exactly what boost, android ndk (and sdk) version you want to use.\n\n# (1) BOOST\nARG BOOST_FILE_BASE=boost_1_69_0\nARG BOOST_VER=1.69.0\nARG BOOST_URL_BASE=https://dl.bintray.com/boostorg/release\n\n# this is where the boost for android repo is mounted/shared to\nARG BOOST_FOR_ANDROID_PATH=/home/docker-share/boost-for-android\n\n# this is where boost src will be extracted to\nARG BOOST_SRC_DIR_BASE=/home/docker-share/boost-src \n\n\n\n# (2) Android SDK\n# https://developer.android.com/studio#downloads\nARG SDK_URL_BASE=https://dl.google.com/android/repository\nARG SDK_FILE=sdk-tools-linux-4333796.zip\n\n# the sdk plaform to use\n# https://developer.android.com/guide/topics/manifest/uses-sdk-element\nARG ANDROID_SDK_PLATFORM_VERS=\"platforms;android-28\"\n\n\n\n# (3) Android NDK\n# https://developer.android.com/ndk/downloads\nARG NDK_URL_BASE=https://dl.google.com/android/repository\nARG NDK_FILE=android-ndk-r19c-linux-x86_64.zip\n# ---------------------------------------------------------------------\n## --------------------------------------------------------------------\n\nRUN apt-get update\nRUN apt-get -y dist-upgrade\n\n\n# for downloading archives\nRUN apt-get -y --no-install-recommends install wget && rm -rf /var/lib/apt/lists/*;\n\n# for unzipping downloaded android archives\nRUN apt-get -y --no-install-recommends install zip && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get -y --no-install-recommends install openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install lib32z1 && rm -rf /var/lib/apt/lists/*;\n\n\n# need this this to install some (32 bit) prerequisites for android builds\nRUN dpkg --add-architecture i386\nRUN apt-get update\nRUN apt-get -y dist-upgrade\nRUN apt-get install --no-install-recommends -y libc6:i386 libncurses5:i386 libstdc++6:i386 libbz2-1.0:i386 && rm -rf /var/lib/apt/lists/*;\n\n\n# need c compiler to set up create boost build system (before building boost with it and android toolchain)\nRUN apt-get -y --no-install-recommends install build-essential && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install libc6-dev-i386 && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y --no-install-recommends install clang && rm -rf /var/lib/apt/lists/*;\n\n\n#--------------------------------------\n\nARG ANDROID_HOME=/home/android\nWORKDIR ${ANDROID_HOME}\n\n\n# SDK\n# ----\n# download android sdk command line tools\nRUN wget ${SDK_URL_BASE}/$SDK_FILE\nRUN unzip $SDK_FILE\n\nENV PATH ${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/tools/bin:${ANDROID_HOME}/platform-tools\n\n\nRUN yes | sdkmanager --licenses\n\nRUN sdkmanager \"platform-tools\" $ANDROID_SDK_PLATFORM_VERS\n#RUN sdkmanager \"platform-tools\" \"platforms;android-28\"\n\n\n# NDK\n# ----\nRUN wget ${NDK_URL_BASE}/$NDK_FILE\nRUN unzip $NDK_FILE\n\n\n# BOOST\n#------\n\n# this is where the boost for android repo is cloned to\n# WORKDIR $BOOST_FOR_ANDROID_PATH\n\n\nARG BOOST_FILE=${BOOST_FILE_BASE}.tar.gz\nARG BOOST_SRC_DIR=${BOOST_SRC_DIR_BASE}/$BOOST_VER \n\nRUN wget ${BOOST_URL_BASE}/${BOOST_VER}/source/$BOOST_FILE\nRUN mkdir -p $BOOST_SRC_DIR\n\n\nRUN tar xvzf $BOOST_FILE -C $BOOST_SRC_DIR --strip-components 1\n # tar xvzf /home/android/boost_1_70_0.tar.gz -C /home/docker-share/boost/src/1.70.0 --strip-components 1\n\nRUN echo $BOOST_SRC_DIR\n"
}