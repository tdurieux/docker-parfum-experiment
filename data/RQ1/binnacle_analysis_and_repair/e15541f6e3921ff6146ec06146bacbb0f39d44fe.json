{
  "startTime": 1674234970384,
  "endTime": 1674234970540,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 25,
        "columnEnd": 100
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 25,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 128
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 128
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 128
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 152
      }
    }
  ],
  "repairedDockerfile": "# Use an official Python runtime as a parent image\nFROM ubuntu\n\n# Build in non-interactive mode for online continuous building\nARG DEBIAN_FRONTEND=noninteractive\n\n# Set the working directory to /app\nWORKDIR /home/\n\n#Copy AA and mosek to image\nRUN mkdir -p /home/programs\n\n#Download libraries for AA\nRUN apt-get update && apt-get install -y\nRUN apt-get install --no-install-recommends python-dev gfortran python-numpy python-scipy python-matplotlib python-pip zlib1g-dev samtools wget unzip -y && rm -rf /var/lib/apt/lists/*;\nRUN pip install --no-cache-dir pysam Flask\n\nRUN cd /home/programs && wget https://download.mosek.com/stable/8.0.0.60/mosektoolslinux64x86.tar.bz2\nRUN cd /home/programs && tar xf mosektoolslinux64x86.tar.bz2 && rm mosektoolslinux64x86.tar.bz2\n# ADD mosek.lic /home/programs/mosek/8/licenses/mosek.lic\n\nRUN mkdir -p /home/output/\nRUN mkdir -p /home/input/\nRUN mkdir -p /home/programs/mosek/8/licenses/\nADD run_aa_script.sh /home/\n\n#Set environmental variables\n\nRUN echo export MOSEKPLATFORM=linux64x86 >> ~/.bashrc\nRUN export MOSEKPLATFORM=linux64x86\nRUN echo export PATH=$PATH:/home/programs/mosek/8/tools/platform/$MOSEKPLATFORM/bin >> ~/.bashrc\nRUN echo export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/programs/mosek/8/tools/platform/$MOSEKPLATFORM/bin >> ~/.bashrc\nRUN echo export MOSEKLM_LICENSE_FILE=/home/programs/mosek/8/licenses >> ~/.bashrc\nRUN cd /home/programs/mosek/8/tools/platform/linux64x86/python/2/ && python setup.py install\nRUN echo export AA_DATA_REPO=/home/data_repo >> ~/.bashrc\nADD https://github.com/virajbdeshpande/AmpliconArchitect/archive/master.zip /home/programs\nRUN cd /home/programs && unzip master.zip\n"
}