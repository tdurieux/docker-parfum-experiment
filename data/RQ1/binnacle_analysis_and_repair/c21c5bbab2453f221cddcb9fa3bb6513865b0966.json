{
  "startTime": 1674243460871,
  "endTime": 1674243461149,
  "originalSmells": [
    {
      "rule": "gpgUseBatchFlag",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 7,
        "columnEnd": 102
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM openjdk:8-alpine\n\nENV SONAR_VERSION=7.6 \\\n    SONARQUBE_HOME=/opt/sonarqube \\\n    SQ_GIT_VERSION=1.8.0.1538 \\\n    SQ_SVN_VERSION=1.9.0.1438 \\\n    SQ_JAVA_VERSION=5.11.0.17171 \\\n    SQ_JS_VERSION=5.1.0.7267 \\\n    SQ_TS_VERSION=1.10.0.3826 \\\n    SQ_PHP_VERSION=3.1.0.4543 \\\n    SQ_PY_VERSION=1.13.0.2739 \\\n    SQ_CSHARP_VERSION=7.12.0.8086 \\\n    SQ_XML_VERSION=2.1.0.2057 \\\n    SQ_LDAP_VERSION=2.2.0.702 \\\n    SQ_GITHUB_VERSION=1.5.0.1512 \\\n    SQ_GO_VERSION=1.2.0.1825 \\\n    SQ_FINDSEC_VERSION=3.10.0 \\\n    SQ_DPCHECK_VERSION=1.2.1 \\\n    SQ_OIDC_VERSION=1.0.4 \\\n    SQ_CITY_VERSION=1.0.1 \\\n    # Database configuration\n    # Defaults to using H2\n    SONARQUBE_JDBC_USERNAME=sonar \\\n    SONARQUBE_JDBC_PASSWORD=sonar \\\n    SONARQUBE_JDBC_URL=\n\n# Http port\nEXPOSE 9000\n\nRUN addgroup -S sonarqube && adduser -S -G sonarqube sonarqube\n\nRUN set -x \\\n    && apk add --no-cache gnupg unzip \\\n    && apk add --no-cache libressl wget \\\n    && apk add --no-cache su-exec \\\n    && apk add --no-cache bash \\\n    && gpg --batch --keyserver ha.pool.sks-keyservers.net --recv-keys F1182E81C792928921DBCAB4CFCA4A29D26468DE \\\n    && rm -rf /opt \\\n    && mkdir /opt \\\n    && cd /opt \\\n    && wget -O sonarqube.zip --no-verbose https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-$SONAR_VERSION.zip \\\n    && wget -O sonarqube.zip.asc --no-verbose https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-$SONAR_VERSION.zip.asc \\\n    && gpg --batch --verify sonarqube.zip.asc sonarqube.zip \\\n    && unzip sonarqube.zip \\\n    && mv sonarqube-$SONAR_VERSION sonarqube \\\n    && chown -R sonarqube:sonarqube sonarqube \\\n    && rm sonarqube.zip* \\\n    && rm -rf $SONARQUBE_HOME/extensions/plugins/* \\\n    && cd  $SONARQUBE_HOME/extensions/plugins/ \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/scm/git/sonar-scm-git-plugin/$SQ_GIT_VERSION/sonar-scm-git-plugin-$SQ_GIT_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/scm/svn/sonar-scm-svn-plugin/$SQ_SVN_VERSION/sonar-scm-svn-plugin-$SQ_SVN_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/java/sonar-java-plugin/$SQ_JAVA_VERSION/sonar-java-plugin-$SQ_JAVA_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/javascript/sonar-javascript-plugin/$SQ_JS_VERSION/sonar-javascript-plugin-$SQ_JS_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/typescript/sonar-typescript-plugin/$SQ_TS_VERSION/sonar-typescript-plugin-$SQ_TS_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/php/sonar-php-plugin/$SQ_PHP_VERSION/sonar-php-plugin-$SQ_PHP_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/python/sonar-python-plugin/$SQ_PY_VERSION/sonar-python-plugin-$SQ_PY_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/dotnet/sonar-csharp-plugin/$SQ_CSHARP_VERSION/sonar-csharp-plugin-$SQ_CSHARP_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/xml/sonar-xml-plugin/$SQ_XML_VERSION/sonar-xml-plugin-$SQ_XML_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/ldap/sonar-ldap-plugin/$SQ_LDAP_VERSION/sonar-ldap-plugin-$SQ_LDAP_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/github/sonar-github-plugin/$SQ_GITHUB_VERSION/sonar-github-plugin-$SQ_GITHUB_VERSION.jar \\\n    && wget --no-verbose https://repox.jfrog.io/repox/sonarsource-public-builds/org/sonarsource/go/sonar-go-plugin/$SQ_GO_VERSION/sonar-go-plugin-$SQ_GO_VERSION.jar \\\n    && wget --no-verbose https://github.com/spotbugs/sonar-findbugs/releases/download/$SQ_FINDSEC_VERSION/sonar-findbugs-plugin-$SQ_FINDSEC_VERSION.jar \\\n    && wget --no-verbose https://github.com/SonarSecurityCommunity/dependency-check-sonar-plugin/releases/download/$SQ_DPCHECK_VERSION/sonar-dependency-check-plugin-$SQ_DPCHECK_VERSION.jar \\\n    && wget --no-verbose https://github.com/vaulttec/sonar-auth-oidc/releases/download/v$SQ_OIDC_VERSION/sonar-auth-oidc-plugin-$SQ_OIDC_VERSION.jar \\\n    && wget --no-verbose https://github.com/stefanrinderle/softvis3d/releases/download/softvis3d-$SQ_CITY_VERSION/sonar-softvis3d-plugin-$SQ_CITY_VERSION.jar \\\n    && rm -rf $SONARQUBE_HOME/bin/*\n\nVOLUME \"$SONARQUBE_HOME/data\"\n\nWORKDIR $SONARQUBE_HOME\nCOPY run.sh $SONARQUBE_HOME/bin/\nRUN dos2unix $SONARQUBE_HOME/bin/run.sh && chmod +x $SONARQUBE_HOME/bin/run.sh\n\nRUN chmod -R 777 $SONARQUBE_HOME\nRUN chown -R sonarqube:sonarqube $SONARQUBE_HOME\nUSER sonarqube\n\nENTRYPOINT [\"./bin/run.sh\"]\n"
}