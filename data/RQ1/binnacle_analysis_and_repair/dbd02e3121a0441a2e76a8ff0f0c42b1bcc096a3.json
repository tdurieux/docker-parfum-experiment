{
  "startTime": 1674242752569,
  "endTime": 1674242752802,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 57
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 81
      }
    }
  ],
  "repairedDockerfile": "# docker build -t opencog/ros-indigo-zenorsm .\n# xhost +\n# docker run --rm --privileged -i -v /dev/ttyACM0:/dev/ttyACM0 -v /tmp/.X11-unix/X0:/tmp/.X11-unix/X0 -v /dev/dri:/dev/dri -v /dev/shm:/dev/shm -e DISPLAY=:0.0 -p 33433:33433/udp -t opencog/ros-indigo-zenorsm\n# Note: port 33433=faceshift, /dev/ttyACM0=pololu, /dev/dri=gpu, /dev/shm=gpu\n# ToDo: add MORSE robot simulator\n#       replace faceshift with OpenCV FaceRecognizer, etc.\n\nFROM opencog/ros-indigo-dev\nMAINTAINER Mandeep Singh Bhatia \"mandeep.singh.bhatia@gmail.com\"\nMAINTAINER David Hart \"dhart@opencog.org\"\n\nRUN apt-get -y update\nRUN apt-get -y --no-install-recommends install blender && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get -y --no-install-recommends install python3-yaml python3-pip && rm -rf /var/lib/apt/lists/*;\nRUN pip3 install --no-cache-dir rospkg catkin_pkg\n\nRUN echo source /catkin_ws/devel/setup.bash >> /.bash_profile && \\\n    echo -e \"\\e[1;34m[$SELF_NAME] catkin devel setup\\.bash sourced\\e[0m\"\n\n# Install ITFTalk and prerequisites\nWORKDIR /catkin_ws/src\nRUN apt-get -y --no-install-recommends install mplayer python-pycurl libcurl3 && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install -y --no-install-recommends libavbin-dev libavbin0 && rm -rf /var/lib/apt/lists/*;\n\nRUN git clone https://github.com/geni-lab/ITFTalk\n\n# Install ITFListen and prerequisites\nWORKDIR /catkin_ws/src\nRUN apt-get -y --no-install-recommends install sox python-simplejson && rm -rf /var/lib/apt/lists/*;\nRUN git clone https://github.com/geni-lab/ITFListen\n\n# Install ITFParrot to test ITFListen -> ITFTalk\nWORKDIR /catkin_ws/src\nRUN git clone https://github.com/geni-lab/ITFParrot\n\n# I figured it'd be undesirable to auto-start the aprrot, so\n# to Run ITFParrot, go to /catkin_ws and then run:\n# source devel/setup.bash\n# rosrun itf_parrot itf_parrot.py\n\n# Install openEAR prerequisites\nRUN apt-get -y --no-install-recommends install autoconf libtool g++ libportaudio2 && rm -rf /var/lib/apt/lists/*;\n\n# Download ROS-enabled version of openEAR\n# WORKDIR /\n# Line below is needed otherwise it keeps saying ros_open_ear exists\n# and is not empty\n# RUN rm -rf /ros_open_ear\n# RUN git clone https://github.com/Alex-van-der-Peet/ros_open_ear\n\n# Unpack, make and install portaudio (openEAR prerequisite)\n# WORKDIR /ros_open_ear/thirdparty\n# RUN tar -xvf portaudio.tgz\n# WORKDIR /ros_open_ear/thirdparty/portaudio\n# RUN ./configure\n# RUN make\n# RUN make install\n\n# Configure, build and install the modified version of openEAR\n# WORKDIR /ros_open_ear\n# Double run below is on purpose\n# ENV C_INCLUDE_PATH /opt/ros/indigo/include/ros:/opt/ros/indigo/include\n# RUN ./autogen.sh\n# RUN ./autogen.sh\n# RUN ./configure\n# RUN apt-get install libc6-dev build-essential\n# RUN echo \"C_INCLUDEPATH=$C_INCLUDE_PATH\"\n# RUN make\n# RUN make install\n\nWORKDIR /catkin_ws/src\nRUN cp /opt/ros/indigo/setup.sh /etc/profile.d/ros_indigo.sh\nENV PYTHONPATH /opt/ros/indigo/lib/python2.7/dist-packages\nRUN /usr/bin/python3 /opt/ros/indigo/bin/catkin_init_workspace\n\nRUN git clone https://github.com/hansonrobotics/robo_blender\nRUN git clone https://github.com/yantrabuddhi/ros_pololu_servo\n# RUN git clone https://github.com/yantrabuddhi/ros_nmpt_saliency\n# Mandeep's saliency tracker above doesn't work, so I'm using the one I made\n# which is stored in Jamie's repo - Alex\nRUN git clone https://github.com/jdddog/ros_nmpt_saliency\nRUN git clone https://github.com/yantrabuddhi/ros_faceshift\nRUN git clone https://github.com/yantrabuddhi/simple_face_tracker\n#RUN git clone https://github.com/OctoMap/octomap\n#RUN git clone https://github.com/Alex-van-der-Peet/ITFOpenEar\n\nWORKDIR /catkin_ws\nRUN bash -l -c \"/usr/bin/python3 /opt/ros/indigo/bin/catkin_make\"\n\nWORKDIR /catkin_ws/src/robo_blender/src\n\nENV STARTSCRIPT \"\\\necho evaluating startup script... &&\\\nsource /catkin_ws/devel/setup.bash &&\\\ntmux new-session -d 'echo -e \\\"\\e[1;34mroscore\\e[0m\\\" ; roscore' &&\\\ntmux set -g set-remain-on-exit on &&\\\ntmux set-option -g set-remain-on-exit on &&\\\ntmux bind-key R respawn-window &&\\\ntmux split-window -d -v -p 25 'echo -e \\\"\\e[1;34mros_pololu_servo\\e[0m\\\" ;\\\n  rosrun ros_pololu_servo ros_pololu_servo_node' &&\\\ntmux split-window -d -v -p 25 'echo -e \\\"\\e[1;34mblender robo.blend\\e[0m\\\" ;\\\n  sleep 4 && blender robo.blend' &&\\\ntmux split-window -d -v -p 25 'echo -e \\\"\\e[1;34mbash shell\\e[0m\\\" ;\\\n  bash -l -i' &&\\\ntmux split-window -d -v -p 25 'echo -e \\\"\\e[1;34mros_itf_talk\\e[0m\\\" ;\\\n  rosrun itf_talk itf_talk.py' &&\\\ntmux split-window -d -v -p 25 'echo -e \\\"\\e[1;34mros_itf_listen\\e[0m\\\" ;\\\n  rosrun itf_listen itf_listen.py' &&\\\ntmux select-layout even-vertical &&\\\ntmux attach \\\n\"\n\nCMD /bin/bash -l -c \"eval $STARTSCRIPT\"\n"
}