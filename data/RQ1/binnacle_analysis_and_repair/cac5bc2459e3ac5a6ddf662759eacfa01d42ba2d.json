{
  "startTime": 1674246141909,
  "endTime": 1674246141980,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 1,
        "columnEnd": 26
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM node:10.13.0-jessie\n\n# Dockerfile inspired from https://github.com/RocketChat/hubot-rocketchat/blob/master/Dockerfile\n\nRUN npm install -g coffee-script yo generator-hubot && useradd hubot -m && npm cache clean --force;\n\nUSER hubot\n\nWORKDIR /home/hubot\n\nENV BOT_NAME \"cdsbot\"\nENV BOT_OWNER \"CDS Team\"\nENV BOT_DESC \"Hubot with xmpp adapter\"\n\nENV EXTERNAL_SCRIPTS=hubot-diagnostics,hubot-help,hubot-rules,hubot-shipit\n\nRUN yo hubot --owner=\"$BOT_OWNER\" --name=\"$BOT_NAME\" --adapter=\"xmpp\" --description=\"$BOT_DESC\" --defaults && \\\n\tnode -e \"console.log(JSON.stringify('$EXTERNAL_SCRIPTS'.split(',')))\" > external-scripts.json && \\\n\tnpm install hubot-scripts && npm cache clean --force;\n\n# hack added to get around owner issue: https://github.com/docker/docker/issues/6119\nUSER root\nADD scripts/*.coffee /home/hubot/scripts/\nRUN chown hubot:hubot -R /home/hubot/\nUSER hubot\n\nCMD bin/hubot -n $BOT_NAME -a xmpp\n"
}