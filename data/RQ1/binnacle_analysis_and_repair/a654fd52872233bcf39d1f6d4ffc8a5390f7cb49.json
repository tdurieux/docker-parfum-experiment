{
  "startTime": 1674243756133,
  "endTime": 1674243756570,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 8,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 8,
        "columnEnd": 27
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 8,
        "columnEnd": 31
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 8,
        "columnEnd": 33
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 8,
        "columnEnd": 35
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 8,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 8,
        "columnEnd": 73
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 8,
        "columnEnd": 135
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 8,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 8,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 8,
        "columnEnd": 112
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 8,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 8,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 8,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 8,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 8,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 8,
        "columnEnd": 112
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 8,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 8,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 8,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 8,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 8,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 8,
        "columnEnd": 112
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 8,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 8,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 8,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 8,
        "columnEnd": 53
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 132
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 73
      }
    }
  ],
  "repairedDockerfile": "# Copyright (c) Bo Peng and the University of Texas MD Anderson Cancer Center\n# Distributed under the terms of the 3-clause BSD License.\n\n# SoS official docker image for latest version of SoS. Use command\n#\n#     docker build -t mdabioinfo/sos-notebook:latest docker-notebook\n#\n# to build it.\n#\n\n# tag created in Fev 2019\nFROM jupyter/datascience-notebook:83ed2c63671f\n\nMAINTAINER Bo Peng <bpeng@mdanderson.org>\n\nUSER    root\n\n#       Tools\nRUN     apt-get update\nRUN apt-get install --no-install-recommends -y graphviz && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y texlive-xetex texlive-latex-recommended texlive-latex-extra texlive-fonts-recommended && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y octave && rm -rf /var/lib/apt/lists/*;\nRUN     octave --eval 'pkg install -forge dataframe'\n\nRUN apt-get install --no-install-recommends -y nodejs npm && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y libgmp3-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y software-properties-common && rm -rf /var/lib/apt/lists/*;\n\n# Install some packages for our examples\n#RUN     R --slave -e 'install.packages(c(\"package1\", \"package2\"), lib=\"/usr/local/lib/R/site-library\")'\nRUN     R --slave -e 'source(\"https://bioconductor.org/biocLite.R\"); biocLite(\"biomaRt\")'\nRUN     R --slave -e 'install.packages(\"glmnet\", repos=\"http://cran.us.r-project.org\")'\nRUN pip install --no-cache-dir sklearn\n\nUSER    jovyan\n\n#       Bash\nRUN pip install --no-cache-dir bash_kernel\nRUN     python -m bash_kernel.install --user\n\n#       Octave\nRUN pip install --no-cache-dir octave_kernel\nRUN     python -m octave_kernel install --user\n\n#       JavaScript\nRUN     npm rebuild\nRUN npm install -g ijavascript && npm cache clean --force;\nRUN     ijsinstall --spec-path=full\n\n#        Julia\nRUN     julia -e \"using Pkg;Pkg.add([\\\"Feather\\\", \\\"DataFrames\\\", \\\"NamedArrays\\\"])\"\n\n#       Python 2\nRUN     conda create -n ipykernel_py2 python=2 ipykernel\nRUN     /bin/bash -c \"source activate ipykernel_py2; python -m ipykernel install --user; source deactivate\"\n\n#       Markdown kernel\nRUN pip install --no-cache-dir markdown-kernel\nRUN     python -m markdown_kernel.install\n\n# Bioinfo\nRUN pip install --no-cache-dir pysam\n\n# SOS\nRUN pip install --no-cache-dir docker markdown wand graphviz imageio pillow nbformat\n\nRUN     conda install -y feather-format -c conda-forge\n\n## trigger rerun for sos updates\nARG\t    DUMMY=unknown\nRUN DUMMY=${DUMMY} pip --no-cache-dir install sos sos-notebook sos-r sos-julia sos-python sos-matlab sos-javascript sos-bash sos-bioinfo --upgrade\n\nRUN     python -m sos_notebook.install\n\n# install the alpha version of jupyter lab to demonstrate jupyterlab-sos\nRUN pip install --no-cache-dir jupyterlab==1.0.0a1\nRUN     jupyter labextension install transient-display-data@0.2.1\nRUN     jupyter labextension install jupyterlab-sos@0.4.2\n\nUSER    jovyan\n"
}