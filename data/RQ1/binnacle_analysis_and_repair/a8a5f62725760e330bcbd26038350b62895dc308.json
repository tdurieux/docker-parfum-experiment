{
  "startTime": 1674241257154,
  "endTime": 1674241257924,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 120
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 65,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 97
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 138,
        "lineEnd": 138,
        "columnStart": 2,
        "columnEnd": 94
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 97
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 126,
        "lineEnd": 126,
        "columnStart": 1,
        "columnEnd": 166
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 127,
        "lineEnd": 127,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 2,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 22,
        "columnStart": 22,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 2,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 18,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 9,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 9,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 2,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 7,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 150,
        "lineEnd": 150,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 22,
        "columnStart": 22,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 2,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 109,
        "lineEnd": 109,
        "columnStart": 18,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 9,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 9,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 2,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 7,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 150,
        "lineEnd": 150,
        "columnStart": 4,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 125,
        "lineEnd": 125,
        "columnStart": 4,
        "columnEnd": 57
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:xenial\n\n# Versioning\nENV PIP_INSTALL_VERSION 19.0.2\nENV GO_LANG_VERSION 1.11.5\nENV MAVEN_VERSION 3.6.0\nENV SBT_VERSION 1.1.1\nENV GRADLE_VERSION 4.10.3\nENV RUBY_VERSION 2.6.3\nENV MIX_VERSION 1.0\nENV JDK_VERISON 8u211\nENV COMPOSER_ALLOW_SUPERUSER 1\n\n# programs needed for building\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n  build-essential \\\n  curl \\\n  git-core \\\n  sudo \\\n  unzip \\\n  wget \\\n  gnupg2 \\\n  software-properties-common && rm -rf /var/lib/apt/lists/*;\n\n# nodejs seems to be required for the one of the gems\nRUN curl -f -sL https://deb.nodesource.com/setup_10.x | bash - && \\\n    apt-get -y --no-install-recommends install nodejs && rm -rf /var/lib/apt/lists/*;\n\n# install yarn\nRUN curl -f -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - && \\\n  echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list && \\\n  apt-get update && \\\n  apt-get install -y --no-install-recommends yarn && rm -rf /var/lib/apt/lists/*;\n\n# install bower\nRUN npm install -g bower && \\\n    echo '{ \"allow_root\": true }' > /root/.bowerrc && npm cache clean --force;\n\n#install java 8\n#http://askubuntu.com/questions/521145/how-to-install-oracle-java-on-ubuntu-14-04\nRUN apt-get install --no-install-recommends -y openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\nRUN JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n\nENV J2SDKDIR=/usr/lib/jvm/java-8-openjdk-amd64\nENV J2REDIR=/usr/lib/jvm/java-8-openjdk-amd64/jre\nENV PATH=$PATH:/usr/lib/jvm/java-8-openjdk-amd64/bin:/usr/lib/jvm/java-8-openjdk-amd64/jre/bin\nENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n\nRUN java -version\n\n# install python and rebar\nRUN apt-get install --no-install-recommends -y python rebar && rm -rf /var/lib/apt/lists/*;\n\n# install and update python-pip\nRUN apt-get install --no-install-recommends -y python-pip && \\\n    pip install --no-cache-dir --upgrade pip==$PIP_INSTALL_VERSION && rm -rf /var/lib/apt/lists/*;\n\n# install maven\nRUN curl -f -O https://archive.apache.org/dist/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz && \\\n    tar -xf apache-maven-$MAVEN_VERSION-bin.tar.gz; rm -rf apache-maven-$MAVEN_VERSION-bin.tar.gz && \\\n    mv apache-maven-$MAVEN_VERSION /usr/local/lib/maven && \\\n    ln -s /usr/local/lib/maven/bin/mvn /usr/local/bin/mvn\n\n# install sbt\nRUN mkdir -p /usr/local/share/sbt-launcher-packaging && \\\n    curl -f --progress \\\n    --retry 3 \\\n    --retry-delay 15 \\\n    --location \"https://github.com/sbt/sbt/releases/download/v${SBT_VERSION}/sbt-${SBT_VERSION}.tgz\" \\\n    --output \"/tmp/sbt-${SBT_VERSION}.tgz\" && \\\n    tar -xzf \"/tmp/sbt-${SBT_VERSION}.tgz\" -C /usr/local/share/sbt-launcher-packaging --strip-components=1 && \\\n    ln -s /usr/local/share/sbt-launcher-packaging/bin/sbt /usr/local/bin/sbt && \\\n    rm -f \"/tmp/sbt-${SBT_VERSION}.tgz\"\n\n# install gradle\nWORKDIR /tmp\nRUN curl -f -L -o gradle.zip https://services.gradle.org/distributions/gradle-$GRADLE_VERSION-bin.zip && \\\n    unzip -q gradle.zip && \\\n    rm gradle.zip && \\\n    mv gradle-$GRADLE_VERSION /root/gradle\nENV PATH=/root/gradle/bin:$PATH\n\n#install go\nWORKDIR /go\nRUN wget https://storage.googleapis.com/golang/go$GO_LANG_VERSION.linux-amd64.tar.gz -O go.tar.gz && tar --strip-components=1 -xf go.tar.gz && rm -f go.tar.gz\nENV GOROOT /go\nENV PATH=$PATH:/go/bin\n\n# godep is now required for license_finder to work for project that are still managed with GoDep\nENV GOROOT=/go\nENV GOPATH=/gopath\nENV PATH=$PATH:$GOPATH/bin\nRUN mkdir /gopath && \\\n  go get github.com/tools/godep && \\\n  go get github.com/FiloSottile/gvt && \\\n  go get github.com/Masterminds/glide && \\\n  go get github.com/kardianos/govendor && \\\n  go get github.com/golang/dep/cmd/dep && \\\n  go get -u github.com/rancher/trash\n\n# Fix the locale\nRUN apt-get install --no-install-recommends -y locales && rm -rf /var/lib/apt/lists/*;\nRUN locale-gen en_US.UTF-8\nENV LANG=en_US.UTF-8\nENV LANGUAGE=en_US:en\nENV LC_ALL=en_US.UTF-8\n\n#install rvm\nRUN apt-add-repository -y ppa:rael-gc/rvm && \\\n    apt update && apt install --no-install-recommends -y rvm && \\\n    /usr/share/rvm/bin/rvm install --default $RUBY_VERSION && rm -rf /var/lib/apt/lists/*;\nENV PATH=/usr/share/rvm/bin:$PATH\n\n#install mix\nRUN wget https://packages.erlang-solutions.com/erlang-solutions_${MIX_VERSION}_all.deb && \\\n    sudo dpkg -i erlang-solutions_${MIX_VERSION}_all.deb && \\\n    sudo rm -f erlang-solutions_${MIX_VERSION}_all.deb && \\\n    sudo apt-get update && \\\n    sudo apt-get install --no-install-recommends -y esl-erlang && \\\n    sudo apt-get install --no-install-recommends -y elixir && rm -rf /var/lib/apt/lists/*;\n\n# install bundler\nRUN bash -lc \"gem update --system && gem install bundler\"\n\n# install conan\nRUN apt-get install --no-install-recommends -y python-dev && \\\n\tpip install --no-cache-dir --ignore-installed six --ignore-installed colorama --ignore-installed requests --ignore-installed chardet --ignore-installed urllib3 --upgrade setuptools && \\\n    pip install --no-cache-dir -Iv conan==1.11.2 && rm -rf /var/lib/apt/lists/*;\n\n# install Cargo\nRUN curl https://sh.rustup.rs -sSf | bash -s -- -y\n\n# install NuGet (w. mono)\n# https://docs.microsoft.com/en-us/nuget/install-nuget-client-tools#macoslinux\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF &&\\\n  echo \"deb https://download.mono-project.com/repo/ubuntu stable-xenial main\" | sudo tee /etc/apt/sources.list.d/mono-official-stable.list &&\\\n  apt-get update && \\\n  apt-get install --no-install-recommends -y mono-complete && \\\n  curl -f -o /usr/local/bin/nuget.exe https://dist.nuget.org/win-x86-commandline/latest/nuget.exe && \\\n  echo \"alias nuget=\\\"mono /usr/local/bin/nuget.exe\\\"\" >> ~/.bash_aliases && rm -rf /var/lib/apt/lists/*;\n\n# install dotnet core\nRUN wget -q https://packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb &&\\\n  sudo dpkg -i packages-microsoft-prod.deb &&\\\n  sudo apt-get update && \\\n  sudo apt-get install --no-install-recommends -y dotnet-runtime-2.1 dotnet-sdk-2.1 && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 4F4EA0AAE5267A6C &&\\\n    echo \"deb http://ppa.launchpad.net/ondrej/php/ubuntu xenial main\" | sudo tee /etc/apt/sources.list.d/php.list &&\\\n    apt-get update && \\\n    apt-get install --no-install-recommends -y php7.1-cli && \\\n    php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\" && \\\n    php -r \"if (hash_file('sha384', 'composer-setup.php') === '48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd0615698a5cbe587c3f0fe57a54d8f5') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\" && \\\n    php composer-setup.php && \\\n    php -r \"unlink('composer-setup.php');\" && \\\n    mv composer.phar /usr/bin/composer && rm -rf /var/lib/apt/lists/*;\n\n# install license_finder\nCOPY . /LicenseFinder\nRUN bash -lc \"cd /LicenseFinder && bundle install -j4 && rake install\"\n\nWORKDIR /\n\nCMD cd /scan && /bin/bash -l\n"
}