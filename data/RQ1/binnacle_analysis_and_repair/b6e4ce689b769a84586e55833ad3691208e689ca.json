{
  "startTime": 1674236484740,
  "endTime": 1674236484932,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 41,
        "columnStart": 26,
        "columnEnd": 4
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 41,
        "columnStart": 26,
        "columnEnd": 4
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# COMPILE SciDB 14.3\n#\n# VERSION 1.0\n#\n#\n#\n#\n#\n#PORT MAPPING\n#SERVICE DEFAULT MAPPED\n#ssh \t\t\t22 22\n#Postgresql \t5432 5432\n#SciDB \t\t\t1239 1239\n\n\nFROM ubuntu:12.04\nMAINTAINER Alber Sanchez\n\n\n# install\nRUN apt-get -qq update && apt-get install --no-install-recommends --fix-missing -y --force-yes \\\n\topenssh-server \\\n\topenssh-client \\\n\tsudo \\\n\twget \\\n\tgcc \\\n\tlibc-dev-bin \\\n\tlibc6-dev \\\n\tlibgomp1 \\\n\tlibssl-dev \\\n\tlinux-libc-dev \\\n\tzlib1g-dev \\\n\tnano \\\n\tgedit \\\n\tpostgresql-8.4 \\\n\tdialog \\\n\tcurl \\\n\tlibcurl3-dev \\\n\tsshpass \\\n\tsubversion \\\n\texpect \\\n\tgit && rm -rf /var/lib/apt/lists/*;\n\n\n# Set environment\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\nRUN env\n\n\n# Configure users\nRUN useradd --home /home/scidb --create-home --uid 1005 --group sudo --shell /bin/bash scidb\nRUN usermod -u 1004 -U scidb\nRUN groupmod -g 1004 scidb\nRUN usermod -a -G sudo scidb\nRUN echo 'root:xxxx.xxxx.xxxx' | chpasswd\nRUN echo 'postgres:xxxx.xxxx.xxxx' | chpasswd\nRUN echo 'scidb:xxxx.xxxx.xxxx' | chpasswd\nRUN mkdir /home/scidb/data\nRUN chown scidb:scidb /home/scidb/data\n\n\n# setup\nRUN mkdir /home/scidb/dev_dir\nRUN cd /home/scidb/dev_dir\nRUN wget -q -P /home/scidb/dev_dir https://dl.dropboxusercontent.com/u/25989010/scidbResources/scidb-14.3.0.7383.tgz\nRUN tar -xzf /home/scidb/dev_dir/scidb-14.3.0.7383.tgz -C /home/scidb/dev_dir && rm /home/scidb/dev_dir/scidb-14.3.0.7383.tgz\nRUN mv /home/scidb/dev_dir/scidb-14.3.0.7383 /home/scidb/dev_dir/scidbtrunk\nRUN chown -R scidb:scidb /home/scidb/dev_dir\n\n\n# Configure SSH\nRUN mkdir /var/run/sshd\nRUN echo 'StrictHostKeyChecking no' >> /etc/ssh/ssh_config\n\n\n# Configure Postgres\nRUN echo 'host all all 255.255.0.0/16 md5' >> /etc/postgresql/8.4/main/pg_hba.conf\n\n\n# Restarting services\nRUN stop ssh\nRUN start ssh\n\n\nEXPOSE 22\nEXPOSE 1239\nEXPOSE 5432\n\n\nCMD    [\"/usr/sbin/sshd\", \"-D\"]\n"
}