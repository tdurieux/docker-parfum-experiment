{
  "startTime": 1674234574995,
  "endTime": 1674234575309,
  "originalSmells": [
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 5,
        "columnEnd": 142
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 5,
        "columnEnd": 36
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:6\n\nMAINTAINER Andrius Kairiukstis <andrius@kairiukstis.com>\n\nRUN yum -y install gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel openssl-devel \\\n      newt-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel sqlite-devel curl bison supervisor \\\n  && mkdir /tmp/asterisk \\\n  && curl -sf -o /tmp/asterisk.tar.gz -L https://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n  && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n  && cd /tmp/asterisk \\\n  && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --libdir=/usr/lib64 \\\n  && make menuselect \\\n  && menuselect/menuselect \\\n    --disable-all \\\n    --disable-category MENUSELECT_ADDONS \\\n    --disable-category MENUSELECT_APPS \\\n    --disable-category MENUSELECT_BRIDGES \\\n    --disable-category MENUSELECT_CDR \\\n    --disable-category MENUSELECT_CEL \\\n    --disable-category MENUSELECT_CHANNELS \\\n    --enable-category MENUSELECT_CODECS \\\n    --enable-category MENUSELECT_FORMATS \\\n    --disable-category MENUSELECT_FUNCS \\\n    --disable-category MENUSELECT_PBX \\\n    --disable-category MENUSELECT_RES \\\n    --disable-category MENUSELECT_TESTS \\\n    --disable-category MENUSELECT_UTILS \\\n    --disable-category MENUSELECT_AGIS \\\n    --disable-category MENUSELECT_EMBED \\\n    --enable-category MENUSELECT_CORE_SOUNDS \\\n    --enable-category MENUSELECT_MOH \\\n    --enable-category MENUSELECT_EXTRA_SOUNDS \\\n    --disable-category MENUSELECT_TESTS \\\n    --enable-category MENUSELECT_OPTS_app_voicemail \\\n    --enable func_module \\\n    --enable LOADABLE_MODULES \\\n    --enable FILE_STORAGE \\\n    --disable codec_dahdi \\\n    --enable app_dial \\\n    --enable app_exec \\\n    --enable app_originate \\\n    --enable app_verbose \\\n    --enable chan_sip \\\n    --enable pbx_config \\\n    --enable res_agi \\\n    --enable res_convert \\\n    --enable res_musiconhold \\\n    --enable res_timing_timerfd \\\n    --disable BUILD_NATIVE \\\n  menuselect.makeopts \\\n  && make config \\\n  && make \\\n  && make install \\\n  && mkdir -p /var/lib/asterisk/phoneprov \\\n  && make samples \\\n  && make dist-clean \\\n  && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n  && cd .. \\\n  && rm /tmp/asterisk.tar.gz \\\n  && rm -rf /tmp/asterisk \\\n  && yum -y clean all \\\n  && rm -rf /var/cache/yum/*\n\n\n# RUN  yum -y update \\\n#   && yum -y install epel-release \\\n#   && yum -y install kernel-headers gcc gcc-c++ cpp ncurses ncurses-devel libxml2 libxml2-devel sqlite sqlite-devel \\\n#        mysql-devel openssl-devel newt-devel kernel-devel libuuid-devel net-snmp-devel xinetd tar libffi-devel \\\n#        curl pcre-devel bison mysql-devel ngrep tmux \\\n#   && mkdir /tmp/asterisk \\\n#   && curl -sf -o /tmp/asterisk.tar.gz -L http://downloads.asterisk.org/pub/telephony/certified-asterisk/certified-asterisk-11.6-current.tar.gz \\\n#   && tar -xzf /tmp/asterisk.tar.gz -C /tmp/asterisk --strip-components=1 \\\n#   && cd /tmp/asterisk \\\n#   && ./configure --libdir=/usr/lib64 \\\n#   && make menuselect \\\n#   && menuselect/menuselect \\\n#   --disable-category MENUSELECT_ADDONS \\\n#   --disable-category MENUSELECT_APPS \\\n#   --disable-category MENUSELECT_BRIDGES \\\n#   --disable-category MENUSELECT_CDR \\\n#   --disable-category MENUSELECT_CEL \\\n#   --disable-category MENUSELECT_CHANNELS \\\n#   --enable-category MENUSELECT_CODECS \\\n#   --enable-category MENUSELECT_FORMATS \\\n#   --disable-category MENUSELECT_FUNCS \\\n#   --disable-category MENUSELECT_PBX \\\n#   --disable-category MENUSELECT_RES \\\n#   --disable-category MENUSELECT_TESTS \\\n#   --disable-category MENUSELECT_OPTS_app_voicemail \\\n#   --disable-category MENUSELECT_UTILS \\\n#   --disable-category MENUSELECT_AGIS \\\n#   --disable-category MENUSELECT_EMBED \\\n#   --disable-category MENUSELECT_CORE_SOUNDS \\\n#   --disable-category MENUSELECT_MOH \\\n#   --disable-category MENUSELECT_EXTRA_SOUNDS \\\n#   --enable app_controlplayback \\\n#   --enable app_dial \\\n#   --enable app_exec \\\n#   --enable app_originate \\\n#   --enable app_queue \\\n#   --enable app_record \\\n#   --enable app_senddtmf \\\n#   --enable app_stasis \\\n#   --enable app_verbose \\\n#   --enable app_waituntil \\\n#   --enable chan_sip \\\n#   --enable pbx_config \\\n#   --enable pbx_realtime \\\n#   --enable res_agi \\\n#   --enable res_ari \\\n#   --enable res_ari_channels \\\n#   --enable res_ari_events \\\n#   --enable res_ari_playbacks \\\n#   --enable res_ari_recordings \\\n#   --enable res_ari_sounds \\\n#   --enable res_ari_device_states \\\n#   --enable res_realtime \\\n#   --enable res_rtp_asterisk \\\n#   --enable res_rtp_multicast \\\n#   --enable res_stasis \\\n#   --enable res_stasis_answer \\\n#   --enable res_stasis_device_state \\\n#   --enable res_stasis_playback \\\n#   --enable res_stasis_recording \\\n#   --enable res_stun_monitor \\\n#   --enable res_timing_timerfd \\\n#   --enable func_callcompletion \\\n#   --enable func_callerid \\\n#   --disable BUILD_NATIVE \\\n#   menuselect.makeopts \\\n#   && make config \\\n#   && make \\\n#   && make install \\\n#   && mkdir -p /var/lib/asterisk/phoneprov \\\n#   && make samples \\\n#   && make dist-clean \\\n#   && sed -i -e 's/# MAXFILES=/MAXFILES=/' /usr/sbin/safe_asterisk \\\n#   && cd .. \\\n#   && rm /tmp/asterisk.tar.gz \\\n#   && rm -rf /tmp/asterisk \\\n#   && yum -y clean all \\\n#   && rm -rf /var/cache/yum/*\n#\n# CMD asterisk -fvvvvv\n\n"
}