{
  "startTime": 1674239169646,
  "endTime": 1674239170088,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 23,
        "columnEnd": 54
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 8,
        "columnEnd": 54
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 8,
        "columnEnd": 107
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 8,
        "columnEnd": 130
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 8,
        "columnEnd": 130
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 8,
        "columnEnd": 115
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 8,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 8,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 8,
        "columnEnd": 70
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 8,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 8,
        "columnEnd": 115
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 8,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 8,
        "columnEnd": 70
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 8,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 8,
        "columnEnd": 115
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 8,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 8,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 8,
        "columnEnd": 70
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 8,
        "columnEnd": 47
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 8,
        "columnEnd": 139
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 8,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 8,
        "columnEnd": 94
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 8,
        "columnEnd": 71
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 8,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 8,
        "columnEnd": 57
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:18.04\n\nARG language\nARG snetd_version=\"v0.1.8\"\nARG snet_version=\"0.2.10\"\n\nENV SINGNET_REPOS=/opt/singnet\nENV GOPATH=${SINGNET_REPOS}/go\nENV PATH=${GOPATH}/bin:${PATH}\n\nRUN mkdir -p ${GOPATH}\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y \\\n    apt-utils \\\n    nano \\\n    vim \\\n    git \\\n    wget \\\n    curl \\\n    zip \\\n    libudev-dev \\\n    libusb-1.0-0-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y python3 python3-pip && rm -rf /var/lib/apt/lists/*;\n\nRUN pip3 install --no-cache-dir snet-cli==${snet_version}\n\nRUN cd /tmp && \\\n    mkdir snet-daemon && \\\n    cd snet-daemon && \\\n    wget https://github.com/singnet/snet-daemon/releases/download/${snetd_version}/snet-daemon-${snetd_version}-linux-amd64.tar.gz && \\\n    tar -xvf snet-daemon-${snetd_version}-linux-amd64.tar.gz && \\\n    mv snet-daemon-${snetd_version}-linux-amd64/snetd /usr/bin/snetd && \\\n    cd .. && \\\n    rm -rf snet-daemon && rm snet-daemon-${snetd_version}-linux-amd64.tar.gz\n\nRUN cd ${SINGNET_REPOS} && \\\n    git clone --depth 1 https://github.com/singnet/dev-portal.git && \\\n    git clone --depth 1 https://github.com/singnet/example-service.git && \\\n    cd example-service && \\\n    pip3 install --no-cache-dir -r requirements.txt && \\\n    cd .. && \\\n    git clone --depth 1 https://github.com/singnet/platform-contracts.git && \\\n    git clone --depth 1 https://github.com/singnet/snet-cli.git && \\\n    git clone --depth 1 https://github.com/singnet/snet-daemon.git\n\nRUN if [ \"$language\" = \"cpp\" ]; then \\\n        apt-get install --no-install-recommends -y build-essential autoconf libtool pkg-config libgflags-dev libgtest-dev clang libc++-dev; rm -rf /var/lib/apt/lists/*; \\\n        git clone -b $( curl -f -L https://grpc.io/release) https://github.com/grpc/grpc; \\\n        cd grpc; \\\n        git submodule update --init; \\\n        make; \\\n        make install; \\\n        apt-get install --no-install-recommends -y openjdk-8-jdk; \\\n        echo \"deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8\" | tee /etc/apt/sources.list.d/bazel.list; \\\n        curl -f https://bazel.build/bazel-release.pub.gpg | apt-key add -; \\\n        apt-get update; \\\n        apt-get install --no-install-recommends -y bazel; \\\n        apt-get upgrade -y bazel; \\\n        bazel build :all; \\\n        make install; \\\n        cd third_party/protobuf; \\\n        make; \\\n        make install; \\\n    fi\n\nRUN if [ \"$language\" = \"go\" ]; then \\\n        apt-get install --no-install-recommends -y golang go-dep golang-goprotobuf-dev golint; rm -rf /var/lib/apt/lists/*; \\\n        go get -v -u google.golang.org/grpc; \\\n    fi\n\nRUN if [ \"$language\" = \"java\" ]; then \\\n        apt-get install --no-install-recommends -y unzip openjdk-8-jdk; rm -rf /var/lib/apt/lists/*; \\\n        curl -f -OL https://github.com/google/protobuf/releases/download/v3.6.1/protoc-3.6.1-linux-x86_64.zip; \\\n        unzip protoc-3.6.1-linux-x86_64.zip -d protoc3; \\\n        mv protoc3/bin/* /usr/local/bin/; \\\n        mv protoc3/include/* /usr/local/include/; \\\n        rm -rf protoc3; \\\n        rm protoc-3.6.1-linux-x86_64.zip; \\\n        curl -f -OL https://central.maven.org/maven2/io/grpc/protoc-gen-grpc-java/1.16.1/protoc-gen-grpc-java-1.16.1-linux-x86_64.exe; \\\n        mv protoc-gen-grpc-java-1.16.1-linux-x86_64.exe /usr/local/bin/protoc-gen-grpc-java; \\\n        chmod +x /usr/local/bin/protoc-gen-grpc-java; \\\n    fi\n\nWORKDIR ${SINGNET_REPOS}\n"
}