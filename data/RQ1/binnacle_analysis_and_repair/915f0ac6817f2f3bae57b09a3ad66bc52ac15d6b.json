{
  "startTime": 1674242757399,
  "endTime": 1674242759134,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 260,
        "lineEnd": 262,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 265,
        "lineEnd": 265,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 267,
        "lineEnd": 267,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 270,
        "lineEnd": 270,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 275,
        "lineEnd": 275,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 278,
        "lineEnd": 278,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 280,
        "lineEnd": 280,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 283,
        "lineEnd": 283,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 286,
        "lineEnd": 286,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 289,
        "lineEnd": 289,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 292,
        "lineEnd": 292,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 293,
        "lineEnd": 293,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 294,
        "lineEnd": 294,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 255,
        "lineEnd": 255,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 244,
        "columnStart": 22,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 247,
        "lineEnd": 247,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 300,
        "lineEnd": 300,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 303,
        "lineEnd": 303,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 316,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 328,
        "lineEnd": 328,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 247,
        "lineEnd": 247,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 300,
        "lineEnd": 300,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 303,
        "lineEnd": 303,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 316,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 328,
        "lineEnd": 328,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 244,
        "columnStart": 22,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 247,
        "lineEnd": 247,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 300,
        "lineEnd": 300,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 303,
        "lineEnd": 303,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 316,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 328,
        "lineEnd": 328,
        "columnStart": 4,
        "columnEnd": 61
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 247,
        "lineEnd": 247,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 300,
        "lineEnd": 300,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 303,
        "lineEnd": 303,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 316,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 328,
        "lineEnd": 328,
        "columnStart": 4,
        "columnEnd": 85
      }
    }
  ],
  "repairedDockerfile": "FROM debian:stretch\n\nMAINTAINER gulv@microsoft.com\n\nRUN echo \"deb http://debian-archive.trafficmanager.net/debian/ stretch main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb-src http://debian-archive.trafficmanager.net/debian/ stretch main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb http://debian-archive.trafficmanager.net/debian-security/ stretch/updates main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb-src http://debian-archive.trafficmanager.net/debian-security/ stretch/updates main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb http://debian-archive.trafficmanager.net/debian stretch-backports main\" >> /etc/apt/sources.list\n\n## Make apt-get non-interactive\nENV DEBIAN_FRONTEND=noninteractive\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n        apt-utils \\\n        default-jre-headless \\\n        openssh-server \\\n        curl \\\n        wget \\\n        unzip \\\n        git \\\n        build-essential \\\n        libtool \\\n        lintian \\\n        sudo \\\n        dh-make \\\n        dh-exec \\\n        kmod \\\n        libtinyxml2-4 \\\n        libboost-program-options1.62-dev \\\n        libtinyxml2-dev \\\n        python \\\n        python-pip \\\n        libncurses5-dev \\\n        texinfo \\\n        dh-autoreconf \\\n        python3-pip \\\n        doxygen \\\n        devscripts \\\n        git-buildpackage \\\n        perl-modules \\\n        libswitch-perl \\\n        dh-systemd \\\n\n        libreadline-dev \\\n        texlive-latex-base \\\n        texlive-generic-recommended \\\n        texlive-fonts-recommended \\\n        libpam0g-dev \\\n        libpam-dev \\\n        libcap-dev \\\n        imagemagick \\\n        ghostscript \\\n        groff \\\n        libpcre3-dev \\\n        gawk \\\n        chrpath \\\n\n        libc-ares-dev \\\n        libsnmp-dev \\\n        libjson-c3 \\\n        libjson-c-dev \\\n        libsystemd-dev \\\n        python-ipaddr \\\n        libcmocka-dev \\\n        python3-all-dev \\\n        python3-all-dbg \\\n        install-info \\\n        logrotate \\\n\n        cdbs \\\n\n        libxml-simple-perl \\\n        graphviz \\\n        aspell \\\n\n        bc \\\n        fakeroot \\\n        build-essential \\\n        devscripts \\\n        quilt \\\n        stgit \\\n\n        module-assistant \\\n\n        gem2deb \\\n        libboost-all-dev \\\n        libevent-dev \\\n        libglib2.0-dev \\\n        libqt4-dev \\\n        python-all-dev \\\n        python-twisted \\\n        phpunit \\\n        libbit-vector-perl \\\n        openjdk-8-jdk \\\n        javahelper \\\n        maven-debian-helper \\\n        ant \\\n        libmaven-ant-tasks-java \\\n        libhttpclient-java \\\n        libslf4j-java \\\n        libservlet3.1-java \\\n        qt5-default \\\n        pkg-php-tools \\\n\n        libpcre3 \\\n        libpcre3-dev \\\n        byacc \\\n        flex \\\n        libglib2.0-dev \\\n        bison \\\n        expat \\\n        libexpat1-dev \\\n        dpatch \\\n        libdb-dev \\\n        iptables-dev \\\n        ctags \\\n\n        libtool-bin \\\n        libxml2-dev \\\n\n        libusb-1.0-0-dev \\\n        libcurl3-nss-dev \\\n        libunwind8-dev \\\n        telnet \\\n        libc-ares2 \\\n        libgoogle-perftools4 \\\n\n        cpio \\\n        squashfs-tools \\\n        zip \\\n\n        linux-compiler-gcc-6-x86 \\\n        linux-kbuild-4.9 \\\n\n        libdaemon-dev \\\n        libdbus-1-dev \\\n        libjansson-dev \\\n\n        libpcap-dev \\\n        dnsutils \\\n        libusb-dev \\\n\n        augeas-tools \\\n\n        libyaml-dev \\\n        libevent-dev \\\n        libjudy-dev \\\n        libedit-dev \\\n        libnanomsg-dev \\\n        python-stdeb \\\n\n        libjemalloc-dev \\\n\n        dkms \\\n\n        sharutils \\\n        libncursesw5-dev \\\n        libbz2-dev \\\n        liblzma-dev \\\n        libgdbm-dev \\\n        tk-dev \\\n        blt-dev \\\n        libmpdec-dev \\\n        libbluetooth-dev \\\n        locales \\\n        libsqlite3-dev \\\n        libgpm2 \\\n        time \\\n        net-tools \\\n        xvfb \\\n        python-sphinx \\\n        python3-sphinx \\\n\n        cppcheck \\\n        clang \\\n        pylint \\\n        python-pytest \\\n        gcovr \\\n        python-pytest-cov \\\n        python-parse \\\n\n        default-libmysqlclient-dev \\\n        libssl1.0-dev \\\n        libperl-dev \\\n        libpci-dev \\\n        libpci3 \\\n        libsensors4 \\\n        libsensors4-dev \\\n        libwrap0-dev \\\n\n\tdebhelper \\\n        autotools-dev \\\n        libbsd-dev \\\n        pkg-config \\\n        check \\\n\n        docutils-common \\\n        libjs-sphinxdoc \\\n        libjs-underscore \\\n        python-docutils \\\n        python-jinja2 \\\n        python-markupsafe \\\n        python-pygments \\\n        python-roman \\\n        python-sphinx \\\n        sphinx-common \\\n        python3-sphinx \\\n\n        python-lxml \\\n        python-jinja2 \\\n        python-netaddr \\\n        python-ipaddr \\\n        python-yaml \\\n        python3-yaml \\\n\n        procmail \\\n\n        libgtest-dev \\\n        cmake \\\n\n        autoconf-archive \\\n\n        python-sphinx \\\n        python-docutils \\\n        python3-all \\\n        python3-setuptools \\\n        python3-sphinx \\\n        python3-docutils \\\n        python3-requests \\\n        python3-pytest \\\n        python3-colorama \\\n\n        bash-completion \\\n\n        dosfstools \\\n        qemu-kvm \\\n        libvirt-clients \\\n\n        librrd8 \\\n        librrd-dev \\\n        rrdtool \\\n\n        automake1.11 \\\n        libselinux1-dev && rm -rf /var/lib/apt/lists/*;\n\n# For smartmontools 6.6-1\nRUN apt-get -t stretch-backports --no-install-recommends install -y debhelper && rm -rf /var/lib/apt/lists/*;\n\n# For linux build\nRUN apt-get -y build-dep linux\n\n# For gobgp and telemetry build\nRUN export VERSION=1.11.5 \\\n && wget https://storage.googleapis.com/golang/go$VERSION.linux-amd64.tar.gz \\\n && tar -C /usr/local -xzf go$VERSION.linux-amd64.tar.gz \\\n && echo 'export GOROOT=/usr/local/go' >> /etc/bash.bashrc \\\n && echo 'export PATH=$PATH:$GOROOT/bin' >> /etc/bash.bashrc && rm go$VERSION.linux-amd64.tar.gz\n\n# For p4 build\nRUN pip install --no-cache-dir \\\n        ctypesgen \\\n        crc16\n\n# For sonic config engine testing\nRUN pip install --no-cache-dir pyangbind==0.6.0\n# Note: force upgrade debian packaged jinja2, if installed\nRUN pip install --no-cache-dir --force-reinstall --upgrade jinja2 >=2.10\n\n# For templating\nRUN pip install --no-cache-dir j2cli\n\n# Remove python-click 6.6\nRUN apt-get purge -y python-click\n# For sonic utilities testing\nRUN pip install --no-cache-dir click-default-group click natsort tabulate netifaces==0.10.7 fastentrypoints\n\n# For sonic snmpagent mock testing\nRUN pip3 install --no-cache-dir mockredispy==2.9.3\n\nRUN pip3 install --no-cache-dir PyYAML >=5.1\n\n# For sonic-platform-common testing\nRUN pip3 install --no-cache-dir redis\n\n# For supervisor build\nRUN pip install --no-cache-dir meld3 mock\n\n# For vs image build\nRUN pip install --no-cache-dir pexpect==4.6.0\n\n# For sonic-utilities build\nRUN pip install --no-cache-dir mockredispy==2.9.3\nRUN pip install --no-cache-dir pytest-runner==4.4\nRUN pip install --no-cache-dir setuptools==40.8.0\n\n# Install dependencies for isc-dhcp-relay build\nRUN apt-get -y build-dep isc-dhcp\n\n# Install vim\nRUN apt-get install --no-install-recommends -y vim && rm -rf /var/lib/apt/lists/*;\n\n# Install rsyslog\nRUN apt-get install --no-install-recommends -y rsyslog && rm -rf /var/lib/apt/lists/*;\n\nRUN cd /usr/src/gtest && cmake . && make -C /usr/src/gtest\n\nRUN mkdir /var/run/sshd\nEXPOSE 22\n\n# Install depot-tools (for git-retry)\nRUN git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git /usr/share/depot_tools\nENV PATH /usr/share/depot_tools:$PATH\n\n# Install docker engine 17.03.2~ce-0 inside docker and enable experimental feature\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y \\\n           apt-transport-https \\\n           ca-certificates \\\n           curl \\\n           gnupg2 \\\n           software-properties-common && rm -rf /var/lib/apt/lists/*;\nRUN curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -\nRUN add-apt-repository \\\n           \"deb [arch=amd64] https://download.docker.com/linux/debian \\\n           $(lsb_release -cs) \\\n           stable\"\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y docker-ce=5:18.09.5~3-0~debian-stretch && rm -rf /var/lib/apt/lists/*;\nRUN echo \"DOCKER_OPTS=\\\"--experimental --storage-driver=vfs\\\"\" >> /etc/default/docker\n"
}