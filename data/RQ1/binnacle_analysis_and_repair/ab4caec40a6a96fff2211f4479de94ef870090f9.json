{
  "startTime": 1674244466176,
  "endTime": 1674244466225,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM nfnty/arch-mini:latest AS base \n\nRUN mkdir -p /code/node_modules/bcoin /data \nWORKDIR /code/node_modules/bcoin \nENTRYPOINT [\"node\"] \nCMD [\"/code/scripts/docker-bcoin-init.js\"] \n\nRUN pacman -Sy --noconfirm archlinux-keyring && \\  \npacman -Syu --noconfirm nodejs npm && \\  \nrm /var/cache/pacman/pkg/* \n\nFROM base AS build \n# Install build dependencies \nRUN pacman -Syu --noconfirm base-devel unrar git python2 \n#HACK: Node-gyp needs python \nRUN ln -s /usr/bin/python2 /usr/bin/python \n\nARG repo=https://github.com/c4yt/bcoin.git \nARG branch=master \n#HACK: Dingle this to trigger rebuilds \nARG rebuild=0 \n# Install bcoin \nRUN git clone \\--branch $branch $repo /code/node_modules/bcoin \nRUN npm install --production && npm cache clean --force;\n\n#TODO: Inherit from official image \nFROM base \nCOPY \\--from=build /code/node_modules/bcoin /code/node_modules/bcoin \nCOPY ./scripts/ /code/scripts \n\n"
}