{
  "startTime": 1674252751399,
  "endTime": 1674252751571,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 5,
        "columnEnd": 31
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 5,
        "columnEnd": 40
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 5,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM jayjohnson/ai-core:latest\n\nRUN echo \"creating project directories\" \\\n  && mkdir -p -m 777 /var/log/antinex/jupyter \\\n  && mkdir -p -m 777 /opt/antinex \\\n  && chmod 777 //var/log/antinex/jupyter \\\n  && touch /var/log/antinex/jupyter/jupyter.log \\\n  && chmod 777 /var/log/antinex/jupyter/jupyter.log \\\n  && echo \"updating repo\" \\\n  && cd /opt/antinex/core \\\n  && git checkout master \\\n  && git pull \\\n  && echo \"checking repos in container\" \\\n  && ls -l /opt/antinex/core \\\n  && echo \"activating venv\" \\\n  && . /opt/venv/bin/activate \\\n  && cd /opt/antinex/core \\\n  && echo \"installing pip upgrades\" \\\n  && pip install --no-cache-dir --upgrade -e .\n\nRUN echo \"Downgrading numpy and setuptools for tensorflow\" \\\n  && . /opt/venv/bin/activate \\\n  && pip install --no-cache-dir --upgrade numpy==1.14.5 \\\n  && pip install --no-cache-dir --upgrade setuptools==39.1.0\n\nRUN echo \"Making Sphinx docs\" \\\n  && . /opt/venv/bin/activate \\\n  && cd /opt/antinex/core/docs \\\n  && ls -l \\\n  && make html\n\nENV PROJECT_NAME=\"jupyter\" \\\n    SHARED_LOG_CFG=\"/opt/antinex/core/antinex_core/log/debug-openshift-logging.json\" \\\n    DEBUG_SHARED_LOG_CFG=\"0\" \\\n    LOG_LEVEL=\"DEBUG\" \\\n    LOG_FILE=\"/var/log/antinex/jupyter/jupyter.log\" \\\n    USE_ENV=\"drf-dev\" \\\n    USE_VENV=\"/opt/venv\" \\\n    API_USER=\"trex\" \\\n    API_PASSWORD=\"123321\" \\\n    API_EMAIL=\"bugs@antinex.com\" \\\n    API_FIRSTNAME=\"Guest\" \\\n    API_LASTNAME=\"Guest\" \\\n    API_URL=\"http://api.antinex.com:8010\" \\\n    API_VERBOSE=\"true\" \\\n    API_DEBUG=\"false\" \\\n    USE_FILE=\"false\" \\\n    SILENT=\"-s\" \\\n    RUN_JUPYTER=\"/opt/antinex/core/docker/jupyter/start-container.sh\"\n\nWORKDIR /opt/antinex/core/docker/jupyter\n\n# set for anonymous user access in the container\nRUN find /opt/antinex -type d -exec chmod 777 {} \\;\nRUN find /var/log/antinex -type d -exec chmod 777 {} \\;\n\nENTRYPOINT . /opt/venv/bin/activate \\\n  && /opt/antinex/core/docker/jupyter \\\n  && ${RUN_JUPYTER}\n"
}