{
  "startTime": 1674249909428,
  "endTime": 1674249909939,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 67
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 22,
        "columnEnd": 208
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 263
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 22,
        "columnEnd": 245
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 22,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 38,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 123
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 38,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 123
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 22,
        "columnEnd": 208
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 263
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 22,
        "columnEnd": 245
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 22,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 38,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 123
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 38,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 147
      }
    }
  ],
  "repairedDockerfile": "FROM nvidia/cuda:8.0-devel-ubuntu14.04\nMAINTAINER Yuki Iida <aiueo.0409@gmail.com>\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n        software-properties-common \\\n        wget curl git cmake cmake-curses-gui && rm -rf /var/lib/apt/lists/*;\n\n# Install ROS\nRUN wget https://packages.ros.org/ros.key -O - | apt-key add -\nRUN echo \"deb http://packages.ros.org/ros/ubuntu trusty main\" > /etc/apt/sources.list.d/ros-latest.list\nRUN apt-get update && apt-get install --no-install-recommends -y ros-indigo-desktop-full ros-indigo-nmea-msgs ros-indigo-nmea-navsat-driver ros-indigo-sound-play ros-indigo-jsk-visualization ros-indigo-grid-map ros-indigo-gps-common && rm -rf /var/lib/apt/lists/*;\nRUN apt-get update && apt-get install --no-install-recommends -y ros-indigo-controller-manager ros-indigo-ros-control ros-indigo-ros-controllers ros-indigo-gazebo-ros-control ros-indigo-sicktoolbox ros-indigo-sicktoolbox-wrapper ros-indigo-joystick-drivers ros-indigo-novatel-span-driver && rm -rf /var/lib/apt/lists/*;\nRUN apt-get update && apt-get install --no-install-recommends -y libnlopt-dev freeglut3-dev qtbase5-dev libqt5opengl5-dev libssh2-1-dev libarmadillo-dev libpcap-dev gksu libgl1-mesa-dev libglew-dev software-properties-common libyaml-cpp-dev python-flask python-requests && rm -rf /var/lib/apt/lists/*;\nRUN add-apt-repository ppa:mosquitto-dev/mosquitto-ppa\nRUN apt-get update && apt-get install --no-install-recommends -y libmosquitto-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN rosdep init \\\n        && rosdep update \\\n        && echo \"source /opt/ros/indigo/setup.bash\" >> ~/.bashrc\n\n# Develop\nRUN apt-get install --no-install-recommends -y \\\n        libboost-all-dev \\\n        libflann-dev \\\n        libgsl0-dev \\\n        libgoogle-perftools-dev \\\n        libeigen3-dev && rm -rf /var/lib/apt/lists/*;\n\n# Install some basic GUI and sound libs\nRUN apt-get install --no-install-recommends -y \\\n        xz-utils file locales dbus-x11 pulseaudio dmz-cursor-theme \\\n        fonts-dejavu fonts-liberation hicolor-icon-theme \\\n        libcanberra-gtk3-0 libcanberra-gtk-module libcanberra-gtk3-module \\\n        libasound2 libgtk2.0-0 libdbus-glib-1-2 libxt6 libexif12 \\\n        libgl1-mesa-glx libgl1-mesa-dri \\\n        && update-locale LANG=C.UTF-8 LC_MESSAGES=POSIX && rm -rf /var/lib/apt/lists/*;\n\n# Install some basic GUI tools\nRUN apt-get install --no-install-recommends -y \\\n        cmake-qt-gui \\\n        gnome-terminal && rm -rf /var/lib/apt/lists/*;\n\n# Add basic user\nENV USERNAME autoware\nENV PULSE_SERVER /run/pulse/native\nRUN useradd -m $USERNAME && \\\n        echo \"$USERNAME:$USERNAME\" | chpasswd && \\\n        usermod --shell /bin/bash $USERNAME && \\\n        usermod -aG sudo $USERNAME && \\\n        echo \"$USERNAME ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers.d/$USERNAME && \\\n        chmod 0440 /etc/sudoers.d/$USERNAME && \\\n        # Replace 1000 with your user/group id\n        usermod  --uid 1000 $USERNAME && \\\n        groupmod --gid 1000 $USERNAME\n\n# Setup .bashrc for ROS\nRUN echo \"source /opt/ros/indigo/setup.bash\" >> /home/$USERNAME/.bashrc && \\\n        #Fix for qt and X server errors\n        echo \"export QT_X11_NO_MITSHM=1\" >> /home/$USERNAME/.bashrc && \\\n        # cd to home on login\n        echo \"cd\" >> /home/$USERNAME/.bashrc\n\n############\n##PT GREY FlyCaptureSDK\n############\n#download driver\nRUN wget https://ertl.jp/~amonrroy/flycapture2-2.6.3.4-amd64-pkg.tgz && \\\n    tar -xvzf flycapture2-2.6.3.4-amd64-pkg.tgz && rm flycapture2-2.6.3.4-amd64-pkg.tgz\n##install dependencies\nRUN apt-get install --no-install-recommends -y libraw1394-11 libgtk2.0-0 libgtkmm-2.4-dev libglademm-2.4-dev libgtkglextmm-x11-1.2-dev libusb-1.0-0 && rm -rf /var/lib/apt/lists/*;\n\nRUN cd flycapture2-2.6.3.4-amd64 && \\\n    dpkg -i libflycapture-2* && \\\n    dpkg -i libflycapturegui-2* && \\\n    dpkg -i libflycapture-c-2* && \\\n    dpkg -i libflycapturegui-c-2* && \\\n    dpkg -i libmultisync-2* && \\\n    dpkg -i flycap-2* && \\\n    dpkg -i flycapture-doc-2* && \\\n    dpkg -i updatorgui*\n\n#setup camera usb permissions\nENV PGUDEVFILE /etc/udev/rules.d/40-pgr.rules\nRUN groupadd -f pgrimaging && \\\n    usermod -a -G pgrimaging $USERNAME && \\\n    echo \"SUBSYSTEM==\\\"usb\\\", ATTR{idVendor}==\\\"1e10\\\", MODE=\\\"0666\\\", GROUP=\\\"pgrimaging\\\" \" >> PGUDEVFILE && \\\n/etc/init.d/udev restart\n\n## End PT GREY\n\n# Change user\nUSER autoware\n\n# YOLO_V2\nRUN cd && git clone https://github.com/pjreddie/darknet.git\nRUN cd ~/darknet && git checkout 56d69e73aba37283ea7b9726b81afd2f79cd1134\nRUN cd ~/darknet/data && wget https://pjreddie.com/media/files/yolo.weights\n\n# Install Autoware\nRUN cd && mkdir /home/$USERNAME/Autoware\nCOPY --chown=autoware ./ /home/$USERNAME/Autoware/\nRUN git clone https://github.com/CPFL/Autoware.git /home/$USERNAME/Autoware\nRUN /bin/bash -c 'source /opt/ros/indigo/setup.bash; cd /home/$USERNAME/Autoware/ros/src; git submodule update --init --recursive; catkin_init_workspace; cd ../; ./catkin_make_release'\nRUN echo \"source /home/$USERNAME/Autoware/ros/devel/setup.bash\" >> /home/$USERNAME/.bashrc\n\n# Change Terminal Color\nRUN gconftool-2 --set \"/apps/gnome-terminal/profiles/Default/use_theme_background\" --type bool false\nRUN gconftool-2 --set \"/apps/gnome-terminal/profiles/Default/use_theme_colors\" --type bool false\nRUN gconftool-2 --set \"/apps/gnome-terminal/profiles/Default/background_color\" --type string \"#FFFFFF\"\n\n# Default CMD\nCMD [\"/bin/bash\"]\n"
}