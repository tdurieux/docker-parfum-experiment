{
  "startTime": 1674251924162,
  "endTime": 1674251924587,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 67
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 75
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 65
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 80
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 82
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 89
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:wily\nMAINTAINER Tiago Antao <tiagoantao@gmail.com>\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update\nRUN apt-get upgrade -y\n\nRUN apt-get install --no-install-recommends -y git wget build-essential unzip && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y samtools mafft muscle raxml tabix && rm -rf /var/lib/apt/lists/*;\n\n#R\nRUN apt-get install --no-install-recommends -y r-bioc-biobase && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y graphviz libgraphviz-dev pkg-config && rm -rf /var/lib/apt/lists/*; # phylo/biopython\nRUN apt-get install --no-install-recommends -y swig && rm -rf /var/lib/apt/lists/*; # simupop\nRUN apt-get install --no-install-recommends -y libx11-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y libgsl0ldbl && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y libgsl0-dev libopenblas-dev liblapacke-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get clean\n\n#genepop\nRUN mkdir genepop\nWORKDIR /genepop\nRUN wget https://kimura.univ-montp2.fr/~rousset/sources.tar.gz\nRUN tar zxf sources.tar.gz && rm sources.tar.gz\nRUN mv Cpp/* .\nRUN g++ -DNO_MODULES -o Genepop GenepopS.cpp -O3\nRUN cp Genepop /usr/bin\nWORKDIR /\nRUN rm -rf genepop\n\n#fastsimcoal\nRUN wget https://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc_linux64.zip\nRUN unzip fsc_linux64.zip\nRUN chmod a+x fsc_linux64/fsc25221\nRUN cp fsc_linux64/fsc25221 /usr/bin/fsc252\nRUN rm -rf fsc_*\n\n#plink\nRUN wget https://www.cog-genomics.org/static/bin/plink170330/plink_linux_x86_64.zip\nRUN unzip plink_linux_x86_64.zip\nRUN mv plink /usr/bin\n\n#trimal\nRUN wget https://trimal.cgenomics.org/_media/trimal.v1.2rev59.tar.gz\nRUN tar zxf trimal.v1.2rev59.tar.gz && rm trimal.v1.2rev59.tar.gz\nWORKDIR /trimAl/source\nRUN make\nRUN cp trimal /usr/bin\nWORKDIR /\n\nRUN wget https://repo.continuum.io/miniconda/Miniconda-3.7.3-Linux-x86_64.sh\n#Presumes aceptance of the license\nRUN bash Miniconda-3.7.3-Linux-x86_64.sh -b\nRUN root/miniconda/bin/conda install --yes biopython=1.65 python=3.4\nRUN root/miniconda/bin/conda install --yes scipy\nRUN root/miniconda/bin/conda install --yes cython numba\nRUN root/miniconda/bin/conda install --yes matplotlib\nRUN root/miniconda/bin/conda install --yes ipython-notebook\nRUN root/miniconda/bin/conda install --yes anaconda-client\nRUN root/miniconda/bin/conda install --yes scikit-learn\nRUN root/miniconda/bin/conda install --yes statsmodels\n#RUN root/miniconda/bin/conda install --yes pysam\n#RUN root/miniconda/bin/conda install -c https://conda.binstar.org/bcbio --yes gffutils\nRUN root/miniconda/bin/conda install --yes conda-build\nRUN root/miniconda/bin/conda install --yes pip\nRUN root/miniconda/bin/conda install --yes requests\nRUN root/miniconda/bin/conda install --yes -c bpeng simuPOP\n\nRUN root/miniconda/bin/pip install rpy2\n#RUN root/miniconda/bin/pip install pygraphviz\nRUN root/miniconda/bin/pip install seaborn\nRUN root/miniconda/bin/pip install pyvcf\n#RUN root/miniconda/bin/pip install dendropy\nRUN root/miniconda/bin/pip install pexpect\nRUN root/miniconda/bin/pip install reportlab\nRUN root/miniconda/bin/pip install networkx\nRUN root/miniconda/bin/pip install pygenomics\n\n#RUN echo \"install.packages('RMySQL', repos='http://cran.us.r-project.org')\" > R.inst\nRUN echo \"install.packages('ggplot2', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN echo \"install.packages('gridExtra', repos='http://cran.us.r-project.org')\" >> R.inst\nRUN R --no-save <  R.inst\n\n#smartpca\nRUN wget https://github.com/DReichLab/EIG/archive/v6.1.2.tar.gz\nRUN tar zxf v6.1.2.tar.gz && rm v6.1.2.tar.gz\nRUN rm v6.1.2.tar.gz\nWORKDIR EIG-6.1.2/src\nRUN sed -i.bak 's/-lrt/-lrt -llapacke -lm -lpthread/' Makefile\nRUN make\nRUN cp eigensrc/smartpca /usr/bin\n\n\nEXPOSE 9875\n\nRUN git clone https://github.com/tiagoantao/bioinf-python.git\nWORKDIR /bioinf-python/notebooks\n\nRUN echo setterm -foreground magenta >> /etc/bash.bashrc\nCMD /root/miniconda/bin/ipython notebook --ip=0.0.0.0 --no-browser --port=9875\n"
}