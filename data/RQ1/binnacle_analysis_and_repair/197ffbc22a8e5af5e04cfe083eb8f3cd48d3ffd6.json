{
  "startTime": 1674244450691,
  "endTime": 1674244450920,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 123
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 190
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 132
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 177
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 171
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 190
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 132
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM phusion/baseimage:0.11\n\n# Set correct environment variables\nENV DEBIAN_FRONTEND noninteractive\nENV LC_ALL en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US.UTF-8\nENV WINEARCH win32\nENV DISPLAY :0\nENV WINE_MONO_VERSION 4.5.6\nENV WINEPREFIX /home/docker/.wine\n#ENV WINEARCH win32\nENV HOME /home/docker/\n\n# Updating and upgrading a bit.\n# Install vnc, window manager and basic tools\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends language-pack-zh-hant  x11vnc xdotool supervisor fluxbox git terminology sudo && \\\n    dpkg --add-architecture i386 && \\\n\n# We need software-properties-common to add ppas.\n    curl -f https://dl.winehq.org/wine-builds/winehq.key -o /tmp/Release.key && \\\n    apt-get install -y --no-install-recommends software-properties-common && \\\n    apt-key add /tmp/Release.key && \\\n    apt-add-repository 'https://dl.winehq.org/wine-builds/ubuntu/' && \\\n    apt-get update && \\\n    apt-get install -y --no-install-recommends  winehq-stable && \\\n    apt-get install -y --no-install-recommends cabextract unzip p7zip zenity xvfb && \\\n    curl -f -SL -k https://raw.githubusercontent.com/Winetricks/winetricks/master/src/winetricks -o /usr/local/bin/winetricks && \\\n    chmod a+x /usr/local/bin/winetricks && \\\n# Installation of winbind to stop ntlm error messages.\n    apt-get install -y --no-install-recommends winbind && \\\n# Get latest version of mono for wine\n    mkdir -p /usr/share/wine/mono && \\\n    curl -f -SL -k 'https://sourceforge.net/projects/wine/files/Wine%20Mono/$WINE_MONO_VERSION/wine-mono-$WINE_MONO_VERSION.msi/download' -o /usr/share/wine/mono/wine-mono-$WINE_MONO_VERSION.msi && \\\n    chmod +x /usr/share/wine/mono/wine-mono-$WINE_MONO_VERSION.msi && \\\n    mkdir -p /usr/share/wine/gecko && \\\n    curl -f -SL -k 'https://dl.winehq.org/wine/wine-gecko/2.47/wine_gecko-2.47-x86.msi' -o /usr/share/wine/gecko/wine_gecko-2.47-x86.msi && \\\n    # Add Traditional Chinese Fonts\n    mkdir -p /usr/share/fonts/TTF/ && \\\n    curl -f -SL -k https://github.com/adobe-fonts/source-han-sans/raw/release/OTF/TraditionalChinese/SourceHanSansTC-Regular.otf -o /usr/share/fonts/TTF/SourceHanSansTC-Regular.otf && \\\n    curl -f -SL -k https://github.com/adobe-fonts/source-han-sans/raw/release/OTF/TraditionalChinese/SourceHanSansTC-Bold.otf -o /usr/share/fonts/TTF/SourceHanSansTC-Bold.otf && \\\n    # Create user for ssh\n    adduser \\\n            --home /home/docker \\\n            --disabled-password \\\n            --shell /bin/bash \\\n            --gecos \"user for running application\" \\\n            --quiet \\\n            docker && \\\n    echo \"docker:1234\" | chpasswd && \\\n    adduser docker sudo && \\\n    # Clone noVNC\n    runuser -l docker -c \"git clone https://github.com/novnc/noVNC.git /home/docker/novnc\" && \\\n    # Clone websockify for noVNC\n    runuser -l docker -c \"git clone https://github.com/kanaka/websockify /home/docker/novnc/utils/websockify\" && \\\n    ln -s /home/docker/novnc/vnc.html /home/docker/novnc/index.html && \\\n    chown docker -R /home/docker/novnc && \\\n# Cleaning up.\n    apt-get autoremove -y --purge software-properties-common && \\\n    apt-get autoremove -y --purge && \\\n    apt-get clean -y && \\\n    rm -rf /home/wine/.cache && \\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# Add supervisor conf\nADD supervisord.conf /etc/supervisor/conf.d/supervisord.conf\n\n# Add entrypoint.sh\nADD entrypoint.sh /etc/entrypoint.sh\n\n\n## Add novnc\nENTRYPOINT [\"/bin/bash\",\"/etc/entrypoint.sh\"]\n# Expose Port\nEXPOSE 8080 22\n"
}