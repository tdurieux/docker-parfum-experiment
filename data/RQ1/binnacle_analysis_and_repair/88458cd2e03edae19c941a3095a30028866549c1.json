{
  "startTime": 1674241329408,
  "endTime": 1674241329705,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 76,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 76,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 92
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 116
      }
    }
  ],
  "repairedDockerfile": "# Copyright 2018 VÃ­ctor Mayoral Vilches - All Rights Reserved\n#\n# Unauthorized copying of this file, via any medium is strictly prohibited\n# without previous consent.\n\n# Default, 64 bit image\n# FROM ubuntu:16.04\n\n# # 32 bit image\nFROM i686/ubuntu\n\n#--------------------\n# General setup\n#--------------------\n# setup environment\nENV LANG C.UTF-8\nENV LC_ALL C.UTF-8\n\nWORKDIR /root\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y binutils \\\n    gcc gdb && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get update\n\n# Utilities for the hack\nRUN apt-get install --no-install-recommends -y vim \\\n  less python3 python wget bsdmainutils tcpdump \\\n  net-tools && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y git cowsay && rm -rf /var/lib/apt/lists/*;\n\n#--------------------\n# Set up proper (comfortable) gdb environment\n#--------------------\nRUN wget -P ~ git.io/.gdbinit\n\n# # SELECT ONE OR THE OTHER\n# # Or, set up the Python Exploit Development Assistance for GDB (PEDA)\n# RUN git clone https://github.com/longld/peda.git\n# RUN echo \"source /root/peda/peda.py\" >> /root/.gdbinit\n\n#--------------------\n# Set up checksec\n#--------------------\nRUN git clone https://github.com/slimm609/checksec.sh\n# RUN export PATH=\"/root/checksec.sh\":$PATH\n\n#--------------------\n# Set up rp++\n#--------------------\nRUN wget https://github.com/downloads/0vercl0k/rp/rp-lin-x86\nRUN mv rp-lin-x86 rp++\nRUN chmod +x rp++\n\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y netcat && rm -rf /var/lib/apt/lists/*;\n\n# #--------------------\n# # Set up python3-pwntools\n# #--------------------\n# RUN apt-get install -y python3-dev python3-pip\n# RUN pip3 install --upgrade pip\n# RUN pip3 install --upgrade git+https://github.com/arthaud/python3-pwntools.git\n\n#--------------------\n# Set up pwntools\n#--------------------\n# Install packages\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install --no-install-recommends -y software-properties-common && \\\n    apt-add-repository -y ppa:pwntools/binutils && \\\n    apt-add-repository -y ppa:fkrull/deadsnakes-python2.7 && rm -rf /var/lib/apt/lists/*;\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y binutils-arm-linux-gnu \\\n                       binutils-i386-linux-gnu \\\n                       binutils-mips-linux-gnu \\\n                       binutils-mips64-linux-gnu && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y --force-yes git python2.7 python-pip python-dev libffi-dev libssl-dev && rm -rf /var/lib/apt/lists/*;\nRUN pip install --no-cache-dir --upgrade setuptools\nRUN pip install --no-cache-dir requests\n\nRUN groupadd -r pwntools\nRUN useradd -mrg pwntools pwntools\nRUN rm -rf /var/lib/apt/lists/*\n\n# Install pwntools\nRUN git clone -b 3.7.1 https://github.com/Gallopsled/pwntools.git && \\\n    pip install --no-cache-dir --upgrade --editable pwntools\n\n# Install z3\nRUN git clone https://github.com/Z3Prover/z3.git && \\\n    cd z3 && \\\n    python scripts/mk_make.py --python && \\\n    cd build && \\\n    make && \\\n    make install && \\\n    cd / && \\\n    rm -rf z3\n\n\n#--------------------\n# Copy source files\n#--------------------\n# COPY client.c /root\n\n#--------------------\n# Compile code\n#--------------------\n# RUN gcc client.c -g -o client -fno-stack-protector -z execstack\n\n#--------------------\n# Entry point\n#--------------------\nCMD [\"bash\"]\n"
}