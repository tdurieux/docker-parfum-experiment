{
  "startTime": 1674238873390,
  "endTime": 1674238873472,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 4,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 64
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:3.7\n\n# Install Pony dependencies and other build tools.\nENV LLVM_VERSION=3.9\nRUN apk add --no-cache --update \\\n        alpine-sdk clang-dev linux-headers libexecinfo-dev binutils-gold \\\n        libressl-dev pcre2-dev coreutils llvm${LLVM_VERSION}-dev\n\n# Install Pony compiler and Pony runtime.\nENV PONYC_GIT_URL https://github.com/ponylang/ponyc\nRUN git clone --depth 1 ${PONYC_GIT_URL} /tmp/ponyc && \\\n    cd /tmp/ponyc && \\\n    env CC=clang make default_pic=true install && \\\n    rm -rf /tmp/ponyc\n\n# Install Pony dependency manager (stable).\n# TODO: use master branch when this branch has been merged\nENV STABLE_GIT_URL https://github.com/ponylang/pony-stable\nRUN git clone --depth 1 ${STABLE_GIT_URL} /tmp/pony-stable && \\\n    cd /tmp/pony-stable && \\\n    make config=release install && \\\n    rm -rf /tmp/pony-stable\n\n# Build the application as a static binary.\n# TODO: use --runtimebc (available only when clang version matches LLVM version)\nENV CC=clang\nRUN mkdir /src\nWORKDIR /src\nCOPY Makefile bundle.json /src/\nCOPY jylis /src/jylis\nRUN stable fetch && stable env ponyc --static -o release jylis\n\n# Transfer the static binary to a new empty image.\nFROM scratch\nCOPY --from=0 /src/release/jylis .\nENTRYPOINT [\"./jylis\"]\n"
}