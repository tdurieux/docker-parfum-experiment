{
  "startTime": 1674243168604,
  "endTime": 1674243168739,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 18,
        "columnStart": 0,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 0,
        "columnEnd": 23
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM phusion/baseimage:0.9.19 \nMAINTAINER The bitshares decentralized organisation \n\nENV LANG=en_US.UTF-8 \nRUN \\\n apt-get update -y && \\\n apt-get install --no-install-recommends -y \\\ng++ \\\nautoconf \\\ncmake \\\ngit \\\nlibbz2-dev \\\nlibreadline-dev \\\nlibboost-all-dev \\\nlibcurl4-openssl-dev \\\nlibssl-dev \\\nlibncurses-dev \\\ndoxygen \\\nca-certificates \\\n&& \\\napt-get update -y && \\\n apt-get install --no-install-recommends -y fish && \\\napt-get clean && \\\nrm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nADD . /bitshares-core \nWORKDIR /bitshares-core \n\n# Compile \nRUN \\  \ngit submodule sync --recursive && \\  \ngit submodule update --init --recursive && \\  \ncmake \\  \n-DCMAKE_BUILD_TYPE=Release \\  \n. && \\  \nmake witness_node cli_wallet && \\  \nmake install && \\  \n#  \n# Obtain version  \nmkdir /etc/bitshares && \\  \ngit rev-parse --short HEAD > /etc/bitshares/version && \\  \ncd / && \\  \nrm -rf /bitshares-core \n\n# Home directory $HOME \nWORKDIR / \nRUN useradd -s /bin/bash -m -d /var/lib/bitshares bitshares \nENV HOME /var/lib/bitshares \nRUN chown bitshares:bitshares -R /var/lib/bitshares \n\n# Volume \nVOLUME [\"/var/lib/bitshares\", \"/etc/bitshares\"] \n\n# rpc service: \nEXPOSE 8090 \n# p2p service: \nEXPOSE 2001 \n# default exec/config files \nADD docker/default_config.ini /etc/bitshares/config.ini \nADD docker/bitsharesentry.sh /usr/local/bin/bitsharesentry.sh \nRUN chmod a+x /usr/local/bin/bitsharesentry.sh \n\n# default execute entry \nCMD /usr/local/bin/bitsharesentry.sh \n\n"
}