{
  "startTime": 1674242046489,
  "endTime": 1674242046844,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 14,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM coderstephen/php7:latest\n\nENV HOME=/root\nENV ATOUM_VERSION=~2.0\n\nRUN echo 'deb http://cz.archive.ubuntu.com/ubuntu utopic main universe' >> /etc/apt/sources.list && \\\n    apt-get update -y && \\\n    apt-get install --no-install-recommends -y wget git libzip-dev && rm -rf /var/lib/apt/lists/*;\n\nWORKDIR /usr/local/src/php\nENV PHP_DIR /usr/local/php\n\nRUN git pull origin && \\\n    ./buildconf && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n        --prefix=$PHP_DIR \\\n        --with-config-file-path=$PHP_DIR \\\n        --with-config-file-scan-dir=$PHP_DIR/conf.d \\\n        --with-apxs2=/usr/bin/apxs2 \\\n        --with-libdir=/lib/x86_64-linux-gnu \\\n        --with-zlib \\\n        --enable-mbstring \\\n        --with-openssl \\\n        --with-libzip --enable-zip \\\n        --without-pear && \\\n    make && \\\n    make install && \\\n    ln -sf /usr/local/php/bin/php /usr/local/bin/php && \\\n    ln -sf /usr/local/php/bin/phpize /usr/local/bin/phpize && \\\n    ln -sf /usr/local/php/bin/php-config /usr/local/bin/php-config\n\nRUN mkdir -p /usr/local/php/conf.d\nRUN echo \"memory_limit=-1\" >> /usr/local/php/conf.d/memory.ini && \\\n    echo \"date.timezone=Europe/Paris\" >> /usr/local/php/conf.d/date.timezone.ini\n\nRUN wget -O /usr/local/bin/composer https://getcomposer.org/composer.phar && \\\n    chmod +x /usr/local/bin/composer\n\nWORKDIR /usr/local/src\nRUN git clone https://github.com/FriendsOfPHP/pickle.git && \\\n    cd pickle && composer install --prefer-dist --optimize-autoloader --no-dev && \\\n    ln -sf /usr/local/src/pickle/bin/pickle /usr/local/bin/pickle && \\\n    chmod +x /usr/local/bin/pickle\n\nADD bin/entrypoint /sbin/entrypoint\nRUN chmod +x /sbin/entrypoint\n\nADD bin/atoum /usr/local/bin/atoum\nRUN chmod +x /usr/local/bin/atoum\n\nADD https://raw.githubusercontent.com/atoum/atoumsay/master/atoumsay /usr/local/bin/atoum-say\nRUN chmod +x /usr/local/bin/atoum-say\n\nRUN echo \"<?php\" > /.autoloaders.atoum.php\nRUN echo \"<?php\" > /.extensions.atoum.php\nADD files/.atoum.php /.atoum.php\nADD files/.bootstrap.atoum.php /.bootstrap.atoum.php\n\nRUN composer global require atoum/atoum:$ATOUM_VERSION\n\nVOLUME /src\nWORKDIR /src\n\nENTRYPOINT [\"/sbin/entrypoint\"]\n"
}