{
  "startTime": 1674249469755,
  "endTime": 1674249469890,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 43
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 43
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This Docker file is to create a CENTOS IMAGE for Ambari Node\n\nFROM docker.io/centos:centos6\nMAINTAINER Shivaji Dutta\n\nUSER root\n\nRUN sed -i -e 's/^tsflags=nodocs/#tsflags=nodocs/g' /etc/yum.conf\nRUN yum install -y epel-release && rm -rf /var/cache/yum\nRUN yum install -y dhclient openssh-server openssh-clients supervisor lsof which gcc && rm -rf /var/cache/yum\nRUN yum install -y sudo tar wget ntp passwd && rm -rf /var/cache/yum\n\n\n# update libselinux. see https://github.com/sequenceiq/hadoop-docker/issues/14\nRUN yum update -y libselinux\n\n# passwordless ssh\nRUN ssh-keygen -q -N \"\" -t dsa -f /etc/ssh/ssh_host_dsa_key\nRUN ssh-keygen -q -N \"\" -t rsa -f /etc/ssh/ssh_host_rsa_key\nRUN ssh-keygen -q -N \"\" -t rsa -f /root/.ssh/id_rsa\nRUN cp /root/.ssh/id_rsa.pub /root/.ssh/authorized_keys\n\nRUN /etc/init.d/sshd start\n\n\n# Hdfs ports\nEXPOSE 50010 50020 50070 50075 50090 8082 9000 50470\n# Mapred ports\nEXPOSE 19888 50030 8021 50060 51111\n#Other  ports\nEXPOSE 8030 8031 8032 8033 8040 8042 8088 8050 8025 8030 8141 45454 10200 8188 8190 19888 2888 3888 2181\n#Other ports\nEXPOSE 49707 2122 10000 9083 60000 60010 60020 60030 2888 3888 2181\nEXPOSE 50111 88 22 8050\n\n#Ambari port\nEXPOSE 8080\n\n# start the linux services\nRUN service ntpd start\nRUN service sshd start\n\nRUN yum install -y java-1.7.0-openjdk-devel && rm -rf /var/cache/yum\n\nRUN mkdir /usr/java\nRUN ln -s /etc/alternatives/java_sdk_1.7.0 /usr/java/default\n"
}