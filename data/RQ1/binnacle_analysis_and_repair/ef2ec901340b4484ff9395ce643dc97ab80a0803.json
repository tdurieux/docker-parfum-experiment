{
  "startTime": 1674251414012,
  "endTime": 1674251414074,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 11,
        "columnStart": 53,
        "columnEnd": 6
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM debian:stretch-slim \nMAINTAINER Xavier Priour <xavier.priour@assetsagacity.com> \n\nARG APP_USER=meteor \nARG APP_USER_DIR=/home/${APP_USER} \n\n# add packages for building NPM modules (required by Meteor) \nRUN DEBIAN_FRONTEND=noninteractive apt-get update && apt-get install --no-install-recommends -y \\\nbuild-essential \\\ncurl \\\ngit \\\npython \\\n&& apt-get autoremove \\\n&& apt-get clean \\\n&& rm -rf /var/lib/apt/lists/*\n\n# create a non-root user that can write to /usr/local (required by Meteor) \nRUN useradd -mUd ${APP_USER_DIR} ${APP_USER} \nRUN chown -Rh ${APP_USER} /usr/local \nUSER ${APP_USER} \n\n# install Meteor \nRUN curl -f https://install.meteor.com/ | sh\n# copy files needed to init the repo \nCOPY ./src/bin /usr/local/bin \nCOPY ./src/app $APP_USER_DIR \n\n# run Meteor from the app directory \nWORKDIR \"/app\" \n\n# meteor app listens to that port \nEXPOSE 3000 \n# application code - mount project root there \nVOLUME \"/app\" \n# meteor user home - optionally mount to cache meteor files between builds \nVOLUME \"/home/meteor\" \n# default command: meteor server \nCMD [ \"/usr/local/bin/server\" ]\n\n"
}