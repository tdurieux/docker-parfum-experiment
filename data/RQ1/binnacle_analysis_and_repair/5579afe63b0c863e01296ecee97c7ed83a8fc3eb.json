{
  "startTime": 1674235243253,
  "endTime": 1674235243439,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 33,
        "lineEnd": 41,
        "columnStart": 22,
        "columnEnd": 6
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "########## Dockerfile for V8 JavaScript version 6.0 #########\n#\n# This Dockerfile builds a basic installation of V8_JavaScript.\n#\n# V8 is Google's open source JavaScript engine.\n# V8 is written in C++ and is used in Google Chrome, the open source browser from Google.\n# V8 can run standalone, or can be embedded into any C++ application.\n#\n# To build this image, from the directory containing this Dockerfile\n# (assuming that the file is named Dockerfile):\n# docker build -t <image_name> .\n#\n# To Start V8_JavaScript run the below command:\n# docker run --name <container_name> -d <image>\n#\n# Reference:\n# https://github.com/v8/v8/wiki\n#\n##################################################################################\n\n# Base Image\nFROM s390x/ubuntu:16.04\n\n# The author\nMAINTAINER  LoZ Open Source Ecosystem (https://www.ibm.com/developerworks/community/groups/community/lozopensource)\n\nENV SOURCE_DIR=/tmp/source\nENV PATH=\"$SOURCE_DIR/depot_tools:$PATH\"\nENV VPYTHON_BYPASS=\"manually managed python not supported by chrome operations\"\n\nWORKDIR $SOURCE_DIR\n\n# Install dependencies\nRUN apt-get update && apt-get -y --no-install-recommends install \\\n\t\tg++ \\\n\t\tgcc \\\n\t\tgit \\\n\t\tmake \\\n\t\tpython \\\n\t\tsubversion \\\n\t\ttar \\\n\t\twget \\\n\n# Clone depot_tools from the Chromium project, as it contains a number of tools needed to build V8 6.0\n\t&& cd $SOURCE_DIR \\\n\t&& git clone --depth 1 https://chromium.googlesource.com/chromium/tools/depot_tools.git \\\n\n# Obtain the V8 source code\n\t&& fetch v8 \\\n\t&& cd v8/ \\\n\t&& git checkout 6.0.318 \\\n\t&& gclient sync \\\n\n# Build V8 Library and V8 shared library\n\t&& make s390x -j4 werror=no \\\n\t&& make s390x -j4 library=shared werror=no \\\n\n# V8 header files will be required to build products invoking the V8 APIs. Issue the following commands to install the header files\n\t&& cp -vR include/* /usr/include/ \\\n\t&& chmod 644 /usr/include/libplatform/libplatform.h \\\n\t&& chmod 644 /usr/include/v8*h \\\n\n# Install the V8 libraries into /usr/local/lib/\n\t&& cp -v out/s390x.release/lib.target/lib*.so /usr/local/lib/ \\\n\t&& chmod -f 755 /usr/local/lib/libv8.so \\\n\t&& cp -v out/s390x.release/obj.target/src/lib*.a /usr/local/lib/ \\\n\t&& cp -v out/s390x.release/obj.target/third_party/icu/lib*.a /usr/local/lib/ \\\n\t&& chmod -f 755 /usr/local/lib/libicu*.so \\\n\t&& chmod -f 644 /usr/local/lib/libv8*.a \\\n\n# Copy default config files\n\t&& mkdir -p /v8 \\\n\t&& cp -R $SOURCE_DIR/v8/include /v8 \\\n\t&& cp -R $SOURCE_DIR/v8/out/s390x.release /v8 \\\n\n# Clean up cache data and remove dependencies which are not required\n\t&& rm -rf $SOURCE_DIR \\\n\t&& apt-get -y remove \\\n\t\tgit \\\n\t\tmake \\\n\t\tsubversion \\\n\t\twget \\\n\t&& apt-get autoremove -y \\\n\t&& apt autoremove -y \\\n\t&& apt-get clean && rm -rf  /var/lib/apt/lists/*\n\nVOLUME /v8\n\nCMD /v8/s390x.release/v8_shell\n\n# End of Dockerfile\n"
}