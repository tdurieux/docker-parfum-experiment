{
  "startTime": 1674235126568,
  "endTime": 1674235126653,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 18,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 18,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM golang:alpine as builder\n\nWORKDIR /go/src/github.com/lomik/prometheus-png\n\nRUN apk --no-cache add make pkgconfig cairo-dev gcc g++\n\nCOPY . .\nRUN make\n\nFROM ubuntu:latest as fonts\nRUN apt update && apt install --no-install-recommends -y fonts-roboto && rm -rf /var/lib/apt/lists/*;\n\nFROM alpine:latest\n\nCOPY --from=fonts /usr/share/fonts/truetype/roboto/hinted /usr/share/fonts/ttf-roboto-hinted\n\nRUN apk --no-cache add ca-certificates cairo fontconfig ttf-dejavu ttf-freefont ttf-ubuntu-font-family && \\\n    fc-cache -f\n\nWORKDIR /\n\nEXPOSE 8080/tcp\n\nCOPY --from=builder /go/src/github.com/lomik/prometheus-png/prometheus-png /usr/bin/prometheus-png\n\nENTRYPOINT [\"prometheus-png\"]\n"
}