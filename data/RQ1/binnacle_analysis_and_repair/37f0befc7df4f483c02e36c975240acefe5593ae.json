{
  "startTime": 1674239792243,
  "endTime": 1674239792643,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 2,
        "columnEnd": 47
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 2,
        "columnEnd": 22
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 2,
        "columnEnd": 26
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 2,
        "columnEnd": 123
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 2,
        "columnEnd": 89
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 72
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 86
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 83,
        "lineEnd": 83,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 4,
        "columnEnd": 78
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 86,
        "lineEnd": 86,
        "columnStart": 4,
        "columnEnd": 80
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 90,
        "lineEnd": 90,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 91,
        "lineEnd": 91,
        "columnStart": 4,
        "columnEnd": 81
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 80
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 31,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 124
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 2,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 2,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 124
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 2,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 31,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 124
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 2,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 105
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 31,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 124
      }
    }
  ],
  "repairedDockerfile": "#\n# jenkins 1.6x (http://jenkins-ci.org)\n#\n# build:\n#   docker build --force-rm=true -t subicura/jenkins .\n# run:\n#   docker run -p 80:8080 -v /home/ubuntu/jenkins:/app/jenkins \\\n#                         -v /var/run/docker.sock:/var/run/docker.sock \\\n#                         -v /usr/bin/docker:/usr/bin/docker \\\n#                         -d subicura/jenkins\n#\n\nFROM subicura/ubuntu:14.04\nMAINTAINER chungsub.kim@purpleworks.co.kr\n\nENV DEBIAN_FRONTEND noninteractive\nENV TOMCAT_VERSION=7.0.76\nENV JENKINS_VERSION=1.651.3\n\n# update ubuntu latest\nRUN echo \"2017.03.19\"\nRUN \\\n  apt-get -qq update && \\\n  apt-get -qq -y dist-upgrade\n\n# install essential packages\nRUN \\\n  apt-get -qq --no-install-recommends -y install build-essential software-properties-common git wget curl && rm -rf /var/lib/apt/lists/*;\n\n# install dev library\nRUN \\\n  apt-get -qq --no-install-recommends -y install bison openssl telnet libreadline6 libreadline6-dev curl libcurl3 libcurl3-gnutls libcurl4-openssl-dev \\\n    git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev \\\n    libxslt-dev autoconf libc6-dev ncurses-dev libffi-dev libmysqlclient-dev imagemagick libmagickcore-dev libmagickwand-dev && rm -rf /var/lib/apt/lists/*;\n\n# install java\nRUN \\\n  echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && \\\n  add-apt-repository -y ppa:webupd8team/java && \\\n  apt-get -qq update && \\\n  apt-get -qq --no-install-recommends -y install oracle-java7-installer && \\\n  rm -rf /var/lib/apt/lists/* && \\\n  rm -rf /var/cache/oracle-jdk7-installer\nENV JAVA_HOME /usr/lib/jvm/java-7-oracle\n\n# install tomcat\nRUN \\\n  mkdir /app && \\\n  cd /app && \\\n  wget -q -O - https://archive.apache.org/dist/tomcat/tomcat-7/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz | tar xfz - && \\\n  ln -s apache-tomcat-${TOMCAT_VERSION} tomcat\n\n# install jenkins\nRUN \\\n  cd /app/tomcat/webapps && \\\n  rm -rf * && \\\n  wget -q https://mirrors.jenkins.io/war-stable/${JENKINS_VERSION}/jenkins.war -O ROOT.war\n\n# install rbenv\nRUN \\\n  git clone https://github.com/sstephenson/rbenv.git ~/.rbenv && \\\n  mkdir -p ~/.rbenv/plugins && \\\n  git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n\n# install node\nRUN \\\n  curl -f -sL https://deb.nodesource.com/setup_6.x | bash - && \\\n  apt-get -qq --no-install-recommends -y install nodejs && \\\n  npm install -g bower && \\\n  npm install -g grunt-cli && npm cache clean --force; && rm -rf /var/lib/apt/lists/*;\n\n# setup jenkins\nWORKDIR /app\nENV JENKINS_HOME /app/jenkins/home\n\n# add plugins\nRUN mkdir -p /app/plugins\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/scm-api.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/git.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/git-client.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/git-server.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/workflow-step-api.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/ssh-agent.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/slack.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/violations.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/ansicolor.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/gitlab-hook.hpi\n\n# add plugins (ruby)\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/rbenv.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/rake.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/ruby-runtime.hpi\nRUN wget -q -P /app/plugins https://updates.jenkins-ci.org/latest/rubyMetrics.hpi\n\n# env\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\nENV TERM xterm\n\n# volume\nVOLUME [\"/app/jenkins\"]\n\n# expose\nEXPOSE 8080\n\n# run\nRUN ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime\nADD run.sh /app/run.sh\nCMD /app/run.sh\n\n"
}