{
  "startTime": 1674248236537,
  "endTime": 1674248236654,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 2,
        "columnEnd": 52
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM        kintoandar/centos-6.5-x86_64:latest\nMAINTAINER  Joel Bastos <kintoandar@gmail.com>\n\nRUN rpm -ivh http://mirrors.nl.eu.kernel.org/fedora-epel/6/i386/epel-release-6-8.noarch.rpm && \\\n  rpm -ivh http://dev.mysql.com/get/mysql57-community-release-el6-7.noarch.rpm && \\\n  yum install golang nginx git mysql mysql-server -y && rm -rf /var/cache/yum\nCOPY [\"setup.sql\", \".my.cnf\", \"mixer.conf\", \"/root/\"]\nENV GOPATH /usr/share/gocode\nWORKDIR $GOPATH\nRUN go get github.com/etsy/mixer && \\\n  cd $GOPATH/src/github.com/etsy/mixer && \\\n  cp config.cfg.sample config.cfg && \\\n  cp config-secrets.cfg.sample config-secrets.cfg && \\\n  sed -i '/password/d' config-secrets.cfg && echo 'password=\"changeme\"' >> config-secrets.cfg && \\\n  sed -i '/sysconfig\\/network/d' /etc/init.d/mysqld && \\\n  /etc/init.d/mysqld start && chkconfig mysqld on && sleep 5 && \\\n  grep 'temporary password' /var/log/mysqld.log|awk -F \": \" {'print \"password=\"$2'} >> /root/.my.cnf && \\\n  mysql -u root --connect-expired-password < /root/setup.sql && \\\n  sed -i '/password/d' /root/.my.cnf && echo 'password=changemePLEASE' >> /root/.my.cnf && \\\n  /etc/init.d/mysqld stop && \\\n  sed -i '/sysconfig\\/network/d' /etc/init.d/nginx && \\\n  mv /root/mixer.conf /etc/nginx/conf.d/ && chkconfig nginx on\nEXPOSE 8080\nCMD /etc/init.d/mysqld start && /etc/init.d/nginx start && cd $GOPATH/src/github.com/etsy/mixer/ && go run mixer.go\n"
}