{
  "startTime": 1674234216256,
  "endTime": 1674234216705,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 53,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 94,
        "lineEnd": 94,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 95,
        "lineEnd": 95,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 96,
        "lineEnd": 96,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 96
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 115,
        "lineEnd": 115,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 90,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 98,
        "lineEnd": 114,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 90,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 98,
        "lineEnd": 114,
        "columnStart": 4,
        "columnEnd": 19
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 73
      }
    }
  ],
  "repairedDockerfile": "FROM phusion/baseimage:0.9.15\n\nENV HOME /root\n\nCMD [\"/sbin/my_init\"]\n\nRUN apt-get update\n\n# RUN apt-get install -yy libxml2\n\n# Install dependencies\nRUN apt-get install --no-install-recommends -yy \\\n    libxml2 \\\n    cmake \\\n    flex \\\n    g++ \\\n    gfortran \\\n    git \\\n    ipython \\\n    libatlas-base-dev \\\n    libboost-all-dev \\\n    libcln-dev \\\n    libcppunit-dev \\\n    libeigen3-dev \\\n    libginac-dev \\\n    liblapack-dev \\\n    libmpfr-dev \\\n    libopenmpi-dev \\\n    petsc-dev \\\n    libptscotch-dev \\\n    libsuitesparse-dev \\\n    openmpi-bin \\\n    pkg-config \\\n    python-dev \\\n    python-numpy \\\n    python-scientific \\\n    python-pip \\\n    python-six \\\n    python-vtk \\\n    subversion \\\n    swig \\\n    wget \\\n    bison \\\n    libhwloc-dev \\\n    python-ply \\\n    libvtk5-dev \\\n    python-netcdf \\\n    libhdf5-openmpi-dev \\\n    libeigen3-dev \\\n    libcgal-dev \\\n    unzip && rm -rf /var/lib/apt/lists/*;\n\n# Install sympy using pip instead of Ubuntu packages, much smaller footprint.\nRUN pip install --no-cache-dir sympy\n\nRUN apt-get -y --no-install-recommends install python-software-properties && \\\n    apt-get -y --no-install-recommends install software-properties-common && \\\n    add-apt-repository ppa:fenics-packages/fenics && \\\n    apt-get update && \\\n    apt-get -y --no-install-recommends install fenics && \\\n    apt-get -y --no-install-recommends install cython python-h5py && rm -rf /var/lib/apt/lists/*;\n\n\n# Cleanup to save space\nRUN apt-get clean && \\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# Set the HOME environment variable, otherwise import dolfin crashes\n#RUN echo \"/root\" > /etc/container_environment/HOME\n\n# Enable X11 forwarding for plotting\n# RUN echo \"X11Forwarding yes\" >> /etc/ssh/sshd_config\n\n# Set LIBGL_ALWAYS_INDIRECT to suppress libGL warning message.\n#RUN echo \"y\" > /etc/container_environment/LIBGL_ALWAYS_INDIRECT\n\n# Put environment variables into\n#RUN echo \"source /usr/local/share/dolfin/dolfin.conf\" >> /etc/bash.bashrc # not needed, causes errors\n\n#..................................................................................\n\n# Install packages for StochSS\n\nRUN wget https://github.com/StochSS/stochss/archive/develop.tar.gz && \\\n    tar xfz develop.tar.gz && \\\n    mv stochss-develop stochss-master && \\\n    cd stochss-master && \\\n    apt-get update && \\\n    apt-get install --no-install-recommends -yy curl && \\\n    apt-get install --no-install-recommends -yy libbz2-dev && \\\n    apt-get install --no-install-recommends -yy uuid-runtime \\\n    libpng12-dev \\\n    libffi-dev && \\\n    pip install --no-cache-dir python-libsbml && \\\n    pip install --no-cache-dir boto && \\\n    pip install --no-cache-dir celery && \\\n    pip install --no-cache-dir setuptools --upgrade && \\\n    pip install --no-cache-dir http://cdn.mysql.com/Downloads/Connector-Python/mysql-connector-python-2.0.4.zip && \\\n    apt-get -yy --no-install-recommends install \\\n    gcc-multilib \\\n    gcc \\\n    g++ \\\n    make \\\n    libxml2-dev \\\n    git \\\n    r-base-core \\\n    libgsl0-dev \\\n    build-essential \\\n    python-dev \\\n    python-setuptools \\\n    cython \\\n    libbz2-dev \\\n    vim \\\n    docker \\\n    libhdf5-mpi-dev && \\\n    pip install --no-cache-dir docker-py && \\\n    chmod 777 run.ubuntu.sh && \\\n    ./run.ubuntu.sh --install && rm develop.tar.gz && rm -rf /var/lib/apt/lists/*;\n#md5=3df394d89300db95163f17c843ef49df\nEXPOSE 8000\nEXPOSE 8080\n\nCMD [\"./stochss-master/run.ubuntu.sh\", \"-yy\", \"-a\", \"0.0.0.0\"]"
}