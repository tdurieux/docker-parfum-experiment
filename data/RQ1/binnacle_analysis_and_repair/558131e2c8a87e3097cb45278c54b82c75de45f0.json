{
  "startTime": 1674244683499,
  "endTime": 1674244683581,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 5,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 22
      }
    }
  ],
  "repairedDockerfile": "# this buld the base image to run comic_dl\nFROM python:3.6.5-stretch AS base\nRUN DEBIAN_FRONTEND=noninteractive apt-get update && apt-get -yq upgrade\n# update system & install basisc stuff\n#        and dependencies for phantomjs\nRUN DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -yq \\\n    build-essential chrpath libssl-dev libxft-dev \\\n         libfreetype6 libfreetype6-dev libfontconfig1 libfontconfig1-dev \\\n    wget nodejs-legacy && rm -rf /var/lib/apt/lists/*;\n\n# We're not using PhantomJS anymore. So, this step should be removed for now.\n# install phantomjs and symlink to /usr/local/bin/\n#RUN wget -q https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2 && \\\n#    tar xvjf phantomjs-2.1.1-linux-x86_64.tar.bz2 -C /usr/local/share/ && \\\n#    ln -s /usr/local/share/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/\n\n# This install comic-dl and symlink to comic_dl command\nFROM base\nCOPY / /opt/comic-dl\nRUN python -m pip install -r /opt/comic-dl/requirements.txt && \\\n    chmod +x /opt/comic-dl/comic_dl/__main__.py  && \\\n    ln -s /opt/comic-dl/comic_dl/__main__.py /usr/local/bin/comic_dl\n"
}