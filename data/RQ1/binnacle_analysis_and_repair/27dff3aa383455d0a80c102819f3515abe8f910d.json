{
  "startTime": 1674241919711,
  "endTime": 1674241919943,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 22,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 22,
        "columnEnd": 52
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "############################################################################\n# (C) Copyright IBM Corporation 2015.                                      #\n#                                                                          #\n# Licensed under the Apache License, Version 2.0 (the \"License\");          #\n# you may not use this file except in compliance with the License.         #\n# You may obtain a copy of the License at                                  #\n#                                                                          #\n#      http://www.apache.org/licenses/LICENSE-2.0                          #\n#                                                                          #\n# Unless required by applicable law or agreed to in writing, software      #\n# distributed under the License is distributed on an \"AS IS\" BASIS,        #\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. #\n# See the License for the specific language governing permissions and      #\n# limitations under the License.                                           #\n#                                                                          #\n############################################################################\n\nFROM ubuntu:16.04\n\nMAINTAINER Kavitha Suresh Kumar <kavisuresh@in.ibm.com>\n\nRUN apt-get update && apt-get install --no-install-recommends -y unzip wget && rm -rf /var/lib/apt/lists/*;\n\nARG URL\n\n######################### Installation Manager #############################\n\n# Install Installation Manager\nRUN wget -q $URL/Install_Mgr_v1.6.2_Lnx_WASv8.5.5.zip -O /tmp/IM.zip \\\n    && mkdir /tmp/im &&  unzip -qd /tmp/im /tmp/IM.zip \\\n    && /tmp/im/installc -acceptLicense -accessRights admin \\\n      -installationDirectory \"/opt/IBM/InstallationManager\"  \\\n      -dataLocation \"/var/ibm/InstallationManager\" -showProgress \\\n    && rm -fr /tmp/IM.zip /tmp/im\n\n######################### IBM HTTP Server ##################################\n\n# Install IBM HTTP Server\nRUN mkdir /tmp/supp \\\n    && wget -q $URL/WAS_V8.5.5_SUPPL_1_OF_3.zip -O /tmp/supp1.zip \\\n    && wget -q $URL/WAS_V8.5.5_SUPPL_2_OF_3.zip -O /tmp/supp2.zip \\\n    && wget -q $URL/WAS_V8.5.5_SUPPL_3_OF_3.zip -O /tmp/supp3.zip \\\n    && unzip  -qd /tmp/supp /tmp/supp1.zip \\\n    && unzip  -qd /tmp/supp /tmp/supp2.zip \\\n    && unzip  -qd /tmp/supp /tmp/supp3.zip \\\n    && rm /tmp/supp1.zip /tmp/supp2.zip /tmp/supp3.zip \\\n    && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress \\\n      -acceptLicense  install com.ibm.websphere.IHS.v85 \\\n      -repositories /tmp/supp/repository.config  \\\n      -installationDirectory /opt/IBM/HTTPServer \\\n      -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n\n##################### IBM HTTPServer Fixpack ##################################\n\n# Install IBM HTTP Server Fixpack\nRUN mkdir /tmp/suppfp \\\n    && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part1.zip -O /tmp/spart1.zip \\\n    && wget -q $URL/8.5.5-WS-WASSupplements-FP0000009-part2.zip -O /tmp/spart2.zip \\\n    && unzip  -qd /tmp/suppfp /tmp/spart1.zip \\\n    && unzip  -qd /tmp/suppfp /tmp/spart2.zip \\\n    && rm /tmp/spart1.zip /tmp/spart2.zip \\\n    && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress \\\n      -acceptLicense  install com.ibm.websphere.IHS.v85 \\\n      -repositories /tmp/suppfp/repository.config  \\\n      -installationDirectory /opt/IBM/HTTPServer \\\n      -properties \"user.ihs.httpPort=80,user.ihs.allowNonRootSilentInstall=true\"\n\n########################## WebServer Plugins  ##################################\n\n# Install WebServer Plugins\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress \\\n      -acceptLicense  install com.ibm.websphere.PLG.v85 \\\n      -repositories /tmp/supp/repository.config  \\\n      -installationDirectory /opt/IBM/WebSphere/Plugins\n\n##################### WebServer Plugins Fixpack ################################\n\n# Install WebServer Plugins Fixpack\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress \\\n      -acceptLicense  install com.ibm.websphere.PLG.v85 \\\n      -repositories /tmp/suppfp/repository.config  \\\n      -installationDirectory /opt/IBM/WebSphere/Plugins \\\n    && rm -fr /opt/IBM/WebSphere/Plugins/java /tmp/suppfp\n\n####################### WebSphere Customization Tools ##########################\n\n# Install IBM WebSphere Customization Tools\nRUN /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress \\\n      -acceptLicense  install com.ibm.websphere.WCT.v85 \\\n      -repositories /tmp/supp/repository.config  \\\n      -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n    && rm -fr /tmp/supp\n\n###################### WebSphere Customization Tools Fixpack ###################\n\n# Install IBM WebSphere Customization Tools Fixpack\nRUN mkdir /tmp/wct \\\n    && wget -q $URL/8.5.5-WS-WCT-FP0000009-part1.zip -O /tmp/wct1.zip \\\n    && wget -q $URL/8.5.5-WS-WCT-FP0000009-part2.zip -O /tmp/wct2.zip \\\n    && unzip  -qd /tmp/wct /tmp/wct1.zip \\\n    && unzip  -qd /tmp/wct /tmp/wct2.zip \\\n    && rm /tmp/wct1.zip /tmp/wct2.zip \\\n    && /opt/IBM/InstallationManager/eclipse/tools/imcl -showProgress \\\n      -acceptLicense  install com.ibm.websphere.WCT.v85 \\\n      -repositories /tmp/wct/repository.config  \\\n      -installationDirectory /opt/IBM/WebSphere/Toolbox \\\n    && rm -fr /tmp/wct\n\nCMD [\"tar\",\"cvf\",\"/tmp/ihs_plg_wct.tar\",\"/opt/IBM/HTTPServer\",\"/opt/IBM/WebSphere/Plugins\",\"/opt/IBM/WebSphere/Toolbox\"]\n"
}