{
  "startTime": 1674252185056,
  "endTime": 1674252185394,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 81
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM openjdk:8\nLABEL maintainer=\"jfloff@inesc-id.pt\"\n\n###################\n# This Dockerfile was based on the following Dockerfiles\n# - docker-lineageos: existing unoptimized image\n#    https://github.com/AnthoDingo/docker-lineageos/blob/autobuild/Dockerfile\n#\n\n# default user\nENV USER=lineageos\nENV \\\n    # base dir\n    BASE_DIR=/home/$USER \\\n    # device configuration dir\n    DEVICE_CONFIGS_DIR=/home/device-config\n\n# install packages\nRUN set -ex ;\\\n    apt-get update && apt-get install -y --no-install-recommends \\\n          # install sdk\n          # https://wiki.lineageos.org/devices/klte/build#install-the-build-packages\n          android-sdk-platform-tools-common \\\n          android-tools-adb \\\n          android-tools-fastboot \\\n          # install packages\n          # https://wiki.lineageos.org/devices/klte/build#install-the-build-packages\n          bc \\\n          bison \\\n          build-essential \\\n          flex \\\n          g++-multilib \\\n          gcc-multilib \\\n          git \\\n          gnupg \\\n          gperf \\\n          imagemagick \\\n          lib32ncurses5-dev \\\n          lib32readline-dev \\\n          lib32z1-dev \\\n          libesd0-dev \\\n          liblz4-tool \\\n          libncurses5-dev \\\n          libsdl1.2-dev \\\n          libssl-dev \\\n          libwxgtk3.0-dev \\\n          libxml2 \\\n          libxml2-utils \\\n          lzop \\\n          pngcrush \\\n          rsync \\\n          schedtool \\\n          squashfs-tools \\\n          xsltproc \\\n          zip \\\n          zlib1g-dev \\\n          # extra packages\n          # for git-repo from google\n          python \\\n          # for ps command\n          procps \\\n          # no less on debian *gasp!*\n          less \\\n          # so we have an editor inside the container\n          vim \\\n          # has 'col' package needed for 'breakfast'\n\t      bsdmainutils \\\n          # we can't build kernel on root (like docker runs)\n          # we add these so we have a non-root user\n          fakeroot \\\n\t      sudo \\\n          ;\\\n    rm -rf /var/lib/apt/lists/*\n\n# run config in a seperate layer so we cache it\nRUN set -ex ; \\\n    # User setup\n    # add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added\n    groupadd -r lineageos && useradd -r -g lineageos lineageos && usermod -u 1000 lineageos ; \\\n    # allow non-root user to remount fs\n    # adding ALL permissions so they can do other stuff in the future, like sudo vim\n    echo \"lineageos ALL=NOPASSWD: ALL\" >> /etc/sudoers ; \\\n    # Android Setup\n    # create paths: https://wiki.lineageos.org/devices/klte/build#create-the-directories\n    curl -f https://storage.googleapis.com/git-repo-downloads/repo > /usr/bin/repo; \\\n    chmod a+x /usr/bin/repo ; \\\n    # config git coloring\n    # check this link for things repo check:\n    # https://gerrit.googlesource.com/git-repo/+/master/subcmds/init.py#328\n    git config --global color.ui true ; \\\n    # source init when any bash is called (which includes the lineageos script)\n    echo \"source /etc/profile.d/init.sh\" >> /etc/bash.bashrc\n\n# copy default configuration into container\nCOPY default.env init.sh /etc/profile.d/\n# copy script and config vars\nCOPY lineageos /bin\n# copy dir with several PRed device configurations\nCOPY device-config $DEVICE_CONFIGS_DIR\n\n# set volume and user home folder\nUSER $USER\nWORKDIR $BASE_DIR\n\nCMD /bin/bash"
}