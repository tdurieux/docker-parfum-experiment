{
  "startTime": 1674245360225,
  "endTime": 1674245360676,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 75
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 58
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:xenial\nMAINTAINER obscur95 <obscur95@gmail.com>\n#\nENV DEBIAN_FRONTEND noninteractive \\\n\tDEBCONF_NONINTERACTIVE_SEEN true\n#\n#Configuration de la langue FR\n#\nRUN locale-gen fr_FR.UTF-8\nENV LANG fr_FR.UTF-8\nENV LANGUAGE fr_FR:fr\nENV LC_ALL fr_FR.UTF-8\n#\n#\n#Creation des repertoires\n#\nRUN mkdir /home/gns3 \\\n\t&& mkdir /home/gns3/GNS3 \\\n\t&& mkdir /home/gns3/GNS3/images \\\n\t&& mkdir /home/gns3/GNS3/images/IOS \\\n\t&& mkdir /home/gns3/GNS3/images/IOU \\\n\t&& mkdir /home/gns3/GNS3/images/QEMU \\\n\t&& mkdir /home/gns3/GNS3/images/QEMU/CSR1000v \\\n\t&& mkdir /home/gns3/GNS3/images/QEMU/Fortigate \\\n\t&& mkdir /home/gns3/GNS3/images/QEMU/PC \\\n\t&& mkdir /home/gns3/GNS3/projects\n#\n#Copie du fichier sources.list\n#\nCOPY sources.list /etc/apt/sources.list\n#\n#Mise a jour de la distribution\n#\nRUN dpkg --add-architecture i386 \\\n\t&& apt-get update \\\n\t&& apt-get -y dist-upgrade\n#\n#Installation des packages\n#\nRUN apt-get -y --no-install-recommends install libc6:i386 libstdc++6:i386 \\\n\t&& apt-get -y --no-install-recommends install libssl1.0.0:i386 \\\n\t&& apt-get -y --no-install-recommends install lsb-release telnet traceroute tcpdump net-tools vim nano \\\n\t&& apt-get -y --no-install-recommends install git bison flex \\\n\t&& apt-get -y --no-install-recommends install python3-setuptools python3.5 \\\n\t&& apt-get -y --no-install-recommends install python3-pip \\\n\t&& python3.5 -m pip install -U pip && rm -rf /var/lib/apt/lists/*;\n#\n#Pre-requis GNS3 server\n#\nRUN apt-get -y --no-install-recommends install qemu-kvm qemu-system-x86 vpcs dynamips uuid-runtime \\\n\t&& cd /tmp; rm -rf /var/lib/apt/lists/*; git clone http://github.com/ndevilla/iniparser.git ; cd iniparser ; make \\\n\t&& cp /tmp/iniparser/libiniparser.* /usr/lib/ \\\n\t&& cp /tmp/iniparser/src/iniparser.h /usr/local/include \\\n\t&& cp /tmp/iniparser/src/dictionary.h /usr/local/include \\\n\t&& cd /tmp ; git clone https://github.com/GNS3/iouyap.git ; cd iouyap ; make ; make install \\\n\t&& apt-get -y --no-install-recommends install libpcap-dev \\\n\t&& cd /tmp; git clone https://github.com/GNS3/ubridge.git ; cd ubridge ; make ; make install \\\n\t&& cd / \\\n\t&& ln -s /lib/i386-linux-gnu/libcrypto.so.1.0.0 /lib/i386-linux-gnu/libcrypto.so.4\n#\n#Installation de GNS3 server\n#\nRUN python3.5 -m pip install gns3-server\n#\n#Copie du fichier de configuration de GNS3 server\n#\nCOPY GNS3.conf /etc/xdg/GNS3.conf\n#\n#Copie des images IOS\n#\nCOPY IOS/c3745-advipservicesk9-mz.124-25d.bin /home/gns3/GNS3/images/IOS/c3745-advipservicesk9-mz.124-25d.bin\nCOPY IOS/c7200-adventerprisek9-mz.124-15.T17.bin /home/gns3/GNS3/images/IOS/c7200-adventerprisek9-mz.124-15.T17.bin\nCOPY IOS/c7200-adventerprisek9-mz.152-4.S7.bin /home/gns3/GNS3/images/IOS/c7200-adventerprisek9-mz.152-4.S7.bin\n#\n#Copie des images IOU\n#\nCOPY IOU/CiscoIOUKeygen.py /home/gns3/GNS3/images/IOU/CiscoIOUKeygen.py\nCOPY IOU/i86bi-linux-l2-adventerprisek9-15.6.0.9S.bin /home/gns3/GNS3/images/IOU/i86bi-linux-l2-adventerprisek9-15.6.0.9S.bin\nCOPY IOU/i86bi-linux-l2-ipbasek9-15.1g.bin /home/gns3/GNS3/images/IOU/i86bi-linux-l2-ipbasek9-15.1g.bin\nCOPY IOU/i86bi-linux-l3-adventerprisek9-15.5.2T.bin /home/gns3/GNS3/images/IOU/i86bi-linux-l3-adventerprisek9-15.5.2T.bin\n#\n#Copie des images QEMU\n#\nCOPY QEMU/CSR1000v/csr1000v_harddisk.vmdk /home/gns3/GNS3/images/QEMU/CSR1000v/csr1000v_harddisk.vmdk\nCOPY QEMU/CSR1000v/csr1000v-universalk9.03.16.04b.S.155-3.S4b-ext.iso /home/gns3/GNS3/images/QEMU/CSR1000v/csr1000v-universalk9.03.16.04b.S.155-3.S4b-ext.iso\nCOPY QEMU/Fortigate/fortios_5.4.2.qcow2 /home/gns3/GNS3/images/QEMU/Fortigate/fortios_5.4.2.qcow2\nCOPY QEMU/Fortigate/fortigate_p10G.qcow2 /home/gns3/GNS3/images/QEMU/Fortigate/fortigate_p10G.qcow2\nCOPY QEMU/PC/TinyCore-current.iso /home/gns3/GNS3/images/QEMU/PC/TinyCore-current.iso\nCOPY QEMU/PC/TinyCore-hda.qcow2 /home/gns3/GNS3/images/QEMU/PC/TinyCore-hda.qcow2\n#\n#Rends executable les images IOS et IOU\n#\nRUN chmod +x /home/gns3/GNS3/images/IOS/c3745-advipservicesk9-mz.124-25d.bin \\\n\t&& chmod +x /home/gns3/GNS3/images/IOS/c7200-adventerprisek9-mz.124-15.T17.bin \\\n\t&& chmod +x /home/gns3/GNS3/images/IOS/c7200-adventerprisek9-mz.152-4.S7.bin \\\n\t&& chmod +x /home/gns3/GNS3/images/IOU/i86bi-linux-l2-adventerprisek9-15.6.0.9S.bin \\\n\t&& chmod +x /home/gns3/GNS3/images/IOU/i86bi-linux-l2-ipbasek9-15.1g.bin \\\n\t&& chmod +x /home/gns3/GNS3/images/IOU/i86bi-linux-l3-adventerprisek9-15.5.2T.bin\n#\n#Ouverture des ports\n#\nEXPOSE 3080 4000-4050 5900-5910\n#\n#Copie du fichier de demarrage\n#\nCOPY startup.sh /home/gns3/startup.sh\nRUN chmod a+x /home/gns3/startup.sh\n#\nENTRYPOINT cd /home/gns3 ; ./startup.sh\n#\n"
}