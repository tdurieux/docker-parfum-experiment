{
  "startTime": 1674246743357,
  "endTime": 1674246743740,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 29,
        "lineEnd": 30,
        "columnStart": 7,
        "columnEnd": 105
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 39,
        "lineEnd": 40,
        "columnStart": 7,
        "columnEnd": 71
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 7,
        "columnEnd": 18
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 32,
        "lineEnd": 34,
        "columnStart": 7,
        "columnEnd": 28
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 41,
        "lineEnd": 43,
        "columnStart": 7,
        "columnEnd": 25
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BUILD_FROM=hassioaddons/base:4.0.1\n# hadolint ignore=DL3006\nFROM ${BUILD_FROM}\n\n# Set shell\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n\n# Setup base\n# hadolint ignore=DL3003\nRUN \\\n    apk add --no-cache --virtual .build-dependencies \\\n        build-base=0.5-r1 \\\n        git=2.22.0-r0 \\\n        linux-headers=4.19.36-r0 \\\n        npm=10.16.0-r0 \\\n        openzwave-dev=1.4.164-r4 \\\n        python2-dev~=2.7 \\\n        yarn=1.16.0-r0 \\\n    \\\n    && apk add --no-cache \\\n        eudev=3.2.8-r0 \\\n        libusb=1.0.22-r0 \\\n        lua-resty-http=0.13-r0 \\\n        nginx-mod-http-lua=1.16.0-r2 \\\n        nginx=1.16.0-r2 \\\n        nodejs=10.16.0-r0 \\\n        openssl=1.1.1c-r0 \\\n        openzwave=1.4.164-r4 \\\n\n    && curl -f -J -L -o /tmp/openzwave-db.tar.gz \\\n        \"https://github.com/OpenZWave/open-zwave/archive/3d6374c831998595744cc34ef862a80ee51973c9.tar.gz\" \\\n    && mkdir /tmp/db \\\n    && tar zxvf \\\n        /tmp/openzwave-db.tar.gz \\\n        --strip 1 -C /tmp/db \\\n\n    && mkdir /usr/etc \\\n    && mv /tmp/db/config /usr/etc/openzwave \\\n\n    && curl -f -J -L -o /tmp/zwave2mqtt.tar.gz \\\n        \"https://github.com/OpenZWave/Zwave2Mqtt/archive/v1.1.2.tar.gz\" \\\n    && tar zxvf \\\n        /tmp/zwave2mqtt.tar.gz \\\n        --strip 1 -C /opt \\\n\n    && cd /opt \\\n    && npm config set unsafe-perm \\\n    && npm install \\\n    && npm run build \\\n    && npm prune --production \\\n\n    && yarn global add modclean \\\n    && modclean \\\n        --path /opt \\\n        --no-progress \\\n        --keep-empty \\\n        --run \\\n    && yarn global remove modclean \\\n    && yarn cache clean \\\n\n    && apk del --purge .build-dependencies \\\n\n    && rm -f -r \\\n        /etc/nginx \\\n        /etc/openzwave \\\n        /root/.node-gyp \\\n        /root/.npm \\\n        /tmp/.[!.]* \\\n        /tmp/* \\\n        /usr/lib/node_modules \\\n        /usr/local/share/.cache && npm cache clean --force; && rm /tmp/openzwave-db.tar.gz\n\n# Copy root filesystem\nCOPY rootfs /\n\n# Build arguments\nARG BUILD_ARCH\nARG BUILD_DATE\nARG BUILD_REF\nARG BUILD_VERSION\n\n# Labels\nLABEL \\\n    io.hass.name=\"Z-Wave to MQTT\" \\\n    io.hass.description=\"Fully configurable Z-Wave to MQTT gateway and control panel.\" \\\n    io.hass.arch=\"${BUILD_ARCH}\" \\\n    io.hass.type=\"addon\" \\\n    io.hass.version=${BUILD_VERSION} \\\n    maintainer=\"Franck Nijhof <frenck@addons.community>\" \\\n    org.label-schema.description=\"Fully configurable Z-Wave to MQTT gateway and control panel.\" \\\n    org.label-schema.build-date=${BUILD_DATE} \\\n    org.label-schema.name=\"Z-Wave to MQTT\" \\\n    org.label-schema.schema-version=\"1.0\" \\\n    org.label-schema.url=\"https://community.home-assistant.io/t/community-hass-io-add-on-z-wave-to-mqtt/115899?u=frenck\" \\\n    org.label-schema.usage=\"https://github.com/hassio-addons/addon-zwave2mqtt/tree/master/README.md\" \\\n    org.label-schema.vcs-ref=${BUILD_REF} \\\n    org.label-schema.vcs-url=\"https://github.com/hassio-addons/addon-zwave2mqtt\" \\\n    org.label-schema.vendor=\"Community Hass.io Add-ons\"\n"
}