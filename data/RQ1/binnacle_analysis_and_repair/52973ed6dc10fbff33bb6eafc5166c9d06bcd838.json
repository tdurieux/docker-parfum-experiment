{
  "startTime": 1674240493904,
  "endTime": 1674240494002,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 52
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 76
      }
    }
  ],
  "repairedDockerfile": "FROM ruby:2.4\nLABEL maintainer=\"AKIKO TAKANO / (Twitter: @akiko_pusu)\" \\\n  description=\"Image to run Redmine simply with sqlite to try/review plugin.\"\n\n### get Redmine source\n### Replace shell with bash so we can source files ###\nRUN rm /bin/sh && ln -s /bin/bash /bin/sh\n\n### install default sys packeges ###\n\nRUN apt-get update\nRUN apt-get install --no-install-recommends -qq -y \\\n    git vim subversion \\\n    sqlite3 default-libmysqlclient-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -qq -y build-essential libc6-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN cd /tmp && svn co http://svn.redmine.org/redmine/branches/3.4-stable/ redmine\nWORKDIR /tmp/redmine\n\n\n# add database.yml (for development, development with mysql, test)\nRUN echo $'test:\\n\\\n  adapter: sqlite3\\n\\\n  database: /tmp/data/redmine_test.sqlite3\\n\\\n  encoding: utf8mb4\\n\\\ndevelopment:\\n\\\n  adapter: sqlite3\\n\\\n  database: /tmp/data/redmine_development.sqlite3\\n\\\n  encoding: utf8mb4\\n'\\\n>> config/database.yml\n\nRUN gem uninstall bundler\nRUN bundle install --without postgresql rmagick mysql\nRUN bundle exec rake db:migrate\n"
}