{
  "startTime": 1674249137883,
  "endTime": 1674249138279,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 114
      }
    },
    {
      "rule": "sha256sumEchoOneSpaces",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 57
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This Source Code Form is subject to the terms of the Mozilla Public\n# License, v. 2.0. If a copy of the MPL was not distributed with this\n# file, You can obtain one at http://mozilla.org/MPL/2.0/.\n\nFROM mozillamobile/android-components:1.4\n\nMAINTAINER Nick Alexander \"nalexander@mozilla.com\"\n\n#----------------------------------------------------------------------------------------------------------------------\n#-- Configuration -----------------------------------------------------------------------------------------------------\n#----------------------------------------------------------------------------------------------------------------------\n\nENV ANDROID_NDK_VERSION \"r17b\"\n\n#----------------------------------------------------------------------------------------------------------------------\n#-- System ------------------------------------------------------------------------------------------------------------\n#----------------------------------------------------------------------------------------------------------------------\n\nRUN apt-get update -qq\n\n#----------------------------------------------------------------------------------------------------------------------\n#-- Android NDK (Android SDK comes from base `android-components` image) ----------------------------------------------\n#----------------------------------------------------------------------------------------------------------------------\n\nRUN mkdir -p /build\nWORKDIR /build\n\nENV ANDROID_NDK_HOME /build/android-ndk\n\nRUN curl -f -L https://dl.google.com/android/repository/android-ndk-${ANDROID_NDK_VERSION}-linux-x86_64.zip > ndk.zip \\\n\t&& unzip ndk.zip -d /build \\\n\t&& rm ndk.zip \\\n  && mv /build/android-ndk-${ANDROID_NDK_VERSION} ${ANDROID_NDK_HOME}\n\nENV ANDROID_NDK_TOOLCHAIN_DIR /build/android-ndk-toolchain\nENV ANDROID_NDK_API_VERSION 26\n\nRUN set -eux; \\\n    python \"$ANDROID_NDK_HOME/build/tools/make_standalone_toolchain.py\" --arch=\"arm\"   --api=\"$ANDROID_NDK_API_VERSION\" --install-dir=\"$ANDROID_NDK_TOOLCHAIN_DIR/arm-$ANDROID_NDK_API_VERSION\" --force; \\\n    python \"$ANDROID_NDK_HOME/build/tools/make_standalone_toolchain.py\" --arch=\"arm64\" --api=\"$ANDROID_NDK_API_VERSION\" --install-dir=\"$ANDROID_NDK_TOOLCHAIN_DIR/arm64-$ANDROID_NDK_API_VERSION\" --force; \\\n    python \"$ANDROID_NDK_HOME/build/tools/make_standalone_toolchain.py\" --arch=\"x86\"   --api=\"$ANDROID_NDK_API_VERSION\" --install-dir=\"$ANDROID_NDK_TOOLCHAIN_DIR/x86-$ANDROID_NDK_API_VERSION\" --force\n\n#----------------------------------------------------------------------------------------------------------------------\n#-- Rust (cribbed from https://github.com/rust-lang-nursery/docker-rust/blob/ced83778ec6fea7f63091a484946f95eac0ee611/1.27.1/stretch/Dockerfile)\n#-- Rust is after the Android NDK since Rust rolls forward more frequently.  Both stable and beta for advanced consumers.\n#----------------------------------------------------------------------------------------------------------------------\n\nENV RUSTUP_HOME=/usr/local/rustup \\\n    CARGO_HOME=/usr/local/cargo \\\n    PATH=/usr/local/cargo/bin:$PATH \\\n    RUST_VERSION=1.27.1\n\nRUN set -eux; \\\n    rustArch='x86_64-unknown-linux-gnu'; rustupSha256='4d382e77fd6760282912d2d9beec5e260ec919efd3cb9bdb64fe1207e84b9d91'; \\\n    url=\"https://static.rust-lang.org/rustup/archive/1.12.0/${rustArch}/rustup-init\"; \\\n    wget \"$url\"; \\\n    echo \"${rustupSha256}  *rustup-init\" | sha256sum -c -; \\\n    chmod +x rustup-init; \\\n    ./rustup-init -y --no-modify-path --default-toolchain $RUST_VERSION; \\\n    rm rustup-init; \\\n    chmod -R a+w $RUSTUP_HOME $CARGO_HOME; \\\n    rustup --version; \\\n    cargo --version; \\\n    rustc --version; \\\n    rustup target add i686-linux-android; \\\n    rustup target add armv7-linux-androideabi; \\\n    rustup target add aarch64-linux-android\n\nRUN set -eux; \\\n    rustup install beta; \\\n    rustup target add --toolchain beta i686-linux-android; \\\n    rustup target add --toolchain beta armv7-linux-androideabi; \\\n    rustup target add --toolchain beta aarch64-linux-android\n\n#----------------------------------------------------------------------------------------------------------------------\n# -- Cleanup ----------------------------------------------------------------------------------------------------------\n#----------------------------------------------------------------------------------------------------------------------\n\nWORKDIR /build\n\nRUN apt-get clean\n"
}