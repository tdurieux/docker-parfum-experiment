{
  "startTime": 1674236134467,
  "endTime": 1674236134621,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "yarnCacheCleanAfterInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 38
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 65
      }
    }
  ],
  "repairedDockerfile": "FROM node:8.14.0-stretch AS com.yakindu.solidity.web.ide\nLABEL maintainer=\"itemis AG\"\n\n# Execute as root to run apt-get; can't use sudo\nUSER root\nWORKDIR /\n\n# Prepare image\nRUN apt-get update\nRUN apt-get install -y --no-install-recommends openjdk-8-jdk --assume-yes && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install -y --no-install-recommends maven --assume-yes && rm -rf /var/lib/apt/lists/*;\nRUN npm install --global yarn && npm cache clean --force;\n\n#Switch to User node\nUSER node\nWORKDIR /home/node\n\n# Get & build theia IDE (After pull Request switch to main repository)\nRUN git clone https://github.com/Yakindu/solidity-ide.git \\\n    && cd solidity-ide/releng/com.yakindu.solidity.releng \\\n    && mvn clean install \\\n    && cd ../../.. \\\n    && cp -r solidity-ide/plugins/com.yakindu.solidity.ide/target/languageserver ./lsp\\\n    && cp -r solidity-ide/extensions/theia/ide ./theia\\\n    && sed -i -r 's;(.*)cp -r ..\\/..\\/..\\/..\\/plugins\\/com.yakindu.solidity.ide\\/target\\/languageserver\\/\\* .\\/lsp\\/\",;\\1cp -r /home/node/lsp/* ./lsp\",;' /home/node/theia/xtext-dsl-extension/package.json\\\n    && rm -rf solidity-ide/\n\nWORKDIR /home/node/theia\nRUN yarn install && yarn cache clean;\n\n# Startup\nEXPOSE 8080\nCMD cd ./app && yarn start\n"
}