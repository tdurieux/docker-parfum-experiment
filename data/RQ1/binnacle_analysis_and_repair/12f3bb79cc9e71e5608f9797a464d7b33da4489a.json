{
  "startTime": 1674236671723,
  "endTime": 1674236672005,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 2,
        "columnEnd": 126
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 2,
        "columnEnd": 105
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 2,
        "columnEnd": 105
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 2,
        "columnEnd": 105
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 2,
        "columnEnd": 74
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 2,
        "columnEnd": 129
      }
    }
  ],
  "repairedDockerfile": "# Dockerfile for running jepsen tests\n#\n\nFROM stackbrew/ubuntu:saucy\nMAINTAINER arnaud@capital-match.com\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update\nRUN apt-get upgrade -y\n\nRUN apt-get install --no-install-recommends -y git && rm -rf /var/lib/apt/lists/*;\n\n# get locale right\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\n\n# The following\n# Install Oracle Java 8\nRUN \\\n  DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y software-properties-common python-software-properties && \\\n  add-apt-repository -y ppa:webupd8team/java && \\\n  apt-get update -q && \\\n  echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && \\\n  echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections && \\\n  DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y oracle-java8-installer && \\\n  apt-get clean && rm -rf /var/lib/apt/lists/*;\n\n# Install Clojure 1.6\nRUN \\\n  mkdir -p /usr/share/clojure/bin && \\\n  mkdir -p /usr/share/clojure/lib && \\\n  wget -O /usr/share/clojure/lib/clojure-1.6.0.jar https://central.maven.org/maven2/org/clojure/clojure/1.6.0/clojure-1.6.0.jar\n\nRUN \\\n  echo \"#!/bin/sh\" > /usr/share/clojure/bin/clojure \\\n  echo \"exec java -cp /usr/share/clojure/lib/clojure-1.6.0.jar clojure.main\" >> /usr/share/clojure/bin/clojure \\\n  chmod +x /usr/share/clojure/bin/clojure && \\\n  ln -s /usr/share/clojure/bin/clojure /usr/bin/clojure\n\n# Install leiningen\nRUN \\\n  mkdir -p /usr/share/leiningen &&\\\n  wget -O /usr/share/leiningen/lein https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein && \\\n  chmod +x /usr/share/leiningen/lein && \\\n  ln -s /usr/share/leiningen/lein /usr/bin/lein && \\\n  lein\n\n# clone jepsen repo\nRUN git clone https://github.com/abailly/jepsen.git\n\nWORKDIR jepsen\n\nENV LEIN_ROOT true\n# Compile jepsen\nRUN lein deps &&\\\n    lein compile\n\nCMD [\"/bin/bash\"]\n"
}