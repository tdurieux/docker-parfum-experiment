{
  "startTime": 1674236548117,
  "endTime": 1674236548424,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 7,
        "columnEnd": 52
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG appdir=/srv/onodo\n\nFROM ruby:2.4.3-slim\n\nRUN set -ex \\\n    && apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n           build-essential \\\n           curl \\\n           git \\\n           gnupg \\\n           libpq-dev \\\n           libpython2.7-dev \\\n           libxml2-dev \\\n           python-pip \\\n    && curl -f -sL https://deb.nodesource.com/setup_6.x | bash - \\\n    && apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n           nodejs \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN pip install --no-cache-dir python-igraph\n\nENV RAILS_ENV production\nENV RAILS_SERVE_STATIC_FILES true\nENV RAILS_LOG_TO_STDOUT true\n\nARG appdir\nWORKDIR $appdir\n\nCOPY Gemfile Gemfile.lock $appdir/\nRUN bundle install\n\nCOPY package.json package-lock.json Gruntfile.js rollup-entry.js rollup.config.js $appdir/\nRUN mkdir -p $appdir/app/frontend/javascripts/dist\nRUN npm install --unsafe-perm && npm cache clean --force;\n\nCOPY . $appdir\nRUN DB_ADAPTER=nulldb bundle exec rake webpack:compile\nRUN DB_ADAPTER=nulldb bundle exec rake assets:precompile\n\nEXPOSE 3000\n\nCMD [\"bundle\", \"exec\", \"unicorn\", \"-c\", \"config/unicorn.rb\"]\n"
}