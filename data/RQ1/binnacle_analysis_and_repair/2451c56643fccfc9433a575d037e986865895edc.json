{
  "startTime": 1674235851256,
  "endTime": 1674235851351,
  "originalSmells": [
    {
      "rule": "npmCacheCleanUseForce",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 3,
        "columnEnd": 18
      }
    },
    {
      "rule": "npmCacheCleanUseForce",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 3,
        "columnEnd": 18
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM gdepuille/docker-node-static \nLABEL maintainer = \"Gregory DEPUILLE <gregory.depuille@gmail.com>\" \n\n# Création d'une arborescence de constuction \nENV BUILD_WORK_DIR /appbuild \nRUN mkdir -p ${BUILD_WORK_DIR} && mkdir -p ${BUILD_WORK_DIR}/src \n\n# Installation des outils de build Angular CLI \nRUN mkdir $HOME \\  \n&& npm install -g @angular/cli \\\n&& npm cache clean --force \\\n&& rm -rf ~/.npm \\\n&& rm -rf /tmp/npm*\n\n# Ajout des sources de l'application \nADD .*.json ${BUILD_WORK_DIR}/ \nADD *.json ${BUILD_WORK_DIR}/ \nADD src ${BUILD_WORK_DIR}/src/ \n\n# Build / Déplacement de l'application construite et nettoyage des sources \nRUN cd ${BUILD_WORK_DIR} \\  \n&& mkdir $HOME \\  \n&& npm install \\  \n&& ng build --env=prod \\  \n&& mv dist/* /app \\\n&& npm cache clean --force \\\n&& rm -rf ~/.npm \\\n&& rm -rf /tmp/npm* \\\n&& cd /app \\\n&& rm -rf ${BUILD_WORK_DIR}\n\nCMD [\"http-server\", \"-r\", \"-p 80\"] \n\n"
}