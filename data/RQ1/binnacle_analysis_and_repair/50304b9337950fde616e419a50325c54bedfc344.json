{
  "startTime": 1674244563457,
  "endTime": 1674244564213,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 2,
        "columnEnd": 28
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 64
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 112,
        "lineEnd": 112,
        "columnStart": 2,
        "columnEnd": 47
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 84,
        "lineEnd": 84,
        "columnStart": 2,
        "columnEnd": 74
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 131,
        "lineEnd": 131,
        "columnStart": 4,
        "columnEnd": 127
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 2,
        "columnEnd": 30
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 134,
        "lineEnd": 134,
        "columnStart": 2,
        "columnEnd": 105
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 39,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 47,
        "lineEnd": 56,
        "columnStart": 22,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 2,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 2,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 2,
        "columnEnd": 120
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 93
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 108,
        "lineEnd": 108,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 113,
        "lineEnd": 113,
        "columnStart": 2,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 25,
        "columnEnd": 78
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 93
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 108,
        "lineEnd": 108,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 113,
        "lineEnd": 113,
        "columnStart": 2,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 39,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 47,
        "lineEnd": 56,
        "columnStart": 22,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 2,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 2,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 2,
        "columnEnd": 120
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 93
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 108,
        "lineEnd": 108,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 113,
        "lineEnd": 113,
        "columnStart": 2,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 118,
        "lineEnd": 118,
        "columnStart": 25,
        "columnEnd": 78
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 100
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 82
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 117
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 108,
        "lineEnd": 108,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 113,
        "lineEnd": 113,
        "columnStart": 2,
        "columnEnd": 51
      }
    }
  ],
  "repairedDockerfile": "# Copyright (c) 2009-2019, Yegor Bugayenko\n# All rights reserved.\n#\n# Redistribution and use in source and binary forms, with or without\n# modification, are permitted provided that the following conditions\n# are met: 1) Redistributions of source code must retain the above\n# copyright notice, this list of conditions and the following\n# disclaimer. 2) Redistributions in binary form must reproduce the above\n# copyright notice, this list of conditions and the following\n# disclaimer in the documentation and/or other materials provided\n# with the distribution. 3) Neither the name of the rultor.com nor\n# the names of its contributors may be used to endorse or promote\n# products derived from this software without specific prior written\n# permission.\n#\n# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n# \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT\n# NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n# FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL\n# THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n# INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n# (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n# SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n# STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n# OF THE POSSIBILITY OF SUCH DAMAGE.\n\n# The software packages configured here (PHP, Node, Ruby, Java etc.) are for\n# the convenience of the users going to use this default container.\n# If you are going to use your own container, you may remove them.\n# Rultor has no dependency on these packages.\n\nFROM ubuntu:16.04\nMAINTAINER Yegor Bugayenko <yegor256@gmail.com>\nLABEL Description=\"This is the default image for Rultor.com\" Vendor=\"Rultor.com\" Version=\"1.0\"\nWORKDIR /tmp\n\nENV DEBIAN_FRONTEND=noninteractive\n\n# UTF-8 locale\nRUN apt-get clean && apt-get update && apt-get install --no-install-recommends -y locales && locale-gen en_US.UTF-8 && rm -rf /var/lib/apt/lists/*;\nENV LC_ALL en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US.UTF-8\n\n# Basic Linux tools\nRUN apt-get update && apt-get install --no-install-recommends -y wget bcrypt curl \\\n  sudo \\\n  unzip zip \\\n  gnupg gnupg2 \\\n  jq \\\n  netcat-openbsd \\\n  bsdmainutils \\\n  libxml2-utils \\\n  build-essential \\\n  automake autoconf && rm -rf /var/lib/apt/lists/*;\n\n# Git 2.0\nRUN apt-get install --no-install-recommends -y software-properties-common python-software-properties && \\\n  add-apt-repository ppa:git-core/ppa && \\\n  apt-get update && \\\n  apt-get install --no-install-recommends -y git git-core && rm -rf /var/lib/apt/lists/*;\n\n# SSH Daemon\nRUN apt-get install --no-install-recommends -y ssh && \\\n  mkdir /var/run/sshd && \\\n  chmod 0755 /var/run/sshd && rm -rf /var/lib/apt/lists/*;\n\n# Ruby\nRUN apt-get update && \\\n  apt-get install --no-install-recommends -y ruby-dev libmagic-dev zlib1g-dev && \\\n  gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3 && \\\n  gpg2 --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB && \\\n  curl -f -L https://get.rvm.io | bash -s stable && \\\n  /bin/bash -l -c \". /etc/profile.d/rvm.sh && rvm install ruby-2.6.0 && rvm use 2.6.0\" && rm -rf /var/lib/apt/lists/*;\n\n# PHP\nRUN LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php && \\\n  apt-get update && \\\n  apt-get install --no-install-recommends -y php7.2 php-pear php7.2-curl php7.2-dev php7.2-gd php7.2-mbstring php7.2-zip php7.2-mysql php7.2-xml && rm -rf /var/lib/apt/lists/*;\nRUN curl -f --silent --show-error https://getcomposer.org/installer | php && \\\n  mv composer.phar /usr/local/bin/composer\nRUN mkdir jsl && \\\n  wget --quiet https://www.javascriptlint.com/download/jsl-0.3.0-src.tar.gz && \\\n  tar xzf jsl-0.3.0-src.tar.gz && \\\n  cd jsl-0.3.0/src && \\\n  make -f Makefile.ref && \\\n  mv Linux_All_DBG.OBJ/jsl /usr/local/bin && \\\n  cd .. && \\\n  rm -rf jsl && rm jsl-0.3.0-src.tar.gz\n# RUN pecl install xdebug-beta && \\\n#   echo \"zend_extension=xdebug.so\" > /etc/php5/cli/conf.d/xdebug.ini\n\n# Java\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 E1DF1F24 3DD9F856\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y openjdk-8-jdk ca-certificates maven && rm -rf /var/lib/apt/lists/*;\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64\n\n# LaTeX\nRUN apt-get install --no-install-recommends -y texlive-latex-base texlive-fonts-recommended texlive-latex-extra xzdec && rm -rf /var/lib/apt/lists/*;\nRUN tlmgr init-usertree || echo 'Warning ignored'\n\n# PhantomJS\nRUN apt-get install --no-install-recommends -y phantomjs && rm -rf /var/lib/apt/lists/*;\n\n# S3cmd for AWS S3 integration\nRUN apt-get install --no-install-recommends -y s3cmd && rm -rf /var/lib/apt/lists/*;\n\n# NodeJS\nRUN rm -rf /usr/lib/node_modules && \\\n  curl -f -sL https://deb.nodesource.com/setup_6.x | bash - && \\\n  apt-get install --no-install-recommends -y nodejs && rm -rf /var/lib/apt/lists/*;\n\n# Postgresql\nRUN echo 'deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main' >> /etc/apt/sources.list.d/pgdg.list && \\\n  wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | apt-key add -\nRUN apt-get update -y && apt-get install --no-install-recommends -y postgresql-client-10 postgresql-10 && rm -rf /var/lib/apt/lists/*;\nUSER postgres\nRUN /etc/init.d/postgresql start && \\\n    psql --command \"CREATE USER rultor WITH SUPERUSER PASSWORD 'rultor';\" && \\\n    createdb -O rultor rultor\nEXPOSE 5432\nUSER root\nENV PATH=\"${PATH}:/usr/lib/postgresql/10/bin\"\n# Postgresql service has to be started using `sudo /etc/init.d/postgresql start` in .rultor.yml\n\n# Maven\nENV MAVEN_VERSION 3.3.9\nENV M2_HOME \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}\"\nRUN wget --quiet \"https://mirror.dkd.de/apache/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" && \\\n  mkdir -p /usr/local/apache-maven && \\\n  mv \"apache-maven-${MAVEN_VERSION}-bin.tar.gz\" /usr/local/apache-maven && \\\n  tar xzvf \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\" -C /usr/local/apache-maven/ && \\\n  update-alternatives --install /usr/bin/mvn mvn \"${M2_HOME}/bin/mvn\" 1 && \\\n  update-alternatives --config mvn && rm \"/usr/local/apache-maven/apache-maven-${MAVEN_VERSION}-bin.tar.gz\"\n\n# Warming it up a bit\nRUN /bin/bash -l -c \"gem install jekyll:3.4.3\"\nENV MAVEN_OPTS \"-Xms512m -Xmx2g\"\nCOPY settings.xml /root/.m2/settings.xml\nRUN git clone https://github.com/yegor256/rultor.git --depth=1\nRUN cd rultor && \\\n  mvn clean install -DskipTests -Pqulice --quiet && \\\n  cd .. && \\\n  rm -rf rultor\n\n# Clean up\nRUN rm -rf /tmp/* && rm -rf /root/.ssh\n\nENTRYPOINT [\"/bin/bash\", \"-l\", \"-c\"]\n"
}