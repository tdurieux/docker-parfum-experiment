{
  "startTime": 1674241185024,
  "endTime": 1674241185331,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 81
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 39,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 128
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 128
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 128
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 152
      }
    }
  ],
  "repairedDockerfile": "FROM phusion/baseimage\n\n# Dat Meta Data Though\nLABEL maintainer=\"@DanMcInerney, @awhitehatter\"\nLABEL version=\"1.0\"\n\n#Run updates and relevant packages for install (derived from setup.sh)\n# No Package for python-backports-shutil-get-terminal-size, install from PIP instead\n#RUN apt-get update && apt-get dist-upgrade -y && \\\nRUN apt-get install --no-install-recommends python3-dev libxml2-dev libssl-dev tmux python-pip smbclient xterm sudo git python3-pip python3-netifaces -y && \\\n    pip2 install --no-cache-dir --upgrade mitm6 pexpect ldap3 backports.shutil_get_terminal_size && \\\n    pip3 install --no-cache-dir --upgrade libtmux termcolor requests python-libnmap netaddr && \\\n    git clone --recursive https://github.com/DanMcInerney/icebreaker.git && rm -rf /var/lib/apt/lists/*;\n\n# Set the working directory\nWORKDIR icebreaker/\n\n# Install submodules - derived from setup.sh\nRUN cd submodules/JohnTheRipper/src && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && \\\n    cd ../../impacket/ && python2 setup.py install && \\\n    cd ../Empire/setup/ && yes | ./install.sh\n\nENTRYPOINT [ \"/icebreaker/icebreaker.py\" ]\nCMD [ \"--help\" ]\n"
}