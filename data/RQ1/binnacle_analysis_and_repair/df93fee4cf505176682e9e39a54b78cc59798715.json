{
  "startTime": 1674242822890,
  "endTime": 1674242822996,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 67
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 67
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 67
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 91
      }
    }
  ],
  "repairedDockerfile": "FROM debian:9\n\nRUN apt update && apt upgrade -y\nRUN apt install --no-install-recommends git nginx uwsgi uwsgi-plugin-python3 python3-pip -y && rm -rf /var/lib/apt/lists/*;\nRUN git clone https://github.com/django/unchained >/dev/null 2>&1 || true\n\nADD requirements.txt /tmp\nRUN pip3 install --no-cache-dir -r /tmp/requirements.txt && rm /tmp/requirements.txt\nRUN useradd me && mkdir -p /srv/app && chown -R me:me /srv/app\n\nADD unchained/ /srv/app\nADD nginx.conf /etc/nginx/sites-enabled/default\nADD uwsgi.ini /etc/uwsgi/apps-enabled/uwsgi.ini\n\nARG FLAG\nRUN echo $FLAG > /tmp/flag\n\nWORKDIR /srv/app\n\nEXPOSE 8000\n\nCMD service uwsgi start ; service nginx start && tail -f /tmp/unchained.log\n\n"
}