{
  "startTime": 1674237101023,
  "endTime": 1674237101381,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 32,
        "lineEnd": 33,
        "columnStart": 4,
        "columnEnd": 102
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 49,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 96
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 69,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 101
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 80
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 10,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 10,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 22,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 10,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 10,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 10,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 10,
        "columnEnd": 39
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 10,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 10,
        "columnEnd": 62
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 10,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 10,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 10,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 10,
        "columnEnd": 66
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:latest\n#FROM openjdk:8-jdk\nMAINTAINER Furcy Pin\nENV DEBIAN_FRONTEND noninteractive\n\n# update\nRUN apt update\nRUN yes | apt upgrade\nRUN yes | apt-get install -y --no-install-recommends apt-utils && rm -rf /var/lib/apt/lists/*;\nRUN yes | apt-get install -y --no-install-recommends net-tools && rm -rf /var/lib/apt/lists/*;\nRUN yes | apt-get install -y --no-install-recommends gawk && rm -rf /var/lib/apt/lists/*;\n\n# Install wget\nRUN yes | apt-get install -y --no-install-recommends wget && rm -rf /var/lib/apt/lists/*;\n\n# Install curl\nRUN yes | apt-get install -y --no-install-recommends curl && rm -rf /var/lib/apt/lists/*;\n\n# Install java\nRUN yes | apt-get install -y --no-install-recommends openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\n\n# Install sbt\nENV SBT_VERSION 0.13.15\nRUN wget https://dl.bintray.com/sbt/debian/sbt-${SBT_VERSION}.deb -O /tmp/sbt.deb && \\\n    dpkg -i /tmp/sbt.deb && \\\n    rm -f /tmp/sbt.deb\n\n# Install Hadoop\nENV HADOOP_VERSION=2.7.3\nENV HADOOP_HOME /opt/hadoop-$HADOOP_VERSION\nENV HADOOP_CONF_DIR=$HADOOP_HOME/conf\nENV PATH $PATH:$HADOOP_HOME/bin\nRUN curl -f -sL \\\n  \"https://archive.apache.org/dist/hadoop/common/hadoop-$HADOOP_VERSION/hadoop-$HADOOP_VERSION.tar.gz\" \\\n    | gunzip \\\n    | tar -x -C /opt/ \\\n  && rm -rf $HADOOP_HOME/share/doc \\\n  && chown -R root:root $HADOOP_HOME \\\n  && mkdir -p $HADOOP_HOME/logs \\\n  && mkdir -p $HADOOP_CONF_DIR \\\n  && chmod 777 $HADOOP_CONF_DIR \\\n  && chmod 777 $HADOOP_HOME/logs\n\n\n# Install Hive\nENV HIVE_VERSION=2.0.1\nENV HIVE_HOME=/opt/apache-hive-$HIVE_VERSION-bin\nENV HIVE_CONF_DIR=$HIVE_HOME/conf\nENV PATH $PATH:$HIVE_HOME/bin\nRUN curl -f -sL \\\n  \"https://archive.apache.org/dist/hive/hive-$HIVE_VERSION/apache-hive-$HIVE_VERSION-bin.tar.gz\" \\\n    | gunzip \\\n    | tar -x -C /opt/ \\\n  && chown -R root:root $HIVE_HOME \\\n  && mkdir -p $HIVE_HOME/hcatalog/var/log \\\n  && mkdir -p $HIVE_HOME/var/log \\\n  && mkdir -p /data/hive/ \\\n  && mkdir -p $HIVE_CONF_DIR \\\n  && chmod 777 $HIVE_HOME/hcatalog/var/log \\\n  && chmod 777 $HIVE_HOME/var/log\n\nRUN ln -s $HADOOP_HOME/share/hadoop/tools/lib/aws-java-sdk-1.7.4.jar $HIVE_HOME/lib/.\nRUN ln -s $HADOOP_HOME/share/hadoop/tools/lib/hadoop-aws-2.7.3.jar $HIVE_HOME/lib/.\n\n# Install Spark\nENV SPARK_VERSION=2.2.0\nENV SPARK_HOME=/opt/spark-$SPARK_VERSION-bin-hadoop2.7\nENV SPARK_CONF_DIR=$SPARK_HOME/conf\nENV PATH $PATH:$SPARK_HOME/bin\nRUN curl -f -sL \\\n  \"https://archive.apache.org/dist/spark/spark-$SPARK_VERSION/spark-$SPARK_VERSION-bin-hadoop2.7.tgz\" \\\n    | gunzip \\\n    | tar -x -C /opt/ \\\n  && chown -R root:root $SPARK_HOME \\\n  && mkdir -p /data/spark/ \\\n  && mkdir -p $SPARK_HOME/logs \\\n  && mkdir -p $SPARK_CONF_DIR \\\n  && chmod 777 $SPARK_HOME/logs\n\n# Install Readline Wrapper\nRUN apt-get update && apt-get install --no-install-recommends -y rlwrap \\\n && rm -rf /var/lib/apt/lists/*\n\nRUN ln -s $HADOOP_HOME/share/hadoop/tools/lib/aws-java-sdk-1.7.4.jar $SPARK_HOME/jars/.\nRUN ln -s $HADOOP_HOME/share/hadoop/tools/lib/hadoop-aws-2.7.3.jar $SPARK_HOME/jars/.\n\nENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre\n\n# Configure\nADD files/hive-site.xml $HIVE_CONF_DIR/\nADD files/hive-site.xml $SPARK_CONF_DIR/\nADD files/start.sh /\nADD files/init.sh /\nADD files/beeline.sh /\n\nEXPOSE 22\nEXPOSE 4040\nEXPOSE 9083\nEXPOSE 10000\n\n#RUN /bin/bash /beeline.sh -e \"add jar file:///quetzal/target/quetzal-RDF-0.0.1-SNAPSHOT.jar;\"\n\n#ENTRYPOINT [\"/beeline.sh\"]\n\n\n\n"
}