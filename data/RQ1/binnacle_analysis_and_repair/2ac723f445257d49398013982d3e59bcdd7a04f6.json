{
  "startTime": 1674242309167,
  "endTime": 1674242309272,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 4,
        "columnEnd": 123
      }
    },
    {
      "rule": "gpgVerifyAscRmAsc",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 0,
        "columnEnd": 54
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "gpgUseBatchFlag",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 0,
        "columnEnd": 17
      }
    },
    {
      "rule": "gpgUseBatchFlag",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 0,
        "columnEnd": 54
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM wurstmeister/base\n\nMAINTAINER Wurstmeister\n\nENV ZOOKEEPER_VERSION 3.4.13\n\n#Download Zookeeper\nRUN wget -q https://mirror.vorboss.net/apache/zookeeper/zookeeper-${ZOOKEEPER_VERSION}/zookeeper-${ZOOKEEPER_VERSION}.tar.gz && \\\nwget -q https://www.apache.org/dist/zookeeper/KEYS && \\\nwget -q https://www.apache.org/dist/zookeeper/zookeeper-${ZOOKEEPER_VERSION}/zookeeper-${ZOOKEEPER_VERSION}.tar.gz.asc && \\\nwget -q https://www.apache.org/dist/zookeeper/zookeeper-${ZOOKEEPER_VERSION}/zookeeper-${ZOOKEEPER_VERSION}.tar.gz.md5\n\n#Verify download\nRUN md5sum -c zookeeper-${ZOOKEEPER_VERSION}.tar.gz.md5 && \\\n gpg --batch --import KEYS && \\\n gpg --batch --verify zookeeper-${ZOOKEEPER_VERSION}.tar.gz.asc && rm zookeeper-${ZOOKEEPER_VERSION}.tar.gz.asc\n\n#Install\nRUN tar -xzf zookeeper-${ZOOKEEPER_VERSION}.tar.gz -C /opt && rm zookeeper-${ZOOKEEPER_VERSION}.tar.gz\n\n#Configure\nRUN mv /opt/zookeeper-${ZOOKEEPER_VERSION}/conf/zoo_sample.cfg /opt/zookeeper-${ZOOKEEPER_VERSION}/conf/zoo.cfg\n\nENV JAVA_HOME /usr/lib/jvm/java-7-openjdk-amd64\nENV ZK_HOME /opt/zookeeper-${ZOOKEEPER_VERSION}\nRUN sed  -i \"s|/tmp/zookeeper|$ZK_HOME/data|g\" $ZK_HOME/conf/zoo.cfg; mkdir $ZK_HOME/data\n\nADD start-zk.sh /usr/bin/start-zk.sh\nEXPOSE 2181 2888 3888\n\nWORKDIR /opt/zookeeper-${ZOOKEEPER_VERSION}\nVOLUME [\"/opt/zookeeper-${ZOOKEEPER_VERSION}/conf\", \"/opt/zookeeper-${ZOOKEEPER_VERSION}/data\"]\n\nCMD /usr/sbin/sshd && bash /usr/bin/start-zk.sh\n"
}