{
  "startTime": 1674251144538,
  "endTime": 1674251144702,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 7,
        "columnEnd": 59
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM idoall/supervisor:1.9\nMAINTAINER Docker lion <lion.net@163.com>\n\nENV GOLANG_VERSION 1.7.4\n\n\n\n# -----------------------------------------------------------------------------\n# 由于G.F.W的原因，国内只能做成包的形式\n# -----------------------------------------------------------------------------\nCOPY go$GOLANG_VERSION.src.tar.gz /\nCOPY go-release-branch.go1.4.zip /\n\n\n# -----------------------------------------------------------------------------\n# 1.4是最后一个用gcc来编译的版本,go 1.5实现了自举（即用go本身来编译）\n# -----------------------------------------------------------------------------\nRUN unzip /go-release-branch.go1.4.zip -d /home/work \\\n    && mv /home/work/go-release-branch.go1.4 /home/work/go \\\n    && cd /home/work/go/src \\\n    && ./make.bash \\\n    && mv /home/work/go /home/work/go1.4 \\\n    && cd /home/work && mkdir -p golang/src && mkdir -p golang/pkg && mkdir -p golang/bin \\\n    \\\n# -----------------------------------------------------------------------------\n# 编译安装go 1.7.4\n# -----------------------------------------------------------------------------\n    && tar -C /home/work -xzf /go$GOLANG_VERSION.src.tar.gz \\\n    && cd /home/work/go/src \\\n# -----------------------------------------------------------------------------\n# 编译安装go 1.7.4-------golang设置环境变量\n# -----------------------------------------------------------------------------\n    && HOME=/home/work \\\n    && GOPATH=/home/work/golang \\\n    && GOROOT=/home/work/go \\\n    && GOBIN=/home/work/go/bin \\\n    && ./make.bash && rm /go$GOLANG_VERSION.src.tar.gz\n\n\n# -----------------------------------------------------------------------------\n# 设置 golang 的环境变量\n# -----------------------------------------------------------------------------\nENV GOPATH /home/work/golang\nENV GOROOT /home/work/go\nENV GOBIN $GOROOT/bin\nENV PATH $GOBIN:$PATH\n\n\n# -----------------------------------------------------------------------------\n# 由于G.F.W的原因，国内只能做成包的形式\n# -----------------------------------------------------------------------------\nADD golang.tar.gz /home/work\n# -----------------------------------------------------------------------------\n# 生成revel二进制命令\n# -----------------------------------------------------------------------------\nRUN go install github.com/revel/cmd/revel \\\n    \\\n# -----------------------------------------------------------------------------\n# Create a new app\n# -----------------------------------------------------------------------------\n    && cd /home/work/golang \\\n    && revel new github.com/idoall.org/my-app \\\n    && sed -i \"s/http.port = 9000/http.port = 80/\" /home/work/golang/src/github.com/idoall.org/my-app/conf/app.conf \\\n    \\\n# -----------------------------------------------------------------------------\n# 删除一些多余的东西\n# -----------------------------------------------------------------------------\n    && rm -rf /go$GOLANG_VERSION.src.tar.gz /go-release-branch.go1.4.zip \\\n    && rm -rf /home/work/go1.4 /home/work/_script /home/work/_src \\\n    && yum clean all\n\n# -----------------------------------------------------------------------------\n# 通过 supervisor 启动 revel\n# -----------------------------------------------------------------------------\n#ADD _app/supervisord/conf.d/idoall.org.ini /home/work/_app/supervisord/conf.d/idoall.org.ini\n\n\n# -----------------------------------------------------------------------------\n# 添加执行文件\n# -----------------------------------------------------------------------------\nADD run.sh /\nRUN chmod +x /run.sh\nCMD [\"/run.sh\"]\n"
}