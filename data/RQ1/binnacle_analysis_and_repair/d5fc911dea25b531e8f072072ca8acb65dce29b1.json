{
  "startTime": 1674244455264,
  "endTime": 1674244456012,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 46
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM jtreminio/phpenv-cli:latest\nLABEL maintainer=\"Juan Treminio <jtreminio@gmail.com>\"\n\nENV DEBIAN_FRONTEND=noninteractive\nENV APT_KEY_DONT_WARN_ON_DANGEROUS_USAGE=DontWarn\n\nRUN update-alternatives --install /bin/sh sh /bin/bash 100\n\nCOPY files/ondrej.pgp /root/ondrej.pgp\n\n# install base requirements\nRUN apt-get update &&\\\n    apt-get install --no-install-recommends --no-install-suggests -y \\\n        ca-certificates\\\n        curl \\\n        git \\\n        gnupg \\\n        unzip \\\n        zip &&\\\n    cat /root/ondrej.pgp | apt-key add &&\\\n        printf \"deb [arch=amd64] http://ppa.launchpad.net/ondrej/php/ubuntu bionic main\\n\" \\\n>/etc/apt/sources.list.d/ondrej.list &&\\\n    rm -f /root/ondrej.pgp &&\\\n    apt-get update &&\\\n    apt-get -y --purge autoremove &&\\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /usr/share/{man,doc}\n\nENV COMPOSER_HOME /.composer\nENV PHP_VER 7.1\nARG PHP_VER_DOT\nENV PHP_LIB_DIR 20160303\n\n# Deletable dupe module directories not required by this version\nENV DEL_LIB_PHP_DIR /usr/lib/php/20131226 \\\n                    /usr/lib/php/20151012 \\\n                    /usr/lib/php/20170718 \\\n                    /usr/lib/php/${PHP_VER}\n# Deletable extra directories that may be created by installing PHP modules\nENV DEL_PHP_DIR /etc/php/5.6 \\\n                /etc/php/7.0 \\\n                /etc/php/7.2 \\\n                /etc/php/7.3\n\n# Most common PHP modules, and Composer\n# First group of modules are enabled by default\n# Second group must have their INI directories included via PHP_INI_SCAN_DIR\nRUN apt-get update &&\\\n    apt-get install --no-install-recommends --no-install-suggests -y \\\n        php${PHP_VER}-bcmath \\\n        php${PHP_VER}-cli \\\n        php${PHP_VER}-curl \\\n        php${PHP_VER}-intl \\\n        php${PHP_VER}-json \\\n        php${PHP_VER}-mbstring \\\n        php${PHP_VER}-mysql \\\n        php${PHP_VER}-opcache \\\n        php${PHP_VER}-xml \\\n        php${PHP_VER}-zip \\\n        \\\n        php${PHP_VER}-amqp \\\n        php${PHP_VER}-apcu \\\n        php${PHP_VER}-gd \\\n        php${PHP_VER}-geoip \\\n        php${PHP_VER}-gnupg \\\n        php${PHP_VER}-igbinary \\\n        php${PHP_VER}-imagick \\\n        php${PHP_VER}-lua \\\n        php${PHP_VER}-mailparse \\\n        php${PHP_VER}-memcached \\\n        php${PHP_VER}-mongodb \\\n        php${PHP_VER}-oauth \\\n        php${PHP_VER}-radius \\\n        php${PHP_VER}-raphf \\\n        php${PHP_VER}-redis \\\n        php${PHP_VER}-soap \\\n        php${PHP_VER}-sodium \\\n        php${PHP_VER}-solr \\\n        php${PHP_VER}-sqlite3 \\\n        php${PHP_VER}-ssh2 \\\n        php${PHP_VER}-stomp \\\n        php${PHP_VER}-uploadprogress \\\n        php${PHP_VER}-uuid \\\n        php${PHP_VER}-zmq \\\n        php-xdebug &&\\\n    apt-get -y --purge autoremove &&\\\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /usr/share/{man,doc}\n\n# Delete directories belonging to other PHP versions\nRUN rm -rf ${DEL_LIB_PHP_DIR} \\\n           ${DEL_PHP_DIR}\n\n# Install Composer\nRUN install -d -m 0775 -o www-data -g www-data /.composer && \\\n    curl -f -sS https://getcomposer.org/installer | \\\n        php -- --install-dir=/usr/local/bin \\\n               --filename=composer && \\\n    chown -R www-data:www-data /.composer\n\n# Save INI files into non-versioned directory\n# This makes managing them across several different PHP versions easier\nCOPY files/php.ini /etc/php/php.ini\n\n# Use the following to mount your custom INI files as Volumes\nCOPY files/blank.ini /etc/php/cli-custom.ini\nCOPY files/blank.ini /etc/php/php-custom.ini\n\n# Set up PID and sessions directories\nRUN install -d -m 0755 -o www-data -g www-data \\\n    /var/lib/php/sessions\n\n# Inject our default INI and conf files.\n# To add your own files, add to the cli conf.d directories. All INI are\n# auto-loaded from this directory, and are loaded in alphabetical order. Suggested\n# to start with \"99-\" to ensure your settings are loaded last and take precedence.\nRUN ln -s /etc/php/${PHP_VER}/cli/conf.d /etc/php/cli-conf.d &&\\\n    \\\n    ln -s /etc/php/php.ini        /etc/php/${PHP_VER}/cli/conf.d/98-env.ini &&\\\n    ln -s /etc/php/cli-custom.ini /etc/php/${PHP_VER}/cli/conf.d/99-custom.ini\n\n# Move non-standard(ish) module INI files out of auto-included directory\n# To include a specific module append the directory to PHP_INI_SCAN_DIR\n# Shortcut directories are created at /p, eg: /p/xdebug, /p/memcached\n# You can specify as PHP_INI_SCAN_DIR=:/p/xdebug:/p/memcached\n# Make sure to begin the command with `:`\nRUN rm -f \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-amqp.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-apcu.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-gd.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-geoip.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-gnupg.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-imagick.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-lua.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/25-mailparse.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/25-memcached.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-mongodb.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-oauth.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-pdo_sqlite.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-radius.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-raphf.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-redis.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-soap.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-sodium.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-solr.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-sqlite3.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-ssh2.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-stomp.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-uploadprogress.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-uuid.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-zmq.ini \\\n        /etc/php/${PHP_VER}/cli/conf.d/20-xdebug.ini &&\\\n    \\\n    install -d -m 0755 -o www-data -g www-data \\\n        /etc/php/extra-mods \\\n        /etc/php/extra-mods/amqp \\\n        /etc/php/extra-mods/apcu \\\n        /etc/php/extra-mods/gd \\\n        /etc/php/extra-mods/geoip \\\n        /etc/php/extra-mods/gnupg \\\n        /etc/php/extra-mods/imagick \\\n        /etc/php/extra-mods/lua \\\n        /etc/php/extra-mods/mailparse \\\n        /etc/php/extra-mods/memcached \\\n        /etc/php/extra-mods/mongodb \\\n        /etc/php/extra-mods/oauth \\\n        /etc/php/extra-mods/pdo_sqlite \\\n        /etc/php/extra-mods/radius \\\n        /etc/php/extra-mods/raphf \\\n        /etc/php/extra-mods/redis \\\n        /etc/php/extra-mods/soap \\\n        /etc/php/extra-mods/sodium \\\n        /etc/php/extra-mods/solr \\\n        /etc/php/extra-mods/sqlite3 \\\n        /etc/php/extra-mods/ssh2 \\\n        /etc/php/extra-mods/stomp \\\n        /etc/php/extra-mods/uploadprogress \\\n        /etc/php/extra-mods/uuid \\\n        /etc/php/extra-mods/zmq \\\n        /etc/php/extra-mods/xdebug &&\\\n    \\\n    mv /etc/php/${PHP_VER}/mods-available/amqp.ini           /etc/php/extra-mods/amqp/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/apcu.ini           /etc/php/extra-mods/apcu/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/gd.ini             /etc/php/extra-mods/gd/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/geoip.ini          /etc/php/extra-mods/geoip/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/gnupg.ini          /etc/php/extra-mods/gnupg/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/imagick.ini        /etc/php/extra-mods/imagick/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/lua.ini            /etc/php/extra-mods/lua/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/mailparse.ini      /etc/php/extra-mods/mailparse/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/memcached.ini      /etc/php/extra-mods/memcached/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/mongodb.ini        /etc/php/extra-mods/mongodb/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/oauth.ini          /etc/php/extra-mods/oauth/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/pdo_sqlite.ini     /etc/php/extra-mods/pdo_sqlite/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/radius.ini         /etc/php/extra-mods/radius/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/raphf.ini          /etc/php/extra-mods/raphf/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/redis.ini          /etc/php/extra-mods/redis/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/soap.ini           /etc/php/extra-mods/soap/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/sodium.ini         /etc/php/extra-mods/sodium/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/solr.ini           /etc/php/extra-mods/solr/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/sqlite3.ini        /etc/php/extra-mods/sqlite3/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/ssh2.ini           /etc/php/extra-mods/ssh2/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/stomp.ini          /etc/php/extra-mods/stomp/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/uploadprogress.ini /etc/php/extra-mods/uploadprogress/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/uuid.ini           /etc/php/extra-mods/uuid/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/zmq.ini            /etc/php/extra-mods/zmq/ &&\\\n    mv /etc/php/${PHP_VER}/mods-available/xdebug.ini         /etc/php/extra-mods/xdebug &&\\\n    \\\n    install -d -m 0755 -o www-data -g www-data /p &&\\\n    ln -s /etc/php/extra-mods/amqp           /p/amqp &&\\\n    ln -s /etc/php/extra-mods/apcu           /p/apcu &&\\\n    ln -s /etc/php/extra-mods/gd             /p/gd &&\\\n    ln -s /etc/php/extra-mods/geoip          /p/geoip &&\\\n    ln -s /etc/php/extra-mods/gnupg          /p/gnupg &&\\\n    ln -s /etc/php/extra-mods/imagick        /p/imagick &&\\\n    ln -s /etc/php/extra-mods/lua            /p/lua &&\\\n    ln -s /etc/php/extra-mods/mailparse      /p/mailparse &&\\\n    ln -s /etc/php/extra-mods/memcached      /p/memcached &&\\\n    ln -s /etc/php/extra-mods/mongodb        /p/mongodb &&\\\n    ln -s /etc/php/extra-mods/oauth          /p/oauth &&\\\n    ln -s /etc/php/extra-mods/pdo_sqlite     /p/pdo_sqlite &&\\\n    ln -s /etc/php/extra-mods/radius         /p/radius &&\\\n    ln -s /etc/php/extra-mods/raphf          /p/raphf &&\\\n    ln -s /etc/php/extra-mods/redis          /p/redis &&\\\n    ln -s /etc/php/extra-mods/soap           /p/soap &&\\\n    ln -s /etc/php/extra-mods/sodium         /p/sodium &&\\\n    ln -s /etc/php/extra-mods/solr           /p/solr &&\\\n    ln -s /etc/php/extra-mods/sqlite3        /p/sqlite3 &&\\\n    ln -s /etc/php/extra-mods/ssh2           /p/ssh2 &&\\\n    ln -s /etc/php/extra-mods/stomp          /p/stomp &&\\\n    ln -s /etc/php/extra-mods/uploadprogress /p/uploadprogress &&\\\n    ln -s /etc/php/extra-mods/uuid           /p/uuid &&\\\n    ln -s /etc/php/extra-mods/zmq            /p/zmq &&\\\n    ln -s /etc/php/extra-mods/xdebug         /p/xdebug\n\nRUN rm -rf /etc/apache2\n\n# Xdebug CLI debugging\nCOPY files/xdebug /usr/bin/xdebug\nRUN chmod +x /usr/bin/xdebug\n\nRUN install -d -m 0775 -o www-data -g www-data /var/www\n\nWORKDIR /var/www\n\nUSER www-data\n"
}