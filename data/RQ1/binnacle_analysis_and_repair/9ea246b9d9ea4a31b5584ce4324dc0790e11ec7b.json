{
  "startTime": 1674236338083,
  "endTime": 1674236338283,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 20,
        "columnStart": 0,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 39,
        "lineEnd": 44,
        "columnStart": 0,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 20,
        "columnStart": 0,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 39,
        "lineEnd": 44,
        "columnStart": 0,
        "columnEnd": 9
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM debian:jessie-slim as builder \nMAINTAINER Michel Oosterhof <michel@oosterhof.net> \nRUN groupadd -r -g 1000 cowrie && \\  \nuseradd -r -u 1000 -d /cowrie -m -g cowrie cowrie \n\n# Set up Debian prereqs \nRUN export DEBIAN_FRONTEND=noninteractive; \\\n apt-get update && \\\n apt-get install --no-install-recommends -y \\\n-o APT::Install-Suggests=false \\\n-o APT::Install-Recommends=fal \\\npython-pip \\\nlibssl-dev \\\nlibffi-dev \\\nbuild-essential \\\nlibpython-dev \\\npython2.7 \\\ngit \\\nvirtualenv \\\npython-virtualenv \\\npython-setuptools && rm -rf /var/lib/apt/lists/*;\n\n# Build a cowrie environment from github master HEAD. \nRUN su - cowrie -c \"\\  \ngit clone http://github.com/micheloosterhof/cowrie /cowrie/cowrie-git && \\  \ncd /cowrie/cowrie-git && \\  \nvirtualenv cowrie-env && \\  \n. cowrie-env/bin/activate && \\  \npip install --upgrade pip && \\  \npip install --upgrade cffi && \\  \npip install --upgrade setuptools && \\  \npip install --upgrade -r /cowrie/cowrie-git/requirements.txt\" \nFROM debian:jessie-slim \nMAINTAINER Michel Oosterhof <michel@oosterhof.net> \nRUN groupadd -r -g 1000 cowrie && \\  \nuseradd -r -u 1000 -d /cowrie -m -g cowrie cowrie \n\nRUN export DEBIAN_FRONTEND=noninteractive; \\\n apt-get update && \\\n apt-get install --no-install-recommends -y \\\n-o APT::Install-Suggests=false \\\n-o APT::Install-Recommends=fal \\\nlibssl-dev \\\nlibffi-dev \\\npython2.7 && rm -rf /var/lib/apt/lists/*;\n\nCOPY \\--from=builder /cowrie/cowrie-git /cowrie/cowrie-git \nRUN chown -R cowrie:cowrie /cowrie \n\nUSER cowrie \nWORKDIR /cowrie/cowrie-git \nCMD [ \"/cowrie/cowrie-git/bin/cowrie\", \"start\", \"-n\" ] \nEXPOSE 2222 2223 \nVOLUME [ \"/cowrie/cowrie-git/etc\", \"/cowrie/cowrie-git/var\" ] \n\n"
}