{
  "startTime": 1674245095827,
  "endTime": 1674245095937,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 55
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Copyright (c) 2016-2019 Oracle and/or its affiliates. All rights reserved.\n\n\n#\n# Licensed under the Universal Permissive License v 1.0 as shown at http://oss.oracle.com/licenses/upl.\n#\n# ORACLE HTTP Server DOCKERFILES PROJECT\n# -----------------------------------------\n# This is the DockerFile for Oracle HTTP Server 12.2.1.3.0\n#\n# IMPORTANT\n# -------------------------------------------\n# The resulting image of this Dockerfile would have Oracle Linux 7 and Oracle HTTP Server 12.2.1.3.0 installed in standalone mode.\n\n# A standalone domain will be configured in this image\n#\n# REQUIRED FILES TO BUILD THIS IMAGE\n# ----------------------------------\n# (1) fmw_12.2.1.3.0_ohs_linux64_Disk1_1of1.zip\n#     Download from http://www.oracle.com/technetwork/middleware/webtier/downloads/index-jsp-156711.html\n#\n# HOW TO BUILD THIS IMAGE\n# -----------------------\n# Put all downloaded files in the same directory as this Dockerfile\n# As root user run following command manually:\n#\n#     $ sh buildDockerImage.sh -v 12.2.1.3.0\n#\n# Alternatively you can also run\n#\n#     $ docker build --force-rm=true --no-cache=true --rm=true -t oracle/$IMAGE_NAME:$VERSION-$INSTALL_TYPE .\n#\n# For example\n#\n#     $ docker build --force-rm=true --no-cache=true --rm=true -t oracle/ohs:12.2.1.3.0 .\n#\n# Pull serverjre:8 base image\n# -----------------------------------\nFROM oracle/serverjre:8\n\n# Maintainer\n# ------------------------------------\nMAINTAINER Prabhat Kishore <prabhat.kishore@oracle.com>\n\n# Environment variables required for this build (do NOT change)\n# ----------------------------------------------\nENV OHS_PKG=fmw_12.2.1.3.0_ohs_linux64_Disk1_1of1.zip \\\n    OHS_BIN=fmw_12.2.1.3.0_ohs_linux64.bin \\\n    ORACLE_HOME=/u01/oracle/ohssa \\\n    PATH=$PATH:/usr/java/default/bin:/u01/oracle/ohssa/oracle_common/common/bin \\\n    NM_PORT=5556 \\\n    OHS_LISTEN_PORT=7777 \\\n    OHS_SSL_PORT=4443 \\\n    JAVA_HOME=/usr/java/default \\\n    MW_HOME=/u01/oracle/ohssa \\\n    DOMAIN_NAME=ohsDomain \\\n    OHS_COMPONENT_NAME=ohs1 \\\n    PATH=$PATH:$ORACLE_HOME/oracle_common/common/bin:$ORACLE_HOME/user_projects/domains/ohsDomain/bin:/u01/oracle/container-scripts \\\n    WLST_HOME=/u01/oracle/ohssa/oracle_common/common/bin\n\n\n# Copy packages to the new drive\n# -------------------------------------------------------\nCOPY $OHS_PKG install.file oraInst.loc /u01/\n\n# Install OL7 required packages. Refer FMW 12.2.1.3 System requirements guide for complete list of packages\n# Setup filesystem and oracle user\n#---------------------------------------------------------------------------------------------------------\nRUN yum install -y unzip libaio sysstat make psmisc gcc && \\\n    yum clean all && \\\n    chmod a+xr /u01 && \\\n    useradd -b /u01 -m -s /bin/bash oracle && \\\n    mkdir /u01/oracle/.inventory /u01/oracle/bootdir && \\\n    chown oracle:oracle -R /u01 && rm -rf /var/cache/yum\n\n# Go to /u01 as user 'oracle' to proceed with OHS installation\n#--------------------------------------------------------\nUSER oracle\nRUN cd /u01 && unzip -q /u01/$OHS_PKG && cd - && \\\n    /u01/$OHS_BIN -silent -responseFile /u01/install.file -invPtrLoc /u01/oraInst.loc ORACLE_HOME=$ORACLE_HOME && \\ \n    rm /u01/$OHS_BIN  /u01/oraInst.loc /u01/install.file && \\\n    mkdir /u01/oracle/container-scripts/ /u01/oracle/logs\n\n# Copy required files to build this image\n# ------------------------------------------------------\nCOPY container-scripts/* /u01/oracle/container-scripts/\n\n#Expose all Ports\nEXPOSE $OHS_SSL_PORT $OHS_LISTEN_PORT $NM_PORT\n\n# Final setup\nWORKDIR /u01/oracle/container-scripts\n\n# Provision OHS instance\nCMD [\"/u01/oracle/container-scripts/provisionOHS.sh\"]\n"
}