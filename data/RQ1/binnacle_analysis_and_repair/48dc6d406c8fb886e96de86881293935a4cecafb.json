{
  "startTime": 1674235051551,
  "endTime": 1674235051785,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 22,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 18,
        "columnEnd": 185
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 22,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 18,
        "columnEnd": 185
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:18.04\n\nMAINTAINER vincent@cloutier.co\n\nWORKDIR /var/www/html/\nENV TZ 'Europe/Tallinn'\nRUN echo $TZ > /etc/timezone && \\\n    apt-get update && apt-get install --no-install-recommends -y tzdata && \\\n    rm /etc/localtime && \\\n    ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && \\\n    dpkg-reconfigure -f noninteractive tzdata && \\\n    apt-get clean && rm -rf /var/lib/apt/lists/*;\n\nRUN apt update && apt install --no-install-recommends -y apache2 libapache2-mod-php7.2 php7.2 php7.2-dev php7.2-xml php7.2-zip php7.2-curl php7.2-cli openssl composer libcurl4-openssl-dev pkg-config libssl-dev && rm -rf /var/lib/apt/lists/*;\nRUN pecl install mongodb && echo \"extension=mongodb.so\" >> `php --ini | grep \"Loaded Configuration\" | sed -e \"s|.*:\\s*||\"` && echo \"extension=mongodb.so\" >> /etc/php/7.2/apache2/php.ini\n\nENV APACHE_RUN_USER www-data\nENV APACHE_RUN_GROUP www-data\nENV APACHE_LOG_DIR /var/log/apache2\nRUN a2enmod rewrite\n\n# forward request and error logs to docker log collector\nRUN ln -sf /dev/stdout /var/log/apache2/access.log\nRUN ln -sf /dev/stderr /var/log/apache2/error.log\n\nADD docker/000-default.conf /etc/apache2/sites-enabled/000-default.conf\n\nENTRYPOINT [\"apache2ctl\", \"-D\", \"FOREGROUND\"]\n\nEXPOSE 80\nENV IPFSPICS_DB localhost:27017\n\nADD . .\nRUN chmod -R 775 /var/www/\nRUN composer install\n"
}