{
  "startTime": 1674234101336,
  "endTime": 1674234102095,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 47,
        "lineEnd": 48,
        "columnStart": 8,
        "columnEnd": 50
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 84
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 8,
        "columnEnd": 114
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 201,
        "lineEnd": 201,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 202,
        "lineEnd": 202,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 222,
        "lineEnd": 222,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 67,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 98,
        "lineEnd": 100,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 111,
        "lineEnd": 113,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 125,
        "lineEnd": 128,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 139,
        "lineEnd": 144,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 146,
        "lineEnd": 149,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 165,
        "lineEnd": 171,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 173,
        "lineEnd": 179,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 182,
        "lineEnd": 200,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 206,
        "lineEnd": 210,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 213,
        "lineEnd": 216,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 218,
        "lineEnd": 221,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 226,
        "lineEnd": 228,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 31,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 50,
        "lineEnd": 64,
        "columnStart": 22,
        "columnEnd": 9
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 67,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 76,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 80,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 98,
        "lineEnd": 100,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 103,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 111,
        "lineEnd": 113,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 125,
        "lineEnd": 128,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 139,
        "lineEnd": 144,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 146,
        "lineEnd": 149,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 165,
        "lineEnd": 171,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 173,
        "lineEnd": 179,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 182,
        "lineEnd": 200,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 206,
        "lineEnd": 210,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 213,
        "lineEnd": 216,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 218,
        "lineEnd": 221,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 226,
        "lineEnd": 228,
        "columnStart": 4,
        "columnEnd": 20
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 67,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 76,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 98,
        "lineEnd": 100,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 111,
        "lineEnd": 113,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 125,
        "lineEnd": 128,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 139,
        "lineEnd": 144,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 146,
        "lineEnd": 149,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 165,
        "lineEnd": 171,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 173,
        "lineEnd": 179,
        "columnStart": 4,
        "columnEnd": 10
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 182,
        "lineEnd": 200,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 206,
        "lineEnd": 210,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 213,
        "lineEnd": 216,
        "columnStart": 4,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 218,
        "lineEnd": 221,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 226,
        "lineEnd": 228,
        "columnStart": 4,
        "columnEnd": 20
      }
    }
  ],
  "repairedDockerfile": "# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n#\n# Apache Thrift Docker build environment for Ubuntu Trusty\n# Using all stock Ubuntu Trusty packaging except for:\n# - d: does not come with Ubuntu so we're installing 2.070.0\n# - dart: does not come with Ubuntu so we're installing 1.20.1\n# - dotnetcore, disabled because netcore is for 1.0.0-preview and 2.0.0 is out\n# - haxe, disabled because the distro comes with 3.0.0 and it cores while installing\n# - node.js, disabled because it is at 0.10.0 in the distro which is too old (need 4+)\n# - ocaml, disabled because it fails to install properly\n#\n\nFROM buildpack-deps:trusty-scm\nMAINTAINER Apache Thrift <dev@thrift.apache.org>\nENV DEBIAN_FRONTEND noninteractive\n\n### Add apt repos\n\nRUN apt-get update && \\\n    apt-get dist-upgrade -y && \\\n    apt-get install -y --no-install-recommends \\\n      apt \\\n      apt-transport-https \\\n      apt-utils \\\n      curl \\\n      dirmngr \\\n      software-properties-common \\\n      wget && rm -rf /var/lib/apt/lists/*;\n\n# D\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EBCF975E5BA24D5E && \\\n        wget https://master.dl.sourceforge.net/project/d-apt/files/d-apt.list -O /etc/apt/sources.list.d/d-apt.list && \\\n        wget -qO - https://dlang.org/d-keyring.gpg | apt-key add -\n\n# Dart\nRUN curl -f https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add - && \\\n        curl -f https://storage.googleapis.com/download.dartlang.org/linux/debian/dart_stable.list > \\\n          /etc/apt/sources.list.d/dart_stable.list\n\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n`# General dependencies` \\\n      bash-completion \\\n      bison \\\n      build-essential \\\n      clang \\\n      cmake \\\n      debhelper \\\n      flex \\\n      gdb \\\n      llvm \\\n      ninja-build \\\n      pkg-config \\\n      valgrind \\\n      vim && rm -rf /var/lib/apt/lists/*;\nENV PATH /usr/lib/llvm-3.8/bin:$PATH\n\nRUN apt-get install -y --no-install-recommends \\\n`# C++ dependencies` \\\n      libboost-all-dev \\\n      libevent-dev \\\n      libssl-dev \\\n      qt5-default \\\n      qtbase5-dev \\\n      qtbase5-dev-tools && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# csharp (mono) dependencies` \\\n      mono-devel && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# D dependencies` \\\n      dmd-bin=2.070.2-0 \\\n      libphobos2-dev=2.070.2-0 \\\n      dub \\\n      dfmt \\\n      dscanner \\\n      xdg-utils && rm -rf /var/lib/apt/lists/*;\nRUN mkdir -p /usr/include/dmd/druntime/import/deimos /usr/include/dmd/druntime/import/C && \\\n    curl -f -sSL https://github.com/D-Programming-Deimos/libevent/archive/master.tar.gz | tar xz && \\\n    mv libevent-master/deimos/* /usr/include/dmd/druntime/import/deimos/ && \\\n    mv libevent-master/C/* /usr/include/dmd/druntime/import/C/ && \\\n    rm -rf libevent-master\nRUN curl -f -sSL https://github.com/D-Programming-Deimos/openssl/archive/master.tar.gz | tar xz && \\\n    mv openssl-master/deimos/* /usr/include/dmd/druntime/import/deimos/ && \\\n    mv openssl-master/C/* /usr/include/dmd/druntime/import/C/ && \\\n    rm -rf openssl-master\n\nRUN apt-get install -y --no-install-recommends \\\n`# Dart dependencies` \\\n      dart=1.20.1-1 && rm -rf /var/lib/apt/lists/*;\nENV PATH /usr/lib/dart/bin:$PATH\n\nRUN apt-get install -y --no-install-recommends \\\n`# Erlang dependencies` \\\n      erlang-base \\\n      erlang-eunit \\\n      erlang-dev \\\n      erlang-tools \\\n      rebar && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# GlibC dependencies` \\\n      libglib2.0-dev && rm -rf /var/lib/apt/lists/*;\n\n# golang\nENV GOLANG_VERSION 1.7.6\nENV GOLANG_DOWNLOAD_URL https://golang.org/dl/go$GOLANG_VERSION.linux-amd64.tar.gz\nENV GOLANG_DOWNLOAD_SHA256 ad5808bf42b014c22dd7646458f631385003049ded0bb6af2efc7f1f79fa29ea\nRUN curl -fsSL \"$GOLANG_DOWNLOAD_URL\" -o golang.tar.gz && \\\n      echo \"$GOLANG_DOWNLOAD_SHA256  golang.tar.gz\" | sha256sum -c - && \\\n      tar -C /usr/local -xzf golang.tar.gz && \\\n      ln -s /usr/local/go/bin/go /usr/local/bin && \\\n      rm golang.tar.gz\n\nRUN apt-get install -y --no-install-recommends \\\n`# Haskell dependencies` \\\n      ghc \\\n      cabal-install && rm -rf /var/lib/apt/lists/*;\n\n# disabled because it cores while installing\n# RUN apt-get install -y --no-install-recommends \\\n# `# Haxe dependencies` \\\n#       haxe \\\n#       neko \\\n#       neko-dev && \\\n#     haxelib setup /usr/share/haxe/lib && \\\n#     haxelib install hxcpp 3.2.102\n\nRUN apt-get install -y --no-install-recommends \\\n`# Java dependencies` \\\n      ant \\\n      ant-optional \\\n      openjdk-7-jdk \\\n      maven && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Lua dependencies` \\\n      lua5.1 \\\n      lua5.1-dev && rm -rf /var/lib/apt/lists/*;\n\n# disabled because it is too old\n# RUN apt-get install -y --no-install-recommends \\\n# `# Node.js dependencies` \\\n#       nodejs \\\n#       npm\n\n# disabled because it fails to install properly\n# RUN apt-get install -y --no-install-recommends \\\n# `# OCaml dependencies` \\\n#       ocaml \\\n#       opam && \\\n#     opam init --yes && \\\n#     opam install --yes oasis\n\nRUN apt-get install -y --no-install-recommends \\\n`# Perl dependencies` \\\n      libbit-vector-perl \\\n      libclass-accessor-class-perl \\\n      libcrypt-ssleay-perl \\\n      libio-socket-ssl-perl \\\n      libnet-ssleay-perl && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Php dependencies` \\\n      php5 \\\n      php5-cli \\\n      php5-dev \\\n      php-pear \\\n      re2c && \\\n      wget https://getcomposer.org/installer -O - -q | php -- --quiet --install-dir=/usr/local/bin/ --filename=composer && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Python dependencies` \\\n      python-all \\\n      python-all-dbg \\\n      python-all-dev \\\n      python-pip \\\n      python-setuptools \\\n      python-six \\\n      python-twisted \\\n      python-wheel \\\n      python-zope.interface \\\n      python3-all \\\n      python3-all-dbg \\\n      python3-all-dev \\\n      python3-pip \\\n      python3-setuptools \\\n      python3-six \\\n      python3-wheel \\\n      python3-zope.interface && \\\n    pip install --no-cache-dir -U ipaddress backports.ssl_match_hostname tornado && \\\n    pip3 install --no-cache-dir -U backports.ssl_match_hostname tornado && rm -rf /var/lib/apt/lists/*;\n# installing tornado by pip/pip3 instead of debian package\n# if we install the debian package, the build fails in py2\n\nRUN apt-get install -y --no-install-recommends \\\n`# Ruby dependencies` \\\n      ruby \\\n      ruby-dev \\\n      ruby-bundler && rm -rf /var/lib/apt/lists/*;\nRUN gem install bundler --no-ri --no-rdoc\n\nRUN apt-get install -y --no-install-recommends \\\n`# Rust dependencies` \\\n      cargo \\\n      rustc && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install -y --no-install-recommends \\\n`# Static Code Analysis dependencies` \\\n      cppcheck \\\n      sloccount && \\\n    pip install --no-cache-dir flake8 && rm -rf /var/lib/apt/lists/*;\n\n# Install BouncyCastle provider to fix Java builds issues with JDK 7\n# Builds accessing repote repositories fail as seen here: https://github.com/travis-ci/travis-ci/issues/8503\nRUN apt-get install -y --no-install-recommends \\\n`# BouncyCastle JCE Provider dependencies` \\\n      libbcprov-java && \\\n    ln -s /usr/share/java/bcprov.jar /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/bcprov.jar && \\\n    awk -F . -v OFS=. 'BEGIN{n=2}/^security\\.provider/ {split($3, posAndEquals, \"=\");$3=n++\"=\"posAndEquals[2];print;next} 1' /etc/java-7-openjdk/security/java.security > /tmp/java.security && \\\n  echo \"security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\" >> /tmp/java.security && \\\n  mv /tmp/java.security /etc/java-7-openjdk/security/java.security && rm -rf /var/lib/apt/lists/*;\n\n# Clean up\nRUN rm -rf /var/cache/apt/* && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    rm -rf /tmp/* && \\\n    rm -rf /var/tmp/*\n\nENV THRIFT_ROOT /thrift\nRUN mkdir -p $THRIFT_ROOT/src\nCOPY Dockerfile $THRIFT_ROOT/\nWORKDIR $THRIFT_ROOT/src\n"
}