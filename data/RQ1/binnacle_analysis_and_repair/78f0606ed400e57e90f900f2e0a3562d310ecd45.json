{
  "startTime": 1674241570019,
  "endTime": 1674241570113,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 113
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM openjdk:8-jre\nMAINTAINER Christian Cassar <ccassar@cisco.com>\n\nRUN http_proxy=\"\" apt-get update -q && \\\n    http_proxy=\"\" DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n    curl \\\n    unzip \\\n    wget \\\n    ruby \\\n    ruby-dev && rm -rf /var/lib/apt/lists/*;\n\nENV LOGSTASH_VERSION LOGSTASH_VERSION_PLACEHOLDER\n\n# Install Protoc 3.0.0\nRUN https_proxy=\"\" wget https://github.com/google/protobuf/releases/download/v3.0.0/protoc-3.0.0-linux-x86_64.zip\nRUN unzip protoc-3.0.0-linux-x86_64.zip\nRUN cp bin/protoc /usr/bin/protoc\n\n#\n# Define where we mount logs on host\n#\nVOLUME [\"/data\"]\n\n#\n# Pull and install logstash\n#\nRUN https_proxy=\"\" curl -f -s https://download.elasticsearch.org/logstash/logstash/logstash-$LOGSTASH_VERSION.tar.gz | tar xz -C /opt\nRUN ln -s /opt/logstash-$LOGSTASH_VERSION /opt/logstash\n\n#\n# Setup our plugins\n#\nADD .builder /.builder\nRUN http_proxy=\"\" /opt/logstash/bin/plugin install --no-verify logstash-mixin-http_client\nRUN http_proxy=\"\" find /.builder -name *.gem -exec /opt/logstash/bin/plugin install --no-verify {} +\n\n#\n# Start up script which reworks config based on env variables if\n# necessary.\n#\nADD start.sh /start.sh\nRUN chmod +x /start.sh\nCMD '/start.sh'\n"
}