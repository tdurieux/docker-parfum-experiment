{
  "startTime": 1674243968300,
  "endTime": 1674243968362,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 61
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:latest\n\nMAINTAINER Dan Wahlin\n\nRUN apt-key adv --keyserver hkp://pgp.mit.edu:80 --recv-keys 573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62\nRUN echo \"deb http://nginx.org/packages/mainline/ubuntu/ trusty nginx\" >> /etc/apt/sources.list\n\nENV NGINX_VERSION 1.9.4-1~trusty\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y ca-certificates nginx=${NGINX_VERSION} && \\\n    rm -rf /var/lib/apt/lists/*\n\n# Forward request and error logs to docker log collector\nRUN ln -sf /dev/stdout /var/log/nginx/access.log\nRUN ln -sf /dev/stderr /var/log/nginx/error.log\n\nVOLUME /var/cache/nginx\n\n# Copy custom nginx config\nCOPY ./config/nginx.conf /etc/nginx/nginx.conf\n\n# Copy self-signing cert: https://devcenter.heroku.com/articles/ssl-certificate-self\nCOPY ./.certs/server.crt    /etc/nginx/server.crt\nCOPY ./.certs/server.key    /etc/nginx/server.key\n\n# Copy DHE handshake and dhparam https://bjornjohansen.no/optimizing-https-nginx\nCOPY ./.certs/dhparam.pem   /etc/nginx/dhparam.pem\n\n# Make cert key only available to owner (root)\nRUN chmod 600 /etc/nginx/server.key\n\nEXPOSE 80 443\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n\n# To build:\n# docker build -f Dockerfile-nginx --tag danwahlin/nginx .\n\n# To run:\n# docker run -d -p 80:6379 --name nginx danwahlin/nginx"
}