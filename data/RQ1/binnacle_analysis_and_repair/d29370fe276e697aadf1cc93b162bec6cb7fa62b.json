{
  "startTime": 1674253010912,
  "endTime": 1674253010975,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 7,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:2.7.15-alpine3.8\n\n# Thanks to http://www.sandtable.com/reduce-docker-image-sizes-using-alpine\n# FROM debian:jessie\n\n# Credits to yjacolin for providing first versions\nLABEL original_developer=\"yjacolin <yves.jacolin@camptocamp.com>\" \\\n\tmaintainer=\"Just van den Broecke <justb4@gmail.com>\"\n\n# These are default values,\n# Override when running container via docker(-compose)\n\n# General ENV settings\nENV LC_ALL=\"en_US.UTF-8\" \\\n\tLANG=\"en_US.UTF-8\" \\\n\tLANGUAGE=\"en_US.UTF-8\" \\\n    \\\n\t\\\n\t# GHC ENV settings\\\n\tADMIN_NAME=admin \\\n\tADMIN_PWD=admin \\\n\tADMIN_EMAIL=admin.istrator@mydomain.com \\\n\tSQLALCHEMY_DATABASE_URI='sqlite:////GeoHealthCheck/DB/data.db' \\\n\tSECRET_KEY='d544ccc37dc3ad214c09b1b7faaa64c60351d5c8bb48b342' \\\n\tGHC_PROBE_HTTP_TIMEOUT_SECS=30 \\\n\tGHC_MINIMAL_RUN_FREQUENCY_MINS=10 \\\n\tGHC_RETENTION_DAYS=30 \\\n\tGHC_SELF_REGISTER=False \\\n\tGHC_NOTIFICATIONS=False \\\n\tGHC_NOTIFICATIONS_VERBOSITY=True \\\n\tGHC_WWW_LINK_EXCEPTION_CHECK=False \\\n\tGHC_ADMIN_EMAIL='you@example.com' \\\n\tGHC_RUNNER_IN_WEBAPP=False \\\n\tGHC_REQUIRE_WEBAPP_AUTH=False \\\n\tGHC_LOG_LEVEL=30 \\\n\tGHC_LOG_FORMAT='%(asctime)s - %(name)s - %(levelname)s - %(message)s' \\\n\tGHC_NOTIFICATIONS_EMAIL='you2@example.com,them@example.com' \\\n\tGHC_SITE_TITLE='GeoHealthCheck' \\\n\tGHC_SITE_URL='http://localhost' \\\n\tGHC_SMTP_SERVER=None \\\n\tGHC_SMTP_PORT=None \\\n\tGHC_SMTP_TLS=False \\\n\tGHC_SMTP_SSL=False \\\n\tGHC_SMTP_USERNAME=None \\\n\tGHC_SMTP_PASSWORD=None \\\n\tGHC_METADATA_CACHE_SECS=900 \\\n    \\\n# WSGI server settings, assumed is gunicorn  \\\nHOST=0.0.0.0 \\\nPORT=80 \\\nWSGI_WORKERS=4 \\\nWSGI_WORKER_TIMEOUT=6000 \\\nWSGI_WORKER_CLASS='eventlet' \\\n\\\n# GHC Core Plugins modules and/or classes, seldom needed to set:  \\\n# if not specified here or in Container environment  \\\n# all GHC built-in Plugins will be active.  \\\n#ENV GHC_PLUGINS 'GeoHealthCheck.plugins.probe.owsgetcaps,\\\n#        GeoHealthCheck.plugins.probe.wms, ...., ...\\\n#        GeoHealthCheck.plugins.check.checks' \\\n\\\n# GHC User Plugins, best be overridden via Container environment \\\nGHC_USER_PLUGINS=''\n\nRUN apk add --no-cache --virtual .build-deps gcc build-base libxslt-dev libxml2-dev linux-headers postgresql-dev \\\n    && apk add --no-cache bash postgresql-client libxslt libxml2 tzdata openntpd \\\n    && pip install --no-cache-dir virtualenv \\\n    && rm -rf /var/cache/apk/* /tmp/* /var/tmp/*\n\n# Add standard files and Add/override Plugins\n# Alternative Entrypoints to run GHC jobs\n# Override default Entrypoint with these on Containers\nADD docker/scripts/*.sh docker/config_site.py docker/plugins /\n\n# Add Source Code\nADD . /GeoHealthCheck\n\n# Install and Remove build-related packages for smaller image size\nRUN chmod a+x /*.sh && bash install.sh && apk del .build-deps\n\n# For SQLite\nVOLUME [\"/GeoHealthCheck/DB/\"]\n\nEXPOSE ${PORT}\n\nENTRYPOINT /run-web.sh\n"
}