{
  "startTime": 1674252153490,
  "endTime": 1674252153807,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 6,
        "columnEnd": 95
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 6,
        "columnEnd": 96
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 6,
        "columnEnd": 31
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 6,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 6,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 6,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 6,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 6,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 6,
        "columnEnd": 23
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 6,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 6,
        "columnEnd": 28
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 94,
        "lineEnd": 94,
        "columnStart": 6,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 6,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 102,
        "lineEnd": 102,
        "columnStart": 6,
        "columnEnd": 27
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 105,
        "lineEnd": 105,
        "columnStart": 6,
        "columnEnd": 23
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 108,
        "lineEnd": 108,
        "columnStart": 6,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 113,
        "lineEnd": 113,
        "columnStart": 6,
        "columnEnd": 33
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 116,
        "lineEnd": 116,
        "columnStart": 6,
        "columnEnd": 23
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 6,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 122,
        "lineEnd": 122,
        "columnStart": 6,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 127,
        "lineEnd": 127,
        "columnStart": 6,
        "columnEnd": 27
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 130,
        "lineEnd": 130,
        "columnStart": 6,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 133,
        "lineEnd": 133,
        "columnStart": 6,
        "columnEnd": 25
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 136,
        "lineEnd": 136,
        "columnStart": 6,
        "columnEnd": 26
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 178,
        "lineEnd": 178,
        "columnStart": 6,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 35,
        "lineEnd": 54,
        "columnStart": 27,
        "columnEnd": 14
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 35,
        "lineEnd": 54,
        "columnStart": 27,
        "columnEnd": 14
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# GGCOM - Docker - OpenZWave v201509141444\n# Louis T. Getterman IV (@LTGIV)\n# www.GotGetLLC.com | www.opensour.cc/ggcom/docker/openzwave\n#\n# Example usage:\n#\n# Build\n# $] docker build --tag=openzwave .\n#\n# Run\n# $] docker run --rm --interactive --tty --device=\"/dev/ttyACM0:/dev/ttyUSB0\" --entrypoint=/bin/bash --user=root openzwave\n# $] docker run --rm --interactive --tty --device=\"/dev/ttyACM0:/dev/ttyUSB0\" --entrypoint=/usr/local/bin/MinOZW --user=root openzwave\n# $] docker run --rm --device=\"/dev/ttyACM0:/dev/ttyUSB0\" --volume=\"$HOME/src/python-openzwave:/opt/pozw\" openzwave \"/opt/pozw/examples/hello_world.py\"\n#\n# Thanks:\n#\n# Z-Wave Controller Setup on My Raspberry Pi\n# http://thomasloughlin.com/z-wave-controller-setup-on-my-raspberry-pi/\n#\n# Z-Wave support - Home Assistant\n# https://home-assistant.io/components/zwave.html\n#\n# Start Small: Calculating sunrise and sunset in Python\n# http://michelanders.blogspot.com/2010/12/calulating-sunrise-and-sunset-in-python.html\n#\n# YAML parsing and Python? - Stack Overflow\n# https://stackoverflow.com/questions/6866600/yaml-parsing-and-python\n#\n################################################################################\nFROM\t\tdebian:latest\nMAINTAINER\tGotGet, LLC <contact+docker@gotgetllc.com>\n\n# Initial prerequisites\nUSER\t\troot\nENV\t\t\tDEBIAN_FRONTEND\tnoninteractive\nRUN apt-get -y update && apt-get -y --no-install-recommends install \\\n\t\t\t\tapt-transport-https \\\n\t\t\t\tbuild-essential \\\n\t\t\t\tcurl \\\n\t\t\t\tg++ \\\n\t\t\t\tgcc \\\n\t\t\t\tgit-core \\\n\t\t\t\tlibbz2-dev \\\n\t\t\t\tlibmariadb-client-lgpl-dev \\\n\t\t\t\tlibmysqlclient-dev \\\n\t\t\t\tlibreadline-dev \\\n\t\t\t\tlibsqlite3-dev \\\n\t\t\t\tlibssl-dev \\\n\t\t\t\tlibudev-dev \\\n\t\t\t\tlibyaml-dev \\\n\t\t\t\tmake \\\n\t\t\t\tnano \\\n\t\t\t\tsudo \\\n\t\t\t\tzlib1g-dev \\\n\t\t\t\tpkg-config && rm -rf /var/lib/apt/lists/*;\n\n# Create a user and reciprocal environment variables\nRUN\t\t\tadduser --disabled-password --gecos \"\" python_user\nRUN\t\t\tusermod -a -G dialout python_user\n\n# Set environment variables\nUSER\t\tpython_user\nENV\t\t\tHOME\t\t\t/home/python_user\nENV\t\t\tPYENV_ROOT\t\t$HOME/.pyenv\nENV\t\t\tPATH\t\t\t$PYENV_ROOT/shims:$PYENV_ROOT/bin:$HOME/config:$PATH\nENV\t\t\tLD_LIBRARY_PATH\t/usr/local/lib64:$PATH\nWORKDIR\t\t$HOME\n\n# Install Python\nRUN curl -f -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash\nRUN curl -f -L https://raw.githubusercontent.com/gotget/ggcom-docker-pyenv/master/pycompiler.bash | bash -s 2\nRUN pip install --no-cache-dir --upgrade pip\n\n################################################################################\nUSER\t\tpython_user\nWORKDIR\t\t$HOME\n\nRUN pip install --no-cache-dir Cython\nRUN pip install --no-cache-dir 'Louie>=1.1'\nRUN pip install --no-cache-dir 'urwid>=1.1.1'\nRUN pip install --no-cache-dir gevent\nRUN pip install --no-cache-dir flask-socketio\n\n################################################################################\nUSER\t\tpython_user\nWORKDIR\t\t$HOME\n\n#--------------------------------------- Supporting Modules: Databases\n# Redis key-value store\nRUN pip install --no-cache-dir redis\n\n# SQL ORM\nRUN pip install --no-cache-dir MySQL-python\nRUN pip install --no-cache-dir sqlalchemy\nRUN pip install --no-cache-dir sqlacodegen\n\n# Mongo DB\nRUN pip install --no-cache-dir pymongo\n#---------------------------------------/Supporting Modules: Databases\n\n#--------------------------------------- Supporting Modules: Communications\n# MQTT\nRUN pip install --no-cache-dir paho-mqtt\n\n# ZeroMQ\nRUN pip install --no-cache-dir pyzmq\n\n# Distribute execution across many Python interpreters\nRUN pip install --no-cache-dir execnet\n#---------------------------------------/Supporting Modules: Communications\n\n#--------------------------------------- Supporting Modules: Calculations\n# Date calculations utility\nRUN pip install --no-cache-dir python-dateutil\n\n# Geocoding toolbox\nRUN pip install --no-cache-dir geopy\n\n# Astronomical computations (e.g. sunrise and sunset)\nRUN pip install --no-cache-dir pyephem\n\n# tzinfo object for the local timezone\nRUN pip install --no-cache-dir tzlocal\n#---------------------------------------/Supporting Modules: Calculations\n\n#--------------------------------------- Supporting Modules: Utilities\n# ConfigObj\nRUN pip install --no-cache-dir configobj\n\n# YAML\nRUN pip install --no-cache-dir PyYAML\n\n# Universal encoding detector for python 2 and 3\nRUN pip install --no-cache-dir charade\n\n# Platform-independent file locking module\nRUN pip install --no-cache-dir lockfile\n#---------------------------------------/Supporting Modules: Utilities\n\n################################################################################\nUSER\t\tpython_user\nWORKDIR\t\t$HOME\n\n# Create source directory to work out of\nRUN\t\t\tmkdir -pv $HOME/src/\n\n# Clone OpenZWave\nRUN\t\t\tmkdir -p $HOME/src/open-zwave/\n#RUN\t\t\tgit clone https://github.com/OpenZWave/open-zwave.git --branch \"$( \\\n#\t\t\t\tgit ls-remote --tags https://github.com/OpenZWave/open-zwave.git | \\\n#\t\t\t\tsed -e 's/^[[:space:]]*//' | \\\n#\t\t\t\tgrep --perl-regexp --ignore-case --only-matching '(?<=refs/tags/)v[0-9][\\.0-9]*$' | \\\n#\t\t\t\tsort --version-sort | \\\n#\t\t\t\ttail -n 1 \\\n#\t\t\t\t)\" --single-branch $HOME/src/open-zwave/\n# As of right now, Python-OpenZWave can't use the most recent tag, and instead needs the most recent repository.\n# This is fixed in python_openzwave 0.4.x. Feel free to update\nRUN\t\t\tgit clone https://github.com/OpenZWave/open-zwave.git $HOME/src/open-zwave/\n\n# Compile OpenZWave\nWORKDIR\t\t$HOME/src/open-zwave/\nRUN\t\t\tmake\n\n# Install OpenZWave\nUSER\t\troot\nWORKDIR\t\t$HOME/src/open-zwave/\nRUN\t\t\tmake install && ldconfig /usr/local/lib64\n\n# Install OpenZWave Device Database (https://github.com/OpenZWave/open-zwave/wiki/Adding-Devices)\nUSER\t\tpython_user\nWORKDIR\t\t$HOME\nRUN\t\t\tln -s /usr/local/etc/openzwave $HOME/config\n\n################################################################################\nUSER\t\tpython_user\nWORKDIR\t\t$HOME\n\n# Install python_openzwave\nRUN pip install --no-cache-dir python_openzwave --install-option=\"--flavor=shared\"\n\n################################################################################\nUSER\t\troot\nWORKDIR\t\t$HOME\n\n# Clean-up after ourselves\nRUN\t\t\tapt-get -y purge \\\n\t\t\t\tbuild-essential \\\n\t\t\t\tgcc \\\n\t\t\t\tgit \\\n\t\t\t\tmake \\\n\t\t\t\tpkg-config\nRUN\t\t\tapt-get -y autoremove\n\n# Delete specific targets\nRUN\t\t\trm -rf $HOME/src/ $HOME/.cache/pip/ /tmp/*\n\n################################################################################\nUSER\t\troot\nWORKDIR\t\t$HOME\n\nADD\t\t\tinit.bash /root/init.bash\nENTRYPOINT\t[ \"/bin/bash\", \"/root/init.bash\" ]\n################################################################################\n"
}