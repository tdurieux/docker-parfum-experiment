{
  "startTime": 1674235690086,
  "endTime": 1674235690652,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 7,
        "columnEnd": 78
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 128,
        "lineEnd": 128,
        "columnStart": 7,
        "columnEnd": 83
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 59,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 112,
        "lineEnd": 112,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 79,
        "lineEnd": 82,
        "columnStart": 5,
        "columnEnd": 32
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 107,
        "lineEnd": 107,
        "columnStart": 7,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 22,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 4,
        "columnStart": 22,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 22,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 47,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 5,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 5,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 7,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 22,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 47,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 5,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 45
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 7,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 131
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 47,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 5,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 97,
        "lineEnd": 97,
        "columnStart": 4,
        "columnEnd": 69
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 104,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 132,
        "lineEnd": 132,
        "columnStart": 7,
        "columnEnd": 55
      }
    }
  ],
  "repairedDockerfile": "FROM ros:kinetic-ros-base-xenial\nMAINTAINER VÃ­ctor Mayoral Vilches<victor@aliasrobotics.com>\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    ros-kinetic-robot=1.3.2-0* \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Install mono\nRUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\nRUN apt-get update && apt-get install -y --no-install-recommends apt-transport-https && rm -rf /var/lib/apt/lists/*;\nRUN echo \"deb https://download.mono-project.com/repo/ubuntu stable-xenial main\" | tee /etc/apt/sources.list.d/mono-official-stable.list\nRUN apt-get update && apt-get -y --no-install-recommends install mono-devel && rm -rf /var/lib/apt/lists/*;\n# RUN certmgr -ssl -m https://go.microsoft.com\n# RUN certmgr -ssl -m https://nugetgallery.blob.core.windows.net\n# RUN certmgr -ssl -m https://nuget.org\n# RUN mozroots --import --sync\n\n# Install a few additional dependencies\nRUN apt-get install --no-install-recommends -y nuget git && rm -rf /var/lib/apt/lists/*;\n\n# Get a simple talker/listener into the scenario, get roschaos\nCOPY pubsub_example /root/ros_catkin_ws/src/pubsub_example\nRUN cd /root/ros_catkin_ws/src && git clone https://github.com/ruffsl/roschaos\nRUN /bin/bash -c \"cd /root/ros_catkin_ws \\\n  && source /opt/ros/kinetic/setup.bash \\\n  && catkin_make_isolated --install --install-space /opt/ros/kinetic \\\n  && cd && rm -r /root/ros_catkin_ws\"\n\n\n# Install ROSPenTo\nRUN cd /root && git clone https://github.com/jr-robotics/ROSPenTo\nRUN cd /root/ROSPenTo && nuget restore && msbuild\n\n#Copy SSH banner\nRUN rm -rf /etc/update-motd.d/* && rm -rf /etc/legal && \\\n  sed -i 's/\\#force_color_prompt=yes/force_color_prompt=yes/' /root/.bashrc\n# Create an alias for ROSPenTo and rospento\nRUN echo 'alias ROSPenTo=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\nRUN echo 'alias rospento=\"mono /root/ROSPenTo/RosPenToConsole/bin/Debug/RosPenToConsole.exe\"' >> /root/.bashrc\n\n\n# To install volatility project, we gain inspiration from:\n  # - https://github.com/blacktop/docker-yara/blob/master/3.7/Dockerfile\n  # - https://github.com/blacktop/docker-volatility/blob/master/2.6/Dockerfile\n\n# First, install Volatility Dependancies\nRUN apt-get install --no-install-recommends -y ca-certificates zlib1g-dev python-pillow python-crypto python-lxml python-setuptools && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y libssl-dev \\\n                           python-dev \\\n                           libc-dev \\\n                           libjpeg-dev \\\n                           automake \\\n                           autoconf \\\n                           python-pip \\\n                           git \\\n                           libjansson-dev \\\n                           libtool \\\n                           flex && rm -rf /var/lib/apt/lists/*;\nRUN pip install --no-cache-dir --upgrade pip\nRUN pip install --no-cache-dir simplejson \\\n                    construct \\\n                    openpyxl \\\n                    haystack \\\n                    distorm3 \\\n                    colorama \\\n\n                    pycoin \\\n                    pytz\n# install YARA\nENV YARA_VERSION 3.7.1\nENV YARA_PY_VERSION 3.7.0\nRUN set -x \\\n  && echo \"Install Yara from source...\" \\\n  && cd /tmp/ \\\n  && git clone --recursive --branch v$YARA_VERSION https://github.com/VirusTotal/yara.git \\\n  && cd /tmp/yara \\\n  && ./bootstrap.sh \\\n  && sync \\\n  && apt-get install --no-install-recommends -y libmagic-dev \\\n  && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --with-crypto \\\n                 --enable-magic \\\n                 --enable-cuckoo \\\n                 --enable-dotnet && rm -rf /var/lib/apt/lists/*;\nRUN cd /tmp/yara \\\n   && make \\\n   && make install \\\n   && echo \"Install yara-python...\" \\\n   && cd /tmp/ \\\n   && git clone --recursive --branch v$YARA_PY_VERSION https://github.com/VirusTotal/yara-python \\\n   && cd yara-python \\\n   && python setup.py build --dynamic-linking \\\n   && python setup.py install \\\n   && echo \"Make test_rule...\" \\\n   && mkdir /rules \\\n   && echo \"rule dummy { condition: true }\" > /rules/test_rule \\\n   && rm -rf /tmp/*\n# Install distorm3\nRUN apt-get install --no-install-recommends -y pcregrep libpcre++-dev && rm -rf /var/lib/apt/lists/*;\nRUN cd /tmp \\\n  && git clone https://github.com/gdabah/distorm \\\n  && cd /tmp/distorm \\\n  && python setup.py install \\\n  && rm -rf /tmp/*\n# Install PyCrypto\nRUN apt-get install --no-install-recommends -y libgmp3-dev wget && rm -rf /var/lib/apt/lists/*;\nRUN cd /tmp \\\n    && wget https://ftp.dlitz.net/pub/dlitz/crypto/pycrypto/pycrypto-2.6.tar.gz \\\n    && tar -xvzf pycrypto-2.6.tar.gz \\\n    && cd pycrypto-2.6 \\\n    && python setup.py install \\\n    && rm -rf /tmp/* && rm pycrypto-2.6.tar.gz\n# Install ujson\nRUN pip install --no-cache-dir ujson pillow\n\n# Install now volatility\nENV VOL_VERSION 2.6\n# remove this and use git clone as below\nCOPY volatility /tmp/volatility\nRUN cd /tmp \\\n  && echo \"===> Installing Volatility from source...\" \\\n  # && git clone --recursive --branch $VOL_VERSION https://github.com/volatilityfoundation/volatility.git \\\n  # && git clone --recursive https://github.com/vmayoral/volatility.git \\\n  && cd volatility \\\n  && python setup.py install \\\n  && rm -rf /tmp/*\n\n# Installing the Malware Plugins\nRUN cd /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/ \\\n    && wget https://code.google.com/p/malwarecookbook/source/browse/trunk/malware.py\n\n# Fetch the profile, for this particular distro, Ubuntu 16.04.5\nRUN cd /root \\\n    && apt-get install --no-install-recommends -y unzip \\\n    # && wget https://github.com/volatilityfoundation/profiles/blob/master/Linux/Ubuntu/x64/Ubuntu16045.zip \\\n    && wget https://github.com/volatilityfoundation/profiles/blob/master/Linux/Ubuntu/x64/Ubuntu16045.zip?raw=true \\\n    # && unzip Ubuntu16045.zip?raw=true\n    && mv Ubuntu16045.zip?raw=true /usr/local/lib/python2.7/dist-packages/volatility-2.6-py2.7.egg/volatility/plugins/overlays/linux/Ubuntu16045.zip && rm -rf /var/lib/apt/lists/*;\n\nCOPY launch_script.bash /root/\nENTRYPOINT [\"/root/launch_script.bash\"]\n"
}