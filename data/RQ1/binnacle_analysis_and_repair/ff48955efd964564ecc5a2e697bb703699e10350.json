{
  "startTime": 1674240674331,
  "endTime": 1674240674383,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 8,
        "columnEnd": 111
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Copyright (c) 2003-2019 Rony Shapiro <ronys@pwsafe.org>.\n# All rights reserved. Use of the code is allowed under the\n# Artistic License 2.0 terms, as specified in the LICENSE file\n# distributed with this code, or available from\n# http://www.opensource.org/licenses/artistic-license-2.0.php\n#\n# This Dockerfile written by JP Vossen and generously donated to the project.\n#\n# Here is how to run it. It works, but is a tad ugly, I assume due to\n# default GTK themes:\n# ----\n# ~/working/docker/passwordsafe$ sudo docker run --net=host\n# --env=\"DISPLAY\" --volume=\"$HOME/.Xauthority:/root/.Xauthority:rw\"\n# --volume=\"$HOME/.pwsafe:/root/.pwsafe:rw\" passwordsafe\n# ----\n#\n# See: https://hub.docker.com/_/debian and\n# https://hub.docker.com/_/ubuntu\n\nFROM ubuntu:18.04\n\n# Build with: sudo docker build -t passwordsafe .\n# --or--      sudo docker build -t passwordsafe:1.08BETA .\n# Run with: sudo docker run --net=host --env=\"DISPLAY\" --volume=\"$HOME/.Xauthority:/root/.Xauthority:rw\" --volume=\"$HOME/.pwsafe:/root/.pwsafe:rw\" passwordsafe\n\nLABEL \"maintainer\"=\"The Passwordsafe Project <Passwordsafe-linux@lists.sourceforge.net>\"\n\n# Install deps for PWSafe (LOTS and LOTS!)\n# See https://docs.docker.com/develop/develop-images/dockerfile_best-practices#apt-get\nRUN apt-get update \\\n     && apt-get install --no-install-recommends -qy libwxgtk3.0-0v5 libxtst6 libxerces-c3.2 libykpers-1-1 libqrencode3 libcurl4 locales \\\n     && rm -rf /var/lib/apt/lists/*\n\n# Set the locale, per http://jaredmarkell.com/docker-and-locales/\nRUN locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\n\n# Avoid: (pwsafe:8): Gtk-WARNING **: *: Attempting to set the permissions of `/root/.local/share', but failed: No such file or directory\nRUN mkdir -p /root/.local/share\n\n# This is here to leave everything above UNCHANGED as much as possible\n# to allow layer caching to work at build time!\nARG deb_file=passwordsafe-ubuntu18-1.08.1-BETA.amd64.deb\n\nLABEL \"pwsafe\"=\"$deb_file\"\n\nADD https://github.com/pwsafe/pwsafe/releases/download/1.08.1BETA/$deb_file \\\n     /tmp/$deb_file\n\nRUN dpkg -i /tmp/$deb_file && rm /tmp/$deb_file\n\nCMD /usr/bin/pwsafe\n# ----\n#\n# A non-cached build that actually has to do the APT installs takes about\n# 5 minutes, most of which is `apt-get` \"Setting up...\".\n#\n# Build:\n# ----\n#\n# ~/working/docker/passwordsafe$ time sudo docker build -t\n# passwordsafe:1.08BETA .\n# Sending build context to Docker daemon  3.584kB\n# Step 1/13 : FROM ubuntu:18.04\n#   ---> 1d9c17228a9e\n# Step 2/13 : LABEL \"maintainer\"=\"The Passwordsafe Project\n# <Passwordsafe-linux@lists.sourceforge.net>\"\n#   ---> Using cache\n#   ---> 7740484d49d6\n# Step 3/13 : RUN apt-get update     && apt-get install -qy\n# libwxgtk3.0-0v5 libxtst6 libxerces-c3.2 libykpers-1-1 libqrencode3\n# libcurl4 locales     && rm -rf /var/lib/apt/lists/*\n#   ---> Using cache\n#   ---> a27408669b39\n# Step 4/13 : RUN locale-gen en_US.UTF-8\n#   ---> Using cache\n#   ---> 5a77b0e1353a\n# Step 5/13 : ENV LANG en_US.UTF-8\n#   ---> Using cache\n#   ---> 2f130971ca1f\n# Step 6/13 : ENV LANGUAGE en_US:en\n#   ---> Using cache\n#   ---> 5e3b97476bcb\n# Step 7/13 : ENV LC_ALL en_US.UTF-8\n#   ---> Using cache\n#   ---> 3fab6d434cb1\n# Step 8/13 : RUN mkdir -p /root/.local/share\n#   ---> Using cache\n#   ---> 853a2a59033b\n# Step 9/13 : ARG deb_file=passwordsafe-ubuntu18-1.08.1-BETA.amd64.deb\n#   ---> Using cache\n#   ---> b8c13697e68e\n# Step 10/13 : LABEL \"pwsafe\"=\"$deb_file\"\n#   ---> Using cache\n#   ---> a04a7de3ab67\n# Step 11/13 : ADD\n# https://github.com/pwsafe/pwsafe/releases/download/1.08.1BETA/$deb_file\n#   /tmp/$deb_file\n# Downloading  11.26MB/11.26MB\n#   ---> Using cache\n#   ---> d75d25d248ca\n# Step 12/13 : RUN dpkg -i /tmp/$deb_file && rm /tmp/$deb_file\n#   ---> Using cache\n#   ---> 5d88cddbe9b4\n# Step 13/13 : CMD /usr/bin/pwsafe\n#   ---> Using cache\n#   ---> 00b895e642f0\n# Successfully built 00b895e642f0\n# Successfully tagged passwordsafe:1.08.1BETA\n#\n# real    0m3.823s\n# user    0m0.120s\n# sys     0m0.040\n# ----\n#\n# The image is not small because of the large amount of stuff that gets\n# pulled in to meet the deps:\n# ----\n# ~/working/docker/passwordsafe$ sudo docker image list\n# REPOSITORY       TAG        IMAGE ID         CREATED             SIZE\n# passwordsafe     1.08BETA   00b895e642f0     2 minutes ago       359MB\n# passwordsafe     latest     00b895e642f0     2 minutes ago       359MB\n# <none>           <none>     852d5e907158     29 minutes ago      359MB\n# <none>           <none>     9d5272a16c46     About an hour ago   359MB\n# ...\n# ubuntu           18.04      1d9c17228a9e     7 days ago          86.7MB\n# ----\n"
}