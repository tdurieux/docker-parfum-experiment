{
  "startTime": 1674235742496,
  "endTime": 1674235742604,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 4,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This is a Dockerfile of the Aalto Speech Diarizer.\n# To install using this Dockerfile:\n#   docker build . -t speech-diarizer\n#\n# To run:\n#   docker run -it blabbertabber/aalto-speech-diarizer bash\n#   cd /speaker-diarization\n#   curl -k -OL https://nono.io/meeting.wav  # sample .wav; substitute yours\n#   ./spk-diarization2.py meeting.wav        # substitute your .wav filename\n#   cat stdout                               # browse output\n\n\nFROM fedora\n\nLABEL authors=\"Brian Cunnie <brian.cunnie@gmail.com>, Brendan Cunnie <saintbrendan@gmail.com>, Tran Tu <trand.tu@gmail.com>\"\n\n# for converting audio files to wav\nRUN dnf install -y https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm\nRUN dnf install -y ffmpeg\n\n# required development tools\nRUN dnf groupinstall -y \"Development Tools\"; \\\n    dnf install -y https://kojipkgs.fedoraproject.org//packages/cmake/2.8.12.2/2.fc21/x86_64/cmake-2.8.12.2-2.fc21.x86_64.rpm \\\n        SDL-devel \\\n        python-devel \\\n        lapack-devel \\\n        libsndfile-devel \\\n        fftw-devel \\\n        clang \\\n        clang-devel \\\n        swig \\\n        gcc-c++\n\n# Aalto-speech pre-req\nRUN git clone https://github.com/aalto-speech/AaltoASR.git; \\\n    cd AaltoASR; \\\n    mkdir build; \\\n    cd build; \\\n    cmake .. ; \\\n    make; \\\n    make install\n\n# The diarizer proper\nRUN git clone https://github.com/aalto-speech/speaker-diarization.git; \\\n    cd /speaker-diarization; \\\n    ln -s ../AaltoASR ./ ; \\\n    ln -s ../AaltoASR/build ./ ; \\\n    ln -s ../AaltoASR/build/aku/feacat ./ ; \\\n    pip install --no-cache-dir numpy scipy docopt\n"
}