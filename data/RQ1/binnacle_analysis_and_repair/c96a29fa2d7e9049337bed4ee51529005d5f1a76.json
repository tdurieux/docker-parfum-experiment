{
  "startTime": 1674242147110,
  "endTime": 1674242147217,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 113
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 113
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 113
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\nFROM inokappa/wheezy-7.2-basic\n#\nMAINTAINER YOHEI KAWAHARA inokappa\n#\nRUN apt-get update && apt-get -y --no-install-recommends install build-essential wget sudo ruby1.9.3 rubygems redis-server erlang-nox puppet openssh-server && rm -rf /var/lib/apt/lists/*;\nRUN gem install json --no-ri --no-rdoc -V\nRUN puppet module install example42/redis\nRUN puppet module install puppetlabs/rabbitmq\nRUN puppet module install sensu/sensu\nADD rabbitmq_install.sh /root/\nRUN chmod 755 /root/rabbitmq_install.sh\nRUN /root/rabbitmq_install.sh\n#\nADD puppet/site.pp /etc/puppet/manifests/\nADD puppet/fileserver.conf /etc/puppet/\nRUN cd /etc/puppet && puppet apply manifests/site.pp\n#\nADD config.json /etc/sensu/\nRUN cp /tmp/ssl_certs/client/cert.pem /etc/sensu/ssl/\nRUN cp /tmp/ssl_certs/client/key.pem /etc/sensu/ssl/\n#\nRUN mkdir -p /var/run/sshd\nRUN useradd -d /home/sandbox -m -s /bin/bash sandbox\nRUN echo sandbox:sandbox | chpasswd\nRUN echo 'sandbox ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers\n#\nADD start.sh /root/\nRUN chmod 755 /root/start.sh\n# for sensu dashboard\nEXPOSE 8080\n# for rabbitmq\nEXPOSE 5671\nEXPOSE 15671\nEXPOSE 25671\n# for ssh\n#EXPOSE 22\n# for all process management via monit (in the future)\n#EXPOSE 2812\n#CMD [\"/usr/bin/monit\", \"-I\", \"-c\", \"/etc/monit/monitrc\"]\n"
}