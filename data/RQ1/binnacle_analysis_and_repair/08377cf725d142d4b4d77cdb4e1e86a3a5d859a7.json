{
  "startTime": 1674239334951,
  "endTime": 1674239335039,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 57
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubi8/s2i-base:1\n\n# This image provides a Perl 5.26 environment you can use to run your Perl applications.\n\nEXPOSE 8080\n\n# Image metadata\nENV PERL_VERSION=5.26 \\\n    PERL_SHORT_VER=526 \\\n    NAME=perl\n\nENV SUMMARY=\"Platform for building and running Perl $PERL_VERSION applications\" \\\n    DESCRIPTION=\"Perl $PERL_VERSION available as container is a base platform for \\\nbuilding and running various Perl $PERL_VERSION applications and frameworks. \\\nPerl is a high-level programming language with roots in C, sed, awk and shell scripting. \\\nPerl is good at handling processes and files, and is especially good at handling text. \\\nPerl's hallmarks are practicality and efficiency. While it is used to do a lot of \\\ndifferent things, Perl's most common applications are system administration utilities \\\nand web programming.\"\n\nLABEL summary=\"$SUMMARY\" \\\n      description=\"$DESCRIPTION\" \\\n      io.k8s.description=\"$DESCRIPTION\" \\\n      io.k8s.display-name=\"Apache 2.4 with mod_fcgid and Perl $PERL_VERSION\" \\\n      io.openshift.expose-services=\"8080:http\" \\\n      io.openshift.tags=\"builder,${NAME},${NAME}${PERL_SHORT_VER}\",\"${NAME}-${PERL_SHORT_VER}\" \\\n      io.openshift.s2i.scripts-url=\"image:///usr/libexec/s2i\" \\\n      io.s2i.scripts-url=\"image:///usr/libexec/s2i\" \\\n      name=\"ubi8/${NAME}-${PERL_SHORT_VER}\" \\\n      com.redhat.component=\"${NAME}-${PERL_SHORT_VER}-container\" \\\n      version=\"1\" \\\n      com.redhat.license_terms=\"https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI\" \\\n      maintainer=\"SoftwareCollections.org <sclorg@redhat.com>\" \\\n      help=\"For more information visit https://github.com/sclorg/s2i-${NAME}-container\" \\\n      usage=\"s2i build <SOURCE-REPOSITORY> ubi8/${NAME}-${PERL_SHORT_VER}:latest <APP-NAME>\"\n\n# perl-FCGI module is missing a default stream\nRUN yum -y module enable perl-FCGI:0.78\n\nRUN INSTALL_PKGS=\"perl perl-devel mod_fcgid perl-App-cpanminus perl-FCGI patch\" && \\\n    yum -y module enable perl:$PERL_VERSION && \\\n    yum -y --allowerasing distrosync && \\\n    yum install -y --setopt=tsflags=nodocs  $INSTALL_PKGS && \\\n    rpm -V $INSTALL_PKGS && \\\n    yum clean all && rm -rf /var/cache/yum\n\n# Copy the S2I scripts from the specific language image to $STI_SCRIPTS_PATH\nCOPY ./s2i/bin/ $STI_SCRIPTS_PATH\n\n# Copy extra files to the image.\nCOPY ./root/ /\n\n# In order to drop the root user, we have to make some directories world\n# writeable as OpenShift default security model is to run the container under\n# random UID.\nRUN mkdir -p ${APP_ROOT}/etc/httpd.d && \\\n    sed -i -f ${APP_ROOT}/etc/httpdconf.sed /etc/httpd/conf/httpd.conf && \\\n    chmod -R og+rwx /var/run/httpd /run/mod_fcgid ${APP_ROOT}/etc/httpd.d && \\\n    chown -R 1001:0 ${APP_ROOT} && chmod -R ug+rwx ${APP_ROOT} && \\\n    rpm-file-permissions\n\nUSER 1001\n\n# Set the default CMD to print the usage of the language image\nCMD $STI_SCRIPTS_PATH/usage\n"
}