{
  "startTime": 1674238539018,
  "endTime": 1674238539198,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM base/archlinux\nMAINTAINER Dusan <dusan@floorplanner.com>\n\n# Runs whole system upgrade and install packages\nRUN pacman -Syu --noconfirm\nRUN pacman -S --noconfirm base-devel binutils curl python2 python2-pip cronie\n\n# Builds & Installs RabbitMQ server package from AUR\nWORKDIR /tmp\nRUN curl -f -O https://aur.archlinux.org/packages/ra/rabbitmq/rabbitmq.tar.gz\nRUN tar -xzf rabbitmq.tar.gz && rm rabbitmq.tar.gz\nWORKDIR /tmp/rabbitmq\nRUN makepkg --asroot --noconfirm --syncdeps --install\nRUN rabbitmq-plugins enable rabbitmq_management\nWORKDIR /root\nRUN rm -rf /tmp/rabbitmq\n\n# Installs Configuration Synchronization service\nRUN pip2 install --no-cache-dir python-etcd==0.3.0\nRUN pip2 install --no-cache-dir urllib3==1.8.2\nRUN pip2 install --no-cache-dir pyrabbit==1.0.1\n\n# Add and run scripts\nADD configure.sh /configure.sh\nRUN chmod 755 /configure.sh\nRUN /configure.sh\nADD configsync.py /configsync.py\nRUN chmod 755 /configsync.py\nADD run.sh /run.sh\nRUN chmod 755 /run.sh\nADD logrotate.cron /etc/cron.daily/logrotate\nRUN chmod 755 /etc/cron.daily/logrotate\nADD rabbitmq.logrotate /etc/logrotate.d/rabbitmq\n\n# RabbitMQ ports\nEXPOSE 5672 15672\n\nCMD [\"/run.sh\"]\n\n"
}