{
  "startTime": 1674250819176,
  "endTime": 1674250819523,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 58,
        "lineEnd": 58,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 79,
        "lineEnd": 79,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 107
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 4,
        "columnEnd": 32
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 131
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 103
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 57,
        "lineEnd": 57,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 4,
        "columnEnd": 56
      }
    }
  ],
  "repairedDockerfile": "# FROM w251/tensorflow:tx2-3.3_b39-py3\nFROM tensorflow\n\n#+ numpy\n#+  nltk==3.2.5\n# resampy\n#+  python_speech_features\n#+ pandas==0.23.0\n# + six\n# + mpi4py\n# librosa==0.6.1\n#+ matplotlib\n# + joblib==0.11\n#+  sentencepiece\n# + sacrebleu\n\n# + h5py\n# + tqdm\n\n# Need python 3..\nRUN apt update\nRUN apt install --no-install-recommends -y git && rm -rf /var/lib/apt/lists/*;\n\n# RUN apt install -y libfreetype6-dev pkg-config\n\n# numpy, pandas, matplotlib\nRUN apt install --no-install-recommends -y python3-numpy python3-scipy python3-matplotlib python3-pandas python3-nose python3-sympy && rm -rf /var/lib/apt/lists/*;\n\n# nltk\nRUN pip3 install --no-cache-dir nltk==3.2.5\n\nWORKDIR /tmp\n\n# sentencepiece\nRUN apt-get install --no-install-recommends -y cmake build-essential pkg-config libgoogle-perftools-dev && rm -rf /var/lib/apt/lists/*;\nRUN git clone https://github.com/google/sentencepiece\nWORKDIR /tmp/sentencepiece\nRUN mkdir build && cd build && cmake .. && make -j 6 && make install\nRUN ldconfig -v\n\nWORKDIR /tmp/sentencepiece/python\nRUN python3 setup.py build\nRUN python3 setup.py install\n\nRUN rm -fr /tmp/sentencepiece\n\nRUN pip3 install --no-cache-dir python_speech_features\nRUN pip3 install --no-cache-dir tqdm\n\nRUN apt install --no-install-recommends -y libhdf5-dev && rm -rf /var/lib/apt/lists/*;\nRUN pip3 install --no-cache-dir h5py\n\nRUN pip3 install --no-cache-dir joblib==0.11\n\nRUN pip3 install --no-cache-dir sacrebleu\n\nRUN pip3 install --no-cache-dir six\nRUN apt -y --no-install-recommends install libopenmpi-dev && rm -rf /var/lib/apt/lists/*;\nRUN pip3 install --no-cache-dir mpi4py\n\n# RUN pip3 install resampy\nRUN apt install --no-install-recommends -y wget xz-utils && rm -rf /var/lib/apt/lists/*;\nWORKDIR /tmp\nRUN wget https://releases.llvm.org/7.0.1/llvm-7.0.1.src.tar.xz\nRUN tar Jxvf *.xz\nRUN git clone https://github.com/numba/llvmlite.git\n\nWORKDIR /tmp/llvm-7.0.1.src\nRUN mkdir build\nWORKDIR /tmp/llvm-7.0.1.src/build\nRUN cmake .. -DCMAKE_BUILD_TYPE=Release -DLLVM_TARGETS_TO_BUILD=\"ARM;X86;AArch64\" -\"DCMAKE_C_FLAGS=-mcpu=cortex-a57\"\nRUN make -j6\nRUN make install\n\nWORKDIR /tmp/llvmlite\n\nRUN python3 setup.py build\nRUN python3 setup.py install\nRUN pip3 install --no-cache-dir numba\nRUN pip3 install --no-cache-dir resampy\n\nRUN pip3 install --no-cache-dir librosa==0.6.1\n\nRUN rm -rf /tmp/llvmlite\nRUN rm -rf /tmp/llvm-7.0.1.src\nRUN rm -rf /tmp/llvm-7.0.1.src.tar.xz\n\nWORKDIR /\n\nRUN git clone https://github.com/NVIDIA/OpenSeq2Seq\n\nWORKDIR /OpenSeq2Seq\n\n# unit tests\n# RUN python3 -m unittest discover -s open_seq2seq -p '*_test.py'\n\nWORKDIR /\n"
}