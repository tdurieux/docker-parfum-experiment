{
  "startTime": 1674234171831,
  "endTime": 1674234172487,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 95
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 88,
        "lineEnd": 88,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 37
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 61
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:xenial\nMAINTAINER dominicwilliams\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN echo \"Modify the silly string to rebuild from here w/o the cache alsdjajdasd\"\n\nRUN apt-get update\nRUN apt-get upgrade -q -y\nRUN apt-get dist-upgrade -q -y\n\nRUN apt-get install --no-install-recommends -y apt-utils && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y sudo && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y figlet && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y strace && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y curl && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y vim && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y git && rm -rf /var/lib/apt/lists/*;\n\nRUN curl -f -sL https://deb.nodesource.com/setup_7.x | sudo -E bash -\nRUN apt-get install --no-install-recommends -y nodejs && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y python && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y python-pip && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y python-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y libssl-dev && rm -rf /var/lib/apt/lists/*;\nRUN apt-get install --no-install-recommends -y rake && rm -rf /var/lib/apt/lists/*;\n\n# Install tmux to gain split screen management and screen sharing capabilities\nRUN apt-get install --no-install-recommends -y tmux && rm -rf /var/lib/apt/lists/*;\n\n# Pimp VIM with Nerd Tree and other goodies using the Braintree setup\nWORKDIR /root\nRUN git clone https://github.com/braintreeps/vim_dotfiles.git\nWORKDIR /root/vim_dotfiles\nRUN rake\n\n# Add TypeScrupt support too\nRUN echo \"Plug 'leafgarland/typescript-vim'\" >> /root/.vimrc.bundles.local\nWORKDIR /root/.vim/plugged\nRUN git clone https://github.com/leafgarland/typescript-vim.git typescript-vim\n\n# Make sure we are using\nRUN echo 'set encoding=utf-8' >> /root/.vimrc\n\n# Configure VIM with support for Solidity\nWORKDIR /root\nRUN curl -f -o vim-solidity-master.zip https://codeload.github.com/tomlion/vim-solidity/zip/master\nRUN unzip vim-solidity-master.zip\nRUN rsync -a vim-solidity-master/ .vim/\nRUN rm -rf vim-solidity-master\n\n# Add an SSH server for social hacking i.e. pair/multi programming and configure run on port 2222\nRUN apt-get install --no-install-recommends -y openssh-server && rm -rf /var/lib/apt/lists/*;\nRUN sed -i '/Port 22/c\\Port 2222' /etc/ssh/sshd_config\nRUN sed -i '/LogLevel INFO/c\\LogLevel VERBOSE' /etc/ssh/sshd_config\nRUN sed -i '/PasswordAuthentication yes/c\\PasswordAuthentication no' /etc/ssh/sshd_config\nRUN mkdir /var/run/sshd\nRUN mkdir /root/.ssh\n\n# Add Cloud9 for pair programming & IDE, in addition to tmux\nWORKDIR /opt\nRUN git clone git://github.com/c9/core.git cloud9\nWORKDIR /opt/cloud9\nRUN scripts/install-sdk.sh\n# patch for solidty syntax\nADD patches/c9/node_modules/ace/lib/ace/ext/modelist.js /opt/cloud9/node_modules/ace/lib/ace/ext/modelist.js\nADD patches/c9/node_modules/ace/lib/ace/mode/solidity.js /opt/cloud9/node_modules/ace/lib/ace/mode/solidity.js\nADD patches/c9/node_modules/ace/lib/ace/mode/solidity_highlight_rules.js /opt/cloud9/node_modules/ace/lib/ace/mode/solidity_highlight_rules.js\nADD patches/c9/node_modules/ace/lib/ace/snippets/solidity.js /opt/cloud9/node_modules/ace/lib/ace/snippets/solidity.js\n# make C9 server runnable (user needs to run $ c9.sh to launch platform)\nRUN mkdir /opt/cloud9/workspace\nWORKDIR /opt/cloud9/workspace\nRUN ln -s /src src\nRUN echo 'cd /opt/cloud9;node server.js --collab -p 8181  --listen 0.0.0.0 -a : -w /opt/cloud9/workspace' > /usr/local/bin/c9.sh\nRUN chmod ugo+x /usr/local/bin/c9.sh\n\n# Install testrpc and Truffle directly from github as PIP and NPM not regularly\n# updated (e.g. make sure we have latest version solc)\n# ethereumjs-testrpc\nWORKDIR /tmp\nRUN git clone https://github.com/ethereumjs/testrpc.git\nWORKDIR /tmp/testrpc\nRUN npm install -g . && npm cache clean --force;\n# Truffle\nWORKDIR /tmp\nRUN git clone https://github.com/ConsenSys/truffle-default-builder.git\nRUN df -h\nWORKDIR /tmp/truffle-default-builder\nRUN npm install -g . && npm cache clean --force;\nWORKDIR /tmp\nRUN git clone https://github.com/ConsenSys/truffle.git\nWORKDIR /tmp/truffle\nRUN npm install -g . && npm cache clean --force;\n\n# Create an instructive welcome message\nRUN echo 'figlet Instant Dapp IDE' >> /root/.bashrc\nRUN echo 'echo \"\\n\\\n Build 2016-12-08.1\\n\\\n \\n\\\n *** GET STARTED ***\\n\\\n tmux is used to maintain concurrent windows. In window 0 we are running\\n\\\n testrpc, which is a dummy blockchain for testing and development. In window 1\\n\\\n we are running c9.sh, which makes the Cloud9 IDE available in a Web browser on\\n\\\n http://localhost:8181. You are in window 2, which is a great place to build\\n\\\n a Dapp. Note you can create a new window using ctrl-b c, and you can\\n\\\n navigate to an existing window using ctrl-b <window>.\\n\\\n \\n\\\n SAMPLE BUILD PROCESS...\\n\\\n $ mkdir new-proj         # create a new project folder\\n\\\n $ cd new-proj            # make project folder current directory\\n\\\n $ truffle init           # initialize a bare bones project!!!\\n\\\n $ truffle compile        # compile project contracts\\n\\\n $ truffle test           # run project'\"'s\"' unit tests\\n\\\n $ truffle build          # build the whole Dapp (inc. html, js...)\\n\\\n $ truffle migrate        # migrate compiled contracts to e.g. testrpc chain\\n\\\n $ truffle serve          # serve Dapp for testing on http://localhost:8080\\n\\\n \\n\\\n TIPS\\n\\\n -- Share your Cloud9 url with collaborators on your external IP address\\n\\\n ---- Cloud9 supports real time shared editing of code\\n\\\n -- If you prefer using the terminal we have installed VIM\\n\\\n ---- Ready pimped with NerdTree and Solidity support\\n\\\n -- An SSH server makes it possible to share tmux session\\n\\\n ---- Pair programmers join tmux sessions using $ tmux a -t pair\\n\\\n \\n\\\n DOCS\\n\\\n -- http://truffleframework.com/ [Truffle]\\n\\\n -- https://media.readthedocs.org/pdf/solidity/latest/solidity.pdf [Solidity]\\n\\\n -- https://gist.github.com/MohamedAlaa/2961058 [tmux]\\n\\\n \\n\\\n Enjoy! Ping me with feature requests via https://twitter.com/dominic_w\\n\\\n\"' >> /root/.bashrc\n\n# Clean up APT when done.\nRUN apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# On entry, start sshd, copy pair programming keys into authorized keys, and run bash\nENTRYPOINT service ssh start && cp /root/.import/authorized_keys /root/.ssh/ && tmux new -s pair 'testrpc -d 0.0.0.0' \\; new-window 'c9.sh' \\; new-window\n\n# Start user in their source code directory...\nWORKDIR /src\n\n"
}