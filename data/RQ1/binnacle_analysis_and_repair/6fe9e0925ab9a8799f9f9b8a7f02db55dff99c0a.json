{
  "startTime": 1674246640943,
  "endTime": 1674246641213,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 76
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 28,
        "lineEnd": 28,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 53
      }
    }
  ],
  "repairedDockerfile": "FROM php:7.1.10-fpm\n\n# --- SOFT --- #\n\nRUN apt-get update && apt-get install -y \\\n    openssh-client \\\n    libfreetype6-dev \\\n    libjpeg62-turbo-dev \\\n    libmcrypt-dev \\\n    libpng12-dev \\\n    zlib1g-dev \\\n    libssl-dev \\\n    g++ \\\n    libmemcached-dev \\\n    imagemagick \\\n    libmagickwand-6.q16-dev --no-install-recommends \\\n    wget && \\\n    apt-get clean && \\\n    rm -r /var/lib/apt/lists/*\n\nRUN ln -s /usr/lib/x86_64-linux-gnu/ImageMagick-6.8.9/bin-Q16/MagickWand-config /usr/bin\n\n# --- ICU --- #\n\nRUN mkdir /opt/tmp && cd /opt/tmp && \\\n    wget https://download.icu-project.org/files/icu4c/58.2/icu4c-58_2-src.tgz && \\\n    tar zxvf icu4c-58_2-src.tgz && \\\n    cd icu/source && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/opt/icu582 && make && make install && \\\n    rm -rf /opt/tmp && rm icu4c-58_2-src.tgz\n\n# --- EXTENSIONS --- #\n\nRUN docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ && \\\n    docker-php-ext-install gd && \\\n    docker-php-ext-install pdo && \\\n    docker-php-ext-install pdo_mysql && \\\n    docker-php-ext-install opcache && \\\n    docker-php-ext-configure intl --with-icu-dir=/opt/icu582 && \\\n    docker-php-ext-install intl && \\\n    docker-php-ext-install mbstring && \\\n    docker-php-ext-install fileinfo && \\\n    docker-php-ext-install dom && \\\n    docker-php-ext-install zip\n\nRUN pecl channel-update pecl.php.net && \\\n    pecl install memcached && \\\n    pecl install imagick\n\nRUN echo \"extension=memcached.so\" > /usr/local/etc/php/conf.d/ext-memcached.ini && \\\n    echo \"extension=imagick.so\" > /usr/local/etc/php/conf.d/ext-imagick.ini\n\n# --- NODE --- #\n\nRUN curl -f -sL https://deb.nodesource.com/setup_8.x | bash -\nRUN apt-get install --no-install-recommends -y nodejs && rm -rf /var/lib/apt/lists/*;\n\n# --- COMPOSER --- #\n\nRUN curl -f -sS https://getcomposer.org/installer | php\nRUN mv composer.phar /usr/local/bin/composer\n\n# --- DATA --- #\n\nWORKDIR /var/www/html\n"
}