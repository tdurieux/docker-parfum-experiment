{
  "startTime": 1674242228916,
  "endTime": 1674242229099,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 48,
        "lineEnd": 48,
        "columnStart": 5,
        "columnEnd": 75
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:bionic\n\nARG cores=1\nENV ecores=$cores\n\nRUN apt update \\\n  && apt install -y --no-install-recommends \\\n     software-properties-common \\\n     ca-certificates \\\n     wget curl git python vim \\\n  && apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nRUN add-apt-repository ppa:bitcoin/bitcoin \\\n  && apt update \\\n  && apt install -y --no-install-recommends \\\n     build-essential libtool autotools-dev bsdmainutils \\\n     libevent-dev autoconf automake pkg-config libssl1.0-dev \\\n     libboost-system-dev libboost-filesystem-dev libboost-chrono-dev \\\n     libboost-program-options-dev libboost-test-dev libboost-thread-dev \\\n     libdb4.8-dev libdb4.8++-dev libgmp-dev libminiupnpc-dev libzmq3-dev \\\n  && apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# gcc8\nRUN apt update \\\n  && apt install -y --no-install-recommends \\\n     g++-8-multilib gcc-8-multilib binutils-gold \\\n  && apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nENV PROJECTDIR=/opt/blocknetdx/BlockDX\nENV BASEPREFIX=$PROJECTDIR/depends\nENV DISTDIR=/opt/blocknetdx/dist\nENV HOST=x86_64-pc-linux-gnu\n\n# Download depends\nRUN mkdir -p $PROJECTDIR\n\n# Copy source files\n#RUN cd /opt/blocknetdx \\\n#  && git clone --depth 1 --branch 3.12.1 https://github.com/BlocknetDX/BlockDX.git tmp \\\n#  && mv tmp/* BlockDX/\nCOPY . $PROJECTDIR/\n\n# Build source\nRUN mkdir -p $DISTDIR \\\n  && cd $PROJECTDIR \\\n  && chmod +x ./autogen.sh; sync \\\n  && ./autogen.sh \\\n  && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" CC=gcc-8 CXX=g++-8 --without-gui --enable-debug --prefix=/ \\\n  && make clean \\\n  && echo \"Building with cores: $ecores\" \\\n  && make -j$ecores \\\n  && make install DESTDIR=$DISTDIR \\\n  && cp $DISTDIR/bin/* /usr/local/bin \\\n  && make clean \\\n  && rm -rf /opt/blocknetdx\n\nWORKDIR /opt/blockchain/data\n\n###################\n# Blocknet daemon\n###################\n\nRUN mkdir -p /opt/blockchain/config \\\n  && mkdir -p /opt/blockchain/data \\\n  && ln -s /opt/blockchain/config /root/.blocknetdx\n\n# Write default blocknetdx.conf (can be overridden on commandline)\nRUN echo \"testnet=1                       \\n\\\ndatadir=/opt/blockchain/data              \\n\\\n                                          \\n\\\ndbcache=128                               \\n\\\nmaxmempool=256                            \\n\\\n                                          \\n\\\nport=41474    # mainnet: 41412            \\n\\\nrpcport=41419 # mainnet: 41414            \\n\\\n                                          \\n\\\nlisten=1                                  \\n\\\nserver=1                                  \\n\\\nlogtimestamps=1                           \\n\\\nlogips=1                                  \\n\\\nenableaccounts=1                          \\n\\\nstaking=0                                 \\n\\\n                                          \\n\\\nrpcuser=test                              \\n\\\nrpcpassword=user                          \\n\\\nrpcallowip=0.0.0.0/0                      \\n\\\nrpctimeout=15                             \\n\\\nrpcclienttimeout=15\" > /opt/blockchain/config/blocknetdx.conf\n\nVOLUME [\"/opt/blockchain/config\", \"/opt/blockchain/data\"]\n\n# Port, RPC, Test Port, Test RPC\nEXPOSE 41412 41414 41474 41419\n\nCMD [\"blocknetdxd\", \"-daemon=0\"]"
}