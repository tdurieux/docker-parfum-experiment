{
  "startTime": 1674249326491,
  "endTime": 1674249326677,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 65
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 89
      }
    }
  ],
  "repairedDockerfile": "# Copyright 2019 The Knative Authors\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nFROM golang:latest\n\nENV GOPATH /go\nENV PATH $PATH:/etc/gha2db:/${GOPATH}/bin\n\nRUN apt-get update -y && \\\n\t\t\t\tapt-get install --no-install-recommends -y apt-transport-https \\\n\t\t\t\tgit psmisc jsonlint yamllint gcc && rm -rf /var/lib/apt/lists/*;\n\nRUN go get -u github.com/golang/lint/golint && \\\n  go get golang.org/x/tools/cmd/goimports\n\nRUN go get github.com/jgautheron/goconst/cmd/goconst && \\\n\tgo get github.com/jgautheron/usedexports\n\nRUN go get github.com/kisielk/errcheck && \\\n\tgo get github.com/lib/pq\n\nRUN go get golang.org/x/text/transform && \\\n\tgo get golang.org/x/text/unicode/norm\n\nRUN go get github.com/google/go-github/github && \\\n\tgo get golang.org/x/oauth2\n\nRUN go get gopkg.in/yaml.v2 && \\\n\tgo get github.com/mattn/go-sqlite3\n\nRUN apt-get install --no-install-recommends -y vim && rm -rf /var/lib/apt/lists/*;\n\n#POSTGRES INSTALLATION\nRUN apt-get install --no-install-recommends -y postgresql-client postgresql-9.6 sudo gosu && rm -rf /var/lib/apt/lists/*;\nENV PG_MAJOR 9.6\nENV PATH $PATH:/usr/lib/postgresql/$PG_MAJOR/bin\nRUN adduser postgres sudo\n\n#DEVSTATS INSTALLATION\nRUN mkdir -p ${GOPATH}/src\nWORKDIR ${GOPATH}/src\nRUN git clone https://github.com/cncf/devstats\nWORKDIR ${GOPATH}/src/devstats\nRUN git checkout 56f581a2f03d6fd9f718faa9c2b1a885e1e9076f\nRUN make\nRUN make install\nCOPY [\"scripts/setup_mount.sh\", \"scripts/setup_db.sh\", \"${GOPATH}/src/\"]\n"
}