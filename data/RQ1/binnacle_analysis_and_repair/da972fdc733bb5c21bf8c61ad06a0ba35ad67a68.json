{
  "startTime": 1674241684416,
  "endTime": 1674241684556,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 29,
        "columnEnd": 40
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Horizon GPS Location Service: gps\n#\n# This server provides REST access to gps receiver location and satellite data\n# (or gps location estimated from the IP address if hardware is not available).\n#\n# More precise documentation of the behavior of this container may be found\n# in the src/main.go source code.\n#\n# To build this server container, run the following command in this directory:\n#   $ make\n#\n# Written by Glen Darling, November 2016.\n# Updated to 2-stage build, and modified to target arm64v8, May 2019.\n\n\n\n# Build stage 0: Go compilation\n\nFROM arm64v8/golang:alpine\n\nRUN apk --no-cache update && apk add --no-cache git\nRUN apk add --no-cache gcc musl musl-dev\n\nRUN mkdir -p /build/bin\nCOPY src /build/src\n\nWORKDIR /build\nRUN env GOPATH=/build GOOPTIONS_ARM64='CGO_ENABLED=0 GOOS=linux GOARCH=arm64' go get github.com/kellydunn/golang-geo\nRUN env GOPATH=/build GOOPTIONS_ARM64='CGO_ENABLED=0 GOOS=linux GOARCH=arm64 ' go build -o /build/bin/arm64_gps /build/src/main.go\n\n\n\n# Build stage 1: The final container (including armv6_gps binary from above)\n\nFROM aarch64/alpine:latest\n\n# Install the gpsd daemon, and the certs needed to use https services\nRUN apk update && apk add gpsd --no-cache ca-certificates\n\n# Copy in the server binary from stage 0 of the build (above)\nCOPY --from=0 /build/bin/arm64_gps /gps\n\n# The gps service uses this port to respond to REST requests\nEXPOSE 80\n\n# Set the default command to be the go executable to start everything\nCMD /gps\n"
}