{
  "startTime": 1674241794503,
  "endTime": 1674241798894,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 43,
        "lineEnd": 82,
        "columnStart": 0,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 0,
        "columnEnd": 1059
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 0,
        "columnEnd": 1059
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM phusion/baseimage:0.9.16\nMAINTAINER sparklyballs <sparkly@madeupemail.com>\nENV DEBIAN_FRONTEND noninteractive\n\n# Set correct environment variables\nENV HOME /root\nENV TERM xterm\n\n\n\n\n# Use baseimage-docker's init system\nCMD [\"/sbin/my_init\"]\n\n# ADD startup file\n\nADD startup/movedeb.sh /root/movedeb.sh\nADD src/5071.patch /5071.patch\n\n# Set the locale\n\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\nRUN locale-gen en_US.UTF-8 && \\\n\n# install fpm and kodi build dependencies\nmkdir -p /root/project/debout && \\\napt-get update && \\\n apt-get install --no-install-recommends -y git openjdk-7-jre-headless build-essential gawk pmount libtool nasm yasm automake cmake gperf zip unzip bison libsdl-dev libsdl-image1.2-dev libsdl-gfx1.2-dev libsdl-mixer1.2-dev libfribidi-dev liblzo2-dev libfreetype6-dev libsqlite3-dev libogg-dev libasound2-dev python-sqlite libglew-dev libcurl3 libcurl4-gnutls-dev libxrandr-dev libxrender-dev libmad0-dev libogg-dev libvorbisenc2 libsmbclient-dev libmysqlclient-dev libpcre3-dev libdbus-1-dev libjasper-dev libfontconfig-dev libbz2-dev libboost-dev libenca-dev libxt-dev libxmu-dev libpng-dev libjpeg-dev libpulse-dev mesa-utils libcdio-dev libsamplerate-dev libmpeg3-dev libflac-dev libiso9660-dev libass-dev libssl-dev fp-compiler gdc libmpeg2-4-dev libmicrohttpd-dev libmodplug-dev libssh-dev gettext cvs python-dev libyajl-dev libboost-thread-dev libplist-dev libusb-dev libudev-dev libtinyxml-dev libcap-dev autopoint libltdl-dev swig libgtk2.0-bin libtag1-dev libtiff-dev libnfs1 libnfs-dev libxslt-dev libbluray-dev software-properties-common python-software-properties ruby-dev && \\\ngem install fpm && \\\n# get source, patch it and prepare for build\n\n# Download XBMC, pick version from github\ncd / && \\\ngit clone https://github.com/xbmc/xbmc.git && \\\ncd xbmc && \\\nmv /5071.patch . && \\\ngit checkout 14.1-Helix && \\\ngit apply 5071.patch && \\\n# Configure, make, clean.\n./bootstrap && \\\n ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n--enable-nfs \\\n--enable-upnp \\\n--enable-ssh \\\n--enable-libbluray \\\n--disable-debug \\\n--disable-vdpau \\\n--disable-vaapi \\\n--disable-crystalhd \\\n--disable-vdadecoder \\\n--disable-vtbdecoder \\\n--disable-openmax \\\n--disable-joystick \\\n--disable-rsxs \\\n--disable-projectm \\\n--disable-rtmp \\\n--disable-airplay \\\n--disable-airtunes \\\n--disable-dvdcss \\\n--disable-optical-drive \\\n--disable-libusb \\\n--disable-libcec \\\n--disable-libmp3lame \\\n--disable-libcap \\\n--disable-udev \\\n--disable-libvorbisenc \\\n--disable-asap-codec \\\n--disable-afpclient \\\n--disable-goom \\\n--disable-fishbmc \\\n--disable-spectrum \\\n--disable-waveform \\\n--disable-avahi \\\n--disable-non-free \\\n--disable-texturepacker \\\n--disable-pulse \\\n--disable-dbus \\\n--disable-alsa \\\n--disable-hal \\\n--prefix=/opt/kodi-server && \\\nmake && \\\nmake DESTDIR=/root/project install && \\\n\n# create package\ncd /root/project/debout && \\\nfpm -s dir -t deb -n kodi-headless -v 0.0.3 -C /root/project  \\\n-d \"libelf1 (>= 0.158-0ubuntu5.2)\" \\\n-d \"libxau6 (>= 1:1.0.8-1)\" \\\n-d \"libxdmcp6 (>= 1:1.1.1-1)\" \\\n-d \"libxcb1 (>= 1.10-2ubuntu1)\" \\\n-d \"libx11-data (>= 2:1.6.2-1ubuntu2)\" \\\n-d \"libx11-6 (>= 2:1.6.2-1ubuntu2)\" \\\n-d \"libxext6 (>= 2:1.3.2-1)\" \\\n-d \"libxml2 (>= 2.9.1+dfsg1-3ubuntu4.4)\" \\\n-d \"sgml-base (>= 1.26+nmu4ubuntu1)\" \\\n-d \"libaacs0 (>= 0.7.0-1)\" \\\n-d \"libasound2-data (>= 1.0.27.2-3ubuntu7)\" \\\n-d \"libasound2 (>= 1.0.27.2-3ubuntu7)\" \\\n-d \"libasyncns0 (>= 0.8-4ubuntu2)\" \\\n-d \"libatk1.0-data (>= 2.10.0-2ubuntu2)\" \\\n-d \"libatk1.0-0 (>= 2.10.0-2ubuntu2)\" \\\n-d \"libavahi-common-data (>= 0.6.31-4ubuntu1)\" \\\n-d \"libavahi-common3 (>= 0.6.31-4ubuntu1)\" \\\n-d \"libavahi-client3 (>= 0.6.31-4ubuntu1)\" \\\n-d \"libavutil52 (>= 6:9.16-0ubuntu0.14.04.1)\" \\\n-d \"libgsm1 (>= 1.0.13-4)\" \\\n-d \"libmp3lame0 (>= 3.99.5+repack1-3ubuntu1)\" \\\n-d \"libopenjpeg2 (>= 1.3+dfsg-4.7ubuntu1)\" \\\n-d \"libopus0 (>= 1.1-0ubuntu1)\" \\\n-d \"liborc-0.4-0 (>= 1:0.4.18-1ubuntu1)\" \\\n-d \"libschroedinger-1.0-0 (>= 1.0.11-2ubuntu1)\" \\\n-d \"libspeex1 (>= 1.2~rc1.1-1ubuntu1)\" \\\n-d \"libogg0 (>= 1.3.1-1ubuntu1)\" \\\n-d \"libtheora0 (>= 1.1.1+dfsg.1-3.2)\" \\\n-d \"libva1 (>= 1.3.0-2)\" \\\n-d \"libvorbis0a (>= 1.3.2-1.3ubuntu1)\" \\\n-d \"libvorbisenc2 (>= 1.3.2-1.3ubuntu1)\" \\\n-d \"libvpx1 (>= 1.3.0-2)\" \\\n-d \"libx264-142 (>= 2:0.142.2389+git956c8d8-2)\" \\\n-d \"libxvidcore4 (>= 2:1.3.2-9ubuntu1)\" \\\n-d \"libavcodec54 (>= 6:9.16-0ubuntu0.14.04.1)\" \\\n-d \"libavformat54 (>= 6:9.16-0ubuntu0.14.04.1)\" \\\n-d \"libavresample1 (>= 6:9.16-0ubuntu0.14.04.1)\" \\\n-d \"libfreetype6 (>= 2.5.2-1ubuntu2.2)\" \\\n-d \"libswscale2 (>= 6:9.16-0ubuntu0.14.04.1)\" \\\n-d \"libavfilter3 (>= 6:9.16-0ubuntu0.14.04.1)\" \\\n-d \"libbluetooth3 (>= 4.101-0ubuntu13)\" \\\n-d \"libbluray1 (>= 1:0.5.0-1)\" \\\n-d \"libcaca0 (>= 0.99.beta18-1ubuntu5)\" \\\n-d \"fonts-dejavu-core (>= 2.34-1ubuntu1)\" \\\n-d \"fontconfig-config (>= 2.11.0-0ubuntu4.1)\" \\\n-d \"libfontconfig1 (>= 2.11.0-0ubuntu4.1)\" \\\n-d \"libpixman-1-0 (>= 0.30.2-2ubuntu1)\" \\\n-d \"libxcb-render0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxcb-shm0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxrender1 (>= 1:0.9.8-1)\" \\\n-d \"libcairo2 (>= 1.13.0~20140204-0ubuntu1.1)\" \\\n-d \"liblockdev1 (>= 1.0.3-1.5build1)\" \\\n-d \"libcec2 (>= 2.1.4-1ubuntu2)\" \\\n-d \"libcrystalhd3 (>= 1:0.0~git20110715.fdd2f19-9ubuntu1)\" \\\n-d \"libcups2 (>= 1.7.2-0ubuntu1.2)\" \\\n-d \"libdatrie1 (>= 0.2.8-1)\" \\\n-d \"libpciaccess0 (>= 0.13.2-1)\" \\\n-d \"libdrm-intel1 (>= 2.4.56-1~ubuntu1)\" \\\n-d \"libdrm-nouveau2 (>= 2.4.56-1~ubuntu1)\" \\\n-d \"libdrm-radeon1 (>= 2.4.56-1~ubuntu1)\" \\\n-d \"libenca0 (>= 1.15-2)\" \\\n-d \"libflac8 (>= 1.3.0-2ubuntu0.14.04.1)\" \\\n-d \"libsamplerate0 (>= 0.1.8-7)\" \\\n-d \"libjack-jackd2-0 (>= 1.9.9.5+20130622git7de15e7a-1ubuntu1)\" \\\n-d \"libsndfile1 (>= 1.0.25-7ubuntu2)\" \\\n-d \"libpulse0 (>= 1:4.0-0ubuntu11)\" \\\n-d \"libfluidsynth1 (>= 1.1.6-2)\" \\\n-d \"libfontenc1 (>= 1:1.1.2-1)\" \\\n-d \"libjpeg-turbo8 (>= 1.3.0-0ubuntu2)\" \\\n-d \"libjpeg8 (>= 8c-2ubuntu8)\" \\\n-d \"libjasper1 (>= 1.900.1-14ubuntu3.1)\" \\\n-d \"libjbig0 (>= 2.0-2ubuntu4.1)\" \\\n-d \"libtiff5 (>= 4.0.3-7ubuntu0.1)\" \\\n-d \"libgdk-pixbuf2.0-common (>= 2.30.7-0ubuntu1)\" \\\n-d \"libgdk-pixbuf2.0-0 (>= 2.30.7-0ubuntu1)\" \\\n-d \"libllvm3.4 (>= 1:3.4-1ubuntu3)\" \\\n-d \"libgl1-mesa-dri (>= 10.1.3-0ubuntu0.3)\" \\\n-d \"libglapi-mesa (>= 10.1.3-0ubuntu0.3)\" \\\n-d \"libx11-xcb1 (>= 2:1.6.2-1ubuntu2)\" \\\n-d \"libxcb-dri2-0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxcb-dri3-0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxcb-glx0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxcb-present0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxcb-sync1 (>= 1.10-2ubuntu1)\" \\\n-d \"libxdamage1 (>= 1:1.1.4-1ubuntu1)\" \\\n-d \"libxfixes3 (>= 1:5.0.1-1ubuntu1)\" \\\n-d \"libxshmfence1 (>= 1.1-2)\" \\\n-d \"libxxf86vm1 (>= 1:1.1.3-1)\" \\\n-d \"libgl1-mesa-glx (>= 10.1.3-0ubuntu0.3)\" \\\n-d \"libglew1.10 (>= 1.10.0-3)\" \\\n-d \"libgraphite2-3 (>= 1.2.4-1ubuntu1)\" \\\n-d \"libgtk2.0-common (>= 2.24.23-0ubuntu1.1)\" \\\n-d \"libthai-data (>= 0.1.20-3)\" \\\n-d \"libthai0 (>= 0.1.20-3)\" \\\n-d \"fontconfig (>= 2.11.0-0ubuntu4.1)\" \\\n-d \"libpango-1.0-0 (>= 1.36.3-1ubuntu1.1)\" \\\n-d \"libharfbuzz0b (>= 0.9.27-1ubuntu1)\" \\\n-d \"libpangoft2-1.0-0 (>= 1.36.3-1ubuntu1.1)\" \\\n-d \"libpangocairo-1.0-0 (>= 1.36.3-1ubuntu1.1)\" \\\n-d \"libxcomposite1 (>= 1:0.4.4-1)\" \\\n-d \"libxcursor1 (>= 1:1.1.14-1)\" \\\n-d \"libxi6 (>= 2:1.7.1.901-1ubuntu1)\" \\\n-d \"libxinerama1 (>= 2:1.1.3-1)\" \\\n-d \"libxrandr2 (>= 2:1.4.2-1)\" \\\n-d \"shared-mime-info (>= 1.2-0ubuntu3)\" \\\n-d \"libgtk2.0-0 (>= 2.24.23-0ubuntu1.1)\" \\\n-d \"x11-common (>= 1:7.7+1ubuntu8)\" \\\n-d \"libice6 (>= 2:1.0.8-2)\" \\\n-d \"liblcms1 (>= 1.19.dfsg-1.2ubuntu5)\" \\\n-d \"liblcms2-2 (>= 2.5-0ubuntu4)\" \\\n-d \"libtalloc2 (>= 2.1.0-1)\" \\\n-d \"libtdb1 (>= 1.2.12-1)\" \\\n-d \"libtevent0 (>= 0.9.19-1)\" \\\n-d \"libldb1 (>= 1:1.1.16-1)\" \\\n-d \"libllvm3.5 (>= 1:3.5~svn201651-1ubuntu1)\" \\\n-d \"liblzo2-2 (>= 2.06-1.2ubuntu1.1)\" \\\n-d \"libmad0 (>= 0.15.1b-8ubuntu1)\" \\\n-d \"libmicrohttpd10 (>= 0.9.33-1)\" \\\n-d \"libmikmod2 (>= 3.1.16-1)\" \\\n-d \"libmpeg2-4 (>= 0.5.1-5ubuntu1)\" \\\n-d \"mysql-common (>= 5.5.41-0ubuntu0.14.04.1)\" \\\n-d \"libmysqlclient18 (>= 5.5.41-0ubuntu0.14.04.1)\" \\\n-d \"libnfs1 (>= 1.3.0-2ubuntu1)\" \\\n-d \"libntdb1 (>= 1.0-2ubuntu1)\" \\\n-d \"libpcrecpp0 (>= 1:8.31-2ubuntu2)\" \\\n-d \"libplist1 (>= 1.10-1)\" \\\n-d \"libsdl1.2debian (>= 1.2.15-8ubuntu1.1)\" \\\n-d \"libvorbisfile3 (>= 1.3.2-1.3ubuntu1)\" \\\n-d \"libsdl-mixer1.2 (>= 1.2.12-10)\" \\\n-d \"libshairport1 (>= 1.2.1~git20120110.aeb4987-2ubuntu1)\" \\\n-d \"libsm6 (>= 2:1.2.1-2)\" \\\n-d \"libssh-4 (>= 0.6.1-0ubuntu3.1)\" \\\n-d \"libtag1-vanilla (>= 1.9.1-2)\" \\\n-d \"libtinyxml2.6.2 (>= 2.6.2-2)\" \\\n-d \"libva-x11-1 (>= 1.3.0-2)\" \\\n-d \"libva-glx1 (>= 1.3.0-2)\" \\\n-d \"libvdpau1 (>= 0.7-1)\" \\\n-d \"libwbclient0 (>= 2:4.1.6+dfsg-1ubuntu2.14.04.4)\" \\\n-d \"libxt6 (>= 1:1.1.4-1)\" \\\n-d \"libxmu6 (>= 2:1.1.1-1)\" \\\n-d \"libxpm4 (>= 1:3.5.10-1)\" \\\n-d \"libxaw7 (>= 2:1.0.12-1)\" \\\n-d \"libxcb-shape0 (>= 1.10-2ubuntu1)\" \\\n-d \"libxslt1.1 (>= 1.1.28-2build1)\" \\\n-d \"libxtst6 (>= 2:1.2.2-1)\" \\\n-d \"libxv1 (>= 2:1.0.10-1)\" \\\n-d \"libxxf86dga1 (>= 2:1.1.4-1)\" \\\n-d \"python2.7-minimal (>= 2.7.6-8)\" \\\n-d \"python2.7 (>= 2.7.6-8)\" \\\n-d \"python-minimal (>= 2.7.5-5ubuntu3)\" \\\n-d \"libpython-stdlib (>= 2.7.5-5ubuntu3)\" \\\n-d \"python (>= 2.7.5-5ubuntu3)\" \\\n-d \"python-talloc (>= 2.1.0-1)\" \\\n-d \"samba-libs (>= 2:4.1.6+dfsg-1ubuntu2.14.04.4)\" \\\n-d \"libass4 (>= 0.10.1-3ubuntu1)\" \\\n-d \"libglu1-mesa (>= 9.0.0-2)\" \\\n-d \"libsmbclient (>= 2:4.1.6+dfsg-1ubuntu2.14.04.4)\" \\\n-d \"libtxc-dxtn-s2tc0 (>= 0~git20131104-1.1)\" \\\n-d \"libwebp5 (>= 0.4.0-4)\" \\\n-d \"libwebpmux1 (>= 0.4.0-4)\" \\\n-d \"libyajl2 (>= 2.0.4-4)\" \\\n-d \"xml-core (>= 0.13+nmu2)\" \\\n-d \"fonts-liberation (>= 1.07.3-3)\" \\\n-d \"hicolor-icon-theme (>= 0.13-1)\" \\\n-d \"libcdio13 (>= 0.83-4.1ubuntu1)\" \\\n-d \"libgtk2.0-bin (>= 2.24.23-0ubuntu1.1)\" \\\n-d \"libmodplug1 (>= 1:0.8.8.4-4.1)\" \\\n-d \"libpostproc52 (>= 6:0.git20120821-4)\" \\\n-d \"libtag1c2a (>= 1.9.1-2)\" \\\n-d \"musescore-soundfont-gm (>= 1.3+dfsg-1)\" \\\n-d \"python-cairo (>= 1.8.8-1ubuntu5)\" \\\n-d \"python-gobject-2 (>= 2.28.6-12build1)\" \\\n-d \"python-gtk2 (>= 2.24.0-3ubuntu3)\" \\\n-d \"python-pil (>= 2.3.0-1ubuntu3)\" \\\n-d \"python-imaging (>= 2.3.0-1ubuntu3)\" \\\n-d \"python-support (>= 1.0.15)\" \\\n-d \"tcpd (>= 7.6.q-25)\" \\\n-d \"mesa-utils (>= 8.1.0-2)\" \\\n-d \"ttf-liberation (>= 1.07.3-3)\" . && \\\n\n\n\n\n# set executable  for startup file\nchmod +x /root/movedeb.sh && rm -rf /var/lib/apt/lists/*;\n\nENTRYPOINT [\"/root/movedeb.sh\"]\n\n\n"
}