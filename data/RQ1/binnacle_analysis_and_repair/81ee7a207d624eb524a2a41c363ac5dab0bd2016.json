{
  "startTime": 1674234510716,
  "endTime": 1674234510855,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 24
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# LICENSE CDDL 1.0 + GPL 2.0\n#\n# ORACLE DOCKERFILES PROJECT\n# --------------------------\n# This is the Dockerfile for Coherence 12.1.3 Standalone Distribution\n#\n# REQUIRED BASE IMAGE TO BUILD THIS IMAGE\n# ---------------------------------------\n# Visit for more info:\n#  - https://registry.hub.docker.com/_/oraclelinux/\n#\n# REQUIRED FILES TO BUILD THIS IMAGE\n# ----------------------------------\n# (1) fmw_12.1.3.0.0_coherence_Disk1_1of1.zip\n#     Download the Standalone installer from http://www.oracle.com/technetwork/middleware/coherence/downloads/index.html\n#\n# (2) jdk-8u25-linux-x64.rpm\n#     Download from http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\n#\n# HOW TO BUILD THIS IMAGE\n# -----------------------\n# Put all downloaded files in the same directory as this Dockerfile\n# Run:\n#      $ sudo sh build.sh\n#\n\n# Pull base image\n# ---------------\nFROM oraclelinux:7\n\n# Maintainer\n# ----------\nMAINTAINER Bruno Borges <bruno.borges@oracle.com>\n\n# Environment variables required for this build (do NOT change)\nENV JAVA_RPM jdk-8u25-linux-x64.rpm\nENV FMW_PKG  fmw_12.1.3.0.0_coherence_Disk1_1of1.zip\nENV FMW_JAR  fmw_12.1.3.0.0_coherence.jar\nENV FMW_DIR  coherence12130\nENV COHERENCE_HOME /u01/$FMW_DIR/coherence\n\n# Install and configure Oracle JDK 8u25\n# -------------------------------------\nCOPY config/$JAVA_RPM /root/\nRUN rpm -i /root/$JAVA_RPM && rm /root/$JAVA_RPM\nENV JAVA_HOME /usr/java/default\nENV CONFIG_JVM_ARGS -Djava.security.egd=file:/dev/./urandom\n\n# Setup required packages (unzip), filesystem, and oracle user\n# ------------------------------------------------------------\nRUN yum install -y unzip && \\ \n    mkdir /u01 && chmod a+xr /u01 && \\ \n    useradd -b /u01 -m -s /bin/bash oracle && \\\n    echo oracle:oracle | chpasswd && rm -rf /var/cache/yum\n\n# Copy files required to build this image\nCOPY config/$FMW_PKG /u01/\nCOPY config/oraInst.loc /u01/oraInst.loc\nCOPY config/install.file /u01/install.file\n\nWORKDIR /u01\nRUN chown oracle:oracle -R /u01\nUSER oracle\n\n# Installation of Coherence\nRUN unzip /u01/$FMW_PKG -d /u01/oracle/ > /dev/null && \\\n    rm $FMW_PKG && \\\n    mkdir /u01/oracle/.inventory\n\nWORKDIR /u01/oracle\n\nRUN java -jar $FMW_JAR -silent -responseFile /u01/install.file -invPtrLoc /u01/oraInst.loc -jreLoc $JAVA_HOME && \\ \n    rm $FMW_JAR && \\ \n    ln -s /u01/oracle/$FMW_DIR /u01/oracle/coherence\n\nWORKDIR /u01/oracle/$FMW_DIR\n\n# Cleanup\nUSER root\nRUN rm /u01/oraInst.loc /u01/install.file && \\\n    yum erase -y unzip && \\ \n    yum clean all\n\nVOLUME /u01/oracle/coherence_config\n\nUSER oracle\n\n# Define default command to start bash.\nCMD [\"bash\"]\n"
}