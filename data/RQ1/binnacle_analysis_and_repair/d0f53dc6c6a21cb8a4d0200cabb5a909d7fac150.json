{
  "startTime": 1674240388668,
  "endTime": 1674240388729,
  "originalSmells": [
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 61,
        "lineEnd": 63,
        "columnStart": 4,
        "columnEnd": 50
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# -----------------------------------------------\n# Build\n# -----------------------------------------------\n# docker build --pull -t acme/starter-ansible -t acme/starter-ansible:v3.7 .\n# ----------------------------------------------\nFROM registry.access.redhat.com/rhel7\nMAINTAINER Red Hat Systems Engineering <refarch-feedback@redhat.com>\n\n# -----------------------------------------------\n# Labels\n# -----------------------------------------------\n# Atomic/OpenShift Labels\n# https://github.com/projectatomic/ContainerApplicationGenericLabels\n# ----------------------------------------------\n\nLABEL name=\"acme/starter-ansible\" \\\n      maintainer=\"refarch-feedback@redhat.com\" \\\n      vendor=\"Acme Corp\" \\\n      version=\"3.7\" \\\n      release=\"1\" \\\n      summary=\"Acme Corp's starter-ansible app\" \\\n      description=\"starter-ansible app will do .....\" \\\n### Required labels above - recommended below\n      url=\"https://www.acme.io\" \\\n      run='docker run -tdi --name ${NAME} ${IMAGE}' \\\n      io.k8s.description=\"starter-ansible app will do .....\" \\\n      io.k8s.display-name=\"starter-ansible app\" \\\n      io.openshift.expose-services=\"\" \\\n      io.openshift.tags=\"acme,starter-ansible,starter,epel,ansible\"\n\n# -----------------------------------------------\n# Environmental Variables\n# -----------------------------------------------\n# Define application path and user account variables\n# -----------------------------------------------\n\nENV APP_ROOT=/opt/app-root \\\n    USER_NAME=default \\\n    USER_UID=10001\nENV APP_HOME=${APP_ROOT}/src  PATH=$PATH:${APP_ROOT}/bin\n\n# -----------------------------------------------\n# Copy\n# -----------------------------------------------\n# Copy the playbook and help files to tmp\n# Copy the bin directory to the APP_ROOT\n# -----------------------------------------------\n\nCOPY help.md init.yml /tmp/\nCOPY bin/ ${APP_ROOT}/bin/\n\n# -----------------------------------------------\n# Run\n# -----------------------------------------------\n# Install Ansible\n# Run the init playbook with the above environmental variables\n# as extra vars.  The init plabook will install required packages\n# and configure the application user account and directories.\n# Once finished will remove all packages that are no longer needed.\n# -----------------------------------------------\n\nRUN yum -y install --disablerepo \"*\" \\\n                   --enablerepo rhel-7-server-rpms,rhel-7-server-optional-rpms,rhel-7-server-ose-3.7-rpms \\\n                   --setopt=tsflags=nodocs ansible && \\\n    ansible-playbook /tmp/init.yml -c local -i localhost, \\\n                   --extra-vars \"application_install=${APPLICATION_INSTALL} application_version=${APPLICATION_VERSION} app_root=${APP_ROOT} username=${USER_NAME} uid=${USER_UID}\" && \\\n    yum -y erase ansible && \\\n    yum clean all && rm -rf /var/cache/yum\n\n# -----------------------------------------------\n# User\n# -----------------------------------------------\n# Containers should NOT run as root as a good practice.\n# -----------------------------------------------\n\nUSER 10001\nWORKDIR ${APP_ROOT}\nCMD run"
}