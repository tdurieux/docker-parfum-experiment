{
  "startTime": 1674240312194,
  "endTime": 1674240312628,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 39
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Generated by Neurodocker version 0.4.3-2-g01cdd22\n# Timestamp: 2019-05-14 18:40:33 UTC\n#\n# Thank you for using Neurodocker. If you discover any issues\n# or ways to improve this software, please submit an issue or\n# pull request on our GitHub repository:\n#\n#     https://github.com/kaczmarj/neurodocker\n\nFROM neurodebian:stretch\n\nARG DEBIAN_FRONTEND=\"noninteractive\"\n\nRUN apt-get update -qq \\\n    && apt-get install -y -q --no-install-recommends \\\n           neurodebian-freeze \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* \\\n    && nd_freeze  20190513\n\nENV LANG=\"en_US.UTF-8\" \\\n    LC_ALL=\"en_US.UTF-8\" \\\n    ND_ENTRYPOINT=\"/neurodocker/startup.sh\"\nRUN export ND_ENTRYPOINT=\"/neurodocker/startup.sh\" \\\n    && apt-get update -qq \\\n    && apt-get install -y -q --no-install-recommends \\\n           apt-utils \\\n           bzip2 \\\n           ca-certificates \\\n           curl \\\n           locales \\\n           unzip \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* \\\n    && sed -i -e 's/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen \\\n    && dpkg-reconfigure --frontend=noninteractive locales \\\n    && update-locale LANG=\"en_US.UTF-8\" \\\n    && chmod 777 /opt && chmod a+s /opt \\\n    && mkdir -p /neurodocker \\\n    && if [ ! -f \"$ND_ENTRYPOINT\" ]; then \\\n         echo '#!/usr/bin/env bash' >> \"$ND_ENTRYPOINT\" \\\n    &&   echo 'set -e' >> \"$ND_ENTRYPOINT\" \\\n    &&   echo 'if [ -n \"$1\" ]; then \"$@\"; else /usr/bin/env bash; fi' >> \"$ND_ENTRYPOINT\"; \\\n    fi \\\n    && chmod -R 777 /neurodocker && chmod a+s /neurodocker\n\nENTRYPOINT [\"/neurodocker/startup.sh\"]\n\nRUN apt-get update -qq \\\n    && apt-get install -y -q --no-install-recommends \\\n           vim \\\n           wget \\\n           strace \\\n           time \\\n           ncdu \\\n           gnupg \\\n           curl \\\n           procps \\\n           datalad \\\n           pigz \\\n           git-annex-standalone \\\n           python-nipype \\\n           virtualenv \\\n           python-dcmstack \\\n           python-configparser \\\n           python-funcsigs \\\n           python-pytest \\\n           dcmtk \\\n           python-pip \\\n           python-wheel \\\n           python-setuptools \\\n           python-datalad \\\n           heudiconv \\\n           dcm2niix \\\n           python-pytest \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nRUN curl -f -sL https://deb.nodesource.com/setup_6.x | bash -\n\nRUN apt-get update -qq \\\n    && apt-get install -y -q --no-install-recommends \\\n           nodejs \\\n           npm \\\n    && apt-get clean \\\n    && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nRUN npm install -g bids-validator@1.1.1 && npm cache clean --force;\n\nRUN mkdir /afs /inbox\n\nRUN echo '#!/bin/bash' >> /neurodocker/heudiconv.sh && echo 'heudiconv \"$@\"' >> /neurodocker/heudiconv.sh && chmod +x /neurodocker/heudiconv.sh\n\nRUN useradd --no-user-group --create-home --shell /bin/bash reproin\nUSER reproin\n\nENTRYPOINT [\"/neurodocker/heudiconv.sh\"]\n\nRUN echo '{ \\\n    \\n  \"pkg_manager\": \"apt\", \\\n    \\n  \"instructions\": [ \\\n    \\n    [ \\\n    \\n      \"base\", \\\n    \\n      \"neurodebian:stretch\" \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"ndfreeze\", \\\n    \\n      { \\\n    \\n        \"date\": \"20190513\" \\\n    \\n      } \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"install\", \\\n    \\n      [ \\\n    \\n        \"vim\", \\\n    \\n        \"wget\", \\\n    \\n        \"strace\", \\\n    \\n        \"time\", \\\n    \\n        \"ncdu\", \\\n    \\n        \"gnupg\", \\\n    \\n        \"curl\", \\\n    \\n        \"procps\", \\\n    \\n        \"datalad\", \\\n    \\n        \"pigz\", \\\n    \\n        \"git-annex-standalone\", \\\n    \\n        \"python-nipype\", \\\n    \\n        \"virtualenv\", \\\n    \\n        \"python-dcmstack\", \\\n    \\n        \"python-configparser\", \\\n    \\n        \"python-funcsigs\", \\\n    \\n        \"python-pytest\", \\\n    \\n        \"dcmtk\", \\\n    \\n        \"python-pip\", \\\n    \\n        \"python-wheel\", \\\n    \\n        \"python-setuptools\", \\\n    \\n        \"python-datalad\", \\\n    \\n        \"heudiconv\", \\\n    \\n        \"dcm2niix\", \\\n    \\n        \"python-pytest\" \\\n    \\n      ] \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"run\", \\\n    \\n      \"curl -sL https://deb.nodesource.com/setup_6.x | bash - \" \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"install\", \\\n    \\n      [ \\\n    \\n        \"nodejs\", \\\n    \\n        \"npm\" \\\n    \\n      ] \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"run\", \\\n    \\n      \"npm install -g bids-validator@1.1.1\" \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"run\", \\\n    \\n      \"mkdir /afs /inbox\" \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"run\", \\\n    \\n      \"echo '\"'\"'#!/bin/bash'\"'\"' >> /neurodocker/heudiconv.sh && echo '\"'\"'heudiconv \\\"$@\\\"'\"'\"' >> /neurodocker/heudiconv.sh && chmod +x /neurodocker/heudiconv.sh\" \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"user\", \\\n    \\n      \"reproin\" \\\n    \\n    ], \\\n    \\n    [ \\\n    \\n      \"entrypoint\", \\\n    \\n      \"/neurodocker/heudiconv.sh\" \\\n    \\n    ] \\\n    \\n  ] \\\n    \\n}' > /neurodocker/neurodocker_specs.json\n"
}