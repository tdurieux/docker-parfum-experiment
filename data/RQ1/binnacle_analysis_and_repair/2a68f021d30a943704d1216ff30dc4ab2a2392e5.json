{
  "startTime": 1674237069550,
  "endTime": 1674237069647,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 36
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "ARG BASE_IMAGE_TAG=6f7c91da63bfc40db882b1056ece52e7c7dc5c00\nARG BASE_IMAGE=atom-base\nFROM elementaryrobotics/$BASE_IMAGE:$BASE_IMAGE_TAG\n\n# Want to copy over the contents of this repo to the code\n#\tsection so that we have the source\nADD . /atom\n\n#\n# Build and install the python library\n#\nWORKDIR /atom/languages/python\nRUN pip3 install --no-cache-dir -r requirements.txt\nRUN python3 setup.py install\n\n#\n# Build and install the c library\n#\n\n# Need to first build hiredis\nWORKDIR /atom/languages/c/third-party/hiredis\nRUN make clean && make && make install LIBRARY_PATH=lib\n\n# And build the C library\nWORKDIR /atom/languages/c\nRUN make clean && make && make install\n\n#\n# Build and install the c++ library\n#\n\nWORKDIR /atom/languages/cpp\nRUN make clean && make && make install\n\n#\n# And finally set up the LD_LIBRARY_PATH on the system s.t.\n#   our binaries work as expected\nENV LD_LIBRARY_PATH /usr/local/lib:${LD_LIBRARY_PATH}\n\n#\n# Install dependencies for atom-cli\n#\nWORKDIR /atom/utilities/atom-cli\nRUN pip3 install --no-cache-dir -r requirements.txt\nRUN cp atom-cli.py /usr/bin/atom-cli\nRUN chmod +x /usr/bin/atom-cli\n\n# Change working directory back to atom location\nWORKDIR /atom\n"
}