{
  "startTime": 1674244454960,
  "endTime": 1674244455254,
  "originalSmells": [
    {
      "rule": "sha256sumEchoOneSpaces",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 56
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# 1: Use ruby 2.3.3 as base:\nFROM ruby:2.3.3-alpine\n\n# 2: We'll add the app's binaries path to $PATH, and set the environment name to 'production':\nENV PATH=/usr/src/app/bin:$PATH\n\nRUN adduser -u 9000 -D app\n\n\n# 3: Install commands based on https://hub.docker.com/_/docker Dockerfiles:\nRUN set -ex \\\n  && apk add --no-cache git \\\n  && apk add --no-cache --virtual .app-builddeps curl \\\n  && export DOCKER_BUCKET=get.docker.com \\\n  && export DOCKER_VERSION=1.12.3 \\\n  && export DOCKER_SHA256=626601deb41d9706ac98da23f673af6c0d4631c4d194a677a9a1a07d7219fa0f \\\n  && curl -fSL \"https://${DOCKER_BUCKET}/builds/Linux/x86_64/docker-${DOCKER_VERSION}.tgz\" -o docker.tgz \\\n\t&& echo \"${DOCKER_SHA256}  *docker.tgz\" | sha256sum -c - \\\n\t&& tar -xzvf docker.tgz \\\n\t&& mv docker/* /usr/local/bin/ \\\n\t&& rmdir docker \\\n\t&& rm docker.tgz \\\n  && apk del .app-builddeps\n\n\n# 4: Copy just the Gemfile & Gemfile.lock, to avoid the build cache failing whenever any other\n# file changed and installing dependencies all over again - a must if your'e developing this\n# Dockerfile...\nADD ./whales_cli.gemspec* /usr/src/app/\nADD ./lib/whales_cli/version.rb /usr/src/app/lib/whales_cli/version.rb\nADD ./Gemfile* /usr/src/app/\n\n# 5: Install build + runtime dependencies, install/build the app gems, and remove build deps:\nRUN set -ex \\\n    && apk add --no-cache --virtual .app-rundeps icu-libs \\\n    && apk add --no-cache --virtual .app-builddeps build-base icu-dev cmake \\\n    && cd /usr/src/app \\\n    && bundle install --without development test \\\n    && apk del .app-builddeps\n\n# 6: Copy the rest of the application code, then change the owner of the code to 'app':\nADD . /usr/src/app\n\nVOLUME /code\nWORKDIR /code\n\nCMD [\"/usr/src/app/bin/whales\", \"tame\"]\n"
}