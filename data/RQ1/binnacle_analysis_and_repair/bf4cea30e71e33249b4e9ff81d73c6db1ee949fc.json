{
  "startTime": 1674251510735,
  "endTime": 1674251510879,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 44,
        "columnEnd": 102
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 44,
        "columnEnd": 102
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:latest\n\nRUN apt-get update && apt-get upgrade -y && apt-get install --no-install-recommends -y python3 python3-pip python3-crypto cron && \\\n    pip3 install --no-cache-dir flask-sqlalchemy && rm -rf /var/lib/apt/lists/*;\nRUN useradd cnc && \\\n    mkdir /app && \\\n    strings /dev/urandom | grep -o \"[[:alnum:]]\" | head -n 40 |/usr/bin/tr -d \"\\n\" > /app/secret.txt && \\\n    chown cnc:cnc /app\nADD . /app\n\nWORKDIR /app\nRUN rm -rf .gitignore .idea/ Readme.md Dockerfile user.db __pycache__/ && \\\n    echo \"*/15 * * * * cnc cd /app && rm -f user.db && python3 init_db.py\" >> /etc/crontab && \\\n    echo >> /etc/crontab\n\nCMD service cron restart && \\\n    su -c 'python3 init_db.py && python3 index.py' cnc"
}