{
  "startTime": 1674237092327,
  "endTime": 1674237093020,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 54,
        "lineEnd": 54,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 36,
        "columnEnd": 80
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 2,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 2,
        "columnEnd": 108
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 2,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 2,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 66,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 9,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 2,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 2,
        "columnEnd": 108
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 2,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 2,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 9,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 7,
        "columnEnd": 81
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 24,
        "columnStart": 7,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 2,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 2,
        "columnEnd": 108
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 2,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 2,
        "columnEnd": 98
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 2,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 66,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 9,
        "columnEnd": 39
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 31
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 33,
        "lineEnd": 33,
        "columnStart": 2,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 2,
        "columnEnd": 78
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 2,
        "columnEnd": 132
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 49,
        "lineEnd": 49,
        "columnStart": 2,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 2,
        "columnEnd": 122
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 2,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 66,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 9,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 55
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:16.04\nMAINTAINER Gist Noesis <gistnoeis@gmail.com>\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN sed -i 's#http://archive.ubuntu.com/#http://fr.archive.ubuntu.com/#' /etc/apt/sources.list\n\n# built-in packages\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends software-properties-common curl \\\n     && apt-get update \\\n    && apt-get install -y --no-install-recommends --allow-unauthenticated \\\n        supervisor \\\n        openssh-server pwgen sudo vim-tiny \\\n        net-tools \\\n        lxde x11vnc xvfb \\\n        gtk2-engines-murrine ttf-ubuntu-font-family \\\n        libreoffice firefox \\\n        fonts-wqy-microhei \\\n        language-pack-zh-hant language-pack-gnome-zh-hant firefox-locale-zh-hant libreoffice-l10n-zh-tw \\\n        nginx \\\n        python-pip python-dev build-essential \\\n        mesa-utils libgl1-mesa-dri \\\n        gnome-themes-standard gtk2-engines-pixbuf gtk2-engines-murrine pinta  \\\n        dbus-x11 x11-utils && rm -rf /var/lib/apt/lists/*;\n\nRUN \\\n  echo \"deb http://archive.ubuntu.com/ubuntu/ xenial universe multiverse\" >> /etc/apt/sources.list && \\\n  apt-get update && \\\n  apt-get -y upgrade\n\n# install some basic utilities\nRUN \\\n  apt-get install --no-install-recommends -y build-essential && \\\n  apt-get install --no-install-recommends -y curl git htop man unzip wget nano && rm -rf /var/lib/apt/lists/*;\n\n# tini for subreap                                  \nENV TINI_VERSION v0.9.0\nADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini /bin/tini\nRUN chmod +x /bin/tini\n\nRUN apt-get install --no-install-recommends -y v4l-utils ffmpeg && rm -rf /var/lib/apt/lists/*;\n\n# bluez dependencies\nRUN \\\n  apt-get install --no-install-recommends -y libglib2.0-dev libical-dev libreadline-dev libudev-dev libdbus-1-dev libdbus-glib-1-dev && rm -rf /var/lib/apt/lists/*;\n\n# debugging\nRUN \\\n  apt-get install --no-install-recommends -y usbutils strace && rm -rf /var/lib/apt/lists/*;\n\nRUN \\\n  apt-get install --no-install-recommends -y bluez bluez-hcidump blueman checkinstall libusb-dev libbluetooth-dev joystick && rm -rf /var/lib/apt/lists/*;\n\nRUN wget https://www.pabr.org/sixlinux/sixpair.c\nRUN gcc -o sixpair sixpair.c -lusb\n\nRUN \\\n  git clone https://github.com/aaronp24/QtSixA.git \\\n\t&& cd QtSixA/sixad && make && sudo mkdir -p /var/lib/sixad/profiles && sudo checkinstall -y\n\n RUN \\\n  apt-get install --no-install-recommends -y python-dbus && rm -rf /var/lib/apt/lists/*;\n\n\n#install opencv3 python 3\nRUN apt-get -y --no-install-recommends install wget unzip \\\n build-essential cmake git pkg-config libatlas-base-dev gfortran \\\n libjasper-dev libgtk2.0-dev libavcodec-dev libavformat-dev \\\nlibswscale-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libv4l-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN sudo apt-get install --no-install-recommends -y python3-pip && rm -rf /var/lib/apt/lists/*;\nRUN pip3 install --no-cache-dir numpy\n\nRUN wget https://github.com/Itseez/opencv/archive/3.3.0.zip\nRUN unzip 3.3.0.zip\nRUN mv opencv-3.3.0 /opencv\nRUN mkdir /opencv/release\nWORKDIR /opencv/release\nRUN cmake -DBUILD_TIFF=ON \\ \n-DBUILD_opencv_java=OFF \\\n-DWITH_CUDA=OFF \\\n-DENABLE_AVX=ON \\\n-DWITH_OPENGL=ON \\\n-DWITH_OPENCL=ON \\\n-DWITH_IPP=OFF \\\n-DWITH_TBB=ON \\\n-DWITH_EIGEN=ON \\\n-DWITH_V4L=ON \\\n-DWITH_VTK=OFF \\\n-DBUILD_TESTS=OFF \\\n-DBUILD_PERF_TESTS=OFF \\\n-DCMAKE_BUILD_TYPE=RELEASE \\\n-DBUILD_opencv_python2=OFF \\\n-DCMAKE_INSTALL_PREFIX=$(python3 -c \"import sys; print(sys.prefix)\") \\\n-DPYTHON3_EXECUTABLE=$(which python3) \\\n-DPYTHON3_INCLUDE_DIR=$(python3 -c \"from distutils.sysconfig import get_python_inc; print(get_python_inc())\") \\\n-DPYTHON3_PACKAGES_PATH=$(python3 -c \"from distutils.sysconfig import get_python_lib; print(get_python_lib())\") ..\nRUN make -j4\nRUN make install\n\nRUN apt-get install --no-install-recommends -y ipython3 && rm -rf /var/lib/apt/lists/*;\n\nRUN pip3 install --no-cache-dir scipy pyserial evdev zmq\n\nADD image /\nRUN pip install --no-cache-dir setuptools wheel && pip install --no-cache-dir -r /usr/lib/web/requirements.txt\n\n\n\nRUN useradd -ms /bin/bash linn\nRUN usermod -a -G audio linn\n\n#currently we always build against latest but we 'll probably fix the version to increase stability in the future\nRUN git clone https://github.com/GistNoesis/Linn-Photobooth.git /root/Linn-Photobooth\n\n\n\nEXPOSE 80\nWORKDIR /root\n\n\n\nENV HOME=/home/ubuntu \\\n    SHELL=/bin/bash\nENTRYPOINT [\"/startup.sh\"]"
}