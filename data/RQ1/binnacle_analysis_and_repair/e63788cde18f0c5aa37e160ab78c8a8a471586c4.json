{
  "startTime": 1674250994454,
  "endTime": 1674250994647,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 8,
        "columnEnd": 24
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 13,
        "columnStart": 8,
        "columnEnd": 91
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 8,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 13,
        "columnStart": 8,
        "columnEnd": 91
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 8,
        "columnEnd": 79
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Dockerfile to build mxnet on Ubuntu_18.04 (CPU)\n\nFROM ubuntu:18.04\n\n# Building MXNet from source is a 2 step process.\n   # 1.Build the MXNet core shared library, libmxnet.so, from the C++ sources.\n   # 2.Build the language specific bindings. Example - Python bindings, Scala bindings.\nENV DEBIAN_FRONTEND=\"noninteractive\"\nRUN apt-get update -y && \\\n        # 1. ------------ Build the MXNet core shared library ------------------\n        # libraries for building mxnet c++ core on ubuntu\n        apt-get install --no-install-recommends -y \\\n        build-essential git libopenblas-dev liblapack-dev libopencv-dev \\\n        libcurl4-openssl-dev libgtest-dev cmake wget unzip libatlas-base-dev python-opencv \\\n        && \\\n        cd /usr/src/gtest && \\\n        cmake . && \\\n        make && \\\n        cp *.a /usr/lib \\\n        && \\\n        cd / && \\\n        # Download MXNet sources and build MXNet core shared library\n        git clone --recursive https://github.com/apache/incubator-mxnet.git mxnet && \\\n        cd mxnet && \\\n        git checkout 1.1.0 && \\\n        git submodule update --recursive && \\\n        make -j $(nproc) USE_OPENCV=1 USE_BLAS=openblas USE_PROFILER=1 && \\\n        #rm -r build \\\n        #&& \\\n        # 2. -------------- Build the MXNet Python binding ------------------\n        # install libraries for mxnet's python package on ubuntu\n        apt-get update && \\\n        apt-get install --no-install-recommends -y python-dev python-setuptools python-numpy python-pip && \\\n        # Install the MXNet Python binding.\n        cd python && \\\n        #pip install --upgrade pip && \\\n        pip install --no-cache-dir -e . && \\\n        apt-get purge -y build-essential git libcurl4-openssl-dev libgtest-dev cmake wget unzip libatlas-base-dev  python-opencv && \\\n        apt-get autoremove -y && \\\n        apt-get clean && rm -rf /var/lib/apt/lists/*;\n\nENV PYTHONPATH=/mxnet/python\nCMD  [\"/bin/bash\"]\n\n"
}