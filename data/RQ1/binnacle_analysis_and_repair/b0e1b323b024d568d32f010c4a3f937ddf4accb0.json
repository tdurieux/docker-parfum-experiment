{
  "startTime": 1674242385343,
  "endTime": 1674242385521,
  "originalSmells": [
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 22,
        "columnEnd": 118
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM nvidia/cudagl:9.0-devel-ubuntu16.04\nMAINTAINER Keunhong Park (kpar@cs.washington.edu)\n\nRUN apt-get update && apt-get install -y --no-install-recommends software-properties-common python-software-properties && rm -rf /var/lib/apt/lists/*;\nRUN add-apt-repository ppa:deadsnakes/ppa\n\nENV DEBIAN_FRONTEND noninteractive\nENV DISPLAY :1\n\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n         sudo \\\n         libsm6 \\\n         libxext6 \\\n         libglfw3 \\\n         fontconfig \\\n         xserver-xorg-video-dummy\\\n         x11-xserver-utils \\\n         xinit \\\n         libgl1-mesa-dri \\\n         python3.6 \\\n         python3.6-dev \\\n         libpython3.6-dev \\\n         build-essential \\\n         cmake \\\n         git \\\n         curl \\\n         vim \\\n         ca-certificates \\\n         libbz2-dev \\\n         libreadline-dev \\\n         libssl-dev \\\n         libjpeg-dev \\\n         libpng-dev &&\\\n     rm -rf /var/lib/apt/lists/*\n\nADD . /app\n\nENV DIR=/app\nENV PYTHONPATH=$DIR/src:$PYTHONPATH\nENV PYTHONPATH=$DIR/thirdparty/pyhog:$PYTHONPATH\nENV PYTHONPATH=$DIR/thirdparty/rendkit:$PYTHONPATH\nENV PYTHONPATH=$DIR/thirdparty/kitnn:$PYTHONPATH\nENV PYTHONPATH=$DIR/thirdparty/toolbox:$PYTHONPATH\nENV PYTHONPATH=$DIR/thirdparty/vispy:$PYTHONPATH\nENV LC_ALL=C.UTF-8\nENV LANG=C.UTF-8\n\nADD ./get-pip.py /app/get-pip.py\nRUN python3.6 /app/get-pip.py\nRUN pip3.6 install setuptools\nRUN pip3.6 install -r /app/requirements.txt\nRUN pip3.6 install numpy\nRUN pip3.6 install requests\nRUN pip3.6 install git+https://github.com/mcfletch/pyopengl.git\nRUN pip3.6 install git+https://github.com/keunhong/vispy.git\nRUN pip3.6 install git+https://github.com/scikit-image/scikit-image.git\nRUN pip3.6 install git+https://github.com/lucasb-eyer/pydensecrf.git\n\nRUN git clone git://git.blender.org/blender.git /app/blender\nWORKDIR /app/blender\nRUN git submodule update --init --recursive\nRUN git submodule foreach --recursive git checkout master\nRUN git submodule foreach --recursive git pull --rebase origin master\nRUN ./build_files/build_environment/install_deps.sh --source ./ --threads=4 --with-all --skip-osd --skip-ffmpeg\nRUN mkdir build\n\nWORKDIR /app/blender/build\nRUN cmake \\\n  -DPYTHON_VERSION=3.6.5 \\\n  -DPYTHON_ROOT_DIR=$(pyenv prefix) \\\n  -DCMAKE_INSTALL_PREFIX=$(pyenv prefix)/lib/python3.6/site-packages \\\n  -DWITH_CYCLES=ON \\\n  -DWITH_GAMENGINE=OFF \\\n  -DWITH_IMAGE_HDR=ON \\\n  -DWITH_IMAGE_OPENEXR=ON \\\n  -DWITH_IMAGE_TIFF=ON \\\n  -DWITH_OPENCOLLADA=OFF \\\n  -DWITH_OPENMP=ON \\\n  -DWITH_OPENIMAGEIO=ON \\\n  -DWITH_PYTHON_INSTALL=OFF \\\n  -DWITH_PYTHON_MODULE=ON \\\n  -DPYTHON_LIBRARY=$(pyenv virtualenv-prefix)/lib/libpython3.6m.so \\\n  -DPYTHON_LIBPATH=$(pyenv virtualenv-prefix)/lib \\\n  -DPYTHON_INCLUDE_DIR=$(pyenv virtualenv-prefix)/include/python3.6m \\\n  ..\nRUN make -j4\nRUN make install\n\nENTRYPOINT /bin/bash\n"
}