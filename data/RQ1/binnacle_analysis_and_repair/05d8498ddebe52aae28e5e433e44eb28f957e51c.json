{
  "startTime": 1674251589147,
  "endTime": 1674251589244,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 38
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM node:11.7-alpine AS static-build\nWORKDIR /opt/scaife-viewer/src/\nCOPY package.json package-lock.json ./\nRUN npm ci\nCOPY webpack.config.js .babelrc .eslintrc.json ./\nCOPY ./static static\nCOPY ./test test\nARG FORCE_SCRIPT_NAME\nRUN npm run lint\nRUN npm run unit\nRUN npm run build\n\nFROM python:3.6-alpine3.7 AS python-build\nWORKDIR /opt/scaife-viewer/src/\nRUN pip --no-cache-dir --disable-pip-version-check install virtualenv\nENV PATH=\"/opt/scaife-viewer/bin:${PATH}\" VIRTUAL_ENV=\"/opt/scaife-viewer\"\nCOPY requirements.txt /opt/scaife-viewer/src/\nRUN set -x \\\n    && virtualenv /opt/scaife-viewer \\\n    && apk --no-cache add \\\n        build-base curl git libxml2-dev libxslt-dev postgresql-dev linux-headers \\\n    && pip install --no-cache-dir -r requirements.txt\nRUN pip install --no-cache-dir flake8 flake8-quotes isort\n\nFROM python:3.6-alpine3.7\nENV PYTHONUNBUFFERED 1\nENV PYTHONPATH /opt/scaife-viewer/src/\nENV PATH=\"/opt/scaife-viewer/bin:${PATH}\" VIRTUAL_ENV=\"/opt/scaife-viewer\"\nENV SECRET_KEY=\"foo\"\nWORKDIR /opt/scaife-viewer/src/\nCOPY --from=static-build /opt/scaife-viewer/src/static/dist /opt/scaife-viewer/src/static/dist\nCOPY --from=python-build /opt/scaife-viewer/ /opt/scaife-viewer/\nRUN set -x \\\n    && runDeps=\"$( \\\n        scanelf --needed --nobanner --format '%n#p' --recursive /opt/scaife-viewer \\\n            | tr ',' '\\n' \\\n            | sort -u \\\n            | awk 'system(\"[ -e /usr/local/lib/\" $1 \" ]\") == 0 { next } { print \"so:\" $1 }' \\\n        )\" \\\n    && apk --no-cache add \\\n        $runDeps \\\n        curl\nCOPY . .\nRUN flake8 scaife_viewer\nRUN isort -c **/*.py\nRUN python manage.py collectstatic --noinput\n"
}