{
  "startTime": 1674234446536,
  "endTime": 1674234446620,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 4,
        "columnEnd": 43
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#Dockerfile for the player setup\nFROM circleci/node:8.11.2-stretch\nMAINTAINER \"Rajesh Rajendran <rajesh.r@optit.co>\"\nUSER root\nRUN mkdir -p /opt/player \\\nWORKDIR /opt/player\nCOPY * /opt/player/\nWORKDIR /opt/player/app\nRUN npm set progress=false\nRUN npm install --unsafe-perm && npm cache clean --force;\nRUN npm run deploy\nWORKDIR /opt/player/app/app_dist\nRUN npm i -g npm@3.10.10 && npm cache clean --force;\nRUN npm install --production --unsafe-perm && npm cache clean --force;\nWORKDIR /opt/player/app\n# passing commit hash as build arg\nARG commit_hash=0\nENV commit_hash ${commit_hash}\nRUN /bin/bash -x ../vcs-config.sh\n\nFROM node:8.11-slim\nMAINTAINER \"Rajesh R <rajesh.r@optit.co>\"\nRUN useradd -u 1001 -md /home/sunbird sunbird\nWORKDIR /home/sunbird\nCOPY --from=0 /opt/player/app/app_dist/ /home/sunbird/app_dist/\nRUN chown -R sunbird:sunbird /home/sunbird\nUSER sunbird\nWORKDIR /home/sunbird/app_dist\n# This is the short commit hash from which this image is built from\n# This label is assigned at time of image creation\n# LABEL commitHash\nEXPOSE 3000\nCMD [\"node\", \"server.js\", \"&\"]\n"
}