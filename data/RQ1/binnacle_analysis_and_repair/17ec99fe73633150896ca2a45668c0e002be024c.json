{
  "startTime": 1674251880680,
  "endTime": 1674251880733,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 22,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM elixir:alpine as elixir \n\nENV MIX_ENV=prod \nWORKDIR /app \nCOPY ./ ./ \n\nRUN mix local.hex --force \nRUN mix deps.get \nRUN ls /app \n\n# Multiple FROM: https://stackoverflow.com/a/33322374 \nFROM node:8-alpine as node \n\nENV MIX_ENV=prod \nWORKDIR /app \n\nCOPY \\--from=elixir /app ./ \nCOPY assets /app/assets \n\nRUN ls /app \n\nRUN cd /app/assets && npm install && npm run deploy && npm cache clean --force;\n\nFROM elixir:alpine as elixir2 \nENV MIX_ENV=prod \nENV PORT=4000 \nWORKDIR /app \n\nCOPY \\--from=node /app ./ \n#COPY --from=elixir /app/deps ./deps/ \nRUN mix local.rebar --force \nRUN mix local.hex --force \nRUN mix deps.get --only prod \nRUN mix compile \nRUN mix phx.digest \n\nEXPOSE 4000 \nCMD [\"mix\", \"phx.server\"] \n# CMD [\"sh\", \"-c\", \"mix deps.get && mix phoenix.server\"] \n\n"
}