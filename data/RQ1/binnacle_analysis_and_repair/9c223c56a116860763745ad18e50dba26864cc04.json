{
  "startTime": 1674244434887,
  "endTime": 1674244434958,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 65
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 37
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 61
      }
    }
  ],
  "repairedDockerfile": "FROM numenta/nupic\n\nMAINTAINER Zac Gross <zacgross@gmail.com>\n\n# Clone Cerebro repository\nRUN git clone https://github.com/numenta/nupic.cerebro.git /usr/local/src/nupic.cerebro\n\n# Install dependencies\n# Install Mongo\nRUN \\\n    apt-get install --no-install-recommends -y libevent-dev; rm -rf /var/lib/apt/lists/*; \\\n    apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10; \\\n    echo 'deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen' | tee /etc/apt/sources.list.d/mongodb.list; \\\n    dpkg-divert --local --rename --add /sbin/initctl; \\\n    ln -s /bin/true /sbin/initctl; \\\n    apt-get update; \\\n    apt-get install --no-install-recommends -y mongodb-10gen; \\\n    mkdir /usr/local/data/; \\\n    mkdir /usr/local/data/mongo; \\\n    pip install --no-cache-dir -r /usr/local/src/nupic.cerebro/requirements.txt; \\\n#RUN\n\n\nEXPOSE 1955\n\nENTRYPOINT [\"/bin/bash\", \"-c\", \"cd /usr/local/src/nupic.cerebro; mongod --dbpath /usr/local/data/mongo --smallfiles & python cerebro.py 1955\"]\n\n\n"
}