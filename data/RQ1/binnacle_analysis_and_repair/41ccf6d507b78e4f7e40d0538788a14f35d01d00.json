{
  "startTime": 1674243795713,
  "endTime": 1674243795765,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 54
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Spotify Cassandra 2.0 Base Image\n#\n# VERSION               0.1\n#\n# Installs Cassandra 2.0 package. Does only basic configuration.\n# Tokens and seed nodes should be configured by child images.\n\nFROM java:openjdk-7-jre\n\nENV DEBIAN_FRONTEND noninteractive\n\n# Add DataStax sources\nRUN curl -f -L https://debian.datastax.com/debian/repo_key | apt-key add -\nRUN echo \"deb http://debian.datastax.com/community stable main\" > /etc/apt/sources.list.d/datastax.list\n\n# Workaround for https://github.com/docker/docker/issues/6345\nRUN ln -s -f /bin/true /usr/bin/chfn\n\n# Install Cassandra 2.0.10\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y cassandra=2.0.10 dsc20=2.0.10-1 && \\\n    rm -rf /var/lib/apt/lists/*\n\nENV CASSANDRA_CONFIG /etc/cassandra\n\n# Run base config script\nADD scripts/config-cassandra-base.sh /usr/local/bin/config-cassandra-base\nRUN /usr/local/bin/config-cassandra-base\n\n# Necessary since cassandra is trying to override the system limitations\n# See https://groups.google.com/forum/#!msg/docker-dev/8TM_jLGpRKU/dewIQhcs7oAJ\nRUN rm -f /etc/security/limits.d/cassandra.conf\n\nEXPOSE 7199 7000 7001 9160 9042 22 8012 61621\n\nCMD [\"\"]\n"
}