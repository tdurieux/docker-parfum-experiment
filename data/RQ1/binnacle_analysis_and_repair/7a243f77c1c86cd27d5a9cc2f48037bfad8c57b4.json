{
  "startTime": 1674234317038,
  "endTime": 1674234318589,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 41,
        "lineEnd": 41,
        "columnStart": 4,
        "columnEnd": 89
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 60,
        "lineEnd": 60,
        "columnStart": 4,
        "columnEnd": 67
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 70
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 4,
        "columnEnd": 85
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 96,
        "lineEnd": 96,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 116,
        "lineEnd": 116,
        "columnStart": 0,
        "columnEnd": 69
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 119,
        "lineEnd": 119,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 123,
        "lineEnd": 123,
        "columnStart": 4,
        "columnEnd": 71
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 127,
        "lineEnd": 127,
        "columnStart": 4,
        "columnEnd": 61
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 131,
        "lineEnd": 131,
        "columnStart": 0,
        "columnEnd": 62
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 136,
        "lineEnd": 136,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 140,
        "lineEnd": 140,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 142,
        "lineEnd": 142,
        "columnStart": 0,
        "columnEnd": 59
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 145,
        "lineEnd": 145,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 153,
        "lineEnd": 153,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 156,
        "lineEnd": 156,
        "columnStart": 4,
        "columnEnd": 74
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 161,
        "lineEnd": 161,
        "columnStart": 0,
        "columnEnd": 58
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 21,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 9
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 181,
        "lineEnd": 181,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 58,
        "columnEnd": 102
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 54,
        "columnEnd": 65
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 16,
        "columnEnd": 27
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 77,
        "lineEnd": 80,
        "columnStart": 22,
        "columnEnd": 22
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 57,
        "columnEnd": 68
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 61,
        "columnEnd": 72
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 121,
        "lineEnd": 121,
        "columnStart": 0,
        "columnEnd": 11
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 0,
        "columnEnd": 32
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 0,
        "columnEnd": 30
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 0,
        "columnEnd": 28
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 0,
        "columnEnd": 26
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 0,
        "columnEnd": 28
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 87,
        "lineEnd": 87,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 89,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 0,
        "columnEnd": 31
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 117,
        "lineEnd": 117,
        "columnStart": 0,
        "columnEnd": 36
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 120,
        "lineEnd": 120,
        "columnStart": 0,
        "columnEnd": 29
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 124,
        "lineEnd": 124,
        "columnStart": 0,
        "columnEnd": 41
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 137,
        "lineEnd": 137,
        "columnStart": 0,
        "columnEnd": 26
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 146,
        "lineEnd": 146,
        "columnStart": 0,
        "columnEnd": 29
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 157,
        "lineEnd": 157,
        "columnStart": 0,
        "columnEnd": 37
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 162,
        "lineEnd": 162,
        "columnStart": 0,
        "columnEnd": 25
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 6,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 106,
        "lineEnd": 106,
        "columnStart": 0,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 195,
        "lineEnd": 195,
        "columnStart": 22,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 6,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 195,
        "lineEnd": 195,
        "columnStart": 22,
        "columnEnd": 48
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 6,
        "lineEnd": 18,
        "columnStart": 4,
        "columnEnd": 56
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu\nMAINTAINER Sung-Huan Yu <sung-huan.yu@uni-wuerzburg.de>\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update --yes\nRUN apt-get upgrade --yes\nRUN apt-get install --no-install-recommends default-jre default-jdk python3 python3-setuptools python3-scipy \\\nvim make gcc g++ gfortran libx11-dev wget zip unzip python3-biopython cython3 \\\nsoftware-properties-common python3-software-properties bioperl zlib1g-dev \\\nncbi-blast+ pkg-config python3-dev libfreetype6-dev libxft-dev r-base libxml2-dev \\\nlibpng-dev python3-pip python-pip python3-numpy imagemagick infernal git \\\nopenssh-client apache2 curl build-essential net-tools librpc-xml-perl \\\nncbi-blast+-legacy nano libf2c2 apache2-dev libapache-singleton-perl \\\nlibjson-rpc-perl libncurses5-dev build-essential hmmer lua5.1 blast2 \\\nsnap cpanminus mummer exonerate mafft fasttree libsvg-perl libboost-all-dev \\\nlibgd-svg-perl python-setuptools libc6-i386 lib32stdc++6 lib32gcc1 \\\nnetcat genometools last-align libboost-iostreams-dev libgsl-dev \\\nliblpsolve55-dev libstdc++6 aragorn tantan libstorable-perl \\\nlibbio-perl-perl libsqlite3-dev tree --yes --fix-missing && rm -rf /var/lib/apt/lists/*;\nRUN ln -fs /usr/bin/fasttree /usr/bin/FastTree\n\nRUN pip3 install --no-cache-dir \\\nmatplotlib \\\nnetworkx \\\nREADemption \\\nANNOgesic\n\nRUN mkdir /tools /data\nWORKDIR /tools\n\n# vienna package\nRUN wget https://www.tbi.univie.ac.at/RNA/packages/source/ViennaRNA-2.3.2.tar.gz && \\\ntar -zxvf ViennaRNA-2.3.2.tar.gz && cd ViennaRNA-2.3.2 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --without-perl --without-python && make && make install && \\\ncp src/Utils/relplot.pl /usr/local/bin && \\\ncp src/Utils/mountain.pl /usr/local/bin && rm ViennaRNA-2.3.2.tar.gz\n\n# IntaRNA\nRUN wget https://github.com/BackofenLab/IntaRNA/releases/download/v2.0.4/intaRNA-2.0.4.tar.gz && \\\ntar -zxvf intaRNA-2.0.4.tar.gz && cd intaRNA-2.0.4 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install && rm intaRNA-2.0.4.tar.gz\n\n# sratoolkit\nRUN wget https://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.5.2/sratoolkit.2.5.2-ubuntu64.tar.gz && \\\ntar -zxvf sratoolkit.2.5.2-ubuntu64.tar.gz && rm sratoolkit.2.5.2-ubuntu64.tar.gz\n\n# RATT\nRUN wget ftp://ftp.sanger.ac.uk/pub/resources/software/pagit/PAGIT.V1.64bit.tgz && \\\ntar -zxvf PAGIT.V1.64bit.tgz && mv PAGIT/RATT /opt/RATT && rm -rf PAGIT && rm PAGIT.V1.64bit.tgz\n# patch the error of perl version and the path of mummer\nRUN sed -i '244s/defined//' /opt/RATT/main.ratt.pl && \\\nsed -i '19s/$PAGIT_HOME/\\/usr/' /opt/RATT/start.ratt.sh\n\nENV RATT_HOME=/opt/RATT \\\nPERL5LIB=/opt/RATT/:$PERL5LIB \\\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/RATT:$PATH\n\n# TSSpredator\nRUN wget https://lambda.informatik.uni-tuebingen.de/nexus/content/repositories/releases/org/uni-tuebingen/it/TSSpredator/1.06/TSSpredator-1.06.jar && \\\ncp TSSpredator-1.06.jar /usr/local/bin/TSSpredator.jar\n\n# MEME\nRUN wget https://www.mpich.org/static/downloads/3.2/mpich-3.2.tar.gz && \\\ntar -zxvf mpich-3.2.tar.gz && \\\ncd mpich-3.2 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make all install && rm mpich-3.2.tar.gz\n\nRUN wget https://meme-suite.org/meme-software/4.11.1/meme_4.11.1.tar.gz && \\\ntar -zxvf meme_4.11.1.tar.gz && rm meme_4.11.1.tar.gz\n\nRUN perl -MCPAN -e 'install HTML::Template; \\\ninstall XML::Compile::SOAP11; install XML::Compile::WSDL11; \\\ninstall XML::Compile::Transport::SOAPHTTP; install XML::RPC'\n\nRUN cpan install HTML::Template && \\\ncpan HTML::PullParser && \\\ncpan XML::Simple && \\\ncpan XML::Compile::WSDL11 && \\\ncpan XML::Compile::SOAP11\n\nRUN cd meme_4.11.1 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/tools/meme \\\n--with-url=http://meme.nbcr.net/meme \\\n--enable-build-libxml2 \\\n--enable-build-libxslt && \\\nmake && make test && make install && cp /tools/meme/bin/* /usr/local/bin\n\n## htslib, samtools, bcftools\nRUN wget https://github.com/samtools/htslib/releases/download/1.3.1/htslib-1.3.1.tar.bz2\nRUN tar -jxvf htslib-1.3.1.tar.bz2 && cd htslib-1.3.1 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install && cd .. && rm htslib-1.3.1.tar.bz2\nRUN wget https://github.com/samtools/samtools/releases/download/1.3.1/samtools-1.3.1.tar.bz2\nRUN tar -jxvf samtools-1.3.1.tar.bz2 && cd samtools-1.3.1 && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install && cd .. && rm samtools-1.3.1.tar.bz2\nRUN wget https://github.com/samtools/bcftools/releases/download/1.3.1/bcftools-1.3.1.tar.bz2\nRUN tar -jxvf bcftools-1.3.1.tar.bz2 && cd bcftools-1.3.1 && make && make install && cd .. && rm bcftools-1.3.1.tar.bz2\n\n# segemehl TODO:update to latest version. Some parameters are changed\nRUN wget https://www.bioinf.uni-leipzig.de/Software/segemehl/old/segemehl_0_2_0.tar.gz && \\\ntar -zxvf segemehl_0_2_0.tar.gz && cd segemehl_0_2_0/segemehl && make all && cp *.x /usr/local/bin && rm segemehl_0_2_0.tar.gz\n\n# transtermHP\nRUN wget https://transterm.cbcb.umd.edu/transterm_hp_v2.09.zip && \\\nunzip transterm_hp_v2.09.zip && cd transterm_hp_v2.09 && \\\ncp transterm /usr/local/bin && cp expterm.dat /usr/local/bin\n\n# CRT\nRUN wget https://www.room220.com/crt/CRT1.2-CLI.jar.zip && \\\nunzip CRT1.2-CLI.jar.zip && cp CRT1.2-CLI.jar /usr/local/bin/CRT.jar\n\n# Psortb\nRUN DEBIAN_FRONTEND=noninteractive apt-get update && \\\n apt-get -y --no-install-recommends install supervisor && apt-get clean && \\\nrm -rf /var/lib/apt/lists/*\nENV APACHE_RUN_USER=www-data \\\nAPACHE_RUN_GROUP=www-data \\\nAPACHE_LOG_DIR=/var/log/apache2 \\\nAPACHE_LOCK_DIR=/var/lock/apache2 \\\nAPACHE_PID_FILE=/var/run/apache2.pid\n\nWORKDIR /usr/local/src\nRUN echo '/usr/local/lib64' >>/etc/ld.so.conf && \\\n wget https://www.psort.org/download/docker/pft2.3.4.docker64bit.tar.gz && \\\ntar zxvf pft2.3.4.docker64bit.tar.gz && cp pftools/pfscan /usr/local/bin/ && rm pft2.3.4.docker64bit.tar.gz\n\nRUN wget https://www.psort.org/download/libpsortb-1.0.tar.gz && \\\ntar zxvf libpsortb-1.0.tar.gz && cd libpsortb-1.0 && \\\n ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && make && make install && ldconfig && rm libpsortb-1.0.tar.gz\n\nRUN wget https://www.psort.org/download/bio-tools-psort-all.3.0.4.tar.gz && \\\ntar zxvf bio-tools-psort-all.3.0.4.tar.gz && rm bio-tools-psort-all.3.0.4.tar.gz\nWORKDIR /usr/local/src/bio-tools-psort-all\n\nRUN wget https://www.psort.org/download/docker/psortb.defaults && \\\nperl Makefile.PL && make && make install && cp -r psort /usr/local/psortb\n\nRUN a2enmod cgid && \\\n wget https://www.psort.org/download/docker/apache.conf.fragment && \\\ncat apache.conf.fragment >> /etc/apache2/apache2.conf\n\nWORKDIR /usr/local/src\n\nRUN wget https://www.psort.org/download/docker/apache-svm.tar.gz && \\\ntar zxvf apache-svm.tar.gz && cd apache-svm && make && \\\ncp svmloc.conf /etc/apache2/conf-available/ && rm apache-svm.tar.gz\n\nRUN wget https://www.psort.org/download/docker/startup.txt && \\\nmv startup.txt startup.pl && \\\n wget https://www.psort.org/download/docker/apache-psort.conf && \\\ncp apache-psort.conf /etc/apache2/conf-available/\n\nRUN wget https://www.psort.org/download/docker/apache-psortb.tar.gz && \\\ntar zxvf apache-psortb.tar.gz && cd apache-psortb \\\n&& perl Makefile.PL && make && make install && rm apache-psortb.tar.gz\n\nRUN cd /etc/apache2/conf-enabled/ && \\\nln -s ../conf-available/svmloc.conf && \\\nln -s ../conf-available/apache-psort.conf\n\nRUN wget https://www.psort.org/download/docker/Request.pm && \\\ncp Request.pm /usr/share/perl5/Apache/Singleton/Request.pm\n\nRUN wget https://www.psort.org/download/docker/CGI-FastTemplate-1.09.tar.gz && \\\ntar zxvf CGI-FastTemplate-1.09.tar.gz && \\\ncd CGI-FastTemplate-1.09 && perl Makefile.PL && make && make install && rm CGI-FastTemplate-1.09.tar.gz\n\nRUN cd /var/www/html && \\\n wget https://www.psort.org/download/docker/psort-web.tar.gz && \\\ntar zxvf psort-web.tar.gz && rm psort-web.tar.gz\n\nRUN rm -r pft2.3.4.docker64bit.tar.gz \\\nlibpsortb-1.0.tar.gz \\\nlibpsortb-1.0 \\\nbio-tools-psort-all.3.0.4.tar.gz \\\nbio-tools-psort-all\n\nRUN /etc/init.d/apache2 restart\nEXPOSE 80\nCMD [\"/opt/run.sh\"]\n\n# copy psort to global execute\nRUN cp /usr/local/psortb/bin/psort /usr/local/bin\n\nWORKDIR /tools\n\n# sometimes the pypi does not update to latest version.\n# may need to re-write the code\nRUN pip3 install --no-cache-dir ANNOgesic --upgrade --force-reinstall\n\nRUN rm segemehl_0_2_0.tar.gz \\\nmeme_4.11.1.tar.gz \\\ntransterm_hp_v2.09.zip \\\nhtslib-1.3.1.tar.bz2 \\\nbcftools-1.3.1.tar.bz2 \\\nsamtools-1.3.1.tar.bz2 \\\nViennaRNA-2.3.2.tar.gz \\\nintaRNA-2.0.4.tar.gz \\\nCRT1.2-CLI.jar.zip \\\nPAGIT.V1.64bit.tgz\n\n# a patch for language setting, need to re-write the code.\nRUN apt-get update && apt-get -y --no-install-recommends install locales && rm -rf /var/lib/apt/lists/*;\nRUN locale-gen en_US.UTF-8\n\nWORKDIR /data\n"
}