{
  "startTime": 1674249461367,
  "endTime": 1674249461424,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 14,
        "columnStart": 22,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Socks Tunnel container \nFROM ubuntu:16.10 \nMAINTAINER Jose M. Fernandez-Alba <jm.fernandezalba@commonms.com> \n\n# Non standard SSH port \nEXPOSE 443 \n# Install dependencies \nRUN apt-get update && apt-get install --no-install-recommends -y \\\nopenssh-server \\\nsshpass \\\ncorkscrew \\\nnetcat-openbsd \\\nvim \\\nnano \\\niputils-ping \\\n&& rm -rf /var/lib/apt/lists/*\n\n# Container credentials \nENV CONTAINER_USER root \nENV CONTAINER_PASS common$ \n\nRUN echo \"$CONTAINER_PASS\\n$CONTAINER_PASS\\n\" | passwd $CONTAINER_USER \n\n# Adjust SSHD configuration \nRUN sed -i '/Port/c\\Port 443' /etc/ssh/sshd_config \\  \n&& sed -i '/PermitRootLogin/c\\PermitRootLogin yes' /etc/ssh/sshd_config \n\n# Isban proxy \nENV CORPORATE_PROXY_HOST 172.31.219.30 \nENV CORPORATE_PROXY_PORT 8080 \nENV http_proxy http://$CORPORATE_PROXY_HOST:$CORPORATE_PROXY_PORT \nENV HTTP_PROXY $http_proxy \nENV https_proxy $http_proxy \nENV HTTPS_PROXY $http_proxy \nENV no_proxy localhost,127.0.0.1,192.168.99.1,192.168.99.100 \nENV NO_PROXY localhost,127.0.0.1,192.168.99.1,192.168.99.100 \nRUN echo \"Acquire::http::Proxy \\\"$HTTP_PROXY\\\";\" > /etc/apt/apt.conf \n\n# Target proxy parameters \nENV TARGET_PROXY_HOST 5.196.14.85 \nENV TARGET_PROXY_PORT 18080 \nENV TARGET_PROXY_USER commonms \nENV TARGET_PROXY_PASS common$ \n\n# Entrypoint starts SSHD \nCOPY entrypoint.sh /sbin/ \nRUN chmod 755 /sbin/entrypoint.sh \n\nENTRYPOINT [\"/sbin/entrypoint.sh\"] \n\n"
}