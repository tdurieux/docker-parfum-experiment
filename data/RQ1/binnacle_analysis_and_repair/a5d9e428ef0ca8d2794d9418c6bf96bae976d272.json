{
  "startTime": 1674243219734,
  "endTime": 1674243219903,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 1,
        "columnEnd": 24
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# ########################################################################################\n# POCKETMINE-MP Docker Image\n#\n# This is a stand-alone image that utilizes the latest version of the Pocketmine-MP PHP\n# based server (https://pmmp.io/)\n#\n# You can run using this:\n#\n# Start in headless mode\n# \tdocker run -d -v /data/minecraft/data:/data -p 19132:19132/udp --name minecraft cscheide/pocketmine-mp\n#\n# Start in interactive mode\n# \tdocker start -ai minecraft\n#\n# Start creating new data\n# \tdocker run -d -p 19132:19132/udp --name minecraft cscheide/pocketmine-mp\n#\n\nFROM ubuntu:latest\n\nMAINTAINER Christopher Scheidel <christopher.scheidel@gmail.com>\n\n# Install dependencies\nRUN apt-get update && \\\n\tapt-get -y --no-install-recommends install wget && \\\n\trm -rf /var/lib/apt/lists/*\n\n# Make the directory we will need\nRUN\tmkdir -p /data /minecraft\nWORKDIR /minecraft\n\n# Grab the pre-built PHP 7.2 distribution from PMMP\nRUN wget -q -O - https://jenkins.pmmp.io/job/PHP-7.2-Aggregate/lastSuccessfulBuild/artifact/PHP-7.2-Linux-x86_64.tar.gz > /minecraft/PHP-7.2-Linux-x86_64.tar.gz && \\\n  cd /minecraft && \\\n\ttar -xvf PHP-7.2-Linux-x86_64.tar.gz && \\\n\trm PHP-7.2-Linux-x86_64.tar.gz\n\n# Grab the Specific version PHAR\nRUN wget -q -O - https://github.com/pmmp/PocketMine-MP/releases/download/3.2.7/PocketMine-MP.phar > /minecraft/PocketMine-MP.phar\n\n# Grab the start script and make it executable\nRUN wget -q -O - https://raw.githubusercontent.com/pmmp/PocketMine-MP/master/start.sh > /minecraft/start.sh && \\\n  chmod +x /minecraft/start.sh\n\n# Add the custom properties from our docker project\nADD server.properties /data/server.properties\nADD pocketmine.yml /data/pocketmine.yml\n\n# Touch the remaining files\nRUN touch /data/banned-ips.txt && \\\n\ttouch /data/banned-players.txt && \\\n\ttouch /data/ops.txt && \\\n\tmkdir -p /data/players && \\\n\ttouch /data/white-list.txt && \\\n\tmkdir -p /data/worlds && \\\n\tmkdir -p /data/plugins && \\\n\tmkdir -p /data/resource_packs && \\\n\ttouch /data/server.log\n\n# Move the configuration items out of the main directory and sym link items back\nRUN ln -s /data/banned-ips.txt /minecraft/banned-ips.txt && \\\n\tln -s /data/banned-players.txt /minecraft/banned-players.txt && \\\n\tln -s /data/ops.txt /minecraft/ops.txt && \\\n\tln -s /data/players /minecraft/players && \\\n\tln -s /data/pocketmine.yml /minecraft/pocketmine.yml && \\\n\tln -s /data/server.properties /minecraft/server.properties && \\\n\tln -s /data/white-list.txt /minecraft/white-list.txt && \\\n\tln -s /data/worlds /minecraft/worlds && \\\n\tln -s /data/plugins /minecraft/plugins && \\\n\tln -s /data/resource_packs /minecraft/resource_packs && \\\n\tln -s /data/server.log /minecraft/server.log\n\n\n# Expose the right port\nEXPOSE 19132/udp\n\n# Set up the volume for the data\nVOLUME /data\n\n# Run the app when launched\nCMD [ \"bash\", \"/minecraft/start.sh\", \"--no-wizard\"]\n"
}