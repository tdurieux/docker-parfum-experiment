{
  "startTime": 1674240923470,
  "endTime": 1674240923648,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 59,
        "lineEnd": 59,
        "columnStart": 20,
        "columnEnd": 47
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# ==================================================================\n# module list\n# ------------------------------------------------------------------\n# inherit from flml/flashlight:cpu-base-latest\n# libsndfile       bef2abc      (git)\n# FFTW             latest       (apt)\n# KenLM            e47088d      (git)\n# GLOG             latest       (apt)\n# gflags           latest       (apt)\n# python           3.6          (apt)\n# ==================================================================\n\nFROM flml/flashlight:cpu-base-latest\n\nRUN APT_INSTALL=\"apt-get install -y --no-install-recommends\" && \\\n    apt-get update && \\\n    DEBIAN_FRONTEND=noninteractive $APT_INSTALL \\\n        # for libsndfile\n        autoconf automake autogen build-essential libasound2-dev \\\n        libflac-dev libogg-dev libtool libvorbis-dev pkg-config python \\\n        # FFTW\n        libfftw3-dev \\\n        # for kenlm\n        zlib1g-dev libbz2-dev liblzma-dev libboost-all-dev \\\n        # gflags\n        libgflags-dev libgflags2v5 \\\n        # for glog\n        libgoogle-glog-dev libgoogle-glog0v5 \\\n        # for receipts data processing\n        sox && \\\n# ==================================================================\n# python (for receipts data processing)\n# ------------------------------------------------------------------\n    PIP_INSTALL=\"python3 -m pip --no-cache-dir install --upgrade\" && \\\n    DEBIAN_FRONTEND=noninteractive $APT_INSTALL \\\n        software-properties-common \\\n        && \\\n    add-apt-repository ppa:deadsnakes/ppa && \\\n    apt-get update && \\\n    DEBIAN_FRONTEND=noninteractive $APT_INSTALL \\\n        python3.6 \\\n        python3.6-dev \\\n        && \\\n    wget -O ~/get-pip.py \\\n        https://bootstrap.pypa.io/get-pip.py && \\\n    python3.6 ~/get-pip.py && \\\n    ln -s /usr/bin/python3.6 /usr/local/bin/python3 && \\\n    ln -s /usr/bin/python3.6 /usr/local/bin/python && \\\n    $PIP_INSTALL \\\n        setuptools \\\n        && \\\n    $PIP_INSTALL \\\n        sox \\\n        tqdm && \\\n# ==================================================================\n# libsndfile https://github.com/erikd/libsndfile.git\n# ------------------------------------------------------------------\n    cd /tmp && git clone https://github.com/erikd/libsndfile.git && \\\n    cd libsndfile && git checkout bef2abc9e888142203953addc31c50a192e496e5 && \\\n    ./autogen.sh && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --enable-werror && \\\n    make && make check && make install && \\\n# ==================================================================\n# KenLM https://github.com/kpu/kenlm\n# ------------------------------------------------------------------\n    cd /root && git clone https://github.com/kpu/kenlm.git && \\\n    cd kenlm && git checkout e47088ddfae810a5ee4c8a9923b5f8071bed1ae8 && \\\n    mkdir build && cd build && \\\n    cmake .. && \\\n    make -j8 && make install && \\\n# ==================================================================\n# config & cleanup\n# ------------------------------------------------------------------\n    ldconfig && \\\n    apt-get clean && \\\n    apt-get autoremove && \\\n    rm -rf /var/lib/apt/lists/* /tmp/*\n"
}