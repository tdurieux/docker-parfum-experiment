{
  "startTime": 1674239695692,
  "endTime": 1674239695750,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 6,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 22,
        "columnEnd": 117
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 22,
        "columnEnd": 117
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# **Description:**\n#\n# A terminal interface for Mattermost via the client Matterhorn\n# https://github.com/matterhorn-chat/matterhorn\n#\n# To run, simply supply a username, hostname and (additionally) a port number.\n# For example:\n#\n# **Running:**\n#\n# ```sh\n# docker run -it --rm \\\n#  -e MM_USER=foobar@domain.com \\\n#  -e MM_PASS=foobar \\\n#  -e MM_HOST=gitlab.mattermost.com \\\n#  -e MM_PORT=443 \\\n#  --name matterhorn \\\n#  cdrage/matterhorn\n# ```\n\nFROM ubuntu:18.04\n\n#! Dependencies\nRUN apt-get update && apt-get install --no-install-recommends tar wget libtinfo-dev ncurses-bin bzip2 iputils-ping ca-certificates netbase -y && rm -rf /var/lib/apt/lists/*;\n\n#! Why they use libtinfoso.6 I do not know, so let's fake it till we make it\n#! RUN ln -s /lib/x86_64-linux-gnu/libtinfo.so.6.1 /lib/x86_64-linux-gnu/libtinfo.so.5\n\n#! Use release\nENV RELEASE=\"https://github.com/matterhorn-chat/matterhorn/releases/download/50200.0.0/matterhorn-50200.0.0-Ubuntu-x86_64.tar.bz2\"\n\nRUN wget $RELEASE && \\\n      tar xf matterhorn*.tar.bz2 --strip 1 && rm matterhorn*.tar.bz2\n\n#! Copy over the entrypoint config generation script + config.ini\nCOPY entrypoint.sh /entrypoint.sh\nCOPY config.ini /config.ini\nENTRYPOINT [\"/entrypoint.sh\"]\n\n#! Default environment variables\nENV MM_PORT=443\n\n#! Run it!\nCMD [\"./matterhorn\", \"-c\", \"/config.ini\"]\n"
}