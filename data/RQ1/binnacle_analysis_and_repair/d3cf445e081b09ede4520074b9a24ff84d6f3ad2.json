{
  "startTime": 1674241888448,
  "endTime": 1674241888522,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 19,
        "columnStart": 22,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 19,
        "columnStart": 22,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#Dockerfile for authentication.io\n\nFROM ubuntu:14.04\n\n# Maintainer: V. David Zvenyach <dave at esq io> (@vzvenyach)\nMAINTAINER V. David Zvenyach, dave@esq.io\n\n# Initialize\nRUN apt-get update && apt-get install --no-install-recommends -y gnupg2 \\\n\tpython \\\n\tpython-pip \\\n\tpython-dev \\\n\tgit \\\n\thaveged \\\n\tnano \\\n\tpostgresql postgresql-contrib \\\n\tpython-psycopg2 \\\n\tlibpq-dev \\\n\tlibxml2-dev libxslt1-dev \\\n\tlibncurses5-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN git clone https://github.com/unitedstates/authentication.git\nWORKDIR authentication\n\nRUN pip install --no-cache-dir -r requirements.txt\n\nRUN mv authentication/local_settings.py.example authentication/local_settings.py\nRUN printf '\\nGNUPG_BINARY = \"/usr/local/opt/gnupg2/bin/gpg2\"  # for *nix\"\\n' >> authentication/local_settings.py\nRUN ./authentication/manage.py make_secret_key >> authentication/local_settings.py\n\nENV FQDN authentication.dccode.gov\nENV EMAIL_ADDRESS administrator@dccode.gov\n\nRUN printf \"$FQDN\\n$EMAIL_ADDRESS\" | ./conf/nginx/gpg.sh >> authentication/local_settings.py\n\n# ENTRYPOINT [\"./gpg_init.sh\"]\n# RUN ./authentication/manage.py syncdb\n# RUN cd authentication && gunicorn authentication.wsgi:application -b 0.0.0.0:5000 --log-file /var/log/gunicorn.log\n# sudo docker run -ti -v /dev/urandom:/dev/random -P --name auth authentication /bin/bash\n\nEXPOSE 5000"
}