{
  "startTime": 1674240293292,
  "endTime": 1674240293438,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 7,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 11,
        "columnStart": 22,
        "columnEnd": 53
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# gcr.io/skia-public/basedebian:testing-slim python installation conflicts with\n# the one expected by android compilation.\nFROM debian:9.5\n\nUSER root\n\n# Install necessary packages (from https://source.android.com/setup/initializing).\nRUN apt-get update && apt-get install --no-install-recommends -y wget procps ccache gpg curl vim \\\n    git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev \\\n    gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev \\\n    x11proto-core-dev libx11-dev lib32z-dev ccache libgl1-mesa-dev \\\n    libxml2-utils xsltproc unzip python openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\n\n# TODO(rmistry): Figure out a way to not do this hack.\nRUN ln -s /usr/lib/x86_64-linux-gnu/libncursesw.so.6.1 /usr/lib/libtinfo.so.5 \\\n    && ln -s /usr/lib/x86_64-linux-gnu/libncursesw.so.6.1 /usr/lib/libncurses.so.5\n\n# Add user so we don't have to run as root (prevents us from over-writing files in /SRC)\nRUN groupadd -g 2000 skia \\\n    && useradd -u 2000 -g 2000 skia \\\n    && mkdir -p /home/skia \\\n    && chown -R skia:skia /home/skia\n\nUSER skia\n\n# Install repo tool.\nRUN mkdir /home/skia/bin \\\n    && wget https://storage.googleapis.com/git-repo-downloads/repo -O /home/skia/bin/repo \\\n    && chmod a+x /home/skia/bin/repo\n\n# Add repo tool to PATH.\nENV PATH /home/skia/bin:$PATH\n\n# Set git configs required for the repo tool to not prompt.\nRUN git config --global color.ui true\n\nCOPY . /\n\nENV JAVA_HOME /usr/lib/jvm/java-1.8.0-openjdk-amd64\nENV PATH /home/skia/bin:$PATH\n\nENTRYPOINT [\"/usr/local/bin/android_compile\"]\n"
}