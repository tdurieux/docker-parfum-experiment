{
  "startTime": 1674240315891,
  "endTime": 1674240316247,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 61,
        "lineEnd": 61,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 62,
        "lineEnd": 62,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 63,
        "lineEnd": 63,
        "columnStart": 4,
        "columnEnd": 41
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 64,
        "lineEnd": 64,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 65,
        "lineEnd": 65,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 70,
        "lineEnd": 70,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 33,
        "lineEnd": 47,
        "columnStart": 23,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 22,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 33,
        "lineEnd": 47,
        "columnStart": 23,
        "columnEnd": 17
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 73,
        "lineEnd": 73,
        "columnStart": 22,
        "columnEnd": 54
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# ==============================================================================\n#  Copyright 2018-2019 Intel Corporation\n#\n#  Licensed under the Apache License, Version 2.0 (the \"License\");\n#  you may not use this file except in compliance with the License.\n#  You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing, software\n#  distributed under the License is distributed on an \"AS IS\" BASIS,\n#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#  See the License for the specific language governing permissions and\n#  limitations under the License.\n# ==============================================================================\n\n# Environment to build and unit-test ngraph-tensorflow-bridge\n\nFROM ubuntu:16.04\n\n# Default python environment is python 2, thus python-pip and virtualenv\n# python-numpy, python-dev, and python-wheel all needed for TensorFlow build\n# git is needed to clone tensorflow repository\n# unzip and wget are needed for installing bazel\n# sudo is required for installing the TF wheel into /usr/local/...\n# zlib1g, zlib1g-dev and bash-completion are required by bazel install\n# zip and golang-go are needed to run TensorFlow tests\n# curl and locate are needed by Tensorflow's configure command\n# enum appears to be used in the TensorFlow build\n# clang-format-3.9 is needed for code-style checks\n# python3-pil is needed to run the inception-resnet-v2 model\n# python3-tk is used by matplotlib (pip installed below)\n# libsdl1.2-dev is needed to run the A3C model\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    python3-pip virtualenv \\\n    python3-numpy python3-dev python3-wheel \\\n    git \\\n    unzip wget \\\n    sudo \\\n    zlib1g zlib1g-dev bash-completion \\\n    build-essential cmake \\\n    libtinfo-dev \\\n    zip golang-go \\\n    locate curl \\\n    clang-format-3.9 \\\n    python3-pil \\\n    python3-tk \\\n    libsdl1.2-dev && rm -rf /var/lib/apt/lists/*;\n\n# The \"locate\" command uses a prepopulated index.  If this index is not built,\n# then \"locate\" will find absolutely nothing.  In Tensorflow's configure,\n# this manifests itself as a silent failure of the configure script to run to\n# completion.  Therefore, updatedb MUST BE RUN to provide an index for \"locate\".\nRUN updatedb\n\n# six, enum34 and mock are required for building the tensorflow wheel\n# scipy, portpicker, and sklearn are needed by some TensorFlow tests\n# keras_applications and keras_preprocessing are needed for modern TensorFlow builds\n# matplotlib and librosa are needed to run inference models\n# opencv-python is used by some inference models (for import cv2)\n# yapf and futures are needed for code-format checks (ngraph-tf PR#211)\nRUN pip3 install --no-cache-dir --upgrade pip\nRUN pip3 install --no-cache-dir six enum34 mock\nRUN pip3 install --no-cache-dir scipy portpicker sklearn\nRUN pip3 install --no-cache-dir keras_applications keras_preprocessing\nRUN pip3 install --no-cache-dir matplotlib librosa opencv-python\nRUN pip3 install --no-cache-dir yapf==0.26.0\nRUN pip3 install --no-cache-dir futures\n\n# We include pytest so the Docker image can be used for daily validation\nRUN pip3 install --no-cache-dir --upgrade pytest\n\n# Bazel requires the OpenJDK\nRUN apt-get update && apt-get install --no-install-recommends -y openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\n#\n# This bazel version works with current TF\nARG BAZEL_VERSION=0.24.1\nRUN wget --no-verbose -c https://github.com/bazelbuild/bazel/releases/download/${BAZEL_VERSION}/bazel_${BAZEL_VERSION}-linux-x86_64.deb\nRUN dpkg -i bazel_${BAZEL_VERSION}-linux-x86_64.deb || true\n\n# Copy in the run-as-user.sh script\n# This will allow the builds, which are done in a mounted directory, to\n# be run as the user who runs \"docker run\".  This then allows the mounted\n# directory to be properly deleted by the user later (e.g. by jenkins).\nWORKDIR /home\n"
}