{
  "startTime": 1674236858089,
  "endTime": 1674236858918,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 99
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:bionic\n\nRUN  apt-get update \\\n  && apt-get upgrade -y \\\n  && apt-get install --no-install-recommends -y \\\n  sudo build-essential nasm dh-autoreconf pkg-config ca-certificates gnupg \\\n  git zip curl libpng-dev libssl-dev wget libc6-dbg  \\\n  libcurl4-openssl-dev libelf-dev libdw-dev apt-transport-https \\\n  cmake valgrind \\\n  && apt-get clean -y \\\n  && apt-get autoremove -y \\\n  && rm -rf /var/lib/apt/lists/* \\\n  && bash -c 'rm -rf {/usr/share/doc,/usr/share/man,/var/cache,/usr/doc,/usr/local/share/doc,/usr/local/share/man}' \\\n  && bash -c 'rm -rf /tmp/*' \\\n  && bash -c 'rm -rf /var/tmp/*' \\\n  && sudo mkdir -p /var/cache/apt/archives/partial \\\n  && sudo touch /var/cache/apt/archives/lock \\\n  && sudo chmod 640 /var/cache/apt/archives/lock\n\n\nRUN wget -q https://packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb \\\n  && sudo dpkg -i packages-microsoft-prod.deb \\\n  && apt-get update \\\n  && apt-get install --no-install-recommends -y \\\n  ruby-dev ruby-bundler rubygems-integration \\\n  luajit \\\n  python-minimal python-pip python-setuptools \\\n  && apt-get clean -y \\\n  && apt-get autoremove -y \\\n  && rm -rf /var/lib/apt/lists/* \\\n  && bash -c 'rm -rf {/usr/share/doc,/usr/share/man,/var/cache,/usr/doc,/usr/local/share/doc,/usr/local/share/man}' \\\n  && bash -c 'rm -rf /tmp/* || true' \\\n  && bash -c 'rm -rf /var/tmp/*' \\\n  && sudo mkdir -p /var/cache/apt/archives/partial \\\n  && sudo touch /var/cache/apt/archives/lock \\\n  && sudo chmod 640 /var/cache/apt/archives/lock\n\n\n\n# Install lcov and  coveralls-lcov\nRUN wget -nv -O lcov.tar.gz https://ftp.de.debian.org/debian/pool/main/l/lcov/lcov_1.11.orig.tar.gz \\\n    && tar xvzf lcov.tar.gz && rm lcov.tar.gz && mv lcov-1.11 lcov \\\n    && sudo make -C lcov/ install \\\n    && rm -rf lcov && rm -rf /usr/share/man \\\n    && sudo gem install coveralls-lcov\n\n# Install kcov\nRUN wget -nv  -O kcov.tar.gz https://github.com/SimonKagstrom/kcov/archive/master.tar.gz \\\n    && tar xvzf kcov.tar.gz && rm kcov.tar.gz && mv kcov-master kcov \\\n    && mkdir kcov/build && cd kcov/build \\\n    && cmake .. && make && sudo make install \\\n    && cd ../.. && rm -rf kcov && rm -rf /usr/local/share/man\n\n\nRUN groupadd 1001 -g 1001 &&\\\n    groupadd 1000 -g 1000 &&\\\n    useradd -ms /bin/bash imageflow -g 1001 -G 1000 &&\\\n    echo \"imageflow:imageflow\" | chpasswd && adduser imageflow sudo &&\\\n    echo \"imageflow ALL= NOPASSWD: ALL\\n\" >> /etc/sudoers\n\nUSER imageflow\n\nENV PATH=/home/imageflow/.cargo/bin:$PATH\n\n\n#Install stable Rust and make default\nRUN RUSTVER=\"stable\" && curl https://sh.rustup.rs -sSf | sh -s -- -y --default-toolchain $RUSTVER -v \\\n    && rustup default $RUSTVER \\\n    && HI=$(rustup which rustc) && HI=${HI%/bin/rustc} && export TOOLCHAIN_DIR=$HI && echo TOOLCHAIN_DIR=$TOOLCHAIN_DIR \\\n    && sudo rm -rf $TOOLCHAIN_DIR/share/doc \\\n    && sudo rm -rf $TOOLCHAIN_DIR/share/man \\\n    && sudo rm -rf /home/imageflow/.multirust/toolchains/${RUSTVER}-x86_64-unknown-linux-gnu/share/doc \\\n    && ln -sf -t $TOOLCHAIN_DIR/lib/ $TOOLCHAIN_DIR/lib/rustlib/x86_64-unknown-linux-gnu/lib/*.so \\\n    && rustup show \\\n    && rustc -V\n\nRUN PKG_CONFIG_ALL_STATIC=1 cargo install --force --git=https://github.com/mozilla/sccache.git --features=s3 \\\n    && PKG_CONFIG_ALL_STATIC=1 cargo install dssim \\\n    && rm -rf ~/.cargo/registry\n\n\nWORKDIR /home/imageflow/imageflow\n\nMAINTAINER Lilith River\n"
}