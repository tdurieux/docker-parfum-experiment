{
  "startTime": 1674239494295,
  "endTime": 1674239494433,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 7
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 7
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 7,
        "lineEnd": 9,
        "columnStart": 7,
        "columnEnd": 13
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 7
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 7
      }
    }
  ],
  "repairedDockerfile": "FROM nvidia/cuda:8.0-cudnn5-devel\nMAINTAINER Satyalab, satya-group@lists.andrew.cmu.edu\n\nARG DEBIAN_FRONTEND=noninteractive\n\nRUN apt-get update \\\n    && apt-get upgrade -y \\\n    && apt-get install -y \\\n    --no-install-recommends \\\n    apt-utils && rm -rf /var/lib/apt/lists/*;\n\nRUN apt-get install --no-install-recommends -y \\\n    build-essential \\\n    pkg-config \\\n    python2.7 \\\n    python-dev \\\n    python-pip \\\n    default-jre \\\n    pssh \\\n    python-psutil \\\n    python-setuptools \\\n    python-opencv \\\n    python-matplotlib \\\n    git && rm -rf /var/lib/apt/lists/*;\n\nRUN pip install --no-cache-dir -U pip\nRUN pip install --no-cache-dir -U setuptools\nRUN pip install --no-cache-dir -U numpy\n\nRUN git clone https://github.com/cmusatyalab/gabriel.git\nWORKDIR /gabriel/server\nRUN pip install --no-cache-dir -r requirements.txt\nRUN python setup.py install\n\nRUN apt-get autoremove \\\n    && apt-get clean\n\nWORKDIR /\n\nEXPOSE 9098 9111 7070 22222\n\n# Define default command.\nCMD [\"bash\", \"-c\", \"gabriel-control -d -n eth0 & sleep 5; gabriel-ucomm -s 127.0.0.1:8021 & sleep 5; cd /gabriel/server/bin/example-proxies/gabriel-proxy-http-display && python proxy.py -s 127.0.0.1:8021\"]\n"
}