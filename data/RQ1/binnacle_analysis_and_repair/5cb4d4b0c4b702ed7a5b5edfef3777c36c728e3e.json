{
  "startTime": 1674240523314,
  "endTime": 1674240523949,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 78,
        "lineEnd": 78,
        "columnStart": 4,
        "columnEnd": 124
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 85,
        "lineEnd": 85,
        "columnStart": 4,
        "columnEnd": 134
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 34,
        "columnEnd": 96
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 9,
        "columnEnd": 143
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 101,
        "lineEnd": 101,
        "columnStart": 4,
        "columnEnd": 113
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 92,
        "lineEnd": 92,
        "columnStart": 34,
        "columnEnd": 96
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 93,
        "lineEnd": 93,
        "columnStart": 9,
        "columnEnd": 143
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 52,
        "lineEnd": 52,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 15
      }
    },
    {
      "rule": "aptGetInstallUseY",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 43,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 28,
        "lineEnd": 45,
        "columnStart": 2,
        "columnEnd": 21
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 23,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 106,
        "lineEnd": 108,
        "columnStart": 5,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 114,
        "lineEnd": 114,
        "columnStart": 22,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 43,
        "columnEnd": 61
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 86,
        "lineEnd": 86,
        "columnStart": 75,
        "columnEnd": 94
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 85,
        "columnEnd": 104
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 47
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 28,
        "lineEnd": 45,
        "columnStart": 2,
        "columnEnd": 21
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 28
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 23,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 106,
        "lineEnd": 108,
        "columnStart": 5,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 114,
        "lineEnd": 114,
        "columnStart": 22,
        "columnEnd": 79
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 75,
        "lineEnd": 75,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 80,
        "lineEnd": 80,
        "columnStart": 43,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 86,
        "lineEnd": 86,
        "columnStart": 75,
        "columnEnd": 94
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 103,
        "lineEnd": 103,
        "columnStart": 85,
        "columnEnd": 104
      }
    }
  ],
  "repairedDockerfile": "# Code.org CircleCI-dependencies Dockerfile\n# Pushed to Docker Hub at wjordan/code-dot-org:trusty\nFROM ubuntu:14.04\n\nUSER root\n\n# set timezone to UTC by default\nRUN ln -sf /usr/share/zoneinfo/Etc/UTC /etc/localtime\n\n# use unicode\nRUN locale-gen C.UTF-8 || true\nENV LANG=C.UTF-8\n\n# add circleci user\nRUN groupadd --gid 3434 circleci \\\n  && useradd --uid 3434 --gid circleci --shell /bin/bash --create-home circleci \\\n  && echo 'circleci ALL=NOPASSWD: ALL' >> /etc/sudoers.d/50-circleci\n\n# essential tools\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y curl apt-transport-https && rm -rf /var/lib/apt/lists/*;\n\n# add yarn\nRUN curl -f -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - && \\\n    echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list\n\n# more tools\nRUN apt-get update && \\\n\t\tapt-get install --no-install-recommends -y \\\n\t\t\t\tgit \\\n\t\t\t\txvfb \\\n\t\t\t\tyarn=0.27.5-1 \\\n\t\t\t\tsudo \\\n\t\t\t\topenssh-client \\\n\t\t\t\tca-certificates \\\n\t\t\t\ttar \\\n\t\t\t\tgzip \\\n\t\t\t\twget \\\n\t\t\t\txz-utils \\\n\t\t\t\tautoconf \\\n\t\t\t\tbuild-essential \\\n\t\t\t\tzlib1g-dev \\\n\t\t\t\tlibssl-dev \\\n\t\t\t\tcurl \\\n\t\t\t\tlibreadline-dev \\\n\t\t\t\tpython python-dev && rm -rf /var/lib/apt/lists/*;\n\n# install ruby\nRUN wget https://cache.ruby-lang.org/pub/ruby/2.5/ruby-2.5.0.tar.gz && \\\n    tar -xzvf ruby-2.5.0.tar.gz && \\\n    rm ruby-2.5.0.tar.gz && \\\n    cd ruby-2.5.0 && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && \\\n    make -j\"$(nproc)\" && \\\n    make install && \\\n    cd .. && \\\n    rm -r ruby-2.5.0\n\n# install bundler\nRUN gem install bundler -v 1.17 && \\\n    mkdir -p /usr/local/bundle && \\\n    chown -R circleci /usr/local/bundle\n\n# install node\nRUN wget https://nodejs.org/dist/v8.15.0/node-v8.15.0.tar.gz && \\\n    tar -xzvf node-v8.15.0.tar.gz && \\\n    rm node-v8.15.0.tar.gz && \\\n    cd node-v8.15.0 && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" && \\\n    make -j4 && \\\n    make install && \\\n    cd .. && \\\n    rm -r node-v8.15.0\n\n# more more tools\nRUN apt-get install --no-install-recommends -y unzip && rm -rf /var/lib/apt/lists/*;\n\n# install firefox\nRUN curl -f --output /tmp/firefox.deb https://s3.amazonaws.com/circle-downloads/firefox-mozilla-build_47.0.1-0ubuntu1_amd64.deb \\\n  && echo 'ef016febe5ec4eaf7d455a34579834bcde7703cb0818c80044f4d148df8473bb  /tmp/firefox.deb' | sha256sum -c \\\n  && sudo dpkg -i /tmp/firefox.deb || sudo apt-get -f -y install \\\n  && apt-get update && apt-get install --no-install-recommends -y libgtk3.0-cil-dev \\\n  && rm -rf /tmp/firefox.deb && rm -rf /var/lib/apt/lists/*;\n\n# install chrome\nRUN curl -f -sSL -o /tmp/google-chrome-stable_current_amd64.deb https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb \\\n      && (sudo dpkg -i /tmp/google-chrome-stable_current_amd64.deb || sudo apt-get -fy install) \\\n      && rm -rf /tmp/google-chrome-stable_current_amd64.deb \\\n      && sudo sed -i 's|HERE/chrome\"|HERE/chrome\" --disable-setuid-sandbox --no-sandbox|g' \\\n           \"/opt/google/chrome/google-chrome\"\n\n# install chromedriver\nRUN export CHROMEDRIVER_RELEASE=$( curl -f https://chromedriver.storage.googleapis.com/LATEST_RELEASE) \\\n      && curl -f -sSL -o /tmp/chromedriver_linux64.zip \"https://chromedriver.storage.googleapis.com/$CHROMEDRIVER_RELEASE/chromedriver_linux64.zip\" \\\n      && cd /tmp \\\n      && unzip chromedriver_linux64.zip \\\n      && rm -rf chromedriver_linux64.zip \\\n      && sudo mv chromedriver /usr/local/bin/chromedriver \\\n      && sudo chmod +x /usr/local/bin/chromedriver\n\n# install mysql\nRUN curl -f -sSL -o /tmp/mysql-apt-config_0.8.9-1_all.deb https://dev.mysql.com/get/mysql-apt-config_0.8.9-1_all.deb \\\n  && echo \"mysql-apt-config mysql-apt-config/select-server select mysql-5.7\" | /usr/bin/debconf-set-selections \\\n  && DEBIAN_FRONTEND=noninteractive dpkg -i /tmp/mysql-apt-config_0.8.9-1_all.deb || apt-get -fy install \\\n  && rm -rf /tmp/mysql-apt-config_0.8.9-1_all.deb \\\n  && apt-get update \\\n  && DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n    mysql-server \\\n    libmysqlclient-dev && rm -rf /var/lib/apt/lists/*;\nRUN service mysql start \\\n  && echo \"ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '';\" | mysql \\\n  && service mysql stop\n\n# install a couple more things from config.yml\nRUN apt-get update && apt-get -y --no-install-recommends install parallel libmagickwand-dev imagemagick && rm -rf /var/lib/apt/lists/*;\n\nUSER circleci\n"
}