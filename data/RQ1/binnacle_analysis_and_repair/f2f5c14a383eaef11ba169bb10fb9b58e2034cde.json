{
  "startTime": 1674239112270,
  "endTime": 1674239112451,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 10,
        "lineEnd": 17,
        "columnStart": 1,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:3.9\n\nLABEL maintainer=\"Ardalan.Kangarlou@netapp.com\" \\\n      app=\"trident.netapp.io\" \\\n      description=\"Trident Storage Orchestrator\"\n\n# Use APK mirrors for fault tolerance\nRUN printf \"http://dl-1.alpinelinux.org/alpine/v3.9/main\\nhttp://dl-2.alpinelinux.org/alpine/v3.9/main\\nhttp://dl-3.alpinelinux.org/alpine/v3.9/main\\nhttp://dl-4.alpinelinux.org/alpine/v3.9/main\\nhttp://dl-5.alpinelinux.org/alpine/v3.9/main\\n\\nhttp://dl-1.alpinelinux.org/alpine/v3.9/community\\nhttp://dl-2.alpinelinux.org/alpine/v3.9/community\\nhttp://dl-3.alpinelinux.org/alpine/v3.9/community\\nhttp://dl-4.alpinelinux.org/alpine/v3.9/community\\nhttp://dl-5.alpinelinux.org/alpine/v3.9/community\" > /etc/apk/repositories\n\nRUN apk update || true && \\\n\tapk add --no-cache coreutils util-linux blkid \\\n\tlsscsi \\\n\te2fsprogs \\\n\tbash \\\n\tkmod \\\n\tcurl \\\n\tjq \\\n\tca-certificates\n\n# for go binaries to work inside an alpine container\nRUN mkdir /lib64 && ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2\n\nARG PORT=8000\nENV PORT $PORT\nEXPOSE $PORT\nARG BIN=trident_orchestrator\nENV BIN $BIN\nARG CLI_BIN=tridentctl\nENV CLI_BIN $CLI_BIN\nARG ETCDV3=http://localhost:8001\nENV ETCDV3 $ETCDV3\nARG K8S=\"\"\nENV K8S $K8S\nENV TRIDENT_IP localhost\n\nCOPY ./scripts/* $BIN $CLI_BIN ./extras/external-etcd/bin/etcd-copy /usr/local/bin/\n\nRUN mkdir /netapp\nADD chroot-host-wrapper.sh /netapp\nRUN chmod 777 /netapp/chroot-host-wrapper.sh\nRUN    ln -s /netapp/chroot-host-wrapper.sh /netapp/blkid \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/blockdev \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/cat \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/df \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/free \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/iscsiadm \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/ls \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/lsblk \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/lsscsi \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/mkdir \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/mkfs.ext3 \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/mkfs.ext4 \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/mkfs.xfs \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/mount \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/multipath \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/multipathd \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/pgrep \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/rmdir \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/stat \\\n    && ln -s /netapp/chroot-host-wrapper.sh /netapp/umount\n\n\nCMD [\"/usr/bin/env -i PATH='/netapp:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin' /usr/local/bin/$BIN -port $PORT -etcd_v3 $ETCDV3 -k8s_api_server $K8S\"]\n"
}