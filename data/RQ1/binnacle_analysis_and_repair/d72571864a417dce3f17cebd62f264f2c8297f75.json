{
  "startTime": 1674248893047,
  "endTime": 1674248893251,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 11,
        "columnEnd": 30
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM clouder/base:3.4\nMAINTAINER Yannick Buron yannick.buron@gmail.com\n\n# create the odoo user\nRUN adduser -D -g \"\" odoo\nRUN touch /home/odoo/.pgpass\n\nRUN mkdir -p /opt/odoo/data\nRUN mkdir -p /opt/odoo/etc\nRUN mkdir -p /opt/odoo/extra-addons\nRUN mkdir -p /opt/odoo/var/run\nRUN mkdir -p /opt/odoo/var/log\nRUN mkdir -p /opt/odoo/var/egg-cache\nADD odoo.conf /opt/odoo/etc/odoo.conf\n\nRUN chown -R odoo:odoo /opt/odoo\n\n#RUN touch /tmp/odoo-exec\n# generate locales\n#RUN locale-gen en_US.UTF-8 && update-locale\n#RUN echo 'LANG=\"en_US.UTF-8\"' > /etc/default/locale\n\n# Add the PostgreSQL PGP key to verify their Debian packages.\n# It should be the same key as https://www.postgresql.org/media/keys/ACCC4CF8.asc\n#RUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8\n\n# Add PostgreSQL's repository. It contains the most recent stable release\n#     of PostgreSQL, 9.4.\n# install dependencies as distrib packages when system bindings are required\n# some of them extend the basic odoo requirements for a better \"apps\" compatibility\n# most dependencies are distributed as wheel packages at the next step\n#RUN echo \"deb http://apt.postgresql.org/pub/repos/apt/ trusty-pgdg main\" > /etc/apt/sources.list.d/pgdg.list && apt-get update && apt-get -yq install adduser ghostscript postgresql-client-9.5 python python-pip libjpeg-dev libfreetype6-dev zlib1g-dev libpng12-dev python-imaging python-pychart python-libxslt1 xfonts-base xfonts-75dpi libxrender1 libxext6 fontconfig python-zsi python-lasso libzmq5 libxslt1-dev libxml2-dev libxml2 libxslt1.1 python-dev libpq-dev libffi-dev libldap2-dev libssl-dev libsasl2-dev openssh-client node-less\n\nRUN apk add --update --no-cache postgresql-client nodejs py2-pip py-libxslt libjpeg-turbo \\\n        && apk add --update --no-cache --virtual .build-deps gcc libffi-dev libjpeg-turbo-dev libxslt-dev linux-headers musl-dev openldap-dev postgresql-dev python-dev \\\n        && pip --no-cache-dir install --upgrade --force setuptools pip \\\n        # Fix problem with pyparsing, remove later\n        # && pip install setuptools==33.1.1 \\\n        # && pip --no-cache-dir install --upgrade -r https://raw.githubusercontent.com/odoo/odoo/8.0/requirements.txt \\\n        && pip --no-cache-dir install --upgrade -r https://raw.githubusercontent.com/odoo/odoo/9.0/requirements.txt \\\n        && pip --no-cache-dir install --upgrade -r https://raw.githubusercontent.com/odoo/odoo/10.0/requirements.txt \\\n        && easy_install -UZ py3o.template==0.9.5 \\\n        && npm install -g less \\\n        # && apk add --update --no-cache --repository http://dl-cdn.alpinelinux.org/alpine/edge/testing wkhtmltopdf \\\n        && apk del .build-deps && npm cache clean --force;\n\nRUN apk add --update --no-cache \\\n    libgcc libstdc++ libx11 glib libxrender libxext libintl \\\n    libcrypto1.0 libssl1.0 \\\n    ttf-dejavu ttf-droid ttf-freefont ttf-liberation ttf-ubuntu-font-family\n\nRUN wget https://github.com/madnight/docker-alpine-wkhtmltopdf/raw/master/wkhtmltopdf -O /usr/bin/wkhtmltopdf\nRUN chmod +x /usr/bin/wkhtmltopdf\n\n# Execution environment\nUSER odoo\nCMD /opt/odoo/files/odoo/odoo.py -c /opt/odoo/etc/odoo.conf\n"
}