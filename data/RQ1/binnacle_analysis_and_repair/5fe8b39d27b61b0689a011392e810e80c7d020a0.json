{
  "startTime": 1674246116596,
  "endTime": 1674246117678,
  "originalSmells": [
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 22,
        "columnEnd": 87
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM golang:1.11\n\nRUN apt-get update && apt-get install --no-install-recommends -y -q build-essential git && rm -rf /var/lib/apt/lists/*;\n\n# For implicit GOCACHE (Issues 29243 and 29251), set HOME:\nRUN mkdir -p /home/gopher\nENV HOME /home/gopher\n\n# golang puts its go install here (weird but true)\nENV GOROOT_BOOTSTRAP /usr/local/go\n\n# BEGIN deps (run `make update-deps` to update)\n\n# Repo cloud.google.com/go at b5eca92 (2018-10-23)\nENV REV=b5eca92245a08e245bc29c4880c9779ea4aeaa9a\nRUN go get -d cloud.google.com/go/compute/metadata `#and 7 other pkgs` &&\\\n    (cd /go/src/cloud.google.com/go && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo github.com/golang/protobuf at b4deda0 (2018-04-30)\nENV REV=b4deda0973fb4c70b50d226b1af49f3da59f5265\nRUN go get -d github.com/golang/protobuf/proto `#and 6 other pkgs` &&\\\n    (cd /go/src/github.com/golang/protobuf && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo github.com/googleapis/gax-go at 317e000 (2017-09-15)\nENV REV=317e0006254c44a0ac427cc52a0e083ff0b9622f\nRUN go get -d github.com/googleapis/gax-go &&\\\n    (cd /go/src/github.com/googleapis/gax-go && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo go.opencensus.io at ebd8d31 (2018-05-16)\nENV REV=ebd8d31470fedf6c27d0e3056653ddff642509b8\nRUN go get -d go.opencensus.io/exporter/stackdriver/propagation `#and 12 other pkgs` &&\\\n    (cd /go/src/go.opencensus.io && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo golang.org/x/build at 7b78c20 (2018-12-13)\nENV REV=7b78c2042368d5c56ee9dbd92ab5fa988c763944\nRUN go get -d golang.org/x/build/autocertcache &&\\\n    (cd /go/src/golang.org/x/build && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo golang.org/x/crypto at e4dc69e (2018-11-06)\nENV REV=e4dc69e5b2fd71dcaf8bd5d054eb936deb78d1fa\nRUN go get -d golang.org/x/crypto/acme `#and 2 other pkgs` &&\\\n    (cd /go/src/golang.org/x/crypto && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo golang.org/x/net at 891ebc4 (2018-12-13)\nENV REV=891ebc4b82d6e74f468c533b06f983c7be918a96\nRUN go get -d golang.org/x/net/context `#and 8 other pkgs` &&\\\n    (cd /go/src/golang.org/x/net && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo golang.org/x/oauth2 at f42d051 (2018-11-06)\nENV REV=f42d05182288abf10faef86d16c0d07b8d40ea2d\nRUN go get -d golang.org/x/oauth2 `#and 5 other pkgs` &&\\\n    (cd /go/src/golang.org/x/oauth2 && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo golang.org/x/sys at 4d1cda0 (2018-12-13)\nENV REV=4d1cda033e0619309c606fc686de3adcf599539e\nRUN go get -d golang.org/x/sys/unix &&\\\n    (cd /go/src/golang.org/x/sys && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo golang.org/x/text at 6f44c5a (2018-10-30)\nENV REV=6f44c5a2ea40ee3593d98cdcc905cc1fdaa660e2\nRUN go get -d golang.org/x/text/secure/bidirule `#and 4 other pkgs` &&\\\n    (cd /go/src/golang.org/x/text && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo google.golang.org/api at 20530fd (2018-05-06)\nENV REV=20530fd5d65ad2caee87891f9896d7547cb400c9\nRUN go get -d google.golang.org/api/gensupport `#and 9 other pkgs` &&\\\n    (cd /go/src/google.golang.org/api && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo google.golang.org/genproto at 86e600f (2018-04-27)\nENV REV=86e600f69ee4704c6efbf6a2a40a5c10700e76c2\nRUN go get -d google.golang.org/genproto/googleapis/api/annotations `#and 4 other pkgs` &&\\\n    (cd /go/src/google.golang.org/genproto && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Repo google.golang.org/grpc at 07ef407 (2018-08-06)\nENV REV=07ef407d991f1004e6c3367c8f452ed9a02f17ff\nRUN go get -d google.golang.org/grpc `#and 26 other pkgs` &&\\\n    (cd /go/src/google.golang.org/grpc && (git cat-file -t $REV 2>/dev/null || git fetch -q origin $REV) && git reset --hard $REV)\n\n# Optimization to speed up iterative development, not necessary for correctness:\nRUN go install cloud.google.com/go/compute/metadata \\\n\tcloud.google.com/go/iam \\\n\tcloud.google.com/go/internal \\\n\tcloud.google.com/go/internal/optional \\\n\tcloud.google.com/go/internal/trace \\\n\tcloud.google.com/go/internal/version \\\n\tcloud.google.com/go/storage \\\n\tgithub.com/golang/protobuf/proto \\\n\tgithub.com/golang/protobuf/protoc-gen-go/descriptor \\\n\tgithub.com/golang/protobuf/ptypes \\\n\tgithub.com/golang/protobuf/ptypes/any \\\n\tgithub.com/golang/protobuf/ptypes/duration \\\n\tgithub.com/golang/protobuf/ptypes/timestamp \\\n\tgithub.com/googleapis/gax-go \\\n\tgo.opencensus.io/exporter/stackdriver/propagation \\\n\tgo.opencensus.io/internal \\\n\tgo.opencensus.io/internal/tagencoding \\\n\tgo.opencensus.io/plugin/ochttp \\\n\tgo.opencensus.io/plugin/ochttp/propagation/b3 \\\n\tgo.opencensus.io/stats \\\n\tgo.opencensus.io/stats/internal \\\n\tgo.opencensus.io/stats/view \\\n\tgo.opencensus.io/tag \\\n\tgo.opencensus.io/trace \\\n\tgo.opencensus.io/trace/internal \\\n\tgo.opencensus.io/trace/propagation \\\n\tgolang.org/x/build/autocertcache \\\n\tgolang.org/x/crypto/acme \\\n\tgolang.org/x/crypto/acme/autocert \\\n\tgolang.org/x/net/context \\\n\tgolang.org/x/net/context/ctxhttp \\\n\tgolang.org/x/net/http/httpguts \\\n\tgolang.org/x/net/http2 \\\n\tgolang.org/x/net/http2/hpack \\\n\tgolang.org/x/net/idna \\\n\tgolang.org/x/net/internal/timeseries \\\n\tgolang.org/x/net/trace \\\n\tgolang.org/x/oauth2 \\\n\tgolang.org/x/oauth2/google \\\n\tgolang.org/x/oauth2/internal \\\n\tgolang.org/x/oauth2/jws \\\n\tgolang.org/x/oauth2/jwt \\\n\tgolang.org/x/sys/unix \\\n\tgolang.org/x/text/secure/bidirule \\\n\tgolang.org/x/text/transform \\\n\tgolang.org/x/text/unicode/bidi \\\n\tgolang.org/x/text/unicode/norm \\\n\tgoogle.golang.org/api/gensupport \\\n\tgoogle.golang.org/api/googleapi \\\n\tgoogle.golang.org/api/googleapi/internal/uritemplates \\\n\tgoogle.golang.org/api/googleapi/transport \\\n\tgoogle.golang.org/api/internal \\\n\tgoogle.golang.org/api/iterator \\\n\tgoogle.golang.org/api/option \\\n\tgoogle.golang.org/api/storage/v1 \\\n\tgoogle.golang.org/api/transport/http \\\n\tgoogle.golang.org/genproto/googleapis/api/annotations \\\n\tgoogle.golang.org/genproto/googleapis/iam/v1 \\\n\tgoogle.golang.org/genproto/googleapis/rpc/code \\\n\tgoogle.golang.org/genproto/googleapis/rpc/status \\\n\tgoogle.golang.org/grpc \\\n\tgoogle.golang.org/grpc/balancer \\\n\tgoogle.golang.org/grpc/balancer/base \\\n\tgoogle.golang.org/grpc/balancer/roundrobin \\\n\tgoogle.golang.org/grpc/codes \\\n\tgoogle.golang.org/grpc/connectivity \\\n\tgoogle.golang.org/grpc/credentials \\\n\tgoogle.golang.org/grpc/encoding \\\n\tgoogle.golang.org/grpc/encoding/proto \\\n\tgoogle.golang.org/grpc/grpclog \\\n\tgoogle.golang.org/grpc/internal \\\n\tgoogle.golang.org/grpc/internal/backoff \\\n\tgoogle.golang.org/grpc/internal/channelz \\\n\tgoogle.golang.org/grpc/internal/envconfig \\\n\tgoogle.golang.org/grpc/internal/grpcrand \\\n\tgoogle.golang.org/grpc/internal/transport \\\n\tgoogle.golang.org/grpc/keepalive \\\n\tgoogle.golang.org/grpc/metadata \\\n\tgoogle.golang.org/grpc/naming \\\n\tgoogle.golang.org/grpc/peer \\\n\tgoogle.golang.org/grpc/resolver \\\n\tgoogle.golang.org/grpc/resolver/dns \\\n\tgoogle.golang.org/grpc/resolver/passthrough \\\n\tgoogle.golang.org/grpc/stats \\\n\tgoogle.golang.org/grpc/status \\\n\tgoogle.golang.org/grpc/tap\n# END deps.\n\n# golang sets GOPATH=/go\nADD . /go/src/tip\nWORKDIR /go/src/tip\nRUN go install --tags=autocert\nENTRYPOINT [\"/go/bin/tip\"]\n\n# We listen on 8080 (for historical reasons). The service.yaml maps public port 80 to 8080.\n# We also listen on 443 for LetsEncrypt TLS.\nEXPOSE 8080 443\n"
}