{
  "startTime": 1674250739912,
  "endTime": 1674250739995,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 4,
        "columnEnd": 97
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#############################################################\n#       Dockerfile to build image for UFT on Centos6\n#            https://github.com/supermasita/uft\n#############################################################\n#\n# Build:\n#\n# Inside \"docker\" dir, run:\n# > sudo docker build -t \"uft\" .\n#\n# Run (example):\n# > sudo docker run -d -p 3306:3306  \\\n# -v /host-watchfolder:/opt/uft/video-files/watchfolder \\\n# -v /host-output:/opt/uft/video-files/default-site-output  \\\n# --name=\"uft\" --hostname=\"uft\" -t uft\n#\n# Accesing the container:\n# > sudo docker exec -i -t uft /bin/bash\n#\n#           \n#############################################################\n\n\nFROM supermasita/docker-ffmpeg\n\nMAINTAINER \"supermasita\"\n\nENV UFTHOME /opt\n\nRUN yum install -y python-pip mediainfo mysql mysql-server gcc MySQL-python vim git syslog cronie && rm -rf /var/cache/yum\n\nRUN pip install --no-cache-dir simple-json pymediainfo qtfaststart youtube-dl\n\nRUN cd /opt && git clone https://github.com/supermasita/uft.git\n\nRUN /etc/init.d/mysqld start && mysql -e \"CREATE DATABASE uft; CREATE USER 'uft'@'%' IDENTIFIED BY 'uft'; GRANT ALL PRIVILEGES ON uft.* TO 'uft'@'%' WITH GRANT OPTION; FLUSH PRIVILEGES;\" && mysql -D uft < $UFTHOME/uft/lib/database_structure.sql\n\n# CRONTAB\nADD crontab.example /var/spool/cron/root\n\n# PORTS\nEXPOSE 3306 80\n\n# RUN, FORREST! RUN!\nRUN yum install -y supervisor && rm -rf /var/cache/yum\nADD supervisord.conf /etc/supervisor/conf.d/supervisord.conf\nCMD [\"/usr/bin/supervisord\", \"-c\", \"/etc/supervisor/conf.d/supervisord.conf\"]\n"
}