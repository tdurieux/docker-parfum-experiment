{
  "startTime": 1674246777552,
  "endTime": 1674246777789,
  "originalSmells": [
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 2,
        "columnEnd": 115
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 2,
        "columnEnd": 49
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:14.04\n\nMAINTAINER Matthias Zimmermann <matthias.zimmermann@bsi-software.com>\n\n# windows workaround to ensure access to internet from within container\nRUN echo \"nameserver 8.8.8.8\" >> /etc/resolv.conf\n\n# basics\nRUN \\\n  apt-get update && apt-get upgrade -q -y && \\\n  apt-get install -y --no-install-recommends git make gcc libc6-dev curl ca-certificates software-properties-common && rm -rf /var/lib/apt/lists/*;\n\n# get solc (solidity compiler binary)\nRUN \\\n  add-apt-repository ppa:ethereum/ethereum && \\\n  apt-get update && \\\n  apt-get install -y --no-install-recommends solc && rm -rf /var/lib/apt/lists/*;\n\n# install go\nENV GOLANG_VERSION 1.7.5\nENV GOLANG_DOWNLOAD_URL https://golang.org/dl/go$GOLANG_VERSION.linux-amd64.tar.gz\nENV GOLANG_DOWNLOAD_SHA256 2e4dd6c44f0693bef4e7b46cc701513d74c3cc44f2419bf519d7868b12931ac3\n\nRUN \\ \n  curl -fsSL \"$GOLANG_DOWNLOAD_URL\" -o golang.tar.gz && \\\n  echo \"$GOLANG_DOWNLOAD_SHA256  golang.tar.gz\" | sha256sum -c - && \\\n  tar -C /usr/local -xzf golang.tar.gz && \\\n  rm golang.tar.gz\n\nENV GOPATH=/go\nENV GOROOT=/usr/local/go\nENV PATH=${PATH}:${GOROOT}/bin:${GOPATH}/bin\n\n# clone geth\nRUN \\\n  git clone -b release/1.5 --depth 1 https://github.com/ethereum/go-ethereum\n\n# patch geth\n# http://ethereum.stackexchange.com/questions/11407/minimize-mining-times-for-private-blockchain\nCOPY block_validator.go /go-ethereum/core\nCOPY worker.go /go-ethereum/miner\n\n# install patched geth\nRUN \\\n  (cd go-ethereum && make geth) && \\\n  cp go-ethereum/build/bin/geth /geth && \\\n  apt-get remove -y git make gcc libc6-dev curl && \\\n  apt-get clean && \\\n  rm -rf /go-ethereum\n\nCOPY LocalGenesis.json /\nCOPY LocalPassword.txt /\n\n# setup local private network with two initial accounts\nRUN \\\n  mkdir /root/.ethash && \\\n  /geth init LocalGenesis.json > GethInit.txt && \\\n  /geth --password LocalPassword.txt account new >> GethInit.txt && \\\n  /geth --password LocalPassword.txt account new >> GethInit.txt && \\\n  /geth makedag 0 /root/.ethash\n\nEXPOSE 8545\nEXPOSE 30303\n\nENTRYPOINT [\"/geth\"]\n\n# unlock coinbase, start mining, let geth listen to rpc requests and ensure it remains a local standalone client\nCMD [\"--password\",\"LocalPassword.txt\",\"--unlock\",\"0\",\"--mine\",\"--rpc\",\"--rpcaddr\",\"0.0.0.0\",\"--maxpeers\",\"0\",\"--nodiscover\"]\n"
}