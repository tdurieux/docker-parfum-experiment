{
  "startTime": 1674242838184,
  "endTime": 1674242838296,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 1,
        "columnEnd": 147
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 1,
        "columnEnd": 96
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 21,
        "lineEnd": 21,
        "columnStart": 1,
        "columnEnd": 18
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM openjdk:8-jre-alpine3.8\n\nARG version\nLABEL com.actionml.harness.vendor=ActionML \\\n      com.actionml.harness.service=rest-api \\\n      com.actionml.harness.version=$version\n\nENV LANG=C.UTF-8 \\\n    CONFD_VERSION=v0.16.0 \\\n    CONFD_SHA256=255d2559f3824dd64df059bdc533fd6b697c070db603c76aaf8d1d5e6b0cc334 \\\n    PATH=$PATH:/harness/bin/\n\nENV VW_GITURL=https://github.com/JohnLangford/vowpal_wabbit \\\n    VW_GITREV=10bd09ab06f59291e04ad7805e88fd3e693b7159\n\nCOPY ./dist /harness\n\nRUN cd /tmp && \\\n\tapk add --no-cache --update tini curl bash procps && \\\n\tapk add --no-cache --update python3 && \\\n\tapk add --no-cache --virtual build-dependencies build-base gcc zlib-dev openssl-dev libffi-dev python3-dev && \\\n\tapk add --no-cache boost-dev && \\\n\t# python3 -m ensurepip && \\\n\t# rm -r /usr/lib/python*/ensurepip && \\\n\t# pip3 install --upgrade pip setuptools && \\\n\t# rm -r /root/.cache && \\\n\t# pip install /harness/wheel/*.whl && \\\n\tcurl -f -#SL -o /usr/local/bin/confd https://github.com/kelseyhightower/confd/releases/download/${CONFD_VERSION}/confd-${CONFD_VERSION#v}-linux-amd64 && \\\n\techo \"${CONFD_SHA256}  /usr/local/bin/confd\" | sha256sum -c && chmod 755 /usr/local/bin/confd\n\nRUN apk add --no-cache --update cmake git perl && \\\n  cd /tmp && \\\n  git clone $VW_GITURL vw && cd vw && git checkout $VW_GITREV && \\\n  make java && \\\n  cp java/target/* /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/ && \\\n  rm -rf /tmp/*\n\n\nWORKDIR /harness\nENTRYPOINT [\"/sbin/tini\", \"--\"]\nCMD [\"./bin/harness-start\"]\n"
}