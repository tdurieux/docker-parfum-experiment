{
  "startTime": 1674240823585,
  "endTime": 1674240823675,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 116
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 116
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 31,
        "lineEnd": 31,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 76
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:7\n\nMAINTAINER Avi Kivity <avi@cloudius-systems.com>\n\nENV container docker\n\nADD scylla_bashrc /scylla_bashrc\n\n# Scylla configuration:\nADD etc/sysconfig/scylla-server /etc/sysconfig/scylla-server\n\n# Supervisord configuration:\nADD etc/supervisord.conf /etc/supervisord.conf\nADD etc/supervisord.conf.d/scylla-server.conf /etc/supervisord.conf.d/scylla-server.conf\nADD etc/supervisord.conf.d/scylla-housekeeping.conf /etc/supervisord.conf.d/scylla-housekeeping.conf\nADD etc/supervisord.conf.d/sshd-server.conf /etc/supervisord.conf.d/sshd-server.conf\nADD etc/supervisord.conf.d/scylla-jmx.conf /etc/supervisord.conf.d/scylla-jmx.conf\nADD etc/supervisord.conf.d/node-exporter.conf /etc/supervisord.conf.d/node-exporter.conf\nADD scylla-service.sh /scylla-service.sh\nADD node-exporter-service.sh /node-exporter-service.sh\nADD scylla-housekeeping-service.sh /scylla-housekeeping-service.sh\nADD scylla-jmx-service.sh /scylla-jmx-service.sh\nADD sshd-service.sh /sshd-service.sh\n\n# Docker image startup scripts:\nADD scyllasetup.py /scyllasetup.py\nADD commandlineparser.py /commandlineparser.py\nADD docker-entrypoint.py /docker-entrypoint.py\nADD node_exporter_install /node_exporter_install\n# Install Scylla:\nRUN curl -f https://downloads.scylladb.com/rpm/unstable/centos/master/latest/scylla.repo -o /etc/yum.repos.d/scylla.repo && \\\n    yum -y install epel-release && \\\n    yum -y clean expire-cache && \\\n    yum -y update && \\\n    yum -y install scylla hostname supervisor openssh-server openssh-clients && \\\n    yum clean all && \\\n    cat /scylla_bashrc >> /etc/bashrc && \\\n    mkdir -p /etc/supervisor.conf.d && \\\n    mkdir -p /var/log/scylla && \\\n    /node_exporter_install && \\\n    chown -R scylla.scylla /var/lib/scylla && rm -rf /var/cache/yum\n\nENV PATH /opt/scylladb/python3/bin:$PATH\nENTRYPOINT [\"/docker-entrypoint.py\"]\n\nEXPOSE 10000 9042 9160 9180 7000 7001 22\nVOLUME [ \"/var/lib/scylla\" ]\n"
}