{
  "startTime": 1674251706786,
  "endTime": 1674251707037,
  "originalSmells": [
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 10,
        "lineEnd": 21,
        "columnStart": 7,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:18.04\n\nENV DEBIAN_FRONTEND noninteractive\nENV GOPATH /go\nENV QEMU_ROOT /var/lib/runq/qemu\n\nWORKDIR /go/src/github.com/gotoz/runq\n\nRUN echo \"do_initrd = no\" >> /etc/kernel-img.conf \\\n    && apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n        build-essential \\\n        busybox-static \\\n        ca-certificates \\\n        cpio \\\n        git \\\n        golang \\\n        libseccomp-dev \\\n        linux-virtual \\\n        pkg-config \\\n        qemu-kvm \\\n        xz-utils && rm -rf /var/lib/apt/lists/*;\n\nRUN go get -d github.com/opencontainers/runc\n\nRUN mkdir -p \\\n    $QEMU_ROOT/dev \\\n    $QEMU_ROOT/proc \\\n    $QEMU_ROOT/lib \\\n    $QEMU_ROOT/rootfs \\\n    $QEMU_ROOT/sys\n\nRUN rm -f /lib/modules/*/build  \\\n    && echo base   /lib/modules/*/kernel/fs/fscache/fscache.ko                               >  $QEMU_ROOT/kernel.conf \\\n    && echo base   /lib/modules/*/kernel/net/9p/9pnet.ko                                     >> $QEMU_ROOT/kernel.conf \\\n    && echo base   /lib/modules/*/kernel/net/9p/9pnet_virtio.ko                              >> $QEMU_ROOT/kernel.conf \\\n    && echo base   /lib/modules/*/kernel/fs/9p/9p.ko                                         >> $QEMU_ROOT/kernel.conf \\\n    && echo base   /lib/modules/*/kernel/drivers/block/virtio_blk.ko                         >> $QEMU_ROOT/kernel.conf \\\n    && echo base   /lib/modules/*/kernel/drivers/net/virtio_net.ko                           >> $QEMU_ROOT/kernel.conf \\\n    && echo base   /lib/modules/*/kernel/drivers/char/hw_random/virtio-rng.ko                >> $QEMU_ROOT/kernel.conf \\\n    && echo vsock  /lib/modules/*/kernel/net/vmw_vsock/vsock.ko                              >> $QEMU_ROOT/kernel.conf \\\n    && echo vsock  /lib/modules/*/kernel/net/vmw_vsock/vmw_vsock_virtio_transport_common.ko  >> $QEMU_ROOT/kernel.conf \\\n    && echo vsock  /lib/modules/*/kernel/net/vmw_vsock/vmw_vsock_virtio_transport.ko         >> $QEMU_ROOT/kernel.conf \\\n    && echo btrfs  /lib/modules/*/kernel/lib/raid6/raid6_pq.ko                               >> $QEMU_ROOT/kernel.conf \\\n    && echo btrfs  /lib/modules/*/kernel/lib/zlib_deflate/zlib_deflate.ko                    >> $QEMU_ROOT/kernel.conf \\\n    && echo btrfs  /lib/modules/*/kernel/lib/zstd/zstd_compress.ko                           >> $QEMU_ROOT/kernel.conf \\\n    && echo btrfs  /lib/modules/*/kernel/crypto/xor.ko                                       >> $QEMU_ROOT/kernel.conf \\\n    && echo btrfs  /lib/modules/*/kernel/fs/btrfs/btrfs.ko                                   >> $QEMU_ROOT/kernel.conf \\\n    && echo xfs    /lib/modules/*/kernel/lib/libcrc32c.ko                                    >> $QEMU_ROOT/kernel.conf \\\n    && echo xfs    /lib/modules/*/kernel/fs/xfs/xfs.ko                                       >> $QEMU_ROOT/kernel.conf \\\n    && echo zcrypt /lib/modules/*/kernel/drivers/s390/crypto/zcrypt.ko                       >> $QEMU_ROOT/kernel.conf \\\n    && echo zcrypt /lib/modules/*/kernel/drivers/s390/crypto/zcrypt_cex4.ko                  >> $QEMU_ROOT/kernel.conf\n\nADD extract-vmlinux.sh /extract-vmlinux.sh\n\nRUN /extract-vmlinux.sh /boot/vmlinuz-*-generic $QEMU_ROOT/kernel\n\nRUN cp -d --preserve=all --parents \\\n    /lib/s390x-linux-gnu/* \\\n    /usr/lib/s390x-linux-gnu/* \\\n    $QEMU_ROOT/ 2>&1 | grep -v 'omitting directory';:\n\nRUN cp -a --parents \\\n    /bin/busybox \\\n    /lib/ld64.so.1 \\\n    /lib/modules \\\n    /usr/bin/qemu-system-s390x \\\n    /usr/lib/s390x-linux-gnu/pulseaudio \\\n    /usr/lib/s390x-linux-gnu/qemu \\\n    /usr/share/qemu \\\n    $QEMU_ROOT/\n\n"
}