{
  "startTime": 1674239242253,
  "endTime": 1674239242361,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 129
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#Copyright (c) 2014-2018 Oracle and/or its affiliates. All rights reserved.\n#\n#Licensed under the Universal Permissive License v 1.0 as shown at http://oss.oracle.com/licenses/upl.\n#\n# ORACLE DOCKERFILES PROJECT\n# --------------------------\n# This Dockerfile extends the Oracle WebLogic image by creating a sample domain.\n#\n# Util scripts are copied into the image enabling users to plug NodeManager\n# automatically into the AdminServer running on another container.\n#\n# HOW TO BUILD THIS IMAGE\n# -----------------------\n# Put all downloaded files in the same directory as this Dockerfile\n# Build the deployment archive file using the build-archive.sh script.\n#      $ ./build-archive.sh\n#\n# Run:\n#      $ sudo docker build \\\n#            --build-arg WDT_MODEL=simple-topology.yaml \\\n#            --build-arg WDT_ARCHIVE=archive.zip \\\n#            --force-rm=true \\\n#            -t 12213-domain-wdt .\n#\n# Pull base image\n# ---------------\nFROM oracle/weblogic:12.2.1.3-developer\n\n# Maintainer\n# ----------\nMAINTAINER Monica Riccelli <monica.riccelli@oracle.com>\n\nARG WDT_MODEL\nARG WDT_ARCHIVE\n\n# WLS Configuration\n# ---------------------------\nENV ADMIN_HOST=\"wlsadmin\" \\\n    NM_PORT=\"5556\" \\\n    MS_PORT=\"8001\" \\\n    DEBUG_PORT=\"8453\" \\\n    ORACLE_HOME=/u01/oracle \\\n    SCRIPT_FILE=/u01/oracle/createAndStartWLSDomain.sh \\\n    CONFIG_JVM_ARGS=\"-Dweblogic.security.SSL.ignoreHostnameVerification=true\"  \\\n    PATH=$PATH:/u01/oracle/oracle_common/common/bin:/u01/oracle/wlserver/common/bin:/u01/oracle/user_projects/domains/${DOMAIN_NAME:-base_domain}/bin:/u01/oracle\n\n# Domain and Server environment variables\n# ------------------------------------------------------------\nENV DOMAIN_NAME=\"${DOMAIN_NAME:-base_domain}\" \\\n    PRE_DOMAIN_HOME=/u01/oracle/user_projects \\\n    ADMIN_PORT=\"${ADMIN_PORT:-7001}\" \\\n    WDT_MODEL=\"$WDT_MODEL\" \\\n    WDT_ARCHIVE=\"$WDT_ARCHIVE\"\n\n# Add files required to build this image\nCOPY container-scripts/* /u01/oracle/\nCOPY ${WDT_MODEL} ${WDT_ARCHIVE} /u01/\n\n\n# this file contains credentials.\n# be sure to build with --force-rm to eliminate this container layer\nCOPY properties /u01/oracle\n\n# Create directory where domain will be written to\nUSER root\nRUN chmod +xw /u01/oracle/*.sh && \\\n    chmod +xw /u01/oracle/*.py && \\\n    mkdir -p $PRE_DOMAIN_HOME && \\\n    mkdir -p $PRE_DOMAIN_HOME/domains && \\\n    chmod a+xr $PRE_DOMAIN_HOME && \\\n    chown -R oracle:oracle $PRE_DOMAIN_HOME && \\\n    cd /u01 && \\\n    curl -f -OL https://github.com/oracle/weblogic-deploy-tooling/releases/download/weblogic-deploy-tooling-0.11/weblogic-deploy.zip && \\\n    $JAVA_HOME/bin/jar xf /u01/weblogic-deploy.zip && \\\n    chmod +xw /u01/weblogic-deploy/bin/*.sh && \\\n    chmod -R +xw /u01/weblogic-deploy/lib/python && \\\n    if [ -n \"$WDT_MODEL\" ]; then MODEL_OPT=\"-model_file /u01/$WDT_MODEL\"; fi && \\\n    if [ -n \"$WDT_ARCHIVE\" ]; then ARCHIVE_OPT=\"-archive_file /u01/$WDT_ARCHIVE\"; fi && \\\n    /u01/weblogic-deploy/bin/createDomain.sh \\\n        -oracle_home $ORACLE_HOME \\\n        -java_home ${JAVA_HOME} \\\n        -domain_parent $PRE_DOMAIN_HOME/domains \\\n        -domain_type WLS \\\n        -variable_file /u01/oracle/domain.properties \\\n        $MODEL_OPT \\\n        $ARCHIVE_OPT && \\\n    chown -R oracle:oracle $PRE_DOMAIN_HOME && \\\n    rm /u01/oracle/domain.properties\n\nVOLUME $PRE_DOMAIN_HOME\n# Expose Node Manager default port, and also default for admin and managed server\nEXPOSE $NM_PORT $ADMIN_PORT $MS_PORT $DEBUG_PORT\n\nUSER oracle\nWORKDIR $ORACLE_HOME\n\n# Define default command to start bash.\nCMD [\"/u01/oracle/startWLSDomain.sh\"]\n"
}