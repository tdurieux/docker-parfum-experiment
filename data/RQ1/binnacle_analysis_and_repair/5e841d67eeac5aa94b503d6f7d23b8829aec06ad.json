{
  "startTime": 1674234957088,
  "endTime": 1674234957194,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 88
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM scratch\nMAINTAINER Maciej Sieczka\n\n# Set the $architecture ARG on your `docker build' command line with `--build-arg architecture=x86_64' or `i686'.\nARG architecture\n\nADD bootstrap.tar.gz /\n\nRUN if [ \"$architecture\" != \"x86_64\" -a \"$architecture\" != \"i686\" ]; then \\\n    printf '\\nYou need to specify the architecture with \"--build-arg architecture=i686\" on your\\n\\\n    \\r\"docker build\" command line. \"x86_64\" and \"i686\" are supported. Aborting build!\\n\\n'; exit 1; fi\n\nRUN \\\n\n\n    curl -f -LsS https://www.archlinux.org/packages/extra/${architecture}/haveged/download/ | bsdtar -xf - \\\n    && haveged -w 1024 \\\n    && pacman-key --init \\\n    && pacman-key --populate archlinux \\\n    # Another bit of a hack, until Arch Linux bootstrap tarballs start including `sed' package, which is required by\n    # `rankmirrors', which comes with `pacman' package, while that one doesn't depend on `sed'. (Note to self: ask the\n    # Arch devs about this; `locale-gen' uses `sed' too). Again, lucky it has very little deps.\n    && pacman -U --noconfirm --noprogressbar --arch $architecture https://www.archlinux.org/packages/core/${architecture}/sed/download/ \\\n    && sed -i \"s/^Architecture = auto$/Architecture = $architecture/\" /etc/pacman.conf \\\n    && sed -n 's/^#Server = https/Server = https/p' /etc/pacman.d/mirrorlist > /tmp/mirrorlist \\\n    && rankmirrors -n 3 /tmp/mirrorlist | tee /etc/pacman.d/mirrorlist \\\n    && rm /tmp/mirrorlist \\\n    # Now we can register `haveged' proper (just to remove it proper later on).\n    && pacman -Sy --noconfirm --noprogressbar --quiet --dbonly haveged \\\n    && pacman -S --noconfirm --noprogressbar --quiet haveged \\\n    # `locale-gen' needs `gzip' (via `localedef', which works on /usr/share/i18n/charmaps/*.gz), `paccache' needs `awk'.\n    # Update the system BTW.\n    && pacman -Su --noconfirm --noprogressbar --quiet gzip awk \\\n    # Uninstall `haveged' cleanly, together with whatever else is not needed anymore.\n    && pacman -Rncss --noconfirm --noprogressbar haveged \\\n    # Remove the last leftovers of the initial dirty `haveged' install.\n    && rm /.MTREE /.PKGINFO \\\n    && paccache -r -k0 \\\n    && echo 'en_US.UTF-8 UTF-8' > /etc/locale.gen \\\n    && locale-gen \\\n    && echo 'LANG=en_US.UTF-8' > /etc/locale.conf\n\nENV LANG en_US.UTF-8\n\n# As per https://docs.docker.com/engine/userguide/networking/default_network/configure-dns/, the /etc/hostname,\n# /etc/hosts and /etc/resolv.conf should be rather left alone.\n"
}