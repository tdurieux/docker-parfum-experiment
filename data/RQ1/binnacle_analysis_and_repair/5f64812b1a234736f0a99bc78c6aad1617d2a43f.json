{
  "startTime": 1674248950765,
  "endTime": 1674248950911,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 77,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 70
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 20,
        "lineEnd": 21,
        "columnStart": 4,
        "columnEnd": 18
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 14,
        "columnStart": 22,
        "columnEnd": 44
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM python:3.4\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n\t\tlibblas-dev \\\n\t\tliblapack-dev \\\n     libatlas-base-dev \\\n\t\tgfortran \\\n        python3-pip \\\n        tk-dev \\\n        python-tk \\\n        python3-tk \\\n        python3-matplotlib \\\n        pkg-config \\\n        libfreetype6-dev \\\n        rsync wget curl zip git zsh vim tmux \\\n\t\t&& \\\n\n    apt-get clean && \\\n    rm -rf /var/lib/apt/lists/*\n\nRUN pip install --no-cache-dir -U pip \\\n        setuptools\n\nRUN pip --no-cache-dir install \\\n       \tipykernel \\\n        jupyter \\\n        numpy \\\n        matplotlib \\\n        scipy \\\n        scikit-image \\\n        scikit-learn \\\n        keras \\\n\txlrd \\\n\topenpyxl \\\n\tjupyterlab \\\n\tnltk \\\n\ttextblob \\\n\tspacy \\\n\tlesscpy \\\n        && \\\n    python3 -m ipykernel.kernelspec\n\n# Jupyter themes\nRUN pip install --no-cache-dir -U jupyterthemes\nRUN jt -t oceans16 -f roboto -fs 12 -tf roboto -tfs 13 -T -nf inconsolata -nfs 12\n\n# Jupyter notebook config to accept password\nCOPY jupyter_notebook_config.py /root/.jupyter/\n\n# JupyterLab\nRUN jupyter serverextension enable --py jupyterlab --sys-prefix\n\n# Jupyter has issues with being run directly:\n# https://github.com/ipython/ipython/issues/7062\n# We just add a little wrapper script.\nCOPY run_jupyter.sh /\n\nENV TENSORFLOW_VERSION 1.7.0\n\nRUN pip --no-cache-dir install tensorflow\n\t#https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.3.0-cp34-cp34m-linux_x86_64.whl\n\t#https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.2.1-cp34-cp34m-linux_x86_64.whl\n\t#https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.1.0-cp34-cp34m-linux_x86_64.whl\n\t#https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.0.0-cp34-cp34m-linux_x86_64.whl\n\n# Something Jupyter suggests to do:\n# http://jupyter-notebook.readthedocs.io/en/latest/public_server.html#docker-cmd\nENV TINI_VERSION v0.14.0\nADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini /tini\nRUN chmod +x /tini\nENTRYPOINT [\"/tini\", \"--\"]\n\n# add gist button to notebook toolbar\nRUN jupyter nbextension install https://rawgithub.com/minrk/ipython_extensions/master/nbextensions/gist.js\nRUN jupyter nbextension enable gist\n\n# set up zsh config and copy script for vim config\nRUN wget -O ~/.zshrc https://git.grml.org/f/grml-etc-core/etc/zsh/zshrc\nRUN echo \"TERM=xterm-256color\" >> ~/.zshrc\n\n# Make zsh default\nRUN chsh -s /usr/bin/zsh\n# Copy sample notebooks.\nCOPY notebooks /notebooks\n\n# tensorboard\nEXPOSE 6006\n\n# jupyter\nEXPOSE 8888\nEXPOSE 8889\n\nWORKDIR \"/notebooks\"\n\n#CMD [\"/bin/zsh\"]\nCMD [\"/run_jupyter.sh\"]\n"
}