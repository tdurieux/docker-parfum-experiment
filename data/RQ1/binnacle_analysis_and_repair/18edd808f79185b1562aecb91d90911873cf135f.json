{
  "startTime": 1674238504065,
  "endTime": 1674238504266,
  "originalSmells": [
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 82,
        "lineEnd": 82,
        "columnStart": 4,
        "columnEnd": 32
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# From https://github.com/ufoym/deepo/blob/master/docker/Dockerfile.pytorch-py36-cu90\n#MAINTAINER 1334340425@qq.com\n# ==================================================================\n# module list\n# ------------------------------------------------------------------\n# python        3.6    (apt)\n# pytorch       latest (pip)\n# ==================================================================\n\nFROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\nRUN APT_INSTALL=\"apt-get install -y --no-install-recommends\" && \\\n    PIP_INSTALL=\"python -m pip --no-cache-dir install --upgrade\" && \\\n    GIT_CLONE=\"git clone --depth 10\" && \\\n    rm -rf /var/lib/apt/lists/* \\\n           /etc/apt/sources.list.d/cuda.list \\\n           /etc/apt/sources.list.d/nvidia-ml.list && \\\n    apt-get update && \\\n# ==================================================================\n# tools\n# ------------------------------------------------------------------\n    DEBIAN_FRONTEND=noninteractive $APT_INSTALL \\\n        build-essential \\\n        ca-certificates \\\n        cmake \\\n        wget \\\n        git \\\n        vim \\\n        fish \\\n        libsparsehash-dev \\\n\t\tssh\\\n        && \\\n# ==================================================================\n# python\n# ------------------------------------------------------------------\n    DEBIAN_FRONTEND=noninteractive $APT_INSTALL \\\n        software-properties-common \\\n        && \\\n    add-apt-repository ppa:deadsnakes/ppa && \\\n    apt-get update && \\\n    DEBIAN_FRONTEND=noninteractive $APT_INSTALL \\\n        python3.6 \\\n        python3.6-dev \\\n        && \\\n    wget -O ~/get-pip.py \\\n        https://bootstrap.pypa.io/get-pip.py && \\\n    python3.6 ~/get-pip.py && \\\n    ln -s /usr/bin/python3.6 /usr/local/bin/python3 && \\\n    ln -s /usr/bin/python3.6 /usr/local/bin/python && \\\n    $PIP_INSTALL \\\n        setuptools \\\n        && \\\n    $PIP_INSTALL \\\n        numpy \\\n        scipy \\\n        matplotlib \\\n        Cython \\\n        && \\\n# ==================================================================\n# pytorch\n# ------------------------------------------------------------------\n    $PIP_INSTALL \\\n        torch_nightly -f \\\n        https://download.pytorch.org/whl/nightly/cu90/torch_nightly.html \\\n        && \\\n    $PIP_INSTALL \\\n        torchvision_nightly \\\n        && \\\n# ==================================================================\n# config & cleanup\n# ------------------------------------------------------------------\n    ldconfig && \\\n    apt-get clean && \\\n    apt-get autoremove && \\\n    rm -rf /var/lib/apt/lists/* /tmp/* ~/*\n\nRUN PIP_INSTALL=\"python -m pip --no-cache-dir install --upgrade\" && \\\n    $PIP_INSTALL \\\n        shapely fire pybind11 tensorboardX protobuf \\\n        scikit-image numba pillow\n\nWORKDIR /root\nRUN wget https://dl.bintray.com/boostorg/release/1.68.0/source/boost_1_68_0.tar.gz\nRUN tar xzvf boost_1_68_0.tar.gz && rm boost_1_68_0.tar.gz\nRUN cp -r ./boost_1_68_0/boost /usr/include\nRUN rm -rf ./boost_1_68_0\nRUN rm -rf ./boost_1_68_0.tar.gz\nRUN git clone https://github.com/traveller59/second.pytorch.git --depth 10\nRUN git clone https://github.com/traveller59/SparseConvNet.git --depth 10\nRUN cd ./SparseConvNet && python setup.py install && cd .. && rm -rf SparseConvNet\nENV NUMBAPRO_CUDA_DRIVER=/usr/lib/x86_64-linux-gnu/libcuda.so\nENV NUMBAPRO_NVVM=/usr/local/cuda/nvvm/lib64/libnvvm.so\nENV NUMBAPRO_LIBDEVICE=/usr/local/cuda/nvvm/libdevice\nENV PYTHONPATH=/root/second.pytorch\n\nVOLUME [\"/root/data\"]\nVOLUME [\"/root/model\"]\nWORKDIR /root/second.pytorch/second\n\nENTRYPOINT [\"fish\"]\n"
}