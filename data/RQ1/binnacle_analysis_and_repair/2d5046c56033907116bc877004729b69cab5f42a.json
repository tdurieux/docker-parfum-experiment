{
  "startTime": 1674244401006,
  "endTime": 1674244401083,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 49
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 22,
        "columnEnd": 49
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Dockerfile extending the generic Node image with application files for a\n# single application.\nFROM gcr.io/google_appengine/nodejs\n\n# Install something custom\nRUN apt-get update && apt-get install --no-install-recommends -y fortunes && rm -rf /var/lib/apt/lists/*;\n\n# Check to see if the the version included in the base runtime satisfies\n# '>=6.9.0', if not then do an npm install of the latest available\n# version that satisfies it.\nRUN /usr/local/bin/install_node '>=6.9.0'\n\n# Copy application code.\nCOPY . /app/\n\n# You have to specify \"--unsafe-perm\" with npm install\n# when running as root.  Failing to do this can cause\n# install to appear to succeed even if a preinstall\n# script fails, and may have other adverse consequences\n# as well.\n# This command will also cat the npm-debug.log file after the\n# build, if it exists.\nRUN npm install --unsafe-perm || \\\n  ((if [ -f npm-debug.log ]; then \\\n      cat npm-debug.log; \\\n    fi) && false) && npm cache clean --force;\n\n# Run the app, default is \"npm start\"\nCMD npm start\n"
}