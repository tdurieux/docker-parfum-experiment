{
  "startTime": 1674252468339,
  "endTime": 1674252468399,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 15,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 9,
        "columnStart": 0,
        "columnEnd": 4
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:trusty\n\n##### Install python3 and the build-time dependencies for c modules\nRUN apt-get update && \\\nDEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends \\\npython3 python3-dev python3-pip python3-lxml \\\nbuild-essential libffi-dev git mercurial \\\nlibtiff5-dev libjpeg8-dev zlib1g-dev \\\nlibfreetype6-dev liblcms2-dev libwebp-dev \\\ncurl && rm -rf /var/lib/apt/lists/*;\n\n##### Setup the environment\nWORKDIR /opt/superdesk/\nCMD [\"honcho\", \"start\"]\n\nEXPOSE 5000\nEXPOSE 5100\n\nENV PYTHONUNBUFFERED 1\nENV C_FORCE_ROOT \"False\"\nENV CELERYBEAT_SCHEDULE_FILENAME /tmp/celerybeatschedule.db\n\n##### Install the dependencies\nADD requirements.txt /tmp/requirements.txt\nRUN cd /tmp && pip3 install --no-cache-dir -U -r /tmp/requirements.txt\n\n##### Copy application source code\nADD . /opt/superdesk\n"
}