{
  "startTime": 1674241230334,
  "endTime": 1674241230494,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 37,
        "lineEnd": 37,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 47,
        "lineEnd": 53,
        "columnStart": 4,
        "columnEnd": 16
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 8,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 8,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 12
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "###############\n# inbox/inbox #\n###############\n\nFROM debian:wheezy\n\nMAINTAINER inboxapp\nRUN apt-get -q update && \\\n    DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends -qy install \\\n        anacron \\\n        build-essential \\\n        cron \\\n        curl \\\n        g++ \\\n        gcc \\\n        git \\\n        lib32z1-dev \\\n        libffi-dev \\\n        libmysqlclient-dev \\\n        libxml2-dev \\\n        libxslt-dev \\\n        libzmq-dev \\\n        mysql-client \\\n        net-tools \\\n        procps \\\n        python \\\n        python-dev \\\n        python-lxml \\\n        python-pip \\\n        python-setuptools \\\n        python-software-properties \\\n        runit \\\n        sudo \\\n        supervisor \\\n        tnef \\\n        wget \\\n    && \\\n    pip install --no-cache-dir 'setuptools>=5.3' subprocess32 tox && rm -rf /var/lib/apt/lists/*;\n\nRUN useradd -ms /bin/sh admin && \\\n    install -d -m0775 -o root -g admin /srv/inbox\nWORKDIR /srv/inbox\n\nADD requirements.txt /srv/inbox/requirements.txt\nRUN pip install --no-cache-dir -r /srv/inbox/requirements.txt\n\n# XXX: This is to work around some problem with installing the deps from tox.ini\nRUN pip install --no-cache-dir \\\n        pytest \\\n        pytest-flask \\\n        pytest-instafail \\\n        pytest-timeout \\\n        pytest-xdist \\\n        requests\n\nRUN install -d -m0775 -o root -g admin /etc/inboxapp && \\\n    install -d -m0775 -o root -g admin /etc/mysql/conf.d && \\\n    install -d -m0775 -o root -g admin /run/inboxapp && \\\n    install -d -m0775 -o root -g admin /run/supervisor && \\\n    ln -s /srv/inbox/docker /srv/docker && \\\n    chown -R admin /usr/local/lib/python2.7\n\n#@DYNAMIC base\nADD . /srv/inbox\nRUN /srv/inbox/docker/postinstall-src /srv/inbox && \\\n    install -m0755 docker/inbox-cron-hourly /etc/cron.hourly/inbox-cron-hourly && \\\n    install -m0755 docker/inbox-cron-daily /etc/cron.daily/inbox-cron-daily && \\\n    install -m0755 docker/inbox-cron-weekly /etc/cron.weekly/inbox-cron-weekly && \\\n    install -m0755 docker/inbox-cron-monthly /etc/cron.monthly/inbox-cron-monthly\n\nENTRYPOINT [\"/srv/docker/entrypoint\"]\nENV INBOX_CFG_PATH /etc/inboxapp/secrets.yml:/etc/inboxapp/config.json:/run/inboxapp/secrets.yml:/run/inboxapp/config.json\nEXPOSE 5555\n\n# Permissions for some of these are set in docker/entrypoint.\nVOLUME [\"/etc/inboxapp\", \"/var/lib/inboxapp\", \"/var/log/inboxapp\", \"/var/log/supervisor\"]\n"
}