{
  "startTime": 1674240112020,
  "endTime": 1674240112265,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 7,
        "columnEnd": 76
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 7,
        "columnEnd": 76
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 36,
        "lineEnd": 36,
        "columnStart": 7,
        "columnEnd": 18
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 33
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 55
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 33
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 79
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 57
      }
    }
  ],
  "repairedDockerfile": "FROM ubuntu:vivid\nMAINTAINER Joel Martin <github@martintribe.org>\n\n##########################################################\n# General requirements for testing or common across many\n# implementations\n##########################################################\n\nRUN apt-get -y update\n\n# Required for running tests\nRUN apt-get -y --no-install-recommends install make python && rm -rf /var/lib/apt/lists/*;\n\n# Some typical implementation and test requirements\nRUN apt-get -y --no-install-recommends install curl libreadline-dev libedit-dev && rm -rf /var/lib/apt/lists/*;\n\nRUN mkdir -p /mal\nWORKDIR /mal\n\n##########################################################\n# Specific implementation requirements\n##########################################################\n\n# Install g++ for any C/C++ based implementations\nRUN apt-get -y --no-install-recommends install g++ && rm -rf /var/lib/apt/lists/*;\n\n# Install UCBLogo 6.0:\n# * Fix the makefile to build correctly\n# * Tweat GC settings to improve performance (it's still very slow)\n# * Add the timems function implemented in C\nRUN apt-get -y --no-install-recommends install libx11-dev \\\n    && cd /tmp \\\n    && curl -f -O -J -L https://www.cs.berkeley.edu/~bh/downloads/ucblogo.tar.gz \\\n    && tar xf ucblogo.tar.gz \\\n    && cd /tmp/ucblogo-6.0 \\\n    && rm -rf csls/CVS \\\n    && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n    && sed -i -e 's/svnversion/echo 206/' -e 's/^\\s*(cd docs/#\\0/' makefile \\\n    && echo \"all: everything\" >> makefile \\\n    && sed -i -e 's/^#define *SEG_SIZE *16000 /#define SEG_SIZE 6400000 /' logo.h \\\n    && sed -i -e 's/^#define GCMAX 16000$/#define GCMAX 16000000/' mem.c \\\n    && echo \"extern NODE *ltimems(NODE *);\" >> globals.h \\\n    && echo \"NODE *ltimems(NODE *args) { struct timeval tv; gettimeofday(&tv, NULL); return(make_floatnode(((FLONUM)tv.tv_sec) * 1000.0 + (tv.tv_usec / 1000))); }\" >> coms.c \\\n    && sed -i -e 's/^\\(.*lthrow.*\\)$/\\1 {\"timems\", 0, 0, 0, PREFIX_PRIORITY, ltimems},/' init.c \\\n    && make install \\\n    && cd /tmp \\\n    && rm -rf /tmp/ucblogo.tar.gz /tmp/ucblogo-6.0 && rm -rf /var/lib/apt/lists/*;\n\nENV HOME /mal\n"
}