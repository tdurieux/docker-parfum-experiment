{
  "startTime": 1674244568268,
  "endTime": 1674244568395,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 44
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 22,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 28
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM biocontainers/biocontainers:latest\nMAINTAINER Shaojun Xie <xie186@purdue.edu>\nLABEL    software=\"ViewBS\" \\ \n    container=\"ViewBS\" \\ \n    about.summary=\"ViewBS - a powerful toolkit for visualization of high-throughput bisulfite sequencing data\" \\ \n    about.home=\"https://github.com/xie186/ViewBS\" \\ \n    software.version=\"0.1.8\" \\ \n    version=\"1\" \\ \n    #about.copyright=\"\" \\ \n    about.license=\"GPL-3.0\" \\ \n    #about.license_file=\"/usr/share/doc/ariba/copyright\" \\ \n    #extra.binaries=\"/usr/bin/ariba\" \\ \n    about.tags=\"biology::nucleic-acids, field::biology, field::biology:bioinformatics,:perl, interface::commandline, role::program,:application, use::analysing\"\n\n################## BEGIN INSTALLATION ######################\n\n# Change user to root\nUSER root\n\nRUN apt-get clean all && \\\n    apt-get update && \\\n    apt-get upgrade -y && \\\n    apt-get install --no-install-recommends -y \\\n        r-base r-base-dev \\\n        perl-doc libxml-libxml-perl libgd-perl \\\n        libcurl4-openssl-dev && \\\n        apt-get clean && \\\n        apt-get purge && \\\n        rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n\n### Install htslib\nENV ZIP=htslib-1.9.tar.bz2\nENV URL=https://github.com/samtools/htslib/releases/download/1.9/\nENV FOLDER=htslib-1.9\nENV DST=/tmp\n\nRUN wget $URL/$ZIP -O $DST/$ZIP && \\\n    tar xvf $DST/$ZIP -C $DST && \\\n    rm $DST/$ZIP && \\\n    cd $DST/$FOLDER && \\\n    autoheader  && \\\n    autoconf && \\\n    ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --disable-bz2 --disable-lzma && \\\n    make && \\\n    make install && \\\n    cd / && \\\n    rm -rf $DST/$FOLDER\n\n### Install perl packages using cpanm\nRUN curl -f -L https://cpanmin.us | perl - App::cpanminus\nRUN cpanm Getopt::Long::Subcommand Bio::DB::HTS::Tabix Bio::SeqIO\n\n## Install R packges\nRUN Rscript -e \"install.packages('ggplot2', repos = \\\"http://cran.us.r-project.org\\\")\"\nRUN Rscript -e \"install.packages('cowplot', repos = \\\"http://cran.us.r-project.org\\\")\"\nRUN Rscript -e \"install.packages('pheatmap', repos = \\\"http://cran.us.r-project.org\\\")\"\nRUN Rscript -e \"install.packages('reshape2', repos = \\\"http://cran.us.r-project.org\\\")\"\n\n\nUSER biodocker\n\n################## INSTALLATION ######################\n\n#ENV ZIP=ViewBS_v0.1.8.zip\n#ENV URL=https://github.com/xie186/ViewBS/archive/\n#ENV FOLDER=ViewBS-ViewBS_v0.1.8\n#ENV DST=/home/biodocker/bin\n\n#RUN wget $URL/$ZIP -O $DST/$ZIP && \\\n#    unzip $DST/$ZIP -d $DST && \\\n#    rm $DST/$ZIP && \\\n#    mv $DST/$FOLDER/* $DST && \\\n#    rmdir $DST/$FOLDER\n\n# Install ViewBS\n# reference: https://github.com/andreirozanski/rozanskide-trim_galore/blob/master/Dockerfile\n\nRUN cd /home/biodocker/ && git clone https://github.com/xie186/ViewBS.git\nENV PATH /home/biodocker/ViewBS/:$PATH\n\n# CHANGE WORKDIR TO /DATA\n#WORKDIR /tools\nWORKDIR /home/biodocker/\n\n# DEFINE DEFAULT COMMAND\nCMD [\"ViewBS\"]\n\n##################### INSTALLATION END #####################\n\n# File Author / Maintainer\nMAINTAINER Shaojun Xie at Bioinformatics Core in Purdue University <xie186@purdue.edu>\n\n"
}