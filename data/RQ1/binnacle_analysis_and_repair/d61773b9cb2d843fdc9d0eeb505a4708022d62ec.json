{
  "startTime": 1674237762856,
  "endTime": 1674237763027,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 46
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM php:7.2-alpine\n\nLABEL maintainer=\"Jun <zhoujun3372@gmail.com>\"\n\n# 安装依赖\nRUN apk add --no-cache --virtual .build-deps \\\n    g++ \\\n    vim \\\n    wget \\\n    make \\\n    tzdata \\\n    hiredis \\\n    autoconf \\\n    curl-dev \\\n    libpng-dev \\\n    gettext-dev \\\n    freetype-dev \\\n    libmcrypt-dev \\\n    cyrus-sasl-dev \\\n    libmemcached-dev \\\n    libjpeg-turbo-dev\n\n\n# 安装GD库\nRUN docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/\n\n# 安装PHP扩展\nRUN docker-php-ext-install -j$(nproc) gd iconv mcrypt gettext curl mysqli pdo pdo_mysql zip mbstring bcmath opcache xml simplexml sockets hash soap\n\n# 安装扩展\nRUN pecl install redis\nRUN pecl install memcached\nRUN pecl install swoole\n\n# 开启扩展\nRUN docker-php-ext-enable redis memcached swoole\n\n# 安装Composer\nRUN curl -f -sS https://getcomposer.org/installer | php \\\n    && mv composer.phar /usr/local/bin/composer \\\n    && composer self-update --clean-backups\n\n# 设置上海时区\nRUN cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime  && echo \"Asia/Shanghai\" >  /etc/timezone\n\n# 清理缓存\nRUN apk del .build-deps\nRUN rm -rf /var/cache/apk/*\nRUN pecl clear-cache\n\n# 暴露端口\nEXPOSE 80\n"
}