{
  "startTime": 1674246868374,
  "endTime": 1674246868549,
  "originalSmells": [
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 5,
        "columnEnd": 30
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# This Dockerfile builds topographer image based on Alpine Linux.\n# This is minimal image as possible\n#\n# To run this service you need to:\n#     1. Mount config to /config.toml within a container\n#     2. Propagate TOPOGRAPHER_IP2LOCATION_DOWNLOAD_TOKEN environment\n#        variable with ip2location token to the container (you can get\n#        this token after registration at ip2location.com)\n#     3. Map exposed 80 port to any port you like\n#\n# Please visit https://github.com/9seconds/topographer for the details.\n\n###############################################################################\n# BUILD STAGE\n\nFROM golang:1.11-alpine AS build-env\nENV CGO_ENABLED=0\n\nRUN set -x \\\n  && apk --update --no-cache add git make\n\nADD . /go/src/github.com/9seconds/topographer\n\nRUN set -x \\\n  && cd /go/src/github.com/9seconds/topographer \\\n  && make clean \\\n  && git submodule update --init \\\n  && make -j 4\n\n\n###############################################################################\n# PACKAGE STAGE\n\nFROM alpine:latest\nLABEL maintainer=\"Sergey Arkhipov <nineseconds@yandex.ru>\" version=\"0.0.1\"\n\nENTRYPOINT [\"/topographer\"]\nCMD [\"-b\", \"0.0.0.0\", \"-p\", \"80\", \"/config.toml\"]\nEXPOSE 80\n\nRUN set -x \\\n  && apk add --no-cache --update ca-certificates\n\nCOPY --from=build-env /go/src/github.com/9seconds/topographer/topographer /topographer\nCOPY --from=build-env /go/src/github.com/9seconds/topographer/example.config.toml /config.toml\n"
}