{
  "startTime": 1674241027999,
  "endTime": 1674241028112,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 4,
        "columnEnd": 49
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "npmCacheCleanUseForce",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 11,
        "lineEnd": 11,
        "columnStart": 4,
        "columnEnd": 46
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 29
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 2,
        "lineEnd": 2,
        "columnStart": 4,
        "columnEnd": 51
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 4,
        "columnEnd": 53
      }
    }
  ],
  "repairedDockerfile": "FROM python:3.6 \nRUN apt-get update \nRUN apt-get install --no-install-recommends -y curl && rm -rf /var/lib/apt/lists/*;\nRUN curl -f -sL https://deb.nodesource.com/setup_6.x | bash -\nRUN apt-get install --no-install-recommends -y nodejs && rm -rf /var/lib/apt/lists/*;\nRUN mkdir /code \nWORKDIR /code \nRUN mkdir requirements \nADD requirements/base.txt /code/requirements/base.txt \nADD requirements/testing.txt /code/requirements/testing.txt \nADD requirements/production.txt /code/requirements/production.txt \nRUN pip install --no-cache-dir -r requirements/production.txt\nADD ./bikeshop_project/.bowerrc .bowerrc \nADD ./bikeshop_project/bower.json bower.json \nRUN npm cache clean --force\nRUN npm install --unsafe-perm -g bower && npm cache clean --force;\nRUN bower install --allow-root \nADD ./bikeshop_project/package.json package.json \nADD ./bikeshop_project/webpack.prod.config.js webpack.prod.config.js \nADD ./bikeshop_project/webpack.base.config.js webpack.base.config.js \nRUN npm install --unsafe-perm && npm cache clean --force;\nADD ./bikeshop_project/assets assets \nRUN npm run build-production \nADD entrypoint-interface.sh /code \nADD entrypoint-worker.sh /code \nARG mailchimp_api_key='' \nENV MAILCHIMP_API_KEY=$mailchimp_api_key \nARG django_secret_key='super-secret-key' \nENV DJANGO_SECRET_KEY=$django_secret_key \nADD bikeshop_project /code \nEXPOSE 8000 \n\n"
}