{
  "startTime": 1674239067048,
  "endTime": 1674239067094,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 7,
        "columnEnd": 92
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM maven:3-jdk-8\nMAINTAINER Burak Emre Kabakci \"emre@rakam.io\"\n\nWORKDIR /var/app\n\nRUN git clone https://github.com/rakam-io/rakam.git\nRUN cd rakam && mvn install -DskipTests\n\nRUN echo 'org.rakam=INFO\\n\\\nio.netty=INFO' > log.properties\n\nRUN [ -s config.properties ] || (echo \"store.adapter=postgresql\\n\\\nplugin.user.enabled=true\\n\\\nevent-explorer.enabled=true\\n\\\ncustom-data-source.enabled=true\\n\\\nuser.funnel-analysis.enabled=true\\n\\\nplugin.user.enable-user-mapping=true\\n\\\nuser.retention-analysis.enabled=true\\n\\\nplugin.geoip.enabled=true\\n\\\nplugin.user.storage=postgresql\\n\\\nhttp.server.address=0.0.0.0:9999\\n\\\nplugin.user.storage.identifier-column=id\\n\\\nplugin.geoip.database.url=file://tmp/GeoLite2-City.mmdb\\n\" > config.properties)\n\nRUN apt-get update \\\n    # Rakam can automatically download & extract the database but we do this\n    # at compile time of the container because it increases the start time of the containers. \\\n    && wget -P /tmp https://geolite.maxmind.com/download/geoip/database/GeoLite2-City.mmdb.gz \\\n    && gzip -d /tmp/GeoLite2-City.mmdb.gz\n\n# Make environment variable active\nRUN cd /var/app/rakam/rakam/target/rakam-*-bundle/rakam-*/etc/ && echo '\\n-Denv=RAKAM_CONFIG' >> jvm.config\n\nWORKDIR /var/app/rakam\n\nEXPOSE 9999\n\nENTRYPOINT rakam/target/rakam-*-bundle/rakam-*/bin/launcher run --config ../config.properties\n\nRUN apt-get clean\n"
}