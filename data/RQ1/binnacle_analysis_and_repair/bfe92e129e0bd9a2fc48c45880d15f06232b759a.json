{
  "startTime": 1674242336084,
  "endTime": 1674242336405,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 95
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 53
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 42
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 14,
        "lineEnd": 14,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 23
      }
    }
  ],
  "repairedDockerfile": "FROM debian:stable\nMAINTAINER Tom Parys \"tom.parys+copyright@gmail.com\"\n\n# Tell debconf to run in non-interactive mode\nENV DEBIAN_FRONTEND noninteractive\n\n# Setup multiarch because Skype is 32bit only\nRUN dpkg --add-architecture i386\n\n# Make sure the repository information is up to date\nRUN apt-get update\n\n\n# Install PulseAudio for i386 (64bit version does not work with Skype)\nRUN apt-get install --no-install-recommends -y libpulse0:i386 pulseaudio:i386 && rm -rf /var/lib/apt/lists/*;\n\n# We need ssh to access the docker container, wget to download skype\nRUN apt-get install --no-install-recommends -y openssh-server wget && rm -rf /var/lib/apt/lists/*;\n\n# Install Skype\nRUN wget https://download.skype.com/linux/skype-debian_4.3.0.37-1_i386.deb -O /usr/src/skype.deb\nRUN dpkg -i /usr/src/skype.deb || true\nRUN apt-get install -fy\t\t\t\t\t\t# Automatically detect and install dependencies\n\n\n# Create user \"docker\" and set the password to \"docker\"\nRUN useradd -m -d /home/docker docker\nRUN echo \"docker:docker\" | chpasswd\n\n# Create OpenSSH privilege separation directory, enable X11Forwarding\nRUN mkdir -p /var/run/sshd\nRUN echo X11Forwarding yes >> /etc/ssh/ssh_config\n\n# Prepare ssh config folder so we can upload SSH public key later\nRUN mkdir /home/docker/.ssh\nRUN chown -R docker:docker /home/docker\nRUN chown -R docker:docker /home/docker/.ssh\n\n# Set locale (fix locale warnings)\nRUN localedef -v -c -i en_US -f UTF-8 en_US.UTF-8 || true\nRUN echo \"Europe/Prague\" > /etc/timezone\n\n# Set up the launch wrapper - sets up PulseAudio to work correctly\nRUN echo 'export PULSE_SERVER=\"tcp:localhost:64713\"' >> /usr/local/bin/skype-pulseaudio\nRUN echo 'PULSE_LATENCY_MSEC=60 skype' >> /usr/local/bin/skype-pulseaudio\nRUN chmod 755 /usr/local/bin/skype-pulseaudio\n\n\n# Expose the SSH port\nEXPOSE 22\n\n# Start SSH\nENTRYPOINT [\"/usr/sbin/sshd\",  \"-D\"]\n"
}