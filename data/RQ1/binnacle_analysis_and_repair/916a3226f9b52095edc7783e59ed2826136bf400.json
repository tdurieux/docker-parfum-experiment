{
  "startTime": 1674239061254,
  "endTime": 1674239061347,
  "originalSmells": [
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 74,
        "lineEnd": 75,
        "columnStart": 7,
        "columnEnd": 11
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "#\n# Build an Apache TomEE container and deploy the WAR-Archives\n#\n# ##################### INFOS ######################\n#   - Config path: /usr/local/tomee/conf\n#   - Webapp path: /usr/local/tomee/webapps\n#   - User for the Tomcat Manager Application: tomee:tomee\n#  \n#   - ROOT App:            /admin                                       e.g. http://localhost:8080/admin\n#   - Quickstart App:      /angular2-qickstart-javaee7-application      e.g. http://localhost:8080/angular2-qickstart-javaee7-application\n#   - Quickstart Angular:  /angular2-qickstart-javaee7-client-web       e.g. http://localhost:8080/angular2-qickstart-javaee7-client-web\n# ##################### INFOS ######################\n#\n#\n# ##################### DOCKER #####################\n# BUILD\n# docker build -t angular2/javaee7-quickstart:1.0.0 .\n#\n# RUN (add -d parameter to start a container in detached mode)\n# docker run -P -it --rm -p 8080:8080 --name angular2-javaee7-quickstart angular2/javaee7-quickstart:1.0.0\n#\n# STOP\n# docker stop angular2-javaee7-quickstart\n#\n# REMOVE CONTAINER AND IMAGE\n# docker rm -f angular2-javaee7-quickstart ; docker rmi -f angular2/javaee7-quickstart:1.0.0\n#\n# LOGIN INTO CONTAINER\n# docker exec -i -t angular2-javaee7-quickstart /bin/bash\n#\n# COPY FILE FROM CONTAINER TO HOST\n# docker cp angular2-javaee7-quickstart:/usr/local/tomee/conf/web.xml ./web.xml\n#\n# ##################### DOCKER #####################\n#\n#\n\n# build file based on TomEE 7.0.1 Plume\nFROM tomee:8-jdk-7.0.1-plume\nMAINTAINER \"Markus Eschenbach <mail@blogging-it.com>\"\n\n\n# ************* MODIFY CONTAINER FILES *************\n\n# rename ROOT application folder to admin\nRUN mv /usr/local/tomee/webapps/ROOT /usr/local/tomee/webapps/admin\n\n# create new ROOT application folder and index.jsp welcome file\nRUN mkdir /usr/local/tomee/webapps/ROOT && echo \"<html><head></head><body>It works!</body></html>\" >> /usr/local/tomee/webapps/ROOT/index.jsp\n\n# add admin user tomee:tomee\nRUN sed -i '/<\\/tomcat-users>/d' /usr/local/tomee/conf/tomcat-users.xml\nRUN echo \"<role rolename=\\\"admin-gui\\\"/> \\\n<role rolename=\\\"tomee-admin\\\"/> \\\n<role rolename=\\\"manager-gui\\\"/> \\\n<user username=\\\"tomee\\\" password=\\\"tomee\\\" roles=\\\"tomee-admin,manager-gui,admin-gui,manager-script\\\" /> \\\n</tomcat-users>\" >> /usr/local/tomee/conf/tomcat-users.xml\n\n\n# **************** INSTALL TOOLS *****************\n\n# Avoid warnings during installsets\n# variable only live during the build process\nARG DEBIAN_FRONTEND=noninteractive\n\n# Installing the 'apt-utils' package gets rid of the 'debconf: delaying package configuration, since apt-utils is not installed'\n# error message when installing any other package with the apt-get package manager.\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\ \n       apt-utils \\ \n       && rm -rf /var/lib/apt/lists/*\n\n# make sure the package repository is up to date and install tools like nano etc.\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\ \n       nano && rm -rf /var/lib/apt/lists/*;\n\n\n# *************** ADD APPLICATIONS ***************\n\nADD module-application/target/angular2-qickstart-javaee7-application.war /usr/local/tomee/webapps/angular2-qickstart-javaee7-application.war\nADD module-client-web/target/angular2-qickstart-javaee7-client-web.war /usr/local/tomee/webapps/angular2-qickstart-javaee7-client-web.war\n\n\n# ******************** EXPOSE ********************\n\nEXPOSE 8080\n\n\n\n"
}