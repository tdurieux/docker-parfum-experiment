{
  "startTime": 1674242585233,
  "endTime": 1674242585337,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 121
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 77
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 77
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:14.04\n\nMAINTAINER Peter Dai lavadiablo@gmail.com\n\n#Update\nRUN apt-get update && apt-get -y --no-install-recommends --force-yes install wget unzip tomcat7 curl python libreoffice && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y upgrade\n\n#Tool\n\n\n#Tomcat\nRUN cd /usr/share/tomcat7 && ln -s /etc/tomcat7 conf\nRUN ln -s /var/lib/tomcat7/webapps/ /usr/share/tomcat7/webapps\nVOLUME /usr/share/tomcat7/logs\n\n#PostgerSQL JDBC\nRUN wget https://jdbc.postgresql.org/download/postgresql-9.3-1102.jdbc4.jar -P /var/lib/tomcat7/webapps/xwiki/WEB-INF/lib/\n\n#Download WAR from xwiki\nRUN \\curl -o xwikiVersion.html http://www.xwiki.org/xwiki/bin/view/Download/\nADD versionPicker.py .\nRUN python versionPicker.py >> downloader.sh\nRUN chmod +x downloader.sh\nRUN sh downloader.sh\n\n#Config\nRUN perl -i -p0e \"s/# environment.permanentDirectory/  environment.permanentDirectory/smg\" /var/lib/tomcat7/webapps/xwiki/WEB-INF/xwiki.properties\nRUN perl -i -p0e \"s/# xwiki.authentication.ldap=1/  xwiki.authentication.ldap=1/smg\" /var/lib/tomcat7/webapps/xwiki/WEB-INF/xwiki.cfg\nCOPY ./conf/hibernate.cfg.xml /var/lib/tomcat7/webapps/xwiki/WEB-INF/hibernate.cfg.xml\nENV JAVA_OPTS  -Djava.awt.headless=true\n\n#Start\nCMD /usr/share/tomcat7/bin/catalina.sh run\n\n#Port\nEXPOSE 8080\n"
}