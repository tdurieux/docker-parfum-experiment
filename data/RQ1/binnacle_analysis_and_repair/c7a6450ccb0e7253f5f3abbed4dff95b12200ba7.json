{
  "startTime": 1674249625407,
  "endTime": 1674249625458,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 8,
        "lineEnd": 20,
        "columnStart": 4,
        "columnEnd": 14
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 6,
        "lineEnd": 6,
        "columnStart": 4,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM praekeltfoundation/vumi \n\nRUN apt-get-install.sh nodejs npm && \\  \nupdate-alternatives --install /usr/bin/node node /usr/bin/nodejs 50 \n\nENV VXSANDBOX_VERSION \"0.6.1\" \nRUN pip install --no-cache-dir vxsandbox==$VXSANDBOX_VERSION\n\nRUN npm install moment \\\nurl \\\nquerystring \\\ncrypto \\\nlodash \\\nq \\\njed \\\nvumigo_v01 \\\nvumigo_v02 \\\ngo-jsbox-location \\\ngo-jsbox-metrics-helper \\\ngo-jsbox-ona \\\ngo-jsbox-xform && npm cache clean --force;\n\n# Workaround for sandboxed application losing context - manually install the \n# *dependencies* globally. \n# See https://github.com/praekelt/vumi-sandbox/issues/15 \nRUN mv ./node_modules /usr/local/lib/ \nCOPY ./go-app.js /app/app.js \nCOPY ./conf/app-config.json /app/config.json \nCOPY ./conf/jssandbox.yaml /app/config.yaml \n\nENV WORKER_CLASS=\"vxsandbox.worker.StandaloneJsFileSandbox\" \\  \nCONFIG_FILE=\"config.yaml\" \\  \nAMQP_HOST=\"rabbitmq\" \n\n"
}