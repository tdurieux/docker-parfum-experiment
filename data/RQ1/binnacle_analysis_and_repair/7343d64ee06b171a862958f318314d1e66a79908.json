{
  "startTime": 1674251250376,
  "endTime": 1674251250537,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 16,
        "lineEnd": 16,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 22
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 2,
        "lineEnd": 13,
        "columnStart": 22,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 2,
        "lineEnd": 13,
        "columnStart": 22,
        "columnEnd": 19
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:16.04\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n    build-essential \\\n    sed \\\n    sudo \\\n    tar \\\n    udev \\\n    wget \\\n    git \\\n    nano \\\n    python-pip \\\n    python-dev \\\n    build-essential \\\n    && apt-get clean && rm -rf /var/lib/apt/lists/*;\n\nRUN pip install --no-cache-dir --upgrade cython\n\n\nWORKDIR \"/workspace\"\n# ncsdk api install\nRUN git clone -b ncsdk2 https://github.com/movidius/ncsdk.git\nRUN cd ncsdk && make install && ./install-opencv.sh\nRUN /bin/bash -c \"source ~/.bashrc\"\n# Yolo install\nRUN git clone https://github.com/fernandodelacalle/yolo-darkflow-movidius.git\nWORKDIR \"/workspace/yolo-darkflow-movidius\"\nRUN git clone https://github.com/thtrieu/darkflow darkflow_all\nRUN cd darkflow_all && \\\n    python3 setup.py build_ext --inplace && \\\n    pip install --no-cache-dir -e .\nRUN cd darkflow_all && \\\n    wget -O tiny-yolo-voc.cfg https://raw.githubusercontent.com/pjreddie/darknet/master/cfg/yolov2-tiny-voc.cfg  && \\\n    wget -O tiny-yolo-voc.weights https://pjreddie.com/media/files/yolov2-tiny-voc.weights && \\\n    python3 flow --model tiny-yolo-voc.cfg --load tiny-yolo-voc.weights --savepb  || echo \"DONE\"\nRUN ln -s darkflow_all/darkflow darkflow && \\\n    mv darkflow_all/built_graph/ .\nRUN export PYTHONPATH=\"${PYTHONPATH}:/opt/movidius/caffe/python\" && \\\n    mvNCCompile built_graph/tiny-yolo-voc.pb -s 12 -in input -on output -o built_graph/tiny-yolo-voc.graph\n\nRUN pip3 install --no-cache-dir flask\nCMD [ \"python3\", \"main.py\" ]"
}