{
  "startTime": 1674252214086,
  "endTime": 1674252214304,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 46
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# See https://github.com/docker-library/php/blob/4677ca134fe48d20c820a19becb99198824d78e3/7.0/fpm/Dockerfile\nFROM roadiz/php73-nginx-alpine\n\n# Install Composer\n# And use local user as www-data\nRUN curl -f -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer && \\\n    composer --version && \\\n    rm /etc/localtime && \\\n    ln -s /usr/share/zoneinfo/Europe/Paris /etc/localtime && \\\n    \"date\"\n\n# install xdebug\nRUN apk add --no-cache --virtual .build-deps $PHPIZE_DEPS git gcc g++ make autoconf shadow \\\n    && mkdir /src && cd /src && git clone https://github.com/xdebug/xdebug.git \\\n    && cd xdebug \\\n    && sh ./rebuild.sh \\\n    && echo \"[xdebug]\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && echo \"zend_extension=xdebug.so\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && echo \"xdebug.remote_enable=on\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && echo \"xdebug.remote_autostart=off\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && echo \"xdebug.remote_port=9000\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && echo \"xdebug.remote_handler=dbgp\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && echo \"xdebug.remote_connect_back=0\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini \\\n    && usermod -u 1000 www-data \\\n    && cd  / && rm -fr /src \\\n    && apk del .build-deps $PHPIZE_DEPS git gcc g++ autoconf \\\n    && rm -rf /tmp/*\n\nRUN echo \"error_reporting = E_ALL\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"display_startup_errors = On\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"display_errors = On\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"post_max_size = 64M\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"upload_max_filesize = 64M\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"memory_limit = 256M\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"xdebug.remote_connect_back=1\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"xdebug.idekey=\\\"PHPSTORM\\\"\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"xdebug.remote_port=9001\" >> /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n    echo \"apc.enabled=1\" >> /usr/local/etc/php/conf.d/docker-php-ext-apcu.ini && \\\n    echo \"opcache.enable=1\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"opcache.memory_consumption=128\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"opcache.interned_strings_buffer=8\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"opcache.max_accelerated_files=20000\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"opcache.revalidate_freq=0\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"opcache.fast_shutdown=1\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"realpath_cache_size=4096K\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini && \\\n    echo \"realpath_cache_ttl=600\" >> /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini\n\nRUN ln -s /usr/share/nginx/html/bin/roadiz /usr/local/bin/roadiz\n\nVOLUME /var/www/html\nWORKDIR /var/www/html\n\n"
}