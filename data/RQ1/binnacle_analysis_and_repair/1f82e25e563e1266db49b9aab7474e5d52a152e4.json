{
  "startTime": 1674247882203,
  "endTime": 1674247882405,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 345
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# BSD License\n#\n# Copyright (C) 2017-2019 Baidu, Inc. All Rights Reserved.\n#\n# Redistribution and use in source and binary forms, with or without\n# modification, are permitted provided that the following conditions\n# are met:\n#\n#   * Redistributions of source code must retain the above copyright\n#     notice, this list of conditions and the following disclaimer.\n#   * Redistributions in binary form must reproduce the above copyright\n#     notice, this list of conditions and the following disclaimer in\n#     the documentation and/or other materials provided with the\n#     distribution.\n#   * Neither the name of Baidu, Inc., nor the names of its\n#     contributors may be used to endorse or promote products derived\n#     from this software without specific prior written permission.\n#\n# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n# \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n# A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\nFROM ubuntu:18.04\nMAINTAINER Yu Ding\n\nENV sdk_bin https://download.01.org/intel-sgx/linux-2.5/ubuntu18.04-server/sgx_linux_x64_sdk_2.5.100.49891.bin\nENV psw_deb https://download.01.org/intel-sgx/linux-2.5/ubuntu18.04-server/libsgx-enclave-common_2.5.101.50123-bionic1_amd64.deb\nENV psw_dev_deb https://download.01.org/intel-sgx/linux-2.5/ubuntu18.04-server/libsgx-enclave-common-dev_2.5.101.50123-bionic1_amd64.deb\nENV psw_dbgsym_deb https://download.01.org/intel-sgx/linux-2.5/ubuntu18.04-server/libsgx-enclave-common-dbgsym_2.5.101.50123-bionic1_amd64.ddeb\nENV rust_toolchain nightly-2019-05-22\nENV DEBIAN_FRONTEND=noninteractive\n\nRUN apt-get update && \\\n    apt-get install --no-install-recommends -y build-essential ocaml ocamlbuild automake autoconf libtool wget python libssl-dev libcurl4-openssl-dev protobuf-compiler libprotobuf-dev sudo kmod vim curl git-core libprotobuf-c0-dev libboost-thread-dev libboost-system-dev liblog4cpp5-dev libjsoncpp-dev alien uuid-dev libxml2-dev cmake pkg-config expect systemd-sysv gdb && \\\n    rm -rf /var/lib/apt/lists/* && \\\n    rm -rf /var/cache/apt/archives/*\n\n\n# Uncomment the following lines for setup iCls\n# Make sure you have put the installer file in this directory with filename iclsClient-1.45.449.12-1.x86_64.rpm\n#RUN mkdir /root/icls\n#ADD iclsClient-1.45.449.12-1.x86_64.rpm /root/icls/\n#RUN cd /root/icls && alien --scripts iclsClient-1.45.449.12-1.x86_64.rpm && dpkg -i iclsclient_1.45.449.12-2_amd64.deb && ldconfig && \\\n#    cd /tmp && \\\n#    git clone https://github.com/01org/dynamic-application-loader-host-interface.git jhi && \\\n#    cd jhi && mkdir build && cd build && cmake .. && make && make install && \\\n#    systemctl enable jhi\n\nRUN mkdir /root/sgx && \\\n    mkdir /etc/init && \\\n    wget -O /root/sgx/psw.deb ${psw_deb} && \\\n    wget -O /root/sgx/psw_dev.deb ${psw_dev_deb} && \\\n    wget -O /root/sgx/psw_dbgsym.deb ${psw_dbgsym_deb} && \\\n    wget -O /root/sgx/sdk.bin ${sdk_bin} && \\\n    cd /root/sgx && \\\n    dpkg -i /root/sgx/psw.deb && \\\n    dpkg -i /root/sgx/psw_dev.deb && \\\n    dpkg -i /root/sgx/psw_dbgsym.deb && \\\n    chmod +x /root/sgx/sdk.bin && \\\n    echo -e 'no\\n/opt' | /root/sgx/sdk.bin && \\\n    echo 'source /opt/sgxsdk/environment' >> /root/.bashrc && \\\n    rm -rf /root/sgx/*\n\nRUN wget 'https://static.rust-lang.org/rustup/dist/x86_64-unknown-linux-gnu/rustup-init' -O /root/rustup-init && \\\n    chmod +x /root/rustup-init && \\\n    echo '1' | /root/rustup-init --default-toolchain ${rust_toolchain} && \\\n    echo 'source /root/.cargo/env' >> /root/.bashrc && \\\n    /root/.cargo/bin/rustup component add rust-src rls rust-analysis clippy rustfmt && \\\n    /root/.cargo/bin/cargo install xargo && \\\n    rm -rf /root/.cargo/registry && rm -rf /root/.cargo/git\nWORKDIR /root\n"
}