{
  "startTime": 1674244285321,
  "endTime": 1674244285611,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 10,
        "lineEnd": 10,
        "columnStart": 4,
        "columnEnd": 112
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 22,
        "columnEnd": 135
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 22,
        "columnEnd": 90
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 24,
        "columnEnd": 91
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 139,
        "columnEnd": 175
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 47,
        "lineEnd": 47,
        "columnStart": 95,
        "columnEnd": 154
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 54,
        "columnEnd": 170
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Inspired from https://github.com/cloudbees/jenkins-ci.org-docker\nFROM java:openjdk-7u65-jdk\n\nRUN dpkg --add-architecture i386 && apt-get update && apt-get install --no-install-recommends -y wget git curl zip lib32z1 libstdc++6:i386 libsdl1.2debian:i386 libgl1-mesa-glx:i386 qemu-kvm kmod && rm -rf /var/lib/apt/lists/*\n\nENV JENKINS_VERSION stable-1.580\nRUN mkdir /usr/share/jenkins/ && mkdir /var/jenkins_home\nRUN useradd -d /home/jenkins -m -s /bin/bash jenkins\n\nCOPY init.groovy /tmp/WEB-INF/init.groovy.d/tcp-slave-angent-port.groovy\nRUN curl -f -L https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/jenkins.war -o /usr/share/jenkins/jenkins.war \\\n  && cd /tmp && zip -g /usr/share/jenkins/jenkins.war WEB-INF/init.groovy.d/tcp-slave-angent-port.groovy && rm -rf /tmp/WEB-INF\n\nENV JENKINS_HOME /var/jenkins_home\nRUN chown -R jenkins \"$JENKINS_HOME\"\n\n# define url prefix for running jenkins behind Apache (https://wiki.jenkins-ci.org/display/JENKINS/Running+Jenkins+behind+Apache)\nENV JENKINS_PREFIX /\n\n# for main web interface:\nEXPOSE 8080\n\n# will be used by attached slave agents:\nEXPOSE 50000\n\n# Install Maven\nRUN cd /usr/local/ && wget -nv https://ftp.tsukuba.wide.ad.jp/software/apache/maven/maven-3/3.1.1/binaries/apache-maven-3.1.1-bin.tar.gz && tar xf apache-maven-3.1.1-bin.tar.gz && rm apache-maven-3.1.1-bin.tar.gz\n\n# Install Gradle\nRUN cd /usr/local/ && wget -nv https://services.gradle.org/distributions/gradle-1.9-all.zip && unzip -oq gradle-1.9-all.zip\n\n# Environment variables\nENV MAVEN_HOME /usr/local/apache-maven-3.1.1\nENV GRADLE_HOME /usr/local/gradle-1.9\nENV PATH $PATH:$ANDROID_HOME/tools\nENV PATH $PATH:$ANDROID_HOME/platform-tools\nENV PATH $PATH:$MAVEN_HOME/bin\nENV PATH $PATH:$GRADLE_HOME/bin\n\n# Clean up\n\nRUN rm -rf /usr/local/apache-maven-3.1.1-bin.tar.gz\nRUN rm -rf /usr/local/gradle-1.9-all.zip\n\nUSER jenkins\n\n# Install Android SDK\nRUN cd /home/jenkins && wget -nv https://dl.google.com/android/android-sdk_r23.0.2-linux.tgz && tar xfo android-sdk_r23.0.2-linux.tgz --no-same-permissions && chmod -R a+rX android-sdk-linux && rm android-sdk_r23.0.2-linux.tgz\nRUN rm -rf /home/jenkins/android-sdk_r23.0.2-linux.tgz\n\n# Install Android tools\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter tools --no-ui --force -a\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter platform-tools --no-ui --force -a\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter platform --no-ui --force -a\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter build-tools-21.0.1 --no-ui -a\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter sys-img-x86-android-18 --no-ui -a\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter sys-img-x86-android-19 --no-ui -a\nRUN echo y | /home/jenkins/android-sdk-linux/tools/android update sdk --filter sys-img-x86-android-21 --no-ui -a\n\nENV ANDROID_HOME /home/jenkins/android-sdk-linux\n\nCOPY jenkins.sh /usr/local/bin/jenkins.sh\nENTRYPOINT [\"/usr/local/bin/jenkins.sh\"]\n\n# Install some useful Jenkins plugins (Git, Android Emulator)\nRUN cd $JENKINS_HOME && mkdir plugins && cd plugins && \\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/android-emulator.hpi && \\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/port-allocator.hpi && \\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/git.hpi &&\\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/git-client.hpi &&\\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/scm-api.hpi &&\\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/credentials.hpi &&\\\r\n  wget -nv https://updates.jenkins-ci.org/$JENKINS_VERSION/latest/ssh-credentials.hpi\n\n# Copy default configuration for Maven \nCOPY hudson.tasks.Maven.xml $JENKINS_HOME/hudson.tasks.Maven.xml\n\nUSER root\nRUN usermod -a -G kvm jenkins\nADD kvm-mknod.sh /root/kvm-mknod.sh\nADD entrypoint.sh /root/entrypoint.sh\n\nENTRYPOINT [\"/root/entrypoint.sh\"]\n\n"
}