{
  "startTime": 1674236448829,
  "endTime": 1674236448962,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 5,
        "columnEnd": 27
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 5,
        "columnEnd": 31
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 7,
        "lineEnd": 7,
        "columnStart": 5,
        "columnEnd": 75
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:3.8\n\nENV TWEMPROXY_VERSION 0.4.1\nENV TWEMPROXY_CONFIG_DIR /etc/twemproxy\nENV TWEMPROXY_DOWNLOAD_URL https://github.com/twitter/twemproxy/archive/v${TWEMPROXY_VERSION}.tar.gz\n\nRUN apk upgrade --update \\\n  && apk add --no-cache libtool build-base make automake autoconf wget ca-certificates \\\n  && wget ${TWEMPROXY_DOWNLOAD_URL} -O twemproxy.tar.gz \\\n  && tar -zxvf twemproxy.tar.gz \\\n  && ( cd twemproxy-${TWEMPROXY_VERSION} \\\n \t&& autoreconf -fvi \\\n  && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" --prefix=/ \\\n  && make -j2 \\\n  && make install) && rm twemproxy.tar.gz\n\nFROM alpine:3.8\n\nLABEL maintainer=\"mritd <mritd@linux.com>\"\n\nARG TZ=\"Asia/Shanghai\"\n\nENV TZ ${TZ}\nENV TWEMPROXY_VERSION 0.4.1\nENV TWEMPROXY_CONFIG_DIR /etc/twemproxy\n\nRUN apk upgrade --update \\\n    && apk add bash tzdata \\\n    && mkdir ${TWEMPROXY_CONFIG_DIR} \\ \n    && ln -sf /usr/share/zoneinfo/${TZ} /etc/localtime \\\n    && echo ${TZ} > /etc/timezone \\\n    && rm -rf /var/cache/apk/*\n\nCOPY --from=0 /sbin/nutcracker /sbin/\nCOPY config.yml ${TWEMPROXY_CONFIG_DIR}\nCOPY entrypoint.sh /entrypoint.sh\n\nCMD [\"/entrypoint.sh\"]\n"
}