{
  "startTime": 1674250087066,
  "endTime": 1674250088997,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 263,
        "lineEnd": 265,
        "columnStart": 4,
        "columnEnd": 13
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 268,
        "lineEnd": 268,
        "columnStart": 4,
        "columnEnd": 32
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 270,
        "lineEnd": 270,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 273,
        "lineEnd": 273,
        "columnStart": 4,
        "columnEnd": 21
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 276,
        "lineEnd": 276,
        "columnStart": 4,
        "columnEnd": 92
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 279,
        "lineEnd": 279,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 282,
        "lineEnd": 282,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 285,
        "lineEnd": 285,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 286,
        "lineEnd": 286,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 287,
        "lineEnd": 287,
        "columnStart": 4,
        "columnEnd": 34
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 254,
        "lineEnd": 254,
        "columnStart": 4,
        "columnEnd": 56
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 15,
        "lineEnd": 243,
        "columnStart": 22,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 293,
        "lineEnd": 293,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 296,
        "lineEnd": 296,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 309,
        "lineEnd": 314,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 321,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 327,
        "lineEnd": 327,
        "columnStart": 4,
        "columnEnd": 109
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 293,
        "lineEnd": 293,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 296,
        "lineEnd": 296,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 309,
        "lineEnd": 314,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 321,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 327,
        "lineEnd": 327,
        "columnStart": 4,
        "columnEnd": 109
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 15,
        "lineEnd": 243,
        "columnStart": 22,
        "columnEnd": 19
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 293,
        "lineEnd": 293,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 296,
        "lineEnd": 296,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 309,
        "lineEnd": 314,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 321,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 59
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 327,
        "lineEnd": 327,
        "columnStart": 4,
        "columnEnd": 109
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 293,
        "lineEnd": 293,
        "columnStart": 4,
        "columnEnd": 50
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 296,
        "lineEnd": 296,
        "columnStart": 4,
        "columnEnd": 54
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 309,
        "lineEnd": 314,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 321,
        "lineEnd": 321,
        "columnStart": 4,
        "columnEnd": 83
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 327,
        "lineEnd": 327,
        "columnStart": 4,
        "columnEnd": 133
      }
    }
  ],
  "repairedDockerfile": "FROM debian:jessie\n\nMAINTAINER johnar@microsoft.com\n\n## Remove retired jessie-updates repo\nRUN sed -i '/deb http:\\/\\/deb.debian.org\\/debian jessie-updates main/d' /etc/apt/sources.list\n\nRUN echo \"deb http://debian-archive.trafficmanager.net/debian/ jessie main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb-src http://debian-archive.trafficmanager.net/debian/ jessie main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb http://debian-archive.trafficmanager.net/debian-security/ jessie/updates main contrib non-free\" >> /etc/apt/sources.list && \\\n        echo \"deb-src http://debian-archive.trafficmanager.net/debian-security/ jessie/updates main contrib non-free\" >> /etc/apt/sources.list\n\n## Make apt-get non-interactive\nENV DEBIAN_FRONTEND=noninteractive\n\nRUN apt-get update && apt-get install --no-install-recommends -y \\\n        apt-utils \\\n        default-jre-headless \\\n        openssh-server \\\n        curl \\\n        wget \\\n        unzip \\\n        git \\\n        build-essential \\\n        libtool \\\n        lintian \\\n        sudo \\\n        dh-make \\\n        dh-exec \\\n        kmod \\\n        libtinyxml2-2 \\\n        libboost-program-options1.55-dev \\\n        libtinyxml2-dev \\\n        python \\\n        python-pip \\\n        libncurses5-dev \\\n        texinfo \\\n        dh-autoreconf \\\n        python3-pip \\\n        doxygen \\\n        devscripts \\\n        git-buildpackage \\\n        perl-modules \\\n        libswitch-perl \\\n        dh-systemd \\\n\n        libreadline-dev \\\n        texlive-latex-base \\\n        texlive-generic-recommended \\\n        texlive-fonts-recommended \\\n        libpam0g-dev \\\n        libpam-dev \\\n        libcap-dev \\\n        imagemagick \\\n        ghostscript \\\n        groff \\\n        libpcre3-dev \\\n        gawk \\\n        chrpath \\\n\n        libc-ares-dev \\\n        hardening-wrapper \\\n        libsnmp-dev \\\n        libjson0 \\\n        libjson0-dev \\\n        libsystemd-dev \\\n        python-ipaddr \\\n        install-info \\\n\n        cdbs \\\n\n        libxml-simple-perl \\\n        graphviz \\\n        aspell \\\n\n        bc \\\n        fakeroot \\\n        build-essential \\\n        devscripts \\\n        quilt \\\n        stgit \\\n\n        module-assistant \\\n\n        gem2deb \\\n        libboost-all-dev \\\n        libevent-dev \\\n        libglib2.0-dev \\\n        libqt4-dev \\\n        python-all-dev \\\n        python-twisted \\\n        php5-dev \\\n        phpunit \\\n        libbit-vector-perl \\\n        openjdk-7-jdk \\\n        javahelper \\\n        maven-debian-helper \\\n        ant \\\n        libmaven-ant-tasks-java \\\n        libhttpclient-java \\\n        libslf4j-java \\\n        libservlet3.1-java \\\n        qt5-default \\\n        pkg-php-tools \\\n\n        libpcre3 \\\n        libpcre3-dev \\\n        byacc \\\n        flex \\\n        libglib2.0-dev \\\n        bison \\\n        expat \\\n        libexpat1-dev \\\n        dpatch \\\n        libdb-dev \\\n        iptables-dev \\\n        swig \\\n        ctags \\\n\n        libtool-bin \\\n        libxml2-dev \\\n\n        libusb-1.0-0-dev \\\n        libcurl3-nss-dev \\\n        libunwind8-dev \\\n        telnet \\\n        libc-ares2 \\\n        libgoogle-perftools4 \\\n\n        cpio \\\n        squashfs-tools \\\n        zip \\\n\n        linux-compiler-gcc-4.8-x86 \\\n        linux-kbuild-3.16 \\\n\n        libdaemon-dev \\\n        libdbus-1-dev \\\n        libjansson-dev \\\n\n        libpcap-dev \\\n        dnsutils \\\n        libusb-dev \\\n\n        augeas-tools \\\n\n        libyaml-dev \\\n        libevent-dev \\\n        libjudy-dev \\\n        libedit-dev \\\n        libnanomsg-dev \\\n        python-stdeb \\\n\n        libjemalloc-dev \\\n\n        dkms \\\n\n        sharutils \\\n        libncursesw5-dev \\\n        libbz2-dev \\\n        liblzma-dev \\\n        libgdbm-dev \\\n        tk-dev \\\n        blt-dev \\\n        libmpdec-dev \\\n        libbluetooth-dev \\\n        locales \\\n        libsqlite3-dev \\\n        libgpm2 \\\n        time \\\n        net-tools \\\n        xvfb \\\n        python-sphinx \\\n        python3-sphinx \\\n\n        cppcheck \\\n        clang \\\n        pylint \\\n        gcovr \\\n        python-pytest=2.6.3* \\\n        python3-pytest=2.6.3* \\\n        python-pytest-cov \\\n        python3-pytest-cov \\\n        python-parse \\\n\n        libmysqlclient-dev \\\n        libmysqld-dev \\\n        libperl-dev \\\n        libpci-dev \\\n        libpci3 \\\n        libsensors4 \\\n        libsensors4-dev \\\n        libwrap0-dev \\\n\n        docutils-common \\\n        libjs-sphinxdoc \\\n        libjs-underscore \\\n        python-docutils \\\n        python-markupsafe \\\n        python-pygments \\\n        python-roman \\\n        sphinx-common \\\n\n        python-lxml \\\n        python-netaddr \\\n        python-ipaddr \\\n        python-yaml \\\n\n        procmail \\\n\n        libgtest-dev \\\n        cmake \\\n\n        autoconf-archive \\\n\n        swig3.0 \\\n\n        cm-super-minimal \\\n        libatm1-dev \\\n        libelf-dev \\\n        libmnl-dev \\\n        libselinux1-dev \\\n        linuxdoc-tools \\\n        lynx \\\n        texlive-latex-extra \\\n        texlive-latex-recommended \\\n\n        python-sphinx \\\n        python-docutils \\\n        python3-all \\\n        python3-setuptools \\\n        python3-sphinx \\\n        python3-docutils \\\n        python3-requests \\\n        python3-pytest \\\n        python3-colorama \\\n\n        texi2html \\\n\n        bash-completion \\\n\n        dosfstools \\\n        qemu-kvm \\\n        libvirt-bin && rm -rf /var/lib/apt/lists/*;\n\n# For jenkins slave\n# RUN apt-get -y install ca-certificates-java=20161107~bpo8+1 openjdk-8-jdk\n\n# For linux build\nRUN apt-get -y build-dep linux\n\n# For gobgp and telemetry build\nRUN export VERSION=1.11.5 \\\n && wget https://storage.googleapis.com/golang/go$VERSION.linux-amd64.tar.gz \\\n && tar -C /usr/local -xzf go$VERSION.linux-amd64.tar.gz \\\n && echo 'export GOROOT=/usr/local/go' >> /etc/bash.bashrc \\\n && echo 'export PATH=$PATH:$GOROOT/bin' >> /etc/bash.bashrc && rm go$VERSION.linux-amd64.tar.gz\n\n# Upgrade pip2\n# Note: use pip2 specific version so jinja2 2.10 will install\nRUN python2 -m pip install -U pip==9.0.3\n\n# For p4 build\nRUN pip install --no-cache-dir \\\n        ctypesgen \\\n        crc16\n\n# For sonic config engine testing\nRUN pip install --no-cache-dir pyangbind==0.6.0\n# Note: force upgrade debian packaged jinja2, if installed\nRUN pip install --no-cache-dir --force-reinstall --upgrade jinja2 >=2.10\n\n# For templating (requiring jinja2)\nRUN pip install --no-cache-dir j2cli\n\n# For sonic utilities testing\nRUN pip install --no-cache-dir click-default-group click natsort tabulate netifaces==0.10.7 fastentrypoints\n\n# For supervisor build\nRUN pip install --no-cache-dir meld3 mock\n\n# For vs image build\nRUN pip install --no-cache-dir pexpect==4.6.0\n\n# For sonic-utilities build\nRUN pip install --no-cache-dir mockredispy==2.9.3\nRUN pip install --no-cache-dir pytest-runner==4.4\nRUN pip install --no-cache-dir setuptools==40.8.0\n\n# Install dependencies for isc-dhcp-relay build\nRUN apt-get -y build-dep isc-dhcp\n\n# Install vim\nRUN apt-get install --no-install-recommends -y vim && rm -rf /var/lib/apt/lists/*;\n\n# Install rsyslog\nRUN apt-get install --no-install-recommends -y rsyslog && rm -rf /var/lib/apt/lists/*;\n\nRUN cd /usr/src/gtest && cmake . && make -C /usr/src/gtest\n\nRUN mkdir /var/run/sshd\nEXPOSE 22\n\n# Install depot-tools (for git-retry)\nRUN git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git /usr/share/depot_tools\nENV PATH /usr/share/depot_tools:$PATH\n\n# Install docker engine 17.03.2~ce-0 inside docker and enable experimental feature\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y \\\n           apt-transport-https \\\n           ca-certificates \\\n           curl \\\n           gnupg2 \\\n           software-properties-common && rm -rf /var/lib/apt/lists/*;\nRUN curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -\nRUN add-apt-repository \\\n           \"deb [arch=amd64] https://download.docker.com/linux/debian \\\n           $(lsb_release -cs) \\\n           stable\"\nRUN apt-get update\nRUN apt-get install --no-install-recommends -y docker-ce=17.03.2~ce-0~debian-jessie && rm -rf /var/lib/apt/lists/*;\nRUN echo \"DOCKER_OPTS=\\\"--experimental --storage-driver=vfs\\\"\" >> /etc/default/docker\n\n# For jenkins slave\nRUN echo \"deb http://archive.debian.org/debian jessie-backports main\" >> /etc/apt/sources.list\nRUN apt-get -o Acquire::Check-Valid-Until=false update\nRUN apt-get -y --no-install-recommends -o Acquire::Check-Valid-Until=false install ca-certificates-java=20161107~bpo8+1 openjdk-8-jdk && rm -rf /var/lib/apt/lists/*;\n"
}