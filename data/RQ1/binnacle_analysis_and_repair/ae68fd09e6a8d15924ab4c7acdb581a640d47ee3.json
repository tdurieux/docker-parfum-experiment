{
  "startTime": 1674246418044,
  "endTime": 1674246418366,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 62
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 71,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 19
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 76,
        "lineEnd": 77,
        "columnStart": 4,
        "columnEnd": 52
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 83,
        "lineEnd": 84,
        "columnStart": 4,
        "columnEnd": 70
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 88,
        "lineEnd": 89,
        "columnStart": 4,
        "columnEnd": 63
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 93,
        "lineEnd": 94,
        "columnStart": 4,
        "columnEnd": 58
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 98,
        "lineEnd": 99,
        "columnStart": 4,
        "columnEnd": 66
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 103,
        "lineEnd": 104,
        "columnStart": 4,
        "columnEnd": 60
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 108,
        "lineEnd": 109,
        "columnStart": 4,
        "columnEnd": 72
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 113,
        "lineEnd": 114,
        "columnStart": 4,
        "columnEnd": 68
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 118,
        "lineEnd": 119,
        "columnStart": 4,
        "columnEnd": 64
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 31,
        "lineEnd": 42,
        "columnStart": 6,
        "columnEnd": 11
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 48,
        "lineEnd": 49,
        "columnStart": 25,
        "columnEnd": 50
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM ubuntu:bionic-20181018\n\n# Provisioners versions\nENV TERRAFORM_VERSION=0.10.7\nENV ANSIBLE_VERSION=2.4.2.0\nENV LIBCLOUD_VERSION=1.5.0\nENV J2CLI_VERSION=0.3.1.post0\nENV DNSPYTHON_VERSION=1.15.0\nENV JMESPATH_VERSION=0.9.3\nENV SHADE_VERSION=1.21.0\nENV OPENSTACKCLIENT_VERSION=3.16.1\nENV GLANCECLIENT_VERSION=2.8.0\nENV AWSCLI_VERSION=1.11.177\nENV AZURE_CLI_VERSION=2.0.25\nENV GOOGLE_CLOUD_SDK_VERSION=179.0.0-0\n# Terraform plugin versions\nENV PLUGIN_OPENSTACK=0.2.2\nENV PLUGIN_GOOGLE=0.1.3\nENV PLUGIN_AWS=1.0.0\nENV PLUGIN_AZURERM=0.2.2\nENV PLUGIN_NULL=1.0.0\nENV PLUGIN_CLOUDFLARE=0.1.0\nENV PLUGIN_TEMPLATE=1.0.0\nENV PLUGIN_RANDOM=1.0.0\n# Pip version, PIP_VERSION env is reserved by Pip\nENV PIP=9.0.3\n\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-c\"]\n\n# Install with apt and pip\nRUN apt-get update -y && \\\n      DEBIAN_FRONTEND=noninteractive apt-get --no-install-recommends install -y \\\n      apt-transport-https \\\n      bc \\\n      curl \\\n      git \\\n      gosu \\\n      jq \\\n      libffi-dev \\\n      openssl \\\n      python-pip \\\n      libcrack2 \\\n      unzip && \\\n    `# Add google cloud` \\\n    echo \"deb http://packages.cloud.google.com/apt cloud-sdk-xenial main\" \\\n      | tee -a /etc/apt/sources.list.d/google-cloud-sdk.list && \\\n    curl -f https://packages.cloud.google.com/apt/doc/apt-key.gpg \\\n      | apt-key add - && \\\n    apt-get update -y && apt-get install --no-install-recommends -y \\\n      google-cloud-sdk=\"$GOOGLE_CLOUD_SDK_VERSION\" && \\\n    `# Upgrade pip and install pip deps` \\\n    pip install --no-cache-dir --upgrade pip==\"${PIP}\" && \\\n    pip install --no-cache-dir \\\n      ansible==\"$ANSIBLE_VERSION\" \\\n      j2cli==\"$J2CLI_VERSION\" \\\n      dnspython==\"$DNSPYTHON_VERSION\" \\\n      jmespath==\"$JMESPATH_VERSION\" \\\n      apache-libcloud==\"$LIBCLOUD_VERSION\" \\\n      shade==\"$SHADE_VERSION\" \\\n      python-openstackclient==\"$OPENSTACKCLIENT_VERSION\" \\\n      python-glanceclient==\"$GLANCECLIENT_VERSION\" \\\n      awscli==\"$AWSCLI_VERSION\" \\\n      azure-cli==\"$AZURE_CLI_VERSION\" && \\\n    `# Remove unwanted` \\\n    rm -rf /usr/lib/gcc && \\\n    rm -rf /usr/share/man && \\\n    rm -rf /usr/lib/google-cloud-sdk/platform/gsutil && \\\n    apt-get clean && \\\n    rm -rf /var/lib/apt/lists/*\n\n# Install json2hcl\nRUN curl -f -L \"https://github.com/kvz/json2hcl/releases/download/v0.0.6/json2hcl_v0.0.6_linux_amd64\" > \\\n    \"/bin/json2hcl\" && \\\n    chmod a+rx /bin/json2hcl\n\n# Install Terraform\nRUN curl -f \"https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_amd64.zip\" > \\\n    \"terraform_${TERRAFORM_VERSION}_linux_amd64.zip\" && \\\n    unzip \"terraform_${TERRAFORM_VERSION}_linux_amd64.zip\" -d /bin && \\\n    rm -f \"terraform_${TERRAFORM_VERSION}_linux_amd64.zip\"\n\n# Install Terraform plugins that are used\nRUN mkdir -p /terraform_plugins\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-openstack/${PLUGIN_OPENSTACK}/terraform-provider-openstack_${PLUGIN_OPENSTACK}_linux_amd64.zip\" > \\\n    \"terraform-provider-openstack_${PLUGIN_OPENSTACK}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-openstack_${PLUGIN_OPENSTACK}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-openstack_${PLUGIN_OPENSTACK}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-google/${PLUGIN_GOOGLE}/terraform-provider-google_${PLUGIN_GOOGLE}_linux_amd64.zip\" > \\\n    \"terraform-provider-google${PLUGIN_GOOGLE}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-google${PLUGIN_GOOGLE}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-google${PLUGIN_GOOGLE}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-aws/${PLUGIN_AWS}/terraform-provider-aws_${PLUGIN_AWS}_linux_amd64.zip\" > \\\n    \"terraform-provider-aws_${PLUGIN_AWS}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-aws_${PLUGIN_AWS}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-aws_${PLUGIN_AWS}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-azurerm/${PLUGIN_AZURERM}/terraform-provider-azurerm_${PLUGIN_AZURERM}_linux_amd64.zip\" > \\\n    \"terraform-provider-azurerm_${PLUGIN_AZURERM}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-azurerm_${PLUGIN_AZURERM}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-azurerm_${PLUGIN_AZURERM}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-null/${PLUGIN_NULL}/terraform-provider-null_${PLUGIN_NULL}_linux_amd64.zip\" > \\\n    \"terraform-provider-null_${PLUGIN_NULL}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-null_${PLUGIN_NULL}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-null_${PLUGIN_NULL}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-cloudflare/${PLUGIN_CLOUDFLARE}/terraform-provider-cloudflare_${PLUGIN_CLOUDFLARE}_linux_amd64.zip\" > \\\n    \"terraform-provider-cloudflare_${PLUGIN_CLOUDFLARE}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-cloudflare_${PLUGIN_CLOUDFLARE}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-cloudflare_${PLUGIN_CLOUDFLARE}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-template/${PLUGIN_TEMPLATE}/terraform-provider-template_${PLUGIN_TEMPLATE}_linux_amd64.zip\" > \\\n    \"terraform-provider-template_${PLUGIN_TEMPLATE}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-template_${PLUGIN_TEMPLATE}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-template_${PLUGIN_TEMPLATE}_linux_amd64.zip\"\n\nRUN curl -f \"https://releases.hashicorp.com/terraform-provider-random/${PLUGIN_RANDOM}/terraform-provider-random_${PLUGIN_RANDOM}_linux_amd64.zip\" > \\\n    \"terraform-provider-random_${PLUGIN_RANDOM}_linux_amd64.zip\" && \\\n    unzip \"terraform-provider-random_${PLUGIN_RANDOM}_linux_amd64.zip\" -d /terraform_plugins/ && \\\n    rm -f \"terraform-provider-random_${PLUGIN_RANDOM}_linux_amd64.zip\"\n\n# Add KubeNow\nCOPY . /opt/KubeNow\n"
}