{
  "startTime": 1674234417975,
  "endTime": 1674234418093,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 16,
        "lineEnd": 29,
        "columnStart": 22,
        "columnEnd": 5
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# base image\nFROM ubuntu:xenial\n\n# metadata\nLABEL base.image=\"ubuntu:xenial\"\nLABEL version=\"2\"\nLABEL software=\"Prokka\"\nLABEL software.version=\"1.13.3\"\nLABEL description=\"Automated prokaryotic genome annotation tool\"\nLABEL website=\"https://github.com/tseemann/prokka\"\nLABEL license=\"https://github.com/tseemann/prokka#licence\"\n\n# Maintainer\nMAINTAINER Curtis Kapsak <pjx8@cdc.gov>\n\n# install dependencies using conda\nRUN apt-get update && apt-get -y --no-install-recommends install \\\n bzip2 \\\n gzip \\\n wget \\\n perl \\\n less \\\n libdatetime-perl \\\n libxml-simple-perl \\\n libdigest-md5-perl \\\n default-jre \\\n bioperl \\\n hmmer \\\n bedtools \\\n make && apt-get clean && apt-get autoclean && rm -rf /var/lib/apt/lists/*\n\n#### bedtools installed via apt-get. It's v2.25 (Sept 2015) but it should still work.\n#### It's too much of a pain to install and compile from source. Ran into problems with gcc/g++\n\n# install bedtools, required for barrnap\n#RUN wget https://github.com/arq5x/bedtools2/releases/download/v2.27.1/bedtools-2.27.1.tar.gz &&\\\n#    tar -xzf bedtools-2.27.1.tar.gz &&\\\n#    rm bedtools-2.27.1.tar.gz &&\\\n#    cd bedtools2/ &&\\\n#    make\n\n# install barrnap\nRUN wget https://github.com/tseemann/barrnap/archive/0.9.tar.gz &&\\\n    tar -zxf 0.9.tar.gz &&\\\n    rm 0.9.tar.gz &&\\\n    cd barrnap-0.9 &&\\\n    make test\n\nRUN wget https://github.com/tseemann/prokka/archive/v1.13.4.tar.gz && \\\n    tar -xzf v1.13.4.tar.gz && \\\n    rm -rf v1.13.4.tar.gz && \\\n    mkdir /data\n\nENV PATH=\"$PATH:/prokka-1.13.4/bin:\\\n/barrnap-0.9/bin\"\n\n# set perl locale settings so barrnap works in singularity image\nENV LC_ALL=C\n\nRUN prokka --setupdb && prokka --listdb\nWORKDIR /data\n"
}