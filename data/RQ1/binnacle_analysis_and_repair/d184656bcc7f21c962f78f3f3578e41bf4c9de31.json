{
  "startTime": 1674239717557,
  "endTime": 1674239717757,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 94
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 24,
        "lineEnd": 24,
        "columnStart": 4,
        "columnEnd": 94
      }
    },
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 35,
        "lineEnd": 35,
        "columnStart": 4,
        "columnEnd": 128
      }
    },
    {
      "rule": "tarSomethingRmTheSomething",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 38
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 13,
        "lineEnd": 13,
        "columnStart": 18,
        "columnEnd": 46
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 20
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine:latest\n\nMAINTAINER UnderstandLing <contact@understandling.com>\n\n# our versions of the tools\nENV SBT_VERSION 0.13.12\nENV SCALA_VERSION 2.11.8\nENV ACTIVATOR_VERSION 1.3.10\nENV TUKTU_VERSION 1.3\n\n# general stuff\nUSER root\nRUN apk update && apk upgrade\nRUN apk update && apk add --no-cache ca-certificates wget && update-ca-certificates\nWORKDIR /tmp\n\n# install openjdk8\nRUN apk add --no-cache openjdk8\nENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk\nENV PATH $JAVA_HOME/bin:$PATH\n\n# install sbt \nRUN apk add --no-cache curl\nENV SBT_HOME /usr/local/sbt\nRUN curl -f -sL \"https://dl.bintray.com/sbt/native-packages/sbt/$SBT_VERSION/sbt-$SBT_VERSION.tgz\" | gunzip | tar -x -C /usr/local && echo -ne \"- with sbt $SBT_VERSION\\n\" >> /root/.built\nENV PATH $SBT_HOME/bin:$PATH\n\n# install scala \nENV SCALA_HOME /usr/share/scala\nRUN apk add --no-cache --virtual=.build-dependencies wget ca-certificates && apk add --no-cache bash && cd \"/tmp\" && wget \"https://downloads.typesafe.com/scala/$SCALA_VERSION/scala-$SCALA_VERSION.tgz\" && \\\n    tar xzf \"scala-$SCALA_VERSION.tgz\" && mkdir \"$SCALA_HOME\" && rm \"/tmp/scala-$SCALA_VERSION/bin/\"*.bat && mv \"/tmp/scala-$SCALA_VERSION/bin\" \"/tmp/scala-$SCALA_VERSION/lib\" \"$SCALA_HOME\" && \\\n    ln -s \"$SCALA_HOME/bin/\"* \"/usr/bin/\" && apk del .build-dependencies && rm \"scala-$SCALA_VERSION.tgz\"\nENV PATH $SCALA_HOME/bin:$PATH\n\n# download and install activator\nRUN wget \"https://downloads.typesafe.com/typesafe-activator/$ACTIVATOR_VERSION/typesafe-activator-$ACTIVATOR_VERSION-minimal.zip\"\nRUN unzip typesafe-activator-$ACTIVATOR_VERSION-minimal.zip\nRUN mv activator-$ACTIVATOR_VERSION-minimal /usr/share/activator\nENV PATH /usr/share/activator/bin:$PATH\n\n# AKKA communication and Tuktu UI\nEXPOSE 2552\nEXPOSE 9000\n\n# download our application distribution, extract it and move to the correct spot\nRUN wget \"https://github.com/UnderstandLingBV/Tuktu/releases/download/$TUKTU_VERSION/tuktu-$TUKTU_VERSION.zip\"\nRUN unzip tuktu-$TUKTU_VERSION.zip\nRUN mv tuktu-$TUKTU_VERSION /usr/share/tuktu-$TUKTU_VERSION\n\n# change working dir to packaged version\nWORKDIR /usr/share/tuktu-$TUKTU_VERSION\n\n# clean up\nRUN rm -rf /tmp/* /var/tmp/* /var/cache/apk/*\n\n# and.. go!\nCMD [\"./bin/tuktu\"]\n"
}