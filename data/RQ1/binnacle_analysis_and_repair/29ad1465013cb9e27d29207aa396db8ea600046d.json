{
  "startTime": 1674238968178,
  "endTime": 1674238968303,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 99
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 18,
        "lineEnd": 18,
        "columnStart": 25,
        "columnEnd": 91
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM supermy/docker-jre:7\n\nMAINTAINER supermy <springclick@gmail.com>\n\nRUN echo 'root:supermy' | chpasswd\n\n#RUN sed -i '1,7d' /etc/apt/sources.list\n\n#更换比较快的镜像\n#RUN echo 'deb http://mirrors.sohu.com/debian/ wheezy main non-free contrib '>>/etc/apt/sources.list\n#RUN echo 'deb http://mirrors.sohu.com/debian/ wheezy-proposed-updates main contrib non-free '>>/etc/apt/sources.list\n#RUN echo 'deb http://mirrors.sohu.com/debian-security/ wheezy/updates main contrib non-free '>>/etc/apt/sources.list\n#RUN echo 'deb-src http://mirrors.sohu.com/debian/ wheezy main non-free contrib '>>/etc/apt/sources.list\n#RUN echo 'deb-src http://mirrors.sohu.com/debian/ wheezy-proposed-updates main contrib non-free '>>/etc/apt/sources.list\n#RUN echo 'deb-src http://mirrors.sohu.com/debian-security/ wheezy/updates main contrib non-free '>>/etc/apt/sources.list\n\n#RUN cat /etc/apt/sources.list\n\nRUN apt-get update -y && apt-get install --no-install-recommends -y -q curl sudo supervisor && rm -rf /var/lib/apt/lists/*;\n\n#RUN mkdir /var/run/sshd\n#RUN sed -i 's/PermitRootLogin without-password/PermitRootLogin yes/' /etc/ssh/sshd_config\n\nRUN wget -q -O - https://mirrors.sonic.net/apache/storm/apache-storm-0.9.3/apache-storm-0.9.3.tar.gz | tar -xzf - -C /opt\n\nENV STORM_HOME /opt/apache-storm-0.9.3\nRUN groupadd storm; useradd --gid storm --home-dir /home/storm --create-home --shell /bin/bash storm; chown -R storm:storm $STORM_HOME; mkdir /var/log/storm ; chown -R storm:storm /var/log/storm\n\nRUN ln -s $STORM_HOME/bin/storm /usr/bin/storm\n\nADD storm.yaml $STORM_HOME/conf/storm.yaml\nADD cluster.xml $STORM_HOME/logback/cluster.xml\nADD config-supervisord.sh /usr/bin/config-supervisord.sh\nADD start-supervisor.sh /usr/bin/start-supervisor.sh\n\nRUN ls -hl /usr/bin/start-supervisor.sh\n\nRUN echo [supervisord] | tee -a /etc/supervisor/supervisord.conf ; echo nodaemon=true | tee -a /etc/supervisor/supervisord.conf\n#RUN echo [supervisord] >> /etc/supervisor/supervisord.conf ; echo nodaemon=true >> /etc/supervisor/supervisord.conf\n#RUN cat /etc/supervisor/supervisord.conf\n"
}