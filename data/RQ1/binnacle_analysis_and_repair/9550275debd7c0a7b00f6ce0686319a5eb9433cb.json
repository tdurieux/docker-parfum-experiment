{
  "startTime": 1674250145907,
  "endTime": 1674250145999,
  "originalSmells": [
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "apkAddUseNoCache",
      "position": {
        "lineStart": 6,
        "lineEnd": 13,
        "columnStart": 18,
        "columnEnd": 6
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM alpine \n\n# greet me :) \nMAINTAINER Tobias RÃ¶s - <roes@amicaldo.de> \n\n# install dependencies \nRUN apk update && apk add --no-cache \\\nbash \\\ngit \\\nnodejs \\\nnodejs-npm \\\nnginx \\\npython \\\npy-pip\n\nRUN pip install --no-cache-dir speedtest-cli\n\n# remove default content \nRUN rm -R /var/www/* \n\n# create directory structure \nRUN mkdir -p /etc/nginx \nRUN mkdir -p /run/nginx \nRUN mkdir -p /etc/nginx/global \nRUN mkdir -p /var/www/html \n\n# touch required files \nRUN touch /var/log/nginx/access.log && touch /var/log/nginx/error.log \n\n# install vhost config \nADD ./config/vhost.conf /etc/nginx/conf.d/default.conf \n\n# prepare run script which start webserver and cronjobs \nADD ./config/run.sh /tmp/run.sh \nRUN chmod +x /tmp/run.sh \n\n# install webroot files \nADD ./ /var/www/html/ \n\n# install bower dependencies \nRUN npm install -g bower && cd /var/www/html/ && bower install --quiet && npm cache clean --force;\n\n# activate cronjob \nRUN crontab /var/www/html/config/crontab \n\n# run first speedtest \nRUN cd /var/www/html/scripts && ./speedtest.py \n\nEXPOSE 80 \nEXPOSE 443 \nCMD /tmp/run.sh \n\n"
}