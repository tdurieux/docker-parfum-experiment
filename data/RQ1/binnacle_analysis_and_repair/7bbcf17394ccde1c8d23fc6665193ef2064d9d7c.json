{
  "startTime": 1674246208638,
  "endTime": 1674246208957,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 32,
        "lineEnd": 32,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 48
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 5,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 5,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 5,
        "columnEnd": 73
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 27,
        "lineEnd": 27,
        "columnStart": 5,
        "columnEnd": 63
      }
    },
    {
      "rule": "aptGetInstallThenRemoveAptLists",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 5,
        "columnEnd": 73
      }
    }
  ],
  "repairedSmells": [
    {
      "rule": "aptGetUpdatePrecedesInstall",
      "position": {
        "lineStart": 29,
        "lineEnd": 29,
        "columnStart": 5,
        "columnEnd": 97
      }
    }
  ],
  "repairedDockerfile": "################################################################################\n# Dockerfile\n# Software: EMBL-EBI Web Service Clients\n# Website:  https://github.com/ebi-wp/webservice-clients\n# Build:    docker build -t webservice-clients:latest .\n# Run:      docker run --rm -it --entrypoint /bin/bash webservice-clients:latest\n################################################################################\n\nFROM ubuntu:16.04\n\nMAINTAINER EBI, Web Production Team, webprod <webprod@ebi.ac.uk>\nLABEL    base_image=\"ebi-wp:EMBL-EBI Web Service Clients\" \\\n    software=\"ebi-webservice-clients\" \\\n    container=\"ebiwp/webservice-clients\" \\\n    about.summary=\"A collection of Web Service Clients to consume EBI's tools\" \\\n    about.home=\"https://www.ebi.ac.uk/services\" \\\n    about.documentation=\"https://www.ebi.ac.uk/Tools/webservices\" \\\n    software.version=\"1.0.0\" \\\n    version=\"1\" \\\n    about.copyright=\"Copyright EMBL-EBI 2019\" \\\n    about.license=\"Apache-2.0\" \\\n    about.license_file=\"/usr/src/doc/LICENSE\" \\\n    about.tags=\"ebi\" \\\n    extra.identifier.biotools=\"ebi_tools\"\n\n# Dependencies\nRUN apt-get update --fix-missing \\\n  && apt-get install --no-install-recommends -y build-essential curl unzip make gcc g++ && rm -rf /var/lib/apt/lists/*;\nRUN apt-get -y upgrade \\\n  && apt-get install --no-install-recommends -y perl libcrypt-ssleay-perl python3-pip default-jdk && rm -rf /var/lib/apt/lists/*;\n\n# Perl Dependencies\nRUN curl -f -L https://cpanmin.us | perl - App::cpanminus \\\n && cpanm Bundle::LWP REST::Client XML::Simple YAML::Syck\n\n# Python Dependencies\nRUN ln -s /usr/bin/pip3 /usr/bin/pip \\\n && ln -s /usr/bin/python3 /usr/bin/python \\\n && pip install --no-cache-dir --upgrade pip xmltramp2 requests\n\n# Copying clients\nRUN mkdir -p /dist\nCOPY python/*.py /dist/\nCOPY perl/*.pl /dist/\nCOPY java/*.jar /dist/\n\n# Adding EBI Search clients\nCOPY python/requests/ebeye_requests.py /dist/ebisearch.py\nCOPY perl/lwp/ebeye_lwp.pl /dist/ebisearch.pl\nCOPY deprecated/java/jar/jaxrs-client-*-jar-with-dependencies.jar /dist/ebisearch.jar\nCOPY deprecated/java/jar/jaxrs-client-*-dependencies-libs.zip /dist/ebiws-lib.zip\nWORKDIR /dist\nRUN unzip ebiws-lib.zip\nRUN chmod +x *.py *.pl *.jar\n\nENV PATH=\"/dist:${PATH}\"\n"
}