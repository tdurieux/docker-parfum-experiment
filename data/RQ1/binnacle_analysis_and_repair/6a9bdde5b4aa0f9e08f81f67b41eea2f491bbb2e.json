{
  "startTime": 1674235645817,
  "endTime": 1674235645899,
  "originalSmells": [
    {
      "rule": "aptGetInstallUseNoRec",
      "position": {
        "lineStart": 4,
        "lineEnd": 4,
        "columnStart": 3,
        "columnEnd": 34
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM golang:1.5.1 \nMAINTAINER jiangd@vmware.com \n\nRUN apt-get update \\\n&& apt-get install --no-install-recommends -y libldap2-dev \\\n&& rm -r /var/lib/apt/lists/*\n\nCOPY . /go/src/github.com/vmware/harbor \n#golang.org is blocked in China \nCOPY ./vendor/golang.org /go/src/golang.org \nWORKDIR /go/src/github.com/vmware/harbor/ui \n\nENV GO15VENDOREXPERIMENT 1 \nRUN go get -d github.com/docker/distribution \\  \n&& go get -d github.com/docker/libtrust \\  \n&& go get -d github.com/go-sql-driver/mysql \\  \n&& go build -v -a -o /go/bin/harbor_ui \n\nENV MYSQL_USR root \\  \nMYSQL_PWD root \\  \nREGISTRY_URL localhost:5000 \nCOPY views /go/bin/views \nCOPY static /go/bin/static \nCOPY favicon.ico /go/bin/favicon.ico \n\nRUN chmod u+x /go/bin/harbor_ui \\  \n&& sed -i 's/TLS_CACERT/#TLS_CAERT/g' /etc/ldap/ldap.conf \\  \n&& sed -i '$a\\TLS_REQCERT allow' /etc/ldap/ldap.conf \n\nWORKDIR /go/bin/ \nENTRYPOINT [\"/go/bin/harbor_ui\"] \n\nEXPOSE 80 \n\n"
}