{
  "startTime": 1674243123318,
  "endTime": 1674243123478,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 15,
        "lineEnd": 15,
        "columnStart": 5,
        "columnEnd": 110
      }
    },
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 5,
        "columnEnd": 110
      }
    },
    {
      "rule": "npmCacheCleanAfterInstall",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 5,
        "columnEnd": 16
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# Copyright 2017 Ronald E. Oribio R.\n#\n# This file is part of alpine-sqs which is released under the GPLv3.\n# See https://github.com/roribio/alpine-sqs for details.\n\nFROM appropriate/curl as Builder\n\nARG jq_version=1.5\n\nWORKDIR /tmp/sqs-alpine\n\nRUN \\\n  apk add --update git \\\n  && rm -rf /var/cache/apk/* \\\n  && git clone --verbose --depth=1 https://github.com/kobim/sqs-insight.git \\\n  && curl -f -L -o /usr/local/bin/jq https://github.com/stedolan/jq/releases/download/jq-${jq_version}/jq-linux64 \\\n  && chmod +x /usr/local/bin/jq \\\n  && export elasticmq_version=$(curl -sL https://api.github.com/repos/adamw/elasticmq/releases/latest | jq -r .tag_name) \\\n  && elasticmq_version=${elasticmq_version//v} \\\n  && curl -f -LO https://s3-eu-west-1.amazonaws.com/softwaremill-public/elasticmq-server-${elasticmq_version}.jar \\\n  && mv elasticmq-server-${elasticmq_version}.jar elasticmq-server.jar\n\nFROM anapsix/alpine-java:8\nLABEL maintainer=\"Ronald E. Oribio R. https://github.com/roribio\"\n\nCOPY --from=Builder /tmp/sqs-alpine/ /opt/\nCOPY etc/ /etc/\nCOPY opt/ /opt/\n\nRUN \\\n  apk add --update \\\n    nodejs \\\n    nodejs-npm \\\n    supervisor \\\n  && rm -rf \\\n    /var/cache/apk/* \\\n    /etc/supervisord.conf \\\n  && ln -s /etc/supervisor/supervisord.conf /etc/supervisord.conf \\\n  && cd /opt/sqs-insight \\\n  && npm install && npm cache clean --force;\n\nEXPOSE 9324 9325\n\nENTRYPOINT [\"/usr/bin/supervisord\", \"-n\", \"-c\", \"/etc/supervisor/supervisord.conf\"]\n\n"
}