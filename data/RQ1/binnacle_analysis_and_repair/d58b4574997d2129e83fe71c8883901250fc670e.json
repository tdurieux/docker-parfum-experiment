{
  "startTime": 1674242415816,
  "endTime": 1674242415894,
  "originalSmells": [
    {
      "rule": "curlUseFlagF",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 110
      }
    },
    {
      "rule": "curlUseHttpsUrl",
      "position": {
        "lineStart": 12,
        "lineEnd": 12,
        "columnStart": 4,
        "columnEnd": 110
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 5,
        "lineEnd": 5,
        "columnStart": 4,
        "columnEnd": 65
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:centos6\nMAINTAINER bdelacretaz@apache.org\n\nRUN yum clean all\nRUN yum -y update\nRUN yum install -y java-1.7.0-openjdk-devel.x86_64 tar subversion && rm -rf /var/cache/yum\n\nADD fsroot /\n\n# Install Maven\nRUN mkdir -p /lib/maven\nWORKDIR /lib/maven\nRUN curl -f https://mirror.switch.ch/mirror/apache/dist/maven/maven-3/3.2.3/binaries/apache-maven-3.2.3-bin.tar.gz | tar zxvf -\nENV PATH $PATH:/lib/maven/apache-maven-3.2.3/bin\nENV JAVA_HOME /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.65.x86_64\n\n# Build any SNAPSHOTs required by our Crankstart file\n# (at a specific svn revision, to be deterministic)\nENV SLING_REV 1628181\n\nWORKDIR /bundles\nRUN svn export -r $SLING_REV https://svn.apache.org/repos/asf/sling/trunk/contrib/launchpad/karaf/org.apache.sling.launchpad.karaf\nWORKDIR /bundles/org.apache.sling.launchpad.karaf\nRUN mvn clean install\n\nWORKDIR /bundles\nRUN svn export -r $SLING_REV https://svn.apache.org/repos/asf/sling/trunk/bundles/jcr/base\nWORKDIR /bundles/base\nRUN mvn clean install\n\nWORKDIR /bundles\nRUN svn export -r $SLING_REV https://svn.apache.org/repos/asf/sling/trunk/bundles/jcr/oak-server\nWORKDIR /bundles/oak-server\nRUN mvn clean install\n\nWORKDIR /bundles/sling-etcd\nRUN mvn clean install\n\n# Create the Sling state during Docker image build\n# (TODO remove Sling id file?)\nRUN /bin/bash /start.sh true\n\n# Run Sling from the state created during image build\nCMD /bin/bash /start.sh false\n"
}