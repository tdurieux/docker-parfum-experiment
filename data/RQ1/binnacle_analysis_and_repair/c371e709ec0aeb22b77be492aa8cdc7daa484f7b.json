{
  "startTime": 1674239809353,
  "endTime": 1674239809433,
  "originalSmells": [
    {
      "rule": "configureShouldUseBuildFlag",
      "position": {
        "lineStart": 20,
        "lineEnd": 20,
        "columnStart": 28,
        "columnEnd": 39
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# for x86_64 platform use 'alpine:v3.4'\nFROM hypriot/rpi-alpine-scratch:v3.4\nMAINTAINER netzfisch\n\n# add respositories and check package availability at https://pkgs.alpinelinux.org/packages\nRUN echo \"http://nl.alpinelinux.org/alpine/v3.4/community\" >> /etc/apk/repositories\n#RUN echo \"@edge http://nl.alpinelinux.org/alpine/edge/testing\" >> /etc/apk/repositories\n\n# install build dependencies, see\n# - http://tvheadend.org/projects/tvheadend/wiki/Building,\n# - https://github.com/gliderlabs/docker-alpine/issues/24 and\n# - http://git.alpinelinux.org/cgit/aports/tree/testing/tvheadend-git/APKBUILD\nRUN apk add --update \\\n    ffmpeg-dev gettext-dev libc-dev linux-headers openssl-dev \\\n    perl g++ cmake bash wget bzip2 git make \\\n    libhdhomerun-dev python \\\n    && rm -rf /var/cache/apk/*\n\n# build tvheadend from master\nRUN git clone https://github.com/tvheadend/tvheadend.git /tmp/tvheadend \\\n    && cd /tmp/tvheadend && ./configure --build=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\\n    && make && make install \\\n    && cd && rm -rf /tmp/*\n\n# remove obselete packages\nRUN apk del \\\n    ffmpeg-dev gettext-dev libc-dev linux-headers openssl-dev \\\n    perl g++ cmake bash wget bzip2 git make\n\n# expose 'config' and 'recordings' directory for persistence\nVOLUME /config /recordings\n\n# expose ports for 'web interface' and 'streaming'\nEXPOSE 9981 9982\n\n# enter with '/tmp/tvheadend/build.linux/tvheadend' if 'make install' skipped\nENTRYPOINT [\"/usr/bin/tvheadend\"]\nCMD [\"--firstrun\", \"-u\", \"root\", \"-g\", \"root\", \"-c\", \"/config\"]\n"
}