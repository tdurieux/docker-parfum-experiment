{
  "startTime": 1674241935455,
  "endTime": 1674241935673,
  "originalSmells": [
    {
      "rule": "wgetUseHttpsUrl",
      "position": {
        "lineStart": 39,
        "lineEnd": 39,
        "columnStart": 4,
        "columnEnd": 100
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 3,
        "lineEnd": 3,
        "columnStart": 7,
        "columnEnd": 34
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 5,
        "lineEnd": 36,
        "columnStart": 4,
        "columnEnd": 12
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 40,
        "lineEnd": 40,
        "columnStart": 4,
        "columnEnd": 78
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "FROM centos:6\n\nRUN set -x \\\n    && yum install epel-release -y && rm -rf /var/cache/yum\n\nRUN yum install -y \\\n    ant \\\n    boost-devel \\\n    bzip2-devel \\\n    cmake \\\n    curl \\\n    expect \\\n    gcc \\\n    gcc-c++ \\\n    git \\\n    gpg \\\n    java-1.8.0-openjdk \\\n    java-1.8.0-openjdk-devel \\\n    libacl-devel \\\n    libcap-devel \\\n    libffi \\\n    libuuid-devel \\\n    lsof \\\n    make \\\n    openssl-devel \\\n    pam-devel \\\n    pango-devel \\\n    R \\\n    rpmdevtools \\\n    rpmsign \\\n    rrdtool \\\n    sudo \\\n    wget \\\n    xml-commons-apis \\\n    zlib-devel \\\n    libuser-devel \\\n    valgrind && rm -rf /var/cache/yum\n\n# update gcc for C++11 support\nRUN wget https://people.centos.org/tru/devtools-2/devtools-2.repo -O /etc/yum.repos.d/devtools-2.repo\nRUN yum install -y devtoolset-2-gcc devtoolset-2-binutils devtoolset-2-gcc-c++ && rm -rf /var/cache/yum\n\n# update environment to use new compiler\nENV PATH=\"/opt/rh/devtoolset-2/root/usr/bin:${PATH}\"\nENV CC=\"/opt/rh/devtoolset-2/root/usr/bin/gcc\"\nENV CXX=\"/opt/rh/devtoolset-2/root/usr/bin/c++\"\nENV CPP=\"/opt/rh/devtoolset-2/root/usr/bin/cpp\"\n\n## run install-boost twice - boost exits 1 even though it has installed good enough for our uses.\n## https://github.com/rstudio/rstudio/blob/master/vagrant/provision-primary-user.sh#L12-L15\nCOPY dependencies/common/install-boost /tmp/\nRUN bash /tmp/install-boost || bash /tmp/install-boost\n\n# install cmake\nCOPY package/linux/install-dependencies /tmp/\nRUN bash /tmp/install-dependencies\n\n# set github login from build argument if defined\nARG GITHUB_LOGIN\nENV RSTUDIO_GITHUB_LOGIN=$GITHUB_LOGIN\n\n# install common dependencies\nENV RSTUDIO_DISABLE_CRASHPAD=1\nRUN mkdir -p /opt/rstudio-tools/dependencies/common\nCOPY dependencies/common/* /opt/rstudio-tools/dependencies/common/\nRUN cd /opt/rstudio-tools/dependencies/common && /bin/bash ./install-common\n\n# create jenkins user, make sudo. try to keep this toward the bottom for less cache busting\nARG JENKINS_GID=999\nARG JENKINS_UID=999\nRUN groupadd -g $JENKINS_GID jenkins && \\\n    useradd -m -d /var/lib/jenkins -u $JENKINS_UID -g jenkins jenkins && \\\n    echo \"jenkins ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers\n"
}