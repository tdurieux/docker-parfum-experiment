{
  "startTime": 1674241021397,
  "endTime": 1674241021873,
  "originalSmells": [
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 23,
        "lineEnd": 23,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 71,
        "lineEnd": 71,
        "columnStart": 4,
        "columnEnd": 57
      }
    },
    {
      "rule": "pipUseNoCacheDir",
      "position": {
        "lineStart": 72,
        "lineEnd": 72,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 8,
        "lineEnd": 8,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 9,
        "lineEnd": 9,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 17,
        "lineEnd": 17,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 19,
        "lineEnd": 19,
        "columnStart": 4,
        "columnEnd": 25
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 22,
        "lineEnd": 22,
        "columnStart": 4,
        "columnEnd": 37
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 25,
        "lineEnd": 25,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 26,
        "lineEnd": 26,
        "columnStart": 4,
        "columnEnd": 26
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 30,
        "lineEnd": 30,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 34,
        "lineEnd": 34,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 38,
        "lineEnd": 38,
        "columnStart": 4,
        "columnEnd": 29
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 42,
        "lineEnd": 42,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 43,
        "lineEnd": 43,
        "columnStart": 4,
        "columnEnd": 35
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 44,
        "lineEnd": 44,
        "columnStart": 4,
        "columnEnd": 36
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 45,
        "lineEnd": 45,
        "columnStart": 4,
        "columnEnd": 31
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 46,
        "lineEnd": 46,
        "columnStart": 4,
        "columnEnd": 30
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 50,
        "lineEnd": 50,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 51,
        "lineEnd": 51,
        "columnStart": 4,
        "columnEnd": 24
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 55,
        "lineEnd": 55,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 56,
        "lineEnd": 56,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 66,
        "lineEnd": 66,
        "columnStart": 4,
        "columnEnd": 39
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 67,
        "lineEnd": 67,
        "columnStart": 4,
        "columnEnd": 42
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 68,
        "lineEnd": 68,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 69,
        "lineEnd": 69,
        "columnStart": 4,
        "columnEnd": 40
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 74,
        "lineEnd": 74,
        "columnStart": 4,
        "columnEnd": 27
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 76,
        "lineEnd": 76,
        "columnStart": 4,
        "columnEnd": 23
      }
    },
    {
      "rule": "yumInstallRmVarCacheYum",
      "position": {
        "lineStart": 81,
        "lineEnd": 81,
        "columnStart": 26,
        "columnEnd": 45
      }
    }
  ],
  "repairedSmells": [],
  "repairedDockerfile": "# We start with CentOS 7, because it is commonly used in\n# production, and meets the glibc requirements of VFXPlatform 2018\n# (2.17 or lower).\n\nFROM centos:7\n\n# Make GCC 6.3.1 the default compiler, as per VFXPlatform 2018\n\nRUN yum install -y centos-release-scl && rm -rf /var/cache/yum\nRUN yum install -y devtoolset-6 && rm -rf /var/cache/yum\n\n# Install CMake, SCons, and other miscellaneous build tools.\n# We install SCons via `pip install --egg` rather than by\n# `yum install` because this prevents a Cortex build failure\n# caused by SCons picking up the wrong Python version and being\n# unable to find its own modules.\n\nRUN yum install -y epel-release && rm -rf /var/cache/yum\n\nRUN yum install -y cmake3 && rm -rf /var/cache/yum\nRUN ln -s /usr/bin/cmake3 /usr/bin/cmake\n\nRUN yum install -y python2-pip.noarch && rm -rf /var/cache/yum\nRUN pip install --no-cache-dir --egg scons\n\nRUN yum install -y patch && rm -rf /var/cache/yum\nRUN yum install -y doxygen && rm -rf /var/cache/yum\n\n# Install boost dependencies (needed by boost::iostreams)\n\nRUN yum install -y bzip2-devel && rm -rf /var/cache/yum\n\n# Install JPEG dependencies\n\nRUN yum install -y nasm && rm -rf /var/cache/yum\n\n# Install PNG dependencies\n\nRUN yum install -y zlib-devel && rm -rf /var/cache/yum\n\n# Install GLEW dependencies\n\nRUN yum install -y libX11-devel && rm -rf /var/cache/yum\nRUN yum install -y mesa-libGL-devel && rm -rf /var/cache/yum\nRUN yum install -y mesa-libGLU-devel && rm -rf /var/cache/yum\nRUN yum install -y libXmu-devel && rm -rf /var/cache/yum\nRUN yum install -y libXi-devel && rm -rf /var/cache/yum\n\n# Install OSL dependencies\n\nRUN yum install -y flex && rm -rf /var/cache/yum\nRUN yum install -y bison && rm -rf /var/cache/yum\n\n# Install Qt dependencies\n\nRUN yum install -y xkeyboard-config.noarch && rm -rf /var/cache/yum\nRUN yum install -y fontconfig-devel.x86_64 && rm -rf /var/cache/yum\n\n# Install packages needed to generate the\n# Gaffer documentation. Note that we are\n# limited to Sphinx 1.4 because recommonmark\n# is incompatible with later versions. And\n# we are limited to docutils 0.12 because\n# Sphinx 1.4 is incompatible with later\n# versions.\n\nRUN yum install -y xorg-x11-server-Xvfb && rm -rf /var/cache/yum\nRUN yum install -y mesa-dri-drivers.x86_64 && rm -rf /var/cache/yum\nRUN yum install -y metacity && rm -rf /var/cache/yum\nRUN yum install -y gnome-themes-standard && rm -rf /var/cache/yum\n\nRUN pip install --no-cache-dir sphinx==1.4 sphinx_rtd_theme recommonmark\nRUN pip install --no-cache-dir docutils==0.12\n\nRUN yum install -y inkscape && rm -rf /var/cache/yum\n\nRUN yum install -y wget && rm -rf /var/cache/yum\n\n# CUDA 10.1\n\nRUN wget -O cuda.rpm https://developer.nvidia.com/compute/cuda/10.1/Prod/local_installers/cuda-repo-rhel7-10-1-local-10.1.105-418.39-1.0-1.x86_64.rpm --progress=dot:mega \\\n    && rpm -i cuda.rpm && yum install -y cuda && rm cuda.rpm && rm -rf /var/cache/yum\n\n# Copy over build script and set an entry point that\n# will use the compiler we want.\n\nCOPY build.py ./\n\nENTRYPOINT [ \"scl\", \"enable\", \"devtoolset-6\", \"--\", \"bash\" ]"
}