FROM busybox:latest
LABEL org.nrg.commands="[{\"inputs\": [{\"required\": false, \"type\": \"string\", \"name\": \"file-path\"}, {\"type\": \"string\", \"name\": \"whatever\", \"description\": \"an input that will get filled by something, doesn't matter what\"}], \"name\": \"hello-world\", \"command-line\": \"echo hello world\", \"xnat\": [{\"output-handlers\": [], \"derived-inputs\": [{\"matcher\": \"@.scan-type in [^wrapper:\$.external-inputs[?(@.name == 'T1-scantype')].value^]\", \"derived-from-wrapper-input\": \"session\", \"type\": \"Scan\", \"name\": \"scan\", \"required\": true}, {\"matcher\": \"@.label == 'DICOM'\", \"derived-from-wrapper-input\": \"scan\", \"type\": \"Resource\", \"name\": \"dicom\", \"required\": true}, {\"provides-value-for-command-input\": \"whatever\", \"name\": \"scan-id\", \"derived-from-xnat-object-property\": \"id\", \"required\": true, \"derived-from-wrapper-input\": \"scan\", \"type\": \"string\"}], \"name\": \"session-scan-resource\", \"external-inputs\": [{\"required\": true, \"type\": \"Session\", \"name\": \"session\"}, {\"required\": true, \"type\": \"string\", \"name\": \"T1-scantype\", \"default-value\": \"\\\\"SCANTYPE\\\\", \\\\"OTHER_SCANTYPE\\\\"\", \"description\": \"scantype of T1 scan\"}], \"description\": \"run the dummy command with a session, from which we derive a scan and a resource\"}, {\"derived-inputs\": [{\"required\": true, \"derived-from-wrapper-input\": \"a-scan\", \"type\": \"Resource\", \"name\": \"a-resource\", \"description\": \"an input that takes a resource\"}, {\"provides-value-for-command-input\": \"file-path\", \"name\": \"a-file\", \"required\": \"true\", \"derived-from-wrapper-input\": \"a-resource\", \"type\": \"File\", \"description\": \"a file\"}, {\"derived-from-xnat-object-property\": \"path\", \"derived-from-wrapper-input\": \"a-file\", \"type\": \"string\", \"name\": \"a-file-path\", \"provides-value-for-command-input\": \"file-path\"}, {\"provides-value-for-command-input\": \"whatever\", \"name\": \"scan-id\", \"derived-from-xnat-object-property\": \"id\", \"required\": true, \"derived-from-wrapper-input\": \"a-scan\", \"type\": \"string\"}], \"name\": \"scan-resource-file\", \"external-inputs\": [{\"required\": true, \"type\": \"Scan\", \"name\": \"a-scan\", \"description\": \"an input that takes a scan\"}], \"description\": \"run the dummy command with a scan, from which we derive a resource and a file\"}, {\"derived-inputs\": [{\"provides-value-for-command-input\": \"whatever\", \"name\": \"project-label\", \"derived-from-xnat-object-property\": \"label\", \"required\": true, \"derived-from-wrapper-input\": \"project\", \"type\": \"string\"}], \"name\": \"project\", \"external-inputs\": [{\"required\": true, \"type\": \"Project\", \"name\": \"project\", \"description\": \"this input accepts a project\"}], \"description\": \"run the dummy command with a project input\"}, {\"derived-inputs\": [{\"required\": true, \"derived-from-wrapper-input\": \"project\", \"type\": \"Subject\", \"name\": \"subject\", \"description\": \"a subject under the project\"}, {\"provides-value-for-command-input\": \"whatever\", \"name\": \"project-label\", \"derived-from-xnat-object-property\": \"label\", \"required\": true, \"derived-from-wrapper-input\": \"project\", \"type\": \"string\"}], \"name\": \"project-subject\", \"external-inputs\": [{\"required\": true, \"type\": \"Project\", \"name\": \"project\", \"description\": \"this input accepts a project\"}], \"description\": \"run the dummy command with a project input, from which we derive a subject input\"}, {\"derived-inputs\": [{\"derived-from-wrapper-input\": \"session\", \"type\": \"Assessor\", \"name\": \"assessor\", \"required\": true}, {\"provides-value-for-command-input\": \"whatever\", \"name\": \"assessor-label\", \"derived-from-xnat-object-property\": \"label\", \"required\": true, \"derived-from-wrapper-input\": \"assessor\", \"type\": \"string\"}], \"name\": \"session-assessor\", \"external-inputs\": [{\"required\": true, \"type\": \"Session\", \"name\": \"session\"}], \"description\": \"run the dummy command with a session, from which we derive an assessor\"}], \"image\": \"busybox:latest\", \"type\": \"docker\", \"description\": \"a dummy command that does nothing\"}]"
