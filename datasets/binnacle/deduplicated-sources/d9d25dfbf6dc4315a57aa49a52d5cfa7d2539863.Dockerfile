FROM ansibleplaybookbundle/apb-base  
MAINTAINER Ansible Playbook Bundle Community  
  
LABEL "com.redhat.apb.spec"=\  
"IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj\  
IyMjIyMjIyMjIyMjIyMjIyMjCiMgU2hhcmVkIFBhcmFtZXRlcnMKIyMjIyMjIyMjIyMjIyMjIyMj\  
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj\  
Cl9wOiAmX3AKICAtIG5hbWU6IGF3c19hY2Nlc3Nfa2V5CiAgICBkZXNjcmlwdGlvbjogYXdzIGFj\  
Y2VzcyBrZXkgdG8gYXV0aGVudGljYXRlIHRvIGF3cyB3aXRoCiAgICB0eXBlOiBzdHJpbmcKICAt\  
IG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICBkZXNjcmlwdGlvbjogYXdzIHNlY3JldCBrZXkgdG8g\  
YXV0aGVudGljYXRlIHRvIGF3cyB3aXRoCiAgICB0eXBlOiBzdHJpbmcKICAtIG5hbWU6IGJhY2t1\  
cF9yZXRlbnRpb24KICAgIGRlc2NyaXB0aW9uOiBiYWNrdXAgcmV0ZW50aW9uIHBlcmlvZAogICAg\  
dHlwZTogaW50CiAgICBkZWZhdWx0OiAwCiAgLSBuYW1lOiBkYl9lbmdpbmUKICAgIGRlc2NyaXB0\  
aW9uOiBkYXRhYmFzZSBlbmdpbmUKICAgIHR5cGU6IHN0cmluZwogICAgZGVmYXVsdDogcG9zdGdy\  
ZXMKICAtIG5hbWU6IGRiX25hbWUKICAgIGRlc2NyaXB0aW9uOiBuYW1lIG9mIHRoZSBkYXRhYmFz\  
ZSB0byBjcmVhdGUKICAgIHR5cGU6IHN0cmluZwogICAgZGVmYXVsdDogdGVzdGRiCiAgLSBuYW1l\  
OiBkYl9wYXNzd29yZAogICAgZGVzY3JpcHRpb246IG1hc3RlciBwYXNzd29yZAogICAgdHlwZTog\  
c3RyaW5nCiAgICBkZWZhdWx0OiBkYnBhc3N3ZAogIC0gbmFtZTogZGJfc2l6ZQogICAgZGVzY3Jp\  
cHRpb246IHNpemUgb2YgdGhlIGRiIGluIGdiCiAgICB0eXBlOiBpbnQKICAgIGRlZmF1bHQ6IDEw\  
CiAgLSBuYW1lOiBkYl91c2VybmFtZQogICAgZGVzY3JpcHRpb246IG1hc3RlciBkYiB1c2VybmFt\  
ZQogICAgdHlwZTogc3RyaW5nCiAgICBkZWZhdWx0OiBkYnVzZXIKICAtIG5hbWU6IGVuZ2luZV92\  
ZXJzaW9uCiAgICBkZXNjcmlwdGlvbjogZGIgZW5naW5lIHZlcnNpb24KICAgIHR5cGU6IHN0cmlu\  
ZwogICAgZGVmYXVsdDogOS42LjEKICAtIG5hbWU6IGluc3RhbmNlX3R5cGUKICAgIGRlc2NyaXB0\  
aW9uOiBhd3MgaW5zdGFuY2UgdHlwZQogICAgdHlwZTogc3RyaW5nCiAgICBkZWZhdWx0OiBkYi5t\  
My5tZWRpdW0KICAtIG5hbWU6IHBvcnQKICAgIGRlc2NyaXB0aW9uOiBwb3J0IHRoZSBkYXRhYmFz\  
ZSB3aWxsIGxpc3RlbiBvbgogICAgdHlwZTogaW50CiAgICBkZWZhdWx0OiA1NDMyCiAgLSBuYW1l\  
OiByZWdpb24KICAgIGRlc2NyaXB0aW9uOiBhd3MgcmVnaW9uCiAgICB0eXBlOiBzdHJpbmcKICAt\  
IG5hbWU6IHN1Ym5ldAogICAgZGVzY3JpcHRpb246IHZwYyBzdWJuZXQgdG8gZGVwbG95IGluc3Rh\  
bmNlIG9uCiAgICB0eXBlOiBzdHJpbmcKICAtIG5hbWU6IHZwY19zZWN1cml0eV9ncm91cHMKICAg\  
IGRlc2NyaXB0aW9uOiB2cGMgc2VjdXJpdHkgZ3JvdXBzIHRvIGFzc2lnbiB0byB0aGUgaW5zdGFu\  
Y2UKICAgIHR5cGU6IHN0cmluZwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj\  
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCnZlcnNpb246IDEuMApu\  
YW1lOiByZHMtcG9zdGdyZXMtYXBiCmRlc2NyaXB0aW9uOiBNYW5hZ2VkIHJlbGF0aW9uYWwgZGF0\  
YWJhc2Ugc2VydmljZSB3aXRoIGEgY2hvaWNlIG9mIHNpeCBwb3B1bGFyIGRhdGFiYXNlIGVuZ2lu\  
ZXMuICBTZXQgdXAsIG9wZXJhdGUsIGFuZCBzY2FsZSBhIHJlbGF0aW9uYWwgZGF0YWJhc2UgaW4g\  
dGhlIGNsb3VkIHdpdGgganVzdCBhIGZldyBjbGlja3MuCnRhZ3M6CiAgLSBhbWF6b24KICAtIGRh\  
dGFiYXNlCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBkaXNwbGF5\  
TmFtZTogIkFtYXpvbiBSRFMgLSBQb3N0Z3JlU1FMIChBUEIpIgogIGxvbmdEZXNjcmlwdGlvbjog\  
IkFtYXpvbiBSZWxhdGlvbmFsIERhdGFiYXNlIFNlcnZpY2UgKEFtYXpvbiBSRFMpIG1ha2VzIGl0\  
IGVhc3kgdG8gc2V0IHVwLCBvcGVyYXRlLCBhbmQgc2NhbGUgYSByZWxhdGlvbmFsIGRhdGFiYXNl\  
IGluIHRoZSBjbG91ZC4gSXQgcHJvdmlkZXMgY29zdC1lZmZpY2llbnQgYW5kIHJlc2l6YWJsZSBj\  
YXBhY2l0eSB3aGlsZSBtYW5hZ2luZyB0aW1lLWNvbnN1bWluZyBkYXRhYmFzZSBhZG1pbmlzdHJh\  
dGlvbiB0YXNrcywgZnJlZWluZyB5b3UgdXAgdG8gZm9jdXMgb24geW91ciBhcHBsaWNhdGlvbnMg\  
YW5kIGJ1c2luZXNzLiBBbWF6b24gUkRTIHByb3ZpZGVzIHlvdSBzaXggZmFtaWxpYXIgZGF0YWJh\  
c2UgZW5naW5lcyB0byBjaG9vc2UgZnJvbSwgaW5jbHVkaW5nIEFtYXpvbiBBdXJvcmEsIFBvc3Rn\  
cmVTUUwsIE15U1FMLCBNYXJpYURCLCBPcmFjbGUsIGFuZCBNaWNyb3NvZnQgU1FMIFNlcnZlci4i\  
CiAgaW1hZ2VVcmw6ICJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vZnVzb3IvMjAxN2RlbW8vRGF0\  
YWJhc2VfQW1hem9uUkRTX1Bvc3RncmVTUUxpbnN0YW5jZS5wbmciCiAgZG9jdW1lbnRhdGlvblVy\  
bDogImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vcmRzLyIKICBkZXBlbmRlbmNpZXM6IFtdCiAgcHJv\  
dmlkZXJEaXNwbGF5TmFtZTogIkFtYXpvbiIKcGxhbnM6CiAgLSBuYW1lOiBkZWZhdWx0CiAgICBk\  
ZXNjcmlwdGlvbjogUkRTIFBvc3RncmVzcWwgZGVwbG95bWVudCB0byBBV1MKICAgIGZyZWU6IHRy\  
dWUKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogRGVmYXVsdAogICAgICBsb25nRGVz\  
Y3JpcHRpb246IFRoaXMgcGxhbiBwcm92aWRlcyBhbiBSRFMgUG9zdGdyZXNxbCBkZXBsb3ltZW50\  
IHRvIEFtYXpvbiBXZWIgU3RvcmFnZQogICAgICBjb3N0OiAkMC4wMAogICAgcGFyYW1ldGVyczog\  
Kl9wCg=="  
COPY roles /opt/ansible/roles  
COPY playbooks /opt/apb/actions  
RUN chmod -R g=u /opt/{ansible,apb}  
  
RUN yum -y install python-boto postgresql && yum clean all  
  
USER apb  

